{"items":[{"tags":["java","rx-java","reactive","rx-java3"],"comments":[{"owner":{"account_id":1494993,"reputation":6603,"user_id":1401164,"accept_rate":67,"display_name":"Gustavo Pagani"},"score":0,"creation_date":1691174813,"post_id":76838452,"comment_id":135461505,"body_markdown":"Does this answer your question? [RxJava - Using Single.Error / Observable.error vs throwing exception](https://stackoverflow.com/questions/61659591/rxjava-using-single-error-observable-error-vs-throwing-exception)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/61659591/rxjava-using-single-error-observable-error-vs-throwing-exception\">RxJava - Using Single.Error / Observable.error vs throwing exception</a>"},{"owner":{"account_id":7161069,"reputation":1330,"user_id":5471822,"accept_rate":75,"display_name":"Daniil"},"score":0,"creation_date":1693411802,"post_id":76838452,"comment_id":135758331,"body_markdown":"If you use Single.error(new Exception) the exception will never be raised, because you never subscribe ot the result of methodTwo. In the second case the test with fail with the thrown exception, because it&#39;s not wrapped into a Single","body":"If you use Single.error(new Exception) the exception will never be raised, because you never subscribe ot the result of methodTwo. In the second case the test with fail with the thrown exception, because it&#39;s not wrapped into a Single"}],"owner":{"account_id":29162078,"reputation":1,"user_id":22340598,"display_name":"rangarok"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691174572,"creation_date":1691174383,"question_id":76838452,"body_markdown":"I am writing an unit test for methodOne and am trying to simulate an exception scenario.\r\n\r\n\r\n```\r\n Single&lt;String&gt; methodOne() {\r\n     methodTwo();\r\n     return Single.just(&quot;Hello&quot;);\r\n}\r\n\r\nSingle&lt;String&gt; methodTwo() {\r\n//some network calls\r\nreturn Single.just(&quot;World&quot;);\r\n}\r\n```\r\n\r\nI see that there are two ways to do this  \r\n`when(test.methodTwo()).thenReturn(Single.error(new BadRequestException(&quot;bad request&quot;));`\r\n\r\n`when(test.methodTwo()).thenThrow(new BadRequestException(&quot;bad request&quot;));`\r\n\r\nWhat is the difference between the two?\r\n\r\nTrying to understand the difference between the above","title":"rxjava: thenReturn Single.error vs thenThrow Exception","body":"<p>I am writing an unit test for methodOne and am trying to simulate an exception scenario.</p>\n<pre><code> Single&lt;String&gt; methodOne() {\n     methodTwo();\n     return Single.just(&quot;Hello&quot;);\n}\n\nSingle&lt;String&gt; methodTwo() {\n//some network calls\nreturn Single.just(&quot;World&quot;);\n}\n</code></pre>\n<p>I see that there are two ways to do this<br />\n<code>when(test.methodTwo()).thenReturn(Single.error(new BadRequestException(&quot;bad request&quot;));</code></p>\n<p><code>when(test.methodTwo()).thenThrow(new BadRequestException(&quot;bad request&quot;));</code></p>\n<p>What is the difference between the two?</p>\n<p>Trying to understand the difference between the above</p>\n"},{"tags":["java","android","android-fragments","nullpointerexception","android-recyclerview"],"comments":[{"owner":{"account_id":9740669,"reputation":222,"user_id":7222377,"display_name":"astrade"},"score":0,"creation_date":1501092139,"post_id":45334326,"comment_id":77630774,"body_markdown":"Try some of the other methods for retrieving the activity, like maybe `getParentActivity()`. Based on the error your getActivity() is null and probably not the right method to call in this case.","body":"Try some of the other methods for retrieving the activity, like maybe <code>getParentActivity()</code>. Based on the error your getActivity() is null and probably not the right method to call in this case."},{"owner":{"account_id":10357623,"reputation":769,"user_id":7639018,"accept_rate":62,"display_name":"ARR.s"},"score":0,"creation_date":1501092224,"post_id":45334326,"comment_id":77630824,"body_markdown":"sorry my english is not good ,I do not understand what you&#39;re saying","body":"sorry my english is not good ,I do not understand what you&#39;re saying"}],"answers":[{"tags":[],"owner":{"account_id":7593513,"reputation":400,"user_id":5763301,"accept_rate":25,"display_name":"Tavinder Singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1501092259,"creation_date":1501092259,"answer_id":45334404,"question_id":45334326,"body_markdown":"just use only this\r\nmLayoutManager = new LinearLayoutManager(getActivity()); and if you are writing this code in activity then use getApplicationContext()","title":"Attempt to invoke virtual method &#39;android.content.Context android.support.v4.app.FragmentActivity.getApplicationContext()&#39; android","body":"<p>just use only this\nmLayoutManager = new LinearLayoutManager(getActivity()); and if you are writing this code in activity then use getApplicationContext()</p>\n"},{"tags":[],"owner":{"account_id":4773592,"reputation":3602,"user_id":3857465,"display_name":"Abhishek Jain"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1691174431,"creation_date":1501092437,"answer_id":45334464,"question_id":45334326,"body_markdown":"`getActivity()` is `null`. You are probably calling this method before your activity is attached to your fragment. \r\n\r\nFrom the [documentation][3]:\r\n\r\n&gt; Caution: If you need a Context object within your Fragment, you can\r\n&gt; call getActivity(). However, be careful to call getActivity() only\r\n&gt; when the fragment is attached to an activity. When the fragment is not\r\n&gt; yet attached, or was detached during the end of its lifecycle,\r\n&gt; getActivity() will return null\r\n\r\nTry and understand the [fragment lifecycle][1] and how it is coupled with [activity lifecycle][2].\r\n\r\n[1]: https://developer.android.com/guide/fragments/lifecycle\r\n[2]: https://developer.android.com/guide/components/activities/activity-lifecycle.html\r\n[3]: https://developer.android.com/guide/fragments/lifecycle","title":"Attempt to invoke virtual method &#39;android.content.Context android.support.v4.app.FragmentActivity.getApplicationContext()&#39; android","body":"<p><code>getActivity()</code> is <code>null</code>. You are probably calling this method before your activity is attached to your fragment.</p>\n<p>From the <a href=\"https://developer.android.com/guide/fragments/lifecycle\" rel=\"nofollow noreferrer\">documentation</a>:</p>\n<blockquote>\n<p>Caution: If you need a Context object within your Fragment, you can\ncall getActivity(). However, be careful to call getActivity() only\nwhen the fragment is attached to an activity. When the fragment is not\nyet attached, or was detached during the end of its lifecycle,\ngetActivity() will return null</p>\n</blockquote>\n<p>Try and understand the <a href=\"https://developer.android.com/guide/fragments/lifecycle\" rel=\"nofollow noreferrer\">fragment lifecycle</a> and how it is coupled with <a href=\"https://developer.android.com/guide/components/activities/activity-lifecycle.html\" rel=\"nofollow noreferrer\">activity lifecycle</a>.</p>\n"}],"owner":{"account_id":10357623,"reputation":769,"user_id":7639018,"accept_rate":62,"display_name":"ARR.s"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12884,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":2,"score":2,"last_activity_date":1691174431,"creation_date":1501091993,"question_id":45334326,"body_markdown":"I have some problem when I set RecyclerViewAdapter\r\n\r\nI get error\r\n\r\n&gt; java.lang.NullPointerException: Attempt to invoke virtual method\r\n&gt; &#39;android.content.Context\r\n&gt; android.support.v4.app.FragmentActivity.getApplicationContext()&#39; on a\r\n&gt; null object reference\r\n\r\nin line `mLayoutManager = new LinearLayoutManager(getActivity().getApplicationContext());`\r\n\r\nHow to fix it\r\n\r\n    for (ProfileFeedListModelTwo.PostBean.PollBean pollBean : pp){\r\n       pollBeanArrayList.add(pollBean);}\r\n    \r\n     adapDetailTopicPoll = new AdapDetailTopicPoll(pollBeanArrayList,getContext());\r\n                mLayoutManager = new LinearLayoutManager(getActivity().getApplicationContext());\r\n                recyclerView.setLayoutManager(mLayoutManager);\r\n                recyclerView.setItemAnimator(new DefaultItemAnimator());\r\n                recyclerView.setAdapter(adapDetailTopicPoll);\r\n\r\n","title":"Attempt to invoke virtual method &#39;android.content.Context android.support.v4.app.FragmentActivity.getApplicationContext()&#39; android","body":"<p>I have some problem when I set RecyclerViewAdapter</p>\n\n<p>I get error</p>\n\n<blockquote>\n  <p>java.lang.NullPointerException: Attempt to invoke virtual method\n  'android.content.Context\n  android.support.v4.app.FragmentActivity.getApplicationContext()' on a\n  null object reference</p>\n</blockquote>\n\n<p>in line <code>mLayoutManager = new LinearLayoutManager(getActivity().getApplicationContext());</code></p>\n\n<p>How to fix it</p>\n\n<pre><code>for (ProfileFeedListModelTwo.PostBean.PollBean pollBean : pp){\n   pollBeanArrayList.add(pollBean);}\n\n adapDetailTopicPoll = new AdapDetailTopicPoll(pollBeanArrayList,getContext());\n            mLayoutManager = new LinearLayoutManager(getActivity().getApplicationContext());\n            recyclerView.setLayoutManager(mLayoutManager);\n            recyclerView.setItemAnimator(new DefaultItemAnimator());\n            recyclerView.setAdapter(adapDetailTopicPoll);\n</code></pre>\n"},{"tags":["java","maven","openapi","maven-plugin"],"answers":[{"tags":[],"owner":{"account_id":1203915,"reputation":10209,"user_id":1174024,"accept_rate":85,"display_name":"Nicholas DiPiazza"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1691174363,"creation_date":1691173100,"answer_id":76838327,"question_id":76830510,"body_markdown":"See https://github.com/springdoc/springdoc-openapi/issues/140\r\n\r\nLook at springdoc-openapi-maven-plugin which can help you generate the yml/json OpenAPI description during integeration test phase in maven.\r\n\r\nhttps://github.com/springdoc/springdoc-openapi-maven-plugin\r\n\r\nNote this does not do it at compile time. But it does it in the integration test phase when you have a running Spring server available. \r\n\r\nDoes not seem to be a Maven plugin for this yet that I can find.\r\n\r\nYou can very simply do this in Java.\r\n\r\nAssuming you have a Jax-RS application: `YourResourceConfigurationWithOpenApi` here is an example of how to write yaml without Spring boot application running:\r\n\r\n```\r\nOpenApiContext ctx = new JaxrsOpenApiContextBuilder()\r\n\t\t\t\t\t.application(new YourResourceConfigurationWithOpenApi())\r\n\t\t\t\t\t.buildContext(true);\r\nOpenAPI oas = ctx.read();\r\nString res = ctx.getOutputYamlMapper().writer(new DefaultPrettyPrinter()).writeValueAsString(oas);\r\nSystem.out.println(res);\r\n```","title":"OpenAPI equivilant of Jersey Jax-RS com.github.kongchen:swagger-maven-plugin?","body":"<p>See <a href=\"https://github.com/springdoc/springdoc-openapi/issues/140\" rel=\"nofollow noreferrer\">https://github.com/springdoc/springdoc-openapi/issues/140</a></p>\n<p>Look at springdoc-openapi-maven-plugin which can help you generate the yml/json OpenAPI description during integeration test phase in maven.</p>\n<p><a href=\"https://github.com/springdoc/springdoc-openapi-maven-plugin\" rel=\"nofollow noreferrer\">https://github.com/springdoc/springdoc-openapi-maven-plugin</a></p>\n<p>Note this does not do it at compile time. But it does it in the integration test phase when you have a running Spring server available.</p>\n<p>Does not seem to be a Maven plugin for this yet that I can find.</p>\n<p>You can very simply do this in Java.</p>\n<p>Assuming you have a Jax-RS application: <code>YourResourceConfigurationWithOpenApi</code> here is an example of how to write yaml without Spring boot application running:</p>\n<pre><code>OpenApiContext ctx = new JaxrsOpenApiContextBuilder()\n                    .application(new YourResourceConfigurationWithOpenApi())\n                    .buildContext(true);\nOpenAPI oas = ctx.read();\nString res = ctx.getOutputYamlMapper().writer(new DefaultPrettyPrinter()).writeValueAsString(oas);\nSystem.out.println(res);\n</code></pre>\n"}],"owner":{"account_id":1203915,"reputation":10209,"user_id":1174024,"accept_rate":85,"display_name":"Nicholas DiPiazza"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76838327,"answer_count":1,"score":0,"last_activity_date":1691174363,"creation_date":1691085112,"question_id":76830510,"body_markdown":"In Swagger, you could use the `swagger-maven-plugin` to build the contract .json at compile time.\r\n\r\n```\r\n&lt;plugin&gt;\r\n\t&lt;groupId&gt;com.github.kongchen&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;swagger-maven-plugin&lt;/artifactId&gt;\r\n\t&lt;version&gt;3.1.3&lt;/version&gt;\r\n\t&lt;configuration&gt;\r\n\t\t&lt;apiSources&gt;\r\n\t\t\t&lt;apiSource&gt;\r\n\t\t\t\t&lt;springmvc&gt;false&lt;/springmvc&gt;\r\n\t\t\t\t&lt;locations&gt;com.example.rest.resources&lt;/locations&gt;\r\n\t\t\t\t&lt;schemes&gt;https&lt;/schemes&gt;\r\n\t\t\t\t&lt;info&gt;\r\n\t\t\t\t\t&lt;title&gt;project Service&lt;/title&gt;\r\n\t\t\t\t\t&lt;version&gt;v2&lt;/version&gt;\r\n\t\t\t\t\t&lt;description&gt;Description here.&lt;/description&gt;\r\n\t\t\t\t\t&lt;contact&gt;\r\n\t\t\t\t\t\t&lt;email&gt;test@example.com&lt;/email&gt;\r\n\t\t\t\t\t\t&lt;name&gt;project Service&lt;/name&gt;\r\n\t\t\t\t\t&lt;/contact&gt;\r\n\t\t\t\t&lt;/info&gt;\r\n\t\t\t\t&lt;outputPath&gt;${basedir}/target/generated-resources/document.html&lt;/outputPath&gt;\r\n\t\t\t\t&lt;swaggerDirectory&gt;${basedir}/target/generated-resources&lt;/swaggerDirectory&gt;\r\n\t\t\t&lt;/apiSource&gt;\r\n\t\t&lt;/apiSources&gt;\r\n\t&lt;/configuration&gt;\r\n\t&lt;executions&gt;\r\n\t\t&lt;execution&gt;\r\n\t\t\t&lt;phase&gt;compile&lt;/phase&gt;\r\n\t\t\t&lt;goals&gt;\r\n\t\t\t\t&lt;goal&gt;generate&lt;/goal&gt;\r\n\t\t\t&lt;/goals&gt;\r\n\t\t&lt;/execution&gt;\r\n\t&lt;/executions&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\nIs there an equivalent way to Given a Jax-RS maven project, use a plugin create an OpenAPI client at maven build time using the current project&#39;s java source to generate a stubs?\r\n\r\nI found a project out there that uses the integration-test phase to actually start the app using spring test runner then uses the http endpoint to build the contract. \r\n\r\nI guess it works but it&#39;s not very convenient. The swagger one was way better it ran statically at compile time. ","title":"OpenAPI equivilant of Jersey Jax-RS com.github.kongchen:swagger-maven-plugin?","body":"<p>In Swagger, you could use the <code>swagger-maven-plugin</code> to build the contract .json at compile time.</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;com.github.kongchen&lt;/groupId&gt;\n    &lt;artifactId&gt;swagger-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.1.3&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;apiSources&gt;\n            &lt;apiSource&gt;\n                &lt;springmvc&gt;false&lt;/springmvc&gt;\n                &lt;locations&gt;com.example.rest.resources&lt;/locations&gt;\n                &lt;schemes&gt;https&lt;/schemes&gt;\n                &lt;info&gt;\n                    &lt;title&gt;project Service&lt;/title&gt;\n                    &lt;version&gt;v2&lt;/version&gt;\n                    &lt;description&gt;Description here.&lt;/description&gt;\n                    &lt;contact&gt;\n                        &lt;email&gt;test@example.com&lt;/email&gt;\n                        &lt;name&gt;project Service&lt;/name&gt;\n                    &lt;/contact&gt;\n                &lt;/info&gt;\n                &lt;outputPath&gt;${basedir}/target/generated-resources/document.html&lt;/outputPath&gt;\n                &lt;swaggerDirectory&gt;${basedir}/target/generated-resources&lt;/swaggerDirectory&gt;\n            &lt;/apiSource&gt;\n        &lt;/apiSources&gt;\n    &lt;/configuration&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;phase&gt;compile&lt;/phase&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;generate&lt;/goal&gt;\n            &lt;/goals&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>Is there an equivalent way to Given a Jax-RS maven project, use a plugin create an OpenAPI client at maven build time using the current project's java source to generate a stubs?</p>\n<p>I found a project out there that uses the integration-test phase to actually start the app using spring test runner then uses the http endpoint to build the contract.</p>\n<p>I guess it works but it's not very convenient. The swagger one was way better it ran statically at compile time.</p>\n"},{"tags":["java","postgresql","hibernate","postgis","quarkus"],"answers":[{"tags":[],"owner":{"account_id":450459,"reputation":817,"user_id":845785,"accept_rate":42,"display_name":"Luciano Borges"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1691172589,"creation_date":1691172589,"answer_id":76838276,"question_id":76835336,"body_markdown":"I solved the problem by changing the package where I get the Geometry objects from **net.postgis.jdbc.geometry.*** to **org.locationtech.jts.geom.*** and small adustments in the code:\r\n\r\n\r\n    private static Geometry createPGGeometry(double[][] coordinates) {\r\n    \r\n        GeometryFactory factory = new GeometryFactory();\r\n    \r\n        Point[] points = new Point[coordinates.length];\r\n        for (int i = 0; i &lt; coordinates.length; i++) {\r\n            if (coordinates[i].length != 2) {\r\n                throw new IllegalArgumentException(&quot;Invalid coordinate format: &quot; + coordinates[i]);\r\n            }\r\n            points[i] = factory.createPoint(new Coordinate(coordinates[i][1], coordinates[i][0]));\r\n        }\r\n    \r\n        return factory.createMultiPoint(points);\r\n    }\r\n\r\n\r\n","title":"How to setup Quarkus to work with Postgis?","body":"<p>I solved the problem by changing the package where I get the Geometry objects from <strong>net.postgis.jdbc.geometry.</strong>* to <strong>org.locationtech.jts.geom.</strong>* and small adustments in the code:</p>\n<pre><code>private static Geometry createPGGeometry(double[][] coordinates) {\n\n    GeometryFactory factory = new GeometryFactory();\n\n    Point[] points = new Point[coordinates.length];\n    for (int i = 0; i &lt; coordinates.length; i++) {\n        if (coordinates[i].length != 2) {\n            throw new IllegalArgumentException(&quot;Invalid coordinate format: &quot; + coordinates[i]);\n        }\n        points[i] = factory.createPoint(new Coordinate(coordinates[i][1], coordinates[i][0]));\n    }\n\n    return factory.createMultiPoint(points);\n}\n</code></pre>\n"}],"owner":{"account_id":450459,"reputation":817,"user_id":845785,"accept_rate":42,"display_name":"Luciano Borges"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":138,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1691172589,"creation_date":1691147119,"question_id":76835336,"body_markdown":"I am trying to run a simple example with Postgis but I am getting the error:\r\n\r\n`Caused by: java.lang.NoSuchMethodError: &#39;void org.hibernate.dialect.PostgreSQL81Dialect.registerColumnType(int, java.lang.String)&#39;\r\n`\r\n\r\nI know that the Dev Service rise a PostgreSQL 14.8.\r\n\r\nMy **pom.xml** have these dependencies:\r\n\r\n ```\r\n        ...\r\n       &lt;dependency&gt;\r\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n            &lt;artifactId&gt;quarkus-hibernate-orm-panache&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hibernate-spatial&lt;/artifactId&gt;\r\n            &lt;version&gt;5.5.5.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n            &lt;artifactId&gt;quarkus-jdbc-postgresql&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;net.postgis&lt;/groupId&gt;\r\n            &lt;artifactId&gt;postgis-jdbc&lt;/artifactId&gt;\r\n            &lt;version&gt;2021.1.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        ...\r\n```\r\n\r\nAnd in my **application.properties**, I have the property:\r\n\r\n`quarkus.hibernate-orm.dialect=org.hibernate.spatial.dialect.postgis.PostgisDialect`\r\n\r\nHow can I solve this problem?\r\n\r\nWhile I can&#39;t solve it natively (quarkus dev services + Postgis), I&#39;m trying the following solution:\r\n\r\nDownload the Postgis docker image (https://hub.docker.com/r/postgis/postgis) and create a database (test) and configured as below:\r\n\r\n```\r\n%dev.quarkus.datasource.db-kind=postgresql\r\n%dev.quarkus.datasource.username=postgres\r\n%dev.quarkus.datasource.password=mysecretpassword\r\n%dev.quarkus.datasource.jdbc.url=jdbc:postgresql://localhost:5432/test\r\n%dev.quarkus.hibernate-orm.database.generation=drop-and-create\r\n\r\nquarkus.hibernate-orm.dialect=org.hibernate.dialect.PostgreSQLDialect\r\n```\r\n\r\nMy class is something like the code below:\r\n\r\n```java\r\n@Entity\r\npublic class Route implements Serializable {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.UUID)\r\n    private UUID id;\r\n\r\n    @Column(nullable = false)\r\n    private String description;\r\n\r\n    @JsonIgnore\r\n    @Column(columnDefinition = &quot;Geometry&quot;)\r\n    private PGgeometry coordinates;\r\n    ...\r\n   } \r\n```\r\n\r\nI am trying to send this payload:\r\n\r\n```json\r\n{\r\n    &quot;description&quot;: &quot;Route 66&quot;,\r\n    &quot;coordinates&quot;: [\r\n    [0.0, 0.0],\r\n    [1.0, 0.0],\r\n    [1.0, 1.0],\r\n    [0.0, 1.0],\r\n    [0.0, 0.0]\r\n  ]\r\n}\r\n```\r\n\r\nThen I created a RouteDTO like:\r\n\r\n```java\r\npublic class RouteDTO {\r\n    public String description;\r\n    public double[][] coordinates;\r\n}\r\n```\r\nand my RouteResource is:\r\n\r\n```java\r\n@Path(&quot;/routes&quot;)\r\npublic class RouteResource {\r\n\r\n    @Inject\r\n    RouteRepository repository;\r\n\r\n    private static PGgeometry createPGGeometry(double[][] coordinates) {\r\n        Point[] points = new Point[coordinates.length];\r\n        for (int i = 0; i &lt; coordinates.length; i++) {\r\n            if (coordinates[i].length != 2) {\r\n                throw new IllegalArgumentException(&quot;Invalid coordinate format: &quot; + coordinates[i]);\r\n            }\r\n            points[i] = new Point(coordinates[i][0], coordinates[i][1]);\r\n        }\r\n        LinearRing outerRing = new LinearRing(points);\r\n        return new PGgeometry(outerRing);\r\n    }\r\n\r\n    @POST\r\n    @Consumes(MediaType.APPLICATION_JSON)\r\n    public Response create(RouteDTO routeDTO) {\r\n        Route route = new Route(routeDTO.description, createPGGeometry(routeDTO.coordinates));\r\n        repository.persist(route);\r\n        return Response.created(URI.create(&quot;/routes/&quot; + route.getId())).build();\r\n    }\r\n}\r\n```\r\n\r\nWhen I try to call the POST I got the error:\r\n\r\n`Caused by: org.postgresql.util.PSQLException: ERROR: Invalid endian flag value encountered.\r\n`\r\n \r\nThe image docker installed PostgreSQL 15.3 and Postgis 3.3.4 \r\n\r\nDoes anyone have an idea how to resolve this?\r\n\r\nAlso tried:\r\n- Docker image postgis/postgis:14-3.3 that install PostgreSQL 14.8 and Postgis 3.3.4, but I got the same endian error. \r\n- Docker image postgis/postgis:9.6-3.2 that install PostgreSQL 9.6.24 and PostGis 3.2.0, but got the error: Caused by: java.lang.NoSuchMethodError: &#39;void org.hibernate.dialect.PostgreSQL81Dialect.registerColumnType(int, java.lang.String)&#39;","title":"How to setup Quarkus to work with Postgis?","body":"<p>I am trying to run a simple example with Postgis but I am getting the error:</p>\n<p><code>Caused by: java.lang.NoSuchMethodError: 'void org.hibernate.dialect.PostgreSQL81Dialect.registerColumnType(int, java.lang.String)' </code></p>\n<p>I know that the Dev Service rise a PostgreSQL 14.8.</p>\n<p>My <strong>pom.xml</strong> have these dependencies:</p>\n<pre><code>       ...\n      &lt;dependency&gt;\n           &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n           &lt;artifactId&gt;quarkus-hibernate-orm-panache&lt;/artifactId&gt;\n       &lt;/dependency&gt;\n       &lt;dependency&gt;\n           &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n           &lt;artifactId&gt;hibernate-spatial&lt;/artifactId&gt;\n           &lt;version&gt;5.5.5.Final&lt;/version&gt;\n       &lt;/dependency&gt;\n       &lt;dependency&gt;\n           &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n           &lt;artifactId&gt;quarkus-jdbc-postgresql&lt;/artifactId&gt;\n       &lt;/dependency&gt;\n       &lt;dependency&gt;\n           &lt;groupId&gt;net.postgis&lt;/groupId&gt;\n           &lt;artifactId&gt;postgis-jdbc&lt;/artifactId&gt;\n           &lt;version&gt;2021.1.0&lt;/version&gt;\n       &lt;/dependency&gt;\n       ...\n</code></pre>\n<p>And in my <strong>application.properties</strong>, I have the property:</p>\n<p><code>quarkus.hibernate-orm.dialect=org.hibernate.spatial.dialect.postgis.PostgisDialect</code></p>\n<p>How can I solve this problem?</p>\n<p>While I can't solve it natively (quarkus dev services + Postgis), I'm trying the following solution:</p>\n<p>Download the Postgis docker image (<a href=\"https://hub.docker.com/r/postgis/postgis\" rel=\"nofollow noreferrer\">https://hub.docker.com/r/postgis/postgis</a>) and create a database (test) and configured as below:</p>\n<pre><code>%dev.quarkus.datasource.db-kind=postgresql\n%dev.quarkus.datasource.username=postgres\n%dev.quarkus.datasource.password=mysecretpassword\n%dev.quarkus.datasource.jdbc.url=jdbc:postgresql://localhost:5432/test\n%dev.quarkus.hibernate-orm.database.generation=drop-and-create\n\nquarkus.hibernate-orm.dialect=org.hibernate.dialect.PostgreSQLDialect\n</code></pre>\n<p>My class is something like the code below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\npublic class Route implements Serializable {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.UUID)\n    private UUID id;\n\n    @Column(nullable = false)\n    private String description;\n\n    @JsonIgnore\n    @Column(columnDefinition = &quot;Geometry&quot;)\n    private PGgeometry coordinates;\n    ...\n   } \n</code></pre>\n<p>I am trying to send this payload:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;description&quot;: &quot;Route 66&quot;,\n    &quot;coordinates&quot;: [\n    [0.0, 0.0],\n    [1.0, 0.0],\n    [1.0, 1.0],\n    [0.0, 1.0],\n    [0.0, 0.0]\n  ]\n}\n</code></pre>\n<p>Then I created a RouteDTO like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class RouteDTO {\n    public String description;\n    public double[][] coordinates;\n}\n</code></pre>\n<p>and my RouteResource is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Path(&quot;/routes&quot;)\npublic class RouteResource {\n\n    @Inject\n    RouteRepository repository;\n\n    private static PGgeometry createPGGeometry(double[][] coordinates) {\n        Point[] points = new Point[coordinates.length];\n        for (int i = 0; i &lt; coordinates.length; i++) {\n            if (coordinates[i].length != 2) {\n                throw new IllegalArgumentException(&quot;Invalid coordinate format: &quot; + coordinates[i]);\n            }\n            points[i] = new Point(coordinates[i][0], coordinates[i][1]);\n        }\n        LinearRing outerRing = new LinearRing(points);\n        return new PGgeometry(outerRing);\n    }\n\n    @POST\n    @Consumes(MediaType.APPLICATION_JSON)\n    public Response create(RouteDTO routeDTO) {\n        Route route = new Route(routeDTO.description, createPGGeometry(routeDTO.coordinates));\n        repository.persist(route);\n        return Response.created(URI.create(&quot;/routes/&quot; + route.getId())).build();\n    }\n}\n</code></pre>\n<p>When I try to call the POST I got the error:</p>\n<p><code>Caused by: org.postgresql.util.PSQLException: ERROR: Invalid endian flag value encountered. </code></p>\n<p>The image docker installed PostgreSQL 15.3 and Postgis 3.3.4</p>\n<p>Does anyone have an idea how to resolve this?</p>\n<p>Also tried:</p>\n<ul>\n<li>Docker image postgis/postgis:14-3.3 that install PostgreSQL 14.8 and Postgis 3.3.4, but I got the same endian error.</li>\n<li>Docker image postgis/postgis:9.6-3.2 that install PostgreSQL 9.6.24 and PostGis 3.2.0, but got the error: Caused by: java.lang.NoSuchMethodError: 'void org.hibernate.dialect.PostgreSQL81Dialect.registerColumnType(int, java.lang.String)'</li>\n</ul>\n"},{"tags":["java","android","object-detection","yolo","game-automation"],"owner":{"account_id":15726408,"reputation":165,"user_id":11347922,"display_name":"butexa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1691172066,"creation_date":1691160635,"question_id":76837011,"body_markdown":"I need to detect object that aren&#39;t that much complex: pokestops.\r\nSome images of a pokestop:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n[![enter image description here][2]][2]\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\nScreenshot examples: \r\n\r\n[![enter image description here][4]][4]\r\n\r\n[![enter image description here][5]][5]\r\n\r\n[![enter image description here][6]][6]\r\n\r\nIn the past I have worked with template-matching and a little bit with feature detection and homography but sadly none of my previous work helped me so far in detecting this object.\r\n\r\nSnippet of what I&#39;ve tried so far:\r\n\r\n    BRISK detectorAndExtractor = BRISK.create();\r\n    \r\n    \t\tfinal MatOfKeyPoint keyPointsLarge = new MatOfKeyPoint();\r\n    \t\tfinal MatOfKeyPoint keyPointsSmall = new MatOfKeyPoint();\r\n    \r\n    \t\tMat largeImage = Imgcodecs.imread(filename1, Imgcodecs.IMREAD_COLOR);\r\n    \t\tMat smallImage = Imgcodecs.imread(filename2, Imgcodecs.IMREAD_COLOR);\r\n    \r\n    \t\tdetectorAndExtractor.detect(largeImage, keyPointsLarge);\r\n    \t\tdetectorAndExtractor.detect(smallImage, keyPointsSmall);\r\n    \r\n    \t\t//System.out.println(&quot;keyPoints.size() : &quot;+keyPointsLarge.size());\r\n    \t\t//System.out.println(&quot;keyPoints2.size() : &quot;+keyPointsSmall.size());\r\n    \r\n    \t\tMat descriptorsLarge = new Mat();\r\n    \t\tMat descriptorsSmall = new Mat();\r\n    \r\n    \t\tdetectorAndExtractor.compute(largeImage, keyPointsLarge, descriptorsLarge);\r\n    \t\tdetectorAndExtractor.compute(smallImage, keyPointsSmall, descriptorsSmall);\r\n    \r\n    \t\t//System.out.println(&quot;descriptorsA.size() : &quot;+descriptorsLarge.size());\r\n    \t\t//System.out.println(&quot;descriptorsB.size() : &quot;+descriptorsSmall.size());\r\n    \r\n    \t\tMatOfDMatch matches = new MatOfDMatch();\r\n    \r\n    \t\tDescriptorMatcher matcher = DescriptorMatcher.create(DescriptorMatcher.BRUTEFORCE_HAMMINGLUT);\r\n    \t\tmatcher.match(descriptorsLarge, descriptorsSmall, matches);\r\n    \r\n    \t\t//System.out.println(&quot;matches.size() : &quot;+matches.size());\r\n    \r\n    \t\tMatOfDMatch matchesFiltered = new MatOfDMatch();\r\n    \r\n    \t\tList&lt;DMatch&gt; matchesList = matches.toList();\r\n    \t\tList&lt;DMatch&gt; bestMatches= new ArrayList&lt;DMatch&gt;();\r\n    \r\n    \t\tDouble max_dist = 0.0;\r\n    \t\tDouble min_dist = 100.0;\r\n    \r\n    \t\tfor (int i = 0; i &lt; matchesList.size(); i++)\r\n    \t\t{\r\n    \t\t\tDouble dist = (double) matchesList.get(i).distance;\r\n    \r\n    \t\t\tif (dist &lt; min_dist &amp;&amp; dist != 0)\r\n    \t\t\t{\r\n    \t\t\t\tmin_dist = dist;\r\n    \t\t\t}\r\n    \r\n    \t\t\tif (dist &gt; max_dist)\r\n    \t\t\t{\r\n    \t\t\t\tmax_dist = dist;\r\n    \t\t\t}\r\n    \r\n    \t\t}\r\n    \r\n    \t\t//System.out.println(&quot;max_dist : &quot;+max_dist);\r\n    \t\t//System.out.println(&quot;min_dist : &quot;+min_dist);\r\n    \r\n    \t\tif(min_dist &gt; 50 )\r\n    \t\t{\r\n    \t\t\t//System.out.println(&quot;No match found&quot;);\r\n    \t\t\t//System.out.println(&quot;Just return &quot;);\r\n    \t\t\treturn false;\r\n    \t\t}\r\n    \r\n    \t\tdouble threshold = 3 * min_dist;\r\n    \t\tdouble threshold2 = 2 * min_dist;\r\n    \r\n    \t\tif (threshold &gt; 75)\r\n    \t\t{\r\n    \t\t\tthreshold  = 75;\r\n    \t\t}\r\n    \t\telse if (threshold2 &gt;= max_dist)\r\n    \t\t{\r\n    \t\t\tthreshold = min_dist * 1.1;\r\n    \t\t}\r\n    \t\telse if (threshold &gt;= max_dist)\r\n    \t\t{\r\n    \t\t\tthreshold = threshold2 * 1.4;\r\n    \t\t}\r\n    \r\n    \t\t//System.out.println(&quot;Threshold : &quot;+threshold);\r\n    \r\n    \t\tfor (int i = 0; i &lt; matchesList.size(); i++)\r\n    \t\t{\r\n    \t\t\tDouble dist = (double) matchesList.get(i).distance;\r\n    \r\n    \t\t\tif (dist &lt; threshold)\r\n    \t\t\t{\r\n    \t\t\t\tbestMatches.add(matches.toList().get(i));\r\n    \t\t\t\t//System.out.println(String.format(i + &quot; best match added : %s&quot;, dist));\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t\tmatchesFiltered.fromList(bestMatches);\r\n    \r\n    \t\t//System.out.println(&quot;matchesFiltered.size() : &quot; + matchesFiltered.size());\r\n    \r\n    \r\n    \t\tif(matchesFiltered.rows() &gt;= 1) //TODO &gt;= 4\r\n    \t\t{\r\n    \t\t\tSystem.out.println(&quot;match found &quot;+matchesFiltered.rows());\r\n    \t\t\tSystem.out.println(&quot;bestMatches.size: &quot;+bestMatches.size());\r\n    \t\t\tgetMatchingPoints(keyPointsLarge,keyPointsSmall,bestMatches);\r\n    \t\t\treturn true;\r\n    \t\t}\r\n    \t\telse\r\n    \t\t{\r\n    \t\t\treturn false;\r\n    \t\t}\r\n\r\nI didn&#39;t try only Brisk (maybe not the best choice since the object is round), I also tried with SURF following this tutorial: https://docs.opencv.org/3.4/d7/dff/tutorial_feature_homography.html\r\n\r\nbut I get the following exception:\r\n\r\n    Exception in thread &quot;main&quot; CvException [org.opencv.core.CvException: cv::Exception: OpenCV(4.7.0) /tmp/opencv-20230625-23894-1o8sdu5/opencv-4.7.0/modules/calib3d/src/fundam.cpp:385: error: (-28:Unknown error code -28) The input arrays should have at least 4 corresponding point sets to calculate Homography in function &#39;findHomography&#39;\r\n\r\n\r\nA friend was suggesting to maybe try with a YOLO algorithm. I found a few examples but none with a thorough explanation.\r\nWhat would you suggest? Thank you.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/YMMSG.png\r\n  [2]: https://i.stack.imgur.com/pX2bO.png\r\n  [3]: https://i.stack.imgur.com/ICrlm.png\r\n  [4]: https://i.stack.imgur.com/liKLg.jpg\r\n  [5]: https://i.stack.imgur.com/3nzBq.jpg\r\n  [6]: https://i.stack.imgur.com/VEQhK.jpg","title":"openCV - object detection: should I use YOLO? If not, which algorithm would more appropriate for this case scenario?","body":"<p>I need to detect object that aren't that much complex: pokestops.\nSome images of a pokestop:</p>\n<p><a href=\"https://i.stack.imgur.com/YMMSG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YMMSG.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/pX2bO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pX2bO.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/ICrlm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ICrlm.png\" alt=\"enter image description here\" /></a></p>\n<p>Screenshot examples:</p>\n<p><a href=\"https://i.stack.imgur.com/liKLg.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/liKLg.jpg\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/3nzBq.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3nzBq.jpg\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/VEQhK.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VEQhK.jpg\" alt=\"enter image description here\" /></a></p>\n<p>In the past I have worked with template-matching and a little bit with feature detection and homography but sadly none of my previous work helped me so far in detecting this object.</p>\n<p>Snippet of what I've tried so far:</p>\n<pre><code>BRISK detectorAndExtractor = BRISK.create();\n\n        final MatOfKeyPoint keyPointsLarge = new MatOfKeyPoint();\n        final MatOfKeyPoint keyPointsSmall = new MatOfKeyPoint();\n\n        Mat largeImage = Imgcodecs.imread(filename1, Imgcodecs.IMREAD_COLOR);\n        Mat smallImage = Imgcodecs.imread(filename2, Imgcodecs.IMREAD_COLOR);\n\n        detectorAndExtractor.detect(largeImage, keyPointsLarge);\n        detectorAndExtractor.detect(smallImage, keyPointsSmall);\n\n        //System.out.println(&quot;keyPoints.size() : &quot;+keyPointsLarge.size());\n        //System.out.println(&quot;keyPoints2.size() : &quot;+keyPointsSmall.size());\n\n        Mat descriptorsLarge = new Mat();\n        Mat descriptorsSmall = new Mat();\n\n        detectorAndExtractor.compute(largeImage, keyPointsLarge, descriptorsLarge);\n        detectorAndExtractor.compute(smallImage, keyPointsSmall, descriptorsSmall);\n\n        //System.out.println(&quot;descriptorsA.size() : &quot;+descriptorsLarge.size());\n        //System.out.println(&quot;descriptorsB.size() : &quot;+descriptorsSmall.size());\n\n        MatOfDMatch matches = new MatOfDMatch();\n\n        DescriptorMatcher matcher = DescriptorMatcher.create(DescriptorMatcher.BRUTEFORCE_HAMMINGLUT);\n        matcher.match(descriptorsLarge, descriptorsSmall, matches);\n\n        //System.out.println(&quot;matches.size() : &quot;+matches.size());\n\n        MatOfDMatch matchesFiltered = new MatOfDMatch();\n\n        List&lt;DMatch&gt; matchesList = matches.toList();\n        List&lt;DMatch&gt; bestMatches= new ArrayList&lt;DMatch&gt;();\n\n        Double max_dist = 0.0;\n        Double min_dist = 100.0;\n\n        for (int i = 0; i &lt; matchesList.size(); i++)\n        {\n            Double dist = (double) matchesList.get(i).distance;\n\n            if (dist &lt; min_dist &amp;&amp; dist != 0)\n            {\n                min_dist = dist;\n            }\n\n            if (dist &gt; max_dist)\n            {\n                max_dist = dist;\n            }\n\n        }\n\n        //System.out.println(&quot;max_dist : &quot;+max_dist);\n        //System.out.println(&quot;min_dist : &quot;+min_dist);\n\n        if(min_dist &gt; 50 )\n        {\n            //System.out.println(&quot;No match found&quot;);\n            //System.out.println(&quot;Just return &quot;);\n            return false;\n        }\n\n        double threshold = 3 * min_dist;\n        double threshold2 = 2 * min_dist;\n\n        if (threshold &gt; 75)\n        {\n            threshold  = 75;\n        }\n        else if (threshold2 &gt;= max_dist)\n        {\n            threshold = min_dist * 1.1;\n        }\n        else if (threshold &gt;= max_dist)\n        {\n            threshold = threshold2 * 1.4;\n        }\n\n        //System.out.println(&quot;Threshold : &quot;+threshold);\n\n        for (int i = 0; i &lt; matchesList.size(); i++)\n        {\n            Double dist = (double) matchesList.get(i).distance;\n\n            if (dist &lt; threshold)\n            {\n                bestMatches.add(matches.toList().get(i));\n                //System.out.println(String.format(i + &quot; best match added : %s&quot;, dist));\n            }\n        }\n\n        matchesFiltered.fromList(bestMatches);\n\n        //System.out.println(&quot;matchesFiltered.size() : &quot; + matchesFiltered.size());\n\n\n        if(matchesFiltered.rows() &gt;= 1) //TODO &gt;= 4\n        {\n            System.out.println(&quot;match found &quot;+matchesFiltered.rows());\n            System.out.println(&quot;bestMatches.size: &quot;+bestMatches.size());\n            getMatchingPoints(keyPointsLarge,keyPointsSmall,bestMatches);\n            return true;\n        }\n        else\n        {\n            return false;\n        }\n</code></pre>\n<p>I didn't try only Brisk (maybe not the best choice since the object is round), I also tried with SURF following this tutorial: <a href=\"https://docs.opencv.org/3.4/d7/dff/tutorial_feature_homography.html\" rel=\"nofollow noreferrer\">https://docs.opencv.org/3.4/d7/dff/tutorial_feature_homography.html</a></p>\n<p>but I get the following exception:</p>\n<pre><code>Exception in thread &quot;main&quot; CvException [org.opencv.core.CvException: cv::Exception: OpenCV(4.7.0) /tmp/opencv-20230625-23894-1o8sdu5/opencv-4.7.0/modules/calib3d/src/fundam.cpp:385: error: (-28:Unknown error code -28) The input arrays should have at least 4 corresponding point sets to calculate Homography in function 'findHomography'\n</code></pre>\n<p>A friend was suggesting to maybe try with a YOLO algorithm. I found a few examples but none with a thorough explanation.\nWhat would you suggest? Thank you.</p>\n"},{"tags":["java","spring-boot","caching","redis"],"answers":[{"tags":[],"owner":{"account_id":3139674,"reputation":515,"user_id":2655362,"accept_rate":55,"display_name":"Amit"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1603440822,"creation_date":1603439933,"answer_id":64496129,"question_id":62515289,"body_markdown":"I haven&#39;t used jedis but the plain spring wrapper `shedlock-provider-redis-spring`. If your config works properly then you should be able to fetch by querying `keys *` with redis-cli. If not try forming the key manually and check in redis, shedlock uses below method in `JedisLockProvider.java` for forming a key that goes in redis.\r\n\r\n     static String buildKey(String lockName, String env) {\r\n            return String.format(&quot;%s:%s:%s&quot;, KEY_PREFIX, env, lockName);\r\n        }\r\n\r\nCheck belowline in `JedisLockProvider.java` which actually maintains lock info in Redis.\r\n\r\nhttps://github.com/lukas-krecan/ShedLock/blob/05d72cefa931634eaebabf2a7cdd400f1da416d7/providers/redis/shedlock-provider-redis-jedis/src/main/java/net/javacrumbs/shedlock/provider/redis/jedis/JedisLockProvider.java#L154\r\n\r\n","title":"Shedlock with Spring and Redis","body":"<p>I haven't used jedis but the plain spring wrapper <code>shedlock-provider-redis-spring</code>. If your config works properly then you should be able to fetch by querying <code>keys *</code> with redis-cli. If not try forming the key manually and check in redis, shedlock uses below method in <code>JedisLockProvider.java</code> for forming a key that goes in redis.</p>\n<pre><code> static String buildKey(String lockName, String env) {\n        return String.format(&quot;%s:%s:%s&quot;, KEY_PREFIX, env, lockName);\n    }\n</code></pre>\n<p>Check belowline in <code>JedisLockProvider.java</code> which actually maintains lock info in Redis.</p>\n<p><a href=\"https://github.com/lukas-krecan/ShedLock/blob/05d72cefa931634eaebabf2a7cdd400f1da416d7/providers/redis/shedlock-provider-redis-jedis/src/main/java/net/javacrumbs/shedlock/provider/redis/jedis/JedisLockProvider.java#L154\" rel=\"nofollow noreferrer\">https://github.com/lukas-krecan/ShedLock/blob/05d72cefa931634eaebabf2a7cdd400f1da416d7/providers/redis/shedlock-provider-redis-jedis/src/main/java/net/javacrumbs/shedlock/provider/redis/jedis/JedisLockProvider.java#L154</a></p>\n"},{"tags":[],"owner":{"account_id":1522189,"reputation":85,"user_id":1421549,"display_name":"frankskywalker"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1655302449,"creation_date":1655302449,"answer_id":72633000,"question_id":62515289,"body_markdown":"I believe once the scheduled job is executed, the key value is deleted in redis.\r\nYou can create a breakpoint in Class RedisLockProvider, lock method. \r\n\r\n```\r\n    public Optional&lt;SimpleLock&gt; lock(@NonNull LockConfiguration lockConfiguration) {\r\n        String key = buildKey(lockConfiguration.getName());\r\n        Expiration expiration = getExpiration(lockConfiguration.getLockAtMostUntil());\r\n        if (TRUE.equals(tryToSetExpiration(redisTemplate, key, expiration, SET_IF_ABSENT))) {\r\n            return Optional.of(new RedisLock(key, redisTemplate, lockConfiguration));\r\n        } else {\r\n            return Optional.empty();\r\n        }\r\n    }\r\n```\r\nAfter this method returns, then check the redis to see if your key is there.","title":"Shedlock with Spring and Redis","body":"<p>I believe once the scheduled job is executed, the key value is deleted in redis.\nYou can create a breakpoint in Class RedisLockProvider, lock method.</p>\n<pre><code>    public Optional&lt;SimpleLock&gt; lock(@NonNull LockConfiguration lockConfiguration) {\n        String key = buildKey(lockConfiguration.getName());\n        Expiration expiration = getExpiration(lockConfiguration.getLockAtMostUntil());\n        if (TRUE.equals(tryToSetExpiration(redisTemplate, key, expiration, SET_IF_ABSENT))) {\n            return Optional.of(new RedisLock(key, redisTemplate, lockConfiguration));\n        } else {\n            return Optional.empty();\n        }\n    }\n</code></pre>\n<p>After this method returns, then check the redis to see if your key is there.</p>\n"},{"tags":[],"owner":{"account_id":29161934,"reputation":1,"user_id":22340481,"display_name":"deluxexBR"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691171960,"creation_date":1691171910,"answer_id":76838219,"question_id":62515289,"body_markdown":"the command generated by shedlock redis lock method has a expiration time so the cached value is removed from redis as soon as possible.\r\n\r\nTo see the SET commands in redis while your @Scheduled method is triggered by CRON, you can run the monitor:\r\n\r\n    redis-cli monitor","title":"Shedlock with Spring and Redis","body":"<p>the command generated by shedlock redis lock method has a expiration time so the cached value is removed from redis as soon as possible.</p>\n<p>To see the SET commands in redis while your @Scheduled method is triggered by CRON, you can run the monitor:</p>\n<pre><code>redis-cli monitor\n</code></pre>\n"}],"owner":{"account_id":309142,"reputation":3795,"user_id":621438,"accept_rate":79,"display_name":"LukeSolar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4876,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":3,"score":4,"last_activity_date":1691171960,"creation_date":1592831555,"question_id":62515289,"body_markdown":"I&#39;m using Shedlock with Spring Boot and Redis as Lock Provider. \r\n\r\nEverything seems to work fine. But when I manually go to the Redis during the execution of the task I see no specific KEY for the lock. \r\n\r\nOn the Redis CLI I do `KEYS *` to get all keys. \r\n\r\nIs this expected or do I miss any configuration?\r\n\r\n\r\n```\r\n@Bean\r\npublic LockProvider lockProvider() {\r\n   return new JedisLockProvider(redisPoolPrimary.getPool(), RedisPoolPrimary.ENV_ID);\r\n}\r\n``` \r\n\r\n```\r\n@Component\r\n@Slf4j\r\npublic class RedisPoolPrimary {\r\n\r\n    public static final String ENV_ID = &quot;MyAppId&quot;;\r\n    private JedisPool pool;\r\n\r\n    public RedisPoolPrimary(@Value(&quot;${spring.redis.url}&quot;) String redisCloudUrl,\r\n                            @Value(&quot;${meetical.redis.jedis.JEDIS_POOL_MAX_TOTAL}&quot;) int jedisPoolMaxTotal,\r\n                            @Value(&quot;${meetical.redis.jedis.JEDIS_POOL_MAX}&quot;) int jedisPoolMax,\r\n                            @Value(&quot;${meetical.redis.jedis.JEDIS_POOLMAX_IDLE}&quot;) int jedisPoolMaxIdle\r\n    ) {\r\n        URI redisUrl = URI.create(redisCloudUrl);\r\n        JedisPoolConfig poolConfig = new JedisPoolConfig();\r\n        poolConfig.setMaxTotal(jedisPoolMaxTotal);\r\n        poolConfig.setMinIdle(jedisPoolMax);\r\n        poolConfig.setMaxIdle(jedisPoolMaxIdle);\r\n        pool = new JedisPool(poolConfig, redisUrl);\r\n    }\r\n\r\n    public JedisPool getPool() {\r\n        return pool;\r\n    }\r\n\r\n}\r\n```\r\n\r\n```\r\n@Scheduled(cron = &quot;${cache.scheduler.cron.expression}&quot;)\r\n@SchedulerLock(name = &quot;refreshUserCachesLock&quot;, lockAtLeastForString = FIVE_MINUTES, lockAtMostForString = SIXTY_MINUTES)\r\npublic void refreshCacheOfAllInstances() {\r\n   // should be only run once every x hours for all spring boot app nodes\r\n   // however during execution of the task no KEY seems to be in Redis - does the lock mechanism work?\r\n}\r\n```\r\n\r\nDependencies used \r\n```\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;net.javacrumbs.shedlock&lt;/groupId&gt;\r\n            &lt;artifactId&gt;shedlock-spring&lt;/artifactId&gt;\r\n            &lt;version&gt;4.12.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;net.javacrumbs.shedlock&lt;/groupId&gt;\r\n            &lt;artifactId&gt;shedlock-provider-redis-jedis&lt;/artifactId&gt;\r\n            &lt;version&gt;4.12.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n```","title":"Shedlock with Spring and Redis","body":"<p>I'm using Shedlock with Spring Boot and Redis as Lock Provider.</p>\n<p>Everything seems to work fine. But when I manually go to the Redis during the execution of the task I see no specific KEY for the lock.</p>\n<p>On the Redis CLI I do <code>KEYS *</code> to get all keys.</p>\n<p>Is this expected or do I miss any configuration?</p>\n<pre><code>@Bean\npublic LockProvider lockProvider() {\n   return new JedisLockProvider(redisPoolPrimary.getPool(), RedisPoolPrimary.ENV_ID);\n}\n</code></pre>\n<pre><code>@Component\n@Slf4j\npublic class RedisPoolPrimary {\n\n    public static final String ENV_ID = &quot;MyAppId&quot;;\n    private JedisPool pool;\n\n    public RedisPoolPrimary(@Value(&quot;${spring.redis.url}&quot;) String redisCloudUrl,\n                            @Value(&quot;${meetical.redis.jedis.JEDIS_POOL_MAX_TOTAL}&quot;) int jedisPoolMaxTotal,\n                            @Value(&quot;${meetical.redis.jedis.JEDIS_POOL_MAX}&quot;) int jedisPoolMax,\n                            @Value(&quot;${meetical.redis.jedis.JEDIS_POOLMAX_IDLE}&quot;) int jedisPoolMaxIdle\n    ) {\n        URI redisUrl = URI.create(redisCloudUrl);\n        JedisPoolConfig poolConfig = new JedisPoolConfig();\n        poolConfig.setMaxTotal(jedisPoolMaxTotal);\n        poolConfig.setMinIdle(jedisPoolMax);\n        poolConfig.setMaxIdle(jedisPoolMaxIdle);\n        pool = new JedisPool(poolConfig, redisUrl);\n    }\n\n    public JedisPool getPool() {\n        return pool;\n    }\n\n}\n</code></pre>\n<pre><code>@Scheduled(cron = &quot;${cache.scheduler.cron.expression}&quot;)\n@SchedulerLock(name = &quot;refreshUserCachesLock&quot;, lockAtLeastForString = FIVE_MINUTES, lockAtMostForString = SIXTY_MINUTES)\npublic void refreshCacheOfAllInstances() {\n   // should be only run once every x hours for all spring boot app nodes\n   // however during execution of the task no KEY seems to be in Redis - does the lock mechanism work?\n}\n</code></pre>\n<p>Dependencies used</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;net.javacrumbs.shedlock&lt;/groupId&gt;\n            &lt;artifactId&gt;shedlock-spring&lt;/artifactId&gt;\n            &lt;version&gt;4.12.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.javacrumbs.shedlock&lt;/groupId&gt;\n            &lt;artifactId&gt;shedlock-provider-redis-jedis&lt;/artifactId&gt;\n            &lt;version&gt;4.12.0&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","jackson"],"answers":[{"tags":[],"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1691171751,"creation_date":1691171751,"answer_id":76838196,"question_id":76837477,"body_markdown":"You can set up a `FilterProvider` that includes a `SimpleBeanPropertyFilter`.\r\n\r\n**Note:** In this example, the `validKeys` could be passed as an argument to `createFilterProvider` and stored on the `FilterProvider`, rather than on the `KeyFilter` driver.\r\n\r\n```java\r\nimport java.util.HashMap;\r\nimport java.util.HashSet;\r\nimport java.util.Map;\r\nimport java.util.Set;\r\n\r\nimport com.fasterxml.jackson.core.JsonProcessingException;\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\nimport com.fasterxml.jackson.databind.introspect.Annotated;\r\nimport com.fasterxml.jackson.databind.introspect.JacksonAnnotationIntrospector;\r\nimport com.fasterxml.jackson.databind.ser.BeanPropertyWriter;\r\nimport com.fasterxml.jackson.databind.ser.FilterProvider;\r\nimport com.fasterxml.jackson.databind.ser.PropertyWriter;\r\nimport com.fasterxml.jackson.databind.ser.impl.SimpleBeanPropertyFilter;\r\nimport com.fasterxml.jackson.databind.ser.impl.SimpleFilterProvider;\r\n\r\npublic class KeyFilter {\r\n    private static ObjectMapper mapper;\r\n    private static Set&lt;String&gt; validKeys;\r\n\r\n    static {\r\n        mapper = new ObjectMapper();\r\n        mapper.setFilterProvider(createFilterProvider());\r\n\r\n        validKeys = new HashSet&lt;&gt;();\r\n        validKeys.add(&quot;KEY1&quot;);\r\n    }\r\n\r\n    public static void main(String[] args) throws JsonProcessingException {\r\n        Map&lt;String, String&gt; hashtable = new HashMap&lt;&gt;();\r\n\r\n        hashtable.put(&quot;KEY1&quot;, &quot;VALUE1&quot;);\r\n        hashtable.put(&quot;KEY2&quot;, &quot;VALUE2&quot;);\r\n        hashtable.put(&quot;KEY3&quot;, &quot;VALUE3&quot;);\r\n\r\n        System.out.println(mapper.writeValueAsString(hashtable)); // {&quot;KEY1&quot;:&quot;VALUE1&quot;}\r\n    }\r\n\r\n    // Derived from: https://stackoverflow.com/a/25232485/1762224\r\n    private static FilterProvider createFilterProvider() {\r\n        SimpleFilterProvider filterProvider = new SimpleFilterProvider();\r\n        final String filterName = &quot;valid-key-filter&quot;;\r\n        mapper.setAnnotationIntrospector(new JacksonAnnotationIntrospector() {\r\n            @Override\r\n            public Object findFilterId(Annotated a) {\r\n                if (Map.class.isAssignableFrom(a.getRawType())) {\r\n                    return filterName;\r\n                }\r\n                return super.findFilterId(a);\r\n            }\r\n        });\r\n        filterProvider.addFilter(filterName, new SimpleBeanPropertyFilter() {\r\n            @Override\r\n            protected boolean include(BeanPropertyWriter writer) {\r\n                return true;\r\n            }\r\n            @Override\r\n            protected boolean include(PropertyWriter writer) {\r\n                return validKeys.contains(writer.getName());\r\n            }\r\n        });\r\n        return filterProvider;\r\n    }\r\n}\r\n```","title":"Convert hashmap to json while filtering some keys?","body":"<p>You can set up a <code>FilterProvider</code> that includes a <code>SimpleBeanPropertyFilter</code>.</p>\n<p><strong>Note:</strong> In this example, the <code>validKeys</code> could be passed as an argument to <code>createFilterProvider</code> and stored on the <code>FilterProvider</code>, rather than on the <code>KeyFilter</code> driver.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.HashMap;\nimport java.util.HashSet;\nimport java.util.Map;\nimport java.util.Set;\n\nimport com.fasterxml.jackson.core.JsonProcessingException;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport com.fasterxml.jackson.databind.introspect.Annotated;\nimport com.fasterxml.jackson.databind.introspect.JacksonAnnotationIntrospector;\nimport com.fasterxml.jackson.databind.ser.BeanPropertyWriter;\nimport com.fasterxml.jackson.databind.ser.FilterProvider;\nimport com.fasterxml.jackson.databind.ser.PropertyWriter;\nimport com.fasterxml.jackson.databind.ser.impl.SimpleBeanPropertyFilter;\nimport com.fasterxml.jackson.databind.ser.impl.SimpleFilterProvider;\n\npublic class KeyFilter {\n    private static ObjectMapper mapper;\n    private static Set&lt;String&gt; validKeys;\n\n    static {\n        mapper = new ObjectMapper();\n        mapper.setFilterProvider(createFilterProvider());\n\n        validKeys = new HashSet&lt;&gt;();\n        validKeys.add(&quot;KEY1&quot;);\n    }\n\n    public static void main(String[] args) throws JsonProcessingException {\n        Map&lt;String, String&gt; hashtable = new HashMap&lt;&gt;();\n\n        hashtable.put(&quot;KEY1&quot;, &quot;VALUE1&quot;);\n        hashtable.put(&quot;KEY2&quot;, &quot;VALUE2&quot;);\n        hashtable.put(&quot;KEY3&quot;, &quot;VALUE3&quot;);\n\n        System.out.println(mapper.writeValueAsString(hashtable)); // {&quot;KEY1&quot;:&quot;VALUE1&quot;}\n    }\n\n    // Derived from: https://stackoverflow.com/a/25232485/1762224\n    private static FilterProvider createFilterProvider() {\n        SimpleFilterProvider filterProvider = new SimpleFilterProvider();\n        final String filterName = &quot;valid-key-filter&quot;;\n        mapper.setAnnotationIntrospector(new JacksonAnnotationIntrospector() {\n            @Override\n            public Object findFilterId(Annotated a) {\n                if (Map.class.isAssignableFrom(a.getRawType())) {\n                    return filterName;\n                }\n                return super.findFilterId(a);\n            }\n        });\n        filterProvider.addFilter(filterName, new SimpleBeanPropertyFilter() {\n            @Override\n            protected boolean include(BeanPropertyWriter writer) {\n                return true;\n            }\n            @Override\n            protected boolean include(PropertyWriter writer) {\n                return validKeys.contains(writer.getName());\n            }\n        });\n        return filterProvider;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29050703,"reputation":59,"user_id":22253592,"display_name":"Vitalii Dokalenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1691171905,"creation_date":1691171905,"answer_id":76838218,"question_id":76837477,"body_markdown":"[Here](https://stackoverflow.com/a/46391108/22253592) is the answer of your question. You should create mixinSource Class without any fields and add it to the objectMapper. Then you can filter out your map dynamically\r\n```java\r\n@JsonFilter(&quot;filter&quot;)\r\npublic class DynamicMixIn {\r\n\r\n}\r\n```\r\n```java\r\nMap&lt;String, String&gt; hashtable = new HashMap();\r\nhashtable.put(&quot;KEY1&quot;, &quot;VALUE1&quot;);\r\nhashtable.put(&quot;KEY2&quot;, &quot;VALUE2&quot;);\r\nhashtable.put(&quot;KEY3&quot;, &quot;VALUE3&quot;);\r\n\r\nObjectMapper objectMapper = new ObjectMapper();\r\nobjectMapper.addMixIn(Object.class, DynamicMixIn.class);\r\nFilterProvider filter = new SimpleFilterProvider().addFilter(&quot;filter&quot;, SimpleBeanPropertyFilter.serializeAllExcept(&quot;KEY1&quot;));\r\nobjectMapper.setFilterProvider(filter);\r\nString filtered = objectMapper.writeValueAsString(hashtable); // {&quot;KEY2&quot;:&quot;VALUE2&quot;,&quot;KEY3&quot;:&quot;VALUE3&quot;}\r\n```","title":"Convert hashmap to json while filtering some keys?","body":"<p><a href=\"https://stackoverflow.com/a/46391108/22253592\">Here</a> is the answer of your question. You should create mixinSource Class without any fields and add it to the objectMapper. Then you can filter out your map dynamically</p>\n<pre class=\"lang-java prettyprint-override\"><code>@JsonFilter(&quot;filter&quot;)\npublic class DynamicMixIn {\n\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String, String&gt; hashtable = new HashMap();\nhashtable.put(&quot;KEY1&quot;, &quot;VALUE1&quot;);\nhashtable.put(&quot;KEY2&quot;, &quot;VALUE2&quot;);\nhashtable.put(&quot;KEY3&quot;, &quot;VALUE3&quot;);\n\nObjectMapper objectMapper = new ObjectMapper();\nobjectMapper.addMixIn(Object.class, DynamicMixIn.class);\nFilterProvider filter = new SimpleFilterProvider().addFilter(&quot;filter&quot;, SimpleBeanPropertyFilter.serializeAllExcept(&quot;KEY1&quot;));\nobjectMapper.setFilterProvider(filter);\nString filtered = objectMapper.writeValueAsString(hashtable); // {&quot;KEY2&quot;:&quot;VALUE2&quot;,&quot;KEY3&quot;:&quot;VALUE3&quot;}\n</code></pre>\n"}],"owner":{"account_id":2222608,"reputation":546,"user_id":1961651,"accept_rate":55,"display_name":"randomgood"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76838218,"answer_count":2,"score":0,"last_activity_date":1691171905,"creation_date":1691164322,"question_id":76837477,"body_markdown":"I am trying to convert hashmap to json while filtering some keys. I have tried with Jackson but the result always have all the keys in it.\r\n\r\n```\r\nMap&lt;String, String&gt; hashtable = new HashMap();\r\nhashtable.put(&quot;KEY1&quot;, &quot;VALUE1&quot;);\r\nhashtable.put(&quot;KEY2&quot;, &quot;VALUE2&quot;);\r\nhashtable.put(&quot;KEY3&quot;, &quot;VALUE3&quot;);\r\n\r\nObjectMapper objectMapper = new ObjectMapper();\r\nFilterProvider filter = new SimpleFilterProvider().addFilter(&quot;filter&quot;, SimpleBeanPropertyFilter.filterOutAllExcept(&quot;KEY1&quot;));\r\nobjectMapper.setFilterProvider(filter);\r\nSystem.err.println(objectMapper.writeValueAsString(hashtable));\r\n```\r\n\r\nMy keys are dynamic, Is there more efficent way to do this? \r\n\r\nJackson method of filtering is perfect to me, since i need to generate multiple json&#39;s with different filter for the same HashMap. Is is possible to make this work with Jackson? \r\n","title":"Convert hashmap to json while filtering some keys?","body":"<p>I am trying to convert hashmap to json while filtering some keys. I have tried with Jackson but the result always have all the keys in it.</p>\n<pre><code>Map&lt;String, String&gt; hashtable = new HashMap();\nhashtable.put(&quot;KEY1&quot;, &quot;VALUE1&quot;);\nhashtable.put(&quot;KEY2&quot;, &quot;VALUE2&quot;);\nhashtable.put(&quot;KEY3&quot;, &quot;VALUE3&quot;);\n\nObjectMapper objectMapper = new ObjectMapper();\nFilterProvider filter = new SimpleFilterProvider().addFilter(&quot;filter&quot;, SimpleBeanPropertyFilter.filterOutAllExcept(&quot;KEY1&quot;));\nobjectMapper.setFilterProvider(filter);\nSystem.err.println(objectMapper.writeValueAsString(hashtable));\n</code></pre>\n<p>My keys are dynamic, Is there more efficent way to do this?</p>\n<p>Jackson method of filtering is perfect to me, since i need to generate multiple json's with different filter for the same HashMap. Is is possible to make this work with Jackson?</p>\n"},{"tags":["java","android","c","video-streaming","gstreamer"],"owner":{"account_id":17304011,"reputation":51,"user_id":12533141,"display_name":"reed"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691171717,"creation_date":1691171717,"question_id":76838191,"body_markdown":"I&#39;m attempting to open an rtp stream sent over udp and encoded as h.264 with gstreamer android. I am able to open said stream on my laptop using gst-launch-1.0 with the following gstreamer pipeline string:\r\n```\r\n&quot;gst-launch-1.0 udpsrc port=4711 ! application/x-rtp,media=video,encoding-name=H264,payload=96 ! rtph264depay ! decodebin ! autovideosink&quot;\r\n```\r\nI&#39;ve modified gstreamer android example tutorial-5.c to use the same pipeline string when creating the relevant gstreamer pipeline element. Specifically, I&#39;ve changed the line in app_function (void *userdata) that originally called a playbin element to interpret a URI string to the following :\r\n```\r\n  data-&gt;pipeline = gst_parse_launch(&quot;udpsrc port=4711 ! application/x-rtp,media=video,encoding-name=H264,payload=96 ! rtph264depay ! decodebin ! autovideosink&quot;, &amp;error);\r\n```\r\nHowever, when I run the application in emulator on a device, it crashes. Here is the logcat output:\r\n```\r\n---------------------------- PROCESS STARTED (15744) for package org.freedesktop.gstreamer.tutorials.tutorial_5 ----------------------------\r\n2023-08-04 14:03:22.115 15744-15744 GStreamer+...tivedemux2 org...streamer.tutorials.tutorial_5  W  0:00:00.008497396 0x76a8551380 ../ext/adaptivedemux2/gstadaptivedemuxelement.c:41:adaptivedemux2_base_element_init Failed to load libsoup library\r\n2023-08-04 14:03:22.116 15744-15744 GStreamer+...tivedemux2 org...streamer.tutorials.tutorial_5  W  0:00:00.009767969 0x76a8551380 ../ext/adaptivedemux2/gstadaptivedemuxelement.c:41:adaptivedemux2_base_element_init Failed to load libsoup library\r\n2023-08-04 14:03:22.117 15744-15744 GStreamer+...tivedemux2 org...streamer.tutorials.tutorial_5  W  0:00:00.010928594 0x76a8551380 ../ext/adaptivedemux2/gstadaptivedemuxelement.c:41:adaptivedemux2_base_element_init Failed to load libsoup library\r\n2023-08-04 14:03:22.133 15744-15744 VideoCapabilities       org...streamer.tutorials.tutorial_5  W  Unsupported mime image/vnd.android.heic\r\n2023-08-04 14:03:22.141 15744-15744 AudioCapabilities       org...streamer.tutorials.tutorial_5  W  Unsupported mime audio/x-ima\r\n2023-08-04 14:03:22.141 15744-15744 AudioCapabilities       org...streamer.tutorials.tutorial_5  W  Unsupported mime audio/x-ape\r\n2023-08-04 14:03:22.142 15744-15744 AudioCapabilities       org...streamer.tutorials.tutorial_5  W  Unsupported mime audio/evrc\r\n2023-08-04 14:03:22.142 15744-15744 AudioCapabilities       org...streamer.tutorials.tutorial_5  W  Unsupported mime audio/mpeg-L1\r\n2023-08-04 14:03:22.143 15744-15744 AudioCapabilities       org...streamer.tutorials.tutorial_5  W  Unsupported mime audio/mpeg-L2\r\n2023-08-04 14:03:22.143 15744-15744 AudioCapabilities       org...streamer.tutorials.tutorial_5  W  Unsupported mime audio/qcelp\r\n2023-08-04 14:03:22.143 15744-15744 AudioCapabilities       org...streamer.tutorials.tutorial_5  W  Unsupported mime audio/x-ms-wma\r\n2023-08-04 14:03:22.143 15744-15744 AudioCapabilities       org...streamer.tutorials.tutorial_5  W  Unsupported mime audio/evrc\r\n2023-08-04 14:03:22.143 15744-15744 AudioCapabilities       org...streamer.tutorials.tutorial_5  W  Unsupported mime audio/qcelp\r\n2023-08-04 14:03:22.156 15744-15744 VideoCapabilities       org...streamer.tutorials.tutorial_5  W  Unsupported mime video/mp43\r\n2023-08-04 14:03:22.157 15744-15744 VideoCapabilities       org...streamer.tutorials.tutorial_5  W  Unrecognized profile/level 1/32 for video/mp4v-es\r\n2023-08-04 14:03:22.157 15744-15744 VideoCapabilities       org...streamer.tutorials.tutorial_5  W  Unrecognized profile/level 32768/2 for video/mp4v-es\r\n2023-08-04 14:03:22.157 15744-15744 VideoCapabilities       org...streamer.tutorials.tutorial_5  W  Unrecognized profile/level 32768/64 for video/mp4v-es\r\n2023-08-04 14:03:22.157 15744-15744 VideoCapabilities       org...streamer.tutorials.tutorial_5  W  Unsupported mime video/wvc1\r\n2023-08-04 14:03:22.158 15744-15744 VideoCapabilities       org...streamer.tutorials.tutorial_5  W  Unsupported mime video/x-ms-wmv7\r\n2023-08-04 14:03:22.158 15744-15744 VideoCapabilities       org...streamer.tutorials.tutorial_5  W  Unsupported mime video/x-ms-wmv8\r\n2023-08-04 14:03:22.158 15744-15744 GStreamer+amc           org...streamer.tutorials.tutorial_5  E  0:00:00.052010521 0x76a8551380 ../sys/androidmedia/gstamc.c:551:accepted_color_formats Unknown color format 0x7fa30c06, ignoring\r\n2023-08-04 14:03:22.158 15744-15744 GStreamer+amc           org...streamer.tutorials.tutorial_5  E  0:00:00.052055625 0x76a8551380 ../sys/androidmedia/gstamc.c:551:accepted_color_formats Unknown color format 0x6, ignoring\r\n2023-08-04 14:03:22.158 15744-15744 GStreamer+amc           org...streamer.tutorials.tutorial_5  W  0:00:00.052066354 0x76a8551380 ../sys/androidmedia/gstamc.c:311:scan_codecs video/avc decoder has unknown color formats, only direct rendering will be supported\r\n2023-08-04 14:03:22.158 15744-15744 GStreamer+amc           org...streamer.tutorials.tutorial_5  E  0:00:00.052139375 0x76a8551380 ../sys/androidmedia/gstamc.c:551:accepted_color_formats Unknown color format 0x7fa30c06, ignoring\r\n... repeats ...\r\n202023-08-04 14:03:22.166 15744-15744 GStreamer+amc           org...streamer.tutorials.tutorial_5  W  0:00:00.059945104 0x76a8551380 ../sys/androidmedia/gstamc.c:2421:gst_amc_codec_info_to_caps Unsupported mimetype &#39;video/x-ms-wmv7&#39;\r\n2023-08-04 14:03:22.166 15744-15744 GStreamer+amc           org...streamer.tutorials.tutorial_5  W  0:00:00.059977240 0x76a8551380 ../sys/androidmedia/gstamc.c:2421:gst_amc_codec_info_to_caps Unsupported mimetype &#39;video/x-ms-wmv8&#39;\r\n2023-08-04 14:03:22.168 15744-15744 GLib+GLib               org...streamer.tutorials.tutorial_5  W  GError set over the top of a previous GError or uninitialized memory.\r\n                                                                                                    This indicates a bug in someone&#39;s code. You must ensure an error is NULL before it&#39;s set.\r\n                                                                                                    The overwriting error message was: Failed to get static field ID EFFECT_SKETCH (Ljava/lang/String;): java.lang.NoSuchFieldError: no &quot;Ljava/lang/String;&quot; field &quot;EFFECT_SKETCH&quot; in class &quot;Landroid/hardware/Camera$Parameters;&quot; or its superclasses\r\n                                                                                                    java.lang.NoSuchFieldError: no &quot;Ljava/lang/String;&quot; field &quot;EFFECT_SKETCH&quot; in class &quot;Landroid/hardware/Camera$Parameters;&quot; or its superclasses\r\n                                                                                                    \tat org.freedesktop.gstreamer.GStreamer.nativeInit(Native Method)\r\n                                                                                                    \tat org.freedesktop.gstreamer.GStreamer.init(GStreamer.java:24)\r\n                                                                                                    \tat org.freedesktop.gstreamer.tutorials.tutorial_5.Tutorial5.onCreate(Tutorial5.java:64)\r\n                                                                                                    \tat android.app.Activity.performCreate(Activity.java:7957)\r\n                                                                                                    \tat android.app.Activity.performCreate(Activity.java:7946)\r\n                                                                                                    \tat android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1307)\r\n                                                                                                    \tat android.app.ActivityThread.performLaunchActivity(Activity\r\n2023-08-04 14:03:22.169 15744-15744 GLib+GLib-GObject       org...streamer.tutorials.tutorial_5  E  Object class GstAHCSrc doesn&#39;t implement property &#39;exposure-mode&#39; from interface &#39;GstPhotography&#39;\r\n2023-08-04 14:03:22.194 15744-15744 GStreamer               org...streamer.tutorials.tutorial_5  I  GStreamer initialization complete\r\n2023-08-04 14:03:22.198 15744-15744 MultiWindowDecorSupport org...streamer.tutorials.tutorial_5  I  updateCaptionType &gt;&gt; DecorView@2267800[], isFloating: false, isApplication: true, hasWindowDecorCaption: false, hasWindowControllerCallback: true\r\n2023-08-04 14:03:22.198 15744-15744 MultiWindowDecorSupport org...streamer.tutorials.tutorial_5  D  setCaptionType = 0, DecorView = DecorView@2267800[]\r\n2023-08-04 14:03:22.226 15744-15744 GStreamer               org...streamer.tutorials.tutorial_5  I  Activity created with no saved state:\r\n2023-08-04 14:03:22.226 15744-15744 GStreamer               org...streamer.tutorials.tutorial_5  I    playing:false position:0 duration: 0 uri: rtsp://192.168.1.20:8554/test\r\n2023-08-04 14:03:22.226 15744-15744 GStreamer+tutorial-5    org...streamer.tutorials.tutorial_5  D  0:00:00.120206667 0x76a8551380 C:/software/gstreamer-1.22/subprojects/gst-docs/examples/tutorials/android/android-tutorial-5/jni/tutorial-5.c:483:gst_native_init Created CustomData at 0x7648beafe0\r\n2023-08-04 14:03:22.227 15744-15744 GStreamer+tutorial-5    org...streamer.tutorials.tutorial_5  D  0:00:00.120244948 0x76a8551380 C:/software/gstreamer-1.22/subprojects/gst-docs/examples/tutorials/android/android-tutorial-5/jni/tutorial-5.c:485:gst_native_init Created GlobalRef for app object at 0x3f36\r\n2023-08-04 14:03:22.227 15744-15793 GStreamer+tutorial-5    org...streamer.tutorials.tutorial_5  D  0:00:00.120363594 0x7648b92460 C:/software/gstreamer-1.22/subprojects/gst-docs/examples/tutorials/android/android-tutorial-5/jni/tutorial-5.c:396:app_function Creating pipeline in CustomData at 0x7648beafe0\r\n2023-08-04 14:03:22.228 15744-15793 GLib+GLib-GObject       org...streamer.tutorials.tutorial_5  W  g_object_get_is_valid_property: object class &#39;GstPipeline&#39; has no property named &#39;flags&#39;\r\n2023-08-04 14:03:22.228 15744-15793 GLib+GLib-GObject       org...streamer.tutorials.tutorial_5  W  g_object_set_is_valid_property: object class &#39;GstPipeline&#39; has no property named &#39;flags&#39;\r\n2023-08-04 14:03:22.232 15744-15795 AdrenoGLES-0            org...streamer.tutorials.tutorial_5  I  QUALCOMM build                   : f141d58, If15e50a99e\r\n                                                                                                    Build Date                       : 06/10/20\r\n                                                                                                    OpenGL ES Shader Compiler Version: EV031.29.00.08\r\n                                                                                                    Local Branch                     : \r\n                                                                                                    Remote Branch                    : refs/tags/AU_LINUX_ANDROID_LA.UM.8.12.C1.10.00.00.649.113\r\n                                                                                                    Remote Branch                    : NONE\r\n                                                                                                    Reconstruct Branch               : NOTHING\r\n2023-08-04 14:03:22.232 15744-15795 AdrenoGLES-0            org...streamer.tutorials.tutorial_5  I  Build Config                     : S P 8.0.12 AArch64\r\n2023-08-04 14:03:22.232 15744-15795 AdrenoGLES-0            org...streamer.tutorials.tutorial_5  I  Driver Path                      : /vendor/lib64/egl/libGLESv2_adreno.so\r\n2023-08-04 14:03:22.232 15744-15782 NativeCust...ncyManager org...streamer.tutorials.tutorial_5  D  [NativeCFMS] BpCustomFrequencyManager::BpCustomFrequencyManager()\r\n2023-08-04 14:03:22.235 15744-15795 AdrenoGLES-0            org...streamer.tutorials.tutorial_5  I  PFP: 0x016dd087, ME: 0x00000000\r\n2023-08-04 14:03:22.236 15744-15744 ViewRootIm...Tutorial5] org...streamer.tutorials.tutorial_5  D  setView = com.android.internal.policy.DecorView@2267800 TM=true MM=false\r\n2023-08-04 14:03:22.240 15744-15744 SurfaceView             org...streamer.tutorials.tutorial_5  D  onWindowVisibilityChanged(0) true org.freedesktop.gstreamer.tutorials.tutorial_5.GStreamerSurfaceView{b5f9fb4 V.E...... ......I. 0,0-0,0 #7f07007d app:id/surface_video} of ViewRootImpl@b3568ab[Tutorial5]\r\n2023-08-04 14:03:22.240 15744-15795 GStreamer+glcontext     org...streamer.tutorials.tutorial_5  W  0:00:00.133592292 0x7648b59f00 ../gst-libs/gst/gl/egl/gstglcontext_egl.c:553:gst_gl_context_egl_dump_config:&lt;glcontextegl0&gt; unknown EGL_COLOR_BUFFER_TYPE value 3300\r\n... repeats ..\r\n2023-08-04 14:03:22.243 15744-15744 GStreamer               org...streamer.tutorials.tutorial_5  I  onMeasure called with 320x240\r\n2023-08-04 14:03:22.245 15744-15798 GStreamer+glcontext     org...streamer.tutorials.tutorial_5  W  0:00:00.138893750 0x76a489a240 ../gst-libs/gst/gl/egl/gstglcontext_egl.c:553:gst_gl_context_egl_dump_config:&lt;glcontextegl1&gt; unknown EGL_COLOR_BUFFER_TYPE value 3300\r\n... repeats ...\r\n2023-08-04 14:03:22.248 15744-15744 ViewRootIm...Tutorial5] org...streamer.tutorials.tutorial_5  D  Relayout returned: old=(0,0,1080,2400) new=(0,0,1080,2400) req=(1080,2400)0 dur=4 res=0x7 s={true 508010508288} ch=true\r\n2023-08-04 14:03:22.248 15744-15782 OpenGLRenderer          org...streamer.tutorials.tutorial_5  D  createReliableSurface : 0x773ff9e240(0x7647c93000)\r\n2023-08-04 14:03:22.249 15744-15793 GStreamer+tutorial-5    org...streamer.tutorials.tutorial_5  D  0:00:00.142321250 0x7648b92460 C:/software/gstreamer-1.22/subprojects/gst-docs/examples/tutorials/android/android-tutorial-5/jni/tutorial-5.c:450:app_function Entering main loop... (CustomData:0x7648beafe0)\r\n2023-08-04 14:03:22.249 15744-15793 GStreamer+tutorial-5    org...streamer.tutorials.tutorial_5  D  0:00:00.142345729 0x7648b92460 C:/software/gstreamer-1.22/subprojects/gst-docs/examples/tutorials/android/android-tutorial-5/jni/tutorial-5.c:75:attach_current_thread Attaching thread 0x7648b92460\r\n2023-08-04 14:03:22.249 15744-15793 GStreamer+tutorial-5    org...streamer.tutorials.tutorial_5  D  0:00:00.142797604 0x7648b92460 C:/software/gstreamer-1.22/subprojects/gst-docs/examples/tutorials/android/android-tutorial-5/jni/tutorial-5.c:115:set_ui_message Setting message to: State changed to READY\r\n2023-08-04 14:03:22.249 15744-15782 OpenGLRenderer          org...streamer.tutorials.tutorial_5  D  makeCurrent EglSurface : 0x0 -&gt; 0x0\r\n2023-08-04 14:03:22.250 15744-15744 GStreamer               org...streamer.tutorials.tutorial_5  I  onMeasure called with 320x240\r\n2023-08-04 14:03:22.253 15744-15744 SurfaceView             org...streamer.tutorials.tutorial_5  D  surfaceCreated 1 #8 org.freedesktop.gstreamer.tutorials.tutorial_5.GStreamerSurfaceView{b5f9fb4 V.E...... ......ID 0,964-1080,1774 #7f07007d app:id/surface_video}\r\n2023-08-04 14:03:22.253 15744-15744 GStreamer               org...streamer.tutorials.tutorial_5  D  Surface created: Surface(name=null)/@0x5c81638\r\n2023-08-04 14:03:22.253 15744-15744 SurfaceView             org...streamer.tutorials.tutorial_5  D  surfaceChanged (1080,810) 1 #8 org.freedesktop.gstreamer.tutorials.tutorial_5.GStreamerSurfaceView{b5f9fb4 V.E...... ......ID 0,964-1080,1774 #7f07007d app:id/surface_video}\r\n2023-08-04 14:03:22.254 15744-15744 GStreamer               org...streamer.tutorials.tutorial_5  D  Surface changed to format 4 width 1080 height 810\r\n2023-08-04 14:03:22.254 15744-15744 GStreamer+tutorial-5    org...streamer.tutorials.tutorial_5  D  0:00:00.147286094 0x76a8551380 C:/software/gstreamer-1.22/subprojects/gst-docs/examples/tutorials/android/android-tutorial-5/jni/tutorial-5.c:621:gst_native_surface_init Received surface 0x7fc630eb28 (native window 0x7647ce3010)\r\n2023-08-04 14:03:22.254 15744-15744 GStreamer+tutorial-5    org...streamer.tutorials.tutorial_5  D  0:00:00.147315417 0x76a8551380 C:/software/gstreamer-1.22/subprojects/gst-docs/examples/tutorials/android/android-tutorial-5/jni/tutorial-5.c:75:attach_current_thread Attaching thread 0x76a8551380\r\n2023-08-04 14:03:22.254 15744-15744 GStreamer+tutorial-5    org...streamer.tutorials.tutorial_5  D  0:00:00.147326510 0x76a8551380 C:/software/gstreamer-1.22/subprojects/gst-docs/examples/tutorials/android/android-tutorial-5/jni/tutorial-5.c:369:check_initialization_complete Initialization complete, notifying application. native_window:0x7647ce3010 main_loop:0x76ac99c150\r\n2023-08-04 14:03:22.254 15744-15744 GLib+GLib-GObject       org...streamer.tutorials.tutorial_5  W  invalid cast from &#39;GstPipeline&#39; to &#39;GstVideoOverlay&#39;\r\n2023-08-04 14:03:22.254 15744-15744 GLib+GStreamer-Video    org...streamer.tutorials.tutorial_5  E  gst_video_overlay_set_window_handle: assertion &#39;GST_IS_VIDEO_OVERLAY (overlay)&#39; failed\r\n2023-08-04 14:03:22.254 15744-15744 GStreamer               org...streamer.tutorials.tutorial_5  I  GStreamer initialized:\r\n2023-08-04 14:03:22.254 15744-15744 GStreamer               org...streamer.tutorials.tutorial_5  I    playing:false position:0 uri: rtsp://192.168.1.20:8554/test\r\n2023-08-04 14:03:22.254 15744-15744 GStreamer+tutorial-5    org...streamer.tutorials.tutorial_5  D  0:00:00.147399167 0x76a8551380 C:/software/gstreamer-1.22/subprojects/gst-docs/examples/tutorials/android/android-tutorial-5/jni/tutorial-5.c:529:gst_native_set_uri Setting URI to rtsp://192.168.1.20:8554/test\r\n2023-08-04 14:03:22.254 15744-15744 GLib+GLib-GObject       org...streamer.tutorials.tutorial_5  W  g_object_set_is_valid_property: object class &#39;GstPipeline&#39; has no property named &#39;uri&#39;\r\n2023-08-04 14:03:22.254 15744-15744 GStreamer+tutorial-5    org...streamer.tutorials.tutorial_5  D  0:00:00.147559115 0x76a8551380 C:/software/gstreamer-1.22/subprojects/gst-docs/examples/tutorials/android/android-tutorial-5/jni/tutorial-5.c:580:gst_native_set_position Scheduling seek to 0:00:00.000000000 for later\r\n2023-08-04 14:03:22.254 15744-15744 GStreamer+tutorial-5    org...streamer.tutorials.tutorial_5  D  0:00:00.147580417 0x76a8551380 C:/software/gstreamer-1.22/subprojects/gst-docs/examples/tutorials/android/android-tutorial-5/jni/tutorial-5.c:561:gst_native_pause Setting state to PAUSED\r\n2023-08-04 14:03:22.254 15744-15793 GStreamer+tutorial-5    org...streamer.tutorials.tutorial_5  D  0:00:00.148201146 0x7648b92460 C:/software/gstreamer-1.22/subprojects/gst-docs/examples/tutorials/android/android-tutorial-5/jni/tutorial-5.c:115:set_ui_message Setting message to: State changed to PAUSED\r\n2023-08-04 14:03:22.255 15744-15793 GLib+GLib-GObject       org...streamer.tutorials.tutorial_5  W  g_object_get_is_valid_property: object class &#39;GstPipeline&#39; has no property named &#39;video-sink&#39;\r\n2023-08-04 14:03:22.255 15744-15793 ials.tutorial_          org...streamer.tutorials.tutorial_5  W  0xebadde09 skipped times: 0\r\n2023-08-04 14:03:22.255 15744-15793 libc                    org...streamer.tutorials.tutorial_5  A  Fatal signal 11 (SIGSEGV), code 2 (SEGV_ACCERR), fault addr 0x773b7f9c54 in tid 15793 (Thread-8), pid 15744 (ials.tutorial_5)\r\n2023-08-04 14:03:22.265 15744-15782 OpenGLRenderer          org...streamer.tutorials.tutorial_5  D  makeCurrent EglSurface : 0x0 -&gt; 0x763fc26600\r\n2023-08-04 14:03:22.331 15744-15782 NativeCust...ncyManager org...streamer.tutorials.tutorial_5  E  [NativeCFMS] BpCustomFrequencyManager::sendDrawingTid()\r\n2023-08-04 14:03:22.331 15744-15782 OpenGLRenderer          org...streamer.tutorials.tutorial_5  D  GPIS:: SetUp Pid : 15744    Tid : 15782\r\n2023-08-04 14:03:22.341 15744-15744 ViewRootIm...Tutorial5] org...streamer.tutorials.tutorial_5  D  Relayout returned: old=(0,0,1080,2400) new=(0,0,1080,2400) req=(1080,2400)0 dur=3 res=0x1 s={true 508010508288} ch=false\r\n2023-08-04 14:03:22.343 15744-15744 ViewRootIm...Tutorial5] org...streamer.tutorials.tutorial_5  D  MSG_WINDOW_FOCUS_CHANGED 1 1\r\n2023-08-04 14:03:22.344 15744-15744 InputMethodManager      org...streamer.tutorials.tutorial_5  D  prepareNavigationBarInfo() DecorView@2267800[Tutorial5]\r\n2023-08-04 14:03:22.344 15744-15744 InputMethodManager      org...streamer.tutorials.tutorial_5  D  getNavigationBarColor() -855310\r\n2023-08-04 14:03:22.348 15744-15744 EmergencyMode           org...streamer.tutorials.tutorial_5  D  [EmergencyManager] android createPackageContext successful\r\n2023-08-04 14:03:22.351 15744-15744 InputMethodManager      org...streamer.tutorials.tutorial_5  D  prepareNavigationBarInfo() DecorView@2267800[Tutorial5]\r\n2023-08-04 14:03:22.351 15744-15744 InputMethodManager      org...streamer.tutorials.tutorial_5  D  getNavigationBarColor() -855310\r\n2023-08-04 14:03:22.351 15744-15744 InputMethodManager      org...streamer.tutorials.tutorial_5  V  Starting input: tba=org.freedesktop.gstreamer.tutorials.tutorial_5 ic=null mNaviBarColor -855310 mIsGetNaviBarColorSuccess true , NavVisible : true , NavTrans : false\r\n2023-08-04 14:03:22.351 15744-15744 InputMethodManager      org...streamer.tutorials.tutorial_5  D  startInputInner - Id : 0\r\n2023-08-04 14:03:22.351 15744-15744 InputMethodManager      org...streamer.tutorials.tutorial_5  I  startInputInner - mService.startInputOrWindowGainedFocus\r\n2023-08-04 14:03:22.354 15744-15744 ViewRootIm...Tutorial5] org...streamer.tutorials.tutorial_5  D  MSG_RESIZED: frame=(0,0,1080,2400) ci=(0,78,0,144) vi=(0,78,0,144) or=1\r\n2023-08-04 14:03:22.354 15744-15744 InputMethodManager      org...streamer.tutorials.tutorial_5  D  prepareNavigationBarInfo() DecorView@2267800[Tutorial5]\r\n2023-08-04 14:03:22.354 15744-15744 InputMethodManager      org...streamer.tutorials.tutorial_5  D  getNavigationBarColor() -855310\r\n2023-08-04 14:03:22.354 15744-15744 InputMethodManager      org...streamer.tutorials.tutorial_5  V  Starting input: tba=org.freedesktop.gstreamer.tutorials.tutorial_5 ic=null mNaviBarColor -855310 mIsGetNaviBarColorSuccess true , NavVisible : true , NavTrans : false\r\n2023-08-04 14:03:22.354 15744-15744 InputMethodManager      org...streamer.tutorials.tutorial_5  D  startInputInner - Id : 0\r\n---------------------------- PROCESS ENDED (15744) for package org.freedesktop.gstreamer.tutorials.tutorial_5 ----------------------------\r\n                                                                                              \r\n```\r\n\r\nFor background, I&#39;ve been able to open rtsp streams and other example video sources on the device just fine with gstreamer for android. Any help is appreciated, thanks in advance.","title":"Gstreamer udpsrc fails on Android","body":"<p>I'm attempting to open an rtp stream sent over udp and encoded as h.264 with gstreamer android. I am able to open said stream on my laptop using gst-launch-1.0 with the following gstreamer pipeline string:</p>\n<pre><code>&quot;gst-launch-1.0 udpsrc port=4711 ! application/x-rtp,media=video,encoding-name=H264,payload=96 ! rtph264depay ! decodebin ! autovideosink&quot;\n</code></pre>\n<p>I've modified gstreamer android example tutorial-5.c to use the same pipeline string when creating the relevant gstreamer pipeline element. Specifically, I've changed the line in app_function (void *userdata) that originally called a playbin element to interpret a URI string to the following :</p>\n<pre><code>  data-&gt;pipeline = gst_parse_launch(&quot;udpsrc port=4711 ! application/x-rtp,media=video,encoding-name=H264,payload=96 ! rtph264depay ! decodebin ! autovideosink&quot;, &amp;error);\n</code></pre>\n<p>However, when I run the application in emulator on a device, it crashes. Here is the logcat output:</p>\n<pre><code>---------------------------- PROCESS STARTED (15744) for package org.freedesktop.gstreamer.tutorials.tutorial_5 ----------------------------\n2023-08-04 14:03:22.115 15744-15744 GStreamer+...tivedemux2 org...streamer.tutorials.tutorial_5  W  0:00:00.008497396 0x76a8551380 ../ext/adaptivedemux2/gstadaptivedemuxelement.c:41:adaptivedemux2_base_element_init Failed to load libsoup library\n2023-08-04 14:03:22.116 15744-15744 GStreamer+...tivedemux2 org...streamer.tutorials.tutorial_5  W  0:00:00.009767969 0x76a8551380 ../ext/adaptivedemux2/gstadaptivedemuxelement.c:41:adaptivedemux2_base_element_init Failed to load libsoup library\n2023-08-04 14:03:22.117 15744-15744 GStreamer+...tivedemux2 org...streamer.tutorials.tutorial_5  W  0:00:00.010928594 0x76a8551380 ../ext/adaptivedemux2/gstadaptivedemuxelement.c:41:adaptivedemux2_base_element_init Failed to load libsoup library\n2023-08-04 14:03:22.133 15744-15744 VideoCapabilities       org...streamer.tutorials.tutorial_5  W  Unsupported mime image/vnd.android.heic\n2023-08-04 14:03:22.141 15744-15744 AudioCapabilities       org...streamer.tutorials.tutorial_5  W  Unsupported mime audio/x-ima\n2023-08-04 14:03:22.141 15744-15744 AudioCapabilities       org...streamer.tutorials.tutorial_5  W  Unsupported mime audio/x-ape\n2023-08-04 14:03:22.142 15744-15744 AudioCapabilities       org...streamer.tutorials.tutorial_5  W  Unsupported mime audio/evrc\n2023-08-04 14:03:22.142 15744-15744 AudioCapabilities       org...streamer.tutorials.tutorial_5  W  Unsupported mime audio/mpeg-L1\n2023-08-04 14:03:22.143 15744-15744 AudioCapabilities       org...streamer.tutorials.tutorial_5  W  Unsupported mime audio/mpeg-L2\n2023-08-04 14:03:22.143 15744-15744 AudioCapabilities       org...streamer.tutorials.tutorial_5  W  Unsupported mime audio/qcelp\n2023-08-04 14:03:22.143 15744-15744 AudioCapabilities       org...streamer.tutorials.tutorial_5  W  Unsupported mime audio/x-ms-wma\n2023-08-04 14:03:22.143 15744-15744 AudioCapabilities       org...streamer.tutorials.tutorial_5  W  Unsupported mime audio/evrc\n2023-08-04 14:03:22.143 15744-15744 AudioCapabilities       org...streamer.tutorials.tutorial_5  W  Unsupported mime audio/qcelp\n2023-08-04 14:03:22.156 15744-15744 VideoCapabilities       org...streamer.tutorials.tutorial_5  W  Unsupported mime video/mp43\n2023-08-04 14:03:22.157 15744-15744 VideoCapabilities       org...streamer.tutorials.tutorial_5  W  Unrecognized profile/level 1/32 for video/mp4v-es\n2023-08-04 14:03:22.157 15744-15744 VideoCapabilities       org...streamer.tutorials.tutorial_5  W  Unrecognized profile/level 32768/2 for video/mp4v-es\n2023-08-04 14:03:22.157 15744-15744 VideoCapabilities       org...streamer.tutorials.tutorial_5  W  Unrecognized profile/level 32768/64 for video/mp4v-es\n2023-08-04 14:03:22.157 15744-15744 VideoCapabilities       org...streamer.tutorials.tutorial_5  W  Unsupported mime video/wvc1\n2023-08-04 14:03:22.158 15744-15744 VideoCapabilities       org...streamer.tutorials.tutorial_5  W  Unsupported mime video/x-ms-wmv7\n2023-08-04 14:03:22.158 15744-15744 VideoCapabilities       org...streamer.tutorials.tutorial_5  W  Unsupported mime video/x-ms-wmv8\n2023-08-04 14:03:22.158 15744-15744 GStreamer+amc           org...streamer.tutorials.tutorial_5  E  0:00:00.052010521 0x76a8551380 ../sys/androidmedia/gstamc.c:551:accepted_color_formats Unknown color format 0x7fa30c06, ignoring\n2023-08-04 14:03:22.158 15744-15744 GStreamer+amc           org...streamer.tutorials.tutorial_5  E  0:00:00.052055625 0x76a8551380 ../sys/androidmedia/gstamc.c:551:accepted_color_formats Unknown color format 0x6, ignoring\n2023-08-04 14:03:22.158 15744-15744 GStreamer+amc           org...streamer.tutorials.tutorial_5  W  0:00:00.052066354 0x76a8551380 ../sys/androidmedia/gstamc.c:311:scan_codecs video/avc decoder has unknown color formats, only direct rendering will be supported\n2023-08-04 14:03:22.158 15744-15744 GStreamer+amc           org...streamer.tutorials.tutorial_5  E  0:00:00.052139375 0x76a8551380 ../sys/androidmedia/gstamc.c:551:accepted_color_formats Unknown color format 0x7fa30c06, ignoring\n... repeats ...\n202023-08-04 14:03:22.166 15744-15744 GStreamer+amc           org...streamer.tutorials.tutorial_5  W  0:00:00.059945104 0x76a8551380 ../sys/androidmedia/gstamc.c:2421:gst_amc_codec_info_to_caps Unsupported mimetype 'video/x-ms-wmv7'\n2023-08-04 14:03:22.166 15744-15744 GStreamer+amc           org...streamer.tutorials.tutorial_5  W  0:00:00.059977240 0x76a8551380 ../sys/androidmedia/gstamc.c:2421:gst_amc_codec_info_to_caps Unsupported mimetype 'video/x-ms-wmv8'\n2023-08-04 14:03:22.168 15744-15744 GLib+GLib               org...streamer.tutorials.tutorial_5  W  GError set over the top of a previous GError or uninitialized memory.\n                                                                                                    This indicates a bug in someone's code. You must ensure an error is NULL before it's set.\n                                                                                                    The overwriting error message was: Failed to get static field ID EFFECT_SKETCH (Ljava/lang/String;): java.lang.NoSuchFieldError: no &quot;Ljava/lang/String;&quot; field &quot;EFFECT_SKETCH&quot; in class &quot;Landroid/hardware/Camera$Parameters;&quot; or its superclasses\n                                                                                                    java.lang.NoSuchFieldError: no &quot;Ljava/lang/String;&quot; field &quot;EFFECT_SKETCH&quot; in class &quot;Landroid/hardware/Camera$Parameters;&quot; or its superclasses\n                                                                                                        at org.freedesktop.gstreamer.GStreamer.nativeInit(Native Method)\n                                                                                                        at org.freedesktop.gstreamer.GStreamer.init(GStreamer.java:24)\n                                                                                                        at org.freedesktop.gstreamer.tutorials.tutorial_5.Tutorial5.onCreate(Tutorial5.java:64)\n                                                                                                        at android.app.Activity.performCreate(Activity.java:7957)\n                                                                                                        at android.app.Activity.performCreate(Activity.java:7946)\n                                                                                                        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1307)\n                                                                                                        at android.app.ActivityThread.performLaunchActivity(Activity\n2023-08-04 14:03:22.169 15744-15744 GLib+GLib-GObject       org...streamer.tutorials.tutorial_5  E  Object class GstAHCSrc doesn't implement property 'exposure-mode' from interface 'GstPhotography'\n2023-08-04 14:03:22.194 15744-15744 GStreamer               org...streamer.tutorials.tutorial_5  I  GStreamer initialization complete\n2023-08-04 14:03:22.198 15744-15744 MultiWindowDecorSupport org...streamer.tutorials.tutorial_5  I  updateCaptionType &gt;&gt; DecorView@2267800[], isFloating: false, isApplication: true, hasWindowDecorCaption: false, hasWindowControllerCallback: true\n2023-08-04 14:03:22.198 15744-15744 MultiWindowDecorSupport org...streamer.tutorials.tutorial_5  D  setCaptionType = 0, DecorView = DecorView@2267800[]\n2023-08-04 14:03:22.226 15744-15744 GStreamer               org...streamer.tutorials.tutorial_5  I  Activity created with no saved state:\n2023-08-04 14:03:22.226 15744-15744 GStreamer               org...streamer.tutorials.tutorial_5  I    playing:false position:0 duration: 0 uri: rtsp://192.168.1.20:8554/test\n2023-08-04 14:03:22.226 15744-15744 GStreamer+tutorial-5    org...streamer.tutorials.tutorial_5  D  0:00:00.120206667 0x76a8551380 C:/software/gstreamer-1.22/subprojects/gst-docs/examples/tutorials/android/android-tutorial-5/jni/tutorial-5.c:483:gst_native_init Created CustomData at 0x7648beafe0\n2023-08-04 14:03:22.227 15744-15744 GStreamer+tutorial-5    org...streamer.tutorials.tutorial_5  D  0:00:00.120244948 0x76a8551380 C:/software/gstreamer-1.22/subprojects/gst-docs/examples/tutorials/android/android-tutorial-5/jni/tutorial-5.c:485:gst_native_init Created GlobalRef for app object at 0x3f36\n2023-08-04 14:03:22.227 15744-15793 GStreamer+tutorial-5    org...streamer.tutorials.tutorial_5  D  0:00:00.120363594 0x7648b92460 C:/software/gstreamer-1.22/subprojects/gst-docs/examples/tutorials/android/android-tutorial-5/jni/tutorial-5.c:396:app_function Creating pipeline in CustomData at 0x7648beafe0\n2023-08-04 14:03:22.228 15744-15793 GLib+GLib-GObject       org...streamer.tutorials.tutorial_5  W  g_object_get_is_valid_property: object class 'GstPipeline' has no property named 'flags'\n2023-08-04 14:03:22.228 15744-15793 GLib+GLib-GObject       org...streamer.tutorials.tutorial_5  W  g_object_set_is_valid_property: object class 'GstPipeline' has no property named 'flags'\n2023-08-04 14:03:22.232 15744-15795 AdrenoGLES-0            org...streamer.tutorials.tutorial_5  I  QUALCOMM build                   : f141d58, If15e50a99e\n                                                                                                    Build Date                       : 06/10/20\n                                                                                                    OpenGL ES Shader Compiler Version: EV031.29.00.08\n                                                                                                    Local Branch                     : \n                                                                                                    Remote Branch                    : refs/tags/AU_LINUX_ANDROID_LA.UM.8.12.C1.10.00.00.649.113\n                                                                                                    Remote Branch                    : NONE\n                                                                                                    Reconstruct Branch               : NOTHING\n2023-08-04 14:03:22.232 15744-15795 AdrenoGLES-0            org...streamer.tutorials.tutorial_5  I  Build Config                     : S P 8.0.12 AArch64\n2023-08-04 14:03:22.232 15744-15795 AdrenoGLES-0            org...streamer.tutorials.tutorial_5  I  Driver Path                      : /vendor/lib64/egl/libGLESv2_adreno.so\n2023-08-04 14:03:22.232 15744-15782 NativeCust...ncyManager org...streamer.tutorials.tutorial_5  D  [NativeCFMS] BpCustomFrequencyManager::BpCustomFrequencyManager()\n2023-08-04 14:03:22.235 15744-15795 AdrenoGLES-0            org...streamer.tutorials.tutorial_5  I  PFP: 0x016dd087, ME: 0x00000000\n2023-08-04 14:03:22.236 15744-15744 ViewRootIm...Tutorial5] org...streamer.tutorials.tutorial_5  D  setView = com.android.internal.policy.DecorView@2267800 TM=true MM=false\n2023-08-04 14:03:22.240 15744-15744 SurfaceView             org...streamer.tutorials.tutorial_5  D  onWindowVisibilityChanged(0) true org.freedesktop.gstreamer.tutorials.tutorial_5.GStreamerSurfaceView{b5f9fb4 V.E...... ......I. 0,0-0,0 #7f07007d app:id/surface_video} of ViewRootImpl@b3568ab[Tutorial5]\n2023-08-04 14:03:22.240 15744-15795 GStreamer+glcontext     org...streamer.tutorials.tutorial_5  W  0:00:00.133592292 0x7648b59f00 ../gst-libs/gst/gl/egl/gstglcontext_egl.c:553:gst_gl_context_egl_dump_config:&lt;glcontextegl0&gt; unknown EGL_COLOR_BUFFER_TYPE value 3300\n... repeats ..\n2023-08-04 14:03:22.243 15744-15744 GStreamer               org...streamer.tutorials.tutorial_5  I  onMeasure called with 320x240\n2023-08-04 14:03:22.245 15744-15798 GStreamer+glcontext     org...streamer.tutorials.tutorial_5  W  0:00:00.138893750 0x76a489a240 ../gst-libs/gst/gl/egl/gstglcontext_egl.c:553:gst_gl_context_egl_dump_config:&lt;glcontextegl1&gt; unknown EGL_COLOR_BUFFER_TYPE value 3300\n... repeats ...\n2023-08-04 14:03:22.248 15744-15744 ViewRootIm...Tutorial5] org...streamer.tutorials.tutorial_5  D  Relayout returned: old=(0,0,1080,2400) new=(0,0,1080,2400) req=(1080,2400)0 dur=4 res=0x7 s={true 508010508288} ch=true\n2023-08-04 14:03:22.248 15744-15782 OpenGLRenderer          org...streamer.tutorials.tutorial_5  D  createReliableSurface : 0x773ff9e240(0x7647c93000)\n2023-08-04 14:03:22.249 15744-15793 GStreamer+tutorial-5    org...streamer.tutorials.tutorial_5  D  0:00:00.142321250 0x7648b92460 C:/software/gstreamer-1.22/subprojects/gst-docs/examples/tutorials/android/android-tutorial-5/jni/tutorial-5.c:450:app_function Entering main loop... (CustomData:0x7648beafe0)\n2023-08-04 14:03:22.249 15744-15793 GStreamer+tutorial-5    org...streamer.tutorials.tutorial_5  D  0:00:00.142345729 0x7648b92460 C:/software/gstreamer-1.22/subprojects/gst-docs/examples/tutorials/android/android-tutorial-5/jni/tutorial-5.c:75:attach_current_thread Attaching thread 0x7648b92460\n2023-08-04 14:03:22.249 15744-15793 GStreamer+tutorial-5    org...streamer.tutorials.tutorial_5  D  0:00:00.142797604 0x7648b92460 C:/software/gstreamer-1.22/subprojects/gst-docs/examples/tutorials/android/android-tutorial-5/jni/tutorial-5.c:115:set_ui_message Setting message to: State changed to READY\n2023-08-04 14:03:22.249 15744-15782 OpenGLRenderer          org...streamer.tutorials.tutorial_5  D  makeCurrent EglSurface : 0x0 -&gt; 0x0\n2023-08-04 14:03:22.250 15744-15744 GStreamer               org...streamer.tutorials.tutorial_5  I  onMeasure called with 320x240\n2023-08-04 14:03:22.253 15744-15744 SurfaceView             org...streamer.tutorials.tutorial_5  D  surfaceCreated 1 #8 org.freedesktop.gstreamer.tutorials.tutorial_5.GStreamerSurfaceView{b5f9fb4 V.E...... ......ID 0,964-1080,1774 #7f07007d app:id/surface_video}\n2023-08-04 14:03:22.253 15744-15744 GStreamer               org...streamer.tutorials.tutorial_5  D  Surface created: Surface(name=null)/@0x5c81638\n2023-08-04 14:03:22.253 15744-15744 SurfaceView             org...streamer.tutorials.tutorial_5  D  surfaceChanged (1080,810) 1 #8 org.freedesktop.gstreamer.tutorials.tutorial_5.GStreamerSurfaceView{b5f9fb4 V.E...... ......ID 0,964-1080,1774 #7f07007d app:id/surface_video}\n2023-08-04 14:03:22.254 15744-15744 GStreamer               org...streamer.tutorials.tutorial_5  D  Surface changed to format 4 width 1080 height 810\n2023-08-04 14:03:22.254 15744-15744 GStreamer+tutorial-5    org...streamer.tutorials.tutorial_5  D  0:00:00.147286094 0x76a8551380 C:/software/gstreamer-1.22/subprojects/gst-docs/examples/tutorials/android/android-tutorial-5/jni/tutorial-5.c:621:gst_native_surface_init Received surface 0x7fc630eb28 (native window 0x7647ce3010)\n2023-08-04 14:03:22.254 15744-15744 GStreamer+tutorial-5    org...streamer.tutorials.tutorial_5  D  0:00:00.147315417 0x76a8551380 C:/software/gstreamer-1.22/subprojects/gst-docs/examples/tutorials/android/android-tutorial-5/jni/tutorial-5.c:75:attach_current_thread Attaching thread 0x76a8551380\n2023-08-04 14:03:22.254 15744-15744 GStreamer+tutorial-5    org...streamer.tutorials.tutorial_5  D  0:00:00.147326510 0x76a8551380 C:/software/gstreamer-1.22/subprojects/gst-docs/examples/tutorials/android/android-tutorial-5/jni/tutorial-5.c:369:check_initialization_complete Initialization complete, notifying application. native_window:0x7647ce3010 main_loop:0x76ac99c150\n2023-08-04 14:03:22.254 15744-15744 GLib+GLib-GObject       org...streamer.tutorials.tutorial_5  W  invalid cast from 'GstPipeline' to 'GstVideoOverlay'\n2023-08-04 14:03:22.254 15744-15744 GLib+GStreamer-Video    org...streamer.tutorials.tutorial_5  E  gst_video_overlay_set_window_handle: assertion 'GST_IS_VIDEO_OVERLAY (overlay)' failed\n2023-08-04 14:03:22.254 15744-15744 GStreamer               org...streamer.tutorials.tutorial_5  I  GStreamer initialized:\n2023-08-04 14:03:22.254 15744-15744 GStreamer               org...streamer.tutorials.tutorial_5  I    playing:false position:0 uri: rtsp://192.168.1.20:8554/test\n2023-08-04 14:03:22.254 15744-15744 GStreamer+tutorial-5    org...streamer.tutorials.tutorial_5  D  0:00:00.147399167 0x76a8551380 C:/software/gstreamer-1.22/subprojects/gst-docs/examples/tutorials/android/android-tutorial-5/jni/tutorial-5.c:529:gst_native_set_uri Setting URI to rtsp://192.168.1.20:8554/test\n2023-08-04 14:03:22.254 15744-15744 GLib+GLib-GObject       org...streamer.tutorials.tutorial_5  W  g_object_set_is_valid_property: object class 'GstPipeline' has no property named 'uri'\n2023-08-04 14:03:22.254 15744-15744 GStreamer+tutorial-5    org...streamer.tutorials.tutorial_5  D  0:00:00.147559115 0x76a8551380 C:/software/gstreamer-1.22/subprojects/gst-docs/examples/tutorials/android/android-tutorial-5/jni/tutorial-5.c:580:gst_native_set_position Scheduling seek to 0:00:00.000000000 for later\n2023-08-04 14:03:22.254 15744-15744 GStreamer+tutorial-5    org...streamer.tutorials.tutorial_5  D  0:00:00.147580417 0x76a8551380 C:/software/gstreamer-1.22/subprojects/gst-docs/examples/tutorials/android/android-tutorial-5/jni/tutorial-5.c:561:gst_native_pause Setting state to PAUSED\n2023-08-04 14:03:22.254 15744-15793 GStreamer+tutorial-5    org...streamer.tutorials.tutorial_5  D  0:00:00.148201146 0x7648b92460 C:/software/gstreamer-1.22/subprojects/gst-docs/examples/tutorials/android/android-tutorial-5/jni/tutorial-5.c:115:set_ui_message Setting message to: State changed to PAUSED\n2023-08-04 14:03:22.255 15744-15793 GLib+GLib-GObject       org...streamer.tutorials.tutorial_5  W  g_object_get_is_valid_property: object class 'GstPipeline' has no property named 'video-sink'\n2023-08-04 14:03:22.255 15744-15793 ials.tutorial_          org...streamer.tutorials.tutorial_5  W  0xebadde09 skipped times: 0\n2023-08-04 14:03:22.255 15744-15793 libc                    org...streamer.tutorials.tutorial_5  A  Fatal signal 11 (SIGSEGV), code 2 (SEGV_ACCERR), fault addr 0x773b7f9c54 in tid 15793 (Thread-8), pid 15744 (ials.tutorial_5)\n2023-08-04 14:03:22.265 15744-15782 OpenGLRenderer          org...streamer.tutorials.tutorial_5  D  makeCurrent EglSurface : 0x0 -&gt; 0x763fc26600\n2023-08-04 14:03:22.331 15744-15782 NativeCust...ncyManager org...streamer.tutorials.tutorial_5  E  [NativeCFMS] BpCustomFrequencyManager::sendDrawingTid()\n2023-08-04 14:03:22.331 15744-15782 OpenGLRenderer          org...streamer.tutorials.tutorial_5  D  GPIS:: SetUp Pid : 15744    Tid : 15782\n2023-08-04 14:03:22.341 15744-15744 ViewRootIm...Tutorial5] org...streamer.tutorials.tutorial_5  D  Relayout returned: old=(0,0,1080,2400) new=(0,0,1080,2400) req=(1080,2400)0 dur=3 res=0x1 s={true 508010508288} ch=false\n2023-08-04 14:03:22.343 15744-15744 ViewRootIm...Tutorial5] org...streamer.tutorials.tutorial_5  D  MSG_WINDOW_FOCUS_CHANGED 1 1\n2023-08-04 14:03:22.344 15744-15744 InputMethodManager      org...streamer.tutorials.tutorial_5  D  prepareNavigationBarInfo() DecorView@2267800[Tutorial5]\n2023-08-04 14:03:22.344 15744-15744 InputMethodManager      org...streamer.tutorials.tutorial_5  D  getNavigationBarColor() -855310\n2023-08-04 14:03:22.348 15744-15744 EmergencyMode           org...streamer.tutorials.tutorial_5  D  [EmergencyManager] android createPackageContext successful\n2023-08-04 14:03:22.351 15744-15744 InputMethodManager      org...streamer.tutorials.tutorial_5  D  prepareNavigationBarInfo() DecorView@2267800[Tutorial5]\n2023-08-04 14:03:22.351 15744-15744 InputMethodManager      org...streamer.tutorials.tutorial_5  D  getNavigationBarColor() -855310\n2023-08-04 14:03:22.351 15744-15744 InputMethodManager      org...streamer.tutorials.tutorial_5  V  Starting input: tba=org.freedesktop.gstreamer.tutorials.tutorial_5 ic=null mNaviBarColor -855310 mIsGetNaviBarColorSuccess true , NavVisible : true , NavTrans : false\n2023-08-04 14:03:22.351 15744-15744 InputMethodManager      org...streamer.tutorials.tutorial_5  D  startInputInner - Id : 0\n2023-08-04 14:03:22.351 15744-15744 InputMethodManager      org...streamer.tutorials.tutorial_5  I  startInputInner - mService.startInputOrWindowGainedFocus\n2023-08-04 14:03:22.354 15744-15744 ViewRootIm...Tutorial5] org...streamer.tutorials.tutorial_5  D  MSG_RESIZED: frame=(0,0,1080,2400) ci=(0,78,0,144) vi=(0,78,0,144) or=1\n2023-08-04 14:03:22.354 15744-15744 InputMethodManager      org...streamer.tutorials.tutorial_5  D  prepareNavigationBarInfo() DecorView@2267800[Tutorial5]\n2023-08-04 14:03:22.354 15744-15744 InputMethodManager      org...streamer.tutorials.tutorial_5  D  getNavigationBarColor() -855310\n2023-08-04 14:03:22.354 15744-15744 InputMethodManager      org...streamer.tutorials.tutorial_5  V  Starting input: tba=org.freedesktop.gstreamer.tutorials.tutorial_5 ic=null mNaviBarColor -855310 mIsGetNaviBarColorSuccess true , NavVisible : true , NavTrans : false\n2023-08-04 14:03:22.354 15744-15744 InputMethodManager      org...streamer.tutorials.tutorial_5  D  startInputInner - Id : 0\n---------------------------- PROCESS ENDED (15744) for package org.freedesktop.gstreamer.tutorials.tutorial_5 ----------------------------\n                                                                                              \n</code></pre>\n<p>For background, I've been able to open rtsp streams and other example video sources on the device just fine with gstreamer for android. Any help is appreciated, thanks in advance.</p>\n"},{"tags":["java","spring","spring-boot","pdf","swagger"],"answers":[{"tags":[],"owner":{"account_id":4741976,"reputation":5385,"user_id":3834413,"display_name":"Eugene"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1648386892,"creation_date":1648384908,"answer_id":71636409,"question_id":71635756,"body_markdown":"You need to specify the response PDF Media Type for your resource.\r\n&lt;br&gt;See [RFC standart][1]. [Full list of Media Types][2].\r\n&lt;br&gt;Spring documentation regarding [produces Media Type][3].\r\n```java\r\n    @GetMapping(value = &quot;/previewPDF/{codeStudent}&quot;, produces = MediaType.APPLICATION_PDF_VALUE)\r\n    public ResponseEntity&lt;byte[]&gt; previewPDF(@PathVariable(&quot;codeStudent&quot;) String code) throws IOException\r\n```\r\nSet also PDF content type for your `ResponseEntity`\r\n```java\r\n    @GetMapping(value = &quot;/previewPDF/{codeStudent}&quot;, produces = MediaType.APPLICATION_PDF_VALUE)\r\n    public ResponseEntity&lt;byte[]&gt; previewPDF(@PathVariable(&quot;codeStudent&quot;) String code) throws IOException {\r\n        byte[] pdf = null;\r\n        HttpHeaders headers = new HttpHeaders();\r\n        String fileName = &quot;example.pdf&quot;;\r\n        headers.setContentDispositionFormData(fileName, fileName);        \r\n        headers.setContentType(MediaType.APPLICATION_PDF);\r\n        return ResponseEntity.ok().headers(headers).body(pdf);\r\n    }\r\n```\r\n\r\n  [1]: https://www.rfc-editor.org/rfc/rfc8118.html\r\n  [2]: https://www.iana.org/assignments/media-types/media-types.xhtml#image\r\n  [3]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/bind/annotation/RequestMapping.html#produces--","title":"preview pdf in browser from controller spring boot: Unrecognized response type; displaying content as text","body":"<p>You need to specify the response PDF Media Type for your resource.\n<br>See <a href=\"https://www.rfc-editor.org/rfc/rfc8118.html\" rel=\"nofollow noreferrer\">RFC standart</a>. <a href=\"https://www.iana.org/assignments/media-types/media-types.xhtml#image\" rel=\"nofollow noreferrer\">Full list of Media Types</a>.\n<br>Spring documentation regarding <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/bind/annotation/RequestMapping.html#produces--\" rel=\"nofollow noreferrer\">produces Media Type</a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @GetMapping(value = &quot;/previewPDF/{codeStudent}&quot;, produces = MediaType.APPLICATION_PDF_VALUE)\n    public ResponseEntity&lt;byte[]&gt; previewPDF(@PathVariable(&quot;codeStudent&quot;) String code) throws IOException\n</code></pre>\n<p>Set also PDF content type for your <code>ResponseEntity</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>    @GetMapping(value = &quot;/previewPDF/{codeStudent}&quot;, produces = MediaType.APPLICATION_PDF_VALUE)\n    public ResponseEntity&lt;byte[]&gt; previewPDF(@PathVariable(&quot;codeStudent&quot;) String code) throws IOException {\n        byte[] pdf = null;\n        HttpHeaders headers = new HttpHeaders();\n        String fileName = &quot;example.pdf&quot;;\n        headers.setContentDispositionFormData(fileName, fileName);        \n        headers.setContentType(MediaType.APPLICATION_PDF);\n        return ResponseEntity.ok().headers(headers).body(pdf);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14598037,"reputation":1253,"user_id":10543130,"display_name":"usersina"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691171437,"creation_date":1691171437,"answer_id":76838162,"question_id":71635756,"body_markdown":"The accepted answer directly downloads the PDF instead of doing a preview, so I had to set the `Content-Disposition` to `inline` instead.\r\n\r\n```java\r\nheaders.setContentDisposition(\r\n  ContentDisposition.builder(&quot;inline&quot;).filename(&quot;preview-report.pdf&quot;).build()\r\n);\r\n```","title":"preview pdf in browser from controller spring boot: Unrecognized response type; displaying content as text","body":"<p>The accepted answer directly downloads the PDF instead of doing a preview, so I had to set the <code>Content-Disposition</code> to <code>inline</code> instead.</p>\n<pre class=\"lang-java prettyprint-override\"><code>headers.setContentDisposition(\n  ContentDisposition.builder(&quot;inline&quot;).filename(&quot;preview-report.pdf&quot;).build()\n);\n</code></pre>\n"}],"owner":{"account_id":20436520,"reputation":1120,"user_id":14994239,"display_name":"hakima maarouf"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2945,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":71636409,"answer_count":2,"score":4,"last_activity_date":1691171437,"creation_date":1648379109,"question_id":71635756,"body_markdown":"I want to preview a pdf file genereted with java, but the following code gives this error \r\n\r\n    \r\n\r\n&gt; Unrecognized response type; displaying content as text.\r\n\r\n```\r\n@GetMapping(&quot;/previewPDF/{codeStudent}&quot;)\r\n    public ResponseEntity&lt;byte[]&gt; previewPDF(@PathVariable(&quot;codeStudent&quot;) String code) throws IOException {\r\n        \r\n        byte[] pdf = //pdf content in bytes\r\n\r\n        HttpHeaders headers = new HttpHeaders();      \r\n        headers.add(&quot;Content-Disposition&quot;, &quot;inline; filename=&quot; + &quot;example.pdf&quot;);\r\n        headers.setContentType(MediaType.parseMediaType(&quot;application/pdf&quot;));\r\n        return ResponseEntity.ok().headers(headers).body(pdf); \r\n    }\r\n```\r\nUPDATE: here is a screenshot of the error\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/KYwgf.png","title":"preview pdf in browser from controller spring boot: Unrecognized response type; displaying content as text","body":"<p>I want to preview a pdf file genereted with java, but the following code gives this error</p>\n<blockquote>\n<p>Unrecognized response type; displaying content as text.</p>\n</blockquote>\n<pre><code>@GetMapping(&quot;/previewPDF/{codeStudent}&quot;)\n    public ResponseEntity&lt;byte[]&gt; previewPDF(@PathVariable(&quot;codeStudent&quot;) String code) throws IOException {\n        \n        byte[] pdf = //pdf content in bytes\n\n        HttpHeaders headers = new HttpHeaders();      \n        headers.add(&quot;Content-Disposition&quot;, &quot;inline; filename=&quot; + &quot;example.pdf&quot;);\n        headers.setContentType(MediaType.parseMediaType(&quot;application/pdf&quot;));\n        return ResponseEntity.ok().headers(headers).body(pdf); \n    }\n</code></pre>\n<p>UPDATE: here is a screenshot of the error\n<a href=\"https://i.stack.imgur.com/KYwgf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KYwgf.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","linux","process","sh","tesseract"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1689972219,"post_id":76741090,"comment_id":135293363,"body_markdown":"What does &quot;*do not work*&quot; mean? Do you get a compilation error? If so: please [edit] the post, add the compiler error and highlight the line of code causing the compilation error. Does it throw an exception? If so: please [edit] the post, add the stack trace and highlight the line of code causing the exception. Do you observe unexpected behaviour? If so: please [edit] the post, add a [MRE], as we as expected and observed output.","body":"What does &quot;<i>do not work</i>&quot; mean? Do you get a compilation error? If so: please <a href=\"https://stackoverflow.com/posts/76741090/edit\">edit</a> the post, add the compiler error and highlight the line of code causing the compilation error. Does it throw an exception? If so: please <a href=\"https://stackoverflow.com/posts/76741090/edit\">edit</a> the post, add the stack trace and highlight the line of code causing the exception. Do you observe unexpected behaviour? If so: please <a href=\"https://stackoverflow.com/posts/76741090/edit\">edit</a> the post, add a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, as we as expected and observed output."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1689972321,"post_id":76741090,"comment_id":135293379,"body_markdown":"&quot;an error&quot; is a very unclear description... would be helpful at least to know which error (message) (I would also at least use `builder.inheritIO()` to see the output of given command)","body":"&quot;an error&quot; is a very unclear description... would be helpful at least to know which error (message) (I would also at least use <code>builder.inheritIO()</code> to see the output of given command)"},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1689978641,"post_id":76741090,"comment_id":135294107,"body_markdown":"Did you try changing `tesseract test.png out1 -l rus+eng` to `tesseract test.png out1 -l rus+eng`?","body":"Did you try changing <code>tesseract test.png out1 -l rus+eng</code> to <code>tesseract test.png out1 -l rus+eng</code>?"},{"owner":{"account_id":29058809,"reputation":13,"user_id":22259992,"display_name":"JavaProger24"},"score":0,"creation_date":1689985316,"post_id":76741090,"comment_id":135294580,"body_markdown":"you wrote the same thing, check the message for typos  @dan1stisonstrike","body":"you wrote the same thing, check the message for typos  @dan1stisonstrike"},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1690006598,"post_id":76741090,"comment_id":135295628,"body_markdown":"My fault, I meant `/bin/tesseract test.png out1 -l rus+eng to tesseract test.png out1 -l rus+eng` - I forgot to actually change it.","body":"My fault, I meant <code>&#47;bin&#47;tesseract test.png out1 -l rus+eng to tesseract test.png out1 -l rus+eng</code> - I forgot to actually change it."},{"owner":{"account_id":29058809,"reputation":13,"user_id":22259992,"display_name":"JavaProger24"},"score":0,"creation_date":1690015036,"post_id":76741090,"comment_id":135296251,"body_markdown":"I already tried that and it still couldn&#39;t find the command, which is weird because the path is correct. @dan1stisonstrike\n\nSame error: ./myscript.sh: line 5: /bin/tesseract: No such file or directory","body":"I already tried that and it still couldn&#39;t find the command, which is weird because the path is correct. @dan1stisonstrike  Same error: ./myscript.sh: line 5: /bin/tesseract: No such file or directory"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1690025782,"post_id":76741090,"comment_id":135297220,"body_markdown":"An odd path. Usually `/usr/bin/tesseract`","body":"An odd path. Usually <code>&#47;usr&#47;bin&#47;tesseract</code>"},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1690026744,"post_id":76741090,"comment_id":135297304,"body_markdown":"What&#39;s the output of `whereis tesseract` (outside of the script/Java application/where it works)?","body":"What&#39;s the output of <code>whereis tesseract</code> (outside of the script/Java application/where it works)?"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1690044923,"post_id":76741090,"comment_id":135299521,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."},{"owner":{"account_id":29058809,"reputation":13,"user_id":22259992,"display_name":"JavaProger24"},"score":0,"creation_date":1690055118,"post_id":76741090,"comment_id":135300670,"body_markdown":"@dan1stisonstrike Thanks for trying to help, I&#39;ve edited the original question.","body":"@dan1stisonstrike Thanks for trying to help, I&#39;ve edited the original question."},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1690055940,"post_id":76741090,"comment_id":135300773,"body_markdown":"When running `whereis tesseract` in your terminal, what output do you get?","body":"When running <code>whereis tesseract</code> in your terminal, what output do you get?"},{"owner":{"account_id":29058809,"reputation":13,"user_id":22259992,"display_name":"JavaProger24"},"score":0,"creation_date":1690057231,"post_id":76741090,"comment_id":135300931,"body_markdown":"Output: `hello this is message from script\nusing tesseract\nTesseract Open Source OCR Engine v4.1.1 with Leptonica\nWarning: Invalid resolution 0 dpi. Using 70 instead.`\n\npath: /bin/tesseract @dan1stisonstrike","body":"Output: <code>hello this is message from script using tesseract Tesseract Open Source OCR Engine v4.1.1 with Leptonica Warning: Invalid resolution 0 dpi. Using 70 instead.</code>  path: /bin/tesseract @dan1stisonstrike"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1690058845,"post_id":76741090,"comment_id":135301117,"body_markdown":"Use the full path to tesseract in the script. In point of fact, you don&#39;t need a script. You could run tesseract directly","body":"Use the full path to tesseract in the script. In point of fact, you don&#39;t need a script. You could run tesseract directly"},{"owner":{"account_id":29058809,"reputation":13,"user_id":22259992,"display_name":"JavaProger24"},"score":0,"creation_date":1690059751,"post_id":76741090,"comment_id":135301210,"body_markdown":"I already used the full path, the result is the same... @g00se","body":"I already used the full path, the result is the same... @g00se"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1690061350,"post_id":76741090,"comment_id":135301357,"body_markdown":"@dan1stisonstrike asked a question to which I don&#39;t see the answer","body":"@dan1stisonstrike asked a question to which I don&#39;t see the answer"},{"owner":{"account_id":29058809,"reputation":13,"user_id":22259992,"display_name":"JavaProger24"},"score":0,"creation_date":1690061954,"post_id":76741090,"comment_id":135301407,"body_markdown":"I answered all his questions @g00se","body":"I answered all his questions @g00se"},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1690062620,"post_id":76741090,"comment_id":135301450,"body_markdown":"What you showed doesn&#39;t seem like the output of the command `whereis tesseract`. The `whereis` is an important part of the command.","body":"What you showed doesn&#39;t seem like the output of the command <code>whereis tesseract</code>. The <code>whereis</code> is an important part of the command."},{"owner":{"account_id":29058809,"reputation":13,"user_id":22259992,"display_name":"JavaProger24"},"score":0,"creation_date":1690063312,"post_id":76741090,"comment_id":135301512,"body_markdown":"output: `hello this is message from script\nusing tesseract\ntesseract:\ntext-file.png:\nout1:\nbin: /usr/bin\nbin: /usr/lib/x86_64-linux-gnu\nbin: /usr/lib\nbin: /usr/lib64\nbin: /etc\nbin: /usr/etc\nbin: /usr/include\nbin: /usr/libexec\nbin: /usr/share\nbin: /app/bin\nrus+eng:`","body":"output: <code>hello this is message from script using tesseract tesseract: text-file.png: out1: bin: &#47;usr&#47;bin bin: &#47;usr&#47;lib&#47;x86_64-linux-gnu bin: &#47;usr&#47;lib bin: &#47;usr&#47;lib64 bin: &#47;etc bin: &#47;usr&#47;etc bin: &#47;usr&#47;include bin: &#47;usr&#47;libexec bin: &#47;usr&#47;share bin: &#47;app&#47;bin rus+eng:</code>"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1690064146,"post_id":76741090,"comment_id":135301579,"body_markdown":"You keep posting output from your *script*. That&#39;s *not* what we&#39;re asking for. Read the request carefully","body":"You keep posting output from your <i>script</i>. That&#39;s <i>not</i> what we&#39;re asking for. Read the request carefully"},{"owner":{"account_id":29058809,"reputation":13,"user_id":22259992,"display_name":"JavaProger24"},"score":0,"creation_date":1690065255,"post_id":76741090,"comment_id":135301681,"body_markdown":"`tesseract: /usr/bin/tesseract /usr/share/man/man1/tesseract.1.gz` its output @g00se","body":"<code>tesseract: &#47;usr&#47;bin&#47;tesseract &#47;usr&#47;share&#47;man&#47;man1&#47;tesseract.1.gz</code> its output @g00se"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1690065396,"post_id":76741090,"comment_id":135301689,"body_markdown":"So, as you can see, the path is *not* `/bin/tesseract` but rather what I said it should be, namely  `/usr/bin/tesseract`","body":"So, as you can see, the path is <i>not</i> <code>&#47;bin&#47;tesseract</code> but rather what I said it should be, namely  <code>&#47;usr&#47;bin&#47;tesseract</code>"},{"owner":{"account_id":29058809,"reputation":13,"user_id":22259992,"display_name":"JavaProger24"},"score":0,"creation_date":1690065810,"post_id":76741090,"comment_id":135301717,"body_markdown":"I also tried your version that time, but it didn&#39;t help either @g00se","body":"I also tried your version that time, but it didn&#39;t help either @g00se"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1690066328,"post_id":76741090,"comment_id":135301736,"body_markdown":"Try `ProcessBuilder builder = new ProcessBuilder(&quot;/usr/bin/tesseract&quot;,&quot;test.png&quot;,&quot;out1&quot;,&quot;-l&quot;,&quot;rus+eng&quot;).inheritIO(); builder.start()`","body":"Try <code>ProcessBuilder builder = new ProcessBuilder(&quot;&#47;usr&#47;bin&#47;tesseract&quot;,&quot;test.png&quot;,&quot;out1&quot;,&quot;-l&quot;,&quot;&zwnj;&#8203;rus+eng&quot;).inheritIO(&zwnj;&#8203;); builder.start()</code>"},{"owner":{"account_id":29058809,"reputation":13,"user_id":22259992,"display_name":"JavaProger24"},"score":0,"creation_date":1690067284,"post_id":76741090,"comment_id":135301792,"body_markdown":"@g00se It didn&#39;t help, I actually did it myself.","body":"@g00se It didn&#39;t help, I actually did it myself."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1690067535,"post_id":76741090,"comment_id":135301808,"body_markdown":"It works for me. Please post what you did","body":"It works for me. Please post what you did"},{"owner":{"account_id":29058809,"reputation":13,"user_id":22259992,"display_name":"JavaProger24"},"score":0,"creation_date":1690068951,"post_id":76741090,"comment_id":135301914,"body_markdown":"I copied your code and pasted it into the Main class in the Main method, in the root folder of the project there is a test.png file that needs to be processed with the tesseract command, I can do this using the Linux terminal and there are no problems, but when I try to do the same through the Java code, it cannot find this command, and it successfully finds other commands like ECHO @g00se","body":"I copied your code and pasted it into the Main class in the Main method, in the root folder of the project there is a test.png file that needs to be processed with the tesseract command, I can do this using the Linux terminal and there are no problems, but when I try to do the same through the Java code, it cannot find this command, and it successfully finds other commands like ECHO @g00se"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1690094333,"post_id":76741090,"comment_id":135303195,"body_markdown":"That&#39;s a wholly different problem and it is caused by the current directory not being what you think it is. You can find out what it really is by printing the system property `user.dir`. That&#39;s where the image needs to go","body":"That&#39;s a wholly different problem and it is caused by the current directory not being what you think it is. You can find out what it really is by printing the system property <code>user.dir</code>. That&#39;s where the image needs to go"},{"owner":{"account_id":29058809,"reputation":13,"user_id":22259992,"display_name":"JavaProger24"},"score":0,"creation_date":1690114247,"post_id":76741090,"comment_id":135305174,"body_markdown":"@g00se so the problem is not in the image, she cannot find exactly the tesseract command itself","body":"@g00se so the problem is not in the image, she cannot find exactly the tesseract command itself"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1690118216,"post_id":76741090,"comment_id":135305622,"body_markdown":"OK, I thought you were referring to the image file. There *can&#39;t* be a problem finding Tesseract itself using the code I gave you because the full path to it is given","body":"OK, I thought you were referring to the image file. There <i>can&#39;t</i> be a problem finding Tesseract itself using the code I gave you because the full path to it is given"},{"owner":{"account_id":29058809,"reputation":13,"user_id":22259992,"display_name":"JavaProger24"},"score":0,"creation_date":1690120638,"post_id":76741090,"comment_id":135305950,"body_markdown":"I really don&#39;t know why she writes that there is no such command, even when I enter the full path, I don&#39;t know what the problem is @g00se","body":"I really don&#39;t know why she writes that there is no such command, even when I enter the full path, I don&#39;t know what the problem is @g00se"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1690123778,"post_id":76741090,"comment_id":135306371,"body_markdown":"Please post the output of `ls -l /usr/bin/tesseract`","body":"Please post the output of <code>ls -l &#47;usr&#47;bin&#47;tesseract</code>"},{"owner":{"account_id":29058809,"reputation":13,"user_id":22259992,"display_name":"JavaProger24"},"score":0,"creation_date":1690163923,"post_id":76741090,"comment_id":135310359,"body_markdown":"@g00se -`rwxr-xr-x 1 root root 35128 feb  9  2022 /usr/bin/tesseract`","body":"@g00se -<code>rwxr-xr-x 1 root root 35128 feb  9  2022 &#47;usr&#47;bin&#47;tesseract</code>"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1690188982,"post_id":76741090,"comment_id":135313331,"body_markdown":"Then no reason why it shouldn&#39;t work. Use the absolute path to the image file with my code for the time being","body":"Then no reason why it shouldn&#39;t work. Use the absolute path to the image file with my code for the time being"},{"owner":{"account_id":29058809,"reputation":13,"user_id":22259992,"display_name":"JavaProger24"},"score":0,"creation_date":1690194372,"post_id":76741090,"comment_id":135314501,"body_markdown":"It didn&#39;t help either. I tried to copy the tesseract file and move it to the root folder of the project and java started to see this command, but got errors that there were no dependencies @g00se","body":"It didn&#39;t help either. I tried to copy the tesseract file and move it to the root folder of the project and java started to see this command, but got errors that there were no dependencies @g00se"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1690196896,"post_id":76741090,"comment_id":135314993,"body_markdown":"Ordinarily that would solve nothing but might very likely cause even more problems. There&#39;s something weird going on with your environment but unfortunately that&#39;s difficult to diagnose from sketchy descriptions","body":"Ordinarily that would solve nothing but might very likely cause even more problems. There&#39;s something weird going on with your environment but unfortunately that&#39;s difficult to diagnose from sketchy descriptions"},{"owner":{"account_id":29058809,"reputation":13,"user_id":22259992,"display_name":"JavaProger24"},"score":0,"creation_date":1690200055,"post_id":76741090,"comment_id":135315645,"body_markdown":"I also reinstalled Linux several times (not for this reason) and it still didn&#39;t work. I also tried calling /usr/bin/echo and there are no errors in the file search, I don&#39;t know what","body":"I also reinstalled Linux several times (not for this reason) and it still didn&#39;t work. I also tried calling /usr/bin/echo and there are no errors in the file search, I don&#39;t know what"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1690200241,"post_id":76741090,"comment_id":135315690,"body_markdown":"Probably a support case at this point","body":"Probably a support case at this point"},{"owner":{"account_id":29058809,"reputation":13,"user_id":22259992,"display_name":"JavaProger24"},"score":0,"creation_date":1690301129,"post_id":76741090,"comment_id":135332924,"body_markdown":"@g00se I tried building the project into a jar and running it, and you know what? everything works for me, I don&#39;t know what it is connected with","body":"@g00se I tried building the project into a jar and running it, and you know what? everything works for me, I don&#39;t know what it is connected with"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1690301976,"post_id":76741090,"comment_id":135333121,"body_markdown":"Glad you got it working finally","body":"Glad you got it working finally"},{"owner":{"account_id":29058809,"reputation":13,"user_id":22259992,"display_name":"JavaProger24"},"score":0,"creation_date":1690302100,"post_id":76741090,"comment_id":135333149,"body_markdown":"@g00se Thanks for trying to help all this time! I&#39;m also very happy with how it turned out.","body":"@g00se Thanks for trying to help all this time! I&#39;m also very happy with how it turned out."}],"answers":[{"tags":[],"owner":{"account_id":85323,"reputation":28503,"user_id":237955,"accept_rate":71,"display_name":"amphetamachine"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1691170848,"creation_date":1690478631,"answer_id":76782139,"question_id":76741090,"body_markdown":"You have to have the folder containing `tesseract` program in the `PATH` variable or else it won&#39;t work.\r\n\r\n# What is the `PATH`?\r\n\r\nSetting the `PATH` (Linux, `:`-separated) or the `Path` (Windows, `;`-separated) environment variable sets the list of directories the system searches when you invoke a program name without a directory preceding it.\r\n\r\nFor instance if I go to the command line and type `java` the system will loop over each directory in my `PATH` to see if `java` exists there and is executable. Once it finds one it executes it and exits the loop.\r\n\r\nIf, however I run `/opt/java/bin/java` no path lookup is performed.\r\n\r\nUsually your shell either sets (or inherits) the `PATH` variable upon login, but you can do it from the shell too:\r\n```sh\r\nexport PATH=&#39;/bin:/usr/bin:/opt/java/bin/java&#39;\r\n```\r\n\r\nEvery program invoked after this `export` statement will have their `PATH` overwritten by the value from your shell.\r\n\r\nYou can set the `PATH` (or any environment variable) for a single program by prefixing it with the variable set on the same line:\r\n```sh\r\nPATH=&#39;/bin:/usr/bin:/home/myuser/bin&#39; myprogram -arg1 -arg2\r\n```\r\n\r\nPATH entries without a leading `/` are interpreted to be relative to the current working directory (`.`):\r\n\r\n```sh\r\nPATH=&#39;bin:/usr/bin:/bin&#39;\r\n```\r\n\r\n**Caveat:** It&#39;s not recommended to omit `/bin` and `/usr/bin` from the PATH. I&#39;d try only ever *adding* to the path variable:\r\n\r\n```sh\r\nexport PATH=&quot;$PATH:/home/myuser/add:/home/myuser/bin&quot;\r\n```\r\n\r\n# Without using the `PATH`\r\n\r\nIf you don&#39;t want to update it in the `PATH` variable, you can refer to it by full or relative path name in the script.\r\n\r\nFor the following examples, I&#39;m going to assume the following file layout:\r\n\r\n- `src/.../.../.../Main.java` (compiled somehow)\r\n- `myscript.sh`\r\n- `bin/teserract`\r\n\r\nThis should work:\r\n\r\n```sh\r\n#!/bin/bash\r\n# WORKDIR = The current dir (relative to how the script is invoked) where myscript.sh resides\r\nWORKDIR=$(dirname &quot;$0&quot;)\r\n\r\n&quot;$WORKDIR/bin/tesseract&quot; test.png out1 -l rus+eng\r\n```\r\n\r\nConsider also that on many systems `sh myscript.sh` is not the same thing as `bash myscript.sh` or `./myscript.sh`. `/bin/sh` traditionally refers to POSIX shell, which has fewer features than Bash. It may trip you up if you decide to use some advanced Bash features. For this reason, I&#39;d suggest changing the Java to either `new ProcessBuilder(&quot;./myscript.sh&quot;)` or `new ProcessBuilder(&quot;bash&quot;, &quot;./myscript.sh&quot;)`.","title":"Java class Process: can&#39;t execute third party program via .sh","body":"<p>You have to have the folder containing <code>tesseract</code> program in the <code>PATH</code> variable or else it won't work.</p>\n<h1>What is the <code>PATH</code>?</h1>\n<p>Setting the <code>PATH</code> (Linux, <code>:</code>-separated) or the <code>Path</code> (Windows, <code>;</code>-separated) environment variable sets the list of directories the system searches when you invoke a program name without a directory preceding it.</p>\n<p>For instance if I go to the command line and type <code>java</code> the system will loop over each directory in my <code>PATH</code> to see if <code>java</code> exists there and is executable. Once it finds one it executes it and exits the loop.</p>\n<p>If, however I run <code>/opt/java/bin/java</code> no path lookup is performed.</p>\n<p>Usually your shell either sets (or inherits) the <code>PATH</code> variable upon login, but you can do it from the shell too:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>export PATH='/bin:/usr/bin:/opt/java/bin/java'\n</code></pre>\n<p>Every program invoked after this <code>export</code> statement will have their <code>PATH</code> overwritten by the value from your shell.</p>\n<p>You can set the <code>PATH</code> (or any environment variable) for a single program by prefixing it with the variable set on the same line:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>PATH='/bin:/usr/bin:/home/myuser/bin' myprogram -arg1 -arg2\n</code></pre>\n<p>PATH entries without a leading <code>/</code> are interpreted to be relative to the current working directory (<code>.</code>):</p>\n<pre class=\"lang-bash prettyprint-override\"><code>PATH='bin:/usr/bin:/bin'\n</code></pre>\n<p><strong>Caveat:</strong> It's not recommended to omit <code>/bin</code> and <code>/usr/bin</code> from the PATH. I'd try only ever <em>adding</em> to the path variable:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>export PATH=&quot;$PATH:/home/myuser/add:/home/myuser/bin&quot;\n</code></pre>\n<h1>Without using the <code>PATH</code></h1>\n<p>If you don't want to update it in the <code>PATH</code> variable, you can refer to it by full or relative path name in the script.</p>\n<p>For the following examples, I'm going to assume the following file layout:</p>\n<ul>\n<li><code>src/.../.../.../Main.java</code> (compiled somehow)</li>\n<li><code>myscript.sh</code></li>\n<li><code>bin/teserract</code></li>\n</ul>\n<p>This should work:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>#!/bin/bash\n# WORKDIR = The current dir (relative to how the script is invoked) where myscript.sh resides\nWORKDIR=$(dirname &quot;$0&quot;)\n\n&quot;$WORKDIR/bin/tesseract&quot; test.png out1 -l rus+eng\n</code></pre>\n<p>Consider also that on many systems <code>sh myscript.sh</code> is not the same thing as <code>bash myscript.sh</code> or <code>./myscript.sh</code>. <code>/bin/sh</code> traditionally refers to POSIX shell, which has fewer features than Bash. It may trip you up if you decide to use some advanced Bash features. For this reason, I'd suggest changing the Java to either <code>new ProcessBuilder(&quot;./myscript.sh&quot;)</code> or <code>new ProcessBuilder(&quot;bash&quot;, &quot;./myscript.sh&quot;)</code>.</p>\n"}],"owner":{"account_id":29058809,"reputation":13,"user_id":22259992,"display_name":"JavaProger24"},"comment_count":40,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":97,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76782139,"answer_count":1,"score":0,"last_activity_date":1691170848,"creation_date":1689971926,"question_id":76741090,"body_markdown":"I need to run a .sh script, I already figured out how to do it, but I have another problem. it cannot see third-party (installed) commands, as in this case it cannot find the tesseract command, although when launched through the Linux terminal, it successfully finds this command\r\nFor example, java can recognize the echo command, but it does not see the tesseract command\r\n\r\nvoid for running script:\r\n\r\n    public class Main {\r\n        public static void main(String[] args) throws IOException {\r\n            ProcessBuilder builder = new ProcessBuilder(&quot;sh&quot;, &quot;./myscript.sh&quot;);\r\n    builder.inheritIO();\r\n            Process process = builder.start();\r\n        }\r\n    }\r\n\r\nsh script:\r\n\r\n    #!/bin/bash\r\n    \r\n    echo &quot;hello this is message from script&quot;\r\n    echo &quot;using tesseract&quot;\r\n    tesseract test.png out1 -l rus+eng\r\n\r\nError on startup: \r\n\r\n    ./myscript.sh: line 5: tesseract: command not found\r\n\r\nWhen running the script through the Linux terminal, there are no problems, the command successfully performs its function. If you need the output from the terminal, then here:\r\n\r\n    hello this is message from script\r\n    using tesseract\r\n    Tesseract Open Source OCR Engine v4.1.1 with Leptonica\r\n    Warning: Invalid resolution 0 dpi. Using 70 instead.\r\n\r\n\r\n\r\nI tried to execute the command from the link as shown below:\r\n\r\n    /bin/tesseract test.png out1 -l rus+eng\r\n\r\nfunction still didn&#39;t work\r\n\r\n\r\n","title":"Java class Process: can&#39;t execute third party program via .sh","body":"<p>I need to run a .sh script, I already figured out how to do it, but I have another problem. it cannot see third-party (installed) commands, as in this case it cannot find the tesseract command, although when launched through the Linux terminal, it successfully finds this command\nFor example, java can recognize the echo command, but it does not see the tesseract command</p>\n<p>void for running script:</p>\n<pre><code>public class Main {\n    public static void main(String[] args) throws IOException {\n        ProcessBuilder builder = new ProcessBuilder(&quot;sh&quot;, &quot;./myscript.sh&quot;);\nbuilder.inheritIO();\n        Process process = builder.start();\n    }\n}\n</code></pre>\n<p>sh script:</p>\n<pre><code>#!/bin/bash\n\necho &quot;hello this is message from script&quot;\necho &quot;using tesseract&quot;\ntesseract test.png out1 -l rus+eng\n</code></pre>\n<p>Error on startup:</p>\n<pre><code>./myscript.sh: line 5: tesseract: command not found\n</code></pre>\n<p>When running the script through the Linux terminal, there are no problems, the command successfully performs its function. If you need the output from the terminal, then here:</p>\n<pre><code>hello this is message from script\nusing tesseract\nTesseract Open Source OCR Engine v4.1.1 with Leptonica\nWarning: Invalid resolution 0 dpi. Using 70 instead.\n</code></pre>\n<p>I tried to execute the command from the link as shown below:</p>\n<pre><code>/bin/tesseract test.png out1 -l rus+eng\n</code></pre>\n<p>function still didn't work</p>\n"},{"tags":["java","json","graphql","union"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1691308842,"post_id":76835232,"comment_id":135472228,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":29159170,"reputation":1,"user_id":22338283,"display_name":"konstantin pekheterev"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691170470,"creation_date":1691146190,"question_id":76835232,"body_markdown":"I created a test in which I get a graphql response for my logic.\r\nGraphql query is created as json and there is a cast class problem \r\n\r\n```java\r\njava.lang.ClassCastException: \r\nclass com.pulkovo.rms.rscontrolwriter.service.graphql.type.TasksInfoQuery$AsResource cannot be cast to class \r\ncom.pulkovo.rms.rscontrolwriter.service.graphql.type.TasksInfoQuery$AsITechnicalResource \r\n(com.pulkovo.rms.rscontrolwriter.service.graphql.type.TasksInfoQuery$As\r\nResource and com.pulkovo.rms.rscontrolwriter.service.graphql.type.TasksInfoQuery$AsITechnicalResource are in unnamed module of loader &#39;app&#39;)\r\n```\r\n\r\nin this part\r\n```json\r\n&quot;resource&quot;: {\r\n          &quot;__typename&quot;: &quot;Resource&quot;,\r\n          &quot;resourceType&quot;: &quot;PaxBus&quot;,\r\n          &quot;resource&quot;: {\r\n            &quot;__typename&quot;: &quot;Resource&quot;,\r\n            &quot;AsITechnicalResource&quot;: {\r\n              &quot;__typename&quot;: &quot;Resource&quot;, //\r\n              &quot;erpName&quot;: &quot;John Doe&quot;\r\n            }\r\n          }\r\n```\r\n\r\n```graphql\r\nresource {\r\n      resourceType\r\n      resource{\r\n        ... on ITechnicalResource{\r\n          erpName\r\n          ... on AircraftTug{\r\n            typeOfTractor\r\n          }\r\n        }\r\n      }\r\n    }\r\n```\r\n\r\n`ITechnicalResource` is `union(interface)` , and `AircraftTug` is type, field __typename - is informative , it can be filled with any value\r\n\r\nI think the problem is using the interface in json, since I used this format before and everything worked\r\n\r\n```\r\nresource {\r\n      resourceType\r\n      resource{\r\n        ... on PaxBus{\r\n          erpName\r\n          }\r\n        }\r\n}\r\nPaxBus - type\r\n```\r\n\r\nif you write a graphql object in the form of code, then everything turns out\r\n\r\n```\r\nwith ITechnicalResource\r\nTasksInfoQuery.Resource Resource1 = new TasksInfoQuery.Resource(&quot;Resource&quot;, ResourceType.AIRBRIDGE,\r\n            new AsITechnicalResource1(&quot;typaname&quot;, &quot;erpName&quot;));\r\n\r\nwith AircraftTug\r\nTasksInfoQuery.Resource Resource1 = new TasksInfoQuery.Resource(&quot;Resource&quot;, ResourceType.AIRBRIDGE,\r\n            new AsAircraftTug(&quot;typaname&quot;, &quot;erpName&quot;, &quot;typeOftractor&quot;));\r\n```\r\n","title":"graphql query in json format","body":"<p>I created a test in which I get a graphql response for my logic.\nGraphql query is created as json and there is a cast class problem</p>\n<pre class=\"lang-java prettyprint-override\"><code>java.lang.ClassCastException: \nclass com.pulkovo.rms.rscontrolwriter.service.graphql.type.TasksInfoQuery$AsResource cannot be cast to class \ncom.pulkovo.rms.rscontrolwriter.service.graphql.type.TasksInfoQuery$AsITechnicalResource \n(com.pulkovo.rms.rscontrolwriter.service.graphql.type.TasksInfoQuery$As\nResource and com.pulkovo.rms.rscontrolwriter.service.graphql.type.TasksInfoQuery$AsITechnicalResource are in unnamed module of loader 'app')\n</code></pre>\n<p>in this part</p>\n<pre class=\"lang-json prettyprint-override\"><code>&quot;resource&quot;: {\n          &quot;__typename&quot;: &quot;Resource&quot;,\n          &quot;resourceType&quot;: &quot;PaxBus&quot;,\n          &quot;resource&quot;: {\n            &quot;__typename&quot;: &quot;Resource&quot;,\n            &quot;AsITechnicalResource&quot;: {\n              &quot;__typename&quot;: &quot;Resource&quot;, //\n              &quot;erpName&quot;: &quot;John Doe&quot;\n            }\n          }\n</code></pre>\n<pre><code>resource {\n      resourceType\n      resource{\n        ... on ITechnicalResource{\n          erpName\n          ... on AircraftTug{\n            typeOfTractor\n          }\n        }\n      }\n    }\n</code></pre>\n<p><code>ITechnicalResource</code> is <code>union(interface)</code> , and <code>AircraftTug</code> is type, field __typename - is informative , it can be filled with any value</p>\n<p>I think the problem is using the interface in json, since I used this format before and everything worked</p>\n<pre><code>resource {\n      resourceType\n      resource{\n        ... on PaxBus{\n          erpName\n          }\n        }\n}\nPaxBus - type\n</code></pre>\n<p>if you write a graphql object in the form of code, then everything turns out</p>\n<pre><code>with ITechnicalResource\nTasksInfoQuery.Resource Resource1 = new TasksInfoQuery.Resource(&quot;Resource&quot;, ResourceType.AIRBRIDGE,\n            new AsITechnicalResource1(&quot;typaname&quot;, &quot;erpName&quot;));\n\nwith AircraftTug\nTasksInfoQuery.Resource Resource1 = new TasksInfoQuery.Resource(&quot;Resource&quot;, ResourceType.AIRBRIDGE,\n            new AsAircraftTug(&quot;typaname&quot;, &quot;erpName&quot;, &quot;typeOftractor&quot;));\n</code></pre>\n"},{"tags":["java","spring","spring-mvc","caching","aerospike"],"answers":[{"tags":[],"owner":{"account_id":352053,"reputation":522,"user_id":688926,"display_name":"Anastasiia Smirnova"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1575306024,"creation_date":1575306024,"answer_id":59143514,"question_id":35915605,"body_markdown":"`spring-data-aerospike` is still in unfinished state. We are planning to move it to the separate project `aerospike-spring-cache` and implement missing functionality.","title":"Unable to add a record in Aerospike Cache using Spring Cacheable","body":"<p><code>spring-data-aerospike</code> is still in unfinished state. We are planning to move it to the separate project <code>aerospike-spring-cache</code> and implement missing functionality.</p>\n"},{"tags":[],"owner":{"account_id":20706132,"reputation":795,"user_id":15203960,"display_name":"Roi Menashe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1622415440,"creation_date":1622415440,"answer_id":67766396,"question_id":35915605,"body_markdown":"There were some big changes in the Cache area in Spring Data Aerospike - starting from versions 2.5.0/3.0.0.\r\n\r\nYou can see an example of using @Cacheable and much more in this medium article:\r\nhttps://medium.com/aerospike-developer-blog/caching-with-spring-boot-and-aerospike-17b91267d6c","title":"Unable to add a record in Aerospike Cache using Spring Cacheable","body":"<p>There were some big changes in the Cache area in Spring Data Aerospike - starting from versions 2.5.0/3.0.0.</p>\n<p>You can see an example of using @Cacheable and much more in this medium article:\n<a href=\"https://medium.com/aerospike-developer-blog/caching-with-spring-boot-and-aerospike-17b91267d6c\" rel=\"nofollow noreferrer\">https://medium.com/aerospike-developer-blog/caching-with-spring-boot-and-aerospike-17b91267d6c</a></p>\n"},{"tags":[],"owner":{"account_id":29133198,"reputation":1,"user_id":22317964,"display_name":"Customer Manager"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691170113,"creation_date":1691169976,"answer_id":76838038,"question_id":35915605,"body_markdown":"Try like below and see if it works:\r\n\r\n        @Cacheable(value = &quot;test&quot;, key = &quot;#id&quot;)\r\n    public Optional&lt;User&gt; getUserById(int id) {\r\n    \tlog.info(&quot;Reading User Details with ID: {}&quot;, id);\r\n    \treturn userRepository.findById(id);\r\n    }\r\n    \r\n    @CachePut(value = &quot;test&quot;, key = &quot;#user.id&quot;)\r\n    public User addUser(User user) {\r\n    \tlog.info(&quot;Adding User Details with Name: {}&quot;, user.getName());\r\n    \treturn userRepository.save(user);\r\n    }\r\n    \r\n    @CacheEvict(value = &quot;test&quot;, key = &quot;#id&quot;)\r\n    public boolean removeUserById(int id) {\r\n    \tlog.info(&quot;Removing User Details with ID: {}&quot;, id);\r\n    \tuserRepository.deleteById(id);\r\n    \treturn true;\r\n    }","title":"Unable to add a record in Aerospike Cache using Spring Cacheable","body":"<p>Try like below and see if it works:</p>\n<pre><code>    @Cacheable(value = &quot;test&quot;, key = &quot;#id&quot;)\npublic Optional&lt;User&gt; getUserById(int id) {\n    log.info(&quot;Reading User Details with ID: {}&quot;, id);\n    return userRepository.findById(id);\n}\n\n@CachePut(value = &quot;test&quot;, key = &quot;#user.id&quot;)\npublic User addUser(User user) {\n    log.info(&quot;Adding User Details with Name: {}&quot;, user.getName());\n    return userRepository.save(user);\n}\n\n@CacheEvict(value = &quot;test&quot;, key = &quot;#id&quot;)\npublic boolean removeUserById(int id) {\n    log.info(&quot;Removing User Details with ID: {}&quot;, id);\n    userRepository.deleteById(id);\n    return true;\n}\n</code></pre>\n"}],"owner":{"account_id":7745634,"reputation":99,"user_id":5863535,"display_name":"Prachi Bhardwaj"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":482,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":3,"score":1,"last_activity_date":1691170113,"creation_date":1457610383,"question_id":35915605,"body_markdown":"I am implementing A Cache in DAO layer using Spring Cache by using annotation @Cacheable. This is my following Code .\r\n\r\n    \t@Override\r\n\t@Cacheable(value=&quot;saleSegmentCache3&quot;)\r\n\tpublic List&lt;SaleSegment&gt; findBySuborder(String pincode,long subcatID) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tSystem.out.println(&quot;String is printing&quot;);\r\n\t\treturn ssRepo.findSaleSegmentsByPincodeAndSubcategoryIdAndSegmentType(pincode,subcatID, SaleSegmentType.SUBCAT_PINCODE);\r\n\t}\r\n\r\nOver here i am able to retreive the data , but i am not being able to put the data into Cache. I am using one more example  : \r\n\r\n    \t@Override\r\n\t@Cacheable(value=&quot;saleSegmentCache3&quot; ,key=&quot;#soData&quot;)\r\n\tpublic String findBySuborderTemp(String soData) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tSystem.out.println(&quot;String XYZZZZZZZ&quot;);\r\n\t\treturn &quot;MyString&quot;;\r\n\t\t\t\r\n\t}\r\n\r\nHere i am able to Cache the String Perfectly and able to store the data in the cache .\r\nI think Something is wrong with the syntax that i have used\r\n","title":"Unable to add a record in Aerospike Cache using Spring Cacheable","body":"<p>I am implementing A Cache in DAO layer using Spring Cache by using annotation @Cacheable. This is my following Code .</p>\n\n<pre><code>    @Override\n@Cacheable(value=\"saleSegmentCache3\")\npublic List&lt;SaleSegment&gt; findBySuborder(String pincode,long subcatID) {\n    // TODO Auto-generated method stub\n    System.out.println(\"String is printing\");\n    return ssRepo.findSaleSegmentsByPincodeAndSubcategoryIdAndSegmentType(pincode,subcatID, SaleSegmentType.SUBCAT_PINCODE);\n}\n</code></pre>\n\n<p>Over here i am able to retreive the data , but i am not being able to put the data into Cache. I am using one more example  : </p>\n\n<pre><code>    @Override\n@Cacheable(value=\"saleSegmentCache3\" ,key=\"#soData\")\npublic String findBySuborderTemp(String soData) {\n    // TODO Auto-generated method stub\n    System.out.println(\"String XYZZZZZZZ\");\n    return \"MyString\";\n\n}\n</code></pre>\n\n<p>Here i am able to Cache the String Perfectly and able to store the data in the cache .\nI think Something is wrong with the syntax that i have used</p>\n"},{"tags":["java","android"],"owner":{"account_id":27120925,"reputation":1,"user_id":20664652,"display_name":"Ali Salah Elbadry"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691170035,"creation_date":1691170035,"question_id":76838045,"body_markdown":" I am using external library that makes SDSimpleRecyclerAdapter and once i build this happiens\r\nerror: cannot access RecyclerView\r\npublic class GameBetCoinsOptionAdapter extends SDSimpleRecyclerAdapter&lt;GameBetCoinsOptionModel&gt;\r\n       ^\r\n  class file for androidx.recyclerview.widget.RecyclerView not found\r\n\r\nI tried to add dependancy for androidx.... recycleView but it is the same","title":"Cannot access androidx.recyclerview.widget.RecyclerView.ViewHolder","body":"<p>I am using external library that makes SDSimpleRecyclerAdapter and once i build this happiens\nerror: cannot access RecyclerView\npublic class GameBetCoinsOptionAdapter extends SDSimpleRecyclerAdapter\n^\nclass file for androidx.recyclerview.widget.RecyclerView not found</p>\n<p>I tried to add dependancy for androidx.... recycleView but it is the same</p>\n"},{"tags":["java","sql","hibernate","extjs"],"comments":[{"owner":{"account_id":20084284,"reputation":8619,"user_id":14726230,"display_name":"Peter Koltai"},"score":0,"creation_date":1691161250,"post_id":76830523,"comment_id":135458890,"body_markdown":"Can you make a successful POST / PUT request with this payload to your backend independently from Ext JS, for example with Postman?","body":"Can you make a successful POST / PUT request with this payload to your backend independently from Ext JS, for example with Postman?"}],"owner":{"account_id":14685513,"reputation":1,"user_id":10605635,"display_name":"Sam A."},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691169993,"creation_date":1691085205,"question_id":76830523,"body_markdown":"So, I have a store with a proxy to a hibernate named query in a entity class in java. the named query gets data from two different tables into this store. It loads the data just fine but when I&#39;m trying to sync it with the db when a user updates a column, I get problems and the server can&#39;t find properties from the other table that the named query is pulling from.\r\n\r\nFor more context I have a store hooked up to a grid panel in extjs and it displays data from a database but one of the columns is from a different table than the other 3. I&#39;m very new to extjs and I don&#39;t know if there&#39;s a better way to go about this and setup the store differently or if I should change the database to have the project name stored in both tables.\r\n\r\nHere is my store code.\r\n```\r\n job: {\r\n        \tmodel: &#39;myefiles.jobs.pdd.model.Job&#39;,\r\n        \tautoLoad: true,\r\n        \tautoSync: false, // allow cell editing\r\n        \tproxy: {\r\n        \t\ttype: &#39;ajax&#39;,\r\n        \t\turl: &#39;/dav/.json/pdd/job?.nq=findJobProjectMap&#39;, \r\n\t\t\ttimeout: myefiles.NO_TIMEOUT,\r\n        \t\treader: {\r\n        \t\t\ttype: &#39;json&#39;,\r\n        \t\t\trootProperty: &#39;data&#39;\r\n        \t\t},\r\n        \t\twriter: {\r\n        \t\t\ttype: &#39;json&#39;,\r\n        \t\t\tallowSingle: false,\r\n        \t\t\twriteAllFields: true\r\n        \t\t},\r\n        \t\tnoCache: false,\r\n        \t\tlimitParam: undefined,\r\n        \t\tpageParam: undefined,\r\n        \t\tstartParam: undefined,\r\n        \t\tlisteners: {\r\n        \t\t\texception: function(proxy, response, options) {\r\n        \t\t\t\tExt.Msg.alert(&#39;Error&#39;, response.status + &quot;: &quot; + response.statusText\r\n        \t\t\t\t\t\t+ &quot; (&quot; + response.request.options.url + &quot;).&quot;);\r\n        \t\t\t}\r\n        \t\t}\r\n        \t}\r\n        }, \r\n```\r\nHere is my named query\r\n\r\n```\r\n@NamedQuery(name = &quot;Job.findJobProjectMap&quot;,\r\n\t\t\t\tquery = &quot;SELECT new map (j.jobNumber as jobNumber, j.description as description, p.projectNumber as projectNumber, p.projectName as projectName) &quot;\r\n\t\t\t\t\t\t+ &quot;FROM Job j &quot;\r\n\t\t\t\t\t\t+ &quot;LEFT JOIN j.project as p&quot;)\r\n```\r\nthe project name variable is in a different table called project and it isn&#39;t in the job table that this named query is in.\r\n\r\nThese are the column definitions in my entity class for the job table.\r\n\r\n```\r\n        @Id\r\n\t@Column(name = &quot;job_number&quot;, unique = true, nullable = false, length = 6)\r\n\t@DBDavColumn\r\n\tprotected Integer jobNumber;\r\n\r\n\t@Column(name = &quot;description&quot;, length = 255)\r\n\t@DBDavColumn\r\n\tprotected String description;\r\n\t\r\n\t@ManyToOne\r\n\t@JoinColumn(name = &quot;project_number&quot;, referencedColumnName = &quot;project_number&quot;)\r\n\t@DBDavColumn\r\n\t@DBDavConverter(factory=EntityConverterFactory.class)\r\n\tprotected Project project;\r\n\t\r\n\t@OneToMany(cascade = CascadeType.ALL, mappedBy = &quot;job&quot;)\r\n\tprotected Set&lt;Equipment&gt; equipment;\r\n\t\r\n\t@OneToMany(cascade = CascadeType.ALL, mappedBy = &quot;job&quot;)\r\n\tprotected Set&lt;MROData&gt; mroData;\r\n```\r\n\r\n\r\nThis is the model for the store\r\n\r\n```\r\nExt.define(&#39;myefiles.jobs.pdd.model.Job&#39;, {\r\n    extend: &#39;Ext.data.Model&#39;,\r\n    idProperty: &#39;jobNumber&#39;,\r\n\tfields: [{name: &#39;jobNumber&#39;, type: &#39;int&#39;, unique: true},\r\n\t         {name: &#39;description&#39;, type: &#39;string&#39;}, \r\n\t         {name: &#39;project&#39;, type: &#39;int&#39;},\r\n\t\t{name: &#39;projectName&#39;, type: &#39;string&#39;}\r\n\t\t]\r\n});  \r\n```\r\nThis is the extjs code for when the store is syncing when a button is pressed.\r\n\r\n```\r\nsaveJob: function(button){\r\n\t\tconsole.log(&#39;AddJob grid save button is clicked.&#39;);\r\n\t\t//var store = Ext.getCmp(&#39;AdminAddJobGrid&#39;).getStore();\r\n\t\tvar store = this.getViewModel().get().job;\r\n\t\t\r\n\t\tstore.sync({\r\n        \tsuccess: function(){\r\n        \t\tExt.toast({\r\n        \t\t\thtml: &#39;Data saved successfully.&#39;, \r\n        \t\t\ttitle: &#39;Status&#39;,\r\n        \t\t\twidth: 200,\r\n        \t\t\talign: &#39;t&#39;\r\n        \t\t});\r\n        \t\t//Ext.getCmp(&#39;AdminAddJobGrid&#39;).getStore().load(); // bad practice\r\n        \t\tstore.load();\r\n        \t\tconsole.log(&#39;It worked!&#39;);\r\n        \t},\r\n        \tfailure: function(form, response){\r\n        \t\tExt.Msg.alert(&#39;Status&#39;, &#39;Failed to save.&#39;);\r\n        \t\tconsole.log(&#39;It failed&#39;);\r\n        \t}\r\n        });\r\n\t}\r\n});  \r\n```\r\nThe logs for the server are saying STATUS 422 Could not find property for projectName\r\n\r\n[This is the payload tab of what&#39;s sent to the server](https://i.stack.imgur.com/KNO2r.png)\r\n\r\nEdit: So in the payload there was an extra variable called project this is because the model had a variable called project that was meant to be the project number so I changed that to project number and it got rid of that project variable in the payload that was equal to 0 the reason it recognizes the projectNumber but not the projectName I believe is because projectNumber is actually in the job table it&#39;s a foreign key that links jobs to project but project name is only in the project table. I&#39;m trying to avoid having duplicate data in the two tables with the projectName column.\r\n\r\nI&#39;m also new to posting questions on here I hope I provided enough context.","title":"Store in extjs contains data from multiple database tables having problems syncing","body":"<p>So, I have a store with a proxy to a hibernate named query in a entity class in java. the named query gets data from two different tables into this store. It loads the data just fine but when I'm trying to sync it with the db when a user updates a column, I get problems and the server can't find properties from the other table that the named query is pulling from.</p>\n<p>For more context I have a store hooked up to a grid panel in extjs and it displays data from a database but one of the columns is from a different table than the other 3. I'm very new to extjs and I don't know if there's a better way to go about this and setup the store differently or if I should change the database to have the project name stored in both tables.</p>\n<p>Here is my store code.</p>\n<pre><code> job: {\n            model: 'myefiles.jobs.pdd.model.Job',\n            autoLoad: true,\n            autoSync: false, // allow cell editing\n            proxy: {\n                type: 'ajax',\n                url: '/dav/.json/pdd/job?.nq=findJobProjectMap', \n            timeout: myefiles.NO_TIMEOUT,\n                reader: {\n                    type: 'json',\n                    rootProperty: 'data'\n                },\n                writer: {\n                    type: 'json',\n                    allowSingle: false,\n                    writeAllFields: true\n                },\n                noCache: false,\n                limitParam: undefined,\n                pageParam: undefined,\n                startParam: undefined,\n                listeners: {\n                    exception: function(proxy, response, options) {\n                        Ext.Msg.alert('Error', response.status + &quot;: &quot; + response.statusText\n                                + &quot; (&quot; + response.request.options.url + &quot;).&quot;);\n                    }\n                }\n            }\n        }, \n</code></pre>\n<p>Here is my named query</p>\n<pre><code>@NamedQuery(name = &quot;Job.findJobProjectMap&quot;,\n                query = &quot;SELECT new map (j.jobNumber as jobNumber, j.description as description, p.projectNumber as projectNumber, p.projectName as projectName) &quot;\n                        + &quot;FROM Job j &quot;\n                        + &quot;LEFT JOIN j.project as p&quot;)\n</code></pre>\n<p>the project name variable is in a different table called project and it isn't in the job table that this named query is in.</p>\n<p>These are the column definitions in my entity class for the job table.</p>\n<pre><code>        @Id\n    @Column(name = &quot;job_number&quot;, unique = true, nullable = false, length = 6)\n    @DBDavColumn\n    protected Integer jobNumber;\n\n    @Column(name = &quot;description&quot;, length = 255)\n    @DBDavColumn\n    protected String description;\n    \n    @ManyToOne\n    @JoinColumn(name = &quot;project_number&quot;, referencedColumnName = &quot;project_number&quot;)\n    @DBDavColumn\n    @DBDavConverter(factory=EntityConverterFactory.class)\n    protected Project project;\n    \n    @OneToMany(cascade = CascadeType.ALL, mappedBy = &quot;job&quot;)\n    protected Set&lt;Equipment&gt; equipment;\n    \n    @OneToMany(cascade = CascadeType.ALL, mappedBy = &quot;job&quot;)\n    protected Set&lt;MROData&gt; mroData;\n</code></pre>\n<p>This is the model for the store</p>\n<pre><code>Ext.define('myefiles.jobs.pdd.model.Job', {\n    extend: 'Ext.data.Model',\n    idProperty: 'jobNumber',\n    fields: [{name: 'jobNumber', type: 'int', unique: true},\n             {name: 'description', type: 'string'}, \n             {name: 'project', type: 'int'},\n        {name: 'projectName', type: 'string'}\n        ]\n});  \n</code></pre>\n<p>This is the extjs code for when the store is syncing when a button is pressed.</p>\n<pre><code>saveJob: function(button){\n        console.log('AddJob grid save button is clicked.');\n        //var store = Ext.getCmp('AdminAddJobGrid').getStore();\n        var store = this.getViewModel().get().job;\n        \n        store.sync({\n            success: function(){\n                Ext.toast({\n                    html: 'Data saved successfully.', \n                    title: 'Status',\n                    width: 200,\n                    align: 't'\n                });\n                //Ext.getCmp('AdminAddJobGrid').getStore().load(); // bad practice\n                store.load();\n                console.log('It worked!');\n            },\n            failure: function(form, response){\n                Ext.Msg.alert('Status', 'Failed to save.');\n                console.log('It failed');\n            }\n        });\n    }\n});  \n</code></pre>\n<p>The logs for the server are saying STATUS 422 Could not find property for projectName</p>\n<p><a href=\"https://i.stack.imgur.com/KNO2r.png\" rel=\"nofollow noreferrer\">This is the payload tab of what's sent to the server</a></p>\n<p>Edit: So in the payload there was an extra variable called project this is because the model had a variable called project that was meant to be the project number so I changed that to project number and it got rid of that project variable in the payload that was equal to 0 the reason it recognizes the projectNumber but not the projectName I believe is because projectNumber is actually in the job table it's a foreign key that links jobs to project but project name is only in the project table. I'm trying to avoid having duplicate data in the two tables with the projectName column.</p>\n<p>I'm also new to posting questions on here I hope I provided enough context.</p>\n"},{"tags":["java","multithreading","project-loom"],"answers":[{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1638372021,"creation_date":1638372021,"answer_id":70186782,"question_id":69749459,"body_markdown":"Yes, this suffix is the name of the current carrier thread.\r\n\r\nWhen I use the following code\r\n\r\n```java\r\npublic static void main(String[] args) throws InterruptedException {\r\n    Set&lt;String&gt; threadStrings = ConcurrentHashMap.newKeySet();\r\n    try(var executor = Executors.newVirtualThreadPerTaskExecutor()) {\r\n        executor.invokeAll(Collections.nCopies(16,\r\n            () -&gt; threadStrings.add(Thread.currentThread().toString())));\r\n    }\r\n    System.out.println(&quot;\\tSimple Run&quot;);\r\n    threadStrings.stream().sorted().forEachOrdered(System.out::println);\r\n\r\n    threadStrings.clear();\r\n\r\n    try(var executor = Executors.newVirtualThreadPerTaskExecutor()) {\r\n        executor.invokeAll(Collections.nCopies(16, () -&gt; {\r\n            threadStrings.add(Thread.currentThread().toString());\r\n            Thread.sleep(100);\r\n            return threadStrings.add(Thread.currentThread().toString());\r\n        }));\r\n    }\r\n    System.out.println(&quot;\\tWith wait&quot;);\r\n    threadStrings.stream().sorted().forEachOrdered(System.out::println);\r\n}\r\n```\r\n\r\nIt prints\r\n\r\n```none\r\n        Simple Run\r\nVirtualThread[#15]/runnable@ForkJoinPool-1-worker-1\r\nVirtualThread[#17]/runnable@ForkJoinPool-1-worker-2\r\nVirtualThread[#18]/runnable@ForkJoinPool-1-worker-3\r\nVirtualThread[#19]/runnable@ForkJoinPool-1-worker-4\r\nVirtualThread[#20]/runnable@ForkJoinPool-1-worker-1\r\nVirtualThread[#21]/runnable@ForkJoinPool-1-worker-1\r\nVirtualThread[#22]/runnable@ForkJoinPool-1-worker-4\r\nVirtualThread[#23]/runnable@ForkJoinPool-1-worker-1\r\nVirtualThread[#24]/runnable@ForkJoinPool-1-worker-4\r\nVirtualThread[#25]/runnable@ForkJoinPool-1-worker-4\r\nVirtualThread[#26]/runnable@ForkJoinPool-1-worker-1\r\nVirtualThread[#27]/runnable@ForkJoinPool-1-worker-4\r\nVirtualThread[#28]/runnable@ForkJoinPool-1-worker-4\r\nVirtualThread[#29]/runnable@ForkJoinPool-1-worker-1\r\nVirtualThread[#30]/runnable@ForkJoinPool-1-worker-4\r\nVirtualThread[#31]/runnable@ForkJoinPool-1-worker-4\r\n        With wait\r\nVirtualThread[#36]/runnable@ForkJoinPool-1-worker-2\r\nVirtualThread[#37]/runnable@ForkJoinPool-1-worker-3\r\nVirtualThread[#37]/runnable@ForkJoinPool-1-worker-8\r\nVirtualThread[#38]/runnable@ForkJoinPool-1-worker-4\r\nVirtualThread[#38]/runnable@ForkJoinPool-1-worker-8\r\nVirtualThread[#39]/runnable@ForkJoinPool-1-worker-1\r\nVirtualThread[#39]/runnable@ForkJoinPool-1-worker-8\r\nVirtualThread[#40]/runnable@ForkJoinPool-1-worker-5\r\nVirtualThread[#40]/runnable@ForkJoinPool-1-worker-8\r\nVirtualThread[#41]/runnable@ForkJoinPool-1-worker-6\r\nVirtualThread[#41]/runnable@ForkJoinPool-1-worker-8\r\nVirtualThread[#42]/runnable@ForkJoinPool-1-worker-7\r\nVirtualThread[#42]/runnable@ForkJoinPool-1-worker-8\r\nVirtualThread[#43]/runnable@ForkJoinPool-1-worker-5\r\nVirtualThread[#43]/runnable@ForkJoinPool-1-worker-8\r\nVirtualThread[#44]/runnable@ForkJoinPool-1-worker-1\r\nVirtualThread[#44]/runnable@ForkJoinPool-1-worker-8\r\nVirtualThread[#45]/runnable@ForkJoinPool-1-worker-5\r\nVirtualThread[#45]/runnable@ForkJoinPool-1-worker-6\r\nVirtualThread[#46]/runnable@ForkJoinPool-1-worker-5\r\nVirtualThread[#46]/runnable@ForkJoinPool-1-worker-8\r\nVirtualThread[#47]/runnable@ForkJoinPool-1-worker-2\r\nVirtualThread[#49]/runnable@ForkJoinPool-1-worker-1\r\nVirtualThread[#49]/runnable@ForkJoinPool-1-worker-8\r\nVirtualThread[#50]/runnable@ForkJoinPool-1-worker-2\r\nVirtualThread[#50]/runnable@ForkJoinPool-1-worker-6\r\nVirtualThread[#51]/runnable@ForkJoinPool-1-worker-3\r\nVirtualThread[#51]/runnable@ForkJoinPool-1-worker-5\r\nVirtualThread[#52]/runnable@ForkJoinPool-1-worker-2\r\nVirtualThread[#52]/runnable@ForkJoinPool-1-worker-8\r\n```\r\n&lt;sup&gt;(results may vary)&lt;/sup&gt;\r\n\r\ndemonstrating how the carrier thread might change when performing a `sleep`. But in the current snapshot (build 18-loom+6-282) its not possible to specify your own `Executor` anymore and there is no method for querying the virtual thread about the carrier thread it uses (other than the implicit hint via `toString()`). So, the management of the underlying host threads is mostly a black&#160;box in this version.\r\n\r\nKeep in mind that this is an ongoing development. Its not clear whether and how this will change.\r\n","title":"Is there a way to tell what Carrier Thread a Virtual Thread is running on?","body":"<p>Yes, this suffix is the name of the current carrier thread.</p>\n<p>When I use the following code</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) throws InterruptedException {\n    Set&lt;String&gt; threadStrings = ConcurrentHashMap.newKeySet();\n    try(var executor = Executors.newVirtualThreadPerTaskExecutor()) {\n        executor.invokeAll(Collections.nCopies(16,\n            () -&gt; threadStrings.add(Thread.currentThread().toString())));\n    }\n    System.out.println(&quot;\\tSimple Run&quot;);\n    threadStrings.stream().sorted().forEachOrdered(System.out::println);\n\n    threadStrings.clear();\n\n    try(var executor = Executors.newVirtualThreadPerTaskExecutor()) {\n        executor.invokeAll(Collections.nCopies(16, () -&gt; {\n            threadStrings.add(Thread.currentThread().toString());\n            Thread.sleep(100);\n            return threadStrings.add(Thread.currentThread().toString());\n        }));\n    }\n    System.out.println(&quot;\\tWith wait&quot;);\n    threadStrings.stream().sorted().forEachOrdered(System.out::println);\n}\n</code></pre>\n<p>It prints</p>\n<pre class=\"lang-none prettyprint-override\"><code>        Simple Run\nVirtualThread[#15]/runnable@ForkJoinPool-1-worker-1\nVirtualThread[#17]/runnable@ForkJoinPool-1-worker-2\nVirtualThread[#18]/runnable@ForkJoinPool-1-worker-3\nVirtualThread[#19]/runnable@ForkJoinPool-1-worker-4\nVirtualThread[#20]/runnable@ForkJoinPool-1-worker-1\nVirtualThread[#21]/runnable@ForkJoinPool-1-worker-1\nVirtualThread[#22]/runnable@ForkJoinPool-1-worker-4\nVirtualThread[#23]/runnable@ForkJoinPool-1-worker-1\nVirtualThread[#24]/runnable@ForkJoinPool-1-worker-4\nVirtualThread[#25]/runnable@ForkJoinPool-1-worker-4\nVirtualThread[#26]/runnable@ForkJoinPool-1-worker-1\nVirtualThread[#27]/runnable@ForkJoinPool-1-worker-4\nVirtualThread[#28]/runnable@ForkJoinPool-1-worker-4\nVirtualThread[#29]/runnable@ForkJoinPool-1-worker-1\nVirtualThread[#30]/runnable@ForkJoinPool-1-worker-4\nVirtualThread[#31]/runnable@ForkJoinPool-1-worker-4\n        With wait\nVirtualThread[#36]/runnable@ForkJoinPool-1-worker-2\nVirtualThread[#37]/runnable@ForkJoinPool-1-worker-3\nVirtualThread[#37]/runnable@ForkJoinPool-1-worker-8\nVirtualThread[#38]/runnable@ForkJoinPool-1-worker-4\nVirtualThread[#38]/runnable@ForkJoinPool-1-worker-8\nVirtualThread[#39]/runnable@ForkJoinPool-1-worker-1\nVirtualThread[#39]/runnable@ForkJoinPool-1-worker-8\nVirtualThread[#40]/runnable@ForkJoinPool-1-worker-5\nVirtualThread[#40]/runnable@ForkJoinPool-1-worker-8\nVirtualThread[#41]/runnable@ForkJoinPool-1-worker-6\nVirtualThread[#41]/runnable@ForkJoinPool-1-worker-8\nVirtualThread[#42]/runnable@ForkJoinPool-1-worker-7\nVirtualThread[#42]/runnable@ForkJoinPool-1-worker-8\nVirtualThread[#43]/runnable@ForkJoinPool-1-worker-5\nVirtualThread[#43]/runnable@ForkJoinPool-1-worker-8\nVirtualThread[#44]/runnable@ForkJoinPool-1-worker-1\nVirtualThread[#44]/runnable@ForkJoinPool-1-worker-8\nVirtualThread[#45]/runnable@ForkJoinPool-1-worker-5\nVirtualThread[#45]/runnable@ForkJoinPool-1-worker-6\nVirtualThread[#46]/runnable@ForkJoinPool-1-worker-5\nVirtualThread[#46]/runnable@ForkJoinPool-1-worker-8\nVirtualThread[#47]/runnable@ForkJoinPool-1-worker-2\nVirtualThread[#49]/runnable@ForkJoinPool-1-worker-1\nVirtualThread[#49]/runnable@ForkJoinPool-1-worker-8\nVirtualThread[#50]/runnable@ForkJoinPool-1-worker-2\nVirtualThread[#50]/runnable@ForkJoinPool-1-worker-6\nVirtualThread[#51]/runnable@ForkJoinPool-1-worker-3\nVirtualThread[#51]/runnable@ForkJoinPool-1-worker-5\nVirtualThread[#52]/runnable@ForkJoinPool-1-worker-2\nVirtualThread[#52]/runnable@ForkJoinPool-1-worker-8\n</code></pre>\n<p><sup>(results may vary)</sup></p>\n<p>demonstrating how the carrier thread might change when performing a <code>sleep</code>. But in the current snapshot (build 18-loom+6-282) its not possible to specify your own <code>Executor</code> anymore and there is no method for querying the virtual thread about the carrier thread it uses (other than the implicit hint via <code>toString()</code>). So, the management of the underlying host threads is mostly a blackbox in this version.</p>\n<p>Keep in mind that this is an ongoing development. Its not clear whether and how this will change.</p>\n"}],"owner":{"account_id":4008983,"reputation":2115,"user_id":3302921,"accept_rate":22,"display_name":"Eric Kolotyluk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":656,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1691169966,"creation_date":1635403895,"question_id":69749459,"body_markdown":"I am playing around with Project Loom for the first time and I have some code\r\n\r\n    try (var executor = Executors.newVirtualThreadExecutor()) {\r\n        IntStream.range(0, 16).forEach(i -&gt; {\r\n            System.out.println(&quot;i = &quot; + i + &quot;, Thread ID = &quot; + Thread.currentThread());\r\n            executor.submit(() -&gt; {\r\n                System.out.println(&quot;Thread ID = &quot; + Thread.currentThread());\r\n            });\r\n        });\r\n    }\r\n\r\nwith output like\r\n\r\n    Thread ID = VirtualThread[#37]/runnable@ForkJoinPool-1-worker-4\r\n    Thread ID = VirtualThread[#33]/runnable@ForkJoinPool-1-worker-5\r\n    i = 9, Thread ID = Thread[#1,main,5,main]\r\n    Thread ID = VirtualThread[#43]/runnable@ForkJoinPool-1-worker-9\r\n    Thread ID = VirtualThread[#46]/runnable@ForkJoinPool-1-worker-11\r\n    i = 10, Thread ID = Thread[#1,main,5,main]\r\n    i = 11, Thread ID = Thread[#1,main,5,main]\r\n\r\nIs there a way I can tell what Carrier Thread each Virtual Thread is running on?\r\n\r\nDoes `ForkJoinPool-1-worker-11` represent a particular Carrier (Platform) Thread, or does it mean something else?","title":"Is there a way to tell what Carrier Thread a Virtual Thread is running on?","body":"<p>I am playing around with Project Loom for the first time and I have some code</p>\n<pre><code>try (var executor = Executors.newVirtualThreadExecutor()) {\n    IntStream.range(0, 16).forEach(i -&gt; {\n        System.out.println(&quot;i = &quot; + i + &quot;, Thread ID = &quot; + Thread.currentThread());\n        executor.submit(() -&gt; {\n            System.out.println(&quot;Thread ID = &quot; + Thread.currentThread());\n        });\n    });\n}\n</code></pre>\n<p>with output like</p>\n<pre><code>Thread ID = VirtualThread[#37]/runnable@ForkJoinPool-1-worker-4\nThread ID = VirtualThread[#33]/runnable@ForkJoinPool-1-worker-5\ni = 9, Thread ID = Thread[#1,main,5,main]\nThread ID = VirtualThread[#43]/runnable@ForkJoinPool-1-worker-9\nThread ID = VirtualThread[#46]/runnable@ForkJoinPool-1-worker-11\ni = 10, Thread ID = Thread[#1,main,5,main]\ni = 11, Thread ID = Thread[#1,main,5,main]\n</code></pre>\n<p>Is there a way I can tell what Carrier Thread each Virtual Thread is running on?</p>\n<p>Does <code>ForkJoinPool-1-worker-11</code> represent a particular Carrier (Platform) Thread, or does it mean something else?</p>\n"},{"tags":["java","apache-spark","cpu-usage"],"comments":[{"owner":{"account_id":7668859,"reputation":15816,"user_id":5811800,"display_name":"T. Gawda"},"score":0,"creation_date":1499447559,"post_id":44972633,"comment_id":76927775,"body_markdown":"Check number of partitions and number of tasks. Probably you have wrogn partition number after some step","body":"Check number of partitions and number of tasks. Probably you have wrogn partition number after some step"},{"owner":{"account_id":11101464,"reputation":597,"user_id":8150031,"accept_rate":67,"display_name":"DeepProblems"},"score":0,"creation_date":1499670848,"post_id":44972633,"comment_id":76985174,"body_markdown":"What do you mean by a wrong number? Actually, it is a partition number issue because with a small dataset i don&#39;t have any probleme because i can set parralelism to 10 (it is ok for 4 cores) but with a bigger one i need more tasks (else, i got a timeout and if i set the timeout higher i got an other weird error...) and then it crashes  like that.","body":"What do you mean by a wrong number? Actually, it is a partition number issue because with a small dataset i don&#39;t have any probleme because i can set parralelism to 10 (it is ok for 4 cores) but with a bigger one i need more tasks (else, i got a timeout and if i set the timeout higher i got an other weird error...) and then it crashes  like that."}],"answers":[{"tags":[],"owner":{"account_id":8552159,"reputation":1154,"user_id":6408784,"accept_rate":100,"display_name":"SharpLu"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1501766984,"creation_date":1501766984,"answer_id":45485695,"question_id":44972633,"body_markdown":"1. Make sure you have submit your Spark job by Yarn or mesos in the cluster, otherwise it may only running in your master node.\r\n\r\n2. As your code are pretty simple it should be very fast to finish the computation, but i suggest to use wordcount example try to read few GB of input sources to test how the CPU consuming looks like. \r\n\r\n3. Please use &quot;local[*]&quot; . * means use your All cores for computatation\r\n\r\n\tSparkConf sparkConf = new SparkConf().set(&quot;spark.driver.host&quot;, &quot;localhost&quot;).setAppName(&quot;unit-testing&quot;).setMaster(&quot;local[*]&quot;);\r\nReferences: https://spark.apache.org/docs/latest/configuration.html\r\n\r\n4. In spark there have a lot of things could influence the CPU and memory usage, such as executors and each spark.executor.memory you like to distribute. \r\n","title":"Low CPU usage while running a spark job","body":"<ol>\n<li><p>Make sure you have submit your Spark job by Yarn or mesos in the cluster, otherwise it may only running in your master node.</p></li>\n<li><p>As your code are pretty simple it should be very fast to finish the computation, but i suggest to use wordcount example try to read few GB of input sources to test how the CPU consuming looks like. </p></li>\n<li><p>Please use \"local[*]\" . * means use your All cores for computatation</p>\n\n<p>SparkConf sparkConf = new SparkConf().set(\"spark.driver.host\", \"localhost\").setAppName(\"unit-testing\").setMaster(\"local[*]\");\nReferences: <a href=\"https://spark.apache.org/docs/latest/configuration.html\" rel=\"noreferrer\">https://spark.apache.org/docs/latest/configuration.html</a></p></li>\n<li><p>In spark there have a lot of things could influence the CPU and memory usage, such as executors and each spark.executor.memory you like to distribute. </p></li>\n</ol>\n"}],"owner":{"account_id":11101464,"reputation":597,"user_id":8150031,"accept_rate":67,"display_name":"DeepProblems"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4796,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":45485695,"answer_count":1,"score":5,"last_activity_date":1691167897,"creation_date":1499435733,"question_id":44972633,"body_markdown":"I am running a Spark job. I have 4 cores and worker memory set to 5G. Application master is on another machine in the same network, and does not host any workers. This is my code: \r\n```\r\nprivate void myClass() {\r\n    // configuration of the spark context\r\n    SparkConf conf = new SparkConf().setAppName(&quot;myWork&quot;).setMaster(&quot;spark://myHostIp:7077&quot;).set(&quot;spark.driver.allowMultipleContexts&quot;, &quot;true&quot;);\r\n    // creation of the spark context in which we will run the algorithm\r\n    JavaSparkContext sc = new JavaSparkContext(conf);\r\n\r\n    // algorithm\r\n    for(int i = 0; i&lt;200; i++) {\r\n        System.out.println(&quot;===============================================================&quot;);\r\n        System.out.println(&quot;iteration : &quot; + i);\r\n        System.out.println(&quot;===============================================================&quot;);\r\n        ArrayList&lt;Boolean&gt; list = new ArrayList&lt;Boolean&gt;();\r\n        for(int j = 0; j &lt; 1900; j++){\r\n            list.add(true);\r\n        }\r\n        JavaRDD&lt;Ant&gt; ratings = sc.parallelize(list, 100)\r\n                    .map(bool -&gt; new myObj())\r\n                    .map(obj -&gt; this.setupObj(obj))\r\n                    .map(obj -&gt; this.moveObj(obj))\r\n                    .cache();\r\n        int[] stuff = ratings\r\n                    .map(obj -&gt; obj.getStuff())\r\n                    .reduce((obj1,obj2)-&gt;this.mergeStuff(obj1,obj2));\r\n        this.setStuff(tour);\r\n\r\n        ArrayList&lt;TabObj&gt; tabObj = ratings\r\n                    .map(obj -&gt; this.objToTabObjAsTab(obj))\r\n                    .reduce((obj1,obj2)-&gt;this.mergeTabObj(obj1,obj2));\r\n        ratings.unpersist(false);\r\n\r\n        this.setTabObj(tabObj);\r\n    }\r\n\r\n    sc.close();\r\n}\r\n```\r\n\r\nWhen I start it, I can see progress on the Spark UI, but it is really slow (I have to set the parallelize quite high, otherwise I have a timeout issue). I thought it was a CPU bottleneck, but the JVM CPU consumption is actually very low (most of the time it is 0%, sometime a bit more than 5%...).\r\n\r\nThe JVM is using around 3G Of memory according to the monitor, with only 19M cached. \r\n\r\nThe master host has 4 cores, and less memory (4G). That machine shows 100% CPU consumption (a full core) and I don&#39;t understand why it is that high... It just has to send partitions to the worker on the other machine, right? \r\n\r\nWhy is CPU consumption low on the worker, and high on the master?","title":"Low CPU usage while running a spark job","body":"<p>I am running a Spark job. I have 4 cores and worker memory set to 5G. Application master is on another machine in the same network, and does not host any workers. This is my code:</p>\n<pre><code>private void myClass() {\n    // configuration of the spark context\n    SparkConf conf = new SparkConf().setAppName(&quot;myWork&quot;).setMaster(&quot;spark://myHostIp:7077&quot;).set(&quot;spark.driver.allowMultipleContexts&quot;, &quot;true&quot;);\n    // creation of the spark context in which we will run the algorithm\n    JavaSparkContext sc = new JavaSparkContext(conf);\n\n    // algorithm\n    for(int i = 0; i&lt;200; i++) {\n        System.out.println(&quot;===============================================================&quot;);\n        System.out.println(&quot;iteration : &quot; + i);\n        System.out.println(&quot;===============================================================&quot;);\n        ArrayList&lt;Boolean&gt; list = new ArrayList&lt;Boolean&gt;();\n        for(int j = 0; j &lt; 1900; j++){\n            list.add(true);\n        }\n        JavaRDD&lt;Ant&gt; ratings = sc.parallelize(list, 100)\n                    .map(bool -&gt; new myObj())\n                    .map(obj -&gt; this.setupObj(obj))\n                    .map(obj -&gt; this.moveObj(obj))\n                    .cache();\n        int[] stuff = ratings\n                    .map(obj -&gt; obj.getStuff())\n                    .reduce((obj1,obj2)-&gt;this.mergeStuff(obj1,obj2));\n        this.setStuff(tour);\n\n        ArrayList&lt;TabObj&gt; tabObj = ratings\n                    .map(obj -&gt; this.objToTabObjAsTab(obj))\n                    .reduce((obj1,obj2)-&gt;this.mergeTabObj(obj1,obj2));\n        ratings.unpersist(false);\n\n        this.setTabObj(tabObj);\n    }\n\n    sc.close();\n}\n</code></pre>\n<p>When I start it, I can see progress on the Spark UI, but it is really slow (I have to set the parallelize quite high, otherwise I have a timeout issue). I thought it was a CPU bottleneck, but the JVM CPU consumption is actually very low (most of the time it is 0%, sometime a bit more than 5%...).</p>\n<p>The JVM is using around 3G Of memory according to the monitor, with only 19M cached.</p>\n<p>The master host has 4 cores, and less memory (4G). That machine shows 100% CPU consumption (a full core) and I don't understand why it is that high... It just has to send partitions to the worker on the other machine, right?</p>\n<p>Why is CPU consumption low on the worker, and high on the master?</p>\n"},{"tags":["java","android","google-app-engine","firebase"],"answers":[{"tags":[],"owner":{"account_id":6553534,"reputation":1421,"user_id":5067054,"display_name":"Kevin O&#39;Neil"},"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1466291950,"creation_date":1466225320,"answer_id":37893358,"question_id":37892336,"body_markdown":"You&#39;ll need to use the Firebase Server SDK to make server side calls. You can find info on setting that up and using it here:\r\n\r\n[Add Firebase to your Server][1]\r\n\r\n[Firebase Server SDK Installation &amp; Setup][2]\r\n\r\nWhen using Firebase with Google Cloud Endpoints be aware that you&#39;ll need to use Firebase methods in conjunction with the [Tasks API][3].  Since Firebase methods are not blocking, if you don&#39;t use Tasks your Endpoint will return before the call you made to Firebase has a chance to return its result. For a brief intro on using tasks check out the link below. Its a talk given at Google I/O 2016. The speaker is talking about Tasks and Firebase on Android but the concepts are the same when using Tasks and Firebase on a server. Note that they have included the Tasks API with the Firebase Server SDK. I&#39;ve skipped to the portion of the talk which deals directly with tasks.\r\n\r\n[Firebase SDK for Android: A tech deep dive][4]   \r\n\r\nThe samples below are if you need to process the result from your Firebase read/write operation before your Endpoint returns a value or if other code depends on the result of the Firebase read/write operation. These are server-side examples. Im going to assume you care whether or not the write operation was successful. There may be better ways to perform these server-side operations but this is what Ive done so far.\r\n\r\n**Sample write operation using setValue():**\r\n\r\n    DatabaseReference ref = FirebaseDatabase.getInstance().getReference();\r\n    YourModelClass obj = new YourModelClass();\r\n\r\n 1. When a call is made to the `setValue()` method it returns a `Task` object, keep a reference to it.\r\n\r\n        Task&lt;Void&gt; setValueTask = ref.setValue(obj);\r\n\r\n 2. Create a `TaskCompletionSource` object. This object should be parameterized with the result type of your choice. Im going to use `Boolean` as the result type for this example.\r\n\r\n        final TaskCompletionSource&lt;Boolean&gt; tcs = new TaskCompletionSource&lt;&gt;();\r\n\r\n 3. Generate a `Task` from the `TaskCompletionSource` that was created in step 2. Again, the generated `Task` should use the same parameter type as the `TaskCompletionSource` object.\r\n\r\n        Task&lt;Boolean&gt; tcsTask = tcs.getTask();\r\n\r\n 4. Add a completion listener to the `Task` that was generated by the call to `setValue()`. In the completion listener set the appropriate result on the `Task` created in step 3. Calling `setResult()` on your `TaskCompletionSouce` object will mark the `Task` created from it as complete. This is important for step 5.\r\n\r\n        setValueTask.addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\r\n           @Override\r\n           public void onComplete(@NonNull Task&lt;Void&gt; task) {\r\n              if(task.isSuccessful()){\r\n                 tcs.setResult(true);\r\n              }else{\r\n                 tcs.setResult(false);\r\n              }\r\n           }\r\n        });\r\n\r\n 5. Call `Task.await()` to block the current thread until the `Task` you are interested in has completed. We are waiting for the `Task` generated by the `TaskCompletionSource` object to be marked complete. This `Task` will be considered complete when we call `setResult()` on the `TaskCompletionSource` used to generate the `Task` as we did in step 4. Once complete it will return the result.\r\n\r\n        try {\r\n            Boolean result = Tasks.await(tcsTask);\r\n        }catch(ExecutionException e){\r\n            //handle exception \r\n        }catch (InterruptedException e){\r\n            //handle exception\r\n        }\r\n\r\nThats it, the current thread will block until `Tasks.await()` returns a value. You can also (and should) set a timeout value on the `Tasks.await()` method if you want to keep the current thread from being blocked indefinitely.\r\n\r\nIf you were only interested in whether or not the `Task` generated by `setValue()` completed and didnt care if it was successful or not then you can skip the creation of the `TaskCompletionSource` and just use `Tasks.await()` directly on that `Task`. The same works for `updateChildren()`. And if you like you can just use the method calls for `updateChilden()` or `setValue()` which use a `DatabaseReference.CompletionListener` along with a TaskCompletionListener. \r\n\r\nWaiting for a read operation to complete is similar.\r\n\r\n**Sample read operation using addListenerForSingleValueEvent()**\r\n\r\n    DatabaseReference ref = FirebaseDatabase.getInstance().getReference();\r\n    YourModelClass mModelClassObject;\r\n\r\n 1. Create a `TaskCompletionSource` object parameterized with the result you expect from the `Task` that will be generated from it.\r\n\r\n        final TaskCompletionSource&lt;YourModelClass&gt; tcs = new TaskCompletionSource&lt;&gt;();\r\n\r\n 2. Generate a `Task` from the `TaskCompletionSource` object\r\n\r\n        Task&lt;YourModelClass&gt; tcsTask = tcs.getTask();\r\n\r\n 3. Call `addListenerForSingleValueEvent()` on our `DatabaseReference` and call `setResult()` on the `Task` generated in step 2.\r\n\r\n        ref.addListenerForSingleValueEvent(new ValueEventListener() {\r\n           @Override\r\n           public void onDataChange(DataSnapshot dataSnapshot) {\r\n\t\t        YourModelClass result = dataSnapshot.getValue(YourModelClass.class);\r\n\t\t        if(result != null){\r\n\t\t\t        tcs.setResult(result);\r\n\t\t        }\r\n           }\r\n\r\n           @Override\r\n           public void onCancelled(DatabaseError databaseError){\r\n                //handle error\r\n           }\r\n        });\r\n\r\n 4. Call `Tasks.await()` to block the current thread until the `Task` you are interested in has completed. The `Task` will be considered complete when we call `setResult()` as we did in step 3 and will return the result.\r\n\r\n        try {\r\n            mModelClassObject = Tasks.await(tcsTask);\r\n        }catch(ExecutionException e){\r\n            //handle exception \r\n        }catch (InterruptedException e){\r\n            //handle exception\r\n        }\r\n\r\nAs mentioned above you can use the `Tasks.await()` method along with a timeout value to prevent the current thread from being blocked indefinitely.\r\n\r\nJust as a heads up I&#39;ve found that Firebase doesn&#39;t kill the background thread that is uses for its operations. This means that the GAE Instance is never idle. Check out this thread for more info:\r\n\r\n[Firebase, Background Threads, and App Engine][5]\r\n\r\n\r\n  [1]: https://firebase.google.com/docs/server/setup\r\n  [2]: https://firebase.google.com/docs/database/server/start\r\n  [3]: https://firebase.google.com/docs/reference/serverreference/com/google/firebase/tasks/package-summary\r\n  [4]: https://youtu.be/AJqakuas_6g?t=386\r\n  [5]: https://groups.google.com/forum/#!topic/google-appengine/U2f9dLHsck4","title":"Call Firebase database from Google App Engine","body":"<p>You'll need to use the Firebase Server SDK to make server side calls. You can find info on setting that up and using it here:</p>\n\n<p><a href=\"https://firebase.google.com/docs/server/setup\">Add Firebase to your Server</a></p>\n\n<p><a href=\"https://firebase.google.com/docs/database/server/start\">Firebase Server SDK Installation &amp; Setup</a></p>\n\n<p>When using Firebase with Google Cloud Endpoints be aware that you'll need to use Firebase methods in conjunction with the <a href=\"https://firebase.google.com/docs/reference/serverreference/com/google/firebase/tasks/package-summary\">Tasks API</a>.  Since Firebase methods are not blocking, if you don't use Tasks your Endpoint will return before the call you made to Firebase has a chance to return its result. For a brief intro on using tasks check out the link below. Its a talk given at Google I/O 2016. The speaker is talking about Tasks and Firebase on Android but the concepts are the same when using Tasks and Firebase on a server. Note that they have included the Tasks API with the Firebase Server SDK. I've skipped to the portion of the talk which deals directly with tasks.</p>\n\n<p><a href=\"https://youtu.be/AJqakuas_6g?t=386\">Firebase SDK for Android: A tech deep dive</a>   </p>\n\n<p>The samples below are if you need to process the result from your Firebase read/write operation before your Endpoint returns a value or if other code depends on the result of the Firebase read/write operation. These are server-side examples. Im going to assume you care whether or not the write operation was successful. There may be better ways to perform these server-side operations but this is what Ive done so far.</p>\n\n<p><strong>Sample write operation using setValue():</strong></p>\n\n<pre><code>DatabaseReference ref = FirebaseDatabase.getInstance().getReference();\nYourModelClass obj = new YourModelClass();\n</code></pre>\n\n<ol>\n<li><p>When a call is made to the <code>setValue()</code> method it returns a <code>Task</code> object, keep a reference to it.</p>\n\n<pre><code>Task&lt;Void&gt; setValueTask = ref.setValue(obj);\n</code></pre></li>\n<li><p>Create a <code>TaskCompletionSource</code> object. This object should be parameterized with the result type of your choice. Im going to use <code>Boolean</code> as the result type for this example.</p>\n\n<pre><code>final TaskCompletionSource&lt;Boolean&gt; tcs = new TaskCompletionSource&lt;&gt;();\n</code></pre></li>\n<li><p>Generate a <code>Task</code> from the <code>TaskCompletionSource</code> that was created in step 2. Again, the generated <code>Task</code> should use the same parameter type as the <code>TaskCompletionSource</code> object.</p>\n\n<pre><code>Task&lt;Boolean&gt; tcsTask = tcs.getTask();\n</code></pre></li>\n<li><p>Add a completion listener to the <code>Task</code> that was generated by the call to <code>setValue()</code>. In the completion listener set the appropriate result on the <code>Task</code> created in step 3. Calling <code>setResult()</code> on your <code>TaskCompletionSouce</code> object will mark the <code>Task</code> created from it as complete. This is important for step 5.</p>\n\n<pre><code>setValueTask.addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\n   @Override\n   public void onComplete(@NonNull Task&lt;Void&gt; task) {\n      if(task.isSuccessful()){\n         tcs.setResult(true);\n      }else{\n         tcs.setResult(false);\n      }\n   }\n});\n</code></pre></li>\n<li><p>Call <code>Task.await()</code> to block the current thread until the <code>Task</code> you are interested in has completed. We are waiting for the <code>Task</code> generated by the <code>TaskCompletionSource</code> object to be marked complete. This <code>Task</code> will be considered complete when we call <code>setResult()</code> on the <code>TaskCompletionSource</code> used to generate the <code>Task</code> as we did in step 4. Once complete it will return the result.</p>\n\n<pre><code>try {\n    Boolean result = Tasks.await(tcsTask);\n}catch(ExecutionException e){\n    //handle exception \n}catch (InterruptedException e){\n    //handle exception\n}\n</code></pre></li>\n</ol>\n\n<p>Thats it, the current thread will block until <code>Tasks.await()</code> returns a value. You can also (and should) set a timeout value on the <code>Tasks.await()</code> method if you want to keep the current thread from being blocked indefinitely.</p>\n\n<p>If you were only interested in whether or not the <code>Task</code> generated by <code>setValue()</code> completed and didnt care if it was successful or not then you can skip the creation of the <code>TaskCompletionSource</code> and just use <code>Tasks.await()</code> directly on that <code>Task</code>. The same works for <code>updateChildren()</code>. And if you like you can just use the method calls for <code>updateChilden()</code> or <code>setValue()</code> which use a <code>DatabaseReference.CompletionListener</code> along with a TaskCompletionListener. </p>\n\n<p>Waiting for a read operation to complete is similar.</p>\n\n<p><strong>Sample read operation using addListenerForSingleValueEvent()</strong></p>\n\n<pre><code>DatabaseReference ref = FirebaseDatabase.getInstance().getReference();\nYourModelClass mModelClassObject;\n</code></pre>\n\n<ol>\n<li><p>Create a <code>TaskCompletionSource</code> object parameterized with the result you expect from the <code>Task</code> that will be generated from it.</p>\n\n<pre><code>final TaskCompletionSource&lt;YourModelClass&gt; tcs = new TaskCompletionSource&lt;&gt;();\n</code></pre></li>\n<li><p>Generate a <code>Task</code> from the <code>TaskCompletionSource</code> object</p>\n\n<pre><code>Task&lt;YourModelClass&gt; tcsTask = tcs.getTask();\n</code></pre></li>\n<li><p>Call <code>addListenerForSingleValueEvent()</code> on our <code>DatabaseReference</code> and call <code>setResult()</code> on the <code>Task</code> generated in step 2.</p>\n\n<pre><code>ref.addListenerForSingleValueEvent(new ValueEventListener() {\n   @Override\n   public void onDataChange(DataSnapshot dataSnapshot) {\n        YourModelClass result = dataSnapshot.getValue(YourModelClass.class);\n        if(result != null){\n            tcs.setResult(result);\n        }\n   }\n\n   @Override\n   public void onCancelled(DatabaseError databaseError){\n        //handle error\n   }\n});\n</code></pre></li>\n<li><p>Call <code>Tasks.await()</code> to block the current thread until the <code>Task</code> you are interested in has completed. The <code>Task</code> will be considered complete when we call <code>setResult()</code> as we did in step 3 and will return the result.</p>\n\n<pre><code>try {\n    mModelClassObject = Tasks.await(tcsTask);\n}catch(ExecutionException e){\n    //handle exception \n}catch (InterruptedException e){\n    //handle exception\n}\n</code></pre></li>\n</ol>\n\n<p>As mentioned above you can use the <code>Tasks.await()</code> method along with a timeout value to prevent the current thread from being blocked indefinitely.</p>\n\n<p>Just as a heads up I've found that Firebase doesn't kill the background thread that is uses for its operations. This means that the GAE Instance is never idle. Check out this thread for more info:</p>\n\n<p><a href=\"https://groups.google.com/forum/#!topic/google-appengine/U2f9dLHsck4\">Firebase, Background Threads, and App Engine</a></p>\n"},{"tags":[],"owner":{"account_id":4751591,"reputation":171,"user_id":3841493,"display_name":"Alexandros Trepeklis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691166680,"creation_date":1691166680,"answer_id":76837734,"question_id":37892336,"body_markdown":"**Update 2023**\r\n\r\nAlthough the answer of Kevin was right back in 2016, things have changed a lot since.\r\n\r\nThe SDK, after 5.4.0, provides two functions.\r\n\r\n    setValueAsync(Object value)\r\nand \r\n\r\n    setValue(Object, CompletionListener)\r\n\r\nAlthough some answers ([here][1]) seem to indicate that the first one is async while the second one is blocking that is not the case, at least on my tests on Google Cloud App Engine.\r\n\r\nThe reality is that they are both non-blocking, the old one seems to be there for the callback-based programming style.\r\n\r\nThe new function &quot;setValueAsync&quot; is based on the ApiFuture interface. And although async we can easily wait for it to complete with calling get() in the ApiFuture returned. So the code of Kevin becomes as simple as:\r\n\r\n    DatabaseReference ref = FirebaseDatabase.getInstance().getReference();\r\n    ApiFuture future = ref.setValueAsync(YourObject);\r\n    future.get();\r\n\r\nYour code will not continue after the get() function call till the ApiFuture is returned.\r\n\r\nRead [Firebase: Asynchronous Operations with Admin Java SDK][2] for more details on the changes.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/58644807/what-is-the-difference-between-firebase-setvalue-and-setvalueasync-methods-a\r\n  [2]: https://medium.com/google-cloud/firebase-asynchronous-operations-with-admin-java-sdk-82ca9b4f6022","title":"Call Firebase database from Google App Engine","body":"<p><strong>Update 2023</strong></p>\n<p>Although the answer of Kevin was right back in 2016, things have changed a lot since.</p>\n<p>The SDK, after 5.4.0, provides two functions.</p>\n<pre><code>setValueAsync(Object value)\n</code></pre>\n<p>and</p>\n<pre><code>setValue(Object, CompletionListener)\n</code></pre>\n<p>Although some answers (<a href=\"https://stackoverflow.com/questions/58644807/what-is-the-difference-between-firebase-setvalue-and-setvalueasync-methods-a\">here</a>) seem to indicate that the first one is async while the second one is blocking that is not the case, at least on my tests on Google Cloud App Engine.</p>\n<p>The reality is that they are both non-blocking, the old one seems to be there for the callback-based programming style.</p>\n<p>The new function &quot;setValueAsync&quot; is based on the ApiFuture interface. And although async we can easily wait for it to complete with calling get() in the ApiFuture returned. So the code of Kevin becomes as simple as:</p>\n<pre><code>DatabaseReference ref = FirebaseDatabase.getInstance().getReference();\nApiFuture future = ref.setValueAsync(YourObject);\nfuture.get();\n</code></pre>\n<p>Your code will not continue after the get() function call till the ApiFuture is returned.</p>\n<p>Read <a href=\"https://medium.com/google-cloud/firebase-asynchronous-operations-with-admin-java-sdk-82ca9b4f6022\" rel=\"nofollow noreferrer\">Firebase: Asynchronous Operations with Admin Java SDK</a> for more details on the changes.</p>\n"}],"owner":{"account_id":2167196,"reputation":1436,"user_id":1920064,"accept_rate":61,"display_name":"booky99"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2558,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":37893358,"answer_count":2,"score":8,"last_activity_date":1691166680,"creation_date":1466212057,"question_id":37892336,"body_markdown":"I followed this [tutorial][1] for setting up my Google App Engine instance and I am also using Firebase. My goal is to put all of the &quot;computation&quot; on Google App Engine. I want to call a function like this one below:\r\n\r\n\r\nMyEndpoint:\r\n\r\n    package productions.widowmaker110.backend;\r\n    \r\n    /** An endpoint class we are exposing */\r\n    @Api(\r\n     name = &quot;myApi&quot;,\r\n     version = &quot;v1&quot;,\r\n     namespace = @ApiNamespace(\r\n     ownerDomain = &quot;backend.widowmaker110.productions&quot;,\r\n     ownerName = &quot;backend.widowmaker110.productions&quot;,\r\n     packagePath=&quot;&quot;\r\n     )\r\n    )\r\n    public class MyEndpoint {\r\n    \r\n     /** A simple endpoint method that takes a name and says Hi back */\r\n     @ApiMethod(name = &quot;sayHi&quot;)\r\n     public MyBean sayHi(@Named(&quot;name&quot;) String name) {\r\n    \r\n     // Write a message to the database\r\n     FirebaseDatabase database = FirebaseDatabase.getInstance();\r\n     DatabaseReference myRef = database.getReference(&quot;message&quot;);\r\n     \r\n     // Read from the database\r\n     myRef.addValueEventListener(new ValueEventListener() {\r\n     @Override\r\n     public void onDataChange(DataSnapshot dataSnapshot) {\r\n     // This method is called once with the initial value and again\r\n     // whenever data at this location is updated.\r\n     String value = dataSnapshot.getValue(String.class);\r\n     Log.d(TAG, &quot;Value is: &quot; + value);\r\n     }\r\n    \r\n     @Override\r\n     public void onCancelled(DatabaseError error) {\r\n     // Failed to read value\r\n     Log.w(TAG, &quot;Failed to read value.&quot;, error.toException());\r\n     }\r\n     });\r\n    \r\n     MyBean response = new MyBean();\r\n     response.setData(&quot;Hi, &quot; + name);\r\n    \r\n     return response;\r\n     }\r\n    \r\n    }\r\n\r\nMainActivity:\r\n\r\n    package productions.widowmaker110.gpsweather;\r\n    \r\n    // imports...\r\n    \r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n     @Override\r\n     protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n    \r\n        new EndpointsAsyncTask().execute(new Pair&lt;Context, String&gt;(this, &quot;Manfred&quot;));\r\n     }\r\n    \r\n     class EndpointsAsyncTask extends AsyncTask&lt;Pair&lt;Context, String&gt;, Void, String&gt; {\r\n        private MyApi myApiService = null;\r\n      private Context context;\r\n    \r\n     @Override\r\n     protected String doInBackground(Pair&lt;Context, String&gt;... params) {\r\n       if(myApiService == null) { // Only do this once\r\n          MyApi.Builder builder = new MyApi.Builder(AndroidHttp.newCompatibleTransport(),\r\n          new AndroidJsonFactory(), null)\r\n          // options for running against local devappserver\r\n          // - 10.0.2.2 is localhost&#39;s IP address in Android emulator\r\n          // - turn off compression when running against local devappserver\r\n         .setRootUrl(&quot;http://10.0.2.2:8080/_ah/api/&quot;)\r\n         .setGoogleClientRequestInitializer(new GoogleClientRequestInitializer() {\r\n     @Override\r\n     public void initialize(AbstractGoogleClientRequest&lt;?&gt; abstractGoogleClientRequest) throws IOException {\r\n        abstractGoogleClientRequest.setDisableGZipContent(true);\r\n     }\r\n     });\r\n     // end options for devappserver\r\n    \r\n     myApiService = builder.build();\r\n     }\r\n    \r\n     context = params[0].first;\r\n     String name = params[0].second;\r\n    \r\n     try {\r\n     return myApiService.sayHi(name).execute().getData();\r\n     } catch (IOException e) {\r\n     return e.getMessage();\r\n     }\r\n     }\r\n    \r\n     @Override\r\n     protected void onPostExecute(String result) {\r\n     Toast.makeText(context, result, Toast.LENGTH_LONG).show();\r\n     }\r\n     }\r\n    }\r\n\r\nI understand the above code for Firebase is Android specific so running on a Google App Engine instance doesn&#39;t work. I was wondering if any one knows how to perform CRUD \r\noperations on a firebase database from Google App Engine backend. Any help is appreciated.\r\n\r\n\r\n  [1]: https://cloud.google.com/appengine/docs/java/endpoints/helloendpoints-android-studio","title":"Call Firebase database from Google App Engine","body":"<p>I followed this <a href=\"https://cloud.google.com/appengine/docs/java/endpoints/helloendpoints-android-studio\">tutorial</a> for setting up my Google App Engine instance and I am also using Firebase. My goal is to put all of the \"computation\" on Google App Engine. I want to call a function like this one below:</p>\n\n<p>MyEndpoint:</p>\n\n<pre><code>package productions.widowmaker110.backend;\n\n/** An endpoint class we are exposing */\n@Api(\n name = \"myApi\",\n version = \"v1\",\n namespace = @ApiNamespace(\n ownerDomain = \"backend.widowmaker110.productions\",\n ownerName = \"backend.widowmaker110.productions\",\n packagePath=\"\"\n )\n)\npublic class MyEndpoint {\n\n /** A simple endpoint method that takes a name and says Hi back */\n @ApiMethod(name = \"sayHi\")\n public MyBean sayHi(@Named(\"name\") String name) {\n\n // Write a message to the database\n FirebaseDatabase database = FirebaseDatabase.getInstance();\n DatabaseReference myRef = database.getReference(\"message\");\n\n // Read from the database\n myRef.addValueEventListener(new ValueEventListener() {\n @Override\n public void onDataChange(DataSnapshot dataSnapshot) {\n // This method is called once with the initial value and again\n // whenever data at this location is updated.\n String value = dataSnapshot.getValue(String.class);\n Log.d(TAG, \"Value is: \" + value);\n }\n\n @Override\n public void onCancelled(DatabaseError error) {\n // Failed to read value\n Log.w(TAG, \"Failed to read value.\", error.toException());\n }\n });\n\n MyBean response = new MyBean();\n response.setData(\"Hi, \" + name);\n\n return response;\n }\n\n}\n</code></pre>\n\n<p>MainActivity:</p>\n\n<pre><code>package productions.widowmaker110.gpsweather;\n\n// imports...\n\npublic class MainActivity extends AppCompatActivity {\n\n @Override\n protected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    new EndpointsAsyncTask().execute(new Pair&lt;Context, String&gt;(this, \"Manfred\"));\n }\n\n class EndpointsAsyncTask extends AsyncTask&lt;Pair&lt;Context, String&gt;, Void, String&gt; {\n    private MyApi myApiService = null;\n  private Context context;\n\n @Override\n protected String doInBackground(Pair&lt;Context, String&gt;... params) {\n   if(myApiService == null) { // Only do this once\n      MyApi.Builder builder = new MyApi.Builder(AndroidHttp.newCompatibleTransport(),\n      new AndroidJsonFactory(), null)\n      // options for running against local devappserver\n      // - 10.0.2.2 is localhost's IP address in Android emulator\n      // - turn off compression when running against local devappserver\n     .setRootUrl(\"http://10.0.2.2:8080/_ah/api/\")\n     .setGoogleClientRequestInitializer(new GoogleClientRequestInitializer() {\n @Override\n public void initialize(AbstractGoogleClientRequest&lt;?&gt; abstractGoogleClientRequest) throws IOException {\n    abstractGoogleClientRequest.setDisableGZipContent(true);\n }\n });\n // end options for devappserver\n\n myApiService = builder.build();\n }\n\n context = params[0].first;\n String name = params[0].second;\n\n try {\n return myApiService.sayHi(name).execute().getData();\n } catch (IOException e) {\n return e.getMessage();\n }\n }\n\n @Override\n protected void onPostExecute(String result) {\n Toast.makeText(context, result, Toast.LENGTH_LONG).show();\n }\n }\n}\n</code></pre>\n\n<p>I understand the above code for Firebase is Android specific so running on a Google App Engine instance doesn't work. I was wondering if any one knows how to perform CRUD \noperations on a firebase database from Google App Engine backend. Any help is appreciated.</p>\n"},{"tags":["java","spring","hibernate","jpa","transactions"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1690970197,"post_id":76818700,"comment_id":135425995,"body_markdown":"It will not start a new transaction, despite the logs, and it should participate in the current transaction. If that doesn&#39; thappen there is something weird in your setup.","body":"It will not start a new transaction, despite the logs, and it should participate in the current transaction. If that doesn&#39; thappen there is something weird in your setup."},{"owner":{"account_id":13079058,"reputation":195,"user_id":9450156,"display_name":"Martin Pichler"},"score":0,"creation_date":1690972508,"post_id":76818700,"comment_id":135426426,"body_markdown":"I can&#39;t see whats weird in the setup. Transactions seem to work generally. They are participating for read-only methods like find*()","body":"I can&#39;t see whats weird in the setup. Transactions seem to work generally. They are participating for read-only methods like find*()"}],"answers":[{"tags":[],"owner":{"account_id":10827831,"reputation":143,"user_id":7963227,"display_name":"Sametcey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690977895,"creation_date":1690970625,"answer_id":76818793,"question_id":76818700,"body_markdown":"The point is: you set the Transactional here:\r\n\r\n    public interface MyEntityRepository extends JpaRepository&lt;MyEntity, Integer&gt; {\r\n    \r\n      @Query(value = &quot;DELETE FROM MyEntity e WHERE e.otherEntity.Id = ?1&quot;)\r\n      @Modifying\r\n      @Transactional //&lt;-- Hier you set the Transactional (but its wrong)\r\n      void deleteAllByOtherEntityId(String requestNumber);\r\n    \r\n      void deleteAllByOtherEntity_Id(String requestNumber);\r\n    }\r\n\r\nif you want to role Back so you must delete here the Transactional AND SET IT ON THE METHOD in which you logic goes.\r\n\r\nfor Example:\r\n\r\n    @Transactional\r\n    public void hereIdoSomethingAndNeedRollBack(){\r\n    \r\n    }\r\n\r\n\r\nWhat i Mean:\r\n\r\ni mean if you use  `void deleteAllByOtherEntityId(String requestNumber);` then you must delete the @transactional after `@Modifying` in your Repository Class and set the `@Transactional` ONLY on your Method! if you use `deleteAllByOtherEntity_Id` (so you do it over the Method Name) you dont need the `@Transactional` on Method","title":"Spring Boot Data JPA JpaRepository Transaction Management on custom delete methods","body":"<p>The point is: you set the Transactional here:</p>\n<pre><code>public interface MyEntityRepository extends JpaRepository&lt;MyEntity, Integer&gt; {\n\n  @Query(value = &quot;DELETE FROM MyEntity e WHERE e.otherEntity.Id = ?1&quot;)\n  @Modifying\n  @Transactional //&lt;-- Hier you set the Transactional (but its wrong)\n  void deleteAllByOtherEntityId(String requestNumber);\n\n  void deleteAllByOtherEntity_Id(String requestNumber);\n}\n</code></pre>\n<p>if you want to role Back so you must delete here the Transactional AND SET IT ON THE METHOD in which you logic goes.</p>\n<p>for Example:</p>\n<pre><code>@Transactional\npublic void hereIdoSomethingAndNeedRollBack(){\n\n}\n</code></pre>\n<p>What i Mean:</p>\n<p>i mean if you use  <code>void deleteAllByOtherEntityId(String requestNumber);</code> then you must delete the @transactional after <code>@Modifying</code> in your Repository Class and set the <code>@Transactional</code> ONLY on your Method! if you use <code>deleteAllByOtherEntity_Id</code> (so you do it over the Method Name) you dont need the <code>@Transactional</code> on Method</p>\n"},{"tags":[],"owner":{"account_id":5300710,"reputation":269,"user_id":4230445,"display_name":"rahulP"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691166631,"creation_date":1691166631,"answer_id":76837728,"question_id":76818700,"body_markdown":"SimpleJpaRepository is transactional by default but with readOnly=true. As you have marked your service class as transactional, that annotation is going to overried this behaviour.\r\n\r\nIn your repository class you don&#39;t need to necessarily mark any method as transactional but you sure need to mark the custom update method as @Modifying.\r\n\r\nThe rollback issue might have two reasons.\r\n1. If no custom rollback rules are configured in this annotation, the transaction will roll back on RuntimeException and Error but not on checked exceptions.\r\n2. You might not be calling the custom method properly from service class so that it is not allowing you to rollback the transaction.","title":"Spring Boot Data JPA JpaRepository Transaction Management on custom delete methods","body":"<p>SimpleJpaRepository is transactional by default but with readOnly=true. As you have marked your service class as transactional, that annotation is going to overried this behaviour.</p>\n<p>In your repository class you don't need to necessarily mark any method as transactional but you sure need to mark the custom update method as @Modifying.</p>\n<p>The rollback issue might have two reasons.</p>\n<ol>\n<li>If no custom rollback rules are configured in this annotation, the transaction will roll back on RuntimeException and Error but not on checked exceptions.</li>\n<li>You might not be calling the custom method properly from service class so that it is not allowing you to rollback the transaction.</li>\n</ol>\n"}],"owner":{"account_id":13079058,"reputation":195,"user_id":9450156,"display_name":"Martin Pichler"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":180,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1691166631,"creation_date":1690969933,"question_id":76818700,"body_markdown":"I run into a weird behaviour while working on a service method. A delete method in a JPA Repository defined by method name is not transactional while custom delete methods need to be annotated with @Modifying and @Transactional. This leads to weird behaviour.\r\n\r\n    public interface MyEntityRepository extends JpaRepository&lt;MyEntity, Integer&gt; {\r\n\r\n      @Query(value = &quot;DELETE FROM MyEntity e WHERE e.otherEntity.Id = ?1&quot;)\r\n      @Modifying\r\n      @Transactional\r\n      void deleteAllByOtherEntityId(String requestNumber);\r\n\r\n      void deleteAllByOtherEntity_Id(String requestNumber);\r\n    }\r\n\r\nWhen I call them in my service method which is also transactional, the custom delete method will create a new transaction according to transaction manager logs while the method delete method created by method name is not transactional\r\n\r\n&gt; No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.deleteAllByOtherEntity_Id]:\r\n&gt; This method is not transactional.\r\n\r\nThe problem here is with rollbacks. The first method commits its transaction and rollbacks will not affect it. The second method works fine with rollbacks. \r\n\r\nNow at the moment this is fine for me because the second method works for me but I am wondering if this behaviour is intendet or if I am missing something.\r\n\r\nbest, m\r\n\r\nEdit:\r\nActually there seems to be a problem with my config. Also JPA Methods (even read-only) create their own transactions. \r\n\r\n&gt; Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly\r\n\r\nI didn&#39;t see it before because I was trying out things and had set\r\n\r\n    enabledefaulttransactions=false\r\n\r\n","title":"Spring Boot Data JPA JpaRepository Transaction Management on custom delete methods","body":"<p>I run into a weird behaviour while working on a service method. A delete method in a JPA Repository defined by method name is not transactional while custom delete methods need to be annotated with @Modifying and @Transactional. This leads to weird behaviour.</p>\n<pre><code>public interface MyEntityRepository extends JpaRepository&lt;MyEntity, Integer&gt; {\n\n  @Query(value = &quot;DELETE FROM MyEntity e WHERE e.otherEntity.Id = ?1&quot;)\n  @Modifying\n  @Transactional\n  void deleteAllByOtherEntityId(String requestNumber);\n\n  void deleteAllByOtherEntity_Id(String requestNumber);\n}\n</code></pre>\n<p>When I call them in my service method which is also transactional, the custom delete method will create a new transaction according to transaction manager logs while the method delete method created by method name is not transactional</p>\n<blockquote>\n<p>No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.deleteAllByOtherEntity_Id]:\nThis method is not transactional.</p>\n</blockquote>\n<p>The problem here is with rollbacks. The first method commits its transaction and rollbacks will not affect it. The second method works fine with rollbacks.</p>\n<p>Now at the moment this is fine for me because the second method works for me but I am wondering if this behaviour is intendet or if I am missing something.</p>\n<p>best, m</p>\n<p>Edit:\nActually there seems to be a problem with my config. Also JPA Methods (even read-only) create their own transactions.</p>\n<blockquote>\n<p>Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly</p>\n</blockquote>\n<p>I didn't see it before because I was trying out things and had set</p>\n<pre><code>enabledefaulttransactions=false\n</code></pre>\n"},{"tags":["java","openapi"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1691392851,"post_id":76837666,"comment_id":135479831,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":29161360,"reputation":1,"user_id":22340046,"display_name":"extremeA"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691166417,"creation_date":1691166094,"question_id":76837666,"body_markdown":"I&#39;m trying to map a json in openapi 3.0 components.\r\n\r\nThe json structure looks like:\r\n\r\n \r\n\r\n    - X    \r\n        X1\r\n           Xx1\r\n             .\r\n             .\r\n           Xx2\r\n           Xx3   \r\n        X2\r\n           Xx21\r\n           xx22\r\n           Xx23  \r\n       X3\r\n         Xx31\r\n         Xx32\r\n         Xx33 \r\n       Y    \r\n        Y1\r\n         YY1\r\n         YY2 \t\r\n         YY3 \t\r\n              \r\n        Y2 \t\r\n              \r\n        Y3 \r\n      \t \r\n\r\nThis is basically a json tree with at least 4 layers\r\n\r\nGiven the fact the variable name and values can be dynamic, depending on the language the user is choosing i don&#39;t know how can i achieve that in openapi.\r\n\r\nAny help is welcomed!\r\n\r\nI was trying to achieve that using enums, but there are no ways of creating enums of enums of enums in openapi","title":"OpenAPI 3.0 map json with dynamic variable names and values","body":"<p>I'm trying to map a json in openapi 3.0 components.</p>\n<p>The json structure looks like:</p>\n<pre><code>- X    \n    X1\n       Xx1\n         .\n         .\n       Xx2\n       Xx3   \n    X2\n       Xx21\n       xx22\n       Xx23  \n   X3\n     Xx31\n     Xx32\n     Xx33 \n   Y    \n    Y1\n     YY1\n     YY2    \n     YY3    \n          \n    Y2  \n          \n    Y3 \n     \n</code></pre>\n<p>This is basically a json tree with at least 4 layers</p>\n<p>Given the fact the variable name and values can be dynamic, depending on the language the user is choosing i don't know how can i achieve that in openapi.</p>\n<p>Any help is welcomed!</p>\n<p>I was trying to achieve that using enums, but there are no ways of creating enums of enums of enums in openapi</p>\n"},{"tags":["java","class","oop","static","static-methods"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1691166458,"post_id":76837664,"comment_id":135459971,"body_markdown":"Its a perfectly acceptable practice.  Im pretty sure it occurs in a number of places in Java SE.","body":"Its a perfectly acceptable practice.  Im pretty sure it occurs in a number of places in Java SE."},{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":0,"creation_date":1691166526,"post_id":76837664,"comment_id":135459992,"body_markdown":"Looks ok, accept for the direct use of `DriverManager`, as that will make it hard to unit test (but that is unrelated to your question).","body":"Looks ok, accept for the direct use of <code>DriverManager</code>, as that will make it hard to unit test (but that is unrelated to your question)."},{"owner":{"account_id":29161315,"reputation":1,"user_id":22340012,"display_name":"Noah Webster"},"score":0,"creation_date":1691167116,"post_id":76837664,"comment_id":135460103,"body_markdown":"@AndrewS How would one go about making the connection easier to unit test?","body":"@AndrewS How would one go about making the connection easier to unit test?"},{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":0,"creation_date":1691168059,"post_id":76837664,"comment_id":135460283,"body_markdown":"Don&#39;t use a static method!  And do you use dependency injection!  But if a static method is absolutely required, then _PowerMock_ could be used to mock the result of `DriverManager` to return a mock `Connection`.  In general, I tend to consider the need for the use of _PowerMock_ as a code/design smell.","body":"Don&#39;t use a static method!  And do you use dependency injection!  But if a static method is absolutely required, then <i>PowerMock</i> could be used to mock the result of <code>DriverManager</code> to return a mock <code>Connection</code>.  In general, I tend to consider the need for the use of <i>PowerMock</i> as a code/design smell."},{"owner":{"account_id":6325048,"reputation":3074,"user_id":4911775,"display_name":"CodeScale"},"score":0,"creation_date":1691176923,"post_id":76837664,"comment_id":135461861,"body_markdown":"You need to wrap your static method and get it called from a class that is instantiable. If you feel the need for powermock consider the michael feathers WEWLC \nbook instead.","body":"You need to wrap your static method and get it called from a class that is instantiable. If you feel the need for powermock consider the michael feathers WEWLC  book instead."}],"owner":{"account_id":29161315,"reputation":1,"user_id":22340012,"display_name":"Noah Webster"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691166079,"creation_date":1691166079,"question_id":76837664,"body_markdown":"I am working on a CRUD application in Java currently. I have classes that correlate with each table in my database. Is it bad practice to have the same method with both static and non-static versions of the method overloaded? To keep things simple, I have the non-static versions simply calling the static version and using the this keyword to pass in the parameters.\r\n\r\nRough example below:\r\n\r\n\r\n```\r\nclass Account {\r\n    private String firstName;\r\n    private String lastName;\r\n    \r\n    public static void insertDB(String firstName, String lastName){\r\n        try {\r\n            Connection conn = DriverManager.getConnection(URL);\r\n            String sql = &quot;insert into account (firstName, lastName) values(?, ?)&quot;;\r\n            PreparedStatement statement = conn.prepareStatement(sql);\r\n            statement.setString(1, firstName);\r\n            statement.setString(2, lastName);\r\n            statement.executeUpdate();\r\n            statement.close();\r\n            conn.close();\r\n        } catch (SQLException e) {\r\n            System.out.println(e);\r\n        }\r\n    }\r\n    \r\n    public void insertDB(){\r\n        insertDB(this.firstName, this.lastName);\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n\r\nThis seems like the best way to account for needing to use a method with or without an instance of the class existing. If this is bad practice, should it be avoided by simply creating an instance of the Account class every time I need to use one of its methods? ","title":"Is it bad practice to have an overloaded method with a static and non-static version of the same method?","body":"<p>I am working on a CRUD application in Java currently. I have classes that correlate with each table in my database. Is it bad practice to have the same method with both static and non-static versions of the method overloaded? To keep things simple, I have the non-static versions simply calling the static version and using the this keyword to pass in the parameters.</p>\n<p>Rough example below:</p>\n<pre><code>class Account {\n    private String firstName;\n    private String lastName;\n    \n    public static void insertDB(String firstName, String lastName){\n        try {\n            Connection conn = DriverManager.getConnection(URL);\n            String sql = &quot;insert into account (firstName, lastName) values(?, ?)&quot;;\n            PreparedStatement statement = conn.prepareStatement(sql);\n            statement.setString(1, firstName);\n            statement.setString(2, lastName);\n            statement.executeUpdate();\n            statement.close();\n            conn.close();\n        } catch (SQLException e) {\n            System.out.println(e);\n        }\n    }\n    \n    public void insertDB(){\n        insertDB(this.firstName, this.lastName);\n    }\n}\n</code></pre>\n<p>This seems like the best way to account for needing to use a method with or without an instance of the class existing. If this is bad practice, should it be avoided by simply creating an instance of the Account class every time I need to use one of its methods?</p>\n"},{"tags":["java","keystore","pkcs#12"],"answers":[{"tags":[],"owner":{"account_id":4912957,"reputation":4595,"user_id":3957736,"accept_rate":80,"display_name":"always_a_rookie"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1553525351,"creation_date":1553525351,"answer_id":55340499,"question_id":55115395,"body_markdown":"Are you sure the code you have above worked? Because `DSA` is a asymmetric algorithm, not a symmetric algorithm. If you are sure it is a secret key, it has to be `AES` or `DES` or `DESede` (Triple DES). Your above code should have failed.\r\n\r\nAnd answers to your questions:\r\n\r\n - Just like databases stores data, keys (secret keys and key pairs) and certificates are meant to be stored in a keystore, that&#39;s where they should residing in your application. You should be referring/retrieving them from the keystore.\r\n - And from what you said in one of the statements, that the key is different from what you had originally when you stored and then retrieved, judging by this, I think the key you have is a `Triple DES` or a `DES` key. DES/TripleDES uses parity bits, and the parity bits are corrected by the Java API `SecretKeySpec`. This causes the key to look different from the original, but it is actually the same. You can read more about the parity bits [here][1].\r\n\r\nAnd as a best practice you shouldn&#39;t be storing the secret keys in a `PKCS12` Keystore. The internet standard defines that the `PKCS12` keystore should contain only one `KeyPair` entry associated with its certificate chain. Even though it can contain more than one entry, it is ideal to have only one entry, with the `key password` same as the `keystore password`. They can store secret keys too, but it is best if you store them in a `JCEKS` keystore format.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Parity_bit","title":"How to store &amp; get own secret key in Java 8 PKCS12 keystore","body":"<p>Are you sure the code you have above worked? Because <code>DSA</code> is a asymmetric algorithm, not a symmetric algorithm. If you are sure it is a secret key, it has to be <code>AES</code> or <code>DES</code> or <code>DESede</code> (Triple DES). Your above code should have failed.</p>\n\n<p>And answers to your questions:</p>\n\n<ul>\n<li>Just like databases stores data, keys (secret keys and key pairs) and certificates are meant to be stored in a keystore, that's where they should residing in your application. You should be referring/retrieving them from the keystore.</li>\n<li>And from what you said in one of the statements, that the key is different from what you had originally when you stored and then retrieved, judging by this, I think the key you have is a <code>Triple DES</code> or a <code>DES</code> key. DES/TripleDES uses parity bits, and the parity bits are corrected by the Java API <code>SecretKeySpec</code>. This causes the key to look different from the original, but it is actually the same. You can read more about the parity bits <a href=\"https://en.wikipedia.org/wiki/Parity_bit\" rel=\"nofollow noreferrer\">here</a>.</li>\n</ul>\n\n<p>And as a best practice you shouldn't be storing the secret keys in a <code>PKCS12</code> Keystore. The internet standard defines that the <code>PKCS12</code> keystore should contain only one <code>KeyPair</code> entry associated with its certificate chain. Even though it can contain more than one entry, it is ideal to have only one entry, with the <code>key password</code> same as the <code>keystore password</code>. They can store secret keys too, but it is best if you store them in a <code>JCEKS</code> keystore format.</p>\n"}],"owner":{"account_id":13250794,"reputation":243,"user_id":9568350,"display_name":"Krishna"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1787,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1691165985,"creation_date":1552372249,"question_id":55115395,"body_markdown":"I am trying to store my own secret key in PKCS12 keystore. I tried by using below code:\r\n\r\n    char[] passArray = &quot;password&quot;.toCharArray();// this is key store pass\r\n    \t\t\r\n    String key  = &quot;test123&quot;; // this is my own secret key\r\n    \t\r\n    // Loading a Keystore\r\n    KeyStore p12KeyStore = KeyStore.getInstance(&quot;PKCS12&quot;);\r\n    p12KeyStore.load(new FileInputStream(&quot;testKeyStore.p12&quot;), passArray);\r\n\r\nStoring my own secret key like as shown below:\r\n\r\n    byte [] byteKey = key.getBytes();\r\n    \t\t  \r\n    SecretKeySpec keySpec = new SecretKeySpec(byteKey, &quot;DSA&quot;);\r\n    \r\n    KeyStore.SecretKeyEntry secret = new KeyStore.SecretKeyEntry(keySpec);\r\n    \t\t\r\n    KeyStore.ProtectionParameter password = new KeyStore.PasswordProtection(passArray);\r\n    \t\t\r\n    p12KeyStore.setEntry(&quot;secret-key&quot;, secret, password);\r\n\r\nbut i am not sure whether storing the my own secret key as per best practice or not. and also when trying to get my own key from keystore as it is not getting like as my original secret key.\r\n\r\n    Key eKey = p12KeyStore.getKey(&quot;secret-key&quot;, passArray);\r\n\r\nCan anyone please help me on this to store &amp; get my own secret in PKCS12 keystore?","title":"How to store &amp; get own secret key in Java 8 PKCS12 keystore","body":"<p>I am trying to store my own secret key in PKCS12 keystore. I tried by using below code:</p>\n\n<pre><code>char[] passArray = \"password\".toCharArray();// this is key store pass\n\nString key  = \"test123\"; // this is my own secret key\n\n// Loading a Keystore\nKeyStore p12KeyStore = KeyStore.getInstance(\"PKCS12\");\np12KeyStore.load(new FileInputStream(\"testKeyStore.p12\"), passArray);\n</code></pre>\n\n<p>Storing my own secret key like as shown below:</p>\n\n<pre><code>byte [] byteKey = key.getBytes();\n\nSecretKeySpec keySpec = new SecretKeySpec(byteKey, \"DSA\");\n\nKeyStore.SecretKeyEntry secret = new KeyStore.SecretKeyEntry(keySpec);\n\nKeyStore.ProtectionParameter password = new KeyStore.PasswordProtection(passArray);\n\np12KeyStore.setEntry(\"secret-key\", secret, password);\n</code></pre>\n\n<p>but i am not sure whether storing the my own secret key as per best practice or not. and also when trying to get my own key from keystore as it is not getting like as my original secret key.</p>\n\n<pre><code>Key eKey = p12KeyStore.getKey(\"secret-key\", passArray);\n</code></pre>\n\n<p>Can anyone please help me on this to store &amp; get my own secret in PKCS12 keystore?</p>\n"},{"tags":["java","floating-point","integer","double"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1410378128,"post_id":25773721,"comment_id":40307225,"body_markdown":"How is 0.10 a length of 1?","body":"How is 0.10 a length of 1?"},{"owner":{"account_id":933477,"reputation":6047,"user_id":962872,"accept_rate":76,"display_name":"chrisapotek"},"score":0,"creation_date":1410378202,"post_id":25773721,"comment_id":40307265,"body_markdown":"0.10 is actually 0.1. Same thing for the compiler / computer.","body":"0.10 is actually 0.1. Same thing for the compiler / computer."},{"owner":{"account_id":101156,"reputation":15133,"user_id":272287,"accept_rate":83,"display_name":"jdphenix"},"score":0,"creation_date":1410378217,"post_id":25773721,"comment_id":40307279,"body_markdown":"@ElliottFrisch Guess - sginificant digits of the fractional part","body":"@ElliottFrisch Guess - sginificant digits of the fractional part"},{"owner":{"account_id":284109,"reputation":47153,"user_id":581994,"accept_rate":57,"display_name":"Hot Licks"},"score":0,"creation_date":1410378247,"post_id":25773721,"comment_id":40307304,"body_markdown":"Zeros can be significant too.","body":"Zeros can be significant too."},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1410378269,"post_id":25773721,"comment_id":40307320,"body_markdown":"@jdphenix The only issue is 0.1 isn&#39;t precisely representable in binary... so if we count binary digits it would be infinite. How many digits are in decimal when we divide `1/3`?","body":"@jdphenix The only issue is 0.1 isn&#39;t precisely representable in binary... so if we count binary digits it would be infinite. How many digits are in decimal when we divide <code>1&#47;3</code>?"},{"owner":{"account_id":933477,"reputation":6047,"user_id":962872,"accept_rate":76,"display_name":"chrisapotek"},"score":0,"creation_date":1410378618,"post_id":25773721,"comment_id":40307515,"body_markdown":"ElliottFrish `System.out.println(0.0100000 == 0.01); // prints true...`","body":"ElliottFrish <code>System.out.println(0.0100000 == 0.01); &#47;&#47; prints true...</code>"},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":2,"creation_date":1410378755,"post_id":25773721,"comment_id":40307594,"body_markdown":"@chrisapotek `System.out.println(0.10 + 0.10 + 0.10); // prints 0.30000000000000004`","body":"@chrisapotek <code>System.out.println(0.10 + 0.10 + 0.10); &#47;&#47; prints 0.30000000000000004</code>"},{"owner":{"account_id":933477,"reputation":6047,"user_id":962872,"accept_rate":76,"display_name":"chrisapotek"},"score":1,"creation_date":1410378888,"post_id":25773721,"comment_id":40307665,"body_markdown":"@ElliottFrisch Same thing for `System.out.println(0.1 + 0.1 + 0.1);` but that does not change the fact that 0.100000 == 0.1","body":"@ElliottFrisch Same thing for <code>System.out.println(0.1 + 0.1 + 0.1);</code> but that does not change the fact that 0.100000 == 0.1"},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1410378975,"post_id":25773721,"comment_id":40307695,"body_markdown":"@ElliottFrisch - that&#39;s a huge non-issue.  The OP wants something that would return `1` for `0.3`, and `17` (if I can count) for `0.1+0.1+0.1`.","body":"@ElliottFrisch - that&#39;s a huge non-issue.  The OP wants something that would return <code>1</code> for <code>0.3</code>, and <code>17</code> (if I can count) for <code>0.1+0.1+0.1</code>."},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1410378976,"post_id":25773721,"comment_id":40307696,"body_markdown":"@chrisapotek Okay, here&#39;s another `System.out.println(0.05 + 0.05 + 0.05 == 0.15); // prints false`","body":"@chrisapotek Okay, here&#39;s another <code>System.out.println(0.05 + 0.05 + 0.05 == 0.15); &#47;&#47; prints false</code>"},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1410378996,"post_id":25773721,"comment_id":40307703,"body_markdown":"@ElliottFrisch still a non-issue.","body":"@ElliottFrisch still a non-issue."},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1410379005,"post_id":25773721,"comment_id":40307707,"body_markdown":"@DavidWallace Still only commenting.","body":"@DavidWallace Still only commenting."},{"owner":{"account_id":2056532,"reputation":14003,"user_id":1834147,"accept_rate":86,"display_name":"tmyklebu"},"score":0,"creation_date":1410398408,"post_id":25773721,"comment_id":40314669,"body_markdown":"@ElliottFrisch: `System.out.println(2147483647 + 2147483647)` prints `-2`; what are you getting at?","body":"@ElliottFrisch: <code>System.out.println(2147483647 + 2147483647)</code> prints <code>-2</code>; what are you getting at?"},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1410399646,"post_id":25773721,"comment_id":40314913,"body_markdown":"@tmyklebu When OP says *to get the number of digits from a Java double*, it kind of matters what kind of precision you&#39;re after.","body":"@tmyklebu When OP says <i>to get the number of digits from a Java double</i>, it kind of matters what kind of precision you&#39;re after."}],"answers":[{"tags":[],"owner":{"account_id":2790051,"reputation":2666,"user_id":2400454,"accept_rate":20,"display_name":"Jay"},"down_vote_count":4,"up_vote_count":10,"is_accepted":true,"score":6,"last_activity_date":1410469798,"creation_date":1410378037,"answer_id":25773760,"question_id":25773721,"body_markdown":"This should get the amount after the dec: \r\n\r\n\r\n     Double d = 123.9343;\r\n     String[] div = d.toString().split(&quot;\\\\.&quot;);\r\n     div[0].length();   // Before Decimal Count\r\n     div[1].length();   // After  Decimal Count   \r\n\r\n***Explanation***: You first turn the double into a string and use the `split` function to split the string from the `.` &lt;br&gt;\r\nOnce it is in 2 pieces you can then find the length of the string easily with the `length` function.   ","title":"How to get the number of decimal digits from a double in Java? (Ex: 2.34 =&gt; 2 , 2.340 =&gt; 2 , 0.921 =&gt; 3)","body":"<p>This should get the amount after the dec: </p>\n\n<pre><code> Double d = 123.9343;\n String[] div = d.toString().split(\"\\\\.\");\n div[0].length();   // Before Decimal Count\n div[1].length();   // After  Decimal Count   \n</code></pre>\n\n<p><strong><em>Explanation</em></strong>: You first turn the double into a string and use the <code>split</code> function to split the string from the <code>.</code> <br>\nOnce it is in 2 pieces you can then find the length of the string easily with the <code>length</code> function.   </p>\n"},{"tags":[],"owner":{"account_id":1413944,"reputation":59678,"user_id":1339987,"accept_rate":54,"display_name":"djechlin"},"down_vote_count":3,"up_vote_count":4,"is_accepted":false,"score":1,"last_activity_date":1410385242,"creation_date":1410378350,"answer_id":25773845,"question_id":25773721,"body_markdown":"You need to use the `BigDecimal` class which specifies a precision. Everything else is just a hack.\r\n\r\n[This is required reading as a computer scientist](http://docs.oracle.com/cd/E19957-01/806-3568/ncg_goldberg.html), and you must read it to understand why your question is so broken.","title":"How to get the number of decimal digits from a double in Java? (Ex: 2.34 =&gt; 2 , 2.340 =&gt; 2 , 0.921 =&gt; 3)","body":"<p>You need to use the <code>BigDecimal</code> class which specifies a precision. Everything else is just a hack.</p>\n\n<p><a href=\"http://docs.oracle.com/cd/E19957-01/806-3568/ncg_goldberg.html\" rel=\"nofollow\">This is required reading as a computer scientist</a>, and you must read it to understand why your question is so broken.</p>\n"},{"tags":[],"owner":{"account_id":2430781,"reputation":474,"user_id":2121734,"accept_rate":50,"display_name":"Thomas Nguyen"},"down_vote_count":3,"up_vote_count":1,"is_accepted":false,"score":-2,"last_activity_date":1410378381,"creation_date":1410378381,"answer_id":25773852,"question_id":25773721,"body_markdown":"I won&#39;t give you the code, just the approach.  One approach is to print the number into a string then use regular expression on that string.  Get the portion of the string after the decimal place and count the numbers until you get to a 0.  There are corner cases but you can take care of that.  One thing though, some numbers cannot be represented exactly, such as 4/3, so the number of the decimal places theoretically is infinite.  But if you print to a string, you&#39;re capping the number of decimal places which makes it easy to count.  Just know that if you cap at N decimal places and your counter returns N there&#39;s a little doubt whether it&#39;s exactly N decimal places or infinite.  If you have trouble implementing this approach show me what you&#39;ve got and where you&#39;re stuck and I can help you further.","title":"How to get the number of decimal digits from a double in Java? (Ex: 2.34 =&gt; 2 , 2.340 =&gt; 2 , 0.921 =&gt; 3)","body":"<p>I won't give you the code, just the approach.  One approach is to print the number into a string then use regular expression on that string.  Get the portion of the string after the decimal place and count the numbers until you get to a 0.  There are corner cases but you can take care of that.  One thing though, some numbers cannot be represented exactly, such as 4/3, so the number of the decimal places theoretically is infinite.  But if you print to a string, you're capping the number of decimal places which makes it easy to count.  Just know that if you cap at N decimal places and your counter returns N there's a little doubt whether it's exactly N decimal places or infinite.  If you have trouble implementing this approach show me what you've got and where you're stuck and I can help you further.</p>\n"},{"tags":[],"owner":{"account_id":101156,"reputation":15133,"user_id":272287,"accept_rate":83,"display_name":"jdphenix"},"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1410380289,"creation_date":1410380289,"answer_id":25774353,"question_id":25773721,"body_markdown":"Short version: Use `BigDecimal` and it&#39;s `scale()` method. Initialize however you wish. \r\n\r\nLong version: \r\n\r\nYou specifically mentioned that you prefer the solution you use to be\r\n\r\n   * &quot;Math only&quot; (ambiguous but I can guess what you mean)\r\n   * Get the number of digits from a `double`, presumably the fractional part (based on your expected output)\r\n\r\nHere is a solution that uses `java.math.BigDecimal` to do so: \r\n\r\n    List&lt;BigDecimal&gt; list = new ArrayList&lt;BigDecimal&gt;() {{\r\n        add(BigDecimal.valueOf(0.0000000018));\r\n        add(BigDecimal.valueOf(123));\r\n        add(BigDecimal.valueOf(1.12));\r\n        add(BigDecimal.valueOf(1.0001));\r\n        add(BigDecimal.valueOf(2.340000));\r\n        add(BigDecimal.valueOf(0.10));\r\n    }};\r\n    \r\n    for (BigDecimal bd : list) { \r\n        System.out.println(bd + &quot; --&gt; &quot; + bd.scale());\r\n    }\r\n\r\nOutputs: \r\n\r\n    1.8E-9 --&gt; 10\r\n    123 --&gt; 0\r\n    1.12 --&gt; 2\r\n    1.0001 --&gt; 4\r\n    2.34 --&gt; 2\r\n    0.1 --&gt; 1\r\n\r\nNote that instantiating `BigDecimal` from `double` like this will eventually give you surprising results. Consider the `scale()` of `BigDecimal.valueOf(0.1 + 0.1 + 0.1)`, which is `17`. This is because `0.1` (and most other ~ 97% of numbers in range) cannot be represented exactly by `double`, which introduces rounding errors in calculations. \r\n\r\nAlso note that using `scale()` functions where solutions involving manipulating the results of `toString()` would fail. [`Double.toString()`][1] is well defined, and can produce a range of outputs beyond what one may think of as &quot;decimal notation&quot; of a `double`. \r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/lang/Double.html#toString%28double%29","title":"How to get the number of decimal digits from a double in Java? (Ex: 2.34 =&gt; 2 , 2.340 =&gt; 2 , 0.921 =&gt; 3)","body":"<p>Short version: Use <code>BigDecimal</code> and it's <code>scale()</code> method. Initialize however you wish. </p>\n\n<p>Long version: </p>\n\n<p>You specifically mentioned that you prefer the solution you use to be</p>\n\n<ul>\n<li>\"Math only\" (ambiguous but I can guess what you mean)</li>\n<li>Get the number of digits from a <code>double</code>, presumably the fractional part (based on your expected output)</li>\n</ul>\n\n<p>Here is a solution that uses <code>java.math.BigDecimal</code> to do so: </p>\n\n<pre><code>List&lt;BigDecimal&gt; list = new ArrayList&lt;BigDecimal&gt;() {{\n    add(BigDecimal.valueOf(0.0000000018));\n    add(BigDecimal.valueOf(123));\n    add(BigDecimal.valueOf(1.12));\n    add(BigDecimal.valueOf(1.0001));\n    add(BigDecimal.valueOf(2.340000));\n    add(BigDecimal.valueOf(0.10));\n}};\n\nfor (BigDecimal bd : list) { \n    System.out.println(bd + \" --&gt; \" + bd.scale());\n}\n</code></pre>\n\n<p>Outputs: </p>\n\n<pre><code>1.8E-9 --&gt; 10\n123 --&gt; 0\n1.12 --&gt; 2\n1.0001 --&gt; 4\n2.34 --&gt; 2\n0.1 --&gt; 1\n</code></pre>\n\n<p>Note that instantiating <code>BigDecimal</code> from <code>double</code> like this will eventually give you surprising results. Consider the <code>scale()</code> of <code>BigDecimal.valueOf(0.1 + 0.1 + 0.1)</code>, which is <code>17</code>. This is because <code>0.1</code> (and most other ~ 97% of numbers in range) cannot be represented exactly by <code>double</code>, which introduces rounding errors in calculations. </p>\n\n<p>Also note that using <code>scale()</code> functions where solutions involving manipulating the results of <code>toString()</code> would fail. <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/Double.html#toString%28double%29\" rel=\"noreferrer\"><code>Double.toString()</code></a> is well defined, and can produce a range of outputs beyond what one may think of as \"decimal notation\" of a <code>double</code>. </p>\n"},{"tags":[],"owner":{"account_id":2056532,"reputation":14003,"user_id":1834147,"accept_rate":86,"display_name":"tmyklebu"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1410398291,"creation_date":1410398291,"answer_id":25777516,"question_id":25773721,"body_markdown":"There is no useful notion of &quot;the number of digits of a Java `double`&quot; consistent with the results you gave.  A `double` is a binary floating-point number, not a decimal floating-point number, and, for example, the Java `double` 1.12 is actually the number `1.12000000000000010658141036401502788066864013671875`, which has 50 digits after the decimal point before all the repeating zeroes.","title":"How to get the number of decimal digits from a double in Java? (Ex: 2.34 =&gt; 2 , 2.340 =&gt; 2 , 0.921 =&gt; 3)","body":"<p>There is no useful notion of \"the number of digits of a Java <code>double</code>\" consistent with the results you gave.  A <code>double</code> is a binary floating-point number, not a decimal floating-point number, and, for example, the Java <code>double</code> 1.12 is actually the number <code>1.12000000000000010658141036401502788066864013671875</code>, which has 50 digits after the decimal point before all the repeating zeroes.</p>\n"},{"tags":[],"owner":{"account_id":284109,"reputation":47153,"user_id":581994,"accept_rate":57,"display_name":"Hot Licks"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1410470713,"creation_date":1410470713,"answer_id":25797180,"question_id":25773721,"body_markdown":"**The number of decimal digits in a double is 15.9.  Period.**  (I&#39;ll let you figure out how to treat the 0.9.)\r\n\r\nIf you have a the floating-point number 1.00000000000001, you have no idea (without further information) whether the &quot;1&quot; on the right end of that number is &quot;information&quot; or &quot;noise&quot;.  Similarly with 0.9999999999999 -- is it really 1.0, or are all those 9s significant?  **You don&#39;t know** without some information about the precision of the calculations/measurements than went into producing the number.\r\n\r\nIt is common to format the number out to N digits and then &quot;trim&quot; strings of zeros (or, with rounding, 9s) on the right, but this is at best an educated bet.  At worst it&#39;s throwing away critical data.","title":"How to get the number of decimal digits from a double in Java? (Ex: 2.34 =&gt; 2 , 2.340 =&gt; 2 , 0.921 =&gt; 3)","body":"<p><strong>The number of decimal digits in a double is 15.9.  Period.</strong>  (I'll let you figure out how to treat the 0.9.)</p>\n\n<p>If you have a the floating-point number 1.00000000000001, you have no idea (without further information) whether the \"1\" on the right end of that number is \"information\" or \"noise\".  Similarly with 0.9999999999999 -- is it really 1.0, or are all those 9s significant?  <strong>You don't know</strong> without some information about the precision of the calculations/measurements than went into producing the number.</p>\n\n<p>It is common to format the number out to N digits and then \"trim\" strings of zeros (or, with rounding, 9s) on the right, but this is at best an educated bet.  At worst it's throwing away critical data.</p>\n"},{"tags":[],"owner":{"account_id":29080542,"reputation":1,"user_id":22276686,"display_name":" "},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691165911,"creation_date":1691165911,"answer_id":76837646,"question_id":25773721,"body_markdown":"```\r\npublic static void main(String[] args){\r\n    String num=&quot;1122345.67823&quot;;\r\n    System.out.println(num.indexOf(&quot;.&quot;));\r\n    System.out.println(num.length());\r\n    //This is what u need//\r\n    System.out.println(&quot;\\n&quot; +&quot;Decimal digits: &quot; + (num.length()-num.indexOf(&quot;.&quot;)-1));\r\n    System.out.println(&quot;\\n&quot; + &quot;Integer Digits: &quot; + (num.length() -(num.length()-num.indexOf(&quot;.&quot;))));\r\n```\r\n\r\nP.S if num is Integer instead of String just use the &quot; String.valueOf(num)&quot; to convert it.","title":"How to get the number of decimal digits from a double in Java? (Ex: 2.34 =&gt; 2 , 2.340 =&gt; 2 , 0.921 =&gt; 3)","body":"<pre><code>public static void main(String[] args){\n    String num=&quot;1122345.67823&quot;;\n    System.out.println(num.indexOf(&quot;.&quot;));\n    System.out.println(num.length());\n    //This is what u need//\n    System.out.println(&quot;\\n&quot; +&quot;Decimal digits: &quot; + (num.length()-num.indexOf(&quot;.&quot;)-1));\n    System.out.println(&quot;\\n&quot; + &quot;Integer Digits: &quot; + (num.length() -(num.length()-num.indexOf(&quot;.&quot;))));\n</code></pre>\n<p>P.S if num is Integer instead of String just use the &quot; String.valueOf(num)&quot; to convert it.</p>\n"}],"owner":{"account_id":933477,"reputation":6047,"user_id":962872,"accept_rate":76,"display_name":"chrisapotek"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15145,"favorite_count":0,"down_vote_count":4,"up_vote_count":8,"accepted_answer_id":25773760,"answer_count":7,"score":4,"last_activity_date":1691165911,"creation_date":1410377892,"question_id":25773721,"body_markdown":"Title is self-explanatory. What is a good way, with just math preferably, to get the number of digits from a Java double?\r\n\r\n    123 =&gt; 0\r\n    1.12 =&gt; 2\r\n    1.0001 =&gt; 4\r\n    2.340000 =&gt; 2\r\n    0.10 =&gt; 1\r\n\r\nI have a double d = 0.320 for example.\r\n\r\nAs far as I know, for the compiler / jvm / computer:\r\n\r\n    System.out.println(0.0100000 == 0.01); // prints true...","title":"How to get the number of decimal digits from a double in Java? (Ex: 2.34 =&gt; 2 , 2.340 =&gt; 2 , 0.921 =&gt; 3)","body":"<p>Title is self-explanatory. What is a good way, with just math preferably, to get the number of digits from a Java double?</p>\n\n<pre><code>123 =&gt; 0\n1.12 =&gt; 2\n1.0001 =&gt; 4\n2.340000 =&gt; 2\n0.10 =&gt; 1\n</code></pre>\n\n<p>I have a double d = 0.320 for example.</p>\n\n<p>As far as I know, for the compiler / jvm / computer:</p>\n\n<pre><code>System.out.println(0.0100000 == 0.01); // prints true...\n</code></pre>\n"},{"tags":["java","cloud","glassfish","openstack","openstack4j"],"comments":[{"owner":{"account_id":2634000,"reputation":2938,"user_id":2279200,"accept_rate":73,"display_name":"Athafoud"},"score":0,"creation_date":1443285775,"post_id":32777285,"comment_id":53436470,"body_markdown":"Just a suggestion. You can try an alternative of openstack4j named JClouds, personally I find it more easy to use. You can also take a look on my awnser [here](http://stackoverflow.com/a/28985001/2279200). I am giving some links about a simple java application that can help start with JClouds.","body":"Just a suggestion. You can try an alternative of openstack4j named JClouds, personally I find it more easy to use. You can also take a look on my awnser <a href=\"http://stackoverflow.com/a/28985001/2279200\">here</a>. I am giving some links about a simple java application that can help start with JClouds."},{"owner":{"account_id":5778579,"reputation":243,"user_id":4559952,"accept_rate":57,"display_name":"Ehrendil"},"score":0,"creation_date":1443290662,"post_id":32777285,"comment_id":53437971,"body_markdown":"Thank you for your comment. I haven&#39;t yet figured out why this is happening, however I have found that if I use another connector then the error gets resolved. I&#39;m now using resteasy and it&#39;s proven very efficient.","body":"Thank you for your comment. I haven&#39;t yet figured out why this is happening, however I have found that if I use another connector then the error gets resolved. I&#39;m now using resteasy and it&#39;s proven very efficient."}],"owner":{"account_id":5778579,"reputation":243,"user_id":4559952,"accept_rate":57,"display_name":"Ehrendil"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":820,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1691165047,"creation_date":1443167279,"question_id":32777285,"body_markdown":"I&#39;m trying out openstack4j, and I&#39;ve run into a problem I don&#39;t know what could be causing.\r\n\r\nAuthentication to the cloud went smoothly:\r\n\r\n    OSClient os = OSFactory.builder()\r\n    .endpoint(&quot;http://xxx.xxx.xxx.xxx:yyyyy/v2.0&quot;)\r\n    .credentials(username,password)\r\n    .tenantName(&quot;admin&quot;)\r\n    .perspective(Facing.PUBLIC)\r\n    .authenticate();\r\n\r\nHowever, once os is instanciated, I try running the following line:\r\n\r\n    List&lt;? extends Flavor&gt; flavors = os.compute().flavors().list();\r\n\r\nAnd I get an ConnectionException{message=java.net.ConnectException: Connection timed out: connect, status=0}\r\n\r\nWhat could be causing this?\r\n\r\nThanks in advance.\r\n\r\nStack trace:\r\n\r\n        Exception in thread &quot;main&quot; ConnectionException{message=java.net.ConnectException: Connection timed out: connect, status=0}\r\n        at org.openstack4j.connectors.jersey2.HttpExecutorServiceImpl.invoke(HttpExecutorServiceImpl.java:58)\r\n        at org.openstack4j.connectors.jersey2.HttpExecutorServiceImpl.execute(HttpExecutorServiceImpl.java:33)\r\n        at org.openstack4j.core.transport.internal.HttpExecutor.execute(HttpExecutor.java:51)\r\n        at org.openstack4j.openstack.internal.BaseOpenStackService$Invocation.execute(BaseOpenStackService.java:178)\r\n        at org.openstack4j.openstack.internal.BaseOpenStackService$Invocation.execute(BaseOpenStackService.java:172)\r\n        at org.openstack4j.openstack.compute.internal.FlavorServiceImpl.list(FlavorServiceImpl.java:32)\r\n        at com.mycompany.app.my_app.OpenStackCom.authOpenStack(OpenStackCom.java:127)\r\n        at com.mycompany.app.my_app.App.main(App.java:18)\r\n    Caused by: javax.ws.rs.ProcessingException: java.net.ConnectException: Connection timed out: connect\r\n        at org.glassfish.jersey.client.HttpUrlConnector.apply(HttpUrlConnector.java:229)\r\n    at org.glassfish.jersey.client.ClientRuntime.invoke(ClientRuntime.java:224)\r\n    at org.glassfish.jersey.client.JerseyInvocation$1.call(JerseyInvocation.java:656)\r\n    at org.glassfish.jersey.client.JerseyInvocation$1.call(JerseyInvocation.java:653)\r\n    at org.glassfish.jersey.internal.Errors.process(Errors.java:315)\r\n    at org.glassfish.jersey.internal.Errors.process(Errors.java:297)\r\n    at org.glassfish.jersey.internal.Errors.process(Errors.java:228)\r\n    at org.glassfish.jersey.process.internal.RequestScope.runInScope(RequestScope.java:424)\r\n    at org.glassfish.jersey.client.JerseyInvocation.invoke(JerseyInvocation.java:653)\r\n    at org.glassfish.jersey.client.JerseyInvocation$Builder.method(JerseyInvocation.java:388)\r\n    at org.openstack4j.connectors.jersey2.HttpCommand.execute(HttpCommand.java:86)\r\n    at org.openstack4j.connectors.jersey2.HttpExecutorServiceImpl.invokeRequest(HttpExecutorServiceImpl.java:65)\r\n    at org.openstack4j.connectors.jersey2.HttpExecutorServiceImpl.invoke(HttpExecutorServiceImpl.java:56)\r\n    ... 7 more\r\n    Caused by: java.net.ConnectException: Connection timed out: connect\r\n    at java.net.DualStackPlainSocketImpl.connect0(Native Method)\r\n    at java.net.DualStackPlainSocketImpl.socketConnect(Unknown Source)\r\n    at java.net.AbstractPlainSocketImpl.doConnect(Unknown Source)\r\n    at java.net.AbstractPlainSocketImpl.connectToAddress(Unknown Source)\r\n    at java.net.AbstractPlainSocketImpl.connect(Unknown Source)\r\n    at java.net.PlainSocketImpl.connect(Unknown Source)\r\n    at java.net.SocksSocketImpl.connect(Unknown Source)\r\n    at java.net.Socket.connect(Unknown Source)\r\n    at sun.net.NetworkClient.doConnect(Unknown Source)\r\n    at sun.net.www.http.HttpClient.openServer(Unknown Source)\r\n    at sun.net.www.http.HttpClient.openServer(Unknown Source)\r\n    at sun.net.www.http.HttpClient.(Unknown Source)\r\n    at sun.net.www.http.HttpClient.New(Unknown Source)\r\n    at sun.net.www.http.HttpClient.New(Unknown Source)\r\n    at sun.net.www.protocol.http.HttpURLConnection.getNewHttpClient(Unknown Source)\r\n    at sun.net.www.protocol.http.HttpURLConnection.plainConnect0(Unknown Source)\r\n    at sun.net.www.protocol.http.HttpURLConnection.plainConnect(Unknown Source)\r\n    at sun.net.www.protocol.http.HttpURLConnection.connect(Unknown Source)\r\n    at sun.net.www.protocol.http.HttpURLConnection.getInputStream0(Unknown Source)\r\n    at sun.net.www.protocol.http.HttpURLConnection.getInputStream(Unknown Source)\r\n    at java.net.HttpURLConnection.getResponseCode(Unknown Source)\r\n    at org.glassfish.jersey.client.HttpUrlConnector._apply(HttpUrlConnector.java:321)\r\n    at org.glassfish.jersey.client.HttpUrlConnector.apply(HttpUrlConnector.java:227)","title":"Connection timeout with openstack4j compute query","body":"<p>I'm trying out openstack4j, and I've run into a problem I don't know what could be causing.</p>\n\n<p>Authentication to the cloud went smoothly:</p>\n\n<pre><code>OSClient os = OSFactory.builder()\n.endpoint(\"http://xxx.xxx.xxx.xxx:yyyyy/v2.0\")\n.credentials(username,password)\n.tenantName(\"admin\")\n.perspective(Facing.PUBLIC)\n.authenticate();\n</code></pre>\n\n<p>However, once os is instanciated, I try running the following line:</p>\n\n<pre><code>List&lt;? extends Flavor&gt; flavors = os.compute().flavors().list();\n</code></pre>\n\n<p>And I get an ConnectionException{message=java.net.ConnectException: Connection timed out: connect, status=0}</p>\n\n<p>What could be causing this?</p>\n\n<p>Thanks in advance.</p>\n\n<p>Stack trace:</p>\n\n<pre><code>    Exception in thread \"main\" ConnectionException{message=java.net.ConnectException: Connection timed out: connect, status=0}\n    at org.openstack4j.connectors.jersey2.HttpExecutorServiceImpl.invoke(HttpExecutorServiceImpl.java:58)\n    at org.openstack4j.connectors.jersey2.HttpExecutorServiceImpl.execute(HttpExecutorServiceImpl.java:33)\n    at org.openstack4j.core.transport.internal.HttpExecutor.execute(HttpExecutor.java:51)\n    at org.openstack4j.openstack.internal.BaseOpenStackService$Invocation.execute(BaseOpenStackService.java:178)\n    at org.openstack4j.openstack.internal.BaseOpenStackService$Invocation.execute(BaseOpenStackService.java:172)\n    at org.openstack4j.openstack.compute.internal.FlavorServiceImpl.list(FlavorServiceImpl.java:32)\n    at com.mycompany.app.my_app.OpenStackCom.authOpenStack(OpenStackCom.java:127)\n    at com.mycompany.app.my_app.App.main(App.java:18)\nCaused by: javax.ws.rs.ProcessingException: java.net.ConnectException: Connection timed out: connect\n    at org.glassfish.jersey.client.HttpUrlConnector.apply(HttpUrlConnector.java:229)\nat org.glassfish.jersey.client.ClientRuntime.invoke(ClientRuntime.java:224)\nat org.glassfish.jersey.client.JerseyInvocation$1.call(JerseyInvocation.java:656)\nat org.glassfish.jersey.client.JerseyInvocation$1.call(JerseyInvocation.java:653)\nat org.glassfish.jersey.internal.Errors.process(Errors.java:315)\nat org.glassfish.jersey.internal.Errors.process(Errors.java:297)\nat org.glassfish.jersey.internal.Errors.process(Errors.java:228)\nat org.glassfish.jersey.process.internal.RequestScope.runInScope(RequestScope.java:424)\nat org.glassfish.jersey.client.JerseyInvocation.invoke(JerseyInvocation.java:653)\nat org.glassfish.jersey.client.JerseyInvocation$Builder.method(JerseyInvocation.java:388)\nat org.openstack4j.connectors.jersey2.HttpCommand.execute(HttpCommand.java:86)\nat org.openstack4j.connectors.jersey2.HttpExecutorServiceImpl.invokeRequest(HttpExecutorServiceImpl.java:65)\nat org.openstack4j.connectors.jersey2.HttpExecutorServiceImpl.invoke(HttpExecutorServiceImpl.java:56)\n... 7 more\nCaused by: java.net.ConnectException: Connection timed out: connect\nat java.net.DualStackPlainSocketImpl.connect0(Native Method)\nat java.net.DualStackPlainSocketImpl.socketConnect(Unknown Source)\nat java.net.AbstractPlainSocketImpl.doConnect(Unknown Source)\nat java.net.AbstractPlainSocketImpl.connectToAddress(Unknown Source)\nat java.net.AbstractPlainSocketImpl.connect(Unknown Source)\nat java.net.PlainSocketImpl.connect(Unknown Source)\nat java.net.SocksSocketImpl.connect(Unknown Source)\nat java.net.Socket.connect(Unknown Source)\nat sun.net.NetworkClient.doConnect(Unknown Source)\nat sun.net.www.http.HttpClient.openServer(Unknown Source)\nat sun.net.www.http.HttpClient.openServer(Unknown Source)\nat sun.net.www.http.HttpClient.(Unknown Source)\nat sun.net.www.http.HttpClient.New(Unknown Source)\nat sun.net.www.http.HttpClient.New(Unknown Source)\nat sun.net.www.protocol.http.HttpURLConnection.getNewHttpClient(Unknown Source)\nat sun.net.www.protocol.http.HttpURLConnection.plainConnect0(Unknown Source)\nat sun.net.www.protocol.http.HttpURLConnection.plainConnect(Unknown Source)\nat sun.net.www.protocol.http.HttpURLConnection.connect(Unknown Source)\nat sun.net.www.protocol.http.HttpURLConnection.getInputStream0(Unknown Source)\nat sun.net.www.protocol.http.HttpURLConnection.getInputStream(Unknown Source)\nat java.net.HttpURLConnection.getResponseCode(Unknown Source)\nat org.glassfish.jersey.client.HttpUrlConnector._apply(HttpUrlConnector.java:321)\nat org.glassfish.jersey.client.HttpUrlConnector.apply(HttpUrlConnector.java:227)\n</code></pre>\n"},{"tags":["java","scala","openstack","openstack4j"],"answers":[{"tags":[],"owner":{"account_id":4550581,"reputation":4343,"user_id":3695939,"accept_rate":69,"display_name":"moondaisy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1486472960,"creation_date":1486472960,"answer_id":42090729,"question_id":40385145,"body_markdown":"If you are using OpenStack4j 3.0.X and Openstack Identity API v3 you can use this code to get the object-storage (swift) endpoint url:\r\n\r\n    for (Service s : os.getToken().getCatalog()) {\r\n                if (s.getName().equals(&quot;swift&quot;)) {\r\n                    for (Endpoint e : s.getEndpoints()) {\r\n                        if (e.getRegion().equals(&quot;dallas&quot;) &amp;&amp; e.getIface().equals(Facing.PUBLIC)) {\r\n                            objectUrl = e.getUrl().toString();\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\nWhere `os` is an instance of `org.openstack4j.api.OSClient.OSClientV3`. \r\nYou should look for the region that is mentioned in your credentials (which in my case is &quot;dallas&quot;).\r\n\r\nOnce you have the url for this endpoint you can use it to create the URLs for your objects:\r\n\r\n    objectUrl + &quot;/&quot; + containerName + &quot;/&quot; + objectName\r\n\r\n\r\nThis will result in (just as an example, it doesn&#39;t link to an actual object):\r\n\r\n    https://dal.objectstorage.open.softlayer.com/v1/AUTH_2440e4fa175452cb2e14506cb5d63ec/MyContainer/uploadedOpbject.jpg\r\n ","title":"Get uploaded object URL using openstack4j","body":"<p>If you are using OpenStack4j 3.0.X and Openstack Identity API v3 you can use this code to get the object-storage (swift) endpoint url:</p>\n\n<pre><code>for (Service s : os.getToken().getCatalog()) {\n            if (s.getName().equals(\"swift\")) {\n                for (Endpoint e : s.getEndpoints()) {\n                    if (e.getRegion().equals(\"dallas\") &amp;&amp; e.getIface().equals(Facing.PUBLIC)) {\n                        objectUrl = e.getUrl().toString();\n                    }\n                }\n            }\n        }\n</code></pre>\n\n<p>Where <code>os</code> is an instance of <code>org.openstack4j.api.OSClient.OSClientV3</code>. \nYou should look for the region that is mentioned in your credentials (which in my case is \"dallas\").</p>\n\n<p>Once you have the url for this endpoint you can use it to create the URLs for your objects:</p>\n\n<pre><code>objectUrl + \"/\" + containerName + \"/\" + objectName\n</code></pre>\n\n<p>This will result in (just as an example, it doesn't link to an actual object):</p>\n\n<pre><code>https://dal.objectstorage.open.softlayer.com/v1/AUTH_2440e4fa175452cb2e14506cb5d63ec/MyContainer/uploadedOpbject.jpg\n</code></pre>\n"}],"owner":{"account_id":9566645,"reputation":23,"user_id":7105723,"display_name":"Casey Richardson"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":570,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":42090729,"answer_count":1,"score":2,"last_activity_date":1691165020,"creation_date":1478104559,"question_id":40385145,"body_markdown":"Currently I&#39;m using openstack4j to put objects into a publicly readable container. The upload works fine (I can get the URL of the object by piecing it together), but I&#39;d like to be able to get the public URL of the uploaded object straight from the library if possible. \r\n\r\nLooking through the docs I found ObjectLocation, but that only gives me the path component of the object instead of the full URL. Is there any way for me to get the full URL of an object using openstack4j?\r\n\r\nMy code for uploading a file is:\r\n\r\n    os.objectStorage.objects.put(containerName, objectName, Payloads.create(someFile))\r\n\r\nNote: I&#39;m actually using openstack4j in scala, though that shouldn&#39;t really matter.","title":"Get uploaded object URL using openstack4j","body":"<p>Currently I'm using openstack4j to put objects into a publicly readable container. The upload works fine (I can get the URL of the object by piecing it together), but I'd like to be able to get the public URL of the uploaded object straight from the library if possible. </p>\n\n<p>Looking through the docs I found ObjectLocation, but that only gives me the path component of the object instead of the full URL. Is there any way for me to get the full URL of an object using openstack4j?</p>\n\n<p>My code for uploading a file is:</p>\n\n<pre><code>os.objectStorage.objects.put(containerName, objectName, Payloads.create(someFile))\n</code></pre>\n\n<p>Note: I'm actually using openstack4j in scala, though that shouldn't really matter.</p>\n"},{"tags":["java","openstack","openstack-swift","openstack4j"],"answers":[{"tags":[],"owner":{"account_id":5440694,"reputation":1226,"user_id":4328866,"display_name":"gregorycallea"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1534145444,"creation_date":1534145444,"answer_id":51817269,"question_id":41725151,"body_markdown":"I had the same issue using version 3.0.4 on my maven project.\r\nUpgrading the dependency to 3.1.0 one solved it.\r\nHere is the included artifact details:\r\n\r\n    &lt;dependency&gt;\r\n       &lt;groupId&gt;org.pacesys&lt;/groupId&gt;\r\n       &lt;artifactId&gt;openstack4j&lt;/artifactId&gt;\r\n       &lt;version&gt;3.1.0&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"RestEasyProviderFactory ClassCastException in openstack4j","body":"<p>I had the same issue using version 3.0.4 on my maven project.\nUpgrading the dependency to 3.1.0 one solved it.\nHere is the included artifact details:</p>\n\n<pre><code>&lt;dependency&gt;\n   &lt;groupId&gt;org.pacesys&lt;/groupId&gt;\n   &lt;artifactId&gt;openstack4j&lt;/artifactId&gt;\n   &lt;version&gt;3.1.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":4550581,"reputation":4343,"user_id":3695939,"accept_rate":69,"display_name":"moondaisy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":334,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1691164876,"creation_date":1484758566,"question_id":41725151,"body_markdown":"I have upgraded my version of openstack4j to the 3.0.3 (from v2) and I&#39;m having this error when running it from Tomcat with both OKHTTP Connector and HTTPCLIENT Connector.\r\n\r\n    java.lang.ClassCastException: org.glassfish.jersey.server.internal.RuntimeDelegateImpl cannot be cast to org.jboss.resteasy.spi.ResteasyProviderFactory\r\n    \tat org.jboss.resteasy.spi.ResteasyProviderFactory.getInstance(ResteasyProviderFactory.java:353)\r\n    \tat org.jboss.resteasy.client.core.executors.ApacheHttpClient4Executor.checkClientExceptionMapper(ApacheHttpClient4Executor.java:72)\r\n    \tat org.jboss.resteasy.client.core.executors.ApacheHttpClient4Executor.&lt;init&gt;(ApacheHttpClient4Executor.java:126)\r\n    \tat org.openstack4j.connectors.resteasy.executors.ApacheHttpClientExecutor.&lt;init&gt;(ApacheHttpClientExecutor.java:24)\r\n    \tat org.openstack4j.connectors.resteasy.executors.ApacheHttpClientExecutor.create(ApacheHttpClientExecutor.java:48)\r\n    \tat org.openstack4j.connectors.resteasy.HttpCommand.initialize(HttpCommand.java:43)\r\n    \tat org.openstack4j.connectors.resteasy.HttpCommand.create(HttpCommand.java:37)\r\n    \tat org.openstack4j.connectors.resteasy.HttpExecutorServiceImpl.invoke(HttpExecutorServiceImpl.java:51)\r\n    \tat org.openstack4j.connectors.resteasy.HttpExecutorServiceImpl.execute(HttpExecutorServiceImpl.java:30)\r\n    \tat org.openstack4j.core.transport.internal.HttpExecutor.execute(HttpExecutor.java:51)\r\n    \tat org.openstack4j.openstack.internal.OSAuthenticator.authenticateV3(OSAuthenticator.java:154)\r\n    \tat org.openstack4j.openstack.internal.OSAuthenticator.invoke(OSAuthenticator.java:70)\r\n    \tat org.openstack4j.openstack.client.OSClientBuilder$ClientV3.authenticate(OSClientBuilder.java:165)\r\n    \tat org.openstack4j.openstack.client.OSClientBuilder$ClientV3.authenticate(OSClientBuilder.java:128)\r\n\r\nThis problem didn&#39;t occur with v2 of openstack4j.\r\n\r\n","title":"RestEasyProviderFactory ClassCastException in openstack4j","body":"<p>I have upgraded my version of openstack4j to the 3.0.3 (from v2) and I'm having this error when running it from Tomcat with both OKHTTP Connector and HTTPCLIENT Connector.</p>\n\n<pre><code>java.lang.ClassCastException: org.glassfish.jersey.server.internal.RuntimeDelegateImpl cannot be cast to org.jboss.resteasy.spi.ResteasyProviderFactory\n    at org.jboss.resteasy.spi.ResteasyProviderFactory.getInstance(ResteasyProviderFactory.java:353)\n    at org.jboss.resteasy.client.core.executors.ApacheHttpClient4Executor.checkClientExceptionMapper(ApacheHttpClient4Executor.java:72)\n    at org.jboss.resteasy.client.core.executors.ApacheHttpClient4Executor.&lt;init&gt;(ApacheHttpClient4Executor.java:126)\n    at org.openstack4j.connectors.resteasy.executors.ApacheHttpClientExecutor.&lt;init&gt;(ApacheHttpClientExecutor.java:24)\n    at org.openstack4j.connectors.resteasy.executors.ApacheHttpClientExecutor.create(ApacheHttpClientExecutor.java:48)\n    at org.openstack4j.connectors.resteasy.HttpCommand.initialize(HttpCommand.java:43)\n    at org.openstack4j.connectors.resteasy.HttpCommand.create(HttpCommand.java:37)\n    at org.openstack4j.connectors.resteasy.HttpExecutorServiceImpl.invoke(HttpExecutorServiceImpl.java:51)\n    at org.openstack4j.connectors.resteasy.HttpExecutorServiceImpl.execute(HttpExecutorServiceImpl.java:30)\n    at org.openstack4j.core.transport.internal.HttpExecutor.execute(HttpExecutor.java:51)\n    at org.openstack4j.openstack.internal.OSAuthenticator.authenticateV3(OSAuthenticator.java:154)\n    at org.openstack4j.openstack.internal.OSAuthenticator.invoke(OSAuthenticator.java:70)\n    at org.openstack4j.openstack.client.OSClientBuilder$ClientV3.authenticate(OSClientBuilder.java:165)\n    at org.openstack4j.openstack.client.OSClientBuilder$ClientV3.authenticate(OSClientBuilder.java:128)\n</code></pre>\n\n<p>This problem didn't occur with v2 of openstack4j.</p>\n"},{"tags":["javascript","java","jquery"],"comments":[{"owner":{"account_id":1472305,"reputation":7002,"user_id":1383538,"accept_rate":67,"display_name":"Hayi"},"score":0,"creation_date":1441760116,"post_id":32469269,"comment_id":52800493,"body_markdown":"timezone problem ? how ? and why the other dates are okey ?","body":"timezone problem ? how ? and why the other dates are okey ?"},{"owner":{"account_id":1472305,"reputation":7002,"user_id":1383538,"accept_rate":67,"display_name":"Hayi"},"score":0,"creation_date":1441788694,"post_id":32469269,"comment_id":52810885,"body_markdown":"i can&#39;t use `0:00:00.1` i get dates from mysql database","body":"i can&#39;t use <code>0:00:00.1</code> i get dates from mysql database"},{"owner":{"account_id":2406105,"reputation":15821,"user_id":2102532,"accept_rate":67,"display_name":"meskobalazs"},"score":2,"creation_date":1441790552,"post_id":32469269,"comment_id":52812167,"body_markdown":"The question name is a bit misleading. It is off by an *hour*, not a *day*.","body":"The question name is a bit misleading. It is off by an <i>hour</i>, not a <i>day</i>."},{"owner":{"account_id":1472305,"reputation":7002,"user_id":1383538,"accept_rate":67,"display_name":"Hayi"},"score":0,"creation_date":1441790854,"post_id":32469269,"comment_id":52812376,"body_markdown":"@Hacketo so why ? the type in mysql is `datetime` and in java is \t`@Temporal(TemporalType.TIMESTAMP)  \n\t@Column(name = &quot;..&quot;)  \n\tpublic Date getYy() {  \n\t\treturn this.yy;  \n\t}`","body":"@Hacketo so why ? the type in mysql is <code>datetime</code> and in java is \t<code>@Temporal(TemporalType.TIMESTAMP)   \t@Column(name = &quot;..&quot;)   \tpublic Date getYy() {   \t\treturn this.yy;   \t}</code>"},{"owner":{"account_id":1879878,"reputation":24286,"user_id":1700321,"display_name":"Aleksandr M"},"score":0,"creation_date":1441791799,"post_id":32469269,"comment_id":52813029,"body_markdown":"How do you convert from `2015-09-30 00:00:00.0` to timestamp?","body":"How do you convert from <code>2015-09-30 00:00:00.0</code> to timestamp?"},{"owner":{"account_id":1472305,"reputation":7002,"user_id":1383538,"accept_rate":67,"display_name":"Hayi"},"score":0,"creation_date":1441791909,"post_id":32469269,"comment_id":52813121,"body_markdown":"@AleksandrM I don&#39;t covert nothing i make a query with jpa and i send the dates to javascript as json object","body":"@AleksandrM I don&#39;t covert nothing i make a query with jpa and i send the dates to javascript as json object"},{"owner":{"account_id":1879878,"reputation":24286,"user_id":1700321,"display_name":"Aleksandr M"},"score":0,"creation_date":1441792443,"post_id":32469269,"comment_id":52813509,"body_markdown":"So conversion happens. It is timezone problem. Try to change your timezone and you&#39;ll see different results.","body":"So conversion happens. It is timezone problem. Try to change your timezone and you&#39;ll see different results."},{"owner":{"account_id":1472305,"reputation":7002,"user_id":1383538,"accept_rate":67,"display_name":"Hayi"},"score":0,"creation_date":1441792507,"post_id":32469269,"comment_id":52813567,"body_markdown":"@AleksandrM how can i change it ?","body":"@AleksandrM how can i change it ?"},{"owner":{"account_id":1879878,"reputation":24286,"user_id":1700321,"display_name":"Aleksandr M"},"score":0,"creation_date":1441793110,"post_id":32469269,"comment_id":52813978,"body_markdown":"How to change timezone in your computer OS?","body":"How to change timezone in your computer OS?"},{"owner":{"account_id":1472305,"reputation":7002,"user_id":1383538,"accept_rate":67,"display_name":"Hayi"},"score":0,"creation_date":1441793216,"post_id":32469269,"comment_id":52814035,"body_markdown":"@AleksandrM (UTC) casablanca","body":"@AleksandrM (UTC) casablanca"}],"answers":[{"tags":[],"owner":{"account_id":2829893,"reputation":694,"user_id":2431671,"display_name":"Crazy Crab"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1441791690,"creation_date":1441791690,"answer_id":32476132,"question_id":32469269,"body_markdown":"I think maybe this is a **Daylight Saving Time** problem. You can check your client&#39;s timezone, and your server&#39;s timezone. (web server or SQL Server)","title":"Javascript Date() give wrong date off by one hour","body":"<p>I think maybe this is a <strong>Daylight Saving Time</strong> problem. You can check your client's timezone, and your server's timezone. (web server or SQL Server)</p>\n"},{"tags":[],"owner":{"account_id":1315592,"reputation":25006,"user_id":1262551,"display_name":"ZER0"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1441792645,"creation_date":1441792645,"answer_id":32476465,"question_id":32469269,"body_markdown":"We should probably need more data about it, but it could be that nothing is wrong here, it depends how you set and get back your date.\r\n\r\nBasically `1443567600000` doesn&#39;t contains timezone. It represent `Tue Sep 29 2015 23:00:00` from Greenwich. It&#39;s a moment in time that, of course, it different from any location that has a different timezone. The same moment, happens at different time (the midnight of GMT+1 is the 11pm of GMT).\r\n\r\nYou have to store both the time and the timezone in your DB, and possibly send back to JS, otherwise it will be always interpreted differently depends by the local time of the client.\r\n\r\nTo make an example:\r\n\r\n    var d = new Date(2015, 8, 30);\r\n    console.log(d.toJSON()); // In my case I got &quot;2015-09-29T22:00:00.000Z&quot;\r\n    console.log(d.toDateString()); // &quot;Wed Sep 30 2015&quot;\r\n\r\n","title":"Javascript Date() give wrong date off by one hour","body":"<p>We should probably need more data about it, but it could be that nothing is wrong here, it depends how you set and get back your date.</p>\n\n<p>Basically <code>1443567600000</code> doesn't contains timezone. It represent <code>Tue Sep 29 2015 23:00:00</code> from Greenwich. It's a moment in time that, of course, it different from any location that has a different timezone. The same moment, happens at different time (the midnight of GMT+1 is the 11pm of GMT).</p>\n\n<p>You have to store both the time and the timezone in your DB, and possibly send back to JS, otherwise it will be always interpreted differently depends by the local time of the client.</p>\n\n<p>To make an example:</p>\n\n<pre><code>var d = new Date(2015, 8, 30);\nconsole.log(d.toJSON()); // In my case I got \"2015-09-29T22:00:00.000Z\"\nconsole.log(d.toDateString()); // \"Wed Sep 30 2015\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":703628,"reputation":14438,"user_id":595305,"accept_rate":83,"display_name":"mike rodent"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1617822136,"creation_date":1503859019,"answer_id":45908136,"question_id":32469269,"body_markdown":"This JS handling of Date is a quite a head-flip.\r\n\r\nI&#39;m in the UK... &quot;easy&quot; because we&#39;re on GMT (UTC)... except during the summer months, when there&#39;s DST (British Summer Time, BST).  Clocks go forward in summer and back in winter (stupidly by the way, but that&#39;s another issue!) by one hour.  One day in March what is 4pm GMT is now **called** 5pm (BST).\r\n\r\n**summer** month:\r\n\r\nIf you do `new Date( &#39;2017-08-08&#39; )` this will give you (`toString`) &#39;Date 2017-08-08T00:00:00.000Z&#39;.\r\n\r\nIf you do `new Date( &#39;2017-08-08 00:00&#39; )`, however, this will give you &#39;Date 2017-08-**07T23**:00:00.000Z&#39;!\r\n\r\nIn the second case it appears JS is trying to be &quot;helpful&quot; by assuming that because you stipulated the hour you were specifying BST time.  So it adjusts to GMT/UTC.  Otherwise it doesn&#39;t... though (of course) it still produces a `Date` object which is specific right down to the milliseconds.  Quite a gotcha!\r\n\r\nConfirmation: a **winter** month... when BST is not applied:\r\n`new Date( &#39;2018-01-01 00:00&#39; )`/ `new Date( &#39;2018-01-01&#39; )`: both give &#39;Date 2018-01-01T00:00:00.000Z&#39;\r\n\r\nAs for adjusting, it appears that to undo the automatic adjustment you just go \r\n\r\n    jsDate.setTime( jsDate.getTime() + jsDate.getTimezoneOffset() * 60 * 1000 );\r\n\r\n... this is a bit like what Youssef has written... except you have to obtain the offset from the specific `Date` in question... and my experiments seem to prove that you add this, not subtract it.\r\n\r\nReally it would be much more helpful if the default string representation of JS `Date` gave the UTC time followed by the TZ (time zone) offset information, as with  some of the ISO date formats: clearly, this information is included.","title":"Javascript Date() give wrong date off by one hour","body":"<p>This JS handling of Date is a quite a head-flip.</p>\n<p>I'm in the UK... &quot;easy&quot; because we're on GMT (UTC)... except during the summer months, when there's DST (British Summer Time, BST).  Clocks go forward in summer and back in winter (stupidly by the way, but that's another issue!) by one hour.  One day in March what is 4pm GMT is now <strong>called</strong> 5pm (BST).</p>\n<p><strong>summer</strong> month:</p>\n<p>If you do <code>new Date( '2017-08-08' )</code> this will give you (<code>toString</code>) 'Date 2017-08-08T00:00:00.000Z'.</p>\n<p>If you do <code>new Date( '2017-08-08 00:00' )</code>, however, this will give you 'Date 2017-08-<strong>07T23</strong>:00:00.000Z'!</p>\n<p>In the second case it appears JS is trying to be &quot;helpful&quot; by assuming that because you stipulated the hour you were specifying BST time.  So it adjusts to GMT/UTC.  Otherwise it doesn't... though (of course) it still produces a <code>Date</code> object which is specific right down to the milliseconds.  Quite a gotcha!</p>\n<p>Confirmation: a <strong>winter</strong> month... when BST is not applied:\n<code>new Date( '2018-01-01 00:00' )</code>/ <code>new Date( '2018-01-01' )</code>: both give 'Date 2018-01-01T00:00:00.000Z'</p>\n<p>As for adjusting, it appears that to undo the automatic adjustment you just go</p>\n<pre><code>jsDate.setTime( jsDate.getTime() + jsDate.getTimezoneOffset() * 60 * 1000 );\n</code></pre>\n<p>... this is a bit like what Youssef has written... except you have to obtain the offset from the specific <code>Date</code> in question... and my experiments seem to prove that you add this, not subtract it.</p>\n<p>Really it would be much more helpful if the default string representation of JS <code>Date</code> gave the UTC time followed by the TZ (time zone) offset information, as with  some of the ISO date formats: clearly, this information is included.</p>\n"},{"tags":[],"owner":{"account_id":10838601,"reputation":439,"user_id":7970729,"accept_rate":83,"display_name":"Daniel Santos"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1527892099,"creation_date":1527892099,"answer_id":50651721,"question_id":32469269,"body_markdown":"To be more specific \r\n   \r\n\r\n     time = new Date(&quot;2018-06-01 &quot; + time);\r\n\t\t\t\tvar offset = time.getTimezoneOffset();\r\n                offset = Math.abs(offset / 60);\r\n\t\t\t\ttime.setHours(time.getHours() + offset);\r\n\r\nin this case time is equal to hours with leading zeros:minutes with leading zeros.\r\nThis will add the hours difference to the UTC.\r\nIf you pass a string to date it is treated as UTC.","title":"Javascript Date() give wrong date off by one hour","body":"<p>To be more specific </p>\n\n<pre><code> time = new Date(\"2018-06-01 \" + time);\n            var offset = time.getTimezoneOffset();\n            offset = Math.abs(offset / 60);\n            time.setHours(time.getHours() + offset);\n</code></pre>\n\n<p>in this case time is equal to hours with leading zeros:minutes with leading zeros.\nThis will add the hours difference to the UTC.\nIf you pass a string to date it is treated as UTC.</p>\n"}],"owner":{"account_id":1472305,"reputation":7002,"user_id":1383538,"accept_rate":67,"display_name":"Hayi"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52129,"favorite_count":0,"down_vote_count":0,"up_vote_count":38,"accepted_answer_id":32476132,"answer_count":4,"score":38,"last_activity_date":1691164848,"creation_date":1441759467,"question_id":32469269,"body_markdown":"I send this date from my controller in java (`Spring-MVC`) the type in `mysql` is `datetime`\r\n\r\n\r\n    @Temporal(TemporalType.TIMESTAMP) \r\n    @Column(name = &quot;..&quot;) public Date getYy() { \r\n        return this.yy; \r\n    }\r\n\r\nas : `[2015-09-30 00:00:00.0]`\r\n\r\n\r\n\r\nWhen i get this dates with ajax as `1443567600000` :\r\n\r\n`new Date(1443567600000)` convert to `Tue Sep 29 2015 23:00:00 GMT+0000 (Maroc)`\r\n\r\nSo why i get  wrong date off by one hour?\r\n\r\n\r\n**SOLUTION**\r\n\r\nWe resolve it by\r\n\r\n    d = new Date(value) ;\r\n    d.setTime( d.getTime() + d.getTimezoneOffset()*60*1000 );\r\n\r\nbecause it was Daylight saving time (DST) or summer time problem. good [article][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/1091372/getting-the-clients-timezone-in-javascript","title":"Javascript Date() give wrong date off by one hour","body":"<p>I send this date from my controller in java (<code>Spring-MVC</code>) the type in <code>mysql</code> is <code>datetime</code></p>\n<pre><code>@Temporal(TemporalType.TIMESTAMP) \n@Column(name = &quot;..&quot;) public Date getYy() { \n    return this.yy; \n}\n</code></pre>\n<p>as : <code>[2015-09-30 00:00:00.0]</code></p>\n<p>When i get this dates with ajax as <code>1443567600000</code> :</p>\n<p><code>new Date(1443567600000)</code> convert to <code>Tue Sep 29 2015 23:00:00 GMT+0000 (Maroc)</code></p>\n<p>So why i get  wrong date off by one hour?</p>\n<p><strong>SOLUTION</strong></p>\n<p>We resolve it by</p>\n<pre><code>d = new Date(value) ;\nd.setTime( d.getTime() + d.getTimezoneOffset()*60*1000 );\n</code></pre>\n<p>because it was Daylight saving time (DST) or summer time problem. good <a href=\"https://stackoverflow.com/questions/1091372/getting-the-clients-timezone-in-javascript\">article</a></p>\n"},{"tags":["java","swing","javafx","netbeans"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":4,"creation_date":1691165008,"post_id":76837511,"comment_id":135459679,"body_markdown":"JavaFX is [modularized](https://en.wikipedia.org/wiki/Java_Platform_Module_System).","body":"JavaFX is <a href=\"https://en.wikipedia.org/wiki/Java_Platform_Module_System\" rel=\"nofollow noreferrer\">modularized</a>."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":2,"creation_date":1691168390,"post_id":76837511,"comment_id":135460347,"body_markdown":"Follow [_Getting Started with JavaFX_](https://openjfx.io/openjfx-docs/) to create a new project, for [example](https://stackoverflow.com/a/73611827/230513); the guide shows how to modify a project&#39;s library properties; I&#39;d also recommend that you prototype your use-case, for [example](https://stackoverflow.com/search?q=%5Bjavafx%5D+JFXPanel+JDialog), in a separate project.","body":"Follow <a href=\"https://openjfx.io/openjfx-docs/\" rel=\"nofollow noreferrer\"><i>Getting Started with JavaFX</i></a> to create a new project, for <a href=\"https://stackoverflow.com/a/73611827/230513\">example</a>; the guide shows how to modify a project&#39;s library properties; I&#39;d also recommend that you prototype your use-case, for <a href=\"https://stackoverflow.com/search?q=%5Bjavafx%5D+JFXPanel+JDialog\">example</a>, in a separate project."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1691181113,"post_id":76837511,"comment_id":135462488,"body_markdown":"Make sure the _native_ JavaFX code for your platform is included. If you&#39;re using the JavaFX SDK, then that native code is in the `bin` directory. The JavaFX JARs from Maven Central embed the native code. And that warning is likely unrelated to the error; see https://stackoverflow.com/q/67854139/6395627.","body":"Make sure the <i>native</i> JavaFX code for your platform is included. If you&#39;re using the JavaFX SDK, then that native code is in the <code>bin</code> directory. The JavaFX JARs from Maven Central embed the native code. And that warning is likely unrelated to the error; see <a href=\"https://stackoverflow.com/q/67854139/6395627\">stackoverflow.com/q/67854139/6395627</a>."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":2,"creation_date":1691187010,"post_id":76837511,"comment_id":135463246,"body_markdown":"See [integrating JavaFX 8 into swing applications](https://docs.oracle.com/javase/8/javafx/interoperability-tutorial/swing-fx-interoperability.htm) on the code required to integrate JavaFX and Swing.  If using Java 8, you can follow the referenced guide exactly.  However, as you are using a modern Java version, you will have to do some things differently, as per comments.  [`javafx.swing`](https://openjfx.io/javadoc/20/javafx.swing/module-summary.html) is the module you need to add to your module path to use JavaFX with Swing.","body":"See <a href=\"https://docs.oracle.com/javase/8/javafx/interoperability-tutorial/swing-fx-interoperability.htm\" rel=\"nofollow noreferrer\">integrating JavaFX 8 into swing applications</a> on the code required to integrate JavaFX and Swing.  If using Java 8, you can follow the referenced guide exactly.  However, as you are using a modern Java version, you will have to do some things differently, as per comments.  <a href=\"https://openjfx.io/javadoc/20/javafx.swing/module-summary.html\" rel=\"nofollow noreferrer\"><code>javafx.swing</code></a> is the module you need to add to your module path to use JavaFX with Swing."}],"owner":{"account_id":20680540,"reputation":79,"user_id":15184237,"display_name":"mstoreysmith"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":0,"score":4,"last_activity_date":1691164726,"creation_date":1691164726,"question_id":76837511,"body_markdown":"I&#39;ve got an extensive Java (JDK 20) Swing project in the NetBeans IDE that I&#39;d like to add JavaFX 20 to. Specifically I want to use a JFXPanel in a Swing JDialog form. \r\n\r\nI&#39;ve tried adding the JFX library jar files to my project library classpath, and the result appears to build OK. But when I run it, I get this error message:\r\n\r\nWARNING: Unsupported JavaFX configuration: classes were loaded from &#39;unnamed module @36d4b5c&#39;\r\nGraphics Device initialization failed for :  es2, sw\r\n\r\nDoes anyone know how to do this correctly?\r\n","title":"How can I add JavaFX 20 to Existing NetBeans Swing Project?","body":"<p>I've got an extensive Java (JDK 20) Swing project in the NetBeans IDE that I'd like to add JavaFX 20 to. Specifically I want to use a JFXPanel in a Swing JDialog form.</p>\n<p>I've tried adding the JFX library jar files to my project library classpath, and the result appears to build OK. But when I run it, I get this error message:</p>\n<p>WARNING: Unsupported JavaFX configuration: classes were loaded from 'unnamed module @36d4b5c'\nGraphics Device initialization failed for :  es2, sw</p>\n<p>Does anyone know how to do this correctly?</p>\n"},{"tags":["java","java-8","option-type"],"comments":[{"owner":{"account_id":1936546,"reputation":133665,"user_id":1743880,"accept_rate":100,"display_name":"Tunaki"},"score":7,"creation_date":1443165668,"post_id":32776705,"comment_id":53392242,"body_markdown":"possible duplicate of [Get value from one Optional or another](http://stackoverflow.com/questions/24599996/get-value-from-one-optional-or-another)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/24599996/get-value-from-one-optional-or-another\">Get value from one Optional or another</a>"},{"owner":{"account_id":2478127,"reputation":19514,"user_id":2158288,"display_name":"ZhongYu"},"score":0,"creation_date":1443168109,"post_id":32776705,"comment_id":53393451,"body_markdown":"... when confronted with the problem of null ... now we have two problems.","body":"... when confronted with the problem of null ... now we have two problems."},{"owner":{"account_id":6243460,"reputation":97907,"user_id":4856258,"accept_rate":100,"display_name":"Tagir Valeev"},"score":6,"creation_date":1443182900,"post_id":32776705,"comment_id":53402019,"body_markdown":"Btw, Paul Sandoz just published a [changeset](http://cr.openjdk.java.net/~psandoz/jdk9/JDK-8080418-optional-or/webrev/src/java.base/share/classes/java/util/Optional.java.udiff.html) for review which introduces `Optional.or()` method, which does exactly what you want: `firstChoice().or(this::secondChoice)`. More info at [JDK-8080418](https://bugs.openjdk.java.net/browse/JDK-8080418). In Java-9 times we&#39;ll be happy!","body":"Btw, Paul Sandoz just published a <a href=\"http://cr.openjdk.java.net/~psandoz/jdk9/JDK-8080418-optional-or/webrev/src/java.base/share/classes/java/util/Optional.java.udiff.html\" rel=\"nofollow noreferrer\">changeset</a> for review which introduces <code>Optional.or()</code> method, which does exactly what you want: <code>firstChoice().or(this::secondChoice)</code>. More info at <a href=\"https://bugs.openjdk.java.net/browse/JDK-8080418\" rel=\"nofollow noreferrer\">JDK-8080418</a>. In Java-9 times we&#39;ll be happy!"}],"answers":[{"tags":[],"owner":{"account_id":2177522,"reputation":120796,"user_id":1927832,"accept_rate":49,"display_name":"Suresh Atta"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1443165658,"creation_date":1443165271,"answer_id":32776740,"question_id":32776705,"body_markdown":"You can simply replace that with,\r\n\r\n    Optional&lt;Foo&gt; firstChoice = firstChoice();\r\n    return firstChoice.isPresent()? firstChoice : secondChoice();\r\n\r\nThe above code won&#39;t call unless *firstChoice.isPresent()* is false.\r\n\r\nBut you have to be prepare to call both functions to get the desired output. There is no other way to escape the checking.\r\n\r\n - Best case is First choice returning true.\r\n - Worst case will be First choice returning false, hence another method\r\n   call for second choice.","title":"What&#39;s the most elegant way to combine optionals?","body":"<p>You can simply replace that with,</p>\n\n<pre><code>Optional&lt;Foo&gt; firstChoice = firstChoice();\nreturn firstChoice.isPresent()? firstChoice : secondChoice();\n</code></pre>\n\n<p>The above code won't call unless <em>firstChoice.isPresent()</em> is false.</p>\n\n<p>But you have to be prepare to call both functions to get the desired output. There is no other way to escape the checking.</p>\n\n<ul>\n<li>Best case is First choice returning true.</li>\n<li>Worst case will be First choice returning false, hence another method\ncall for second choice.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":5168089,"reputation":26671,"user_id":4137489,"accept_rate":100,"display_name":"marstran"},"down_vote_count":3,"up_vote_count":56,"is_accepted":true,"score":53,"last_activity_date":1443182070,"creation_date":1443165953,"answer_id":32776923,"question_id":32776705,"body_markdown":"Try this:\r\n\r\n    firstChoice().map(Optional::of)\r\n                 .orElseGet(this::secondChoice);\r\n\r\nThe map method gives you an `Optional&lt;Optional&lt;Foo&gt;&gt;`. Then, the `orElseGet` method flattens this back to an `Optional&lt;Foo&gt;`. The `secondChoice` method will only be evaluated if `firstChoice()` returns the empty optional.","title":"What&#39;s the most elegant way to combine optionals?","body":"<p>Try this:</p>\n\n<pre><code>firstChoice().map(Optional::of)\n             .orElseGet(this::secondChoice);\n</code></pre>\n\n<p>The map method gives you an <code>Optional&lt;Optional&lt;Foo&gt;&gt;</code>. Then, the <code>orElseGet</code> method flattens this back to an <code>Optional&lt;Foo&gt;</code>. The <code>secondChoice</code> method will only be evaluated if <code>firstChoice()</code> returns the empty optional.</p>\n"},{"tags":[],"owner":{"account_id":4570795,"reputation":3159,"user_id":3710542,"accept_rate":50,"display_name":"Marthym"},"down_vote_count":2,"up_vote_count":8,"is_accepted":false,"score":6,"last_activity_date":1605789447,"creation_date":1443167602,"answer_id":32777357,"question_id":32776705,"body_markdown":"Maybe something like this:\r\n\r\n    Optional&lt;String&gt; finalChoice = Optional.ofNullable(firstChoice()\r\n        .orElseGet(() -&gt; secondChoice()\r\n        .orElseGet(() -&gt; null)));\r\n\r\nFrom: https://stackoverflow.com/questions/28514704/chaining-optionals-in-java-8","title":"What&#39;s the most elegant way to combine optionals?","body":"<p>Maybe something like this:</p>\n<pre><code>Optional&lt;String&gt; finalChoice = Optional.ofNullable(firstChoice()\n    .orElseGet(() -&gt; secondChoice()\n    .orElseGet(() -&gt; null)));\n</code></pre>\n<p>From: <a href=\"https://stackoverflow.com/questions/28514704/chaining-optionals-in-java-8\">Chaining Optionals in Java 8</a></p>\n"},{"tags":[],"owner":{"account_id":21918,"reputation":9785,"user_id":53658,"accept_rate":80,"display_name":"Denis Bazhenov"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1443168361,"creation_date":1443167932,"answer_id":32777448,"question_id":32776705,"body_markdown":"Here is a way which works for arbitrary number of `Optional`&#39;s based in a stream API:\r\n\r\n    return Arrays.asList(firstChoice, secondChoice).stream()\r\n\t  .filter(Optional::isPresent)\r\n\t  .map(Optional::get)\r\n\t  .findFirst().orElse(null);\r\n\r\nIt&#39;s not the shortest one. But more plain and understandable.\r\n\r\nAnother way is to use `firstNonNull()` from Guava of commons-lang if you are already using one of those libraries:\r\n\r\n    firstNonNull(firstChoice.orElse(null), secondChoice.orElse(null));","title":"What&#39;s the most elegant way to combine optionals?","body":"<p>Here is a way which works for arbitrary number of <code>Optional</code>'s based in a stream API:</p>\n\n<pre><code>return Arrays.asList(firstChoice, secondChoice).stream()\n  .filter(Optional::isPresent)\n  .map(Optional::get)\n  .findFirst().orElse(null);\n</code></pre>\n\n<p>It's not the shortest one. But more plain and understandable.</p>\n\n<p>Another way is to use <code>firstNonNull()</code> from Guava of commons-lang if you are already using one of those libraries:</p>\n\n<pre><code>firstNonNull(firstChoice.orElse(null), secondChoice.orElse(null));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6243460,"reputation":97907,"user_id":4856258,"accept_rate":100,"display_name":"Tagir Valeev"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1443170844,"creation_date":1443170844,"answer_id":32778270,"question_id":32776705,"body_markdown":"Here&#39;s the generalization of @marstran solution for any number of optionals:\r\n\r\n\t@SafeVarargs\r\n\tpublic static &lt;T&gt; Optional&lt;T&gt; selectOptional(Supplier&lt;Optional&lt;T&gt;&gt;... optionals) {\r\n\t\treturn Arrays.stream(optionals)\r\n\t\t\t\t.reduce((s1, s2) -&gt; () -&gt; s1.get().map(Optional::of).orElseGet(s2))\r\n\t\t\t\t.orElse(Optional::empty).get();\r\n\t}\r\n\r\nTest:\r\n\r\n\tpublic static Optional&lt;String&gt; first() {\r\n\t\tSystem.out.println(&quot;foo called&quot;);\r\n\t\treturn Optional.empty();\r\n\t}\r\n\r\n\tpublic static Optional&lt;String&gt; second() {\r\n\t\tSystem.out.println(&quot;bar called&quot;);\r\n\t\treturn Optional.of(&quot;bar&quot;);\r\n\t}\r\n\t\r\n\tpublic static Optional&lt;String&gt; third() {\r\n\t\tSystem.out.println(&quot;baz called&quot;);\r\n\t\treturn Optional.of(&quot;baz&quot;);\r\n\t}\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\tSystem.out.println(selectOptional(() -&gt; first(), () -&gt; second(), () -&gt; third()));\r\n\t}\r\n\r\nOutput:\r\n\r\n    foo called\r\n    bar called\r\n    Optional[bar]\r\n","title":"What&#39;s the most elegant way to combine optionals?","body":"<p>Here's the generalization of @marstran solution for any number of optionals:</p>\n\n<pre><code>@SafeVarargs\npublic static &lt;T&gt; Optional&lt;T&gt; selectOptional(Supplier&lt;Optional&lt;T&gt;&gt;... optionals) {\n    return Arrays.stream(optionals)\n            .reduce((s1, s2) -&gt; () -&gt; s1.get().map(Optional::of).orElseGet(s2))\n            .orElse(Optional::empty).get();\n}\n</code></pre>\n\n<p>Test:</p>\n\n<pre><code>public static Optional&lt;String&gt; first() {\n    System.out.println(\"foo called\");\n    return Optional.empty();\n}\n\npublic static Optional&lt;String&gt; second() {\n    System.out.println(\"bar called\");\n    return Optional.of(\"bar\");\n}\n\npublic static Optional&lt;String&gt; third() {\n    System.out.println(\"baz called\");\n    return Optional.of(\"baz\");\n}\n\npublic static void main(String[] args) {\n    System.out.println(selectOptional(() -&gt; first(), () -&gt; second(), () -&gt; third()));\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>foo called\nbar called\nOptional[bar]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":441876,"reputation":6690,"user_id":832218,"accept_rate":82,"display_name":"Erik"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1449512454,"creation_date":1449512454,"answer_id":34140495,"question_id":32776705,"body_markdown":"I was frustrated enough by the fact that this wasn&#39;t supported in java 8, that I switched back to guava&#39;s optionals which have [`or`][1]:\r\n\r\n    public abstract Optional&lt;T&gt; or(Optional&lt;? extends T&gt; secondChoice)\r\n\r\n&gt; Returns this Optional if it has a value present; secondChoice otherwise.\r\n\r\n\r\n  [1]: http://google.github.io/guava/releases/snapshot/api/docs/com/google/common/base/Optional.html#or(com.google.common.base.Optional)","title":"What&#39;s the most elegant way to combine optionals?","body":"<p>I was frustrated enough by the fact that this wasn't supported in java 8, that I switched back to guava's optionals which have <a href=\"http://google.github.io/guava/releases/snapshot/api/docs/com/google/common/base/Optional.html#or(com.google.common.base.Optional)\" rel=\"nofollow\"><code>or</code></a>:</p>\n\n<pre><code>public abstract Optional&lt;T&gt; or(Optional&lt;? extends T&gt; secondChoice)\n</code></pre>\n\n<blockquote>\n  <p>Returns this Optional if it has a value present; secondChoice otherwise.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":8168956,"reputation":21,"user_id":6150173,"display_name":"Pepe-Soft"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1459630007,"creation_date":1459630007,"answer_id":36378537,"question_id":32776705,"body_markdown":"Lazy computations and arbitrary number of &lt;code&gt;Optional&lt;/code&gt; elements\r\n&lt;!-- language: java --&gt;\r\n\r\n    Stream.&lt;Supplier&lt;Optional&lt;Foo&gt;&gt;&gt;of(\r\n            this::firstChoice,\r\n            this::secondChoice\r\n    ).map(\r\n            Supplier::get\r\n    ).filter(\r\n            Optional::isPresent\r\n    ).findFirst(\r\n    ).orElseGet(\r\n        Optional::empty\r\n    );","title":"What&#39;s the most elegant way to combine optionals?","body":"<p>Lazy computations and arbitrary number of <code>Optional</code> elements\n</p>\n\n<pre><code>Stream.&lt;Supplier&lt;Optional&lt;Foo&gt;&gt;&gt;of(\n        this::firstChoice,\n        this::secondChoice\n).map(\n        Supplier::get\n).filter(\n        Optional::isPresent\n).findFirst(\n).orElseGet(\n    Optional::empty\n);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1119690,"reputation":15788,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1691164466,"creation_date":1631203275,"answer_id":69121410,"question_id":32776705,"body_markdown":"Java 9 added the [`Optional.or(supplier)`](https://docs.oracle.com/javase/9/docs/api/java/util/Optional.html#or-java.util.function.Supplier-) method for this sort of situation.\r\n\r\n```lang-java\r\nreturn firstChoice().or(this::secondChoice);\r\n```\r\n\r\nGiven methods `firstChoice()` and `secondChoice()` which each return `Optional&lt;Foo&gt;`, the above one-liner uses `Optional.or` to achieve the desired result.\r\n\r\nAs desired, this approach only computes `secondChoice` when `firstChoice` is empty.","title":"What&#39;s the most elegant way to combine optionals?","body":"<p>Java 9 added the <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/Optional.html#or-java.util.function.Supplier-\" rel=\"nofollow noreferrer\"><code>Optional.or(supplier)</code></a> method for this sort of situation.</p>\n<pre class=\"lang-java prettyprint-override\"><code>return firstChoice().or(this::secondChoice);\n</code></pre>\n<p>Given methods <code>firstChoice()</code> and <code>secondChoice()</code> which each return <code>Optional&lt;Foo&gt;</code>, the above one-liner uses <code>Optional.or</code> to achieve the desired result.</p>\n<p>As desired, this approach only computes <code>secondChoice</code> when <code>firstChoice</code> is empty.</p>\n"},{"tags":[],"owner":{"account_id":3460362,"reputation":752,"user_id":2897683,"accept_rate":93,"display_name":"thahgr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678371321,"creation_date":1678371321,"answer_id":75685789,"question_id":32776705,"body_markdown":"with java 11 you can simply do `firstChoice().or(this::secondChoice)` ","title":"What&#39;s the most elegant way to combine optionals?","body":"<p>with java 11 you can simply do <code>firstChoice().or(this::secondChoice)</code></p>\n"}],"owner":{"account_id":6855900,"reputation":1271,"user_id":5271460,"accept_rate":43,"display_name":"Sebastian Oberhoff"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34876,"favorite_count":0,"down_vote_count":0,"up_vote_count":49,"accepted_answer_id":32776923,"answer_count":9,"score":49,"last_activity_date":1691164466,"creation_date":1443165111,"question_id":32776705,"body_markdown":"Here&#39;s what I&#39;ve got so far:\r\n\r\n    Optional&lt;Foo&gt; firstChoice = firstChoice();\r\n    Optional&lt;Foo&gt; secondChoice = secondChoice();\r\n    return Optional.ofNullable(firstChoice.orElse(secondChoice.orElse(null)));\r\n\r\nThis strikes me as both hideous and wasteful. If firstChoice is present I am needlessly computing secondChoice.\r\n\r\nThere&#39;s also a more efficient version:\r\n\r\n    Optional&lt;Foo&gt; firstChoice = firstChoice();\r\n    if(firstChoice.isPresent()) {\r\n     return firstChoice;\r\n    } else {\r\n     return secondChoice();\r\n    }\r\nHere I can&#39;t chain some mapping function to the end without either duplicating the mapper or declaring another local variable. All of this makes the code more complicated than the actual problem being solved.\r\n\r\n I&#39;d much rather be writing this:\r\n\r\n    return firstChoice().alternatively(secondChoice());\r\n\r\nHowever Optional::alternatively obviously doesn&#39;t exist. Now what?","title":"What&#39;s the most elegant way to combine optionals?","body":"<p>Here's what I've got so far:</p>\n\n<pre><code>Optional&lt;Foo&gt; firstChoice = firstChoice();\nOptional&lt;Foo&gt; secondChoice = secondChoice();\nreturn Optional.ofNullable(firstChoice.orElse(secondChoice.orElse(null)));\n</code></pre>\n\n<p>This strikes me as both hideous and wasteful. If firstChoice is present I am needlessly computing secondChoice.</p>\n\n<p>There's also a more efficient version:</p>\n\n<pre><code>Optional&lt;Foo&gt; firstChoice = firstChoice();\nif(firstChoice.isPresent()) {\n return firstChoice;\n} else {\n return secondChoice();\n}\n</code></pre>\n\n<p>Here I can't chain some mapping function to the end without either duplicating the mapper or declaring another local variable. All of this makes the code more complicated than the actual problem being solved.</p>\n\n<p>I'd much rather be writing this:</p>\n\n<pre><code>return firstChoice().alternatively(secondChoice());\n</code></pre>\n\n<p>However Optional::alternatively obviously doesn't exist. Now what?</p>\n"},{"tags":["javascript","java","html","web","download"],"comments":[{"owner":{"account_id":3449131,"reputation":12148,"user_id":2889165,"accept_rate":73,"display_name":"Andreas Lundgren"},"score":0,"creation_date":1690910778,"post_id":76808387,"comment_id":135417850,"body_markdown":"Could it be same as https://stackoverflow.com/a/70595312/2889165 Did you google the error message?","body":"Could it be same as <a href=\"https://stackoverflow.com/a/70595312/2889165\">stackoverflow.com/a/70595312/2889165</a> Did you google the error message?"},{"owner":{"account_id":24885,"reputation":30822,"user_id":63550,"accept_rate":78,"display_name":"Peter Mortensen"},"score":0,"creation_date":1691163803,"post_id":76808387,"comment_id":135459459,"body_markdown":"What do you mean by *&quot;detect me&quot;*? Can you elaborate?","body":"What do you mean by <i>&quot;detect me&quot;</i>? Can you elaborate?"}],"owner":{"account_id":29133141,"reputation":1,"user_id":22317918,"display_name":"Ale2006"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":154,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691163738,"creation_date":1690861930,"question_id":76808387,"body_markdown":"Why doesn&#39;t the download detect me?\r\n\r\n    &lt;a href=&quot;./imagenes/imagen.jpg&quot; download&gt;Click here&lt;/a&gt;\r\n\r\nI get this:\r\n\r\n&gt; crbug/1173575, non-JS module files deprecated.\r\n&gt; (anonymous) @ VM10:5\r\n\r\nI tried to put a double full stop, &quot;..&quot;, and only the image opens. After I left it without full stops, I got the same error. I already checked that it was the correct folder and the correct name.\r\n","title":"I&#39;m having trouble telling the HTML program to download an image","body":"<p>Why doesn't the download detect me?</p>\n<pre><code>&lt;a href=&quot;./imagenes/imagen.jpg&quot; download&gt;Click here&lt;/a&gt;\n</code></pre>\n<p>I get this:</p>\n<blockquote>\n<p>crbug/1173575, non-JS module files deprecated.\n(anonymous) @ VM10:5</p>\n</blockquote>\n<p>I tried to put a double full stop, &quot;..&quot;, and only the image opens. After I left it without full stops, I got the same error. I already checked that it was the correct folder and the correct name.</p>\n"},{"tags":["java","data-structures","trie"],"answers":[{"tags":[],"owner":{"account_id":6495599,"reputation":2923,"user_id":5028333,"display_name":"Raman Shrivastava"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1441857837,"creation_date":1441702819,"answer_id":32453483,"question_id":32453279,"body_markdown":"Make it Simple - \r\n\r\n 1. Make a sorted list from given set.\r\n 2. Iterate over this list, for each element in list just check if the next element `startsWith()` this element. If yes return BAD SET.\r\n 3. Return GOOD SET if step 2 never returns BAD SET.\r\n\r\ncomplexity -&gt; O(n * log n) due to sorting.","title":"HackerRank - No Prefix Set not passing all the test cases","body":"<p>Make it Simple - </p>\n\n<ol>\n<li>Make a sorted list from given set.</li>\n<li>Iterate over this list, for each element in list just check if the next element <code>startsWith()</code> this element. If yes return BAD SET.</li>\n<li>Return GOOD SET if step 2 never returns BAD SET.</li>\n</ol>\n\n<p>complexity -> O(n * log n) due to sorting.</p>\n"},{"tags":[],"owner":{"account_id":463802,"reputation":51639,"user_id":866915,"accept_rate":70,"display_name":"ErikR"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1441860493,"creation_date":1441860493,"answer_id":32493358,"question_id":32453279,"body_markdown":"The problem is that you are only checking if the current word contains a previous word as a prefix.\r\n\r\nYou also have to check if the current word is a prefix of an existing word already in the Trie.\r\n\r\n","title":"HackerRank - No Prefix Set not passing all the test cases","body":"<p>The problem is that you are only checking if the current word contains a previous word as a prefix.</p>\n\n<p>You also have to check if the current word is a prefix of an existing word already in the Trie.</p>\n"},{"tags":[],"owner":{"account_id":24789261,"reputation":1,"user_id":18672329,"display_name":"benjamin chhatria"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1648850709,"creation_date":1648850709,"answer_id":71713177,"question_id":32453279,"body_markdown":"    public static void noPrefix(List&lt;String&gt; words) {\r\n    // here is the solution which worked for me in hackerrank. let me know if any \r\n    // better suggestion\r\n       HashSet&lt;String&gt; hashSet=new LinkedHashSet&lt;String&gt;();\r\n        for (String curr : words) {\r\n            if(hashSet.size()&gt;1){\r\n            for (String value : hashSet) {\r\n              if(!curr.equalsIgnoreCase(value) \r\n              &amp;&amp;  curr.startsWith(value)){\r\n                  System.out.println(&quot;BAD SET&quot;);\r\n                  System.out.println(curr);\r\n                return;\r\n              }\r\n            }\r\n            }\r\n            hashSet.add(curr);\r\n        }\r\n        System.out.println(&quot;GOOD SET&quot;);\r\n    }","title":"HackerRank - No Prefix Set not passing all the test cases","body":"<pre><code>public static void noPrefix(List&lt;String&gt; words) {\n// here is the solution which worked for me in hackerrank. let me know if any \n// better suggestion\n   HashSet&lt;String&gt; hashSet=new LinkedHashSet&lt;String&gt;();\n    for (String curr : words) {\n        if(hashSet.size()&gt;1){\n        for (String value : hashSet) {\n          if(!curr.equalsIgnoreCase(value) \n          &amp;&amp;  curr.startsWith(value)){\n              System.out.println(&quot;BAD SET&quot;);\n              System.out.println(curr);\n            return;\n          }\n        }\n        }\n        hashSet.add(curr);\n    }\n    System.out.println(&quot;GOOD SET&quot;);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16793307,"reputation":11,"user_id":12140341,"display_name":"David Ott"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675141089,"creation_date":1675140830,"answer_id":75292837,"question_id":32453279,"body_markdown":"Python solution here.\r\n\r\nI essentially created a tree where each node has 10 branches for each letter a through j. I iterate through each word given character by character to construct the tree. When I am constructing a branch for a word, if I run into a node marked &#39;isComplete,&#39; then I know that this word has a prefix. If I reach the end of a word and the branch I am on continues beyond, then I know this word is a prefix for another word and I return the word.\r\n\r\n```\r\nclass Tree:\r\n    def __init__(self, words):\r\n        self.words = words\r\n        self.root = Node(None)\r\n        self.checkForPrefix()\r\n        \r\n        \r\n    def checkForPrefix(self):\r\n        for word in words:\r\n            answer = self.insert(word)\r\n\r\n            if answer is not None:\r\n                print(&quot;BAD SET&quot;)\r\n                print(answer)\r\n                return\r\n    \r\n        print(&quot;GOOD SET&quot;)\r\n        \r\n\r\n    def insert(self, word):\r\n        current = self.root\r\n        \r\n        for i in range(len(word)):\r\n            c = word[i]\r\n            \r\n            if current.branches[self.indexOf(c)] != None and i == len(word) - 1:\r\n                return word\r\n            \r\n            if current.branches[self.indexOf(c)] == None:\r\n                current.branches[self.indexOf(c)] = Node(c)\r\n            \r\n            if current.branches[self.indexOf(c)].isComplete:\r\n                return word\r\n            \r\n            if i == len(word) - 1:\r\n                current.branches[self.indexOf(c)].isComplete = True\r\n                \r\n            current = current.branches[self.indexOf(c)]\r\n\r\n        return None\r\n\r\n    def indexOf(self, c):\r\n        return ord(c) - 97\r\n             \r\nclass Node:\r\n    def __init__(self, value):\r\n        self.value = value\r\n        self.isComplete = False\r\n        self.branches = [None] * (ord(&quot;j&quot;) - ord(&quot;a&quot;) + 1)    \r\n\r\ndef noPrefix(words):\r\n    # Write your code here\r\n    root = Tree(words)\r\n```","title":"HackerRank - No Prefix Set not passing all the test cases","body":"<p>Python solution here.</p>\n<p>I essentially created a tree where each node has 10 branches for each letter a through j. I iterate through each word given character by character to construct the tree. When I am constructing a branch for a word, if I run into a node marked 'isComplete,' then I know that this word has a prefix. If I reach the end of a word and the branch I am on continues beyond, then I know this word is a prefix for another word and I return the word.</p>\n<pre><code>class Tree:\n    def __init__(self, words):\n        self.words = words\n        self.root = Node(None)\n        self.checkForPrefix()\n        \n        \n    def checkForPrefix(self):\n        for word in words:\n            answer = self.insert(word)\n\n            if answer is not None:\n                print(&quot;BAD SET&quot;)\n                print(answer)\n                return\n    \n        print(&quot;GOOD SET&quot;)\n        \n\n    def insert(self, word):\n        current = self.root\n        \n        for i in range(len(word)):\n            c = word[i]\n            \n            if current.branches[self.indexOf(c)] != None and i == len(word) - 1:\n                return word\n            \n            if current.branches[self.indexOf(c)] == None:\n                current.branches[self.indexOf(c)] = Node(c)\n            \n            if current.branches[self.indexOf(c)].isComplete:\n                return word\n            \n            if i == len(word) - 1:\n                current.branches[self.indexOf(c)].isComplete = True\n                \n            current = current.branches[self.indexOf(c)]\n\n        return None\n\n    def indexOf(self, c):\n        return ord(c) - 97\n             \nclass Node:\n    def __init__(self, value):\n        self.value = value\n        self.isComplete = False\n        self.branches = [None] * (ord(&quot;j&quot;) - ord(&quot;a&quot;) + 1)    \n\ndef noPrefix(words):\n    # Write your code here\n    root = Tree(words)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21002536,"reputation":29,"user_id":15433036,"display_name":"Hayk Mkrtchyan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691163161,"creation_date":1691152898,"answer_id":76836015,"question_id":32453279,"body_markdown":"**Idea with Trie is good, only you need to define custom trie for this particular problem**\r\n\r\n```\r\nclass Result {\r\n\r\n    public static void noPrefix(final List&lt;String&gt; words) {\r\n        final String prefix = anyElemAsPrefix(words).orElse(null);\r\n        if (prefix != null) {\r\n            System.out.println(&quot;BAD SET&quot;);\r\n            System.out.println(prefix);\r\n        } else {\r\n            System.out.println(&quot;GOOD SET&quot;);\r\n        }\r\n    }\r\n\r\n    private static Optional&lt;String&gt; anyElemAsPrefix(final List&lt;String&gt; words) {\r\n        final PrefixCheckTrie prefixCheckTrie = new PrefixCheckTrie();\r\n        for (final String word : words) {\r\n            if (prefixCheckTrie.hasAnyKeyWithPrefix(word)) {\r\n                return Optional.of(word);\r\n            }\r\n            prefixCheckTrie.add(word);\r\n        }\r\n        return Optional.empty();\r\n    }\r\n\r\n    private static final class PrefixCheckTrie {\r\n        private static final int r = 256;\r\n        private Node root;\r\n\r\n        public boolean hasAnyKeyWithPrefix(String prefix) {\r\n            return matchedSymbols(root, prefix, 0, new StringBuilder()).length() &gt; 0;\r\n        }\r\n\r\n        private StringBuilder matchedSymbols(final Node x, final String key, final int d, final StringBuilder matchedCharacters) {\r\n            if (x == null) return matchedCharacters;\r\n            if (d == key.length()) return matchedCharacters;\r\n            char c = key.charAt(d);\r\n            if (x.next[c] == null) {\r\n                return x.isWord ? matchedCharacters : new StringBuilder();\r\n            }\r\n            return matchedSymbols(x.next[c], key, d + 1, matchedCharacters.append(c));\r\n        }\r\n\r\n        public void add(final String key) {\r\n            if (key == null) {\r\n                throw new IllegalArgumentException(&quot;argument to add() is null&quot;);\r\n            }\r\n            root = add(root, key, 0);\r\n        }\r\n\r\n        private Node add(Node x, String key, int d) {\r\n            if (x == null) x = new Node(r);\r\n            if (d == key.length()) {\r\n                x.isWord = true;\r\n            } else {\r\n                char c = key.charAt(d);\r\n                x.next[c] = add(x.next[c], key, d + 1);\r\n            }\r\n            return x;\r\n        }\r\n\r\n        private static class Node {\r\n            private final Node[] next;\r\n            private boolean isWord;\r\n\r\n            public Node(final int r) {\r\n                this.next = new Node[r];\r\n            }\r\n        }\r\n    }\r\n}\r\n```","title":"HackerRank - No Prefix Set not passing all the test cases","body":"<p><strong>Idea with Trie is good, only you need to define custom trie for this particular problem</strong></p>\n<pre><code>class Result {\n\n    public static void noPrefix(final List&lt;String&gt; words) {\n        final String prefix = anyElemAsPrefix(words).orElse(null);\n        if (prefix != null) {\n            System.out.println(&quot;BAD SET&quot;);\n            System.out.println(prefix);\n        } else {\n            System.out.println(&quot;GOOD SET&quot;);\n        }\n    }\n\n    private static Optional&lt;String&gt; anyElemAsPrefix(final List&lt;String&gt; words) {\n        final PrefixCheckTrie prefixCheckTrie = new PrefixCheckTrie();\n        for (final String word : words) {\n            if (prefixCheckTrie.hasAnyKeyWithPrefix(word)) {\n                return Optional.of(word);\n            }\n            prefixCheckTrie.add(word);\n        }\n        return Optional.empty();\n    }\n\n    private static final class PrefixCheckTrie {\n        private static final int r = 256;\n        private Node root;\n\n        public boolean hasAnyKeyWithPrefix(String prefix) {\n            return matchedSymbols(root, prefix, 0, new StringBuilder()).length() &gt; 0;\n        }\n\n        private StringBuilder matchedSymbols(final Node x, final String key, final int d, final StringBuilder matchedCharacters) {\n            if (x == null) return matchedCharacters;\n            if (d == key.length()) return matchedCharacters;\n            char c = key.charAt(d);\n            if (x.next[c] == null) {\n                return x.isWord ? matchedCharacters : new StringBuilder();\n            }\n            return matchedSymbols(x.next[c], key, d + 1, matchedCharacters.append(c));\n        }\n\n        public void add(final String key) {\n            if (key == null) {\n                throw new IllegalArgumentException(&quot;argument to add() is null&quot;);\n            }\n            root = add(root, key, 0);\n        }\n\n        private Node add(Node x, String key, int d) {\n            if (x == null) x = new Node(r);\n            if (d == key.length()) {\n                x.isWord = true;\n            } else {\n                char c = key.charAt(d);\n                x.next[c] = add(x.next[c], key, d + 1);\n            }\n            return x;\n        }\n\n        private static class Node {\n            private final Node[] next;\n            private boolean isWord;\n\n            public Node(final int r) {\n                this.next = new Node[r];\n            }\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":2601927,"reputation":13304,"user_id":2254048,"accept_rate":100,"display_name":"YoungHobbit"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5604,"favorite_count":0,"down_vote_count":6,"up_vote_count":3,"accepted_answer_id":32493358,"answer_count":5,"score":-3,"last_activity_date":1691163161,"creation_date":1441702231,"question_id":32453279,"body_markdown":"I was trying to solve [No Prefix Set](https://www.hackerrank.com/challenges/no-prefix-set) problem on HackerRank. My Solution is passing for only half of the test-cases. I am not getting what I am missing here.\r\n\r\n**Problem Statement:** Given N strings. Each string contains only lowercase letters from `aj` (both inclusive). The set of N strings is said to be **GOOD SET** if no string is prefix of another string else, it is **BAD SET**. \r\n\r\n**For example:**, `aab`, `abcde`, `aabcd` is **BAD SET** because `aab` is prefix of `aabcd`.\r\n \r\nHere is logic I have implemented.\r\n&lt;!-- language: java --&gt;\r\n\r\n    class Trie {\r\n      Trie next[] = new Trie[10];\r\n      boolean end[] = new boolean[10];\r\n    }\r\n\r\n    private static void goodOrBad(String[] array, Trie start) {\r\n      for (String string : array) {\r\n        Trie current = start;\r\n        Trie previous = start;\r\n        int index = 0;\r\n        char strArray[] = string.toCharArray();\r\n        for (char c : strArray) {\r\n          index = c-&#39;a&#39;;\r\n          if (current.end[index]) {\r\n            System.out.println(&quot;BAD SET&quot;);\r\n            System.out.println(string);\r\n            return;\r\n          }\r\n          if (current.next[index] == null) {\r\n            Trie newTrie = new Trie();\r\n            current.next[index] = newTrie;\r\n            previous = current;\r\n            current = newTrie;\r\n          }\r\n          else {\r\n            previous = current;\r\n            current = current.next[index];\r\n          }\r\n        }\r\n        previous.end[index] = true;\r\n      }\r\n      System.out.println(&quot;GOOD SET&quot;);\r\n    }\r\n\r\n---\r\n**Input :**  \r\nFirst line contains N, the number of strings in the set.  \r\nThen next N lines follow, where ith line contains ith string. \r\n\r\n**Output :**  \r\nOutput **GOOD SET** if the set is valid.  \r\nElse, output **BAD SET** followed by the *`first string`* for which the condition fails.\r\n\r\n**Example:**  \r\n4  \r\naab  \r\naac  \r\naacghgh  \r\naabghgh  \r\n\r\n**Ouput:**  \r\nBAD SET  \r\naacghgh\r\n","title":"HackerRank - No Prefix Set not passing all the test cases","body":"<p>I was trying to solve <a href=\"https://www.hackerrank.com/challenges/no-prefix-set\" rel=\"nofollow\">No Prefix Set</a> problem on HackerRank. My Solution is passing for only half of the test-cases. I am not getting what I am missing here.</p>\n\n<p><strong>Problem Statement:</strong> Given N strings. Each string contains only lowercase letters from <code>aj</code> (both inclusive). The set of N strings is said to be <strong>GOOD SET</strong> if no string is prefix of another string else, it is <strong>BAD SET</strong>. </p>\n\n<p><strong>For example:</strong>, <code>aab</code>, <code>abcde</code>, <code>aabcd</code> is <strong>BAD SET</strong> because <code>aab</code> is prefix of <code>aabcd</code>.</p>\n\n<p>Here is logic I have implemented.\n</p>\n\n<pre><code>class Trie {\n  Trie next[] = new Trie[10];\n  boolean end[] = new boolean[10];\n}\n\nprivate static void goodOrBad(String[] array, Trie start) {\n  for (String string : array) {\n    Trie current = start;\n    Trie previous = start;\n    int index = 0;\n    char strArray[] = string.toCharArray();\n    for (char c : strArray) {\n      index = c-'a';\n      if (current.end[index]) {\n        System.out.println(\"BAD SET\");\n        System.out.println(string);\n        return;\n      }\n      if (current.next[index] == null) {\n        Trie newTrie = new Trie();\n        current.next[index] = newTrie;\n        previous = current;\n        current = newTrie;\n      }\n      else {\n        previous = current;\n        current = current.next[index];\n      }\n    }\n    previous.end[index] = true;\n  }\n  System.out.println(\"GOOD SET\");\n}\n</code></pre>\n\n<hr>\n\n<p><strong>Input :</strong><br>\nFirst line contains N, the number of strings in the set.<br>\nThen next N lines follow, where ith line contains ith string. </p>\n\n<p><strong>Output :</strong><br>\nOutput <strong>GOOD SET</strong> if the set is valid.<br>\nElse, output <strong>BAD SET</strong> followed by the <em><code>first string</code></em> for which the condition fails.</p>\n\n<p><strong>Example:</strong><br>\n4<br>\naab<br>\naac<br>\naacghgh<br>\naabghgh  </p>\n\n<p><strong>Ouput:</strong><br>\nBAD SET<br>\naacghgh</p>\n"},{"tags":["java","spring","http","spring-security"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1691130409,"post_id":76831213,"comment_id":135452733,"body_markdown":"Show your dependencies and tell which Spring Boot / Spring Security version you are using.","body":"Show your dependencies and tell which Spring Boot / Spring Security version you are using."},{"owner":{"account_id":29155128,"reputation":1,"user_id":22335093,"display_name":"HexVex"},"score":0,"creation_date":1691162976,"post_id":76831213,"comment_id":135459287,"body_markdown":"Done. I am unsure if its okay for me to use the latest versions of spring security with previous versions of java/spring boot.","body":"Done. I am unsure if its okay for me to use the latest versions of spring security with previous versions of java/spring boot."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1691994526,"post_id":76831213,"comment_id":135560485,"body_markdown":"You are mixing Spring Boot versions (2.2.x and lATEST) that isn&#39;t going to work. You need to use the same version. Using the latest Spring Security version with Spring Boot 2.2. will not work. Simply due to the fact that it requires Spring 6, whereas Spring Boot 2.2. is still on Spring 5.x).","body":"You are mixing Spring Boot versions (2.2.x and lATEST) that isn&#39;t going to work. You need to use the same version. Using the latest Spring Security version with Spring Boot 2.2. will not work. Simply due to the fact that it requires Spring 6, whereas Spring Boot 2.2. is still on Spring 5.x)."}],"owner":{"account_id":29155128,"reputation":1,"user_id":22335093,"display_name":"HexVex"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":431,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691162787,"creation_date":1691092008,"question_id":76831213,"body_markdown":"I&#39;m trying to implement a spring security configuration class in order to further use jwt for validation. However, when doing basic configurations I stumbled upon this issue, where the HttpSecurity bean I&#39;m using as a parameter for a SecurityFilterChain is not recognized, thus resulting in an error when my container is running. \r\n\r\n\r\nI already tried using the WebSecurityConfigurerAdapter even though its supposed to be deprecated. I have also tried the default usage provided in spring documentation.I also tried to declare it manually since I had the same issue with AuthenticationManager but with a latter declaration this was fixed. That being the case, could it be possible to manually declare httpSecurity? This is my code(I am using IntellijIDEA): \r\n```\r\npackage com.company.project.security;\r\n\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.security.authentication.AuthenticationManager;\r\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\nimport org.springframework.security.config.http.SessionCreationPolicy;\r\nimport org.springframework.security.core.userdetails.User;\r\nimport org.springframework.security.core.userdetails.UserDetailsService;\r\nimport org.springframework.security.crypto.bcrypt.BCrypt;\r\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\nimport org.springframework.security.crypto.password.PasswordEncoder;\r\nimport org.springframework.security.provisioning.InMemoryUserDetailsManager;\r\nimport org.springframework.security.web.SecurityFilterChain;\r\n\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class WebSecurityConfig {\r\n\r\n    @Bean\r\n    SecurityFilterChain filterChain(HttpSecurity http(THIS IS WHERE THE BEAN IS NOT FOUND), AuthenticationManager authManager) throws Exception{\r\n    return http\r\n            .csrf().disable()\r\n            .authorizeRequests()\r\n            .anyRequest()\r\n            .authenticated()\r\n            .and()\r\n            .httpBasic()\r\n            .and()\r\n            .sessionManagement()\r\n            .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n            .and()\r\n            .build();\r\n    }\r\n```\r\nThis is my pom.xml file:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;com.company&lt;/groupId&gt;\r\n    &lt;artifactId&gt;project&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;packaging&gt;jar&lt;/packaging&gt;\r\n\r\n    &lt;name&gt;New App&lt;/name&gt;\r\n    &lt;description&gt;My new SpringBoot app&lt;/description&gt;\r\n\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.2.5.RELEASE&lt;/version&gt;\r\n        &lt;relativePath/&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n        &lt;java.version&gt;11&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-jersey&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;junit&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n            &lt;version&gt;LATEST&lt;/version&gt;&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/io.jsonwebtoken/jjwt-api --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jjwt-api&lt;/artifactId&gt;\r\n            &lt;version&gt;0.11.5&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- https://mvnrepository.com/artifact/io.jsonwebtoken/jjwt-impl --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jjwt-impl&lt;/artifactId&gt;\r\n            &lt;version&gt;0.11.5&lt;/version&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- https://mvnrepository.com/artifact/io.jsonwebtoken/jjwt-jackson --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jjwt-jackson&lt;/artifactId&gt;\r\n            &lt;version&gt;0.11.5&lt;/version&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n```","title":"Error: Could not autowire. No beans of type &#39;httpSecurity&#39; found","body":"<p>I'm trying to implement a spring security configuration class in order to further use jwt for validation. However, when doing basic configurations I stumbled upon this issue, where the HttpSecurity bean I'm using as a parameter for a SecurityFilterChain is not recognized, thus resulting in an error when my container is running.</p>\n<p>I already tried using the WebSecurityConfigurerAdapter even though its supposed to be deprecated. I have also tried the default usage provided in spring documentation.I also tried to declare it manually since I had the same issue with AuthenticationManager but with a latter declaration this was fixed. That being the case, could it be possible to manually declare httpSecurity? This is my code(I am using IntellijIDEA):</p>\n<pre><code>package com.company.project.security;\n\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.authentication.AuthenticationManager;\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.config.http.SessionCreationPolicy;\nimport org.springframework.security.core.userdetails.User;\nimport org.springframework.security.core.userdetails.UserDetailsService;\nimport org.springframework.security.crypto.bcrypt.BCrypt;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.security.crypto.password.PasswordEncoder;\nimport org.springframework.security.provisioning.InMemoryUserDetailsManager;\nimport org.springframework.security.web.SecurityFilterChain;\n\n@Configuration\n@EnableWebSecurity\npublic class WebSecurityConfig {\n\n    @Bean\n    SecurityFilterChain filterChain(HttpSecurity http(THIS IS WHERE THE BEAN IS NOT FOUND), AuthenticationManager authManager) throws Exception{\n    return http\n            .csrf().disable()\n            .authorizeRequests()\n            .anyRequest()\n            .authenticated()\n            .and()\n            .httpBasic()\n            .and()\n            .sessionManagement()\n            .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n            .and()\n            .build();\n    }\n</code></pre>\n<p>This is my pom.xml file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.company&lt;/groupId&gt;\n    &lt;artifactId&gt;project&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n    &lt;name&gt;New App&lt;/name&gt;\n    &lt;description&gt;My new SpringBoot app&lt;/description&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.2.5.RELEASE&lt;/version&gt;\n        &lt;relativePath/&gt;\n    &lt;/parent&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-jersey&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n                    &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n            &lt;version&gt;LATEST&lt;/version&gt;&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/io.jsonwebtoken/jjwt-api --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n            &lt;artifactId&gt;jjwt-api&lt;/artifactId&gt;\n            &lt;version&gt;0.11.5&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/io.jsonwebtoken/jjwt-impl --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n            &lt;artifactId&gt;jjwt-impl&lt;/artifactId&gt;\n            &lt;version&gt;0.11.5&lt;/version&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/io.jsonwebtoken/jjwt-jackson --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n            &lt;artifactId&gt;jjwt-jackson&lt;/artifactId&gt;\n            &lt;version&gt;0.11.5&lt;/version&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","docker"],"comments":[{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1691151607,"post_id":76835803,"comment_id":135456569,"body_markdown":"Either the path to the executable is wrong or the image you use just does not have maven installed.","body":"Either the path to the executable is wrong or the image you use just does not have maven installed."},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1691151824,"post_id":76835803,"comment_id":135456610,"body_markdown":"You might want to try giving yourself the permission to access the file with `chmod`. Aside from that, I am unsure about `COPY . .`. Try using the full target path instead, e.g. `COPY . /app` (assuming the `WORKDIR` is set to `/app`). If you&#39;re installing Maven via `apt-get`, you&#39;d need to use `mvn` and not `./mvnw`.","body":"You might want to try giving yourself the permission to access the file with <code>chmod</code>. Aside from that, I am unsure about <code>COPY . .</code>. Try using the full target path instead, e.g. <code>COPY . &#47;app</code> (assuming the <code>WORKDIR</code> is set to <code>&#47;app</code>). If you&#39;re installing Maven via <code>apt-get</code>, you&#39;d need to use <code>mvn</code> and not <code>.&#47;mvnw</code>."},{"owner":{"account_id":29159780,"reputation":1,"user_id":22338793,"display_name":"Yagami Ackerman"},"score":0,"creation_date":1691154232,"post_id":76835803,"comment_id":135457119,"body_markdown":"@dan1st tried using chmod to give permission but gives mvnw does not exist. I used CMD [&quot;ls&quot;, &quot;-l&quot;] to list all files and i can see mvnw\n```\n-rwxr-xr-x 1 root root   70 Aug  4 13:01 Dockerfile\n-rwxr-xr-x 1 root root  259 Aug  3 19:09 README.md\n-rwxr-xr-x 1 root root 9399 Aug  3 19:09 mvnw\n-rwxr-xr-x 1 root root 5971 Aug  3 19:09 mvnw.cmd\n-rwxr-xr-x 1 root root 1834 Aug  3 19:09 pom.xml\ndrwxr-xr-x 4 root root 4096 Aug  4 07:24 src\n```","body":"@dan1st tried using chmod to give permission but gives mvnw does not exist. I used CMD [&quot;ls&quot;, &quot;-l&quot;] to list all files and i can see mvnw ``` -rwxr-xr-x 1 root root   70 Aug  4 13:01 Dockerfile -rwxr-xr-x 1 root root  259 Aug  3 19:09 README.md -rwxr-xr-x 1 root root 9399 Aug  3 19:09 mvnw -rwxr-xr-x 1 root root 5971 Aug  3 19:09 mvnw.cmd -rwxr-xr-x 1 root root 1834 Aug  3 19:09 pom.xml drwxr-xr-x 4 root root 4096 Aug  4 07:24 src ```"},{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":0,"creation_date":1691154980,"post_id":76835803,"comment_id":135457288,"body_markdown":"could you just package the jar from your IDE and copy it to your docker image when building instead?","body":"could you just package the jar from your IDE and copy it to your docker image when building instead?"},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":1,"creation_date":1691155704,"post_id":76835803,"comment_id":135457485,"body_markdown":"Can you try changing `COPY . .` to `COPY . /app` and add `WORKDIR /app` right after the `COPY` command?","body":"Can you try changing <code>COPY . .</code> to <code>COPY . &#47;app</code> and add <code>WORKDIR &#47;app</code> right after the <code>COPY</code> command?"},{"owner":{"account_id":29159780,"reputation":1,"user_id":22338793,"display_name":"Yagami Ackerman"},"score":0,"creation_date":1691157805,"post_id":76835803,"comment_id":135458017,"body_markdown":"@dan1st tried that but not able to run mvnw command to build the jar, it has to be run from a bash env and I dont know how to do it.","body":"@dan1st tried that but not able to run mvnw command to build the jar, it has to be run from a bash env and I dont know how to do it."},{"owner":{"account_id":29159780,"reputation":1,"user_id":22338793,"display_name":"Yagami Ackerman"},"score":0,"creation_date":1691158538,"post_id":76835803,"comment_id":135458193,"body_markdown":"@experimentunit1998X i want to build the jar inside the container and then run it. Issue is i am not able to use mvnw package command","body":"@experimentunit1998X i want to build the jar inside the container and then run it. Issue is i am not able to use mvnw package command"},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1691158589,"post_id":76835803,"comment_id":135458205,"body_markdown":"What makes you think you&#39;d need to run it from a bash env?","body":"What makes you think you&#39;d need to run it from a bash env?"},{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":0,"creation_date":1691159252,"post_id":76835803,"comment_id":135458375,"body_markdown":"If you really insist on doing that, then you can just use a docker image provided by maven to build your jar inside the docker image. See [here](https://gauthier-cassany.com/posts/build-jar-inside-docker) and the relevant [docker image](https://hub.docker.com/layers/library/maven/3.6.3-jdk-8/images/sha256-09c4bf58d7e7e31bdc1ab73ef10349b3a47c9a814e715e409034fb3293253ce2) from maven","body":"If you really insist on doing that, then you can just use a docker image provided by maven to build your jar inside the docker image. See <a href=\"https://gauthier-cassany.com/posts/build-jar-inside-docker\" rel=\"nofollow noreferrer\">here</a> and the relevant <a href=\"https://hub.docker.com/layers/library/maven/3.6.3-jdk-8/images/sha256-09c4bf58d7e7e31bdc1ab73ef10349b3a47c9a814e715e409034fb3293253ce2\" rel=\"nofollow noreferrer\">docker image</a> from maven"},{"owner":{"account_id":29159780,"reputation":1,"user_id":22338793,"display_name":"Yagami Ackerman"},"score":0,"creation_date":1691160312,"post_id":76835803,"comment_id":135458666,"body_markdown":"@dan1st I ran the command `./mvnw package` from my local git bash it created the jar file.","body":"@dan1st I ran the command <code>.&#47;mvnw package</code> from my local git bash it created the jar file."},{"owner":{"account_id":29159780,"reputation":1,"user_id":22338793,"display_name":"Yagami Ackerman"},"score":0,"creation_date":1691160598,"post_id":76835803,"comment_id":135458738,"body_markdown":"@experimentunit1998X Using maven:3.6.3-jdk-8 works fine. Thanks. But I have to build the jar with this command &quot;./mvnw package&quot;.","body":"@experimentunit1998X Using maven:3.6.3-jdk-8 works fine. Thanks. But I have to build the jar with this command &quot;./mvnw package&quot;."},{"owner":{"account_id":29159780,"reputation":1,"user_id":22338793,"display_name":"Yagami Ackerman"},"score":0,"creation_date":1691160868,"post_id":76835803,"comment_id":135458806,"body_markdown":"@experimentunit1998X that was a mistake, i ran both ways just to see","body":"@experimentunit1998X that was a mistake, i ran both ways just to see"},{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":0,"creation_date":1691161318,"post_id":76835803,"comment_id":135458907,"body_markdown":"could take a look at this? https://stackoverflow.com/a/59214879/16034206","body":"could take a look at this? <a href=\"https://stackoverflow.com/a/59214879/16034206\">stackoverflow.com/a/59214879/16034206</a>"},{"owner":{"account_id":29159780,"reputation":1,"user_id":22338793,"display_name":"Yagami Ackerman"},"score":0,"creation_date":1691162370,"post_id":76835803,"comment_id":135459132,"body_markdown":"@experimentunit1998X yes it worked, thank you so much. I had to include this ``RUN sed -i &#39;s/\\r//&#39; mvnw`` before running mvnw command","body":"@experimentunit1998X yes it worked, thank you so much. I had to include this <code>RUN sed -i &#39;s&#47;\\r&#47;&#47;&#39; mvnw</code> before running mvnw command"}],"owner":{"account_id":29159780,"reputation":1,"user_id":22338793,"display_name":"Yagami Ackerman"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1691234065,"answer_count":0,"score":0,"last_activity_date":1691162535,"creation_date":1691151385,"question_id":76835803,"body_markdown":"I am new to Docker and i want to build my jar file in a container using \r\ncommand `mvnw package` but i am getting\r\nthis error.\r\n``ERROR [3/3] RUN ./mvnw package                                                                                 0.5s ------ &gt; [3/3] RUN ./mvnw package: #7 0.448 /bin/sh: 1: ./mvnw: not found ------ executor failed running [/bin/sh -c ./mvnw package]: exit code: 127``\r\n\r\nI have java version 8 installed from OpenJDK image.\r\n\r\nThis is my Dockerfile\r\n\r\n```\r\nFROM openjdk:8\r\n\r\nWORKDIR /usr/src/app\r\n\r\nCOPY . .\r\n\r\nRUN ./mvnw package\r\n\r\nCMD [&quot;java&quot;, &quot;-jar&quot;, &quot;./target/springjava.jar&quot;]\r\n```\r\n\r\nand my directory is [Directory Structure](https://i.stack.imgur.com/k7yof.png)\r\n\r\nUsing maven image it works as expected\r\n\r\n```\r\nFROM maven:3.6.3-jdk-8\r\n\r\nWORKDIR /usr/src/app\r\n\r\nCOPY . .\r\n\r\nRUN mvn clean package\r\n\r\nCMD [&quot;java&quot;, &quot;-jar&quot;, &quot;./target/springjava.jar&quot;]\r\n```\r\n\r\n\r\nSOLUTION : On windows system you have to &quot;Convert the mvnm script file to Unix format by removing carriage return characters&quot;.\r\n\r\n```\r\nFROM openjdk:8\r\n\r\nWORKDIR /usr/src/app\r\n\r\nCOPY . . \r\n\r\nRUN sed -i &#39;s/\\r//&#39; mvnw\r\n\r\nRUN ./mvnw package\r\n\r\nCMD [&quot;java&quot;, &quot;-jar&quot;, &quot;./target/springjava.jar&quot;]\r\n```","title":"Not able to execute mvnw command in Dockerfile [CLOSED/FIXED]","body":"<p>I am new to Docker and i want to build my jar file in a container using\ncommand <code>mvnw package</code> but i am getting\nthis error.\n<code>ERROR [3/3] RUN ./mvnw package                                                                                 0.5s ------ &gt; [3/3] RUN ./mvnw package: #7 0.448 /bin/sh: 1: ./mvnw: not found ------ executor failed running [/bin/sh -c ./mvnw package]: exit code: 127</code></p>\n<p>I have java version 8 installed from OpenJDK image.</p>\n<p>This is my Dockerfile</p>\n<pre><code>FROM openjdk:8\n\nWORKDIR /usr/src/app\n\nCOPY . .\n\nRUN ./mvnw package\n\nCMD [&quot;java&quot;, &quot;-jar&quot;, &quot;./target/springjava.jar&quot;]\n</code></pre>\n<p>and my directory is <a href=\"https://i.stack.imgur.com/k7yof.png\" rel=\"nofollow noreferrer\">Directory Structure</a></p>\n<p>Using maven image it works as expected</p>\n<pre><code>FROM maven:3.6.3-jdk-8\n\nWORKDIR /usr/src/app\n\nCOPY . .\n\nRUN mvn clean package\n\nCMD [&quot;java&quot;, &quot;-jar&quot;, &quot;./target/springjava.jar&quot;]\n</code></pre>\n<p>SOLUTION : On windows system you have to &quot;Convert the mvnm script file to Unix format by removing carriage return characters&quot;.</p>\n<pre><code>FROM openjdk:8\n\nWORKDIR /usr/src/app\n\nCOPY . . \n\nRUN sed -i 's/\\r//' mvnw\n\nRUN ./mvnw package\n\nCMD [&quot;java&quot;, &quot;-jar&quot;, &quot;./target/springjava.jar&quot;]\n</code></pre>\n"},{"tags":["java",".htpasswd"],"answers":[{"tags":[],"owner":{"account_id":56519,"reputation":22672,"user_id":169277,"accept_rate":97,"display_name":"ant"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1268909923,"creation_date":1268909923,"answer_id":2469210,"question_id":2469197,"body_markdown":"http://www.anyexample.com/programming/java/java_simple_class_to_compute_md5_hash.xml","title":"how to generate a hash like apache&#39;s htpasswd using java","body":"<p><a href=\"http://www.anyexample.com/programming/java/java_simple_class_to_compute_md5_hash.xml\" rel=\"nofollow noreferrer\">http://www.anyexample.com/programming/java/java_simple_class_to_compute_md5_hash.xml</a></p>\n"},{"tags":[],"owner":{"account_id":28385,"reputation":10981,"user_id":75801,"accept_rate":80,"display_name":"Josh"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1268914932,"creation_date":1268914932,"answer_id":2469728,"question_id":2469197,"body_markdown":"Passwords in Apache .htpasswd files are encoded using a [salt][1]. If you want to generate these passwords using Java you&#39;ll need to do the same. [This site][2] has an explanation of the salt/hashing algorithm used for Apache&#39;s .htpasswd files; I am looking for an actual algorithm you could use and will edit my answer after I find one.\r\n\r\n**EDIT**: Looks like it&#39;s been asked before, right here on SO:\r\n\r\nhttps://stackoverflow.com/questions/39916/programmaticly-building-htpasswd\r\n\r\nHere&#39;s the documentation from Apache, along with their source code:\r\n\r\nhttp://httpd.apache.org/docs/2.2/misc/password_encryptions.html\r\n\r\nhttp://svn.apache.org/viewvc/apr/apr-util/branches/1.3.x/crypto/apr_md5.c?view=co\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Salt_(cryptography)\r\n  [2]: http://www.askapache.com/online-tools/htpasswd-generator/","title":"how to generate a hash like apache&#39;s htpasswd using java","body":"<p>Passwords in Apache .htpasswd files are encoded using a <a href=\"http://en.wikipedia.org/wiki/Salt_(cryptography)\" rel=\"nofollow noreferrer\">salt</a>. If you want to generate these passwords using Java you'll need to do the same. <a href=\"http://www.askapache.com/online-tools/htpasswd-generator/\" rel=\"nofollow noreferrer\">This site</a> has an explanation of the salt/hashing algorithm used for Apache's .htpasswd files; I am looking for an actual algorithm you could use and will edit my answer after I find one.</p>\n\n<p><strong>EDIT</strong>: Looks like it's been asked before, right here on SO:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/39916/programmaticly-building-htpasswd\">Programmaticly building htpasswd</a></p>\n\n<p>Here's the documentation from Apache, along with their source code:</p>\n\n<p><a href=\"http://httpd.apache.org/docs/2.2/misc/password_encryptions.html\" rel=\"nofollow noreferrer\">http://httpd.apache.org/docs/2.2/misc/password_encryptions.html</a></p>\n\n<p><a href=\"http://svn.apache.org/viewvc/apr/apr-util/branches/1.3.x/crypto/apr_md5.c?view=co\" rel=\"nofollow noreferrer\">http://svn.apache.org/viewvc/apr/apr-util/branches/1.3.x/crypto/apr_md5.c?view=co</a></p>\n"},{"tags":[],"owner":{"account_id":929636,"reputation":111,"user_id":959753,"display_name":"jejese"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1333493556,"creation_date":1333493556,"answer_id":10002595,"question_id":2469197,"body_markdown":"I found where someone&#39;s tackled this in java &amp; released it with a beer-ware license. Better late than never right? It&#39;s been there probably since 2007 so I&#39;d be surprised if you hadn&#39;t eventually found it some time after asking in 2010.\n\n&gt; &quot;Java Port By: Jonathan Abbey, jonabbey@arlut.utexas.edu&quot;\n&gt;\n&gt; &quot;MD5Crypt.java is a port of Poul-Henning Kamp&#39;s original FreeBSD\n&gt; MD5-based hash algorithm, with additional methods to support the\n&gt; Apache HTTPd server variant of this algorithm.&quot;\n&gt;\n&gt; &quot;The resulting string will be in the form &#39;$apr1$&amp;lt;salt&amp;gt;$&amp;lt;hashed mess&amp;gt;&#39;&quot;\n\nftp://ftp.arlut.utexas.edu/pub/java_hashes/","title":"how to generate a hash like apache&#39;s htpasswd using java","body":"<p>I found where someone's tackled this in java &amp; released it with a beer-ware license. Better late than never right? It's been there probably since 2007 so I'd be surprised if you hadn't eventually found it some time after asking in 2010.</p>\n<blockquote>\n<p>&quot;Java Port By: Jonathan Abbey, jonabbey@arlut.utexas.edu&quot;</p>\n<p>&quot;MD5Crypt.java is a port of Poul-Henning Kamp's original FreeBSD\nMD5-based hash algorithm, with additional methods to support the\nApache HTTPd server variant of this algorithm.&quot;</p>\n<p>&quot;The resulting string will be in the form '$apr1$&lt;salt&gt;$&lt;hashed mess&gt;'&quot;</p>\n</blockquote>\n<p><a href=\"ftp://ftp.arlut.utexas.edu/pub/java_hashes/\" rel=\"nofollow noreferrer\">ftp://ftp.arlut.utexas.edu/pub/java_hashes/</a></p>\n"},{"tags":[],"owner":{"account_id":3740299,"reputation":83,"user_id":3110205,"display_name":"Kaka Hoang Huy"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1503552225,"creation_date":1503552225,"answer_id":45853517,"question_id":2469197,"body_markdown":"Md5Crypt is what you are looking for. It implements [Apache htpasswd algorithms](https://httpd.apache.org/docs/2.4/en/misc/password_encryptions.html &quot;Apache algorithms&quot;)\r\n\r\n&gt; Apache-specific algorithm using an iterated (**1,000 times**) MD5 digest of various combinations of a random 32-bit **salt** and the **password**.\r\n\r\n    import org.apache.commons.codec.digest.Md5Crypt;\r\n    ...\r\n    String enPasswd = Md5Crypt.md5Crypt(&quot;your plain password&quot;.getBytes());\r\n    String htpasswdContent = &quot;your username:&quot; + enPasswd;\r\n    ","title":"how to generate a hash like apache&#39;s htpasswd using java","body":"<p>Md5Crypt is what you are looking for. It implements <a href=\"https://httpd.apache.org/docs/2.4/en/misc/password_encryptions.html\" rel=\"nofollow noreferrer\" title=\"Apache algorithms\">Apache htpasswd algorithms</a></p>\n\n<blockquote>\n  <p>Apache-specific algorithm using an iterated (<strong>1,000 times</strong>) MD5 digest of various combinations of a random 32-bit <strong>salt</strong> and the <strong>password</strong>.</p>\n</blockquote>\n\n<pre><code>import org.apache.commons.codec.digest.Md5Crypt;\n...\nString enPasswd = Md5Crypt.md5Crypt(\"your plain password\".getBytes());\nString htpasswdContent = \"your username:\" + enPasswd;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13970085,"reputation":21,"user_id":10088926,"display_name":"pmntang"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691162242,"creation_date":1691162242,"answer_id":76837240,"question_id":2469197,"body_markdown":"In fact, to have\r\n\r\n **123=&gt;$apr1$kaTbKaLO$ewJXRZAKpjaxK4thy2jOp/**,\r\n\r\nit is necessary to use the **apr1Crypt** method of the **Md5Crypt** class instead of the md5Crypt method of the same class. \r\n\r\nOtherwise, instead of having 123=&gt;$apr1$kaTbKaLO$ewJXRZAKpjaxK4thy2jOp/, we end up having 123=&gt;$1$kaTbKaLO$ewJXRZAKpjaxK4thy2jOp/ (i.e. $1$ instead of $apr1$ before the salt as desired by the post). The code should be:\r\n\r\n```\r\nimport org.apache.commons.codec.digest.Md5Crypt;\r\n...\r\nString enPasswd = Md5Crypt.apr1Crypt(&quot;your plain password&quot;.getBytes());\r\nString htpasswdContent = &quot;your username:&quot; + enPasswd;\r\n```","title":"how to generate a hash like apache&#39;s htpasswd using java","body":"<p>In fact, to have</p>\n<p><strong>123=&gt;$apr1$kaTbKaLO$ewJXRZAKpjaxK4thy2jOp/</strong>,</p>\n<p>it is necessary to use the <strong>apr1Crypt</strong> method of the <strong>Md5Crypt</strong> class instead of the md5Crypt method of the same class.</p>\n<p>Otherwise, instead of having 123=&gt;$apr1$kaTbKaLO$ewJXRZAKpjaxK4thy2jOp/, we end up having 123=&gt;$1$kaTbKaLO$ewJXRZAKpjaxK4thy2jOp/ (i.e. $1$ instead of $apr1$ before the salt as desired by the post). The code should be:</p>\n<pre><code>import org.apache.commons.codec.digest.Md5Crypt;\n...\nString enPasswd = Md5Crypt.apr1Crypt(&quot;your plain password&quot;.getBytes());\nString htpasswdContent = &quot;your username:&quot; + enPasswd;\n</code></pre>\n"}],"owner":{"account_id":200226,"reputation":17730,"user_id":448452,"accept_rate":70,"display_name":"robinmag"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9927,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":2469728,"answer_count":5,"score":8,"last_activity_date":1691162242,"creation_date":1268909794,"question_id":2469197,"body_markdown":"i use &quot;Force MD5 encryption of the password&quot; in htpasswd to generate a hash for instance &#39;123&#39; i get:\r\n\r\nuse htpasswd: 123 =&gt; $apr1$kaTbKaLO$ewJXRZAKpjaxK4thy2jOp/\r\n\r\nuse MD5 digest: 123 =&gt; 202cb962ac59075b964b07152d234b70\r\n\r\nplease tell me how can i generate a hash like the apache htpasswd using java\r\nThanks.","title":"how to generate a hash like apache&#39;s htpasswd using java","body":"<p>i use \"Force MD5 encryption of the password\" in htpasswd to generate a hash for instance '123' i get:</p>\n\n<p>use htpasswd: 123 => $apr1$kaTbKaLO$ewJXRZAKpjaxK4thy2jOp/</p>\n\n<p>use MD5 digest: 123 => 202cb962ac59075b964b07152d234b70</p>\n\n<p>please tell me how can i generate a hash like the apache htpasswd using java\nThanks.</p>\n"},{"tags":["java","spring","websocket"],"comments":[{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1517291730,"post_id":48514719,"comment_id":84023923,"body_markdown":"@vindev please do not use blockquote for stack trace, it messes up the indentation and makes the stack trace unreadable.  Use code formatting for stack traces and error messages.","body":"@vindev please do not use blockquote for stack trace, it messes up the indentation and makes the stack trace unreadable.  Use code formatting for stack traces and error messages."},{"owner":{"account_id":7559040,"reputation":2250,"user_id":5737375,"display_name":"vindev"},"score":0,"creation_date":1517292679,"post_id":48514719,"comment_id":84024255,"body_markdown":"@JimGarrison Got it, Thanks for pointing it out :)","body":"@JimGarrison Got it, Thanks for pointing it out :)"},{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1517292805,"post_id":48514719,"comment_id":84024316,"body_markdown":"You&#39;re welcome. The rest of your edit was fine.","body":"You&#39;re welcome. The rest of your edit was fine."}],"answers":[{"tags":[],"owner":{"account_id":2584375,"reputation":7820,"user_id":2240409,"accept_rate":79,"display_name":"dazito"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1597185006,"creation_date":1597185006,"answer_id":63367236,"question_id":48514719,"body_markdown":"Probably a bit late to help you.\r\n\r\nAccording to this [merge request][1] you should set your client as type of `ReactorNettyWebSocketClient` instead of the interface `WebSocketClient`.\r\n\r\nThen you can call `client.setMaxFramePayloadLength(maxFramePayload);`\r\n\r\n\r\nSo in your code you should have:\r\n\r\n    ReactorNettyWebSocketClient client = new ReactorNettyWebSocketClient();\r\n    client.setMaxFramePayloadLength(2097152);\r\n\r\n    client.execute(new URI(url),\r\n          session -&gt;  session\r\n                      .send(input.map(session::textMessage))\r\n                      .thenMany(\r\n                          session.receive()\r\n                                .map(t-&gt;t.getPayloadAsText())\r\n    \r\n                                .log()\r\n                        )\r\n                        .then()          \r\n            ).block();\r\n\r\n  [1]: https://github.com/spring-projects/spring-framework/pull/22367/files","title":"How to change the frame/buffer size on a Spring 5 webflux websocket client","body":"<p>Probably a bit late to help you.</p>\n<p>According to this <a href=\"https://github.com/spring-projects/spring-framework/pull/22367/files\" rel=\"nofollow noreferrer\">merge request</a> you should set your client as type of <code>ReactorNettyWebSocketClient</code> instead of the interface <code>WebSocketClient</code>.</p>\n<p>Then you can call <code>client.setMaxFramePayloadLength(maxFramePayload);</code></p>\n<p>So in your code you should have:</p>\n<pre><code>ReactorNettyWebSocketClient client = new ReactorNettyWebSocketClient();\nclient.setMaxFramePayloadLength(2097152);\n\nclient.execute(new URI(url),\n      session -&gt;  session\n                  .send(input.map(session::textMessage))\n                  .thenMany(\n                      session.receive()\n                            .map(t-&gt;t.getPayloadAsText())\n\n                            .log()\n                    )\n                    .then()          \n        ).block();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16026598,"reputation":3,"user_id":11566679,"display_name":"Adrian Grau"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691161941,"creation_date":1691161870,"answer_id":76837185,"question_id":48514719,"body_markdown":"Response of @dazito has been deprecated since spring-webflux:5.3.\r\n\r\nUse instead:\r\n\r\n    WebSocketClient client = new ReactorNettyWebSocketClient(HttpClient.create(),\r\n        () -&gt; WebsocketClientSpec.builder().maxFramePayloadLength(524288000))\r\n\r\nSource: [javadoc][1] (Deprecated.\r\nas of 5.3 in favor of providing a supplier of WebsocketClientSpec.Builder with a constructor argument)\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/reactive/socket/client/ReactorNettyWebSocketClient.html","title":"How to change the frame/buffer size on a Spring 5 webflux websocket client","body":"<p>Response of @dazito has been deprecated since spring-webflux:5.3.</p>\n<p>Use instead:</p>\n<pre><code>WebSocketClient client = new ReactorNettyWebSocketClient(HttpClient.create(),\n    () -&gt; WebsocketClientSpec.builder().maxFramePayloadLength(524288000))\n</code></pre>\n<p>Source: <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/reactive/socket/client/ReactorNettyWebSocketClient.html\" rel=\"nofollow noreferrer\">javadoc</a> (Deprecated.\nas of 5.3 in favor of providing a supplier of WebsocketClientSpec.Builder with a constructor argument)</p>\n"}],"owner":{"account_id":12837503,"reputation":31,"user_id":9286595,"display_name":"Sam H"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1910,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1691161941,"creation_date":1517291499,"question_id":48514719,"body_markdown":"My Spring 5 webflux websocket client is throwing below Exception when  server sends large messages.\r\nCan someone tell me how can I increase the frame size on the client?\r\n\r\n    Flux&lt;String&gt; input = Flux.just(StrJSON);\r\n\r\n    WebSocketClient client = new ReactorNettyWebSocketClient();\r\n    client.execute(new URI(url),\r\n          session -&gt;  session\r\n                      .send(input.map(session::textMessage))\r\n                      .thenMany(\r\n                          session.receive()\r\n                                .map(t-&gt;t.getPayloadAsText())\r\n    \r\n                                .log()\r\n                        )\r\n                        .then()          \r\n            ).block();\r\n\r\nIntermittent Exception:\r\n\r\n    io.netty.handler.codec.CorruptedFrameException: Max frame length of 65536 has been exceeded. \t\r\n        at io.netty.handler.codec.http.websocketx.WebSocket08FrameDecoder.protocolViolation(WebSocket08FrameDecoder.java:412)\r\n     \tat io.netty.handler.codec.http.websocketx.WebSocket08FrameDecoder.decode(WebSocket08FrameDecoder.java:277)\r\n     \tat io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:489)\r\n     .....","title":"How to change the frame/buffer size on a Spring 5 webflux websocket client","body":"<p>My Spring 5 webflux websocket client is throwing below Exception when  server sends large messages.\nCan someone tell me how can I increase the frame size on the client?</p>\n\n<pre><code>Flux&lt;String&gt; input = Flux.just(StrJSON);\n\nWebSocketClient client = new ReactorNettyWebSocketClient();\nclient.execute(new URI(url),\n      session -&gt;  session\n                  .send(input.map(session::textMessage))\n                  .thenMany(\n                      session.receive()\n                            .map(t-&gt;t.getPayloadAsText())\n\n                            .log()\n                    )\n                    .then()          \n        ).block();\n</code></pre>\n\n<p>Intermittent Exception:</p>\n\n<pre><code>io.netty.handler.codec.CorruptedFrameException: Max frame length of 65536 has been exceeded.    \n    at io.netty.handler.codec.http.websocketx.WebSocket08FrameDecoder.protocolViolation(WebSocket08FrameDecoder.java:412)\n    at io.netty.handler.codec.http.websocketx.WebSocket08FrameDecoder.decode(WebSocket08FrameDecoder.java:277)\n    at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:489)\n .....\n</code></pre>\n"},{"tags":["java","keycloak"],"answers":[{"tags":[],"owner":{"account_id":7728304,"reputation":3488,"user_id":5852281,"display_name":"cdan"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1579112033,"creation_date":1539116081,"answer_id":52728664,"question_id":52726048,"body_markdown":"Check if username and/or email exists with Admin API:\r\n\r\n    GET /{realm}/users?username=toto&amp;email=blabla@example.com \r\n\r\nThen check whether the result is empty. Both `username` and `email` query parameters are optional.\r\n \r\nMore info:\r\nhttps://www.keycloak.org/docs-api/4.4/rest-api/index.html#_users_resource\r\n(Look for section *Get users*.)\r\n\r\nThere should be a corresponding command with the Admin CLI `kcadm.sh`.\r\n\r\n--EDIT 2020-01-15--\r\n\r\nSadly, the doc for v4.4.0 disappeared from Keycloak website. The closest doc that remains is for v4.8.0:\r\nhttps://www.keycloak.org/docs-api/4.8/rest-api/index.html#_users_resource\r\n","title":"Keycloak - How to check if username and email exists","body":"<p>Check if username and/or email exists with Admin API:</p>\n\n<pre><code>GET /{realm}/users?username=toto&amp;email=blabla@example.com \n</code></pre>\n\n<p>Then check whether the result is empty. Both <code>username</code> and <code>email</code> query parameters are optional.</p>\n\n<p>More info:\n<a href=\"https://www.keycloak.org/docs-api/4.4/rest-api/index.html#_users_resource\" rel=\"noreferrer\">https://www.keycloak.org/docs-api/4.4/rest-api/index.html#_users_resource</a>\n(Look for section <em>Get users</em>.)</p>\n\n<p>There should be a corresponding command with the Admin CLI <code>kcadm.sh</code>.</p>\n\n<p>--EDIT 2020-01-15--</p>\n\n<p>Sadly, the doc for v4.4.0 disappeared from Keycloak website. The closest doc that remains is for v4.8.0:\n<a href=\"https://www.keycloak.org/docs-api/4.8/rest-api/index.html#_users_resource\" rel=\"noreferrer\">https://www.keycloak.org/docs-api/4.8/rest-api/index.html#_users_resource</a></p>\n"},{"tags":[],"owner":{"account_id":5866004,"reputation":16374,"user_id":4619958,"accept_rate":83,"display_name":"ch271828n"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1602079407,"creation_date":1602079407,"answer_id":64245745,"question_id":52726048,"body_markdown":"In 2020, there is a new API (at least a new PR which is merged on June 2020): https://github.com/keycloak/keycloak/pull/6926\r\n\r\nNow we can use APIs such as:\r\n\r\n```\r\nList&lt;UserRepresentation&gt; search(@QueryParam(&quot;username&quot;) String username, @QueryParam(&quot;exact&quot;) Boolean exact);\r\n```","title":"Keycloak - How to check if username and email exists","body":"<p>In 2020, there is a new API (at least a new PR which is merged on June 2020): <a href=\"https://github.com/keycloak/keycloak/pull/6926\" rel=\"nofollow noreferrer\">https://github.com/keycloak/keycloak/pull/6926</a></p>\n<p>Now we can use APIs such as:</p>\n<pre><code>List&lt;UserRepresentation&gt; search(@QueryParam(&quot;username&quot;) String username, @QueryParam(&quot;exact&quot;) Boolean exact);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21685891,"reputation":11,"user_id":16001353,"display_name":"Pramol"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691161889,"creation_date":1691161889,"answer_id":76837190,"question_id":52726048,"body_markdown":"There is one method to check that username is already present.\r\n\r\n    List&lt;UserRepresentation&gt; search(@QueryParam(&quot;username&quot;) String username, @QueryParam(&quot;exact&quot;) Boolean exact);\r\n\r\nTo check email if pass email in above method then it will not work. It will search for username. \r\n\r\nThere is no method to check that email is already present or not but there is some workaround that you can use to check email is present or not.\r\n\r\n      Integer count(@QueryParam(&quot;lastName&quot;) String last,\r\n                  @QueryParam(&quot;firstName&quot;) String first,\r\n                  @QueryParam(&quot;email&quot;) String email,\r\n                  @QueryParam(&quot;username&quot;) String username);\r\n\r\nJust pass value null for all parameters except email, so it will search for that Email only.\r\n\r\nIf that email is present then it will return count 1 and if not present then it will return 0. \r\n","title":"Keycloak - How to check if username and email exists","body":"<p>There is one method to check that username is already present.</p>\n<pre><code>List&lt;UserRepresentation&gt; search(@QueryParam(&quot;username&quot;) String username, @QueryParam(&quot;exact&quot;) Boolean exact);\n</code></pre>\n<p>To check email if pass email in above method then it will not work. It will search for username.</p>\n<p>There is no method to check that email is already present or not but there is some workaround that you can use to check email is present or not.</p>\n<pre><code>  Integer count(@QueryParam(&quot;lastName&quot;) String last,\n              @QueryParam(&quot;firstName&quot;) String first,\n              @QueryParam(&quot;email&quot;) String email,\n              @QueryParam(&quot;username&quot;) String username);\n</code></pre>\n<p>Just pass value null for all parameters except email, so it will search for that Email only.</p>\n<p>If that email is present then it will return count 1 and if not present then it will return 0.</p>\n"}],"owner":{"account_id":14508567,"reputation":61,"user_id":10479663,"display_name":"Dan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17546,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":3,"score":6,"last_activity_date":1691161889,"creation_date":1539104698,"question_id":52726048,"body_markdown":"We want to create Keycloak users programmatically and check before if the username and/or the email address already exists in Keycloak. We are using version `4.4.0.FINAL`.\r\n\r\nWhen we create a user programmatically with the Keycloak admin client we&#39;re getting the error code 409 (conflict) if the username or the email address is already in use. But we only get one error message in the response (`readEntity`), namely that the username already exists. The error message doesn&#39;t state that the email address is already in use, too.\r\n\r\nWhat is the best way to check if the username and/or the email address already exists in Keycloak?\r\n\r\nThe goal is to know exactly if an username or an email address already existing or not. And that not only in combination, but also if user A already used the requested username and user B already used the requested mail address.","title":"Keycloak - How to check if username and email exists","body":"<p>We want to create Keycloak users programmatically and check before if the username and/or the email address already exists in Keycloak. We are using version <code>4.4.0.FINAL</code>.</p>\n\n<p>When we create a user programmatically with the Keycloak admin client we're getting the error code 409 (conflict) if the username or the email address is already in use. But we only get one error message in the response (<code>readEntity</code>), namely that the username already exists. The error message doesn't state that the email address is already in use, too.</p>\n\n<p>What is the best way to check if the username and/or the email address already exists in Keycloak?</p>\n\n<p>The goal is to know exactly if an username or an email address already existing or not. And that not only in combination, but also if user A already used the requested username and user B already used the requested mail address.</p>\n"},{"tags":["java","spring-boot","spotify"],"owner":{"account_id":22899855,"reputation":11,"user_id":19417266,"display_name":"user19417266"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691161850,"creation_date":1691161850,"question_id":76837182,"body_markdown":"I have a Java Springboot app with a controller class that has a method that gets invoked when it accepts incoming HTTP POST request to path &quot;/api&quot;. I am able to generate access-token on demand in order to make authorized API call to spotify api endpoint(&quot;https://api.spotify.com/v1/search&quot;). Also, I made sure that the query paramters I specify such as query string &quot;q&quot; and &quot;type&quot; are both included and have correct formatted values. However, I keep getting back HTTP status of 502 with error message as &quot;Bad Gateway&quot; in response body. I also tested by calling the endpoint directly and not via my java spring-boot app and added the necessary query params and especially the Authorization header set to &quot;Bearer &lt;access_token_value&gt;&quot; but I also get same error response. Is this problem on the Spotify side?\r\n\r\nHere is my FormController class:\r\n\r\n```\r\npackage com.example.play_app_backend.controllers;\r\n\r\nimport okhttp3.*;\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\nimport com.example.play_app_backend.FormData;\r\nimport org.springframework.web.bind.annotation.RequestBody;\r\nimport org.springframework.http.ResponseEntity;\r\nimport com.example.play_app_backend.SpotifyApiClient;\r\n\r\n@RestController\r\n@RequestMapping(&quot;/api&quot;)\r\npublic class FormController {\r\n    private SpotifyApiClient spotifyClient;\r\n\r\n    public FormController() {\r\n        spotifyClient = new SpotifyApiClient();\r\n    }\r\n\r\n    // helper to construct the query parameter q&#39;s query string!\r\n    public String constructQueryString(FormData d) {\r\n        String query = String.format(&quot;artist:%s genre:%s year:%s&quot;,\r\n                d.getArtist(),\r\n                d.getGenre(),\r\n                d.getYear());\r\n        System.out.printf(&quot;Query String: %s&quot;, query);\r\n        return query;\r\n    }\r\n\r\n    @PostMapping\r\n    public String handleFormSubmission(@RequestBody FormData data) {\r\n        try {\r\n            String accessToken = spotifyClient.getAccessToken();\r\n            System.out.println(&quot;AccessToken: &quot; + accessToken);\r\n            // now, with accessToken, we should utilize the data gotten from front-end to\r\n            // look for Spotify tracks\r\n            // that best match user criteria!\r\n\r\n            // base url of api endpoint for /search!\r\n            String apiUrl = &quot;https://api.spotify.com/v1/search&quot;;\r\n            String queryString = constructQueryString(data);\r\n            // full url containing necessary query params!\r\n            String fullUrl = apiUrl + &#39;?&#39; + &quot;q=&quot; + queryString + &quot;&amp;type=track&quot;;\r\n            System.out.println(&quot;fullUrl: &quot; + fullUrl);\r\n            OkHttpClient httpClient = new OkHttpClient();\r\n            Request req = new Request.Builder().url(fullUrl).addHeader(&quot;Authorization&quot;, &quot;Bearer &quot; + accessToken).get()\r\n                    .build();\r\n            try (Response resp = httpClient.newCall(req).execute()) {\r\n                if (resp.isSuccessful()) {\r\n                    String responseBody = resp.body().string();\r\n                    return responseBody;\r\n                } else {\r\n                    System.out.println(resp.toString());\r\n                    return &quot;failed to fetch tracks from spotify /search api endpoint!&quot;;\r\n                }\r\n            } catch (Exception e) {\r\n                return &quot;Error: &quot; + e.getMessage();\r\n            }\r\n        } catch (Exception e) {\r\n            String errorMsg = &quot;can&#39;t get access token&quot;;\r\n            return errorMsg;\r\n        }\r\n    }\r\n}\r\n\r\n``` ","title":"Calling Spotify API Endpoint for &quot;/search&quot; returns 502 HTTP Status","body":"<p>I have a Java Springboot app with a controller class that has a method that gets invoked when it accepts incoming HTTP POST request to path &quot;/api&quot;. I am able to generate access-token on demand in order to make authorized API call to spotify api endpoint(&quot;https://api.spotify.com/v1/search&quot;). Also, I made sure that the query paramters I specify such as query string &quot;q&quot; and &quot;type&quot; are both included and have correct formatted values. However, I keep getting back HTTP status of 502 with error message as &quot;Bad Gateway&quot; in response body. I also tested by calling the endpoint directly and not via my java spring-boot app and added the necessary query params and especially the Authorization header set to &quot;Bearer &lt;access_token_value&gt;&quot; but I also get same error response. Is this problem on the Spotify side?</p>\n<p>Here is my FormController class:</p>\n<pre><code>package com.example.play_app_backend.controllers;\n\nimport okhttp3.*;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\nimport com.example.play_app_backend.FormData;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.http.ResponseEntity;\nimport com.example.play_app_backend.SpotifyApiClient;\n\n@RestController\n@RequestMapping(&quot;/api&quot;)\npublic class FormController {\n    private SpotifyApiClient spotifyClient;\n\n    public FormController() {\n        spotifyClient = new SpotifyApiClient();\n    }\n\n    // helper to construct the query parameter q's query string!\n    public String constructQueryString(FormData d) {\n        String query = String.format(&quot;artist:%s genre:%s year:%s&quot;,\n                d.getArtist(),\n                d.getGenre(),\n                d.getYear());\n        System.out.printf(&quot;Query String: %s&quot;, query);\n        return query;\n    }\n\n    @PostMapping\n    public String handleFormSubmission(@RequestBody FormData data) {\n        try {\n            String accessToken = spotifyClient.getAccessToken();\n            System.out.println(&quot;AccessToken: &quot; + accessToken);\n            // now, with accessToken, we should utilize the data gotten from front-end to\n            // look for Spotify tracks\n            // that best match user criteria!\n\n            // base url of api endpoint for /search!\n            String apiUrl = &quot;https://api.spotify.com/v1/search&quot;;\n            String queryString = constructQueryString(data);\n            // full url containing necessary query params!\n            String fullUrl = apiUrl + '?' + &quot;q=&quot; + queryString + &quot;&amp;type=track&quot;;\n            System.out.println(&quot;fullUrl: &quot; + fullUrl);\n            OkHttpClient httpClient = new OkHttpClient();\n            Request req = new Request.Builder().url(fullUrl).addHeader(&quot;Authorization&quot;, &quot;Bearer &quot; + accessToken).get()\n                    .build();\n            try (Response resp = httpClient.newCall(req).execute()) {\n                if (resp.isSuccessful()) {\n                    String responseBody = resp.body().string();\n                    return responseBody;\n                } else {\n                    System.out.println(resp.toString());\n                    return &quot;failed to fetch tracks from spotify /search api endpoint!&quot;;\n                }\n            } catch (Exception e) {\n                return &quot;Error: &quot; + e.getMessage();\n            }\n        } catch (Exception e) {\n            String errorMsg = &quot;can't get access token&quot;;\n            return errorMsg;\n        }\n    }\n}\n\n</code></pre>\n"},{"tags":["javascript","java","android","html","android-studio"],"answers":[{"tags":[],"owner":{"account_id":11213271,"reputation":573,"user_id":8226741,"display_name":"Andrea Ebano"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1562515526,"creation_date":1562515526,"answer_id":56923856,"question_id":56923571,"body_markdown":"Put your web resources into the assets folder, usually under `&lt;project&gt;/src/main/assets`, because emulator cannot see the file under your computer root `&quot;.../C:/Users/olive/OneDrive/Documents/ComputerScience/...&quot;`\r\n\r\n\r\nthen call:\r\n\r\n    webView.loadUrl(&quot;file:///android_asset/index.html&quot;);\r\n\r\nRemember that in Android application, files can be read from 3 types of locations:\r\n\r\n - **Internal storage**: Each app has its own, file names are relative to\r\n   this location. URL takes form file:///myFolder/myFile.html\r\n - **External storage**: Needs permission and may not always be available.\r\n   Get the root folder by calling\r\n   Environment.getExternalStorageDirectory(). So, construct the URL\r\n   using: String url = &quot;file:///&quot; +\r\n   Environment.getExternalStorageDirectory().toString() + File.separator + &quot;myFolder/myFile.html&quot;\r\n - **Assets**: Stored in the apk. Read-only access. URL takes form\r\n   file:///android_asset/myFolder/myFile.html (See also Loading an\r\n   Android Resource into a WebView)\r\n\r\n\r\nHope it helps.","title":"Android Studio (Web page help) net : ERR_FILE_NOT_FOUND","body":"<p>Put your web resources into the assets folder, usually under <code>&lt;project&gt;/src/main/assets</code>, because emulator cannot see the file under your computer root <code>\".../C:/Users/olive/OneDrive/Documents/ComputerScience/...\"</code></p>\n\n<p>then call:</p>\n\n<pre><code>webView.loadUrl(\"file:///android_asset/index.html\");\n</code></pre>\n\n<p>Remember that in Android application, files can be read from 3 types of locations:</p>\n\n<ul>\n<li><strong>Internal storage</strong>: Each app has its own, file names are relative to\nthis location. URL takes form file:///myFolder/myFile.html</li>\n<li><strong>External storage</strong>: Needs permission and may not always be available.\nGet the root folder by calling\nEnvironment.getExternalStorageDirectory(). So, construct the URL\nusing: String url = \"file:///\" +\nEnvironment.getExternalStorageDirectory().toString() + File.separator + \"myFolder/myFile.html\"</li>\n<li><strong>Assets</strong>: Stored in the apk. Read-only access. URL takes form\nfile:///android_asset/myFolder/myFile.html (See also Loading an\nAndroid Resource into a WebView)</li>\n</ul>\n\n<p>Hope it helps.</p>\n"}],"owner":{"account_id":15810536,"reputation":21,"user_id":11407795,"display_name":"Oj2328"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3824,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1691161396,"creation_date":1562513465,"question_id":56923571,"body_markdown":"Im trying to implement my web app / page inside android studio from my local files, ive followed the official documentation and made an webview button in xml, and declared :\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt; \r\nin the manifest file. My java activity code is below : \r\n\r\n   \r\n\r\n    package samples.opencv.myapplication;\r\n\r\n    import android.support.v7.app.AppCompatActivity;\r\n    import android.os.Bundle;\r\n    import android.webkit.WebView;\r\n    import android.webkit.WebViewClient;\r\n    \r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n        private WebView webview;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n            webview =(WebView)findViewById(R.id.webview);\r\n    \r\n            webview.setWebViewClient(new WebViewClient());\r\n            webview.getSettings().setJavaScriptEnabled(true);\r\n            webview.getSettings().setDomStorageEnabled(true);\r\n            webview.setOverScrollMode(WebView.OVER_SCROLL_NEVER);\r\n            webview.loadUrl(&quot;file:///C:/Users/olive/OneDrive/Documents/ComputerScience/Project/Atom/index.html&quot;);\r\n    \r\n        }\r\n    }\r\n\r\nbut i get the error on the emulator saying the webpage cannot be loaded as file is not found. \r\n\r\n[This][1] is my HTML File\r\n[This][2] is JS file\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/CHjlf.png\r\n  [2]: https://i.stack.imgur.com/e05v7.png","title":"Android Studio (Web page help) net : ERR_FILE_NOT_FOUND","body":"<p>Im trying to implement my web app / page inside android studio from my local files, ive followed the official documentation and made an webview button in xml, and declared :</p>\n\n<pre><code>&lt;uses-permission android:name=\"android.permission.INTERNET\" /&gt; \n</code></pre>\n\n<p>in the manifest file. My java activity code is below : </p>\n\n<pre><code>package samples.opencv.myapplication;\n\nimport android.support.v7.app.AppCompatActivity;\nimport android.os.Bundle;\nimport android.webkit.WebView;\nimport android.webkit.WebViewClient;\n\npublic class MainActivity extends AppCompatActivity {\n\n    private WebView webview;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        webview =(WebView)findViewById(R.id.webview);\n\n        webview.setWebViewClient(new WebViewClient());\n        webview.getSettings().setJavaScriptEnabled(true);\n        webview.getSettings().setDomStorageEnabled(true);\n        webview.setOverScrollMode(WebView.OVER_SCROLL_NEVER);\n        webview.loadUrl(\"file:///C:/Users/olive/OneDrive/Documents/ComputerScience/Project/Atom/index.html\");\n\n    }\n}\n</code></pre>\n\n<p>but i get the error on the emulator saying the webpage cannot be loaded as file is not found. </p>\n\n<p><a href=\"https://i.stack.imgur.com/CHjlf.png\" rel=\"nofollow noreferrer\">This</a> is my HTML File\n<a href=\"https://i.stack.imgur.com/e05v7.png\" rel=\"nofollow noreferrer\">This</a> is JS file</p>\n"},{"tags":["java","spring-boot","pact","contract"],"answers":[{"tags":[],"owner":{"account_id":991358,"reputation":3832,"user_id":1008568,"display_name":"Matthew Fellows"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669115685,"creation_date":1669115685,"answer_id":74531741,"question_id":74521984,"body_markdown":"So I&#39;m sure the error could be better, but it&#39;s saying that it can&#39;t find any pact files in the folder you have specified.\r\n\r\nThe annotation you have given (`@PactFolder(&quot;pactfile&quot;)`) would suggest it should be in the folder `pactfile` relative to the context root of the Java application.\r\n\r\nAre you sure there are pact files in it?","title":"NoPactsFoundException: No Pact files were found to verify","body":"<p>So I'm sure the error could be better, but it's saying that it can't find any pact files in the folder you have specified.</p>\n<p>The annotation you have given (<code>@PactFolder(&quot;pactfile&quot;)</code>) would suggest it should be in the folder <code>pactfile</code> relative to the context root of the Java application.</p>\n<p>Are you sure there are pact files in it?</p>\n"},{"tags":[],"owner":{"account_id":5605359,"reputation":165,"user_id":8467936,"display_name":"Mohit Sehgal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691161163,"creation_date":1691161163,"answer_id":76837092,"question_id":74521984,"body_markdown":"We can use ```@PactUrl(&quot;file:///path/to/contract/file.json&quot;)```\r\n","title":"NoPactsFoundException: No Pact files were found to verify","body":"<p>We can use <code>@PactUrl(&quot;file:///path/to/contract/file.json&quot;)</code></p>\n"}],"owner":{"account_id":7680129,"reputation":1367,"user_id":5820716,"display_name":"anuja jain"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":828,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1691161163,"creation_date":1669048047,"question_id":74521984,"body_markdown":"I am running pact provider test spring boot java and getting below issue and unable to resolved it I tried to change versions for junit and pact provider in maven but still not wokring \r\n\r\nHere is the stack trace\r\n\r\n```\r\nau.com.dius.pact.provider.junitsupport.loader.NoPactsFoundException: No Pact files were found to verify\r\nProvider: CoursesCatalogue\r\nSource: Directory(pacts)\r\n\tat au.com.dius.pact.provider.junit5.PactVerificationInvocationContextProvider.provideTestTemplateInvocationContexts(PactJUnit5VerificationProvider.kt:50)\r\n\tat org.junit.jupiter.engine.descriptor.TestTemplateTestDescriptor.lambda$execute$0(TestTemplateTestDescriptor.java:103)\r\n\tat java.base/java.util.stream.ReferencePipeline$7$1.accept(ReferencePipeline.java:273)\r\n\tat java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)\r\n\tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)\r\n\tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)\r\n\tat java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)\r\n\tat java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)\r\n\tat java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\r\n\tat java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)\r\n\tat org.junit.jupiter.engine.descriptor.TestTemplateTestDescriptor.execute(TestTemplateTestDescriptor.java:107)\r\n\tat org.junit.jupiter.engine.descriptor.TestTemplateTestDescriptor.execute(TestTemplateTestDescriptor.java:42)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:95)\r\n\tat org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:91)\r\n\tat org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:60)\r\n\tat org.eclipse.jdt.internal.junit5.runner.JUnit5TestReference.run(JUnit5TestReference.java:98)\r\n\tat org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:40)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:529)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:756)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:452)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:210)\r\n```\r\n\r\nHere is the test case\r\n\r\n```java\r\npackage com.qaautomated.Toys;\r\n\r\nimport org.junit.jupiter.api.BeforeEach;\r\nimport org.junit.jupiter.api.TestTemplate;\r\nimport org.junit.jupiter.api.extension.ExtendWith;\r\nimport org.springframework.boot.test.context.SpringBootTest;\r\nimport org.springframework.boot.web.server.LocalServerPort;\r\n\r\nimport au.com.dius.pact.provider.PactVerification;\r\nimport au.com.dius.pact.provider.PactVerifyProvider;\r\nimport au.com.dius.pact.provider.junit5.HttpTestTarget;\r\nimport au.com.dius.pact.provider.junit5.PactVerificationContext;\r\nimport au.com.dius.pact.provider.junit5.PactVerificationExtension;\r\nimport au.com.dius.pact.provider.junit5.PactVerificationInvocationContextProvider;\r\nimport au.com.dius.pact.provider.junitsupport.Provider;\r\nimport au.com.dius.pact.provider.junitsupport.State;\r\nimport au.com.dius.pact.provider.junitsupport.StateChangeAction;\r\nimport au.com.dius.pact.provider.junitsupport.loader.PactFolder;\r\n\r\n@SpringBootTest(webEnvironment=SpringBootTest.WebEnvironment.RANDOM_PORT)\r\n@Provider(&quot;toysDetails&quot;)\r\n@PactFolder(&quot;pactfile&quot;)\r\npublic class FirstProvidesTest {\r\n\t\r\n\t@LocalServerPort\r\n\tpublic int port;\r\n\t\r\n\t\r\n\t@TestTemplate\r\n\t@ExtendWith(PactVerificationInvocationContextProvider.class)\r\n\tpublic void testProvider(PactVerificationContext context)\r\n\t{\r\n\t\tcontext.verifyInteraction();\r\n\t}\r\n\t\r\n\t@BeforeEach\r\n\tpublic void setup(PactVerificationContext context)\r\n\t{\r\n\t\tcontext.setTarget(new HttpTestTarget(&quot;localhost&quot;,port));\r\n\t}\r\n\t\r\n\t@State(value=&quot;toys details&quot;, action=StateChangeAction.SETUP)\r\n\tpublic void toysSetup()\r\n\t{\r\n\t\t\r\n\t}\r\n\t\r\n\t@State(value=&quot;toys details&quot;, action=StateChangeAction.TEARDOWN)\r\n\tpublic void tearDown() {\r\n\t\t\r\n\t}\r\n\t\r\n}\r\n```\r\n","title":"NoPactsFoundException: No Pact files were found to verify","body":"<p>I am running pact provider test spring boot java and getting below issue and unable to resolved it I tried to change versions for junit and pact provider in maven but still not wokring</p>\n<p>Here is the stack trace</p>\n<pre><code>au.com.dius.pact.provider.junitsupport.loader.NoPactsFoundException: No Pact files were found to verify\nProvider: CoursesCatalogue\nSource: Directory(pacts)\n    at au.com.dius.pact.provider.junit5.PactVerificationInvocationContextProvider.provideTestTemplateInvocationContexts(PactJUnit5VerificationProvider.kt:50)\n    at org.junit.jupiter.engine.descriptor.TestTemplateTestDescriptor.lambda$execute$0(TestTemplateTestDescriptor.java:103)\n    at java.base/java.util.stream.ReferencePipeline$7$1.accept(ReferencePipeline.java:273)\n    at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)\n    at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)\n    at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)\n    at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)\n    at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)\n    at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n    at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)\n    at org.junit.jupiter.engine.descriptor.TestTemplateTestDescriptor.execute(TestTemplateTestDescriptor.java:107)\n    at org.junit.jupiter.engine.descriptor.TestTemplateTestDescriptor.execute(TestTemplateTestDescriptor.java:42)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:95)\n    at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:91)\n    at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:60)\n    at org.eclipse.jdt.internal.junit5.runner.JUnit5TestReference.run(JUnit5TestReference.java:98)\n    at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:40)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:529)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:756)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:452)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:210)\n</code></pre>\n<p>Here is the test case</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.qaautomated.Toys;\n\nimport org.junit.jupiter.api.BeforeEach;\nimport org.junit.jupiter.api.TestTemplate;\nimport org.junit.jupiter.api.extension.ExtendWith;\nimport org.springframework.boot.test.context.SpringBootTest;\nimport org.springframework.boot.web.server.LocalServerPort;\n\nimport au.com.dius.pact.provider.PactVerification;\nimport au.com.dius.pact.provider.PactVerifyProvider;\nimport au.com.dius.pact.provider.junit5.HttpTestTarget;\nimport au.com.dius.pact.provider.junit5.PactVerificationContext;\nimport au.com.dius.pact.provider.junit5.PactVerificationExtension;\nimport au.com.dius.pact.provider.junit5.PactVerificationInvocationContextProvider;\nimport au.com.dius.pact.provider.junitsupport.Provider;\nimport au.com.dius.pact.provider.junitsupport.State;\nimport au.com.dius.pact.provider.junitsupport.StateChangeAction;\nimport au.com.dius.pact.provider.junitsupport.loader.PactFolder;\n\n@SpringBootTest(webEnvironment=SpringBootTest.WebEnvironment.RANDOM_PORT)\n@Provider(&quot;toysDetails&quot;)\n@PactFolder(&quot;pactfile&quot;)\npublic class FirstProvidesTest {\n    \n    @LocalServerPort\n    public int port;\n    \n    \n    @TestTemplate\n    @ExtendWith(PactVerificationInvocationContextProvider.class)\n    public void testProvider(PactVerificationContext context)\n    {\n        context.verifyInteraction();\n    }\n    \n    @BeforeEach\n    public void setup(PactVerificationContext context)\n    {\n        context.setTarget(new HttpTestTarget(&quot;localhost&quot;,port));\n    }\n    \n    @State(value=&quot;toys details&quot;, action=StateChangeAction.SETUP)\n    public void toysSetup()\n    {\n        \n    }\n    \n    @State(value=&quot;toys details&quot;, action=StateChangeAction.TEARDOWN)\n    public void tearDown() {\n        \n    }\n    \n}\n</code></pre>\n"},{"tags":["javascript","java","html","microservices","api-gateway"],"comments":[{"owner":{"account_id":18192720,"reputation":849,"user_id":13238310,"display_name":"idanz"},"score":1,"creation_date":1690550455,"post_id":76788170,"comment_id":135373463,"body_markdown":"Please share the error/problem you encounter, &#39;does not work&#39; doesn&#39;t help us to help you.","body":"Please share the error/problem you encounter, &#39;does not work&#39; doesn&#39;t help us to help you."},{"owner":{"account_id":27990171,"reputation":67,"user_id":21376203,"display_name":"MatildaEliz"},"score":0,"creation_date":1690550630,"post_id":76788170,"comment_id":135373504,"body_markdown":"The problem is I ve not encounter any error, it is just not working. I didnt find a answer for this like 7 hour. My question is how can i send http request to api gateway from frontend using button","body":"The problem is I ve not encounter any error, it is just not working. I didnt find a answer for this like 7 hour. My question is how can i send http request to api gateway from frontend using button"},{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1690550768,"post_id":76788170,"comment_id":135373531,"body_markdown":"Nope, not good enough. &quot;Just not working&quot; simply doesn&#39;t give us enough information to help you. You&#39;re going to have to figure out *what* isn&#39;t working: Is the request being sent from the browser? Arriving at the server? Are you getting a response? Et cetera.","body":"Nope, not good enough. &quot;Just not working&quot; simply doesn&#39;t give us enough information to help you. You&#39;re going to have to figure out <i>what</i> isn&#39;t working: Is the request being sent from the browser? Arriving at the server? Are you getting a response? Et cetera."},{"owner":{"account_id":27990171,"reputation":67,"user_id":21376203,"display_name":"MatildaEliz"},"score":0,"creation_date":1690550870,"post_id":76788170,"comment_id":135373549,"body_markdown":"When I run this url manually http://localhost:9000/user/register?username&amp;password it is working but when I try to send http request via frontend button nothing occur","body":"When I run this url manually <a href=\"http://localhost:9000/user/register?username&amp;password\" rel=\"nofollow noreferrer\">localhost:9000/user/register?username&amp;password</a> it is working but when I try to send http request via frontend button nothing occur"},{"owner":{"account_id":18192720,"reputation":849,"user_id":13238310,"display_name":"idanz"},"score":0,"creation_date":1690551039,"post_id":76788170,"comment_id":135373587,"body_markdown":"&#39;Nothing occurs&#39; is not possible, something for sure occurs. You run the command `xht.Send()`, debug your code and share with us what happens when the command being executed.","body":"&#39;Nothing occurs&#39; is not possible, something for sure occurs. You run the command <code>xht.Send()</code>, debug your code and share with us what happens when the command being executed."},{"owner":{"account_id":27990171,"reputation":67,"user_id":21376203,"display_name":"MatildaEliz"},"score":0,"creation_date":1690551229,"post_id":76788170,"comment_id":135373632,"body_markdown":"how can i debug it I dont know how in JavaScript","body":"how can i debug it I dont know how in JavaScript"},{"owner":{"account_id":18192720,"reputation":849,"user_id":13238310,"display_name":"idanz"},"score":0,"creation_date":1690551301,"post_id":76788170,"comment_id":135373646,"body_markdown":"https://developer.chrome.com/docs/devtools/javascript/\nOnce you debug and understand the problem, please edit your post with the details.","body":"<a href=\"https://developer.chrome.com/docs/devtools/javascript/\" rel=\"nofollow noreferrer\">developer.chrome.com/docs/devtools/javascript</a> Once you debug and understand the problem, please edit your post with the details."},{"owner":{"account_id":27990171,"reputation":67,"user_id":21376203,"display_name":"MatildaEliz"},"score":0,"creation_date":1690553811,"post_id":76788170,"comment_id":135374268,"body_markdown":"added with image","body":"added with image"},{"owner":{"account_id":18192720,"reputation":849,"user_id":13238310,"display_name":"idanz"},"score":0,"creation_date":1690557880,"post_id":76788170,"comment_id":135375216,"body_markdown":"https://stackoverflow.com/questions/35553500/xmlhttprequest-cannot-load-xxx-no-access-control-allow-origin-header","body":"<a href=\"https://stackoverflow.com/questions/35553500/xmlhttprequest-cannot-load-xxx-no-access-control-allow-origin-header\" title=\"xmlhttprequest cannot load xxx no access control allow origin header\">stackoverflow.com/questions/35553500/&hellip;</a>"},{"owner":{"account_id":27990171,"reputation":67,"user_id":21376203,"display_name":"MatildaEliz"},"score":0,"creation_date":1690559906,"post_id":76788170,"comment_id":135375602,"body_markdown":"occurs now . signup.html:53     POST http://localhost:9000/user/register?username=${username}&amp;password=${password} 400 (Bad Request)","body":"occurs now . signup.html:53     POST <a href=\"http://localhost:9000/user/register?username=$\" rel=\"nofollow noreferrer\">localhost:9000/user/register?username=$</a>{username}&amp;password=$&zwnj;&#8203;{password} 400 (Bad Request)"},{"owner":{"account_id":18192720,"reputation":849,"user_id":13238310,"display_name":"idanz"},"score":0,"creation_date":1690561686,"post_id":76788170,"comment_id":135375928,"body_markdown":"Check if the way you tried to inject the username and password to the url actually works...","body":"Check if the way you tried to inject the username and password to the url actually works..."}],"answers":[{"tags":[],"owner":{"account_id":29085267,"reputation":1,"user_id":22280274,"display_name":"Arjun"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1690550789,"creation_date":1690550789,"answer_id":76788252,"question_id":76788170,"body_markdown":"I am not sure if you would be able to send a API request to a gateway from your frontend without any communicator.","title":"Bad Request Sending HTTP REQUEST","body":"<p>I am not sure if you would be able to send a API request to a gateway from your frontend without any communicator.</p>\n"},{"tags":[],"owner":{"account_id":29026006,"reputation":56,"user_id":22234165,"display_name":"guest"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691160599,"creation_date":1691160599,"answer_id":76837006,"question_id":76788170,"body_markdown":"The syntax of your request is incorrect if you want to replace the variables in your template string. You should be using the backtick ` instead of the quote &quot;.\r\n\r\nInstead of\r\n```\r\n&quot;http://localhost:9000/user/register?username=${username}&amp;password=${password}&quot;\r\n```\r\nYou should be using \r\n```\r\n`http://localhost:9000/user/register?username=${username}&amp;password=${password}`\r\n```\r\n\r\n\r\n\r\n","title":"Bad Request Sending HTTP REQUEST","body":"<p>The syntax of your request is incorrect if you want to replace the variables in your template string. You should be using the backtick ` instead of the quote &quot;.</p>\n<p>Instead of</p>\n<pre><code>&quot;http://localhost:9000/user/register?username=${username}&amp;password=${password}&quot;\n</code></pre>\n<p>You should be using</p>\n<pre><code>`http://localhost:9000/user/register?username=${username}&amp;password=${password}`\n</code></pre>\n"}],"owner":{"account_id":27990171,"reputation":67,"user_id":21376203,"display_name":"MatildaEliz"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":2,"score":-1,"last_activity_date":1691160599,"creation_date":1690550115,"question_id":76788170,"body_markdown":"\r\nWhen I make a gateway request to the URL manually in my project, it gives me the correct data, but when I try to send an http request with the frontend, the API does not work. Why is that?\r\n\r\nJavaScript\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;script&gt;\r\n      document.getElementById(&quot;signupbtn&quot;).addEventListener(&quot;click&quot;,function(){\r\n        const username = document.getElementById(&quot;username&quot;).value;\r\n        const password = document.getElementById(&quot;password&quot;).value;\r\n\r\n     \r\n        const xhr = new XMLHttpRequest();\r\n        xhr.open(&quot;POST&quot;,&quot;http://localhost:9000/user/register?username=${username}&amp;password=${password}&quot;);\r\n        xhr.send();\r\n      })\r\n\r\n    &lt;/script&gt;\r\n\r\nGiving  POST http://localhost:9000/user/register?username=${username}&amp;password=${password} 400 (Bad Request)","title":"Bad Request Sending HTTP REQUEST","body":"<p>When I make a gateway request to the URL manually in my project, it gives me the correct data, but when I try to send an http request with the frontend, the API does not work. Why is that?</p>\n<p>JavaScript</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;script&gt;\n  document.getElementById(&quot;signupbtn&quot;).addEventListener(&quot;click&quot;,function(){\n    const username = document.getElementById(&quot;username&quot;).value;\n    const password = document.getElementById(&quot;password&quot;).value;\n\n \n    const xhr = new XMLHttpRequest();\n    xhr.open(&quot;POST&quot;,&quot;http://localhost:9000/user/register?username=${username}&amp;password=${password}&quot;);\n    xhr.send();\n  })\n\n&lt;/script&gt;\n</code></pre>\n<p>Giving  POST http://localhost:9000/user/register?username=${username}&amp;password=${password} 400 (Bad Request)</p>\n"},{"tags":["java","spring-boot","swagger-ui","springdoc"],"answers":[{"tags":[],"owner":{"account_id":9606953,"reputation":64,"user_id":7132691,"accept_rate":0,"display_name":"Akshay Tyagi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1691160414,"creation_date":1691160414,"answer_id":76836975,"question_id":71712617,"body_markdown":"To achieve this,  you need to extend the implementation of SwaggerIndexPageTransformer. Next, add transformer @Bean to your @Configuration.\r\n\r\n&gt; Please follow the instruction provided in the doc-\r\n&gt; https://springdoc.org/v1/#customizing-swagger-static-resources\r\n\r\n**Note:-** Spring doc v1 is only compatible with Spring-boot v2.","title":"Reading static resources in Springboot for custom swagger-ui","body":"<p>To achieve this,  you need to extend the implementation of SwaggerIndexPageTransformer. Next, add transformer @Bean to your @Configuration.</p>\n<blockquote>\n<p>Please follow the instruction provided in the doc-\n<a href=\"https://springdoc.org/v1/#customizing-swagger-static-resources\" rel=\"nofollow noreferrer\">https://springdoc.org/v1/#customizing-swagger-static-resources</a></p>\n</blockquote>\n<p><strong>Note:-</strong> Spring doc v1 is only compatible with Spring-boot v2.</p>\n"}],"owner":{"account_id":8868218,"reputation":928,"user_id":6622697,"display_name":"Peter Kronenberg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1020,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1691160414,"creation_date":1648846156,"question_id":71712617,"body_markdown":"`I&#39;m using springdoc-openapi.  I want to customize the swagger, so I copied the whole thing to my resources directory\r\n\r\n[![enter image description here][1]][1]\r\n\r\nI am also not loading the files from the jar\r\n```\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n            &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\r\n            &lt;version&gt;1.6.6&lt;/version&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.webjars&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;swagger-ui&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n\r\nBut I can&#39;t seem to serve any files inside swagger-ui.  I tried moving it to `static/swagger-ui`, but I still get a 404.  \r\n\r\nWhen the service starts up, it shows\r\n```\r\nPatterns [/webjars/**, /**, /swagger-ui*/**] in &#39;resourceHandlerMapping&#39;\r\n```\r\n\r\nSo it looks like openapi is adding those resource paths.\r\n\r\nBut both `http://localhost/index.html` and `http://localhost/swagger-ui/index.html` return 404\r\n\r\nI *am* able to go to `http://localhost/hello.html`, which is in `resources/static`, one of the default locations for static files.  Why can&#39;t I read the `index.html` file that&#39;s in the `swagger-ui` directory, either in `resources/swagger-ui` or `resources/static/swagger-ui`\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/0CX9F.png","title":"Reading static resources in Springboot for custom swagger-ui","body":"<p>`I'm using springdoc-openapi.  I want to customize the swagger, so I copied the whole thing to my resources directory</p>\n<p><a href=\"https://i.stack.imgur.com/0CX9F.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0CX9F.png\" alt=\"enter image description here\" /></a></p>\n<p>I am also not loading the files from the jar</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n            &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\n            &lt;version&gt;1.6.6&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.webjars&lt;/groupId&gt;\n                    &lt;artifactId&gt;swagger-ui&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>But I can't seem to serve any files inside swagger-ui.  I tried moving it to <code>static/swagger-ui</code>, but I still get a 404.</p>\n<p>When the service starts up, it shows</p>\n<pre><code>Patterns [/webjars/**, /**, /swagger-ui*/**] in 'resourceHandlerMapping'\n</code></pre>\n<p>So it looks like openapi is adding those resource paths.</p>\n<p>But both <code>http://localhost/index.html</code> and <code>http://localhost/swagger-ui/index.html</code> return 404</p>\n<p>I <em>am</em> able to go to <code>http://localhost/hello.html</code>, which is in <code>resources/static</code>, one of the default locations for static files.  Why can't I read the <code>index.html</code> file that's in the <code>swagger-ui</code> directory, either in <code>resources/swagger-ui</code> or <code>resources/static/swagger-ui</code></p>\n"},{"tags":["java","spring","spring-boot","testing"],"comments":[{"owner":{"account_id":12259204,"reputation":2452,"user_id":8947430,"display_name":"Ismail"},"score":1,"creation_date":1691137216,"post_id":76834035,"comment_id":135453926,"body_markdown":"I don&#39;t think it&#39;s a good idea to use @Transactional on test methods, this is not what it&#39;s made for","body":"I don&#39;t think it&#39;s a good idea to use @Transactional on test methods, this is not what it&#39;s made for"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1691139432,"post_id":76834035,"comment_id":135454313,"body_markdown":"@Ismail it is a very good idea to make the tests transactional as that will cleanup the dirt after the test method. Instead of repopulating the database for each test you can now run tests directly or even in parallel.","body":"@Ismail it is a very good idea to make the tests transactional as that will cleanup the dirt after the test method. Instead of repopulating the database for each test you can now run tests directly or even in parallel."}],"answers":[{"tags":[],"owner":{"account_id":20005256,"reputation":51,"user_id":16202183,"display_name":"Jenia"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1691160341,"creation_date":1691160341,"answer_id":76836967,"question_id":76834035,"body_markdown":"1) You can put @Transactional on your class, not for every test\r\n2) If you want keep your database is clean, you need add @Rollback on top your class&#39;s name\r\n3) The error is caused by an immutable collection, since you did not attach the AgencyCreateDtoMother.random () implementation and the NotificationEmail, SupportContact classes, I can assume that when the random () method is called, an entity is created with some new parameter that is not in the hibernate context when updating, he tries to merge new ones changes, although this type should already be in the hibernate context, if you put an end to the thrown exception, it will be clear what the problem is","title":"Spring boot some tests fails with @Transactional, but it run well without they","body":"<ol>\n<li>You can put @Transactional on your class, not for every test</li>\n<li>If you want keep your database is clean, you need add @Rollback on top your class's name</li>\n<li>The error is caused by an immutable collection, since you did not attach the AgencyCreateDtoMother.random () implementation and the NotificationEmail, SupportContact classes, I can assume that when the random () method is called, an entity is created with some new parameter that is not in the hibernate context when updating, he tries to merge new ones changes, although this type should already be in the hibernate context, if you put an end to the thrown exception, it will be clear what the problem is</li>\n</ol>\n"}],"owner":{"account_id":12272729,"reputation":51,"user_id":9021108,"display_name":"maik"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":103,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1691160341,"creation_date":1691136128,"question_id":76834035,"body_markdown":"I&#39;m using spring boot 3 and junit 5. I implemented this tests for check agency CRUD operations.\r\n```java\r\n\r\n@SpringBootTest\r\nclass AgencyTest {\r\n\r\n    @Autowired\r\n    AgencyCreate agencyCreate;\r\n\r\n    @Autowired\r\n    AgencyUpdate agencyUpdate;\r\n\r\n    @Autowired\r\n    AgencyFind agencyFind;\r\n\r\n    @Autowired\r\n    AgencyDelete agencyDelete;\r\n\r\n    @Transactional\r\n    Long createAgency(){\r\n        AgencyCreateDto agencyCreateDto = AgencyCreateDtoMother.random();\r\n        return agencyCreate.create(agencyCreateDto).getResult().get(&quot;id&quot;);\r\n    }\r\n\r\n    @Test\r\n    @Transactional\r\n    void create_agency(){\r\n\r\n        Long agencyId = createAgency();\r\n        assertTrue(agencyId &gt;= 100000L);\r\n    }\r\n\r\n    @Test\r\n    @Transactional\r\n    void create_agency_with_invalid_parameters(){\r\n\r\n        AgencyCreateDto agencyCreateDto = AgencyCreateDto.builder()\r\n                .name(null)\r\n                .build();\r\n\r\n        assertThrows(Exception.class, () -&gt; agencyCreate.create(agencyCreateDto).getResult().get(&quot;id&quot;));\r\n    }\r\n\r\n    @Test\r\n    @Transactional\r\n    void update_agency(){\r\n\r\n        Long agencyId = createAgency();\r\n\r\n        AgencyUpdateDto agencyUpdateDto = AgencyUpdateDtoMother.random();\r\n        assertDoesNotThrow(() -&gt; agencyUpdate.update(agencyId, agencyUpdateDto));\r\n    }\r\n\r\n    @Test\r\n    @Transactional\r\n    void update_agency_that_not_exist(){\r\n\r\n        AgencyUpdateDto agencyUpdateDto = AgencyUpdateDtoMother.random();\r\n        assertThrows(Exception.class, () -&gt; agencyUpdate.update(ContentGenerator.customId(), agencyUpdateDto));\r\n    }\r\n\r\n    @Test\r\n    @Transactional\r\n    void find_agency_by_id(){\r\n\r\n        Long agencyId = createAgency();\r\n\r\n        Agency agency = agencyFind.findById(agencyId);\r\n        assertEquals(agency.getId(), agencyId);\r\n    }\r\n\r\n    @Test\r\n    @Transactional\r\n    void find_agency_by_id_that_not_exist(){\r\n\r\n        assertThrows(Exception.class, () -&gt; agencyFind.findById(ContentGenerator.customIdLower()));\r\n    }\r\n\r\n    @Test\r\n    @Transactional\r\n    void find_agency_list(){\r\n\r\n        List&lt;Agency&gt; agencyList = agencyFind.findAllCriteria(AgencyFindCriteriaMother.empty());\r\n        assertTrue(agencyList.size() &gt; 0);\r\n    }\r\n\r\n    @Test\r\n    @Transactional\r\n    void find_agency_list_using_criteria(){\r\n\r\n        AgencyCreateDto agencyCreateDto = AgencyCreateDtoMother.random();\r\n        Long agencyId = agencyCreate.create(agencyCreateDto).getResult().get(&quot;id&quot;);\r\n\r\n        AgencyFindCriteria agencyFindCriteria = AgencyFindCriteriaMother.randomWithSpecificName(agencyCreateDto.getName());\r\n        List&lt;Agency&gt; agencyList = agencyFind.findAllCriteria(agencyFindCriteria);\r\n\r\n        assertTrue(agencyList.stream().anyMatch(agency -&gt; agency.getId().equals(agencyId)));\r\n    }\r\n\r\n    @Test\r\n    @Transactional\r\n    void delete_agency(){\r\n\r\n        Long agencyId = createAgency();\r\n        assertDoesNotThrow(() -&gt; agencyDelete.deleteById(agencyId));\r\n    }\r\n\r\n    @Test\r\n    @Transactional\r\n    void delete_agency_that_not_exist(){\r\n\r\n        assertThrows(Exception.class, () -&gt; agencyDelete.deleteById(ContentGenerator.customId()));\r\n    }\r\n\r\n}\r\n```\r\n\r\nIf I launch the tests without @Transactional tags, all run well, but it dirty the database.   \r\nIf I launch the test with @Transactional tags, some tests fails, for example, update_agency(). \r\nThe error is:   \r\n\r\n```\r\nUnexpected exception thrown: java.lang.UnsupportedOperationException\r\norg.opentest4j.AssertionFailedError: Unexpected exception thrown: java.lang.UnsupportedOperationException\r\n\tat app//org.junit.jupiter.api.AssertionFailureBuilder.build(AssertionFailureBuilder.java:152)\r\n\tat app//org.junit.jupiter.api.AssertDoesNotThrow.createAssertionFailedError(AssertDoesNotThrow.java:84)\r\n\tat app//org.junit.jupiter.api.AssertDoesNotThrow.assertDoesNotThrow(AssertDoesNotThrow.java:53)\r\n\tat app//org.junit.jupiter.api.AssertDoesNotThrow.assertDoesNotThrow(AssertDoesNotThrow.java:36)\r\n\tat app//org.junit.jupiter.api.Assertions.assertDoesNotThrow(Assertions.java:3136)\r\n\tat app//agency.AgencyTest.update_agency(AgencyTest.java:72)\r\n\tat java.base@17.0.7/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base@17.0.7/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base@17.0.7/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base@17.0.7/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat app//org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:727)\r\n\tat app//org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\r\n\tat app//org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\r\n\tat app//org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)\r\n\tat app//org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)\r\n\tat app//org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)\r\n\tat app//org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)\r\n\tat app//org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)\r\n\tat app//org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\r\n\tat app//org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\r\n\tat app//org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\r\n\tat app//org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\r\n\tat app//org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)\r\n\tat app//org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)\r\n\tat app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:217)\r\n\tat app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:213)\r\n\tat app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:138)\r\n\tat app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\r\n\tat app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat app//org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base@17.0.7/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat app//org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat app//org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base@17.0.7/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat app//org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat app//org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat app//org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\r\n\tat app//org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n\tat app//org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:96)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:75)\r\n\tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)\r\n\tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)\r\n\tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)\r\n\tat org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:61)\r\n\tat java.base@17.0.7/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base@17.0.7/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base@17.0.7/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base@17.0.7/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\r\n\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\r\n\tat org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\r\n\tat org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\r\n\tat jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)\r\n\tat org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)\r\n\tat org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:133)\r\n\tat org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:71)\r\n\tat app//worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)\r\n\tat app//worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)\r\nCaused by: java.lang.UnsupportedOperationException\r\n\tat java.base/java.util.ImmutableCollections.uoe(ImmutableCollections.java:142)\r\n\tat java.base/java.util.ImmutableCollections$AbstractImmutableCollection.clear(ImmutableCollections.java:149)\r\n\tat org.hibernate.type.CollectionType.replaceElements(CollectionType.java:525)\r\n\tat org.hibernate.type.CollectionType.replace(CollectionType.java:705)\r\n\tat org.hibernate.type.TypeHelper.replace(TypeHelper.java:117)\r\n\tat org.hibernate.event.internal.DefaultMergeEventListener.copyValues(DefaultMergeEventListener.java:490)\r\n\tat org.hibernate.event.internal.DefaultMergeEventListener.entityIsPersistent(DefaultMergeEventListener.java:211)\r\n\tat org.hibernate.event.internal.DefaultMergeEventListener.onMerge(DefaultMergeEventListener.java:184)\r\n\tat org.hibernate.event.internal.DefaultMergeEventListener.onMerge(DefaultMergeEventListener.java:81)\r\n\tat org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107)\r\n\tat org.hibernate.internal.SessionImpl.fireMerge(SessionImpl.java:830)\r\n\tat org.hibernate.internal.SessionImpl.merge(SessionImpl.java:816)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:307)\r\n\tat jdk.proxy3/jdk.proxy3.$Proxy143.merge(Unknown Source)\r\n\tat org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:613)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:288)\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:136)\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:120)\r\n\tat org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:516)\r\n\tat org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285)\r\n\tat org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:628)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:168)\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:143)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:77)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:163)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:218)\r\n\tat jdk.proxy3/jdk.proxy3.$Proxy147.save(Unknown Source)\r\n\tat .agency.application.update.AgencyUpdate.update(AgencyUpdate.java:25)\r\n\tat agency.AgencyTest.lambda$update_agency$1(AgencyTest.java:72)\r\n\tat org.junit.jupiter.api.AssertDoesNotThrow.assertDoesNotThrow(AssertDoesNotThrow.java:49)\r\n```\r\n\r\nWhy it fail?\r\nNote that this agency object is saved in three relational tables with foraign keys. \r\nRegards\r\n\r\n**ADDED MORE INFORMATION**\r\n\r\nAgencyUpdate class\r\n```\r\n@AllArgsConstructor\r\n@Service\r\npublic class AgencyUpdate {\r\n\r\n    @Autowired\r\n    AgencyJpaRepository agencyJpaRepository;\r\n\r\n    @Autowired\r\n    AgencyFind agencyFind;\r\n\r\n    public void update(Long agencyId, AgencyUpdateDto agencyUpdateDto){\r\n\r\n        Agency agency = agencyFind.findById(agencyId);\r\n        agency.aggregate(agencyUpdateDto);\r\n        agencyJpaRepository.save(agency);\r\n    }\r\n}\r\n```\r\n\r\nAgency class\r\n```\r\n@Getter\r\n@EqualsAndHashCode\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Entity\r\n@DynamicUpdate\r\n@Builder\r\npublic class Agency {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    private String name;\r\n\r\n    @Column(name = &quot;technical_partner&quot;)\r\n    private String technicalPartner;\r\n\r\n    @Column(name = &quot;connector_partner&quot;)\r\n    private String connectorPartner;\r\n\r\n    private String certification;\r\n\r\n    @ElementCollection(fetch = FetchType.EAGER)\r\n    @CollectionTable(name = &quot;agency_support_contact&quot;, joinColumns=@JoinColumn(name = &quot;agency_id&quot;))\r\n    private List&lt;SupportContact&gt; supportContact;\r\n\r\n    @ElementCollection(fetch = FetchType.EAGER)\r\n    @CollectionTable(name = &quot;agency_notification_email&quot;, joinColumns=@JoinColumn(name = &quot;agency_id&quot;))\r\n    private List&lt;NotificationEmail&gt; notificationEmail;\r\n\r\n    public void aggregate(AgencyUpdateDto agencyUpdateDto){\r\n\r\n        if (agencyUpdateDto.getName() != null)\r\n            name = agencyUpdateDto.getName();\r\n\r\n        if (agencyUpdateDto.getTechnicalPartner() != null)\r\n            technicalPartner = agencyUpdateDto.getTechnicalPartner();\r\n\r\n        if (agencyUpdateDto.getConnectorPartner() != null)\r\n            connectorPartner = agencyUpdateDto.getConnectorPartner();\r\n\r\n        if (agencyUpdateDto.getCertification() != null)\r\n            certification = agencyUpdateDto.getCertification();\r\n\r\n        if (agencyUpdateDto.getSupportContactList() != null)\r\n            supportContact = agencyUpdateDto.getSupportContactList().stream().map(SupportContactFactory::create).toList();\r\n\r\n        if (agencyUpdateDto.getNotificationEmailList() != null)\r\n            notificationEmail = agencyUpdateDto.getNotificationEmailList().stream().map(NotificationEmailFactory::create).toList();\r\n\r\n    }\r\n\r\n}\r\n```\r\n\r\n","title":"Spring boot some tests fails with @Transactional, but it run well without they","body":"<p>I'm using spring boot 3 and junit 5. I implemented this tests for check agency CRUD operations.</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n@SpringBootTest\nclass AgencyTest {\n\n    @Autowired\n    AgencyCreate agencyCreate;\n\n    @Autowired\n    AgencyUpdate agencyUpdate;\n\n    @Autowired\n    AgencyFind agencyFind;\n\n    @Autowired\n    AgencyDelete agencyDelete;\n\n    @Transactional\n    Long createAgency(){\n        AgencyCreateDto agencyCreateDto = AgencyCreateDtoMother.random();\n        return agencyCreate.create(agencyCreateDto).getResult().get(&quot;id&quot;);\n    }\n\n    @Test\n    @Transactional\n    void create_agency(){\n\n        Long agencyId = createAgency();\n        assertTrue(agencyId &gt;= 100000L);\n    }\n\n    @Test\n    @Transactional\n    void create_agency_with_invalid_parameters(){\n\n        AgencyCreateDto agencyCreateDto = AgencyCreateDto.builder()\n                .name(null)\n                .build();\n\n        assertThrows(Exception.class, () -&gt; agencyCreate.create(agencyCreateDto).getResult().get(&quot;id&quot;));\n    }\n\n    @Test\n    @Transactional\n    void update_agency(){\n\n        Long agencyId = createAgency();\n\n        AgencyUpdateDto agencyUpdateDto = AgencyUpdateDtoMother.random();\n        assertDoesNotThrow(() -&gt; agencyUpdate.update(agencyId, agencyUpdateDto));\n    }\n\n    @Test\n    @Transactional\n    void update_agency_that_not_exist(){\n\n        AgencyUpdateDto agencyUpdateDto = AgencyUpdateDtoMother.random();\n        assertThrows(Exception.class, () -&gt; agencyUpdate.update(ContentGenerator.customId(), agencyUpdateDto));\n    }\n\n    @Test\n    @Transactional\n    void find_agency_by_id(){\n\n        Long agencyId = createAgency();\n\n        Agency agency = agencyFind.findById(agencyId);\n        assertEquals(agency.getId(), agencyId);\n    }\n\n    @Test\n    @Transactional\n    void find_agency_by_id_that_not_exist(){\n\n        assertThrows(Exception.class, () -&gt; agencyFind.findById(ContentGenerator.customIdLower()));\n    }\n\n    @Test\n    @Transactional\n    void find_agency_list(){\n\n        List&lt;Agency&gt; agencyList = agencyFind.findAllCriteria(AgencyFindCriteriaMother.empty());\n        assertTrue(agencyList.size() &gt; 0);\n    }\n\n    @Test\n    @Transactional\n    void find_agency_list_using_criteria(){\n\n        AgencyCreateDto agencyCreateDto = AgencyCreateDtoMother.random();\n        Long agencyId = agencyCreate.create(agencyCreateDto).getResult().get(&quot;id&quot;);\n\n        AgencyFindCriteria agencyFindCriteria = AgencyFindCriteriaMother.randomWithSpecificName(agencyCreateDto.getName());\n        List&lt;Agency&gt; agencyList = agencyFind.findAllCriteria(agencyFindCriteria);\n\n        assertTrue(agencyList.stream().anyMatch(agency -&gt; agency.getId().equals(agencyId)));\n    }\n\n    @Test\n    @Transactional\n    void delete_agency(){\n\n        Long agencyId = createAgency();\n        assertDoesNotThrow(() -&gt; agencyDelete.deleteById(agencyId));\n    }\n\n    @Test\n    @Transactional\n    void delete_agency_that_not_exist(){\n\n        assertThrows(Exception.class, () -&gt; agencyDelete.deleteById(ContentGenerator.customId()));\n    }\n\n}\n</code></pre>\n<p>If I launch the tests without @Transactional tags, all run well, but it dirty the database.<br />\nIf I launch the test with @Transactional tags, some tests fails, for example, update_agency().\nThe error is:</p>\n<pre><code>Unexpected exception thrown: java.lang.UnsupportedOperationException\norg.opentest4j.AssertionFailedError: Unexpected exception thrown: java.lang.UnsupportedOperationException\n    at app//org.junit.jupiter.api.AssertionFailureBuilder.build(AssertionFailureBuilder.java:152)\n    at app//org.junit.jupiter.api.AssertDoesNotThrow.createAssertionFailedError(AssertDoesNotThrow.java:84)\n    at app//org.junit.jupiter.api.AssertDoesNotThrow.assertDoesNotThrow(AssertDoesNotThrow.java:53)\n    at app//org.junit.jupiter.api.AssertDoesNotThrow.assertDoesNotThrow(AssertDoesNotThrow.java:36)\n    at app//org.junit.jupiter.api.Assertions.assertDoesNotThrow(Assertions.java:3136)\n    at app//agency.AgencyTest.update_agency(AgencyTest.java:72)\n    at java.base@17.0.7/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base@17.0.7/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base@17.0.7/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base@17.0.7/java.lang.reflect.Method.invoke(Method.java:568)\n    at app//org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:727)\n    at app//org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\n    at app//org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\n    at app//org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)\n    at app//org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)\n    at app//org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)\n    at app//org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)\n    at app//org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)\n    at app//org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\n    at app//org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\n    at app//org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\n    at app//org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\n    at app//org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)\n    at app//org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)\n    at app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:217)\n    at app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:213)\n    at app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:138)\n    at app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\n    at app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at app//org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base@17.0.7/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at app//org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at app//org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base@17.0.7/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at app//org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at app//org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at app//org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\n    at app//org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n    at app//org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:96)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:75)\n    at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)\n    at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)\n    at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)\n    at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:61)\n    at java.base@17.0.7/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base@17.0.7/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base@17.0.7/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base@17.0.7/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\n    at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\n    at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\n    at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)\n    at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)\n    at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:133)\n    at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:71)\n    at app//worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)\n    at app//worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)\nCaused by: java.lang.UnsupportedOperationException\n    at java.base/java.util.ImmutableCollections.uoe(ImmutableCollections.java:142)\n    at java.base/java.util.ImmutableCollections$AbstractImmutableCollection.clear(ImmutableCollections.java:149)\n    at org.hibernate.type.CollectionType.replaceElements(CollectionType.java:525)\n    at org.hibernate.type.CollectionType.replace(CollectionType.java:705)\n    at org.hibernate.type.TypeHelper.replace(TypeHelper.java:117)\n    at org.hibernate.event.internal.DefaultMergeEventListener.copyValues(DefaultMergeEventListener.java:490)\n    at org.hibernate.event.internal.DefaultMergeEventListener.entityIsPersistent(DefaultMergeEventListener.java:211)\n    at org.hibernate.event.internal.DefaultMergeEventListener.onMerge(DefaultMergeEventListener.java:184)\n    at org.hibernate.event.internal.DefaultMergeEventListener.onMerge(DefaultMergeEventListener.java:81)\n    at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107)\n    at org.hibernate.internal.SessionImpl.fireMerge(SessionImpl.java:830)\n    at org.hibernate.internal.SessionImpl.merge(SessionImpl.java:816)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:307)\n    at jdk.proxy3/jdk.proxy3.$Proxy143.merge(Unknown Source)\n    at org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:613)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:288)\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:136)\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:120)\n    at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:516)\n    at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285)\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:628)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:168)\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:143)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n    at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:77)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n    at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n    at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:163)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:218)\n    at jdk.proxy3/jdk.proxy3.$Proxy147.save(Unknown Source)\n    at .agency.application.update.AgencyUpdate.update(AgencyUpdate.java:25)\n    at agency.AgencyTest.lambda$update_agency$1(AgencyTest.java:72)\n    at org.junit.jupiter.api.AssertDoesNotThrow.assertDoesNotThrow(AssertDoesNotThrow.java:49)\n</code></pre>\n<p>Why it fail?\nNote that this agency object is saved in three relational tables with foraign keys.\nRegards</p>\n<p><strong>ADDED MORE INFORMATION</strong></p>\n<p>AgencyUpdate class</p>\n<pre><code>@AllArgsConstructor\n@Service\npublic class AgencyUpdate {\n\n    @Autowired\n    AgencyJpaRepository agencyJpaRepository;\n\n    @Autowired\n    AgencyFind agencyFind;\n\n    public void update(Long agencyId, AgencyUpdateDto agencyUpdateDto){\n\n        Agency agency = agencyFind.findById(agencyId);\n        agency.aggregate(agencyUpdateDto);\n        agencyJpaRepository.save(agency);\n    }\n}\n</code></pre>\n<p>Agency class</p>\n<pre><code>@Getter\n@EqualsAndHashCode\n@NoArgsConstructor\n@AllArgsConstructor\n@Entity\n@DynamicUpdate\n@Builder\npublic class Agency {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    private String name;\n\n    @Column(name = &quot;technical_partner&quot;)\n    private String technicalPartner;\n\n    @Column(name = &quot;connector_partner&quot;)\n    private String connectorPartner;\n\n    private String certification;\n\n    @ElementCollection(fetch = FetchType.EAGER)\n    @CollectionTable(name = &quot;agency_support_contact&quot;, joinColumns=@JoinColumn(name = &quot;agency_id&quot;))\n    private List&lt;SupportContact&gt; supportContact;\n\n    @ElementCollection(fetch = FetchType.EAGER)\n    @CollectionTable(name = &quot;agency_notification_email&quot;, joinColumns=@JoinColumn(name = &quot;agency_id&quot;))\n    private List&lt;NotificationEmail&gt; notificationEmail;\n\n    public void aggregate(AgencyUpdateDto agencyUpdateDto){\n\n        if (agencyUpdateDto.getName() != null)\n            name = agencyUpdateDto.getName();\n\n        if (agencyUpdateDto.getTechnicalPartner() != null)\n            technicalPartner = agencyUpdateDto.getTechnicalPartner();\n\n        if (agencyUpdateDto.getConnectorPartner() != null)\n            connectorPartner = agencyUpdateDto.getConnectorPartner();\n\n        if (agencyUpdateDto.getCertification() != null)\n            certification = agencyUpdateDto.getCertification();\n\n        if (agencyUpdateDto.getSupportContactList() != null)\n            supportContact = agencyUpdateDto.getSupportContactList().stream().map(SupportContactFactory::create).toList();\n\n        if (agencyUpdateDto.getNotificationEmailList() != null)\n            notificationEmail = agencyUpdateDto.getNotificationEmailList().stream().map(NotificationEmailFactory::create).toList();\n\n    }\n\n}\n</code></pre>\n"},{"tags":["java","spring-boot","redis","spring-data-redis","amazon-elasticache"],"answers":[{"tags":[],"owner":{"account_id":11109732,"reputation":130,"user_id":8155897,"display_name":"dred dred"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1691159184,"creation_date":1691159184,"answer_id":76836828,"question_id":76835574,"body_markdown":"Found the solution in [the Spring docs][1].\r\n\r\nIn case it will be useful for someone.\r\nIt turns out that the problem was the annotation.\r\n\r\n    @EnableRedisRepositories(enableKeyspaceEvents = RedisKeyValueAdapter.EnableKeyspaceEvents.ON_STARTUP)\r\n\r\nThe annotation by default tries to set up the &quot;Ex&quot; value for the key notify-keyspace-events in Redis. \r\n\r\nThere is a note about that in the Spring docs\r\n[![enter image description here][2]][2]\r\n\r\nThe solution was to add parameter keyspaceNotificationsConfigParameter=&quot;&quot; which prevents the attempt of setting the key value\r\n\r\n    @EnableRedisRepositories(enableKeyspaceEvents = RedisKeyValueAdapter.EnableKeyspaceEvents.ON_STARTUP,\r\n        keyspaceNotificationsConfigParameter = &quot;&quot;)\r\n\r\n  [1]: https://docs.spring.io/spring-data/data-redis/docs/current/reference/html/#redis.repositories.expirations\r\n  [2]: https://i.stack.imgur.com/vPWf1.png","title":"The RedisCommandExecutionException, while Spring Data Redis execute CONFIG, GET command in the Redis server","body":"<p>Found the solution in <a href=\"https://docs.spring.io/spring-data/data-redis/docs/current/reference/html/#redis.repositories.expirations\" rel=\"nofollow noreferrer\">the Spring docs</a>.</p>\n<p>In case it will be useful for someone.\nIt turns out that the problem was the annotation.</p>\n<pre><code>@EnableRedisRepositories(enableKeyspaceEvents = RedisKeyValueAdapter.EnableKeyspaceEvents.ON_STARTUP)\n</code></pre>\n<p>The annotation by default tries to set up the &quot;Ex&quot; value for the key notify-keyspace-events in Redis.</p>\n<p>There is a note about that in the Spring docs\n<a href=\"https://i.stack.imgur.com/vPWf1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vPWf1.png\" alt=\"enter image description here\" /></a></p>\n<p>The solution was to add parameter keyspaceNotificationsConfigParameter=&quot;&quot; which prevents the attempt of setting the key value</p>\n<pre><code>@EnableRedisRepositories(enableKeyspaceEvents = RedisKeyValueAdapter.EnableKeyspaceEvents.ON_STARTUP,\n    keyspaceNotificationsConfigParameter = &quot;&quot;)\n</code></pre>\n"}],"owner":{"account_id":11109732,"reputation":130,"user_id":8155897,"display_name":"dred dred"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":401,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1691159184,"creation_date":1691149400,"question_id":76835574,"body_markdown":"I have a Spring Boot 3 based project. Which uses the Ridis server as DB. \r\nIt is a simple project and everything is auto-configured by spring-boot-starter-data-redis module\r\n\r\nThe entity:\r\n\r\n    @Data\r\n    @NoArgsConstructor\r\n    @RedisHash\r\n    public class ValidatedPhone {\r\n\r\n      @Id\r\n      private String phoneNumber;\r\n      @Indexed\r\n      private int profileId;\r\n      @TimeToLive\r\n      private long timeToLive;\r\n\r\n    }\r\n\r\nThe repository:\r\n\r\n    public interface ValidatedPhoneRepository extends CrudRepository&lt;ValidatedPhone, String&gt; {}\r\n\r\nThe configuration:\r\n\r\n    @Configuration\r\n    @ConditionalOnProperty(prefix = &quot;redis&quot;, name = &quot;enabled&quot;, havingValue = &quot;true&quot;)\r\n    @EnableRedisRepositories(enableKeyspaceEvents = \r\n    RedisKeyValueAdapter.EnableKeyspaceEvents.ON_STARTUP)\r\n    public class RedisConfiguration {\r\n    }\r\n\r\nProperties file:\r\n\r\n    spring:\r\n      data:\r\n      redis:\r\n        host: ${redis.server.url}\r\n        username: ${redis.server.user}\r\n        password: ${redis.server.password}\r\n        ssl:\r\n          enabled: true\r\n\r\n\r\nLocally, with Redis 6.2, everything works fine. The problem happens when the project is deployed to AWS Cloud with **AWS Elasticache Redis**. \r\n\r\nThe exception\r\n\r\n&gt; Caused by: io.lettuce.core.RedisCommandExecutionException: ERR unknown command `CONFIG`, with args beginning with: `GET`, `notify-keyspace-events`\r\n\r\nProbably AWS Redis has some restrictions for executing the CONFIG command.\r\n\r\nMy by I need some custom redis configuration to avoid calling CONFIG command? Or my be some other solution?","title":"The RedisCommandExecutionException, while Spring Data Redis execute CONFIG, GET command in the Redis server","body":"<p>I have a Spring Boot 3 based project. Which uses the Ridis server as DB.\nIt is a simple project and everything is auto-configured by spring-boot-starter-data-redis module</p>\n<p>The entity:</p>\n<pre><code>@Data\n@NoArgsConstructor\n@RedisHash\npublic class ValidatedPhone {\n\n  @Id\n  private String phoneNumber;\n  @Indexed\n  private int profileId;\n  @TimeToLive\n  private long timeToLive;\n\n}\n</code></pre>\n<p>The repository:</p>\n<pre><code>public interface ValidatedPhoneRepository extends CrudRepository&lt;ValidatedPhone, String&gt; {}\n</code></pre>\n<p>The configuration:</p>\n<pre><code>@Configuration\n@ConditionalOnProperty(prefix = &quot;redis&quot;, name = &quot;enabled&quot;, havingValue = &quot;true&quot;)\n@EnableRedisRepositories(enableKeyspaceEvents = \nRedisKeyValueAdapter.EnableKeyspaceEvents.ON_STARTUP)\npublic class RedisConfiguration {\n}\n</code></pre>\n<p>Properties file:</p>\n<pre><code>spring:\n  data:\n  redis:\n    host: ${redis.server.url}\n    username: ${redis.server.user}\n    password: ${redis.server.password}\n    ssl:\n      enabled: true\n</code></pre>\n<p>Locally, with Redis 6.2, everything works fine. The problem happens when the project is deployed to AWS Cloud with <strong>AWS Elasticache Redis</strong>.</p>\n<p>The exception</p>\n<blockquote>\n<p>Caused by: io.lettuce.core.RedisCommandExecutionException: ERR unknown command <code>CONFIG</code>, with args beginning with: <code>GET</code>, <code>notify-keyspace-events</code></p>\n</blockquote>\n<p>Probably AWS Redis has some restrictions for executing the CONFIG command.</p>\n<p>My by I need some custom redis configuration to avoid calling CONFIG command? Or my be some other solution?</p>\n"},{"tags":["java","mongodb","spring-boot","spring-data-mongodb","database-performance"],"comments":[{"owner":{"account_id":4565343,"reputation":12775,"user_id":3710490,"accept_rate":64,"display_name":"Valijon"},"score":0,"creation_date":1691101556,"post_id":76829834,"comment_id":135450256,"body_markdown":"You have a lot of `DBRef` attributes. Try to disable them or set `lazy=true` to test your query performance. Please provide log details, [measure elapsed](https://www.baeldung.com/java-measure-elapsed-time#java-8) time, etc.","body":"You have a lot of <code>DBRef</code> attributes. Try to disable them or set <code>lazy=true</code> to test your query performance. Please provide log details, <a href=\"https://www.baeldung.com/java-measure-elapsed-time#java-8\" rel=\"nofollow noreferrer\">measure elapsed</a> time, etc."},{"owner":{"account_id":2246079,"reputation":7967,"user_id":1979380,"accept_rate":89,"display_name":"jarvo69"},"score":0,"creation_date":1691158932,"post_id":76829834,"comment_id":135458296,"body_markdown":"My mongodb is hosted on EC2 instance which is backed by EBS volume. My Java based application is also deployed on same EC2 instance. I noticed that when I access my Java application from EC2 ip address, I am getting response for the API in milliseconds.\nHowever when the same API is being called from localhost, it is taking more than 30 seconds to fetch the data. Note that I am connecting ec2 mongodb from localhost instead of having a local setup of mongodb on my personal computer system.","body":"My mongodb is hosted on EC2 instance which is backed by EBS volume. My Java based application is also deployed on same EC2 instance. I noticed that when I access my Java application from EC2 ip address, I am getting response for the API in milliseconds. However when the same API is being called from localhost, it is taking more than 30 seconds to fetch the data. Note that I am connecting ec2 mongodb from localhost instead of having a local setup of mongodb on my personal computer system."}],"owner":{"account_id":2246079,"reputation":7967,"user_id":1979380,"accept_rate":89,"display_name":"jarvo69"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691158974,"creation_date":1691078705,"question_id":76829834,"body_markdown":"I have mongodb collection called &quot;product&quot; which contains following type of documents:\r\n\r\n\r\n    {\r\n        &quot;_id&quot; : &quot;64a1583ab9ec356358be7853&quot;,\r\n        &quot;productId&quot; : Long(&quot;7&quot;),\r\n        &quot;name&quot; : &quot;The LG 7 kg 5 Star Semi-Automatic Top Loading Washing Machine (P7020NGAZ)&quot;,\r\n        &quot;description&quot; : &quot;The LG 7 kg 5 Star Semi-Automatic Top Loading Washing Machine is designed to handle a 7 kg laundry load, making it suitable for small to medium-sized households. It features a top-loading design, allowing for easy loading and unloading of clothes. \\r\\n\\r\\nBrand  LG\\r\\nModel   P7020NGAZ\\r\\nCapacity  7 Kilograms\\r\\nMaximum Rotational Speed   1300 RPM\\r\\nInstallation Type   Free Standing\\r\\nPart Number   20NGAZ\\r\\nForm Factor  Stand alone\\r\\nSpecial Features   Wind Jet Dry, Collar Scrubber, Rat Away Technology, Rust Free Plastic Base\\r\\nControl Console   Knob\\r\\nNumber of Option Cycles  3\\r\\nAccess Location   Top Load\\r\\nVoltage   230 Volts\\r\\nWattage   360 Watts\\r\\nCertification   Energy Star\\r\\nMaterial   Plastic\\r\\nBatteries Included   No\\r\\nBatteries Required   No\\r\\nManufacturer   LG Electronics India Pvt. Ltd.\\r\\nCountry of Origin   India&quot;,\r\n        &quot;photos&quot; : [\r\n            &quot;https://electrotrade-uploads.s3.ap-south-1.amazonaws.com/photos/product/mlri14107249018289122.jpg&quot;,\r\n            &quot;https://electrotrade-uploads.s3.ap-south-1.amazonaws.com/photos/product/tl5714107248740599521.jpg&quot;,\r\n            &quot;https://electrotrade-uploads.s3.ap-south-1.amazonaws.com/photos/product/kj0z14107248662853011.jpg&quot;\r\n        ],\r\n        &quot;price&quot; : 10800.0,\r\n        &quot;sellingPrice&quot; : 10800.0,\r\n        &quot;weight&quot; : 0.0,\r\n        &quot;reward&quot; : 25.0,\r\n        &quot;gstPercentage&quot; : 4.5,\r\n        &quot;minQty&quot; : 1,\r\n        &quot;maxQty&quot; : 100,\r\n        &quot;totalStockAvailable&quot; : 150,\r\n        &quot;featuredProduct&quot; : true,\r\n        &quot;sku&quot; : &quot;&quot;,\r\n        &quot;categoryId&quot; : Long(&quot;2&quot;),\r\n        &quot;sellerId&quot; : Long(&quot;7&quot;),\r\n        &quot;subCategoryId&quot; : Long(&quot;16&quot;),\r\n        &quot;brand&quot; : DBRef(&quot;brand&quot;, &quot;64a06d723eaf681bbc77e165&quot;),\r\n        &quot;user&quot; : {\r\n            &quot;_id&quot; : &quot;64a122f6b9ec356358be7848&quot;,\r\n            &quot;email&quot; : &quot;kushaljain1256@gmail.com&quot;,\r\n            &quot;username&quot; : &quot;Kushalj&quot;,\r\n            &quot;password&quot; : &quot;{bcrypt}$2a$10$lbwmsJ.gP74thXP/HGbp7O9I6kZnzy.2NSfM5Gmx2U5HRS/9SdDRa&quot;,\r\n            &quot;firstName&quot; : &quot;Kushal &quot;,\r\n            &quot;lastName&quot; : &quot;Jain&quot;,\r\n            &quot;phoneNumber&quot; : &quot;8005812294&quot;,\r\n            &quot;userId&quot; : Long(&quot;7&quot;),\r\n            &quot;pincode&quot; : &quot;304001&quot;,\r\n            &quot;address&quot; : &quot;Sharma Colony, Tonk&quot;,\r\n            &quot;city&quot; : &quot;Tonk&quot;,\r\n            &quot;state&quot; : &quot;Rajasthan&quot;,\r\n            &quot;pancard&quot; : &quot;undefined&quot;,\r\n            &quot;aadhar&quot; : &quot;undefined&quot;,\r\n            &quot;businessName&quot; : &quot;Rajasthan Electronics&quot;,\r\n            &quot;businessType&quot; : &quot;Electronics &amp; Electrical &quot;,\r\n            &quot;walletBalance&quot; : 50.0,\r\n            &quot;active&quot; : true,\r\n            &quot;mobileVerified&quot; : true,\r\n            &quot;emailVerified&quot; : true,\r\n            &quot;subscribed&quot; : false,\r\n            &quot;referralCode&quot; : &quot;o5be9b&quot;,\r\n            &quot;deviceDetail&quot; : {\r\n                &quot;deviceToken&quot; : &quot;ekj5ioLhRXmcrk3nztNfnH:APA91bGoak8zfrW-x3Di-rr2PjQ-sIVYh_jCSgBeWj53sC0ytmndKH7YrTgoRwkb5RfVDyBf2iYeysOCMhNNtgzkvb-RBHyTsz8xKgOLWdGBD8xXwQEf4h0nJXdGQy6ZwSvle2tYb08g&quot;,\r\n                &quot;deviceType&quot; : &quot;android&quot;,\r\n                &quot;os&quot; : &quot;android&quot;,\r\n                &quot;osVersion&quot; : &quot;11&quot;,\r\n                &quot;appVersion&quot; : &quot;1.8&quot;,\r\n                &quot;lastModifiedDate&quot; : ISODate(&quot;2023-08-03T09:39:26.527+0000&quot;)\r\n            },\r\n            &quot;isReferred&quot; : false,\r\n            &quot;isPushEnabled&quot; : true,\r\n            &quot;roles&quot; : [\r\n                DBRef(&quot;role&quot;, &quot;649fbe99196ccf0b66ba0398&quot;),\r\n                DBRef(&quot;role&quot;, &quot;64a123adb9ec356358be784c&quot;)\r\n            ],\r\n            &quot;categories&quot; : [\r\n                DBRef(&quot;category&quot;, &quot;64a0598e3eaf681bbc77e160&quot;),\r\n                DBRef(&quot;category&quot;, &quot;64a057ce3eaf681bbc77e15f&quot;),\r\n                DBRef(&quot;category&quot;, &quot;64a05a323eaf681bbc77e161&quot;),\r\n                DBRef(&quot;category&quot;, &quot;64a05b8d3eaf681bbc77e162&quot;),\r\n                DBRef(&quot;category&quot;, &quot;64a05d563eaf681bbc77e163&quot;),\r\n                DBRef(&quot;category&quot;, &quot;64a0ffa73eaf681bbc77e168&quot;),\r\n                DBRef(&quot;category&quot;, &quot;64a1022e3eaf681bbc77e169&quot;),\r\n                DBRef(&quot;category&quot;, &quot;64c7ad26ef0147741249e205&quot;),\r\n                DBRef(&quot;category&quot;, &quot;64c7adabef0147741249e206&quot;),\r\n                DBRef(&quot;category&quot;, &quot;64c7a66aef0147741249e204&quot;)\r\n            ],\r\n            &quot;displayName&quot; : &quot;BO-7&quot;,\r\n            &quot;createDate&quot; : ISODate(&quot;2023-07-02T07:10:46.044+0000&quot;),\r\n            &quot;lastModifiedDate&quot; : ISODate(&quot;2023-07-31T12:53:29.658+0000&quot;)\r\n        },\r\n        &quot;note&quot; : &quot;null&quot;,\r\n        &quot;shipping&quot; : {\r\n            &quot;shippingType&quot; : &quot;ORDER_AMOUNT&quot;,\r\n            &quot;amount&quot; : 40.0,\r\n            &quot;minAmount&quot; : 80.0,\r\n            &quot;maxAmount&quot; : 120.0,\r\n            &quot;shippingAllIndia&quot; : true,\r\n            &quot;minWeight&quot; : 0.0,\r\n            &quot;maxWeight&quot; : 0.0,\r\n            &quot;range&quot; : 0.0,\r\n            &quot;createDate&quot; : ISODate(&quot;2023-08-01T16:21:15.493+0000&quot;),\r\n            &quot;lastModifiedDate&quot; : ISODate(&quot;2023-08-01T16:21:15.493+0000&quot;)\r\n        },\r\n        &quot;active&quot; : true,\r\n        &quot;createDate&quot; : ISODate(&quot;2023-07-02T10:58:02.455+0000&quot;),\r\n        &quot;lastModifiedDate&quot; : ISODate(&quot;2023-08-03T15:29:16.697+0000&quot;),\r\n        &quot;_class&quot; : &quot;com.electrotrade.model.Product&quot;\r\n    }\r\n\r\n\r\nI have around only 200 documents so far but when I query the document using Java spring boot mongo data as below query,\r\n\r\n    public interface ProductRepository extends MongoRepository&lt;Product, String&gt; {\r\n    \r\n        List&lt;Product&gt; findAll();\r\n        \r\n    }\r\n\r\n\r\nit takes more than **62 seconds**  to fetch those 200 records.\r\nThe DBRef fields are only of 4-5 simple String type fields in their own collection like for example &quot;Brand&quot; in this case.\r\n\r\nCan someone please help me how i should optimize the fetching to be more efficient as I am 100% sure that this is not the expected time for mere 200 records for mongodb to fetch.\r\nShould be hardly 1-2 seconds I guess.\r\n\r\n **Important Note** \r\n\r\nMy mongodb is hosted on EC2 instance which is backed by EBS volume. My Java based application is also deployed on same EC2 instance. I noticed that when I access my Java application from EC2 ip address, I am getting response for the API in milliseconds.\r\nHowever when the same API is being called from localhost, it is taking more than 30 seconds to fetch the data. Note that I am connecting ec2 mongodb from localhost instead of having a local setup of mongodb on my personal computer system.\r\n","title":"Slow mongodb query for just 200 simple records in collection , query optimization","body":"<p>I have mongodb collection called &quot;product&quot; which contains following type of documents:</p>\n<pre><code>{\n    &quot;_id&quot; : &quot;64a1583ab9ec356358be7853&quot;,\n    &quot;productId&quot; : Long(&quot;7&quot;),\n    &quot;name&quot; : &quot;The LG 7 kg 5 Star Semi-Automatic Top Loading Washing Machine (P7020NGAZ)&quot;,\n    &quot;description&quot; : &quot;The LG 7 kg 5 Star Semi-Automatic Top Loading Washing Machine is designed to handle a 7 kg laundry load, making it suitable for small to medium-sized households. It features a top-loading design, allowing for easy loading and unloading of clothes. \\r\\n\\r\\nBrand  LG\\r\\nModel   P7020NGAZ\\r\\nCapacity  7 Kilograms\\r\\nMaximum Rotational Speed   1300 RPM\\r\\nInstallation Type   Free Standing\\r\\nPart Number   20NGAZ\\r\\nForm Factor  Stand alone\\r\\nSpecial Features   Wind Jet Dry, Collar Scrubber, Rat Away Technology, Rust Free Plastic Base\\r\\nControl Console   Knob\\r\\nNumber of Option Cycles  3\\r\\nAccess Location   Top Load\\r\\nVoltage   230 Volts\\r\\nWattage   360 Watts\\r\\nCertification   Energy Star\\r\\nMaterial   Plastic\\r\\nBatteries Included   No\\r\\nBatteries Required   No\\r\\nManufacturer   LG Electronics India Pvt. Ltd.\\r\\nCountry of Origin   India&quot;,\n    &quot;photos&quot; : [\n        &quot;https://electrotrade-uploads.s3.ap-south-1.amazonaws.com/photos/product/mlri14107249018289122.jpg&quot;,\n        &quot;https://electrotrade-uploads.s3.ap-south-1.amazonaws.com/photos/product/tl5714107248740599521.jpg&quot;,\n        &quot;https://electrotrade-uploads.s3.ap-south-1.amazonaws.com/photos/product/kj0z14107248662853011.jpg&quot;\n    ],\n    &quot;price&quot; : 10800.0,\n    &quot;sellingPrice&quot; : 10800.0,\n    &quot;weight&quot; : 0.0,\n    &quot;reward&quot; : 25.0,\n    &quot;gstPercentage&quot; : 4.5,\n    &quot;minQty&quot; : 1,\n    &quot;maxQty&quot; : 100,\n    &quot;totalStockAvailable&quot; : 150,\n    &quot;featuredProduct&quot; : true,\n    &quot;sku&quot; : &quot;&quot;,\n    &quot;categoryId&quot; : Long(&quot;2&quot;),\n    &quot;sellerId&quot; : Long(&quot;7&quot;),\n    &quot;subCategoryId&quot; : Long(&quot;16&quot;),\n    &quot;brand&quot; : DBRef(&quot;brand&quot;, &quot;64a06d723eaf681bbc77e165&quot;),\n    &quot;user&quot; : {\n        &quot;_id&quot; : &quot;64a122f6b9ec356358be7848&quot;,\n        &quot;email&quot; : &quot;kushaljain1256@gmail.com&quot;,\n        &quot;username&quot; : &quot;Kushalj&quot;,\n        &quot;password&quot; : &quot;{bcrypt}$2a$10$lbwmsJ.gP74thXP/HGbp7O9I6kZnzy.2NSfM5Gmx2U5HRS/9SdDRa&quot;,\n        &quot;firstName&quot; : &quot;Kushal &quot;,\n        &quot;lastName&quot; : &quot;Jain&quot;,\n        &quot;phoneNumber&quot; : &quot;8005812294&quot;,\n        &quot;userId&quot; : Long(&quot;7&quot;),\n        &quot;pincode&quot; : &quot;304001&quot;,\n        &quot;address&quot; : &quot;Sharma Colony, Tonk&quot;,\n        &quot;city&quot; : &quot;Tonk&quot;,\n        &quot;state&quot; : &quot;Rajasthan&quot;,\n        &quot;pancard&quot; : &quot;undefined&quot;,\n        &quot;aadhar&quot; : &quot;undefined&quot;,\n        &quot;businessName&quot; : &quot;Rajasthan Electronics&quot;,\n        &quot;businessType&quot; : &quot;Electronics &amp; Electrical &quot;,\n        &quot;walletBalance&quot; : 50.0,\n        &quot;active&quot; : true,\n        &quot;mobileVerified&quot; : true,\n        &quot;emailVerified&quot; : true,\n        &quot;subscribed&quot; : false,\n        &quot;referralCode&quot; : &quot;o5be9b&quot;,\n        &quot;deviceDetail&quot; : {\n            &quot;deviceToken&quot; : &quot;ekj5ioLhRXmcrk3nztNfnH:APA91bGoak8zfrW-x3Di-rr2PjQ-sIVYh_jCSgBeWj53sC0ytmndKH7YrTgoRwkb5RfVDyBf2iYeysOCMhNNtgzkvb-RBHyTsz8xKgOLWdGBD8xXwQEf4h0nJXdGQy6ZwSvle2tYb08g&quot;,\n            &quot;deviceType&quot; : &quot;android&quot;,\n            &quot;os&quot; : &quot;android&quot;,\n            &quot;osVersion&quot; : &quot;11&quot;,\n            &quot;appVersion&quot; : &quot;1.8&quot;,\n            &quot;lastModifiedDate&quot; : ISODate(&quot;2023-08-03T09:39:26.527+0000&quot;)\n        },\n        &quot;isReferred&quot; : false,\n        &quot;isPushEnabled&quot; : true,\n        &quot;roles&quot; : [\n            DBRef(&quot;role&quot;, &quot;649fbe99196ccf0b66ba0398&quot;),\n            DBRef(&quot;role&quot;, &quot;64a123adb9ec356358be784c&quot;)\n        ],\n        &quot;categories&quot; : [\n            DBRef(&quot;category&quot;, &quot;64a0598e3eaf681bbc77e160&quot;),\n            DBRef(&quot;category&quot;, &quot;64a057ce3eaf681bbc77e15f&quot;),\n            DBRef(&quot;category&quot;, &quot;64a05a323eaf681bbc77e161&quot;),\n            DBRef(&quot;category&quot;, &quot;64a05b8d3eaf681bbc77e162&quot;),\n            DBRef(&quot;category&quot;, &quot;64a05d563eaf681bbc77e163&quot;),\n            DBRef(&quot;category&quot;, &quot;64a0ffa73eaf681bbc77e168&quot;),\n            DBRef(&quot;category&quot;, &quot;64a1022e3eaf681bbc77e169&quot;),\n            DBRef(&quot;category&quot;, &quot;64c7ad26ef0147741249e205&quot;),\n            DBRef(&quot;category&quot;, &quot;64c7adabef0147741249e206&quot;),\n            DBRef(&quot;category&quot;, &quot;64c7a66aef0147741249e204&quot;)\n        ],\n        &quot;displayName&quot; : &quot;BO-7&quot;,\n        &quot;createDate&quot; : ISODate(&quot;2023-07-02T07:10:46.044+0000&quot;),\n        &quot;lastModifiedDate&quot; : ISODate(&quot;2023-07-31T12:53:29.658+0000&quot;)\n    },\n    &quot;note&quot; : &quot;null&quot;,\n    &quot;shipping&quot; : {\n        &quot;shippingType&quot; : &quot;ORDER_AMOUNT&quot;,\n        &quot;amount&quot; : 40.0,\n        &quot;minAmount&quot; : 80.0,\n        &quot;maxAmount&quot; : 120.0,\n        &quot;shippingAllIndia&quot; : true,\n        &quot;minWeight&quot; : 0.0,\n        &quot;maxWeight&quot; : 0.0,\n        &quot;range&quot; : 0.0,\n        &quot;createDate&quot; : ISODate(&quot;2023-08-01T16:21:15.493+0000&quot;),\n        &quot;lastModifiedDate&quot; : ISODate(&quot;2023-08-01T16:21:15.493+0000&quot;)\n    },\n    &quot;active&quot; : true,\n    &quot;createDate&quot; : ISODate(&quot;2023-07-02T10:58:02.455+0000&quot;),\n    &quot;lastModifiedDate&quot; : ISODate(&quot;2023-08-03T15:29:16.697+0000&quot;),\n    &quot;_class&quot; : &quot;com.electrotrade.model.Product&quot;\n}\n</code></pre>\n<p>I have around only 200 documents so far but when I query the document using Java spring boot mongo data as below query,</p>\n<pre><code>public interface ProductRepository extends MongoRepository&lt;Product, String&gt; {\n\n    List&lt;Product&gt; findAll();\n    \n}\n</code></pre>\n<p>it takes more than <strong>62 seconds</strong>  to fetch those 200 records.\nThe DBRef fields are only of 4-5 simple String type fields in their own collection like for example &quot;Brand&quot; in this case.</p>\n<p>Can someone please help me how i should optimize the fetching to be more efficient as I am 100% sure that this is not the expected time for mere 200 records for mongodb to fetch.\nShould be hardly 1-2 seconds I guess.</p>\n<p><strong>Important Note</strong></p>\n<p>My mongodb is hosted on EC2 instance which is backed by EBS volume. My Java based application is also deployed on same EC2 instance. I noticed that when I access my Java application from EC2 ip address, I am getting response for the API in milliseconds.\nHowever when the same API is being called from localhost, it is taking more than 30 seconds to fetch the data. Note that I am connecting ec2 mongodb from localhost instead of having a local setup of mongodb on my personal computer system.</p>\n"},{"tags":["java","jsp","struts2","displaytag"],"answers":[{"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1367933586,"creation_date":1367933586,"answer_id":16420394,"question_id":16420101,"body_markdown":"You could take a value from\r\n\r\n    &lt;display:table uid=&quot;row&quot; id=&quot;conf&quot; name=&quot;users&quot; requestURI=&quot;viewUsers.action&quot; pagesize=&quot;10&quot;&gt;\r\n      &lt;display:column title=&quot;Edit&quot; scope=&quot;request&quot;&gt;\r\n        &lt;input type=&quot;radio&quot; name=&quot;selectedUser[%{#attr.row_rowNum - 1}]&quot;  value=&quot;&lt;s:property value=&quot;%{#attr.row.username}&quot;/&gt;&quot; onclick=&quot;getValue()&quot; /&gt;\r\n\r\nto `selectedUser` list. \r\n\r\n`${}` is for EL expressions to reference attributes that you haven&#39;t put into request or session, etc.\r\n","title":"Struts 2 display tag/radio button","body":"<p>You could take a value from</p>\n\n<pre><code>&lt;display:table uid=\"row\" id=\"conf\" name=\"users\" requestURI=\"viewUsers.action\" pagesize=\"10\"&gt;\n  &lt;display:column title=\"Edit\" scope=\"request\"&gt;\n    &lt;input type=\"radio\" name=\"selectedUser[%{#attr.row_rowNum - 1}]\"  value=\"&lt;s:property value=\"%{#attr.row.username}\"/&gt;\" onclick=\"getValue()\" /&gt;\n</code></pre>\n\n<p>to <code>selectedUser</code> list. </p>\n\n<p><code>${}</code> is for EL expressions to reference attributes that you haven't put into request or session, etc.</p>\n"}],"owner":{"account_id":2735686,"reputation":33,"user_id":2358426,"accept_rate":25,"display_name":"user2358426"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2867,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1691158653,"creation_date":1367932629,"question_id":16420101,"body_markdown":"I had a working display tag radio button with the below code. Below is the code :\r\n\r\n     &lt;s:form action=&quot;deleteUser.action&quot; method=&quot;post&quot;&gt;\r\n        &lt;display:table id=&quot;conf&quot; name=&quot;users&quot; requestURI=&quot;viewUsers.action&quot; pagesize=&quot;10&quot;&gt;\r\n            &lt;display:column title=&quot;Edit&quot; scope=&quot;request&quot;&gt;\r\n                &lt;input type=&quot;radio&quot; name=&quot;selectedUser&quot; value=&quot;${conf.username}&quot; onclick=&quot;getValue()&quot; /&gt;\r\n            &lt;/display:column&gt;\r\n            &lt;display:column property=&quot;username&quot; title=&quot;User Name&quot; /&gt;\r\n            &lt;display:column property=&quot;email&quot; title=&quot;Email&quot; /&gt;\r\n            &lt;display:column property=&quot;role&quot; title=&quot;Role&quot; /&gt;&lt;/display:table&gt;&lt;s:submit method=&quot;deleteUser&quot; key=&quot;Delete User&quot; align=&quot;center&quot; /&gt;\r\n    &lt;/s:form&gt;\r\n\r\nI have upgraded `strtus2-core-2.3.4.jar` to `strtus2-core-2.3.14.jar` and some other jars. \r\n\r\nNow when I select a radio button and click &quot;submit&quot; I do not get the underlying value of the radio button instead I get `${conf.username}` into my POJO field. Did anyone face this? Am I missing any libraries?","title":"Struts 2 display tag/radio button","body":"<p>I had a working display tag radio button with the below code. Below is the code :</p>\n<pre><code> &lt;s:form action=&quot;deleteUser.action&quot; method=&quot;post&quot;&gt;\n    &lt;display:table id=&quot;conf&quot; name=&quot;users&quot; requestURI=&quot;viewUsers.action&quot; pagesize=&quot;10&quot;&gt;\n        &lt;display:column title=&quot;Edit&quot; scope=&quot;request&quot;&gt;\n            &lt;input type=&quot;radio&quot; name=&quot;selectedUser&quot; value=&quot;${conf.username}&quot; onclick=&quot;getValue()&quot; /&gt;\n        &lt;/display:column&gt;\n        &lt;display:column property=&quot;username&quot; title=&quot;User Name&quot; /&gt;\n        &lt;display:column property=&quot;email&quot; title=&quot;Email&quot; /&gt;\n        &lt;display:column property=&quot;role&quot; title=&quot;Role&quot; /&gt;&lt;/display:table&gt;&lt;s:submit method=&quot;deleteUser&quot; key=&quot;Delete User&quot; align=&quot;center&quot; /&gt;\n&lt;/s:form&gt;\n</code></pre>\n<p>I have upgraded <code>strtus2-core-2.3.4.jar</code> to <code>strtus2-core-2.3.14.jar</code> and some other jars.</p>\n<p>Now when I select a radio button and click &quot;submit&quot; I do not get the underlying value of the radio button instead I get <code>${conf.username}</code> into my POJO field. Did anyone face this? Am I missing any libraries?</p>\n"},{"tags":["java","sql","sonarqube"],"comments":[{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1691173007,"post_id":76836394,"comment_id":135461190,"body_markdown":"You can try creating a method for the query, that may fool Sonar. Otherwise mark this as &quot;false positive&quot; in the Sonar UI (if you have one), with a comment why.","body":"You can try creating a method for the query, that may fool Sonar. Otherwise mark this as &quot;false positive&quot; in the Sonar UI (if you have one), with a comment why."}],"answers":[{"tags":[],"owner":{"account_id":4895504,"reputation":702,"user_id":4253293,"accept_rate":50,"display_name":"Steve"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1691158603,"creation_date":1691158603,"answer_id":76836754,"question_id":76836394,"body_markdown":"Your query (as shown) is correct and is not actually vulnerable to SQL injection.  That said, there are difficulties in writing a static code analyzer.  It sees that you are building a SQL query and concatenating based on input which is THE classic marker for a SQL injection vulnerability.\r\n\r\nThis is one of those situations where it&#39;s probably easier just to refactor your code than to try to fix the tool.  Tools like Sonar really are great and they find a lot of good stuff, but sometimes you get a false positive.  I would NOT just ignore it ... you don&#39;t want to get in the habit of ignoring warnings about something like SQL Injection.","title":"Conditional NULL check in prepared statement Sonar error","body":"<p>Your query (as shown) is correct and is not actually vulnerable to SQL injection.  That said, there are difficulties in writing a static code analyzer.  It sees that you are building a SQL query and concatenating based on input which is THE classic marker for a SQL injection vulnerability.</p>\n<p>This is one of those situations where it's probably easier just to refactor your code than to try to fix the tool.  Tools like Sonar really are great and they find a lot of good stuff, but sometimes you get a false positive.  I would NOT just ignore it ... you don't want to get in the habit of ignoring warnings about something like SQL Injection.</p>\n"}],"owner":{"account_id":7576582,"reputation":120,"user_id":5748763,"display_name":"Ratoone"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1691158603,"creation_date":1691155729,"question_id":76836394,"body_markdown":"I&#39;m trying to write a prepared statement in Java to conditionally filter for rows that contain or not a certain field. However, Sonar gives me a linter error: `This use of java/sql/Connection.prepareStatement(Ljava/lang/String;)Ljava/sql/PreparedStatement; can be vulnerable to SQL injection (with JDBC)`. The query looks like this:\r\n```java\r\nString query = &quot;SELECT * from my_table t &quot; +\r\n    &quot;WHERE t.connection_id IS &quot; + (connected ? &quot;NOT &quot; : &quot;&quot;) + &quot;NULL &quot; +\r\n    (search.isEmpty() ? &quot;&quot; : &quot;AND (t.source LIKE ?)&quot;);\r\nPreparedStatement statement = connection.prepareStatement(query);\r\n```\r\nWhat&#39;s interesting is that I didn&#39;t get the error when I only had the search in place - so I expected to have the error for either both the search and the filter, or for neither of them. \r\n\r\nI have tried also to change the second line to:\r\n```\r\n&quot;WHERE &quot; + (connected ? &quot;t.connection_id IS NOT NULL &quot; : &quot;t.connection_id IS NULL &quot;) +\r\n```\r\nbut no change. Am I missing something? Is there something I can do to fix the error, or should I just ignore it?","title":"Conditional NULL check in prepared statement Sonar error","body":"<p>I'm trying to write a prepared statement in Java to conditionally filter for rows that contain or not a certain field. However, Sonar gives me a linter error: <code>This use of java/sql/Connection.prepareStatement(Ljava/lang/String;)Ljava/sql/PreparedStatement; can be vulnerable to SQL injection (with JDBC)</code>. The query looks like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String query = &quot;SELECT * from my_table t &quot; +\n    &quot;WHERE t.connection_id IS &quot; + (connected ? &quot;NOT &quot; : &quot;&quot;) + &quot;NULL &quot; +\n    (search.isEmpty() ? &quot;&quot; : &quot;AND (t.source LIKE ?)&quot;);\nPreparedStatement statement = connection.prepareStatement(query);\n</code></pre>\n<p>What's interesting is that I didn't get the error when I only had the search in place - so I expected to have the error for either both the search and the filter, or for neither of them.</p>\n<p>I have tried also to change the second line to:</p>\n<pre><code>&quot;WHERE &quot; + (connected ? &quot;t.connection_id IS NOT NULL &quot; : &quot;t.connection_id IS NULL &quot;) +\n</code></pre>\n<p>but no change. Am I missing something? Is there something I can do to fix the error, or should I just ignore it?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1394089,"reputation":40460,"user_id":1424875,"accept_rate":86,"display_name":"nanofarad"},"score":20,"creation_date":1376594908,"post_id":18260213,"comment_id":26779888,"body_markdown":"Why don&#39;t you try it?","body":"Why don&#39;t you try it?"},{"owner":{"account_id":1306954,"reputation":11661,"user_id":1255746,"accept_rate":78,"display_name":"Josh M"},"score":1,"creation_date":1376594956,"post_id":18260213,"comment_id":26779914,"body_markdown":"The default value of a numerical data type is 0, so yes.","body":"The default value of a numerical data type is 0, so yes."},{"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":3,"creation_date":1376600576,"post_id":18260213,"comment_id":26783009,"body_markdown":"There is positive and negative zero and `x == 0` tests for both and will never give you an exception or error. You only get a divide by zero error to you divide two *integers* and the denominator is 0. Since you are using floating point, you will never get an exception.","body":"There is positive and negative zero and <code>x == 0</code> tests for both and will never give you an exception or error. You only get a divide by zero error to you divide two <i>integers</i> and the denominator is 0. Since you are using floating point, you will never get an exception."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1376612458,"post_id":18260213,"comment_id":26786747,"body_markdown":"&quot;&#39;x&#39; hasn&#39;t been set to anything yet&quot;. Yes it has. It is a member variable, so it is set to zero by default.","body":"&quot;&#39;x&#39; hasn&#39;t been set to anything yet&quot;. Yes it has. It is a member variable, so it is set to zero by default."}],"answers":[{"tags":[],"owner":{"account_id":15988,"reputation":872868,"user_id":34397,"accept_rate":87,"display_name":"SLaks"},"down_vote_count":2,"up_vote_count":14,"is_accepted":false,"score":12,"last_activity_date":1376594997,"creation_date":1376594997,"answer_id":18260244,"question_id":18260213,"body_markdown":"Yes; all primitive numeric types default to `0`.\r\n\r\nHowever, calculations involving floating-point types (`double` and `float`) can be imprecise, so it&#39;s usually better to check whether it&#39;s _close_ to `0`:\r\n\r\n    if (Math.abs(foo.x) &lt; 2 * Double.MIN_VALUE)\r\n\r\nYou need to [pick a margin of error](https://stackoverflow.com/q/3728246/34397), which is not simple.","title":"How to test if a double is zero?","body":"<p>Yes; all primitive numeric types default to <code>0</code>.</p>\n\n<p>However, calculations involving floating-point types (<code>double</code> and <code>float</code>) can be imprecise, so it's usually better to check whether it's <em>close</em> to <code>0</code>:</p>\n\n<pre><code>if (Math.abs(foo.x) &lt; 2 * Double.MIN_VALUE)\n</code></pre>\n\n<p>You need to <a href=\"https://stackoverflow.com/q/3728246/34397\">pick a margin of error</a>, which is not simple.</p>\n"},{"tags":[],"owner":{"account_id":253003,"reputation":10963,"user_id":531398,"accept_rate":93,"display_name":"William Morrison"},"down_vote_count":1,"up_vote_count":70,"is_accepted":true,"score":69,"last_activity_date":1480590196,"creation_date":1376595060,"answer_id":18260267,"question_id":18260213,"body_markdown":"Numeric primitives in class scope are initialized to zero when not explicitly initialized.\r\n\r\nNumeric primitives in local scope (variables in methods) must be explicitly initialized.\r\n\r\nIf you are only worried about division by zero exceptions, checking that your double is not *exactly* zero works great.\r\n\r\n    if(value != 0)\r\n        //divide by value is safe when value is not exactly zero.\r\n\r\n*Otherwise* when checking if a floating point value like `double` or `float` is 0, an error threshold is used to detect if the value is near 0, but not **quite** 0.\r\n\r\n    public boolean isZero(double value, double threshold){\r\n        return value &gt;= -threshold &amp;&amp; value &lt;= threshold;\r\n    }","title":"How to test if a double is zero?","body":"<p>Numeric primitives in class scope are initialized to zero when not explicitly initialized.</p>\n\n<p>Numeric primitives in local scope (variables in methods) must be explicitly initialized.</p>\n\n<p>If you are only worried about division by zero exceptions, checking that your double is not <em>exactly</em> zero works great.</p>\n\n<pre><code>if(value != 0)\n    //divide by value is safe when value is not exactly zero.\n</code></pre>\n\n<p><em>Otherwise</em> when checking if a floating point value like <code>double</code> or <code>float</code> is 0, an error threshold is used to detect if the value is near 0, but not <strong>quite</strong> 0.</p>\n\n<pre><code>public boolean isZero(double value, double threshold){\n    return value &gt;= -threshold &amp;&amp; value &lt;= threshold;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3148519,"reputation":3710,"user_id":2662475,"display_name":"Xabster"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1376595071,"creation_date":1376595071,"answer_id":18260271,"question_id":18260213,"body_markdown":"Yes, it&#39;s a valid test although there&#39;s an implicit conversion from int to double. For clarity/simplicity you should use (foo.x == 0.0) to test. That will hinder NAN errors/division by zero, but the double value can in some cases be very very very close to 0, but not exactly zero, and then the test will fail (I&#39;m talking about in general now, not your code). Division by that will give huge numbers.\r\n\r\nIf this has anything to do with money, do not use float or double, instead use BigDecimal.","title":"How to test if a double is zero?","body":"<p>Yes, it's a valid test although there's an implicit conversion from int to double. For clarity/simplicity you should use (foo.x == 0.0) to test. That will hinder NAN errors/division by zero, but the double value can in some cases be very very very close to 0, but not exactly zero, and then the test will fail (I'm talking about in general now, not your code). Division by that will give huge numbers.</p>\n\n<p>If this has anything to do with money, do not use float or double, instead use BigDecimal.</p>\n"},{"tags":[],"owner":{"account_id":3143326,"reputation":379,"user_id":2658346,"display_name":"AlbertGarde"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1478882919,"creation_date":1376595691,"answer_id":18260464,"question_id":18260213,"body_markdown":"In Java, 0 is the same as 0.0, and doubles default to 0 (though many advise always setting them explicitly for improved readability).\r\nI have checked and `foo.x == 0` and `foo.x == 0.0` are both true if `foo.x` is zero","title":"How to test if a double is zero?","body":"<p>In Java, 0 is the same as 0.0, and doubles default to 0 (though many advise always setting them explicitly for improved readability).\nI have checked and <code>foo.x == 0</code> and <code>foo.x == 0.0</code> are both true if <code>foo.x</code> is zero</p>\n"},{"tags":[],"owner":{"account_id":10025482,"reputation":1,"user_id":7413774,"display_name":"Kaibo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691158592,"creation_date":1689693732,"answer_id":76714319,"question_id":18260213,"body_markdown":"``` java\r\n  // The float data type is a single-precision 32-bit IEEE 754 floating-point number, which has a precision of approximately 6-7 decimal digits.\r\n  public static boolean isZero(float val) {\r\n    return Math.abs(val) &lt; 1e-6;\r\n  }\r\n\r\n  // The double data type is a double-precision 64-bit IEEE 754 floating-point number, which has a precision of approximately 15-16 decimal digits.\r\n  public static boolean isZero(double val) {\r\n    return Math.abs(val) &lt; 1e-15;\r\n  }\r\n```","title":"How to test if a double is zero?","body":"<pre class=\"lang-java prettyprint-override\"><code>  // The float data type is a single-precision 32-bit IEEE 754 floating-point number, which has a precision of approximately 6-7 decimal digits.\n  public static boolean isZero(float val) {\n    return Math.abs(val) &lt; 1e-6;\n  }\n\n  // The double data type is a double-precision 64-bit IEEE 754 floating-point number, which has a precision of approximately 15-16 decimal digits.\n  public static boolean isZero(double val) {\n    return Math.abs(val) &lt; 1e-15;\n  }\n</code></pre>\n"}],"owner":{"account_id":110195,"reputation":38771,"user_id":291701,"accept_rate":66,"display_name":"user291701"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":187858,"favorite_count":0,"down_vote_count":2,"up_vote_count":66,"accepted_answer_id":18260267,"answer_count":5,"score":64,"last_activity_date":1691158592,"creation_date":1376594881,"question_id":18260213,"body_markdown":"I have some code like this:\r\n\r\n    class Foo {\r\n        public double x;\r\n    }\r\n\r\n    void test() {\r\n        Foo foo = new Foo();\r\n\r\n        // Is this a valid way to test for zero? &#39;x&#39; hasn&#39;t been set to anything yet.\r\n        if (foo.x == 0) {\r\n\r\n        }\r\n\r\n        foo.x = 0.0;\r\n        \r\n        // Will the same test be valid?\r\n        if (foo.x == 0) {\r\n        \r\n        }\r\n    }\r\n\r\nI basically want to avoid a divide-by-zero exception in the future.\r\n\r\nThanks","title":"How to test if a double is zero?","body":"<p>I have some code like this:</p>\n\n<pre><code>class Foo {\n    public double x;\n}\n\nvoid test() {\n    Foo foo = new Foo();\n\n    // Is this a valid way to test for zero? 'x' hasn't been set to anything yet.\n    if (foo.x == 0) {\n\n    }\n\n    foo.x = 0.0;\n\n    // Will the same test be valid?\n    if (foo.x == 0) {\n\n    }\n}\n</code></pre>\n\n<p>I basically want to avoid a divide-by-zero exception in the future.</p>\n\n<p>Thanks</p>\n"},{"tags":["java","log4j2"],"comments":[{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1691158115,"post_id":76836676,"comment_id":135458106,"body_markdown":"If this is running on an application server like Tomcat, it should be possible to configure some of the appenders in a per-server log file, and some in your application code. Otherwise, perhaps you can deploy the logging config file per server separately, instead of including it in the jar/war file.","body":"If this is running on an application server like Tomcat, it should be possible to configure some of the appenders in a per-server log file, and some in your application code. Otherwise, perhaps you can deploy the logging config file per server separately, instead of including it in the jar/war file."},{"owner":{"account_id":484284,"reputation":4001,"user_id":899863,"display_name":"Ibrahim Mezouar"},"score":0,"creation_date":1691159293,"post_id":76836676,"comment_id":135458387,"body_markdown":"Actually the tool using this is Talend ETL, and I don&#39;t have much control over it, I can just modify the log4j xml configuration file and pass some variables to the java command if necessary","body":"Actually the tool using this is Talend ETL, and I don&#39;t have much control over it, I can just modify the log4j xml configuration file and pass some variables to the java command if necessary"},{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1691174569,"post_id":76836676,"comment_id":135461473,"body_markdown":"But that&#39;s enough, right? Just make sure that the socket appender is only included right environment&#39;s config files","body":"But that&#39;s enough, right? Just make sure that the socket appender is only included right environment&#39;s config files"},{"owner":{"account_id":484284,"reputation":4001,"user_id":899863,"display_name":"Ibrahim Mezouar"},"score":0,"creation_date":1691246507,"post_id":76836676,"comment_id":135467620,"body_markdown":"No actually, the Talend job (which is a java program) is built once by the developer and deployed to different environments. So ideally someone can suggest how to suppress these errors for environments where the socket appender can&#39;t connect to the server","body":"No actually, the Talend job (which is a java program) is built once by the developer and deployed to different environments. So ideally someone can suggest how to suppress these errors for environments where the socket appender can&#39;t connect to the server"}],"owner":{"account_id":484284,"reputation":4001,"user_id":899863,"display_name":"Ibrahim Mezouar"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1691157870,"creation_date":1691157870,"question_id":76836676,"body_markdown":"I am using a Socket appender, like this\r\n\r\n    &lt;Socket name=&quot;Socket&quot; host=&quot;localhost&quot; port=&quot;24224&quot; reconnectionDelay=&quot;5000&quot; immediateFlush=&quot;true&quot;&gt;\r\n                &lt;PatternLayout&gt;\r\n    \t\t\t\t&lt;charset&gt;UTF-8&lt;/charset&gt;\r\n    \t\t\t\t&lt;alwaysWriteExceptions&gt;false&lt;/alwaysWriteExceptions&gt;\r\n                    &lt;Pattern&gt;\r\n                        {&quot;key&quot;: &quot;value&quot;}\r\n                    &lt;/Pattern&gt;\r\n                &lt;/PatternLayout&gt;\r\n            &lt;/Socket&gt;\r\n\r\nHowever in some environments, the server is not installed and I get an exception in the logs\r\n\r\n    2023-08-04 13:56:58,708 main ERROR TcpSocketManager (TCP:localhost:24224) caught exception and will continue: java.io.IOException: Unable to create socket for localhost at port 24224 using ip addresses and ports , 0:0:0:0:0:0:0:1:24224\r\n    \tat org.apache.logging.log4j.core.net.TcpSocketManager$TcpSocketManagerFactory.createSocket(TcpSocketManager.java:506)\r\n    \tat org.apache.logging.log4j.core.net.TcpSocketManager$TcpSocketManagerFactory.createManager(TcpSocketManager.java:475)\r\n    \tat org.apache.logging.log4j.core.net.TcpSocketManager$TcpSocketManagerFactory.createManager(TcpSocketManager.java:456)\r\n    \tat org.apache.logging.log4j.core.appender.AbstractManager.getManager(AbstractManager.java:113)\r\n    \tat org.apache.logging.log4j.core.appender.OutputStreamManager.getManager(OutputStreamManager.java:114)\r\n    \tat org.apache.logging.log4j.core.net.TcpSocketManager.getSocketManager(TcpSocketManager.java:202)\r\n    \tat org.apache.logging.log4j.core.appender.SocketAppender.createSocketManager(SocketAppender.java:443)\r\n    \tat org.apache.logging.log4j.core.appender.SocketAppender$Builder.build(SocketAppender.java:221)\r\n    \tat org.apache.logging.log4j.core.appender.SocketAppender$Builder.build(SocketAppender.java:195)\r\n    \tat org.apache.logging.log4j.core.config.plugins.util.PluginBuilder.build(PluginBuilder.java:122)\r\n    \tat org.apache.logging.log4j.core.config.AbstractConfiguration.createPluginObject(AbstractConfiguration.java:1002)\r\n    \tat org.apache.logging.log4j.core.config.AbstractConfiguration.createConfiguration(AbstractConfiguration.java:942)\r\n    \tat org.apache.logging.log4j.core.config.AbstractConfiguration.createConfiguration(AbstractConfiguration.java:934)\r\n    \tat org.apache.logging.log4j.core.config.AbstractConfiguration.doConfigure(AbstractConfiguration.java:552)\r\n    \tat org.apache.logging.log4j.core.config.AbstractConfiguration.initialize(AbstractConfiguration.java:241)\r\n    \tat org.apache.logging.log4j.core.config.AbstractConfiguration.start(AbstractConfiguration.java:288)\r\n    \tat org.apache.logging.log4j.core.LoggerContext.setConfiguration(LoggerContext.java:579)\r\n    \tat org.apache.logging.log4j.core.LoggerContext.reconfigure(LoggerContext.java:651)\r\n    \tat org.apache.logging.log4j.core.LoggerContext.reconfigure(LoggerContext.java:668)\r\n    \tat org.apache.logging.log4j.core.LoggerContext.start(LoggerContext.java:253)\r\n    \tat org.apache.logging.log4j.core.impl.Log4jContextFactory.getContext(Log4jContextFactory.java:153)\r\n    \tat org.apache.logging.log4j.core.impl.Log4jContextFactory.getContext(Log4jContextFactory.java:45)\r\n    \tat org.apache.logging.log4j.LogManager.getContext(LogManager.java:194)\r\n    \tat org.apache.logging.log4j.LogManager.getLogger(LogManager.java:581)\r\n    \tat p_outils.httptest_0_1.httpTest.&lt;clinit&gt;(httpTest.java:59)\r\n\r\nHow can I suppress these errors? Or tell log4j2 not to instantiate this appender based on an environment variable?","title":"log4j2 suppress appender exception","body":"<p>I am using a Socket appender, like this</p>\n<pre><code>&lt;Socket name=&quot;Socket&quot; host=&quot;localhost&quot; port=&quot;24224&quot; reconnectionDelay=&quot;5000&quot; immediateFlush=&quot;true&quot;&gt;\n            &lt;PatternLayout&gt;\n                &lt;charset&gt;UTF-8&lt;/charset&gt;\n                &lt;alwaysWriteExceptions&gt;false&lt;/alwaysWriteExceptions&gt;\n                &lt;Pattern&gt;\n                    {&quot;key&quot;: &quot;value&quot;}\n                &lt;/Pattern&gt;\n            &lt;/PatternLayout&gt;\n        &lt;/Socket&gt;\n</code></pre>\n<p>However in some environments, the server is not installed and I get an exception in the logs</p>\n<pre><code>2023-08-04 13:56:58,708 main ERROR TcpSocketManager (TCP:localhost:24224) caught exception and will continue: java.io.IOException: Unable to create socket for localhost at port 24224 using ip addresses and ports , 0:0:0:0:0:0:0:1:24224\n    at org.apache.logging.log4j.core.net.TcpSocketManager$TcpSocketManagerFactory.createSocket(TcpSocketManager.java:506)\n    at org.apache.logging.log4j.core.net.TcpSocketManager$TcpSocketManagerFactory.createManager(TcpSocketManager.java:475)\n    at org.apache.logging.log4j.core.net.TcpSocketManager$TcpSocketManagerFactory.createManager(TcpSocketManager.java:456)\n    at org.apache.logging.log4j.core.appender.AbstractManager.getManager(AbstractManager.java:113)\n    at org.apache.logging.log4j.core.appender.OutputStreamManager.getManager(OutputStreamManager.java:114)\n    at org.apache.logging.log4j.core.net.TcpSocketManager.getSocketManager(TcpSocketManager.java:202)\n    at org.apache.logging.log4j.core.appender.SocketAppender.createSocketManager(SocketAppender.java:443)\n    at org.apache.logging.log4j.core.appender.SocketAppender$Builder.build(SocketAppender.java:221)\n    at org.apache.logging.log4j.core.appender.SocketAppender$Builder.build(SocketAppender.java:195)\n    at org.apache.logging.log4j.core.config.plugins.util.PluginBuilder.build(PluginBuilder.java:122)\n    at org.apache.logging.log4j.core.config.AbstractConfiguration.createPluginObject(AbstractConfiguration.java:1002)\n    at org.apache.logging.log4j.core.config.AbstractConfiguration.createConfiguration(AbstractConfiguration.java:942)\n    at org.apache.logging.log4j.core.config.AbstractConfiguration.createConfiguration(AbstractConfiguration.java:934)\n    at org.apache.logging.log4j.core.config.AbstractConfiguration.doConfigure(AbstractConfiguration.java:552)\n    at org.apache.logging.log4j.core.config.AbstractConfiguration.initialize(AbstractConfiguration.java:241)\n    at org.apache.logging.log4j.core.config.AbstractConfiguration.start(AbstractConfiguration.java:288)\n    at org.apache.logging.log4j.core.LoggerContext.setConfiguration(LoggerContext.java:579)\n    at org.apache.logging.log4j.core.LoggerContext.reconfigure(LoggerContext.java:651)\n    at org.apache.logging.log4j.core.LoggerContext.reconfigure(LoggerContext.java:668)\n    at org.apache.logging.log4j.core.LoggerContext.start(LoggerContext.java:253)\n    at org.apache.logging.log4j.core.impl.Log4jContextFactory.getContext(Log4jContextFactory.java:153)\n    at org.apache.logging.log4j.core.impl.Log4jContextFactory.getContext(Log4jContextFactory.java:45)\n    at org.apache.logging.log4j.LogManager.getContext(LogManager.java:194)\n    at org.apache.logging.log4j.LogManager.getLogger(LogManager.java:581)\n    at p_outils.httptest_0_1.httpTest.&lt;clinit&gt;(httpTest.java:59)\n</code></pre>\n<p>How can I suppress these errors? Or tell log4j2 not to instantiate this appender based on an environment variable?</p>\n"},{"tags":["java","spring","jpa","spring-batch"],"comments":[{"owner":{"account_id":5300710,"reputation":269,"user_id":4230445,"display_name":"rahulP"},"score":0,"creation_date":1691176024,"post_id":76827192,"comment_id":135461710,"body_markdown":"please check once if you are able to run the generated query directly to the database and it is giving response.","body":"please check once if you are able to run the generated query directly to the database and it is giving response."}],"owner":{"account_id":26409232,"reputation":1,"user_id":20058531,"display_name":"Priya"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691157658,"creation_date":1691058428,"question_id":76827192,"body_markdown":"I am trying to copy 100k records from `db2` to `h2` using `spring batch` but I am facing the following issue. \r\n\r\n```\r\n    @Bean\r\n    public RepositoryItemReader&lt;TIPACLDEntity&gt; itemReader(){\r\n        RepositoryItemReader&lt;TIPACLDEntity&gt; repositoryItemReader = new RepositoryItemReader&lt;&gt;();\r\n        repositoryItemReader.setRepository(tipacldRepository);\r\n        repositoryItemReader.setMethodName(&quot;findAll&quot;);\r\n        repositoryItemReader.setPageSize(2000);\r\n        Map&lt;String, Sort.Direction&gt; sorts = new HashMap&lt;&gt;();\r\n        repositoryItemReader.setSort(sorts);\r\n        return repositoryItemReader;\r\n    }\r\n\r\n    @Bean\r\n    public Step step() {\r\n        Step step = stepBuilderFactory.get(&quot;gcms-extract-step&quot;)\r\n                .&lt;TIPACLDEntity, IpmClringMsgEntity&gt;chunk(100)\r\n                .reader(itemReader())\r\n                .processor(itemProcessor)\r\n                .writer(itemWriter)\r\n                .taskExecutor(taskExecutor())\r\n                .build();\r\n\r\n        return step;\r\n    }\r\n\r\n    @Bean\r\n    public TaskExecutor taskExecutor() {\r\n        SimpleAsyncTaskExecutor simpleAsyncTaskExecutor = new SimpleAsyncTaskExecutor();\r\n        simpleAsyncTaskExecutor.setConcurrencyLimit(10);\r\n        return simpleAsyncTaskExecutor;\r\n    }\r\n\r\n    @Bean\r\n    public Job job() {\r\n        Job job = jobBuilderFactory.get(&quot;gcms-extract-job&quot;)\r\n                .incrementer(new RunIdIncrementer())\r\n                .start(step())\r\n                .build();\r\n        return job;\r\n    }\r\n```\r\nI think it is not able to create pages of size 2000 properly and jump to the next page. Is there anything I am missing in the batch config?`\r\n\r\nThe error is:\r\n\r\n&gt; org.springframework.dao.InvalidDataAccessResourceUsageException: could not extract ResultSet; SQL [n/a]; nested exception is org.hibernate.exception.SQLGrammarException: could not extract ResultSet\r\n\r\nThe query created for the second page is:\r\n\r\n```\r\nSELECT *\r\nFROM\r\n  (SELECT inner2_.*,\r\n          rownumber() over(ORDER BY ORDER OF inner2_) AS rownumber_\r\n   FROM\r\n     (SELECT tipacldent0_.CLR_LVL_DTL_ID AS clr_lvl_1_0_,\r\n             tipacldent0_.PRCSS_DT AS prcss_dt2_0_,\r\n             tipacldent0_.CLR_DTL_REC_TXT AS clr_dtl_3_0_,\r\n             tipacldent0_.CNSMD_SW AS cnsmd_sw4_0_,\r\n             tipacldent0_.CRTE_TS AS crte_ts5_0_,\r\n             tipacldent0_.PARTN_NUM AS partn_nu6_0_,\r\n             tipacldent0_.PRCSS_AGRMT_ID AS prcss_ag7_0_,\r\n             tipacldent0_.UPDT_TS AS updt_ts8_0_\r\n      FROM TIPACLD tipacldent0_\r\n      FETCH FIRST 4000 ROWS ONLY) AS inner2_\r\n) AS inner1_\r\nWHERE rownumber_ &gt; 2000\r\nORDER BY rownumber_\r\n```","title":"copy records from db2 to h2 using spring batch","body":"<p>I am trying to copy 100k records from <code>db2</code> to <code>h2</code> using <code>spring batch</code> but I am facing the following issue.</p>\n<pre><code>    @Bean\n    public RepositoryItemReader&lt;TIPACLDEntity&gt; itemReader(){\n        RepositoryItemReader&lt;TIPACLDEntity&gt; repositoryItemReader = new RepositoryItemReader&lt;&gt;();\n        repositoryItemReader.setRepository(tipacldRepository);\n        repositoryItemReader.setMethodName(&quot;findAll&quot;);\n        repositoryItemReader.setPageSize(2000);\n        Map&lt;String, Sort.Direction&gt; sorts = new HashMap&lt;&gt;();\n        repositoryItemReader.setSort(sorts);\n        return repositoryItemReader;\n    }\n\n    @Bean\n    public Step step() {\n        Step step = stepBuilderFactory.get(&quot;gcms-extract-step&quot;)\n                .&lt;TIPACLDEntity, IpmClringMsgEntity&gt;chunk(100)\n                .reader(itemReader())\n                .processor(itemProcessor)\n                .writer(itemWriter)\n                .taskExecutor(taskExecutor())\n                .build();\n\n        return step;\n    }\n\n    @Bean\n    public TaskExecutor taskExecutor() {\n        SimpleAsyncTaskExecutor simpleAsyncTaskExecutor = new SimpleAsyncTaskExecutor();\n        simpleAsyncTaskExecutor.setConcurrencyLimit(10);\n        return simpleAsyncTaskExecutor;\n    }\n\n    @Bean\n    public Job job() {\n        Job job = jobBuilderFactory.get(&quot;gcms-extract-job&quot;)\n                .incrementer(new RunIdIncrementer())\n                .start(step())\n                .build();\n        return job;\n    }\n</code></pre>\n<p>I think it is not able to create pages of size 2000 properly and jump to the next page. Is there anything I am missing in the batch config?`</p>\n<p>The error is:</p>\n<blockquote>\n<p>org.springframework.dao.InvalidDataAccessResourceUsageException: could not extract ResultSet; SQL [n/a]; nested exception is org.hibernate.exception.SQLGrammarException: could not extract ResultSet</p>\n</blockquote>\n<p>The query created for the second page is:</p>\n<pre><code>SELECT *\nFROM\n  (SELECT inner2_.*,\n          rownumber() over(ORDER BY ORDER OF inner2_) AS rownumber_\n   FROM\n     (SELECT tipacldent0_.CLR_LVL_DTL_ID AS clr_lvl_1_0_,\n             tipacldent0_.PRCSS_DT AS prcss_dt2_0_,\n             tipacldent0_.CLR_DTL_REC_TXT AS clr_dtl_3_0_,\n             tipacldent0_.CNSMD_SW AS cnsmd_sw4_0_,\n             tipacldent0_.CRTE_TS AS crte_ts5_0_,\n             tipacldent0_.PARTN_NUM AS partn_nu6_0_,\n             tipacldent0_.PRCSS_AGRMT_ID AS prcss_ag7_0_,\n             tipacldent0_.UPDT_TS AS updt_ts8_0_\n      FROM TIPACLD tipacldent0_\n      FETCH FIRST 4000 ROWS ONLY) AS inner2_\n) AS inner1_\nWHERE rownumber_ &gt; 2000\nORDER BY rownumber_\n</code></pre>\n"},{"tags":["java","selenium-webdriver"],"answers":[{"tags":[],"owner":{"account_id":242072,"reputation":2241,"user_id":3211778,"accept_rate":100,"display_name":"yanana"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691032165,"creation_date":1691032165,"answer_id":76824674,"question_id":76818363,"body_markdown":"It seems the Java API does not provide a way to get the version of itself. So you probably need to see pom.xml.","title":"The above gives the Chrome version How do we output the selenium version in java (i.e. Selenium v4.11)","body":"<p>It seems the Java API does not provide a way to get the version of itself. So you probably need to see pom.xml.</p>\n"}],"owner":{"account_id":16540171,"reputation":11,"user_id":11951124,"display_name":"RCKev ARTMusic"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1691157472,"creation_date":1690967596,"question_id":76818363,"body_markdown":"The below gives the Chrome version\r\nHow do I print output the selenium version in java (i.e. Selenium v4.11)\r\n\r\n\r\n\r\nI have successfully used the below to get the chrome version:\r\n```\r\n    Capabilities caps = ((ChromeDriver) driver).getCapabilities();\r\n            String version = caps.getVersion();\r\n            System.out.println(&quot;Running Selenium version: &quot; + version);\r\n```","title":"The above gives the Chrome version How do we output the selenium version in java (i.e. Selenium v4.11)","body":"<p>The below gives the Chrome version\nHow do I print output the selenium version in java (i.e. Selenium v4.11)</p>\n<p>I have successfully used the below to get the chrome version:</p>\n<pre><code>    Capabilities caps = ((ChromeDriver) driver).getCapabilities();\n            String version = caps.getVersion();\n            System.out.println(&quot;Running Selenium version: &quot; + version);\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1302651240,"post_id":5642802,"comment_id":6433539,"body_markdown":"If any thread call System.exit() the program can exit, however if all main does is return, non daemon threads will keep the application running.","body":"If any thread call System.exit() the program can exit, however if all main does is return, non daemon threads will keep the application running."},{"owner":{"account_id":124077,"reputation":1233,"user_id":318944,"display_name":"coffeetocode"},"score":10,"creation_date":1302656276,"post_id":5642802,"comment_id":6434189,"body_markdown":"For something well defined like this you really should try it out first; you&#39;d get the answer, and if you still had a question you could post a code snippet that would make the discussion more valuable for others who had the same question.","body":"For something well defined like this you really should try it out first; you&#39;d get the answer, and if you still had a question you could post a code snippet that would make the discussion more valuable for others who had the same question."}],"answers":[{"tags":[],"owner":{"account_id":15988,"reputation":872868,"user_id":34397,"accept_rate":87,"display_name":"SLaks"},"down_vote_count":0,"up_vote_count":41,"is_accepted":true,"score":41,"last_activity_date":1302651157,"creation_date":1302651157,"answer_id":5642813,"question_id":5642802,"body_markdown":"No.\r\n\r\nJava programs terminate when all non-daemon threads finish.  \r\n\r\nThe [documentation](http://download.oracle.com/javase/6/docs/api/java/lang/Thread.html) states:\r\n\r\n&gt; When a Java Virtual Machine starts up,\r\n&gt; there is usually a single non-daemon\r\n&gt; thread (which typically calls the\r\n&gt; method named main of some designated\r\n&gt; class). The Java Virtual Machine\r\n&gt; continues to execute threads until\r\n&gt; either of the following occurs:\r\n&gt; \r\n&gt;   - The `exit` method of class `Runtime` has been called and the\r\n&gt; security manager has permitted the\r\n&gt; exit operation to take place.\r\n&gt;   - All threads that are not daemon threads have died, either by returning\r\n&gt; from the call to the `run` method or\r\n&gt; by throwing an exception that\r\n&gt; propagates beyond the `run` method.\r\n\r\n\r\nIf you don&#39;t want the runtime to wait for a thread, call the [`setDaemon` method](http://download.oracle.com/javase/6/docs/api/java/lang/Thread.html#setDaemon%28boolean%29).","title":"termination of program on main thread exit?","body":"<p>No.</p>\n\n<p>Java programs terminate when all non-daemon threads finish.  </p>\n\n<p>The <a href=\"http://download.oracle.com/javase/6/docs/api/java/lang/Thread.html\" rel=\"noreferrer\">documentation</a> states:</p>\n\n<blockquote>\n  <p>When a Java Virtual Machine starts up,\n  there is usually a single non-daemon\n  thread (which typically calls the\n  method named main of some designated\n  class). The Java Virtual Machine\n  continues to execute threads until\n  either of the following occurs:</p>\n  \n  <ul>\n  <li>The <code>exit</code> method of class <code>Runtime</code> has been called and the\n  security manager has permitted the\n  exit operation to take place.</li>\n  <li>All threads that are not daemon threads have died, either by returning\n  from the call to the <code>run</code> method or\n  by throwing an exception that\n  propagates beyond the <code>run</code> method.</li>\n  </ul>\n</blockquote>\n\n<p>If you don't want the runtime to wait for a thread, call the <a href=\"http://download.oracle.com/javase/6/docs/api/java/lang/Thread.html#setDaemon%28boolean%29\" rel=\"noreferrer\"><code>setDaemon</code> method</a>.</p>\n"},{"tags":[],"owner":{"account_id":7908925,"reputation":111,"user_id":5973543,"display_name":"skY"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1691157362,"creation_date":1472039575,"answer_id":39122589,"question_id":5642802,"body_markdown":"No.\r\nMain Thread is Non-Demon thread, unless your child thread is demon thread, Program will not terminate even if main thread finishes before child thread. You can check that using below sample program.\r\n\r\n    public class app {\r\n\r\n\tpublic static void main(String[] args) throws InterruptedException {\r\n\t\tApp2.mt=Thread.currentThread();\r\n\t\tApp2 t = new App2();\r\n\t\tt.start();\r\n\t\tSystem.out.println(&quot;Main starts&quot;);\r\n\t\tThread.sleep(2000);\r\n\t\tSystem.out.println(&quot;Main ends&quot;);\r\n\r\n\t  }\r\n    }\r\n\r\n    class App2 extends Thread{\r\n\tstatic Thread mt;\r\n\tpublic void run(){\r\n\t\ttry {\r\n\t\t\tmt.join();//waits till main thread dies.\r\n\t\t} catch (InterruptedException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\tSystem.out.println(&quot;child thread&quot;);\r\n\t  }\r\n    }\r\n\r\n\r\n","title":"termination of program on main thread exit?","body":"<p>No.\nMain Thread is Non-Demon thread, unless your child thread is demon thread, Program will not terminate even if main thread finishes before child thread. You can check that using below sample program.</p>\n<pre><code>public class app {\n\npublic static void main(String[] args) throws InterruptedException {\n    App2.mt=Thread.currentThread();\n    App2 t = new App2();\n    t.start();\n    System.out.println(&quot;Main starts&quot;);\n    Thread.sleep(2000);\n    System.out.println(&quot;Main ends&quot;);\n\n  }\n}\n\nclass App2 extends Thread{\nstatic Thread mt;\npublic void run(){\n    try {\n        mt.join();//waits till main thread dies.\n    } catch (InterruptedException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }\n    System.out.println(&quot;child thread&quot;);\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":232243,"reputation":83887,"user_id":496949,"accept_rate":86,"display_name":"user496949"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15026,"favorite_count":0,"down_vote_count":0,"up_vote_count":31,"accepted_answer_id":5642813,"answer_count":2,"score":31,"last_activity_date":1691157362,"creation_date":1302651092,"question_id":5642802,"body_markdown":"I have two threads: the main thread and a thread generated from the main thread. \r\n\r\nWhen the main thread exits, will the whole program terminate?","title":"termination of program on main thread exit?","body":"<p>I have two threads: the main thread and a thread generated from the main thread. </p>\n\n<p>When the main thread exits, will the whole program terminate?</p>\n"},{"tags":["java","bitwise-operators","number-systems"],"comments":[{"owner":{"display_name":"user6073886"},"score":1,"creation_date":1691155367,"post_id":76836314,"comment_id":135457392,"body_markdown":"I hope you realize that `int x = 1010110;` is not defining a binary number. Its a decimal number &gt; 1 million and in binary representation would be 11110110100110111110.","body":"I hope you realize that <code>int x = 1010110;</code> is not defining a binary number. Its a decimal number &gt; 1 million and in binary representation would be 11110110100110111110."},{"owner":{"account_id":1083854,"reputation":13775,"user_id":1080064,"accept_rate":43,"display_name":"tkausl"},"score":0,"creation_date":1691155398,"post_id":76836314,"comment_id":135457403,"body_markdown":"`in number 1010110, its giving 4th bit=1,6th bit=1, 7th bit=0` Thats correct.","body":"<code>in number 1010110, its giving 4th bit=1,6th bit=1, 7th bit=0</code> Thats correct."},{"owner":{"account_id":27372591,"reputation":11,"user_id":20878417,"display_name":"Ashish Kumar"},"score":0,"creation_date":1691155718,"post_id":76836314,"comment_id":135457489,"body_markdown":"thankyou i got my answer","body":"thankyou i got my answer"},{"owner":{"account_id":3771148,"reputation":34903,"user_id":3133316,"display_name":"PaulMcKenzie"},"score":0,"creation_date":1691156691,"post_id":76836314,"comment_id":135457744,"body_markdown":"@AshishKumar Why did you tag this as `dsa`?  Are you aware what the `dsa` tag is meant for?","body":"@AshishKumar Why did you tag this as <code>dsa</code>?  Are you aware what the <code>dsa</code> tag is meant for?"}],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691157139,"creation_date":1691156744,"answer_id":76836532,"question_id":76836314,"body_markdown":"This presumes the low order bit is the `0th` bit.  You don&#39;t need  to use the conditional operator (`?:`).  Just shift the result back and return the `1` or `0` directly. `&gt;&gt;&gt;` is used to not backfill the sign bit, if detected, when shifting right. Otherwise, you would get `-1` for `ithBit(-1, 31);` \r\n```\r\npublic static int ithBit(int x, int n) {\r\n        return  (x &amp; (1 &lt;&lt; n)) &gt;&gt;&gt; n;\r\n}\r\n```","title":"Print ith bit of the binary number, please find the error as it is printing wrong numbers on some bits","body":"<p>This presumes the low order bit is the <code>0th</code> bit.  You don't need  to use the conditional operator (<code>?:</code>).  Just shift the result back and return the <code>1</code> or <code>0</code> directly. <code>&gt;&gt;&gt;</code> is used to not backfill the sign bit, if detected, when shifting right. Otherwise, you would get <code>-1</code> for <code>ithBit(-1, 31);</code></p>\n<pre><code>public static int ithBit(int x, int n) {\n        return  (x &amp; (1 &lt;&lt; n)) &gt;&gt;&gt; n;\n}\n</code></pre>\n"}],"owner":{"account_id":27372591,"reputation":11,"user_id":20878417,"display_name":"Ashish Kumar"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1691156545,"answer_count":1,"score":0,"last_activity_date":1691157139,"creation_date":1691155173,"question_id":76836314,"body_markdown":"        public static void main(String[] args) {\r\n            Scanner sc = new Scanner(System.in);\r\n            int n = sc.nextInt();\r\n\r\n            int x = 1010110;\r\n            System.out.println(&quot;the ith bit is &quot; + ithBit(x, n));\r\n        }\r\n\r\n        public static int ithBit(int x, int n) {\r\n            int bitValue = (x &amp; (1 &lt;&lt; (n - 1))) != 0 ? 1 : 0;\r\n            return bitValue;\r\n        }\r\n\r\nin number 1010110, its giving 4th bit=1,6th bit=1, 7th bit=0","title":"Print ith bit of the binary number, please find the error as it is printing wrong numbers on some bits","body":"<pre><code>    public static void main(String[] args) {\n        Scanner sc = new Scanner(System.in);\n        int n = sc.nextInt();\n\n        int x = 1010110;\n        System.out.println(&quot;the ith bit is &quot; + ithBit(x, n));\n    }\n\n    public static int ithBit(int x, int n) {\n        int bitValue = (x &amp; (1 &lt;&lt; (n - 1))) != 0 ? 1 : 0;\n        return bitValue;\n    }\n</code></pre>\n<p>in number 1010110, its giving 4th bit=1,6th bit=1, 7th bit=0</p>\n"},{"tags":["java","opensearch"],"owner":{"account_id":269513,"reputation":14298,"user_id":558892,"accept_rate":79,"display_name":"Deqing"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691157084,"creation_date":1691157084,"question_id":76836575,"body_markdown":"With elasticsearch&#39;s RestHighLevelClient, we set source for PutIndexTemplateRequest like [this](https://www.elastic.co/guide/en/elasticsearch/client/java-rest/6.8/java-rest-high-put-template.html), or like following:\r\n\r\n    var request = new PutIndexTemplateRequest(templateName).source(templateString, XContentType.JSON)\r\n\r\nHowever, with opensearch-java client, there is no `source` method in [PutTemplateRequest](https://github.com/opensearch-project/opensearch-java/blob/main/java-client/src/main/java/org/opensearch/client/opensearch/indices/PutTemplateRequest.java).\r\n\r\nIs there a similar method that we can use to set source for the request?","title":"How to set source for opensearch-java client&#39;s PutTemplateRequest?","body":"<p>With elasticsearch's RestHighLevelClient, we set source for PutIndexTemplateRequest like <a href=\"https://www.elastic.co/guide/en/elasticsearch/client/java-rest/6.8/java-rest-high-put-template.html\" rel=\"nofollow noreferrer\">this</a>, or like following:</p>\n<pre><code>var request = new PutIndexTemplateRequest(templateName).source(templateString, XContentType.JSON)\n</code></pre>\n<p>However, with opensearch-java client, there is no <code>source</code> method in <a href=\"https://github.com/opensearch-project/opensearch-java/blob/main/java-client/src/main/java/org/opensearch/client/opensearch/indices/PutTemplateRequest.java\" rel=\"nofollow noreferrer\">PutTemplateRequest</a>.</p>\n<p>Is there a similar method that we can use to set source for the request?</p>\n"},{"tags":["java","for-loop","linked-list","iterator"],"answers":[{"tags":[],"owner":{"account_id":18991005,"reputation":1312,"user_id":13860286,"display_name":"Shila Mosammami"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1691156643,"creation_date":1691156643,"answer_id":76836518,"question_id":76836458,"body_markdown":"The `Iterator.remove()` method is more efficient than `LinkedList.remove(int index)` or `LinkedList.remove(Object o)` methods because it operates directly on the node that the iterator is currently on. It doesn&#39;t need to traverse the LinkedList from the beginning to find the item to remove.\r\n\r\nWhen you call `iterator.remove()`, the iterator already knows the location of the item to remove, because it&#39;s the last item that was returned by `iterator.next()`. Therefore, it can remove the item in constant time O(1), i.e., the time it takes doesn&#39;t depend on the size of the list.\r\n\r\nOn the other hand, `LinkedList.remove(int index)` or `LinkedList.remove(Object o)` methods have to first find the item to remove. In the worst case, they might need to traverse the entire list to find the item. LinkedLists don&#39;t support efficient random access to elements, so finding an item is an O(n) operation, where n is the size of the list. Once the item has been found, it can be removed in constant time, but the time-consuming part is finding the item.\r\n\r\nThis is why your code using `iterator.remove()` is much faster than the one using `LinkedList.remove()`. The former doesn&#39;t need to repeatedly traverse the list to find the items to remove.\r\n\r\nAlso, a minor point about your code using `LinkedList.remove()`: every time you remove an item from the list, the indexes of all the items that come after the removed item change. Therefore, the `for` loop might skip some items or run into a `IndexOutOfBoundsException` because `i` becomes greater than the current size of the list. A common pattern when removing items from a list during iteration is to iterate from the end to the beginning. However, in the case of LinkedList, since it doesn&#39;t support efficient random access to elements, it&#39;s best to use an `Iterator` to avoid having to traverse the list for each removal.\r\n\r\n    public static void linkedListRemove() {\r\n        ListIterator&lt;Integer&gt; listIterator = list.listIterator(list.size());\r\n        while (listIterator.hasPrevious()) {\r\n            int item = listIterator.previous();\r\n            if(item == 99997) {\r\n                listIterator.remove();\r\n                // break the loop if we have found and removed the item\r\n                break;\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"Removing elements from LinkedList with a for loop is significantly slowed than removing with iterator","body":"<p>The <code>Iterator.remove()</code> method is more efficient than <code>LinkedList.remove(int index)</code> or <code>LinkedList.remove(Object o)</code> methods because it operates directly on the node that the iterator is currently on. It doesn't need to traverse the LinkedList from the beginning to find the item to remove.</p>\n<p>When you call <code>iterator.remove()</code>, the iterator already knows the location of the item to remove, because it's the last item that was returned by <code>iterator.next()</code>. Therefore, it can remove the item in constant time O(1), i.e., the time it takes doesn't depend on the size of the list.</p>\n<p>On the other hand, <code>LinkedList.remove(int index)</code> or <code>LinkedList.remove(Object o)</code> methods have to first find the item to remove. In the worst case, they might need to traverse the entire list to find the item. LinkedLists don't support efficient random access to elements, so finding an item is an O(n) operation, where n is the size of the list. Once the item has been found, it can be removed in constant time, but the time-consuming part is finding the item.</p>\n<p>This is why your code using <code>iterator.remove()</code> is much faster than the one using <code>LinkedList.remove()</code>. The former doesn't need to repeatedly traverse the list to find the items to remove.</p>\n<p>Also, a minor point about your code using <code>LinkedList.remove()</code>: every time you remove an item from the list, the indexes of all the items that come after the removed item change. Therefore, the <code>for</code> loop might skip some items or run into a <code>IndexOutOfBoundsException</code> because <code>i</code> becomes greater than the current size of the list. A common pattern when removing items from a list during iteration is to iterate from the end to the beginning. However, in the case of LinkedList, since it doesn't support efficient random access to elements, it's best to use an <code>Iterator</code> to avoid having to traverse the list for each removal.</p>\n<pre><code>public static void linkedListRemove() {\n    ListIterator&lt;Integer&gt; listIterator = list.listIterator(list.size());\n    while (listIterator.hasPrevious()) {\n        int item = listIterator.previous();\n        if(item == 99997) {\n            listIterator.remove();\n            // break the loop if we have found and removed the item\n            break;\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1691156702,"creation_date":1691156702,"answer_id":76836527,"question_id":76836458,"body_markdown":"`list.get(i)` has to **walk** from `0` to `i` in a `LinkedList`, which makes that approach take O(N^2). That is the distinction of `LinkedList` vs `ArrayList` (random access). With an `Iterator` you are just accessing each element once.","title":"Removing elements from LinkedList with a for loop is significantly slowed than removing with iterator","body":"<p><code>list.get(i)</code> has to <strong>walk</strong> from <code>0</code> to <code>i</code> in a <code>LinkedList</code>, which makes that approach take O(N^2). That is the distinction of <code>LinkedList</code> vs <code>ArrayList</code> (random access). With an <code>Iterator</code> you are just accessing each element once.</p>\n"}],"owner":{"account_id":7405799,"reputation":625,"user_id":5634777,"accept_rate":38,"display_name":"kaka"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76836518,"answer_count":2,"score":0,"last_activity_date":1691156775,"creation_date":1691156229,"question_id":76836458,"body_markdown":"I have a linked list of integer that contains elements from 0 to 100000. \r\nI tried removing elements from far end of the list using iterator and traditional for loop. What I found is that the iterator is way faster than a for loop roughly 500 times faster. I assume the reason why for loop is significantly slower is because of the remove(item) method but not sure. What makes the iterator remove quicker?\r\n\r\nHere is the code:\r\n\r\n\tpublic static void iteratorRemove() {\r\n\t\r\n\t\tIterator&lt;Integer&gt; iterator = list.iterator();\r\n\t\twhile (iterator.hasNext()) {\r\n\t\t    int item = iterator.next();\r\n\t\t    if (item == 99999) {\r\n\t\t        iterator.remove();\r\n\t\t    }\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static void linkedListRemove() {\r\n\r\n\t\tfor(int i=0; i&lt;list.size(); i++) {\r\n\t\t\t\r\n\t\t\tif(list.get(i)==99997) {\r\n\t\t\t\tlist.remove(i);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t}\r\n","title":"Removing elements from LinkedList with a for loop is significantly slowed than removing with iterator","body":"<p>I have a linked list of integer that contains elements from 0 to 100000.\nI tried removing elements from far end of the list using iterator and traditional for loop. What I found is that the iterator is way faster than a for loop roughly 500 times faster. I assume the reason why for loop is significantly slower is because of the remove(item) method but not sure. What makes the iterator remove quicker?</p>\n<p>Here is the code:</p>\n<pre><code>public static void iteratorRemove() {\n\n    Iterator&lt;Integer&gt; iterator = list.iterator();\n    while (iterator.hasNext()) {\n        int item = iterator.next();\n        if (item == 99999) {\n            iterator.remove();\n        }\n    }\n}\n\npublic static void linkedListRemove() {\n\n    for(int i=0; i&lt;list.size(); i++) {\n        \n        if(list.get(i)==99997) {\n            list.remove(i);\n        }\n    }\n\n}\n</code></pre>\n"},{"tags":["java","android","android-studio","google-maps","location"],"answers":[{"tags":[],"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1691156687,"creation_date":1691156687,"answer_id":76836525,"question_id":76836062,"body_markdown":"getLastLocation only returns a result if the Location subsystem already has data.  It does not start the location subsystem.  It should almost never be used.  Use getCurrentLocation or requestLocationUpdates, both of which will start the location subsystem instead.","title":"Google maps does not get the user location if the user does not have a recent location","body":"<p>getLastLocation only returns a result if the Location subsystem already has data.  It does not start the location subsystem.  It should almost never be used.  Use getCurrentLocation or requestLocationUpdates, both of which will start the location subsystem instead.</p>\n"}],"owner":{"account_id":29159969,"reputation":51,"user_id":22338949,"display_name":"Chichi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1691156687,"creation_date":1691153278,"question_id":76836062,"body_markdown":"I have encountered a problem when getting the users current location if the user does not have any recent location the map cannot find the current location but if I allow other apps on location then going back to my application the map can now see the current location.\r\n\r\nI tried doing another code for the current location because the one that I am currently using is deprecated, when I run the application it does not get the users current location but if I have a recent location using other application my app can now get the user location, . Here is my code. \r\n\r\n\r\n\r\n```java\r\npublic class MapActivity extends AppCompatActivity implements OnMapReadyCallback {\r\n\r\n    private GoogleMap mMap;\r\n    public static int LOCATION_REQUEST_CODE = 100;\r\n\r\n    FusedLocationProviderClient fusedLocationProviderClient;\r\n\r\n    private final LatLng MarisolTerminal = new LatLng(15.1519204,120.4476555);\r\n    private final LatLng VillaTerminal = new LatLng(15.1268318,120.5974806);\r\n    private final LatLng CheckpointTerminal = new LatLng(15.169206,120.5872296);\r\n\r\n    private Marker markerMarisolTerm;\r\n    private Marker markerVillaTerminal;\r\n    private Marker markerCheckpointTerminal;\r\n\r\n    private LocationCallback locationCallback;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_map);\r\n\r\n\r\n\r\n        SupportMapFragment mapFragment = (SupportMapFragment) getSupportFragmentManager().findFragmentById(R.id.map);\r\n\r\n        if (mapFragment != null) {\r\n            mapFragment.getMapAsync(this);\r\n        }\r\n\r\n        fusedLocationProviderClient = LocationServices.getFusedLocationProviderClient(this);\r\n\r\n        checkLocationPermission();\r\n\r\n    }\r\n\r\n\r\n\r\n    @Override\r\n    public void onMapReady(@NonNull GoogleMap googleMap) {\r\n        mMap = googleMap;\r\n\r\n        mMap.getUiSettings().setMyLocationButtonEnabled(true);\r\n\r\n        mMap.setMapStyle(\r\n                MapStyleOptions.loadRawResourceStyle(this,R.raw.custom_map_style)\r\n        );\r\n\r\n\r\n\r\n\r\n\r\n        // Add some markers to the map, and add a data object to each marker.\r\n        markerMarisolTerm = mMap.addMarker(new MarkerOptions()\r\n                .position(MarisolTerminal)\r\n                .title(&quot;Marisol Terminal&quot;)\r\n                .icon(BitmapDescriptorFactory.fromResource(R.drawable.marisol)));\r\n        markerMarisolTerm.setTag(0);\r\n\r\n        markerVillaTerminal = mMap.addMarker(new MarkerOptions()\r\n                .position(VillaTerminal)\r\n                .title(&quot;Villa Terminal&quot;)\r\n                .icon(BitmapDescriptorFactory.fromResource(R.drawable.villa)));\r\n        markerVillaTerminal.setTag(0);\r\n\r\n        markerCheckpointTerminal = mMap.addMarker(new MarkerOptions()\r\n                .position(CheckpointTerminal)\r\n                .title(&quot;Checkpoint Terminal&quot;)\r\n                .icon(BitmapDescriptorFactory.fromResource(R.drawable.checkpoint)));\r\n        markerCheckpointTerminal.setTag(0);\r\n\r\n\r\n    }\r\n\r\n\r\n    private void checkLocationPermission() {\r\n        if (ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION) == PackageManager.PERMISSION_GRANTED\r\n                &amp;&amp; ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_COARSE_LOCATION) == PackageManager.PERMISSION_GRANTED) {\r\n\r\n            getUserLocation();\r\n\r\n\r\n        } else {\r\n            requestForPermission();\r\n        }\r\n\r\n\r\n    }\r\n\r\n    private void getUserLocation() {\r\n\r\n        if (ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED &amp;&amp; ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\r\n\r\n            return;\r\n        }\r\n        Task&lt;Location&gt; task = fusedLocationProviderClient.getLastLocation();\r\n\r\n        task.addOnSuccessListener(new OnSuccessListener&lt;Location&gt;() {\r\n            @Override\r\n            public void onSuccess(Location location) {\r\n\r\n                if (location !=null){\r\n\r\n                    double lat = location.getLatitude();\r\n                    double longitude = location.getLongitude();\r\n\r\n                    LatLng userLocation = new LatLng(lat, longitude);\r\n\r\n\r\n                    mMap.moveCamera(CameraUpdateFactory.newLatLng(userLocation));\r\n                    mMap.animateCamera(CameraUpdateFactory.zoomTo(15));\r\n                    mMap.addMarker(new MarkerOptions().position(userLocation).title(&quot;I am here&quot;));\r\n                }\r\n\r\n            }\r\n        });\r\n    }\r\n\r\n    private void requestForPermission(){\r\n        ActivityCompat.requestPermissions(this, new String[] {Manifest.permission.ACCESS_COARSE_LOCATION, Manifest.permission.ACCESS_FINE_LOCATION},LOCATION_REQUEST_CODE);\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\r\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n\r\n        if (requestCode == LOCATION_REQUEST_CODE){\r\n            if (grantResults [0] == PackageManager.PERMISSION_GRANTED){\r\n                Toast.makeText(this, &quot;Permission Accepted&quot;, Toast.LENGTH_SHORT).show();\r\n                getUserLocation();\r\n            }else {\r\n                Toast.makeText(this,&quot;Permission Denied&quot; , Toast.LENGTH_SHORT).show();\r\n            }\r\n        }\r\n\r\n    }\r\n```","title":"Google maps does not get the user location if the user does not have a recent location","body":"<p>I have encountered a problem when getting the users current location if the user does not have any recent location the map cannot find the current location but if I allow other apps on location then going back to my application the map can now see the current location.</p>\n<p>I tried doing another code for the current location because the one that I am currently using is deprecated, when I run the application it does not get the users current location but if I have a recent location using other application my app can now get the user location, . Here is my code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MapActivity extends AppCompatActivity implements OnMapReadyCallback {\n\n    private GoogleMap mMap;\n    public static int LOCATION_REQUEST_CODE = 100;\n\n    FusedLocationProviderClient fusedLocationProviderClient;\n\n    private final LatLng MarisolTerminal = new LatLng(15.1519204,120.4476555);\n    private final LatLng VillaTerminal = new LatLng(15.1268318,120.5974806);\n    private final LatLng CheckpointTerminal = new LatLng(15.169206,120.5872296);\n\n    private Marker markerMarisolTerm;\n    private Marker markerVillaTerminal;\n    private Marker markerCheckpointTerminal;\n\n    private LocationCallback locationCallback;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_map);\n\n\n\n        SupportMapFragment mapFragment = (SupportMapFragment) getSupportFragmentManager().findFragmentById(R.id.map);\n\n        if (mapFragment != null) {\n            mapFragment.getMapAsync(this);\n        }\n\n        fusedLocationProviderClient = LocationServices.getFusedLocationProviderClient(this);\n\n        checkLocationPermission();\n\n    }\n\n\n\n    @Override\n    public void onMapReady(@NonNull GoogleMap googleMap) {\n        mMap = googleMap;\n\n        mMap.getUiSettings().setMyLocationButtonEnabled(true);\n\n        mMap.setMapStyle(\n                MapStyleOptions.loadRawResourceStyle(this,R.raw.custom_map_style)\n        );\n\n\n\n\n\n        // Add some markers to the map, and add a data object to each marker.\n        markerMarisolTerm = mMap.addMarker(new MarkerOptions()\n                .position(MarisolTerminal)\n                .title(&quot;Marisol Terminal&quot;)\n                .icon(BitmapDescriptorFactory.fromResource(R.drawable.marisol)));\n        markerMarisolTerm.setTag(0);\n\n        markerVillaTerminal = mMap.addMarker(new MarkerOptions()\n                .position(VillaTerminal)\n                .title(&quot;Villa Terminal&quot;)\n                .icon(BitmapDescriptorFactory.fromResource(R.drawable.villa)));\n        markerVillaTerminal.setTag(0);\n\n        markerCheckpointTerminal = mMap.addMarker(new MarkerOptions()\n                .position(CheckpointTerminal)\n                .title(&quot;Checkpoint Terminal&quot;)\n                .icon(BitmapDescriptorFactory.fromResource(R.drawable.checkpoint)));\n        markerCheckpointTerminal.setTag(0);\n\n\n    }\n\n\n    private void checkLocationPermission() {\n        if (ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION) == PackageManager.PERMISSION_GRANTED\n                &amp;&amp; ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_COARSE_LOCATION) == PackageManager.PERMISSION_GRANTED) {\n\n            getUserLocation();\n\n\n        } else {\n            requestForPermission();\n        }\n\n\n    }\n\n    private void getUserLocation() {\n\n        if (ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED &amp;&amp; ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\n\n            return;\n        }\n        Task&lt;Location&gt; task = fusedLocationProviderClient.getLastLocation();\n\n        task.addOnSuccessListener(new OnSuccessListener&lt;Location&gt;() {\n            @Override\n            public void onSuccess(Location location) {\n\n                if (location !=null){\n\n                    double lat = location.getLatitude();\n                    double longitude = location.getLongitude();\n\n                    LatLng userLocation = new LatLng(lat, longitude);\n\n\n                    mMap.moveCamera(CameraUpdateFactory.newLatLng(userLocation));\n                    mMap.animateCamera(CameraUpdateFactory.zoomTo(15));\n                    mMap.addMarker(new MarkerOptions().position(userLocation).title(&quot;I am here&quot;));\n                }\n\n            }\n        });\n    }\n\n    private void requestForPermission(){\n        ActivityCompat.requestPermissions(this, new String[] {Manifest.permission.ACCESS_COARSE_LOCATION, Manifest.permission.ACCESS_FINE_LOCATION},LOCATION_REQUEST_CODE);\n\n    }\n\n    @Override\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n\n        if (requestCode == LOCATION_REQUEST_CODE){\n            if (grantResults [0] == PackageManager.PERMISSION_GRANTED){\n                Toast.makeText(this, &quot;Permission Accepted&quot;, Toast.LENGTH_SHORT).show();\n                getUserLocation();\n            }else {\n                Toast.makeText(this,&quot;Permission Denied&quot; , Toast.LENGTH_SHORT).show();\n            }\n        }\n\n    }\n</code></pre>\n"},{"tags":["java","eclipse","intellij-idea","compiler-errors","dependencies"],"answers":[{"tags":[],"owner":{"account_id":2893635,"reputation":3813,"user_id":5060066,"display_name":"Ivaylo D. Ivanov"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1452760312,"creation_date":1452760312,"answer_id":34784817,"question_id":34778279,"body_markdown":"This is because BifCreatorController is excluded from compilation (see the small &quot;X&quot; top-left icon near to the file name). One reason would be the file got some errors while compiling, IDEA proposed to exclude it from compilation and you had accepted.\r\n\r\nGo to &quot;File &gt; Settings &gt; Build, Execution, Deployment &gt; Compiler &gt; Excludes&quot; and remove it from there.","title":"IntelliJ can&#39;t find classes in same package when compiling","body":"<p>This is because BifCreatorController is excluded from compilation (see the small \"X\" top-left icon near to the file name). One reason would be the file got some errors while compiling, IDEA proposed to exclude it from compilation and you had accepted.</p>\n\n<p>Go to \"File > Settings > Build, Execution, Deployment > Compiler > Excludes\" and remove it from there.</p>\n"},{"tags":[],"owner":{"account_id":1661378,"reputation":1660,"user_id":1529616,"accept_rate":46,"display_name":"velocity"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1571754755,"creation_date":1571754755,"answer_id":58506605,"question_id":34778279,"body_markdown":"I had the same problem, i cleared the cache and restarted but it did not solve the problem. Then i right clicked the not found class and selected Recompile and after recompilation the problem was solved.","title":"IntelliJ can&#39;t find classes in same package when compiling","body":"<p>I had the same problem, i cleared the cache and restarted but it did not solve the problem. Then i right clicked the not found class and selected Recompile and after recompilation the problem was solved.</p>\n"},{"tags":[],"owner":{"account_id":1026639,"reputation":1007,"user_id":1035809,"display_name":"liuyong"},"down_vote_count":0,"up_vote_count":29,"is_accepted":false,"score":29,"last_activity_date":1583498549,"creation_date":1583498549,"answer_id":60564326,"question_id":34778279,"body_markdown":"Got same problem today. Rebuilding or restarting both didn&#39;t work for me. In the end, I tried to rename the class, problem solved! Then I rename the class to the name I want, everthing was fine!","title":"IntelliJ can&#39;t find classes in same package when compiling","body":"<p>Got same problem today. Rebuilding or restarting both didn't work for me. In the end, I tried to rename the class, problem solved! Then I rename the class to the name I want, everthing was fine!</p>\n"},{"tags":[],"owner":{"account_id":125029,"reputation":330,"user_id":682256,"display_name":"Simon Logic"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1648848335,"creation_date":1617380716,"answer_id":66922301,"question_id":34778279,"body_markdown":"For those who can&#39;t beat the trouble i suggest switching to maven because it&#39;s predictive:\r\n\r\nMaven &gt; Runner &gt; Delegate IDE build/run actions to Maven","title":"IntelliJ can&#39;t find classes in same package when compiling","body":"<p>For those who can't beat the trouble i suggest switching to maven because it's predictive:</p>\n<p>Maven &gt; Runner &gt; Delegate IDE build/run actions to Maven</p>\n"},{"tags":[],"owner":{"account_id":10182669,"reputation":4457,"user_id":7518849,"display_name":"i.karayel"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1649745566,"creation_date":1649745566,"answer_id":71838147,"question_id":34778279,"body_markdown":"Another reason is the cache problem. \r\n\r\nGo to -&gt; File -&gt; Invalidate Caches / Restart ...\r\n\r\n[![invalidate cache and restart][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/8wW4G.png","title":"IntelliJ can&#39;t find classes in same package when compiling","body":"<p>Another reason is the cache problem.</p>\n<p>Go to -&gt; File -&gt; Invalidate Caches / Restart ...</p>\n<p><a href=\"https://i.stack.imgur.com/8wW4G.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8wW4G.png\" alt=\"invalidate cache and restart\" /></a></p>\n"},{"tags":[],"owner":{"account_id":1591602,"reputation":3575,"user_id":1474815,"accept_rate":0,"display_name":"Paulo Pedroso"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691156438,"creation_date":1691156438,"answer_id":76836491,"question_id":34778279,"body_markdown":"Thanks to @liuyong for the tip. In my case it happened with A LOT of classes, so renaming all of them would have been a bit cumbersome.\r\n\r\nThen I decided to rename the base package (I just added a letter at the end), compiled the code and then renamed back to the original one.\r\n\r\nIt worked here too. The problem **didn&#39;t** happen again when switching branches.","title":"IntelliJ can&#39;t find classes in same package when compiling","body":"<p>Thanks to @liuyong for the tip. In my case it happened with A LOT of classes, so renaming all of them would have been a bit cumbersome.</p>\n<p>Then I decided to rename the base package (I just added a letter at the end), compiled the code and then renamed back to the original one.</p>\n<p>It worked here too. The problem <strong>didn't</strong> happen again when switching branches.</p>\n"}],"owner":{"account_id":1728581,"reputation":2763,"user_id":1582712,"accept_rate":51,"display_name":"E.S."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25455,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"accepted_answer_id":34784817,"answer_count":6,"score":15,"last_activity_date":1691156438,"creation_date":1452724059,"question_id":34778279,"body_markdown":"As an extension to my previous question (https://stackoverflow.com/questions/34757159/intellij-cant-find-depencency-when-compiling-but-can-in-editor) which got solved, I now have a new issue which has sprung up.\r\n\r\nWithin the same packages, references to other classes are showing up with errors:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nAs you can see in the picture, there is happening at the line involving the `BifCreatorController`, even though that class is in the same package as the `BifCreatorView`.\r\n\r\nJust like my previous question, I am failing to understand why IntellJ is spitting out those errors. This project works just fine in Eclipse, but I am looking to start moving away from eclipse. \r\n\r\n  [1]: http://i.stack.imgur.com/jlOT8.png","title":"IntelliJ can&#39;t find classes in same package when compiling","body":"<p>As an extension to my previous question (<a href=\"https://stackoverflow.com/questions/34757159/intellij-cant-find-depencency-when-compiling-but-can-in-editor\">IntelliJ can&#39;t find depencency when compiling, but can in editor.</a>) which got solved, I now have a new issue which has sprung up.</p>\n\n<p>Within the same packages, references to other classes are showing up with errors:</p>\n\n<p><a href=\"https://i.stack.imgur.com/jlOT8.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/jlOT8.png\" alt=\"enter image description here\"></a></p>\n\n<p>As you can see in the picture, there is happening at the line involving the <code>BifCreatorController</code>, even though that class is in the same package as the <code>BifCreatorView</code>.</p>\n\n<p>Just like my previous question, I am failing to understand why IntellJ is spitting out those errors. This project works just fine in Eclipse, but I am looking to start moving away from eclipse. </p>\n"},{"tags":["java","spring","spring-security"],"owner":{"account_id":14117331,"reputation":25,"user_id":10198796,"display_name":"Mitchell"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691155887,"creation_date":1691100868,"question_id":76831892,"body_markdown":"I am trying to implement Spring Security to my program and the instructions we were given had all information from deprecated classes that aren&#39;t used anymore so I am trying to figure out how to properly update my code. I currently go to my home page localhost:8080 click the login hyper link then I am redirected to localhost:8080/login. I enter the correct username and password but then am redirected back to localhost:8080 instead of localhost:8080/display/orders. \r\n\r\nIs there something wrong in my security class? Or is there not the correct redirecting happening in my controllers?\r\n\r\nHere is my security config\r\n```\tpublic SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n\t    http\r\n\t        .authorizeHttpRequests(requests -&gt; requests\r\n\t            .requestMatchers(&quot;/&quot;, &quot;/images/**&quot;, &quot;/service/**&quot;).permitAll()\r\n\t            .anyRequest().authenticated()\r\n\t        )\r\n\t        .formLogin(form -&gt; form\r\n\t            .loginPage(&quot;/login&quot;)\r\n\t            .usernameParameter(&quot;username&quot;)\r\n\t            .passwordParameter(&quot;password&quot;)\r\n\t            .permitAll()\r\n\t            .defaultSuccessUrl(&quot;/orders/display&quot;, true)\r\n\t            \r\n\t        )\r\n\t        .logout(logout -&gt; logout\r\n\t        \t.logoutUrl(&quot;/logout&quot;)\r\n\t        \t.invalidateHttpSession(true)\r\n\t        \t.clearAuthentication(true)\r\n\t        \t.logoutSuccessUrl(&quot;/&quot;)\r\n\t            .permitAll());\r\n\t    \r\n\t    return http.build();\r\n\t}\r\n\r\n    @Autowired\r\n    public void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n        auth.inMemoryAuthentication()\r\n        \t.withUser(&quot;test&quot;).password(&quot;{noop}test&quot;).roles(&quot;USER&quot;);\r\n    }\r\n}\r\n```\r\n\r\nHere are my controllers\r\n\r\n```@Controller\r\n@RequestMapping(&quot;/orders&quot;)\r\npublic class OrdersController {\r\n\r\n\t@Autowired\r\n\tprivate OrdersBusinessService service;\r\n\r\n\t@GetMapping(&quot;/display&quot;)\r\n\tpublic String display(Model model) {\r\n\t\tList&lt;OrderModel&gt; orders = service.getOrders();\r\n\t\tmodel.addAttribute(&quot;title&quot;, &quot;My Orders&quot;);\r\n\t\tmodel.addAttribute(&quot;orders&quot;, orders);\r\n\t\treturn &quot;orders&quot;;\r\n\t}\r\n\t\r\n}\r\n```\r\n```@Controller\r\npublic class LoginController {\r\n\t\r\n\t@GetMapping(&quot;/login&quot;)\r\n\tpublic String display(Model model) {\r\n\t\tmodel.addAttribute(&quot;title&quot;, &quot;Login Form&quot;);\r\n\t\treturn &quot;login&quot;;\r\n\t}\r\n```\r\n\r\n```\r\n@Controller\r\npublic class HomeController {\r\n\r\n\t@GetMapping(&quot;/&quot;)\r\n\tpublic String home(Model model) {\r\n\t\tmodel.addAttribute(&quot;title&quot;, &quot;My Home&quot;);\r\n\t\treturn &quot;home&quot;;\r\n\t}\r\n}\r\n```\r\n\r\n","title":"Program keeps redirecting to home page after login","body":"<p>I am trying to implement Spring Security to my program and the instructions we were given had all information from deprecated classes that aren't used anymore so I am trying to figure out how to properly update my code. I currently go to my home page localhost:8080 click the login hyper link then I am redirected to localhost:8080/login. I enter the correct username and password but then am redirected back to localhost:8080 instead of localhost:8080/display/orders.</p>\n<p>Is there something wrong in my security class? Or is there not the correct redirecting happening in my controllers?</p>\n<p>Here is my security config</p>\n<pre><code>        http\n            .authorizeHttpRequests(requests -&gt; requests\n                .requestMatchers(&quot;/&quot;, &quot;/images/**&quot;, &quot;/service/**&quot;).permitAll()\n                .anyRequest().authenticated()\n            )\n            .formLogin(form -&gt; form\n                .loginPage(&quot;/login&quot;)\n                .usernameParameter(&quot;username&quot;)\n                .passwordParameter(&quot;password&quot;)\n                .permitAll()\n                .defaultSuccessUrl(&quot;/orders/display&quot;, true)\n                \n            )\n            .logout(logout -&gt; logout\n                .logoutUrl(&quot;/logout&quot;)\n                .invalidateHttpSession(true)\n                .clearAuthentication(true)\n                .logoutSuccessUrl(&quot;/&quot;)\n                .permitAll());\n        \n        return http.build();\n    }\n\n    @Autowired\n    public void configure(AuthenticationManagerBuilder auth) throws Exception {\n        auth.inMemoryAuthentication()\n            .withUser(&quot;test&quot;).password(&quot;{noop}test&quot;).roles(&quot;USER&quot;);\n    }\n}\n</code></pre>\n<p>Here are my controllers</p>\n<pre><code>@RequestMapping(&quot;/orders&quot;)\npublic class OrdersController {\n\n    @Autowired\n    private OrdersBusinessService service;\n\n    @GetMapping(&quot;/display&quot;)\n    public String display(Model model) {\n        List&lt;OrderModel&gt; orders = service.getOrders();\n        model.addAttribute(&quot;title&quot;, &quot;My Orders&quot;);\n        model.addAttribute(&quot;orders&quot;, orders);\n        return &quot;orders&quot;;\n    }\n    \n}\n</code></pre>\n<pre><code>public class LoginController {\n    \n    @GetMapping(&quot;/login&quot;)\n    public String display(Model model) {\n        model.addAttribute(&quot;title&quot;, &quot;Login Form&quot;);\n        return &quot;login&quot;;\n    }\n</code></pre>\n<pre><code>@Controller\npublic class HomeController {\n\n    @GetMapping(&quot;/&quot;)\n    public String home(Model model) {\n        model.addAttribute(&quot;title&quot;, &quot;My Home&quot;);\n        return &quot;home&quot;;\n    }\n}\n</code></pre>\n"},{"tags":["java","maven","intellij-idea","jetbrains-ide"],"answers":[{"tags":[],"owner":{"account_id":1681986,"reputation":4236,"user_id":1546042,"display_name":"BitfulByte"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1527838714,"creation_date":1527838714,"answer_id":50638391,"question_id":50636628,"body_markdown":"Try:\r\n\r\n - `file` &gt; `invalidate caches / restart`\r\n - maven tool window -&gt; re-import / refresh:\r\n[![maven tool window][1]][1]\r\n - check maven settings of IntelliJ: does it point to the same settings.xml and repository as the maven from the command line? IntelliJ is shipped with it&#39;s internal maven and might use different settings / repo than your plain maven from the command line.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/frPOi.png","title":"Showing compile error in IntelliJ-idea in editor","body":"<p>Try:</p>\n\n<ul>\n<li><code>file</code> > <code>invalidate caches / restart</code></li>\n<li>maven tool window -> re-import / refresh:\n<a href=\"https://i.stack.imgur.com/frPOi.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/frPOi.png\" alt=\"maven tool window\"></a></li>\n<li>check maven settings of IntelliJ: does it point to the same settings.xml and repository as the maven from the command line? IntelliJ is shipped with it's internal maven and might use different settings / repo than your plain maven from the command line.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":2420186,"reputation":1395,"user_id":2113338,"accept_rate":50,"display_name":"abstractKarshit"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1527870205,"creation_date":1527870205,"answer_id":50647576,"question_id":50636628,"body_markdown":"I believe this issue is related to the way we open this project in IntelliJ Idea as `mvn clean install` is working fine for you.\r\n\r\nWhile opening the project in IntelliJ, you should open **maven** project like this:\r\n\r\n - New -&gt; Project from Existing Sources -&gt; Select Project -&gt; Import from\r\n   External Model (Select `maven` here)\r\n[![enter image description here][1]][1]\r\n - After this, if you are asked to override .iml (idea files), you can override them.\r\n[![enter image description here][2]][2]\r\n\r\nThis should hopefully solve your problem.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/yHPig.png\r\n  [2]: https://i.stack.imgur.com/w8SaL.png","title":"Showing compile error in IntelliJ-idea in editor","body":"<p>I believe this issue is related to the way we open this project in IntelliJ Idea as <code>mvn clean install</code> is working fine for you.</p>\n\n<p>While opening the project in IntelliJ, you should open <strong>maven</strong> project like this:</p>\n\n<ul>\n<li>New -> Project from Existing Sources -> Select Project -> Import from\nExternal Model (Select <code>maven</code> here)\n<a href=\"https://i.stack.imgur.com/yHPig.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/yHPig.png\" alt=\"enter image description here\"></a></li>\n<li>After this, if you are asked to override .iml (idea files), you can override them.\n<a href=\"https://i.stack.imgur.com/w8SaL.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/w8SaL.png\" alt=\"enter image description here\"></a></li>\n</ul>\n\n<p>This should hopefully solve your problem.</p>\n"},{"tags":[],"owner":{"account_id":20506725,"reputation":109,"user_id":15049342,"display_name":"MonishGhutke"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1624639163,"creation_date":1624639163,"answer_id":68134432,"question_id":50636628,"body_markdown":"You can invalidate the cache \r\n\r\n    file -&gt; invalidate caches and restart \r\n\r\nselecting first two options shown in invalidate cache has worked for, also you might get compile time error in already opened file so, try closing/opening these already opened files which are showing errors.\r\n\r\n   \r\n\r\n 1. **Clear file system cache and Local History**: remove the virtual file system cache together with the information stored in Local\r\n    History.\r\n        \r\n        This action might be helpful for troubleshooting purposes when the usual cache invalidation is not enough to solve the problem.\r\n        \r\n      2.  **Ask before downloading new shared indexes**: show a notification prompting you to download new shared indexes as they\r\n    become available.\r\n        \r\n        Enabling this option also updates your settings for shared project indexes in Settings/ Preferences | Tools | Shared Indexes.\r\n        \r\n       3. **Clear downloaded shared indexes**: remove the downloaded shared index files.","title":"Showing compile error in IntelliJ-idea in editor","body":"<p>You can invalidate the cache</p>\n<pre><code>file -&gt; invalidate caches and restart \n</code></pre>\n<p>selecting first two options shown in invalidate cache has worked for, also you might get compile time error in already opened file so, try closing/opening these already opened files which are showing errors.</p>\n<ol>\n<li><p><strong>Clear file system cache and Local History</strong>: remove the virtual file system cache together with the information stored in Local\nHistory.</p>\n<pre><code>This action might be helpful for troubleshooting purposes when the usual cache invalidation is not enough to solve the problem.\n</code></pre>\n<ol start=\"2\">\n<li><strong>Ask before downloading new shared indexes</strong>: show a notification prompting you to download new shared indexes as they\nbecome available.</li>\n</ol>\n<pre><code>Enabling this option also updates your settings for shared project indexes in Settings/ Preferences | Tools | Shared Indexes.\n</code></pre>\n<ol start=\"3\">\n<li><strong>Clear downloaded shared indexes</strong>: remove the downloaded shared index files.</li>\n</ol>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":5156692,"reputation":339,"user_id":4129751,"accept_rate":42,"display_name":"Dravidian"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634848667,"creation_date":1634848667,"answer_id":69668493,"question_id":50636628,"body_markdown":"If it helps, I also had to bump up the heap size for compiler to get past this issue.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/G43Fn.png","title":"Showing compile error in IntelliJ-idea in editor","body":"<p>If it helps, I also had to bump up the heap size for compiler to get past this issue.</p>\n<p><a href=\"https://i.stack.imgur.com/G43Fn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/G43Fn.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":1519017,"reputation":833,"user_id":1419261,"display_name":"user1419261"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1639873214,"creation_date":1639873214,"answer_id":70408136,"question_id":50636628,"body_markdown":"Try deleteing the .idea folder under your project, close the project completely and re import fresh and it worked for me.","title":"Showing compile error in IntelliJ-idea in editor","body":"<p>Try deleteing the .idea folder under your project, close the project completely and re import fresh and it worked for me.</p>\n"},{"tags":[],"owner":{"account_id":4993801,"reputation":997,"user_id":4015129,"display_name":"Prashant Sahoo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1649779667,"creation_date":1649779187,"answer_id":71845827,"question_id":50636628,"body_markdown":"I resolved this issue by deleting the local maven repository and restoring the default setting of **Intellij** \r\n\r\n 1. Go to File --&gt; Manage IDE Settings --&gt; Restore Default Settings \r\n 2. Go to File --&gt; Settings --&gt; Build, Execution, Deployment --&gt; Build Tools --&gt; Maven --&gt; Get the **Local repository** path and delete it.\r\n 3. Open Intellij --&gt; open project --&gt; Go to Terminal --&gt; mvn clean install --&gt; error will disappear after build success","title":"Showing compile error in IntelliJ-idea in editor","body":"<p>I resolved this issue by deleting the local maven repository and restoring the default setting of <strong>Intellij</strong></p>\n<ol>\n<li>Go to File --&gt; Manage IDE Settings --&gt; Restore Default Settings</li>\n<li>Go to File --&gt; Settings --&gt; Build, Execution, Deployment --&gt; Build Tools --&gt; Maven --&gt; Get the <strong>Local repository</strong> path and delete it.</li>\n<li>Open Intellij --&gt; open project --&gt; Go to Terminal --&gt; mvn clean install --&gt; error will disappear after build success</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":7015510,"reputation":113,"user_id":7339779,"accept_rate":50,"display_name":"joy_jlee"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1691155333,"creation_date":1691155333,"answer_id":76836331,"question_id":50636628,"body_markdown":"If all the above solutions do not really help, make sure you have the necessary plugins installed (such as Lombok). After an Intellij upgrade, I needed to install lombok plugin again. Intellij usually suggests installing it in the pup-up window at the bottom. ","title":"Showing compile error in IntelliJ-idea in editor","body":"<p>If all the above solutions do not really help, make sure you have the necessary plugins installed (such as Lombok). After an Intellij upgrade, I needed to install lombok plugin again. Intellij usually suggests installing it in the pup-up window at the bottom.</p>\n"}],"owner":{"account_id":2970229,"reputation":844,"user_id":2522868,"accept_rate":100,"display_name":"yugi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12137,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":50647576,"answer_count":7,"score":11,"last_activity_date":1691155333,"creation_date":1527831019,"question_id":50636628,"body_markdown":"Showing compile error in IntelliJ-idea editor. \r\n\r\n    mvn clean install \r\n\r\nWhen run it will build successfully and run code normally. But in editor its unable to resolve those import. Some of the import is showing correctly some of the import it&#39;s showing error like Blow \r\n[![enter image description here][1]][1]\r\n\r\nand actually, the dependency is present in maven dependency list \r\n\r\n[![enter image description here][2]][2]\r\n\r\nIn the editor, it showing full of error \r\n\r\n\r\nI modified build settings, deleted repo, updated maven to the latest version, updated the IntelliJ and tried other suggestion in StackOverflow, still no solution for this problem.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/vokjK.png\r\n  [2]: https://i.stack.imgur.com/bc1jB.png\r\n","title":"Showing compile error in IntelliJ-idea in editor","body":"<p>Showing compile error in IntelliJ-idea editor. </p>\n\n<pre><code>mvn clean install \n</code></pre>\n\n<p>When run it will build successfully and run code normally. But in editor its unable to resolve those import. Some of the import is showing correctly some of the import it's showing error like Blow \n<a href=\"https://i.stack.imgur.com/vokjK.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/vokjK.png\" alt=\"enter image description here\"></a></p>\n\n<p>and actually, the dependency is present in maven dependency list </p>\n\n<p><a href=\"https://i.stack.imgur.com/bc1jB.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/bc1jB.png\" alt=\"enter image description here\"></a></p>\n\n<p>In the editor, it showing full of error </p>\n\n<p>I modified build settings, deleted repo, updated maven to the latest version, updated the IntelliJ and tried other suggestion in StackOverflow, still no solution for this problem.</p>\n"},{"tags":["java",".net","visual-studio","maven","nuget"],"comments":[{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":1,"creation_date":1691156675,"post_id":76836317,"comment_id":135457738,"body_markdown":"Can you include the data repo as a Git submodule? They&#39;d be in their own repo, but easily included in all other Git repos.","body":"Can you include the data repo as a Git submodule? They&#39;d be in their own repo, but easily included in all other Git repos."},{"owner":{"account_id":140870,"reputation":9817,"user_id":347484,"accept_rate":98,"display_name":"Boppity Bop"},"score":0,"creation_date":1691156731,"post_id":76836317,"comment_id":135457754,"body_markdown":"I don&#39;t know. I never heard of submodules. Tell me more please","body":"I don&#39;t know. I never heard of submodules. Tell me more please"},{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":1,"creation_date":1691156755,"post_id":76836317,"comment_id":135457757,"body_markdown":"https://git-scm.com/book/en/v2/Git-Tools-Submodules","body":"<a href=\"https://git-scm.com/book/en/v2/Git-Tools-Submodules\" rel=\"nofollow noreferrer\">git-scm.com/book/en/v2/Git-Tools-Submodules</a>"},{"owner":{"account_id":8334489,"reputation":5467,"user_id":6261890,"display_name":"Bowman Zhu-MSFT"},"score":0,"creation_date":1692697407,"post_id":76836317,"comment_id":135656116,"body_markdown":"@BoppityBop Hi, any update of this question? :)","body":"@BoppityBop Hi, any update of this question? :)"},{"owner":{"account_id":140870,"reputation":9817,"user_id":347484,"accept_rate":98,"display_name":"Boppity Bop"},"score":0,"creation_date":1692698223,"post_id":76836317,"comment_id":135656304,"body_markdown":"Jorn idea it sounds good.. but java team rejected the approach. so i couldnt test..","body":"Jorn idea it sounds good.. but java team rejected the approach. so i couldnt test.."}],"owner":{"account_id":140870,"reputation":9817,"user_id":347484,"accept_rate":98,"display_name":"Boppity Bop"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691155226,"creation_date":1691155226,"question_id":76836317,"body_markdown":"We currently have 3 teams working with same set of .json files : java .net and python.\r\n\r\nThe files are static data which changes not very often. They need to be deployed with executables. So they are code-agnostic assets\r\n\r\nThey are part of .net solution and java project (not sure how python guys structure theirs)\r\n\r\nIf there are changes in the files .net and python are going to java github repo and download them, replace locally, check in into their repos. There are also 2 different .net teams using it in separate VS solutions and separate github repos.\r\n\r\nIs there a way to automate it? Or better share from the single source?\r\n\r\nWe use enterprise github","title":"Share project files between Visual Studio .net and Eclipse java","body":"<p>We currently have 3 teams working with same set of .json files : java .net and python.</p>\n<p>The files are static data which changes not very often. They need to be deployed with executables. So they are code-agnostic assets</p>\n<p>They are part of .net solution and java project (not sure how python guys structure theirs)</p>\n<p>If there are changes in the files .net and python are going to java github repo and download them, replace locally, check in into their repos. There are also 2 different .net teams using it in separate VS solutions and separate github repos.</p>\n<p>Is there a way to automate it? Or better share from the single source?</p>\n<p>We use enterprise github</p>\n"},{"tags":["java","android","libgdx"],"comments":[{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1690974540,"post_id":76818465,"comment_id":135426828,"body_markdown":"I would say the class you use extends another class and you must pass arguments to the super() in /or from a constructor at minimum whether they are literals fed inside a no Arg constructor to super(....the args....)   or the class you built obtains some or all the args to feed to super(....args...)","body":"I would say the class you use extends another class and you must pass arguments to the super() in /or from a constructor at minimum whether they are literals fed inside a no Arg constructor to super(....the args....)   or the class you built obtains some or all the args to feed to super(....args...)"},{"owner":{"account_id":19809070,"reputation":1,"user_id":14508367,"display_name":"Ajax12Ajax"},"score":0,"creation_date":1691155299,"post_id":76818465,"comment_id":135457374,"body_markdown":"The library in question is built into the framework I&#39;m using (LibGDX) and I don&#39;t seem to be able to add a super() to it anywhere or I just don&#39;t know where to","body":"The library in question is built into the framework I&#39;m using (LibGDX) and I don&#39;t seem to be able to add a super() to it anywhere or I just don&#39;t know where to"},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1691211194,"post_id":76818465,"comment_id":135464541,"body_markdown":"I&#39;ll just presume &quot;you&quot; have written main class to import the library into, you would be &quot;extending&quot;? from a class in LibGDX ? Or is there a problem with pre loading LibGDX from some ready made program configuration on startup?","body":"I&#39;ll just presume &quot;you&quot; have written main class to import the library into, you would be &quot;extending&quot;? from a class in LibGDX ? Or is there a problem with pre loading LibGDX from some ready made program configuration on startup?"},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1691211853,"post_id":76818465,"comment_id":135464579,"body_markdown":"It appears you did not initialise a class you needed from this package is the most probable e.g. there is a variable but no construction call in the code, or it is in an if else (or some block) and unclear to the compiler if it would  get called.\n     com.badlogic.gdx.scenes.scene2d.ui","body":"It appears you did not initialise a class you needed from this package is the most probable e.g. there is a variable but no construction call in the code, or it is in an if else (or some block) and unclear to the compiler if it would  get called.      com.badlogic.gdx.scenes.scene2d.ui"},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1691212417,"post_id":76818465,"comment_id":135464631,"body_markdown":"However, starting an android application uses a no Arg constructor and is as I mentioned before &quot;extended&quot; class, so for main class it does no harm to put in public MyMainClass(){super();}","body":"However, starting an android application uses a no Arg constructor and is as I mentioned before &quot;extended&quot; class, so for main class it does no harm to put in public MyMainClass(){super();}"}],"owner":{"account_id":19809070,"reputation":1,"user_id":14508367,"display_name":"Ajax12Ajax"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691155110,"creation_date":1690968263,"question_id":76818465,"body_markdown":"I get this problem in google play console but not in ide anymore(I use intelij).\r\n\r\nI suspect there may be a problem with proguard.\r\n\r\nHere is my proguard:\r\n```\r\n-verbose\r\n\r\n-dontwarn com.badlogic.gdx.backends.android.AndroidFragmentApplication\r\n\r\n# Required if using Gdx-Controllers extension\r\n-keep class com.badlogic.gdx.controllers.android.AndroidControllers\r\n\r\n-keep class com.badlogic.gdx.scenes.scene2d.ui.**{\r\n   **[] $VALUES;\r\n    *;\r\n}\r\n\r\n-keep class com.your.game.data.**{\r\n   **[] $VALUES;\r\n    *;\r\n}\r\n\r\n# Required if using Box2D extension\r\n-keepclassmembers class com.badlogic.gdx.physics.box2d.World {\r\n   boolean contactFilter(long, long);\r\n   void    beginContact(long);\r\n   void    endContact(long);\r\n   void    preSolve(long, long);\r\n   void    postSolve(long, long);\r\n   boolean reportFixture(long);\r\n   float   reportRayFixture(long, float, float, float, float, float);\r\n}\r\n\r\n```\r\n","title":"LibGDX Class cannot be created (missing no-arg constructor): com.badlogic.gdx.scenes.scene2d.f","body":"<p>I get this problem in google play console but not in ide anymore(I use intelij).</p>\n<p>I suspect there may be a problem with proguard.</p>\n<p>Here is my proguard:</p>\n<pre><code>-verbose\n\n-dontwarn com.badlogic.gdx.backends.android.AndroidFragmentApplication\n\n# Required if using Gdx-Controllers extension\n-keep class com.badlogic.gdx.controllers.android.AndroidControllers\n\n-keep class com.badlogic.gdx.scenes.scene2d.ui.**{\n   **[] $VALUES;\n    *;\n}\n\n-keep class com.your.game.data.**{\n   **[] $VALUES;\n    *;\n}\n\n# Required if using Box2D extension\n-keepclassmembers class com.badlogic.gdx.physics.box2d.World {\n   boolean contactFilter(long, long);\n   void    beginContact(long);\n   void    endContact(long);\n   void    preSolve(long, long);\n   void    postSolve(long, long);\n   boolean reportFixture(long);\n   float   reportRayFixture(long, float, float, float, float, float);\n}\n\n</code></pre>\n"},{"tags":["java","hibernate","jboss","db2"],"owner":{"account_id":19542705,"reputation":11,"user_id":14300153,"display_name":"Ciprian Istrate"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691154679,"creation_date":1691153512,"question_id":76836092,"body_markdown":"Hello i have this error  [Classpath]: Could not load AnnotationConfiguration while i&#39;m trying to use hibernate tool to generate table to/from database that i use. I create a simple maven project just to test the connection. NOTE: On Database Development Perspective - I create a Database Connection that can send Pings to my db\r\n\r\n\r\n\r\npom.xml \r\n```&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n  &lt;groupId&gt;org.o7planning&lt;/groupId&gt;\r\n  &lt;artifactId&gt;HibernateGenerateEntities&lt;/artifactId&gt;\r\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n  &lt;packaging&gt;jar&lt;/packaging&gt;\r\n\r\n  &lt;name&gt;HibernateGenerateEntities&lt;/name&gt;\r\n  &lt;url&gt;http://maven.apache.org&lt;/url&gt;\r\n\r\n  &lt;properties&gt;\r\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n  &lt;/properties&gt;\r\n\r\n  &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;junit&lt;/groupId&gt;\r\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n      &lt;version&gt;3.8.1&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n   \r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\r\n            &lt;version&gt;5.2.4.Final&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- for JPA, use hibernate-entitymanager instead of hibernate-core --&gt;\r\n       &lt;dependency&gt;\r\n    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n    &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n    &lt;version&gt;5.1.0.Final&lt;/version&gt;\r\n    &lt;exclusions&gt;\r\n        &lt;exclusion&gt;\r\n            &lt;groupId&gt;dom4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;dom4j&lt;/artifactId&gt;\r\n        &lt;/exclusion&gt;\r\n    &lt;/exclusions&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n    &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\r\n    &lt;version&gt;5.1.0.Final&lt;/version&gt;\r\n    &lt;exclusions&gt;\r\n        &lt;exclusion&gt;\r\n            &lt;groupId&gt;dom4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;dom4j&lt;/artifactId&gt;\r\n        &lt;/exclusion&gt;\r\n    &lt;/exclusions&gt;\r\n&lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hibernate-ehcache&lt;/artifactId&gt;\r\n            &lt;version&gt;5.1.0.Final&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        \r\n   \r\n        \r\n  &lt;/dependencies&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nhibernate.cfg.xml \r\n```&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;!DOCTYPE hibernate-configuration SYSTEM\r\n\t\t\r\n\t\t&quot;http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd&quot;&gt;\r\n&lt;hibernate-configuration&gt;\r\n    &lt;session-factory&gt;\r\n        &lt;property name=&quot;hibernate.connection.driver_class&quot;&gt;com.ibm.db2.jcc.DB2Driver&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.connection.password&quot;&gt;pass&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.connection.url&quot;&gt;jdbc:db2:URL:sslConnection=true;&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.connection.username&quot;&gt;username&lt;/property&gt;\r\n         &lt;property name=&quot;hibernate.dialect&quot;&gt;\r\n            org.hibernate.dialect.DB2390Dialect\r\n        &lt;/property&gt;\r\n    &lt;/session-factory&gt;\r\n&lt;/hibernate-configuration&gt;\r\n```\r\n[![Hibernate Config](https://i.stack.imgur.com/o0LMf.png)](https://i.stack.imgur.com/o0LMf.png)\r\n\r\nI tried to add:  ```&lt;scope&gt;provided&lt;/scope&gt;``` for hibernate core/ validator also in hibernate.cfg.xml i add SYSTEM. Thanks.\r\n\r\nFull error trace: \r\n```org.hibernate.console.HibernateConsoleRuntimeException: Could not load AnnotationConfiguration\r\n\tat org.hibernate.console.ConfigurationFactory.buildConfiguration(ConfigurationFactory.java:149)\r\n\tat org.hibernate.console.ConfigurationFactory.createConfiguration(ConfigurationFactory.java:87)\r\n\tat org.hibernate.eclipse.console.common.HibernateExtension$5.execute(HibernateExtension.java:165)\r\n\tat org.hibernate.console.execution.DefaultExecutionContext.execute(DefaultExecutionContext.java:63)\r\n\tat org.hibernate.eclipse.console.common.HibernateExtension.execute(HibernateExtension.java:188)\r\n\tat org.hibernate.eclipse.console.common.HibernateExtension.buildWith(HibernateExtension.java:162)\r\n\tat org.hibernate.eclipse.console.common.HibernateExtension.build(HibernateExtension.java:133)\r\n\tat org.hibernate.console.ConsoleConfiguration.build(ConsoleConfiguration.java:188)\r\n\tat org.hibernate.eclipse.console.workbench.ConsoleConfigurationWorkbenchAdapter.getChildren(ConsoleConfigurationWorkbenchAdapter.java:43)\r\n\tat org.hibernate.eclipse.console.workbench.BasicWorkbenchAdapter.getChildren(BasicWorkbenchAdapter.java:98)\r\n\tat org.hibernate.eclipse.console.workbench.BasicWorkbenchAdapter.fetchDeferredChildren(BasicWorkbenchAdapter.java:104)\r\n\tat org.eclipse.ui.progress.DeferredTreeContentManager$1.run(DeferredTreeContentManager.java:219)\r\n\tat org.eclipse.core.internal.jobs.Worker.run(Worker.java:63)\r\nCaused by: org.hibernate.HibernateException: Could not parse configuration: C:\\DIALOG\\server\\workspaces\\server-ngg\\CommonHibernate\\HibernateGenerateEntities\\src\\main\\java\\hibernate.cfg.xml\r\n\tat org.hibernate.cfg.Configuration.doConfigure(Configuration.java:2165)\r\n\tat org.hibernate.cfg.Configuration.configure(Configuration.java:2135)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.jboss.tools.hibernate.runtime.common.Util.invokeMethod(Util.java:43)\r\n\tat org.jboss.tools.hibernate.runtime.common.AbstractConfigurationFacade.configure(AbstractConfigurationFacade.java:137)\r\n\tat org.hibernate.console.ConfigurationFactory.loadConfigurationXML(ConfigurationFactory.java:340)\r\n\tat org.hibernate.console.ConfigurationFactory.configureStandardConfiguration(ConfigurationFactory.java:268)\r\n\tat org.hibernate.console.ConfigurationFactory.buildConfiguration(ConfigurationFactory.java:145)\r\n\t... 12 more\r\nCaused by: org.dom4j.DocumentException: class org.dom4j.DocumentFactory cannot be cast to class org.dom4j.DocumentFactory (org.dom4j.DocumentFactory is in unnamed module of loader org.hibernate.console.ConsoleConfiguration$2$1 @7ab066a5; org.dom4j.DocumentFactory is in unnamed module of loader org.eclipse.osgi.internal.loader.EquinoxClassLoader @490b38f7) Nested exception: class org.dom4j.DocumentFactory cannot be cast to class org.dom4j.DocumentFactory (org.dom4j.DocumentFactory is in unnamed module of loader org.hibernate.console.ConsoleConfiguration$2$1 @7ab066a5; org.dom4j.DocumentFactory is in unnamed module of loader org.eclipse.osgi.internal.loader.EquinoxClassLoader @490b38f7)\r\n\tat org.dom4j.io.SAXReader.read(SAXReader.java:484)\r\n\tat org.hibernate.cfg.Configuration.doConfigure(Configuration.java:2157)\r\n\t... 22 more\r\n```","title":"[Classpath]: Could not load AnnotationConfiguration","body":"<p>Hello i have this error  [Classpath]: Could not load AnnotationConfiguration while i'm trying to use hibernate tool to generate table to/from database that i use. I create a simple maven project just to test the connection. NOTE: On Database Development Perspective - I create a Database Connection that can send Pings to my db</p>\n<p>pom.xml</p>\n<pre><code>  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n  &lt;groupId&gt;org.o7planning&lt;/groupId&gt;\n  &lt;artifactId&gt;HibernateGenerateEntities&lt;/artifactId&gt;\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n  &lt;packaging&gt;jar&lt;/packaging&gt;\n\n  &lt;name&gt;HibernateGenerateEntities&lt;/name&gt;\n  &lt;url&gt;http://maven.apache.org&lt;/url&gt;\n\n  &lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n  &lt;/properties&gt;\n\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;junit&lt;/groupId&gt;\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\n      &lt;version&gt;3.8.1&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n   \n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\n            &lt;version&gt;5.2.4.Final&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- for JPA, use hibernate-entitymanager instead of hibernate-core --&gt;\n       &lt;dependency&gt;\n    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n    &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n    &lt;version&gt;5.1.0.Final&lt;/version&gt;\n    &lt;exclusions&gt;\n        &lt;exclusion&gt;\n            &lt;groupId&gt;dom4j&lt;/groupId&gt;\n            &lt;artifactId&gt;dom4j&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n    &lt;/exclusions&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n    &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\n    &lt;version&gt;5.1.0.Final&lt;/version&gt;\n    &lt;exclusions&gt;\n        &lt;exclusion&gt;\n            &lt;groupId&gt;dom4j&lt;/groupId&gt;\n            &lt;artifactId&gt;dom4j&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n    &lt;/exclusions&gt;\n&lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-ehcache&lt;/artifactId&gt;\n            &lt;version&gt;5.1.0.Final&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        \n   \n        \n  &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n<p>hibernate.cfg.xml</p>\n<pre><code>&lt;!DOCTYPE hibernate-configuration SYSTEM\n        \n        &quot;http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd&quot;&gt;\n&lt;hibernate-configuration&gt;\n    &lt;session-factory&gt;\n        &lt;property name=&quot;hibernate.connection.driver_class&quot;&gt;com.ibm.db2.jcc.DB2Driver&lt;/property&gt;\n        &lt;property name=&quot;hibernate.connection.password&quot;&gt;pass&lt;/property&gt;\n        &lt;property name=&quot;hibernate.connection.url&quot;&gt;jdbc:db2:URL:sslConnection=true;&lt;/property&gt;\n        &lt;property name=&quot;hibernate.connection.username&quot;&gt;username&lt;/property&gt;\n         &lt;property name=&quot;hibernate.dialect&quot;&gt;\n            org.hibernate.dialect.DB2390Dialect\n        &lt;/property&gt;\n    &lt;/session-factory&gt;\n&lt;/hibernate-configuration&gt;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/o0LMf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/o0LMf.png\" alt=\"Hibernate Config\" /></a></p>\n<p>I tried to add:  <code>&lt;scope&gt;provided&lt;/scope&gt;</code> for hibernate core/ validator also in hibernate.cfg.xml i add SYSTEM. Thanks.</p>\n<p>Full error trace:</p>\n<pre><code>    at org.hibernate.console.ConfigurationFactory.buildConfiguration(ConfigurationFactory.java:149)\n    at org.hibernate.console.ConfigurationFactory.createConfiguration(ConfigurationFactory.java:87)\n    at org.hibernate.eclipse.console.common.HibernateExtension$5.execute(HibernateExtension.java:165)\n    at org.hibernate.console.execution.DefaultExecutionContext.execute(DefaultExecutionContext.java:63)\n    at org.hibernate.eclipse.console.common.HibernateExtension.execute(HibernateExtension.java:188)\n    at org.hibernate.eclipse.console.common.HibernateExtension.buildWith(HibernateExtension.java:162)\n    at org.hibernate.eclipse.console.common.HibernateExtension.build(HibernateExtension.java:133)\n    at org.hibernate.console.ConsoleConfiguration.build(ConsoleConfiguration.java:188)\n    at org.hibernate.eclipse.console.workbench.ConsoleConfigurationWorkbenchAdapter.getChildren(ConsoleConfigurationWorkbenchAdapter.java:43)\n    at org.hibernate.eclipse.console.workbench.BasicWorkbenchAdapter.getChildren(BasicWorkbenchAdapter.java:98)\n    at org.hibernate.eclipse.console.workbench.BasicWorkbenchAdapter.fetchDeferredChildren(BasicWorkbenchAdapter.java:104)\n    at org.eclipse.ui.progress.DeferredTreeContentManager$1.run(DeferredTreeContentManager.java:219)\n    at org.eclipse.core.internal.jobs.Worker.run(Worker.java:63)\nCaused by: org.hibernate.HibernateException: Could not parse configuration: C:\\DIALOG\\server\\workspaces\\server-ngg\\CommonHibernate\\HibernateGenerateEntities\\src\\main\\java\\hibernate.cfg.xml\n    at org.hibernate.cfg.Configuration.doConfigure(Configuration.java:2165)\n    at org.hibernate.cfg.Configuration.configure(Configuration.java:2135)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.jboss.tools.hibernate.runtime.common.Util.invokeMethod(Util.java:43)\n    at org.jboss.tools.hibernate.runtime.common.AbstractConfigurationFacade.configure(AbstractConfigurationFacade.java:137)\n    at org.hibernate.console.ConfigurationFactory.loadConfigurationXML(ConfigurationFactory.java:340)\n    at org.hibernate.console.ConfigurationFactory.configureStandardConfiguration(ConfigurationFactory.java:268)\n    at org.hibernate.console.ConfigurationFactory.buildConfiguration(ConfigurationFactory.java:145)\n    ... 12 more\nCaused by: org.dom4j.DocumentException: class org.dom4j.DocumentFactory cannot be cast to class org.dom4j.DocumentFactory (org.dom4j.DocumentFactory is in unnamed module of loader org.hibernate.console.ConsoleConfiguration$2$1 @7ab066a5; org.dom4j.DocumentFactory is in unnamed module of loader org.eclipse.osgi.internal.loader.EquinoxClassLoader @490b38f7) Nested exception: class org.dom4j.DocumentFactory cannot be cast to class org.dom4j.DocumentFactory (org.dom4j.DocumentFactory is in unnamed module of loader org.hibernate.console.ConsoleConfiguration$2$1 @7ab066a5; org.dom4j.DocumentFactory is in unnamed module of loader org.eclipse.osgi.internal.loader.EquinoxClassLoader @490b38f7)\n    at org.dom4j.io.SAXReader.read(SAXReader.java:484)\n    at org.hibernate.cfg.Configuration.doConfigure(Configuration.java:2157)\n    ... 22 more\n</code></pre>\n"},{"tags":["java","hibernate","spring-data-jpa","fetch"],"owner":{"account_id":27665354,"reputation":21,"user_id":21117304,"display_name":"IvaneP"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1691153945,"creation_date":1691153945,"question_id":76836156,"body_markdown":"I wonder how I can avoid warn log: *HHH90003004: firstResult/maxResults specified with collection fetch; applying in memory* .\r\n\r\nI used tis @Query annotation (it&#39;s working):\r\n\r\n```\r\n@Query(&quot;select distinct p from Place p&quot;)\r\nPage&lt;Place&gt; findAllWithEvents(Pageable pageable);\r\n```\r\n\r\n**but my task required : paging with fetching**. I tried with two methods:\r\n\r\n```\r\n@Repository\r\npublic interface PlaceRepository extends JpaRepository&lt;Place, Long&gt; {\r\n\r\n    @Query(&quot;select p.id from Place p&quot;)\r\n    List&lt;Long&gt; getAllIds(Pageable pageable);\r\n\r\n    @Query(&quot;select distinct p from Place p left join fetch p.events where p.id IN (:ids)&quot;)\r\n    Page&lt;Place&gt; findAll(@Param(&quot;ids&quot;)List&lt;Long&gt; ids);\r\n```\r\n\r\n,.. but I don&#39;t know how to connect them then in the service?\r\n\r\n```\r\n@Service\r\n@RequiredArgsConstructor\r\npublic class PlaceServiceImpl implements PlaceService {\r\n\r\n    public static final int PAGE_SIZE = 3;\r\n    private final PlaceRepository placeRepository;\r\n\r\n    @Override\r\n    public PlaceSaveDto save(CreatePlaceCommand command) {\r\n        return PlaceSaveDto.fromEntity(placeRepository.save(command.toEntity()));\r\n    }\r\n\r\n    @Override\r\n    public Page&lt;PlaceDto&gt; findAll(Pageable pageable) {\r\n        Page&lt;Place&gt; placesWithEvents = placeRepository.findAll(pageable);\r\n        return placesWithEvents.map(place -&gt; PlaceDto.fromEntityWithEvents(place, place.getEvents()));\r\n    }\r\n}\r\n```\r\n\r\nI have two classes wiht relation one to many:\r\n\r\n```\r\n@Entity\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@EqualsAndHashCode\r\n@Getter\r\n@Setter\r\n@Builder\r\n@ToString\r\npublic class Place {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private long id;\r\n\r\n    private String name;\r\n    private long numberOfPeople;\r\n    private String uniqueCode;\r\n\r\n    @OneToMany\r\n    @JoinColumn(name = &quot;placeId&quot;)\r\n    @BatchSize(size = 10)\r\n    private Set&lt;Event&gt; events;\r\n\r\n\r\n    @PostPersist\r\n    public void generateUniqueCode() {\r\n        StringBuilder codeBuilder = new StringBuilder();\r\n\r\n        if (name.length() &lt;= 3) {\r\n            codeBuilder.append(name.toUpperCase());\r\n        } else {\r\n            codeBuilder.append(name.substring(0, 3).toUpperCase());\r\n        }\r\n        codeBuilder.append(id);\r\n        uniqueCode = codeBuilder.toString().replaceAll(&quot;\\\\s+&quot;, &quot;&quot;);\r\n    }\r\n}\r\n\r\n\r\n@Entity\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@EqualsAndHashCode\r\n@Getter\r\n@Setter\r\n@Builder\r\n@ToString\r\npublic class Event {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private long id;\r\n\r\n    private String name;\r\n    private LocalDate date;\r\n    private BigDecimal price;\r\n    private long numberOfPeople;\r\n    private long placeId;\r\n    private String placeUniqueCode;\r\n}\r\n```\r\n\r\ncan you tell me where i am making mistake?","title":"Paging with fetching - Spring Data JPA","body":"<p>I wonder how I can avoid warn log: <em>HHH90003004: firstResult/maxResults specified with collection fetch; applying in memory</em> .</p>\n<p>I used tis @Query annotation (it's working):</p>\n<pre><code>@Query(&quot;select distinct p from Place p&quot;)\nPage&lt;Place&gt; findAllWithEvents(Pageable pageable);\n</code></pre>\n<p><strong>but my task required : paging with fetching</strong>. I tried with two methods:</p>\n<pre><code>@Repository\npublic interface PlaceRepository extends JpaRepository&lt;Place, Long&gt; {\n\n    @Query(&quot;select p.id from Place p&quot;)\n    List&lt;Long&gt; getAllIds(Pageable pageable);\n\n    @Query(&quot;select distinct p from Place p left join fetch p.events where p.id IN (:ids)&quot;)\n    Page&lt;Place&gt; findAll(@Param(&quot;ids&quot;)List&lt;Long&gt; ids);\n</code></pre>\n<p>,.. but I don't know how to connect them then in the service?</p>\n<pre><code>@Service\n@RequiredArgsConstructor\npublic class PlaceServiceImpl implements PlaceService {\n\n    public static final int PAGE_SIZE = 3;\n    private final PlaceRepository placeRepository;\n\n    @Override\n    public PlaceSaveDto save(CreatePlaceCommand command) {\n        return PlaceSaveDto.fromEntity(placeRepository.save(command.toEntity()));\n    }\n\n    @Override\n    public Page&lt;PlaceDto&gt; findAll(Pageable pageable) {\n        Page&lt;Place&gt; placesWithEvents = placeRepository.findAll(pageable);\n        return placesWithEvents.map(place -&gt; PlaceDto.fromEntityWithEvents(place, place.getEvents()));\n    }\n}\n</code></pre>\n<p>I have two classes wiht relation one to many:</p>\n<pre><code>@Entity\n@AllArgsConstructor\n@NoArgsConstructor\n@EqualsAndHashCode\n@Getter\n@Setter\n@Builder\n@ToString\npublic class Place {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private long id;\n\n    private String name;\n    private long numberOfPeople;\n    private String uniqueCode;\n\n    @OneToMany\n    @JoinColumn(name = &quot;placeId&quot;)\n    @BatchSize(size = 10)\n    private Set&lt;Event&gt; events;\n\n\n    @PostPersist\n    public void generateUniqueCode() {\n        StringBuilder codeBuilder = new StringBuilder();\n\n        if (name.length() &lt;= 3) {\n            codeBuilder.append(name.toUpperCase());\n        } else {\n            codeBuilder.append(name.substring(0, 3).toUpperCase());\n        }\n        codeBuilder.append(id);\n        uniqueCode = codeBuilder.toString().replaceAll(&quot;\\\\s+&quot;, &quot;&quot;);\n    }\n}\n\n\n@Entity\n@AllArgsConstructor\n@NoArgsConstructor\n@EqualsAndHashCode\n@Getter\n@Setter\n@Builder\n@ToString\npublic class Event {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private long id;\n\n    private String name;\n    private LocalDate date;\n    private BigDecimal price;\n    private long numberOfPeople;\n    private long placeId;\n    private String placeUniqueCode;\n}\n</code></pre>\n<p>can you tell me where i am making mistake?</p>\n"},{"tags":["java","android","android-studio"],"answers":[{"tags":[],"owner":{"account_id":19949849,"reputation":91,"user_id":14619737,"display_name":"Nibuvax"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1660234051,"creation_date":1605243757,"answer_id":64815757,"question_id":60684730,"body_markdown":"This code will solve problem\r\n\r\n    android {\r\n        packagingOptions {\r\n            pickFirst &quot;META-INF/DEPENDENCIES&quot;\r\n        }\r\n    }\r\n    \r\nor\r\n\r\n    android {\r\n        packagingOptions {\r\n            exclude &quot;META-INF/DEPENDENCIES&quot;\r\n        }\r\n    }\r\n\r\n","title":"Error: Execution failed for task &#39;:app:mergeDebugJavaResource&#39;","body":"<p>This code will solve problem</p>\n<pre><code>android {\n    packagingOptions {\n        pickFirst &quot;META-INF/DEPENDENCIES&quot;\n    }\n}\n</code></pre>\n<p>or</p>\n<pre><code>android {\n    packagingOptions {\n        exclude &quot;META-INF/DEPENDENCIES&quot;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25184408,"reputation":21,"user_id":19025500,"display_name":"Hitesh Nath"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666453478,"creation_date":1666453478,"answer_id":74164926,"question_id":60684730,"body_markdown":"&gt; flutter clean\r\n&gt; \r\n&gt; flutter pub get\r\n\r\n\r\nThis works for me.","title":"Error: Execution failed for task &#39;:app:mergeDebugJavaResource&#39;","body":"<blockquote>\n<p>flutter clean</p>\n<p>flutter pub get</p>\n</blockquote>\n<p>This works for me.</p>\n"},{"tags":[],"owner":{"account_id":8535619,"reputation":1642,"user_id":7647323,"display_name":"AAber "},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677349997,"creation_date":1677349997,"answer_id":75567555,"question_id":60684730,"body_markdown":"My ISP is using custom SSL infrastructure which blocked the Gradle downloads from: https://storage.googleapis.com/download.flutter.io/io/flutter/arm64_v8a_debug/\r\n\r\nOnce I connected to the internet with a standard connection the build completed without error.  ","title":"Error: Execution failed for task &#39;:app:mergeDebugJavaResource&#39;","body":"<p>My ISP is using custom SSL infrastructure which blocked the Gradle downloads from: <a href=\"https://storage.googleapis.com/download.flutter.io/io/flutter/arm64_v8a_debug/\" rel=\"nofollow noreferrer\">https://storage.googleapis.com/download.flutter.io/io/flutter/arm64_v8a_debug/</a></p>\n<p>Once I connected to the internet with a standard connection the build completed without error.</p>\n"},{"tags":[],"owner":{"account_id":24683299,"reputation":21,"user_id":18576787,"display_name":"Ali Salhab"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691153819,"creation_date":1691153338,"answer_id":76836070,"question_id":60684730,"body_markdown":"\r\nthe main problem in pubspec.yaml file \r\nmake sure to edit pubspec.yaml correctly then\r\n` flutter clean\r\n&amp;&amp; flutter pub get`","title":"Error: Execution failed for task &#39;:app:mergeDebugJavaResource&#39;","body":"<p>the main problem in pubspec.yaml file\nmake sure to edit pubspec.yaml correctly then\n<code> flutter clean &amp;&amp; flutter pub get</code></p>\n"}],"owner":{"account_id":14682697,"reputation":121,"user_id":10603682,"display_name":"Jel Oly"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22174,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"answer_count":4,"score":12,"last_activity_date":1691153819,"creation_date":1584202186,"question_id":60684730,"body_markdown":"I build new Project in android studio Java language and Run &#39;app&#39; failed show error.\r\n\r\nI installed New program and installed new windows but Run failed show error.\r\n\r\n    Executing tasks: [:app:assembleDebug] in project D:\\File\\Android Project\\MyApplication\r\n    \r\n    &gt; Task :app:preBuild UP-TO-DATE\r\n    &gt; Task :app:preDebugBuild UP-TO-DATE\r\n    &gt; Task :app:generateDebugBuildConfig UP-TO-DATE\r\n    &gt; Task :app:javaPreCompileDebug UP-TO-DATE\r\n    &gt; Task :app:compileDebugAidl NO-SOURCE\r\n    &gt; Task :app:compileDebugRenderscript NO-SOURCE\r\n    &gt; Task :app:mainApkListPersistenceDebug UP-TO-DATE\r\n    &gt; Task :app:generateDebugResValues UP-TO-DATE\r\n    &gt; Task :app:generateDebugResources UP-TO-DATE\r\n    &gt; Task :app:mergeDebugResources UP-TO-DATE\r\n    &gt; Task :app:createDebugCompatibleScreenManifests UP-TO-DATE\r\n    &gt; Task :app:extractDeepLinksDebug UP-TO-DATE\r\n    &gt; Task :app:processDebugManifest UP-TO-DATE\r\n    &gt; Task :app:processDebugResources UP-TO-DATE\r\n    &gt; Task :app:compileDebugJavaWithJavac UP-TO-DATE\r\n    &gt; Task :app:compileDebugSources UP-TO-DATE\r\n    &gt; Task :app:mergeDebugShaders UP-TO-DATE\r\n    &gt; Task :app:compileDebugShaders UP-TO-DATE\r\n    &gt; Task :app:generateDebugAssets UP-TO-DATE\r\n    &gt; Task :app:mergeDebugAssets UP-TO-DATE\r\n    &gt; Task :app:processDebugJavaRes NO-SOURCE\r\n    &gt; Task :app:dexBuilderDebug\r\n    &gt; Task :app:mergeDebugJavaResource FAILED\r\n    \r\n    FAILURE: Build failed with an exception.\r\n\r\n    * What went wrong:\r\n    Execution failed for task &#39;:app:mergeDebugJavaResource&#39;.\r\n    &gt; A failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\n       &gt; com.google.common.base.VerifyException (no error message)\r\n    \r\n    * Try:\r\n    Run with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n    \r\n    * Get more help at https://help.gradle.org\r\n    \r\n    BUILD FAILED in 6s\r\n    15 actionable tasks: 2 executed, 13 up-to-date\r\n\r\n\r\n","title":"Error: Execution failed for task &#39;:app:mergeDebugJavaResource&#39;","body":"<p>I build new Project in android studio Java language and Run 'app' failed show error.</p>\n\n<p>I installed New program and installed new windows but Run failed show error.</p>\n\n<pre><code>Executing tasks: [:app:assembleDebug] in project D:\\File\\Android Project\\MyApplication\n\n&gt; Task :app:preBuild UP-TO-DATE\n&gt; Task :app:preDebugBuild UP-TO-DATE\n&gt; Task :app:generateDebugBuildConfig UP-TO-DATE\n&gt; Task :app:javaPreCompileDebug UP-TO-DATE\n&gt; Task :app:compileDebugAidl NO-SOURCE\n&gt; Task :app:compileDebugRenderscript NO-SOURCE\n&gt; Task :app:mainApkListPersistenceDebug UP-TO-DATE\n&gt; Task :app:generateDebugResValues UP-TO-DATE\n&gt; Task :app:generateDebugResources UP-TO-DATE\n&gt; Task :app:mergeDebugResources UP-TO-DATE\n&gt; Task :app:createDebugCompatibleScreenManifests UP-TO-DATE\n&gt; Task :app:extractDeepLinksDebug UP-TO-DATE\n&gt; Task :app:processDebugManifest UP-TO-DATE\n&gt; Task :app:processDebugResources UP-TO-DATE\n&gt; Task :app:compileDebugJavaWithJavac UP-TO-DATE\n&gt; Task :app:compileDebugSources UP-TO-DATE\n&gt; Task :app:mergeDebugShaders UP-TO-DATE\n&gt; Task :app:compileDebugShaders UP-TO-DATE\n&gt; Task :app:generateDebugAssets UP-TO-DATE\n&gt; Task :app:mergeDebugAssets UP-TO-DATE\n&gt; Task :app:processDebugJavaRes NO-SOURCE\n&gt; Task :app:dexBuilderDebug\n&gt; Task :app:mergeDebugJavaResource FAILED\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':app:mergeDebugJavaResource'.\n&gt; A failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\n   &gt; com.google.common.base.VerifyException (no error message)\n\n* Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 6s\n15 actionable tasks: 2 executed, 13 up-to-date\n</code></pre>\n"},{"tags":["java","linked-list"],"comments":[{"owner":{"account_id":2524075,"reputation":36076,"user_id":2193767,"accept_rate":78,"display_name":"TheLostMind"},"score":0,"creation_date":1401348022,"post_id":23927887,"comment_id":36851665,"body_markdown":"http://docs.oracle.com/javase/7/docs/api/java/util/LinkedList.html. Check Oracle documentation.","body":"<a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/LinkedList.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/util/LinkedList.html</a>. Check Oracle documentation."},{"owner":{"account_id":1593181,"reputation":5129,"user_id":1476062,"display_name":"Dennis Meng"},"score":2,"creation_date":1401348115,"post_id":23927887,"comment_id":36851711,"body_markdown":"Do you mind if I change the title to &quot;What is the difference between getFirst() and peekFirst() in Java&#39;s LinkedList?&quot; What you have is a little vague (it sounds like you&#39;re talking about all of the methods in the title, and it&#39;s not clear from the title exactly what you&#39;re asking about them)","body":"Do you mind if I change the title to &quot;What is the difference between getFirst() and peekFirst() in Java&#39;s LinkedList?&quot; What you have is a little vague (it sounds like you&#39;re talking about all of the methods in the title, and it&#39;s not clear from the title exactly what you&#39;re asking about them)"},{"owner":{"display_name":"user2031271"},"score":0,"creation_date":1401348314,"post_id":23927887,"comment_id":36851833,"body_markdown":"@DennisMeng Sure, you can do that.","body":"@DennisMeng Sure, you can do that."},{"owner":{"account_id":37136,"reputation":57812,"user_id":106104,"accept_rate":62,"display_name":"user253751"},"score":1,"creation_date":1401349967,"post_id":23927887,"comment_id":36852681,"body_markdown":"This question is really about `Deque` (which `LinkedList` implements) and not `LinkedList` directly.","body":"This question is really about <code>Deque</code> (which <code>LinkedList</code> implements) and not <code>LinkedList</code> directly."}],"answers":[{"tags":[],"owner":{"account_id":134022,"reputation":717183,"user_id":335858,"accept_rate":81,"display_name":"Sergey Kalinichenko"},"down_vote_count":0,"up_vote_count":19,"is_accepted":true,"score":19,"last_activity_date":1401349091,"creation_date":1401348313,"answer_id":23928024,"question_id":23927887,"body_markdown":"Java introduced `LinkedList` in version 1.2. This is when the `getFirst` method has been provided. This message threw `NoSuchElementException` when the list is empty, causing programmers to do an extra check before the call:\r\n\r\n    Element e = null;\r\n    if (!myList.isEmpty()) {\r\n         e = myList.getFirst();\r\n    }\r\n\r\nThis was an inconvenience, which has been fixed in Java version 1.6 by adding the `peekFirst` method and other methods of the `Dequeue&lt;T&gt;` interface.","title":"What is the difference between getFirst() and peekFirst() in Java&#39;s LinkedList?","body":"<p>Java introduced <code>LinkedList</code> in version 1.2. This is when the <code>getFirst</code> method has been provided. This message threw <code>NoSuchElementException</code> when the list is empty, causing programmers to do an extra check before the call:</p>\n\n<pre><code>Element e = null;\nif (!myList.isEmpty()) {\n     e = myList.getFirst();\n}\n</code></pre>\n\n<p>This was an inconvenience, which has been fixed in Java version 1.6 by adding the <code>peekFirst</code> method and other methods of the <code>Dequeue&lt;T&gt;</code> interface.</p>\n"},{"tags":[],"owner":{"account_id":335028,"reputation":1001,"user_id":661859,"accept_rate":75,"display_name":"Nitul"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1401349108,"creation_date":1401349108,"answer_id":23928228,"question_id":23927887,"body_markdown":"Only one reson:\r\n1) It reduces the Exception Handling while development\r\n\r\n     public E peekFirst() {\r\n         if (size==0)\r\n            return null;\r\n\r\n         return getFirst();\r\n     }\r\n\r\nAbove is the implementation of peekFirst(), it just check the size ZERO, and returns NULL instead of throwing Exception\r\n","title":"What is the difference between getFirst() and peekFirst() in Java&#39;s LinkedList?","body":"<p>Only one reson:\n1) It reduces the Exception Handling while development</p>\n\n<pre><code> public E peekFirst() {\n     if (size==0)\n        return null;\n\n     return getFirst();\n }\n</code></pre>\n\n<p>Above is the implementation of peekFirst(), it just check the size ZERO, and returns NULL instead of throwing Exception</p>\n"},{"tags":[],"owner":{"account_id":2052678,"reputation":134073,"user_id":1831293,"accept_rate":91,"display_name":"Evgeniy Dorofeev"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1401349495,"creation_date":1401349495,"answer_id":23928325,"question_id":23927887,"body_markdown":"LinkedList is a Deque. Deque API defines methods which exist in two forms: one throws an exception if the operation fails, the other returns a special value (either null or false, depending on the operation).","title":"What is the difference between getFirst() and peekFirst() in Java&#39;s LinkedList?","body":"<p>LinkedList is a Deque. Deque API defines methods which exist in two forms: one throws an exception if the operation fails, the other returns a special value (either null or false, depending on the operation).</p>\n"},{"tags":[],"owner":{"account_id":28872167,"reputation":21,"user_id":22113475,"display_name":"Shraboni Sinha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691153460,"creation_date":1690867492,"answer_id":76808724,"question_id":23927887,"body_markdown":"If your `LinkedList` has data then there is no difference, but if your `LinkedList` is empty then the `peekFirst()` method returns null. It doesn&#39;t throw any errors or exceptions but `getFirst()` method throws an exception if the list is empty. ","title":"What is the difference between getFirst() and peekFirst() in Java&#39;s LinkedList?","body":"<p>If your <code>LinkedList</code> has data then there is no difference, but if your <code>LinkedList</code> is empty then the <code>peekFirst()</code> method returns null. It doesn't throw any errors or exceptions but <code>getFirst()</code> method throws an exception if the list is empty.</p>\n"}],"owner":{"display_name":"user2031271"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11202,"favorite_count":0,"down_vote_count":1,"up_vote_count":19,"accepted_answer_id":23928024,"answer_count":4,"score":18,"last_activity_date":1691153460,"creation_date":1401347821,"question_id":23927887,"body_markdown":"In Java&#39;s LinkedList implementation, I see two methods which seems to me like having identical functions.\r\n\r\n`getFirst()` --Returns the first element in this list.\r\n\r\n`peekFirst()` --Retrieves, but does not remove, the first element of this list, or returns null if this list is empty.\r\n\r\nBoth of them get the pointer to the First element in the LinkedList without making any changes to it. Then, what&#39;s the difference ?\r\n\r\nThe only difference I see is that `peekFirst` returns `null` if the list is empty and `getFirst` throws a `NoSuchElementException` if the list is empty. What was the use of such a design pattern ?\r\n","title":"What is the difference between getFirst() and peekFirst() in Java&#39;s LinkedList?","body":"<p>In Java's LinkedList implementation, I see two methods which seems to me like having identical functions.</p>\n\n<p><code>getFirst()</code> --Returns the first element in this list.</p>\n\n<p><code>peekFirst()</code> --Retrieves, but does not remove, the first element of this list, or returns null if this list is empty.</p>\n\n<p>Both of them get the pointer to the First element in the LinkedList without making any changes to it. Then, what's the difference ?</p>\n\n<p>The only difference I see is that <code>peekFirst</code> returns <code>null</code> if the list is empty and <code>getFirst</code> throws a <code>NoSuchElementException</code> if the list is empty. What was the use of such a design pattern ?</p>\n"},{"tags":["java","spring-boot","maven","oauth","microservices"],"comments":[{"owner":{"account_id":3430916,"reputation":3799,"user_id":3059385,"accept_rate":40,"display_name":"Christopher Schneider"},"score":0,"creation_date":1678468672,"post_id":75698906,"comment_id":133544606,"body_markdown":"What&#39;s the _actual_ error message? Where is the dependency attempting to be downloaded from?","body":"What&#39;s the <i>actual</i> error message? Where is the dependency attempting to be downloaded from?"}],"answers":[{"tags":[],"owner":{"account_id":17741504,"reputation":1083,"user_id":12881733,"display_name":"Bill Mair"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1678469574,"creation_date":1678469574,"answer_id":75699298,"question_id":75698906,"body_markdown":"It should be there:\r\n\r\nhttps://mvnrepository.com/artifact/com.okta.spring/okta-spring-boot-starter\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.okta.spring&lt;/groupId&gt;\r\n            &lt;artifactId&gt;okta-spring-boot-starter&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\nVersion 3.0.3 is most recent.","title":"I am adding okta dependency in pom.xml file but the dependency is not resolving","body":"<p>It should be there:</p>\n<p><a href=\"https://mvnrepository.com/artifact/com.okta.spring/okta-spring-boot-starter\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/com.okta.spring/okta-spring-boot-starter</a></p>\n<pre><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.okta.spring&lt;/groupId&gt;\n        &lt;artifactId&gt;okta-spring-boot-starter&lt;/artifactId&gt;\n        &lt;version&gt;3.0.3&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<p>Version 3.0.3 is most recent.</p>\n"},{"tags":[],"owner":{"account_id":29080631,"reputation":1,"user_id":22276754,"display_name":"Prasad Poojar"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1691153325,"creation_date":1690783010,"answer_id":76800983,"question_id":75698906,"body_markdown":"Remove the project from the IDE and add once again. It worked for me.\r\n","title":"I am adding okta dependency in pom.xml file but the dependency is not resolving","body":"<p>Remove the project from the IDE and add once again. It worked for me.</p>\n"}],"owner":{"account_id":27985311,"reputation":11,"user_id":21372288,"display_name":"Sanket Chaudhari"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":226,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1691153325,"creation_date":1678467090,"question_id":75698906,"body_markdown":"I wanted to OAuth my microservice project, but the okta is not resolving.\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.okta.spring&lt;/groupId&gt;\r\n    &lt;artifactId&gt;okta-spring-boot-starter&lt;/artifactId&gt;\r\n    &lt;version&gt;2.1.1&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\nShowing error: Dependency &#39;com.okta.spring:okta-spring-boot-starter:2.1.1&#39; not found. My spring boot version is 2.7.9. I&#39;m still not able to resolve the issue, can anyone suggest?\r\n\r\n\r\n\r\n","title":"I am adding okta dependency in pom.xml file but the dependency is not resolving","body":"<p>I wanted to OAuth my microservice project, but the okta is not resolving.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.okta.spring&lt;/groupId&gt;\n    &lt;artifactId&gt;okta-spring-boot-starter&lt;/artifactId&gt;\n    &lt;version&gt;2.1.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Showing error: Dependency 'com.okta.spring:okta-spring-boot-starter:2.1.1' not found. My spring boot version is 2.7.9. I'm still not able to resolve the issue, can anyone suggest?</p>\n"},{"tags":["java","eclipse","selenium-webdriver","automation","bdd"],"answers":[{"tags":[],"owner":{"account_id":29133857,"reputation":1,"user_id":22318476,"display_name":"yashwanth veldandi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691153249,"creation_date":1690871042,"answer_id":76808973,"question_id":76807867,"body_markdown":"Try this code, here I have kept my chrome driver inside my working directory.\r\n```java\r\npublic static WebDriver driver;\r\nSystem.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;./drivers/chromedriver.exe&quot;);\r\nChromeOptions options = new ChromeOptions();\r\noptions.addArguments(new String[] { &quot;--ignore-certificate-errors&quot; });\r\ndriver = (WebDriver)new ChromeDriver(options);\r\ndriver.get(url);\r\n```\r\n","title":"Error: Could not start a new session in Selenium","body":"<p>Try this code, here I have kept my chrome driver inside my working directory.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static WebDriver driver;\nSystem.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;./drivers/chromedriver.exe&quot;);\nChromeOptions options = new ChromeOptions();\noptions.addArguments(new String[] { &quot;--ignore-certificate-errors&quot; });\ndriver = (WebDriver)new ChromeDriver(options);\ndriver.get(url);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10388358,"reputation":1,"user_id":7660549,"display_name":"Heshan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690874052,"creation_date":1690874052,"answer_id":76809271,"question_id":76807867,"body_markdown":"&quot;Driver server process died prematurely&quot; indicates that there was an issue with the ChromeDriver server process. This typically happens when the ChromeDriver executable is not able to start or communicate with the Chrome browser properly\r\n\r\n 1. the driver version and the browser version should be matched\r\n 2. ChromeDriver executable permissions\r\n 3. Invalid ChromeDriver path\r\n\r\nThe path should point to the location of the ChromeDriver executable, not the Chrome browser itself\r\n\r\n    System.setProperty(&quot;webdriver.chrome.driver&quot;,&quot;/Users/imtiyaz/Documents/chromedriver&quot;);\r\n    WebDriver driver = new ChromeDriver();\r\n    driver.get(&quot;https://rahulshettyacademy.com/seleniumPractise/#/&quot;);\r\n\r\n","title":"Error: Could not start a new session in Selenium","body":"<p>&quot;Driver server process died prematurely&quot; indicates that there was an issue with the ChromeDriver server process. This typically happens when the ChromeDriver executable is not able to start or communicate with the Chrome browser properly</p>\n<ol>\n<li>the driver version and the browser version should be matched</li>\n<li>ChromeDriver executable permissions</li>\n<li>Invalid ChromeDriver path</li>\n</ol>\n<p>The path should point to the location of the ChromeDriver executable, not the Chrome browser itself</p>\n<pre><code>System.setProperty(&quot;webdriver.chrome.driver&quot;,&quot;/Users/imtiyaz/Documents/chromedriver&quot;);\nWebDriver driver = new ChromeDriver();\ndriver.get(&quot;https://rahulshettyacademy.com/seleniumPractise/#/&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10299692,"reputation":5719,"user_id":7598774,"accept_rate":75,"display_name":"Shawn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690881695,"creation_date":1690879363,"answer_id":76809917,"question_id":76807867,"body_markdown":"Selenium `v4.11.0` has been released yesterday(31-Jul23). This version can do the driver management automatically even for chrome browser `v115`, without setting the PATH(`System.setProperty`).\r\n\r\n**Solution:** Just upgrade to Selenium `v4.11.0` and use the simple code as below:\r\n````\r\npublic static void main(String[] args)  {\r\n\r\n\tWebDriver driver = new ChromeDriver();\r\n\tdriver.manage().window().maximize();\r\n\tdriver.get(&quot;https://rahulshettyacademy.com/seleniumPractise/#/&quot;);\r\n\r\n}\r\n````\r\n\r\nIf you want to use `ChromeForTesting` browser for specific reason, then download the `v115` driver(`chromedriver.exe`) and browser(`chrome.exe`) from the following link - https://googlechromelabs.github.io/chrome-for-testing/\r\n\r\nAfter downloading, use the below code:\r\n````\r\npublic static void main(String[] args) {\r\n    // TODO Auto-generated method stub\r\n    System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C:\\\\Backup\\\\Selenium jars\\\\drivers\\\\chromedriver-win64\\\\chromedriver.exe&quot;); //115 chromedriver.exe\r\n    ChromeOptions options = new ChromeOptions();\r\n    options.setBinary(&quot;C:\\\\Backup\\\\Selenium jars\\\\browsers\\\\chrome-win64\\\\chrome.exe&quot;); //115 chrome.exe\r\n    WebDriver driver = new ChromeDriver(options);\r\n    driver.get(&quot;https://www.google.com&quot;);        \r\n    System.out.println(driver.getTitle());\r\n}\r\n````\r\n\r\n**Result:**\r\n[![enter image description here][1]][1]\r\n\r\n\r\n**New &quot;Chrome For testing&quot; browser logo is slightly different(See below)**: Left side is regular Chrome browser and right side is new Chrome For Testing browser.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/HeWCY.png\r\n  [2]: https://i.stack.imgur.com/TXTTT.png","title":"Error: Could not start a new session in Selenium","body":"<p>Selenium <code>v4.11.0</code> has been released yesterday(31-Jul23). This version can do the driver management automatically even for chrome browser <code>v115</code>, without setting the PATH(<code>System.setProperty</code>).</p>\n<p><strong>Solution:</strong> Just upgrade to Selenium <code>v4.11.0</code> and use the simple code as below:</p>\n<pre><code>public static void main(String[] args)  {\n\n    WebDriver driver = new ChromeDriver();\n    driver.manage().window().maximize();\n    driver.get(&quot;https://rahulshettyacademy.com/seleniumPractise/#/&quot;);\n\n}\n</code></pre>\n<p>If you want to use <code>ChromeForTesting</code> browser for specific reason, then download the <code>v115</code> driver(<code>chromedriver.exe</code>) and browser(<code>chrome.exe</code>) from the following link - <a href=\"https://googlechromelabs.github.io/chrome-for-testing/\" rel=\"nofollow noreferrer\">https://googlechromelabs.github.io/chrome-for-testing/</a></p>\n<p>After downloading, use the below code:</p>\n<pre><code>public static void main(String[] args) {\n    // TODO Auto-generated method stub\n    System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C:\\\\Backup\\\\Selenium jars\\\\drivers\\\\chromedriver-win64\\\\chromedriver.exe&quot;); //115 chromedriver.exe\n    ChromeOptions options = new ChromeOptions();\n    options.setBinary(&quot;C:\\\\Backup\\\\Selenium jars\\\\browsers\\\\chrome-win64\\\\chrome.exe&quot;); //115 chrome.exe\n    WebDriver driver = new ChromeDriver(options);\n    driver.get(&quot;https://www.google.com&quot;);        \n    System.out.println(driver.getTitle());\n}\n</code></pre>\n<p><strong>Result:</strong>\n<a href=\"https://i.stack.imgur.com/HeWCY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HeWCY.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>New &quot;Chrome For testing&quot; browser logo is slightly different(See below)</strong>: Left side is regular Chrome browser and right side is new Chrome For Testing browser.</p>\n<p><a href=\"https://i.stack.imgur.com/TXTTT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TXTTT.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":13744424,"reputation":13,"user_id":9918582,"display_name":"Immy110"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690901397,"creation_date":1690901397,"answer_id":76812852,"question_id":76807867,"body_markdown":"I updated my Selenium version to 4.11.0 in my pom.xml file and also used your simplified code to invoke ChromeDriver.\r\n\r\nThis time I am getting following error: \r\n\r\n```\r\nWARNING: Unable to find an exact match for CDP version 115, so returning the closest version found: 114\r\nFAILED: runScenario(&quot;Search Experience for product search in both home and Offers page&quot;, &quot;Search and Place the order for Products&quot;)\r\n        Runs Cucumber Scenarios\r\njava.lang.NullPointerException: Cannot invoke &quot;org.openqa.selenium.WebDriver.findElement(org.openqa.selenium.By)&quot; because &quot;this.driver&quot; is null\r\n```\r\n\r\n\r\nThis is my code\r\n```\r\npackage stepDefinitions;\r\n\r\nimport java.util.Iterator;\r\nimport java.util.Set;\r\n\r\nimport org.openqa.selenium.By;\r\nimport org.openqa.selenium.WebDriver;\r\nimport org.openqa.selenium.chrome.ChromeDriver;\r\nimport org.testng.Assert;\r\n\r\nimport io.cucumber.java.en.Given;\r\nimport io.cucumber.java.en.Then;\r\nimport io.cucumber.java.en.When;\r\n\r\npublic class GreenKartStepDefinition {\r\n\tpublic WebDriver driver;\r\n\tpublic String landingPageProductName;\r\n\tpublic String offerPageProductName;\r\n\t\r\n\t@Given(&quot;User is on GreenCart Landing page&quot;)\r\n\tpublic void user_is_on_green_Cart_landing_page() {\r\n\t    \r\n\t\t WebDriver driver = new ChromeDriver();\r\n\t\t    driver.manage().window().maximize();\r\n\t\t    driver.get(&quot;https://rahulshettyacademy.com/seleniumPractise/#/&quot;);\r\n\t\t\r\n\t\r\n\t\t\r\n\t}\r\n\t@When(&quot;user searched with Shortname {string} and extracted actual name of product&quot;)\r\n\tpublic void user_searched_with_shortname_and_extracted_actual_name_of_product(String shortName) {\r\n\t\r\n\tdriver.findElement(By.xpath(&quot;//input[@type=&#39;search&#39;]&quot;)).sendKeys(shortName);\r\n\tString landingPageproductName = driver.findElement(By.cssSelector(&quot;h4.product-name&quot;)).getText().split(&quot;-&quot;)[0].trim();\r\n    System.out.println(landingPageproductName +&quot;is extracted from Home page&quot;);\r\n\t\r\n\t}\r\n\t\r\n\t@Then(&quot;user searched for {string} shortname in offers page to check if product exists with same name &quot;)\r\n\tpublic void user_searched_for_same_shortname_in_offers_page_to_check_if_product_exists(String shortName) throws InterruptedException {\r\n\t    // Write code here that turns the phrase above into concrete actions\r\n\t driver.findElement(By.linkText(&quot;Top Deals&quot;)).click();\r\n\t Set&lt;String&gt; s1 = driver.getWindowHandles(); //So when we call this method &#39;getWndowHandles&#39;, Parent window is there &amp; chidd  window is there - will fall in this s1 object\r\n\t Iterator&lt;String&gt; i1=s1.iterator(); //The 2 windwows We are storing in 1 set collection type - in 0th index you have parent window, in 1st omdex you have child window\r\n\t //To retrieve those items from the &#39;Set&#39; collection, I&#39;ll use the iterator method\r\n\t //&#39;i1&#39; is responsibile for retrieving\r\n\t String parentWindow = i1.next(); //This will call the 0th index (parent window id)\r\n\t String childWindow = i1.next(); //When we call i1.next again, will go 1 level up and call the child window (1st index)\r\n\t driver.switchTo().window(childWindow);\r\n\t driver.findElement(By.xpath(&quot;//input[@type=&#39;search&#39;&quot;)).sendKeys(shortName);\r\n\t \r\n\t Thread.sleep(2000);\r\n\t offerPageProductName = driver.findElement(By.cssSelector(&quot;tr td:nth-child(1)&quot;)).getText();\r\n\r\n\r\n\t \r\n\t}\r\n\t\r\n\t@Then(&quot;Validate product name in offers page matches with Landing Page&quot;)\r\n\t public void validate_product_name_in_Offers_page()\r\n\t {\r\n\t    Assert.assertEquals(offerPageProductName, landingPageProductName);\r\n     }\r\n\t\t\r\n\r\n}\r\n```","title":"Error: Could not start a new session in Selenium","body":"<p>I updated my Selenium version to 4.11.0 in my pom.xml file and also used your simplified code to invoke ChromeDriver.</p>\n<p>This time I am getting following error:</p>\n<pre><code>WARNING: Unable to find an exact match for CDP version 115, so returning the closest version found: 114\nFAILED: runScenario(&quot;Search Experience for product search in both home and Offers page&quot;, &quot;Search and Place the order for Products&quot;)\n        Runs Cucumber Scenarios\njava.lang.NullPointerException: Cannot invoke &quot;org.openqa.selenium.WebDriver.findElement(org.openqa.selenium.By)&quot; because &quot;this.driver&quot; is null\n</code></pre>\n<p>This is my code</p>\n<pre><code>package stepDefinitions;\n\nimport java.util.Iterator;\nimport java.util.Set;\n\nimport org.openqa.selenium.By;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.chrome.ChromeDriver;\nimport org.testng.Assert;\n\nimport io.cucumber.java.en.Given;\nimport io.cucumber.java.en.Then;\nimport io.cucumber.java.en.When;\n\npublic class GreenKartStepDefinition {\n    public WebDriver driver;\n    public String landingPageProductName;\n    public String offerPageProductName;\n    \n    @Given(&quot;User is on GreenCart Landing page&quot;)\n    public void user_is_on_green_Cart_landing_page() {\n        \n         WebDriver driver = new ChromeDriver();\n            driver.manage().window().maximize();\n            driver.get(&quot;https://rahulshettyacademy.com/seleniumPractise/#/&quot;);\n        \n    \n        \n    }\n    @When(&quot;user searched with Shortname {string} and extracted actual name of product&quot;)\n    public void user_searched_with_shortname_and_extracted_actual_name_of_product(String shortName) {\n    \n    driver.findElement(By.xpath(&quot;//input[@type='search']&quot;)).sendKeys(shortName);\n    String landingPageproductName = driver.findElement(By.cssSelector(&quot;h4.product-name&quot;)).getText().split(&quot;-&quot;)[0].trim();\n    System.out.println(landingPageproductName +&quot;is extracted from Home page&quot;);\n    \n    }\n    \n    @Then(&quot;user searched for {string} shortname in offers page to check if product exists with same name &quot;)\n    public void user_searched_for_same_shortname_in_offers_page_to_check_if_product_exists(String shortName) throws InterruptedException {\n        // Write code here that turns the phrase above into concrete actions\n     driver.findElement(By.linkText(&quot;Top Deals&quot;)).click();\n     Set&lt;String&gt; s1 = driver.getWindowHandles(); //So when we call this method 'getWndowHandles', Parent window is there &amp; chidd  window is there - will fall in this s1 object\n     Iterator&lt;String&gt; i1=s1.iterator(); //The 2 windwows We are storing in 1 set collection type - in 0th index you have parent window, in 1st omdex you have child window\n     //To retrieve those items from the 'Set' collection, I'll use the iterator method\n     //'i1' is responsibile for retrieving\n     String parentWindow = i1.next(); //This will call the 0th index (parent window id)\n     String childWindow = i1.next(); //When we call i1.next again, will go 1 level up and call the child window (1st index)\n     driver.switchTo().window(childWindow);\n     driver.findElement(By.xpath(&quot;//input[@type='search'&quot;)).sendKeys(shortName);\n     \n     Thread.sleep(2000);\n     offerPageProductName = driver.findElement(By.cssSelector(&quot;tr td:nth-child(1)&quot;)).getText();\n\n\n     \n    }\n    \n    @Then(&quot;Validate product name in offers page matches with Landing Page&quot;)\n     public void validate_product_name_in_Offers_page()\n     {\n        Assert.assertEquals(offerPageProductName, landingPageProductName);\n     }\n        \n\n}\n</code></pre>\n"}],"owner":{"account_id":13744424,"reputation":13,"user_id":9918582,"display_name":"Immy110"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1404,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1691153249,"creation_date":1690850578,"question_id":76807867,"body_markdown":"I seem to be getting the following error in my Eclipse when running my testcase via my Step Definition in my Automation Framework:\r\n\r\n```\r\n    org.openqa.selenium.SessionNotCreatedException: Could not start a new session. Possible causes are invalid address of the remote server or browser start-up failure. \r\nHost info: host: &#39;192.168.1.104&#39;, ip: &#39;2a01:4b00:9f00:8d00:f548:778e:6ba3:875d%en0&#39;\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:549)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.startSession(RemoteWebDriver.java:227)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.&lt;init&gt;(RemoteWebDriver.java:154)\r\n\tat org.openqa.selenium.chromium.ChromiumDriver.&lt;init&gt;(ChromiumDriver.java:107)\r\n\tat org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:87)\r\n\tat org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:82)\r\n\tat org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:50)\r\n\tat stepDefinitions.GreenKartStepDefinition.user_is_on_green_Cart_landing_page(GreenKartStepDefinition.java:24)\r\n\tat .User is on GreenCart Landing page(file:///Users/imtiyaz/Downloads/WebDriverAutomationProject%202/CucumberFramework/src/test/java/features/searchProduct.feature:5)\r\nCaused by: org.openqa.selenium.WebDriverException: Driver server process died prematurely.\r\nBuild info: version: &#39;4.10.0&#39;, revision: &#39;c14d967899&#39;\r\n```\r\n\r\nI did download &#39;Chrome for Testing&#39; from https://chromedriver.chromium.org/downloads as I am using Chrome version 115.0.5790.102.\r\n\r\nI set it in my code as follows:\r\n\r\n```\r\nSystem.setProperty(&quot;webdriver.chrome.driver&quot;,&quot;/Users/imtiyaz/Documents/Google Chrome for Testing&quot; );\r\n\t\tdriver = new ChromeDriver();\r\n\t\tdriver.get(&quot;https://rahulshettyacademy.com/seleniumPractise/#/&quot;);\r\n```\r\n\r\nAny Ideas what I&#39;m doing wrong?","title":"Error: Could not start a new session in Selenium","body":"<p>I seem to be getting the following error in my Eclipse when running my testcase via my Step Definition in my Automation Framework:</p>\n<pre><code>    org.openqa.selenium.SessionNotCreatedException: Could not start a new session. Possible causes are invalid address of the remote server or browser start-up failure. \nHost info: host: '192.168.1.104', ip: '2a01:4b00:9f00:8d00:f548:778e:6ba3:875d%en0'\n    at org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:549)\n    at org.openqa.selenium.remote.RemoteWebDriver.startSession(RemoteWebDriver.java:227)\n    at org.openqa.selenium.remote.RemoteWebDriver.&lt;init&gt;(RemoteWebDriver.java:154)\n    at org.openqa.selenium.chromium.ChromiumDriver.&lt;init&gt;(ChromiumDriver.java:107)\n    at org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:87)\n    at org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:82)\n    at org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:50)\n    at stepDefinitions.GreenKartStepDefinition.user_is_on_green_Cart_landing_page(GreenKartStepDefinition.java:24)\n    at .User is on GreenCart Landing page(file:///Users/imtiyaz/Downloads/WebDriverAutomationProject%202/CucumberFramework/src/test/java/features/searchProduct.feature:5)\nCaused by: org.openqa.selenium.WebDriverException: Driver server process died prematurely.\nBuild info: version: '4.10.0', revision: 'c14d967899'\n</code></pre>\n<p>I did download 'Chrome for Testing' from <a href=\"https://chromedriver.chromium.org/downloads\" rel=\"nofollow noreferrer\">https://chromedriver.chromium.org/downloads</a> as I am using Chrome version 115.0.5790.102.</p>\n<p>I set it in my code as follows:</p>\n<pre><code>System.setProperty(&quot;webdriver.chrome.driver&quot;,&quot;/Users/imtiyaz/Documents/Google Chrome for Testing&quot; );\n        driver = new ChromeDriver();\n        driver.get(&quot;https://rahulshettyacademy.com/seleniumPractise/#/&quot;);\n</code></pre>\n<p>Any Ideas what I'm doing wrong?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":7251728,"reputation":199,"user_id":5531756,"accept_rate":67,"display_name":"Md. Ikramul Murad"},"score":0,"creation_date":1611285053,"post_id":60960189,"comment_id":116407903,"body_markdown":"Is this problem solved already?","body":"Is this problem solved already?"}],"answers":[{"tags":[],"owner":{"account_id":1342401,"reputation":23303,"user_id":1283845,"accept_rate":65,"display_name":"BlackHatSamurai"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1585690361,"creation_date":1585690361,"answer_id":60960243,"question_id":60960189,"body_markdown":"It&#39;s not working because when you call `destroy()`, you are calling it on a null object. This is throwing an NPE can preventing you from connecting. ","title":"openVPN not working on Android 10 in androidstudio","body":"<p>It's not working because when you call <code>destroy()</code>, you are calling it on a null object. This is throwing an NPE can preventing you from connecting. </p>\n"},{"tags":[],"owner":{"account_id":9666921,"reputation":91,"user_id":7173141,"display_name":"Muhammad Mehroz Anjum"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1602775147,"creation_date":1602772837,"answer_id":64374063,"question_id":60960189,"body_markdown":"This null pointer exception can be the result of process builder starting a new process by loading a binary from assets which is not supported by android.\r\n\r\nYou can confirm this case by using `e.printStackTrace();` in **`catch`** clause near **line 187 - line 188** of method `private void startOpenVPNThreadArgs(String[] argv)` which can be found in **OpenVPNThread.java**.\r\n\r\nIf you get error 13 in your log cat like this:\r\n\r\n    java.io.IOException: Cannot run program &quot;...&quot;: error=13, Permission denied\r\n\r\nThen you might be using older version of ics-openvpn. In this case please refer to this: \r\n\r\n* [My answer to: &quot;Creating VPN by using OpenVPN&quot;](https://stackoverflow.com/a/64373156/7173141)\r\n* [My comment on the &quot;What change in API 29&quot; issue in the  schwabe /\r\nics-openvpn GitHub repository](https://github.com/schwabe/ics-openvpn/issues/1179#issuecomment-709324457)\r\n\r\n\r\nI hope that this will resolve your issue.","title":"openVPN not working on Android 10 in androidstudio","body":"<p>This null pointer exception can be the result of process builder starting a new process by loading a binary from assets which is not supported by android.</p>\n<p>You can confirm this case by using <code>e.printStackTrace();</code> in <strong><code>catch</code></strong> clause near <strong>line 187 - line 188</strong> of method <code>private void startOpenVPNThreadArgs(String[] argv)</code> which can be found in <strong>OpenVPNThread.java</strong>.</p>\n<p>If you get error 13 in your log cat like this:</p>\n<pre><code>java.io.IOException: Cannot run program &quot;...&quot;: error=13, Permission denied\n</code></pre>\n<p>Then you might be using older version of ics-openvpn. In this case please refer to this:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/a/64373156/7173141\">My answer to: &quot;Creating VPN by using OpenVPN&quot;</a></li>\n<li><a href=\"https://github.com/schwabe/ics-openvpn/issues/1179#issuecomment-709324457\" rel=\"nofollow noreferrer\">My comment on the &quot;What change in API 29&quot; issue in the  schwabe /\nics-openvpn GitHub repository</a></li>\n</ul>\n<p>I hope that this will resolve your issue.</p>\n"},{"tags":[],"owner":{"account_id":18981447,"reputation":908,"user_id":13852758,"display_name":"Gulab Sagevadiya"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1626951840,"creation_date":1626951840,"answer_id":68483695,"question_id":60960189,"body_markdown":"```\r\n        android:extractNativeLibs=&quot;true&quot;\r\n        tools:replace=&quot;android:extractNativeLibs&quot;\r\n\r\n```\r\n\r\nAdd This Two Lines In Your Manifest Application\r\n","title":"openVPN not working on Android 10 in androidstudio","body":"<pre><code>        android:extractNativeLibs=&quot;true&quot;\n        tools:replace=&quot;android:extractNativeLibs&quot;\n\n</code></pre>\n<p>Add This Two Lines In Your Manifest Application</p>\n"},{"tags":[],"owner":{"account_id":23195002,"reputation":1,"user_id":17290781,"display_name":"Md Manna Mia"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691153095,"creation_date":1690819306,"answer_id":76805313,"question_id":60960189,"body_markdown":"Just add this line in your project&#39;s `gradle.properties` file:\r\n```none\r\nandroid.bundle.enableUncompressedNativeLibs=false\r\n```\r\n`.aab` file handles the `.so` files a bit differently, that&#39;s why VPN was not working in `.aab` bundle releases.","title":"openVPN not working on Android 10 in androidstudio","body":"<p>Just add this line in your project's <code>gradle.properties</code> file:</p>\n<pre class=\"lang-none prettyprint-override\"><code>android.bundle.enableUncompressedNativeLibs=false\n</code></pre>\n<p><code>.aab</code> file handles the <code>.so</code> files a bit differently, that's why VPN was not working in <code>.aab</code> bundle releases.</p>\n"}],"owner":{"account_id":14310867,"reputation":46,"user_id":10337197,"display_name":"Mahmood Shahsavari"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1813,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":4,"score":2,"last_activity_date":1691153095,"creation_date":1585690173,"question_id":60960189,"body_markdown":"hi i use this project in my app :\r\nhttps://github.com/schwabe/ics-openvpn\r\nand write a vpn application \r\nits work fine on all android version because on android 10 i give this error on logcat :\r\n```\r\n2020-04-01 01:47:56.914 2540-2839/com.vpnfree.approid I/OpenVPN: Starting openvpn\r\n2020-04-01 01:47:56.920 2540-2839/com.vpnfree.approid E/OpenVPN: OpenVPNThread Got java.lang.NullPointerException: Attempt to invoke virtual method &#39;void java.lang.Process.destroy()&#39; on a null object reference\r\n2020-04-01 01:47:56.920 2540-2839/com.packagename.approid E/level: LEVEL_NOTCONNECTED\r\n2020-04-01 01:47:56.959 2540-2839/com.packagename.approid I/OpenVPN: Exiting\r\n```","title":"openVPN not working on Android 10 in androidstudio","body":"<p>hi i use this project in my app :\n<a href=\"https://github.com/schwabe/ics-openvpn\" rel=\"nofollow noreferrer\">https://github.com/schwabe/ics-openvpn</a>\nand write a vpn application \nits work fine on all android version because on android 10 i give this error on logcat :</p>\n\n<pre><code>2020-04-01 01:47:56.914 2540-2839/com.vpnfree.approid I/OpenVPN: Starting openvpn\n2020-04-01 01:47:56.920 2540-2839/com.vpnfree.approid E/OpenVPN: OpenVPNThread Got java.lang.NullPointerException: Attempt to invoke virtual method 'void java.lang.Process.destroy()' on a null object reference\n2020-04-01 01:47:56.920 2540-2839/com.packagename.approid E/level: LEVEL_NOTCONNECTED\n2020-04-01 01:47:56.959 2540-2839/com.packagename.approid I/OpenVPN: Exiting\n</code></pre>\n"},{"tags":["java","server","cmis","opencmis","tomcat10"],"answers":[{"tags":[],"owner":{"account_id":11127314,"reputation":41,"user_id":8168392,"display_name":"pvyas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691153079,"creation_date":1691153079,"answer_id":76836043,"question_id":76776336,"body_markdown":"I resolved this issue by removing sun-jaxws.xml file from WEB-INF. I also removed WSContextListener from web.xml.\r\n\r\nThe issue was with CMISWebServicesServlet. Earlier in Open CMIS 0.13.0 CMISWebServicesServlet was extending WSServlet that&#39;s why we had this WS configuration in our WEB-INF. But now that is not needed in Open CMIS 1.1.0.\r\n","title":"handleRequest of CmisWebServicesServlet is not getting called and it is giving &#39;Cannot get CSRF manager!&#39; error","body":"<p>I resolved this issue by removing sun-jaxws.xml file from WEB-INF. I also removed WSContextListener from web.xml.</p>\n<p>The issue was with CMISWebServicesServlet. Earlier in Open CMIS 0.13.0 CMISWebServicesServlet was extending WSServlet that's why we had this WS configuration in our WEB-INF. But now that is not needed in Open CMIS 1.1.0.</p>\n"}],"owner":{"account_id":11127314,"reputation":41,"user_id":8168392,"display_name":"pvyas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1691153079,"creation_date":1690428796,"question_id":76776336,"body_markdown":"Actually we have extended Open CMIS code for our product and recently we have upgraded our product for Tomcat 10. When we call RepositoryService it is giving below error:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    java.base/java.lang.Thread.run(Thread.java:833)\r\n    [21/07/23 01:11:23:023 IST] ERROR org.apache.chemistry.opencmis.server.impl.webservices.AbstractService: Cannot get CSRF manager!\r\n    org.apache.chemistry.opencmis.commons.exceptions.CmisRuntimeException: Cannot get CSRF manager!\r\n            at org.apache.chemistry.opencmis.server.impl.webservices.AbstractService.checkCsrfToken(AbstractService.java:166) ~[chemistry-opencmis-server-bindings-1.1.0.jar:1.1.0]\r\n            at org.apache.chemistry.opencmis.server.impl.webservices.AbstractService.getServiceForRepositoryInfo(AbstractService.java:187) ~[chemistry-opencmis-server-bindings-1.1.0.jar:1.1.0]\r\n            at org.apache.chemistry.opencmis.server.impl.webservices.RepositoryService.getRepositories(RepositoryService.java:65) ~[chemistry-opencmis-server-bindings-1.1.0.jar:1.1.0]\r\n            at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]\r\n            at jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[?:?]\r\n            at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]\r\n            at java.lang.reflect.Method.invoke(Method.java:568) ~[?:?]\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nWhat I am suspecting is that handleRequest present in CmisWebServicesServlet is not getting called that&#39;s why we are not able to set attributes in request and it is giving CSRF related error. \r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    public void handleRequest(HttpServletRequest request, HttpServletResponse response) throws ServletException {\r\n            // set CMIS version and CSRF Manager\r\n            request.setAttribute(CMIS_VERSION, cmisVersion);\r\n            request.setAttribute(CSRF_MANAGER, csrfManager);\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nAnyone can tell me what could be cause for this error;\r\n\r\nThanks in advance!\r\n","title":"handleRequest of CmisWebServicesServlet is not getting called and it is giving &#39;Cannot get CSRF manager!&#39; error","body":"<p>Actually we have extended Open CMIS code for our product and recently we have upgraded our product for Tomcat 10. When we call RepositoryService it is giving below error:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>java.base/java.lang.Thread.run(Thread.java:833)\n[21/07/23 01:11:23:023 IST] ERROR org.apache.chemistry.opencmis.server.impl.webservices.AbstractService: Cannot get CSRF manager!\norg.apache.chemistry.opencmis.commons.exceptions.CmisRuntimeException: Cannot get CSRF manager!\n        at org.apache.chemistry.opencmis.server.impl.webservices.AbstractService.checkCsrfToken(AbstractService.java:166) ~[chemistry-opencmis-server-bindings-1.1.0.jar:1.1.0]\n        at org.apache.chemistry.opencmis.server.impl.webservices.AbstractService.getServiceForRepositoryInfo(AbstractService.java:187) ~[chemistry-opencmis-server-bindings-1.1.0.jar:1.1.0]\n        at org.apache.chemistry.opencmis.server.impl.webservices.RepositoryService.getRepositories(RepositoryService.java:65) ~[chemistry-opencmis-server-bindings-1.1.0.jar:1.1.0]\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[?:?]\n        at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]\n        at java.lang.reflect.Method.invoke(Method.java:568) ~[?:?]</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>What I am suspecting is that handleRequest present in CmisWebServicesServlet is not getting called that's why we are not able to set attributes in request and it is giving CSRF related error.</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>public void handleRequest(HttpServletRequest request, HttpServletResponse response) throws ServletException {\n        // set CMIS version and CSRF Manager\n        request.setAttribute(CMIS_VERSION, cmisVersion);\n        request.setAttribute(CSRF_MANAGER, csrfManager);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>Anyone can tell me what could be cause for this error;</p>\n<p>Thanks in advance!</p>\n"},{"tags":["java","mongodb","spring-boot","redis","rabbitmq"],"answers":[{"tags":[],"owner":{"account_id":27732825,"reputation":1,"user_id":21171001,"display_name":"Charan Kamarapu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691153010,"creation_date":1690747334,"answer_id":76799437,"question_id":76611756,"body_markdown":"Keploy doesnt support the redis version you are using. Use 2.9.3 if possible. Also the Java-SDK of Keploy doesnt work with Java 17 nor 19.","title":"Keploy integration with springboot application","body":"<p>Keploy doesnt support the redis version you are using. Use 2.9.3 if possible. Also the Java-SDK of Keploy doesnt work with Java 17 nor 19.</p>\n"}],"owner":{"account_id":27308515,"reputation":1,"user_id":20824082,"display_name":"Sanjeev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1691153010,"creation_date":1688467040,"question_id":76611756,"body_markdown":"I am trying to integrate Keploy with spring boot application. Our application uses Redis, mongo, Rabbit MQ, Liquibase. I am using keploy version 1.1.5 and able to start the application. But when I am trying to access the end point I am getting the below error.\r\n\r\n```\r\nHandler dispatch failed; nested exception is java.lang.NoSuchMethodError: io.keploy.grpc.stubs.Service.access$35500()Lcom/google/protobuf/Descriptors$Descriptor;\r\n```\r\n\r\nBelow are the dependencies our project is using.\r\n\r\n```\r\n&lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-starter-data-redis&lt;/artifactId&gt;\r\n      &lt;version&gt;2.7.10&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;dependency&gt;\r\n   &lt;groupId&gt;redis.clients&lt;/groupId&gt;\r\n   &lt;artifactId&gt;jedis&lt;/artifactId&gt;\r\n   &lt;version&gt;3.6.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;dependency&gt;\r\n   &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n   &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n   &lt;version&gt;2.7.10&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nI tried to use upgrade to latest keploy version but getting different exception while making the application up.","title":"Keploy integration with springboot application","body":"<p>I am trying to integrate Keploy with spring boot application. Our application uses Redis, mongo, Rabbit MQ, Liquibase. I am using keploy version 1.1.5 and able to start the application. But when I am trying to access the end point I am getting the below error.</p>\n<pre><code>Handler dispatch failed; nested exception is java.lang.NoSuchMethodError: io.keploy.grpc.stubs.Service.access$35500()Lcom/google/protobuf/Descriptors$Descriptor;\n</code></pre>\n<p>Below are the dependencies our project is using.</p>\n<pre><code>&lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-data-redis&lt;/artifactId&gt;\n      &lt;version&gt;2.7.10&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n   &lt;groupId&gt;redis.clients&lt;/groupId&gt;\n   &lt;artifactId&gt;jedis&lt;/artifactId&gt;\n   &lt;version&gt;3.6.0&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n   &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n   &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n   &lt;version&gt;2.7.10&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>I tried to use upgrade to latest keploy version but getting different exception while making the application up.</p>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":4256604,"reputation":18866,"user_id":3482140,"accept_rate":83,"display_name":"Am_I_Helpful"},"score":0,"creation_date":1417000440,"post_id":27147538,"comment_id":42790560,"body_markdown":"Loved this game in childhood!","body":"Loved this game in childhood!"},{"owner":{"account_id":5036835,"reputation":109,"user_id":4045376,"accept_rate":82,"display_name":"Gangadhar B"},"score":0,"creation_date":1417000728,"post_id":27147538,"comment_id":42790694,"body_markdown":"@DanielStanley,the error is with this code output is &#39;marriage&#39; but need output as &#39;enemity&#39;","body":"@DanielStanley,the error is with this code output is &#39;marriage&#39; but need output as &#39;enemity&#39;"},{"owner":{"account_id":5036835,"reputation":109,"user_id":4045376,"accept_rate":82,"display_name":"Gangadhar B"},"score":0,"creation_date":1417000911,"post_id":27147538,"comment_id":42790785,"body_markdown":"@DanielStanley,when resultLength is 4 ,start counting for flames first time delete &#39;m&#39; then start counting from &#39;e&#39; then delete &#39;l&#39; as fourth letter like that at last i get &#39;e&#39; so need output as enemity.","body":"@DanielStanley,when resultLength is 4 ,start counting for flames first time delete &#39;m&#39; then start counting from &#39;e&#39; then delete &#39;l&#39; as fourth letter like that at last i get &#39;e&#39; so need output as enemity."},{"owner":{"account_id":5036835,"reputation":109,"user_id":4045376,"accept_rate":82,"display_name":"Gangadhar B"},"score":0,"creation_date":1417000980,"post_id":27147538,"comment_id":42790828,"body_markdown":"@shekharsuman,have you understood my problem in this question?","body":"@shekharsuman,have you understood my problem in this question?"}],"answers":[{"tags":[],"owner":{"account_id":4988045,"reputation":1050,"user_id":4011077,"display_name":"Daniel Stanley"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1417001579,"creation_date":1417001579,"answer_id":27148085,"question_id":27147538,"body_markdown":"I think the problem is with this line:\r\n\r\n    int count = temp - 1;\r\n\r\nWhich is giving you an answer of `3` which gives `(0)F (1)L (2)A (3)M`\r\n\r\nSo change it to:\r\n\r\n    int count = temp; //- 1;\r\n\r\nTo get `(0)F (1)L (2)A (3)M (4)E`","title":"flames game logic using java giving error result?","body":"<p>I think the problem is with this line:</p>\n\n<pre><code>int count = temp - 1;\n</code></pre>\n\n<p>Which is giving you an answer of <code>3</code> which gives <code>(0)F (1)L (2)A (3)M</code></p>\n\n<p>So change it to:</p>\n\n<pre><code>int count = temp; //- 1;\n</code></pre>\n\n<p>To get <code>(0)F (1)L (2)A (3)M (4)E</code></p>\n"},{"tags":[],"owner":{"account_id":3627501,"reputation":1972,"user_id":4082108,"display_name":"Sridhar DD"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1417007447,"creation_date":1417001594,"answer_id":27148090,"question_id":27147538,"body_markdown":"Hope this is what you need. I am here striking the character of the word flames until i am getting one character. Once i get the character that is what the result of flames.\r\n\r\n     if (resultLength &gt; 0) {\r\n        while (baseInput.length() !=1)\r\n\t\t    {\r\n\t\t       System.out.println(baseInput);\r\n\t\t       int tmpLen = resultLength % baseInput.length(); //finding char position to strike\r\n\t\t       if(tmpLen != 0)\r\n\t\t       {\r\n\t\t           temp = baseInput.substring(tmpLen) + baseInput.substring(0, tmpLen-1); //Append part start from next char to strike and first charater to char before strike.\r\n\t\t       }\r\n\t\t       else\r\n\t\t       {\r\n\t\t       \t   temp = baseInput.substring(0, baseInput.length()-1); //If mod result zero we can strike last letter easily\r\n\t\t       }\r\n\t\t       baseInput = temp; //Assign the temp to baseinput for next iteration.\r\n\t\t    }\r\n\t\t    relationIs = baseInput.charAt(0);\r\n            System.out.println(relationIs);\r\n     }\r\n\r\nLink : http://ideone.com/Fqgcc1","title":"flames game logic using java giving error result?","body":"<p>Hope this is what you need. I am here striking the character of the word flames until i am getting one character. Once i get the character that is what the result of flames.</p>\n\n<pre><code> if (resultLength &gt; 0) {\n    while (baseInput.length() !=1)\n        {\n           System.out.println(baseInput);\n           int tmpLen = resultLength % baseInput.length(); //finding char position to strike\n           if(tmpLen != 0)\n           {\n               temp = baseInput.substring(tmpLen) + baseInput.substring(0, tmpLen-1); //Append part start from next char to strike and first charater to char before strike.\n           }\n           else\n           {\n               temp = baseInput.substring(0, baseInput.length()-1); //If mod result zero we can strike last letter easily\n           }\n           baseInput = temp; //Assign the temp to baseinput for next iteration.\n        }\n        relationIs = baseInput.charAt(0);\n        System.out.println(relationIs);\n }\n</code></pre>\n\n<p>Link : <a href=\"http://ideone.com/Fqgcc1\" rel=\"nofollow\">http://ideone.com/Fqgcc1</a></p>\n"},{"tags":[],"owner":{"account_id":6863163,"reputation":335,"user_id":5276496,"display_name":"SM ANSARI"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1442902448,"creation_date":1442372342,"answer_id":32599030,"question_id":27147538,"body_markdown":"        // Another Right Code to Find FLAMES in JAVA \r\n        // It is simple\r\n        import java.util.Scanner;\r\n    class Flames\r\n    {\r\n     public static void main(String ar[])\r\n     {\r\n      Scanner sc=new Scanner(System.in);\r\n      String name,fname,flm=&quot;flames&quot;;\r\n      System.out.println(&quot;Enter the boy name...&quot;);\r\n      name=sc.next();\r\n      System.out.println(&quot;Enter the girl name...&quot;);\r\n      fname=sc.next();\r\n      int l=name.length();\r\n      int gl=fname.length();\r\n      int num=0,tl=0; \r\n      char n[]=name.toCharArray();\r\n      char gn[]=fname.toCharArray();\r\n      for(int i=0;i&lt;l;i++)\r\n      {  \r\n       for(int j=0;j&lt;gl;j++)\r\n       {\r\n        if(n[i]==gn[j])\r\n        {\r\n         n[i]=&#39;*&#39;;\r\n         gn[j]=&#39;*&#39;;\r\n         break;\r\n        }\r\n       }\r\n      }\r\n      String tname=new String(n);\r\n      tname=tname+(new String(gn));\r\n      tname=tname.replace(&quot;*&quot;,&quot;&quot;);\r\n      tl=tname.length();\r\n      System.out.println(tl);\r\n      \r\n      for(int s=6;s&gt;=2;s--)\r\n      {\r\n       if(tl&gt;s)\r\n         num=tl-s;\r\n       else\r\n         num=tl;\r\n       while(num&gt;s)\r\n       {\r\n         num=num-s;\r\n       } \r\n       flm=flm.substring(num,flm.length())+(flm.substring(0,num-1)); \r\n      }\r\n      switch(flm.charAt(0))\r\n      {\r\n       case &#39;f&#39;: System.out.println(&quot;Relationship = Friends&quot;); break;\r\n       case &#39;l&#39;: System.out.println(&quot;Relationship = Lovers&quot;); break;\r\n       case &#39;a&#39;: System.out.println(&quot;Relationship = Affections&quot;); break;\r\n       case &#39;m&#39;: System.out.println(&quot;Relationship = Married&quot;); break;\r\n       case &#39;e&#39;: System.out.println(&quot;Relationship = Enemy&quot;); break;\r\n       case &#39;s&#39;: System.out.println(&quot;Relationship = Brother &amp; Sisters&quot;); break;\r\n      }\r\n      //System.out.println(&quot;Name =&quot;+flm);\r\n     }\r\n    }","title":"flames game logic using java giving error result?","body":"<pre><code>    // Another Right Code to Find FLAMES in JAVA \n    // It is simple\n    import java.util.Scanner;\nclass Flames\n{\n public static void main(String ar[])\n {\n  Scanner sc=new Scanner(System.in);\n  String name,fname,flm=\"flames\";\n  System.out.println(\"Enter the boy name...\");\n  name=sc.next();\n  System.out.println(\"Enter the girl name...\");\n  fname=sc.next();\n  int l=name.length();\n  int gl=fname.length();\n  int num=0,tl=0; \n  char n[]=name.toCharArray();\n  char gn[]=fname.toCharArray();\n  for(int i=0;i&lt;l;i++)\n  {  \n   for(int j=0;j&lt;gl;j++)\n   {\n    if(n[i]==gn[j])\n    {\n     n[i]='*';\n     gn[j]='*';\n     break;\n    }\n   }\n  }\n  String tname=new String(n);\n  tname=tname+(new String(gn));\n  tname=tname.replace(\"*\",\"\");\n  tl=tname.length();\n  System.out.println(tl);\n\n  for(int s=6;s&gt;=2;s--)\n  {\n   if(tl&gt;s)\n     num=tl-s;\n   else\n     num=tl;\n   while(num&gt;s)\n   {\n     num=num-s;\n   } \n   flm=flm.substring(num,flm.length())+(flm.substring(0,num-1)); \n  }\n  switch(flm.charAt(0))\n  {\n   case 'f': System.out.println(\"Relationship = Friends\"); break;\n   case 'l': System.out.println(\"Relationship = Lovers\"); break;\n   case 'a': System.out.println(\"Relationship = Affections\"); break;\n   case 'm': System.out.println(\"Relationship = Married\"); break;\n   case 'e': System.out.println(\"Relationship = Enemy\"); break;\n   case 's': System.out.println(\"Relationship = Brother &amp; Sisters\"); break;\n  }\n  //System.out.println(\"Name =\"+flm);\n }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9388505,"reputation":1,"user_id":7595559,"display_name":"Gunasundari"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1487640695,"creation_date":1487631027,"answer_id":42355620,"question_id":27147538,"body_markdown":"    import java.util.Scanner;\r\n        \r\n        public class Flames {\r\n        \r\n        \tpublic static void main(String[] args) {\r\n        \t\t/* Check the flames using two names  */\r\n        \t\tScanner scan = new Scanner(System.in);\r\n        \t\tSystem.out.print(&quot;Enter Name 1 : &quot;);\r\n        \t\tString Name1 = scan.nextLine();\r\n        \t\t//System.out.println(Name1);\r\n        \t\tSystem.out.print(&quot;Enter Name 2 : &quot;);\r\n        \t\tString Name2 = scan.nextLine();\r\n        \t\t//System.out.println(Name2);\r\n        \t\tint N1len = Name1.length();\r\n        \t\tint N2len = Name2.length();\r\n        \t\tName1 = Name1.toLowerCase();\r\n        \t\tName2 = Name2.toLowerCase();\r\n        \r\n        \t\tStringBuffer NameB1 = new StringBuffer(Name1);\r\n        \t\tStringBuffer NameB2 = new StringBuffer(Name2);\r\n        \t\tint Name3=0;\r\n        \t\tfor (int i = 0; i&lt;N1len; i++) \r\n        \t\t{\r\n        \t\t\tfor (int j = 0; j&lt;N2len; j++)\r\n        \t\t\t {\r\n        \t\t\t\tif (NameB1.charAt(i) == NameB2.charAt(j)) \r\n        \t\t\t\t{\r\n        \t\t\t\t\tNameB1 = NameB1.deleteCharAt(i);\r\n        \t\t\t\t\tNameB2 = NameB2.deleteCharAt(j);\r\n        \t\t\t\t\tN1len= NameB1.length();\r\n        \t\t\t\t\tN2len= NameB2.length();\r\n        \t\t\t\t\ti=0;\r\n        \t\t\t\t\tj=0;\r\n        \t\t\t\t}\r\n        \r\n        \t\t\t}\r\n        \r\n        \t\t}\r\n        \t\tName3= NameB1.length()+NameB2.length();\r\n        \t\t//System.out.println(NameB1);\r\n        \t\t//System.out.println(NameB2);\r\n        \t\t//System.out.println(Name3);\r\n        \r\n        \t\t/* Flames Calculation */\r\n        \r\n        \t\tchar flameResult =0;\r\n        \t\tString flames = &quot;flames&quot;;\r\n                \t\tStringBuffer sb3 = new StringBuffer(flames);\r\n        \t\twhile (sb3.length()!=1)\r\n        \t\t{\r\n        \t\t\tint Name4 =  Name3%sb3.length();\r\n        \t\t\tString temp;\r\n        \t\t\tif(Name4!=0)\r\n        \t\t\t{\r\n        \t\t\ttemp = sb3.substring(Name4)+sb3.substring(0, Name4-1);\r\n        \t\t\t}\r\n        \t\t\telse\r\n        \t\t\t{\r\n        \t\t\ttemp=sb3.substring(0,sb3.length()-1);\r\n        \t\t\t}\r\n        \t\t\tsb3 = new StringBuffer(temp);\r\n        \t\t\t\r\n                   \t\t\tflameResult=sb3.charAt(0);\r\n        \t\t}\t\r\n        \t\r\n        \t\tswitch(flameResult)\r\n        \t\t{\r\n        \t\tcase &#39;f&#39;:\tSystem.out.println(&quot;Friends&quot;);\r\n                       \t\tbreak;\r\n                    \t\tcase &#39;l&#39;:\r\n                        \t\tSystem.out.println(&quot;Love&quot;);\r\n                       \t\tbreak;\r\n                    \t\tcase &#39;a&#39;:\r\n                        \t\tSystem.out.println(&quot;Affection&quot;);\r\n                       \t\tbreak;\r\n                    \t\tcase &#39;m&#39;:\r\n                     \t\t\tSystem.out.println(&quot;Marriage&quot;);\r\n                        \t\tbreak;\r\n                   \t\tcase &#39;e&#39;:\r\n                       \t\tSystem.out.println(&quot;Enemies&quot;);\r\n                      \t\t\tbreak;\r\n                    \t\tcase &#39;s&#39;:\r\n                      \t\t\tSystem.out.println(&quot;Sibling&quot;);\r\n                      \t\t\tbreak;\r\n                        \r\n        \t\t}\r\n        \r\n        \t\t\r\n        \t\t\r\n        \t}\r\n        \r\n        }","title":"flames game logic using java giving error result?","body":"<pre><code>import java.util.Scanner;\n\n    public class Flames {\n\n        public static void main(String[] args) {\n            /* Check the flames using two names  */\n            Scanner scan = new Scanner(System.in);\n            System.out.print(\"Enter Name 1 : \");\n            String Name1 = scan.nextLine();\n            //System.out.println(Name1);\n            System.out.print(\"Enter Name 2 : \");\n            String Name2 = scan.nextLine();\n            //System.out.println(Name2);\n            int N1len = Name1.length();\n            int N2len = Name2.length();\n            Name1 = Name1.toLowerCase();\n            Name2 = Name2.toLowerCase();\n\n            StringBuffer NameB1 = new StringBuffer(Name1);\n            StringBuffer NameB2 = new StringBuffer(Name2);\n            int Name3=0;\n            for (int i = 0; i&lt;N1len; i++) \n            {\n                for (int j = 0; j&lt;N2len; j++)\n                 {\n                    if (NameB1.charAt(i) == NameB2.charAt(j)) \n                    {\n                        NameB1 = NameB1.deleteCharAt(i);\n                        NameB2 = NameB2.deleteCharAt(j);\n                        N1len= NameB1.length();\n                        N2len= NameB2.length();\n                        i=0;\n                        j=0;\n                    }\n\n                }\n\n            }\n            Name3= NameB1.length()+NameB2.length();\n            //System.out.println(NameB1);\n            //System.out.println(NameB2);\n            //System.out.println(Name3);\n\n            /* Flames Calculation */\n\n            char flameResult =0;\n            String flames = \"flames\";\n                    StringBuffer sb3 = new StringBuffer(flames);\n            while (sb3.length()!=1)\n            {\n                int Name4 =  Name3%sb3.length();\n                String temp;\n                if(Name4!=0)\n                {\n                temp = sb3.substring(Name4)+sb3.substring(0, Name4-1);\n                }\n                else\n                {\n                temp=sb3.substring(0,sb3.length()-1);\n                }\n                sb3 = new StringBuffer(temp);\n\n                        flameResult=sb3.charAt(0);\n            }   \n\n            switch(flameResult)\n            {\n            case 'f':   System.out.println(\"Friends\");\n                        break;\n                        case 'l':\n                            System.out.println(\"Love\");\n                        break;\n                        case 'a':\n                            System.out.println(\"Affection\");\n                        break;\n                        case 'm':\n                            System.out.println(\"Marriage\");\n                            break;\n                    case 'e':\n                        System.out.println(\"Enemies\");\n                            break;\n                        case 's':\n                            System.out.println(\"Sibling\");\n                            break;\n\n            }\n\n\n\n        }\n\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11894284,"reputation":1,"user_id":8704181,"display_name":"rayan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1509535060,"creation_date":1506868323,"answer_id":46513393,"question_id":27147538,"body_markdown":"    import java.util.*;\r\n    public class Flames\r\n    {\r\n       public static void main()\r\n       {\r\n          int sp=0;\r\n          Scanner sc=new Scanner(System.in);\r\n          System.out.println(&quot;enter two names&quot;);\r\n          String s=sc.nextLine().toLowerCase();\r\n          String s1=sc.nextLine().toLowerCase();\r\n          String p=&quot;flames&quot;;\r\n          String p1=&quot;flames&quot;;\r\n          String s2=&quot;&quot;;\r\n          String m=&quot;&quot;;\r\n          for(int i=0;i &lt; s.length();i++)\r\n          {\r\n             if(Character.isLetter(s.charAt(i))) \r\n             {\r\n                m=m+s.charAt(i);\r\n             }\r\n          }\r\n          s=m;\r\n          m=&quot;&quot;;\r\n          for(int i=0;i &lt; s1.length();i++)\r\n          {\r\n             if(Character.isLetter(s1.charAt(i))) \r\n             {\r\n                m=m+s1.charAt(i);\r\n             }\r\n         }\r\n        s1=m;\r\n        m=&quot;&quot;;\r\n        int l=s.length();\r\n        int l1=s1.length();\r\n        for(int i=0;i &lt; l;i++)\r\n        {\r\n           int sl=0;\r\n           for(int j=0;j &lt; s1.length();j++)\r\n           {\r\n              if(s.charAt(i)==s1.charAt(j))\r\n              {\r\n                 if(sl==0)\r\n                 {\r\n                   sl++;sp++;s2=s2+&quot; &quot; ;\r\n                 }\r\n                 else\r\n                 {\r\n                   s2=s2+s1.charAt(j);\r\n                 }\r\n              }\r\n              else\r\n              {\r\n                s2=s2+s1.charAt(j);\r\n              }\r\n          }\r\n         s1=s2;\r\n         s2=&quot;&quot;;\r\n       }\r\n       sp=sp*2;\r\n       int c=(l-1)+(l1-1)-(sp-1);\r\n       for(int i=1;;i++)\r\n       {\r\n          String z=&quot;&quot;;p=p+p+p+p+p+p+p+p+p+p+p+p+p+p+p+p+p+p+p+p+p+p+p+p+p+p+p+p+p+p+p+p+p;\r\n         String mn=&quot;&quot;;\r\n         char c1=p.charAt(c);\r\n         for(int j=0;j &lt; p1.length();j++)\r\n         {\r\n            if(c1==p1.charAt(j))\r\n            {\r\n               mn=p1.substring(j+1)+mn;\r\n               break;\r\n            }\r\n            else\r\n            {\r\n              mn=mn+p1.charAt(j);\r\n            }\r\n          }\r\n          for(int k=0;k &lt; p1.length();k++)\r\n          {\r\n             if(c1==p1.charAt(k))\r\n             {\r\n             }\r\n             else\r\n             {\r\n                z=z+p1.charAt(k);\r\n             }\r\n          }\r\n          p1=z;\r\n          p=mn;\r\n          if(mn.length()==1)\r\n          {\r\n             System.out.println(mn);\r\n             break;\r\n          }\r\n        }\r\n      }\r\n    }","title":"flames game logic using java giving error result?","body":"<pre><code>import java.util.*;\npublic class Flames\n{\n   public static void main()\n   {\n      int sp=0;\n      Scanner sc=new Scanner(System.in);\n      System.out.println(\"enter two names\");\n      String s=sc.nextLine().toLowerCase();\n      String s1=sc.nextLine().toLowerCase();\n      String p=\"flames\";\n      String p1=\"flames\";\n      String s2=\"\";\n      String m=\"\";\n      for(int i=0;i &lt; s.length();i++)\n      {\n         if(Character.isLetter(s.charAt(i))) \n         {\n            m=m+s.charAt(i);\n         }\n      }\n      s=m;\n      m=\"\";\n      for(int i=0;i &lt; s1.length();i++)\n      {\n         if(Character.isLetter(s1.charAt(i))) \n         {\n            m=m+s1.charAt(i);\n         }\n     }\n    s1=m;\n    m=\"\";\n    int l=s.length();\n    int l1=s1.length();\n    for(int i=0;i &lt; l;i++)\n    {\n       int sl=0;\n       for(int j=0;j &lt; s1.length();j++)\n       {\n          if(s.charAt(i)==s1.charAt(j))\n          {\n             if(sl==0)\n             {\n               sl++;sp++;s2=s2+\" \" ;\n             }\n             else\n             {\n               s2=s2+s1.charAt(j);\n             }\n          }\n          else\n          {\n            s2=s2+s1.charAt(j);\n          }\n      }\n     s1=s2;\n     s2=\"\";\n   }\n   sp=sp*2;\n   int c=(l-1)+(l1-1)-(sp-1);\n   for(int i=1;;i++)\n   {\n      String z=\"\";p=p+p+p+p+p+p+p+p+p+p+p+p+p+p+p+p+p+p+p+p+p+p+p+p+p+p+p+p+p+p+p+p+p;\n     String mn=\"\";\n     char c1=p.charAt(c);\n     for(int j=0;j &lt; p1.length();j++)\n     {\n        if(c1==p1.charAt(j))\n        {\n           mn=p1.substring(j+1)+mn;\n           break;\n        }\n        else\n        {\n          mn=mn+p1.charAt(j);\n        }\n      }\n      for(int k=0;k &lt; p1.length();k++)\n      {\n         if(c1==p1.charAt(k))\n         {\n         }\n         else\n         {\n            z=z+p1.charAt(k);\n         }\n      }\n      p1=z;\n      p=mn;\n      if(mn.length()==1)\n      {\n         System.out.println(mn);\n         break;\n      }\n    }\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23336109,"reputation":7,"user_id":17411747,"display_name":"CEH Purushothaman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691152872,"creation_date":1690630796,"answer_id":76793389,"question_id":27147538,"body_markdown":"```java\r\npublic void afterRemoveLetter() {\r\n    int[] name1Array = new int[26];\r\n    int[] name2Array = new int[26];\r\n\r\n    for(char c : name1.toCharArray())\r\n        name1Array[c-97]++;\r\n\r\n    for(char c : name2.toCharArray())\r\n        name2Array[c-97]++;\r\n\r\n    for(int i=0; i&lt;26; i++)\r\n        totalCountOfLetters += Math.abs(name1Array[i] - name2Array[i]);\r\n\r\n}\r\n\r\npublic String findFLAMES(){\r\n    ArrayList&lt;Character&gt; flames = new ArrayList&lt;&gt;() {{\r\n            add(&#39;f&#39;);\r\n            add(&#39;l&#39;);\r\n            add(&#39;a&#39;);\r\n            add(&#39;m&#39;);\r\n            add(&#39;e&#39;);\r\n            add(&#39;s&#39;);\r\n        }};\r\n\r\n    int currentCount = 0;\r\n\r\n    do{\r\n        int temp = totalCountOfLetters % flames.size();\r\n        currentCount = (temp - 1 + currentCount + flames.size()) % flames.size();\r\n        flames.remove(currentCount);\r\n\r\n    }while(flames.size() &gt; 1);\r\n\r\n    return flames.toString();\r\n}\r\n```","title":"flames game logic using java giving error result?","body":"<pre class=\"lang-java prettyprint-override\"><code>public void afterRemoveLetter() {\n    int[] name1Array = new int[26];\n    int[] name2Array = new int[26];\n\n    for(char c : name1.toCharArray())\n        name1Array[c-97]++;\n\n    for(char c : name2.toCharArray())\n        name2Array[c-97]++;\n\n    for(int i=0; i&lt;26; i++)\n        totalCountOfLetters += Math.abs(name1Array[i] - name2Array[i]);\n\n}\n\npublic String findFLAMES(){\n    ArrayList&lt;Character&gt; flames = new ArrayList&lt;&gt;() {{\n            add('f');\n            add('l');\n            add('a');\n            add('m');\n            add('e');\n            add('s');\n        }};\n\n    int currentCount = 0;\n\n    do{\n        int temp = totalCountOfLetters % flames.size();\n        currentCount = (temp - 1 + currentCount + flames.size()) % flames.size();\n        flames.remove(currentCount);\n\n    }while(flames.size() &gt; 1);\n\n    return flames.toString();\n}\n</code></pre>\n"}],"owner":{"account_id":5036835,"reputation":109,"user_id":4045376,"accept_rate":82,"display_name":"Gangadhar B"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10279,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":27148090,"answer_count":6,"score":4,"last_activity_date":1691152872,"creation_date":1417000018,"question_id":27147538,"body_markdown":"Here I have created a flames game logic it is final string length is correct(eg:4 for two strings &#39;raja&#39; and &#39;rani&#39;) based on length I need to show &#39;f&#39; or &#39;l&#39; or &#39;a&#39; or &#39;m&#39; or &#39;e&#39; or &#39;s&#39;.\r\nI have written logic based on length that character is visible but that is not my concern. For length 4 result should be &#39;e&#39;(in flames for length 4 first &#39;m&#39; should remove then &#39;l&#39; then &#39;f&#39; then &#39;a&#39; then &#39;s&#39; finally i need &#39;e&#39; as output.Can anybody tell me idea. This is my code.\r\n\r\n    public static void main(String[] args) {\r\n        String name1 = &quot;raja&quot;;\r\n        String name2 = &quot;rani&quot;;\r\n        String s1 = name1;\r\n        String s2 = name2;\r\n        for (int i = 0; i &lt; name1.length(); i++) {\r\n            for (int j = 0; j &lt; name2.length(); j++) {\r\n                if (name1.charAt(i) == name2.charAt(j)) {\r\n                name1 = name1.replaceFirst(String.valueOf(name1.charAt(i)), &quot;#&quot;);\r\n                name2 = name2.replaceFirst(String.valueOf(name2.charAt(j)), &quot;#&quot;);\r\n                }\r\n            }\r\n        }\r\n        String result = name1 + name2;\r\n        result = result.replaceAll(&quot;#&quot;, &quot;&quot;);\r\n        int resultLength = result.length();\r\n        String baseInput = &quot;flames&quot;;\r\n        char relationIs = 0;\r\n        int temp = 0;\r\n        if (resultLength &gt; 0) {\r\n            temp = resultLength % baseInput.length();\r\n        }\r\n        if (temp == 0 &amp;&amp; resultLength &gt;= 6) {\r\n            relationIs = &#39;s&#39;;\r\n        } else {\r\n            int count = temp - 1;\r\n            if (count &gt;= 0) {\r\n                relationIs = baseInput.charAt(count);\r\n            System.out.println(&quot;Relation Betw &quot; + s1 + &quot; and &quot; + s2 + &quot; is:&quot;);\r\n            }\r\n        }\r\n        switch (relationIs) {\r\n            case &#39;f&#39;:\r\n                System.out.println(&quot;friendship&quot;);\r\n                break;\r\n            case &#39;l&#39;:\r\n                System.out.println(&quot;Lovers&quot;);\r\n                break;\r\n            case &#39;a&#39;:\r\n                System.out.println(&quot;Affection&quot;);\r\n                break;\r\n            case &#39;m&#39;:\r\n                System.out.println(&quot;Marriage&quot;);\r\n                break;\r\n            case &#39;e&#39;:\r\n                System.out.println(&quot;Enemity&quot;);\r\n                break;\r\n            case &#39;s&#39;:\r\n                System.out.println(&quot;Siblings&quot;);\r\n                break;\r\n            default:\r\n                System.out.println(&quot;FLAME Test works only for different names&quot;);\r\n                break;\r\n        }\r\n    }\r\n\r\nLogic follows this order:only forward direction remove 4 character.\r\n\r\n    if length=4\r\n    step 0:flames (&#39;f&#39; as 1)\r\n    step 1:flaes (here &#39;e&#39; as 1)\r\n    step 2:faes  (here &#39;a&#39; as 1)\r\n    step 3:aes   (here &#39;a&#39; as 1)\r\n    step 4:es    (here &#39;e&#39; as 1)\r\n    step 5:e   //output.\r\n\r\nYour help will be appreciated.\r\n\r\n","title":"flames game logic using java giving error result?","body":"<p>Here I have created a flames game logic it is final string length is correct(eg:4 for two strings 'raja' and 'rani') based on length I need to show 'f' or 'l' or 'a' or 'm' or 'e' or 's'.\nI have written logic based on length that character is visible but that is not my concern. For length 4 result should be 'e'(in flames for length 4 first 'm' should remove then 'l' then 'f' then 'a' then 's' finally i need 'e' as output.Can anybody tell me idea. This is my code.</p>\n\n<pre><code>public static void main(String[] args) {\n    String name1 = \"raja\";\n    String name2 = \"rani\";\n    String s1 = name1;\n    String s2 = name2;\n    for (int i = 0; i &lt; name1.length(); i++) {\n        for (int j = 0; j &lt; name2.length(); j++) {\n            if (name1.charAt(i) == name2.charAt(j)) {\n            name1 = name1.replaceFirst(String.valueOf(name1.charAt(i)), \"#\");\n            name2 = name2.replaceFirst(String.valueOf(name2.charAt(j)), \"#\");\n            }\n        }\n    }\n    String result = name1 + name2;\n    result = result.replaceAll(\"#\", \"\");\n    int resultLength = result.length();\n    String baseInput = \"flames\";\n    char relationIs = 0;\n    int temp = 0;\n    if (resultLength &gt; 0) {\n        temp = resultLength % baseInput.length();\n    }\n    if (temp == 0 &amp;&amp; resultLength &gt;= 6) {\n        relationIs = 's';\n    } else {\n        int count = temp - 1;\n        if (count &gt;= 0) {\n            relationIs = baseInput.charAt(count);\n        System.out.println(\"Relation Betw \" + s1 + \" and \" + s2 + \" is:\");\n        }\n    }\n    switch (relationIs) {\n        case 'f':\n            System.out.println(\"friendship\");\n            break;\n        case 'l':\n            System.out.println(\"Lovers\");\n            break;\n        case 'a':\n            System.out.println(\"Affection\");\n            break;\n        case 'm':\n            System.out.println(\"Marriage\");\n            break;\n        case 'e':\n            System.out.println(\"Enemity\");\n            break;\n        case 's':\n            System.out.println(\"Siblings\");\n            break;\n        default:\n            System.out.println(\"FLAME Test works only for different names\");\n            break;\n    }\n}\n</code></pre>\n\n<p>Logic follows this order:only forward direction remove 4 character.</p>\n\n<pre><code>if length=4\nstep 0:flames ('f' as 1)\nstep 1:flaes (here 'e' as 1)\nstep 2:faes  (here 'a' as 1)\nstep 3:aes   (here 'a' as 1)\nstep 4:es    (here 'e' as 1)\nstep 5:e   //output.\n</code></pre>\n\n<p>Your help will be appreciated.</p>\n"},{"tags":["java","spring-boot","swagger","swagger-ui","timezone-offset"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1677532688,"post_id":75584697,"comment_id":133353162,"body_markdown":"&quot;default value&quot; is a misleading choice of words. I suggest you edit the title and body to use the correct terms: ***standard [ISO 8601](https://en.wikipedia.org/wiki/ISO_8601) format*** of &#177;HH:MM","body":"&quot;default value&quot; is a misleading choice of words. I suggest you edit the title and body to use the correct terms: <b><i>standard <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO 8601</a> format</i></b> of &#177;HH:MM"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1677532918,"post_id":75584697,"comment_id":133353208,"body_markdown":"I am not sure what sense it makes for an order to have a `ZoneOffset` attribute such as +01:00. But since you think it is meaningful, I too would try to see if I could serialize it exactly as such a string (only), `+01:00`. Id somehow wonder if there isnt a way.","body":"I am not sure what sense it makes for an order to have a <code>ZoneOffset</code> attribute such as +01:00. But since you think it is meaningful, I too would try to see if I could serialize it exactly as such a string (only), <code>+01:00</code>. Id somehow wonder if there isnt a way."},{"owner":{"account_id":23317768,"reputation":58,"user_id":17396162,"display_name":" "},"score":0,"creation_date":1677547284,"post_id":75584697,"comment_id":133355771,"body_markdown":"Because the project is old, we store time as it is on our servers. And not to send messages about order (something can change in the order, or the delivery started...) when it is late, we need to understand users timezone and calculate their time, when any change happens","body":"Because the project is old, we store time as it is on our servers. And not to send messages about order (something can change in the order, or the delivery started...) when it is late, we need to understand users timezone and calculate their time, when any change happens"}],"answers":[{"tags":[],"owner":{"account_id":23317768,"reputation":58,"user_id":17396162,"display_name":" "},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1691152857,"creation_date":1691152857,"answer_id":76836011,"question_id":75584697,"body_markdown":"I found the solution in [`io.swagger.v3.oas.annotations.media.Schema`](https://docs.swagger.io/swagger-core/v2.0.0-RC3/apidocs/io/swagger/v3/oas/annotations/media/Schema.html#example--)\r\n\r\n```Java\r\n@Schema(example = &quot;+01:00&quot;)\r\nprivate ZoneOffset timezone;\r\n```\r\n\r\ngenerates the same result as I expected.","title":"Standard ISO 8601 format of &#177;HH:MM for ZoneOffset in swagger instead of JSON","body":"<p>I found the solution in <a href=\"https://docs.swagger.io/swagger-core/v2.0.0-RC3/apidocs/io/swagger/v3/oas/annotations/media/Schema.html#example--\" rel=\"nofollow noreferrer\"><code>io.swagger.v3.oas.annotations.media.Schema</code></a></p>\n<pre><code>@Schema(example = &quot;+01:00&quot;)\nprivate ZoneOffset timezone;\n</code></pre>\n<p>generates the same result as I expected.</p>\n"}],"owner":{"account_id":23317768,"reputation":58,"user_id":17396162,"display_name":" "},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":187,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76836011,"answer_count":1,"score":2,"last_activity_date":1691152857,"creation_date":1677525472,"question_id":75584697,"body_markdown":"I&#39;m currently working on Java application, which works with the orders. In some `@RestController` methods I return an instance of an `Order` class, which contains a `timezone` field.\r\n\r\n```java\r\n@Data\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class Order {\r\n   private ZoneOffset timezone;\r\n}\r\n```\r\n\r\nWhen I generate swagger with spring-boot tools it creates a json for responses, which looks like this\r\n\r\n```json\r\n{\r\n&quot;timezone&quot;: {\r\n    &quot;totalSeconds&quot;: 0,\r\n    &quot;id&quot;: &quot;string&quot;,\r\n    &quot;rules&quot;: {\r\n      &quot;fixedOffset&quot;: true,\r\n      &quot;transitions&quot;: [\r\n        {\r\n          &quot;offsetBefore&quot;: {\r\n            &quot;totalSeconds&quot;: 0,\r\n            &quot;id&quot;: &quot;string&quot;\r\n          },\r\n          &quot;offsetAfter&quot;: {\r\n            &quot;totalSeconds&quot;: 0,\r\n            &quot;id&quot;: &quot;string&quot;\r\n          },\r\n          &quot;duration&quot;: {\r\n            &quot;seconds&quot;: 0,\r\n            &quot;nano&quot;: 0,\r\n            &quot;negative&quot;: true,\r\n            &quot;zero&quot;: true,\r\n            &quot;units&quot;: [\r\n              {\r\n                &quot;dateBased&quot;: true,\r\n                &quot;timeBased&quot;: true,\r\n                &quot;durationEstimated&quot;: true\r\n              }\r\n            ]\r\n          },\r\n          &quot;gap&quot;: true,\r\n          &quot;dateTimeBefore&quot;: &quot;2023-02-27T18:33:30.403Z&quot;,\r\n          &quot;dateTimeAfter&quot;: &quot;2023-02-27T18:33:30.403Z&quot;,\r\n          &quot;instant&quot;: &quot;2023-02-27T18:33:30.403Z&quot;,\r\n          &quot;overlap&quot;: true\r\n        }\r\n      ],\r\n      &quot;transitionRules&quot;: [\r\n        {\r\n          &quot;month&quot;: &quot;JANUARY&quot;,\r\n          &quot;timeDefinition&quot;: &quot;UTC&quot;,\r\n          &quot;standardOffset&quot;: {\r\n            &quot;totalSeconds&quot;: 0,\r\n            &quot;id&quot;: &quot;string&quot;\r\n          },\r\n          &quot;offsetBefore&quot;: {\r\n            &quot;totalSeconds&quot;: 0,\r\n            &quot;id&quot;: &quot;string&quot;\r\n          },\r\n          &quot;offsetAfter&quot;: {\r\n            &quot;totalSeconds&quot;: 0,\r\n            &quot;id&quot;: &quot;string&quot;\r\n          },\r\n          &quot;dayOfWeek&quot;: &quot;MONDAY&quot;,\r\n          &quot;dayOfMonthIndicator&quot;: 0,\r\n          &quot;localTime&quot;: {\r\n            &quot;hour&quot;: 0,\r\n            &quot;minute&quot;: 0,\r\n            &quot;second&quot;: 0,\r\n            &quot;nano&quot;: 0\r\n          },\r\n          &quot;midnightEndOfDay&quot;: true\r\n        }\r\n      ]\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nwhich is not human-readable. \r\n\r\nI want swagger to generate the default value, like `+01:00` (like it returns in responses, when I send requests to my api).\r\n\r\nI tried to use annotations like \r\n```java\r\n@ApiModelProperty(example = &quot;+01:00&quot;)\r\n``` \r\nor \r\n```java\r\n@ApiParam(defaultValue=&quot;+01:00&quot;)\r\n```\r\n, but nothing worked out for me.\r\n\r\nI know that spring-boot tools can generate a human-readable json for `ZonedDateTime` (like this \r\n```json\r\n&quot;time&quot;: &quot;2023-02-27T18:33:30.403Z&quot;\r\n```\r\n). So I hope there is way to make the same thing for `ZoneOffset`.\r\n\r\nP.S. I can not replace it is used in different calculations and convert it into string and back seems kind of problematic.","title":"Standard ISO 8601 format of &#177;HH:MM for ZoneOffset in swagger instead of JSON","body":"<p>I'm currently working on Java application, which works with the orders. In some <code>@RestController</code> methods I return an instance of an <code>Order</code> class, which contains a <code>timezone</code> field.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Data\n@NoArgsConstructor\n@AllArgsConstructor\npublic class Order {\n   private ZoneOffset timezone;\n}\n</code></pre>\n<p>When I generate swagger with spring-boot tools it creates a json for responses, which looks like this</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n&quot;timezone&quot;: {\n    &quot;totalSeconds&quot;: 0,\n    &quot;id&quot;: &quot;string&quot;,\n    &quot;rules&quot;: {\n      &quot;fixedOffset&quot;: true,\n      &quot;transitions&quot;: [\n        {\n          &quot;offsetBefore&quot;: {\n            &quot;totalSeconds&quot;: 0,\n            &quot;id&quot;: &quot;string&quot;\n          },\n          &quot;offsetAfter&quot;: {\n            &quot;totalSeconds&quot;: 0,\n            &quot;id&quot;: &quot;string&quot;\n          },\n          &quot;duration&quot;: {\n            &quot;seconds&quot;: 0,\n            &quot;nano&quot;: 0,\n            &quot;negative&quot;: true,\n            &quot;zero&quot;: true,\n            &quot;units&quot;: [\n              {\n                &quot;dateBased&quot;: true,\n                &quot;timeBased&quot;: true,\n                &quot;durationEstimated&quot;: true\n              }\n            ]\n          },\n          &quot;gap&quot;: true,\n          &quot;dateTimeBefore&quot;: &quot;2023-02-27T18:33:30.403Z&quot;,\n          &quot;dateTimeAfter&quot;: &quot;2023-02-27T18:33:30.403Z&quot;,\n          &quot;instant&quot;: &quot;2023-02-27T18:33:30.403Z&quot;,\n          &quot;overlap&quot;: true\n        }\n      ],\n      &quot;transitionRules&quot;: [\n        {\n          &quot;month&quot;: &quot;JANUARY&quot;,\n          &quot;timeDefinition&quot;: &quot;UTC&quot;,\n          &quot;standardOffset&quot;: {\n            &quot;totalSeconds&quot;: 0,\n            &quot;id&quot;: &quot;string&quot;\n          },\n          &quot;offsetBefore&quot;: {\n            &quot;totalSeconds&quot;: 0,\n            &quot;id&quot;: &quot;string&quot;\n          },\n          &quot;offsetAfter&quot;: {\n            &quot;totalSeconds&quot;: 0,\n            &quot;id&quot;: &quot;string&quot;\n          },\n          &quot;dayOfWeek&quot;: &quot;MONDAY&quot;,\n          &quot;dayOfMonthIndicator&quot;: 0,\n          &quot;localTime&quot;: {\n            &quot;hour&quot;: 0,\n            &quot;minute&quot;: 0,\n            &quot;second&quot;: 0,\n            &quot;nano&quot;: 0\n          },\n          &quot;midnightEndOfDay&quot;: true\n        }\n      ]\n    }\n  }\n}\n</code></pre>\n<p>which is not human-readable.</p>\n<p>I want swagger to generate the default value, like <code>+01:00</code> (like it returns in responses, when I send requests to my api).</p>\n<p>I tried to use annotations like</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ApiModelProperty(example = &quot;+01:00&quot;)\n</code></pre>\n<p>or</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ApiParam(defaultValue=&quot;+01:00&quot;)\n</code></pre>\n<p>, but nothing worked out for me.</p>\n<p>I know that spring-boot tools can generate a human-readable json for <code>ZonedDateTime</code> (like this</p>\n<pre class=\"lang-json prettyprint-override\"><code>&quot;time&quot;: &quot;2023-02-27T18:33:30.403Z&quot;\n</code></pre>\n<p>). So I hope there is way to make the same thing for <code>ZoneOffset</code>.</p>\n<p>P.S. I can not replace it is used in different calculations and convert it into string and back seems kind of problematic.</p>\n"},{"tags":["java","spring-boot","logging","spring-webflux","reactor-netty"],"comments":[{"owner":{"account_id":58650,"reputation":3399,"user_id":175554,"accept_rate":40,"display_name":"ozkanpakdil"},"score":1,"creation_date":1691313618,"post_id":76831788,"comment_id":135472570,"body_markdown":"you can try writing your own log handler https://stackoverflow.com/a/58050657/175554 or you can group by those logs by their spanid [check](https://opentelemetry.io/docs/specs/otel/logs/data-model/#field-spanid)","body":"you can try writing your own log handler <a href=\"https://stackoverflow.com/a/58050657/175554\">stackoverflow.com/a/58050657/175554</a> or you can group by those logs by their spanid <a href=\"https://opentelemetry.io/docs/specs/otel/logs/data-model/#field-spanid\" rel=\"nofollow noreferrer\">check</a>"}],"owner":{"account_id":4895504,"reputation":702,"user_id":4253293,"accept_rate":50,"display_name":"Steve"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":229,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691152670,"creation_date":1691099338,"question_id":76831788,"body_markdown":"I&#39;m trying to produce logging for Netty Reactor and finding it very hard to get what I want.  The wiretap functionality has much of the information that I need, but the content is messy and spread across multiple lines which would become very confused in a production environment.\r\n\r\nNetty Wiretap Output at INFO level includes all of the handshaking with the proxy server, etc.  At its heart I see this:\r\n\r\n**REQUEST**\r\n```\r\n2023-08-03 17:02:48,474 [reactor-http-nio-1] INFO reactor.netty.http.client.HttpClient:99 - [9f3f80fb-1, L:/111.22.33.44:1234 - R:proxy.mycompany.com/33.44.55.22:8080] WRITE: 480B POST /api/trying/to/call HTTP/1.1\r\nconnection:close\r\nuser-agent: ReactorNetty/1.1.9\r\nhost: target.server.com\r\nAccept: application/json\r\nContent-Type: application/json\r\ncontent-length: 199\r\n\r\n{&quot;key1&quot;: &quot;value1&quot;, &quot;key2&quot;: &quot;value2&quot;}\r\n```\r\nThis isn&#39;t so bad, although I would like to clean it up a bit. At least everything gets written at once. The bigger problem is the response.\r\n\r\n**RESPONSE**\r\n```\r\n2023-08-03 17:02:51,122 [reactor-http-nio-1] INFO reactor.netty.http.client.HttpClient:99 - [9f3f80fb-1, L:/111.22.33.44:1234 - R:proxy.mycompany.com/33.44.55.22:8080] READ: 623B HTTP/1.1 200\r\nDate: Thu, 03 Aug 2023 21:02:51 GMT\r\nContent-Type: application/json\r\nContent-Length: 793\r\nMore-headers: snipped\r\n\r\n2023-08-03 17:02:51,125 [reactor-http-nio-1] INFO reactor.netty.http.client.HttpClient:99 - [9f3f80fb-1, L:/111.22.33.44:1234 - R:proxy.mycompany.com/33.44.55.22:8080] READ COMPLETE\r\n\r\n2023-08-03 17:02:51,128 [reactor-http-nio-1] INFO reactor.netty.http.client.HttpClient:99 - [9f3f80fb-1, L:/111.22.33.44:1234 - R:proxy.mycompany.com/33.44.55.22:8080] READ: 793B {&quot;key1&quot;: &quot;value1&quot;, &quot;key2&quot;:&quot;value2&quot;}\r\n```\r\nI need all of this together.  If you notice this is three separate log entries. It&#39;s easy enough to read like this, but in a production environment with many concurrent requests, trying to keep these correlated will be a much greater challenge.\r\n\r\nDoes anybody have a suggestion how to capture the whole response together?","title":"Log HTTP request/response in Netty","body":"<p>I'm trying to produce logging for Netty Reactor and finding it very hard to get what I want.  The wiretap functionality has much of the information that I need, but the content is messy and spread across multiple lines which would become very confused in a production environment.</p>\n<p>Netty Wiretap Output at INFO level includes all of the handshaking with the proxy server, etc.  At its heart I see this:</p>\n<p><strong>REQUEST</strong></p>\n<pre><code>2023-08-03 17:02:48,474 [reactor-http-nio-1] INFO reactor.netty.http.client.HttpClient:99 - [9f3f80fb-1, L:/111.22.33.44:1234 - R:proxy.mycompany.com/33.44.55.22:8080] WRITE: 480B POST /api/trying/to/call HTTP/1.1\nconnection:close\nuser-agent: ReactorNetty/1.1.9\nhost: target.server.com\nAccept: application/json\nContent-Type: application/json\ncontent-length: 199\n\n{&quot;key1&quot;: &quot;value1&quot;, &quot;key2&quot;: &quot;value2&quot;}\n</code></pre>\n<p>This isn't so bad, although I would like to clean it up a bit. At least everything gets written at once. The bigger problem is the response.</p>\n<p><strong>RESPONSE</strong></p>\n<pre><code>2023-08-03 17:02:51,122 [reactor-http-nio-1] INFO reactor.netty.http.client.HttpClient:99 - [9f3f80fb-1, L:/111.22.33.44:1234 - R:proxy.mycompany.com/33.44.55.22:8080] READ: 623B HTTP/1.1 200\nDate: Thu, 03 Aug 2023 21:02:51 GMT\nContent-Type: application/json\nContent-Length: 793\nMore-headers: snipped\n\n2023-08-03 17:02:51,125 [reactor-http-nio-1] INFO reactor.netty.http.client.HttpClient:99 - [9f3f80fb-1, L:/111.22.33.44:1234 - R:proxy.mycompany.com/33.44.55.22:8080] READ COMPLETE\n\n2023-08-03 17:02:51,128 [reactor-http-nio-1] INFO reactor.netty.http.client.HttpClient:99 - [9f3f80fb-1, L:/111.22.33.44:1234 - R:proxy.mycompany.com/33.44.55.22:8080] READ: 793B {&quot;key1&quot;: &quot;value1&quot;, &quot;key2&quot;:&quot;value2&quot;}\n</code></pre>\n<p>I need all of this together.  If you notice this is three separate log entries. It's easy enough to read like this, but in a production environment with many concurrent requests, trying to keep these correlated will be a much greater challenge.</p>\n<p>Does anybody have a suggestion how to capture the whole response together?</p>\n"},{"tags":["java","reactjs","spring-boot","cors"],"comments":[{"owner":{"account_id":22226004,"reputation":13332,"user_id":16462950,"display_name":"Heiko Thei&#223;en"},"score":0,"creation_date":1691153911,"post_id":76835963,"comment_id":135457046,"body_markdown":"If the backend can be accessed by the UI, it must also be accessible by curl, because curl can be used to make the same requests (including `Origin` header) that the UI also makes. In other words: CORS is not used to protect the backend, but to protect the _client_ against making unwanted requests.","body":"If the backend can be accessed by the UI, it must also be accessible by curl, because curl can be used to make the same requests (including <code>Origin</code> header) that the UI also makes. In other words: CORS is not used to protect the backend, but to protect the <i>client</i> against making unwanted requests."},{"owner":{"account_id":10135,"reputation":14538,"user_id":18995,"accept_rate":81,"display_name":"Paul Croarkin"},"score":0,"creation_date":1691155452,"post_id":76835963,"comment_id":135457415,"body_markdown":"@HeikoThei&#223;en What is the point of allowedOrigins?","body":"@HeikoThei&#223;en What is the point of allowedOrigins?"},{"owner":{"account_id":22226004,"reputation":13332,"user_id":16462950,"display_name":"Heiko Thei&#223;en"},"score":2,"creation_date":1691155550,"post_id":76835963,"comment_id":135457443,"body_markdown":"See here: https://developer.mozilla.org/en-US/docs/Glossary/CORS","body":"See here: <a href=\"https://developer.mozilla.org/en-US/docs/Glossary/CORS\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Glossary/CORS</a>"}],"owner":{"account_id":10135,"reputation":14538,"user_id":18995,"accept_rate":81,"display_name":"Paul Croarkin"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691152544,"creation_date":1691152544,"question_id":76835963,"body_markdown":"We have an application with two containers deployed within the same pod hosted on AWS EKS. The React UI container is running on port 8080 while the Spring Boot backend is running on 8081. \r\n\r\nThe CORS configuration on Spring Boot (3.1.2):\r\n\r\n```\r\n@EnableWebSecurity\r\n@Slf4j\r\npublic class WebMvcConfigurerConfig {\r\n\t@Value(&quot;${PUBLIC_URL}&quot;)\r\n\tprivate String url;\r\n\t\r\n\t@Bean\r\n\tpublic WebMvcConfigurer corsConfigurer() {\r\n\t\treturn new WebMvcConfigurer() {\r\n\t\t\t@Override\r\n\t\t\tpublic void addCorsMappings(CorsRegistry registry) {\r\n\t\t\t\tlog.info(&quot;url: &quot; + url);\r\n\t\t\t\tregistry.addMapping(&quot;/**&quot;).allowedOrigins(url, &quot;svc.local.cluster&quot;, &quot;http://localhost:8080&quot;, &quot;http://localhost:8081&quot;, &quot; http://127.0.0.1:8080&quot;);\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n}\r\n```\r\n\r\nPUBLIC_URL is an environment variable that defines the url that the application is hosted on. For example: https://acme.com/myapp\r\n\r\nThis configuration successfully stops the backend being able to be accessed via curl or other tools. However, the UI can no longer contact the backend.\r\n\r\nWhat would be the proper allowedOrigins?","title":"Stopping Access to Spring Backend Service via CORS, but React Frontend Can No Longer Access Backend","body":"<p>We have an application with two containers deployed within the same pod hosted on AWS EKS. The React UI container is running on port 8080 while the Spring Boot backend is running on 8081.</p>\n<p>The CORS configuration on Spring Boot (3.1.2):</p>\n<pre><code>@EnableWebSecurity\n@Slf4j\npublic class WebMvcConfigurerConfig {\n    @Value(&quot;${PUBLIC_URL}&quot;)\n    private String url;\n    \n    @Bean\n    public WebMvcConfigurer corsConfigurer() {\n        return new WebMvcConfigurer() {\n            @Override\n            public void addCorsMappings(CorsRegistry registry) {\n                log.info(&quot;url: &quot; + url);\n                registry.addMapping(&quot;/**&quot;).allowedOrigins(url, &quot;svc.local.cluster&quot;, &quot;http://localhost:8080&quot;, &quot;http://localhost:8081&quot;, &quot; http://127.0.0.1:8080&quot;);\n            }\n        };\n    }\n}\n</code></pre>\n<p>PUBLIC_URL is an environment variable that defines the url that the application is hosted on. For example: <a href=\"https://acme.com/myapp\" rel=\"nofollow noreferrer\">https://acme.com/myapp</a></p>\n<p>This configuration successfully stops the backend being able to be accessed via curl or other tools. However, the UI can no longer contact the backend.</p>\n<p>What would be the proper allowedOrigins?</p>\n"},{"tags":["java","jackson","jackson-databind"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1691227947,"post_id":76835882,"comment_id":135465859,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":11498079,"reputation":1,"user_id":8426696,"display_name":"C.Loong"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691152074,"creation_date":1691152074,"question_id":76835882,"body_markdown":"I have a Map&lt;String,Object&gt; = new HashMap(). I want to configure a serializer for the value corresponding to the key named &quot;specialKey&quot; (or other keys) in a programmatic way. \r\n\r\nI tried to override the parent class (MapSerializer.class) serialization method to implement this. However, I realized it would lose a lot of logic from the original source code. Is there a better approach to accomplish this?","title":"How to configure a custom serializer for the value of a specified key in a Map","body":"<p>I have a Map&lt;String,Object&gt; = new HashMap(). I want to configure a serializer for the value corresponding to the key named &quot;specialKey&quot; (or other keys) in a programmatic way.</p>\n<p>I tried to override the parent class (MapSerializer.class) serialization method to implement this. However, I realized it would lose a lot of logic from the original source code. Is there a better approach to accomplish this?</p>\n"},{"tags":["java","android","image-classification"],"comments":[{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1691152014,"post_id":76764413,"comment_id":135456656,"body_markdown":"Does it work on the same images without tflite?","body":"Does it work on the same images without tflite?"},{"owner":{"account_id":26890580,"reputation":82,"user_id":20469419,"display_name":"SILA"},"score":0,"creation_date":1691402532,"post_id":76764413,"comment_id":135481706,"body_markdown":"Yes,  I will test it again and add it to the question.","body":"Yes,  I will test it again and add it to the question."},{"owner":{"account_id":26890580,"reputation":82,"user_id":20469419,"display_name":"SILA"},"score":0,"creation_date":1691573545,"post_id":76764413,"comment_id":135508701,"body_markdown":"Hi, @dan1st I followed here :https://keras.io/examples/vision/image_classification_efficientnet_fine_tuning/ AND https://github.com/vatsaldpatel/EfficientNet-Transfer-Learning/blob/master/transfer_learning_EfficientNet.py this is mine: https://github.com/usertttwm/EfficientNetImageClassification/blob/main/dinnerTrayBreakfastTrayImageClassification.ipynb\nadditionally I used callback for best model. and I printed the classification report. the result is always 1.00 overfitting? Do you have an idea ? Is there anything I missed? Thank you very much.","body":"Hi, @dan1st I followed here :<a href=\"https://keras.io/examples/vision/image_classification_efficientnet_fine_tuning/\" rel=\"nofollow noreferrer\">keras.io/examples/vision/&hellip;</a> AND <a href=\"https://github.com/vatsaldpatel/EfficientNet-Transfer-Learning/blob/master/transfer_learning_EfficientNet.py\" rel=\"nofollow noreferrer\">github.com/vatsaldpatel/EfficientNet-Transfer-Learning/blob/&zwnj;&#8203;&hellip;</a> this is mine: <a href=\"https://github.com/usertttwm/EfficientNetImageClassification/blob/main/dinnerTrayBreakfastTrayImageClassification.ipynb\" rel=\"nofollow noreferrer\">github.com/usertttwm/EfficientNetImageClassification/blob/ma&zwnj;&#8203;in/&hellip;</a> additionally I used callback for best model. and I printed the classification report. the result is always 1.00 overfitting? Do you have an idea ? Is there anything I missed? Thank you very much."},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1691573628,"post_id":76764413,"comment_id":135508720,"body_markdown":"Do you get that result on the training or on a distinct test set? Where are you evaluating it?","body":"Do you get that result on the training or on a distinct test set? Where are you evaluating it?"},{"owner":{"account_id":26890580,"reputation":82,"user_id":20469419,"display_name":"SILA"},"score":0,"creation_date":1691589316,"post_id":76764413,"comment_id":135512182,"body_markdown":"I used the test folder for the classification report @dan1st","body":"I used the test folder for the classification report @dan1st"}],"owner":{"account_id":26890580,"reputation":82,"user_id":20469419,"display_name":"SILA"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691151882,"creation_date":1690299975,"question_id":76764413,"body_markdown":"I did object detection. I cropped the detected object. Now i need to classify this cropped image. I followed this tutorial for classification. https://www.kaggle.com/code/kmkarakaya/transfer-learning-for-image-classification.\r\n\r\nmy report results: I have two classes: EveningTray and BreakfastTray\r\n\r\n\r\n [![result][1]][1]\r\n\r\n\r\n\r\nI converted this model to .tflite. on android the result is always 100% eveningTray. I am missing this part. \r\n\r\n\r\n\r\n    public class TFLiteObjectDetectionAPIModel implements ClassifierTwo {\r\n        private static final String TAG = &quot;TFLiteObjectDetectionAPIModelWithInterpreter&quot;;\r\n    \r\n        private static final int NUM_DETECTIONS = 10;\r\n        private static final float IMAGE_MEAN = 127.5f;\r\n        private static final float IMAGE_STD = 127.5f;\r\n        private static final int NUM_THREADS = 4;\r\n        private boolean isModelQuantized;\r\n    \r\n        private int inputSize;\r\n    \r\n        private final List&lt;String&gt; labels = new ArrayList&lt;&gt;();\r\n        private int[] intValues;\r\n    \r\n        private float[][][] outputLocations;\r\n        private float[][] outputClasses;\r\n    \r\n        private float[][] outputScores;\r\n        private float[] numDetections;\r\n    \r\n        private ByteBuffer imgData;\r\n    \r\n        private MappedByteBuffer tfLiteModel;\r\n        private Interpreter.Options tfLiteOptions;\r\n        private Interpreter tfLite;\r\n    \r\n        private float[][] foodMap;\r\n        private static final int FOOD_SIZE = 2;\r\n        private static final float WHITE_THRESH = 255f;\r\n    \r\n        private TFLiteObjectDetectionAPIModel() {}\r\n        /** Memory-map the model file in Assets. */\r\n        private static MappedByteBuffer loadModelFile(AssetManager assets, String modelFilename)\r\n                throws IOException {\r\n            AssetFileDescriptor fileDescriptor = assets.openFd(modelFilename);\r\n            FileInputStream inputStream = new FileInputStream(fileDescriptor.getFileDescriptor());\r\n            FileChannel fileChannel = inputStream.getChannel();\r\n            long startOffset = fileDescriptor.getStartOffset();\r\n            long declaredLength = fileDescriptor.getDeclaredLength();\r\n            return fileChannel.map(FileChannel.MapMode.READ_ONLY, startOffset, declaredLength);\r\n        }\r\n        public static ClassifierTwo create(\r\n                final Context context,\r\n                final String modelFilename,\r\n                final String labelFilename,\r\n                final int inputSize,\r\n                final boolean isQuantized)\r\n                throws IOException {\r\n            final TFLiteObjectDetectionAPIModel d = new TFLiteObjectDetectionAPIModel();\r\n    \r\n            AssetManager am = context.getAssets();\r\n            InputStream is = am.open(labelFilename);\r\n    \r\n            MappedByteBuffer modelFile = loadModelFile(context.getAssets(), modelFilename);\r\n            MetadataExtractor metadata = new MetadataExtractor(modelFile);\r\n            try (BufferedReader br =\r\n                         new BufferedReader(\r\n                                 new InputStreamReader(is))) {\r\n                String line;\r\n                while ((line = br.readLine()) != null) {\r\n                    //Log.w(TAG, line);\r\n                    d.labels.add(line);\r\n                }\r\n            }\r\n    \r\n            d.inputSize = inputSize;\r\n    \r\n            try {\r\n                Interpreter.Options options = new Interpreter.Options();\r\n                options.setNumThreads(NUM_THREADS);\r\n                options.setUseXNNPACK(true);\r\n                d.tfLite = new Interpreter(modelFile, options);\r\n                d.tfLiteModel = modelFile;\r\n                d.tfLiteOptions = options;\r\n            } catch (Exception e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n    \r\n            d.isModelQuantized = isQuantized;\r\n            // Pre-allocate buffers.\r\n            int numBytesPerChannel;\r\n            if (isQuantized) {\r\n                numBytesPerChannel = 1; // Quantized\r\n            } else {\r\n                numBytesPerChannel = 4; // Floating point\r\n            }\r\n            d.imgData = ByteBuffer.allocateDirect(1 * d.inputSize * d.inputSize * 3 * numBytesPerChannel);\r\n            d.imgData.order(ByteOrder.nativeOrder());\r\n            d.intValues = new int[d.inputSize * d.inputSize];\r\n    \r\n            d.outputLocations = new float[1][NUM_DETECTIONS][2];\r\n            d.outputClasses = new float[1][NUM_DETECTIONS];\r\n            d.outputScores = new float[1][NUM_DETECTIONS];\r\n            d.numDetections = new float[1];\r\n            return d;\r\n        }\r\n    \r\n        @Override\r\n        public String recognizeImage1(final Bitmap bitmap) {\r\n            // Log this method so that it can be analyzed with systrace.\r\n            Trace.beginSection(&quot;recognizeImage1&quot;);\r\n    \r\n            Trace.beginSection(&quot;preprocessBitmap&quot;);\r\n            // Preprocess the image data from 0-255 int to normalized float based\r\n            // on the provided parameters.\r\n            bitmap.getPixels(intValues, 0, bitmap.getWidth(), 0, 0, bitmap.getWidth(), bitmap.getHeight());\r\n    \r\n            imgData.rewind();\r\n            for (int i = 0; i &lt; inputSize; ++i) {\r\n                for (int j = 0; j &lt; inputSize; ++j) {\r\n                    int pixelValue = intValues[i * inputSize + j];\r\n    \r\n    \r\n                    if (isModelQuantized) {\r\n                        // Quantized model\r\n                        imgData.put((byte) ((pixelValue &gt;&gt; 16) &amp; 0xFF));\r\n                        imgData.put((byte) ((pixelValue &gt;&gt; 8) &amp; 0xFF));\r\n                        imgData.put((byte) (pixelValue &amp; 0xFF));\r\n                    } else {\r\n                        imgData.putFloat((pixelValue &amp; 0xFF) / WHITE_THRESH);\r\n                        imgData.putFloat(((pixelValue &gt;&gt; 8) &amp; 0xFF) / WHITE_THRESH);\r\n                        imgData.putFloat(((pixelValue &gt;&gt; 16) &amp; 0xFF) / WHITE_THRESH);\r\n                    }\r\n                }\r\n            }\r\n    \r\n    \r\n            Trace.endSection();\r\n            // Copy the input data into TensorFlow.\r\n            Trace.beginSection(&quot;feed&quot;);\r\n    \r\n    \r\n            Object[] inputArray = {imgData};\r\n    \r\n            Map&lt;Integer, Object&gt; outputMap = new HashMap&lt;&gt;();\r\n    \r\n            foodMap = new float[1][FOOD_SIZE];\r\n    \r\n    \r\n    \r\n            outputMap.put(0, foodMap);\r\n            Trace.endSection();\r\n    \r\n            // Run the inference call.\r\n            Trace.beginSection(&quot;run&quot;);\r\n    \r\n    \r\n            tfLite.runForMultipleInputsOutputs(inputArray, outputMap);\r\n    \r\n    \r\n            Log.w(&quot;traytype&quot;, &quot;!!!traytype: &quot; + foodMap[0][0] + &quot;|&quot; + foodMap[0][1] );\r\n    \r\n            Integer foodInd = 0;\r\n     \r\n            Float max = -1f;\r\n            for (int i = 0; i &lt; foodMap[0].length; i++) {\r\n                float currValue = foodMap[0][i];\r\n    \r\n                if (currValue &gt; max) {\r\n                    max = currValue;\r\n                    foodInd = i;\r\n                }\r\n    \r\n            }\r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n            List&lt;String&gt; foodList = Arrays.asList(&quot;eveningTray&quot;, &quot;breakfastTray&quot;);\r\n    \r\n    \r\n            String label = &quot;traytype: &quot; + foodList.get(foodInd);\r\n    \r\n            Trace.endSection();\r\n    \r\n            final int numDetectionsOutput = 1;\r\n            final ArrayList&lt;Recognition&gt; recognitions = new ArrayList&lt;&gt;(numDetectionsOutput);\r\n    \r\n    \r\n    \r\n            Trace.endSection();\r\n            return label;\r\n        }\r\n    //    @Override\r\n    //    public List&lt;Recognition&gt; recognizeImage(Bitmap bitmap) {\r\n    //        return null;\r\n    //    }\r\n    \r\n    \r\n    \r\n        @Override\r\n        public void enableStatLogging(boolean debug) {\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public String getStatString() {\r\n            return null;\r\n        }\r\n    \r\n        @Override\r\n        public void close() {\r\n            if (tfLite != null) {\r\n                tfLite.close();\r\n                tfLite = null;\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public void setNumThreads(int num_threads) {\r\n            if (tfLite != null) {\r\n                tfLiteOptions.setNumThreads(num_threads);\r\n                recreateInterpreter();\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public void setUseNNAPI(boolean isChecked) {\r\n            if (tfLite != null) {\r\n                tfLiteOptions.setUseNNAPI(isChecked);\r\n                recreateInterpreter();\r\n            }\r\n        }\r\n    \r\n        private void recreateInterpreter() {\r\n            tfLite.close();\r\n            tfLite = new Interpreter(tfLiteModel, tfLiteOptions);\r\n        }\r\n    \r\n        @Override\r\n        public float getObjThresh() {\r\n            return 0;\r\n        }\r\n    \r\n    }\r\n\r\n\r\nI followed here for classification in android:  https://www.youtube.com/watch?v=ZepT3N6aNFM&amp;t=881s\r\n\r\nupdate:\r\nThe problem may be  the model.\r\n\r\n  [1]: https://i.stack.imgur.com/66BiE.jpg\r\n","title":"Classification After Cropping","body":"<p>I did object detection. I cropped the detected object. Now i need to classify this cropped image. I followed this tutorial for classification. <a href=\"https://www.kaggle.com/code/kmkarakaya/transfer-learning-for-image-classification\" rel=\"nofollow noreferrer\">https://www.kaggle.com/code/kmkarakaya/transfer-learning-for-image-classification</a>.</p>\n<p>my report results: I have two classes: EveningTray and BreakfastTray</p>\n<p><a href=\"https://i.stack.imgur.com/66BiE.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/66BiE.jpg\" alt=\"result\" /></a></p>\n<p>I converted this model to .tflite. on android the result is always 100% eveningTray. I am missing this part.</p>\n<pre><code>public class TFLiteObjectDetectionAPIModel implements ClassifierTwo {\n    private static final String TAG = &quot;TFLiteObjectDetectionAPIModelWithInterpreter&quot;;\n\n    private static final int NUM_DETECTIONS = 10;\n    private static final float IMAGE_MEAN = 127.5f;\n    private static final float IMAGE_STD = 127.5f;\n    private static final int NUM_THREADS = 4;\n    private boolean isModelQuantized;\n\n    private int inputSize;\n\n    private final List&lt;String&gt; labels = new ArrayList&lt;&gt;();\n    private int[] intValues;\n\n    private float[][][] outputLocations;\n    private float[][] outputClasses;\n\n    private float[][] outputScores;\n    private float[] numDetections;\n\n    private ByteBuffer imgData;\n\n    private MappedByteBuffer tfLiteModel;\n    private Interpreter.Options tfLiteOptions;\n    private Interpreter tfLite;\n\n    private float[][] foodMap;\n    private static final int FOOD_SIZE = 2;\n    private static final float WHITE_THRESH = 255f;\n\n    private TFLiteObjectDetectionAPIModel() {}\n    /** Memory-map the model file in Assets. */\n    private static MappedByteBuffer loadModelFile(AssetManager assets, String modelFilename)\n            throws IOException {\n        AssetFileDescriptor fileDescriptor = assets.openFd(modelFilename);\n        FileInputStream inputStream = new FileInputStream(fileDescriptor.getFileDescriptor());\n        FileChannel fileChannel = inputStream.getChannel();\n        long startOffset = fileDescriptor.getStartOffset();\n        long declaredLength = fileDescriptor.getDeclaredLength();\n        return fileChannel.map(FileChannel.MapMode.READ_ONLY, startOffset, declaredLength);\n    }\n    public static ClassifierTwo create(\n            final Context context,\n            final String modelFilename,\n            final String labelFilename,\n            final int inputSize,\n            final boolean isQuantized)\n            throws IOException {\n        final TFLiteObjectDetectionAPIModel d = new TFLiteObjectDetectionAPIModel();\n\n        AssetManager am = context.getAssets();\n        InputStream is = am.open(labelFilename);\n\n        MappedByteBuffer modelFile = loadModelFile(context.getAssets(), modelFilename);\n        MetadataExtractor metadata = new MetadataExtractor(modelFile);\n        try (BufferedReader br =\n                     new BufferedReader(\n                             new InputStreamReader(is))) {\n            String line;\n            while ((line = br.readLine()) != null) {\n                //Log.w(TAG, line);\n                d.labels.add(line);\n            }\n        }\n\n        d.inputSize = inputSize;\n\n        try {\n            Interpreter.Options options = new Interpreter.Options();\n            options.setNumThreads(NUM_THREADS);\n            options.setUseXNNPACK(true);\n            d.tfLite = new Interpreter(modelFile, options);\n            d.tfLiteModel = modelFile;\n            d.tfLiteOptions = options;\n        } catch (Exception e) {\n            throw new RuntimeException(e);\n        }\n\n        d.isModelQuantized = isQuantized;\n        // Pre-allocate buffers.\n        int numBytesPerChannel;\n        if (isQuantized) {\n            numBytesPerChannel = 1; // Quantized\n        } else {\n            numBytesPerChannel = 4; // Floating point\n        }\n        d.imgData = ByteBuffer.allocateDirect(1 * d.inputSize * d.inputSize * 3 * numBytesPerChannel);\n        d.imgData.order(ByteOrder.nativeOrder());\n        d.intValues = new int[d.inputSize * d.inputSize];\n\n        d.outputLocations = new float[1][NUM_DETECTIONS][2];\n        d.outputClasses = new float[1][NUM_DETECTIONS];\n        d.outputScores = new float[1][NUM_DETECTIONS];\n        d.numDetections = new float[1];\n        return d;\n    }\n\n    @Override\n    public String recognizeImage1(final Bitmap bitmap) {\n        // Log this method so that it can be analyzed with systrace.\n        Trace.beginSection(&quot;recognizeImage1&quot;);\n\n        Trace.beginSection(&quot;preprocessBitmap&quot;);\n        // Preprocess the image data from 0-255 int to normalized float based\n        // on the provided parameters.\n        bitmap.getPixels(intValues, 0, bitmap.getWidth(), 0, 0, bitmap.getWidth(), bitmap.getHeight());\n\n        imgData.rewind();\n        for (int i = 0; i &lt; inputSize; ++i) {\n            for (int j = 0; j &lt; inputSize; ++j) {\n                int pixelValue = intValues[i * inputSize + j];\n\n\n                if (isModelQuantized) {\n                    // Quantized model\n                    imgData.put((byte) ((pixelValue &gt;&gt; 16) &amp; 0xFF));\n                    imgData.put((byte) ((pixelValue &gt;&gt; 8) &amp; 0xFF));\n                    imgData.put((byte) (pixelValue &amp; 0xFF));\n                } else {\n                    imgData.putFloat((pixelValue &amp; 0xFF) / WHITE_THRESH);\n                    imgData.putFloat(((pixelValue &gt;&gt; 8) &amp; 0xFF) / WHITE_THRESH);\n                    imgData.putFloat(((pixelValue &gt;&gt; 16) &amp; 0xFF) / WHITE_THRESH);\n                }\n            }\n        }\n\n\n        Trace.endSection();\n        // Copy the input data into TensorFlow.\n        Trace.beginSection(&quot;feed&quot;);\n\n\n        Object[] inputArray = {imgData};\n\n        Map&lt;Integer, Object&gt; outputMap = new HashMap&lt;&gt;();\n\n        foodMap = new float[1][FOOD_SIZE];\n\n\n\n        outputMap.put(0, foodMap);\n        Trace.endSection();\n\n        // Run the inference call.\n        Trace.beginSection(&quot;run&quot;);\n\n\n        tfLite.runForMultipleInputsOutputs(inputArray, outputMap);\n\n\n        Log.w(&quot;traytype&quot;, &quot;!!!traytype: &quot; + foodMap[0][0] + &quot;|&quot; + foodMap[0][1] );\n\n        Integer foodInd = 0;\n \n        Float max = -1f;\n        for (int i = 0; i &lt; foodMap[0].length; i++) {\n            float currValue = foodMap[0][i];\n\n            if (currValue &gt; max) {\n                max = currValue;\n                foodInd = i;\n            }\n\n        }\n\n\n\n\n\n\n        List&lt;String&gt; foodList = Arrays.asList(&quot;eveningTray&quot;, &quot;breakfastTray&quot;);\n\n\n        String label = &quot;traytype: &quot; + foodList.get(foodInd);\n\n        Trace.endSection();\n\n        final int numDetectionsOutput = 1;\n        final ArrayList&lt;Recognition&gt; recognitions = new ArrayList&lt;&gt;(numDetectionsOutput);\n\n\n\n        Trace.endSection();\n        return label;\n    }\n//    @Override\n//    public List&lt;Recognition&gt; recognizeImage(Bitmap bitmap) {\n//        return null;\n//    }\n\n\n\n    @Override\n    public void enableStatLogging(boolean debug) {\n\n    }\n\n    @Override\n    public String getStatString() {\n        return null;\n    }\n\n    @Override\n    public void close() {\n        if (tfLite != null) {\n            tfLite.close();\n            tfLite = null;\n        }\n    }\n\n    @Override\n    public void setNumThreads(int num_threads) {\n        if (tfLite != null) {\n            tfLiteOptions.setNumThreads(num_threads);\n            recreateInterpreter();\n        }\n    }\n\n    @Override\n    public void setUseNNAPI(boolean isChecked) {\n        if (tfLite != null) {\n            tfLiteOptions.setUseNNAPI(isChecked);\n            recreateInterpreter();\n        }\n    }\n\n    private void recreateInterpreter() {\n        tfLite.close();\n        tfLite = new Interpreter(tfLiteModel, tfLiteOptions);\n    }\n\n    @Override\n    public float getObjThresh() {\n        return 0;\n    }\n\n}\n</code></pre>\n<p>I followed here for classification in android:  <a href=\"https://www.youtube.com/watch?v=ZepT3N6aNFM&amp;t=881s\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=ZepT3N6aNFM&amp;t=881s</a></p>\n<p>update:\nThe problem may be  the model.</p>\n"},{"tags":["java","infinite-loop","stack-overflow"],"comments":[{"owner":{"account_id":1441111,"reputation":815,"user_id":1361248,"accept_rate":56,"display_name":"Michael"},"score":2,"creation_date":1417384830,"post_id":27218736,"comment_id":42916751,"body_markdown":"https://en.wikipedia.org/wiki/Buffer_overflow","body":"<a href=\"https://en.wikipedia.org/wiki/Buffer_overflow\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Buffer_overflow</a>"}],"answers":[{"tags":[],"owner":{"account_id":136532,"reputation":886,"user_id":340090,"display_name":"Marko ivanovi"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1417384878,"creation_date":1417384878,"answer_id":27218761,"question_id":27218736,"body_markdown":"If, instead of infinite loop, you have infinite (or very deep) recursion (function invoking itself), then you will get stack overflow. Whenever a function is invoked, some part of stack memory is consumed. Once all the stack is exhausted, you get - stack overflow error.","title":"Stack Overflow error vs. Infinite loop","body":"<p>If, instead of infinite loop, you have infinite (or very deep) recursion (function invoking itself), then you will get stack overflow. Whenever a function is invoked, some part of stack memory is consumed. Once all the stack is exhausted, you get - stack overflow error.</p>\n"},{"tags":[],"owner":{"account_id":2972927,"reputation":1413,"user_id":2524630,"display_name":"David.Jones"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1417384896,"creation_date":1417384896,"answer_id":27218767,"question_id":27218736,"body_markdown":"These are not the same thing. Infinite loop error is dealing with iterative loops (no recursion), where as most stack overflow errors are dealing with recursion. \r\n\r\nYou should google &quot;What is a stack overflow error&quot;:\r\n\r\n&gt; The most common cause of StackOverFlowError is excessively deep or infinite recursion. In Java: There are two areas in memory the heap and stack. The stack memory is used to store local variables and function call, while heap memory is used to store objects in Java.\r\n","title":"Stack Overflow error vs. Infinite loop","body":"<p>These are not the same thing. Infinite loop error is dealing with iterative loops (no recursion), where as most stack overflow errors are dealing with recursion. </p>\n\n<p>You should google \"What is a stack overflow error\":</p>\n\n<blockquote>\n  <p>The most common cause of StackOverFlowError is excessively deep or infinite recursion. In Java: There are two areas in memory the heap and stack. The stack memory is used to store local variables and function call, while heap memory is used to store objects in Java.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":10041612,"reputation":808,"user_id":7424232,"display_name":"Safwat Fathi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691151489,"creation_date":1691151489,"answer_id":76835816,"question_id":27218736,"body_markdown":"Stack overflow error can also be caused by never ending function call loop.\r\n\r\nA simple example in TypeScript:\r\n\r\n    function foo(a: number): number {\r\n        const localFooValue = 12;\r\n        return bar(localFooValue + a);\r\n    }\r\n    \r\n    function bar(b: number): number {\r\n        const localBarValue = 4;\r\n        return foo(localBarValue * b);\r\n    }\r\n\r\nThe preceding code snippet creates stack overflow error, With each `foo` function calling `bar` function and vice-versa this causes infinite function call loop. ","title":"Stack Overflow error vs. Infinite loop","body":"<p>Stack overflow error can also be caused by never ending function call loop.</p>\n<p>A simple example in TypeScript:</p>\n<pre><code>function foo(a: number): number {\n    const localFooValue = 12;\n    return bar(localFooValue + a);\n}\n\nfunction bar(b: number): number {\n    const localBarValue = 4;\n    return foo(localBarValue * b);\n}\n</code></pre>\n<p>The preceding code snippet creates stack overflow error, With each <code>foo</code> function calling <code>bar</code> function and vice-versa this causes infinite function call loop.</p>\n"}],"owner":{"account_id":5367491,"reputation":2199,"user_id":4276951,"accept_rate":71,"display_name":"A P"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10321,"favorite_count":0,"down_vote_count":3,"up_vote_count":8,"accepted_answer_id":27218761,"answer_count":3,"score":5,"last_activity_date":1691151489,"creation_date":1417384725,"question_id":27218736,"body_markdown":"I know what an Infinite Loop error is. Is a stack overflow error the same thing. If not, what is the difference?\r\n\r\nCan you give example code as well?","title":"Stack Overflow error vs. Infinite loop","body":"<p>I know what an Infinite Loop error is. Is a stack overflow error the same thing. If not, what is the difference?</p>\n\n<p>Can you give example code as well?</p>\n"},{"tags":["java","ant","jaxb","xjc"],"owner":{"account_id":4264622,"reputation":39,"user_id":3488017,"display_name":"Arun"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691151234,"creation_date":1691151234,"question_id":76835774,"body_markdown":"I want to generate a hashmap to hold the elements under an element. So that I can fetch or update these elements in a single call. So I tried generating a binding file for this. But it never generates the classes which I am looking for. I am expecting classes &quot;MappingMap&quot; and &quot;MappingMapAdapter&quot; to be generated under package &quot;pkg.beans&quot;, but these two are not getting generated. Remaining jaxb classes are created properly. I am using ant script to run the xjc.\r\n\r\nHere are the details:\r\n\r\n**configuration.xsd**\r\n\r\n```\r\n&lt;xs:element name=&quot;mapping_data&quot;&gt;\r\n    &lt;xs:complexType&gt;\r\n\t    &lt;xs:sequence&gt;\r\n\t\t    &lt;xs:element minOccurs=&quot;0&quot; name=&quot;mapping&quot; type=&quot;test:MappingModeller&quot;/&gt;\r\n\t\t&lt;/xs:sequence&gt;\r\n\t&lt;/xs:complexType&gt;\r\n&lt;/xs:element&gt;\r\n&lt;xs:complexType name=&quot;MappingModeller&quot;&gt;\r\n    &lt;xs:sequence&gt;\r\n\t    &lt;xs:element name=&quot;entry&quot; minOccurs=&quot;0&quot; maxOccurs=&quot;unbounded&quot;&gt;\r\n\t\t    &lt;xs:complexType&gt;\r\n\t\t        &lt;xs:sequence&gt;\r\n\t\t\t        &lt;xs:element name=&quot;key&quot; type=&quot;xs:string&quot;/&gt;\r\n     \t\t\t    &lt;xs:element name=&quot;value&quot; type=&quot;xs:string&quot;/&gt;\r\n\t\t        &lt;/xs:sequence&gt;\r\n\t\t    &lt;/xs:complexType&gt;\r\n\t    &lt;/xs:element&gt;\r\n    &lt;/xs:sequence&gt;\r\n&lt;/xs:complexType&gt;\r\n```\r\n\r\n**binding.xjb**\r\n\r\n```\r\n&lt;jaxb:bindings xmlns:jaxb=&quot;http://java.sun.com/xml/ns/jaxb&quot; xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot; version=&quot;2.1&quot;&gt;\r\n    &lt;jaxb:bindings schemaLocation=&quot;..\\..\\..\\..\\..\\xsd\\configuration.xsd&quot;&gt;\r\n        &lt;jaxb:bindings node=&quot;//xs:element[@name=&#39;mapping_data&#39;]//xs:element[@name=&#39;mapping&#39;]&quot;&gt;\r\n            &lt;jaxb:property&gt;\r\n                &lt;jaxb:baseType name=&quot;pkg.beans.MappingMap&amp;lt;String,String&amp;gt;&quot; /&gt;\r\n            &lt;/jaxb:property&gt;\r\n        &lt;/jaxb:bindings&gt;\r\n    &lt;/jaxb:bindings&gt;\r\n&lt;/jaxb:bindings&gt;\r\n```\r\n\r\nI am using ant script to generate the jaxb classes from the xsd. \r\n\r\n```\r\n&lt;taskdef name=&quot;xjc&quot; classname=&quot;com.sun.tools.xjc.XJCTask&quot;&gt;\r\n    &lt;classpath&gt;\r\n\t    &lt;fileset dir=&quot;${dir.jaxb.home}/mod/&quot; includes=&quot;*.jar&quot;/&gt;\r\n\t&lt;/classpath&gt;\r\n&lt;/taskdef&gt;\r\n\r\n&lt;target name=&quot;generate_jaxb_parser_for_schema&quot;&gt;\r\n    &lt;xjc destdir=&quot;${dir.generated.jaxb}&quot; package=&quot;pkg.beans&quot; removeOldOutput=&quot;yes&quot;&gt;\r\n\t    &lt;schema dir=&quot;${dir.xsd}&quot; includes=&quot;configuration.xsd&quot;/&gt;\r\n\t\t&lt;binding dir=&quot;${dir.jaxb.bindings}&quot; includes=&quot;binding.xjb&quot;/&gt;\r\n\t\t&lt;produces dir=&quot;${dir.generated.jaxb}/pkg/beans&quot; includes=&quot;*&quot;/&gt;\r\n\t\t&lt;arg value=&quot;-no-header&quot;/&gt;\r\n\t\t&lt;arg value=&quot;-encoding&quot;/&gt;\r\n\t\t&lt;arg value=&quot;UTF-8&quot;/&gt;\t\r\n\t&lt;/xjc&gt;\r\n&lt;/target&gt;\r\n```\r\n\r\nThis is the snippet of MappingData.java which has unresolved &quot;MappingMap&quot;:\r\n\r\n```\r\n    @XmlRootElement(name = &quot;mapping_data&quot;)\r\n    public class MappingData {\r\n\r\n        @XmlElement(type = MappingModeller.class)\r\n        protected MappingMap&lt;String, String&gt; mapping;\r\n```\r\n\r\nAm I doing something wrong? Please help.\r\n\r\n","title":"XJC does not generate jaxb binding basetType class","body":"<p>I want to generate a hashmap to hold the elements under an element. So that I can fetch or update these elements in a single call. So I tried generating a binding file for this. But it never generates the classes which I am looking for. I am expecting classes &quot;MappingMap&quot; and &quot;MappingMapAdapter&quot; to be generated under package &quot;pkg.beans&quot;, but these two are not getting generated. Remaining jaxb classes are created properly. I am using ant script to run the xjc.</p>\n<p>Here are the details:</p>\n<p><strong>configuration.xsd</strong></p>\n<pre><code>&lt;xs:element name=&quot;mapping_data&quot;&gt;\n    &lt;xs:complexType&gt;\n        &lt;xs:sequence&gt;\n            &lt;xs:element minOccurs=&quot;0&quot; name=&quot;mapping&quot; type=&quot;test:MappingModeller&quot;/&gt;\n        &lt;/xs:sequence&gt;\n    &lt;/xs:complexType&gt;\n&lt;/xs:element&gt;\n&lt;xs:complexType name=&quot;MappingModeller&quot;&gt;\n    &lt;xs:sequence&gt;\n        &lt;xs:element name=&quot;entry&quot; minOccurs=&quot;0&quot; maxOccurs=&quot;unbounded&quot;&gt;\n            &lt;xs:complexType&gt;\n                &lt;xs:sequence&gt;\n                    &lt;xs:element name=&quot;key&quot; type=&quot;xs:string&quot;/&gt;\n                    &lt;xs:element name=&quot;value&quot; type=&quot;xs:string&quot;/&gt;\n                &lt;/xs:sequence&gt;\n            &lt;/xs:complexType&gt;\n        &lt;/xs:element&gt;\n    &lt;/xs:sequence&gt;\n&lt;/xs:complexType&gt;\n</code></pre>\n<p><strong>binding.xjb</strong></p>\n<pre><code>&lt;jaxb:bindings xmlns:jaxb=&quot;http://java.sun.com/xml/ns/jaxb&quot; xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot; version=&quot;2.1&quot;&gt;\n    &lt;jaxb:bindings schemaLocation=&quot;..\\..\\..\\..\\..\\xsd\\configuration.xsd&quot;&gt;\n        &lt;jaxb:bindings node=&quot;//xs:element[@name='mapping_data']//xs:element[@name='mapping']&quot;&gt;\n            &lt;jaxb:property&gt;\n                &lt;jaxb:baseType name=&quot;pkg.beans.MappingMap&amp;lt;String,String&amp;gt;&quot; /&gt;\n            &lt;/jaxb:property&gt;\n        &lt;/jaxb:bindings&gt;\n    &lt;/jaxb:bindings&gt;\n&lt;/jaxb:bindings&gt;\n</code></pre>\n<p>I am using ant script to generate the jaxb classes from the xsd.</p>\n<pre><code>&lt;taskdef name=&quot;xjc&quot; classname=&quot;com.sun.tools.xjc.XJCTask&quot;&gt;\n    &lt;classpath&gt;\n        &lt;fileset dir=&quot;${dir.jaxb.home}/mod/&quot; includes=&quot;*.jar&quot;/&gt;\n    &lt;/classpath&gt;\n&lt;/taskdef&gt;\n\n&lt;target name=&quot;generate_jaxb_parser_for_schema&quot;&gt;\n    &lt;xjc destdir=&quot;${dir.generated.jaxb}&quot; package=&quot;pkg.beans&quot; removeOldOutput=&quot;yes&quot;&gt;\n        &lt;schema dir=&quot;${dir.xsd}&quot; includes=&quot;configuration.xsd&quot;/&gt;\n        &lt;binding dir=&quot;${dir.jaxb.bindings}&quot; includes=&quot;binding.xjb&quot;/&gt;\n        &lt;produces dir=&quot;${dir.generated.jaxb}/pkg/beans&quot; includes=&quot;*&quot;/&gt;\n        &lt;arg value=&quot;-no-header&quot;/&gt;\n        &lt;arg value=&quot;-encoding&quot;/&gt;\n        &lt;arg value=&quot;UTF-8&quot;/&gt;    \n    &lt;/xjc&gt;\n&lt;/target&gt;\n</code></pre>\n<p>This is the snippet of MappingData.java which has unresolved &quot;MappingMap&quot;:</p>\n<pre><code>    @XmlRootElement(name = &quot;mapping_data&quot;)\n    public class MappingData {\n\n        @XmlElement(type = MappingModeller.class)\n        protected MappingMap&lt;String, String&gt; mapping;\n</code></pre>\n<p>Am I doing something wrong? Please help.</p>\n"},{"tags":["java","string","escaping"],"comments":[{"owner":{"account_id":195331,"reputation":275398,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1377623085,"post_id":18471500,"comment_id":27149414,"body_markdown":"You mean in an editor?","body":"You mean in an editor?"},{"owner":{"account_id":66671,"reputation":3328,"user_id":2591612,"accept_rate":96,"display_name":"Engineer2021"},"score":0,"creation_date":1377623112,"post_id":18471500,"comment_id":27149436,"body_markdown":"Just type the \\ character?","body":"Just type the \\ character?"},{"owner":{"account_id":1166666,"reputation":723,"user_id":1144756,"display_name":"Thinesh Ganeshalingam"},"score":0,"creation_date":1377623207,"post_id":18471500,"comment_id":27149479,"body_markdown":"Use StringEscapeUtils.html#escapeJava from apache commons","body":"Use StringEscapeUtils.html#escapeJava from apache commons"},{"owner":{"account_id":382670,"reputation":1433,"user_id":738046,"accept_rate":100,"display_name":"Jigglypuff"},"score":0,"creation_date":1377623207,"post_id":18471500,"comment_id":27149480,"body_markdown":"I mean using the `example` variable.","body":"I mean using the <code>example</code> variable."},{"owner":{"account_id":2028494,"reputation":943,"user_id":1812854,"accept_rate":89,"display_name":"Wayne Weibel"},"score":0,"creation_date":1377623232,"post_id":18471500,"comment_id":27149499,"body_markdown":"possible duplicate of [Escape double quotes in Java](http://stackoverflow.com/questions/6277944/escape-double-quotes-in-java)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/6277944/escape-double-quotes-in-java\">Escape double quotes in Java</a>"},{"owner":{"account_id":195331,"reputation":275398,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":3,"creation_date":1377623245,"post_id":18471500,"comment_id":27149505,"body_markdown":"`example.replace(&quot;&#39;&quot;, &quot;\\\\&#39;&quot;);`","body":"<code>example.replace(&quot;&#39;&quot;, &quot;\\\\&#39;&quot;);</code>"}],"answers":[{"tags":[],"owner":{"account_id":1559114,"reputation":1200,"user_id":1449443,"accept_rate":44,"display_name":"ironicaldiction"},"down_vote_count":0,"up_vote_count":21,"is_accepted":true,"score":21,"last_activity_date":1377623734,"creation_date":1377623734,"answer_id":18471715,"question_id":18471500,"body_markdown":"I&#39;m not claiming elegance here, but i _think_ it does what you want it to do (please correct me if I&#39;m mistaken):\r\n\r\n    public static void main(String[] args)\r\n    {\r\n        String example = &quot;Hello, I&#39;m\\&quot; here&quot;;\r\n        example = example.replaceAll(&quot;&#39;&quot;, &quot;\\\\\\\\&#39;&quot;);\r\n        example = example.replaceAll(&quot;\\&quot;&quot;, &quot;\\\\\\\\\\&quot;&quot;);\r\n        System.out.println(example);\r\n    }\r\n\r\noutputs\r\n\r\n    Hello, I\\&#39;m\\&quot; here\r\n","title":"How can I add escape characters to a Java String?","body":"<p>I'm not claiming elegance here, but i <em>think</em> it does what you want it to do (please correct me if I'm mistaken):</p>\n\n<pre><code>public static void main(String[] args)\n{\n    String example = \"Hello, I'm\\\" here\";\n    example = example.replaceAll(\"'\", \"\\\\\\\\'\");\n    example = example.replaceAll(\"\\\"\", \"\\\\\\\\\\\"\");\n    System.out.println(example);\n}\n</code></pre>\n\n<p>outputs</p>\n\n<pre><code>Hello, I\\'m\\\" here\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2233894,"reputation":5674,"user_id":1970832,"accept_rate":83,"display_name":"Rahul Sharma"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1594253397,"creation_date":1594253397,"answer_id":62805459,"question_id":18471500,"body_markdown":"Try [Apache Commons Text][1] library- \r\n\r\n        System.out.println(StringEscapeUtils.escapeCsv(&quot;a\\&quot;,&quot;));\r\n        System.out.println(StringEscapeUtils.escapeJson(&quot;a\\&quot;,&quot;));\r\n        System.out.println(StringEscapeUtils.escapeEcmaScript(&quot;Hello, I&#39;m \\&quot;here&quot;));\r\n\r\nResult:\r\n\r\n    &quot;a&quot;&quot;,&quot;\r\n    a\\&quot;,\r\n    Hello, I\\&#39;m \\&quot;here\r\n\r\n  [1]: https://commons.apache.org/proper/commons-text/","title":"How can I add escape characters to a Java String?","body":"<p>Try <a href=\"https://commons.apache.org/proper/commons-text/\" rel=\"nofollow noreferrer\">Apache Commons Text</a> library-</p>\n<pre><code>    System.out.println(StringEscapeUtils.escapeCsv(&quot;a\\&quot;,&quot;));\n    System.out.println(StringEscapeUtils.escapeJson(&quot;a\\&quot;,&quot;));\n    System.out.println(StringEscapeUtils.escapeEcmaScript(&quot;Hello, I'm \\&quot;here&quot;));\n</code></pre>\n<p>Result:</p>\n<pre><code>&quot;a&quot;&quot;,&quot;\na\\&quot;,\nHello, I\\'m \\&quot;here\n</code></pre>\n"},{"tags":[],"owner":{"account_id":378670,"reputation":3959,"user_id":731548,"accept_rate":33,"display_name":"cquezel"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1596644143,"creation_date":1596643037,"answer_id":63269019,"question_id":18471500,"body_markdown":"For others who get here for a more general escaping solution, building on Apache Commons Text library you can build your own escaper. Have a look at [StringEscapeUtils][1] for examples:\r\n\r\n    import org.apache.commons.text.translate.AggregateTranslator;\r\n    import org.apache.commons.text.translate.CharSequenceTranslator;\r\n    import org.apache.commons.text.translate.LookupTranslator;\r\n    \r\n    public class CustomEscaper {\r\n    \t\r\n        private static final CharSequenceTranslator ESCAPE_CUSTOM;\r\n        \r\n        static {\r\n            final Map&lt;CharSequence, CharSequence&gt; escapeCustomMap = new HashMap&lt;&gt;();\r\n                    \t\r\n        \tescapeCustomMap.put(&quot;+&quot; ,&quot;\\\\+&quot; ); \r\n        \tescapeCustomMap.put(&quot;-&quot; ,&quot;\\\\-&quot; ); \r\n            ...\r\n            escapeCustomMap.put(&quot;\\\\&quot;, &quot;\\\\\\\\&quot;);\r\n            ESCAPE_CUSTOM = new AggregateTranslator(new LookupTranslator(escapeCustomMap));\r\n        }\r\n\r\n        public static final String customEscape(final String input) {\r\n            return ESCAPE_CUSTOM.translate(input);\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-text/javadocs/api-release/org/apache/commons/text/StringEscapeUtils.html","title":"How can I add escape characters to a Java String?","body":"<p>For others who get here for a more general escaping solution, building on Apache Commons Text library you can build your own escaper. Have a look at <a href=\"https://commons.apache.org/proper/commons-text/javadocs/api-release/org/apache/commons/text/StringEscapeUtils.html\" rel=\"nofollow noreferrer\">StringEscapeUtils</a> for examples:</p>\n<pre><code>import org.apache.commons.text.translate.AggregateTranslator;\nimport org.apache.commons.text.translate.CharSequenceTranslator;\nimport org.apache.commons.text.translate.LookupTranslator;\n\npublic class CustomEscaper {\n    \n    private static final CharSequenceTranslator ESCAPE_CUSTOM;\n    \n    static {\n        final Map&lt;CharSequence, CharSequence&gt; escapeCustomMap = new HashMap&lt;&gt;();\n                    \n        escapeCustomMap.put(&quot;+&quot; ,&quot;\\\\+&quot; ); \n        escapeCustomMap.put(&quot;-&quot; ,&quot;\\\\-&quot; ); \n        ...\n        escapeCustomMap.put(&quot;\\\\&quot;, &quot;\\\\\\\\&quot;);\n        ESCAPE_CUSTOM = new AggregateTranslator(new LookupTranslator(escapeCustomMap));\n    }\n\n    public static final String customEscape(final String input) {\n        return ESCAPE_CUSTOM.translate(input);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14112653,"reputation":33,"user_id":10195099,"display_name":"Shaheaz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691150176,"creation_date":1691150176,"answer_id":76835670,"question_id":18471500,"body_markdown":"If it is only one quote then easy but if it is double quote then use like this\r\n\r\n`eachClientName = eachClientName.replaceAll(&quot;&#39;&quot;,&quot;\\\\\\&#39;&quot;);`\r\n\r\n`eachClientName =eachClientName.replaceAll(&quot;\\&quot;&quot;,&quot;\\\\\\\\\\&quot;&quot;);`","title":"How can I add escape characters to a Java String?","body":"<p>If it is only one quote then easy but if it is double quote then use like this</p>\n<p><code>eachClientName = eachClientName.replaceAll(&quot;'&quot;,&quot;\\\\\\'&quot;);</code></p>\n<p><code>eachClientName =eachClientName.replaceAll(&quot;\\&quot;&quot;,&quot;\\\\\\\\\\&quot;&quot;);</code></p>\n"}],"owner":{"account_id":382670,"reputation":1433,"user_id":738046,"accept_rate":100,"display_name":"Jigglypuff"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67333,"favorite_count":0,"down_vote_count":2,"up_vote_count":16,"accepted_answer_id":18471715,"answer_count":4,"score":14,"last_activity_date":1691150176,"creation_date":1377622997,"question_id":18471500,"body_markdown":"If I had a string variable:\r\n\r\n    String example = &quot;Hello, I&#39;m here&quot;;\r\n\r\nand I wanted to add an escape character in front of every `&#39;` and `&quot;` **within the variable** (i.e. _not_ actually escape the characters), how would I do that?","title":"How can I add escape characters to a Java String?","body":"<p>If I had a string variable:</p>\n\n<pre><code>String example = \"Hello, I'm here\";\n</code></pre>\n\n<p>and I wanted to add an escape character in front of every <code>'</code> and <code>\"</code> <strong>within the variable</strong> (i.e. <em>not</em> actually escape the characters), how would I do that?</p>\n"},{"tags":["java","refactoring","dto"],"comments":[{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":0,"creation_date":1691090772,"post_id":76831035,"comment_id":135448477,"body_markdown":"This question would be better suited to &quot;Code Review&quot; on the Stack Exchange","body":"This question would be better suited to &quot;Code Review&quot; on the Stack Exchange"},{"owner":{"account_id":14574512,"reputation":15,"user_id":10526770,"display_name":"Kaue"},"score":0,"creation_date":1691090840,"post_id":76831035,"comment_id":135448489,"body_markdown":"@ControlAltDel Thanks, I&#39;ll post it there once I&#39;m out of the timeout!","body":"@ControlAltDel Thanks, I&#39;ll post it there once I&#39;m out of the timeout!"}],"answers":[{"tags":[],"owner":{"account_id":13993199,"reputation":129,"user_id":10362945,"display_name":"Sagar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1691149950,"creation_date":1691149950,"answer_id":76835631,"question_id":76831035,"body_markdown":"We could go by AOP solutions or by extracting validations to a method as below\r\n```\r\npublic void exampleMethod(final UserDto user, String sthElse) {\r\n        validateUser(user);\r\n\r\n        if (sthElse == null) {\r\n            throw new CustomHandledException(&quot;example&quot;);\r\n        }\r\n\r\n        GetUserResponseDto getUserResponse = client.getUserById(user.getId(), country);\r\n\r\n        if (getUserResponse == null) {\r\n            CreateUserRequestDto createUserBody = UserMapper.toCreateBody(user);\r\n            client.createUser(createUserBody);\r\n            return;\r\n        }\r\n\r\n        if (user.getLocale().equals(getUserResponse.getUser().getProfile().getLocale())){\r\n            return;\r\n        }\r\n        // validations needs to be done before updating as well by convention\r\n        // since validations were done while inserting\r\n        client.updateUser(user);\r\n    }\r\n\r\n    private boolean validateUser(UserDto userDto) {\r\n\r\n        //these declarations could be moved at class fields or constant\r\n        Predicate&lt;UserDto&gt; customDtoCheck = user -&gt;user.getGivenName().startsWith(&quot;text&quot;);\r\n        Predicate&lt;String&gt; emailValidation = RequestValidator::validateEmail;\r\n        Predicate notNull = RequestValidator::notNull;\r\n\r\n        boolean validUser = notNull.test(userDto) &amp;&amp;\r\n                            notNull.test(userDto.getId()) &amp;&amp;\r\n                            notNull.test(userDto.getGivenName()) &amp;&amp;\r\n                            notNull.test(userDto.getEmail()) &amp;&amp;\r\n                            notNull.test(userDto.getLocale()) &amp;&amp;\r\n                            emailValidation.test(userDto.getEmail()) &amp;&amp;\r\n                            customDtoCheck.test(userDto);\r\n        if (!validUser)\r\n            throw new CustomHandledException(&quot;example&quot;);\r\n\r\n        return validUser;\r\n    }\r\n```","title":"Validating user inputs on service methods in a cleaner way","body":"<p>We could go by AOP solutions or by extracting validations to a method as below</p>\n<pre><code>public void exampleMethod(final UserDto user, String sthElse) {\n        validateUser(user);\n\n        if (sthElse == null) {\n            throw new CustomHandledException(&quot;example&quot;);\n        }\n\n        GetUserResponseDto getUserResponse = client.getUserById(user.getId(), country);\n\n        if (getUserResponse == null) {\n            CreateUserRequestDto createUserBody = UserMapper.toCreateBody(user);\n            client.createUser(createUserBody);\n            return;\n        }\n\n        if (user.getLocale().equals(getUserResponse.getUser().getProfile().getLocale())){\n            return;\n        }\n        // validations needs to be done before updating as well by convention\n        // since validations were done while inserting\n        client.updateUser(user);\n    }\n\n    private boolean validateUser(UserDto userDto) {\n\n        //these declarations could be moved at class fields or constant\n        Predicate&lt;UserDto&gt; customDtoCheck = user -&gt;user.getGivenName().startsWith(&quot;text&quot;);\n        Predicate&lt;String&gt; emailValidation = RequestValidator::validateEmail;\n        Predicate notNull = RequestValidator::notNull;\n\n        boolean validUser = notNull.test(userDto) &amp;&amp;\n                            notNull.test(userDto.getId()) &amp;&amp;\n                            notNull.test(userDto.getGivenName()) &amp;&amp;\n                            notNull.test(userDto.getEmail()) &amp;&amp;\n                            notNull.test(userDto.getLocale()) &amp;&amp;\n                            emailValidation.test(userDto.getEmail()) &amp;&amp;\n                            customDtoCheck.test(userDto);\n        if (!validUser)\n            throw new CustomHandledException(&quot;example&quot;);\n\n        return validUser;\n    }\n</code></pre>\n"}],"owner":{"account_id":14574512,"reputation":15,"user_id":10526770,"display_name":"Kaue"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76835631,"answer_count":1,"score":0,"last_activity_date":1691149950,"creation_date":1691090263,"question_id":76831035,"body_markdown":"In a project, we use service methods, there, we have to validate certain required inputs for our business logic to work:\r\n\r\n  ```java\r\n  public void exampleMethod(final UserDto user, String sthElse) {\r\n    if (user.getId() == null) {\r\n      throw new CustomHandledException(&quot;example&quot;);\r\n    }\r\n    if (sthElse == null) {\r\n      throw new CustomHandledException(&quot;example&quot;);\r\n    }\r\n\r\n    GetUserResponseDto getUserResponse = client.getUserById(user.getId(), country);\r\n\r\n    if (getUserResponse == null) {\r\n      if (user.getGivenName() == null) {\r\n        throw new CustomHandledException(&quot;example&quot;);\r\n      }\r\n      if (user.getEmail() == null) {\r\n        throw new CustomHandledException(&quot;example&quot;);\r\n      }\r\n      CreateUserRequestDto createUserBody = UserMapper.toCreateBody(user);\r\n      client.createUser(createUserBody);\r\n      return;\r\n    }\r\n\r\n    if (user.getLocale().equals(getUserResponse.getUser().getProfile().getLocale())){\r\n        return;\r\n    }\r\n\r\n    client.updateUser(user);\r\n  }\r\n```\r\n\r\nEven though the code isn&#39;t necessarily wrong and is quite understandable (for me) I feel like there is something odd there, do you have any suggestions for a cleaner code?\r\n\r\nI tried to write clean code, however, it doesn&#39;t feel like it is clean.","title":"Validating user inputs on service methods in a cleaner way","body":"<p>In a project, we use service methods, there, we have to validate certain required inputs for our business logic to work:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void exampleMethod(final UserDto user, String sthElse) {\n  if (user.getId() == null) {\n    throw new CustomHandledException(&quot;example&quot;);\n  }\n  if (sthElse == null) {\n    throw new CustomHandledException(&quot;example&quot;);\n  }\n\n  GetUserResponseDto getUserResponse = client.getUserById(user.getId(), country);\n\n  if (getUserResponse == null) {\n    if (user.getGivenName() == null) {\n      throw new CustomHandledException(&quot;example&quot;);\n    }\n    if (user.getEmail() == null) {\n      throw new CustomHandledException(&quot;example&quot;);\n    }\n    CreateUserRequestDto createUserBody = UserMapper.toCreateBody(user);\n    client.createUser(createUserBody);\n    return;\n  }\n\n  if (user.getLocale().equals(getUserResponse.getUser().getProfile().getLocale())){\n      return;\n  }\n\n  client.updateUser(user);\n}\n</code></pre>\n<p>Even though the code isn't necessarily wrong and is quite understandable (for me) I feel like there is something odd there, do you have any suggestions for a cleaner code?</p>\n<p>I tried to write clean code, however, it doesn't feel like it is clean.</p>\n"},{"tags":["java","android","kotlin","contentobserver","fileobserver"],"comments":[{"owner":{"account_id":26579661,"reputation":1,"user_id":20204510,"display_name":"Deepesh kumar"},"score":0,"creation_date":1691148319,"post_id":75350871,"comment_id":135455935,"body_markdown":"@Blackapps please check this","body":"@Blackapps please check this"}],"owner":{"account_id":26579661,"reputation":1,"user_id":20204510,"display_name":"Deepesh kumar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691149446,"creation_date":1675584402,"question_id":75350871,"body_markdown":"My application is for android 10+ , where i can&#39;t use MANAGE_EXTERNAL_STORAGE in specific application,\r\n\r\nhere i have to observe(in background) that file is created or deleted in this folder(don&#39;t have path , have folder content URI) , I have already used Scoped storage to read file , now i want observe too , so on the basis i can call any function , \r\n\r\ntaken permission \r\n\r\n```\r\n val contentResolver = requireActivity().contentResolver\r\n                    contentResolver.takePersistableUriPermission(\r\n                        treeUri!!,\r\n                        Intent.FLAG_GRANT_READ_URI_PERMISSION\r\n                    )\r\n\r\n```\r\n\r\ntried to observe like this\r\n\r\n```\r\n contentObserver = object : ContentObserver(null){\r\n\r\n            override fun onChange(selfChange: Boolean, uri: Uri?) {\r\n                super.onChange(selfChange, uri)\r\n\r\n                binding.text.text = uri\r\n                Log.e(&quot;OBSERVER OBSERVER&quot;, &quot;CHANGES CHANGES&quot;)\r\n            }\r\n        }\r\n\r\n        requireActivity().contentResolver.registerContentObserver(\r\n            path!!,\r\n            true,\r\n            contentObserver\r\n        )\r\n\r\n```\r\n\r\nand this\r\n\r\n```\r\ncontentObserver = object : ContentObserver(null){\r\n\r\n            override fun onChange(selfChange: Boolean, uri: Uri?) {\r\n                super.onChange(selfChange, uri)\r\n\r\n                binding.text.text = uri\r\n                Log.e(&quot;OBSERVER OBSERVER&quot;, &quot;CHANGES CHANGES&quot;)\r\n            }\r\n        }\r\n\r\nrequireActivity().contentResolver.notifyChange(path,contentObserver)\r\n```\r\n\r\nsometimes, don&#39;t know when app launching it will works but when this folder contents changes it&#39;s doesn&#39;t works, i want it will observe every time when application goes in backgroung or active state,not in destroyed state\r\n\r\nPls help ","title":"how to observe file is created or deleted of whatsapp status folder after android 10?","body":"<p>My application is for android 10+ , where i can't use MANAGE_EXTERNAL_STORAGE in specific application,</p>\n<p>here i have to observe(in background) that file is created or deleted in this folder(don't have path , have folder content URI) , I have already used Scoped storage to read file , now i want observe too , so on the basis i can call any function ,</p>\n<p>taken permission</p>\n<pre><code> val contentResolver = requireActivity().contentResolver\n                    contentResolver.takePersistableUriPermission(\n                        treeUri!!,\n                        Intent.FLAG_GRANT_READ_URI_PERMISSION\n                    )\n\n</code></pre>\n<p>tried to observe like this</p>\n<pre><code> contentObserver = object : ContentObserver(null){\n\n            override fun onChange(selfChange: Boolean, uri: Uri?) {\n                super.onChange(selfChange, uri)\n\n                binding.text.text = uri\n                Log.e(&quot;OBSERVER OBSERVER&quot;, &quot;CHANGES CHANGES&quot;)\n            }\n        }\n\n        requireActivity().contentResolver.registerContentObserver(\n            path!!,\n            true,\n            contentObserver\n        )\n\n</code></pre>\n<p>and this</p>\n<pre><code>contentObserver = object : ContentObserver(null){\n\n            override fun onChange(selfChange: Boolean, uri: Uri?) {\n                super.onChange(selfChange, uri)\n\n                binding.text.text = uri\n                Log.e(&quot;OBSERVER OBSERVER&quot;, &quot;CHANGES CHANGES&quot;)\n            }\n        }\n\nrequireActivity().contentResolver.notifyChange(path,contentObserver)\n</code></pre>\n<p>sometimes, don't know when app launching it will works but when this folder contents changes it's doesn't works, i want it will observe every time when application goes in backgroung or active state,not in destroyed state</p>\n<p>Pls help</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":213468,"reputation":103489,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1691144501,"post_id":76834917,"comment_id":135455266,"body_markdown":"Why can&#39;t you update or replace the JDK distribution? That is _the_ solution for this.","body":"Why can&#39;t you update or replace the JDK distribution? That is <i>the</i> solution for this."},{"owner":{"account_id":25484927,"reputation":1,"user_id":19280637,"display_name":"ktckl"},"score":0,"creation_date":1691145517,"post_id":76834917,"comment_id":135455438,"body_markdown":"It is a production system, and we can&#39;t afford any resulting bugs. I don&#39;t think you can update the Java version on existing systems that lightly, can you?","body":"It is a production system, and we can&#39;t afford any resulting bugs. I don&#39;t think you can update the Java version on existing systems that lightly, can you?"},{"owner":{"account_id":213468,"reputation":103489,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1691145759,"post_id":76834917,"comment_id":135455490,"body_markdown":"That has to be the worst reason for sticking to an outdated Java version, especially one that is **years** out of date. You&#39;re now confronted with the consequences of that decision, and instead of reconsidering, you&#39;re doubling down. Applying a workaround -- if such workaround even exists -- would far more likely result in problems than upgrading to a higher version of the same major version of Java. Java is extensively tested for backwards compatibility.","body":"That has to be the worst reason for sticking to an outdated Java version, especially one that is <b>years</b> out of date. You&#39;re now confronted with the consequences of that decision, and instead of reconsidering, you&#39;re doubling down. Applying a workaround -- if such workaround even exists -- would far more likely result in problems than upgrading to a higher version of the same major version of Java. Java is extensively tested for backwards compatibility."}],"answers":[{"tags":[],"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691149385,"creation_date":1691149385,"answer_id":76835572,"question_id":76834917,"body_markdown":"There are no alternatives nor workarounds. The TLS implementation in Java comes with the JDK. You need to upgrade the JDK to one that supports TLS 1.3. For security reasons the latest release of the version you use is recommended.","title":"Workaround for lack of TLS v1.3 support in Apache Commons Net 3.4.0 and Java 8u201","body":"<p>There are no alternatives nor workarounds. The TLS implementation in Java comes with the JDK. You need to upgrade the JDK to one that supports TLS 1.3. For security reasons the latest release of the version you use is recommended.</p>\n"}],"owner":{"account_id":25484927,"reputation":1,"user_id":19280637,"display_name":"ktckl"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1691149385,"creation_date":1691143577,"question_id":76834917,"body_markdown":"I am using the Apache Commons Net 3.4.0 library to establish an FTPS connection, but I have encountered an issue with the lack of support for TLS v1.3 in the Java 8u201 release.\r\n\r\nI know that Oracle releases starting with version 8u261 have support for TLS v1.3, but I am unable to update or replace the JDK distribution.\r\n\r\nIs there a workaround or solution to this issue that would allow me to use TLS v1.3? Any help or suggestions would be greatly appreciated.\r\n","title":"Workaround for lack of TLS v1.3 support in Apache Commons Net 3.4.0 and Java 8u201","body":"<p>I am using the Apache Commons Net 3.4.0 library to establish an FTPS connection, but I have encountered an issue with the lack of support for TLS v1.3 in the Java 8u201 release.</p>\n<p>I know that Oracle releases starting with version 8u261 have support for TLS v1.3, but I am unable to update or replace the JDK distribution.</p>\n<p>Is there a workaround or solution to this issue that would allow me to use TLS v1.3? Any help or suggestions would be greatly appreciated.</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":1114067,"reputation":196781,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":4,"creation_date":1410972736,"post_id":25896081,"comment_id":40530401,"body_markdown":"Can you rather explain what issues you have with understanding the [documentation](http://books.sonatype.com/mvnref-book/reference/archetype-sect-using.html)? `When the generate goal is executed in interactive mode, it will prompt the user for all the previously listed parameters. When interactiveMode is false, the generate goal will use the values passed in from the command line.`","body":"Can you rather explain what issues you have with understanding the <a href=\"http://books.sonatype.com/mvnref-book/reference/archetype-sect-using.html\" rel=\"nofollow noreferrer\">documentation</a>? <code>When the generate goal is executed in interactive mode, it will prompt the user for all the previously listed parameters. When interactiveMode is false, the generate goal will use the values passed in from the command line.</code>"},{"owner":{"account_id":3836887,"reputation":2752,"user_id":3180973,"accept_rate":18,"display_name":"Maulik Patel"},"score":3,"creation_date":1410973439,"post_id":25896081,"comment_id":40530778,"body_markdown":"there is not issue, but i have understand meaning of interactive-mode and batch mode. can you tell me meaning of both?","body":"there is not issue, but i have understand meaning of interactive-mode and batch mode. can you tell me meaning of both?"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":2,"creation_date":1446709515,"post_id":25896081,"comment_id":54858811,"body_markdown":"Interactive means you need to type some answer in your keyboard and batch mode means no need to type anything maven is assuming defaults as answers.","body":"Interactive means you need to type some answer in your keyboard and batch mode means no need to type anything maven is assuming defaults as answers."}],"answers":[{"tags":[],"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"down_vote_count":0,"up_vote_count":86,"is_accepted":false,"score":86,"last_activity_date":1519239779,"creation_date":1411029583,"answer_id":25907959,"question_id":25896081,"body_markdown":"The batch-mode will automatically use default values instead of asking you via prompt for those values. The batch-mode can also be activated via `--batch-mode` or `-B` on command line.","title":"What is the difference between interactive and batch mode in Maven?","body":"<p>The batch-mode will automatically use default values instead of asking you via prompt for those values. The batch-mode can also be activated via <code>--batch-mode</code> or <code>-B</code> on command line.</p>\n"},{"tags":[],"owner":{"account_id":65080,"reputation":5716,"user_id":191761,"accept_rate":71,"display_name":"Adam Burley"},"down_vote_count":0,"up_vote_count":97,"is_accepted":false,"score":97,"last_activity_date":1691148436,"creation_date":1519307424,"answer_id":48929096,"question_id":25896081,"body_markdown":"Batch mode causes Maven to not display &quot;Progress: 125/150kB&quot; style lines when running. If you are running Maven on some server and then checking the logs afterwards, these progress lines take up 90% of the log and make it basically impossible to find the stuff that matters. Setting batch mode prevents this. &lt;s&gt;Apart from that, I don&#39;t know any other use for batch mode. As others have said, I have never seen Maven prompt for anything during a build, regardless of whether interactive or batch mode is set.&lt;/s&gt;\r\n\r\nEDIT: As pointed out by @jhericks in comments, Maven can prompt for things during a build in interactive mode, for example if you run `mvn versions:set` it will prompt you for the new version to set. Trying to run such commands in batch mode will cause the build to fail with an error message that suggests re-running the build in interactive mode (or supplying the needed values as command-line parameters).","title":"What is the difference between interactive and batch mode in Maven?","body":"<p>Batch mode causes Maven to not display &quot;Progress: 125/150kB&quot; style lines when running. If you are running Maven on some server and then checking the logs afterwards, these progress lines take up 90% of the log and make it basically impossible to find the stuff that matters. Setting batch mode prevents this. <s>Apart from that, I don't know any other use for batch mode. As others have said, I have never seen Maven prompt for anything during a build, regardless of whether interactive or batch mode is set.</s></p>\n<p>EDIT: As pointed out by @jhericks in comments, Maven can prompt for things during a build in interactive mode, for example if you run <code>mvn versions:set</code> it will prompt you for the new version to set. Trying to run such commands in batch mode will cause the build to fail with an error message that suggests re-running the build in interactive mode (or supplying the needed values as command-line parameters).</p>\n"},{"tags":[],"owner":{"account_id":1851020,"reputation":4117,"user_id":1677594,"display_name":"Guillaume Husta"},"down_vote_count":0,"up_vote_count":28,"is_accepted":false,"score":28,"last_activity_date":1549619132,"creation_date":1549619132,"answer_id":54589646,"question_id":25896081,"body_markdown":"A common use case for `--batch-mode` is when using Maven on a Continuous Integration server, like said in this doc : [Running Maven in Batch Mode](https://books.sonatype.com/mvnref-book/reference/running-sect-options.html#running-sect-batch-option).\r\n\r\nSo it will for example suppress upload messages to avoid polluting the console log.\r\n\r\nFor example, when you create a new file on GitLab through the template `.gitlab-ci.yml` for Maven, you will have the following in the variables :\r\n\r\n    variables:\r\n      # This will suppress any download for dependencies and plugins or upload messages which would clutter the console log.\r\n      # `showDateTime` will show the passed time in milliseconds. You need to specify `--batch-mode` to make this work.\r\n      MAVEN_OPTS: &quot;-Dhttps.protocols=TLSv1.2 -Dmaven.repo.local=$CI_PROJECT_DIR/.m2/repository -Dorg.slf4j.simpleLogger.log.org.apache.maven.cli.transfer.Slf4jMavenTransferListener=WARN -Dorg.slf4j.simpleLogger.showDateTime=true -Djava.awt.headless=true&quot;\r\n      # As of Maven 3.3.0 instead of this you may define these options in `.mvn/maven.config` so the same config is used\r\n      # when running from the command line.\r\n      # `installAtEnd` and `deployAtEnd` are only effective with recent version of the corresponding plugins.\r\n      MAVEN_CLI_OPTS: &quot;--batch-mode --errors --fail-at-end --show-version -DinstallAtEnd=true -DdeployAtEnd=true&quot;\r\n\r\nYou can see that `--batch-mode` is enabled by default.\r\n","title":"What is the difference between interactive and batch mode in Maven?","body":"<p>A common use case for <code>--batch-mode</code> is when using Maven on a Continuous Integration server, like said in this doc : <a href=\"https://books.sonatype.com/mvnref-book/reference/running-sect-options.html#running-sect-batch-option\" rel=\"noreferrer\">Running Maven in Batch Mode</a>.</p>\n\n<p>So it will for example suppress upload messages to avoid polluting the console log.</p>\n\n<p>For example, when you create a new file on GitLab through the template <code>.gitlab-ci.yml</code> for Maven, you will have the following in the variables :</p>\n\n<pre><code>variables:\n  # This will suppress any download for dependencies and plugins or upload messages which would clutter the console log.\n  # `showDateTime` will show the passed time in milliseconds. You need to specify `--batch-mode` to make this work.\n  MAVEN_OPTS: \"-Dhttps.protocols=TLSv1.2 -Dmaven.repo.local=$CI_PROJECT_DIR/.m2/repository -Dorg.slf4j.simpleLogger.log.org.apache.maven.cli.transfer.Slf4jMavenTransferListener=WARN -Dorg.slf4j.simpleLogger.showDateTime=true -Djava.awt.headless=true\"\n  # As of Maven 3.3.0 instead of this you may define these options in `.mvn/maven.config` so the same config is used\n  # when running from the command line.\n  # `installAtEnd` and `deployAtEnd` are only effective with recent version of the corresponding plugins.\n  MAVEN_CLI_OPTS: \"--batch-mode --errors --fail-at-end --show-version -DinstallAtEnd=true -DdeployAtEnd=true\"\n</code></pre>\n\n<p>You can see that <code>--batch-mode</code> is enabled by default.</p>\n"}],"owner":{"account_id":3836887,"reputation":2752,"user_id":3180973,"accept_rate":18,"display_name":"Maulik Patel"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70307,"favorite_count":0,"down_vote_count":2,"up_vote_count":82,"answer_count":3,"score":80,"last_activity_date":1691148436,"creation_date":1410972383,"question_id":25896081,"body_markdown":"I have created a Java application with the help of Maven plugin for using following maven goal:\r\n \r\n    mvn archetype:generate -DgroupId=net.javabeat \r\n      -DartifactId=SampleJavaProject\r\n      -DarchetypeArtifactId=maven-archetype-quick-start\r\n\t  -DinteractiveMode=false     \r\n    \r\nWhen `-DinteractiveMode=false`, then project is created in batch mode, and when `-DinteractiveMode=true`, then project is created in interactive mode.    \r\nI&#39;m confused with interactive mode and batch mode. What are those?","title":"What is the difference between interactive and batch mode in Maven?","body":"<p>I have created a Java application with the help of Maven plugin for using following maven goal:</p>\n\n<pre><code>mvn archetype:generate -DgroupId=net.javabeat \n  -DartifactId=SampleJavaProject\n  -DarchetypeArtifactId=maven-archetype-quick-start\n  -DinteractiveMode=false     \n</code></pre>\n\n<p>When <code>-DinteractiveMode=false</code>, then project is created in batch mode, and when <code>-DinteractiveMode=true</code>, then project is created in interactive mode.<br>\nI'm confused with interactive mode and batch mode. What are those?</p>\n"},{"tags":["java","android","firebase","google-cloud-firestore"],"comments":[{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1691159407,"post_id":76835079,"comment_id":135458419,"body_markdown":"&quot;Is there a way in which I know the type of the user before it signs in&quot; Firebase Authentication has no knowledge of a type of user, it merely handles the authentication part. If your app has types of users, it is your application that will need to provide the necessary information about what type of user is trying to sign up - e.g. by having a separate sign-up screen for each type of user, by having a separate app for each type of user, by having a list somewhere of the email addresses of each type of user, etc.","body":"&quot;Is there a way in which I know the type of the user before it signs in&quot; Firebase Authentication has no knowledge of a type of user, it merely handles the authentication part. If your app has types of users, it is your application that will need to provide the necessary information about what type of user is trying to sign up - e.g. by having a separate sign-up screen for each type of user, by having a separate app for each type of user, by having a list somewhere of the email addresses of each type of user, etc."},{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1691159569,"post_id":76835079,"comment_id":135458479,"body_markdown":"This topic has been covered extensively before and many of those approaches don&#39;t rely on Firestore (although they all need a way to know what the type of user is, as explained in my first comment). I recommend reading some of these previous [posts about types of users in Firebase](https://www.google.com/search?q=site:stackoverflow.com+firebase+type+of+user) and trying to implement it. If you run into problems with a specific implementation, post back and it&#39;s more likely we can help.","body":"This topic has been covered extensively before and many of those approaches don&#39;t rely on Firestore (although they all need a way to know what the type of user is, as explained in my first comment). I recommend reading some of these previous <a href=\"https://www.google.com/search?q=site:stackoverflow.com+firebase+type+of+user\" rel=\"nofollow noreferrer\">posts about types of users in Firebase</a> and trying to implement it. If you run into problems with a specific implementation, post back and it&#39;s more likely we can help."}],"answers":[{"tags":[],"owner":{"account_id":27935158,"reputation":90,"user_id":21332328,"display_name":"RmTomal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1691148412,"creation_date":1691148412,"answer_id":76835449,"question_id":76835079,"body_markdown":"I can give you a solution using firebase real-time database.\r\n\r\n```\r\n private void registerAccount(String name, String rank, String mobilePhone, String mail, String pass){\r\n        mAuth.createUserWithEmailAndPassword(mail, pass)\r\n                .addOnCompleteListener(this, new OnCompleteListener&lt;AuthResult&gt;() {\r\n                    @Override\r\n                    public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\r\n                        if (task.isSuccessful()) {\r\n                      \r\n                            FirebaseDatabase database = FirebaseDatabase.getInstance();\r\n                            DatabaseReference myRef = database.getReference(&quot;users&quot;);\r\n                            Map&lt;String, String&gt; userInfo = new HashMap&lt;&gt;();\r\n                            userInfo.put(&quot;name&quot;, name);\r\n                            userInfo.put(&quot;report&quot;, &quot;off&quot;);\r\n                            userInfo.put(&quot;email&quot;, mail);\r\n                            userInfo.put(&quot;rank&quot;, rank);\r\n                            userInfo.put(&quot;mobile&quot;, mobilePhone);\r\n                            userInfo.put(&quot;userRole&quot;, &quot;admin&quot;);\r\n//can be role user, admin or others \r\n                            \r\n                            myRef.child(mAuth.getUid()).setValue(userInfo)\r\n                                    .addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\r\n                                        @Override\r\n                                        public void onSuccess(Void unused) {\r\n                                            progressDialog.dismiss();\r\n                                            Toast.makeText(RegisterActivity.this, &quot;success&quot;, Toast.LENGTH_SHORT).show();\r\n                                            startActivity(new Intent(RegisterActivity.this, HomeActivity.class));\r\n                                        }\r\n                                    });\r\n                        } else {\r\n                            // If sign in fails, display a message to the user.\r\n                            Toast.makeText(RegisterActivity.this, &quot;Authentication failed.&quot;+task.getException().getMessage(),\r\n                                    Toast.LENGTH_SHORT).show();\r\n                            progressDialog.dismiss();\r\n                        }\r\n                    }\r\n                });\r\n    }","title":"How to know the type of the user before signing in Firebase?","body":"<p>I can give you a solution using firebase real-time database.</p>\n<pre><code> private void registerAccount(String name, String rank, String mobilePhone, String mail, String pass){\n        mAuth.createUserWithEmailAndPassword(mail, pass)\n                .addOnCompleteListener(this, new OnCompleteListener&lt;AuthResult&gt;() {\n                    @Override\n                    public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\n                        if (task.isSuccessful()) {\n                      \n                            FirebaseDatabase database = FirebaseDatabase.getInstance();\n                            DatabaseReference myRef = database.getReference(&quot;users&quot;);\n                            Map&lt;String, String&gt; userInfo = new HashMap&lt;&gt;();\n                            userInfo.put(&quot;name&quot;, name);\n                            userInfo.put(&quot;report&quot;, &quot;off&quot;);\n                            userInfo.put(&quot;email&quot;, mail);\n                            userInfo.put(&quot;rank&quot;, rank);\n                            userInfo.put(&quot;mobile&quot;, mobilePhone);\n                            userInfo.put(&quot;userRole&quot;, &quot;admin&quot;);\n//can be role user, admin or others \n                            \n                            myRef.child(mAuth.getUid()).setValue(userInfo)\n                                    .addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\n                                        @Override\n                                        public void onSuccess(Void unused) {\n                                            progressDialog.dismiss();\n                                            Toast.makeText(RegisterActivity.this, &quot;success&quot;, Toast.LENGTH_SHORT).show();\n                                            startActivity(new Intent(RegisterActivity.this, HomeActivity.class));\n                                        }\n                                    });\n                        } else {\n                            // If sign in fails, display a message to the user.\n                            Toast.makeText(RegisterActivity.this, &quot;Authentication failed.&quot;+task.getException().getMessage(),\n                                    Toast.LENGTH_SHORT).show();\n                            progressDialog.dismiss();\n                        }\n                    }\n                });\n    }\n</code></pre>\n"}],"owner":{"account_id":10763675,"reputation":2426,"user_id":7919372,"accept_rate":91,"display_name":"Always Learner"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1691148412,"creation_date":1691144919,"question_id":76835079,"body_markdown":"I have 2 types of users, admins and regular users. I understand that when a user signs up, a FirebaseUser object is created. I read the documentation, and I did not find any field in which I can store such information. I need somehow a boolean field called `admin` in which I can store `true` or `false`. I read this [answer][1] where it is said that we can save the type of the user in Firestore, but that means that I have to read the document first. And that costs.\r\n\r\nIs there a way in which I know the type of the user before it signs in, so I can know to which activity to redirect the user without the need to read a Firestore document? Any help will be very appreciated.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/55655249/how-to-redirect-a-user-to-a-specific-activity-in-cloud-firestore/55655868#55655868","title":"How to know the type of the user before signing in Firebase?","body":"<p>I have 2 types of users, admins and regular users. I understand that when a user signs up, a FirebaseUser object is created. I read the documentation, and I did not find any field in which I can store such information. I need somehow a boolean field called <code>admin</code> in which I can store <code>true</code> or <code>false</code>. I read this <a href=\"https://stackoverflow.com/questions/55655249/how-to-redirect-a-user-to-a-specific-activity-in-cloud-firestore/55655868#55655868\">answer</a> where it is said that we can save the type of the user in Firestore, but that means that I have to read the document first. And that costs.</p>\n<p>Is there a way in which I know the type of the user before it signs in, so I can know to which activity to redirect the user without the need to read a Firestore document? Any help will be very appreciated.</p>\n"},{"tags":["java","sockets","client-server"],"comments":[{"owner":{"display_name":"user9035826"},"score":0,"creation_date":1691093263,"post_id":76829506,"comment_id":135448972,"body_markdown":"Could you explain what exactly the client is sending, and what do you expect server to do?","body":"Could you explain what exactly the client is sending, and what do you expect server to do?"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1691100876,"post_id":76829506,"comment_id":135450177,"body_markdown":"but when i am trying to send second message i catch the exception.  Edit your question, and include the full stack trace of the exception youre getting, including all `Caused by` sections.  That stack trace will tell you, and us, what went wrong and where.  Without that information, we can only guess what your problem is.","body":"but when i am trying to send second message i catch the exception.  Edit your question, and include the full stack trace of the exception youre getting, including all <code>Caused by</code> sections.  That stack trace will tell you, and us, what went wrong and where.  Without that information, we can only guess what your problem is."},{"owner":{"account_id":26654780,"reputation":5,"user_id":20268479,"display_name":"Lucifer"},"score":0,"creation_date":1691102864,"post_id":76829506,"comment_id":135450388,"body_markdown":"Client is sending the command, for example &quot;SendMsg&quot;, and then some data (message). Command is needed server to know what exactly client wants to do (authorization, registration, sening message...). Server is putting this command to switch case, and reading next data from client. If command is &quot;SendMsg&quot; server is reading the message sent by client and sends it to every user.","body":"Client is sending the command, for example &quot;SendMsg&quot;, and then some data (message). Command is needed server to know what exactly client wants to do (authorization, registration, sening message...). Server is putting this command to switch case, and reading next data from client. If command is &quot;SendMsg&quot; server is reading the message sent by client and sends it to every user."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1691103260,"post_id":76829506,"comment_id":135450426,"body_markdown":"Please translate &#39; &#39;. And get rid of the `reader.ready()` test. It&#39;s pointless. You don&#39;t have the option of not reading the next message. Otherwise you will cause an application protocol error and maybe this one.","body":"Please translate &#39; &#39;. And get rid of the <code>reader.ready()</code> test. It&#39;s pointless. You don&#39;t have the option of not reading the next message. Otherwise you will cause an application protocol error and maybe this one."},{"owner":{"account_id":26654780,"reputation":5,"user_id":20268479,"display_name":"Lucifer"},"score":0,"creation_date":1691103358,"post_id":76829506,"comment_id":135450434,"body_markdown":"The channel is broken","body":"The channel is broken"},{"owner":{"account_id":26654780,"reputation":5,"user_id":20268479,"display_name":"Lucifer"},"score":0,"creation_date":1691103524,"post_id":76829506,"comment_id":135450461,"body_markdown":"I tried to run this code without reader.ready(), exception has not disapeared","body":"I tried to run this code without reader.ready(), exception has not disapeared"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1691103897,"post_id":76829506,"comment_id":135450491,"body_markdown":"Sounds like &#39;connection reset&#39; or &#39;broken pipe&#39;. There are many causes but one of them is either peer closing the socket without having read all the data that was sent.","body":"Sounds like &#39;connection reset&#39; or &#39;broken pipe&#39;. There are many causes but one of them is either peer closing the socket without having read all the data that was sent."},{"owner":{"account_id":26654780,"reputation":5,"user_id":20268479,"display_name":"Lucifer"},"score":0,"creation_date":1691104710,"post_id":76829506,"comment_id":135450571,"body_markdown":"By the way, user207421 if i am not using reader.ready() server throws this while sending first message:\nException in thread &quot;pool-1-thread-1&quot; java.lang.RuntimeException: java.net.SocketException: Socket closed\nat server.Server.handleClient(Server.java:58)\n\tat server.Server.lambda$main$0(Server.java:27)\n...\nat server.Server.handleClient(Server.java:46)","body":"By the way, user207421 if i am not using reader.ready() server throws this while sending first message: Exception in thread &quot;pool-1-thread-1&quot; java.lang.RuntimeException: java.net.SocketException: Socket closed at server.Server.handleClient(Server.java:58) \tat server.Server.lambda$main$0(Server.java:27) ... at server.Server.handleClient(Server.java:46)"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1691111736,"post_id":76829506,"comment_id":135451128,"body_markdown":"&#39;Socket closed&#39; means that *you* closed the socket and then continued to use it. You&#39;re missing a `break` after `socket.close()` in the &quot;Exit&quot; case.","body":"&#39;Socket closed&#39; means that <i>you</i> closed the socket and then continued to use it. You&#39;re missing a <code>break</code> after <code>socket.close()</code> in the &quot;Exit&quot; case."},{"owner":{"account_id":26654780,"reputation":5,"user_id":20268479,"display_name":"Lucifer"},"score":0,"creation_date":1691140145,"post_id":76829506,"comment_id":135454469,"body_markdown":"I can&#39;t use break, because it is in the switch case. That is why i put condition in the while loop.","body":"I can&#39;t use break, because it is in the switch case. That is why i put condition in the while loop."},{"owner":{"account_id":213468,"reputation":103489,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1691143378,"post_id":76829506,"comment_id":135455083,"body_markdown":"You closed the socket in `sendMsg` because of the try-with-resources.","body":"You closed the socket in <code>sendMsg</code> because of the try-with-resources."},{"owner":{"account_id":26654780,"reputation":5,"user_id":20268479,"display_name":"Lucifer"},"score":0,"creation_date":1691148004,"post_id":76829506,"comment_id":135455881,"body_markdown":"YES!!! Mark, you are right.","body":"YES!!! Mark, you are right."}],"answers":[{"tags":[],"owner":{"account_id":26654780,"reputation":5,"user_id":20268479,"display_name":"Lucifer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1691148380,"creation_date":1691148380,"answer_id":76835446,"question_id":76829506,"body_markdown":"Thanks to Mark Rotteveel i got the answer.\r\nI just modified sendMsg method by putting try with resources into if(client != socket) (sending message everyone besides client who wrote it) and everything works great.\r\n```\r\n    private static void sendMsg(Socket socket, BufferedReader reader) throws IOException{\r\n            String message = reader.readLine();\r\n    \r\n            for(Socket client : clients) {\r\n                if(client != socket) {\r\n                    try (BufferedWriter writer = new BufferedWriter(\r\n                            new OutputStreamWriter(\r\n                                    client.getOutputStream()))) {\r\n                        writer.write(message);\r\n                        writer.newLine();\r\n                        writer.flush();\r\n                    }\r\n                }\r\n            }\r\n        }\r\n```","title":"java.net.SocketException while trying to send message with BufferedWriter","body":"<p>Thanks to Mark Rotteveel i got the answer.\nI just modified sendMsg method by putting try with resources into if(client != socket) (sending message everyone besides client who wrote it) and everything works great.</p>\n<pre><code>    private static void sendMsg(Socket socket, BufferedReader reader) throws IOException{\n            String message = reader.readLine();\n    \n            for(Socket client : clients) {\n                if(client != socket) {\n                    try (BufferedWriter writer = new BufferedWriter(\n                            new OutputStreamWriter(\n                                    client.getOutputStream()))) {\n                        writer.write(message);\n                        writer.newLine();\n                        writer.flush();\n                    }\n                }\n            }\n        }\n</code></pre>\n"}],"owner":{"account_id":26654780,"reputation":5,"user_id":20268479,"display_name":"Lucifer"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76835446,"answer_count":1,"score":0,"last_activity_date":1691148380,"creation_date":1691076140,"question_id":76829506,"body_markdown":"I am trying to make a simple client/server application using Socket, BufferedReader and BufferedWriter. Authorization works good, and when i am sending first message everything also works, but when i am trying to send second message i catch the exception:\r\n\r\n    Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.RuntimeException: java.net.SocketException:  \r\n    \tat utils.SocketManager.writeMsg(SocketManager.java:33)\r\n    \tat client.Chat.sendMessage(Chat.java:53)\r\n    \tat client.Chat.lambda$new$0(Chat.java:37)\r\n    \tat java.desktop/javax.swing.AbstractButton.fireActionPerformed(AbstractButton.java:1972)\r\n    \tat java.desktop/javax.swing.AbstractButton$Handler.actionPerformed(AbstractButton.java:2314)\r\n    \tat java.desktop/javax.swing.DefaultButtonModel.fireActionPerformed(DefaultButtonModel.java:407)\r\n    \tat java.desktop/javax.swing.DefaultButtonModel.setPressed(DefaultButtonModel.java:262)\r\n    \tat java.desktop/javax.swing.plaf.basic.BasicButtonListener.mouseReleased(BasicButtonListener.java:279)\r\n    \tat java.desktop/java.awt.Component.processMouseEvent(Component.java:6620)\r\n    \tat java.desktop/javax.swing.JComponent.processMouseEvent(JComponent.java:3398)\r\n    \tat java.desktop/java.awt.Component.processEvent(Component.java:6385)\r\n    \tat java.desktop/java.awt.Container.processEvent(Container.java:2266)\r\n    \tat java.desktop/java.awt.Component.dispatchEventImpl(Component.java:4995)\r\n    \tat java.desktop/java.awt.Container.dispatchEventImpl(Container.java:2324)\r\n    \tat java.desktop/java.awt.Component.dispatchEvent(Component.java:4827)\r\n    \tat java.desktop/java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4948)\r\n    \tat java.desktop/java.awt.LightweightDispatcher.processMouseEvent(Container.java:4575)\r\n    \tat java.desktop/java.awt.LightweightDispatcher.dispatchEvent(Container.java:4516)\r\n    \tat java.desktop/java.awt.Container.dispatchEventImpl(Container.java:2310)\r\n    \tat java.desktop/java.awt.Window.dispatchEventImpl(Window.java:2780)\r\n    \tat java.desktop/java.awt.Component.dispatchEvent(Component.java:4827)\r\n    \tat java.desktop/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:775)\r\n    \tat java.desktop/java.awt.EventQueue$4.run(EventQueue.java:720)\r\n    \tat java.desktop/java.awt.EventQueue$4.run(EventQueue.java:714)\r\n    \tat java.base/java.security.AccessController.doPrivileged(AccessController.java:400)\r\n    \tat java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:87)\r\n    \tat java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:98)\r\n    \tat java.desktop/java.awt.EventQueue$5.run(EventQueue.java:747)\r\n    \tat java.desktop/java.awt.EventQueue$5.run(EventQueue.java:745)\r\n    \tat java.base/java.security.AccessController.doPrivileged(AccessController.java:400)\r\n    \tat java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:87)\r\n    \tat java.desktop/java.awt.EventQueue.dispatchEvent(EventQueue.java:744)\r\n    \tat java.desktop/java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:203)\r\n    \tat java.desktop/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:124)\r\n    \tat java.desktop/java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:113)\r\n    \tat java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:109)\r\n    \tat java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\r\n    \tat java.desktop/java.awt.EventDispatchThread.run(EventDispatchThread.java:90)\r\n    Caused by: java.net.SocketException:  \r\n    \tat java.base/sun.nio.ch.NioSocketImpl.implWrite(NioSocketImpl.java:413)\r\n    \tat java.base/sun.nio.ch.NioSocketImpl.write(NioSocketImpl.java:433)\r\n    \tat java.base/sun.nio.ch.NioSocketImpl$2.write(NioSocketImpl.java:812)\r\n    \tat java.base/java.net.Socket$SocketOutputStream.write(Socket.java:1120)\r\n    \tat java.base/sun.nio.cs.StreamEncoder.writeBytes(StreamEncoder.java:313)\r\n    \tat java.base/sun.nio.cs.StreamEncoder.implFlushBuffer(StreamEncoder.java:409)\r\n    \tat java.base/sun.nio.cs.StreamEncoder.implFlush(StreamEncoder.java:414)\r\n    \tat java.base/sun.nio.cs.StreamEncoder.lockedFlush(StreamEncoder.java:218)\r\n    \tat java.base/sun.nio.cs.StreamEncoder.flush(StreamEncoder.java:205)\r\n    \tat java.base/java.io.OutputStreamWriter.flush(OutputStreamWriter.java:263)\r\n    \tat java.base/java.io.BufferedWriter.implFlush(BufferedWriter.java:372)\r\n    \tat java.base/java.io.BufferedWriter.flush(BufferedWriter.java:359)\r\n    \tat utils.SocketManager.writeMsg(SocketManager.java:31)\r\n    \t... 37 more\r\n\r\nHere is piece of server code:\r\n```\r\nprivate static void handleClient(Socket socket){\r\n                try (BufferedWriter writer = new BufferedWriter(\r\n                        new OutputStreamWriter(\r\n                                socket.getOutputStream()));\r\n                     BufferedReader reader = new BufferedReader(\r\n                             new InputStreamReader(\r\n                                     socket.getInputStream()))) {\r\n        \r\n                    String command = &quot;&quot;;\r\n                    while(!command.equals(&quot;Exit&quot;)) {//here starts endless loop\r\n                        if (reader.ready()) {\r\n                            command = reader.readLine();\r\n                            switch (command) {\r\n                                case &quot;LogIn&quot; -&gt; logIn(writer, reader);\r\n                                case &quot;SendMsg&quot; -&gt; sendMsg(reader);\r\n                                case &quot;Exit&quot; -&gt; {\r\n                                    clients.remove(socket);\r\n                                    socket.close();\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                } catch (IOException e) {\r\n                    throw new RuntimeException(e);\r\n                }\r\n            }\r\n         private static void sendMsg(BufferedReader reader) throws IOException{\r\n                String message = reader.readLine();\r\n        \r\n                for(Socket client : clients) {\r\n                    try(BufferedWriter writer = new BufferedWriter(\r\n                            new OutputStreamWriter(\r\n                                    client.getOutputStream()))) {\r\n                        writer.write(message);\r\n                        writer.newLine();\r\n                        writer.flush();\r\n                    }\r\n                }\r\n            }\r\n```\r\nClient:\r\n```\r\npublic Chat(String login) {\r\n        this.login = login;\r\n\r\n        Thread thread = new Thread(new ReceiveMessage());\r\n        thread.start();\r\n\r\n        sendButton.addActionListener(e -&gt; sendMessage());\r\n    }\r\n\r\n    public void openFrame() {\r\n        frame = new JFrame(&quot;YurChat&quot;);\r\n        frame.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\r\n        frame.setVisible(true);\r\n        frame.setContentPane(mainPanel);\r\n\r\n        Toolkit toolkit = Toolkit.getDefaultToolkit();\r\n        frame.setBounds(toolkit.getScreenSize().width / 2 - 325, toolkit.getScreenSize().height / 2 - 200, 550, 300);\r\n    }\r\n\r\n    private void sendMessage() {\r\n        SocketManager.writeMsg(&quot;SendMsg&quot;);//server does not get command second time\r\n        String message = login + &quot;:\\t&quot; + messageTextField.getText();\r\n        SocketManager.writeMsg(message);//throws exception\r\n        messageTextField.setText(&quot;&quot;);\r\n    }\r\n\r\n    private class ReceiveMessage implements Runnable {\r\n        @Override\r\n        public void run() {\r\n            while(true) {\r\n                if(SocketManager.isReaderReady()) {\r\n                    String msg = SocketManager.readMsg();\r\n                    chatTextArea.append(msg);\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\nSocketManager:\r\n```\r\npublic final class SocketManager {\r\n    private static final Socket socket;\r\n    private static final BufferedWriter writer;\r\n    private static final BufferedReader reader;\r\n\r\n    static {\r\n        try {\r\n            socket = new Socket(\r\n                    PropertiesUtil.getProperty(&quot;socket.ip&quot;),\r\n                    Integer.parseInt(PropertiesUtil.getProperty(&quot;socket.port&quot;)));\r\n            writer = new BufferedWriter(\r\n                    new OutputStreamWriter(\r\n                            socket.getOutputStream()));\r\n            reader = new BufferedReader(\r\n                    new InputStreamReader(\r\n                            socket.getInputStream()));\r\n        } catch (IOException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n\r\n    public static void writeMsg(String message) {\r\n        try {\r\n            writer.write(message);\r\n            writer.newLine();\r\n            writer.flush();\r\n        } catch (IOException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n\r\n    public static String readMsg() {\r\n        try {\r\n            return reader.readLine();\r\n        } catch (IOException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n\r\n    public static boolean isReaderReady() {\r\n        try {\r\n            return reader.ready();\r\n        } catch (IOException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n\r\n    public static void close() {\r\n        try {\r\n            writer.close();\r\n            reader.close();\r\n            socket.close();\r\n        } catch (IOException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n}\r\n```\r\nFull code is here: https://github.com/lucifer116664/ClientServerChat.git\r\n\r\nI debugged this app and found that when i am sending message second time client is sending command &quot;SendMsg&quot;, but server does not get it and stops in the endless loop waiting for command.\r\n\r\nThanks in advice.","title":"java.net.SocketException while trying to send message with BufferedWriter","body":"<p>I am trying to make a simple client/server application using Socket, BufferedReader and BufferedWriter. Authorization works good, and when i am sending first message everything also works, but when i am trying to send second message i catch the exception:</p>\n<pre><code>Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.RuntimeException: java.net.SocketException:  \n    at utils.SocketManager.writeMsg(SocketManager.java:33)\n    at client.Chat.sendMessage(Chat.java:53)\n    at client.Chat.lambda$new$0(Chat.java:37)\n    at java.desktop/javax.swing.AbstractButton.fireActionPerformed(AbstractButton.java:1972)\n    at java.desktop/javax.swing.AbstractButton$Handler.actionPerformed(AbstractButton.java:2314)\n    at java.desktop/javax.swing.DefaultButtonModel.fireActionPerformed(DefaultButtonModel.java:407)\n    at java.desktop/javax.swing.DefaultButtonModel.setPressed(DefaultButtonModel.java:262)\n    at java.desktop/javax.swing.plaf.basic.BasicButtonListener.mouseReleased(BasicButtonListener.java:279)\n    at java.desktop/java.awt.Component.processMouseEvent(Component.java:6620)\n    at java.desktop/javax.swing.JComponent.processMouseEvent(JComponent.java:3398)\n    at java.desktop/java.awt.Component.processEvent(Component.java:6385)\n    at java.desktop/java.awt.Container.processEvent(Container.java:2266)\n    at java.desktop/java.awt.Component.dispatchEventImpl(Component.java:4995)\n    at java.desktop/java.awt.Container.dispatchEventImpl(Container.java:2324)\n    at java.desktop/java.awt.Component.dispatchEvent(Component.java:4827)\n    at java.desktop/java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4948)\n    at java.desktop/java.awt.LightweightDispatcher.processMouseEvent(Container.java:4575)\n    at java.desktop/java.awt.LightweightDispatcher.dispatchEvent(Container.java:4516)\n    at java.desktop/java.awt.Container.dispatchEventImpl(Container.java:2310)\n    at java.desktop/java.awt.Window.dispatchEventImpl(Window.java:2780)\n    at java.desktop/java.awt.Component.dispatchEvent(Component.java:4827)\n    at java.desktop/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:775)\n    at java.desktop/java.awt.EventQueue$4.run(EventQueue.java:720)\n    at java.desktop/java.awt.EventQueue$4.run(EventQueue.java:714)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:400)\n    at java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:87)\n    at java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:98)\n    at java.desktop/java.awt.EventQueue$5.run(EventQueue.java:747)\n    at java.desktop/java.awt.EventQueue$5.run(EventQueue.java:745)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:400)\n    at java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:87)\n    at java.desktop/java.awt.EventQueue.dispatchEvent(EventQueue.java:744)\n    at java.desktop/java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:203)\n    at java.desktop/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:124)\n    at java.desktop/java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:113)\n    at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:109)\n    at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\n    at java.desktop/java.awt.EventDispatchThread.run(EventDispatchThread.java:90)\nCaused by: java.net.SocketException:  \n    at java.base/sun.nio.ch.NioSocketImpl.implWrite(NioSocketImpl.java:413)\n    at java.base/sun.nio.ch.NioSocketImpl.write(NioSocketImpl.java:433)\n    at java.base/sun.nio.ch.NioSocketImpl$2.write(NioSocketImpl.java:812)\n    at java.base/java.net.Socket$SocketOutputStream.write(Socket.java:1120)\n    at java.base/sun.nio.cs.StreamEncoder.writeBytes(StreamEncoder.java:313)\n    at java.base/sun.nio.cs.StreamEncoder.implFlushBuffer(StreamEncoder.java:409)\n    at java.base/sun.nio.cs.StreamEncoder.implFlush(StreamEncoder.java:414)\n    at java.base/sun.nio.cs.StreamEncoder.lockedFlush(StreamEncoder.java:218)\n    at java.base/sun.nio.cs.StreamEncoder.flush(StreamEncoder.java:205)\n    at java.base/java.io.OutputStreamWriter.flush(OutputStreamWriter.java:263)\n    at java.base/java.io.BufferedWriter.implFlush(BufferedWriter.java:372)\n    at java.base/java.io.BufferedWriter.flush(BufferedWriter.java:359)\n    at utils.SocketManager.writeMsg(SocketManager.java:31)\n    ... 37 more\n</code></pre>\n<p>Here is piece of server code:</p>\n<pre><code>private static void handleClient(Socket socket){\n                try (BufferedWriter writer = new BufferedWriter(\n                        new OutputStreamWriter(\n                                socket.getOutputStream()));\n                     BufferedReader reader = new BufferedReader(\n                             new InputStreamReader(\n                                     socket.getInputStream()))) {\n        \n                    String command = &quot;&quot;;\n                    while(!command.equals(&quot;Exit&quot;)) {//here starts endless loop\n                        if (reader.ready()) {\n                            command = reader.readLine();\n                            switch (command) {\n                                case &quot;LogIn&quot; -&gt; logIn(writer, reader);\n                                case &quot;SendMsg&quot; -&gt; sendMsg(reader);\n                                case &quot;Exit&quot; -&gt; {\n                                    clients.remove(socket);\n                                    socket.close();\n                                }\n                            }\n                        }\n                    }\n                } catch (IOException e) {\n                    throw new RuntimeException(e);\n                }\n            }\n         private static void sendMsg(BufferedReader reader) throws IOException{\n                String message = reader.readLine();\n        \n                for(Socket client : clients) {\n                    try(BufferedWriter writer = new BufferedWriter(\n                            new OutputStreamWriter(\n                                    client.getOutputStream()))) {\n                        writer.write(message);\n                        writer.newLine();\n                        writer.flush();\n                    }\n                }\n            }\n</code></pre>\n<p>Client:</p>\n<pre><code>public Chat(String login) {\n        this.login = login;\n\n        Thread thread = new Thread(new ReceiveMessage());\n        thread.start();\n\n        sendButton.addActionListener(e -&gt; sendMessage());\n    }\n\n    public void openFrame() {\n        frame = new JFrame(&quot;YurChat&quot;);\n        frame.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\n        frame.setVisible(true);\n        frame.setContentPane(mainPanel);\n\n        Toolkit toolkit = Toolkit.getDefaultToolkit();\n        frame.setBounds(toolkit.getScreenSize().width / 2 - 325, toolkit.getScreenSize().height / 2 - 200, 550, 300);\n    }\n\n    private void sendMessage() {\n        SocketManager.writeMsg(&quot;SendMsg&quot;);//server does not get command second time\n        String message = login + &quot;:\\t&quot; + messageTextField.getText();\n        SocketManager.writeMsg(message);//throws exception\n        messageTextField.setText(&quot;&quot;);\n    }\n\n    private class ReceiveMessage implements Runnable {\n        @Override\n        public void run() {\n            while(true) {\n                if(SocketManager.isReaderReady()) {\n                    String msg = SocketManager.readMsg();\n                    chatTextArea.append(msg);\n                }\n            }\n        }\n    }\n}\n</code></pre>\n<p>SocketManager:</p>\n<pre><code>public final class SocketManager {\n    private static final Socket socket;\n    private static final BufferedWriter writer;\n    private static final BufferedReader reader;\n\n    static {\n        try {\n            socket = new Socket(\n                    PropertiesUtil.getProperty(&quot;socket.ip&quot;),\n                    Integer.parseInt(PropertiesUtil.getProperty(&quot;socket.port&quot;)));\n            writer = new BufferedWriter(\n                    new OutputStreamWriter(\n                            socket.getOutputStream()));\n            reader = new BufferedReader(\n                    new InputStreamReader(\n                            socket.getInputStream()));\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        }\n    }\n\n    public static void writeMsg(String message) {\n        try {\n            writer.write(message);\n            writer.newLine();\n            writer.flush();\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        }\n    }\n\n    public static String readMsg() {\n        try {\n            return reader.readLine();\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        }\n    }\n\n    public static boolean isReaderReady() {\n        try {\n            return reader.ready();\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        }\n    }\n\n    public static void close() {\n        try {\n            writer.close();\n            reader.close();\n            socket.close();\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        }\n    }\n}\n</code></pre>\n<p>Full code is here: <a href=\"https://github.com/lucifer116664/ClientServerChat.git\" rel=\"nofollow noreferrer\">https://github.com/lucifer116664/ClientServerChat.git</a></p>\n<p>I debugged this app and found that when i am sending message second time client is sending command &quot;SendMsg&quot;, but server does not get it and stops in the endless loop waiting for command.</p>\n<p>Thanks in advice.</p>\n"},{"tags":["java","selenium-webdriver","web-scraping","automation","bots"],"comments":[{"owner":{"account_id":10495994,"reputation":1833,"user_id":7736228,"display_name":"Abhay Chaudhary"},"score":0,"creation_date":1691148710,"post_id":76835415,"comment_id":135456006,"body_markdown":"Probably they have implemented Antibot Services to stop scraping","body":"Probably they have implemented Antibot Services to stop scraping"},{"owner":{"account_id":23156460,"reputation":1,"user_id":17257646,"display_name":"Junry Buenavista"},"score":0,"creation_date":1691149231,"post_id":76835415,"comment_id":135456108,"body_markdown":"Hi! thanks for your comment, is there anything I could do with this?","body":"Hi! thanks for your comment, is there anything I could do with this?"}],"owner":{"account_id":23156460,"reputation":1,"user_id":17257646,"display_name":"Junry Buenavista"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691147985,"creation_date":1691147985,"question_id":76835415,"body_markdown":"I have a bot that running almost 1 year but lately it was stuck on login, it seems that the website is updated I&#39;m not sure but I feel they put a bot detection features. When I make a &quot;new tab&quot; their is a warning says &quot;Access denied ERROR 15. The request was blocked by our security service&quot;. But when I use a regular browser without the bot I was working fine. I really appreciated someone can help me out. Thanks!\r\n\r\n\r\n```\r\npublic class Login {\r\n\tWebDriver driver;\r\n\tpublic Login() {\r\n\t\tSystem.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C:\\\\Jars\\\\chromedriver.exe&quot;);\t\t\r\n\t\tHashMap&lt;String,Object&gt; chromePrefs = new HashMap&lt;String, Object&gt;();\r\n\t\tchromePrefs.put(&quot;plugins.always_open_pdf_externally&quot;, true);\r\n\t\tchromePrefs.put(&quot;excludeSwitches&quot;, &quot;enable-popup-blocking&quot;);\t\r\n\t\tChromeOptions options = new ChromeOptions();\r\n\t\r\n\t\t//--------------------------------------------------\r\n\t\t \toptions.addArguments(&quot;--no-sandbox&quot;);\r\n\t\t    options.addArguments(&quot;--disable-dev-shm-usage&quot;);\r\n\t\t    options.setExperimentalOption(&quot;excludeSwitches&quot;, Collections.singletonList(&quot;enable-automation&quot;));\r\n\t\t    options.setExperimentalOption(&quot;useAutomationExtension&quot;, null);\t\t       \r\n\t\t    options.addArguments(&quot;window-size=1920,1080&quot;);\r\n\t\t    options.addArguments(&quot;user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/74.0.3729.169 Safari/537.36&quot;);\r\n\t\t    options.addArguments(&quot;disable-infobars&quot;);\r\n\t\tdriver = new ChromeDriver(options);\r\n\t\tdriver.manage().timeouts().implicitlyWait(30, TimeUnit.SECONDS);\r\n\t\t\r\n\t\t//------------------------------------------------\r\n\t\t\r\n\t\ttry {\r\n\t\t\t\r\n\t\t\tdriver.get(&quot;https://www.fpl.com/my-account/account-landing.html#cards&quot;);\r\n\t\t\tThread.sleep(3000);\r\n\t\t\t\r\n\t\t\tdriver.findElement(By.id(&quot;emailOrUserId&quot;)).sendKeys(&quot;*******&quot;);\r\n\t\t\tdriver.findElement(By.id(&quot;pwd&quot;)).sendKeys(&quot;********&quot;);\r\n\t\t\tdriver.manage().timeouts().implicitlyWait(45, TimeUnit.SECONDS);\r\n\t\t\tdriver.manage().window().maximize();\r\n\t\t\tdriver.findElement(By.id(&quot;loginButton&quot;)).click();\r\n\t\t\t\r\n\t\t}catch(Exception ee) {ee.printStackTrace();}\r\n\t}\r\n\tpublic static void main(String args[]) {\r\n\t\tnew Login();\r\n\t}\r\n}\r\n```\r\n","title":"Java Selenium Stuck in Login","body":"<p>I have a bot that running almost 1 year but lately it was stuck on login, it seems that the website is updated I'm not sure but I feel they put a bot detection features. When I make a &quot;new tab&quot; their is a warning says &quot;Access denied ERROR 15. The request was blocked by our security service&quot;. But when I use a regular browser without the bot I was working fine. I really appreciated someone can help me out. Thanks!</p>\n<pre><code>public class Login {\n    WebDriver driver;\n    public Login() {\n        System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C:\\\\Jars\\\\chromedriver.exe&quot;);        \n        HashMap&lt;String,Object&gt; chromePrefs = new HashMap&lt;String, Object&gt;();\n        chromePrefs.put(&quot;plugins.always_open_pdf_externally&quot;, true);\n        chromePrefs.put(&quot;excludeSwitches&quot;, &quot;enable-popup-blocking&quot;);    \n        ChromeOptions options = new ChromeOptions();\n    \n        //--------------------------------------------------\n            options.addArguments(&quot;--no-sandbox&quot;);\n            options.addArguments(&quot;--disable-dev-shm-usage&quot;);\n            options.setExperimentalOption(&quot;excludeSwitches&quot;, Collections.singletonList(&quot;enable-automation&quot;));\n            options.setExperimentalOption(&quot;useAutomationExtension&quot;, null);             \n            options.addArguments(&quot;window-size=1920,1080&quot;);\n            options.addArguments(&quot;user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/74.0.3729.169 Safari/537.36&quot;);\n            options.addArguments(&quot;disable-infobars&quot;);\n        driver = new ChromeDriver(options);\n        driver.manage().timeouts().implicitlyWait(30, TimeUnit.SECONDS);\n        \n        //------------------------------------------------\n        \n        try {\n            \n            driver.get(&quot;https://www.fpl.com/my-account/account-landing.html#cards&quot;);\n            Thread.sleep(3000);\n            \n            driver.findElement(By.id(&quot;emailOrUserId&quot;)).sendKeys(&quot;*******&quot;);\n            driver.findElement(By.id(&quot;pwd&quot;)).sendKeys(&quot;********&quot;);\n            driver.manage().timeouts().implicitlyWait(45, TimeUnit.SECONDS);\n            driver.manage().window().maximize();\n            driver.findElement(By.id(&quot;loginButton&quot;)).click();\n            \n        }catch(Exception ee) {ee.printStackTrace();}\n    }\n    public static void main(String args[]) {\n        new Login();\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","hibernate","spring-security","jwt"],"answers":[{"tags":[],"owner":{"account_id":29147487,"reputation":21,"user_id":22329079,"display_name":"Abd El Rahman Tamer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1691087264,"creation_date":1691087264,"answer_id":76830748,"question_id":76823592,"body_markdown":"I have solved it by making hibernate do the findByUsername(String username) query automatically instead of making a query using @Query with a native query","title":"JWT authentication failing when User class has an entity subclass in spring","body":"<p>I have solved it by making hibernate do the findByUsername(String username) query automatically instead of making a query using @Query with a native query</p>\n"}],"owner":{"account_id":29147487,"reputation":21,"user_id":22329079,"display_name":"Abd El Rahman Tamer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1691147938,"creation_date":1691010986,"question_id":76823592,"body_markdown":"I am trying to develop a system that contains customers and vendors and found many common attributes so i decided to use a common user class that has all the authentication information.\r\n\r\nClass Diagram:\r\n[class digram](https://i.stack.imgur.com/xewS9.png)\r\n\r\nI have been having a problem where when i make one of the sub classes an entity so that hibernate creates their table the authentication doesn&#39;t work.\r\n\r\nSecurity config class:\r\n\r\n```\r\n@Configuration\r\n@EnableWebSecurity\r\n@EnableMethodSecurity\r\npublic class SecurityConfig {\r\n\r\n    @Bean\r\n    public AuthenticationManager authManager() {\r\n        var authProvider = new DaoAuthenticationProvider();\r\n        authProvider.setUserDetailsService(userDetailsService());\r\n        authProvider.setPasswordEncoder(new BCryptPasswordEncoder());\r\n        return new ProviderManager(authProvider);\r\n    }\r\n\r\n    @Bean\r\n    public UserDetailsService userDetailsService() {\r\n        return new DatabaseUserDetailsService();\r\n    }\r\n\r\n    @Bean\r\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n        return http\r\n                .cors(Customizer.withDefaults())\r\n                .csrf(AbstractHttpConfigurer::disable)\r\n                .authorizeHttpRequests( auth -&gt; auth\r\n                        .requestMatchers(&quot;/token&quot;).permitAll()\r\n                        .anyRequest().authenticated()\r\n                )\r\n                .sessionManagement(session -&gt; session.sessionCreationPolicy(SessionCreationPolicy.STATELESS))\r\n                .oauth2ResourceServer(OAuth2ResourceServerConfigurer::jwt)\r\n                .build();\r\n    }\r\n\r\n}\r\n```\r\n\r\nToken generation functionality:\r\n\r\n```\r\n@Service\r\npublic class TokenService {\r\n\r\n    private final JwtEncoder encoder;\r\n\r\n    public TokenService(JwtEncoder encoder) {\r\n        this.encoder = encoder;\r\n    }\r\n\r\n    public String generateToken(Authentication authentication) {\r\n        Instant now = Instant.now();\r\n        String scope = authentication.getAuthorities().stream()\r\n                .map(GrantedAuthority::getAuthority)\r\n                .collect(Collectors.joining(&quot; &quot;));\r\n        JwtClaimsSet claims = JwtClaimsSet.builder()\r\n                .issuer(&quot;self&quot;)\r\n                .issuedAt(now)\r\n                .expiresAt(now.plus(1, ChronoUnit.HOURS))\r\n                .subject(authentication.getName())\r\n                .claim(&quot;scope&quot;, scope)\r\n                .build();\r\n        return this.encoder.encode(JwtEncoderParameters.from(claims)).getTokenValue();\r\n    }\r\n\r\n}\r\n@PostMapping(&quot;/token&quot;)\r\n    public String token(@RequestBody LoginRequest userLogin) throws AuthenticationException {\r\n        UsernamePasswordAuthenticationToken token = new UsernamePasswordAuthenticationToken(userLogin.username(), userLogin.password());\r\n        Authentication authentication = authenticationManager.authenticate(token);\r\n        return tokenService.generateToken(authentication);\r\n    }\r\n```\r\n\r\n\r\nThe custom user details service:\r\n\r\n```\r\n@Override\r\n    public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\r\n        User user = userRepo.findByUsername(username);\r\n        System.out.println(user + &quot; &quot; + username);\r\n        if(user == null){\r\n            throw new UsernameNotFoundException(&quot;User with username [&quot; + username + &quot;] not found in the system&quot;);\r\n        }\r\n        return new CustomUserDetails(user);\r\n    }\r\n```\r\n\r\nThe customUserDetails is just a class that inherets UserDetails and has an instance variable user that we get the data for the users from.\r\n\r\nThe user class:\r\n\r\n```\r\n@Data\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Entity(name = &quot;user_table&quot;)\r\n@Inheritance(strategy = InheritanceType.JOINED)\r\npublic class User{\r\n\r\n    @Id\r\n    private UUID user_id;\r\n    @Column(name = &quot;username&quot;,unique = true,nullable = false)\r\n    private String username;\r\n    @Column(name = &quot;password&quot;,nullable = false)\r\n    private String password;\r\n\r\n}\r\n```\r\n\r\nThe customer class:\r\n\r\n```\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@ToString\r\n@Entity(name = &quot;customer&quot;) //when i remove this the jwt authentication works\r\npublic class Customer extends User{\r\n\r\n    @Column(name = &quot;first_name&quot;)\r\n    private String firstName;\r\n    @Column(name = &quot;last_name&quot;)\r\n    private String lastName;\r\n}\r\n```\r\n\r\n\r\n\r\n\r\nI have tried debugging the token generation function many times and i end up with this exception.\r\ndispatchException:`class org.hibernate.metamodel.mapping.internal.CaseStatementDiscriminatorMappingImpl$1 cannot be cast to class org.hibernate.sql.ast.spi.SqlSelection (org.hibernate.metamodel.mapping.internal.CaseStatementDiscriminatorMappingImpl$1 and org.hibernate.sql.ast.spi.SqlSelection are in unnamed module of loader &#39;app&#39;)`\r\n\r\nbut i haven&#39;t found any resources leading to the cause of this exception\r\n","title":"JWT authentication failing when User class has an entity subclass in spring","body":"<p>I am trying to develop a system that contains customers and vendors and found many common attributes so i decided to use a common user class that has all the authentication information.</p>\n<p>Class Diagram:\n<a href=\"https://i.stack.imgur.com/xewS9.png\" rel=\"nofollow noreferrer\">class digram</a></p>\n<p>I have been having a problem where when i make one of the sub classes an entity so that hibernate creates their table the authentication doesn't work.</p>\n<p>Security config class:</p>\n<pre><code>@Configuration\n@EnableWebSecurity\n@EnableMethodSecurity\npublic class SecurityConfig {\n\n    @Bean\n    public AuthenticationManager authManager() {\n        var authProvider = new DaoAuthenticationProvider();\n        authProvider.setUserDetailsService(userDetailsService());\n        authProvider.setPasswordEncoder(new BCryptPasswordEncoder());\n        return new ProviderManager(authProvider);\n    }\n\n    @Bean\n    public UserDetailsService userDetailsService() {\n        return new DatabaseUserDetailsService();\n    }\n\n    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n        return http\n                .cors(Customizer.withDefaults())\n                .csrf(AbstractHttpConfigurer::disable)\n                .authorizeHttpRequests( auth -&gt; auth\n                        .requestMatchers(&quot;/token&quot;).permitAll()\n                        .anyRequest().authenticated()\n                )\n                .sessionManagement(session -&gt; session.sessionCreationPolicy(SessionCreationPolicy.STATELESS))\n                .oauth2ResourceServer(OAuth2ResourceServerConfigurer::jwt)\n                .build();\n    }\n\n}\n</code></pre>\n<p>Token generation functionality:</p>\n<pre><code>@Service\npublic class TokenService {\n\n    private final JwtEncoder encoder;\n\n    public TokenService(JwtEncoder encoder) {\n        this.encoder = encoder;\n    }\n\n    public String generateToken(Authentication authentication) {\n        Instant now = Instant.now();\n        String scope = authentication.getAuthorities().stream()\n                .map(GrantedAuthority::getAuthority)\n                .collect(Collectors.joining(&quot; &quot;));\n        JwtClaimsSet claims = JwtClaimsSet.builder()\n                .issuer(&quot;self&quot;)\n                .issuedAt(now)\n                .expiresAt(now.plus(1, ChronoUnit.HOURS))\n                .subject(authentication.getName())\n                .claim(&quot;scope&quot;, scope)\n                .build();\n        return this.encoder.encode(JwtEncoderParameters.from(claims)).getTokenValue();\n    }\n\n}\n@PostMapping(&quot;/token&quot;)\n    public String token(@RequestBody LoginRequest userLogin) throws AuthenticationException {\n        UsernamePasswordAuthenticationToken token = new UsernamePasswordAuthenticationToken(userLogin.username(), userLogin.password());\n        Authentication authentication = authenticationManager.authenticate(token);\n        return tokenService.generateToken(authentication);\n    }\n</code></pre>\n<p>The custom user details service:</p>\n<pre><code>@Override\n    public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\n        User user = userRepo.findByUsername(username);\n        System.out.println(user + &quot; &quot; + username);\n        if(user == null){\n            throw new UsernameNotFoundException(&quot;User with username [&quot; + username + &quot;] not found in the system&quot;);\n        }\n        return new CustomUserDetails(user);\n    }\n</code></pre>\n<p>The customUserDetails is just a class that inherets UserDetails and has an instance variable user that we get the data for the users from.</p>\n<p>The user class:</p>\n<pre><code>@Data\n@NoArgsConstructor\n@AllArgsConstructor\n@Entity(name = &quot;user_table&quot;)\n@Inheritance(strategy = InheritanceType.JOINED)\npublic class User{\n\n    @Id\n    private UUID user_id;\n    @Column(name = &quot;username&quot;,unique = true,nullable = false)\n    private String username;\n    @Column(name = &quot;password&quot;,nullable = false)\n    private String password;\n\n}\n</code></pre>\n<p>The customer class:</p>\n<pre><code>@NoArgsConstructor\n@AllArgsConstructor\n@ToString\n@Entity(name = &quot;customer&quot;) //when i remove this the jwt authentication works\npublic class Customer extends User{\n\n    @Column(name = &quot;first_name&quot;)\n    private String firstName;\n    @Column(name = &quot;last_name&quot;)\n    private String lastName;\n}\n</code></pre>\n<p>I have tried debugging the token generation function many times and i end up with this exception.\ndispatchException:<code>class org.hibernate.metamodel.mapping.internal.CaseStatementDiscriminatorMappingImpl$1 cannot be cast to class org.hibernate.sql.ast.spi.SqlSelection (org.hibernate.metamodel.mapping.internal.CaseStatementDiscriminatorMappingImpl$1 and org.hibernate.sql.ast.spi.SqlSelection are in unnamed module of loader 'app')</code></p>\n<p>but i haven't found any resources leading to the cause of this exception</p>\n"},{"tags":["java","appium","appium-android"],"comments":[{"owner":{"account_id":8440463,"reputation":882,"user_id":6333173,"accept_rate":33,"display_name":"Al Imran"},"score":0,"creation_date":1522918282,"post_id":49665033,"comment_id":86345977,"body_markdown":"resetApp() - it uninstall the app and install app again, wrong concept, it just clear app data and clear cache and open the app.","body":"resetApp() - it uninstall the app and install app again, wrong concept, it just clear app data and clear cache and open the app."},{"owner":{"account_id":8440463,"reputation":882,"user_id":6333173,"accept_rate":33,"display_name":"Al Imran"},"score":0,"creation_date":1522918514,"post_id":49665033,"comment_id":86346137,"body_markdown":"What you expected behavior? Launch the app again without clearing the app data and cache at the middle of test?","body":"What you expected behavior? Launch the app again without clearing the app data and cache at the middle of test?"},{"owner":{"account_id":12183468,"reputation":53,"user_id":8894247,"display_name":"alk1985"},"score":0,"creation_date":1522918706,"post_id":49665033,"comment_id":86346265,"body_markdown":"resetApp() uninstall and install the app for sure. I tried this method lot of times and confirmed. I want to clear the app from the background first then launch the app again.","body":"resetApp() uninstall and install the app for sure. I tried this method lot of times and confirmed. I want to clear the app from the background first then launch the app again."}],"answers":[{"tags":[],"owner":{"account_id":8440463,"reputation":882,"user_id":6333173,"accept_rate":33,"display_name":"Al Imran"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1522919381,"creation_date":1522919381,"answer_id":49668423,"question_id":49665033,"body_markdown":"You can try it, I think it will serve your purpose, use below line from where you want to launch the app  again\r\n\r\n    Activity activity = new Activity(&quot;appPackage&quot;, &quot;appActivity&quot;);\r\n    driver.startActivity(activity);","title":"How to hard close/force close/kill the app from memory in Android using Appium in the same test","body":"<p>You can try it, I think it will serve your purpose, use below line from where you want to launch the app  again</p>\n\n<pre><code>Activity activity = new Activity(\"appPackage\", \"appActivity\");\ndriver.startActivity(activity);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9202382,"reputation":966,"user_id":6838888,"display_name":"Vinod"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1523269870,"creation_date":1523269870,"answer_id":49730847,"question_id":49665033,"body_markdown":"Try below code and add this to the capability :\r\n\r\n    capabilities.setCapability(MobileCapabilityType.NO_RESET,&quot;false&quot;);\r\n\r\nIt should work as per your requirements.","title":"How to hard close/force close/kill the app from memory in Android using Appium in the same test","body":"<p>Try below code and add this to the capability :</p>\n\n<pre><code>capabilities.setCapability(MobileCapabilityType.NO_RESET,\"false\");\n</code></pre>\n\n<p>It should work as per your requirements.</p>\n"},{"tags":[],"owner":{"account_id":20717463,"reputation":190,"user_id":15212573,"display_name":"roudlek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691147860,"creation_date":1691147860,"answer_id":76835411,"question_id":49665033,"body_markdown":"using **appium 2**:\r\n\r\n\r\n    driver.terminateApp(&quot;app package of the app&quot;);\r\n\r\nto close the app, so you can open it again without closing it by hand, if you don&#39;t do this, it will open first time, second time will not, it is going to stay in the background, but it will be open after launching the test everytime, weither it is on back ground or not !","title":"How to hard close/force close/kill the app from memory in Android using Appium in the same test","body":"<p>using <strong>appium 2</strong>:</p>\n<pre><code>driver.terminateApp(&quot;app package of the app&quot;);\n</code></pre>\n<p>to close the app, so you can open it again without closing it by hand, if you don't do this, it will open first time, second time will not, it is going to stay in the background, but it will be open after launching the test everytime, weither it is on back ground or not !</p>\n"}],"owner":{"account_id":12183468,"reputation":53,"user_id":8894247,"display_name":"alk1985"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2213,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1691147860,"creation_date":1522907488,"question_id":49665033,"body_markdown":"**This is my scenario**\r\n\r\n 1. Launch the  app and perform some steps \r\n 2. Hardclose/Forceclose/Kill the app from memory/Should not run in background \r\n 3. Launch the app again\r\n 4. Perform some steps \r\n 5. Assertion step\r\n\r\nHow to achieve this?\r\n\r\n**I have tried the following methods**\r\n\r\n 1. `resetApp()` - it uninstall the app and install app again. \r\n 2. `closeApp()` - it just close the app but app is still running in the background.\r\n 3. `adb shell am force-stop &lt;packagename&gt;` - it just close the app but app is still running in the background.\r\n\r\nBut for my scenario it should delete from the background and app should not uninstall in **Android** in the same test (middle of the test).","title":"How to hard close/force close/kill the app from memory in Android using Appium in the same test","body":"<p><strong>This is my scenario</strong></p>\n\n<ol>\n<li>Launch the  app and perform some steps </li>\n<li>Hardclose/Forceclose/Kill the app from memory/Should not run in background </li>\n<li>Launch the app again</li>\n<li>Perform some steps </li>\n<li>Assertion step</li>\n</ol>\n\n<p>How to achieve this?</p>\n\n<p><strong>I have tried the following methods</strong></p>\n\n<ol>\n<li><code>resetApp()</code> - it uninstall the app and install app again. </li>\n<li><code>closeApp()</code> - it just close the app but app is still running in the background.</li>\n<li><code>adb shell am force-stop &lt;packagename&gt;</code> - it just close the app but app is still running in the background.</li>\n</ol>\n\n<p>But for my scenario it should delete from the background and app should not uninstall in <strong>Android</strong> in the same test (middle of the test).</p>\n"},{"tags":["java","docker","testing"],"comments":[{"owner":{"account_id":29159427,"reputation":11,"user_id":22338503,"display_name":"Sasailo"},"score":0,"creation_date":1691152886,"post_id":76835376,"comment_id":135456854,"body_markdown":"org.testcontainers.dockerclient.DockerMachineClientProviderStrategy -- docker-machine executable was not found on PATH\n\nIt cant find docker inside my maven-container","body":"org.testcontainers.dockerclient.DockerMachineClientProviderS&zwnj;&#8203;trategy -- docker-machine executable was not found on PATH  It cant find docker inside my maven-container"},{"owner":{"account_id":11555562,"reputation":316,"user_id":8466853,"display_name":"Arno"},"score":0,"creation_date":1701548998,"post_id":76835376,"comment_id":136790433,"body_markdown":"Testcontainers are usually used for unit testing during build. Why do you want to start it in docker-compose? Sounds like a worng use case to me.","body":"Testcontainers are usually used for unit testing during build. Why do you want to start it in docker-compose? Sounds like a worng use case to me."}],"owner":{"account_id":29159427,"reputation":11,"user_id":22338503,"display_name":"Sasailo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1691147780,"creation_date":1691147634,"question_id":76835376,"body_markdown":"I want to add testcontainer in my tests\r\n\r\n```    @Container\r\n    public static final PostgreSQLContainer&lt;?&gt; postgresContainer = new PostgreSQLContainer&lt;&gt;(&quot;postgres:13&quot;)\r\n            .withDatabaseName(&quot;TestTask_DB&quot;)\r\n            .withUsername(&quot;root&quot;)\r\n            .withPassword(&quot;root&quot;)\r\n            .withExposedPorts(5432);\r\n\r\n    static class Initializer implements ApplicationContextInitializer&lt;ConfigurableApplicationContext&gt; {\r\n        public void initialize(ConfigurableApplicationContext configurableApplicationContext) {\r\n            TestPropertyValues.of(\r\n                    &quot;spring.datasource.url=&quot; + postgresContainer.getJdbcUrl(),\r\n                    &quot;spring.datasource.username=&quot; + postgresContainer.getUsername(),\r\n                    &quot;spring.datasource.password=&quot; + postgresContainer.getPassword()\r\n            ).applyTo(configurableApplicationContext.getEnvironment());\r\n        }\r\n    }\r\n```\r\n\r\nWhen i start it from IDE - all ok. But if i use docker-compose up - it gives me an error. (mvn test is working)\r\n\r\nmy docker-compose file:\r\n\r\n```version: &#39;3.9&#39;\r\nservices:\r\n  app:\r\n    volumes:\r\n      - /var/run/docker.sock:/var/run/docker.sock\r\n    build:\r\n      context: .\r\n      dockerfile: Dockerfile\r\n    ports:\r\n      - &quot;8080:8080&quot;\r\n    depends_on:\r\n      - db\r\n      - testcontainer\r\n    environment:\r\n      SPRING_DATASOURCE_URL: jdbc:postgresql://db:54320/TestTask_DB\r\n      SPRING_DATASOURCE_USERNAME: root\r\n      SPRING_DATASOURCE_PASSWORD: root\r\n    restart: on-failure\r\n    command: bash -c &quot;sleep 15 &amp;&amp; java -jar /usr/app/TestTask-0.0.1-SNAPSHOT.jar&quot;\r\n\r\n  testcontainer:\r\n    image: postgres:13\r\n    environment:\r\n      POSTGRES_USER: root\r\n      POSTGRES_PASSWORD: root\r\n      POSTGRES_DB: TestTask_DB\r\n    ports:\r\n      - &quot;5432:5432&quot;\r\n\r\n  db:\r\n    image: postgres:13\r\n    environment:\r\n      POSTGRES_USER: root\r\n      POSTGRES_PASSWORD: root\r\n      POSTGRES_DB: TestTask_DB\r\n    ports:\r\n      - &quot;54320:5432&quot;\r\n```\r\n\r\nChatGPT cant help me :(\r\nHelp me please ...","title":"Error: TestTaskApplicationTests &#187; IllegalState Could not find a valid Docker environment. Please see logs and check configuration","body":"<p>I want to add testcontainer in my tests</p>\n<pre><code>    public static final PostgreSQLContainer&lt;?&gt; postgresContainer = new PostgreSQLContainer&lt;&gt;(&quot;postgres:13&quot;)\n            .withDatabaseName(&quot;TestTask_DB&quot;)\n            .withUsername(&quot;root&quot;)\n            .withPassword(&quot;root&quot;)\n            .withExposedPorts(5432);\n\n    static class Initializer implements ApplicationContextInitializer&lt;ConfigurableApplicationContext&gt; {\n        public void initialize(ConfigurableApplicationContext configurableApplicationContext) {\n            TestPropertyValues.of(\n                    &quot;spring.datasource.url=&quot; + postgresContainer.getJdbcUrl(),\n                    &quot;spring.datasource.username=&quot; + postgresContainer.getUsername(),\n                    &quot;spring.datasource.password=&quot; + postgresContainer.getPassword()\n            ).applyTo(configurableApplicationContext.getEnvironment());\n        }\n    }\n</code></pre>\n<p>When i start it from IDE - all ok. But if i use docker-compose up - it gives me an error. (mvn test is working)</p>\n<p>my docker-compose file:</p>\n<pre><code>services:\n  app:\n    volumes:\n      - /var/run/docker.sock:/var/run/docker.sock\n    build:\n      context: .\n      dockerfile: Dockerfile\n    ports:\n      - &quot;8080:8080&quot;\n    depends_on:\n      - db\n      - testcontainer\n    environment:\n      SPRING_DATASOURCE_URL: jdbc:postgresql://db:54320/TestTask_DB\n      SPRING_DATASOURCE_USERNAME: root\n      SPRING_DATASOURCE_PASSWORD: root\n    restart: on-failure\n    command: bash -c &quot;sleep 15 &amp;&amp; java -jar /usr/app/TestTask-0.0.1-SNAPSHOT.jar&quot;\n\n  testcontainer:\n    image: postgres:13\n    environment:\n      POSTGRES_USER: root\n      POSTGRES_PASSWORD: root\n      POSTGRES_DB: TestTask_DB\n    ports:\n      - &quot;5432:5432&quot;\n\n  db:\n    image: postgres:13\n    environment:\n      POSTGRES_USER: root\n      POSTGRES_PASSWORD: root\n      POSTGRES_DB: TestTask_DB\n    ports:\n      - &quot;54320:5432&quot;\n</code></pre>\n<p>ChatGPT cant help me :(\nHelp me please ...</p>\n"},{"tags":["java","openrewrite"],"comments":[{"owner":{"account_id":21852,"reputation":19896,"user_id":53444,"accept_rate":70,"display_name":"Tim"},"score":2,"creation_date":1690821418,"post_id":76805396,"comment_id":135403179,"body_markdown":"How large is your project in terms of files &amp; classes? For larger projects we typically see people need more memory, with instructions at the top here: https://docs.openrewrite.org/reference/faq","body":"How large is your project in terms of files &amp; classes? For larger projects we typically see people need more memory, with instructions at the top here: <a href=\"https://docs.openrewrite.org/reference/faq\" rel=\"nofollow noreferrer\">docs.openrewrite.org/reference/faq</a>"},{"owner":{"account_id":21852,"reputation":19896,"user_id":53444,"accept_rate":70,"display_name":"Tim"},"score":0,"creation_date":1690821495,"post_id":76805396,"comment_id":135403194,"body_markdown":"The `NoSuchMethodError` should already be fixed in the latest releases; can you expand the truncated stacktrace such that I know which recipe is involved there?","body":"The <code>NoSuchMethodError</code> should already be fixed in the latest releases; can you expand the truncated stacktrace such that I know which recipe is involved there?"},{"owner":{"account_id":14214190,"reputation":81,"user_id":10268546,"display_name":"Dana Georgescu"},"score":0,"creation_date":1690902491,"post_id":76805396,"comment_id":135416208,"body_markdown":"The project is large indeed. I tried using `-Xmx8G` like described and even `-Xmx16G` and I still get `java.lang.NoSuchMethodError`. I will add the stacktrace in the problem description.","body":"The project is large indeed. I tried using <code>-Xmx8G</code> like described and even <code>-Xmx16G</code> and I still get <code>java.lang.NoSuchMethodError</code>. I will add the stacktrace in the problem description."},{"owner":{"account_id":120605,"reputation":24173,"user_id":313137,"display_name":"Romain Hippeau"},"score":0,"creation_date":1690908337,"post_id":76805396,"comment_id":135417359,"body_markdown":"https://rollbar.com/blog/how-to-fix-java-lang-nosuchmethoderror-in-java/#:~:text=A%20java.-,lang.,object%2C%20which%20causes%20a%20java.","body":"<a href=\"https://rollbar.com/blog/how-to-fix-java-lang-nosuchmethoderror-in-java/#:~:text=A%20java.-,lang.,object%2C%20which%20causes%20a%20java\" rel=\"nofollow noreferrer\">rollbar.com/blog/how-to-fix-java-lang-nosuchmethoderror-in-j&zwnj;&#8203;ava/&hellip;</a>."},{"owner":{"account_id":21852,"reputation":19896,"user_id":53444,"accept_rate":70,"display_name":"Tim"},"score":0,"creation_date":1690994149,"post_id":76805396,"comment_id":135431556,"body_markdown":"The stacktrace indicates you&#39;ll want to upgrade to the latest rewrite-spring release; which is 5.0.7 as of today: https://github.com/openrewrite/rewrite-spring/releases","body":"The stacktrace indicates you&#39;ll want to upgrade to the latest rewrite-spring release; which is 5.0.7 as of today: <a href=\"https://github.com/openrewrite/rewrite-spring/releases\" rel=\"nofollow noreferrer\">github.com/openrewrite/rewrite-spring/releases</a>"},{"owner":{"account_id":21852,"reputation":19896,"user_id":53444,"accept_rate":70,"display_name":"Tim"},"score":0,"creation_date":1690994211,"post_id":76805396,"comment_id":135431566,"body_markdown":"That won&#39;t yet fix your OutOfMemoryErrors, and it&#39;s hard to say how much memory you would need for things to pass","body":"That won&#39;t yet fix your OutOfMemoryErrors, and it&#39;s hard to say how much memory you would need for things to pass"},{"owner":{"account_id":14214190,"reputation":81,"user_id":10268546,"display_name":"Dana Georgescu"},"score":0,"creation_date":1691147382,"post_id":76805396,"comment_id":135455750,"body_markdown":"Worked when adding VM options `-Xmx25G  -XX:+UnlockDiagnosticVMOptions -XX:GCLockerRetryAllocationCount=100`","body":"Worked when adding VM options <code>-Xmx25G  -XX:+UnlockDiagnosticVMOptions -XX:GCLockerRetryAllocationCount=100</code>"}],"answers":[{"tags":[],"owner":{"account_id":14214190,"reputation":81,"user_id":10268546,"display_name":"Dana Georgescu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1691147707,"creation_date":1691147707,"answer_id":76835390,"question_id":76805396,"body_markdown":"It finally worked when adding these VM options: `-Xmx25G -XX:+UnlockDiagnosticVMOptions XX:GCLockerRetryAllocationCount=100`. So basically I increased the Java Heap and increased the GCLockerRetryAllocationCount from the default value 2, to 100.\r\nThanks Tim for your comment.","title":"When updating from spring boot 2.7 to 3 with openrewrite I get a Java heap space error","body":"<p>It finally worked when adding these VM options: <code>-Xmx25G -XX:+UnlockDiagnosticVMOptions XX:GCLockerRetryAllocationCount=100</code>. So basically I increased the Java Heap and increased the GCLockerRetryAllocationCount from the default value 2, to 100.\nThanks Tim for your comment.</p>\n"}],"owner":{"account_id":14214190,"reputation":81,"user_id":10268546,"display_name":"Dana Georgescu"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":589,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76835390,"answer_count":1,"score":0,"last_activity_date":1691147707,"creation_date":1690819873,"question_id":76805396,"body_markdown":"I am trying to migrate from Spring Boot 2.7 to 3 using [openrewrite.recipe:rewrite-spring:5.0.3](https://docs.openrewrite.org/running-recipes/popular-recipe-guides/migrate-to-spring-3)\r\n\r\nI am using Java 17 and running the plugin in the command line like this:\r\n\r\n```\r\nmvn -U org.openrewrite.maven:rewrite-maven-plugin:run -Drewrite.recipeArtifactCoordinates=org.openrewrite.recipe:rewrite-spring:5.0.6 -Drewrite.activeRecipes=org.openrewrite.java.spring.boot3.UpgradeSpringBoot_3_1\r\n```\r\n\r\nI get a stdout GCLocker error:\r\n\r\n    [162.374s][warning][gc,alloc] ClassGraph-worker-687: Retried waiting for GCLocker too often allocating 2050 words\r\n\r\n\r\nThe plugin execution fails with the following OutOfMemoryError:\r\n\r\n```\r\n[ERROR] Failed to execute goal org.openrewrite.maven:rewrite-maven-plugin:5.3.2:run (default-cli) on project xxxxxxx: Execution default-cli of goal org.openrewrite.maven:rewrite-maven-plugin:5.3.2:run failed: Uncaught exception during scan: Java heap space -&gt; [Help 1]\r\norg.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.openrewrite.maven:rewrite-maven-plugin:5.3.2:run (default-cli) on project myproject: Execution default-cli of goal org.openrewrite.maven:rewrite-maven-plugin:5.3.2:run failed: Uncaught exception during scan\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:215)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\r\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\r\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\r\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\r\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:957)\r\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:289)\r\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:193)\r\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:77)\r\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n    at java.lang.reflect.Method.invoke (Method.java:568)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\r\n    at org.codehaus.classworlds.Launcher.main (Launcher.java:47)\r\nCaused by: org.apache.maven.plugin.PluginExecutionException: Execution default-cli of goal org.openrewrite.maven:rewrite-maven-plugin:5.3.2:run failed: Uncaught exception during scan\r\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:148)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:210)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\r\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\r\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\r\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\r\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:957)\r\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:289)\r\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:193)\r\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:77)\r\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n    at java.lang.reflect.Method.invoke (Method.java:568)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\r\n    at org.codehaus.classworlds.Launcher.main (Launcher.java:47)\r\nCaused by: io.github.classgraph.ClassGraphException: Uncaught exception during scan\r\n    at io.github.classgraph.ClassGraph.scan (ClassGraph.java:1610)\r\n    at io.github.classgraph.ClassGraph.scan (ClassGraph.java:1627)\r\n    at io.github.classgraph.ClassGraph.scan (ClassGraph.java:1640)\r\n    at org.openrewrite.java.marker.JavaSourceSet.build (JavaSourceSet.java:81)\r\n    at org.openrewrite.maven.MavenMojoProjectParser.sourceSet (MavenMojoProjectParser.java:371)\r\n    at org.openrewrite.maven.MavenMojoProjectParser.processMainSources (MavenMojoProjectParser.java:308)\r\n    at org.openrewrite.maven.MavenMojoProjectParser.listSourceFiles (MavenMojoProjectParser.java:172)\r\n    at org.openrewrite.maven.MavenMojoProjectParser.lambda$listSourceFiles$0 (MavenMojoProjectParser.java:145)\r\n    at java.util.stream.ReferencePipeline$7$1.accept (ReferencePipeline.java:273)\r\n    at java.util.ArrayList$ArrayListSpliterator.forEachRemaining (ArrayList.java:1625)\r\n    at java.util.stream.AbstractPipeline.copyInto (AbstractPipeline.java:509)\r\n    at java.util.stream.AbstractPipeline.wrapAndCopyInto (AbstractPipeline.java:499)\r\n    at java.util.stream.ReduceOps$ReduceOp.evaluateSequential (ReduceOps.java:921)\r\n    at java.util.stream.AbstractPipeline.evaluate (AbstractPipeline.java:234)\r\n    at java.util.stream.ReferencePipeline.collect (ReferencePipeline.java:682)\r\n    at org.openrewrite.maven.AbstractRewriteMojo.sourcesWithAutoDetectedStyles (AbstractRewriteMojo.java:281)\r\n    at org.openrewrite.maven.AbstractRewriteMojo.loadSourceSet (AbstractRewriteMojo.java:258)\r\n    at org.openrewrite.maven.AbstractRewriteMojo.listResults (AbstractRewriteMojo.java:239)\r\n    at org.openrewrite.maven.AbstractRewriteRunMojo.execute (AbstractRewriteRunMojo.java:53)\r\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:210)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\r\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\r\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\r\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\r\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:957)\r\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:289)\r\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:193)\r\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:77)\r\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n    at java.lang.reflect.Method.invoke (Method.java:568)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\r\n    at org.codehaus.classworlds.Launcher.main (Launcher.java:47)\r\nCaused by: java.lang.OutOfMemoryError: Java heap space\r\n    at nonapi.io.github.classgraph.fileslice.reader.ClassfileReader.&lt;init&gt; (ClassfileReader.java:150)\r\n    at io.github.classgraph.ClasspathElementZip$1.openClassfile (ClasspathElementZip.java:376)\r\n    at io.github.classgraph.Classfile.&lt;init&gt; (Classfile.java:2002)\r\n    at io.github.classgraph.Scanner$ClassfileScannerWorkUnitProcessor.processWorkUnit (Scanner.java:725)\r\n    at io.github.classgraph.Scanner$ClassfileScannerWorkUnitProcessor.processWorkUnit (Scanner.java:647)\r\n    at nonapi.io.github.classgraph.concurrency.WorkQueue.runWorkLoop (WorkQueue.java:246)\r\n    at nonapi.io.github.classgraph.concurrency.WorkQueue.access$000 (WorkQueue.java:50)\r\n    at nonapi.io.github.classgraph.concurrency.WorkQueue$1.call (WorkQueue.java:201)\r\n    at nonapi.io.github.classgraph.concurrency.WorkQueue$1.call (WorkQueue.java:198)\r\n    at java.util.concurrent.FutureTask.run (FutureTask.java:264)\r\n    at java.util.concurrent.ThreadPoolExecutor.runWorker (ThreadPoolExecutor.java:1136)\r\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run (ThreadPoolExecutor.java:635)\r\n    at java.lang.Thread.run (Thread.java:833)\r\n```\r\n\r\n\r\n\r\n\r\n\r\nAfter reading [this post about GCLocker OOM exceptions](https://tech.clevertap.com/demystifying-g1-gc-gclocker-jni-critical-and-fake-oom-exceptions/) , I reran the plugin the following VM options: \r\n\r\n    -XX:+UnlockDiagnosticVMOptions\r\n    -XX:GCLockerRetryAllocationCount=100\r\n\r\nThe plugin fails with NoSuchMethodError:\r\n\r\n```\r\nError while visiting MyClass.java: java.lang.NoSuchMethodError: &#39;void org.openrewrite.java.tree.J$Identifier.&lt;init&gt;(java.util.UUID, org.openrewrite.java.tree.Space, org.openrewrite.marker.Markers, java.util.List, java.lang.String, org.openrewrite.java.tree.JavaType, org.openrewrite.java.tree.JavaType$Variable)&#39;\r\n  org.openrewrite.staticanalysis.InstanceOfPatternMatch$InstanceOfPatternReplacements.processInstanceOf(InstanceOfPatternMatch.java:215)\r\n  org.openrewrite.staticanalysis.InstanceOfPatternMatch$UseInstanceOfPatternMatching.visitInstanceOf(InstanceOfPatternMatch.java:302)\r\n  org.openrewrite.staticanalysis.InstanceOfPatternMatch$UseInstanceOfPatternMatching.visitInstanceOf(InstanceOfPatternMatch.java:286)\r\n  org.openrewrite.java.tree.J$InstanceOf.acceptJava(J.java:2818)\r\n  org.openrewrite.java.tree.J.accept(J.java:59)\r\n  org.openrewrite.TreeVisitor.visit(TreeVisitor.java:278)\r\n  org.openrewrite.TreeVisitor.visitAndCast(TreeVisitor.java:361)\r\n  org.openrewrite.java.JavaVisitor.visitRightPadded(JavaVisitor.java:1283)\r\n  ...\r\n```\r\n\r\n\r\nI have also tried as suggested in the comments to increase Java Heap memory with flag:\r\n`-Xmx8G`. I still get a `NoSuchMethodError`.\r\n\r\nFull stacktrace:\r\n\r\n    [ERROR] Failed to execute goal org.openrewrite.maven:rewrite-maven-plugin:5.3.2:run (default-cli) on project myproject: Execution default-cli of goal org.openrewrite.maven:rewrite-maven-plugin:5.3.2:run failed: Error while visiting MyClass.java: java.lang.NoSuchMethodError: &#39;void org.openrewrite.java.tree.J$Identifier.&lt;init&gt;(java.util.UUID, org.openrewrite.java.tree.Space, org.openrewrite.marker.Markers, java.util.List\r\n    , java.lang.String, org.openrewrite.java.tree.JavaType, org.openrewrite.java.tree.JavaType$Variable)&#39;\r\n    [ERROR]   org.openrewrite.staticanalysis.InstanceOfPatternMatch$InstanceOfPatternReplacements.processInstanceOf(InstanceOfPatternMatch.java:215)\r\n    [ERROR]   org.openrewrite.staticanalysis.InstanceOfPatternMatch$UseInstanceOfPatternMatching.visitInstanceOf(InstanceOfPatternMatch.java:302)\r\n    [ERROR]   org.openrewrite.staticanalysis.InstanceOfPatternMatch$UseInstanceOfPatternMatching.visitInstanceOf(InstanceOfPatternMatch.java:286)\r\n    [ERROR]   org.openrewrite.java.tree.J$InstanceOf.acceptJava(J.java:2818)\r\n    [ERROR]   org.openrewrite.java.tree.J.accept(J.java:59)\r\n    [ERROR]   org.openrewrite.TreeVisitor.visit(TreeVisitor.java:278)\r\n    [ERROR]   org.openrewrite.TreeVisitor.visitAndCast(TreeVisitor.java:361)\r\n    [ERROR]   org.openrewrite.java.JavaVisitor.visitRightPadded(JavaVisitor.java:1283)\r\n    [ERROR]   ...\r\n    [ERROR] -&gt; [Help 1]\r\n    org.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.openrewrite.maven:rewrite-maven-plugin:5.3.2:run (default-cli) on project myproject: Execution default-cli of goal org.openrewrite.maven:rewrite-maven-plugin:5.3.2:run failed:\r\n     Error while visiting MyClass.java: java.lang.NoSuchMethodError: &#39;void org.openrewrite.java.tree.J$Identifier.&lt;init&gt;(java.util.UUID, org.openrewrite.java.tree.Space\r\n    , org.openrewrite.marker.Markers, java.util.List, java.lang.String, org.openrewrite.java.tree.JavaType, org.openrewrite.java.tree.JavaType$Variable)&#39;\r\n      org.openrewrite.staticanalysis.InstanceOfPatternMatch$InstanceOfPatternReplacements.processInstanceOf(InstanceOfPatternMatch.java:215)\r\n      org.openrewrite.staticanalysis.InstanceOfPatternMatch$UseInstanceOfPatternMatching.visitInstanceOf(InstanceOfPatternMatch.java:302)\r\n      org.openrewrite.staticanalysis.InstanceOfPatternMatch$UseInstanceOfPatternMatching.visitInstanceOf(InstanceOfPatternMatch.java:286)\r\n      org.openrewrite.java.tree.J$InstanceOf.acceptJava(J.java:2818)\r\n      org.openrewrite.java.tree.J.accept(J.java:59)\r\n      org.openrewrite.TreeVisitor.visit(TreeVisitor.java:278)\r\n      org.openrewrite.TreeVisitor.visitAndCast(TreeVisitor.java:361)\r\n      org.openrewrite.java.JavaVisitor.visitRightPadded(JavaVisitor.java:1283)\r\n      ...\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:215)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\r\n        at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\r\n        at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\r\n        at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\r\n        at org.apache.maven.cli.MavenCli.execute (MavenCli.java:972)\r\n        at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:293)\r\n        at org.apache.maven.cli.MavenCli.main (MavenCli.java:196)\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:77)\r\n        at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke (Method.java:568)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\r\n    Caused by: org.apache.maven.plugin.PluginExecutionException: Execution default-cli of goal org.openrewrite.maven:rewrite-maven-plugin:5.3.2:run failed: Error while visiting MyClass.java: &#39;void org.openrewrite.java.tree.J$Identifier.&lt;init&gt;(java.util.UUID, org.openrewrite.java.tree.Space, org.openrewrite.marker.Markers, java.util.List, java.lang.String, org.openrewrite.java.tree.JavaType, org.ope\r\n    nrewrite.java.tree.JavaType$Variable)&#39;\r\n      org.openrewrite.staticanalysis.InstanceOfPatternMatch$InstanceOfPatternReplacements.processInstanceOf(InstanceOfPatternMatch.java:215)\r\n      org.openrewrite.staticanalysis.InstanceOfPatternMatch$UseInstanceOfPatternMatching.visitInstanceOf(InstanceOfPatternMatch.java:302)\r\n      org.openrewrite.staticanalysis.InstanceOfPatternMatch$UseInstanceOfPatternMatching.visitInstanceOf(InstanceOfPatternMatch.java:286)\r\n      org.openrewrite.java.tree.J$InstanceOf.acceptJava(J.java:2818)\r\n      org.openrewrite.java.tree.J.accept(J.java:59)\r\n      org.openrewrite.TreeVisitor.visit(TreeVisitor.java:278)\r\n      org.openrewrite.TreeVisitor.visitAndCast(TreeVisitor.java:361)\r\n      org.openrewrite.java.JavaVisitor.visitRightPadded(JavaVisitor.java:1283)\r\n      ...\r\n        at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:148)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:210)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\r\n        at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\r\n        at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\r\n        at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\r\n        at org.apache.maven.cli.MavenCli.execute (MavenCli.java:972)\r\n        at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:293)\r\n        at org.apache.maven.cli.MavenCli.main (MavenCli.java:196)\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:77)\r\n        at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke (Method.java:568)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\r\n    Caused by: java.lang.RuntimeException: Error while visiting MyClass.java: java.lang.NoSuchMethodError: &#39;void org.openrewrite.java.tree.J$Identifier.&lt;init&gt;(java.util\r\n    .UUID, org.openrewrite.java.tree.Space, org.openrewrite.marker.Markers, java.util.List, java.lang.String, org.openrewrite.java.tree.JavaType, org.openrewrite.java.tree.JavaType$Variable)&#39;\r\n      org.openrewrite.staticanalysis.InstanceOfPatternMatch$InstanceOfPatternReplacements.processInstanceOf(InstanceOfPatternMatch.java:215)\r\n      org.openrewrite.staticanalysis.InstanceOfPatternMatch$UseInstanceOfPatternMatching.visitInstanceOf(InstanceOfPatternMatch.java:302)\r\n      org.openrewrite.staticanalysis.InstanceOfPatternMatch$UseInstanceOfPatternMatching.visitInstanceOf(InstanceOfPatternMatch.java:286)\r\n      org.openrewrite.java.tree.J$InstanceOf.acceptJava(J.java:2818)\r\n      org.openrewrite.java.tree.J.accept(J.java:59)\r\n      org.openrewrite.TreeVisitor.visit(TreeVisitor.java:278)\r\n      org.openrewrite.TreeVisitor.visitAndCast(TreeVisitor.java:361)\r\n      org.openrewrite.java.JavaVisitor.visitRightPadded(JavaVisitor.java:1283)\r\n      ...\r\n        at org.openrewrite.maven.AbstractRewriteMojo$ResultsContainer$1.lambda$preVisit$0 (AbstractRewriteMojo.java:417)\r\n        at java.util.Optional.ifPresent (Optional.java:178)\r\n        at org.openrewrite.maven.AbstractRewriteMojo$ResultsContainer$1.preVisit (AbstractRewriteMojo.java:414)\r\n        at org.openrewrite.maven.AbstractRewriteMojo$ResultsContainer$1.preVisit (AbstractRewriteMojo.java:410)\r\n        at org.openrewrite.maven.AbstractRewriteMojo_ResultsContainer_1_JavaVisitor.preVisit (AbstractRewriteMojo_ResultsContainer_1_JavaVisitor.zig:81)\r\n        at org.openrewrite.TreeVisitor.visit (TreeVisitor.java:275)\r\n        at org.openrewrite.TreeVisitor.visitAndCast (TreeVisitor.java:361)\r\n        at org.openrewrite.java.JavaVisitor.visitRightPadded (JavaVisitor.java:1283)\r\n        at org.openrewrite.java.JavaVisitor.visitControlParentheses (JavaVisitor.java:495)\r\n        at org.openrewrite.java.tree.J$ControlParentheses.acceptJava (J.java:4512)\r\n        at org.openrewrite.java.tree.J.accept (J.java:59)\r\n        at org.openrewrite.TreeVisitor.visit (TreeVisitor.java:278)\r\n        at org.openrewrite.TreeVisitor.visitAndCast (TreeVisitor.java:361)\r\n        at org.openrewrite.java.JavaVisitor.visitIf (JavaVisitor.java:663)\r\n        at org.openrewrite.java.tree.J$If.acceptJava (J.java:2432)\r\n        at org.openrewrite.java.tree.J.accept (J.java:59)\r\n        at org.openrewrite.TreeVisitor.visit (TreeVisitor.java:278)\r\n        at org.openrewrite.TreeVisitor.visitAndCast (TreeVisitor.java:361)\r\n        at org.openrewrite.java.JavaVisitor.visitRightPadded (JavaVisitor.java:1283)\r\n        at org.openrewrite.java.JavaVisitor.lambda$visitBlock$4 (JavaVisitor.java:366)\r\n        at org.openrewrite.internal.ListUtils.map (ListUtils.java:176)\r\n        at org.openrewrite.java.JavaVisitor.visitBlock (JavaVisitor.java:365)\r\n        at org.openrewrite.java.tree.J$Block.acceptJava (J.java:767)\r\n        at org.openrewrite.java.tree.J.accept (J.java:59)\r\n        at org.openrewrite.TreeVisitor.visit (TreeVisitor.java:278)\r\n        at org.openrewrite.TreeVisitor.visitAndCast (TreeVisitor.java:361)\r\n        at org.openrewrite.java.JavaVisitor.visitMethodDeclaration (JavaVisitor.java:816)\r\n        at org.openrewrite.java.tree.J$MethodDeclaration.acceptJava (J.java:3448)\r\n        at org.openrewrite.java.tree.J.accept (J.java:59)\r\n        at org.openrewrite.TreeVisitor.visit (TreeVisitor.java:278)\r\n        at org.openrewrite.TreeVisitor.visitAndCast (TreeVisitor.java:361)\r\n        at org.openrewrite.java.JavaVisitor.visitRightPadded (JavaVisitor.java:1283)\r\n        at org.openrewrite.java.JavaVisitor.lambda$visitBlock$4 (JavaVisitor.java:366)\r\n        at org.openrewrite.internal.ListUtils.map (ListUtils.java:176)\r\n        at org.openrewrite.java.JavaVisitor.visitBlock (JavaVisitor.java:365)\r\n        at org.openrewrite.java.tree.J$Block.acceptJava (J.java:767)\r\n        at org.openrewrite.java.tree.J.accept (J.java:59)\r\n        at org.openrewrite.TreeVisitor.visit (TreeVisitor.java:278)\r\n        at org.openrewrite.TreeVisitor.visitAndCast (TreeVisitor.java:361)\r\n        at org.openrewrite.java.JavaVisitor.visitClassDeclaration (JavaVisitor.java:453)\r\n        at org.openrewrite.java.tree.J$ClassDeclaration.acceptJava (J.java:1217)\r\n        at org.openrewrite.java.tree.J.accept (J.java:59)\r\n        at org.openrewrite.TreeVisitor.visit (TreeVisitor.java:278)\r\n        at org.openrewrite.TreeVisitor.visitAndCast (TreeVisitor.java:361)\r\n        at org.openrewrite.java.JavaVisitor.lambda$visitCompilationUnit$10 (JavaVisitor.java:466)\r\n        at org.openrewrite.internal.ListUtils.map (ListUtils.java:176)\r\n        at org.openrewrite.java.JavaVisitor.visitCompilationUnit (JavaVisitor.java:466)\r\n        at org.openrewrite.java.tree.J$CompilationUnit.acceptJava (J.java:1520)\r\n        at org.openrewrite.java.tree.J.accept (J.java:59)\r\n        at org.openrewrite.TreeVisitor.visit (TreeVisitor.java:278)\r\n        at org.openrewrite.maven.AbstractRewriteMojo$ResultsContainer.getRecipeErrors (AbstractRewriteMojo.java:421)\r\n        at org.openrewrite.maven.AbstractRewriteMojo$ResultsContainer.getFirstException (AbstractRewriteMojo.java:401)\r\n        at org.openrewrite.maven.AbstractRewriteRunMojo.execute (AbstractRewriteRunMojo.java:54)\r\n        at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:210)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\r\n        at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\r\n    \r\n        at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\r\n        at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\r\n        at org.apache.maven.cli.MavenCli.execute (MavenCli.java:972)\r\n        at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:293)\r\n        at org.apache.maven.cli.MavenCli.main (MavenCli.java:196)\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:77)\r\n        at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke (Method.java:568)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\r\n    [ERROR]\r\n    [ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n\r\nAny idea how to fix this?\r\n\r\nLater edit:\r\nIt finally worked with a huge Java Heap: `-Xmx25G` and also adding these VM options: ` -XX:+UnlockDiagnosticVMOptions XX:GCLockerRetryAllocationCount=100`","title":"When updating from spring boot 2.7 to 3 with openrewrite I get a Java heap space error","body":"<p>I am trying to migrate from Spring Boot 2.7 to 3 using <a href=\"https://docs.openrewrite.org/running-recipes/popular-recipe-guides/migrate-to-spring-3\" rel=\"nofollow noreferrer\">openrewrite.recipe:rewrite-spring:5.0.3</a></p>\n<p>I am using Java 17 and running the plugin in the command line like this:</p>\n<pre><code>mvn -U org.openrewrite.maven:rewrite-maven-plugin:run -Drewrite.recipeArtifactCoordinates=org.openrewrite.recipe:rewrite-spring:5.0.6 -Drewrite.activeRecipes=org.openrewrite.java.spring.boot3.UpgradeSpringBoot_3_1\n</code></pre>\n<p>I get a stdout GCLocker error:</p>\n<pre><code>[162.374s][warning][gc,alloc] ClassGraph-worker-687: Retried waiting for GCLocker too often allocating 2050 words\n</code></pre>\n<p>The plugin execution fails with the following OutOfMemoryError:</p>\n<pre><code>[ERROR] Failed to execute goal org.openrewrite.maven:rewrite-maven-plugin:5.3.2:run (default-cli) on project xxxxxxx: Execution default-cli of goal org.openrewrite.maven:rewrite-maven-plugin:5.3.2:run failed: Uncaught exception during scan: Java heap space -&gt; [Help 1]\norg.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.openrewrite.maven:rewrite-maven-plugin:5.3.2:run (default-cli) on project myproject: Execution default-cli of goal org.openrewrite.maven:rewrite-maven-plugin:5.3.2:run failed: Uncaught exception during scan\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:215)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:957)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:289)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:193)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:77)\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:568)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\n    at org.codehaus.classworlds.Launcher.main (Launcher.java:47)\nCaused by: org.apache.maven.plugin.PluginExecutionException: Execution default-cli of goal org.openrewrite.maven:rewrite-maven-plugin:5.3.2:run failed: Uncaught exception during scan\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:148)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:210)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:957)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:289)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:193)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:77)\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:568)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\n    at org.codehaus.classworlds.Launcher.main (Launcher.java:47)\nCaused by: io.github.classgraph.ClassGraphException: Uncaught exception during scan\n    at io.github.classgraph.ClassGraph.scan (ClassGraph.java:1610)\n    at io.github.classgraph.ClassGraph.scan (ClassGraph.java:1627)\n    at io.github.classgraph.ClassGraph.scan (ClassGraph.java:1640)\n    at org.openrewrite.java.marker.JavaSourceSet.build (JavaSourceSet.java:81)\n    at org.openrewrite.maven.MavenMojoProjectParser.sourceSet (MavenMojoProjectParser.java:371)\n    at org.openrewrite.maven.MavenMojoProjectParser.processMainSources (MavenMojoProjectParser.java:308)\n    at org.openrewrite.maven.MavenMojoProjectParser.listSourceFiles (MavenMojoProjectParser.java:172)\n    at org.openrewrite.maven.MavenMojoProjectParser.lambda$listSourceFiles$0 (MavenMojoProjectParser.java:145)\n    at java.util.stream.ReferencePipeline$7$1.accept (ReferencePipeline.java:273)\n    at java.util.ArrayList$ArrayListSpliterator.forEachRemaining (ArrayList.java:1625)\n    at java.util.stream.AbstractPipeline.copyInto (AbstractPipeline.java:509)\n    at java.util.stream.AbstractPipeline.wrapAndCopyInto (AbstractPipeline.java:499)\n    at java.util.stream.ReduceOps$ReduceOp.evaluateSequential (ReduceOps.java:921)\n    at java.util.stream.AbstractPipeline.evaluate (AbstractPipeline.java:234)\n    at java.util.stream.ReferencePipeline.collect (ReferencePipeline.java:682)\n    at org.openrewrite.maven.AbstractRewriteMojo.sourcesWithAutoDetectedStyles (AbstractRewriteMojo.java:281)\n    at org.openrewrite.maven.AbstractRewriteMojo.loadSourceSet (AbstractRewriteMojo.java:258)\n    at org.openrewrite.maven.AbstractRewriteMojo.listResults (AbstractRewriteMojo.java:239)\n    at org.openrewrite.maven.AbstractRewriteRunMojo.execute (AbstractRewriteRunMojo.java:53)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:210)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:957)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:289)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:193)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:77)\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:568)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\n    at org.codehaus.classworlds.Launcher.main (Launcher.java:47)\nCaused by: java.lang.OutOfMemoryError: Java heap space\n    at nonapi.io.github.classgraph.fileslice.reader.ClassfileReader.&lt;init&gt; (ClassfileReader.java:150)\n    at io.github.classgraph.ClasspathElementZip$1.openClassfile (ClasspathElementZip.java:376)\n    at io.github.classgraph.Classfile.&lt;init&gt; (Classfile.java:2002)\n    at io.github.classgraph.Scanner$ClassfileScannerWorkUnitProcessor.processWorkUnit (Scanner.java:725)\n    at io.github.classgraph.Scanner$ClassfileScannerWorkUnitProcessor.processWorkUnit (Scanner.java:647)\n    at nonapi.io.github.classgraph.concurrency.WorkQueue.runWorkLoop (WorkQueue.java:246)\n    at nonapi.io.github.classgraph.concurrency.WorkQueue.access$000 (WorkQueue.java:50)\n    at nonapi.io.github.classgraph.concurrency.WorkQueue$1.call (WorkQueue.java:201)\n    at nonapi.io.github.classgraph.concurrency.WorkQueue$1.call (WorkQueue.java:198)\n    at java.util.concurrent.FutureTask.run (FutureTask.java:264)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker (ThreadPoolExecutor.java:1136)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run (ThreadPoolExecutor.java:635)\n    at java.lang.Thread.run (Thread.java:833)\n</code></pre>\n<p>After reading <a href=\"https://tech.clevertap.com/demystifying-g1-gc-gclocker-jni-critical-and-fake-oom-exceptions/\" rel=\"nofollow noreferrer\">this post about GCLocker OOM exceptions</a> , I reran the plugin the following VM options:</p>\n<pre><code>-XX:+UnlockDiagnosticVMOptions\n-XX:GCLockerRetryAllocationCount=100\n</code></pre>\n<p>The plugin fails with NoSuchMethodError:</p>\n<pre><code>Error while visiting MyClass.java: java.lang.NoSuchMethodError: 'void org.openrewrite.java.tree.J$Identifier.&lt;init&gt;(java.util.UUID, org.openrewrite.java.tree.Space, org.openrewrite.marker.Markers, java.util.List, java.lang.String, org.openrewrite.java.tree.JavaType, org.openrewrite.java.tree.JavaType$Variable)'\n  org.openrewrite.staticanalysis.InstanceOfPatternMatch$InstanceOfPatternReplacements.processInstanceOf(InstanceOfPatternMatch.java:215)\n  org.openrewrite.staticanalysis.InstanceOfPatternMatch$UseInstanceOfPatternMatching.visitInstanceOf(InstanceOfPatternMatch.java:302)\n  org.openrewrite.staticanalysis.InstanceOfPatternMatch$UseInstanceOfPatternMatching.visitInstanceOf(InstanceOfPatternMatch.java:286)\n  org.openrewrite.java.tree.J$InstanceOf.acceptJava(J.java:2818)\n  org.openrewrite.java.tree.J.accept(J.java:59)\n  org.openrewrite.TreeVisitor.visit(TreeVisitor.java:278)\n  org.openrewrite.TreeVisitor.visitAndCast(TreeVisitor.java:361)\n  org.openrewrite.java.JavaVisitor.visitRightPadded(JavaVisitor.java:1283)\n  ...\n</code></pre>\n<p>I have also tried as suggested in the comments to increase Java Heap memory with flag:\n<code>-Xmx8G</code>. I still get a <code>NoSuchMethodError</code>.</p>\n<p>Full stacktrace:</p>\n<pre><code>[ERROR] Failed to execute goal org.openrewrite.maven:rewrite-maven-plugin:5.3.2:run (default-cli) on project myproject: Execution default-cli of goal org.openrewrite.maven:rewrite-maven-plugin:5.3.2:run failed: Error while visiting MyClass.java: java.lang.NoSuchMethodError: 'void org.openrewrite.java.tree.J$Identifier.&lt;init&gt;(java.util.UUID, org.openrewrite.java.tree.Space, org.openrewrite.marker.Markers, java.util.List\n, java.lang.String, org.openrewrite.java.tree.JavaType, org.openrewrite.java.tree.JavaType$Variable)'\n[ERROR]   org.openrewrite.staticanalysis.InstanceOfPatternMatch$InstanceOfPatternReplacements.processInstanceOf(InstanceOfPatternMatch.java:215)\n[ERROR]   org.openrewrite.staticanalysis.InstanceOfPatternMatch$UseInstanceOfPatternMatching.visitInstanceOf(InstanceOfPatternMatch.java:302)\n[ERROR]   org.openrewrite.staticanalysis.InstanceOfPatternMatch$UseInstanceOfPatternMatching.visitInstanceOf(InstanceOfPatternMatch.java:286)\n[ERROR]   org.openrewrite.java.tree.J$InstanceOf.acceptJava(J.java:2818)\n[ERROR]   org.openrewrite.java.tree.J.accept(J.java:59)\n[ERROR]   org.openrewrite.TreeVisitor.visit(TreeVisitor.java:278)\n[ERROR]   org.openrewrite.TreeVisitor.visitAndCast(TreeVisitor.java:361)\n[ERROR]   org.openrewrite.java.JavaVisitor.visitRightPadded(JavaVisitor.java:1283)\n[ERROR]   ...\n[ERROR] -&gt; [Help 1]\norg.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.openrewrite.maven:rewrite-maven-plugin:5.3.2:run (default-cli) on project myproject: Execution default-cli of goal org.openrewrite.maven:rewrite-maven-plugin:5.3.2:run failed:\n Error while visiting MyClass.java: java.lang.NoSuchMethodError: 'void org.openrewrite.java.tree.J$Identifier.&lt;init&gt;(java.util.UUID, org.openrewrite.java.tree.Space\n, org.openrewrite.marker.Markers, java.util.List, java.lang.String, org.openrewrite.java.tree.JavaType, org.openrewrite.java.tree.JavaType$Variable)'\n  org.openrewrite.staticanalysis.InstanceOfPatternMatch$InstanceOfPatternReplacements.processInstanceOf(InstanceOfPatternMatch.java:215)\n  org.openrewrite.staticanalysis.InstanceOfPatternMatch$UseInstanceOfPatternMatching.visitInstanceOf(InstanceOfPatternMatch.java:302)\n  org.openrewrite.staticanalysis.InstanceOfPatternMatch$UseInstanceOfPatternMatching.visitInstanceOf(InstanceOfPatternMatch.java:286)\n  org.openrewrite.java.tree.J$InstanceOf.acceptJava(J.java:2818)\n  org.openrewrite.java.tree.J.accept(J.java:59)\n  org.openrewrite.TreeVisitor.visit(TreeVisitor.java:278)\n  org.openrewrite.TreeVisitor.visitAndCast(TreeVisitor.java:361)\n  org.openrewrite.java.JavaVisitor.visitRightPadded(JavaVisitor.java:1283)\n  ...\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:215)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:972)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:293)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:196)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:77)\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:568)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\nCaused by: org.apache.maven.plugin.PluginExecutionException: Execution default-cli of goal org.openrewrite.maven:rewrite-maven-plugin:5.3.2:run failed: Error while visiting MyClass.java: 'void org.openrewrite.java.tree.J$Identifier.&lt;init&gt;(java.util.UUID, org.openrewrite.java.tree.Space, org.openrewrite.marker.Markers, java.util.List, java.lang.String, org.openrewrite.java.tree.JavaType, org.ope\nnrewrite.java.tree.JavaType$Variable)'\n  org.openrewrite.staticanalysis.InstanceOfPatternMatch$InstanceOfPatternReplacements.processInstanceOf(InstanceOfPatternMatch.java:215)\n  org.openrewrite.staticanalysis.InstanceOfPatternMatch$UseInstanceOfPatternMatching.visitInstanceOf(InstanceOfPatternMatch.java:302)\n  org.openrewrite.staticanalysis.InstanceOfPatternMatch$UseInstanceOfPatternMatching.visitInstanceOf(InstanceOfPatternMatch.java:286)\n  org.openrewrite.java.tree.J$InstanceOf.acceptJava(J.java:2818)\n  org.openrewrite.java.tree.J.accept(J.java:59)\n  org.openrewrite.TreeVisitor.visit(TreeVisitor.java:278)\n  org.openrewrite.TreeVisitor.visitAndCast(TreeVisitor.java:361)\n  org.openrewrite.java.JavaVisitor.visitRightPadded(JavaVisitor.java:1283)\n  ...\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:148)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:210)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:972)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:293)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:196)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:77)\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:568)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\nCaused by: java.lang.RuntimeException: Error while visiting MyClass.java: java.lang.NoSuchMethodError: 'void org.openrewrite.java.tree.J$Identifier.&lt;init&gt;(java.util\n.UUID, org.openrewrite.java.tree.Space, org.openrewrite.marker.Markers, java.util.List, java.lang.String, org.openrewrite.java.tree.JavaType, org.openrewrite.java.tree.JavaType$Variable)'\n  org.openrewrite.staticanalysis.InstanceOfPatternMatch$InstanceOfPatternReplacements.processInstanceOf(InstanceOfPatternMatch.java:215)\n  org.openrewrite.staticanalysis.InstanceOfPatternMatch$UseInstanceOfPatternMatching.visitInstanceOf(InstanceOfPatternMatch.java:302)\n  org.openrewrite.staticanalysis.InstanceOfPatternMatch$UseInstanceOfPatternMatching.visitInstanceOf(InstanceOfPatternMatch.java:286)\n  org.openrewrite.java.tree.J$InstanceOf.acceptJava(J.java:2818)\n  org.openrewrite.java.tree.J.accept(J.java:59)\n  org.openrewrite.TreeVisitor.visit(TreeVisitor.java:278)\n  org.openrewrite.TreeVisitor.visitAndCast(TreeVisitor.java:361)\n  org.openrewrite.java.JavaVisitor.visitRightPadded(JavaVisitor.java:1283)\n  ...\n    at org.openrewrite.maven.AbstractRewriteMojo$ResultsContainer$1.lambda$preVisit$0 (AbstractRewriteMojo.java:417)\n    at java.util.Optional.ifPresent (Optional.java:178)\n    at org.openrewrite.maven.AbstractRewriteMojo$ResultsContainer$1.preVisit (AbstractRewriteMojo.java:414)\n    at org.openrewrite.maven.AbstractRewriteMojo$ResultsContainer$1.preVisit (AbstractRewriteMojo.java:410)\n    at org.openrewrite.maven.AbstractRewriteMojo_ResultsContainer_1_JavaVisitor.preVisit (AbstractRewriteMojo_ResultsContainer_1_JavaVisitor.zig:81)\n    at org.openrewrite.TreeVisitor.visit (TreeVisitor.java:275)\n    at org.openrewrite.TreeVisitor.visitAndCast (TreeVisitor.java:361)\n    at org.openrewrite.java.JavaVisitor.visitRightPadded (JavaVisitor.java:1283)\n    at org.openrewrite.java.JavaVisitor.visitControlParentheses (JavaVisitor.java:495)\n    at org.openrewrite.java.tree.J$ControlParentheses.acceptJava (J.java:4512)\n    at org.openrewrite.java.tree.J.accept (J.java:59)\n    at org.openrewrite.TreeVisitor.visit (TreeVisitor.java:278)\n    at org.openrewrite.TreeVisitor.visitAndCast (TreeVisitor.java:361)\n    at org.openrewrite.java.JavaVisitor.visitIf (JavaVisitor.java:663)\n    at org.openrewrite.java.tree.J$If.acceptJava (J.java:2432)\n    at org.openrewrite.java.tree.J.accept (J.java:59)\n    at org.openrewrite.TreeVisitor.visit (TreeVisitor.java:278)\n    at org.openrewrite.TreeVisitor.visitAndCast (TreeVisitor.java:361)\n    at org.openrewrite.java.JavaVisitor.visitRightPadded (JavaVisitor.java:1283)\n    at org.openrewrite.java.JavaVisitor.lambda$visitBlock$4 (JavaVisitor.java:366)\n    at org.openrewrite.internal.ListUtils.map (ListUtils.java:176)\n    at org.openrewrite.java.JavaVisitor.visitBlock (JavaVisitor.java:365)\n    at org.openrewrite.java.tree.J$Block.acceptJava (J.java:767)\n    at org.openrewrite.java.tree.J.accept (J.java:59)\n    at org.openrewrite.TreeVisitor.visit (TreeVisitor.java:278)\n    at org.openrewrite.TreeVisitor.visitAndCast (TreeVisitor.java:361)\n    at org.openrewrite.java.JavaVisitor.visitMethodDeclaration (JavaVisitor.java:816)\n    at org.openrewrite.java.tree.J$MethodDeclaration.acceptJava (J.java:3448)\n    at org.openrewrite.java.tree.J.accept (J.java:59)\n    at org.openrewrite.TreeVisitor.visit (TreeVisitor.java:278)\n    at org.openrewrite.TreeVisitor.visitAndCast (TreeVisitor.java:361)\n    at org.openrewrite.java.JavaVisitor.visitRightPadded (JavaVisitor.java:1283)\n    at org.openrewrite.java.JavaVisitor.lambda$visitBlock$4 (JavaVisitor.java:366)\n    at org.openrewrite.internal.ListUtils.map (ListUtils.java:176)\n    at org.openrewrite.java.JavaVisitor.visitBlock (JavaVisitor.java:365)\n    at org.openrewrite.java.tree.J$Block.acceptJava (J.java:767)\n    at org.openrewrite.java.tree.J.accept (J.java:59)\n    at org.openrewrite.TreeVisitor.visit (TreeVisitor.java:278)\n    at org.openrewrite.TreeVisitor.visitAndCast (TreeVisitor.java:361)\n    at org.openrewrite.java.JavaVisitor.visitClassDeclaration (JavaVisitor.java:453)\n    at org.openrewrite.java.tree.J$ClassDeclaration.acceptJava (J.java:1217)\n    at org.openrewrite.java.tree.J.accept (J.java:59)\n    at org.openrewrite.TreeVisitor.visit (TreeVisitor.java:278)\n    at org.openrewrite.TreeVisitor.visitAndCast (TreeVisitor.java:361)\n    at org.openrewrite.java.JavaVisitor.lambda$visitCompilationUnit$10 (JavaVisitor.java:466)\n    at org.openrewrite.internal.ListUtils.map (ListUtils.java:176)\n    at org.openrewrite.java.JavaVisitor.visitCompilationUnit (JavaVisitor.java:466)\n    at org.openrewrite.java.tree.J$CompilationUnit.acceptJava (J.java:1520)\n    at org.openrewrite.java.tree.J.accept (J.java:59)\n    at org.openrewrite.TreeVisitor.visit (TreeVisitor.java:278)\n    at org.openrewrite.maven.AbstractRewriteMojo$ResultsContainer.getRecipeErrors (AbstractRewriteMojo.java:421)\n    at org.openrewrite.maven.AbstractRewriteMojo$ResultsContainer.getFirstException (AbstractRewriteMojo.java:401)\n    at org.openrewrite.maven.AbstractRewriteRunMojo.execute (AbstractRewriteRunMojo.java:54)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:210)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\n\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:972)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:293)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:196)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:77)\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:568)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\n[ERROR]\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n</code></pre>\n<p>Any idea how to fix this?</p>\n<p>Later edit:\nIt finally worked with a huge Java Heap: <code>-Xmx25G</code> and also adding these VM options: <code> -XX:+UnlockDiagnosticVMOptions XX:GCLockerRetryAllocationCount=100</code></p>\n"},{"tags":["java","mongodb","spring-boot","intellij-idea","path"],"comments":[{"owner":{"account_id":13141180,"reputation":4284,"user_id":9492730,"display_name":"dododo"},"score":0,"creation_date":1691140545,"post_id":76834352,"comment_id":135454540,"body_markdown":"You should add a path to mongocryptd binary into PATH. `/usr/local/bin/bin` doesn&#39;t look like correct path.","body":"You should add a path to mongocryptd binary into PATH. <code>&#47;usr&#47;local&#47;bin&#47;bin</code> doesn&#39;t look like correct path."},{"owner":{"account_id":13141180,"reputation":4284,"user_id":9492730,"display_name":"dododo"},"score":0,"creation_date":1691140729,"post_id":76834352,"comment_id":135454572,"body_markdown":"see also a #2 about mongocryptd configuration here https://stackoverflow.com/questions/70154963/unable-understand-how-to-install-libmongocrypt/70159362#70159362","body":"see also a #2 about mongocryptd configuration here <a href=\"https://stackoverflow.com/questions/70154963/unable-understand-how-to-install-libmongocrypt/70159362#70159362\" title=\"unable understand how to install libmongocrypt\">stackoverflow.com/questions/70154963/&hellip;</a>"},{"owner":{"account_id":24429333,"reputation":39,"user_id":18354478,"display_name":"harsh agarwal"},"score":0,"creation_date":1691143044,"post_id":76834352,"comment_id":135455013,"body_markdown":"@dododo the path is correct .. I have checked it..it contains mongocryptd","body":"@dododo the path is correct .. I have checked it..it contains mongocryptd"},{"owner":{"account_id":24429333,"reputation":39,"user_id":18354478,"display_name":"harsh agarwal"},"score":0,"creation_date":1691143415,"post_id":76834352,"comment_id":135455089,"body_markdown":"Also i have tried running it manually..","body":"Also i have tried running it manually.."},{"owner":{"account_id":13141180,"reputation":4284,"user_id":9492730,"display_name":"dododo"},"score":0,"creation_date":1691148043,"post_id":76834352,"comment_id":135455889,"body_markdown":"with doubled `bin`? If you did everything correct, you can open any terminal in any folder and just type: `mongocryptd` and it should work","body":"with doubled <code>bin</code>? If you did everything correct, you can open any terminal in any folder and just type: <code>mongocryptd</code> and it should work"},{"owner":{"account_id":24429333,"reputation":39,"user_id":18354478,"display_name":"harsh agarwal"},"score":0,"creation_date":1691384329,"post_id":76834352,"comment_id":135478867,"body_markdown":"@dododo it shows command not found..","body":"@dododo it shows command not found.."},{"owner":{"account_id":13141180,"reputation":4284,"user_id":9492730,"display_name":"dododo"},"score":0,"creation_date":1691388279,"post_id":76834352,"comment_id":135479243,"body_markdown":"then you didn&#39;t add it to the $PATH, check what you have in the output here `echo $PATH`","body":"then you didn&#39;t add it to the $PATH, check what you have in the output here <code>echo $PATH</code>"}],"owner":{"account_id":24429333,"reputation":39,"user_id":18354478,"display_name":"harsh agarwal"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":159,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691146524,"creation_date":1691138929,"question_id":76834352,"body_markdown":"I am trying to run a project on intellij idea but it is showing the following error.\r\n\r\n\r\n```\r\nError creating bean with name &#39;mongoConfiguration&#39;: Unsatisfied dependency expressed through field &#39;mongoDbFactory&#39;: Error creating bean with name &#39;mongoDbFactory&#39; defined in class path resource [com/mongoencryptionutil/config/CustomMongoClientConfiguration.class]: Failed to instantiate [org.springframework.data.mongodb.MongoDatabaseFactory]: Factory method &#39;mongoDbFactory&#39; threw exception with message: Exception starting mongocryptd process. Is `mongocryptd` on the system path?\r\n```\r\n\r\n\r\nI have added /usr/local/bin/bin in path variables of the project and it has mongocryptd.. Still it is showing this error.\r\n\r\n[![System Settings][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/68uvc.png","title":"Exception starting mongocryptd process. Is `mongocryptd` on the system path?","body":"<p>I am trying to run a project on intellij idea but it is showing the following error.</p>\n<pre><code>Error creating bean with name 'mongoConfiguration': Unsatisfied dependency expressed through field 'mongoDbFactory': Error creating bean with name 'mongoDbFactory' defined in class path resource [com/mongoencryptionutil/config/CustomMongoClientConfiguration.class]: Failed to instantiate [org.springframework.data.mongodb.MongoDatabaseFactory]: Factory method 'mongoDbFactory' threw exception with message: Exception starting mongocryptd process. Is `mongocryptd` on the system path?\n</code></pre>\n<p>I have added /usr/local/bin/bin in path variables of the project and it has mongocryptd.. Still it is showing this error.</p>\n<p><a href=\"https://i.stack.imgur.com/68uvc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/68uvc.png\" alt=\"System Settings\" /></a></p>\n"},{"tags":["java","flyway","quarkus"],"answers":[{"tags":[],"owner":{"account_id":21330249,"reputation":297,"user_id":15702124,"display_name":"LenglBoy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691146501,"creation_date":1691146501,"answer_id":76835268,"question_id":64536346,"body_markdown":"There are multiple ways to do so:\r\n\r\n - Create multiple property files for different application profiles\r\n - Add prefix to properties for Profiles\r\n\r\n[Background information][1]: tl;dr; Keep in mind that the properties are always read in a fixed order. The generic property file at first and then the ones for currently active profiles and if there are properties set redundently they are overwriting each other. If they are not mentioned the one of the global file (or default) is taken.\r\n\r\nMulti-File Approach: Simply add new files names like: `application-dev.properties`. All properties for the related profile can be named there. Usually you solve your request like:\r\n\r\n - application.properties  -&gt; Global one and default for all\r\n - application-DEV.properties  -&gt; source of truth for DEV (overwrites)\r\n - application-PROD.properties -&gt; ..\r\n\r\nPrefix:\r\nI think thats the common approach on quarkus. Simply add %DEV.quarkus.... as prefix top a property that should be leading for a special profile. For you this would make it look like:\r\n\r\n    # Gloablly taken and save fallback\r\n    quarkus.flyway.clean-at-start=false\r\n    # Taken / Overwriting when DEV profile is used (%PROD. for other profile)\r\n    %DEV.quarkus.flyway.clean-at-start=true\r\n\r\n  [1]: https://quarkus.io/guides/config-reference","title":"How to enable quarkus.flyway.clean-at-start only for DEV namespace in K8S","body":"<p>There are multiple ways to do so:</p>\n<ul>\n<li>Create multiple property files for different application profiles</li>\n<li>Add prefix to properties for Profiles</li>\n</ul>\n<p><a href=\"https://quarkus.io/guides/config-reference\" rel=\"nofollow noreferrer\">Background information</a>: tl;dr; Keep in mind that the properties are always read in a fixed order. The generic property file at first and then the ones for currently active profiles and if there are properties set redundently they are overwriting each other. If they are not mentioned the one of the global file (or default) is taken.</p>\n<p>Multi-File Approach: Simply add new files names like: <code>application-dev.properties</code>. All properties for the related profile can be named there. Usually you solve your request like:</p>\n<ul>\n<li>application.properties  -&gt; Global one and default for all</li>\n<li>application-DEV.properties  -&gt; source of truth for DEV (overwrites)</li>\n<li>application-PROD.properties -&gt; ..</li>\n</ul>\n<p>Prefix:\nI think thats the common approach on quarkus. Simply add %DEV.quarkus.... as prefix top a property that should be leading for a special profile. For you this would make it look like:</p>\n<pre><code># Gloablly taken and save fallback\nquarkus.flyway.clean-at-start=false\n# Taken / Overwriting when DEV profile is used (%PROD. for other profile)\n%DEV.quarkus.flyway.clean-at-start=true\n</code></pre>\n"}],"owner":{"account_id":1936496,"reputation":32803,"user_id":1743843,"accept_rate":77,"display_name":"softshipper"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":342,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1691146501,"creation_date":1603712185,"question_id":64536346,"body_markdown":"I have created a microservice with https://quarkus.io/ and I am using the extension [Flyway][1] for the migration.  \r\n\r\nThe microservice is going to be deployed on DEV and PROD namespace into K8S cluster. \r\nOn the DEV namespace, I would like to the set property [clean-at-start][2] to true and on the PROD namespace to false.    \r\n\r\nMy question, how to assign different value to `quarkus.flyway.clean-at-start` depends on K8S `NAMESPACE`.\r\nI assume, I have to do it, when the container gets started.\r\n\r\n\r\n  [1]: https://quarkus.io/guides/flyway\r\n  [2]: https://quarkus.io/guides/flyway#quarkus-flyway_quarkus.flyway.clean-at-start","title":"How to enable quarkus.flyway.clean-at-start only for DEV namespace in K8S","body":"<p>I have created a microservice with <a href=\"https://quarkus.io/\" rel=\"nofollow noreferrer\">https://quarkus.io/</a> and I am using the extension <a href=\"https://quarkus.io/guides/flyway\" rel=\"nofollow noreferrer\">Flyway</a> for the migration.</p>\n<p>The microservice is going to be deployed on DEV and PROD namespace into K8S cluster.\nOn the DEV namespace, I would like to the set property <a href=\"https://quarkus.io/guides/flyway#quarkus-flyway_quarkus.flyway.clean-at-start\" rel=\"nofollow noreferrer\">clean-at-start</a> to true and on the PROD namespace to false.</p>\n<p>My question, how to assign different value to <code>quarkus.flyway.clean-at-start</code> depends on K8S <code>NAMESPACE</code>.\nI assume, I have to do it, when the container gets started.</p>\n"},{"tags":["java","serialization","jackson","jackson-databind","jackson-modules"],"comments":[{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1691154156,"post_id":76835179,"comment_id":135457108,"body_markdown":"Can you edit the question to show the output you want or expect? Also, what do you expect it to do when deserializing? To me, it looks like it&#39;s doing exactly what the annotations say to do. The cyclical relationship is a problem when deserializing using arguments to a `@JsonCreator` constructor instead of setters: one of the objects has to be created first.","body":"Can you edit the question to show the output you want or expect? Also, what do you expect it to do when deserializing? To me, it looks like it&#39;s doing exactly what the annotations say to do. The cyclical relationship is a problem when deserializing using arguments to a <code>@JsonCreator</code> constructor instead of setters: one of the objects has to be created first."}],"owner":{"account_id":29159221,"reputation":79,"user_id":22338327,"display_name":"AnthonyGP"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1691145930,"creation_date":1691145791,"question_id":76835179,"body_markdown":"I have intentionally created complex Java classes hierarchy, which also can occur on production in order to test Jackson JSON serialization and deserialization. Some annotations, like `@Getter` are Lombok ones.\r\n\r\nDemoI.java\r\n```\r\n@JsonTypeInfo(\r\n        use = JsonTypeInfo.Id.NAME,\r\n        include = JsonTypeInfo.As.PROPERTY,\r\n        property = &quot;interface&quot;,\r\n        defaultImpl = DemoImpl.class\r\n)\r\n@JsonSubTypes(\r\n        @JsonSubTypes.Type(value = DemoImpl.class, name = &quot;demoImpl&quot;)\r\n)\r\npublic interface DemoI {\r\n}\r\n```\r\n\r\nDemoImpl.java\r\n```\r\npublic class DemoImpl implements DemoI {\r\n    @Getter\r\n    private int age;\r\n    @Getter\r\n    private String name;\r\n    @Getter\r\n    private DemoAbst demoAbst;\r\n\r\n    @JsonCreator\r\n    public DemoImpl(@JsonProperty(&quot;age&quot;) int age,\r\n                    @JsonProperty(&quot;name&quot;) String name,\r\n                    @JsonProperty(&quot;demoAbst&quot;) DemoAbst demoAbst) {\r\n        this.age = age;\r\n        this.name = name;\r\n        this.demoAbst = demoAbst;\r\n    }\r\n}\r\n```\r\nDemoAbst.java\r\n```\r\n@JsonTypeInfo(\r\n        use = JsonTypeInfo.Id.NAME,\r\n        include = JsonTypeInfo.As.PROPERTY,\r\n        property = &quot;abstract&quot;,\r\n        defaultImpl = DemoAbstImpl.class\r\n)\r\n@JsonSubTypes(\r\n        @JsonSubTypes.Type(value = DemoAbstImpl.class, name = &quot;demoAbstImpl&quot;)\r\n)\r\npublic abstract class DemoAbst {\r\n}\r\n```\r\nDemoAbstImpl.java\r\n```\r\n@JsonIdentityInfo(\r\n        generator = ObjectIdGenerators.PropertyGenerator.class,\r\n        property = &quot;id&quot;\r\n)\r\npublic class DemoAbstImpl extends DemoAbst{\r\n    @Getter\r\n    private final int id = 1;\r\n    @Getter\r\n    private int song;\r\n    @Getter\r\n    private final DemoAbstImplImpl demoAbstImplImpl;\r\n\r\n    public DemoAbstImpl(int song) {\r\n        this.song = song;\r\n        this.demoAbstImplImpl = new DemoAbstImplImpl(&quot;song&quot;, this);\r\n    }\r\n\r\n    @JsonCreator\r\n    public DemoAbstImpl(@JsonProperty(&quot;song&quot;) int song,\r\n                        @JsonProperty(&quot;demoAbstImplImpl&quot;) DemoAbstImplImpl d) {\r\n        this.song = song;\r\n        this.demoAbstImplImpl = d;\r\n    }\r\n\r\n}\r\n```\r\nDemoAbstImplImpl.java\r\n```\r\npublic class DemoAbstImplImpl {\r\n    @Getter\r\n    private String koo;\r\n    @Getter\r\n    private final DemoAbstImpl demoAbstImpl;\r\n\r\n    @JsonCreator\r\n    public DemoAbstImplImpl(@JsonProperty(&quot;koo&quot;) String koo,\r\n                            @JsonProperty(&quot;demoAbstImpl&quot;) DemoAbstImpl d) {\r\n        this.koo = koo;\r\n        this.demoAbstImpl = d;\r\n    }\r\n}\r\n```\r\n\r\nAnd finally, the Main.java\r\n```\r\npublic class Demo {\r\n    public static void main(String[] args) throws IOException {\r\n\r\n        DemoAbstImpl dai = new DemoAbstImpl(67);\r\n\r\n        DemoI di = new DemoImpl(1, &quot;Hello&quot;, dai);\r\n\r\n\r\n        ObjectMapper om = new ObjectMapper();\r\n        byte[] b = om.writeValueAsBytes(di);\r\n        Files.write(Path.of(&quot;out.json&quot;), b);\r\n\r\n        DemoI di2 = om.readValue(new File(&quot;out.json&quot;), DemoI.class);\r\n```\r\n\r\nWhen I serialize, I got following JSON\r\n```\r\n{\r\n  &quot;interface&quot;: &quot;demoImpl&quot;,\r\n  &quot;age&quot;: 1,\r\n  &quot;name&quot;: &quot;Hello&quot;,\r\n  &quot;demoAbst&quot;: {\r\n    &quot;abstract&quot;: &quot;demoAbstImpl&quot;,\r\n    &quot;id&quot;: 1,\r\n    &quot;song&quot;: 67,\r\n    &quot;demoAbstImplImpl&quot;: {\r\n      &quot;koo&quot;: &quot;song&quot;,\r\n      &quot;demoAbstImpl&quot;: 1,\r\n      &quot;id&quot;: 2\r\n    }\r\n  }\r\n}\r\n```\r\nFor me, that `demoAbstImpl: 1` doesn&#39;t make sense at all, seems that Jackson uses it as a reference, but why Jackson doesn&#39;t follow that reference till the end, i.e `until it reaches the value`.\r\n\r\nAnd also deserialization ends up with an error `Exception in thread &quot;main&quot; com.fasterxml.jackson.databind.deser.UnresolvedForwardReference: Could not resolve Object Id [1] (for [simple type, com.example.mytest.DemoAbstImpl]).`\r\n\r\nAny ideas, how to fix that? At least for me, the code seems very correct, and no issues should be with Jackson annotations.","title":"Cannot serialize/deserialize bidirectional references using Jackson JSON in Java?","body":"<p>I have intentionally created complex Java classes hierarchy, which also can occur on production in order to test Jackson JSON serialization and deserialization. Some annotations, like <code>@Getter</code> are Lombok ones.</p>\n<p>DemoI.java</p>\n<pre><code>@JsonTypeInfo(\n        use = JsonTypeInfo.Id.NAME,\n        include = JsonTypeInfo.As.PROPERTY,\n        property = &quot;interface&quot;,\n        defaultImpl = DemoImpl.class\n)\n@JsonSubTypes(\n        @JsonSubTypes.Type(value = DemoImpl.class, name = &quot;demoImpl&quot;)\n)\npublic interface DemoI {\n}\n</code></pre>\n<p>DemoImpl.java</p>\n<pre><code>public class DemoImpl implements DemoI {\n    @Getter\n    private int age;\n    @Getter\n    private String name;\n    @Getter\n    private DemoAbst demoAbst;\n\n    @JsonCreator\n    public DemoImpl(@JsonProperty(&quot;age&quot;) int age,\n                    @JsonProperty(&quot;name&quot;) String name,\n                    @JsonProperty(&quot;demoAbst&quot;) DemoAbst demoAbst) {\n        this.age = age;\n        this.name = name;\n        this.demoAbst = demoAbst;\n    }\n}\n</code></pre>\n<p>DemoAbst.java</p>\n<pre><code>@JsonTypeInfo(\n        use = JsonTypeInfo.Id.NAME,\n        include = JsonTypeInfo.As.PROPERTY,\n        property = &quot;abstract&quot;,\n        defaultImpl = DemoAbstImpl.class\n)\n@JsonSubTypes(\n        @JsonSubTypes.Type(value = DemoAbstImpl.class, name = &quot;demoAbstImpl&quot;)\n)\npublic abstract class DemoAbst {\n}\n</code></pre>\n<p>DemoAbstImpl.java</p>\n<pre><code>@JsonIdentityInfo(\n        generator = ObjectIdGenerators.PropertyGenerator.class,\n        property = &quot;id&quot;\n)\npublic class DemoAbstImpl extends DemoAbst{\n    @Getter\n    private final int id = 1;\n    @Getter\n    private int song;\n    @Getter\n    private final DemoAbstImplImpl demoAbstImplImpl;\n\n    public DemoAbstImpl(int song) {\n        this.song = song;\n        this.demoAbstImplImpl = new DemoAbstImplImpl(&quot;song&quot;, this);\n    }\n\n    @JsonCreator\n    public DemoAbstImpl(@JsonProperty(&quot;song&quot;) int song,\n                        @JsonProperty(&quot;demoAbstImplImpl&quot;) DemoAbstImplImpl d) {\n        this.song = song;\n        this.demoAbstImplImpl = d;\n    }\n\n}\n</code></pre>\n<p>DemoAbstImplImpl.java</p>\n<pre><code>public class DemoAbstImplImpl {\n    @Getter\n    private String koo;\n    @Getter\n    private final DemoAbstImpl demoAbstImpl;\n\n    @JsonCreator\n    public DemoAbstImplImpl(@JsonProperty(&quot;koo&quot;) String koo,\n                            @JsonProperty(&quot;demoAbstImpl&quot;) DemoAbstImpl d) {\n        this.koo = koo;\n        this.demoAbstImpl = d;\n    }\n}\n</code></pre>\n<p>And finally, the Main.java</p>\n<pre><code>public class Demo {\n    public static void main(String[] args) throws IOException {\n\n        DemoAbstImpl dai = new DemoAbstImpl(67);\n\n        DemoI di = new DemoImpl(1, &quot;Hello&quot;, dai);\n\n\n        ObjectMapper om = new ObjectMapper();\n        byte[] b = om.writeValueAsBytes(di);\n        Files.write(Path.of(&quot;out.json&quot;), b);\n\n        DemoI di2 = om.readValue(new File(&quot;out.json&quot;), DemoI.class);\n</code></pre>\n<p>When I serialize, I got following JSON</p>\n<pre><code>{\n  &quot;interface&quot;: &quot;demoImpl&quot;,\n  &quot;age&quot;: 1,\n  &quot;name&quot;: &quot;Hello&quot;,\n  &quot;demoAbst&quot;: {\n    &quot;abstract&quot;: &quot;demoAbstImpl&quot;,\n    &quot;id&quot;: 1,\n    &quot;song&quot;: 67,\n    &quot;demoAbstImplImpl&quot;: {\n      &quot;koo&quot;: &quot;song&quot;,\n      &quot;demoAbstImpl&quot;: 1,\n      &quot;id&quot;: 2\n    }\n  }\n}\n</code></pre>\n<p>For me, that <code>demoAbstImpl: 1</code> doesn't make sense at all, seems that Jackson uses it as a reference, but why Jackson doesn't follow that reference till the end, i.e <code>until it reaches the value</code>.</p>\n<p>And also deserialization ends up with an error <code>Exception in thread &quot;main&quot; com.fasterxml.jackson.databind.deser.UnresolvedForwardReference: Could not resolve Object Id [1] (for [simple type, com.example.mytest.DemoAbstImpl]).</code></p>\n<p>Any ideas, how to fix that? At least for me, the code seems very correct, and no issues should be with Jackson annotations.</p>\n"},{"tags":["java","currency-formatting"],"comments":[{"owner":{"account_id":8269356,"reputation":1829,"user_id":6217595,"accept_rate":50,"display_name":"zihadrizkyef"},"score":0,"creation_date":1637909039,"post_id":6670337,"comment_id":123953393,"body_markdown":"do you get any solution?","body":"do you get any solution?"}],"answers":[{"tags":[],"owner":{"account_id":440465,"reputation":631,"user_id":830041,"accept_rate":11,"display_name":"Jake Roussel"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1310501465,"creation_date":1310501465,"answer_id":6670459,"question_id":6670337,"body_markdown":"See if this works:\r\n\r\n    DecimalFormat fmt = (DecimalFormat) NumberFormat.getInstance();\r\n    fmt.setGroupingUsed(true);\r\n    fmt.setPositivePrefix(&quot;Rs. &quot;);\r\n    fmt.setNegativePrefix(&quot;Rs. -&quot;);\r\n    fmt.setMinimumFractionDigits(2);\r\n    fmt.setMaximumFractionDigits(2);\r\n    fmt.format(30382.50);\r\n\r\n\r\nEdit: Fixed the first line.","title":"need space between currency symbol and amount","body":"<p>See if this works:</p>\n\n<pre><code>DecimalFormat fmt = (DecimalFormat) NumberFormat.getInstance();\nfmt.setGroupingUsed(true);\nfmt.setPositivePrefix(\"Rs. \");\nfmt.setNegativePrefix(\"Rs. -\");\nfmt.setMinimumFractionDigits(2);\nfmt.setMaximumFractionDigits(2);\nfmt.format(30382.50);\n</code></pre>\n\n<p>Edit: Fixed the first line.</p>\n"},{"tags":[],"owner":{"account_id":101585,"reputation":107721,"user_id":273200,"accept_rate":100,"display_name":"Bala R"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1310502989,"creation_date":1310502486,"answer_id":6670693,"question_id":6670337,"body_markdown":"It&#39;s a bit of a hack but in a very similar situation, I used something like this\r\n\r\n    NumberFormat format = NumberFormat.getCurrencyInstance(new Locale(&quot;en&quot;, &quot;in&quot;));\r\n    String currencySymbol = format.format(0.00).replace(&quot;0.00&quot;, &quot;&quot;);\r\n    System.out.println(format.format(30382.50).replace(currencySymbol, currencySymbol + &quot; &quot;));\r\n\r\nall the currencies I had to deal with involved two decimal places so i was able to do `&quot;0.00&quot;` for all of them but if you plan to use something like Japanese Yen, this has to be tweaked. There is a `NumberFormat.getCurrency().getSymbol()`; but it returns `INR` instead for `Rs.` so that cannot be used for getting the currency symbol.\r\n \r\n\r\n\t\t\r\n","title":"need space between currency symbol and amount","body":"<p>It's a bit of a hack but in a very similar situation, I used something like this</p>\n\n<pre><code>NumberFormat format = NumberFormat.getCurrencyInstance(new Locale(\"en\", \"in\"));\nString currencySymbol = format.format(0.00).replace(\"0.00\", \"\");\nSystem.out.println(format.format(30382.50).replace(currencySymbol, currencySymbol + \" \"));\n</code></pre>\n\n<p>all the currencies I had to deal with involved two decimal places so i was able to do <code>\"0.00\"</code> for all of them but if you plan to use something like Japanese Yen, this has to be tweaked. There is a <code>NumberFormat.getCurrency().getSymbol()</code>; but it returns <code>INR</code> instead for <code>Rs.</code> so that cannot be used for getting the currency symbol.</p>\n"},{"tags":[],"owner":{"account_id":373975,"reputation":24834,"user_id":723920,"accept_rate":60,"display_name":"Kal"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1310502526,"creation_date":1310502526,"answer_id":6670700,"question_id":6670337,"body_markdown":"I dont think you can. \r\n\r\nYou should take a look at http://site.icu-project.org/ \r\n\r\nThere might be better locale-specific currency formatting provided by icu4j.","title":"need space between currency symbol and amount","body":"<p>I dont think you can. </p>\n\n<p>You should take a look at <a href=\"http://site.icu-project.org/\" rel=\"nofollow\">http://site.icu-project.org/</a> </p>\n\n<p>There might be better locale-specific currency formatting provided by icu4j.</p>\n"},{"tags":[],"owner":{"account_id":74281,"reputation":1104,"user_id":213529,"accept_rate":100,"display_name":"depsypher"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1327450913,"creation_date":1327450913,"answer_id":8996309,"question_id":6670337,"body_markdown":"I don&#39;t see any easy way to do this. Here&#39;s what I came up with...\r\n\r\nThe key to getting the actual currency symbol seems to be passing the destination locale into Currency.getSymbol:\r\n\r\n\tcurrencyFormat.getCurrency().getSymbol(locale)\r\n\r\nHere&#39;s some code that seems like it mostly works:\r\n\r\n\tpublic static String formatPrice(String price, Locale locale, String currencyCode) {\r\n\t\r\n\t\tNumberFormat currencyFormat = NumberFormat.getCurrencyInstance(locale);\r\n\t\tCurrency currency = Currency.getInstance(currencyCode);\r\n\t\tcurrencyFormat.setCurrency(currency);\r\n\t    \t\r\n\t\ttry {\r\n\t\t\tString formatted = currencyFormat.format(NumberFormat.getNumberInstance().parse(price));\r\n\t\t\tString symbol = currencyFormat.getCurrency().getSymbol(locale);\r\n\t    \t\t\r\n\t\t\t// Different locales put the symbol on opposite sides of the amount\r\n\t\t\t// http://en.wikipedia.org/wiki/Currency_sign\r\n\t\t\t// If there is already a space (like the fr_FR locale formats things),\r\n\t\t\t// then return this as is, otherwise insert a space on either side\r\n\t\t\t// and trim the result\r\n\t\t\tif (StringUtils.contains(formatted, &quot; &quot; + symbol) || StringUtils.contains(formatted, symbol + &quot; &quot;)) {\r\n\t\t\t\treturn formatted;\r\n\t\t\t} else {\r\n\t\t\t\treturn StringUtils.replaceOnce(formatted, symbol, &quot; &quot; + symbol + &quot; &quot;).trim();\r\n\t\t\t}\r\n\t\t} catch (ParseException e) {\r\n\t\t\t// ignore\r\n\t\t}\r\n\t\treturn null;\r\n\t}","title":"need space between currency symbol and amount","body":"<p>I don't see any easy way to do this. Here's what I came up with...</p>\n\n<p>The key to getting the actual currency symbol seems to be passing the destination locale into Currency.getSymbol:</p>\n\n<pre><code>currencyFormat.getCurrency().getSymbol(locale)\n</code></pre>\n\n<p>Here's some code that seems like it mostly works:</p>\n\n<pre><code>public static String formatPrice(String price, Locale locale, String currencyCode) {\n\n    NumberFormat currencyFormat = NumberFormat.getCurrencyInstance(locale);\n    Currency currency = Currency.getInstance(currencyCode);\n    currencyFormat.setCurrency(currency);\n\n    try {\n        String formatted = currencyFormat.format(NumberFormat.getNumberInstance().parse(price));\n        String symbol = currencyFormat.getCurrency().getSymbol(locale);\n\n        // Different locales put the symbol on opposite sides of the amount\n        // http://en.wikipedia.org/wiki/Currency_sign\n        // If there is already a space (like the fr_FR locale formats things),\n        // then return this as is, otherwise insert a space on either side\n        // and trim the result\n        if (StringUtils.contains(formatted, \" \" + symbol) || StringUtils.contains(formatted, symbol + \" \")) {\n            return formatted;\n        } else {\n            return StringUtils.replaceOnce(formatted, symbol, \" \" + symbol + \" \").trim();\n        }\n    } catch (ParseException e) {\n        // ignore\n    }\n    return null;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5929698,"reputation":445,"user_id":4664567,"display_name":"Gabriel Ferreira"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1478653922,"creation_date":1478653922,"answer_id":40498969,"question_id":6670337,"body_markdown":"An easier method, kind of workaround.\r\nFor my locale, the currency symbol is &quot;R$&quot;\r\n\r\n    public static String moneyFormatter(double d){\r\n\r\n        DecimalFormat fmt = (DecimalFormat) NumberFormat.getInstance();\r\n        Locale locale = Locale.getDefault();\r\n        String symbol = Currency.getInstance(locale).getSymbol(locale);\r\n        fmt.setGroupingUsed(true);\r\n        fmt.setPositivePrefix(symbol + &quot; &quot;);\r\n        fmt.setNegativePrefix(&quot;-&quot; + symbol + &quot; &quot;);\r\n        fmt.setMinimumFractionDigits(2);\r\n        fmt.setMaximumFractionDigits(2);\r\n        return fmt.format(d);\r\n    }\r\n\r\nInput: \r\n\r\n    moneyFormatter(225.0);\r\n\r\nOutput: \r\n\r\n    &quot;R$ 225,00&quot;\r\n\r\n","title":"need space between currency symbol and amount","body":"<p>An easier method, kind of workaround.\nFor my locale, the currency symbol is \"R$\"</p>\n\n<pre><code>public static String moneyFormatter(double d){\n\n    DecimalFormat fmt = (DecimalFormat) NumberFormat.getInstance();\n    Locale locale = Locale.getDefault();\n    String symbol = Currency.getInstance(locale).getSymbol(locale);\n    fmt.setGroupingUsed(true);\n    fmt.setPositivePrefix(symbol + \" \");\n    fmt.setNegativePrefix(\"-\" + symbol + \" \");\n    fmt.setMinimumFractionDigits(2);\n    fmt.setMaximumFractionDigits(2);\n    return fmt.format(d);\n}\n</code></pre>\n\n<p>Input: </p>\n\n<pre><code>moneyFormatter(225.0);\n</code></pre>\n\n<p>Output: </p>\n\n<pre><code>\"R$ 225,00\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18282373,"reputation":331,"user_id":13310972,"display_name":"Andrey Kijonok"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655904370,"creation_date":1655903933,"answer_id":72716277,"question_id":6670337,"body_markdown":"Sorry for Kotlin I came here from android). \r\nAs I understood there is no correct solutions for that, so that&#39;s why my solution is also hack)\r\n```\r\nfun formatBalance(\r\n    amount: Float,\r\n    currencyCode: String,\r\n    languageLocale: Locale\r\n): String {\r\n```\r\n`amount` can be String as well.\r\n```\r\n    val currencyFormatter: NumberFormat = NumberFormat.getCurrencyInstance(languageLocale)\r\n    currencyFormatter.currency = Currency.getInstance(currencyCode)\r\n    val formatted = currencyFormatter.format(amount)\r\n```\r\n`formatted` will get amount with currency from correct side but without space. (Example: 100$, 100)\r\n```\r\n    val amountFirstSymbol = amount.toString()[0]\r\n    val formattedFirstSymbol = formatted[0]\r\n\r\n    val currencySymbolIsBefore = amountFirstSymbol != formattedFirstSymbol\r\n```\r\nThen I use this little hack to understand if currency symbol is before amount. So for example `amount` is `100` then `amountFirstSymbol` will be `&quot;1&quot;`. And if formatted is `100$` then `formattedFirstSymbol` also will be `&quot;1&quot;`. That means we can put our currency symbol behind amount but now with space.\r\n```\r\n    val symbol = currencyFormatter.currency?.symbol\r\n    return if (currencySymbolIsBefore) &quot;$symbol $amount&quot;\r\n    else &quot;$amount $symbol&quot;\r\n```   \r\n","title":"need space between currency symbol and amount","body":"<p>Sorry for Kotlin I came here from android).\nAs I understood there is no correct solutions for that, so that's why my solution is also hack)</p>\n<pre><code>fun formatBalance(\n    amount: Float,\n    currencyCode: String,\n    languageLocale: Locale\n): String {\n</code></pre>\n<p><code>amount</code> can be String as well.</p>\n<pre><code>    val currencyFormatter: NumberFormat = NumberFormat.getCurrencyInstance(languageLocale)\n    currencyFormatter.currency = Currency.getInstance(currencyCode)\n    val formatted = currencyFormatter.format(amount)\n</code></pre>\n<p><code>formatted</code> will get amount with currency from correct side but without space. (Example: 100$, 100)</p>\n<pre><code>    val amountFirstSymbol = amount.toString()[0]\n    val formattedFirstSymbol = formatted[0]\n\n    val currencySymbolIsBefore = amountFirstSymbol != formattedFirstSymbol\n</code></pre>\n<p>Then I use this little hack to understand if currency symbol is before amount. So for example <code>amount</code> is <code>100</code> then <code>amountFirstSymbol</code> will be <code>&quot;1&quot;</code>. And if formatted is <code>100$</code> then <code>formattedFirstSymbol</code> also will be <code>&quot;1&quot;</code>. That means we can put our currency symbol behind amount but now with space.</p>\n<pre><code>    val symbol = currencyFormatter.currency?.symbol\n    return if (currencySymbolIsBefore) &quot;$symbol $amount&quot;\n    else &quot;$amount $symbol&quot;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7052626,"reputation":516,"user_id":5401167,"display_name":"W-S"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664515747,"creation_date":1664515747,"answer_id":73904368,"question_id":6670337,"body_markdown":"Here what I do to add space after currency symbol:\r\n\r\n```\r\nDecimalFormat numberFormat = (DecimalFormat) NumberFormat.getCurrencyInstance(new Locale(&quot;id&quot;, &quot;ID&quot;));\r\n\r\nDecimalFormatSymbols symbol = new DecimalFormatSymbols(new Locale(&quot;id&quot;, &quot;ID&quot;));\r\n// Add space to currency symbol\r\nsymbol.setCurrencySymbol(symbol.getCurrencySymbol() + &quot; &quot;);\r\n\r\nnumberFormat.setDecimalFormatSymbols(symbol);\r\n```\r\n","title":"need space between currency symbol and amount","body":"<p>Here what I do to add space after currency symbol:</p>\n<pre><code>DecimalFormat numberFormat = (DecimalFormat) NumberFormat.getCurrencyInstance(new Locale(&quot;id&quot;, &quot;ID&quot;));\n\nDecimalFormatSymbols symbol = new DecimalFormatSymbols(new Locale(&quot;id&quot;, &quot;ID&quot;));\n// Add space to currency symbol\nsymbol.setCurrencySymbol(symbol.getCurrencySymbol() + &quot; &quot;);\n\nnumberFormat.setDecimalFormatSymbols(symbol);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1212023,"reputation":1487,"user_id":1180397,"display_name":"Cardinal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1691145447,"creation_date":1691145447,"answer_id":76835136,"question_id":6670337,"body_markdown":"Take into account the following:\r\n1. You can&#39;t use `Currency.symbol` to find it in the formatted string because in some locales `$` becomes `US$` while `Currency.symbol` still returns `$`\r\n2. You should use non-breaking space instead of a normal space (default formatter does it this way). The same for checking whether space is already present (in some locales it is)\r\n3. For negatives amount a sign normally goes before the currency\r\n\r\nThe solution is (sorry for Kotlin code):\r\n```kotlin\r\nfun formatPrice(currencyCode: String, price: BigDecimal, locale: Locale? = null): String {\r\n    val resLocale = locale ?: Locale.getDefault()\r\n    val currencyFormat = NumberFormat.getCurrencyInstance(resLocale)\r\n    // decimalFormat formats the amount in the same way as currencyFormat, but without currency symbol.\r\n    // We can&#39;t use currency.symbol because it doesn&#39;t always match the way currency rendered in\r\n    // the resulting string (for some locales &quot;$&quot; becomes &quot;US$&quot;)\r\n    val decimalFormat = NumberFormat.getNumberInstance(resLocale)\r\n    decimalFormat.maximumFractionDigits = currencyFormat.maximumFractionDigits\r\n    decimalFormat.maximumIntegerDigits = currencyFormat.maximumIntegerDigits\r\n    decimalFormat.isGroupingUsed = currencyFormat.isGroupingUsed\r\n    decimalFormat.minimumFractionDigits = currencyFormat.minimumFractionDigits\r\n    decimalFormat.minimumIntegerDigits = currencyFormat.minimumIntegerDigits\r\n    decimalFormat.roundingMode = currencyFormat.roundingMode\r\n    currencyFormat.currency = Currency.getInstance(currencyCode)\r\n\r\n    val priceFormatted = currencyFormat.format(price)\r\n    val amountFormatted = decimalFormat.format(price)\r\n\r\n    // 12&#160;345,67&#160;$&#160;US\r\n    if (priceFormatted.startsWith(amountFormatted)) {\r\n        val suffix = priceFormatted.substringAfter(amountFormatted)\r\n        return if (suffix.isNotEmpty() &amp;&amp; !suffix.first().isWhitespace()) {\r\n            &quot;$amountFormatted&#160;$suffix&quot; // use nbsp to prevent line break\r\n        } else {\r\n            priceFormatted\r\n        }\r\n    }\r\n\r\n    // US$12,345.67\r\n    if (priceFormatted.endsWith(amountFormatted)) {\r\n        val prefix = priceFormatted.substringBefore(amountFormatted)\r\n        return if (prefix.isNotEmpty() &amp;&amp; !prefix.last().isWhitespace()) {\r\n            &quot;$prefix&#160;$amountFormatted&quot; // use nbsp to prevent line break\r\n        } else {\r\n            priceFormatted\r\n        }\r\n    }\r\n\r\n    // For negative amounts a sign normally goes before the currency symbol\r\n    // -US$12,345.67\r\n    val absAmountFormatted = decimalFormat.format(price.abs())\r\n    if (priceFormatted.endsWith(absAmountFormatted)) {\r\n        val prefix = priceFormatted.substringBefore(absAmountFormatted)\r\n        if (prefix.isNotEmpty() &amp;&amp; !prefix.last().isWhitespace()) {\r\n            return &quot;$prefix&#160;$absAmountFormatted&quot; // use nbsp to prevent line break\r\n        }\r\n    }\r\n\r\n    return priceFormatted\r\n}\r\n```\r\n\r\nTesting:\r\n```\r\nLocale: BigDecimal -&gt; default_format -&gt; custom_with_nbsp\r\n\r\nen: 12345.673 -&gt; $12,345.67 -&gt; $&#160;12,345.67\r\nen: 12345.67 -&gt; $12,345.67 -&gt; $&#160;12,345.67\r\nen: -12345.67 -&gt; -$12,345.67 -&gt; -$&#160;12,345.67\r\nen: 12345.67 -&gt; 12,345.67 -&gt; &#160;12,345.67\r\nen: -12345.67 -&gt; -12,345.67 -&gt; -&#160;12,345.67\r\nen: 12345.67 -&gt; PLN12,345.67 -&gt; PLN&#160;12,345.67\r\nen: -12345.67 -&gt; -PLN12,345.67 -&gt; -PLN&#160;12,345.67\r\nzh_CN: 12345.67 -&gt; US$12,345.67 -&gt; US$&#160;12,345.67\r\nfr_CA: -12345.67 -&gt; -12&#160;345,67&#160;PLN -&gt; -12&#160;345,67&#160;PLN\r\npl_PL: 12345.67 -&gt; 12&#160;345,67&#160;z -&gt; 12&#160;345,67&#160;z\r\nfr_FR: 12345.67 -&gt; 12&#160;345,67&#160;PLN -&gt; 12&#160;345,67&#160;PLN\r\n```","title":"need space between currency symbol and amount","body":"<p>Take into account the following:</p>\n<ol>\n<li>You can't use <code>Currency.symbol</code> to find it in the formatted string because in some locales <code>$</code> becomes <code>US$</code> while <code>Currency.symbol</code> still returns <code>$</code></li>\n<li>You should use non-breaking space instead of a normal space (default formatter does it this way). The same for checking whether space is already present (in some locales it is)</li>\n<li>For negatives amount a sign normally goes before the currency</li>\n</ol>\n<p>The solution is (sorry for Kotlin code):</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>fun formatPrice(currencyCode: String, price: BigDecimal, locale: Locale? = null): String {\n    val resLocale = locale ?: Locale.getDefault()\n    val currencyFormat = NumberFormat.getCurrencyInstance(resLocale)\n    // decimalFormat formats the amount in the same way as currencyFormat, but without currency symbol.\n    // We can't use currency.symbol because it doesn't always match the way currency rendered in\n    // the resulting string (for some locales &quot;$&quot; becomes &quot;US$&quot;)\n    val decimalFormat = NumberFormat.getNumberInstance(resLocale)\n    decimalFormat.maximumFractionDigits = currencyFormat.maximumFractionDigits\n    decimalFormat.maximumIntegerDigits = currencyFormat.maximumIntegerDigits\n    decimalFormat.isGroupingUsed = currencyFormat.isGroupingUsed\n    decimalFormat.minimumFractionDigits = currencyFormat.minimumFractionDigits\n    decimalFormat.minimumIntegerDigits = currencyFormat.minimumIntegerDigits\n    decimalFormat.roundingMode = currencyFormat.roundingMode\n    currencyFormat.currency = Currency.getInstance(currencyCode)\n\n    val priceFormatted = currencyFormat.format(price)\n    val amountFormatted = decimalFormat.format(price)\n\n    // 12345,67$US\n    if (priceFormatted.startsWith(amountFormatted)) {\n        val suffix = priceFormatted.substringAfter(amountFormatted)\n        return if (suffix.isNotEmpty() &amp;&amp; !suffix.first().isWhitespace()) {\n            &quot;$amountFormatted$suffix&quot; // use nbsp to prevent line break\n        } else {\n            priceFormatted\n        }\n    }\n\n    // US$12,345.67\n    if (priceFormatted.endsWith(amountFormatted)) {\n        val prefix = priceFormatted.substringBefore(amountFormatted)\n        return if (prefix.isNotEmpty() &amp;&amp; !prefix.last().isWhitespace()) {\n            &quot;$prefix$amountFormatted&quot; // use nbsp to prevent line break\n        } else {\n            priceFormatted\n        }\n    }\n\n    // For negative amounts a sign normally goes before the currency symbol\n    // -US$12,345.67\n    val absAmountFormatted = decimalFormat.format(price.abs())\n    if (priceFormatted.endsWith(absAmountFormatted)) {\n        val prefix = priceFormatted.substringBefore(absAmountFormatted)\n        if (prefix.isNotEmpty() &amp;&amp; !prefix.last().isWhitespace()) {\n            return &quot;$prefix$absAmountFormatted&quot; // use nbsp to prevent line break\n        }\n    }\n\n    return priceFormatted\n}\n</code></pre>\n<p>Testing:</p>\n<pre><code>Locale: BigDecimal -&gt; default_format -&gt; custom_with_nbsp\n\nen: 12345.673 -&gt; $12,345.67 -&gt; $12,345.67\nen: 12345.67 -&gt; $12,345.67 -&gt; $12,345.67\nen: -12345.67 -&gt; -$12,345.67 -&gt; -$12,345.67\nen: 12345.67 -&gt; 12,345.67 -&gt; 12,345.67\nen: -12345.67 -&gt; -12,345.67 -&gt; -12,345.67\nen: 12345.67 -&gt; PLN12,345.67 -&gt; PLN12,345.67\nen: -12345.67 -&gt; -PLN12,345.67 -&gt; -PLN12,345.67\nzh_CN: 12345.67 -&gt; US$12,345.67 -&gt; US$12,345.67\nfr_CA: -12345.67 -&gt; -12345,67PLN -&gt; -12345,67PLN\npl_PL: 12345.67 -&gt; 12345,67z -&gt; 12345,67z\nfr_FR: 12345.67 -&gt; 12345,67PLN -&gt; 12345,67PLN\n</code></pre>\n"}],"owner":{"account_id":161859,"reputation":987,"user_id":382939,"accept_rate":82,"display_name":"Seeker"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9922,"favorite_count":0,"down_vote_count":0,"up_vote_count":19,"answer_count":8,"score":19,"last_activity_date":1691145447,"creation_date":1310500917,"question_id":6670337,"body_markdown":"I&#39;m trying to print INR format currency like this:\r\n\r\n    NumberFormat fmt = NumberFormat.getCurrencyInstance();\r\n    fmt.setCurrency(Currency.getInstance(&quot;INR&quot;));\r\n    fmt.format(30382.50);\r\n\r\nshows `Rs30,382.50`, but in India its written as `Rs. 30,382.50`(see http://www.flipkart.com/)\r\nhow to solve without hardcoding for INR?","title":"need space between currency symbol and amount","body":"<p>I'm trying to print INR format currency like this:</p>\n\n<pre><code>NumberFormat fmt = NumberFormat.getCurrencyInstance();\nfmt.setCurrency(Currency.getInstance(\"INR\"));\nfmt.format(30382.50);\n</code></pre>\n\n<p>shows <code>Rs30,382.50</code>, but in India its written as <code>Rs. 30,382.50</code>(see <a href=\"http://www.flipkart.com/\" rel=\"noreferrer\">http://www.flipkart.com/</a>)\nhow to solve without hardcoding for INR?</p>\n"},{"tags":["java","sybase","squirrel-sql"],"comments":[{"owner":{"account_id":7670603,"reputation":1867,"user_id":5812981,"accept_rate":23,"display_name":"access_granted"},"score":0,"creation_date":1580767694,"post_id":59992628,"comment_id":106199107,"body_markdown":"If you&#39;re getting this error, you&#39;re are not seeing the driver. Check the jar spelling. Try setting the CLASSLIB env variable to include the jar as well. Lastly, check the jar itself, if it does contain that class, since it may have a different JDBC driver version number.","body":"If you&#39;re getting this error, you&#39;re are not seeing the driver. Check the jar spelling. Try setting the CLASSLIB env variable to include the jar as well. Lastly, check the jar itself, if it does contain that class, since it may have a different JDBC driver version number."},{"owner":{"account_id":194643,"reputation":880,"user_id":1913845,"accept_rate":83,"display_name":"dev4life"},"score":0,"creation_date":1600096289,"post_id":59992628,"comment_id":112973079,"body_markdown":"Did you ever fix this?","body":"Did you ever fix this?"}],"answers":[{"tags":[],"owner":{"account_id":4790051,"reputation":576,"user_id":3869484,"display_name":"Richard Crossley"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1580692221,"creation_date":1580692221,"answer_id":60032080,"question_id":59992628,"body_markdown":"Assuming Sybase ASE here; Sybase ASA and ASIQ might be different.\r\n\r\n - Host should be the host name or IP address of the host running the Sybase instance.\r\n - Port is the TCP IP Port number of the &quot;dataserver&quot; process. This is possibly 4100 (Unix) or 5000 (Windows), but can be overridden by the person who installed the Sybase ASE database server\r\n - DBNAME is the name of the database you want to connect to. Try &quot;tempdb&quot; if you&#39;re unsure.\r\n\r\nIf Sybase ASE is running on your Windows PC, the settings might be as follows:\r\n\r\n```\r\njdbc:sybase:Tds:localhost:5000/tempdb\r\n```\r\n\r\nor on some other Unix database server:\r\n\r\n```\r\njdbc:sybase:Tds:dataserver_name:4100/tempdb\r\n```\r\n","title":"Connecting to Sybase DB using Squirrel SQL Client - Driver Class not found Exception","body":"<p>Assuming Sybase ASE here; Sybase ASA and ASIQ might be different.</p>\n\n<ul>\n<li>Host should be the host name or IP address of the host running the Sybase instance.</li>\n<li>Port is the TCP IP Port number of the \"dataserver\" process. This is possibly 4100 (Unix) or 5000 (Windows), but can be overridden by the person who installed the Sybase ASE database server</li>\n<li>DBNAME is the name of the database you want to connect to. Try \"tempdb\" if you're unsure.</li>\n</ul>\n\n<p>If Sybase ASE is running on your Windows PC, the settings might be as follows:</p>\n\n<pre><code>jdbc:sybase:Tds:localhost:5000/tempdb\n</code></pre>\n\n<p>or on some other Unix database server:</p>\n\n<pre><code>jdbc:sybase:Tds:dataserver_name:4100/tempdb\n</code></pre>\n"},{"tags":[],"owner":{"account_id":268435,"reputation":611,"user_id":557194,"display_name":"Nick Humphrey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691144850,"creation_date":1691144458,"answer_id":76835030,"question_id":59992628,"body_markdown":"I was able to connect to Sybase Adaptive Server Enterprise using squirrel sql 4.2.0 (so that it will work with jvm 1.8).\r\nFirst, I installed a trial version of Aqua Data Studio 23.0,\r\nthen i got the sybase enterprise driver from that installation:\r\n\r\n    C:\\Program Files\\Aqua Data Studio 23.0 - 64bit\\lib\\drivers\\jconnect16.jar\r\n\r\nThen I followed this tutorial:\r\nhttps://blogs.sap.com/2016/06/28/how-to-configure-squirrel-to-use-it-with-sap-ase/\r\n\r\nand used the following Class Name:\r\n\r\n    com.sybase.jdbc42.jdbc.SybDriver","title":"Connecting to Sybase DB using Squirrel SQL Client - Driver Class not found Exception","body":"<p>I was able to connect to Sybase Adaptive Server Enterprise using squirrel sql 4.2.0 (so that it will work with jvm 1.8).\nFirst, I installed a trial version of Aqua Data Studio 23.0,\nthen i got the sybase enterprise driver from that installation:</p>\n<pre><code>C:\\Program Files\\Aqua Data Studio 23.0 - 64bit\\lib\\drivers\\jconnect16.jar\n</code></pre>\n<p>Then I followed this tutorial:\n<a href=\"https://blogs.sap.com/2016/06/28/how-to-configure-squirrel-to-use-it-with-sap-ase/\" rel=\"nofollow noreferrer\">https://blogs.sap.com/2016/06/28/how-to-configure-squirrel-to-use-it-with-sap-ase/</a></p>\n<p>and used the following Class Name:</p>\n<pre><code>com.sybase.jdbc42.jdbc.SybDriver\n</code></pre>\n"}],"owner":{"account_id":11582964,"reputation":106,"user_id":8486202,"display_name":"Toarn"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1670,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1691144850,"creation_date":1580410187,"question_id":59992628,"body_markdown":"I am currently trying to connect to a Sybase DB using Squirrel Client.  However, when I try to connect I am getting an error with the following stack trace.  \r\n\r\njava.lang.RuntimeException: java.lang.ClassNotFoundException: com.sybase.jdbc2.jdbc.SybDriver\r\n\r\nAfter seeing similiar questions on here, I downloaded the JTDS 1.3.1 driver (everything I&#39;m seeing is saying that that is the appropriate driver for sybase) and added the jar file to the lib folder in my squirrel installation.  The error is still showing.\r\n\r\nThe format for my URL is jdbc:sybase:Tds:host:port/DBNAME\r\n\r\nIf anyone has any ideas, I would appreciate the help, I&#39;m drawing all kinds of blanks here.","title":"Connecting to Sybase DB using Squirrel SQL Client - Driver Class not found Exception","body":"<p>I am currently trying to connect to a Sybase DB using Squirrel Client.  However, when I try to connect I am getting an error with the following stack trace.  </p>\n\n<p>java.lang.RuntimeException: java.lang.ClassNotFoundException: com.sybase.jdbc2.jdbc.SybDriver</p>\n\n<p>After seeing similiar questions on here, I downloaded the JTDS 1.3.1 driver (everything I'm seeing is saying that that is the appropriate driver for sybase) and added the jar file to the lib folder in my squirrel installation.  The error is still showing.</p>\n\n<p>The format for my URL is jdbc:sybase:Tds:host:port/DBNAME</p>\n\n<p>If anyone has any ideas, I would appreciate the help, I'm drawing all kinds of blanks here.</p>\n"},{"tags":["java","spring-boot","spring-retry"],"comments":[{"owner":{"account_id":1288095,"reputation":169316,"user_id":1240763,"display_name":"Gary Russell"},"score":2,"creation_date":1690994358,"post_id":76821829,"comment_id":135431596,"body_markdown":"You would need a custom back off policy and manually configure an interceptor, passing its bean name into the annotation. However, spring-retry is not really suitable for such long delays because the thread is suspended for that time. You would be better off using custom logic with a `TaskScheduler` instead.","body":"You would need a custom back off policy and manually configure an interceptor, passing its bean name into the annotation. However, spring-retry is not really suitable for such long delays because the thread is suspended for that time. You would be better off using custom logic with a <code>TaskScheduler</code> instead."}],"owner":{"account_id":29145919,"reputation":11,"user_id":22327836,"display_name":"Anjini Nitikka S"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":214,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691144712,"creation_date":1690993567,"question_id":76821829,"body_markdown":"```java\r\n@Retryable(retryFor = SQLException.class, maxAttempts = 2, backoff = @Backoff(delay = 100))\r\nvoid retryServiceWithCustomization(String sql) throws SQLException;\r\n```\r\n\r\nI want to make retry for 5 secs first 60 mins . After 60 mins , retry should be every 30 mins.And No retry logic after 2 days. How Can I implement this use case for above code?\r\n\r\nI have tried using delay and multiplier but not getting the logic","title":"Spring Boot Retry Logic","body":"<pre class=\"lang-java prettyprint-override\"><code>@Retryable(retryFor = SQLException.class, maxAttempts = 2, backoff = @Backoff(delay = 100))\nvoid retryServiceWithCustomization(String sql) throws SQLException;\n</code></pre>\n<p>I want to make retry for 5 secs first 60 mins . After 60 mins , retry should be every 30 mins.And No retry logic after 2 days. How Can I implement this use case for above code?</p>\n<p>I have tried using delay and multiplier but not getting the logic</p>\n"},{"tags":["java","android"],"owner":{"account_id":29158247,"reputation":1,"user_id":22337554,"display_name":"Kiran Srivastava"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691144625,"creation_date":1691144584,"question_id":76835046,"body_markdown":"I have created an app in which I will provide maths and physics questions which will include formula and text both. I am showing these questions in JLatexMathView so that formula can be displayed properly. But this view is showing the whole question no matter how many words are there in it , in just one line. When the number of words is increasing it decreases the size of the word but adjust the whole question in one line. I want to show it in paragraph form. How can I do that ?\r\n\r\nXML code \r\n\r\n\r\n```&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.MainActivity&quot;&gt;\r\n\r\n\r\n    &lt;ru.noties.jlatexmath.JLatexMathView\r\n        android:id=&quot;@+id/j_latex_math_view&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;400dp&quot;\r\n        android:background=&quot;@color/white&quot;\r\n        android:padding=&quot;16dip&quot;\r\n        app:jlmv_alignHorizontal=&quot;center&quot;\r\n        app:jlmv_alignVertical=&quot;center&quot;\r\n        app:jlmv_textSize=&quot;16sp&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;```\r\n\r\n\r\nJAVA code\r\n```\r\n final JLatexMathDrawable drawable = JLatexMathDrawable.builder(&quot;\\\\text{let find the formula find the formula and solve          &quot; +\r\n                        &quot; it now \\n $56 \\\\times 89 \\\\overleftarrow{} \\\\prod \\\\; \\\\lim_{n \\\\to \\\\infty} \\\\coprod$}&quot;)\r\n                .textSize(70)\r\n                .padding(8)\r\n                .background(0xFFffffff)\r\n                .align(JLatexMathDrawable.ALIGN_RIGHT)\r\n                .build();\r\n\r\n\r\n\r\n        latex.setLatexDrawable(drawable);\r\n```\r\n\r\n\r\n\r\n\r\n\r\nI was trying to show the question using jLatexMathView as a paragraph but it is being shown as a single line","title":"How to get line break in JLatexMathView","body":"<p>I have created an app in which I will provide maths and physics questions which will include formula and text both. I am showing these questions in JLatexMathView so that formula can be displayed properly. But this view is showing the whole question no matter how many words are there in it , in just one line. When the number of words is increasing it decreases the size of the word but adjust the whole question in one line. I want to show it in paragraph form. How can I do that ?</p>\n<p>XML code</p>\n<pre><code>&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n\n    &lt;ru.noties.jlatexmath.JLatexMathView\n        android:id=&quot;@+id/j_latex_math_view&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;400dp&quot;\n        android:background=&quot;@color/white&quot;\n        android:padding=&quot;16dip&quot;\n        app:jlmv_alignHorizontal=&quot;center&quot;\n        app:jlmv_alignVertical=&quot;center&quot;\n        app:jlmv_textSize=&quot;16sp&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;```\n\n\nJAVA code\n</code></pre>\n<p>final JLatexMathDrawable drawable = JLatexMathDrawable.builder(&quot;\\text{let find the formula find the formula and solve          &quot; +\n&quot; it now \\n $56 \\times 89 \\overleftarrow{} \\prod \\; \\lim_{n \\to \\infty} \\coprod$}&quot;)\n.textSize(70)\n.padding(8)\n.background(0xFFffffff)\n.align(JLatexMathDrawable.ALIGN_RIGHT)\n.build();</p>\n<pre><code>    latex.setLatexDrawable(drawable);\n</code></pre>\n<pre><code>\n\n\n\n\nI was trying to show the question using jLatexMathView as a paragraph but it is being shown as a single line\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1691142371,"post_id":76834746,"comment_id":135454877,"body_markdown":"So you want to add items only to the *end* of the list?","body":"So you want to add items only to the <i>end</i> of the list?"},{"owner":{"account_id":6813968,"reputation":8266,"user_id":5243272,"accept_rate":83,"display_name":"sandrooco"},"score":0,"creation_date":1691142458,"post_id":76834746,"comment_id":135454896,"body_markdown":"@Sweeper yes, just fill it up to make sure that `size()` will be `3`","body":"@Sweeper yes, just fill it up to make sure that <code>size()</code> will be <code>3</code>"},{"owner":{"account_id":208830,"reputation":10240,"user_id":459557,"display_name":"vanje"},"score":0,"creation_date":1691142775,"post_id":76834746,"comment_id":135454960,"body_markdown":"Then write your own fill() method. If the list length is less than 3 then you know how many fallback items you have to add. Then add these fallback items.","body":"Then write your own fill() method. If the list length is less than 3 then you know how many fallback items you have to add. Then add these fallback items."}],"answers":[{"tags":[],"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1691142806,"creation_date":1691142492,"answer_id":76834774,"question_id":76834746,"body_markdown":"Rather than using `fill`, use `addAll` and `nCopies`:\r\n\r\n```\r\nif (items.size() &lt; 3) {\r\n  items.addAll(Collections.nCopies(3 - items.size(), &quot;fallback&quot;));\r\n}\r\n```\r\n\r\nAs it says [in the Javadoc of `nCopies`](https://docs.oracle.com/javase/8/docs/api/java/util/Collections.html#nCopies-int-T-):\r\n\r\n&gt; This method is useful in combination with the List.addAll method to grow lists. \r\n","title":"How to fill List to be size 3 but don&#39;t overwrite existing values","body":"<p>Rather than using <code>fill</code>, use <code>addAll</code> and <code>nCopies</code>:</p>\n<pre><code>if (items.size() &lt; 3) {\n  items.addAll(Collections.nCopies(3 - items.size(), &quot;fallback&quot;));\n}\n</code></pre>\n<p>As it says <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Collections.html#nCopies-int-T-\" rel=\"nofollow noreferrer\">in the Javadoc of <code>nCopies</code></a>:</p>\n<blockquote>\n<p>This method is useful in combination with the List.addAll method to grow lists.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1691143332,"creation_date":1691143332,"answer_id":76834889,"question_id":76834746,"body_markdown":"While you could combine together some provided functionality to achieve it, writing your own `fill` method seems the most straightforward to me:\r\n```\r\nprivate static void fill(List&lt;String&gt; list, String fallback) {\r\n  if (list.size() &gt; 3) {\r\n    //do something?\r\n  }\r\n  while (list.size() &lt; 3) {\r\n    list.add(fallback);\r\n  }\r\n}\r\n```\r\nExample:\r\n```\r\npublic class RandomStuff {\r\n\r\n  public static void main(String[] args) {\r\n    List&lt;String&gt; list1 = new ArrayList&lt;&gt;(Arrays.asList(&quot;item&quot;, &quot;item&quot;, &quot;item&quot;));\r\n    List&lt;String&gt; list2 = new ArrayList&lt;&gt;(Arrays.asList(&quot;item&quot;, &quot;item&quot;));\r\n    List&lt;String&gt; list3 = new ArrayList&lt;&gt;();\r\n    List&lt;String&gt; list4 = new ArrayList&lt;&gt;(Arrays.asList(&quot;item&quot;, &quot;item&quot;, &quot;item&quot;, &quot;item&quot;));\r\n    String fallback = &quot;fallback&quot;;\r\n    fill(list1, fallback);\r\n    fill(list2, fallback);\r\n    fill(list3, fallback);\r\n    fill(list4, fallback);\r\n    System.out.println(list1);\r\n    System.out.println(list2);\r\n    System.out.println(list3);\r\n    System.out.println(list4);\r\n  }\r\n\r\n  private static void fill(List&lt;String&gt; list, String fallback) {\r\n    //body above\r\n  }\r\n}\r\n```","title":"How to fill List to be size 3 but don&#39;t overwrite existing values","body":"<p>While you could combine together some provided functionality to achieve it, writing your own <code>fill</code> method seems the most straightforward to me:</p>\n<pre><code>private static void fill(List&lt;String&gt; list, String fallback) {\n  if (list.size() &gt; 3) {\n    //do something?\n  }\n  while (list.size() &lt; 3) {\n    list.add(fallback);\n  }\n}\n</code></pre>\n<p>Example:</p>\n<pre><code>public class RandomStuff {\n\n  public static void main(String[] args) {\n    List&lt;String&gt; list1 = new ArrayList&lt;&gt;(Arrays.asList(&quot;item&quot;, &quot;item&quot;, &quot;item&quot;));\n    List&lt;String&gt; list2 = new ArrayList&lt;&gt;(Arrays.asList(&quot;item&quot;, &quot;item&quot;));\n    List&lt;String&gt; list3 = new ArrayList&lt;&gt;();\n    List&lt;String&gt; list4 = new ArrayList&lt;&gt;(Arrays.asList(&quot;item&quot;, &quot;item&quot;, &quot;item&quot;, &quot;item&quot;));\n    String fallback = &quot;fallback&quot;;\n    fill(list1, fallback);\n    fill(list2, fallback);\n    fill(list3, fallback);\n    fill(list4, fallback);\n    System.out.println(list1);\n    System.out.println(list2);\n    System.out.println(list3);\n    System.out.println(list4);\n  }\n\n  private static void fill(List&lt;String&gt; list, String fallback) {\n    //body above\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":6813968,"reputation":8266,"user_id":5243272,"accept_rate":83,"display_name":"sandrooco"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"accepted_answer_id":76834774,"answer_count":2,"score":-3,"last_activity_date":1691144604,"creation_date":1691142268,"question_id":76834746,"body_markdown":"I need to make sure that a List has exactly 3 items. Input examples:\r\n\r\n    1. [&quot;item&quot;, &quot;item&quot;, &quot;item&quot;]\r\n    2. [&quot;item&quot;, &quot;item&quot;]\r\n    3. []\r\n\r\nTarget output examples:\r\n\r\n    1. [&quot;item&quot;, &quot;item&quot;, &quot;item&quot;]\r\n    2. [&quot;item&quot;, &quot;item&quot;, &quot;fallback&quot;]\r\n    3. [&quot;fallback&quot;, &quot;fallback&quot;, &quot;fallback&quot;]\r\n\r\n\r\nI tried to use `Collections.fill(items, &quot;fallback&quot;);` but this overwrites the `&quot;item&quot;` values which I need to retain.\r\n","title":"How to fill List to be size 3 but don&#39;t overwrite existing values","body":"<p>I need to make sure that a List has exactly 3 items. Input examples:</p>\n<pre><code>1. [&quot;item&quot;, &quot;item&quot;, &quot;item&quot;]\n2. [&quot;item&quot;, &quot;item&quot;]\n3. []\n</code></pre>\n<p>Target output examples:</p>\n<pre><code>1. [&quot;item&quot;, &quot;item&quot;, &quot;item&quot;]\n2. [&quot;item&quot;, &quot;item&quot;, &quot;fallback&quot;]\n3. [&quot;fallback&quot;, &quot;fallback&quot;, &quot;fallback&quot;]\n</code></pre>\n<p>I tried to use <code>Collections.fill(items, &quot;fallback&quot;);</code> but this overwrites the <code>&quot;item&quot;</code> values which I need to retain.</p>\n"},{"tags":["java","charts","apache-poi","export","powerpoint"],"comments":[{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":1,"creation_date":1691036648,"post_id":76822212,"comment_id":135437037,"body_markdown":"For units of rectangle dimensions of `XSLFChart` see https://stackoverflow.com/questions/59848453/resizing-a-xslfchart/59853872#59853872. But not clear what meant with: &quot;find a way to add anchor and place chart from above code in predefined container in presentation&quot;. What predefined container? How would you do this using PowerPoint GUI? Please make the question more clear.","body":"For units of rectangle dimensions of <code>XSLFChart</code> see <a href=\"https://stackoverflow.com/questions/59848453/resizing-a-xslfchart/59853872#59853872\" title=\"resizing a xslfchart\">stackoverflow.com/questions/59848453/resizing-a-xslfchart/&hellip;</a>. But not clear what meant with: &quot;find a way to add anchor and place chart from above code in predefined container in presentation&quot;. What predefined container? How would you do this using PowerPoint GUI? Please make the question more clear."},{"owner":{"account_id":22339809,"reputation":31,"user_id":16559751,"display_name":"adi"},"score":0,"creation_date":1691143070,"post_id":76822212,"comment_id":135455019,"body_markdown":"Thanks @AxelRichter for the comment.\nI was following the thread you provided before but the problem is that when I&#39;m passing rectangle object chart is not reacting to the rectangle values. I&#39;m always receiving chart on (x,y) -&gt; (0,0) and size (w, h)-&gt; 0,0.\nAdding images to main thread.","body":"Thanks @AxelRichter for the comment. I was following the thread you provided before but the problem is that when I&#39;m passing rectangle object chart is not reacting to the rectangle values. I&#39;m always receiving chart on (x,y) -&gt; (0,0) and size (w, h)-&gt; 0,0. Adding images to main thread."},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":0,"creation_date":1691143556,"post_id":76822212,"comment_id":135455111,"body_markdown":"My answer in https://stackoverflow.com/questions/45373942/java-create-a-chart-in-a-powerpoint-using-apache-poi now provides an additional example using `XDDF`. Works for me using current Apache POI 5.2.3. Produces a properly dimesioned chart using `Rectangle chartDimensions = new Rectangle(100*Units.EMU_PER_POINT, 50*Units.EMU_PER_POINT, 400*Units.EMU_PER_POINT, 400*Units.EMU_PER_POINT);\nslide.addChart(chart, chartDimensions);`","body":"My answer in <a href=\"https://stackoverflow.com/questions/45373942/java-create-a-chart-in-a-powerpoint-using-apache-poi\" title=\"java create a chart in a powerpoint using apache poi\">stackoverflow.com/questions/45373942/&hellip;</a> now provides an additional example using <code>XDDF</code>. Works for me using current Apache POI 5.2.3. Produces a properly dimesioned chart using <code>Rectangle chartDimensions = new Rectangle(100*Units.EMU_PER_POINT, 50*Units.EMU_PER_POINT, 400*Units.EMU_PER_POINT, 400*Units.EMU_PER_POINT); slide.addChart(chart, chartDimensions);</code>"}],"owner":{"account_id":22339809,"reputation":31,"user_id":16559751,"display_name":"adi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":110,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1691143759,"creation_date":1690997063,"question_id":76822212,"body_markdown":"I&#39;m trying to create bar chart as POC and place it in presentation slide container. \r\nI&#39;m able to create chart but it&#39;s appearing in top right corner and it&#39;s very small. When I&#39;m adding dimensions it&#39;s appearing even smaller (not visible). \r\nHere is code:\r\n```\r\nXMLSlideShow ppt = new XMLSlideShow();\r\n// Create a slide\r\nXSLFSlide slide = ppt.createSlide();\r\nXSLFChart chart = ppt.createChart(slide);\r\nchart.setTitleText(&quot;Test Chart&quot;);\r\n// bar chart\r\nXDDFCategoryAxis bottomAxis = chart.createCategoryAxis(AxisPosition.BOTTOM);\r\nXDDFValueAxis leftAxis = chart.createValueAxis(AxisPosition.LEFT);\r\nleftAxis.setCrosses(AxisCrosses.AUTO_ZERO);\r\nleftAxis.setCrossBetween(AxisCrossBetween.BETWEEN);\r\n\r\n// Define chart data\r\nXDDFChartData data = chart.createData(ChartTypes.BAR, bottomAxis, leftAxis);\r\n\r\n// Add chart categories (x-axis data)\r\nString[] categories = new String[] { &quot;Category 1&quot;, &quot;Category 2&quot;, &quot;Category 3&quot; };\r\nXDDFCategoryDataSource categoryData = XDDFDataSourcesFactory.fromArray(categories);\r\n\r\n// Add chart values (y-axis data)\r\nDouble[] values = new Double[] { 10.0, 20.0, 15.0 };\r\nXDDFNumericalDataSource&lt;Double&gt; valueData = XDDFDataSourcesFactory.fromArray(values);\r\nXDDFBarChartData bar = (XDDFBarChartData) data;\r\nbar.setBarDirection(BarDirection.BAR);\r\n\r\nXDDFChartData.Series series = data.addSeries(categoryData, valueData);\r\nseries.setTitle(&quot;Series 1&quot;, null);\r\nchart.plot(data);\r\nslide.addChart(chart);\r\n\r\n// Save the presentation to a file\r\nFileOutputStream out = new FileOutputStream(&quot;ChartPresentation.pptx&quot;);\r\nppt.write(out);\r\nout.close();\r\n```\r\n\r\nI was also trying to pass dimensions but then chart is even smaller. \r\n```\r\nslide.addChart(chart, new Rectangle2D.Float(10, 10, 400, 400));\r\n```\r\n\r\nI was also following sample from [java-create-a-chart-in-a-powerpoint-using-apache-poi](https://stackoverflow.com/questions/45373942/java-create-a-chart-in-a-powerpoint-using-apache-poi) but that one is more complex and not ideal. \r\nit&#39;s not showing charts in preview of the file. File looks like empty. \r\nOutput presentation:\r\n[![output presentation][1]][1]\r\n\r\nResize chart to show that it&#39;s generating:\r\n[![enter image description here][2]][2]\r\n\r\nAlso I can&#39;t find a way to add anchor and place chart from above code in predefined container in presentation. What I mean, I&#39;d like to place chart in predefined container that already exists in template. \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/pnH5L.png\r\n  [2]: https://i.stack.imgur.com/UKixo.png","title":"Apache-poi PowerPoint create chart and place into container in presentation","body":"<p>I'm trying to create bar chart as POC and place it in presentation slide container.\nI'm able to create chart but it's appearing in top right corner and it's very small. When I'm adding dimensions it's appearing even smaller (not visible).\nHere is code:</p>\n<pre><code>XMLSlideShow ppt = new XMLSlideShow();\n// Create a slide\nXSLFSlide slide = ppt.createSlide();\nXSLFChart chart = ppt.createChart(slide);\nchart.setTitleText(&quot;Test Chart&quot;);\n// bar chart\nXDDFCategoryAxis bottomAxis = chart.createCategoryAxis(AxisPosition.BOTTOM);\nXDDFValueAxis leftAxis = chart.createValueAxis(AxisPosition.LEFT);\nleftAxis.setCrosses(AxisCrosses.AUTO_ZERO);\nleftAxis.setCrossBetween(AxisCrossBetween.BETWEEN);\n\n// Define chart data\nXDDFChartData data = chart.createData(ChartTypes.BAR, bottomAxis, leftAxis);\n\n// Add chart categories (x-axis data)\nString[] categories = new String[] { &quot;Category 1&quot;, &quot;Category 2&quot;, &quot;Category 3&quot; };\nXDDFCategoryDataSource categoryData = XDDFDataSourcesFactory.fromArray(categories);\n\n// Add chart values (y-axis data)\nDouble[] values = new Double[] { 10.0, 20.0, 15.0 };\nXDDFNumericalDataSource&lt;Double&gt; valueData = XDDFDataSourcesFactory.fromArray(values);\nXDDFBarChartData bar = (XDDFBarChartData) data;\nbar.setBarDirection(BarDirection.BAR);\n\nXDDFChartData.Series series = data.addSeries(categoryData, valueData);\nseries.setTitle(&quot;Series 1&quot;, null);\nchart.plot(data);\nslide.addChart(chart);\n\n// Save the presentation to a file\nFileOutputStream out = new FileOutputStream(&quot;ChartPresentation.pptx&quot;);\nppt.write(out);\nout.close();\n</code></pre>\n<p>I was also trying to pass dimensions but then chart is even smaller.</p>\n<pre><code>slide.addChart(chart, new Rectangle2D.Float(10, 10, 400, 400));\n</code></pre>\n<p>I was also following sample from <a href=\"https://stackoverflow.com/questions/45373942/java-create-a-chart-in-a-powerpoint-using-apache-poi\">java-create-a-chart-in-a-powerpoint-using-apache-poi</a> but that one is more complex and not ideal.\nit's not showing charts in preview of the file. File looks like empty.\nOutput presentation:\n<a href=\"https://i.stack.imgur.com/pnH5L.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pnH5L.png\" alt=\"output presentation\" /></a></p>\n<p>Resize chart to show that it's generating:\n<a href=\"https://i.stack.imgur.com/UKixo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UKixo.png\" alt=\"enter image description here\" /></a></p>\n<p>Also I can't find a way to add anchor and place chart from above code in predefined container in presentation. What I mean, I'd like to place chart in predefined container that already exists in template.</p>\n"},{"tags":["java","spring","logging","spring-security","exception"],"comments":[{"owner":{"account_id":135174,"reputation":17875,"user_id":337819,"accept_rate":68,"display_name":"Marvo"},"score":0,"creation_date":1568662714,"post_id":51788764,"comment_id":102337889,"body_markdown":"What I can&#39;t figure out is WHO is adding the extra slash?  I type &quot;example.com/app/main&quot; into the browser&#39;s address field, and Spring is somehow getting &quot;/app//main&quot;.","body":"What I can&#39;t figure out is WHO is adding the extra slash?  I type &quot;example.com/app/main&quot; into the browser&#39;s address field, and Spring is somehow getting &quot;/app//main&quot;."},{"owner":{"account_id":261142,"reputation":47118,"user_id":545127,"accept_rate":69,"display_name":"Raedwald"},"score":1,"creation_date":1615889348,"post_id":51788764,"comment_id":117825228,"body_markdown":"Recorded as [Spring Security bug 5007](https://github.com/spring-projects/spring-security/issues/5007). Noted as fixed in version 5.4.0-M1 in July 2020; [version 5.4.0 was released](https://spring.io/blog/2020/09/10/spring-security-5-4-goes-ga) in September 2020.","body":"Recorded as <a href=\"https://github.com/spring-projects/spring-security/issues/5007\" rel=\"nofollow noreferrer\">Spring Security bug 5007</a>. Noted as fixed in version 5.4.0-M1 in July 2020; <a href=\"https://spring.io/blog/2020/09/10/spring-security-5-4-goes-ga\" rel=\"nofollow noreferrer\">version 5.4.0 was released</a> in September 2020."},{"owner":{"account_id":261142,"reputation":47118,"user_id":545127,"accept_rate":69,"display_name":"Raedwald"},"score":1,"creation_date":1615889476,"post_id":51788764,"comment_id":117825279,"body_markdown":"However, I am having the same problem with Spring Security 5.4.2. So I guess they have not so much *fixed* the problem, as made it easier to implement a work-around.","body":"However, I am having the same problem with Spring Security 5.4.2. So I guess they have not so much <i>fixed</i> the problem, as made it easier to implement a work-around."}],"answers":[{"tags":[],"owner":{"account_id":2369743,"reputation":7275,"user_id":2074605,"accept_rate":100,"display_name":"Parker"},"down_vote_count":1,"up_vote_count":19,"is_accepted":false,"score":18,"last_activity_date":1536763918,"creation_date":1533926419,"answer_id":51792347,"question_id":51788764,"body_markdown":"I implemented a subclass of `StrictHttpFirewall` that logs request information to the console and throws a new exception with a suppressed stack trace. This partially solves my problem (at least I can see the bad requests now).\r\n\r\nIf you just want to see the rejected requests without the stack trace, this is the answer you&#39;re looking for.\r\n\r\nIf you want to handle these exceptions in a controller, please refer to the [accepted answer][1] for a complete (but slightly more complex) solution.\r\n\r\n---\r\n\r\n**LoggingHttpFirewall.java**\r\n\r\nThis class extends [StrictHttpFirewall][2] to catch `RequestRejectedException` and throws a new exception with metadata from the request and a suppressed stack trace.\r\n\r\n    import java.util.logging.Level;\r\n    import java.util.logging.Logger;\r\n    \r\n    import javax.servlet.http.HttpServletRequest;\r\n    import javax.servlet.http.HttpServletResponse;\r\n    \r\n    import org.springframework.security.web.firewall.FirewalledRequest;\r\n    import org.springframework.security.web.firewall.RequestRejectedException;\r\n    import org.springframework.security.web.firewall.StrictHttpFirewall;\r\n    \r\n    /**\r\n     * Overrides the StrictHttpFirewall to log some useful information about blocked requests.\r\n     */\r\n    public final class LoggingHttpFirewall extends StrictHttpFirewall\r\n    {\r\n        /**\r\n         * Logger.\r\n         */\r\n        private static final Logger LOGGER = Logger.getLogger(LoggingHttpFirewall.class.getName());\r\n    \r\n        /**\r\n         * Default constructor.\r\n         */\r\n        public LoggingHttpFirewall()\r\n        {\r\n            super();\r\n            return;\r\n        }\r\n    \r\n        /**\r\n         * Provides the request object which will be passed through the filter chain.\r\n         *\r\n         * @returns A FirewalledRequest (required by the HttpFirewall interface) which\r\n         *          inconveniently breaks the general contract of ServletFilter because\r\n         *          we can&#39;t upcast this to an HttpServletRequest. This prevents us\r\n         *          from re-wrapping this using an HttpServletRequestWrapper.\r\n         * @throws RequestRejectedException if the request should be rejected immediately.\r\n         */\r\n        @Override\r\n        public FirewalledRequest getFirewalledRequest(final HttpServletRequest request) throws RequestRejectedException\r\n        {\r\n            try\r\n            {\r\n                return super.getFirewalledRequest(request);\r\n            } catch (RequestRejectedException ex) {\r\n                if (LOGGER.isLoggable(Level.WARNING))\r\n                {\r\n                    LOGGER.log(Level.WARNING, &quot;Intercepted RequestBlockedException: Remote Host: &quot; + request.getRemoteHost() + &quot; User Agent: &quot; + request.getHeader(&quot;User-Agent&quot;) + &quot; Request URL: &quot; + request.getRequestURL().toString());\r\n                }\r\n    \r\n                // Wrap in a new RequestRejectedException with request metadata and a shallower stack trace.\r\n                throw new RequestRejectedException(ex.getMessage() + &quot;.\\n Remote Host: &quot; + request.getRemoteHost() + &quot;\\n User Agent: &quot; + request.getHeader(&quot;User-Agent&quot;) + &quot;\\n Request URL: &quot; + request.getRequestURL().toString())\r\n                {\r\n                    private static final long serialVersionUID = 1L;\r\n    \r\n                    @Override\r\n                    public synchronized Throwable fillInStackTrace()\r\n                    {\r\n                        return this; // suppress the stack trace.\r\n                    }\r\n                };\r\n            }\r\n        }\r\n    \r\n        /**\r\n         * Provides the response which will be passed through the filter chain.\r\n         * This method isn&#39;t extensible because the request may already be committed.\r\n         * Furthermore, this is only invoked for requests that were not blocked, so we can&#39;t\r\n         * control the status or response for blocked requests here.\r\n         *\r\n         * @param response The original HttpServletResponse.\r\n         * @return the original response or a replacement/wrapper.\r\n         */\r\n        @Override\r\n        public HttpServletResponse getFirewalledResponse(final HttpServletResponse response)\r\n        {\r\n            // Note: The FirewalledResponse class is not accessible outside the package.\r\n            return super.getFirewalledResponse(response);\r\n        }\r\n    }\r\n\r\n---\r\n\r\n**WebSecurityConfig.java**\r\n\r\nIn `WebSecurityConfig`, set the HTTP firewall to the `LoggingHttpFirewall`.\r\n\r\n    @EnableWebSecurity\r\n    public class WebSecurityConfig extends WebSecurityConfigurerAdapter\r\n    {\r\n        /**\r\n         * Default constructor.\r\n         */\r\n        public WebSecurityConfig()\r\n        {\r\n            super();\r\n            return;\r\n        }\r\n    \r\n        @Override\r\n        public final void configure(final WebSecurity web) throws Exception\r\n        {\r\n            super.configure(web);\r\n            web.httpFirewall(new LoggingHttpFirewall()); // Set the custom firewall.\r\n            return;\r\n        }\r\n    }\r\n\r\n---\r\n\r\n**Results**\r\n\r\nAfter deploying this solution to production, I quickly discovered that the default behavior of `StrictHttpFirewall` was blocking Google from indexing my site!\r\n\r\n    Aug 13, 2018 1:48:56 PM com.mycompany.spring.security.AnnotatingHttpFirewall getFirewalledRequest\r\n    WARNING: Intercepted RequestBlockedException: Remote Host: 66.249.64.223 User Agent: Mozilla/5.0 (Linux; Android 6.0.1; Nexus 5X Build/MMB29P) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/41.0.2272.96 Mobile Safari/537.36 (compatible; Googlebot/2.1; +http://www.google.com/bot.html) Request URL: https://www.mycompany.com/10.1601/tx.3784;jsessionid=692804549F9AB55F45DBD0AFE2A97FFD\r\n\r\nAs soon as I discovered this, I quickly deployed a new version (included in [my other answer][1]) that looks for `;jsessionid=` and allows these requests through. There may well be other requests that should pass through as well, and now I have a way of detecting these.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/51800972/2074605\r\n  [2]: https://docs.spring.io/spring-security/site/docs/4.2.7.RELEASE/apidocs/org/springframework/security/web/firewall/StrictHttpFirewall.html","title":"How to intercept a RequestRejectedException in Spring?","body":"<p>I implemented a subclass of <code>StrictHttpFirewall</code> that logs request information to the console and throws a new exception with a suppressed stack trace. This partially solves my problem (at least I can see the bad requests now).</p>\n\n<p>If you just want to see the rejected requests without the stack trace, this is the answer you're looking for.</p>\n\n<p>If you want to handle these exceptions in a controller, please refer to the <a href=\"https://stackoverflow.com/a/51800972/2074605\">accepted answer</a> for a complete (but slightly more complex) solution.</p>\n\n<hr>\n\n<p><strong>LoggingHttpFirewall.java</strong></p>\n\n<p>This class extends <a href=\"https://docs.spring.io/spring-security/site/docs/4.2.7.RELEASE/apidocs/org/springframework/security/web/firewall/StrictHttpFirewall.html\" rel=\"noreferrer\">StrictHttpFirewall</a> to catch <code>RequestRejectedException</code> and throws a new exception with metadata from the request and a suppressed stack trace.</p>\n\n<pre><code>import java.util.logging.Level;\nimport java.util.logging.Logger;\n\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\n\nimport org.springframework.security.web.firewall.FirewalledRequest;\nimport org.springframework.security.web.firewall.RequestRejectedException;\nimport org.springframework.security.web.firewall.StrictHttpFirewall;\n\n/**\n * Overrides the StrictHttpFirewall to log some useful information about blocked requests.\n */\npublic final class LoggingHttpFirewall extends StrictHttpFirewall\n{\n    /**\n     * Logger.\n     */\n    private static final Logger LOGGER = Logger.getLogger(LoggingHttpFirewall.class.getName());\n\n    /**\n     * Default constructor.\n     */\n    public LoggingHttpFirewall()\n    {\n        super();\n        return;\n    }\n\n    /**\n     * Provides the request object which will be passed through the filter chain.\n     *\n     * @returns A FirewalledRequest (required by the HttpFirewall interface) which\n     *          inconveniently breaks the general contract of ServletFilter because\n     *          we can't upcast this to an HttpServletRequest. This prevents us\n     *          from re-wrapping this using an HttpServletRequestWrapper.\n     * @throws RequestRejectedException if the request should be rejected immediately.\n     */\n    @Override\n    public FirewalledRequest getFirewalledRequest(final HttpServletRequest request) throws RequestRejectedException\n    {\n        try\n        {\n            return super.getFirewalledRequest(request);\n        } catch (RequestRejectedException ex) {\n            if (LOGGER.isLoggable(Level.WARNING))\n            {\n                LOGGER.log(Level.WARNING, \"Intercepted RequestBlockedException: Remote Host: \" + request.getRemoteHost() + \" User Agent: \" + request.getHeader(\"User-Agent\") + \" Request URL: \" + request.getRequestURL().toString());\n            }\n\n            // Wrap in a new RequestRejectedException with request metadata and a shallower stack trace.\n            throw new RequestRejectedException(ex.getMessage() + \".\\n Remote Host: \" + request.getRemoteHost() + \"\\n User Agent: \" + request.getHeader(\"User-Agent\") + \"\\n Request URL: \" + request.getRequestURL().toString())\n            {\n                private static final long serialVersionUID = 1L;\n\n                @Override\n                public synchronized Throwable fillInStackTrace()\n                {\n                    return this; // suppress the stack trace.\n                }\n            };\n        }\n    }\n\n    /**\n     * Provides the response which will be passed through the filter chain.\n     * This method isn't extensible because the request may already be committed.\n     * Furthermore, this is only invoked for requests that were not blocked, so we can't\n     * control the status or response for blocked requests here.\n     *\n     * @param response The original HttpServletResponse.\n     * @return the original response or a replacement/wrapper.\n     */\n    @Override\n    public HttpServletResponse getFirewalledResponse(final HttpServletResponse response)\n    {\n        // Note: The FirewalledResponse class is not accessible outside the package.\n        return super.getFirewalledResponse(response);\n    }\n}\n</code></pre>\n\n<hr>\n\n<p><strong>WebSecurityConfig.java</strong></p>\n\n<p>In <code>WebSecurityConfig</code>, set the HTTP firewall to the <code>LoggingHttpFirewall</code>.</p>\n\n<pre><code>@EnableWebSecurity\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter\n{\n    /**\n     * Default constructor.\n     */\n    public WebSecurityConfig()\n    {\n        super();\n        return;\n    }\n\n    @Override\n    public final void configure(final WebSecurity web) throws Exception\n    {\n        super.configure(web);\n        web.httpFirewall(new LoggingHttpFirewall()); // Set the custom firewall.\n        return;\n    }\n}\n</code></pre>\n\n<hr>\n\n<p><strong>Results</strong></p>\n\n<p>After deploying this solution to production, I quickly discovered that the default behavior of <code>StrictHttpFirewall</code> was blocking Google from indexing my site!</p>\n\n<pre><code>Aug 13, 2018 1:48:56 PM com.mycompany.spring.security.AnnotatingHttpFirewall getFirewalledRequest\nWARNING: Intercepted RequestBlockedException: Remote Host: 66.249.64.223 User Agent: Mozilla/5.0 (Linux; Android 6.0.1; Nexus 5X Build/MMB29P) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/41.0.2272.96 Mobile Safari/537.36 (compatible; Googlebot/2.1; +http://www.google.com/bot.html) Request URL: https://www.mycompany.com/10.1601/tx.3784;jsessionid=692804549F9AB55F45DBD0AFE2A97FFD\n</code></pre>\n\n<p>As soon as I discovered this, I quickly deployed a new version (included in <a href=\"https://stackoverflow.com/a/51800972/2074605\">my other answer</a>) that looks for <code>;jsessionid=</code> and allows these requests through. There may well be other requests that should pass through as well, and now I have a way of detecting these.</p>\n"},{"tags":[],"owner":{"account_id":2369743,"reputation":7275,"user_id":2074605,"accept_rate":100,"display_name":"Parker"},"down_vote_count":1,"up_vote_count":15,"is_accepted":true,"score":14,"last_activity_date":1537884288,"creation_date":1533999922,"answer_id":51800972,"question_id":51788764,"body_markdown":"It turns out that although `HttpFirewall` and `StrictHttpFirewall` contain several design errors (documented in the code below), it is just barely possible to escape Spring Security&#39;s *One True Firewall* and tunnel the `HttpFirewall` information via a request attribute to a `HandlerInterceptor` that can pass these flagged requests to a *real* (persistent) firewall without sacrificing the original business logic that flagged them in the first place. The method documented here should be fairly future-proof, as it conforms to a simple contract from the `HttpFirewall` interface, and the rest is simply the core Spring Framework and Java Servlet API.\r\n\r\nThis is essentially a more complicated but more complete alternative to [my earlier answer][1]. In this answer, I implemented a new subclass of `StrictHttpFirewall` that intercepts and logs rejected requests at a specific logging level, but also adds an attribute to the HTTP request that flags it for downstream filters (or controllers) to handle. Also, this `AnnotatingHttpFirewall` provides an `inspect()` method that allows subclasses to add custom rules for blocking requests.\r\n\r\nThis solution is split into two parts: (1) *Spring Security* and (2) *Spring Framework (Core)*, because that is the divide that caused this problem in the first place, and this shows how to bridge it. \r\n\r\nFor reference, this is tested on Spring 4.3.17 and Spring Security 4.2.6. There may be significant changes when Spring 5.1 is released.\r\n\r\n---\r\n\r\n**Part 1: Spring Security**\r\n\r\nThis is the half of the solution that performs the logging and flagging within Spring Security.\r\n\r\n---\r\n\r\n**AnnotatingHttpFirewall.java**\r\n\r\n    import java.util.logging.Level;\r\n    import java.util.logging.Logger;\r\n    \r\n    import javax.servlet.http.HttpServletRequest;\r\n    import javax.servlet.http.HttpServletResponse;\r\n    \r\n    import org.springframework.security.web.firewall.FirewalledRequest;\r\n    import org.springframework.security.web.firewall.RequestRejectedException;\r\n    import org.springframework.security.web.firewall.StrictHttpFirewall;\r\n    \r\n    /**\r\n     * Overrides the StrictHttpFirewall to log some useful information about blocked requests.\r\n     */\r\n    public class AnnotatingHttpFirewall extends StrictHttpFirewall\r\n    {\r\n        /**\r\n         * The name of the HTTP header representing a request that has been rejected by this firewall.\r\n         */\r\n        public static final String HTTP_HEADER_REQUEST_REJECTED_FLAG = &quot;X-HttpFirewall-RequestRejectedFlag&quot;;\r\n\r\n        /**\r\n         * The name of the HTTP header representing the reason a request has been rejected by this firewall.\r\n         */\r\n        public static final String HTTP_HEADER_REQUEST_REJECTED_REASON = &quot;X-HttpFirewall-RequestRejectedReason&quot;;\r\n\r\n        /**\r\n         * Logger.\r\n         */\r\n        private static final Logger LOGGER = Logger.getLogger(AnnotatingHttpFirewall.class.getName());\r\n    \r\n        /**\r\n         * Default constructor.\r\n         */\r\n        public AnnotatingHttpFirewall()\r\n        {\r\n            super();\r\n            return;\r\n        }\r\n    \r\n        /**\r\n         * Provides the request object which will be passed through the filter chain.\r\n         *\r\n         * @param request The original HttpServletRequest.\r\n         * @returns A FirewalledRequest (required by the HttpFirewall interface) which\r\n         *          inconveniently breaks the general contract of ServletFilter because\r\n         *          we can&#39;t upcast this to an HttpServletRequest. This prevents us\r\n         *          from re-wrapping this using an HttpServletRequestWrapper.\r\n         */\r\n        @Override\r\n        public FirewalledRequest getFirewalledRequest(final HttpServletRequest request)\r\n        {\r\n            try\r\n            {\r\n                this.inspect(request); // Perform any additional checks that the naive &quot;StrictHttpFirewall&quot; misses.\r\n                return super.getFirewalledRequest(request);\r\n            } catch (RequestRejectedException ex) {\r\n                final String requestUrl = request.getRequestURL().toString();\r\n\r\n                // Override some of the default behavior because some requests are\r\n                // legitimate.\r\n                if (requestUrl.contains(&quot;;jsessionid=&quot;))\r\n                {\r\n                    // Do not block non-cookie serialized sessions. Google&#39;s crawler does this often.\r\n                } else {\r\n                    // Log anything that is blocked so we can find these in the catalina.out log.\r\n                    // This will give us any information we need to make\r\n                    // adjustments to these special cases and see potentially\r\n                    // malicious activity.\r\n                    if (LOGGER.isLoggable(Level.WARNING))\r\n                    {\r\n                        LOGGER.log(Level.WARNING, &quot;Intercepted RequestBlockedException: Remote Host: &quot; + request.getRemoteHost() + &quot; User Agent: &quot; + request.getHeader(&quot;User-Agent&quot;) + &quot; Request URL: &quot; + request.getRequestURL().toString());\r\n                    }\r\n                    \r\n                    // Mark this request as rejected.\r\n                    request.setAttribute(HTTP_HEADER_REQUEST_REJECTED, Boolean.TRUE);\r\n                    request.setAttribute(HTTP_HEADER_REQUEST_REJECTED_REASON, ex.getMessage());\r\n                }\r\n                \r\n                // Suppress the RequestBlockedException and pass the request through\r\n                // with the additional attribute.\r\n                return new FirewalledRequest(request)\r\n                {\r\n                    @Override\r\n                    public void reset()\r\n                    {\r\n                        return;\r\n                    }\r\n                };\r\n            }\r\n        }\r\n    \r\n        /**\r\n         * Provides the response which will be passed through the filter chain.\r\n         * This method isn&#39;t extensible because the request may already be committed.\r\n         * Furthermore, this is only invoked for requests that were not blocked, so we can&#39;t\r\n         * control the status or response for blocked requests here.\r\n         *\r\n         * @param response The original HttpServletResponse.\r\n         * @return the original response or a replacement/wrapper.\r\n         */\r\n        @Override\r\n        public HttpServletResponse getFirewalledResponse(final HttpServletResponse response)\r\n        {\r\n            // Note: The FirewalledResponse class is not accessible outside the package.\r\n            return super.getFirewalledResponse(response);\r\n        }\r\n        \r\n        /**\r\n         * Perform any custom checks on the request.\r\n         * This method may be overridden by a subclass in order to supplement or replace these tests.\r\n         *\r\n         * @param request The original HttpServletRequest.\r\n         * @throws RequestRejectedException if the request should be rejected immediately.\r\n         */\r\n        public void inspect(final HttpServletRequest request) throws RequestRejectedException\r\n        {\r\n            final String requestUri = request.getRequestURI(); // path without parameters\r\n    //        final String requestUrl = request.getRequestURL().toString(); // full path with parameters\r\n            \r\n            if (requestUri.endsWith(&quot;/wp-login.php&quot;))\r\n            {\r\n                throw new RequestRejectedException(&quot;The request was rejected because it is a vulnerability scan.&quot;);\r\n            }\r\n            \r\n            if (requestUri.endsWith(&quot;.php&quot;))\r\n            {\r\n                throw new RequestRejectedException(&quot;The request was rejected because it is a likely vulnerability scan.&quot;);\r\n            }\r\n            \r\n            return; // The request passed all custom tests.\r\n        }\r\n    }\r\n\r\n---\r\n\r\n**WebSecurityConfig.java**\r\n\r\nIn `WebSecurityConfig`, set the HTTP firewall to the `AnnotatingHttpFirewall`.\r\n\r\n    @EnableWebSecurity\r\n    public class WebSecurityConfig extends WebSecurityConfigurerAdapter\r\n    {\r\n        /**\r\n         * Default constructor.\r\n         */\r\n        public WebSecurityConfig()\r\n        {\r\n            super();\r\n            return;\r\n        }\r\n    \r\n        @Override\r\n        public final void configure(final WebSecurity web) throws Exception\r\n        {\r\n            super.configure(web);\r\n            web.httpFirewall(new AnnotatingHttpFirewall()); // Set the custom firewall.\r\n            return;\r\n        }\r\n    }\r\n\r\n---\r\n\r\n**Part 2: Spring Framework**\r\n\r\nThe second part of this solution could conceivably be implemented as a `ServletFilter` or `HandlerInterceptor`. I&#39;m going the path of a `HandlerInterceptor` because it seems to give the most flexibility and works directly within the Spring Framework.\r\n\r\n---\r\n\r\n**RequestBlockedException.java**\r\n\r\nThis custom exception can be handled by an Error Controller. This may be extended to add any request headers, parameters or properties available from the raw request (even the full request itself) that may be pertinent to application business logic (e.g., a persistent firewall).\r\n\r\n    /**\r\n     * A custom exception for situations where a request is blocked or rejected.\r\n     */\r\n    public class RequestBlockedException extends RuntimeException\r\n    {\r\n        private static final long serialVersionUID = 1L;\r\n    \r\n        /**\r\n         * The requested URL.\r\n         */\r\n        private String requestUrl;\r\n    \r\n        /**\r\n         * The remote address of the client making the request.\r\n         */\r\n        private String remoteAddress;\r\n    \r\n        /**\r\n         * A message or reason for blocking the request.\r\n         */\r\n        private String reason;\r\n    \r\n        /**\r\n         * The user agent supplied by the client the request.\r\n         */\r\n        private String userAgent;\r\n    \r\n        /**\r\n         * Creates a new Request Blocked Exception.\r\n         *\r\n         * @param reqUrl The requested URL.\r\n         * @param remoteAddr The remote address of the client making the request.\r\n         * @param userAgent The user agent supplied by the client making the request.\r\n         * @param message A message or reason for blocking the request.\r\n         */\r\n        public RequestBlockedException(final String reqUrl, final String remoteAddr, final String userAgent, final String message)\r\n        {\r\n            this.requestUrl = reqUrl;\r\n            this.remoteAddress = remoteAddr;\r\n            this.userAgent = userAgent;\r\n            this.reason = message;\r\n            return;\r\n        }\r\n    \r\n        /**\r\n         * Gets the requested URL.\r\n         *\r\n         * @return A URL.\r\n         */\r\n        public String getRequestUrl()\r\n        {\r\n            return this.requestUrl;\r\n        }\r\n    \r\n        /**\r\n         * Gets the remote address of the client making the request.\r\n         *\r\n         * @return A remote address.\r\n         */\r\n        public String getRemoteAddress()\r\n        {\r\n            return this.remoteAddress;\r\n        }\r\n    \r\n        /**\r\n         * Gets the user agent supplied by the client making the request.\r\n         *\r\n         * @return  A user agent string.\r\n         */\r\n        public String getUserAgent()\r\n        {\r\n            return this.userAgent;\r\n        }\r\n    \r\n        /**\r\n         * Gets the reason for blocking the request.\r\n         *\r\n         * @return  A message or reason for blocking the request.\r\n         */\r\n        public String getReason()\r\n        {\r\n            return this.reason;\r\n        }\r\n    }\r\n\r\n---\r\n\r\n**FirewallInterceptor.java**\r\n\r\nThis interceptor is invoked after the Spring Security filters have run (i.e., after `AnnotatingHttpFirewall` has flagged requests that should be rejected. This interceptor detects those flags (attributes) on the request and raises a custom exception that our Error Controller can handle.\r\n\r\n    import javax.servlet.http.HttpServletRequest;\r\n    import javax.servlet.http.HttpServletResponse;\r\n    \r\n    import org.springframework.web.method.HandlerMethod;\r\n    import org.springframework.web.servlet.HandlerInterceptor;\r\n    import org.springframework.web.servlet.ModelAndView;\r\n    \r\n    /**\r\n     * Intercepts requests that were flagged as rejected by the firewall.\r\n     */\r\n    public final class FirewallInterceptor implements HandlerInterceptor\r\n    {\r\n        /**\r\n         * Default constructor.\r\n         */\r\n        public FirewallInterceptor()\r\n        {\r\n            return;\r\n        }\r\n    \r\n        @Override\r\n        public boolean preHandle(final HttpServletRequest request, final HttpServletResponse response, final Object handler) throws Exception\r\n        {\r\n            if (Boolean.TRUE.equals(request.getAttribute(AnnotatingHttpFirewall.HTTP_HEADER_REQUEST_REJECTED)))\r\n            {\r\n                // Throw a custom exception that can be handled by a custom error controller.\r\n                final String reason = (String) request.getAttribute(AnnotatingHttpFirewall.HTTP_HEADER_REQUEST_REJECTED_REASON);\r\n                throw new RequestRejectedByFirewallException(request.getRequestURL().toString(), request.getRemoteAddr(), request.getHeader(HttpHeaders.USER_AGENT), reason);\r\n            }\r\n\r\n            return true; // Allow the request to proceed normally.\r\n        }\r\n        \r\n        @Override\r\n        public void postHandle(final HttpServletRequest request, final HttpServletResponse response, final Object handler, final ModelAndView modelAndView) throws Exception\r\n        {\r\n            return;\r\n        }\r\n    \r\n        @Override\r\n        public void afterCompletion(final HttpServletRequest request, final HttpServletResponse response, final Object handler, final Exception ex) throws Exception\r\n        {\r\n            return;\r\n        }\r\n    }\r\n\r\n---\r\n\r\n**WebConfig.java**\r\n\r\nIn `WebConfig`, add the `FirewallInterceptor` to the registry.\r\n\r\n    @EnableWebMvc\r\n    public class WebConfig extends WebMvcConfigurerAdapter\r\n    {\r\n        /**\r\n         * Among your other methods in this class, make sure you register\r\n         * your Interceptor.\r\n         */\r\n        @Override\r\n        public void addInterceptors(final InterceptorRegistry registry)\r\n        {\r\n            // Register firewall interceptor for all URLs in webapp.\r\n            registry.addInterceptor(new FirewallInterceptor()).addPathPatterns(&quot;/**&quot;);\r\n            return;\r\n        }\r\n    }\r\n\r\n---\r\n\r\n**ErrorController.java**\r\n\r\nThis specifically handles the custom exception above, and produces a clean error page for the client while logging all of the relevant information and invoking any special business logic for a custom application firewall.\r\n\r\n    import java.io.IOException;\r\n    import java.util.logging.Level;\r\n    import java.util.logging.Logger;\r\n\r\n    import org.springframework.web.servlet.NoHandlerFoundException;\r\n    \r\n    import org.springframework.http.HttpStatus;\r\n    import org.springframework.web.bind.annotation.ControllerAdvice;\r\n    import org.springframework.web.bind.annotation.ExceptionHandler;\r\n    import org.springframework.web.bind.annotation.ResponseStatus;\r\n\r\n    import RequestBlockedException;\r\n\r\n    @ControllerAdvice\r\n    public final class ErrorController\r\n    {\r\n        /**\r\n         * Logger.\r\n         */\r\n        private static final Logger LOGGER = Logger.getLogger(ErrorController.class.getName());\r\n    \r\n        /**\r\n         * Generates an Error page by intercepting exceptions generated from AnnotatingHttpFirewall.\r\n         *\r\n         * @param request The original HTTP request.\r\n         * @param ex A RequestBlockedException exception.\r\n         * @return The tile definition name for the page.\r\n         */\r\n        @ExceptionHandler(RequestBlockedException.class)\r\n        @ResponseStatus(HttpStatus.BAD_REQUEST)\r\n        public String handleRequestBlockedException(final RequestBlockedException ex)\r\n        {\r\n            if (LOGGER.isLoggable(Level.WARNING))\r\n            {\r\n                LOGGER.log(Level.WARNING, &quot;Rejected request from &quot; + ex.getRemoteAddress() + &quot; for [&quot; + ex.getRequestUrl() + &quot;]. Reason: &quot; + ex.getReason());\r\n            }\r\n    \r\n            // Note: Perform any additional business logic or logging here.\r\n            \r\n            return &quot;errorPage&quot;; // Returns a nice error page with the specified status code.\r\n        }\r\n    \r\n        /**\r\n         * Generates a Page Not Found page.\r\n         *\r\n         * @param ex A NoHandlerFound exception.\r\n         * @return The tile definition name for the page.\r\n         */\r\n        @ExceptionHandler(NoHandlerFoundException.class)\r\n        @ResponseStatus(HttpStatus.NOT_FOUND)\r\n        public String handleException(final NoHandlerFoundException ex)\r\n        {\r\n            return &quot;notFoundPage&quot;;\r\n        }\r\n    }\r\n\r\n---\r\n\r\n**FirewallController.java**\r\n\r\nA controller with a default mapping that throws a `NoHandlerFoundException`.\r\nThis circumvents the chicken-and-egg strategy in [DispatcherServlet.noHandlerFound][2], allowing that method to *always* find a mapping so that `FirewallInterceptor.preHandle` is always invoked. This gives `RequestRejectedByFirewallException` priority over `NoHandlerFoundException`.\r\n\r\nWhy this is necessary:\r\n\r\nAs mentioned [here][3], when a `NoHandlerFoundException` is thrown from `DispatcherServlet` (i.e., when a requested URL has no corresponding mapping), there is no way to handle the exceptions generated from the above firewall (`NoHandlerFoundException` is thrown prior to invoking [preHandle()][4]), so those requests will fall through to your 404 view (which is not the desired behavior in my case - you will see a lot of &quot;No mapping found for HTTP request with URI...&quot; messages). This could be fixed by moving the check for the special header into the `noHandlerFound` method. Unfortunately, there is no way to do this without writing a new Dispatcher Servlet from scratch, and then you may as well throw out the entire Spring Framework. It is impossible to extend `DispatcherServlet` due to the mix of protected, private and final methods, and the fact that its properties are inaccessible (no getters or setters). It is also impossible to wrap the class because there is no common interface that can be implemented. The default mapping in this class provides an elegant way to circumvent all of that logic.\r\n\r\n**Important caveat**: The RequestMapping below will prevent resolution of static resources because it takes precedence over all registered ResourceHandlers. I am still looking for a workaround for this, but one possibility might be to try one of the methods for handling static resources suggested in [this answer][5].\r\n\r\n    import org.springframework.http.HttpHeaders;\r\n    import org.springframework.stereotype.Controller;\r\n    import org.springframework.web.bind.annotation.ModelAttribute;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.servlet.NoHandlerFoundException;\r\n    \r\n    @Controller\r\n    public final class FirewallController\r\n    {\r\n        /**\r\n         * The name of the model attribute (or request parameter for advertisement click tracking) that contains the request URL.\r\n         */\r\n        protected static final String REQUEST_URL = &quot;requestUrl&quot;;\r\n    \r\n        /**\r\n         * The name of the model attribute that contains the request method.\r\n         */\r\n        protected static final String REQUEST_METHOD = &quot;requestMethod&quot;;\r\n    \r\n        /**\r\n         * The name of the model attribute that contains all HTTP headers.\r\n         */\r\n        protected static final String REQUEST_HEADERS = &quot;requestHeaders&quot;;\r\n\r\n        /**\r\n         * Default constructor.\r\n         */\r\n        public FirewallController()\r\n        {\r\n            return;\r\n        }\r\n\r\n        /**\r\n         * Populates the request URL model attribute from the HTTP request.\r\n         *\r\n         * @param request The HTTP request.\r\n         * @return The request URL.\r\n         */\r\n        @ModelAttribute(REQUEST_URL)\r\n        public final String getRequestURL(final HttpServletRequest request)\r\n        {\r\n            return request.getRequestURL().toString();\r\n        }\r\n    \r\n        /**\r\n         * Populates the request method from the HTTP request.\r\n         *\r\n         * @param request The HTTP request.\r\n         * @return The request method (GET, POST, HEAD, etc.).\r\n         */\r\n        @ModelAttribute(REQUEST_METHOD)\r\n        public final String getRequestMethod(final HttpServletRequest request)\r\n        {\r\n            return request.getMethod();\r\n        }\r\n    \r\n        /**\r\n         * Gets all headers from the HTTP request.\r\n         *\r\n         * @param request The HTTP request.\r\n         * @return The request headers.\r\n         */\r\n        @ModelAttribute(REQUEST_HEADERS)\r\n        public final HttpHeaders getRequestHeaders(final HttpServletRequest request)\r\n        {\r\n            return FirewallController.headers(request);\r\n        }\r\n\r\n        /**\r\n         * A catch-all default mapping that throws a NoHandlerFoundException.\r\n         * This will be intercepted by the ErrorController, which allows preHandle to work normally.\r\n         *\r\n         * @param requestMethod The request method.\r\n         * @param requestUrl The request URL.\r\n         * @param requestHeaders The request headers.\r\n         * @throws NoHandlerFoundException every time this method is invoked.\r\n         */\r\n        @RequestMapping(value = &quot;/**&quot;) // NOTE: This prevents resolution of static resources. Still looking for a workaround for this.\r\n        public void getNotFoundPage(@ModelAttribute(REQUEST_METHOD) final String requestMethod, @ModelAttribute(REQUEST_URL) final String requestUrl, @ModelAttribute(REQUEST_HEADERS) final HttpHeaders requestHeaders) throws NoHandlerFoundException\r\n        {\r\n            throw new NoHandlerFoundException(requestMethod, requestUrl, requestHeaders);\r\n        }\r\n    \r\n        /**\r\n         * Gets all headers from a HTTP request.\r\n         *\r\n         * @param request The HTTP request.\r\n         * @return The request headers.\r\n         */\r\n        public static HttpHeaders headers(final HttpServletRequest request)\r\n        {\r\n            final HttpHeaders headers = new HttpHeaders();\r\n    \r\n            for (Enumeration&lt;?&gt; names = request.getHeaderNames(); names.hasMoreElements();)\r\n            {\r\n                final String headerName = (String) names.nextElement();\r\n    \r\n                for (Enumeration&lt;?&gt; headerValues = request.getHeaders(headerName); headerValues.hasMoreElements();)\r\n                {\r\n                    headers.add(headerName, (String) headerValues.nextElement());\r\n                }\r\n            }\r\n    \r\n            return headers;\r\n        }\r\n    }\r\n\r\n---\r\n\r\n**Results**\r\n\r\nWhen both parts of this are working, you&#39;ll see the following two warnings logged (the first one is in Spring Security, the second one is the Spring Framework (Core) `ErrorController`). Now you have full control over logging, and an extensible application firewall that you can adjust however you need.\r\n\r\n    Sep 12, 2018 10:24:37 AM com.mycompany.spring.security.AnnotatingHttpFirewall getFirewalledRequest\r\n    WARNING: Intercepted org.springframework.security.web.firewall.RequestRejectedException: Remote Host: 0:0:0:0:0:0:0:1 User Agent: Mozilla/5.0 (Windows NT 6.3; Win64; x64; rv:62.0) Gecko/20100101 Firefox/62.0 Request URL: http://localhost:8080/webapp-www-mycompany-com/login.php\r\n    Sep 12, 2018 10:24:37 AM com.mycompany.spring.controller.ErrorController handleException\r\n    WARNING: Rejected request from 0:0:0:0:0:0:0:1 for [http://localhost:8080/webapp-www-mycompany-com/login.php]. Reason: The request was rejected because it is a likely vulnerability scan.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/51792347/2074605\r\n  [2]: https://github.com/spring-projects/spring-framework/blob/master/spring-webmvc/src/main/java/org/springframework/web/servlet/DispatcherServlet.java\r\n  [3]: https://stackoverflow.com/a/31790661/2074605\r\n  [4]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/servlet/HandlerInterceptor.html#preHandle-javax.servlet.http.HttpServletRequest-javax.servlet.http.HttpServletResponse-java.lang.Object-\r\n  [5]: https://stackoverflow.com/a/40563813/2074605","title":"How to intercept a RequestRejectedException in Spring?","body":"<p>It turns out that although <code>HttpFirewall</code> and <code>StrictHttpFirewall</code> contain several design errors (documented in the code below), it is just barely possible to escape Spring Security's <em>One True Firewall</em> and tunnel the <code>HttpFirewall</code> information via a request attribute to a <code>HandlerInterceptor</code> that can pass these flagged requests to a <em>real</em> (persistent) firewall without sacrificing the original business logic that flagged them in the first place. The method documented here should be fairly future-proof, as it conforms to a simple contract from the <code>HttpFirewall</code> interface, and the rest is simply the core Spring Framework and Java Servlet API.</p>\n\n<p>This is essentially a more complicated but more complete alternative to <a href=\"https://stackoverflow.com/a/51792347/2074605\">my earlier answer</a>. In this answer, I implemented a new subclass of <code>StrictHttpFirewall</code> that intercepts and logs rejected requests at a specific logging level, but also adds an attribute to the HTTP request that flags it for downstream filters (or controllers) to handle. Also, this <code>AnnotatingHttpFirewall</code> provides an <code>inspect()</code> method that allows subclasses to add custom rules for blocking requests.</p>\n\n<p>This solution is split into two parts: (1) <em>Spring Security</em> and (2) <em>Spring Framework (Core)</em>, because that is the divide that caused this problem in the first place, and this shows how to bridge it. </p>\n\n<p>For reference, this is tested on Spring 4.3.17 and Spring Security 4.2.6. There may be significant changes when Spring 5.1 is released.</p>\n\n<hr>\n\n<p><strong>Part 1: Spring Security</strong></p>\n\n<p>This is the half of the solution that performs the logging and flagging within Spring Security.</p>\n\n<hr>\n\n<p><strong>AnnotatingHttpFirewall.java</strong></p>\n\n<pre><code>import java.util.logging.Level;\nimport java.util.logging.Logger;\n\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\n\nimport org.springframework.security.web.firewall.FirewalledRequest;\nimport org.springframework.security.web.firewall.RequestRejectedException;\nimport org.springframework.security.web.firewall.StrictHttpFirewall;\n\n/**\n * Overrides the StrictHttpFirewall to log some useful information about blocked requests.\n */\npublic class AnnotatingHttpFirewall extends StrictHttpFirewall\n{\n    /**\n     * The name of the HTTP header representing a request that has been rejected by this firewall.\n     */\n    public static final String HTTP_HEADER_REQUEST_REJECTED_FLAG = \"X-HttpFirewall-RequestRejectedFlag\";\n\n    /**\n     * The name of the HTTP header representing the reason a request has been rejected by this firewall.\n     */\n    public static final String HTTP_HEADER_REQUEST_REJECTED_REASON = \"X-HttpFirewall-RequestRejectedReason\";\n\n    /**\n     * Logger.\n     */\n    private static final Logger LOGGER = Logger.getLogger(AnnotatingHttpFirewall.class.getName());\n\n    /**\n     * Default constructor.\n     */\n    public AnnotatingHttpFirewall()\n    {\n        super();\n        return;\n    }\n\n    /**\n     * Provides the request object which will be passed through the filter chain.\n     *\n     * @param request The original HttpServletRequest.\n     * @returns A FirewalledRequest (required by the HttpFirewall interface) which\n     *          inconveniently breaks the general contract of ServletFilter because\n     *          we can't upcast this to an HttpServletRequest. This prevents us\n     *          from re-wrapping this using an HttpServletRequestWrapper.\n     */\n    @Override\n    public FirewalledRequest getFirewalledRequest(final HttpServletRequest request)\n    {\n        try\n        {\n            this.inspect(request); // Perform any additional checks that the naive \"StrictHttpFirewall\" misses.\n            return super.getFirewalledRequest(request);\n        } catch (RequestRejectedException ex) {\n            final String requestUrl = request.getRequestURL().toString();\n\n            // Override some of the default behavior because some requests are\n            // legitimate.\n            if (requestUrl.contains(\";jsessionid=\"))\n            {\n                // Do not block non-cookie serialized sessions. Google's crawler does this often.\n            } else {\n                // Log anything that is blocked so we can find these in the catalina.out log.\n                // This will give us any information we need to make\n                // adjustments to these special cases and see potentially\n                // malicious activity.\n                if (LOGGER.isLoggable(Level.WARNING))\n                {\n                    LOGGER.log(Level.WARNING, \"Intercepted RequestBlockedException: Remote Host: \" + request.getRemoteHost() + \" User Agent: \" + request.getHeader(\"User-Agent\") + \" Request URL: \" + request.getRequestURL().toString());\n                }\n\n                // Mark this request as rejected.\n                request.setAttribute(HTTP_HEADER_REQUEST_REJECTED, Boolean.TRUE);\n                request.setAttribute(HTTP_HEADER_REQUEST_REJECTED_REASON, ex.getMessage());\n            }\n\n            // Suppress the RequestBlockedException and pass the request through\n            // with the additional attribute.\n            return new FirewalledRequest(request)\n            {\n                @Override\n                public void reset()\n                {\n                    return;\n                }\n            };\n        }\n    }\n\n    /**\n     * Provides the response which will be passed through the filter chain.\n     * This method isn't extensible because the request may already be committed.\n     * Furthermore, this is only invoked for requests that were not blocked, so we can't\n     * control the status or response for blocked requests here.\n     *\n     * @param response The original HttpServletResponse.\n     * @return the original response or a replacement/wrapper.\n     */\n    @Override\n    public HttpServletResponse getFirewalledResponse(final HttpServletResponse response)\n    {\n        // Note: The FirewalledResponse class is not accessible outside the package.\n        return super.getFirewalledResponse(response);\n    }\n\n    /**\n     * Perform any custom checks on the request.\n     * This method may be overridden by a subclass in order to supplement or replace these tests.\n     *\n     * @param request The original HttpServletRequest.\n     * @throws RequestRejectedException if the request should be rejected immediately.\n     */\n    public void inspect(final HttpServletRequest request) throws RequestRejectedException\n    {\n        final String requestUri = request.getRequestURI(); // path without parameters\n//        final String requestUrl = request.getRequestURL().toString(); // full path with parameters\n\n        if (requestUri.endsWith(\"/wp-login.php\"))\n        {\n            throw new RequestRejectedException(\"The request was rejected because it is a vulnerability scan.\");\n        }\n\n        if (requestUri.endsWith(\".php\"))\n        {\n            throw new RequestRejectedException(\"The request was rejected because it is a likely vulnerability scan.\");\n        }\n\n        return; // The request passed all custom tests.\n    }\n}\n</code></pre>\n\n<hr>\n\n<p><strong>WebSecurityConfig.java</strong></p>\n\n<p>In <code>WebSecurityConfig</code>, set the HTTP firewall to the <code>AnnotatingHttpFirewall</code>.</p>\n\n<pre><code>@EnableWebSecurity\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter\n{\n    /**\n     * Default constructor.\n     */\n    public WebSecurityConfig()\n    {\n        super();\n        return;\n    }\n\n    @Override\n    public final void configure(final WebSecurity web) throws Exception\n    {\n        super.configure(web);\n        web.httpFirewall(new AnnotatingHttpFirewall()); // Set the custom firewall.\n        return;\n    }\n}\n</code></pre>\n\n<hr>\n\n<p><strong>Part 2: Spring Framework</strong></p>\n\n<p>The second part of this solution could conceivably be implemented as a <code>ServletFilter</code> or <code>HandlerInterceptor</code>. I'm going the path of a <code>HandlerInterceptor</code> because it seems to give the most flexibility and works directly within the Spring Framework.</p>\n\n<hr>\n\n<p><strong>RequestBlockedException.java</strong></p>\n\n<p>This custom exception can be handled by an Error Controller. This may be extended to add any request headers, parameters or properties available from the raw request (even the full request itself) that may be pertinent to application business logic (e.g., a persistent firewall).</p>\n\n<pre><code>/**\n * A custom exception for situations where a request is blocked or rejected.\n */\npublic class RequestBlockedException extends RuntimeException\n{\n    private static final long serialVersionUID = 1L;\n\n    /**\n     * The requested URL.\n     */\n    private String requestUrl;\n\n    /**\n     * The remote address of the client making the request.\n     */\n    private String remoteAddress;\n\n    /**\n     * A message or reason for blocking the request.\n     */\n    private String reason;\n\n    /**\n     * The user agent supplied by the client the request.\n     */\n    private String userAgent;\n\n    /**\n     * Creates a new Request Blocked Exception.\n     *\n     * @param reqUrl The requested URL.\n     * @param remoteAddr The remote address of the client making the request.\n     * @param userAgent The user agent supplied by the client making the request.\n     * @param message A message or reason for blocking the request.\n     */\n    public RequestBlockedException(final String reqUrl, final String remoteAddr, final String userAgent, final String message)\n    {\n        this.requestUrl = reqUrl;\n        this.remoteAddress = remoteAddr;\n        this.userAgent = userAgent;\n        this.reason = message;\n        return;\n    }\n\n    /**\n     * Gets the requested URL.\n     *\n     * @return A URL.\n     */\n    public String getRequestUrl()\n    {\n        return this.requestUrl;\n    }\n\n    /**\n     * Gets the remote address of the client making the request.\n     *\n     * @return A remote address.\n     */\n    public String getRemoteAddress()\n    {\n        return this.remoteAddress;\n    }\n\n    /**\n     * Gets the user agent supplied by the client making the request.\n     *\n     * @return  A user agent string.\n     */\n    public String getUserAgent()\n    {\n        return this.userAgent;\n    }\n\n    /**\n     * Gets the reason for blocking the request.\n     *\n     * @return  A message or reason for blocking the request.\n     */\n    public String getReason()\n    {\n        return this.reason;\n    }\n}\n</code></pre>\n\n<hr>\n\n<p><strong>FirewallInterceptor.java</strong></p>\n\n<p>This interceptor is invoked after the Spring Security filters have run (i.e., after <code>AnnotatingHttpFirewall</code> has flagged requests that should be rejected. This interceptor detects those flags (attributes) on the request and raises a custom exception that our Error Controller can handle.</p>\n\n<pre><code>import javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\n\nimport org.springframework.web.method.HandlerMethod;\nimport org.springframework.web.servlet.HandlerInterceptor;\nimport org.springframework.web.servlet.ModelAndView;\n\n/**\n * Intercepts requests that were flagged as rejected by the firewall.\n */\npublic final class FirewallInterceptor implements HandlerInterceptor\n{\n    /**\n     * Default constructor.\n     */\n    public FirewallInterceptor()\n    {\n        return;\n    }\n\n    @Override\n    public boolean preHandle(final HttpServletRequest request, final HttpServletResponse response, final Object handler) throws Exception\n    {\n        if (Boolean.TRUE.equals(request.getAttribute(AnnotatingHttpFirewall.HTTP_HEADER_REQUEST_REJECTED)))\n        {\n            // Throw a custom exception that can be handled by a custom error controller.\n            final String reason = (String) request.getAttribute(AnnotatingHttpFirewall.HTTP_HEADER_REQUEST_REJECTED_REASON);\n            throw new RequestRejectedByFirewallException(request.getRequestURL().toString(), request.getRemoteAddr(), request.getHeader(HttpHeaders.USER_AGENT), reason);\n        }\n\n        return true; // Allow the request to proceed normally.\n    }\n\n    @Override\n    public void postHandle(final HttpServletRequest request, final HttpServletResponse response, final Object handler, final ModelAndView modelAndView) throws Exception\n    {\n        return;\n    }\n\n    @Override\n    public void afterCompletion(final HttpServletRequest request, final HttpServletResponse response, final Object handler, final Exception ex) throws Exception\n    {\n        return;\n    }\n}\n</code></pre>\n\n<hr>\n\n<p><strong>WebConfig.java</strong></p>\n\n<p>In <code>WebConfig</code>, add the <code>FirewallInterceptor</code> to the registry.</p>\n\n<pre><code>@EnableWebMvc\npublic class WebConfig extends WebMvcConfigurerAdapter\n{\n    /**\n     * Among your other methods in this class, make sure you register\n     * your Interceptor.\n     */\n    @Override\n    public void addInterceptors(final InterceptorRegistry registry)\n    {\n        // Register firewall interceptor for all URLs in webapp.\n        registry.addInterceptor(new FirewallInterceptor()).addPathPatterns(\"/**\");\n        return;\n    }\n}\n</code></pre>\n\n<hr>\n\n<p><strong>ErrorController.java</strong></p>\n\n<p>This specifically handles the custom exception above, and produces a clean error page for the client while logging all of the relevant information and invoking any special business logic for a custom application firewall.</p>\n\n<pre><code>import java.io.IOException;\nimport java.util.logging.Level;\nimport java.util.logging.Logger;\n\nimport org.springframework.web.servlet.NoHandlerFoundException;\n\nimport org.springframework.http.HttpStatus;\nimport org.springframework.web.bind.annotation.ControllerAdvice;\nimport org.springframework.web.bind.annotation.ExceptionHandler;\nimport org.springframework.web.bind.annotation.ResponseStatus;\n\nimport RequestBlockedException;\n\n@ControllerAdvice\npublic final class ErrorController\n{\n    /**\n     * Logger.\n     */\n    private static final Logger LOGGER = Logger.getLogger(ErrorController.class.getName());\n\n    /**\n     * Generates an Error page by intercepting exceptions generated from AnnotatingHttpFirewall.\n     *\n     * @param request The original HTTP request.\n     * @param ex A RequestBlockedException exception.\n     * @return The tile definition name for the page.\n     */\n    @ExceptionHandler(RequestBlockedException.class)\n    @ResponseStatus(HttpStatus.BAD_REQUEST)\n    public String handleRequestBlockedException(final RequestBlockedException ex)\n    {\n        if (LOGGER.isLoggable(Level.WARNING))\n        {\n            LOGGER.log(Level.WARNING, \"Rejected request from \" + ex.getRemoteAddress() + \" for [\" + ex.getRequestUrl() + \"]. Reason: \" + ex.getReason());\n        }\n\n        // Note: Perform any additional business logic or logging here.\n\n        return \"errorPage\"; // Returns a nice error page with the specified status code.\n    }\n\n    /**\n     * Generates a Page Not Found page.\n     *\n     * @param ex A NoHandlerFound exception.\n     * @return The tile definition name for the page.\n     */\n    @ExceptionHandler(NoHandlerFoundException.class)\n    @ResponseStatus(HttpStatus.NOT_FOUND)\n    public String handleException(final NoHandlerFoundException ex)\n    {\n        return \"notFoundPage\";\n    }\n}\n</code></pre>\n\n<hr>\n\n<p><strong>FirewallController.java</strong></p>\n\n<p>A controller with a default mapping that throws a <code>NoHandlerFoundException</code>.\nThis circumvents the chicken-and-egg strategy in <a href=\"https://github.com/spring-projects/spring-framework/blob/master/spring-webmvc/src/main/java/org/springframework/web/servlet/DispatcherServlet.java\" rel=\"noreferrer\">DispatcherServlet.noHandlerFound</a>, allowing that method to <em>always</em> find a mapping so that <code>FirewallInterceptor.preHandle</code> is always invoked. This gives <code>RequestRejectedByFirewallException</code> priority over <code>NoHandlerFoundException</code>.</p>\n\n<p>Why this is necessary:</p>\n\n<p>As mentioned <a href=\"https://stackoverflow.com/a/31790661/2074605\">here</a>, when a <code>NoHandlerFoundException</code> is thrown from <code>DispatcherServlet</code> (i.e., when a requested URL has no corresponding mapping), there is no way to handle the exceptions generated from the above firewall (<code>NoHandlerFoundException</code> is thrown prior to invoking <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/servlet/HandlerInterceptor.html#preHandle-javax.servlet.http.HttpServletRequest-javax.servlet.http.HttpServletResponse-java.lang.Object-\" rel=\"noreferrer\">preHandle()</a>), so those requests will fall through to your 404 view (which is not the desired behavior in my case - you will see a lot of \"No mapping found for HTTP request with URI...\" messages). This could be fixed by moving the check for the special header into the <code>noHandlerFound</code> method. Unfortunately, there is no way to do this without writing a new Dispatcher Servlet from scratch, and then you may as well throw out the entire Spring Framework. It is impossible to extend <code>DispatcherServlet</code> due to the mix of protected, private and final methods, and the fact that its properties are inaccessible (no getters or setters). It is also impossible to wrap the class because there is no common interface that can be implemented. The default mapping in this class provides an elegant way to circumvent all of that logic.</p>\n\n<p><strong>Important caveat</strong>: The RequestMapping below will prevent resolution of static resources because it takes precedence over all registered ResourceHandlers. I am still looking for a workaround for this, but one possibility might be to try one of the methods for handling static resources suggested in <a href=\"https://stackoverflow.com/a/40563813/2074605\">this answer</a>.</p>\n\n<pre><code>import org.springframework.http.HttpHeaders;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.web.bind.annotation.ModelAttribute;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.servlet.NoHandlerFoundException;\n\n@Controller\npublic final class FirewallController\n{\n    /**\n     * The name of the model attribute (or request parameter for advertisement click tracking) that contains the request URL.\n     */\n    protected static final String REQUEST_URL = \"requestUrl\";\n\n    /**\n     * The name of the model attribute that contains the request method.\n     */\n    protected static final String REQUEST_METHOD = \"requestMethod\";\n\n    /**\n     * The name of the model attribute that contains all HTTP headers.\n     */\n    protected static final String REQUEST_HEADERS = \"requestHeaders\";\n\n    /**\n     * Default constructor.\n     */\n    public FirewallController()\n    {\n        return;\n    }\n\n    /**\n     * Populates the request URL model attribute from the HTTP request.\n     *\n     * @param request The HTTP request.\n     * @return The request URL.\n     */\n    @ModelAttribute(REQUEST_URL)\n    public final String getRequestURL(final HttpServletRequest request)\n    {\n        return request.getRequestURL().toString();\n    }\n\n    /**\n     * Populates the request method from the HTTP request.\n     *\n     * @param request The HTTP request.\n     * @return The request method (GET, POST, HEAD, etc.).\n     */\n    @ModelAttribute(REQUEST_METHOD)\n    public final String getRequestMethod(final HttpServletRequest request)\n    {\n        return request.getMethod();\n    }\n\n    /**\n     * Gets all headers from the HTTP request.\n     *\n     * @param request The HTTP request.\n     * @return The request headers.\n     */\n    @ModelAttribute(REQUEST_HEADERS)\n    public final HttpHeaders getRequestHeaders(final HttpServletRequest request)\n    {\n        return FirewallController.headers(request);\n    }\n\n    /**\n     * A catch-all default mapping that throws a NoHandlerFoundException.\n     * This will be intercepted by the ErrorController, which allows preHandle to work normally.\n     *\n     * @param requestMethod The request method.\n     * @param requestUrl The request URL.\n     * @param requestHeaders The request headers.\n     * @throws NoHandlerFoundException every time this method is invoked.\n     */\n    @RequestMapping(value = \"/**\") // NOTE: This prevents resolution of static resources. Still looking for a workaround for this.\n    public void getNotFoundPage(@ModelAttribute(REQUEST_METHOD) final String requestMethod, @ModelAttribute(REQUEST_URL) final String requestUrl, @ModelAttribute(REQUEST_HEADERS) final HttpHeaders requestHeaders) throws NoHandlerFoundException\n    {\n        throw new NoHandlerFoundException(requestMethod, requestUrl, requestHeaders);\n    }\n\n    /**\n     * Gets all headers from a HTTP request.\n     *\n     * @param request The HTTP request.\n     * @return The request headers.\n     */\n    public static HttpHeaders headers(final HttpServletRequest request)\n    {\n        final HttpHeaders headers = new HttpHeaders();\n\n        for (Enumeration&lt;?&gt; names = request.getHeaderNames(); names.hasMoreElements();)\n        {\n            final String headerName = (String) names.nextElement();\n\n            for (Enumeration&lt;?&gt; headerValues = request.getHeaders(headerName); headerValues.hasMoreElements();)\n            {\n                headers.add(headerName, (String) headerValues.nextElement());\n            }\n        }\n\n        return headers;\n    }\n}\n</code></pre>\n\n<hr>\n\n<p><strong>Results</strong></p>\n\n<p>When both parts of this are working, you'll see the following two warnings logged (the first one is in Spring Security, the second one is the Spring Framework (Core) <code>ErrorController</code>). Now you have full control over logging, and an extensible application firewall that you can adjust however you need.</p>\n\n<pre><code>Sep 12, 2018 10:24:37 AM com.mycompany.spring.security.AnnotatingHttpFirewall getFirewalledRequest\nWARNING: Intercepted org.springframework.security.web.firewall.RequestRejectedException: Remote Host: 0:0:0:0:0:0:0:1 User Agent: Mozilla/5.0 (Windows NT 6.3; Win64; x64; rv:62.0) Gecko/20100101 Firefox/62.0 Request URL: http://localhost:8080/webapp-www-mycompany-com/login.php\nSep 12, 2018 10:24:37 AM com.mycompany.spring.controller.ErrorController handleException\nWARNING: Rejected request from 0:0:0:0:0:0:0:1 for [http://localhost:8080/webapp-www-mycompany-com/login.php]. Reason: The request was rejected because it is a likely vulnerability scan.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1920070,"reputation":2269,"user_id":1731801,"display_name":"lanwen"},"down_vote_count":0,"up_vote_count":65,"is_accepted":false,"score":65,"last_activity_date":1538600562,"creation_date":1538600562,"answer_id":52635656,"question_id":51788764,"body_markdown":"It can be also handled by a simple filter, which will lead to 404 error response\r\n\r\n    @Component\r\n    @Slf4j\r\n    @Order(Ordered.HIGHEST_PRECEDENCE)\r\n    public class LogAndSuppressRequestRejectedExceptionFilter extends GenericFilterBean {\r\n\r\n        @Override\r\n        public void doFilter(ServletRequest req, ServletResponse res, FilterChain chain) throws IOException, ServletException {\r\n            try {\r\n                chain.doFilter(req, res);\r\n            } catch (RequestRejectedException e) {\r\n                HttpServletRequest request = (HttpServletRequest) req;\r\n                HttpServletResponse response = (HttpServletResponse) res;\r\n\r\n                log\r\n                    .warn(\r\n                            &quot;request_rejected: remote={}, user_agent={}, request_url={}&quot;,\r\n                            request.getRemoteHost(),  \r\n                            request.getHeader(HttpHeaders.USER_AGENT),\r\n                            request.getRequestURL(), \r\n                            e\r\n                    );\r\n\r\n                response.sendError(HttpServletResponse.SC_NOT_FOUND);\r\n            }\r\n        }\r\n    }","title":"How to intercept a RequestRejectedException in Spring?","body":"<p>It can be also handled by a simple filter, which will lead to 404 error response</p>\n\n<pre><code>@Component\n@Slf4j\n@Order(Ordered.HIGHEST_PRECEDENCE)\npublic class LogAndSuppressRequestRejectedExceptionFilter extends GenericFilterBean {\n\n    @Override\n    public void doFilter(ServletRequest req, ServletResponse res, FilterChain chain) throws IOException, ServletException {\n        try {\n            chain.doFilter(req, res);\n        } catch (RequestRejectedException e) {\n            HttpServletRequest request = (HttpServletRequest) req;\n            HttpServletResponse response = (HttpServletResponse) res;\n\n            log\n                .warn(\n                        \"request_rejected: remote={}, user_agent={}, request_url={}\",\n                        request.getRemoteHost(),  \n                        request.getHeader(HttpHeaders.USER_AGENT),\n                        request.getRequestURL(), \n                        e\n                );\n\n            response.sendError(HttpServletResponse.SC_NOT_FOUND);\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6502278,"reputation":1449,"user_id":5032575,"display_name":"Ahmed Sayed"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1553873843,"creation_date":1553873190,"answer_id":55420714,"question_id":51788764,"body_markdown":"Another way to handle it is by using [Spring AOP][1]. We can create an advice around the [FilterChainProxy.doFilter()][2] method that catches any RequestRejectedException(s) thrown by the HttpFirewall and translates it into a 400 BAD_REQUEST\r\n\r\n    @Aspect\r\n    @Component\r\n    public class FilterChainProxyAdvice {\r\n    \r\n        @Around(&quot;execution(public void org.springframework.security.web.FilterChainProxy.doFilter(..))&quot;)\r\n        public void handleRequestRejectedException (ProceedingJoinPoint pjp) throws Throwable {\r\n            try {\r\n                pjp.proceed();\r\n            } catch (RequestRejectedException exception) {\r\n                HttpServletResponse response = (HttpServletResponse) pjp.getArgs()[1]);\r\n                response.sendError(HttpServletResponse.SC_BAD_REQUEST);\r\n            }\r\n        }\r\n    }\r\n\r\n  [1]: https://docs.spring.io/spring/docs/current/spring-framework-reference/core.html#aop-api\r\n  [2]: https://docs.spring.io/spring-security/site/docs/4.2.11.RELEASE/apidocs/org/springframework/security/web/FilterChainProxy.html#doFilter-javax.servlet.ServletRequest-javax.servlet.ServletResponse-javax.servlet.FilterChain-","title":"How to intercept a RequestRejectedException in Spring?","body":"<p>Another way to handle it is by using <a href=\"https://docs.spring.io/spring/docs/current/spring-framework-reference/core.html#aop-api\" rel=\"nofollow noreferrer\">Spring AOP</a>. We can create an advice around the <a href=\"https://docs.spring.io/spring-security/site/docs/4.2.11.RELEASE/apidocs/org/springframework/security/web/FilterChainProxy.html#doFilter-javax.servlet.ServletRequest-javax.servlet.ServletResponse-javax.servlet.FilterChain-\" rel=\"nofollow noreferrer\">FilterChainProxy.doFilter()</a> method that catches any RequestRejectedException(s) thrown by the HttpFirewall and translates it into a 400 BAD_REQUEST</p>\n\n<pre><code>@Aspect\n@Component\npublic class FilterChainProxyAdvice {\n\n    @Around(\"execution(public void org.springframework.security.web.FilterChainProxy.doFilter(..))\")\n    public void handleRequestRejectedException (ProceedingJoinPoint pjp) throws Throwable {\n        try {\n            pjp.proceed();\n        } catch (RequestRejectedException exception) {\n            HttpServletResponse response = (HttpServletResponse) pjp.getArgs()[1]);\n            response.sendError(HttpServletResponse.SC_BAD_REQUEST);\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1577409,"reputation":16015,"user_id":1463522,"accept_rate":64,"display_name":"holmis83"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1574245368,"creation_date":1574245368,"answer_id":58952000,"question_id":51788764,"body_markdown":"A quite simple way is to use **web.xml**; specify an error page in that file:\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;error-page&gt;\r\n      &lt;exception-type&gt;org.springframework.security.web.firewall.RequestRejectedException&lt;/exception-type&gt;\r\n      &lt;location&gt;/request-rejected&lt;/location&gt;\r\n    &lt;/error-page&gt;\r\n\r\nFor the specified path (location), add a mapping in a `@Controller`-annotated class:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    @RequestMapping(value = &quot;/request-rejected&quot;)\r\n    @ResponseStatus(HttpStatus.BAD_REQUEST)\r\n    public @ResponseBody String handleRequestRejected(\r\n            @RequestAttribute(RequestDispatcher.ERROR_EXCEPTION) RequestRejectedException ex,\r\n            @RequestAttribute(RequestDispatcher.ERROR_REQUEST_URI) String uri) {\r\n\r\n        String msg = ex.getMessage();\r\n\r\n        // optionally log the message and requested URI (slf4j)\r\n        logger.warn(&quot;Request with URI [{}] rejected. {}&quot;, uri, msg);\r\n\r\n        return msg;\r\n    }","title":"How to intercept a RequestRejectedException in Spring?","body":"<p>A quite simple way is to use <strong>web.xml</strong>; specify an error page in that file:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;error-page&gt;\n  &lt;exception-type&gt;org.springframework.security.web.firewall.RequestRejectedException&lt;/exception-type&gt;\n  &lt;location&gt;/request-rejected&lt;/location&gt;\n&lt;/error-page&gt;\n</code></pre>\n\n<p>For the specified path (location), add a mapping in a <code>@Controller</code>-annotated class:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@RequestMapping(value = \"/request-rejected\")\n@ResponseStatus(HttpStatus.BAD_REQUEST)\npublic @ResponseBody String handleRequestRejected(\n        @RequestAttribute(RequestDispatcher.ERROR_EXCEPTION) RequestRejectedException ex,\n        @RequestAttribute(RequestDispatcher.ERROR_REQUEST_URI) String uri) {\n\n    String msg = ex.getMessage();\n\n    // optionally log the message and requested URI (slf4j)\n    logger.warn(\"Request with URI [{}] rejected. {}\", uri, msg);\n\n    return msg;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6502278,"reputation":1449,"user_id":5032575,"display_name":"Ahmed Sayed"},"down_vote_count":0,"up_vote_count":38,"is_accepted":false,"score":38,"last_activity_date":1589272400,"creation_date":1588664046,"answer_id":61607977,"question_id":51788764,"body_markdown":"For Spring security versions `5.4` and above, you could simply create a bean of the type `RequestRejectedHandler` that will be injected in the Spring security filter chain\r\n```java\r\nimport org.springframework.security.web.firewall.RequestRejectedHandler;\r\nimport org.springframework.security.web.firewall.HttpStatusRequestRejectedHandler;\r\n\r\n@Bean\r\nRequestRejectedHandler requestRejectedHandler() {\r\n   // sends an error response with a configurable status code (default is 400 BAD_REQUEST)\r\n   // we can pass a different value in the constructor\r\n   return new HttpStatusRequestRejectedHandler();\r\n}\r\n```\r\n","title":"How to intercept a RequestRejectedException in Spring?","body":"<p>For Spring security versions <code>5.4</code> and above, you could simply create a bean of the type <code>RequestRejectedHandler</code> that will be injected in the Spring security filter chain</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>import org.springframework.security.web.firewall.RequestRejectedHandler;\nimport org.springframework.security.web.firewall.HttpStatusRequestRejectedHandler;\n\n@Bean\nRequestRejectedHandler requestRejectedHandler() {\n   // sends an error response with a configurable status code (default is 400 BAD_REQUEST)\n   // we can pass a different value in the constructor\n   return new HttpStatusRequestRejectedHandler();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10880077,"reputation":1286,"user_id":7999311,"display_name":"Adam Ostrol&#237;k"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1598543362,"creation_date":1598542911,"answer_id":63619590,"question_id":51788764,"body_markdown":"I see some working solution in recent github change in [this commit][1]\r\n\r\nIt should work if you register bean of type `RequestRejectedHandler` or as I see it, there is also going to be an integration via `WebSecurity` in `WebSecurityConfigurerAdapter`. Unfornunately, this change is not probably included in 2.3.3.RELEASE using dependency management. It should be present in Spring Security Config 5.4.0-M1. For dependency management, it is version 2.4.0-M1. \r\n\r\nSooner or later, people coming across this answer should see this change in standard release.\r\n\r\n  [1]: https://github.com/spring-projects/spring-security/commit/b826c798f760546e77836f28aa4a80f639a8519a#diff-abdb3904d8835bf8660c11d7d644b0e8","title":"How to intercept a RequestRejectedException in Spring?","body":"<p>I see some working solution in recent github change in <a href=\"https://github.com/spring-projects/spring-security/commit/b826c798f760546e77836f28aa4a80f639a8519a#diff-abdb3904d8835bf8660c11d7d644b0e8\" rel=\"nofollow noreferrer\">this commit</a></p>\n<p>It should work if you register bean of type <code>RequestRejectedHandler</code> or as I see it, there is also going to be an integration via <code>WebSecurity</code> in <code>WebSecurityConfigurerAdapter</code>. Unfornunately, this change is not probably included in 2.3.3.RELEASE using dependency management. It should be present in Spring Security Config 5.4.0-M1. For dependency management, it is version 2.4.0-M1.</p>\n<p>Sooner or later, people coming across this answer should see this change in standard release.</p>\n"},{"tags":[],"owner":{"account_id":3484417,"reputation":458,"user_id":2915705,"display_name":" Martin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1631853318,"creation_date":1631853318,"answer_id":69217828,"question_id":51788764,"body_markdown":"Our&#39;s was spring-webmvc (4.3.25.RELEASE) GUI using spring-security-core \r\n(4.2.13.RELEASE) and the issue was due to url string containing `&quot;;jsessionid=D3A0470674704B75756AA10F50AA2CFC&quot;` with semicolon as one of its parameters. \r\n\r\nThe error `org.springframework.security.web.firewall.RequestRejectedException: The request was rejected because the URL contained a potentially malicious String &quot;;&quot;` use to occur only when web page loads for the first time causing all sorts of CSS format issue with images not getting loaded, color and fonts not being set properly. However, after refresh of the same page or clicking any of the navigation links the next page use to load fine with all CSS implemented properly. Also, this error `RequestRejectedException` badly polluted the logs.\r\n\r\nWe wanted to handle this issue such that when a new session is created, the generated cookie handles the session with jsessionid and not the query string like how it does for the 2nd time onwards. \r\n\r\nMy solution was derived from implementing the filter as described above in https://stackoverflow.com/a/52635656/2915705 but instead of sending it to an error page check for session and redirect it to encoded  URL as described in https://stackoverflow.com/a/4019476/2915705. After this solution we never received the `RequestRejectedException` or CSS issue even for new sessions or first time page load.\r\n\r\nThe updated `LogAndSuppressRequestRejectedExceptionFilter` can be seen below\r\n\r\n    @Component(&quot;logAndSuppressRequestRejectedExceptionFilter&quot;)\r\n    @Order(Ordered.HIGHEST_PRECEDENCE)\r\n    public class LogAndSuppressRequestRejectedExceptionFilter extends GenericFilterBean {\r\n    \tprivate static final Logger logger = LoggerFactory.getLogger(LogAndSuppressRequestRejectedExceptionFilter.class);\r\n    \r\n    \t@Override\r\n    \tpublic void doFilter(ServletRequest req, ServletResponse res, FilterChain chain)\r\n    \t\t\tthrows IOException, ServletException {\r\n    \t\ttry {\r\n    \t\t\tHttpServletRequest httpRequest = (HttpServletRequest) req;\r\n    \t\t\tHttpServletResponse httpResponse = (HttpServletResponse) res;\r\n    \t\t\tHttpSession session = httpRequest.getSession();\r\n    \r\n    \t\t\tif (session.isNew()) {\r\n    \t\t\t\t// New session? OK, redirect to encoded URL with jsessionid in it (and\r\n    \t\t\t\t// implicitly also set cookie).\r\n    \t\t\t\tlogger.debug(&quot;New session - redirect to encoded url&quot;);\r\n    \t\t\t\thttpResponse.sendRedirect(httpResponse.encodeRedirectURL(httpRequest.getRequestURI()));\r\n    \t\t\t\treturn;\r\n    \t\t\t} else if (session.getAttribute(&quot;verified&quot;) == null) {\r\n    \t\t\t\t// Session has not been verified yet? OK, mark it verified so that we don&#39;t need\r\n    \t\t\t\t// to repeat this.\r\n    \t\t\t\tlogger.debug(&quot;Setting session to verified&quot;);\r\n    \t\t\t\tsession.setAttribute(&quot;verified&quot;, true);\r\n    \t\t\t\tif (httpRequest.isRequestedSessionIdFromCookie()) {\r\n    \t\t\t\t\t// Supports cookies? OK, redirect to unencoded URL to get rid of jsessionid in\r\n    \t\t\t\t\t// URL.\r\n    \t\t\t\t\tlogger.debug(&quot;redirect to unencoded URL to get rid of jsessionid in url&quot;);\r\n    \t\t\t\t\thttpResponse.sendRedirect(httpRequest.getRequestURI().split(&quot;;&quot;)[0]);\r\n    \t\t\t\t\treturn;\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \r\n    \t\t\tchain.doFilter(req, res);\r\n    \r\n    \t\t} catch (RequestRejectedException ex) {\r\n    \t\t\tHttpServletRequest request = (HttpServletRequest) req;\r\n    \t\t\tlogger.warn(&quot;request_rejected: remote={}, user_agent={}, request_url={}&quot;, request.getRemoteHost(),\r\n    \t\t\t\t\trequest.getHeader(HttpHeaders.USER_AGENT), request.getRequestURL(), ex.getMessage());\r\n    \t\t\treturn;\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n","title":"How to intercept a RequestRejectedException in Spring?","body":"<p>Our's was spring-webmvc (4.3.25.RELEASE) GUI using spring-security-core\n(4.2.13.RELEASE) and the issue was due to url string containing <code>&quot;;jsessionid=D3A0470674704B75756AA10F50AA2CFC&quot;</code> with semicolon as one of its parameters.</p>\n<p>The error <code>org.springframework.security.web.firewall.RequestRejectedException: The request was rejected because the URL contained a potentially malicious String &quot;;&quot;</code> use to occur only when web page loads for the first time causing all sorts of CSS format issue with images not getting loaded, color and fonts not being set properly. However, after refresh of the same page or clicking any of the navigation links the next page use to load fine with all CSS implemented properly. Also, this error <code>RequestRejectedException</code> badly polluted the logs.</p>\n<p>We wanted to handle this issue such that when a new session is created, the generated cookie handles the session with jsessionid and not the query string like how it does for the 2nd time onwards.</p>\n<p>My solution was derived from implementing the filter as described above in <a href=\"https://stackoverflow.com/a/52635656/2915705\">https://stackoverflow.com/a/52635656/2915705</a> but instead of sending it to an error page check for session and redirect it to encoded  URL as described in <a href=\"https://stackoverflow.com/a/4019476/2915705\">https://stackoverflow.com/a/4019476/2915705</a>. After this solution we never received the <code>RequestRejectedException</code> or CSS issue even for new sessions or first time page load.</p>\n<p>The updated <code>LogAndSuppressRequestRejectedExceptionFilter</code> can be seen below</p>\n<pre><code>@Component(&quot;logAndSuppressRequestRejectedExceptionFilter&quot;)\n@Order(Ordered.HIGHEST_PRECEDENCE)\npublic class LogAndSuppressRequestRejectedExceptionFilter extends GenericFilterBean {\n    private static final Logger logger = LoggerFactory.getLogger(LogAndSuppressRequestRejectedExceptionFilter.class);\n\n    @Override\n    public void doFilter(ServletRequest req, ServletResponse res, FilterChain chain)\n            throws IOException, ServletException {\n        try {\n            HttpServletRequest httpRequest = (HttpServletRequest) req;\n            HttpServletResponse httpResponse = (HttpServletResponse) res;\n            HttpSession session = httpRequest.getSession();\n\n            if (session.isNew()) {\n                // New session? OK, redirect to encoded URL with jsessionid in it (and\n                // implicitly also set cookie).\n                logger.debug(&quot;New session - redirect to encoded url&quot;);\n                httpResponse.sendRedirect(httpResponse.encodeRedirectURL(httpRequest.getRequestURI()));\n                return;\n            } else if (session.getAttribute(&quot;verified&quot;) == null) {\n                // Session has not been verified yet? OK, mark it verified so that we don't need\n                // to repeat this.\n                logger.debug(&quot;Setting session to verified&quot;);\n                session.setAttribute(&quot;verified&quot;, true);\n                if (httpRequest.isRequestedSessionIdFromCookie()) {\n                    // Supports cookies? OK, redirect to unencoded URL to get rid of jsessionid in\n                    // URL.\n                    logger.debug(&quot;redirect to unencoded URL to get rid of jsessionid in url&quot;);\n                    httpResponse.sendRedirect(httpRequest.getRequestURI().split(&quot;;&quot;)[0]);\n                    return;\n                }\n            }\n\n            chain.doFilter(req, res);\n\n        } catch (RequestRejectedException ex) {\n            HttpServletRequest request = (HttpServletRequest) req;\n            logger.warn(&quot;request_rejected: remote={}, user_agent={}, request_url={}&quot;, request.getRemoteHost(),\n                    request.getHeader(HttpHeaders.USER_AGENT), request.getRequestURL(), ex.getMessage());\n            return;\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3895994,"reputation":166,"user_id":3225025,"display_name":"AwkDenver"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675443999,"creation_date":1675443999,"answer_id":75338927,"question_id":51788764,"body_markdown":"In spring security 5.7.6 I was able to use this code to log the error and redirect to the 404 page\r\n\r\n\r\n\t@Bean\r\n\tpublic RequestRejectedHandler requestRejectedHandler() {\r\n\t\tHttpStatusRequestRejectedHandler rejectedHandler = new HttpStatusRequestRejectedHandler() {\r\n\t\t\t@Override\r\n\t\t\tpublic void handle(HttpServletRequest request, HttpServletResponse response, RequestRejectedException requestRejectedException) throws IOException {\r\n\t\t\t\tlog.info(requestRejectedException.getMessage() + &quot; for &quot; + request.getRequestURL());\r\n\t\t\t\tresponse.sendRedirect(&quot;/404&quot;);\r\n\t\t\t}\r\n\t\t};\r\n\t\treturn rejectedHandler;\r\n\t}","title":"How to intercept a RequestRejectedException in Spring?","body":"<p>In spring security 5.7.6 I was able to use this code to log the error and redirect to the 404 page</p>\n<pre><code>@Bean\npublic RequestRejectedHandler requestRejectedHandler() {\n    HttpStatusRequestRejectedHandler rejectedHandler = new HttpStatusRequestRejectedHandler() {\n        @Override\n        public void handle(HttpServletRequest request, HttpServletResponse response, RequestRejectedException requestRejectedException) throws IOException {\n            log.info(requestRejectedException.getMessage() + &quot; for &quot; + request.getRequestURL());\n            response.sendRedirect(&quot;/404&quot;);\n        }\n    };\n    return rejectedHandler;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4630254,"reputation":1567,"user_id":3752988,"accept_rate":33,"display_name":"bladekp"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1691143260,"creation_date":1691143260,"answer_id":76834872,"question_id":51788764,"body_markdown":"Easiest ootb solution is to create a bean of `RequestRejectedHandler` and do what you want with that exception:\r\n\r\n```\r\n@Bean\r\npublic RequestRejectedHandler handler() {\r\n    return (request, response, exception) -&gt; response.sendError(HttpStatus.FORBIDDEN.value());\r\n}\r\n```\r\nIn above case this exception will cause in 403 http response status. In this place you can additionally add your logger (`logger.warn(...)`), send redirection to error page (`response.sendRedirect(&quot;/500&quot;)`), set the headers etc.","title":"How to intercept a RequestRejectedException in Spring?","body":"<p>Easiest ootb solution is to create a bean of <code>RequestRejectedHandler</code> and do what you want with that exception:</p>\n<pre><code>@Bean\npublic RequestRejectedHandler handler() {\n    return (request, response, exception) -&gt; response.sendError(HttpStatus.FORBIDDEN.value());\n}\n</code></pre>\n<p>In above case this exception will cause in 403 http response status. In this place you can additionally add your logger (<code>logger.warn(...)</code>), send redirection to error page (<code>response.sendRedirect(&quot;/500&quot;)</code>), set the headers etc.</p>\n"}],"owner":{"account_id":2369743,"reputation":7275,"user_id":2074605,"accept_rate":100,"display_name":"Parker"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38344,"favorite_count":0,"down_vote_count":0,"up_vote_count":52,"accepted_answer_id":51800972,"answer_count":10,"score":52,"last_activity_date":1691143260,"creation_date":1533911591,"question_id":51788764,"body_markdown":"I am seeing *a ton* of `RequestRejectedException` entries in my Tomcat log (sample pasted below). These started appearing in my log file after a minor version upgrade (Spring Security 4.2.4, IIRC) a few months ago, so this is clearly a new security feature in Spring that is enabled by default. A similar issue is [reported here][1], but my question involves specifically how to intercept these exceptions in a controller. There is a Spring Security bug documented for this problem ([Provide a way to handle RequestRejectedException][4]). However, they aren&#39;t targeting a fix for this problem until Spring 5.1.\r\n\r\nI understand [why these exceptions are being thrown][2], and I do not want to [disable this security feature][3].\r\n\r\nI want to gain some control over this feature so that:\r\n\r\n 1. I know I&#39;m not blocking legitimate users from my site.\r\n 1. I can see what requests are triggering this (are they SQL Injection attacks?)\r\n 1. I can adjust the server response. The Spring Security firewall dumps a complete stack trace to the web client (information disclosure), along with a `500 Internal Server Error` (which is wildly incorrect, this should be a `400 Bad Request`).\r\n\r\nI want to find a way to log the URL that was requested, but also suppress the stack trace specifically for these exceptions because they are polluting my log files without giving me any helpful information. Optimally, I&#39;d like to intercept these exceptions and handle them in my application layer instead of reporting them in the Tomcat log at all.\r\n\r\nFor example, this is one of thousands of these log entries that appear every day in my `catalina.out`:\r\n\r\n    Aug 10, 2018 2:01:36 PM org.apache.catalina.core.StandardWrapperValve invoke\r\n    SEVERE: Servlet.service() for servlet [dispatcher] in context with path [] threw exception\r\n    org.springframework.security.web.firewall.RequestRejectedException: The request was rejected because the URL contained a potentially malicious String &quot;;&quot;\r\n            at org.springframework.security.web.firewall.StrictHttpFirewall.rejectedBlacklistedUrls(StrictHttpFirewall.java:265)\r\n            at org.springframework.security.web.firewall.StrictHttpFirewall.getFirewalledRequest(StrictHttpFirewall.java:245)\r\n            at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:193)\r\n            at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:177)\r\n            at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:347)\r\n            at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:263)\r\n            at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n            at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n            at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198)\r\n            at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)\r\n            at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:496)\r\n            at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)\r\n            at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)\r\n            at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)\r\n            at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)\r\n            at org.apache.coyote.ajp.AjpProcessor.service(AjpProcessor.java:486)\r\n            at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)\r\n            at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:790)\r\n            at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1459)\r\n            at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n            at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n            at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n            at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n            at java.lang.Thread.run(Thread.java:748)\r\n\r\nI&#39;m seeing over 3,200 of these in a two day period, and it has quickly become the single largest contributor to my `catalina.out` log file, to the point that it prevents me from seeing other, legitimate problems. Essentially, this new Spring Security feature is a form of built-in Denial-of-Service, and it has wasted hours of my time since April. I am not saying that it is not an important feature, simply that the default implementation is completely botched, and I want to find a way gain some control over it, both as a developer and as a systems administrator.\r\n\r\nI use a custom Error Controller for intercepting many other Exception types (including `IOException`) in Spring. However, `RequestRejectedException` seems to be falling through for some reason.\r\n\r\nThis is the relevant part of my `ErrorController.java`, to give an idea of what I&#39;m trying to accomplish:\r\n\r\n    @ControllerAdvice\r\n    public final class ErrorController\r\n    {\r\n        /**\r\n         * Logger.\r\n         */\r\n        private static final Logger LOGGER = Logger.getLogger(ErrorController.class.getName());\r\n    \r\n        /**\r\n         * Generates an Error page by intercepting exceptions generated from HttpFirewall.\r\n         *\r\n         * @param ex A RequestRejectedException exception.\r\n         * @return The tile definition name for the page.\r\n         */\r\n        @ExceptionHandler(RequestRejectedException.class)\r\n        @ResponseStatus(HttpStatus.BAD_REQUEST)\r\n        public String handleRequestRejectedException(final HttpServletRequest request, final RequestRejectedException ex)\r\n        {\r\n            if (LOGGER.isLoggable(Level.INFO))\r\n            {\r\n                LOGGER.log(Level.INFO, &quot;Request Rejected&quot;, ex);\r\n            }\r\n\r\n            LOGGER.log(Level.WARNING, &quot;Rejected request for [&quot; + request.getRequestURL().toString() + &quot;]. Reason: &quot; + ex.getMessage());\r\n            return &quot;errorPage&quot;;\r\n        }\r\n    \r\n        /**\r\n         * Generates a Server Error page.\r\n         *\r\n         * @param ex An exception.\r\n         * @return The tile definition name for the page.\r\n         */\r\n        @ExceptionHandler(Exception.class)\r\n        @ResponseStatus(HttpStatus.INTERNAL_SERVER_ERROR)\r\n        public String handleException(final Exception ex)\r\n        {\r\n            if (LOGGER.isLoggable(Level.SEVERE))\r\n            {\r\n                LOGGER.log(Level.SEVERE, &quot;Server Error&quot;, ex);\r\n            }\r\n    \r\n            return &quot;errorPage&quot;;\r\n        }\r\n    }\r\n\r\nThis error controller works for many exceptions. For example, it successfully intercepted this `IllegalStateException`:\r\n\r\n    Aug 05, 2018 7:50:30 AM com.mycompany.spring.controller.ErrorController handleException\r\n    SEVERE: Server Error\r\n    java.lang.IllegalStateException: Cannot create a session after the response has been committed\r\n            at org.apache.catalina.connector.Request.doGetSession(Request.java:2999)\r\n    ...\r\n\r\nHowever, this is not intercepting `RequestRejectedException` (as indicated by the lack of &quot;Server Error&quot; in the first log sample above).\r\n\r\nHow can I intercept `RequestRejectedException` in an error controller?\r\n\r\n\r\n  [1]: https://stackoverflow.com/q/48453980/2074605\r\n  [2]: https://stackoverflow.com/q/48580584/2074605\r\n  [3]: https://stackoverflow.com/a/48636757/2074605\r\n  [4]: https://github.com/spring-projects/spring-security/issues/5007","title":"How to intercept a RequestRejectedException in Spring?","body":"<p>I am seeing <em>a ton</em> of <code>RequestRejectedException</code> entries in my Tomcat log (sample pasted below). These started appearing in my log file after a minor version upgrade (Spring Security 4.2.4, IIRC) a few months ago, so this is clearly a new security feature in Spring that is enabled by default. A similar issue is <a href=\"https://stackoverflow.com/q/48453980/2074605\">reported here</a>, but my question involves specifically how to intercept these exceptions in a controller. There is a Spring Security bug documented for this problem (<a href=\"https://github.com/spring-projects/spring-security/issues/5007\" rel=\"noreferrer\">Provide a way to handle RequestRejectedException</a>). However, they aren't targeting a fix for this problem until Spring 5.1.</p>\n\n<p>I understand <a href=\"https://stackoverflow.com/q/48580584/2074605\">why these exceptions are being thrown</a>, and I do not want to <a href=\"https://stackoverflow.com/a/48636757/2074605\">disable this security feature</a>.</p>\n\n<p>I want to gain some control over this feature so that:</p>\n\n<ol>\n<li>I know I'm not blocking legitimate users from my site.</li>\n<li>I can see what requests are triggering this (are they SQL Injection attacks?)</li>\n<li>I can adjust the server response. The Spring Security firewall dumps a complete stack trace to the web client (information disclosure), along with a <code>500 Internal Server Error</code> (which is wildly incorrect, this should be a <code>400 Bad Request</code>).</li>\n</ol>\n\n<p>I want to find a way to log the URL that was requested, but also suppress the stack trace specifically for these exceptions because they are polluting my log files without giving me any helpful information. Optimally, I'd like to intercept these exceptions and handle them in my application layer instead of reporting them in the Tomcat log at all.</p>\n\n<p>For example, this is one of thousands of these log entries that appear every day in my <code>catalina.out</code>:</p>\n\n<pre><code>Aug 10, 2018 2:01:36 PM org.apache.catalina.core.StandardWrapperValve invoke\nSEVERE: Servlet.service() for servlet [dispatcher] in context with path [] threw exception\norg.springframework.security.web.firewall.RequestRejectedException: The request was rejected because the URL contained a potentially malicious String \";\"\n        at org.springframework.security.web.firewall.StrictHttpFirewall.rejectedBlacklistedUrls(StrictHttpFirewall.java:265)\n        at org.springframework.security.web.firewall.StrictHttpFirewall.getFirewalledRequest(StrictHttpFirewall.java:245)\n        at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:193)\n        at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:177)\n        at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:347)\n        at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:263)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198)\n        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)\n        at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:496)\n        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)\n        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)\n        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)\n        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)\n        at org.apache.coyote.ajp.AjpProcessor.service(AjpProcessor.java:486)\n        at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)\n        at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:790)\n        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1459)\n        at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n        at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n        at java.lang.Thread.run(Thread.java:748)\n</code></pre>\n\n<p>I'm seeing over 3,200 of these in a two day period, and it has quickly become the single largest contributor to my <code>catalina.out</code> log file, to the point that it prevents me from seeing other, legitimate problems. Essentially, this new Spring Security feature is a form of built-in Denial-of-Service, and it has wasted hours of my time since April. I am not saying that it is not an important feature, simply that the default implementation is completely botched, and I want to find a way gain some control over it, both as a developer and as a systems administrator.</p>\n\n<p>I use a custom Error Controller for intercepting many other Exception types (including <code>IOException</code>) in Spring. However, <code>RequestRejectedException</code> seems to be falling through for some reason.</p>\n\n<p>This is the relevant part of my <code>ErrorController.java</code>, to give an idea of what I'm trying to accomplish:</p>\n\n<pre><code>@ControllerAdvice\npublic final class ErrorController\n{\n    /**\n     * Logger.\n     */\n    private static final Logger LOGGER = Logger.getLogger(ErrorController.class.getName());\n\n    /**\n     * Generates an Error page by intercepting exceptions generated from HttpFirewall.\n     *\n     * @param ex A RequestRejectedException exception.\n     * @return The tile definition name for the page.\n     */\n    @ExceptionHandler(RequestRejectedException.class)\n    @ResponseStatus(HttpStatus.BAD_REQUEST)\n    public String handleRequestRejectedException(final HttpServletRequest request, final RequestRejectedException ex)\n    {\n        if (LOGGER.isLoggable(Level.INFO))\n        {\n            LOGGER.log(Level.INFO, \"Request Rejected\", ex);\n        }\n\n        LOGGER.log(Level.WARNING, \"Rejected request for [\" + request.getRequestURL().toString() + \"]. Reason: \" + ex.getMessage());\n        return \"errorPage\";\n    }\n\n    /**\n     * Generates a Server Error page.\n     *\n     * @param ex An exception.\n     * @return The tile definition name for the page.\n     */\n    @ExceptionHandler(Exception.class)\n    @ResponseStatus(HttpStatus.INTERNAL_SERVER_ERROR)\n    public String handleException(final Exception ex)\n    {\n        if (LOGGER.isLoggable(Level.SEVERE))\n        {\n            LOGGER.log(Level.SEVERE, \"Server Error\", ex);\n        }\n\n        return \"errorPage\";\n    }\n}\n</code></pre>\n\n<p>This error controller works for many exceptions. For example, it successfully intercepted this <code>IllegalStateException</code>:</p>\n\n<pre><code>Aug 05, 2018 7:50:30 AM com.mycompany.spring.controller.ErrorController handleException\nSEVERE: Server Error\njava.lang.IllegalStateException: Cannot create a session after the response has been committed\n        at org.apache.catalina.connector.Request.doGetSession(Request.java:2999)\n...\n</code></pre>\n\n<p>However, this is not intercepting <code>RequestRejectedException</code> (as indicated by the lack of \"Server Error\" in the first log sample above).</p>\n\n<p>How can I intercept <code>RequestRejectedException</code> in an error controller?</p>\n"},{"tags":["java","bit-manipulation"],"comments":[{"owner":{"account_id":196869,"reputation":402535,"user_id":440558,"accept_rate":75,"display_name":"Some programmer dude"},"score":0,"creation_date":1691142836,"post_id":76834773,"comment_id":135454975,"body_markdown":"I&#39;m guessing it&#39;s all to do with [two&#39;s complement](https://en.wikipedia.org/wiki/Two%27s_complement) which is the common way to store negative integers.","body":"I&#39;m guessing it&#39;s all to do with <a href=\"https://en.wikipedia.org/wiki/Two%27s_complement\" rel=\"nofollow noreferrer\">two&#39;s complement</a> which is the common way to store negative integers."}],"answers":[{"tags":[],"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1691142887,"creation_date":1691142887,"answer_id":76834820,"question_id":76834773,"body_markdown":"Your constants are ints. 0xFFFFFFFF and 0x00000000FFFFFFFF are both -1. These are equivalent to 0xFFFFFFFFFFFFFFFFL. Use 0xFFFFFFFF**L** and 0x00000000FFFFFFFF**L** instead and you&#39;ll see the results you want.","title":"Java bitwise AND incorrect output?","body":"<p>Your constants are ints. 0xFFFFFFFF and 0x00000000FFFFFFFF are both -1. These are equivalent to 0xFFFFFFFFFFFFFFFFL. Use 0xFFFFFFFF<strong>L</strong> and 0x00000000FFFFFFFF<strong>L</strong> instead and you'll see the results you want.</p>\n"},{"tags":[],"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1691142947,"creation_date":1691142947,"answer_id":76834827,"question_id":76834773,"body_markdown":"`0xFFFFFFFF` and `0x00000000FFFFFFFF` are both `int` literals, representing the value -1. \r\n\r\nWhen `&amp;` is applied on a `long` and an `int`, the `int` undergoes [numeric promotion][1], and gets converted to a `long`. \r\n\r\n&gt; Otherwise, if any expression is of type long, then the promoted type is long, and other expressions that are not of type long undergo [widening primitive conversion][2] to `long`.\r\n\r\nDuring this conversion, the value is sign-extended, \r\n\r\n&gt; A widening conversion of a signed integer value to an integral type T simply sign-extends the two&#39;s-complement representation of the integer value to fill the wider format.\r\n\r\nso you still get the same value (-1) as a `long`. -1&#39;s bits are all 1, so you get the same result.\r\n\r\nTo get the intended result, add the `L` suffix to these literals, so they are actually `long`s, and does not get sign-extended.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/specs/jls/se17/html/jls-5.html#jls-5.6\r\n  [2]: https://docs.oracle.com/javase/specs/jls/se17/html/jls-5.html#jls-5.1.2","title":"Java bitwise AND incorrect output?","body":"<p><code>0xFFFFFFFF</code> and <code>0x00000000FFFFFFFF</code> are both <code>int</code> literals, representing the value -1.</p>\n<p>When <code>&amp;</code> is applied on a <code>long</code> and an <code>int</code>, the <code>int</code> undergoes <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-5.html#jls-5.6\" rel=\"nofollow noreferrer\">numeric promotion</a>, and gets converted to a <code>long</code>.</p>\n<blockquote>\n<p>Otherwise, if any expression is of type long, then the promoted type is long, and other expressions that are not of type long undergo <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-5.html#jls-5.1.2\" rel=\"nofollow noreferrer\">widening primitive conversion</a> to <code>long</code>.</p>\n</blockquote>\n<p>During this conversion, the value is sign-extended,</p>\n<blockquote>\n<p>A widening conversion of a signed integer value to an integral type T simply sign-extends the two's-complement representation of the integer value to fill the wider format.</p>\n</blockquote>\n<p>so you still get the same value (-1) as a <code>long</code>. -1's bits are all 1, so you get the same result.</p>\n<p>To get the intended result, add the <code>L</code> suffix to these literals, so they are actually <code>long</code>s, and does not get sign-extended.</p>\n"}],"owner":{"account_id":5964120,"reputation":4275,"user_id":4688321,"display_name":"kiner_shah"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":76834827,"answer_count":2,"score":0,"last_activity_date":1691142947,"creation_date":1691142491,"question_id":76834773,"body_markdown":"Java gives incorrect output when using Bitwise AND:\r\n```\r\nclass Main\r\n{\r\n    public static void main(String[] args)\r\n    {\r\n        long a = -26000;\r\n        System.out.printf(&quot;%X\\n&quot;, a);\r\n        // upper 32-bits are 0 (implicitly)\r\n        System.out.printf(&quot;%X\\n&quot;, (a &amp; 0xFFFFFFFF));\r\n        // upper 32-bits are 0 (explicitly specified)\r\n        System.out.printf(&quot;%X\\n&quot;, (a &amp; 0x00000000FFFFFFFF));\r\n    }\r\n}\r\n/*\r\nOutput:\r\nFFFFFFFFFFFF9A70\r\nFFFFFFFFFFFF9A70\r\nFFFFFFFFFFFF9A70\r\n*/\r\n```\r\nCode link: https://godbolt.org/z/Y8q3MhdK5\r\n\r\nAny ideas why?","title":"Java bitwise AND incorrect output?","body":"<p>Java gives incorrect output when using Bitwise AND:</p>\n<pre><code>class Main\n{\n    public static void main(String[] args)\n    {\n        long a = -26000;\n        System.out.printf(&quot;%X\\n&quot;, a);\n        // upper 32-bits are 0 (implicitly)\n        System.out.printf(&quot;%X\\n&quot;, (a &amp; 0xFFFFFFFF));\n        // upper 32-bits are 0 (explicitly specified)\n        System.out.printf(&quot;%X\\n&quot;, (a &amp; 0x00000000FFFFFFFF));\n    }\n}\n/*\nOutput:\nFFFFFFFFFFFF9A70\nFFFFFFFFFFFF9A70\nFFFFFFFFFFFF9A70\n*/\n</code></pre>\n<p>Code link: <a href=\"https://godbolt.org/z/Y8q3MhdK5\" rel=\"nofollow noreferrer\">https://godbolt.org/z/Y8q3MhdK5</a></p>\n<p>Any ideas why?</p>\n"},{"tags":["java","scala"],"answers":[{"tags":[],"owner":{"account_id":1656390,"reputation":859,"user_id":1525835,"accept_rate":75,"display_name":"Pedro Hidalgo"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1499575155,"creation_date":1499575155,"answer_id":44993034,"question_id":44993014,"body_markdown":"Yes, Scala classes can be called from Java and vice versa.\r\n\r\nThe below text is taken from: [Scala FAQs][1]\r\n\r\n&gt; What does it mean that Scala is compatible with Java?\r\n&gt; \r\n&gt; The standard Scala backend is a Java VM. Scala classes are Java classes, and vice versa. You can call the methods of either language from methods in the other one. You can extend Java classes in Scala, and vice versa. The main limitation is that some Scala features do not have equivalents in Java, for example traits.\r\n\r\nThe following post also could be helpful to you: [how to call Scala from Java][2]\r\n\r\n\r\n  [1]: http://www.scala-lang.org/old/faq/4\r\n  [2]: http://blog.muhuk.com/2016/05/24/how_to_call_scala_from_java__using_scala_classes.html#.WWGyrtPytTY","title":"Can Scala classes be used in Java?","body":"<p>Yes, Scala classes can be called from Java and vice versa.</p>\n\n<p>The below text is taken from: <a href=\"http://www.scala-lang.org/old/faq/4\" rel=\"noreferrer\">Scala FAQs</a></p>\n\n<blockquote>\n  <p>What does it mean that Scala is compatible with Java?</p>\n  \n  <p>The standard Scala backend is a Java VM. Scala classes are Java classes, and vice versa. You can call the methods of either language from methods in the other one. You can extend Java classes in Scala, and vice versa. The main limitation is that some Scala features do not have equivalents in Java, for example traits.</p>\n</blockquote>\n\n<p>The following post also could be helpful to you: <a href=\"http://blog.muhuk.com/2016/05/24/how_to_call_scala_from_java__using_scala_classes.html#.WWGyrtPytTY\" rel=\"noreferrer\">how to call Scala from Java</a></p>\n"},{"tags":[],"owner":{"account_id":8540808,"reputation":361,"user_id":6401022,"accept_rate":80,"display_name":"Stefan Fischer"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1499579983,"creation_date":1499579983,"answer_id":44993460,"question_id":44993014,"body_markdown":"Yes. If you want to do this, there are a few things you might want to remember:\r\n\r\n- Do not use operators in your method names or provide a wordy alternative. Operator names can be called from Java but are mangled into somethings very ugly.\r\n- Java users might expect Java style getters and setters. You can produce those automatically by adding `@BeanProperty` annotation to fields.\r\n- In the same way Java user might be accustomed to factory methods called `ClassName.of` where Scala uses `.apply`. Those you have to provide by hand, if you want to provide that service. ","title":"Can Scala classes be used in Java?","body":"<p>Yes. If you want to do this, there are a few things you might want to remember:</p>\n\n<ul>\n<li>Do not use operators in your method names or provide a wordy alternative. Operator names can be called from Java but are mangled into somethings very ugly.</li>\n<li>Java users might expect Java style getters and setters. You can produce those automatically by adding <code>@BeanProperty</code> annotation to fields.</li>\n<li>In the same way Java user might be accustomed to factory methods called <code>ClassName.of</code> where Scala uses <code>.apply</code>. Those you have to provide by hand, if you want to provide that service. </li>\n</ul>\n"}],"owner":{"account_id":1192551,"reputation":307,"user_id":1165008,"accept_rate":33,"display_name":"Kannan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10184,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"answer_count":2,"score":10,"last_activity_date":1691142681,"creation_date":1499574834,"question_id":44993014,"body_markdown":"    class Wish{\r\n        val s = &quot;Hello! User.  Wish you a Great day.&quot;\r\n    }\r\n    \r\n    object Wish{\r\n        def main(args: Array[String]){\r\n            val w = new Wish()\r\n            println(&quot;Value - &quot; + w.s )\r\n       }\r\n    }\r\n\r\nJava classes can be used in Scala.  Similarly,  can Scala classes be used in Java?\r\n","title":"Can Scala classes be used in Java?","body":"<pre><code>class Wish{\n    val s = \"Hello! User.  Wish you a Great day.\"\n}\n\nobject Wish{\n    def main(args: Array[String]){\n        val w = new Wish()\n        println(\"Value - \" + w.s )\n   }\n}\n</code></pre>\n\n<p>Java classes can be used in Scala.  Similarly,  can Scala classes be used in Java?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9725,"page":267,"page_size":100}
