{"items":[{"tags":["java","class","cannot-find-symbol"],"comments":[{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1697709557,"post_id":77319531,"comment_id":136315108,"body_markdown":"Use a build tool. I recommend gradle.","body":"Use a build tool. I recommend gradle."},{"owner":{"account_id":9376049,"reputation":3355,"user_id":7643517,"display_name":"Nolequen"},"score":0,"creation_date":1697791520,"post_id":77319531,"comment_id":136326775,"body_markdown":"Does this answer your question? [How to compile multiple java source files in command line](https://stackoverflow.com/questions/4800781/how-to-compile-multiple-java-source-files-in-command-line)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/4800781/how-to-compile-multiple-java-source-files-in-command-line\">How to compile multiple java source files in command line</a>"}],"owner":{"account_id":29703342,"reputation":1,"user_id":22764847,"display_name":"DartMol21"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":213,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697712771,"creation_date":1697662281,"question_id":77319531,"body_markdown":"    package com.test;\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            Car car = new Car();\r\n            System.out.println(&quot;Car speed: &quot; + car.speed);\r\n        }\r\n    }\r\n\r\n\r\n    package com.test;\r\n\r\n    public class Car {\r\n        public int speed = 100;\r\n    }\r\n&lt;br/&gt;\r\n\r\n    Main.java:5: error: cannot find symbol\r\n            Car car = new Car();\r\n            ^\r\n      symbol:   class Car\r\n      location: class Main\r\n    Main.java:5: error: cannot find symbol\r\n            Car car = new Car();\r\n                      ^\r\n      symbol:   class Car\r\n      location: class Main\r\n    2 errors\r\n\r\n\r\n\r\nIn console i coming in folder package, there all java files `Main.java` and `Car.java ` \r\nAnd do first in console `javac Car.java`  \r\nNext i do `javac Main.java`, it writes error  \r\n\r\nI`m coding in IntelliJ IDEA, everything works fine there","title":"Cannot find symbol class Java","body":"<pre><code>package com.test;\n\npublic class Main {\n    public static void main(String[] args) {\n        Car car = new Car();\n        System.out.println(&quot;Car speed: &quot; + car.speed);\n    }\n}\n\n\npackage com.test;\n\npublic class Car {\n    public int speed = 100;\n}\n</code></pre>\n<br/>\n<pre><code>Main.java:5: error: cannot find symbol\n        Car car = new Car();\n        ^\n  symbol:   class Car\n  location: class Main\nMain.java:5: error: cannot find symbol\n        Car car = new Car();\n                  ^\n  symbol:   class Car\n  location: class Main\n2 errors\n</code></pre>\n<p>In console i coming in folder package, there all java files <code>Main.java</code> and <code>Car.java </code>\nAnd do first in console <code>javac Car.java</code><br />\nNext i do <code>javac Main.java</code>, it writes error</p>\n<p>I`m coding in IntelliJ IDEA, everything works fine there</p>\n"},{"tags":["java","maven","javabeans","thingsboard"],"answers":[{"tags":[],"owner":{"account_id":29707602,"reputation":1,"user_id":22768091,"display_name":"Jayesh Solanki"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697712367,"creation_date":1697712367,"answer_id":77323101,"question_id":77220233,"body_markdown":"I have seen the below code in that. There is an issue with resolving the file path for the resource `templates/mail_config_templates.json`\r\n\r\n    @PostConstruct\r\n    private void postConstruct() throws IOException {\r\n        mailConfigTemplates = JacksonUtil.toJsonNode(new ClassPathResource(&quot;/templates/mail_config_templates.json&quot;).getFile());\r\n    }\r\n\r\nThe file seems to be located inside a JAR file, and the application is unable to resolve its absolute file path because it&#39;s not directly accessible in the file system.\r\n\r\nHere you can check potential solution:\r\n\r\n    @PostConstruct\r\n    private void postConstruct() throws IOException {\r\n    \ttry (InputStream inputStream = getClass().getResourceAsStream(&quot;/templates/mail_config_templates.json&quot;)) {\r\n            if (inputStream == null) {\r\n                throw new FileNotFoundException(&quot;File not found: mail_config_templates.json&quot;);\r\n            }\r\n            mailConfigTemplates = JacksonUtil.toJsonNode(new String(inputStream.readAllBytes(), StandardCharsets.UTF_8));\r\n        } catch (IOException e) {\r\n            log.error(&quot;Error loading mail configuration templates&quot;, e);\r\n            throw e;\r\n        }\r\n    }","title":"Error creating bean with name &#39;defaultTbMailConfigTemplateService&#39; Thingsboard release-3.6","body":"<p>I have seen the below code in that. There is an issue with resolving the file path for the resource <code>templates/mail_config_templates.json</code></p>\n<pre><code>@PostConstruct\nprivate void postConstruct() throws IOException {\n    mailConfigTemplates = JacksonUtil.toJsonNode(new ClassPathResource(&quot;/templates/mail_config_templates.json&quot;).getFile());\n}\n</code></pre>\n<p>The file seems to be located inside a JAR file, and the application is unable to resolve its absolute file path because it's not directly accessible in the file system.</p>\n<p>Here you can check potential solution:</p>\n<pre><code>@PostConstruct\nprivate void postConstruct() throws IOException {\n    try (InputStream inputStream = getClass().getResourceAsStream(&quot;/templates/mail_config_templates.json&quot;)) {\n        if (inputStream == null) {\n            throw new FileNotFoundException(&quot;File not found: mail_config_templates.json&quot;);\n        }\n        mailConfigTemplates = JacksonUtil.toJsonNode(new String(inputStream.readAllBytes(), StandardCharsets.UTF_8));\n    } catch (IOException e) {\n        log.error(&quot;Error loading mail configuration templates&quot;, e);\n        throw e;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":29586087,"reputation":1,"user_id":22674705,"display_name":"Shukesh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697712367,"creation_date":1696316352,"question_id":77220233,"body_markdown":"I have build thingsboard release-3.6 build from sources. \r\nI am facing issue while running boot-jar file in application/target, receiving following error.\r\n\r\n```\r\nConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;defaultTbMailConfigTemplateService&#39;: Invocation of init method failed; nested exception is java.io.FileNotFoundException: class path resource [templates/mail_config_templates.json] cannot be resolved to absolute file path because it does not reside in the file system: jar:file:/home/thingspad/Documents/thingsboard/application/target/thingsboard-3.6.1-SNAPSHOT-boot.jar!/BOOT-INF/classes!/templates/mail_config_templates.json\r\n```\r\n\r\nMaven Build of thingsboard has no issues, issue while starting the boot-jar file. [Error while running boot jar][1]. \r\n\r\ncan anyone help me out with the issue I am facing?\r\n\r\n\r\nThanks in Advance\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/M3Hy7.png","title":"Error creating bean with name &#39;defaultTbMailConfigTemplateService&#39; Thingsboard release-3.6","body":"<p>I have build thingsboard release-3.6 build from sources.\nI am facing issue while running boot-jar file in application/target, receiving following error.</p>\n<pre><code>ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'defaultTbMailConfigTemplateService': Invocation of init method failed; nested exception is java.io.FileNotFoundException: class path resource [templates/mail_config_templates.json] cannot be resolved to absolute file path because it does not reside in the file system: jar:file:/home/thingspad/Documents/thingsboard/application/target/thingsboard-3.6.1-SNAPSHOT-boot.jar!/BOOT-INF/classes!/templates/mail_config_templates.json\n</code></pre>\n<p>Maven Build of thingsboard has no issues, issue while starting the boot-jar file. <a href=\"https://i.stack.imgur.com/M3Hy7.png\" rel=\"nofollow noreferrer\">Error while running boot jar</a>.</p>\n<p>can anyone help me out with the issue I am facing?</p>\n<p>Thanks in Advance</p>\n"},{"tags":["java","spring","spring-cloud-feign","feign"],"answers":[{"tags":[],"owner":{"account_id":14766609,"reputation":4337,"user_id":10664446,"display_name":"stacker"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1542400332,"creation_date":1542400332,"answer_id":53344981,"question_id":53340164,"body_markdown":"As already been discussed [HERE][1]: feign 9.3.1 does support @QueryMap with A POJO, you need to use a Map, try to update to feign 9.7 or 10.0.1\r\n\r\n\r\n  [1]: https://github.com/OpenFeign/feign/issues/691","title":"FeignClient converts GET method to POST","body":"<p>As already been discussed <a href=\"https://github.com/OpenFeign/feign/issues/691\" rel=\"nofollow noreferrer\">HERE</a>: feign 9.3.1 does support @QueryMap with A POJO, you need to use a Map, try to update to feign 9.7 or 10.0.1</p>\n"},{"tags":[],"owner":{"account_id":6740288,"reputation":2238,"user_id":5193747,"accept_rate":47,"display_name":"Kamil W"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1542623794,"creation_date":1542623794,"answer_id":53372769,"question_id":53340164,"body_markdown":"In my project I use `spring-cloud-dependencies` with `Camden.SR7` version which contains `9.3.1` feign version, at current time the newest version is `Finchley.RELEASE` which contains feign `9.7` and I see it&#39;s dedicated for `spring-boot 2.x.x`, but my whole infrastructure (config/eureka server) runs on `1.5.x` so it produces next issues. I took a look at github documentation for feign, and I discovered `@Param` annotation might be helpful, but when I use it in method with 3 arguments, it throws exception `Method has too many Body parameters~`. Finally annotation `@RequestParam` from spring works as workaround, but I didn&#39;t found any source of information that we can combine these annotations.\r\n\r\n\r\n    @RequestMapping(method = GET, value = &quot;/clients&quot;)\r\n    Client getClients(@RequestParam(&quot;someValue&quot;) String someValue, @RequestParam(&quot;someEnum&quot;) String someEnum);\r\n\r\nI didn&#39;t found `spring-cloud-dependencies` version which contains `9.7` feign and it&#39;s dedicated for `spring-boot 1.5.x`applications.","title":"FeignClient converts GET method to POST","body":"<p>In my project I use <code>spring-cloud-dependencies</code> with <code>Camden.SR7</code> version which contains <code>9.3.1</code> feign version, at current time the newest version is <code>Finchley.RELEASE</code> which contains feign <code>9.7</code> and I see it's dedicated for <code>spring-boot 2.x.x</code>, but my whole infrastructure (config/eureka server) runs on <code>1.5.x</code> so it produces next issues. I took a look at github documentation for feign, and I discovered <code>@Param</code> annotation might be helpful, but when I use it in method with 3 arguments, it throws exception <code>Method has too many Body parameters~</code>. Finally annotation <code>@RequestParam</code> from spring works as workaround, but I didn't found any source of information that we can combine these annotations.</p>\n\n<pre><code>@RequestMapping(method = GET, value = \"/clients\")\nClient getClients(@RequestParam(\"someValue\") String someValue, @RequestParam(\"someEnum\") String someEnum);\n</code></pre>\n\n<p>I didn't found <code>spring-cloud-dependencies</code> version which contains <code>9.7</code> feign and it's dedicated for <code>spring-boot 1.5.x</code>applications.</p>\n"},{"tags":[],"owner":{"account_id":3021339,"reputation":7370,"user_id":2562319,"display_name":"jbyler"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1604897373,"creation_date":1604897373,"answer_id":64746023,"question_id":53340164,"body_markdown":"I encountered an instance of Spring&#39;s `@FeignClient` converting a GET request into POST for a different reason.  In my case, the REST API being invoked uses an HTTP query parameter.  The Feign client method to invoke this API had a parameter annotated with `@QueryParam` (i.e. javax.ws.rs.QueryParam) for this query parameter.  Feign apparently does not recognize this annotation, and so used that method parameter as a form post parameter in the request body (and turned the request method into a POST) instead of using it as a query parameter.\r\n\r\nThe fix was to replace the `javax.ws.rs.QueryParam` annotation with `org.springframework.web.bind.annotation.RequestParam`.\r\n\r\nThis case occurred using spring-cloud-openfeign-core-2.2.5.RELEASE.","title":"FeignClient converts GET method to POST","body":"<p>I encountered an instance of Spring's <code>@FeignClient</code> converting a GET request into POST for a different reason.  In my case, the REST API being invoked uses an HTTP query parameter.  The Feign client method to invoke this API had a parameter annotated with <code>@QueryParam</code> (i.e. javax.ws.rs.QueryParam) for this query parameter.  Feign apparently does not recognize this annotation, and so used that method parameter as a form post parameter in the request body (and turned the request method into a POST) instead of using it as a query parameter.</p>\n<p>The fix was to replace the <code>javax.ws.rs.QueryParam</code> annotation with <code>org.springframework.web.bind.annotation.RequestParam</code>.</p>\n<p>This case occurred using spring-cloud-openfeign-core-2.2.5.RELEASE.</p>\n"},{"tags":[],"owner":{"account_id":13522139,"reputation":71,"user_id":9755044,"display_name":"Willian Dougherty"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658777303,"creation_date":1658777303,"answer_id":73114419,"question_id":53340164,"body_markdown":"In my case, I was using `@Param` to pass my request parameters to my GET endpoint. I don&#39;t know why, but apparently Feign convert it to a POST request.\r\n\r\nI solve my problem replacing the `@Param` by `@QueryMap`\r\n\r\nSample:\r\n\r\n    @RequestLine(&quot;GET&quot;)\r\n    MyObjResponse findByObjByIdAndNameUsingRequestParams(@QueryMap Map&lt;String, String&gt; queryMap);\r\n\r\nNow Feign send a correct GET http method.","title":"FeignClient converts GET method to POST","body":"<p>In my case, I was using <code>@Param</code> to pass my request parameters to my GET endpoint. I don't know why, but apparently Feign convert it to a POST request.</p>\n<p>I solve my problem replacing the <code>@Param</code> by <code>@QueryMap</code></p>\n<p>Sample:</p>\n<pre><code>@RequestLine(&quot;GET&quot;)\nMyObjResponse findByObjByIdAndNameUsingRequestParams(@QueryMap Map&lt;String, String&gt; queryMap);\n</code></pre>\n<p>Now Feign send a correct GET http method.</p>\n"},{"tags":[],"owner":{"account_id":7002644,"reputation":119,"user_id":5368175,"display_name":"gviczai"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686243354,"creation_date":1686243354,"answer_id":76434131,"question_id":53340164,"body_markdown":"I faced a similar problem, using Feign and Spring Boot and using a single complex Object as the parameter. I successfully solved it, by recognizing:\r\n1) If one does not specify @SpringQueryMap beside @Parameter, Feign converts the parameter object to a json and puts it to the body of the request.\r\n2) Since GET requests with body are not really conform to http standards, the default http client used by Feign automatically converts the GET to POST. This, however can be worked around: if one adds Apache Http client 5 as dependency to the project, Feign will use it automatically instead of the java.net.http.HttpClient. And Apache&#39;s client does not changes the method, so it will stay GET. (Please note that the parameter object will still travel in the body as a json.)\r\nSimply put this to your pom.xml:\r\n```\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.github.openfeign&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;feign-hc5&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n```\r\nSpring Boot&#39;s autoconfigure feature will handle the rest.\r\n","title":"FeignClient converts GET method to POST","body":"<p>I faced a similar problem, using Feign and Spring Boot and using a single complex Object as the parameter. I successfully solved it, by recognizing:</p>\n<ol>\n<li>If one does not specify @SpringQueryMap beside @Parameter, Feign converts the parameter object to a json and puts it to the body of the request.</li>\n<li>Since GET requests with body are not really conform to http standards, the default http client used by Feign automatically converts the GET to POST. This, however can be worked around: if one adds Apache Http client 5 as dependency to the project, Feign will use it automatically instead of the java.net.http.HttpClient. And Apache's client does not changes the method, so it will stay GET. (Please note that the parameter object will still travel in the body as a json.)\nSimply put this to your pom.xml:</li>\n</ol>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;io.github.openfeign&lt;/groupId&gt;\n            &lt;artifactId&gt;feign-hc5&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>Spring Boot's autoconfigure feature will handle the rest.</p>\n"},{"tags":[],"owner":{"account_id":4409730,"reputation":21,"user_id":3593025,"display_name":"user3593025"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697712215,"creation_date":1697712215,"answer_id":77323081,"question_id":53340164,"body_markdown":"I too faced this problem. and resolved it after noticing a parameter name in the path value was not having same case as it was used in @PathVariable alias name.\r\n\r\n    @RequestMapping(method = RequestMethod.GET, path = &quot;v1/{key}/user/profiles/{parentUser}&quot;)\r\n    String getUser(@PathVariable(&quot;key&quot;) String key, @PathVariable(&quot;parentuser&quot;) String parentuser);\r\n\r\nSo if you notice in the above code snippet. the parent***U***ser in the Path value is not matching with the name parent***u***ser in PathVariable annotation. \r\n\r\nDuring the call the client, assumes the PathVariable to be a additional parameter and tries to convert it as Gson Object.\r\n\r\nand if the Controller at Server has another method with similar URL for e.g. PUT operation, then it will try to call that method and not the GET method.\r\n\r\nI am not sure if the answer is relevant. But after a long analysis I found out this silly mistake and thought if it would help someone else who is in similar situation and can save the unnecessary stress and time.\r\n\r\nthanks","title":"FeignClient converts GET method to POST","body":"<p>I too faced this problem. and resolved it after noticing a parameter name in the path value was not having same case as it was used in @PathVariable alias name.</p>\n<pre><code>@RequestMapping(method = RequestMethod.GET, path = &quot;v1/{key}/user/profiles/{parentUser}&quot;)\nString getUser(@PathVariable(&quot;key&quot;) String key, @PathVariable(&quot;parentuser&quot;) String parentuser);\n</code></pre>\n<p>So if you notice in the above code snippet. the parent<em><strong>U</strong></em>ser in the Path value is not matching with the name parent<em><strong>u</strong></em>ser in PathVariable annotation.</p>\n<p>During the call the client, assumes the PathVariable to be a additional parameter and tries to convert it as Gson Object.</p>\n<p>and if the Controller at Server has another method with similar URL for e.g. PUT operation, then it will try to call that method and not the GET method.</p>\n<p>I am not sure if the answer is relevant. But after a long analysis I found out this silly mistake and thought if it would help someone else who is in similar situation and can save the unnecessary stress and time.</p>\n<p>thanks</p>\n"}],"owner":{"account_id":6740288,"reputation":2238,"user_id":5193747,"accept_rate":47,"display_name":"Kamil W"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8027,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":53372769,"answer_count":6,"score":6,"last_activity_date":1697712215,"creation_date":1542379869,"question_id":53340164,"body_markdown":"I don&#39;t know what I&#39;m doing wrong, but each time feign client converts method declared as get to post type.\r\n\r\n\r\n    @FeignClient(name = &quot;my-service&quot;, url = &quot;http://localhost:8114&quot;, path = &quot;service&quot;)\r\n    public interface MyServiceClient {\r\n    \r\n        @RequestMapping(method = GET, value = &quot;/clients&quot;)\r\n        Client getClients(@QueryMap MyPojo pojo);\r\n    }\r\n\r\n    @Getter\r\n    @Setter\r\n    public class MyPojo {\r\n        \r\n        @NotNull\r\n        private String someValue;\r\n        @NotNull\r\n        private SomeEnum someEnum;\r\n    }\r\n\r\nThis setup should be resolved to this request:  \r\n`GET http://localhost:8114/service/clients?someValue=foo&amp;someEnum=bar`\r\n\r\nBut each time I&#39;m getting this result:\r\n\r\n    {\r\n      &quot;timestamp&quot;: 1542378765498,\r\n      &quot;status&quot;: 405,\r\n      &quot;error&quot;: &quot;Method Not Allowed&quot;,\r\n      &quot;exception&quot;: &quot;org.springframework.web.HttpRequestMethodNotSupportedException&quot;,\r\n      &quot;message&quot;: &quot;Request method &#39;POST&#39; not supported&quot;,\r\n      &quot;path&quot;: &quot;/service/clients&quot;\r\n    }\r\n\r\nHowever it works fine when I do it in this way:\r\n\r\n    @RequestMapping(method = GET, value = &quot;/clients?someValue=foo&amp;someEnum=bar&quot;)\r\n    Client getClients();\r\n\r\nI&#39;m working on `spring-cloud-starter-feign 1.2.7.RELASE` version which contains, `feign-core/sl4fj/hystrix/ 9.3.1` version, but I also tested it on 10.1.0 version, with this same result.\r\n\r\nWhat should I do to resolve this issue?\r\n\r\n","title":"FeignClient converts GET method to POST","body":"<p>I don't know what I'm doing wrong, but each time feign client converts method declared as get to post type.</p>\n\n<pre><code>@FeignClient(name = \"my-service\", url = \"http://localhost:8114\", path = \"service\")\npublic interface MyServiceClient {\n\n    @RequestMapping(method = GET, value = \"/clients\")\n    Client getClients(@QueryMap MyPojo pojo);\n}\n\n@Getter\n@Setter\npublic class MyPojo {\n\n    @NotNull\n    private String someValue;\n    @NotNull\n    private SomeEnum someEnum;\n}\n</code></pre>\n\n<p>This setup should be resolved to this request:<br>\n<code>GET http://localhost:8114/service/clients?someValue=foo&amp;someEnum=bar</code></p>\n\n<p>But each time I'm getting this result:</p>\n\n<pre><code>{\n  \"timestamp\": 1542378765498,\n  \"status\": 405,\n  \"error\": \"Method Not Allowed\",\n  \"exception\": \"org.springframework.web.HttpRequestMethodNotSupportedException\",\n  \"message\": \"Request method 'POST' not supported\",\n  \"path\": \"/service/clients\"\n}\n</code></pre>\n\n<p>However it works fine when I do it in this way:</p>\n\n<pre><code>@RequestMapping(method = GET, value = \"/clients?someValue=foo&amp;someEnum=bar\")\nClient getClients();\n</code></pre>\n\n<p>I'm working on <code>spring-cloud-starter-feign 1.2.7.RELASE</code> version which contains, <code>feign-core/sl4fj/hystrix/ 9.3.1</code> version, but I also tested it on 10.1.0 version, with this same result.</p>\n\n<p>What should I do to resolve this issue?</p>\n"},{"tags":["java","spring-boot","spring-security","vaadin"],"comments":[{"owner":{"account_id":4107094,"reputation":350,"user_id":3370777,"display_name":"James"},"score":0,"creation_date":1697642875,"post_id":77310172,"comment_id":136306438,"body_markdown":"Also i might add that in the documentation for the ip whitelisting from the [5.8.8](https://docs.spring.io/spring-security/reference/5.8/migration/servlet/authorization.html#_migrate_hasipaddress_to_accessauthorizationmanager) does not have a clear corrispondance to the 6.1.3","body":"Also i might add that in the documentation for the ip whitelisting from the <a href=\"https://docs.spring.io/spring-security/reference/5.8/migration/servlet/authorization.html#_migrate_hasipaddress_to_accessauthorizationmanager\" rel=\"nofollow noreferrer\">5.8.8</a> does not have a clear corrispondance to the 6.1.3"},{"owner":{"account_id":213468,"reputation":103493,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1697711765,"post_id":77310172,"comment_id":136315491,"body_markdown":"If things are deprecated, they still work (but are expected to be removed in the future). Generally, the Javadoc of those methods will contain information on what their replacement would be.","body":"If things are deprecated, they still work (but are expected to be removed in the future). Generally, the Javadoc of those methods will contain information on what their replacement would be."},{"owner":{"account_id":213468,"reputation":103493,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1697712062,"post_id":77310172,"comment_id":136315528,"body_markdown":"Also, the documentation you link from 5.8.8 shows what the replacement of the method `hasIpAddress` **is** (they just confusingly gave the `IpAddressMatcher` also the name `hasIpAddress`), so follow that instruction. Construct an `IpAddressMatcher`, and use it from the `access` method within `authorizeHttpRequests` (as opposed to `authorizeRequests`) as shown in that link (but also consider the note below that code, which basically says it is a bad idea to do this).","body":"Also, the documentation you link from 5.8.8 shows what the replacement of the method <code>hasIpAddress</code> <b>is</b> (they just confusingly gave the <code>IpAddressMatcher</code> also the name <code>hasIpAddress</code>), so follow that instruction. Construct an <code>IpAddressMatcher</code>, and use it from the <code>access</code> method within <code>authorizeHttpRequests</code> (as opposed to <code>authorizeRequests</code>) as shown in that link (but also consider the note below that code, which basically says it is a bad idea to do this)."}],"owner":{"account_id":4107094,"reputation":350,"user_id":3370777,"display_name":"James"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1697576120,"answer_count":0,"score":0,"last_activity_date":1697711722,"creation_date":1697555256,"question_id":77310172,"body_markdown":"I am trying to understand how whitelisting works inside Java Spring Boot &gt;6.1.\r\n\r\nBelow you can see my class:\r\n```\r\n@EnableWebSecurity\r\n@Configuration\r\npublic class SecurityConfiguration extends VaadinWebSecurity {\r\n\r\n    @Bean\r\n    public PasswordEncoder passwordEncoder() {\r\n        // definie the encripter\r\n        return new BCryptPasswordSimpleEncoder();\r\n        //\tnew BCryptPasswordEncoder();\r\n    }\r\n\r\n    // Define a custom method to check the IP address\r\n    private boolean isIpAddressMatch(HttpServletRequest request, String ipAddress) {\r\n        IpAddressMatcher ipAddressMatcher = new IpAddressMatcher(ipAddress);\r\n        return new AntPathRequestMatcher(&quot;/rest/**&quot;).matches(request) &amp;&amp;\r\n                ipAddressMatcher.matches(request);\r\n    }\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        http.authorizeHttpRequests(authorize -&gt; {\r\n            // Whitelist specific IP for /rest/**\r\n            authorize.requestMatchers(request -&gt; isIpAddressMatch(request, &quot;11.11.11.11&quot;)).permitAll();\r\n\r\n            // Other configurations\r\n            authorize\r\n                    .requestMatchers(new AntPathRequestMatcher(&quot;/images/*.png&quot;))\r\n                    .permitAll();\r\n\r\n            // Icons from the line-awesome addon\r\n            authorize\r\n                    .requestMatchers(new AntPathRequestMatcher(&quot;/line-awesome/**/*.svg&quot;))\r\n                    .permitAll();\r\n\r\n            // Authorize other /rest/** requests\r\n            authorize\r\n                    .requestMatchers(new AntPathRequestMatcher(&quot;/rest/**&quot;))\r\n                    .permitAll();\r\n        });\r\n\r\n        http.csrf(csrf -&gt;\r\n                csrf.ignoringRequestMatchers(\r\n                        new AntPathRequestMatcher(&quot;/rest/**&quot;)));\r\n\r\n        super.configure(http);\r\n        setLoginView(http, LoginView.class);\r\n    }\r\n```\r\nTesting with Postman, I&#39;m making a post request with the URL localhost:8080/rest, it always gives me 200 as a result unbothered by what IP I&#39;ve put inside my ```isIpAddressMatch(request, &quot;11.11.11.11&quot;)```.\r\n\r\nLooking at the documentation, it is unclear to me what I have to do, it looks like the ```csrf``` method overrides the restriction I&#39;ve put for my IP address, so any value I enter is rendered useless.  \r\n\r\nSomeone pointed out [this question][1] to me, but many of the method used in the link provided are not viable in Spring &gt;6.1, like ```mvcMatchers``` is deprecated now, and the answer make use of ```authorizeRequests``` which is deprecated as well.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/72366267/matching-ip-address-with-authorizehttprequests","title":"Whitelisting ip in Spring &gt;6.1","body":"<p>I am trying to understand how whitelisting works inside Java Spring Boot &gt;6.1.</p>\n<p>Below you can see my class:</p>\n<pre><code>@EnableWebSecurity\n@Configuration\npublic class SecurityConfiguration extends VaadinWebSecurity {\n\n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        // definie the encripter\n        return new BCryptPasswordSimpleEncoder();\n        //  new BCryptPasswordEncoder();\n    }\n\n    // Define a custom method to check the IP address\n    private boolean isIpAddressMatch(HttpServletRequest request, String ipAddress) {\n        IpAddressMatcher ipAddressMatcher = new IpAddressMatcher(ipAddress);\n        return new AntPathRequestMatcher(&quot;/rest/**&quot;).matches(request) &amp;&amp;\n                ipAddressMatcher.matches(request);\n    }\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http.authorizeHttpRequests(authorize -&gt; {\n            // Whitelist specific IP for /rest/**\n            authorize.requestMatchers(request -&gt; isIpAddressMatch(request, &quot;11.11.11.11&quot;)).permitAll();\n\n            // Other configurations\n            authorize\n                    .requestMatchers(new AntPathRequestMatcher(&quot;/images/*.png&quot;))\n                    .permitAll();\n\n            // Icons from the line-awesome addon\n            authorize\n                    .requestMatchers(new AntPathRequestMatcher(&quot;/line-awesome/**/*.svg&quot;))\n                    .permitAll();\n\n            // Authorize other /rest/** requests\n            authorize\n                    .requestMatchers(new AntPathRequestMatcher(&quot;/rest/**&quot;))\n                    .permitAll();\n        });\n\n        http.csrf(csrf -&gt;\n                csrf.ignoringRequestMatchers(\n                        new AntPathRequestMatcher(&quot;/rest/**&quot;)));\n\n        super.configure(http);\n        setLoginView(http, LoginView.class);\n    }\n</code></pre>\n<p>Testing with Postman, I'm making a post request with the URL localhost:8080/rest, it always gives me 200 as a result unbothered by what IP I've put inside my <code>isIpAddressMatch(request, &quot;11.11.11.11&quot;)</code>.</p>\n<p>Looking at the documentation, it is unclear to me what I have to do, it looks like the <code>csrf</code> method overrides the restriction I've put for my IP address, so any value I enter is rendered useless.</p>\n<p>Someone pointed out <a href=\"https://stackoverflow.com/questions/72366267/matching-ip-address-with-authorizehttprequests\">this question</a> to me, but many of the method used in the link provided are not viable in Spring &gt;6.1, like <code>mvcMatchers</code> is deprecated now, and the answer make use of <code>authorizeRequests</code> which is deprecated as well.</p>\n"},{"tags":["java","clojure","classpath","read-eval-print-loop"],"comments":[{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1538098275,"post_id":52546930,"comment_id":92033722,"body_markdown":"`(add-classpath)` uses the context class loader while the system class loader might not be the same.","body":"<code>(add-classpath)</code> uses the context class loader while the system class loader might not be the same."},{"owner":{"account_id":1021570,"reputation":1208,"user_id":1031776,"accept_rate":83,"display_name":"Will"},"score":0,"creation_date":1538231280,"post_id":52546930,"comment_id":92075522,"body_markdown":"`(-&gt; (Thread/currentThread) (.getContextClassLoader) (.getURLs) (seq) )` is nil? (nREPL with emacs)","body":"<code>(-&gt; (Thread&#47;currentThread) (.getContextClassLoader) (.getURLs) (seq) )</code> is nil? (nREPL with emacs)"}],"answers":[{"tags":[],"owner":{"account_id":7126751,"reputation":4324,"user_id":5449431,"display_name":"Matias Bjarland"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1697711344,"creation_date":1697711344,"answer_id":77322978,"question_id":52546930,"body_markdown":"This question is old but as there are no accepted answers I figured it might be worth a response. \r\n\r\nThe java classloader system uses the classpath as a set of search roots and expects to find the actual classes under:\r\n\r\n`&lt;classpath element&gt;/&lt;directory hierarchy representing package name&gt;/&lt;class name&gt;.class`\r\n\r\nwhich in your case would look something like this: \r\n\r\n```\r\nexample\r\n└── com\r\n    └── util\r\n        ├── Util.class\r\n        └── Util.java\r\n```\r\ni.e. it seems that in your example you are trying to load class `com.util.util` but putting the actual `.class` file in the root rather than under the appropriate directory hierarchy representing the `com.util` package name. \r\n\r\nI ran your reproducible example and after this change things seem to work: \r\n\r\n```clojure\r\n(import &#39;[com.util Util])\r\n\r\n=&gt; com.util.Util\r\n```\r\n(I upper cased the class name, otherwise I ran your example as is)","title":"dynamicly add to classpath in clojure repl to access java class files (pomegranate/add-classpath)","body":"<p>This question is old but as there are no accepted answers I figured it might be worth a response.</p>\n<p>The java classloader system uses the classpath as a set of search roots and expects to find the actual classes under:</p>\n<p><code>&lt;classpath element&gt;/&lt;directory hierarchy representing package name&gt;/&lt;class name&gt;.class</code></p>\n<p>which in your case would look something like this:</p>\n<pre><code>example\n└── com\n    └── util\n        ├── Util.class\n        └── Util.java\n</code></pre>\n<p>i.e. it seems that in your example you are trying to load class <code>com.util.util</code> but putting the actual <code>.class</code> file in the root rather than under the appropriate directory hierarchy representing the <code>com.util</code> package name.</p>\n<p>I ran your reproducible example and after this change things seem to work:</p>\n<pre class=\"lang-clj prettyprint-override\"><code>(import '[com.util Util])\n\n=&gt; com.util.Util\n</code></pre>\n<p>(I upper cased the class name, otherwise I ran your example as is)</p>\n"}],"owner":{"account_id":1021570,"reputation":1208,"user_id":1031776,"accept_rate":83,"display_name":"Will"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":450,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":77322978,"answer_count":1,"score":5,"last_activity_date":1697711344,"creation_date":1538096640,"question_id":52546930,"body_markdown":"I have compiled class files in `shortScreen/out/production/classes/com/rsw/` and want to use them in a clojure repl. I think the hangup is on `add-classpath` but I&#39;m unfamiliar with what should be happening. Or how to fix it.\r\n\r\n\r\n\r\n&lt;!-- language: clojure --&gt;\r\n\r\n    (use &#39;[cemerick.pomegranate :only (add-dependencies add-classpath)])\r\n    (import &#39;clojure.pprint)\r\n    (def myclasses &quot;shortScreen/out/production/classes/com/rsw/&quot;)\r\n    ; do i have the correct path?\r\n    (-&gt; (clojure.java.io/file myclasses) (file-seq) (pprint)) ; shows many class files\r\n    (.exists (clojure.java.io/file myclasses &quot;util.class&quot;)) ; true\r\n     \r\n    ; add the path\r\n    (add-classpath myclasses)\r\n    \r\n    ; but nothing like myclasses path in list\r\n    (def thiscp (.getURLs (java.lang.ClassLoader/getSystemClassLoader)))\r\n    (pprint thiscp)\r\n    (filter (fn [s] (re-seq #&quot;out&quot; s)) ;myclasses path should match &quot;out&quot;\r\n         (for [x thiscp]\r\n           (.toString x)))\r\n    \r\n    ; fails -- but not sure if this is the correct syntax anyway\r\n    (import &#39;com.rsw.util)\r\n    (util/msg &quot;test&quot;)\r\n\r\n\r\n\r\n\r\nEdit: **A reproducible example**\r\n\r\n&lt;!-- language: sh --&gt;\r\n\r\n    mkdir example &amp;&amp; cd $_\r\n    # java code\r\n    cat &gt; util.java &lt;&lt; EOF\r\n     package com.util;\r\n     public class util {\r\n     public static void msg(String a){\r\n       System.out.println(a);\r\n      }\r\n     }\r\n    EOF\r\n\r\n    # clojure depends\r\n    cat &gt; deps.edn &lt;&lt; EOF\r\n      {:deps {\r\n        :alembic {:mvn/version &quot;0.3.2&quot;}\r\n        :com.cemerick/pomegranate {:mvn/version &quot;1.0.0&quot;}\r\n        }\r\n      }\r\n    EOF\r\n\r\n    # compile java to class\r\n    javac util.java\r\n    ls # util.java util.class\r\n\r\n    # try to load in repl\r\n    clj\r\n    \r\n      (use &#39;[cemerick.pomegranate :only (add-dependencies add-classpath)])\r\n      (add-classpath (-&gt; (java.io.File. &quot;.&quot;) .getAbsolutePath))\r\n      (import &#39;com.util.util)\r\n      ; ClassNotFoundException com.util  java.net.URLClassLoader.findClass (URLClassLoader.java:381)\r\n\r\n       ","title":"dynamicly add to classpath in clojure repl to access java class files (pomegranate/add-classpath)","body":"<p>I have compiled class files in <code>shortScreen/out/production/classes/com/rsw/</code> and want to use them in a clojure repl. I think the hangup is on <code>add-classpath</code> but I'm unfamiliar with what should be happening. Or how to fix it.</p>\n\n<pre class=\"lang-clj prettyprint-override\"><code>(use '[cemerick.pomegranate :only (add-dependencies add-classpath)])\n(import 'clojure.pprint)\n(def myclasses \"shortScreen/out/production/classes/com/rsw/\")\n; do i have the correct path?\n(-&gt; (clojure.java.io/file myclasses) (file-seq) (pprint)) ; shows many class files\n(.exists (clojure.java.io/file myclasses \"util.class\")) ; true\n\n; add the path\n(add-classpath myclasses)\n\n; but nothing like myclasses path in list\n(def thiscp (.getURLs (java.lang.ClassLoader/getSystemClassLoader)))\n(pprint thiscp)\n(filter (fn [s] (re-seq #\"out\" s)) ;myclasses path should match \"out\"\n     (for [x thiscp]\n       (.toString x)))\n\n; fails -- but not sure if this is the correct syntax anyway\n(import 'com.rsw.util)\n(util/msg \"test\")\n</code></pre>\n\n<p>Edit: <strong>A reproducible example</strong></p>\n\n<pre class=\"lang-sh prettyprint-override\"><code>mkdir example &amp;&amp; cd $_\n# java code\ncat &gt; util.java &lt;&lt; EOF\n package com.util;\n public class util {\n public static void msg(String a){\n   System.out.println(a);\n  }\n }\nEOF\n\n# clojure depends\ncat &gt; deps.edn &lt;&lt; EOF\n  {:deps {\n    :alembic {:mvn/version \"0.3.2\"}\n    :com.cemerick/pomegranate {:mvn/version \"1.0.0\"}\n    }\n  }\nEOF\n\n# compile java to class\njavac util.java\nls # util.java util.class\n\n# try to load in repl\nclj\n\n  (use '[cemerick.pomegranate :only (add-dependencies add-classpath)])\n  (add-classpath (-&gt; (java.io.File. \".\") .getAbsolutePath))\n  (import 'com.util.util)\n  ; ClassNotFoundException com.util  java.net.URLClassLoader.findClass (URLClassLoader.java:381)\n</code></pre>\n"},{"tags":["java","tomcat","embedded-tomcat","embedded-tomcat-10"],"answers":[{"tags":[],"owner":{"account_id":17592368,"reputation":13891,"user_id":12763954,"display_name":"Olivier"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1646921932,"creation_date":1646921932,"answer_id":71425659,"question_id":71383171,"body_markdown":"As explained in [this question](https://stackoverflow.com/questions/56668892/embedded-tomcat-java-application-is-running-but-server-cannot-be-reached), you need to add a Connector, which can be done like this:\r\n\r\n```\r\n...\r\ntomcat.setPort(8080);\r\ntomcat.getConnector();\r\n...\r\n```\r\n","title":"Simple Embedded Tomcat 10 Example","body":"<p>As explained in <a href=\"https://stackoverflow.com/questions/56668892/embedded-tomcat-java-application-is-running-but-server-cannot-be-reached\">this question</a>, you need to add a Connector, which can be done like this:</p>\n<pre><code>...\ntomcat.setPort(8080);\ntomcat.getConnector();\n...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5514375,"reputation":156,"user_id":4379671,"display_name":"tricksSpecialist"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1647481107,"creation_date":1647481107,"answer_id":71506128,"question_id":71383171,"body_markdown":"I have added 2-solutions and you can choose anyone so your final main function will be like the following: \r\n\r\n    \t public static void main(String[] args) throws LifecycleException {\r\n\t        Tomcat tomcat = new Tomcat();\r\n\t        tomcat.setBaseDir(&quot;temp&quot;);\r\n            // Solution 1\r\n\t        //tomcat.setPort(8080);\r\n\t        //tomcat.getConnector();\r\n\r\n            // Solution 2, make server listen on 2 ports\r\n\t        Connector connector1 = tomcat.getConnector();\r\n\t        connector1.setPort(8080);\r\n\t        Connector connector2 = new Connector();\r\n\t        connector2.setPort(8090);\r\n\t        String contextPath = &quot;&quot;;\r\n\t        String docBase = new File(&quot;.&quot;).getAbsolutePath();\r\n\r\n\t        Context context = tomcat.addContext(contextPath, docBase);\r\n\r\n\t        class SampleServlet extends HttpServlet {\r\n\r\n\t            @Override\r\n\t            protected void doGet(HttpServletRequest req, HttpServletResponse resp)\r\n\t                    throws ServletException, IOException {\r\n\t                PrintWriter writer = resp.getWriter();\r\n\r\n\t                writer.println(&quot;&lt;html&gt;&lt;title&gt;Welcome&lt;/title&gt;&lt;body&gt;&quot;);\r\n\t                writer.println(&quot;&lt;h1&gt;Have a Great Day!&lt;/h1&gt;&quot;);\r\n\t                writer.println(&quot;&lt;/body&gt;&lt;/html&gt;&quot;);\r\n\t            }\r\n\t        }\r\n\r\n\t        String servletName = &quot;SampleServlet&quot;;\r\n\t        String urlPattern = &quot;/aa&quot;;\r\n\r\n\t        tomcat.addServlet(contextPath, servletName, new SampleServlet());\r\n\t        context.addServletMappingDecoded(urlPattern, servletName);\r\n\r\n\t        tomcat.start();\r\n\t        tomcat.getService().addConnector(connector1);\r\n\t        tomcat.getService().addConnector(connector2);\r\n\t        tomcat.getServer().await();\r\n\t    }\r\n","title":"Simple Embedded Tomcat 10 Example","body":"<p>I have added 2-solutions and you can choose anyone so your final main function will be like the following:</p>\n<pre><code>     public static void main(String[] args) throws LifecycleException {\n        Tomcat tomcat = new Tomcat();\n        tomcat.setBaseDir(&quot;temp&quot;);\n        // Solution 1\n        //tomcat.setPort(8080);\n        //tomcat.getConnector();\n\n        // Solution 2, make server listen on 2 ports\n        Connector connector1 = tomcat.getConnector();\n        connector1.setPort(8080);\n        Connector connector2 = new Connector();\n        connector2.setPort(8090);\n        String contextPath = &quot;&quot;;\n        String docBase = new File(&quot;.&quot;).getAbsolutePath();\n\n        Context context = tomcat.addContext(contextPath, docBase);\n\n        class SampleServlet extends HttpServlet {\n\n            @Override\n            protected void doGet(HttpServletRequest req, HttpServletResponse resp)\n                    throws ServletException, IOException {\n                PrintWriter writer = resp.getWriter();\n\n                writer.println(&quot;&lt;html&gt;&lt;title&gt;Welcome&lt;/title&gt;&lt;body&gt;&quot;);\n                writer.println(&quot;&lt;h1&gt;Have a Great Day!&lt;/h1&gt;&quot;);\n                writer.println(&quot;&lt;/body&gt;&lt;/html&gt;&quot;);\n            }\n        }\n\n        String servletName = &quot;SampleServlet&quot;;\n        String urlPattern = &quot;/aa&quot;;\n\n        tomcat.addServlet(contextPath, servletName, new SampleServlet());\n        context.addServletMappingDecoded(urlPattern, servletName);\n\n        tomcat.start();\n        tomcat.getService().addConnector(connector1);\n        tomcat.getService().addConnector(connector2);\n        tomcat.getServer().await();\n    }\n</code></pre>\n"}],"owner":{"display_name":"user1191027"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4292,"favorite_count":0,"down_vote_count":1,"up_vote_count":7,"accepted_answer_id":71425659,"answer_count":2,"score":6,"last_activity_date":1697710866,"creation_date":1646665921,"question_id":71383171,"body_markdown":"I&#39;m trying to get a simple embedded tomcat `10.1.0-M11` example working but I keep getting `localhost refused to connect` when I go to `http://localhost:8080/aa`.\r\n\r\nHere is my code:\r\n\r\n    import jakarta.servlet.ServletException;\r\n    import jakarta.servlet.http.HttpServlet;\r\n    import jakarta.servlet.http.HttpServletRequest;\r\n    import jakarta.servlet.http.HttpServletResponse;\r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    import java.io.PrintWriter;\r\n    \r\n    import org.apache.catalina.Context;\r\n    import org.apache.catalina.LifecycleException;\r\n    import org.apache.catalina.startup.Tomcat;\r\n\r\n    public class App {\r\n    \r\n        public static void main(String[] args) throws LifecycleException {\r\n            Tomcat tomcat = new Tomcat();\r\n            tomcat.setBaseDir(&quot;temp&quot;);\r\n            tomcat.setPort(8080);\r\n    \r\n            String contextPath = &quot;&quot;;\r\n            String docBase = new File(&quot;.&quot;).getAbsolutePath();\r\n    \r\n            Context context = tomcat.addContext(contextPath, docBase);\r\n    \r\n            class SampleServlet extends HttpServlet {\r\n    \r\n                @Override\r\n                protected void doGet(HttpServletRequest req, HttpServletResponse resp)\r\n                        throws ServletException, IOException {\r\n                    PrintWriter writer = resp.getWriter();\r\n    \r\n                    writer.println(&quot;&lt;html&gt;&lt;title&gt;Welcome&lt;/title&gt;&lt;body&gt;&quot;);\r\n                    writer.println(&quot;&lt;h1&gt;Have a Great Day!&lt;/h1&gt;&quot;);\r\n                    writer.println(&quot;&lt;/body&gt;&lt;/html&gt;&quot;);\r\n                }\r\n            }\r\n    \r\n            String servletName = &quot;SampleServlet&quot;;\r\n            String urlPattern = &quot;/aa&quot;;\r\n    \r\n            tomcat.addServlet(contextPath, servletName, new SampleServlet());\r\n            context.addServletMappingDecoded(urlPattern, servletName);\r\n    \r\n            tomcat.start();\r\n            tomcat.getServer().await();\r\n        }\r\n    }\r\n\r\n*Dependencies*\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n            &lt;artifactId&gt;servlet-api&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0-alpha-1&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n            &lt;artifactId&gt;tomcat-embed-core&lt;/artifactId&gt;\r\n            &lt;version&gt;10.1.0-M11&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n            &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\r\n            &lt;version&gt;10.1.0-M11&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\r\n            &lt;artifactId&gt;tomcat-jasper&lt;/artifactId&gt;\r\n            &lt;version&gt;10.1.0-M11&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\r\n            &lt;artifactId&gt;tomcat-jasper-el&lt;/artifactId&gt;\r\n            &lt;version&gt;10.1.0-M11&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\r\n            &lt;artifactId&gt;tomcat-jsp-api&lt;/artifactId&gt;\r\n            &lt;version&gt;10.1.0-M11&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n**UPDATE**\r\n\r\nI have gone through every single version I found that this bug was introduced in version `9.0.0.M4` and never resolved since then. Any newer version renders [this example][1] useless.\r\n\r\n\r\n  [1]: https://devcenter.heroku.com/articles/create-a-java-web-application-using-embedded-tomcat","title":"Simple Embedded Tomcat 10 Example","body":"<p>I'm trying to get a simple embedded tomcat <code>10.1.0-M11</code> example working but I keep getting <code>localhost refused to connect</code> when I go to <code>http://localhost:8080/aa</code>.</p>\n<p>Here is my code:</p>\n<pre><code>import jakarta.servlet.ServletException;\nimport jakarta.servlet.http.HttpServlet;\nimport jakarta.servlet.http.HttpServletRequest;\nimport jakarta.servlet.http.HttpServletResponse;\nimport java.io.File;\nimport java.io.IOException;\nimport java.io.PrintWriter;\n\nimport org.apache.catalina.Context;\nimport org.apache.catalina.LifecycleException;\nimport org.apache.catalina.startup.Tomcat;\n\npublic class App {\n\n    public static void main(String[] args) throws LifecycleException {\n        Tomcat tomcat = new Tomcat();\n        tomcat.setBaseDir(&quot;temp&quot;);\n        tomcat.setPort(8080);\n\n        String contextPath = &quot;&quot;;\n        String docBase = new File(&quot;.&quot;).getAbsolutePath();\n\n        Context context = tomcat.addContext(contextPath, docBase);\n\n        class SampleServlet extends HttpServlet {\n\n            @Override\n            protected void doGet(HttpServletRequest req, HttpServletResponse resp)\n                    throws ServletException, IOException {\n                PrintWriter writer = resp.getWriter();\n\n                writer.println(&quot;&lt;html&gt;&lt;title&gt;Welcome&lt;/title&gt;&lt;body&gt;&quot;);\n                writer.println(&quot;&lt;h1&gt;Have a Great Day!&lt;/h1&gt;&quot;);\n                writer.println(&quot;&lt;/body&gt;&lt;/html&gt;&quot;);\n            }\n        }\n\n        String servletName = &quot;SampleServlet&quot;;\n        String urlPattern = &quot;/aa&quot;;\n\n        tomcat.addServlet(contextPath, servletName, new SampleServlet());\n        context.addServletMappingDecoded(urlPattern, servletName);\n\n        tomcat.start();\n        tomcat.getServer().await();\n    }\n}\n</code></pre>\n<p><em>Dependencies</em></p>\n<pre><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n        &lt;artifactId&gt;servlet-api&lt;/artifactId&gt;\n        &lt;version&gt;3.0-alpha-1&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n        &lt;artifactId&gt;tomcat-embed-core&lt;/artifactId&gt;\n        &lt;version&gt;10.1.0-M11&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n        &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\n        &lt;version&gt;10.1.0-M11&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\n        &lt;artifactId&gt;tomcat-jasper&lt;/artifactId&gt;\n        &lt;version&gt;10.1.0-M11&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\n        &lt;artifactId&gt;tomcat-jasper-el&lt;/artifactId&gt;\n        &lt;version&gt;10.1.0-M11&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\n        &lt;artifactId&gt;tomcat-jsp-api&lt;/artifactId&gt;\n        &lt;version&gt;10.1.0-M11&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<p><strong>UPDATE</strong></p>\n<p>I have gone through every single version I found that this bug was introduced in version <code>9.0.0.M4</code> and never resolved since then. Any newer version renders <a href=\"https://devcenter.heroku.com/articles/create-a-java-web-application-using-embedded-tomcat\" rel=\"nofollow noreferrer\">this example</a> useless.</p>\n"},{"tags":["java","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":28695489,"reputation":611,"user_id":21973805,"display_name":"Ahmed Nabil"},"score":2,"creation_date":1697630965,"post_id":77316092,"comment_id":136303605,"body_markdown":"it&#39;s not clear what is your question","body":"it&#39;s not clear what is your question"},{"owner":{"account_id":1580843,"reputation":13479,"user_id":1466267,"accept_rate":91,"display_name":"SpaceTrucker"},"score":0,"creation_date":1697631622,"post_id":77316092,"comment_id":136303753,"body_markdown":"What do you want to return from your method if you don&#39;t want to load the entity?","body":"What do you want to return from your method if you don&#39;t want to load the entity?"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1697651759,"post_id":77316092,"comment_id":136308018,"body_markdown":"This needs a lot more detail. You could be asking about performance optimizations, not needing or wanting to load full relationships on User just to have a fk changed, but even that has any number of possible solutions based on details you haven&#39;t specified at all. Maybe start with what about the current code behavior it is you don&#39;t like, and break into the mappings and SQL involved if required.","body":"This needs a lot more detail. You could be asking about performance optimizations, not needing or wanting to load full relationships on User just to have a fk changed, but even that has any number of possible solutions based on details you haven&#39;t specified at all. Maybe start with what about the current code behavior it is you don&#39;t like, and break into the mappings and SQL involved if required."},{"owner":{"account_id":143734,"reputation":751,"user_id":352290,"accept_rate":100,"display_name":"user352290"},"score":0,"creation_date":1697695146,"post_id":77316092,"comment_id":136312566,"body_markdown":"I want to update the status without loading user, I don&#39;t need to return the Entity as well. I want the call to return faster","body":"I want to update the status without loading user, I don&#39;t need to return the Entity as well. I want the call to return faster"}],"answers":[{"tags":[],"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1697710371,"creation_date":1697710371,"answer_id":77322879,"question_id":77316092,"body_markdown":"Just do a direct update. Note that this leaves the first level cache in an inconsistent state and does not trigger any JPA life cycle events.\r\n\r\nWith Spring Data JPA you would create a method like the following in your repository:\r\n\r\n```java\r\n@Modifying\r\n@Query(&quot;update User u set u.status = :status where u.id = :id&quot;)\r\nvoid updateStatus(Long id, UserStatus status);\r\n```\r\n\r\nSee https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.modifying-queries for more details","title":"How to update entity attribute without loading JPA entity","body":"<p>Just do a direct update. Note that this leaves the first level cache in an inconsistent state and does not trigger any JPA life cycle events.</p>\n<p>With Spring Data JPA you would create a method like the following in your repository:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Modifying\n@Query(&quot;update User u set u.status = :status where u.id = :id&quot;)\nvoid updateStatus(Long id, UserStatus status);\n</code></pre>\n<p>See <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.modifying-queries\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.modifying-queries</a> for more details</p>\n"}],"owner":{"account_id":143734,"reputation":751,"user_id":352290,"accept_rate":100,"display_name":"user352290"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77322879,"answer_count":1,"score":0,"last_activity_date":1697710371,"creation_date":1697630240,"question_id":77316092,"body_markdown":"How to update entity attribute without loading JPA entity\r\nWe are trying to update status attribute after loading entity\r\n\r\n    public User updateUserStatus(Long id, UserStatus status) {\r\n        User user = findById(id);\r\n        user.setStatus(status);\r\n        user = save(user);\r\n    \r\n        return user;\r\n    }","title":"How to update entity attribute without loading JPA entity","body":"<p>How to update entity attribute without loading JPA entity\nWe are trying to update status attribute after loading entity</p>\n<pre><code>public User updateUserStatus(Long id, UserStatus status) {\n    User user = findById(id);\n    user.setStatus(status);\n    user = save(user);\n\n    return user;\n}\n</code></pre>\n"},{"tags":["java","mysql","spring","jpa"],"comments":[{"owner":{"account_id":6749614,"reputation":654,"user_id":5200064,"accept_rate":80,"display_name":"lmk"},"score":0,"creation_date":1608753266,"post_id":65377069,"comment_id":115677691,"body_markdown":"did you get a chance to try the answers?","body":"did you get a chance to try the answers?"}],"answers":[{"tags":[],"owner":{"account_id":16655393,"reputation":869,"user_id":12036956,"display_name":"Jalil.Jarjanazy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1608456511,"creation_date":1608456511,"answer_id":65378512,"question_id":65377069,"body_markdown":"First of all, you have to write the relationship between User and Transaction.\r\n\r\n    @Entity\r\n    @Table(name = &quot;user&quot;)\r\n    public class User {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.AUTO)\r\n        @Column(name = &quot;id&quot;)\r\n        private long id;\r\n    \r\n        @Column(name = &quot;name&quot;)\r\n        private String name;\r\n    \r\n        @Column(name = &quot;email&quot;)\r\n        private String email;\r\n    \r\n        @Column(name = &quot;password&quot;)\r\n        private String password;\r\n    \r\n        @Column(name = &quot;money&quot;)\r\n        private int money;\r\n    \r\n        @OneToMany(mappedBy = &quot;user&quot;, cascade = CascadeType.ALL)\r\n        private Set&lt;Transaction&gt; transactions = new HashSet&lt;&gt;();\r\n        \r\n        //Getter Setter Constructor\r\n    }\r\n    \r\n    \r\n    @Entity\r\n    @Table(name = &quot;transaction&quot;)\r\n    public class Transaction {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.AUTO)\r\n        @Column(name = &quot;id_trans&quot;)\r\n        private long id_trans;\r\n    \r\n        @Column(name = &quot;id_user&quot;)\r\n        private long id_user;\r\n    \r\n        @Column(name = &quot;transaction_date&quot;)\r\n        private Timestamp transaction_date;\r\n    \r\n        @Column(name = &quot;type&quot;) //Default set as &quot;SEND MONEY&quot;\r\n        private String type;\r\n    \r\n        @Column(name = &quot;trans_money&quot;) //From money in User.class\r\n        private int trans_money;\r\n    \r\n        @ManyToOne(fetch = FetchType.LAZY)\r\n        @JoinColumn(referencedColumnName = &quot;id&quot;)\r\n        private User user;\r\n    \r\n        //Getter Setter Constructor\r\n    }\r\n\r\n\r\nThen you have to create the JPA repository interface for the User\r\n\r\n    @Repository\r\n    public interface UserRepo extends CrudRepository &lt;User, Long&gt; {\r\n    }\r\n\r\nThen in a service, you can do the following\r\n\r\n    @Service\r\n    public class UserService {\r\n        private UserRepo userRepo;\r\n    \r\n        @Autowired\r\n        MealService(UserRepo userRepo){\r\n            this.userRepo = userRepo;\r\n        }\r\n    \r\n        public void CreateNewUser(){\r\n            User user = new User();\r\n            // set its values\r\n    \r\n            Transaction transaction = new Transaction();\r\n            transaction.setType(&quot;SEND MONEY&quot;);\r\n            // set other values\r\n    \r\n            user.getTransactions().add(transaction);\r\n    \r\n            userRepo.save(user);\r\n        }\r\n    }","title":"Insert data to multiple tables in spring jpa","body":"<p>First of all, you have to write the relationship between User and Transaction.</p>\n<pre><code>@Entity\n@Table(name = &quot;user&quot;)\npublic class User {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @Column(name = &quot;id&quot;)\n    private long id;\n\n    @Column(name = &quot;name&quot;)\n    private String name;\n\n    @Column(name = &quot;email&quot;)\n    private String email;\n\n    @Column(name = &quot;password&quot;)\n    private String password;\n\n    @Column(name = &quot;money&quot;)\n    private int money;\n\n    @OneToMany(mappedBy = &quot;user&quot;, cascade = CascadeType.ALL)\n    private Set&lt;Transaction&gt; transactions = new HashSet&lt;&gt;();\n    \n    //Getter Setter Constructor\n}\n\n\n@Entity\n@Table(name = &quot;transaction&quot;)\npublic class Transaction {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @Column(name = &quot;id_trans&quot;)\n    private long id_trans;\n\n    @Column(name = &quot;id_user&quot;)\n    private long id_user;\n\n    @Column(name = &quot;transaction_date&quot;)\n    private Timestamp transaction_date;\n\n    @Column(name = &quot;type&quot;) //Default set as &quot;SEND MONEY&quot;\n    private String type;\n\n    @Column(name = &quot;trans_money&quot;) //From money in User.class\n    private int trans_money;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(referencedColumnName = &quot;id&quot;)\n    private User user;\n\n    //Getter Setter Constructor\n}\n</code></pre>\n<p>Then you have to create the JPA repository interface for the User</p>\n<pre><code>@Repository\npublic interface UserRepo extends CrudRepository &lt;User, Long&gt; {\n}\n</code></pre>\n<p>Then in a service, you can do the following</p>\n<pre><code>@Service\npublic class UserService {\n    private UserRepo userRepo;\n\n    @Autowired\n    MealService(UserRepo userRepo){\n        this.userRepo = userRepo;\n    }\n\n    public void CreateNewUser(){\n        User user = new User();\n        // set its values\n\n        Transaction transaction = new Transaction();\n        transaction.setType(&quot;SEND MONEY&quot;);\n        // set other values\n\n        user.getTransactions().add(transaction);\n\n        userRepo.save(user);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6749614,"reputation":654,"user_id":5200064,"accept_rate":80,"display_name":"lmk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1608542581,"creation_date":1608458802,"answer_id":65378766,"question_id":65377069,"body_markdown":"Looking at the `@Entity` classes mentioned it seems to me that there exists an `@ManyToOne` association between `Transaction` and `User` which is not captured in the entity relationship modeling/mapping.\r\n\r\nPlease consider modeling that in your `Transaction` entity as follows,\r\n\r\n    @Entity\r\n    @Table(name = &quot;transaction&quot;)\r\n    public class Transaction {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.AUTO)\r\n        @Column(name = &quot;id_trans&quot;)\r\n        private long id_trans;\r\n    \r\n        @ManyToOne(cascade = {CascadeType.PERSIST, CascadeType.REFRESH, CascadeType.MERGE}, fetch = FetchType.LAZY)\r\n        @JoinColumn(name = &quot;user_id&quot;)\r\n        private User user;\r\n    \r\n        @Column(name = &quot;transaction_date&quot;)\r\n        private Timestamp transaction_date;\r\n    \r\n        @Column(name = &quot;type&quot;) //Default set as &quot;SEND MONEY&quot;\r\n        private String type;\r\n    \r\n        @Column(name = &quot;trans_money&quot;) //From money in User.class\r\n        private int trans_money;\r\n    \r\n    \r\n        //Getter Setter Constructor\r\n    }\r\n\r\nOnce you do that you can create a JPA repository class for `Transaction` and `User` and simply use the `save` method to do what you want in a transaction after constructing your instances. More on transactions in Spring Data JPA [here][1]\r\n\r\n    public interface TransactionRepository extends JpaRepository&lt;Transaction, Long&gt; {\r\n    }\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#transactions","title":"Insert data to multiple tables in spring jpa","body":"<p>Looking at the <code>@Entity</code> classes mentioned it seems to me that there exists an <code>@ManyToOne</code> association between <code>Transaction</code> and <code>User</code> which is not captured in the entity relationship modeling/mapping.</p>\n<p>Please consider modeling that in your <code>Transaction</code> entity as follows,</p>\n<pre><code>@Entity\n@Table(name = &quot;transaction&quot;)\npublic class Transaction {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @Column(name = &quot;id_trans&quot;)\n    private long id_trans;\n\n    @ManyToOne(cascade = {CascadeType.PERSIST, CascadeType.REFRESH, CascadeType.MERGE}, fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;user_id&quot;)\n    private User user;\n\n    @Column(name = &quot;transaction_date&quot;)\n    private Timestamp transaction_date;\n\n    @Column(name = &quot;type&quot;) //Default set as &quot;SEND MONEY&quot;\n    private String type;\n\n    @Column(name = &quot;trans_money&quot;) //From money in User.class\n    private int trans_money;\n\n\n    //Getter Setter Constructor\n}\n</code></pre>\n<p>Once you do that you can create a JPA repository class for <code>Transaction</code> and <code>User</code> and simply use the <code>save</code> method to do what you want in a transaction after constructing your instances. More on transactions in Spring Data JPA <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#transactions\" rel=\"nofollow noreferrer\">here</a></p>\n<pre><code>public interface TransactionRepository extends JpaRepository&lt;Transaction, Long&gt; {\n}\n</code></pre>\n"}],"owner":{"account_id":11601904,"reputation":71,"user_id":8498758,"display_name":"mochim"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8408,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1697710106,"creation_date":1608440645,"question_id":65377069,"body_markdown":"I have two tables, **user** and **transaction**. Where `one user` can have `many transactions`. So, everytime I `create new user`, they automatically make `new transaction` and the `transaction type` is **SEND MONEY**. But I don&#39;t understand how to write it in Spring JPA. Please take a look on my code and help me.\r\n\r\nUser.java\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    @Entity\r\n    @Table(name = &quot;user&quot;)\r\n    public class User {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.AUTO)\r\n        @Column(name = &quot;id&quot;)\r\n        private long id;\r\n\r\n        @Column(name = &quot;name&quot;)\r\n        private String name;\r\n\r\n        @Column(name = &quot;email&quot;)\r\n        private String email;\r\n\r\n        @Column(name = &quot;password&quot;)\r\n        private String password;\r\n\r\n        @Column(name = &quot;money&quot;)\r\n        private int money;\r\n        \r\n        //Getter Setter Constructor\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nTransaction.java\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    @Entity\r\n    @Table(name = &quot;transaction&quot;)\r\n    public class Transaction {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.AUTO)\r\n        @Column(name = &quot;id_trans&quot;)\r\n        private long id_trans;\r\n\r\n        @Column(name = &quot;id_user&quot;)\r\n        private long id_user;\r\n\r\n        @Column(name = &quot;transaction_date&quot;)\r\n        private Timestamp transaction_date;\r\n\r\n        @Column(name = &quot;type&quot;) //Default set as &quot;SEND MONEY&quot;\r\n        private String type;\r\n\r\n        @Column(name = &quot;trans_money&quot;) //From money in User.class\r\n        private int trans_money;\r\n\r\n\r\n        //Getter Setter Constructor\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nI know I should do something in my **UserDAO.java**, but I still don&#39;t know how to send data from body and split(?) it into two object (`user` and `transaction`, so I can persist it in **UserDAO**).\r\n","title":"Insert data to multiple tables in spring jpa","body":"<p>I have two tables, <strong>user</strong> and <strong>transaction</strong>. Where <code>one user</code> can have <code>many transactions</code>. So, everytime I <code>create new user</code>, they automatically make <code>new transaction</code> and the <code>transaction type</code> is <strong>SEND MONEY</strong>. But I don't understand how to write it in Spring JPA. Please take a look on my code and help me.</p>\n<p>User.java</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>@Entity\n@Table(name = \"user\")\npublic class User {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @Column(name = \"id\")\n    private long id;\n\n    @Column(name = \"name\")\n    private String name;\n\n    @Column(name = \"email\")\n    private String email;\n\n    @Column(name = \"password\")\n    private String password;\n\n    @Column(name = \"money\")\n    private int money;\n    \n    //Getter Setter Constructor\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>Transaction.java</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>@Entity\n@Table(name = \"transaction\")\npublic class Transaction {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @Column(name = \"id_trans\")\n    private long id_trans;\n\n    @Column(name = \"id_user\")\n    private long id_user;\n\n    @Column(name = \"transaction_date\")\n    private Timestamp transaction_date;\n\n    @Column(name = \"type\") //Default set as \"SEND MONEY\"\n    private String type;\n\n    @Column(name = \"trans_money\") //From money in User.class\n    private int trans_money;\n\n\n    //Getter Setter Constructor\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>I know I should do something in my <strong>UserDAO.java</strong>, but I still don't know how to send data from body and split(?) it into two object (<code>user</code> and <code>transaction</code>, so I can persist it in <strong>UserDAO</strong>).</p>\n"},{"tags":["java","maven","intellij-idea","dependencies"],"comments":[{"owner":{"account_id":15278830,"reputation":1642,"user_id":11023821,"display_name":"Ralf Ulrich"},"score":0,"creation_date":1697706812,"post_id":77322339,"comment_id":136314546,"body_markdown":"I think you mixed your As and Bs. Can you please check? Either in the first sentence A and B need to be swapped or in the second.","body":"I think you mixed your As and Bs. Can you please check? Either in the first sentence A and B need to be swapped or in the second."},{"owner":{"account_id":29706825,"reputation":1,"user_id":22767468,"display_name":"Leon Ku&#223;"},"score":0,"creation_date":1697714452,"post_id":77322339,"comment_id":136315969,"body_markdown":"Yeah, mixed them. Fixed.","body":"Yeah, mixed them. Fixed."}],"owner":{"account_id":29706825,"reputation":1,"user_id":22767468,"display_name":"Leon Ku&#223;"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1697709958,"answer_count":0,"score":0,"last_activity_date":1697709683,"creation_date":1697705923,"question_id":77322339,"body_markdown":"I have two Maven projects with project &quot;B&quot; got project &quot;A&quot; as dependency. Every time I change something in &quot;A&quot; I have to rebuild it and then refresh dependencies in &quot;B&quot;. Unfortunately, the build takes a few minutes, so for a small change very annoying.\r\n\r\nIs there a way to live refresh it without every time a new complete build? In Eclipse I have both projects in one workspace, so every change in &quot;A&quot; was refreshed in &quot;B&quot;. Unfortunately, I don&#39;t remember if I had to set it up or if it was like that from the beginning.","title":"Is there a way to live refresh Maven dependency without build?","body":"<p>I have two Maven projects with project &quot;B&quot; got project &quot;A&quot; as dependency. Every time I change something in &quot;A&quot; I have to rebuild it and then refresh dependencies in &quot;B&quot;. Unfortunately, the build takes a few minutes, so for a small change very annoying.</p>\n<p>Is there a way to live refresh it without every time a new complete build? In Eclipse I have both projects in one workspace, so every change in &quot;A&quot; was refreshed in &quot;B&quot;. Unfortunately, I don't remember if I had to set it up or if it was like that from the beginning.</p>\n"},{"tags":["javascript","java","android","webview"],"comments":[{"owner":{"account_id":24475702,"reputation":143,"user_id":18394765,"display_name":"Abednego Nasila"},"score":0,"creation_date":1697616498,"post_id":77314176,"comment_id":136300801,"body_markdown":"@blackapps the files are generated from JavaScript in my android assets. I have created json array of objects and converted it to csv from my JavaScript and want to download it as csv. The code works on browser however if i embed it in webview then the application crashes when i click on a button to download my file","body":"@blackapps the files are generated from JavaScript in my android assets. I have created json array of objects and converted it to csv from my JavaScript and want to download it as csv. The code works on browser however if i embed it in webview then the application crashes when i click on a button to download my file"},{"owner":{"account_id":24475702,"reputation":143,"user_id":18394765,"display_name":"Abednego Nasila"},"score":0,"creation_date":1697617762,"post_id":77314176,"comment_id":136301001,"body_markdown":"@blackapps I have updated my question. I have included my html code to se how I am generating my file to download from JavaScript.","body":"@blackapps I have updated my question. I have included my html code to se how I am generating my file to download from JavaScript."},{"owner":{"account_id":24475702,"reputation":143,"user_id":18394765,"display_name":"Abednego Nasila"},"score":0,"creation_date":1697620595,"post_id":77314176,"comment_id":136301615,"body_markdown":"@blackapps yes. I have realized that the issue can be sorted if I allow my JavaScript to interact with java and send data to enable download manager to download the file generated.  However i have shallow knowledge in java thus I would like to get help on that","body":"@blackapps yes. I have realized that the issue can be sorted if I allow my JavaScript to interact with java and send data to enable download manager to download the file generated.  However i have shallow knowledge in java thus I would like to get help on that"},{"owner":{"account_id":24475702,"reputation":143,"user_id":18394765,"display_name":"Abednego Nasila"},"score":0,"creation_date":1697621143,"post_id":77314176,"comment_id":136301729,"body_markdown":"@blackapps I have changed to a better subject.  Hope you are able to understand my question now","body":"@blackapps I have changed to a better subject.  Hope you are able to understand my question now"},{"owner":{"account_id":24475702,"reputation":143,"user_id":18394765,"display_name":"Abednego Nasila"},"score":0,"creation_date":1697621817,"post_id":77314176,"comment_id":136301856,"body_markdown":"@blackapps my apologies for that. My app does not crash right away but crashes the moment I click on the download button I have created in my JavaScript.  Please check the html file I have provided.","body":"@blackapps my apologies for that. My app does not crash right away but crashes the moment I click on the download button I have created in my JavaScript.  Please check the html file I have provided."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1697626097,"post_id":77314176,"comment_id":136302677,"body_markdown":"If your app crashes it is because you did not catch an exception. You can find the crash log in the LogCat. Please investigate and tell. It will be an IllegalArgumenteXCEPTION. Please also tell which statemen causes that exception.","body":"If your app crashes it is because you did not catch an exception. You can find the crash log in the LogCat. Please investigate and tell. It will be an IllegalArgumenteXCEPTION. Please also tell which statemen causes that exception."},{"owner":{"account_id":24475702,"reputation":143,"user_id":18394765,"display_name":"Abednego Nasila"},"score":0,"creation_date":1697628899,"post_id":77314176,"comment_id":136303180,"body_markdown":"@blackapps alright.  Let me check on that.","body":"@blackapps alright.  Let me check on that."}],"answers":[{"tags":[],"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697630726,"creation_date":1697630242,"answer_id":77316093,"question_id":77314176,"body_markdown":"You cannot use DownloadManager for what you want. You wil get something like:\r\n\r\n    java.lang.IllegalArgumentException: Can only download HTTP/HTTPS URIs: blob:null/11d27a3a-c76e-4b6f-9030-f3c0dfe1dd61\r\n\r\nNow with a little googling we found that all has been reported before and solved.\r\n\r\nI just tried the suggestions and it worked for me using your indexi.html file:\r\n\r\nhttps://stackoverflow.com/questions/53647087/unable-to-download-blob-file-type-in-webview-on-android\r\n\r\nhttps://stackoverflow.com/questions/48892390/download-blob-file-from-website-inside-android-webviewclient/48954970#48954970\r\n\r\nOnly had to change a few things to make it work for a html file loaded from assets.\r\n\r\nPlease edit the subject of your post to include loading html from assets and changing pdf to csv or txt.","title":"How to download files generated by JavaScript from WebView","body":"<p>You cannot use DownloadManager for what you want. You wil get something like:</p>\n<pre><code>java.lang.IllegalArgumentException: Can only download HTTP/HTTPS URIs: blob:null/11d27a3a-c76e-4b6f-9030-f3c0dfe1dd61\n</code></pre>\n<p>Now with a little googling we found that all has been reported before and solved.</p>\n<p>I just tried the suggestions and it worked for me using your indexi.html file:</p>\n<p><a href=\"https://stackoverflow.com/questions/53647087/unable-to-download-blob-file-type-in-webview-on-android\">Unable to download Blob file type in WebView on Android</a></p>\n<p><a href=\"https://stackoverflow.com/questions/48892390/download-blob-file-from-website-inside-android-webviewclient/48954970#48954970\">Download Blob file from Website inside Android WebViewClient</a></p>\n<p>Only had to change a few things to make it work for a html file loaded from assets.</p>\n<p>Please edit the subject of your post to include loading html from assets and changing pdf to csv or txt.</p>\n"},{"tags":[],"owner":{"account_id":24475702,"reputation":143,"user_id":18394765,"display_name":"Abednego Nasila"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697709621,"creation_date":1697709104,"answer_id":77322721,"question_id":77314176,"body_markdown":"Hello to anyone facing the same problem of downloading their JavaScript generated file use JavaScript interface as shown below; Thanks to @blackapps suggestions.\r\n\r\nIn your HTML code;\r\n```\r\n\r\n\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html&gt;\r\n&lt;head&gt;\r\n  &lt;title&gt;send to js interface&lt;/title&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n  \r\n&lt;button onclick=&quot;send();&quot;&gt;onclick&lt;/button&gt;\r\n\r\n  &lt;script&gt;\r\n    \r\n   \r\n   var base64String = mybase64;\r\n    \r\n    function send(){\r\n      // send my base64; b64 to javascript interface;   \r\n      window.base64interface.processBase64(base64String); \r\n    }\r\n\r\n  &lt;/script&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\nIn Mainactivity.java \r\n```\r\npublic class MainActivity extends AppCompatActivity {\r\n    WebView webView;\r\n \r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        webView = findViewById(R.id.interface_web);\r\n         \r\n        // opening the html file in webview\r\n        webView.loadUrl(&quot;file:///android_asset/test.html&quot;);\r\n \r\n        webView.getSettings().setJavaScriptEnabled(true);\r\n        webView.getSettings().setSupportZoom(true);\r\n        webView.addJavascriptInterface(this, &quot;Dialog&quot;);\r\n        // Add an instance of the Base64Interface class with the name &quot;base64interface&quot;\r\n        webView.addJavascriptInterface(new Base64Interface(this), &quot;base64interface&quot;);\r\n    }\r\n \r\n    // add javascript interface for our base64 decode and download in Downloads folder;\r\n\r\n    // A new class that implements the JavascriptInterface annotation\r\n    public class Base64Interface {\r\n        // A reference to the context of the activity that uses the WebView\r\n        private Context context;\r\n\r\n        // A constructor that takes the context as an argument\r\n        public Base64Interface(Context context) {\r\n            this.context = context;\r\n        }\r\n\r\n        // A method that is exposed to the HTML code via the @JavascriptInterface annotation\r\n        // This method takes the base64 object as a String argument\r\n        @JavascriptInterface\r\n        public void processBase64(String base64) {\r\n            // Decode the base64 object to a byte array\r\n            byte[] bytes = Base64.getDecoder().decode(base64);\r\n\r\n            // Create a file name with the current timestamp and a random suffix\r\n            String fileName = System.currentTimeMillis() + &quot;_&quot; + new Random().nextInt(1000) + &quot;.jpg&quot;;\r\n\r\n            // Get the downloads directory for saving the file\r\n            File dir = Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOWNLOADS);\r\n\r\n            // Create a file object with the directory and file name\r\n            File file = new File(dir, fileName);\r\n\r\n            // Write the byte array to the file using a FileOutputStream\r\n            try (FileOutputStream fos = new FileOutputStream(file)) {\r\n                fos.write(bytes);\r\n                fos.flush();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n\r\n            // Scan the file to make it visible in the downloads app\r\n            MediaScannerConnection.scanFile(context, new String[]{file.getAbsolutePath()}, null, null);\r\n\r\n            // Show a toast message to inform the user that the file is saved\r\n            Toast.makeText(context, &quot;File saved: &quot; + file.getAbsolutePath(), Toast.LENGTH_SHORT).show();\r\n        }\r\n    }\r\n   \r\n}\r\n```\r\n\r\nSomeone to improve on detecting the file type after decoding. \r\n\r\nHave a great day!\r\n","title":"How to download files generated by JavaScript from WebView","body":"<p>Hello to anyone facing the same problem of downloading their JavaScript generated file use JavaScript interface as shown below; Thanks to @blackapps suggestions.</p>\n<p>In your HTML code;</p>\n<pre><code>\n\n&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n  &lt;title&gt;send to js interface&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n  \n&lt;button onclick=&quot;send();&quot;&gt;onclick&lt;/button&gt;\n\n  &lt;script&gt;\n    \n   \n   var base64String = mybase64;\n    \n    function send(){\n      // send my base64; b64 to javascript interface;   \n      window.base64interface.processBase64(base64String); \n    }\n\n  &lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>In Mainactivity.java</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n    WebView webView;\n \n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        webView = findViewById(R.id.interface_web);\n         \n        // opening the html file in webview\n        webView.loadUrl(&quot;file:///android_asset/test.html&quot;);\n \n        webView.getSettings().setJavaScriptEnabled(true);\n        webView.getSettings().setSupportZoom(true);\n        webView.addJavascriptInterface(this, &quot;Dialog&quot;);\n        // Add an instance of the Base64Interface class with the name &quot;base64interface&quot;\n        webView.addJavascriptInterface(new Base64Interface(this), &quot;base64interface&quot;);\n    }\n \n    // add javascript interface for our base64 decode and download in Downloads folder;\n\n    // A new class that implements the JavascriptInterface annotation\n    public class Base64Interface {\n        // A reference to the context of the activity that uses the WebView\n        private Context context;\n\n        // A constructor that takes the context as an argument\n        public Base64Interface(Context context) {\n            this.context = context;\n        }\n\n        // A method that is exposed to the HTML code via the @JavascriptInterface annotation\n        // This method takes the base64 object as a String argument\n        @JavascriptInterface\n        public void processBase64(String base64) {\n            // Decode the base64 object to a byte array\n            byte[] bytes = Base64.getDecoder().decode(base64);\n\n            // Create a file name with the current timestamp and a random suffix\n            String fileName = System.currentTimeMillis() + &quot;_&quot; + new Random().nextInt(1000) + &quot;.jpg&quot;;\n\n            // Get the downloads directory for saving the file\n            File dir = Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOWNLOADS);\n\n            // Create a file object with the directory and file name\n            File file = new File(dir, fileName);\n\n            // Write the byte array to the file using a FileOutputStream\n            try (FileOutputStream fos = new FileOutputStream(file)) {\n                fos.write(bytes);\n                fos.flush();\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n\n            // Scan the file to make it visible in the downloads app\n            MediaScannerConnection.scanFile(context, new String[]{file.getAbsolutePath()}, null, null);\n\n            // Show a toast message to inform the user that the file is saved\n            Toast.makeText(context, &quot;File saved: &quot; + file.getAbsolutePath(), Toast.LENGTH_SHORT).show();\n        }\n    }\n   \n}\n</code></pre>\n<p>Someone to improve on detecting the file type after decoding.</p>\n<p>Have a great day!</p>\n"}],"owner":{"account_id":24475702,"reputation":143,"user_id":18394765,"display_name":"Abednego Nasila"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1697709621,"creation_date":1697613304,"question_id":77314176,"body_markdown":"Am new to Java concepts. I am trying to download contents generated from JavaScript of my html file in android assets but the application crashes the moment I click on the download button. I suppose that I have to create a JavaScript interface to communicate with Java however I don&#39;t know how to do that and would like to get help on that. How can I download the file generated by JavaScript in webview?\r\n\r\n```\r\npackage com.fun.fun;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport android.Manifest;\r\nimport android.app.DownloadManager;\r\nimport android.content.pm.PackageManager;\r\nimport android.net.Uri;\r\nimport android.os.Build;\r\nimport android.os.Bundle;\r\nimport android.os.Environment;\r\nimport android.util.Log;\r\nimport android.view.View;\r\nimport android.webkit.CookieManager;\r\nimport android.webkit.DownloadListener;\r\nimport android.webkit.URLUtil;\r\nimport android.webkit.WebSettings;\r\nimport android.webkit.WebView;\r\nimport android.webkit.WebViewClient;\r\n\r\nimport android.widget.Toast;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\tprivate WebView web;\r\n\r\n\r\n// application crashes if I download a file generated from script side of the following url;\r\n\tString webUrl = &quot;file:///android_asset/indexi.html&quot;;\r\n\t\r\n\t@Override\r\n\tprotected void onCreate(Bundle savedInstanceState) {\r\n\t\tsuper.onCreate(savedInstanceState);\r\n\t\tsetContentView(R.layout.activity_main);\r\n\t\t\r\n\t\tweb = (WebView) findViewById(R.id.myweb);\r\n\t\tweb.loadUrl(webUrl);\r\n\t\t\r\n\t\tWebSettings mywebsettings = web.getSettings();\r\n\t\tmywebsettings.setJavaScriptEnabled(true);\r\n\t\t\r\n\t\tweb.setWebViewClient(new WebViewClient());\r\n\t\t\r\n\t\t//improve webview performance\r\n\t\t\r\n\t\tweb.getSettings().setRenderPriority(WebSettings.RenderPriority.HIGH);\r\n\t\tweb.getSettings().setCacheMode(WebSettings.LOAD_CACHE_ELSE_NETWORK);\r\n\t\tweb.getSettings().setAppCacheEnabled(true);\r\n\t\tweb.setScrollBarStyle(View.SCROLLBARS_INSIDE_OVERLAY);\r\n\t\tmywebsettings.setDomStorageEnabled(true);\r\n\t\tmywebsettings.setLayoutAlgorithm(WebSettings.LayoutAlgorithm.NARROW_COLUMNS);\r\n\t\tmywebsettings.setUseWideViewPort(true);\r\n\t\tmywebsettings.setSavePassword(true);\r\n\t\tmywebsettings.setSaveFormData(true);\r\n\t\tmywebsettings.setEnableSmoothTransition(true);\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\t//External storage permission for saving file\r\n\t\t\r\n\t\tif(Build.VERSION.SDK_INT&gt;= Build.VERSION_CODES.M){\r\n\t\t\tif(checkSelfPermission(Manifest.permission.WRITE_EXTERNAL_STORAGE) == PackageManager.PERMISSION_DENIED){\r\n\t\t\t\t\r\n\t\t\t\tLog.d(&quot;permission&quot;,&quot;permission denied to WRITE_EXTERNAL_STORAGE - requesting it&quot;);\r\n\t\t\t\tString[] permissions = {Manifest.permission.WRITE_EXTERNAL_STORAGE};\r\n\t\t\t\trequestPermissions(permissions,1);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\t//handle downloading\r\n\t\t\r\n\t\tweb.setDownloadListener(new DownloadListener() {\r\n\t\t\t@Override\r\n\t\t\tpublic void onDownloadStart(String url, String userAgent, String contentDisposition, String mimeType, long contentLength) {\r\n\t\t\t\t\r\n\t\t\t\tDownloadManager.Request request = new DownloadManager.Request(Uri.parse(url));\r\n\t\t\t\trequest.setMimeType(mimeType);\r\n\t\t\t\tString cookies = CookieManager.getInstance().getCookie(url);\r\n\t\t\t\trequest.addRequestHeader(&quot;cookie&quot;,cookies);\r\n\t\t\t\trequest.addRequestHeader(&quot;User-Agent&quot;,userAgent);\r\n\t\t\t\trequest.setDescription(&quot;Downloading file....&quot;);\r\n\t\t\t\trequest.setTitle(URLUtil.guessFileName(url,contentDisposition,mimeType));\r\n\t\t\t\trequest.allowScanningByMediaScanner();\r\n\t\t\t\trequest.setNotificationVisibility(DownloadManager.Request.VISIBILITY_VISIBLE_NOTIFY_COMPLETED);\r\n\t\t\t\trequest.setDestinationInExternalPublicDir(Environment.DIRECTORY_DOWNLOADS,URLUtil.guessFileName(url, contentDisposition, mimeType));\r\n\t\t\t\tDownloadManager dm = (DownloadManager) getSystemService(DOWNLOAD_SERVICE);\r\n\t\t\t\tdm.enqueue(request);\r\n\t\t\t\tToast.makeText(getApplicationContext(),&quot;Downloading File&quot;,Toast.LENGTH_SHORT).show();\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t});\r\n\t\t\r\n\t}\r\n\t\r\n\t\r\n\t@Override\r\n\tpublic void onBackPressed() {\r\n\t\tif(web.canGoBack()){\r\n\t\t\t\r\n\t\t\tweb.goBack();\r\n\t\t}\r\n\t\telse {\r\n\t\t\t\r\n\t\t\tsuper.onBackPressed();\r\n\t\t}\r\n\t}\r\n}\r\n```\r\nAnd my html file that I have loaded in webview is;\r\n\r\n```\r\n\r\n&lt;html&gt;\r\n&lt;div id=&quot;disp&quot;&gt;&lt;/div&gt;\r\n\r\n&lt;script&gt;\r\n\r\n\r\nfunction objectsToCSV(arr) { \r\nconst array = [Object.keys(arr[0])].concat(arr) \r\nreturn array.map(row =&gt; { \r\nreturn Object.values(row).map(value =&gt; { \r\nreturn typeof value === &#39;string&#39; ? JSON.stringify(value) : value }).toString() \r\n}).join(&#39;\\n&#39;) }\r\n\r\nvar items = [\r\n              { &quot;name&quot;: &quot;Item 1&quot;, &quot;color&quot;: &quot;Green&quot;, &quot;size&quot;: &quot;X-Large&quot; },\r\n              { &quot;name&quot;: &quot;Item 2&quot;, &quot;color&quot;: &quot;Green&quot;, &quot;size&quot;: &quot;X-Large&quot; },\r\n              { &quot;name&quot;: &quot;Item 3&quot;, &quot;color&quot;: &quot;Green&quot;, &quot;size&quot;: &quot;X-Large&quot; }];\r\n\r\nvar csv = objectsToCSV(items);\r\ndocument.getElementById(&quot;disp&quot;).innerHTML = csv;\r\n\r\nfunction downloadCSV(csv) {\r\n  const blob = new Blob([csv], { type: &#39;text/csv&#39; });\r\n  const anchor = document.createElement(&#39;a&#39;);\r\n  anchor.href = window.URL.createObjectURL(blob);\r\n  anchor.download = &#39;my_data.csv&#39;;\r\n  document.body.appendChild(anchor);\r\n  anchor.click();\r\n  document.body.removeChild(anchor);\r\n}\r\n\r\n\r\nconst downloadButton = document.createElement(&#39;button&#39;);\r\ndownloadButton.textContent = &#39;Download CSV&#39;;\r\ndownloadButton.addEventListener(&#39;click&#39;, () =&gt; {\r\n  downloadCSV(csv);\r\n});\r\ndocument.body.appendChild(downloadButton);\r\n&lt;/script&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\n","title":"How to download files generated by JavaScript from WebView","body":"<p>Am new to Java concepts. I am trying to download contents generated from JavaScript of my html file in android assets but the application crashes the moment I click on the download button. I suppose that I have to create a JavaScript interface to communicate with Java however I don't know how to do that and would like to get help on that. How can I download the file generated by JavaScript in webview?</p>\n<pre><code>package com.fun.fun;\n\nimport androidx.appcompat.app.AppCompatActivity;\nimport android.Manifest;\nimport android.app.DownloadManager;\nimport android.content.pm.PackageManager;\nimport android.net.Uri;\nimport android.os.Build;\nimport android.os.Bundle;\nimport android.os.Environment;\nimport android.util.Log;\nimport android.view.View;\nimport android.webkit.CookieManager;\nimport android.webkit.DownloadListener;\nimport android.webkit.URLUtil;\nimport android.webkit.WebSettings;\nimport android.webkit.WebView;\nimport android.webkit.WebViewClient;\n\nimport android.widget.Toast;\n\npublic class MainActivity extends AppCompatActivity {\n    private WebView web;\n\n\n// application crashes if I download a file generated from script side of the following url;\n    String webUrl = &quot;file:///android_asset/indexi.html&quot;;\n    \n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        \n        web = (WebView) findViewById(R.id.myweb);\n        web.loadUrl(webUrl);\n        \n        WebSettings mywebsettings = web.getSettings();\n        mywebsettings.setJavaScriptEnabled(true);\n        \n        web.setWebViewClient(new WebViewClient());\n        \n        //improve webview performance\n        \n        web.getSettings().setRenderPriority(WebSettings.RenderPriority.HIGH);\n        web.getSettings().setCacheMode(WebSettings.LOAD_CACHE_ELSE_NETWORK);\n        web.getSettings().setAppCacheEnabled(true);\n        web.setScrollBarStyle(View.SCROLLBARS_INSIDE_OVERLAY);\n        mywebsettings.setDomStorageEnabled(true);\n        mywebsettings.setLayoutAlgorithm(WebSettings.LayoutAlgorithm.NARROW_COLUMNS);\n        mywebsettings.setUseWideViewPort(true);\n        mywebsettings.setSavePassword(true);\n        mywebsettings.setSaveFormData(true);\n        mywebsettings.setEnableSmoothTransition(true);\n        \n        \n        \n        //External storage permission for saving file\n        \n        if(Build.VERSION.SDK_INT&gt;= Build.VERSION_CODES.M){\n            if(checkSelfPermission(Manifest.permission.WRITE_EXTERNAL_STORAGE) == PackageManager.PERMISSION_DENIED){\n                \n                Log.d(&quot;permission&quot;,&quot;permission denied to WRITE_EXTERNAL_STORAGE - requesting it&quot;);\n                String[] permissions = {Manifest.permission.WRITE_EXTERNAL_STORAGE};\n                requestPermissions(permissions,1);\n            }\n            \n            \n        }\n        \n        //handle downloading\n        \n        web.setDownloadListener(new DownloadListener() {\n            @Override\n            public void onDownloadStart(String url, String userAgent, String contentDisposition, String mimeType, long contentLength) {\n                \n                DownloadManager.Request request = new DownloadManager.Request(Uri.parse(url));\n                request.setMimeType(mimeType);\n                String cookies = CookieManager.getInstance().getCookie(url);\n                request.addRequestHeader(&quot;cookie&quot;,cookies);\n                request.addRequestHeader(&quot;User-Agent&quot;,userAgent);\n                request.setDescription(&quot;Downloading file....&quot;);\n                request.setTitle(URLUtil.guessFileName(url,contentDisposition,mimeType));\n                request.allowScanningByMediaScanner();\n                request.setNotificationVisibility(DownloadManager.Request.VISIBILITY_VISIBLE_NOTIFY_COMPLETED);\n                request.setDestinationInExternalPublicDir(Environment.DIRECTORY_DOWNLOADS,URLUtil.guessFileName(url, contentDisposition, mimeType));\n                DownloadManager dm = (DownloadManager) getSystemService(DOWNLOAD_SERVICE);\n                dm.enqueue(request);\n                Toast.makeText(getApplicationContext(),&quot;Downloading File&quot;,Toast.LENGTH_SHORT).show();\n                \n                \n            }\n        });\n        \n    }\n    \n    \n    @Override\n    public void onBackPressed() {\n        if(web.canGoBack()){\n            \n            web.goBack();\n        }\n        else {\n            \n            super.onBackPressed();\n        }\n    }\n}\n</code></pre>\n<p>And my html file that I have loaded in webview is;</p>\n<pre><code>\n&lt;html&gt;\n&lt;div id=&quot;disp&quot;&gt;&lt;/div&gt;\n\n&lt;script&gt;\n\n\nfunction objectsToCSV(arr) { \nconst array = [Object.keys(arr[0])].concat(arr) \nreturn array.map(row =&gt; { \nreturn Object.values(row).map(value =&gt; { \nreturn typeof value === 'string' ? JSON.stringify(value) : value }).toString() \n}).join('\\n') }\n\nvar items = [\n              { &quot;name&quot;: &quot;Item 1&quot;, &quot;color&quot;: &quot;Green&quot;, &quot;size&quot;: &quot;X-Large&quot; },\n              { &quot;name&quot;: &quot;Item 2&quot;, &quot;color&quot;: &quot;Green&quot;, &quot;size&quot;: &quot;X-Large&quot; },\n              { &quot;name&quot;: &quot;Item 3&quot;, &quot;color&quot;: &quot;Green&quot;, &quot;size&quot;: &quot;X-Large&quot; }];\n\nvar csv = objectsToCSV(items);\ndocument.getElementById(&quot;disp&quot;).innerHTML = csv;\n\nfunction downloadCSV(csv) {\n  const blob = new Blob([csv], { type: 'text/csv' });\n  const anchor = document.createElement('a');\n  anchor.href = window.URL.createObjectURL(blob);\n  anchor.download = 'my_data.csv';\n  document.body.appendChild(anchor);\n  anchor.click();\n  document.body.removeChild(anchor);\n}\n\n\nconst downloadButton = document.createElement('button');\ndownloadButton.textContent = 'Download CSV';\ndownloadButton.addEventListener('click', () =&gt; {\n  downloadCSV(csv);\n});\ndocument.body.appendChild(downloadButton);\n&lt;/script&gt;\n&lt;/html&gt;\n</code></pre>\n"},{"tags":["java","apache-kafka","junit","spring-kafka"],"owner":{"account_id":29707232,"reputation":1,"user_id":22767789,"display_name":"Gourav Das"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697709185,"creation_date":1697709185,"question_id":77322736,"body_markdown":"I have a used kafka aggregation to calculate end-to-end latency.\r\n\r\n```\r\nKStream&lt;String, TransactionCloudEvent&gt; ktable = builder.stream(topicName,Consumed.with(Serdes.String(), cloudSerde));\r\n\r\n ktable\r\n                .peek((key, value) -&gt; log.info(&quot;Incoming record - key {} , value {} &quot;, key, value))\r\n                .filter((k,v) -&gt; v.getData().getEvent().startsWith(&quot;start&quot;))\r\n                .mapValues((k,v) -&gt; { --- }\r\n```\r\n\r\nnow I am trying to get test coverage for the above code \r\n\r\n```\r\nString bootstrapServers = kafkaContainer.getBootstrapServers();\r\n        KafkaProducer&lt;String, String&gt; producer = new KafkaProducer&lt;&gt;(\r\n                ImmutableMap.of(\r\n                        ProducerConfig.BOOTSTRAP_SERVERS_CONFIG,\r\n                        bootstrapServers,\r\n                        ProducerConfig.CLIENT_ID_CONFIG,\r\n                        UUID.randomUUID().toString()\r\n                ),\r\n                new StringSerializer(),\r\n                new StringSerializer()\r\n        );\r\n        producer.send(new ProducerRecord&lt;&gt;(topicName, &quot;testcontainers&quot;, &quot;rulezzz&quot;)).get();\r\n\r\n```\r\nbut the execution is not able to reach the ktable .\r\nPlease help.\r\n\r\n\r\n\r\nI tried with TestContainer as well, but no luck","title":"Junit test case for kafka stream","body":"<p>I have a used kafka aggregation to calculate end-to-end latency.</p>\n<pre><code>KStream&lt;String, TransactionCloudEvent&gt; ktable = builder.stream(topicName,Consumed.with(Serdes.String(), cloudSerde));\n\n ktable\n                .peek((key, value) -&gt; log.info(&quot;Incoming record - key {} , value {} &quot;, key, value))\n                .filter((k,v) -&gt; v.getData().getEvent().startsWith(&quot;start&quot;))\n                .mapValues((k,v) -&gt; { --- }\n</code></pre>\n<p>now I am trying to get test coverage for the above code</p>\n<pre><code>String bootstrapServers = kafkaContainer.getBootstrapServers();\n        KafkaProducer&lt;String, String&gt; producer = new KafkaProducer&lt;&gt;(\n                ImmutableMap.of(\n                        ProducerConfig.BOOTSTRAP_SERVERS_CONFIG,\n                        bootstrapServers,\n                        ProducerConfig.CLIENT_ID_CONFIG,\n                        UUID.randomUUID().toString()\n                ),\n                new StringSerializer(),\n                new StringSerializer()\n        );\n        producer.send(new ProducerRecord&lt;&gt;(topicName, &quot;testcontainers&quot;, &quot;rulezzz&quot;)).get();\n\n</code></pre>\n<p>but the execution is not able to reach the ktable .\nPlease help.</p>\n<p>I tried with TestContainer as well, but no luck</p>\n"},{"tags":["java","android"],"owner":{"account_id":27209552,"reputation":1,"user_id":20740566,"display_name":"Tony Moore"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697709096,"creation_date":1697709096,"question_id":77322719,"body_markdown":"Inside my recycler view im getting repeat elements (textview, floating action button, etc) for every entry in my database. It makes no sense at all. Also, when you click my actual FAB it works and takes you to its intent. However the other copies inside of the recycler view don&#39;t. I don&#39;t want them to work nor do I want them there. Please help! \r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;wrap_content&quot;&gt;\r\n\r\n    &lt;androidx.recyclerview.widget.RecyclerView\r\n        android:id=&quot;@+id/termListRecyclerView&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginTop=&quot;36dp&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/TermIdView&quot;\r\n        tools:layout_editor_absoluteX=&quot;0dp&quot;&gt;\r\n\r\n    &lt;/androidx.recyclerview.widget.RecyclerView&gt;\r\n\r\n    &lt;com.google.android.material.floatingactionbutton.FloatingActionButton\r\n        android:id=&quot;@+id/termListActionButton&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginTop=&quot;24dp&quot;\r\n        android:clickable=&quot;true&quot;\r\n        android:contentDescription=&quot;TODO&quot;\r\n        android:src=&quot;@android:drawable/ic_input_add&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.498&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/termListRecyclerView&quot;\r\n        app:layout_constraintVertical_bias=&quot;0.0&quot; /&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/TermIdView&quot;\r\n        android:layout_width=&quot;163dp&quot;\r\n        android:layout_height=&quot;53dp&quot;\r\n        android:layout_marginTop=&quot;4dp&quot;\r\n        android:text=&quot;Term Info Here&quot;\r\n        android:textAlignment=&quot;center&quot;\r\n        android:textSize=&quot;16sp&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/textView2&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;TextView&quot;\r\n        app:layout_constraintEnd_toStartOf=&quot;@+id/TermIdView&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;```\r\n\r\n\r\nI&#39;ve tried everything. Even ChatGPT. been at it for 12 hours..im a beginner so please help","title":"Repeating elements inside my recycler view problem","body":"<p>Inside my recycler view im getting repeat elements (textview, floating action button, etc) for every entry in my database. It makes no sense at all. Also, when you click my actual FAB it works and takes you to its intent. However the other copies inside of the recycler view don't. I don't want them to work nor do I want them there. Please help!</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;&gt;\n\n    &lt;androidx.recyclerview.widget.RecyclerView\n        android:id=&quot;@+id/termListRecyclerView&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginTop=&quot;36dp&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/TermIdView&quot;\n        tools:layout_editor_absoluteX=&quot;0dp&quot;&gt;\n\n    &lt;/androidx.recyclerview.widget.RecyclerView&gt;\n\n    &lt;com.google.android.material.floatingactionbutton.FloatingActionButton\n        android:id=&quot;@+id/termListActionButton&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginTop=&quot;24dp&quot;\n        android:clickable=&quot;true&quot;\n        android:contentDescription=&quot;TODO&quot;\n        android:src=&quot;@android:drawable/ic_input_add&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.498&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/termListRecyclerView&quot;\n        app:layout_constraintVertical_bias=&quot;0.0&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/TermIdView&quot;\n        android:layout_width=&quot;163dp&quot;\n        android:layout_height=&quot;53dp&quot;\n        android:layout_marginTop=&quot;4dp&quot;\n        android:text=&quot;Term Info Here&quot;\n        android:textAlignment=&quot;center&quot;\n        android:textSize=&quot;16sp&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/textView2&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;TextView&quot;\n        app:layout_constraintEnd_toStartOf=&quot;@+id/TermIdView&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;```\n\n\nI've tried everything. Even ChatGPT. been at it for 12 hours..im a beginner so please help\n</code></pre>\n"},{"tags":["java","selenium-webdriver","selenium-chromedriver"],"comments":[{"owner":{"account_id":12360572,"reputation":1730,"user_id":9014957,"accept_rate":17,"display_name":"pburgr"},"score":0,"creation_date":1697604600,"post_id":77310280,"comment_id":136299122,"body_markdown":"Please share your code snippet.","body":"Please share your code snippet."},{"owner":{"account_id":6582932,"reputation":315,"user_id":5086669,"accept_rate":100,"display_name":"Mastarius"},"score":0,"creation_date":1697617555,"post_id":77310280,"comment_id":136300966,"body_markdown":"Hello @pburgr, I added my code to the post","body":"Hello @pburgr, I added my code to the post"}],"answers":[{"tags":[],"owner":{"account_id":6582932,"reputation":315,"user_id":5086669,"accept_rate":100,"display_name":"Mastarius"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1697708180,"creation_date":1697708180,"answer_id":77322594,"question_id":77310280,"body_markdown":"After debugging, I discovered that the problem is related to the Chrome WebDriver when Chrome is being started by Selenium. The problem therefore is not related to the Java code, or Selenium.\r\n\r\nThe issue is with just with number &quot;5&quot; acting as a backspace instead of the actual number &quot;5&quot; when Chrome is controlled by an automated test software. The same version of Chrome started manually will not display the issue. This issue is unrelated to the website tested.\r\n\r\nI will post another question related to the Chrome WebDriver","title":"Selenium sendKeys not typing non-zero digits that are part of the string","body":"<p>After debugging, I discovered that the problem is related to the Chrome WebDriver when Chrome is being started by Selenium. The problem therefore is not related to the Java code, or Selenium.</p>\n<p>The issue is with just with number &quot;5&quot; acting as a backspace instead of the actual number &quot;5&quot; when Chrome is controlled by an automated test software. The same version of Chrome started manually will not display the issue. This issue is unrelated to the website tested.</p>\n<p>I will post another question related to the Chrome WebDriver</p>\n"}],"owner":{"account_id":6582932,"reputation":315,"user_id":5086669,"accept_rate":100,"display_name":"Mastarius"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77322594,"answer_count":1,"score":0,"last_activity_date":1697708180,"creation_date":1697556227,"question_id":77310280,"body_markdown":"I am facing an issue while using the sendKeys() method within some tests. \r\nIt seems like Selenium is not able to type the whole string but partially ignores numbers that are non-zero.\r\n\r\n**Examples:**\r\n\r\n&gt; Input 5.0 Output: .0\r\n&gt; \r\n&gt; Input 5 Output: (blank)\r\n&gt; \r\n&gt; Input 55.0 Output: .0\r\n&gt; \r\n&gt; Input 550.0 Output: 0.0\r\n\r\nI have other pages that are being tested, with both similar and different input fields. All of them work without any issue. The input fields that are showing this issue are of `type=&quot;text&quot;`.\r\nI would safely assume it&#39;s not a ChromeDriver issue, as other **identical** fields in different pages work without this issue. The project is using Java 8 so I updated to the latest possible version of Selenium which is 4.13.0. The ChromeDriver version that I am using is 118.0.5993.70. I am testing this web interface in a Linux environment in a Azure instance (connected through RealVNC).\r\n\r\n**Edit:**\r\n\r\nAs requested, this is the method I am using to change the input fields. The method is called through a JBehave story.\r\n\r\n    public void setValue(String value) {\r\n    \tif(selectedField.getTagName().equalsIgnoreCase(&quot;input&quot;)) {\r\n    \t\tselectedField.clear();\r\n    \t\tselectedField.sendKeys(value);\r\n    \t} \r\n    \telse if(selectedField.getTagName().equalsIgnoreCase(&quot;select&quot;)) {\r\n    \t\tthis.setCombo(value);\r\n    \t}\r\n    \telse throw new AssertionError(&quot;Trying to assign value to an unrecognized field type&quot;);\r\n    }\r\n\r\nThe variable selectedField is a WebElement, correctly selected in the steps before.\r\n\r\n    private WebElement selectedField;\r\n\r\nAnd the following one is the input field that I&#39;m trying to modify:\r\n\r\n    &lt;input id=&quot;scheduleRun:elipsu&quot; type=&quot;text&quot; name=&quot;scheduleRun:elipsu&quot; value=&quot;10.0&quot; size=&quot;5&quot; title=&quot;Size of the screening volume in the radial direction of the OCRF reference frame of the target&quot;&gt;","title":"Selenium sendKeys not typing non-zero digits that are part of the string","body":"<p>I am facing an issue while using the sendKeys() method within some tests.\nIt seems like Selenium is not able to type the whole string but partially ignores numbers that are non-zero.</p>\n<p><strong>Examples:</strong></p>\n<blockquote>\n<p>Input 5.0 Output: .0</p>\n<p>Input 5 Output: (blank)</p>\n<p>Input 55.0 Output: .0</p>\n<p>Input 550.0 Output: 0.0</p>\n</blockquote>\n<p>I have other pages that are being tested, with both similar and different input fields. All of them work without any issue. The input fields that are showing this issue are of <code>type=&quot;text&quot;</code>.\nI would safely assume it's not a ChromeDriver issue, as other <strong>identical</strong> fields in different pages work without this issue. The project is using Java 8 so I updated to the latest possible version of Selenium which is 4.13.0. The ChromeDriver version that I am using is 118.0.5993.70. I am testing this web interface in a Linux environment in a Azure instance (connected through RealVNC).</p>\n<p><strong>Edit:</strong></p>\n<p>As requested, this is the method I am using to change the input fields. The method is called through a JBehave story.</p>\n<pre><code>public void setValue(String value) {\n    if(selectedField.getTagName().equalsIgnoreCase(&quot;input&quot;)) {\n        selectedField.clear();\n        selectedField.sendKeys(value);\n    } \n    else if(selectedField.getTagName().equalsIgnoreCase(&quot;select&quot;)) {\n        this.setCombo(value);\n    }\n    else throw new AssertionError(&quot;Trying to assign value to an unrecognized field type&quot;);\n}\n</code></pre>\n<p>The variable selectedField is a WebElement, correctly selected in the steps before.</p>\n<pre><code>private WebElement selectedField;\n</code></pre>\n<p>And the following one is the input field that I'm trying to modify:</p>\n<pre><code>&lt;input id=&quot;scheduleRun:elipsu&quot; type=&quot;text&quot; name=&quot;scheduleRun:elipsu&quot; value=&quot;10.0&quot; size=&quot;5&quot; title=&quot;Size of the screening volume in the radial direction of the OCRF reference frame of the target&quot;&gt;\n</code></pre>\n"},{"tags":["java","spring","junit"],"comments":[{"owner":{"account_id":308139,"reputation":8189,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1697708730,"post_id":77322366,"comment_id":136314925,"body_markdown":"having your `AppPropertiesConfig` source would help to tell what happens in its lambda line 44.  It would also be useful to know if there is an `application.yaml` just in `src/main/resources`, or if there&#39;s one in `src/test/resources` too (and what its content is if any). Last, the source of `AnaIitPh2AirGateCoreService` could be useful (as well as security configuration if you use method security in it).","body":"having your <code>AppPropertiesConfig</code> source would help to tell what happens in its lambda line 44.  It would also be useful to know if there is an <code>application.yaml</code> just in <code>src&#47;main&#47;resources</code>, or if there&#39;s one in <code>src&#47;test&#47;resources</code> too (and what its content is if any). Last, the source of <code>AnaIitPh2AirGateCoreService</code> could be useful (as well as security configuration if you use method security in it)."}],"owner":{"account_id":26299053,"reputation":1,"user_id":19964807,"display_name":"aysha faisal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697708173,"creation_date":1697706170,"question_id":77322366,"body_markdown":"I  was tring to run the junit code but i am getting error saying Failed to load ApplicationContext  and in the caused by No value bound.\r\nThis is the error\r\n```\r\nFailed to load ApplicationContext\r\n\tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:98)\r\n\tat org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)\r\n\tat org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118)\r\n\tat org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)\r\n\tat org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)\r\n\tat org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)\r\n\tat org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$5(ClassTestDescriptor.java:349)\r\n\tat org.junit.jupiter.engine.descriptor.JupiterTestDescriptor.executeAndMaskThrowable(JupiterTestDescriptor.java:215)\r\n\tat org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$6(ClassTestDescriptor.java:349)\r\n\tat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)\r\n\tat java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)\r\n\tat java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)\r\n\tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)\r\n\tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)\r\n\tat java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)\r\n\tat java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)\r\n\tat java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)\r\n\tat java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)\r\n\tat org.junit.jupiter.engine.descriptor.ClassTestDescriptor.invokeTestInstancePostProcessors(ClassTestDescriptor.java:348)\r\n\tat org.junit.jupiter.engine.descriptor.ClassTestDescriptor.instantiateAndPostProcessTestInstance(ClassTestDescriptor.java:270)\r\n\tat org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$2(ClassTestDescriptor.java:259)\r\n\tat org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$3(ClassTestDescriptor.java:263)\r\n\tat java.base/java.util.Optional.orElseGet(Optional.java:364)\r\n\tat org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$4(ClassTestDescriptor.java:262)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:82)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:59)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:95)\r\n\tat org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:91)\r\n\tat org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:60)\r\n\tat org.eclipse.jdt.internal.junit5.runner.JUnit5TestReference.run(JUnit5TestReference.java:98)\r\n\tat org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:40)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:529)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:756)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:452)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:210)\r\nCaused by: java.util.NoSuchElementException: No value bound\r\n\tat org.springframework.boot.context.properties.bind.BindResult.get(BindResult.java:55)\r\n\tat his.common.config.AppPropertiesConfig.lambda$initAppConfig$0(AppPropertiesConfig.java:44)\r\n\tat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:325)\r\n\tat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:198)\r\n\tat org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:748)\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:564)\r\n\tat org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:127)\r\n\tat org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:60)\r\n\tat org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.delegateLoading(AbstractDelegatingSmartContextLoader.java:276)\r\n\tat org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.loadContext(AbstractDelegatingSmartContextLoader.java:244)\r\n\tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:141)\r\n\tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:90)\r\n\t... 67 more\r\n\r\n```\r\n```java\r\n@ExtendWith(SpringExtension.class)\r\n@DirtiesContext(\r\n        classMode = ClassMode.AFTER_CLASS)\r\n@ContextConfiguration(classes = { AnaIitPh2ServiceTestApplication.class })\r\n@ActiveProfiles(&quot;test&quot;)\r\npublic class AnaIitPh2ShowSeatMapTest {\r\n\r\n    /** The logger instance for logging purpose */\r\n    private static final Logger LOGGER = LoggerFactory.getLogger(AnaIitPh2ShowSeatMapTest.class);\r\n\r\n    /** gRPC server name */\r\n    private String gRPCServerName;\r\n\r\n    /** Constant for PORT */\r\n    private static final int PORT = 8085;\r\n\r\n    /** Constant for HOST */\r\n    private static final String HOST = &quot;localhost&quot;;\r\n\r\n\r\n    /** Wire mock instance */\r\n    private static WireMockServer server = new WireMockServer(PORT);\r\n\r\n    /** Injecting mock of ANA IIT Connector service */\r\n    @Autowired\r\n    private AnaIitPh2AirGateCoreService anaIitPh2GateCoreService;\r\n\r\n    /** API request headers */\r\n    interface ApiHeaders {\r\n        String CONTENT_TYPE = &quot;Content-Type&quot;;\r\n        String TEXT_XML = &quot;text/xml&quot;;\r\n        String SOAP_ACTION = &quot;SoapAction&quot;;\r\n        String Air_RetrieveSeatMap = &quot;Air_RetrieveSeatMap&quot;;\r\n    }\r\n\r\n    /** WSDL End point path */\r\n    interface EndpointPath {\r\n        String SEATMAP_ENDPOINT_PATH = &quot;/nodeA3.test.webservices.amadeus.com&quot;;\r\n    }\r\n\r\n    /** Response File names */\r\n    interface ResponseFile {\r\n        String Air_RetrieveSeatMap_SUCCESS = &quot;AirRetrieveSeatMapSuccessReply&quot;;\r\n    }\r\n\r\n    /** Constant for xml extension. */\r\n    private static final String XML = &quot;.xml&quot;;\r\n\r\n    /** Show seat map dummy data */\r\n    interface ShowSeatMapData {\r\n        String QUERY_ID = &quot;d6779ec7b87a4&quot;;\r\n        StringValue DEPARTURE_CODE = StringValue.of(&quot;HND&quot;);\r\n        StringValue DEPARTURE_CODE_INVALID = StringValue.of(&quot;HNE&quot;);\r\n        StringValue ARRIVAL_CODE = StringValue.of(&quot;MUC&quot;);\r\n        StringValue ARRIVAL_CODE_1 = StringValue.of(&quot;SPK&quot;);\r\n        StringValue AIR_LINE_CODE = StringValue.of(&quot;LH&quot;);\r\n        StringValue FLIGHT_NUMBER = StringValue.of(&quot;4714&quot;);\r\n        StringValue CLASS_OF_SERVICE = StringValue.of(&quot;M&quot;);\r\n        StringValue CLASS_OF_SERVICE_1 = StringValue.of(&quot;Y&quot;);\r\n        String CLIENT_ID = &quot;1000&quot;;\r\n        Date DEPARTURE_DATE = Date.newBuilder()\r\n                .setYear(2023)\r\n                .setMonth(11)\r\n                .setDay(10)\r\n                .build();\r\n    }\r\n\r\n    /**\r\n     * A TestRule that can register gRPC resources and manages its automatic\r\n     * release at the end of the test automatically\r\n     */\r\n    @Rule\r\n    public final GrpcCleanupRule grpcCleanup = new GrpcCleanupRule();\r\n\r\n    /**\r\n     * Perform settings before the test execution starts\r\n     */\r\n    @BeforeEach\r\n    public void setup() throws Exception {\r\n        MockitoAnnotations.openMocks(this);\r\n        /*\r\n         * Get a unique name when establishing a server for service execution\r\n         */\r\n        gRPCServerName = InProcessServerBuilder.generateName();\r\n        grpcCleanup.register(InProcessServerBuilder.forName(gRPCServerName).directExecutor().addService(ServerInterceptors.intercept(anaIitPh2GateCoreService, new GrpcLoggingInterceptor()))\r\n                .build()\r\n                .start());\r\n        AnaIitPh2ServiceTestApplication.setupSecurityContext();\r\n        // Wire mock server starting\r\n        server.start();\r\n        // Configuring the wire mock server in the defined host and port\r\n        configureFor(HOST, PORT);\r\n        // Stub for show seat API\r\n        stubFor(post(urlPathMatching(EndpointPath.SEATMAP_ENDPOINT_PATH))\r\n                .withHeader(ApiHeaders.CONTENT_TYPE, WireMock.containing(ApiHeaders.TEXT_XML))\r\n                .withHeader(ApiHeaders.SOAP_ACTION, WireMock.containing(ApiHeaders.Air_RetrieveSeatMap))\r\n                .withRequestBody(WireMock.containing(&quot;Air_RetrieveSeatMap&quot;))\r\n                .willReturn(aResponse().withStatus(200)\r\n                        .withBodyFile(&quot;showseatmap/AirRetrieveSeatMapSuccessReply.xml&quot;)));\r\n\r\n    }\r\n    /**\r\n     * Perform any cleanup, after tests\r\n     */\r\n    @After\r\n    public void cleanup() {\r\n    }\r\n\r\n    /**\r\n     * Perform wiremock server stop\r\n     */\r\n    @AfterAll\r\n    public static void tearDown() {\r\n        if (server != null &amp;&amp; server.isRunning()) {\r\n            server.shutdown();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Test pattern : showseatmap &lt;br&gt;\r\n     * Test case : Basic flow&lt;br&gt;\r\n     * Expected result : Execute without error\r\n     */\r\n    @Test\r\n    public void testShowSeatMapBasicFlow() {\r\n        ShowSeatMapRq.Builder request = ShowSeatMapRq.newBuilder()\r\n                .setQueryId(ShowSeatMapData.QUERY_ID)\r\n                .setMetaData(ShowSeatMapRqMetaData.newBuilder().setClientId(ShowSeatMapData.CLIENT_ID))\r\n                .setSegment(ShowSeatMapRqSegment.newBuilder()\r\n                        .setDepartureCode(ShowSeatMapData.DEPARTURE_CODE)\r\n                        .setArrivalCode(ShowSeatMapData.ARRIVAL_CODE)\r\n                        .setDate(ShowSeatMapData.DEPARTURE_DATE)\r\n                        .setAirlineCode(ShowSeatMapData.AIR_LINE_CODE)\r\n                        .setFlightNumber(ShowSeatMapData.FLIGHT_NUMBER)\r\n                        .setClassOfService(ShowSeatMapData.CLASS_OF_SERVICE));\r\n\r\n        ShowSeatMapRs response = null;\r\n        AirGateCoreServiceGrpc.AirGateCoreServiceBlockingStub blockingStub = AirGateCoreServiceGrpc\r\n                .newBlockingStub(\r\n                        grpcCleanup.register(InProcessChannelBuilder.forName(gRPCServerName).directExecutor().build()));\r\n        try {\r\n            // Execution of test method\r\n            response = blockingStub.showSeatMap(request.build());\r\n        } catch (Exception e) {\r\n            Assert.fail(e.getMessage());\r\n        }\r\n        assertTrue(response.getVacantInfoList().size() &gt; 0);\r\n    }\r\n\r\n}\r\n\r\n```\r\n```yaml\r\nserver:\r\n  port: 8090\r\ngrpc:\r\n  port: 6503\r\n  security:\r\n    enabled: true\r\n    oauth2:\r\n      resourceserver:\r\n        jwt:\r\n          public-key-location: &#39;classpath:qa.air-gate.pub&#39;\r\napp:\r\n  services:\r\n    air-gate-core-service:\r\n      endpoint: &#39;localhost:6565&#39;\r\n    air-ana-iit-ph2-connector-service:\r\n      endpoint:\r\n        schema_validation: false\r\n        address: &#39;http://localhost:8085/nodeA3.test.webservices.amadeus.com&#39;\r\n        service_class: com.amadeus.xml.AmadeusWebServicesPT\r\n        service_name: AmadeusWebServices\r\n        endpoint_name: AmadeusWebServicesPort\r\n      connection_timeout:\r\n        default: 60000\r\n        fare_masterpricetravelboardsearch: 60000\r\n        fare_informativepricingwithoutpnr: 60000\r\n        air_flightinfo: 60000\r\n        air_sellfromrecommendation: 60000\r\n        pnr_retrieve: 60000\r\n        assignSeats: 60000\r\n        service_bookpriceservice: 60000\r\n        pnr_split: 60000\r\n        to: &#39;https://nodeA3.test.webservices.amadeus.com/1ASIWAGTNH&#39;\r\n        username: WSHICCHA\r\n        password: NVBVYWtWQWk\r\n        agent_duty_code: SU\r\n        pos_type: 1\r\n        pseudo_city_code: TYOHI38AW\r\n        requestor_type: U\r\n        user_name_token: UsernameToken-1\r\n      header_attributes:\r\n        to: &#39;https://nodeA3.test.webservices.amadeus.com/1ASIWAGTNH&#39;\r\n        action_search_flight: &#39;http://webservices.amadeus.com/FMFTBQ_22_1_1A&#39;\r\n        action_retrieve_seat: &#39;http://webservices.amadeus.com/SMPREQ_22_1_1A&#39;\r\n        username: WSNH3HIS01\r\n        password: q2eLoNJZ\r\n        agent_duty_code: SU\r\n        pos_type: 1\r\n        pseudo_city_code: TYOHI38AW\r\n        requestor_type: U\r\n        user_name_token: UsernameToken-1\r\nspring:\r\n  datasource:\r\n    url: &#39;jdbc:mysql://localhost:3306/air_ana_iit?sslMode=disabled&#39;\r\n    username: root\r\n    password: manager123\r\n    driver-class-name: com.mysql.cj.jdbc.Driver\r\n    hikari:\r\n      pool-name: ConnectionPool\r\n      leakDetectionThreshold: 5000\r\n      connection-test-query: SELECT 1\r\n      minimum-idle: 2\r\n      maximum-pool-size: 10\r\nredis:\r\n  host: localhost\r\n  port: 6379\r\n  enabled: true\r\n  cache-expiry: 3600\r\n  read-timeout: 100\r\n  connection-timeout: 100\r\n  key-version: V1_\r\nscheduler:\r\n  config:\r\n    aide-cron:\r\n      schedule: 0 40 22  * * *\r\n      enabled: false\r\nmanagement:\r\n  metrics.tags:\r\n    environment: local\r\ncache:\r\n  configuration:\r\n    key-slice-size: 6\r\n\r\n```","title":"getting No value bound error while running junit","body":"<p>I  was tring to run the junit code but i am getting error saying Failed to load ApplicationContext  and in the caused by No value bound.\nThis is the error</p>\n<pre><code>Failed to load ApplicationContext\n    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:98)\n    at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)\n    at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118)\n    at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)\n    at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)\n    at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)\n    at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$5(ClassTestDescriptor.java:349)\n    at org.junit.jupiter.engine.descriptor.JupiterTestDescriptor.executeAndMaskThrowable(JupiterTestDescriptor.java:215)\n    at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$invokeTestInstancePostProcessors$6(ClassTestDescriptor.java:349)\n    at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)\n    at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)\n    at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)\n    at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)\n    at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)\n    at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)\n    at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)\n    at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)\n    at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)\n    at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.invokeTestInstancePostProcessors(ClassTestDescriptor.java:348)\n    at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.instantiateAndPostProcessTestInstance(ClassTestDescriptor.java:270)\n    at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$2(ClassTestDescriptor.java:259)\n    at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$3(ClassTestDescriptor.java:263)\n    at java.base/java.util.Optional.orElseGet(Optional.java:364)\n    at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.lambda$testInstanceProvider$4(ClassTestDescriptor.java:262)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:82)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:59)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:95)\n    at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:91)\n    at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:60)\n    at org.eclipse.jdt.internal.junit5.runner.JUnit5TestReference.run(JUnit5TestReference.java:98)\n    at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:40)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:529)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:756)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:452)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:210)\nCaused by: java.util.NoSuchElementException: No value bound\n    at org.springframework.boot.context.properties.bind.BindResult.get(BindResult.java:55)\n    at his.common.config.AppPropertiesConfig.lambda$initAppConfig$0(AppPropertiesConfig.java:44)\n    at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:325)\n    at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:198)\n    at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:748)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:564)\n    at org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:127)\n    at org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:60)\n    at org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.delegateLoading(AbstractDelegatingSmartContextLoader.java:276)\n    at org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.loadContext(AbstractDelegatingSmartContextLoader.java:244)\n    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:141)\n    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:90)\n    ... 67 more\n\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@ExtendWith(SpringExtension.class)\n@DirtiesContext(\n        classMode = ClassMode.AFTER_CLASS)\n@ContextConfiguration(classes = { AnaIitPh2ServiceTestApplication.class })\n@ActiveProfiles(&quot;test&quot;)\npublic class AnaIitPh2ShowSeatMapTest {\n\n    /** The logger instance for logging purpose */\n    private static final Logger LOGGER = LoggerFactory.getLogger(AnaIitPh2ShowSeatMapTest.class);\n\n    /** gRPC server name */\n    private String gRPCServerName;\n\n    /** Constant for PORT */\n    private static final int PORT = 8085;\n\n    /** Constant for HOST */\n    private static final String HOST = &quot;localhost&quot;;\n\n\n    /** Wire mock instance */\n    private static WireMockServer server = new WireMockServer(PORT);\n\n    /** Injecting mock of ANA IIT Connector service */\n    @Autowired\n    private AnaIitPh2AirGateCoreService anaIitPh2GateCoreService;\n\n    /** API request headers */\n    interface ApiHeaders {\n        String CONTENT_TYPE = &quot;Content-Type&quot;;\n        String TEXT_XML = &quot;text/xml&quot;;\n        String SOAP_ACTION = &quot;SoapAction&quot;;\n        String Air_RetrieveSeatMap = &quot;Air_RetrieveSeatMap&quot;;\n    }\n\n    /** WSDL End point path */\n    interface EndpointPath {\n        String SEATMAP_ENDPOINT_PATH = &quot;/nodeA3.test.webservices.amadeus.com&quot;;\n    }\n\n    /** Response File names */\n    interface ResponseFile {\n        String Air_RetrieveSeatMap_SUCCESS = &quot;AirRetrieveSeatMapSuccessReply&quot;;\n    }\n\n    /** Constant for xml extension. */\n    private static final String XML = &quot;.xml&quot;;\n\n    /** Show seat map dummy data */\n    interface ShowSeatMapData {\n        String QUERY_ID = &quot;d6779ec7b87a4&quot;;\n        StringValue DEPARTURE_CODE = StringValue.of(&quot;HND&quot;);\n        StringValue DEPARTURE_CODE_INVALID = StringValue.of(&quot;HNE&quot;);\n        StringValue ARRIVAL_CODE = StringValue.of(&quot;MUC&quot;);\n        StringValue ARRIVAL_CODE_1 = StringValue.of(&quot;SPK&quot;);\n        StringValue AIR_LINE_CODE = StringValue.of(&quot;LH&quot;);\n        StringValue FLIGHT_NUMBER = StringValue.of(&quot;4714&quot;);\n        StringValue CLASS_OF_SERVICE = StringValue.of(&quot;M&quot;);\n        StringValue CLASS_OF_SERVICE_1 = StringValue.of(&quot;Y&quot;);\n        String CLIENT_ID = &quot;1000&quot;;\n        Date DEPARTURE_DATE = Date.newBuilder()\n                .setYear(2023)\n                .setMonth(11)\n                .setDay(10)\n                .build();\n    }\n\n    /**\n     * A TestRule that can register gRPC resources and manages its automatic\n     * release at the end of the test automatically\n     */\n    @Rule\n    public final GrpcCleanupRule grpcCleanup = new GrpcCleanupRule();\n\n    /**\n     * Perform settings before the test execution starts\n     */\n    @BeforeEach\n    public void setup() throws Exception {\n        MockitoAnnotations.openMocks(this);\n        /*\n         * Get a unique name when establishing a server for service execution\n         */\n        gRPCServerName = InProcessServerBuilder.generateName();\n        grpcCleanup.register(InProcessServerBuilder.forName(gRPCServerName).directExecutor().addService(ServerInterceptors.intercept(anaIitPh2GateCoreService, new GrpcLoggingInterceptor()))\n                .build()\n                .start());\n        AnaIitPh2ServiceTestApplication.setupSecurityContext();\n        // Wire mock server starting\n        server.start();\n        // Configuring the wire mock server in the defined host and port\n        configureFor(HOST, PORT);\n        // Stub for show seat API\n        stubFor(post(urlPathMatching(EndpointPath.SEATMAP_ENDPOINT_PATH))\n                .withHeader(ApiHeaders.CONTENT_TYPE, WireMock.containing(ApiHeaders.TEXT_XML))\n                .withHeader(ApiHeaders.SOAP_ACTION, WireMock.containing(ApiHeaders.Air_RetrieveSeatMap))\n                .withRequestBody(WireMock.containing(&quot;Air_RetrieveSeatMap&quot;))\n                .willReturn(aResponse().withStatus(200)\n                        .withBodyFile(&quot;showseatmap/AirRetrieveSeatMapSuccessReply.xml&quot;)));\n\n    }\n    /**\n     * Perform any cleanup, after tests\n     */\n    @After\n    public void cleanup() {\n    }\n\n    /**\n     * Perform wiremock server stop\n     */\n    @AfterAll\n    public static void tearDown() {\n        if (server != null &amp;&amp; server.isRunning()) {\n            server.shutdown();\n        }\n    }\n\n    /**\n     * Test pattern : showseatmap &lt;br&gt;\n     * Test case : Basic flow&lt;br&gt;\n     * Expected result : Execute without error\n     */\n    @Test\n    public void testShowSeatMapBasicFlow() {\n        ShowSeatMapRq.Builder request = ShowSeatMapRq.newBuilder()\n                .setQueryId(ShowSeatMapData.QUERY_ID)\n                .setMetaData(ShowSeatMapRqMetaData.newBuilder().setClientId(ShowSeatMapData.CLIENT_ID))\n                .setSegment(ShowSeatMapRqSegment.newBuilder()\n                        .setDepartureCode(ShowSeatMapData.DEPARTURE_CODE)\n                        .setArrivalCode(ShowSeatMapData.ARRIVAL_CODE)\n                        .setDate(ShowSeatMapData.DEPARTURE_DATE)\n                        .setAirlineCode(ShowSeatMapData.AIR_LINE_CODE)\n                        .setFlightNumber(ShowSeatMapData.FLIGHT_NUMBER)\n                        .setClassOfService(ShowSeatMapData.CLASS_OF_SERVICE));\n\n        ShowSeatMapRs response = null;\n        AirGateCoreServiceGrpc.AirGateCoreServiceBlockingStub blockingStub = AirGateCoreServiceGrpc\n                .newBlockingStub(\n                        grpcCleanup.register(InProcessChannelBuilder.forName(gRPCServerName).directExecutor().build()));\n        try {\n            // Execution of test method\n            response = blockingStub.showSeatMap(request.build());\n        } catch (Exception e) {\n            Assert.fail(e.getMessage());\n        }\n        assertTrue(response.getVacantInfoList().size() &gt; 0);\n    }\n\n}\n\n</code></pre>\n<pre class=\"lang-yaml prettyprint-override\"><code>server:\n  port: 8090\ngrpc:\n  port: 6503\n  security:\n    enabled: true\n    oauth2:\n      resourceserver:\n        jwt:\n          public-key-location: 'classpath:qa.air-gate.pub'\napp:\n  services:\n    air-gate-core-service:\n      endpoint: 'localhost:6565'\n    air-ana-iit-ph2-connector-service:\n      endpoint:\n        schema_validation: false\n        address: 'http://localhost:8085/nodeA3.test.webservices.amadeus.com'\n        service_class: com.amadeus.xml.AmadeusWebServicesPT\n        service_name: AmadeusWebServices\n        endpoint_name: AmadeusWebServicesPort\n      connection_timeout:\n        default: 60000\n        fare_masterpricetravelboardsearch: 60000\n        fare_informativepricingwithoutpnr: 60000\n        air_flightinfo: 60000\n        air_sellfromrecommendation: 60000\n        pnr_retrieve: 60000\n        assignSeats: 60000\n        service_bookpriceservice: 60000\n        pnr_split: 60000\n        to: 'https://nodeA3.test.webservices.amadeus.com/1ASIWAGTNH'\n        username: WSHICCHA\n        password: NVBVYWtWQWk\n        agent_duty_code: SU\n        pos_type: 1\n        pseudo_city_code: TYOHI38AW\n        requestor_type: U\n        user_name_token: UsernameToken-1\n      header_attributes:\n        to: 'https://nodeA3.test.webservices.amadeus.com/1ASIWAGTNH'\n        action_search_flight: 'http://webservices.amadeus.com/FMFTBQ_22_1_1A'\n        action_retrieve_seat: 'http://webservices.amadeus.com/SMPREQ_22_1_1A'\n        username: WSNH3HIS01\n        password: q2eLoNJZ\n        agent_duty_code: SU\n        pos_type: 1\n        pseudo_city_code: TYOHI38AW\n        requestor_type: U\n        user_name_token: UsernameToken-1\nspring:\n  datasource:\n    url: 'jdbc:mysql://localhost:3306/air_ana_iit?sslMode=disabled'\n    username: root\n    password: manager123\n    driver-class-name: com.mysql.cj.jdbc.Driver\n    hikari:\n      pool-name: ConnectionPool\n      leakDetectionThreshold: 5000\n      connection-test-query: SELECT 1\n      minimum-idle: 2\n      maximum-pool-size: 10\nredis:\n  host: localhost\n  port: 6379\n  enabled: true\n  cache-expiry: 3600\n  read-timeout: 100\n  connection-timeout: 100\n  key-version: V1_\nscheduler:\n  config:\n    aide-cron:\n      schedule: 0 40 22  * * *\n      enabled: false\nmanagement:\n  metrics.tags:\n    environment: local\ncache:\n  configuration:\n    key-slice-size: 6\n\n</code></pre>\n"},{"tags":["java","postgresql","jooq"],"answers":[{"tags":[],"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1697704404,"creation_date":1697704404,"answer_id":77322163,"question_id":77309298,"body_markdown":"You didn&#39;t include the enum type in your code generation configuration:\r\n\r\n```xml\r\n&lt;includes&gt;task&lt;/includes&gt;\r\n```\r\n\r\nDo this, instead:\r\n\r\n```xml\r\n&lt;includes&gt;task|task_status&lt;/includes&gt;\r\n```","title":"How to generate a Java enum from an enum type in PostgreSQL with jOOQ","body":"<p>You didn't include the enum type in your code generation configuration:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;includes&gt;task&lt;/includes&gt;\n</code></pre>\n<p>Do this, instead:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;includes&gt;task|task_status&lt;/includes&gt;\n</code></pre>\n"}],"owner":{"account_id":111563,"reputation":13269,"user_id":294657,"accept_rate":85,"display_name":"kaqqao"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77322163,"answer_count":1,"score":1,"last_activity_date":1697708009,"creation_date":1697548244,"question_id":77309298,"body_markdown":"I have the following enum definition:\r\n\r\n```sql\r\ncreate type task_status as enum (&#39;ok&#39;, &#39;fail&#39;)\r\n```\r\n\r\nA table:\r\n```sql\r\ncreate table if not exists task\r\n(\r\n    id      uuid default gen_random_uuid() not null primary key,\r\n    status  task_status,\r\n    ...\r\n);\r\n```\r\nAnd the following codegen config:\r\n\r\n```xml\r\n&lt;generator&gt;\r\n    &lt;name&gt;org.jooq.codegen.JavaGenerator&lt;/name&gt;\r\n\r\n    &lt;generate&gt;\r\n        &lt;fluentSetters&gt;true&lt;/fluentSetters&gt;\r\n        &lt;daos&gt;true&lt;/daos&gt;\r\n        &lt;springAnnotations&gt;true&lt;/springAnnotations&gt;\r\n        &lt;springDao&gt;true&lt;/springDao&gt;\r\n    &lt;/generate&gt;\r\n\r\n    &lt;database&gt;\r\n        &lt;name&gt;org.jooq.meta.postgres.PostgresDatabase&lt;/name&gt;\r\n        &lt;inputSchema&gt;public&lt;/inputSchema&gt;\r\n        &lt;includes&gt;task&lt;/includes&gt;\r\n        &lt;includeTables&gt;true&lt;/includeTables&gt;\r\n        &lt;includeSystemTables&gt;false&lt;/includeSystemTables&gt;\r\n        &lt;includeInvisibleColumns&gt;false&lt;/includeInvisibleColumns&gt;\r\n        &lt;includeEmbeddables&gt;true&lt;/includeEmbeddables&gt;\r\n        &lt;includeRoutines&gt;false&lt;/includeRoutines&gt;\r\n        &lt;forcedTypes&gt;\r\n            &lt;forcedType&gt;\r\n                &lt;name&gt;INSTANT&lt;/name&gt;\r\n                &lt;includeTypes&gt;timestamptz&lt;/includeTypes&gt;\r\n            &lt;/forcedType&gt;\r\n        &lt;/forcedTypes&gt;\r\n    &lt;/database&gt;\r\n\r\n    &lt;target&gt;\r\n        ...\r\n    &lt;/target&gt;\r\n&lt;/generator&gt;\r\n```\r\nWhen I run codegen, I get:\r\n```java\r\npublic class Task implements Serializable {\r\n    \r\n    private Object status;\r\n    ...\r\n}\r\n```\r\nWhile I found no direct answer on whether jOOQ can indeed generate a Java enum type from this column type, it *sounds* like [it just works for others](https://stackoverflow.com/questions/57795587/jooq-codegen-for-enum-in-another-schema). I am aware that I can implement custom generators or use an enum converter, but I want to know if Java enums can be generated out-of-the-box and I&#39;m just doing it wrong. I&#39;m on jOOQ 3.17.13.\r\n\r\n","title":"How to generate a Java enum from an enum type in PostgreSQL with jOOQ","body":"<p>I have the following enum definition:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>create type task_status as enum ('ok', 'fail')\n</code></pre>\n<p>A table:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>create table if not exists task\n(\n    id      uuid default gen_random_uuid() not null primary key,\n    status  task_status,\n    ...\n);\n</code></pre>\n<p>And the following codegen config:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;generator&gt;\n    &lt;name&gt;org.jooq.codegen.JavaGenerator&lt;/name&gt;\n\n    &lt;generate&gt;\n        &lt;fluentSetters&gt;true&lt;/fluentSetters&gt;\n        &lt;daos&gt;true&lt;/daos&gt;\n        &lt;springAnnotations&gt;true&lt;/springAnnotations&gt;\n        &lt;springDao&gt;true&lt;/springDao&gt;\n    &lt;/generate&gt;\n\n    &lt;database&gt;\n        &lt;name&gt;org.jooq.meta.postgres.PostgresDatabase&lt;/name&gt;\n        &lt;inputSchema&gt;public&lt;/inputSchema&gt;\n        &lt;includes&gt;task&lt;/includes&gt;\n        &lt;includeTables&gt;true&lt;/includeTables&gt;\n        &lt;includeSystemTables&gt;false&lt;/includeSystemTables&gt;\n        &lt;includeInvisibleColumns&gt;false&lt;/includeInvisibleColumns&gt;\n        &lt;includeEmbeddables&gt;true&lt;/includeEmbeddables&gt;\n        &lt;includeRoutines&gt;false&lt;/includeRoutines&gt;\n        &lt;forcedTypes&gt;\n            &lt;forcedType&gt;\n                &lt;name&gt;INSTANT&lt;/name&gt;\n                &lt;includeTypes&gt;timestamptz&lt;/includeTypes&gt;\n            &lt;/forcedType&gt;\n        &lt;/forcedTypes&gt;\n    &lt;/database&gt;\n\n    &lt;target&gt;\n        ...\n    &lt;/target&gt;\n&lt;/generator&gt;\n</code></pre>\n<p>When I run codegen, I get:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Task implements Serializable {\n    \n    private Object status;\n    ...\n}\n</code></pre>\n<p>While I found no direct answer on whether jOOQ can indeed generate a Java enum type from this column type, it <em>sounds</em> like <a href=\"https://stackoverflow.com/questions/57795587/jooq-codegen-for-enum-in-another-schema\">it just works for others</a>. I am aware that I can implement custom generators or use an enum converter, but I want to know if Java enums can be generated out-of-the-box and I'm just doing it wrong. I'm on jOOQ 3.17.13.</p>\n"},{"tags":["java","encryption","cryptography","aes","intrinsics"],"owner":{"account_id":28954964,"reputation":35,"user_id":22178719,"display_name":"schegga_BC"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697707682,"creation_date":1697707682,"question_id":77322546,"body_markdown":"Let&#39;s assume I am using the AES-encryption from javax.crypto like this:\r\n\r\n ``` \r\nbyte[] plaintext = Files.readAllBytes(...);\r\nSecretKeySpec keySpec = new SecretKeySpec(keyByte, &quot;AES&quot;);\r\nbyte[] iv = new byte[] {\r\n                    (byte)0xF0, (byte)0xF1, (byte)0xF2, (byte)0xF3, (byte)0xF4, (byte)0xF5, (byte)0xF6, (byte)0xF7,\r\n                    (byte)0xF8, (byte)0xF9, (byte)0xFA, (byte)0xFB, (byte)0xFC, (byte)0xFD, (byte)0xFE, (byte)0xFF\r\n                };\r\nIvParameterSpec ivSpec = new IvParameterSpec(iv);\r\nCipher cipher = Cipher.getInstance(&quot;AES/CTR/NoPadding&quot;, &quot;SunJCE&quot;);\r\ncipher.init(Cipher.ENCRYPT_MODE, keySpec, ivSpec);\r\nencryptedJavax = cipher.doFinal(plaintext);\r\n ```\r\n\r\nWith `Cipher.getInstance(&quot;AES/CTR/NoPadding&quot;, &quot;SunJCE&quot;);` I am making sure that java uses the SunJCE-provider for the implementation of AES-encryption and for the CTR-mode.\r\nThe newest code-version of JavaJDK can be found here:\r\nfor the AES-Encrypion: [AES-Crypt.java][1]\r\nand for the CTR-Mode: [CounterMode.java][2]\r\n\r\nLets look at at AES-Crypt.java. The real block-encryption is implemented with this function: \r\n``` \r\n// Encryption operation. Possibly replaced with a compiler intrinsic.\r\n    @IntrinsicCandidate\r\n    private void implEncryptBlock(byte[] in, int inOffset,\r\n                                  byte[] out, int outOffset)\r\n...\r\n``` \r\nIs there a possibility to check if this function is replaced when I am running `cipher.init(Cipher.ENCRYPT_MODE, keySpec, ivSpec);` like I showed in the first code example? \r\nWhat does this IntrinsicCandidate do? Where can I find the implementation for that?\r\nI would like to lookup the code that is used for the encryption when I am running the init-function in order to compare this to another implementation. \r\n\r\nthe same with the CTR-Mode:\r\n``` \r\n // Implementation of crpyt() method. Possibly replaced with a compiler intrinsic.\r\n    @IntrinsicCandidate\r\n    private int implCrypt(byte[] in, int inOff, int len, byte[] out, int outOff)\r\n``` \r\nThis method is used for the CTR-Mode, but it may be replaced. I also would like to see if it is really replaced when I am runnig the init-Method.\r\n\r\n  [1]: https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/com/sun/crypto/provider/AESCrypt.java\r\n  [2]: https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/com/sun/crypto/provider/CounterMode.java","title":"Javax Crypto - Intrinsic Candidate in AESCrypt.java","body":"<p>Let's assume I am using the AES-encryption from javax.crypto like this:</p>\n<pre><code>byte[] plaintext = Files.readAllBytes(...);\nSecretKeySpec keySpec = new SecretKeySpec(keyByte, &quot;AES&quot;);\nbyte[] iv = new byte[] {\n                   (byte)0xF0, (byte)0xF1, (byte)0xF2, (byte)0xF3, (byte)0xF4, (byte)0xF5, (byte)0xF6, (byte)0xF7,\n                   (byte)0xF8, (byte)0xF9, (byte)0xFA, (byte)0xFB, (byte)0xFC, (byte)0xFD, (byte)0xFE, (byte)0xFF\n               };\nIvParameterSpec ivSpec = new IvParameterSpec(iv);\nCipher cipher = Cipher.getInstance(&quot;AES/CTR/NoPadding&quot;, &quot;SunJCE&quot;);\ncipher.init(Cipher.ENCRYPT_MODE, keySpec, ivSpec);\nencryptedJavax = cipher.doFinal(plaintext);\n</code></pre>\n<p>With <code>Cipher.getInstance(&quot;AES/CTR/NoPadding&quot;, &quot;SunJCE&quot;);</code> I am making sure that java uses the SunJCE-provider for the implementation of AES-encryption and for the CTR-mode.\nThe newest code-version of JavaJDK can be found here:\nfor the AES-Encrypion: <a href=\"https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/com/sun/crypto/provider/AESCrypt.java\" rel=\"nofollow noreferrer\">AES-Crypt.java</a>\nand for the CTR-Mode: <a href=\"https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/com/sun/crypto/provider/CounterMode.java\" rel=\"nofollow noreferrer\">CounterMode.java</a></p>\n<p>Lets look at at AES-Crypt.java. The real block-encryption is implemented with this function:</p>\n<pre><code>// Encryption operation. Possibly replaced with a compiler intrinsic.\n    @IntrinsicCandidate\n    private void implEncryptBlock(byte[] in, int inOffset,\n                                  byte[] out, int outOffset)\n...\n</code></pre>\n<p>Is there a possibility to check if this function is replaced when I am running <code>cipher.init(Cipher.ENCRYPT_MODE, keySpec, ivSpec);</code> like I showed in the first code example?\nWhat does this IntrinsicCandidate do? Where can I find the implementation for that?\nI would like to lookup the code that is used for the encryption when I am running the init-function in order to compare this to another implementation.</p>\n<p>the same with the CTR-Mode:</p>\n<pre><code> // Implementation of crpyt() method. Possibly replaced with a compiler intrinsic.\n    @IntrinsicCandidate\n    private int implCrypt(byte[] in, int inOff, int len, byte[] out, int outOff)\n</code></pre>\n<p>This method is used for the CTR-Mode, but it may be replaced. I also would like to see if it is really replaced when I am runnig the init-Method.</p>\n"},{"tags":["java","c++","java-native-interface"],"comments":[{"owner":{"account_id":1511352,"reputation":1,"user_id":1413395,"accept_rate":92,"display_name":"πάντα ῥεῖ"},"score":2,"creation_date":1462996559,"post_id":37172092,"comment_id":61878945,"body_markdown":"Define _efficiency_ please. For speed, or easy to use and maintain code.","body":"Define <i>efficiency</i> please. For speed, or easy to use and maintain code."},{"owner":{"account_id":80415,"reputation":8564,"user_id":227426,"accept_rate":80,"display_name":"Robben_Ford_Fan_boy"},"score":0,"creation_date":1462996823,"post_id":37172092,"comment_id":61879092,"body_markdown":"Efficiency only applies to speed right?  I would have asked for the simplest method otherwise :)","body":"Efficiency only applies to speed right?  I would have asked for the simplest method otherwise :)"},{"owner":{"account_id":1511352,"reputation":1,"user_id":1413395,"accept_rate":92,"display_name":"πάντα ῥεῖ"},"score":1,"creation_date":1462997126,"post_id":37172092,"comment_id":61879249,"body_markdown":"_&quot;Efficiency only applies to speed right?&quot;_ No. That totally depends on your actual requirements priority.","body":"<i>&quot;Efficiency only applies to speed right?&quot;</i> No. That totally depends on your actual requirements priority."},{"owner":{"account_id":6418119,"reputation":3102,"user_id":4975646,"display_name":"callyalater"},"score":0,"creation_date":1462998726,"post_id":37172092,"comment_id":61880101,"body_markdown":"Those *two* ways are the *three* most common ways of doing that...","body":"Those <i>two</i> ways are the <i>three</i> most common ways of doing that..."},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1463001536,"post_id":37172092,"comment_id":61881569,"body_markdown":"Maybe I don&#39;t fully grasp the meaning of SWIG, but isn&#39;t kind of the same thing as what the _JNI Invocation API_ is?  (The invocation API allows you to embed a JVM in a C or C++ program.  It&#39;s somewhat more complicated than using JNI merely to invoke native methods from within a Java program.)","body":"Maybe I don&#39;t fully grasp the meaning of SWIG, but isn&#39;t kind of the same thing as what the <i>JNI Invocation API</i> is?  (The invocation API allows you to embed a JVM in a C or C++ program.  It&#39;s somewhat more complicated than using JNI merely to invoke native methods from within a Java program.)"},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1463001625,"post_id":37172092,"comment_id":61881611,"body_markdown":"How about running the Java code and the C++ code as separate micro-services that communicate with each other via some kind of network API?","body":"How about running the Java code and the C++ code as separate micro-services that communicate with each other via some kind of network API?"}],"answers":[{"tags":[],"owner":{"account_id":449256,"reputation":2122,"user_id":843943,"accept_rate":75,"display_name":"Grim"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1462996677,"creation_date":1462996677,"answer_id":37172172,"question_id":37172092,"body_markdown":"JNI would be the best approach. Notice that javah creates compatible header-files for your java-class, its very tricky to to write compatible header-files by your own, so please use javah.","title":"What is the most efficient (fastest) way of passing data from C++ to Java?","body":"<p>JNI would be the best approach. Notice that javah creates compatible header-files for your java-class, its very tricky to to write compatible header-files by your own, so please use javah.</p>\n"},{"tags":[],"owner":{"account_id":8281663,"reputation":79,"user_id":6226152,"display_name":"Jason Smith"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1462996722,"creation_date":1462996722,"answer_id":37172186,"question_id":37172092,"body_markdown":"Java Native Interface allows you to pass anything back and forth between C++ and Java. It supports both directions, but can be tricky. There are others you can look at Swig is one and then you have JNA. I would go with JNI","title":"What is the most efficient (fastest) way of passing data from C++ to Java?","body":"<p>Java Native Interface allows you to pass anything back and forth between C++ and Java. It supports both directions, but can be tricky. There are others you can look at Swig is one and then you have JNA. I would go with JNI</p>\n"}],"owner":{"account_id":80415,"reputation":8564,"user_id":227426,"accept_rate":80,"display_name":"Robben_Ford_Fan_boy"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":210,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1463016279,"answer_count":2,"score":0,"last_activity_date":1697707568,"creation_date":1462996382,"question_id":37172092,"body_markdown":"What is the most efficient way of passing data from C++ to Java?\r\n\r\nThe Java application will need to call the C++ application to retrieve the data.\r\n\r\nI can see the following ways of achieving this:\r\n\r\n 1. Using JNI\r\n 2. Using a file based approach\r\n 3. Using SWIG\r\n\r\nMy current thinking is to use JNI. Am I missing a better method before I commit?","title":"What is the most efficient (fastest) way of passing data from C++ to Java?","body":"<p>What is the most efficient way of passing data from C++ to Java?</p>\n<p>The Java application will need to call the C++ application to retrieve the data.</p>\n<p>I can see the following ways of achieving this:</p>\n<ol>\n<li>Using JNI</li>\n<li>Using a file based approach</li>\n<li>Using SWIG</li>\n</ol>\n<p>My current thinking is to use JNI. Am I missing a better method before I commit?</p>\n"},{"tags":["java","r2dbc"],"owner":{"account_id":2058509,"reputation":195,"user_id":1835668,"display_name":"mkalmo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697707355,"creation_date":1697706218,"question_id":77322376,"body_markdown":"R2DBC provides non blocking database connections. I would like to know what is the exact benefit of that? \r\n\r\nTo test the difference I made a simple Spring Boot application with R2dbcRepository and a query\r\n\r\n```\r\n@Query(&quot;select 42 as id from pg_sleep(1)&quot;)\r\nFlux&lt;Item&gt; test();\r\n```\r\n\r\nIf I make 50 concurrent queries then it takes 5 seconds. I would think that default pool size is 10.\r\n\r\nSo, in this particular case there seems not to by any difference between blocking db access and non-blocking.\r\n\r\nWhich test would demonstrate the benefit of using R2DBC driver over blocking driver? Or is it only that application can use CPU for other things while waiting for the database and it does not increase the throughput of the database?\r\n","title":"R2DBC perfomance evaluation","body":"<p>R2DBC provides non blocking database connections. I would like to know what is the exact benefit of that?</p>\n<p>To test the difference I made a simple Spring Boot application with R2dbcRepository and a query</p>\n<pre><code>@Query(&quot;select 42 as id from pg_sleep(1)&quot;)\nFlux&lt;Item&gt; test();\n</code></pre>\n<p>If I make 50 concurrent queries then it takes 5 seconds. I would think that default pool size is 10.</p>\n<p>So, in this particular case there seems not to by any difference between blocking db access and non-blocking.</p>\n<p>Which test would demonstrate the benefit of using R2DBC driver over blocking driver? Or is it only that application can use CPU for other things while waiting for the database and it does not increase the throughput of the database?</p>\n"},{"tags":["java","struts-1"],"owner":{"account_id":3549364,"reputation":133,"user_id":2964585,"accept_rate":25,"display_name":"jetberay"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697706506,"creation_date":1697699349,"question_id":77321661,"body_markdown":"I&#39;m getting a blank page when there is a sudden db disconnection error, and I want to redirect it to the error page rather than seeing it blank. But my problem is, my exception handler class is not catching any errors when the application is disconnected with the database. \r\n\r\n    public class LMExceptionHandler extends ExceptionHandler {\r\n\r\n        protected Log log = LogFactory.getFactory().getInstance(this.getClass().getName());\r\n\r\n        @Override\r\n        public ActionForward execute(Exception ex, ExceptionConfig ae,\r\n                                    ActionMapping mapping,\r\n                                    ActionForm form,\r\n                                    HttpServletRequest request,\r\n                                    HttpServletResponse response) throws ServletException{\r\n\r\n            log.debug(&quot;==========================&gt;&gt;&gt;&gt;&gt;&gt; EXECUTE WHEN PAGE IS BLANK!&quot;);\r\n\r\n        return super.execute(ex, ae, mapping, form, request, response);\r\n        }\r\n\r\n\r\n    }\r\n\r\nstruts-config.xml\r\n\r\n        &lt;global-exceptions&gt;\r\n            &lt;exception\r\n                key=&quot;error.exception.message&quot;\r\n                type=&quot;java.lang.Exception&quot;\r\n                handler=&quot;com.mypackage.LMExceptionHandler&quot;\r\n                path=&quot;/error.jsp&quot; /&gt;\r\n        &lt;/global-exceptions&gt;\r\n\r\n    \r\nalready tried: \r\n    \r\n    java.lang.Throwable\r\n    java.io.IOException\r\n    java.sql.SQLException\r\n\r\nThis is the log error that is not being catch by the handler.\r\n\r\n    The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\r\n    tomcat_1               | org.hibernate.exception.JDBCConnectionException: Cannot open connection\r\n    tomcat_1               | \tat org.hibernate.exception.SQLStateConverter.convert(SQLStateConverter.java:99)\r\n    tomcat_1               | \tat org.hibernate.exception.JDBCExceptionHelper.convert(JDBCExceptionHelper.java:66)\r\n    tomcat_1               | \tat org.hibernate.exception.JDBCExceptionHelper.convert(JDBCExceptionHelper.java:52)\r\n    tomcat_1               | \tat org.hibernate.jdbc.ConnectionManager.openConnection(ConnectionManager.java:449)\r\n    tomcat_1               | \tat org.hibernate.jdbc.ConnectionManager.getConnection(ConnectionManager.java:167)\r\n    tomcat_1               | \tat org.hibernate.jdbc.JDBCContext.connection(JDBCContext.java:160)\r\n    tomcat_1               | \tat org.hibernate.transaction.JDBCTransaction.begin(JDBCTransaction.java:81)\r\n    tomcat_1               | \tat org.hibernate.impl.SessionImpl.beginTransaction(SessionImpl.java:1473)\r\n    tomcat_1               | \tat sun.reflect.GeneratedMethodAccessor130.invoke(Unknown Source)\r\n    tomcat_1               | \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    tomcat_1               | \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    tomcat_1               | \tat org.hibernate.context.ThreadLocalSessionContext$TransactionProtectionWrapper.invoke(ThreadLocalSessionContext.java:345)\r\n    tomcat_1               | \tat com.sun.proxy.$Proxy93.beginTransaction(Unknown Source)\r\n    tomcat_1               | \tat com.legalmatch.legalmatch.common.hibernate.HibernateSessionFactory.getSession(HibernateSessionFactory.java:99)\r\n    tomcat_1               | \tat com.legalmatch.legalmatch.common.hibernate.HibernateSessionFactory.getSession(HibernateSessionFactory.java:86)\r\n    tomcat_1               | \tat com.legalmatch.legalmatch.common.hibernate.HibernateThreadFilter.doFilter(HibernateThreadFilter.java:32)\r\n    tomcat_1               | \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n    tomcat_1               | \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n    tomcat_1               | \tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)\r\n    tomcat_1               | \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n    tomcat_1               | \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n    tomcat_1               | \tat org.apache.catalina.filters.AddDefaultCharsetFilter.doFilter(AddDefaultCharsetFilter.java:89)\r\n    tomcat_1               | \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n    tomcat_1               | \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n    tomcat_1               | \tat org.apache.catalina.filters.SetCharacterEncodingFilter.doFilter(SetCharacterEncodingFilter.java:109)\r\n    tomcat_1               | \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n    tomcat_1               | \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n    tomcat_1               | \tat com.legalmatch.legalmatch.servlet.ProxyRemoteAddrFilter.doFilter(ProxyRemoteAddrFilter.java:46)\r\n    tomcat_1               | \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n    tomcat_1               | \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n    tomcat_1               | \tat com.legalmatch.legalmatch.external.itrack.EmailTrackingServletFilter.doFilter(EmailTrackingServletFilter.java:40)\r\n    tomcat_1               | \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n    tomcat_1               | \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n    tomcat_1               | \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:199)\r\n    tomcat_1               | \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)\r\n    tomcat_1               | \tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:493)\r\n    tomcat_1               | \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:137)\r\n    tomcat_1               | \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)\r\n    tomcat_1               | \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)\r\n    tomcat_1               | \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\r\n    tomcat_1               | \tat org.apache.coyote.ajp.AjpProcessor.service(AjpProcessor.java:476)\r\n    tomcat_1               | \tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)\r\n    tomcat_1               | \tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:808)\r\n    tomcat_1               | \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1498)\r\n    tomcat_1               | \tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n    tomcat_1               | \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n    tomcat_1               | \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n    tomcat_1               | \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n    tomcat_1               | \tat java.lang.Thread.run(Thread.java:748)\r\n    tomcat_1               | Caused by: com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure\r\n    tomcat_1               | \r\n    tomcat_1               | The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\r\n    tomcat_1               | \tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n    tomcat_1               | \tat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n    tomcat_1               | \tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n     tomcat_1               | \tat java.lang.reflect.Constructor.newInstance(Constructor.java:423)\r\n    tomcat_1               | \tat com.mysql.jdbc.Util.handleNewInstance(Util.java:425)\r\n    tomcat_1               | \tat com.mysql.jdbc.SQLError.createCommunicationsException(SQLError.java:990)\r\n    tomcat_1               | \tat com.mysql.jdbc.MysqlIO.&lt;init&gt;(MysqlIO.java:335)\r\n    tomcat_1               | \tat com.mysql.jdbc.ConnectionImpl.coreConnect(ConnectionImpl.java:2187)\r\n    tomcat_1               | \tat com.mysql.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:2220)\r\n    tomcat_1               | \tat com.mysql.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:2015)\r\n    tomcat_1               | \tat com.mysql.jdbc.ConnectionImpl.&lt;init&gt;(ConnectionImpl.java:768)\r\n    tomcat_1               | \tat com.mysql.jdbc.JDBC4Connection.&lt;init&gt;(JDBC4Connection.java:47)\r\n    tomcat_1               | \tat sun.reflect.GeneratedConstructorAccessor110.newInstance(Unknown Source)\r\n    tomcat_1               | \tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n    tomcat_1               | \tat java.lang.reflect.Constructor.newInstance(Constructor.java:423)\r\n    tomcat_1               | \tat com.mysql.jdbc.Util.handleNewInstance(Util.java:425)\r\n    tomcat_1               | \tat com.mysql.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:385)\r\n    tomcat_1               | \tat com.mysql.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:323)\r\n    tomcat_1               | \tat org.apache.tomcat.jdbc.pool.PooledConnection.connectUsingDriver(PooledConnection.java:319)\r\n    tomcat_1               | \tat org.apache.tomcat.jdbc.pool.PooledConnection.connect(PooledConnection.java:212)\r\n    tomcat_1               | \tat org.apache.tomcat.jdbc.pool.PooledConnection.reconnect(PooledConnection.java:372)\r\n    tomcat_1               | \tat org.apache.tomcat.jdbc.pool.ConnectionPool.borrowConnection(ConnectionPool.java:822)\r\n    tomcat_1               | \tat org.apache.tomcat.jdbc.pool.ConnectionPool.borrowConnection(ConnectionPool.java:652)\r\n    tomcat_1               | \tat org.apache.tomcat.jdbc.pool.ConnectionPool.getConnection(ConnectionPool.java:198)\r\n    tomcat_1               | \tat org.apache.tomcat.jdbc.pool.DataSourceProxy.getConnection(DataSourceProxy.java:132)\r\n    tomcat_1               | \tat org.hibernate.connection.DatasourceConnectionProvider.getConnection(DatasourceConnectionProvider.java:92)\r\n    tomcat_1               | \tat org.hibernate.jdbc.ConnectionManager.openConnection(ConnectionManager.java:446)\r\n    tomcat_1               | \t... 45 more\r\n    tomcat_1               | Caused by: java.net.NoRouteToHostException: No route to host (Host unreachable)\r\n    tomcat_1               | \tat java.net.PlainSocketImpl.socketConnect(Native Method)\r\n    tomcat_1               | \tat java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)\r\n    tomcat_1               | \tat java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)\r\n    tomcat_1               | \tat java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)\r\n    tomcat_1               | \tat java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)\r\n    tomcat_1               | \tat java.net.Socket.connect(Socket.java:589)\r\n    tomcat_1               | \tat com.mysql.jdbc.StandardSocketFactory.connect(StandardSocketFactory.java:211)\r\n    tomcat_1               | \tat com.mysql.jdbc.MysqlIO.&lt;init&gt;(MysqlIO.java:299)\r\n    tomcat_1               | \t... 65 more\r\n","title":"Global exception is not catching a sudden db disconnection error in Struts 1","body":"<p>I'm getting a blank page when there is a sudden db disconnection error, and I want to redirect it to the error page rather than seeing it blank. But my problem is, my exception handler class is not catching any errors when the application is disconnected with the database.</p>\n<pre><code>public class LMExceptionHandler extends ExceptionHandler {\n\n    protected Log log = LogFactory.getFactory().getInstance(this.getClass().getName());\n\n    @Override\n    public ActionForward execute(Exception ex, ExceptionConfig ae,\n                                ActionMapping mapping,\n                                ActionForm form,\n                                HttpServletRequest request,\n                                HttpServletResponse response) throws ServletException{\n\n        log.debug(&quot;==========================&gt;&gt;&gt;&gt;&gt;&gt; EXECUTE WHEN PAGE IS BLANK!&quot;);\n\n    return super.execute(ex, ae, mapping, form, request, response);\n    }\n\n\n}\n</code></pre>\n<p>struts-config.xml</p>\n<pre><code>    &lt;global-exceptions&gt;\n        &lt;exception\n            key=&quot;error.exception.message&quot;\n            type=&quot;java.lang.Exception&quot;\n            handler=&quot;com.mypackage.LMExceptionHandler&quot;\n            path=&quot;/error.jsp&quot; /&gt;\n    &lt;/global-exceptions&gt;\n</code></pre>\n<p>already tried:</p>\n<pre><code>java.lang.Throwable\njava.io.IOException\njava.sql.SQLException\n</code></pre>\n<p>This is the log error that is not being catch by the handler.</p>\n<pre><code>The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\ntomcat_1               | org.hibernate.exception.JDBCConnectionException: Cannot open connection\ntomcat_1               |    at org.hibernate.exception.SQLStateConverter.convert(SQLStateConverter.java:99)\ntomcat_1               |    at org.hibernate.exception.JDBCExceptionHelper.convert(JDBCExceptionHelper.java:66)\ntomcat_1               |    at org.hibernate.exception.JDBCExceptionHelper.convert(JDBCExceptionHelper.java:52)\ntomcat_1               |    at org.hibernate.jdbc.ConnectionManager.openConnection(ConnectionManager.java:449)\ntomcat_1               |    at org.hibernate.jdbc.ConnectionManager.getConnection(ConnectionManager.java:167)\ntomcat_1               |    at org.hibernate.jdbc.JDBCContext.connection(JDBCContext.java:160)\ntomcat_1               |    at org.hibernate.transaction.JDBCTransaction.begin(JDBCTransaction.java:81)\ntomcat_1               |    at org.hibernate.impl.SessionImpl.beginTransaction(SessionImpl.java:1473)\ntomcat_1               |    at sun.reflect.GeneratedMethodAccessor130.invoke(Unknown Source)\ntomcat_1               |    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\ntomcat_1               |    at java.lang.reflect.Method.invoke(Method.java:498)\ntomcat_1               |    at org.hibernate.context.ThreadLocalSessionContext$TransactionProtectionWrapper.invoke(ThreadLocalSessionContext.java:345)\ntomcat_1               |    at com.sun.proxy.$Proxy93.beginTransaction(Unknown Source)\ntomcat_1               |    at com.legalmatch.legalmatch.common.hibernate.HibernateSessionFactory.getSession(HibernateSessionFactory.java:99)\ntomcat_1               |    at com.legalmatch.legalmatch.common.hibernate.HibernateSessionFactory.getSession(HibernateSessionFactory.java:86)\ntomcat_1               |    at com.legalmatch.legalmatch.common.hibernate.HibernateThreadFilter.doFilter(HibernateThreadFilter.java:32)\ntomcat_1               |    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\ntomcat_1               |    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\ntomcat_1               |    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)\ntomcat_1               |    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\ntomcat_1               |    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\ntomcat_1               |    at org.apache.catalina.filters.AddDefaultCharsetFilter.doFilter(AddDefaultCharsetFilter.java:89)\ntomcat_1               |    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\ntomcat_1               |    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\ntomcat_1               |    at org.apache.catalina.filters.SetCharacterEncodingFilter.doFilter(SetCharacterEncodingFilter.java:109)\ntomcat_1               |    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\ntomcat_1               |    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\ntomcat_1               |    at com.legalmatch.legalmatch.servlet.ProxyRemoteAddrFilter.doFilter(ProxyRemoteAddrFilter.java:46)\ntomcat_1               |    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\ntomcat_1               |    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\ntomcat_1               |    at com.legalmatch.legalmatch.external.itrack.EmailTrackingServletFilter.doFilter(EmailTrackingServletFilter.java:40)\ntomcat_1               |    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\ntomcat_1               |    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\ntomcat_1               |    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:199)\ntomcat_1               |    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)\ntomcat_1               |    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:493)\ntomcat_1               |    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:137)\ntomcat_1               |    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)\ntomcat_1               |    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)\ntomcat_1               |    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\ntomcat_1               |    at org.apache.coyote.ajp.AjpProcessor.service(AjpProcessor.java:476)\ntomcat_1               |    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)\ntomcat_1               |    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:808)\ntomcat_1               |    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1498)\ntomcat_1               |    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\ntomcat_1               |    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\ntomcat_1               |    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\ntomcat_1               |    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\ntomcat_1               |    at java.lang.Thread.run(Thread.java:748)\ntomcat_1               | Caused by: com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure\ntomcat_1               | \ntomcat_1               | The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\ntomcat_1               |    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\ntomcat_1               |    at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\ntomcat_1               |    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n tomcat_1               |   at java.lang.reflect.Constructor.newInstance(Constructor.java:423)\ntomcat_1               |    at com.mysql.jdbc.Util.handleNewInstance(Util.java:425)\ntomcat_1               |    at com.mysql.jdbc.SQLError.createCommunicationsException(SQLError.java:990)\ntomcat_1               |    at com.mysql.jdbc.MysqlIO.&lt;init&gt;(MysqlIO.java:335)\ntomcat_1               |    at com.mysql.jdbc.ConnectionImpl.coreConnect(ConnectionImpl.java:2187)\ntomcat_1               |    at com.mysql.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:2220)\ntomcat_1               |    at com.mysql.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:2015)\ntomcat_1               |    at com.mysql.jdbc.ConnectionImpl.&lt;init&gt;(ConnectionImpl.java:768)\ntomcat_1               |    at com.mysql.jdbc.JDBC4Connection.&lt;init&gt;(JDBC4Connection.java:47)\ntomcat_1               |    at sun.reflect.GeneratedConstructorAccessor110.newInstance(Unknown Source)\ntomcat_1               |    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\ntomcat_1               |    at java.lang.reflect.Constructor.newInstance(Constructor.java:423)\ntomcat_1               |    at com.mysql.jdbc.Util.handleNewInstance(Util.java:425)\ntomcat_1               |    at com.mysql.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:385)\ntomcat_1               |    at com.mysql.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:323)\ntomcat_1               |    at org.apache.tomcat.jdbc.pool.PooledConnection.connectUsingDriver(PooledConnection.java:319)\ntomcat_1               |    at org.apache.tomcat.jdbc.pool.PooledConnection.connect(PooledConnection.java:212)\ntomcat_1               |    at org.apache.tomcat.jdbc.pool.PooledConnection.reconnect(PooledConnection.java:372)\ntomcat_1               |    at org.apache.tomcat.jdbc.pool.ConnectionPool.borrowConnection(ConnectionPool.java:822)\ntomcat_1               |    at org.apache.tomcat.jdbc.pool.ConnectionPool.borrowConnection(ConnectionPool.java:652)\ntomcat_1               |    at org.apache.tomcat.jdbc.pool.ConnectionPool.getConnection(ConnectionPool.java:198)\ntomcat_1               |    at org.apache.tomcat.jdbc.pool.DataSourceProxy.getConnection(DataSourceProxy.java:132)\ntomcat_1               |    at org.hibernate.connection.DatasourceConnectionProvider.getConnection(DatasourceConnectionProvider.java:92)\ntomcat_1               |    at org.hibernate.jdbc.ConnectionManager.openConnection(ConnectionManager.java:446)\ntomcat_1               |    ... 45 more\ntomcat_1               | Caused by: java.net.NoRouteToHostException: No route to host (Host unreachable)\ntomcat_1               |    at java.net.PlainSocketImpl.socketConnect(Native Method)\ntomcat_1               |    at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)\ntomcat_1               |    at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)\ntomcat_1               |    at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)\ntomcat_1               |    at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)\ntomcat_1               |    at java.net.Socket.connect(Socket.java:589)\ntomcat_1               |    at com.mysql.jdbc.StandardSocketFactory.connect(StandardSocketFactory.java:211)\ntomcat_1               |    at com.mysql.jdbc.MysqlIO.&lt;init&gt;(MysqlIO.java:299)\ntomcat_1               |    ... 65 more\n</code></pre>\n"},{"tags":["java","hibernate","h2","uniqueidentifier"],"answers":[{"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1628179633,"creation_date":1628179633,"answer_id":68670037,"question_id":68642025,"body_markdown":"Why are you using a native query? Just use a JPQL/HQL query:\r\n\r\n```\r\nTypedQuery&lt;Task&gt; query = entityManager.createQuery(&quot;SELECT t from Task \r\n t where t.id=?&quot;, Task.class);\r\nquery.setParameter(1, id);\r\nList&lt;Task&gt; tasks = query.getResultList();\r\n```","title":"is there a way to make Hibernate convert UNIQUEIDENTIFIER type data to String for H2 DB while querying?","body":"<p>Why are you using a native query? Just use a JPQL/HQL query:</p>\n<pre><code>TypedQuery&lt;Task&gt; query = entityManager.createQuery(&quot;SELECT t from Task \n t where t.id=?&quot;, Task.class);\nquery.setParameter(1, id);\nList&lt;Task&gt; tasks = query.getResultList();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5145207,"reputation":2728,"user_id":4121405,"accept_rate":0,"display_name":"alok"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697706211,"creation_date":1697706211,"answer_id":77322370,"question_id":68642025,"body_markdown":"We need to use compatibility modes with h2 db url like below:\r\n\r\n1. To use the MS SQL Server mode, use the database URL jdbc:h2:~/test;MODE=MSSQLServer;DATABASE_TO_UPPER=FALSE;CASE_INSENSITIVE_IDENTIFIERS=TRUE. Do not change value of DATABASE_TO_LOWER and CASE_INSENSITIVE_IDENTIFIERS after creation of\r\n\r\n2. To use the IBM DB2 mode, use the database URL jdbc:h2:~/test;MODE=DB2;DEFAULT_NULL_ORDERING=HIGH or the SQL statement SET MODE DB2.\r\n\r\nFor more details [https://www.h2database.com/html/features.html#compatibility][1]\r\n\r\n\r\n  [1]: https://www.h2database.com/html/features.html#compatibility","title":"is there a way to make Hibernate convert UNIQUEIDENTIFIER type data to String for H2 DB while querying?","body":"<p>We need to use compatibility modes with h2 db url like below:</p>\n<ol>\n<li><p>To use the MS SQL Server mode, use the database URL jdbc:h2:~/test;MODE=MSSQLServer;DATABASE_TO_UPPER=FALSE;CASE_INSENSITIVE_IDENTIFIERS=TRUE. Do not change value of DATABASE_TO_LOWER and CASE_INSENSITIVE_IDENTIFIERS after creation of</p>\n</li>\n<li><p>To use the IBM DB2 mode, use the database URL jdbc:h2:~/test;MODE=DB2;DEFAULT_NULL_ORDERING=HIGH or the SQL statement SET MODE DB2.</p>\n</li>\n</ol>\n<p>For more details <a href=\"https://www.h2database.com/html/features.html#compatibility\" rel=\"nofollow noreferrer\">https://www.h2database.com/html/features.html#compatibility</a></p>\n"}],"owner":{"account_id":5239463,"reputation":179,"user_id":4187022,"accept_rate":33,"display_name":"Rajesh Sethi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":680,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1697706211,"creation_date":1628020190,"question_id":68642025,"body_markdown":"We are using H2 DB for Integration tests/local development and Azure SQL Server for the stage environment. There are instances where a query that works fine for SQL Server, doesn’t work for H2 DB and vice-versa.\r\n\r\nOne such instance is when using **uniqueidentifier** data type for the UUID type column in SQL Server. The JPA/Hibernate is compatible with uniqueidentifier data type and maps well with Java.util.UUID type. On Save, the UUID gets stored properly in UUID format. On fetch (select query), the UUID is returned as a string, which can be converted to a UUID with UUID.fromString() API.\r\n\r\nBut that’s not the case with H2 DB. Automatically, The Hibernate creates the column with type as Binary(255) for Java.util.UUID attribute. On Save, the UUID gets stored as non UUID format (Hex format). On fetch(select query) it comes as Byte[].\r\n\r\nThus code breaks where you try to transform a query resultSet to a Java object.\r\n\r\nWe tried using @Column(columnDefinition = &quot;uniqueidentifier&quot;) annotation on UUID type attribute in Entity. With this change, now the data type of the column is changed to uniqueidentifier. However, on fetch, the Hibernate still converts it to Byte[].  \r\n\r\nEntity:\r\n``` @Entity\r\n@ToString\r\n@Table(name=&quot;TASK&quot;)\r\npublic class Task {\r\n    @Id\r\n    @Column(columnDefinition = &quot;UNIQUEIDENTIFIER&quot;)\r\n    private UUID id;\r\n    private String name;\r\n} \r\n```\r\n\r\nQuery &amp; Transformation:\r\n```\r\n        Query query = entityManager.createNativeQuery(&quot;SELECT id, name from task where id=?&quot;);\r\n        query.setParameter(1,id);\r\n        List&lt;Object[]&gt; resultList = query.getResultList();\r\n        Task task = null;\r\n        for (Object[] row: resultList) {\r\n            Integer rowIndex =0;\r\n                                                    /***Code fails here***/\r\n            task = Task.builder().id(UUID.fromString((String) row[rowIndex])).name((String) row[rowIndex+1]).build();\r\n        }\r\n```\r\nOther Details: \r\n```\r\nH2 version: 1.4.200\r\nHibernate version: 5.4.28.Final\r\n```\r\nI want to know if there is a better way to handle this? or am I missing something in my implementation?\r\n\r\n\r\n\r\n\r\n","title":"is there a way to make Hibernate convert UNIQUEIDENTIFIER type data to String for H2 DB while querying?","body":"<p>We are using H2 DB for Integration tests/local development and Azure SQL Server for the stage environment. There are instances where a query that works fine for SQL Server, doesn’t work for H2 DB and vice-versa.</p>\n<p>One such instance is when using <strong>uniqueidentifier</strong> data type for the UUID type column in SQL Server. The JPA/Hibernate is compatible with uniqueidentifier data type and maps well with Java.util.UUID type. On Save, the UUID gets stored properly in UUID format. On fetch (select query), the UUID is returned as a string, which can be converted to a UUID with UUID.fromString() API.</p>\n<p>But that’s not the case with H2 DB. Automatically, The Hibernate creates the column with type as Binary(255) for Java.util.UUID attribute. On Save, the UUID gets stored as non UUID format (Hex format). On fetch(select query) it comes as Byte[].</p>\n<p>Thus code breaks where you try to transform a query resultSet to a Java object.</p>\n<p>We tried using @Column(columnDefinition = &quot;uniqueidentifier&quot;) annotation on UUID type attribute in Entity. With this change, now the data type of the column is changed to uniqueidentifier. However, on fetch, the Hibernate still converts it to Byte[].</p>\n<p>Entity:</p>\n<pre><code>@ToString\n@Table(name=&quot;TASK&quot;)\npublic class Task {\n    @Id\n    @Column(columnDefinition = &quot;UNIQUEIDENTIFIER&quot;)\n    private UUID id;\n    private String name;\n} \n</code></pre>\n<p>Query &amp; Transformation:</p>\n<pre><code>        Query query = entityManager.createNativeQuery(&quot;SELECT id, name from task where id=?&quot;);\n        query.setParameter(1,id);\n        List&lt;Object[]&gt; resultList = query.getResultList();\n        Task task = null;\n        for (Object[] row: resultList) {\n            Integer rowIndex =0;\n                                                    /***Code fails here***/\n            task = Task.builder().id(UUID.fromString((String) row[rowIndex])).name((String) row[rowIndex+1]).build();\n        }\n</code></pre>\n<p>Other Details:</p>\n<pre><code>H2 version: 1.4.200\nHibernate version: 5.4.28.Final\n</code></pre>\n<p>I want to know if there is a better way to handle this? or am I missing something in my implementation?</p>\n"},{"tags":["java","regex","email-parsing","rfc2822"],"comments":[{"owner":{"account_id":6139718,"reputation":546,"user_id":4787477,"display_name":"Emmanuel Sellier"},"score":0,"creation_date":1697705494,"post_id":62741450,"comment_id":136316846,"body_markdown":"For these who may need a similar solution for Javascript:\nhttps://regex101.com/library/SGMDYC","body":"For these who may need a similar solution for Javascript: <a href=\"https://regex101.com/library/SGMDYC\" rel=\"nofollow noreferrer\">regex101.com/library/SGMDYC</a>"}],"answers":[{"tags":[],"owner":{"account_id":4079658,"reputation":2930,"user_id":3350428,"display_name":"Andrei Odegov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1594028071,"creation_date":1594028071,"answer_id":62753203,"question_id":62741450,"body_markdown":"I want to offer the following solution. You can find a full explanation of the regular expression used [**here**](https://regex101.com/r/mAQCws/1/).\r\n```\r\nimport java.util.regex.Matcher;\r\nimport java.util.regex.Pattern;\r\nimport java.util.LinkedList;\r\nimport java.util.HashMap;\r\nimport java.lang.StringBuilder;\r\n\r\nclass Rextester {\r\n    public static void main(String[] args) {\r\n        Pattern p = Pattern.compile(&quot;(?:(Received:)|\\\\G(?!\\\\A))&quot; +\r\n                                    &quot;\\\\s*(from|by|with|id|via|for|;)&quot; +\r\n                                    &quot;\\\\s*(\\\\S+?(?:\\\\s+\\\\S+?)*?)\\\\s*&quot; +\r\n                                    &quot;(?=Received:|by|with|id|via|for|;|\\\\z)&quot;);\r\n        String text = &quot;Received: from VE1PR01MB5599.eurprd01.prod.exchangelabs.com\\n&quot; +\r\n                      &quot; (2603:10a6:7:7c::43) by HE1PR0102MB2714.eurprd01.prod.exchangelabs.com with\\n&quot; +\r\n                      &quot; HTTPS via HE1PR0402CA0054.EURPRD04.PROD.OUTLOOK.COM; Thu, 9 Jan 2020 16:34:13\\n&quot; +\r\n                      &quot; +0000\\n&quot; +\r\n                      &quot;\\n&quot; +\r\n                      &quot;Received: from VI1PR0102CA0029.eurprd01.prod.exchangelabs.com\\n&quot; +\r\n                      &quot; (2603:10a6:802::42) by VE1PR01MB5599.eurprd01.prod.exchangelabs.com\\n&quot; +\r\n                      &quot; (2603:10a6:803:11f::30) with Microsoft SMTP Server (version=TLS1_2,\\n&quot; +\r\n                      &quot; cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id 15.20.2602.12; Thu, 9 Jan\\n&quot; +\r\n                      &quot; 2020 16:34:13 +0000\\n&quot; +\r\n                      &quot;\\n&quot; +\r\n                      &quot;Received: from DB5EUR01FT034.eop-EUR01.prod.protection.outlook.com\\n&quot; +\r\n                      &quot; (2a01:111:f400:7e02::203) by VI1PR0102CA0029.outlook.office365.com\\n&quot; +\r\n                      &quot; (2603:10a6:802::42) with Microsoft SMTP Server (version=TLS1_2,\\n&quot; +\r\n                      &quot; cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id 15.20.2623.9 via Frontend\\n&quot; +\r\n                      &quot; Transport; Thu, 9 Jan 2020 16:34:13 +0000\\n&quot; +\r\n                      &quot;\\n&quot; +\r\n                      &quot;Received: from relay-out.ohc.cu (200.55.138.44) by\\n&quot; +\r\n                      &quot; DB5EUR01FT034.mail.protection.outlook.com (10.152.4.246) with Microsoft SMTP\\n&quot; +\r\n                      &quot; Server (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id\\n&quot; +\r\n                      &quot; 15.20.2623.9 via Frontend Transport; Thu, 9 Jan 2020 16:34:12 +0000\\n&quot; +\r\n                      &quot;\\n&quot; +\r\n                      &quot;Received: from relay-in.ohc.cu (relay-in.ohc.cu [127.0.0.1])\\n&quot; +\r\n                      &quot;    by relay-out.ohc.cu (Postfix) with ESMTP id 69EA722DD\\n&quot; +\r\n                      &quot;    for &lt;some.email@some.domain&gt;; Thu,  9 Jan 2020 11:29:43 -0500 (CST)\\n&quot; +\r\n                      &quot;\\n&quot; +\r\n                      &quot;Received: from relay-out.ohc.cu ([127.0.0.1])\\n&quot; +\r\n                      &quot;    by relay-in.ohc.cu (relay-in.ohc.cu [127.0.0.1]) (amavisd-new, port 10024)\\n&quot; +\r\n                      &quot;    with ESMTP id 7CZku5Y59vGC for &lt;some.email@some.domain&gt;;\\n&quot; +\r\n                      &quot;    Thu,  9 Jan 2020 11:29:38 -0500 (CST)\\n&quot; +\r\n                      &quot;\\n&quot; +\r\n                      &quot;Received: from correo.patrimonio.ohc.cu (unknown [192.168.229.20])\\n&quot; +\r\n                      &quot;    by relay-out.ohc.cu (Postfix) with ESMTP id B83BA22F5\\n&quot; +\r\n                      &quot;    for &lt;some.email@some.domain&gt;; Thu,  9 Jan 2020 11:29:36 -0500 (CST)\\n&quot; +\r\n                      &quot;\\n&quot; +\r\n                      &quot;Received: from localhost (localhost.localdomain [127.0.0.1])\\n&quot; +\r\n                      &quot;    by correo.patrimonio.ohc.cu (Postfix) with ESMTP id 65413232A001\\n&quot; +\r\n                      &quot;    for &lt;some.email@some.domain&gt;; Thu,  9 Jan 2020 11:40:05 -0500 (CST)\\n&quot; +\r\n                      &quot;\\n&quot; +\r\n                      &quot;Received: from correo.patrimonio.ohc.cu ([127.0.0.1])\\n&quot; +\r\n                      &quot;    by localhost (correo.patrimonio.ohc.cu [127.0.0.1]) (amavisd-new, port 10024)\\n&quot; +\r\n                      &quot;    with ESMTP id hNMp-6lHHtzH for &lt;some.email@some.domain&gt;;\\n&quot; +\r\n                      &quot;    Thu,  9 Jan 2020 11:40:05 -0500 (CST)\\n&quot; +\r\n                      &quot;\\n&quot; +\r\n                      &quot;Received: from correoweb.patrimonio.ohc.cu (unknown [192.168.229.23])\\n&quot; +\r\n                      &quot;    by correo.patrimonio.ohc.cu (Postfix) with ESMTPA id EC62A232A00A;\\n&quot; +\r\n                      &quot;    Thu,  9 Jan 2020 11:39:53 -0500 (CST)&quot;;\r\n        LinkedList&lt;HashMap&lt;String, String&gt;&gt; data = new LinkedList&lt;HashMap&lt;String, String&gt;&gt;();\r\n        HashMap&lt;String, String&gt; e;\r\n        StringBuilder sb = new StringBuilder(4096);\r\n        Matcher m = p.matcher(text);\r\n        while (m.find()) {\r\n            if (m.group(1) != null) {\r\n                data.add(new HashMap&lt;String, String&gt;());\r\n            }\r\n            e = data.getLast();\r\n            e.put(m.group(2), m.group(3));\r\n        }\r\n        sb.append(&quot;[&quot;);\r\n        data.stream().forEach((x) -&gt; sb.append(x).append(&quot;,\\n&quot;));\r\n        if (sb.length() &gt; 2) {\r\n            sb.setLength(sb.length() - 2);\r\n        }\r\n        sb.append(&quot;]&quot;);\r\n        System.out.println(sb);\r\n    }\r\n}\r\n```\r\nOutput:\r\n```lang-none\r\n[{with=HTTPS, by=HE1PR0102MB2714.eurprd01.prod.exchangelabs.com, from=VE1PR01MB5599.eurprd01.prod.exchangelabs.com\r\n (2603:10a6:7:7c::43), ;=Thu, 9 Jan 2020 16:34:13\r\n +0000, via=HE1PR0402CA0054.EURPRD04.PROD.OUTLOOK.COM},\r\n{with=Microsoft SMTP Server (version=TLS1_2,\r\n cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384), by=VE1PR01MB5599.eurprd01.prod.exchangelabs.com\r\n (2603:10a6:803:11f::30), from=VI1PR0102CA0029.eurprd01.prod.exchangelabs.com\r\n (2603:10a6:802::42), id=15.20.2602.12, ;=Thu, 9 Jan\r\n 2020 16:34:13 +0000},\r\n{with=Microsoft SMTP Server (version=TLS1_2,\r\n cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384), by=VI1PR0102CA0029.outlook.office365.com\r\n (2603:10a6:802::42), from=DB5EUR01FT034.eop-EUR01.prod.protection.outlook.com\r\n (2a01:111:f400:7e02::203), id=15.20.2623.9, ;=Thu, 9 Jan 2020 16:34:13 +0000, via=Frontend\r\n Transport},\r\n{with=Microsoft SMTP\r\n Server (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384), by=DB5EUR01FT034.mail.protection.outlook.com (10.152.4.246), from=relay-out.ohc.cu (200.55.138.44), id=15.20.2623.9, ;=Thu, 9 Jan 2020 16:34:12 +0000, via=Frontend Transport},\r\n{with=ESMTP, by=relay-out.ohc.cu (Postfix), for=&lt;some.email@some.domain&gt;, from=relay-in.ohc.cu (relay-in.ohc.cu [127.0.0.1]), id=69EA722DD, ;=Thu,  9 Jan 2020 11:29:43 -0500 (CST)},\r\n{with=ESMTP, by=relay-in.ohc.cu (relay-in.ohc.cu [127.0.0.1]) (amavisd-new, port 10024), for=&lt;some.email@some.domain&gt;, from=relay-out.ohc.cu ([127.0.0.1]), id=7CZku5Y59vGC, ;=Thu,  9 Jan 2020 11:29:38 -0500 (CST)},\r\n{with=ESMTP, by=relay-out.ohc.cu (Postfix), for=&lt;some.email@some.domain&gt;, from=correo.patrimonio.ohc.cu (unknown [192.168.229.20]), id=B83BA22F5, ;=Thu,  9 Jan 2020 11:29:36 -0500 (CST)},\r\n{with=ESMTP, by=correo.patrimonio.ohc.cu (Postfix), for=&lt;some.email@some.domain&gt;, from=localhost (localhost.localdomain [127.0.0.1]), id=65413232A001, ;=Thu,  9 Jan 2020 11:40:05 -0500 (CST)},\r\n{with=ESMTP, by=localhost (correo.patrimonio.ohc.cu [127.0.0.1]) (amavisd-new, port 10024), for=&lt;some.email@some.domain&gt;, from=correo.patrimonio.ohc.cu ([127.0.0.1]), id=hNMp-6lHHtzH, ;=Thu,  9 Jan 2020 11:40:05 -0500 (CST)},\r\n{with=ESMTPA, by=correo.patrimonio.ohc.cu (Postfix), from=correoweb.patrimonio.ohc.cu (unknown [192.168.229.23]), id=EC62A232A00A, ;=Thu,  9 Jan 2020 11:39:53 -0500 (CST)}]\r\n```\r\n[Demo](https://rextester.com/edit/DXZJH30628).\r\n","title":"How to properly parse email received headers?","body":"<p>I want to offer the following solution. You can find a full explanation of the regular expression used <a href=\"https://regex101.com/r/mAQCws/1/\" rel=\"nofollow noreferrer\"><strong>here</strong></a>.</p>\n<pre><code>import java.util.regex.Matcher;\nimport java.util.regex.Pattern;\nimport java.util.LinkedList;\nimport java.util.HashMap;\nimport java.lang.StringBuilder;\n\nclass Rextester {\n    public static void main(String[] args) {\n        Pattern p = Pattern.compile(&quot;(?:(Received:)|\\\\G(?!\\\\A))&quot; +\n                                    &quot;\\\\s*(from|by|with|id|via|for|;)&quot; +\n                                    &quot;\\\\s*(\\\\S+?(?:\\\\s+\\\\S+?)*?)\\\\s*&quot; +\n                                    &quot;(?=Received:|by|with|id|via|for|;|\\\\z)&quot;);\n        String text = &quot;Received: from VE1PR01MB5599.eurprd01.prod.exchangelabs.com\\n&quot; +\n                      &quot; (2603:10a6:7:7c::43) by HE1PR0102MB2714.eurprd01.prod.exchangelabs.com with\\n&quot; +\n                      &quot; HTTPS via HE1PR0402CA0054.EURPRD04.PROD.OUTLOOK.COM; Thu, 9 Jan 2020 16:34:13\\n&quot; +\n                      &quot; +0000\\n&quot; +\n                      &quot;\\n&quot; +\n                      &quot;Received: from VI1PR0102CA0029.eurprd01.prod.exchangelabs.com\\n&quot; +\n                      &quot; (2603:10a6:802::42) by VE1PR01MB5599.eurprd01.prod.exchangelabs.com\\n&quot; +\n                      &quot; (2603:10a6:803:11f::30) with Microsoft SMTP Server (version=TLS1_2,\\n&quot; +\n                      &quot; cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id 15.20.2602.12; Thu, 9 Jan\\n&quot; +\n                      &quot; 2020 16:34:13 +0000\\n&quot; +\n                      &quot;\\n&quot; +\n                      &quot;Received: from DB5EUR01FT034.eop-EUR01.prod.protection.outlook.com\\n&quot; +\n                      &quot; (2a01:111:f400:7e02::203) by VI1PR0102CA0029.outlook.office365.com\\n&quot; +\n                      &quot; (2603:10a6:802::42) with Microsoft SMTP Server (version=TLS1_2,\\n&quot; +\n                      &quot; cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id 15.20.2623.9 via Frontend\\n&quot; +\n                      &quot; Transport; Thu, 9 Jan 2020 16:34:13 +0000\\n&quot; +\n                      &quot;\\n&quot; +\n                      &quot;Received: from relay-out.ohc.cu (200.55.138.44) by\\n&quot; +\n                      &quot; DB5EUR01FT034.mail.protection.outlook.com (10.152.4.246) with Microsoft SMTP\\n&quot; +\n                      &quot; Server (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id\\n&quot; +\n                      &quot; 15.20.2623.9 via Frontend Transport; Thu, 9 Jan 2020 16:34:12 +0000\\n&quot; +\n                      &quot;\\n&quot; +\n                      &quot;Received: from relay-in.ohc.cu (relay-in.ohc.cu [127.0.0.1])\\n&quot; +\n                      &quot;    by relay-out.ohc.cu (Postfix) with ESMTP id 69EA722DD\\n&quot; +\n                      &quot;    for &lt;some.email@some.domain&gt;; Thu,  9 Jan 2020 11:29:43 -0500 (CST)\\n&quot; +\n                      &quot;\\n&quot; +\n                      &quot;Received: from relay-out.ohc.cu ([127.0.0.1])\\n&quot; +\n                      &quot;    by relay-in.ohc.cu (relay-in.ohc.cu [127.0.0.1]) (amavisd-new, port 10024)\\n&quot; +\n                      &quot;    with ESMTP id 7CZku5Y59vGC for &lt;some.email@some.domain&gt;;\\n&quot; +\n                      &quot;    Thu,  9 Jan 2020 11:29:38 -0500 (CST)\\n&quot; +\n                      &quot;\\n&quot; +\n                      &quot;Received: from correo.patrimonio.ohc.cu (unknown [192.168.229.20])\\n&quot; +\n                      &quot;    by relay-out.ohc.cu (Postfix) with ESMTP id B83BA22F5\\n&quot; +\n                      &quot;    for &lt;some.email@some.domain&gt;; Thu,  9 Jan 2020 11:29:36 -0500 (CST)\\n&quot; +\n                      &quot;\\n&quot; +\n                      &quot;Received: from localhost (localhost.localdomain [127.0.0.1])\\n&quot; +\n                      &quot;    by correo.patrimonio.ohc.cu (Postfix) with ESMTP id 65413232A001\\n&quot; +\n                      &quot;    for &lt;some.email@some.domain&gt;; Thu,  9 Jan 2020 11:40:05 -0500 (CST)\\n&quot; +\n                      &quot;\\n&quot; +\n                      &quot;Received: from correo.patrimonio.ohc.cu ([127.0.0.1])\\n&quot; +\n                      &quot;    by localhost (correo.patrimonio.ohc.cu [127.0.0.1]) (amavisd-new, port 10024)\\n&quot; +\n                      &quot;    with ESMTP id hNMp-6lHHtzH for &lt;some.email@some.domain&gt;;\\n&quot; +\n                      &quot;    Thu,  9 Jan 2020 11:40:05 -0500 (CST)\\n&quot; +\n                      &quot;\\n&quot; +\n                      &quot;Received: from correoweb.patrimonio.ohc.cu (unknown [192.168.229.23])\\n&quot; +\n                      &quot;    by correo.patrimonio.ohc.cu (Postfix) with ESMTPA id EC62A232A00A;\\n&quot; +\n                      &quot;    Thu,  9 Jan 2020 11:39:53 -0500 (CST)&quot;;\n        LinkedList&lt;HashMap&lt;String, String&gt;&gt; data = new LinkedList&lt;HashMap&lt;String, String&gt;&gt;();\n        HashMap&lt;String, String&gt; e;\n        StringBuilder sb = new StringBuilder(4096);\n        Matcher m = p.matcher(text);\n        while (m.find()) {\n            if (m.group(1) != null) {\n                data.add(new HashMap&lt;String, String&gt;());\n            }\n            e = data.getLast();\n            e.put(m.group(2), m.group(3));\n        }\n        sb.append(&quot;[&quot;);\n        data.stream().forEach((x) -&gt; sb.append(x).append(&quot;,\\n&quot;));\n        if (sb.length() &gt; 2) {\n            sb.setLength(sb.length() - 2);\n        }\n        sb.append(&quot;]&quot;);\n        System.out.println(sb);\n    }\n}\n</code></pre>\n<p>Output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>[{with=HTTPS, by=HE1PR0102MB2714.eurprd01.prod.exchangelabs.com, from=VE1PR01MB5599.eurprd01.prod.exchangelabs.com\n (2603:10a6:7:7c::43), ;=Thu, 9 Jan 2020 16:34:13\n +0000, via=HE1PR0402CA0054.EURPRD04.PROD.OUTLOOK.COM},\n{with=Microsoft SMTP Server (version=TLS1_2,\n cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384), by=VE1PR01MB5599.eurprd01.prod.exchangelabs.com\n (2603:10a6:803:11f::30), from=VI1PR0102CA0029.eurprd01.prod.exchangelabs.com\n (2603:10a6:802::42), id=15.20.2602.12, ;=Thu, 9 Jan\n 2020 16:34:13 +0000},\n{with=Microsoft SMTP Server (version=TLS1_2,\n cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384), by=VI1PR0102CA0029.outlook.office365.com\n (2603:10a6:802::42), from=DB5EUR01FT034.eop-EUR01.prod.protection.outlook.com\n (2a01:111:f400:7e02::203), id=15.20.2623.9, ;=Thu, 9 Jan 2020 16:34:13 +0000, via=Frontend\n Transport},\n{with=Microsoft SMTP\n Server (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384), by=DB5EUR01FT034.mail.protection.outlook.com (10.152.4.246), from=relay-out.ohc.cu (200.55.138.44), id=15.20.2623.9, ;=Thu, 9 Jan 2020 16:34:12 +0000, via=Frontend Transport},\n{with=ESMTP, by=relay-out.ohc.cu (Postfix), for=&lt;some.email@some.domain&gt;, from=relay-in.ohc.cu (relay-in.ohc.cu [127.0.0.1]), id=69EA722DD, ;=Thu,  9 Jan 2020 11:29:43 -0500 (CST)},\n{with=ESMTP, by=relay-in.ohc.cu (relay-in.ohc.cu [127.0.0.1]) (amavisd-new, port 10024), for=&lt;some.email@some.domain&gt;, from=relay-out.ohc.cu ([127.0.0.1]), id=7CZku5Y59vGC, ;=Thu,  9 Jan 2020 11:29:38 -0500 (CST)},\n{with=ESMTP, by=relay-out.ohc.cu (Postfix), for=&lt;some.email@some.domain&gt;, from=correo.patrimonio.ohc.cu (unknown [192.168.229.20]), id=B83BA22F5, ;=Thu,  9 Jan 2020 11:29:36 -0500 (CST)},\n{with=ESMTP, by=correo.patrimonio.ohc.cu (Postfix), for=&lt;some.email@some.domain&gt;, from=localhost (localhost.localdomain [127.0.0.1]), id=65413232A001, ;=Thu,  9 Jan 2020 11:40:05 -0500 (CST)},\n{with=ESMTP, by=localhost (correo.patrimonio.ohc.cu [127.0.0.1]) (amavisd-new, port 10024), for=&lt;some.email@some.domain&gt;, from=correo.patrimonio.ohc.cu ([127.0.0.1]), id=hNMp-6lHHtzH, ;=Thu,  9 Jan 2020 11:40:05 -0500 (CST)},\n{with=ESMTPA, by=correo.patrimonio.ohc.cu (Postfix), from=correoweb.patrimonio.ohc.cu (unknown [192.168.229.23]), id=EC62A232A00A, ;=Thu,  9 Jan 2020 11:39:53 -0500 (CST)}]\n</code></pre>\n<p><a href=\"https://rextester.com/edit/DXZJH30628\" rel=\"nofollow noreferrer\">Demo</a>.</p>\n"}],"owner":{"account_id":8500862,"reputation":2930,"user_id":8737144,"display_name":"1Z10"},"comment_count":1,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":820,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"closed_date":1697733105,"accepted_answer_id":62753203,"answer_count":1,"score":0,"last_activity_date":1697705494,"creation_date":1593956404,"question_id":62741450,"body_markdown":"What is the right way to parse the received headers of a .eml file, in order to extract all the hops&#39; information?\r\nIn particular I need to extract the following information:\r\n\r\n - Sender URL\r\n - Sender IP\r\n - Receiver URL\r\n - Receiver IP\r\n - Date\r\n - Protocol\r\n\r\nI found the following specs, but it appears that there is no standard convention for\r\nthe format of the received headers, and it may vary depending on the server:\r\n\r\n 1. [RFC 2821 - Received Lines in Gatewaying][1]\r\n 2. [RFC 2822 - Trace Fields][2]\r\n 3. [RFC  822 - 4.1 Syntax][3]\r\n\r\n For me the most clear explanation was the one from the [RFC 822 spec][3]:\r\n\r\n     received    =  &quot;Received&quot;    &quot;:&quot;           ; one per relay\r\n                      [&quot;from&quot; domain]           ; sending host\r\n                      [&quot;by&quot;   domain]           ; receiving host\r\n                      [&quot;via&quot;  atom]             ; physical path\r\n                     *(&quot;with&quot; atom)             ; link/mail protocol\r\n                      [&quot;id&quot;   msg-id]           ; receiver msg id\r\n                      [&quot;for&quot;  addr-spec]        ; initial form\r\n    \r\n    \r\n    \r\n                       &quot;;&quot;    date-time         ; time received\r\n\r\nConsidering the following `received` headers\r\n\r\n    Received: from VE1PR01MB5599.eurprd01.prod.exchangelabs.com\r\n     (2603:10a6:7:7c::43) by HE1PR0102MB2714.eurprd01.prod.exchangelabs.com with\r\n     HTTPS via HE1PR0402CA0054.EURPRD04.PROD.OUTLOOK.COM; Thu, 9 Jan 2020 16:34:13\r\n     +0000\r\n\r\n    Received: from VI1PR0102CA0029.eurprd01.prod.exchangelabs.com\r\n     (2603:10a6:802::42) by VE1PR01MB5599.eurprd01.prod.exchangelabs.com\r\n     (2603:10a6:803:11f::30) with Microsoft SMTP Server (version=TLS1_2,\r\n     cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id 15.20.2602.12; Thu, 9 Jan\r\n     2020 16:34:13 +0000\r\n\r\n    Received: from DB5EUR01FT034.eop-EUR01.prod.protection.outlook.com\r\n     (2a01:111:f400:7e02::203) by VI1PR0102CA0029.outlook.office365.com\r\n     (2603:10a6:802::42) with Microsoft SMTP Server (version=TLS1_2,\r\n     cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id 15.20.2623.9 via Frontend\r\n     Transport; Thu, 9 Jan 2020 16:34:13 +0000\r\n\r\n    Received: from relay-out.ohc.cu (200.55.138.44) by\r\n     DB5EUR01FT034.mail.protection.outlook.com (10.152.4.246) with Microsoft SMTP\r\n     Server (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id\r\n     15.20.2623.9 via Frontend Transport; Thu, 9 Jan 2020 16:34:12 +0000\r\n\r\n    Received: from relay-in.ohc.cu (relay-in.ohc.cu [127.0.0.1])\r\n    \tby relay-out.ohc.cu (Postfix) with ESMTP id 69EA722DD\r\n    \tfor &lt;some.email@some.domain&gt;; Thu,  9 Jan 2020 11:29:43 -0500 (CST)\r\n\r\n    Received: from relay-out.ohc.cu ([127.0.0.1])\r\n    \tby relay-in.ohc.cu (relay-in.ohc.cu [127.0.0.1]) (amavisd-new, port 10024)\r\n    \twith ESMTP id 7CZku5Y59vGC for &lt;some.email@some.domain&gt;;\r\n    \tThu,  9 Jan 2020 11:29:38 -0500 (CST)\r\n\r\n    Received: from correo.patrimonio.ohc.cu (unknown [192.168.229.20])\r\n    \tby relay-out.ohc.cu (Postfix) with ESMTP id B83BA22F5\r\n    \tfor &lt;some.email@some.domain&gt;; Thu,  9 Jan 2020 11:29:36 -0500 (CST)\r\n\r\n    Received: from localhost (localhost.localdomain [127.0.0.1])\r\n    \tby correo.patrimonio.ohc.cu (Postfix) with ESMTP id 65413232A001\r\n    \tfor &lt;some.email@some.domain&gt;; Thu,  9 Jan 2020 11:40:05 -0500 (CST)\r\n\r\n    Received: from correo.patrimonio.ohc.cu ([127.0.0.1])\r\n    \tby localhost (correo.patrimonio.ohc.cu [127.0.0.1]) (amavisd-new, port 10024)\r\n    \twith ESMTP id hNMp-6lHHtzH for &lt;some.email@some.domain&gt;;\r\n    \tThu,  9 Jan 2020 11:40:05 -0500 (CST)\r\n\r\n    Received: from correoweb.patrimonio.ohc.cu (unknown [192.168.229.23])\r\n    \tby correo.patrimonio.ohc.cu (Postfix) with ESMTPA id EC62A232A00A;\r\n    \tThu,  9 Jan 2020 11:39:53 -0500 (CST)\r\n\r\nthe most changing fields seems to be\r\n\r\n 1. host **domain**\r\n\r\n    e.g.\r\n    -  from VE1PR01MB5599.eurprd01.prod.exchangelabs.com\r\n (2603:10a6:7:7c::43)\r\n    -  by HE1PR0102MB2714.eurprd01.prod.exchangelabs.com\r\n    -  from VI1PR0102CA0029.eurprd01.prod.exchangelabs.com\r\n (2603:10a6:802::42)\r\n    -  by VE1PR01MB5599.eurprd01.prod.exchangelabs.com\r\n (2603:10a6:803:11f::30)\r\n    -  from DB5EUR01FT034.eop-EUR01.prod.protection.outlook.com\r\n (2a01:111:f400:7e02::203)\r\n    -  by VI1PR0102CA0029.outlook.office365.com\r\n (2603:10a6:802::42)\r\n    -  from relay-out.ohc.cu (200.55.138.44)\r\n    -  by DB5EUR01FT034.mail.protection.outlook.com (10.152.4.246)\r\n    -  from relay-in.ohc.cu (relay-in.ohc.cu [127.0.0.1])\r\n\t-  by relay-out.ohc.cu (Postfix)\r\n    -  from relay-out.ohc.cu ([127.0.0.1])\r\n\t-  by relay-in.ohc.cu (relay-in.ohc.cu [127.0.0.1]) (amavisd-new, port 10024)\r\n    -  from correo.patrimonio.ohc.cu (unknown [192.168.229.20])\r\n\t-  by relay-out.ohc.cu (Postfix)\r\n    -  from localhost (localhost.localdomain [127.0.0.1])\r\n\t-  by correo.patrimonio.ohc.cu (Postfix)\r\n    -  from correo.patrimonio.ohc.cu ([127.0.0.1])\r\n\t-  by localhost (correo.patrimonio.ohc.cu [127.0.0.1]) (amavisd-new, port 10024)\r\n    -  from correoweb.patrimonio.ohc.cu (unknown [192.168.229.23])\r\n\t-  by correo.patrimonio.ohc.cu (Postfix)\r\n\r\n 1. mail **protocol**\r\n    e.g.\r\n    -  with Microsoft SMTP Server (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384)\r\n    -  with ESMTP\r\n\r\nWhat is the consolidated approach in extracting such info, considering their changing nature?\r\nOther [answers][4] on SO discouraged the use of regular expression for this task, but then how can one do this parsing? It would be ok for me if there existsted some tested regex or maybe a Java code/library to parse the received headers to extract the above info.\r\n\r\n  [1]: https://www.rfc-editor.org/rfc/rfc2821#section-3.8.2\r\n  [2]: https://www.rfc-editor.org/rfc/rfc2822#section-3.6.7\r\n  [3]: https://www.w3.org/Protocols/rfc822/\r\n  [4]: https://stackoverflow.com/questions/504136/parsing-email-received-headers","title":"How to properly parse email received headers?","body":"<p>What is the right way to parse the received headers of a .eml file, in order to extract all the hops' information?\nIn particular I need to extract the following information:</p>\n<ul>\n<li>Sender URL</li>\n<li>Sender IP</li>\n<li>Receiver URL</li>\n<li>Receiver IP</li>\n<li>Date</li>\n<li>Protocol</li>\n</ul>\n<p>I found the following specs, but it appears that there is no standard convention for\nthe format of the received headers, and it may vary depending on the server:</p>\n<ol>\n<li><a href=\"https://www.rfc-editor.org/rfc/rfc2821#section-3.8.2\" rel=\"nofollow noreferrer\">RFC 2821 - Received Lines in Gatewaying</a></li>\n<li><a href=\"https://www.rfc-editor.org/rfc/rfc2822#section-3.6.7\" rel=\"nofollow noreferrer\">RFC 2822 - Trace Fields</a></li>\n<li><a href=\"https://www.w3.org/Protocols/rfc822/\" rel=\"nofollow noreferrer\">RFC  822 - 4.1 Syntax</a></li>\n</ol>\n<p>For me the most clear explanation was the one from the <a href=\"https://www.w3.org/Protocols/rfc822/\" rel=\"nofollow noreferrer\">RFC 822 spec</a>:</p>\n<pre><code> received    =  &quot;Received&quot;    &quot;:&quot;           ; one per relay\n                  [&quot;from&quot; domain]           ; sending host\n                  [&quot;by&quot;   domain]           ; receiving host\n                  [&quot;via&quot;  atom]             ; physical path\n                 *(&quot;with&quot; atom)             ; link/mail protocol\n                  [&quot;id&quot;   msg-id]           ; receiver msg id\n                  [&quot;for&quot;  addr-spec]        ; initial form\n\n\n\n                   &quot;;&quot;    date-time         ; time received\n</code></pre>\n<p>Considering the following <code>received</code> headers</p>\n<pre><code>Received: from VE1PR01MB5599.eurprd01.prod.exchangelabs.com\n (2603:10a6:7:7c::43) by HE1PR0102MB2714.eurprd01.prod.exchangelabs.com with\n HTTPS via HE1PR0402CA0054.EURPRD04.PROD.OUTLOOK.COM; Thu, 9 Jan 2020 16:34:13\n +0000\n\nReceived: from VI1PR0102CA0029.eurprd01.prod.exchangelabs.com\n (2603:10a6:802::42) by VE1PR01MB5599.eurprd01.prod.exchangelabs.com\n (2603:10a6:803:11f::30) with Microsoft SMTP Server (version=TLS1_2,\n cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id 15.20.2602.12; Thu, 9 Jan\n 2020 16:34:13 +0000\n\nReceived: from DB5EUR01FT034.eop-EUR01.prod.protection.outlook.com\n (2a01:111:f400:7e02::203) by VI1PR0102CA0029.outlook.office365.com\n (2603:10a6:802::42) with Microsoft SMTP Server (version=TLS1_2,\n cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id 15.20.2623.9 via Frontend\n Transport; Thu, 9 Jan 2020 16:34:13 +0000\n\nReceived: from relay-out.ohc.cu (200.55.138.44) by\n DB5EUR01FT034.mail.protection.outlook.com (10.152.4.246) with Microsoft SMTP\n Server (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id\n 15.20.2623.9 via Frontend Transport; Thu, 9 Jan 2020 16:34:12 +0000\n\nReceived: from relay-in.ohc.cu (relay-in.ohc.cu [127.0.0.1])\n    by relay-out.ohc.cu (Postfix) with ESMTP id 69EA722DD\n    for &lt;some.email@some.domain&gt;; Thu,  9 Jan 2020 11:29:43 -0500 (CST)\n\nReceived: from relay-out.ohc.cu ([127.0.0.1])\n    by relay-in.ohc.cu (relay-in.ohc.cu [127.0.0.1]) (amavisd-new, port 10024)\n    with ESMTP id 7CZku5Y59vGC for &lt;some.email@some.domain&gt;;\n    Thu,  9 Jan 2020 11:29:38 -0500 (CST)\n\nReceived: from correo.patrimonio.ohc.cu (unknown [192.168.229.20])\n    by relay-out.ohc.cu (Postfix) with ESMTP id B83BA22F5\n    for &lt;some.email@some.domain&gt;; Thu,  9 Jan 2020 11:29:36 -0500 (CST)\n\nReceived: from localhost (localhost.localdomain [127.0.0.1])\n    by correo.patrimonio.ohc.cu (Postfix) with ESMTP id 65413232A001\n    for &lt;some.email@some.domain&gt;; Thu,  9 Jan 2020 11:40:05 -0500 (CST)\n\nReceived: from correo.patrimonio.ohc.cu ([127.0.0.1])\n    by localhost (correo.patrimonio.ohc.cu [127.0.0.1]) (amavisd-new, port 10024)\n    with ESMTP id hNMp-6lHHtzH for &lt;some.email@some.domain&gt;;\n    Thu,  9 Jan 2020 11:40:05 -0500 (CST)\n\nReceived: from correoweb.patrimonio.ohc.cu (unknown [192.168.229.23])\n    by correo.patrimonio.ohc.cu (Postfix) with ESMTPA id EC62A232A00A;\n    Thu,  9 Jan 2020 11:39:53 -0500 (CST)\n</code></pre>\n<p>the most changing fields seems to be</p>\n<ol>\n<li><p>host <strong>domain</strong></p>\n<p>e.g.</p>\n<ul>\n<li>from VE1PR01MB5599.eurprd01.prod.exchangelabs.com\n(2603:10a6:7:7c::43)</li>\n<li>by HE1PR0102MB2714.eurprd01.prod.exchangelabs.com</li>\n<li>from VI1PR0102CA0029.eurprd01.prod.exchangelabs.com\n(2603:10a6:802::42)</li>\n<li>by VE1PR01MB5599.eurprd01.prod.exchangelabs.com\n(2603:10a6:803:11f::30)</li>\n<li>from DB5EUR01FT034.eop-EUR01.prod.protection.outlook.com\n(2a01:111:f400:7e02::203)</li>\n<li>by VI1PR0102CA0029.outlook.office365.com\n(2603:10a6:802::42)</li>\n<li>from relay-out.ohc.cu (200.55.138.44)</li>\n<li>by DB5EUR01FT034.mail.protection.outlook.com (10.152.4.246)</li>\n<li>from relay-in.ohc.cu (relay-in.ohc.cu [127.0.0.1])</li>\n<li>by relay-out.ohc.cu (Postfix)</li>\n<li>from relay-out.ohc.cu ([127.0.0.1])</li>\n<li>by relay-in.ohc.cu (relay-in.ohc.cu [127.0.0.1]) (amavisd-new, port 10024)</li>\n<li>from correo.patrimonio.ohc.cu (unknown [192.168.229.20])</li>\n<li>by relay-out.ohc.cu (Postfix)</li>\n<li>from localhost (localhost.localdomain [127.0.0.1])</li>\n<li>by correo.patrimonio.ohc.cu (Postfix)</li>\n<li>from correo.patrimonio.ohc.cu ([127.0.0.1])</li>\n<li>by localhost (correo.patrimonio.ohc.cu [127.0.0.1]) (amavisd-new, port 10024)</li>\n<li>from correoweb.patrimonio.ohc.cu (unknown [192.168.229.23])</li>\n<li>by correo.patrimonio.ohc.cu (Postfix)</li>\n</ul>\n</li>\n<li><p>mail <strong>protocol</strong>\ne.g.</p>\n<ul>\n<li>with Microsoft SMTP Server (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384)</li>\n<li>with ESMTP</li>\n</ul>\n</li>\n</ol>\n<p>What is the consolidated approach in extracting such info, considering their changing nature?\nOther <a href=\"https://stackoverflow.com/questions/504136/parsing-email-received-headers\">answers</a> on SO discouraged the use of regular expression for this task, but then how can one do this parsing? It would be ok for me if there existsted some tested regex or maybe a Java code/library to parse the received headers to extract the above info.</p>\n"},{"tags":["java","generics","inheritance","syntax","syntactic-sugar"],"comments":[{"owner":{"account_id":4362282,"reputation":92954,"user_id":3558960,"accept_rate":60,"display_name":"Robby Cornelissen"},"score":2,"creation_date":1697686765,"post_id":77320805,"comment_id":136311839,"body_markdown":"*&quot;I can achieve a similar result using [...], although it would involve duplicating code in subclasses.&quot;* By those metrics, generics in their entirety can be considered to be syntactic sugar.","body":"<i>&quot;I can achieve a similar result using [...], although it would involve duplicating code in subclasses.&quot;</i> By those metrics, generics in their entirety can be considered to be syntactic sugar."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1697712954,"post_id":77320805,"comment_id":136315661,"body_markdown":"There is an enormous amount of type algebra going on. It therefore isn’t syntactic sugar.","body":"There is an enormous amount of type algebra going on. It therefore isn’t syntactic sugar."}],"answers":[{"tags":[],"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1697689679,"creation_date":1697689082,"answer_id":77320937,"question_id":77320805,"body_markdown":"In this case of writing builders, having the recursive generic parameter (aka [CRTP][1]) is just to avoid lots of casting on the caller&#39;s side. That is, if you called one of the methods in the superclass first, you&#39;d need to cast it to the subclass to continue building the subclass&#39; fields, e.g.\r\n\r\n    (\r\n        (DogBuilder)new DogBuilder().setName(&quot;Foo&quot;) // setName() makes it an AnimalBuilder\r\n    ).setBreed(&quot;Bar&quot;).build()\r\n\r\nI wouldn&#39;t call it &quot;syntactic sugar&quot; though. Syntactic sugar usually refers to language features that simply [*lowers*][2] your code. There is no lowering here. The compiler *does* enforce the generics here when it can. e.g. you can&#39;t pass a `DogBuilder` to something that expects `AnimalBuilder&lt;CatBuilder&gt;`.\r\n\r\nAlso note that with CTRP, you must provide a generic type parameter when passing `AnimalBuilder`s around. One could argue that this is a slight inconvenience.\r\n\r\nIn general though, CRTP can do more than simple inheritance. It is basically the workaround for lack of a &quot;self&quot; type in Java. If you want a method to always take in an instance of &quot;whatever subclass this is&quot;, you can do\r\n\r\n```\r\nabstract class Animal&lt;TSelf extends Animal&lt;TSelf&gt;&gt; {\r\n    public abstract TSelf makeBabiesWith(TSelf other);\r\n}\r\n```\r\n\r\nThis at least gives you some degree of compile time safety. People won&#39;t accidentally pass in something you don&#39;t expect (though they still can if they really wanted to). If you do this with simple inheritance,\r\n\r\n```\r\nabstract class Animal {\r\n    public abstract Animal makeBabiesWith(Animal other);\r\n}\r\n\r\n\r\nclass Dog {\r\n    public abstract Dog makeBabiesWith(Animal other) {\r\n        // you must check this:\r\n        if (other instanceof Dog) {\r\n            // ...\r\n        } else {\r\n            throw new Exception(); // or something similar\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nPeople can accidentally pass in a non-`Dog` to `Dog.makeBabiesWith` and the compiler is completely fine about it.\r\n\r\n&lt;hr&gt;\r\n\r\nI also recommend looking at how lombok&#39;s [`@SuperBuilder`][3] works. It uses two recursive generic type parameters like this. One to represent the &quot;current builder type&quot; like you have shown, and another to represent &quot;what this builder is building&quot;, to implement the `toBuilder` feature.\r\n\r\n\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Curiously_recurring_template_pattern\r\n  [2]: https://stackoverflow.com/q/20252876/5133585\r\n  [3]: https://projectlombok.org/features/experimental/SuperBuilder","title":"Could Java recursive generics be seen as syntactic sugar for inheritance with overriding","body":"<p>In this case of writing builders, having the recursive generic parameter (aka <a href=\"https://en.wikipedia.org/wiki/Curiously_recurring_template_pattern\" rel=\"nofollow noreferrer\">CRTP</a>) is just to avoid lots of casting on the caller's side. That is, if you called one of the methods in the superclass first, you'd need to cast it to the subclass to continue building the subclass' fields, e.g.</p>\n<pre><code>(\n    (DogBuilder)new DogBuilder().setName(&quot;Foo&quot;) // setName() makes it an AnimalBuilder\n).setBreed(&quot;Bar&quot;).build()\n</code></pre>\n<p>I wouldn't call it &quot;syntactic sugar&quot; though. Syntactic sugar usually refers to language features that simply <a href=\"https://stackoverflow.com/q/20252876/5133585\"><em>lowers</em></a> your code. There is no lowering here. The compiler <em>does</em> enforce the generics here when it can. e.g. you can't pass a <code>DogBuilder</code> to something that expects <code>AnimalBuilder&lt;CatBuilder&gt;</code>.</p>\n<p>Also note that with CTRP, you must provide a generic type parameter when passing <code>AnimalBuilder</code>s around. One could argue that this is a slight inconvenience.</p>\n<p>In general though, CRTP can do more than simple inheritance. It is basically the workaround for lack of a &quot;self&quot; type in Java. If you want a method to always take in an instance of &quot;whatever subclass this is&quot;, you can do</p>\n<pre><code>abstract class Animal&lt;TSelf extends Animal&lt;TSelf&gt;&gt; {\n    public abstract TSelf makeBabiesWith(TSelf other);\n}\n</code></pre>\n<p>This at least gives you some degree of compile time safety. People won't accidentally pass in something you don't expect (though they still can if they really wanted to). If you do this with simple inheritance,</p>\n<pre><code>abstract class Animal {\n    public abstract Animal makeBabiesWith(Animal other);\n}\n\n\nclass Dog {\n    public abstract Dog makeBabiesWith(Animal other) {\n        // you must check this:\n        if (other instanceof Dog) {\n            // ...\n        } else {\n            throw new Exception(); // or something similar\n        }\n    }\n}\n</code></pre>\n<p>People can accidentally pass in a non-<code>Dog</code> to <code>Dog.makeBabiesWith</code> and the compiler is completely fine about it.</p>\n<hr>\n<p>I also recommend looking at how lombok's <a href=\"https://projectlombok.org/features/experimental/SuperBuilder\" rel=\"nofollow noreferrer\"><code>@SuperBuilder</code></a> works. It uses two recursive generic type parameters like this. One to represent the &quot;current builder type&quot; like you have shown, and another to represent &quot;what this builder is building&quot;, to implement the <code>toBuilder</code> feature.</p>\n"}],"owner":{"account_id":27725738,"reputation":179,"user_id":21165336,"display_name":"Xavier Z."},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77320937,"answer_count":1,"score":1,"last_activity_date":1697705369,"creation_date":1697686167,"question_id":77320805,"body_markdown":"I&#39;m exploring the concept of recursive generics in Java and trying to understand its benefits over traditional inheritance and method overriding. Specifically, I want to know if recursive generics can be considered as &quot;syntactic sugar&quot; for a subclass with method overriding, I mean, are these two approaches functionally equivalent?\r\n\r\nFor example, consider a Builder pattern implemented with recursive generics:\r\n\r\n    public abstract class AnimalBuilder&lt;T extends AnimalBuilder&lt;T&gt;&gt; {\r\n        private String name;\r\n    \r\n        public T setName(String name) {\r\n            this.name = name;\r\n            return (T) this;\r\n        }\r\n    \r\n        public Animal build() {\r\n            return new Animal(name);\r\n        }\r\n    }\r\n    \r\n    public class DogBuilder extends AnimalBuilder&lt;DogBuilder&gt; {\r\n        private String breed;\r\n    \r\n        public DogBuilder setBreed(String breed) {\r\n            this.breed = breed;\r\n            return this;\r\n        }\r\n    \r\n        public Dog build() {\r\n            return new Dog(breed, super.build().getName());\r\n        }\r\n    }\r\n\r\nWith this structure, I can chain method calls like:\r\n\r\n    Dog dog = new DogBuilder().setName(&quot;Fido&quot;).setBreed(&quot;Husky&quot;).build();\r\n\r\nI can achieve a similar result using traditional inheritance and method overriding, by overriding `setName` return type within `DogBuilder`, although it would involve duplicating code in subclasses.\r\n\r\nSo my question is: could recursive generics be seen as just a more elegant and type-safe form of subclassing with method overriding? Or are there specific cases where recursive generics offer capabilities that subclassing and overriding cannot provide?\r\n","title":"Could Java recursive generics be seen as syntactic sugar for inheritance with overriding","body":"<p>I'm exploring the concept of recursive generics in Java and trying to understand its benefits over traditional inheritance and method overriding. Specifically, I want to know if recursive generics can be considered as &quot;syntactic sugar&quot; for a subclass with method overriding, I mean, are these two approaches functionally equivalent?</p>\n<p>For example, consider a Builder pattern implemented with recursive generics:</p>\n<pre><code>public abstract class AnimalBuilder&lt;T extends AnimalBuilder&lt;T&gt;&gt; {\n    private String name;\n\n    public T setName(String name) {\n        this.name = name;\n        return (T) this;\n    }\n\n    public Animal build() {\n        return new Animal(name);\n    }\n}\n\npublic class DogBuilder extends AnimalBuilder&lt;DogBuilder&gt; {\n    private String breed;\n\n    public DogBuilder setBreed(String breed) {\n        this.breed = breed;\n        return this;\n    }\n\n    public Dog build() {\n        return new Dog(breed, super.build().getName());\n    }\n}\n</code></pre>\n<p>With this structure, I can chain method calls like:</p>\n<pre><code>Dog dog = new DogBuilder().setName(&quot;Fido&quot;).setBreed(&quot;Husky&quot;).build();\n</code></pre>\n<p>I can achieve a similar result using traditional inheritance and method overriding, by overriding <code>setName</code> return type within <code>DogBuilder</code>, although it would involve duplicating code in subclasses.</p>\n<p>So my question is: could recursive generics be seen as just a more elegant and type-safe form of subclassing with method overriding? Or are there specific cases where recursive generics offer capabilities that subclassing and overriding cannot provide?</p>\n"},{"tags":["java","spring-boot","spring-security","spring-boot-security"],"comments":[{"owner":{"account_id":24440940,"reputation":3122,"user_id":18364656,"display_name":"Andrei Lisa"},"score":0,"creation_date":1693479840,"post_id":76827838,"comment_id":135768061,"body_markdown":"i added an answer that can help you, i think","body":"i added an answer that can help you, i think"}],"answers":[{"tags":[],"owner":{"account_id":17601943,"reputation":91,"user_id":12771724,"display_name":"Enes Birisik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691472591,"creation_date":1691472591,"answer_id":76856683,"question_id":76827838,"body_markdown":"I had made security configuration in spring boot 3 maybe that can help you\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    @EnableGlobalMethodSecurity(prePostEnabled = true)\r\n    public class SecurityConfig {\r\n    \r\n        private final JwtFilter jwtFilter;\r\n        private final JwtAuthenticationEntryPoint authenticationEntryPoint;\r\n        private final JWTAccessDeniedHandler accessDeniedHandler;\r\n    \r\n        public SecurityConfig(JwtFilter jwtFilter, JwtAuthenticationEntryPoint authenticationEntryPoint, JWTAccessDeniedHandler accessDeniedHandler) {\r\n            this.jwtFilter = jwtFilter;\r\n            this.authenticationEntryPoint = authenticationEntryPoint;\r\n            this.accessDeniedHandler = accessDeniedHandler;\r\n        }\r\n    \r\n        @Bean\r\n        public AuthenticationManager authenticationManager(final AuthenticationConfiguration authenticationConfiguration) throws Exception {\r\n            return authenticationConfiguration.getAuthenticationManager();\r\n        }\r\n    \r\n        @Bean\r\n        public BCryptPasswordEncoder bCryptPasswordEncoder() {\r\n            return new BCryptPasswordEncoder();\r\n        }\r\n    \r\n        @Bean\r\n        public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n            return http\r\n                    .headers().frameOptions().disable().and()\r\n                    .csrf().disable()\r\n                    .cors().and()\r\n                    .authorizeHttpRequests(auth -&gt; {\r\n                        auth.requestMatchers(&quot;/api/public&quot;, &quot;/h2-console/**&quot;, &quot;/api/auth/login&quot;, &quot;/api/auth/signup&quot;, &quot;/**&quot;).permitAll();\r\n                        auth.requestMatchers(&quot;/api/v1/admin&quot;).hasAuthority(&quot;ADMIN&quot;);\r\n                        auth.requestMatchers(&quot;/api/v1/area&quot;).hasAnyAuthority(&quot;ADMIN&quot;, &quot;USER&quot;);\r\n                        auth.anyRequest().authenticated();\r\n                    })\r\n                    .formLogin().disable()\r\n                    .httpBasic().disable()\r\n                    .exceptionHandling().accessDeniedHandler(accessDeniedHandler)\r\n                    .authenticationEntryPoint(authenticationEntryPoint)\r\n                    .and()\r\n                    .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n                    .and()\r\n                    .addFilterBefore(jwtFilter, UsernamePasswordAuthenticationFilter.class)\r\n                    .build();\r\n        }\r\n    \r\n        @Bean\r\n        public WebSecurityCustomizer webSecurityCustomizer() {\r\n            return (web) -&gt; web.ignoring().requestMatchers\r\n                    (&quot;/api/public&quot;, &quot;/h2-console/**&quot;, &quot;/api/auth/login&quot;, &quot;/api/auth/signup&quot;, &quot;/**&quot;);\r\n        }\r\n    \r\n        @Bean\r\n        public WebMvcConfigurer corsConfigurer() {\r\n            return new WebMvcConfigurer() {\r\n                @Override\r\n                public void addCorsMappings(CorsRegistry registry) {\r\n                    registry.addMapping(&quot;/**&quot;)\r\n                            .allowedMethods(&quot;*&quot;);\r\n                }\r\n            };\r\n        }\r\n    }","title":"Upgrading Spring Security from Spring boot 2.6.6 to Spring Boot 3.1.2","body":"<p>I had made security configuration in spring boot 3 maybe that can help you</p>\n<pre><code>@Configuration\n@EnableWebSecurity\n@EnableGlobalMethodSecurity(prePostEnabled = true)\npublic class SecurityConfig {\n\n    private final JwtFilter jwtFilter;\n    private final JwtAuthenticationEntryPoint authenticationEntryPoint;\n    private final JWTAccessDeniedHandler accessDeniedHandler;\n\n    public SecurityConfig(JwtFilter jwtFilter, JwtAuthenticationEntryPoint authenticationEntryPoint, JWTAccessDeniedHandler accessDeniedHandler) {\n        this.jwtFilter = jwtFilter;\n        this.authenticationEntryPoint = authenticationEntryPoint;\n        this.accessDeniedHandler = accessDeniedHandler;\n    }\n\n    @Bean\n    public AuthenticationManager authenticationManager(final AuthenticationConfiguration authenticationConfiguration) throws Exception {\n        return authenticationConfiguration.getAuthenticationManager();\n    }\n\n    @Bean\n    public BCryptPasswordEncoder bCryptPasswordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        return http\n                .headers().frameOptions().disable().and()\n                .csrf().disable()\n                .cors().and()\n                .authorizeHttpRequests(auth -&gt; {\n                    auth.requestMatchers(&quot;/api/public&quot;, &quot;/h2-console/**&quot;, &quot;/api/auth/login&quot;, &quot;/api/auth/signup&quot;, &quot;/**&quot;).permitAll();\n                    auth.requestMatchers(&quot;/api/v1/admin&quot;).hasAuthority(&quot;ADMIN&quot;);\n                    auth.requestMatchers(&quot;/api/v1/area&quot;).hasAnyAuthority(&quot;ADMIN&quot;, &quot;USER&quot;);\n                    auth.anyRequest().authenticated();\n                })\n                .formLogin().disable()\n                .httpBasic().disable()\n                .exceptionHandling().accessDeniedHandler(accessDeniedHandler)\n                .authenticationEntryPoint(authenticationEntryPoint)\n                .and()\n                .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n                .and()\n                .addFilterBefore(jwtFilter, UsernamePasswordAuthenticationFilter.class)\n                .build();\n    }\n\n    @Bean\n    public WebSecurityCustomizer webSecurityCustomizer() {\n        return (web) -&gt; web.ignoring().requestMatchers\n                (&quot;/api/public&quot;, &quot;/h2-console/**&quot;, &quot;/api/auth/login&quot;, &quot;/api/auth/signup&quot;, &quot;/**&quot;);\n    }\n\n    @Bean\n    public WebMvcConfigurer corsConfigurer() {\n        return new WebMvcConfigurer() {\n            @Override\n            public void addCorsMappings(CorsRegistry registry) {\n                registry.addMapping(&quot;/**&quot;)\n                        .allowedMethods(&quot;*&quot;);\n            }\n        };\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18496791,"reputation":57,"user_id":13475031,"display_name":"azizkale"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692795170,"creation_date":1692795170,"answer_id":76961537,"question_id":76827838,"body_markdown":"Spring Security is updated. And unfortunately `WebSecurityConfigurerAdapter` is no longer supported. You can check it [here][1]. And this can help you:\r\n\r\n    import org.springframework.boot.autoconfigure.security.servlet.PathRequest;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.security.authentication.AuthenticationManager;\r\n    import org.springframework.security.config.annotation.SecurityConfigurerAdapter;\r\n    import org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\n    import org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\n    import org.springframework.security.web.DefaultSecurityFilterChain;    \r\n    import static org.springframework.security.config.Customizer.withDefaults;\r\n    \r\n    @Configuration\r\n    @EnableWebSecurity\r\n    public class SecurityConfiguration extends SecurityConfigurerAdapter&lt;DefaultSecurityFilterChain, HttpSecurity&gt; {\r\n    \r\n        @Override\r\n        public void configure(HttpSecurity http) throws Exception {\r\n    \r\n            AuthenticationManager authenticationManager = http.getSharedObject(AuthenticationManager.class);\r\n            http.addFilter(new CustomFilter(authenticationManager));\r\n    \r\n            http.authorizeHttpRequests((authz) -&gt; authz\r\n                            .requestMatchers(PathRequest.toStaticResources().atCommonLocations()).permitAll()\r\n                            .requestMatchers(&quot;/rest/saveTodo*&quot;).hasRole(&quot;ADMIN&quot;)\r\n                            .requestMatchers(&quot;/**&quot;).denyAll()\r\n                            .requestMatchers(\r\n                                    &quot;/**/index*&quot;,\r\n                                    &quot;/**/logout/&quot;,\r\n                                    &quot;/**/logoutApp&quot;,\r\n                                    &quot;/rest/getversion*&quot;,\r\n                                    &quot;/rest/dologin/*&quot;,\r\n                                    &quot;/rest/menu*&quot;,\r\n                                    &quot;/rest/getScript*&quot;,\r\n                                    &quot;/rest/**&quot;).permitAll()\r\n                            .anyRequest().permitAll())\r\n                    .formLogin(withDefaults()).exceptionHandling((exceptionHandling) -&gt;\r\n                            exceptionHandling.authenticationEntryPoint(forbiddenEntryPoint()))\r\n                    .exceptionHandling((exceptionHandling) -&gt;\r\n                            exceptionHandling.accessDeniedHandler(accessDeniedHandler())) // Use the AccessDeniedHandler bean here\r\n                    .and()             \r\n                    .csrf().disable()\r\n                    .headers().disable();     \r\n    \r\n    \r\n    }\r\n\r\n\r\n  [1]: https://spring.io/blog/2022/02/21/spring-security-without-the-websecurityconfigureradapter","title":"Upgrading Spring Security from Spring boot 2.6.6 to Spring Boot 3.1.2","body":"<p>Spring Security is updated. And unfortunately <code>WebSecurityConfigurerAdapter</code> is no longer supported. You can check it <a href=\"https://spring.io/blog/2022/02/21/spring-security-without-the-websecurityconfigureradapter\" rel=\"nofollow noreferrer\">here</a>. And this can help you:</p>\n<pre><code>import org.springframework.boot.autoconfigure.security.servlet.PathRequest;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.authentication.AuthenticationManager;\nimport org.springframework.security.config.annotation.SecurityConfigurerAdapter;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.web.DefaultSecurityFilterChain;    \nimport static org.springframework.security.config.Customizer.withDefaults;\n\n@Configuration\n@EnableWebSecurity\npublic class SecurityConfiguration extends SecurityConfigurerAdapter&lt;DefaultSecurityFilterChain, HttpSecurity&gt; {\n\n    @Override\n    public void configure(HttpSecurity http) throws Exception {\n\n        AuthenticationManager authenticationManager = http.getSharedObject(AuthenticationManager.class);\n        http.addFilter(new CustomFilter(authenticationManager));\n\n        http.authorizeHttpRequests((authz) -&gt; authz\n                        .requestMatchers(PathRequest.toStaticResources().atCommonLocations()).permitAll()\n                        .requestMatchers(&quot;/rest/saveTodo*&quot;).hasRole(&quot;ADMIN&quot;)\n                        .requestMatchers(&quot;/**&quot;).denyAll()\n                        .requestMatchers(\n                                &quot;/**/index*&quot;,\n                                &quot;/**/logout/&quot;,\n                                &quot;/**/logoutApp&quot;,\n                                &quot;/rest/getversion*&quot;,\n                                &quot;/rest/dologin/*&quot;,\n                                &quot;/rest/menu*&quot;,\n                                &quot;/rest/getScript*&quot;,\n                                &quot;/rest/**&quot;).permitAll()\n                        .anyRequest().permitAll())\n                .formLogin(withDefaults()).exceptionHandling((exceptionHandling) -&gt;\n                        exceptionHandling.authenticationEntryPoint(forbiddenEntryPoint()))\n                .exceptionHandling((exceptionHandling) -&gt;\n                        exceptionHandling.accessDeniedHandler(accessDeniedHandler())) // Use the AccessDeniedHandler bean here\n                .and()             \n                .csrf().disable()\n                .headers().disable();     \n\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24440940,"reputation":3122,"user_id":18364656,"display_name":"Andrei Lisa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693479786,"creation_date":1693479786,"answer_id":77015226,"question_id":76827838,"body_markdown":"Based on your information that, before migration to `3.1.2` version all work great and `SecurityContextHolder.getContext().getAuthentication()` didn&#39;t return `null`. The problem is in the newest configuration.\r\n\r\nAlso according to oldest configuration from `2.6.6`, the `3.1.2` configuration should look so:\r\n\r\n      @Bean\r\n      public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n          http.csrf(AbstractHttpConfigurer::disable);\r\n          http.headers(AbstractHttpConfigurer::disable);\r\n          http.exceptionHandling(handlingConfigurer -&gt; {\r\n                  handlingConfigurer.accessDeniedPage(accessDeniedHandler());\r\n                  handlingConfigurer.authenticationEntryPoint(forbiddenEntryPoint());\r\n          });\r\n          http.addFilterAt(preAuthFilter(), AbstractPreAuthenticatedProcessingFilter.class);\r\n          http.authorizeHttpRequests(request -&gt; {\r\n             request.requestMatchers(&quot;/**/index*&quot;,\r\n                 &quot;/**/logout/&quot;,\r\n                 &quot;/**/logoutApp&quot;,\r\n                 &quot;/rest/getversion*&quot;,\r\n                 &quot;/rest/dologin/*&quot;,\r\n                 &quot;/rest/menu*&quot;,\r\n                 &quot;/rest/getScript*&quot;,\r\n                 &quot;/rest/**&quot;).permitAll();\r\n             request.requestMatchers(&quot;/rest/saveTodo*&quot;).hasRole(&quot;ADMIN&quot;);\r\n             request.requestMatchers(&quot;/**&quot;).denyAll();\r\n              });\r\n          return http.build();\r\n        }\r\n    \r\n      @Bean\r\n      public WebSecurityCustomizer webSecurityCustomizer() {\r\n        return (web) -&gt; web.ignoring().requestMatchers(&quot;/**/*.png*&quot;,&quot;/**/*.js*&quot;,&quot;/**/*.jpg*&quot;,&quot;/**/*.svg*&quot;,&quot;/**/*.ico*&quot;,\r\n                &quot;/**/*.css*&quot;,&quot;/**/login*&quot;,&quot;/**/*.woff*&quot;,&quot;/**/*.ttf*&quot;,&quot;/**/*.eot*&quot;);\r\n      }\r\n\r\n","title":"Upgrading Spring Security from Spring boot 2.6.6 to Spring Boot 3.1.2","body":"<p>Based on your information that, before migration to <code>3.1.2</code> version all work great and <code>SecurityContextHolder.getContext().getAuthentication()</code> didn't return <code>null</code>. The problem is in the newest configuration.</p>\n<p>Also according to oldest configuration from <code>2.6.6</code>, the <code>3.1.2</code> configuration should look so:</p>\n<pre><code>  @Bean\n  public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n      http.csrf(AbstractHttpConfigurer::disable);\n      http.headers(AbstractHttpConfigurer::disable);\n      http.exceptionHandling(handlingConfigurer -&gt; {\n              handlingConfigurer.accessDeniedPage(accessDeniedHandler());\n              handlingConfigurer.authenticationEntryPoint(forbiddenEntryPoint());\n      });\n      http.addFilterAt(preAuthFilter(), AbstractPreAuthenticatedProcessingFilter.class);\n      http.authorizeHttpRequests(request -&gt; {\n         request.requestMatchers(&quot;/**/index*&quot;,\n             &quot;/**/logout/&quot;,\n             &quot;/**/logoutApp&quot;,\n             &quot;/rest/getversion*&quot;,\n             &quot;/rest/dologin/*&quot;,\n             &quot;/rest/menu*&quot;,\n             &quot;/rest/getScript*&quot;,\n             &quot;/rest/**&quot;).permitAll();\n         request.requestMatchers(&quot;/rest/saveTodo*&quot;).hasRole(&quot;ADMIN&quot;);\n         request.requestMatchers(&quot;/**&quot;).denyAll();\n          });\n      return http.build();\n    }\n\n  @Bean\n  public WebSecurityCustomizer webSecurityCustomizer() {\n    return (web) -&gt; web.ignoring().requestMatchers(&quot;/**/*.png*&quot;,&quot;/**/*.js*&quot;,&quot;/**/*.jpg*&quot;,&quot;/**/*.svg*&quot;,&quot;/**/*.ico*&quot;,\n            &quot;/**/*.css*&quot;,&quot;/**/login*&quot;,&quot;/**/*.woff*&quot;,&quot;/**/*.ttf*&quot;,&quot;/**/*.eot*&quot;);\n  }\n</code></pre>\n"}],"owner":{"account_id":27842670,"reputation":31,"user_id":21258841,"display_name":"kindMeetsEvil"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1107,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1697705284,"creation_date":1691063740,"question_id":76827838,"body_markdown":"I am migrating a Spring Boot application from Spring boot 2.6.6 to 3.1.2 in which most of the methods in http security are either deprecated or removed. \r\n\r\nI googled a lot of places but I am unable to convert this specific configuration into Spring Boot 3.1.X configuration. \r\n\r\nBelow are the methods which were written using a class which is extending WebSecurityConfigurerAdapter.\r\nNote : preAuthFilter(), accessDeniedHandler() &amp; forbiddenEntryPoint() are methods defined in same class\r\n\r\n```\r\n@Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        http\r\n            .antMatcher(&quot;/**&quot;).exceptionHandling().authenticationEntryPoint(forbiddenEntryPoint())\r\n            .and().authorizeRequests().antMatchers(\r\n                &quot;/**/index*&quot;,\r\n                &quot;/**/logout/&quot;,\r\n                &quot;/**/logoutApp&quot;,\r\n                &quot;/rest/getversion*&quot;,\r\n                &quot;/rest/dologin/*&quot;,\r\n                &quot;/rest/menu*&quot;,\r\n                &quot;/rest/getScript*&quot;,\r\n                &quot;/rest/**&quot;).permitAll().antMatchers(&quot;/rest/saveTodo*&quot;).hasRole(&quot;ADMIN&quot;)\r\n            .antMatchers(&quot;/**&quot;).denyAll()\r\n            .and()\r\n            .addFilterAt(preAuthFilter(), AbstractPreAuthenticatedProcessingFilter.class)\r\n            .exceptionHandling().accessDeniedHandler(accessDeniedHandler())\r\n            .and().csrf().disable()\r\n            .headers().disable();\r\n    }\r\n\r\n@Override\r\n    public void configure(WebSecurity web) {\r\n        web\r\n            .ignoring()\r\n            .antMatchers(&quot;/**/*.png*&quot;,&quot;/**/*.js*&quot;,&quot;/**/*.jpg*&quot;,&quot;/**/*.svg*&quot;,&quot;/**/*.ico*&quot;,\r\n                &quot;/**/*.css*&quot;,&quot;/**/login*&quot;,&quot;/**/*.woff*&quot;,&quot;/**/*.ttf*&quot;,&quot;/**/*.eot*&quot;);\r\n    }\r\n\r\n```\r\n\r\n\r\n\r\nI tried changing the above code to below one :\r\n\r\n```\r\n@Bean\r\npublic SecurityFilterChain springFilterChain(HttpSecurity http) throws Exception {\r\nreturn http.authorizeHttpRequests(req -&gt; req.requestMatchers(\r\n                new AntPathRequestMatcher(new AntPathRequestMatcher(&quot;/**&quot;))))\r\n                    .exceptionHandling(request -&gt; request.authenticationEntryPoint(forbiddenEntryPoint()))\r\n                    .authorizeHttpRequests(request -&gt; request\r\n                            .requestMatchers(\r\n                                    new AntPathRequestMatcher(&quot;/**/index*&quot;), \r\n                                    new AntPathRequestMatcher(&quot;/**/logout/&quot;),\r\n                                    new AntPathRequestMatcher(&quot;/**/logoutApp&quot;), \r\n                                    new AntPathRequestMatcher(&quot;/rest/getversion*&quot;),\r\n                                    new AntPathRequestMatcher(&quot;/rest/dologin/*&quot;),\r\n                                    new AntPathRequestMatcher(&quot;/rest/menu*&quot;),\r\n                                    new AntPathRequestMatcher(&quot;/rest/getScript*&quot;), \r\n                                    new AntPathRequestMatcher(&quot;/rest/**&quot;),\r\n                                    new AntPathRequestMatcher(&quot;/waveinventoryservice/**&quot;))\r\n                            .permitAll()\r\n                            .requestMatchers(new AntPathRequestMatcher(&quot;/rest/saveTodo*&quot;)).hasRole(&quot;ADMIN&quot;)\r\n                            .requestMatchers(new AntPathRequestMatcher(&quot;/**&quot;))\r\n                            .denyAll())\r\n                    .addFilterAt(preAuthFilter(), AbstractPreAuthenticatedProcessingFilter.class)\r\n                    .exceptionHandling(handler -&gt; handler.accessDeniedHandler(accessDeniedHandler()))\r\n                    .csrf(CsrfConfigurer::disable).headers(HeadersConfigurer::disable).build();\r\n}\r\n\r\n@Bean\r\n\tpublic WebSecurityCustomizer webSecurityCustomizer() {\r\n\t\treturn (web) -&gt; web.ignoring().requestMatchers(new AntPathRequestMatcher(&quot;/**/*.png*&quot;),\r\n\t\t\t\tnew AntPathRequestMatcher(&quot;/**/*.js*&quot;),\r\n\t\t\t\tnew AntPathRequestMatcher(&quot;/**/*.jpg*&quot;),\r\n\t\t\t\tnew AntPathRequestMatcher(&quot;/**/*.svg*&quot;),\r\n\t\t\t\tnew AntPathRequestMatcher(&quot;/**/*.ico*&quot;),\r\n\t\t\t\tnew AntPathRequestMatcher(&quot;/**/*.css*&quot;),\r\n\t\t\t\tnew AntPathRequestMatcher(&quot;/**/login*&quot;),\r\n\t\t\t\tnew AntPathRequestMatcher(&quot;/**/*.woff*&quot;),\r\n\t\t\t\tnew AntPathRequestMatcher(&quot;/**/*.ttf*&quot;),\r\n\t\t\t\tnew AntPathRequestMatcher(&quot;/**/*.eot*&quot;));\r\n\t}\r\n```\r\n\r\nthis code seems to be not working because I&#39;m getting null in the controllers &amp; filters on invoking the method :  `SecurityContextHolder.getContext().getAuthentication()` even after setting it in one api with URL &quot;rest/dologin/{userId}&quot;\r\n\r\npreviously with the old configuration it was working but not now, can someone please try to help me out in changing this configuration?","title":"Upgrading Spring Security from Spring boot 2.6.6 to Spring Boot 3.1.2","body":"<p>I am migrating a Spring Boot application from Spring boot 2.6.6 to 3.1.2 in which most of the methods in http security are either deprecated or removed.</p>\n<p>I googled a lot of places but I am unable to convert this specific configuration into Spring Boot 3.1.X configuration.</p>\n<p>Below are the methods which were written using a class which is extending WebSecurityConfigurerAdapter.\nNote : preAuthFilter(), accessDeniedHandler() &amp; forbiddenEntryPoint() are methods defined in same class</p>\n<pre><code>@Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http\n            .antMatcher(&quot;/**&quot;).exceptionHandling().authenticationEntryPoint(forbiddenEntryPoint())\n            .and().authorizeRequests().antMatchers(\n                &quot;/**/index*&quot;,\n                &quot;/**/logout/&quot;,\n                &quot;/**/logoutApp&quot;,\n                &quot;/rest/getversion*&quot;,\n                &quot;/rest/dologin/*&quot;,\n                &quot;/rest/menu*&quot;,\n                &quot;/rest/getScript*&quot;,\n                &quot;/rest/**&quot;).permitAll().antMatchers(&quot;/rest/saveTodo*&quot;).hasRole(&quot;ADMIN&quot;)\n            .antMatchers(&quot;/**&quot;).denyAll()\n            .and()\n            .addFilterAt(preAuthFilter(), AbstractPreAuthenticatedProcessingFilter.class)\n            .exceptionHandling().accessDeniedHandler(accessDeniedHandler())\n            .and().csrf().disable()\n            .headers().disable();\n    }\n\n@Override\n    public void configure(WebSecurity web) {\n        web\n            .ignoring()\n            .antMatchers(&quot;/**/*.png*&quot;,&quot;/**/*.js*&quot;,&quot;/**/*.jpg*&quot;,&quot;/**/*.svg*&quot;,&quot;/**/*.ico*&quot;,\n                &quot;/**/*.css*&quot;,&quot;/**/login*&quot;,&quot;/**/*.woff*&quot;,&quot;/**/*.ttf*&quot;,&quot;/**/*.eot*&quot;);\n    }\n\n</code></pre>\n<p>I tried changing the above code to below one :</p>\n<pre><code>@Bean\npublic SecurityFilterChain springFilterChain(HttpSecurity http) throws Exception {\nreturn http.authorizeHttpRequests(req -&gt; req.requestMatchers(\n                new AntPathRequestMatcher(new AntPathRequestMatcher(&quot;/**&quot;))))\n                    .exceptionHandling(request -&gt; request.authenticationEntryPoint(forbiddenEntryPoint()))\n                    .authorizeHttpRequests(request -&gt; request\n                            .requestMatchers(\n                                    new AntPathRequestMatcher(&quot;/**/index*&quot;), \n                                    new AntPathRequestMatcher(&quot;/**/logout/&quot;),\n                                    new AntPathRequestMatcher(&quot;/**/logoutApp&quot;), \n                                    new AntPathRequestMatcher(&quot;/rest/getversion*&quot;),\n                                    new AntPathRequestMatcher(&quot;/rest/dologin/*&quot;),\n                                    new AntPathRequestMatcher(&quot;/rest/menu*&quot;),\n                                    new AntPathRequestMatcher(&quot;/rest/getScript*&quot;), \n                                    new AntPathRequestMatcher(&quot;/rest/**&quot;),\n                                    new AntPathRequestMatcher(&quot;/waveinventoryservice/**&quot;))\n                            .permitAll()\n                            .requestMatchers(new AntPathRequestMatcher(&quot;/rest/saveTodo*&quot;)).hasRole(&quot;ADMIN&quot;)\n                            .requestMatchers(new AntPathRequestMatcher(&quot;/**&quot;))\n                            .denyAll())\n                    .addFilterAt(preAuthFilter(), AbstractPreAuthenticatedProcessingFilter.class)\n                    .exceptionHandling(handler -&gt; handler.accessDeniedHandler(accessDeniedHandler()))\n                    .csrf(CsrfConfigurer::disable).headers(HeadersConfigurer::disable).build();\n}\n\n@Bean\n    public WebSecurityCustomizer webSecurityCustomizer() {\n        return (web) -&gt; web.ignoring().requestMatchers(new AntPathRequestMatcher(&quot;/**/*.png*&quot;),\n                new AntPathRequestMatcher(&quot;/**/*.js*&quot;),\n                new AntPathRequestMatcher(&quot;/**/*.jpg*&quot;),\n                new AntPathRequestMatcher(&quot;/**/*.svg*&quot;),\n                new AntPathRequestMatcher(&quot;/**/*.ico*&quot;),\n                new AntPathRequestMatcher(&quot;/**/*.css*&quot;),\n                new AntPathRequestMatcher(&quot;/**/login*&quot;),\n                new AntPathRequestMatcher(&quot;/**/*.woff*&quot;),\n                new AntPathRequestMatcher(&quot;/**/*.ttf*&quot;),\n                new AntPathRequestMatcher(&quot;/**/*.eot*&quot;));\n    }\n</code></pre>\n<p>this code seems to be not working because I'm getting null in the controllers &amp; filters on invoking the method :  <code>SecurityContextHolder.getContext().getAuthentication()</code> even after setting it in one api with URL &quot;rest/dologin/{userId}&quot;</p>\n<p>previously with the old configuration it was working but not now, can someone please try to help me out in changing this configuration?</p>\n"},{"tags":["java","sqlite","crud"],"owner":{"account_id":24070389,"reputation":1,"user_id":18046391,"display_name":"Kelvin Huynh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697705050,"creation_date":1697691224,"question_id":77321037,"body_markdown":"I&#39;m doing CRUD&#39;s using a SQLite database with OrmLite. Also, using DAO and Repository pattern.\r\n\r\nRight now, I&#39;m trying to get the relation between two tables, where a PK is a PK of other table. In that case I make the relation like in the documentation, doing a ForeignColumn true and give it the column name, and also creating the getters and setters. \r\n\r\nAll good from there, but when I go to the repository, it doesn&#39;t have the same type of data (in the update repository, it needs an int ID and an object that will be updated), but this is weird because I just get the full object not the ID or int of that object. I know that it can&#39;t be compatible with it, but I don&#39;t know how to solve it. I included a couple of images for reference.\r\n\r\nUsing this as PK and also is part of PK in another table. This is a relative to DoorGroups, and Readers is the relational table.\r\n\r\n  ```\r\n  @DatabaseField(canBeNull = false, foreign = true, columnName=&quot;doorGroupId&quot;)\r\n  private DoorGroups doorGroups ;\r\n  @DatabaseField(canBeNull = false, foreign = true, columnName=&quot;readerId&quot;)\r\n  private Readers readers ;\r\n\r\n  @ForeignCollectionField(eager = false)\r\n  //Where the FK comes from\r\n  ForeignCollection&lt;DoorGroups&gt; doorGroupsForeignCollection;\r\n  @ForeignCollectionField(eager = false)\r\n  //Where the FK comes from\r\n  ForeignCollection&lt;Readers&gt; readersForeignCollection;\r\n\r\n  public DoorGroups getDoorGroups() {\r\n    return doorGroups;\r\n  }\r\n\r\n  public void setDoorGroups(DoorGroups doorGroups) {\r\n    this.doorGroups = doorGroups;\r\n  }\r\n\r\n  public ForeignCollection&lt;Readers&gt; getReadersForeignCollection() {\r\n    return readersForeignCollection;\r\n  }\r\n\r\n  public ForeignCollection&lt;DoorGroups&gt; getDoorGroupsForeignCollection() {\r\n    return doorGroupsForeignCollection;\r\n  }\r\n```\r\n\r\nBut in the repository, if I get update method, it cant receive an int arg =&gt; (See photo)\r\n\r\n[image issue][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/4LUC3.png","title":"How to update a relationship between two tables with SQLite and OrmLite in Android?","body":"<p>I'm doing CRUD's using a SQLite database with OrmLite. Also, using DAO and Repository pattern.</p>\n<p>Right now, I'm trying to get the relation between two tables, where a PK is a PK of other table. In that case I make the relation like in the documentation, doing a ForeignColumn true and give it the column name, and also creating the getters and setters.</p>\n<p>All good from there, but when I go to the repository, it doesn't have the same type of data (in the update repository, it needs an int ID and an object that will be updated), but this is weird because I just get the full object not the ID or int of that object. I know that it can't be compatible with it, but I don't know how to solve it. I included a couple of images for reference.</p>\n<p>Using this as PK and also is part of PK in another table. This is a relative to DoorGroups, and Readers is the relational table.</p>\n<pre><code>@DatabaseField(canBeNull = false, foreign = true, columnName=&quot;doorGroupId&quot;)\nprivate DoorGroups doorGroups ;\n@DatabaseField(canBeNull = false, foreign = true, columnName=&quot;readerId&quot;)\nprivate Readers readers ;\n\n@ForeignCollectionField(eager = false)\n//Where the FK comes from\nForeignCollection&lt;DoorGroups&gt; doorGroupsForeignCollection;\n@ForeignCollectionField(eager = false)\n//Where the FK comes from\nForeignCollection&lt;Readers&gt; readersForeignCollection;\n\npublic DoorGroups getDoorGroups() {\n  return doorGroups;\n}\n\npublic void setDoorGroups(DoorGroups doorGroups) {\n  this.doorGroups = doorGroups;\n}\n\npublic ForeignCollection&lt;Readers&gt; getReadersForeignCollection() {\n  return readersForeignCollection;\n}\n\npublic ForeignCollection&lt;DoorGroups&gt; getDoorGroupsForeignCollection() {\n  return doorGroupsForeignCollection;\n}\n</code></pre>\n<p>But in the repository, if I get update method, it cant receive an int arg =&gt; (See photo)</p>\n<p><a href=\"https://i.stack.imgur.com/4LUC3.png\" rel=\"nofollow noreferrer\">image issue</a></p>\n"},{"tags":["java","android","kotlin","android-studio"],"comments":[{"owner":{"account_id":19315649,"reputation":692,"user_id":14120486,"display_name":"ItzDavi"},"score":1,"creation_date":1697697680,"post_id":77321455,"comment_id":136312922,"body_markdown":"Have a read at this https://blog.jetbrains.com/kotlin/2023/04/kotlin-dsl-is-the-default-for-new-gradle-builds/","body":"Have a read at this <a href=\"https://blog.jetbrains.com/kotlin/2023/04/kotlin-dsl-is-the-default-for-new-gradle-builds/\" rel=\"nofollow noreferrer\">blog.jetbrains.com/kotlin/2023/04/&hellip;</a>"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1697697870,"post_id":77321455,"comment_id":136312944,"body_markdown":"Fundamentally, the Groovy DSL is the same as the Kotlin DSL, except the former is written in Groovy, and the latter is written in Kotlin. Though the Kotlin DSL gives better IDE editing support (because Kotlin is strongly and statically typed). Your actual project can still be in Java if you use the Kotlin DSL.","body":"Fundamentally, the Groovy DSL is the same as the Kotlin DSL, except the former is written in Groovy, and the latter is written in Kotlin. Though the Kotlin DSL gives better IDE editing support (because Kotlin is strongly and statically typed). Your actual project can still be in Java if you use the Kotlin DSL."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1697698010,"post_id":77321455,"comment_id":136312971,"body_markdown":"Version catalogs seem to be a relatively new (and apparently still experimental?) feature (independent of Groovy DSL vs Kotlin DSL). See https://docs.gradle.org/current/userguide/platforms.html","body":"Version catalogs seem to be a relatively new (and apparently still experimental?) feature (independent of Groovy DSL vs Kotlin DSL). See <a href=\"https://docs.gradle.org/current/userguide/platforms.html\" rel=\"nofollow noreferrer\">docs.gradle.org/current/userguide/platforms.html</a>"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1697699866,"post_id":77321455,"comment_id":136313283,"body_markdown":"Not sure I understand your edit. The language used to write the settings/build files is separate from the language used by the actual project.","body":"Not sure I understand your edit. The language used to write the settings/build files is separate from the language used by the actual project."},{"owner":{"account_id":19882630,"reputation":194,"user_id":14566306,"display_name":"TexD"},"score":1,"creation_date":1697700668,"post_id":77321455,"comment_id":136313419,"body_markdown":"@slaw Edit mean for Example If i want to add FacebookAudienceNetwork sdk then there all documentations will be old - documentation say: add this code in BuildGradle-Project ,that time Convert that code in kotlin maybe difficult.","body":"@slaw Edit mean for Example If i want to add FacebookAudienceNetwork sdk then there all documentations will be old - documentation say: add this code in BuildGradle-Project ,that time Convert that code in kotlin maybe difficult."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1697749593,"post_id":77321455,"comment_id":136322534,"body_markdown":"Ideally, non-dead projects would have documentation for both the Kotlin DSL and the Groovy DSL by now. But Gradle does provide a [Kotlin DSL Primer](https://docs.gradle.org/current/userguide/kotlin_dsl.html) and [migration guide](https://docs.gradle.org/current/userguide/migrating_from_groovy_to_kotlin_dsl.html#migrating_groovy_kotlin) if you need help translating. There&#39;s also [Android&#39;s migration guide](https://developer.android.com/build/migrate-to-kotlin-dsl). And it would help to have at least a rudimentary understanding of the [Kotlin language](https://kotlinlang.org/docs/home.html).","body":"Ideally, non-dead projects would have documentation for both the Kotlin DSL and the Groovy DSL by now. But Gradle does provide a <a href=\"https://docs.gradle.org/current/userguide/kotlin_dsl.html\" rel=\"nofollow noreferrer\">Kotlin DSL Primer</a> and <a href=\"https://docs.gradle.org/current/userguide/migrating_from_groovy_to_kotlin_dsl.html#migrating_groovy_kotlin\" rel=\"nofollow noreferrer\">migration guide</a> if you need help translating. There&#39;s also <a href=\"https://developer.android.com/build/migrate-to-kotlin-dsl\" rel=\"nofollow noreferrer\">Android&#39;s migration guide</a>. And it would help to have at least a rudimentary understanding of the <a href=\"https://kotlinlang.org/docs/home.html\" rel=\"nofollow noreferrer\">Kotlin language</a>."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1697749692,"post_id":77321455,"comment_id":136322552,"body_markdown":"All that said, if you&#39;re more comfortable using the Groovy DSL, I&#39;d say go ahead and use it. There are not, as far as I know, plans to deprecate it.","body":"All that said, if you&#39;re more comfortable using the Groovy DSL, I&#39;d say go ahead and use it. There are not, as far as I know, plans to deprecate it."}],"answers":[{"tags":[],"owner":{"account_id":7349100,"reputation":10066,"user_id":5595926,"display_name":"ΓDΛ"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697699179,"creation_date":1697699179,"answer_id":77321636,"question_id":77321455,"body_markdown":"It is a choice related to `build.gradle` management.\r\n\r\n**What is DSL**\r\n\r\n&gt; A DSL is a computer language designed for a specific problem domain.\r\n&gt; It is created to address the needs of a particular industry or\r\n&gt; application. For example, a DSL for statistical analysis might include\r\n&gt; features that make it easy to write and manipulate data sets. A DSL\r\n&gt; for music composition might include features for writing and arranging\r\n&gt; notes and chords.\r\n&gt; \r\n&gt; **DSLs are not general-purpose programming languages**. They are designed\r\n&gt; to be used in a specific domain and provide a more natural and\r\n&gt; intuitive way to write code in that domain. DSLs can be embedded in\r\n&gt; general-purpose programming languages, or they can be stand-alone\r\n&gt; languages.\r\n\r\n\r\n**Kotlin DSL**\r\n\r\nYou use kotlin dsl in build gradle management. It is equivalent to using Kotlin programming language.\r\n\r\n&gt; Kotlin DSLs are DSLs that are written in the Kotlin programming\r\n&gt; language. They allow developers to create a language that is specific\r\n&gt; to their problem domain quickly and easily.\r\n\r\n**Groovy DSL**\r\n\r\nYou use groovy dsl in build gradle management. It is equivalent to using Groovy programming language.\r\n\r\n&gt; The Groovy DSL is a wrapper and extension to Java DSL. The main goal\r\n&gt; we pursue here is to make Spring Integration development on Groovy as\r\n&gt; smooth and straightforward as is it possible with interoperability\r\n&gt; with existing Java DSL and some Groovy extensions or language-specific\r\n&gt; structures.\r\n\r\n","title":"Difference between- Kotlin DSL vs Groovy DSL vs Kotlin SDL+Gradle ? in Android Studio","body":"<p>It is a choice related to <code>build.gradle</code> management.</p>\n<p><strong>What is DSL</strong></p>\n<blockquote>\n<p>A DSL is a computer language designed for a specific problem domain.\nIt is created to address the needs of a particular industry or\napplication. For example, a DSL for statistical analysis might include\nfeatures that make it easy to write and manipulate data sets. A DSL\nfor music composition might include features for writing and arranging\nnotes and chords.</p>\n<p><strong>DSLs are not general-purpose programming languages</strong>. They are designed\nto be used in a specific domain and provide a more natural and\nintuitive way to write code in that domain. DSLs can be embedded in\ngeneral-purpose programming languages, or they can be stand-alone\nlanguages.</p>\n</blockquote>\n<p><strong>Kotlin DSL</strong></p>\n<p>You use kotlin dsl in build gradle management. It is equivalent to using Kotlin programming language.</p>\n<blockquote>\n<p>Kotlin DSLs are DSLs that are written in the Kotlin programming\nlanguage. They allow developers to create a language that is specific\nto their problem domain quickly and easily.</p>\n</blockquote>\n<p><strong>Groovy DSL</strong></p>\n<p>You use groovy dsl in build gradle management. It is equivalent to using Groovy programming language.</p>\n<blockquote>\n<p>The Groovy DSL is a wrapper and extension to Java DSL. The main goal\nwe pursue here is to make Spring Integration development on Groovy as\nsmooth and straightforward as is it possible with interoperability\nwith existing Java DSL and some Groovy extensions or language-specific\nstructures.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1021265,"reputation":15894,"user_id":1031556,"accept_rate":93,"display_name":"Stephan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697699742,"creation_date":1697699343,"answer_id":77321660,"question_id":77321455,"body_markdown":"**Kotlin DSL**: You write your gradle build files in a kotlin dsl and therefore you can use kotlin: see this [primer][1]\r\n\r\n**Kotlin DSL + Version Catalogs**: You still write your gradle build files in kotlin dsl, but the dependency versions are kept in a version catalog file. This helps to share version codes, see this [site][2]\r\n\r\n**Groovy DSL**: The &quot;old&quot; way of writing gradle build files, here the dsl is written in groovy and you can write groovy code.\r\n\r\nTo answer your question, you can choose any of them and you can add any dependency, no matter what they are using.\r\n\r\nThe gradle documentation also provides the option to see sample code in either kotlin or groovy:\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://docs.gradle.org/current/userguide/kotlin_dsl.html\r\n  [2]: https://docs.gradle.org/current/userguide/platforms.html\r\n  [3]: https://i.stack.imgur.com/XdGkn.png","title":"Difference between- Kotlin DSL vs Groovy DSL vs Kotlin SDL+Gradle ? in Android Studio","body":"<p><strong>Kotlin DSL</strong>: You write your gradle build files in a kotlin dsl and therefore you can use kotlin: see this <a href=\"https://docs.gradle.org/current/userguide/kotlin_dsl.html\" rel=\"nofollow noreferrer\">primer</a></p>\n<p><strong>Kotlin DSL + Version Catalogs</strong>: You still write your gradle build files in kotlin dsl, but the dependency versions are kept in a version catalog file. This helps to share version codes, see this <a href=\"https://docs.gradle.org/current/userguide/platforms.html\" rel=\"nofollow noreferrer\">site</a></p>\n<p><strong>Groovy DSL</strong>: The &quot;old&quot; way of writing gradle build files, here the dsl is written in groovy and you can write groovy code.</p>\n<p>To answer your question, you can choose any of them and you can add any dependency, no matter what they are using.</p>\n<p>The gradle documentation also provides the option to see sample code in either kotlin or groovy:\n<a href=\"https://i.stack.imgur.com/XdGkn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XdGkn.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":19882630,"reputation":194,"user_id":14566306,"display_name":"TexD"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":480,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1697704790,"creation_date":1697697330,"question_id":77321455,"body_markdown":"I just update my Android Studio after a long time. There are three options and _Kotlin DSL_ with recommended quote.\r\n\r\nI always code in Java only. So any changes come if I select in Kotlin. Because I never use Kotlin, and their first Activity class come with Kotlin. \r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\nI do not know Groovy/Kotlin language. In future, I want to add any SDK all of their documentations will be in maybe Groovy, then I will face difficulty to add that in Kotlin DSL or not?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/46NB1.png","title":"Difference between- Kotlin DSL vs Groovy DSL vs Kotlin SDL+Gradle ? in Android Studio","body":"<p>I just update my Android Studio after a long time. There are three options and <em>Kotlin DSL</em> with recommended quote.</p>\n<p>I always code in Java only. So any changes come if I select in Kotlin. Because I never use Kotlin, and their first Activity class come with Kotlin.</p>\n<p><a href=\"https://i.stack.imgur.com/46NB1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/46NB1.png\" alt=\"enter image description here\" /></a></p>\n<p>I do not know Groovy/Kotlin language. In future, I want to add any SDK all of their documentations will be in maybe Groovy, then I will face difficulty to add that in Kotlin DSL or not?</p>\n"},{"tags":["java","windows","formatting","usb-drive","fat32"],"answers":[{"tags":[],"owner":{"account_id":1819975,"reputation":11164,"user_id":1654241,"display_name":"Valentin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1386672246,"creation_date":1386672246,"answer_id":20492304,"question_id":20491849,"body_markdown":"If you keep using `format`, I don&#39;t think you&#39;ll be able to avoid [the 32 GB limit that Microsoft imposes on FAT32][1] on all WinNT-based OSes (Win2K+) :\n\n&gt; FAT16 and FAT32 do not scale well. As the volume gets bigger, the file allocation table gets bigger, which dramatically increases the amount of time it takes Windows 2000 to compute how much free space is on the boot volume when the system is restarted.\n&gt;\n&gt; For this reason, you may not create a FAT32 volume larger than 32 GB using the Format utility. However, the Windows 2000 Fastfat driver enables you to mount and fully support a FAT32 volume larger than 32 GB.\n\nYou might be able to avoid this limitation using another implementation of FAT32 but I&#39;m not sure one exists for Windows (I didn&#39;t find one googling a bit). Or you could use pre-WinNT Windows such as Windows 98 or Millenium Edition but I don&#39;t think it would be a good idea.\n\n  [1]: http://technet.microsoft.com/en-us/library/cc938438.aspx","title":"Formatting Fat32 usb drive on Windows","body":"<p>If you keep using <code>format</code>, I don't think you'll be able to avoid <a href=\"http://technet.microsoft.com/en-us/library/cc938438.aspx\" rel=\"nofollow noreferrer\">the 32 GB limit that Microsoft imposes on FAT32</a> on all WinNT-based OSes (Win2K+) :</p>\n<blockquote>\n<p>FAT16 and FAT32 do not scale well. As the volume gets bigger, the file allocation table gets bigger, which dramatically increases the amount of time it takes Windows 2000 to compute how much free space is on the boot volume when the system is restarted.</p>\n<p>For this reason, you may not create a FAT32 volume larger than 32 GB using the Format utility. However, the Windows 2000 Fastfat driver enables you to mount and fully support a FAT32 volume larger than 32 GB.</p>\n</blockquote>\n<p>You might be able to avoid this limitation using another implementation of FAT32 but I'm not sure one exists for Windows (I didn't find one googling a bit). Or you could use pre-WinNT Windows such as Windows 98 or Millenium Edition but I don't think it would be a good idea.</p>\n"},{"tags":[],"owner":{"account_id":2061440,"reputation":2775,"user_id":1837873,"display_name":"r3ap3r"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1386672989,"creation_date":1386672989,"answer_id":20492558,"question_id":20491849,"body_markdown":"Try this :\r\n\r\nhttp://www.ridgecrop.demon.co.uk/index.htm?fat32format.htm\r\n\r\nThis is a 3rd party tool for formatting FAT32 drives beyond 32 GB limit. It has both command line and GUI modes.\r\n\r\nExceeding 32 GB limit for FAT32 drives is not possible through the native **&quot;format&quot;** command on windows.","title":"Formatting Fat32 usb drive on Windows","body":"<p>Try this :</p>\n\n<p><a href=\"http://www.ridgecrop.demon.co.uk/index.htm?fat32format.htm\" rel=\"nofollow\">http://www.ridgecrop.demon.co.uk/index.htm?fat32format.htm</a></p>\n\n<p>This is a 3rd party tool for formatting FAT32 drives beyond 32 GB limit. It has both command line and GUI modes.</p>\n\n<p>Exceeding 32 GB limit for FAT32 drives is not possible through the native <strong>\"format\"</strong> command on windows.</p>\n"},{"tags":[],"owner":{"account_id":2290785,"reputation":23,"user_id":2013670,"display_name":"sx3"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1410542794,"creation_date":1410542794,"answer_id":25813667,"question_id":20491849,"body_markdown":"Try this,\r\n\r\n    Process p = Runtime.getRuntime().exec(&quot;CMD /C format f: /FS:NTFS /Q /X /Y&quot;);\r\n\r\nIt will sove your issue..`NTFS`","title":"Formatting Fat32 usb drive on Windows","body":"<p>Try this,</p>\n\n<pre><code>Process p = Runtime.getRuntime().exec(\"CMD /C format f: /FS:NTFS /Q /X /Y\");\n</code></pre>\n\n<p>It will sove your issue..<code>NTFS</code></p>\n"},{"tags":[],"owner":{"account_id":10392744,"reputation":143,"user_id":7663420,"display_name":"Nathaniel Hibbler"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677446896,"creation_date":1677413300,"answer_id":75571863,"question_id":20491849,"body_markdown":"APPROACH #1\r\nIf your flash drive is F then try formatting as FAT32 at CMD prompt\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    format F: /FS:FAT32\r\n\r\n&lt;!-- end snippet --&gt;\r\nA failed attempt may look like this:\r\n   Insert new disk for drive E:\r\n   and press ENTER when ready...\r\n   The type of the file system is EXFAT.\r\n   The new file system is FAT32.\r\n   Verifying 116.5 GB\r\n   The volume is too big for FAT32.\r\n   Format failed.\r\n\r\nAPPROACH #2\r\nIf that does not work then just download a software like Guiformat to perform the FAT32 format (http://ridgecrop.co.uk/index.htm?guiformat.htm)\r\n\r\n","title":"Formatting Fat32 usb drive on Windows","body":"<p>APPROACH #1\nIf your flash drive is F then try formatting as FAT32 at CMD prompt</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>format F: /FS:FAT32</code></pre>\r\n</div>\r\n</div>\r\n\nA failed attempt may look like this:\nInsert new disk for drive E:\nand press ENTER when ready...\nThe type of the file system is EXFAT.\nThe new file system is FAT32.\nVerifying 116.5 GB\nThe volume is too big for FAT32.\nFormat failed.</p>\n<p>APPROACH #2\nIf that does not work then just download a software like Guiformat to perform the FAT32 format (<a href=\"http://ridgecrop.co.uk/index.htm?guiformat.htm\" rel=\"nofollow noreferrer\">http://ridgecrop.co.uk/index.htm?guiformat.htm</a>)</p>\n"}],"owner":{"account_id":485618,"reputation":2445,"user_id":902025,"accept_rate":95,"display_name":"Maxbester"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4044,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":20492558,"answer_count":4,"score":0,"last_activity_date":1697704686,"creation_date":1386671028,"question_id":20491849,"body_markdown":"**What is the best way to format an usb drive (&gt; 32Gb) with Java on Windows?**\r\n\r\nI tried to use the `format` function:\r\n\r\n    Process p = Runtime.getRuntime().exec(&quot;CMD /C format f: /FS:FAT32 /Q /X /Y&quot;);\r\n\r\nBut the size of the drive is limited to 32Gb. My usb drive is larger than 100Gb.\r\n\r\nCould I do it using JNI or will I be limited with the 32Gb?\r\n","title":"Formatting Fat32 usb drive on Windows","body":"<p><strong>What is the best way to format an usb drive (&gt; 32Gb) with Java on Windows?</strong></p>\n<p>I tried to use the <code>format</code> function:</p>\n<pre><code>Process p = Runtime.getRuntime().exec(&quot;CMD /C format f: /FS:FAT32 /Q /X /Y&quot;);\n</code></pre>\n<p>But the size of the drive is limited to 32Gb. My usb drive is larger than 100Gb.</p>\n<p>Could I do it using JNI or will I be limited with the 32Gb?</p>\n"},{"tags":["java","spring-boot","spring-security","oauth-2.0","spring-security-oauth2"],"answers":[{"tags":[],"owner":{"account_id":1968635,"reputation":21509,"user_id":1768226,"accept_rate":80,"display_name":"shazin"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1571742225,"creation_date":1571737263,"answer_id":58501388,"question_id":58499410,"body_markdown":"There is a `JdbcClientDetailsService` for this specific purpose.\r\n\r\nYou need to define the following table in your database\r\n\r\n    create table oauth_client_details (\r\n      client_id VARCHAR(256) PRIMARY KEY,\r\n      resource_ids VARCHAR(256),\r\n      client_secret VARCHAR(256),\r\n      scope VARCHAR(256),\r\n      authorized_grant_types VARCHAR(256),\r\n      web_server_redirect_uri VARCHAR(256),\r\n      authorities VARCHAR(256),\r\n      access_token_validity INTEGER,\r\n      refresh_token_validity INTEGER,\r\n      additional_information VARCHAR(4096),\r\n      autoapprove VARCHAR(256)\r\n    );\r\n\r\nand configure your Oauth2 authorization server as following\r\n\r\n    @Configuration\r\n    @EnableAuthorizationServer\r\n    public class OAuth2AuthorizationServerConfigurer extends AuthorizationServerConfigurerAdapter {\r\n    \r\n        @Autowired\r\n        private DataSource dataSource;\r\n    \r\n        @Override\r\n        public void configure(ClientDetailsServiceConfigurer clients) throws Exception {\r\n            clients.jdbc(dataSource);\r\n        }\r\n    \r\n    }\r\n\r\nAnd finally you can inject `JdbcClientDetailsService` bean in the location you are registering a `companyId`.\r\n\r\n    @Autowired\r\n    JdbcClientDetailsService jdbcClientDetailsService;\r\n    \r\n    ...\r\n    BaseClientDetails clientDetails = new BaseClientDetails(companyId, resourceIds, scopes, grantTypes, authorities);\r\n    clientDetails.setClientSecret(&quot;generatedpassword&quot;);\r\n    jdbcClientDetailsService.addClientDetails(clientDetails);\r\n\r\nFinally you can login using those client credentials.\r\n\r\n**UPDATE**\r\n\r\nIf you want your passwords to be hashed you can set a PasswordEncoder as below.\r\n\r\n    clients.jdbc(dataSource)\r\n                    .passwordEncoder(new BCryptPasswordEncoder())\r\n\r\n`BaseClientDetails` is available in package `org.springframework.security.oauth2.provider.client`.\r\n\r\nThe client secret will not be generated by the service. You need to generate it and set it to `BaseClientDetails`.","title":"How to generate client-id &amp; client-secret in spring-boot and store in database?","body":"<p>There is a <code>JdbcClientDetailsService</code> for this specific purpose.</p>\n\n<p>You need to define the following table in your database</p>\n\n<pre><code>create table oauth_client_details (\n  client_id VARCHAR(256) PRIMARY KEY,\n  resource_ids VARCHAR(256),\n  client_secret VARCHAR(256),\n  scope VARCHAR(256),\n  authorized_grant_types VARCHAR(256),\n  web_server_redirect_uri VARCHAR(256),\n  authorities VARCHAR(256),\n  access_token_validity INTEGER,\n  refresh_token_validity INTEGER,\n  additional_information VARCHAR(4096),\n  autoapprove VARCHAR(256)\n);\n</code></pre>\n\n<p>and configure your Oauth2 authorization server as following</p>\n\n<pre><code>@Configuration\n@EnableAuthorizationServer\npublic class OAuth2AuthorizationServerConfigurer extends AuthorizationServerConfigurerAdapter {\n\n    @Autowired\n    private DataSource dataSource;\n\n    @Override\n    public void configure(ClientDetailsServiceConfigurer clients) throws Exception {\n        clients.jdbc(dataSource);\n    }\n\n}\n</code></pre>\n\n<p>And finally you can inject <code>JdbcClientDetailsService</code> bean in the location you are registering a <code>companyId</code>.</p>\n\n<pre><code>@Autowired\nJdbcClientDetailsService jdbcClientDetailsService;\n\n...\nBaseClientDetails clientDetails = new BaseClientDetails(companyId, resourceIds, scopes, grantTypes, authorities);\nclientDetails.setClientSecret(\"generatedpassword\");\njdbcClientDetailsService.addClientDetails(clientDetails);\n</code></pre>\n\n<p>Finally you can login using those client credentials.</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>If you want your passwords to be hashed you can set a PasswordEncoder as below.</p>\n\n<pre><code>clients.jdbc(dataSource)\n                .passwordEncoder(new BCryptPasswordEncoder())\n</code></pre>\n\n<p><code>BaseClientDetails</code> is available in package <code>org.springframework.security.oauth2.provider.client</code>.</p>\n\n<p>The client secret will not be generated by the service. You need to generate it and set it to <code>BaseClientDetails</code>.</p>\n"},{"tags":[],"owner":{"account_id":25690949,"reputation":1,"user_id":19452375,"display_name":"Kudzaishe Brandon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697704490,"creation_date":1697704432,"answer_id":77322164,"question_id":58499410,"body_markdown":"```\r\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\nimport org.springframework.security.oauth2.client.registration.ClientRegistrationRepository;\r\nimport org.springframework.security.oauth2.client.web.OAuth2LoginConfigurer;\r\n\r\n@EnableWebSecurity\r\npublic class SecurityConfiguration extends WebSecurityConfigurerAdapter {\r\n\r\n    private final ClientRegistrationRepository clientRegistrationRepository;\r\n\r\n    public SecurityConfiguration(ClientRegistrationRepository clientRegistrationRepository) {\r\n        this.clientRegistrationRepository = clientRegistrationRepository;\r\n    }\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        http.authorizeRequests()\r\n                .antMatchers(&quot;/&quot;).permitAll()\r\n                .anyRequest().authenticated()\r\n                .and()\r\n                .oauth2Login()\r\n                .clientRegistrationRepository(clientRegistrationRepository);\r\n&#160;&#160;&#160;&#160;}\r\n} \r\n```\r\nneed this code for springboot 3\r\n","title":"How to generate client-id &amp; client-secret in spring-boot and store in database?","body":"<pre><code>import org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.oauth2.client.registration.ClientRegistrationRepository;\nimport org.springframework.security.oauth2.client.web.OAuth2LoginConfigurer;\n\n@EnableWebSecurity\npublic class SecurityConfiguration extends WebSecurityConfigurerAdapter {\n\n    private final ClientRegistrationRepository clientRegistrationRepository;\n\n    public SecurityConfiguration(ClientRegistrationRepository clientRegistrationRepository) {\n        this.clientRegistrationRepository = clientRegistrationRepository;\n    }\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http.authorizeRequests()\n                .antMatchers(&quot;/&quot;).permitAll()\n                .anyRequest().authenticated()\n                .and()\n                .oauth2Login()\n                .clientRegistrationRepository(clientRegistrationRepository);\n    }\n} \n</code></pre>\n<p>need this code for springboot 3</p>\n"}],"owner":{"account_id":2266684,"reputation":1068,"user_id":1995161,"accept_rate":50,"display_name":"AshwinK"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7761,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":58501388,"answer_count":2,"score":2,"last_activity_date":1697704490,"creation_date":1571730553,"question_id":58499410,"body_markdown":"I know questions similar to this already exist on stackoverflow. When I went through them, it didn&#39;t solved the problem I&#39;m looking for.\r\n\r\nI&#39;ve a **spring-boot web service** as `Oaut2ClientManagement`, in which I&#39;ve creating an API which will basically register a new client.\r\nWhen new company is getting registered, the `companyId`(it is predefined in some `company_details` table, yes the company is added in list but not registered to access APIs) is sent so based on that I&#39;ve to generate `client-id` &amp; `client-secret` which I&#39;ll store in `CLIENT_KEY_MANAGEMENT` table. Based on this I write a java code to generating `accessToken`.\r\n\r\nSo my question here is how can I generate **client-id** &amp; **client-secret** based on `companyId` I&#39;ve received in request ? I&#39;ve went through this [answer][1]. But is there any pre-defined way in `spring-boot oauth` which can do this job ? As next step is to generate access token based on it.\r\n\r\nI also went through oAuth [tutorial][2]. But, in this the `client-id` &amp; `client-secret` are stored in properties file not in Database/other source. Also seems like it&#39;s single pair.\r\n\r\n\r\nIt will be great if someone can guide me to achieve above scenario using `spring-boot`.\r\n\r\n  [1]: https://stackoverflow.com/a/23671977/1995161\r\n  [2]: https://spring.io/guides/tutorials/spring-boot-oauth2/","title":"How to generate client-id &amp; client-secret in spring-boot and store in database?","body":"<p>I know questions similar to this already exist on stackoverflow. When I went through them, it didn't solved the problem I'm looking for.</p>\n\n<p>I've a <strong>spring-boot web service</strong> as <code>Oaut2ClientManagement</code>, in which I've creating an API which will basically register a new client.\nWhen new company is getting registered, the <code>companyId</code>(it is predefined in some <code>company_details</code> table, yes the company is added in list but not registered to access APIs) is sent so based on that I've to generate <code>client-id</code> &amp; <code>client-secret</code> which I'll store in <code>CLIENT_KEY_MANAGEMENT</code> table. Based on this I write a java code to generating <code>accessToken</code>.</p>\n\n<p>So my question here is how can I generate <strong>client-id</strong> &amp; <strong>client-secret</strong> based on <code>companyId</code> I've received in request ? I've went through this <a href=\"https://stackoverflow.com/a/23671977/1995161\">answer</a>. But is there any pre-defined way in <code>spring-boot oauth</code> which can do this job ? As next step is to generate access token based on it.</p>\n\n<p>I also went through oAuth <a href=\"https://spring.io/guides/tutorials/spring-boot-oauth2/\" rel=\"nofollow noreferrer\">tutorial</a>. But, in this the <code>client-id</code> &amp; <code>client-secret</code> are stored in properties file not in Database/other source. Also seems like it's single pair.</p>\n\n<p>It will be great if someone can guide me to achieve above scenario using <code>spring-boot</code>.</p>\n"},{"tags":["java","spring-boot","junit","mockito","junit5"],"comments":[{"owner":{"account_id":16500982,"reputation":84,"user_id":13749786,"display_name":"Watermelon"},"score":0,"creation_date":1697719264,"post_id":77321924,"comment_id":136316900,"body_markdown":"try changing the second one to - mock.getMergeRequestApi().getMergeRequest(anyString(), anyLong())","body":"try changing the second one to - mock.getMergeRequestApi().getMergeRequest(anyString(), anyLong())"}],"owner":{"account_id":29706275,"reputation":1,"user_id":22767028,"display_name":"Neel"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697704160,"creation_date":1697702121,"question_id":77321924,"body_markdown":"I have new instance which will be mocked.\r\nI am using `MockedConstruction` for `junit5` for that;\r\n`GitLabApi gitlabApi = new GitLabApi(&quot;&quot;, &quot;&quot;)) `\r\n\r\nit has two methos\r\n\r\n 1. `MergeRequestApi mr = gitlabApi.getMergeRequestApi();`\r\n 2. `mergeRequest = gitlabApi.getMergeRequestApi().getMergeRequest(&quot;&quot;, (long) 1);`\r\n\r\nmethod1 is run as expected but for method2 its throwing `Could not initialize mocked construction`\r\n\r\nfollowing are test case \r\n\r\n\t\ttry(MockedConstruction ruleModelMapper = Mockito.mockConstruction(GitLabApi.class, (mock, context) -&gt; {\r\n\t\t\tMockito.when(mock.getMergeRequestApi()).thenReturn(m);\r\n\t\t\tMockito.when(m.getMergeRequest(anyString(), anyLong())).thenReturn(mr);\r\n\t\t})){\r\n","title":"how to mock method called by MockedConstruction Object","body":"<p>I have new instance which will be mocked.\nI am using <code>MockedConstruction</code> for <code>junit5</code> for that;\n<code>GitLabApi gitlabApi = new GitLabApi(&quot;&quot;, &quot;&quot;)) </code></p>\n<p>it has two methos</p>\n<ol>\n<li><code>MergeRequestApi mr = gitlabApi.getMergeRequestApi();</code></li>\n<li><code>mergeRequest = gitlabApi.getMergeRequestApi().getMergeRequest(&quot;&quot;, (long) 1);</code></li>\n</ol>\n<p>method1 is run as expected but for method2 its throwing <code>Could not initialize mocked construction</code></p>\n<p>following are test case</p>\n<pre><code>    try(MockedConstruction ruleModelMapper = Mockito.mockConstruction(GitLabApi.class, (mock, context) -&gt; {\n        Mockito.when(mock.getMergeRequestApi()).thenReturn(m);\n        Mockito.when(m.getMergeRequest(anyString(), anyLong())).thenReturn(mr);\n    })){\n</code></pre>\n"},{"tags":["java","spring","spring-boot","validation"],"comments":[{"owner":{"account_id":24440940,"reputation":3122,"user_id":18364656,"display_name":"Andrei Lisa"},"score":2,"creation_date":1697637712,"post_id":77317015,"comment_id":136305169,"body_markdown":"can you provide a simple reproductive example with annotations that not work in your case ?","body":"can you provide a simple reproductive example with annotations that not work in your case ?"},{"owner":{"account_id":4688171,"reputation":11056,"user_id":3795036,"accept_rate":88,"display_name":"K.Nicholas"},"score":1,"creation_date":1697637719,"post_id":77317015,"comment_id":136305173,"body_markdown":"Back in the day we had to write lines of code without IDE&#39;s while going down the page both ways each time.","body":"Back in the day we had to write lines of code without IDE&#39;s while going down the page both ways each time."},{"owner":{"account_id":4688171,"reputation":11056,"user_id":3795036,"accept_rate":88,"display_name":"K.Nicholas"},"score":0,"creation_date":1697637764,"post_id":77317015,"comment_id":136305193,"body_markdown":"Posts on stackoverflow get nothing from me.","body":"Posts on stackoverflow get nothing from me."},{"owner":{"account_id":4688171,"reputation":11056,"user_id":3795036,"accept_rate":88,"display_name":"K.Nicholas"},"score":0,"creation_date":1697637863,"post_id":77317015,"comment_id":136305214,"body_markdown":"Does this answer your question? [@min annotation not working](https://stackoverflow.com/questions/48330611/min-annotation-not-working)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/48330611/min-annotation-not-working\">@min annotation not working</a>"},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1697637890,"post_id":77317015,"comment_id":136305223,"body_markdown":"`if (minutes == null || minutes &lt; 0) { throw new IllegalArgumentException(); }` should do it. But if it can&#39;t be `null`, then it should really be `int minutes` (or better yet: `Duration duration`).","body":"<code>if (minutes == null || minutes &lt; 0) { throw new IllegalArgumentException(); }</code> should do it. But if it can&#39;t be <code>null</code>, then it should really be <code>int minutes</code> (or better yet: <code>Duration duration</code>)."},{"owner":{"account_id":83131,"reputation":8752,"user_id":233286,"accept_rate":73,"display_name":"ilhan"},"score":0,"creation_date":1697637891,"post_id":77317015,"comment_id":136305225,"body_markdown":"@K.Nicholas I wish Java had positive integer type.","body":"@K.Nicholas I wish Java had positive integer type."},{"owner":{"account_id":4688171,"reputation":11056,"user_id":3795036,"accept_rate":88,"display_name":"K.Nicholas"},"score":0,"creation_date":1697638026,"post_id":77317015,"comment_id":136305250,"body_markdown":"@ilhan - lol, good luck with that. I think if you follow the above link you&#39;ll see that somehow a validator needs to be invoked. I didn&#39;t look closer but that makes sense to me.","body":"@ilhan - lol, good luck with that. I think if you follow the above link you&#39;ll see that somehow a validator needs to be invoked. I didn&#39;t look closer but that makes sense to me."},{"owner":{"account_id":83131,"reputation":8752,"user_id":233286,"accept_rate":73,"display_name":"ilhan"},"score":0,"creation_date":1697638074,"post_id":77317015,"comment_id":136305260,"body_markdown":"@K.Nicholas, no, it is not very clear what library they are using and unfortunately that one is for properties of objects.","body":"@K.Nicholas, no, it is not very clear what library they are using and unfortunately that one is for properties of objects."},{"owner":{"account_id":4688171,"reputation":11056,"user_id":3795036,"accept_rate":88,"display_name":"K.Nicholas"},"score":1,"creation_date":1697638423,"post_id":77317015,"comment_id":136305344,"body_markdown":"Where does @Min come from? `hibernate-validator`? If so, what makes you think it belongs on some random method parameter?","body":"Where does @Min come from? <code>hibernate-validator</code>? If so, what makes you think it belongs on some random method parameter?"},{"owner":{"account_id":83131,"reputation":8752,"user_id":233286,"accept_rate":73,"display_name":"ilhan"},"score":0,"creation_date":1697638598,"post_id":77317015,"comment_id":136305393,"body_markdown":"@K.Nicholas, I think it was jakarta.validation.constraints.Min.","body":"@K.Nicholas, I think it was jakarta.validation.constraints.Min."},{"owner":{"account_id":2497295,"reputation":3931,"user_id":2173392,"display_name":"pdem"},"score":0,"creation_date":1697639431,"post_id":77317015,"comment_id":136305593,"body_markdown":"see https://stackoverflow.com/questions/9293185/validate-positive-integers","body":"see <a href=\"https://stackoverflow.com/questions/9293185/validate-positive-integers\" title=\"validate positive integers\">stackoverflow.com/questions/9293185/validate-positive-intege&zwnj;&#8203;rs</a>"},{"owner":{"account_id":83131,"reputation":8752,"user_id":233286,"accept_rate":73,"display_name":"ilhan"},"score":0,"creation_date":1697640544,"post_id":77317015,"comment_id":136305856,"body_markdown":"@pdem, those answers are about properties of objects but I am asking for method parameters","body":"@pdem, those answers are about properties of objects but I am asking for method parameters"},{"owner":{"account_id":2497295,"reputation":3931,"user_id":2173392,"display_name":"pdem"},"score":1,"creation_date":1697641362,"post_id":77317015,"comment_id":136306058,"body_markdown":"@ihan let the tag &quot;bean-validation&quot; it&#39;s related to the annotation you use, also need the context of the class, you need `@validated`and `@service`on the class : on this example the validation is on method too https://stackoverflow.com/questions/42755608/springboot-validation-of-a-bean-method-parameters-and-return","body":"@ihan let the tag &quot;bean-validation&quot; it&#39;s related to the annotation you use, also need the context of the class, you need <code>@validated</code>and <code>@service</code>on the class : on this example the validation is on method too <a href=\"https://stackoverflow.com/questions/42755608/springboot-validation-of-a-bean-method-parameters-and-return\" title=\"springboot validation of a bean method parameters and return\">stackoverflow.com/questions/42755608/&hellip;</a>"},{"owner":{"account_id":322981,"reputation":310744,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1697661457,"post_id":77317015,"comment_id":136309579,"body_markdown":"Do you mean [`jakarta.validation.constraints.Positive`](https://jakarta.ee/specifications/bean-validation/3.0/jakarta-bean-validation-spec-3.0#builtinconstraints-positive)?","body":"Do you mean <a href=\"https://jakarta.ee/specifications/bean-validation/3.0/jakarta-bean-validation-spec-3.0#builtinconstraints-positive\" rel=\"nofollow noreferrer\"><code>jakarta.validation.constraints.Positive</code></a>?"},{"owner":{"account_id":83131,"reputation":8752,"user_id":233286,"accept_rate":73,"display_name":"ilhan"},"score":0,"creation_date":1697703290,"post_id":77317015,"comment_id":136313885,"body_markdown":"@pdem, so it looks like whether it works or not is dependent on when an object is created.","body":"@pdem, so it looks like whether it works or not is dependent on when an object is created."},{"owner":{"account_id":11377012,"reputation":12762,"user_id":8340997,"display_name":"Anish B."},"score":0,"creation_date":1697704018,"post_id":77317015,"comment_id":136314019,"body_markdown":"@ilhan Please add your pom.xml","body":"@ilhan Please add your pom.xml"}],"answers":[{"tags":[],"owner":{"account_id":11377012,"reputation":12762,"user_id":8340997,"display_name":"Anish B."},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1697703766,"creation_date":1697641298,"answer_id":77317498,"question_id":77317015,"body_markdown":"I guess you are using `hibernate-validator` dependency in your project and I suspect that you are trying to use the **JSR-303** annotations to validate.\r\n\r\nYou have to use `@Validated` to enable the method parameter validation and to make JSR-303 annotations work in Spring.\r\n\r\nSample code to demonstrate:\r\n\r\n    import jakarta.validation.constraints.PositiveOrZero;\r\n    import org.springframework.validation.annotation.Validated;\r\n\r\n    @Validated\r\n    public class UserDAO {\r\n   \r\n      public List&lt;UserEntity&gt; findUsersCreatedInTheLast(@NonNull \r\n                                               @PositiveOrZero Integer minutes) {\r\n         // logic\r\n      }\r\n    \r\n    }\r\n\r\nThis will throw exception like this when negative number is passed:\r\n\r\n&gt; jakarta.validation.ConstraintViolationException:\r\n&gt; findUsersCreatedInTheLast.minutes: must be greater than or equal to 0\r\n\r\n**Note:** Use `@PositiveOrZero` annotation. It&#39;s much shorter to use.\r\n\r\n**Update:** \r\n\r\nMy pom.xml for testing:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        &lt;parent&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1.4&lt;/version&gt;\r\n            &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n        &lt;/parent&gt;\r\n        &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-mysql&lt;/artifactId&gt;\r\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n        &lt;name&gt;spring-boot-mysql&lt;/name&gt;\r\n        &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n        &lt;properties&gt;\r\n            &lt;java.version&gt;17&lt;/java.version&gt;\r\n        &lt;/properties&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;\r\n                &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;\r\n                &lt;artifactId&gt;hibernate-validator-annotation-processor&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n                &lt;scope&gt;runtime&lt;/scope&gt;\r\n                &lt;optional&gt;true&lt;/optional&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n                &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                &lt;optional&gt;true&lt;/optional&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    \r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;excludes&gt;\r\n                            &lt;exclude&gt;\r\n                                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                                &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                            &lt;/exclude&gt;\r\n                        &lt;/excludes&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\nJust add only these dependencies to your spring boot app.\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hibernate-validator-annotation-processor&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\n\r\n\r\nI have tested. This will work 100%.\r\n","title":"How should I prevent negative integers in Java?","body":"<p>I guess you are using <code>hibernate-validator</code> dependency in your project and I suspect that you are trying to use the <strong>JSR-303</strong> annotations to validate.</p>\n<p>You have to use <code>@Validated</code> to enable the method parameter validation and to make JSR-303 annotations work in Spring.</p>\n<p>Sample code to demonstrate:</p>\n<pre><code>import jakarta.validation.constraints.PositiveOrZero;\nimport org.springframework.validation.annotation.Validated;\n\n@Validated\npublic class UserDAO {\n\n  public List&lt;UserEntity&gt; findUsersCreatedInTheLast(@NonNull \n                                           @PositiveOrZero Integer minutes) {\n     // logic\n  }\n\n}\n</code></pre>\n<p>This will throw exception like this when negative number is passed:</p>\n<blockquote>\n<p>jakarta.validation.ConstraintViolationException:\nfindUsersCreatedInTheLast.minutes: must be greater than or equal to 0</p>\n</blockquote>\n<p><strong>Note:</strong> Use <code>@PositiveOrZero</code> annotation. It's much shorter to use.</p>\n<p><strong>Update:</strong></p>\n<p>My pom.xml for testing:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.1.4&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-mysql&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;spring-boot-mysql&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-validator-annotation-processor&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>Just add only these dependencies to your spring boot app.</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-validator-annotation-processor&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>I have tested. This will work 100%.</p>\n"}],"owner":{"account_id":83131,"reputation":8752,"user_id":233286,"accept_rate":73,"display_name":"ilhan"},"comment_count":16,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":160,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1697703766,"creation_date":1697637593,"question_id":77317015,"body_markdown":"I have a method with a integer parameter and I want to allow only positive or nonnegative integers. What is the best way to achieve this restriction? I have tried with annotations but they do not work.\r\n\r\nI want it to throw exception if it is a negative number.\r\n\r\n    public List&lt;UserEntity&gt; findUsersCreatedInTheLast(@NonNull @Min(value = 0) @Valid @Positive Integer minutes) {","title":"How should I prevent negative integers in Java?","body":"<p>I have a method with a integer parameter and I want to allow only positive or nonnegative integers. What is the best way to achieve this restriction? I have tried with annotations but they do not work.</p>\n<p>I want it to throw exception if it is a negative number.</p>\n<pre><code>public List&lt;UserEntity&gt; findUsersCreatedInTheLast(@NonNull @Min(value = 0) @Valid @Positive Integer minutes) {\n</code></pre>\n"},{"tags":["java","google-api","google-cloud-spanner"],"comments":[{"owner":{"account_id":10326713,"reputation":3074,"user_id":7617957,"display_name":"Knut Olav L&#248;ite"},"score":0,"creation_date":1696620206,"post_id":77246818,"comment_id":136181585,"body_markdown":"The example in your question sets the timeout- and retry settings for the `Read` RPC. This RPC is normally not used by the client library, it will normally use `StreamingRead`. Can you give an example of the part of your code that succeeded in 6.38.2 and fails in 6.45.0?","body":"The example in your question sets the timeout- and retry settings for the <code>Read</code> RPC. This RPC is normally not used by the client library, it will normally use <code>StreamingRead</code>. Can you give an example of the part of your code that succeeded in 6.38.2 and fails in 6.45.0?"},{"owner":{"account_id":224518,"reputation":1240,"user_id":1793757,"accept_rate":62,"display_name":"kpater87"},"score":0,"creation_date":1696621536,"post_id":77246818,"comment_id":136181719,"body_markdown":"I have configuration for bot `Read` and `StreamingRead` both are the same","body":"I have configuration for bot <code>Read</code> and <code>StreamingRead</code> both are the same"},{"owner":{"account_id":224518,"reputation":1240,"user_id":1793757,"accept_rate":62,"display_name":"kpater87"},"score":0,"creation_date":1696621668,"post_id":77246818,"comment_id":136181745,"body_markdown":"Regarding the example, I will try to do it, but it could be after the weekend","body":"Regarding the example, I will try to do it, but it could be after the weekend"},{"owner":{"account_id":224518,"reputation":1240,"user_id":1793757,"accept_rate":62,"display_name":"kpater87"},"score":1,"creation_date":1696854427,"post_id":77246818,"comment_id":136202185,"body_markdown":"It seems that the issue happens only when the session needs to be created. First version that has this behavior is gax 2.28.1. Before that init-rpc-timeout is not taken into account, no retries but result is provided (if got in the total timeout limit)","body":"It seems that the issue happens only when the session needs to be created. First version that has this behavior is gax 2.28.1. Before that init-rpc-timeout is not taken into account, no retries but result is provided (if got in the total timeout limit)"},{"owner":{"account_id":22733057,"reputation":1727,"user_id":16895625,"display_name":"Robert G"},"score":0,"creation_date":1696973714,"post_id":77246818,"comment_id":136220512,"body_markdown":"@kpater87, please post your answer so that it would be helpful to other community members with similar question.","body":"@kpater87, please post your answer so that it would be helpful to other community members with similar question."},{"owner":{"account_id":224518,"reputation":1240,"user_id":1793757,"accept_rate":62,"display_name":"kpater87"},"score":0,"creation_date":1697703685,"post_id":77246818,"comment_id":136313963,"body_markdown":"@RobertG I haven&#39;t put the answer before because it was rather observation than the solution. We fixed the issue by upgrading libs, details in the answer.","body":"@RobertG I haven&#39;t put the answer before because it was rather observation than the solution. We fixed the issue by upgrading libs, details in the answer."}],"answers":[{"tags":[],"owner":{"account_id":22733057,"reputation":1727,"user_id":16895625,"display_name":"Robert G"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697574570,"creation_date":1697574570,"answer_id":77312084,"question_id":77246818,"body_markdown":"Posting this as per comment of @kpater87:\r\n\r\n&gt; It seems that the issue happens only when the session needs to be created. First version that has this behavior is gax 2.28.1. Before that init-rpc-timeout is not taken into account, no retries but result is provided (if got in the total timeout limit).\r\n\r\nYou may check this link on [Google API Extensions for Node.js][1] for reference.\r\n\r\n\r\n  [1]: https://github.com/googleapis/gax-nodejs","title":"Spanner retries doesn&#39;t work after migration from 6.38.2 to 6.45","body":"<p>Posting this as per comment of @kpater87:</p>\n<blockquote>\n<p>It seems that the issue happens only when the session needs to be created. First version that has this behavior is gax 2.28.1. Before that init-rpc-timeout is not taken into account, no retries but result is provided (if got in the total timeout limit).</p>\n</blockquote>\n<p>You may check this link on <a href=\"https://github.com/googleapis/gax-nodejs\" rel=\"nofollow noreferrer\">Google API Extensions for Node.js</a> for reference.</p>\n"},{"tags":[],"owner":{"account_id":224518,"reputation":1240,"user_id":1793757,"accept_rate":62,"display_name":"kpater87"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697703613,"creation_date":1697703613,"answer_id":77322067,"question_id":77246818,"body_markdown":"We solved the issue by upgrading `spring-cloud-gcp-dependencies` to version 3.7.1, it contains:\r\n```\r\ncom.google.cloud:google-cloud-spanner:jar:6.49.0:compile\r\ncom.google.api:gax:jar:2.34.1:compile\r\n```\r\n\r\nVersion 3.7.0 of `spring-cloud-gcp-dependencies` was still affected by the issue, it contains:\r\n```\r\ncom.google.cloud:google-cloud-spanner:jar:6.47.0:compile\r\ncom.google.api:gax:jar:2.33.0:compile\r\n```","title":"Spanner retries doesn&#39;t work after migration from 6.38.2 to 6.45","body":"<p>We solved the issue by upgrading <code>spring-cloud-gcp-dependencies</code> to version 3.7.1, it contains:</p>\n<pre><code>com.google.cloud:google-cloud-spanner:jar:6.49.0:compile\ncom.google.api:gax:jar:2.34.1:compile\n</code></pre>\n<p>Version 3.7.0 of <code>spring-cloud-gcp-dependencies</code> was still affected by the issue, it contains:</p>\n<pre><code>com.google.cloud:google-cloud-spanner:jar:6.47.0:compile\ncom.google.api:gax:jar:2.33.0:compile\n</code></pre>\n"}],"owner":{"account_id":224518,"reputation":1240,"user_id":1793757,"accept_rate":62,"display_name":"kpater87"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1697703613,"creation_date":1696618940,"question_id":77246818,"body_markdown":"After migrating java-spanner lib from version 6.38.2 to 6.45.0 (gax migrated from 2.24 to 2.32) I have observed that retries on DEADLINE_EXCEEDED exception doesn&#39;t work.\r\n\r\nI have custom retry configuration:\r\n\r\n    SpannerStubSettings.Builder settingsBuilder = builder.getSpannerStubSettingsBuilder();\r\n    settingsBuilder.readSettings()\r\n                .setRetryableCodes({StatusCode.Code.DEADLINE_EXCEEDED, StatusCode.Code.UNAVAILABLE})\r\n                .setRetrySettings(\r\n                    RetrySettings.newBuilder()\r\n                        .setInitialRetryDelay(Duration.ofMillis(10))\r\n                        .setMaxRetryDelay(Duration.ofMillis(200))\r\n                        .setRetryDelayMultiplier(1.5)\r\n                        .setInitialRpcTimeout(Duration.ofMillis(100))\r\n                        .setMaxRpcTimeout(Duration.ofMillis(1000))\r\n                        .setRpcTimeoutMultiplier(1.5)\r\n                        .setTotalTimeout(Duration.ofMillis(2000))\r\n                        .build());\r\n\r\nHaving that and version 6.45.0 of the java-spanner lib many requests are ending up with exception DEADLINE_EXCEEDED after 0.0999s, so after initial RPC timeout, no retries after it. Before retries were applied and requests ended up with success.\r\n\r\nHow can it be explained? I&#39;ve checked changes in the lib repository (both java-spanner and gax) but couldn&#39;t match anything for this specific behavior.\r\n\r\n","title":"Spanner retries doesn&#39;t work after migration from 6.38.2 to 6.45","body":"<p>After migrating java-spanner lib from version 6.38.2 to 6.45.0 (gax migrated from 2.24 to 2.32) I have observed that retries on DEADLINE_EXCEEDED exception doesn't work.</p>\n<p>I have custom retry configuration:</p>\n<pre><code>SpannerStubSettings.Builder settingsBuilder = builder.getSpannerStubSettingsBuilder();\nsettingsBuilder.readSettings()\n            .setRetryableCodes({StatusCode.Code.DEADLINE_EXCEEDED, StatusCode.Code.UNAVAILABLE})\n            .setRetrySettings(\n                RetrySettings.newBuilder()\n                    .setInitialRetryDelay(Duration.ofMillis(10))\n                    .setMaxRetryDelay(Duration.ofMillis(200))\n                    .setRetryDelayMultiplier(1.5)\n                    .setInitialRpcTimeout(Duration.ofMillis(100))\n                    .setMaxRpcTimeout(Duration.ofMillis(1000))\n                    .setRpcTimeoutMultiplier(1.5)\n                    .setTotalTimeout(Duration.ofMillis(2000))\n                    .build());\n</code></pre>\n<p>Having that and version 6.45.0 of the java-spanner lib many requests are ending up with exception DEADLINE_EXCEEDED after 0.0999s, so after initial RPC timeout, no retries after it. Before retries were applied and requests ended up with success.</p>\n<p>How can it be explained? I've checked changes in the lib repository (both java-spanner and gax) but couldn't match anything for this specific behavior.</p>\n"},{"tags":["java","hyperlink","native","opencl"],"comments":[{"owner":{"account_id":113969,"reputation":120816,"user_id":299924,"accept_rate":94,"display_name":"trojanfoe"},"score":1,"creation_date":1294777449,"post_id":4662106,"comment_id":5136222,"body_markdown":"As a note about $LD_LIBRARY_PATH, I always prefer to add a file into /etc/ld.so.conf.d and then run &#39;ldconfig&#39;.","body":"As a note about $LD_LIBRARY_PATH, I always prefer to add a file into /etc/ld.so.conf.d and then run &#39;ldconfig&#39;."},{"owner":{"account_id":273624,"reputation":7478,"user_id":565342,"accept_rate":100,"display_name":"gabuzo"},"score":0,"creation_date":1294778045,"post_id":4662106,"comment_id":5136359,"body_markdown":"What&#39;s displayed if you print `System.getProperty(&quot;java.library.path&quot;)` before loading the library?","body":"What&#39;s displayed if you print <code>System.getProperty(&quot;java.library.path&quot;)</code> before loading the library?"},{"owner":{"account_id":211735,"reputation":9951,"user_id":1202394,"accept_rate":88,"display_name":"smuggledPancakes"},"score":0,"creation_date":1294779860,"post_id":4662106,"comment_id":5136733,"body_markdown":"I get something I didn&#39;t expect, a directory within my application. Some code or some project settings I am not aware of probably set it to what it is: java.library.path: /home/&lt;my_username&gt;/Desktop/bp-trunk/app/BlueprintCore/nativelib","body":"I get something I didn&#39;t expect, a directory within my application. Some code or some project settings I am not aware of probably set it to what it is: java.library.path: /home/&lt;my_username&gt;/Desktop/bp-trunk/app/BlueprintCore/nativ&zwnj;&#8203;elib"}],"answers":[{"tags":[],"owner":{"account_id":35787,"reputation":2177,"user_id":101647,"accept_rate":40,"display_name":"time4tea"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1294777129,"creation_date":1294777129,"answer_id":4662175,"question_id":4662106,"body_markdown":"LD_LIBRARY_PATH and java.library.path are not the same, although they are similar. On the command line set -Djava.library.path to the place that your library is in.\r\n\r\nor, even - System.out.println(System.getProperty(&quot;java.library.path&quot;)) just before loading the library - to see what it thinks the path is...","title":"java.lang.UnsatisfiedLinkError, I can&#39;t resolve it","body":"<p>LD_LIBRARY_PATH and java.library.path are not the same, although they are similar. On the command line set -Djava.library.path to the place that your library is in.</p>\n\n<p>or, even - System.out.println(System.getProperty(\"java.library.path\")) just before loading the library - to see what it thinks the path is...</p>\n"}],"owner":{"account_id":211735,"reputation":9951,"user_id":1202394,"accept_rate":88,"display_name":"smuggledPancakes"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4979,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":4662175,"answer_count":1,"score":2,"last_activity_date":1697703351,"creation_date":1294776706,"question_id":4662106,"body_markdown":"I am trying to setup a program that uses Java and OpenCL. I am using JOCL&#39;s bindings for this. Here is the error I get when I build from Ant:\r\n```\r\nError while loading native library &quot;JOCL-linux-x86_64&quot; with base name &quot;JOCL&quot;\r\n    Operating system name: Linux\r\n    Architecture         : amd64\r\n    Architecture bit size: 64\r\n    Stack trace:\r\n    java.lang.UnsatisfiedLinkError: no JOCL-linux-x86_64 in java.library.path\r\n        at java.lang.ClassLoader.loadLibrary(ClassLoader.java:1734)\r\n        at java.lang.Runtime.loadLibrary0(Runtime.java:823)\r\n        ...\r\n        ...\r\n```\r\n\r\nHere is my .bashrc setup:\r\n```lang-bash\r\nexport PATH=.:/bin:/usr/bin:/usr/local/bin://home/djkashta/Desktop/bp-trunk/app/BlueprintCore/scripts:/usr/java/jdk1.6.0_23/bin\r\n\r\nexport LD_LIBRARY_PATH=/usr/local/cuda/lib:/usr/local/cuda/lib64:/usr/lib:/usr/local/lib:/usr/local/cuda/computeprof/bin:/home/djkashta/Desktop/bp-trunk/bundles/CopperShark/native/linux/2.6.28/x86_64/:/usr/java:/usr/java/jdk1.6.0_23/bin/java:/usr/java/jdk1.6.0_23:/usr/java/jdk1.6.0_23/bin:/usr/lib/jvm\r\n\r\nexport LD_PRELOAD=/usr/java/jdk1.6.0_23/jre/lib/amd64/libjsig.so\r\n\r\nexport JDK_HOME=/usr/java/jdk1.6.0_23\r\n\r\nexport JAVA_HOME=/usr/java/jdk1.6.0_23\r\nexport ANT_HOME=/opt/apache-ant-1.7.1\r\n```\r\n\r\nI don&#39;t understand why I have this problem. I don&#39;t get this on my Ubuntu machine which is setup just like this RedHat machine. The `libJOCL-linux-x86_64.so` is present in one of the `LD_LIBRARY_PATH`. If I do which Java, I get: `/usr/java/jdk1.6.0_23/bin/java`\r\n\r\nAny ideas? I am stuck...\r\n\r\n","title":"java.lang.UnsatisfiedLinkError, I can&#39;t resolve it","body":"<p>I am trying to setup a program that uses Java and OpenCL. I am using JOCL's bindings for this. Here is the error I get when I build from Ant:</p>\n<pre><code>Error while loading native library &quot;JOCL-linux-x86_64&quot; with base name &quot;JOCL&quot;\n    Operating system name: Linux\n    Architecture         : amd64\n    Architecture bit size: 64\n    Stack trace:\n    java.lang.UnsatisfiedLinkError: no JOCL-linux-x86_64 in java.library.path\n        at java.lang.ClassLoader.loadLibrary(ClassLoader.java:1734)\n        at java.lang.Runtime.loadLibrary0(Runtime.java:823)\n        ...\n        ...\n</code></pre>\n<p>Here is my .bashrc setup:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>export PATH=.:/bin:/usr/bin:/usr/local/bin://home/djkashta/Desktop/bp-trunk/app/BlueprintCore/scripts:/usr/java/jdk1.6.0_23/bin\n\nexport LD_LIBRARY_PATH=/usr/local/cuda/lib:/usr/local/cuda/lib64:/usr/lib:/usr/local/lib:/usr/local/cuda/computeprof/bin:/home/djkashta/Desktop/bp-trunk/bundles/CopperShark/native/linux/2.6.28/x86_64/:/usr/java:/usr/java/jdk1.6.0_23/bin/java:/usr/java/jdk1.6.0_23:/usr/java/jdk1.6.0_23/bin:/usr/lib/jvm\n\nexport LD_PRELOAD=/usr/java/jdk1.6.0_23/jre/lib/amd64/libjsig.so\n\nexport JDK_HOME=/usr/java/jdk1.6.0_23\n\nexport JAVA_HOME=/usr/java/jdk1.6.0_23\nexport ANT_HOME=/opt/apache-ant-1.7.1\n</code></pre>\n<p>I don't understand why I have this problem. I don't get this on my Ubuntu machine which is setup just like this RedHat machine. The <code>libJOCL-linux-x86_64.so</code> is present in one of the <code>LD_LIBRARY_PATH</code>. If I do which Java, I get: <code>/usr/java/jdk1.6.0_23/bin/java</code></p>\n<p>Any ideas? I am stuck...</p>\n"},{"tags":["java","apache-kafka","apache-kafka-streams"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1636124184,"post_id":69850566,"comment_id":123480572,"body_markdown":"Would you mind showing the streams code you&#39;ve tried so far?","body":"Would you mind showing the streams code you&#39;ve tried so far?"},{"owner":{"account_id":6051517,"reputation":227,"user_id":6817506,"accept_rate":71,"display_name":"ks_on_v"},"score":0,"creation_date":1636125686,"post_id":69850566,"comment_id":123481214,"body_markdown":"@OneCricketeer code was added","body":"@OneCricketeer code was added"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1636125969,"post_id":69850566,"comment_id":123481338,"body_markdown":"You say you are &quot;producing data like this&quot;... Which does not include `Mike` or `John`, so where did those come from?","body":"You say you are &quot;producing data like this&quot;... Which does not include <code>Mike</code> or <code>John</code>, so where did those come from?"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1636126050,"post_id":69850566,"comment_id":123481382,"body_markdown":"And what are you using to view the actual data? I suggest you start with `kafka-console-consumer`, not a UI tool","body":"And what are you using to view the actual data? I suggest you start with <code>kafka-console-consumer</code>, not a UI tool"},{"owner":{"account_id":6051517,"reputation":227,"user_id":6817506,"accept_rate":71,"display_name":"ks_on_v"},"score":0,"creation_date":1636126399,"post_id":69850566,"comment_id":123481521,"body_markdown":"@OneCricketeer Mike, John are keys. I`m using https://www.conduktor.io/","body":"@OneCricketeer Mike, John are keys. I`m using <a href=\"https://www.conduktor.io/\" rel=\"nofollow noreferrer\">conduktor.io</a>"},{"owner":{"account_id":6051517,"reputation":227,"user_id":6817506,"accept_rate":71,"display_name":"ks_on_v"},"score":0,"creation_date":1636126579,"post_id":69850566,"comment_id":123481593,"body_markdown":"@OneCricketeer description was refactored","body":"@OneCricketeer description was refactored"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1636126696,"post_id":69850566,"comment_id":123481640,"body_markdown":"Okay, so if you just want to count the keys, then why does your code use `v.get(&quot;amount&quot;)`?","body":"Okay, so if you just want to count the keys, then why does your code use <code>v.get(&quot;amount&quot;)</code>?"},{"owner":{"account_id":6051517,"reputation":227,"user_id":6817506,"accept_rate":71,"display_name":"ks_on_v"},"score":0,"creation_date":1636126860,"post_id":69850566,"comment_id":123481709,"body_markdown":"@OneCricketeer early i had name on value object. But after i moved name in key. I think it will easy to count","body":"@OneCricketeer early i had name on value object. But after i moved name in key. I think it will easy to count"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1636127156,"post_id":69850566,"comment_id":123481813,"body_markdown":"It doesn&#39;t really matter where the name is located. I&#39;m asking why you think you need to parse out the `amount` field, or even deserialize the value as JSON if you dont care about the actual values?","body":"It doesn&#39;t really matter where the name is located. I&#39;m asking why you think you need to parse out the <code>amount</code> field, or even deserialize the value as JSON if you dont care about the actual values?"}],"answers":[{"tags":[],"owner":{"account_id":6211517,"reputation":362,"user_id":4837677,"accept_rate":83,"display_name":"Luigi Cerone"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673621847,"creation_date":1636104969,"answer_id":69851151,"question_id":69850566,"body_markdown":"You could adapt this [official Confluent Example](https://kafka-tutorials.confluent.io/create-stateful-aggregation-count/kstreams.html) to your use case. The example is very similar to what you are asking.\r\n\r\nTo explain this further, you need to create a stream application in which you read data from the topic into a `KStream`. You haven&#39;t provided information about your key. In the Confluent example, records are repartitioned explicitly using `map()` method, creating a new `KeyValue` instance for each record (you could do something like using `amount` as key). Then events are grouped by key and counted.","title":"Create Kafka Stream for count amount from value","body":"<p>You could adapt this <a href=\"https://kafka-tutorials.confluent.io/create-stateful-aggregation-count/kstreams.html\" rel=\"nofollow noreferrer\">official Confluent Example</a> to your use case. The example is very similar to what you are asking.</p>\n<p>To explain this further, you need to create a stream application in which you read data from the topic into a <code>KStream</code>. You haven't provided information about your key. In the Confluent example, records are repartitioned explicitly using <code>map()</code> method, creating a new <code>KeyValue</code> instance for each record (you could do something like using <code>amount</code> as key). Then events are grouped by key and counted.</p>\n"},{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1636127345,"creation_date":1636127345,"answer_id":69855867,"question_id":69850566,"body_markdown":"If you simply want to count the keys, then you can discard the whole value and replace it with a `1` for every key that is seen. \r\n\r\n    KStream&lt;String, Bytes&gt; textLines = builder.stream(&quot;bank-transactions&quot;, Consumed.with(Serdes.String(), Serdes.Bytes()));\r\n    KTable&lt;String, Long&gt; wordCounts = textLines\r\n            .mapValues(v -&gt; 1L)\r\n            .groupByKey(Serialized.with(Serdes.String(), Serdes.Long()))\r\n            .count();\r\n\r\n    wordCounts.toStream().to(&quot;person-transaction-frequency&quot;, Produced.with(Serdes.String(), Serdes.Long()));\r\n","title":"Create Kafka Stream for count amount from value","body":"<p>If you simply want to count the keys, then you can discard the whole value and replace it with a <code>1</code> for every key that is seen.</p>\n<pre><code>KStream&lt;String, Bytes&gt; textLines = builder.stream(&quot;bank-transactions&quot;, Consumed.with(Serdes.String(), Serdes.Bytes()));\nKTable&lt;String, Long&gt; wordCounts = textLines\n        .mapValues(v -&gt; 1L)\n        .groupByKey(Serialized.with(Serdes.String(), Serdes.Long()))\n        .count();\n\nwordCounts.toStream().to(&quot;person-transaction-frequency&quot;, Produced.with(Serdes.String(), Serdes.Long()));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1967626,"reputation":1413,"user_id":1767424,"accept_rate":0,"display_name":"Karthik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697702855,"creation_date":1697702855,"answer_id":77321991,"question_id":69850566,"body_markdown":"Count writes the value with Long Serdes, so when you are viewing it using tools like Conduktor, make sure the right value format (long in this case) is used.","title":"Create Kafka Stream for count amount from value","body":"<p>Count writes the value with Long Serdes, so when you are viewing it using tools like Conduktor, make sure the right value format (long in this case) is used.</p>\n"}],"owner":{"account_id":6051517,"reputation":227,"user_id":6817506,"accept_rate":71,"display_name":"ks_on_v"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":951,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69855867,"answer_count":3,"score":0,"last_activity_date":1697702855,"creation_date":1636102003,"question_id":69850566,"body_markdown":"I`m producing data like:\r\n\r\n    Key: &quot;Mike&quot;, value: {&quot;amount&quot;:46,&quot;time&quot;:&quot;2021-11-05T07:53:32.005751Z&quot;}\r\n    Key: &quot;John&quot;, value: {&quot;amount&quot;:46,&quot;time&quot;:&quot;2021-11-05T07:53:32.005751Z&quot;}\r\n    Key: &quot;Mike&quot;, value: {&quot;amount&quot;:50,&quot;time&quot;:&quot;2021-11-05T07:53:32.005751Z&quot;}\r\n\r\nKey is String (Names like Alice, John...).\r\nFor example i need in result:\r\n\r\n    {&quot;Mike&quot;: 2}\r\n    {&quot;John&quot;: 1}\r\nor \r\n\r\n    {&quot;key&quot;:&quot;Mike&quot;, &quot;count&quot;: 2}\r\n    {&quot;key&quot;:&quot;John&quot;, &quot;count&quot;: 1}\r\n\r\nI tried next:\r\n\r\n       public Topology createTopology(){\r\n        StreamsBuilder builder = new StreamsBuilder();\r\n        // json Serde\r\n        final Serializer&lt;JsonNode&gt; jsonSerializer = new JsonSerializer();\r\n        final Deserializer&lt;JsonNode&gt; jsonDeserializer = new JsonDeserializer();\r\n        final Serde&lt;JsonNode&gt; jsonSerde = Serdes.serdeFrom(jsonSerializer, jsonDeserializer);\r\n\r\n        KStream&lt;String, JsonNode&gt; textLines = builder.stream(&quot;bank-transactions&quot;, Consumed.with(Serdes.String(), jsonSerde));\r\n        KTable&lt;String, Long&gt; wordCounts = textLines\r\n                .map((k, v) -&gt; new KeyValue&lt;&gt;(k, v.get(&quot;amount&quot;).asInt()))\r\n                .groupByKey(Serialized.with(Serdes.String(), Serdes.Integer()))\r\n                .count();\r\n\r\n        wordCounts.toStream().to(&quot;person-transaction-frequency&quot;, Produced.with(Serdes.String(), Serdes.Long()));\r\n\r\n        return builder.build();\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        Properties config = new Properties();\r\n        config.put(StreamsConfig.APPLICATION_ID_CONFIG, &quot;bank-favorite-amount-application&quot;);\r\n        config.put(StreamsConfig.BOOTSTRAP_SERVERS_CONFIG, &quot;127.0.0.1:29092&quot;);\r\n        config.put(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG, &quot;earliest&quot;);\r\n        config.put(StreamsConfig.DEFAULT_KEY_SERDE_CLASS_CONFIG, Serdes.String().getClass());\r\n        config.put(StreamsConfig.DEFAULT_VALUE_SERDE_CLASS_CONFIG, Serdes.String().getClass());\r\n\r\n        Mc4CalculateFavoriteAmount wordCountApp = new Mc4CalculateFavoriteAmount();\r\n\r\n        KafkaStreams streams = new KafkaStreams(wordCountApp.createTopology(), config);\r\n        streams.start();\r\n\r\n        // shutdown hook to correctly close the streams application\r\n        Runtime.getRuntime().addShutdownHook(new Thread(streams::close));\r\n    }\r\n\r\nI`m trying to count messages with by names. But i got artifacts in topic:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/NEf3w.png","title":"Create Kafka Stream for count amount from value","body":"<p>I`m producing data like:</p>\n<pre><code>Key: &quot;Mike&quot;, value: {&quot;amount&quot;:46,&quot;time&quot;:&quot;2021-11-05T07:53:32.005751Z&quot;}\nKey: &quot;John&quot;, value: {&quot;amount&quot;:46,&quot;time&quot;:&quot;2021-11-05T07:53:32.005751Z&quot;}\nKey: &quot;Mike&quot;, value: {&quot;amount&quot;:50,&quot;time&quot;:&quot;2021-11-05T07:53:32.005751Z&quot;}\n</code></pre>\n<p>Key is String (Names like Alice, John...).\nFor example i need in result:</p>\n<pre><code>{&quot;Mike&quot;: 2}\n{&quot;John&quot;: 1}\n</code></pre>\n<p>or</p>\n<pre><code>{&quot;key&quot;:&quot;Mike&quot;, &quot;count&quot;: 2}\n{&quot;key&quot;:&quot;John&quot;, &quot;count&quot;: 1}\n</code></pre>\n<p>I tried next:</p>\n<pre><code>   public Topology createTopology(){\n    StreamsBuilder builder = new StreamsBuilder();\n    // json Serde\n    final Serializer&lt;JsonNode&gt; jsonSerializer = new JsonSerializer();\n    final Deserializer&lt;JsonNode&gt; jsonDeserializer = new JsonDeserializer();\n    final Serde&lt;JsonNode&gt; jsonSerde = Serdes.serdeFrom(jsonSerializer, jsonDeserializer);\n\n    KStream&lt;String, JsonNode&gt; textLines = builder.stream(&quot;bank-transactions&quot;, Consumed.with(Serdes.String(), jsonSerde));\n    KTable&lt;String, Long&gt; wordCounts = textLines\n            .map((k, v) -&gt; new KeyValue&lt;&gt;(k, v.get(&quot;amount&quot;).asInt()))\n            .groupByKey(Serialized.with(Serdes.String(), Serdes.Integer()))\n            .count();\n\n    wordCounts.toStream().to(&quot;person-transaction-frequency&quot;, Produced.with(Serdes.String(), Serdes.Long()));\n\n    return builder.build();\n}\n\npublic static void main(String[] args) {\n    Properties config = new Properties();\n    config.put(StreamsConfig.APPLICATION_ID_CONFIG, &quot;bank-favorite-amount-application&quot;);\n    config.put(StreamsConfig.BOOTSTRAP_SERVERS_CONFIG, &quot;127.0.0.1:29092&quot;);\n    config.put(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG, &quot;earliest&quot;);\n    config.put(StreamsConfig.DEFAULT_KEY_SERDE_CLASS_CONFIG, Serdes.String().getClass());\n    config.put(StreamsConfig.DEFAULT_VALUE_SERDE_CLASS_CONFIG, Serdes.String().getClass());\n\n    Mc4CalculateFavoriteAmount wordCountApp = new Mc4CalculateFavoriteAmount();\n\n    KafkaStreams streams = new KafkaStreams(wordCountApp.createTopology(), config);\n    streams.start();\n\n    // shutdown hook to correctly close the streams application\n    Runtime.getRuntime().addShutdownHook(new Thread(streams::close));\n}\n</code></pre>\n<p>I`m trying to count messages with by names. But i got artifacts in topic:</p>\n<p><a href=\"https://i.stack.imgur.com/NEf3w.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NEf3w.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","swing","modal-dialog","jframe"],"comments":[{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":1,"creation_date":1360667342,"post_id":1481405,"comment_id":20779853,"body_markdown":"See also [The Use of Multiple JFrames, Good/Bad Practice?](http://stackoverflow.com/a/9554657/418556)","body":"See also <a href=\"http://stackoverflow.com/a/9554657/418556\">The Use of Multiple JFrames, Good/Bad Practice?</a>"}],"answers":[{"tags":[],"owner":{"account_id":36166,"reputation":38839,"user_id":103043,"display_name":"akf"},"down_vote_count":2,"up_vote_count":79,"is_accepted":true,"score":77,"last_activity_date":1433251570,"creation_date":1253978030,"answer_id":1481423,"question_id":1481405,"body_markdown":"Your best bet is to use a JDialog instead of a JFrame if you want to make the window modal.  Check out [details on the introduction of the Modality API in Java 6][1] for info.  There is also [a tutorial][2]. \r\n\r\nHere is some sample code which will display a `JPanel panel` in a `JDialog` which is modal to `Frame parentFrame`.  Except for the constructor, this follows the same pattern as opening a `JFrame`.\r\n\r\n\tfinal JDialog frame = new JDialog(parentFrame, frameTitle, true);\r\n\tframe.getContentPane().add(panel);\r\n\tframe.pack();\r\n\tframe.setVisible(true);\r\n\r\nEdit: updated Modality API link &amp; added tutorial link (nod to @spork for the bump).  \r\n\r\n  [original]: http://java.sun.com/developer/technicalArticles/J2SE/Desktop/javase6/modality/\r\n  [1]: http://www.oracle.com/technetwork/articles/javase/index-140695.html\r\n  [2]: http://docs.oracle.com/javase/tutorial/uiswing/misc/modality.html ","title":"How to make a JFrame Modal in Swing java","body":"<p>Your best bet is to use a JDialog instead of a JFrame if you want to make the window modal.  Check out <a href=\"http://www.oracle.com/technetwork/articles/javase/index-140695.html\" rel=\"noreferrer\">details on the introduction of the Modality API in Java 6</a> for info.  There is also <a href=\"http://docs.oracle.com/javase/tutorial/uiswing/misc/modality.html\" rel=\"noreferrer\">a tutorial</a>. </p>\n\n<p>Here is some sample code which will display a <code>JPanel panel</code> in a <code>JDialog</code> which is modal to <code>Frame parentFrame</code>.  Except for the constructor, this follows the same pattern as opening a <code>JFrame</code>.</p>\n\n<pre><code>final JDialog frame = new JDialog(parentFrame, frameTitle, true);\nframe.getContentPane().add(panel);\nframe.pack();\nframe.setVisible(true);\n</code></pre>\n\n<p>Edit: updated Modality API link &amp; added tutorial link (nod to @spork for the bump).  </p>\n"},{"tags":[],"owner":{"account_id":58854,"reputation":25269,"user_id":176180,"accept_rate":72,"display_name":"NawaMan"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1431091901,"creation_date":1253978045,"answer_id":1481424,"question_id":1481405,"body_markdown":"As far as I know, JFrame cannot do Modal mode. Use JDialog instead and call [`setModalityType(Dialog.ModalityType type)`][link] to set it to be modal (or not modal).\r\n\r\n\r\n  [link]: https://docs.oracle.com/javase/8/docs/api/java/awt/Dialog.html#setModalityType-java.awt.Dialog.ModalityType-","title":"How to make a JFrame Modal in Swing java","body":"<p>As far as I know, JFrame cannot do Modal mode. Use JDialog instead and call <a href=\"https://docs.oracle.com/javase/8/docs/api/java/awt/Dialog.html#setModalityType-java.awt.Dialog.ModalityType-\" rel=\"nofollow noreferrer\"><code>setModalityType(Dialog.ModalityType type)</code></a> to set it to be modal (or not modal).</p>\n"},{"tags":[],"owner":{"account_id":1225456,"reputation":201,"user_id":1191085,"display_name":"Kamil"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1505672650,"creation_date":1328472136,"answer_id":9152515,"question_id":1481405,"body_markdown":"You can create a class that is passed a reference to the parent `JFrame` and holds it in a `JFrame` variable. Then you can lock the frame that created your new frame. \r\n\r\n    parentFrame.disable();\r\n\r\n    //Some actions\r\n\r\n    parentFrame.enable();","title":"How to make a JFrame Modal in Swing java","body":"<p>You can create a class that is passed a reference to the parent <code>JFrame</code> and holds it in a <code>JFrame</code> variable. Then you can lock the frame that created your new frame. </p>\n\n<pre><code>parentFrame.disable();\n\n//Some actions\n\nparentFrame.enable();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1767825,"reputation":53,"user_id":1613234,"display_name":"Ryan"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1351004900,"creation_date":1351004900,"answer_id":13033559,"question_id":1481405,"body_markdown":"not sure the contetns of your JFrame, if you ask some input from users, you can use JOptionPane, this also can set JFrame as modal\r\n\r\n                JFrame frame = new JFrame();\r\n    \t\t    String bigList[] = new String[30];\r\n    \r\n    \t\t    for (int i = 0; i &lt; bigList.length; i++) {\r\n    \t\t      bigList[i] = Integer.toString(i);\r\n    \t\t    }\r\n    \r\n    \t\t    JOptionPane.showInputDialog(\r\n    \t\t    \t\tframe, \r\n    \t\t    \t\t&quot;Select a item&quot;, \r\n    \t\t    \t\t&quot;The List&quot;, \r\n    \t\t    \t\tJOptionPane.PLAIN_MESSAGE,\r\n    \t\t    \t\tnull,\r\n    \t\t    \t\tbigList,\r\n    \t\t    \t\t&quot;none&quot;);\r\n    \t\t\t}\r\n\r\n","title":"How to make a JFrame Modal in Swing java","body":"<p>not sure the contetns of your JFrame, if you ask some input from users, you can use JOptionPane, this also can set JFrame as modal</p>\n\n<pre><code>            JFrame frame = new JFrame();\n            String bigList[] = new String[30];\n\n            for (int i = 0; i &lt; bigList.length; i++) {\n              bigList[i] = Integer.toString(i);\n            }\n\n            JOptionPane.showInputDialog(\n                    frame, \n                    \"Select a item\", \n                    \"The List\", \n                    JOptionPane.PLAIN_MESSAGE,\n                    null,\n                    bigList,\n                    \"none\");\n            }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1092885,"reputation":37669,"user_id":1087131,"accept_rate":54,"display_name":"Stephen Paul"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1392973275,"creation_date":1354815324,"answer_id":13749271,"question_id":1481405,"body_markdown":"If you&#39;re prepared to use a JDialog instead of a JFrame, you can set the **ModalityType** to **APPLICATION_MODAL**.\r\n\r\nThis provides identical behaviour to your typical JOptionPane:\r\n\r\n    import java.awt.event.ActionEvent;\r\n    import javax.swing.*;\r\n    import java.awt.*;\r\n    import java.awt.event.ActionListener;\r\n\r\n    public class MyDialog extends JFrame {\r\n\r\n    public MyDialog() {\r\n        setBounds(300, 300, 300, 300);\r\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        setVisible(true);\r\n        setLayout(new FlowLayout());\r\n        JButton btn = new JButton(&quot;TEST&quot;);\r\n        add(btn);\r\n        btn.addActionListener(new ActionListener() \r\n        {\r\n\r\n            @Override\r\n            public void actionPerformed(ActionEvent e) {\r\n                showDialog();\r\n            }\r\n        });\r\n    }\r\n    \r\n    private void showDialog() \r\n    {\r\n        \r\n        JDialog dialog = new JDialog(this, Dialog.ModalityType.APPLICATION_MODAL);\r\n        //OR, you can do the following...\r\n        //JDialog dialog = new JDialog();\r\n        //dialog.setModalityType(Dialog.ModalityType.APPLICATION_MODAL);\r\n        \r\n        dialog.setBounds(350, 350, 200, 200);\r\n        dialog.setVisible(true);\r\n    }\r\n    \r\n    public static void main(String[] args) \r\n    {\r\n        new MyDialog();\r\n    }\r\n    }","title":"How to make a JFrame Modal in Swing java","body":"<p>If you're prepared to use a JDialog instead of a JFrame, you can set the <strong>ModalityType</strong> to <strong>APPLICATION_MODAL</strong>.</p>\n\n<p>This provides identical behaviour to your typical JOptionPane:</p>\n\n<pre><code>import java.awt.event.ActionEvent;\nimport javax.swing.*;\nimport java.awt.*;\nimport java.awt.event.ActionListener;\n\npublic class MyDialog extends JFrame {\n\npublic MyDialog() {\n    setBounds(300, 300, 300, 300);\n    setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    setVisible(true);\n    setLayout(new FlowLayout());\n    JButton btn = new JButton(\"TEST\");\n    add(btn);\n    btn.addActionListener(new ActionListener() \n    {\n\n        @Override\n        public void actionPerformed(ActionEvent e) {\n            showDialog();\n        }\n    });\n}\n\nprivate void showDialog() \n{\n\n    JDialog dialog = new JDialog(this, Dialog.ModalityType.APPLICATION_MODAL);\n    //OR, you can do the following...\n    //JDialog dialog = new JDialog();\n    //dialog.setModalityType(Dialog.ModalityType.APPLICATION_MODAL);\n\n    dialog.setBounds(350, 350, 200, 200);\n    dialog.setVisible(true);\n}\n\npublic static void main(String[] args) \n{\n    new MyDialog();\n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2780230,"reputation":7,"user_id":2392898,"display_name":"The Codartofonist"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1368775996,"creation_date":1368775996,"answer_id":16603778,"question_id":1481405,"body_markdown":"There&#39;s a bit of code that might help:\r\n\r\n    import java.awt.Component;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import java.awt.event.WindowAdapter;\r\n    import java.awt.event.WindowEvent;\r\n    \r\n    import javax.swing.JFrame;\r\n    import javax.swing.JMenu;\r\n    import javax.swing.JMenuBar;\r\n    import javax.swing.JMenuItem;\r\n    \r\n    public class ModalJFrame extends JFrame {\r\n    \r\n    \tObject currentWindow = this;\r\n    \t\r\n    \tpublic ModalJFrame() \r\n    \t{\r\n    \t\tsuper();\r\n    \t\tsuper.setTitle(&quot;Main JFrame&quot;);\r\n    \t\tsuper.setSize(500, 500);\r\n    \t\tsuper.setResizable(true);\r\n    \t\tsuper.setLocationRelativeTo(null);\r\n    \t\r\n    \t\tJMenuBar menuBar = new JMenuBar();\r\n    \t\tsuper.setJMenuBar(menuBar);\r\n    \t\t\r\n    \t\tJMenu fileMenu = new JMenu(&quot;File&quot;);\r\n    \t\tJMenu editMenu = new JMenu(&quot;Edit&quot;);\r\n    \r\n    \t\tmenuBar.add(fileMenu);\r\n    \t\tmenuBar.add(editMenu);\r\n    \t\t\r\n    \t\tJMenuItem newAction = new JMenuItem(&quot;New&quot;);\r\n    \t\tJMenuItem openAction = new JMenuItem(&quot;Open&quot;);\r\n    \t\tJMenuItem exitAction = new JMenuItem(&quot;Exit&quot;);\r\n    \t\tJMenuItem cutAction = new JMenuItem(&quot;Cut&quot;);\r\n    \t\tJMenuItem copyAction = new JMenuItem(&quot;Copy&quot;);\r\n    \t\tJMenuItem pasteAction= new JMenuItem(&quot;Paste&quot;);\r\n    \r\n    \t\tfileMenu.add(newAction);\r\n    \t\tfileMenu.add(openAction);\r\n    \t\tfileMenu.addSeparator();\r\n    \t\tfileMenu.add(exitAction);\r\n    \r\n    \t\teditMenu.add(cutAction);\r\n    \t\teditMenu.add(copyAction);\r\n    \t\teditMenu.addSeparator();\r\n    \t\teditMenu.add(pasteAction);\r\n    \t\t\r\n    \t\tnewAction.addActionListener(new ActionListener()\r\n    \t\t{\r\n    \t\t\tpublic void actionPerformed(ActionEvent arg0)\r\n    \t\t\t{\r\n    \t\t\t\t\r\n    \t\t\t\tJFrame popupJFrame = new JFrame();\r\n    \t\t\t\t\r\n    \t\t\t\tpopupJFrame.addWindowListener(new WindowAdapter()\r\n    \t\t\t\t{\r\n    \t\t\t\t      public void windowClosing(WindowEvent e) \r\n    \t\t\t\t      {\r\n    \t\t\t\t    \t  ((Component) currentWindow).setEnabled(true);\t\t\t\t        }\r\n    \t\t\t\t      });\r\n    \t\t\t\t\r\n    \t\t\t\t((Component) currentWindow).setEnabled(false);\r\n    \t\t\t\tpopupJFrame.setTitle(&quot;Pop up JFrame&quot;);\r\n    \t\t\t\tpopupJFrame.setSize(400, 500);\r\n    \t\t\t\tpopupJFrame.setAlwaysOnTop(true);\r\n    \t\t\t\tpopupJFrame.setResizable(false);\r\n    \t\t\t\tpopupJFrame.setLocationRelativeTo(getRootPane());\r\n    \t\t\t\tpopupJFrame.setVisible(true);\r\n    \t\t\t\tpopupJFrame.setDefaultCloseOperation(JFrame.HIDE_ON_CLOSE);\r\n    \t\t\t}\r\n    \t\t});\r\n    \t\t\r\n    \t\texitAction.addActionListener(new ActionListener()\r\n    \t\t{\r\n    \t\t\tpublic void actionPerformed(ActionEvent arg0)\r\n    \t\t\t{\r\n    \t\t\t\tSystem.exit(0);\r\n    \t\t\t}\r\n    \t\t});\r\n    \t}\r\n    \tpublic static void main(String[] args) {\r\n    \r\n    \t\tModalJFrame myWindow = new ModalJFrame();\r\n    \t\tmyWindow.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \t\tmyWindow.setVisible(true);\r\n    \t}\r\n    }","title":"How to make a JFrame Modal in Swing java","body":"<p>There's a bit of code that might help:</p>\n\n<pre><code>import java.awt.Component;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.awt.event.WindowAdapter;\nimport java.awt.event.WindowEvent;\n\nimport javax.swing.JFrame;\nimport javax.swing.JMenu;\nimport javax.swing.JMenuBar;\nimport javax.swing.JMenuItem;\n\npublic class ModalJFrame extends JFrame {\n\n    Object currentWindow = this;\n\n    public ModalJFrame() \n    {\n        super();\n        super.setTitle(\"Main JFrame\");\n        super.setSize(500, 500);\n        super.setResizable(true);\n        super.setLocationRelativeTo(null);\n\n        JMenuBar menuBar = new JMenuBar();\n        super.setJMenuBar(menuBar);\n\n        JMenu fileMenu = new JMenu(\"File\");\n        JMenu editMenu = new JMenu(\"Edit\");\n\n        menuBar.add(fileMenu);\n        menuBar.add(editMenu);\n\n        JMenuItem newAction = new JMenuItem(\"New\");\n        JMenuItem openAction = new JMenuItem(\"Open\");\n        JMenuItem exitAction = new JMenuItem(\"Exit\");\n        JMenuItem cutAction = new JMenuItem(\"Cut\");\n        JMenuItem copyAction = new JMenuItem(\"Copy\");\n        JMenuItem pasteAction= new JMenuItem(\"Paste\");\n\n        fileMenu.add(newAction);\n        fileMenu.add(openAction);\n        fileMenu.addSeparator();\n        fileMenu.add(exitAction);\n\n        editMenu.add(cutAction);\n        editMenu.add(copyAction);\n        editMenu.addSeparator();\n        editMenu.add(pasteAction);\n\n        newAction.addActionListener(new ActionListener()\n        {\n            public void actionPerformed(ActionEvent arg0)\n            {\n\n                JFrame popupJFrame = new JFrame();\n\n                popupJFrame.addWindowListener(new WindowAdapter()\n                {\n                      public void windowClosing(WindowEvent e) \n                      {\n                          ((Component) currentWindow).setEnabled(true);                     }\n                      });\n\n                ((Component) currentWindow).setEnabled(false);\n                popupJFrame.setTitle(\"Pop up JFrame\");\n                popupJFrame.setSize(400, 500);\n                popupJFrame.setAlwaysOnTop(true);\n                popupJFrame.setResizable(false);\n                popupJFrame.setLocationRelativeTo(getRootPane());\n                popupJFrame.setVisible(true);\n                popupJFrame.setDefaultCloseOperation(JFrame.HIDE_ON_CLOSE);\n            }\n        });\n\n        exitAction.addActionListener(new ActionListener()\n        {\n            public void actionPerformed(ActionEvent arg0)\n            {\n                System.exit(0);\n            }\n        });\n    }\n    public static void main(String[] args) {\n\n        ModalJFrame myWindow = new ModalJFrame();\n        myWindow.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        myWindow.setVisible(true);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2691630,"reputation":1824,"user_id":2324832,"display_name":"Richard Kenneth Niescior"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1390264816,"creation_date":1369210507,"answer_id":16686747,"question_id":1481405,"body_markdown":"1. Create a new JPanel form\r\n2. Add your desired components and code to it\r\n\r\n\r\n----------\r\n\r\n\r\n    YourJPanelForm stuff = new YourJPanelForm();\r\n    JOptionPane.showMessageDialog(null,stuff,&quot;Your title here bro&quot;,JOptionPane.PLAIN_MESSAGE);\r\n\r\n&lt;br /&gt;\r\nYour modal dialog awaits...","title":"How to make a JFrame Modal in Swing java","body":"<ol>\n<li>Create a new JPanel form</li>\n<li>Add your desired components and code to it</li>\n</ol>\n\n<hr>\n\n<pre><code>YourJPanelForm stuff = new YourJPanelForm();\nJOptionPane.showMessageDialog(null,stuff,\"Your title here bro\",JOptionPane.PLAIN_MESSAGE);\n</code></pre>\n\n<p><br />\nYour modal dialog awaits...</p>\n"},{"tags":[],"owner":{"account_id":5259477,"reputation":1,"user_id":4201368,"display_name":"Johan Rincon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1414742143,"creation_date":1414737615,"answer_id":26668829,"question_id":1481405,"body_markdown":"What I&#39;ve done in this case is, in the primary jframe that I want to keep visible (for example, a menu frame), I deselect the option `focusableWindowState` in the property window so It will be `FALSE`. Once that is done, the jframes I call don&#180;t lose focus until I close them.","title":"How to make a JFrame Modal in Swing java","body":"<p>What I've done in this case is, in the primary jframe that I want to keep visible (for example, a menu frame), I deselect the option <code>focusableWindowState</code> in the property window so It will be <code>FALSE</code>. Once that is done, the jframes I call don´t lose focus until I close them.</p>\n"},{"tags":[],"owner":{"account_id":5773362,"reputation":137,"user_id":4556195,"display_name":"Ivan"},"down_vote_count":2,"up_vote_count":14,"is_accepted":false,"score":12,"last_activity_date":1423680026,"creation_date":1423679845,"answer_id":28461883,"question_id":1481405,"body_markdown":"just replace `JFrame` to `JDialog` in class\r\n\r\n    public class MyDialog extends JFrame // delete JFrame and write JDialog\r\n\r\nand then write `setModal(true);` in constructor\r\n\r\nAfter that you will be able to construct your Form in netbeans\r\nand the form becomes modal","title":"How to make a JFrame Modal in Swing java","body":"<p>just replace <code>JFrame</code> to <code>JDialog</code> in class</p>\n\n<pre><code>public class MyDialog extends JFrame // delete JFrame and write JDialog\n</code></pre>\n\n<p>and then write <code>setModal(true);</code> in constructor</p>\n\n<p>After that you will be able to construct your Form in netbeans\nand the form becomes modal</p>\n"},{"tags":[],"owner":{"account_id":4281210,"reputation":1058,"user_id":3500521,"display_name":"Dreamspace President"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1448697319,"creation_date":1448697319,"answer_id":33969048,"question_id":1481405,"body_markdown":"This static utility method shows a modal JFrame by secretly opening a modal JDialog, too. I used this successfully and with proper behavior on Windows 7, 8, and 10-with-multiple-desktops.\r\n\r\nIt&#39;s a nice example for the very rarely used feature of *local* classes.\r\n\r\n    import javax.swing.*;\r\n    import java.awt.Dialog;\r\n    import java.awt.Dimension;\r\n    import java.awt.Frame;\r\n    import java.awt.event.WindowAdapter;\r\n    import java.awt.event.WindowEvent;\r\n\r\n    // ... (class declaration)\r\n\r\n    /**\r\n     * Shows an already existing JFrame as if it were a modal JDialog. JFrames have the upside that they can be\r\n     * maximized.\r\n     * &lt;p&gt;\r\n     * A hidden modal JDialog is &quot;shown&quot; to effect the modality.\r\n     * &lt;p&gt;\r\n     * When the JFrame is closed, this method&#39;s listener will pick up on that, close the modal JDialog, and remove the\r\n     * listener.\r\n     *\r\n     * made by dreamspace-president.com\r\n     *\r\n     * @param window the JFrame to be shown\r\n     * @param owner  the owner window (can be null)\r\n     * @throws IllegalArgumentException if argument &quot;window&quot; is null\r\n     */\r\n    public static void showModalJFrame(final JFrame window, final Frame owner) {\r\n\r\n        if (window == null) {\r\n            throw new IllegalArgumentException();\r\n        }\r\n        window.setModalExclusionType(Dialog.ModalExclusionType.APPLICATION_EXCLUDE);\r\n        window.setVisible(true);\r\n        window.setAlwaysOnTop(true);\r\n\r\n        final JDialog hiddenDialogForModality = new JDialog(owner, true);\r\n        final class MyWindowCloseListener extends WindowAdapter {\r\n            @Override\r\n            public void windowClosed(final WindowEvent e) {\r\n                window.dispose();\r\n                hiddenDialogForModality.dispose();\r\n            }\r\n        }\r\n\r\n        final MyWindowCloseListener myWindowCloseListener = new MyWindowCloseListener();\r\n        window.addWindowListener(myWindowCloseListener);\r\n\r\n        final Dimension smallSize = new Dimension(80, 80);\r\n        hiddenDialogForModality.setMinimumSize(smallSize);\r\n        hiddenDialogForModality.setSize(smallSize);\r\n        hiddenDialogForModality.setMaximumSize(smallSize);\r\n        hiddenDialogForModality.setLocation(-smallSize.width * 2, -smallSize.height * 2);\r\n        hiddenDialogForModality.setVisible(true);\r\n        window.removeWindowListener(myWindowCloseListener);\r\n    }\r\n","title":"How to make a JFrame Modal in Swing java","body":"<p>This static utility method shows a modal JFrame by secretly opening a modal JDialog, too. I used this successfully and with proper behavior on Windows 7, 8, and 10-with-multiple-desktops.</p>\n\n<p>It's a nice example for the very rarely used feature of <em>local</em> classes.</p>\n\n<pre><code>import javax.swing.*;\nimport java.awt.Dialog;\nimport java.awt.Dimension;\nimport java.awt.Frame;\nimport java.awt.event.WindowAdapter;\nimport java.awt.event.WindowEvent;\n\n// ... (class declaration)\n\n/**\n * Shows an already existing JFrame as if it were a modal JDialog. JFrames have the upside that they can be\n * maximized.\n * &lt;p&gt;\n * A hidden modal JDialog is \"shown\" to effect the modality.\n * &lt;p&gt;\n * When the JFrame is closed, this method's listener will pick up on that, close the modal JDialog, and remove the\n * listener.\n *\n * made by dreamspace-president.com\n *\n * @param window the JFrame to be shown\n * @param owner  the owner window (can be null)\n * @throws IllegalArgumentException if argument \"window\" is null\n */\npublic static void showModalJFrame(final JFrame window, final Frame owner) {\n\n    if (window == null) {\n        throw new IllegalArgumentException();\n    }\n    window.setModalExclusionType(Dialog.ModalExclusionType.APPLICATION_EXCLUDE);\n    window.setVisible(true);\n    window.setAlwaysOnTop(true);\n\n    final JDialog hiddenDialogForModality = new JDialog(owner, true);\n    final class MyWindowCloseListener extends WindowAdapter {\n        @Override\n        public void windowClosed(final WindowEvent e) {\n            window.dispose();\n            hiddenDialogForModality.dispose();\n        }\n    }\n\n    final MyWindowCloseListener myWindowCloseListener = new MyWindowCloseListener();\n    window.addWindowListener(myWindowCloseListener);\n\n    final Dimension smallSize = new Dimension(80, 80);\n    hiddenDialogForModality.setMinimumSize(smallSize);\n    hiddenDialogForModality.setSize(smallSize);\n    hiddenDialogForModality.setMaximumSize(smallSize);\n    hiddenDialogForModality.setLocation(-smallSize.width * 2, -smallSize.height * 2);\n    hiddenDialogForModality.setVisible(true);\n    window.removeWindowListener(myWindowCloseListener);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6085033,"reputation":1,"user_id":7421246,"display_name":"Dahab"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1490461671,"creation_date":1490461671,"answer_id":43019345,"question_id":1481405,"body_markdown":"The most simple way is to use *pack()* method before visualizing the *JFrame* object. here is an example:\r\n\r\n    myFrame frm = new myFrame();\r\n    frm.pack();\r\n    frm.setVisible(true);\r\n\r\n","title":"How to make a JFrame Modal in Swing java","body":"<p>The most simple way is to use <em>pack()</em> method before visualizing the <em>JFrame</em> object. here is an example:</p>\n\n<pre><code>myFrame frm = new myFrame();\nfrm.pack();\nfrm.setVisible(true);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6243770,"reputation":1,"user_id":8806068,"display_name":"Daniel Shamaeli"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1565968381,"creation_date":1565968381,"answer_id":57527096,"question_id":1481405,"body_markdown":"As others mentioned, you could use JDialog. If you don&#39;t have access to the parent frame or you want to freeze the hole application just pass null as a parent:\r\n\r\n`final JDialog frame = new JDialog((JFrame)null, frameTitle, true);`\r\n`frame.setModal(true);`    \r\n`frame.getContentPane().add(panel);`   \r\n`frame.setDefaultCloseOperation(WindowConstants.DISPOSE_ON_CLOSE);`    \r\n`frame.pack();`    \r\n`frame.setVisible(true);`    \r\n \r\n","title":"How to make a JFrame Modal in Swing java","body":"<p>As others mentioned, you could use JDialog. If you don't have access to the parent frame or you want to freeze the hole application just pass null as a parent:</p>\n\n<p><code>final JDialog frame = new JDialog((JFrame)null, frameTitle, true);</code>\n<code>frame.setModal(true);</code><br>\n<code>frame.getContentPane().add(panel);</code><br>\n<code>frame.setDefaultCloseOperation(WindowConstants.DISPOSE_ON_CLOSE);</code><br>\n<code>frame.pack();</code><br>\n<code>frame.setVisible(true);</code>    </p>\n"},{"tags":[],"owner":{"account_id":19137232,"reputation":11,"user_id":13977981,"display_name":"Romel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1595442585,"creation_date":1595442585,"answer_id":63040918,"question_id":1481405,"body_markdown":"The only code that have worked for me:\r\n\r\n    childFrame.setAlwaysOnTop(true);\r\n    \r\nThis code should be called on the main/parent frame before making the child/modal frame visible. Your child/modal frame should also have this code:\r\n\r\n    parentFrame.setFocusableWindowState(false);\r\n    this.mainFrame.setEnabled(false);","title":"How to make a JFrame Modal in Swing java","body":"<p>The only code that have worked for me:</p>\n<pre><code>childFrame.setAlwaysOnTop(true);\n</code></pre>\n<p>This code should be called on the main/parent frame before making the child/modal frame visible. Your child/modal frame should also have this code:</p>\n<pre><code>parentFrame.setFocusableWindowState(false);\nthis.mainFrame.setEnabled(false);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26660575,"reputation":11,"user_id":20273461,"display_name":"Grizmo 4ka"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697702753,"creation_date":1697702753,"answer_id":77321979,"question_id":1481405,"body_markdown":"&quot;Simply&quot; way to show any framea in dialog mode\r\n\r\n    public static void showFrameAsDialog(Component parentComponent, JFrame frame)\r\n    {\r\n        try\r\n        {\r\n            JOptionPane pane = new JOptionPane(frame.getContentPane(), JOptionPane.PLAIN_MESSAGE,\r\n                    JOptionPane.NO_OPTION, null,\r\n                    new Object[]\r\n                    {\r\n                    }, null);\r\n\r\n            pane.setComponentOrientation(((parentComponent == null)\r\n                    ? getRootFrame() : parentComponent).getComponentOrientation());\r\n\r\n            int style = JRootPane.PLAIN_DIALOG;\r\n\r\n            Method method = pane.getClass().getDeclaredMethod(&quot;createDialog&quot;, Component.class, String.class, int.class);\r\n            method.setAccessible(true);\r\n            Object objDialog = method.invoke(pane, parentComponent, frame.getTitle(), style);\r\n\r\n            JDialog dialog = (JDialog) objDialog;\r\n            if (frame.getWidth() &gt; dialog.getWidth() || frame.getHeight() &gt; dialog.getHeight())\r\n            {\r\n                dialog.setSize(frame.getWidth(), frame.getHeight());\r\n                dialog.setLocationRelativeTo(parentComponent);\r\n            }\r\n\r\n            frame.addWindowListener(new java.awt.event.WindowAdapter()\r\n            {\r\n                @Override\r\n                public void windowClosed(java.awt.event.WindowEvent windowEvent)\r\n                {\r\n                    dialog.dispose();\r\n                }\r\n            });\r\n\r\n            dialog.show();\r\n            dialog.dispose();\r\n        }\r\n        catch (Exception ex)\r\n        {\r\n            ex.printStackTrace();\r\n        }\r\n    }","title":"How to make a JFrame Modal in Swing java","body":"<p>&quot;Simply&quot; way to show any framea in dialog mode</p>\n<pre><code>public static void showFrameAsDialog(Component parentComponent, JFrame frame)\n{\n    try\n    {\n        JOptionPane pane = new JOptionPane(frame.getContentPane(), JOptionPane.PLAIN_MESSAGE,\n                JOptionPane.NO_OPTION, null,\n                new Object[]\n                {\n                }, null);\n\n        pane.setComponentOrientation(((parentComponent == null)\n                ? getRootFrame() : parentComponent).getComponentOrientation());\n\n        int style = JRootPane.PLAIN_DIALOG;\n\n        Method method = pane.getClass().getDeclaredMethod(&quot;createDialog&quot;, Component.class, String.class, int.class);\n        method.setAccessible(true);\n        Object objDialog = method.invoke(pane, parentComponent, frame.getTitle(), style);\n\n        JDialog dialog = (JDialog) objDialog;\n        if (frame.getWidth() &gt; dialog.getWidth() || frame.getHeight() &gt; dialog.getHeight())\n        {\n            dialog.setSize(frame.getWidth(), frame.getHeight());\n            dialog.setLocationRelativeTo(parentComponent);\n        }\n\n        frame.addWindowListener(new java.awt.event.WindowAdapter()\n        {\n            @Override\n            public void windowClosed(java.awt.event.WindowEvent windowEvent)\n            {\n                dialog.dispose();\n            }\n        });\n\n        dialog.show();\n        dialog.dispose();\n    }\n    catch (Exception ex)\n    {\n        ex.printStackTrace();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":56246,"reputation":4189,"user_id":168461,"accept_rate":35,"display_name":"om."},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":160631,"favorite_count":0,"down_vote_count":0,"up_vote_count":70,"accepted_answer_id":1481423,"answer_count":14,"score":70,"last_activity_date":1697702753,"creation_date":1253977657,"question_id":1481405,"body_markdown":"I have created one GUI in which I have used a JFrame. How should I make it Modal?","title":"How to make a JFrame Modal in Swing java","body":"<p>I have created one GUI in which I have used a JFrame. How should I make it Modal?</p>\n"},{"tags":["java","unit-testing","mockito"],"answers":[{"tags":[],"owner":{"account_id":1734438,"reputation":36245,"user_id":1587329,"accept_rate":94,"display_name":"serv-inc"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697701729,"creation_date":1697701729,"answer_id":77321875,"question_id":63039935,"body_markdown":"This seems related to [this github issue][1], which was fixed and merged. Try upgrading Mockito.\r\n\r\n\r\n  [1]: https://github.com/mockito/mockito/issues/1767","title":"Unit Tests failing due to MismatchReportingTestListener","body":"<p>This seems related to <a href=\"https://github.com/mockito/mockito/issues/1767\" rel=\"nofollow noreferrer\">this github issue</a>, which was fixed and merged. Try upgrading Mockito.</p>\n"}],"owner":{"account_id":10860844,"reputation":392,"user_id":7985774,"display_name":"Falcon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1463,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1697701729,"creation_date":1595438870,"question_id":63039935,"body_markdown":"I am facing a weird issue where my unit tests are failing/succeeding on retrying. I previously wrote unit test case for 2 classes in my package and when I wrote the unit test cases for third class the test cases for the other two classes also start failing due to errors listed below\r\n\r\nErrors in generated test Report:\r\n\r\nError 1\r\n\r\n```\r\nCannot instantiate @InjectMocks field named &#39;chunkedSnapshot&#39; of type &#39;class\r\ncom.XXXX.YYY.lambda.ChunkedSnapshot&#39;. You haven&#39;t provided the instance at field declaration so\r\nI tried to construct the instance. However the constructor or the initialization block threw an \r\nexception : null\r\n```\r\nError 2\r\n\r\n```\r\nProblems adding Mockito listener. Listener of type &#39;MismatchReportingTestListener&#39; has already\r\nbeen added and not removed. It indicates that previous listener was not removed according to the\r\nAPI. When you add a listener, don&#39;t forget to remove the listener afterwards: Mockito.framework().removeListener(myListener); For more information, see the javadoc for \r\nRedundantListenerException class.\r\n```\r\n\r\nSome error in console which I feel might be relevant\r\n\r\n```\r\n  [junit] Cannot instantiate @InjectMocks field named &#39;chunkedSnapshot&#39; of type &#39;class com.XXXX.YYYY.lambda.ChunkedSnapshot&#39;.\r\n    [junit] You haven&#39;t provided the instance at field declaration so I tried to construct the instance.\r\n    [junit] However the constructor or the initialization block threw an exception : null\r\n```\r\nThe weird thing is that the test cases sometimes succeed, sometimes do not.\r\n\r\nI will paste down the initialization piece of the third class and unit test class for same which is causing this issue\r\n\r\n```\r\n@Log4j2\r\npublic class ChunkedSnapshot implements RequestHandler&lt;String, String&gt; {\r\n    private final AmazonAthena amazonAthena;\r\n    private AthenaQueryExecutor athenaQueryExecutor;\r\n\r\n    private final String snapshotDate;\r\n    private final String tableName;\r\n    private final String databaseName;\r\n    private final String currentTable;\r\n    private final String externalS3Location;\r\n    private final String workGroup;\r\n    private String buyableDate;\r\n\r\n    public ChunkedSnapshot() {\r\n        this(new LambdaConfiguration(System.getenv()));\r\n    }\r\n    public ChunkedSnapshot(LambdaConfiguration lambdaConfiguration) {\r\n        this(lambdaConfiguration.getAmazonAthena());\r\n    }\r\n\r\n    public ChunkedSnapshot(AmazonAthena amazonAthena) {\r\n        this.amazonAthena = amazonAthena;\r\n        ConfigInitializer.initializeConfig();\r\n        snapshotDate = LocalDate.now().toString();\r\n        tableName = AppConfig.findString(ATHENA_MAIN_TABLE);\r\n        databaseName = AppConfig.findString(ATHENA_DATABASE);\r\n        workGroup = AppConfig.findString(ATHENA_WORKGROUP);\r\n        currentTable = AppConfig.findString(CURRENT_TABLE);\r\n        externalS3Location = AppConfig.findString(TABLE_S3_LOCATION);\r\n        athenaQueryExecutor = new AthenaQueryExecutor();\r\n    }\r\n    @Override\r\n    public String handleRequest(String event, Context context) {\r\n     //some content here\r\n    }...more content\r\n```\r\nUnit Test\r\n\r\n```\r\n@RunWith(MockitoJUnitRunner.class)\r\npublic class ChunkedSnapshotTests extends AbstractTestCase {\r\n    @Mock\r\n    Context mockContext;\r\n    @Mock\r\n    AthenaQueryExecutor mockAthenaQueryExecutor;\r\n    @Mock\r\n    AmazonAthena mockAmazonAthena;\r\n    @InjectMocks\r\n    ChunkedSnapshot chunkedSnapshot;\r\n    List&lt;Row&gt; rowList;\r\n    List&lt;Datum&gt; datumList;\r\n    String event = &quot;some test event&quot;;\r\n    @Before\r\n    public void setup() throws InterruptedException {\r\n        rowList = new ArrayList&lt;&gt;();\r\n        datumList = new ArrayList&lt;&gt;();\r\n        Row row = new Row();\r\n        Datum datum1 = new Datum();\r\n        datum1.setVarCharValue(&quot;some val&quot;);\r\n        Datum datum2 = new Datum();\r\n        datum2.setVarCharValue(&quot;some val&quot;);\r\n        datumList.add(datum1);\r\n        datumList.add(datum2);\r\n        row.setData(datumList);\r\n        rowList.add(row);\r\n        when(mockAthenaQueryExecutor.processResultRows(any(), any())).thenReturn(rowList);\r\n    }\r\n\r\n    @Test\r\n    public void testHandleRequest() {\r\n        chunkedSnapshot.handleRequest(event, mockContext);\r\n    }\r\n    ..... more content\r\n```\r\n\r\nI feel there must be some problem in the initialization of the *InjectMocks* since this is the first class out of previous test classes which is using the inject mocks.Any help would be appreciated.","title":"Unit Tests failing due to MismatchReportingTestListener","body":"<p>I am facing a weird issue where my unit tests are failing/succeeding on retrying. I previously wrote unit test case for 2 classes in my package and when I wrote the unit test cases for third class the test cases for the other two classes also start failing due to errors listed below</p>\n<p>Errors in generated test Report:</p>\n<p>Error 1</p>\n<pre><code>Cannot instantiate @InjectMocks field named 'chunkedSnapshot' of type 'class\ncom.XXXX.YYY.lambda.ChunkedSnapshot'. You haven't provided the instance at field declaration so\nI tried to construct the instance. However the constructor or the initialization block threw an \nexception : null\n</code></pre>\n<p>Error 2</p>\n<pre><code>Problems adding Mockito listener. Listener of type 'MismatchReportingTestListener' has already\nbeen added and not removed. It indicates that previous listener was not removed according to the\nAPI. When you add a listener, don't forget to remove the listener afterwards: Mockito.framework().removeListener(myListener); For more information, see the javadoc for \nRedundantListenerException class.\n</code></pre>\n<p>Some error in console which I feel might be relevant</p>\n<pre><code>  [junit] Cannot instantiate @InjectMocks field named 'chunkedSnapshot' of type 'class com.XXXX.YYYY.lambda.ChunkedSnapshot'.\n    [junit] You haven't provided the instance at field declaration so I tried to construct the instance.\n    [junit] However the constructor or the initialization block threw an exception : null\n</code></pre>\n<p>The weird thing is that the test cases sometimes succeed, sometimes do not.</p>\n<p>I will paste down the initialization piece of the third class and unit test class for same which is causing this issue</p>\n<pre><code>@Log4j2\npublic class ChunkedSnapshot implements RequestHandler&lt;String, String&gt; {\n    private final AmazonAthena amazonAthena;\n    private AthenaQueryExecutor athenaQueryExecutor;\n\n    private final String snapshotDate;\n    private final String tableName;\n    private final String databaseName;\n    private final String currentTable;\n    private final String externalS3Location;\n    private final String workGroup;\n    private String buyableDate;\n\n    public ChunkedSnapshot() {\n        this(new LambdaConfiguration(System.getenv()));\n    }\n    public ChunkedSnapshot(LambdaConfiguration lambdaConfiguration) {\n        this(lambdaConfiguration.getAmazonAthena());\n    }\n\n    public ChunkedSnapshot(AmazonAthena amazonAthena) {\n        this.amazonAthena = amazonAthena;\n        ConfigInitializer.initializeConfig();\n        snapshotDate = LocalDate.now().toString();\n        tableName = AppConfig.findString(ATHENA_MAIN_TABLE);\n        databaseName = AppConfig.findString(ATHENA_DATABASE);\n        workGroup = AppConfig.findString(ATHENA_WORKGROUP);\n        currentTable = AppConfig.findString(CURRENT_TABLE);\n        externalS3Location = AppConfig.findString(TABLE_S3_LOCATION);\n        athenaQueryExecutor = new AthenaQueryExecutor();\n    }\n    @Override\n    public String handleRequest(String event, Context context) {\n     //some content here\n    }...more content\n</code></pre>\n<p>Unit Test</p>\n<pre><code>@RunWith(MockitoJUnitRunner.class)\npublic class ChunkedSnapshotTests extends AbstractTestCase {\n    @Mock\n    Context mockContext;\n    @Mock\n    AthenaQueryExecutor mockAthenaQueryExecutor;\n    @Mock\n    AmazonAthena mockAmazonAthena;\n    @InjectMocks\n    ChunkedSnapshot chunkedSnapshot;\n    List&lt;Row&gt; rowList;\n    List&lt;Datum&gt; datumList;\n    String event = &quot;some test event&quot;;\n    @Before\n    public void setup() throws InterruptedException {\n        rowList = new ArrayList&lt;&gt;();\n        datumList = new ArrayList&lt;&gt;();\n        Row row = new Row();\n        Datum datum1 = new Datum();\n        datum1.setVarCharValue(&quot;some val&quot;);\n        Datum datum2 = new Datum();\n        datum2.setVarCharValue(&quot;some val&quot;);\n        datumList.add(datum1);\n        datumList.add(datum2);\n        row.setData(datumList);\n        rowList.add(row);\n        when(mockAthenaQueryExecutor.processResultRows(any(), any())).thenReturn(rowList);\n    }\n\n    @Test\n    public void testHandleRequest() {\n        chunkedSnapshot.handleRequest(event, mockContext);\n    }\n    ..... more content\n</code></pre>\n<p>I feel there must be some problem in the initialization of the <em>InjectMocks</em> since this is the first class out of previous test classes which is using the inject mocks.Any help would be appreciated.</p>\n"},{"tags":["java","spring","spring-boot","cryptography","telegram"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1697619194,"post_id":77314479,"comment_id":136301317,"body_markdown":"How is it different? Uppercase/lowercase, is the hash and check hash calcutated over the same string? So are the elements in the right order? If the order is different you will get a different hash.","body":"How is it different? Uppercase/lowercase, is the hash and check hash calcutated over the same string? So are the elements in the right order? If the order is different you will get a different hash."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1697621094,"post_id":77314479,"comment_id":136301717,"body_markdown":"One difference is that the python one always uses `\\n` whereas you have `System.lineSeparator()` which could be different, depending on the system/os in use.","body":"One difference is that the python one always uses <code>\\n</code> whereas you have <code>System.lineSeparator()</code> which could be different, depending on the system/os in use."},{"owner":{"account_id":20817836,"reputation":111,"user_id":15290241,"display_name":"manuersuper"},"score":0,"creation_date":1697621497,"post_id":77314479,"comment_id":136301791,"body_markdown":"@M.Deinum the hashes are totally different (which makes sense, a single character can change the whole hash). From Telegram I receive the hash and I must calculate another hash based on the other params (like auth_data,username,id etc.). These two hashes should match but I&#39;m probably making some mistakes when creating the hash from params. The elements are correctly in an alphabetical order. Changing System.lineSeparator() with &quot;\\\\n&quot; still makes two different hashes","body":"@M.Deinum the hashes are totally different (which makes sense, a single character can change the whole hash). From Telegram I receive the hash and I must calculate another hash based on the other params (like auth_data,username,id etc.). These two hashes should match but I&#39;m probably making some mistakes when creating the hash from params. The elements are correctly in an alphabetical order. Changing System.lineSeparator() with &quot;\\\\n&quot; still makes two different hashes"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1697621992,"post_id":77314479,"comment_id":136301893,"body_markdown":"The delimiter is `\\n` not `\\\\n`. Looking at the PHP and Python samples instead of the secret key the hashed value of the secret key is being passed, are you doing that as well?","body":"The delimiter is <code>\\n</code> not <code>\\\\n</code>. Looking at the PHP and Python samples instead of the secret key the hashed value of the secret key is being passed, are you doing that as well?"},{"owner":{"account_id":20817836,"reputation":111,"user_id":15290241,"display_name":"manuersuper"},"score":0,"creation_date":1697622208,"post_id":77314479,"comment_id":136301936,"body_markdown":"I&#39;m not an expert in java but &quot;\\&quot; is used as escape character so i must write &quot;\\\\n&quot; I think, anyway I&#39;m gonna try with both and I&#39;m gonna check also about the hashed value","body":"I&#39;m not an expert in java but &quot;\\&quot; is used as escape character so i must write &quot;\\\\n&quot; I think, anyway I&#39;m gonna try with both and I&#39;m gonna check also about the hashed value"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1697622483,"post_id":77314479,"comment_id":136301986,"body_markdown":"The secertkey is the hashed value of your TOKEN to use with Telegram. So if you use your token as the secret key, then you are using the wrong thing.","body":"The secertkey is the hashed value of your TOKEN to use with Telegram. So if you use your token as the secret key, then you are using the wrong thing."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1697622813,"post_id":77314479,"comment_id":136302047,"body_markdown":"Also see https://stackoverflow.com/questions/57663716/login-with-telegram-with-spring-security which uses the token and how to encode it as a secretkey. This for the HEX encoding -&gt; https://stackoverflow.com/questions/9655181/java-convert-a-byte-array-to-a-hex-string (if you are on JDK 17 I would suggest to use the `HexFormat` class).","body":"Also see <a href=\"https://stackoverflow.com/questions/57663716/login-with-telegram-with-spring-security\" title=\"login with telegram with spring security\">stackoverflow.com/questions/57663716/&hellip;</a> which uses the token and how to encode it as a secretkey. This for the HEX encoding -&gt; <a href=\"https://stackoverflow.com/questions/9655181/java-convert-a-byte-array-to-a-hex-string\" title=\"java convert a byte array to a hex string\">stackoverflow.com/questions/9655181/&hellip;</a> (if you are on JDK 17 I would suggest to use the <code>HexFormat</code> class)."},{"owner":{"account_id":20817836,"reputation":111,"user_id":15290241,"display_name":"manuersuper"},"score":0,"creation_date":1697623136,"post_id":77314479,"comment_id":136302119,"body_markdown":"I&#39;m using the hashed token, gonna check if i encoded it correctly though","body":"I&#39;m using the hashed token, gonna check if i encoded it correctly though"},{"owner":{"account_id":20817836,"reputation":111,"user_id":15290241,"display_name":"manuersuper"},"score":0,"creation_date":1697638943,"post_id":77314479,"comment_id":136305483,"body_markdown":"@M.Deinum first, thanks for your time, secondly I have checked and everything seems okay, the only difference from the telegram guide is that i don&#39;t have a last_name parameter (because i don&#39;t have it on telegram), i don&#39;t know if that&#39;s the problem","body":"@M.Deinum first, thanks for your time, secondly I have checked and everything seems okay, the only difference from the telegram guide is that i don&#39;t have a last_name parameter (because i don&#39;t have it on telegram), i don&#39;t know if that&#39;s the problem"}],"owner":{"account_id":20817836,"reputation":111,"user_id":15290241,"display_name":"manuersuper"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":102,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697701718,"creation_date":1697616245,"question_id":77314479,"body_markdown":"I&#39;m having some troubles with checking if the data I receive from a logged user are authentic or not. I&#39;m following this short [guide](https://core.telegram.org/widgets/login#checking-authorization) from telegram. \r\n\r\n**MyController.java**\r\n```\r\n@GetMapping(&quot;/checkData&quot;)\r\n    public String handleTGLogin(@RequestParam Map&lt;String, String&gt; params) {\r\n\r\n        String hash = params.get(&quot;hash&quot;);\r\n        params.remove(&quot;hash&quot;);\r\n\r\n        StringBuilder data_check_builder = new StringBuilder();\r\n        SortedSet&lt;String&gt; keys = new TreeSet&lt;&gt;(params.keySet());\r\n        for (String key : keys) {\r\n            String value = params.get(key);\r\n            logger.log(Level.INFO, key);\r\n            data_check_builder.append(key).append(&quot;=&quot;).append(value).append(System.lineSeparator());\r\n        }\r\n\r\n        String data_check_string = data_check_builder.toString();\r\n        logger.log(Level.INFO, data_check_string);\r\n        data_check_string = removeLastLineSeparator(data_check_string);\r\n        logger.log(Level.INFO, data_check_string);\r\n\r\n        String secretKey = &quot;ad5b4ae518c20&quot;; //in my code i have the correct one, these are random letters\r\n        String hmacSha256 = null;\r\n        try {\r\n            hmacSha256 = calculateHmacSha256(data_check_string, secretKey);\r\n        } catch (NoSuchAlgorithmException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n        logger.log(Level.INFO, &quot;HMAC-SHA-256: &quot; + hmacSha256);\r\n        logger.log(Level.INFO, &quot;hash: &quot; + hash);\r\n        //These 2 logs should be the same string, but they actually don&#39;t coincide\r\n        return &quot;Received parameters: &quot; + params.toString();\r\n    }\r\n```\r\n**Functions**\r\n```\r\npublic String removeLastLineSeparator(String input) {\r\n        if (input.endsWith(ls)) {\r\n            // Calculate the length of the input string\r\n            int length = input.length();\r\n\r\n            // Calculate the length of the line separator\r\n            int lineSeparatorLength = ls.length();\r\n\r\n            // Remove the line separator by excluding the last characters\r\n            input = input.substring(0, length - lineSeparatorLength);\r\n        }\r\n\r\n        return input;\r\n    }\r\n\r\nprivate String calculateHmacSha256(String data, String secretKey) throws NoSuchAlgorithmException {\r\n        try {\r\n            SecretKeySpec secretKeySpec = new SecretKeySpec(secretKey.getBytes(), &quot;HmacSHA256&quot;);\r\n            Mac mac = Mac.getInstance(&quot;HmacSHA256&quot;);\r\n            mac.init(secretKeySpec);\r\n            byte[] hash = mac.doFinal(data.getBytes());\r\n\r\n            // Use Apache Commons Codec to convert the byte array to a hexadecimal string\r\n            String hexHash = Hex.encodeHexString(hash).toLowerCase();\r\n            return hexHash;\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n            return null;\r\n        }\r\n    }\r\n```\r\nWhy _hmacSha256_ and _hash_ are not the same? What I&#39;m doing wrong? Thanks for any help!\r\n\r\nPS: maybe this [python implementation](https://github.com/dmytrostriletskyi/django-telegram-login/blob/develop/django_telegram_login/authentication.py) is useful. ","title":"How to Telegram Login in a Spring Boot App?","body":"<p>I'm having some troubles with checking if the data I receive from a logged user are authentic or not. I'm following this short <a href=\"https://core.telegram.org/widgets/login#checking-authorization\" rel=\"nofollow noreferrer\">guide</a> from telegram.</p>\n<p><strong>MyController.java</strong></p>\n<pre><code>@GetMapping(&quot;/checkData&quot;)\n    public String handleTGLogin(@RequestParam Map&lt;String, String&gt; params) {\n\n        String hash = params.get(&quot;hash&quot;);\n        params.remove(&quot;hash&quot;);\n\n        StringBuilder data_check_builder = new StringBuilder();\n        SortedSet&lt;String&gt; keys = new TreeSet&lt;&gt;(params.keySet());\n        for (String key : keys) {\n            String value = params.get(key);\n            logger.log(Level.INFO, key);\n            data_check_builder.append(key).append(&quot;=&quot;).append(value).append(System.lineSeparator());\n        }\n\n        String data_check_string = data_check_builder.toString();\n        logger.log(Level.INFO, data_check_string);\n        data_check_string = removeLastLineSeparator(data_check_string);\n        logger.log(Level.INFO, data_check_string);\n\n        String secretKey = &quot;ad5b4ae518c20&quot;; //in my code i have the correct one, these are random letters\n        String hmacSha256 = null;\n        try {\n            hmacSha256 = calculateHmacSha256(data_check_string, secretKey);\n        } catch (NoSuchAlgorithmException e) {\n            throw new RuntimeException(e);\n        }\n        logger.log(Level.INFO, &quot;HMAC-SHA-256: &quot; + hmacSha256);\n        logger.log(Level.INFO, &quot;hash: &quot; + hash);\n        //These 2 logs should be the same string, but they actually don't coincide\n        return &quot;Received parameters: &quot; + params.toString();\n    }\n</code></pre>\n<p><strong>Functions</strong></p>\n<pre><code>public String removeLastLineSeparator(String input) {\n        if (input.endsWith(ls)) {\n            // Calculate the length of the input string\n            int length = input.length();\n\n            // Calculate the length of the line separator\n            int lineSeparatorLength = ls.length();\n\n            // Remove the line separator by excluding the last characters\n            input = input.substring(0, length - lineSeparatorLength);\n        }\n\n        return input;\n    }\n\nprivate String calculateHmacSha256(String data, String secretKey) throws NoSuchAlgorithmException {\n        try {\n            SecretKeySpec secretKeySpec = new SecretKeySpec(secretKey.getBytes(), &quot;HmacSHA256&quot;);\n            Mac mac = Mac.getInstance(&quot;HmacSHA256&quot;);\n            mac.init(secretKeySpec);\n            byte[] hash = mac.doFinal(data.getBytes());\n\n            // Use Apache Commons Codec to convert the byte array to a hexadecimal string\n            String hexHash = Hex.encodeHexString(hash).toLowerCase();\n            return hexHash;\n        } catch (Exception e) {\n            e.printStackTrace();\n            return null;\n        }\n    }\n</code></pre>\n<p>Why <em>hmacSha256</em> and <em>hash</em> are not the same? What I'm doing wrong? Thanks for any help!</p>\n<p>PS: maybe this <a href=\"https://github.com/dmytrostriletskyi/django-telegram-login/blob/develop/django_telegram_login/authentication.py\" rel=\"nofollow noreferrer\">python implementation</a> is useful.</p>\n"},{"tags":["java","spring-data-jpa","dependencies","version"],"answers":[{"tags":[],"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697701119,"creation_date":1697700796,"answer_id":77321789,"question_id":77317399,"body_markdown":"If the error is really complaining about `org.springframework.data.repository.ListCrudRepositor` then you have typo somewhere in the code.\r\nThere is no such class. \r\nThere is only `org.springframework.data.repository.ListCrudRepository`.\r\n\r\nIf the exception complains about `org.springframework.data.repository.ListCrudRepository`, then something with your dependencies is messed up.\r\n\r\nYou probably have still an older version of Spring Data Commons on your classpath, which doesn&#39;t have that class yet.\r\nBut your pom file looks fine, so I suspect that you are seeing this in your IDE and that it didn&#39;t fully update it&#39;s dependencies.\r\nTherefore a reloading of the maven project into the IDE would be my first try.\r\n\r\nIf that doesn&#39;t resolve the issue I&#39;d start with the following:\r\n\r\n- Build the project on the commandline with Maven.\r\n- If that succeeds you need to investigate what is wrong in your IDE setup.\r\n- If the build fails with the mentioned exception, you should inspect the dependencies. I&#39;m sure it pulls in an old version of `spring-data-commons` and you need to find the reason for that. `mvn dependency:tree` should help with that. See https://stackoverflow.com/questions/278596/list-of-dependency-jar-files-in-maven for more information.","title":"how to resolve spring JpaRepository error","body":"<p>If the error is really complaining about <code>org.springframework.data.repository.ListCrudRepositor</code> then you have typo somewhere in the code.\nThere is no such class.\nThere is only <code>org.springframework.data.repository.ListCrudRepository</code>.</p>\n<p>If the exception complains about <code>org.springframework.data.repository.ListCrudRepository</code>, then something with your dependencies is messed up.</p>\n<p>You probably have still an older version of Spring Data Commons on your classpath, which doesn't have that class yet.\nBut your pom file looks fine, so I suspect that you are seeing this in your IDE and that it didn't fully update it's dependencies.\nTherefore a reloading of the maven project into the IDE would be my first try.</p>\n<p>If that doesn't resolve the issue I'd start with the following:</p>\n<ul>\n<li>Build the project on the commandline with Maven.</li>\n<li>If that succeeds you need to investigate what is wrong in your IDE setup.</li>\n<li>If the build fails with the mentioned exception, you should inspect the dependencies. I'm sure it pulls in an old version of <code>spring-data-commons</code> and you need to find the reason for that. <code>mvn dependency:tree</code> should help with that. See <a href=\"https://stackoverflow.com/questions/278596/list-of-dependency-jar-files-in-maven\">List of dependency jar files in Maven</a> for more information.</li>\n</ul>\n"}],"owner":{"account_id":19505218,"reputation":191,"user_id":14270425,"display_name":"Ukeme Elijah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1697701119,"creation_date":1697640549,"question_id":77317399,"body_markdown":"I just switched over to the latest version of spring boot 3.1.4 and then started having this issue with using the `JpaRepository`.\r\n    I am getting this error that says Cannot access `org.springframework.data.repository.ListCrudRepositor`.\r\n    I don&#39;t know how to resolve it and I don&#39;t want to go back and continue using version 2.7.8 that I was using befor because I am only experiencing the issue while using this new version.\r\n    Here is my code\r\n```java    \r\n@Data\r\n@Entity\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class UserModel {\r\n    \r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Integer id;\r\n    private String name;\r\n    private String email;\r\n    private String profileImage;\r\n    private String accessToken;\r\n    private String phone;\r\n}\r\n```\r\n```java    \r\n@Repository\r\npublic interface UserRepository extends JpaRepository&lt;UserModel,Integer&gt; {\r\n}\r\n```\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n   \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n   \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n   \t\t&lt;version&gt;3.1.4&lt;/version&gt;\r\n   \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n   \t&lt;/parent&gt;\r\n   \t&lt;groupId&gt;com.elijahukeme.onlinelearningappbackend&lt;/groupId&gt;\r\n   \t&lt;artifactId&gt;Online-Learning-App-Backend&lt;/artifactId&gt;\r\n   \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n   \t&lt;name&gt;Online-Learning-App-Backend&lt;/name&gt;\r\n   \t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n   \t&lt;properties&gt;\r\n   \t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n   \t&lt;/properties&gt;\r\n   \t&lt;dependencies&gt;\r\n   \t\t&lt;dependency&gt;\r\n   \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n   \t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n   \t\t&lt;/dependency&gt;\r\n   \t\t&lt;dependency&gt;\r\n   \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n   \t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n   \t\t&lt;/dependency&gt;\r\n   \r\n   \t\t&lt;dependency&gt;\r\n   \t\t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n   \t\t\t&lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n   \t\t\t&lt;version&gt;4.0.1&lt;/version&gt;\r\n   \t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n   \t\t&lt;/dependency&gt;\r\n   \t\t&lt;dependency&gt;\r\n   \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n   \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n   \t\t&lt;/dependency&gt;\r\n    \r\n   \t\t&lt;dependency&gt;\r\n   \t\t\t&lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n   \t\t\t&lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n   \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n   \t\t&lt;/dependency&gt;\r\n   \t\t&lt;dependency&gt;\r\n   \t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n   \t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n   \t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n   \t\t&lt;/dependency&gt;\r\n   \t\t&lt;dependency&gt;\r\n   \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n   \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n   \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n   \t\t&lt;/dependency&gt;\r\n   \t\t&lt;dependency&gt;\r\n   \t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n   \t\t\t&lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n   \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n   \t\t&lt;/dependency&gt;\r\n   \t&lt;/dependencies&gt;\r\n    \r\n   \t&lt;build&gt;\r\n   \t\t&lt;plugins&gt;\r\n   \t\t\t&lt;plugin&gt;\r\n   \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n   \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n   \t\t\t\t&lt;configuration&gt;\r\n   \t\t\t\t\t&lt;excludes&gt;\r\n   \t\t\t\t\t\t&lt;exclude&gt;\r\n   \t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n   \t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n   \t\t\t\t\t\t&lt;/exclude&gt;\r\n   \t\t\t\t\t&lt;/excludes&gt;\r\n   \t\t\t\t&lt;/configuration&gt;\r\n   \t\t\t&lt;/plugin&gt;\r\n   \t\t&lt;/plugins&gt;\r\n   \t&lt;/build&gt;\r\n    \r\n&lt;/project&gt;\r\n```\r\n","title":"how to resolve spring JpaRepository error","body":"<p>I just switched over to the latest version of spring boot 3.1.4 and then started having this issue with using the <code>JpaRepository</code>.\nI am getting this error that says Cannot access <code>org.springframework.data.repository.ListCrudRepositor</code>.\nI don't know how to resolve it and I don't want to go back and continue using version 2.7.8 that I was using befor because I am only experiencing the issue while using this new version.\nHere is my code</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Data\n@Entity\n@NoArgsConstructor\n@AllArgsConstructor\npublic class UserModel {\n    \n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Integer id;\n    private String name;\n    private String email;\n    private String profileImage;\n    private String accessToken;\n    private String phone;\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Repository\npublic interface UserRepository extends JpaRepository&lt;UserModel,Integer&gt; {\n}\n</code></pre>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n        xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.1.4&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.elijahukeme.onlinelearningappbackend&lt;/groupId&gt;\n    &lt;artifactId&gt;Online-Learning-App-Backend&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;Online-Learning-App-Backend&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n   \n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n            &lt;version&gt;4.0.1&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    \n        &lt;dependency&gt;\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    \n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n    \n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","jar","jpackage"],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650371113,"creation_date":1650371113,"answer_id":71924924,"question_id":71163832,"body_markdown":"Investigate the content of the deb, or investigate the filesystem once the package is installed. Per default you should find it in /opt/&lt;applicationname&gt;. Underneath that you find a bin directory with only one file. That is the one you can invoke from command line.\r\n\r\nJPackage also creates a launcher, which resides in /opt/&lt;applicationname&gt;/lib/*.desktop. Check that text and you see that the executable is just the file in the bin directory, which means the GUI will run that exact command when the icon is clicked.","title":"How can I make executable file from jar with embedded JVM?","body":"<p>Investigate the content of the deb, or investigate the filesystem once the package is installed. Per default you should find it in /opt/. Underneath that you find a bin directory with only one file. That is the one you can invoke from command line.</p>\n<p>JPackage also creates a launcher, which resides in /opt//lib/*.desktop. Check that text and you see that the executable is just the file in the bin directory, which means the GUI will run that exact command when the icon is clicked.</p>\n"}],"owner":{"account_id":22897261,"reputation":74,"user_id":17036611,"display_name":"Eugene Kyrychenko"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":253,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1697701103,"creation_date":1645123875,"question_id":71163832,"body_markdown":"For example, I have `someFile.jar`. I can run it simply using `java -jar someFile.jar`.\r\nBut I want to create some files (for example `.deb` file) to install this `jar` to another machine. This machine may not have `jre` which is required for running this jar. So I want to create some executable file that will contain jar and JVM\r\n\r\nI tried to use `jpackage --name testName --input . --main-jar someFile.jar --linux-shortcut`. This command generates `.deb file but it won&#39;t create terminal command testName (to run this jar) but it creates a desktop app that I can run as an application but no one terminal command created. So, how can I create a deb file from the jar with embedded JVM to be able to run it as a command from terminal?","title":"How can I make executable file from jar with embedded JVM?","body":"<p>For example, I have <code>someFile.jar</code>. I can run it simply using <code>java -jar someFile.jar</code>.\nBut I want to create some files (for example <code>.deb</code> file) to install this <code>jar</code> to another machine. This machine may not have <code>jre</code> which is required for running this jar. So I want to create some executable file that will contain jar and JVM</p>\n<p>I tried to use <code>jpackage --name testName --input . --main-jar someFile.jar --linux-shortcut</code>. This command generates `.deb file but it won't create terminal command testName (to run this jar) but it creates a desktop app that I can run as an application but no one terminal command created. So, how can I create a deb file from the jar with embedded JVM to be able to run it as a command from terminal?</p>\n"},{"tags":["java","spring-boot","logging","spring-webflux"],"answers":[{"tags":[],"owner":{"account_id":395827,"reputation":5063,"user_id":758991,"accept_rate":55,"display_name":"Ruslan Stelmachenko"},"down_vote_count":9,"up_vote_count":72,"is_accepted":true,"score":63,"last_activity_date":1627061728,"creation_date":1508617962,"answer_id":46867786,"question_id":46154994,"body_markdown":"You can easily do it using [ExchangeFilterFunction](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/reactive/function/client/ExchangeFilterFunction.html)\r\n\r\nJust add the custom `logRequest` filter when you create your `WebClient` using `WebClient.Builder`.\r\n\r\nHere is the example of such filter and how to add it to the `WebClient`.\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    @Slf4j\r\n    @Component\r\n    public class MyClient {\r\n    \r\n    \tprivate final WebClient webClient;\r\n    \r\n    \t// Create WebClient instance using builder.\r\n    \t// If you use spring-boot 2.0, the builder will be autoconfigured for you\r\n    \t// with the &quot;prototype&quot; scope, meaning each injection point will receive\r\n    \t// a newly cloned instance of the builder.\r\n    \tpublic MyClient(WebClient.Builder webClientBuilder) {\r\n    \t\twebClient = webClientBuilder // you can also just use WebClient.builder()\r\n    \t\t\t\t.baseUrl(&quot;https://httpbin.org&quot;)\r\n    \t\t\t\t.filter(logRequest()) // here is the magic\r\n    \t\t\t\t.build();\r\n    \t}\r\n    \r\n    \t// Just example of sending request. This method is NOT part of the answer\r\n    \tpublic void send(String path) {\r\n    \t\tClientResponse clientResponse = webClient\r\n    \t\t\t\t.get().uri(uriBuilder -&gt; uriBuilder.path(path)\r\n    \t\t\t\t\t\t.queryParam(&quot;param&quot;, &quot;value&quot;)\r\n    \t\t\t\t\t\t.build())\r\n    \t\t\t\t.exchange()\r\n    \t\t\t\t.block();\r\n    \t\tlog.info(&quot;Response: {}&quot;, clientResponse.toEntity(String.class).block());\r\n    \t}\r\n\r\n    \t// This method returns filter function which will log request data\r\n    \tprivate static ExchangeFilterFunction logRequest() {\r\n    \t\treturn ExchangeFilterFunction.ofRequestProcessor(clientRequest -&gt; {\r\n    \t\t\tlog.info(&quot;Request: {} {}&quot;, clientRequest.method(), clientRequest.url());\r\n    \t\t\tclientRequest.headers().forEach((name, values) -&gt; values.forEach(value -&gt; log.info(&quot;{}={}&quot;, name, value)));\r\n    \t\t\treturn Mono.just(clientRequest);\r\n    \t\t});\r\n    \t}\r\n    \r\n    }\r\n\r\nThen just call `myClient.send(&quot;get&quot;);` and log messages should be there.\r\n\r\nOutput example:\r\n\r\n    Request: GET https://httpbin.org/get?param=value\r\n    header1=value1\r\n    header2=value2\r\n\r\n**Edit**\r\n\r\nSome people pointed out in comments that `block()` is bad practice etc. I want to clarify: `block()` call here is just *for demo purposes*. The request logging filter will work anyway. You will not need to add `block()` to your code to make `ExchangeFilterFunction` work. You can use `WebClient` to perform a http-call in a usual way, chaining methods and returning `Mono` up the stack until someone will subscribe to it. The only relevant part of the answer is `logRequest()` filter. You can ignore `send()` method altogether - it is not part of the solution - it just demonstrates that filter works.\r\n\r\nSome people also asked how to log the response. To log the response you can write another `ExchangeFilterFunction` and add it to `WebClient`. You can use [`ExchangeFilterFunction.ofResponseProcessor`][1] helper for this purpose just the same way as `ExchangeFilterFunction.ofRequestProcessor` is used. You can use methods of [`ClientResponse`][2] to get headers/cookies etc.\r\n\r\n    \t// This method returns filter function which will log response data\r\n    \tprivate static ExchangeFilterFunction logResponse() {\r\n    \t\treturn ExchangeFilterFunction.ofResponseProcessor(clientResponse -&gt; {\r\n    \t\t\tlog.info(&quot;Response status: {}&quot;, clientResponse.statusCode());\r\n    \t\t\tclientResponse.headers().asHttpHeaders().forEach((name, values) -&gt; values.forEach(value -&gt; log.info(&quot;{}={}&quot;, name, value)));\r\n    \t\t\treturn Mono.just(clientResponse);\r\n    \t\t});\r\n    \t}\r\n\r\nDon&#39;t forget to add it to your `WebClient`:\r\n\r\n    .filter(logResponse())\r\n\r\nBut be careful and do not try to read the response body here in the filter. Because of the stream nature of it, the body can be consumed only once without some kind of buffering wrapper. So, if you will read it in the filter, you will not be able to read it in the subscriber.\r\n\r\nIf you really need to log the body, you can make the underlying layer (Netty) to do this. See [Matthew Buckett&#39;s answer][3] to get the idea.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/reactive/function/client/ExchangeFilterFunction.html#ofResponseProcessor-java.util.function.Function-\r\n  [2]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/reactive/function/client/ClientResponse.html\r\n  [3]: https://stackoverflow.com/a/55790675/758991","title":"how to log Spring 5 WebClient call","body":"<p>You can easily do it using <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/reactive/function/client/ExchangeFilterFunction.html\" rel=\"noreferrer\">ExchangeFilterFunction</a></p>\n<p>Just add the custom <code>logRequest</code> filter when you create your <code>WebClient</code> using <code>WebClient.Builder</code>.</p>\n<p>Here is the example of such filter and how to add it to the <code>WebClient</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Slf4j\n@Component\npublic class MyClient {\n\n    private final WebClient webClient;\n\n    // Create WebClient instance using builder.\n    // If you use spring-boot 2.0, the builder will be autoconfigured for you\n    // with the &quot;prototype&quot; scope, meaning each injection point will receive\n    // a newly cloned instance of the builder.\n    public MyClient(WebClient.Builder webClientBuilder) {\n        webClient = webClientBuilder // you can also just use WebClient.builder()\n                .baseUrl(&quot;https://httpbin.org&quot;)\n                .filter(logRequest()) // here is the magic\n                .build();\n    }\n\n    // Just example of sending request. This method is NOT part of the answer\n    public void send(String path) {\n        ClientResponse clientResponse = webClient\n                .get().uri(uriBuilder -&gt; uriBuilder.path(path)\n                        .queryParam(&quot;param&quot;, &quot;value&quot;)\n                        .build())\n                .exchange()\n                .block();\n        log.info(&quot;Response: {}&quot;, clientResponse.toEntity(String.class).block());\n    }\n\n    // This method returns filter function which will log request data\n    private static ExchangeFilterFunction logRequest() {\n        return ExchangeFilterFunction.ofRequestProcessor(clientRequest -&gt; {\n            log.info(&quot;Request: {} {}&quot;, clientRequest.method(), clientRequest.url());\n            clientRequest.headers().forEach((name, values) -&gt; values.forEach(value -&gt; log.info(&quot;{}={}&quot;, name, value)));\n            return Mono.just(clientRequest);\n        });\n    }\n\n}\n</code></pre>\n<p>Then just call <code>myClient.send(&quot;get&quot;);</code> and log messages should be there.</p>\n<p>Output example:</p>\n<pre><code>Request: GET https://httpbin.org/get?param=value\nheader1=value1\nheader2=value2\n</code></pre>\n<p><strong>Edit</strong></p>\n<p>Some people pointed out in comments that <code>block()</code> is bad practice etc. I want to clarify: <code>block()</code> call here is just <em>for demo purposes</em>. The request logging filter will work anyway. You will not need to add <code>block()</code> to your code to make <code>ExchangeFilterFunction</code> work. You can use <code>WebClient</code> to perform a http-call in a usual way, chaining methods and returning <code>Mono</code> up the stack until someone will subscribe to it. The only relevant part of the answer is <code>logRequest()</code> filter. You can ignore <code>send()</code> method altogether - it is not part of the solution - it just demonstrates that filter works.</p>\n<p>Some people also asked how to log the response. To log the response you can write another <code>ExchangeFilterFunction</code> and add it to <code>WebClient</code>. You can use <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/reactive/function/client/ExchangeFilterFunction.html#ofResponseProcessor-java.util.function.Function-\" rel=\"noreferrer\"><code>ExchangeFilterFunction.ofResponseProcessor</code></a> helper for this purpose just the same way as <code>ExchangeFilterFunction.ofRequestProcessor</code> is used. You can use methods of <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/reactive/function/client/ClientResponse.html\" rel=\"noreferrer\"><code>ClientResponse</code></a> to get headers/cookies etc.</p>\n<pre><code>    // This method returns filter function which will log response data\n    private static ExchangeFilterFunction logResponse() {\n        return ExchangeFilterFunction.ofResponseProcessor(clientResponse -&gt; {\n            log.info(&quot;Response status: {}&quot;, clientResponse.statusCode());\n            clientResponse.headers().asHttpHeaders().forEach((name, values) -&gt; values.forEach(value -&gt; log.info(&quot;{}={}&quot;, name, value)));\n            return Mono.just(clientResponse);\n        });\n    }\n</code></pre>\n<p>Don't forget to add it to your <code>WebClient</code>:</p>\n<pre><code>.filter(logResponse())\n</code></pre>\n<p>But be careful and do not try to read the response body here in the filter. Because of the stream nature of it, the body can be consumed only once without some kind of buffering wrapper. So, if you will read it in the filter, you will not be able to read it in the subscriber.</p>\n<p>If you really need to log the body, you can make the underlying layer (Netty) to do this. See <a href=\"https://stackoverflow.com/a/55790675/758991\">Matthew Buckett's answer</a> to get the idea.</p>\n"},{"tags":[],"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"down_vote_count":0,"up_vote_count":31,"is_accepted":false,"score":31,"last_activity_date":1553926867,"creation_date":1511470796,"answer_id":47463190,"question_id":46154994,"body_markdown":"You don&#39;t necessarily need to roll your own logger, `reactor.ipc.netty.channel.ChannelOperationsHandler` does it for you. Just configure your logging system for that class to log at DEBUG level:\r\n\r\n    2017-11-23 12:52:04.562 DEBUG 41449 --- [ctor-http-nio-5] r.i.n.channel.ChannelOperationsHandler   : [id: 0x9183d6da, L:/127.0.0.1:57681 - R:localhost/127.0.0.1:8000] Writing object DefaultFullHttpRequest(decodeResult: success, version: HTTP/1.1, content: UnpooledByteBufAllocator$InstrumentedUnpooledUnsafeHeapByteBuf(ridx: 0, widx: 0, cap: 0))\r\n    GET /api/v1/watch/namespaces/default/events HTTP/1.1\r\n    user-agent: ReactorNetty/0.7.1.RELEASE\r\n    host: localhost:8000\r\n    accept-encoding: gzip\r\n    Accept: application/json\r\n    content-length: 0\r\n\r\nOne way to have fewer bugs is to not write code whenever possible.\r\n\r\n**Nov 2018**:\r\n\r\nWith `spring-webflux:5.1.2.RELEASE`, the above no longer works. Use the following instead:\r\n\r\n    logging.level.org.springframework.web.reactive.function.client.ExchangeFunctions=DEBUG\r\n    ...\r\n    2018-11-06 20:58:58.181 DEBUG 20300 --- [           main] o.s.w.r.f.client.ExchangeFunctions       : [2026fbff] HTTP GET http://localhost:8080/stocks/search?symbol=AAPL\r\n    2018-11-06 20:58:58.451 DEBUG 20300 --- [ctor-http-nio-4] o.s.w.r.f.client.ExchangeFunctions       : [2026fbff] Response 400 BAD_REQUEST\r\n\r\nTo log headers or form body, set the above to `TRACE` level; however, that&#39;s not enough:\r\n\r\n    ExchangeStrategies exchangeStrategies = ExchangeStrategies.withDefaults();\r\n    exchangeStrategies\r\n        .messageWriters().stream()\r\n        .filter(LoggingCodecSupport.class::isInstance)\r\n        .forEach(writer -&gt; ((LoggingCodecSupport)writer).setEnableLoggingRequestDetails(true));\r\n            \r\n    client = WebClient.builder()\r\n        .exchangeStrategies(exchangeStrategies)\r\n\r\n**Mar 2019**:\n\nIn response to a question in the comment that asked how to log request and response body, I don’t know if Spring has such a logger but `WebClient` is built on Netty, so enabling debug logging for package `reactor.ipc.netty` should work, along with [this][1] answer.\n\n\n  [1]: https://stackoverflow.com/a/15096962/839733","title":"how to log Spring 5 WebClient call","body":"<p>You don't necessarily need to roll your own logger, <code>reactor.ipc.netty.channel.ChannelOperationsHandler</code> does it for you. Just configure your logging system for that class to log at DEBUG level:</p>\n\n<pre><code>2017-11-23 12:52:04.562 DEBUG 41449 --- [ctor-http-nio-5] r.i.n.channel.ChannelOperationsHandler   : [id: 0x9183d6da, L:/127.0.0.1:57681 - R:localhost/127.0.0.1:8000] Writing object DefaultFullHttpRequest(decodeResult: success, version: HTTP/1.1, content: UnpooledByteBufAllocator$InstrumentedUnpooledUnsafeHeapByteBuf(ridx: 0, widx: 0, cap: 0))\nGET /api/v1/watch/namespaces/default/events HTTP/1.1\nuser-agent: ReactorNetty/0.7.1.RELEASE\nhost: localhost:8000\naccept-encoding: gzip\nAccept: application/json\ncontent-length: 0\n</code></pre>\n\n<p>One way to have fewer bugs is to not write code whenever possible.</p>\n\n<p><strong>Nov 2018</strong>:</p>\n\n<p>With <code>spring-webflux:5.1.2.RELEASE</code>, the above no longer works. Use the following instead:</p>\n\n<pre><code>logging.level.org.springframework.web.reactive.function.client.ExchangeFunctions=DEBUG\n...\n2018-11-06 20:58:58.181 DEBUG 20300 --- [           main] o.s.w.r.f.client.ExchangeFunctions       : [2026fbff] HTTP GET http://localhost:8080/stocks/search?symbol=AAPL\n2018-11-06 20:58:58.451 DEBUG 20300 --- [ctor-http-nio-4] o.s.w.r.f.client.ExchangeFunctions       : [2026fbff] Response 400 BAD_REQUEST\n</code></pre>\n\n<p>To log headers or form body, set the above to <code>TRACE</code> level; however, that's not enough:</p>\n\n<pre><code>ExchangeStrategies exchangeStrategies = ExchangeStrategies.withDefaults();\nexchangeStrategies\n    .messageWriters().stream()\n    .filter(LoggingCodecSupport.class::isInstance)\n    .forEach(writer -&gt; ((LoggingCodecSupport)writer).setEnableLoggingRequestDetails(true));\n\nclient = WebClient.builder()\n    .exchangeStrategies(exchangeStrategies)\n</code></pre>\n\n<p><strong>Mar 2019</strong>:</p>\n\n<p>In response to a question in the comment that asked how to log request and response body, I don’t know if Spring has such a logger but <code>WebClient</code> is built on Netty, so enabling debug logging for package <code>reactor.ipc.netty</code> should work, along with <a href=\"https://stackoverflow.com/a/15096962/839733\">this</a> answer.</p>\n"},{"tags":[],"owner":{"account_id":53237,"reputation":4939,"user_id":159178,"accept_rate":73,"display_name":"Fletch"},"down_vote_count":1,"up_vote_count":31,"is_accepted":false,"score":30,"last_activity_date":1543013364,"creation_date":1543013364,"answer_id":53453644,"question_id":46154994,"body_markdown":"If you don&#39;t want to log the body, then this is really easy.\r\n\r\n### Spring Boot &gt;= 2.1.0\r\nAdd the following to application.properties:\r\n\r\n    logging.level.org.springframework.web.reactive.function.client.ExchangeFunctions=TRACE\r\n    spring.http.log-request-details=true\r\n\r\nThe second line causes headers to be included in the log.\r\n\r\n### Spring Boot &lt; 2.1.0\r\nAdd the following to application.properties:\r\n\r\n    logging.level.org.springframework.web.reactive.function.client.ExchangeFunctions=TRACE\r\n\r\nInstead of the second line above, you need to declare a class like this:\r\n\r\n    @Configuration\r\n    static class LoggingCodecConfig {\r\n    \r\n        @Bean\r\n        @Order(0)\r\n        public CodecCustomizer loggingCodecCustomizer() {\r\n            return (configurer) -&gt; configurer.defaultCodecs()\r\n                    .enableLoggingRequestDetails(true);\r\n        }\r\n    \r\n    }\r\n\r\nCourtesy of [this Brian Clozel answer][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/53447759/159178","title":"how to log Spring 5 WebClient call","body":"<p>If you don't want to log the body, then this is really easy.</p>\n\n<h3>Spring Boot >= 2.1.0</h3>\n\n<p>Add the following to application.properties:</p>\n\n<pre><code>logging.level.org.springframework.web.reactive.function.client.ExchangeFunctions=TRACE\nspring.http.log-request-details=true\n</code></pre>\n\n<p>The second line causes headers to be included in the log.</p>\n\n<h3>Spring Boot &lt; 2.1.0</h3>\n\n<p>Add the following to application.properties:</p>\n\n<pre><code>logging.level.org.springframework.web.reactive.function.client.ExchangeFunctions=TRACE\n</code></pre>\n\n<p>Instead of the second line above, you need to declare a class like this:</p>\n\n<pre><code>@Configuration\nstatic class LoggingCodecConfig {\n\n    @Bean\n    @Order(0)\n    public CodecCustomizer loggingCodecCustomizer() {\n        return (configurer) -&gt; configurer.defaultCodecs()\n                .enableLoggingRequestDetails(true);\n    }\n\n}\n</code></pre>\n\n<p>Courtesy of <a href=\"https://stackoverflow.com/a/53447759/159178\">this Brian Clozel answer</a></p>\n"},{"tags":[],"owner":{"account_id":88507,"reputation":4193,"user_id":244744,"accept_rate":33,"display_name":"Matthew Buckett"},"down_vote_count":1,"up_vote_count":63,"is_accepted":false,"score":62,"last_activity_date":1555917765,"creation_date":1555917765,"answer_id":55790675,"question_id":46154994,"body_markdown":"You can have netty do logging of the request/responses with by asking it todo wiretaping, if you create your Spring WebClient like this then it enables the wiretap option.\r\n\r\n            WebClient webClient = WebClient.builder()\r\n                .clientConnector(new ReactorClientHttpConnector(\r\n                    HttpClient.create().wiretap(true)\r\n                ))\r\n                .build()\r\n\r\nand then have your logging setup:\r\n\r\n    logging.level.reactor.netty.http.client.HttpClient: DEBUG\r\n\r\nthis will log everything for the request/response (including bodies), but the format is not specific to HTTP so not very readable.\r\n","title":"how to log Spring 5 WebClient call","body":"<p>You can have netty do logging of the request/responses with by asking it todo wiretaping, if you create your Spring WebClient like this then it enables the wiretap option.</p>\n\n<pre><code>        WebClient webClient = WebClient.builder()\n            .clientConnector(new ReactorClientHttpConnector(\n                HttpClient.create().wiretap(true)\n            ))\n            .build()\n</code></pre>\n\n<p>and then have your logging setup:</p>\n\n<pre><code>logging.level.reactor.netty.http.client.HttpClient: DEBUG\n</code></pre>\n\n<p>this will log everything for the request/response (including bodies), but the format is not specific to HTTP so not very readable.</p>\n"},{"tags":[],"owner":{"account_id":4285843,"reputation":4366,"user_id":3503685,"accept_rate":72,"display_name":"StasKolodyuk"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1569166050,"creation_date":1569166050,"answer_id":58050657,"question_id":46154994,"body_markdown":"@Matthew Buckett answer shows you how to get Netty wire logging. However, the format is not very fancy (it includes hex dump). But it can be easily customized via extending `io.netty.handler.logging.LoggingHandler`\r\n\r\n```\r\npublic class HttpLoggingHandler extends LoggingHandler {\r\n\r\n    @Override\r\n    protected String format(ChannelHandlerContext ctx, String event, Object arg) {\r\n        if (arg instanceof ByteBuf) {\r\n            ByteBuf msg = (ByteBuf) arg;\r\n            return msg.toString(StandardCharsets.UTF_8);\r\n        }\r\n        return super.format(ctx, event, arg);\r\n    }\r\n}\r\n\r\n```\r\n\r\nThen include it in your `WebClient` configuration:\r\n\r\n```\r\nHttpClient httpClient = HttpClient.create()\r\n    .tcpConfiguration(tcpClient -&gt;\r\n        tcpClient.bootstrap(bootstrap -&gt;\r\n            BootstrapHandlers.updateLogSupport(bootstrap, new HttpLoggingHandler())));\r\n\r\nWebClient\r\n    .builder()\r\n    .clientConnector(new ReactorClientHttpConnector(httpClient))\r\n    .build()\r\n```\r\n\r\nExample:\r\n```\r\nwebClient.post()\r\n    .uri(&quot;https://postman-echo.com/post&quot;)\r\n    .syncBody(&quot;{\\&quot;foo\\&quot; : \\&quot;bar\\&quot;}&quot;)\r\n    .accept(MediaType.APPLICATION_JSON)\r\n    .exchange()\r\n    .block();\r\n```\r\n```\r\n2019-09-22 18:09:21.477 DEBUG   --- [ctor-http-nio-4] c.e.w.c.e.logging.HttpLoggingHandler     : [id: 0x505be2bb] REGISTERED\r\n2019-09-22 18:09:21.489 DEBUG   --- [ctor-http-nio-4] c.e.w.c.e.logging.HttpLoggingHandler     : [id: 0x505be2bb] CONNECT: postman-echo.com/35.170.134.160:443\r\n2019-09-22 18:09:21.701 DEBUG   --- [ctor-http-nio-4] c.e.w.c.e.logging.HttpLoggingHandler     : [id: 0x505be2bb, L:/192.168.100.35:55356 - R:postman-echo.com/35.170.134.160:443] ACTIVE\r\n2019-09-22 18:09:21.836 DEBUG   --- [ctor-http-nio-4] c.e.w.c.e.logging.HttpLoggingHandler     : [id: 0x505be2bb, L:/192.168.100.35:55356 - R:postman-echo.com/35.170.134.160:443] READ COMPLETE\r\n2019-09-22 18:09:21.905 DEBUG   --- [ctor-http-nio-4] c.e.w.c.e.logging.HttpLoggingHandler     : [id: 0x505be2bb, L:/192.168.100.35:55356 - R:postman-echo.com/35.170.134.160:443] READ COMPLETE\r\n2019-09-22 18:09:22.036 DEBUG   --- [ctor-http-nio-4] c.e.w.c.e.logging.HttpLoggingHandler     : [id: 0x505be2bb, L:/192.168.100.35:55356 - R:postman-echo.com/35.170.134.160:443] USER_EVENT: SslHandshakeCompletionEvent(SUCCESS)\r\n2019-09-22 18:09:22.082 DEBUG   --- [ctor-http-nio-4] c.e.w.c.e.logging.HttpLoggingHandler     : POST /post HTTP/1.1\r\nuser-agent: ReactorNetty/0.8.11.RELEASE\r\nhost: postman-echo.com\r\nAccept: application/json\r\nContent-Type: text/plain;charset=UTF-8\r\ncontent-length: 15\r\n\r\n{&quot;foo&quot; : &quot;bar&quot;}\r\n2019-09-22 18:09:22.083 DEBUG   --- [ctor-http-nio-4] c.e.w.c.e.logging.HttpLoggingHandler     : [id: 0x505be2bb, L:/192.168.100.35:55356 - R:postman-echo.com/35.170.134.160:443] FLUSH\r\n2019-09-22 18:09:22.086 DEBUG   --- [ctor-http-nio-4] c.e.w.c.e.logging.HttpLoggingHandler     : [id: 0x505be2bb, L:/192.168.100.35:55356 - R:postman-echo.com/35.170.134.160:443] READ COMPLETE\r\n2019-09-22 18:09:22.217 DEBUG   --- [ctor-http-nio-4] c.e.w.c.e.logging.HttpLoggingHandler     : HTTP/1.1 200 OK\r\nContent-Type: application/json; charset=utf-8\r\nDate: Sun, 22 Sep 2019 15:09:22 GMT\r\nETag: W/&quot;151-Llbe8OYGC3GeZCxttuAH3BOYBKA&quot;\r\nServer: nginx\r\nset-cookie: sails.sid=s%3APe39li6V8TL8FOJOzSINZRkQlZ7HFAYi.UkLZjfajJqkq9fUfF2Y8N4JOInHNW5t1XACu3fhQYSc; Path=/; HttpOnly\r\nVary: Accept-Encoding\r\nContent-Length: 337\r\nConnection: keep-alive\r\n\r\n{&quot;args&quot;:{},&quot;data&quot;:&quot;{\\&quot;foo\\&quot; : \\&quot;bar\\&quot;}&quot;,&quot;files&quot;:{},&quot;form&quot;:{},&quot;headers&quot;:{&quot;x-forwarded-proto&quot;:&quot;https&quot;,&quot;host&quot;:&quot;postman-echo.com&quot;,&quot;content-length&quot;:&quot;15&quot;,&quot;accept&quot;:&quot;application/json&quot;,&quot;content-type&quot;:&quot;text/plain;charset=UTF-8&quot;,&quot;user-agent&quot;:&quot;ReactorNetty/0.8.11.RELEASE&quot;,&quot;x-forwarded-port&quot;:&quot;443&quot;},&quot;json&quot;:null,&quot;url&quot;:&quot;https://postman-echo.com/post&quot;}\r\n2019-09-22 18:09:22.243 DEBUG   --- [ctor-http-nio-4] c.e.w.c.e.logging.HttpLoggingHandler     : [id: 0x505be2bb, L:/192.168.100.35:55356 - R:postman-echo.com/35.170.134.160:443] READ COMPLETE\r\n```\r\n\r\nIf you want to suppress useless (for you) log entries like (note `ACTIVE` at the end):\r\n```\r\n2019-09-22 18:09:21.701 DEBUG   --- [ctor-http-nio-4] c.e.w.c.e.logging.HttpLoggingHandler     : [id: 0x505be2bb, L:/192.168.100.35:55356 - R:postman-echo.com/35.170.134.160:443] ACTIVE\r\n```\r\nYou can override `channelActive` and others like so:\r\n```\r\n@Override\r\npublic void channelActive(ChannelHandlerContext ctx) {\r\n    ctx.fireChannelActive();\r\n}\r\n```\r\n\r\nThe answer is based on https://www.baeldung.com/spring-log-webclient-calls\r\n\r\n","title":"how to log Spring 5 WebClient call","body":"<p>@Matthew Buckett answer shows you how to get Netty wire logging. However, the format is not very fancy (it includes hex dump). But it can be easily customized via extending <code>io.netty.handler.logging.LoggingHandler</code></p>\n\n<pre><code>public class HttpLoggingHandler extends LoggingHandler {\n\n    @Override\n    protected String format(ChannelHandlerContext ctx, String event, Object arg) {\n        if (arg instanceof ByteBuf) {\n            ByteBuf msg = (ByteBuf) arg;\n            return msg.toString(StandardCharsets.UTF_8);\n        }\n        return super.format(ctx, event, arg);\n    }\n}\n\n</code></pre>\n\n<p>Then include it in your <code>WebClient</code> configuration:</p>\n\n<pre><code>HttpClient httpClient = HttpClient.create()\n    .tcpConfiguration(tcpClient -&gt;\n        tcpClient.bootstrap(bootstrap -&gt;\n            BootstrapHandlers.updateLogSupport(bootstrap, new HttpLoggingHandler())));\n\nWebClient\n    .builder()\n    .clientConnector(new ReactorClientHttpConnector(httpClient))\n    .build()\n</code></pre>\n\n<p>Example:</p>\n\n<pre><code>webClient.post()\n    .uri(\"https://postman-echo.com/post\")\n    .syncBody(\"{\\\"foo\\\" : \\\"bar\\\"}\")\n    .accept(MediaType.APPLICATION_JSON)\n    .exchange()\n    .block();\n</code></pre>\n\n<pre><code>2019-09-22 18:09:21.477 DEBUG   --- [ctor-http-nio-4] c.e.w.c.e.logging.HttpLoggingHandler     : [id: 0x505be2bb] REGISTERED\n2019-09-22 18:09:21.489 DEBUG   --- [ctor-http-nio-4] c.e.w.c.e.logging.HttpLoggingHandler     : [id: 0x505be2bb] CONNECT: postman-echo.com/35.170.134.160:443\n2019-09-22 18:09:21.701 DEBUG   --- [ctor-http-nio-4] c.e.w.c.e.logging.HttpLoggingHandler     : [id: 0x505be2bb, L:/192.168.100.35:55356 - R:postman-echo.com/35.170.134.160:443] ACTIVE\n2019-09-22 18:09:21.836 DEBUG   --- [ctor-http-nio-4] c.e.w.c.e.logging.HttpLoggingHandler     : [id: 0x505be2bb, L:/192.168.100.35:55356 - R:postman-echo.com/35.170.134.160:443] READ COMPLETE\n2019-09-22 18:09:21.905 DEBUG   --- [ctor-http-nio-4] c.e.w.c.e.logging.HttpLoggingHandler     : [id: 0x505be2bb, L:/192.168.100.35:55356 - R:postman-echo.com/35.170.134.160:443] READ COMPLETE\n2019-09-22 18:09:22.036 DEBUG   --- [ctor-http-nio-4] c.e.w.c.e.logging.HttpLoggingHandler     : [id: 0x505be2bb, L:/192.168.100.35:55356 - R:postman-echo.com/35.170.134.160:443] USER_EVENT: SslHandshakeCompletionEvent(SUCCESS)\n2019-09-22 18:09:22.082 DEBUG   --- [ctor-http-nio-4] c.e.w.c.e.logging.HttpLoggingHandler     : POST /post HTTP/1.1\nuser-agent: ReactorNetty/0.8.11.RELEASE\nhost: postman-echo.com\nAccept: application/json\nContent-Type: text/plain;charset=UTF-8\ncontent-length: 15\n\n{\"foo\" : \"bar\"}\n2019-09-22 18:09:22.083 DEBUG   --- [ctor-http-nio-4] c.e.w.c.e.logging.HttpLoggingHandler     : [id: 0x505be2bb, L:/192.168.100.35:55356 - R:postman-echo.com/35.170.134.160:443] FLUSH\n2019-09-22 18:09:22.086 DEBUG   --- [ctor-http-nio-4] c.e.w.c.e.logging.HttpLoggingHandler     : [id: 0x505be2bb, L:/192.168.100.35:55356 - R:postman-echo.com/35.170.134.160:443] READ COMPLETE\n2019-09-22 18:09:22.217 DEBUG   --- [ctor-http-nio-4] c.e.w.c.e.logging.HttpLoggingHandler     : HTTP/1.1 200 OK\nContent-Type: application/json; charset=utf-8\nDate: Sun, 22 Sep 2019 15:09:22 GMT\nETag: W/\"151-Llbe8OYGC3GeZCxttuAH3BOYBKA\"\nServer: nginx\nset-cookie: sails.sid=s%3APe39li6V8TL8FOJOzSINZRkQlZ7HFAYi.UkLZjfajJqkq9fUfF2Y8N4JOInHNW5t1XACu3fhQYSc; Path=/; HttpOnly\nVary: Accept-Encoding\nContent-Length: 337\nConnection: keep-alive\n\n{\"args\":{},\"data\":\"{\\\"foo\\\" : \\\"bar\\\"}\",\"files\":{},\"form\":{},\"headers\":{\"x-forwarded-proto\":\"https\",\"host\":\"postman-echo.com\",\"content-length\":\"15\",\"accept\":\"application/json\",\"content-type\":\"text/plain;charset=UTF-8\",\"user-agent\":\"ReactorNetty/0.8.11.RELEASE\",\"x-forwarded-port\":\"443\"},\"json\":null,\"url\":\"https://postman-echo.com/post\"}\n2019-09-22 18:09:22.243 DEBUG   --- [ctor-http-nio-4] c.e.w.c.e.logging.HttpLoggingHandler     : [id: 0x505be2bb, L:/192.168.100.35:55356 - R:postman-echo.com/35.170.134.160:443] READ COMPLETE\n</code></pre>\n\n<p>If you want to suppress useless (for you) log entries like (note <code>ACTIVE</code> at the end):</p>\n\n<pre><code>2019-09-22 18:09:21.701 DEBUG   --- [ctor-http-nio-4] c.e.w.c.e.logging.HttpLoggingHandler     : [id: 0x505be2bb, L:/192.168.100.35:55356 - R:postman-echo.com/35.170.134.160:443] ACTIVE\n</code></pre>\n\n<p>You can override <code>channelActive</code> and others like so:</p>\n\n<pre><code>@Override\npublic void channelActive(ChannelHandlerContext ctx) {\n    ctx.fireChannelActive();\n}\n</code></pre>\n\n<p>The answer is based on <a href=\"https://www.baeldung.com/spring-log-webclient-calls\" rel=\"noreferrer\">https://www.baeldung.com/spring-log-webclient-calls</a></p>\n"},{"tags":[],"owner":{"account_id":945079,"reputation":2425,"user_id":972463,"display_name":"Sergey Ushakov"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1582625725,"creation_date":1582625725,"answer_id":60392186,"question_id":46154994,"body_markdown":"An update of Feb 2020 for Spring Boot 2.2.4 and Spring 5.2.3:\r\n\r\nI did not manage to get `spring.http.log-request-details=true` doing its job, and current [Spring WebFlux reference suggests](https://docs.spring.io/spring/docs/5.2.3.RELEASE/spring-framework-reference/web-reactive.html#webflux-logging-sensitive-data) that some coding needs be done to have headers logged, though the code example uses deprecated [`exchangeStrategies()`](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/reactive/function/client/WebClient.Builder.html#exchangeStrategies-java.util.function.Consumer-) method.\r\n\r\nThere is still a replacement for the deprecated method, so a compact piece of code for getting headers logged at WebClient level may look like this:\r\n\r\n    WebClient webClient = WebClient.builder()\r\n        .codecs(configurer -&gt; configurer.defaultCodecs().enableLoggingRequestDetails(true))\r\n        .build();\r\n\r\nwith further\r\n\r\n    logging.level.org.springframework.web.reactive.function.client.ExchangeFunctions=TRACE\r\n\r\nIt should be noted though that not all of the headers are available (do exist) at WebFlux `ExchangeFunctions` level, so some more logging at Netty `HttpClient` level may be essential too, as per [@Matthew&#39;s suggestion](https://stackoverflow.com/a/55790675/972463):\r\n\r\n    WebClient webClient = WebClient.builder()\r\n        .clientConnector(new ReactorClientHttpConnector(\r\n            HttpClient.create()\r\n                .wiretap(true)))\r\n        .build()\r\n\r\nwith further\r\n\r\n    logging.level.reactor.netty.http.client.HttpClient: DEBUG\r\n\r\nThis will get bodies logged too.","title":"how to log Spring 5 WebClient call","body":"<p>An update of Feb 2020 for Spring Boot 2.2.4 and Spring 5.2.3:</p>\n\n<p>I did not manage to get <code>spring.http.log-request-details=true</code> doing its job, and current <a href=\"https://docs.spring.io/spring/docs/5.2.3.RELEASE/spring-framework-reference/web-reactive.html#webflux-logging-sensitive-data\" rel=\"noreferrer\">Spring WebFlux reference suggests</a> that some coding needs be done to have headers logged, though the code example uses deprecated <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/reactive/function/client/WebClient.Builder.html#exchangeStrategies-java.util.function.Consumer-\" rel=\"noreferrer\"><code>exchangeStrategies()</code></a> method.</p>\n\n<p>There is still a replacement for the deprecated method, so a compact piece of code for getting headers logged at WebClient level may look like this:</p>\n\n<pre><code>WebClient webClient = WebClient.builder()\n    .codecs(configurer -&gt; configurer.defaultCodecs().enableLoggingRequestDetails(true))\n    .build();\n</code></pre>\n\n<p>with further</p>\n\n<pre><code>logging.level.org.springframework.web.reactive.function.client.ExchangeFunctions=TRACE\n</code></pre>\n\n<p>It should be noted though that not all of the headers are available (do exist) at WebFlux <code>ExchangeFunctions</code> level, so some more logging at Netty <code>HttpClient</code> level may be essential too, as per <a href=\"https://stackoverflow.com/a/55790675/972463\">@Matthew's suggestion</a>:</p>\n\n<pre><code>WebClient webClient = WebClient.builder()\n    .clientConnector(new ReactorClientHttpConnector(\n        HttpClient.create()\n            .wiretap(true)))\n    .build()\n</code></pre>\n\n<p>with further</p>\n\n<pre><code>logging.level.reactor.netty.http.client.HttpClient: DEBUG\n</code></pre>\n\n<p>This will get bodies logged too.</p>\n"},{"tags":[],"owner":{"account_id":138670,"reputation":5671,"user_id":343759,"accept_rate":70,"display_name":"rewolf"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1594538395,"creation_date":1594538395,"answer_id":62858230,"question_id":46154994,"body_markdown":"If you are looking to log the serialized version of the JSON in the request or response, you can create your own Json Encoder/Decoder classes that wrap the defaults and log the JSON. Specifically you would subclass the `Jackson2JsonEncoder` and `Jackson2JsonDecoder` classes and override the methods that expose the serial data.\r\n\r\nThis is explained here: https://andrew-flower.com/blog/webclient-body-logging\r\n\r\nThe approach shown above is focused mainly on non-streaming data.  Doing it for streaming data might be more challenging.\r\n\r\nIt&#39;s obviously not recommended to do this in a Prod environment due to extra memory / processing required, but configuring it for development environments is useful.","title":"how to log Spring 5 WebClient call","body":"<p>If you are looking to log the serialized version of the JSON in the request or response, you can create your own Json Encoder/Decoder classes that wrap the defaults and log the JSON. Specifically you would subclass the <code>Jackson2JsonEncoder</code> and <code>Jackson2JsonDecoder</code> classes and override the methods that expose the serial data.</p>\n<p>This is explained here: <a href=\"https://andrew-flower.com/blog/webclient-body-logging\" rel=\"nofollow noreferrer\">https://andrew-flower.com/blog/webclient-body-logging</a></p>\n<p>The approach shown above is focused mainly on non-streaming data.  Doing it for streaming data might be more challenging.</p>\n<p>It's obviously not recommended to do this in a Prod environment due to extra memory / processing required, but configuring it for development environments is useful.</p>\n"},{"tags":[],"owner":{"account_id":12309664,"reputation":73,"user_id":8981561,"display_name":"code_name"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1605203499,"creation_date":1605203499,"answer_id":64809152,"question_id":46154994,"body_markdown":"[@StasKolodyuk][1]&#39;s answer elaborates on the solution from [baeldung][2] for logging the response body of a reactive WebClient. Note that \r\n\r\n    tc.bootstrap(...)\r\n\r\nis deprecated in\r\n   \r\n\r\n        HttpClient httpClient = HttpClient\r\n          .create()\r\n          .tcpConfiguration(\r\n            tc -&gt; tc.bootstrap(\r\n              b -&gt; BootstrapHandlers.updateLogSupport(b, new CustomLogger(HttpClient.class))))\r\n          .build()\r\n    \r\nAnother non-deprecated way to add your custom LoggingHandler is (Kotlin)\r\n\r\n    val httpClient: HttpClient = HttpClient.create().mapConnect { conn, b -&gt;\r\n        BootstrapHandlers.updateLogSupport(b, CustomLogger(HttpClient::class.java))\r\n        conn\r\n    }\r\n\r\n  [1]: https://stackoverflow.com/users/3503685/staskolodyuk\r\n  [2]: https://www.baeldung.com/spring-log-webclient-calls","title":"how to log Spring 5 WebClient call","body":"<p><a href=\"https://stackoverflow.com/users/3503685/staskolodyuk\">@StasKolodyuk</a>'s answer elaborates on the solution from <a href=\"https://www.baeldung.com/spring-log-webclient-calls\" rel=\"nofollow noreferrer\">baeldung</a> for logging the response body of a reactive WebClient. Note that</p>\n<pre><code>tc.bootstrap(...)\n</code></pre>\n<p>is deprecated in</p>\n<pre><code>    HttpClient httpClient = HttpClient\n      .create()\n      .tcpConfiguration(\n        tc -&gt; tc.bootstrap(\n          b -&gt; BootstrapHandlers.updateLogSupport(b, new CustomLogger(HttpClient.class))))\n      .build()\n</code></pre>\n<p>Another non-deprecated way to add your custom LoggingHandler is (Kotlin)</p>\n<pre><code>val httpClient: HttpClient = HttpClient.create().mapConnect { conn, b -&gt;\n    BootstrapHandlers.updateLogSupport(b, CustomLogger(HttpClient::class.java))\n    conn\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3237003,"reputation":1250,"user_id":2730950,"display_name":"Vladimir"},"down_vote_count":0,"up_vote_count":66,"is_accepted":false,"score":66,"last_activity_date":1614779284,"creation_date":1611944309,"answer_id":65959769,"question_id":46154994,"body_markdown":"In Spring Boot 2.4.0, the HttpClient&#39;s wiretap() method has additional parameters you can pass to show full request/response headers and body in ***normal*** human readable format. Use format (AdvancedByteBufFormat.TEXTUAL).\r\n\r\n\r\n    HttpClient httpClient = HttpClient.create()\r\n          .wiretap(this.getClass().getCanonicalName(), LogLevel.DEBUG, AdvancedByteBufFormat.TEXTUAL);\r\n    ClientHttpConnector conn = new ReactorClientHttpConnector(httpClient);   \r\n\r\n    WebClient client =  WebClient.builder()\r\n                .clientConnector(conn)\r\n                .build();\r\n\r\n\r\nResult:\r\n\r\n    POST /score HTTP/1.1\r\n    Host: localhost:8080\r\n    User-Agent: insomnia/2020.5.2\r\n    Content-Type: application/json\r\n    access_: \r\n    Authorization: Bearer eyJ0e....\r\n    Accept: application/json\r\n    content-length: 4506\r\n    \r\n    WRITE: 4506B {&quot;body&quot;:{&quot;invocations&quot;:[{&quot;id&quot;:....\r\n\r\n\r\n    READ: 2048B HTTP/1.0 200 OK\r\n    Content-Type: application/json\r\n    Content-Length: 2271\r\n    Server: Werkzeug/1.0.1 Python/3.7.7\r\n    Date: Fri, 29 Jan 2021 18:49:53 GMT\r\n    \r\n    {&quot;body&quot;:{&quot;results&quot;:[.....\r\n\r\n","title":"how to log Spring 5 WebClient call","body":"<p>In Spring Boot 2.4.0, the HttpClient's wiretap() method has additional parameters you can pass to show full request/response headers and body in <em><strong>normal</strong></em> human readable format. Use format (AdvancedByteBufFormat.TEXTUAL).</p>\n<pre><code>HttpClient httpClient = HttpClient.create()\n      .wiretap(this.getClass().getCanonicalName(), LogLevel.DEBUG, AdvancedByteBufFormat.TEXTUAL);\nClientHttpConnector conn = new ReactorClientHttpConnector(httpClient);   \n\nWebClient client =  WebClient.builder()\n            .clientConnector(conn)\n            .build();\n</code></pre>\n<p>Result:</p>\n<pre><code>POST /score HTTP/1.1\nHost: localhost:8080\nUser-Agent: insomnia/2020.5.2\nContent-Type: application/json\naccess_: \nAuthorization: Bearer eyJ0e....\nAccept: application/json\ncontent-length: 4506\n\nWRITE: 4506B {&quot;body&quot;:{&quot;invocations&quot;:[{&quot;id&quot;:....\n\n\nREAD: 2048B HTTP/1.0 200 OK\nContent-Type: application/json\nContent-Length: 2271\nServer: Werkzeug/1.0.1 Python/3.7.7\nDate: Fri, 29 Jan 2021 18:49:53 GMT\n\n{&quot;body&quot;:{&quot;results&quot;:[.....\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6160770,"reputation":1423,"user_id":4802448,"accept_rate":100,"display_name":"Daniel Eisenreich"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1614773313,"creation_date":1614772972,"answer_id":66456679,"question_id":46154994,"body_markdown":"**Spoiler:** So far the custom logging with the `ExchangeFilterFunction` does not support to log the body.\r\n\r\nIn my case the best logging is achieved with the solution from Bealdung (see [this](https://www.baeldung.com/spring-log-webclient-calls#2-logging-with-netty-httpclient)).\r\n\r\nTherefore I setup a default builder so the different APIs share this.\r\n\r\n```java\r\n@Bean\r\npublic WebClient.Builder defaultWebClient() {\r\n    final var builder = WebClient.builder();\r\n    if (LOG.isDebugEnabled()) {\r\n        builder.clientConnector(new ReactorClientHttpConnector(\r\n                HttpClient.create().wiretap(&quot;reactor.netty.http.client.HttpClient&quot;,\r\n                        LogLevel.DEBUG, AdvancedByteBufFormat.TEXTUAL)\r\n        ));\r\n    }\r\n    return builder;\r\n}\r\n```\r\n\r\nIn the concrete API configuration I can then configure specific things:\r\n```java\r\n@Bean\r\npublic SpecificApi bspApi(@Value(&quot;${specific.api.url}&quot;) final String baseUrl,\r\n                     final WebClient.Builder builder) {\r\n    final var webClient = builder.baseUrl(baseUrl).build();\r\n    return new SpecificApi(webClient);\r\n}\r\n```\r\n\r\nAnd then I have to set the following property:\r\n\r\n```\r\nlogging.level.reactor.netty.http.client: DEBUG\r\n```\r\n\r\nThen the request log looks like:\r\n\r\n```\r\n021-03-03 12:56:34.589 DEBUG 20464 --- [ctor-http-nio-2] reactor.netty.http.client.HttpClient     : [id: 0xe75a7fb8] REGISTERED\r\n2021-03-03 12:56:34.590 DEBUG 20464 --- [ctor-http-nio-2] reactor.netty.http.client.HttpClient     : [id: 0xe75a7fb8] CONNECT: /192.168.01:80\r\n2021-03-03 12:56:34.591 DEBUG 20464 --- [ctor-http-nio-2] reactor.netty.http.client.HttpClient     : [id: 0xe75a7fb8, L:/192.168.04:56774 - R:/192.168.01:80] ACTIVE\r\n2021-03-03 12:56:34.591 DEBUG 20464 --- [ctor-http-nio-2] r.netty.http.client.HttpClientConnect    : [id: 0xe75a7fb8, L:/192.168.04:56774 - R:/192.168.01:80] Handler is being applied: {uri=http://192.168.01/user, method=GET}\r\n2021-03-03 12:56:34.592 DEBUG 20464 --- [ctor-http-nio-2] reactor.netty.http.client.HttpClient     : [id: 0xe75a7fb8, L:/192.168.04:56774 - R:/192.168.01:80] WRITE: 102B GET /user HTTP/1.1\r\nuser-agent: ReactorNetty/1.0.3\r\nhost: 192.168.01\r\naccept: */*\r\n\r\n&lt;REQUEST_BODY&gt;\r\n\r\n2021-03-03 12:56:34.592 DEBUG 20464 --- [ctor-http-nio-2] reactor.netty.http.client.HttpClient     : [id: 0xe75a7fb8, L:/192.168.04:56774 - R:/192.168.01:80] FLUSH\r\n2021-03-03 12:56:34.592 DEBUG 20464 --- [ctor-http-nio-2] reactor.netty.http.client.HttpClient     : [id: 0xe75a7fb8, L:/192.168.04:56774 - R:/192.168.01:80] WRITE: 0B \r\n2021-03-03 12:56:34.592 DEBUG 20464 --- [ctor-http-nio-2] reactor.netty.http.client.HttpClient     : [id: 0xe75a7fb8, L:/192.168.04:56774 - R:/192.168.01:80] FLUSH\r\n2021-03-03 12:56:34.594 DEBUG 20464 --- [ctor-http-nio-2] reactor.netty.http.client.HttpClient     : [id: 0xe75a7fb8, L:/192.168.04:56774 - R:/192.168.01:80] READ: 2048B HTTP/1.1 200 \r\nServer: nginx/1.16.1\r\nDate: Wed, 03 Mar 2021 11:56:31 GMT\r\nContent-Type: application/json\r\nContent-Length: 4883\r\nConnection: keep-alive\r\nAccess-Control-Allow-Origin: *\r\nContent-Range: items 0-4/4\r\n\r\n&lt;RESPONSE_BODY&gt;\r\n```","title":"how to log Spring 5 WebClient call","body":"<p><strong>Spoiler:</strong> So far the custom logging with the <code>ExchangeFilterFunction</code> does not support to log the body.</p>\n<p>In my case the best logging is achieved with the solution from Bealdung (see <a href=\"https://www.baeldung.com/spring-log-webclient-calls#2-logging-with-netty-httpclient\" rel=\"noreferrer\">this</a>).</p>\n<p>Therefore I setup a default builder so the different APIs share this.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic WebClient.Builder defaultWebClient() {\n    final var builder = WebClient.builder();\n    if (LOG.isDebugEnabled()) {\n        builder.clientConnector(new ReactorClientHttpConnector(\n                HttpClient.create().wiretap(&quot;reactor.netty.http.client.HttpClient&quot;,\n                        LogLevel.DEBUG, AdvancedByteBufFormat.TEXTUAL)\n        ));\n    }\n    return builder;\n}\n</code></pre>\n<p>In the concrete API configuration I can then configure specific things:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic SpecificApi bspApi(@Value(&quot;${specific.api.url}&quot;) final String baseUrl,\n                     final WebClient.Builder builder) {\n    final var webClient = builder.baseUrl(baseUrl).build();\n    return new SpecificApi(webClient);\n}\n</code></pre>\n<p>And then I have to set the following property:</p>\n<pre><code>logging.level.reactor.netty.http.client: DEBUG\n</code></pre>\n<p>Then the request log looks like:</p>\n<pre><code>021-03-03 12:56:34.589 DEBUG 20464 --- [ctor-http-nio-2] reactor.netty.http.client.HttpClient     : [id: 0xe75a7fb8] REGISTERED\n2021-03-03 12:56:34.590 DEBUG 20464 --- [ctor-http-nio-2] reactor.netty.http.client.HttpClient     : [id: 0xe75a7fb8] CONNECT: /192.168.01:80\n2021-03-03 12:56:34.591 DEBUG 20464 --- [ctor-http-nio-2] reactor.netty.http.client.HttpClient     : [id: 0xe75a7fb8, L:/192.168.04:56774 - R:/192.168.01:80] ACTIVE\n2021-03-03 12:56:34.591 DEBUG 20464 --- [ctor-http-nio-2] r.netty.http.client.HttpClientConnect    : [id: 0xe75a7fb8, L:/192.168.04:56774 - R:/192.168.01:80] Handler is being applied: {uri=http://192.168.01/user, method=GET}\n2021-03-03 12:56:34.592 DEBUG 20464 --- [ctor-http-nio-2] reactor.netty.http.client.HttpClient     : [id: 0xe75a7fb8, L:/192.168.04:56774 - R:/192.168.01:80] WRITE: 102B GET /user HTTP/1.1\nuser-agent: ReactorNetty/1.0.3\nhost: 192.168.01\naccept: */*\n\n&lt;REQUEST_BODY&gt;\n\n2021-03-03 12:56:34.592 DEBUG 20464 --- [ctor-http-nio-2] reactor.netty.http.client.HttpClient     : [id: 0xe75a7fb8, L:/192.168.04:56774 - R:/192.168.01:80] FLUSH\n2021-03-03 12:56:34.592 DEBUG 20464 --- [ctor-http-nio-2] reactor.netty.http.client.HttpClient     : [id: 0xe75a7fb8, L:/192.168.04:56774 - R:/192.168.01:80] WRITE: 0B \n2021-03-03 12:56:34.592 DEBUG 20464 --- [ctor-http-nio-2] reactor.netty.http.client.HttpClient     : [id: 0xe75a7fb8, L:/192.168.04:56774 - R:/192.168.01:80] FLUSH\n2021-03-03 12:56:34.594 DEBUG 20464 --- [ctor-http-nio-2] reactor.netty.http.client.HttpClient     : [id: 0xe75a7fb8, L:/192.168.04:56774 - R:/192.168.01:80] READ: 2048B HTTP/1.1 200 \nServer: nginx/1.16.1\nDate: Wed, 03 Mar 2021 11:56:31 GMT\nContent-Type: application/json\nContent-Length: 4883\nConnection: keep-alive\nAccess-Control-Allow-Origin: *\nContent-Range: items 0-4/4\n\n&lt;RESPONSE_BODY&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":102988,"reputation":24922,"user_id":276093,"accept_rate":60,"display_name":"matt burns"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1616968182,"creation_date":1616968182,"answer_id":66846537,"question_id":46154994,"body_markdown":"This is what worked for me in 2021 :)\r\n```\r\nHttpClient httpClient = HttpClient\r\n        .create()\r\n        .wiretap(this.getClass().getCanonicalName(),\r\n                LogLevel.INFO, AdvancedByteBufFormat.TEXTUAL);\r\n\r\nWebClient client = WebClient.builder()\r\n        .baseUrl(&quot;https://example.com&quot;)\r\n        .clientConnector(new ReactorClientHttpConnector(httpClient))\r\n        .build();\r\n```","title":"how to log Spring 5 WebClient call","body":"<p>This is what worked for me in 2021 :)</p>\n<pre><code>HttpClient httpClient = HttpClient\n        .create()\n        .wiretap(this.getClass().getCanonicalName(),\n                LogLevel.INFO, AdvancedByteBufFormat.TEXTUAL);\n\nWebClient client = WebClient.builder()\n        .baseUrl(&quot;https://example.com&quot;)\n        .clientConnector(new ReactorClientHttpConnector(httpClient))\n        .build();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1990482,"reputation":42,"user_id":1784600,"display_name":"KavboiHaggis"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1617033491,"creation_date":1617000918,"answer_id":66849838,"question_id":46154994,"body_markdown":"If you are going to implement CustomLoggerHandler, don&#39;t forget to implement `equals()` and `hashCode()`, otherwise will be a memory leak https://github.com/reactor/reactor-netty/issues/988#issuecomment-582489035","title":"how to log Spring 5 WebClient call","body":"<p>If you are going to implement CustomLoggerHandler, don't forget to implement <code>equals()</code> and <code>hashCode()</code>, otherwise will be a memory leak <a href=\"https://github.com/reactor/reactor-netty/issues/988#issuecomment-582489035\" rel=\"nofollow noreferrer\">https://github.com/reactor/reactor-netty/issues/988#issuecomment-582489035</a></p>\n"},{"tags":[],"owner":{"account_id":21914812,"reputation":81,"user_id":16198847,"display_name":"Stanislav Burov"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1623424495,"creation_date":1623424495,"answer_id":67939497,"question_id":46154994,"body_markdown":"There is a way to log request and response body using only [ExchangeFilterFunction][1]. It is independent of the underlying `ClientHttpConnector` and supports tailor-made output. The actual output isn&#39;t included in the implementation. Instead the lines where request and response body can be accessed contain explanatory comments. Add the following class instance to the `WebClient` filter list:\r\n\r\n    import org.reactivestreams.Publisher;\r\n    import org.springframework.core.io.buffer.DataBuffer;\r\n    import org.springframework.http.client.reactive.ClientHttpRequest;\r\n    import org.springframework.http.client.reactive.ClientHttpRequestDecorator;\r\n    import org.springframework.web.reactive.function.BodyInserter;\r\n    import org.springframework.web.reactive.function.client.ClientRequest;\r\n    import org.springframework.web.reactive.function.client.ClientResponse;\r\n    import org.springframework.web.reactive.function.client.ExchangeFilterFunction;\r\n    import org.springframework.web.reactive.function.client.ExchangeFunction;\r\n    import reactor.core.publisher.BaseSubscriber;\r\n    import reactor.core.publisher.Mono;\r\n    \r\n    import java.util.concurrent.atomic.AtomicBoolean;\r\n    \r\n    public class LoggingExchangeFilterFunction implements ExchangeFilterFunction {\r\n    \r\n        @Override\r\n        public Mono&lt;ClientResponse&gt; filter(ClientRequest request, ExchangeFunction next) {\r\n            BodyInserter&lt;?, ? super ClientHttpRequest&gt; originalBodyInserter = request.body();\r\n            ClientRequest loggingClientRequest = ClientRequest.from(request)\r\n                    .body((outputMessage, context) -&gt; {\r\n                        ClientHttpRequestDecorator loggingOutputMessage = new ClientHttpRequestDecorator(outputMessage) {\r\n    \r\n                            private final AtomicBoolean alreadyLogged = new AtomicBoolean(false); // Not sure if thread-safe is needed...\r\n    \r\n                            @Override\r\n                            public Mono&lt;Void&gt; writeWith(Publisher&lt;? extends DataBuffer&gt; body) {\r\n                                boolean needToLog = alreadyLogged.compareAndSet(false, true);\r\n                                if (needToLog) {\r\n                                    // use `body.toString(Charset.defaultCharset())` to obtain request body\r\n                                }\r\n                                return super.writeWith(body);\r\n                            }\r\n    \r\n                            @Override\r\n                            public Mono&lt;Void&gt; writeAndFlushWith(Publisher&lt;? extends Publisher&lt;? extends DataBuffer&gt;&gt; body) {\r\n                                boolean needToLog = alreadyLogged.compareAndSet(false, true);\r\n                                if (needToLog) {\r\n                                    BaseSubscriber&lt;Publisher&lt;? extends DataBuffer&gt;&gt; bodySubscriber = new BaseSubscriber&lt;Publisher&lt;? extends DataBuffer&gt;&gt;() {\r\n                                        @Override\r\n                                        protected void hookOnNext(Publisher&lt;? extends DataBuffer&gt; next) {\r\n                                            // use `next.toString(Charset.defaultCharset())` to obtain request body element\r\n                                        }\r\n                                    };\r\n                                    body.subscribe(bodySubscriber);\r\n                                    bodySubscriber.request(Long.MAX_VALUE);\r\n                                }\r\n                                return super.writeAndFlushWith(body);\r\n                            }\r\n    \r\n                            @Override\r\n                            public Mono&lt;Void&gt; setComplete() { // This is for requests with no body (e.g. GET).\r\n                                boolean needToLog = alreadyLogged.compareAndSet(false, true);\r\n                                if (needToLog) {\r\n                                    // A request with no body, could log `request.method()` and `request.url()`.\r\n                                }\r\n                                return super.setComplete();\r\n                            }\r\n                        };\r\n                        return originalBodyInserter.insert(loggingOutputMessage, context);\r\n                    })\r\n                    .build();\r\n            return next.exchange(loggingClientRequest)\r\n                    .map(\r\n                            clientResponse -&gt; clientResponse.mutate()\r\n                                    .body(f -&gt; f.map(dataBuffer -&gt; {\r\n                                        // Use `dataBuffer.toString(Charset.defaultCharset())` to obtain response body.\r\n                                        return dataBuffer;\r\n                                    }))\r\n                                    .build()\r\n                    );\r\n        }\r\n    \r\n    }\r\n\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/reactive/function/client/ExchangeFilterFunction.html","title":"how to log Spring 5 WebClient call","body":"<p>There is a way to log request and response body using only <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/reactive/function/client/ExchangeFilterFunction.html\" rel=\"noreferrer\">ExchangeFilterFunction</a>. It is independent of the underlying <code>ClientHttpConnector</code> and supports tailor-made output. The actual output isn't included in the implementation. Instead the lines where request and response body can be accessed contain explanatory comments. Add the following class instance to the <code>WebClient</code> filter list:</p>\n<pre><code>import org.reactivestreams.Publisher;\nimport org.springframework.core.io.buffer.DataBuffer;\nimport org.springframework.http.client.reactive.ClientHttpRequest;\nimport org.springframework.http.client.reactive.ClientHttpRequestDecorator;\nimport org.springframework.web.reactive.function.BodyInserter;\nimport org.springframework.web.reactive.function.client.ClientRequest;\nimport org.springframework.web.reactive.function.client.ClientResponse;\nimport org.springframework.web.reactive.function.client.ExchangeFilterFunction;\nimport org.springframework.web.reactive.function.client.ExchangeFunction;\nimport reactor.core.publisher.BaseSubscriber;\nimport reactor.core.publisher.Mono;\n\nimport java.util.concurrent.atomic.AtomicBoolean;\n\npublic class LoggingExchangeFilterFunction implements ExchangeFilterFunction {\n\n    @Override\n    public Mono&lt;ClientResponse&gt; filter(ClientRequest request, ExchangeFunction next) {\n        BodyInserter&lt;?, ? super ClientHttpRequest&gt; originalBodyInserter = request.body();\n        ClientRequest loggingClientRequest = ClientRequest.from(request)\n                .body((outputMessage, context) -&gt; {\n                    ClientHttpRequestDecorator loggingOutputMessage = new ClientHttpRequestDecorator(outputMessage) {\n\n                        private final AtomicBoolean alreadyLogged = new AtomicBoolean(false); // Not sure if thread-safe is needed...\n\n                        @Override\n                        public Mono&lt;Void&gt; writeWith(Publisher&lt;? extends DataBuffer&gt; body) {\n                            boolean needToLog = alreadyLogged.compareAndSet(false, true);\n                            if (needToLog) {\n                                // use `body.toString(Charset.defaultCharset())` to obtain request body\n                            }\n                            return super.writeWith(body);\n                        }\n\n                        @Override\n                        public Mono&lt;Void&gt; writeAndFlushWith(Publisher&lt;? extends Publisher&lt;? extends DataBuffer&gt;&gt; body) {\n                            boolean needToLog = alreadyLogged.compareAndSet(false, true);\n                            if (needToLog) {\n                                BaseSubscriber&lt;Publisher&lt;? extends DataBuffer&gt;&gt; bodySubscriber = new BaseSubscriber&lt;Publisher&lt;? extends DataBuffer&gt;&gt;() {\n                                    @Override\n                                    protected void hookOnNext(Publisher&lt;? extends DataBuffer&gt; next) {\n                                        // use `next.toString(Charset.defaultCharset())` to obtain request body element\n                                    }\n                                };\n                                body.subscribe(bodySubscriber);\n                                bodySubscriber.request(Long.MAX_VALUE);\n                            }\n                            return super.writeAndFlushWith(body);\n                        }\n\n                        @Override\n                        public Mono&lt;Void&gt; setComplete() { // This is for requests with no body (e.g. GET).\n                            boolean needToLog = alreadyLogged.compareAndSet(false, true);\n                            if (needToLog) {\n                                // A request with no body, could log `request.method()` and `request.url()`.\n                            }\n                            return super.setComplete();\n                        }\n                    };\n                    return originalBodyInserter.insert(loggingOutputMessage, context);\n                })\n                .build();\n        return next.exchange(loggingClientRequest)\n                .map(\n                        clientResponse -&gt; clientResponse.mutate()\n                                .body(f -&gt; f.map(dataBuffer -&gt; {\n                                    // Use `dataBuffer.toString(Charset.defaultCharset())` to obtain response body.\n                                    return dataBuffer;\n                                }))\n                                .build()\n                );\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5129456,"reputation":954,"user_id":4110190,"display_name":"Jonas Pedersen"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1628249801,"creation_date":1628249801,"answer_id":68680951,"question_id":46154994,"body_markdown":"Based on [Stanislav Burov][1]&#39;s answer I made this logger, that logs all request/response headers, method, url and body.\r\n\r\n    public class WebClientLogger implements ExchangeFilterFunction {\r\n\r\n    @Override\r\n    public Mono&lt;ClientResponse&gt; filter(ClientRequest request, ExchangeFunction next) {\r\n        // Log url using &#39;request.url()&#39;\r\n        // Log method using &#39;request.method()&#39;\r\n        // Log request headers using &#39;request.headers().entrySet().stream().map(Object::toString).collect(joining(&quot;,&quot;))&#39;\r\n\r\n        BodyInserter&lt;?, ? super ClientHttpRequest&gt; originalBodyInserter = request.body();\r\n\r\n        ClientRequest loggingClientRequest = ClientRequest.from(request)\r\n                .body((outputMessage, context) -&gt; {\r\n                    ClientHttpRequestDecorator loggingOutputMessage = new ClientHttpRequestDecorator(outputMessage) {\r\n                        private final AtomicBoolean alreadyLogged = new AtomicBoolean(false);\r\n\r\n                        @Override\r\n                        public Mono&lt;Void&gt; writeWith(Publisher&lt;? extends DataBuffer&gt; body) {\r\n                            boolean needToLog = alreadyLogged.compareAndSet(false, true);\r\n                            if (needToLog) {\r\n\r\n                                body = DataBufferUtils.join(body)\r\n                                        .doOnNext(content -&gt; {\r\n                                            // Log request body using &#39;content.toString(StandardCharsets.UTF_8)&#39;\r\n                                        });\r\n                            }\r\n                            return super.writeWith(body);\r\n                        }\r\n\r\n                        @Override\r\n                        public Mono&lt;Void&gt; setComplete() { // This is for requests with no body (e.g. GET).\r\n                            boolean needToLog = alreadyLogged.compareAndSet(false, true);\r\n                            if (needToLog) {\r\n                                \r\n                            }\r\n                            return super.setComplete();\r\n                        }\r\n                    };\r\n\r\n                    return originalBodyInserter.insert(loggingOutputMessage, context);\r\n                })\r\n                .build();\r\n\r\n        return next.exchange(loggingClientRequest)\r\n                .map(clientResponse -&gt; {\r\n                            // Log response status using &#39;clientResponse.statusCode().value())&#39;\r\n                            // Log response headers using &#39;clientResponse.headers().asHttpHeaders().entrySet().stream().map(Object::toString).collect(joining(&quot;,&quot;))&#39;\r\n\r\n                            return clientResponse.mutate()\r\n                                    .body(f -&gt; f.map(dataBuffer -&gt; {\r\n                                        // Log response body using &#39;dataBuffer.toString(StandardCharsets.UTF_8)&#39;\r\n                                        return dataBuffer;\r\n                                    }))\r\n                                    .build();\r\n                        }\r\n                );\r\n\r\n    }\r\n}\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/67939497/4110190","title":"how to log Spring 5 WebClient call","body":"<p>Based on <a href=\"https://stackoverflow.com/a/67939497/4110190\">Stanislav Burov</a>'s answer I made this logger, that logs all request/response headers, method, url and body.</p>\n<pre><code>public class WebClientLogger implements ExchangeFilterFunction {\n\n@Override\npublic Mono&lt;ClientResponse&gt; filter(ClientRequest request, ExchangeFunction next) {\n    // Log url using 'request.url()'\n    // Log method using 'request.method()'\n    // Log request headers using 'request.headers().entrySet().stream().map(Object::toString).collect(joining(&quot;,&quot;))'\n\n    BodyInserter&lt;?, ? super ClientHttpRequest&gt; originalBodyInserter = request.body();\n\n    ClientRequest loggingClientRequest = ClientRequest.from(request)\n            .body((outputMessage, context) -&gt; {\n                ClientHttpRequestDecorator loggingOutputMessage = new ClientHttpRequestDecorator(outputMessage) {\n                    private final AtomicBoolean alreadyLogged = new AtomicBoolean(false);\n\n                    @Override\n                    public Mono&lt;Void&gt; writeWith(Publisher&lt;? extends DataBuffer&gt; body) {\n                        boolean needToLog = alreadyLogged.compareAndSet(false, true);\n                        if (needToLog) {\n\n                            body = DataBufferUtils.join(body)\n                                    .doOnNext(content -&gt; {\n                                        // Log request body using 'content.toString(StandardCharsets.UTF_8)'\n                                    });\n                        }\n                        return super.writeWith(body);\n                    }\n\n                    @Override\n                    public Mono&lt;Void&gt; setComplete() { // This is for requests with no body (e.g. GET).\n                        boolean needToLog = alreadyLogged.compareAndSet(false, true);\n                        if (needToLog) {\n                            \n                        }\n                        return super.setComplete();\n                    }\n                };\n\n                return originalBodyInserter.insert(loggingOutputMessage, context);\n            })\n            .build();\n\n    return next.exchange(loggingClientRequest)\n            .map(clientResponse -&gt; {\n                        // Log response status using 'clientResponse.statusCode().value())'\n                        // Log response headers using 'clientResponse.headers().asHttpHeaders().entrySet().stream().map(Object::toString).collect(joining(&quot;,&quot;))'\n\n                        return clientResponse.mutate()\n                                .body(f -&gt; f.map(dataBuffer -&gt; {\n                                    // Log response body using 'dataBuffer.toString(StandardCharsets.UTF_8)'\n                                    return dataBuffer;\n                                }))\n                                .build();\n                    }\n            );\n\n}\n</code></pre>\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":121787,"reputation":11660,"user_id":315129,"accept_rate":93,"display_name":"vbezhenar"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1637594859,"creation_date":1637594859,"answer_id":70068247,"question_id":46154994,"body_markdown":"Here&#39;s my snippet based on excellent Stanislav Burov&#39;s answer. I extracted some lambdas to standalone classes to make code more readable for me and I also implemented a limited UTF-8 aware decoder. I&#39;m using some Guava and Java 17 features, but this code could be easily ported to early versions. I don&#39;t buffer the whole request/response body, but rather log buffers as they come in a separate calls, so it does not use excessive RAM or writes extremely long lines.\r\n\r\n```java\r\npackage kz.doubleservices.healthbus.util;\r\n\r\nimport org.reactivestreams.Publisher;\r\nimport org.slf4j.Logger;\r\nimport org.springframework.core.io.buffer.DataBuffer;\r\nimport org.springframework.http.client.reactive.ClientHttpRequest;\r\nimport org.springframework.http.client.reactive.ClientHttpRequestDecorator;\r\nimport org.springframework.lang.NonNull;\r\nimport org.springframework.web.reactive.function.BodyInserter;\r\nimport org.springframework.web.reactive.function.client.ClientRequest;\r\nimport org.springframework.web.reactive.function.client.ClientResponse;\r\nimport org.springframework.web.reactive.function.client.ExchangeFilterFunction;\r\nimport org.springframework.web.reactive.function.client.ExchangeFunction;\r\nimport reactor.core.publisher.Flux;\r\nimport reactor.core.publisher.Mono;\r\n\r\nimport java.util.HexFormat;\r\nimport java.util.List;\r\nimport java.util.Locale;\r\nimport java.util.concurrent.ThreadLocalRandom;\r\nimport java.util.function.Function;\r\n\r\nimport static com.google.common.io.BaseEncoding.base32;\r\n\r\npublic class LoggingExchangeFilterFunction implements ExchangeFilterFunction {\r\n    private final Logger logger;\r\n\r\n    public LoggingExchangeFilterFunction(Logger logger) {\r\n        this.logger = logger;\r\n    }\r\n\r\n    @Override\r\n    @NonNull\r\n    public Mono&lt;ClientResponse&gt; filter(@NonNull ClientRequest request, @NonNull ExchangeFunction next) {\r\n        if (!logger.isDebugEnabled()) {\r\n            return next.exchange(request);\r\n        }\r\n\r\n        String requestId = generateRequestId();\r\n\r\n        if (logger.isTraceEnabled()) {\r\n            var message = new StringBuilder();\r\n            message.append(&quot;HTTP request start; request-id=&quot;).append(requestId).append(&#39;\\n&#39;)\r\n                    .append(request.method()).append(&#39; &#39;).append(request.url());\r\n            request.headers().forEach((String name, List&lt;String&gt; values) -&gt; {\r\n                for (String value : values) {\r\n                    message.append(&#39;\\n&#39;).append(name).append(&quot;: &quot;).append(value);\r\n                }\r\n            });\r\n            logger.trace(message.toString());\r\n        } else {\r\n            logger.debug(&quot;HTTP request; request-id=&quot; + requestId + &#39;\\n&#39; +\r\n                         request.method() + &#39; &#39; + request.url());\r\n        }\r\n\r\n        if (logger.isTraceEnabled()) {\r\n            var bodyInserter = new LoggingBodyInserter(logger, requestId, request.body());\r\n            request = ClientRequest.from(request).body(bodyInserter).build();\r\n        }\r\n\r\n        return next.exchange(request).map(new LoggingClientResponseTransformer(logger, requestId));\r\n    }\r\n\r\n    private static String generateRequestId() {\r\n        var bytes = new byte[5];\r\n        ThreadLocalRandom.current().nextBytes(bytes);\r\n        return base32().encode(bytes).toLowerCase(Locale.ROOT);\r\n    }\r\n\r\n    private static class LoggingBodyInserter implements BodyInserter&lt;Object, ClientHttpRequest&gt; {\r\n        private final Logger logger;\r\n        private final String requestId;\r\n        private final BodyInserter&lt;?, ? super ClientHttpRequest&gt; originalBodyInserter;\r\n\r\n        private LoggingBodyInserter(Logger logger, String requestId,\r\n                                    BodyInserter&lt;?, ? super ClientHttpRequest&gt; originalBodyInserter) {\r\n            this.logger = logger;\r\n            this.requestId = requestId;\r\n            this.originalBodyInserter = originalBodyInserter;\r\n        }\r\n\r\n        @Override\r\n        @NonNull\r\n        public Mono&lt;Void&gt; insert(@NonNull ClientHttpRequest outputMessage, @NonNull Context context) {\r\n            var loggingOutputMessage = new LoggingClientHttpRequestDecorator(outputMessage, logger, requestId);\r\n            return originalBodyInserter.insert(loggingOutputMessage, context);\r\n        }\r\n    }\r\n\r\n    private static class LoggingClientHttpRequestDecorator extends ClientHttpRequestDecorator {\r\n        private final Logger logger;\r\n        private final String requestId;\r\n\r\n        public LoggingClientHttpRequestDecorator(ClientHttpRequest delegate, Logger logger, String requestId) {\r\n            super(delegate);\r\n            this.logger = logger;\r\n            this.requestId = requestId;\r\n        }\r\n\r\n        @Override\r\n        @NonNull\r\n        public Mono&lt;Void&gt; writeWith(@NonNull Publisher&lt;? extends DataBuffer&gt; body) {\r\n            Flux&lt;? extends DataBuffer&gt; loggingBody = Flux.from(body)\r\n                    .doOnNext(this::logDataBuffer)\r\n                    .doOnComplete(this::logComplete)\r\n                    .doOnError(this::logError);\r\n            return super.writeWith(loggingBody);\r\n        }\r\n\r\n        @Override\r\n        @NonNull\r\n        public Mono&lt;Void&gt; setComplete() {\r\n            logger.trace(&quot;HTTP request end; request-id=&quot; + requestId);\r\n            return super.setComplete();\r\n        }\r\n\r\n        private void logDataBuffer(DataBuffer dataBuffer) {\r\n            int readPosition = dataBuffer.readPosition();\r\n            byte[] data = new byte[dataBuffer.readableByteCount()];\r\n            dataBuffer.read(data);\r\n            dataBuffer.readPosition(readPosition);\r\n            logger.trace(&quot;HTTP request data; request-id=&quot; + requestId + &#39;\\n&#39; + bytesToString(data));\r\n        }\r\n\r\n        private void logComplete() {\r\n            logger.trace(&quot;HTTP request end; request-id=&quot; + requestId);\r\n        }\r\n\r\n        private void logError(Throwable exception) {\r\n            logger.trace(&quot;HTTP request error; request-id=&quot; + requestId, exception);\r\n        }\r\n    }\r\n\r\n    private static class LoggingClientResponseTransformer implements Function&lt;ClientResponse, ClientResponse&gt; {\r\n        private final Logger logger;\r\n        private final String requestId;\r\n\r\n        private LoggingClientResponseTransformer(Logger logger, String requestId) {\r\n            this.logger = logger;\r\n            this.requestId = requestId;\r\n        }\r\n\r\n        @Override\r\n        public ClientResponse apply(ClientResponse clientResponse) {\r\n            if (logger.isTraceEnabled()) {\r\n                var message = new StringBuilder();\r\n                message.append(&quot;HTTP response start; request-id=&quot;).append(requestId).append(&#39;\\n&#39;)\r\n                        .append(&quot;HTTP &quot;).append(clientResponse.statusCode());\r\n                clientResponse.headers().asHttpHeaders().forEach((String name, List&lt;String&gt; values) -&gt; {\r\n                    for (String value : values) {\r\n                        message.append(&#39;\\n&#39;).append(name).append(&quot;: &quot;).append(value);\r\n                    }\r\n                });\r\n                logger.trace(message.toString());\r\n            } else {\r\n                logger.debug(&quot;HTTP response; request-id=&quot; + requestId + &#39;\\n&#39; +\r\n                             &quot;HTTP &quot; + clientResponse.statusCode());\r\n            }\r\n\r\n            return clientResponse.mutate()\r\n                    .body(new ClientResponseBodyTransformer(logger, requestId))\r\n                    .build();\r\n        }\r\n    }\r\n\r\n    private static class ClientResponseBodyTransformer implements Function&lt;Flux&lt;DataBuffer&gt;, Flux&lt;DataBuffer&gt;&gt; {\r\n        private final Logger logger;\r\n        private final String requestId;\r\n        private boolean completed = false;\r\n\r\n        private ClientResponseBodyTransformer(Logger logger, String requestId) {\r\n            this.logger = logger;\r\n            this.requestId = requestId;\r\n        }\r\n\r\n        @Override\r\n        public Flux&lt;DataBuffer&gt; apply(Flux&lt;DataBuffer&gt; body) {\r\n            return body\r\n                    .doOnNext(this::logDataBuffer)\r\n                    .doOnComplete(this::logComplete)\r\n                    .doOnError(this::logError);\r\n        }\r\n\r\n        private void logDataBuffer(DataBuffer dataBuffer) {\r\n            int readPosition = dataBuffer.readPosition();\r\n            byte[] data = new byte[dataBuffer.readableByteCount()];\r\n            dataBuffer.read(data);\r\n            dataBuffer.readPosition(readPosition);\r\n            logger.trace(&quot;HTTP response data; request-id=&quot; + requestId + &#39;\\n&#39; + bytesToString(data));\r\n        }\r\n\r\n        private void logComplete() {\r\n            if (!completed) {\r\n                logger.trace(&quot;HTTP response end; request-id=&quot; + requestId);\r\n                completed = true;\r\n            }\r\n        }\r\n\r\n        private void logError(Throwable exception) {\r\n            logger.trace(&quot;HTTP response error; request-id=&quot; + requestId, exception);\r\n        }\r\n    }\r\n\r\n    private static String bytesToString(byte[] bytes) {\r\n        var string = new StringBuilder(bytes.length);\r\n        for (int i = 0; i &lt; bytes.length; i++) {\r\n            byte b1 = bytes[i];\r\n            if (b1 &gt;= 0) {\r\n                if (32 &lt;= b1 &amp;&amp; b1 &lt; 127) { // ordinary ASCII characters\r\n                    string.append((char) b1);\r\n                } else {  // control characters\r\n                    switch (b1) {\r\n                        case &#39;\\t&#39; -&gt; string.append(&quot;\\\\t&quot;);\r\n                        case &#39;\\n&#39; -&gt; string.append(&quot;\\\\n&quot;);\r\n                        case &#39;\\r&#39; -&gt; string.append(&quot;\\\\r&quot;);\r\n                        default -&gt; {\r\n                            string.append(&quot;\\\\x&quot;);\r\n                            HexFormat.of().toHexDigits(string, b1);\r\n                        }\r\n                    }\r\n                }\r\n                continue;\r\n            }\r\n            if ((b1 &amp; 0xe0) == 0xc0) { // UTF-8 first byte of 2-bytes sequence\r\n                i++;\r\n                if (i &lt; bytes.length) {\r\n                    byte b2 = bytes[i];\r\n                    if ((b2 &amp; 0xc0) == 0x80) { // UTF-8 second byte of 2-bytes sequence\r\n                        char c = (char) ((b1 &amp; 0x1f) &lt;&lt; 6 | b2 &amp; 0x3f);\r\n                        if (Character.isLetter(c)) {\r\n                            string.append(c);\r\n                            continue;\r\n                        }\r\n                    }\r\n                    string.append(&quot;\\\\x&quot;);\r\n                    HexFormat.of().toHexDigits(string, b1);\r\n                    string.append(&quot;\\\\x&quot;);\r\n                    HexFormat.of().toHexDigits(string, b2);\r\n                    continue;\r\n                }\r\n            }\r\n            string.append(&quot;\\\\x&quot;);\r\n            HexFormat.of().toHexDigits(string, b1);\r\n        }\r\n        return string.toString();\r\n    }\r\n}\r\n```","title":"how to log Spring 5 WebClient call","body":"<p>Here's my snippet based on excellent Stanislav Burov's answer. I extracted some lambdas to standalone classes to make code more readable for me and I also implemented a limited UTF-8 aware decoder. I'm using some Guava and Java 17 features, but this code could be easily ported to early versions. I don't buffer the whole request/response body, but rather log buffers as they come in a separate calls, so it does not use excessive RAM or writes extremely long lines.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package kz.doubleservices.healthbus.util;\n\nimport org.reactivestreams.Publisher;\nimport org.slf4j.Logger;\nimport org.springframework.core.io.buffer.DataBuffer;\nimport org.springframework.http.client.reactive.ClientHttpRequest;\nimport org.springframework.http.client.reactive.ClientHttpRequestDecorator;\nimport org.springframework.lang.NonNull;\nimport org.springframework.web.reactive.function.BodyInserter;\nimport org.springframework.web.reactive.function.client.ClientRequest;\nimport org.springframework.web.reactive.function.client.ClientResponse;\nimport org.springframework.web.reactive.function.client.ExchangeFilterFunction;\nimport org.springframework.web.reactive.function.client.ExchangeFunction;\nimport reactor.core.publisher.Flux;\nimport reactor.core.publisher.Mono;\n\nimport java.util.HexFormat;\nimport java.util.List;\nimport java.util.Locale;\nimport java.util.concurrent.ThreadLocalRandom;\nimport java.util.function.Function;\n\nimport static com.google.common.io.BaseEncoding.base32;\n\npublic class LoggingExchangeFilterFunction implements ExchangeFilterFunction {\n    private final Logger logger;\n\n    public LoggingExchangeFilterFunction(Logger logger) {\n        this.logger = logger;\n    }\n\n    @Override\n    @NonNull\n    public Mono&lt;ClientResponse&gt; filter(@NonNull ClientRequest request, @NonNull ExchangeFunction next) {\n        if (!logger.isDebugEnabled()) {\n            return next.exchange(request);\n        }\n\n        String requestId = generateRequestId();\n\n        if (logger.isTraceEnabled()) {\n            var message = new StringBuilder();\n            message.append(&quot;HTTP request start; request-id=&quot;).append(requestId).append('\\n')\n                    .append(request.method()).append(' ').append(request.url());\n            request.headers().forEach((String name, List&lt;String&gt; values) -&gt; {\n                for (String value : values) {\n                    message.append('\\n').append(name).append(&quot;: &quot;).append(value);\n                }\n            });\n            logger.trace(message.toString());\n        } else {\n            logger.debug(&quot;HTTP request; request-id=&quot; + requestId + '\\n' +\n                         request.method() + ' ' + request.url());\n        }\n\n        if (logger.isTraceEnabled()) {\n            var bodyInserter = new LoggingBodyInserter(logger, requestId, request.body());\n            request = ClientRequest.from(request).body(bodyInserter).build();\n        }\n\n        return next.exchange(request).map(new LoggingClientResponseTransformer(logger, requestId));\n    }\n\n    private static String generateRequestId() {\n        var bytes = new byte[5];\n        ThreadLocalRandom.current().nextBytes(bytes);\n        return base32().encode(bytes).toLowerCase(Locale.ROOT);\n    }\n\n    private static class LoggingBodyInserter implements BodyInserter&lt;Object, ClientHttpRequest&gt; {\n        private final Logger logger;\n        private final String requestId;\n        private final BodyInserter&lt;?, ? super ClientHttpRequest&gt; originalBodyInserter;\n\n        private LoggingBodyInserter(Logger logger, String requestId,\n                                    BodyInserter&lt;?, ? super ClientHttpRequest&gt; originalBodyInserter) {\n            this.logger = logger;\n            this.requestId = requestId;\n            this.originalBodyInserter = originalBodyInserter;\n        }\n\n        @Override\n        @NonNull\n        public Mono&lt;Void&gt; insert(@NonNull ClientHttpRequest outputMessage, @NonNull Context context) {\n            var loggingOutputMessage = new LoggingClientHttpRequestDecorator(outputMessage, logger, requestId);\n            return originalBodyInserter.insert(loggingOutputMessage, context);\n        }\n    }\n\n    private static class LoggingClientHttpRequestDecorator extends ClientHttpRequestDecorator {\n        private final Logger logger;\n        private final String requestId;\n\n        public LoggingClientHttpRequestDecorator(ClientHttpRequest delegate, Logger logger, String requestId) {\n            super(delegate);\n            this.logger = logger;\n            this.requestId = requestId;\n        }\n\n        @Override\n        @NonNull\n        public Mono&lt;Void&gt; writeWith(@NonNull Publisher&lt;? extends DataBuffer&gt; body) {\n            Flux&lt;? extends DataBuffer&gt; loggingBody = Flux.from(body)\n                    .doOnNext(this::logDataBuffer)\n                    .doOnComplete(this::logComplete)\n                    .doOnError(this::logError);\n            return super.writeWith(loggingBody);\n        }\n\n        @Override\n        @NonNull\n        public Mono&lt;Void&gt; setComplete() {\n            logger.trace(&quot;HTTP request end; request-id=&quot; + requestId);\n            return super.setComplete();\n        }\n\n        private void logDataBuffer(DataBuffer dataBuffer) {\n            int readPosition = dataBuffer.readPosition();\n            byte[] data = new byte[dataBuffer.readableByteCount()];\n            dataBuffer.read(data);\n            dataBuffer.readPosition(readPosition);\n            logger.trace(&quot;HTTP request data; request-id=&quot; + requestId + '\\n' + bytesToString(data));\n        }\n\n        private void logComplete() {\n            logger.trace(&quot;HTTP request end; request-id=&quot; + requestId);\n        }\n\n        private void logError(Throwable exception) {\n            logger.trace(&quot;HTTP request error; request-id=&quot; + requestId, exception);\n        }\n    }\n\n    private static class LoggingClientResponseTransformer implements Function&lt;ClientResponse, ClientResponse&gt; {\n        private final Logger logger;\n        private final String requestId;\n\n        private LoggingClientResponseTransformer(Logger logger, String requestId) {\n            this.logger = logger;\n            this.requestId = requestId;\n        }\n\n        @Override\n        public ClientResponse apply(ClientResponse clientResponse) {\n            if (logger.isTraceEnabled()) {\n                var message = new StringBuilder();\n                message.append(&quot;HTTP response start; request-id=&quot;).append(requestId).append('\\n')\n                        .append(&quot;HTTP &quot;).append(clientResponse.statusCode());\n                clientResponse.headers().asHttpHeaders().forEach((String name, List&lt;String&gt; values) -&gt; {\n                    for (String value : values) {\n                        message.append('\\n').append(name).append(&quot;: &quot;).append(value);\n                    }\n                });\n                logger.trace(message.toString());\n            } else {\n                logger.debug(&quot;HTTP response; request-id=&quot; + requestId + '\\n' +\n                             &quot;HTTP &quot; + clientResponse.statusCode());\n            }\n\n            return clientResponse.mutate()\n                    .body(new ClientResponseBodyTransformer(logger, requestId))\n                    .build();\n        }\n    }\n\n    private static class ClientResponseBodyTransformer implements Function&lt;Flux&lt;DataBuffer&gt;, Flux&lt;DataBuffer&gt;&gt; {\n        private final Logger logger;\n        private final String requestId;\n        private boolean completed = false;\n\n        private ClientResponseBodyTransformer(Logger logger, String requestId) {\n            this.logger = logger;\n            this.requestId = requestId;\n        }\n\n        @Override\n        public Flux&lt;DataBuffer&gt; apply(Flux&lt;DataBuffer&gt; body) {\n            return body\n                    .doOnNext(this::logDataBuffer)\n                    .doOnComplete(this::logComplete)\n                    .doOnError(this::logError);\n        }\n\n        private void logDataBuffer(DataBuffer dataBuffer) {\n            int readPosition = dataBuffer.readPosition();\n            byte[] data = new byte[dataBuffer.readableByteCount()];\n            dataBuffer.read(data);\n            dataBuffer.readPosition(readPosition);\n            logger.trace(&quot;HTTP response data; request-id=&quot; + requestId + '\\n' + bytesToString(data));\n        }\n\n        private void logComplete() {\n            if (!completed) {\n                logger.trace(&quot;HTTP response end; request-id=&quot; + requestId);\n                completed = true;\n            }\n        }\n\n        private void logError(Throwable exception) {\n            logger.trace(&quot;HTTP response error; request-id=&quot; + requestId, exception);\n        }\n    }\n\n    private static String bytesToString(byte[] bytes) {\n        var string = new StringBuilder(bytes.length);\n        for (int i = 0; i &lt; bytes.length; i++) {\n            byte b1 = bytes[i];\n            if (b1 &gt;= 0) {\n                if (32 &lt;= b1 &amp;&amp; b1 &lt; 127) { // ordinary ASCII characters\n                    string.append((char) b1);\n                } else {  // control characters\n                    switch (b1) {\n                        case '\\t' -&gt; string.append(&quot;\\\\t&quot;);\n                        case '\\n' -&gt; string.append(&quot;\\\\n&quot;);\n                        case '\\r' -&gt; string.append(&quot;\\\\r&quot;);\n                        default -&gt; {\n                            string.append(&quot;\\\\x&quot;);\n                            HexFormat.of().toHexDigits(string, b1);\n                        }\n                    }\n                }\n                continue;\n            }\n            if ((b1 &amp; 0xe0) == 0xc0) { // UTF-8 first byte of 2-bytes sequence\n                i++;\n                if (i &lt; bytes.length) {\n                    byte b2 = bytes[i];\n                    if ((b2 &amp; 0xc0) == 0x80) { // UTF-8 second byte of 2-bytes sequence\n                        char c = (char) ((b1 &amp; 0x1f) &lt;&lt; 6 | b2 &amp; 0x3f);\n                        if (Character.isLetter(c)) {\n                            string.append(c);\n                            continue;\n                        }\n                    }\n                    string.append(&quot;\\\\x&quot;);\n                    HexFormat.of().toHexDigits(string, b1);\n                    string.append(&quot;\\\\x&quot;);\n                    HexFormat.of().toHexDigits(string, b2);\n                    continue;\n                }\n            }\n            string.append(&quot;\\\\x&quot;);\n            HexFormat.of().toHexDigits(string, b1);\n        }\n        return string.toString();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":108117,"reputation":9982,"user_id":287138,"accept_rate":82,"display_name":"Stefan Haberl"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1694082234,"creation_date":1638977953,"answer_id":70277701,"question_id":46154994,"body_markdown":"Getting request/response logging right is somehow really difficult when it comes to Spring&#39;s reactive WebClient.\r\n\r\nI had the following requirements:\r\n* Log request and response **including bodies** in _one_ log statement (it&#39;s so much more convenient to have it all in one statement if you scroll through hundreds of logs in AWS cloudwatch)\r\n* Filter sensitive data such as personal data or financial data from the logs to be compliant with GDPR and PCI\r\n\r\n[Wiretapping Netty][1] or using [custom Jackson en-/decoders][2] was therefore not an option.\r\n\r\nHere&#39;s my take on the problem (again based on Stanislav&#39;s excellent [answer][3]). \r\n\r\n(The following code uses [Lombok][4] annotation processing, which you probably want to use as well, if you don&#39;t use it yet. Otherwise it should be easy to de-lombok) \r\n\r\n\r\n```\r\nimport lombok.RequiredArgsConstructor;\r\nimport lombok.extern.slf4j.Slf4j;\r\nimport org.reactivestreams.Publisher;\r\nimport org.springframework.core.io.buffer.DataBuffer;\r\nimport org.springframework.http.client.reactive.ClientHttpRequest;\r\nimport org.springframework.http.client.reactive.ClientHttpRequestDecorator;\r\nimport org.springframework.lang.NonNull;\r\nimport org.springframework.util.StopWatch;\r\nimport org.springframework.web.reactive.function.BodyInserter;\r\nimport org.springframework.web.reactive.function.client.ClientRequest;\r\nimport org.springframework.web.reactive.function.client.ClientResponse;\r\nimport org.springframework.web.reactive.function.client.ExchangeFilterFunction;\r\nimport org.springframework.web.reactive.function.client.ExchangeFunction;\r\nimport reactor.core.publisher.Flux;\r\nimport reactor.core.publisher.Mono;\r\n\r\nimport java.util.concurrent.atomic.AtomicBoolean;\r\n\r\nimport static java.lang.Math.min;\r\nimport static java.util.UUID.randomUUID;\r\nimport static net.logstash.logback.argument.StructuredArguments.v;\r\n\r\n@Slf4j\r\n@RequiredArgsConstructor\r\npublic class RequestLoggingFilterFunction implements ExchangeFilterFunction {\r\n\r\n  private static final int MAX_BYTES_LOGGED = 4_096;\r\n\r\n  private final String externalSystem;\r\n\r\n  @Override\r\n  @NonNull\r\n  public Mono&lt;ClientResponse&gt; filter(@NonNull ClientRequest request, @NonNull ExchangeFunction next) {\r\n    if (!log.isDebugEnabled()) {\r\n      return next.exchange(request);\r\n    }\r\n\r\n    var clientRequestId = randomUUID().toString();\r\n\r\n    var requestLogged = new AtomicBoolean(false);\r\n    var responseLogged = new AtomicBoolean(false);\r\n\r\n    var capturedRequestBody = new StringBuilder();\r\n    var capturedResponseBody = new StringBuilder();\r\n\r\n    var stopWatch = new StopWatch();\r\n    stopWatch.start();\r\n\r\n    return next\r\n      .exchange(ClientRequest.from(request).body(new BodyInserter&lt;&gt;() {\r\n\r\n        @Override\r\n        @NonNull\r\n        public Mono&lt;Void&gt; insert(@NonNull ClientHttpRequest req, @NonNull Context context) {\r\n          return request.body().insert(new ClientHttpRequestDecorator(req) {\r\n\r\n            @Override\r\n            @NonNull\r\n            public Mono&lt;Void&gt; writeWith(@NonNull Publisher&lt;? extends DataBuffer&gt; body) {\r\n              return super.writeWith(Flux.from(body).doOnNext(data -&gt; capturedRequestBody.append(extractBytes(data)))); // number of bytes appended is maxed in real code\r\n            }\r\n\r\n          }, context);\r\n        }\r\n      }).build())\r\n      .doOnNext(response -&gt; {\r\n          if (!requestLogged.getAndSet(true)) {\r\n            log.debug(&quot;| &gt;&gt;---&gt; Outgoing {} request [{}]\\n{} {}\\n{}\\n\\n{}\\n&quot;,\r\n              v(&quot;externalSystem&quot;, externalSystem),\r\n              v(&quot;clientRequestId&quot;, clientRequestId),\r\n              v(&quot;clientRequestMethod&quot;, request.method()),\r\n              v(&quot;clientRequestUrl&quot;, request.url()),\r\n              v(&quot;clientRequestHeaders&quot;, request.headers()), // filtered in real code\r\n              v(&quot;clientRequestBody&quot;, capturedRequestBody.toString()) // filtered in real code\r\n            );\r\n          }\r\n        }\r\n      )\r\n      .doOnError(error -&gt; {\r\n        if (!requestLogged.getAndSet(true)) {\r\n          log.debug(&quot;| &gt;&gt;---&gt; Outgoing {} request [{}]\\n{} {}\\n{}\\n\\nError: {}\\n&quot;,\r\n            v(&quot;externalSystem&quot;, externalSystem),\r\n            v(&quot;clientRequestId&quot;, clientRequestId),\r\n            v(&quot;clientRequestMethod&quot;, request.method()),\r\n            v(&quot;clientRequestUrl&quot;, request.url()),\r\n            v(&quot;clientRequestHeaders&quot;, request.headers()), // filtered in real code\r\n            error.getMessage()\r\n          );\r\n        }\r\n      })\r\n      .map(response -&gt; response.mutate().body(transformer -&gt; transformer\r\n          .doOnNext(body -&gt; capturedResponseBody.append(extractBytes(body))) // number of bytes appended is maxed in real code\r\n          .doOnTerminate(() -&gt; {\r\n            if (stopWatch.isRunning()) {\r\n              stopWatch.stop();\r\n            }\r\n          })\r\n          .doOnComplete(() -&gt; {\r\n            if (!responseLogged.getAndSet(true)) {\r\n              log.debug(&quot;| &lt;---&lt;&lt; Response for outgoing {} request [{}] after {}ms\\n{} {}\\n{}\\n\\n{}\\n&quot;,\r\n                v(&quot;externalSystem&quot;, externalSystem),\r\n                v(&quot;clientRequestId&quot;, clientRequestId),\r\n                v(&quot;clientRequestExecutionTimeInMillis&quot;, stopWatch.getTotalTimeMillis()),\r\n                v(&quot;clientResponseStatusCode&quot;, response.statusCode().value()),\r\n                v(&quot;clientResponseStatusPhrase&quot;, response.statusCode().getReasonPhrase()),\r\n                v(&quot;clientResponseHeaders&quot;, response.headers().asHttpHeaders(), // HttpHeaders implement toString() with formatting, filtered in real code\r\n                v(&quot;clientResponseBody&quot;, capturedResponseBody.toString()) // filtered in real code\r\n              );\r\n            }\r\n          })\r\n          .doOnError(error -&gt; {\r\n              if (!responseLogged.getAndSet(true)) {\r\n                log.debug(&quot;| &lt;---&lt;&lt; Error parsing response for outgoing {} request [{}] after {}ms\\n{}&quot;,\r\n                  v(&quot;externalSystem&quot;, externalSystem),\r\n                  v(&quot;clientRequestId&quot;, clientRequestId),\r\n                  v(&quot;clientRequestExecutionTimeInMillis&quot;, stopWatch.getTotalTimeMillis()),\r\n                  v(&quot;clientErrorMessage&quot;, error.getMessage())\r\n                );\r\n              }\r\n            }\r\n          )\r\n        ).build()\r\n      );\r\n  }\r\n\r\n  private static String extractBytes(DataBuffer data) {\r\n    int currentReadPosition = data.readPosition();\r\n    var numberOfBytesLogged = min(data.readableByteCount(), MAX_BYTES_LOGGED);\r\n    var bytes = new byte[numberOfBytesLogged];\r\n    data.read(bytes, 0, numberOfBytesLogged);\r\n    data.readPosition(currentReadPosition);\r\n    return new String(bytes);\r\n  }\r\n\r\n}\r\n```\r\n\r\nLog entries look like this for successful exchanges:\r\n\r\n```\r\n2021-12-07 17:14:04.029 DEBUG --- [ctor-http-nio-3] RequestLoggingFilterFunction        : | &gt;&gt;---&gt; Outgoing SnakeOil request [6abd0170-d682-4ca6-806c-bbb3559998e8]\r\nPOST https://localhost:8101/snake-oil/oauth/token\r\nContent-Type: application/x-www-form-urlencoded\r\n\r\ngrant_type=client_credentials&amp;client_id=*****&amp;client_secret=*****\r\n```\r\n```\r\n2021-12-07 17:14:04.037 DEBUG --- [ctor-http-nio-3] RequestLoggingFilterFunction        : | &lt;---&lt;&lt; Response for outgoing SnakeOil request [6abd0170-d682-4ca6-806c-bbb3559998e8] after 126ms\r\n200 OK\r\nContent-Type: application/json\r\nVary: [Accept-Encoding, User-Agent]\r\nTransfer-Encoding: chunked\r\n\r\n{&quot;access_token&quot;:&quot;*****&quot;,&quot;expires_in&quot;:&quot;3600&quot;,&quot;token_type&quot;:&quot;BearerToken&quot;}\r\n```\r\n\r\nError conditions are handled gracefully as well, of course.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/66456679/287138\r\n  [2]: https://stackoverflow.com/a/62858230/287138\r\n  [3]: https://stackoverflow.com/a/67939497/287138\r\n  [4]: https://projectlombok.org","title":"how to log Spring 5 WebClient call","body":"<p>Getting request/response logging right is somehow really difficult when it comes to Spring's reactive WebClient.</p>\n<p>I had the following requirements:</p>\n<ul>\n<li>Log request and response <strong>including bodies</strong> in <em>one</em> log statement (it's so much more convenient to have it all in one statement if you scroll through hundreds of logs in AWS cloudwatch)</li>\n<li>Filter sensitive data such as personal data or financial data from the logs to be compliant with GDPR and PCI</li>\n</ul>\n<p><a href=\"https://stackoverflow.com/a/66456679/287138\">Wiretapping Netty</a> or using <a href=\"https://stackoverflow.com/a/62858230/287138\">custom Jackson en-/decoders</a> was therefore not an option.</p>\n<p>Here's my take on the problem (again based on Stanislav's excellent <a href=\"https://stackoverflow.com/a/67939497/287138\">answer</a>).</p>\n<p>(The following code uses <a href=\"https://projectlombok.org\" rel=\"nofollow noreferrer\">Lombok</a> annotation processing, which you probably want to use as well, if you don't use it yet. Otherwise it should be easy to de-lombok)</p>\n<pre><code>import lombok.RequiredArgsConstructor;\nimport lombok.extern.slf4j.Slf4j;\nimport org.reactivestreams.Publisher;\nimport org.springframework.core.io.buffer.DataBuffer;\nimport org.springframework.http.client.reactive.ClientHttpRequest;\nimport org.springframework.http.client.reactive.ClientHttpRequestDecorator;\nimport org.springframework.lang.NonNull;\nimport org.springframework.util.StopWatch;\nimport org.springframework.web.reactive.function.BodyInserter;\nimport org.springframework.web.reactive.function.client.ClientRequest;\nimport org.springframework.web.reactive.function.client.ClientResponse;\nimport org.springframework.web.reactive.function.client.ExchangeFilterFunction;\nimport org.springframework.web.reactive.function.client.ExchangeFunction;\nimport reactor.core.publisher.Flux;\nimport reactor.core.publisher.Mono;\n\nimport java.util.concurrent.atomic.AtomicBoolean;\n\nimport static java.lang.Math.min;\nimport static java.util.UUID.randomUUID;\nimport static net.logstash.logback.argument.StructuredArguments.v;\n\n@Slf4j\n@RequiredArgsConstructor\npublic class RequestLoggingFilterFunction implements ExchangeFilterFunction {\n\n  private static final int MAX_BYTES_LOGGED = 4_096;\n\n  private final String externalSystem;\n\n  @Override\n  @NonNull\n  public Mono&lt;ClientResponse&gt; filter(@NonNull ClientRequest request, @NonNull ExchangeFunction next) {\n    if (!log.isDebugEnabled()) {\n      return next.exchange(request);\n    }\n\n    var clientRequestId = randomUUID().toString();\n\n    var requestLogged = new AtomicBoolean(false);\n    var responseLogged = new AtomicBoolean(false);\n\n    var capturedRequestBody = new StringBuilder();\n    var capturedResponseBody = new StringBuilder();\n\n    var stopWatch = new StopWatch();\n    stopWatch.start();\n\n    return next\n      .exchange(ClientRequest.from(request).body(new BodyInserter&lt;&gt;() {\n\n        @Override\n        @NonNull\n        public Mono&lt;Void&gt; insert(@NonNull ClientHttpRequest req, @NonNull Context context) {\n          return request.body().insert(new ClientHttpRequestDecorator(req) {\n\n            @Override\n            @NonNull\n            public Mono&lt;Void&gt; writeWith(@NonNull Publisher&lt;? extends DataBuffer&gt; body) {\n              return super.writeWith(Flux.from(body).doOnNext(data -&gt; capturedRequestBody.append(extractBytes(data)))); // number of bytes appended is maxed in real code\n            }\n\n          }, context);\n        }\n      }).build())\n      .doOnNext(response -&gt; {\n          if (!requestLogged.getAndSet(true)) {\n            log.debug(&quot;| &gt;&gt;---&gt; Outgoing {} request [{}]\\n{} {}\\n{}\\n\\n{}\\n&quot;,\n              v(&quot;externalSystem&quot;, externalSystem),\n              v(&quot;clientRequestId&quot;, clientRequestId),\n              v(&quot;clientRequestMethod&quot;, request.method()),\n              v(&quot;clientRequestUrl&quot;, request.url()),\n              v(&quot;clientRequestHeaders&quot;, request.headers()), // filtered in real code\n              v(&quot;clientRequestBody&quot;, capturedRequestBody.toString()) // filtered in real code\n            );\n          }\n        }\n      )\n      .doOnError(error -&gt; {\n        if (!requestLogged.getAndSet(true)) {\n          log.debug(&quot;| &gt;&gt;---&gt; Outgoing {} request [{}]\\n{} {}\\n{}\\n\\nError: {}\\n&quot;,\n            v(&quot;externalSystem&quot;, externalSystem),\n            v(&quot;clientRequestId&quot;, clientRequestId),\n            v(&quot;clientRequestMethod&quot;, request.method()),\n            v(&quot;clientRequestUrl&quot;, request.url()),\n            v(&quot;clientRequestHeaders&quot;, request.headers()), // filtered in real code\n            error.getMessage()\n          );\n        }\n      })\n      .map(response -&gt; response.mutate().body(transformer -&gt; transformer\n          .doOnNext(body -&gt; capturedResponseBody.append(extractBytes(body))) // number of bytes appended is maxed in real code\n          .doOnTerminate(() -&gt; {\n            if (stopWatch.isRunning()) {\n              stopWatch.stop();\n            }\n          })\n          .doOnComplete(() -&gt; {\n            if (!responseLogged.getAndSet(true)) {\n              log.debug(&quot;| &lt;---&lt;&lt; Response for outgoing {} request [{}] after {}ms\\n{} {}\\n{}\\n\\n{}\\n&quot;,\n                v(&quot;externalSystem&quot;, externalSystem),\n                v(&quot;clientRequestId&quot;, clientRequestId),\n                v(&quot;clientRequestExecutionTimeInMillis&quot;, stopWatch.getTotalTimeMillis()),\n                v(&quot;clientResponseStatusCode&quot;, response.statusCode().value()),\n                v(&quot;clientResponseStatusPhrase&quot;, response.statusCode().getReasonPhrase()),\n                v(&quot;clientResponseHeaders&quot;, response.headers().asHttpHeaders(), // HttpHeaders implement toString() with formatting, filtered in real code\n                v(&quot;clientResponseBody&quot;, capturedResponseBody.toString()) // filtered in real code\n              );\n            }\n          })\n          .doOnError(error -&gt; {\n              if (!responseLogged.getAndSet(true)) {\n                log.debug(&quot;| &lt;---&lt;&lt; Error parsing response for outgoing {} request [{}] after {}ms\\n{}&quot;,\n                  v(&quot;externalSystem&quot;, externalSystem),\n                  v(&quot;clientRequestId&quot;, clientRequestId),\n                  v(&quot;clientRequestExecutionTimeInMillis&quot;, stopWatch.getTotalTimeMillis()),\n                  v(&quot;clientErrorMessage&quot;, error.getMessage())\n                );\n              }\n            }\n          )\n        ).build()\n      );\n  }\n\n  private static String extractBytes(DataBuffer data) {\n    int currentReadPosition = data.readPosition();\n    var numberOfBytesLogged = min(data.readableByteCount(), MAX_BYTES_LOGGED);\n    var bytes = new byte[numberOfBytesLogged];\n    data.read(bytes, 0, numberOfBytesLogged);\n    data.readPosition(currentReadPosition);\n    return new String(bytes);\n  }\n\n}\n</code></pre>\n<p>Log entries look like this for successful exchanges:</p>\n<pre><code>2021-12-07 17:14:04.029 DEBUG --- [ctor-http-nio-3] RequestLoggingFilterFunction        : | &gt;&gt;---&gt; Outgoing SnakeOil request [6abd0170-d682-4ca6-806c-bbb3559998e8]\nPOST https://localhost:8101/snake-oil/oauth/token\nContent-Type: application/x-www-form-urlencoded\n\ngrant_type=client_credentials&amp;client_id=*****&amp;client_secret=*****\n</code></pre>\n<pre><code>2021-12-07 17:14:04.037 DEBUG --- [ctor-http-nio-3] RequestLoggingFilterFunction        : | &lt;---&lt;&lt; Response for outgoing SnakeOil request [6abd0170-d682-4ca6-806c-bbb3559998e8] after 126ms\n200 OK\nContent-Type: application/json\nVary: [Accept-Encoding, User-Agent]\nTransfer-Encoding: chunked\n\n{&quot;access_token&quot;:&quot;*****&quot;,&quot;expires_in&quot;:&quot;3600&quot;,&quot;token_type&quot;:&quot;BearerToken&quot;}\n</code></pre>\n<p>Error conditions are handled gracefully as well, of course.</p>\n"},{"tags":[],"owner":{"account_id":5644474,"reputation":451,"user_id":4467091,"display_name":"Oleg Maksymuk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643925882,"creation_date":1643925882,"answer_id":70978947,"question_id":46154994,"body_markdown":"You can do trace webclient logs including request and response body payload with some manipulations using filter function:\r\n\r\n    public class TracingExchangeFilterFunction implements ExchangeFilterFunction {\r\n \r\n \r\n        return next.exchange(buildTraceableRequest(request))\r\n                .flatMap(response -&gt;\r\n                        response.body(BodyExtractors.toDataBuffers())\r\n                                .next()\r\n                                .doOnNext(dataBuffer -&gt; traceResponse(response, dataBuffer))\r\n                                .thenReturn(response)) ;\r\n    }\r\n\r\n    private ClientRequest buildTraceableRequest( \r\n            final ClientRequest clientRequest) {\r\n        return ClientRequest.from(clientRequest).body(\r\n                new BodyInserter&lt;&gt;() {\r\n                    @Override\r\n                    public Mono&lt;Void&gt; insert(\r\n                            final ClientHttpRequest outputMessage,\r\n                            final Context context) {\r\n                        return clientRequest.body().insert(\r\n                                new ClientHttpRequestDecorator(outputMessage) {\r\n                                    @Override\r\n                                    public Mono&lt;Void&gt; writeWith(final Publisher&lt;? extends DataBuffer&gt; body) {\r\n                                        return super.writeWith(\r\n                                                from(body).doOnNext(buffer -&gt;\r\n                                                        traceRequest(clientRequest, buffer)));\r\n                                    }\r\n                                }, context);\r\n                    }\r\n                }).build();\r\n    }\r\n\r\n    private void traceRequest(ClientRequest clientRequest, DataBuffer buffer) {\r\n        final ByteBuf byteBuf = NettyDataBufferFactory.toByteBuf(buffer);\r\n        final byte[] bytes = ByteBufUtil.getBytes(byteBuf);\r\n        // do some tracing\r\n    }\r\n\r\n\r\n    private void traceResponse(ClientResponse response, DataBuffer dataBuffer) {\r\n        final byte[] bytes = new byte[dataBuffer.readableByteCount()];\r\n        dataBuffer.read(bytes);\r\n        // do some tracing\r\n    }\r\n}","title":"how to log Spring 5 WebClient call","body":"<p>You can do trace webclient logs including request and response body payload with some manipulations using filter function:</p>\n<pre><code>public class TracingExchangeFilterFunction implements ExchangeFilterFunction {\n\n\n    return next.exchange(buildTraceableRequest(request))\n            .flatMap(response -&gt;\n                    response.body(BodyExtractors.toDataBuffers())\n                            .next()\n                            .doOnNext(dataBuffer -&gt; traceResponse(response, dataBuffer))\n                            .thenReturn(response)) ;\n}\n\nprivate ClientRequest buildTraceableRequest( \n        final ClientRequest clientRequest) {\n    return ClientRequest.from(clientRequest).body(\n            new BodyInserter&lt;&gt;() {\n                @Override\n                public Mono&lt;Void&gt; insert(\n                        final ClientHttpRequest outputMessage,\n                        final Context context) {\n                    return clientRequest.body().insert(\n                            new ClientHttpRequestDecorator(outputMessage) {\n                                @Override\n                                public Mono&lt;Void&gt; writeWith(final Publisher&lt;? extends DataBuffer&gt; body) {\n                                    return super.writeWith(\n                                            from(body).doOnNext(buffer -&gt;\n                                                    traceRequest(clientRequest, buffer)));\n                                }\n                            }, context);\n                }\n            }).build();\n}\n\nprivate void traceRequest(ClientRequest clientRequest, DataBuffer buffer) {\n    final ByteBuf byteBuf = NettyDataBufferFactory.toByteBuf(buffer);\n    final byte[] bytes = ByteBufUtil.getBytes(byteBuf);\n    // do some tracing\n}\n\n\nprivate void traceResponse(ClientResponse response, DataBuffer dataBuffer) {\n    final byte[] bytes = new byte[dataBuffer.readableByteCount()];\n    dataBuffer.read(bytes);\n    // do some tracing\n}\n</code></pre>\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":11625636,"reputation":13,"user_id":8515484,"display_name":"Gorjan Djundev"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669084511,"creation_date":1669084442,"answer_id":74526907,"question_id":46154994,"body_markdown":"For those asking about the same with `WebTestClient` the answer is very similar:\r\n\r\n    final HttpClient httpClient = HttpClient\r\n      .create()\r\n      .wiretap(\r\n        this.getClass().getCanonicalName(), \r\n        LogLevel.INFO, \r\n        AdvancedByteBufFormat.TEXTUAL);\r\n\r\n    final WebTestClient webTestClient = WebTestClient\r\n      .bindToServer(new ReactorClientHttpConnector(httpClient))\r\n      .build();","title":"how to log Spring 5 WebClient call","body":"<p>For those asking about the same with <code>WebTestClient</code> the answer is very similar:</p>\n<pre><code>final HttpClient httpClient = HttpClient\n  .create()\n  .wiretap(\n    this.getClass().getCanonicalName(), \n    LogLevel.INFO, \n    AdvancedByteBufFormat.TEXTUAL);\n\nfinal WebTestClient webTestClient = WebTestClient\n  .bindToServer(new ReactorClientHttpConnector(httpClient))\n  .build();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15544774,"reputation":21,"user_id":11214374,"display_name":"Skill For Kill"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697700647,"creation_date":1697659802,"answer_id":77319300,"question_id":46154994,"body_markdown":"I tried to efficiently log the request and response fully with their body as one message without calling `block()` method. \r\n\r\nAt first glance, the task seemed simple, since the `ExchangeFilterFunction` is similar to the `ClientHttpRequestInterceptor` (which was used for `RestTemplate`).\r\n\r\nThe problems I found:\r\n1) It&#39;s almost impossible to retrieve request body. Everything you have is `BodyInserter` which don&#39;t want share the data. Solution is to make clone of client request that accesses the body using override.\r\n\r\n        private static ClientRequest writeBody(ClientRequest request, StringBuilder stringBuilder) {\r\n        return ClientRequest.from(request)\r\n                .body((outputMessage, context) -&gt; request.body().insert(new ClientHttpRequestDecorator(outputMessage) {\r\n                    @Override\r\n                    public Mono&lt;Void&gt; writeWith(Publisher&lt;? extends DataBuffer&gt; body) {\r\n                        return super.writeWith(Mono.from(body)\r\n                                .doOnNext(dataBuffer -&gt; stringBuilder.append(dataBuffer.toString(StandardCharsets.UTF_8))));\r\n                    }\r\n                }, context))\r\n                .build();\r\n             }\r\n\r\n2) Data can&#39;t be read twice. It&#39;s easy to retrieve response body using `bodyToMono` or `body` methods of ClientResponse. But if data become read in filter then output will be null. Solution to create a copy of the response, body become unread:\r\n\r\n        var builder = ClientResponse.from(c);\r\n        if (StringUtils.isNotBlank(responseBodyBuilder)) {\r\n            builder.body(responseBodyBuilder.toString());\r\n        }\r\n        return builder.build();\r\n\r\n\r\nFull filter method.\r\n\r\n       @Override\r\n    public Mono&lt;ClientResponse&gt; filter(ClientRequest request, ExchangeFunction next) {\r\n        StringBuilder requestBodyBuilder = new StringBuilder();\r\n        StringBuilder responseBodyBuilder = new StringBuilder();\r\n        return next.exchange(writeBody(request, requestBodyBuilder))\r\n                .flatMap(clientResponse -&gt; {\r\n                    return clientResponse.bodyToMono(String.class)\r\n                            .map(body -&gt; {\r\n                                responseBodyBuilder.append(body);\r\n                                return clientResponse;\r\n                            });\r\n                })\r\n                .map(c -&gt; {\r\n                    var builder = ClientResponse.from(c);\r\n                    if (StringUtils.isNotBlank(responseBodyBuilder)) {\r\n                        builder.body(responseBodyBuilder.toString());\r\n                    }\r\n                    StringBuilder stringBuilder = new StringBuilder();\r\n                    stringBuilder.append(logRequest(request, requestBodyBuilder.toString()));\r\n                    stringBuilder.append(logResponse(c, responseBodyBuilder.toString()));\r\n                    log.info(stringBuilder.toString());\r\n                    return builder.build();\r\n                });\r\n    }\r\n\r\n\r\n       private static String logResponse(ClientResponse clientResponse, String body) {\r\n        String result;\r\n        // usage of clientResponse (statusCode/headers/etc) and body\r\n        return result;\r\n    }\r\n    \r\n        private static String logRequest(ClientRequest clientRequest, String body) {\r\n        String result;\r\n        // usage of clientRequest (url/method/headers/etc) and body\r\n        return result;\r\n    }\r\n    \r\nThis way, you can record the request body and the response body and, if necessary, do it in one message.","title":"how to log Spring 5 WebClient call","body":"<p>I tried to efficiently log the request and response fully with their body as one message without calling <code>block()</code> method.</p>\n<p>At first glance, the task seemed simple, since the <code>ExchangeFilterFunction</code> is similar to the <code>ClientHttpRequestInterceptor</code> (which was used for <code>RestTemplate</code>).</p>\n<p>The problems I found:</p>\n<ol>\n<li><p>It's almost impossible to retrieve request body. Everything you have is <code>BodyInserter</code> which don't want share the data. Solution is to make clone of client request that accesses the body using override.</p>\n<pre><code> private static ClientRequest writeBody(ClientRequest request, StringBuilder stringBuilder) {\n return ClientRequest.from(request)\n         .body((outputMessage, context) -&gt; request.body().insert(new ClientHttpRequestDecorator(outputMessage) {\n             @Override\n             public Mono&lt;Void&gt; writeWith(Publisher&lt;? extends DataBuffer&gt; body) {\n                 return super.writeWith(Mono.from(body)\n                         .doOnNext(dataBuffer -&gt; stringBuilder.append(dataBuffer.toString(StandardCharsets.UTF_8))));\n             }\n         }, context))\n         .build();\n      }\n</code></pre>\n</li>\n<li><p>Data can't be read twice. It's easy to retrieve response body using <code>bodyToMono</code> or <code>body</code> methods of ClientResponse. But if data become read in filter then output will be null. Solution to create a copy of the response, body become unread:</p>\n<pre><code> var builder = ClientResponse.from(c);\n if (StringUtils.isNotBlank(responseBodyBuilder)) {\n     builder.body(responseBodyBuilder.toString());\n }\n return builder.build();\n</code></pre>\n</li>\n</ol>\n<p>Full filter method.</p>\n<pre><code>   @Override\npublic Mono&lt;ClientResponse&gt; filter(ClientRequest request, ExchangeFunction next) {\n    StringBuilder requestBodyBuilder = new StringBuilder();\n    StringBuilder responseBodyBuilder = new StringBuilder();\n    return next.exchange(writeBody(request, requestBodyBuilder))\n            .flatMap(clientResponse -&gt; {\n                return clientResponse.bodyToMono(String.class)\n                        .map(body -&gt; {\n                            responseBodyBuilder.append(body);\n                            return clientResponse;\n                        });\n            })\n            .map(c -&gt; {\n                var builder = ClientResponse.from(c);\n                if (StringUtils.isNotBlank(responseBodyBuilder)) {\n                    builder.body(responseBodyBuilder.toString());\n                }\n                StringBuilder stringBuilder = new StringBuilder();\n                stringBuilder.append(logRequest(request, requestBodyBuilder.toString()));\n                stringBuilder.append(logResponse(c, responseBodyBuilder.toString()));\n                log.info(stringBuilder.toString());\n                return builder.build();\n            });\n}\n\n\n   private static String logResponse(ClientResponse clientResponse, String body) {\n    String result;\n    // usage of clientResponse (statusCode/headers/etc) and body\n    return result;\n}\n\n    private static String logRequest(ClientRequest clientRequest, String body) {\n    String result;\n    // usage of clientRequest (url/method/headers/etc) and body\n    return result;\n}\n</code></pre>\n<p>This way, you can record the request body and the response body and, if necessary, do it in one message.</p>\n"}],"owner":{"account_id":4886241,"reputation":3712,"user_id":3938606,"accept_rate":44,"display_name":"Seb"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":145750,"favorite_count":0,"down_vote_count":0,"up_vote_count":97,"accepted_answer_id":46867786,"answer_count":19,"score":97,"last_activity_date":1697700647,"creation_date":1505130367,"question_id":46154994,"body_markdown":"I&#39;m trying to log a request using Spring 5 WebClient. Do you have any idea how could I achieve that? \r\n\r\n(I&#39;m using Spring 5 and Spring boot 2)\r\n\r\nThe code looks like this at the moment:\r\n\r\n\r\n    try {\r\n        return webClient.get().uri(url, urlParams).exchange().flatMap(response -&gt; response.bodyToMono(Test.class))\r\n                .map(test -&gt; xxx.set(test));\r\n    } catch (RestClientException e) {\r\n        log.error(&quot;Cannot get counter from opus&quot;, e);\r\n        throw e;\r\n    }\r\n\r\n\r\n","title":"how to log Spring 5 WebClient call","body":"<p>I'm trying to log a request using Spring 5 WebClient. Do you have any idea how could I achieve that? </p>\n\n<p>(I'm using Spring 5 and Spring boot 2)</p>\n\n<p>The code looks like this at the moment:</p>\n\n<pre><code>try {\n    return webClient.get().uri(url, urlParams).exchange().flatMap(response -&gt; response.bodyToMono(Test.class))\n            .map(test -&gt; xxx.set(test));\n} catch (RestClientException e) {\n    log.error(\"Cannot get counter from opus\", e);\n    throw e;\n}\n</code></pre>\n"},{"tags":["java","for-loop"],"comments":[{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":1,"creation_date":1697693194,"post_id":77320938,"comment_id":136312363,"body_markdown":"They say &quot;fewer than 6 digits&quot;, but you have `&lt;= 6`. Second, as James already said, `goodPassword` is initially `true`, which it shouldn&#39;t be.","body":"They say &quot;fewer than 6 digits&quot;, but you have <code>&lt;= 6</code>. Second, as James already said, <code>goodPassword</code> is initially <code>true</code>, which it shouldn&#39;t be."},{"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"score":0,"creation_date":1697694109,"post_id":77320938,"comment_id":136312465,"body_markdown":"Your test `if (Character.isDigit(i)) {` should be `if (Character.isDigit(checkStr.charAt(i))) {`","body":"Your test <code>if (Character.isDigit(i)) {</code> should be <code>if (Character.isDigit(checkStr.charAt(i))) {</code>"}],"answers":[{"tags":[],"owner":{"account_id":10297348,"reputation":161,"user_id":7597068,"display_name":"James"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697694082,"creation_date":1697690633,"answer_id":77321004,"question_id":77320938,"body_markdown":"In your code , i think the initial value of goodPassword should be false.\r\n\r\nBetter is initialize goodPassword  to fasle.\r\nSet the goodPassword to true only if the counter is less then 6 and checkStr.length() is less than 10 . Both checks in a single if condition using &#39;&amp;&amp;&#39;","title":"Counting characters in a string and setting a boolean to T or F based on parameters","body":"<p>In your code , i think the initial value of goodPassword should be false.</p>\n<p>Better is initialize goodPassword  to fasle.\nSet the goodPassword to true only if the counter is less then 6 and checkStr.length() is less than 10 . Both checks in a single if condition using '&amp;&amp;'</p>\n"},{"tags":[],"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1697694319,"creation_date":1697694319,"answer_id":77321217,"question_id":77320938,"body_markdown":"Your test `if (Character.isDigit(i)) {` should be `if (Character.isDigit(checkStr.charAt(i))) {`.\r\n\r\nAlso, replace:\r\n\r\n         else if (counter &lt;=6){\r\n            goodPassword = true;\r\n            }\r\n\r\nwith:\r\n\r\n         if (counter &gt;= 6){\r\n            goodPassword = false;\r\n            }\r\n\r\nYou can also replace both tests:\r\n\r\n      if (checkStr.length() &gt; 10) {\r\n         goodPassword = false;\r\n      }\r\n     \r\n         else if (counter &lt;=6){\r\n            goodPassword = true;\r\n            }\r\n\r\nwith:\r\n\r\n      if (counter &gt;= 6 || checkStr.length() &gt; 10) {\r\n         goodPassword = false;\r\n      }\r\n\r\nOr even:\r\n\r\n    goodPassword = counter &lt; 6 &amp;&amp; checkStr.length() &lt;= 10;\r\n","title":"Counting characters in a string and setting a boolean to T or F based on parameters","body":"<p>Your test <code>if (Character.isDigit(i)) {</code> should be <code>if (Character.isDigit(checkStr.charAt(i))) {</code>.</p>\n<p>Also, replace:</p>\n<pre><code>     else if (counter &lt;=6){\n        goodPassword = true;\n        }\n</code></pre>\n<p>with:</p>\n<pre><code>     if (counter &gt;= 6){\n        goodPassword = false;\n        }\n</code></pre>\n<p>You can also replace both tests:</p>\n<pre><code>  if (checkStr.length() &gt; 10) {\n     goodPassword = false;\n  }\n \n     else if (counter &lt;=6){\n        goodPassword = true;\n        }\n</code></pre>\n<p>with:</p>\n<pre><code>  if (counter &gt;= 6 || checkStr.length() &gt; 10) {\n     goodPassword = false;\n  }\n</code></pre>\n<p>Or even:</p>\n<pre><code>goodPassword = counter &lt; 6 &amp;&amp; checkStr.length() &lt;= 10;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310744,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697698268,"creation_date":1697697358,"answer_id":77321460,"question_id":77320938,"body_markdown":"The [Answer by Perry][1] is correct and should be accepted.\r\n\r\n# Code point, not `char`\r\n\r\nAvoid using `char`. That 16-bit type is legacy, physically incapable of representing most characters. The `char` methods can fail. For example, try `&quot;&#128567;&quot;.length()`. \r\n\r\nTo work with individual characters, use [code point][2] integer numbers. \r\n\r\n    int[] codePoints = input.codePoints().toArray() ;\r\n\r\n    if ( codePoints.length &gt; 10 ) { return false ; }  // Must be ten or less characters.\r\n    \r\n    int countDigits = 0 ; \r\n    for( int codePoint : codePoints ) \r\n    {\r\n        if ( Character.isDigit( codePoint ) ) { countDigits ++ ; }\r\n    }\r\n    return ( countDigits &lt; 6 ) ; // Must have fewer than six digits.\r\n\r\nWhen you get comfortable with streams, we can shorten this to two lines.\r\n\r\n```java\r\npublic static boolean isValidPassword( String input ) \r\n{\r\n    if ( input.codePoints ( ).toArray ( ).length &gt; 10 ) return false;\r\n    return input.codePoints ( ).filter ( Character :: isDigit ).count ( ) &lt; 6;\r\n}\r\n```\r\n\r\nI would think you should also check for empty string, or a string filled with [whitespace][3].\r\n\r\n    if( input.isBlank() ) return false ;\r\n\r\n----------\r\n\r\n\r\nRegarding `Character.isDigit`, be aware that Unicode defines many other digits besides the 0-9 in US-ASCII. \r\n\r\n\r\n  [1]: https://stackoverflow.com/a/77321217/642706\r\n  [2]: https://en.wikipedia.org/wiki/Code_point\r\n  [3]: https://en.wikipedia.org/wiki/Whitespace_character","title":"Counting characters in a string and setting a boolean to T or F based on parameters","body":"<p>The <a href=\"https://stackoverflow.com/a/77321217/642706\">Answer by Perry</a> is correct and should be accepted.</p>\n<h1>Code point, not <code>char</code></h1>\n<p>Avoid using <code>char</code>. That 16-bit type is legacy, physically incapable of representing most characters. The <code>char</code> methods can fail. For example, try <code>&quot;😷&quot;.length()</code>.</p>\n<p>To work with individual characters, use <a href=\"https://en.wikipedia.org/wiki/Code_point\" rel=\"nofollow noreferrer\">code point</a> integer numbers.</p>\n<pre><code>int[] codePoints = input.codePoints().toArray() ;\n\nif ( codePoints.length &gt; 10 ) { return false ; }  // Must be ten or less characters.\n\nint countDigits = 0 ; \nfor( int codePoint : codePoints ) \n{\n    if ( Character.isDigit( codePoint ) ) { countDigits ++ ; }\n}\nreturn ( countDigits &lt; 6 ) ; // Must have fewer than six digits.\n</code></pre>\n<p>When you get comfortable with streams, we can shorten this to two lines.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static boolean isValidPassword( String input ) \n{\n    if ( input.codePoints ( ).toArray ( ).length &gt; 10 ) return false;\n    return input.codePoints ( ).filter ( Character :: isDigit ).count ( ) &lt; 6;\n}\n</code></pre>\n<p>I would think you should also check for empty string, or a string filled with <a href=\"https://en.wikipedia.org/wiki/Whitespace_character\" rel=\"nofollow noreferrer\">whitespace</a>.</p>\n<pre><code>if( input.isBlank() ) return false ;\n</code></pre>\n<hr />\n<p>Regarding <code>Character.isDigit</code>, be aware that Unicode defines many other digits besides the 0-9 in US-ASCII.</p>\n"},{"tags":[],"owner":{"account_id":29368902,"reputation":1,"user_id":22501920,"display_name":"Aviral Verma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697698234,"creation_date":1697698234,"answer_id":77321544,"question_id":77320938,"body_markdown":"It appears that your code can be improved and optimized.\r\n1. The loop implemented for digit counting does not accurately validate the presence of digits within the input text. Evaluate the characters within the string rather than their respective places. Instead of utilising the method `Character.isDigit(i)`,use `Character.isDigit(checkStr.charAt(i))**`.\r\n2. Make a comparison between the variable &quot;**counter**&quot; and the value 6 in order to ascertain whether there exists a quantity of digits that is less than six, and then evaluate the length of the string &quot;**checkStr**&quot; by invoking the method &quot;**length()**&quot; and comparing the result to the value 10, so as to determine if the length is less than or equal to ten.\r\nHere&#39;s the working code. I checked it. Hope it helps &#128513;.\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class ValidInvalid {\r\n   public static void main(String[] args) {\r\n      Scanner scnr = new Scanner(System.in);\r\n      String checkStr;\r\n      Boolean goodPassword=true;\r\n      int i;\r\n      int counter=0;\r\n  \r\n      checkStr = scnr.nextLine();\r\n\r\n      for (i = 0; i &lt; checkStr.length(); i++) {\r\n            if (Character.isDigit(checkStr.charAt(i))) {\r\n               counter = counter + 1;\r\n            }\r\n       }\r\n       //  Check the two conditions simultaneously, optimize\r\n       if (counter &lt; 6 &amp;&amp; checkStr.length() &lt;= 10 ){\r\n            goodPassword = true;\r\n            }\r\n      else goodPassword = false;\r\n \r\n      if (goodPassword) {\r\n         System.out.println(&quot;Valid&quot;);\r\n       }\r\n      else {\r\n          System.out.println(&quot;Invalid&quot;);\r\n       }\r\n   }\r\n }\r\n```","title":"Counting characters in a string and setting a boolean to T or F based on parameters","body":"<p>It appears that your code can be improved and optimized.</p>\n<ol>\n<li>The loop implemented for digit counting does not accurately validate the presence of digits within the input text. Evaluate the characters within the string rather than their respective places. Instead of utilising the method <code>Character.isDigit(i)</code>,use <code>Character.isDigit(checkStr.charAt(i))**</code>.</li>\n<li>Make a comparison between the variable &quot;<strong>counter</strong>&quot; and the value 6 in order to ascertain whether there exists a quantity of digits that is less than six, and then evaluate the length of the string &quot;<strong>checkStr</strong>&quot; by invoking the method &quot;<strong>length()</strong>&quot; and comparing the result to the value 10, so as to determine if the length is less than or equal to ten.\nHere's the working code. I checked it. Hope it helps 😁.</li>\n</ol>\n<pre><code>import java.util.Scanner;\n\npublic class ValidInvalid {\n   public static void main(String[] args) {\n      Scanner scnr = new Scanner(System.in);\n      String checkStr;\n      Boolean goodPassword=true;\n      int i;\n      int counter=0;\n  \n      checkStr = scnr.nextLine();\n\n      for (i = 0; i &lt; checkStr.length(); i++) {\n            if (Character.isDigit(checkStr.charAt(i))) {\n               counter = counter + 1;\n            }\n       }\n       //  Check the two conditions simultaneously, optimize\n       if (counter &lt; 6 &amp;&amp; checkStr.length() &lt;= 10 ){\n            goodPassword = true;\n            }\n      else goodPassword = false;\n \n      if (goodPassword) {\n         System.out.println(&quot;Valid&quot;);\n       }\n      else {\n          System.out.println(&quot;Invalid&quot;);\n       }\n   }\n }\n</code></pre>\n"}],"owner":{"account_id":29705108,"reputation":3,"user_id":22766133,"display_name":"zjones22"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77321217,"answer_count":4,"score":0,"last_activity_date":1697700296,"creation_date":1697689108,"question_id":77320938,"body_markdown":"Working on a homework question and I cannot understand why one of the tests is not working. \r\n\r\nHere is the question:\r\n\r\nDeclare a Boolean variable named goodPassword. Use goodPassword to output &quot;Valid&quot; if checkStr contains fewer than 6 digits and checkStr&#39;s length is less than or equal to 10. Otherwise, output &quot;Invalid&quot;.\r\n\r\nEx: If the input is `SDhm3650F8`, then the output is:\r\n\r\nValid\r\n\r\nEx: If the input is `BrgFSyDGk4j`, then the output is:\r\n\r\nInvalid\r\n\r\nOnce compiled the program runs 10 test cases for the loop and all but one of them is coming back successful. Been confused as to why it isn&#39;t working for a while now and cant seem to figure it out. Any help would be appreciated. \r\n\r\nHere is my code:\r\n\r\n\r\n    import java.util.Scanner;\r\n\r\n    public class ValidInvalid {\r\n       public static void main(String[] args) {\r\n          Scanner scnr = new Scanner(System.in);\r\n          String checkStr;\r\n          Boolean goodPassword=true;\r\n          int i;\r\n          int counter=0;\r\n      \r\n          checkStr = scnr.nextLine();\r\n   \r\n          for (i = 0; i &lt; checkStr.length(); i++) {\r\n                if (Character.isDigit(i)) {\r\n                   counter = counter + 1;\r\n                }\r\n           }\r\n      \r\n          if (checkStr.length() &gt; 10) {\r\n             goodPassword = false;\r\n          }\r\n         \r\n             else if (counter &lt;=6){\r\n                goodPassword = true;\r\n                }\r\n      \r\n\r\n          if (goodPassword) {\r\n             System.out.println(&quot;Valid&quot;);\r\n           }\r\n          else {\r\n              System.out.println(&quot;Invalid&quot;);\r\n           }\r\n       }\r\n     }\r\n\r\n\r\nHere is a sample of the results I&#39;m getting. Number 5 is the one that keeps failing.\r\n\r\n```\r\n3: Compare output\r\nInput\r\nRPCTFSJ2W\r\nYour output\r\nValid\r\n\r\n4: Compare output\r\nInput\r\nxnqd9bkcgwtsr\r\nYour output\r\nInvalid\r\n\r\n5: Compare output\r\nOutput differs. See highlights below.\r\nInput\r\n63198207s\r\nYour output\r\nValid\r\nExpected output\r\nInvalid your text\r\n```","title":"Counting characters in a string and setting a boolean to T or F based on parameters","body":"<p>Working on a homework question and I cannot understand why one of the tests is not working.</p>\n<p>Here is the question:</p>\n<p>Declare a Boolean variable named goodPassword. Use goodPassword to output &quot;Valid&quot; if checkStr contains fewer than 6 digits and checkStr's length is less than or equal to 10. Otherwise, output &quot;Invalid&quot;.</p>\n<p>Ex: If the input is <code>SDhm3650F8</code>, then the output is:</p>\n<p>Valid</p>\n<p>Ex: If the input is <code>BrgFSyDGk4j</code>, then the output is:</p>\n<p>Invalid</p>\n<p>Once compiled the program runs 10 test cases for the loop and all but one of them is coming back successful. Been confused as to why it isn't working for a while now and cant seem to figure it out. Any help would be appreciated.</p>\n<p>Here is my code:</p>\n<pre><code>import java.util.Scanner;\n\npublic class ValidInvalid {\n   public static void main(String[] args) {\n      Scanner scnr = new Scanner(System.in);\n      String checkStr;\n      Boolean goodPassword=true;\n      int i;\n      int counter=0;\n  \n      checkStr = scnr.nextLine();\n\n      for (i = 0; i &lt; checkStr.length(); i++) {\n            if (Character.isDigit(i)) {\n               counter = counter + 1;\n            }\n       }\n  \n      if (checkStr.length() &gt; 10) {\n         goodPassword = false;\n      }\n     \n         else if (counter &lt;=6){\n            goodPassword = true;\n            }\n  \n\n      if (goodPassword) {\n         System.out.println(&quot;Valid&quot;);\n       }\n      else {\n          System.out.println(&quot;Invalid&quot;);\n       }\n   }\n }\n</code></pre>\n<p>Here is a sample of the results I'm getting. Number 5 is the one that keeps failing.</p>\n<pre><code>3: Compare output\nInput\nRPCTFSJ2W\nYour output\nValid\n\n4: Compare output\nInput\nxnqd9bkcgwtsr\nYour output\nInvalid\n\n5: Compare output\nOutput differs. See highlights below.\nInput\n63198207s\nYour output\nValid\nExpected output\nInvalid your text\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":2,"creation_date":1697698461,"post_id":77321558,"comment_id":136313039,"body_markdown":"Depends on the test framework. Which one are you using?","body":"Depends on the test framework. Which one are you using?"}],"answers":[{"tags":[],"owner":{"account_id":10250466,"reputation":575,"user_id":7576519,"display_name":"Pablo Aragon&#233;s"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1697699309,"creation_date":1697699309,"answer_id":77321654,"question_id":77321558,"body_markdown":"Try by using the `@Test` annotation&#39;s `testName` attribute. Here is an example:\r\n\r\n```\r\n@Test(groups = &quot;testng&quot;, testName = &quot;Custom Test Name for Intent Recognition&quot;)\r\n    public void testIntentRecognition() {\r\n        System.out.println(&quot;test1 from group1&quot;);\r\n        Assert.assertTrue(true, &quot;success&quot;);\r\n    }\r\n```","title":"how can I rename method name for testng","body":"<p>Try by using the <code>@Test</code> annotation's <code>testName</code> attribute. Here is an example:</p>\n<pre><code>@Test(groups = &quot;testng&quot;, testName = &quot;Custom Test Name for Intent Recognition&quot;)\n    public void testIntentRecognition() {\n        System.out.println(&quot;test1 from group1&quot;);\n        Assert.assertTrue(true, &quot;success&quot;);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15748896,"reputation":27,"user_id":11364077,"display_name":"Jeroen Gremmen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697699338,"creation_date":1697699338,"answer_id":77321658,"question_id":77321558,"body_markdown":"I&#39;m not sure about testng but junit has an annotation `DisplayName` which allows you to give each test method a different name.","title":"how can I rename method name for testng","body":"<p>I'm not sure about testng but junit has an annotation <code>DisplayName</code> which allows you to give each test method a different name.</p>\n"}],"owner":{"account_id":29705951,"reputation":3,"user_id":22766781,"display_name":"Hongxiang Cheng"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77321654,"answer_count":2,"score":0,"last_activity_date":1697700148,"creation_date":1697698373,"question_id":77321558,"body_markdown":"I&#39;m trying to get a testng report. But sometimes, I don&#39;t want to show my real method name,like testIntentRecognition below. Can I use something like @Rename(&quot;fakename&quot;) to rename the method in the report?\r\n\r\n\r\n\r\n![enter image description here](https://i.stack.imgur.com/BW9GJ.png)\r\n\r\n    import org.testng.Assert;\r\n    import org.testng.annotations.Test;\r\n\r\n    public class test {\r\n        \r\n    @Test(groups=&quot;testng&quot;)\r\n        public void testIntentRecognition() {\r\n    \r\n            System.out.println(&quot;test1 from group1&quot;);\r\n            Assert.assertTrue(true, &quot;success&quot;);\r\n        }\r\n    \r\n        @Test(groups=&quot;testng&quot;)\r\n        public void testDocumentRetrieval() {\r\n    \r\n            System.out.println(&quot;test1 from group1&quot;);\r\n            Assert.assertTrue(true, &quot;success&quot;);\r\n        }\r\n    \r\n    }","title":"how can I rename method name for testng","body":"<p>I'm trying to get a testng report. But sometimes, I don't want to show my real method name,like testIntentRecognition below. Can I use something like @Rename(&quot;fakename&quot;) to rename the method in the report?</p>\n<p><img src=\"https://i.stack.imgur.com/BW9GJ.png\" alt=\"enter image description here\" /></p>\n<pre><code>import org.testng.Assert;\nimport org.testng.annotations.Test;\n\npublic class test {\n    \n@Test(groups=&quot;testng&quot;)\n    public void testIntentRecognition() {\n\n        System.out.println(&quot;test1 from group1&quot;);\n        Assert.assertTrue(true, &quot;success&quot;);\n    }\n\n    @Test(groups=&quot;testng&quot;)\n    public void testDocumentRetrieval() {\n\n        System.out.println(&quot;test1 from group1&quot;);\n        Assert.assertTrue(true, &quot;success&quot;);\n    }\n\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-statemachine"],"comments":[{"owner":{"account_id":62234,"reputation":19819,"user_id":185034,"accept_rate":100,"display_name":"Paul"},"score":0,"creation_date":1466542731,"post_id":37856322,"comment_id":63357326,"body_markdown":"It seems that error handling is currently not an option, see https://github.com/spring-projects/spring-statemachine/issues/183.  At least, I&#39;ve never been able to get it to work.","body":"It seems that error handling is currently not an option, see <a href=\"https://github.com/spring-projects/spring-statemachine/issues/183\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-statemachine/issues/183</a>.  At least, I&#39;ve never been able to get it to work."},{"owner":{"account_id":3127182,"reputation":6869,"user_id":2645833,"accept_rate":54,"display_name":"krmanish007"},"score":0,"creation_date":1506934355,"post_id":37856322,"comment_id":79998603,"body_markdown":"This issue seems to be fixed at https://github.com/spring-projects/spring-statemachine/issues/240","body":"This issue seems to be fixed at <a href=\"https://github.com/spring-projects/spring-statemachine/issues/240\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-statemachine/issues/240</a>"}],"answers":[{"tags":[],"owner":{"account_id":1310087,"reputation":39,"user_id":1258249,"display_name":"theAntonym"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1506914649,"creation_date":1506914649,"answer_id":46519081,"question_id":37856322,"body_markdown":"Not sure if you still need this. But I bumped into similar issue. I wanted to propagate exception from state machine to the caller. I implemented StateMachineInterceptor. And inside the state machine transition functions I am setting:\r\n\r\n       try\r\n            {\r\n                ..\r\n            }\r\n            catch (WhateverException e)\r\n            {\r\n                stateMachine.setStateMachineError(e);\r\n                throw e;\r\n            }\r\n\r\n\r\nThen inside the interceptor&#39;s stateMachineError method, I have added the Exception in the extendedState map:\r\n\r\n    public Exception stateMachineError(StateMachine&lt;States, Events&gt; stateMachine, Exception exception)\r\n    { \r\n    stateMachine.getExtendedState().getVariables().put(&quot;ERROR&quot;, exception);\r\n    logger.error(&quot;StateMachineError&quot;, exception);\r\n    return exception;\r\n    }\r\n\r\nInside resetStateMachine I have added the interceptor to the statemachine.\r\n\r\n    a.addStateMachineInterceptor(new LoggingStateMachineInterceptor());\r\n\r\nThen when I am calling the sendEvent method, I am doing this:\r\n\r\n     if (stateMachine.hasStateMachineError())\r\n            {\r\n                throw (Exception) svtStateMachine.getExtendedState().getVariables().get(&quot;ERROR&quot;);\r\n            }\r\n\r\nThis is returning the WhateverException right to the caller. Which in my case is a RestController. \r\n\r\n","title":"Spring State Machine Error Handling not working","body":"<p>Not sure if you still need this. But I bumped into similar issue. I wanted to propagate exception from state machine to the caller. I implemented StateMachineInterceptor. And inside the state machine transition functions I am setting:</p>\n\n<pre><code>   try\n        {\n            ..\n        }\n        catch (WhateverException e)\n        {\n            stateMachine.setStateMachineError(e);\n            throw e;\n        }\n</code></pre>\n\n<p>Then inside the interceptor's stateMachineError method, I have added the Exception in the extendedState map:</p>\n\n<pre><code>public Exception stateMachineError(StateMachine&lt;States, Events&gt; stateMachine, Exception exception)\n{ \nstateMachine.getExtendedState().getVariables().put(\"ERROR\", exception);\nlogger.error(\"StateMachineError\", exception);\nreturn exception;\n}\n</code></pre>\n\n<p>Inside resetStateMachine I have added the interceptor to the statemachine.</p>\n\n<pre><code>a.addStateMachineInterceptor(new LoggingStateMachineInterceptor());\n</code></pre>\n\n<p>Then when I am calling the sendEvent method, I am doing this:</p>\n\n<pre><code> if (stateMachine.hasStateMachineError())\n        {\n            throw (Exception) svtStateMachine.getExtendedState().getVariables().get(\"ERROR\");\n        }\n</code></pre>\n\n<p>This is returning the WhateverException right to the caller. Which in my case is a RestController. </p>\n"},{"tags":[],"owner":{"account_id":3481319,"reputation":876,"user_id":2913290,"accept_rate":50,"display_name":"Daniel Vilas-Boas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697700088,"creation_date":1631725832,"answer_id":69197298,"question_id":37856322,"body_markdown":"The approach I&#39;m taking here is combining the extended state to store errors with an error action. \r\n\r\nIf an expected exception happens in your action and any class inside of it, I include it in the extended state context\r\n\r\n\r\n    context.getExtendedState().getVariables().put(&quot;error&quot;, MyBussinessException);\r\n\r\nthen, on my error action (configured like this)\r\n\r\n\r\n            .withExternal()\r\n            .source(State.INIT)\r\n            .target(State.STARTED)\r\n            .action(action, errorAction)\r\n            .event(Events.INIT)\r\n\r\nOutside machine context, I always check if that field is present or not, and translate it to proper response code. \r\n\r\nIf any exception is thrown from action, error action will be triggered. There you can check known errors (and let them bubble up), or include a new errors (if that was unexpected)\r\n\r\n\r\n    public class ErrorAction implements Action&lt;States, Events&gt; {\r\n    \r\n        @Override\r\n        public void execute(StateContext&lt;States, Events&gt; context) {\r\n           if(!context.getExtendedState().getVariables().containsKey(&quot;error&quot;)\r\n            context.getExtendedState().getVariables().put(&quot;error&quot;, new GenericException());\r\n        }\r\n    }\r\n\r\nThen, you will go and make this check in the Service you are calling the event from.\r\n\r\n```java\r\n\r\n    Object error = sm.getExtendedState().getVariables().get(&quot;error&quot;);\r\n    if (error == null) {\r\n    \treturn;\r\n    }\r\n    throw MyBussinessException.class.cast(error);\r\n\r\n```\r\n","title":"Spring State Machine Error Handling not working","body":"<p>The approach I'm taking here is combining the extended state to store errors with an error action.</p>\n<p>If an expected exception happens in your action and any class inside of it, I include it in the extended state context</p>\n<pre><code>context.getExtendedState().getVariables().put(&quot;error&quot;, MyBussinessException);\n</code></pre>\n<p>then, on my error action (configured like this)</p>\n<pre><code>        .withExternal()\n        .source(State.INIT)\n        .target(State.STARTED)\n        .action(action, errorAction)\n        .event(Events.INIT)\n</code></pre>\n<p>Outside machine context, I always check if that field is present or not, and translate it to proper response code.</p>\n<p>If any exception is thrown from action, error action will be triggered. There you can check known errors (and let them bubble up), or include a new errors (if that was unexpected)</p>\n<pre><code>public class ErrorAction implements Action&lt;States, Events&gt; {\n\n    @Override\n    public void execute(StateContext&lt;States, Events&gt; context) {\n       if(!context.getExtendedState().getVariables().containsKey(&quot;error&quot;)\n        context.getExtendedState().getVariables().put(&quot;error&quot;, new GenericException());\n    }\n}\n</code></pre>\n<p>Then, you will go and make this check in the Service you are calling the event from.</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n    Object error = sm.getExtendedState().getVariables().get(&quot;error&quot;);\n    if (error == null) {\n        return;\n    }\n    throw MyBussinessException.class.cast(error);\n\n</code></pre>\n"}],"owner":{"account_id":3127182,"reputation":6869,"user_id":2645833,"accept_rate":54,"display_name":"krmanish007"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3724,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1697700088,"creation_date":1466072257,"question_id":37856322,"body_markdown":"I did all the setup for error handling\r\n\r\n    @PostConstruct\r\n    public void addStateMachineInterceptor() {\r\n        stateMachine.getStateMachineAccessor().withRegion().addStateMachineInterceptor(interceptor);\r\n        stateMachine.getStateMachineAccessor().doWithRegion(errorinterceptor);\r\n    }\r\n\r\ncreated interceptor to handle error:\r\n\r\n    @Service\r\n    public class OrderStateMachineFunction&lt;T&gt; implements StateMachineFunction&lt;StateMachineAccess&lt;String, String&gt;&gt; {\r\n        @Override\r\n        public void apply(StateMachineAccess&lt;String, String&gt; stringStringStateMachineAccess) {\r\n            stringStringStateMachineAccess.addStateMachineInterceptor(\r\n                    new StateMachineInterceptorAdapter&lt;String, String&gt;() {\r\n                        @Override\r\n                        public Exception stateMachineError(StateMachine&lt;String, String&gt; stateMachine,\r\n                                                           Exception exception) {\r\n                            // return null indicating handled error\r\n                            return exception;\r\n                        }\r\n                    });\r\n        }\r\n    }\r\n\r\nBut I can&#39;t see the call going into OrderStateMachineFunction, when we throw the exception from the action.\r\n\r\nAnd after that state machine behave some wired way, like it stops calling preStateChange method after this.stateMachine.sendEvent(eventData);. It seems state machine breaks down after you throw the exception from the action.\r\n\r\n        @Service\r\n        public class OrderStateMachineInterceptor extends StateMachineInterceptorAdapter {\r\n        \r\n            @Override\r\n            public void preStateChange(State newState, Message message, Transition transition, StateMachine stateMachine) {\r\n                System.out.println(&quot;Manish&quot;);\r\n        }\r\n    }\r\n\r\nAfter trying few bit, I have seen that if I comment the resetStateMachine, it works as expected, but without that I am not able to inform the currentstate to state machine:\r\n\r\n        public boolean fireEvent(Object data, String previousState, String event) {\r\n            Message&lt;String&gt; eventData = MessageBuilder.withPayload(event)\r\n                    .setHeader(DATA_KEY, data)\r\n                    .build();\r\n            this.stateMachine.stop();\r\n    \r\n    //        this.stateMachine\r\n    //                .getStateMachineAccessor()\r\n    //                .withRegion()\r\n    //                .resetStateMachine(new DefaultStateMachineContext(previousState, event, eventData.getHeaders(), null));\r\n    \r\n            this.stateMachine.start();\r\n            return this.stateMachine.sendEvent(eventData);\r\n        }\r\n\r\n","title":"Spring State Machine Error Handling not working","body":"<p>I did all the setup for error handling</p>\n\n<pre><code>@PostConstruct\npublic void addStateMachineInterceptor() {\n    stateMachine.getStateMachineAccessor().withRegion().addStateMachineInterceptor(interceptor);\n    stateMachine.getStateMachineAccessor().doWithRegion(errorinterceptor);\n}\n</code></pre>\n\n<p>created interceptor to handle error:</p>\n\n<pre><code>@Service\npublic class OrderStateMachineFunction&lt;T&gt; implements StateMachineFunction&lt;StateMachineAccess&lt;String, String&gt;&gt; {\n    @Override\n    public void apply(StateMachineAccess&lt;String, String&gt; stringStringStateMachineAccess) {\n        stringStringStateMachineAccess.addStateMachineInterceptor(\n                new StateMachineInterceptorAdapter&lt;String, String&gt;() {\n                    @Override\n                    public Exception stateMachineError(StateMachine&lt;String, String&gt; stateMachine,\n                                                       Exception exception) {\n                        // return null indicating handled error\n                        return exception;\n                    }\n                });\n    }\n}\n</code></pre>\n\n<p>But I can't see the call going into OrderStateMachineFunction, when we throw the exception from the action.</p>\n\n<p>And after that state machine behave some wired way, like it stops calling preStateChange method after this.stateMachine.sendEvent(eventData);. It seems state machine breaks down after you throw the exception from the action.</p>\n\n<pre><code>    @Service\n    public class OrderStateMachineInterceptor extends StateMachineInterceptorAdapter {\n\n        @Override\n        public void preStateChange(State newState, Message message, Transition transition, StateMachine stateMachine) {\n            System.out.println(\"Manish\");\n    }\n}\n</code></pre>\n\n<p>After trying few bit, I have seen that if I comment the resetStateMachine, it works as expected, but without that I am not able to inform the currentstate to state machine:</p>\n\n<pre><code>    public boolean fireEvent(Object data, String previousState, String event) {\n        Message&lt;String&gt; eventData = MessageBuilder.withPayload(event)\n                .setHeader(DATA_KEY, data)\n                .build();\n        this.stateMachine.stop();\n\n//        this.stateMachine\n//                .getStateMachineAccessor()\n//                .withRegion()\n//                .resetStateMachine(new DefaultStateMachineContext(previousState, event, eventData.getHeaders(), null));\n\n        this.stateMachine.start();\n        return this.stateMachine.sendEvent(eventData);\n    }\n</code></pre>\n"},{"tags":["java","session","keycloak","apache-zeppelin","pac4j"],"owner":{"account_id":22563716,"reputation":1,"user_id":16751024,"display_name":"Zhun"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697699974,"creation_date":1697690062,"question_id":77320983,"body_markdown":"I integrate Apache Zeppelin with Keycloak and use the pac4j library for OIDC authentication. Each time I call an API, such as creating a new interpreter in a notebook, it goes with the Cookie: JSESSIONID in the header request. I&#39;m trying to remove or disable that JSESSIONID to switch to using token authentication provided by Keycloak. I&#39;ve tried to research, but it seems hopeless. I want to ask:\r\n\r\n    1. When and where is JSESSIONID created?\r\n    2. Is disabling it a good choice?\r\n    3. I&#39;m still struggling to understand its authentication flow. Can someone explain?\r\n\r\nIf I know where JSESSIONID is created and where it is processed in Pac4j or Keycloak (if it is), I will know how to disable it, or at least I can use a token to authenticate without touching JSESSIONID.\r\n\r\nThanks in advance!\r\n\r\nI want to call APIs interact with Zeppelin with only token.","title":"Disable session-based, switch to token-based authentication in Zeppelin","body":"<p>I integrate Apache Zeppelin with Keycloak and use the pac4j library for OIDC authentication. Each time I call an API, such as creating a new interpreter in a notebook, it goes with the Cookie: JSESSIONID in the header request. I'm trying to remove or disable that JSESSIONID to switch to using token authentication provided by Keycloak. I've tried to research, but it seems hopeless. I want to ask:</p>\n<pre><code>1. When and where is JSESSIONID created?\n2. Is disabling it a good choice?\n3. I'm still struggling to understand its authentication flow. Can someone explain?\n</code></pre>\n<p>If I know where JSESSIONID is created and where it is processed in Pac4j or Keycloak (if it is), I will know how to disable it, or at least I can use a token to authenticate without touching JSESSIONID.</p>\n<p>Thanks in advance!</p>\n<p>I want to call APIs interact with Zeppelin with only token.</p>\n"},{"tags":["java","spring","authorization","keycloak"],"answers":[{"tags":[],"owner":{"account_id":1380512,"reputation":110,"user_id":7388422,"display_name":"Shant Khayalian"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1694372042,"creation_date":1694372042,"answer_id":77077484,"question_id":77077344,"body_markdown":"It seems there might be an issue with the way you&#39;re specifying the role in your `SecurityConfig`. To use role-based authorization with Keycloak, you need to specify the role using the Keycloak-specific role prefix. By default, Keycloak uses the `ROLE_` prefix for roles.\r\n\r\nHere&#39;s how you can modify your `SecurityConfig` to use the correct role prefix:\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    public class SecurityConfig extends KeycloakWebSecurityConfigurerAdapter {\r\n    \r\n        @Autowired\r\n        public void configureGlobal(AuthenticationManagerBuilder auth) throws Exception {\r\n            auth.authenticationProvider(keycloakAuthenticationProvider());\r\n        }\r\n    \r\n        @Bean\r\n        @Override\r\n        protected SessionAuthenticationStrategy sessionAuthenticationStrategy() {\r\n            return new NullAuthenticatedSessionStrategy();\r\n        }\r\n    \r\n        @Override\r\n        protected void configure(HttpSecurity http) throws Exception {\r\n            super.configure(http);\r\n            http\r\n                .authorizeRequests()\r\n                    .antMatchers(&quot;/debug/public&quot;).permitAll()\r\n                    .antMatchers(&quot;/debug/authenticated&quot;).authenticated()\r\n                    .antMatchers(&quot;/debug/admin&quot;).hasRole(&quot;admin&quot;) // Use &quot;hasRole&quot; with the role name without &quot;ROLE_&quot; prefix\r\n                    .anyRequest().authenticated()\r\n                .and()\r\n                .oauth2Login()\r\n                    .defaultSuccessURL(&quot;/success&quot;)\r\n                .and()\r\n                .logout()\r\n                    .logoutUrl(&quot;/logout&quot;)\r\n                    .logoutSuccessUrl(&quot;/index&quot;);\r\n        }\r\n    }\r\n\r\n\r\nIn this modified configuration:\r\n\r\nWe extend `KeycloakWebSecurityConfigurerAdapter` to take advantage of Keycloak-specific features.\r\n\r\nWe configure the `AuthenticationManagerBuilder` to use the `keycloakAuthenticationProvider` provided by Keycloak.\r\n\r\nMake sure that your Keycloak realm configuration matches this setup, especially regarding the role name. The role in Keycloak should be named &quot;admin&quot; without the `ROLE_` prefix.\r\n\r\nHope I was helpful.\r\n\r\nAdditionally, ensure that the Keycloak client configuration for your Spring Boot application includes the correct roles mapping.\r\n\r\nAfter these modifications, try accessing the `/debug/admin` endpoint again. If the role is correctly assigned in Keycloak and your Keycloak client configuration is accurate, role-based authorization should work as expected.","title":"Keycloak + spring boot role authentification not working","body":"<p>It seems there might be an issue with the way you're specifying the role in your <code>SecurityConfig</code>. To use role-based authorization with Keycloak, you need to specify the role using the Keycloak-specific role prefix. By default, Keycloak uses the <code>ROLE_</code> prefix for roles.</p>\n<p>Here's how you can modify your <code>SecurityConfig</code> to use the correct role prefix:</p>\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class SecurityConfig extends KeycloakWebSecurityConfigurerAdapter {\n\n    @Autowired\n    public void configureGlobal(AuthenticationManagerBuilder auth) throws Exception {\n        auth.authenticationProvider(keycloakAuthenticationProvider());\n    }\n\n    @Bean\n    @Override\n    protected SessionAuthenticationStrategy sessionAuthenticationStrategy() {\n        return new NullAuthenticatedSessionStrategy();\n    }\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        super.configure(http);\n        http\n            .authorizeRequests()\n                .antMatchers(&quot;/debug/public&quot;).permitAll()\n                .antMatchers(&quot;/debug/authenticated&quot;).authenticated()\n                .antMatchers(&quot;/debug/admin&quot;).hasRole(&quot;admin&quot;) // Use &quot;hasRole&quot; with the role name without &quot;ROLE_&quot; prefix\n                .anyRequest().authenticated()\n            .and()\n            .oauth2Login()\n                .defaultSuccessURL(&quot;/success&quot;)\n            .and()\n            .logout()\n                .logoutUrl(&quot;/logout&quot;)\n                .logoutSuccessUrl(&quot;/index&quot;);\n    }\n}\n</code></pre>\n<p>In this modified configuration:</p>\n<p>We extend <code>KeycloakWebSecurityConfigurerAdapter</code> to take advantage of Keycloak-specific features.</p>\n<p>We configure the <code>AuthenticationManagerBuilder</code> to use the <code>keycloakAuthenticationProvider</code> provided by Keycloak.</p>\n<p>Make sure that your Keycloak realm configuration matches this setup, especially regarding the role name. The role in Keycloak should be named &quot;admin&quot; without the <code>ROLE_</code> prefix.</p>\n<p>Hope I was helpful.</p>\n<p>Additionally, ensure that the Keycloak client configuration for your Spring Boot application includes the correct roles mapping.</p>\n<p>After these modifications, try accessing the <code>/debug/admin</code> endpoint again. If the role is correctly assigned in Keycloak and your Keycloak client configuration is accurate, role-based authorization should work as expected.</p>\n"},{"tags":[],"owner":{"account_id":308139,"reputation":8189,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1697699520,"creation_date":1694451226,"answer_id":77083487,"question_id":77077344,"body_markdown":"According to [the manual for an OAuth2 client with oauth2Login][1], you should provide with a `GrantedAuthoritiesMapper` bean or override the `OAuth2UserService` (in the case of a [resource server with JWT decoder][2], you would provide a `Converter&lt;Jwt, ? extends AbstractAuthenticationToken&gt;`, maybe a manually configured `JwtAuthenticationConverter`).\r\n\r\n**Do not use Keycloak adapters for Spring**. It was deprecated long ago and does not work with Spring Security 6 / Boot 3.\r\n\r\n**Do not fetch user roles from Keycloak**. This is way too inefficient. Instead, read it from tokens. As you are writing an OAuth2 client (which reads the ID token, not the access token), you might have to activate the mappers: `Client scopes` -&gt; `roles` -&gt; `Mappers` -&gt; `realm roles` and enable `Add to ID token` as well as `Add to userinfo` (you might do the same with client roles if you use it).\r\n\r\nThis [other answer][3] contains sample conversion from Keycloak roles to Spring authorities in both resource servers and clients.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-security/reference/servlet/oauth2/login/advanced.html#oauth2login-advanced-map-authorities\r\n  [2]: https://docs.spring.io/spring-security/reference/servlet/oauth2/resource-server/jwt.html#oauth2resourceserver-jwt-authorization-extraction\r\n  [3]: https://stackoverflow.com/questions/74571191/use-keycloak-spring-adapter-with-spring-boot-3/74572732#74572732","title":"Keycloak + spring boot role authentification not working","body":"<p>According to <a href=\"https://docs.spring.io/spring-security/reference/servlet/oauth2/login/advanced.html#oauth2login-advanced-map-authorities\" rel=\"nofollow noreferrer\">the manual for an OAuth2 client with oauth2Login</a>, you should provide with a <code>GrantedAuthoritiesMapper</code> bean or override the <code>OAuth2UserService</code> (in the case of a <a href=\"https://docs.spring.io/spring-security/reference/servlet/oauth2/resource-server/jwt.html#oauth2resourceserver-jwt-authorization-extraction\" rel=\"nofollow noreferrer\">resource server with JWT decoder</a>, you would provide a <code>Converter&lt;Jwt, ? extends AbstractAuthenticationToken&gt;</code>, maybe a manually configured <code>JwtAuthenticationConverter</code>).</p>\n<p><strong>Do not use Keycloak adapters for Spring</strong>. It was deprecated long ago and does not work with Spring Security 6 / Boot 3.</p>\n<p><strong>Do not fetch user roles from Keycloak</strong>. This is way too inefficient. Instead, read it from tokens. As you are writing an OAuth2 client (which reads the ID token, not the access token), you might have to activate the mappers: <code>Client scopes</code> -&gt; <code>roles</code> -&gt; <code>Mappers</code> -&gt; <code>realm roles</code> and enable <code>Add to ID token</code> as well as <code>Add to userinfo</code> (you might do the same with client roles if you use it).</p>\n<p>This <a href=\"https://stackoverflow.com/questions/74571191/use-keycloak-spring-adapter-with-spring-boot-3/74572732#74572732\">other answer</a> contains sample conversion from Keycloak roles to Spring authorities in both resource servers and clients.</p>\n"}],"owner":{"account_id":17896820,"reputation":149,"user_id":13096063,"display_name":"Hendrik H&#252;bner"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":426,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":77083487,"answer_count":2,"score":3,"last_activity_date":1697699520,"creation_date":1694368878,"question_id":77077344,"body_markdown":"I&#39;m developing a spring backend that uses a keycloak auth server. I&#39;m struggeling to  get role based authorization to work. I have created a user &quot;dev_admin&quot; in my realm and have given him the realm role &quot;admin&quot;. I have the endpoint &quot;debuf/admin&quot; which is only accessible for users with the admin role. My security config looks like this:\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    public class SecurityConfig {\r\n\r\n    private final KeycloakLogoutHandler keycloakLogoutHandler;\r\n    SecurityConfig(KeycloakLogoutHandler keycloakLogoutHandler) {\r\n        this.keycloakLogoutHandler = keycloakLogoutHandler;\r\n    }\r\n\r\n    @Bean\r\n    public SecurityFilterChain clientFilterChain(HttpSecurity http) throws Exception {\r\n        return http\r\n            .authorizeHttpRequests(auth -&gt; {\r\n                auth\r\n                    .requestMatchers(new AntPathRequestMatcher(&quot;/debug/public&quot;)).permitAll()\r\n                    .requestMatchers(new AntPathRequestMatcher(&quot;/debug/authenticated&quot;)).authenticated()\r\n                    .requestMatchers(new AntPathRequestMatcher(&quot;/debug/admin&quot;)).hasAnyRole(&quot;admin&quot;)\r\n                    .anyRequest().authenticated();\r\n            })\r\n            .oauth2Login(Customizer.withDefaults())\r\n            .logout((conf) -&gt; {\r\n                conf.addLogoutHandler(keycloakLogoutHandler);\r\n                conf.logoutSuccessUrl(&quot;/index&quot;);\r\n            })\r\n            .build();\r\n    }\r\n    }\r\n\r\n\r\nHowever, after I log in as the dev_admin user and try to access the admin endpoint, i returns error 403. This is from the spring console:\r\n\r\n    2023-09-10T19:44:54.653+02:00 TRACE 1400 --- [nio-8080-exec-7] estMatcherDelegatingAuthorizationManager : Authorizing SecurityContextHolderAwareRequestWrapper[ org.springframework.security.web.header.HeaderWriterFilter$HeaderWriterRequest@5f29c29e]\r\n    2023-09-10T19:44:54.653+02:00 TRACE 1400 --- [nio-8080-exec-7] estMatcherDelegatingAuthorizationManager : Checking authorization on SecurityContextHolderAwareRequestWrapper[ org.springframework.security.web.header.HeaderWriterFilter$HeaderWriterRequest@5f29c29e] using AuthorityAuthorizationManager[authorities=[ROLE_admin]]\r\n    2023-09-10T19:44:54.653+02:00 TRACE 1400 --- [nio-8080-exec-7] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [dev_admin], Granted Authorities: [[OIDC_USER, SCOPE_email, SCOPE_openid, SCOPE_profile]], User Attributes: [{at_hash=1blJDsXc37Pz3uyqygg43A, sub=413591c7-3213-40a4-be2d-82dc69fe1264, email_verified=true, iss=http://localhost:8081/realms/users, typ=ID, preferred_username=dev_admin, given_name=dev, nonce=f_D-DARLucc5Y0Uau8QLhgv2srTM0gK3MDA1zpaDXDM, sid=fab4e120-b249-4e76-bffb-c5a4820fa536, aud=[core-server], acr=1, azp=core-server, auth_time=2023-09-10T17:44:50Z, name=dev admin, exp=2023-09-10T17:49:50Z, session_state=fab4e120-b249-4e76-bffb-c5a4820fa536, family_name=admin, iat=2023-09-10T17:44:50Z, email=dev@admin.com, jti=a7e9ff04-2526-4ff8-82c1-1216ee6d673a}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=95CD2FEF619B032D2A30C89CFAD0740C], Granted Authorities=[OIDC_USER, SCOPE_email, SCOPE_openid, SCOPE_profile]]] from SPRING_SECURITY_CONTEXT\r\n    2023-09-10T19:44:54.653+02:00 TRACE 1400 --- [nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated OAuth2AuthenticationToken [Principal=Name: [dev_admin], Granted Authorities: [[OIDC_USER, SCOPE_email, SCOPE_openid, SCOPE_profile]], User Attributes: [{at_hash=1blJDsXc37Pz3uyqygg43A, sub=413591c7-3213-40a4-be2d-82dc69fe1264, email_verified=true, iss=http://localhost:8081/realms/users, typ=ID, preferred_username=dev_admin, given_name=dev, nonce=f_D-DARLucc5Y0Uau8QLhgv2srTM0gK3MDA1zpaDXDM, sid=fab4e120-b249-4e76-bffb-c5a4820fa536, aud=[core-server], acr=1, azp=core-server, auth_time=2023-09-10T17:44:50Z, name=dev admin, exp=2023-09-10T17:49:50Z, session_state=fab4e120-b249-4e76-bffb-c5a4820fa536, family_name=admin, iat=2023-09-10T17:44:50Z, email=dev@admin.com, jti=a7e9ff04-2526-4ff8-82c1-1216ee6d673a}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=95CD2FEF619B032D2A30C89CFAD0740C], Granted Authorities=[OIDC_USER, SCOPE_email, SCOPE_openid, SCOPE_profile]]\r\n    2023-09-10T19:44:54.653+02:00 TRACE 1400 --- [nio-8080-exec-7] o.s.s.w.a.ExceptionTranslationFilter     : Sending OAuth2AuthenticationToken [Principal=Name: [dev_admin], Granted Authorities: [[OIDC_USER, SCOPE_email, SCOPE_openid, SCOPE_profile]], User Attributes: [{at_hash=1blJDsXc37Pz3uyqygg43A, sub=413591c7-3213-40a4-be2d-82dc69fe1264, email_verified=true, iss=http://localhost:8081/realms/users, typ=ID, preferred_username=dev_admin, given_name=dev, nonce=f_D-DARLucc5Y0Uau8QLhgv2srTM0gK3MDA1zpaDXDM, sid=fab4e120-b249-4e76-bffb-c5a4820fa536, aud=[core-server], acr=1, azp=core-server, auth_time=2023-09-10T17:44:50Z, name=dev admin, exp=2023-09-10T17:49:50Z, session_state=fab4e120-b249-4e76-bffb-c5a4820fa536, family_name=admin, iat=2023-09-10T17:44:50Z, email=dev@admin.com, jti=a7e9ff04-2526-4ff8-82c1-1216ee6d673a}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=95CD2FEF619B032D2A30C89CFAD0740C], Granted Authorities=[OIDC_USER, SCOPE_email, SCOPE_openid, SCOPE_profile]] to access denied handler since access is denied\r\n\r\nI also checked the dev_admin JWT token by using the &quot;impersonate&quot; feature and the role is contaiend in the token. I also noticed that in my browser the token that was saved as a cookie is much shorter and does not contain the role. These are all the clues I have found but I still don&#39;t know why its not working. If someone knows, whats going on that would be very helpful.\r\n\r\nEDIT: I&#39;m not using keycloak adapters by the way. it just looks like that because of the &quot;keycloaklogouthandler&quot; which sends a request to keycloaks logout endpoint\r\n\r\nI should also mention that the client and resource server are the same server in my case. I think the problem has something to do with the security configuration. Here is my application.yml:\r\n\r\n      security:\r\n    oauth2:\r\n      resourceserver.jwt:\r\n          issuer-uri: ${keycloak.baseUrl}/realms/${keycloak.userRealm}\r\n          jwk-set-uri: ${keycloak.baseUrl}/auth/realms/${keycloak.userRealm}/protocol/openid-connect/certs\r\n\r\n      client:\r\n        registration.keycloak:\r\n          client-id: myclient\r\n          authorization-grant-type: authorization_code\r\n          scope: openid\r\n\r\n          admin_user: ???\r\n          admin_password: ???\r\n\r\n        provider.keycloak:\r\n          issuer-uri: ${keycloak.baseUrl}/realms/${keycloak.userRealm}\r\n          user-name-attribute: preferred_username\r\n\r\n\r\n","title":"Keycloak + spring boot role authentification not working","body":"<p>I'm developing a spring backend that uses a keycloak auth server. I'm struggeling to  get role based authorization to work. I have created a user &quot;dev_admin&quot; in my realm and have given him the realm role &quot;admin&quot;. I have the endpoint &quot;debuf/admin&quot; which is only accessible for users with the admin role. My security config looks like this:</p>\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class SecurityConfig {\n\nprivate final KeycloakLogoutHandler keycloakLogoutHandler;\nSecurityConfig(KeycloakLogoutHandler keycloakLogoutHandler) {\n    this.keycloakLogoutHandler = keycloakLogoutHandler;\n}\n\n@Bean\npublic SecurityFilterChain clientFilterChain(HttpSecurity http) throws Exception {\n    return http\n        .authorizeHttpRequests(auth -&gt; {\n            auth\n                .requestMatchers(new AntPathRequestMatcher(&quot;/debug/public&quot;)).permitAll()\n                .requestMatchers(new AntPathRequestMatcher(&quot;/debug/authenticated&quot;)).authenticated()\n                .requestMatchers(new AntPathRequestMatcher(&quot;/debug/admin&quot;)).hasAnyRole(&quot;admin&quot;)\n                .anyRequest().authenticated();\n        })\n        .oauth2Login(Customizer.withDefaults())\n        .logout((conf) -&gt; {\n            conf.addLogoutHandler(keycloakLogoutHandler);\n            conf.logoutSuccessUrl(&quot;/index&quot;);\n        })\n        .build();\n}\n}\n</code></pre>\n<p>However, after I log in as the dev_admin user and try to access the admin endpoint, i returns error 403. This is from the spring console:</p>\n<pre><code>2023-09-10T19:44:54.653+02:00 TRACE 1400 --- [nio-8080-exec-7] estMatcherDelegatingAuthorizationManager : Authorizing SecurityContextHolderAwareRequestWrapper[ org.springframework.security.web.header.HeaderWriterFilter$HeaderWriterRequest@5f29c29e]\n2023-09-10T19:44:54.653+02:00 TRACE 1400 --- [nio-8080-exec-7] estMatcherDelegatingAuthorizationManager : Checking authorization on SecurityContextHolderAwareRequestWrapper[ org.springframework.security.web.header.HeaderWriterFilter$HeaderWriterRequest@5f29c29e] using AuthorityAuthorizationManager[authorities=[ROLE_admin]]\n2023-09-10T19:44:54.653+02:00 TRACE 1400 --- [nio-8080-exec-7] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=OAuth2AuthenticationToken [Principal=Name: [dev_admin], Granted Authorities: [[OIDC_USER, SCOPE_email, SCOPE_openid, SCOPE_profile]], User Attributes: [{at_hash=1blJDsXc37Pz3uyqygg43A, sub=413591c7-3213-40a4-be2d-82dc69fe1264, email_verified=true, iss=http://localhost:8081/realms/users, typ=ID, preferred_username=dev_admin, given_name=dev, nonce=f_D-DARLucc5Y0Uau8QLhgv2srTM0gK3MDA1zpaDXDM, sid=fab4e120-b249-4e76-bffb-c5a4820fa536, aud=[core-server], acr=1, azp=core-server, auth_time=2023-09-10T17:44:50Z, name=dev admin, exp=2023-09-10T17:49:50Z, session_state=fab4e120-b249-4e76-bffb-c5a4820fa536, family_name=admin, iat=2023-09-10T17:44:50Z, email=dev@admin.com, jti=a7e9ff04-2526-4ff8-82c1-1216ee6d673a}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=95CD2FEF619B032D2A30C89CFAD0740C], Granted Authorities=[OIDC_USER, SCOPE_email, SCOPE_openid, SCOPE_profile]]] from SPRING_SECURITY_CONTEXT\n2023-09-10T19:44:54.653+02:00 TRACE 1400 --- [nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated OAuth2AuthenticationToken [Principal=Name: [dev_admin], Granted Authorities: [[OIDC_USER, SCOPE_email, SCOPE_openid, SCOPE_profile]], User Attributes: [{at_hash=1blJDsXc37Pz3uyqygg43A, sub=413591c7-3213-40a4-be2d-82dc69fe1264, email_verified=true, iss=http://localhost:8081/realms/users, typ=ID, preferred_username=dev_admin, given_name=dev, nonce=f_D-DARLucc5Y0Uau8QLhgv2srTM0gK3MDA1zpaDXDM, sid=fab4e120-b249-4e76-bffb-c5a4820fa536, aud=[core-server], acr=1, azp=core-server, auth_time=2023-09-10T17:44:50Z, name=dev admin, exp=2023-09-10T17:49:50Z, session_state=fab4e120-b249-4e76-bffb-c5a4820fa536, family_name=admin, iat=2023-09-10T17:44:50Z, email=dev@admin.com, jti=a7e9ff04-2526-4ff8-82c1-1216ee6d673a}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=95CD2FEF619B032D2A30C89CFAD0740C], Granted Authorities=[OIDC_USER, SCOPE_email, SCOPE_openid, SCOPE_profile]]\n2023-09-10T19:44:54.653+02:00 TRACE 1400 --- [nio-8080-exec-7] o.s.s.w.a.ExceptionTranslationFilter     : Sending OAuth2AuthenticationToken [Principal=Name: [dev_admin], Granted Authorities: [[OIDC_USER, SCOPE_email, SCOPE_openid, SCOPE_profile]], User Attributes: [{at_hash=1blJDsXc37Pz3uyqygg43A, sub=413591c7-3213-40a4-be2d-82dc69fe1264, email_verified=true, iss=http://localhost:8081/realms/users, typ=ID, preferred_username=dev_admin, given_name=dev, nonce=f_D-DARLucc5Y0Uau8QLhgv2srTM0gK3MDA1zpaDXDM, sid=fab4e120-b249-4e76-bffb-c5a4820fa536, aud=[core-server], acr=1, azp=core-server, auth_time=2023-09-10T17:44:50Z, name=dev admin, exp=2023-09-10T17:49:50Z, session_state=fab4e120-b249-4e76-bffb-c5a4820fa536, family_name=admin, iat=2023-09-10T17:44:50Z, email=dev@admin.com, jti=a7e9ff04-2526-4ff8-82c1-1216ee6d673a}], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=95CD2FEF619B032D2A30C89CFAD0740C], Granted Authorities=[OIDC_USER, SCOPE_email, SCOPE_openid, SCOPE_profile]] to access denied handler since access is denied\n</code></pre>\n<p>I also checked the dev_admin JWT token by using the &quot;impersonate&quot; feature and the role is contaiend in the token. I also noticed that in my browser the token that was saved as a cookie is much shorter and does not contain the role. These are all the clues I have found but I still don't know why its not working. If someone knows, whats going on that would be very helpful.</p>\n<p>EDIT: I'm not using keycloak adapters by the way. it just looks like that because of the &quot;keycloaklogouthandler&quot; which sends a request to keycloaks logout endpoint</p>\n<p>I should also mention that the client and resource server are the same server in my case. I think the problem has something to do with the security configuration. Here is my application.yml:</p>\n<pre><code>  security:\noauth2:\n  resourceserver.jwt:\n      issuer-uri: ${keycloak.baseUrl}/realms/${keycloak.userRealm}\n      jwk-set-uri: ${keycloak.baseUrl}/auth/realms/${keycloak.userRealm}/protocol/openid-connect/certs\n\n  client:\n    registration.keycloak:\n      client-id: myclient\n      authorization-grant-type: authorization_code\n      scope: openid\n\n      admin_user: ???\n      admin_password: ???\n\n    provider.keycloak:\n      issuer-uri: ${keycloak.baseUrl}/realms/${keycloak.userRealm}\n      user-name-attribute: preferred_username\n</code></pre>\n"},{"tags":["java","docker","docker-compose","redis"],"comments":[{"owner":{"account_id":27470363,"reputation":298,"user_id":20959381,"display_name":"duckoak"},"score":0,"creation_date":1697695661,"post_id":77320673,"comment_id":136312631,"body_markdown":"Where do you define network `web`?","body":"Where do you define network <code>web</code>?"}],"owner":{"account_id":20602273,"reputation":1,"user_id":15123335,"display_name":"RobertoM"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697698318,"creation_date":1697683693,"question_id":77320673,"body_markdown":"I&#39;m trying to connect to a Redis database through a Java application, but I&#39;m getting the following error:\r\n\r\n\r\n&gt; org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis  \r\nCaused by: java.net.ConnectException: Connection refused\r\n\r\n\r\nThis is my docker-compose:\r\n\r\n\r\n```\r\nversion: &quot;2.1&quot;\r\n\r\nservices:\r\n  api:\r\n    container_name: api\r\n    image: xpto/game\r\n    build:\r\n      context: .\r\n    restart: on-failure\r\n    environment:\r\n      SPRING_PROFILES_ACTIVE: docker\r\n      APP_DATABASE_HOST: redis\r\n      APP_DATABASE_PORT: 6379\r\n    ports:\r\n      - &quot;8080:8080&quot;\r\n    networks:\r\n      - web\r\n    depends_on:\r\n      - redis\r\n\r\n  redis:\r\n    container_name: redis\r\n    hostname: redis\r\n    image: redis:latest\r\n    restart: on-failure\r\n    ports:\r\n      - 6379:6379\r\n    networks:\r\n      - web\r\n```\r\n\r\n\r\nAnd this is my application.properties:\r\n\r\n\r\n```\r\nspring.cache.redis.host=${APP_DATABASE_HOST}\r\nspring.cache.redis.port=${APP_DATABASE_PORT}\r\n```\r\n\r\nI also set up a container with a Redis client (Redis Commander) and managed to connect successfully. Only the container running the Java API doesn&#39;t work\r\n\r\n","title":"Container API cannot connect to container Redis: RedisConnectionFailureException: Unable to connect to Redis","body":"<p>I'm trying to connect to a Redis database through a Java application, but I'm getting the following error:</p>\n<blockquote>\n<p>org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis<br />\nCaused by: java.net.ConnectException: Connection refused</p>\n</blockquote>\n<p>This is my docker-compose:</p>\n<pre><code>version: &quot;2.1&quot;\n\nservices:\n  api:\n    container_name: api\n    image: xpto/game\n    build:\n      context: .\n    restart: on-failure\n    environment:\n      SPRING_PROFILES_ACTIVE: docker\n      APP_DATABASE_HOST: redis\n      APP_DATABASE_PORT: 6379\n    ports:\n      - &quot;8080:8080&quot;\n    networks:\n      - web\n    depends_on:\n      - redis\n\n  redis:\n    container_name: redis\n    hostname: redis\n    image: redis:latest\n    restart: on-failure\n    ports:\n      - 6379:6379\n    networks:\n      - web\n</code></pre>\n<p>And this is my application.properties:</p>\n<pre><code>spring.cache.redis.host=${APP_DATABASE_HOST}\nspring.cache.redis.port=${APP_DATABASE_PORT}\n</code></pre>\n<p>I also set up a container with a Redis client (Redis Commander) and managed to connect successfully. Only the container running the Java API doesn't work</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":75804,"reputation":94815,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"score":0,"creation_date":1697673850,"post_id":77320183,"comment_id":136310838,"body_markdown":"You shouldn&#39;t need to catch the exception in the controller, that is handled for you.","body":"You shouldn&#39;t need to catch the exception in the controller, that is handled for you."},{"owner":{"account_id":10703557,"reputation":475,"user_id":7878083,"display_name":"Ray Bond"},"score":0,"creation_date":1697673942,"post_id":77320183,"comment_id":136310847,"body_markdown":"So how do you get access to HandlerMethod in ControllerAdvice?","body":"So how do you get access to HandlerMethod in ControllerAdvice?"}],"answers":[{"tags":[],"owner":{"account_id":8884226,"reputation":514,"user_id":6633045,"display_name":"phuongnq1995"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697684070,"creation_date":1697684070,"answer_id":77320691,"question_id":77320183,"body_markdown":"You shouldn&#39;t catch the exception in Controller, ControllerAdvice will catch it based on the exception class of this defined `@ExceptionHandler(DataIntegrityViolationException.class)`. This means whenever your controller throws `DataIntegrityViolationException` exception, it will be passed to method `dataIntegrityViolantionException`. \r\n\r\nI guess you need to throw a `DataIntegrityViolationException` in `CarService` class to make it work like your expectation.","title":"Controller Advice exception handling","body":"<p>You shouldn't catch the exception in Controller, ControllerAdvice will catch it based on the exception class of this defined <code>@ExceptionHandler(DataIntegrityViolationException.class)</code>. This means whenever your controller throws <code>DataIntegrityViolationException</code> exception, it will be passed to method <code>dataIntegrityViolantionException</code>.</p>\n<p>I guess you need to throw a <code>DataIntegrityViolationException</code> in <code>CarService</code> class to make it work like your expectation.</p>\n"},{"tags":[],"owner":{"account_id":11818,"reputation":57413,"user_id":22982,"accept_rate":100,"display_name":"Brian Clozel"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1697698233,"creation_date":1697698233,"answer_id":77321543,"question_id":77320183,"body_markdown":"I believe [Spring MVC can inject many arguments in the exception handler method signature][1], one of them being the `HandlerMethod`:\r\n\r\n```java\r\n@ExceptionHandler(DataIntegrityViolationException.class)\r\npublic ResponseEntity dataIntegrityViolantionException(final DataIntegrityViolationException e, HandlerMethod handlerMethod) {\r\n\r\n  // you can get the information you need with\r\n  String message = handlerMethod.getShortLogMessage();\r\n\r\n  // or extract more precise information\r\n  Method method = handlerMethod.getMethod();\r\n\r\n}\r\n```\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/reference/web/webmvc/mvc-controller/ann-exceptionhandler.html#mvc-ann-exceptionhandler-args","title":"Controller Advice exception handling","body":"<p>I believe <a href=\"https://docs.spring.io/spring-framework/reference/web/webmvc/mvc-controller/ann-exceptionhandler.html#mvc-ann-exceptionhandler-args\" rel=\"nofollow noreferrer\">Spring MVC can inject many arguments in the exception handler method signature</a>, one of them being the <code>HandlerMethod</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ExceptionHandler(DataIntegrityViolationException.class)\npublic ResponseEntity dataIntegrityViolantionException(final DataIntegrityViolationException e, HandlerMethod handlerMethod) {\n\n  // you can get the information you need with\n  String message = handlerMethod.getShortLogMessage();\n\n  // or extract more precise information\n  Method method = handlerMethod.getMethod();\n\n}\n</code></pre>\n"}],"owner":{"account_id":10703557,"reputation":475,"user_id":7878083,"display_name":"Ray Bond"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77321543,"answer_count":2,"score":1,"last_activity_date":1697698233,"creation_date":1697672689,"question_id":77320183,"body_markdown":"In Spring Boot 3 I am using `Controller Advice` to handle a database uniqueness exception and create a custom error message which I can pass in JSON and log.\r\n\r\nI would like to add information from MethodHandler so I can also log/add to custom message the URI and Controller that had the exception.\r\n\r\nThis is how it is setup so far:\r\n\r\n**Controller**\r\n\r\n    \r\n    /**\r\n     * Update Car (PUT)\r\n     */\r\n    @PutMapping(value = &quot;/{id}&quot;, consumes = &quot;application/json&quot;)\r\n    ResponseEntity&lt;CarCreateDto&gt; updateCarDto(@Valid @RequestBody CarCreateDto updateCar, @PathVariable Long id) {\r\n            CarCreateDto Car = CarService.updateCar(updateCar, id);\r\n            return new ResponseEntity&lt;&gt;(Car, HttpStatus.OK);\r\n        }\r\n    }\r\n\r\n**Exception Handler**\r\n\r\n        @ExceptionHandler(DataIntegrityViolationException.class)\r\n        public ResponseEntity dataIntegrityViolantionException(final DataIntegrityViolationException e) {\r\n        ObjectMapper objectMapper = new ObjectMapper();\r\n        objectMapper.setDateFormat(df);\r\n        ErrorMessage errorMessage = new ErrorMessage();\r\n        String mostSpecificCauseMessage = e.getMostSpecificCause().getMessage();\r\n        if (e.getCause().getCause() instanceof SQLIntegrityConstraintViolationException) {\r\n            try {\r\n                String jsonMessage =  objectMapper.writeValueAsString(errorMessage.builder()\r\n                        .reasonCode(ErrorMessage.ReasonCode.NAME_ALREADY_EXISTS)\r\n                        .message(mostSpecificCauseMessage)\r\n                        .timeStamp(df.format(System.currentTimeMillis()))\r\n                        .build());\r\n                return new ResponseEntity&lt;&gt;(jsonMessage, HttpStatus.CONFLICT);\r\n            } catch (JsonProcessingException ex) {\r\n                throw new RuntimeException(ex);\r\n            }\r\n        }\r\n        return new ResponseEntity&lt;&gt;(&quot;Unknown Data Integrity Violation Exception with message : &quot; +mostSpecificCauseMessage, HttpStatus.UNPROCESSABLE_ENTITY);\r\n    }\r\n\r\nThe example [here][1] is very similar to what I want to do - however it does not show how to catch the exception on the controller *and* pass in the relevant instance of `HandlerMethod` so that I can add:\r\n\r\n        Class ControllerName = handlerMethod.getMethod().getDeclaringClass();\r\n        String MethodName = handlerMethod.getMethod().getName();\r\n\r\nController name and Method name to Error Message.\r\n\r\nIs it just a case of adding a try catch to the controller method and passing HandlerMethod as a parameter?\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/59824851/get-controller-name-and-java-service-path-in-controller-advice","title":"Controller Advice exception handling","body":"<p>In Spring Boot 3 I am using <code>Controller Advice</code> to handle a database uniqueness exception and create a custom error message which I can pass in JSON and log.</p>\n<p>I would like to add information from MethodHandler so I can also log/add to custom message the URI and Controller that had the exception.</p>\n<p>This is how it is setup so far:</p>\n<p><strong>Controller</strong></p>\n<pre><code>/**\n * Update Car (PUT)\n */\n@PutMapping(value = &quot;/{id}&quot;, consumes = &quot;application/json&quot;)\nResponseEntity&lt;CarCreateDto&gt; updateCarDto(@Valid @RequestBody CarCreateDto updateCar, @PathVariable Long id) {\n        CarCreateDto Car = CarService.updateCar(updateCar, id);\n        return new ResponseEntity&lt;&gt;(Car, HttpStatus.OK);\n    }\n}\n</code></pre>\n<p><strong>Exception Handler</strong></p>\n<pre><code>    @ExceptionHandler(DataIntegrityViolationException.class)\n    public ResponseEntity dataIntegrityViolantionException(final DataIntegrityViolationException e) {\n    ObjectMapper objectMapper = new ObjectMapper();\n    objectMapper.setDateFormat(df);\n    ErrorMessage errorMessage = new ErrorMessage();\n    String mostSpecificCauseMessage = e.getMostSpecificCause().getMessage();\n    if (e.getCause().getCause() instanceof SQLIntegrityConstraintViolationException) {\n        try {\n            String jsonMessage =  objectMapper.writeValueAsString(errorMessage.builder()\n                    .reasonCode(ErrorMessage.ReasonCode.NAME_ALREADY_EXISTS)\n                    .message(mostSpecificCauseMessage)\n                    .timeStamp(df.format(System.currentTimeMillis()))\n                    .build());\n            return new ResponseEntity&lt;&gt;(jsonMessage, HttpStatus.CONFLICT);\n        } catch (JsonProcessingException ex) {\n            throw new RuntimeException(ex);\n        }\n    }\n    return new ResponseEntity&lt;&gt;(&quot;Unknown Data Integrity Violation Exception with message : &quot; +mostSpecificCauseMessage, HttpStatus.UNPROCESSABLE_ENTITY);\n}\n</code></pre>\n<p>The example <a href=\"https://stackoverflow.com/questions/59824851/get-controller-name-and-java-service-path-in-controller-advice\">here</a> is very similar to what I want to do - however it does not show how to catch the exception on the controller <em>and</em> pass in the relevant instance of <code>HandlerMethod</code> so that I can add:</p>\n<pre><code>    Class ControllerName = handlerMethod.getMethod().getDeclaringClass();\n    String MethodName = handlerMethod.getMethod().getName();\n</code></pre>\n<p>Controller name and Method name to Error Message.</p>\n<p>Is it just a case of adding a try catch to the controller method and passing HandlerMethod as a parameter?</p>\n"},{"tags":["java","jpa","couchbase"],"comments":[{"owner":{"account_id":6514907,"reputation":483,"user_id":5041060,"display_name":"Laurent Doguin"},"score":2,"creation_date":1696248259,"post_id":77214877,"comment_id":136124676,"body_markdown":"Hello, could you please elaborate on the Structured part of your needs? Couchbase can run distributed SQL with JOINs and transaction support for instance. There is however no supported JPA project that I know of. The closest bit could be Spring Data Couchbase.","body":"Hello, could you please elaborate on the Structured part of your needs? Couchbase can run distributed SQL with JOINs and transaction support for instance. There is however no supported JPA project that I know of. The closest bit could be Spring Data Couchbase."},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":1,"creation_date":1696252447,"post_id":77214877,"comment_id":136125439,"body_markdown":"It would be simple entity beans. POJOs with at most a refernce to another enitity, but no inheritance or whatsoever. While I believe you are right, somehow I hoped there would be a JDBC driver that could be used underneath Hibernate or similar.","body":"It would be simple entity beans. POJOs with at most a refernce to another enitity, but no inheritance or whatsoever. While I believe you are right, somehow I hoped there would be a JDBC driver that could be used underneath Hibernate or similar."},{"owner":{"account_id":19444711,"reputation":399,"user_id":14222513,"display_name":"Michael Reiche"},"score":0,"creation_date":1698694930,"post_id":77214877,"comment_id":136435534,"body_markdown":"There is a Couchbase implementation of Spring Data","body":"There is a Couchbase implementation of Spring Data"}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1697698158,"creation_date":1696281703,"answer_id":77218547,"question_id":77214877,"body_markdown":"Meanwhile I found [Object-Relational Mapping with Couchbase Data Entities in Java][1]:\r\n\r\n&gt; You can use Hibernate to map object-oriented domain models to a\r\n&gt; traditional relational database. The tutorial below shows how to use\r\n&gt; the CData JDBC Driver for Couchbase to generate an ORM of your\r\n&gt; Couchbase repository with Hibernate.\r\n\r\nThe above claims to work on Hibernate, which itself is a JPA provider.\r\nIf it works I will prefer this solution over non-JPA solutions.\r\n\r\nWe found two commercially offered JDBC drivers for Couchbase: [CDATA][2] and [Simba][3]. Both of them did not cover our requirements so we dropped the idea of storing everything in Couchbase.\r\n\r\n\r\n  [1]: https://www.cdata.com/kb/tech/couchbase-jdbc-hibernate.rst\r\n  [2]: https://www.cdata.com/drivers/couchbase/jdbc/\r\n  [3]: https://insightsoftware.com/de/drivers/couchbase-odbc-jdbc/","title":"JPA with Couchbase?","body":"<p>Meanwhile I found <a href=\"https://www.cdata.com/kb/tech/couchbase-jdbc-hibernate.rst\" rel=\"nofollow noreferrer\">Object-Relational Mapping with Couchbase Data Entities in Java</a>:</p>\n<blockquote>\n<p>You can use Hibernate to map object-oriented domain models to a\ntraditional relational database. The tutorial below shows how to use\nthe CData JDBC Driver for Couchbase to generate an ORM of your\nCouchbase repository with Hibernate.</p>\n</blockquote>\n<p>The above claims to work on Hibernate, which itself is a JPA provider.\nIf it works I will prefer this solution over non-JPA solutions.</p>\n<p>We found two commercially offered JDBC drivers for Couchbase: <a href=\"https://www.cdata.com/drivers/couchbase/jdbc/\" rel=\"nofollow noreferrer\">CDATA</a> and <a href=\"https://insightsoftware.com/de/drivers/couchbase-odbc-jdbc/\" rel=\"nofollow noreferrer\">Simba</a>. Both of them did not cover our requirements so we dropped the idea of storing everything in Couchbase.</p>\n"}],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":77218547,"answer_count":1,"score":0,"last_activity_date":1697698158,"creation_date":1696242419,"question_id":77214877,"body_markdown":"I will create an application that needs both structured and unstructured data. For the unstructured part a relational database will be clumsy. When looking for options, I stumbled over Couchbase which seems to happily store the unstructured documents while it has SQL92 compatibility with N1QL. So now I am thinking whether Couchbase could cover the structured data requirements as well.\r\n\r\nHas anyone had success with the combination JPA and Couchbase?","title":"JPA with Couchbase?","body":"<p>I will create an application that needs both structured and unstructured data. For the unstructured part a relational database will be clumsy. When looking for options, I stumbled over Couchbase which seems to happily store the unstructured documents while it has SQL92 compatibility with N1QL. So now I am thinking whether Couchbase could cover the structured data requirements as well.</p>\n<p>Has anyone had success with the combination JPA and Couchbase?</p>\n"},{"tags":["java","file-io","jar"],"comments":[{"owner":{"account_id":63162,"reputation":102381,"user_id":187141,"accept_rate":82,"display_name":"yegor256"},"score":0,"creation_date":1369942441,"post_id":3369794,"comment_id":24290068,"body_markdown":"see http://stackoverflow.com/questions/16842306","body":"see <a href=\"http://stackoverflow.com/questions/16842306\">stackoverflow.com/questions/16842306</a>"},{"owner":{"account_id":4745627,"reputation":5635,"user_id":3837078,"accept_rate":73,"display_name":"Michael Hegner"},"score":0,"creation_date":1475424155,"post_id":3369794,"comment_id":66927893,"body_markdown":"If you want to read files from a directory in jar with any numbers for files, see [Stackoverflow-Link](https://stackoverflow.com/questions/26185137/spring-boot-resource-not-found-when-using-executeable-jar/39818817#39818817)","body":"If you want to read files from a directory in jar with any numbers for files, see <a href=\"https://stackoverflow.com/questions/26185137/spring-boot-resource-not-found-when-using-executeable-jar/39818817#39818817\">Stackoverflow-Link</a>"}],"answers":[{"tags":[],"owner":{"account_id":10987,"reputation":50685,"user_id":21005,"accept_rate":78,"display_name":"Mnementh"},"down_vote_count":0,"up_vote_count":110,"is_accepted":false,"score":110,"last_activity_date":1671918537,"creation_date":1280481046,"answer_id":3370096,"question_id":3369794,"body_markdown":"If you want to read that file from inside your application use:\r\n\r\n    InputStream input = getClass().getResourceAsStream(&quot;/classpath/to/my/file&quot;);\r\n\r\nThe path starts with &quot;/&quot;, but that is not the path in your file-system, but in your classpath. So if your file is at the classpath &quot;org.xml&quot; and is called myxml.xml your path looks like &quot;/org/xml/myxml.xml&quot;.\r\n\r\nThe InputStream reads the content of your file. You can wrap it into an Reader, if you want.","title":"How to read a file from jar in Java?","body":"<p>If you want to read that file from inside your application use:</p>\n<pre><code>InputStream input = getClass().getResourceAsStream(&quot;/classpath/to/my/file&quot;);\n</code></pre>\n<p>The path starts with &quot;/&quot;, but that is not the path in your file-system, but in your classpath. So if your file is at the classpath &quot;org.xml&quot; and is called myxml.xml your path looks like &quot;/org/xml/myxml.xml&quot;.</p>\n<p>The InputStream reads the content of your file. You can wrap it into an Reader, if you want.</p>\n"},{"tags":[],"owner":{"account_id":168831,"reputation":886,"user_id":394525,"display_name":"simontuffs"},"down_vote_count":0,"up_vote_count":60,"is_accepted":false,"score":60,"last_activity_date":1490807430,"creation_date":1280539387,"answer_id":3376393,"question_id":3369794,"body_markdown":"Ah, this is one of my favorite subjects. There are essentially two ways you can load a resource through the classpath: \r\n\r\n&lt;!-- language-all: lang-java --&gt;\r\n\r\n    Class.getResourceAsStream(resource)\r\n\r\nand\r\n\r\n    ClassLoader.getResourceAsStream(resource)\r\n\r\n(there are other ways which involve getting a URL for the resource in a similar fashion, then opening a connection to it, but these are the two direct ways).\r\n\r\nThe first method actually delegates to the second, after mangling the resource name. There are essentially two kinds of resource names: absolute (e.g. &quot;/path/to/resource/resource&quot;) and relative (e.g. &quot;resource&quot;).  Absolute paths start with &quot;/&quot;.  \r\n\r\nHere&#39;s an example which should illustrate.  Consider a class com.example.A.  Consider two resources, one located at /com/example/nested, the other at /top, in the classpath.  The following program shows nine possible ways to access the two resources:\r\n\r\n&lt;pre&gt;\r\npackage com.example;\r\n\r\npublic class A {\r\n    \r\n    public static void main(String args[]) {\r\n        \r\n        // Class.getResourceAsStream\r\n        Object resource = A.class.getResourceAsStream(&quot;nested&quot;);\r\n        System.out.println(&quot;1: A.class nested=&quot; + resource);\r\n        \r\n        resource = A.class.getResourceAsStream(&quot;/com/example/nested&quot;);\r\n        System.out.println(&quot;2: A.class /com/example/nested=&quot; + resource);\r\n        \r\n        resource = A.class.getResourceAsStream(&quot;top&quot;);\r\n        System.out.println(&quot;3: A.class top=&quot; + resource);\r\n        \r\n        resource = A.class.getResourceAsStream(&quot;/top&quot;);\r\n        System.out.println(&quot;4: A.class /top=&quot; + resource);\r\n\r\n        // ClassLoader.getResourceAsStream\r\n        ClassLoader cl = A.class.getClassLoader();\r\n        resource = cl.getResourceAsStream(&quot;nested&quot;);        \r\n        System.out.println(&quot;5: cl nested=&quot; + resource);\r\n\r\n        resource = cl.getResourceAsStream(&quot;/com/example/nested&quot;);\r\n        System.out.println(&quot;6: cl /com/example/nested=&quot; + resource);\r\n        resource = cl.getResourceAsStream(&quot;com/example/nested&quot;);\r\n        System.out.println(&quot;7: cl com/example/nested=&quot; + resource);\r\n\r\n        resource = cl.getResourceAsStream(&quot;top&quot;);\r\n        System.out.println(&quot;8: cl top=&quot; + resource);\r\n        \r\n        resource = cl.getResourceAsStream(&quot;/top&quot;);\r\n        System.out.println(&quot;9: cl /top=&quot; + resource);\r\n    }\r\n\r\n}\r\n&lt;/pre&gt;\r\n\r\nThe output from the program is:\r\n\r\n&lt;pre&gt;\r\n1: A.class nested=java.io.BufferedInputStream@19821f\r\n2: A.class /com/example/nested=java.io.BufferedInputStream@addbf1\r\n3: A.class top=null\r\n4: A.class /top=java.io.BufferedInputStream@42e816\r\n5: cl nested=null\r\n6: cl /com/example/nested=null\r\n7: cl com/example/nested=java.io.BufferedInputStream@9304b1\r\n8: cl top=java.io.BufferedInputStream@190d11\r\n9: cl /top=null\r\n&lt;/pre&gt;\r\n\r\nMostly things do what you&#39;d expect.  Case-3 fails because class relative resolving is with respect to the Class, so &quot;top&quot; means &quot;/com/example/top&quot;, but &quot;/top&quot; means what it says.\r\n\r\nCase-5 fails because classloader relative resolving is with respect to the classloader. But, unexpectedly Case-6 also fails: one might expect &quot;/com/example/nested&quot; to resolve properly.  To access a nested resource through the classloader you need to use Case-7, i.e. the nested path is relative to the root of the classloader.  Likewise Case-9 fails, but Case-8 passes.\r\n\r\nRemember: for java.lang.Class, getResourceAsStream() does delegate to the classloader:\r\n\r\n&lt;pre&gt;\r\n     public InputStream getResourceAsStream(String name) {\r\n        name = resolveName(name);\r\n        ClassLoader cl = getClassLoader0();\r\n        if (cl==null) {\r\n            // A system class.\r\n            return ClassLoader.getSystemResourceAsStream(name);\r\n        }\r\n        return cl.getResourceAsStream(name);\r\n    }\r\n&lt;/pre&gt;\r\n\r\nso it is the behavior of resolveName() that is important.  \r\n\r\nFinally, since it is the behavior of the classloader that loaded the class that essentially controls getResourceAsStream(), and the classloader is often a custom loader, then the resource-loading rules may be even more complex.  e.g. for Web-Applications,  load from WEB-INF/classes or WEB-INF/lib in the context of the web application, but not from other web-applications which are isolated.  Also, well-behaved classloaders delegate to parents, so that duplicateed resources in the classpath may not be accessible using this mechanism.","title":"How to read a file from jar in Java?","body":"<p>Ah, this is one of my favorite subjects. There are essentially two ways you can load a resource through the classpath: </p>\n\n\n\n<pre class=\"lang-java prettyprint-override\"><code>Class.getResourceAsStream(resource)\n</code></pre>\n\n<p>and</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>ClassLoader.getResourceAsStream(resource)\n</code></pre>\n\n<p>(there are other ways which involve getting a URL for the resource in a similar fashion, then opening a connection to it, but these are the two direct ways).</p>\n\n<p>The first method actually delegates to the second, after mangling the resource name. There are essentially two kinds of resource names: absolute (e.g. \"/path/to/resource/resource\") and relative (e.g. \"resource\").  Absolute paths start with \"/\".  </p>\n\n<p>Here's an example which should illustrate.  Consider a class com.example.A.  Consider two resources, one located at /com/example/nested, the other at /top, in the classpath.  The following program shows nine possible ways to access the two resources:</p>\n\n<pre>\npackage com.example;\n\npublic class A {\n\n    public static void main(String args[]) {\n\n        // Class.getResourceAsStream\n        Object resource = A.class.getResourceAsStream(\"nested\");\n        System.out.println(\"1: A.class nested=\" + resource);\n\n        resource = A.class.getResourceAsStream(\"/com/example/nested\");\n        System.out.println(\"2: A.class /com/example/nested=\" + resource);\n\n        resource = A.class.getResourceAsStream(\"top\");\n        System.out.println(\"3: A.class top=\" + resource);\n\n        resource = A.class.getResourceAsStream(\"/top\");\n        System.out.println(\"4: A.class /top=\" + resource);\n\n        // ClassLoader.getResourceAsStream\n        ClassLoader cl = A.class.getClassLoader();\n        resource = cl.getResourceAsStream(\"nested\");        \n        System.out.println(\"5: cl nested=\" + resource);\n\n        resource = cl.getResourceAsStream(\"/com/example/nested\");\n        System.out.println(\"6: cl /com/example/nested=\" + resource);\n        resource = cl.getResourceAsStream(\"com/example/nested\");\n        System.out.println(\"7: cl com/example/nested=\" + resource);\n\n        resource = cl.getResourceAsStream(\"top\");\n        System.out.println(\"8: cl top=\" + resource);\n\n        resource = cl.getResourceAsStream(\"/top\");\n        System.out.println(\"9: cl /top=\" + resource);\n    }\n\n}\n</pre>\n\n<p>The output from the program is:</p>\n\n<pre>\n1: A.class nested=java.io.BufferedInputStream@19821f\n2: A.class /com/example/nested=java.io.BufferedInputStream@addbf1\n3: A.class top=null\n4: A.class /top=java.io.BufferedInputStream@42e816\n5: cl nested=null\n6: cl /com/example/nested=null\n7: cl com/example/nested=java.io.BufferedInputStream@9304b1\n8: cl top=java.io.BufferedInputStream@190d11\n9: cl /top=null\n</pre>\n\n<p>Mostly things do what you'd expect.  Case-3 fails because class relative resolving is with respect to the Class, so \"top\" means \"/com/example/top\", but \"/top\" means what it says.</p>\n\n<p>Case-5 fails because classloader relative resolving is with respect to the classloader. But, unexpectedly Case-6 also fails: one might expect \"/com/example/nested\" to resolve properly.  To access a nested resource through the classloader you need to use Case-7, i.e. the nested path is relative to the root of the classloader.  Likewise Case-9 fails, but Case-8 passes.</p>\n\n<p>Remember: for java.lang.Class, getResourceAsStream() does delegate to the classloader:</p>\n\n<pre>\n     public InputStream getResourceAsStream(String name) {\n        name = resolveName(name);\n        ClassLoader cl = getClassLoader0();\n        if (cl==null) {\n            // A system class.\n            return ClassLoader.getSystemResourceAsStream(name);\n        }\n        return cl.getResourceAsStream(name);\n    }\n</pre>\n\n<p>so it is the behavior of resolveName() that is important.  </p>\n\n<p>Finally, since it is the behavior of the classloader that loaded the class that essentially controls getResourceAsStream(), and the classloader is often a custom loader, then the resource-loading rules may be even more complex.  e.g. for Web-Applications,  load from WEB-INF/classes or WEB-INF/lib in the context of the web application, but not from other web-applications which are isolated.  Also, well-behaved classloaders delegate to parents, so that duplicateed resources in the classpath may not be accessible using this mechanism.</p>\n"},{"tags":[],"owner":{"account_id":1955435,"reputation":457,"user_id":1758517,"display_name":"Tristan Everitt"},"down_vote_count":2,"up_vote_count":7,"is_accepted":false,"score":5,"last_activity_date":1350996331,"creation_date":1350996331,"answer_id":13030711,"question_id":3369794,"body_markdown":"A JAR is basically a ZIP file so treat it as such.  Below contains an example on how to extract one file from a WAR file (also treat it as a ZIP file) and outputs the string contents.  For binary you&#39;ll need to modify the extraction process, but there are plenty of examples out there for that.  \r\n\r\n    public static void main(String args[]) {\r\n\t\tString relativeFilePath = &quot;style/someCSSFile.css&quot;;\r\n\t\tString zipFilePath = &quot;/someDirectory/someWarFile.war&quot;;\r\n\t\tString contents = readZipFile(zipFilePath,relativeFilePath);\r\n\t\tSystem.out.println(contents);\r\n\t}\r\n\r\n    public static String readZipFile(String zipFilePath, String relativeFilePath) {\r\n\t\ttry {\r\n\t\t\tZipFile zipFile = new ZipFile(zipFilePath);\r\n\t\t\tEnumeration&lt;? extends ZipEntry&gt; e = zipFile.entries();\r\n\r\n\t\t\twhile (e.hasMoreElements()) {\r\n\t\t\t\tZipEntry entry = (ZipEntry) e.nextElement();\r\n\t\t\t\t// if the entry is not directory and matches relative file then extract it\r\n\t\t\t\tif (!entry.isDirectory() &amp;&amp; entry.getName().equals(relativeFilePath)) {\r\n\t\t\t\t\tBufferedInputStream bis = new BufferedInputStream(\r\n\t\t\t\t\t\t\tzipFile.getInputStream(entry));\r\n\t\t\t\t\t// Read the file\r\n\t\t\t\t\t\t// With Apache Commons I/O\r\n\t\t\t\t\t String fileContentsStr = IOUtils.toString(bis, &quot;UTF-8&quot;);\r\n\t\t\t\t\t\r\n\t\t\t\t\t \t// With Guava\r\n\t\t\t\t\t//String fileContentsStr = new String(ByteStreams.toByteArray(bis),Charsets.UTF_8);\r\n\t\t\t\t\t// close the input stream.\r\n\t\t\t\t\tbis.close();\r\n\t\t\t\t\treturn fileContentsStr;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} catch (IOException e) {\r\n\t\t\tlogger.error(&quot;IOError :&quot; + e);\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\r\n\r\nIn this example I&#39;m using Apache Commons I/O and if you are using Maven here is the dependency:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;commons-io&lt;/groupId&gt;\r\n        &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\r\n        &lt;version&gt;2.4&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"How to read a file from jar in Java?","body":"<p>A JAR is basically a ZIP file so treat it as such.  Below contains an example on how to extract one file from a WAR file (also treat it as a ZIP file) and outputs the string contents.  For binary you'll need to modify the extraction process, but there are plenty of examples out there for that.  </p>\n\n<pre><code>public static void main(String args[]) {\n    String relativeFilePath = \"style/someCSSFile.css\";\n    String zipFilePath = \"/someDirectory/someWarFile.war\";\n    String contents = readZipFile(zipFilePath,relativeFilePath);\n    System.out.println(contents);\n}\n\npublic static String readZipFile(String zipFilePath, String relativeFilePath) {\n    try {\n        ZipFile zipFile = new ZipFile(zipFilePath);\n        Enumeration&lt;? extends ZipEntry&gt; e = zipFile.entries();\n\n        while (e.hasMoreElements()) {\n            ZipEntry entry = (ZipEntry) e.nextElement();\n            // if the entry is not directory and matches relative file then extract it\n            if (!entry.isDirectory() &amp;&amp; entry.getName().equals(relativeFilePath)) {\n                BufferedInputStream bis = new BufferedInputStream(\n                        zipFile.getInputStream(entry));\n                // Read the file\n                    // With Apache Commons I/O\n                 String fileContentsStr = IOUtils.toString(bis, \"UTF-8\");\n\n                    // With Guava\n                //String fileContentsStr = new String(ByteStreams.toByteArray(bis),Charsets.UTF_8);\n                // close the input stream.\n                bis.close();\n                return fileContentsStr;\n            } else {\n                continue;\n            }\n        }\n    } catch (IOException e) {\n        logger.error(\"IOError :\" + e);\n        e.printStackTrace();\n    }\n    return null;\n}\n</code></pre>\n\n<p>In this example I'm using Apache Commons I/O and if you are using Maven here is the dependency:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;commons-io&lt;/groupId&gt;\n    &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n    &lt;version&gt;2.4&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2356177,"reputation":131,"user_id":2063915,"display_name":"hothead"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1360655745,"creation_date":1360655745,"answer_id":14827897,"question_id":3369794,"body_markdown":"Check first your class loader.&lt;br/&gt;\r\n\r\n    ClassLoader classLoader = Thread.currentThread().getContextClassLoader();\r\n    \r\n    if (classLoader == null) {\r\n        classLoader = Class.class.getClassLoader();\r\n    }\r\n\r\n    classLoader.getResourceAsStream(&quot;xmlFileNameInJarFile.xml&quot;);\r\n\r\n    // xml file location at xxx.jar\r\n    // + folder\r\n    // + folder\r\n    // xmlFileNameInJarFile.xml","title":"How to read a file from jar in Java?","body":"<p>Check first your class loader.<br/></p>\n\n<pre><code>ClassLoader classLoader = Thread.currentThread().getContextClassLoader();\n\nif (classLoader == null) {\n    classLoader = Class.class.getClassLoader();\n}\n\nclassLoader.getResourceAsStream(\"xmlFileNameInJarFile.xml\");\n\n// xml file location at xxx.jar\n// + folder\n// + folder\n// xmlFileNameInJarFile.xml\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2297139,"reputation":383,"user_id":2018314,"display_name":"he1ix"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1414685273,"creation_date":1414685273,"answer_id":26657913,"question_id":3369794,"body_markdown":"Just for completeness, there has recently been a [question][1] on the Jython mailinglist where one of the answers referred to this thread.\r\n\r\nThe question was how to call a Python script that is contained in a .jar file from within Jython, the suggested answer is as follows (with &quot;InputStream&quot; as explained in one of the answers above:\r\n\r\n    PythonInterpreter.execfile(InputStream)\r\n\r\n\r\n  [1]: http://sourceforge.net/p/jython/mailman/message/32952388/","title":"How to read a file from jar in Java?","body":"<p>Just for completeness, there has recently been a <a href=\"http://sourceforge.net/p/jython/mailman/message/32952388/\" rel=\"nofollow\">question</a> on the Jython mailinglist where one of the answers referred to this thread.</p>\n\n<p>The question was how to call a Python script that is contained in a .jar file from within Jython, the suggested answer is as follows (with \"InputStream\" as explained in one of the answers above:</p>\n\n<pre><code>PythonInterpreter.execfile(InputStream)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13258666,"reputation":326,"user_id":9573943,"display_name":"Inanc Cakil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638094478,"creation_date":1638094478,"answer_id":70142418,"question_id":3369794,"body_markdown":"This also works on spring\r\n\r\n        ClassPathResource resource = new ClassPathResource(&quot;/file.txt&quot;, MainApplication.class); //resources folder\r\n        InputStream inputStream = resource.getInputStream();\r\n\r\n        File file = new File(&quot;file.txt&quot;);\r\n        FileUtils.copyInputStreamToFile(inputStream, file);","title":"How to read a file from jar in Java?","body":"<p>This also works on spring</p>\n<pre><code>    ClassPathResource resource = new ClassPathResource(&quot;/file.txt&quot;, MainApplication.class); //resources folder\n    InputStream inputStream = resource.getInputStream();\n\n    File file = new File(&quot;file.txt&quot;);\n    FileUtils.copyInputStreamToFile(inputStream, file);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4900086,"reputation":3091,"user_id":3948697,"accept_rate":67,"display_name":"Atul"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697697786,"creation_date":1697697786,"answer_id":77321500,"question_id":3369794,"body_markdown":"This is how I read a file from a jar. \r\n\r\nThe file which I want to read is outside the jar, under the resources folder of a application.\r\n\r\n    try(InputStream inputStream = this.getClass()\r\n                    .getClassLoader()\r\n                    .getResourceAsStream(&quot;common/test.yaml&quot;)) {\r\n                //Your code\r\n            } catch (Exception e) {\r\n                LOGGER.error(e);\r\n            }\r\n\r\nAs I said the file is under resources folder and I have sub folders as well.","title":"How to read a file from jar in Java?","body":"<p>This is how I read a file from a jar.</p>\n<p>The file which I want to read is outside the jar, under the resources folder of a application.</p>\n<pre><code>try(InputStream inputStream = this.getClass()\n                .getClassLoader()\n                .getResourceAsStream(&quot;common/test.yaml&quot;)) {\n            //Your code\n        } catch (Exception e) {\n            LOGGER.error(e);\n        }\n</code></pre>\n<p>As I said the file is under resources folder and I have sub folders as well.</p>\n"}],"owner":{"account_id":117025,"reputation":5019,"user_id":306643,"accept_rate":76,"display_name":"kandarp"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":156998,"favorite_count":0,"down_vote_count":0,"up_vote_count":67,"answer_count":7,"score":67,"last_activity_date":1697697786,"creation_date":1280478452,"question_id":3369794,"body_markdown":"I want to read an XML file that is located inside one of the `jar`s included in my class path. How can I read any file which is included in the `jar`?","title":"How to read a file from jar in Java?","body":"<p>I want to read an XML file that is located inside one of the <code>jar</code>s included in my class path. How can I read any file which is included in the <code>jar</code>?</p>\n"},{"tags":["java","unit-testing","junit","jmockit","junit-jupiter"],"owner":{"account_id":27176183,"reputation":15,"user_id":20712128,"display_name":"Thejas Jain M j"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697697636,"creation_date":1697634901,"question_id":77316669,"body_markdown":"jmockit i am using in junit tests to mock object. jmockit version 1.24 is working fine with java 8. And then i upgraded from java 8 to java 11  then test cases are failing with error \r\nTests run: 1, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 0.001 s &lt;&lt;&lt; FAILURE! - in com.accurev.gitserver.fw.parsers.ValidationParserTest\r\ncom.accurev.gitserver.fw.parsers.ValidationParserTest  Time elapsed: 0.001 s  &lt;&lt;&lt; ERROR!\r\njava.lang.NoClassDefFoundError: mockit.MockUp\r\n\tat com.accurev.gitserver.fw.parsers.ValidationParserTest.setUp(ValidationParserTest.java:50)\r\n\r\nIt&#39;s telling NoClassDefFoundError but if jmockit jar is there in maven dependency and in classpath also MockUp.java class is there.\r\n\r\n```\r\n&lt;junit.jupiter.version&gt;5.6.0&lt;/junit.jupiter.version&gt;\r\n&lt;junit.platform.version&gt;1.5.2&lt;/junit.platform.version&gt;\r\n&lt;jmockit.version&gt;1.49&lt;/jmockit.version&gt;\r\n\r\n\r\n&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${junit.jupiter.version}&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.junit.platform/junit-platform-runner --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;junit-platform-runner&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${junit.platform.version}&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.21.0&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mockito-junit-jupiter&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.23.0&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.jmockit&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jmockit&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${jmockit.version}&lt;/version&gt;\r\n\t\t\t\r\n\t\t&lt;/dependency&gt;\r\n\r\n                             &lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;2.22.2&lt;/version&gt;\r\n                             &lt;/plugin&gt;\r\n\t\t\r\n```\r\n\r\n\r\nI tried updating the jmockit version from 1.24 to 1.45. But in latest verson they deprecated the tearDown() method to remove instance. So i commented it out where tearDown() method used as it is not necessary. But still failing with same above error like NoClassDefFoundError. Is jmockit plugin works with java 11. Is there any other things need to upgrade.","title":"jmockit issue with java 11","body":"<p>jmockit i am using in junit tests to mock object. jmockit version 1.24 is working fine with java 8. And then i upgraded from java 8 to java 11  then test cases are failing with error\nTests run: 1, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 0.001 s &lt;&lt;&lt; FAILURE! - in com.accurev.gitserver.fw.parsers.ValidationParserTest\ncom.accurev.gitserver.fw.parsers.ValidationParserTest  Time elapsed: 0.001 s  &lt;&lt;&lt; ERROR!\njava.lang.NoClassDefFoundError: mockit.MockUp\nat com.accurev.gitserver.fw.parsers.ValidationParserTest.setUp(ValidationParserTest.java:50)</p>\n<p>It's telling NoClassDefFoundError but if jmockit jar is there in maven dependency and in classpath also MockUp.java class is there.</p>\n<pre><code>&lt;junit.jupiter.version&gt;5.6.0&lt;/junit.jupiter.version&gt;\n&lt;junit.platform.version&gt;1.5.2&lt;/junit.platform.version&gt;\n&lt;jmockit.version&gt;1.49&lt;/jmockit.version&gt;\n\n\n&lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n            &lt;version&gt;${junit.jupiter.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.junit.platform/junit-platform-runner --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-platform-runner&lt;/artifactId&gt;\n            &lt;version&gt;${junit.platform.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n            &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\n            &lt;version&gt;2.21.0&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n            &lt;artifactId&gt;mockito-junit-jupiter&lt;/artifactId&gt;\n            &lt;version&gt;2.23.0&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jmockit&lt;/groupId&gt;\n            &lt;artifactId&gt;jmockit&lt;/artifactId&gt;\n            &lt;version&gt;${jmockit.version}&lt;/version&gt;\n            \n        &lt;/dependency&gt;\n\n                             &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.22.2&lt;/version&gt;\n                             &lt;/plugin&gt;\n        \n</code></pre>\n<p>I tried updating the jmockit version from 1.24 to 1.45. But in latest verson they deprecated the tearDown() method to remove instance. So i commented it out where tearDown() method used as it is not necessary. But still failing with same above error like NoClassDefFoundError. Is jmockit plugin works with java 11. Is there any other things need to upgrade.</p>\n"},{"tags":["java","permission-denied","java-security-manager"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1697698460,"post_id":77321478,"comment_id":136313038,"body_markdown":"*I am trying to understand how SecurityManager work* Don&#39;t do it. The `SecurityManager` is `Deprecated` https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/SecurityManager.html","body":"<i>I am trying to understand how SecurityManager work</i> Don&#39;t do it. The <code>SecurityManager</code> is <code>Deprecated</code> <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/SecurityManager.html\" rel=\"nofollow noreferrer\">docs.oracle.com/en/java/javase/17/docs/api/java.base/java/la&zwnj;&#8203;ng/&hellip;</a>"},{"owner":{"account_id":15204830,"reputation":1,"user_id":22592950,"display_name":"Štefan Starosta"},"score":0,"creation_date":1697702920,"post_id":77321478,"comment_id":136313821,"body_markdown":"I know but its still part of OCP11 certificate","body":"I know but its still part of OCP11 certificate"}],"owner":{"account_id":15204830,"reputation":1,"user_id":22592950,"display_name":"Štefan Starosta"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697697545,"creation_date":1697697545,"question_id":77321478,"body_markdown":"I am trying to understand how SecurityManager works so I made example to test it. however I am getting exceptions\r\n\r\nthis is class file\r\n\r\n```\r\n\r\npublic class FilePermissionChecker2 {\r\n    public static void main(String[] args) {\r\n        String filePath = &quot;c:\\\\file.txt&quot;;\r\n        Permission perm = new FilePermission(filePath, &quot;read,write&quot;);\r\n        PermissionCollection perms = perm.newPermissionCollection();\r\n\r\n        perms.add(perm);\r\n\r\n        boolean hasPermission = AccessController.doPrivileged(new PrivilegedAction&lt;Boolean&gt;() {\r\n            @Override\r\n            public Boolean run() {\r\n                // Check file permissions here\r\n                File file = new File(filePath);\r\n                if (file.exists() &amp;&amp; file.canRead() &amp;&amp; file.canWrite()) {\r\n                    return true;\r\n                } else {\r\n                    return false;\r\n                }\r\n            }\r\n        }, new AccessControlContext(\r\n                new ProtectionDomain[]{\r\n                        new ProtectionDomain(null, perms)\r\n                }\r\n        ));\r\n\r\n        if (hasPermission) {\r\n            System.out.println(&quot;You have the necessary file permissions.&quot;);\r\n        } else {\r\n            System.out.println(&quot;You do not have the necessary file permissions.&quot;);\r\n        }\r\n\r\n    }\r\n}\r\n\r\n```\r\n\r\nthis is my custom policy file\r\n```\r\ngrant {\r\n    permission java.io.FilePermission &quot;c:\\\\file.txt&quot;, &quot;read, write&quot;;\r\n};\r\n```\r\n\r\nand this is my VM options which I added in intellij as VM options parameter\r\n`-Djava.security.manager -Djava.security.policy=...pathToPolicy...\\policy\\custom.policy`\r\n\r\n\r\nI would expect this code to work I tried different variations but I am still getting this exception\r\nException in thread &quot;main&quot; java.security.AccessControlException: access denied (&quot;java.io.FilePermission&quot; &quot;c:\\file.txt&quot; &quot;read&quot;)\r\n\r\ndoes anyone have idea what is wrong?\r\n\r\n- I tried different combinations in custom policy\r\n- I tried different combinations in FilePermissions\r\n- I would expect that securityManager would check what permissions I have based on custom policy and FilePermission would add intersection of these permissions. which means if there is read and write in policy and read and write in FilePermission I would be able to read and write. but If there would be only read in FilePermission I would have only read permissions","title":"Java SecurityManager with custom policy file does not work as expected","body":"<p>I am trying to understand how SecurityManager works so I made example to test it. however I am getting exceptions</p>\n<p>this is class file</p>\n<pre><code>\npublic class FilePermissionChecker2 {\n    public static void main(String[] args) {\n        String filePath = &quot;c:\\\\file.txt&quot;;\n        Permission perm = new FilePermission(filePath, &quot;read,write&quot;);\n        PermissionCollection perms = perm.newPermissionCollection();\n\n        perms.add(perm);\n\n        boolean hasPermission = AccessController.doPrivileged(new PrivilegedAction&lt;Boolean&gt;() {\n            @Override\n            public Boolean run() {\n                // Check file permissions here\n                File file = new File(filePath);\n                if (file.exists() &amp;&amp; file.canRead() &amp;&amp; file.canWrite()) {\n                    return true;\n                } else {\n                    return false;\n                }\n            }\n        }, new AccessControlContext(\n                new ProtectionDomain[]{\n                        new ProtectionDomain(null, perms)\n                }\n        ));\n\n        if (hasPermission) {\n            System.out.println(&quot;You have the necessary file permissions.&quot;);\n        } else {\n            System.out.println(&quot;You do not have the necessary file permissions.&quot;);\n        }\n\n    }\n}\n\n</code></pre>\n<p>this is my custom policy file</p>\n<pre><code>grant {\n    permission java.io.FilePermission &quot;c:\\\\file.txt&quot;, &quot;read, write&quot;;\n};\n</code></pre>\n<p>and this is my VM options which I added in intellij as VM options parameter\n<code>-Djava.security.manager -Djava.security.policy=...pathToPolicy...\\policy\\custom.policy</code></p>\n<p>I would expect this code to work I tried different variations but I am still getting this exception\nException in thread &quot;main&quot; java.security.AccessControlException: access denied (&quot;java.io.FilePermission&quot; &quot;c:\\file.txt&quot; &quot;read&quot;)</p>\n<p>does anyone have idea what is wrong?</p>\n<ul>\n<li>I tried different combinations in custom policy</li>\n<li>I tried different combinations in FilePermissions</li>\n<li>I would expect that securityManager would check what permissions I have based on custom policy and FilePermission would add intersection of these permissions. which means if there is read and write in policy and read and write in FilePermission I would be able to read and write. but If there would be only read in FilePermission I would have only read permissions</li>\n</ul>\n"},{"tags":["java","network-programming","okhttp"],"comments":[{"owner":{"account_id":1481915,"reputation":12601,"user_id":1542667,"accept_rate":75,"display_name":"Yuri Schimke"},"score":0,"creation_date":1698644996,"post_id":77321451,"comment_id":136426777,"body_markdown":"The docs are here https://square.github.io/okhttp/features/events/\n\nconnectionReleased doesn&#39;t say much about your request. When you request finishes, the connection will be released back to the ConnectionPool for reuse. If it is unhealthy it will also be closed.\n\nBut you should be looking for why your request failed.","body":"The docs are here <a href=\"https://square.github.io/okhttp/features/events/\" rel=\"nofollow noreferrer\">square.github.io/okhttp/features/events</a>  connectionReleased doesn&#39;t say much about your request. When you request finishes, the connection will be released back to the ConnectionPool for reuse. If it is unhealthy it will also be closed.  But you should be looking for why your request failed."}],"owner":{"account_id":11494379,"reputation":31,"user_id":8424235,"display_name":"Mohammed Abbas Ali"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1697697320,"creation_date":1697697320,"question_id":77321451,"body_markdown":"My Java 8 application is using OkHttp3 to make N HTTP calls to an endpoint. Consider there&#39;s some work in a queue, and some M threads are dequeueing, parsing the work and firing HTTP calls. Around 40% of the initial calls go to the endpoint, and the application gets a response. Then the application starts getting timeouts. \r\nI enabled some logging via event listeners and got these 2 samples\r\n\r\n### Successful call \r\n\r\n```\r\n12:51:25.833 [pool-1-thread-28] INFO callStart : 76089 : time=0 for id=974745017410\r\n12:51:25.833 [pool-1-thread-28] INFO connectionAcquired : 76177 : time=0 for id=974745017410\r\n12:51:25.833 [pool-1-thread-28] INFO requestHeadersStart : 76178 : time=0 for id=974745017410\r\n12:51:25.833 [pool-1-thread-28] INFO requestHeadersEnd : 76178 : time=0 for id=974745017410\r\n12:51:25.833 [pool-1-thread-28] INFO requestBodyStart : 76178 : time=0 for id=974745017410\r\n12:51:25.833 [pool-1-thread-28] INFO requestBodyEnd : 76178 : time=0 for id=974745017410\r\n12:51:26.137 [pool-1-thread-28] INFO responseBodyStart : 74586 : time=304 for id=974745017410\r\n12:51:26.137 [pool-1-thread-28] INFO responseBodyEnd : 74586 : time=0 for id=974745017410\r\n12:51:26.137 [pool-1-thread-28] INFO connectionReleased : 76177 : time=0 for id=974745017410\r\n12:51:26.137 [pool-1-thread-28] INFO callEnd : 74586 : time=0 for id=974745017410\r\n```\r\nHere we can see all the events got printed, and the network call latency was 304ms\r\n\r\n### Timed out call\r\n```\r\n12:51:16.134 [pool-1-thread-55] INFO callStart : 76088 : time=0 for id=258173443243\r\n12:51:16.134 [pool-1-thread-55] INFO connectionAcquired : 76176 : time=0 for id=258173443243\r\n12:51:16.134 [pool-1-thread-55] INFO requestHeadersStart : 76177 : time=0 for id=258173443243\r\n12:51:16.134 [pool-1-thread-55] INFO requestHeadersEnd : 76177 : time=0 for id=258173443243\r\n12:51:16.134 [pool-1-thread-55] INFO requestBodyStart : 76177 : time=0 for id=258173443243\r\n12:51:16.134 [pool-1-thread-55] INFO requestBodyEnd : 76177 : time=0 for id=258173443243\r\n12:51:26.134 [pool-1-thread-55] INFO connectionReleased : 76176 : time=10000 for id=258173443243\r\n```\r\n\r\nThere isn&#39;t enough documentation on connectionReleased event, and what it denotes.\r\n1. I am trying to understand what connectionReleased event is. \r\n2. In the timed out call, I see the responseBodyStart and responseBodyEnd is missing. \r\n   a. Does this denote that the server never returned a response. \r\n   b. Are there some other events to find if the client was just overloaded to read the response from the server\r\n\r\nI am using version 4.9.2 of OkHttp3. Consider the server as infinitely scalable. It returns a rate-limit exceeded error when it can&#39;t handle any more requests. My application is sending only 15% of requests that the server could handle \r\n\r\n\r\nI tried setting a custom connection pool with maxIdleConnections as many as the threads as the application is using, but ran into the same problem\r\n","title":"OkHttp3 Debugging network latency via event listeners - connectionReleased event","body":"<p>My Java 8 application is using OkHttp3 to make N HTTP calls to an endpoint. Consider there's some work in a queue, and some M threads are dequeueing, parsing the work and firing HTTP calls. Around 40% of the initial calls go to the endpoint, and the application gets a response. Then the application starts getting timeouts.\nI enabled some logging via event listeners and got these 2 samples</p>\n<h3>Successful call</h3>\n<pre><code>12:51:25.833 [pool-1-thread-28] INFO callStart : 76089 : time=0 for id=974745017410\n12:51:25.833 [pool-1-thread-28] INFO connectionAcquired : 76177 : time=0 for id=974745017410\n12:51:25.833 [pool-1-thread-28] INFO requestHeadersStart : 76178 : time=0 for id=974745017410\n12:51:25.833 [pool-1-thread-28] INFO requestHeadersEnd : 76178 : time=0 for id=974745017410\n12:51:25.833 [pool-1-thread-28] INFO requestBodyStart : 76178 : time=0 for id=974745017410\n12:51:25.833 [pool-1-thread-28] INFO requestBodyEnd : 76178 : time=0 for id=974745017410\n12:51:26.137 [pool-1-thread-28] INFO responseBodyStart : 74586 : time=304 for id=974745017410\n12:51:26.137 [pool-1-thread-28] INFO responseBodyEnd : 74586 : time=0 for id=974745017410\n12:51:26.137 [pool-1-thread-28] INFO connectionReleased : 76177 : time=0 for id=974745017410\n12:51:26.137 [pool-1-thread-28] INFO callEnd : 74586 : time=0 for id=974745017410\n</code></pre>\n<p>Here we can see all the events got printed, and the network call latency was 304ms</p>\n<h3>Timed out call</h3>\n<pre><code>12:51:16.134 [pool-1-thread-55] INFO callStart : 76088 : time=0 for id=258173443243\n12:51:16.134 [pool-1-thread-55] INFO connectionAcquired : 76176 : time=0 for id=258173443243\n12:51:16.134 [pool-1-thread-55] INFO requestHeadersStart : 76177 : time=0 for id=258173443243\n12:51:16.134 [pool-1-thread-55] INFO requestHeadersEnd : 76177 : time=0 for id=258173443243\n12:51:16.134 [pool-1-thread-55] INFO requestBodyStart : 76177 : time=0 for id=258173443243\n12:51:16.134 [pool-1-thread-55] INFO requestBodyEnd : 76177 : time=0 for id=258173443243\n12:51:26.134 [pool-1-thread-55] INFO connectionReleased : 76176 : time=10000 for id=258173443243\n</code></pre>\n<p>There isn't enough documentation on connectionReleased event, and what it denotes.</p>\n<ol>\n<li>I am trying to understand what connectionReleased event is.</li>\n<li>In the timed out call, I see the responseBodyStart and responseBodyEnd is missing.\na. Does this denote that the server never returned a response.\nb. Are there some other events to find if the client was just overloaded to read the response from the server</li>\n</ol>\n<p>I am using version 4.9.2 of OkHttp3. Consider the server as infinitely scalable. It returns a rate-limit exceeded error when it can't handle any more requests. My application is sending only 15% of requests that the server could handle</p>\n<p>I tried setting a custom connection pool with maxIdleConnections as many as the threads as the application is using, but ran into the same problem</p>\n"},{"tags":["java","mysql","spring-data","spring-data-jpa","h2"],"comments":[{"owner":{"account_id":10042466,"reputation":1978,"user_id":7424896,"display_name":"Manuel"},"score":0,"creation_date":1504281136,"post_id":46003817,"comment_id":78968703,"body_markdown":"Do you really have to set catalog and schema? I would try to set them on connection url or datasource.","body":"Do you really have to set catalog and schema? I would try to set them on connection url or datasource."},{"owner":{"account_id":243247,"reputation":699,"user_id":515291,"accept_rate":90,"display_name":"Marcelus Trojahn"},"score":0,"creation_date":1504281484,"post_id":46003817,"comment_id":78968916,"body_markdown":"Yes, because some entities are in different schemas on the same server. Setting it on the URL would break it or I&#39;d need to create 1 more persistence for every database on the same server.","body":"Yes, because some entities are in different schemas on the same server. Setting it on the URL would break it or I&#39;d need to create 1 more persistence for every database on the same server."},{"owner":{"account_id":16249671,"reputation":114,"user_id":11733945,"display_name":"Pushya shah"},"score":0,"creation_date":1671460714,"post_id":46003817,"comment_id":132097833,"body_markdown":"Did you sollved it?","body":"Did you sollved it?"},{"owner":{"account_id":243247,"reputation":699,"user_id":515291,"accept_rate":90,"display_name":"Marcelus Trojahn"},"score":0,"creation_date":1671465113,"post_id":46003817,"comment_id":132099402,"body_markdown":"I had to look at the code to remember, but apparently, I gave up and used a MySQL instance for tests instead of H2.","body":"I had to look at the code to remember, but apparently, I gave up and used a MySQL instance for tests instead of H2."},{"owner":{"account_id":16577411,"reputation":74,"user_id":11978873,"display_name":"xTheProgrammer"},"score":0,"creation_date":1697095700,"post_id":46003817,"comment_id":136236930,"body_markdown":"having the same issue... someone maybe solved it?","body":"having the same issue... someone maybe solved it?"}],"answers":[{"tags":[],"owner":{"account_id":29386274,"reputation":51,"user_id":22515654,"display_name":"Klajd Bakalli"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697122528,"creation_date":1697122528,"answer_id":77281707,"question_id":46003817,"body_markdown":"To achieve the desired behavior in Spring, conditional bean configuration and conditional annotations can be used.\r\n   \r\n\r\n     @Configuration\r\n        public class EntityConfiguration {\r\n        \r\n            @Profile(&quot;development&quot;)\r\n            static class H2Configuration {\r\n                @Bean\r\n                public JpaRepository&lt;H2Entity, Long&gt; h2Repository() {\r\n                    return new JpaRepository&lt;H2Entity, Long&gt;();\r\n                }\r\n            }\r\n        \r\n            @Profile(&quot;default&quot;)\r\n            static class MySQLConfiguration {\r\n                @Bean\r\n                public JpaRepository&lt;MySQLEntity, Long&gt; mysqlRepository() {\r\n                    return new JpaRepository&lt;MySQLEntity, Long&gt;();\r\n                }\r\n            }\r\n        }\r\n\r\nIn this configuration, the active Spring profile will be used for identifying the correct entity class and database environments.I hope this will work","title":"@Table annotation and the need set catalog or schemas for development or deployment","body":"<p>To achieve the desired behavior in Spring, conditional bean configuration and conditional annotations can be used.</p>\n<pre><code> @Configuration\n    public class EntityConfiguration {\n    \n        @Profile(&quot;development&quot;)\n        static class H2Configuration {\n            @Bean\n            public JpaRepository&lt;H2Entity, Long&gt; h2Repository() {\n                return new JpaRepository&lt;H2Entity, Long&gt;();\n            }\n        }\n    \n        @Profile(&quot;default&quot;)\n        static class MySQLConfiguration {\n            @Bean\n            public JpaRepository&lt;MySQLEntity, Long&gt; mysqlRepository() {\n                return new JpaRepository&lt;MySQLEntity, Long&gt;();\n            }\n        }\n    }\n</code></pre>\n<p>In this configuration, the active Spring profile will be used for identifying the correct entity class and database environments.I hope this will work</p>\n"},{"tags":[],"owner":{"account_id":16577411,"reputation":74,"user_id":11978873,"display_name":"xTheProgrammer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697696832,"creation_date":1697696832,"answer_id":77321415,"question_id":46003817,"body_markdown":"I had exactly the same issue like you did. While searching for possible solutions, i found the following article:\r\nhttps://medium.com/javarevisited/how-to-set-the-schema-name-dynamically-in-spring-jpa-b0f1c2205ad2\r\n\r\nYou can dynamically change the schema / catalog by overriding the `SpringPhysicalNamingStrategy`. However we don&#39;t need to change it dynamically but we do need to remove the catalog qualifier while being in a test / development environment and only use the schema qualifier.\r\n\r\nThe entity now looks like this:\r\n\r\n    @Entity\r\n    @Table(name = &quot;table_for_entity&quot;, schema = &quot;schemaName&quot;, catalog = &quot;schemaName&quot;)\r\n    @Getter\r\n    @Setter\r\n    public class EntityName {\r\n    ...\r\n    }\r\n\r\nNote that we annotate both the schema and the catalog.\r\nTo remove the catalog in a testing environment, you need to override the `SpringPhysicalNamingStrategy` . In our case we used (the deprecated) SpringPhysicalNamingStrategy. The overriden Configuration will look something like this:\r\n\r\n    @Configuration\r\n    @Profile(&quot;test&quot;)\r\n    public class CustomPhysicalNamingStrategy extends SpringPhysicalNamingStrategy {\r\n    \r\n        @Override\r\n        public Identifier toPhysicalCatalogName(Identifier name, JdbcEnvironment jdbcEnvironment) {\r\n            if (name != null) {\r\n                return super.toPhysicalCatalogName(null, jdbcEnvironment);\r\n            }\r\n            return super.toPhysicalCatalogName(name, jdbcEnvironment);\r\n        }\r\n    }\r\n\r\nThis configuration will only be created in a testing / development environment and will override the catalog name. The does nothing more than checking oif there is a catalog name set and removes it.\r\nYou then need to set the `CustomPhysicalNamingStrategy` in the application.yml file. For my case it was enough to configure it in the test package.\r\nConfiguration will look like this:\r\n\r\n    spring:\r\n      jpa:\r\n        hibernate:\r\n          naming:\r\n            physical-strategy: ch.soobr.domain.config.CustomPhysicalNamingStrategy\r\n\r\nAll in all to be as close as possible to production, its still recommended to use testcontainers.\r\n","title":"@Table annotation and the need set catalog or schemas for development or deployment","body":"<p>I had exactly the same issue like you did. While searching for possible solutions, i found the following article:\n<a href=\"https://medium.com/javarevisited/how-to-set-the-schema-name-dynamically-in-spring-jpa-b0f1c2205ad2\" rel=\"nofollow noreferrer\">https://medium.com/javarevisited/how-to-set-the-schema-name-dynamically-in-spring-jpa-b0f1c2205ad2</a></p>\n<p>You can dynamically change the schema / catalog by overriding the <code>SpringPhysicalNamingStrategy</code>. However we don't need to change it dynamically but we do need to remove the catalog qualifier while being in a test / development environment and only use the schema qualifier.</p>\n<p>The entity now looks like this:</p>\n<pre><code>@Entity\n@Table(name = &quot;table_for_entity&quot;, schema = &quot;schemaName&quot;, catalog = &quot;schemaName&quot;)\n@Getter\n@Setter\npublic class EntityName {\n...\n}\n</code></pre>\n<p>Note that we annotate both the schema and the catalog.\nTo remove the catalog in a testing environment, you need to override the <code>SpringPhysicalNamingStrategy</code> . In our case we used (the deprecated) SpringPhysicalNamingStrategy. The overriden Configuration will look something like this:</p>\n<pre><code>@Configuration\n@Profile(&quot;test&quot;)\npublic class CustomPhysicalNamingStrategy extends SpringPhysicalNamingStrategy {\n\n    @Override\n    public Identifier toPhysicalCatalogName(Identifier name, JdbcEnvironment jdbcEnvironment) {\n        if (name != null) {\n            return super.toPhysicalCatalogName(null, jdbcEnvironment);\n        }\n        return super.toPhysicalCatalogName(name, jdbcEnvironment);\n    }\n}\n</code></pre>\n<p>This configuration will only be created in a testing / development environment and will override the catalog name. The does nothing more than checking oif there is a catalog name set and removes it.\nYou then need to set the <code>CustomPhysicalNamingStrategy</code> in the application.yml file. For my case it was enough to configure it in the test package.\nConfiguration will look like this:</p>\n<pre><code>spring:\n  jpa:\n    hibernate:\n      naming:\n        physical-strategy: ch.soobr.domain.config.CustomPhysicalNamingStrategy\n</code></pre>\n<p>All in all to be as close as possible to production, its still recommended to use testcontainers.</p>\n"}],"owner":{"account_id":243247,"reputation":699,"user_id":515291,"accept_rate":90,"display_name":"Marcelus Trojahn"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1267,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1697696832,"creation_date":1504280742,"question_id":46003817,"body_markdown":"Here&#39;s my problem. \r\n\r\nWhen I&#39;m developing I usually have a persistence class configured to H2 with @Profile(&quot;development&quot;) mapped to a local database on my computer. At the same time, I have another persistence class mapping the same entities, which is basically a copy of the first one, only configured to MySQL. These persistence classes are picked up by Spring depending on the @Profile annotation, the second one is annotated with @Profile(&quot;default&quot;)\r\n\r\nMy problem is that when I deploy the @Profile(&quot;default&quot;) is picked up and  MySQL needs the @Table annotation to be like this:\r\n\r\n    @Table(name = &quot;tableName&quot;, catalog = &quot;databaseName&quot;)\r\n\r\nWhile on development, H2 understands only this:\r\n\r\n    @Table(name = &quot;tableName&quot;, schema = &quot;databaseName&quot;)\r\n\r\nIs there a way to solve this problem? Some conditional way to switch the @Table annotation from schema to catalog on deployment?\r\n\r\n","title":"@Table annotation and the need set catalog or schemas for development or deployment","body":"<p>Here's my problem. </p>\n\n<p>When I'm developing I usually have a persistence class configured to H2 with @Profile(\"development\") mapped to a local database on my computer. At the same time, I have another persistence class mapping the same entities, which is basically a copy of the first one, only configured to MySQL. These persistence classes are picked up by Spring depending on the @Profile annotation, the second one is annotated with @Profile(\"default\")</p>\n\n<p>My problem is that when I deploy the @Profile(\"default\") is picked up and  MySQL needs the @Table annotation to be like this:</p>\n\n<pre><code>@Table(name = \"tableName\", catalog = \"databaseName\")\n</code></pre>\n\n<p>While on development, H2 understands only this:</p>\n\n<pre><code>@Table(name = \"tableName\", schema = \"databaseName\")\n</code></pre>\n\n<p>Is there a way to solve this problem? Some conditional way to switch the @Table annotation from schema to catalog on deployment?</p>\n"},{"tags":["java","eclipse","maven","maven-wrapper"],"comments":[{"owner":{"account_id":3377022,"reputation":11135,"user_id":2834978,"display_name":"LMC"},"score":1,"creation_date":1627875577,"post_id":68614176,"comment_id":121263853,"body_markdown":"AFAIK, building in Eclipse is right click on pom, Runs As -&gt; Maven build ...","body":"AFAIK, building in Eclipse is right click on pom, Runs As -&gt; Maven build ..."},{"owner":{"account_id":314486,"reputation":1653,"user_id":629681,"accept_rate":76,"display_name":"Theodor Keinstein"},"score":0,"creation_date":1628494687,"post_id":68614176,"comment_id":121425736,"body_markdown":"The problem is, that it fails always with an error: Non-resolvable parent POM for ...: Cannot access central (https://repo.maven.apache.org/maven2) in offline mode and the artifact ... has not been downloaded from it before. and &#39;parent.relativePath&#39; points at wrong local POM ... However there is no relativePath tag in any POM and it works even off-line at command line using mvnw. The missing artifact is indeed in the local repo.","body":"The problem is, that it fails always with an error: Non-resolvable parent POM for ...: Cannot access central (<a href=\"https://repo.maven.apache.org/maven2\" rel=\"nofollow noreferrer\">repo.maven.apache.org/maven2</a>) in offline mode and the artifact ... has not been downloaded from it before. and &#39;parent.relativePath&#39; points at wrong local POM ... However there is no relativePath tag in any POM and it works even off-line at command line using mvnw. The missing artifact is indeed in the local repo."},{"owner":{"account_id":314486,"reputation":1653,"user_id":629681,"accept_rate":76,"display_name":"Theodor Keinstein"},"score":0,"creation_date":1628501455,"post_id":68614176,"comment_id":121428246,"body_markdown":"building in Eclipse is right click on pom, Runs As -&gt; Maven build: Eclipse has permanent problems with dependencies. The same command works on command line. No idea, what is so different within Eclipse.","body":"building in Eclipse is right click on pom, Runs As -&gt; Maven build: Eclipse has permanent problems with dependencies. The same command works on command line. No idea, what is so different within Eclipse."}],"answers":[{"tags":[],"owner":{"account_id":6284,"reputation":14589,"user_id":10508,"accept_rate":53,"display_name":"David M. Karr"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1627933611,"creation_date":1627933611,"answer_id":68627199,"question_id":68614176,"body_markdown":"As implied by the comment from LMC, the Java edition of Eclipse will come with the &quot;m2e&quot; plugin, which will automatically recognize a project with a pom.xml file as a Maven project, and it will automatically note the dependencies, download them, and compile your source code with those artifacts as dependencies.\r\n\r\nThat deals with dependencies and compilation.  If your build is running unit tests with Surefire, or generating code with particular plugins, unless there is a specialized m2e connector for that plugin, Eclipse will not know to do that.\r\n\r\nInside Eclipse, if you need to run a Maven build, you don&#39;t need to care about &quot;mvn&quot; vs. &quot;mvnw&quot;.  Eclipse will have an embedded Maven installation.","title":"Eclipse and Maven-Wrapper","body":"<p>As implied by the comment from LMC, the Java edition of Eclipse will come with the &quot;m2e&quot; plugin, which will automatically recognize a project with a pom.xml file as a Maven project, and it will automatically note the dependencies, download them, and compile your source code with those artifacts as dependencies.</p>\n<p>That deals with dependencies and compilation.  If your build is running unit tests with Surefire, or generating code with particular plugins, unless there is a specialized m2e connector for that plugin, Eclipse will not know to do that.</p>\n<p>Inside Eclipse, if you need to run a Maven build, you don't need to care about &quot;mvn&quot; vs. &quot;mvnw&quot;.  Eclipse will have an embedded Maven installation.</p>\n"},{"tags":[],"owner":{"account_id":314486,"reputation":1653,"user_id":629681,"accept_rate":76,"display_name":"Theodor Keinstein"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697696485,"creation_date":1697696485,"answer_id":77321381,"question_id":68614176,"body_markdown":"I know, my answer won&#39;t make happy these, that are still looking for a solution. I consulted the problem with team and since two years I use IntelliJ Idea. You can use community edition for free or commercial version for about 600 €. It depends on your situation. (Profis tend to not use Eclipse nowadays.)","title":"Eclipse and Maven-Wrapper","body":"<p>I know, my answer won't make happy these, that are still looking for a solution. I consulted the problem with team and since two years I use IntelliJ Idea. You can use community edition for free or commercial version for about 600 €. It depends on your situation. (Profis tend to not use Eclipse nowadays.)</p>\n"}],"owner":{"account_id":314486,"reputation":1653,"user_id":629681,"accept_rate":76,"display_name":"Theodor Keinstein"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1523,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1697696485,"creation_date":1627850087,"question_id":68614176,"body_markdown":"I try to build a project, which is using the [Maven Wrapper][1]. The build works fine on command line. There is also a plug-in for IntelliJ Idea. However, I haven&#39;t found any article, how to build such project with Eclipse.\r\n\r\nDo you have an experience with project build by `./mvnw` command instead of `mvn` in Eclipse, please?\r\n\r\n\r\n  [1]: https://github.com/takari/maven-wrapper","title":"Eclipse and Maven-Wrapper","body":"<p>I try to build a project, which is using the <a href=\"https://github.com/takari/maven-wrapper\" rel=\"nofollow noreferrer\">Maven Wrapper</a>. The build works fine on command line. There is also a plug-in for IntelliJ Idea. However, I haven't found any article, how to build such project with Eclipse.</p>\n<p>Do you have an experience with project build by <code>./mvnw</code> command instead of <code>mvn</code> in Eclipse, please?</p>\n"},{"tags":["java","spring","maven"],"comments":[{"owner":{"account_id":8179858,"reputation":21,"user_id":6157429,"display_name":"gunjan ragtah"},"score":0,"creation_date":1460434070,"post_id":36563415,"comment_id":60727091,"body_markdown":"I had dependencies for spring-core, spring-web, spring-webmvc all of version 4.1.4.RELEASE. It was running just fine then. but to add mongodb to my code it showed error to add other jars too. So i ended up adding dependencies for spring-expression, spring-beans, spring-context, spring-context-support all of the same version 4.1.4.RELEASE. But now its generating the above mentioned error. Any suggestions?","body":"I had dependencies for spring-core, spring-web, spring-webmvc all of version 4.1.4.RELEASE. It was running just fine then. but to add mongodb to my code it showed error to add other jars too. So i ended up adding dependencies for spring-expression, spring-beans, spring-context, spring-context-support all of the same version 4.1.4.RELEASE. But now its generating the above mentioned error. Any suggestions?"},{"owner":{"account_id":1068606,"reputation":11581,"user_id":1068446,"accept_rate":63,"display_name":"dwjohnston"},"score":0,"creation_date":1460434073,"post_id":36563415,"comment_id":60727093,"body_markdown":"This looks like it&#39;s a dependency/version issue. Did you try googling your post title before you posted? http://stackoverflow.com/questions/18601279/java-lang-nosuchmethoderror-org-springframework-web-context-configurablewebappl","body":"This looks like it&#39;s a dependency/version issue. Did you try googling your post title before you posted? <a href=\"http://stackoverflow.com/questions/18601279/java-lang-nosuchmethoderror-org-springframework-web-context-configurablewebappl\" title=\"java lang nosuchmethoderror org springframework web context configurablewebappl\">stackoverflow.com/questions/18601279/&hellip;</a>"},{"owner":{"account_id":1068606,"reputation":11581,"user_id":1068446,"accept_rate":63,"display_name":"dwjohnston"},"score":1,"creation_date":1460434106,"post_id":36563415,"comment_id":60727107,"body_markdown":"Try running `mvn dependency:tree`","body":"Try running <code>mvn dependency:tree</code>"},{"owner":{"account_id":46184,"reputation":4003,"user_id":136363,"display_name":"t0mppa"},"score":0,"creation_date":1460434224,"post_id":36563415,"comment_id":60727137,"body_markdown":"Possible duplicate of: http://stackoverflow.com/questions/27330318/spring-mvc-error-with-nosuchmethoderror","body":"Possible duplicate of: <a href=\"http://stackoverflow.com/questions/27330318/spring-mvc-error-with-nosuchmethoderror\" title=\"spring mvc error with nosuchmethoderror\">stackoverflow.com/questions/27330318/&hellip;</a>"},{"owner":{"account_id":8179858,"reputation":21,"user_id":6157429,"display_name":"gunjan ragtah"},"score":0,"creation_date":1460436015,"post_id":36563415,"comment_id":60727660,"body_markdown":"Well i have all jars of the same version. And i found one link which i could relate to but got no solution. [http://stackoverflow.com/questions/29095327/severe-exception-sending-context-initialized-event-to-listener-instance-of-clas]","body":"Well i have all jars of the same version. And i found one link which i could relate to but got no solution. [<a href=\"http://stackoverflow.com/questions/29095327/severe-exception-sending-context-initialized-event-to-listener-instance-of-clas]\" title=\"severe exception sending context initialized event to listener instance of clas%5d\">stackoverflow.com/questions/29095327/&hellip;</a>"},{"owner":{"account_id":8179858,"reputation":21,"user_id":6157429,"display_name":"gunjan ragtah"},"score":0,"creation_date":1460437779,"post_id":36563415,"comment_id":60728160,"body_markdown":"M using sts plugin in eclipse. Any idea on how can i update spring or my pom.xml?","body":"M using sts plugin in eclipse. Any idea on how can i update spring or my pom.xml?"},{"owner":{"account_id":7568866,"reputation":316,"user_id":5743434,"display_name":"Teemu Ilmonen"},"score":0,"creation_date":1460444248,"post_id":36563415,"comment_id":60731081,"body_markdown":"Open pom.xml in &quot;dependency tree&quot; mode in STS, type `spring` as filter and see if there are inconsistent dependency versions.","body":"Open pom.xml in &quot;dependency tree&quot; mode in STS, type <code>spring</code> as filter and see if there are inconsistent dependency versions."}],"answers":[{"tags":[],"owner":{"account_id":2578559,"reputation":69,"user_id":2235729,"display_name":"user2235729"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1460436233,"creation_date":1460436233,"answer_id":36563783,"question_id":36563415,"body_markdown":"The code that is executed was compiled for one version of the spring Api but at run time there is a different version.Make sure you don&#39;t include different versions of the same library into your application. When applications are built with tools like Maven this is quite common.","title":"java.lang.NoSuchMethodError: org.springframework.web.context.ConfigurableWebApplicationContext.getEnvironment()","body":"<p>The code that is executed was compiled for one version of the spring Api but at run time there is a different version.Make sure you don't include different versions of the same library into your application. When applications are built with tools like Maven this is quite common.</p>\n"}],"owner":{"account_id":8179858,"reputation":21,"user_id":6157429,"display_name":"gunjan ragtah"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9928,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1697695390,"creation_date":1460433738,"question_id":36563415,"body_markdown":"I got the following error when trying to run maven project.\r\n\r\nError:\r\n\r\n    SEVERE: StandardWrapper.Throwable\r\n    java.lang.NoSuchMethodError: org.springframework.web.context.ConfigurableWebApplicationContext.getEnvironment()Lorg/springframework/web/context/ConfigurableWebEnvironment;\r\n\tat org.springframework.web.servlet.FrameworkServlet.configureAndRefreshWebApplicationContext(FrameworkServlet.java:641)\r\n\tat org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:598)\r\n\tat org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:661)\r\n\tat org.springframework.web.servlet.FrameworkServlet.initWebApplicationContext(FrameworkServlet.java:517)\r\n\tat org.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:458)\r\n\tat org.springframework.web.servlet.HttpServletBean.init(HttpServletBean.java:138)\r\n\tat javax.servlet.GenericServlet.init(GenericServlet.java:160)\r\n\tat org.apache.catalina.core.StandardWrapper.initServlet(StandardWrapper.java:1280)\r\n\tat org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1193)\r\n\tat org.apache.catalina.core.StandardWrapper.allocate(StandardWrapper.java:865)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:136)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:123)\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:502)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:171)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:100)\r\n\tat org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:953)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:408)\r\n\tat org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1041)\r\n\tat org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:603)\r\n\tat org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:312)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n\tat java.lang.Thread.run(Thread.java:745)\r\n\r\n    Apr 12, 2016 9:14:58 AM org.apache.catalina.core.StandardWrapperValve invoke\r\n    SEVERE: Allocate exception for servlet mvc-dispatcher\r\n    java.lang.NoSuchMethodError: org.springframework.web.context.ConfigurableWebApplicationContext.getEnvironment()Lorg/springframework/web/context/ConfigurableWebEnvironment;\r\n\tat org.springframework.web.servlet.FrameworkServlet.configureAndRefreshWebApplicationContext(FrameworkServlet.java:641)\r\n\tat org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:598)\r\n\tat org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:661)\r\n\tat org.springframework.web.servlet.FrameworkServlet.initWebApplicationContext(FrameworkServlet.java:517)\r\n\tat org.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:458)\r\n\tat org.springframework.web.servlet.HttpServletBean.init(HttpServletBean.java:138)\r\n\tat javax.servlet.GenericServlet.init(GenericServlet.java:160)\r\n\tat org.apache.catalina.core.StandardWrapper.initServlet(StandardWrapper.java:1280)\r\n\tat org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1193)\r\n\tat org.apache.catalina.core.StandardWrapper.allocate(StandardWrapper.java:865)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:136)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:123)\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:502)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:171)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:100)\r\n\tat org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:953)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:408)\r\n\tat org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1041)\r\n\tat org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:603)\r\n\tat org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:312)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n\tat java.lang.Thread.run(Thread.java:745)\r\n\r\nweb.xml\r\n\r\n    &lt;web-app id=&quot;WebApp_ID&quot; version=&quot;2.4&quot;\r\n    xmlns=&quot;http://java.sun.com/xml/ns/j2ee&quot;\r\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/j2ee\r\n    http://java.sun.com/xml/ns/j2ee/web-app_2_4.xsd&quot;&gt;\r\n \r\n    &lt;display-name&gt;Archetype Created Web Application&lt;/display-name&gt;\r\n \r\n    &lt;!-- Loads Spring Security config file --&gt;\r\n    &lt;context-param&gt;\r\n       &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\r\n       &lt;param-value&gt;        \r\n           /WEB-INF/spring-security.xml,\r\n           /WEB-INF/data-source-cfg.xml\r\n       &lt;/param-value&gt;\r\n    &lt;/context-param&gt;\r\n \r\n    &lt;!-- Spring Security Filter --&gt;\r\n    &lt;filter&gt;\r\n       &lt;filter-name&gt;springSecurityFilterChain&lt;/filter-name&gt;\r\n       &lt;filter-class&gt;org.springframework.web.filter.DelegatingFilterProxy&lt;/filter-class&gt;\r\n    &lt;/filter&gt;\r\n \r\n    &lt;filter-mapping&gt;\r\n       &lt;filter-name&gt;springSecurityFilterChain&lt;/filter-name&gt;\r\n       &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n    &lt;/filter-mapping&gt;\r\n   \r\n    &lt;listener&gt;\r\n       &lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener&lt;/listener-class&gt;\r\n    &lt;/listener&gt;\r\n \r\n \t &lt;!-- Spring MVC --&gt;\r\n     &lt;servlet&gt;\r\n       &lt;servlet-name&gt;mvc-dispatcher&lt;/servlet-name&gt;      \r\n       &lt;servlet-class&gt;\r\n           org.springframework.web.servlet.DispatcherServlet\r\n       &lt;/servlet-class&gt;\r\n     &lt;/servlet&gt;\r\n \r\n     &lt;servlet-mapping&gt;\r\n       &lt;servlet-name&gt;mvc-dispatcher&lt;/servlet-name&gt;\r\n       &lt;url-pattern&gt;/&lt;/url-pattern&gt;\r\n     &lt;/servlet-mapping&gt;\r\n \r\n     &lt;/web-app&gt;\r\n\r\nmvc-dispatcher-servlet.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n    xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    xsi:schemaLocation=&quot;\r\n      http://www.springframework.org/schema/beans    \r\n      http://www.springframework.org/schema/beans/spring-beans-4.1.xsd\r\n      http://www.springframework.org/schema/context\r\n      http://www.springframework.org/schema/context/spring-context-4.1.xsd&quot;&gt;\r\n \r\n    &lt;context:component-scan base-package=&quot;main.java&quot; /&gt;\r\n    &lt;context:annotation-config /&gt;\r\n  \r\n    &lt;!-- Factory bean that creates the Mongo instance --&gt;\r\n\t&lt;bean id=&quot;mongo&quot;       class=&quot;org.springframework.data.mongodb.core.MongoFactoryBean&quot;&gt;\r\n\t\t&lt;property name=&quot;host&quot; value=&quot;localhost&quot; /&gt;\r\n\t&lt;/bean&gt;\r\n\t\r\n\t&lt;!-- MongoTemplate for connecting and querying the documents in the database --&gt;\r\n\t&lt;bean id=&quot;mongoTemplate&quot; class=&quot;org.springframework.data.mongodb.core.MongoTemplate&quot;&gt;\r\n\t\t&lt;constructor-arg name=&quot;mongo&quot; ref=&quot;mongo&quot; /&gt;\r\n\t\t&lt;constructor-arg name=&quot;databaseName&quot; value=&quot;test&quot; /&gt;\r\n\t&lt;/bean&gt;\r\n \r\n\t&lt;!-- Use this post processor to translate any MongoExceptions thrown in @Repository annotated classes --&gt;\r\n\t&lt;bean class=&quot;org.springframework.dao.annotation.PersistenceExceptionTranslationPostProcessor&quot; /&gt;\r\n    \r\n    &lt;bean\r\n    class=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;&gt;\r\n    &lt;property name=&quot;prefix&quot;&gt;\r\n      &lt;value&gt;/WEB-INF/pages/&lt;/value&gt;\r\n    &lt;/property&gt;\r\n    &lt;property name=&quot;suffix&quot;&gt;\r\n      &lt;value&gt;.jsp&lt;/value&gt;\r\n    &lt;/property&gt;\r\n    &lt;/bean&gt;\r\n \r\n    &lt;/beans&gt;\r\n\r\nMany solutions said that some jars could be missing although i have added most of them. What could be the possible reason for this error. Please give some suggestions. Thanks","title":"java.lang.NoSuchMethodError: org.springframework.web.context.ConfigurableWebApplicationContext.getEnvironment()","body":"<p>I got the following error when trying to run maven project.</p>\n\n<p>Error:</p>\n\n<pre><code>SEVERE: StandardWrapper.Throwable\njava.lang.NoSuchMethodError: org.springframework.web.context.ConfigurableWebApplicationContext.getEnvironment()Lorg/springframework/web/context/ConfigurableWebEnvironment;\nat org.springframework.web.servlet.FrameworkServlet.configureAndRefreshWebApplicationContext(FrameworkServlet.java:641)\nat org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:598)\nat org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:661)\nat org.springframework.web.servlet.FrameworkServlet.initWebApplicationContext(FrameworkServlet.java:517)\nat org.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:458)\nat org.springframework.web.servlet.HttpServletBean.init(HttpServletBean.java:138)\nat javax.servlet.GenericServlet.init(GenericServlet.java:160)\nat org.apache.catalina.core.StandardWrapper.initServlet(StandardWrapper.java:1280)\nat org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1193)\nat org.apache.catalina.core.StandardWrapper.allocate(StandardWrapper.java:865)\nat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:136)\nat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:123)\nat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:502)\nat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:171)\nat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:100)\nat org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:953)\nat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)\nat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:408)\nat org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1041)\nat org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:603)\nat org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:312)\nat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\nat java.lang.Thread.run(Thread.java:745)\n\nApr 12, 2016 9:14:58 AM org.apache.catalina.core.StandardWrapperValve invoke\nSEVERE: Allocate exception for servlet mvc-dispatcher\njava.lang.NoSuchMethodError: org.springframework.web.context.ConfigurableWebApplicationContext.getEnvironment()Lorg/springframework/web/context/ConfigurableWebEnvironment;\nat org.springframework.web.servlet.FrameworkServlet.configureAndRefreshWebApplicationContext(FrameworkServlet.java:641)\nat org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:598)\nat org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:661)\nat org.springframework.web.servlet.FrameworkServlet.initWebApplicationContext(FrameworkServlet.java:517)\nat org.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:458)\nat org.springframework.web.servlet.HttpServletBean.init(HttpServletBean.java:138)\nat javax.servlet.GenericServlet.init(GenericServlet.java:160)\nat org.apache.catalina.core.StandardWrapper.initServlet(StandardWrapper.java:1280)\nat org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1193)\nat org.apache.catalina.core.StandardWrapper.allocate(StandardWrapper.java:865)\nat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:136)\nat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:123)\nat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:502)\nat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:171)\nat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:100)\nat org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:953)\nat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)\nat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:408)\nat org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1041)\nat org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:603)\nat org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:312)\nat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\nat java.lang.Thread.run(Thread.java:745)\n</code></pre>\n\n<p>web.xml</p>\n\n<pre><code>&lt;web-app id=\"WebApp_ID\" version=\"2.4\"\nxmlns=\"http://java.sun.com/xml/ns/j2ee\"\nxmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\nxsi:schemaLocation=\"http://java.sun.com/xml/ns/j2ee\nhttp://java.sun.com/xml/ns/j2ee/web-app_2_4.xsd\"&gt;\n\n&lt;display-name&gt;Archetype Created Web Application&lt;/display-name&gt;\n\n&lt;!-- Loads Spring Security config file --&gt;\n&lt;context-param&gt;\n   &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n   &lt;param-value&gt;        \n       /WEB-INF/spring-security.xml,\n       /WEB-INF/data-source-cfg.xml\n   &lt;/param-value&gt;\n&lt;/context-param&gt;\n\n&lt;!-- Spring Security Filter --&gt;\n&lt;filter&gt;\n   &lt;filter-name&gt;springSecurityFilterChain&lt;/filter-name&gt;\n   &lt;filter-class&gt;org.springframework.web.filter.DelegatingFilterProxy&lt;/filter-class&gt;\n&lt;/filter&gt;\n\n&lt;filter-mapping&gt;\n   &lt;filter-name&gt;springSecurityFilterChain&lt;/filter-name&gt;\n   &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n&lt;/filter-mapping&gt;\n\n&lt;listener&gt;\n   &lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener&lt;/listener-class&gt;\n&lt;/listener&gt;\n\n &lt;!-- Spring MVC --&gt;\n &lt;servlet&gt;\n   &lt;servlet-name&gt;mvc-dispatcher&lt;/servlet-name&gt;      \n   &lt;servlet-class&gt;\n       org.springframework.web.servlet.DispatcherServlet\n   &lt;/servlet-class&gt;\n &lt;/servlet&gt;\n\n &lt;servlet-mapping&gt;\n   &lt;servlet-name&gt;mvc-dispatcher&lt;/servlet-name&gt;\n   &lt;url-pattern&gt;/&lt;/url-pattern&gt;\n &lt;/servlet-mapping&gt;\n\n &lt;/web-app&gt;\n</code></pre>\n\n<p>mvc-dispatcher-servlet.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\nxmlns:context=\"http://www.springframework.org/schema/context\"\nxmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\nxsi:schemaLocation=\"\n  http://www.springframework.org/schema/beans    \n  http://www.springframework.org/schema/beans/spring-beans-4.1.xsd\n  http://www.springframework.org/schema/context\n  http://www.springframework.org/schema/context/spring-context-4.1.xsd\"&gt;\n\n&lt;context:component-scan base-package=\"main.java\" /&gt;\n&lt;context:annotation-config /&gt;\n\n&lt;!-- Factory bean that creates the Mongo instance --&gt;\n&lt;bean id=\"mongo\"       class=\"org.springframework.data.mongodb.core.MongoFactoryBean\"&gt;\n    &lt;property name=\"host\" value=\"localhost\" /&gt;\n&lt;/bean&gt;\n\n&lt;!-- MongoTemplate for connecting and querying the documents in the database --&gt;\n&lt;bean id=\"mongoTemplate\" class=\"org.springframework.data.mongodb.core.MongoTemplate\"&gt;\n    &lt;constructor-arg name=\"mongo\" ref=\"mongo\" /&gt;\n    &lt;constructor-arg name=\"databaseName\" value=\"test\" /&gt;\n&lt;/bean&gt;\n\n&lt;!-- Use this post processor to translate any MongoExceptions thrown in @Repository annotated classes --&gt;\n&lt;bean class=\"org.springframework.dao.annotation.PersistenceExceptionTranslationPostProcessor\" /&gt;\n\n&lt;bean\nclass=\"org.springframework.web.servlet.view.InternalResourceViewResolver\"&gt;\n&lt;property name=\"prefix\"&gt;\n  &lt;value&gt;/WEB-INF/pages/&lt;/value&gt;\n&lt;/property&gt;\n&lt;property name=\"suffix\"&gt;\n  &lt;value&gt;.jsp&lt;/value&gt;\n&lt;/property&gt;\n&lt;/bean&gt;\n\n&lt;/beans&gt;\n</code></pre>\n\n<p>Many solutions said that some jars could be missing although i have added most of them. What could be the possible reason for this error. Please give some suggestions. Thanks</p>\n"},{"tags":["java","trace","jaeger","helidon"],"answers":[{"tags":[],"owner":{"account_id":72101,"reputation":15566,"user_id":208288,"accept_rate":67,"display_name":"Laird Nelson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1607372112,"creation_date":1607371254,"answer_id":65188568,"question_id":65183709,"body_markdown":"Whether you&#39;re using Helidon SE or Helidon MP, configuration sources are &quot;stacked&quot; and property scalars stand alone.  So if you do not specify:\r\n```\r\ntracing:\r\n  host:\r\n```\r\n…at all, and if you&#39;ve ensured that an environment-variable-reading configuration source has been installed, then it will be read from the environment.\r\n\r\nYou can read more about Helidon SE&#39;s proprietary configuration system here: https://helidon.io/docs/v2/#/se/config/01_introduction\r\n\r\nYou can read more about MicroProfile&#39;s configuration system (which Helidon MP implements) here: https://download.eclipse.org/microprofile/microprofile-3.3/microprofile-spec-3.3.html#mp-config","title":"How to pass env variable into application.yaml file in Helidon","body":"<p>Whether you're using Helidon SE or Helidon MP, configuration sources are &quot;stacked&quot; and property scalars stand alone.  So if you do not specify:</p>\n<pre><code>tracing:\n  host:\n</code></pre>\n<p>…at all, and if you've ensured that an environment-variable-reading configuration source has been installed, then it will be read from the environment.</p>\n<p>You can read more about Helidon SE's proprietary configuration system here: <a href=\"https://helidon.io/docs/v2/#/se/config/01_introduction\" rel=\"nofollow noreferrer\">https://helidon.io/docs/v2/#/se/config/01_introduction</a></p>\n<p>You can read more about MicroProfile's configuration system (which Helidon MP implements) here: <a href=\"https://download.eclipse.org/microprofile/microprofile-3.3/microprofile-spec-3.3.html#mp-config\" rel=\"nofollow noreferrer\">https://download.eclipse.org/microprofile/microprofile-3.3/microprofile-spec-3.3.html#mp-config</a></p>\n"},{"tags":[],"owner":{"account_id":183306,"reputation":9428,"user_id":418599,"accept_rate":52,"display_name":"Antonio Petricca"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1621405692,"creation_date":1621403997,"answer_id":67597725,"question_id":65183709,"body_markdown":"The `application.yaml` is like a static properties file. It is not involved in variables substitution.\r\n\r\nRead carefully the paragraph **Source precedence for default configuration** at https://helidon.io/docs/latest/#/mp/guides/03_config and observe how to override the properties inside your embedded configuration file(s).\r\n\r\nIn that scenario you may override the properties you want simply by passing to the **java** command line a custom variable as you expect. \r\n\r\nFor example, you can accomplish your goal as described below:\r\n\r\n```yaml\r\ntracing:\r\n  service: &quot;test-service&quot;\r\n  host: default-host-name\r\n  port: 8080\r\n```\r\n\r\n```shell\r\njava -Dtracing.host=remote-hostname -Dtracing.port=8080 -jar your_artifact.jar\r\n```\r\n\r\nor\r\n\r\n\r\n\r\n```shell\r\nexport TRACING_HOST=remote-hostname\r\nexport TRACING_PORT=8080\r\n\r\njava -jar your_artifact.jar\r\n```","title":"How to pass env variable into application.yaml file in Helidon","body":"<p>The <code>application.yaml</code> is like a static properties file. It is not involved in variables substitution.</p>\n<p>Read carefully the paragraph <strong>Source precedence for default configuration</strong> at <a href=\"https://helidon.io/docs/latest/#/mp/guides/03_config\" rel=\"nofollow noreferrer\">https://helidon.io/docs/latest/#/mp/guides/03_config</a> and observe how to override the properties inside your embedded configuration file(s).</p>\n<p>In that scenario you may override the properties you want simply by passing to the <strong>java</strong> command line a custom variable as you expect.</p>\n<p>For example, you can accomplish your goal as described below:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>tracing:\n  service: &quot;test-service&quot;\n  host: default-host-name\n  port: 8080\n</code></pre>\n<pre class=\"lang-sh prettyprint-override\"><code>java -Dtracing.host=remote-hostname -Dtracing.port=8080 -jar your_artifact.jar\n</code></pre>\n<p>or</p>\n<pre class=\"lang-sh prettyprint-override\"><code>export TRACING_HOST=remote-hostname\nexport TRACING_PORT=8080\n\njava -jar your_artifact.jar\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4132184,"reputation":1929,"user_id":3409387,"accept_rate":100,"display_name":"anandbibek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697694998,"creation_date":1697694998,"answer_id":77321268,"question_id":65183709,"body_markdown":"For Helidon 3, this seems to be the working convention\r\n\r\nFor a config yaml value corresponding to this, \r\n\r\n    app:\r\n      persistenceProvider:\r\n        className: com.example.provider.InMemoryProvider\r\n\r\nYou need to export variable like this \r\n\r\n    export app_persistenceProvider_className=com.example.provider.InMemoryProvider","title":"How to pass env variable into application.yaml file in Helidon","body":"<p>For Helidon 3, this seems to be the working convention</p>\n<p>For a config yaml value corresponding to this,</p>\n<pre><code>app:\n  persistenceProvider:\n    className: com.example.provider.InMemoryProvider\n</code></pre>\n<p>You need to export variable like this</p>\n<pre><code>export app_persistenceProvider_className=com.example.provider.InMemoryProvider\n</code></pre>\n"}],"owner":{"account_id":10017775,"reputation":11,"user_id":7408439,"display_name":"sono"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2376,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1697694998,"creation_date":1607351666,"question_id":65183709,"body_markdown":"I want to pass something like this \r\n\r\n```yaml\r\n    tracing:\r\n      service: &quot;test-service&quot;\r\n      host: ${TRACING_AGENT_HOST}\r\n      port: ${PORT}\r\n```","title":"How to pass env variable into application.yaml file in Helidon","body":"<p>I want to pass something like this</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>    tracing:\n      service: &quot;test-service&quot;\n      host: ${TRACING_AGENT_HOST}\n      port: ${PORT}\n</code></pre>\n"},{"tags":["java","spring-boot","graphql","otel"],"owner":{"account_id":28272157,"reputation":15,"user_id":21615169,"display_name":"Aayush"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697694757,"creation_date":1697694757,"question_id":77321245,"body_markdown":"I am using SpringBoot and Graphql for a module as well using OTEL. I need spanID and traceID in the logs of the application. \r\n\r\n - trace_id: OTel trace trace id, must be present in every log record\r\n   produced in request context.\r\n-  span_id:\tOTel trace span id, must be\r\n   present in every log record produced in request context\r\n\r\nIn the Query of Subgraph, I tried to write \r\n\r\n  **System.out.println(Span.current().getSpanContext().getTraceId());**\r\n\r\nBut getting for every request: \r\n\r\n00000000000000000000000000000000\r\n\r\n\r\nCan anyone tell me what is an appropriate way to generate traceID and SpanID?\r\n\r\n","title":"How to get TraceId and SpanID from OTEL Tracing","body":"<p>I am using SpringBoot and Graphql for a module as well using OTEL. I need spanID and traceID in the logs of the application.</p>\n<ul>\n<li>trace_id: OTel trace trace id, must be present in every log record\nproduced in request context.</li>\n<li>span_id: OTel trace span id, must be\npresent in every log record produced in request context</li>\n</ul>\n<p>In the Query of Subgraph, I tried to write</p>\n<p><strong>System.out.println(Span.current().getSpanContext().getTraceId());</strong></p>\n<p>But getting for every request:</p>\n<p>00000000000000000000000000000000</p>\n<p>Can anyone tell me what is an appropriate way to generate traceID and SpanID?</p>\n"},{"tags":["java","google-cloud-platform","minecraft","google-api-java-client","minecraft-fabric"],"answers":[{"tags":[],"owner":{"account_id":29705516,"reputation":1,"user_id":22766450,"display_name":"Truthy_dev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697694236,"creation_date":1697694061,"answer_id":77321204,"question_id":77295142,"body_markdown":"I assume you use the default build.gradle, i would recommend switching to fabric loom.\r\n\r\nhttps://github.com/FabricMC/fabric-loom\r\n\r\nI hope this helps :) had the same issue a while ago.","title":"NoClassDefFoundError: com/google/auth/Credentials occuring after jar compilation, but not in dev environment","body":"<p>I assume you use the default build.gradle, i would recommend switching to fabric loom.</p>\n<p><a href=\"https://github.com/FabricMC/fabric-loom\" rel=\"nofollow noreferrer\">https://github.com/FabricMC/fabric-loom</a></p>\n<p>I hope this helps :) had the same issue a while ago.</p>\n"}],"owner":{"account_id":28721597,"reputation":1,"user_id":21995281,"display_name":"xxhawk8xx"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697694236,"creation_date":1697337542,"question_id":77295142,"body_markdown":"**Background**\r\n\r\nI have built a mod for Minecraft, and I am now at the point where it is ready to be built into a jar and run it in the game. My IDE is Intellij, the framework I am using is Fabric, and I am using Gradle as the build tool. I am also using some google api&#39;s in my mod, brought in as dependencies in my build.gradle file.\r\n\r\n**Problem**\r\n\r\nThe mod works as intended when I boot it up through my IDE. However, when I build the mod into a jar, and put the mod in the mod folder such that the actual Minecraft exe can load it, the game crashes when I begin one of the processes in the mod that uses a google api call. It crashes due to the following exception:\r\n\r\n```\r\njava.lang.NoClassDefFoundError: com/google/auth/Credentials\r\n```\r\n\r\nIn this block of code (specifically at the first reference to the GoogleCredentials class):\r\n\r\n```\r\nString credentials_path = GOOGLE_API_KEY_PATH_STRING;\r\n        GoogleCredentials credentials = null;\r\n        try (FileInputStream serviceAccountStream = new FileInputStream(credentials_path)) {\r\n            credentials = GoogleCredentials.fromStream(serviceAccountStream);\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n        SpeechSettings settings = null;\r\n        try {\r\n            settings = SpeechSettings.newBuilder()\r\n                    .setCredentialsProvider(FixedCredentialsProvider.create(credentials))\r\n                    .build();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n```\r\n\r\nI have these Google imports in that class:\r\n\r\n```\r\nimport com.google.api.gax.core.FixedCredentialsProvider;\r\nimport com.google.api.gax.rpc.ClientStream;\r\nimport com.google.api.gax.rpc.ResponseObserver;\r\nimport com.google.api.gax.rpc.StreamController;\r\nimport com.google.auth.oauth2.GoogleCredentials;\r\nimport com.google.cloud.speech.v1.*;\r\nimport com.google.protobuf.ByteString;\r\n```\r\n\r\nHere&#39;s the dependencies in my build.gradle file:\r\n\r\n```\r\ndependencies {\r\n\t// To change the versions see the gradle.properties file\r\n\tminecraft &quot;com.mojang:minecraft:${project.minecraft_version}&quot;\r\n\tmappings &quot;net.fabricmc:yarn:${project.yarn_mappings}:v2&quot;\r\n\tmodImplementation &quot;net.fabricmc:fabric-loader:${project.loader_version}&quot;\r\n\r\n\t// Fabric API. This is technically optional, but you probably want it anyway.\r\n\tmodImplementation &quot;net.fabricmc.fabric-api:fabric-api:${project.fabric_version}&quot;\r\n\timplementation &#39;io.github.cdimascio:java-dotenv:5.2.2&#39;\r\n\timplementation &#39;com.googlecode.soundlibs:tritonus-share:0.3.7.4&#39;\r\n\timplementation &#39;com.googlecode.soundlibs:tritonus-all:0.3.7.2&#39;\r\n\timplementation &#39;com.googlecode.soundlibs:jlayer:1.0.1.4&#39;\r\n\timplementation &#39;com.googlecode.soundlibs:jorbis:0.0.17.4&#39;\r\n\timplementation &#39;com.googlecode.soundlibs:vorbisspi:1.0.3.3&#39;\r\n\timplementation &#39;com.googlecode.soundlibs:basicplayer:3.0.0.0&#39;\r\n\timplementation &#39;com.google.guava:guava:24.1-jre&#39;\r\n\timplementation &#39;org.threeten:threetenbp:1.3.6&#39;\r\n\timplementation &#39;com.google.http-client:google-http-client:1.22.0&#39;\r\n\timplementation &#39;com.google.cloud:google-cloud-texttospeech:2.18.0&#39;\r\n        implementation &#39;com.google.auth:google-auth-library-oauth2-http:1.16.0&#39;\r\n\timplementation &#39;com.fasterxml.jackson.core:jackson-annotations:2.13.0&#39;\r\n\timplementation &#39;com.fasterxml.jackson.core:jackson-databind:2.12.5&#39;\r\n\timplementation &#39;org.slf4j:slf4j-api:1.7.32&#39;\r\n\timplementation &#39;com.google.code.gson:gson:2.10.1&#39;\r\n\tmodRuntimeOnly &quot;maven.modrinth:simple-voice-chat:fabric-1.20.1-2.4.24&quot;\r\n}\r\n```\r\n\r\nNow, I have pretty much no idea why this is happening. As you can see, the authentication library from Google is present here, and it builds and runs perfectly fine in my development environment. I do not understand why it can&#39;t resolve the dependency after it has been built into a .jar file.\r\n\r\nThe only &#39;lead&#39; that I have on the issue is that, one of these other Google dependencies may have the authentication library as a dependency, so maybe that is crossing some wires? Not sure. Help would be very much appreciated...","title":"NoClassDefFoundError: com/google/auth/Credentials occuring after jar compilation, but not in dev environment","body":"<p><strong>Background</strong></p>\n<p>I have built a mod for Minecraft, and I am now at the point where it is ready to be built into a jar and run it in the game. My IDE is Intellij, the framework I am using is Fabric, and I am using Gradle as the build tool. I am also using some google api's in my mod, brought in as dependencies in my build.gradle file.</p>\n<p><strong>Problem</strong></p>\n<p>The mod works as intended when I boot it up through my IDE. However, when I build the mod into a jar, and put the mod in the mod folder such that the actual Minecraft exe can load it, the game crashes when I begin one of the processes in the mod that uses a google api call. It crashes due to the following exception:</p>\n<pre><code>java.lang.NoClassDefFoundError: com/google/auth/Credentials\n</code></pre>\n<p>In this block of code (specifically at the first reference to the GoogleCredentials class):</p>\n<pre><code>String credentials_path = GOOGLE_API_KEY_PATH_STRING;\n        GoogleCredentials credentials = null;\n        try (FileInputStream serviceAccountStream = new FileInputStream(credentials_path)) {\n            credentials = GoogleCredentials.fromStream(serviceAccountStream);\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n        SpeechSettings settings = null;\n        try {\n            settings = SpeechSettings.newBuilder()\n                    .setCredentialsProvider(FixedCredentialsProvider.create(credentials))\n                    .build();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n</code></pre>\n<p>I have these Google imports in that class:</p>\n<pre><code>import com.google.api.gax.core.FixedCredentialsProvider;\nimport com.google.api.gax.rpc.ClientStream;\nimport com.google.api.gax.rpc.ResponseObserver;\nimport com.google.api.gax.rpc.StreamController;\nimport com.google.auth.oauth2.GoogleCredentials;\nimport com.google.cloud.speech.v1.*;\nimport com.google.protobuf.ByteString;\n</code></pre>\n<p>Here's the dependencies in my build.gradle file:</p>\n<pre><code>dependencies {\n    // To change the versions see the gradle.properties file\n    minecraft &quot;com.mojang:minecraft:${project.minecraft_version}&quot;\n    mappings &quot;net.fabricmc:yarn:${project.yarn_mappings}:v2&quot;\n    modImplementation &quot;net.fabricmc:fabric-loader:${project.loader_version}&quot;\n\n    // Fabric API. This is technically optional, but you probably want it anyway.\n    modImplementation &quot;net.fabricmc.fabric-api:fabric-api:${project.fabric_version}&quot;\n    implementation 'io.github.cdimascio:java-dotenv:5.2.2'\n    implementation 'com.googlecode.soundlibs:tritonus-share:0.3.7.4'\n    implementation 'com.googlecode.soundlibs:tritonus-all:0.3.7.2'\n    implementation 'com.googlecode.soundlibs:jlayer:1.0.1.4'\n    implementation 'com.googlecode.soundlibs:jorbis:0.0.17.4'\n    implementation 'com.googlecode.soundlibs:vorbisspi:1.0.3.3'\n    implementation 'com.googlecode.soundlibs:basicplayer:3.0.0.0'\n    implementation 'com.google.guava:guava:24.1-jre'\n    implementation 'org.threeten:threetenbp:1.3.6'\n    implementation 'com.google.http-client:google-http-client:1.22.0'\n    implementation 'com.google.cloud:google-cloud-texttospeech:2.18.0'\n        implementation 'com.google.auth:google-auth-library-oauth2-http:1.16.0'\n    implementation 'com.fasterxml.jackson.core:jackson-annotations:2.13.0'\n    implementation 'com.fasterxml.jackson.core:jackson-databind:2.12.5'\n    implementation 'org.slf4j:slf4j-api:1.7.32'\n    implementation 'com.google.code.gson:gson:2.10.1'\n    modRuntimeOnly &quot;maven.modrinth:simple-voice-chat:fabric-1.20.1-2.4.24&quot;\n}\n</code></pre>\n<p>Now, I have pretty much no idea why this is happening. As you can see, the authentication library from Google is present here, and it builds and runs perfectly fine in my development environment. I do not understand why it can't resolve the dependency after it has been built into a .jar file.</p>\n<p>The only 'lead' that I have on the issue is that, one of these other Google dependencies may have the authentication library as a dependency, so maybe that is crossing some wires? Not sure. Help would be very much appreciated...</p>\n"},{"tags":["java","intellij-idea","parameters","inlay-hints"],"answers":[{"tags":[],"owner":{"account_id":36734,"reputation":392117,"user_id":104891,"display_name":"CrazyCoder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1595837757,"creation_date":1595801304,"answer_id":63106241,"question_id":63106115,"body_markdown":"There is no way to do it for the code range, only for certain methods. Feature request [would be welcome](https://youtrack.jetbrains.com/newIssue?project=IDEA).","title":"How to turn off parameter name hints for code region in IntelliJ IDEA?","body":"<p>There is no way to do it for the code range, only for certain methods. Feature request <a href=\"https://youtrack.jetbrains.com/newIssue?project=IDEA\" rel=\"nofollow noreferrer\">would be welcome</a>.</p>\n"}],"owner":{"account_id":13481515,"reputation":422,"user_id":11485264,"display_name":"hohserg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1697693572,"creation_date":1595800446,"question_id":63106115,"body_markdown":"I have a chunk of code where I didn&#39;t want to see hints of parameter names.\r\n\r\nI know there is a comment for turning off code formatting for a chunk of code (`//@formatter:off`), but I can&#39;t find something similar for parameter names hints.\r\n\r\nThere&#39;s only local setting for blacklisting methods:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ZBYW3.png\r\n\r\n\r\nBut I don&#39;t want anyone to see parameters hint for my chunk of code.\r\nAny ideas?","title":"How to turn off parameter name hints for code region in IntelliJ IDEA?","body":"<p>I have a chunk of code where I didn't want to see hints of parameter names.</p>\n<p>I know there is a comment for turning off code formatting for a chunk of code (<code>//@formatter:off</code>), but I can't find something similar for parameter names hints.</p>\n<p>There's only local setting for blacklisting methods:</p>\n<p><a href=\"https://i.stack.imgur.com/ZBYW3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZBYW3.png\" alt=\"enter image description here\" /></a></p>\n<p>But I don't want anyone to see parameters hint for my chunk of code.\nAny ideas?</p>\n"},{"tags":["java","java-9"],"comments":[{"owner":{"account_id":889764,"reputation":4441,"user_id":928276,"accept_rate":75,"display_name":"soorapadman"},"score":0,"creation_date":1553866448,"post_id":55418248,"comment_id":97556151,"body_markdown":"Im not sure about best practice `singletonList` will accept only one element . but Not `List.of` .","body":"Im not sure about best practice <code>singletonList</code> will accept only one element . but Not <code>List.of</code> ."},{"owner":{"account_id":2427679,"reputation":453,"user_id":2119280,"accept_rate":62,"display_name":"rennajihi"},"score":0,"creation_date":1553872545,"post_id":55418248,"comment_id":97560173,"body_markdown":"I mean what is it preferable when creating immutable list with single element. I prefer using `List.of`, but it&#39;s more suited to this use case in terms of performance?","body":"I mean what is it preferable when creating immutable list with single element. I prefer using <code>List.of</code>, but it&#39;s more suited to this use case in terms of performance?"}],"answers":[{"tags":[],"owner":{"account_id":13798611,"reputation":37875,"user_id":9959152,"display_name":"Ryuzaki L"},"down_vote_count":1,"up_vote_count":8,"is_accepted":true,"score":7,"last_activity_date":1553866363,"creation_date":1553865827,"answer_id":55418416,"question_id":55418248,"body_markdown":"Prefer using factory method \r\n\r\n    List&lt;String&gt; immutableList1 = List.of(&quot;one&quot;);\r\n\r\n**Because** they disallow null elements is one of the benefit and also factory methods in `List` interface are handy to add multiple objects and creates immutable List\r\n\r\n&gt;They disallow null elements. Attempts to create them with null elements result in NullPointerException.\r\n\r\nWhere `Collections.singletonList` allows `null` value\r\n\r\n    List&lt;String&gt; l = Collections.singletonList(null);\r\n    System.out.println(l);   //[null]\r\n\r\n","title":"Using List.of() for immutable list with single element instead of Collections.singletonList()","body":"<p>Prefer using factory method </p>\n\n<pre><code>List&lt;String&gt; immutableList1 = List.of(\"one\");\n</code></pre>\n\n<p><strong>Because</strong> they disallow null elements is one of the benefit and also factory methods in <code>List</code> interface are handy to add multiple objects and creates immutable List</p>\n\n<blockquote>\n  <p>They disallow null elements. Attempts to create them with null elements result in NullPointerException.</p>\n</blockquote>\n\n<p>Where <code>Collections.singletonList</code> allows <code>null</code> value</p>\n\n<pre><code>List&lt;String&gt; l = Collections.singletonList(null);\nSystem.out.println(l);   //[null]\n</code></pre>\n"}],"owner":{"account_id":2427679,"reputation":453,"user_id":2119280,"accept_rate":62,"display_name":"rennajihi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2108,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":55418416,"answer_count":1,"score":9,"last_activity_date":1697693517,"creation_date":1553865324,"question_id":55418248,"body_markdown":"Java 9 introduced factory methods to create *immutable* lists with [`List.of()`][1] method. \r\n\r\nWhich is more suitable to create an immutable list of one element?\r\n\r\n - `List&lt;String&gt; immutableList1 = List.of(&quot;one&quot;);`\r\n - `List&lt;String&gt; immutableList2 = Collections.singletonList(&quot;one&quot;);`\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/9/docs/api/java/util/List.html#of-E-","title":"Using List.of() for immutable list with single element instead of Collections.singletonList()","body":"<p>Java 9 introduced factory methods to create <em>immutable</em> lists with <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/List.html#of-E-\" rel=\"nofollow noreferrer\"><code>List.of()</code></a> method.</p>\n<p>Which is more suitable to create an immutable list of one element?</p>\n<ul>\n<li><code>List&lt;String&gt; immutableList1 = List.of(&quot;one&quot;);</code></li>\n<li><code>List&lt;String&gt; immutableList2 = Collections.singletonList(&quot;one&quot;);</code></li>\n</ul>\n"},{"tags":["java","spring","spring-ws"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1697693486,"post_id":77321167,"comment_id":136312391,"body_markdown":"Yes it is optional but only of there is no namespace in the xsd/wsdl as well. In short it has to match the value from the contract else it will not match incoming requests.","body":"Yes it is optional but only of there is no namespace in the xsd/wsdl as well. In short it has to match the value from the contract else it will not match incoming requests."}],"owner":{"account_id":15678589,"reputation":283,"user_id":11313182,"display_name":"Dhyey Vachhani"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697693437,"creation_date":1697693437,"question_id":77321167,"body_markdown":"I am getting http code 404 after removing namespace field from @PayloadRoot where it was working when namespace was present there. Documentation says namespace is an optional field but after removing it its behavior is changed.\r\n\r\n**With namespace:**\r\n\r\n    @PayloadRoot(namespace = NAMESPACE, localPart = &quot;doSomething&quot;)\r\n    @ResponsePayload\r\n    public DoSomethingResponse update(@RequestPayload DoSomething doSomething) {\r\n        return processRequest(doSomething);\r\n    }\r\n\r\n**Without namespace:**\r\n\r\n    @PayloadRoot(localPart = &quot;doSomething&quot;)\r\n    @ResponsePayload\r\n    public DoSomethingResponse update(@RequestPayload DoSomething doSomething) {\r\n        return processRequest(doSomething);\r\n    }\r\n\r\nI am new to this part and do not understand this behavior. \r\n\r\nIs it possible to have the @PayloadRoot without namespace here ? as that is the current requirement. \r\n\r\n","title":"SOAP request returns code 404 after removing namespace from @PayloadRoot","body":"<p>I am getting http code 404 after removing namespace field from @PayloadRoot where it was working when namespace was present there. Documentation says namespace is an optional field but after removing it its behavior is changed.</p>\n<p><strong>With namespace:</strong></p>\n<pre><code>@PayloadRoot(namespace = NAMESPACE, localPart = &quot;doSomething&quot;)\n@ResponsePayload\npublic DoSomethingResponse update(@RequestPayload DoSomething doSomething) {\n    return processRequest(doSomething);\n}\n</code></pre>\n<p><strong>Without namespace:</strong></p>\n<pre><code>@PayloadRoot(localPart = &quot;doSomething&quot;)\n@ResponsePayload\npublic DoSomethingResponse update(@RequestPayload DoSomething doSomething) {\n    return processRequest(doSomething);\n}\n</code></pre>\n<p>I am new to this part and do not understand this behavior.</p>\n<p>Is it possible to have the @PayloadRoot without namespace here ? as that is the current requirement.</p>\n"},{"tags":["java","svg","icons","vaadin","generator"],"comments":[{"owner":{"account_id":2968061,"reputation":17672,"user_id":2520800,"display_name":"Danny &#39;365CSI&#39; Engelman"},"score":1,"creation_date":1697569077,"post_id":77311418,"comment_id":136295544,"body_markdown":"Maybe a weird idea; contact the vendor: https://github.com/vaadin/vaadin-icons","body":"Maybe a weird idea; contact the vendor: <a href=\"https://github.com/vaadin/vaadin-icons\" rel=\"nofollow noreferrer\">github.com/vaadin/vaadin-icons</a>"}],"answers":[{"tags":[],"owner":{"account_id":12280349,"reputation":10212,"user_id":8962195,"display_name":"Tatu Lund"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697692675,"creation_date":1697692675,"answer_id":77321126,"question_id":77311418,"body_markdown":"The documentation has just recently being updated as in Vaadin 24.2 the 3rd party icon support has been improved, see  https://vaadin.com/docs/latest/components/icons#using-third-party-icons\r\n\r\n(I know it is a bit un-orthodox to answer this kind of question in SO, as protocol here is not to have a link to website as primary content of the answer, but now it is un-avoidable.)","title":"Icon generator from SVG missing in Vaadin documentation","body":"<p>The documentation has just recently being updated as in Vaadin 24.2 the 3rd party icon support has been improved, see  <a href=\"https://vaadin.com/docs/latest/components/icons#using-third-party-icons\" rel=\"nofollow noreferrer\">https://vaadin.com/docs/latest/components/icons#using-third-party-icons</a></p>\n<p>(I know it is a bit un-orthodox to answer this kind of question in SO, as protocol here is not to have a link to website as primary content of the answer, but now it is un-avoidable.)</p>\n"}],"owner":{"account_id":18586320,"reputation":1,"user_id":13544602,"display_name":"Deep Zajac"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697692675,"creation_date":1697567242,"question_id":77311418,"body_markdown":"There was a generator (tool) on Vaadin doc page: https://vaadin.com/docs/latest/components/icons#icon-set-generator that created or converted the JS file from a SVG input. The link to the tool has disappeared for a reason. Do you know something about that? Do you have a link to that tool? Thanks much. \r\n\r\nThe usage after conversion in Vaadin and java:\r\n\r\n    Icon close = new Icon(&quot;&lt;js-file-name&gt;&quot;, &quot;&lt;icon-id&gt;&quot;);  \r\n\r\n    \r\nI am looking at the current page https://vaadin.com/docs/latest/components/icons#icon-set-generator but the existing content does not offer a similar functionality.","title":"Icon generator from SVG missing in Vaadin documentation","body":"<p>There was a generator (tool) on Vaadin doc page: <a href=\"https://vaadin.com/docs/latest/components/icons#icon-set-generator\" rel=\"nofollow noreferrer\">https://vaadin.com/docs/latest/components/icons#icon-set-generator</a> that created or converted the JS file from a SVG input. The link to the tool has disappeared for a reason. Do you know something about that? Do you have a link to that tool? Thanks much.</p>\n<p>The usage after conversion in Vaadin and java:</p>\n<pre><code>Icon close = new Icon(&quot;&lt;js-file-name&gt;&quot;, &quot;&lt;icon-id&gt;&quot;);  \n</code></pre>\n<p>I am looking at the current page <a href=\"https://vaadin.com/docs/latest/components/icons#icon-set-generator\" rel=\"nofollow noreferrer\">https://vaadin.com/docs/latest/components/icons#icon-set-generator</a> but the existing content does not offer a similar functionality.</p>\n"},{"tags":["java","visual-studio-code","templates","package","redhat"],"comments":[{"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"score":0,"creation_date":1697784285,"post_id":77321003,"comment_id":136325517,"body_markdown":"Post your point of view on the original link or create a new one to report your detailed needs.","body":"Post your point of view on the original link or create a new one to report your detailed needs."},{"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"score":0,"creation_date":1697784309,"post_id":77321003,"comment_id":136325519,"body_markdown":"You already know that VSCode&#39;s existing features cannot achieve your needs. What do you expect from here? Please report your feature request in Github.","body":"You already know that VSCode&#39;s existing features cannot achieve your needs. What do you expect from here? Please report your feature request in Github."},{"owner":{"account_id":15396644,"reputation":25733,"user_id":11107541,"display_name":"starball"},"score":0,"creation_date":1697842135,"post_id":77321003,"comment_id":136335016,"body_markdown":"what _exactly_ do you mean by &quot;_reconfigure the package import statement_&quot; ?","body":"what <i>exactly</i> do you mean by &quot;<i>reconfigure the package import statement</i>&quot; ?"},{"owner":{"account_id":26558549,"reputation":116,"user_id":20186763,"display_name":"DAK"},"score":0,"creation_date":1697914438,"post_id":77321003,"comment_id":136340281,"body_markdown":"@JialeDu That was going to be my next step. However, because there were so few sources that directly addressed this issue, I didn&#39;t want to definitively conclude that this should be a feature request without first seeking additional input.","body":"@JialeDu That was going to be my next step. However, because there were so few sources that directly addressed this issue, I didn&#39;t want to definitively conclude that this should be a feature request without first seeking additional input."},{"owner":{"account_id":26558549,"reputation":116,"user_id":20186763,"display_name":"DAK"},"score":0,"creation_date":1697914817,"post_id":77321003,"comment_id":136340313,"body_markdown":"@starball When you save a `.java` file in VSCode, Intellisense will automatically configure the class body (using the file name) and the package import (based on the project&#39;s directory structure). I find the class body import useful, along with other Intellisense features, so I do not want to disable it completely. However, my directory structure is not set up such that I want it to be automatically included as a package import. It seems simple enough that I thought you might be able to configure where/what the imported package is using `settings.json`, or something similar, but it seems not.","body":"@starball When you save a <code>.java</code> file in VSCode, Intellisense will automatically configure the class body (using the file name) and the package import (based on the project&#39;s directory structure). I find the class body import useful, along with other Intellisense features, so I do not want to disable it completely. However, my directory structure is not set up such that I want it to be automatically included as a package import. It seems simple enough that I thought you might be able to configure where/what the imported package is using <code>settings.json</code>, or something similar, but it seems not."},{"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"score":0,"creation_date":1698039218,"post_id":77321003,"comment_id":136349692,"body_markdown":"If you have new actions, don’t forget to share them here.","body":"If you have new actions, don’t forget to share them here."}],"owner":{"account_id":26558549,"reputation":116,"user_id":20186763,"display_name":"DAK"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697690632,"creation_date":1697690632,"question_id":77321003,"body_markdown":"Whenever a Java file is created/saved in VSCode (using VSCode Project Manager for Java &amp; RedHat Language Support extensions), the package (directory structure) is automatically added to the top of the file, along with the automatic creation of the class body.\r\n```\r\npackage Example/Package/Name;\r\n\r\npublic class ExampleClass {\r\n    \r\n}\r\n```\r\n\r\nSince my directory structure is not configured for Java packages exclusively, more often than not, I end up having to remove the package that is automatically imported. \r\n\r\nI don&#39;t want to disable language support altogether, so I&#39;ve been looking for a way to either reconfigure the package import statement, or for a way to create a default &quot;new file template&quot; for `.java` files.  \r\n\r\nHowever, I haven&#39;t found a way do that, other than using &quot;snippets&quot;, which seems like a work-around, not a solution.\r\n\r\nI&#39;ve also tried editing my `settings.json`, but it seems the extent of what I can do there is limited to type comments and file headers (which don&#39;t address the package import or file body).\r\n```\r\n&quot;java.templates.typeComment&quot;:\r\n&quot;java.templates.fileHeader&quot;:\r\n```\r\n\r\nI have not been able to find any information on this topic, apart from this SO post here that was not adequately resolved: [Stop VSCode from Adding Package to Java Files][1].\r\n\r\nOr this issue request on GitHub, which wanted to remove both the package and class body auto import: [RedHat Developer Issues][2].\r\n\r\nI&#39;ve scoured VSCode &amp; RedHat docs but the VSCode documentation simply mentions that code completion is provided by Language Support from RedHat, but does not mention a way to configure it specifically: [VSCode Docs Java][3].\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/74671558/how-to-stop-vscode-from-adding-package-to-java-files\r\n  [2]: https://github.com/redhat-developer/vscode-java/issues/2652\r\n  [3]: https://code.visualstudio.com/docs/java/java-editing","title":"Reconfigure VSCode/RedHat Automatic Package Import in Java Files","body":"<p>Whenever a Java file is created/saved in VSCode (using VSCode Project Manager for Java &amp; RedHat Language Support extensions), the package (directory structure) is automatically added to the top of the file, along with the automatic creation of the class body.</p>\n<pre><code>package Example/Package/Name;\n\npublic class ExampleClass {\n    \n}\n</code></pre>\n<p>Since my directory structure is not configured for Java packages exclusively, more often than not, I end up having to remove the package that is automatically imported.</p>\n<p>I don't want to disable language support altogether, so I've been looking for a way to either reconfigure the package import statement, or for a way to create a default &quot;new file template&quot; for <code>.java</code> files.</p>\n<p>However, I haven't found a way do that, other than using &quot;snippets&quot;, which seems like a work-around, not a solution.</p>\n<p>I've also tried editing my <code>settings.json</code>, but it seems the extent of what I can do there is limited to type comments and file headers (which don't address the package import or file body).</p>\n<pre><code>&quot;java.templates.typeComment&quot;:\n&quot;java.templates.fileHeader&quot;:\n</code></pre>\n<p>I have not been able to find any information on this topic, apart from this SO post here that was not adequately resolved: <a href=\"https://stackoverflow.com/questions/74671558/how-to-stop-vscode-from-adding-package-to-java-files\">Stop VSCode from Adding Package to Java Files</a>.</p>\n<p>Or this issue request on GitHub, which wanted to remove both the package and class body auto import: <a href=\"https://github.com/redhat-developer/vscode-java/issues/2652\" rel=\"nofollow noreferrer\">RedHat Developer Issues</a>.</p>\n<p>I've scoured VSCode &amp; RedHat docs but the VSCode documentation simply mentions that code completion is provided by Language Support from RedHat, but does not mention a way to configure it specifically: <a href=\"https://code.visualstudio.com/docs/java/java-editing\" rel=\"nofollow noreferrer\">VSCode Docs Java</a>.</p>\n"},{"tags":["java","spring","flutter","firebase","firebase-cloud-messaging"],"answers":[{"tags":[],"owner":{"account_id":8884226,"reputation":514,"user_id":6633045,"display_name":"phuongnq1995"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1697687421,"creation_date":1697686519,"answer_id":77320820,"question_id":77289546,"body_markdown":"I&#39;m assuming your configuration is correct, the message still needs a `body` to send.\r\nYou can add `body`, `title`, `image` via `Message.putData`. You&#39;re putting key `New message` which is not considered a `body`. Try this\r\n```\r\nMessage msg = Message.builder()\r\n    .setToken(receiver.getNotificationDeviceID())\r\n    .putData(&quot;body&quot;, &quot;You have received a message from @&quot; + sender.getUsername())\r\n    .build();\r\n```\r\nAlso, you can do this \r\n\r\n```\r\nMessage msg = Message.builder()\r\n    .setToken(receiver.getNotificationDeviceID())\r\n    .setNotification(Notification.builder()\r\n        .setTitle(&quot;Some title&quot;)\r\n        .setBody(&quot;You have received a message from @&quot; + sender.getUsername())\r\n    .build());\r\n```","title":"FCM notifications not being sent with Spring","body":"<p>I'm assuming your configuration is correct, the message still needs a <code>body</code> to send.\nYou can add <code>body</code>, <code>title</code>, <code>image</code> via <code>Message.putData</code>. You're putting key <code>New message</code> which is not considered a <code>body</code>. Try this</p>\n<pre><code>Message msg = Message.builder()\n    .setToken(receiver.getNotificationDeviceID())\n    .putData(&quot;body&quot;, &quot;You have received a message from @&quot; + sender.getUsername())\n    .build();\n</code></pre>\n<p>Also, you can do this</p>\n<pre><code>Message msg = Message.builder()\n    .setToken(receiver.getNotificationDeviceID())\n    .setNotification(Notification.builder()\n        .setTitle(&quot;Some title&quot;)\n        .setBody(&quot;You have received a message from @&quot; + sender.getUsername())\n    .build());\n</code></pre>\n"}],"owner":{"account_id":18238102,"reputation":94,"user_id":13275649,"display_name":"Lucas Tomic"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77320820,"answer_count":1,"score":1,"last_activity_date":1697687421,"creation_date":1697216725,"question_id":77289546,"body_markdown":"I&#39;m trying to send notifications from my server made in Spring Boot with FCM. My client is made on Flutter.\r\n\r\n    @Service\r\n    public class ChatNotificationService implements IChatNotificationsService{\r\n        @Override\r\n        public void notify(User sender, User receiver) {\r\n            Message msg = Message.builder()\r\n                    .setToken(receiver.getNotificationDeviceID())\r\n                    .putData(&quot;New message&quot;, &quot;You have received a message from @&quot; + sender.getUsername())\r\n                    .build();\r\n            try{\r\n                FirebaseMessaging.getInstance().send(msg);\r\n            }catch (Exception e){\r\n                //Handle exception...\r\n            }\r\n    \r\n        }\r\n    }\r\n\r\nThe problem is that it aparently works properly. But, the message never arrives to the device. \r\n\r\nThe message is build without errors and the `try` block is executed correctly too. It returns the expected ID sush as \r\n\r\n   \r\n\r\n&gt; projects/myproject-b5ae1/messages/0:1500415314455276%31bd1c9631bd1c96\r\n\r\nBut the device doesn&#39;t receive any notification. \r\n\r\nI&#39;ve tried sending a message manually to **the same device registration token** with the Firebase dashboard and it works fine there. The device receives the notification as expected.\r\n[![Firebase dashboard][1]][1]\r\n\r\nIt also works properly using postman directly\r\n\r\n    POST https://fcm.googleapis.com/v1/projects/myproject-b5ae1/messages:send HTTP/1.1\r\n    \r\n    Content-Type: application/json\r\n    Authorization: Bearer ya29.ElqKBGN2Ri_Uz...HnS_uNreA\r\n    \r\n    {\r\n       &quot;message&quot;:{\r\n          &quot;token&quot;:&quot;bk3RNwTe3H0:CI2k_HHwgIpoDKCIZvvDMExUdFQ3P1...&quot;,\r\n          &quot;notification&quot;:{\r\n            &quot;body&quot;:&quot;This is an FCM notification message!&quot;,\r\n            &quot;title&quot;:&quot;FCM Message&quot;\r\n          }\r\n       }\r\n    }\r\n\r\nThis is my configuration class\r\n\r\n    @Configuration\r\n    public class FirebaseConfiguration {\r\n        @Bean\r\n        FirebaseMessaging firebaseMessaging(FirebaseApp firebaseApp) {\r\n            return FirebaseMessaging.getInstance(firebaseApp);\r\n        }\r\n        @Bean\r\n        FirebaseApp firebaseApp(GoogleCredentials credentials) {\r\n            FirebaseOptions options = FirebaseOptions.builder()\r\n                    .setCredentials(credentials)\r\n                    .build();\r\n    \r\n            if(FirebaseApp.getApps().isEmpty()) { \r\n                return FirebaseApp.initializeApp(options);\r\n            }else{\r\n                return FirebaseApp.getInstance();\r\n            }\r\n        }\r\n    \r\n        @Bean\r\n        GoogleCredentials googleCredentials() throws IOException {\r\n           return GoogleCredentials.fromStream(new ClassPathResource(&quot;firebase-key.json&quot;).getInputStream());\r\n        }\r\n    \r\n    }\r\n\r\n\r\nOther things i&#39;ve tried:\r\n\r\n - Testing on emulator and physical device\r\n - Checked notifications settings were turned on\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ukY2T.png\r\n\r\n","title":"FCM notifications not being sent with Spring","body":"<p>I'm trying to send notifications from my server made in Spring Boot with FCM. My client is made on Flutter.</p>\n<pre><code>@Service\npublic class ChatNotificationService implements IChatNotificationsService{\n    @Override\n    public void notify(User sender, User receiver) {\n        Message msg = Message.builder()\n                .setToken(receiver.getNotificationDeviceID())\n                .putData(&quot;New message&quot;, &quot;You have received a message from @&quot; + sender.getUsername())\n                .build();\n        try{\n            FirebaseMessaging.getInstance().send(msg);\n        }catch (Exception e){\n            //Handle exception...\n        }\n\n    }\n}\n</code></pre>\n<p>The problem is that it aparently works properly. But, the message never arrives to the device.</p>\n<p>The message is build without errors and the <code>try</code> block is executed correctly too. It returns the expected ID sush as</p>\n<blockquote>\n<p>projects/myproject-b5ae1/messages/0:1500415314455276%31bd1c9631bd1c96</p>\n</blockquote>\n<p>But the device doesn't receive any notification.</p>\n<p>I've tried sending a message manually to <strong>the same device registration token</strong> with the Firebase dashboard and it works fine there. The device receives the notification as expected.\n<a href=\"https://i.stack.imgur.com/ukY2T.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ukY2T.png\" alt=\"Firebase dashboard\" /></a></p>\n<p>It also works properly using postman directly</p>\n<pre><code>POST https://fcm.googleapis.com/v1/projects/myproject-b5ae1/messages:send HTTP/1.1\n\nContent-Type: application/json\nAuthorization: Bearer ya29.ElqKBGN2Ri_Uz...HnS_uNreA\n\n{\n   &quot;message&quot;:{\n      &quot;token&quot;:&quot;bk3RNwTe3H0:CI2k_HHwgIpoDKCIZvvDMExUdFQ3P1...&quot;,\n      &quot;notification&quot;:{\n        &quot;body&quot;:&quot;This is an FCM notification message!&quot;,\n        &quot;title&quot;:&quot;FCM Message&quot;\n      }\n   }\n}\n</code></pre>\n<p>This is my configuration class</p>\n<pre><code>@Configuration\npublic class FirebaseConfiguration {\n    @Bean\n    FirebaseMessaging firebaseMessaging(FirebaseApp firebaseApp) {\n        return FirebaseMessaging.getInstance(firebaseApp);\n    }\n    @Bean\n    FirebaseApp firebaseApp(GoogleCredentials credentials) {\n        FirebaseOptions options = FirebaseOptions.builder()\n                .setCredentials(credentials)\n                .build();\n\n        if(FirebaseApp.getApps().isEmpty()) { \n            return FirebaseApp.initializeApp(options);\n        }else{\n            return FirebaseApp.getInstance();\n        }\n    }\n\n    @Bean\n    GoogleCredentials googleCredentials() throws IOException {\n       return GoogleCredentials.fromStream(new ClassPathResource(&quot;firebase-key.json&quot;).getInputStream());\n    }\n\n}\n</code></pre>\n<p>Other things i've tried:</p>\n<ul>\n<li>Testing on emulator and physical device</li>\n<li>Checked notifications settings were turned on</li>\n</ul>\n"},{"tags":["java","grpc","netty","grpc-java"],"answers":[{"tags":[],"owner":{"account_id":9506132,"reputation":46,"user_id":7065595,"display_name":"Ivy Yifei Zhuang"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697672911,"creation_date":1697672911,"answer_id":77320195,"question_id":77304437,"body_markdown":"I imagine you are talking about receiving messages from the server. For send, the message is queued up once you send until it is flushed, you can not block netty at sending.\r\n\r\nFor message you received from wire, the netty transport immediately handover to call executor. Processing of your RPC will jump and be scheduled on the call executor. So the netty server does not block even when you write blocking code.\r\nFeel free to write blocking code when using grpc-java. It has nothing to do with blocking netty.","title":"Should I avoid blocking code in netty-grpc?","body":"<p>I imagine you are talking about receiving messages from the server. For send, the message is queued up once you send until it is flushed, you can not block netty at sending.</p>\n<p>For message you received from wire, the netty transport immediately handover to call executor. Processing of your RPC will jump and be scheduled on the call executor. So the netty server does not block even when you write blocking code.\nFeel free to write blocking code when using grpc-java. It has nothing to do with blocking netty.</p>\n"}],"owner":{"account_id":25554154,"reputation":181,"user_id":19338016,"display_name":"hololensen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":111,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":1,"score":2,"last_activity_date":1697686589,"creation_date":1697483634,"question_id":77304437,"body_markdown":"The most popular option is running `grpc` server on `netty`, in my understanding `netty` use a worker event loop group which call handlers in the pipeline, so basically my rpc is one of these handlers in the pipeline. `Netty` doesn’t like long blocking code, so in my rpc should I avoid blocking code, or could write good-old blocking servers?","title":"Should I avoid blocking code in netty-grpc?","body":"<p>The most popular option is running <code>grpc</code> server on <code>netty</code>, in my understanding <code>netty</code> use a worker event loop group which call handlers in the pipeline, so basically my rpc is one of these handlers in the pipeline. <code>Netty</code> doesn’t like long blocking code, so in my rpc should I avoid blocking code, or could write good-old blocking servers?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":5,"creation_date":1697669405,"post_id":77320009,"comment_id":136310504,"body_markdown":"`List&lt;Number&gt; numberList = new ArrayList&lt;&gt;(longList);` should be sufficient.  There is no point in converting a Long to a Long.  A Long is already a Number.","body":"<code>List&lt;Number&gt; numberList = new ArrayList&lt;&gt;(longList);</code> should be sufficient.  There is no point in converting a Long to a Long.  A Long is already a Number."},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":3,"creation_date":1697670364,"post_id":77320009,"comment_id":136310574,"body_markdown":"alternative: `List&lt;Number&gt; numberList = List.copyOf(longList);` - returns an [unmodifiable List](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html#unmodifiable) and does **not** accept `null` elements","body":"alternative: <code>List&lt;Number&gt; numberList = List.copyOf(longList);</code> - returns an <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html#unmodifiable\" rel=\"nofollow noreferrer\">unmodifiable List</a> and does <b>not</b> accept <code>null</code> elements"}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310744,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697686499,"creation_date":1697683191,"answer_id":77320644,"question_id":77320009,"body_markdown":"No need to convert your `Long` objects. Every `Long` object is also a `Number` object, with [`Long`][1] being a subclass of [`Number`][2].\r\n\r\nMake a new array of the supertype built from elements of a collection of the subtype. \r\n\r\n```java\r\nList &lt; Long &gt; longs = new ArrayList&lt;&gt;( List.of( 7L , 42L ) ) ;\r\nList &lt; Number &gt; numbers = new ArrayList&lt;&gt;( longs ) ;\r\n```\r\n\r\nUse [`List.copyOf`][3] for an unmodifiable list without nulls. \r\n\r\n```java\r\nList &lt; Long &gt; longs = new ArrayList&lt;&gt;( List.of( 7L , 42L ) ) ;\r\nList &lt; Number &gt; numbers = List.copyOf( longs ) ;\r\n```\r\n\r\n&gt;Is this the best way? \r\n\r\nDefine “best”.\r\n\r\n&gt;Will there be loss of data?\r\n\r\nNo.\r\n\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/21/docs//api/java.base/java/lang/Long.html\r\n  [2]: https://docs.oracle.com/en/java/javase/21/docs//api/java.base/java/lang/Number.html\r\n  [3]: https://docs.oracle.com/en/java/javase/21/docs//api/java.base/java/util/List.html#copyOf(java.util.Collection)","title":"In java, how to convert a List&lt;Long&gt; to List&lt;Number&gt;?","body":"<p>No need to convert your <code>Long</code> objects. Every <code>Long</code> object is also a <code>Number</code> object, with <a href=\"https://docs.oracle.com/en/java/javase/21/docs//api/java.base/java/lang/Long.html\" rel=\"nofollow noreferrer\"><code>Long</code></a> being a subclass of <a href=\"https://docs.oracle.com/en/java/javase/21/docs//api/java.base/java/lang/Number.html\" rel=\"nofollow noreferrer\"><code>Number</code></a>.</p>\n<p>Make a new array of the supertype built from elements of a collection of the subtype.</p>\n<pre class=\"lang-java prettyprint-override\"><code>List &lt; Long &gt; longs = new ArrayList&lt;&gt;( List.of( 7L , 42L ) ) ;\nList &lt; Number &gt; numbers = new ArrayList&lt;&gt;( longs ) ;\n</code></pre>\n<p>Use <a href=\"https://docs.oracle.com/en/java/javase/21/docs//api/java.base/java/util/List.html#copyOf(java.util.Collection)\" rel=\"nofollow noreferrer\"><code>List.copyOf</code></a> for an unmodifiable list without nulls.</p>\n<pre class=\"lang-java prettyprint-override\"><code>List &lt; Long &gt; longs = new ArrayList&lt;&gt;( List.of( 7L , 42L ) ) ;\nList &lt; Number &gt; numbers = List.copyOf( longs ) ;\n</code></pre>\n<blockquote>\n<p>Is this the best way?</p>\n</blockquote>\n<p>Define “best”.</p>\n<blockquote>\n<p>Will there be loss of data?</p>\n</blockquote>\n<p>No.</p>\n"}],"owner":{"account_id":4759176,"reputation":53,"user_id":3847041,"accept_rate":50,"display_name":"puzzledchamp"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1697686499,"creation_date":1697669039,"question_id":77320009,"body_markdown":"I need to convert a list of Long to List of Number. How can I do that?\r\n\r\nI have tried this:\r\n```\r\n        List&lt;Number&gt; numberList = longList.stream()\r\n            .map(Long::new) // Convert each Long to a Long (not Number)\r\n            .collect(Collectors.toList());\r\n```\r\n\r\nIs this the best way?\r\nWill there be loss of data?","title":"In java, how to convert a List&lt;Long&gt; to List&lt;Number&gt;?","body":"<p>I need to convert a list of Long to List of Number. How can I do that?</p>\n<p>I have tried this:</p>\n<pre><code>        List&lt;Number&gt; numberList = longList.stream()\n            .map(Long::new) // Convert each Long to a Long (not Number)\n            .collect(Collectors.toList());\n</code></pre>\n<p>Is this the best way?\nWill there be loss of data?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":61679,"reputation":6211,"user_id":183704,"accept_rate":60,"display_name":"BuZZ-dEE"},"score":5,"creation_date":1487930897,"post_id":4355303,"comment_id":72015897,"body_markdown":"Possible duplicate of [Safely casting long to int in Java](http://stackoverflow.com/questions/1590831/safely-casting-long-to-int-in-java)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/1590831/safely-casting-long-to-int-in-java\">Safely casting long to int in Java</a>"},{"owner":{"account_id":12583055,"reputation":447,"user_id":9732672,"display_name":"NomadMaker"},"score":0,"creation_date":1610613090,"post_id":4355303,"comment_id":116189355,"body_markdown":"``if ((lval &lt;= Integer.MAX_VALUE) &amp;&amp; (lval &gt;= Integer.MIN_VALUE)) intValue = (int)lval;``","body":"<code>if ((lval &lt;= Integer.MAX_VALUE) &amp;&amp; (lval &gt;= Integer.MIN_VALUE)) intValue = (int)lval;</code>"}],"answers":[{"tags":[],"owner":{"account_id":846,"reputation":131801,"user_id":1109,"accept_rate":72,"display_name":"Theo"},"down_vote_count":2,"up_vote_count":32,"is_accepted":false,"score":30,"last_activity_date":1291490095,"creation_date":1291490095,"answer_id":4355309,"question_id":4355303,"body_markdown":"    long x = 3;\r\n    int y = (int) x;\r\n\r\nbut that assumes that the `long` can be represented as an `int`, you do know the difference between the two?","title":"How can I convert a long to int in Java?","body":"<pre><code>long x = 3;\nint y = (int) x;\n</code></pre>\n\n<p>but that assumes that the <code>long</code> can be represented as an <code>int</code>, you do know the difference between the two?</p>\n"},{"tags":[],"owner":{"account_id":186062,"reputation":39311,"user_id":423170,"accept_rate":79,"display_name":"Frxstrem"},"down_vote_count":3,"up_vote_count":507,"is_accepted":false,"score":504,"last_activity_date":1539634035,"creation_date":1291490121,"answer_id":4355313,"question_id":4355303,"body_markdown":"**Updated, in Java 8:** \r\n\r\n    Math.toIntExact(value);\r\n\r\n**Original Answer:** \r\n\r\nSimple type casting should do it:\r\n\r\n    long l = 100000;\r\n    int i = (int) l;\r\n\r\nNote, however, that large numbers (usually larger than `2147483647` and smaller than `-2147483648`) will lose some of the bits and would be represented incorrectly.\r\n\r\nFor instance, `2147483648` would be represented as `-2147483648`.","title":"How can I convert a long to int in Java?","body":"<p><strong>Updated, in Java 8:</strong> </p>\n\n<pre><code>Math.toIntExact(value);\n</code></pre>\n\n<p><strong>Original Answer:</strong> </p>\n\n<p>Simple type casting should do it:</p>\n\n<pre><code>long l = 100000;\nint i = (int) l;\n</code></pre>\n\n<p>Note, however, that large numbers (usually larger than <code>2147483647</code> and smaller than <code>-2147483648</code>) will lose some of the bits and would be represented incorrectly.</p>\n\n<p>For instance, <code>2147483648</code> would be represented as <code>-2147483648</code>.</p>\n"},{"tags":[],"owner":{"account_id":58256,"reputation":3170,"user_id":174463,"accept_rate":100,"display_name":"mndrix"},"down_vote_count":2,"up_vote_count":75,"is_accepted":false,"score":73,"last_activity_date":1597299324,"creation_date":1291492104,"answer_id":4355475,"question_id":4355303,"body_markdown":"For small values, casting is enough:\r\n\r\n    long l = 42;\r\n    int i = (int) l;\r\n\r\nHowever, a `long` can hold more information than an `int`, so it&#39;s not possible to perfectly convert from `long` to `int`, in the general case. If the `long` holds a number less than or equal to `Integer.MAX_VALUE` you can convert it by casting without losing any information.\r\n\r\nFor example, the following sample code:\r\n\r\n    System.out.println( &quot;largest long is &quot; + Long.MAX_VALUE );\r\n    System.out.println( &quot;largest int is &quot; + Integer.MAX_VALUE );\r\n\r\n    long x = (long)Integer.MAX_VALUE;\r\n    x++;\r\n    System.out.println(&quot;long x=&quot; + x);\r\n\r\n    int y = (int) x;\r\n    System.out.println(&quot;int y=&quot; + y);\r\n\r\nproduces the following output on my machine:\r\n\r\n    largest long is 9223372036854775807\r\n    largest int is 2147483647\r\n    long x=2147483648\r\n    int y=-2147483648\r\n\r\nNotice the negative sign on `y`. Because `x` held a value one larger than `Integer.MAX_VALUE`, `int y` was unable to hold it.  In this case, it wrapped around to the negative numbers.\r\n\r\nIf you wanted to handle this case yourself, you might do something like:\r\n\r\n    if ( x &gt; (long)Integer.MAX_VALUE ) {\r\n        // x is too big to convert, throw an exception or something useful\r\n    }\r\n    else {\r\n        y = (int)x;\r\n    }\r\n\r\nAll of this assumes positive numbers. For negative numbers, use `MIN_VALUE` instead of `MAX_VALUE`.","title":"How can I convert a long to int in Java?","body":"<p>For small values, casting is enough:</p>\n<pre><code>long l = 42;\nint i = (int) l;\n</code></pre>\n<p>However, a <code>long</code> can hold more information than an <code>int</code>, so it's not possible to perfectly convert from <code>long</code> to <code>int</code>, in the general case. If the <code>long</code> holds a number less than or equal to <code>Integer.MAX_VALUE</code> you can convert it by casting without losing any information.</p>\n<p>For example, the following sample code:</p>\n<pre><code>System.out.println( &quot;largest long is &quot; + Long.MAX_VALUE );\nSystem.out.println( &quot;largest int is &quot; + Integer.MAX_VALUE );\n\nlong x = (long)Integer.MAX_VALUE;\nx++;\nSystem.out.println(&quot;long x=&quot; + x);\n\nint y = (int) x;\nSystem.out.println(&quot;int y=&quot; + y);\n</code></pre>\n<p>produces the following output on my machine:</p>\n<pre><code>largest long is 9223372036854775807\nlargest int is 2147483647\nlong x=2147483648\nint y=-2147483648\n</code></pre>\n<p>Notice the negative sign on <code>y</code>. Because <code>x</code> held a value one larger than <code>Integer.MAX_VALUE</code>, <code>int y</code> was unable to hold it.  In this case, it wrapped around to the negative numbers.</p>\n<p>If you wanted to handle this case yourself, you might do something like:</p>\n<pre><code>if ( x &gt; (long)Integer.MAX_VALUE ) {\n    // x is too big to convert, throw an exception or something useful\n}\nelse {\n    y = (int)x;\n}\n</code></pre>\n<p>All of this assumes positive numbers. For negative numbers, use <code>MIN_VALUE</code> instead of <code>MAX_VALUE</code>.</p>\n"},{"tags":[],"owner":{"account_id":237493,"reputation":11836,"user_id":505714,"accept_rate":87,"display_name":"Alexis Dufrenoy"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1697681669,"creation_date":1291492275,"answer_id":4355493,"question_id":4355303,"body_markdown":"In Java, a long is a signed 64 bits number, which means you can store numbers between -9,223,372,036,854,775,808 and 9,223,372,036,854,775,807 (inclusive).\r\n\r\nAn int, on the other hand, is signed 32 bits number, which means you can store numbers between -2,147,483,648 and 2,147,483,647 (inclusive).\r\n\r\nSo if your long is outside of the values permitted for an int, you will not get a valuable conversion.\r\n\r\nDetails about sizes of primitive Java types here:  \r\nhttps://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html","title":"How can I convert a long to int in Java?","body":"<p>In Java, a long is a signed 64 bits number, which means you can store numbers between -9,223,372,036,854,775,808 and 9,223,372,036,854,775,807 (inclusive).</p>\n<p>An int, on the other hand, is signed 32 bits number, which means you can store numbers between -2,147,483,648 and 2,147,483,647 (inclusive).</p>\n<p>So if your long is outside of the values permitted for an int, you will not get a valuable conversion.</p>\n<p>Details about sizes of primitive Java types here:<br />\n<a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html</a></p>\n"},{"tags":[],"owner":{"account_id":1466645,"reputation":677,"user_id":1379291,"display_name":"eleonzx"},"down_vote_count":3,"up_vote_count":31,"is_accepted":false,"score":28,"last_activity_date":1584451952,"creation_date":1340754924,"answer_id":11217583,"question_id":4355303,"body_markdown":" You can use the `Long` wrapper instead of `long` primitive and call \r\n\r\n    Long.intValue()\r\n\r\n[Java7 intValue() docs][1]\r\n\r\nIt rounds/truncate the `long` value accordingly to fit in an `int`.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/lang/Long.html#intValue()","title":"How can I convert a long to int in Java?","body":"<p>You can use the <code>Long</code> wrapper instead of <code>long</code> primitive and call </p>\n\n<pre><code>Long.intValue()\n</code></pre>\n\n<p><a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/Long.html#intValue()\" rel=\"noreferrer\">Java7 intValue() docs</a></p>\n\n<p>It rounds/truncate the <code>long</code> value accordingly to fit in an <code>int</code>.</p>\n"},{"tags":[],"owner":{"account_id":103751,"reputation":3256,"user_id":277733,"display_name":"Andrej Herich"},"down_vote_count":2,"up_vote_count":41,"is_accepted":false,"score":39,"last_activity_date":1473800813,"creation_date":1346828833,"answer_id":12276199,"question_id":4355303,"body_markdown":"If using [Guava library][3], there are methods [`Ints.checkedCast(long)`][1] and [`Ints.saturatedCast(long)`][2] for converting `long` to `int`.\r\n\r\n\r\n  [1]: https://google.github.io/guava/releases/19.0/api/docs/com/google/common/primitives/Ints.html#checkedCast(long)\r\n  [2]: https://google.github.io/guava/releases/19.0/api/docs/com/google/common/primitives/Ints.html#saturatedCast(long)\r\n  [3]: https://github.com/google/guava","title":"How can I convert a long to int in Java?","body":"<p>If using <a href=\"https://github.com/google/guava\" rel=\"noreferrer\">Guava library</a>, there are methods <a href=\"https://google.github.io/guava/releases/19.0/api/docs/com/google/common/primitives/Ints.html#checkedCast(long)\" rel=\"noreferrer\"><code>Ints.checkedCast(long)</code></a> and <a href=\"https://google.github.io/guava/releases/19.0/api/docs/com/google/common/primitives/Ints.html#saturatedCast(long)\" rel=\"noreferrer\"><code>Ints.saturatedCast(long)</code></a> for converting <code>long</code> to <code>int</code>.</p>\n"},{"tags":[],"owner":{"account_id":540802,"reputation":45,"user_id":909128,"display_name":"tsaowe"},"down_vote_count":9,"up_vote_count":1,"is_accepted":false,"score":-8,"last_activity_date":1516133981,"creation_date":1362359422,"answer_id":15193006,"question_id":4355303,"body_markdown":"In Spring, there is a rigorous way to convert a long to int\r\n\r\nnot only lnog can convert into int,any type of class extends Number can convert to other Number type in general,here I will show you how to convert a long to int,other type vice versa.\r\n\r\n\r\n    Long l = 1234567L;\r\n    int i = org.springframework.util.NumberUtils.convertNumberToTargetClass(l, Integer.class);\r\n\r\n\r\n![convert long to int][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/BElEq.jpg","title":"How can I convert a long to int in Java?","body":"<p>In Spring, there is a rigorous way to convert a long to int</p>\n\n<p>not only lnog can convert into int,any type of class extends Number can convert to other Number type in general,here I will show you how to convert a long to int,other type vice versa.</p>\n\n<pre><code>Long l = 1234567L;\nint i = org.springframework.util.NumberUtils.convertNumberToTargetClass(l, Integer.class);\n</code></pre>\n\n<p><img src=\"https://i.stack.imgur.com/BElEq.jpg\" alt=\"convert long to int\"></p>\n"},{"tags":[],"owner":{"account_id":1875358,"reputation":614,"user_id":1696683,"accept_rate":75,"display_name":"Kristijan Drača"},"down_vote_count":5,"up_vote_count":0,"is_accepted":false,"score":-5,"last_activity_date":1405435451,"creation_date":1382688422,"answer_id":19584424,"question_id":4355303,"body_markdown":"    Long l = 100;\r\n    int i = Math.round(l);","title":"How can I convert a long to int in Java?","body":"<pre><code>Long l = 100;\nint i = Math.round(l);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3249075,"reputation":2653,"user_id":2739864,"display_name":"Laxman"},"down_vote_count":6,"up_vote_count":222,"is_accepted":false,"score":216,"last_activity_date":1405434736,"creation_date":1386234667,"answer_id":20395761,"question_id":4355303,"body_markdown":"\r\n    Long x = 100L;\r\n    int y = x.intValue();\r\n\r\n&lt;b&gt;&lt;/b&gt;","title":"How can I convert a long to int in Java?","body":"<pre><code>Long x = 100L;\nint y = x.intValue();\n</code></pre>\n\n<p><b></b></p>\n"},{"tags":[],"owner":{"account_id":2648879,"reputation":4294,"user_id":2291056,"display_name":"Kuchi"},"down_vote_count":0,"up_vote_count":67,"is_accepted":false,"score":67,"last_activity_date":1461770714,"creation_date":1459421928,"answer_id":36331461,"question_id":4355303,"body_markdown":"Since Java 8\r\nyou can use: Math.toIntExact(long value)\r\n\r\n[See JavaDoc: Math.toIntExact][1]\r\n\r\n&gt; Returns the value of the long argument; throwing an exception if the value overflows an int.\r\n\r\nSource code of `Math.toIntExact` in JDK 8:\r\n\r\n\r\n    public static int toIntExact(long value) {\r\n        if ((int)value != value) {\r\n            throw new ArithmeticException(&quot;integer overflow&quot;);\r\n        }\r\n        return (int)value;\r\n    }\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/lang/Math.html#toIntExact-long-","title":"How can I convert a long to int in Java?","body":"<p>Since Java 8\nyou can use: Math.toIntExact(long value)</p>\n\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Math.html#toIntExact-long-\">See JavaDoc: Math.toIntExact</a></p>\n\n<blockquote>\n  <p>Returns the value of the long argument; throwing an exception if the value overflows an int.</p>\n</blockquote>\n\n<p>Source code of <code>Math.toIntExact</code> in JDK 8:</p>\n\n<pre><code>public static int toIntExact(long value) {\n    if ((int)value != value) {\n        throw new ArithmeticException(\"integer overflow\");\n    }\n    return (int)value;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2097710,"reputation":795,"user_id":1866115,"accept_rate":85,"display_name":"Mohammad H"},"down_vote_count":2,"up_vote_count":7,"is_accepted":false,"score":5,"last_activity_date":1502172152,"creation_date":1502172152,"answer_id":45560380,"question_id":4355303,"body_markdown":"If direct casting shows error you can do it like this:\r\n\r\n    Long id = 100;\r\n    int int_id = (int) (id % 100000);","title":"How can I convert a long to int in Java?","body":"<p>If direct casting shows error you can do it like this:</p>\n\n<pre><code>Long id = 100;\nint int_id = (int) (id % 100000);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4567927,"reputation":5819,"user_id":3708462,"accept_rate":57,"display_name":"Emdadul Sawon"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1533114268,"creation_date":1533114268,"answer_id":51629322,"question_id":4355303,"body_markdown":"In **Java 8** I do in following way\r\n\r\n    long l = 100L;\r\n    int i = Math.toIntExact(l);\r\nThis method throws `ArithmaticException` if `long` value exceed range of `int`. Thus I am safe from data loss. ","title":"How can I convert a long to int in Java?","body":"<p>In <strong>Java 8</strong> I do in following way</p>\n\n<pre><code>long l = 100L;\nint i = Math.toIntExact(l);\n</code></pre>\n\n<p>This method throws <code>ArithmaticException</code> if <code>long</code> value exceed range of <code>int</code>. Thus I am safe from data loss. </p>\n"},{"tags":[],"owner":{"account_id":14694822,"reputation":640,"user_id":10612481,"display_name":"MANOJ G"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1564996950,"creation_date":1551165451,"answer_id":54880211,"question_id":4355303,"body_markdown":"long x = 3120L;  //take any long value\r\nint z =  x.intValue();  //you can convert double to int also in the same way\r\n\r\nif you needto covert directly then\r\n\r\nlongvalue.intvalue();","title":"How can I convert a long to int in Java?","body":"<p>long x = 3120L;  //take any long value\nint z =  x.intValue();  //you can convert double to int also in the same way</p>\n\n<p>if you needto covert directly then</p>\n\n<p>longvalue.intvalue();</p>\n"},{"tags":[],"owner":{"account_id":18724199,"reputation":1,"user_id":13651274,"display_name":"user13651274"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1590910436,"creation_date":1590910436,"answer_id":62112996,"question_id":4355303,"body_markdown":"If you want to make a safe conversion and enjoy the use of Java8 with Lambda expression\r\nYou can use it like:\r\n\r\n    val -&gt; Optional.ofNullable(val).map(Long::intValue).orElse(null)","title":"How can I convert a long to int in Java?","body":"<p>If you want to make a safe conversion and enjoy the use of Java8 with Lambda expression\nYou can use it like:</p>\n\n<pre><code>val -&gt; Optional.ofNullable(val).map(Long::intValue).orElse(null)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18950744,"reputation":21,"user_id":13828507,"display_name":"YrvCodes"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1593631323,"creation_date":1593629742,"answer_id":62683632,"question_id":4355303,"body_markdown":"Manual typecasting can be done here:\r\n\r\n    long x1 = 1234567891;\r\n    int y1 = (int) x1;\r\n    System.out.println(&quot;in value is &quot; + y1);","title":"How can I convert a long to int in Java?","body":"<p>Manual typecasting can be done here:</p>\n<pre><code>long x1 = 1234567891;\nint y1 = (int) x1;\nSystem.out.println(&quot;in value is &quot; + y1);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":74735,"reputation":4731,"user_id":214597,"accept_rate":96,"display_name":"Stefan Hendriks"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1604574828,"creation_date":1604574828,"answer_id":64696035,"question_id":4355303,"body_markdown":"Shortest, most safe and easiest solution is:\r\n\r\n    long myValue=...;\r\n    int asInt = Long.valueOf(myValue).intValue();\r\n\r\nDo note, the behavior of `Long.valueOf` is as such:\r\n\r\nUsing this code:\r\n\r\n    System.out.println(&quot;Long max: &quot; + Long.MAX_VALUE);\r\n    System.out.println(&quot;Int max: &quot; + Integer.MAX_VALUE);        \r\n    long maxIntValue = Integer.MAX_VALUE;\r\n    System.out.println(&quot;Long maxIntValue to int: &quot; + Long.valueOf(maxIntValue).intValue());\r\n    long maxIntValuePlusOne = Integer.MAX_VALUE + 1;\r\n    System.out.println(&quot;Long maxIntValuePlusOne to int: &quot; + Long.valueOf(maxIntValuePlusOne).intValue());\r\n    System.out.println(&quot;Long max to int: &quot; + Long.valueOf(Long.MAX_VALUE).intValue());\r\n\r\nResults into:\r\n```\r\nLong max: 9223372036854775807\r\nInt max: 2147483647\r\nLong max to int: -1\r\nLong maxIntValue to int: 2147483647\r\nLong maxIntValuePlusOne to int: -2147483648\r\n``` ","title":"How can I convert a long to int in Java?","body":"<p>Shortest, most safe and easiest solution is:</p>\n<pre><code>long myValue=...;\nint asInt = Long.valueOf(myValue).intValue();\n</code></pre>\n<p>Do note, the behavior of <code>Long.valueOf</code> is as such:</p>\n<p>Using this code:</p>\n<pre><code>System.out.println(&quot;Long max: &quot; + Long.MAX_VALUE);\nSystem.out.println(&quot;Int max: &quot; + Integer.MAX_VALUE);        \nlong maxIntValue = Integer.MAX_VALUE;\nSystem.out.println(&quot;Long maxIntValue to int: &quot; + Long.valueOf(maxIntValue).intValue());\nlong maxIntValuePlusOne = Integer.MAX_VALUE + 1;\nSystem.out.println(&quot;Long maxIntValuePlusOne to int: &quot; + Long.valueOf(maxIntValuePlusOne).intValue());\nSystem.out.println(&quot;Long max to int: &quot; + Long.valueOf(Long.MAX_VALUE).intValue());\n</code></pre>\n<p>Results into:</p>\n<pre><code>Long max: 9223372036854775807\nInt max: 2147483647\nLong max to int: -1\nLong maxIntValue to int: 2147483647\nLong maxIntValuePlusOne to int: -2147483648\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19657800,"reputation":17,"user_id":14390015,"display_name":"Syed Irfan Hussaini"},"down_vote_count":4,"up_vote_count":0,"is_accepted":false,"score":-4,"last_activity_date":1610612060,"creation_date":1610612060,"answer_id":65715462,"question_id":4355303,"body_markdown":"I Also Faced This Problem.\r\nTo Solve This I have first converted my long to String then to int.\r\n\r\n    int i = Integer.parseInt(String.valueOf(long));","title":"How can I convert a long to int in Java?","body":"<p>I Also Faced This Problem.\nTo Solve This I have first converted my long to String then to int.</p>\n<pre><code>int i = Integer.parseInt(String.valueOf(long));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20879788,"reputation":41,"user_id":15337823,"display_name":"Daniel Tam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1615412515,"creation_date":1615412515,"answer_id":66573283,"question_id":4355303,"body_markdown":"```\r\nlong x;\r\nint y;\r\ny = (int) x\r\n```\r\nYou can cast a long to int so long as the number is less than 2147483647 without an error.","title":"How can I convert a long to int in Java?","body":"<pre><code>long x;\nint y;\ny = (int) x\n</code></pre>\n<p>You can cast a long to int so long as the number is less than 2147483647 without an error.</p>\n"},{"tags":[],"owner":{"account_id":9901847,"reputation":79,"user_id":7331630,"display_name":"ryuik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632856412,"creation_date":1632849032,"answer_id":69365904,"question_id":4355303,"body_markdown":"I&#39;m adding few key details. \r\n\r\nBasically what Java does is truncate `long` after 32 bits, so simple typecasting will do the trick: \r\n\r\n        long l=100000000000000000l;\r\n        System.out.println(Long.toString(l,2));\r\n        int t=(int)l;\r\n        System.out.println(Integer.toString(t,2));\r\n\r\nWhich outputs:\r\n\r\n    101100011010001010111100001011101100010100000000000000000\r\n                              1011101100010100000000000000000\r\n\r\nfor `l=1000000043634760000l` it outputs:\r\n\r\n    110111100000101101101011110111010000001110011001100101000000\r\n                                 -101111110001100110011011000000\r\n\r\nIf we convert this `-101111110001100110011011000000` in proper two&#39;s compliment we will get the exact 32-bit signed truncated from the `long`.\r\n","title":"How can I convert a long to int in Java?","body":"<p>I'm adding few key details.</p>\n<p>Basically what Java does is truncate <code>long</code> after 32 bits, so simple typecasting will do the trick:</p>\n<pre><code>    long l=100000000000000000l;\n    System.out.println(Long.toString(l,2));\n    int t=(int)l;\n    System.out.println(Integer.toString(t,2));\n</code></pre>\n<p>Which outputs:</p>\n<pre><code>101100011010001010111100001011101100010100000000000000000\n                          1011101100010100000000000000000\n</code></pre>\n<p>for <code>l=1000000043634760000l</code> it outputs:</p>\n<pre><code>110111100000101101101011110111010000001110011001100101000000\n                             -101111110001100110011011000000\n</code></pre>\n<p>If we convert this <code>-101111110001100110011011000000</code> in proper two's compliment we will get the exact 32-bit signed truncated from the <code>long</code>.</p>\n"},{"tags":[],"owner":{"account_id":27178441,"reputation":1,"user_id":20714092,"display_name":"Senim Kesharwani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672777144,"creation_date":1672769477,"answer_id":74997134,"question_id":4355303,"body_markdown":"```java\r\n// Java Program to convert long to int\r\n  \r\nclass Main {\r\n  public static void main(String[] args) {\r\n  \r\n    // create long variable\r\n    long value1 = 523386L;\r\n    long value2 = -4456368L;\r\n  \r\n    // change long to int\r\n    int num1 = Math.toIntExact(value1);\r\n    int num2 = Math.toIntExact(value2);\r\n      \r\n    // print the type\r\n    System.out.println(&quot;Converted type: &quot;+ ((Object)num1).getClass().getName());\r\n    System.out.println(&quot;Converted type: &quot;+ ((Object)num2).getClass().getName());\r\n  \r\n    // print the int value\r\n    System.out.println(num1);  // 52336\r\n    System.out.println(num2);  // -445636\r\n  }\r\n}\r\n```","title":"How can I convert a long to int in Java?","body":"<pre class=\"lang-java prettyprint-override\"><code>// Java Program to convert long to int\n  \nclass Main {\n  public static void main(String[] args) {\n  \n    // create long variable\n    long value1 = 523386L;\n    long value2 = -4456368L;\n  \n    // change long to int\n    int num1 = Math.toIntExact(value1);\n    int num2 = Math.toIntExact(value2);\n      \n    // print the type\n    System.out.println(&quot;Converted type: &quot;+ ((Object)num1).getClass().getName());\n    System.out.println(&quot;Converted type: &quot;+ ((Object)num2).getClass().getName());\n  \n    // print the int value\n    System.out.println(num1);  // 52336\n    System.out.println(num2);  // -445636\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":680921,"reputation":4335,"user_id":530667,"display_name":"Arthur"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":935680,"favorite_count":0,"down_vote_count":13,"up_vote_count":436,"answer_count":20,"score":423,"last_activity_date":1697681669,"creation_date":1291490015,"question_id":4355303,"body_markdown":"How can I convert a long to int in Java?","title":"How can I convert a long to int in Java?","body":"<p>How can I convert a long to int in Java?</p>\n"},{"tags":["java","svg"],"comments":[{"owner":{"account_id":125949,"reputation":9471,"user_id":322084,"display_name":"chrwahl"},"score":1,"creation_date":1697634054,"post_id":77316241,"comment_id":136304323,"body_markdown":"If this question is related to the programming language Java then add the Java tag to your question.","body":"If this question is related to the programming language Java then add the Java tag to your question."},{"owner":{"account_id":20463653,"reputation":12526,"user_id":15015675,"display_name":"herrstrietzel"},"score":1,"creation_date":1697639417,"post_id":77316241,"comment_id":136305591,"body_markdown":"This is indeed an exploit AKA &quot;Billion laughs attack&quot;. You might translate the JS concept described here [How to identify if SVG is consuming all browser&#39;s memory and snaps the window](https://stackoverflow.com/questions/75066403/how-to-identify-if-svg-is-consuming-all-browsers-memory-and-snaps-the-window/75091943#75091943) to java","body":"This is indeed an exploit AKA &quot;Billion laughs attack&quot;. You might translate the JS concept described here <a href=\"https://stackoverflow.com/questions/75066403/how-to-identify-if-svg-is-consuming-all-browsers-memory-and-snaps-the-window/75091943#75091943\">How to identify if SVG is consuming all browser&#39;s memory and snaps the window</a> to java"}],"owner":{"account_id":26457525,"reputation":11,"user_id":20099925,"display_name":"Chiaki"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1697681255,"creation_date":1697631533,"question_id":77316241,"body_markdown":"I have an SVG file with a lot of &lt;use&gt; nesting inside it. So although the file size is small, a lot of memory is used when rendering. Want to know how to use Java to distinguish this type of SVG file from other types of SVG files.\r\n\r\n    &lt;svg version=&quot;1.2&quot; baseProfile=&quot;tiny&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot; xmlns:xlink=&quot;http://www.w3.org/1999/xlink&quot; x=&quot;0px&quot; y=&quot;0px&quot; xml:space=&quot;preserve&quot;&gt;\r\n    &lt;path id=&quot;a&quot; d=&quot;M0,0&quot;/&gt;\r\n    &lt;g id=&quot;b&quot;&gt;&lt;use xlink:href=&quot;#a&quot;/&gt;&lt;use xlink:href=&quot;#a&quot;/&gt;&lt;use xlink:href=&quot;#a&quot;/&gt;&lt;use xlink:href=&quot;#a&quot;/&gt;&lt;use xlink:href=&quot;#a&quot;/&gt;&lt;use xlink:href=&quot;#a&quot;/&gt;&lt;use xlink:href=&quot;#a&quot;/&gt;&lt;use xlink:href=&quot;#a&quot;/&gt;&lt;use xlink:href=&quot;#a&quot;/&gt;&lt;use xlink:href=&quot;#a&quot;/&gt;&lt;/g&gt;\r\n    &lt;g id=&quot;c&quot;&gt;&lt;use xlink:href=&quot;#b&quot;/&gt;&lt;use xlink:href=&quot;#b&quot;/&gt;&lt;use xlink:href=&quot;#b&quot;/&gt;&lt;use xlink:href=&quot;#b&quot;/&gt;&lt;use xlink:href=&quot;#b&quot;/&gt;&lt;use xlink:href=&quot;#b&quot;/&gt;&lt;use xlink:href=&quot;#b&quot;/&gt;&lt;use xlink:href=&quot;#b&quot;/&gt;&lt;use xlink:href=&quot;#b&quot;/&gt;&lt;use xlink:href=&quot;#b&quot;/&gt;&lt;/g&gt;\r\n    &lt;g id=&quot;d&quot;&gt;&lt;use xlink:href=&quot;#c&quot;/&gt;&lt;use xlink:href=&quot;#c&quot;/&gt;&lt;use xlink:href=&quot;#c&quot;/&gt;&lt;use xlink:href=&quot;#c&quot;/&gt;&lt;use xlink:href=&quot;#c&quot;/&gt;&lt;use xlink:href=&quot;#c&quot;/&gt;&lt;use xlink:href=&quot;#c&quot;/&gt;&lt;use xlink:href=&quot;#c&quot;/&gt;&lt;use xlink:href=&quot;#c&quot;/&gt;&lt;use xlink:href=&quot;#c&quot;/&gt;&lt;/g&gt;\r\n    &lt;g id=&quot;e&quot;&gt;&lt;use xlink:href=&quot;#d&quot;/&gt;&lt;use xlink:href=&quot;#d&quot;/&gt;&lt;use xlink:href=&quot;#d&quot;/&gt;&lt;use xlink:href=&quot;#d&quot;/&gt;&lt;use xlink:href=&quot;#d&quot;/&gt;&lt;use xlink:href=&quot;#d&quot;/&gt;&lt;use xlink:href=&quot;#d&quot;/&gt;&lt;use xlink:href=&quot;#d&quot;/&gt;&lt;use xlink:href=&quot;#d&quot;/&gt;&lt;use xlink:href=&quot;#d&quot;/&gt;&lt;/g&gt;\r\n    &lt;g id=&quot;f&quot;&gt;&lt;use xlink:href=&quot;#e&quot;/&gt;&lt;use xlink:href=&quot;#e&quot;/&gt;&lt;use xlink:href=&quot;#e&quot;/&gt;&lt;use xlink:href=&quot;#e&quot;/&gt;&lt;use xlink:href=&quot;#e&quot;/&gt;&lt;use xlink:href=&quot;#e&quot;/&gt;&lt;use xlink:href=&quot;#e&quot;/&gt;&lt;use xlink:href=&quot;#e&quot;/&gt;&lt;use xlink:href=&quot;#e&quot;/&gt;&lt;use xlink:href=&quot;#e&quot;/&gt;&lt;/g&gt;\r\n    &lt;g id=&quot;g&quot;&gt;&lt;use xlink:href=&quot;#f&quot;/&gt;&lt;use xlink:href=&quot;#f&quot;/&gt;&lt;use xlink:href=&quot;#f&quot;/&gt;&lt;use xlink:href=&quot;#f&quot;/&gt;&lt;use xlink:href=&quot;#f&quot;/&gt;&lt;use xlink:href=&quot;#f&quot;/&gt;&lt;use xlink:href=&quot;#f&quot;/&gt;&lt;use xlink:href=&quot;#f&quot;/&gt;&lt;use xlink:href=&quot;#f&quot;/&gt;&lt;use xlink:href=&quot;#f&quot;/&gt;&lt;/g&gt;\r\n    &lt;g id=&quot;h&quot;&gt;&lt;use xlink:href=&quot;#g&quot;/&gt;&lt;use xlink:href=&quot;#g&quot;/&gt;&lt;use xlink:href=&quot;#g&quot;/&gt;&lt;use xlink:href=&quot;#g&quot;/&gt;&lt;use xlink:href=&quot;#g&quot;/&gt;&lt;use xlink:href=&quot;#g&quot;/&gt;&lt;use xlink:href=&quot;#g&quot;/&gt;&lt;use xlink:href=&quot;#g&quot;/&gt;&lt;use xlink:href=&quot;#g&quot;/&gt;&lt;use xlink:href=&quot;#g&quot;/&gt;&lt;/g&gt;\r\n    &lt;g id=&quot;i&quot;&gt;&lt;use xlink:href=&quot;#h&quot;/&gt;&lt;use xlink:href=&quot;#h&quot;/&gt;&lt;use xlink:href=&quot;#h&quot;/&gt;&lt;use xlink:href=&quot;#h&quot;/&gt;&lt;use xlink:href=&quot;#h&quot;/&gt;&lt;use xlink:href=&quot;#h&quot;/&gt;&lt;use xlink:href=&quot;#h&quot;/&gt;&lt;use xlink:href=&quot;#h&quot;/&gt;&lt;use xlink:href=&quot;#h&quot;/&gt;&lt;use xlink:href=&quot;#h&quot;/&gt;&lt;/g&gt;\r\n    &lt;g id=&quot;j&quot;&gt;&lt;use xlink:href=&quot;#i&quot;/&gt;&lt;use xlink:href=&quot;#i&quot;/&gt;&lt;use xlink:href=&quot;#i&quot;/&gt;&lt;use xlink:href=&quot;#i&quot;/&gt;&lt;use xlink:href=&quot;#i&quot;/&gt;&lt;use xlink:href=&quot;#i&quot;/&gt;&lt;use xlink:href=&quot;#i&quot;/&gt;&lt;use xlink:href=&quot;#i&quot;/&gt;&lt;use xlink:href=&quot;#i&quot;/&gt;&lt;use xlink:href=&quot;#i&quot;/&gt;&lt;/g&gt;\r\n    &lt;/svg&gt;","title":"SVG files are nested with a large number of&lt;use&gt;tags, resulting in rendering errors","body":"<p>I have an SVG file with a lot of  nesting inside it. So although the file size is small, a lot of memory is used when rendering. Want to know how to use Java to distinguish this type of SVG file from other types of SVG files.</p>\n<pre><code>&lt;svg version=&quot;1.2&quot; baseProfile=&quot;tiny&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot; xmlns:xlink=&quot;http://www.w3.org/1999/xlink&quot; x=&quot;0px&quot; y=&quot;0px&quot; xml:space=&quot;preserve&quot;&gt;\n&lt;path id=&quot;a&quot; d=&quot;M0,0&quot;/&gt;\n&lt;g id=&quot;b&quot;&gt;&lt;use xlink:href=&quot;#a&quot;/&gt;&lt;use xlink:href=&quot;#a&quot;/&gt;&lt;use xlink:href=&quot;#a&quot;/&gt;&lt;use xlink:href=&quot;#a&quot;/&gt;&lt;use xlink:href=&quot;#a&quot;/&gt;&lt;use xlink:href=&quot;#a&quot;/&gt;&lt;use xlink:href=&quot;#a&quot;/&gt;&lt;use xlink:href=&quot;#a&quot;/&gt;&lt;use xlink:href=&quot;#a&quot;/&gt;&lt;use xlink:href=&quot;#a&quot;/&gt;&lt;/g&gt;\n&lt;g id=&quot;c&quot;&gt;&lt;use xlink:href=&quot;#b&quot;/&gt;&lt;use xlink:href=&quot;#b&quot;/&gt;&lt;use xlink:href=&quot;#b&quot;/&gt;&lt;use xlink:href=&quot;#b&quot;/&gt;&lt;use xlink:href=&quot;#b&quot;/&gt;&lt;use xlink:href=&quot;#b&quot;/&gt;&lt;use xlink:href=&quot;#b&quot;/&gt;&lt;use xlink:href=&quot;#b&quot;/&gt;&lt;use xlink:href=&quot;#b&quot;/&gt;&lt;use xlink:href=&quot;#b&quot;/&gt;&lt;/g&gt;\n&lt;g id=&quot;d&quot;&gt;&lt;use xlink:href=&quot;#c&quot;/&gt;&lt;use xlink:href=&quot;#c&quot;/&gt;&lt;use xlink:href=&quot;#c&quot;/&gt;&lt;use xlink:href=&quot;#c&quot;/&gt;&lt;use xlink:href=&quot;#c&quot;/&gt;&lt;use xlink:href=&quot;#c&quot;/&gt;&lt;use xlink:href=&quot;#c&quot;/&gt;&lt;use xlink:href=&quot;#c&quot;/&gt;&lt;use xlink:href=&quot;#c&quot;/&gt;&lt;use xlink:href=&quot;#c&quot;/&gt;&lt;/g&gt;\n&lt;g id=&quot;e&quot;&gt;&lt;use xlink:href=&quot;#d&quot;/&gt;&lt;use xlink:href=&quot;#d&quot;/&gt;&lt;use xlink:href=&quot;#d&quot;/&gt;&lt;use xlink:href=&quot;#d&quot;/&gt;&lt;use xlink:href=&quot;#d&quot;/&gt;&lt;use xlink:href=&quot;#d&quot;/&gt;&lt;use xlink:href=&quot;#d&quot;/&gt;&lt;use xlink:href=&quot;#d&quot;/&gt;&lt;use xlink:href=&quot;#d&quot;/&gt;&lt;use xlink:href=&quot;#d&quot;/&gt;&lt;/g&gt;\n&lt;g id=&quot;f&quot;&gt;&lt;use xlink:href=&quot;#e&quot;/&gt;&lt;use xlink:href=&quot;#e&quot;/&gt;&lt;use xlink:href=&quot;#e&quot;/&gt;&lt;use xlink:href=&quot;#e&quot;/&gt;&lt;use xlink:href=&quot;#e&quot;/&gt;&lt;use xlink:href=&quot;#e&quot;/&gt;&lt;use xlink:href=&quot;#e&quot;/&gt;&lt;use xlink:href=&quot;#e&quot;/&gt;&lt;use xlink:href=&quot;#e&quot;/&gt;&lt;use xlink:href=&quot;#e&quot;/&gt;&lt;/g&gt;\n&lt;g id=&quot;g&quot;&gt;&lt;use xlink:href=&quot;#f&quot;/&gt;&lt;use xlink:href=&quot;#f&quot;/&gt;&lt;use xlink:href=&quot;#f&quot;/&gt;&lt;use xlink:href=&quot;#f&quot;/&gt;&lt;use xlink:href=&quot;#f&quot;/&gt;&lt;use xlink:href=&quot;#f&quot;/&gt;&lt;use xlink:href=&quot;#f&quot;/&gt;&lt;use xlink:href=&quot;#f&quot;/&gt;&lt;use xlink:href=&quot;#f&quot;/&gt;&lt;use xlink:href=&quot;#f&quot;/&gt;&lt;/g&gt;\n&lt;g id=&quot;h&quot;&gt;&lt;use xlink:href=&quot;#g&quot;/&gt;&lt;use xlink:href=&quot;#g&quot;/&gt;&lt;use xlink:href=&quot;#g&quot;/&gt;&lt;use xlink:href=&quot;#g&quot;/&gt;&lt;use xlink:href=&quot;#g&quot;/&gt;&lt;use xlink:href=&quot;#g&quot;/&gt;&lt;use xlink:href=&quot;#g&quot;/&gt;&lt;use xlink:href=&quot;#g&quot;/&gt;&lt;use xlink:href=&quot;#g&quot;/&gt;&lt;use xlink:href=&quot;#g&quot;/&gt;&lt;/g&gt;\n&lt;g id=&quot;i&quot;&gt;&lt;use xlink:href=&quot;#h&quot;/&gt;&lt;use xlink:href=&quot;#h&quot;/&gt;&lt;use xlink:href=&quot;#h&quot;/&gt;&lt;use xlink:href=&quot;#h&quot;/&gt;&lt;use xlink:href=&quot;#h&quot;/&gt;&lt;use xlink:href=&quot;#h&quot;/&gt;&lt;use xlink:href=&quot;#h&quot;/&gt;&lt;use xlink:href=&quot;#h&quot;/&gt;&lt;use xlink:href=&quot;#h&quot;/&gt;&lt;use xlink:href=&quot;#h&quot;/&gt;&lt;/g&gt;\n&lt;g id=&quot;j&quot;&gt;&lt;use xlink:href=&quot;#i&quot;/&gt;&lt;use xlink:href=&quot;#i&quot;/&gt;&lt;use xlink:href=&quot;#i&quot;/&gt;&lt;use xlink:href=&quot;#i&quot;/&gt;&lt;use xlink:href=&quot;#i&quot;/&gt;&lt;use xlink:href=&quot;#i&quot;/&gt;&lt;use xlink:href=&quot;#i&quot;/&gt;&lt;use xlink:href=&quot;#i&quot;/&gt;&lt;use xlink:href=&quot;#i&quot;/&gt;&lt;use xlink:href=&quot;#i&quot;/&gt;&lt;/g&gt;\n&lt;/svg&gt;\n</code></pre>\n"},{"tags":["java","spring","spring-boot","javax-validation"],"comments":[{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1697674824,"post_id":77320157,"comment_id":136310924,"body_markdown":"What specifically do you mean by &quot;not working&quot;?  Please take the [tour], visit the [help] and read [Ask] to learn how to use this site effectively.","body":"What specifically do you mean by &quot;not working&quot;?  Please take the <a href=\"https://stackoverflow.com/tour\">tour</a>, visit the <a href=\"https://stackoverflow.com/help\">help center</a> and read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> to learn how to use this site effectively."},{"owner":{"account_id":29073167,"reputation":1013,"user_id":22270964,"display_name":"Maksim Eliseev"},"score":0,"creation_date":1697692947,"post_id":77320157,"comment_id":136312345,"body_markdown":"What will you do with `NullPointerException` if this happens?","body":"What will you do with <code>NullPointerException</code> if this happens?"}],"answers":[{"tags":[],"owner":{"account_id":8884226,"reputation":514,"user_id":6633045,"display_name":"phuongnq1995"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697681133,"creation_date":1697681133,"answer_id":77320544,"question_id":77320157,"body_markdown":"Put `@Valid` or `@Validated` on both classes `Persion` and `Location` to active validation.\r\n\r\nAlso dont forget add `@Valid` to dto in controller. Refer to this [doc](https://stackoverflow.com/questions/41005850/validation-nested-models-in-spring-boot)","title":"Unable to validate nested object in a json using Spring annotation","body":"<p>Put <code>@Valid</code> or <code>@Validated</code> on both classes <code>Persion</code> and <code>Location</code> to active validation.</p>\n<p>Also dont forget add <code>@Valid</code> to dto in controller. Refer to this <a href=\"https://stackoverflow.com/questions/41005850/validation-nested-models-in-spring-boot\">doc</a></p>\n"}],"owner":{"account_id":5888853,"reputation":467,"user_id":4636076,"accept_rate":32,"display_name":"Sandy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1697681133,"creation_date":1697672025,"question_id":77320157,"body_markdown":"I&#39;ve a spring boot project which contains a controller that receives a json payload.\r\nThe json payload looks like this: \r\n```\r\n{\r\n  &quot;name&quot;:&quot;Andrew&quot;,\r\n  &quot;age&quot;:28,\r\n  &quot;location&quot;:{\r\n   &quot;country&quot;:&quot;US&quot;,\r\n   &quot;city&quot;:&quot;New York&quot;\r\n\r\n  }\r\n}\r\n```\r\nand corresponding pojo class\r\n\r\n```\r\npublic class Person {\r\n  private String name;\r\n  private int age;\r\n  private Location location;\r\n\r\n  // Getters and Setters\r\n}\r\n\r\npublic class Location {\r\n  private String country;\r\n  private String city;\r\n\r\n  @JsonCreator\r\n  public Location (@NotNull String country,@NotNull String city){\r\n    this.country = country;  \r\n    this.city = city;\r\n  }\r\n\r\n  // Getters and Setters\r\n}\r\n```\r\n\r\nMy requirement is if the location is present in the above json payload, then the country and city should be validated for a null check.\r\nIf the location is not passed in the payload, then neither country , nor city should be validated.\r\nIs there a way to do this validation using Spring annotation? The current annotation @NotNull isn&#39;t seem to be working.","title":"Unable to validate nested object in a json using Spring annotation","body":"<p>I've a spring boot project which contains a controller that receives a json payload.\nThe json payload looks like this:</p>\n<pre><code>{\n  &quot;name&quot;:&quot;Andrew&quot;,\n  &quot;age&quot;:28,\n  &quot;location&quot;:{\n   &quot;country&quot;:&quot;US&quot;,\n   &quot;city&quot;:&quot;New York&quot;\n\n  }\n}\n</code></pre>\n<p>and corresponding pojo class</p>\n<pre><code>public class Person {\n  private String name;\n  private int age;\n  private Location location;\n\n  // Getters and Setters\n}\n\npublic class Location {\n  private String country;\n  private String city;\n\n  @JsonCreator\n  public Location (@NotNull String country,@NotNull String city){\n    this.country = country;  \n    this.city = city;\n  }\n\n  // Getters and Setters\n}\n</code></pre>\n<p>My requirement is if the location is present in the above json payload, then the country and city should be validated for a null check.\nIf the location is not passed in the payload, then neither country , nor city should be validated.\nIs there a way to do this validation using Spring annotation? The current annotation @NotNull isn't seem to be working.</p>\n"},{"tags":["java","gradle"],"comments":[{"owner":{"account_id":29073167,"reputation":1013,"user_id":22270964,"display_name":"Maksim Eliseev"},"score":1,"creation_date":1697693668,"post_id":77320541,"comment_id":136312413,"body_markdown":"You should provide the script located in `C:\\Users\\myjay\\AppData\\Local\\Temp\\Main_main__.gradle`, otherwise I don&#39;t see any way to help you.","body":"You should provide the script located in <code>C:\\Users\\myjay\\AppData\\Local\\Temp\\Main_main__.gradle</code>, otherwise I don&#39;t see any way to help you."},{"owner":{"account_id":29073167,"reputation":1013,"user_id":22270964,"display_name":"Maksim Eliseev"},"score":0,"creation_date":1697693750,"post_id":77320541,"comment_id":136312426,"body_markdown":"Also I think you should use `.gitignore` in your project. Adding `.git` and `.gradle` to sources is not the best way.","body":"Also I think you should use <code>.gitignore</code> in your project. Adding <code>.git</code> and <code>.gradle</code> to sources is not the best way."},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1697710028,"post_id":77320541,"comment_id":136315180,"body_markdown":"I tried your project and it builds fine. You may be experiencing a version incompatibility. It worked with Java 17, running `./gradlew build`","body":"I tried your project and it builds fine. You may be experiencing a version incompatibility. It worked with Java 17, running <code>.&#47;gradlew build</code>"},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":1,"creation_date":1697710154,"post_id":77320541,"comment_id":136315207,"body_markdown":"@MaksimEliseev no point asking for a file in the `TEMP` directory - it&#39;s a temporary file generated by Gradle during the build process.","body":"@MaksimEliseev no point asking for a file in the <code>TEMP</code> directory - it&#39;s a temporary file generated by Gradle during the build process."},{"owner":{"account_id":29704415,"reputation":23,"user_id":22765623,"display_name":"RTX"},"score":0,"creation_date":1697724419,"post_id":77320541,"comment_id":136318011,"body_markdown":"@MaksimEliseev May I ask why I shouldn&#39;t add `.git` and `.gradle` to sources? ty &#128591;","body":"@MaksimEliseev May I ask why I shouldn&#39;t add <code>.git</code> and <code>.gradle</code> to sources? ty 🙏"},{"owner":{"account_id":29073167,"reputation":1013,"user_id":22270964,"display_name":"Maksim Eliseev"},"score":0,"creation_date":1697790150,"post_id":77320541,"comment_id":136326509,"body_markdown":"There are several reasons not to do this: increasing the size of the git repository, possible merge conflicts in those folders if multiple people are working, annoying code reviews, extra commits when something was changed only in those folders. It&#39;s not part of the source code, and that&#39;s what `.gitignore` was created for.","body":"There are several reasons not to do this: increasing the size of the git repository, possible merge conflicts in those folders if multiple people are working, annoying code reviews, extra commits when something was changed only in those folders. It&#39;s not part of the source code, and that&#39;s what <code>.gitignore</code> was created for."},{"owner":{"account_id":29073167,"reputation":1013,"user_id":22270964,"display_name":"Maksim Eliseev"},"score":0,"creation_date":1697790540,"post_id":77320541,"comment_id":136326596,"body_markdown":"The `build` directory is also not part of the source code.","body":"The <code>build</code> directory is also not part of the source code."},{"owner":{"account_id":29073167,"reputation":1013,"user_id":22270964,"display_name":"Maksim Eliseev"},"score":0,"creation_date":1697790623,"post_id":77320541,"comment_id":136326612,"body_markdown":"Which version of Java are you using?","body":"Which version of Java are you using?"},{"owner":{"account_id":29704415,"reputation":23,"user_id":22765623,"display_name":"RTX"},"score":0,"creation_date":1697815341,"post_id":77320541,"comment_id":136331300,"body_markdown":"@MaksimEliseev jdk17","body":"@MaksimEliseev jdk17"},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1697815615,"post_id":77320541,"comment_id":136331356,"body_markdown":"Have you tried deleting everything in `%TEMP%` and trying again?","body":"Have you tried deleting everything in <code>%TEMP%</code> and trying again?"}],"owner":{"account_id":29704415,"reputation":23,"user_id":22765623,"display_name":"RTX"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1697681123,"creation_date":1697681123,"question_id":77320541,"body_markdown":"This is my first time trying to use gradle, so I did some really stupid things, please forgive me\r\nSo I tried to build my gradle project yesterday, but this happened \r\n\r\n\r\n\r\n```1:00:21 AM: Executing &#39;:Main.main()&#39;...\r\n\r\nStarting Gradle Daemon...\r\n\r\nGradle Daemon started in 1 s 611 ms\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* Where:\r\n\r\nInitialization script &#39;C:\\Users\\myjay\\AppData\\Local\\Temp\\Main_main__.gradle&#39; line: 6\r\n\r\n* What went wrong:\r\n\r\nCould not compile initialization script &#39;C:\\Users\\myjay\\AppData\\Local\\Temp\\Main_main__.gradle&#39;.\r\n\r\n&gt; startup failed:\r\n\r\n  initialization script &#39;C:\\Users\\myjay\\AppData\\Local\\Temp\\Main_main__.gradle&#39;: 6: Unexpected character: &#39;\\&#39;&#39; @ line 6, column 67.\r\n\r\n     X&#39;s Lab/git/NameCheckerV2/Code&#39;)\r\n\r\n                                   ^\r\n\r\n  \r\n\r\n  1 error\r\n\r\n* Try:\r\n\r\n&gt; Run with --stacktrace option to get the stack trace.\r\n\r\n&gt; Run with --info or --debug option to get more log output.\r\n\r\n&gt; Run with --scan to get full insights.\r\n\r\n* Get more help at https://help.gradle.org\r\n\r\nBUILD FAILED in 3s\r\n\r\n1:00:25 AM: Execution finished &#39;:Main.main()&#39;.\r\n\r\n```\r\n\r\nbtw if you need the project to find problems, here is [My project](https://github.com/RTX4O9O/NameCheckerV2)\r\n\r\nHope you guys can help me to solve this issue &#128591;&#128591;","title":"How To Fix Gradle Build Failure","body":"<p>This is my first time trying to use gradle, so I did some really stupid things, please forgive me\nSo I tried to build my gradle project yesterday, but this happened</p>\n<pre><code>\nStarting Gradle Daemon...\n\nGradle Daemon started in 1 s 611 ms\n\nFAILURE: Build failed with an exception.\n\n* Where:\n\nInitialization script 'C:\\Users\\myjay\\AppData\\Local\\Temp\\Main_main__.gradle' line: 6\n\n* What went wrong:\n\nCould not compile initialization script 'C:\\Users\\myjay\\AppData\\Local\\Temp\\Main_main__.gradle'.\n\n&gt; startup failed:\n\n  initialization script 'C:\\Users\\myjay\\AppData\\Local\\Temp\\Main_main__.gradle': 6: Unexpected character: '\\'' @ line 6, column 67.\n\n     X's Lab/git/NameCheckerV2/Code')\n\n                                   ^\n\n  \n\n  1 error\n\n* Try:\n\n&gt; Run with --stacktrace option to get the stack trace.\n\n&gt; Run with --info or --debug option to get more log output.\n\n&gt; Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 3s\n\n1:00:25 AM: Execution finished ':Main.main()'.\n\n</code></pre>\n<p>btw if you need the project to find problems, here is <a href=\"https://github.com/RTX4O9O/NameCheckerV2\" rel=\"nofollow noreferrer\">My project</a></p>\n<p>Hope you guys can help me to solve this issue 🙏🙏</p>\n"},{"tags":["java","selenium","calendar"],"comments":[{"owner":{"account_id":10686920,"reputation":1063,"user_id":7867195,"accept_rate":62,"display_name":"Mikhail Ramendik"},"score":0,"creation_date":1495114537,"post_id":44048464,"comment_id":75123842,"body_markdown":"You have provided a screencast. A screencast does not expose the HTML code under it. If you want help with parting HTML for Selenium, you need to provide relevant HTML snippets or else a link to the UI (if it is public and safe).","body":"You have provided a screencast. A screencast does not expose the HTML code under it. If you want help with parting HTML for Selenium, you need to provide relevant HTML snippets or else a link to the UI (if it is public and safe)."},{"owner":{"account_id":9611957,"reputation":1991,"user_id":7136025,"accept_rate":25,"display_name":"santhosh kumar"},"score":0,"creation_date":1495188498,"post_id":44048464,"comment_id":75158405,"body_markdown":"The approach seems quite good. Can i know what error message you are getting. Also print cell.getText() values in the for loop for debugging","body":"The approach seems quite good. Can i know what error message you are getting. Also print cell.getText() values in the for loop for debugging"}],"answers":[{"tags":[],"owner":{"account_id":10573903,"reputation":154,"user_id":7789760,"accept_rate":60,"display_name":"Kuladip"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1495117335,"creation_date":1495117335,"answer_id":44050445,"question_id":44048464,"body_markdown":"Try this -\r\n\r\n    DateFormat dateFormat = new SimpleDateFormat(&quot;dd/MM/yy&quot;);\r\n    Date today = Calendar.getInstance().getTime();\r\n    String date = dateFormat.format(today);","title":"How to select current date from dynamic calendar in Selenium?","body":"<p>Try this -</p>\n\n<pre><code>DateFormat dateFormat = new SimpleDateFormat(\"dd/MM/yy\");\nDate today = Calendar.getInstance().getTime();\nString date = dateFormat.format(today);\n</code></pre>\n"}],"owner":{"account_id":1133216,"reputation":11,"user_id":8031243,"display_name":"Rashmi R"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11209,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1697680850,"creation_date":1495112326,"question_id":44048464,"body_markdown":"The calendar display date from current to next upcoming date. i need to select current date when every time I run the script. \r\n\r\nCalendar looks like this: https://www.screencast.com/t/EWjncok2Anv\r\n\r\nI tried with below code, but didn&#39;t help me:\r\n \r\n         DateFormat dateFormat2 = new SimpleDateFormat(&quot;dd&quot;); \r\n         Date date2 = new Date();\r\n\r\n         String today = dateFormat2.format(date2); \r\n\r\n         //find the calendar\r\n         WebElement dateWidget = driver.findElement(By.id(&quot;qs_startdate&quot;));  \r\n         List&lt;WebElement&gt; columns=dateWidget.findElements(By.tagName(&quot;div&quot;));  \r\n\r\n         //comparing the text of cell with today&#39;s date and clicking it.\r\n         for (WebElement cell : columns)\r\n         {\r\n            if (cell.getText().equals(today))\r\n            {\r\n               cell.click();\r\n               break;\r\n            }\r\n         } ","title":"How to select current date from dynamic calendar in Selenium?","body":"<p>The calendar display date from current to next upcoming date. i need to select current date when every time I run the script. </p>\n\n<p>Calendar looks like this: <a href=\"https://www.screencast.com/t/EWjncok2Anv\" rel=\"nofollow noreferrer\">https://www.screencast.com/t/EWjncok2Anv</a></p>\n\n<p>I tried with below code, but didn't help me:</p>\n\n<pre><code>     DateFormat dateFormat2 = new SimpleDateFormat(\"dd\"); \n     Date date2 = new Date();\n\n     String today = dateFormat2.format(date2); \n\n     //find the calendar\n     WebElement dateWidget = driver.findElement(By.id(\"qs_startdate\"));  \n     List&lt;WebElement&gt; columns=dateWidget.findElements(By.tagName(\"div\"));  \n\n     //comparing the text of cell with today's date and clicking it.\n     for (WebElement cell : columns)\n     {\n        if (cell.getText().equals(today))\n        {\n           cell.click();\n           break;\n        }\n     } \n</code></pre>\n"},{"tags":["java","casting"],"comments":[{"owner":{"account_id":79153,"reputation":513935,"user_id":224671,"accept_rate":67,"display_name":"kennytm"},"score":1,"creation_date":1465797396,"post_id":37782536,"comment_id":63032426,"body_markdown":"You can&#39;t represent negative numbers with `char`.","body":"You can&#39;t represent negative numbers with <code>char</code>."}],"answers":[{"tags":[],"owner":{"account_id":3076563,"reputation":6258,"user_id":2605733,"accept_rate":89,"display_name":"Abdul Fatir"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1697680732,"creation_date":1465797633,"answer_id":37782708,"question_id":37782536,"body_markdown":"This is because a `short` is capable of holding negative values while `char` isn&#39;t, as you might have seen from `Character.MIN_VALUE`.  Let me give a few examples.  \r\n\r\n    short s = -124;\r\n    char c = 124; // OK, no compile time error\r\n    char d = -124; // NOT OK, compile time error since char cannot hold -ve values\r\n    char e = s; // NOT OK, compile time error since a short might have -ve values which char won&#39;t be able to hold\r\n    char f = (char)s; // OK, type casting. The negative number -124 gets converted to 65412 so that char can hold it\r\n    System.out.println((short)f); // -124, gets converted back to a number short can hold because short won&#39;t be able to hold 65412\r\n    System.out.println((int)f); // 65412, gets converted to 65412 because int can easily hold it.  \r\n\r\nA (negative) number `-n`, when cast to `char`, becomes `2^16-n`. So, `-124` becomes  \r\n`2^16-124 = 65412`.\r\n","title":"Why is casting to short to char is a narrowing conversion?","body":"<p>This is because a <code>short</code> is capable of holding negative values while <code>char</code> isn't, as you might have seen from <code>Character.MIN_VALUE</code>.  Let me give a few examples.</p>\n<pre><code>short s = -124;\nchar c = 124; // OK, no compile time error\nchar d = -124; // NOT OK, compile time error since char cannot hold -ve values\nchar e = s; // NOT OK, compile time error since a short might have -ve values which char won't be able to hold\nchar f = (char)s; // OK, type casting. The negative number -124 gets converted to 65412 so that char can hold it\nSystem.out.println((short)f); // -124, gets converted back to a number short can hold because short won't be able to hold 65412\nSystem.out.println((int)f); // 65412, gets converted to 65412 because int can easily hold it.  \n</code></pre>\n<p>A (negative) number <code>-n</code>, when cast to <code>char</code>, becomes <code>2^16-n</code>. So, <code>-124</code> becomes<br />\n<code>2^16-124 = 65412</code>.</p>\n"},{"tags":[],"owner":{"account_id":79153,"reputation":513935,"user_id":224671,"accept_rate":67,"display_name":"kennytm"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1465798014,"creation_date":1465798014,"answer_id":37782803,"question_id":37782536,"body_markdown":"The point of narrowing isn&#39;t about the bit size, but that some values cannot be properly represented in the new type.\r\n\r\nAs you have shown in the last piece of code, `Short.MIN_VALUE &lt; Character.MIN_VALUE`, i.e. some `short` values cannot be represented in `char`. \r\n\r\nSince you can&#39;t use `char` to faithfully represent negative numbers (the cast will cause a negative number be represented by its 2&#39;s complement, which isn&#39;t the same number), we consider the cast &quot;loses information&quot; and thus narrowing.\r\n\r\nFrom the [Java Language Specification, &#167;5.1.3](https://docs.oracle.com/javase/specs/jls/se8/html/jls-5.html#jls-5.1.3):\r\n\r\n&gt; 22 specific conversions on primitive types are called the narrowing primitive conversions: \r\n&gt;\r\n&gt; * `short` to `byte` or `char`\r\n&gt; * `char` to `byte` or `short`\r\n&gt; * ...\r\n&gt;\r\n&gt; **A narrowing primitive conversion may lose information about the overall magnitude of a numeric value and may also lose precision and range.**\r\n&gt;\r\n&gt; ...\r\n&gt;\r\n&gt; A narrowing conversion of a signed integer to an integral type `T` simply discards all but the *n* lowest order bits, where *n* is the number of bits used to represent type `T`. **In addition to a possible loss of information about the magnitude of the numeric value, this may cause the sign of the resulting value to differ from the sign of the input value.**\r\n&gt;\r\n&gt; A narrowing conversion of a `char` to an integral type `T` likewise simply discards all but the *n* lowest order bits, where *n* is the number of bits used to represent type `T`. In addition to a possible loss of information about the magnitude of the numeric value, **this may cause the resulting value to be a negative number, even though chars represent 16-bit unsigned integer values.**\r\n\r\n","title":"Why is casting to short to char is a narrowing conversion?","body":"<p>The point of narrowing isn't about the bit size, but that some values cannot be properly represented in the new type.</p>\n\n<p>As you have shown in the last piece of code, <code>Short.MIN_VALUE &lt; Character.MIN_VALUE</code>, i.e. some <code>short</code> values cannot be represented in <code>char</code>. </p>\n\n<p>Since you can't use <code>char</code> to faithfully represent negative numbers (the cast will cause a negative number be represented by its 2's complement, which isn't the same number), we consider the cast \"loses information\" and thus narrowing.</p>\n\n<p>From the <a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-5.html#jls-5.1.3\" rel=\"nofollow\">Java Language Specification, §5.1.3</a>:</p>\n\n<blockquote>\n  <p>22 specific conversions on primitive types are called the narrowing primitive conversions: </p>\n  \n  <ul>\n  <li><code>short</code> to <code>byte</code> or <code>char</code></li>\n  <li><code>char</code> to <code>byte</code> or <code>short</code></li>\n  <li>...</li>\n  </ul>\n  \n  <p><strong>A narrowing primitive conversion may lose information about the overall magnitude of a numeric value and may also lose precision and range.</strong></p>\n  \n  <p>...</p>\n  \n  <p>A narrowing conversion of a signed integer to an integral type <code>T</code> simply discards all but the <em>n</em> lowest order bits, where <em>n</em> is the number of bits used to represent type <code>T</code>. <strong>In addition to a possible loss of information about the magnitude of the numeric value, this may cause the sign of the resulting value to differ from the sign of the input value.</strong></p>\n  \n  <p>A narrowing conversion of a <code>char</code> to an integral type <code>T</code> likewise simply discards all but the <em>n</em> lowest order bits, where <em>n</em> is the number of bits used to represent type <code>T</code>. In addition to a possible loss of information about the magnitude of the numeric value, <strong>this may cause the resulting value to be a negative number, even though chars represent 16-bit unsigned integer values.</strong></p>\n</blockquote>\n"}],"owner":{"account_id":5399275,"reputation":16206,"user_id":4299560,"accept_rate":90,"display_name":"Ced"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4353,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":37782708,"answer_count":2,"score":6,"last_activity_date":1697680732,"creation_date":1465796689,"question_id":37782536,"body_markdown":"A narrowing conversion is when putting a data type that can hold a bigger value into a data type that can hold at max a lesser value.\r\n\r\n    long l = 4L;\r\n    int i = (int)l;\r\n\r\nHowever I don&#39;t understand why a short into a char is a narrowing conversion but I&#39;ve the intuition it is related to signed/unsigned of those two datatypes but I can&#39;t explain why.\r\n\r\n    short s = 4; // short max value is 32767\r\n    char c = (char)s; // char max value is 65535 \r\n\r\nIt looks like it would be a widening conversion or at the very least neither narrowing neither widening since they are both 16 bits and can hold the same number of values.\r\n\r\n        System.out.println((int)Character.MIN_VALUE); //0\r\n        System.out.println((int)Character.MAX_VALUE); //65535 \r\n        System.out.println(Short.MIN_VALUE); //-32768\r\n        System.out.println(Short.MAX_VALUE); //32767\r\n        //65535 = 32768+32767","title":"Why is casting to short to char is a narrowing conversion?","body":"<p>A narrowing conversion is when putting a data type that can hold a bigger value into a data type that can hold at max a lesser value.</p>\n\n<pre><code>long l = 4L;\nint i = (int)l;\n</code></pre>\n\n<p>However I don't understand why a short into a char is a narrowing conversion but I've the intuition it is related to signed/unsigned of those two datatypes but I can't explain why.</p>\n\n<pre><code>short s = 4; // short max value is 32767\nchar c = (char)s; // char max value is 65535 \n</code></pre>\n\n<p>It looks like it would be a widening conversion or at the very least neither narrowing neither widening since they are both 16 bits and can hold the same number of values.</p>\n\n<pre><code>    System.out.println((int)Character.MIN_VALUE); //0\n    System.out.println((int)Character.MAX_VALUE); //65535 \n    System.out.println(Short.MIN_VALUE); //-32768\n    System.out.println(Short.MAX_VALUE); //32767\n    //65535 = 32768+32767\n</code></pre>\n"},{"tags":["java","android","mobile","android-anr-dialog"],"comments":[{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":0,"creation_date":1697682881,"post_id":77320510,"comment_id":136311535,"body_markdown":"An ANR means something was taking too long on the main thread, particularly during a lifecycle function.  There is nothing obviously wrong the the stack or the code, it could just be the total time it took-  especially if you were doing it in a loop.  Generally adding views to a table programatically is a smell in Android-  you should almost always be using RecyclerView.  Tables usually mean you&#39;re doing something wrong.","body":"An ANR means something was taking too long on the main thread, particularly during a lifecycle function.  There is nothing obviously wrong the the stack or the code, it could just be the total time it took-  especially if you were doing it in a loop.  Generally adding views to a table programatically is a smell in Android-  you should almost always be using RecyclerView.  Tables usually mean you&#39;re doing something wrong."}],"owner":{"account_id":18138030,"reputation":1,"user_id":13192269,"display_name":"fekhreddine bouziane"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697680425,"creation_date":1697680425,"question_id":77320510,"body_markdown":"This is my code below. I tried different methods, but I dnot understand what was wrong with my code\r\nin my xml code i delete this now\r\n\r\nandroid:clickable=&quot;true&quot;\r\nandroid:focusable=&quot;true&quot;\r\n\r\n\r\nMainActivity.addTableRow\r\n\r\n    private void addTableRow(String time, String age, String name, String number) {\r\n        TableRow tableRow = (TableRow) getLayoutInflater().inflate(R.layout.rowp, null);\r\n        ((TextView) tableRow.findViewById(R.id.time)).setText(time);\r\n        ((TextView) tableRow.findViewById(R.id.age)).setText(age);\r\n        ((TextView) tableRow.findViewById(R.id.name)).setText(name);\r\n        ((TextView) tableRow.findViewById(R.id.number)).setText(number);\r\n\r\n        this.table.addView(tableRow);\r\n        TextView textView = new TextView(this);\r\n        textView.setBackgroundColor(Color.parseColor(&quot;#80808080&quot;));\r\n        textView.setHeight(2);\r\n        this.table.addView(textView);\r\n    }\r\n\r\nStack trace :\r\n  \r\n\r\n      at android.view.View.requestLayout (View.java:26591)\r\n      at android.widget.TableLayout.requestRowsLayout (TableLayout.java:211)\r\n      at android.widget.TableLayout.addView (TableLayout.java:410)\r\n      at android.view.ViewGroup.addView (ViewGroup.java:5075)\r\n      at android.widget.TableLayout.addView (TableLayout.java:400)\r\n      at addTableRow (MainActivity.java:475)\r\n      at onClick (MainActivity.java:397)\r\n      at android.view.View.performClick (View.java:7570)\r\n      at android.view.View.performClickInternal (View.java:7540)\r\n      at android.view.View.-$$Nest$mperformClickInternal (unavailable)\r\n      at android.view.View$PerformClick.run (View.java:29710)\r\n      at android.os.Handler.handleCallback (Handler.java:942)\r\n      at android.os.Handler.dispatchMessage (Handler.java:99\r\n      at android.os.Looper.loopOnce (Looper.java:240)\r\n      at android.os.Looper.loop (Looper.java:351)\r\n      at android.app.ActivityThread.main (ActivityThread.java:8427)\r\n      at java.lang.reflect.Method.invoke (Native method)\r\n      at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run (RuntimeInit.java:584)\r\n      at com.android.internal.os.ZygoteInit.main (ZygoteInit.java:1013)\r\n    \r\n  \r\n\r\n\r\nI can&#39;t find the solution whta the wrong with it ?","title":"I have more ANR errors in the Google Play Developer Console","body":"<p>This is my code below. I tried different methods, but I dnot understand what was wrong with my code\nin my xml code i delete this now</p>\n<p>android:clickable=&quot;true&quot;\nandroid:focusable=&quot;true&quot;</p>\n<p>MainActivity.addTableRow</p>\n<pre><code>private void addTableRow(String time, String age, String name, String number) {\n    TableRow tableRow = (TableRow) getLayoutInflater().inflate(R.layout.rowp, null);\n    ((TextView) tableRow.findViewById(R.id.time)).setText(time);\n    ((TextView) tableRow.findViewById(R.id.age)).setText(age);\n    ((TextView) tableRow.findViewById(R.id.name)).setText(name);\n    ((TextView) tableRow.findViewById(R.id.number)).setText(number);\n\n    this.table.addView(tableRow);\n    TextView textView = new TextView(this);\n    textView.setBackgroundColor(Color.parseColor(&quot;#80808080&quot;));\n    textView.setHeight(2);\n    this.table.addView(textView);\n}\n</code></pre>\n<p>Stack trace :</p>\n<pre><code>  at android.view.View.requestLayout (View.java:26591)\n  at android.widget.TableLayout.requestRowsLayout (TableLayout.java:211)\n  at android.widget.TableLayout.addView (TableLayout.java:410)\n  at android.view.ViewGroup.addView (ViewGroup.java:5075)\n  at android.widget.TableLayout.addView (TableLayout.java:400)\n  at addTableRow (MainActivity.java:475)\n  at onClick (MainActivity.java:397)\n  at android.view.View.performClick (View.java:7570)\n  at android.view.View.performClickInternal (View.java:7540)\n  at android.view.View.-$$Nest$mperformClickInternal (unavailable)\n  at android.view.View$PerformClick.run (View.java:29710)\n  at android.os.Handler.handleCallback (Handler.java:942)\n  at android.os.Handler.dispatchMessage (Handler.java:99\n  at android.os.Looper.loopOnce (Looper.java:240)\n  at android.os.Looper.loop (Looper.java:351)\n  at android.app.ActivityThread.main (ActivityThread.java:8427)\n  at java.lang.reflect.Method.invoke (Native method)\n  at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run (RuntimeInit.java:584)\n  at com.android.internal.os.ZygoteInit.main (ZygoteInit.java:1013)\n</code></pre>\n<p>I can't find the solution whta the wrong with it ?</p>\n"},{"tags":["java","java-http-client","project-loom","java-21","virtual-threads"],"comments":[{"owner":{"account_id":1580843,"reputation":13479,"user_id":1466267,"accept_rate":91,"display_name":"SpaceTrucker"},"score":0,"creation_date":1697630193,"post_id":77315894,"comment_id":136303450,"body_markdown":"https://stackoverflow.com/questions/77262427/how-virtual-thread-is-parking might be related to this question","body":"<a href=\"https://stackoverflow.com/questions/77262427/how-virtual-thread-is-parking\" title=\"how virtual thread is parking\">stackoverflow.com/questions/77262427/&hellip;</a> might be related to this question"}],"answers":[{"tags":[],"owner":{"account_id":213468,"reputation":103493,"user_id":466862,"display_name":"Mark Rotteveel"},"down_vote_count":0,"up_vote_count":22,"is_accepted":true,"score":22,"last_activity_date":1697637466,"creation_date":1697631794,"answer_id":77316268,"question_id":77315894,"body_markdown":"The method `java.nio.channels.spi.AbstractInterruptibleChannel.close()` (lines 108 - 115 in Temurin-21+35 (build 21+35-LTS), but probably all OpenJDK derivatives) is implemented as:\r\n\r\n```java\r\npublic final void close() throws IOException {\r\n    synchronized (closeLock) {\r\n        if (closed)\r\n            return;\r\n        closed = true;\r\n        implCloseChannel();\r\n    }\r\n}\r\n```\r\n\r\nLine 113 in your stacktrace corresponds to the `implCloseChannel()` call which also corresponds to the previous line in your stacktrace, and this is in the middle of that synchronized block. Virtual threads will be pinned if they are parked/blocked in `synchronized` blocks, so that is why it is pinned.\r\n\r\nIn other words, given the code as it is, pinning is the expected and correct behaviour, and thus not a bug.\r\n\r\nWhether the use of `synchronized` here is an oversight in getting rid of synchronized blocks in the JDK, or if there is a specific reason this still uses `synchronized`, I don&#39;t know. Given it is a private lock object, I guess it should be possible to get rid of it (i.e. it is not part of the &quot;API&quot; of a channel) by replacing it with a `ReentrantLock` or similar, but maybe there are other implementation reasons to keep this for now.\r\n\r\nI have asked about this on the nio-dev list in thread [Should AbstractInterruptibleChannel.close() still use a synchronized block?](https://mail.openjdk.org/pipermail/nio-dev/2023-October/015199.html)\r\n\r\nAlan Bateman [responded there][1] with:\r\n\r\n&gt; We decided it wasn&#39;t worth doing because it&#39;s rare to set SO_LINGER. \r\n&gt; Temporary pinning due to contention on the readLock or writeLock when \r\n&gt; closing is okay.\r\n&gt; \r\n&gt; In the mean-time, we are working to remove restriction on synchronized\r\n&gt; blocks. We hope to have something in the loom repo soon.\r\n\r\n\r\n  [1]: https://mail.openjdk.org/pipermail/nio-dev/2023-October/015200.html","title":"Java 21 built-in HTTP client pins the carrier thread","body":"<p>The method <code>java.nio.channels.spi.AbstractInterruptibleChannel.close()</code> (lines 108 - 115 in Temurin-21+35 (build 21+35-LTS), but probably all OpenJDK derivatives) is implemented as:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public final void close() throws IOException {\n    synchronized (closeLock) {\n        if (closed)\n            return;\n        closed = true;\n        implCloseChannel();\n    }\n}\n</code></pre>\n<p>Line 113 in your stacktrace corresponds to the <code>implCloseChannel()</code> call which also corresponds to the previous line in your stacktrace, and this is in the middle of that synchronized block. Virtual threads will be pinned if they are parked/blocked in <code>synchronized</code> blocks, so that is why it is pinned.</p>\n<p>In other words, given the code as it is, pinning is the expected and correct behaviour, and thus not a bug.</p>\n<p>Whether the use of <code>synchronized</code> here is an oversight in getting rid of synchronized blocks in the JDK, or if there is a specific reason this still uses <code>synchronized</code>, I don't know. Given it is a private lock object, I guess it should be possible to get rid of it (i.e. it is not part of the &quot;API&quot; of a channel) by replacing it with a <code>ReentrantLock</code> or similar, but maybe there are other implementation reasons to keep this for now.</p>\n<p>I have asked about this on the nio-dev list in thread <a href=\"https://mail.openjdk.org/pipermail/nio-dev/2023-October/015199.html\" rel=\"noreferrer\">Should AbstractInterruptibleChannel.close() still use a synchronized block?</a></p>\n<p>Alan Bateman <a href=\"https://mail.openjdk.org/pipermail/nio-dev/2023-October/015200.html\" rel=\"noreferrer\">responded there</a> with:</p>\n<blockquote>\n<p>We decided it wasn't worth doing because it's rare to set SO_LINGER.\nTemporary pinning due to contention on the readLock or writeLock when\nclosing is okay.</p>\n<p>In the mean-time, we are working to remove restriction on synchronized\nblocks. We hope to have something in the loom repo soon.</p>\n</blockquote>\n"}],"owner":{"account_id":16501460,"reputation":213,"user_id":11922671,"display_name":"Urb"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1489,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"accepted_answer_id":77316268,"answer_count":1,"score":18,"last_activity_date":1697678659,"creation_date":1697628520,"question_id":77315894,"body_markdown":"I&#39;m using Java *Corretto 21.0.0.35.1 build 21+35-LTS*, and the built-in Java HTTP client to retrieve a response as an `InputStream`. I&#39;m making parallel requests using virtual threads, and for the most part, it&#39;s working well. However, occasionally, my testing encounters a &quot;Pinning&quot; event, as seen in the stack trace below.\r\n\r\nI believed that the JDK had been updated to fully support virtual threads, and in my understanding, the HTTP client shouldn&#39;t be pinning a carrier thread at all. However, it appears that this pinning event occurs sometimes when reading and (automatically) closing an `InputStream`.\r\n\r\nIs this behavior expected, or could it still be a bug in the JDK?\r\n\r\nThe code:\r\n\r\n```\r\nHttpResponse&lt;InputStream&gt; response = httpClient.send(request, HttpResponse.BodyHandlers.ofInputStream());\r\ntry (InputStream responseBody = response.body()) {\r\n  return parser.parse(responseBody); // LINE 52 in the trace below\r\n}\r\n```\r\n\r\nThe trace\r\n\r\n```\r\n* Pinning event captured:\r\n  java.lang.VirtualThread.parkOnCarrierThread(java.lang.VirtualThread.java:687)\r\n  java.lang.VirtualThread.park(java.lang.VirtualThread.java:603)\r\n  java.lang.System$2.parkVirtualThread(java.lang.System$2.java:2639)\r\n  jdk.internal.misc.VirtualThreads.park(jdk.internal.misc.VirtualThreads.java:54)\r\n  java.util.concurrent.locks.LockSupport.park(java.util.concurrent.locks.LockSupport.java:219)\r\n  java.util.concurrent.locks.AbstractQueuedSynchronizer.acquire(java.util.concurrent.locks.AbstractQueuedSynchronizer.java:754)\r\n  java.util.concurrent.locks.AbstractQueuedSynchronizer.acquire(java.util.concurrent.locks.AbstractQueuedSynchronizer.java:990)\r\n  java.util.concurrent.locks.ReentrantLock$Sync.lock(java.util.concurrent.locks.ReentrantLock$Sync.java:153)\r\n  java.util.concurrent.locks.ReentrantLock.lock(java.util.concurrent.locks.ReentrantLock.java:322)\r\n  sun.nio.ch.SocketChannelImpl.implCloseNonBlockingMode(sun.nio.ch.SocketChannelImpl.java:1091)\r\n  sun.nio.ch.SocketChannelImpl.implCloseSelectableChannel(sun.nio.ch.SocketChannelImpl.java:1124)\r\n  java.nio.channels.spi.AbstractSelectableChannel.implCloseChannel(java.nio.channels.spi.AbstractSelectableChannel.java:258)\r\n  java.nio.channels.spi.AbstractInterruptibleChannel.close(java.nio.channels.spi.AbstractInterruptibleChannel.java:113)\r\n  jdk.internal.net.http.PlainHttpConnection.close(jdk.internal.net.http.PlainHttpConnection.java:427)\r\n  jdk.internal.net.http.PlainHttpConnection.close(jdk.internal.net.http.PlainHttpConnection.java:406)\r\n  jdk.internal.net.http.Http1Response.lambda$readBody$1(jdk.internal.net.http.Http1Response.java:355)\r\n  jdk.internal.net.http.Http1Response$$Lambda+0x00007f4cb5e6c438.749276779.accept(jdk.internal.net.http.Http1Response$$Lambda+0x00007f4cb5e6c438.749276779.java:-1)\r\n  jdk.internal.net.http.ResponseContent$ChunkedBodyParser.onError(jdk.internal.net.http.ResponseContent$ChunkedBodyParser.java:185)\r\n  jdk.internal.net.http.Http1Response$BodyReader.onReadError(jdk.internal.net.http.Http1Response$BodyReader.java:677)\r\n  jdk.internal.net.http.Http1AsyncReceiver.checkForErrors(jdk.internal.net.http.Http1AsyncReceiver.java:302)\r\n  jdk.internal.net.http.Http1AsyncReceiver.flush(jdk.internal.net.http.Http1AsyncReceiver.java:268)\r\n  jdk.internal.net.http.Http1AsyncReceiver$$Lambda+0x00007f4cb5e31228.555093431.run(jdk.internal.net.http.Http1AsyncReceiver$$Lambda+0x00007f4cb5e31228.555093431.java:-1)\r\n  jdk.internal.net.http.common.SequentialScheduler$LockingRestartableTask.run(jdk.internal.net.http.common.SequentialScheduler$LockingRestartableTask.java:182)\r\n  jdk.internal.net.http.common.SequentialScheduler$CompleteRestartableTask.run(jdk.internal.net.http.common.SequentialScheduler$CompleteRestartableTask.java:149)\r\n  jdk.internal.net.http.common.SequentialScheduler$SchedulableTask.run(jdk.internal.net.http.common.SequentialScheduler$SchedulableTask.java:207)\r\n  jdk.internal.net.http.HttpClientImpl$DelegatingExecutor.execute(jdk.internal.net.http.HttpClientImpl$DelegatingExecutor.java:177)\r\n  jdk.internal.net.http.common.SequentialScheduler.runOrSchedule(jdk.internal.net.http.common.SequentialScheduler.java:282)\r\n  jdk.internal.net.http.common.SequentialScheduler.runOrSchedule(jdk.internal.net.http.common.SequentialScheduler.java:251)\r\n  jdk.internal.net.http.Http1AsyncReceiver.onReadError(jdk.internal.net.http.Http1AsyncReceiver.java:516)\r\n  jdk.internal.net.http.Http1AsyncReceiver.lambda$handlePendingDelegate$3(jdk.internal.net.http.Http1AsyncReceiver.java:380)\r\n  jdk.internal.net.http.Http1AsyncReceiver$$Lambda+0x00007f4cb5e33ca0.84679411.run(jdk.internal.net.http.Http1AsyncReceiver$$Lambda+0x00007f4cb5e33ca0.84679411.java:-1)\r\n  jdk.internal.net.http.Http1AsyncReceiver$Http1AsyncDelegateSubscription.cancel(jdk.internal.net.http.Http1AsyncReceiver$Http1AsyncDelegateSubscription.java:163)\r\n  jdk.internal.net.http.common.HttpBodySubscriberWrapper$SubscriptionWrapper.cancel(jdk.internal.net.http.common.HttpBodySubscriberWrapper$SubscriptionWrapper.java:92)\r\n  jdk.internal.net.http.ResponseSubscribers$HttpResponseInputStream.close(jdk.internal.net.http.ResponseSubscribers$HttpResponseInputStream.java:653)\r\n\r\n  com.acme.service.server.StatusClient.getResponse(com.acme.service.server.StatusClient.java:52)\r\n  com.acme.service.server.StatusClient_ClientProxy.getResponse(com.acme.service.server.StatusClient_ClientProxy.java:-1)\r\n  com.acme.client.Request.execute(com.acme.client.Request.java:96)\r\n  com.acme.service.server.serviceStatusProvider.getStatusHistorys(com.acme.service.server.serviceStatusProvider.java:237)\r\n  com.acme.service.api.RemoteStatusCheck.getStatusHistory(com.acme.service.api.RemoteStatusCheck.java:163)\r\n  com.acme.service.api.RemoteStatusCheck.lambda$doChecks$0(com.acme.service.api.RemoteStatusCheck.java:132)\r\n  com.acme.service.api.RemoteStatusCheck$$Lambda+0x00007f4cb9f0d8d0.979953307.call(com.acme.service.api.RemoteStatusCheck$$Lambda+0x00007f4cb9f0d8d0.979953307.java:-1)\r\n  java.util.concurrent.FutureTask.run(java.util.concurrent.FutureTask.java:317)\r\n  java.lang.VirtualThread.runWith(java.lang.VirtualThread.java:341)\r\n  java.lang.VirtualThread.run(java.lang.VirtualThread.java:311)\r\n  java.lang.VirtualThread$VThreadContinuation$1.run(java.lang.VirtualThread$VThreadContinuation$1.java:192)\r\n  jdk.internal.vm.Continuation.enter0(jdk.internal.vm.Continuation.java:320)\r\n  jdk.internal.vm.Continuation.enter(jdk.internal.vm.Continuation.java:312)\r\n  jdk.internal.vm.Continuation.enterSpecial(jdk.internal.vm.Continuation.java:-1)\r\n```\r\n","title":"Java 21 built-in HTTP client pins the carrier thread","body":"<p>I'm using Java <em>Corretto 21.0.0.35.1 build 21+35-LTS</em>, and the built-in Java HTTP client to retrieve a response as an <code>InputStream</code>. I'm making parallel requests using virtual threads, and for the most part, it's working well. However, occasionally, my testing encounters a &quot;Pinning&quot; event, as seen in the stack trace below.</p>\n<p>I believed that the JDK had been updated to fully support virtual threads, and in my understanding, the HTTP client shouldn't be pinning a carrier thread at all. However, it appears that this pinning event occurs sometimes when reading and (automatically) closing an <code>InputStream</code>.</p>\n<p>Is this behavior expected, or could it still be a bug in the JDK?</p>\n<p>The code:</p>\n<pre><code>HttpResponse&lt;InputStream&gt; response = httpClient.send(request, HttpResponse.BodyHandlers.ofInputStream());\ntry (InputStream responseBody = response.body()) {\n  return parser.parse(responseBody); // LINE 52 in the trace below\n}\n</code></pre>\n<p>The trace</p>\n<pre><code>* Pinning event captured:\n  java.lang.VirtualThread.parkOnCarrierThread(java.lang.VirtualThread.java:687)\n  java.lang.VirtualThread.park(java.lang.VirtualThread.java:603)\n  java.lang.System$2.parkVirtualThread(java.lang.System$2.java:2639)\n  jdk.internal.misc.VirtualThreads.park(jdk.internal.misc.VirtualThreads.java:54)\n  java.util.concurrent.locks.LockSupport.park(java.util.concurrent.locks.LockSupport.java:219)\n  java.util.concurrent.locks.AbstractQueuedSynchronizer.acquire(java.util.concurrent.locks.AbstractQueuedSynchronizer.java:754)\n  java.util.concurrent.locks.AbstractQueuedSynchronizer.acquire(java.util.concurrent.locks.AbstractQueuedSynchronizer.java:990)\n  java.util.concurrent.locks.ReentrantLock$Sync.lock(java.util.concurrent.locks.ReentrantLock$Sync.java:153)\n  java.util.concurrent.locks.ReentrantLock.lock(java.util.concurrent.locks.ReentrantLock.java:322)\n  sun.nio.ch.SocketChannelImpl.implCloseNonBlockingMode(sun.nio.ch.SocketChannelImpl.java:1091)\n  sun.nio.ch.SocketChannelImpl.implCloseSelectableChannel(sun.nio.ch.SocketChannelImpl.java:1124)\n  java.nio.channels.spi.AbstractSelectableChannel.implCloseChannel(java.nio.channels.spi.AbstractSelectableChannel.java:258)\n  java.nio.channels.spi.AbstractInterruptibleChannel.close(java.nio.channels.spi.AbstractInterruptibleChannel.java:113)\n  jdk.internal.net.http.PlainHttpConnection.close(jdk.internal.net.http.PlainHttpConnection.java:427)\n  jdk.internal.net.http.PlainHttpConnection.close(jdk.internal.net.http.PlainHttpConnection.java:406)\n  jdk.internal.net.http.Http1Response.lambda$readBody$1(jdk.internal.net.http.Http1Response.java:355)\n  jdk.internal.net.http.Http1Response$$Lambda+0x00007f4cb5e6c438.749276779.accept(jdk.internal.net.http.Http1Response$$Lambda+0x00007f4cb5e6c438.749276779.java:-1)\n  jdk.internal.net.http.ResponseContent$ChunkedBodyParser.onError(jdk.internal.net.http.ResponseContent$ChunkedBodyParser.java:185)\n  jdk.internal.net.http.Http1Response$BodyReader.onReadError(jdk.internal.net.http.Http1Response$BodyReader.java:677)\n  jdk.internal.net.http.Http1AsyncReceiver.checkForErrors(jdk.internal.net.http.Http1AsyncReceiver.java:302)\n  jdk.internal.net.http.Http1AsyncReceiver.flush(jdk.internal.net.http.Http1AsyncReceiver.java:268)\n  jdk.internal.net.http.Http1AsyncReceiver$$Lambda+0x00007f4cb5e31228.555093431.run(jdk.internal.net.http.Http1AsyncReceiver$$Lambda+0x00007f4cb5e31228.555093431.java:-1)\n  jdk.internal.net.http.common.SequentialScheduler$LockingRestartableTask.run(jdk.internal.net.http.common.SequentialScheduler$LockingRestartableTask.java:182)\n  jdk.internal.net.http.common.SequentialScheduler$CompleteRestartableTask.run(jdk.internal.net.http.common.SequentialScheduler$CompleteRestartableTask.java:149)\n  jdk.internal.net.http.common.SequentialScheduler$SchedulableTask.run(jdk.internal.net.http.common.SequentialScheduler$SchedulableTask.java:207)\n  jdk.internal.net.http.HttpClientImpl$DelegatingExecutor.execute(jdk.internal.net.http.HttpClientImpl$DelegatingExecutor.java:177)\n  jdk.internal.net.http.common.SequentialScheduler.runOrSchedule(jdk.internal.net.http.common.SequentialScheduler.java:282)\n  jdk.internal.net.http.common.SequentialScheduler.runOrSchedule(jdk.internal.net.http.common.SequentialScheduler.java:251)\n  jdk.internal.net.http.Http1AsyncReceiver.onReadError(jdk.internal.net.http.Http1AsyncReceiver.java:516)\n  jdk.internal.net.http.Http1AsyncReceiver.lambda$handlePendingDelegate$3(jdk.internal.net.http.Http1AsyncReceiver.java:380)\n  jdk.internal.net.http.Http1AsyncReceiver$$Lambda+0x00007f4cb5e33ca0.84679411.run(jdk.internal.net.http.Http1AsyncReceiver$$Lambda+0x00007f4cb5e33ca0.84679411.java:-1)\n  jdk.internal.net.http.Http1AsyncReceiver$Http1AsyncDelegateSubscription.cancel(jdk.internal.net.http.Http1AsyncReceiver$Http1AsyncDelegateSubscription.java:163)\n  jdk.internal.net.http.common.HttpBodySubscriberWrapper$SubscriptionWrapper.cancel(jdk.internal.net.http.common.HttpBodySubscriberWrapper$SubscriptionWrapper.java:92)\n  jdk.internal.net.http.ResponseSubscribers$HttpResponseInputStream.close(jdk.internal.net.http.ResponseSubscribers$HttpResponseInputStream.java:653)\n\n  com.acme.service.server.StatusClient.getResponse(com.acme.service.server.StatusClient.java:52)\n  com.acme.service.server.StatusClient_ClientProxy.getResponse(com.acme.service.server.StatusClient_ClientProxy.java:-1)\n  com.acme.client.Request.execute(com.acme.client.Request.java:96)\n  com.acme.service.server.serviceStatusProvider.getStatusHistorys(com.acme.service.server.serviceStatusProvider.java:237)\n  com.acme.service.api.RemoteStatusCheck.getStatusHistory(com.acme.service.api.RemoteStatusCheck.java:163)\n  com.acme.service.api.RemoteStatusCheck.lambda$doChecks$0(com.acme.service.api.RemoteStatusCheck.java:132)\n  com.acme.service.api.RemoteStatusCheck$$Lambda+0x00007f4cb9f0d8d0.979953307.call(com.acme.service.api.RemoteStatusCheck$$Lambda+0x00007f4cb9f0d8d0.979953307.java:-1)\n  java.util.concurrent.FutureTask.run(java.util.concurrent.FutureTask.java:317)\n  java.lang.VirtualThread.runWith(java.lang.VirtualThread.java:341)\n  java.lang.VirtualThread.run(java.lang.VirtualThread.java:311)\n  java.lang.VirtualThread$VThreadContinuation$1.run(java.lang.VirtualThread$VThreadContinuation$1.java:192)\n  jdk.internal.vm.Continuation.enter0(jdk.internal.vm.Continuation.java:320)\n  jdk.internal.vm.Continuation.enter(jdk.internal.vm.Continuation.java:312)\n  jdk.internal.vm.Continuation.enterSpecial(jdk.internal.vm.Continuation.java:-1)\n</code></pre>\n"},{"tags":["java","memory","hashmap","garbage"],"comments":[{"owner":{"account_id":3001,"reputation":138707,"user_id":4249,"accept_rate":84,"display_name":"matt b"},"score":0,"creation_date":1305052557,"post_id":5954583,"comment_id":6866831,"body_markdown":"the key to improvement here is to avoid reading all of a 2.2 GB file into memory at once","body":"the key to improvement here is to avoid reading all of a 2.2 GB file into memory at once"}],"answers":[{"tags":[],"owner":{"account_id":56888,"reputation":11998,"user_id":170383,"accept_rate":71,"display_name":"David R Tribble"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1305056013,"creation_date":1305052077,"answer_id":5954651,"question_id":5954583,"body_markdown":"A `HashMap` is typically just a large array of references filled to a certain percentage of capacity. If only 80% of the map is filled, the remaining 20% of the array cells are unused (i.e., are null). The extra overhead is really only just the empty (null) cells.\r\n\r\nOn a 32-bit CPU, each array cell is usually 4 bytes in size (although some JVM implementations may allocate 8 bytes). That&#39;s not really that much unused space overall.\r\n\r\nOnce your map is filled, you can copy it to another `HashMap` with a more appropriate (smaller) size giving a larger fill percentage.\r\n\r\nYour question seems to imply that there are more allocated but unused objects that you&#39;re worried about. But how is that the case?\r\n\r\n**Addendum**\r\n\r\nOnce a map is filled almost to capacity (typically more than 95% or so), a larger array is allocated, the old array&#39;s contents are copied to the new array, and then the smaller array is left to be garbage collected. This is obviously an expensive operation, so choosing a reasonably large initial size for the map is key to improving performance.\r\n\r\nIf you can (over)estimate the number of cells needed, preallocating a map can reduce or even eliminate the resizing operations.","title":"Remove unused allocated Memory from HashMaps","body":"<p>A <code>HashMap</code> is typically just a large array of references filled to a certain percentage of capacity. If only 80% of the map is filled, the remaining 20% of the array cells are unused (i.e., are null). The extra overhead is really only just the empty (null) cells.</p>\n\n<p>On a 32-bit CPU, each array cell is usually 4 bytes in size (although some JVM implementations may allocate 8 bytes). That's not really that much unused space overall.</p>\n\n<p>Once your map is filled, you can copy it to another <code>HashMap</code> with a more appropriate (smaller) size giving a larger fill percentage.</p>\n\n<p>Your question seems to imply that there are more allocated but unused objects that you're worried about. But how is that the case?</p>\n\n<p><strong>Addendum</strong></p>\n\n<p>Once a map is filled almost to capacity (typically more than 95% or so), a larger array is allocated, the old array's contents are copied to the new array, and then the smaller array is left to be garbage collected. This is obviously an expensive operation, so choosing a reasonably large initial size for the map is key to improving performance.</p>\n\n<p>If you can (over)estimate the number of cells needed, preallocating a map can reduce or even eliminate the resizing operations.</p>\n"},{"tags":[],"owner":{"account_id":41850,"reputation":132318,"user_id":121747,"accept_rate":89,"display_name":"Jack"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1305052681,"creation_date":1305052681,"answer_id":5954758,"question_id":5954583,"body_markdown":"What you are asking is not so clear, it is not clear if memory is taken by the objects that you put inside the hasmap or by the hashmap itself, which shouldn&#39;t be the case since it only holds references.\r\n\r\nIn any case take a look at the [`WeakHashMap`][1], maybe it is what you are looking for: it is an hashmap which doesn&#39;t guarantee that keys are kept inside it, it should be used as a sort of cache but from your description I don&#39;t really know if it is your case or not.\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/java/util/WeakHashMap.html","title":"Remove unused allocated Memory from HashMaps","body":"<p>What you are asking is not so clear, it is not clear if memory is taken by the objects that you put inside the hasmap or by the hashmap itself, which shouldn't be the case since it only holds references.</p>\n\n<p>In any case take a look at the <a href=\"http://download.oracle.com/javase/6/docs/api/java/util/WeakHashMap.html\" rel=\"nofollow\"><code>WeakHashMap</code></a>, maybe it is what you are looking for: it is an hashmap which doesn't guarantee that keys are kept inside it, it should be used as a sort of cache but from your description I don't really know if it is your case or not.</p>\n"},{"tags":[],"owner":{"account_id":41183,"reputation":7098,"user_id":119636,"display_name":"Buhb"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1305053017,"creation_date":1305053017,"answer_id":5954815,"question_id":5954583,"body_markdown":"If you get nowhere with reducing the memory footprint of your hashmap, you could always put the data in a database. Depending on how the data is accessed, you might still get reasonable performance if you introduce a cache in front of the db.","title":"Remove unused allocated Memory from HashMaps","body":"<p>If you get nowhere with reducing the memory footprint of your hashmap, you could always put the data in a database. Depending on how the data is accessed, you might still get reasonable performance if you introduce a cache in front of the db.</p>\n"},{"tags":[],"owner":{"account_id":110937,"reputation":10882,"user_id":293330,"display_name":"Kaj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1305053562,"creation_date":1305053562,"answer_id":5954918,"question_id":5954583,"body_markdown":"One thing that might come into play is that you might have substrings that are referencing old larger strings, and those substrings are then making it impossible for the GC to collect the char arrays that are too big. \r\n\r\nThis happens when you are using some XML parsers that are returning attributes/values as substring from a larger string. (A substring is only a limited view of the larger string). \r\n\r\nTry to put your strings in the map by doing something like this:\r\n\r\n    map.put(new String(key), new String(value));\r\n\r\nNote that the GC then might get more work to do when you are populating the map, and this might not help you if you don&#39;t have that many substrings that are referencing larger strings.\r\n\r\n","title":"Remove unused allocated Memory from HashMaps","body":"<p>One thing that might come into play is that you might have substrings that are referencing old larger strings, and those substrings are then making it impossible for the GC to collect the char arrays that are too big. </p>\n\n<p>This happens when you are using some XML parsers that are returning attributes/values as substring from a larger string. (A substring is only a limited view of the larger string). </p>\n\n<p>Try to put your strings in the map by doing something like this:</p>\n\n<pre><code>map.put(new String(key), new String(value));\n</code></pre>\n\n<p>Note that the GC then might get more work to do when you are populating the map, and this might not help you if you don't have that many substrings that are referencing larger strings.</p>\n"},{"tags":[],"owner":{"account_id":41183,"reputation":7098,"user_id":119636,"display_name":"Buhb"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1305056310,"creation_date":1305053832,"answer_id":5954980,"question_id":5954583,"body_markdown":"If you&#39;re really serious about this and you have time to spare, you can make your own implementation of the Map interface based on [minimal perfect hashing][1]\r\n\r\nIf your keys are Strings, then there apparently is a map available for you [here][2].\r\nI haven&#39;t tried it myself but it brags about reduced memory usage.\r\n\r\n\r\n  [1]: http://burtleburtle.net/bob/hash/perfect.html\r\n  [2]: http://www.anarres.org/projects/jperf/","title":"Remove unused allocated Memory from HashMaps","body":"<p>If you're really serious about this and you have time to spare, you can make your own implementation of the Map interface based on <a href=\"http://burtleburtle.net/bob/hash/perfect.html\" rel=\"nofollow\">minimal perfect hashing</a></p>\n\n<p>If your keys are Strings, then there apparently is a map available for you <a href=\"http://www.anarres.org/projects/jperf/\" rel=\"nofollow\">here</a>.\nI haven't tried it myself but it brags about reduced memory usage.</p>\n"},{"tags":[],"owner":{"account_id":299080,"reputation":2136,"user_id":605471,"accept_rate":100,"display_name":"T-Bull"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1305059262,"creation_date":1305059262,"answer_id":5956044,"question_id":5954583,"body_markdown":"You might give [the Trove collections][1] a shot. They advertise it as a more time and space efficient drop-in replacement for the java.util Collections.\r\n\r\n\r\n  [1]: http://trove.starlight-systems.com/","title":"Remove unused allocated Memory from HashMaps","body":"<p>You might give <a href=\"http://trove.starlight-systems.com/\" rel=\"nofollow\">the Trove collections</a> a shot. They advertise it as a more time and space efficient drop-in replacement for the java.util Collections.</p>\n"},{"tags":[],"owner":{"account_id":3453927,"reputation":176,"user_id":2892844,"display_name":"Duncan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697678018,"creation_date":1697677105,"answer_id":77320386,"question_id":5954583,"body_markdown":"Not an expert but I do have some experience managing memory in Java including working with maps.\r\n\r\nIf the quantity of objects is too large, you may be better off retaining Strings rather than other more complex objects and converting Strings to objects on the fly as needed.  I think that was the solution in one report I wrote that was combing through a database and creating summary reports.\r\n\r\nMaps are dangerous and are a common source of memory leaks.  The problem is that once a bucket is created in the map, it is never deleted.  If you are temporarily putting keys in the map and then removing them, any bucket created for a key will never be removed.  One way to deal with this is to use an object as the map key with a custom hashCode implementation that creates a limited set of hash code values.  For instance, if you want to use URLs as map keys (perhaps to implement a cache), you could wrap each URL in an object that produces a hashCode on the last three characters or so of the URL.  (The final characters of the URL will tend to have more variability than the beginning of the URL.)  The hashCode function in the wrapper might read:\r\n\r\n    int hashCode() {\r\n        return url.substring(path.length() - 3).hashCode()\r\n    }\r\n\r\nYou can compute the likely number of total hash code values and create a map with a corresponding initial capacity and load factor and be confident that the map will not grow larger over time if the total number of URLs saved in the map at any one time does not increase.\r\n\r\nThe admonition for Maps also applies to Sets that may use Maps or similar functionality as Maps to ensure the uniqueness of keys.\r\n\r\nYou may use a [LinkedHashMap][1] from the Java core library and override method removeEldestEntry to create a map that automatically eject old entries to stay below a maximum size.\r\n\r\n    import java.util.LinkedHashMap;\r\n    import java.util.Map;\r\n    \r\n    public class LimitedSizeMap&lt;K, V&gt; extends LinkedHashMap&lt;K, V&gt; {\r\n        private final int maxSize;\r\n    \r\n        public LimitedSizeMap(int maxSize) {\r\n            super(maxSize + 1, 1.1f, true);\r\n            this.maxSize = maxSize;\r\n        }\r\n    \r\n        @Override\r\n        protected boolean removeEldestEntry(Map.Entry&lt;K, V&gt; eldest) {\r\n            return size() &gt; maxSize;\r\n        }\r\n        \r\n        public static void main(String[] args) {\r\n            LimitedSizeMap&lt;String, Integer&gt; limitedMap = new LimitedSizeMap&lt;&gt;(3);\r\n            limitedMap.put(&quot;one&quot;, 1);\r\n            limitedMap.put(&quot;two&quot;, 2);\r\n            limitedMap.put(&quot;three&quot;, 3);\r\n    \r\n            System.out.println(limitedMap); // Output: {one=1, two=2, three=3}\r\n    \r\n            limitedMap.put(&quot;four&quot;, 4);\r\n    \r\n            System.out.println(limitedMap); // Output: {two=2, three=3, four=4}\r\n        }\r\n    }\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/LinkedHashMap.html#removeEldestEntry(java.util.Map.Entry)\r\n","title":"Remove unused allocated Memory from HashMaps","body":"<p>Not an expert but I do have some experience managing memory in Java including working with maps.</p>\n<p>If the quantity of objects is too large, you may be better off retaining Strings rather than other more complex objects and converting Strings to objects on the fly as needed.  I think that was the solution in one report I wrote that was combing through a database and creating summary reports.</p>\n<p>Maps are dangerous and are a common source of memory leaks.  The problem is that once a bucket is created in the map, it is never deleted.  If you are temporarily putting keys in the map and then removing them, any bucket created for a key will never be removed.  One way to deal with this is to use an object as the map key with a custom hashCode implementation that creates a limited set of hash code values.  For instance, if you want to use URLs as map keys (perhaps to implement a cache), you could wrap each URL in an object that produces a hashCode on the last three characters or so of the URL.  (The final characters of the URL will tend to have more variability than the beginning of the URL.)  The hashCode function in the wrapper might read:</p>\n<pre><code>int hashCode() {\n    return url.substring(path.length() - 3).hashCode()\n}\n</code></pre>\n<p>You can compute the likely number of total hash code values and create a map with a corresponding initial capacity and load factor and be confident that the map will not grow larger over time if the total number of URLs saved in the map at any one time does not increase.</p>\n<p>The admonition for Maps also applies to Sets that may use Maps or similar functionality as Maps to ensure the uniqueness of keys.</p>\n<p>You may use a <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/LinkedHashMap.html#removeEldestEntry(java.util.Map.Entry)\" rel=\"nofollow noreferrer\">LinkedHashMap</a> from the Java core library and override method removeEldestEntry to create a map that automatically eject old entries to stay below a maximum size.</p>\n<pre><code>import java.util.LinkedHashMap;\nimport java.util.Map;\n\npublic class LimitedSizeMap&lt;K, V&gt; extends LinkedHashMap&lt;K, V&gt; {\n    private final int maxSize;\n\n    public LimitedSizeMap(int maxSize) {\n        super(maxSize + 1, 1.1f, true);\n        this.maxSize = maxSize;\n    }\n\n    @Override\n    protected boolean removeEldestEntry(Map.Entry&lt;K, V&gt; eldest) {\n        return size() &gt; maxSize;\n    }\n    \n    public static void main(String[] args) {\n        LimitedSizeMap&lt;String, Integer&gt; limitedMap = new LimitedSizeMap&lt;&gt;(3);\n        limitedMap.put(&quot;one&quot;, 1);\n        limitedMap.put(&quot;two&quot;, 2);\n        limitedMap.put(&quot;three&quot;, 3);\n\n        System.out.println(limitedMap); // Output: {one=1, two=2, three=3}\n\n        limitedMap.put(&quot;four&quot;, 4);\n\n        System.out.println(limitedMap); // Output: {two=2, three=3, four=4}\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":113531,"reputation":16348,"user_id":298969,"accept_rate":62,"display_name":"Sebastian Sebald"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4700,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":7,"score":1,"last_activity_date":1697678018,"creation_date":1305051751,"question_id":5954583,"body_markdown":"I want to read some XML-files and convert it to a graph (no graphics, just a model). But because the files are very large (2,2 GB) my model object, which holds all the information, becomes even larger (4x the size of the file...).\r\n\r\nGoogling through the net I tried to find ways to reduce the object size. I tried different collection types but would like to stick to a HashMap (because I have to have random access). The actuall keys and values make up just a small amount of the allocated memory. Most of the hash table is empty...\r\n\r\nIf I&#39;m not totally wrong a garbage collection doesn&#39;t help me to free the allocated memory and reduce the size of the hashmap. Is there and other way to release unused memory and shrink the hashmap? Or is there a way to do perfect hashing? Or shoud I just use another collection?\r\n\r\nThanks in advance,\r\n\r\nSebastian","title":"Remove unused allocated Memory from HashMaps","body":"<p>I want to read some XML-files and convert it to a graph (no graphics, just a model). But because the files are very large (2,2 GB) my model object, which holds all the information, becomes even larger (4x the size of the file...).</p>\n\n<p>Googling through the net I tried to find ways to reduce the object size. I tried different collection types but would like to stick to a HashMap (because I have to have random access). The actuall keys and values make up just a small amount of the allocated memory. Most of the hash table is empty...</p>\n\n<p>If I'm not totally wrong a garbage collection doesn't help me to free the allocated memory and reduce the size of the hashmap. Is there and other way to release unused memory and shrink the hashmap? Or is there a way to do perfect hashing? Or shoud I just use another collection?</p>\n\n<p>Thanks in advance,</p>\n\n<p>Sebastian</p>\n"},{"tags":["java","spring","rest","kotlin","thymeleaf"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1697703244,"post_id":77320376,"comment_id":136313880,"body_markdown":"Remove `@ResponseBody` as that is for returning info to rest controllers (like JSON or XML) not for returning a view with a model to render.","body":"Remove <code>@ResponseBody</code> as that is for returning info to rest controllers (like JSON or XML) not for returning a view with a model to render."}],"owner":{"account_id":17833331,"reputation":5,"user_id":12952864,"display_name":"Александр Коромыслов"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697676873,"creation_date":1697676873,"question_id":77320376,"body_markdown":"I am trying to return ModelAndView,\r\nIn debug mode I found ModelAndView has:\r\nview = &quot;recordstable&quot;\r\nmodel has 1 List,\r\nbut when it is returning ModelAndViewContainer view is null and default model is empty.\r\n\r\nrecordstable.html replaced in resources/templates\r\n\r\n    @Controller\r\n    @RequestMapping(&quot;/api/csv&quot;)\r\n    class AuthorRecordController(private val authorRecordService: AuthorRecordService) {\r\n    @GetMapping(&quot;/records&quot;, produces = arrayOf(&quot;application/json&quot;))\r\n    @ResponseBody\r\n    fun getRecords() : ModelAndView\r\n    {\r\n        val model = ModelAndView()\r\n        val listOfRecords = authorRecordService.getAllRecords()\r\n        model.addObject(&quot;listOfRecords&quot;, listOfRecords)\r\n        model.viewName = &quot;recordstable&quot;\r\n        return model\r\n    }\r\n}\r\n","title":"ModelAndViewContainer is empty when ModelAndView has object and viewName","body":"<p>I am trying to return ModelAndView,\nIn debug mode I found ModelAndView has:\nview = &quot;recordstable&quot;\nmodel has 1 List,\nbut when it is returning ModelAndViewContainer view is null and default model is empty.</p>\n<p>recordstable.html replaced in resources/templates</p>\n<pre><code>@Controller\n@RequestMapping(&quot;/api/csv&quot;)\nclass AuthorRecordController(private val authorRecordService: AuthorRecordService) {\n@GetMapping(&quot;/records&quot;, produces = arrayOf(&quot;application/json&quot;))\n@ResponseBody\nfun getRecords() : ModelAndView\n{\n    val model = ModelAndView()\n    val listOfRecords = authorRecordService.getAllRecords()\n    model.addObject(&quot;listOfRecords&quot;, listOfRecords)\n    model.viewName = &quot;recordstable&quot;\n    return model\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","android","android-studio","build.gradle"],"answers":[{"tags":[],"owner":{"account_id":11979781,"reputation":514,"user_id":8765956,"display_name":"Ranjit Vamadevan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1606662662,"creation_date":1606662662,"answer_id":65061621,"question_id":65061459,"body_markdown":"Go to Android studio SDK Manager and update or install google play services.\r\nhttps://developer.android.com/studio/intro/update.html#sdk-manager","title":"Android Studio cannot import com.google.gms.googleservices.GoogleServicesPlugin","body":"<p>Go to Android studio SDK Manager and update or install google play services.\n<a href=\"https://developer.android.com/studio/intro/update.html#sdk-manager\" rel=\"nofollow noreferrer\">https://developer.android.com/studio/intro/update.html#sdk-manager</a></p>\n"},{"tags":[],"owner":{"account_id":415954,"reputation":966,"user_id":791064,"display_name":"Brad Folkens"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1612110889,"creation_date":1612110889,"answer_id":65981546,"question_id":65061459,"body_markdown":"To fix, change your app&#39;s `build.gradle` from the following:\r\n\r\n```\r\ncom.google.gms.googleservices.GoogleServicesPlugin = true\r\n```\r\n\r\nTo:\r\n\r\n```\r\ngoogleServices.disableVersionCheck = true\r\n```\r\n\r\nThere&#39;s some further discussion here:\r\nhttps://github.com/google/play-services-plugins/issues/36\r\n","title":"Android Studio cannot import com.google.gms.googleservices.GoogleServicesPlugin","body":"<p>To fix, change your app's <code>build.gradle</code> from the following:</p>\n<pre><code>com.google.gms.googleservices.GoogleServicesPlugin = true\n</code></pre>\n<p>To:</p>\n<pre><code>googleServices.disableVersionCheck = true\n</code></pre>\n<p>There's some further discussion here:\n<a href=\"https://github.com/google/play-services-plugins/issues/36\" rel=\"nofollow noreferrer\">https://github.com/google/play-services-plugins/issues/36</a></p>\n"},{"tags":[],"owner":{"account_id":15195792,"reputation":339,"user_id":10965177,"display_name":"NELSON RODRIGUEZ"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697676191,"creation_date":1697676191,"answer_id":77320351,"question_id":65061459,"body_markdown":"version classpath &#39;com.google.gms:google-services:4.3.14&#39; worked to me","title":"Android Studio cannot import com.google.gms.googleservices.GoogleServicesPlugin","body":"<p>version classpath 'com.google.gms:google-services:4.3.14' worked to me</p>\n"}],"owner":{"account_id":15161736,"reputation":21,"user_id":10940586,"display_name":"DAL"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1199,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1697676191,"creation_date":1606661701,"question_id":65061459,"body_markdown":"I&#39;m having a problem that every once in a while, suddenly I get a gradle error of:\r\n`No such property: config for class: com.google.gms.googleservices.GoogleServicesPlugin` that I don&#39;t know how to solve (and don&#39;t know what made it disappear on the previous times it happened to me).\r\n\r\nIt seems like the problem is that the Android Studio doesn&#39;t recognise `com.google.gms.googleservices.GoogleServicesPlugin` because I get `cannot resolve symbol` on the `com.google` part (Inside build.gradle(:app)). \r\n\r\nI&#39;ve already watch more than 20 other questions regarding this issue, all of them suggest the same thing - updating the `com.google.gms:google-services` or adding `jcenter()` In addition to Maven, but these are already updated in my code.\r\n\r\nAlso tried :\r\n* `Invalidate Caches/Restart` \r\n* Updating gradle plugin\r\n* Delete and re-install `Google play services`, `Android SDK Build-Tools`, `Android SDK Platforms-Tools` &amp; `Android SDK Tools` SDKs in the SDK manager\r\n* update Android Studio to latest version\r\n\r\nI&#39;m pretty lost here, any help please? \r\n\r\nMy Build.gradle(:Project) : \r\n```repositories {\r\n        google()\r\n        jcenter()\r\n        ...\r\n        mavenCentral()\r\n    }\r\n\r\n    dependencies {\r\n        classpath &#39;com.android.tools.build:gradle:4.1.1&#39;\r\n        classpath &#39;com.google.gms:google-services:4.3.4&#39;\r\n        ...\r\n    }","title":"Android Studio cannot import com.google.gms.googleservices.GoogleServicesPlugin","body":"<p>I'm having a problem that every once in a while, suddenly I get a gradle error of:\n<code>No such property: config for class: com.google.gms.googleservices.GoogleServicesPlugin</code> that I don't know how to solve (and don't know what made it disappear on the previous times it happened to me).</p>\n<p>It seems like the problem is that the Android Studio doesn't recognise <code>com.google.gms.googleservices.GoogleServicesPlugin</code> because I get <code>cannot resolve symbol</code> on the <code>com.google</code> part (Inside build.gradle(:app)).</p>\n<p>I've already watch more than 20 other questions regarding this issue, all of them suggest the same thing - updating the <code>com.google.gms:google-services</code> or adding <code>jcenter()</code> In addition to Maven, but these are already updated in my code.</p>\n<p>Also tried :</p>\n<ul>\n<li><code>Invalidate Caches/Restart</code></li>\n<li>Updating gradle plugin</li>\n<li>Delete and re-install <code>Google play services</code>, <code>Android SDK Build-Tools</code>, <code>Android SDK Platforms-Tools</code> &amp; <code>Android SDK Tools</code> SDKs in the SDK manager</li>\n<li>update Android Studio to latest version</li>\n</ul>\n<p>I'm pretty lost here, any help please?</p>\n<p>My Build.gradle(:Project) :</p>\n<pre><code>        google()\n        jcenter()\n        ...\n        mavenCentral()\n    }\n\n    dependencies {\n        classpath 'com.android.tools.build:gradle:4.1.1'\n        classpath 'com.google.gms:google-services:4.3.4'\n        ...\n    }\n</code></pre>\n"},{"tags":["java","hibernate","seam","weblogic-10.x"],"comments":[{"owner":{"account_id":54359,"reputation":9223,"user_id":162622,"accept_rate":51,"display_name":"Kiva"},"score":0,"creation_date":1280760427,"post_id":3344389,"comment_id":3523497,"body_markdown":"I tried this, many time ;) and nothing has changed","body":"I tried this, many time ;) and nothing has changed"}],"answers":[{"tags":[],"owner":{"account_id":132702,"reputation":759,"user_id":333553,"accept_rate":33,"display_name":"user18943"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1290714729,"creation_date":1290714729,"answer_id":4280441,"question_id":3344389,"body_markdown":"It happens when you use newer version of Hibernate in your application while pre-packaged hibernate jars (that come with jboss server) are of older version. For details on how to properly upgrade your application server&#39;s hibernate jars, read [this][1].\r\n\r\n\r\n  [1]: http://jaitechwriteups.blogspot.com/2008/08/how-to-upgrade-hibernate-in-jboss.html","title":"java.lang.NoSuchMethodException: org.hibernate.validator.ClassValidator Seam weblogic 10.3","body":"<p>It happens when you use newer version of Hibernate in your application while pre-packaged hibernate jars (that come with jboss server) are of older version. For details on how to properly upgrade your application server's hibernate jars, read <a href=\"http://jaitechwriteups.blogspot.com/2008/08/how-to-upgrade-hibernate-in-jboss.html\">this</a>.</p>\n"},{"tags":[],"owner":{"account_id":1246572,"reputation":171,"user_id":1207894,"display_name":"Victor Lindberg"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1329172484,"creation_date":1329172484,"answer_id":9269059,"question_id":3344389,"body_markdown":"I solved this problem adding this two properties in my hibernate config.\r\n\r\n    &lt;property name=&quot;hibernate.validator.apply_to_ddl&quot;&gt;false&lt;/property&gt; \r\n    &lt;property name=&quot;hibernate.validator.autoregister_listeners&quot;&gt;false&lt;/property&gt;","title":"java.lang.NoSuchMethodException: org.hibernate.validator.ClassValidator Seam weblogic 10.3","body":"<p>I solved this problem adding this two properties in my hibernate config.</p>\n\n<pre><code>&lt;property name=\"hibernate.validator.apply_to_ddl\"&gt;false&lt;/property&gt; \n&lt;property name=\"hibernate.validator.autoregister_listeners\"&gt;false&lt;/property&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":263393,"reputation":6812,"user_id":548915,"accept_rate":56,"display_name":"Kristof Jozsa"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1394483521,"creation_date":1394483521,"answer_id":22310699,"question_id":3344389,"body_markdown":"If you happen to hit this issue on Weblogic Server, I solved this problem on Weblogic 10.3.0.0 with placing the package `org.hibernate` to `prefer-application-packages` at `weblogic-application.xml` in the EAR:\r\n\r\n    &lt;weblogic-application&gt;\r\n       &lt;prefer-application-packages&gt;\r\n          &lt;package-name&gt;org.hibernate.*&lt;/package-name&gt;\r\n       &lt;/prefer-application-packages&gt;\r\n    &lt;/weblogic-application&gt;\r\n\r\nWith a properly built application this will prevent Weblogic Server loading the older, conflicting library from the server&#39;s classpath and make it work as expected.\r\n","title":"java.lang.NoSuchMethodException: org.hibernate.validator.ClassValidator Seam weblogic 10.3","body":"<p>If you happen to hit this issue on Weblogic Server, I solved this problem on Weblogic 10.3.0.0 with placing the package <code>org.hibernate</code> to <code>prefer-application-packages</code> at <code>weblogic-application.xml</code> in the EAR:</p>\n\n<pre><code>&lt;weblogic-application&gt;\n   &lt;prefer-application-packages&gt;\n      &lt;package-name&gt;org.hibernate.*&lt;/package-name&gt;\n   &lt;/prefer-application-packages&gt;\n&lt;/weblogic-application&gt;\n</code></pre>\n\n<p>With a properly built application this will prevent Weblogic Server loading the older, conflicting library from the server's classpath and make it work as expected.</p>\n"}],"owner":{"account_id":54359,"reputation":9223,"user_id":162622,"accept_rate":51,"display_name":"Kiva"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25092,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"answer_count":3,"score":18,"last_activity_date":1697675801,"creation_date":1280239200,"question_id":3344389,"body_markdown":"I have a big problem with Hibernate (use with seam) on weblogic 10.3.\r\n\r\nWhen I publish my application, I get this error:\r\n\r\n    java.lang.NoSuchMethodException: org.hibernate.validator.ClassValidator.&lt;init&gt;(java.lang.Class, java.util.ResourceBundle, org.hibernate.validator.MessageInterpolator, java.util.Map, org.hibernate.annotations.common.reflection.ReflectionManager)\r\n\r\nI read on the web that this error can come from compatibily between hibernate jar. But, I read the matrix and I have the good jar with good version (hibernate-validator 3.1, hibernate-search 3.1, hibernate core 3.3.0)\r\n\r\nI haven&#39;t idea to resolve this problem. Someone can help me ?\r\n\r\nThanks.\r\n\r\nPS: Here is the full stack trace:\r\n\r\n    weblogic.application.ModuleException: \r\n        \tat weblogic.servlet.internal.WebAppModule.startContexts(WebAppModule.java:1373)\r\n        \tat weblogic.servlet.internal.WebAppModule.start(WebAppModule.java:468)\r\n        \tat weblogic.application.internal.flow.ModuleListenerInvoker.start(ModuleListenerInvoker.java:117)\r\n        \tat weblogic.application.internal.flow.ModuleStateDriver$3.next(ModuleStateDriver.java:204)\r\n        \tat weblogic.application.utils.StateMachineDriver.nextState(StateMachineDriver.java:37)\r\n        \tat weblogic.application.internal.flow.ModuleStateDriver.start(ModuleStateDriver.java:60)\r\n        \tat weblogic.application.internal.flow.StartModulesFlow.activate(StartModulesFlow.java:27)\r\n        \tat weblogic.application.internal.BaseDeployment$2.next(BaseDeployment.java:635)\r\n        \tat weblogic.application.utils.StateMachineDriver.nextState(StateMachineDriver.java:37)\r\n        \tat weblogic.application.internal.BaseDeployment.activate(BaseDeployment.java:212)\r\n        \tat weblogic.application.internal.EarDeployment.activate(EarDeployment.java:16)\r\n        \tat weblogic.application.internal.DeploymentStateChecker.activate(DeploymentStateChecker.java:162)\r\n        \tat weblogic.deploy.internal.targetserver.AppContainerInvoker.activate(AppContainerInvoker.java:79)\r\n        \tat weblogic.deploy.internal.targetserver.operations.AbstractOperation.activate(AbstractOperation.java:569)\r\n        \tat weblogic.deploy.internal.targetserver.operations.ActivateOperation.activateDeployment(ActivateOperation.java:140)\r\n        \tat weblogic.deploy.internal.targetserver.operations.ActivateOperation.doCommit(ActivateOperation.java:106)\r\n        \tat weblogic.deploy.internal.targetserver.operations.StartOperation.doCommit(StartOperation.java:143)\r\n        \tat weblogic.deploy.internal.targetserver.operations.AbstractOperation.commit(AbstractOperation.java:323)\r\n        \tat weblogic.deploy.internal.targetserver.DeploymentManager.handleDeploymentCommit(DeploymentManager.java:820)\r\n        \tat weblogic.deploy.internal.targetserver.DeploymentManager.activateDeploymentList(DeploymentManager.java:1227)\r\n        \tat weblogic.deploy.internal.targetserver.DeploymentManager.handleCommit(DeploymentManager.java:436)\r\n        \tat weblogic.deploy.internal.targetserver.DeploymentServiceDispatcher.commit(DeploymentServiceDispatcher.java:163)\r\n        \tat weblogic.deploy.service.internal.targetserver.DeploymentReceiverCallbackDeliverer.doCommitCallback(DeploymentReceiverCallbackDeliverer.java:181)\r\n        \tat weblogic.deploy.service.internal.targetserver.DeploymentReceiverCallbackDeliverer.access$100(DeploymentReceiverCallbackDeliverer.java:12)\r\n        \tat weblogic.deploy.service.internal.targetserver.DeploymentReceiverCallbackDeliverer$2.run(DeploymentReceiverCallbackDeliverer.java:67)\r\n        \tat weblogic.work.SelfTuningWorkManagerImpl$WorkAdapterImpl.run(SelfTuningWorkManagerImpl.java:516)\r\n        \tat weblogic.work.ExecuteThread.execute(ExecuteThread.java:201)\r\n        \tat weblogic.work.ExecuteThread.run(ExecuteThread.java:173)\r\n        java.lang.NoSuchMethodException: org.hibernate.validator.ClassValidator.&lt;init&gt;(java.lang.Class, java.util.ResourceBundle, org.hibernate.validator.MessageInterpolator, java.util.Map, org.hibernate.annotations.common.reflection.ReflectionManager)\r\n        \tat java.lang.Class.getConstructor0(Class.java:2706)\r\n        \tat java.lang.Class.getDeclaredConstructor(Class.java:1985)\r\n        \tat org.hibernate.cfg.AnnotationConfiguration.secondPassCompile(AnnotationConfiguration.java:352)\r\n        \tat org.hibernate.cfg.Configuration.buildMappings(Configuration.java:1148)\r\n        \tat org.hibernate.ejb.Ejb3Configuration.buildMappings(Ejb3Configuration.java:1226)\r\n        \tat org.hibernate.ejb.EventListenerConfigurator.configure(EventListenerConfigurator.java:159)\r\n        \tat org.hibernate.ejb.Ejb3Configuration.configure(Ejb3Configuration.java:854)\r\n        \tat org.hibernate.ejb.Ejb3Configuration.configure(Ejb3Configuration.java:191)\r\n        \tat org.hibernate.ejb.Ejb3Configuration.configure(Ejb3Configuration.java:253)\r\n        \tat org.hibernate.ejb.HibernatePersistence.createEntityManagerFactory(HibernatePersistence.java:125)\r\n        \tat javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:83)\r\n        \tat javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:60)\r\n        \tat org.jboss.seam.persistence.EntityManagerFactory.createEntityManagerFactory(EntityManagerFactory.java:81)\r\n        \tat org.jboss.seam.persistence.EntityManagerFactory.startup(EntityManagerFactory.java:50)\r\n        \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\r\n        \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\r\n        \tat java.lang.reflect.Method.invoke(Method.java:597)\r\n        \tat org.jboss.seam.util.Reflections.invoke(Reflections.java:22)\r\n        \tat org.jboss.seam.util.Reflections.invokeAndWrap(Reflections.java:144)\r\n        \tat org.jboss.seam.Component.callComponentMethod(Component.java:2257)\r\n        \tat org.jboss.seam.Component.callCreateMethod(Component.java:2172)\r\n        \tat org.jboss.seam.Component.newInstance(Component.java:2132)\r\n        \tat org.jboss.seam.contexts.Contexts.startup(Contexts.java:304)\r\n        \tat org.jboss.seam.contexts.Contexts.startup(Contexts.java:278)\r\n        \tat org.jboss.seam.contexts.ServletLifecycle.endInitialization(ServletLifecycle.java:116)\r\n        \tat org.jboss.seam.init.Initialization.init(Initialization.java:740)\r\n        \tat org.jboss.seam.servlet.SeamListener.contextInitialized(SeamListener.java:36)\r\n        \tat weblogic.servlet.internal.EventsManager$FireContextListenerAction.run(EventsManager.java:465)\r\n        \tat weblogic.security.acl.internal.AuthenticatedSubject.doAs(AuthenticatedSubject.java:321)\r\n        \tat weblogic.security.service.SecurityManager.runAs(Unknown Source)\r\n        \tat weblogic.servlet.internal.EventsManager.notifyContextCreatedEvent(EventsManager.java:175)\r\n        \tat weblogic.servlet.internal.WebAppServletContext.preloadResources(WebAppServletContext.java:1785)\r\n        \tat weblogic.servlet.internal.WebAppServletContext.start(WebAppServletContext.java:3005)\r\n        \tat weblogic.servlet.internal.WebAppModule.startContexts(WebAppModule.java:1371)\r\n        \tat weblogic.servlet.internal.WebAppModule.start(WebAppModule.java:468)\r\n        \tat weblogic.application.internal.flow.ModuleListenerInvoker.start(ModuleListenerInvoker.java:117)\r\n        \tat weblogic.application.internal.flow.ModuleStateDriver$3.next(ModuleStateDriver.java:204)\r\n        \tat weblogic.application.utils.StateMachineDriver.nextState(StateMachineDriver.java:37)\r\n        \tat weblogic.application.internal.flow.ModuleStateDriver.start(ModuleStateDriver.java:60)\r\n        \tat weblogic.application.internal.flow.StartModulesFlow.activate(StartModulesFlow.java:27)\r\n        \tat weblogic.application.internal.BaseDeployment$2.next(BaseDeployment.java:635)\r\n        \tat weblogic.application.utils.StateMachineDriver.nextState(StateMachineDriver.java:37)\r\n        \tat weblogic.application.internal.BaseDeployment.activate(BaseDeployment.java:212)\r\n        \tat weblogic.application.internal.EarDeployment.activate(EarDeployment.java:16)\r\n        \tat weblogic.application.internal.DeploymentStateChecker.activate(DeploymentStateChecker.java:162)\r\n        \tat weblogic.deploy.internal.targetserver.AppContainerInvoker.activate(AppContainerInvoker.java:79)\r\n        \tat weblogic.deploy.internal.targetserver.operations.AbstractOperation.activate(AbstractOperation.java:569)\r\n        \tat weblogic.deploy.internal.targetserver.operations.ActivateOperation.activateDeployment(ActivateOperation.java:140)\r\n        \tat weblogic.deploy.internal.targetserver.operations.ActivateOperation.doCommit(ActivateOperation.java:106)\r\n        \tat weblogic.deploy.internal.targetserver.operations.StartOperation.doCommit(StartOperation.java:143)\r\n        \tat weblogic.deploy.internal.targetserver.operations.AbstractOperation.commit(AbstractOperation.java:323)\r\n        \tat weblogic.deploy.internal.targetserver.DeploymentManager.handleDeploymentCommit(DeploymentManager.java:820)\r\n        \tat weblogic.deploy.internal.targetserver.DeploymentManager.activateDeploymentList(DeploymentManager.java:1227)\r\n        \tat weblogic.deploy.internal.targetserver.DeploymentManager.handleCommit(DeploymentManager.java:436)\r\n        \tat weblogic.deploy.internal.targetserver.DeploymentServiceDispatcher.commit(DeploymentServiceDispatcher.java:163)\r\n        \tat weblogic.deploy.service.internal.targetserver.DeploymentReceiverCallbackDeliverer.doCommitCallback(DeploymentReceiverCallbackDeliverer.java:181)\r\n        \tat weblogic.deploy.service.internal.targetserver.DeploymentReceiverCallbackDeliverer.access$100(DeploymentReceiverCallbackDeliverer.java:12)\r\n        \tat weblogic.deploy.service.internal.targetserver.DeploymentReceiverCallbackDeliverer$2.run(DeploymentReceiverCallbackDeliverer.java:67)\r\n        \tat weblogic.work.SelfTuningWorkManagerImpl$WorkAdapterImpl.run(SelfTuningWorkManagerImpl.java:516)\r\n        \tat weblogic.work.ExecuteThread.execute(ExecuteThread.java:201)\r\n        \tat weblogic.work.ExecuteThread.run(ExecuteThread.java:173)\r\n        &gt; \r\n\r\n","title":"java.lang.NoSuchMethodException: org.hibernate.validator.ClassValidator Seam weblogic 10.3","body":"<p>I have a big problem with Hibernate (use with seam) on weblogic 10.3.</p>\n\n<p>When I publish my application, I get this error:</p>\n\n<pre><code>java.lang.NoSuchMethodException: org.hibernate.validator.ClassValidator.&lt;init&gt;(java.lang.Class, java.util.ResourceBundle, org.hibernate.validator.MessageInterpolator, java.util.Map, org.hibernate.annotations.common.reflection.ReflectionManager)\n</code></pre>\n\n<p>I read on the web that this error can come from compatibily between hibernate jar. But, I read the matrix and I have the good jar with good version (hibernate-validator 3.1, hibernate-search 3.1, hibernate core 3.3.0)</p>\n\n<p>I haven't idea to resolve this problem. Someone can help me ?</p>\n\n<p>Thanks.</p>\n\n<p>PS: Here is the full stack trace:</p>\n\n<pre><code>weblogic.application.ModuleException: \n        at weblogic.servlet.internal.WebAppModule.startContexts(WebAppModule.java:1373)\n        at weblogic.servlet.internal.WebAppModule.start(WebAppModule.java:468)\n        at weblogic.application.internal.flow.ModuleListenerInvoker.start(ModuleListenerInvoker.java:117)\n        at weblogic.application.internal.flow.ModuleStateDriver$3.next(ModuleStateDriver.java:204)\n        at weblogic.application.utils.StateMachineDriver.nextState(StateMachineDriver.java:37)\n        at weblogic.application.internal.flow.ModuleStateDriver.start(ModuleStateDriver.java:60)\n        at weblogic.application.internal.flow.StartModulesFlow.activate(StartModulesFlow.java:27)\n        at weblogic.application.internal.BaseDeployment$2.next(BaseDeployment.java:635)\n        at weblogic.application.utils.StateMachineDriver.nextState(StateMachineDriver.java:37)\n        at weblogic.application.internal.BaseDeployment.activate(BaseDeployment.java:212)\n        at weblogic.application.internal.EarDeployment.activate(EarDeployment.java:16)\n        at weblogic.application.internal.DeploymentStateChecker.activate(DeploymentStateChecker.java:162)\n        at weblogic.deploy.internal.targetserver.AppContainerInvoker.activate(AppContainerInvoker.java:79)\n        at weblogic.deploy.internal.targetserver.operations.AbstractOperation.activate(AbstractOperation.java:569)\n        at weblogic.deploy.internal.targetserver.operations.ActivateOperation.activateDeployment(ActivateOperation.java:140)\n        at weblogic.deploy.internal.targetserver.operations.ActivateOperation.doCommit(ActivateOperation.java:106)\n        at weblogic.deploy.internal.targetserver.operations.StartOperation.doCommit(StartOperation.java:143)\n        at weblogic.deploy.internal.targetserver.operations.AbstractOperation.commit(AbstractOperation.java:323)\n        at weblogic.deploy.internal.targetserver.DeploymentManager.handleDeploymentCommit(DeploymentManager.java:820)\n        at weblogic.deploy.internal.targetserver.DeploymentManager.activateDeploymentList(DeploymentManager.java:1227)\n        at weblogic.deploy.internal.targetserver.DeploymentManager.handleCommit(DeploymentManager.java:436)\n        at weblogic.deploy.internal.targetserver.DeploymentServiceDispatcher.commit(DeploymentServiceDispatcher.java:163)\n        at weblogic.deploy.service.internal.targetserver.DeploymentReceiverCallbackDeliverer.doCommitCallback(DeploymentReceiverCallbackDeliverer.java:181)\n        at weblogic.deploy.service.internal.targetserver.DeploymentReceiverCallbackDeliverer.access$100(DeploymentReceiverCallbackDeliverer.java:12)\n        at weblogic.deploy.service.internal.targetserver.DeploymentReceiverCallbackDeliverer$2.run(DeploymentReceiverCallbackDeliverer.java:67)\n        at weblogic.work.SelfTuningWorkManagerImpl$WorkAdapterImpl.run(SelfTuningWorkManagerImpl.java:516)\n        at weblogic.work.ExecuteThread.execute(ExecuteThread.java:201)\n        at weblogic.work.ExecuteThread.run(ExecuteThread.java:173)\n    java.lang.NoSuchMethodException: org.hibernate.validator.ClassValidator.&lt;init&gt;(java.lang.Class, java.util.ResourceBundle, org.hibernate.validator.MessageInterpolator, java.util.Map, org.hibernate.annotations.common.reflection.ReflectionManager)\n        at java.lang.Class.getConstructor0(Class.java:2706)\n        at java.lang.Class.getDeclaredConstructor(Class.java:1985)\n        at org.hibernate.cfg.AnnotationConfiguration.secondPassCompile(AnnotationConfiguration.java:352)\n        at org.hibernate.cfg.Configuration.buildMappings(Configuration.java:1148)\n        at org.hibernate.ejb.Ejb3Configuration.buildMappings(Ejb3Configuration.java:1226)\n        at org.hibernate.ejb.EventListenerConfigurator.configure(EventListenerConfigurator.java:159)\n        at org.hibernate.ejb.Ejb3Configuration.configure(Ejb3Configuration.java:854)\n        at org.hibernate.ejb.Ejb3Configuration.configure(Ejb3Configuration.java:191)\n        at org.hibernate.ejb.Ejb3Configuration.configure(Ejb3Configuration.java:253)\n        at org.hibernate.ejb.HibernatePersistence.createEntityManagerFactory(HibernatePersistence.java:125)\n        at javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:83)\n        at javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:60)\n        at org.jboss.seam.persistence.EntityManagerFactory.createEntityManagerFactory(EntityManagerFactory.java:81)\n        at org.jboss.seam.persistence.EntityManagerFactory.startup(EntityManagerFactory.java:50)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n        at java.lang.reflect.Method.invoke(Method.java:597)\n        at org.jboss.seam.util.Reflections.invoke(Reflections.java:22)\n        at org.jboss.seam.util.Reflections.invokeAndWrap(Reflections.java:144)\n        at org.jboss.seam.Component.callComponentMethod(Component.java:2257)\n        at org.jboss.seam.Component.callCreateMethod(Component.java:2172)\n        at org.jboss.seam.Component.newInstance(Component.java:2132)\n        at org.jboss.seam.contexts.Contexts.startup(Contexts.java:304)\n        at org.jboss.seam.contexts.Contexts.startup(Contexts.java:278)\n        at org.jboss.seam.contexts.ServletLifecycle.endInitialization(ServletLifecycle.java:116)\n        at org.jboss.seam.init.Initialization.init(Initialization.java:740)\n        at org.jboss.seam.servlet.SeamListener.contextInitialized(SeamListener.java:36)\n        at weblogic.servlet.internal.EventsManager$FireContextListenerAction.run(EventsManager.java:465)\n        at weblogic.security.acl.internal.AuthenticatedSubject.doAs(AuthenticatedSubject.java:321)\n        at weblogic.security.service.SecurityManager.runAs(Unknown Source)\n        at weblogic.servlet.internal.EventsManager.notifyContextCreatedEvent(EventsManager.java:175)\n        at weblogic.servlet.internal.WebAppServletContext.preloadResources(WebAppServletContext.java:1785)\n        at weblogic.servlet.internal.WebAppServletContext.start(WebAppServletContext.java:3005)\n        at weblogic.servlet.internal.WebAppModule.startContexts(WebAppModule.java:1371)\n        at weblogic.servlet.internal.WebAppModule.start(WebAppModule.java:468)\n        at weblogic.application.internal.flow.ModuleListenerInvoker.start(ModuleListenerInvoker.java:117)\n        at weblogic.application.internal.flow.ModuleStateDriver$3.next(ModuleStateDriver.java:204)\n        at weblogic.application.utils.StateMachineDriver.nextState(StateMachineDriver.java:37)\n        at weblogic.application.internal.flow.ModuleStateDriver.start(ModuleStateDriver.java:60)\n        at weblogic.application.internal.flow.StartModulesFlow.activate(StartModulesFlow.java:27)\n        at weblogic.application.internal.BaseDeployment$2.next(BaseDeployment.java:635)\n        at weblogic.application.utils.StateMachineDriver.nextState(StateMachineDriver.java:37)\n        at weblogic.application.internal.BaseDeployment.activate(BaseDeployment.java:212)\n        at weblogic.application.internal.EarDeployment.activate(EarDeployment.java:16)\n        at weblogic.application.internal.DeploymentStateChecker.activate(DeploymentStateChecker.java:162)\n        at weblogic.deploy.internal.targetserver.AppContainerInvoker.activate(AppContainerInvoker.java:79)\n        at weblogic.deploy.internal.targetserver.operations.AbstractOperation.activate(AbstractOperation.java:569)\n        at weblogic.deploy.internal.targetserver.operations.ActivateOperation.activateDeployment(ActivateOperation.java:140)\n        at weblogic.deploy.internal.targetserver.operations.ActivateOperation.doCommit(ActivateOperation.java:106)\n        at weblogic.deploy.internal.targetserver.operations.StartOperation.doCommit(StartOperation.java:143)\n        at weblogic.deploy.internal.targetserver.operations.AbstractOperation.commit(AbstractOperation.java:323)\n        at weblogic.deploy.internal.targetserver.DeploymentManager.handleDeploymentCommit(DeploymentManager.java:820)\n        at weblogic.deploy.internal.targetserver.DeploymentManager.activateDeploymentList(DeploymentManager.java:1227)\n        at weblogic.deploy.internal.targetserver.DeploymentManager.handleCommit(DeploymentManager.java:436)\n        at weblogic.deploy.internal.targetserver.DeploymentServiceDispatcher.commit(DeploymentServiceDispatcher.java:163)\n        at weblogic.deploy.service.internal.targetserver.DeploymentReceiverCallbackDeliverer.doCommitCallback(DeploymentReceiverCallbackDeliverer.java:181)\n        at weblogic.deploy.service.internal.targetserver.DeploymentReceiverCallbackDeliverer.access$100(DeploymentReceiverCallbackDeliverer.java:12)\n        at weblogic.deploy.service.internal.targetserver.DeploymentReceiverCallbackDeliverer$2.run(DeploymentReceiverCallbackDeliverer.java:67)\n        at weblogic.work.SelfTuningWorkManagerImpl$WorkAdapterImpl.run(SelfTuningWorkManagerImpl.java:516)\n        at weblogic.work.ExecuteThread.execute(ExecuteThread.java:201)\n        at weblogic.work.ExecuteThread.run(ExecuteThread.java:173)\n    &gt; \n</code></pre>\n"},{"tags":["java","android","android-studio","android-emulator","runtime-error"],"comments":[{"owner":{"account_id":1849514,"reputation":193868,"user_id":1676363,"accept_rate":100,"display_name":"ianhanniballake"},"score":7,"creation_date":1620277600,"post_id":67412084,"comment_id":119154297,"body_markdown":"So...does your `AndroidManifest.xml` have every component with an `&lt;intent-filter&gt;` explicitly have the `android:exported` attribute set? Please include your entire `AndroidManifest.xml`.","body":"So...does your <code>AndroidManifest.xml</code> have every component with an <code>&lt;intent-filter&gt;</code> explicitly have the <code>android:exported</code> attribute set? Please include your entire <code>AndroidManifest.xml</code>."},{"owner":{"account_id":1039562,"reputation":2161,"user_id":1045941,"accept_rate":25,"display_name":"Stan"},"score":20,"creation_date":1620743420,"post_id":67412084,"comment_id":119287652,"body_markdown":"I have the same problem, even though I&#39;ve defined &quot;android:exported&quot; for all activities that have a &lt;intent-filter&gt;, and also for all receivers and providers.","body":"I have the same problem, even though I&#39;ve defined &quot;android:exported&quot; for all activities that have a &lt;intent-filter&gt;, and also for all receivers and providers."},{"owner":{"account_id":542029,"reputation":5970,"user_id":425213,"display_name":"Jacob Ras"},"score":6,"creation_date":1621851402,"post_id":67412084,"comment_id":119610135,"body_markdown":"@Stan I ran into the same issue. Use the &quot;Merged Manifest&quot; view to check the end result of your merged manifest to see if any of the components there are missing the exported value. In my case I had an activity declared in a separate manifest that was missing the exported property. You might need to temporarily downgrade your target SDK back to 30 so that the merged manifest compiles.","body":"@Stan I ran into the same issue. Use the &quot;Merged Manifest&quot; view to check the end result of your merged manifest to see if any of the components there are missing the exported value. In my case I had an activity declared in a separate manifest that was missing the exported property. You might need to temporarily downgrade your target SDK back to 30 so that the merged manifest compiles."},{"owner":{"account_id":3969110,"reputation":719,"user_id":3274125,"display_name":"Jan"},"score":8,"creation_date":1622106050,"post_id":67412084,"comment_id":119696752,"body_markdown":"I was able to debug the issue by following steps here: https://stackoverflow.com/a/67668116/3274125","body":"I was able to debug the issue by following steps here: <a href=\"https://stackoverflow.com/a/67668116/3274125\">stackoverflow.com/a/67668116/3274125</a>"},{"owner":{"account_id":3721597,"reputation":1647,"user_id":3096537,"display_name":"Renascienza"},"score":3,"creation_date":1629324133,"post_id":67412084,"comment_id":121660181,"body_markdown":"What if the &quot;wrong&quot; manifest comes from a library that I don&#39;t have control? I have to build from sources after fix it myself? Google, please stop to be dumb and don&#39;t make this kind of requirement, just put a default value and a big warning.","body":"What if the &quot;wrong&quot; manifest comes from a library that I don&#39;t have control? I have to build from sources after fix it myself? Google, please stop to be dumb and don&#39;t make this kind of requirement, just put a default value and a big warning."},{"owner":{"account_id":5577320,"reputation":7234,"user_id":4420355,"accept_rate":36,"display_name":"kuzdu"},"score":0,"creation_date":1629375888,"post_id":67412084,"comment_id":121673771,"body_markdown":"Hey Renascienza, you have to update to the current version. See the answer before. If this does not help, it&#39;s a deadlock. You have to downgrade to compile version 30, add an issue ticket.","body":"Hey Renascienza, you have to update to the current version. See the answer before. If this does not help, it&#39;s a deadlock. You have to downgrade to compile version 30, add an issue ticket."},{"owner":{"account_id":2089301,"reputation":2679,"user_id":1859486,"accept_rate":77,"display_name":"Alix"},"score":2,"creation_date":1631605272,"post_id":67412084,"comment_id":122260340,"body_markdown":"Does this answer your question? [Manifest merger failed targeting Android 12](https://stackoverflow.com/questions/67654506/manifest-merger-failed-targeting-android-12)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/67654506/manifest-merger-failed-targeting-android-12\">Manifest merger failed targeting Android 12</a>"},{"owner":{"account_id":2326654,"reputation":686,"user_id":2041005,"display_name":"Rik"},"score":0,"creation_date":1638069660,"post_id":67412084,"comment_id":123988189,"body_markdown":"I experienced this issue when trying to run tests during (navigation/testing in compose) codelabs. I ran `./gradlew processDebugAndroidTestManifest --debug`, by typing the aforementioned command into the android studio built-in terminal. Scrolling up in the log let me find the culprit. For me, it was **espresso-contrib** and **espresso-core**. Pressing **`ctrl+alt+shift+s`**, selecting *Dependencies*, and then selecting the highest available version (which at the time of this, was *3.5.0-alpha03*), resolved the problem after following up with *Apply* and *Ok*.","body":"I experienced this issue when trying to run tests during (navigation/testing in compose) codelabs. I ran <code>.&#47;gradlew processDebugAndroidTestManifest --debug</code>, by typing the aforementioned command into the android studio built-in terminal. Scrolling up in the log let me find the culprit. For me, it was <b>espresso-contrib</b> and <b>espresso-core</b>. Pressing <b><code>ctrl+alt+shift+s</code></b>, selecting <i>Dependencies</i>, and then selecting the highest available version (which at the time of this, was <i>3.5.0-alpha03</i>), resolved the problem after following up with <i>Apply</i> and <i>Ok</i>."},{"owner":{"account_id":9697552,"reputation":4314,"user_id":7193506,"display_name":"Sachin Rajput"},"score":0,"creation_date":1649780345,"post_id":67412084,"comment_id":126960671,"body_markdown":"I recently migrated my apps to android 12, and yes i faced all of these issues, here is the migration journey solution : https://medium.com/native-mobile-bits/lets-use-android-12-migration-of-our-android-apps-to-android12-api-31-af329b6829d0","body":"I recently migrated my apps to android 12, and yes i faced all of these issues, here is the migration journey solution : <a href=\"https://medium.com/native-mobile-bits/lets-use-android-12-migration-of-our-android-apps-to-android12-api-31-af329b6829d0\" rel=\"nofollow noreferrer\">medium.com/native-mobile-bits/&hellip;</a>"},{"owner":{"account_id":6425962,"reputation":438,"user_id":4981106,"display_name":"Akhha8"},"score":0,"creation_date":1654126117,"post_id":67412084,"comment_id":128019976,"body_markdown":"Having the error in a library &quot;com.android.library&quot; that I created, no activities :(, someone already solved this?.","body":"Having the error in a library &quot;com.android.library&quot; that I created, no activities :(, someone already solved this?."},{"owner":{"account_id":236820,"reputation":337,"user_id":504567,"accept_rate":40,"display_name":"Dmitry Salnikov"},"score":0,"creation_date":1666276971,"post_id":67412084,"comment_id":130902887,"body_markdown":"&quot;Merged Manifest&quot; view is the key to debug! thank you @JacobRas","body":"&quot;Merged Manifest&quot; view is the key to debug! thank you @JacobRas"}],"answers":[{"tags":[],"owner":{"account_id":9304251,"reputation":5761,"user_id":6908588,"display_name":"Mittal Varsani"},"down_vote_count":2,"up_vote_count":421,"is_accepted":true,"score":419,"last_activity_date":1672293833,"creation_date":1620278722,"answer_id":67412314,"question_id":67412084,"body_markdown":"You need to specify `android:exported=&quot;false&quot;` or `android:exported=&quot;true&quot;`\r\n\r\nManifest:\r\n\r\n```lang-xml\r\n&lt;activity\r\n    android:name=&quot;.MainActivity&quot;\r\n    android:exported=&quot;true&quot;\r\n    android:theme=&quot;@style/Theme.MyApplication.NoActionBar&quot;&gt;\r\n    &lt;intent-filter&gt;\r\n        &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n        &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n    &lt;/intent-filter&gt;\r\n&lt;/activity&gt;\r\n```\r\n\r\nas mentioned in [the document][1]:\r\n\r\n&gt; If your app targets Android 12 and contains activities, services, or\r\n&gt; broadcast receivers that use intent filters, you must explicitly\r\n&gt; declare the android: exported attribute for these app components.\r\n&gt;\r\n\r\n&gt; **Warning**: If an activity, service, or broadcast receiver uses intent\r\n&gt; filters and doesn&#39;t have an explicitly-declared value for\r\n&gt; android:exported, your app can&#39;t be installed on a device that runs\r\n&gt; Android 12.\r\n\r\nAlso [check][2] when to use true/false for the &#39;android:exported&#39; value.\r\n\r\n  [1]: https://developer.android.com/about/versions/12/behavior-changes-12#exported\r\n  [2]: https://developer.android.com/guide/topics/manifest/activity-element#exported\r\n\r\n","title":"Android Studio error: &quot;Manifest merger failed: Apps targeting Android 12&quot;","body":"<p>You need to specify <code>android:exported=&quot;false&quot;</code> or <code>android:exported=&quot;true&quot;</code></p>\n<p>Manifest:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;activity\n    android:name=&quot;.MainActivity&quot;\n    android:exported=&quot;true&quot;\n    android:theme=&quot;@style/Theme.MyApplication.NoActionBar&quot;&gt;\n    &lt;intent-filter&gt;\n        &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n        &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n    &lt;/intent-filter&gt;\n&lt;/activity&gt;\n</code></pre>\n<p>as mentioned in <a href=\"https://developer.android.com/about/versions/12/behavior-changes-12#exported\" rel=\"noreferrer\">the document</a>:</p>\n<blockquote>\n<p>If your app targets Android 12 and contains activities, services, or\nbroadcast receivers that use intent filters, you must explicitly\ndeclare the android: exported attribute for these app components.</p>\n</blockquote>\n<blockquote>\n<p><strong>Warning</strong>: If an activity, service, or broadcast receiver uses intent\nfilters and doesn't have an explicitly-declared value for\nandroid:exported, your app can't be installed on a device that runs\nAndroid 12.</p>\n</blockquote>\n<p>Also <a href=\"https://developer.android.com/guide/topics/manifest/activity-element#exported\" rel=\"noreferrer\">check</a> when to use true/false for the 'android:exported' value.</p>\n"},{"tags":[],"owner":{"account_id":1394813,"reputation":4459,"user_id":1324802,"accept_rate":56,"display_name":"Androidcoder"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1643922448,"creation_date":1626613073,"answer_id":68429311,"question_id":67412084,"body_markdown":"Your question may have flagged for duplication because of this post: *https://stackoverflow.com/questions/67654506/manifest-merger-failed-targeting-android-12*, although yours was posted a week earlier. I don&#39;t see the flag now.\r\n\r\nTo clarify [another answer][1], note that *android:exported* should be set true for your main activity, or it won&#39;t launch despite an encouraging &#39;Launch succeeded&#39; message from Android Studio as no other app, or even the Android system itself, can launch it.\r\n\r\n```lang-xml\r\n&lt;activity\r\n    android:name=&quot;.MainActivity&quot;\r\n    android:exported=&quot;true&quot;\r\n```\r\n\r\nFor other activities with intents buried in your merged manifests, this would normally be set to false.\r\n\r\n  [1]: https://stackoverflow.com/questions/67412084/android-studio-error-manifest-merger-failed-apps-targeting-android-12/67412314#67412314\r\n\r\n\r\n\r\n\r\n","title":"Android Studio error: &quot;Manifest merger failed: Apps targeting Android 12&quot;","body":"<p>Your question may have flagged for duplication because of this post: <em><a href=\"https://stackoverflow.com/questions/67654506/manifest-merger-failed-targeting-android-12\">Manifest merger failed targeting Android 12</a></em>, although yours was posted a week earlier. I don't see the flag now.</p>\n<p>To clarify <a href=\"https://stackoverflow.com/questions/67412084/android-studio-error-manifest-merger-failed-apps-targeting-android-12/67412314#67412314\">another answer</a>, note that <em>android:exported</em> should be set true for your main activity, or it won't launch despite an encouraging 'Launch succeeded' message from Android Studio as no other app, or even the Android system itself, can launch it.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;activity\n    android:name=&quot;.MainActivity&quot;\n    android:exported=&quot;true&quot;\n</code></pre>\n<p>For other activities with intents buried in your merged manifests, this would normally be set to false.</p>\n"},{"tags":[],"owner":{"account_id":155220,"reputation":6787,"user_id":371720,"accept_rate":58,"display_name":"Shihab Uddin"},"down_vote_count":0,"up_vote_count":75,"is_accepted":false,"score":75,"last_activity_date":1643922382,"creation_date":1626677103,"answer_id":68436148,"question_id":67412084,"body_markdown":"In your manifest, add **android:exported=&quot;true&quot;** or android:exported=&quot;false &quot; in your default launching activity attribute.\r\n\r\nDone! You are all right to run your apps on **Android 12**.\r\n\r\n```lang-xml\r\n&lt;manifest ... &gt;\r\n\r\n    &lt;activity\r\n        android:name=&quot;.ui.dashboard.DashboardActivity&quot;\r\n        android:screenOrientation=&quot;portrait&quot;\r\n        android:exported=&quot;true&quot;\r\n        android:theme=&quot;@style/AppTheme.Launcher&quot;&gt;\r\n        &lt;intent-filter&gt;\r\n            &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n            &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n        &lt;/intent-filter&gt;\r\n    &lt;/activity&gt;\r\n&lt;/manifest&gt;\r\n```\r\n\r\nSet the **android:exported** value according to your requirement.\r\n\r\nWhether the broadcast receiver can receive messages from non-system sources outside its application — &quot;true&quot; if it can, and &quot;false&quot; if not. If &quot;false&quot;, the only messages the broadcast receiver can receive are those sent by the system, components of the same application, or applications with the same user ID.\r\n\r\nIf unspecified, the default value depends on whether the broadcast receiver contains intent filters. If the receiver contains at least one intent filter, then the default value is &quot;true&quot;. Otherwise, the default value is &quot;false&quot;.\r\n\r\nThis attribute is not the only way to limit a broadcast receiver&#39;s external exposure. You can also use permission to limit the external entities that can send messages (see the permission attribute).\r\n\r\nFrom [Android Documentation][1]\r\n\r\n  [1]: https://developer.android.com/guide/topics/manifest/receiver-element#exported\r\n\r\n\r\n\r\n\r\n","title":"Android Studio error: &quot;Manifest merger failed: Apps targeting Android 12&quot;","body":"<p>In your manifest, add <strong>android:exported=&quot;true&quot;</strong> or android:exported=&quot;false &quot; in your default launching activity attribute.</p>\n<p>Done! You are all right to run your apps on <strong>Android 12</strong>.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;manifest ... &gt;\n\n    &lt;activity\n        android:name=&quot;.ui.dashboard.DashboardActivity&quot;\n        android:screenOrientation=&quot;portrait&quot;\n        android:exported=&quot;true&quot;\n        android:theme=&quot;@style/AppTheme.Launcher&quot;&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n            &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n        &lt;/intent-filter&gt;\n    &lt;/activity&gt;\n&lt;/manifest&gt;\n</code></pre>\n<p>Set the <strong>android:exported</strong> value according to your requirement.</p>\n<p>Whether the broadcast receiver can receive messages from non-system sources outside its application — &quot;true&quot; if it can, and &quot;false&quot; if not. If &quot;false&quot;, the only messages the broadcast receiver can receive are those sent by the system, components of the same application, or applications with the same user ID.</p>\n<p>If unspecified, the default value depends on whether the broadcast receiver contains intent filters. If the receiver contains at least one intent filter, then the default value is &quot;true&quot;. Otherwise, the default value is &quot;false&quot;.</p>\n<p>This attribute is not the only way to limit a broadcast receiver's external exposure. You can also use permission to limit the external entities that can send messages (see the permission attribute).</p>\n<p>From <a href=\"https://developer.android.com/guide/topics/manifest/receiver-element#exported\" rel=\"noreferrer\">Android Documentation</a></p>\n"},{"tags":[],"owner":{"account_id":18834955,"reputation":641,"user_id":13737843,"display_name":"Noah"},"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1697675714,"creation_date":1627758047,"answer_id":68605049,"question_id":67412084,"body_markdown":"The `android:exported` attribute sets whether a component (activity, service, broadcast receiver, etc.) can be launched by components of other applications:\r\n\r\n   \r\n -  If true, any app can access the activity and launch it by its exact class name.\r\n- If false, only components of the same application, applications with the same user ID, or privileged system components can launch the activity.\r\n\r\nThe logic behind the default value of this attribute changed over time and was different depending on the component types and Android versions. For example, on API level 16 (Android 4.1.1) or lower the value for &lt;provider&gt; elements is set to true by default. Not setting this attribute explicitly carries the risk of having different default values between some devices.\r\n\r\n\r\nTaken from the [official documentation][1]\r\n\r\nThings changed since **Android 12** devices, so you need to do these things:\r\n\r\nAdd `android:exported=&quot;true&quot;` to all **receivers** declared in the manifest. \r\n\r\n```lang-xml\r\n&lt;receiver android:name=&quot;.alarms.AlarmReScheduler&quot;\r\n          android:exported=&quot;true&quot;&gt;\r\n    &lt;intent-filter&gt;\r\n        &lt;action android:name=&quot;android.intent.action.LOCKED_BOOT_COMPLETED&quot; /&gt;\r\n        &lt;action android:name=&quot;android.intent.action.BOOT_COMPLETED&quot; /&gt;\r\n        &lt;action android:name=&quot;android.intent.action.QUICKBOOT_POWERON&quot; /&gt;\r\n        &lt;action android:name=&quot;android.intent.action.PACKAGE_REPLACED&quot; /&gt;\r\n\r\n        &lt;!-- For HTC devices --&gt;\r\n        &lt;action android:name=&quot;com.htc.intent.action.QUICKBOOT_POWERON&quot; /&gt;\r\n    &lt;/intent-filter&gt;\r\n&lt;/receiver&gt;\r\n```\r\n\r\nAlso for Activities (the one that would be launched by Android OS A.K.A **Launcher activity**)\r\n\r\n```lang-xml\r\n      &lt;activity\r\n         android:name=&quot;.main.SplashScreen&quot;\r\n         android:exported=&quot;true&quot;\r\n         android:theme=&quot;@style/FullscreenTheme&quot;&gt;\r\n         &lt;intent-filter&gt;\r\n            &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n            &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n         &lt;/intent-filter&gt;\r\n      &lt;/activity&gt;\r\n```\r\n\r\n&lt;hr/&gt;\r\n\r\nNote: For Services and Broadcast Receivers that use intent filters, you must explicitly declare the `android: exported` attribute.\r\n\r\nDon&#39;t just add `android:exported=&quot;true&quot;` to just everything. Cases where the Broadcast receivers need to be visible to Android OS, are examples where where you might want to specify `android:exported`. The Intent filters in that code mean I wanted Android OS to wake up my Android app and perform an operation.\r\n\r\n`android.intent.action.BOOT_COMPLETED` is a very good example because Android OS sends broadcasts to every application installed in the device. So technically, it would mean that any Broadcast receiver that has an intent filter with actions should always declare `android:exported=&quot;true&quot;`.\r\n\r\n\r\n  [1]: https://developer.android.com/topic/security/risks/android-exported","title":"Android Studio error: &quot;Manifest merger failed: Apps targeting Android 12&quot;","body":"<p>The <code>android:exported</code> attribute sets whether a component (activity, service, broadcast receiver, etc.) can be launched by components of other applications:</p>\n<ul>\n<li>If true, any app can access the activity and launch it by its exact class name.</li>\n<li>If false, only components of the same application, applications with the same user ID, or privileged system components can launch the activity.</li>\n</ul>\n<p>The logic behind the default value of this attribute changed over time and was different depending on the component types and Android versions. For example, on API level 16 (Android 4.1.1) or lower the value for  elements is set to true by default. Not setting this attribute explicitly carries the risk of having different default values between some devices.</p>\n<p>Taken from the <a href=\"https://developer.android.com/topic/security/risks/android-exported\" rel=\"nofollow noreferrer\">official documentation</a></p>\n<p>Things changed since <strong>Android 12</strong> devices, so you need to do these things:</p>\n<p>Add <code>android:exported=&quot;true&quot;</code> to all <strong>receivers</strong> declared in the manifest.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;receiver android:name=&quot;.alarms.AlarmReScheduler&quot;\n          android:exported=&quot;true&quot;&gt;\n    &lt;intent-filter&gt;\n        &lt;action android:name=&quot;android.intent.action.LOCKED_BOOT_COMPLETED&quot; /&gt;\n        &lt;action android:name=&quot;android.intent.action.BOOT_COMPLETED&quot; /&gt;\n        &lt;action android:name=&quot;android.intent.action.QUICKBOOT_POWERON&quot; /&gt;\n        &lt;action android:name=&quot;android.intent.action.PACKAGE_REPLACED&quot; /&gt;\n\n        &lt;!-- For HTC devices --&gt;\n        &lt;action android:name=&quot;com.htc.intent.action.QUICKBOOT_POWERON&quot; /&gt;\n    &lt;/intent-filter&gt;\n&lt;/receiver&gt;\n</code></pre>\n<p>Also for Activities (the one that would be launched by Android OS A.K.A <strong>Launcher activity</strong>)</p>\n<pre class=\"lang-xml prettyprint-override\"><code>      &lt;activity\n         android:name=&quot;.main.SplashScreen&quot;\n         android:exported=&quot;true&quot;\n         android:theme=&quot;@style/FullscreenTheme&quot;&gt;\n         &lt;intent-filter&gt;\n            &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n            &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n         &lt;/intent-filter&gt;\n      &lt;/activity&gt;\n</code></pre>\n<hr/>\n<p>Note: For Services and Broadcast Receivers that use intent filters, you must explicitly declare the <code>android: exported</code> attribute.</p>\n<p>Don't just add <code>android:exported=&quot;true&quot;</code> to just everything. Cases where the Broadcast receivers need to be visible to Android OS, are examples where where you might want to specify <code>android:exported</code>. The Intent filters in that code mean I wanted Android OS to wake up my Android app and perform an operation.</p>\n<p><code>android.intent.action.BOOT_COMPLETED</code> is a very good example because Android OS sends broadcasts to every application installed in the device. So technically, it would mean that any Broadcast receiver that has an intent filter with actions should always declare <code>android:exported=&quot;true&quot;</code>.</p>\n"},{"tags":[],"owner":{"account_id":17031353,"reputation":1453,"user_id":12321475,"display_name":"Dat Pham Tat"},"down_vote_count":0,"up_vote_count":28,"is_accepted":false,"score":28,"last_activity_date":1643922717,"creation_date":1628972589,"answer_id":68786768,"question_id":67412084,"body_markdown":"I ran into the same issue after targeting Android 12 in my project.\r\n\r\nThe problem was the project was quite big, with multiple `AndroidManifest.xml` files, and `android:exported` missing in many places.\r\n\r\nI ended up creating a [Gradle][1] task to fill the missing `android:exported` attributes automatically for me.\r\n\r\nHere is the [link][2].\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Gradle\r\n  [2]: https://github.com/phamtdat/AndroidSnippets/blob/master/Android12AndroidManifestAddMissingAndroidExported/build.gradle\r\n\r\n\r\n\r\n","title":"Android Studio error: &quot;Manifest merger failed: Apps targeting Android 12&quot;","body":"<p>I ran into the same issue after targeting Android 12 in my project.</p>\n<p>The problem was the project was quite big, with multiple <code>AndroidManifest.xml</code> files, and <code>android:exported</code> missing in many places.</p>\n<p>I ended up creating a <a href=\"https://en.wikipedia.org/wiki/Gradle\" rel=\"noreferrer\">Gradle</a> task to fill the missing <code>android:exported</code> attributes automatically for me.</p>\n<p>Here is the <a href=\"https://github.com/phamtdat/AndroidSnippets/blob/master/Android12AndroidManifestAddMissingAndroidExported/build.gradle\" rel=\"noreferrer\">link</a>.</p>\n"},{"tags":[],"owner":{"account_id":17075146,"reputation":61,"user_id":12354951,"display_name":"Ashish Umrao"},"down_vote_count":16,"up_vote_count":5,"is_accepted":false,"score":-11,"last_activity_date":1629798145,"creation_date":1629798145,"answer_id":68905260,"question_id":67412084,"body_markdown":"**[This will help for 2021 users.][1]**\r\n\r\nIn one of your two build.gradle files you should be able to find the line targetSDK 31. Change that to 30 and then do a gradle sync (a small bar will appear above the main code window where you can click &quot;Sync now&quot;) and you should be good to go.\r\n\r\n\r\n  [1]: https://www.reddit.com/r/AndroidStudio/comments/olld9z/im_on_day_one_with_android_studio_and_cant_get/","title":"Android Studio error: &quot;Manifest merger failed: Apps targeting Android 12&quot;","body":"<p><strong><a href=\"https://www.reddit.com/r/AndroidStudio/comments/olld9z/im_on_day_one_with_android_studio_and_cant_get/\" rel=\"nofollow noreferrer\">This will help for 2021 users.</a></strong></p>\n<p>In one of your two build.gradle files you should be able to find the line targetSDK 31. Change that to 30 and then do a gradle sync (a small bar will appear above the main code window where you can click &quot;Sync now&quot;) and you should be good to go.</p>\n"},{"tags":[],"owner":{"account_id":13377127,"reputation":769,"user_id":9653703,"display_name":"Richard Kamere"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1643923485,"creation_date":1631650030,"answer_id":69183965,"question_id":67412084,"body_markdown":"[![Enter image description here][1]][1]\r\n\r\nIn your launcher activity, declare &quot;android: exported&quot;:\r\n\r\n```lang-xml\r\n&lt;activity android:name=&quot;.MainActivity&quot;\r\n          android:exported = &quot;false&quot;&gt;\r\n\r\n    &lt;intent-filter&gt;\r\n        &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n        &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n    &lt;/intent-filter&gt;\r\n\r\n&lt;/activity&gt;\r\n```\r\n\r\nIf true “android: exported= true” it means the activity is accessible to any app and can be launched by its exact class name.\r\n\r\nIf false “android: exported = false” it means the activity can be launched only by the components of the same application with the same user ID, or privileged system components.\r\n\r\nFor more details check [here][2].\r\n\r\n  [1]: https://i.stack.imgur.com/wBf19.png\r\n  [2]: https://larntech.net/manifest-merger-failed/\r\n\r\n","title":"Android Studio error: &quot;Manifest merger failed: Apps targeting Android 12&quot;","body":"<p><a href=\"https://i.stack.imgur.com/wBf19.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wBf19.png\" alt=\"Enter image description here\" /></a></p>\n<p>In your launcher activity, declare &quot;android: exported&quot;:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;activity android:name=&quot;.MainActivity&quot;\n          android:exported = &quot;false&quot;&gt;\n\n    &lt;intent-filter&gt;\n        &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n        &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n    &lt;/intent-filter&gt;\n\n&lt;/activity&gt;\n</code></pre>\n<p>If true “android: exported= true” it means the activity is accessible to any app and can be launched by its exact class name.</p>\n<p>If false “android: exported = false” it means the activity can be launched only by the components of the same application with the same user ID, or privileged system components.</p>\n<p>For more details check <a href=\"https://larntech.net/manifest-merger-failed/\" rel=\"nofollow noreferrer\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":10641187,"reputation":711,"user_id":7836154,"display_name":"Xavier Vega"},"down_vote_count":0,"up_vote_count":58,"is_accepted":false,"score":58,"last_activity_date":1660912178,"creation_date":1632749012,"answer_id":69347425,"question_id":67412084,"body_markdown":"If you didn&#39;t find in your manifest the place where there is an activity without the tag &quot;android: exported = false&quot; then it&#39;s likely that it is in your dependencies... in order to pinpoint where exactly, first downgrade &quot;compileSdkVersion&quot; to 30 and  &quot;targetSdkVersion&quot; to 30 so it builds.\r\n\r\n```lang-none\r\nandroid {\r\n    compileSdkVersion(&quot;android-S&quot;)\r\n    buildToolsVersion &quot;30.0.3&quot;\r\n\r\n    defaultConfig {\r\n        ...\r\n        minSdkVersion 23\r\n        targetSdkVersion(&quot;S&quot;)\r\n        ...\r\n}\r\n```\r\n\r\nAfter that, in the main *manifest.xml* window there is a tab with &quot;merged manifest&quot;. There you can inspect what activity exactly didn&#39;t have the &quot;android: exported = false&quot; attribute.\r\n\r\nIn my case it was because of third-party tools:\r\n\r\nFile *build.gradle* (: app):\r\n\r\n\r\n```lang-none\r\ndebugImplementation &#39;com.squareup.leakcanary:leakcanary-android:2.7&#39;\r\n//and\r\ndebugImplementation &quot;com.github.markzhai:blockcanary-android:1.5.0&quot;\r\nreleaseImplementation &quot;com.github.markzhai:blockcanary-no-op:1.5.0&quot;\r\n```\r\n\r\nAlso, for services I had to add the attribute:\r\n\r\n```lang-xml\r\n&lt;service\r\n    android:name=&quot;.autofillservice.MyAutofillService&quot;\r\n    android:exported=&quot;true&quot;\r\n    android:permission=&quot;android.permission.BIND_AUTOFILL&quot;&gt;\r\n```\r\n\r\nand\r\n\r\n```lang-xml\r\n&lt;service\r\n    android:name=&quot;com.demo.myApp.my_access.MyAccessService&quot;\r\n    android:enabled=&quot;true&quot;\r\n    android:exported=&quot;true&quot;\r\n    android:permission=&quot;android.permission.BIND_ACCESSIBILITY_SERVICE&quot;&gt;\r\n```\r\n\r\nAs my problem was in a third-party dependency and it&#39;s not going to be updated soon, I just added a &amp;lt;activity&gt; declaration with the flag android:exported=&quot;true&quot; and exported=&quot;false&quot; where needed to override the initial declaration, also as I need this dependency in Debug only I added a new AndroidManifest.xml file in src/debug:\r\n\r\nFor leak_canary:\r\n\r\n```lang-xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n\r\n    &lt;application&gt;\r\n        &lt;activity\r\n            android:name=&quot;leakcanary.internal.activity.LeakActivity&quot;\r\n            android:exported=&quot;true&quot;\r\n            android:icon=&quot;@mipmap/leak_canary_icon&quot;\r\n            android:label=&quot;@string/leak_canary_display_activity_label&quot;\r\n            android:taskAffinity=&quot;com.squareup.leakcanary.${applicationId}&quot;\r\n            android:theme=&quot;@style/leak_canary_LeakCanary.Base&quot;&gt;\r\n\r\n            &lt;intent-filter android:label=&quot;@string/leak_canary_import_hprof_file&quot;&gt;\r\n\r\n                &lt;action android:name=&quot;android.intent.action.VIEW&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\r\n                &lt;category android:name=&quot;android.intent.category.BROWSABLE&quot; /&gt;\r\n\r\n                &lt;data android:scheme=&quot;file&quot; /&gt;\r\n                &lt;data android:scheme=&quot;content&quot; /&gt;\r\n                &lt;data android:mimeType=&quot;*/*&quot; /&gt;\r\n                &lt;data android:host=&quot;*&quot; /&gt;\r\n\r\n                &lt;data android:pathPattern=&quot;.*\\\\.hprof&quot; /&gt;\r\n                &lt;data android:pathPattern=&quot;.*\\\\..*\\\\.hprof&quot; /&gt;\r\n                &lt;data android:pathPattern=&quot;.*\\\\..*\\\\..*\\\\.hprof&quot; /&gt;\r\n                &lt;data android:pathPattern=&quot;.*\\\\..*\\\\..*\\\\..*\\\\.hprof&quot; /&gt;\r\n                &lt;data android:pathPattern=&quot;.*\\\\..*\\\\..*\\\\..*\\\\..*\\\\.hprof&quot; /&gt;\r\n                &lt;data android:pathPattern=&quot;.*\\\\..*\\\\..*\\\\..*\\\\..*\\\\..*\\\\.hprof&quot; /&gt;\r\n                &lt;data android:pathPattern=&quot;.*\\\\..*\\\\..*\\\\..*\\\\..*\\\\..*\\\\..*\\\\.hprof&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n\r\n        &lt;activity\r\n            android:name=&quot;leakcanary.internal.RequestStoragePermissionActivity&quot;\r\n            android:excludeFromRecents=&quot;true&quot;\r\n            android:exported=&quot;false&quot;\r\n            android:icon=&quot;@mipmap/leak_canary_icon&quot;\r\n            android:label=&quot;@string/leak_canary_storage_permission_activity_label&quot;\r\n            android:taskAffinity=&quot;com.squareup.leakcanary.${applicationId}&quot;\r\n            android:theme=&quot;@style/leak_canary_Theme.Transparent&quot; /&gt;\r\n\r\n        &lt;receiver\r\n            android:name=&quot;leakcanary.internal.NotificationReceiver&quot;\r\n            android:exported=&quot;false&quot; /&gt;\r\n\r\n    &lt;/application&gt;\r\n&lt;/manifest&gt;\r\n```\r\n\r\nYou might as well just use the tools:node=&quot;merge&quot; attribute and declare the android:exported=true|false as [LeoFarage kindly suggested][1].\r\n\r\n  [1]: https://stackoverflow.com/questions/67412084/android-studio-error-manifest-merger-failed-apps-targeting-android-12/69183965#comment123777212_69347425\r\n\r\n\r\n\r\n","title":"Android Studio error: &quot;Manifest merger failed: Apps targeting Android 12&quot;","body":"<p>If you didn't find in your manifest the place where there is an activity without the tag &quot;android: exported = false&quot; then it's likely that it is in your dependencies... in order to pinpoint where exactly, first downgrade &quot;compileSdkVersion&quot; to 30 and  &quot;targetSdkVersion&quot; to 30 so it builds.</p>\n<pre class=\"lang-none prettyprint-override\"><code>android {\n    compileSdkVersion(&quot;android-S&quot;)\n    buildToolsVersion &quot;30.0.3&quot;\n\n    defaultConfig {\n        ...\n        minSdkVersion 23\n        targetSdkVersion(&quot;S&quot;)\n        ...\n}\n</code></pre>\n<p>After that, in the main <em>manifest.xml</em> window there is a tab with &quot;merged manifest&quot;. There you can inspect what activity exactly didn't have the &quot;android: exported = false&quot; attribute.</p>\n<p>In my case it was because of third-party tools:</p>\n<p>File <em>build.gradle</em> (: app):</p>\n<pre class=\"lang-none prettyprint-override\"><code>debugImplementation 'com.squareup.leakcanary:leakcanary-android:2.7'\n//and\ndebugImplementation &quot;com.github.markzhai:blockcanary-android:1.5.0&quot;\nreleaseImplementation &quot;com.github.markzhai:blockcanary-no-op:1.5.0&quot;\n</code></pre>\n<p>Also, for services I had to add the attribute:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;service\n    android:name=&quot;.autofillservice.MyAutofillService&quot;\n    android:exported=&quot;true&quot;\n    android:permission=&quot;android.permission.BIND_AUTOFILL&quot;&gt;\n</code></pre>\n<p>and</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;service\n    android:name=&quot;com.demo.myApp.my_access.MyAccessService&quot;\n    android:enabled=&quot;true&quot;\n    android:exported=&quot;true&quot;\n    android:permission=&quot;android.permission.BIND_ACCESSIBILITY_SERVICE&quot;&gt;\n</code></pre>\n<p>As my problem was in a third-party dependency and it's not going to be updated soon, I just added a &lt;activity&gt; declaration with the flag android:exported=&quot;true&quot; and exported=&quot;false&quot; where needed to override the initial declaration, also as I need this dependency in Debug only I added a new AndroidManifest.xml file in src/debug:</p>\n<p>For leak_canary:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\n\n    &lt;application&gt;\n        &lt;activity\n            android:name=&quot;leakcanary.internal.activity.LeakActivity&quot;\n            android:exported=&quot;true&quot;\n            android:icon=&quot;@mipmap/leak_canary_icon&quot;\n            android:label=&quot;@string/leak_canary_display_activity_label&quot;\n            android:taskAffinity=&quot;com.squareup.leakcanary.${applicationId}&quot;\n            android:theme=&quot;@style/leak_canary_LeakCanary.Base&quot;&gt;\n\n            &lt;intent-filter android:label=&quot;@string/leak_canary_import_hprof_file&quot;&gt;\n\n                &lt;action android:name=&quot;android.intent.action.VIEW&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\n                &lt;category android:name=&quot;android.intent.category.BROWSABLE&quot; /&gt;\n\n                &lt;data android:scheme=&quot;file&quot; /&gt;\n                &lt;data android:scheme=&quot;content&quot; /&gt;\n                &lt;data android:mimeType=&quot;*/*&quot; /&gt;\n                &lt;data android:host=&quot;*&quot; /&gt;\n\n                &lt;data android:pathPattern=&quot;.*\\\\.hprof&quot; /&gt;\n                &lt;data android:pathPattern=&quot;.*\\\\..*\\\\.hprof&quot; /&gt;\n                &lt;data android:pathPattern=&quot;.*\\\\..*\\\\..*\\\\.hprof&quot; /&gt;\n                &lt;data android:pathPattern=&quot;.*\\\\..*\\\\..*\\\\..*\\\\.hprof&quot; /&gt;\n                &lt;data android:pathPattern=&quot;.*\\\\..*\\\\..*\\\\..*\\\\..*\\\\.hprof&quot; /&gt;\n                &lt;data android:pathPattern=&quot;.*\\\\..*\\\\..*\\\\..*\\\\..*\\\\..*\\\\.hprof&quot; /&gt;\n                &lt;data android:pathPattern=&quot;.*\\\\..*\\\\..*\\\\..*\\\\..*\\\\..*\\\\..*\\\\.hprof&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n\n        &lt;activity\n            android:name=&quot;leakcanary.internal.RequestStoragePermissionActivity&quot;\n            android:excludeFromRecents=&quot;true&quot;\n            android:exported=&quot;false&quot;\n            android:icon=&quot;@mipmap/leak_canary_icon&quot;\n            android:label=&quot;@string/leak_canary_storage_permission_activity_label&quot;\n            android:taskAffinity=&quot;com.squareup.leakcanary.${applicationId}&quot;\n            android:theme=&quot;@style/leak_canary_Theme.Transparent&quot; /&gt;\n\n        &lt;receiver\n            android:name=&quot;leakcanary.internal.NotificationReceiver&quot;\n            android:exported=&quot;false&quot; /&gt;\n\n    &lt;/application&gt;\n&lt;/manifest&gt;\n</code></pre>\n<p>You might as well just use the tools:node=&quot;merge&quot; attribute and declare the android:exported=true|false as <a href=\"https://stackoverflow.com/questions/67412084/android-studio-error-manifest-merger-failed-apps-targeting-android-12/69183965#comment123777212_69347425\">LeoFarage kindly suggested</a>.</p>\n"},{"tags":[],"owner":{"account_id":7464183,"reputation":1402,"user_id":5674408,"display_name":"Ashwani Kumar"},"down_vote_count":7,"up_vote_count":4,"is_accepted":false,"score":-3,"last_activity_date":1632833229,"creation_date":1632833229,"answer_id":69362048,"question_id":67412084,"body_markdown":"I was getting this error even when I added `android:exported=&quot;true&quot;` in all activities, receivers etc. The thing that worked for me was to change `compileSdkVersion` and `targetSdkVersion` to 30. ","title":"Android Studio error: &quot;Manifest merger failed: Apps targeting Android 12&quot;","body":"<p>I was getting this error even when I added <code>android:exported=&quot;true&quot;</code> in all activities, receivers etc. The thing that worked for me was to change <code>compileSdkVersion</code> and <code>targetSdkVersion</code> to 30.</p>\n"},{"tags":[],"owner":{"account_id":20127982,"reputation":29,"user_id":14760956,"display_name":"ATA UR RAHMAN"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1660911675,"creation_date":1643972287,"answer_id":70985239,"question_id":67412084,"body_markdown":"Update the version of `androidTestImplementation &#39;androidx.test.ext:junit:1.1.1&#39;` to the latest version, like: \r\n\r\n`androidTestImplementation &#39;androidx.test.ext:junit:1.1.3&#39;` from the *build.gradle* app level.\r\n","title":"Android Studio error: &quot;Manifest merger failed: Apps targeting Android 12&quot;","body":"<p>Update the version of <code>androidTestImplementation 'androidx.test.ext:junit:1.1.1'</code> to the latest version, like:</p>\n<p><code>androidTestImplementation 'androidx.test.ext:junit:1.1.3'</code> from the <em>build.gradle</em> app level.</p>\n"},{"tags":[],"owner":{"account_id":22636080,"reputation":1151,"user_id":16812867,"display_name":"Rehan Khan"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1660913563,"creation_date":1645362617,"answer_id":71194733,"question_id":67412084,"body_markdown":"### For apps targeting Android 12\r\n\r\nChange your app&#39;s targetSdkVersion to ***S*** (32 or 31) to enable the new behavior.\r\n\r\nThen specify the *android:exported=&quot;&quot;* attribute in Manifest to either true or false depending on Activity.\r\n\r\nFor a launcher activity such as splash or MainActivity, use *android:exported=&quot;true&quot;* and for the rest of the Activities, use *android:exported=&quot;false&quot;*\r\n\r\nFor example:\r\n\r\n```lang-xml\r\n&lt;!-- It&#39;s **true** for the launcher Activity --&gt;\r\n&lt;activity android:name=&quot;.SplashActivity&quot;\r\n          android:exported=&quot;true&quot; /&gt;\r\n\r\n&lt;!-- It&#39;s **false** for the rest of the Activities --&gt;\r\n&lt;activity android:name=&quot;.MainActivity&quot;\r\n          android:exported=&quot;false&quot; /&gt;\r\n```\r\n","title":"Android Studio error: &quot;Manifest merger failed: Apps targeting Android 12&quot;","body":"<h3>For apps targeting Android 12</h3>\n<p>Change your app's targetSdkVersion to <em><strong>S</strong></em> (32 or 31) to enable the new behavior.</p>\n<p>Then specify the <em>android:exported=&quot;&quot;</em> attribute in Manifest to either true or false depending on Activity.</p>\n<p>For a launcher activity such as splash or MainActivity, use <em>android:exported=&quot;true&quot;</em> and for the rest of the Activities, use <em>android:exported=&quot;false&quot;</em></p>\n<p>For example:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;!-- It's **true** for the launcher Activity --&gt;\n&lt;activity android:name=&quot;.SplashActivity&quot;\n          android:exported=&quot;true&quot; /&gt;\n\n&lt;!-- It's **false** for the rest of the Activities --&gt;\n&lt;activity android:name=&quot;.MainActivity&quot;\n          android:exported=&quot;false&quot; /&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23179513,"reputation":220,"user_id":17277520,"display_name":"Tombstone"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1675233804,"creation_date":1648199155,"answer_id":71614425,"question_id":67412084,"body_markdown":"In your manifest, add android:exported=&quot;true&quot; or android:exported=&quot;false &quot; in your default launching activity attribute.\r\n\r\nDone! You are all right to run your apps on Android 12.\r\n\r\nRequired by launcher activity\r\n\r\n```lang-xml\r\n&lt;activity\r\n    android:name=&quot;.MainActivity&quot;\r\n    android:exported=&quot;true&quot;\r\n    android:theme=&quot;@style/Theme.MyApplication.NoActionBar&quot;&gt;\r\n    &lt;intent-filter&gt;\r\n        &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n        &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n    &lt;/intent-filter&gt;\r\n&lt;/activity&gt;\r\n```\r\n\r\nRequired by receiver\r\n\r\n```lang-xml\r\n&lt;receiver android:name=&quot;.Musicreceiver&quot;\r\n          android:exported=&quot;true&quot;&gt;\r\n\r\n&lt;/receiver&gt;\r\n```\r\n\r\nRequired by services\r\n\r\n```lang-xml\r\n\r\n    &lt;service\r\n        android:name=&quot;.service.LoggerService&quot;\r\n        android:exported=&quot;true&quot;\r\n        android:enabled=&quot;true&quot; /&gt;\r\n\r\n```\r\n\r\n","title":"Android Studio error: &quot;Manifest merger failed: Apps targeting Android 12&quot;","body":"<p>In your manifest, add android:exported=&quot;true&quot; or android:exported=&quot;false &quot; in your default launching activity attribute.</p>\n<p>Done! You are all right to run your apps on Android 12.</p>\n<p>Required by launcher activity</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;activity\n    android:name=&quot;.MainActivity&quot;\n    android:exported=&quot;true&quot;\n    android:theme=&quot;@style/Theme.MyApplication.NoActionBar&quot;&gt;\n    &lt;intent-filter&gt;\n        &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n        &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n    &lt;/intent-filter&gt;\n&lt;/activity&gt;\n</code></pre>\n<p>Required by receiver</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;receiver android:name=&quot;.Musicreceiver&quot;\n          android:exported=&quot;true&quot;&gt;\n\n&lt;/receiver&gt;\n</code></pre>\n<p>Required by services</p>\n<pre class=\"lang-xml prettyprint-override\"><code>\n    &lt;service\n        android:name=&quot;.service.LoggerService&quot;\n        android:exported=&quot;true&quot;\n        android:enabled=&quot;true&quot; /&gt;\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2207343,"reputation":9457,"user_id":1950209,"accept_rate":39,"display_name":"Zbarcea Christian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660912606,"creation_date":1656006020,"answer_id":72734437,"question_id":67412084,"body_markdown":"For me neither of the solutions worked, even if I double/triple checked the &quot;merged manifest&quot; in Android Studio. After compiling the project, the error just appeared and I couldn’t identify the line where the issue was generated.\r\n\r\n**Solution**: make sure you&#39;re targeting the latest libraries in your project. I was using [Unity][1], StartApp and Flurry Analytics. I forgot to update these libraries, and after upgrading them, the error disappeared. It looks like these libraries used features from\r\nbefore [SDK 31][2].\r\n\r\nIf you&#39;re using abandoned libraries, then you should consider replacing them.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Unity_(game_engine)\r\n  [2]: https://en.wikipedia.org/wiki/Android_12\r\n","title":"Android Studio error: &quot;Manifest merger failed: Apps targeting Android 12&quot;","body":"<p>For me neither of the solutions worked, even if I double/triple checked the &quot;merged manifest&quot; in Android Studio. After compiling the project, the error just appeared and I couldn’t identify the line where the issue was generated.</p>\n<p><strong>Solution</strong>: make sure you're targeting the latest libraries in your project. I was using <a href=\"https://en.wikipedia.org/wiki/Unity_(game_engine)\" rel=\"nofollow noreferrer\">Unity</a>, StartApp and Flurry Analytics. I forgot to update these libraries, and after upgrading them, the error disappeared. It looks like these libraries used features from\nbefore <a href=\"https://en.wikipedia.org/wiki/Android_12\" rel=\"nofollow noreferrer\">SDK 31</a>.</p>\n<p>If you're using abandoned libraries, then you should consider replacing them.</p>\n"},{"tags":[],"owner":{"account_id":23214445,"reputation":225,"user_id":17307516,"display_name":"Soumik Chakraborty"},"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1660913446,"creation_date":1656652409,"answer_id":72824648,"question_id":67412084,"body_markdown":"Add android:exported=&quot;true&quot;:\r\n\r\n```lang-xml\r\n&lt;receiver android:name=&quot;com.dieam.reactnativepushnotification.modules.RNPushNotificationActions&quot;/&gt;\r\n    &lt;receiver android:name=&quot;com.dieam.reactnativepushnotification.modules.RNPushNotificationPublisher&quot;/&gt;\r\n    &lt;receiver android:name=&quot;com.dieam.reactnativepushnotification.modules.RNPushNotificationBootEventReceiver&quot;\r\n     android:exported=&quot;true&quot;&gt;\r\n\r\n        &lt;intent-filter&gt;\r\n            &lt;action android:name=&quot;android.intent.action.BOOT_COMPLETED&quot; /&gt;\r\n            &lt;action android:name=&quot;android.intent.action.QUICKBOOT_POWERON&quot; /&gt;\r\n            &lt;action android:name=&quot;com.htc.intent.action.QUICKBOOT_POWERON&quot;/&gt;\r\n        &lt;/intent-filter&gt;\r\n    &lt;/receiver&gt;\r\n```\r\n","title":"Android Studio error: &quot;Manifest merger failed: Apps targeting Android 12&quot;","body":"<p>Add android:exported=&quot;true&quot;:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;receiver android:name=&quot;com.dieam.reactnativepushnotification.modules.RNPushNotificationActions&quot;/&gt;\n    &lt;receiver android:name=&quot;com.dieam.reactnativepushnotification.modules.RNPushNotificationPublisher&quot;/&gt;\n    &lt;receiver android:name=&quot;com.dieam.reactnativepushnotification.modules.RNPushNotificationBootEventReceiver&quot;\n     android:exported=&quot;true&quot;&gt;\n\n        &lt;intent-filter&gt;\n            &lt;action android:name=&quot;android.intent.action.BOOT_COMPLETED&quot; /&gt;\n            &lt;action android:name=&quot;android.intent.action.QUICKBOOT_POWERON&quot; /&gt;\n            &lt;action android:name=&quot;com.htc.intent.action.QUICKBOOT_POWERON&quot;/&gt;\n        &lt;/intent-filter&gt;\n    &lt;/receiver&gt;\n</code></pre>\n"}],"owner":{"account_id":20636705,"reputation":3081,"user_id":15150212,"display_name":"DSF.Inc"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":411228,"favorite_count":0,"down_vote_count":1,"up_vote_count":294,"closed_date":1667487137,"accepted_answer_id":67412314,"answer_count":14,"score":293,"last_activity_date":1697675714,"creation_date":1620277227,"question_id":67412084,"body_markdown":"I have updated my emulator version and Android SDK version to Android S ([Android 12][1]). After the update, I cannot run the project. I cannot run a *[Hello, World!][2]* project (empty project), but I can build Gradle as well as, but I can not run the project. I always got the error:\r\n\r\n&gt; Manifest merger failed: Apps targeting Android 12 and higher are\r\n&gt; required to specify an explicit value for `android: exported` when the\r\n&gt; corresponding component has an intent filter defined. See\r\n&gt; https://developer.android.com/guide/topics/manifest/activity-element#exported\r\n&gt; for details.\r\n\r\nHow can I fix it?\r\n\r\nHere is a screenshot:\r\n\r\n[![This is a screenshot.][3]][3]\r\n\r\nHow can I solve this issue when using Android 12 SDK?\r\n\r\n[This question][4] is about the issue after applying the solution to this, and is different than this question. Also, this question is older than [this][4].\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Android_12\r\n  [2]: https://en.wikipedia.org/wiki/%22Hello,_World!%22_program\r\n  [3]: https://i.stack.imgur.com/ZMzmN.png\r\n  [4]: https://stackoverflow.com/questions/67654506/manifest-merger-failed-targeting-android-12\r\n\r\n\r\n\r\n","title":"Android Studio error: &quot;Manifest merger failed: Apps targeting Android 12&quot;","body":"<p>I have updated my emulator version and Android SDK version to Android S (<a href=\"https://en.wikipedia.org/wiki/Android_12\" rel=\"noreferrer\">Android 12</a>). After the update, I cannot run the project. I cannot run a <em><a href=\"https://en.wikipedia.org/wiki/%22Hello,_World!%22_program\" rel=\"noreferrer\">Hello, World!</a></em> project (empty project), but I can build Gradle as well as, but I can not run the project. I always got the error:</p>\n<blockquote>\n<p>Manifest merger failed: Apps targeting Android 12 and higher are\nrequired to specify an explicit value for <code>android: exported</code> when the\ncorresponding component has an intent filter defined. See\n<a href=\"https://developer.android.com/guide/topics/manifest/activity-element#exported\" rel=\"noreferrer\">https://developer.android.com/guide/topics/manifest/activity-element#exported</a>\nfor details.</p>\n</blockquote>\n<p>How can I fix it?</p>\n<p>Here is a screenshot:</p>\n<p><a href=\"https://i.stack.imgur.com/ZMzmN.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/ZMzmN.png\" alt=\"This is a screenshot.\" /></a></p>\n<p>How can I solve this issue when using Android 12 SDK?</p>\n<p><a href=\"https://stackoverflow.com/questions/67654506/manifest-merger-failed-targeting-android-12\">This question</a> is about the issue after applying the solution to this, and is different than this question. Also, this question is older than <a href=\"https://stackoverflow.com/questions/67654506/manifest-merger-failed-targeting-android-12\">this</a>.</p>\n"},{"tags":["java","try-catch-finally"],"answers":[{"tags":[],"owner":{"account_id":15903,"reputation":323423,"user_id":34088,"accept_rate":77,"display_name":"Aaron Digulla"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1309433752,"creation_date":1309433752,"answer_id":6534091,"question_id":6534072,"body_markdown":"There are several ways to do it:\r\n\r\n1. Move the code into a new method and `return` from it\r\n\r\n1. Wrap the try/catch in a `do{}while(false);` loop.\r\n\r\n","title":"How can I break from a try/catch block without throwing an exception in Java","body":"<p>There are several ways to do it:</p>\n\n<ol>\n<li><p>Move the code into a new method and <code>return</code> from it</p></li>\n<li><p>Wrap the try/catch in a <code>do{}while(false);</code> loop.</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":100718,"reputation":43156,"user_id":271357,"accept_rate":83,"display_name":"dacwe"},"down_vote_count":2,"up_vote_count":29,"is_accepted":false,"score":27,"last_activity_date":1309434541,"creation_date":1309433772,"answer_id":6534096,"question_id":6534072,"body_markdown":"You can always do it with a `break` from a loop construct or a labeled `break` as specified in aioobies answer.\r\n\r\n    public static void main(String[] args) {\r\n        do {\r\n            try {\r\n                // code..\r\n                if (condition)\r\n                    break;\r\n                // more code...\r\n            } catch (Exception e) {\r\n                \r\n            }\r\n        } while (false);\r\n    }\r\n","title":"How can I break from a try/catch block without throwing an exception in Java","body":"<p>You can always do it with a <code>break</code> from a loop construct or a labeled <code>break</code> as specified in aioobies answer.</p>\n\n<pre><code>public static void main(String[] args) {\n    do {\n        try {\n            // code..\n            if (condition)\n                break;\n            // more code...\n        } catch (Exception e) {\n\n        }\n    } while (false);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":102965,"reputation":415230,"user_id":276052,"accept_rate":80,"display_name":"aioobe"},"down_vote_count":1,"up_vote_count":69,"is_accepted":true,"score":68,"last_activity_date":1427991035,"creation_date":1309433842,"answer_id":6534112,"question_id":6534072,"body_markdown":"The proper way to do it is probably to break down the method by putting the try-catch block in a separate method, and use a return statement:\r\n\r\n    public void someMethod() {\r\n        try {\r\n            ...\r\n            if (condition)\r\n                return;\r\n            ...\r\n        } catch (SomeException e) {\r\n            ...\r\n        }\r\n    }\r\n\r\nIf the code involves lots of local variables, you may also consider using a `break` from a labeled block, as suggested by [Stephen C](https://stackoverflow.com/questions/6534072/how-can-i-break-from-a-try-catch-block-without-throwing-an-exception-in-java/6534135#6534135):\r\n\r\n    label: try {\r\n        ...\r\n        if (condition)\r\n            break label;\r\n        ...\r\n    } catch (SomeException e) {\r\n        ...\r\n    }","title":"How can I break from a try/catch block without throwing an exception in Java","body":"<p>The proper way to do it is probably to break down the method by putting the try-catch block in a separate method, and use a return statement:</p>\n\n<pre><code>public void someMethod() {\n    try {\n        ...\n        if (condition)\n            return;\n        ...\n    } catch (SomeException e) {\n        ...\n    }\n}\n</code></pre>\n\n<p>If the code involves lots of local variables, you may also consider using a <code>break</code> from a labeled block, as suggested by <a href=\"https://stackoverflow.com/questions/6534072/how-can-i-break-from-a-try-catch-block-without-throwing-an-exception-in-java/6534135#6534135\">Stephen C</a>:</p>\n\n<pre><code>label: try {\n    ...\n    if (condition)\n        break label;\n    ...\n} catch (SomeException e) {\n    ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1697671286,"creation_date":1309433950,"answer_id":6534135,"question_id":6534072,"body_markdown":"Various ways:\r\n\r\n  - `return`\r\n  - `break` or `continue` when the try/catch is within a loop\r\n  - `break` to label when the try/catch is within a labeled statement (see @aioobe&#39;s example)\r\n  - `break` when the try/catch is within a switch statement.\r\n\r\n...\r\n\r\n  - call `System.exit()` ... though that&#39;s probably not what you mean.\r\n\r\n------\r\n\r\nIn my opinion, &quot;break to label&quot; is the most natural (least contorted) way to do this if you *just* want to get out of a try/catch.  But it could be confusing to novice Java programmers who have never encountered that Java construct.\r\n\r\nBut while labels are obscure, in my opinion wrapping the code in a `do ... while (false)` so that you can use a `break` is a worse idea.  This will confuse non-novices as well as novices.  It is better for novices (and non-novices!) to learn about labeled statements.\r\n\r\n------\r\n\r\nBy the way, `return` works in the case where you need to break out of a `finally`.  But you should avoid doing a `return` in a `finally` block because the semantics are a bit confusing, and liable to give the reader a headache.","title":"How can I break from a try/catch block without throwing an exception in Java","body":"<p>Various ways:</p>\n<ul>\n<li><code>return</code></li>\n<li><code>break</code> or <code>continue</code> when the try/catch is within a loop</li>\n<li><code>break</code> to label when the try/catch is within a labeled statement (see @aioobe's example)</li>\n<li><code>break</code> when the try/catch is within a switch statement.</li>\n</ul>\n<p>...</p>\n<ul>\n<li>call <code>System.exit()</code> ... though that's probably not what you mean.</li>\n</ul>\n<hr />\n<p>In my opinion, &quot;break to label&quot; is the most natural (least contorted) way to do this if you <em>just</em> want to get out of a try/catch.  But it could be confusing to novice Java programmers who have never encountered that Java construct.</p>\n<p>But while labels are obscure, in my opinion wrapping the code in a <code>do ... while (false)</code> so that you can use a <code>break</code> is a worse idea.  This will confuse non-novices as well as novices.  It is better for novices (and non-novices!) to learn about labeled statements.</p>\n<hr />\n<p>By the way, <code>return</code> works in the case where you need to break out of a <code>finally</code>.  But you should avoid doing a <code>return</code> in a <code>finally</code> block because the semantics are a bit confusing, and liable to give the reader a headache.</p>\n"},{"tags":[],"owner":{"account_id":2475327,"reputation":693,"user_id":2156084,"accept_rate":88,"display_name":"Fariba"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1443824023,"creation_date":1363079933,"answer_id":15357314,"question_id":6534072,"body_markdown":"In this sample in catch block i change the value of counter and it will break while block:\r\n\r\n    class TestBreak {\r\n        public static void main(String[] a) {\r\n            int counter = 0;\r\n\r\n            while(counter&lt;5) {\r\n                try {\r\n                    counter++;\r\n                    int x = counter/0;\r\n                }\r\n                catch(Exception e) {\r\n                    counter = 1000;    \r\n                }\r\n            }\r\n        }\r\n    }k","title":"How can I break from a try/catch block without throwing an exception in Java","body":"<p>In this sample in catch block i change the value of counter and it will break while block:</p>\n\n<pre><code>class TestBreak {\n    public static void main(String[] a) {\n        int counter = 0;\n\n        while(counter&lt;5) {\n            try {\n                counter++;\n                int x = counter/0;\n            }\n            catch(Exception e) {\n                counter = 1000;    \n            }\n        }\n    }\n}k\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1485795,"reputation":5640,"user_id":1394117,"accept_rate":26,"display_name":"diwatu"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1377706318,"creation_date":1377706318,"answer_id":18493115,"question_id":6534072,"body_markdown":"This is the code I usually do:\r\n\r\n     try\r\n     {\r\n        ...........\r\n        throw null;//this line just works like a &#39;break&#39;\r\n        ...........   \r\n      }\r\n      catch (NullReferenceException)\r\n      { \r\n      }\r\n      catch (System.Exception ex)\r\n      {\r\n          .........\r\n      }","title":"How can I break from a try/catch block without throwing an exception in Java","body":"<p>This is the code I usually do:</p>\n\n<pre><code> try\n {\n    ...........\n    throw null;//this line just works like a 'break'\n    ...........   \n  }\n  catch (NullReferenceException)\n  { \n  }\n  catch (System.Exception ex)\n  {\n      .........\n  }\n</code></pre>\n"}],"owner":{"account_id":153021,"reputation":8348,"user_id":367988,"accept_rate":71,"display_name":"Basil Musa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":169229,"favorite_count":0,"down_vote_count":0,"up_vote_count":73,"accepted_answer_id":6534112,"answer_count":6,"score":73,"last_activity_date":1697671286,"creation_date":1309433645,"question_id":6534072,"body_markdown":"I need a way to break from the middle of try/catch block without throwing an exception.\r\nSomething that is similar to the break and continue in for loops.\r\nIs this possible?\r\n\r\nI have been getting weird throughts about throwing a custom exception (naming it &quot;BreakContinueException&quot;) that simple does nothing in its catch handler. I&#39;m sure this is very twisted.\r\n\r\nSo, any straight forward solution I&#39;m not aware of?","title":"How can I break from a try/catch block without throwing an exception in Java","body":"<p>I need a way to break from the middle of try/catch block without throwing an exception.\nSomething that is similar to the break and continue in for loops.\nIs this possible?</p>\n\n<p>I have been getting weird throughts about throwing a custom exception (naming it \"BreakContinueException\") that simple does nothing in its catch handler. I'm sure this is very twisted.</p>\n\n<p>So, any straight forward solution I'm not aware of?</p>\n"},{"tags":["java","windows","bash","github","curl"],"comments":[{"owner":{"account_id":308303,"reputation":36789,"user_id":620097,"display_name":"shellter"},"score":0,"creation_date":1697672371,"post_id":77320105,"comment_id":136310733,"body_markdown":"try `echo $JAVA_HOME` in your WSL terminal please. Note that `%JAVA_HOME%` implies MS Windows `.bat` files, etc. In any case, this Q would be more appropriate on [su]. Good luck.","body":"try <code>echo $JAVA_HOME</code> in your WSL terminal please. Note that <code>%JAVA_HOME%</code> implies MS Windows <code>.bat</code> files, etc. In any case, this Q would be more appropriate on <a href=\"https://superuser.com\">Super User</a>. Good luck."},{"owner":{"account_id":24549257,"reputation":11,"user_id":18458623,"display_name":"omnicoder9"},"score":0,"creation_date":1697672681,"post_id":77320105,"comment_id":136310759,"body_markdown":"I am using the command prompt, not WSL.","body":"I am using the command prompt, not WSL."},{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1697683233,"post_id":77320105,"comment_id":136311560,"body_markdown":"Windows `bash.exe` automatically runs in (aka switches to) WSL, so **you ARE using WSL** -- and WSL doesn&#39;t use most env vars from Windows. WSL does set its $PATH partly from the Windows %PATH% converted to WSL name format and Unix separators, so if your Windows PATH finds your java then your WSL PATH should also. Note Oracle installers for the last several years don&#39;t put the actual location `\\Program Files [(x86)]\\Java\\&lt;version&gt;` in your (Windows) PATH, they use a stub in `\\Program Files [(x86)]\\Common Files\\Oracle` or `\\ProgramData\\Oracle`. They also kill old versions, and 351 is not head.","body":"Windows <code>bash.exe</code> automatically runs in (aka switches to) WSL, so <b>you ARE using WSL</b> -- and WSL doesn&#39;t use most env vars from Windows. WSL does set its $PATH partly from the Windows %PATH% converted to WSL name format and Unix separators, so if your Windows PATH finds your java then your WSL PATH should also. Note Oracle installers for the last several years don&#39;t put the actual location <code>\\Program Files [(x86)]\\Java\\&lt;version&gt;</code> in your (Windows) PATH, they use a stub in <code>\\Program Files [(x86)]\\Common Files\\Oracle</code> or <code>\\ProgramData\\Oracle</code>. They also kill old versions, and 351 is not head."},{"owner":{"account_id":24549257,"reputation":11,"user_id":18458623,"display_name":"omnicoder9"},"score":0,"creation_date":1697683735,"post_id":77320105,"comment_id":136311601,"body_markdown":"All I get back from echo $JAVA_HOME is $JAVA_HOME","body":"All I get back from echo $JAVA_HOME is $JAVA_HOME"},{"owner":{"account_id":308303,"reputation":36789,"user_id":620097,"display_name":"shellter"},"score":0,"creation_date":1697688908,"post_id":77320105,"comment_id":136312012,"body_markdown":"try `bash -c &quot;$(export JAVA_HOME=&quot;yourPath_to_JAVA_HOME&quot; ; curl -sfL https://...../quick_start.sh)`. Good luck.","body":"try <code>bash -c &quot;$(export JAVA_HOME=&quot;yourPath_to_JAVA_HOME&quot; ; curl -sfL https:&#47;&#47;.....&#47;quick_start.sh)</code>. Good luck."}],"owner":{"account_id":24549257,"reputation":11,"user_id":18458623,"display_name":"omnicoder9"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1697670769,"creation_date":1697670769,"question_id":77320105,"body_markdown":"I am setting up tsunami on Windows 10. I am following the tutorial (https://github.com/google/tsunami-security-scanner). When I run the bash command, I get the following error:\r\n```\r\nERROR: JAVA_HOME is not set and no &#39;java&#39; command could be found in your PATH.\r\n\r\nPlease set the JAVA_HOME variable in your environment to match the\r\nlocation of your Java installation.\r\n```\r\nWhen I run echo %JAVA_HOME%, I get \r\n```\r\nC:\\Program Files (x86)\\Java\\jre1.8.0_351\r\n```\r\nWhat possible explanation could there be for this?\r\n\r\nThe role of the ```bash -c &quot;$(curl -sfL https://raw.githubusercontent.com/google/tsunami-security-scanner/master/quick_start.sh)&quot;``` command is described at https://github.com/google/tsunami-security-scanner.\r\n","title":"tsunami Windows 10 curl JAVA_HOME environment variable error","body":"<p>I am setting up tsunami on Windows 10. I am following the tutorial (<a href=\"https://github.com/google/tsunami-security-scanner\" rel=\"nofollow noreferrer\">https://github.com/google/tsunami-security-scanner</a>). When I run the bash command, I get the following error:</p>\n<pre><code>ERROR: JAVA_HOME is not set and no 'java' command could be found in your PATH.\n\nPlease set the JAVA_HOME variable in your environment to match the\nlocation of your Java installation.\n</code></pre>\n<p>When I run echo %JAVA_HOME%, I get</p>\n<pre><code>C:\\Program Files (x86)\\Java\\jre1.8.0_351\n</code></pre>\n<p>What possible explanation could there be for this?</p>\n<p>The role of the <code>bash -c &quot;$(curl -sfL https://raw.githubusercontent.com/google/tsunami-security-scanner/master/quick_start.sh)&quot;</code> command is described at <a href=\"https://github.com/google/tsunami-security-scanner\" rel=\"nofollow noreferrer\">https://github.com/google/tsunami-security-scanner</a>.</p>\n"},{"tags":["java","jetty","http3"],"answers":[{"tags":[],"owner":{"account_id":1255537,"reputation":17219,"user_id":1215076,"display_name":"sbordet"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1697646389,"creation_date":1697646389,"answer_id":77318094,"question_id":77317395,"body_markdown":"Jetty&#39;s implementation, like many others, use the [quiche][1] library as the underlying implementation of QUIC, the protocol at the base of HTTP/3.\r\n\r\nQuiche (written in Rust), does not use Java KeyStores, so you have to provide the public and private key as [PEM files][2].\r\n\r\nJetty will take care of converting your KeyStore to PEM files, but it needs a directory to save the PEM files to.\r\nSince one of the PEM files is the private key, the PEM directory must be adequately protected using file system permissions, and that is why Jetty cannot use a default PEM directory (for example, `/tmp/` would be a terrible choice because anyone will have access to your PEM files).\r\n\r\nYou just to specify a directory to store your PEM files (make sure its file permission are adequate), and Jetty will do the rest.\r\n\r\n  [1]: https://github.com/cloudflare/quiche\r\n  [2]: https://en.wikipedia.org/wiki/Privacy-Enhanced_Mail","title":"java.lang.IllegalStateException: No PEM work directory configured","body":"<p>Jetty's implementation, like many others, use the <a href=\"https://github.com/cloudflare/quiche\" rel=\"nofollow noreferrer\">quiche</a> library as the underlying implementation of QUIC, the protocol at the base of HTTP/3.</p>\n<p>Quiche (written in Rust), does not use Java KeyStores, so you have to provide the public and private key as <a href=\"https://en.wikipedia.org/wiki/Privacy-Enhanced_Mail\" rel=\"nofollow noreferrer\">PEM files</a>.</p>\n<p>Jetty will take care of converting your KeyStore to PEM files, but it needs a directory to save the PEM files to.\nSince one of the PEM files is the private key, the PEM directory must be adequately protected using file system permissions, and that is why Jetty cannot use a default PEM directory (for example, <code>/tmp/</code> would be a terrible choice because anyone will have access to your PEM files).</p>\n<p>You just to specify a directory to store your PEM files (make sure its file permission are adequate), and Jetty will do the rest.</p>\n"}],"owner":{"account_id":7295,"reputation":23914,"user_id":12631,"accept_rate":57,"display_name":"Horcrux7"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77318094,"answer_count":1,"score":0,"last_activity_date":1697670492,"creation_date":1697640521,"question_id":77317395,"body_markdown":"I have a working HTTP/2 configuration with an embedded Jetty 10. Now I want add HTTP/3 support. I follow the [Jetty HTTP/3 documentation][1]. I get the follow exception:\r\n\r\n    java.lang.IllegalStateException: No PEM work directory configured\r\n     \tat org.eclipse.jetty.quic.server.QuicServerConnector.findPemWorkDirectory(QuicServerConnector.java:192)\r\n     \tat org.eclipse.jetty.quic.server.QuicServerConnector.doStart(QuicServerConnector.java:171)\r\n     \tat org.eclipse.jetty.http3.server.HTTP3ServerConnector.doStart(HTTP3ServerConnector.java:61)\r\n     \tat org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:93)\r\n     \tat org.eclipse.jetty.server.Server.doStart(Server.java:428)\r\n     \tat org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:93)\r\n\r\nWhat is a PEM work directory? Does its contains any security relevant information? Must the directory contains some files? \r\n\r\nThe SSL certificate is loaded into a keystore and work with HTTP/2 and old HTTPS.\r\n\r\n  [1]: https://eclipse.dev/jetty/documentation/jetty-11/programming-guide/index.html#pg-server-http-connector-protocol-http3\r\n","title":"java.lang.IllegalStateException: No PEM work directory configured","body":"<p>I have a working HTTP/2 configuration with an embedded Jetty 10. Now I want add HTTP/3 support. I follow the <a href=\"https://eclipse.dev/jetty/documentation/jetty-11/programming-guide/index.html#pg-server-http-connector-protocol-http3\" rel=\"nofollow noreferrer\">Jetty HTTP/3 documentation</a>. I get the follow exception:</p>\n<pre><code>java.lang.IllegalStateException: No PEM work directory configured\n    at org.eclipse.jetty.quic.server.QuicServerConnector.findPemWorkDirectory(QuicServerConnector.java:192)\n    at org.eclipse.jetty.quic.server.QuicServerConnector.doStart(QuicServerConnector.java:171)\n    at org.eclipse.jetty.http3.server.HTTP3ServerConnector.doStart(HTTP3ServerConnector.java:61)\n    at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:93)\n    at org.eclipse.jetty.server.Server.doStart(Server.java:428)\n    at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:93)\n</code></pre>\n<p>What is a PEM work directory? Does its contains any security relevant information? Must the directory contains some files?</p>\n<p>The SSL certificate is loaded into a keystore and work with HTTP/2 and old HTTPS.</p>\n"},{"tags":["java","android","android-studio","gradle"],"answers":[{"tags":[],"owner":{"account_id":14361048,"reputation":448,"user_id":10373347,"display_name":"Peer Mohamed"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662030347,"creation_date":1662030347,"answer_id":73568324,"question_id":73351357,"body_markdown":"    buildTypes {\r\n    \r\n            debug {\r\n                debuggable true\r\n            }\r\n    \r\n            release {\r\n    //            minifyEnabled true\r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-rules.pro&#39;\r\n                signingConfig signingConfigs.release\r\n    \r\n                android.applicationVariants.all { variant -&gt;\r\n                    variant.outputs.all {\r\n                        def date = new Date()\r\n                        def formattedDate = date.format(&#39;yyyy-MM-dd&#39;)\r\n                        outputFileName = &quot;${variant.productFlavors[0].name}&quot;  + formattedDate + &quot;_${variant.name}_${variant.versionName}.apk&quot;\r\n                    }\r\n                }\r\n            }\r\n        }","title":"How to change the apk filename in Android Studio with gradle-plugin 7.2.2 gradle version 7.3.3","body":"<pre><code>buildTypes {\n\n        debug {\n            debuggable true\n        }\n\n        release {\n//            minifyEnabled true\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n            signingConfig signingConfigs.release\n\n            android.applicationVariants.all { variant -&gt;\n                variant.outputs.all {\n                    def date = new Date()\n                    def formattedDate = date.format('yyyy-MM-dd')\n                    outputFileName = &quot;${variant.productFlavors[0].name}&quot;  + formattedDate + &quot;_${variant.name}_${variant.versionName}.apk&quot;\n                }\n            }\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19189696,"reputation":1,"user_id":14019683,"display_name":"Ivan Hernandez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697669025,"creation_date":1697655556,"answer_id":77318963,"question_id":73351357,"body_markdown":"I thing you miss a &quot;}&quot; \r\n\r\non this line                     \r\n\r\n    def newName = &quot;${globalScope.project.name}-${output.baseName-${variant.versionName}}.apk&quot;\r\n\r\nthe right line must be like this\r\n\r\n    def newName = &quot;${globalScope.project.name}-${output.baseName}-${variant.versionName}.apk&quot;\r\n\r\nThat will be enough to solve your issue. At least it works for me\r\n\r\n\r\n","title":"How to change the apk filename in Android Studio with gradle-plugin 7.2.2 gradle version 7.3.3","body":"<p>I thing you miss a &quot;}&quot;</p>\n<p>on this line</p>\n<pre><code>def newName = &quot;${globalScope.project.name}-${output.baseName-${variant.versionName}}.apk&quot;\n</code></pre>\n<p>the right line must be like this</p>\n<pre><code>def newName = &quot;${globalScope.project.name}-${output.baseName}-${variant.versionName}.apk&quot;\n</code></pre>\n<p>That will be enough to solve your issue. At least it works for me</p>\n"}],"owner":{"account_id":5319788,"reputation":31,"user_id":4243574,"display_name":"Robert Angermayr"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1970,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1697669025,"creation_date":1660477450,"question_id":73351357,"body_markdown":"i&#39;m using Android Studio Version 2021.2.1\r\nGradl 7.3.3 and the gradle-plugin 7.2.2\r\n\r\nWhen i try to change the apk-filename in the same way as i have done it in earlier projects\r\ni recieve the following error.\r\n \r\nBuild file &#39;...\\app\\build.gradle&#39; line: 34\r\n\r\nA problem occurred configuring project &#39;:app&#39;.\r\n&gt; com.android.build.gradle.internal.dsl.AgpDslLockedException: It is too late to add new build types\r\n  They have already been used to configure this project.\r\n  Consider moving this call to finalizeDsl or during evaluation.\r\n\r\nI cannot find out what i have to change to give the apk-file a new filename.\r\nEverything i found is for older gradle versions where my build.gradle is working.\r\nIs there a tutorial or howto that helps me to solve the problem.\r\n\r\n\r\n    apply plugin: &#39;com.android.application&#39;\r\n    \r\n    android {\r\n    \r\n        compileSdkVersion 32\r\n    \r\n        defaultConfig {\r\n            applicationId &quot;...&quot;\r\n            minSdkVersion 19\r\n            targetSdkVersion 32\r\n            versionCode 1205\r\n            versionName &#39;1.2.05&#39;\r\n            testInstrumentationRunner &#39;androidx.test.runner.AndroidJUnitRunner&#39;\r\n        }\r\n    \r\n        signingConfigs {\r\n            config {\r\n                keyAlias &#39;alias&#39;\r\n                keyPassword &#39;pass&#39;\r\n                storeFile file(mykeystore.jks&#39;)\r\n                storePassword &#39;12345&#39;\r\n            }\r\n        }\r\n    \r\n        buildTypes {\r\n            release {\r\n                shrinkResources true\r\n                minifyEnabled true\r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-rules.pro&#39;\r\n                applicationVariants.all { variant -&gt;\r\n                    variant.outputs.all { output -&gt;\r\n                        project.ext { appName = &#39;myAppname&#39; }\r\n                        def formattedDate = new Date().format(&#39;yyyyMMdd_HHmmss&#39;)\r\n                        // NEXT IST LINE 34 where the ERROR points to\r\n                        def newName = &quot;${globalScope.project.name}-${output.baseName-${variant.versionName}}.apk&quot;\r\n                        newName = newName.replace(&quot;app-&quot;, &quot;$project.ext.appName-&quot;) \r\n                        newName = newName.replace(&quot;-release&quot;, &quot;-release-&quot; + formattedDate + &quot;_&quot; + versionName.replace(&quot;.&quot;,&quot;&quot;))\r\n                        outputFileName  = new File(&quot;../../../../release/&quot; + newName)\r\n                    }\r\n                }\r\n                signingConfig signingConfigs.config\r\n                zipAlignEnabled true\r\n                pseudoLocalesEnabled true\r\n            }\r\n    \r\n            debug {\r\n                minifyEnabled false\r\n                //useProguard false\r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-rules.pro&#39;\r\n                zipAlignEnabled true\r\n                pseudoLocalesEnabled true\r\n                debuggable true\r\n                signingConfig signingConfigs.config\r\n            }\r\n        }\r\n        productFlavors {\r\n        }\r\n    }\r\n\r\n\r\n","title":"How to change the apk filename in Android Studio with gradle-plugin 7.2.2 gradle version 7.3.3","body":"<p>i'm using Android Studio Version 2021.2.1\nGradl 7.3.3 and the gradle-plugin 7.2.2</p>\n<p>When i try to change the apk-filename in the same way as i have done it in earlier projects\ni recieve the following error.</p>\n<p>Build file '...\\app\\build.gradle' line: 34</p>\n<p>A problem occurred configuring project ':app'.</p>\n<blockquote>\n<p>com.android.build.gradle.internal.dsl.AgpDslLockedException: It is too late to add new build types\nThey have already been used to configure this project.\nConsider moving this call to finalizeDsl or during evaluation.</p>\n</blockquote>\n<p>I cannot find out what i have to change to give the apk-file a new filename.\nEverything i found is for older gradle versions where my build.gradle is working.\nIs there a tutorial or howto that helps me to solve the problem.</p>\n<pre><code>apply plugin: 'com.android.application'\n\nandroid {\n\n    compileSdkVersion 32\n\n    defaultConfig {\n        applicationId &quot;...&quot;\n        minSdkVersion 19\n        targetSdkVersion 32\n        versionCode 1205\n        versionName '1.2.05'\n        testInstrumentationRunner 'androidx.test.runner.AndroidJUnitRunner'\n    }\n\n    signingConfigs {\n        config {\n            keyAlias 'alias'\n            keyPassword 'pass'\n            storeFile file(mykeystore.jks')\n            storePassword '12345'\n        }\n    }\n\n    buildTypes {\n        release {\n            shrinkResources true\n            minifyEnabled true\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n            applicationVariants.all { variant -&gt;\n                variant.outputs.all { output -&gt;\n                    project.ext { appName = 'myAppname' }\n                    def formattedDate = new Date().format('yyyyMMdd_HHmmss')\n                    // NEXT IST LINE 34 where the ERROR points to\n                    def newName = &quot;${globalScope.project.name}-${output.baseName-${variant.versionName}}.apk&quot;\n                    newName = newName.replace(&quot;app-&quot;, &quot;$project.ext.appName-&quot;) \n                    newName = newName.replace(&quot;-release&quot;, &quot;-release-&quot; + formattedDate + &quot;_&quot; + versionName.replace(&quot;.&quot;,&quot;&quot;))\n                    outputFileName  = new File(&quot;../../../../release/&quot; + newName)\n                }\n            }\n            signingConfig signingConfigs.config\n            zipAlignEnabled true\n            pseudoLocalesEnabled true\n        }\n\n        debug {\n            minifyEnabled false\n            //useProguard false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n            zipAlignEnabled true\n            pseudoLocalesEnabled true\n            debuggable true\n            signingConfig signingConfigs.config\n        }\n    }\n    productFlavors {\n    }\n}\n</code></pre>\n"},{"tags":["java","enums","getgauge"],"comments":[{"owner":{"account_id":2818342,"reputation":299828,"user_id":2422776,"display_name":"Mureinik"},"score":2,"creation_date":1483648117,"post_id":41494056,"comment_id":70194192,"body_markdown":"The requirement isn&#39;t quite clear (at least to me). Could you share some pseudo-code of what you&#39;d like to achieve here?","body":"The requirement isn&#39;t quite clear (at least to me). Could you share some pseudo-code of what you&#39;d like to achieve here?"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1483648492,"post_id":41494056,"comment_id":70194395,"body_markdown":"You can do something like this: `enum E { A, B; static final E C = A, D = B; }`. Or you can use string aliases and a map lookup.","body":"You can do something like this: <code>enum E { A, B; static final E C = A, D = B; }</code>. Or you can use string aliases and a map lookup."},{"owner":{"account_id":2815031,"reputation":240,"user_id":2420354,"display_name":"Boaz Berman"},"score":0,"creation_date":1483648633,"post_id":41494056,"comment_id":70194473,"body_markdown":"@Mureinik Well gauge is meant to allow creating a running specifications writen in natural language. \nAs such I would like to allow: &#39;in page &quot;home&quot; do stuff&#39;. That will be mapped to a method whose signature is:\n@Step(&quot;in page &lt;page&gt; do stuff&quot;)\npublic void doStuffInPage(Page page)\n\nBut in my use case I need the page to be in Hebrew. Therefor I need an alias for the enum.","body":"@Mureinik Well gauge is meant to allow creating a running specifications writen in natural language.  As such I would like to allow: &#39;in page &quot;home&quot; do stuff&#39;. That will be mapped to a method whose signature is: @Step(&quot;in page &lt;page&gt; do stuff&quot;) public void doStuffInPage(Page page)  But in my use case I need the page to be in Hebrew. Therefor I need an alias for the enum."},{"owner":{"account_id":2815031,"reputation":240,"user_id":2420354,"display_name":"Boaz Berman"},"score":0,"creation_date":1483648689,"post_id":41494056,"comment_id":70194504,"body_markdown":"@shmosel Well I cant because you can only use English letters for that, and I need Hebrew letters.","body":"@shmosel Well I cant because you can only use English letters for that, and I need Hebrew letters."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1483648809,"post_id":41494056,"comment_id":70194564,"body_markdown":"You should be able to use Hebrew for either of my suggestions.","body":"You should be able to use Hebrew for either of my suggestions."},{"owner":{"account_id":2815031,"reputation":240,"user_id":2420354,"display_name":"Boaz Berman"},"score":0,"creation_date":1483649421,"post_id":41494056,"comment_id":70194911,"body_markdown":"@shmosel The thing is that I need a generic solution that will allow me to lookup an enum instance by its name or alias. At the moment the lookup is made by Enum.valueOf(E.class, &quot;A&quot;), which in neither of your suggestions would work.","body":"@shmosel The thing is that I need a generic solution that will allow me to lookup an enum instance by its name or alias. At the moment the lookup is made by Enum.valueOf(E.class, &quot;A&quot;), which in neither of your suggestions would work."},{"owner":{"account_id":2211999,"reputation":9954,"user_id":1953590,"accept_rate":74,"display_name":"Kevin Krumwiede"},"score":0,"creation_date":1483649440,"post_id":41494056,"comment_id":70194926,"body_markdown":"[Java identifiers can contain non-English characters.](http://stackoverflow.com/questions/1422655/java-unicode-variable-names)","body":"<a href=\"http://stackoverflow.com/questions/1422655/java-unicode-variable-names\">Java identifiers can contain non-English characters.</a>"},{"owner":{"account_id":2815031,"reputation":240,"user_id":2420354,"display_name":"Boaz Berman"},"score":0,"creation_date":1483649601,"post_id":41494056,"comment_id":70195014,"body_markdown":"@KevinKrumwiede I was wrong, this is not the problem with this solution. Check my last comment.","body":"@KevinKrumwiede I was wrong, this is not the problem with this solution. Check my last comment."}],"answers":[{"tags":[],"owner":{"account_id":2962536,"reputation":2218,"user_id":7330729,"display_name":"Dmitry Gorkovets"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697668861,"creation_date":1483649193,"answer_id":41494405,"question_id":41494056,"body_markdown":"Since enum values are not good for specification by means of readability then you want to replace them with readable words. According to [documentation][1] you can pass enum as step parameter but in your case you can pass string as you want and then in the step method just to create enum from string using Factory class:\r\n\r\n    public class MyEnumUtil {\r\n    \r\n        private MyEnumUtil() {}\r\n    \r\n        public static MyEnum fromHebrew(String stringValue) {\r\n            switch (stringValue) {\r\n                case &quot;צָפוֹן,&quot;: return MyEnum.NORTH;\r\n                case &quot;מזרח,&quot;: return MyEnum.EAST;\r\n                case &quot; מַעֲרָב,&quot;: return MyEnum.WEST;\r\n                case &quot;&#160; דָרוֹם&quot;: return MyEnum.SOUTH;\r\n                default: return null;\r\n            }\r\n        }\r\n    }\r\n\r\nThen your step will be (of course in Hebrew)\r\n\r\n    @Step(&quot;Navigate towards &lt;directionString&gt;&quot;)\r\n    public void navigate(String directionString) {\r\n        MyEnum direction = MyEnumUtil.fromHebrew(directionString);\r\n        // use enum\r\n    }\r\n\r\n  [1]: http://getgauge.io/documentation/user/current/language_features/enum_parameters.html\r\n\r\n","title":"Add alias to an enum in java","body":"<p>Since enum values are not good for specification by means of readability then you want to replace them with readable words. According to <a href=\"http://getgauge.io/documentation/user/current/language_features/enum_parameters.html\" rel=\"nofollow noreferrer\">documentation</a> you can pass enum as step parameter but in your case you can pass string as you want and then in the step method just to create enum from string using Factory class:</p>\n<pre><code>public class MyEnumUtil {\n\n    private MyEnumUtil() {}\n\n    public static MyEnum fromHebrew(String stringValue) {\n        switch (stringValue) {\n            case &quot;צָפוֹן,&quot;: return MyEnum.NORTH;\n            case &quot;מזרח,&quot;: return MyEnum.EAST;\n            case &quot; מַעֲרָב,&quot;: return MyEnum.WEST;\n            case &quot;  דָרוֹם&quot;: return MyEnum.SOUTH;\n            default: return null;\n        }\n    }\n}\n</code></pre>\n<p>Then your step will be (of course in Hebrew)</p>\n<pre><code>@Step(&quot;Navigate towards &lt;directionString&gt;&quot;)\npublic void navigate(String directionString) {\n    MyEnum direction = MyEnumUtil.fromHebrew(directionString);\n    // use enum\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2211999,"reputation":9954,"user_id":1953590,"accept_rate":74,"display_name":"Kevin Krumwiede"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1483650339,"creation_date":1483650339,"answer_id":41494692,"question_id":41494056,"body_markdown":"Enums can contain static and instance fields and have constructors like any other class:\r\n\r\n    enum Foo {\r\n        A(&quot;alias1&quot;, &quot;alias2&quot;),\r\n        B(&quot;alias3&quot;);\r\n    \r\n        private static final Map&lt;String, Foo&gt; gAliases = new HashMap&lt;&gt;();\r\n    \r\n        private Foo(String... aliases) {\r\n            for(final String alias : aliases) {\r\n                gAliases.put(alias, this);\r\n            }\r\n        }\r\n    \r\n        public static Foo forAlias(String alias) {\r\n            return gAliases.get(alias);\r\n        }\r\n    }\r\n\r\nYou could also omit the constructor and populate the alias map in a static initializer.  But I like how the constructor makes it easy to read and maintain which aliases correspond to which constants.","title":"Add alias to an enum in java","body":"<p>Enums can contain static and instance fields and have constructors like any other class:</p>\n\n<pre><code>enum Foo {\n    A(\"alias1\", \"alias2\"),\n    B(\"alias3\");\n\n    private static final Map&lt;String, Foo&gt; gAliases = new HashMap&lt;&gt;();\n\n    private Foo(String... aliases) {\n        for(final String alias : aliases) {\n            gAliases.put(alias, this);\n        }\n    }\n\n    public static Foo forAlias(String alias) {\n        return gAliases.get(alias);\n    }\n}\n</code></pre>\n\n<p>You could also omit the constructor and populate the alias map in a static initializer.  But I like how the constructor makes it easy to read and maintain which aliases correspond to which constants.</p>\n"}],"owner":{"account_id":2815031,"reputation":240,"user_id":2420354,"display_name":"Boaz Berman"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6471,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"closed_date":1483663211,"answer_count":2,"score":1,"last_activity_date":1697668861,"creation_date":1483647951,"question_id":41494056,"body_markdown":"I have a use case where I would like to access an enum instance with an alias of that enum.\r\n\r\nThe reason that I would like to access the enum instance with an alias is to allow accessing a value of an enum with non English characters (my specific use case is Hebrew).\r\n\r\nThe thing is that this is part of a framework and I need to be able to add multiple aliases to any given enum. It is needed to allow more natural language, as for the alias given would be used as part of a specification ([gauge-java][1]).\r\n\r\nAny suggestions on how to do it properly?\r\n\r\n**EDIT:**\r\nI&#39;m adding an example:\r\n\r\n&gt; Go to &quot;בית&quot;\r\n\r\nthis is a step that would be mapped to a method:\r\n\r\n    @Step(&quot;Go to &lt;page&gt;&quot;)\r\n    public void goToPage(Page page) {...}\r\n\r\n\r\n  [1]: https://github.com/getgauge/gauge-java","title":"Add alias to an enum in java","body":"<p>I have a use case where I would like to access an enum instance with an alias of that enum.</p>\n\n<p>The reason that I would like to access the enum instance with an alias is to allow accessing a value of an enum with non English characters (my specific use case is Hebrew).</p>\n\n<p>The thing is that this is part of a framework and I need to be able to add multiple aliases to any given enum. It is needed to allow more natural language, as for the alias given would be used as part of a specification (<a href=\"https://github.com/getgauge/gauge-java\" rel=\"nofollow noreferrer\">gauge-java</a>).</p>\n\n<p>Any suggestions on how to do it properly?</p>\n\n<p><strong>EDIT:</strong>\nI'm adding an example:</p>\n\n<blockquote>\n  <p>Go to \"בית\"</p>\n</blockquote>\n\n<p>this is a step that would be mapped to a method:</p>\n\n<pre><code>@Step(\"Go to &lt;page&gt;\")\npublic void goToPage(Page page) {...}\n</code></pre>\n"},{"tags":["java","android","android-studio","android-alertdialog"],"comments":[{"owner":{"account_id":16696756,"reputation":1241,"user_id":12737399,"display_name":"Atick Faisal"},"score":0,"creation_date":1611553286,"post_id":65879469,"comment_id":116479000,"body_markdown":"Along with the background color, use android:alpha between 0 and 1 to get the preferred transparency","body":"Along with the background color, use android:alpha between 0 and 1 to get the preferred transparency"},{"owner":{"account_id":18074528,"reputation":73,"user_id":13138213,"display_name":"MHmansouri"},"score":0,"creation_date":1611553965,"post_id":65879469,"comment_id":116479128,"body_markdown":"no my friend its not working","body":"no my friend its not working"},{"owner":{"account_id":16696756,"reputation":1241,"user_id":12737399,"display_name":"Atick Faisal"},"score":0,"creation_date":1611554103,"post_id":65879469,"comment_id":116479155,"body_markdown":"cardview is white by default. Add alpha to the cardview also. Let me know if that works.","body":"cardview is white by default. Add alpha to the cardview also. Let me know if that works."},{"owner":{"account_id":18074528,"reputation":73,"user_id":13138213,"display_name":"MHmansouri"},"score":0,"creation_date":1611554554,"post_id":65879469,"comment_id":116479227,"body_markdown":"see photo this my problem and not changing by alpha @AtickFaisal","body":"see photo this my problem and not changing by alpha @AtickFaisal"}],"answers":[{"tags":[],"owner":{"account_id":13654747,"reputation":38532,"user_id":9851608,"display_name":"Zain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1611555530,"creation_date":1611555530,"answer_id":65879830,"question_id":65879469,"body_markdown":"You can change the background color of alert dialog to be transparent with:\r\n\r\n    alertDialog.getWindow().getDecorView().setBackgroundResource(android.R.color.transparent);\r\n","title":"custom alert dialog background color","body":"<p>You can change the background color of alert dialog to be transparent with:</p>\n<pre><code>alertDialog.getWindow().getDecorView().setBackgroundResource(android.R.color.transparent);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17317295,"reputation":160,"user_id":12543430,"display_name":"D_K"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1611572620,"creation_date":1611555954,"answer_id":65879886,"question_id":65879469,"body_markdown":"see you can create xml file for progressBar like this:\r\n\r\n  \r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;RelativeLayout\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:id=&quot;@+id/relativeLayoutProgressBar&quot;\r\n    android:visibility=&quot;gone&quot;\r\n    android:elevation=&quot;8dp&quot;\r\n    &gt;\r\n\r\n    &lt;ProgressBar\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;50dp&quot;\r\n        style=&quot;?android:attr/progressBarStyle&quot;\r\n        android:indeterminate=&quot;true&quot;\r\n        android:layout_centerInParent=&quot;true&quot;\r\n        android:theme=&quot;@style/RedAccent&quot;\r\n        android:elevation=&quot;5dp&quot;\r\n        /&gt;\r\n\r\n    &lt;View\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:background=&quot;#CCFFFFFF&quot;\r\n        android:elevation=&quot;4dp&quot;\r\n        /&gt;\r\n\r\n    &lt;/RelativeLayout&gt;\r\n\r\nAnd include this layout line in xml file where you want this progressbar like this:\r\n\r\n    &lt;include layout=&quot;progressbar&quot; /&gt;\r\n\r\nand access like this:\r\n\r\n    RelativeLayout layout = findViewById(R.id.relativeLayoutProgressBar);\r\n    layout.setVisibility(View.GONE);","title":"custom alert dialog background color","body":"<p>see you can create xml file for progressBar like this:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;RelativeLayout\nxmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nandroid:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;match_parent&quot;\nandroid:id=&quot;@+id/relativeLayoutProgressBar&quot;\nandroid:visibility=&quot;gone&quot;\nandroid:elevation=&quot;8dp&quot;\n&gt;\n\n&lt;ProgressBar\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;50dp&quot;\n    style=&quot;?android:attr/progressBarStyle&quot;\n    android:indeterminate=&quot;true&quot;\n    android:layout_centerInParent=&quot;true&quot;\n    android:theme=&quot;@style/RedAccent&quot;\n    android:elevation=&quot;5dp&quot;\n    /&gt;\n\n&lt;View\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:background=&quot;#CCFFFFFF&quot;\n    android:elevation=&quot;4dp&quot;\n    /&gt;\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n<p>And include this layout line in xml file where you want this progressbar like this:</p>\n<pre><code>&lt;include layout=&quot;progressbar&quot; /&gt;\n</code></pre>\n<p>and access like this:</p>\n<pre><code>RelativeLayout layout = findViewById(R.id.relativeLayoutProgressBar);\nlayout.setVisibility(View.GONE);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17735557,"reputation":337,"user_id":12877007,"display_name":"Mubashir Murtaza"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1611635950,"creation_date":1611556021,"answer_id":65879898,"question_id":65879469,"body_markdown":"Try this,\r\n\r\n\r\n    final AlertDialog alertDialog = dialogBuilder.create();\r\n    alertDialog.getWindow().setBackgroundDrawable(new \r\n                                                  ColorDrawable(Color.TRANSPARENT));\r\n    alertDialog.show();","title":"custom alert dialog background color","body":"<p>Try this,</p>\n<pre><code>final AlertDialog alertDialog = dialogBuilder.create();\nalertDialog.getWindow().setBackgroundDrawable(new \n                                              ColorDrawable(Color.TRANSPARENT));\nalertDialog.show();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19777268,"reputation":111,"user_id":14482950,"display_name":"Shashank"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1611571950,"creation_date":1611571950,"answer_id":65883302,"question_id":65879469,"body_markdown":"try to set dialog theme like this in styles.xml\r\n\r\n    &lt;style name=&quot;dialogTheme&quot; parent=&quot;android:Theme.Holo.Dialog&quot;&gt;\r\n        &lt;item name=&quot;android:windowMinWidthMajor&quot;&gt;90%&lt;/item&gt;\r\n        &lt;item name=&quot;android:windowMinWidthMinor&quot;&gt;90%&lt;/item&gt;\r\n    &lt;/style&gt;\r\n\r\njava code\r\n\r\n    Dialog dialog = new Dialog(activity, R.style.dialogTheme);\r\n    dialog.requestWindowFeature(Window.FEATURE_NO_TITLE);\r\n    dialog.setContentView(R.layout.your_dialog_layout);\r\n    activity.getWindow().setLayout(LinearLayout.LayoutParams.MATCH_PARENT, LinearLayout.LayoutParams.MATCH_PARENT);\r\n    \r\n    dialog.getWindow().setBackgroundDrawable(new ColorDrawable(Color.TRANSPARENT));","title":"custom alert dialog background color","body":"<p>try to set dialog theme like this in styles.xml</p>\n<pre><code>&lt;style name=&quot;dialogTheme&quot; parent=&quot;android:Theme.Holo.Dialog&quot;&gt;\n    &lt;item name=&quot;android:windowMinWidthMajor&quot;&gt;90%&lt;/item&gt;\n    &lt;item name=&quot;android:windowMinWidthMinor&quot;&gt;90%&lt;/item&gt;\n&lt;/style&gt;\n</code></pre>\n<p>java code</p>\n<pre><code>Dialog dialog = new Dialog(activity, R.style.dialogTheme);\ndialog.requestWindowFeature(Window.FEATURE_NO_TITLE);\ndialog.setContentView(R.layout.your_dialog_layout);\nactivity.getWindow().setLayout(LinearLayout.LayoutParams.MATCH_PARENT, LinearLayout.LayoutParams.MATCH_PARENT);\n\ndialog.getWindow().setBackgroundDrawable(new ColorDrawable(Color.TRANSPARENT));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19317690,"reputation":41,"user_id":14122062,"display_name":"Nebrass wahaib"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697668511,"creation_date":1697668511,"answer_id":77319980,"question_id":65879469,"body_markdown":"For me, I tried all the ways, but what worked for me was to delete AlertDialog and replace it with Dialog\r\n\r\nand just do this\r\n\r\n            dialog.getWindow().setBackgroundDrawable(null);","title":"custom alert dialog background color","body":"<p>For me, I tried all the ways, but what worked for me was to delete AlertDialog and replace it with Dialog</p>\n<p>and just do this</p>\n<pre><code>        dialog.getWindow().setBackgroundDrawable(null);\n</code></pre>\n"}],"owner":{"account_id":18074528,"reputation":73,"user_id":13138213,"display_name":"MHmansouri"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1197,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":65883302,"answer_count":5,"score":0,"last_activity_date":1697668511,"creation_date":1611552876,"question_id":65879469,"body_markdown":"i need a custom alert dialog for show progress. when i run it the alert dialog background color not change to transparent...\r\nbelow i put my code in xml layout and alert dialog code\r\n\r\nxml layout :\r\n\r\n    &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    android:orientation=&quot;vertical&quot;\r\n    android:background=&quot;@android:color/transparent&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:gravity=&quot;center&quot;\r\n    android:layout_height=&quot;match_parent&quot;&gt;\r\n\r\n    &lt;androidx.cardview.widget.CardView\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        app:cardElevation=&quot;10dp&quot;\r\n        app:cardCornerRadius=&quot;100dp&quot;&gt;\r\n\r\n            &lt;ProgressBar\r\n                android:id=&quot;@+id/progressBar&quot;\r\n                style=&quot;@style/Widget.AppCompat.ProgressBar&quot;\r\n                android:layout_width=&quot;30dp&quot;\r\n                android:layout_margin=&quot;5dp&quot;\r\n                android:layout_height=&quot;30dp&quot; /&gt;\r\n\r\n    &lt;/androidx.cardview.widget.CardView&gt;\r\n    \r\n&lt;/LinearLayout&gt;\r\n\r\nand this is my code in fragment :\r\n\r\n                    View progress = getLayoutInflater().inflate(R.layout.progress_alert, null);\r\n                AlertDialog.Builder builder = new AlertDialog.Builder(getContext());\r\n                builder.setCancelable(false);\r\n                builder.setView(progress);\r\n                alertDialog = builder.create();\r\n                alertDialog.show();\r\n\r\n","title":"custom alert dialog background color","body":"<p>i need a custom alert dialog for show progress. when i run it the alert dialog background color not change to transparent...\nbelow i put my code in xml layout and alert dialog code</p>\n<p>xml layout :</p>\n<pre><code>&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nxmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\nandroid:orientation=&quot;vertical&quot;\nandroid:background=&quot;@android:color/transparent&quot;\nandroid:layout_width=&quot;match_parent&quot;\nandroid:gravity=&quot;center&quot;\nandroid:layout_height=&quot;match_parent&quot;&gt;\n\n&lt;androidx.cardview.widget.CardView\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    app:cardElevation=&quot;10dp&quot;\n    app:cardCornerRadius=&quot;100dp&quot;&gt;\n\n        &lt;ProgressBar\n            android:id=&quot;@+id/progressBar&quot;\n            style=&quot;@style/Widget.AppCompat.ProgressBar&quot;\n            android:layout_width=&quot;30dp&quot;\n            android:layout_margin=&quot;5dp&quot;\n            android:layout_height=&quot;30dp&quot; /&gt;\n\n&lt;/androidx.cardview.widget.CardView&gt;\n</code></pre>\n\n<p>and this is my code in fragment :</p>\n<pre><code>                View progress = getLayoutInflater().inflate(R.layout.progress_alert, null);\n            AlertDialog.Builder builder = new AlertDialog.Builder(getContext());\n            builder.setCancelable(false);\n            builder.setView(progress);\n            alertDialog = builder.create();\n            alertDialog.show();\n</code></pre>\n"},{"tags":["java","arrays","integer","char"],"comments":[{"owner":{"account_id":1580843,"reputation":13479,"user_id":1466267,"accept_rate":91,"display_name":"SpaceTrucker"},"score":2,"creation_date":1697638365,"post_id":77317106,"comment_id":136305324,"body_markdown":"What code do you use to print each of the arrays?","body":"What code do you use to print each of the arrays?"},{"owner":{"account_id":213468,"reputation":103493,"user_id":466862,"display_name":"Mark Rotteveel"},"score":7,"creation_date":1697638593,"post_id":77317106,"comment_id":136305392,"body_markdown":"FYI, please define arrays as `int[] mane` and `char[] jane`. The syntax you use is supported, but generally not the recommended syntax. In any case, you&#39;re probably using `System.out.println`, and a `PrintStream` has a [specific overload for `char[]`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/PrintStream.html#println(char[])), and not for `int[]`, which will use the `println(Object)` version, which means it uses the default `toString`, because arrays do not have a custom `toString` method.","body":"FYI, please define arrays as <code>int[] mane</code> and <code>char[] jane</code>. The syntax you use is supported, but generally not the recommended syntax. In any case, you&#39;re probably using <code>System.out.println</code>, and a <code>PrintStream</code> has a <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/PrintStream.html#println(char%5B%5D)\" rel=\"nofollow noreferrer\">specific overload for <code>char[]</code></a>, and not for <code>int[]</code>, which will use the <code>println(Object)</code> version, which means it uses the default <code>toString</code>, because arrays do not have a custom <code>toString</code> method."},{"owner":{"account_id":213468,"reputation":103493,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1697638625,"post_id":77317106,"comment_id":136305398,"body_markdown":"Duplicate of: [What&#39;s the simplest way to print a Java array?](https://stackoverflow.com/questions/409784/whats-the-simplest-way-to-print-a-java-array)","body":"Duplicate of: <a href=\"https://stackoverflow.com/questions/409784/whats-the-simplest-way-to-print-a-java-array\">What&#39;s the simplest way to print a Java array?</a>"},{"owner":{"account_id":213468,"reputation":103493,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1697638778,"post_id":77317106,"comment_id":136305428,"body_markdown":"BTW: The output is not &quot;gibberish&quot;, it is the class name (`[I` for `int[]`) followed by `@` followed by the hexadecimal value of the 32-bit identity hashcode of the array (e.g. `5b37e0d2`)","body":"BTW: The output is not &quot;gibberish&quot;, it is the class name (<code>[I</code> for <code>int[]</code>) followed by <code>@</code> followed by the hexadecimal value of the 32-bit identity hashcode of the array (e.g. <code>5b37e0d2</code>)"}],"answers":[{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697667382,"creation_date":1697666599,"answer_id":77319867,"question_id":77317106,"body_markdown":"&gt; _&quot;... I&#39;m expecting an explanation of what is happening with the char array and the integer array.&quot;_\r\n\r\nThe _println_ method is _[over-loaded](https://docs.oracle.com/javase/tutorial/java/javaOO/methods.html)_.\r\n\r\nThis means that the _int_ _array_ is using a different method than the _char_ _array_.\r\n\r\nFor an _Object_, the _int_ _array_, the _[String#valueOf](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#valueOf(java.lang.Object))_ method is called.\r\n\r\n- _[PrintStream (Java SE 20 &amp;amp; JDK 20) &amp;ndash; println(Object x)](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/io/PrintStream.html#println(java.lang.Object))_\r\n- _[GitHub &amp;ndash; OpenJDK &amp;ndash; java/io/PrintStream#println(Object)](https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/io/PrintStream.java#L1186)_\r\n  - _[GitHub &amp;ndash; OpenJDK &amp;ndash; java/lang/String#valueOf(Object)](https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/lang/String.java#L4481)_\r\n\r\nAnd, for the _char_ _array_, a _[Writer#write](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/io/Writer.html#write(char[]))_ method is used, to print the values.\r\n\r\n- _[PrintStream (Java SE 20 &amp;amp; JDK 20) &amp;ndash; println(char[] x)](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/io/PrintStream.html#println(char%5B%5D))_\r\n- _[GitHub &amp;ndash; OpenJDK &amp;ndash; java/io/PrintStream &amp;ndash; println(char[])](https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/io/PrintStream.java#L1148)_\r\n  - _[GitHub &amp;ndash; OpenJDK &amp;ndash; java/io/PrintStream &amp;ndash; implWriteln(char[])](https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/io/PrintStream.java#L775)_\r\n    - _[GitHub &amp;ndash; OpenJDK &amp;ndash; java/io/Writer#write(char[])](https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/io/Writer.java#L241)_\r\n\r\nTo print the _int_ _array_, use the _[Arrays#toString](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Arrays.html#toString(int[]))_ method.\r\n\r\n```java\r\nSystem.out.println(Arrays.toString(mane));\r\n```\r\n\r\nOutput\r\n\r\n```none\r\n[2, 5, 6, 7]\r\n```\r\n\r\nAlternately, use an _[Integer](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Integer.html)_ _array_, and the _[List#of](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/List.html#of(E...))_ method.\r\n\r\n```java\r\nInteger mane[]={2,5,6,7};\r\nSystem.out.println(List.of(mane));\r\n```","title":"Char array is directly printing the contents of the array without requiring me to specify the index positions, it is great but how is this happening?","body":"<blockquote>\n<p><em>&quot;... I'm expecting an explanation of what is happening with the char array and the integer array.&quot;</em></p>\n</blockquote>\n<p>The <em>println</em> method is <em><a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/methods.html\" rel=\"nofollow noreferrer\">over-loaded</a></em>.</p>\n<p>This means that the <em>int</em> <em>array</em> is using a different method than the <em>char</em> <em>array</em>.</p>\n<p>For an <em>Object</em>, the <em>int</em> <em>array</em>, the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#valueOf(java.lang.Object)\" rel=\"nofollow noreferrer\">String#valueOf</a></em> method is called.</p>\n<ul>\n<li><em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/io/PrintStream.html#println(java.lang.Object)\" rel=\"nofollow noreferrer\">PrintStream (Java SE 20 &amp; JDK 20) – println(Object x)</a></em></li>\n<li><em><a href=\"https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/io/PrintStream.java#L1186\" rel=\"nofollow noreferrer\">GitHub – OpenJDK – java/io/PrintStream#println(Object)</a></em>\n<ul>\n<li><em><a href=\"https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/lang/String.java#L4481\" rel=\"nofollow noreferrer\">GitHub – OpenJDK – java/lang/String#valueOf(Object)</a></em></li>\n</ul>\n</li>\n</ul>\n<p>And, for the <em>char</em> <em>array</em>, a <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/io/Writer.html#write(char%5B%5D)\" rel=\"nofollow noreferrer\">Writer#write</a></em> method is used, to print the values.</p>\n<ul>\n<li><em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/io/PrintStream.html#println(char%5B%5D)\" rel=\"nofollow noreferrer\">PrintStream (Java SE 20 &amp; JDK 20) – println(char[] x)</a></em></li>\n<li><em><a href=\"https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/io/PrintStream.java#L1148\" rel=\"nofollow noreferrer\">GitHub – OpenJDK – java/io/PrintStream – println(char[])</a></em>\n<ul>\n<li><em><a href=\"https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/io/PrintStream.java#L775\" rel=\"nofollow noreferrer\">GitHub – OpenJDK – java/io/PrintStream – implWriteln(char[])</a></em>\n<ul>\n<li><em><a href=\"https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/io/Writer.java#L241\" rel=\"nofollow noreferrer\">GitHub – OpenJDK – java/io/Writer#write(char[])</a></em></li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<p>To print the <em>int</em> <em>array</em>, use the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Arrays.html#toString(int%5B%5D)\" rel=\"nofollow noreferrer\">Arrays#toString</a></em> method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println(Arrays.toString(mane));\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>[2, 5, 6, 7]\n</code></pre>\n<p>Alternately, use an <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Integer.html\" rel=\"nofollow noreferrer\">Integer</a></em> <em>array</em>, and the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/List.html#of(E...)\" rel=\"nofollow noreferrer\">List#of</a></em> method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Integer mane[]={2,5,6,7};\nSystem.out.println(List.of(mane));\n</code></pre>\n"}],"owner":{"account_id":17354628,"reputation":3,"user_id":12572358,"display_name":"Swapnil Mishra"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697667382,"creation_date":1697638134,"question_id":77317106,"body_markdown":"Char array is directly printing the contents of the array without requiring me to specify the index positions, it is great, but how is this happening? Can someone please explain me what&#39;s happening behind the scenes?\r\n\r\nHere is what I mean exactly:\r\n\r\n```\r\nint mane[]={2,5,6,7};\r\n\r\nchar jane[]={&#39;s&#39;,&#39;w&#39;,&#39;a&#39;,&#39;p&#39;};\r\n```\r\n\r\nIf we print the mane array directly it shows some gibberish value, but if we print the array jane[] it perfectly prints the array values without using the index positions of the array, how?\r\n\r\nI&#39;m expecting an explanation of what is happening with the char array and the integer array.","title":"Char array is directly printing the contents of the array without requiring me to specify the index positions, it is great but how is this happening?","body":"<p>Char array is directly printing the contents of the array without requiring me to specify the index positions, it is great, but how is this happening? Can someone please explain me what's happening behind the scenes?</p>\n<p>Here is what I mean exactly:</p>\n<pre><code>int mane[]={2,5,6,7};\n\nchar jane[]={'s','w','a','p'};\n</code></pre>\n<p>If we print the mane array directly it shows some gibberish value, but if we print the array jane[] it perfectly prints the array values without using the index positions of the array, how?</p>\n<p>I'm expecting an explanation of what is happening with the char array and the integer array.</p>\n"},{"tags":["java","google-cloud-dataflow","apache-beam"],"answers":[{"tags":[],"owner":{"account_id":17396682,"reputation":192,"user_id":12606298,"display_name":"Anish Sarangi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697449434,"creation_date":1697449434,"answer_id":77300918,"question_id":77280749,"body_markdown":"Can you check whats the version picked up on the dataflow console, seems like your pipeline is not importing the right Dataflow package or the Beam version. Also you can try using fat jar so that all required Classes of the concerned version is available. ","title":"Apache beam v2.50.0 NoClassDefFound - /MemoryMonitorOptions","body":"<p>Can you check whats the version picked up on the dataflow console, seems like your pipeline is not importing the right Dataflow package or the Beam version. Also you can try using fat jar so that all required Classes of the concerned version is available.</p>\n"},{"tags":[],"owner":{"account_id":28814817,"reputation":143,"user_id":22068689,"display_name":"Mel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1697667242,"creation_date":1697667242,"answer_id":77319907,"question_id":77280749,"body_markdown":"It appears that the class `MemoryMonitorOptions` has been [deprecated](https://beam.apache.org/releases/javadoc/2.50.0/index.html?deprecated-list.html) in version 2.50.0 hence the NoClassDefFound error. You will need to revisit your codes and update all lines referenced to the `MemoryMonitorOptions` class.\n\n\n\nAdding this [SDK version support status](https://cloud.google.com/dataflow/docs/support/sdk-version-support-status) document to keep you posted on other version deprecation schedules.\n\n   ","title":"Apache beam v2.50.0 NoClassDefFound - /MemoryMonitorOptions","body":"<p>It appears that the class <code>MemoryMonitorOptions</code> has been <a href=\"https://beam.apache.org/releases/javadoc/2.50.0/index.html?deprecated-list.html\" rel=\"nofollow noreferrer\">deprecated</a> in version 2.50.0 hence the NoClassDefFound error. You will need to revisit your codes and update all lines referenced to the <code>MemoryMonitorOptions</code> class.</p>\n<p>Adding this <a href=\"https://cloud.google.com/dataflow/docs/support/sdk-version-support-status\" rel=\"nofollow noreferrer\">SDK version support status</a> document to keep you posted on other version deprecation schedules.</p>\n"}],"owner":{"account_id":2821266,"reputation":23,"user_id":2424974,"display_name":"Jaymik11"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77319907,"answer_count":2,"score":0,"last_activity_date":1697667242,"creation_date":1697115070,"question_id":77280749,"body_markdown":"While updating the Apache Beam version from 2.46.0 to 2.50.0 for Java based Dataflow, the mvn package command runs successfully. However while executing the mvn compile:exec script - we are getting an error &quot;**java.lang.NoClassDefFoundError: org/apache/beam/sdk/options/MemoryMonitorOptions**&quot;\r\n\r\nNo updates in pom file except for the update in Apache beam version - \r\n[WARNING] \r\n2023-10-12T10:39:17.9662373Z java.lang.NoClassDefFoundError: org/apache/beam/sdk/options/MemoryMonitorOptions\r\n2023-10-12T10:39:17.9665631Z     at java.lang.ClassLoader.defineClass1 (Native Method)\r\n2023-10-12T10:39:17.9668538Z     at java.lang.ClassLoader.defineClass (ClassLoader.java:1022)\r\n2023-10-12T10:39:17.9670605Z     at java.security.SecureClassLoader.defineClass (SecureClassLoader.java:174)\r\n2023-10-12T10:39:17.9672586Z     at java.net.URLClassLoader.defineClass (URLClassLoader.java:555)\r\n2023-10-12T10:39:17.9674516Z     at java.net.URLClassLoader$1.run (URLClassLoader.java:458)\r\n2023-10-12T10:39:17.9676939Z     at java.net.URLClassLoader$1.run (URLClassLoader.java:452)\r\n2023-10-12T10:39:17.9678816Z     at java.security.AccessController.doPrivileged (Native Method)\r\n2023-10-12T10:39:17.9690248Z     at java.net.URLClassLoader.findClass (URLClassLoader.java:451)\r\n2023-10-12T10:39:17.9692252Z     at java.lang.ClassLoader.loadClass (ClassLoader.java:594)\r\n2023-10-12T10:39:17.9694175Z     at java.lang.ClassLoader.loadClass (ClassLoader.java:527)\r\n2023-10-12T10:39:17.9696026Z     at java.lang.ClassLoader.defineClass1 (Native Method)\r\n2023-10-12T10:39:17.9699991Z     at java.lang.ClassLoader.defineClass (ClassLoader.java:1022)\r\n2023-10-12T10:39:17.9704965Z     at java.security.SecureClassLoader.defineClass (SecureClassLoader.java:174)\r\n2023-10-12T10:39:17.9706908Z     at java.net.URLClassLoader.defineClass (URLClassLoader.java:555)\r\n2023-10-12T10:39:17.9708814Z     at java.net.URLClassLoader$1.run (URLClassLoader.java:458)\r\n2023-10-12T10:39:17.9710696Z     at java.net.URLClassLoader$1.run (URLClassLoader.java:452)\r\n2023-10-12T10:39:17.9712552Z     at java.security.AccessController.doPrivileged (Native Method)\r\n2023-10-12T10:39:17.9714469Z     at java.net.URLClassLoader.findClass (URLClassLoader.java:451)\r\n2023-10-12T10:39:17.9716698Z     at java.lang.ClassLoader.loadClass (ClassLoader.java:594)\r\n2023-10-12T10:39:17.9718622Z     at java.lang.ClassLoader.loadClass (ClassLoader.java:527)\r\n2023-10-12T10:39:17.9720635Z     at org.apache.beam.runners.dataflow.DataflowPipelineRegistrar$Options.getPipelineOptions (DataflowPipelineRegistrar.java:40)\r\n2023-10-12T10:39:17.9722611Z     at org.apache.beam.sdk.options.PipelineOptionsFactory$Cache.initializeRegistry (PipelineOptionsFactory.java:2090)\r\n2023-10-12T10:39:17.9724487Z     at org.apache.beam.sdk.options.PipelineOptionsFactory$Cache.&lt;init&gt; (PipelineOptionsFactory.java:2083)\r\n2023-10-12T10:39:17.9726421Z     at org.apache.beam.sdk.options.PipelineOptionsFactory$Cache.&lt;init&gt; (PipelineOptionsFactory.java:2047)\r\n2023-10-12T10:39:17.9728327Z     at org.apache.beam.sdk.options.PipelineOptionsFactory.resetCache (PipelineOptionsFactory.java:581)\r\n2023-10-12T10:39:17.9730230Z     at org.apache.beam.sdk.options.PipelineOptionsFactory.&lt;clinit&gt; (PipelineOptionsFactory.java:547)\r\n2023-10-12T10:39:17.9732113Z     at cio.mmt.PubSubTopicsToBigQuery.main (PubSubTopicsToBigQuery.java:55)\r\n2023-10-12T10:39:17.9734009Z     at org.codehaus.mojo.exec.ExecJavaMojo$1.run (ExecJavaMojo.java:254)\r\n2023-10-12T10:39:17.9743608Z     at java.lang.Thread.run (Thread.java:829)\r\n2023-10-12T10:39:17.9745720Z Caused by: java.lang.ClassNotFoundException: org.apache.beam.sdk.options.MemoryMonitorOptions\r\n2023-10-12T10:39:17.9748376Z     at java.net.URLClassLoader.findClass (URLClassLoader.java:476)\r\n2023-10-12T10:39:17.9750298Z     at java.lang.ClassLoader.loadClass (ClassLoader.java:594)\r\n2023-10-12T10:39:17.9752205Z     at java.lang.ClassLoader.loadClass (ClassLoader.java:527)\r\n2023-10-12T10:39:17.9754041Z     at java.lang.ClassLoader.defineClass1 (Native Method)\r\n2023-10-12T10:39:17.9756293Z     at java.lang.ClassLoader.defineClass (ClassLoader.java:1022)\r\n2023-10-12T10:39:17.9758225Z     at java.security.SecureClassLoader.defineClass (SecureClassLoader.java:174)\r\n2023-10-12T10:39:17.9760115Z     at java.net.URLClassLoader.defineClass (URLClassLoader.java:555)\r\n2023-10-12T10:39:17.9761982Z     at java.net.URLClassLoader$1.run (URLClassLoader.java:458)\r\n2023-10-12T10:39:17.9763915Z     at java.net.URLClassLoader$1.run (URLClassLoader.java:452)\r\n2023-10-12T10:39:17.9765721Z     at java.security.AccessController.doPrivileged (Native Method)\r\n2023-10-12T10:39:17.9767732Z     at java.net.URLClassLoader.findClass (URLClassLoader.java:451)\r\n2023-10-12T10:39:17.9769643Z     at java.lang.ClassLoader.loadClass (ClassLoader.java:594)\r\n2023-10-12T10:39:17.9771552Z     at java.lang.ClassLoader.loadClass (ClassLoader.java:527)\r\n2023-10-12T10:39:17.9821607Z     at java.lang.ClassLoader.defineClass1 (Native Method)\r\n2023-10-12T10:39:17.9824027Z     at java.lang.ClassLoader.defineClass (ClassLoader.java:1022)\r\n2023-10-12T10:39:17.9825945Z     at java.security.SecureClassLoader.defineClass (SecureClassLoader.java:174)\r\n2023-10-12T10:39:17.9827873Z     at java.net.URLClassLoader.defineClass (URLClassLoader.java:555)\r\n2023-10-12T10:39:17.9829648Z     at java.net.URLClassLoader$1.run (URLClassLoader.java:458)\r\n2023-10-12T10:39:17.9831550Z     at java.net.URLClassLoader$1.run (URLClassLoader.java:452)\r\n2023-10-12T10:39:17.9833326Z     at java.security.AccessController.doPrivileged (Native Method)\r\n2023-10-12T10:39:17.9835504Z     at java.net.URLClassLoader.findClass (URLClassLoader.java:451)\r\n2023-10-12T10:39:17.9837376Z     at java.lang.ClassLoader.loadClass (ClassLoader.java:594)\r\n2023-10-12T10:39:17.9839129Z     at java.lang.ClassLoader.loadClass (ClassLoader.java:527)\r\n2023-10-12T10:39:17.9840848Z     at org.apache.beam.runners.dataflow.DataflowPipelineRegistrar$Options.getPipelineOptions (DataflowPipelineRegistrar.java:40)\r\n2023-10-12T10:39:17.9846061Z     at org.apache.beam.sdk.options.PipelineOptionsFactory$Cache.initializeRegistry (PipelineOptionsFactory.java:2090)\r\n2023-10-12T10:39:17.9847894Z     at org.apache.beam.sdk.options.PipelineOptionsFactory$Cache.&lt;init&gt; (PipelineOptionsFactory.java:2083)\r\n2023-10-12T10:39:17.9849601Z     at org.apache.beam.sdk.options.PipelineOptionsFactory$Cache.&lt;init&gt; (PipelineOptionsFactory.java:2047)\r\n2023-10-12T10:39:17.9851239Z     at org.apache.beam.sdk.options.PipelineOptionsFactory.resetCache (PipelineOptionsFactory.java:581)\r\n2023-10-12T10:39:17.9852896Z     at org.apache.beam.sdk.options.PipelineOptionsFactory.&lt;clinit&gt; (PipelineOptionsFactory.java:547)\r\n2023-10-12T10:39:17.9854577Z     at cio.mmt.PubSubTopicsToBigQuery.main (PubSubTopicsToBigQuery.java:55)\r\n2023-10-12T10:39:17.9856188Z     at org.codehaus.mojo.exec.ExecJavaMojo$1.run (ExecJavaMojo.java:254)\r\n2023-10-12T10:39:17.9857817Z     at java.lang.Thread.run (Thread.java:829)\r\n2023-10-12T10:39:17.9885576Z [INFO] ------------------------------------------------------------------------\r\n2023-10-12T10:39:17.9885795Z [INFO] BUILD FAILURE\r\n2023-10-12T10:39:17.9886047Z [INFO] ------------------------------------------------------------------------\r\n2023-10-12T10:39:17.9886514Z [INFO] Total time:  8.555 s\r\n2023-10-12T10:39:17.9886767Z [INFO] Finished at: 2023-10-12T10:39:17Z\r\n2023-10-12T10:39:17.9887048Z [INFO] ------------------------------------------------------------------------\r\n2023-10-12T10:39:17.9934156Z [ERROR] Failed to execute goal org.codehaus.mojo:exec-maven-plugin:3.0.0:java (default-cli) on project bigquery: An exception occured while executing the Java class. org/apache/beam/sdk/options/MemoryMonitorOptions: org.apache.beam.sdk.options.MemoryMonitorOptions -&gt; [Help 1]\r\n\r\nUpdated the pom.xml file by removing - plugins.\r\nAlso update the Java class file to import only specific required class files. \r\n\r\nmvn compile exec should have completed successfully and staging location/template location should have the new class files compiled and generated.","title":"Apache beam v2.50.0 NoClassDefFound - /MemoryMonitorOptions","body":"<p>While updating the Apache Beam version from 2.46.0 to 2.50.0 for Java based Dataflow, the mvn package command runs successfully. However while executing the mvn compile:exec script - we are getting an error &quot;<strong>java.lang.NoClassDefFoundError: org/apache/beam/sdk/options/MemoryMonitorOptions</strong>&quot;</p>\n<p>No updates in pom file except for the update in Apache beam version -\n[WARNING]\n2023-10-12T10:39:17.9662373Z java.lang.NoClassDefFoundError: org/apache/beam/sdk/options/MemoryMonitorOptions\n2023-10-12T10:39:17.9665631Z     at java.lang.ClassLoader.defineClass1 (Native Method)\n2023-10-12T10:39:17.9668538Z     at java.lang.ClassLoader.defineClass (ClassLoader.java:1022)\n2023-10-12T10:39:17.9670605Z     at java.security.SecureClassLoader.defineClass (SecureClassLoader.java:174)\n2023-10-12T10:39:17.9672586Z     at java.net.URLClassLoader.defineClass (URLClassLoader.java:555)\n2023-10-12T10:39:17.9674516Z     at java.net.URLClassLoader$1.run (URLClassLoader.java:458)\n2023-10-12T10:39:17.9676939Z     at java.net.URLClassLoader$1.run (URLClassLoader.java:452)\n2023-10-12T10:39:17.9678816Z     at java.security.AccessController.doPrivileged (Native Method)\n2023-10-12T10:39:17.9690248Z     at java.net.URLClassLoader.findClass (URLClassLoader.java:451)\n2023-10-12T10:39:17.9692252Z     at java.lang.ClassLoader.loadClass (ClassLoader.java:594)\n2023-10-12T10:39:17.9694175Z     at java.lang.ClassLoader.loadClass (ClassLoader.java:527)\n2023-10-12T10:39:17.9696026Z     at java.lang.ClassLoader.defineClass1 (Native Method)\n2023-10-12T10:39:17.9699991Z     at java.lang.ClassLoader.defineClass (ClassLoader.java:1022)\n2023-10-12T10:39:17.9704965Z     at java.security.SecureClassLoader.defineClass (SecureClassLoader.java:174)\n2023-10-12T10:39:17.9706908Z     at java.net.URLClassLoader.defineClass (URLClassLoader.java:555)\n2023-10-12T10:39:17.9708814Z     at java.net.URLClassLoader$1.run (URLClassLoader.java:458)\n2023-10-12T10:39:17.9710696Z     at java.net.URLClassLoader$1.run (URLClassLoader.java:452)\n2023-10-12T10:39:17.9712552Z     at java.security.AccessController.doPrivileged (Native Method)\n2023-10-12T10:39:17.9714469Z     at java.net.URLClassLoader.findClass (URLClassLoader.java:451)\n2023-10-12T10:39:17.9716698Z     at java.lang.ClassLoader.loadClass (ClassLoader.java:594)\n2023-10-12T10:39:17.9718622Z     at java.lang.ClassLoader.loadClass (ClassLoader.java:527)\n2023-10-12T10:39:17.9720635Z     at org.apache.beam.runners.dataflow.DataflowPipelineRegistrar$Options.getPipelineOptions (DataflowPipelineRegistrar.java:40)\n2023-10-12T10:39:17.9722611Z     at org.apache.beam.sdk.options.PipelineOptionsFactory$Cache.initializeRegistry (PipelineOptionsFactory.java:2090)\n2023-10-12T10:39:17.9724487Z     at org.apache.beam.sdk.options.PipelineOptionsFactory$Cache. (PipelineOptionsFactory.java:2083)\n2023-10-12T10:39:17.9726421Z     at org.apache.beam.sdk.options.PipelineOptionsFactory$Cache. (PipelineOptionsFactory.java:2047)\n2023-10-12T10:39:17.9728327Z     at org.apache.beam.sdk.options.PipelineOptionsFactory.resetCache (PipelineOptionsFactory.java:581)\n2023-10-12T10:39:17.9730230Z     at org.apache.beam.sdk.options.PipelineOptionsFactory. (PipelineOptionsFactory.java:547)\n2023-10-12T10:39:17.9732113Z     at cio.mmt.PubSubTopicsToBigQuery.main (PubSubTopicsToBigQuery.java:55)\n2023-10-12T10:39:17.9734009Z     at org.codehaus.mojo.exec.ExecJavaMojo$1.run (ExecJavaMojo.java:254)\n2023-10-12T10:39:17.9743608Z     at java.lang.Thread.run (Thread.java:829)\n2023-10-12T10:39:17.9745720Z Caused by: java.lang.ClassNotFoundException: org.apache.beam.sdk.options.MemoryMonitorOptions\n2023-10-12T10:39:17.9748376Z     at java.net.URLClassLoader.findClass (URLClassLoader.java:476)\n2023-10-12T10:39:17.9750298Z     at java.lang.ClassLoader.loadClass (ClassLoader.java:594)\n2023-10-12T10:39:17.9752205Z     at java.lang.ClassLoader.loadClass (ClassLoader.java:527)\n2023-10-12T10:39:17.9754041Z     at java.lang.ClassLoader.defineClass1 (Native Method)\n2023-10-12T10:39:17.9756293Z     at java.lang.ClassLoader.defineClass (ClassLoader.java:1022)\n2023-10-12T10:39:17.9758225Z     at java.security.SecureClassLoader.defineClass (SecureClassLoader.java:174)\n2023-10-12T10:39:17.9760115Z     at java.net.URLClassLoader.defineClass (URLClassLoader.java:555)\n2023-10-12T10:39:17.9761982Z     at java.net.URLClassLoader$1.run (URLClassLoader.java:458)\n2023-10-12T10:39:17.9763915Z     at java.net.URLClassLoader$1.run (URLClassLoader.java:452)\n2023-10-12T10:39:17.9765721Z     at java.security.AccessController.doPrivileged (Native Method)\n2023-10-12T10:39:17.9767732Z     at java.net.URLClassLoader.findClass (URLClassLoader.java:451)\n2023-10-12T10:39:17.9769643Z     at java.lang.ClassLoader.loadClass (ClassLoader.java:594)\n2023-10-12T10:39:17.9771552Z     at java.lang.ClassLoader.loadClass (ClassLoader.java:527)\n2023-10-12T10:39:17.9821607Z     at java.lang.ClassLoader.defineClass1 (Native Method)\n2023-10-12T10:39:17.9824027Z     at java.lang.ClassLoader.defineClass (ClassLoader.java:1022)\n2023-10-12T10:39:17.9825945Z     at java.security.SecureClassLoader.defineClass (SecureClassLoader.java:174)\n2023-10-12T10:39:17.9827873Z     at java.net.URLClassLoader.defineClass (URLClassLoader.java:555)\n2023-10-12T10:39:17.9829648Z     at java.net.URLClassLoader$1.run (URLClassLoader.java:458)\n2023-10-12T10:39:17.9831550Z     at java.net.URLClassLoader$1.run (URLClassLoader.java:452)\n2023-10-12T10:39:17.9833326Z     at java.security.AccessController.doPrivileged (Native Method)\n2023-10-12T10:39:17.9835504Z     at java.net.URLClassLoader.findClass (URLClassLoader.java:451)\n2023-10-12T10:39:17.9837376Z     at java.lang.ClassLoader.loadClass (ClassLoader.java:594)\n2023-10-12T10:39:17.9839129Z     at java.lang.ClassLoader.loadClass (ClassLoader.java:527)\n2023-10-12T10:39:17.9840848Z     at org.apache.beam.runners.dataflow.DataflowPipelineRegistrar$Options.getPipelineOptions (DataflowPipelineRegistrar.java:40)\n2023-10-12T10:39:17.9846061Z     at org.apache.beam.sdk.options.PipelineOptionsFactory$Cache.initializeRegistry (PipelineOptionsFactory.java:2090)\n2023-10-12T10:39:17.9847894Z     at org.apache.beam.sdk.options.PipelineOptionsFactory$Cache. (PipelineOptionsFactory.java:2083)\n2023-10-12T10:39:17.9849601Z     at org.apache.beam.sdk.options.PipelineOptionsFactory$Cache. (PipelineOptionsFactory.java:2047)\n2023-10-12T10:39:17.9851239Z     at org.apache.beam.sdk.options.PipelineOptionsFactory.resetCache (PipelineOptionsFactory.java:581)\n2023-10-12T10:39:17.9852896Z     at org.apache.beam.sdk.options.PipelineOptionsFactory. (PipelineOptionsFactory.java:547)\n2023-10-12T10:39:17.9854577Z     at cio.mmt.PubSubTopicsToBigQuery.main (PubSubTopicsToBigQuery.java:55)\n2023-10-12T10:39:17.9856188Z     at org.codehaus.mojo.exec.ExecJavaMojo$1.run (ExecJavaMojo.java:254)\n2023-10-12T10:39:17.9857817Z     at java.lang.Thread.run (Thread.java:829)\n2023-10-12T10:39:17.9885576Z [INFO] ------------------------------------------------------------------------\n2023-10-12T10:39:17.9885795Z [INFO] BUILD FAILURE\n2023-10-12T10:39:17.9886047Z [INFO] ------------------------------------------------------------------------\n2023-10-12T10:39:17.9886514Z [INFO] Total time:  8.555 s\n2023-10-12T10:39:17.9886767Z [INFO] Finished at: 2023-10-12T10:39:17Z\n2023-10-12T10:39:17.9887048Z [INFO] ------------------------------------------------------------------------\n2023-10-12T10:39:17.9934156Z [ERROR] Failed to execute goal org.codehaus.mojo:exec-maven-plugin:3.0.0:java (default-cli) on project bigquery: An exception occured while executing the Java class. org/apache/beam/sdk/options/MemoryMonitorOptions: org.apache.beam.sdk.options.MemoryMonitorOptions -&gt; [Help 1]</p>\n<p>Updated the pom.xml file by removing - plugins.\nAlso update the Java class file to import only specific required class files.</p>\n<p>mvn compile exec should have completed successfully and staging location/template location should have the new class files compiled and generated.</p>\n"},{"tags":["java","visual-studio-code","javafx"],"comments":[{"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"score":0,"creation_date":1697613339,"post_id":77312145,"comment_id":136300231,"body_markdown":"https://openjfx.io/openjfx-docs/#IDE-VSCode, https://github.com/openjfx/samples/blob/master/IDE/VSCode/Non-Modular/Java/hellofx/.vscode/launch.json","body":"<a href=\"https://openjfx.io/openjfx-docs/#IDE-VSCode\" rel=\"nofollow noreferrer\">openjfx.io/openjfx-docs/#IDE-VSCode</a>, <a href=\"https://github.com/openjfx/samples/blob/master/IDE/VSCode/Non-Modular/Java/hellofx/.vscode/launch.json\" rel=\"nofollow noreferrer\">github.com/openjfx/samples/blob/master/IDE/VSCode/Non-Modula&zwnj;&#8203;r/&hellip;</a>"},{"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"score":0,"creation_date":1698284696,"post_id":77312145,"comment_id":136386931,"body_markdown":"May I know what&#39;s going on with the problem? If it has been solved, can you change the status of the answer to help more people with similar problems.","body":"May I know what&#39;s going on with the problem? If it has been solved, can you change the status of the answer to help more people with similar problems."}],"answers":[{"tags":[],"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697667081,"creation_date":1697581597,"answer_id":77312568,"question_id":77312145,"body_markdown":"Instructions for JavaFX and VS Code are in getting started at openjfx.io. \r\n\r\n * [Getting Started with JavaFX: JavaFX and Visual Studio Code.][1]\r\n\r\nYour `--module-path` is wrong. It should be:\r\n\r\n    --module-path \\&quot;C:\\\\Program Files\\\\Java\\\\javafx-sdk-17.0.9\\\\lib\\&quot;\r\n\r\nNote the addition of the JavaFX SDK `lib` directory to the path.  That is where the JavaFX modules actually are.\r\n\r\nAlso, I don&#39;t think `--add-modules` needs slashes in it.  I am not sure about that as the openjfx.io setup example is for a non-windows based example which may have different escape rules, but I think, for this one, you don&#39;t need to escape the comma, even on Windows.  I think the `--add-modules` argument should be:\r\n\r\n    --add-modules javafx.controls,javafx.fxml\r\n\r\n[Example setup at openjfx.io][2] unfortunately as an image ;-)\r\n\r\n[![enter image description here][3]][3]\r\n\r\nBut also I retyped it here as text, and it is also [available in the openjfx samples repository](https://github.com/openjfx/samples/blob/master/IDE/VSCode/Non-Modular/Java/hellofx/.vscode/launch.json):\r\n\r\n    {\r\n      &quot;version&quot;: &quot;0.2.0&quot;,\r\n      &quot;configurations&quot;: [\r\n        {\r\n          &quot;type&quot;: &quot;java&quot;,\r\n          &quot;name&quot;: &quot;Launch App&quot;,\r\n          &quot;request&quot;: &quot;launch&quot;,\r\n          &quot;mainClass&quot;: &quot;hellofx.Main&quot;,\r\n          &quot;vmArgs&quot;: &quot;--module-path /path/to/javafx-sdk-17/lib --add-modules javafx.controls,javafx.fxml&quot;,\r\n        }\r\n      ]\r\n    }\r\n\r\nThe example is from openjfx.io for a non-Windows style path, so if on Windows you need to adopt the path with escaping similar to the earlier examples in this answer.\r\n\r\n  [1]: https://openjfx.io/openjfx-docs/#IDE-VSCode\r\n  [2]: https://openjfx.io/openjfx-docs/images/ide/vscode/ide/vscode07.png\r\n  [3]: https://i.stack.imgur.com/7kQVP.png","title":"launch.json file for JavaFX is not working in VS Code","body":"<p>Instructions for JavaFX and VS Code are in getting started at openjfx.io.</p>\n<ul>\n<li><a href=\"https://openjfx.io/openjfx-docs/#IDE-VSCode\" rel=\"nofollow noreferrer\">Getting Started with JavaFX: JavaFX and Visual Studio Code.</a></li>\n</ul>\n<p>Your <code>--module-path</code> is wrong. It should be:</p>\n<pre><code>--module-path \\&quot;C:\\\\Program Files\\\\Java\\\\javafx-sdk-17.0.9\\\\lib\\&quot;\n</code></pre>\n<p>Note the addition of the JavaFX SDK <code>lib</code> directory to the path.  That is where the JavaFX modules actually are.</p>\n<p>Also, I don't think <code>--add-modules</code> needs slashes in it.  I am not sure about that as the openjfx.io setup example is for a non-windows based example which may have different escape rules, but I think, for this one, you don't need to escape the comma, even on Windows.  I think the <code>--add-modules</code> argument should be:</p>\n<pre><code>--add-modules javafx.controls,javafx.fxml\n</code></pre>\n<p><a href=\"https://openjfx.io/openjfx-docs/images/ide/vscode/ide/vscode07.png\" rel=\"nofollow noreferrer\">Example setup at openjfx.io</a> unfortunately as an image ;-)</p>\n<p><a href=\"https://i.stack.imgur.com/7kQVP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7kQVP.png\" alt=\"enter image description here\" /></a></p>\n<p>But also I retyped it here as text, and it is also <a href=\"https://github.com/openjfx/samples/blob/master/IDE/VSCode/Non-Modular/Java/hellofx/.vscode/launch.json\" rel=\"nofollow noreferrer\">available in the openjfx samples repository</a>:</p>\n<pre><code>{\n  &quot;version&quot;: &quot;0.2.0&quot;,\n  &quot;configurations&quot;: [\n    {\n      &quot;type&quot;: &quot;java&quot;,\n      &quot;name&quot;: &quot;Launch App&quot;,\n      &quot;request&quot;: &quot;launch&quot;,\n      &quot;mainClass&quot;: &quot;hellofx.Main&quot;,\n      &quot;vmArgs&quot;: &quot;--module-path /path/to/javafx-sdk-17/lib --add-modules javafx.controls,javafx.fxml&quot;,\n    }\n  ]\n}\n</code></pre>\n<p>The example is from openjfx.io for a non-Windows style path, so if on Windows you need to adopt the path with escaping similar to the earlier examples in this answer.</p>\n"}],"owner":{"account_id":29695130,"reputation":9,"user_id":22758593,"display_name":"coaster_dude22"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1697667081,"creation_date":1697575253,"question_id":77312145,"body_markdown":"I am running jdk17 with JavaFX sdk 17.0.9;\r\nI am trying to use JavaFX, and I have added my JAR files to the preferences, and I have also added this.\r\n\r\n    {\r\n    // Use IntelliSense to learn about possible attributes.\r\n    // Hover to view descriptions of existing attributes.\r\n    // For more information, visit: https://go.microsoft.com/fwlink/?linkid=830387\r\n    &quot;version&quot;: &quot;0.2.0&quot;,\r\n    &quot;configurations&quot;: [\r\n        {\r\n            &quot;type&quot;: &quot;java&quot;,\r\n            &quot;name&quot;: &quot;Current File&quot;,\r\n            &quot;request&quot;: &quot;launch&quot;,\r\n            &quot;mainClass&quot;: &quot;${file}&quot;\r\n        }\r\n        {\r\n            &quot;type&quot;: &quot;java&quot;,\r\n            &quot;name&quot;: &quot;App&quot;,\r\n            &quot;request&quot;: &quot;launch&quot;,\r\n            &quot;mainClass&quot;: &quot;App&quot;,\r\n            &quot;projectName&quot;: &quot;testfx_1e12e64c&quot;\r\n            &quot;vmArgs&quot;: &quot;--module-path \\&quot;C:\\\\Program Files\\\\Java\\\\javafx-sdk-17.0.9\\&quot; --add-modules javafx.controls\\\\,javafx.fxml&quot;,\r\n        }\r\n    ]\r\n    }\r\n\r\nHere is the code I am trying to run:\r\n\r\n```\r\nimport javafx.application.Application;\r\nimport javafx.fxml.FXML;\r\nimport javafx.fxml.FXMLLoader;\r\nimport javafx.scene.Parent;\r\nimport javafx.scene.Scene;\r\nimport javafx.stage.Stage;\r\n\r\npublic class App extends Application {\r\n     @Override\r\n     public void start(Stage primaryStage) throws Exception{\r\n        Parent root = FXMLLoader.load(getClass().getResource(&quot;testfx.fxml&quot;));\r\n        primaryStage.setTitle(&quot;Hello World&quot;);\r\n        primaryStage.setScene(new Scene(root, 400, 300));\r\n        primaryStage.show();\r\n     }\r\n\r\n     public static void main(String[] args) {\r\n        launch(args);\r\n     }\r\n}\r\n```\r\n\r\nI have tried moving my JavaFX folder to a place that does not contain spaces. I have also experimented with jdk 21 as well. \r\n","title":"launch.json file for JavaFX is not working in VS Code","body":"<p>I am running jdk17 with JavaFX sdk 17.0.9;\nI am trying to use JavaFX, and I have added my JAR files to the preferences, and I have also added this.</p>\n<pre><code>{\n// Use IntelliSense to learn about possible attributes.\n// Hover to view descriptions of existing attributes.\n// For more information, visit: https://go.microsoft.com/fwlink/?linkid=830387\n&quot;version&quot;: &quot;0.2.0&quot;,\n&quot;configurations&quot;: [\n    {\n        &quot;type&quot;: &quot;java&quot;,\n        &quot;name&quot;: &quot;Current File&quot;,\n        &quot;request&quot;: &quot;launch&quot;,\n        &quot;mainClass&quot;: &quot;${file}&quot;\n    }\n    {\n        &quot;type&quot;: &quot;java&quot;,\n        &quot;name&quot;: &quot;App&quot;,\n        &quot;request&quot;: &quot;launch&quot;,\n        &quot;mainClass&quot;: &quot;App&quot;,\n        &quot;projectName&quot;: &quot;testfx_1e12e64c&quot;\n        &quot;vmArgs&quot;: &quot;--module-path \\&quot;C:\\\\Program Files\\\\Java\\\\javafx-sdk-17.0.9\\&quot; --add-modules javafx.controls\\\\,javafx.fxml&quot;,\n    }\n]\n}\n</code></pre>\n<p>Here is the code I am trying to run:</p>\n<pre><code>import javafx.application.Application;\nimport javafx.fxml.FXML;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Parent;\nimport javafx.scene.Scene;\nimport javafx.stage.Stage;\n\npublic class App extends Application {\n     @Override\n     public void start(Stage primaryStage) throws Exception{\n        Parent root = FXMLLoader.load(getClass().getResource(&quot;testfx.fxml&quot;));\n        primaryStage.setTitle(&quot;Hello World&quot;);\n        primaryStage.setScene(new Scene(root, 400, 300));\n        primaryStage.show();\n     }\n\n     public static void main(String[] args) {\n        launch(args);\n     }\n}\n</code></pre>\n<p>I have tried moving my JavaFX folder to a place that does not contain spaces. I have also experimented with jdk 21 as well.</p>\n"},{"tags":["java","apache-spark"],"comments":[{"owner":{"account_id":4306834,"reputation":3887,"user_id":3519000,"accept_rate":80,"display_name":"lrnzcig"},"score":0,"creation_date":1509969330,"post_id":47136075,"comment_id":81222018,"body_markdown":"One option is to use an outer join; your query is frankly a bit difficult to read but I&#39;d say you should be able to transform it using joins. Good luck.","body":"One option is to use an outer join; your query is frankly a bit difficult to read but I&#39;d say you should be able to transform it using joins. Good luck."}],"answers":[{"tags":[],"owner":{"account_id":1732835,"reputation":164,"user_id":1586071,"display_name":"dgg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1509976981,"creation_date":1509976981,"answer_id":47138707,"question_id":47136075,"body_markdown":"The query *is* a bit hard to follow as written.  It&#39;s not clear (to me anyway) what your intentions are for the *stats* table since you don&#39;t select anything from it so I removed it.  Obviously I haven&#39;t tried this myself but at a glance, you might try something like this instead:\r\n\r\n    select\r\n        a.PTF_ID,\r\n        a.PTF_CODE,\r\n        a.SHARE_ID,\r\n        a.SHARE_CODE,\r\n        a.BENCH_ID,\r\n        a.BENCH_CODE,\r\n        a.L1_CALCULATION_DATE,\r\n        a.L1_BEGIN_DATE,\r\n        a.L1_END_DATE,\r\n        a.L1_RUNNING_DATE,\r\n        a.L1_FREQUENCY,\r\n        a.L1_CALCULATION_STEP,\r\n        a.L1_PERFORMANCE_CURRENCY,\r\n        a.L1_CONFIGURATION,\r\n        a.L1_VALUATION_SOURCE,\r\n        a.L1_NAV_VALUATION_TYPE,\r\n        a.L1_SETTING_REFERENCE_TYPE,\r\n        a.L1_SETTING_VALUATION_TYPE,\r\n        a.L1_SHARPE_RATIO_ANNUALIZED as VALUE,\r\n        b.ID_STATISTIC \r\n    from \r\n        PARQUETFILE a\r\n    inner join\r\n        PAIRRDD b\r\n    on\r\n        a.L1_NAV_VALUATION_TYPE = b.L1_NAV_VALUATION_TYPE and\r\n        a.L1_VALUATION_SOURCE = b.L1_VALUATION_SOURCE\r\n    left outer join (\r\n        select\r\n            e.PTF_ID\r\n        from\r\n            PAIRRDD d\r\n        inner join\r\n            PARQUETFILE e\r\n        on\r\n            d.L1_VALUATION_SOURCE = e.L1_VALUATION_SOURCE AND\r\n            d.L1_NAV_VALUATION_TYPE = e.L1_NAV_VALUATION_TYPE\r\n        where\r\n            b.L1_VALUATION_SOURCE = &#39;&#39;\r\n        ) x\r\n    on\r\n        a.PTF_ID = x.PTF_ID\r\n    where\r\n        b.L1_PERF = &#39;l1_sharpe_ratio_annualized&#39; or\r\n        x.PTF_ID is null","title":"SPARK SQL not in or NOT EXISTS","body":"<p>The query <em>is</em> a bit hard to follow as written.  It's not clear (to me anyway) what your intentions are for the <em>stats</em> table since you don't select anything from it so I removed it.  Obviously I haven't tried this myself but at a glance, you might try something like this instead:</p>\n\n<pre><code>select\n    a.PTF_ID,\n    a.PTF_CODE,\n    a.SHARE_ID,\n    a.SHARE_CODE,\n    a.BENCH_ID,\n    a.BENCH_CODE,\n    a.L1_CALCULATION_DATE,\n    a.L1_BEGIN_DATE,\n    a.L1_END_DATE,\n    a.L1_RUNNING_DATE,\n    a.L1_FREQUENCY,\n    a.L1_CALCULATION_STEP,\n    a.L1_PERFORMANCE_CURRENCY,\n    a.L1_CONFIGURATION,\n    a.L1_VALUATION_SOURCE,\n    a.L1_NAV_VALUATION_TYPE,\n    a.L1_SETTING_REFERENCE_TYPE,\n    a.L1_SETTING_VALUATION_TYPE,\n    a.L1_SHARPE_RATIO_ANNUALIZED as VALUE,\n    b.ID_STATISTIC \nfrom \n    PARQUETFILE a\ninner join\n    PAIRRDD b\non\n    a.L1_NAV_VALUATION_TYPE = b.L1_NAV_VALUATION_TYPE and\n    a.L1_VALUATION_SOURCE = b.L1_VALUATION_SOURCE\nleft outer join (\n    select\n        e.PTF_ID\n    from\n        PAIRRDD d\n    inner join\n        PARQUETFILE e\n    on\n        d.L1_VALUATION_SOURCE = e.L1_VALUATION_SOURCE AND\n        d.L1_NAV_VALUATION_TYPE = e.L1_NAV_VALUATION_TYPE\n    where\n        b.L1_VALUATION_SOURCE = ''\n    ) x\non\n    a.PTF_ID = x.PTF_ID\nwhere\n    b.L1_PERF = 'l1_sharpe_ratio_annualized' or\n    x.PTF_ID is null\n</code></pre>\n"}],"owner":{"account_id":11632593,"reputation":81,"user_id":8520155,"accept_rate":0,"display_name":"Ans8"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9928,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1697666510,"creation_date":1509968098,"question_id":47136075,"body_markdown":"I have a scenario where there are two sheets(csv). Created two tables for it. \r\nWhen there s a good data I could map it with a value( id statistic value) from the second table. If I have bad data I should map it with id statistic value again (but a different value). however, I&#39;m unable to use not exists in spark SQL. And I get the error below:\r\n\r\nmismatched input &#39;from&#39; expecting {&lt;EOF&gt;, &#39;WHERE&#39;, &#39;GROUP&#39;, &#39;ORDER&#39;, &#39;HAVING&#39;, &#39;LIMIT&#39;, &#39;LATERAL&#39;, &#39;WINDOW&#39;, &#39;UNION&#39;, &#39;EXCEPT&#39;, &#39;INTERSECT&#39;, &#39;SORT&#39;, &#39;CLUSTER&#39;, &#39;DISTRIBUTE&#39;}(line 1, pos 386)\r\n\r\n\r\n\r\n\tat org.apache.spark.sql.catalyst.parser.ParseException.withCommand(ParseDriver.scala:197)\r\n\tat org.apache.spark.sql.catalyst.parser.AbstractSqlParser.parse(ParseDriver.scala:99)\r\n\tat org.apache.spark.sql.execution.SparkSqlParser.parse(SparkSqlParser.scala:45)\r\n\r\n\r\n\r\n________________________________________________\r\n\r\n\r\n\r\nCODE:\r\n\r\n    select\r\n      a.ptf_id,a.ptf_code,a.share_id,a.share_code,a.bench_id,a.bench_code\r\n      , a.l1_calculation_date,a.l1_begin_date,a.l1_end_date,a.l1_running_date\r\n      , a.l1_frequency,a.l1_calculation_step,a.l1_performance_currency\r\n      , a.l1_configuration,a.l1_valuation_source,a.l1_nav_valuation_type\r\n      , a.l1_setting_reference_type, a.l1_setting_valuation_type\r\n      , a.l1_sharpe_ratio_annualized as value,b.id_statistic \r\n    from \r\n      parquetFile a, \r\n      pairRDD b, \r\n      stats c \r\n    where\r\n      a.l1_nav_valuation_type= b.l1_nav_valuation_type \r\n      and a.l1_valuation_source = b.l1_valuation_source\r\n      and b.l1_Perf = &#39;l1_sharpe_ratio_annualized&#39; \r\n      OR (a.ptf_id not EXISTS (\r\n           select e.ptf_id from pairRDD d, parquetFile e \r\n           where d.l1_valuation_source = e.l1_valuation_source \r\n           AND d.l1_nav_valuation_type = e.l1_nav_valuation_type) \r\n      and b.l1_valuation_source =&#39;&#39;)\r\n\r\nthis query works in SQL if I use &quot;NOT in&quot;\r\nplease help me on what other options to use in this scenario other than not exists.\r\n","title":"SPARK SQL not in or NOT EXISTS","body":"<p>I have a scenario where there are two sheets(csv). Created two tables for it. \nWhen there s a good data I could map it with a value( id statistic value) from the second table. If I have bad data I should map it with id statistic value again (but a different value). however, I'm unable to use not exists in spark SQL. And I get the error below:</p>\n\n<p>mismatched input 'from' expecting {, 'WHERE', 'GROUP', 'ORDER', 'HAVING', 'LIMIT', 'LATERAL', 'WINDOW', 'UNION', 'EXCEPT', 'INTERSECT', 'SORT', 'CLUSTER', 'DISTRIBUTE'}(line 1, pos 386)</p>\n\n<pre><code>at org.apache.spark.sql.catalyst.parser.ParseException.withCommand(ParseDriver.scala:197)\nat org.apache.spark.sql.catalyst.parser.AbstractSqlParser.parse(ParseDriver.scala:99)\nat org.apache.spark.sql.execution.SparkSqlParser.parse(SparkSqlParser.scala:45)\n</code></pre>\n\n<hr>\n\n<p>CODE:</p>\n\n<pre><code>select\n  a.ptf_id,a.ptf_code,a.share_id,a.share_code,a.bench_id,a.bench_code\n  , a.l1_calculation_date,a.l1_begin_date,a.l1_end_date,a.l1_running_date\n  , a.l1_frequency,a.l1_calculation_step,a.l1_performance_currency\n  , a.l1_configuration,a.l1_valuation_source,a.l1_nav_valuation_type\n  , a.l1_setting_reference_type, a.l1_setting_valuation_type\n  , a.l1_sharpe_ratio_annualized as value,b.id_statistic \nfrom \n  parquetFile a, \n  pairRDD b, \n  stats c \nwhere\n  a.l1_nav_valuation_type= b.l1_nav_valuation_type \n  and a.l1_valuation_source = b.l1_valuation_source\n  and b.l1_Perf = 'l1_sharpe_ratio_annualized' \n  OR (a.ptf_id not EXISTS (\n       select e.ptf_id from pairRDD d, parquetFile e \n       where d.l1_valuation_source = e.l1_valuation_source \n       AND d.l1_nav_valuation_type = e.l1_nav_valuation_type) \n  and b.l1_valuation_source ='')\n</code></pre>\n\n<p>this query works in SQL if I use \"NOT in\"\nplease help me on what other options to use in this scenario other than not exists.</p>\n"},{"tags":["java","arraylist"],"comments":[{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1599597060,"post_id":63801110,"comment_id":112820926,"body_markdown":"Do you mean &quot;remove **letters**&quot;? --- Quoting Wikipedia: *&quot;An **alphabet** is a standardized set of basic written symbols or graphemes (called letters)&quot;*, e.g. `A` is a letter, and `R` is a letter. The whole set of 26 letters is (one example of) an alphabet.","body":"Do you mean &quot;remove <b>letters</b>&quot;? --- Quoting Wikipedia: <i>&quot;An <b>alphabet</b> is a standardized set of basic written symbols or graphemes (called letters)&quot;</i>, e.g. <code>A</code> is a letter, and <code>R</code> is a letter. The whole set of 26 letters is (one example of) an alphabet."},{"owner":{"account_id":19471677,"reputation":9,"user_id":14243900,"display_name":"Not so pro cod3r"},"score":0,"creation_date":1599597256,"post_id":63801110,"comment_id":112820988,"body_markdown":"yes that is what i mean","body":"yes that is what i mean"},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1599600183,"post_id":63801110,"comment_id":112822101,"body_markdown":"Then you should **edit** the question and clarify your meaning.","body":"Then you should <b>edit</b> the question and clarify your meaning."}],"answers":[{"tags":[],"owner":{"account_id":102965,"reputation":415230,"user_id":276052,"accept_rate":80,"display_name":"aioobe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1599598259,"creation_date":1599597932,"answer_id":63801324,"question_id":63801110,"body_markdown":"Change\r\n\r\n    Alpabets.remove(word.charAt(i));\r\n\r\nto\r\n\r\n    Alpabets.remove((Object) word.charAt(i));\r\n\r\nThe issue is that `List.remove` has two implementations (it&#39;s an overloaded method):\r\n\r\n- One implementation that takes an index as argument: [`List.remove(int index)`](https://docs.oracle.com/javase/8/docs/api/java/util/List.html#remove-int-) (&quot;remove the 5th element from the list&quot;)\r\n\r\n- One that removes an actual object from the list [`List.remove(Object o)`](https://docs.oracle.com/javase/8/docs/api/java/util/List.html#remove-java.lang.Object-) (&quot;remove the number 5 from the list).\r\n\r\nBy calling using `Alpabets.remove(word.charAt(i));` you&#39;re accidentally invoking the one that takes an index, and if you give it a &quot;large enough&quot; character (characters can be seen as numerical values in Java), you&#39;ll hit an index out of bounds in the remove method.\r\n\r\nBy casting the argument to `Object`, you force the correct method to be called.","title":"Removing the characters from a arraylist holding the alphabets based on the characters that appear in users input","body":"<p>Change</p>\n<pre><code>Alpabets.remove(word.charAt(i));\n</code></pre>\n<p>to</p>\n<pre><code>Alpabets.remove((Object) word.charAt(i));\n</code></pre>\n<p>The issue is that <code>List.remove</code> has two implementations (it's an overloaded method):</p>\n<ul>\n<li><p>One implementation that takes an index as argument: <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/List.html#remove-int-\" rel=\"nofollow noreferrer\"><code>List.remove(int index)</code></a> (&quot;remove the 5th element from the list&quot;)</p>\n</li>\n<li><p>One that removes an actual object from the list <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/List.html#remove-java.lang.Object-\" rel=\"nofollow noreferrer\"><code>List.remove(Object o)</code></a> (&quot;remove the number 5 from the list).</p>\n</li>\n</ul>\n<p>By calling using <code>Alpabets.remove(word.charAt(i));</code> you're accidentally invoking the one that takes an index, and if you give it a &quot;large enough&quot; character (characters can be seen as numerical values in Java), you'll hit an index out of bounds in the remove method.</p>\n<p>By casting the argument to <code>Object</code>, you force the correct method to be called.</p>\n"},{"tags":[],"owner":{"account_id":22598908,"reputation":1,"user_id":16780771,"display_name":"Natarajan Kuppan"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1697665765,"creation_date":1630257823,"answer_id":68975337,"question_id":63801110,"body_markdown":"Maybe you can also use mapping a key and a value and remove based on user input.\r\n","title":"Removing the characters from a arraylist holding the alphabets based on the characters that appear in users input","body":"<p>Maybe you can also use mapping a key and a value and remove based on user input.</p>\n"}],"owner":{"account_id":19471677,"reputation":9,"user_id":14243900,"display_name":"Not so pro cod3r"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":97,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1697665765,"creation_date":1599596734,"question_id":63801110,"body_markdown":"I&#39;m doing a project were I need to remove letters systematically from an `ArrayList` as they show up in the words that the user puts in. Then all the remaining characters are displayed and then the elimination process continues until only vowels are left.\r\n\r\nI can’t seem to get it to eliminate the characters without the program crashing.\r\n\r\nHere&#39;s the problematic code:\r\n\r\n```java\r\npublic static void Mapper(){\r\n    Scanner make = new Scanner(System.in);\r\n\r\n    char Aphabets[] ={&#39;A&#39;,&#39;B&#39;,&#39;C&#39;,&#39;D&#39;,&#39;E&#39;,&#39;F&#39;,&#39;G&#39;,&#39;H&#39;,&#39;I&#39;,&#39;J&#39;,&#39;K&#39;,&#39;L&#39;,&#39;M&#39;,&#39;N&#39;,&#39;O&#39;,&#39;P&#39;,&#39;Q&#39;,&#39;R&#39;,&#39;S&#39;,&#39;T&#39;,&#39;U&#39;,&#39;V&#39;,&#39;W&#39;,&#39;X&#39;,&#39;Y&#39;,&#39;Z&#39;};\r\n    ArrayList&lt;Character&gt; Alpabets = new ArrayList&lt;&gt;();\r\n    String word = make.nextLine();\r\n    for (int i = 0; i &lt; Aphabets.length; i++) {\r\n        Alpabets. add(i,Aphabets[i]);\r\n    }\r\n    for (int i = 0; i &lt; word.length(); i++) {\r\n        Alpabets.remove(word.charAt(i));\r\n    }\r\n    System.out.println(Alpabets);\r\n}\r\n```\r\n\r\n\r\n","title":"Removing the characters from a arraylist holding the alphabets based on the characters that appear in users input","body":"<p>I'm doing a project were I need to remove letters systematically from an <code>ArrayList</code> as they show up in the words that the user puts in. Then all the remaining characters are displayed and then the elimination process continues until only vowels are left.</p>\n<p>I can’t seem to get it to eliminate the characters without the program crashing.</p>\n<p>Here's the problematic code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void Mapper(){\n    Scanner make = new Scanner(System.in);\n\n    char Aphabets[] ={'A','B','C','D','E','F','G','H','I','J','K','L','M','N','O','P','Q','R','S','T','U','V','W','X','Y','Z'};\n    ArrayList&lt;Character&gt; Alpabets = new ArrayList&lt;&gt;();\n    String word = make.nextLine();\n    for (int i = 0; i &lt; Aphabets.length; i++) {\n        Alpabets. add(i,Aphabets[i]);\n    }\n    for (int i = 0; i &lt; word.length(); i++) {\n        Alpabets.remove(word.charAt(i));\n    }\n    System.out.println(Alpabets);\n}\n</code></pre>\n"},{"tags":["java","arrays","bash","maven"],"comments":[{"owner":{"account_id":3377022,"reputation":11135,"user_id":2834978,"display_name":"LMC"},"score":1,"creation_date":1697320506,"post_id":77294556,"comment_id":136265823,"body_markdown":"you can check array length first `echo ${#array[@]}` or just grep out the empty string `joined=$(printf &quot; &#39;%s&#39;&quot; &quot;${array[@]}&quot; | grep -v &quot;&#39;&#39;&quot;)`","body":"you can check array length first <code>echo ${#array[@]}</code> or just grep out the empty string <code>joined=$(printf &quot; &#39;%s&#39;&quot; &quot;${array[@]}&quot; | grep -v &quot;&#39;&#39;&quot;)</code>"},{"owner":{"account_id":3377022,"reputation":11135,"user_id":2834978,"display_name":"LMC"},"score":0,"creation_date":1697322948,"post_id":77294556,"comment_id":136265990,"body_markdown":"May be not better but one-liners are cute lol `result=$([ &quot;${#array[@]}&quot; -gt 0 ] &amp;&amp; for a in &quot;${array[@]}&quot;; do joined+=&quot; &#39;$a&#39;&quot;;done; echo -n &quot;${joined:1}&quot;)\n`","body":"May be not better but one-liners are cute lol <code>result=$([ &quot;${#array[@]}&quot; -gt 0 ] &amp;&amp; for a in &quot;${array[@]}&quot;; do joined+=&quot; &#39;$a&#39;&quot;;done; echo -n &quot;${joined:1}&quot;) </code>"}],"answers":[{"tags":[],"owner":{"account_id":2435703,"reputation":21468,"user_id":2125671,"display_name":"Philippe"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1697378107,"creation_date":1697320163,"answer_id":77294609,"question_id":77294556,"body_markdown":"You can use `@Q` operator ([shell parameter expansion - @operator](https://www.gnu.org/software/bash/manual/html_node/Shell-Parameter-Expansion.html)):\r\n\r\n```\r\narray=(&quot;test&quot; &quot;foo bar&quot;)\r\nresult=&quot;${array[*]@Q}&quot;\r\nmvn exec:java -Dexec.mainClass=&quot;org.example.Main&quot; -Dexec.args=&quot;$result&quot;\r\n```\r\n\r\nIf both single/double quotes can appear in the array, consider this :\r\n\r\n```\r\narray=(&quot;foo&#39;bar&quot; &#39;foo&quot;bar&#39;)\r\n\r\nmapfile -t array2 &lt; &lt;(perl -e &#39;\r\n    for $_ (@ARGV) {\r\n        $q = /&quot;/ ? &quot;&#39;\\&#39;&#39;&quot; : q[&quot;];\r\n        print &quot;$q$_$q\\n&quot;;\r\n    }&#39; &quot;${array[@]}&quot;)\r\n\r\nresult=&quot;${array2[*]}&quot;\r\n```\r\n\r\nThis assumes that only one type of quotes can appear in a single item of the array though.","title":"Bash single-quote elements of array and concatenate using space","body":"<p>You can use <code>@Q</code> operator (<a href=\"https://www.gnu.org/software/bash/manual/html_node/Shell-Parameter-Expansion.html\" rel=\"nofollow noreferrer\">shell parameter expansion - @operator</a>):</p>\n<pre><code>array=(&quot;test&quot; &quot;foo bar&quot;)\nresult=&quot;${array[*]@Q}&quot;\nmvn exec:java -Dexec.mainClass=&quot;org.example.Main&quot; -Dexec.args=&quot;$result&quot;\n</code></pre>\n<p>If both single/double quotes can appear in the array, consider this :</p>\n<pre><code>array=(&quot;foo'bar&quot; 'foo&quot;bar')\n\nmapfile -t array2 &lt; &lt;(perl -e '\n    for $_ (@ARGV) {\n        $q = /&quot;/ ? &quot;'\\''&quot; : q[&quot;];\n        print &quot;$q$_$q\\n&quot;;\n    }' &quot;${array[@]}&quot;)\n\nresult=&quot;${array2[*]}&quot;\n</code></pre>\n<p>This assumes that only one type of quotes can appear in a single item of the array though.</p>\n"},{"tags":[],"owner":{"account_id":2389551,"reputation":40441,"user_id":2089675,"accept_rate":80,"display_name":"smac89"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697323751,"creation_date":1697322286,"answer_id":77294692,"question_id":77294556,"body_markdown":"Try this (using [`readarray`][1]):\r\n\r\n```sh\r\narray=(&quot;test&quot; &quot;foo bar&quot;)\r\nreadarray -t joined &lt; &lt;(printf &quot;&#39;%s&#39;\\n&quot; &quot;${array[@]}&quot;)\r\n```\r\n\r\nIf you want the array elements to be shell-escaped, use `%q` instead of `%s`\r\n\r\nThe result:\r\n```console\r\n➜ echo ${joined[@]}\r\n&#39;test&#39; &#39;foo bar&#39;\r\n```\r\n\r\nAnother example:\r\n\r\n```console\r\n➜ array=(&quot;foo&#39;bar&quot;)\r\n➜ readarray -t joined &lt; &lt;(printf &quot;&#39;%s&#39;\\n&quot; &quot;${array[@]}&quot;)\r\n➜ echo ${joined[@]}\r\n&#39;foo&#39;bar&#39;\r\n```\r\n\r\n  [1]: https://helpmanual.io/builtin/readarray/","title":"Bash single-quote elements of array and concatenate using space","body":"<p>Try this (using <a href=\"https://helpmanual.io/builtin/readarray/\" rel=\"nofollow noreferrer\"><code>readarray</code></a>):</p>\n<pre class=\"lang-bash prettyprint-override\"><code>array=(&quot;test&quot; &quot;foo bar&quot;)\nreadarray -t joined &lt; &lt;(printf &quot;'%s'\\n&quot; &quot;${array[@]}&quot;)\n</code></pre>\n<p>If you want the array elements to be shell-escaped, use <code>%q</code> instead of <code>%s</code></p>\n<p>The result:</p>\n<pre><code>➜ echo ${joined[@]}\n'test' 'foo bar'\n</code></pre>\n<p>Another example:</p>\n<pre><code>➜ array=(&quot;foo'bar&quot;)\n➜ readarray -t joined &lt; &lt;(printf &quot;'%s'\\n&quot; &quot;${array[@]}&quot;)\n➜ echo ${joined[@]}\n'foo'bar'\n</code></pre>\n"}],"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":121,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":77294609,"answer_count":2,"score":2,"last_activity_date":1697665548,"creation_date":1697318644,"question_id":77294556,"body_markdown":"I have an array in Bash that may be empty. I need to convert the array to a single string, placing a single quote around each element, and separating the elements with a single space. For example:\r\n\r\n* `()`: `&quot;&quot;`\r\n* `(&quot;test&quot;)`: `&quot;&#39;test&#39;&quot;`\r\n* `(&quot;foo bar&quot;)`: `&quot;&#39;foo bar&#39;&quot;`\r\n* `(&quot;test&quot; &quot;foo bar&quot;)`: `&quot;&#39;test&#39; &#39;foo bar&#39;&quot;`\r\n\r\nAssume my array is in `$array`, and I put the result in `$result`. I&#39;m wanting to pass the result as arguments to [Maven `exec:java` `exec.args`][1], like this:\r\n\r\n```bash\r\narray=(&quot;test&quot; &quot;foo bar&quot;)\r\nresult= # TODO\r\nmvn exec:java -Dexec.mainClass=&quot;org.example.Main&quot; -Dexec.args=&quot;$result&quot;\r\n```\r\n\r\nThis would be equivalent to:\r\n\r\n```bash\r\nmvn exec:java -Dexec.mainClass=&quot;org.example.Main&quot; -Dexec.args=&quot;&#39;test&#39; &#39;foo bar&#39;&quot;\r\n```\r\n\r\nImportantly, note that if the array is empty, it would be equivalent to:\r\n\r\n```bash\r\nmvn exec:java -Dexec.mainClass=&quot;org.example.Main&quot; -Dexec.args=&quot;&quot;\r\n```\r\n\r\nI would have thought that this would have been answered two decades ago—and maybe it has been, but I can&#39;t find it. I found https://stackoverflow.com/q/50185415, which has no answer. I found various answers relating to joining with a delimiter, but couldn&#39;t find anything that would single-quote each element, join with a delimiter, _and_ still produce an empty string if the array is empty.\r\n\r\nFor example, https://stackoverflow.com/q/45796762 comes very close:\r\n\r\n```bash\r\narray=(&quot;test&quot; &quot;foo bar&quot;)\r\njoined=$(printf &quot; &#39;%s&#39;&quot; &quot;${array[@]}&quot;)\r\nresult=&quot;${joined:1}&quot;\r\nmvn exec:java -Dexec.mainClass=&quot;org.example.Main&quot; -Dexec.args=&quot;$result&quot;\r\n```\r\n\r\nBut if the array is empty, I get `&quot;&#39;&#39;&quot;` when I want `&quot;&quot;`. _Update:_ I guess I can do an old-fashioned `if` to special-case an empty array. Anyone have anything better?\r\n\r\n  [1]: https://www.mojohaus.org/exec-maven-plugin/java-mojo.html#commandlineArgs","title":"Bash single-quote elements of array and concatenate using space","body":"<p>I have an array in Bash that may be empty. I need to convert the array to a single string, placing a single quote around each element, and separating the elements with a single space. For example:</p>\n<ul>\n<li><code>()</code>: <code>&quot;&quot;</code></li>\n<li><code>(&quot;test&quot;)</code>: <code>&quot;'test'&quot;</code></li>\n<li><code>(&quot;foo bar&quot;)</code>: <code>&quot;'foo bar'&quot;</code></li>\n<li><code>(&quot;test&quot; &quot;foo bar&quot;)</code>: <code>&quot;'test' 'foo bar'&quot;</code></li>\n</ul>\n<p>Assume my array is in <code>$array</code>, and I put the result in <code>$result</code>. I'm wanting to pass the result as arguments to <a href=\"https://www.mojohaus.org/exec-maven-plugin/java-mojo.html#commandlineArgs\" rel=\"nofollow noreferrer\">Maven <code>exec:java</code> <code>exec.args</code></a>, like this:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>array=(&quot;test&quot; &quot;foo bar&quot;)\nresult= # TODO\nmvn exec:java -Dexec.mainClass=&quot;org.example.Main&quot; -Dexec.args=&quot;$result&quot;\n</code></pre>\n<p>This would be equivalent to:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>mvn exec:java -Dexec.mainClass=&quot;org.example.Main&quot; -Dexec.args=&quot;'test' 'foo bar'&quot;\n</code></pre>\n<p>Importantly, note that if the array is empty, it would be equivalent to:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>mvn exec:java -Dexec.mainClass=&quot;org.example.Main&quot; -Dexec.args=&quot;&quot;\n</code></pre>\n<p>I would have thought that this would have been answered two decades ago—and maybe it has been, but I can't find it. I found <a href=\"https://stackoverflow.com/q/50185415\">Bash script pass arguments to maven</a>, which has no answer. I found various answers relating to joining with a delimiter, but couldn't find anything that would single-quote each element, join with a delimiter, <em>and</em> still produce an empty string if the array is empty.</p>\n<p>For example, <a href=\"https://stackoverflow.com/q/45796762\">Concat array elements with comma and single quote - Bash</a> comes very close:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>array=(&quot;test&quot; &quot;foo bar&quot;)\njoined=$(printf &quot; '%s'&quot; &quot;${array[@]}&quot;)\nresult=&quot;${joined:1}&quot;\nmvn exec:java -Dexec.mainClass=&quot;org.example.Main&quot; -Dexec.args=&quot;$result&quot;\n</code></pre>\n<p>But if the array is empty, I get <code>&quot;''&quot;</code> when I want <code>&quot;&quot;</code>. <em>Update:</em> I guess I can do an old-fashioned <code>if</code> to special-case an empty array. Anyone have anything better?</p>\n"},{"tags":["java","private","public","protected","access-modifiers"],"comments":[{"owner":{"account_id":438783,"reputation":6771,"user_id":827280,"accept_rate":93,"display_name":"Museful"},"score":189,"creation_date":1360749413,"post_id":215497,"comment_id":20813700,"body_markdown":"`private` hides from other classes within the package. `public` exposes to classes outside the package. `protected` is a version of `public` restricted only to subclasses.","body":"<code>private</code> hides from other classes within the package. <code>public</code> exposes to classes outside the package. <code>protected</code> is a version of <code>public</code> restricted only to subclasses."},{"owner":{"account_id":2043438,"reputation":1859,"user_id":1824094,"accept_rate":20,"display_name":"Nicolas Barbulesco"},"score":108,"creation_date":1377078709,"post_id":215497,"comment_id":26944600,"body_markdown":"@Tennenrishin&#160;—&#160;No&#160;; contrary to C++, in Java `protected` makes the method also accessible from the whole package. This stupidity in Java&#39;s visiblity model breaks the goal of `protected`.","body":"@Tennenrishin — No ; contrary to C++, in Java <code>protected</code> makes the method also accessible from the whole package. This stupidity in Java&#39;s visiblity model breaks the goal of <code>protected</code>."},{"owner":{"account_id":438783,"reputation":6771,"user_id":827280,"accept_rate":93,"display_name":"Museful"},"score":41,"creation_date":1394794776,"post_id":215497,"comment_id":34060988,"body_markdown":"@Nicolas It is accessible from the whole package, with or without `protected`. As an access *modifier*, all that `protected` does is to expose to subclasses outside the package.","body":"@Nicolas It is accessible from the whole package, with or without <code>protected</code>. As an access <i>modifier</i>, all that <code>protected</code> does is to expose to subclasses outside the package."},{"owner":{"account_id":69301,"reputation":10391,"user_id":201722,"accept_rate":95,"display_name":"luis.espinal"},"score":17,"creation_date":1396878338,"post_id":215497,"comment_id":34973464,"body_markdown":"@tennenrishin - well, that is what Nicolas said... and you are just repeating it now. What you originally said was that `protected` - and I quote - &#39;is a version of public restricted only to subclasses&#39; which is not true by your own admission since protected also allows access through the whole package (ergo, it does not **restrict** access to subclasses.)","body":"@tennenrishin - well, that is what Nicolas said... and you are just repeating it now. What you originally said was that <code>protected</code> - and I quote - &#39;is a version of public restricted only to subclasses&#39; which is not true by your own admission since protected also allows access through the whole package (ergo, it does not <b>restrict</b> access to subclasses.)"},{"owner":{"account_id":69301,"reputation":10391,"user_id":201722,"accept_rate":95,"display_name":"luis.espinal"},"score":14,"creation_date":1396878814,"post_id":215497,"comment_id":34973786,"body_markdown":"I also agree with Nicolas in that the protected access mode in Java is idiotic. What happened is that Java conflated horizontal (lattice) and vertical access restriction qualifiers. Default scope is a horizontal/lattice restriction with the lattice being the package. Public is another horizontal restriction where the lattice is the whole world. Private and (C++) protected are vertical. It would have been better if we had a cross-cut access, say, `protected-package` for the rare cases where we actually needed it, leaving `protected` to be equivalent to the C++ version of protected.","body":"I also agree with Nicolas in that the protected access mode in Java is idiotic. What happened is that Java conflated horizontal (lattice) and vertical access restriction qualifiers. Default scope is a horizontal/lattice restriction with the lattice being the package. Public is another horizontal restriction where the lattice is the whole world. Private and (C++) protected are vertical. It would have been better if we had a cross-cut access, say, <code>protected-package</code> for the rare cases where we actually needed it, leaving <code>protected</code> to be equivalent to the C++ version of protected."},{"owner":{"account_id":438783,"reputation":6771,"user_id":827280,"accept_rate":93,"display_name":"Museful"},"score":8,"creation_date":1422387828,"post_id":215497,"comment_id":44726481,"body_markdown":"@luis.espinal Then he was just repeating what the first comment had said. You cannot expose what is already visible, and saying that `protected` is a restricted exposer does not imply that it *hides* anything. Otherwise even &quot;`public` exposes to classes outside the package&quot; would suggest that `public` *hides* from classes inside the package.","body":"@luis.espinal Then he was just repeating what the first comment had said. You cannot expose what is already visible, and saying that <code>protected</code> is a restricted exposer does not imply that it <i>hides</i> anything. Otherwise even &quot;<code>public</code> exposes to classes outside the package&quot; would suggest that <code>public</code> <i>hides</i> from classes inside the package."},{"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"score":1,"creation_date":1441121282,"post_id":215497,"comment_id":52545081,"body_markdown":"The accepted answer is not incorrect, it&#39;s just incomplete and a mere copy+paste job from the external resource. @Mechanical snail&#39;s answer (http://stackoverflow.com/a/12401576/639520) is much better IMO.","body":"The accepted answer is not incorrect, it&#39;s just incomplete and a mere copy+paste job from the external resource. @Mechanical snail&#39;s answer (<a href=\"http://stackoverflow.com/a/12401576/639520\">stackoverflow.com/a/12401576/639520</a>) is much better IMO."},{"owner":{"account_id":19463,"reputation":41164,"user_id":45668,"accept_rate":88,"display_name":"Malcolm"},"score":3,"creation_date":1446741577,"post_id":215497,"comment_id":54879652,"body_markdown":"@NicolasBarbulesco Contrary to C++? C++ doesn&#39;t have packages, you cannot really make the method accessible to a number of classes unless you make each of them a friend of the class manually. If Java had no concept of packages, it would work exactly the same. Speaking of the stupidity, the code from the same package is supposed to come from the same developer anyway, so I don&#39;t really see a huge problem here.","body":"@NicolasBarbulesco Contrary to C++? C++ doesn&#39;t have packages, you cannot really make the method accessible to a number of classes unless you make each of them a friend of the class manually. If Java had no concept of packages, it would work exactly the same. Speaking of the stupidity, the code from the same package is supposed to come from the same developer anyway, so I don&#39;t really see a huge problem here."},{"owner":{"account_id":2043438,"reputation":1859,"user_id":1824094,"accept_rate":20,"display_name":"Nicolas Barbulesco"},"score":2,"creation_date":1448013742,"post_id":215497,"comment_id":55412871,"body_markdown":"@Malcolm - &quot;the code from the same package is supposed to come from the same developer anyway&quot; Who says that? Often, this is not the case.","body":"@Malcolm - &quot;the code from the same package is supposed to come from the same developer anyway&quot; Who says that? Often, this is not the case."},{"owner":{"account_id":3093339,"reputation":9944,"user_id":2619038,"accept_rate":100,"display_name":"NoName"},"score":2,"creation_date":1498207379,"post_id":215497,"comment_id":76416056,"body_markdown":"No one else noticed the joke that moderator Mystical `protected` this question to prevent *everyone* from answering?? Genius!","body":"No one else noticed the joke that moderator Mystical <code>protected</code> this question to prevent <i>everyone</i> from answering?? Genius!"},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":1,"creation_date":1652874229,"post_id":215497,"comment_id":127711104,"body_markdown":"I return to this page every few years, to see if the situation has improved.  The fact is that almost every answer on this page is slightly incorrect.  Currently, the only answer that correctly explains the differences between the various access modifiers is the answer of @Eng.Fouad, which is the 9th ranked answer on this page.  Don&#39;t let the thousands of upvotes fool you - the first 8 answers on this page (as of today) do not explain `protected` correctly.","body":"I return to this page every few years, to see if the situation has improved.  The fact is that almost every answer on this page is slightly incorrect.  Currently, the only answer that correctly explains the differences between the various access modifiers is the answer of @Eng.Fouad, which is the 9th ranked answer on this page.  Don&#39;t let the thousands of upvotes fool you - the first 8 answers on this page (as of today) do not explain <code>protected</code> correctly."}],"answers":[{"tags":[],"owner":{"account_id":7800,"reputation":83655,"user_id":13673,"accept_rate":100,"display_name":"David Segonds"},"down_vote_count":13,"up_vote_count":6347,"is_accepted":true,"score":6334,"last_activity_date":1613544299,"creation_date":1224359870,"answer_id":215505,"question_id":215497,"body_markdown":"[The official tutorial][1] may be of some use to you.\r\n\r\n----------------------------------------------------------------\r\n|               | Class | Package | Subclass&lt;br/&gt;(same pkg) | Subclass&lt;br/&gt;(diff pkg) | World  |\r\n|---------------|-------|---------|----------|----------|--------|\r\n| `public`      |   +   |    +    |    +     |     +    |   +    | \r\n| `protected`   |   +   |    +    |    +     |     +    |        | \r\n| _no modifier_ |   +   |    +    |    +     |          |        | \r\n| `private`     |   +   |         |          |          |        |\r\n\r\n\\+ : accessible&lt;br/&gt;\r\nblank : not accessible\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/java/javaOO/accesscontrol.html","title":"What is the difference between public, protected, package-private and private in Java?","body":"<p><a href=\"http://docs.oracle.com/javase/tutorial/java/javaOO/accesscontrol.html\" rel=\"noreferrer\">The official tutorial</a> may be of some use to you.</p>\n<hr />\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th></th>\n<th>Class</th>\n<th>Package</th>\n<th>Subclass<br/>(same pkg)</th>\n<th>Subclass<br/>(diff pkg)</th>\n<th>World</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>public</code></td>\n<td>+</td>\n<td>+</td>\n<td>+</td>\n<td>+</td>\n<td>+</td>\n</tr>\n<tr>\n<td><code>protected</code></td>\n<td>+</td>\n<td>+</td>\n<td>+</td>\n<td>+</td>\n<td></td>\n</tr>\n<tr>\n<td><em>no modifier</em></td>\n<td>+</td>\n<td>+</td>\n<td>+</td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td><code>private</code></td>\n<td>+</td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>+ : accessible<br/>\nblank : not accessible</p>\n"},{"tags":[],"owner":{"account_id":12348,"reputation":17081,"user_id":24243,"accept_rate":40,"display_name":"John Nilsson"},"down_vote_count":2,"up_vote_count":179,"is_accepted":false,"score":177,"last_activity_date":1532443518,"creation_date":1224360033,"answer_id":215509,"question_id":215497,"body_markdown":"Easy rule. Start with declaring everything private. And then progress towards the public as the needs arise and design warrants it.\r\n\r\nWhen exposing members ask yourself if you are exposing representation choices or abstraction choices. The first is something you want to avoid as it will introduce too many dependencies on the actual representation rather than on its observable behavior.\r\n\r\nAs a general rule I try to avoid overriding method implementations by subclassing; it&#39;s too easy to screw up the logic. Declare abstract protected methods if you intend for it to be overridden.\r\n\r\nAlso, use the @Override annotation when overriding to keep things from breaking when you refactor.","title":"What is the difference between public, protected, package-private and private in Java?","body":"<p>Easy rule. Start with declaring everything private. And then progress towards the public as the needs arise and design warrants it.</p>\n\n<p>When exposing members ask yourself if you are exposing representation choices or abstraction choices. The first is something you want to avoid as it will introduce too many dependencies on the actual representation rather than on its observable behavior.</p>\n\n<p>As a general rule I try to avoid overriding method implementations by subclassing; it's too easy to screw up the logic. Declare abstract protected methods if you intend for it to be overridden.</p>\n\n<p>Also, use the @Override annotation when overriding to keep things from breaking when you refactor.</p>\n"},{"tags":[],"owner":{"account_id":10759,"reputation":50070,"user_id":20471,"accept_rate":78,"display_name":"Joe Phillips"},"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1224360034,"creation_date":1224360034,"answer_id":215510,"question_id":215497,"body_markdown":"The difference can be found in the links already provided but which one to use usually comes down to the &quot;Principle of Least Knowledge&quot;. Only allow the least visibility that is needed.","title":"What is the difference between public, protected, package-private and private in Java?","body":"<p>The difference can be found in the links already provided but which one to use usually comes down to the \"Principle of Least Knowledge\". Only allow the least visibility that is needed.</p>\n"},{"tags":[],"owner":{"account_id":8210,"reputation":155085,"user_id":14660,"accept_rate":62,"display_name":"Schwern"},"down_vote_count":6,"up_vote_count":547,"is_accepted":false,"score":541,"last_activity_date":1639961613,"creation_date":1224364647,"answer_id":215579,"question_id":215497,"body_markdown":"(Caveat:  I am not a Java programmer, I am a Perl programmer.  Perl has no formal protections which is perhaps why I understand the problem so well :) )\r\n\r\nPrivate\r\n-------\r\n\r\nLike you&#39;d think, only the **class** in which it is declared can see it.\r\n\r\nPackage Private\r\n---------------\r\n\r\nIt can only be seen and used by the **package** in which it was declared.  This is the default in Java (which some see as a mistake).\r\n\r\nProtected\r\n---------\r\n\r\nPackage Private + can be seen by subclasses or package members.\r\n\r\nPublic\r\n------\r\n\r\nEveryone can see it.\r\n\r\n[Published][1]\r\n--------------\r\n\r\nVisible outside the code I control.  (While not Java syntax, it is important for this discussion).\r\n\r\nC++ defines an additional level called &quot;friend&quot; and the less you know about that the better.\r\n\r\n\r\nWhen should you use what?  The whole idea is encapsulation to hide information.  As much as possible you want to hide the detail of how something is done from your users.  Why?  Because then you can change them later and not break anybody&#39;s code.  This lets you optimize, refactor, redesign, and fix bugs without worrying that someone was using that code you just overhauled.\r\n\r\nSo, the rule of thumb is to make things only as visible as they have to be.  Start with private and only add more visibility as needed.  Only make public that which is necessary for the user to know, every detail you make public cramps your ability to redesign the system.\r\n\r\nIf you want users to be able to customize behaviors, rather than making internals public so they can override them, it&#39;s often a better idea to shove those guts into an object and make that interface public.  That way they can simply plug in a new object.  For example, if you were writing a CD player and wanted the &quot;go find info about this CD&quot; bit customizable, rather than make those methods public you&#39;d put all that functionality into its object and make just your object getter/setter public.  In this way being stingy about exposing your guts encourages good composition and separation of concerns\r\n\r\nI stick with just &quot;private&quot; and &quot;public&quot;.  Many OO languages just have that.  &quot;Protected&quot; can be handy, but it&#39;s a cheat.  Once an interface is more than private it&#39;s outside of your control and you have to go looking in other people&#39;s code to find uses.\r\n\r\nThis is where the idea of &quot;published&quot; comes in.  Changing an interface (refactoring it) requires that you find all the code which is using it and change that, too.  If the interface is private, well no problem.  If it&#39;s protected you have to go find all your subclasses.  If it&#39;s public you have to go find all the code which uses your code.  Sometimes this is possible, for example, if you&#39;re working on corporate code that&#39;s for internal use only it doesn&#39;t matter if an interface is public.  You can grab all the code out of the corporate repository.  But if an interface is &quot;published&quot;, if there is code using it outside your control, then you&#39;re hosed.  You must support that interface or risk breaking code.  Even protected interfaces can be considered published (which is why I don&#39;t bother with protected).\r\n\r\nMany languages find the hierarchical nature of public/protected/private to be too limiting and not in line with reality.  To that end, there is the concept of a [trait class][2], but that&#39;s another show.\r\n\r\n\r\n  [1]: http://martinfowler.com/ieeeSoftware/published.pdf\r\n  [2]: http://en.wikipedia.org/wiki/Trait_class","title":"What is the difference between public, protected, package-private and private in Java?","body":"<p>(Caveat:  I am not a Java programmer, I am a Perl programmer.  Perl has no formal protections which is perhaps why I understand the problem so well :) )</p>\n<h2>Private</h2>\n<p>Like you'd think, only the <strong>class</strong> in which it is declared can see it.</p>\n<h2>Package Private</h2>\n<p>It can only be seen and used by the <strong>package</strong> in which it was declared.  This is the default in Java (which some see as a mistake).</p>\n<h2>Protected</h2>\n<p>Package Private + can be seen by subclasses or package members.</p>\n<h2>Public</h2>\n<p>Everyone can see it.</p>\n<h2><a href=\"http://martinfowler.com/ieeeSoftware/published.pdf\" rel=\"noreferrer\">Published</a></h2>\n<p>Visible outside the code I control.  (While not Java syntax, it is important for this discussion).</p>\n<p>C++ defines an additional level called &quot;friend&quot; and the less you know about that the better.</p>\n<p>When should you use what?  The whole idea is encapsulation to hide information.  As much as possible you want to hide the detail of how something is done from your users.  Why?  Because then you can change them later and not break anybody's code.  This lets you optimize, refactor, redesign, and fix bugs without worrying that someone was using that code you just overhauled.</p>\n<p>So, the rule of thumb is to make things only as visible as they have to be.  Start with private and only add more visibility as needed.  Only make public that which is necessary for the user to know, every detail you make public cramps your ability to redesign the system.</p>\n<p>If you want users to be able to customize behaviors, rather than making internals public so they can override them, it's often a better idea to shove those guts into an object and make that interface public.  That way they can simply plug in a new object.  For example, if you were writing a CD player and wanted the &quot;go find info about this CD&quot; bit customizable, rather than make those methods public you'd put all that functionality into its object and make just your object getter/setter public.  In this way being stingy about exposing your guts encourages good composition and separation of concerns</p>\n<p>I stick with just &quot;private&quot; and &quot;public&quot;.  Many OO languages just have that.  &quot;Protected&quot; can be handy, but it's a cheat.  Once an interface is more than private it's outside of your control and you have to go looking in other people's code to find uses.</p>\n<p>This is where the idea of &quot;published&quot; comes in.  Changing an interface (refactoring it) requires that you find all the code which is using it and change that, too.  If the interface is private, well no problem.  If it's protected you have to go find all your subclasses.  If it's public you have to go find all the code which uses your code.  Sometimes this is possible, for example, if you're working on corporate code that's for internal use only it doesn't matter if an interface is public.  You can grab all the code out of the corporate repository.  But if an interface is &quot;published&quot;, if there is code using it outside your control, then you're hosed.  You must support that interface or risk breaking code.  Even protected interfaces can be considered published (which is why I don't bother with protected).</p>\n<p>Many languages find the hierarchical nature of public/protected/private to be too limiting and not in line with reality.  To that end, there is the concept of a <a href=\"http://en.wikipedia.org/wiki/Trait_class\" rel=\"noreferrer\">trait class</a>, but that's another show.</p>\n"},{"tags":[],"owner":{"account_id":13054,"reputation":2642,"user_id":26010,"display_name":"Dov Wasserman"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1510438975,"creation_date":1224386287,"answer_id":215951,"question_id":215497,"body_markdown":"David&#39;s answer provides the meaning of each access modifier. As for when to use each, I&#39;d suggest making public all classes and the methods of each class that are meant for external use (its API), and everything else private.\r\n\r\nOver time you&#39;ll develop a sense for when to make some classes package-private and when to declare certain methods protected for use in subclasses.\r\n","title":"What is the difference between public, protected, package-private and private in Java?","body":"<p>David's answer provides the meaning of each access modifier. As for when to use each, I'd suggest making public all classes and the methods of each class that are meant for external use (its API), and everything else private.</p>\n\n<p>Over time you'll develop a sense for when to make some classes package-private and when to declare certain methods protected for use in subclasses.</p>\n"},{"tags":[],"owner":{"account_id":1085679,"reputation":508,"user_id":1081454,"display_name":"dameng"},"down_vote_count":1,"up_vote_count":12,"is_accepted":false,"score":11,"last_activity_date":1510439025,"creation_date":1331812430,"answer_id":9719131,"question_id":215497,"body_markdown":"[This page writes well about the protected &amp; default access modifier][1]\r\n\r\n....\r\nProtected: Protected access modifier is the a little tricky and you can say is a superset of the default access modifier. Protected members are same as the default members as far as the access in the same package is concerned. The difference is that, the protected members are also accessible to the subclasses of the class in which the member is declared which are outside the package in which the parent class is present.\r\n\r\nBut these protected members are “accessible outside the package only through inheritance“. i.e you can access a protected member of a class in its subclass present in some other package directly as if the member is present in the subclass itself. But that protected member will not be accessible in the subclass outside the package by using parent class’s reference. \r\n....\r\n\r\n  [1]: http://sanjusoftware.wordpress.com/2007/11/06/protected-and-default-java-keyword/\r\n\r\n","title":"What is the difference between public, protected, package-private and private in Java?","body":"<p><a href=\"http://sanjusoftware.wordpress.com/2007/11/06/protected-and-default-java-keyword/\" rel=\"nofollow noreferrer\">This page writes well about the protected &amp; default access modifier</a></p>\n\n<p>....\nProtected: Protected access modifier is the a little tricky and you can say is a superset of the default access modifier. Protected members are same as the default members as far as the access in the same package is concerned. The difference is that, the protected members are also accessible to the subclasses of the class in which the member is declared which are outside the package in which the parent class is present.</p>\n\n<p>But these protected members are “accessible outside the package only through inheritance“. i.e you can access a protected member of a class in its subclass present in some other package directly as if the member is present in the subclass itself. But that protected member will not be accessible in the subclass outside the package by using parent class’s reference. \n....</p>\n"},{"tags":[],"owner":{"account_id":124682,"reputation":30003,"user_id":319931,"accept_rate":75,"display_name":"Mechanical snail"},"down_vote_count":1,"up_vote_count":124,"is_accepted":false,"score":123,"last_activity_date":1347521932,"creation_date":1347521932,"answer_id":12401576,"question_id":215497,"body_markdown":"It&#39;s actually a bit more complicated than a simple grid shows. The grid tells you whether an access is allowed, but what exactly constitutes an access? Also, access levels interact with nested classes and inheritance in complex ways.\r\n\r\nThe &quot;default&quot; access (specified by the absence of a keyword) is also called [**package-private**](https://stackoverflow.com/questions/5416074/java-package-private-terminology). Exception: in an interface, no modifier means public access; modifiers other than public are forbidden. Enum constants are always public.\r\n\r\n## Summary\r\nIs an access to a member with this access specifier allowed?\r\n\r\n* Member is `private`: Only if member is defined within the same class as calling code.\r\n* Member is package private: Only if the calling code is within the member&#39;s immediately enclosing package.\r\n* Member is `protected`: Same package, or if member is defined in a superclass of the class containing the calling code.\r\n* Member is `public`: Yes.\r\n\r\n## What access specifiers apply to\r\n\r\nLocal variables and formal parameters cannot take access specifiers. Since they are inherently inaccessible to the outside according to scoping rules, they are effectively private.\r\n\r\nFor classes in the top scope, only `public` and package-private are permitted. This design choice is presumably because `protected` and `private` would be redundant at the package level (there is no inheritance of packages).\r\n\r\nAll the access specifiers are possible on class members (constructors, methods and static member functions, nested classes).\r\n\r\nRelated: https://stackoverflow.com/questions/267781/java-class-accessibility\r\n\r\n## Order\r\nThe access specifiers can be strictly ordered\r\n\r\n&gt; public &gt; protected &gt; package-private &gt; private\r\n\r\nmeaning that `public` provides the most access, `private` the least. Any reference possible on a private member is also valid for a package-private member; any reference to a package-private member is valid on a protected member, and so on. (Giving access to protected members to other classes in the same package was considered a mistake.)\r\n\r\n## Notes\r\n\r\n* [A class&#39;s methods *are* allowed to access private members of other objects of the same class.](https://stackoverflow.com/questions/676930/private-member-access-java) More precisely, a method of class C can access private members of C on objects of any subclass of C. Java doesn&#39;t support restricting access by instance, only by class. (Compare with Scala, which does support it using `private[this]`.)\r\n* You need access to a constructor to construct an object. Thus if all constructors are private, the class can only be constructed by code living within the class (typically static factory methods or static variable initializers). Similarly for package-private or protected constructors.\r\n  * Only having private constructors also means that the class cannot be subclassed externally, since Java requires a subclass&#39;s constructors to implicitly or explicitly call a superclass constructor. (It can, however, contain a nested class that subclasses it.)\r\n\r\n## Inner classes\r\nYou also have to consider *nested* scopes, such as inner classes. An example of the complexity is that inner classes have members, which themselves can take access modifiers. So you can have a private inner class with a public member; can the member be accessed? (See below.) The general rule is to look at scope and think recursively to see whether you can access each level.\r\n\r\nHowever, this is quite complicated, and for full details, [consult the Java Language Specification](http://docs.oracle.com/javase/specs/jls/se7/html/jls-6.html#jls-6.6). (Yes, there have been compiler bugs in the past.)\r\n\r\nFor a taste of how these interact, consider this example. It is possible to &quot;leak&quot; private inner classes; this is usually a warning:\r\n\r\n    class Test {\r\n        public static void main(final String ... args) {\r\n            System.out.println(Example.leakPrivateClass()); // OK\r\n            Example.leakPrivateClass().secretMethod(); // error\r\n        }\r\n    }\r\n    \r\n    class Example {\r\n        private static class NestedClass {\r\n            public void secretMethod() {\r\n                System.out.println(&quot;Hello&quot;);\r\n            }\r\n        }\r\n        public static NestedClass leakPrivateClass() {\r\n            return new NestedClass();\r\n        }\r\n    }\r\n\r\nCompiler output:\r\n\r\n    Test.java:4: secretMethod() in Example.NestedClass is defined in an inaccessible class or interface\r\n            Example.leakPrivateClass().secretMethod(); // error\r\n                                      ^\r\n    1 error\r\n\r\nSome related questions:\r\n\r\n* https://stackoverflow.com/questions/1350171/java-method-accessibility-inside-package-private-class\r\n","title":"What is the difference between public, protected, package-private and private in Java?","body":"<p>It's actually a bit more complicated than a simple grid shows. The grid tells you whether an access is allowed, but what exactly constitutes an access? Also, access levels interact with nested classes and inheritance in complex ways.</p>\n\n<p>The \"default\" access (specified by the absence of a keyword) is also called <a href=\"https://stackoverflow.com/questions/5416074/java-package-private-terminology\"><strong>package-private</strong></a>. Exception: in an interface, no modifier means public access; modifiers other than public are forbidden. Enum constants are always public.</p>\n\n<h2>Summary</h2>\n\n<p>Is an access to a member with this access specifier allowed?</p>\n\n<ul>\n<li>Member is <code>private</code>: Only if member is defined within the same class as calling code.</li>\n<li>Member is package private: Only if the calling code is within the member's immediately enclosing package.</li>\n<li>Member is <code>protected</code>: Same package, or if member is defined in a superclass of the class containing the calling code.</li>\n<li>Member is <code>public</code>: Yes.</li>\n</ul>\n\n<h2>What access specifiers apply to</h2>\n\n<p>Local variables and formal parameters cannot take access specifiers. Since they are inherently inaccessible to the outside according to scoping rules, they are effectively private.</p>\n\n<p>For classes in the top scope, only <code>public</code> and package-private are permitted. This design choice is presumably because <code>protected</code> and <code>private</code> would be redundant at the package level (there is no inheritance of packages).</p>\n\n<p>All the access specifiers are possible on class members (constructors, methods and static member functions, nested classes).</p>\n\n<p>Related: <a href=\"https://stackoverflow.com/questions/267781/java-class-accessibility\">Java Class Accessibility</a></p>\n\n<h2>Order</h2>\n\n<p>The access specifiers can be strictly ordered</p>\n\n<blockquote>\n  <p>public > protected > package-private > private</p>\n</blockquote>\n\n<p>meaning that <code>public</code> provides the most access, <code>private</code> the least. Any reference possible on a private member is also valid for a package-private member; any reference to a package-private member is valid on a protected member, and so on. (Giving access to protected members to other classes in the same package was considered a mistake.)</p>\n\n<h2>Notes</h2>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/676930/private-member-access-java\">A class's methods <em>are</em> allowed to access private members of other objects of the same class.</a> More precisely, a method of class C can access private members of C on objects of any subclass of C. Java doesn't support restricting access by instance, only by class. (Compare with Scala, which does support it using <code>private[this]</code>.)</li>\n<li>You need access to a constructor to construct an object. Thus if all constructors are private, the class can only be constructed by code living within the class (typically static factory methods or static variable initializers). Similarly for package-private or protected constructors.\n\n<ul>\n<li>Only having private constructors also means that the class cannot be subclassed externally, since Java requires a subclass's constructors to implicitly or explicitly call a superclass constructor. (It can, however, contain a nested class that subclasses it.)</li>\n</ul></li>\n</ul>\n\n<h2>Inner classes</h2>\n\n<p>You also have to consider <em>nested</em> scopes, such as inner classes. An example of the complexity is that inner classes have members, which themselves can take access modifiers. So you can have a private inner class with a public member; can the member be accessed? (See below.) The general rule is to look at scope and think recursively to see whether you can access each level.</p>\n\n<p>However, this is quite complicated, and for full details, <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-6.html#jls-6.6\" rel=\"noreferrer\">consult the Java Language Specification</a>. (Yes, there have been compiler bugs in the past.)</p>\n\n<p>For a taste of how these interact, consider this example. It is possible to \"leak\" private inner classes; this is usually a warning:</p>\n\n<pre><code>class Test {\n    public static void main(final String ... args) {\n        System.out.println(Example.leakPrivateClass()); // OK\n        Example.leakPrivateClass().secretMethod(); // error\n    }\n}\n\nclass Example {\n    private static class NestedClass {\n        public void secretMethod() {\n            System.out.println(\"Hello\");\n        }\n    }\n    public static NestedClass leakPrivateClass() {\n        return new NestedClass();\n    }\n}\n</code></pre>\n\n<p>Compiler output:</p>\n\n<pre><code>Test.java:4: secretMethod() in Example.NestedClass is defined in an inaccessible class or interface\n        Example.leakPrivateClass().secretMethod(); // error\n                                  ^\n1 error\n</code></pre>\n\n<p>Some related questions:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/1350171/java-method-accessibility-inside-package-private-class\">Java - Method accessibility inside package-private class?</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1189417,"reputation":30924,"user_id":1162620,"accept_rate":70,"display_name":"Ravi"},"down_vote_count":2,"up_vote_count":60,"is_accepted":false,"score":58,"last_activity_date":1474700708,"creation_date":1351360160,"answer_id":13102616,"question_id":215497,"body_markdown":"In very short\r\n\r\n - `public`: accessible from everywhere. \r\n - `protected`: accessible by the classes of the same package and the subclasses residing in any package.\r\n - default (no modifier specified): accessible by the classes of the same package.\r\n - `private`: accessible within the same class only.","title":"What is the difference between public, protected, package-private and private in Java?","body":"<p>In very short</p>\n\n<ul>\n<li><code>public</code>: accessible from everywhere. </li>\n<li><code>protected</code>: accessible by the classes of the same package and the subclasses residing in any package.</li>\n<li>default (no modifier specified): accessible by the classes of the same package.</li>\n<li><code>private</code>: accessible within the same class only.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":308156,"reputation":13672,"user_id":619860,"accept_rate":80,"display_name":"Hoa Nguyen"},"down_vote_count":1,"up_vote_count":100,"is_accepted":false,"score":99,"last_activity_date":1561478124,"creation_date":1355853689,"answer_id":13938807,"question_id":215497,"body_markdown":"As a rule of thumb: \r\n\r\n - `private`: class scope.\r\n - `default` (or `package-private`): package scope.\r\n - `protected`: `package scope + child` (like package, but we can subclass it from different packages). The protected modifier always keeps the &quot;parent-child&quot; relationship.\r\n - `public`: everywhere.\r\n\r\nAs a result, if we divide access right into three rights: \r\n\r\n - **(D)irect** (invoke from a method inside the same class, or via &quot;this&quot; syntax).\r\n - **(R)eference** (invoke a method using a reference to the class, or via &quot;dot&quot; syntax).\r\n - **(I)nheritance** (via subclassing).\r\n\r\nthen we have this simple table:\r\n \r\n\r\n    +—-———————————————+————————————+———————————+\r\n    |                 |    Same    | Different |\r\n    |                 |   Package  | Packages  |\r\n    +—————————————————+————————————+———————————+\r\n    | private         |   D        |           |\r\n    +—————————————————+————————————+———————————+\r\n    | package-private |            |           |\r\n    | (no modifier)   |   D R I    |           |\r\n    +—————————————————+————————————+———————————+\r\n    | protected       |   D R I    |       I   |\r\n    +—————————————————+————————————+———————————+\r\n    | public          |   D R I    |    R  I   |\r\n    +—————————————————+————————————+———————————+","title":"What is the difference between public, protected, package-private and private in Java?","body":"<p>As a rule of thumb: </p>\n\n<ul>\n<li><code>private</code>: class scope.</li>\n<li><code>default</code> (or <code>package-private</code>): package scope.</li>\n<li><code>protected</code>: <code>package scope + child</code> (like package, but we can subclass it from different packages). The protected modifier always keeps the \"parent-child\" relationship.</li>\n<li><code>public</code>: everywhere.</li>\n</ul>\n\n<p>As a result, if we divide access right into three rights: </p>\n\n<ul>\n<li><strong>(D)irect</strong> (invoke from a method inside the same class, or via \"this\" syntax).</li>\n<li><strong>(R)eference</strong> (invoke a method using a reference to the class, or via \"dot\" syntax).</li>\n<li><strong>(I)nheritance</strong> (via subclassing).</li>\n</ul>\n\n<p>then we have this simple table:</p>\n\n<pre><code>+—-———————————————+————————————+———————————+\n|                 |    Same    | Different |\n|                 |   Package  | Packages  |\n+—————————————————+————————————+———————————+\n| private         |   D        |           |\n+—————————————————+————————————+———————————+\n| package-private |            |           |\n| (no modifier)   |   D R I    |           |\n+—————————————————+————————————+———————————+\n| protected       |   D R I    |       I   |\n+—————————————————+————————————+———————————+\n| public          |   D R I    |    R  I   |\n+—————————————————+————————————+———————————+\n</code></pre>\n"},{"tags":[],"owner":{"account_id":873159,"reputation":26684,"user_id":923560,"accept_rate":47,"display_name":"Abdull"},"down_vote_count":3,"up_vote_count":229,"is_accepted":false,"score":226,"last_activity_date":1697652432,"creation_date":1357767760,"answer_id":14247032,"question_id":215497,"body_markdown":"\r\n```lang-none\r\n____________________________________________________________________\r\n                | highest precedence &lt;---------&gt; lowest precedence\r\n*———————————————+———————————————+———————————+———————————————+———————\r\n \\ xCanBeSeenBy | this          | any class | this subclass | any\r\n  \\__________   | class         | in same   | in another    | class\r\n             \\  | nonsubbed     | package   | package       |\r\nModifier of x \\ |               |           |               |\r\n————————————————*———————————————+———————————+———————————————+———————\r\npublic          |       ✔       |     ✔     |       ✔       |   ✔\r\n————————————————+———————————————+———————————+———————————————+———————\r\nprotected       |       ✔       |     ✔     |       ✔       |   ✘\r\n————————————————+———————————————+———————————+———————————————+———————\r\npackage-private |               |           |               |\r\n(no modifier)   |       ✔       |     ✔     |       ✘       |   ✘\r\n————————————————+———————————————+———————————+———————————————+———————\r\nprivate         |       ✔       |     ✘     |       ✘       |   ✘\r\n____________________________________________________________________\r\n```\r\n\r\n","title":"What is the difference between public, protected, package-private and private in Java?","body":"<pre class=\"lang-none prettyprint-override\"><code>____________________________________________________________________\n                | highest precedence &lt;---------&gt; lowest precedence\n*———————————————+———————————————+———————————+———————————————+———————\n \\ xCanBeSeenBy | this          | any class | this subclass | any\n  \\__________   | class         | in same   | in another    | class\n             \\  | nonsubbed     | package   | package       |\nModifier of x \\ |               |           |               |\n————————————————*———————————————+———————————+———————————————+———————\npublic          |       ✔       |     ✔     |       ✔       |   ✔\n————————————————+———————————————+———————————+———————————————+———————\nprotected       |       ✔       |     ✔     |       ✔       |   ✘\n————————————————+———————————————+———————————+———————————————+———————\npackage-private |               |           |               |\n(no modifier)   |       ✔       |     ✔     |       ✘       |   ✘\n————————————————+———————————————+———————————+———————————————+———————\nprivate         |       ✔       |     ✘     |       ✘       |   ✘\n____________________________________________________________________\n</code></pre>\n"},{"tags":[],"owner":{"account_id":294022,"reputation":115930,"user_id":597657,"accept_rate":99,"display_name":"Eng.Fouad"},"down_vote_count":0,"up_vote_count":53,"is_accepted":false,"score":53,"last_activity_date":1505417716,"creation_date":1384546016,"answer_id":20009675,"question_id":215497,"body_markdown":"The most misunderstood access modifier in Java is `protected`. We know that it&#39;s similar to the default modifier with one exception in which subclasses can see it. But how? Here is an example which hopefully clarifies the confusion:\r\n\r\n - Assume that we have 2 classes; `Father` and `Son`, each in its own package:\r\n        \r\n        package fatherpackage;\r\n        \r\n        public class Father\r\n        {\r\n            \r\n        }\r\n        \r\n        -------------------------------------------\r\n        \r\n        package sonpackage;\r\n        \r\n        public class Son extends Father\r\n        {\r\n            \r\n        }\r\n\r\n - Let&#39;s add a protected method `foo()` to `Father`.\r\n        \r\n        package fatherpackage;\r\n        \r\n        public class Father\r\n        {\r\n            protected void foo(){}\r\n        }\r\n\r\n - The method `foo()` can be called in 4 contexts:\r\n\r\n  1. Inside a class that is located in the same package where `foo()` is defined (`fatherpackage`):\r\n            \r\n            package fatherpackage;\r\n            \r\n            public class SomeClass\r\n            {\r\n                public void someMethod(Father f, Son s)\r\n                {\r\n                    f.foo();\r\n                    s.foo();\r\n                }\r\n            }\r\n\r\n 2. Inside a subclass, on the current instance via `this` or `super`:\r\n            \r\n            package sonpackage;\r\n            \r\n            public class Son extends Father\r\n            {\r\n                public void sonMethod()\r\n                {\r\n                    this.foo();\r\n                    super.foo();\r\n                }\r\n            }\r\n\r\n 3. On an reference whose type is the same class:\r\n\r\n            package fatherpackage;\r\n            \r\n            public class Father\r\n            {\r\n                public void fatherMethod(Father f)\r\n                {\r\n                    f.foo(); // valid even if foo() is private\r\n                }\r\n            }\r\n            \r\n            -------------------------------------------\r\n            \r\n            package sonpackage;\r\n            \r\n            public class Son extends Father\r\n            {\r\n                public void sonMethod(Son s)\r\n                {\r\n                    s.foo();\r\n                }\r\n            }\r\n\r\n  4. On an reference whose type is the parent class and it is *inside* the package where `foo()` is defined (`fatherpackage`) [This can be included inside context no. 1]:\r\n            \r\n            package fatherpackage;\r\n            \r\n            public class Son extends Father\r\n            {\r\n                public void sonMethod(Father f)\r\n                {\r\n                    f.foo();\r\n                }\r\n            }\r\n\r\n - The following situations are not valid.\r\n\r\n  1. On an reference whose type is the parent class and it is *outside* the package where `foo()` is defined (`fatherpackage`):\r\n            \r\n            package sonpackage;\r\n            \r\n            public class Son extends Father\r\n            {\r\n                public void sonMethod(Father f)\r\n                {\r\n                    f.foo(); // compilation error\r\n                }\r\n            }\r\n\r\n   2. A non-subclass inside a package of a subclass (A subclass inherits the protected members from its parent, and it makes them private to non-subclasses):\r\n            \r\n            package sonpackage;\r\n            \r\n            public class SomeClass\r\n            {\r\n                public void someMethod(Son s) throws Exception\r\n                {\r\n                    s.foo(); // compilation error\r\n                }\r\n            }","title":"What is the difference between public, protected, package-private and private in Java?","body":"<p>The most misunderstood access modifier in Java is <code>protected</code>. We know that it's similar to the default modifier with one exception in which subclasses can see it. But how? Here is an example which hopefully clarifies the confusion:</p>\n\n<ul>\n<li><p>Assume that we have 2 classes; <code>Father</code> and <code>Son</code>, each in its own package:</p>\n\n<pre><code>package fatherpackage;\n\npublic class Father\n{\n\n}\n\n-------------------------------------------\n\npackage sonpackage;\n\npublic class Son extends Father\n{\n\n}\n</code></pre></li>\n<li><p>Let's add a protected method <code>foo()</code> to <code>Father</code>.</p>\n\n<pre><code>package fatherpackage;\n\npublic class Father\n{\n    protected void foo(){}\n}\n</code></pre></li>\n<li><p>The method <code>foo()</code> can be called in 4 contexts:</p>\n\n<ol>\n<li><p>Inside a class that is located in the same package where <code>foo()</code> is defined (<code>fatherpackage</code>):</p>\n\n<pre><code>package fatherpackage;\n\npublic class SomeClass\n{\n    public void someMethod(Father f, Son s)\n    {\n        f.foo();\n        s.foo();\n    }\n}\n</code></pre></li>\n<li><p>Inside a subclass, on the current instance via <code>this</code> or <code>super</code>:</p>\n\n<pre><code>package sonpackage;\n\npublic class Son extends Father\n{\n    public void sonMethod()\n    {\n        this.foo();\n        super.foo();\n    }\n}\n</code></pre></li>\n<li><p>On an reference whose type is the same class:</p>\n\n<pre><code>package fatherpackage;\n\npublic class Father\n{\n    public void fatherMethod(Father f)\n    {\n        f.foo(); // valid even if foo() is private\n    }\n}\n\n-------------------------------------------\n\npackage sonpackage;\n\npublic class Son extends Father\n{\n    public void sonMethod(Son s)\n    {\n        s.foo();\n    }\n}\n</code></pre></li>\n<li><p>On an reference whose type is the parent class and it is <em>inside</em> the package where <code>foo()</code> is defined (<code>fatherpackage</code>) [This can be included inside context no. 1]:</p>\n\n<pre><code>package fatherpackage;\n\npublic class Son extends Father\n{\n    public void sonMethod(Father f)\n    {\n        f.foo();\n    }\n}\n</code></pre></li>\n</ol></li>\n<li><p>The following situations are not valid.</p>\n\n<ol>\n<li><p>On an reference whose type is the parent class and it is <em>outside</em> the package where <code>foo()</code> is defined (<code>fatherpackage</code>):</p>\n\n<pre><code>package sonpackage;\n\npublic class Son extends Father\n{\n    public void sonMethod(Father f)\n    {\n        f.foo(); // compilation error\n    }\n}\n</code></pre></li>\n<li><p>A non-subclass inside a package of a subclass (A subclass inherits the protected members from its parent, and it makes them private to non-subclasses):</p>\n\n<pre><code>package sonpackage;\n\npublic class SomeClass\n{\n    public void someMethod(Son s) throws Exception\n    {\n        s.foo(); // compilation error\n    }\n}\n</code></pre></li>\n</ol></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":3165564,"reputation":11962,"user_id":2675669,"accept_rate":100,"display_name":"Nambi"},"down_vote_count":1,"up_vote_count":31,"is_accepted":false,"score":30,"last_activity_date":1400560973,"creation_date":1390396136,"answer_id":21283846,"question_id":215497,"body_markdown":"**Private**\r\n----------\r\n \r\n\r\n - Methods,Variables and Constructors\r\n\r\n*Methods, Variables and Constructors that are declared private can only be accessed within the declared class itself.*\r\n\r\n - Class and Interface\r\n\r\n*Private access modifier is the most restrictive access level. Class and interfaces cannot be private.*\r\n\r\n***Note***\r\n\r\n*Variables that are declared private can be accessed outside the class if public getter methods are present in the class.\r\nVariables, methods and constructors which are declared protected in a superclass can be accessed only by the subclasses in other package or any class within the package of the protected members&#39; class.*\r\n&lt;B&gt;&lt;hr/&gt;&lt;/B&gt;\r\n**Protected**\r\n-------------\r\n\r\n - *Class and Interface*\r\n\r\n*The protected access modifier cannot be applied to class and interfaces.*\r\n\r\n\r\n *Methods, fields can be declared protected, however methods and fields in a interface cannot be declared protected.*\r\n\r\n***Note***\r\n\r\n*Protected access gives the subclass a chance to use the helper method or variable, while preventing a nonrelated class from trying to use it.*\r\n\r\n&lt;B&gt;&lt;hr/&gt;&lt;/B&gt;\r\n**Public**\r\n-----------\r\n\r\n*A class, method, constructor, interface etc declared public can be accessed from any other class.* \r\n\r\n*Therefore fields, methods, blocks declared inside a public class can be accessed from any class belonging to the Java Universe.*\r\n\r\n - *Different Packages*\r\n\r\n*However if the public class we are trying to access is in a different package, then the public class still need to be imported.*\r\n\r\n*Because of class inheritance, all public methods and variables of a class are inherited by its subclasses.*\r\n\r\n&lt;B&gt;&lt;hr/&gt;&lt;/B&gt;\r\n**Default -No keyword:**\r\n-----------------------\r\n\r\n*Default access modifier means we do not explicitly declare an access modifier for a class, field, method, etc.*\r\n\r\n - *Within the same Packages*\r\n\r\n*A variable or method declared without any access control modifier is available to any other class in the same package. The fields in an interface are implicitly public static final and the methods in an interface are by default public.*\r\n\r\n***Note***\r\n\r\nWe cannot Override the Static fields.if you try to override it does not show any error \r\nbut it doesnot work what we except.\r\n\r\n\r\nRelated Answers\r\n---------------\r\n\r\n - [**Overriding static methods in java**][1]\r\n\r\n\r\nReferences links\r\n----------------\r\n\r\n[http://docs.oracle.com/javase/tutorial/java/javaOO/accesscontrol.html][2]\r\n[http://www.tutorialspoint.com/java/java_access_modifiers.htm][3] \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/16617408/overriding-static-methods-in-java\r\n  [2]: http://docs.oracle.com/javase/tutorial/java/javaOO/accesscontrol.html\r\n  [3]: http://www.tutorialspoint.com/java/java_access_modifiers.htm","title":"What is the difference between public, protected, package-private and private in Java?","body":"<h2><strong>Private</strong></h2>\n\n<ul>\n<li>Methods,Variables and Constructors</li>\n</ul>\n\n<p><em>Methods, Variables and Constructors that are declared private can only be accessed within the declared class itself.</em></p>\n\n<ul>\n<li>Class and Interface</li>\n</ul>\n\n<p><em>Private access modifier is the most restrictive access level. Class and interfaces cannot be private.</em></p>\n\n<p><strong><em>Note</em></strong></p>\n\n<p><em>Variables that are declared private can be accessed outside the class if public getter methods are present in the class.\nVariables, methods and constructors which are declared protected in a superclass can be accessed only by the subclasses in other package or any class within the package of the protected members' class.</em>\n<B><hr/></B></p>\n\n<h2><strong>Protected</strong></h2>\n\n<ul>\n<li><em>Class and Interface</em></li>\n</ul>\n\n<p><em>The protected access modifier cannot be applied to class and interfaces.</em></p>\n\n<p><em>Methods, fields can be declared protected, however methods and fields in a interface cannot be declared protected.</em></p>\n\n<p><strong><em>Note</em></strong></p>\n\n<p><em>Protected access gives the subclass a chance to use the helper method or variable, while preventing a nonrelated class from trying to use it.</em></p>\n\n<p><B><hr/></B></p>\n\n<h2><strong>Public</strong></h2>\n\n<p><em>A class, method, constructor, interface etc declared public can be accessed from any other class.</em> </p>\n\n<p><em>Therefore fields, methods, blocks declared inside a public class can be accessed from any class belonging to the Java Universe.</em></p>\n\n<ul>\n<li><em>Different Packages</em></li>\n</ul>\n\n<p><em>However if the public class we are trying to access is in a different package, then the public class still need to be imported.</em></p>\n\n<p><em>Because of class inheritance, all public methods and variables of a class are inherited by its subclasses.</em></p>\n\n<p><B><hr/></B></p>\n\n<h2><strong>Default -No keyword:</strong></h2>\n\n<p><em>Default access modifier means we do not explicitly declare an access modifier for a class, field, method, etc.</em></p>\n\n<ul>\n<li><em>Within the same Packages</em></li>\n</ul>\n\n<p><em>A variable or method declared without any access control modifier is available to any other class in the same package. The fields in an interface are implicitly public static final and the methods in an interface are by default public.</em></p>\n\n<p><strong><em>Note</em></strong></p>\n\n<p>We cannot Override the Static fields.if you try to override it does not show any error \nbut it doesnot work what we except.</p>\n\n<h2>Related Answers</h2>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/16617408/overriding-static-methods-in-java\"><strong>Overriding static methods in java</strong></a></li>\n</ul>\n\n<h2>References links</h2>\n\n<p><a href=\"http://docs.oracle.com/javase/tutorial/java/javaOO/accesscontrol.html\" rel=\"noreferrer\">http://docs.oracle.com/javase/tutorial/java/javaOO/accesscontrol.html</a>\n<a href=\"http://www.tutorialspoint.com/java/java_access_modifiers.htm\" rel=\"noreferrer\">http://www.tutorialspoint.com/java/java_access_modifiers.htm</a> </p>\n"},{"tags":[],"owner":{"account_id":1163503,"reputation":657,"user_id":1142548,"accept_rate":80,"display_name":"samkit shah"},"down_vote_count":1,"up_vote_count":22,"is_accepted":false,"score":21,"last_activity_date":1510439179,"creation_date":1403075582,"answer_id":24279203,"question_id":215497,"body_markdown":"**Private**: Limited access to class only&lt;/br&gt;\r\n\r\n**Default (no modifier)**: Limited access to class and package&lt;/br&gt;\r\n\r\n**Protected**: Limited access to class, package and subclasses (both inside and outside package)\r\n\r\n**Public**: Accessible to class, package (all), and subclasses... In short, everywhere.\r\n\r\n","title":"What is the difference between public, protected, package-private and private in Java?","body":"<p><strong>Private</strong>: Limited access to class only</p>\n\n<p><strong>Default (no modifier)</strong>: Limited access to class and package</p>\n\n<p><strong>Protected</strong>: Limited access to class, package and subclasses (both inside and outside package)</p>\n\n<p><strong>Public</strong>: Accessible to class, package (all), and subclasses... In short, everywhere.</p>\n"},{"tags":[],"owner":{"account_id":2673153,"reputation":119,"user_id":2310069,"display_name":"richa_v"},"down_vote_count":2,"up_vote_count":7,"is_accepted":false,"score":5,"last_activity_date":1406692300,"creation_date":1406692300,"answer_id":25028485,"question_id":215497,"body_markdown":"Public Protected Default and private are access modifiers.\r\n\r\nThey are meant for encapsulation, or hiding and showing contents of the class.\r\n\r\n1. Class can be public or default\r\n2. Class members can be public, protected, default or private.\r\n\r\nPrivate is not accessible outside the class\r\nDefault is accessible only in the package.\r\nProtected in package as well as any class which extends it.\r\nPublic is open for all.\r\n\r\nNormally, member variables are defined private, but member methods are public.","title":"What is the difference between public, protected, package-private and private in Java?","body":"<p>Public Protected Default and private are access modifiers.</p>\n\n<p>They are meant for encapsulation, or hiding and showing contents of the class.</p>\n\n<ol>\n<li>Class can be public or default</li>\n<li>Class members can be public, protected, default or private.</li>\n</ol>\n\n<p>Private is not accessible outside the class\nDefault is accessible only in the package.\nProtected in package as well as any class which extends it.\nPublic is open for all.</p>\n\n<p>Normally, member variables are defined private, but member methods are public.</p>\n"},{"tags":[],"owner":{"account_id":3579096,"reputation":2566,"user_id":2987706,"accept_rate":90,"display_name":"Prashant"},"down_vote_count":2,"up_vote_count":19,"is_accepted":false,"score":17,"last_activity_date":1510439300,"creation_date":1418797744,"answer_id":27519579,"question_id":215497,"body_markdown":"Access modifiers are there to restrict access at several levels.\r\n\r\n**Public:** It is basically as simple as you can access from any class whether that is in same package or not.\r\n\r\nTo access if you are in same package you can access directly, but if you are in another package then you can create an object of the class.\r\n\r\n**Default:** It is accessible in the same package from any of the class of package.\r\n\r\nTo access you can create an object of the class. But you can not access this variable outside of the package.\r\n\r\n\r\n\r\n**Protected:** you can access variables in same package as well as subclass in any other package.\r\nso basically it is **default + Inherited** behavior.\r\n\r\nTo access protected field defined in base class you can create object of child class.\r\n\r\n**Private:**  it can be access in same class.\r\n\r\nIn non-static methods you can access directly because of **this** reference (also in constructors)but to access in static methods you need to create object of the class.\r\n\r\n","title":"What is the difference between public, protected, package-private and private in Java?","body":"<p>Access modifiers are there to restrict access at several levels.</p>\n\n<p><strong>Public:</strong> It is basically as simple as you can access from any class whether that is in same package or not.</p>\n\n<p>To access if you are in same package you can access directly, but if you are in another package then you can create an object of the class.</p>\n\n<p><strong>Default:</strong> It is accessible in the same package from any of the class of package.</p>\n\n<p>To access you can create an object of the class. But you can not access this variable outside of the package.</p>\n\n<p><strong>Protected:</strong> you can access variables in same package as well as subclass in any other package.\nso basically it is <strong>default + Inherited</strong> behavior.</p>\n\n<p>To access protected field defined in base class you can create object of child class.</p>\n\n<p><strong>Private:</strong>  it can be access in same class.</p>\n\n<p>In non-static methods you can access directly because of <strong>this</strong> reference (also in constructors)but to access in static methods you need to create object of the class.</p>\n"},{"tags":[],"owner":{"account_id":5537338,"reputation":1060,"user_id":4395148,"accept_rate":100,"display_name":"amila isura"},"down_vote_count":1,"up_vote_count":15,"is_accepted":false,"score":14,"last_activity_date":1510439541,"creation_date":1432652066,"answer_id":30462069,"question_id":215497,"body_markdown":"Visible to the package. The default. No modifiers are needed.\r\n\r\nVisible to the class only (**private**).\r\n\r\nVisible to the world (**public**).\r\n\r\nVisible to the package and all subclasses (**protected**).\r\n\r\n\r\nVariables and methods can be declared without any modifiers that are called. Default examples:\r\n\r\n    String name = &quot;john&quot;;\r\n\r\n    public int age(){\r\n        return age;\r\n    }\r\n\r\nPrivate access modifier - private:\r\n\r\nMethods, variables and constructors that are declared private can only be accessed within the declared class itself. The private access modifier is the most restrictive access level. Class and interfaces cannot be private.\r\n\r\nVariables that are declared private can be accessed outside the class if public getter methods are present in the class.\r\n\r\nUsing the private modifier is the main way that an object encapsulates itself and hides data from the outside world.\r\n\r\nExamples:\r\n\r\n    Public class Details{\r\n\r\n        private String name;\r\n\r\n        public void setName(String n){\r\n            this.name = n;\r\n        }\r\n\r\n        public String getName(){\r\n            return this.name;\r\n        }\r\n    }\r\n\r\nPublic access modifier - public:\r\n\r\nA class, method, constructor, interface, etc. declared public can be accessed from any other class. Therefore fields, methods, blocks declared inside a public class can be accessed from any class belonging to the Java universe.\r\n\r\nHowever, if the public class we are trying to access is in a different package, then the public class still need to be imported.\r\n\r\nBecause of class inheritance, all public methods and variables of a class are inherited by its subclasses.\r\n\r\nExample:\r\n\r\n    public void cal(){\r\n\r\n    }\r\n\r\nProtected access modifier - protected:\r\n\r\nVariables, methods and constructors which are declared protected in a superclass can be accessed only by the subclasses in another package or any class within the package of the protected members&#39; class.\r\n\r\nThe protected access modifier cannot be applied to class and interfaces. Methods, fields can be declared protected, however methods and fields in a interface cannot be declared protected.\r\n\r\nProtected access gives the subclass a chance to use the helper method or variable, while preventing a nonrelated class from trying to use it.\r\n\r\n    class Van{\r\n\r\n        protected boolean speed(){\r\n\r\n        }\r\n    }\r\n\r\n    class Car{\r\n        boolean speed(){\r\n        }\r\n\r\n    }\r\n","title":"What is the difference between public, protected, package-private and private in Java?","body":"<p>Visible to the package. The default. No modifiers are needed.</p>\n\n<p>Visible to the class only (<strong>private</strong>).</p>\n\n<p>Visible to the world (<strong>public</strong>).</p>\n\n<p>Visible to the package and all subclasses (<strong>protected</strong>).</p>\n\n<p>Variables and methods can be declared without any modifiers that are called. Default examples:</p>\n\n<pre><code>String name = \"john\";\n\npublic int age(){\n    return age;\n}\n</code></pre>\n\n<p>Private access modifier - private:</p>\n\n<p>Methods, variables and constructors that are declared private can only be accessed within the declared class itself. The private access modifier is the most restrictive access level. Class and interfaces cannot be private.</p>\n\n<p>Variables that are declared private can be accessed outside the class if public getter methods are present in the class.</p>\n\n<p>Using the private modifier is the main way that an object encapsulates itself and hides data from the outside world.</p>\n\n<p>Examples:</p>\n\n<pre><code>Public class Details{\n\n    private String name;\n\n    public void setName(String n){\n        this.name = n;\n    }\n\n    public String getName(){\n        return this.name;\n    }\n}\n</code></pre>\n\n<p>Public access modifier - public:</p>\n\n<p>A class, method, constructor, interface, etc. declared public can be accessed from any other class. Therefore fields, methods, blocks declared inside a public class can be accessed from any class belonging to the Java universe.</p>\n\n<p>However, if the public class we are trying to access is in a different package, then the public class still need to be imported.</p>\n\n<p>Because of class inheritance, all public methods and variables of a class are inherited by its subclasses.</p>\n\n<p>Example:</p>\n\n<pre><code>public void cal(){\n\n}\n</code></pre>\n\n<p>Protected access modifier - protected:</p>\n\n<p>Variables, methods and constructors which are declared protected in a superclass can be accessed only by the subclasses in another package or any class within the package of the protected members' class.</p>\n\n<p>The protected access modifier cannot be applied to class and interfaces. Methods, fields can be declared protected, however methods and fields in a interface cannot be declared protected.</p>\n\n<p>Protected access gives the subclass a chance to use the helper method or variable, while preventing a nonrelated class from trying to use it.</p>\n\n<pre><code>class Van{\n\n    protected boolean speed(){\n\n    }\n}\n\nclass Car{\n    boolean speed(){\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3005841,"reputation":483,"user_id":2550410,"display_name":"Shailendra Singh"},"down_vote_count":1,"up_vote_count":14,"is_accepted":false,"score":13,"last_activity_date":1458142297,"creation_date":1440832533,"answer_id":32283609,"question_id":215497,"body_markdown":" - **public** - accessible from anywhere in the application.\r\n\r\n - **default** - accessible from package.\r\n\r\n - **protected** - accessible from package and sub-classes in other package.\r\n   as well\r\n\r\n - **private** - accessible from its class only.\r\n","title":"What is the difference between public, protected, package-private and private in Java?","body":"<ul>\n<li><p><strong>public</strong> - accessible from anywhere in the application.</p></li>\n<li><p><strong>default</strong> - accessible from package.</p></li>\n<li><p><strong>protected</strong> - accessible from package and sub-classes in other package.\nas well</p></li>\n<li><p><strong>private</strong> - accessible from its class only.</p></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":102965,"reputation":415230,"user_id":276052,"accept_rate":80,"display_name":"aioobe"},"down_vote_count":2,"up_vote_count":538,"is_accepted":false,"score":536,"last_activity_date":1660761038,"creation_date":1447151220,"answer_id":33627846,"question_id":215497,"body_markdown":"Here&#39;s a better version of the table, that also includes a column for modules.\r\n&lt;br /&gt;\r\n\r\n[![enter image description here][1]][1]\r\n\r\n&lt;!-- SVG: https://gist.github.com/aioobe/6de46982f859b30fc849819718d6ae64 --&gt;\r\n----------\r\n\r\n\r\nExplanations\r\n--\r\n\r\n- A **private** member (`i`) is *only* accessible within the same class as it is declared.\r\n\r\n- A member with **no access modifier** (`j`) is only accessible within classes in the same package.\r\n\r\n- A **protected** member (`k`) is accessible within all classes in the same package *and* within subclasses in other packages.\r\n\r\n- A **public** member (`l`) is accessible to all classes (unless it resides in a [module](http://openjdk.java.net/projects/jigsaw/spec/sotms/) that does not export the package it is declared in).\r\n\r\n\r\n----------\r\n\r\n\r\nWhich modifier to choose?\r\n--\r\nAccess modifiers is a tool to help you to prevent accidentally breaking encapsulation&lt;sup&gt;(*)&lt;/sup&gt;. Ask yourself if you intend the member to be something that&#39;s internal to the class, package, class hierarchy or not internal at all, and choose access level accordingly.\r\n\r\n**Examples:**\r\n\r\n- A field `long internalCounter` should probably be private since it&#39;s mutable and an implementation detail.\r\n- A class that should only be instantiated in a factory class (in the same package) should have a package restricted constructor, since it shouldn&#39;t be possible to call it directly from outside the package.\r\n- An internal `void beforeRender()` method called right before rendering and used as a hook in subclasses should be protected.\r\n- A `void saveGame(File dst)` method which is called from the GUI code should be public.\r\n\r\n&lt;sup&gt;(*) https://stackoverflow.com/questions/28612420/what-is-encapsulation-exactly&lt;/sup&gt;\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/SVk2a.png","title":"What is the difference between public, protected, package-private and private in Java?","body":"<p>Here's a better version of the table, that also includes a column for modules.\n<br /></p>\n<p><a href=\"https://i.stack.imgur.com/SVk2a.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/SVk2a.png\" alt=\"enter image description here\" /></a></p>\n\n<hr />\n<h2>Explanations</h2>\n<ul>\n<li><p>A <strong>private</strong> member (<code>i</code>) is <em>only</em> accessible within the same class as it is declared.</p>\n</li>\n<li><p>A member with <strong>no access modifier</strong> (<code>j</code>) is only accessible within classes in the same package.</p>\n</li>\n<li><p>A <strong>protected</strong> member (<code>k</code>) is accessible within all classes in the same package <em>and</em> within subclasses in other packages.</p>\n</li>\n<li><p>A <strong>public</strong> member (<code>l</code>) is accessible to all classes (unless it resides in a <a href=\"http://openjdk.java.net/projects/jigsaw/spec/sotms/\" rel=\"noreferrer\">module</a> that does not export the package it is declared in).</p>\n</li>\n</ul>\n<hr />\n<h2>Which modifier to choose?</h2>\n<p>Access modifiers is a tool to help you to prevent accidentally breaking encapsulation<sup>(*)</sup>. Ask yourself if you intend the member to be something that's internal to the class, package, class hierarchy or not internal at all, and choose access level accordingly.</p>\n<p><strong>Examples:</strong></p>\n<ul>\n<li>A field <code>long internalCounter</code> should probably be private since it's mutable and an implementation detail.</li>\n<li>A class that should only be instantiated in a factory class (in the same package) should have a package restricted constructor, since it shouldn't be possible to call it directly from outside the package.</li>\n<li>An internal <code>void beforeRender()</code> method called right before rendering and used as a hook in subclasses should be protected.</li>\n<li>A <code>void saveGame(File dst)</code> method which is called from the GUI code should be public.</li>\n</ul>\n<p><sup>(*) <a href=\"https://stackoverflow.com/questions/28612420/what-is-encapsulation-exactly\">What is Encapsulation exactly?</a></sup></p>\n"},{"tags":[],"owner":{"account_id":1750637,"reputation":2903,"user_id":1599792,"accept_rate":100,"display_name":"Aftab"},"down_vote_count":1,"up_vote_count":18,"is_accepted":false,"score":17,"last_activity_date":1510439897,"creation_date":1470579416,"answer_id":38815021,"question_id":215497,"body_markdown":"**Access modifiers in Java.**\n\nJava access modifiers are used to provide access control in Java.\n\n**1. Default:**\n\nAccessible to the classes in the same package only.\n\nFor example,\n\n    // Saved in file A.java\n    package pack;\n\n    class A{\n      void msg(){System.out.println(&quot;Hello&quot;);}\n    }\n\n    // Saved in file B.java\n    package mypack;\n    import pack.*;\n\n    class B{\n      public static void main(String args[]){\n       A obj = new A(); // Compile Time Error\n       obj.msg(); // Compile Time Error\n      }\n    }\n\n\nThis access is more restricted than public and protected, but less restricted than private.\n\n**2. Public**\n\n  Can be accessed from anywhere. (Global Access)\n\nFor example,\n\n    // Saved in file A.java\n\n    package pack;\n    public class A{\n      public void msg(){System.out.println(&quot;Hello&quot;);}\n    }\n\n    // Saved in file B.java\n\n    package mypack;\n    import pack.*;\n\n    class B{\n      public static void main(String args[]){\n        A obj = new A();\n        obj.msg();\n      }\n    }\n\n&gt; Output:Hello\n\n\n**3. Private**\n\nAccessible only inside the same class.\n\nIf you try to access private members on one class in another will throw compile error. For example,\n\n    class A{\n      private int data = 40;\n      private void msg(){System.out.println(&quot;Hello java&quot;);}\n    }\n\n    public class Simple{\n      public static void main(String args[]){\n        A obj = new A();\n        System.out.println(obj.data); // Compile Time Error\n        obj.msg(); // Compile Time Error\n      }\n    }\n\n**4. Protected**\n\nAccessible only to the classes in the same package and to the subclasses\n\nFor example,\n\n    // Saved in file A.java\n    package pack;\n    public class A{\n      protected void msg(){System.out.println(&quot;Hello&quot;);}\n    }\n\n    // Saved in file B.java\n    package mypack;\n    import pack.*;\n\n    class B extends A{\n      public static void main(String args[]){\n        B obj = new B();\n        obj.msg();\n      }\n    }\n\n&gt; Output: Hello\n\n[![Enter image description here][1]][1]\n\n  [1]: http://i.stack.imgur.com/E5c6l.png\n","title":"What is the difference between public, protected, package-private and private in Java?","body":"<p><strong>Access modifiers in Java.</strong></p>\n<p>Java access modifiers are used to provide access control in Java.</p>\n<p><strong>1. Default:</strong></p>\n<p>Accessible to the classes in the same package only.</p>\n<p>For example,</p>\n<pre><code>// Saved in file A.java\npackage pack;\n\nclass A{\n  void msg(){System.out.println(&quot;Hello&quot;);}\n}\n\n// Saved in file B.java\npackage mypack;\nimport pack.*;\n\nclass B{\n  public static void main(String args[]){\n   A obj = new A(); // Compile Time Error\n   obj.msg(); // Compile Time Error\n  }\n}\n</code></pre>\n<p>This access is more restricted than public and protected, but less restricted than private.</p>\n<p><strong>2. Public</strong></p>\n<p>Can be accessed from anywhere. (Global Access)</p>\n<p>For example,</p>\n<pre><code>// Saved in file A.java\n\npackage pack;\npublic class A{\n  public void msg(){System.out.println(&quot;Hello&quot;);}\n}\n\n// Saved in file B.java\n\npackage mypack;\nimport pack.*;\n\nclass B{\n  public static void main(String args[]){\n    A obj = new A();\n    obj.msg();\n  }\n}\n</code></pre>\n<blockquote>\n<p>Output:Hello</p>\n</blockquote>\n<p><strong>3. Private</strong></p>\n<p>Accessible only inside the same class.</p>\n<p>If you try to access private members on one class in another will throw compile error. For example,</p>\n<pre><code>class A{\n  private int data = 40;\n  private void msg(){System.out.println(&quot;Hello java&quot;);}\n}\n\npublic class Simple{\n  public static void main(String args[]){\n    A obj = new A();\n    System.out.println(obj.data); // Compile Time Error\n    obj.msg(); // Compile Time Error\n  }\n}\n</code></pre>\n<p><strong>4. Protected</strong></p>\n<p>Accessible only to the classes in the same package and to the subclasses</p>\n<p>For example,</p>\n<pre><code>// Saved in file A.java\npackage pack;\npublic class A{\n  protected void msg(){System.out.println(&quot;Hello&quot;);}\n}\n\n// Saved in file B.java\npackage mypack;\nimport pack.*;\n\nclass B extends A{\n  public static void main(String args[]){\n    B obj = new B();\n    obj.msg();\n  }\n}\n</code></pre>\n<blockquote>\n<p>Output: Hello</p>\n</blockquote>\n<p><a href=\"https://i.stack.imgur.com/E5c6l.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/E5c6l.png\" alt=\"Enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":6098078,"reputation":28937,"user_id":4758255,"display_name":"ישו אוהב אותך"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1479359101,"creation_date":1479359101,"answer_id":40647093,"question_id":215497,"body_markdown":"Note: *This is just a **supplement** for the accepted answer.*\r\n\r\nThis is related to Java [Access Modifiers](https://en.wikipedia.org/wiki/Access_modifiers).\r\n\r\nFrom [Java Access Modifiers](http://tutorials.jenkov.com/java/access-modifiers.html):  \r\n\r\n&gt; A Java access modifier specifies which classes can access a given\r\n&gt; class and its fields, constructors and methods. Access modifiers can\r\n&gt; be specified separately for a class, its constructors, fields and\r\n&gt; methods. Java access modifiers are also sometimes referred to in daily\r\n&gt; speech as Java access specifiers, but the correct name is Java access\r\n&gt; modifiers. Classes, fields, constructors and methods can have one of\r\n&gt; four different Java access modifiers:\r\n&gt; \r\n&gt;  - List item\r\n&gt;  - private\r\n&gt;  - default (package)\r\n&gt;  - protected\r\n&gt;  - public\r\n\r\nFrom [Controlling Access to Members of a Class](https://docs.oracle.com/javase/tutorial/java/javaOO/accesscontrol.html) tutorials:\r\n\r\n&gt; Access level modifiers determine whether other classes can use a\r\n&gt; particular field or invoke a particular method. There are two levels\r\n&gt; of access control:\r\n&gt; \r\n&gt;  - At the top level—public, or package-private (no explicit modifier).\r\n&gt;  - At the member level—public, private, protected, or package-private (no explicit modifier).  \r\n&gt; \r\n&gt; A class may be declared with the modifier public, in which case that\r\n&gt; class is visible to all classes everywhere. If a class has no modifier\r\n&gt; (the default, also known as package-private), it is visible only\r\n&gt; within its own package\r\n&gt; \r\n&gt; The following table shows the access to members permitted by each\r\n&gt; modifier.\r\n&gt; \r\n&gt;     ╔═════════════╦═══════╦═════════╦══════════╦═══════╗\r\n&gt;     ║ Modifier    ║ Class ║ Package ║ Subclass ║ World ║\r\n&gt;     ╠═════════════╬═══════╬═════════╬══════════╬═══════╣\r\n&gt;     ║ public      ║ Y     ║ Y       ║ Y        ║ Y     ║\r\n&gt;     ║ protected   ║ Y     ║ Y       ║ Y        ║ N     ║\r\n&gt;     ║ no modifier ║ Y     ║ Y       ║ N        ║ N     ║\r\n&gt;     ║ private     ║ Y     ║ N       ║ N        ║ N     ║\r\n&gt;     ╚═════════════╩═══════╩═════════╩══════════╩═══════╝\r\n&gt; \r\n&gt; The first data column indicates whether the class itself has access to\r\n&gt; the member defined by the access level. As you can see, a class always\r\n&gt; has access to its own members. The second column indicates whether\r\n&gt; classes in the same package as the class (regardless of their\r\n&gt; parentage) have access to the member. The third column indicates\r\n&gt; whether subclasses of the class declared outside this package have\r\n&gt; access to the member. The fourth column indicates whether all classes\r\n&gt; have access to the member.\r\n&gt; \r\n&gt; Access levels affect you in two ways. First, when you use classes that\r\n&gt; come from another source, such as the classes in the Java platform,\r\n&gt; access levels determine which members of those classes your own\r\n&gt; classes can use. Second, when you write a class, you need to decide\r\n&gt; what access level every member variable and every method in your class\r\n&gt; should have.","title":"What is the difference between public, protected, package-private and private in Java?","body":"<p>Note: <em>This is just a <strong>supplement</strong> for the accepted answer.</em></p>\n\n<p>This is related to Java <a href=\"https://en.wikipedia.org/wiki/Access_modifiers\" rel=\"noreferrer\">Access Modifiers</a>.</p>\n\n<p>From <a href=\"http://tutorials.jenkov.com/java/access-modifiers.html\" rel=\"noreferrer\">Java Access Modifiers</a>:  </p>\n\n<blockquote>\n  <p>A Java access modifier specifies which classes can access a given\n  class and its fields, constructors and methods. Access modifiers can\n  be specified separately for a class, its constructors, fields and\n  methods. Java access modifiers are also sometimes referred to in daily\n  speech as Java access specifiers, but the correct name is Java access\n  modifiers. Classes, fields, constructors and methods can have one of\n  four different Java access modifiers:</p>\n  \n  <ul>\n  <li>List item</li>\n  <li>private</li>\n  <li>default (package)</li>\n  <li>protected</li>\n  <li>public</li>\n  </ul>\n</blockquote>\n\n<p>From <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/accesscontrol.html\" rel=\"noreferrer\">Controlling Access to Members of a Class</a> tutorials:</p>\n\n<blockquote>\n  <p>Access level modifiers determine whether other classes can use a\n  particular field or invoke a particular method. There are two levels\n  of access control:</p>\n  \n  <ul>\n  <li>At the top level—public, or package-private (no explicit modifier).</li>\n  <li>At the member level—public, private, protected, or package-private (no explicit modifier).  </li>\n  </ul>\n  \n  <p>A class may be declared with the modifier public, in which case that\n  class is visible to all classes everywhere. If a class has no modifier\n  (the default, also known as package-private), it is visible only\n  within its own package</p>\n  \n  <p>The following table shows the access to members permitted by each\n  modifier.</p>\n\n<pre><code>╔═════════════╦═══════╦═════════╦══════════╦═══════╗\n║ Modifier    ║ Class ║ Package ║ Subclass ║ World ║\n╠═════════════╬═══════╬═════════╬══════════╬═══════╣\n║ public      ║ Y     ║ Y       ║ Y        ║ Y     ║\n║ protected   ║ Y     ║ Y       ║ Y        ║ N     ║\n║ no modifier ║ Y     ║ Y       ║ N        ║ N     ║\n║ private     ║ Y     ║ N       ║ N        ║ N     ║\n╚═════════════╩═══════╩═════════╩══════════╩═══════╝\n</code></pre>\n  \n  <p>The first data column indicates whether the class itself has access to\n  the member defined by the access level. As you can see, a class always\n  has access to its own members. The second column indicates whether\n  classes in the same package as the class (regardless of their\n  parentage) have access to the member. The third column indicates\n  whether subclasses of the class declared outside this package have\n  access to the member. The fourth column indicates whether all classes\n  have access to the member.</p>\n  \n  <p>Access levels affect you in two ways. First, when you use classes that\n  come from another source, such as the classes in the Java platform,\n  access levels determine which members of those classes your own\n  classes can use. Second, when you write a class, you need to decide\n  what access level every member variable and every method in your class\n  should have.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":10438905,"reputation":87,"user_id":7696246,"display_name":"Greedy Coder"},"down_vote_count":2,"up_vote_count":6,"is_accepted":false,"score":4,"last_activity_date":1491451762,"creation_date":1491451762,"answer_id":43245555,"question_id":215497,"body_markdown":"Often times I&#39;ve realized that remembering the basic concepts of any language can made possible by creating real-world analogies. Here is my analogy for understanding access modifiers in Java:\r\n\r\nLet&#39;s assume that you&#39;re a student at a university and you have a friend who&#39;s coming to visit you over the weekend. Suppose there exists a big statue of the university&#39;s founder in the middle of the campus.\r\n\r\n- When you bring him to the campus, the first thing that you and your friend sees is this statue. This means that anyone who walks in the campus can look at the statue without the university&#39;s permission. This makes the statue as **PUBLIC**.\r\n\r\n- Next, you want to take your friend to your dorm, but for that you need to register him as a visitor. This means that he gets an access pass (which is the same as yours) to get into various buildings on campus. This would make his access card as **PROTECTED**.\r\n\r\n- Your friend wants to login to the campus WiFi but doesn&#39;t have the any credentials to do so. The only way he can get online is if you share your login with him. (Remember, every student who goes to the university also possesses these login credentials). This would make your login credentials as **NO MODIFIER**.\r\n\r\n- Finally, your friend wants to read your progress report for the semester which is posted on the website. However, every student has their own personal login to access this section of the campus website. This would make these credentials as **PRIVATE**.\r\n\r\nHope this helps!","title":"What is the difference between public, protected, package-private and private in Java?","body":"<p>Often times I've realized that remembering the basic concepts of any language can made possible by creating real-world analogies. Here is my analogy for understanding access modifiers in Java:</p>\n\n<p>Let's assume that you're a student at a university and you have a friend who's coming to visit you over the weekend. Suppose there exists a big statue of the university's founder in the middle of the campus.</p>\n\n<ul>\n<li><p>When you bring him to the campus, the first thing that you and your friend sees is this statue. This means that anyone who walks in the campus can look at the statue without the university's permission. This makes the statue as <strong>PUBLIC</strong>.</p></li>\n<li><p>Next, you want to take your friend to your dorm, but for that you need to register him as a visitor. This means that he gets an access pass (which is the same as yours) to get into various buildings on campus. This would make his access card as <strong>PROTECTED</strong>.</p></li>\n<li><p>Your friend wants to login to the campus WiFi but doesn't have the any credentials to do so. The only way he can get online is if you share your login with him. (Remember, every student who goes to the university also possesses these login credentials). This would make your login credentials as <strong>NO MODIFIER</strong>.</p></li>\n<li><p>Finally, your friend wants to read your progress report for the semester which is posted on the website. However, every student has their own personal login to access this section of the campus website. This would make these credentials as <strong>PRIVATE</strong>.</p></li>\n</ul>\n\n<p>Hope this helps!</p>\n"},{"tags":[],"owner":{"account_id":1592127,"reputation":18171,"user_id":1475228,"accept_rate":84,"display_name":"Pritam Banerjee"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1498531098,"creation_date":1498530796,"answer_id":44771468,"question_id":215497,"body_markdown":"When you are thinking of access modifiers just think of it in this way (applies to both **variables** and **methods**):\r\n\r\n`public` --&gt; accessible from every where  \r\n`private` --&gt; accessible only within the same class where it is declared\r\n\r\nNow the confusion arises when it comes to `default` and `protected`\r\n\r\n`default` --&gt; No access modifier keyword is present. This means it is available strictly within the package of the class. **Nowhere** outside that package it can be accessed.\r\n\r\n`protected` --&gt; Slightly less stricter than `default` and apart from the same package classes it can be accessed by sub classes outside the *package* it is declared. ","title":"What is the difference between public, protected, package-private and private in Java?","body":"<p>When you are thinking of access modifiers just think of it in this way (applies to both <strong>variables</strong> and <strong>methods</strong>):</p>\n\n<p><code>public</code> --> accessible from every where<br>\n<code>private</code> --> accessible only within the same class where it is declared</p>\n\n<p>Now the confusion arises when it comes to <code>default</code> and <code>protected</code></p>\n\n<p><code>default</code> --> No access modifier keyword is present. This means it is available strictly within the package of the class. <strong>Nowhere</strong> outside that package it can be accessed.</p>\n\n<p><code>protected</code> --> Slightly less stricter than <code>default</code> and apart from the same package classes it can be accessed by sub classes outside the <em>package</em> it is declared. </p>\n"},{"tags":[],"owner":{"account_id":332245,"reputation":16487,"user_id":657427,"accept_rate":67,"display_name":"Christophe Roussy"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1533036443,"creation_date":1518602128,"answer_id":48784176,"question_id":215497,"body_markdown":"It is all about **encapsulation** (or as Joe Phillips stated, *least knowledge*).\r\n\r\nStart with the most restrictive (private) and see if you need less restrictive modifiers later on.\r\n\r\nWe all use method and member modifiers like private, public, ... but one thing too few developers do is use packages to **organize** code logically.\r\n\r\nFor example:\r\nYou may put sensitive security methods in a &#39;security&#39; package.\r\nThen put a public class which accesses some of the security related code in this package but keep other security classes **package private**.\r\nThus other developers will only be able to use the publicly available class from outside of this package (unless they change the modifier).\r\nThis is not a security feature, but will **guide** usage.\r\n\r\n    Outside world -&gt; Package (SecurityEntryClass ---&gt; Package private classes)\r\n\r\nAnother thing is that classes which depend a lot on each other may end up in the same package and could eventually be refactored or merged if the dependency is too strong.\r\n\r\nIf on the contrary you set everything as **public** it will not be clear what should or should not be accessed, which may lead to writing a lot of javadoc (which does not enforce anything via the compiler...).\r\n","title":"What is the difference between public, protected, package-private and private in Java?","body":"<p>It is all about <strong>encapsulation</strong> (or as Joe Phillips stated, <em>least knowledge</em>).</p>\n\n<p>Start with the most restrictive (private) and see if you need less restrictive modifiers later on.</p>\n\n<p>We all use method and member modifiers like private, public, ... but one thing too few developers do is use packages to <strong>organize</strong> code logically.</p>\n\n<p>For example:\nYou may put sensitive security methods in a 'security' package.\nThen put a public class which accesses some of the security related code in this package but keep other security classes <strong>package private</strong>.\nThus other developers will only be able to use the publicly available class from outside of this package (unless they change the modifier).\nThis is not a security feature, but will <strong>guide</strong> usage.</p>\n\n<pre><code>Outside world -&gt; Package (SecurityEntryClass ---&gt; Package private classes)\n</code></pre>\n\n<p>Another thing is that classes which depend a lot on each other may end up in the same package and could eventually be refactored or merged if the dependency is too strong.</p>\n\n<p>If on the contrary you set everything as <strong>public</strong> it will not be clear what should or should not be accessed, which may lead to writing a lot of javadoc (which does not enforce anything via the compiler...).</p>\n"},{"tags":[],"owner":{"account_id":10979546,"reputation":125,"user_id":9858025,"display_name":"Vipul Verma"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1683135160,"creation_date":1568932452,"answer_id":58019647,"question_id":215497,"body_markdown":" - public\r\n\r\n If a class member is declared to be public then it can be accessed from anywhere\r\n\r\n - protected\r\n\r\n    If a class member is declared with keyword protected, it can be accessed from the same class members, outside class members within the same package, and inherited class members. If a class member is protected then it can NOT be accessed from an outside package class unless the outside packaged class is inherited i.e. extends the other package superclass. But a protected class member is always available to the same package classes it does NOT matter whether the same package class is inherited or NOT\r\n\r\n\r\n - default\r\n\r\n    In Java default is NOT an access modifier keyword. If a class member is declared without any access modifier keyword, it is considered a default member. The default class member is always available to the same package class members. But outside package class members can NOT access default class members even if outside classes are subclasses unlike protected members\r\n\r\n - private\r\n\r\n  If a class member is declared with keyword protected then in this case it is available ONLY to the same class members","title":"What is the difference between public, protected, package-private and private in Java?","body":"<ul>\n<li>public</li>\n</ul>\n<p>If a class member is declared to be public then it can be accessed from anywhere</p>\n<ul>\n<li><p>protected</p>\n<p>If a class member is declared with keyword protected, it can be accessed from the same class members, outside class members within the same package, and inherited class members. If a class member is protected then it can NOT be accessed from an outside package class unless the outside packaged class is inherited i.e. extends the other package superclass. But a protected class member is always available to the same package classes it does NOT matter whether the same package class is inherited or NOT</p>\n</li>\n<li><p>default</p>\n<p>In Java default is NOT an access modifier keyword. If a class member is declared without any access modifier keyword, it is considered a default member. The default class member is always available to the same package class members. But outside package class members can NOT access default class members even if outside classes are subclasses unlike protected members</p>\n</li>\n<li><p>private</p>\n</li>\n</ul>\n<p>If a class member is declared with keyword protected then in this case it is available ONLY to the same class members</p>\n"},{"tags":[],"owner":{"account_id":251230,"reputation":1566,"user_id":528459,"accept_rate":95,"display_name":"Mudassar"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1571761530,"creation_date":1571195400,"answer_id":58405200,"question_id":215497,"body_markdown":"My two cents :)\r\n\r\n**private:**\r\n\r\n*class -&gt;* a top level class cannot be private. inner classes can be private which are accessible from same class.\r\n\r\n*instance variable -&gt;* accessible only in the class. Cannot access outside the class.\r\n\r\n**package-private:**\r\n\r\n*class -&gt;* a top level class can be package-private. It can only be accessible from same package. Not from sub package, not from outside package.\r\n\r\n*instance variable -&gt;* accessible from same package. Not from sub package, not from outside package.\r\n\r\n\r\n**protected:**\r\n\r\n*class -&gt;* a top level class cannot be protected.\r\n\r\n*instance variable -&gt;* Only accessible in same package or subpackage. Can only be access outside the package while extending class.\r\n\r\n\r\n\r\n**public:**\r\n\r\n*class -&gt;* accessible from package/subpackage/another package\r\n\r\n*instance variable -&gt;* accessible from package/subpackage/another package\r\n\r\n\r\nHere is detailed answer\r\n\r\nhttps://github.com/junto06/java-4-beginners/blob/master/basics/access-modifier.md","title":"What is the difference between public, protected, package-private and private in Java?","body":"<p>My two cents :)</p>\n\n<p><strong>private:</strong></p>\n\n<p><em>class -></em> a top level class cannot be private. inner classes can be private which are accessible from same class.</p>\n\n<p><em>instance variable -></em> accessible only in the class. Cannot access outside the class.</p>\n\n<p><strong>package-private:</strong></p>\n\n<p><em>class -></em> a top level class can be package-private. It can only be accessible from same package. Not from sub package, not from outside package.</p>\n\n<p><em>instance variable -></em> accessible from same package. Not from sub package, not from outside package.</p>\n\n<p><strong>protected:</strong></p>\n\n<p><em>class -></em> a top level class cannot be protected.</p>\n\n<p><em>instance variable -></em> Only accessible in same package or subpackage. Can only be access outside the package while extending class.</p>\n\n<p><strong>public:</strong></p>\n\n<p><em>class -></em> accessible from package/subpackage/another package</p>\n\n<p><em>instance variable -></em> accessible from package/subpackage/another package</p>\n\n<p>Here is detailed answer</p>\n\n<p><a href=\"https://github.com/junto06/java-4-beginners/blob/master/basics/access-modifier.md\" rel=\"nofollow noreferrer\">https://github.com/junto06/java-4-beginners/blob/master/basics/access-modifier.md</a></p>\n"},{"tags":[],"owner":{"account_id":6115775,"reputation":30435,"user_id":4770877,"display_name":"yoAlex5"},"down_vote_count":1,"up_vote_count":23,"is_accepted":false,"score":22,"last_activity_date":1638725815,"creation_date":1575664955,"answer_id":59220073,"question_id":215497,"body_markdown":"**Java access modifies**\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\nAccess modifier can be applicable for `class`, `field`[&lt;sup&gt;\\[About\\]&lt;/sup&gt;][2], `method`. Try to access, subclass or override this. \r\n\r\n - Access to `field` or `method` is through a `class`.\r\n - Inheritance and **Open Closed Principle**[&lt;sup&gt;\\[About\\]&lt;/sup&gt;][3] \r\n   - Successor `class`(subclass) access modifier can be **any**. \r\n   - Successor `method`(override) access modifier should be the **same or expand it**\r\n\r\nTop level class(first level scope) can be `public` and `default`. `Nested class`[&lt;sup&gt;\\[About\\]&lt;/sup&gt;][4] can have any of them\r\n\r\n`package` is not applying for package hierarchy \r\n\r\n\r\n[[Swift access modifiers]][5]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/JqGNs.png\r\n  [2]: https://stackoverflow.com/a/60907642/4770877\r\n  [3]: https://stackoverflow.com/a/66087638/4770877\r\n  [4]: https://stackoverflow.com/a/59220181/4770877\r\n  [5]: https://stackoverflow.com/a/60905233/4770877","title":"What is the difference between public, protected, package-private and private in Java?","body":"<p><strong>Java access modifies</strong></p>\n<p><a href=\"https://i.stack.imgur.com/JqGNs.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/JqGNs.png\" alt=\"enter image description here\" /></a></p>\n<p>Access modifier can be applicable for <code>class</code>, <code>field</code><a href=\"https://stackoverflow.com/a/60907642/4770877\"><sup>[About]</sup></a>, <code>method</code>. Try to access, subclass or override this.</p>\n<ul>\n<li>Access to <code>field</code> or <code>method</code> is through a <code>class</code>.</li>\n<li>Inheritance and <strong>Open Closed Principle</strong><a href=\"https://stackoverflow.com/a/66087638/4770877\"><sup>[About]</sup></a>\n<ul>\n<li>Successor <code>class</code>(subclass) access modifier can be <strong>any</strong>.</li>\n<li>Successor <code>method</code>(override) access modifier should be the <strong>same or expand it</strong></li>\n</ul>\n</li>\n</ul>\n<p>Top level class(first level scope) can be <code>public</code> and <code>default</code>. <code>Nested class</code><a href=\"https://stackoverflow.com/a/59220181/4770877\"><sup>[About]</sup></a> can have any of them</p>\n<p><code>package</code> is not applying for package hierarchy</p>\n<p><a href=\"https://stackoverflow.com/a/60905233/4770877\">[Swift access modifiers]</a></p>\n"},{"tags":[],"owner":{"account_id":4168759,"reputation":121,"user_id":3417107,"accept_rate":50,"display_name":"Tushar Baviskar"},"down_vote_count":3,"up_vote_count":1,"is_accepted":false,"score":-2,"last_activity_date":1583148201,"creation_date":1577111162,"answer_id":59456940,"question_id":215497,"body_markdown":"Access Specifiers in Java:\r\nThere are 4 access specifiers in java, namely private, package-private (default), protected and public in increasing access order.\r\n\r\n**Private**:\r\nWhen you are developing some class and you want member of this class not to be exposed outside this class then you should declare it as private. private members can be accessed only in class where they are defined i.e. enclosing class. **private members can be accessed on &#39;this&#39; reference and also on other instances of class enclosing these members, but only within the definition of this class.**\r\n\r\n\r\n**Package-private (default)**:\r\nThis access specifier will provide access specified by private access specifier in addition to access described below.\r\n\r\nWhen you are developing some package and hence some class (say Class1) within it, you may use default (need not be mentioned explicitly) access specifier, to expose member within class, to other classes within your (same) package. In these other classes (within same package), you can access these default members on instance of Class1. Also you can access these default members within subclasses of Class1, say Class2 (on this reference or on instance of Class1 or on instance of Class2). \r\n\r\n**Basically, within same package you can access default members on instance of class directly or on &#39;this&#39; reference in subclasses.**\r\n\t\r\n\r\n**protected**:\r\nThis access specifier will provide access specified by package-private access specifier in addition to access described below.\r\n\r\nWhen you are developing some package and hence some class (say Class1) within it, then you should use protected access specifier for data member within Class1 if you don&#39;t want this member to be accessed outside your package (say in package of consumer of your package i.e. client who is using your APIs) in general, but you want to make an exception and allow access to this member only if client writes class say Class2 that extends Class1. So, in general, protected members will be accessible on &#39;this&#39; reference in derived classes i.e. Class2 and also on explicit instances of Class2.\r\n\r\nPlease note:\r\n\r\n 1. You won&#39;t be able to access inherited protected member of Class1 in\r\n    Class2, if you attempt to access it on explicit instance of Class1,\r\n    although it is inherited in it.\r\n 2. When you write another class Class3 within same/different package\r\n    that extends Class2, protected member from Class1 will be accessible\r\n    on this reference and also on explicit instance of Class3. This will\r\n    be true for any hierarchy that is extended i.e. protected member\r\n    will still be accessible on this reference or instance of extended\r\n    class. Note that in Class3, if you create instance of Class2 then\r\n    you will not be able to access protected member from Class1 though\r\n    it is inherited.\r\n\r\n\t\r\nSo bottom line is, **protected members can be accessed in other packages, only if some class from this other package, extends class enclosing this protected member and protected member is accessed on &#39;this&#39; reference or explicit instances of extended class, within definition of extended class.**\r\n\t\r\n\t\r\n**public**: This access specifier will provide access specified by protected access specifier in addition to access described below.\r\n\r\nWhen you are developing some package and hence some class (say Class1) within it, then you should use public access specifier for data member within Class1 if you want this member to be accessible in other packages on instance of Class1 created in some class of other package. **Basically this access specifier should be used when you intent to expose your data member to world without any condition.**\r\n","title":"What is the difference between public, protected, package-private and private in Java?","body":"<p>Access Specifiers in Java:\nThere are 4 access specifiers in java, namely private, package-private (default), protected and public in increasing access order.</p>\n\n<p><strong>Private</strong>:\nWhen you are developing some class and you want member of this class not to be exposed outside this class then you should declare it as private. private members can be accessed only in class where they are defined i.e. enclosing class. <strong>private members can be accessed on 'this' reference and also on other instances of class enclosing these members, but only within the definition of this class.</strong></p>\n\n<p><strong>Package-private (default)</strong>:\nThis access specifier will provide access specified by private access specifier in addition to access described below.</p>\n\n<p>When you are developing some package and hence some class (say Class1) within it, you may use default (need not be mentioned explicitly) access specifier, to expose member within class, to other classes within your (same) package. In these other classes (within same package), you can access these default members on instance of Class1. Also you can access these default members within subclasses of Class1, say Class2 (on this reference or on instance of Class1 or on instance of Class2). </p>\n\n<p><strong>Basically, within same package you can access default members on instance of class directly or on 'this' reference in subclasses.</strong></p>\n\n<p><strong>protected</strong>:\nThis access specifier will provide access specified by package-private access specifier in addition to access described below.</p>\n\n<p>When you are developing some package and hence some class (say Class1) within it, then you should use protected access specifier for data member within Class1 if you don't want this member to be accessed outside your package (say in package of consumer of your package i.e. client who is using your APIs) in general, but you want to make an exception and allow access to this member only if client writes class say Class2 that extends Class1. So, in general, protected members will be accessible on 'this' reference in derived classes i.e. Class2 and also on explicit instances of Class2.</p>\n\n<p>Please note:</p>\n\n<ol>\n<li>You won't be able to access inherited protected member of Class1 in\nClass2, if you attempt to access it on explicit instance of Class1,\nalthough it is inherited in it.</li>\n<li>When you write another class Class3 within same/different package\nthat extends Class2, protected member from Class1 will be accessible\non this reference and also on explicit instance of Class3. This will\nbe true for any hierarchy that is extended i.e. protected member\nwill still be accessible on this reference or instance of extended\nclass. Note that in Class3, if you create instance of Class2 then\nyou will not be able to access protected member from Class1 though\nit is inherited.</li>\n</ol>\n\n<p>So bottom line is, <strong>protected members can be accessed in other packages, only if some class from this other package, extends class enclosing this protected member and protected member is accessed on 'this' reference or explicit instances of extended class, within definition of extended class.</strong></p>\n\n<p><strong>public</strong>: This access specifier will provide access specified by protected access specifier in addition to access described below.</p>\n\n<p>When you are developing some package and hence some class (say Class1) within it, then you should use public access specifier for data member within Class1 if you want this member to be accessible in other packages on instance of Class1 created in some class of other package. <strong>Basically this access specifier should be used when you intent to expose your data member to world without any condition.</strong></p>\n"},{"tags":[],"owner":{"account_id":18336519,"reputation":688,"user_id":13353813,"display_name":"Mushfiqur Rahman Abir"},"down_vote_count":2,"up_vote_count":7,"is_accepted":false,"score":5,"last_activity_date":1599895990,"creation_date":1599895990,"answer_id":63858024,"question_id":215497,"body_markdown":"[![Differences between public, private, default and protected access modifiers][1]][1]\r\n\r\nThis image will make you understand easily about the basic differences between public, private, protected and default access modifiers. The default modifier takes place automatically when you don&#39;t declare ant access modifiers in your code. \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/nAtpl.png","title":"What is the difference between public, protected, package-private and private in Java?","body":"<p><a href=\"https://i.stack.imgur.com/nAtpl.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/nAtpl.png\" alt=\"Differences between public, private, default and protected access modifiers\" /></a></p>\n<p>This image will make you understand easily about the basic differences between public, private, protected and default access modifiers. The default modifier takes place automatically when you don't declare ant access modifiers in your code.</p>\n"},{"tags":[],"owner":{"account_id":25104695,"reputation":13,"user_id":18954998,"display_name":"Tiyus98"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1697652619,"creation_date":1657040876,"answer_id":72873190,"question_id":215497,"body_markdown":"When talking about access modifiers, we can easily understand very simple rules include them.\r\n\r\n**Private Access modifier use in**: - Only the same class\r\n\r\n**Default Access modifier use in**: - Only the same class / the same package subclasses\r\n\r\n**Protected Access modifier use in**: - the same class / the same package subclasses / the same package non - subclasses / different package subclasses\r\n\r\n**Public Access modifier use in**: we can use it anywhere (the same class / same package subclasses / same package non - subclasses / different package subclasses / different package non - subclasses)\r\n\r\n\r\n\r\n","title":"What is the difference between public, protected, package-private and private in Java?","body":"<p>When talking about access modifiers, we can easily understand very simple rules include them.</p>\n<p><strong>Private Access modifier use in</strong>: - Only the same class</p>\n<p><strong>Default Access modifier use in</strong>: - Only the same class / the same package subclasses</p>\n<p><strong>Protected Access modifier use in</strong>: - the same class / the same package subclasses / the same package non - subclasses / different package subclasses</p>\n<p><strong>Public Access modifier use in</strong>: we can use it anywhere (the same class / same package subclasses / same package non - subclasses / different package subclasses / different package non - subclasses)</p>\n"},{"tags":[],"owner":{"account_id":3130088,"reputation":43207,"user_id":2648077,"accept_rate":80,"display_name":"Alireza Fattahi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697665131,"creation_date":1673879114,"answer_id":75135614,"question_id":215497,"body_markdown":"For beginners, considering this example can be helpful;\r\n\r\nConsider I have developed `MyClass` in the `foo` package and it has a fantastic method named `print` which you are interested in calling it (it could be a `method` or `property`):\r\n\r\n    package foo;  // I am in foo\r\n    public class MyClass {\r\n         private void print() { //This is private\r\n            System.out.println(&quot;I can print!&quot;);\r\n        }\r\n    }\r\n\r\nYou have developed `YourClass` in `bar` package, and you are interested to use `MyClass#print`\r\n\r\n    package bar; \\\\You are not in same package as me\r\n    import foo.MyClass;\r\n    public class YourClass {\r\n        void test() {\r\n            MyClass myClass = new MyClass();\r\n            myClass.print();\r\n        }\r\n    }\r\n\r\nYour code is not compile and you get error `The method print() is undefined for the type MyClass`\r\n\r\nYou come to me:\r\n\r\n - You: I want to use your method but it is `private`. Can you make it `public`?\r\n - Me : No I don&#39;t want `others` use it\r\n - You: I am your friend at least let me `not others` use it.\r\n - Me : Ok I will remove the `private` keyword. My Access modifier will be `default` or `private package`. As you are my friend you must be in same package as me. So you `must` come to my package `foo`. I mean exact package not even a sub package.\r\n\r\nThen `MyClass` will be\r\n\r\n    package foo;\r\n    public class MyClass {\r\n        void print() { // No access modifier means default or package-private\r\n            System.out.println(&quot;I can print!&quot;);\r\n        }\r\n    }\r\n\r\n`YourClass` will be:\r\n\r\n    package foo;//You come to my package\r\n    public class YourClass {\r\n        void test() {\r\n            MyClass myClass = new MyClass();\r\n            myClass.print();\r\n        }\r\n    }\r\n\r\n-------\r\n\r\nNow consider this: Again you come to me\r\n\r\n - You: My boss told me I can not change my package (in the actual world, you can not change your package to use other classes methods)\r\n - Me : There is another way, if you `extend` me and I make `print()` `protected`, then you can use it whether you change you package or not. (So subclassing will always give you access to my method).\r\n\r\nHere is `MyClass`\r\n\r\n    package foo;\r\n    protected class MyClass { // It is now protected\r\n         protected void print() {\r\n            System.out.println(&quot;I can print!&quot;);\r\n        }\r\n    }\r\n\r\nHere is `YourClass`:\r\n\r\n    package bar; // You are on your own package\r\n    import foo.MyClass;\r\n\r\n    public class YourClass extends MyClass {\r\n        void  test() {\r\n            // You initiate yourself! But as you extend me, you can call my print()\r\n            YourClass yourClass = new YourClass();\r\n            yourClass.print();\r\n        }\r\n    }\r\n\r\n------\r\n\r\nYou may have noticed that by making a method protected *all* other classes can use it by `extending` it, and you can not easily control how it can be used. This was solved in [Java&amp;nbsp;17][1] by introducing `sealed` and `permits` words. So you can define `which` classes `can` extend you. By something like `public sealed class MyClass permits YourClass`\r\nSee *[What are sealed classes in Java 17?][2]* for more information.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Java_version_history#Java_17\r\n  [2]: https://stackoverflow.com/questions/69218585/what-are-sealed-classes-in-java-17\r\n\r\n\r\n\r\n\r\n","title":"What is the difference between public, protected, package-private and private in Java?","body":"<p>For beginners, considering this example can be helpful;</p>\n<p>Consider I have developed <code>MyClass</code> in the <code>foo</code> package and it has a fantastic method named <code>print</code> which you are interested in calling it (it could be a <code>method</code> or <code>property</code>):</p>\n<pre><code>package foo;  // I am in foo\npublic class MyClass {\n     private void print() { //This is private\n        System.out.println(&quot;I can print!&quot;);\n    }\n}\n</code></pre>\n<p>You have developed <code>YourClass</code> in <code>bar</code> package, and you are interested to use <code>MyClass#print</code></p>\n<pre><code>package bar; \\\\You are not in same package as me\nimport foo.MyClass;\npublic class YourClass {\n    void test() {\n        MyClass myClass = new MyClass();\n        myClass.print();\n    }\n}\n</code></pre>\n<p>Your code is not compile and you get error <code>The method print() is undefined for the type MyClass</code></p>\n<p>You come to me:</p>\n<ul>\n<li>You: I want to use your method but it is <code>private</code>. Can you make it <code>public</code>?</li>\n<li>Me : No I don't want <code>others</code> use it</li>\n<li>You: I am your friend at least let me <code>not others</code> use it.</li>\n<li>Me : Ok I will remove the <code>private</code> keyword. My Access modifier will be <code>default</code> or <code>private package</code>. As you are my friend you must be in same package as me. So you <code>must</code> come to my package <code>foo</code>. I mean exact package not even a sub package.</li>\n</ul>\n<p>Then <code>MyClass</code> will be</p>\n<pre><code>package foo;\npublic class MyClass {\n    void print() { // No access modifier means default or package-private\n        System.out.println(&quot;I can print!&quot;);\n    }\n}\n</code></pre>\n<p><code>YourClass</code> will be:</p>\n<pre><code>package foo;//You come to my package\npublic class YourClass {\n    void test() {\n        MyClass myClass = new MyClass();\n        myClass.print();\n    }\n}\n</code></pre>\n<hr />\n<p>Now consider this: Again you come to me</p>\n<ul>\n<li>You: My boss told me I can not change my package (in the actual world, you can not change your package to use other classes methods)</li>\n<li>Me : There is another way, if you <code>extend</code> me and I make <code>print()</code> <code>protected</code>, then you can use it whether you change you package or not. (So subclassing will always give you access to my method).</li>\n</ul>\n<p>Here is <code>MyClass</code></p>\n<pre><code>package foo;\nprotected class MyClass { // It is now protected\n     protected void print() {\n        System.out.println(&quot;I can print!&quot;);\n    }\n}\n</code></pre>\n<p>Here is <code>YourClass</code>:</p>\n<pre><code>package bar; // You are on your own package\nimport foo.MyClass;\n\npublic class YourClass extends MyClass {\n    void  test() {\n        // You initiate yourself! But as you extend me, you can call my print()\n        YourClass yourClass = new YourClass();\n        yourClass.print();\n    }\n}\n</code></pre>\n<hr />\n<p>You may have noticed that by making a method protected <em>all</em> other classes can use it by <code>extending</code> it, and you can not easily control how it can be used. This was solved in <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_17\" rel=\"nofollow noreferrer\">Java 17</a> by introducing <code>sealed</code> and <code>permits</code> words. So you can define <code>which</code> classes <code>can</code> extend you. By something like <code>public sealed class MyClass permits YourClass</code>\nSee <em><a href=\"https://stackoverflow.com/questions/69218585/what-are-sealed-classes-in-java-17\">What are sealed classes in Java 17?</a></em> for more information.</p>\n"},{"tags":[],"owner":{"account_id":2772352,"reputation":163,"user_id":2386702,"display_name":"Mian Asad Ali"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1692880290,"creation_date":1692880290,"answer_id":76969283,"question_id":215497,"body_markdown":" 1. **public:** Use for wide accessibility across your codebase and in different \r\npackages. Suitable for classes and methods you want to expose universally.\r\n 2. **protected:** Provides access within the same package and in subclasses, even in different packages. Useful for balancing encapsulation with subclass access.\r\n 3. **Default (Package Private):** No explicit modifier; accessible within the same package. Offers encapsulation while allowing access within a package.\r\n 4. **private:** Restricts access to within the class. Ideal for hiding implementation details from other classes.\r\n\r\n\r\n----------\r\n\r\n\r\n**Inheritance:**\r\n\r\nClasses:\r\n\r\n 1. **public:** Subclassable by any class.\r\n 2. **protected:** Subclassable within the same package and in different packages.\r\n 3. **Default:** Subclassable within the same package.\r\n 4. **private:** Not subclassable.\r\n\r\n----------\r\n\r\n\r\nMethods and Fields:\r\n\r\n 1. **public:** Accessible everywhere.\r\n 2. **protected:** Accessible within the same package and in subclasses.\r\n 3. **Default:** Accessible within the same package.\r\n 4. **private:** Accessible only within the same class.\r\n\r\nSubclasses can&#39;t have more restrictive access than their superclasses for overridden methods or fields.","title":"What is the difference between public, protected, package-private and private in Java?","body":"<ol>\n<li><strong>public:</strong> Use for wide accessibility across your codebase and in different\npackages. Suitable for classes and methods you want to expose universally.</li>\n<li><strong>protected:</strong> Provides access within the same package and in subclasses, even in different packages. Useful for balancing encapsulation with subclass access.</li>\n<li><strong>Default (Package Private):</strong> No explicit modifier; accessible within the same package. Offers encapsulation while allowing access within a package.</li>\n<li><strong>private:</strong> Restricts access to within the class. Ideal for hiding implementation details from other classes.</li>\n</ol>\n<hr />\n<p><strong>Inheritance:</strong></p>\n<p>Classes:</p>\n<ol>\n<li><strong>public:</strong> Subclassable by any class.</li>\n<li><strong>protected:</strong> Subclassable within the same package and in different packages.</li>\n<li><strong>Default:</strong> Subclassable within the same package.</li>\n<li><strong>private:</strong> Not subclassable.</li>\n</ol>\n<hr />\n<p>Methods and Fields:</p>\n<ol>\n<li><strong>public:</strong> Accessible everywhere.</li>\n<li><strong>protected:</strong> Accessible within the same package and in subclasses.</li>\n<li><strong>Default:</strong> Accessible within the same package.</li>\n<li><strong>private:</strong> Accessible only within the same class.</li>\n</ol>\n<p>Subclasses can't have more restrictive access than their superclasses for overridden methods or fields.</p>\n"}],"owner":{"account_id":483,"reputation":38319,"user_id":625,"accept_rate":100,"display_name":"intrepion"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2570505,"favorite_count":0,"down_vote_count":19,"up_vote_count":3691,"accepted_answer_id":215505,"answer_count":31,"score":3672,"last_activity_date":1697665131,"creation_date":1224359592,"question_id":215497,"body_markdown":"In Java, are there clear rules on when to use each of access modifiers, namely the default (package private), `public`, `protected` and `private`, while making `class` and `interface` and dealing with inheritance?","title":"What is the difference between public, protected, package-private and private in Java?","body":"<p>In Java, are there clear rules on when to use each of access modifiers, namely the default (package private), <code>public</code>, <code>protected</code> and <code>private</code>, while making <code>class</code> and <code>interface</code> and dealing with inheritance?</p>\n"},{"tags":["java","2d","collision","axis","bullet"],"comments":[{"owner":{"account_id":3398763,"reputation":19,"user_id":2851608,"display_name":"Reiss Gomez"},"score":0,"creation_date":1697645739,"post_id":77317809,"comment_id":136307001,"body_markdown":"They are bigger than just a point, they have a set radius of 10.","body":"They are bigger than just a point, they have a set radius of 10."},{"owner":{"account_id":3398763,"reputation":19,"user_id":2851608,"display_name":"Reiss Gomez"},"score":0,"creation_date":1697646048,"post_id":77317809,"comment_id":136307061,"body_markdown":"Yes I think I could work that out.","body":"Yes I think I could work that out."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1697646733,"post_id":77317809,"comment_id":136307171,"body_markdown":"Imagine another wall parallel and below the one that stops the bullets. The distance between the walls on a line that intersects both walls at right angles is the radius of the bullets. The bullets behave as if they are point size, but stopped by the imagined wall.  So, you need to calculate the distance **g** between the walls along a *vertical* line that intersects both walls. The bullet is stopped when its center is **g** distance below the real wall.","body":"Imagine another wall parallel and below the one that stops the bullets. The distance between the walls on a line that intersects both walls at right angles is the radius of the bullets. The bullets behave as if they are point size, but stopped by the imagined wall.  So, you need to calculate the distance <b>g</b> between the walls along a <i>vertical</i> line that intersects both walls. The bullet is stopped when its center is <b>g</b> distance below the real wall."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1699464764,"post_id":77317809,"comment_id":136536048,"body_markdown":"Did you solve this? I&#39;m sorry, I got distracted shortly after this was posted.","body":"Did you solve this? I&#39;m sorry, I got distracted shortly after this was posted."}],"answers":[{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1697664789,"creation_date":1697650046,"answer_id":77318467,"question_id":77317809,"body_markdown":"Most of the _[java.awt.geom](https://docs.oracle.com/en/java/javase/20/docs/api/java.desktop/java/awt/geom/package-summary.html)_ _framework_ contains helpful _math_ functions.\r\n\r\nThe _[Line2D](https://docs.oracle.com/en/java/javase/20/docs/api/java.desktop/java/awt/geom/Line2D.html)_ class has the _[Line2D#ptLineDist](https://docs.oracle.com/en/java/javase/20/docs/api/java.desktop/java/awt/geom/Line2D.html#ptLineDist(double,double,double,double,double,double))_ method, for calculating this distance, without the radius.\r\n\r\nFor that, I imagine you&#39;re calculating a different angle for the bullet.\\\r\nThis is at least a resource, for that solution.\r\n\r\n```java\r\ndouble a = Line2D.ptLineDist(20, 40, 100, 10, 40, 100);\r\ndouble b = Line2D.ptLineDist(20, 40, 100, 10, 65, 100);\r\nSystem.out.printf(&quot;a = %s, b = %s&quot;, a, b);\r\n```\r\n\r\nOutput\r\n\r\n```none\r\na = 63.202219485910504, b = 71.9803055256203\r\n```","title":"How can I get the projected distance between a line segment and a circle?","body":"<p>Most of the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.desktop/java/awt/geom/package-summary.html\" rel=\"nofollow noreferrer\">java.awt.geom</a></em> <em>framework</em> contains helpful <em>math</em> functions.</p>\n<p>The <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.desktop/java/awt/geom/Line2D.html\" rel=\"nofollow noreferrer\">Line2D</a></em> class has the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.desktop/java/awt/geom/Line2D.html#ptLineDist(double,double,double,double,double,double)\" rel=\"nofollow noreferrer\">Line2D#ptLineDist</a></em> method, for calculating this distance, without the radius.</p>\n<p>For that, I imagine you're calculating a different angle for the bullet.<br />\nThis is at least a resource, for that solution.</p>\n<pre class=\"lang-java prettyprint-override\"><code>double a = Line2D.ptLineDist(20, 40, 100, 10, 40, 100);\ndouble b = Line2D.ptLineDist(20, 40, 100, 10, 65, 100);\nSystem.out.printf(&quot;a = %s, b = %s&quot;, a, b);\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>a = 63.202219485910504, b = 71.9803055256203\n</code></pre>\n"}],"owner":{"account_id":3398763,"reputation":19,"user_id":2851608,"display_name":"Reiss Gomez"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1697664789,"creation_date":1697643757,"question_id":77317809,"body_markdown":"I am making a 2D shooting game in Java, I need to be able to work out the maximum distance a circle could travel forwards (Only on the Y-axis) and get the distance as a float value, I have looked everywhere and can only find the closest distance to the line, but I only want the forward distance. This image is an example of how I am trying to get it to work, the line is a wall and the circles are bullets. If someone could give me a simple Java function that would be brilliant. I need it to take into account the whole circumference of the circle, so even if it slightly clips the wall with the edge, I need that distance. If the line is above the circle I want it to return a negative value, if the line is below I want a positive value, and if they would not collide, return POSITIVE_INFITITY.\r\n\r\n[![enter image description here](https://i.stack.imgur.com/seMQD.png)](https://i.stack.imgur.com/seMQD.png)\r\n\r\nI have tried many different functions I have found online but none seem to suit my purpose of just using the Y axis distance.","title":"How can I get the projected distance between a line segment and a circle?","body":"<p>I am making a 2D shooting game in Java, I need to be able to work out the maximum distance a circle could travel forwards (Only on the Y-axis) and get the distance as a float value, I have looked everywhere and can only find the closest distance to the line, but I only want the forward distance. This image is an example of how I am trying to get it to work, the line is a wall and the circles are bullets. If someone could give me a simple Java function that would be brilliant. I need it to take into account the whole circumference of the circle, so even if it slightly clips the wall with the edge, I need that distance. If the line is above the circle I want it to return a negative value, if the line is below I want a positive value, and if they would not collide, return POSITIVE_INFITITY.</p>\n<p><a href=\"https://i.stack.imgur.com/seMQD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/seMQD.png\" alt=\"enter image description here\" /></a></p>\n<p>I have tried many different functions I have found online but none seem to suit my purpose of just using the Y axis distance.</p>\n"},{"tags":["java","spring-boot","file"],"comments":[{"owner":{"account_id":29646890,"reputation":246,"user_id":22721712,"display_name":"BugHunter"},"score":0,"creation_date":1697539123,"post_id":77308222,"comment_id":136289745,"body_markdown":"Yes, its possible to perfom both file upload and json submission in the same request. You have some errors in your code where the request is not handlet correctly and the method is missing some annotations.","body":"Yes, its possible to perfom both file upload and json submission in the same request. You have some errors in your code where the request is not handlet correctly and the method is missing some annotations."},{"owner":{"account_id":17412700,"reputation":5,"user_id":22410466,"display_name":"Faiz"},"score":0,"creation_date":1697539797,"post_id":77308222,"comment_id":136289874,"body_markdown":"can you please provide what should i use here, and what kind of annotations should i use here","body":"can you please provide what should i use here, and what kind of annotations should i use here"}],"answers":[{"tags":[],"owner":{"account_id":29646890,"reputation":246,"user_id":22721712,"display_name":"BugHunter"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697540702,"creation_date":1697540702,"answer_id":77308470,"question_id":77308222,"body_markdown":"I think you need to use @RequestPart for both the file and the your json payload. \r\n\r\n    public String register(@RequestPart(&quot;file&quot;) MultipartFile file, @RequestPart(&quot;user&quot;) User user) {\r\n    your original code here ...\r\n    \r\n    }\r\n\r\n","title":"How to make a http post request for Uploading a file as well as sending json payload simultaneously","body":"<p>I think you need to use @RequestPart for both the file and the your json payload.</p>\n<pre><code>public String register(@RequestPart(&quot;file&quot;) MultipartFile file, @RequestPart(&quot;user&quot;) User user) {\nyour original code here ...\n\n}\n</code></pre>\n"}],"owner":{"account_id":17412700,"reputation":5,"user_id":22410466,"display_name":"Faiz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697664241,"creation_date":1697538414,"question_id":77308222,"body_markdown":"I have been trying to upload a file as well as send some data with it through Postman using springboot but for some reason, But I don&#39;t know whats happening it&#39;s not working, I have tried using ```@RequestParam(&quot;file&quot;) MultipartFile file and @RequestBody MyClass myClass ``` in the method but it&#39;s not working , I have also used `@requestPart` annotation but it&#39;s not working \r\n\r\n\r\n\r\n\r\nI am using the following code , but I donot know whats wrong with this? \r\n\r\n```\r\n@RestController\r\npublic class FileUpload {\r\n\t\r\n\t@PostMapping(&quot;/upload&quot;)\r\n\tpublic String register(@RequestPart(&quot;file&quot;) MultipartFile file , @RequestBody User \r\nuser\t\t\r\n\t\tString uploadDirectory = &quot;myDirectory&quot;;\r\n\r\n\t\tif (file.isEmpty() || file == null) {\r\n\t\t\treturn &quot;file cannot be null or empty&quot;;\r\n\t\t}\r\n\t\ttry {\r\n\t\t\tFile dir = new File(uploadDirectory);\r\n\t\t\tif (!dir.exists()) {\r\n\t\t\t\tdir.mkdir();\r\n\t\t\t}\r\n\t\t\tString originName = file.getOriginalFilename();\r\n\t\t\tSystem.out.println(originName);\r\n\r\n\t\t\tFile destination = new File(uploadDirectory + File.separator + originName);\r\n\t\t\tif(destination.exists()) {\r\n\t\t\t\treturn &quot;file with same name already exists&quot;;\r\n\t\t\t}else {\r\n\t\t\t\tfile.transferTo(destination);\r\n\t\t\t}\r\n\t\t\treturn &quot;successfully file uploaded using userID : &quot; + user.getUserid();\r\n\r\n\t\t} catch (IOException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t\treturn &quot;upload failed&quot;;\r\n\t\t}\t\t\t\t\t\r\n\t}\r\n```\r\nCan I not perform both operations at same time, I think it should be possible? ","title":"How to make a http post request for Uploading a file as well as sending json payload simultaneously","body":"<p>I have been trying to upload a file as well as send some data with it through Postman using springboot but for some reason, But I don't know whats happening it's not working, I have tried using <code>@RequestParam(&quot;file&quot;) MultipartFile file and @RequestBody MyClass myClass </code> in the method but it's not working , I have also used <code>@requestPart</code> annotation but it's not working</p>\n<p>I am using the following code , but I donot know whats wrong with this?</p>\n<pre><code>@RestController\npublic class FileUpload {\n    \n    @PostMapping(&quot;/upload&quot;)\n    public String register(@RequestPart(&quot;file&quot;) MultipartFile file , @RequestBody User \nuser        \n        String uploadDirectory = &quot;myDirectory&quot;;\n\n        if (file.isEmpty() || file == null) {\n            return &quot;file cannot be null or empty&quot;;\n        }\n        try {\n            File dir = new File(uploadDirectory);\n            if (!dir.exists()) {\n                dir.mkdir();\n            }\n            String originName = file.getOriginalFilename();\n            System.out.println(originName);\n\n            File destination = new File(uploadDirectory + File.separator + originName);\n            if(destination.exists()) {\n                return &quot;file with same name already exists&quot;;\n            }else {\n                file.transferTo(destination);\n            }\n            return &quot;successfully file uploaded using userID : &quot; + user.getUserid();\n\n        } catch (IOException e) {\n            e.printStackTrace();\n            return &quot;upload failed&quot;;\n        }                   \n    }\n</code></pre>\n<p>Can I not perform both operations at same time, I think it should be possible?</p>\n"},{"tags":["java","version","gzip","gzipoutputstream"],"comments":[{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":1,"creation_date":1697499244,"post_id":77305259,"comment_id":136285012,"body_markdown":"Do you have an issue decompressing that output from Java 17 with both version, or any other tool?","body":"Do you have an issue decompressing that output from Java 17 with both version, or any other tool?"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1697545273,"post_id":77305259,"comment_id":136290941,"body_markdown":"Can not reproduce. The only difference I noted, is that Java&#160;8 always writes `0` for the OS flag whereas Java&#160;17 writes `0xFF`. Which does not match your output having `0xFF` in either case. In other words, I get for Java&#160;17 and newer the output you have posted for Java&#160;8. While all older versions differ in only that one header byte. Some remarks: Has `IOUtils.write(…, compressorStream);` any relevant difference to a straight-forward `compressorStream.write(…);`? Why do you use `compressorStream.finish();` instead of closing the stream?","body":"Can not reproduce. The only difference I noted, is that Java 8 always writes <code>0</code> for the OS flag whereas Java 17 writes <code>0xFF</code>. Which does not match your output having <code>0xFF</code> in either case. In other words, I get for Java 17 and newer the output you have posted for Java 8. While all older versions differ in only that one header byte. Some remarks: Has <code>IOUtils.write(…, compressorStream);</code> any relevant difference to a straight-forward <code>compressorStream.write(…);</code>? Why do you use <code>compressorStream.finish();</code> instead of closing the stream?"},{"owner":{"account_id":322981,"reputation":310744,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1697660899,"post_id":77305259,"comment_id":136309490,"body_markdown":"Similar: [*Gzip compression of a string gives different results in java11 vs java17*](https://stackoverflow.com/q/77319353/642706)","body":"Similar: <a href=\"https://stackoverflow.com/q/77319353/642706\"><i>Gzip compression of a string gives different results in java11 vs java17</i></a>"}],"answers":[{"tags":[],"owner":{"account_id":1136690,"reputation":104411,"user_id":1180620,"accept_rate":83,"display_name":"Mark Adler"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697509158,"creation_date":1697509158,"answer_id":77305849,"question_id":77305259,"body_markdown":"There is no problem. Both streams are correct, and both decompress to &quot;test1 test2 test3&quot;.","title":"Change in GZIPOutputStream behavior in Java 17?","body":"<p>There is no problem. Both streams are correct, and both decompress to &quot;test1 test2 test3&quot;.</p>\n"},{"tags":[],"owner":{"account_id":16250750,"reputation":33,"user_id":11734791,"display_name":"Shashi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697663655,"creation_date":1697663655,"answer_id":77319646,"question_id":77305259,"body_markdown":"In gzip compression, a 10-byte header is used, and the 10th byte specifies information about the operating system. Starting from Java 16 and onwards, this 10th byte has been modified to the value 255, whereas it was previously set to 0 before Java 16. This alteration in the 10th byte accounts for the variation observed in the compressed output.\r\nreference: https://bugs.openjdk.org/browse/JDK-8244706","title":"Change in GZIPOutputStream behavior in Java 17?","body":"<p>In gzip compression, a 10-byte header is used, and the 10th byte specifies information about the operating system. Starting from Java 16 and onwards, this 10th byte has been modified to the value 255, whereas it was previously set to 0 before Java 16. This alteration in the 10th byte accounts for the variation observed in the compressed output.\nreference: <a href=\"https://bugs.openjdk.org/browse/JDK-8244706\" rel=\"nofollow noreferrer\">https://bugs.openjdk.org/browse/JDK-8244706</a></p>\n"}],"owner":{"account_id":152786,"reputation":5621,"user_id":367544,"accept_rate":77,"display_name":"Dasmowenator"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":116,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1697663655,"creation_date":1697495015,"question_id":77305259,"body_markdown":"Was there an undocumented change to GZIP behavior in Java 17?  I&#39;ve looked at the [Java update notes][1] and they make no mention of compression to gzip changes.  I&#39;ve created a simple program to demonstrate the change:\r\n\r\n```\r\nByteArrayOutputStream byteStream = new ByteArrayOutputStream();\r\nGZIPOutputStream compressorStream = new GZIPOutputStream(byteStream);\r\nIOUtils.write(&quot;test1 test2 test3&quot;.getBytes(StandardCharsets.UTF_8), compressorStream);\r\ncompressorStream.finish();\r\nfor (byte b : byteStream.toByteArray()) {\r\n    System.out.print(String.format(&quot;%02x &quot;, b));\r\n}\r\n```\r\n\r\nWhen I run this on Java 8 vs Java 17, it produces different results:\r\n```\r\n Java 8: 1f 8b 08 00 00 00 00 00 00 ff 2b 49 2d 2e 31 54 28 01 92 46 60 d2 18 00 e8 5e b8 b9 11 00 00 00\r\nJava 17: 1f 8b 08 00 00 00 00 00 00 ff 2b 49 2d 2e 31 54 28 49 2d 2e 31 02 93 c6 00 e8 5e b8 b9 11 00 00 00 \r\n```\r\n\r\nAs you can see, not only are the byte values different, **the number of bytes in the resulting array is even different!**\r\n\r\nDoes anyone know why this is happening?  Was there any documentation from the Java developers explaining this change in behavior?\r\n\r\n(Java 8 version: `1.8.0_333`, Java 17 version: `17.0.8`)\r\n\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/migrate/significant-changes-jdk-release.html#GUID-6B103F24-CA12-4645-A37C-7AB9E7EF1878","title":"Change in GZIPOutputStream behavior in Java 17?","body":"<p>Was there an undocumented change to GZIP behavior in Java 17?  I've looked at the <a href=\"https://docs.oracle.com/en/java/javase/17/migrate/significant-changes-jdk-release.html#GUID-6B103F24-CA12-4645-A37C-7AB9E7EF1878\" rel=\"nofollow noreferrer\">Java update notes</a> and they make no mention of compression to gzip changes.  I've created a simple program to demonstrate the change:</p>\n<pre><code>ByteArrayOutputStream byteStream = new ByteArrayOutputStream();\nGZIPOutputStream compressorStream = new GZIPOutputStream(byteStream);\nIOUtils.write(&quot;test1 test2 test3&quot;.getBytes(StandardCharsets.UTF_8), compressorStream);\ncompressorStream.finish();\nfor (byte b : byteStream.toByteArray()) {\n    System.out.print(String.format(&quot;%02x &quot;, b));\n}\n</code></pre>\n<p>When I run this on Java 8 vs Java 17, it produces different results:</p>\n<pre><code> Java 8: 1f 8b 08 00 00 00 00 00 00 ff 2b 49 2d 2e 31 54 28 01 92 46 60 d2 18 00 e8 5e b8 b9 11 00 00 00\nJava 17: 1f 8b 08 00 00 00 00 00 00 ff 2b 49 2d 2e 31 54 28 49 2d 2e 31 02 93 c6 00 e8 5e b8 b9 11 00 00 00 \n</code></pre>\n<p>As you can see, not only are the byte values different, <strong>the number of bytes in the resulting array is even different!</strong></p>\n<p>Does anyone know why this is happening?  Was there any documentation from the Java developers explaining this change in behavior?</p>\n<p>(Java 8 version: <code>1.8.0_333</code>, Java 17 version: <code>17.0.8</code>)</p>\n"},{"tags":["java","spring-boot","jenkins-pipeline","jenkins-plugins","maven-plugin"],"comments":[{"owner":{"account_id":9651457,"reputation":247,"user_id":7162494,"display_name":"D. Kellenberger"},"score":0,"creation_date":1697486501,"post_id":77304609,"comment_id":136283473,"body_markdown":"With which JVM Version does your Jenkins Build run? Maybe you have selected there still the old JVM Version.","body":"With which JVM Version does your Jenkins Build run? Maybe you have selected there still the old JVM Version."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1697520919,"post_id":77304609,"comment_id":136286582,"body_markdown":"Remove the `maven.compiler.*` and `source.version` properties. Remove the `maven-compiler-plugin`, Spring Boot already ships with one. The error you get is for not having JDK17 on the build server.  If you really want to override/extend it remove the `release/target` tags from the compiler plugin, you will get those from the one managed by Spring Boot.","body":"Remove the <code>maven.compiler.*</code> and <code>source.version</code> properties. Remove the <code>maven-compiler-plugin</code>, Spring Boot already ships with one. The error you get is for not having JDK17 on the build server.  If you really want to override/extend it remove the <code>release&#47;target</code> tags from the compiler plugin, you will get those from the one managed by Spring Boot."}],"owner":{"account_id":1595477,"reputation":1,"user_id":1477720,"display_name":"user1477720"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":603,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697663469,"creation_date":1697485806,"question_id":77304609,"body_markdown":"I have upgraded my SpringBoot project to JAVA 17 and SpringBoot version 3.1.4. Because in my project Spring Security is used  above 6. I am able to build and release the code after all upgrade in my local.\r\n\r\n- But it failed in Jenkins Pipeline when it started building. There is no problem in local build and other testing as well.\r\n\r\n- We are getting following error. We also upgraded the Jenkins Agent.\r\n\r\n      [ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.11.0:\r\n      compile (default-compile) on project uni-dashboard-portal-external: \r\n      Fatal error compiling: error: release version 17 not supported \r\n\r\n- I am using pom.xml and maven plugin.\r\n- I am able to release the code. Able to build and test the code locally but not able to build in Jenkins.\r\nBelow code I used in pom.xml\r\nI have upgraded my Springboot project to JAVA 17 and springboot version 3.1.4. Because in my project Spring Security is used  above 6. I am able build and release the code after all upgradation in my local.\r\nBut it failed in Jenkins Pipeline when it started building. There is no problem in local build and other testing as well.\r\n\r\n\r\n\r\n\r\n```xml\r\n&lt;parent&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    &lt;version&gt;3.1.4&lt;/version&gt;\r\n    &lt;relativePath/&gt;\r\n&lt;/parent&gt;\r\n&lt;properties&gt;\r\n    &lt;java.version&gt;17&lt;/java.version&gt;\r\n    &lt;maven.compiler.source&gt;${java.version}&lt;/maven.compiler.source&gt;\r\n    &lt;maven.compiler.target&gt;${java.version}&lt;/maven.compiler.target&gt;\r\n    &lt;maven.compiler.release&gt;${java.version}&lt;/maven.compiler.release&gt;\r\n    &lt;source.version&gt;${java.version}&lt;/source.version&gt;\r\n&lt;/properties&gt;\r\n&lt;plugin&gt;\r\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;3.11.0&lt;/version&gt;\r\n    &lt;configuration&gt;\r\n        &lt;release&gt;${java.version}&lt;/release&gt;\r\n        &lt;target&gt;${java.version}&lt;/target&gt;\r\n        &lt;compilerArgs&gt;\r\n            &lt;arg&gt;-Xlint:all&lt;/arg&gt;\r\n        &lt;/compilerArgs&gt;\r\n    &lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n```","title":"Maven Compiler plugin (3.11.0) not supported when upgraded java 17 and spring boot 3.1.4 in Jenkins Pipeline Only","body":"<p>I have upgraded my SpringBoot project to JAVA 17 and SpringBoot version 3.1.4. Because in my project Spring Security is used  above 6. I am able to build and release the code after all upgrade in my local.</p>\n<ul>\n<li><p>But it failed in Jenkins Pipeline when it started building. There is no problem in local build and other testing as well.</p>\n</li>\n<li><p>We are getting following error. We also upgraded the Jenkins Agent.</p>\n<pre><code>[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.11.0:\ncompile (default-compile) on project uni-dashboard-portal-external: \nFatal error compiling: error: release version 17 not supported \n</code></pre>\n</li>\n<li><p>I am using pom.xml and maven plugin.</p>\n</li>\n<li><p>I am able to release the code. Able to build and test the code locally but not able to build in Jenkins.\nBelow code I used in pom.xml\nI have upgraded my Springboot project to JAVA 17 and springboot version 3.1.4. Because in my project Spring Security is used  above 6. I am able build and release the code after all upgradation in my local.\nBut it failed in Jenkins Pipeline when it started building. There is no problem in local build and other testing as well.</p>\n</li>\n</ul>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;3.1.4&lt;/version&gt;\n    &lt;relativePath/&gt;\n&lt;/parent&gt;\n&lt;properties&gt;\n    &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;maven.compiler.source&gt;${java.version}&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;${java.version}&lt;/maven.compiler.target&gt;\n    &lt;maven.compiler.release&gt;${java.version}&lt;/maven.compiler.release&gt;\n    &lt;source.version&gt;${java.version}&lt;/source.version&gt;\n&lt;/properties&gt;\n&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.11.0&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;release&gt;${java.version}&lt;/release&gt;\n        &lt;target&gt;${java.version}&lt;/target&gt;\n        &lt;compilerArgs&gt;\n            &lt;arg&gt;-Xlint:all&lt;/arg&gt;\n        &lt;/compilerArgs&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n"},{"tags":["java","mongodb","spring-boot","spring-data-mongodb"],"answers":[{"tags":[],"owner":{"account_id":15553537,"reputation":221,"user_id":11220609,"display_name":"Tahar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1697663254,"creation_date":1697662906,"answer_id":77319574,"question_id":77316067,"body_markdown":"I&#39;m afraid can&#39;t get rid of the `_id` field from a document as it is a *mandatory* field in MongoDB. You can tell the client what value to use to populate `_id`, but you cannot get rid of that field entirely.\r\n\r\nThe good news, however, is that you can just mark any field as the primary key. Just add the `@Id` annotation to the `name` field. This will internally map `name` to `_id` in the MongoDB document.\r\n\r\nIn your case, you would have to structure your document like so:\r\n```java\r\npublic class Test {\r\n\r\n  @Id // Maps &quot;name&quot; to &quot;_id&quot; in the MongoDB document\r\n  private String name;\r\n\r\n  private String id;\r\n  private String age;\r\n\r\n}\r\n```\r\n\r\nHere&#39;s the relevant page in the [MongoDB documentation](https://www.mongodb.com/docs/manual/reference/bson-types/#objectid) on why `_id` *must* be the primary key:\r\n&gt; A field required in every MongoDB document. The _id field must have a unique value. You can think of the _id field as the document&#39;s primary key . If you create a new document without an _id field, MongoDB automatically creates the field and assigns a unique BSON ObjectId.\r\n\r\nTo learn how the Spring Boot MongoDB library maps values to `_id`, please refer to the [Spring MongoDB documentation](https://docs.spring.io/spring-data/mongodb/docs/1.2.0.RELEASE/reference/html/mapping-chapter.html):\r\n&gt; The following outlines what field will be mapped to the &#39;_id&#39; document field:\r\n&gt; - A field annotated with @Id (org.springframework.data.annotation.Id) will be mapped to the &#39;_id&#39; field.\r\n&gt; - A field without an annotation but named id will be mapped to the &#39;_id&#39; field.\r\n\r\nHope this helps!\r\n\r\nCheers,\r\nTahar","title":"How to add a custom primary key in MongoDB document using Spring Data Mongo","body":"<p>I'm afraid can't get rid of the <code>_id</code> field from a document as it is a <em>mandatory</em> field in MongoDB. You can tell the client what value to use to populate <code>_id</code>, but you cannot get rid of that field entirely.</p>\n<p>The good news, however, is that you can just mark any field as the primary key. Just add the <code>@Id</code> annotation to the <code>name</code> field. This will internally map <code>name</code> to <code>_id</code> in the MongoDB document.</p>\n<p>In your case, you would have to structure your document like so:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Test {\n\n  @Id // Maps &quot;name&quot; to &quot;_id&quot; in the MongoDB document\n  private String name;\n\n  private String id;\n  private String age;\n\n}\n</code></pre>\n<p>Here's the relevant page in the <a href=\"https://www.mongodb.com/docs/manual/reference/bson-types/#objectid\" rel=\"nofollow noreferrer\">MongoDB documentation</a> on why <code>_id</code> <em>must</em> be the primary key:</p>\n<blockquote>\n<p>A field required in every MongoDB document. The _id field must have a unique value. You can think of the _id field as the document's primary key . If you create a new document without an _id field, MongoDB automatically creates the field and assigns a unique BSON ObjectId.</p>\n</blockquote>\n<p>To learn how the Spring Boot MongoDB library maps values to <code>_id</code>, please refer to the <a href=\"https://docs.spring.io/spring-data/mongodb/docs/1.2.0.RELEASE/reference/html/mapping-chapter.html\" rel=\"nofollow noreferrer\">Spring MongoDB documentation</a>:</p>\n<blockquote>\n<p>The following outlines what field will be mapped to the '_id' document field:</p>\n<ul>\n<li>A field annotated with @Id (org.springframework.data.annotation.Id) will be mapped to the '_id' field.</li>\n<li>A field without an annotation but named id will be mapped to the '_id' field.</li>\n</ul>\n</blockquote>\n<p>Hope this helps!</p>\n<p>Cheers,\nTahar</p>\n"}],"owner":{"account_id":15549353,"reputation":147,"user_id":15204797,"display_name":"Pushpak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77319574,"answer_count":1,"score":0,"last_activity_date":1697663254,"creation_date":1697630075,"question_id":77316067,"body_markdown":"I have a MongoDB entity as below.\r\n```\r\npublic class Test {\r\n @Id\r\n private String id;\r\n private String name;\r\n private String age;\r\n}\r\n```\r\nNow, instead of &quot;id&quot;, which creates a primary key &quot;_id&quot; in the document; I want the name to be the primary id in my document. How can I achieve that? Please note that it is mandatory for me to keep the &#39;private String id&#39; field in my class. I have already tried adding @Field(&quot;name&quot;) annotation on top of private String name, but it is not working. ","title":"How to add a custom primary key in MongoDB document using Spring Data Mongo","body":"<p>I have a MongoDB entity as below.</p>\n<pre><code>public class Test {\n @Id\n private String id;\n private String name;\n private String age;\n}\n</code></pre>\n<p>Now, instead of &quot;id&quot;, which creates a primary key &quot;_id&quot; in the document; I want the name to be the primary id in my document. How can I achieve that? Please note that it is mandatory for me to keep the 'private String id' field in my class. I have already tried adding @Field(&quot;name&quot;) annotation on top of private String name, but it is not working.</p>\n"},{"tags":["java","xml","xsd","jaxb","jackson"],"comments":[{"owner":{"account_id":467725,"reputation":19389,"user_id":873282,"accept_rate":55,"display_name":"koppor"},"score":0,"creation_date":1672957756,"post_id":29676658,"comment_id":132396631,"body_markdown":"For the googlers: Although Jackson can handle JAXB annotations, @XmlElements is not well-supported. See https://github.com/FasterXML/jackson-modules-base/issues/127 for details.","body":"For the googlers: Although Jackson can handle JAXB annotations, @XmlElements is not well-supported. See <a href=\"https://github.com/FasterXML/jackson-modules-base/issues/127\" rel=\"nofollow noreferrer\">github.com/FasterXML/jackson-modules-base/issues/127</a> for details."}],"answers":[{"tags":[],"owner":{"account_id":6027993,"reputation":126,"user_id":19785805,"display_name":"Alexander Kashpirovsky"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663331314,"creation_date":1663331314,"answer_id":73744837,"question_id":29676658,"body_markdown":"Jackson can add such information automatically (see [@JsonTypeInfo][1]). For example:\r\n\r\n    @JsonTypeInfo(use = JsonTypeInfo.Id.CLASS, include = JsonTypeInfo.As.PROPERTY)\r\n    protected List&lt;Animal&gt; animal;\r\n\r\nOr use that annotation with [@JsonSubTypes][2]:\r\n\r\n    @JsonTypeInfo(\r\n          use = JsonTypeInfo.Id.NAME, \r\n          include = As.PROPERTY, \r\n          property = &quot;type&quot;)\r\n        @JsonSubTypes({\r\n            @JsonSubTypes.Type(value = Dog.class, name = &quot;Dog&quot;),\r\n            @JsonSubTypes.Type(value = Cat.class, name = &quot;Cat&quot;)\r\n        })\r\n    protected List&lt;Animal&gt; animal; \r\n\r\nThis [link][3] is useful.\r\n\r\n\r\n  [1]: https://fasterxml.github.io/jackson-annotations/javadoc/2.4/com/fasterxml/jackson/annotation/JsonTypeInfo.html\r\n  [2]: https://fasterxml.github.io/jackson-annotations/javadoc/2.9/com/fasterxml/jackson/annotation/JsonSubTypes.html\r\n  [3]: https://www.baeldung.com/jackson-annotations","title":"Jackson: Generate Jackson classes from XSD","body":"<p>Jackson can add such information automatically (see <a href=\"https://fasterxml.github.io/jackson-annotations/javadoc/2.4/com/fasterxml/jackson/annotation/JsonTypeInfo.html\" rel=\"nofollow noreferrer\">@JsonTypeInfo</a>). For example:</p>\n<pre><code>@JsonTypeInfo(use = JsonTypeInfo.Id.CLASS, include = JsonTypeInfo.As.PROPERTY)\nprotected List&lt;Animal&gt; animal;\n</code></pre>\n<p>Or use that annotation with <a href=\"https://fasterxml.github.io/jackson-annotations/javadoc/2.9/com/fasterxml/jackson/annotation/JsonSubTypes.html\" rel=\"nofollow noreferrer\">@JsonSubTypes</a>:</p>\n<pre><code>@JsonTypeInfo(\n      use = JsonTypeInfo.Id.NAME, \n      include = As.PROPERTY, \n      property = &quot;type&quot;)\n    @JsonSubTypes({\n        @JsonSubTypes.Type(value = Dog.class, name = &quot;Dog&quot;),\n        @JsonSubTypes.Type(value = Cat.class, name = &quot;Cat&quot;)\n    })\nprotected List&lt;Animal&gt; animal; \n</code></pre>\n<p>This <a href=\"https://www.baeldung.com/jackson-annotations\" rel=\"nofollow noreferrer\">link</a> is useful.</p>\n"}],"owner":{"account_id":3241392,"reputation":1682,"user_id":2734342,"accept_rate":27,"display_name":"dinup24"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17453,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"answer_count":1,"score":18,"last_activity_date":1697662900,"creation_date":1429191910,"question_id":29676658,"body_markdown":"Similar to JAXB generating JAXB classes to a given XSD, does Jackson provide any utility to generate Jackson classes from XSD or JSON.\r\n\r\nJAXB class geberator has generated a set of classes for XSD schema defined. For example, for polymorphic types JAXB has the following annotation to identify the name based on XML Element name.\r\n\r\n    @XmlElements({\r\n        @XmlElement(name = &quot;Dog&quot;, type = Dog.class),\r\n        @XmlElement(name = &quot;Cat&quot;, type = Cat.class)\r\n    })\r\n    protected List&lt;Animal&gt; animal;\r\n\r\nIs it possible to create similar classes in Jackson. ie., to identify the type based in XML element name.","title":"Jackson: Generate Jackson classes from XSD","body":"<p>Similar to JAXB generating JAXB classes to a given XSD, does Jackson provide any utility to generate Jackson classes from XSD or JSON.</p>\n\n<p>JAXB class geberator has generated a set of classes for XSD schema defined. For example, for polymorphic types JAXB has the following annotation to identify the name based on XML Element name.</p>\n\n<pre><code>@XmlElements({\n    @XmlElement(name = \"Dog\", type = Dog.class),\n    @XmlElement(name = \"Cat\", type = Cat.class)\n})\nprotected List&lt;Animal&gt; animal;\n</code></pre>\n\n<p>Is it possible to create similar classes in Jackson. ie., to identify the type based in XML element name.</p>\n"},{"tags":["java","stack","arraydeque"],"answers":[{"tags":[],"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1697528686,"creation_date":1697528686,"answer_id":77307040,"question_id":77306409,"body_markdown":"Your code probably would work if you don&#39;t use `!=` but instead this:\r\n```java\r\n    if (!Objects.equals(sQueue.removeLast(), tQueue.removeLast())) {\r\n```\r\n\r\nThere&#39;s one issue with your code - it removes all contents of the queue. To prevent that, besides using `toArray()` as suggested in one of the comments, you an use an `Iterator`; `Deque` mandates that it returns &quot;the elements in this deque in proper sequence&quot;:\r\n```java\r\nArrayDeque&lt;Character&gt; sQueue = new ArrayDeque&lt;Character&gt;();\r\nArrayDeque&lt;Character&gt; tQueue = new ArrayDeque&lt;Character&gt;();\r\n\r\n// shortcut - that&#39;s fine\r\nif (sQueue.size() != tQueue.size()) return false;\r\n\r\nIterator&lt;Character&gt; sIterator = sQueue.iterator();\r\nIterator&lt;Character&gt; tIterator = sQueue.iterator();\r\n\r\nwhile (sIterator.hasNext()) {\r\n    // tIterator.hasNext() will also be true\r\n    if (!Objects.equals(sIterator.next(), tIterator.next())) {\r\n        return false;\r\n    }\r\n}\r\n// sIterator and tIterator are both exhausted so all elements are equal\r\nreturn true;\r\n```\r\nYou can do it without the length check, by making two changes:\r\n1) Replace `while (sIterator.hasNext()) {` with `while (sIterator.hasNext() &amp;&amp; tIterator.hasNext()) {` - keep looping until at least one of the iterators is exhausted.\r\n2) Replace the final `return true;` with `return sIterator.hasNext() == tIterator.hasNext();` - return `true` only if both iterators are exhausted.","title":"Java: How to tell if Two ArrayDeque are equal?","body":"<p>Your code probably would work if you don't use <code>!=</code> but instead this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    if (!Objects.equals(sQueue.removeLast(), tQueue.removeLast())) {\n</code></pre>\n<p>There's one issue with your code - it removes all contents of the queue. To prevent that, besides using <code>toArray()</code> as suggested in one of the comments, you an use an <code>Iterator</code>; <code>Deque</code> mandates that it returns &quot;the elements in this deque in proper sequence&quot;:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ArrayDeque&lt;Character&gt; sQueue = new ArrayDeque&lt;Character&gt;();\nArrayDeque&lt;Character&gt; tQueue = new ArrayDeque&lt;Character&gt;();\n\n// shortcut - that's fine\nif (sQueue.size() != tQueue.size()) return false;\n\nIterator&lt;Character&gt; sIterator = sQueue.iterator();\nIterator&lt;Character&gt; tIterator = sQueue.iterator();\n\nwhile (sIterator.hasNext()) {\n    // tIterator.hasNext() will also be true\n    if (!Objects.equals(sIterator.next(), tIterator.next())) {\n        return false;\n    }\n}\n// sIterator and tIterator are both exhausted so all elements are equal\nreturn true;\n</code></pre>\n<p>You can do it without the length check, by making two changes:</p>\n<ol>\n<li>Replace <code>while (sIterator.hasNext()) {</code> with <code>while (sIterator.hasNext() &amp;&amp; tIterator.hasNext()) {</code> - keep looping until at least one of the iterators is exhausted.</li>\n<li>Replace the final <code>return true;</code> with <code>return sIterator.hasNext() == tIterator.hasNext();</code> - return <code>true</code> only if both iterators are exhausted.</li>\n</ol>\n"}],"owner":{"account_id":21004999,"reputation":788,"user_id":15435022,"display_name":"mattsmith5"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":130,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":77307040,"answer_count":1,"score":0,"last_activity_date":1697662850,"creation_date":1697521627,"question_id":77306409,"body_markdown":"Is there a way to tell if Two Array Deques are equal in Java? Stack has an .equals() operator?\r\n\r\nWhat is data values equals method for Array Deque? this is what I wrote temporarily, however it removes items from the Deque. If there is no library method, any way to optimize code below?\r\n\r\n\r\n\tArrayDeque&lt;Character&gt; sQueue = new ArrayDeque&lt;Character&gt;();\r\n\tArrayDeque&lt;Character&gt; tQueue = new ArrayDeque&lt;Character&gt;();\r\n\r\n\tif (sQueue.size() != tQueue.size()) return false;\r\n\r\n\twhile (!sQueue.isEmpty()) {\r\n\t   if (sQueue.removeLast() != tQueue.removeLast()) {\r\n\t\t   return false;\r\n\t   }\r\n\t}\r\n\r\n\treturn true;\r\n\r\n\r\n\r\nQuestion Context: for people who use Leetcode [Backspace String Compare][1]\r\n\r\nAlso, is the original Equals for ArrayDeque just checking thememory pointer variable? this does not seem to work.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://leetcode.com/problems/backspace-string-compare/solutions/4177488/java-solution-with-arraydeque/\r\n  [2]: https://i.stack.imgur.com/C2Yh5.png\r\n\r\nResource: https://stackoverflow.com/questions/18203855/why-doesnt-arraydeque-override-equals-and-hashcode","title":"Java: How to tell if Two ArrayDeque are equal?","body":"<p>Is there a way to tell if Two Array Deques are equal in Java? Stack has an .equals() operator?</p>\n<p>What is data values equals method for Array Deque? this is what I wrote temporarily, however it removes items from the Deque. If there is no library method, any way to optimize code below?</p>\n<pre><code>ArrayDeque&lt;Character&gt; sQueue = new ArrayDeque&lt;Character&gt;();\nArrayDeque&lt;Character&gt; tQueue = new ArrayDeque&lt;Character&gt;();\n\nif (sQueue.size() != tQueue.size()) return false;\n\nwhile (!sQueue.isEmpty()) {\n   if (sQueue.removeLast() != tQueue.removeLast()) {\n       return false;\n   }\n}\n\nreturn true;\n</code></pre>\n<p>Question Context: for people who use Leetcode <a href=\"https://leetcode.com/problems/backspace-string-compare/solutions/4177488/java-solution-with-arraydeque/\" rel=\"nofollow noreferrer\">Backspace String Compare</a></p>\n<p>Also, is the original Equals for ArrayDeque just checking thememory pointer variable? this does not seem to work.</p>\n<p><a href=\"https://i.stack.imgur.com/C2Yh5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/C2Yh5.png\" alt=\"enter image description here\" /></a></p>\n<p>Resource: <a href=\"https://stackoverflow.com/questions/18203855/why-doesnt-arraydeque-override-equals-and-hashcode\">Why doesn&#39;t ArrayDeque override equals() and hashCode()?</a></p>\n"},{"tags":["java","android","remoteview"],"comments":[{"owner":{"account_id":2985836,"reputation":2698,"user_id":2534694,"accept_rate":32,"display_name":"Zen"},"score":0,"creation_date":1460909136,"post_id":8286907,"comment_id":60947616,"body_markdown":"Did you solve this man?","body":"Did you solve this man?"}],"answers":[{"tags":[],"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1322414737,"creation_date":1322414737,"answer_id":8287450,"question_id":8286907,"body_markdown":"You could try inflating a different layout with your `RemoteViews`, one with the widgets in your desired position. I am not sure that it will work, but it is worth a try.","title":"Set position of view in RemoteView during runtime","body":"<p>You could try inflating a different layout with your <code>RemoteViews</code>, one with the widgets in your desired position. I am not sure that it will work, but it is worth a try.</p>\n"},{"tags":[],"owner":{"account_id":1236402,"reputation":1258,"user_id":1199911,"display_name":"mtotschnig"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697662519,"creation_date":1697662207,"answer_id":77319521,"question_id":8286907,"body_markdown":"Since API 31, setTranslationX can be called on RemoteViews, since it is has been annotated as RemotableViewMethod. Either with:\r\n\r\n    myRemoteView.setFloat(R.id.myTextView, &quot;setTranslationX&quot;, 5f)\r\n\r\nor by using an extension method from RemoteViewsCompat:\r\n\r\n    myRemoteView.setViewTranslationXDimen(R.id.myTextView, 5f, TypedValue.COMPLEX_UNIT_PX)\r\n\r\n","title":"Set position of view in RemoteView during runtime","body":"<p>Since API 31, setTranslationX can be called on RemoteViews, since it is has been annotated as RemotableViewMethod. Either with:</p>\n<pre><code>myRemoteView.setFloat(R.id.myTextView, &quot;setTranslationX&quot;, 5f)\n</code></pre>\n<p>or by using an extension method from RemoteViewsCompat:</p>\n<pre><code>myRemoteView.setViewTranslationXDimen(R.id.myTextView, 5f, TypedValue.COMPLEX_UNIT_PX)\n</code></pre>\n"}],"owner":{"account_id":420555,"reputation":1492,"user_id":798314,"accept_rate":64,"display_name":"Verhelst"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":578,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1697662519,"creation_date":1322410205,"question_id":8286907,"body_markdown":"I&#39;m looking for a way to change the position of a view in a\r\n homescreen widget/remoteview during runtime.\r\nI also saw [this topic][1] before but the answer given there didn&#39;t help me or even work.\r\n\r\nFor example:\r\n\r\nI&#39;m trying to shift the x position of the TextView by 5 pixels:\r\n\r\n    myRemoteView.setFloat(R.id.myTextView, &quot;setTranslationX&quot;, 5); // does not work\r\n    myRemoteView.setFloat(R.id.myTextView, &quot;setX&quot;, 5); // does not work\r\n    myRemoteView.setInt(R.id.myTextView, &quot;setLeft&quot;, 5); // does not work\r\n\r\nI couldn&#39;t find somewhere else a useful answer that could help me. \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/6153484/set-position-of-textview-in-remoteview-during-runtime","title":"Set position of view in RemoteView during runtime","body":"<p>I'm looking for a way to change the position of a view in a\n homescreen widget/remoteview during runtime.\nI also saw <a href=\"https://stackoverflow.com/questions/6153484/set-position-of-textview-in-remoteview-during-runtime\">this topic</a> before but the answer given there didn't help me or even work.</p>\n\n<p>For example:</p>\n\n<p>I'm trying to shift the x position of the TextView by 5 pixels:</p>\n\n<pre><code>myRemoteView.setFloat(R.id.myTextView, \"setTranslationX\", 5); // does not work\nmyRemoteView.setFloat(R.id.myTextView, \"setX\", 5); // does not work\nmyRemoteView.setInt(R.id.myTextView, \"setLeft\", 5); // does not work\n</code></pre>\n\n<p>I couldn't find somewhere else a useful answer that could help me. </p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1697642165,"post_id":77317550,"comment_id":136306269,"body_markdown":"`user.name` or `user.home`? You’ve mentioned both.","body":"<code>user.name</code> or <code>user.home</code>? You’ve mentioned both."},{"owner":{"account_id":4421715,"reputation":1485,"user_id":3601445,"accept_rate":37,"display_name":"Unhandled Exception"},"score":0,"creation_date":1697642569,"post_id":77317550,"comment_id":136306372,"body_markdown":"Thanks. Corrected the original post to be user.home which is the focus.","body":"Thanks. Corrected the original post to be user.home which is the focus."},{"owner":{"account_id":213468,"reputation":103493,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1697642662,"post_id":77317550,"comment_id":136306390,"body_markdown":"Given modifying the `USERPROFILE` environment variable doesn&#39;t affect the Java process, I assume it uses some Windows API that reports your actual user profile directory.","body":"Given modifying the <code>USERPROFILE</code> environment variable doesn&#39;t affect the Java process, I assume it uses some Windows API that reports your actual user profile directory."},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1697642841,"post_id":77317550,"comment_id":136306431,"body_markdown":"Have you read the documentation? https://docs.oracle.com/javase/8/docs/api/java/lang/System.html#getProperties--","body":"Have you read the documentation? <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/System.html#getProperties--\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/lang/&hellip;</a>"},{"owner":{"account_id":213468,"reputation":103493,"user_id":466862,"display_name":"Mark Rotteveel"},"score":2,"creation_date":1697642956,"post_id":77317550,"comment_id":136306448,"body_markdown":"Presumably, based on [this question](https://superuser.com/questions/964363/how-do-i-change-the-user-profile-location-in-windows-10), it uses the `ProfilesDirectory` in `HKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft\\Windows NT\\CurrentVersion\\ProfileList` registry key, but I have no interest in mucking with that to verify that (and nor should you, because it can break your Windows profile AFAIK!), and I haven&#39;t got the Java code checked out to search for it.","body":"Presumably, based on <a href=\"https://superuser.com/questions/964363/how-do-i-change-the-user-profile-location-in-windows-10\">this question</a>, it uses the <code>ProfilesDirectory</code> in <code>HKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft\\Windows NT\\CurrentVersion\\ProfileList</code> registry key, but I have no interest in mucking with that to verify that (and nor should you, because it can break your Windows profile AFAIK!), and I haven&#39;t got the Java code checked out to search for it."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1697642988,"post_id":77317550,"comment_id":136306459,"body_markdown":"@aled There is nothing in your link that answers the question.","body":"@aled There is nothing in your link that answers the question."},{"owner":{"account_id":213468,"reputation":103493,"user_id":466862,"display_name":"Mark Rotteveel"},"score":3,"creation_date":1697643089,"post_id":77317550,"comment_id":136306477,"body_markdown":"You may want to explain why you want to change your `user.home`, because `c:\\Users\\User1` **is** your home directory, maybe instead you just need to worry about `user.dir` instead?","body":"You may want to explain why you want to change your <code>user.home</code>, because <code>c:\\Users\\User1</code> <b>is</b> your home directory, maybe instead you just need to worry about <code>user.dir</code> instead?"}],"answers":[{"tags":[],"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1697662420,"creation_date":1697648429,"answer_id":77318295,"question_id":77317550,"body_markdown":"The current implementation as of JDK 21 ([source code][1]) is to search the registry [known key][2] `FOLDERID_Profile`:\r\n```\r\nhr = SHGetKnownFolderPath(&amp;FOLDERID_Profile, KF_FLAG_DONT_VERIFY, NULL, &amp;u_path);\r\n```\r\nThis should provide the same result that the environment variable `%USERPROFILE%`.\r\n\r\n\r\n  [1]: https://github.com/openjdk/jdk/blob/890adb6410dab4606a4f26a942aed02fb2f55387/src/java.base/windows/native/libjava/java_props_md.c#L228\r\n  [2]: https://learn.microsoft.com/en-us/windows/win32/shell/knownfolderid","title":"Where does Java System.getProperty retrieve user.home?","body":"<p>The current implementation as of JDK 21 (<a href=\"https://github.com/openjdk/jdk/blob/890adb6410dab4606a4f26a942aed02fb2f55387/src/java.base/windows/native/libjava/java_props_md.c#L228\" rel=\"nofollow noreferrer\">source code</a>) is to search the registry <a href=\"https://learn.microsoft.com/en-us/windows/win32/shell/knownfolderid\" rel=\"nofollow noreferrer\">known key</a> <code>FOLDERID_Profile</code>:</p>\n<pre><code>hr = SHGetKnownFolderPath(&amp;FOLDERID_Profile, KF_FLAG_DONT_VERIFY, NULL, &amp;u_path);\n</code></pre>\n<p>This should provide the same result that the environment variable <code>%USERPROFILE%</code>.</p>\n"}],"owner":{"account_id":4421715,"reputation":1485,"user_id":3601445,"accept_rate":37,"display_name":"Unhandled Exception"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77318295,"answer_count":1,"score":1,"last_activity_date":1697662420,"creation_date":1697641676,"question_id":77317550,"body_markdown":"Found similar samples but none answered the question from where the user.home value is retrieved when not explicitly set. \r\n\r\nPer researching :\r\n\r\nSystem.**getenv** - retrieves environment variables set on the OS.\r\n\r\nSystem.**getProperty** - retrieves variables set wtihin the JVM via the -D option.\r\n\r\nWorking with user.home and changed this value via the Windows RegEdit to c:\\MyFolder\\User1\\TempDir\r\n\r\n    Computer\\HKEY_CURRENT_USER\\SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\Explorer\\Shell Folders\r\n\r\nThe following test executes both getenv and getProperty.\r\n\r\n    public class SystemPropertyTest \r\n    {\r\n    \tpublic static void main(String[] args)  \r\n    \t{\r\n    \t\tSystem.out.println(&quot;user.home = &quot; + System.getenv(&quot;user.home&quot;));\r\n    \t\tSystem.out.println(&quot;user.home = &quot; + System.getProperty(&quot;user.home&quot;));\r\n    \t\t\r\n        }\r\n    }\r\n\r\ngetenv returns :  c:\\MyFolder\\User1\\TempDir\r\n\r\nEven running &quot;set user.home&quot; at the command prompt returns : c:\\MyFolder\\User1\\TempDir\r\n\r\ngetProperty returns : c:\\Users\\User1       \r\n\r\nSince I never set the user.home within the Java runtime, from where is the user.home being retrieve for the getProperty call and can it be manipulated at the OS level without making a setProperty call or passing in a value via -D?\r\n","title":"Where does Java System.getProperty retrieve user.home?","body":"<p>Found similar samples but none answered the question from where the user.home value is retrieved when not explicitly set.</p>\n<p>Per researching :</p>\n<p>System.<strong>getenv</strong> - retrieves environment variables set on the OS.</p>\n<p>System.<strong>getProperty</strong> - retrieves variables set wtihin the JVM via the -D option.</p>\n<p>Working with user.home and changed this value via the Windows RegEdit to c:\\MyFolder\\User1\\TempDir</p>\n<pre><code>Computer\\HKEY_CURRENT_USER\\SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\Explorer\\Shell Folders\n</code></pre>\n<p>The following test executes both getenv and getProperty.</p>\n<pre><code>public class SystemPropertyTest \n{\n    public static void main(String[] args)  \n    {\n        System.out.println(&quot;user.home = &quot; + System.getenv(&quot;user.home&quot;));\n        System.out.println(&quot;user.home = &quot; + System.getProperty(&quot;user.home&quot;));\n        \n    }\n}\n</code></pre>\n<p>getenv returns :  c:\\MyFolder\\User1\\TempDir</p>\n<p>Even running &quot;set user.home&quot; at the command prompt returns : c:\\MyFolder\\User1\\TempDir</p>\n<p>getProperty returns : c:\\Users\\User1</p>\n<p>Since I never set the user.home within the Java runtime, from where is the user.home being retrieve for the getProperty call and can it be manipulated at the OS level without making a setProperty call or passing in a value via -D?</p>\n"},{"tags":["java","list","concurrency","kotlin","thread-safety"],"comments":[{"owner":{"account_id":6302434,"reputation":5409,"user_id":4896651,"accept_rate":75,"display_name":"Shadov"},"score":1,"creation_date":1527719082,"post_id":50614086,"comment_id":88238096,"body_markdown":"Why not just use the Java one? It will work fine since Kotlin is completely interoperable with Java. Kotlin&#39;s mutable lists are not thread-safe.","body":"Why not just use the Java one? It will work fine since Kotlin is completely interoperable with Java. Kotlin&#39;s mutable lists are not thread-safe."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":3,"creation_date":1527719261,"post_id":50614086,"comment_id":88238151,"body_markdown":"@Shadov I don&#39;t think Kotlin&#39;s collection library is interoperable with the JDK&#39;s.","body":"@Shadov I don&#39;t think Kotlin&#39;s collection library is interoperable with the JDK&#39;s."},{"owner":{"account_id":4882024,"reputation":1990,"user_id":3935512,"accept_rate":67,"display_name":"A.Sanchez.SD"},"score":1,"creation_date":1527719929,"post_id":50614086,"comment_id":88238331,"body_markdown":"If I try to use the Java List a warning message comes up &quot;This class shouldn&#39;t be used in Kotlin...&quot;  Not sure if that is merely a suggestion or serious direction due to some issue...","body":"If I try to use the Java List a warning message comes up &quot;This class shouldn&#39;t be used in Kotlin...&quot;  Not sure if that is merely a suggestion or serious direction due to some issue..."},{"owner":{"account_id":5645,"reputation":168040,"user_id":9204,"accept_rate":82,"display_name":"Alexey Romanov"},"score":2,"creation_date":1527744323,"post_id":50614086,"comment_id":88244113,"body_markdown":"@shmosel Yes, it is: https://kotlinlang.org/docs/reference/java-interop.html#mapped-types.","body":"@shmosel Yes, it is: <a href=\"https://kotlinlang.org/docs/reference/java-interop.html#mapped-types\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/java-interop.html#mapped-types</a>&zwnj;&#8203;."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1527744607,"post_id":50614086,"comment_id":88244209,"body_markdown":"@AlexeyRomanov Interesting. So does that mean you can actually use the `Collections` wrappers?","body":"@AlexeyRomanov Interesting. So does that mean you can actually use the <code>Collections</code> wrappers?"},{"owner":{"account_id":5645,"reputation":168040,"user_id":9204,"accept_rate":82,"display_name":"Alexey Romanov"},"score":2,"creation_date":1527745012,"post_id":50614086,"comment_id":88244363,"body_markdown":"@shmosel Yes (in a JVM-only project, of course).","body":"@shmosel Yes (in a JVM-only project, of course)."},{"owner":{"account_id":2994944,"reputation":51,"user_id":2541656,"display_name":"Grigory Azaryan"},"score":1,"creation_date":1659661149,"post_id":50614086,"comment_id":129353138,"body_markdown":"A thread-safe ArrayList [CopyOnWriteArrayList](https://docs.oracle.com/javase/6/docs/api/java/util/concurrent/CopyOnWriteArrayList.html)","body":"A thread-safe ArrayList <a href=\"https://docs.oracle.com/javase/6/docs/api/java/util/concurrent/CopyOnWriteArrayList.html\" rel=\"nofollow noreferrer\">CopyOnWriteArrayList</a>"}],"answers":[{"tags":[],"owner":{"account_id":5645,"reputation":168040,"user_id":9204,"accept_rate":82,"display_name":"Alexey Romanov"},"down_vote_count":0,"up_vote_count":19,"is_accepted":true,"score":19,"last_activity_date":1527744184,"creation_date":1527744184,"answer_id":50617166,"question_id":50614086,"body_markdown":"&gt; If I try to use the Java List a warning message comes up &quot;This class shouldn&#39;t be used in Kotlin...&quot;\r\n\r\nJava lists (and other collections) are [mapped types][1] in Kotlin. So you _can_ use `Collections.synchronizedList`, and it takes and returns a Kotlin `List` or `MutableList`.\r\n\r\nOTOH, `synchronizedList` is rarely what you actually want: it works for single method calls, but anything else must be synchronized manually.\r\n\r\n  [1]: https://kotlinlang.org/docs/reference/java-interop.html#mapped-types","title":"Is there a Kotlin equivalent of Java&#39;s Collections.synchronizedList ? Or is this not needed in Kotlin","body":"<blockquote>\n  <p>If I try to use the Java List a warning message comes up \"This class shouldn't be used in Kotlin...\"</p>\n</blockquote>\n\n<p>Java lists (and other collections) are <a href=\"https://kotlinlang.org/docs/reference/java-interop.html#mapped-types\" rel=\"noreferrer\">mapped types</a> in Kotlin. So you <em>can</em> use <code>Collections.synchronizedList</code>, and it takes and returns a Kotlin <code>List</code> or <code>MutableList</code>.</p>\n\n<p>OTOH, <code>synchronizedList</code> is rarely what you actually want: it works for single method calls, but anything else must be synchronized manually.</p>\n"},{"tags":[],"owner":{"account_id":1466525,"reputation":2186,"user_id":1379195,"accept_rate":45,"display_name":"Anthone"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697662271,"creation_date":1697662271,"answer_id":77319528,"question_id":50614086,"body_markdown":"You can use CopyOnWriteArrayList is a thread-safe variant of Arraylist","title":"Is there a Kotlin equivalent of Java&#39;s Collections.synchronizedList ? Or is this not needed in Kotlin","body":"<p>You can use CopyOnWriteArrayList is a thread-safe variant of Arraylist</p>\n"}],"owner":{"account_id":4882024,"reputation":1990,"user_id":3935512,"accept_rate":67,"display_name":"A.Sanchez.SD"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35498,"favorite_count":0,"down_vote_count":0,"up_vote_count":32,"accepted_answer_id":50617166,"answer_count":2,"score":32,"last_activity_date":1697662271,"creation_date":1527718760,"question_id":50614086,"body_markdown":"Coding in Kotlin, want a thread-safe List as described here: https://stackoverflow.com/questions/17578299/java-concurrent-array-list-access\r\n\r\nIt seems Collections.kt does not have this function. Are Kotlin&#39;s mutable lists already threadsafe ? If not, how do I accomplish this ? \r\n\r\nThanks. ","title":"Is there a Kotlin equivalent of Java&#39;s Collections.synchronizedList ? Or is this not needed in Kotlin","body":"<p>Coding in Kotlin, want a thread-safe List as described here: <a href=\"https://stackoverflow.com/questions/17578299/java-concurrent-array-list-access\">java concurrent Array List access</a></p>\n\n<p>It seems Collections.kt does not have this function. Are Kotlin's mutable lists already threadsafe ? If not, how do I accomplish this ? </p>\n\n<p>Thanks. </p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9918,"page":114,"page_size":100}
