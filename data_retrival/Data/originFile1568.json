{"items":[{"tags":["java","cassandra","java-11","cassandra-3.0"],"answers":[{"tags":[],"owner":{"account_id":5357170,"reputation":14233,"user_id":4269535,"display_name":"Erick Ramirez"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1645598008,"creation_date":1645598008,"answer_id":71232277,"question_id":71231732,"body_markdown":"Java 11 is only supported in Apache Cassandra 4.0 (see [NEWS.txt][1]).\r\n\r\nOnly Java 8 is supported for earlier versions of Cassandra. You will not be able to start Cassandra otherwise. Cheers!\r\n\r\n\r\n  [1]: https://github.com/apache/cassandra/blob/cassandra-4.0.2/NEWS.txt#L42","title":"Is JDK 11 supported in Cassandra 3.0.x?","body":"<p>Java 11 is only supported in Apache Cassandra 4.0 (see <a href=\"https://github.com/apache/cassandra/blob/cassandra-4.0.2/NEWS.txt#L42\" rel=\"nofollow noreferrer\">NEWS.txt</a>).</p>\n<p>Only Java 8 is supported for earlier versions of Cassandra. You will not be able to start Cassandra otherwise. Cheers!</p>\n"}],"owner":{"account_id":23962403,"reputation":495,"user_id":17952301,"display_name":"Sahil Ummer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1305,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":71232277,"answer_count":1,"score":0,"last_activity_date":1645598087,"creation_date":1645593770,"question_id":71231732,"body_markdown":"I want to upgrade jdk for my webapp. But cassandra versions are of 3.0.15. Is there a way to make cassandra 3.0.15 work with JDK 11?","title":"Is JDK 11 supported in Cassandra 3.0.x?","body":"<p>I want to upgrade jdk for my webapp. But cassandra versions are of 3.0.15. Is there a way to make cassandra 3.0.15 work with JDK 11?</p>\n"},{"tags":["java","spring-boot","spring-webflux"],"owner":{"account_id":15843054,"reputation":11,"user_id":11430999,"display_name":"Priyanka"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1645598080,"creation_date":1645598080,"question_id":71232290,"body_markdown":"I am new to webfluxsecurity and I have been trying to implement the session management and I am using OKTA for authentication. I have found the below answers - \r\nTo kick out the old login with a new login, we only need to set the maximum number of sessions to 1. The configuration is as follows:\r\n\r\n````````````````````````\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n    http.authorizeRequests()\r\n                .anyRequest().authenticated()\r\n                .and()\r\n                .formLogin()\r\n                .loginPage(&quot;/login.html&quot;)\r\n                .permitAll()\r\n                .and()\r\n                .csrf().disable()\r\n                .sessionManagement()\r\n                .maximumSessions(1);\r\n    }\r\n\r\n````````````````````````````````\r\n\r\ndo we have any equivalent method like sessionManagement() in webfluxsecurity ?\r\nOr any other way we can implement session management in webflux ?\r\n\r\nThanks,\r\n","title":"How to implement session management with WebFluxSecurity?","body":"<p>I am new to webfluxsecurity and I have been trying to implement the session management and I am using OKTA for authentication. I have found the below answers -\nTo kick out the old login with a new login, we only need to set the maximum number of sessions to 1. The configuration is as follows:</p>\n<pre><code>\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n    http.authorizeRequests()\n                .anyRequest().authenticated()\n                .and()\n                .formLogin()\n                .loginPage(&quot;/login.html&quot;)\n                .permitAll()\n                .and()\n                .csrf().disable()\n                .sessionManagement()\n                .maximumSessions(1);\n    }\n\n</code></pre>\n<p>do we have any equivalent method like sessionManagement() in webfluxsecurity ?\nOr any other way we can implement session management in webflux ?</p>\n<p>Thanks,</p>\n"},{"tags":["java","amazon-web-services","autoscaling"],"answers":[{"tags":[],"owner":{"account_id":58377,"reputation":247890,"user_id":174777,"display_name":"John Rotenstein"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1476331263,"creation_date":1476331263,"answer_id":40012072,"question_id":40008286,"body_markdown":"It appears that your requirements are:\r\n\r\n* On a regular schedule, start an Amazon EC2 instance that will run a batch job\r\n* At the conclusion of the job, terminate the EC2 instance\r\n\r\nInstead of using Auto Scaling (which is designed to dynamically scale capacity based upon demand), I would recommend:\r\n\r\n* **Use a schedule to launch a new EC2 instance**. The schedule could be a `cron` job on a machine somewhere (on EC2 or anywhere on the Internet), or you could use [Amazon CloudWatch Events](https://docs.aws.amazon.com/AmazonCloudWatch/latest/events/WhatIsCloudWatchEvents.html) to run a Lambda function, which launches the instance.\r\n* When the batch job is complete, **terminate the instance**, which can be done via a couple of methods:\r\n  * Send a command to the operating system to **shutdown**. If the EC2 instance is launched with a **shutdown behavior** of `terminate`, then the instance will automatically be terminated. See: [Changing the Instance Initiated Shutdown Behavior](https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/terminating-instances.html#Using_ChangingInstanceInitiatedShutdownBehavior)\r\n  * Alternatively, have your application make a [`TerminateInstances`](https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/ec2/model/TerminateInstancesRequest.html) API call to AWS to directly terminate the instance.\r\n\r\nOr, you could be nice and modern and **not use an Amazon EC2 instance!**\r\n\r\nSince your batch job is in Java, **you could use a [Lambda function](https://docs.aws.amazon.com/lambda/latest/dg/welcome.html)** together with a CloudWatch Events schedule. The schedule would trigger the Lambda function, which could run your Java code. When it is finished, Lambda will automatically terminate. You are only billed per 100ms of usage.\r\n\r\nPlease note that Lambda functions can execute for a maximum of **5 minutes**, so if your operation takes longer than this, Lambda is not a suitable solution.","title":"Change the Desired Capacity of a auto scaling group in java","body":"<p>It appears that your requirements are:</p>\n\n<ul>\n<li>On a regular schedule, start an Amazon EC2 instance that will run a batch job</li>\n<li>At the conclusion of the job, terminate the EC2 instance</li>\n</ul>\n\n<p>Instead of using Auto Scaling (which is designed to dynamically scale capacity based upon demand), I would recommend:</p>\n\n<ul>\n<li><strong>Use a schedule to launch a new EC2 instance</strong>. The schedule could be a <code>cron</code> job on a machine somewhere (on EC2 or anywhere on the Internet), or you could use <a href=\"https://docs.aws.amazon.com/AmazonCloudWatch/latest/events/WhatIsCloudWatchEvents.html\" rel=\"nofollow\">Amazon CloudWatch Events</a> to run a Lambda function, which launches the instance.</li>\n<li>When the batch job is complete, <strong>terminate the instance</strong>, which can be done via a couple of methods:\n\n<ul>\n<li>Send a command to the operating system to <strong>shutdown</strong>. If the EC2 instance is launched with a <strong>shutdown behavior</strong> of <code>terminate</code>, then the instance will automatically be terminated. See: <a href=\"https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/terminating-instances.html#Using_ChangingInstanceInitiatedShutdownBehavior\" rel=\"nofollow\">Changing the Instance Initiated Shutdown Behavior</a></li>\n<li>Alternatively, have your application make a <a href=\"https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/ec2/model/TerminateInstancesRequest.html\" rel=\"nofollow\"><code>TerminateInstances</code></a> API call to AWS to directly terminate the instance.</li>\n</ul></li>\n</ul>\n\n<p>Or, you could be nice and modern and <strong>not use an Amazon EC2 instance!</strong></p>\n\n<p>Since your batch job is in Java, <strong>you could use a <a href=\"https://docs.aws.amazon.com/lambda/latest/dg/welcome.html\" rel=\"nofollow\">Lambda function</a></strong> together with a CloudWatch Events schedule. The schedule would trigger the Lambda function, which could run your Java code. When it is finished, Lambda will automatically terminate. You are only billed per 100ms of usage.</p>\n\n<p>Please note that Lambda functions can execute for a maximum of <strong>5 minutes</strong>, so if your operation takes longer than this, Lambda is not a suitable solution.</p>\n"},{"tags":[],"owner":{"account_id":15372979,"reputation":81,"user_id":11842006,"display_name":"Saurav Agrawal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645596914,"creation_date":1645596914,"answer_id":71232132,"question_id":40008286,"body_markdown":"You can use the following-\r\n\r\n - Cloudwatch Event Rule as Scheduler. Target would be Lambda in point 2. \r\n - Lambda to change the desired capacity of auto scaling group by calling &quot;setDesiredCapacity&quot; of the auto scaling group.\r\n - In order to shut down the instances after the batch job is complete, please use the AWS Java SDK in the EC2 instance to change the &quot;setDesiredCapacity&quot; to zero again.\r\n \r\nPoints to be noted \r\n - Your minimum capacity should be zero for instances to be terminated. \r\n - Cloudwatch Event Rule Cron Expression should take the time taken by EC2 to spin up into consideration. \r\n - If you don&#39;t want your requests to over public internet, use vpc endpoints to configure traffic internally within your VPC. ","title":"Change the Desired Capacity of a auto scaling group in java","body":"<p>You can use the following-</p>\n<ul>\n<li>Cloudwatch Event Rule as Scheduler. Target would be Lambda in point 2.</li>\n<li>Lambda to change the desired capacity of auto scaling group by calling &quot;setDesiredCapacity&quot; of the auto scaling group.</li>\n<li>In order to shut down the instances after the batch job is complete, please use the AWS Java SDK in the EC2 instance to change the &quot;setDesiredCapacity&quot; to zero again.</li>\n</ul>\n<p>Points to be noted</p>\n<ul>\n<li>Your minimum capacity should be zero for instances to be terminated.</li>\n<li>Cloudwatch Event Rule Cron Expression should take the time taken by EC2 to spin up into consideration.</li>\n<li>If you don't want your requests to over public internet, use vpc endpoints to configure traffic internally within your VPC.</li>\n</ul>\n"}],"owner":{"account_id":6629745,"reputation":71,"user_id":5118784,"accept_rate":20,"display_name":"Dileep"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":861,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1645596914,"creation_date":1476306128,"question_id":40008286,"body_markdown":"I want to bring up an EC2 instance at a particular time, run a java batch job and shut the instance down once done, using Java. I figured out how to bring up the instance and run my job. Need to know how can i shut it down once the job is done. Found out that it is possible by changing the &quot;setDesiredCapacity&quot; of the auto scaling group value to 0. this method takes the auto scaling group name as input. But since the ASG name is dynamically created, not sure how can i get it to my Java job. Any suggestions?","title":"Change the Desired Capacity of a auto scaling group in java","body":"<p>I want to bring up an EC2 instance at a particular time, run a java batch job and shut the instance down once done, using Java. I figured out how to bring up the instance and run my job. Need to know how can i shut it down once the job is done. Found out that it is possible by changing the \"setDesiredCapacity\" of the auto scaling group value to 0. this method takes the auto scaling group name as input. But since the ASG name is dynamically created, not sure how can i get it to my Java job. Any suggestions?</p>\n"},{"tags":["java","android","push","huawei-mobile-services"],"answers":[{"tags":[],"owner":{"account_id":1174345,"reputation":33174,"user_id":1150712,"accept_rate":72,"display_name":"zhangxaochen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645581602,"creation_date":1645581602,"answer_id":71230509,"question_id":71226042,"body_markdown":"&gt; error code: 907122036\r\n\r\nThis error code indicates that Push Kit is not enabled.\r\n\r\nplease refer to [Getting Started](https://developer.huawei.com/consumer/en/doc/development/HMSCore-Guides/android-config-agc-0000001050170137#section9471122085218) to check whether the related service is enabled for the app.\r\n\r\n1. Sign in to AppGallery Connect and click **My projects**.\r\n[![enter image description here][1]][1]\r\n\r\n\r\n2. Find and click the desired project in the project list, and click the app for which you need to set Push Kit parameters.\r\n[![enter image description here][2]][2]\r\n\r\n3. Go to **Project settings** &gt; **Manage APIs** and enable Push Kit.\r\n[![enter image description here][3]][3]\r\n\r\n4. Go to **Grow** &gt; **Push Kit** and click **Enable** now. In the dialog box that is displayed, click **OK**.\r\n[![enter image description here][4]][4]\r\n\r\n5. Enable the precise messaging function. \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/QqWDY.png\r\n  [2]: https://i.stack.imgur.com/lu8jd.png\r\n  [3]: https://i.stack.imgur.com/GboFt.png\r\n  [4]: https://i.stack.imgur.com/IQyo6.png","title":"Huawei Push kit error code &quot;907122036&quot; no right :","body":"<blockquote>\n<p>error code: 907122036</p>\n</blockquote>\n<p>This error code indicates that Push Kit is not enabled.</p>\n<p>please refer to <a href=\"https://developer.huawei.com/consumer/en/doc/development/HMSCore-Guides/android-config-agc-0000001050170137#section9471122085218\" rel=\"nofollow noreferrer\">Getting Started</a> to check whether the related service is enabled for the app.</p>\n<ol>\n<li><p>Sign in to AppGallery Connect and click <strong>My projects</strong>.\n<a href=\"https://i.stack.imgur.com/QqWDY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QqWDY.png\" alt=\"enter image description here\" /></a></p>\n</li>\n<li><p>Find and click the desired project in the project list, and click the app for which you need to set Push Kit parameters.\n<a href=\"https://i.stack.imgur.com/lu8jd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lu8jd.png\" alt=\"enter image description here\" /></a></p>\n</li>\n<li><p>Go to <strong>Project settings</strong> &gt; <strong>Manage APIs</strong> and enable Push Kit.\n<a href=\"https://i.stack.imgur.com/GboFt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GboFt.png\" alt=\"enter image description here\" /></a></p>\n</li>\n<li><p>Go to <strong>Grow</strong> &gt; <strong>Push Kit</strong> and click <strong>Enable</strong> now. In the dialog box that is displayed, click <strong>OK</strong>.\n<a href=\"https://i.stack.imgur.com/IQyo6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IQyo6.png\" alt=\"enter image description here\" /></a></p>\n</li>\n<li><p>Enable the precise messaging function.</p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":8013198,"reputation":363,"user_id":6044283,"display_name":"siva1992"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645596793,"creation_date":1645596793,"answer_id":71232118,"question_id":71226042,"body_markdown":"Basically, this error will come when you have forgotten to enable Push Kit from AGC. \r\n\r\nFor details, please refer to Getting Started to check whether the related service is enabled for the app. \r\n\r\nhttps://developer.huawei.com/consumer/en/doc/development/HMSCore-Guides/android-config-agc-0000001050170137#section9471122085218\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nhttps://developer.huawei.com/consumer/en/doc/development/HMSCore-Guides/commonerror-0000001059816656\r\n\r\n \r\n\r\n \r\n\r\nBefore testing, you can also check for below preparations:\r\n\r\nhttps://developer.huawei.com/consumer/en/doc/development/HMSCore-Guides/android-config-agc-0000001050170137\r\n\r\n [![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/yW5dy.png\r\n  [2]: https://i.stack.imgur.com/04yYr.png","title":"Huawei Push kit error code &quot;907122036&quot; no right :","body":"<p>Basically, this error will come when you have forgotten to enable Push Kit from AGC.</p>\n<p>For details, please refer to Getting Started to check whether the related service is enabled for the app.</p>\n<p><a href=\"https://developer.huawei.com/consumer/en/doc/development/HMSCore-Guides/android-config-agc-0000001050170137#section9471122085218\" rel=\"nofollow noreferrer\">https://developer.huawei.com/consumer/en/doc/development/HMSCore-Guides/android-config-agc-0000001050170137#section9471122085218</a></p>\n<p><a href=\"https://i.stack.imgur.com/yW5dy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yW5dy.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://developer.huawei.com/consumer/en/doc/development/HMSCore-Guides/commonerror-0000001059816656\" rel=\"nofollow noreferrer\">https://developer.huawei.com/consumer/en/doc/development/HMSCore-Guides/commonerror-0000001059816656</a></p>\n<p>Before testing, you can also check for below preparations:</p>\n<p><a href=\"https://developer.huawei.com/consumer/en/doc/development/HMSCore-Guides/android-config-agc-0000001050170137\" rel=\"nofollow noreferrer\">https://developer.huawei.com/consumer/en/doc/development/HMSCore-Guides/android-config-agc-0000001050170137</a></p>\n<p><a href=\"https://i.stack.imgur.com/04yYr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/04yYr.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":7412290,"reputation":187,"user_id":5639298,"display_name":"Kanchan Thakur"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":285,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1645596793,"creation_date":1645552185,"question_id":71226042,"body_markdown":"when i try to get token for Huawei push kit, i logcat show errors like &quot;no right&quot;, &quot;service not available&quot;, &quot;error code: 907122036&quot;. other apis working fine like map, timezone, ","title":"Huawei Push kit error code &quot;907122036&quot; no right :","body":"<p>when i try to get token for Huawei push kit, i logcat show errors like &quot;no right&quot;, &quot;service not available&quot;, &quot;error code: 907122036&quot;. other apis working fine like map, timezone,</p>\n"},{"tags":["java","data-structures","linked-list"],"comments":[{"owner":{"account_id":16657879,"reputation":2625,"user_id":12038714,"display_name":"J Asgarov"},"score":2,"creation_date":1642423617,"post_id":70741548,"comment_id":125059283,"body_markdown":"more efficient is an opinion question. Tell us what specifically doesn&#39;t work, what is the error message and what you have tried to fix it","body":"more efficient is an opinion question. Tell us what specifically doesn&#39;t work, what is the error message and what you have tried to fix it"},{"owner":{"account_id":1078921,"reputation":36333,"user_id":1076463,"accept_rate":65,"display_name":"Robin"},"score":1,"creation_date":1642425821,"post_id":70741548,"comment_id":125060148,"body_markdown":"For starters, you can only loop once over the linked list instead of twice","body":"For starters, you can only loop once over the linked list instead of twice"},{"owner":{"account_id":7142980,"reputation":323253,"user_id":5459839,"display_name":"trincot"},"score":0,"creation_date":1642435142,"post_id":70741548,"comment_id":125064244,"body_markdown":"Your code is not doing what you are saying in the first sentence: *&quot;Swap the nodes&quot;*, which is also reflected in the name of the function. But your code is swapping values, not nodes. It also has a dangling brace.","body":"Your code is not doing what you are saying in the first sentence: <i>&quot;Swap the nodes&quot;</i>, which is also reflected in the name of the function. But your code is swapping values, not nodes. It also has a dangling brace."},{"owner":{"account_id":20410134,"reputation":2766,"user_id":14973743,"display_name":"Anand Sowmithiran"},"score":0,"creation_date":1642515774,"post_id":70741548,"comment_id":125087365,"body_markdown":"find the max of (i,j) , and use only that to traverse to that node, while going to it, the lesser position node can be got hold of. this is the efficient way. the problem says swap the nodes, if data swapping alone is acceptable is ambiguous.","body":"find the max of (i,j) , and use only that to traverse to that node, while going to it, the lesser position node can be got hold of. this is the efficient way. the problem says swap the nodes, if data swapping alone is acceptable is ambiguous."}],"answers":[{"tags":[],"owner":{"account_id":18987504,"reputation":560,"user_id":13857453,"display_name":"Wahidullah Shadab"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645596721,"creation_date":1645596721,"answer_id":71232107,"question_id":70741548,"body_markdown":"To make it more efficient you can remove one of the for loops. first add another variable named `LinkedListNode&lt;Integer&gt; t=head;`, then you can first check between i and j and see which one is bigger and do a for loop for that. \r\n\r\n    LinkedListNode&lt;Integer&gt; t=head;\r\n\r\n    int counter = (i &gt; j) ? i : j;\r\n    for(int x=0;x&lt;counter;x++)\r\n    {      \r\n        t = t.next;\r\n        if(counter == i-1){   \r\n           temp=t.next;\r\n        } \r\n        if(counter == j-1){\r\n           temp1=t.next;\r\n        }       \r\n    }","title":"Swap two Nodes of LinkedList","body":"<p>To make it more efficient you can remove one of the for loops. first add another variable named <code>LinkedListNode&lt;Integer&gt; t=head;</code>, then you can first check between i and j and see which one is bigger and do a for loop for that.</p>\n<pre><code>LinkedListNode&lt;Integer&gt; t=head;\n\nint counter = (i &gt; j) ? i : j;\nfor(int x=0;x&lt;counter;x++)\n{      \n    t = t.next;\n    if(counter == i-1){   \n       temp=t.next;\n    } \n    if(counter == j-1){\n       temp1=t.next;\n    }       \n}\n</code></pre>\n"}],"owner":{"account_id":23888714,"reputation":11,"user_id":17888623,"display_name":"Krunal"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":406,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1645596721,"creation_date":1642423372,"question_id":70741548,"body_markdown":"**You have been given a singly linked list of integers along with two integers, &#39;i,&#39; and &#39;j.&#39; Swap the nodes that are present at the &#39;i-th&#39; and &#39;j-th&#39; positions.\r\n\r\nMy code is as below, can you suggest an efficient alternate way?**\r\n\r\n```\r\npublic static LinkedListNode&lt;Integer&gt; swapNodes(LinkedListNode&lt;Integer&gt; head, int i, int j) {\r\n\t\t//Your code goes here\r\n        LinkedListNode&lt;Integer&gt; temp=head;\r\n        LinkedListNode&lt;Integer&gt; temp1=head;\r\n        LinkedListNode&lt;Integer&gt; tempo=new LinkedListNode&lt;Integer&gt;(0);\r\n        int beg=0, end=0;\r\n   \r\n       for(int x=0;x&lt;i;x++)\r\n        {      \r\n            temp=temp.next;\r\n           \r\n        }\r\n\r\n        for(int y=0;y&lt;j;y++)\r\n        {\r\n            temp1=temp1.next;\r\n        \r\n        }\r\n   \r\n       tempo.data= temp.data;\r\n        temp.data= temp1.data;\r\n        temp1.data=tempo.data;\r\n        \r\n        \r\n        return head;\r\n        \r\n\t}\r\n\r\n}\r\n```\r\n\r\n\r\n  [1]: https://","title":"Swap two Nodes of LinkedList","body":"<p>**You have been given a singly linked list of integers along with two integers, 'i,' and 'j.' Swap the nodes that are present at the 'i-th' and 'j-th' positions.</p>\n<p>My code is as below, can you suggest an efficient alternate way?**</p>\n<pre><code>public static LinkedListNode&lt;Integer&gt; swapNodes(LinkedListNode&lt;Integer&gt; head, int i, int j) {\n        //Your code goes here\n        LinkedListNode&lt;Integer&gt; temp=head;\n        LinkedListNode&lt;Integer&gt; temp1=head;\n        LinkedListNode&lt;Integer&gt; tempo=new LinkedListNode&lt;Integer&gt;(0);\n        int beg=0, end=0;\n   \n       for(int x=0;x&lt;i;x++)\n        {      \n            temp=temp.next;\n           \n        }\n\n        for(int y=0;y&lt;j;y++)\n        {\n            temp1=temp1.next;\n        \n        }\n   \n       tempo.data= temp.data;\n        temp.data= temp1.data;\n        temp1.data=tempo.data;\n        \n        \n        return head;\n        \n    }\n\n}\n</code></pre>\n"},{"tags":["java","android","html","selenium","htmlunit"],"comments":[{"owner":{"account_id":2414645,"reputation":11194,"user_id":2108972,"display_name":"greenapps"},"score":0,"creation_date":1467800688,"post_id":38220828,"comment_id":63865640,"body_markdown":"`The alternative should be able to fill in texts, checkboxes, radiobuttons into an Html form and click on the submit button`. No. Just use HttpUrlConnection to post the values to the webserver (action url). You do not even have to request the page first as you will know which inputs are on the form.","body":"<code>The alternative should be able to fill in texts, checkboxes, radiobuttons into an Html form and click on the submit button</code>. No. Just use HttpUrlConnection to post the values to the webserver (action url). You do not even have to request the page first as you will know which inputs are on the form."},{"owner":{"account_id":7265535,"reputation":280,"user_id":5540406,"accept_rate":100,"display_name":"adonayresom"},"score":0,"creation_date":1467873877,"post_id":38220828,"comment_id":63898957,"body_markdown":"Can you please further explain how I could achieve that? Im really new to android (actually programming as a whole - I just took my first CS course). @greenapps","body":"Can you please further explain how I could achieve that? Im really new to android (actually programming as a whole - I just took my first CS course). @greenapps"},{"owner":{"account_id":7265535,"reputation":280,"user_id":5540406,"accept_rate":100,"display_name":"adonayresom"},"score":0,"creation_date":1467882259,"post_id":38220828,"comment_id":63903854,"body_markdown":"Actually @greenapps I found a method. Thanks. I thought about what you said and started to dig online. But please try to answer another question that came up. I posted the question below.","body":"Actually @greenapps I found a method. Thanks. I thought about what you said and started to dig online. But please try to answer another question that came up. I posted the question below."}],"answers":[{"tags":[],"owner":{"account_id":7265535,"reputation":280,"user_id":5540406,"accept_rate":100,"display_name":"adonayresom"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1467882640,"creation_date":1467882640,"answer_id":38241564,"question_id":38220828,"body_markdown":"Guys I kind of found another method. Since I know the servers address I tried to post the data directly to it using a `DataOutputStream`. Look at the code below:\r\n\r\n    public String searchDirectory() throws IOException {\r\n        URL url = new URL(&quot;https://www.xxxxx.com/xxxxx/xxxxx.cgi&quot;);\r\n        URLConnection con = url.openConnection();\r\n        con.setDoInput(true);\r\n        con.setDoOutput(true);\r\n        con.setUseCaches(false);\r\n        con.setRequestProperty(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;);\r\n\r\n        DataOutputStream printout = new DataOutputStream (con.getOutputStream ());\r\n\r\n        String parameters =(&quot;name=&quot; + URLEncoder.encode(&quot;DATA HERE&quot;, &quot;UTF-8&quot;));\r\n        printout.writeBytes (parameters);\r\n        printout.flush ();\r\n        printout.close ();\r\n            /*InputStream inputStream = getApplicationContext().getResources().getAssets().open(&quot;White Pages Query Results.html&quot;);\r\n            InputStreamReader inputStreamReader = new InputStreamReader(inputStream, &quot;UTF-8&quot;);\r\n            */\r\n        DataInputStream input = new DataInputStream (con.getInputStream ());\r\n        String line;\r\n        String htmlCode = &quot;&quot;;\r\n        while((line = input.readLine()) != null) {\r\n            htmlCode += line;\r\n        }\r\n        return htmlCode;\r\n    }\r\n\r\nAs you can see I&#39;m using the names of the Html Elements to access them through java. However as you can see from the html form code in original post the radio buttons have the same name, how can I access/fill them separately without using their names??","title":"An HtmlUnit alternative for android?","body":"<p>Guys I kind of found another method. Since I know the servers address I tried to post the data directly to it using a <code>DataOutputStream</code>. Look at the code below:</p>\n\n<pre><code>public String searchDirectory() throws IOException {\n    URL url = new URL(\"https://www.xxxxx.com/xxxxx/xxxxx.cgi\");\n    URLConnection con = url.openConnection();\n    con.setDoInput(true);\n    con.setDoOutput(true);\n    con.setUseCaches(false);\n    con.setRequestProperty(\"Content-Type\", \"application/x-www-form-urlencoded\");\n\n    DataOutputStream printout = new DataOutputStream (con.getOutputStream ());\n\n    String parameters =(\"name=\" + URLEncoder.encode(\"DATA HERE\", \"UTF-8\"));\n    printout.writeBytes (parameters);\n    printout.flush ();\n    printout.close ();\n        /*InputStream inputStream = getApplicationContext().getResources().getAssets().open(\"White Pages Query Results.html\");\n        InputStreamReader inputStreamReader = new InputStreamReader(inputStream, \"UTF-8\");\n        */\n    DataInputStream input = new DataInputStream (con.getInputStream ());\n    String line;\n    String htmlCode = \"\";\n    while((line = input.readLine()) != null) {\n        htmlCode += line;\n    }\n    return htmlCode;\n}\n</code></pre>\n\n<p>As you can see I'm using the names of the Html Elements to access them through java. However as you can see from the html form code in original post the radio buttons have the same name, how can I access/fill them separately without using their names??</p>\n"},{"tags":[],"owner":{"account_id":6163228,"reputation":2754,"user_id":4804091,"display_name":"RBRi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645596659,"creation_date":1645596659,"answer_id":71232098,"question_id":38220828,"body_markdown":"The HtmlUnit folks have started to work on android support. There biggest problem - a class version clash between HtmlUnit (using HttpClient) and and the version of the HttpClient partly integrated inside the android jdk - is now solved.\r\nYou can use the distribution from the https://github.com/HtmlUnit/htmlunit-android project.\r\n\r\nPlease try and report any problems.","title":"An HtmlUnit alternative for android?","body":"<p>The HtmlUnit folks have started to work on android support. There biggest problem - a class version clash between HtmlUnit (using HttpClient) and and the version of the HttpClient partly integrated inside the android jdk - is now solved.\nYou can use the distribution from the <a href=\"https://github.com/HtmlUnit/htmlunit-android\" rel=\"nofollow noreferrer\">https://github.com/HtmlUnit/htmlunit-android</a> project.</p>\n<p>Please try and report any problems.</p>\n"}],"owner":{"account_id":7265535,"reputation":280,"user_id":5540406,"accept_rate":100,"display_name":"adonayresom"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1665,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":38241564,"answer_count":2,"score":3,"last_activity_date":1645596659,"creation_date":1467797932,"question_id":38220828,"body_markdown":"An alternative that allows me to fill an HTML form that has checkboxes and radiobuttons.\r\n\r\nI was creating this android app that asks user input and sends that data to a website with an html form, fills it, submits the form, and returns the following results page. \r\n\r\nI already managed to send data to the html form and retrieve the page using the HtmlUnit library in eclipse (I have posted the Java code for that below).\r\n\r\nHowever, when I copied that code to my Android project I found out that Android does not support the HtmlUnit library. \r\n\r\nIs there another alternative to HtmlUnit for Android? The alternative should be able to fill in texts, checkboxes, radiobuttons into an Html form and click on the submit button \r\n\r\nHtml form code:\r\n\r\n    &lt;form method=&quot;post&quot; action=&quot;https://www.xxxxx.com/cgi-bin/xxxxxx.cgi&quot;&gt;\r\n\r\n\r\n    &lt;p&gt;&lt;em&gt;Person:&lt;/em&gt;\r\n    &lt;input size=&quot;18&quot; name=&quot;name&quot;&gt;&lt;br&gt;\r\n    &lt;input type=&quot;radio&quot; name=&quot;login&quot; value=&quot;no&quot; checked=&quot;&quot;&gt;Name &lt;input     type=&quot;radio&quot; name=&quot;login&quot; value=&quot;yes&quot;&gt;Username&lt;/p&gt;\r\n\r\n    &lt;p&gt;&lt;em&gt;Title:&lt;/em&gt;\r\n    &lt;input size=&quot;18&quot; name=&quot;title&quot;&gt;&lt;/p&gt;\r\n\r\n    &lt;p&gt;&lt;em&gt;Department:&lt;/em&gt;\r\n    &lt;input size=&quot;18&quot; name=&quot;department&quot;&gt;&lt;/p&gt;\r\n\r\n    &lt;p&gt;&lt;em&gt;Groups to Search:&lt;/em&gt;&lt;br&gt;\r\n    &lt;input type=&quot;checkbox&quot; name=&quot;get_student&quot; value=&quot;yes&quot; checked=&quot;&quot;&gt; Students&lt;br&gt;\r\n    &lt;input type=&quot;checkbox&quot; name=&quot;get_alum&quot; value=&quot;yes&quot; checked=&quot;&quot;&gt; Alumni&lt;br&gt;\r\n\r\n    &lt;input type=&quot;checkbox&quot; name=&quot;get_staff&quot; value=&quot;yes&quot; checked=&quot;&quot;&gt; Staff&lt;br&gt;\r\n    &lt;input type=&quot;checkbox&quot; name=&quot;get_faculty&quot; value=&quot;yes&quot; checked=&quot;&quot;&gt; Faculty&lt;/p&gt;\r\n\r\n    &lt;p&gt;&lt;input type=&quot;submit&quot; value=&quot;Search&quot;&gt;&lt;/p&gt;\r\n    &lt;/form&gt;\r\n\r\nHtmlUnit Java Code:\r\n\r\n    public static String submittingForm() throws Exception {\r\n\r\n    \t\r\n\t    final WebClient webClient = new WebClient(BrowserVersion.FIREFOX_38);\r\n\t    webClient.getOptions().setJavaScriptEnabled(false);\r\n        webClient.getOptions().setThrowExceptionOnScriptError(false);\r\n        webClient.setAjaxController(new NicelyResynchronizingAjaxController()); \r\n\r\n        WebRequest request = new WebRequest(new URL(&quot;https://www.xxxxx.com/&quot;));\r\n      \r\n\t    // Get the first page\r\n        HtmlPage page1 = webClient.getPage(request);\r\n\r\n        System.out.println(&quot;PULLING LINKS/ LOADING:&quot;);\r\n        \r\n\t    // Get the form that we are dealing with and within that form, \r\n\t    // find the submit button and the field that we want to change.\r\n\t    List&lt;HtmlForm&gt; listform = page1.getForms();\r\n\t    HtmlForm form = listform.get(0);\r\n\t    \r\n\t    \r\n\t    HtmlElement Name = page1.getElementByName(&quot;name&quot;);\r\n\t    Name.click();\r\n\t    Name.type(&quot;Adonay&quot;);\r\n\t    HtmlElement nameRadio = page1.getFirstByXPath(&quot;/html/body//div[@id=&#39;wrapper&#39;]//div[@id=&#39;layout&#39;]//div[@id=&#39;container&#39;]//div[@id=&#39;col1&#39;]//div[@id=&#39;content&#39;]//div[@class=&#39;directory-search&#39;]//form//input[@type=&#39;radio&#39; and @value=&#39;no&#39;]&quot;);\r\n\t    HtmlElement userRadio = page1.getFirstByXPath(&quot;/html/body//div[@id=&#39;wrapper&#39;]//div[@id=&#39;layout&#39;]//div[@id=&#39;container&#39;]//div[@id=&#39;col1&#39;]//div[@id=&#39;content&#39;]//div[@class=&#39;directory-search&#39;]//form//input[@type=&#39;radio&#39; and @value=&#39;yes&#39;]&quot;);\r\n\t   /* userRadio.click(); click when username wanted*/\r\n\t    HtmlElement Title = page1.getElementByName(&quot;title&quot;);\r\n\t    Title.click();\r\n\t    Title.type(&quot;&quot;);\r\n\t    HtmlElement Department = page1.getElementByName(&quot;department&quot;);\r\n\t    Department.click();\r\n\t    Department.type(&quot;&quot;);\r\n\t    HtmlElement studentBox = page1.getFirstByXPath(&quot;/html/body//div[@id=&#39;wrapper&#39;]//div[@id=&#39;layout&#39;]//div[@id=&#39;container&#39;]//div[@id=&#39;col1&#39;]//div[@id=&#39;content&#39;]//div[@class=&#39;directory-search&#39;]//form//input[@type=&#39;checkbox&#39; and @name=&#39;get_student&#39;]&quot;);\r\n\t    studentBox.click();\r\n\t    //add clicker here\r\n\t    HtmlElement alumniBox = page1.getFirstByXPath(&quot;/html/body//div[@id=&#39;wrapper&#39;]//div[@id=&#39;layout&#39;]//div[@id=&#39;container&#39;]//div[@id=&#39;col1&#39;]//div[@id=&#39;content&#39;]//div[@class=&#39;directory-search&#39;]//form//input[@type=&#39;checkbox&#39; and @name=&#39;get_alum&#39;]&quot;);\r\n\t    alumniBox.click();\r\n\t    //add clicker here\r\n\t    HtmlElement staffBox = page1.getFirstByXPath(&quot;/html/body//div[@id=&#39;wrapper&#39;]//div[@id=&#39;layout&#39;]//div[@id=&#39;container&#39;]//div[@id=&#39;col1&#39;]//div[@id=&#39;content&#39;]//div[@class=&#39;directory-search&#39;]//form//input[@type=&#39;checkbox&#39; and @name=&#39;get_staff&#39;]&quot;);\r\n\t    staffBox.click();\r\n\t    //add clicker here\r\n\t    HtmlElement facultyBox = page1.getFirstByXPath(&quot;/html/body//div[@id=&#39;wrapper&#39;]//div[@id=&#39;layout&#39;]//div[@id=&#39;container&#39;]//div[@id=&#39;col1&#39;]//div[@id=&#39;content&#39;]//div[@class=&#39;directory-search&#39;]//form//input[@type=&#39;checkbox&#39; and @name=&#39;get_faculty&#39;]&quot;);\r\n\t    facultyBox.click();\r\n\t    //add clicker here\r\n\r\n\t    \r\n\t    \r\n\t    HtmlElement button = page1.getFirstByXPath(&quot;/html/body//div[@id=&#39;wrapper&#39;]//div[@id=&#39;layout&#39;]//div[@id=&#39;container&#39;]//div[@id=&#39;col1&#39;]//div[@id=&#39;content&#39;]//div[@class=&#39;directory-search&#39;]//form//input[@type=&#39;submit&#39; and @value=&#39;Search&#39;]&quot;);\r\n\t    // Change the value of the text field\r\n\r\n\t    // Now submit the form by clicking the button and get back the second page.\r\n\t    HtmlPage page2 = button.click();\r\n\t    webClient.waitForBackgroundJavaScript(200);\r\n\t    return(page2.asXml());\r\n\t}\r\n","title":"An HtmlUnit alternative for android?","body":"<p>An alternative that allows me to fill an HTML form that has checkboxes and radiobuttons.</p>\n\n<p>I was creating this android app that asks user input and sends that data to a website with an html form, fills it, submits the form, and returns the following results page. </p>\n\n<p>I already managed to send data to the html form and retrieve the page using the HtmlUnit library in eclipse (I have posted the Java code for that below).</p>\n\n<p>However, when I copied that code to my Android project I found out that Android does not support the HtmlUnit library. </p>\n\n<p>Is there another alternative to HtmlUnit for Android? The alternative should be able to fill in texts, checkboxes, radiobuttons into an Html form and click on the submit button </p>\n\n<p>Html form code:</p>\n\n<pre><code>&lt;form method=\"post\" action=\"https://www.xxxxx.com/cgi-bin/xxxxxx.cgi\"&gt;\n\n\n&lt;p&gt;&lt;em&gt;Person:&lt;/em&gt;\n&lt;input size=\"18\" name=\"name\"&gt;&lt;br&gt;\n&lt;input type=\"radio\" name=\"login\" value=\"no\" checked=\"\"&gt;Name &lt;input     type=\"radio\" name=\"login\" value=\"yes\"&gt;Username&lt;/p&gt;\n\n&lt;p&gt;&lt;em&gt;Title:&lt;/em&gt;\n&lt;input size=\"18\" name=\"title\"&gt;&lt;/p&gt;\n\n&lt;p&gt;&lt;em&gt;Department:&lt;/em&gt;\n&lt;input size=\"18\" name=\"department\"&gt;&lt;/p&gt;\n\n&lt;p&gt;&lt;em&gt;Groups to Search:&lt;/em&gt;&lt;br&gt;\n&lt;input type=\"checkbox\" name=\"get_student\" value=\"yes\" checked=\"\"&gt; Students&lt;br&gt;\n&lt;input type=\"checkbox\" name=\"get_alum\" value=\"yes\" checked=\"\"&gt; Alumni&lt;br&gt;\n\n&lt;input type=\"checkbox\" name=\"get_staff\" value=\"yes\" checked=\"\"&gt; Staff&lt;br&gt;\n&lt;input type=\"checkbox\" name=\"get_faculty\" value=\"yes\" checked=\"\"&gt; Faculty&lt;/p&gt;\n\n&lt;p&gt;&lt;input type=\"submit\" value=\"Search\"&gt;&lt;/p&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>HtmlUnit Java Code:</p>\n\n<pre><code>public static String submittingForm() throws Exception {\n\n\n    final WebClient webClient = new WebClient(BrowserVersion.FIREFOX_38);\n    webClient.getOptions().setJavaScriptEnabled(false);\n    webClient.getOptions().setThrowExceptionOnScriptError(false);\n    webClient.setAjaxController(new NicelyResynchronizingAjaxController()); \n\n    WebRequest request = new WebRequest(new URL(\"https://www.xxxxx.com/\"));\n\n    // Get the first page\n    HtmlPage page1 = webClient.getPage(request);\n\n    System.out.println(\"PULLING LINKS/ LOADING:\");\n\n    // Get the form that we are dealing with and within that form, \n    // find the submit button and the field that we want to change.\n    List&lt;HtmlForm&gt; listform = page1.getForms();\n    HtmlForm form = listform.get(0);\n\n\n    HtmlElement Name = page1.getElementByName(\"name\");\n    Name.click();\n    Name.type(\"Adonay\");\n    HtmlElement nameRadio = page1.getFirstByXPath(\"/html/body//div[@id='wrapper']//div[@id='layout']//div[@id='container']//div[@id='col1']//div[@id='content']//div[@class='directory-search']//form//input[@type='radio' and @value='no']\");\n    HtmlElement userRadio = page1.getFirstByXPath(\"/html/body//div[@id='wrapper']//div[@id='layout']//div[@id='container']//div[@id='col1']//div[@id='content']//div[@class='directory-search']//form//input[@type='radio' and @value='yes']\");\n   /* userRadio.click(); click when username wanted*/\n    HtmlElement Title = page1.getElementByName(\"title\");\n    Title.click();\n    Title.type(\"\");\n    HtmlElement Department = page1.getElementByName(\"department\");\n    Department.click();\n    Department.type(\"\");\n    HtmlElement studentBox = page1.getFirstByXPath(\"/html/body//div[@id='wrapper']//div[@id='layout']//div[@id='container']//div[@id='col1']//div[@id='content']//div[@class='directory-search']//form//input[@type='checkbox' and @name='get_student']\");\n    studentBox.click();\n    //add clicker here\n    HtmlElement alumniBox = page1.getFirstByXPath(\"/html/body//div[@id='wrapper']//div[@id='layout']//div[@id='container']//div[@id='col1']//div[@id='content']//div[@class='directory-search']//form//input[@type='checkbox' and @name='get_alum']\");\n    alumniBox.click();\n    //add clicker here\n    HtmlElement staffBox = page1.getFirstByXPath(\"/html/body//div[@id='wrapper']//div[@id='layout']//div[@id='container']//div[@id='col1']//div[@id='content']//div[@class='directory-search']//form//input[@type='checkbox' and @name='get_staff']\");\n    staffBox.click();\n    //add clicker here\n    HtmlElement facultyBox = page1.getFirstByXPath(\"/html/body//div[@id='wrapper']//div[@id='layout']//div[@id='container']//div[@id='col1']//div[@id='content']//div[@class='directory-search']//form//input[@type='checkbox' and @name='get_faculty']\");\n    facultyBox.click();\n    //add clicker here\n\n\n\n    HtmlElement button = page1.getFirstByXPath(\"/html/body//div[@id='wrapper']//div[@id='layout']//div[@id='container']//div[@id='col1']//div[@id='content']//div[@class='directory-search']//form//input[@type='submit' and @value='Search']\");\n    // Change the value of the text field\n\n    // Now submit the form by clicking the button and get back the second page.\n    HtmlPage page2 = button.click();\n    webClient.waitForBackgroundJavaScript(200);\n    return(page2.asXml());\n}\n</code></pre>\n"},{"tags":["java","tomcat","jmx","tomcat9","tomcat-dbcp"],"comments":[{"owner":{"account_id":6981585,"reputation":367,"user_id":5354291,"display_name":"kTest"},"score":0,"creation_date":1642784836,"post_id":70803376,"comment_id":125172495,"body_markdown":"Looks like tomcat 9 doesn&#39;t work with Commons DBCP pool anymore. It worked when I used Tomcat JDBC.","body":"Looks like tomcat 9 doesn&#39;t work with Commons DBCP pool anymore. It worked when I used Tomcat JDBC."}],"answers":[{"tags":[],"owner":{"account_id":24348814,"reputation":21,"user_id":18284942,"display_name":"Bryan Stephens"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1645596571,"creation_date":1645596571,"answer_id":71232073,"question_id":70803376,"body_markdown":"We also struggled with this issue. Stumbled upon [another question](https://stackoverflow.com/questions/71030712/tomcat-and-tomcat-dbcp-issue-after-upgrade-to-v9-0-58/71060464) that was similar and someone mentioned a PR that lead us down the path of looking at commits in the tomcat project and the changelogs. If you look at the [changelog for Tomcat 9.x](https://nightlies.apache.org/tomcat/tomcat-9.0.x/docs/changelog.html) you can find that for a dev/nightly release (at the time of this writing) of 9.0.59:\r\n\r\n&gt; Revert the cherry-pick of JavaDoc fix from DBCP applied in 9.0.57 that broke the DataSourceMXBean by using a type that isn&#39;t supported by MXBeans. (markt)\r\n\r\nIf you are still struggling with this you could either try the latest dev/nightly build (not yet published in maven central) or use version 9.0.56, which is what we used, and it should resolve this issue.","title":"Tomcat 9.x DBCP basicdatasource methods returning java.time.* cannot be mapped to JMX OpenType","body":"<p>We also struggled with this issue. Stumbled upon <a href=\"https://stackoverflow.com/questions/71030712/tomcat-and-tomcat-dbcp-issue-after-upgrade-to-v9-0-58/71060464\">another question</a> that was similar and someone mentioned a PR that lead us down the path of looking at commits in the tomcat project and the changelogs. If you look at the <a href=\"https://nightlies.apache.org/tomcat/tomcat-9.0.x/docs/changelog.html\" rel=\"nofollow noreferrer\">changelog for Tomcat 9.x</a> you can find that for a dev/nightly release (at the time of this writing) of 9.0.59:</p>\n<blockquote>\n<p>Revert the cherry-pick of JavaDoc fix from DBCP applied in 9.0.57 that broke the DataSourceMXBean by using a type that isn't supported by MXBeans. (markt)</p>\n</blockquote>\n<p>If you are still struggling with this you could either try the latest dev/nightly build (not yet published in maven central) or use version 9.0.56, which is what we used, and it should resolve this issue.</p>\n"}],"owner":{"account_id":6981585,"reputation":367,"user_id":5354291,"display_name":"kTest"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":472,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1645596571,"creation_date":1642777415,"question_id":70803376,"body_markdown":"I am trying to upgrade tomcat web container used by our application from version 8.5 to 9.x. We have JDBC resources defined on the context xml file which have JMX enabled. When the application starts up, exceptions are thrown while registering beans with MBeanServer due to ```java.time.Duration``` not having a corresponding OpenType. \r\n\r\nThis happens for ```org.apache.tomcat.dbcp.dbcp2.BasicDataSource``` which have methods that return values of type ```java.time.Duration```\r\n\r\nException:\r\n```\r\nCaused by: java.lang.IllegalArgumentException: Method org.apache.tomcat.dbcp.dbcp2.DataSourceMXBean.getMaxConnDuration has parameter or return type that cannot be translated into an OpenType\r\n...\r\n...\r\nCaused by: javax.management.openmbean.OpenDataException: Cannot convert type: java.time.Duration\r\n...\r\n...\r\nCaused by: javax.management.openmbean.OpenDataException: Cannot convert type: java.time.temporal.TemporalUnit\r\n...\r\n...\r\nCaused by: javax.management.openmbean.OpenDataException: Recursive data structure, including java.time.Duration\r\n```\r\n\r\n\r\nhttps://docs.oracle.com/en/java/javase/12/docs/api/java.management/javax/management/openmbean/OpenType.html\r\n\r\nhttps://tomcat.apache.org/tomcat-9.0-doc/api/org/apache/tomcat/dbcp/dbcp2/BasicDataSource.html\r\n\r\nIs there a workaround for this?\r\n\r\nThanks!","title":"Tomcat 9.x DBCP basicdatasource methods returning java.time.* cannot be mapped to JMX OpenType","body":"<p>I am trying to upgrade tomcat web container used by our application from version 8.5 to 9.x. We have JDBC resources defined on the context xml file which have JMX enabled. When the application starts up, exceptions are thrown while registering beans with MBeanServer due to <code>java.time.Duration</code> not having a corresponding OpenType.</p>\n<p>This happens for <code>org.apache.tomcat.dbcp.dbcp2.BasicDataSource</code> which have methods that return values of type <code>java.time.Duration</code></p>\n<p>Exception:</p>\n<pre><code>Caused by: java.lang.IllegalArgumentException: Method org.apache.tomcat.dbcp.dbcp2.DataSourceMXBean.getMaxConnDuration has parameter or return type that cannot be translated into an OpenType\n...\n...\nCaused by: javax.management.openmbean.OpenDataException: Cannot convert type: java.time.Duration\n...\n...\nCaused by: javax.management.openmbean.OpenDataException: Cannot convert type: java.time.temporal.TemporalUnit\n...\n...\nCaused by: javax.management.openmbean.OpenDataException: Recursive data structure, including java.time.Duration\n</code></pre>\n<p><a href=\"https://docs.oracle.com/en/java/javase/12/docs/api/java.management/javax/management/openmbean/OpenType.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/12/docs/api/java.management/javax/management/openmbean/OpenType.html</a></p>\n<p><a href=\"https://tomcat.apache.org/tomcat-9.0-doc/api/org/apache/tomcat/dbcp/dbcp2/BasicDataSource.html\" rel=\"nofollow noreferrer\">https://tomcat.apache.org/tomcat-9.0-doc/api/org/apache/tomcat/dbcp/dbcp2/BasicDataSource.html</a></p>\n<p>Is there a workaround for this?</p>\n<p>Thanks!</p>\n"},{"tags":["java","web-scraping","jsoup","htmlunit"],"answers":[{"tags":[],"owner":{"account_id":6163228,"reputation":2754,"user_id":4804091,"display_name":"RBRi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645596524,"creation_date":1645596524,"answer_id":71232063,"question_id":71228804,"body_markdown":"The script you are talking about is executed in you browser - if you like to get the page after the script\r\n * you can&#39;t use jsoup because jsoup has no js support at all and therefore can&#39;t process the script\r\n * with HtmlUnit you have to enable js support and then maybe wait for the execution (e.g. webclient.waitForBackgroundJavaScript()) of the script. After that the dom tree in the page is updated and you can use the usual selectors to get what you like to know.\r\n\r\nIf you still have problems please open an HtmlUnit issue on github and include the url you ear working with to give us a chance to reproduce your case.","title":"Java scraping website after async scripts are loaded","body":"<p>The script you are talking about is executed in you browser - if you like to get the page after the script</p>\n<ul>\n<li>you can't use jsoup because jsoup has no js support at all and therefore can't process the script</li>\n<li>with HtmlUnit you have to enable js support and then maybe wait for the execution (e.g. webclient.waitForBackgroundJavaScript()) of the script. After that the dom tree in the page is updated and you can use the usual selectors to get what you like to know.</li>\n</ul>\n<p>If you still have problems please open an HtmlUnit issue on github and include the url you ear working with to give us a chance to reproduce your case.</p>\n"}],"owner":{"account_id":1138035,"reputation":441,"user_id":1122673,"accept_rate":67,"display_name":"Ijaz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":196,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1645596524,"creation_date":1645566975,"question_id":71228804,"body_markdown":"Little background, I&#39;m trying to given an option for customer to add HTML directly and publish a single page website(like blogspot). This brought scammers problem, so I created a microservice that blocks publishing website based on HTML content.\r\n\r\nInitially I used JSoup for getting HTML from website, now the scammer has mutated and is using an external website for loading script and it is loaded in async \r\n```&lt;script src=&quot;https://yolologroyopuedo.us/?api=1&amp;lan=fbcacaroto&quot; type=&quot;text/javascript&quot; async=&quot;true&quot;&gt;&lt;/script&gt;```\r\n\r\nSo my initial rendered HTML does not have any scam content so it evades the website blocking. I&#39;m trying to scrape website content after the script has loaded completely or after some fixed time.\r\n\r\nI tried but I&#39;m always getting pre hacking script loaded HTML.\r\n```\r\nDocument doc = Jsoup.connect(&quot;http://example.com&quot;)\r\n  .data(&quot;query&quot;, &quot;Java&quot;)\r\n  .userAgent(&quot;Mozilla&quot;)\r\n  .cookie(&quot;auth&quot;, &quot;token&quot;)\r\n  .timeout(3000)\r\n  .post();\r\n```\r\nand tried htmlunit\r\n```\r\n        WebClient webClient = new WebClient();\r\n        webClient.getOptions().setJavaScriptEnabled(false);\r\n        webClient.getOptions().setCssEnabled(false);\r\n        HtmlPage page = webClient.getPage(&quot;http://example.com&quot;);\r\n```\r\n\r\nis there an elegant way to scrape a website after all scripts are loaded in Java?","title":"Java scraping website after async scripts are loaded","body":"<p>Little background, I'm trying to given an option for customer to add HTML directly and publish a single page website(like blogspot). This brought scammers problem, so I created a microservice that blocks publishing website based on HTML content.</p>\n<p>Initially I used JSoup for getting HTML from website, now the scammer has mutated and is using an external website for loading script and it is loaded in async\n<code>&lt;script src=&quot;https://yolologroyopuedo.us/?api=1&amp;lan=fbcacaroto&quot; type=&quot;text/javascript&quot; async=&quot;true&quot;&gt;&lt;/script&gt;</code></p>\n<p>So my initial rendered HTML does not have any scam content so it evades the website blocking. I'm trying to scrape website content after the script has loaded completely or after some fixed time.</p>\n<p>I tried but I'm always getting pre hacking script loaded HTML.</p>\n<pre><code>Document doc = Jsoup.connect(&quot;http://example.com&quot;)\n  .data(&quot;query&quot;, &quot;Java&quot;)\n  .userAgent(&quot;Mozilla&quot;)\n  .cookie(&quot;auth&quot;, &quot;token&quot;)\n  .timeout(3000)\n  .post();\n</code></pre>\n<p>and tried htmlunit</p>\n<pre><code>        WebClient webClient = new WebClient();\n        webClient.getOptions().setJavaScriptEnabled(false);\n        webClient.getOptions().setCssEnabled(false);\n        HtmlPage page = webClient.getPage(&quot;http://example.com&quot;);\n</code></pre>\n<p>is there an elegant way to scrape a website after all scripts are loaded in Java?</p>\n"},{"tags":["java","unit-testing","mockito","junit5"],"comments":[{"owner":{"account_id":11164402,"reputation":541,"user_id":8193521,"display_name":"olgunyldz"},"score":0,"creation_date":1611319099,"post_id":65845312,"comment_id":116419097,"body_markdown":"Could you please add the UserContext class here?","body":"Could you please add the UserContext class here?"},{"owner":{"account_id":17393626,"reputation":95,"user_id":12603672,"display_name":"sunxca"},"score":0,"creation_date":1611321164,"post_id":65845312,"comment_id":116420085,"body_markdown":"Thank you for your replies. How can it be PowerMockito if I don&#39;t have a powermockito import or dependencies in the pom? Also I added the UserContext class","body":"Thank you for your replies. How can it be PowerMockito if I don&#39;t have a powermockito import or dependencies in the pom? Also I added the UserContext class"},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1611321687,"post_id":65845312,"comment_id":116420322,"body_markdown":"You are correct, I apologize. Mockito has added the static mocking feature as of version 3.4. I wasnt aware of that. But honestly, I dont think that was a good idea. **static** mocking should be your very last resort, you only do it if there is no other way to get to a meaningful test.","body":"You are correct, I apologize. Mockito has added the static mocking feature as of version 3.4. I wasnt aware of that. But honestly, I dont think that was a good idea. <b>static</b> mocking should be your very last resort, you only do it if there is no other way to get to a meaningful test."},{"owner":{"account_id":17393626,"reputation":95,"user_id":12603672,"display_name":"sunxca"},"score":0,"creation_date":1611322684,"post_id":65845312,"comment_id":116420791,"body_markdown":"I just edited my Question, maybe that helps. I found the MockedStatic.close() method online (see Edited Question)","body":"I just edited my Question, maybe that helps. I found the MockedStatic.close() method online (see Edited Question)"}],"answers":[{"tags":[],"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1611319145,"creation_date":1611319145,"answer_id":65845373,"question_id":65845312,"body_markdown":"Try changing \r\n\r\n    @BeforeEach\r\n\r\nto  `@Before`\r\n\r\nThat message tells you: you did setup that static mocking before. Because `@BeforeEach` will do exactly that: run that `init()` method before **each** of your test methods. Change your setup to run the method **once**, not **n times**.","title":"how to solve &quot;to create a new mock, the existing mock registration must be deregistered&quot;","body":"<p>Try changing</p>\n<pre><code>@BeforeEach\n</code></pre>\n<p>to  <code>@Before</code></p>\n<p>That message tells you: you did setup that static mocking before. Because <code>@BeforeEach</code> will do exactly that: run that <code>init()</code> method before <strong>each</strong> of your test methods. Change your setup to run the method <strong>once</strong>, not <strong>n times</strong>.</p>\n"},{"tags":[],"owner":{"account_id":11164402,"reputation":541,"user_id":8193521,"display_name":"olgunyldz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1611321858,"creation_date":1611321858,"answer_id":65846043,"question_id":65845312,"body_markdown":"Do you really mock that object? \r\n\r\n      @RunWith(MockitoJUnitRunner.class)\r\n    public class ConfigurationCopyServiceTest {\r\n    \tprivate UserContext userContext = new UserContext(&quot;superUser&quot;, &quot;127.0.0.1&quot;);\r\n    \tprivate ConfigurationCopyService configurationCopyService;\r\n    \t@Before\r\n    \tpublic void setUp() {\r\n    \t\tUserContext.initialize(userContext);\r\n    \t\tconfigurationCopyService = new ConfigurationCopyService(triggeringKonfigurationService,\r\n        reportConfigurationService, buchungsschemaService);\r\n    \t}\r\n    \t\r\n    \t@Test\r\n    \tpublic void user_name_should_be_same_as_context() {\r\n    \t\tassertEquals(UserContext.getUsername(), configurationCopyService.myMethod());\r\n    \t}\r\n    \t\r\n    }","title":"how to solve &quot;to create a new mock, the existing mock registration must be deregistered&quot;","body":"<p>Do you really mock that object?</p>\n<pre><code>  @RunWith(MockitoJUnitRunner.class)\npublic class ConfigurationCopyServiceTest {\n    private UserContext userContext = new UserContext(&quot;superUser&quot;, &quot;127.0.0.1&quot;);\n    private ConfigurationCopyService configurationCopyService;\n    @Before\n    public void setUp() {\n        UserContext.initialize(userContext);\n        configurationCopyService = new ConfigurationCopyService(triggeringKonfigurationService,\n    reportConfigurationService, buchungsschemaService);\n    }\n    \n    @Test\n    public void user_name_should_be_same_as_context() {\n        assertEquals(UserContext.getUsername(), configurationCopyService.myMethod());\n    }\n    \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17393626,"reputation":95,"user_id":12603672,"display_name":"sunxca"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1611588827,"creation_date":1611588827,"answer_id":65887756,"question_id":65845312,"body_markdown":"So as I use Junit 5 I couldn&#39;t use the @Before Annotation so I replaced the @BeforeEach with @BeforeAll. \r\nSo I did it as following: \r\n1. Step: Import \r\n```\r\nimport static org.junit.jupiter.api.TestInstance.Lifecycle.PER_CLASS;\r\n```\r\n\r\n2. Step: Add The @TestInstance(PER_CLASS) Annotation (before your class)\r\n\r\n3. Step: @BeforeAll instead of @BeforeEach \r\n\r\nThat solved my Problem. \r\n\r\n","title":"how to solve &quot;to create a new mock, the existing mock registration must be deregistered&quot;","body":"<p>So as I use Junit 5 I couldn't use the @Before Annotation so I replaced the @BeforeEach with @BeforeAll.\nSo I did it as following:</p>\n<ol>\n<li>Step: Import</li>\n</ol>\n<pre><code>import static org.junit.jupiter.api.TestInstance.Lifecycle.PER_CLASS;\n</code></pre>\n<ol start=\"2\">\n<li><p>Step: Add The @TestInstance(PER_CLASS) Annotation (before your class)</p>\n</li>\n<li><p>Step: @BeforeAll instead of @BeforeEach</p>\n</li>\n</ol>\n<p>That solved my Problem.</p>\n"},{"tags":[],"owner":{"account_id":2691023,"reputation":16196,"user_id":2324388,"accept_rate":41,"display_name":"Marian Kl&#252;hspies"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1615291667,"creation_date":1615291667,"answer_id":66546596,"question_id":65845312,"body_markdown":"I was running into the same issue because my class was annotated with \r\n\r\n````@ExtendWith(MockitoExtension.class)````\r\n\r\n**and**\r\n\r\n````@SpringBootTest````\r\n\r\n**Removing @ExtendWith(MockitoExtension.class) solved the problem for me**","title":"how to solve &quot;to create a new mock, the existing mock registration must be deregistered&quot;","body":"<p>I was running into the same issue because my class was annotated with</p>\n<p><code>@ExtendWith(MockitoExtension.class)</code></p>\n<p><strong>and</strong></p>\n<p><code>@SpringBootTest</code></p>\n<p><strong>Removing @ExtendWith(MockitoExtension.class) solved the problem for me</strong></p>\n"},{"tags":[],"owner":{"account_id":3929541,"reputation":384,"user_id":3248732,"display_name":"Triphon Penakov"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1631183027,"creation_date":1631183027,"answer_id":69116502,"question_id":65845312,"body_markdown":"This works for me:\r\n\r\n      private MockedStatic&lt;UserContext&gt; mockStatic;\r\n\r\n      @BeforeEach\r\n      public void beforeEach() {\r\n        mockStatic = Mockito.mockStatic(UserContext.class);\r\n      }\r\n\r\n      @AfterEach\r\n      public void afterEach() {\r\n        mockStatic.close();\r\n      }\r\n","title":"how to solve &quot;to create a new mock, the existing mock registration must be deregistered&quot;","body":"<p>This works for me:</p>\n<pre><code>  private MockedStatic&lt;UserContext&gt; mockStatic;\n\n  @BeforeEach\n  public void beforeEach() {\n    mockStatic = Mockito.mockStatic(UserContext.class);\n  }\n\n  @AfterEach\n  public void afterEach() {\n    mockStatic.close();\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":306410,"reputation":6036,"user_id":617146,"accept_rate":56,"display_name":"Duc Tran"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645596400,"creation_date":1645596400,"answer_id":71232043,"question_id":65845312,"body_markdown":"In my case, there is another class which also call `mockStatic()` on the same class but doesn&#39;t call `close()`, which affects my current test class. \r\n\r\n```\r\npublic class Test2 {\r\n  @AfterEach\r\n  public void afterEach() {\r\n    mockStatic.close();\r\n  }\r\n  ...\r\n}\r\n```","title":"how to solve &quot;to create a new mock, the existing mock registration must be deregistered&quot;","body":"<p>In my case, there is another class which also call <code>mockStatic()</code> on the same class but doesn't call <code>close()</code>, which affects my current test class.</p>\n<pre><code>public class Test2 {\n  @AfterEach\n  public void afterEach() {\n    mockStatic.close();\n  }\n  ...\n}\n</code></pre>\n"}],"owner":{"account_id":17393626,"reputation":95,"user_id":12603672,"display_name":"sunxca"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16827,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":65887756,"answer_count":6,"score":6,"last_activity_date":1645596400,"creation_date":1611318925,"question_id":65845312,"body_markdown":"I am getting the Following Exception when trying to mock a static method: \r\n\r\n&gt; org.mockito.exceptions.base.MockitoException:  For\r\n&gt; de.msggillardon.system.UserContext, static mocking is already\r\n&gt; registered in the current thread To create a new mock, the existing\r\n&gt; static mock registration must be deregistered\r\n\r\nFor the following Code: \r\n```\r\n @ExtendWith(MockitoExtension.class)\r\n// @PrepareForTest(UserContext.class)\r\npublic class KonfigurationCopyServiceTest {\r\n\r\n  public static final String CONFIGURATION_NAME = &quot;Standard-Konfiguration&quot;;\r\n\r\n  @Mock\r\n  public TriggeringKonfigurationService triggeringKonfigurationService;\r\n  @Mock\r\n  public ReportKonfigService reportConfigurationService;\r\n  @Mock\r\n  public BuchungsschemaService buchungsschemaService;\r\n\r\n  public KonfigurationCopyService copyService;\r\n\r\n  @BeforeEach\r\n  public void init() {\r\n    Mockito.mockStatic(UserContext.class);\r\n    Mockito.when(UserContext.getUsername()).thenReturn(&quot;superuser&quot;);\r\n\r\n    copyService = new KonfigurationCopyService(triggeringKonfigurationService,\r\n        reportConfigurationService, buchungsschemaService);\r\n  }\r\n\r\n```\r\nCan anyone help please? \r\n\r\nThank you! \r\n\r\nEdit: UserContext.java\r\n```\r\npackage de.msggillardon.system;\r\n\r\n/**\r\n * This class contains the username and IP-address of the logged in user. It is initialized for each\r\n * session.\r\n *\r\n * @author wildp\r\n */\r\npublic class UserContext {\r\n\r\n  private static final ThreadLocal&lt;UserContext&gt; userContext = new ThreadLocal&lt;&gt;();\r\n\r\n  private final String username;\r\n\r\n  private final String clientIPAddress;\r\n\r\n  /**\r\n   * Constructor.\r\n   *\r\n   * @param username        Username of the user who is logged in\r\n   * @param clientIPAddress IP Address of the user who is logged in\r\n   */\r\n  public UserContext(String username, String clientIPAddress) {\r\n    this.username = username;\r\n    this.clientIPAddress = clientIPAddress;\r\n  }\r\n\r\n  /**\r\n   * Initializes the threadLocal\r\n   *\r\n   * @param userContext\r\n   */\r\n  public static void initialize(UserContext userContext) {\r\n    UserContext.userContext.set(userContext);\r\n  }\r\n\r\n  /**\r\n   * Removes the current thread&#39;s value for this thread-local variable.\r\n   */\r\n  public static void remove() {\r\n    userContext.remove();\r\n  }\r\n\r\n  /**\r\n   * Returns the username of the current thread.\r\n   *\r\n   * @return\r\n   */\r\n  public static String getUsername() {\r\n    return userContext.get().username;\r\n  }\r\n\r\n  /**\r\n   * Returns the IP address of the client of the current thread.\r\n   *\r\n   * @return\r\n   */\r\n  public static String getClientIPAddress() {\r\n    return userContext.get().clientIPAddress;\r\n  }\r\n\r\n  public static UserContext getThreadLocalUserContext(){\r\n    return userContext.get();\r\n  }\r\n}\r\n```\r\nNEW EDIT: \r\nI once again edited my Code so you can see now, that I am using @ExtendWith(MockitoExtension.lass) to Mock.\r\n\r\nAlso I found the following tip online: https://javadoc.io/static/org.mockito/mockito-core/3.4.3/org/mockito/MockedStatic.html \r\nSo it seems like I have to do a MockedStatic.close(); maybe as a @AfterEach\r\nBut when I am trying it gives me the Exception \r\n\r\n&gt; Cannot make a static reference to the non-static method close() from the type ScopedMock\r\n\r\nStill not working :( \r\n\r\n\t","title":"how to solve &quot;to create a new mock, the existing mock registration must be deregistered&quot;","body":"<p>I am getting the Following Exception when trying to mock a static method:</p>\n<blockquote>\n<p>org.mockito.exceptions.base.MockitoException:  For\nde.msggillardon.system.UserContext, static mocking is already\nregistered in the current thread To create a new mock, the existing\nstatic mock registration must be deregistered</p>\n</blockquote>\n<p>For the following Code:</p>\n<pre><code> @ExtendWith(MockitoExtension.class)\n// @PrepareForTest(UserContext.class)\npublic class KonfigurationCopyServiceTest {\n\n  public static final String CONFIGURATION_NAME = &quot;Standard-Konfiguration&quot;;\n\n  @Mock\n  public TriggeringKonfigurationService triggeringKonfigurationService;\n  @Mock\n  public ReportKonfigService reportConfigurationService;\n  @Mock\n  public BuchungsschemaService buchungsschemaService;\n\n  public KonfigurationCopyService copyService;\n\n  @BeforeEach\n  public void init() {\n    Mockito.mockStatic(UserContext.class);\n    Mockito.when(UserContext.getUsername()).thenReturn(&quot;superuser&quot;);\n\n    copyService = new KonfigurationCopyService(triggeringKonfigurationService,\n        reportConfigurationService, buchungsschemaService);\n  }\n\n</code></pre>\n<p>Can anyone help please?</p>\n<p>Thank you!</p>\n<p>Edit: UserContext.java</p>\n<pre><code>package de.msggillardon.system;\n\n/**\n * This class contains the username and IP-address of the logged in user. It is initialized for each\n * session.\n *\n * @author wildp\n */\npublic class UserContext {\n\n  private static final ThreadLocal&lt;UserContext&gt; userContext = new ThreadLocal&lt;&gt;();\n\n  private final String username;\n\n  private final String clientIPAddress;\n\n  /**\n   * Constructor.\n   *\n   * @param username        Username of the user who is logged in\n   * @param clientIPAddress IP Address of the user who is logged in\n   */\n  public UserContext(String username, String clientIPAddress) {\n    this.username = username;\n    this.clientIPAddress = clientIPAddress;\n  }\n\n  /**\n   * Initializes the threadLocal\n   *\n   * @param userContext\n   */\n  public static void initialize(UserContext userContext) {\n    UserContext.userContext.set(userContext);\n  }\n\n  /**\n   * Removes the current thread's value for this thread-local variable.\n   */\n  public static void remove() {\n    userContext.remove();\n  }\n\n  /**\n   * Returns the username of the current thread.\n   *\n   * @return\n   */\n  public static String getUsername() {\n    return userContext.get().username;\n  }\n\n  /**\n   * Returns the IP address of the client of the current thread.\n   *\n   * @return\n   */\n  public static String getClientIPAddress() {\n    return userContext.get().clientIPAddress;\n  }\n\n  public static UserContext getThreadLocalUserContext(){\n    return userContext.get();\n  }\n}\n</code></pre>\n<p>NEW EDIT:\nI once again edited my Code so you can see now, that I am using @ExtendWith(MockitoExtension.lass) to Mock.</p>\n<p>Also I found the following tip online: <a href=\"https://javadoc.io/static/org.mockito/mockito-core/3.4.3/org/mockito/MockedStatic.html\" rel=\"noreferrer\">https://javadoc.io/static/org.mockito/mockito-core/3.4.3/org/mockito/MockedStatic.html</a>\nSo it seems like I have to do a MockedStatic.close(); maybe as a @AfterEach\nBut when I am trying it gives me the Exception</p>\n<blockquote>\n<p>Cannot make a static reference to the non-static method close() from the type ScopedMock</p>\n</blockquote>\n<p>Still not working :(</p>\n"},{"tags":["java","multithreading","concurrency"],"comments":[{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":3,"creation_date":1488573804,"post_id":42588079,"comment_id":72308328,"body_markdown":"It can&#39;t get in that state. That&#39;s what the snippet you posted says. You have a guarantee that you will never read a random value from a value. Either it&#39;s the current one, or an old one, but not a value that no thread has ever written to the variable.","body":"It can&#39;t get in that state. That&#39;s what the snippet you posted says. You have a guarantee that you will never read a random value from a value. Either it&#39;s the current one, or an old one, but not a value that no thread has ever written to the variable."},{"owner":{"account_id":80364,"reputation":90939,"user_id":227299,"accept_rate":72,"display_name":"Ruan Mendes"},"score":2,"creation_date":1488573865,"post_id":42588079,"comment_id":72308364,"body_markdown":"That&#39;s just saying that it&#39;s guaranteed to be a value previously set by a thread, it won&#39;t ever be some uninitialized value, or a value that is half set because it was preempted. See http://stackoverflow.com/questions/21243858/out-of-thin-air-safety it explains that &quot;there are architectures that implement 64-bit operations as 2 separate 32-bit operation that can be interrupted&quot;","body":"That&#39;s just saying that it&#39;s guaranteed to be a value previously set by a thread, it won&#39;t ever be some uninitialized value, or a value that is half set because it was preempted. See <a href=\"http://stackoverflow.com/questions/21243858/out-of-thin-air-safety\" title=\"out of thin air safety\">stackoverflow.com/questions/21243858/out-of-thin-air-safety</a> it explains that &quot;there are architectures that implement 64-bit operations as 2 separate 32-bit operation that can be interrupted&quot;"},{"owner":{"account_id":154049,"reputation":11058,"user_id":369722,"accept_rate":66,"display_name":"Julian A."},"score":0,"creation_date":1488573893,"post_id":42588079,"comment_id":72308382,"body_markdown":"@JBNizet: Thanks! Are there languages that don&#39;t provide this sort of guarantee?","body":"@JBNizet: Thanks! Are there languages that don&#39;t provide this sort of guarantee?"},{"owner":{"account_id":6078,"reputation":61187,"user_id":10077,"accept_rate":90,"display_name":"Fred Larson"},"score":1,"creation_date":1488573942,"post_id":42588079,"comment_id":72308406,"body_markdown":"C and C++ are two.","body":"C and C++ are two."},{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1488573944,"post_id":42588079,"comment_id":72308407,"body_markdown":"@JBNizet Even for a double or long primitive?","body":"@JBNizet Even for a double or long primitive?"},{"owner":{"account_id":80364,"reputation":90939,"user_id":227299,"accept_rate":72,"display_name":"Ruan Mendes"},"score":1,"creation_date":1488573948,"post_id":42588079,"comment_id":72308411,"body_markdown":"@Julian The answer I linked doesn&#39;t show an example language, but it would be one where word writes are not atomic?","body":"@Julian The answer I linked doesn&#39;t show an example language, but it would be one where word writes are not atomic?"},{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":1,"creation_date":1488573966,"post_id":42588079,"comment_id":72308426,"body_markdown":"Yes, Java, for 64-bit values. thats explained right after the snippet you quoted (although the value you might see isn&#39;t really random. It&#39;s the value obtained by setting only 32 of the 64 bits of the value).","body":"Yes, Java, for 64-bit values. thats explained right after the snippet you quoted (although the value you might see isn&#39;t really random. It&#39;s the value obtained by setting only 32 of the 64 bits of the value)."},{"owner":{"account_id":154049,"reputation":11058,"user_id":369722,"accept_rate":66,"display_name":"Julian A."},"score":0,"creation_date":1488574140,"post_id":42588079,"comment_id":72308511,"body_markdown":"I get it now.  Random values could result from non-atomic writes.  Thanks, everyone!","body":"I get it now.  Random values could result from non-atomic writes.  Thanks, everyone!"}],"answers":[{"tags":[],"owner":{"account_id":4438260,"reputation":25796,"user_id":3613500,"accept_rate":95,"display_name":"David Haim"},"down_vote_count":1,"up_vote_count":4,"is_accepted":true,"score":3,"last_activity_date":1488574127,"creation_date":1488574127,"answer_id":42588188,"question_id":42588079,"body_markdown":"The best example I can think of is writing a `long` in a 32 bit CPU.\r\n\r\nAccording to the Java standard, `long` has to be 64 bit wide. A 32 bit CPU cannot write a `long` value in one atomic write, it has to write two 32 bit integers in order to achieve that.\r\n\r\nAssuming A thread wrote only the first 32 bit value, then, the OS scheduled another (Java) thread on the same core that tries to read that semi-updated value - it will see random value. the quote you gave basically says &quot;that cannot happen&quot;.\r\n","title":"What is out-of-thin-air safety?","body":"<p>The best example I can think of is writing a <code>long</code> in a 32 bit CPU.</p>\n\n<p>According to the Java standard, <code>long</code> has to be 64 bit wide. A 32 bit CPU cannot write a <code>long</code> value in one atomic write, it has to write two 32 bit integers in order to achieve that.</p>\n\n<p>Assuming A thread wrote only the first 32 bit value, then, the OS scheduled another (Java) thread on the same core that tries to read that semi-updated value - it will see random value. the quote you gave basically says \"that cannot happen\".</p>\n"},{"tags":[],"owner":{"account_id":104347,"reputation":4910,"user_id":279028,"display_name":"Andrei"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1488614196,"creation_date":1488574997,"answer_id":42588388,"question_id":42588079,"body_markdown":"In Java, a variable is initialized with a &quot;known&quot; value when it is created (either a default, &quot;zero-like&quot; value, or the provided value, in a`int value = 5;` situation).\r\n\r\nThe default initialization is described in section 4.12.5 of the [spec][1].\r\n\r\nWhat that says is that the variables are initialized with, effectively, &quot;zero&quot; (as interpreted for that type).\r\n\r\nNow, generally, assignments to the variable are atomic. That is, they happen &quot;at once&quot;, the value of the variable changes from one value to the new one.\r\n\r\nThe exceptions to that could appear for variables of type `long` and `double`. This is described in the [spec][2].\r\nEffectively, those values are 64 bit wide and could be set in two steps, one for each 32 bit half.\r\n\r\n\r\nTogether, the requirements above mean that the value of a variable could be in one of these states:\r\n\r\n1. the default value (&quot;zero&quot;/null)\r\n2. the value set by a thread\r\n3. for non-volatile long or doubles, half of the desired value (either 0|half or half|0)\r\n\r\nQuite deterministic and, arguably, no value could be read that comes out of thin air.\r\n\r\n\r\nThis is in contrast to languages such as C or C++ which don&#39;t always initialize the variables. So, you could read some random data (whatever was previously at that memory location).\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/specs/jls/se8/html/jls-4.html#jls-4.12\r\n  [2]: https://docs.oracle.com/javase/specs/jls/se8/html/jls-17.html#jls-17.7","title":"What is out-of-thin-air safety?","body":"<p>In Java, a variable is initialized with a \"known\" value when it is created (either a default, \"zero-like\" value, or the provided value, in a<code>int value = 5;</code> situation).</p>\n\n<p>The default initialization is described in section 4.12.5 of the <a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-4.html#jls-4.12\" rel=\"nofollow noreferrer\">spec</a>.</p>\n\n<p>What that says is that the variables are initialized with, effectively, \"zero\" (as interpreted for that type).</p>\n\n<p>Now, generally, assignments to the variable are atomic. That is, they happen \"at once\", the value of the variable changes from one value to the new one.</p>\n\n<p>The exceptions to that could appear for variables of type <code>long</code> and <code>double</code>. This is described in the <a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-17.html#jls-17.7\" rel=\"nofollow noreferrer\">spec</a>.\nEffectively, those values are 64 bit wide and could be set in two steps, one for each 32 bit half.</p>\n\n<p>Together, the requirements above mean that the value of a variable could be in one of these states:</p>\n\n<ol>\n<li>the default value (\"zero\"/null)</li>\n<li>the value set by a thread</li>\n<li>for non-volatile long or doubles, half of the desired value (either 0|half or half|0)</li>\n</ol>\n\n<p>Quite deterministic and, arguably, no value could be read that comes out of thin air.</p>\n\n<p>This is in contrast to languages such as C or C++ which don't always initialize the variables. So, you could read some random data (whatever was previously at that memory location).</p>\n"},{"tags":[],"owner":{"account_id":1526616,"reputation":24377,"user_id":1424877,"accept_rate":32,"display_name":"Quuxplusone"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1607622278,"creation_date":1607622278,"answer_id":65239625,"question_id":42588079,"body_markdown":"Both of the existing answers describe _tearing_ of reads and writes, which in my mind is not quite the same thing as _out-of-thin-air_ values.\r\n\r\n_Tearing_ basically means that the computer rewrites\r\n\r\n    int g = 0x1234;\r\n    void threadA() {\r\n        g = 0xABCD;\r\n    }\r\n    void threadB() {\r\n        int local = g;\r\n    }\r\n\r\ninto\r\n\r\n    int g = 0x1234;\r\n    void threadA() {\r\n        g = 0xAB00;  // &quot;tearing&quot;\r\n        g += 0x00CD;\r\n    }\r\n    void threadB() {\r\n        int local = g;  // may read 0xAB00, which threadA never stored\r\n    }\r\n\r\n(Depending on the instruction set, you might imagine seeing 0xAB34, 0x12CD, 0x00CD, 0x00AB, etc.)\r\n\r\n----\r\n\r\nHowever, _out-of-thin-air_ (in my limited experience) usually means that the compiler rewrites\r\n\r\n    int g1 = 0x1234;\r\n    bool g2 = true;\r\n    void threadA() {\r\n        g1 = (g2 ? 0xABCD : 0x5678);  // since g2 is true, this stores 0xABCD\r\n    }\r\n    void threadB() {\r\n        int local = g1;\r\n    }\r\n\r\ninto\r\n\r\n    int g1 = 0x1234;\r\n    bool g2 = false;\r\n    void threadA() {\r\n        g1 = 0x5678;\r\n        if (g2) g1 = 0xABCD;\r\n    }\r\n    void threadB() {\r\n        int local = g1;  // may read 0x5678, which threadA never stored\r\n    }\r\n\r\nThis is closely related to &quot;speculative execution&quot; (which I think of as more of a hardware term), and it does _not_ depend on tearing of reads or writes.\r\n\r\nAlso see my answer to this duplicate question (https://stackoverflow.com/a/26500593/1424877).","title":"What is out-of-thin-air safety?","body":"<p>Both of the existing answers describe <em>tearing</em> of reads and writes, which in my mind is not quite the same thing as <em>out-of-thin-air</em> values.</p>\n<p><em>Tearing</em> basically means that the computer rewrites</p>\n<pre><code>int g = 0x1234;\nvoid threadA() {\n    g = 0xABCD;\n}\nvoid threadB() {\n    int local = g;\n}\n</code></pre>\n<p>into</p>\n<pre><code>int g = 0x1234;\nvoid threadA() {\n    g = 0xAB00;  // &quot;tearing&quot;\n    g += 0x00CD;\n}\nvoid threadB() {\n    int local = g;  // may read 0xAB00, which threadA never stored\n}\n</code></pre>\n<p>(Depending on the instruction set, you might imagine seeing 0xAB34, 0x12CD, 0x00CD, 0x00AB, etc.)</p>\n<hr />\n<p>However, <em>out-of-thin-air</em> (in my limited experience) usually means that the compiler rewrites</p>\n<pre><code>int g1 = 0x1234;\nbool g2 = true;\nvoid threadA() {\n    g1 = (g2 ? 0xABCD : 0x5678);  // since g2 is true, this stores 0xABCD\n}\nvoid threadB() {\n    int local = g1;\n}\n</code></pre>\n<p>into</p>\n<pre><code>int g1 = 0x1234;\nbool g2 = false;\nvoid threadA() {\n    g1 = 0x5678;\n    if (g2) g1 = 0xABCD;\n}\nvoid threadB() {\n    int local = g1;  // may read 0x5678, which threadA never stored\n}\n</code></pre>\n<p>This is closely related to &quot;speculative execution&quot; (which I think of as more of a hardware term), and it does <em>not</em> depend on tearing of reads or writes.</p>\n<p>Also see my answer to this duplicate question (<a href=\"https://stackoverflow.com/a/26500593/1424877\">https://stackoverflow.com/a/26500593/1424877</a>).</p>\n"},{"tags":[],"owner":{"account_id":292208,"reputation":10665,"user_id":2245707,"accept_rate":17,"display_name":"pveentjer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645596196,"creation_date":1636121161,"answer_id":69854520,"question_id":42588079,"body_markdown":"Out of thin air values are values that are caused by a causal loop in the actions.\r\n\r\nE.g.\r\n\r\n    int a=0\r\n    int b=0\r\n    \r\n    Thread1:\r\n       r1=a (1)\r\n       b=r1 (2)\r\n    \r\n    Thread2:\r\n       r2=b (3)\r\n       a=r2 (4)\r\n\r\nCould it be that we end up with r1=42 and r2=42? This sound like insanity since the value 42 is never written, so how can we see these values.\r\n\r\nImagine that the CPU running thread 2 would speculate that b=42 at (3). This would cause r2=42 and a=42 (4). And this would cause r1=42 (1) and b=42 (2). The CPU running thread 2 is now very happy because speculation has worked because the value it speculated is the actual value that is read!\r\n\r\nThe JVM disallows such self justification. The formal part of the JMM contains 2 parts:\r\n\r\nFirst part: Consistency: each read sees:\r\n- either the most recent write before it in the happens before order\r\n- or a write whereby the read/write are not ordered by the happens before (needed to deal with data races).\r\n\r\nSecond part: Causality\r\n\r\nConsistency alone doesn&#39;t protect against such speculative self justification and therefor it is required that there should be at least 1 causal order that explain the execution. This causal order is a partial order and as a consequence forbids any executions that have a cycle in the causal order like the one above.\r\n\r\nOut of thin air is not related to 64 bit longs/doubles on a 32 bit JVM. That problem is called torn reads/writes.\r\n\r\nFor more information see [JSR-133 Java Memory Model and Thread Specification](https://www.cs.umd.edu/~pugh/java/memoryModel/jsr133.pdf) page 19.\r\n","title":"What is out-of-thin-air safety?","body":"<p>Out of thin air values are values that are caused by a causal loop in the actions.</p>\n<p>E.g.</p>\n<pre><code>int a=0\nint b=0\n\nThread1:\n   r1=a (1)\n   b=r1 (2)\n\nThread2:\n   r2=b (3)\n   a=r2 (4)\n</code></pre>\n<p>Could it be that we end up with r1=42 and r2=42? This sound like insanity since the value 42 is never written, so how can we see these values.</p>\n<p>Imagine that the CPU running thread 2 would speculate that b=42 at (3). This would cause r2=42 and a=42 (4). And this would cause r1=42 (1) and b=42 (2). The CPU running thread 2 is now very happy because speculation has worked because the value it speculated is the actual value that is read!</p>\n<p>The JVM disallows such self justification. The formal part of the JMM contains 2 parts:</p>\n<p>First part: Consistency: each read sees:</p>\n<ul>\n<li>either the most recent write before it in the happens before order</li>\n<li>or a write whereby the read/write are not ordered by the happens before (needed to deal with data races).</li>\n</ul>\n<p>Second part: Causality</p>\n<p>Consistency alone doesn't protect against such speculative self justification and therefor it is required that there should be at least 1 causal order that explain the execution. This causal order is a partial order and as a consequence forbids any executions that have a cycle in the causal order like the one above.</p>\n<p>Out of thin air is not related to 64 bit longs/doubles on a 32 bit JVM. That problem is called torn reads/writes.</p>\n<p>For more information see <a href=\"https://www.cs.umd.edu/%7Epugh/java/memoryModel/jsr133.pdf\" rel=\"nofollow noreferrer\">JSR-133 Java Memory Model and Thread Specification</a> page 19.</p>\n"}],"owner":{"account_id":154049,"reputation":11058,"user_id":369722,"accept_rate":66,"display_name":"Julian A."},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1594,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":42588188,"answer_count":4,"score":9,"last_activity_date":1645596196,"creation_date":1488573604,"question_id":42588079,"body_markdown":"I&#39;d like to understand this line from *Java Concurrency in Practice* - \r\n\r\n&gt; Out-of-thin-air safety is the safety guarantee that when a thread reads a variable without synchronization it may see a stale value, but the value will be one set by a thread, not some random value.\r\n\r\nWhat&#39;s meant by the value being random?  How could it get into that state?  An example in pseudocode would be very helpful.\r\n","title":"What is out-of-thin-air safety?","body":"<p>I'd like to understand this line from <em>Java Concurrency in Practice</em> - </p>\n\n<blockquote>\n  <p>Out-of-thin-air safety is the safety guarantee that when a thread reads a variable without synchronization it may see a stale value, but the value will be one set by a thread, not some random value.</p>\n</blockquote>\n\n<p>What's meant by the value being random?  How could it get into that state?  An example in pseudocode would be very helpful.</p>\n"},{"tags":["java","excel","apache-poi"],"comments":[{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":2,"creation_date":1645532524,"post_id":71221104,"comment_id":125891184,"body_markdown":"How would you do this using Excel? Apache POI is only to generate Excel files or other Microsoft Office files. It cannot do what Microsoft Office is not able to do.","body":"How would you do this using Excel? Apache POI is only to generate Excel files or other Microsoft Office files. It cannot do what Microsoft Office is not able to do."},{"owner":{"account_id":1804622,"reputation":33,"user_id":1642029,"accept_rate":17,"display_name":"SDFPAL35"},"score":0,"creation_date":1645537114,"post_id":71221104,"comment_id":125893187,"body_markdown":"We can format the value of Cell of excel using apache POI and I am doing this by checking the NumericCellType but problem is numeric cell type can have both type of values one is pure integer and other is decimal. So here I want to apply separate formatting for Integer like ## and separate formatting for decimal values like #.0000 which I am not able to do.","body":"We can format the value of Cell of excel using apache POI and I am doing this by checking the NumericCellType but problem is numeric cell type can have both type of values one is pure integer and other is decimal. So here I want to apply separate formatting for Integer like ## and separate formatting for decimal values like #.0000 which I am not able to do."}],"answers":[{"tags":[],"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645596039,"creation_date":1645537835,"answer_id":71222478,"question_id":71221104,"body_markdown":"Only solution comes in my mind is using conditional formatting. \r\n\r\nIf a cell contains a number which **not** equals its integer part (means: is not an integer), then use number format `0.0000` else not. So the condition would be a formula: `=INT(A1)&lt;&gt;A1`.\r\n\r\nBut there is not a `ConditionalFormattingRule.createNumberFormatting` upto now. And using the binary `*.xls` file format, which is `HSSF` in `apache poi`, nobody had detected where conditional number formats are stored at all. So only a `XSSF` solution is possible.\r\n\r\nIn Office Open XML (`XSSF`) conditional numberformats are set in `dxf` element of `styles.xml` having `numFmt` element with attributes `numFmtId` and `formatCode`. The `numFmtId` can be got from `XSSFDataFormat.getFormat` with given `formatCode`. This `dxf` element then gets linked in worksheet&#39;s `cfRule`.\r\n\r\nThe folowing complete example shows this. It provides a method `void createNumberFormatting(XSSFConditionalFormattingRule rule, short numFmtId, String formatCode)` to create a numberformatting in a given `XSSFConditionalFormattingRule`.\r\n\r\n    import org.apache.poi.xssf.usermodel.*;\r\n    import org.apache.poi.ss.util.CellRangeAddress;\r\n    \r\n    import java.io.FileOutputStream;\r\n    \r\n    public class ConditionalFormattingNumbers {\r\n    \t\r\n     static void createNumberFormatting(XSSFConditionalFormattingRule rule, short numFmtId, String formatCode) throws Exception {\r\n      java.lang.reflect.Method getDxf = XSSFConditionalFormattingRule.class.getDeclaredMethod(&quot;getDxf&quot;, boolean.class);\r\n      getDxf.setAccessible(true);\r\n      org.openxmlformats.schemas.spreadsheetml.x2006.main.CTDxf dxf = (org.openxmlformats.schemas.spreadsheetml.x2006.main.CTDxf)getDxf.invoke(rule, true);\r\n      if (dxf.getNumFmt() == null) dxf.addNewNumFmt();\r\n      dxf.getNumFmt().setNumFmtId(numFmtId);\r\n      dxf.getNumFmt().setFormatCode(formatCode);\r\n     }\r\n    \t\r\n    \r\n     public static void main(String[] args) throws Exception {\r\n      XSSFWorkbook workbook = new XSSFWorkbook(); String filePath = &quot;./ConditionalFormattingNumbers.xlsx&quot;;\r\n      \r\n      XSSFDataFormat dataFormat = workbook.createDataFormat();\r\n    \r\n      XSSFSheet sheet = workbook.createSheet();\r\n      XSSFSheetConditionalFormatting sheetCF = sheet.getSheetConditionalFormatting();\r\n    \r\n      XSSFConditionalFormattingRule rule = sheetCF.createConditionalFormattingRule(&quot;INT(A1)&lt;&gt;A1&quot;);\r\n      createNumberFormatting(rule, dataFormat.getFormat(&quot;0.0000&quot;), &quot;0.0000&quot;);\r\n      \r\n      XSSFConditionalFormattingRule[] cfRules = new XSSFConditionalFormattingRule[]{rule};\r\n    \r\n      CellRangeAddress[] regions = new CellRangeAddress[]{CellRangeAddress.valueOf(&quot;A1:A1000&quot;)};\r\n    \r\n      sheetCF.addConditionalFormatting(regions, cfRules);\r\n      \r\n      sheet.createRow(0).createCell(0).setCellValue(123);\r\n      sheet.createRow(1).createCell(0).setCellValue(123.45);\r\n      sheet.createRow(2).createCell(0).setCellValue(45);\r\n      sheet.createRow(3).createCell(0).setCellValue(45.678);\r\n      sheet.createRow(4).createCell(0).setCellValue(678);\r\n      sheet.createRow(5).createCell(0).setCellValue(678.9);\r\n    \r\n      FileOutputStream out = new FileOutputStream(filePath);\r\n      workbook.write(out);\r\n      out.close();\r\n      workbook.close();\r\n    \r\n     }\r\n    }\r\n\r\n\r\n\r\n\r\n","title":"How to manage decimal values with trailing zeros and plain integer values in excel using apache POI","body":"<p>Only solution comes in my mind is using conditional formatting.</p>\n<p>If a cell contains a number which <strong>not</strong> equals its integer part (means: is not an integer), then use number format <code>0.0000</code> else not. So the condition would be a formula: <code>=INT(A1)&lt;&gt;A1</code>.</p>\n<p>But there is not a <code>ConditionalFormattingRule.createNumberFormatting</code> upto now. And using the binary <code>*.xls</code> file format, which is <code>HSSF</code> in <code>apache poi</code>, nobody had detected where conditional number formats are stored at all. So only a <code>XSSF</code> solution is possible.</p>\n<p>In Office Open XML (<code>XSSF</code>) conditional numberformats are set in <code>dxf</code> element of <code>styles.xml</code> having <code>numFmt</code> element with attributes <code>numFmtId</code> and <code>formatCode</code>. The <code>numFmtId</code> can be got from <code>XSSFDataFormat.getFormat</code> with given <code>formatCode</code>. This <code>dxf</code> element then gets linked in worksheet's <code>cfRule</code>.</p>\n<p>The folowing complete example shows this. It provides a method <code>void createNumberFormatting(XSSFConditionalFormattingRule rule, short numFmtId, String formatCode)</code> to create a numberformatting in a given <code>XSSFConditionalFormattingRule</code>.</p>\n<pre><code>import org.apache.poi.xssf.usermodel.*;\nimport org.apache.poi.ss.util.CellRangeAddress;\n\nimport java.io.FileOutputStream;\n\npublic class ConditionalFormattingNumbers {\n    \n static void createNumberFormatting(XSSFConditionalFormattingRule rule, short numFmtId, String formatCode) throws Exception {\n  java.lang.reflect.Method getDxf = XSSFConditionalFormattingRule.class.getDeclaredMethod(&quot;getDxf&quot;, boolean.class);\n  getDxf.setAccessible(true);\n  org.openxmlformats.schemas.spreadsheetml.x2006.main.CTDxf dxf = (org.openxmlformats.schemas.spreadsheetml.x2006.main.CTDxf)getDxf.invoke(rule, true);\n  if (dxf.getNumFmt() == null) dxf.addNewNumFmt();\n  dxf.getNumFmt().setNumFmtId(numFmtId);\n  dxf.getNumFmt().setFormatCode(formatCode);\n }\n    \n\n public static void main(String[] args) throws Exception {\n  XSSFWorkbook workbook = new XSSFWorkbook(); String filePath = &quot;./ConditionalFormattingNumbers.xlsx&quot;;\n  \n  XSSFDataFormat dataFormat = workbook.createDataFormat();\n\n  XSSFSheet sheet = workbook.createSheet();\n  XSSFSheetConditionalFormatting sheetCF = sheet.getSheetConditionalFormatting();\n\n  XSSFConditionalFormattingRule rule = sheetCF.createConditionalFormattingRule(&quot;INT(A1)&lt;&gt;A1&quot;);\n  createNumberFormatting(rule, dataFormat.getFormat(&quot;0.0000&quot;), &quot;0.0000&quot;);\n  \n  XSSFConditionalFormattingRule[] cfRules = new XSSFConditionalFormattingRule[]{rule};\n\n  CellRangeAddress[] regions = new CellRangeAddress[]{CellRangeAddress.valueOf(&quot;A1:A1000&quot;)};\n\n  sheetCF.addConditionalFormatting(regions, cfRules);\n  \n  sheet.createRow(0).createCell(0).setCellValue(123);\n  sheet.createRow(1).createCell(0).setCellValue(123.45);\n  sheet.createRow(2).createCell(0).setCellValue(45);\n  sheet.createRow(3).createCell(0).setCellValue(45.678);\n  sheet.createRow(4).createCell(0).setCellValue(678);\n  sheet.createRow(5).createCell(0).setCellValue(678.9);\n\n  FileOutputStream out = new FileOutputStream(filePath);\n  workbook.write(out);\n  out.close();\n  workbook.close();\n\n }\n}\n</code></pre>\n"}],"owner":{"account_id":1804622,"reputation":33,"user_id":1642029,"accept_rate":17,"display_name":"SDFPAL35"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":594,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1645596039,"creation_date":1645532091,"question_id":71221104,"body_markdown":"Facing issue to format below 2 values.\r\n1. 25.25 \r\n2. 25 \r\n----------\r\nIf I use #.## format then it works fine for both values. But if I want 25.25 to be displayed as 25.2500 then I have to use #.0000 format and with this format 25 also gets converted to 25.0000.\r\nI want to format the cell based on type of Cell value but POI has only NumericCellValue which returns double.\r\nHow we can achieve if we want to display decimal values with trailing 0&#39;s and plain integer values.","title":"How to manage decimal values with trailing zeros and plain integer values in excel using apache POI","body":"<p>Facing issue to format below 2 values.</p>\n<ol>\n<li>25.25</li>\n<li>25</li>\n</ol>\n<hr />\n<p>If I use #.## format then it works fine for both values. But if I want 25.25 to be displayed as 25.2500 then I have to use #.0000 format and with this format 25 also gets converted to 25.0000.\nI want to format the cell based on type of Cell value but POI has only NumericCellValue which returns double.\nHow we can achieve if we want to display decimal values with trailing 0's and plain integer values.</p>\n"},{"tags":["java","dart","encoding","base64","decoding"],"comments":[{"owner":{"account_id":7642693,"reputation":1180,"user_id":5794313,"display_name":"Sync it"},"score":1,"creation_date":1645594995,"post_id":71231440,"comment_id":125910383,"body_markdown":"Get [decoder](https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/util/Base64.html#getDecoder()) then [decode](https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/util/Base64.Decoder.html#decode(java.lang.String)) into bytes then [read](https://docs.oracle.com/en/java/javase/16/docs/api/java.desktop/javax/imageio/ImageIO.html#read(java.io.InputStream)) back as image using [Stream](https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/io/ByteArrayInputStream.html#%3Cinit%3E(byte%5B%5D)) ImageIO.read(new ByteArrayInputStream(bytes));","body":"Get <a href=\"https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/util/Base64.html#getDecoder()\" rel=\"nofollow noreferrer\">decoder</a> then <a href=\"https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/util/Base64.Decoder.html#decode(java.lang.String)\" rel=\"nofollow noreferrer\">decode</a> into bytes then <a href=\"https://docs.oracle.com/en/java/javase/16/docs/api/java.desktop/javax/imageio/ImageIO.html#read(java.io.InputStream)\" rel=\"nofollow noreferrer\">read</a> back as image using <a href=\"https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/io/ByteArrayInputStream.html#%3Cinit%3E(byte%5B%5D)\" rel=\"nofollow noreferrer\">Stream</a> ImageIO.read(new ByteArrayInputStream(bytes));"},{"owner":{"account_id":22302854,"reputation":105,"user_id":16527883,"display_name":"User"},"score":0,"creation_date":1645595172,"post_id":71231440,"comment_id":125910419,"body_markdown":"Thanku.. Is it give same image result? Is there any issue occur","body":"Thanku.. Is it give same image result? Is there any issue occur"},{"owner":{"account_id":7642693,"reputation":1180,"user_id":5794313,"display_name":"Sync it"},"score":1,"creation_date":1645595187,"post_id":71231440,"comment_id":125910421,"body_markdown":"Finaly [write](https://docs.oracle.com/en/java/javase/16/docs/api/java.desktop/javax/imageio/ImageIO.html#write(java.awt.image.RenderedImage,java.lang.String,java.io.File)) image to disk ImageIO.write(image,&quot;png&quot;,new File(&quot;Your Location&quot;))","body":"Finaly <a href=\"https://docs.oracle.com/en/java/javase/16/docs/api/java.desktop/javax/imageio/ImageIO.html#write(java.awt.image.RenderedImage,java.lang.String,java.io.File)\" rel=\"nofollow noreferrer\">write</a> image to disk ImageIO.write(image,&quot;png&quot;,new File(&quot;Your Location&quot;))"},{"owner":{"account_id":7642693,"reputation":1180,"user_id":5794313,"display_name":"Sync it"},"score":2,"creation_date":1645595212,"post_id":71231440,"comment_id":125910425,"body_markdown":"Base 64 is universal everywhere so it should give the same result","body":"Base 64 is universal everywhere so it should give the same result"}],"answers":[{"tags":[],"owner":{"account_id":7642693,"reputation":1180,"user_id":5794313,"display_name":"Sync it"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1645595711,"creation_date":1645595711,"answer_id":71231963,"question_id":71231440,"body_markdown":"  Putting all my comments as an answer here are 2 utility functions\r\n    \r\n    public static BufferedImage decode(String base64Image)throws Exception \r\n    {\r\n      Base64.Decoder decoder=Base64.getDecoder();\r\n    \r\n      ByteArrayInputStream decoded=new ByteArrayInputStream(decoder.decode(base64Image));\r\n    \r\n      return ImageIO.read(decoded);\r\n    }\r\n    \r\n    public static void writeImage(ByfferedImage img,File file)throws Exception \r\n    {\r\n     ImageIO.write(img,&quot;png&quot;,file);\r\n    }","title":"Base64encoding and base64decoding in dart and Java","body":"<p>Putting all my comments as an answer here are 2 utility functions</p>\n<pre><code>public static BufferedImage decode(String base64Image)throws Exception \n{\n  Base64.Decoder decoder=Base64.getDecoder();\n\n  ByteArrayInputStream decoded=new ByteArrayInputStream(decoder.decode(base64Image));\n\n  return ImageIO.read(decoded);\n}\n\npublic static void writeImage(ByfferedImage img,File file)throws Exception \n{\n ImageIO.write(img,&quot;png&quot;,file);\n}\n</code></pre>\n"}],"owner":{"account_id":22302854,"reputation":105,"user_id":16527883,"display_name":"User"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71231963,"answer_count":1,"score":0,"last_activity_date":1645595711,"creation_date":1645591088,"question_id":71231440,"body_markdown":"Is base64encode and decode in dart is same for Java. In my flutter app I want to upload an image. I convert that image to string by base64Encode(file. readAsBytesSync()). And then I passed it to backend. Backendcode is in JAVA. I want to decode this image file in java for save into a folder. How it is possible. Is I decode image gives same result.? I want to fetch it back also. Please help ","title":"Base64encoding and base64decoding in dart and Java","body":"<p>Is base64encode and decode in dart is same for Java. In my flutter app I want to upload an image. I convert that image to string by base64Encode(file. readAsBytesSync()). And then I passed it to backend. Backendcode is in JAVA. I want to decode this image file in java for save into a folder. How it is possible. Is I decode image gives same result.? I want to fetch it back also. Please help</p>\n"},{"tags":["java","spring-boot","spring-batch"],"answers":[{"tags":[],"owner":{"account_id":384402,"reputation":1902,"user_id":740888,"display_name":"httPants"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645321936,"creation_date":1645321936,"answer_id":71190781,"question_id":71188331,"body_markdown":"Move the download out of the job listener and into it&#39;s own step that runs before the processing step.","title":"In our spring batch application, we have to download,read,process,write and upload file. my question is how to stop read upload when download failed","body":"<p>Move the download out of the job listener and into it's own step that runs before the processing step.</p>\n"},{"tags":[],"owner":{"account_id":12709504,"reputation":56,"user_id":9233548,"display_name":"czarmayne"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645595472,"creation_date":1645595472,"answer_id":71231935,"question_id":71188331,"body_markdown":"Configure the read to be the determinant on whether the application should proceed to the flow (process and writer). To do that, you can either return null or throw a runtime exception to stop the flow.\r\n\r\nReference: https://docs.spring.io/spring-batch/docs/current/reference/html/common-patterns.html#stoppingAJobManuallyForBusinessReasons","title":"In our spring batch application, we have to download,read,process,write and upload file. my question is how to stop read upload when download failed","body":"<p>Configure the read to be the determinant on whether the application should proceed to the flow (process and writer). To do that, you can either return null or throw a runtime exception to stop the flow.</p>\n<p>Reference: <a href=\"https://docs.spring.io/spring-batch/docs/current/reference/html/common-patterns.html#stoppingAJobManuallyForBusinessReasons\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-batch/docs/current/reference/html/common-patterns.html#stoppingAJobManuallyForBusinessReasons</a></p>\n"}],"owner":{"account_id":24313188,"reputation":11,"user_id":18254862,"display_name":"Oliva"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":281,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1645595472,"creation_date":1645298074,"question_id":71188331,"body_markdown":"I have download and upload methods in joblistener.java\r\nWe have only one step. Inside it we have read,process,write.\r\nHow to fail next operations when prior operations are failing. \r\nFor example, how to stop executing read,process,write,upload when download is failed?","title":"In our spring batch application, we have to download,read,process,write and upload file. my question is how to stop read upload when download failed","body":"<p>I have download and upload methods in joblistener.java\nWe have only one step. Inside it we have read,process,write.\nHow to fail next operations when prior operations are failing.\nFor example, how to stop executing read,process,write,upload when download is failed?</p>\n"},{"tags":["java","visual-studio-code","compiler-errors","one-simulator"],"answers":[{"tags":[],"owner":{"account_id":17942799,"reputation":7768,"user_id":13037676,"display_name":"Steven-MSFT"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645595369,"creation_date":1645595369,"answer_id":71231926,"question_id":71161602,"body_markdown":"It looks like the `DTNSimTextUI` and  `DTNSimGUI` class is not known at compile time. You need to import the related class.\r\n\r\nLike this:\r\n\r\n    import package1.package2.DTNSimTextUI","title":"Compiling Issue using VSC on ONE Simulator","body":"<p>It looks like the <code>DTNSimTextUI</code> and  <code>DTNSimGUI</code> class is not known at compile time. You need to import the related class.</p>\n<p>Like this:</p>\n<pre><code>import package1.package2.DTNSimTextUI\n</code></pre>\n"}],"owner":{"account_id":24290388,"reputation":1,"user_id":18235525,"display_name":"Sanjay Charles "},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1645595369,"creation_date":1645114213,"question_id":71161602,"body_markdown":"I just install ONE Simulator on my pc with updated JDK and JRE 1.8.0_321 using Visual Studio Code text editor. When I compile the main file, here is the problem mentioned:\r\n\r\nException in thread &quot;main&quot; java.lang.Error: Unresolved compilation problems:\r\n\r\n        Settings cannot be resolved\r\n        DTNSimTextUI cannot be resolved to a type\r\n        Settings cannot be resolved\r\n        DTNSimGUI cannot be resolved to a type\r\n\r\n        at core.DTNSim.main(DTNSim.java:83)\r\n\r\nMay I know, what is the problem here and how can I solve this problem?\r\n\r\nThanks","title":"Compiling Issue using VSC on ONE Simulator","body":"<p>I just install ONE Simulator on my pc with updated JDK and JRE 1.8.0_321 using Visual Studio Code text editor. When I compile the main file, here is the problem mentioned:</p>\n<p>Exception in thread &quot;main&quot; java.lang.Error: Unresolved compilation problems:</p>\n<pre><code>    Settings cannot be resolved\n    DTNSimTextUI cannot be resolved to a type\n    Settings cannot be resolved\n    DTNSimGUI cannot be resolved to a type\n\n    at core.DTNSim.main(DTNSim.java:83)\n</code></pre>\n<p>May I know, what is the problem here and how can I solve this problem?</p>\n<p>Thanks</p>\n"},{"tags":["java","spring","hibernate","jpa","many-to-one"],"comments":[{"owner":{"account_id":3719338,"reputation":12130,"user_id":3094731,"accept_rate":56,"display_name":"Abdullah Khan"},"score":0,"creation_date":1508661185,"post_id":46870767,"comment_id":80691265,"body_markdown":"Please also post the code that is persisting the data.","body":"Please also post the code that is persisting the data."},{"owner":{"account_id":7920752,"reputation":501,"user_id":5981828,"display_name":"rsu8"},"score":0,"creation_date":1508664587,"post_id":46870767,"comment_id":80692139,"body_markdown":"i added repository and controller class","body":"i added repository and controller class"}],"answers":[{"tags":[],"owner":{"account_id":3719338,"reputation":12130,"user_id":3094731,"accept_rate":56,"display_name":"Abdullah Khan"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1645593674,"creation_date":1508665241,"answer_id":46872604,"question_id":46870767,"body_markdown":"You have to update your method like so\r\n\r\n    @PostMapping\r\n    @ResponseBody\r\n    public ResponseEntity createMany(@RequestBody ManyDTO many) {\r\n        \r\n        One one = oneRepository(many.getOne_id()); //Get the parent Object\r\n        \r\n        Many newMany  = new Many(); //Create a new Many object\r\n        newMany.setName(many.getName());\r\n        newMany.setOne(one); // Set the parent relationship\r\n        \r\n        \r\n        ...\r\n\r\n    }\r\n\r\n**Note:** The above answer only explains the way to set the relationships of the entity. Proper service layer should be invoked actually.","title":"JSON content for POST request @ManyToOne relationship in Java Spring","body":"<p>You have to update your method like so</p>\n<pre><code>@PostMapping\n@ResponseBody\npublic ResponseEntity createMany(@RequestBody ManyDTO many) {\n    \n    One one = oneRepository(many.getOne_id()); //Get the parent Object\n    \n    Many newMany  = new Many(); //Create a new Many object\n    newMany.setName(many.getName());\n    newMany.setOne(one); // Set the parent relationship\n    \n    \n    ...\n\n}\n</code></pre>\n<p><strong>Note:</strong> The above answer only explains the way to set the relationships of the entity. Proper service layer should be invoked actually.</p>\n"},{"tags":[],"owner":{"account_id":2486844,"reputation":1057,"user_id":2165125,"display_name":"Zenith"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1508665890,"creation_date":1508665890,"answer_id":46872696,"question_id":46870767,"body_markdown":"You can persist 1 record in **One** and multiple record in **Many** tables only using a single request while your are using the below repository\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    import com.hotel.model.One;\r\n    import org.springframework.data.jpa.repository.JpaRepository;\r\n\r\n    public interface OneRepository extends JpaRepository&lt;One, Long&gt; {\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nOn the other hand you can persist 1 record in One and 1 record in Many tables using the JpaRepository given in your example.\r\n\r\nYour question was not clear, whether you want to persist One/Many or retrieve One/Many.","title":"JSON content for POST request @ManyToOne relationship in Java Spring","body":"<p>You can persist 1 record in <strong>One</strong> and multiple record in <strong>Many</strong> tables only using a single request while your are using the below repository</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>import com.hotel.model.One;\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\n\r\npublic interface OneRepository extends JpaRepository&lt;One, Long&gt; {\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>On the other hand you can persist 1 record in One and 1 record in Many tables using the JpaRepository given in your example.</p>\n\n<p>Your question was not clear, whether you want to persist One/Many or retrieve One/Many.</p>\n"}],"owner":{"account_id":7920752,"reputation":501,"user_id":5981828,"display_name":"rsu8"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9882,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":46872604,"answer_count":2,"score":8,"last_activity_date":1645593674,"creation_date":1508649836,"question_id":46870767,"body_markdown":"I have two models:&lt;br&gt;\r\nClass One:\r\n\r\n    import javax.persistence.*;\r\n    import java.util.Set;\r\n    \r\n    @Entity\r\n    public class One {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.AUTO)\r\n        private Long id;\r\n        private String name;\r\n        @OneToMany(mappedBy = &quot;one&quot;)\r\n        private Set&lt;Many&gt; manySet;\r\n    \r\n        //Constructor, Getter and Setter\r\n    }\r\nClass Many:\r\n\r\n    import javax.persistence.*;\r\n    \r\n    @Entity\r\n    public class Many {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.AUTO)\r\n        private Long id;\r\n        private String name;\r\n        @ManyToOne\r\n        @JoinColumn(name = &quot;one_id&quot;)\r\n        private One one;\r\n        //Constructor, Getter and Setter\r\n    }\r\nRepository:\r\n\r\n    import com.hotel.model.Many;\r\n    import org.springframework.data.jpa.repository.JpaRepository;\r\n    \r\n    public interface ManyRepository extends JpaRepository&lt;Many, Long&gt; {\r\n    }\r\n\r\nController Class:\r\n\r\n    @RestController\r\n    @RequestMapping(value = &quot;many&quot;)\r\n    public class ManyController {\r\n        @Autowired\r\n        private ManyRepository manyRepository;\r\n    \r\n        @GetMapping\r\n        @ResponseBody\r\n        public List&lt;Many&gt; getAllMany() {\r\n            return manyRepository.findAll();\r\n        }\r\n    \r\n        @PostMapping\r\n        @ResponseBody\r\n        public ResponseEntity createMany(@RequestBody Many many) {\r\n            return new ResponseEntity(manyRepository.save(many), HttpStatus.CREATED);\r\n        }\r\n    }\r\n\r\nI created One record with id=1.\r\nBut when I create a Many record with JSON data:\r\n\r\n    {\r\n        &quot;name&quot;: &quot;Foo&quot;,\r\n        &quot;one_id&quot;: 1\r\n    }\r\nI received Many record with `one_id` is `null`&lt;br&gt;\r\nCan I using only one request to create new Many record and assign to One record has id = 1?\r\nDo I have to use 2 request: create Many and assign to One?","title":"JSON content for POST request @ManyToOne relationship in Java Spring","body":"<p>I have two models:<br>\nClass One:</p>\n\n<pre><code>import javax.persistence.*;\nimport java.util.Set;\n\n@Entity\npublic class One {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long id;\n    private String name;\n    @OneToMany(mappedBy = \"one\")\n    private Set&lt;Many&gt; manySet;\n\n    //Constructor, Getter and Setter\n}\n</code></pre>\n\n<p>Class Many:</p>\n\n<pre><code>import javax.persistence.*;\n\n@Entity\npublic class Many {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long id;\n    private String name;\n    @ManyToOne\n    @JoinColumn(name = \"one_id\")\n    private One one;\n    //Constructor, Getter and Setter\n}\n</code></pre>\n\n<p>Repository:</p>\n\n<pre><code>import com.hotel.model.Many;\nimport org.springframework.data.jpa.repository.JpaRepository;\n\npublic interface ManyRepository extends JpaRepository&lt;Many, Long&gt; {\n}\n</code></pre>\n\n<p>Controller Class:</p>\n\n<pre><code>@RestController\n@RequestMapping(value = \"many\")\npublic class ManyController {\n    @Autowired\n    private ManyRepository manyRepository;\n\n    @GetMapping\n    @ResponseBody\n    public List&lt;Many&gt; getAllMany() {\n        return manyRepository.findAll();\n    }\n\n    @PostMapping\n    @ResponseBody\n    public ResponseEntity createMany(@RequestBody Many many) {\n        return new ResponseEntity(manyRepository.save(many), HttpStatus.CREATED);\n    }\n}\n</code></pre>\n\n<p>I created One record with id=1.\nBut when I create a Many record with JSON data:</p>\n\n<pre><code>{\n    \"name\": \"Foo\",\n    \"one_id\": 1\n}\n</code></pre>\n\n<p>I received Many record with <code>one_id</code> is <code>null</code><br>\nCan I using only one request to create new Many record and assign to One record has id = 1?\nDo I have to use 2 request: create Many and assign to One?</p>\n"},{"tags":["java","signals","finally"],"answers":[{"tags":[],"owner":{"account_id":7096,"reputation":16899,"user_id":12171,"accept_rate":90,"display_name":"Adrian Petrescu"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1517328986,"creation_date":1296969914,"answer_id":4911764,"question_id":4911745,"body_markdown":"The correct way to ensure that some code is run in response to an operating system signal (which is what Ctrl-C does, it sends a SIGINT) is to register a &quot;shutdownHook&quot;. Here&#39;s a [StackOverflow question][1] about handling it, and here&#39;s [an article][2] with way more detail about the JVM&#39;s signal handling than you probably will ever want to know.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/2975248/java-how-to-handle-a-sigterm\r\n  [2]: https://web.archive.org/web/20090214230330/http://www.ibm.com/developerworks/java/library/i-signalhandling/","title":"If I type Ctrl-C on the command line, will the finally block in Java still execute?","body":"<p>The correct way to ensure that some code is run in response to an operating system signal (which is what Ctrl-C does, it sends a SIGINT) is to register a \"shutdownHook\". Here's a <a href=\"https://stackoverflow.com/questions/2975248/java-how-to-handle-a-sigterm\">StackOverflow question</a> about handling it, and here's <a href=\"https://web.archive.org/web/20090214230330/http://www.ibm.com/developerworks/java/library/i-signalhandling/\" rel=\"nofollow noreferrer\">an article</a> with way more detail about the JVM's signal handling than you probably will ever want to know.</p>\n"},{"tags":[],"owner":{"account_id":275502,"reputation":16152,"user_id":568406,"display_name":"Zach L"},"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1392728174,"creation_date":1296970168,"answer_id":4911779,"question_id":4911745,"body_markdown":"While your finally code may have executed on your Windows  machine (I couldn&#39;t reproduce it with Linux), according to [this documentation on finally][1]:\r\n\r\n&gt; Note: If the JVM exits while the try\r\n&gt; or catch code is being executed, then\r\n&gt; the finally block may not execute.\r\n&gt; Likewise, if the thread executing the\r\n&gt; try or catch code is interrupted or\r\n&gt; killed, the finally block may not\r\n&gt; execute even though the application as\r\n&gt; a whole continues.\r\n\r\n\r\nSo I wouldn&#39;t use a finally block to make sure a piece of code executes, even if the user tries to prematurely exit. If you need that, you can use, like [Adrian Petrescu][2] mentioned, [Shutdown Hooks][3]\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/tutorial/essential/exceptions/finally.html\r\n  [2]: https://stackoverflow.com/questions/4911745/if-pressed-ctrlc-in-commandline-the-finally-block-in-java-will-also-execute/4911764#4911764\r\n  [3]: http://docs.oracle.com/javase/7/docs/technotes/guides/lang/hook-design.html","title":"If I type Ctrl-C on the command line, will the finally block in Java still execute?","body":"<p>While your finally code may have executed on your Windows  machine (I couldn't reproduce it with Linux), according to <a href=\"http://download.oracle.com/javase/tutorial/essential/exceptions/finally.html\" rel=\"nofollow noreferrer\">this documentation on finally</a>:</p>\n\n<blockquote>\n  <p>Note: If the JVM exits while the try\n  or catch code is being executed, then\n  the finally block may not execute.\n  Likewise, if the thread executing the\n  try or catch code is interrupted or\n  killed, the finally block may not\n  execute even though the application as\n  a whole continues.</p>\n</blockquote>\n\n<p>So I wouldn't use a finally block to make sure a piece of code executes, even if the user tries to prematurely exit. If you need that, you can use, like <a href=\"https://stackoverflow.com/questions/4911745/if-pressed-ctrlc-in-commandline-the-finally-block-in-java-will-also-execute/4911764#4911764\">Adrian Petrescu</a> mentioned, <a href=\"http://docs.oracle.com/javase/7/docs/technotes/guides/lang/hook-design.html\" rel=\"nofollow noreferrer\">Shutdown Hooks</a></p>\n"},{"tags":[],"owner":{"account_id":15102,"reputation":45656,"user_id":31563,"accept_rate":70,"display_name":"Joe Daley"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1296970321,"creation_date":1296970321,"answer_id":4911789,"question_id":4911745,"body_markdown":"In my test on Windows 7, Sun Java 1.6, the finally block did not execute if I pressed Ctrl-C during this try block.\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\ttry {\r\n\t\t\tfor (int i = 0; i &lt; 1000; i++) {\r\n\t\t\t\tSystem.out.println(i);\r\n\t\t\t}\r\n\t\t}\r\n\t\tfinally {\r\n\t\t\tSystem.out.println(&quot;finally&quot;);\r\n\t\t}\r\n\t}","title":"If I type Ctrl-C on the command line, will the finally block in Java still execute?","body":"<p>In my test on Windows 7, Sun Java 1.6, the finally block did not execute if I pressed Ctrl-C during this try block.</p>\n\n<pre><code>public static void main(String[] args) {\n    try {\n        for (int i = 0; i &lt; 1000; i++) {\n            System.out.println(i);\n        }\n    }\n    finally {\n        System.out.println(\"finally\");\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5813688,"reputation":263,"user_id":4584004,"accept_rate":56,"display_name":"nawazish-stackoverflow"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1513875958,"creation_date":1513873879,"answer_id":47929086,"question_id":4911745,"body_markdown":"Depending on OS implementations, generally `sigkills` are meant to stop applications immediately. In this situation it is not desirable to rely on finally block to execute; it may in some situations, but generally it would/should not. The `java.lang.Runtime` documentation further supports this:\r\n\r\n`In rare circumstances the virtual machine may abort, that is, stop running without shutting down cleanly. This occurs when the virtual machine is terminated externally, for example with the SIGKILL signal on Unix or the TerminateProcess call on Microsoft Windows. The virtual machine may also abort if a native method goes awry by, for example, corrupting internal data structures or attempting to access nonexistent memory. If the virtual machine aborts then no guarantee can be made about whether or not any shutdown hooks will be run.` ","title":"If I type Ctrl-C on the command line, will the finally block in Java still execute?","body":"<p>Depending on OS implementations, generally <code>sigkills</code> are meant to stop applications immediately. In this situation it is not desirable to rely on finally block to execute; it may in some situations, but generally it would/should not. The <code>java.lang.Runtime</code> documentation further supports this:</p>\n\n<p><code>In rare circumstances the virtual machine may abort, that is, stop running without shutting down cleanly. This occurs when the virtual machine is terminated externally, for example with the SIGKILL signal on Unix or the TerminateProcess call on Microsoft Windows. The virtual machine may also abort if a native method goes awry by, for example, corrupting internal data structures or attempting to access nonexistent memory. If the virtual machine aborts then no guarantee can be made about whether or not any shutdown hooks will be run.</code> </p>\n"},{"tags":[],"owner":{"account_id":455892,"reputation":6866,"user_id":854342,"accept_rate":17,"display_name":"Curtis Yallop"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645593366,"creation_date":1644298134,"answer_id":71028985,"question_id":4911745,"body_markdown":"No, the finally block is not being run for me when I Ctrl-C (in Linux).\r\n\r\nI recommend moving your finally logic to a method &quot;shutdown&quot;. Then calling it from both the finally block as well as from a Ctrl-C handler. Like this:\r\n\r\n```\r\nprivate void registerSigIntHandler() {\r\n\tfinal SignalHandler defaultSigIntHandler = Signal.handle(new Signal(&quot;INT&quot;), SignalHandler.SIG_DFL);\r\n\r\n\tSignal.handle(new Signal(&quot;INT&quot;), new SignalHandler() {\r\n\t\tpublic void handle(Signal signal) {\r\n\t\t\tlog.info(&quot;SIGINT received&quot;);\r\n\t\t\tSignal.handle(new Signal(&quot;INT&quot;), SignalHandler.SIG_DFL);\r\n\t\t\tshutdown();\r\n\t\t\tdefaultSigIntHandler.handle(signal);\t\t}\r\n\t});\r\n}\r\n```\r\n\r\nThe benefit of doing it this way is that after shutdown completes, the SIG_DFL handler executes, terminating the program via the default OS SIGINT handler. This terminates the main thread and the entire process. Otherwise, if you do not use SIG_DFL, you have to somehow signal the main thread to exit. My main thread does not listen/poll for shutdown signals/messages. It is a long-running data-migration job. I want to shut down certain things but terminate the main thread and subthreads.\r\n\r\nAlso if shutdown hangs (hopefully should not happen), a second ctrl-c will terminate the program via the SIG_DFL handler.\r\n\r\nIn shutdown, I also set an AtomicBoolean to ensure shutdown is only run once.\r\n\r\n```\r\nboolean isShuttingDown = this.isShuttingDown.getAndSet(true);\r\nif (isShuttingDown) {\r\n\treturn;\r\n}\r\n```\r\n\r\nI also tried `addShutdownHook` (an alternative to `Signal.handle`) but ran into trouble with it not running my shutdown routine fully. I was messaging and joining with subthreads.\r\n\r\nNote: Do not call `SignalHandler.SIG_DFL.handle(new Signal(&quot;INT&quot;));`. It gives me SIGSEGV every time (which does exit the program). - https://stackoverflow.com/questions/32190311/how-do-i-trigger-the-default-signal-handling-behavior","title":"If I type Ctrl-C on the command line, will the finally block in Java still execute?","body":"<p>No, the finally block is not being run for me when I Ctrl-C (in Linux).</p>\n<p>I recommend moving your finally logic to a method &quot;shutdown&quot;. Then calling it from both the finally block as well as from a Ctrl-C handler. Like this:</p>\n<pre><code>private void registerSigIntHandler() {\n    final SignalHandler defaultSigIntHandler = Signal.handle(new Signal(&quot;INT&quot;), SignalHandler.SIG_DFL);\n\n    Signal.handle(new Signal(&quot;INT&quot;), new SignalHandler() {\n        public void handle(Signal signal) {\n            log.info(&quot;SIGINT received&quot;);\n            Signal.handle(new Signal(&quot;INT&quot;), SignalHandler.SIG_DFL);\n            shutdown();\n            defaultSigIntHandler.handle(signal);        }\n    });\n}\n</code></pre>\n<p>The benefit of doing it this way is that after shutdown completes, the SIG_DFL handler executes, terminating the program via the default OS SIGINT handler. This terminates the main thread and the entire process. Otherwise, if you do not use SIG_DFL, you have to somehow signal the main thread to exit. My main thread does not listen/poll for shutdown signals/messages. It is a long-running data-migration job. I want to shut down certain things but terminate the main thread and subthreads.</p>\n<p>Also if shutdown hangs (hopefully should not happen), a second ctrl-c will terminate the program via the SIG_DFL handler.</p>\n<p>In shutdown, I also set an AtomicBoolean to ensure shutdown is only run once.</p>\n<pre><code>boolean isShuttingDown = this.isShuttingDown.getAndSet(true);\nif (isShuttingDown) {\n    return;\n}\n</code></pre>\n<p>I also tried <code>addShutdownHook</code> (an alternative to <code>Signal.handle</code>) but ran into trouble with it not running my shutdown routine fully. I was messaging and joining with subthreads.</p>\n<p>Note: Do not call <code>SignalHandler.SIG_DFL.handle(new Signal(&quot;INT&quot;));</code>. It gives me SIGSEGV every time (which does exit the program). - <a href=\"https://stackoverflow.com/questions/32190311/how-do-i-trigger-the-default-signal-handling-behavior\">How do I trigger the default signal handling behavior?</a></p>\n"}],"owner":{"account_id":289238,"reputation":5007,"user_id":590091,"accept_rate":57,"display_name":"Hesey"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7769,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"accepted_answer_id":4911779,"answer_count":5,"score":17,"last_activity_date":1645593366,"creation_date":1296969603,"question_id":4911745,"body_markdown":"I&#39;m running my Java application in `cmd.exe` in Windows. If I stop the process forcefully by pressing Ctrl-C, and the code at that moment was running in the `try` block, will the `finally` block still be executed?\r\n\r\nIn my tests it seems that, yes, it is executed.","title":"If I type Ctrl-C on the command line, will the finally block in Java still execute?","body":"<p>I'm running my Java application in <code>cmd.exe</code> in Windows. If I stop the process forcefully by pressing Ctrl-C, and the code at that moment was running in the <code>try</code> block, will the <code>finally</code> block still be executed?</p>\n\n<p>In my tests it seems that, yes, it is executed.</p>\n"},{"tags":["java","log4j2"],"comments":[{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":1,"creation_date":1644308820,"post_id":71029551,"comment_id":125565424,"body_markdown":"By _&quot;has their own Log4j2 implementation&quot;_ you mean they both use the Log4j 2.x API? In that case, once you add a Log4j2 implementation to the runtime, both will log correctly.","body":"By <i>&quot;has their own Log4j2 implementation&quot;</i> you mean they both use the Log4j 2.x API? In that case, once you add a Log4j2 implementation to the runtime, both will log correctly."},{"owner":{"account_id":14310873,"reputation":21,"user_id":10337202,"display_name":"Jerome Sin"},"score":0,"creation_date":1644376132,"post_id":71029551,"comment_id":125588494,"body_markdown":"I tried, however, the main application is unable to find the logger. The current setup is: The external library is using the Configurator to initialize Log4j2. The main application is using Log4j2.xml configuration file. When running the main application, the external library&#39;s configurator will overwrite the Log4j2.xml configuration and thus making it unable to find the logger.","body":"I tried, however, the main application is unable to find the logger. The current setup is: The external library is using the Configurator to initialize Log4j2. The main application is using Log4j2.xml configuration file. When running the main application, the external library&#39;s configurator will overwrite the Log4j2.xml configuration and thus making it unable to find the logger."}],"answers":[{"tags":[],"owner":{"account_id":14310873,"reputation":21,"user_id":10337202,"display_name":"Jerome Sin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645593129,"creation_date":1645593129,"answer_id":71231661,"question_id":71029551,"body_markdown":"I did so by programmatically creating a new LoggerContext in the external library, and using that LoggerContext for the Log4j2 logging. Since it is a new LoggerContext, it should not interfere/conflict with the main application&#39;s Log4j2 xml configuration file or configurator.","title":"Main application with external library and both using Log4j2","body":"<p>I did so by programmatically creating a new LoggerContext in the external library, and using that LoggerContext for the Log4j2 logging. Since it is a new LoggerContext, it should not interfere/conflict with the main application's Log4j2 xml configuration file or configurator.</p>\n"}],"owner":{"account_id":14310873,"reputation":21,"user_id":10337202,"display_name":"Jerome Sin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":191,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1645593129,"creation_date":1644302515,"question_id":71029551,"body_markdown":"What is the best way to go about implementing an external library that uses Log4j2 when the main application that uses this external library also has their own Log4j2 implementation? ","title":"Main application with external library and both using Log4j2","body":"<p>What is the best way to go about implementing an external library that uses Log4j2 when the main application that uses this external library also has their own Log4j2 implementation?</p>\n"},{"tags":["java","snmp","net-snmp","snmp4j","snmp-trap"],"answers":[{"tags":[],"owner":{"account_id":24348933,"reputation":1,"user_id":18285047,"display_name":"jayanth kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645592526,"creation_date":1645592526,"answer_id":71231602,"question_id":65567575,"body_markdown":"in adduser try setting to PrivDES.ID instead of PrivAES128.ID,\r\n\r\n        OID encid = PrivDES.ID;\r\n    \tif(enc.equalsIgnoreCase(&quot;des&quot;))\r\n    \t{\r\n    \t\tencid = PrivDES.ID;\r\n    \t}\r\n    \telse if(enc.equalsIgnoreCase(&quot;aes&quot;)){\r\n    \t\tencid = PrivAES128.ID;\r\n    \t}\r\n    \t\r\n    \t\r\n    \tUsmUser user = new UsmUser(  new OctetString(username),  authid, new \r\n        OctetString(pass),  encid, new OctetString(pass));","title":"Auth and Priv not working for SNMP v3 traps","body":"<p>in adduser try setting to PrivDES.ID instead of PrivAES128.ID,</p>\n<pre><code>    OID encid = PrivDES.ID;\n    if(enc.equalsIgnoreCase(&quot;des&quot;))\n    {\n        encid = PrivDES.ID;\n    }\n    else if(enc.equalsIgnoreCase(&quot;aes&quot;)){\n        encid = PrivAES128.ID;\n    }\n    \n    \n    UsmUser user = new UsmUser(  new OctetString(username),  authid, new \n    OctetString(pass),  encid, new OctetString(pass));\n</code></pre>\n"}],"owner":{"account_id":14653985,"reputation":27,"user_id":10583115,"display_name":"Tom Hill"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":579,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1645592526,"creation_date":1609783422,"question_id":65567575,"body_markdown":"I&#39;m sending v3 traps to my net-snmp container. When I set securityLevel to 1 I get:\r\n\r\n    0.....0...1x....\r\n    ..........-0+...\r\n    ..p.....3.8.....\r\n    ....myuser..s...f&#39;\r\n    ##..{-..0~.....p\r\n    .........Mon Jan\r\n    04 18:42:16 CET\r\n    20210...+.....me\r\n    ssage\r\nThe security Level 1 is noAuthNoPriv so it works, that&#39;s okay. When I set security Level to 2, I log with my username and authPassword, and again it&#39;s working! But, when i made a typo in my username I found out that it is working as well :( So instead of valid credentials I could write user: someone password:something and it would still work. And when it comes to security Level 3, whatever I try I can&#39;t make it to work. It is always as in the copied result above, however, at the end of the log instead of &quot;message&quot; there is a line of hash code. Does it mean it sees the credentials as wrong ones and that why it is encoded? I can&#39;t decode it in any way?\r\nSo in summary, with authNoPriv it works everytime, it doesn&#39;t care if auth password is correct or not, and with authPriv it never works, it doesn&#39;t care if priv password is correct or not. I tried mixing my code with the ones from internet but it didn&#39;t help. Here&#39;s my code:\r\n\r\n     TransportMapping transport = new DefaultUdpTransportMapping();\r\n            transport.listen();\r\n            Snmp snmp = new Snmp(transport);\r\n\r\n            USM usm = new USM(SecurityProtocols.getInstance().addDefaultProtocols(),\r\n                    new OctetString(MPv3.createLocalEngineID()), 0);\r\n            SecurityProtocols.getInstance().addPrivacyProtocol(new PrivAES192());\r\n            SecurityProtocols.getInstance().addPrivacyProtocol(new PrivAES256());\r\n            SecurityProtocols.getInstance().addPrivacyProtocol(new Priv3DES());\r\n            SecurityModels.getInstance().addSecurityModel(usm);\r\n\r\n\r\n            String username = &quot;myuser&quot;;\r\n\r\n\r\n            snmp.getUSM().addUser( =\r\n                    new OctetString(username),\r\n                    new UsmUser(new OctetString(username), AuthMD5.ID, new OctetString(\r\n                            &quot;myAuthPasswd&quot;), PrivAES128.ID, new OctetString(&quot;myPrivPasswd&quot;)));\r\n\r\n\r\n\r\n            UserTarget target = new UserTarget();\r\n            target.setAddress(new UdpAddress(ipAddress + &quot;/&quot; + port));\r\n            target.setRetries(1);\r\n            target.setTimeout(11500);\r\n            target.setVersion(SnmpConstants.version3);\r\n            target.setSecurityLevel(3);\r\n            target.setSecurityName(new OctetString(username));\r\n\r\n            PDU pdu = new ScopedPDU();\r\n            pdu.setType(ScopedPDU.TRAP);\r\n            pdu.add(new VariableBinding(SnmpConstants.snmpTrapOID,\r\n                    SnmpConstants.linkDown));\r\n            pdu.add(new VariableBinding(new OID(trapOid), new OctetString(&quot;message&quot;)));\r\n\r\n            snmp.send(pdu, target);\r\n            System.out.println(&quot;Sending Trap to (IP:Port)=&gt; &quot; + ipAddress + &quot;:&quot;\r\n                    + port);\r\n\r\n            snmp.close();\r\n        }\r\n\r\nAlso, here&#39;s what I get from container&#39;s user table:\r\n\r\n    SNMP-USER-BASED-SM-MIB::usmUserAuthProtocol.&quot;.....~&quot;!x..._....&quot;.&quot;myuser&quot; = OID: SNMP-USER-BASED-SM-MIB::usmHMACMD5AuthProtocol\r\n\r\nSo this user has MD5 authProtocol.\r\nAnd\r\n\r\n    SNMP-USER-BASED-SM-MIB::usmUserPrivProtocol.&quot;.....~&quot;!x..._....&quot;.&quot;myuser&quot; = OID: SNMP-USER-BASED-SM-MIB::usmDESPrivProtocol\r\n\r\nthis user has DES priv protocol. Anyone could help?\r\nThanks in advance.\r\n","title":"Auth and Priv not working for SNMP v3 traps","body":"<p>I'm sending v3 traps to my net-snmp container. When I set securityLevel to 1 I get:</p>\n<pre><code>0.....0...1x....\n..........-0+...\n..p.....3.8.....\n....myuser..s...f'\n##..{-..0~.....p\n.........Mon Jan\n04 18:42:16 CET\n20210...+.....me\nssage\n</code></pre>\n<p>The security Level 1 is noAuthNoPriv so it works, that's okay. When I set security Level to 2, I log with my username and authPassword, and again it's working! But, when i made a typo in my username I found out that it is working as well :( So instead of valid credentials I could write user: someone password:something and it would still work. And when it comes to security Level 3, whatever I try I can't make it to work. It is always as in the copied result above, however, at the end of the log instead of &quot;message&quot; there is a line of hash code. Does it mean it sees the credentials as wrong ones and that why it is encoded? I can't decode it in any way?\nSo in summary, with authNoPriv it works everytime, it doesn't care if auth password is correct or not, and with authPriv it never works, it doesn't care if priv password is correct or not. I tried mixing my code with the ones from internet but it didn't help. Here's my code:</p>\n<pre><code> TransportMapping transport = new DefaultUdpTransportMapping();\n        transport.listen();\n        Snmp snmp = new Snmp(transport);\n\n        USM usm = new USM(SecurityProtocols.getInstance().addDefaultProtocols(),\n                new OctetString(MPv3.createLocalEngineID()), 0);\n        SecurityProtocols.getInstance().addPrivacyProtocol(new PrivAES192());\n        SecurityProtocols.getInstance().addPrivacyProtocol(new PrivAES256());\n        SecurityProtocols.getInstance().addPrivacyProtocol(new Priv3DES());\n        SecurityModels.getInstance().addSecurityModel(usm);\n\n\n        String username = &quot;myuser&quot;;\n\n\n        snmp.getUSM().addUser( =\n                new OctetString(username),\n                new UsmUser(new OctetString(username), AuthMD5.ID, new OctetString(\n                        &quot;myAuthPasswd&quot;), PrivAES128.ID, new OctetString(&quot;myPrivPasswd&quot;)));\n\n\n\n        UserTarget target = new UserTarget();\n        target.setAddress(new UdpAddress(ipAddress + &quot;/&quot; + port));\n        target.setRetries(1);\n        target.setTimeout(11500);\n        target.setVersion(SnmpConstants.version3);\n        target.setSecurityLevel(3);\n        target.setSecurityName(new OctetString(username));\n\n        PDU pdu = new ScopedPDU();\n        pdu.setType(ScopedPDU.TRAP);\n        pdu.add(new VariableBinding(SnmpConstants.snmpTrapOID,\n                SnmpConstants.linkDown));\n        pdu.add(new VariableBinding(new OID(trapOid), new OctetString(&quot;message&quot;)));\n\n        snmp.send(pdu, target);\n        System.out.println(&quot;Sending Trap to (IP:Port)=&gt; &quot; + ipAddress + &quot;:&quot;\n                + port);\n\n        snmp.close();\n    }\n</code></pre>\n<p>Also, here's what I get from container's user table:</p>\n<pre><code>SNMP-USER-BASED-SM-MIB::usmUserAuthProtocol.&quot;.....~&quot;!x..._....&quot;.&quot;myuser&quot; = OID: SNMP-USER-BASED-SM-MIB::usmHMACMD5AuthProtocol\n</code></pre>\n<p>So this user has MD5 authProtocol.\nAnd</p>\n<pre><code>SNMP-USER-BASED-SM-MIB::usmUserPrivProtocol.&quot;.....~&quot;!x..._....&quot;.&quot;myuser&quot; = OID: SNMP-USER-BASED-SM-MIB::usmDESPrivProtocol\n</code></pre>\n<p>this user has DES priv protocol. Anyone could help?\nThanks in advance.</p>\n"},{"tags":["java","spring","spring-batch"],"answers":[{"tags":[],"owner":{"account_id":7178839,"reputation":166,"user_id":5483654,"display_name":"Ivan Costa"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1645573008,"creation_date":1645573008,"answer_id":71229635,"question_id":71228563,"body_markdown":"Probably you are using the itemwriter outside of the step scope when doing this:\r\n\r\n```\r\n itemWriter.open(new ExecutionContext());\r\n```\r\n\r\nPlease check [this question][1], hope that this helps you.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/52456428/why-should-i-use-close-method-in-flatfileitemwriter-in-springbatch","title":"Spring batch doesn&#39;t seem to be closing item writers properly","body":"<p>Probably you are using the itemwriter outside of the step scope when doing this:</p>\n<pre><code> itemWriter.open(new ExecutionContext());\n</code></pre>\n<p>Please check <a href=\"https://stackoverflow.com/questions/52456428/why-should-i-use-close-method-in-flatfileitemwriter-in-springbatch\">this question</a>, hope that this helps you.</p>\n"}],"owner":{"display_name":"user13314823"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":910,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71229635,"answer_count":1,"score":1,"last_activity_date":1645591228,"creation_date":1645565536,"question_id":71228563,"body_markdown":"I have a job that writes each item in one separated file. In order to do this, the job uses a ClassifierCompositeItemWriter whose the ClassifierCompositeItemWriter returns a new FlatFileItemWriter for each item (code bellow).\r\n\r\n```\r\n    @Bean\r\n    @StepScope\r\n    public ClassifierCompositeItemWriter&lt;ProcessorResult&gt; writer(@Value(&quot;#{jobParameters[&#39;outputPath&#39;]}&quot;) String outputPath) {\r\n\r\n        ClassifierCompositeItemWriter&lt;MyItem&gt; compositeItemWriter = new ClassifierCompositeItemWriter&lt;&gt;();\r\n        \r\n        compositeItemWriter.setClassifier((item) -&gt; {\r\n            \r\n            String filePath = outputPath + &quot;/&quot; + item.getFileName();\r\n            \r\n            BeanWrapperFieldExtractor&lt;MyItem&gt; fieldExtractor = new BeanWrapperFieldExtractor&lt;&gt;();\r\n            fieldExtractor.setNames(new String[]{&quot;content&quot;});\r\n            \r\n            DelimitedLineAggregator&lt;MyItem&gt; lineAggregator = new DelimitedLineAggregator&lt;&gt;();\r\n            lineAggregator.setFieldExtractor(fieldExtractor);\r\n\r\n            FlatFileItemWriter&lt;MyItem&gt; itemWriter = new FlatFileItemWriter&lt;&gt;();\r\n            itemWriter.setResource(new FileSystemResource(filePath));\r\n            itemWriter.setLineAggregator(lineAggregator);\r\n            itemWriter.setShouldDeleteIfEmpty(true);\r\n            itemWriter.setShouldDeleteIfExists(true);\r\n\r\n            itemWriter.open(new ExecutionContext());\r\n            return itemWriter;\r\n            \r\n        });\r\n        \r\n        return compositeItemWriter;\r\n\r\n    }\r\n```\r\n\r\nHere&#39;s how the job is configured:\r\n\r\n```\r\n    @Bean\r\n    public Step step1() {\r\n        return stepBuilderFactory\r\n                .get(&quot;step1&quot;)\r\n                .&lt;String, MyItem&gt;chunk(1)\r\n                .reader(reader(null))\r\n                .processor(processor(null, null, null))\r\n                .writer(writer(null))\r\n                .build();\r\n    }\r\n\r\n    @Bean\r\n    public Job job() {\r\n        return jobBuilderFactory\r\n                .get(&quot;job&quot;)\r\n                .incrementer(new RunIdIncrementer())\r\n                .flow(step1())\r\n                .end()\r\n                .build();\r\n    }\r\n```\r\n\r\nEverything works perfectly. All the files are generated as I expected. However, one of the file cannot be deleted. Just one. If I try to delete it, I get a message saying that &quot;OpenJDK Platform binary&quot; is using it. If I increase the chunk to a size bigger that the amount of files I&#39;m generating, none of the files can be deleted. Seems like there&#39;s an issue to delete the files generated in the last chunk, like if the respective writer is not being closed properly by the Spring Batch lifecycle or something.\r\n\r\nIf I kill the application process, I can delete the file.\r\n\r\nAny I idea why this could be happening? Thanks in advance!\r\n\r\nPS: I&#39;m calling this &quot;itemWriter.open(new ExecutionContext());&quot; because if I don&#39;t, I get a &quot;org.springframework.batch.item.WriterNotOpenException: Writer must be open before it can be written to&quot;.\r\n\r\nEDIT:\r\n\r\nIf someone is facing a similar problem, I suggest reading the Mahmoud&#39;s answer to this question https://stackoverflow.com/questions/67604628/spring-batch-classifiercompositeitemwriter-footer-not-getting-called .\r\n","title":"Spring batch doesn&#39;t seem to be closing item writers properly","body":"<p>I have a job that writes each item in one separated file. In order to do this, the job uses a ClassifierCompositeItemWriter whose the ClassifierCompositeItemWriter returns a new FlatFileItemWriter for each item (code bellow).</p>\n<pre><code>    @Bean\n    @StepScope\n    public ClassifierCompositeItemWriter&lt;ProcessorResult&gt; writer(@Value(&quot;#{jobParameters['outputPath']}&quot;) String outputPath) {\n\n        ClassifierCompositeItemWriter&lt;MyItem&gt; compositeItemWriter = new ClassifierCompositeItemWriter&lt;&gt;();\n        \n        compositeItemWriter.setClassifier((item) -&gt; {\n            \n            String filePath = outputPath + &quot;/&quot; + item.getFileName();\n            \n            BeanWrapperFieldExtractor&lt;MyItem&gt; fieldExtractor = new BeanWrapperFieldExtractor&lt;&gt;();\n            fieldExtractor.setNames(new String[]{&quot;content&quot;});\n            \n            DelimitedLineAggregator&lt;MyItem&gt; lineAggregator = new DelimitedLineAggregator&lt;&gt;();\n            lineAggregator.setFieldExtractor(fieldExtractor);\n\n            FlatFileItemWriter&lt;MyItem&gt; itemWriter = new FlatFileItemWriter&lt;&gt;();\n            itemWriter.setResource(new FileSystemResource(filePath));\n            itemWriter.setLineAggregator(lineAggregator);\n            itemWriter.setShouldDeleteIfEmpty(true);\n            itemWriter.setShouldDeleteIfExists(true);\n\n            itemWriter.open(new ExecutionContext());\n            return itemWriter;\n            \n        });\n        \n        return compositeItemWriter;\n\n    }\n</code></pre>\n<p>Here's how the job is configured:</p>\n<pre><code>    @Bean\n    public Step step1() {\n        return stepBuilderFactory\n                .get(&quot;step1&quot;)\n                .&lt;String, MyItem&gt;chunk(1)\n                .reader(reader(null))\n                .processor(processor(null, null, null))\n                .writer(writer(null))\n                .build();\n    }\n\n    @Bean\n    public Job job() {\n        return jobBuilderFactory\n                .get(&quot;job&quot;)\n                .incrementer(new RunIdIncrementer())\n                .flow(step1())\n                .end()\n                .build();\n    }\n</code></pre>\n<p>Everything works perfectly. All the files are generated as I expected. However, one of the file cannot be deleted. Just one. If I try to delete it, I get a message saying that &quot;OpenJDK Platform binary&quot; is using it. If I increase the chunk to a size bigger that the amount of files I'm generating, none of the files can be deleted. Seems like there's an issue to delete the files generated in the last chunk, like if the respective writer is not being closed properly by the Spring Batch lifecycle or something.</p>\n<p>If I kill the application process, I can delete the file.</p>\n<p>Any I idea why this could be happening? Thanks in advance!</p>\n<p>PS: I'm calling this &quot;itemWriter.open(new ExecutionContext());&quot; because if I don't, I get a &quot;org.springframework.batch.item.WriterNotOpenException: Writer must be open before it can be written to&quot;.</p>\n<p>EDIT:</p>\n<p>If someone is facing a similar problem, I suggest reading the Mahmoud's answer to this question <a href=\"https://stackoverflow.com/questions/67604628/spring-batch-classifiercompositeitemwriter-footer-not-getting-called\">Spring batch : ClassifierCompositeItemWriter footer not getting called</a> .</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"display_name":"user3629714"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1426373689,"creation_date":1426373689,"answer_id":29055212,"question_id":29012066,"body_markdown":"Android Config_Alpha_8  does not save color information, so when you draw the bitmap, adding the paint will do nothing, and all isFilled checks will return false.\r\n\r\nNeat piece of code though.","title":"Pixel perfect collision with Bitmap.Config.ALPHA_8","body":"<p>Android Config_Alpha_8  does not save color information, so when you draw the bitmap, adding the paint will do nothing, and all isFilled checks will return false.</p>\n\n<p>Neat piece of code though.</p>\n"},{"tags":[],"owner":{"account_id":3614644,"reputation":397,"user_id":3014854,"display_name":"Harry Silver"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1645590519,"creation_date":1426429138,"answer_id":29061657,"question_id":29012066,"body_markdown":"Calling [`getPixel()`][1] on a Bitmap with `ALPHA_8` configuration will always return zero. This seems to be [a bug][2].\r\n\r\nYou can work around this problem by storing the pixels of each Bitmap as a byte array:\r\n\r\n    byte[] pixelData = getPixels(convert(bitmap, Bitmap.Config.ALPHA_8));\r\n\r\n    ...\r\n\r\n    public byte[] getPixels(Bitmap bmp) {\r\n        int bytes = bmp.getRowBytes() * bmp.getHeight();\r\n        ByteBuffer buffer = ByteBuffer.allocate(bytes);\r\n        bmp.copyPixelsToBuffer(buffer);\r\n        return buffer.array();\r\n    }\r\n\r\nYou will need to modify your collision detection function a little:\r\n\r\n    public boolean isCollisionDetected(\r\n        byte[] pixels1, Bitmap bitmap1, int x1, int y1,\r\n        byte[] pixels2, Bitmap bitmap2, int x2, int y2\r\n    ) {\r\n        Rect bounds1 = new Rect(\r\n            x1, y1, x1 + bitmap1.getWidth(), y1 + bitmap1.getHeight()\r\n        );\r\n        Rect bounds2 = new Rect(\r\n            x2, y2, x2 + bitmap2.getWidth(), y2 + bitmap2.getHeight()\r\n        );\r\n\r\n        if (Rect.intersects(bounds1, bounds2)) {\r\n            Rect collisionBounds = getCollisionBounds(bounds1, bounds2);\r\n            for (int i = collisionBounds.left; i &lt; collisionBounds.right; i++) {\r\n                for (int j = collisionBounds.top; j &lt; collisionBounds.bottom; j++) {\r\n                \tbyte bitmap1Pixel = pixels1[((j - y1) * width1) + (i - x1)];\r\n                    byte bitmap2Pixel = pixels2[((j - y2) * width2) + (i - x2)];\r\n                    if (isFilled(bitmap1Pixel) &amp;&amp; isFilled(bitmap2Pixel)) {\r\n                        return true;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n  [1]: https://developer.android.com/reference/android/graphics/Bitmap?hl=en#getPixel(int,%20int)\r\n  [2]: https://stackoverflow.com/questions/9247369/alpha-8-bitmaps-and-getpixel\r\n","title":"Pixel perfect collision with Bitmap.Config.ALPHA_8","body":"<p>Calling <a href=\"https://developer.android.com/reference/android/graphics/Bitmap?hl=en#getPixel(int,%20int)\" rel=\"nofollow noreferrer\"><code>getPixel()</code></a> on a Bitmap with <code>ALPHA_8</code> configuration will always return zero. This seems to be <a href=\"https://stackoverflow.com/questions/9247369/alpha-8-bitmaps-and-getpixel\">a bug</a>.</p>\n<p>You can work around this problem by storing the pixels of each Bitmap as a byte array:</p>\n<pre><code>byte[] pixelData = getPixels(convert(bitmap, Bitmap.Config.ALPHA_8));\n\n...\n\npublic byte[] getPixels(Bitmap bmp) {\n    int bytes = bmp.getRowBytes() * bmp.getHeight();\n    ByteBuffer buffer = ByteBuffer.allocate(bytes);\n    bmp.copyPixelsToBuffer(buffer);\n    return buffer.array();\n}\n</code></pre>\n<p>You will need to modify your collision detection function a little:</p>\n<pre><code>public boolean isCollisionDetected(\n    byte[] pixels1, Bitmap bitmap1, int x1, int y1,\n    byte[] pixels2, Bitmap bitmap2, int x2, int y2\n) {\n    Rect bounds1 = new Rect(\n        x1, y1, x1 + bitmap1.getWidth(), y1 + bitmap1.getHeight()\n    );\n    Rect bounds2 = new Rect(\n        x2, y2, x2 + bitmap2.getWidth(), y2 + bitmap2.getHeight()\n    );\n\n    if (Rect.intersects(bounds1, bounds2)) {\n        Rect collisionBounds = getCollisionBounds(bounds1, bounds2);\n        for (int i = collisionBounds.left; i &lt; collisionBounds.right; i++) {\n            for (int j = collisionBounds.top; j &lt; collisionBounds.bottom; j++) {\n                byte bitmap1Pixel = pixels1[((j - y1) * width1) + (i - x1)];\n                byte bitmap2Pixel = pixels2[((j - y2) * width2) + (i - x2)];\n                if (isFilled(bitmap1Pixel) &amp;&amp; isFilled(bitmap2Pixel)) {\n                    return true;\n                }\n            }\n        }\n    }\n    return false;\n}\n</code></pre>\n"}],"owner":{"account_id":5006681,"reputation":604,"user_id":4024143,"accept_rate":70,"display_name":"SpoocyCrep"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":400,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":29061657,"answer_count":2,"score":6,"last_activity_date":1645590519,"creation_date":1426169463,"question_id":29012066,"body_markdown":"I&#39;ve found this code of pixel perfect collision checking and used it in my code: \r\n\r\n    public boolean isCollisionDetected(\r\n        Bitmap bitmap1, int x1, int y1,\r\n        Bitmap bitmap2, int x2, int y2\r\n    ) {\r\n\t\tRect bounds1 = new Rect(\r\n            x1, y1, x1 + bitmap1.getWidth(), y1 + bitmap1.getHeight()\r\n        );\r\n\t\tRect bounds2 = new Rect(\r\n            x2, y2, x2 + bitmap2.getWidth(), y2 + bitmap2.getHeight()\r\n        );\r\n\r\n\t\tif (Rect.intersects(bounds1, bounds2)) {\r\n\t\t\tRect collisionBounds = getCollisionBounds(bounds1, bounds2);\r\n\t\t\tfor (int i = collisionBounds.left; i &lt; collisionBounds.right; i++) {\r\n\t\t\t\tfor (int j = collisionBounds.top; j &lt; collisionBounds.bottom; j++) {\r\n\t\t\t\t\tint bitmap1Pixel = bitmap1.getPixel(i - x1, j - y1);\r\n\t\t\t\t\tint bitmap2Pixel = bitmap2.getPixel(i - x2, j - y2);\r\n\t\t\t\t\tif (isFilled(bitmap1Pixel) &amp;&amp; isFilled(bitmap2Pixel)) {\r\n\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\r\n\tprivate Rect getCollisionBounds(Rect rect1, Rect rect2) {\r\n\t\tint left = (int) Math.max(rect1.left, rect2.left);\r\n\t\tint top = (int) Math.max(rect1.top, rect2.top);\r\n\t\tint right = (int) Math.min(rect1.right, rect2.right);\r\n\t\tint bottom = (int) Math.min(rect1.bottom, rect2.bottom);\r\n\t\treturn new Rect(left, top, right, bottom);\r\n\t}\r\n\r\n\tprivate boolean isFilled(int pixel) {\r\n\t\treturn pixel != Color.TRANSPARENT;\r\n\t}\r\n\r\nAnd it worked perfectly, no problems what so ever. That until I set the images into [`Bitmap.Config.ALPHA_8`][1] using this code (because of RAM problems):\r\n\r\n    private Bitmap convert(Bitmap bitmap, Bitmap.Config config) {\r\n\t    Bitmap convertedBitmap = \r\n            Bitmap.createBitmap(bitmap.getWidth(), bitmap.getHeight(), config);\r\n\t    Canvas canvas = new Canvas(convertedBitmap);\r\n\t    Paint paint = new Paint();\r\n\t    paint.setColor(Color.BLACK);\r\n\t    canvas.drawBitmap(bitmap, 0, 0, paint);\r\n\t    return convertedBitmap;\r\n\t}\r\n\r\nWhy Nothing won&#39;t happen, it does go inside `isCollisionDetected`, I&#39;ve checked with logs! But it won&#39;t detect collision... Can anyone provide working function for checking pixel perfect collision of Bitmap with `Bitmap.Config.ALPHA_8`? \r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/graphics/Bitmap.Config#ALPHA_8","title":"Pixel perfect collision with Bitmap.Config.ALPHA_8","body":"<p>I've found this code of pixel perfect collision checking and used it in my code:</p>\n<pre><code>public boolean isCollisionDetected(\n    Bitmap bitmap1, int x1, int y1,\n    Bitmap bitmap2, int x2, int y2\n) {\n    Rect bounds1 = new Rect(\n        x1, y1, x1 + bitmap1.getWidth(), y1 + bitmap1.getHeight()\n    );\n    Rect bounds2 = new Rect(\n        x2, y2, x2 + bitmap2.getWidth(), y2 + bitmap2.getHeight()\n    );\n\n    if (Rect.intersects(bounds1, bounds2)) {\n        Rect collisionBounds = getCollisionBounds(bounds1, bounds2);\n        for (int i = collisionBounds.left; i &lt; collisionBounds.right; i++) {\n            for (int j = collisionBounds.top; j &lt; collisionBounds.bottom; j++) {\n                int bitmap1Pixel = bitmap1.getPixel(i - x1, j - y1);\n                int bitmap2Pixel = bitmap2.getPixel(i - x2, j - y2);\n                if (isFilled(bitmap1Pixel) &amp;&amp; isFilled(bitmap2Pixel)) {\n                    return true;\n                }\n            }\n        }\n    }\n    return false;\n}\n\nprivate Rect getCollisionBounds(Rect rect1, Rect rect2) {\n    int left = (int) Math.max(rect1.left, rect2.left);\n    int top = (int) Math.max(rect1.top, rect2.top);\n    int right = (int) Math.min(rect1.right, rect2.right);\n    int bottom = (int) Math.min(rect1.bottom, rect2.bottom);\n    return new Rect(left, top, right, bottom);\n}\n\nprivate boolean isFilled(int pixel) {\n    return pixel != Color.TRANSPARENT;\n}\n</code></pre>\n<p>And it worked perfectly, no problems what so ever. That until I set the images into <a href=\"https://developer.android.com/reference/android/graphics/Bitmap.Config#ALPHA_8\" rel=\"nofollow noreferrer\"><code>Bitmap.Config.ALPHA_8</code></a> using this code (because of RAM problems):</p>\n<pre><code>private Bitmap convert(Bitmap bitmap, Bitmap.Config config) {\n    Bitmap convertedBitmap = \n        Bitmap.createBitmap(bitmap.getWidth(), bitmap.getHeight(), config);\n    Canvas canvas = new Canvas(convertedBitmap);\n    Paint paint = new Paint();\n    paint.setColor(Color.BLACK);\n    canvas.drawBitmap(bitmap, 0, 0, paint);\n    return convertedBitmap;\n}\n</code></pre>\n<p>Why Nothing won't happen, it does go inside <code>isCollisionDetected</code>, I've checked with logs! But it won't detect collision... Can anyone provide working function for checking pixel perfect collision of Bitmap with <code>Bitmap.Config.ALPHA_8</code>?</p>\n"},{"tags":["java","intellij-idea","weblogic","remote-debugging"],"comments":[{"owner":{"account_id":3047096,"reputation":1339,"user_id":2582437,"accept_rate":100,"display_name":"Kasper Ziemianek"},"score":0,"creation_date":1404380292,"post_id":24550026,"comment_id":38020879,"body_markdown":"I&#39;m facing weird debbuger issues when there is a mismatch between source code and deployed code. Are you sure that actual version is deployed ?","body":"I&#39;m facing weird debbuger issues when there is a mismatch between source code and deployed code. Are you sure that actual version is deployed ?"},{"owner":{"account_id":141151,"reputation":36461,"user_id":347964,"accept_rate":79,"display_name":"flyx"},"score":0,"creation_date":1404380370,"post_id":24550026,"comment_id":38020929,"body_markdown":"Yes, I deploy it directly in IntelliJ with an Ant task, it&#39;s guaranteed to match the version installed on the application server.","body":"Yes, I deploy it directly in IntelliJ with an Ant task, it&#39;s guaranteed to match the version installed on the application server."},{"owner":{"account_id":2339925,"reputation":15581,"user_id":2051454,"accept_rate":60,"display_name":"Software Engineer"},"score":0,"creation_date":1404400126,"post_id":24550026,"comment_id":38034279,"body_markdown":"Once you think the app has reached the breakpoint, hit the &#39;pause&#39; button in the debugger and see what happens.","body":"Once you think the app has reached the breakpoint, hit the &#39;pause&#39; button in the debugger and see what happens."}],"answers":[{"tags":[],"owner":{"account_id":141151,"reputation":36461,"user_id":347964,"accept_rate":79,"display_name":"flyx"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1404472586,"creation_date":1404472586,"answer_id":24573091,"question_id":24550026,"body_markdown":"Okay, solved it: I had a method breakpoint active. Apparently that slowed the whole debugging process down so much that I couldn&#39;t interact with the debugger. Once I removed the breakpoint, debugging worked again.","title":"IntelliJ debugger: Connects but doesn&#39;t notice when code runs into breakpoints","body":"<p>Okay, solved it: I had a method breakpoint active. Apparently that slowed the whole debugging process down so much that I couldn't interact with the debugger. Once I removed the breakpoint, debugging worked again.</p>\n"},{"tags":[],"owner":{"account_id":1589823,"reputation":1136,"user_id":1473410,"display_name":"Uresh K"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1467382740,"creation_date":1467382740,"answer_id":38147760,"question_id":24550026,"body_markdown":"I had a similar problem but with a slight variation. I can mark and remove the breakpoints, the debugger was connected, shows all the threads of the JVM but the execution does not stop for any breakpoint. \r\n\r\nAlso it shows the old breakpoints as valid even after the code has been changed. It so happened, that even after un-deploying the war file, the break points are still shown as valid breakpoints. That was weird!!\r\n\r\nJust as a note, I was using CE as below:&lt;br&gt;\r\nIntelliJ IDEA 2016.1.3 &lt;br&gt;\r\nBuild #IC-145.1617, built on June 3, 2016&lt;br&gt;\r\nJRE: 1.8.0_65-b17 amd64&lt;br&gt;\r\nJVM: Java HotSpot(TM) 64-Bit Server VM by Oracle Corporation&lt;br&gt;\r\n\r\nI tried different things:\r\n\r\n 1. Invalidate Cache. \r\n 2. Invalidate Cache and Restart\r\n 3. Re-package the war and re-deployed it\r\n\r\nNone of the above worked.\r\n\r\nAfter this, I tried deleting the .idea folder and recreated the project. This time it is created the .idea folder again with the configuration afresh.\r\n\r\nThe breakpoints now worked.\r\n\r\nI posted so that it would help others who would have the same case as mine.","title":"IntelliJ debugger: Connects but doesn&#39;t notice when code runs into breakpoints","body":"<p>I had a similar problem but with a slight variation. I can mark and remove the breakpoints, the debugger was connected, shows all the threads of the JVM but the execution does not stop for any breakpoint. </p>\n\n<p>Also it shows the old breakpoints as valid even after the code has been changed. It so happened, that even after un-deploying the war file, the break points are still shown as valid breakpoints. That was weird!!</p>\n\n<p>Just as a note, I was using CE as below:<br>\nIntelliJ IDEA 2016.1.3 <br>\nBuild #IC-145.1617, built on June 3, 2016<br>\nJRE: 1.8.0_65-b17 amd64<br>\nJVM: Java HotSpot(TM) 64-Bit Server VM by Oracle Corporation<br></p>\n\n<p>I tried different things:</p>\n\n<ol>\n<li>Invalidate Cache. </li>\n<li>Invalidate Cache and Restart</li>\n<li>Re-package the war and re-deployed it</li>\n</ol>\n\n<p>None of the above worked.</p>\n\n<p>After this, I tried deleting the .idea folder and recreated the project. This time it is created the .idea folder again with the configuration afresh.</p>\n\n<p>The breakpoints now worked.</p>\n\n<p>I posted so that it would help others who would have the same case as mine.</p>\n"},{"tags":[],"owner":{"account_id":258022,"reputation":1701,"user_id":539923,"display_name":"Ulas Keles"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1478977076,"creation_date":1478977076,"answer_id":40566510,"question_id":24550026,"body_markdown":"I had the same problem where my app didn&#39;t stop at breakpoints and all I had to was restart IntelliJ Idea. And voila, now it does stop at breakpoints.\r\n\r\nMy application was running and on console, it printed:\r\n\r\n    Listening for transport dt_socket at address: 5005\r\n\r\nThen, when I ran my IntelliJ debugger, it printed:\r\n\r\n    Connected to the target VM, address: &#39;192.168.2.9:5005&#39;, transport: &#39;socket&#39;\r\n\r\nWhich is still the same after restart, but somehow restart makes it right for IntelliJ.","title":"IntelliJ debugger: Connects but doesn&#39;t notice when code runs into breakpoints","body":"<p>I had the same problem where my app didn't stop at breakpoints and all I had to was restart IntelliJ Idea. And voila, now it does stop at breakpoints.</p>\n\n<p>My application was running and on console, it printed:</p>\n\n<pre><code>Listening for transport dt_socket at address: 5005\n</code></pre>\n\n<p>Then, when I ran my IntelliJ debugger, it printed:</p>\n\n<pre><code>Connected to the target VM, address: '192.168.2.9:5005', transport: 'socket'\n</code></pre>\n\n<p>Which is still the same after restart, but somehow restart makes it right for IntelliJ.</p>\n"},{"tags":[],"owner":{"account_id":463429,"reputation":6493,"user_id":866333,"accept_rate":88,"display_name":"John"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1527715011,"creation_date":1527715011,"answer_id":50613459,"question_id":24550026,"body_markdown":"Happened to me after I yanked out one of my debug phones (being Android I need many phones to debug) and quickly whipped in another.\r\n\r\nIt&#39;s happened before, and I usually either,\r\n\r\na) use Linux instead\r\n\r\nb) save for a bigger brand/better driver phone\r\n\r\nc) `adb kill-server` / `adb start-server`\r\n\r\nThese have some measure of success and are preferable for me to recreating my project. What I understand from Android support is I should be using a Nexus with Linux for any kind of support, which is pretty much obviating any cross compilation / debugging I would like to benefit from.\r\n\r\nEven the phone I yanked is now (24 hours later) refusing to honour breakpoints.","title":"IntelliJ debugger: Connects but doesn&#39;t notice when code runs into breakpoints","body":"<p>Happened to me after I yanked out one of my debug phones (being Android I need many phones to debug) and quickly whipped in another.</p>\n\n<p>It's happened before, and I usually either,</p>\n\n<p>a) use Linux instead</p>\n\n<p>b) save for a bigger brand/better driver phone</p>\n\n<p>c) <code>adb kill-server</code> / <code>adb start-server</code></p>\n\n<p>These have some measure of success and are preferable for me to recreating my project. What I understand from Android support is I should be using a Nexus with Linux for any kind of support, which is pretty much obviating any cross compilation / debugging I would like to benefit from.</p>\n\n<p>Even the phone I yanked is now (24 hours later) refusing to honour breakpoints.</p>\n"},{"tags":[],"owner":{"account_id":12381428,"reputation":809,"user_id":9026870,"display_name":"Oleh Tatsiun"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1566553333,"creation_date":1566550078,"answer_id":57622735,"question_id":24550026,"body_markdown":"I had actually the same problem using Remote debugger. \r\nI fixed it by clicking on &quot;pause&quot; button\r\n[Picture is here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/q52cM.png","title":"IntelliJ debugger: Connects but doesn&#39;t notice when code runs into breakpoints","body":"<p>I had actually the same problem using Remote debugger. \nI fixed it by clicking on \"pause\" button\n<a href=\"https://i.stack.imgur.com/q52cM.png\" rel=\"nofollow noreferrer\">Picture is here</a></p>\n"},{"tags":[],"owner":{"account_id":16081661,"reputation":643,"user_id":11607378,"display_name":"Litchy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645590074,"creation_date":1645589404,"answer_id":71231272,"question_id":24550026,"body_markdown":"I had the same issue with you and my Java host cmd is started from raw java command `java -cp ...`\r\n\r\nBut the solution is more weird for me... **I downloaded the maven sources and it works...**\r\n\r\nBefore downloading sources, I tried use pause in debugger(because it never stop so I want to check where it goes) and it is continuously stuck in one line of code in my dependency jar. After source is downloaded, it is not stuck and the breakpoints works.....\r\n\r\nHope this help for anyone.","title":"IntelliJ debugger: Connects but doesn&#39;t notice when code runs into breakpoints","body":"<p>I had the same issue with you and my Java host cmd is started from raw java command <code>java -cp ...</code></p>\n<p>But the solution is more weird for me... <strong>I downloaded the maven sources and it works...</strong></p>\n<p>Before downloading sources, I tried use pause in debugger(because it never stop so I want to check where it goes) and it is continuously stuck in one line of code in my dependency jar. After source is downloaded, it is not stuck and the breakpoints works.....</p>\n<p>Hope this help for anyone.</p>\n"}],"owner":{"account_id":141151,"reputation":36461,"user_id":347964,"accept_rate":79,"display_name":"flyx"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6845,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":24573091,"answer_count":6,"score":5,"last_activity_date":1645590074,"creation_date":1404379967,"question_id":24550026,"body_markdown":"I try to debug an application server (WebLogic) with IntelliJ IDEA 11.1 Ultimate. The debugger configuration worked previously, I didn&#39;t change anything.\r\n\r\nWhat happens is: IntelliJ tells me\r\n\r\n&gt; Connected to the target VM, address: &#39;[snip]:9009&#39;, transport: &#39;socket&#39;\r\n\r\nI can add and remove breakspoints, and they are marked with a check mark, so setting them seems to work. By interacting with the web interface of my application, I try to hit the breakpoints I set. The breakpoint actually seem to stop the code from executing, but the IntelliJ debugger doesn&#39;t react. The web interface of my application doesn&#39;t respond until I disconnect the debugger, but IntelliJ just doesn&#39;t seem to notice that this happens at all. I cannot interact with the debugger. How can I figure out what goes wrong? Is there some debugging output of the IntelliJ debugger itself? Are there known solutions to this issue?","title":"IntelliJ debugger: Connects but doesn&#39;t notice when code runs into breakpoints","body":"<p>I try to debug an application server (WebLogic) with IntelliJ IDEA 11.1 Ultimate. The debugger configuration worked previously, I didn't change anything.</p>\n\n<p>What happens is: IntelliJ tells me</p>\n\n<blockquote>\n  <p>Connected to the target VM, address: '[snip]:9009', transport: 'socket'</p>\n</blockquote>\n\n<p>I can add and remove breakspoints, and they are marked with a check mark, so setting them seems to work. By interacting with the web interface of my application, I try to hit the breakpoints I set. The breakpoint actually seem to stop the code from executing, but the IntelliJ debugger doesn't react. The web interface of my application doesn't respond until I disconnect the debugger, but IntelliJ just doesn't seem to notice that this happens at all. I cannot interact with the debugger. How can I figure out what goes wrong? Is there some debugging output of the IntelliJ debugger itself? Are there known solutions to this issue?</p>\n"},{"tags":["java","spring-boot","spring-security","jwt","angular8"],"answers":[{"tags":[],"owner":{"account_id":9976714,"reputation":11,"user_id":7381056,"display_name":"Sami H"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645589557,"creation_date":1645589557,"answer_id":71231288,"question_id":71231141,"body_markdown":"Found the problem (FINALLY!): I had to add cors on HttpSecurity, and change CORS configuration. So I changed followings:\r\n\r\n1) Added .cors() at the beginning of the expression. See code below:\r\n\r\n        http.cors().and().csrf().disable().authorizeRequests()\r\n                .antMatchers(&quot;/user/create&quot;).permitAll()\r\n                .antMatchers(&quot;/user/confirm/**&quot;).permitAll()\r\n                .anyRequest().authenticated()\r\n                .and()\r\n                .addFilter(new JwtAuthenticationFilter(authenticationManager()))\r\n                .addFilter(new JwtAuthorizationFilter(authenticationManager()))\r\n                // this disables session creation on Spring Security\r\n                .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\r\n\r\n2) Changed corsConfiguration Bean as following: \r\n    \r\n            CorsConfiguration config = new CorsConfiguration().applyPermitDefaultValues();\r\n            config.setAllowCredentials(true);\r\n            config.setAllowedOriginPatterns(List.of(&quot;*&quot;));\r\n            source.registerCorsConfiguration(&quot;/**&quot;, config);\r\n    \r\n            return source;\r\n \r\n\r\n","title":"Java HttpParameters getInputStream method empty when sending the request from Angular, but works as expected when sending from Postman","body":"<p>Found the problem (FINALLY!): I had to add cors on HttpSecurity, and change CORS configuration. So I changed followings:</p>\n<ol>\n<li><p>Added .cors() at the beginning of the expression. See code below:</p>\n<pre><code> http.cors().and().csrf().disable().authorizeRequests()\n         .antMatchers(&quot;/user/create&quot;).permitAll()\n         .antMatchers(&quot;/user/confirm/**&quot;).permitAll()\n         .anyRequest().authenticated()\n         .and()\n         .addFilter(new JwtAuthenticationFilter(authenticationManager()))\n         .addFilter(new JwtAuthorizationFilter(authenticationManager()))\n         // this disables session creation on Spring Security\n         .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\n</code></pre>\n</li>\n<li><p>Changed corsConfiguration Bean as following:</p>\n<pre><code>     CorsConfiguration config = new CorsConfiguration().applyPermitDefaultValues();\n     config.setAllowCredentials(true);\n     config.setAllowedOriginPatterns(List.of(&quot;*&quot;));\n     source.registerCorsConfiguration(&quot;/**&quot;, config);\n\n     return source;\n</code></pre>\n</li>\n</ol>\n"}],"owner":{"account_id":9976714,"reputation":11,"user_id":7381056,"display_name":"Sami H"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":213,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1645589817,"creation_date":1645587818,"question_id":71231141,"body_markdown":"My intention is to use JWT in order to generate auth token. Everything works as expected when I am sending email+password as json from postman, but when I am sending from Angular using HttpClient, I get the following exception:\r\n\r\n **Method threw &#39;com.fasterxml.jackson.databind.exc.MismatchedInputException&#39; exception. No content to map due to end-of-input**\r\n\r\nI also tried to replace line \r\n\r\n**creds = mapper.readValue(req.getInputStream(), UserBE.class);**\r\n\r\nwith: \r\n\r\n**String c = IOUtils.toString( req.getInputStream());**\r\n\r\nThis way I noticed that result is empty. (PLEASE SEE SCREENSHOTS)\r\n\r\n**JwtAuthenticationFilter class**:\r\n\r\nFAILING LINE: \r\n**creds = mapper.readValue(req.getInputStream(), UserBE.class);**\r\n\r\n        private AuthenticationManager authenticationManager;\r\n\r\n    public JwtAuthenticationFilter(AuthenticationManager authenticationManager) {\r\n        this.authenticationManager = authenticationManager;\r\n\r\n        setFilterProcessesUrl(&quot;/user/login&quot;);\r\n    }\r\n\r\n    @Override\r\n    public Authentication attemptAuthentication(HttpServletRequest req,\r\n                                                HttpServletResponse res) throws AuthenticationException {\r\n\r\n        ObjectMapper mapper = new ObjectMapper();\r\n        UserBE creds = null;\r\n        try {\r\n            creds = mapper.readValue(req.getInputStream(), UserBE.class); **THIS IS THE LINE WHERE CODE FAILS**\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        return authenticationManager.authenticate(\r\n                new UsernamePasswordAuthenticationToken(\r\n                        creds.getEmail(),\r\n                        creds.getPassword(),\r\n                        new ArrayList&lt;&gt;())\r\n        );\r\n    }\r\n\r\n    @Override\r\n    protected void successfulAuthentication(HttpServletRequest req,\r\n                                            HttpServletResponse res,\r\n                                            FilterChain chain,\r\n                                            Authentication auth) throws IOException {\r\n        String token = JWT.create()\r\n                .withSubject(((User) auth.getPrincipal()).getUsername())\r\n                .withExpiresAt(new Date(System.currentTimeMillis() + EXPIRATION_TIME))\r\n                .sign(Algorithm.HMAC512(SECRET.getBytes()));\r\n\r\n        String body = ((User) auth.getPrincipal()).getUsername() + &quot; &quot; + token;\r\n\r\n        res.getWriter().write(body);\r\n        res.getWriter().flush();\r\n    }\r\n}\r\n\r\n\r\n**WebSecurityConfig class:** \r\n\r\n    private final BCryptPasswordEncoder bCryptPasswordEncoder;\r\n\r\n    private final UserService userService;\r\n    \r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        http\r\n                .csrf().disable().authorizeRequests()\r\n                .antMatchers(&quot;/user/create&quot;).permitAll()\r\n                .antMatchers(&quot;/user/confirm/**&quot;).permitAll()\r\n                .anyRequest().authenticated()\r\n                .and()\r\n                .addFilter(new JwtAuthenticationFilter(authenticationManager()))\r\n                .addFilter(new JwtAuthorizationFilter(authenticationManager()))\r\n                // this disables session creation on Spring Security\r\n                .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\r\n    }\r\n\r\n    @Override\r\n    public void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n        auth.userDetailsService(userService).passwordEncoder(bCryptPasswordEncoder);\r\n    }\r\n\r\n    @Bean\r\n    CorsConfigurationSource corsConfigurationSource() {\r\n        final UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\r\n\r\n        CorsConfiguration config = new CorsConfiguration().applyPermitDefaultValues();\r\n        config.setAllowedOrigins(Collections.singletonList(&quot;*&quot;));\r\n        config.setAllowCredentials(true);\r\n        config.setAllowedOrigins(Collections.singletonList(&quot;*&quot;));\r\n        config.setAllowedMethods(Collections.singletonList(&quot;*&quot;));\r\n        config.setAllowedHeaders(Collections.singletonList(&quot;*&quot;));\r\n        source.registerCorsConfiguration(&quot;/**&quot;, config);\r\n\r\n        return source;\r\n    }\r\n}\r\n\r\n**ANGULAR HttpClient REQUEST:**\r\n\r\n      login(email: string, password: string): Observable&lt;any&gt; {\r\n    let options = {headers: new HttpHeaders().set(&#39;Content-Type&#39;, &#39;application/json&#39;)};\r\n    console.log({email, password});\r\n    return this.http.post&lt;any&gt;(this.baseUrl + &quot;/user/login&quot;, {email, password}, options);\r\n  }\r\n\r\nAGAIN, this is working as expected when sending from POSTMAN, but not from Angular. Any thoughts?\r\n\r\n**SCREENSHOTS:**\r\n\r\n[Exception MESSAGE + EXCEPTION LINE (BLUE HIGHLIGHTED LINE)][1]\r\n\r\n\r\nTried a [different way][2]. Just to to convert req.getInputStream to String and see what is receiving from Angular Request. Looks Like result is empty. Please also see next screenshot which is the Request from Postman (WHICH WORKES AS EXPECTED)\r\n\r\n[Showing and proving that request from POSTMAN has a result][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/1WKIE.png\r\n  [2]: https://i.stack.imgur.com/lYOiF.png\r\n  [3]: https://i.stack.imgur.com/iSBdN.png\r\n\r\n\r\nPlease note that I made researches and tried a lot of things I&#39;ve found. Nothing helped.","title":"Java HttpParameters getInputStream method empty when sending the request from Angular, but works as expected when sending from Postman","body":"<p>My intention is to use JWT in order to generate auth token. Everything works as expected when I am sending email+password as json from postman, but when I am sending from Angular using HttpClient, I get the following exception:</p>\n<p><strong>Method threw 'com.fasterxml.jackson.databind.exc.MismatchedInputException' exception. No content to map due to end-of-input</strong></p>\n<p>I also tried to replace line</p>\n<p><strong>creds = mapper.readValue(req.getInputStream(), UserBE.class);</strong></p>\n<p>with:</p>\n<p><strong>String c = IOUtils.toString( req.getInputStream());</strong></p>\n<p>This way I noticed that result is empty. (PLEASE SEE SCREENSHOTS)</p>\n<p><strong>JwtAuthenticationFilter class</strong>:</p>\n<p>FAILING LINE:\n<strong>creds = mapper.readValue(req.getInputStream(), UserBE.class);</strong></p>\n<pre><code>    private AuthenticationManager authenticationManager;\n\npublic JwtAuthenticationFilter(AuthenticationManager authenticationManager) {\n    this.authenticationManager = authenticationManager;\n\n    setFilterProcessesUrl(&quot;/user/login&quot;);\n}\n\n@Override\npublic Authentication attemptAuthentication(HttpServletRequest req,\n                                            HttpServletResponse res) throws AuthenticationException {\n\n    ObjectMapper mapper = new ObjectMapper();\n    UserBE creds = null;\n    try {\n        creds = mapper.readValue(req.getInputStream(), UserBE.class); **THIS IS THE LINE WHERE CODE FAILS**\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n\n    return authenticationManager.authenticate(\n            new UsernamePasswordAuthenticationToken(\n                    creds.getEmail(),\n                    creds.getPassword(),\n                    new ArrayList&lt;&gt;())\n    );\n}\n\n@Override\nprotected void successfulAuthentication(HttpServletRequest req,\n                                        HttpServletResponse res,\n                                        FilterChain chain,\n                                        Authentication auth) throws IOException {\n    String token = JWT.create()\n            .withSubject(((User) auth.getPrincipal()).getUsername())\n            .withExpiresAt(new Date(System.currentTimeMillis() + EXPIRATION_TIME))\n            .sign(Algorithm.HMAC512(SECRET.getBytes()));\n\n    String body = ((User) auth.getPrincipal()).getUsername() + &quot; &quot; + token;\n\n    res.getWriter().write(body);\n    res.getWriter().flush();\n}\n</code></pre>\n<p>}</p>\n<p><strong>WebSecurityConfig class:</strong></p>\n<pre><code>private final BCryptPasswordEncoder bCryptPasswordEncoder;\n\nprivate final UserService userService;\n\n@Override\nprotected void configure(HttpSecurity http) throws Exception {\n    http\n            .csrf().disable().authorizeRequests()\n            .antMatchers(&quot;/user/create&quot;).permitAll()\n            .antMatchers(&quot;/user/confirm/**&quot;).permitAll()\n            .anyRequest().authenticated()\n            .and()\n            .addFilter(new JwtAuthenticationFilter(authenticationManager()))\n            .addFilter(new JwtAuthorizationFilter(authenticationManager()))\n            // this disables session creation on Spring Security\n            .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\n}\n\n@Override\npublic void configure(AuthenticationManagerBuilder auth) throws Exception {\n    auth.userDetailsService(userService).passwordEncoder(bCryptPasswordEncoder);\n}\n\n@Bean\nCorsConfigurationSource corsConfigurationSource() {\n    final UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\n\n    CorsConfiguration config = new CorsConfiguration().applyPermitDefaultValues();\n    config.setAllowedOrigins(Collections.singletonList(&quot;*&quot;));\n    config.setAllowCredentials(true);\n    config.setAllowedOrigins(Collections.singletonList(&quot;*&quot;));\n    config.setAllowedMethods(Collections.singletonList(&quot;*&quot;));\n    config.setAllowedHeaders(Collections.singletonList(&quot;*&quot;));\n    source.registerCorsConfiguration(&quot;/**&quot;, config);\n\n    return source;\n}\n</code></pre>\n<p>}</p>\n<p><strong>ANGULAR HttpClient REQUEST:</strong></p>\n<pre><code>  login(email: string, password: string): Observable&lt;any&gt; {\nlet options = {headers: new HttpHeaders().set('Content-Type', 'application/json')};\nconsole.log({email, password});\nreturn this.http.post&lt;any&gt;(this.baseUrl + &quot;/user/login&quot;, {email, password}, options);\n</code></pre>\n<p>}</p>\n<p>AGAIN, this is working as expected when sending from POSTMAN, but not from Angular. Any thoughts?</p>\n<p><strong>SCREENSHOTS:</strong></p>\n<p><a href=\"https://i.stack.imgur.com/1WKIE.png\" rel=\"nofollow noreferrer\">Exception MESSAGE + EXCEPTION LINE (BLUE HIGHLIGHTED LINE)</a></p>\n<p>Tried a <a href=\"https://i.stack.imgur.com/lYOiF.png\" rel=\"nofollow noreferrer\">different way</a>. Just to to convert req.getInputStream to String and see what is receiving from Angular Request. Looks Like result is empty. Please also see next screenshot which is the Request from Postman (WHICH WORKES AS EXPECTED)</p>\n<p><a href=\"https://i.stack.imgur.com/iSBdN.png\" rel=\"nofollow noreferrer\">Showing and proving that request from POSTMAN has a result</a></p>\n<p>Please note that I made researches and tried a lot of things I've found. Nothing helped.</p>\n"},{"tags":["java","android","kotlin"],"comments":[{"owner":{"account_id":23242663,"reputation":399,"user_id":17331686,"display_name":"Niaj Mahmud"},"score":0,"creation_date":1645286672,"post_id":71186418,"comment_id":125832975,"body_markdown":"if you want to edit from any position better to use editText because text view is View of all  type text  .","body":"if you want to edit from any position better to use editText because text view is View of all  type text  ."}],"answers":[{"tags":[],"owner":{"account_id":22622433,"reputation":115,"user_id":16800976,"display_name":"J. M."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645589507,"creation_date":1645588876,"answer_id":71231226,"question_id":71186418,"body_markdown":"Yeah, you can use edit text or you can use an edit text in a dialog. Once you click on the texrview a dialog with edittext will show up so user can edit from there, than set the textview   from string of edittext. This would be programmatic with no xml edits.\r\n\r\n    dia.setMessage(&quot;yourmessage&quot;);\r\n    final EditText edittext1 = new \r\n    EditText(MainActivity.this); \r\n    LinearLayout.LayoutParams\r\n    Ipar = new \r\n    LinearLayout.LayoutParams\r\n    (LinearLayout.LayoutParams.WRAP_CONTENT, \r\n    LinearLayout.LayoutParams.WRAP_CONTENT); \r\n    edittext1.setLayoutParams(Ipar);\r\n    dia.setView(edittext1);\r\n    if (!textview1.equals(&quot;&quot;)) {\r\n\tedittext1.setText((textview1.getText()));\r\n    } dia.setPositiveButton(&quot;O&quot;, new \r\n    DialogInterface.OnClickListener() \r\n    {\r\n\t@Override\r\n\tpublic void onClick(DialogInterface _dialog, int _which) {\r\n\t\ttextview1.setText((edittext1.getText()));\r\n\t\t\r\n\t}\r\n    });\r\n    dia.setNegativeButton(&quot;X&quot;, new DialogInterface.OnClickListener() \r\n    {\r\n\t@Override\r\n\tpublic void onClick(DialogInterface _dialog, int _which) {\r\n\t\t\r\n\t}\r\n    });\r\n    dia.create().show();","title":"How can I change my textView more editable should I editText instead?","body":"<p>Yeah, you can use edit text or you can use an edit text in a dialog. Once you click on the texrview a dialog with edittext will show up so user can edit from there, than set the textview   from string of edittext. This would be programmatic with no xml edits.</p>\n<pre><code>dia.setMessage(&quot;yourmessage&quot;);\nfinal EditText edittext1 = new \nEditText(MainActivity.this); \nLinearLayout.LayoutParams\nIpar = new \nLinearLayout.LayoutParams\n(LinearLayout.LayoutParams.WRAP_CONTENT, \nLinearLayout.LayoutParams.WRAP_CONTENT); \nedittext1.setLayoutParams(Ipar);\ndia.setView(edittext1);\nif (!textview1.equals(&quot;&quot;)) {\nedittext1.setText((textview1.getText()));\n} dia.setPositiveButton(&quot;O&quot;, new \nDialogInterface.OnClickListener() \n{\n@Override\npublic void onClick(DialogInterface _dialog, int _which) {\n    textview1.setText((edittext1.getText()));\n    \n}\n});\ndia.setNegativeButton(&quot;X&quot;, new DialogInterface.OnClickListener() \n{\n@Override\npublic void onClick(DialogInterface _dialog, int _which) {\n    \n}\n});\ndia.create().show();\n</code></pre>\n"}],"owner":{"account_id":24143742,"reputation":1,"user_id":18109652,"display_name":"Vignesh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1645589507,"creation_date":1645284692,"question_id":71186418,"body_markdown":"As u can see in my calculator app it can add or delete text or number only at the end, since I&#39;m using textView. Is there an alternative where I can edit from any position that uses buttons I provided instead of the default.\r\n[enter image description here][1] \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/wnFYw.png","title":"How can I change my textView more editable should I editText instead?","body":"<p>As u can see in my calculator app it can add or delete text or number only at the end, since I'm using textView. Is there an alternative where I can edit from any position that uses buttons I provided instead of the default.\n<a href=\"https://i.stack.imgur.com/wnFYw.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","jpa"],"comments":[{"owner":{"account_id":1031543,"reputation":4922,"user_id":1039774,"accept_rate":25,"display_name":"Devabc"},"score":1,"creation_date":1606693650,"post_id":2002993,"comment_id":115031158,"body_markdown":"`getSingleResult()` forces you to use exception handling in absence of a value, even though the absence of a value is a common and natural situation. Best practices are that exceptions should only be used for exceptional situations, which the absence of a value is not. A lot of people don&#39;t like `getSingleResult()` for this reason. Even the authors of Hibernate, from which JPA was born, criticize `getSingleResult()`. If you also don&#39;t like it, please upvote: https://github.com/eclipse-ee4j/jpa-api/issues/298","body":"<code>getSingleResult()</code> forces you to use exception handling in absence of a value, even though the absence of a value is a common and natural situation. Best practices are that exceptions should only be used for exceptional situations, which the absence of a value is not. A lot of people don&#39;t like <code>getSingleResult()</code> for this reason. Even the authors of Hibernate, from which JPA was born, criticize <code>getSingleResult()</code>. If you also don&#39;t like it, please upvote: <a href=\"https://github.com/eclipse-ee4j/jpa-api/issues/298\" rel=\"nofollow noreferrer\">github.com/eclipse-ee4j/jpa-api/issues/298</a>"}],"answers":[{"tags":[],"owner":{"account_id":9867,"reputation":618181,"user_id":18393,"accept_rate":82,"display_name":"cletus"},"down_vote_count":1,"up_vote_count":297,"is_accepted":true,"score":296,"last_activity_date":1396400606,"creation_date":1262647152,"answer_id":2003015,"question_id":2002993,"body_markdown":"Throwing an exception is how [`getSingleResult()`][1] indicates it can&#39;t be found. Personally I can&#39;t stand this kind of API. It forces spurious exception handling for no real benefit. You just have to wrap the code in a try-catch block.\r\n\r\nAlternatively you can query for a list and see if its empty. That doesn&#39;t throw an exception. Actually since you&#39;re not doing a primary key lookup technically there could be multiple results (even if one, both or the combination of your foreign keys or constraints makes this impossible in practice) so this is probably the more appropriate solution.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javaee/7/api/javax/persistence/Query.html#getSingleResult%28%29","title":"JPA getSingleResult() or null","body":"<p>Throwing an exception is how <a href=\"http://docs.oracle.com/javaee/7/api/javax/persistence/Query.html#getSingleResult%28%29\" rel=\"noreferrer\"><code>getSingleResult()</code></a> indicates it can't be found. Personally I can't stand this kind of API. It forces spurious exception handling for no real benefit. You just have to wrap the code in a try-catch block.</p>\n\n<p>Alternatively you can query for a list and see if its empty. That doesn't throw an exception. Actually since you're not doing a primary key lookup technically there could be multiple results (even if one, both or the combination of your foreign keys or constraints makes this impossible in practice) so this is probably the more appropriate solution.</p>\n"},{"tags":[],"owner":{"account_id":57484,"reputation":66727,"user_id":172211,"accept_rate":89,"display_name":"Carl Smotricz"},"down_vote_count":2,"up_vote_count":6,"is_accepted":false,"score":4,"last_activity_date":1262647175,"creation_date":1262647175,"answer_id":2003019,"question_id":2002993,"body_markdown":"So don&#39;t do that!\r\n\r\nYou have two options:\r\n\r\n1. Run a selection to obtain the COUNT of your result set, and only pull in the data if this count is non-zero; or\r\n\r\n2. Use the other kind of query (that gets a result set) and check if it has 0 or more results. It should have 1, so pull that out of your result collection and you&#39;re done.\r\n\r\nI&#39;d go with the second suggestion, in agreement with Cletus. It gives better performance than (potentially) 2 queries. Also less work.","title":"JPA getSingleResult() or null","body":"<p>So don't do that!</p>\n\n<p>You have two options:</p>\n\n<ol>\n<li><p>Run a selection to obtain the COUNT of your result set, and only pull in the data if this count is non-zero; or</p></li>\n<li><p>Use the other kind of query (that gets a result set) and check if it has 0 or more results. It should have 1, so pull that out of your result collection and you're done.</p></li>\n</ol>\n\n<p>I'd go with the second suggestion, in agreement with Cletus. It gives better performance than (potentially) 2 queries. Also less work.</p>\n"},{"tags":[],"owner":{"account_id":1152,"reputation":5228,"user_id":1533,"accept_rate":76,"display_name":"Eugene Katz"},"down_vote_count":1,"up_vote_count":36,"is_accepted":false,"score":35,"last_activity_date":1274470430,"creation_date":1274470430,"answer_id":2885024,"question_id":2002993,"body_markdown":"I encapsulated the logic in the following helper method.\r\n\r\n    public class JpaResultHelper {\r\n        public static Object getSingleResultOrNull(Query query){\r\n            List results = query.getResultList();\r\n            if (results.isEmpty()) return null;\r\n            else if (results.size() == 1) return results.get(0);\r\n            throw new NonUniqueResultException();\r\n        }\r\n    }","title":"JPA getSingleResult() or null","body":"<p>I encapsulated the logic in the following helper method.</p>\n\n<pre><code>public class JpaResultHelper {\n    public static Object getSingleResultOrNull(Query query){\n        List results = query.getResultList();\n        if (results.isEmpty()) return null;\n        else if (results.size() == 1) return results.get(0);\n        throw new NonUniqueResultException();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":31324,"reputation":34658,"user_id":85931,"accept_rate":57,"display_name":"tpdi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1300345535,"creation_date":1300345535,"answer_id":5335909,"question_id":2002993,"body_markdown":"Here&#39;s the same logic as others suggested (get the resultList, return its only element or null), using Google Guava and a TypedQuery.\r\n\r\n    public static &lt;T&gt; getSingleResultOrNull(final TypedQuery&lt;T&gt; query) {\r\n        return Iterables.getOnlyElement(query.getResultList(), null); \r\n    }\r\n\r\nNote that Guava will return the unintuitive IllegalArgumentException if the result set has more than one result. (The exception makes sense to clients of getOnlyElement(), as it takes the result list as its argument, but is less understandable to clients of getSingleResultOrNull().)","title":"JPA getSingleResult() or null","body":"<p>Here's the same logic as others suggested (get the resultList, return its only element or null), using Google Guava and a TypedQuery.</p>\n\n<pre><code>public static &lt;T&gt; getSingleResultOrNull(final TypedQuery&lt;T&gt; query) {\n    return Iterables.getOnlyElement(query.getResultList(), null); \n}\n</code></pre>\n\n<p>Note that Guava will return the unintuitive IllegalArgumentException if the result set has more than one result. (The exception makes sense to clients of getOnlyElement(), as it takes the result list as its argument, but is less understandable to clients of getSingleResultOrNull().)</p>\n"},{"tags":[],"owner":{"account_id":767120,"reputation":249,"user_id":802234,"display_name":"Rodrigo IronMan"},"down_vote_count":1,"up_vote_count":25,"is_accepted":false,"score":24,"last_activity_date":1416952936,"creation_date":1308255296,"answer_id":6378045,"question_id":2002993,"body_markdown":"Here&#39;s a good option for doing this:\r\n\r\n    public static &lt;T&gt; T getSingleResult(TypedQuery&lt;T&gt; query) {\r\n\t\tquery.setMaxResults(1);\r\n\t\tList&lt;T&gt; list = query.getResultList();\r\n\t\tif (list == null || list.isEmpty()) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t\treturn list.get(0);\r\n\t}","title":"JPA getSingleResult() or null","body":"<p>Here's a good option for doing this:</p>\n\n<pre><code>public static &lt;T&gt; T getSingleResult(TypedQuery&lt;T&gt; query) {\n    query.setMaxResults(1);\n    List&lt;T&gt; list = query.getResultList();\n    if (list == null || list.isEmpty()) {\n        return null;\n    }\n\n    return list.get(0);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":67839,"reputation":3952,"user_id":198274,"accept_rate":65,"display_name":"aces."},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1341245767,"creation_date":1341245767,"answer_id":11297418,"question_id":2002993,"body_markdown":"There is an alternative which I would recommend: \r\n\r\n    Query query = em.createQuery(&quot;your query&quot;);\r\n    List&lt;Element&gt; elementList = query.getResultList();\r\n    return CollectionUtils.isEmpty(elementList ) ? null : elementList.get(0);\r\n\r\nThis safeguards against Null Pointer Exception, guarantees only 1 result is returned.","title":"JPA getSingleResult() or null","body":"<p>There is an alternative which I would recommend: </p>\n\n<pre><code>Query query = em.createQuery(\"your query\");\nList&lt;Element&gt; elementList = query.getResultList();\nreturn CollectionUtils.isEmpty(elementList ) ? null : elementList.get(0);\n</code></pre>\n\n<p>This safeguards against Null Pointer Exception, guarantees only 1 result is returned.</p>\n"},{"tags":[],"owner":{"account_id":17961,"reputation":4060,"user_id":40759,"accept_rate":77,"display_name":"Pete Montgomery"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1344334620,"creation_date":1344334620,"answer_id":11843786,"question_id":2002993,"body_markdown":"Here&#39;s another extension, this time in Scala.\r\n\r\n    customerQuery.getSingleOrNone match {\r\n      case Some(c) =&gt; // ...\r\n      case None    =&gt; // ...\r\n    }\r\n\r\nWith this pimp:\r\n\r\n\r\n    import javax.persistence.{NonUniqueResultException, TypedQuery}\r\n    import scala.collection.JavaConversions._\r\n\r\n    object Implicits {\r\n\r\n      class RichTypedQuery[T](q: TypedQuery[T]) {\r\n\r\n        def getSingleOrNone : Option[T] = {\r\n    \r\n          val results = q.setMaxResults(2).getResultList\r\n\r\n          if (results.isEmpty)\r\n            None\r\n          else if (results.size == 1)\r\n            Some(results.head)\r\n          else\r\n            throw new NonUniqueResultException()\r\n        }\r\n      }\r\n\r\n      implicit def query2RichQuery[T](q: TypedQuery[T]) = new RichTypedQuery[T](q)\r\n    }\r\n","title":"JPA getSingleResult() or null","body":"<p>Here's another extension, this time in Scala.</p>\n\n<pre><code>customerQuery.getSingleOrNone match {\n  case Some(c) =&gt; // ...\n  case None    =&gt; // ...\n}\n</code></pre>\n\n<p>With this pimp:</p>\n\n<pre><code>import javax.persistence.{NonUniqueResultException, TypedQuery}\nimport scala.collection.JavaConversions._\n\nobject Implicits {\n\n  class RichTypedQuery[T](q: TypedQuery[T]) {\n\n    def getSingleOrNone : Option[T] = {\n\n      val results = q.setMaxResults(2).getResultList\n\n      if (results.isEmpty)\n        None\n      else if (results.size == 1)\n        Some(results.head)\n      else\n        throw new NonUniqueResultException()\n    }\n  }\n\n  implicit def query2RichQuery[T](q: TypedQuery[T]) = new RichTypedQuery[T](q)\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1106279,"reputation":9834,"user_id":1097600,"accept_rate":80,"display_name":"Sorter"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1358010172,"creation_date":1358010172,"answer_id":14295627,"question_id":2002993,"body_markdown":"If you wish to use the try/catch mechanism to handle this problem.. then it can be used to act  like if/else. I used the try/catch to add a new record when I didn&#39;t find an existing one.\r\n\r\n    try {  //if part\r\n\r\n        record = query.getSingleResult();   \r\n        //use the record from the fetched result.\r\n    }\r\n    catch(NoResultException e){ //else part\r\n        //create a new record.\r\n        record = new Record();\r\n        //.........\r\n        entityManager.persist(record); \r\n    }\r\n\r\n    ","title":"JPA getSingleResult() or null","body":"<p>If you wish to use the try/catch mechanism to handle this problem.. then it can be used to act  like if/else. I used the try/catch to add a new record when I didn't find an existing one.</p>\n\n<pre><code>try {  //if part\n\n    record = query.getSingleResult();   \n    //use the record from the fetched result.\n}\ncatch(NoResultException e){ //else part\n    //create a new record.\n    record = new Record();\n    //.........\n    entityManager.persist(record); \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":243799,"reputation":9073,"user_id":516188,"accept_rate":94,"display_name":"Emmanuel Touzery"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1364388846,"creation_date":1364388846,"answer_id":15659324,"question_id":2002993,"body_markdown":"Here&#39;s a typed/generics version, based on Rodrigo IronMan&#39;s implementation:\r\n\r\n     public static &lt;T&gt; T getSingleResultOrNull(TypedQuery&lt;T&gt; query) {\r\n        query.setMaxResults(1);\r\n        List&lt;T&gt; list = query.getResultList();\r\n        if (list.isEmpty()) {\r\n            return null;\r\n        }\r\n        return list.get(0);\r\n    }","title":"JPA getSingleResult() or null","body":"<p>Here's a typed/generics version, based on Rodrigo IronMan's implementation:</p>\n\n<pre><code> public static &lt;T&gt; T getSingleResultOrNull(TypedQuery&lt;T&gt; query) {\n    query.setMaxResults(1);\n    List&lt;T&gt; list = query.getResultList();\n    if (list.isEmpty()) {\n        return null;\n    }\n    return list.get(0);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3128021,"reputation":19974,"user_id":2646526,"display_name":"heenenee"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1430213876,"creation_date":1406142352,"answer_id":24918858,"question_id":2002993,"body_markdown":"Spring has [a utility method][1] for this:\r\n\r\n    TypedQuery&lt;Profile&gt; query = em.createNamedQuery(namedQuery, Profile.class);\r\n    ...\r\n    return org.springframework.dao.support.DataAccessUtils.singleResult(query.getResultList());\r\n\r\n\r\n  [1]: http://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/dao/support/DataAccessUtils.html#singleResult-java.util.Collection-","title":"JPA getSingleResult() or null","body":"<p>Spring has <a href=\"http://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/dao/support/DataAccessUtils.html#singleResult-java.util.Collection-\">a utility method</a> for this:</p>\n\n<pre><code>TypedQuery&lt;Profile&gt; query = em.createNamedQuery(namedQuery, Profile.class);\n...\nreturn org.springframework.dao.support.DataAccessUtils.singleResult(query.getResultList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2427041,"reputation":820,"user_id":2118749,"accept_rate":58,"display_name":"tg44"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1446649308,"creation_date":1446649308,"answer_id":33525099,"question_id":2002993,"body_markdown":"So all of the &quot;try to rewrite without an exception&quot; solution in this page has a minor problem. Either its not throwing NonUnique exception, nor throw it in some wrong cases too (see below).\r\n\r\nI think the proper solution is (maybe) this:\r\n\r\n    public static &lt;L&gt; L getSingleResultOrNull(TypedQuery&lt;L&gt; query) {\r\n\t\tList&lt;L&gt; results = query.getResultList();\r\n\t\tL foundEntity = null;\r\n\t\tif(!results.isEmpty()) {\r\n\t\t\tfoundEntity = results.get(0);\r\n\t\t}\r\n\t\tif(results.size() &gt; 1) {\r\n\t\t\tfor(L result : results) {\r\n\t\t\t\tif(result != foundEntity) {\r\n\t\t\t\t\tthrow new NonUniqueResultException();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn foundEntity;\r\n\t}\r\n\r\nIts returning with null if there is 0 element in the list, returning nonunique if there are different elements in the list, but not returning nonunique when one of your select is not properly designed and returns the same object more then one times.\r\n\r\nFeel free to comment.","title":"JPA getSingleResult() or null","body":"<p>So all of the \"try to rewrite without an exception\" solution in this page has a minor problem. Either its not throwing NonUnique exception, nor throw it in some wrong cases too (see below).</p>\n\n<p>I think the proper solution is (maybe) this:</p>\n\n<pre><code>public static &lt;L&gt; L getSingleResultOrNull(TypedQuery&lt;L&gt; query) {\n    List&lt;L&gt; results = query.getResultList();\n    L foundEntity = null;\n    if(!results.isEmpty()) {\n        foundEntity = results.get(0);\n    }\n    if(results.size() &gt; 1) {\n        for(L result : results) {\n            if(result != foundEntity) {\n                throw new NonUniqueResultException();\n            }\n        }\n    }\n    return foundEntity;\n}\n</code></pre>\n\n<p>Its returning with null if there is 0 element in the list, returning nonunique if there are different elements in the list, but not returning nonunique when one of your select is not properly designed and returns the same object more then one times.</p>\n\n<p>Feel free to comment.</p>\n"},{"tags":[],"owner":{"account_id":24801,"reputation":15286,"user_id":63293,"accept_rate":50,"display_name":"Peter Walser"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1460102516,"creation_date":1460102516,"answer_id":36494500,"question_id":2002993,"body_markdown":"Combining the useful bits of the existing answers (limiting the number of results, checking that the result is unique) and using the estabilshed method name (Hibernate), we get:\r\n\r\n    /**\r\n     * Return a single instance that matches the query, or null if the query returns no results.\r\n     *\r\n     * @param query query (required)\r\n     * @param &lt;T&gt; result record type\r\n     * @return record or null\r\n     */\r\n    public static &lt;T&gt; T uniqueResult(@NotNull TypedQuery&lt;T&gt; query) {\r\n        List&lt;T&gt; results = query.setMaxResults(2).getResultList();\r\n        if (results.size() &gt; 1) throw new NonUniqueResultException();\r\n        return results.isEmpty() ? null : results.get(0);\r\n    }","title":"JPA getSingleResult() or null","body":"<p>Combining the useful bits of the existing answers (limiting the number of results, checking that the result is unique) and using the estabilshed method name (Hibernate), we get:</p>\n\n<pre><code>/**\n * Return a single instance that matches the query, or null if the query returns no results.\n *\n * @param query query (required)\n * @param &lt;T&gt; result record type\n * @return record or null\n */\npublic static &lt;T&gt; T uniqueResult(@NotNull TypedQuery&lt;T&gt; query) {\n    List&lt;T&gt; results = query.setMaxResults(2).getResultList();\n    if (results.size() &gt; 1) throw new NonUniqueResultException();\n    return results.isEmpty() ? null : results.get(0);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9944748,"reputation":549,"user_id":7359920,"display_name":"Impala67"},"down_vote_count":1,"up_vote_count":55,"is_accepted":false,"score":54,"last_activity_date":1483163706,"creation_date":1483163362,"answer_id":41405851,"question_id":2002993,"body_markdown":"Try this in Java 8:\r\n\r\n    Optional first = query.getResultList().stream().findFirst();\r\n","title":"JPA getSingleResult() or null","body":"<p>Try this in Java 8:</p>\n\n<pre><code>Optional first = query.getResultList().stream().findFirst();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6507955,"reputation":39,"user_id":5036255,"display_name":"at_sof"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1495098174,"creation_date":1495098174,"answer_id":44043243,"question_id":2002993,"body_markdown":"The undocumented method `uniqueResultOptional` in org.hibernate.query.Query should do the trick. Instead of having to catch a `NoResultException` you can just call `query.uniqueResultOptional().orElse(null)`.","title":"JPA getSingleResult() or null","body":"<p>The undocumented method <code>uniqueResultOptional</code> in org.hibernate.query.Query should do the trick. Instead of having to catch a <code>NoResultException</code> you can just call <code>query.uniqueResultOptional().orElse(null)</code>.</p>\n"},{"tags":[],"owner":{"account_id":8900304,"reputation":722,"user_id":6643968,"display_name":"Zhurov Konstantin"},"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1526562033,"creation_date":1505997143,"answer_id":46344029,"question_id":2002993,"body_markdown":"I&#39;ve done (in Java 8):\r\n\r\n    query.getResultList().stream().findFirst().orElse(null);","title":"JPA getSingleResult() or null","body":"<p>I've done (in Java 8):</p>\n\n<pre><code>query.getResultList().stream().findFirst().orElse(null);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12416313,"reputation":51,"user_id":9045623,"display_name":"Сергій Катрюк"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1516640343,"creation_date":1516631726,"answer_id":48383947,"question_id":2002993,"body_markdown":"I solved this by using `List&lt;?&gt; myList = query.getResultList();` and checking if `myList.size()` equals to zero.","title":"JPA getSingleResult() or null","body":"<p>I solved this by using <code>List&lt;?&gt; myList = query.getResultList();</code> and checking if <code>myList.size()</code> equals to zero.</p>\n"},{"tags":[],"owner":{"account_id":10496904,"reputation":939,"user_id":7736814,"display_name":"peterzinho16"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1547143475,"creation_date":1547143475,"answer_id":54134531,"question_id":2002993,"body_markdown":"Thats works to me:\r\n\r\n    Optional&lt;Object&gt; opt = Optional.ofNullable(nativeQuery.getSingleResult());\r\n    return opt.isPresent() ? opt.get() : null;\r\n\r\n","title":"JPA getSingleResult() or null","body":"<p>Thats works to me:</p>\n\n<pre><code>Optional&lt;Object&gt; opt = Optional.ofNullable(nativeQuery.getSingleResult());\nreturn opt.isPresent() ? opt.get() : null;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2319952,"reputation":405,"user_id":2035999,"display_name":"Leandro Ferreira"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1550291298,"creation_date":1550291298,"answer_id":54719888,"question_id":2002993,"body_markdown":"Look this code :\r\n\r\n```return query.getResultList().stream().findFirst().orElse(null);```\r\n\r\nWhen `findFirst()` is called maybe can be throwed a NullPointerException.\r\n\r\nthe best aproach is:\r\n\r\n```return query.getResultList().stream().filter(Objects::nonNull).findFirst().orElse(null);```\r\n\r\n","title":"JPA getSingleResult() or null","body":"<p>Look this code :</p>\n\n<p><code>return query.getResultList().stream().findFirst().orElse(null);</code></p>\n\n<p>When <code>findFirst()</code> is called maybe can be throwed a NullPointerException.</p>\n\n<p>the best aproach is:</p>\n\n<p><code>return query.getResultList().stream().filter(Objects::nonNull).findFirst().orElse(null);</code></p>\n"},{"tags":[],"owner":{"account_id":7015572,"reputation":518,"user_id":5377042,"display_name":"Uchephilz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1557697553,"creation_date":1557697553,"answer_id":56103729,"question_id":2002993,"body_markdown":"I achieved this by  getting a result list then checking if it is empty\r\n\r\n```\r\npublic boolean exist(String value) {\r\n        List&lt;Object&gt; options = getEntityManager().createNamedQuery(&quot;AppUsers.findByEmail&quot;).setParameter(&#39;email&#39;, value).getResultList();\r\n        return !options.isEmpty();\r\n    }\r\n```\r\n\r\nIt is so annoying that ```getSingleResult()``` throws exceptions\r\n\r\nThrows:\r\n\r\n 1. NoResultException - if there is no result\r\n 2. NonUniqueResultException - if more than one result\r\nand some other exception that you can get more info on from their documentation","title":"JPA getSingleResult() or null","body":"<p>I achieved this by  getting a result list then checking if it is empty</p>\n\n<pre><code>public boolean exist(String value) {\n        List&lt;Object&gt; options = getEntityManager().createNamedQuery(\"AppUsers.findByEmail\").setParameter('email', value).getResultList();\n        return !options.isEmpty();\n    }\n</code></pre>\n\n<p>It is so annoying that <code>getSingleResult()</code> throws exceptions</p>\n\n<p>Throws:</p>\n\n<ol>\n<li>NoResultException - if there is no result</li>\n<li>NonUniqueResultException - if more than one result\nand some other exception that you can get more info on from their documentation</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":2244860,"reputation":1237,"user_id":1978482,"accept_rate":64,"display_name":"Serafins"},"down_vote_count":2,"up_vote_count":24,"is_accepted":false,"score":22,"last_activity_date":1571643237,"creation_date":1563873348,"answer_id":57160714,"question_id":2002993,"body_markdown":"[From JPA 2.2][1], instead of `.getResultList()` and checking if list is empty or creating a stream you can return stream and take first element.\r\n\r\n    .getResultStream()\r\n    .findFirst()\r\n    .orElse(null);\r\n\r\n\r\n  [1]: https://thoughts-on-java.org/jpa-2-2s-new-stream-method-and-how-you-should-not-use-it/","title":"JPA getSingleResult() or null","body":"<p><a href=\"https://thoughts-on-java.org/jpa-2-2s-new-stream-method-and-how-you-should-not-use-it/\" rel=\"noreferrer\">From JPA 2.2</a>, instead of <code>.getResultList()</code> and checking if list is empty or creating a stream you can return stream and take first element.</p>\n\n<pre><code>.getResultStream()\n.findFirst()\n.orElse(null);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1042691,"reputation":536,"user_id":1048376,"display_name":"splashout"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1626818987,"creation_date":1626818987,"answer_id":68461899,"question_id":2002993,"body_markdown":"I prefer @Serafins answer if you can use the new JPA features, but this is one fairly straight forward way to do it which I&#39;m surprised hasn&#39;t been mentioned here before:\r\n\r\n    \ttry {\r\n\t\t\treturn (Profile) query.getSingleResult();\r\n\t\t} catch (NoResultException ignore) {\r\n\t\t\treturn null;\r\n\t\t}","title":"JPA getSingleResult() or null","body":"<p>I prefer @Serafins answer if you can use the new JPA features, but this is one fairly straight forward way to do it which I'm surprised hasn't been mentioned here before:</p>\n<pre><code>    try {\n        return (Profile) query.getSingleResult();\n    } catch (NoResultException ignore) {\n        return null;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16765782,"reputation":1,"user_id":12119483,"display_name":"Mohitkatta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645588728,"creation_date":1645588728,"answer_id":71231208,"question_id":2002993,"body_markdown":"\t\t\t\t`public Example validate(String param1) {\r\n\t\t\t\t\t// TODO Auto-generated method stub\r\n\r\n\t\t\t\t\tExample example = new Example();\r\n\t\t\t\t\t\r\n\t\t\t\t\tQuery query =null;\r\n\t\t\t\t\tObject[] myResult =null;\r\n\t\t\t\t\t\r\n\t\t\t\t\ttry {\r\n\r\n\t\t\t\t\t\t  query = sessionFactory.getCurrentSession()\r\n\t\t\t\t\t      .createQuery(&quot;select column from table where \r\n                          column=:p_param1&quot;);\r\n\t\t\t\t\t      query.setParameter(&quot;p_param1&quot;,param1);\r\n\t\t\t\t\t  }\r\n\t\t\t\t\t\r\n\t\t\t\t\t\t  \tmyResult = (Object[])query.getSingleResult();//As your problem occurs here where the query has no records it is throwing an exception\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t    String obj1 = (String) myResult[0];\r\n\t\t\t\t\t\t    String obj2 = (String) myResult[1];\r\n\t\t\t\t\t\t    \r\n\t\t\t\t\t\t    \r\n  example.setobj1(ISSUtil.convertNullToSpace(obj1))\r\n  example.setobj2(ISSUtil.convertNullToSpace(obj2));\r\n\t\t\t\t\t\t\r\n\t\t\t\t\treturn example;\r\n\t\t\t\t\t\r\n\t\t\t\t\t}catch(Exception e) {\r\n\t\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t\t\t  \r\n                     example.setobj1(ISSUtil.convertNullToSpace(&quot;&quot;));//setting \r\n                     objects to &quot;&quot; in exception block\r\n\t\t\t\t     example.setobj1(ISSUtil.convertNullToSpace(&quot;&quot;));\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn example;\r\n\t\t\t\t}`\r\n\r\n&gt; Answer : Obviously when there is no records getsingleresult will throw an exception i have handled it by setting the objects to &quot;&quot; in the exception block even though it enter the exception you JSON object will set to &quot;&quot;/empty \r\n&gt; Hope this is not a perfect answer but it might help \r\nIf some needs to modify my code more precisely and correct me always welcome.","title":"JPA getSingleResult() or null","body":"<pre><code>            `public Example validate(String param1) {\n                // TODO Auto-generated method stub\n\n                Example example = new Example();\n                \n                Query query =null;\n                Object[] myResult =null;\n                \n                try {\n\n                      query = sessionFactory.getCurrentSession()\n                      .createQuery(&quot;select column from table where \n                      column=:p_param1&quot;);\n                      query.setParameter(&quot;p_param1&quot;,param1);\n                  }\n                \n                        myResult = (Object[])query.getSingleResult();//As your problem occurs here where the query has no records it is throwing an exception\n                    \n                        String obj1 = (String) myResult[0];\n                        String obj2 = (String) myResult[1];\n                        \n                        \n</code></pre>\n<p>example.setobj1(ISSUtil.convertNullToSpace(obj1))\nexample.setobj2(ISSUtil.convertNullToSpace(obj2));</p>\n<pre><code>                return example;\n                \n                }catch(Exception e) {\n                    e.printStackTrace();\n                      \n                 example.setobj1(ISSUtil.convertNullToSpace(&quot;&quot;));//setting \n                 objects to &quot;&quot; in exception block\n                 example.setobj1(ISSUtil.convertNullToSpace(&quot;&quot;));\n                }\n                return example;\n            }`\n</code></pre>\n<blockquote>\n<p>Answer : Obviously when there is no records getsingleresult will throw an exception i have handled it by setting the objects to &quot;&quot; in the exception block even though it enter the exception you JSON object will set to &quot;&quot;/empty\nHope this is not a perfect answer but it might help\nIf some needs to modify my code more precisely and correct me always welcome.</p>\n</blockquote>\n"}],"owner":{"account_id":60559,"reputation":3053,"user_id":180824,"accept_rate":80,"display_name":"Eugene Ramirez"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":276119,"favorite_count":0,"down_vote_count":0,"up_vote_count":158,"accepted_answer_id":2003015,"answer_count":22,"score":158,"last_activity_date":1645588728,"creation_date":1262646924,"question_id":2002993,"body_markdown":"I have an `insertOrUpdate` method which inserts an `Entity` when it doesn&#39;t exist or update it if it does. To enable this, I have to `findByIdAndForeignKey`, if it returned `null` insert if not then update. The problem is how do I check if it exists? So I tried `getSingleResult`. But it throws an exception if the\r\n\r\n    public Profile findByUserNameAndPropertyName(String userName, String propertyName) {\r\n        String namedQuery = Profile.class.getSimpleName() + &quot;.findByUserNameAndPropertyName&quot;;\r\n        Query query = entityManager.createNamedQuery(namedQuery);\r\n        query.setParameter(&quot;name&quot;, userName);\r\n        query.setParameter(&quot;propName&quot;, propertyName);\r\n        Object result = query.getSingleResult();\r\n        if (result == null) return null;\r\n        return (Profile) result;\r\n    }\r\n\r\nbut `getSingleResult` throws an `Exception`. \r\n\r\nThanks\r\n\r\n","title":"JPA getSingleResult() or null","body":"<p>I have an <code>insertOrUpdate</code> method which inserts an <code>Entity</code> when it doesn't exist or update it if it does. To enable this, I have to <code>findByIdAndForeignKey</code>, if it returned <code>null</code> insert if not then update. The problem is how do I check if it exists? So I tried <code>getSingleResult</code>. But it throws an exception if the</p>\n\n<pre><code>public Profile findByUserNameAndPropertyName(String userName, String propertyName) {\n    String namedQuery = Profile.class.getSimpleName() + \".findByUserNameAndPropertyName\";\n    Query query = entityManager.createNamedQuery(namedQuery);\n    query.setParameter(\"name\", userName);\n    query.setParameter(\"propName\", propertyName);\n    Object result = query.getSingleResult();\n    if (result == null) return null;\n    return (Profile) result;\n}\n</code></pre>\n\n<p>but <code>getSingleResult</code> throws an <code>Exception</code>. </p>\n\n<p>Thanks</p>\n"},{"tags":["java","android","android-10.0","android-calendar"],"answers":[{"tags":[],"owner":{"account_id":1440678,"reputation":2393,"user_id":1360930,"accept_rate":79,"display_name":"qkx"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1645587750,"creation_date":1645424936,"answer_id":71202025,"question_id":70468897,"body_markdown":"This is not a problem with deleting events, it is problem with syncing. Sometimes in 2020/2021 Google added a &quot;feature&quot; (or a bug) in form of some kind of annoying cache.\r\n\r\nIn reality it means, from now on (unlike before) you simply never know if you have a fresh data or outdated data from their cache. The only way to somewhat force their cache to update regularly is to have constantly turned on auto-syncing of ALL CALENDARS, all the time.\r\n\r\nThis way changes take only seconds and Google Calendar cache is always being updated. If the auto-syncing of just 1 calendar is turned off, from unknown reasons cache is not updated on time and often it takes hours to reflect changes...\r\n\r\nSimilar problems can be find on these links:\r\n\r\nhttps://stackoverflow.com/questions/60082986/android-calendarcontract-instances-table-returns-old-values\r\n\r\nhttps://stackoverflow.com/questions/61012807/android-calendar-provider-does-not-return-latest-data/62573501#62573501\r\n\r\nOr even here on Google Support page:\r\n\r\nhttps://support.google.com/calendar/thread/47536340?hl=en\r\n\r\nI would love to know who in Google had this genius idea...Argh","title":"Android Calendar - Deleted Events Not Deleted or Even Flagged","body":"<p>This is not a problem with deleting events, it is problem with syncing. Sometimes in 2020/2021 Google added a &quot;feature&quot; (or a bug) in form of some kind of annoying cache.</p>\n<p>In reality it means, from now on (unlike before) you simply never know if you have a fresh data or outdated data from their cache. The only way to somewhat force their cache to update regularly is to have constantly turned on auto-syncing of ALL CALENDARS, all the time.</p>\n<p>This way changes take only seconds and Google Calendar cache is always being updated. If the auto-syncing of just 1 calendar is turned off, from unknown reasons cache is not updated on time and often it takes hours to reflect changes...</p>\n<p>Similar problems can be find on these links:</p>\n<p><a href=\"https://stackoverflow.com/questions/60082986/android-calendarcontract-instances-table-returns-old-values\">Android CalendarContract.Instances table returns old values</a></p>\n<p><a href=\"https://stackoverflow.com/questions/61012807/android-calendar-provider-does-not-return-latest-data/62573501#62573501\">Android Calendar Provider does not return latest data</a></p>\n<p>Or even here on Google Support page:</p>\n<p><a href=\"https://support.google.com/calendar/thread/47536340?hl=en\" rel=\"nofollow noreferrer\">https://support.google.com/calendar/thread/47536340?hl=en</a></p>\n<p>I would love to know who in Google had this genius idea...Argh</p>\n"}],"owner":{"account_id":21620846,"reputation":53,"user_id":15945874,"display_name":"Aaron Trudeau"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":184,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":71202025,"answer_count":1,"score":2,"last_activity_date":1645587750,"creation_date":1640310661,"question_id":70468897,"body_markdown":"So I encountered an issue on an Android 10 phone where deleted events are still present when I query the user&#39;s calendar. The problem persisted across several hours (3 at the time of writing this)\r\n\r\nI&#39;ve looked through the following posts already in an attempt to find solutions, but none of them seemed to have worked for me, and I&#39;m not sure if I&#39;m just implementing their solutions incorrectly, if something&#39;s wrong with the phone, or whatever else.\r\n\r\nHere&#39;s the posts I mentioned above:\r\n\r\nhttps://stackoverflow.com/questions/22554130/calendar-deleted-event-exists-in-cursor\r\n\r\nhttps://stackoverflow.com/questions/14970052/deleting-events-from-calendar-not-being-deleted\r\n\r\nhttps://stackoverflow.com/questions/16392410/android-calendarcontract-deleting-a-recurring-event-causes-all-events-to-disapp\r\n\r\nhttps://stackoverflow.com/questions/15520417/querying-android-calendar-retrieves-even-deleted-events\r\n\r\nI know that when a user deletes something off their calendar, there&#39;s a possibility of it hanging around in whatever DB or structure Android stores the events in with a `dirty` or `deleted` flag set. My problem is that the events are both still present, and have neither of the previously mentioned flags set. \r\n\r\nAdditionally, I know that it could be a sync issue between Google&#39;s calendar and whatever local datastore the events are being stored in, but this issue persisted on the phone I&#39;m testing on even after pulling in newly created events from the user&#39;s calendar, which makes it seem to me that the local datastore and the calendar *should* be in sync.\r\n\r\nHere&#39;s the full code for the file where this problem is occurring for me - some things may not be related to the issue but I&#39;m including everything just in case. \r\n\r\n```\r\npackage com.example.plumbingreportgenerator.util.calendar;\r\n\r\nimport android.content.ContentResolver;\r\nimport android.content.Context;\r\nimport android.database.Cursor;\r\nimport android.net.Uri;\r\nimport android.provider.CalendarContract;\r\nimport android.provider.CalendarContract.*;\r\nimport android.util.Log;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class EventReader {\r\n    // the context of the application this is being used in\r\n    private Context applicationContext;\r\n\r\n    public static final String[] EVENT_PROJECTION = new String[] {\r\n            Events.CALENDAR_ID, // 0\r\n            Events.TITLE, // 1\r\n            Events.DTSTART, // 2\r\n            Events.DELETED,\r\n            Events.DIRTY\r\n    };\r\n\r\n    // The indices for the projection array above.\r\n    private static final int PROJECTION_CALENDAR_ID_INDEX = 0;\r\n    private static final int PROJECTION_TITLE_INDEX = 1;\r\n    private static final int PROJECTION_DTSTART_INDEX = 2;\r\n    private static final int PROJECTION_DELETED_INDEX = 3;\r\n    private static final int PROJECTION_DIRTY_INDEX = 4;\r\n\r\n\r\n    public EventReader(Context context){\r\n        applicationContext = context;\r\n    }\r\n\r\n    // use android and java date libraries to determine the start of the month given by year and month\r\n    private static long getStartOfMonth(int year, int month){\r\n        java.util.Calendar cal = java.util.Calendar.getInstance();\r\n        cal.set(java.util.Calendar.YEAR, year);\r\n        cal.set(java.util.Calendar.MONTH, month);\r\n        cal.set(java.util.Calendar.DAY_OF_MONTH, 1);\r\n        cal.set(java.util.Calendar.HOUR_OF_DAY, 0);\r\n        cal.set(java.util.Calendar.MINUTE, 0);\r\n        cal.set(java.util.Calendar.SECOND, 0);\r\n        cal.set(java.util.Calendar.MILLISECOND, 0);\r\n\r\n        return cal.getTimeInMillis();\r\n    }\r\n\r\n    private static long getEndOfMonth(int year, int month){\r\n        java.util.Calendar cal = java.util.Calendar.getInstance();\r\n        cal.set(java.util.Calendar.YEAR, year);\r\n        cal.set(java.util.Calendar.MONTH, month);\r\n        cal.set(java.util.Calendar.DAY_OF_MONTH, cal.getActualMaximum(java.util.Calendar.DAY_OF_MONTH));\r\n        cal.set(java.util.Calendar.HOUR_OF_DAY, 23);\r\n        cal.set(java.util.Calendar.MINUTE, 59);\r\n        cal.set(java.util.Calendar.SECOND, 59);\r\n        cal.set(java.util.Calendar.MILLISECOND, 999);\r\n\r\n        return cal.getTimeInMillis();\r\n    }\r\n\r\n\r\n    // gets event titles for the given calendar from the given month\r\n    public ArrayList&lt;EventTitleDateTuple&gt; getEventDetailsForMonth(long calendarId, int year, int month){\r\n        // get the millisecond values for the start and end of the month given by year and month\r\n        long startOfMonth = getStartOfMonth(year, month);\r\n        long endOfMonth = getEndOfMonth(year, month);\r\n\r\n        // Create cursor and query for the events table\r\n        Cursor cur = null;\r\n        ContentResolver cr = applicationContext.getContentResolver();\r\n        Uri uri = Events.CONTENT_URI;\r\n        String selection = &quot;((&quot; + Events.CALENDAR_ID + &quot; = ?) AND (&quot; + Events.DELETED + &quot; != 1) AND (&quot; + Events.DIRTY  + &quot; != 1 ))&quot;;\r\n        String[] selectionArgs = new String[] {Long.toString(calendarId)};\r\n\r\n        // Submit the query and get a Cursor object back.\r\n        cur = cr.query(uri, EVENT_PROJECTION, selection, selectionArgs, null);\r\n\r\n        ArrayList&lt;EventTitleDateTuple&gt; eventDetails = new ArrayList&lt;EventTitleDateTuple&gt;();\r\n\r\n        while (cur.moveToNext()) {\r\n            long calID = 0;\r\n            String title = null;\r\n            long dtStart = 0;\r\n\r\n            // Get the field values\r\n            calID = cur.getLong(PROJECTION_CALENDAR_ID_INDEX);\r\n            title = cur.getString(PROJECTION_TITLE_INDEX);\r\n\r\n            int deleted = cur.getInt(PROJECTION_DELETED_INDEX);\r\n            int dirty = cur.getInt(PROJECTION_DIRTY_INDEX);\r\n\r\n            dtStart = cur.getLong(PROJECTION_DTSTART_INDEX);\r\n\r\n            // if the start date of the event is after this month and before the end of this month\r\n            if(dtStart &gt;= startOfMonth &amp;&amp; dtStart &lt;= endOfMonth &amp;&amp; title != null &amp;&amp; title.length() &gt; 0 &amp;&amp; deleted != 1 &amp;&amp; dirty != 1 &amp;&amp; !title.contains(&quot;testy mates face&quot;)){\r\n                // the deleted events still make it through to here\r\n\t\teventDetails.add(new EventTitleDateTuple(title, dtStart));\r\n            }\r\n        }\r\n\r\n        cur.close();\r\n\r\n        return eventDetails;\r\n    }\r\n}\r\n```","title":"Android Calendar - Deleted Events Not Deleted or Even Flagged","body":"<p>So I encountered an issue on an Android 10 phone where deleted events are still present when I query the user's calendar. The problem persisted across several hours (3 at the time of writing this)</p>\n<p>I've looked through the following posts already in an attempt to find solutions, but none of them seemed to have worked for me, and I'm not sure if I'm just implementing their solutions incorrectly, if something's wrong with the phone, or whatever else.</p>\n<p>Here's the posts I mentioned above:</p>\n<p><a href=\"https://stackoverflow.com/questions/22554130/calendar-deleted-event-exists-in-cursor\">Calendar deleted event exists in cursor</a></p>\n<p><a href=\"https://stackoverflow.com/questions/14970052/deleting-events-from-calendar-not-being-deleted\">Deleting events from Calendar not being deleted</a></p>\n<p><a href=\"https://stackoverflow.com/questions/16392410/android-calendarcontract-deleting-a-recurring-event-causes-all-events-to-disapp\">Android CalendarContract, deleting a recurring event causes all events to disappear on calendar?</a></p>\n<p><a href=\"https://stackoverflow.com/questions/15520417/querying-android-calendar-retrieves-even-deleted-events\">Querying android calendar retrieves even deleted events</a></p>\n<p>I know that when a user deletes something off their calendar, there's a possibility of it hanging around in whatever DB or structure Android stores the events in with a <code>dirty</code> or <code>deleted</code> flag set. My problem is that the events are both still present, and have neither of the previously mentioned flags set.</p>\n<p>Additionally, I know that it could be a sync issue between Google's calendar and whatever local datastore the events are being stored in, but this issue persisted on the phone I'm testing on even after pulling in newly created events from the user's calendar, which makes it seem to me that the local datastore and the calendar <em>should</em> be in sync.</p>\n<p>Here's the full code for the file where this problem is occurring for me - some things may not be related to the issue but I'm including everything just in case.</p>\n<pre><code>package com.example.plumbingreportgenerator.util.calendar;\n\nimport android.content.ContentResolver;\nimport android.content.Context;\nimport android.database.Cursor;\nimport android.net.Uri;\nimport android.provider.CalendarContract;\nimport android.provider.CalendarContract.*;\nimport android.util.Log;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class EventReader {\n    // the context of the application this is being used in\n    private Context applicationContext;\n\n    public static final String[] EVENT_PROJECTION = new String[] {\n            Events.CALENDAR_ID, // 0\n            Events.TITLE, // 1\n            Events.DTSTART, // 2\n            Events.DELETED,\n            Events.DIRTY\n    };\n\n    // The indices for the projection array above.\n    private static final int PROJECTION_CALENDAR_ID_INDEX = 0;\n    private static final int PROJECTION_TITLE_INDEX = 1;\n    private static final int PROJECTION_DTSTART_INDEX = 2;\n    private static final int PROJECTION_DELETED_INDEX = 3;\n    private static final int PROJECTION_DIRTY_INDEX = 4;\n\n\n    public EventReader(Context context){\n        applicationContext = context;\n    }\n\n    // use android and java date libraries to determine the start of the month given by year and month\n    private static long getStartOfMonth(int year, int month){\n        java.util.Calendar cal = java.util.Calendar.getInstance();\n        cal.set(java.util.Calendar.YEAR, year);\n        cal.set(java.util.Calendar.MONTH, month);\n        cal.set(java.util.Calendar.DAY_OF_MONTH, 1);\n        cal.set(java.util.Calendar.HOUR_OF_DAY, 0);\n        cal.set(java.util.Calendar.MINUTE, 0);\n        cal.set(java.util.Calendar.SECOND, 0);\n        cal.set(java.util.Calendar.MILLISECOND, 0);\n\n        return cal.getTimeInMillis();\n    }\n\n    private static long getEndOfMonth(int year, int month){\n        java.util.Calendar cal = java.util.Calendar.getInstance();\n        cal.set(java.util.Calendar.YEAR, year);\n        cal.set(java.util.Calendar.MONTH, month);\n        cal.set(java.util.Calendar.DAY_OF_MONTH, cal.getActualMaximum(java.util.Calendar.DAY_OF_MONTH));\n        cal.set(java.util.Calendar.HOUR_OF_DAY, 23);\n        cal.set(java.util.Calendar.MINUTE, 59);\n        cal.set(java.util.Calendar.SECOND, 59);\n        cal.set(java.util.Calendar.MILLISECOND, 999);\n\n        return cal.getTimeInMillis();\n    }\n\n\n    // gets event titles for the given calendar from the given month\n    public ArrayList&lt;EventTitleDateTuple&gt; getEventDetailsForMonth(long calendarId, int year, int month){\n        // get the millisecond values for the start and end of the month given by year and month\n        long startOfMonth = getStartOfMonth(year, month);\n        long endOfMonth = getEndOfMonth(year, month);\n\n        // Create cursor and query for the events table\n        Cursor cur = null;\n        ContentResolver cr = applicationContext.getContentResolver();\n        Uri uri = Events.CONTENT_URI;\n        String selection = &quot;((&quot; + Events.CALENDAR_ID + &quot; = ?) AND (&quot; + Events.DELETED + &quot; != 1) AND (&quot; + Events.DIRTY  + &quot; != 1 ))&quot;;\n        String[] selectionArgs = new String[] {Long.toString(calendarId)};\n\n        // Submit the query and get a Cursor object back.\n        cur = cr.query(uri, EVENT_PROJECTION, selection, selectionArgs, null);\n\n        ArrayList&lt;EventTitleDateTuple&gt; eventDetails = new ArrayList&lt;EventTitleDateTuple&gt;();\n\n        while (cur.moveToNext()) {\n            long calID = 0;\n            String title = null;\n            long dtStart = 0;\n\n            // Get the field values\n            calID = cur.getLong(PROJECTION_CALENDAR_ID_INDEX);\n            title = cur.getString(PROJECTION_TITLE_INDEX);\n\n            int deleted = cur.getInt(PROJECTION_DELETED_INDEX);\n            int dirty = cur.getInt(PROJECTION_DIRTY_INDEX);\n\n            dtStart = cur.getLong(PROJECTION_DTSTART_INDEX);\n\n            // if the start date of the event is after this month and before the end of this month\n            if(dtStart &gt;= startOfMonth &amp;&amp; dtStart &lt;= endOfMonth &amp;&amp; title != null &amp;&amp; title.length() &gt; 0 &amp;&amp; deleted != 1 &amp;&amp; dirty != 1 &amp;&amp; !title.contains(&quot;testy mates face&quot;)){\n                // the deleted events still make it through to here\n        eventDetails.add(new EventTitleDateTuple(title, dtStart));\n            }\n        }\n\n        cur.close();\n\n        return eventDetails;\n    }\n}\n</code></pre>\n"},{"tags":["java","eclipse","eclipse-plugin","launching-application"],"comments":[{"owner":{"account_id":3490045,"reputation":3759,"user_id":2919971,"accept_rate":100,"display_name":"MadConan"},"score":0,"creation_date":1383763136,"post_id":19820058,"comment_id":29469338,"body_markdown":"You can but I can&#39;t remember the steps so I&#39;m not going to make this an answer.  You have to open the launch (Run...) configurations and choose to export.","body":"You can but I can&#39;t remember the steps so I&#39;m not going to make this an answer.  You have to open the launch (Run...) configurations and choose to export."}],"answers":[{"tags":[],"owner":{"account_id":3045270,"reputation":3818,"user_id":2581128,"display_name":"lkamal"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1383849160,"creation_date":1383763416,"answer_id":19820169,"question_id":19820058,"body_markdown":"## Export ##\r\n\r\n`File -&gt; Export... -&gt; Run/Debug -&gt; &quot;Launch Configurations&quot;`\r\n\r\nThen select the configurations you need to export.\r\n\r\n## Import ##\r\n\r\n`File -&gt; Import... -&gt; Run/Debug -&gt; &quot;Launch Configurations&quot;`\r\n\r\nThen select the configurations into &quot;From Directory&quot;.\r\n\r\nExample [images are available here][1] along with a sample .launch file.\r\n\r\n\r\n  [1]: http://www.digizol.com/2013/11/eclipse-export-import-launch-configurations.html","title":"How can i import a Eclipse launch-group configuration into another workspace along with project","body":"<h2>Export</h2>\n\n<p><code>File -&gt; Export... -&gt; Run/Debug -&gt; \"Launch Configurations\"</code></p>\n\n<p>Then select the configurations you need to export.</p>\n\n<h2>Import</h2>\n\n<p><code>File -&gt; Import... -&gt; Run/Debug -&gt; \"Launch Configurations\"</code></p>\n\n<p>Then select the configurations into \"From Directory\".</p>\n\n<p>Example <a href=\"http://www.digizol.com/2013/11/eclipse-export-import-launch-configurations.html\" rel=\"noreferrer\">images are available here</a> along with a sample .launch file.</p>\n"},{"tags":[],"owner":{"account_id":252684,"reputation":2851,"user_id":530884,"display_name":"Shaybc"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645585680,"creation_date":1645585680,"answer_id":71230912,"question_id":19820058,"body_markdown":"I simply export all my `&quot;run/debug configurations&quot;` from the original project by:\r\n\r\n**copying the content of folder**:\r\n\r\n    $My-Workspace\\.metadata\\.plugins\\org.eclipse.debug.core\\.launches\r\n\r\n**into a folder in the destination project** (*folder location or name doesn&#39;t matter, just as long as it is in the imported project*)\r\n\r\nand when I open eclipse to my workspace and the project - it will show up automatically in `&quot;run/debug configurations&quot;` dialog (eclipse scan the projects for **.launch** files)\r\n\r\nalso after copying a **.launch** file into my project, i right click the root folder and choose refresh, wait for a minute and the configurations appear in the `&quot;run/debug configurations&quot;`\r\n","title":"How can i import a Eclipse launch-group configuration into another workspace along with project","body":"<p>I simply export all my <code>&quot;run/debug configurations&quot;</code> from the original project by:</p>\n<p><strong>copying the content of folder</strong>:</p>\n<pre><code>$My-Workspace\\.metadata\\.plugins\\org.eclipse.debug.core\\.launches\n</code></pre>\n<p><strong>into a folder in the destination project</strong> (<em>folder location or name doesn't matter, just as long as it is in the imported project</em>)</p>\n<p>and when I open eclipse to my workspace and the project - it will show up automatically in <code>&quot;run/debug configurations&quot;</code> dialog (eclipse scan the projects for <strong>.launch</strong> files)</p>\n<p>also after copying a <strong>.launch</strong> file into my project, i right click the root folder and choose refresh, wait for a minute and the configurations appear in the <code>&quot;run/debug configurations&quot;</code></p>\n"}],"owner":{"account_id":450010,"reputation":337,"user_id":845119,"accept_rate":83,"display_name":"abhi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8658,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":19820169,"answer_count":2,"score":4,"last_activity_date":1645585680,"creation_date":1383763038,"question_id":19820058,"body_markdown":"I have created a launch group configuration for launching a project in my current workspace. &lt;br&gt;\r\nCan i some how save the configuration along with the project so that it can be imported into another workspace ?&lt;br&gt;\r\nIf no how can i create a launch-group configuration using a custom eclipse plugin ? ","title":"How can i import a Eclipse launch-group configuration into another workspace along with project","body":"<p>I have created a launch group configuration for launching a project in my current workspace. <br>\nCan i some how save the configuration along with the project so that it can be imported into another workspace ?<br>\nIf no how can i create a launch-group configuration using a custom eclipse plugin ? </p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2667845,"reputation":10491,"user_id":2305826,"accept_rate":89,"display_name":"MarsAtomic"},"score":1,"creation_date":1645585403,"post_id":71230840,"comment_id":125908787,"body_markdown":"You need to re-read your assignment and think about it for a second. The instructions are very nearly the code you need, and in some sections, the final code has literally been handed to you. Read the assignment sentence by sentence. Do exactly what the sentence says.","body":"You need to re-read your assignment and think about it for a second. The instructions are very nearly the code you need, and in some sections, the final code has literally been handed to you. Read the assignment sentence by sentence. Do exactly what the sentence says."}],"answers":[{"tags":[],"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645585549,"creation_date":1645585549,"answer_id":71230896,"question_id":71230840,"body_markdown":"&gt; Declare and assign the variables to hold the home and destination coordinates\r\n\r\nSo yes, you do. The sentence starting &quot;You will need ...&quot; explains what you need for a single location.\r\n\r\nAs you are a beginner, just create variables for each of the attributes of each of the locations. You&#39;ll need to give them different names to distinguish home and destination.\r\n\r\nWhen you have more experience you will create a class in situations like this, which can hold all four attributes of a location. Then you would just declare two references to your `Location` class, and create two instances of the class.\r\n\r\nYou can edit your question to explain exactly what you are unsure about.","title":"How do I declare home and destination coordinate variables for my project?","body":"<blockquote>\n<p>Declare and assign the variables to hold the home and destination coordinates</p>\n</blockquote>\n<p>So yes, you do. The sentence starting &quot;You will need ...&quot; explains what you need for a single location.</p>\n<p>As you are a beginner, just create variables for each of the attributes of each of the locations. You'll need to give them different names to distinguish home and destination.</p>\n<p>When you have more experience you will create a class in situations like this, which can hold all four attributes of a location. Then you would just declare two references to your <code>Location</code> class, and create two instances of the class.</p>\n<p>You can edit your question to explain exactly what you are unsure about.</p>\n"}],"owner":{"account_id":24347985,"reputation":11,"user_id":18284245,"display_name":"afahey03"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":124,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1645585549,"creation_date":1645584998,"question_id":71230840,"body_markdown":"My instructions state:At the top of the file, write your program prologue.\r\nYour code will be your main() function, as we have done in class. Your code should be written with good style, including comments for variables and constants, proper indentation, and appropriate use of whitespace. main() should begin with the constant declaration for the Earth&#39;s radius in miles (3963.1676). Use the keyword final to ensure your other code can&#39;t accidentally change the value of this variable.\r\nDeclare and assign the variables to hold the home and destination coordinates. Convert the the home coordinates to variables of the appropriate types: You will need two double variables (one for latitude, one for longitude) and two char variables (one for the &#39;N&#39; or &#39;S&#39;, and one for the &#39;E&#39; or &#39;W&#39;, which appear after the numbers). For example, to convert the first argument, args[0], to a double variable latitude, use the statement:\r\nlatitude = Double.parseDouble(args[0]);\r\nSimilarly, to convert the second argument, args[1], to a char variable northSouth, use the statement,\r\nnorthSouth = args[1].charAt(0);\r\n\r\nI am confused on what to actually do here. Do I have to write longitude and latitude and north/south and east/west for both the home and destination? How would I do that?","title":"How do I declare home and destination coordinate variables for my project?","body":"<p>My instructions state:At the top of the file, write your program prologue.\nYour code will be your main() function, as we have done in class. Your code should be written with good style, including comments for variables and constants, proper indentation, and appropriate use of whitespace. main() should begin with the constant declaration for the Earth's radius in miles (3963.1676). Use the keyword final to ensure your other code can't accidentally change the value of this variable.\nDeclare and assign the variables to hold the home and destination coordinates. Convert the the home coordinates to variables of the appropriate types: You will need two double variables (one for latitude, one for longitude) and two char variables (one for the 'N' or 'S', and one for the 'E' or 'W', which appear after the numbers). For example, to convert the first argument, args[0], to a double variable latitude, use the statement:\nlatitude = Double.parseDouble(args[0]);\nSimilarly, to convert the second argument, args[1], to a char variable northSouth, use the statement,\nnorthSouth = args[1].charAt(0);</p>\n<p>I am confused on what to actually do here. Do I have to write longitude and latitude and north/south and east/west for both the home and destination? How would I do that?</p>\n"},{"tags":["java","arrays","if-statement","user-input"],"answers":[{"tags":[],"owner":{"account_id":2622304,"reputation":780,"user_id":2270081,"accept_rate":53,"display_name":"Gundamaiah"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1645584589,"creation_date":1645584589,"answer_id":71230807,"question_id":71230793,"body_markdown":"never use == to compare strings. Always use equals or equalsIgnoreCase methods. == will check both references pointing to the same object and equals will check the content of the strings.","title":"Why doesn&#39;t this If statement properly compare the stored variable with an element in an array?","body":"<p>never use == to compare strings. Always use equals or equalsIgnoreCase methods. == will check both references pointing to the same object and equals will check the content of the strings.</p>\n"},{"tags":[],"owner":{"account_id":11224986,"reputation":2603,"user_id":8234870,"display_name":"Udesh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645585150,"creation_date":1645584646,"answer_id":71230813,"question_id":71230793,"body_markdown":"Use [equals][1] or [compareTo][2] method to compare to two Strings instead of `==` which compares **reference**.\r\n\r\n    import java.util.*;\r\n    \r\n    public class Password{\r\n    \tpublic static void main(String[] args) {\r\n    \t\tString[] names={&quot;John&quot;,&quot;Mark&quot;,&quot;Suzy&quot;,&quot;Anthony&quot;};\r\n    \t\tString[] passwords={&quot;passw0rd&quot;,&quot;CandyC4ne&quot;,&quot;x5021&quot;,&quot;ADawg55&quot;};\r\n    \t\tSystem.out.println(&quot;Please indicate which user you would like to log in as:\\n(1)John\\n(2)Mark\\n(3)Suzy\\n(4)Anthony&quot;);\r\n    \t\tScanner x=new Scanner(System.in);\r\n    \t\tint y=x.nextInt()-1;\r\n    \t\tSystem.out.print(&quot;Please enter the password to log into &quot;+names[y]+&quot;&#39;s account: &quot;);\r\n    \t\tScanner a=new Scanner(System.in);\r\n    \t\tString newpass=a.nextLine();\r\n    \t\tSystem.out.println(passwords[y]);\r\n    \t\tif(passwords[y].equals(newpass)){\r\n    \t\t\tSystem.out.print(&quot;Hello &quot;+names[y]+&quot;!&quot;);\r\n    \t\t}else{\r\n    \t\t\tSystem.out.println(&quot;Incorrect Password. &quot;+passwords[y]+&quot; &quot;+newpass);\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nOutput:\r\n----------\r\n\r\n    $ javac Password.java &amp;&amp; java Password \r\n    Please indicate which user you would like to log in as:\r\n    (1)John\r\n    (2)Mark\r\n    (3)Suzy\r\n    (4)Anthony\r\n    1\r\n    Please enter the password to log into John&#39;s account: passw0rd\r\n    passw0rd\r\n    Hello John!\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/lang/String.html#equals(java.lang.Object)\r\n  [2]: https://docs.oracle.com/javase/7/docs/api/java/lang/String.html#compareTo(java.lang.String)","title":"Why doesn&#39;t this If statement properly compare the stored variable with an element in an array?","body":"<p>Use <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/String.html#equals(java.lang.Object)\" rel=\"nofollow noreferrer\">equals</a> or <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/String.html#compareTo(java.lang.String)\" rel=\"nofollow noreferrer\">compareTo</a> method to compare to two Strings instead of <code>==</code> which compares <strong>reference</strong>.</p>\n<pre><code>import java.util.*;\n\npublic class Password{\n    public static void main(String[] args) {\n        String[] names={&quot;John&quot;,&quot;Mark&quot;,&quot;Suzy&quot;,&quot;Anthony&quot;};\n        String[] passwords={&quot;passw0rd&quot;,&quot;CandyC4ne&quot;,&quot;x5021&quot;,&quot;ADawg55&quot;};\n        System.out.println(&quot;Please indicate which user you would like to log in as:\\n(1)John\\n(2)Mark\\n(3)Suzy\\n(4)Anthony&quot;);\n        Scanner x=new Scanner(System.in);\n        int y=x.nextInt()-1;\n        System.out.print(&quot;Please enter the password to log into &quot;+names[y]+&quot;'s account: &quot;);\n        Scanner a=new Scanner(System.in);\n        String newpass=a.nextLine();\n        System.out.println(passwords[y]);\n        if(passwords[y].equals(newpass)){\n            System.out.print(&quot;Hello &quot;+names[y]+&quot;!&quot;);\n        }else{\n            System.out.println(&quot;Incorrect Password. &quot;+passwords[y]+&quot; &quot;+newpass);\n        }\n    }\n}\n</code></pre>\n<h2>Output:</h2>\n<pre><code>$ javac Password.java &amp;&amp; java Password \nPlease indicate which user you would like to log in as:\n(1)John\n(2)Mark\n(3)Suzy\n(4)Anthony\n1\nPlease enter the password to log into John's account: passw0rd\npassw0rd\nHello John!\n</code></pre>\n"}],"owner":{"account_id":24347884,"reputation":1,"user_id":18284162,"display_name":"TheCodeDR"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1645586065,"accepted_answer_id":71230807,"answer_count":2,"score":-1,"last_activity_date":1645585150,"creation_date":1645584396,"question_id":71230793,"body_markdown":"So i&#39;m just doing some elementary testing while I learn java, and i&#39;m curious why this doesn&#39;t work:  \r\n\r\n    public static void main(String[] args) {\r\n            String[] names={&quot;John&quot;,&quot;Mark&quot;,&quot;Suzy&quot;,&quot;Anthony&quot;};\r\n            String[] passwords={&quot;passw0rd&quot;,&quot;CandyC4ne&quot;,&quot;x5021&quot;,&quot;ADawg55&quot;};\r\n            System.out.println(&quot;Please indicate which user you would like to log in as:\\n(1)John\\n(2)Mark\\n(3)Suzy\\n(4)Anthony&quot;);\r\n            Scanner x=new Scanner(System.in);\r\n            int y=x.nextInt()-1;\r\n            System.out.print(&quot;Please enter the password to log into &quot;+names[y]+&quot;&#39;s account: &quot;);\r\n            Scanner a=new Scanner(System.in);\r\n            String newpass=a.nextLine();\r\n            System.out.println(passwords[y]);\r\n            if(passwords[y]==newpass){\r\n                System.out.print(&quot;Hello &quot;+names[y]+&quot;!&quot;);\r\n            }else{\r\n                System.out.println(&quot;Incorrect Password. &quot;+passwords[y]+&quot; &quot;+newpass);\r\n            }\r\n        }\r\n\r\nBoth passwords[y] and newpass are the exact same string, and when I try:\r\n\r\n```if(passwords[y]==&quot;passw0rd&quot;);```\r\n\r\n(And obviously pick the &#39;John&#39;) it does work, so i&#39;m hoping someone can explain the difference and how to get around it so as to better accept user input.\r\n\r\nAlso i&#39;ll take a for loop as an answer, but i&#39;m hoping I can avoid it.","title":"Why doesn&#39;t this If statement properly compare the stored variable with an element in an array?","body":"<p>So i'm just doing some elementary testing while I learn java, and i'm curious why this doesn't work:</p>\n<pre><code>public static void main(String[] args) {\n        String[] names={&quot;John&quot;,&quot;Mark&quot;,&quot;Suzy&quot;,&quot;Anthony&quot;};\n        String[] passwords={&quot;passw0rd&quot;,&quot;CandyC4ne&quot;,&quot;x5021&quot;,&quot;ADawg55&quot;};\n        System.out.println(&quot;Please indicate which user you would like to log in as:\\n(1)John\\n(2)Mark\\n(3)Suzy\\n(4)Anthony&quot;);\n        Scanner x=new Scanner(System.in);\n        int y=x.nextInt()-1;\n        System.out.print(&quot;Please enter the password to log into &quot;+names[y]+&quot;'s account: &quot;);\n        Scanner a=new Scanner(System.in);\n        String newpass=a.nextLine();\n        System.out.println(passwords[y]);\n        if(passwords[y]==newpass){\n            System.out.print(&quot;Hello &quot;+names[y]+&quot;!&quot;);\n        }else{\n            System.out.println(&quot;Incorrect Password. &quot;+passwords[y]+&quot; &quot;+newpass);\n        }\n    }\n</code></pre>\n<p>Both passwords[y] and newpass are the exact same string, and when I try:</p>\n<p><code>if(passwords[y]==&quot;passw0rd&quot;);</code></p>\n<p>(And obviously pick the 'John') it does work, so i'm hoping someone can explain the difference and how to get around it so as to better accept user input.</p>\n<p>Also i'll take a for loop as an answer, but i'm hoping I can avoid it.</p>\n"},{"tags":["java","android","huawei-mobile-services"],"answers":[{"tags":[],"owner":{"account_id":1174345,"reputation":33174,"user_id":1150712,"accept_rate":72,"display_name":"zhangxaochen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645584831,"creation_date":1645584831,"answer_id":71230825,"question_id":71230489,"body_markdown":"The following is how to start up auto-start on Huawei devices, you could try to see if it&#39;s useful :\r\n```\r\nIntent intent = new Intent();\r\nintent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\r\nComponentName componentName = null;\r\ncomponentName = ComponentName.unflattenFromString(&quot;com.huawei.systemmanager/.startupmgr.ui.StartupNormalAppListActivity&quot;);\r\nintent.setComponent(componentName);\r\ncontext.startActivity(intent);\r\n```\r\n\r\n","title":"Check autostart in EMUI","body":"<p>The following is how to start up auto-start on Huawei devices, you could try to see if it's useful :</p>\n<pre><code>Intent intent = new Intent();\nintent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\nComponentName componentName = null;\ncomponentName = ComponentName.unflattenFromString(&quot;com.huawei.systemmanager/.startupmgr.ui.StartupNormalAppListActivity&quot;);\nintent.setComponent(componentName);\ncontext.startActivity(intent);\n</code></pre>\n"}],"owner":{"account_id":24347569,"reputation":11,"user_id":18283889,"display_name":"Johndoe665"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":149,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1645584831,"creation_date":1645581389,"question_id":71230489,"body_markdown":"Is there a solution for EMUI similar to this this https://dontkillmyapp.com/xiaomi ?\r\n\r\n```\r\nAutostart autostart = new Autostart(applicationContext);\r\n\r\nState state = autostart.getAutoStartState();\r\n\r\nif (state == State.DISABLED) {\r\n    // now we are sure that autostart is disabled\r\n    // ask user to enable it manually in the settings app    \r\n} else if (state == State.ENABLED) {\r\n    // now we are also sure that autostart is enabled\r\n}\r\n\r\n```\r\n\r\nNeed check autostart for Huawei EMUI, thanks","title":"Check autostart in EMUI","body":"<p>Is there a solution for EMUI similar to this this <a href=\"https://dontkillmyapp.com/xiaomi\" rel=\"nofollow noreferrer\">https://dontkillmyapp.com/xiaomi</a> ?</p>\n<pre><code>Autostart autostart = new Autostart(applicationContext);\n\nState state = autostart.getAutoStartState();\n\nif (state == State.DISABLED) {\n    // now we are sure that autostart is disabled\n    // ask user to enable it manually in the settings app    \n} else if (state == State.ENABLED) {\n    // now we are also sure that autostart is enabled\n}\n\n</code></pre>\n<p>Need check autostart for Huawei EMUI, thanks</p>\n"},{"tags":["java","python","debugging","jvm","py4j"],"answers":[{"tags":[],"owner":{"account_id":6168842,"reputation":6596,"user_id":4807777,"accept_rate":100,"display_name":"Laurentiu L."},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1439464075,"creation_date":1439464075,"answer_id":31986509,"question_id":31986285,"body_markdown":"You execute the java command which spawns a JVM with the debug arguments.\r\n\r\nI.e. `-Xdebug -Xrunjdwp:transport=dt_socket,server=y,suspend=n,address=1044`.\r\n\r\nThen in the IDE you create a new remote connection.\r\nIn fact, when you go about creating a new one, when you specify host and port it already gives you the arguments, such as:\r\n\r\n&gt; Command line arguments for running remote JVM:\r\n&gt; \r\n&gt;     -agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=8000","title":"Connect to JVM for debugging that has been spawned by a Python script","body":"<p>You execute the java command which spawns a JVM with the debug arguments.</p>\n\n<p>I.e. <code>-Xdebug -Xrunjdwp:transport=dt_socket,server=y,suspend=n,address=1044</code>.</p>\n\n<p>Then in the IDE you create a new remote connection.\nIn fact, when you go about creating a new one, when you specify host and port it already gives you the arguments, such as:</p>\n\n<blockquote>\n  <p>Command line arguments for running remote JVM:</p>\n\n<pre><code>-agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=8000\n</code></pre>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":2844787,"reputation":5391,"user_id":2443502,"accept_rate":91,"display_name":"Marcin Kłopotek"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1439465788,"creation_date":1439464970,"answer_id":31986804,"question_id":31986285,"body_markdown":"I assume that your Python code spawns `java` command using [`os.system`][1] call. If you want to debug it from your IDE then you should turn on debugging on the spawned JVM (see [this][2] topic for possible options to enable JVM debugging):\r\n\r\n        os.system(&quot;java -jar your.jar -Xdebug -Xrunjdwp:server=y, transport=dt_socket,address=4000, suspend=y&quot;);\r\n\r\nIn above code the spawned JVM will listen on port `4000` for incoming debugger connections. Now you can use [InteliJ remote debug configuration][3] feature to connect to the spawned JVM using provided port. Note the **`suspend=y`** parameter - it means that the JVM will be started as suspended until debugger is connected. This will prevent the case that you miss the interesting JVM execution part you want to debug or prevents the case when JVM exited after main thread had finished before you can even started your InteliJ remote debug session.\r\n\r\n\r\n  [1]: https://docs.python.org/2/library/os.html#os.system\r\n  [2]: https://stackoverflow.com/questions/975271/remote-debugging-a-java-application\r\n  [3]: https://www.jetbrains.com/idea/help/run-debug-configuration-remote.html","title":"Connect to JVM for debugging that has been spawned by a Python script","body":"<p>I assume that your Python code spawns <code>java</code> command using <a href=\"https://docs.python.org/2/library/os.html#os.system\" rel=\"nofollow noreferrer\"><code>os.system</code></a> call. If you want to debug it from your IDE then you should turn on debugging on the spawned JVM (see <a href=\"https://stackoverflow.com/questions/975271/remote-debugging-a-java-application\">this</a> topic for possible options to enable JVM debugging):</p>\n\n<pre><code>    os.system(\"java -jar your.jar -Xdebug -Xrunjdwp:server=y, transport=dt_socket,address=4000, suspend=y\");\n</code></pre>\n\n<p>In above code the spawned JVM will listen on port <code>4000</code> for incoming debugger connections. Now you can use <a href=\"https://www.jetbrains.com/idea/help/run-debug-configuration-remote.html\" rel=\"nofollow noreferrer\">InteliJ remote debug configuration</a> feature to connect to the spawned JVM using provided port. Note the <strong><code>suspend=y</code></strong> parameter - it means that the JVM will be started as suspended until debugger is connected. This will prevent the case that you miss the interesting JVM execution part you want to debug or prevents the case when JVM exited after main thread had finished before you can even started your InteliJ remote debug session.</p>\n"}],"owner":{"account_id":406461,"reputation":5825,"user_id":775988,"accept_rate":85,"display_name":"Dyin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1153,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":31986804,"answer_count":2,"score":3,"last_activity_date":1645584551,"creation_date":1439463412,"question_id":31986285,"body_markdown":"I have a Python code, which I run with IntelliJ. The Python code will execute a `java` command, which will eventually spawn a JVM. The Python and JVM communicates using Py4J and custom sockets. How can I connect to the JVM for debugging purposes using IntelliJ?","title":"Connect to JVM for debugging that has been spawned by a Python script","body":"<p>I have a Python code, which I run with IntelliJ. The Python code will execute a <code>java</code> command, which will eventually spawn a JVM. The Python and JVM communicates using Py4J and custom sockets. How can I connect to the JVM for debugging purposes using IntelliJ?</p>\n"},{"tags":["java","intellij-idea","file-io"],"comments":[{"owner":{"account_id":7646924,"reputation":1248,"user_id":5797253,"accept_rate":46,"display_name":"crimson589"},"score":0,"creation_date":1645581200,"post_id":71230449,"comment_id":125908154,"body_markdown":"Is there any error printing on the console? it&#39;s most likely permission issues.","body":"Is there any error printing on the console? it&#39;s most likely permission issues."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1645581270,"post_id":71230449,"comment_id":125908165,"body_markdown":"Try closing your reader.","body":"Try closing your reader."},{"owner":{"account_id":24104116,"reputation":5,"user_id":18075569,"display_name":"tristan"},"score":0,"creation_date":1645582503,"post_id":71230449,"comment_id":125908340,"body_markdown":"@CarloR you mean this? Disconnected from the target VM, address: &#39;127.0.0.1:55867&#39;, transport: &#39;socket&#39;","body":"@CarloR you mean this? Disconnected from the target VM, address: &#39;127.0.0.1:55867&#39;, transport: &#39;socket&#39;"},{"owner":{"account_id":7646924,"reputation":1248,"user_id":5797253,"accept_rate":46,"display_name":"crimson589"},"score":0,"creation_date":1645582780,"post_id":71230449,"comment_id":125908386,"body_markdown":"@tristan I don&#39;t think that&#39;s it. that doesn&#39;t look like an error reading/writing files would throw.","body":"@tristan I don&#39;t think that&#39;s it. that doesn&#39;t look like an error reading/writing files would throw."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1645583213,"post_id":71230449,"comment_id":125908449,"body_markdown":"In fact `inputStream`, `inputStreamReader` and `reader` are all unused. (The difference in behaviour is due to a difference in the behaviour of Windows vs OS X file systems)","body":"In fact <code>inputStream</code>, <code>inputStreamReader</code> and <code>reader</code> are all unused. (The difference in behaviour is due to a difference in the behaviour of Windows vs OS X file systems)"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1645630132,"post_id":71230449,"comment_id":125924179,"body_markdown":"You aren’t seeing what’s actually going wrong, because you are using the very old java.io.File class, many of whose methods hide errors. You should be using the Path class instead. In fact, you already are—you just need to remove the code that converts that Path to a File. Use the [Files](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/file/Files.html) class instead of using FileInputStream and FileOutputStream; for example `Files.newBufferedWriter`, `Files.delete`, `Files.move`. You should not import or use java.io.File at all.  And as others said, close your Writer.","body":"You aren’t seeing what’s actually going wrong, because you are using the very old java.io.File class, many of whose methods hide errors. You should be using the Path class instead. In fact, you already are—you just need to remove the code that converts that Path to a File. Use the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/file/Files.html\" rel=\"nofollow noreferrer\">Files</a> class instead of using FileInputStream and FileOutputStream; for example <code>Files.newBufferedWriter</code>, <code>Files.delete</code>, <code>Files.move</code>. You should not import or use java.io.File at all.  And as others said, close your Writer."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1645584131,"creation_date":1645584131,"answer_id":71230764,"question_id":71230449,"body_markdown":"Windows is a special snowflake. Unlike other OSes (or rather, Windows File System, unlike other file systems) does not let you delete any open files, and does not let you rename or delete directories of they contain any open files. In contrast to other OSes which don&#39;t mind at all; files on disk are merely &#39;pointers&#39;, and any process that opens a file also gets a pointer. The file isn&#39;t truly removed from disk until all pointers are gone, so, you can just delete files - if that file is still open, no problem - as long as it is the file doesn&#39;t disappear. It&#39;s very similar to java garbage collection in that way.\r\n\r\nBut not so on windows.\r\n\r\nYour code has a bug in it - you aren&#39;t managing your resources. This is resulting in the files being open, and then you try to delete them - this works on non-windows filesystems but isn&#39;t allowed on windows - you can&#39;t delete files even if you&#39;re the very process that still has them open.\r\n\r\nResources __MUST__ be closed, and the responsibility to do this lies on you. Given that code can exit in many ways (not just &#39;by running to the end of a method&#39;, but also: With `return`, by throwing an exception, by using `break` or `continue` for flow control, etc). Therefore, trying to write code by hand that ensures your resource is closed for all possible exit paths is annoying and error prone, so, don&#39;t. Use java&#39;s language features:\r\n\r\n__Do not EVER open a resource unless you do so in a try-with block__.\r\n\r\nLooks like this:\r\n\r\n```\r\ntry (var outputStream = new FileOutputStream(outputFile)) {\r\n  // outputStream exists here and can be interacted with as normal\r\n}\r\n```\r\n\r\nNo matter how code flow &#39;exits&#39; that `try` block, the resource is closed automatically once it does. This is good - not just because this lets you delete those files, but also because every process gets a limited number of files they get to open, so if you fail to close, any non-trivial app will soon hard-crash due to having too many open files.\r\n\r\nWhat are resources? The javadoc will tell you, and use common sense. most InputStream and OutputStreams are - any type that implements AutoClosable tends to be. If you `new X()` them up you definitely have to close them. If you&#39;re invoking a method that sounds like it &#39;makes&#39; the resource (example: `socket.getInputStream` or `Files.newInputStream`), you have to close them.\r\n\r\nUse `try () {}` to do this.\r\n\r\nOnce you do so, you can delete these files just fine, even on windows.\r\n","title":"Java code works on my laptop, but not on my desktop?","body":"<p>Windows is a special snowflake. Unlike other OSes (or rather, Windows File System, unlike other file systems) does not let you delete any open files, and does not let you rename or delete directories of they contain any open files. In contrast to other OSes which don't mind at all; files on disk are merely 'pointers', and any process that opens a file also gets a pointer. The file isn't truly removed from disk until all pointers are gone, so, you can just delete files - if that file is still open, no problem - as long as it is the file doesn't disappear. It's very similar to java garbage collection in that way.</p>\n<p>But not so on windows.</p>\n<p>Your code has a bug in it - you aren't managing your resources. This is resulting in the files being open, and then you try to delete them - this works on non-windows filesystems but isn't allowed on windows - you can't delete files even if you're the very process that still has them open.</p>\n<p>Resources <strong>MUST</strong> be closed, and the responsibility to do this lies on you. Given that code can exit in many ways (not just 'by running to the end of a method', but also: With <code>return</code>, by throwing an exception, by using <code>break</code> or <code>continue</code> for flow control, etc). Therefore, trying to write code by hand that ensures your resource is closed for all possible exit paths is annoying and error prone, so, don't. Use java's language features:</p>\n<p><strong>Do not EVER open a resource unless you do so in a try-with block</strong>.</p>\n<p>Looks like this:</p>\n<pre><code>try (var outputStream = new FileOutputStream(outputFile)) {\n  // outputStream exists here and can be interacted with as normal\n}\n</code></pre>\n<p>No matter how code flow 'exits' that <code>try</code> block, the resource is closed automatically once it does. This is good - not just because this lets you delete those files, but also because every process gets a limited number of files they get to open, so if you fail to close, any non-trivial app will soon hard-crash due to having too many open files.</p>\n<p>What are resources? The javadoc will tell you, and use common sense. most InputStream and OutputStreams are - any type that implements AutoClosable tends to be. If you <code>new X()</code> them up you definitely have to close them. If you're invoking a method that sounds like it 'makes' the resource (example: <code>socket.getInputStream</code> or <code>Files.newInputStream</code>), you have to close them.</p>\n<p>Use <code>try () {}</code> to do this.</p>\n<p>Once you do so, you can delete these files just fine, even on windows.</p>\n"}],"owner":{"account_id":24104116,"reputation":5,"user_id":18075569,"display_name":"tristan"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":116,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1645584131,"creation_date":1645580956,"question_id":71230449,"body_markdown":"I use IntelliJ. I have a class that manages student grades. It can edit files, which I have a new .temp file being written, and renamed. Then the old file gets deleted. On my laptop (mac) this works fine, but on my desktop (windows) everything works, but the old file is not deleted, and temp is not renamed. \r\n\r\nBelow is my method to edit the files:\r\n\r\n    private static void editStuGrade() throws Exception {\r\n        System.out.println(&quot;Enter a course grade you want to change (q1,q2,q3,mid,final): &quot;);\r\n        String editInput = command.next();\r\n\r\n        System.out.println(&quot;Enter a new score: &quot;);\r\n        String newGrade = command.next();\r\n\r\n        Path p = Paths.get(System.getProperty(&quot;user.dir&quot;),&quot;src&quot;,&quot;Assignment1&quot;, student.name + &quot;.txt&quot;);\r\n        File inputFile = new File(p.toString());\r\n        FileInputStream inputStream = new FileInputStream(inputFile);\r\n        InputStreamReader inputStreamReader = new InputStreamReader(inputStream);\r\n        BufferedReader reader = new BufferedReader(inputStreamReader);\r\n\r\n        File outputFile = new File(p + &quot;.temp&quot;);\r\n        FileOutputStream outputStream = new FileOutputStream(outputFile);\r\n        OutputStreamWriter outputStreamWriter = new OutputStreamWriter(outputStream);\r\n        BufferedWriter writer = new BufferedWriter(outputStreamWriter);\r\n\r\n            if (editInput.equalsIgnoreCase(&quot;q1&quot;)) {\r\n                writer.write(student.name + &quot;,&quot; +  student.id + &quot;,&quot; + newGrade + &quot;,&quot; + student.quiz2\r\n                        + &quot;,&quot; + student.quiz3 + &quot;,&quot; + student.midterm + &quot;,&quot; + student.finalTest);\r\n                writer.close();\r\n            } else if (editInput.equalsIgnoreCase(&quot;q2&quot;)) {\r\n                writer.write(student.name + &quot;,&quot; +  student.id + &quot;,&quot; + student.quiz1 + &quot;,&quot; + newGrade\r\n                        + &quot;,&quot; + student.quiz3 + &quot;,&quot; + student.midterm + &quot;,&quot; + student.finalTest);\r\n                writer.close();\r\n            } else if (editInput.equalsIgnoreCase(&quot;q3&quot;)) {\r\n                writer.write(student.name + &quot;,&quot; +  student.id + &quot;,&quot; + student.quiz1 + &quot;,&quot; + student.quiz2\r\n                        + &quot;,&quot; + newGrade + &quot;,&quot; + student.midterm + &quot;,&quot; + student.finalTest);\r\n                writer.close();\r\n            } else if (editInput.equalsIgnoreCase(&quot;mid&quot;)) {\r\n                writer.write(student.name + &quot;,&quot; +  student.id + &quot;,&quot; + student.quiz1 + &quot;,&quot; + student.quiz2\r\n                        + &quot;,&quot; + student.quiz3 + &quot;,&quot; + newGrade + &quot;,&quot; + student.finalTest);\r\n                writer.close();\r\n            } else if (editInput.equalsIgnoreCase(&quot;final&quot;)) {\r\n                writer.write(student.name + &quot;,&quot; +  student.id + &quot;,&quot; + student.quiz1 + &quot;,&quot; + student.quiz2\r\n                        + &quot;,&quot; + student.quiz3 + &quot;,&quot; + student.midterm + &quot;,&quot; + newGrade);\r\n                writer.close();\r\n            }\r\n        inputFile.delete();\r\n        outputFile.renameTo(new File(p.toString()));\r\n        System.out.println(&quot;Successful.&quot;);\r\n    }","title":"Java code works on my laptop, but not on my desktop?","body":"<p>I use IntelliJ. I have a class that manages student grades. It can edit files, which I have a new .temp file being written, and renamed. Then the old file gets deleted. On my laptop (mac) this works fine, but on my desktop (windows) everything works, but the old file is not deleted, and temp is not renamed.</p>\n<p>Below is my method to edit the files:</p>\n<pre><code>private static void editStuGrade() throws Exception {\n    System.out.println(&quot;Enter a course grade you want to change (q1,q2,q3,mid,final): &quot;);\n    String editInput = command.next();\n\n    System.out.println(&quot;Enter a new score: &quot;);\n    String newGrade = command.next();\n\n    Path p = Paths.get(System.getProperty(&quot;user.dir&quot;),&quot;src&quot;,&quot;Assignment1&quot;, student.name + &quot;.txt&quot;);\n    File inputFile = new File(p.toString());\n    FileInputStream inputStream = new FileInputStream(inputFile);\n    InputStreamReader inputStreamReader = new InputStreamReader(inputStream);\n    BufferedReader reader = new BufferedReader(inputStreamReader);\n\n    File outputFile = new File(p + &quot;.temp&quot;);\n    FileOutputStream outputStream = new FileOutputStream(outputFile);\n    OutputStreamWriter outputStreamWriter = new OutputStreamWriter(outputStream);\n    BufferedWriter writer = new BufferedWriter(outputStreamWriter);\n\n        if (editInput.equalsIgnoreCase(&quot;q1&quot;)) {\n            writer.write(student.name + &quot;,&quot; +  student.id + &quot;,&quot; + newGrade + &quot;,&quot; + student.quiz2\n                    + &quot;,&quot; + student.quiz3 + &quot;,&quot; + student.midterm + &quot;,&quot; + student.finalTest);\n            writer.close();\n        } else if (editInput.equalsIgnoreCase(&quot;q2&quot;)) {\n            writer.write(student.name + &quot;,&quot; +  student.id + &quot;,&quot; + student.quiz1 + &quot;,&quot; + newGrade\n                    + &quot;,&quot; + student.quiz3 + &quot;,&quot; + student.midterm + &quot;,&quot; + student.finalTest);\n            writer.close();\n        } else if (editInput.equalsIgnoreCase(&quot;q3&quot;)) {\n            writer.write(student.name + &quot;,&quot; +  student.id + &quot;,&quot; + student.quiz1 + &quot;,&quot; + student.quiz2\n                    + &quot;,&quot; + newGrade + &quot;,&quot; + student.midterm + &quot;,&quot; + student.finalTest);\n            writer.close();\n        } else if (editInput.equalsIgnoreCase(&quot;mid&quot;)) {\n            writer.write(student.name + &quot;,&quot; +  student.id + &quot;,&quot; + student.quiz1 + &quot;,&quot; + student.quiz2\n                    + &quot;,&quot; + student.quiz3 + &quot;,&quot; + newGrade + &quot;,&quot; + student.finalTest);\n            writer.close();\n        } else if (editInput.equalsIgnoreCase(&quot;final&quot;)) {\n            writer.write(student.name + &quot;,&quot; +  student.id + &quot;,&quot; + student.quiz1 + &quot;,&quot; + student.quiz2\n                    + &quot;,&quot; + student.quiz3 + &quot;,&quot; + student.midterm + &quot;,&quot; + newGrade);\n            writer.close();\n        }\n    inputFile.delete();\n    outputFile.renameTo(new File(p.toString()));\n    System.out.println(&quot;Successful.&quot;);\n}\n</code></pre>\n"},{"tags":["java","arrays","list","dictionary"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1645583262,"post_id":71230621,"comment_id":125908460,"body_markdown":"Always [search Stack Overflow](https://duckduckgo.com/?q=site%3Astackoverflow.com+java+make+arrays+from+properties&amp;t=osx&amp;ia=web) thoroughly before posting.","body":"Always <a href=\"https://duckduckgo.com/?q=site%3Astackoverflow.com+java+make+arrays+from+properties&amp;t=osx&amp;ia=web\" rel=\"nofollow noreferrer\">search Stack Overflow</a> thoroughly before posting."},{"owner":{"account_id":16800916,"reputation":149,"user_id":12146173,"display_name":"MVB76"},"score":0,"creation_date":1645583400,"post_id":71230621,"comment_id":125908484,"body_markdown":"thanks, I did search far and wide and not just on this site","body":"thanks, I did search far and wide and not just on this site"}],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1645583570,"creation_date":1645583326,"answer_id":71230674,"question_id":71230621,"body_markdown":"- First, create the user instance with the loop.\r\n```\r\nList&lt;User&gt; list = new ArrayList&lt;&gt;();\r\nfor (int i = 0; i &lt; 5; i++) {\r\n  System.out.println(&quot;Enter your username.&quot;);\r\n  String username = scanner.nextLine();\r\n  System.out.println(&quot;Enter your password.&quot;);\r\n  String password = scanner.nextLine();\r\n  list.add(new User(username, password));\r\n}\r\n```\r\n- Then stream the list like your doing.\r\n```\r\nList&lt;String&gt; names = users.stream().map(User::username).collect(Collectors.toList());\r\nList&lt;String&gt; pwds = users.stream().map(User::password).collect(Collectors.toList());\r\n```\r\nBut your using a method reference for a getter so you need to include a method `username()` in your class definition that returns a String.  Same for `username`. These are normally prefixed with `get` like `getUsername`.\r\n```\r\npublic String getUsername() {\r\n    return username;\r\n}\r\n```\r\nThen you can do what you want with the lists\r\n  ","title":"Create an array of values from a list of objects","body":"<ul>\n<li>First, create the user instance with the loop.</li>\n</ul>\n<pre><code>List&lt;User&gt; list = new ArrayList&lt;&gt;();\nfor (int i = 0; i &lt; 5; i++) {\n  System.out.println(&quot;Enter your username.&quot;);\n  String username = scanner.nextLine();\n  System.out.println(&quot;Enter your password.&quot;);\n  String password = scanner.nextLine();\n  list.add(new User(username, password));\n}\n</code></pre>\n<ul>\n<li>Then stream the list like your doing.</li>\n</ul>\n<pre><code>List&lt;String&gt; names = users.stream().map(User::username).collect(Collectors.toList());\nList&lt;String&gt; pwds = users.stream().map(User::password).collect(Collectors.toList());\n</code></pre>\n<p>But your using a method reference for a getter so you need to include a method <code>username()</code> in your class definition that returns a String.  Same for <code>username</code>. These are normally prefixed with <code>get</code> like <code>getUsername</code>.</p>\n<pre><code>public String getUsername() {\n    return username;\n}\n</code></pre>\n<p>Then you can do what you want with the lists</p>\n"}],"owner":{"account_id":16800916,"reputation":149,"user_id":12146173,"display_name":"MVB76"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":498,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1645583230,"accepted_answer_id":71230674,"answer_count":1,"score":0,"last_activity_date":1645583570,"creation_date":1645582829,"question_id":71230621,"body_markdown":"I cant find a java version of this anywhere. In js this is simple. I have a list of objects with attributes and I want to create arrays for each attribute. The user class simply initializes its own attributes. The main class initializes the list with user objects and then creates lists of usernames and passwords.\r\n\r\nUser:\r\n\r\n    public class User{\r\n    \r\n    \tString username, password;\r\n    \r\n    \tpublic User(){}\r\n    \r\n    \tpublic User(String myName, String myPwd){\r\n    \r\n    \t\tusername = myName;\r\n    \t\tpassword = myPwd;\r\n    \t}\r\n    }\r\n\r\nMain:\r\n\r\n\r\n    import java.util.stream.Collectors;\r\n    \r\n    public class Main{\r\n    \r\n    \tpublic static void main(String[] args){\r\n    \r\n    \t\tList&lt;User&gt; users = new ArrayList&lt;&gt;();\r\n    \r\n    \t\tint i = 0;\r\n    \t\twhile(i&lt;5){\r\n    \r\n    \t\t\tusers.add(new User(&quot;Brandon&quot; + i,&quot;LetsGo&quot; + i));\r\n    \t\t\ti++\r\n    \t\t}\r\n    \r\n    \t\tSystem.out.println(&quot;Enter your username.&quot;);\r\n                    String username = scanner.nextLine();\r\n                    System.out.println(&quot;Enter your password.&quot;);\r\n                    String password = scanner.nextLine();\r\n    \t\t\r\n            //how do I make these lists?\r\n    \t\tList&lt;String&gt; names = users.stream().map(User::username).collect(Collectors.toList());\r\n    \t\tList&lt;String&gt; pwds = users.stream().map(User::password).collect(Collectors.toList());\r\n    \r\n    \t\tif(names.contains(username)){\r\n    \t\t\tif(pwds.contains(password)){\r\n    \t\t\t\tSystem.out.println(&quot;Welcome back &quot; + username);\r\n    \t\t\t}else{\r\n    \t\t\t\tSystem.out.println(&quot;The credentials do not match our records.&quot;);\r\n    \t\t\t}\r\n    \t\t}else{\r\n    \t\t\tusers.add(new User(username, password));\r\n    \t\t\tSystem.out.println(&quot;Welcome &quot; + username);\r\n    \t\t}\r\n    \t}\r\n    }\t","title":"Create an array of values from a list of objects","body":"<p>I cant find a java version of this anywhere. In js this is simple. I have a list of objects with attributes and I want to create arrays for each attribute. The user class simply initializes its own attributes. The main class initializes the list with user objects and then creates lists of usernames and passwords.</p>\n<p>User:</p>\n<pre><code>public class User{\n\n    String username, password;\n\n    public User(){}\n\n    public User(String myName, String myPwd){\n\n        username = myName;\n        password = myPwd;\n    }\n}\n</code></pre>\n<p>Main:</p>\n<pre><code>import java.util.stream.Collectors;\n\npublic class Main{\n\n    public static void main(String[] args){\n\n        List&lt;User&gt; users = new ArrayList&lt;&gt;();\n\n        int i = 0;\n        while(i&lt;5){\n\n            users.add(new User(&quot;Brandon&quot; + i,&quot;LetsGo&quot; + i));\n            i++\n        }\n\n        System.out.println(&quot;Enter your username.&quot;);\n                String username = scanner.nextLine();\n                System.out.println(&quot;Enter your password.&quot;);\n                String password = scanner.nextLine();\n        \n        //how do I make these lists?\n        List&lt;String&gt; names = users.stream().map(User::username).collect(Collectors.toList());\n        List&lt;String&gt; pwds = users.stream().map(User::password).collect(Collectors.toList());\n\n        if(names.contains(username)){\n            if(pwds.contains(password)){\n                System.out.println(&quot;Welcome back &quot; + username);\n            }else{\n                System.out.println(&quot;The credentials do not match our records.&quot;);\n            }\n        }else{\n            users.add(new User(username, password));\n            System.out.println(&quot;Welcome &quot; + username);\n        }\n    }\n}   \n</code></pre>\n"},{"tags":["java","linux","systemd"],"comments":[{"owner":{"account_id":1136217,"reputation":14336,"user_id":1121249,"accept_rate":86,"display_name":"rkosegi"},"score":3,"creation_date":1645530512,"post_id":71220740,"comment_id":125890466,"body_markdown":"are you sure that `/bin/java` is correct? It&#39;s often present under `/usr/bin/java`.","body":"are you sure that <code>&#47;bin&#47;java</code> is correct? It&#39;s often present under <code>&#47;usr&#47;bin&#47;java</code>."},{"owner":{"account_id":551394,"reputation":8315,"user_id":916225,"accept_rate":69,"display_name":"seenukarthi"},"score":0,"creation_date":1645530545,"post_id":71220740,"comment_id":125890477,"body_markdown":"You are missing `-` in `Djava.net.preferIPv4Stack=true`","body":"You are missing <code>-</code> in <code>Djava.net.preferIPv4Stack=true</code>"}],"answers":[{"tags":[],"owner":{"account_id":551394,"reputation":8315,"user_id":916225,"accept_rate":69,"display_name":"seenukarthi"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1645583400,"creation_date":1645530897,"answer_id":71220851,"question_id":71220740,"body_markdown":"The JVM argument `java.net.preferIPv4Stack` should be prefixed with `-D` instead you have `D` \r\n\r\nAlso, as others pointed out in comments check your java path it might be `/usr/bin/java`.\r\n\r\nSo, change the command to `/usr/bin/java -Xms128m -Xmx256m -jar -Djava.net.preferIPv4Stack=true EdOwl-Springboot.jar`","title":"systemd java file service managment","body":"<p>The JVM argument <code>java.net.preferIPv4Stack</code> should be prefixed with <code>-D</code> instead you have <code>D</code></p>\n<p>Also, as others pointed out in comments check your java path it might be <code>/usr/bin/java</code>.</p>\n<p>So, change the command to <code>/usr/bin/java -Xms128m -Xmx256m -jar -Djava.net.preferIPv4Stack=true EdOwl-Springboot.jar</code></p>\n"}],"owner":{"account_id":19587917,"reputation":283,"user_id":14335620,"display_name":"ABpositive"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":376,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":71220851,"answer_count":1,"score":-1,"last_activity_date":1645583400,"creation_date":1645530380,"question_id":71220740,"body_markdown":"I have this java file, it has to be executed using the following command otherwise it defaults to ipv6 and effectively useless for my use-case\r\n\r\n```\r\n-jar Djava.net.preferIPv4Stack=true EdOwl-Springboot.jar\r\n```\r\n\r\nI tried following this guide: https://computingforgeeks.com/how-to-run-java-jar-application-with-systemd-on-linux/\r\n\r\nHowever using this shows: \r\n```\r\nroot@edowl:~# systemctl status EdOwl-Springboot.service\r\n● EdOwl-Springboot.service - EdowlSpringboot\r\n     Loaded: loaded (/etc/systemd/system/EdOwl-Springboot.service; disabled; vendor preset: enabled)\r\n     Active: activating (auto-restart) (Result: exit-code) since Tue 2022-02-22 11:28:26 UTC; 10s ago\r\n   Main PID: 186854 (code=exited, status=203/EXEC)\r\n      Tasks: 0 (limit: 614)\r\n     Memory: 0B\r\n     CGroup: /system.slice/EdOwl-Springboot.service\r\n\r\nFeb 22 11:28:36 edowl.online systemd[1]: EdOwl-Springboot.service: Scheduled restart job, restart counter is at 125919.\r\nFeb 22 11:28:36 edowl.online systemd[1]: Stopped EdowlSpringboot.\r\nFeb 22 11:28:36 edowl.online systemd[1]: Started EdowlSpringboot.\r\nFeb 22 11:28:36 edowl.online systemd[186888]: EdOwl-Springboot.service: Failed to execute command: No such file or directory\r\nFeb 22 11:28:36 edowl.online systemd[186888]: EdOwl-Springboot.service: Failed at step EXEC spawning /bin/java: No such file or directory\r\nFeb 22 11:28:36 edowl.online systemd[1]: EdOwl-Springboot.service: Main process exited, code=exited, status=203/EXEC\r\nFeb 22 11:28:36 edowl.online systemd[1]: EdOwl-Springboot.service: Failed with result &#39;exit-code&#39;.\r\n```\r\n\r\nthe service file is as follows:\r\n```\r\n[Unit]\r\nDescription=EdowlSpringboot\r\n\r\n[Service]\r\nWorkingDirectory=/home\r\nExecStart=/bin/java -Xms128m -Xmx256m -jar Djava.net.preferIPv4Stack=true EdOwl-Springboot.jar\r\nType=simple\r\nRestart=on-failure\r\nRestartSec=10\r\n\r\n[Install]\r\nWantedBy=multi-user.target\r\n\r\n```\r\nThe file is located in the ```/home``` dir\r\n\r\nI am certain it is the exec start line that is messing this up, is it necessary to state: ``` /bin/java -Xms128m -Xmx256m ```or am I messing up something else here? \r\n\r\nSuggestions are welcome cheers","title":"systemd java file service managment","body":"<p>I have this java file, it has to be executed using the following command otherwise it defaults to ipv6 and effectively useless for my use-case</p>\n<pre><code>-jar Djava.net.preferIPv4Stack=true EdOwl-Springboot.jar\n</code></pre>\n<p>I tried following this guide: <a href=\"https://computingforgeeks.com/how-to-run-java-jar-application-with-systemd-on-linux/\" rel=\"nofollow noreferrer\">https://computingforgeeks.com/how-to-run-java-jar-application-with-systemd-on-linux/</a></p>\n<p>However using this shows:</p>\n<pre><code>root@edowl:~# systemctl status EdOwl-Springboot.service\n● EdOwl-Springboot.service - EdowlSpringboot\n     Loaded: loaded (/etc/systemd/system/EdOwl-Springboot.service; disabled; vendor preset: enabled)\n     Active: activating (auto-restart) (Result: exit-code) since Tue 2022-02-22 11:28:26 UTC; 10s ago\n   Main PID: 186854 (code=exited, status=203/EXEC)\n      Tasks: 0 (limit: 614)\n     Memory: 0B\n     CGroup: /system.slice/EdOwl-Springboot.service\n\nFeb 22 11:28:36 edowl.online systemd[1]: EdOwl-Springboot.service: Scheduled restart job, restart counter is at 125919.\nFeb 22 11:28:36 edowl.online systemd[1]: Stopped EdowlSpringboot.\nFeb 22 11:28:36 edowl.online systemd[1]: Started EdowlSpringboot.\nFeb 22 11:28:36 edowl.online systemd[186888]: EdOwl-Springboot.service: Failed to execute command: No such file or directory\nFeb 22 11:28:36 edowl.online systemd[186888]: EdOwl-Springboot.service: Failed at step EXEC spawning /bin/java: No such file or directory\nFeb 22 11:28:36 edowl.online systemd[1]: EdOwl-Springboot.service: Main process exited, code=exited, status=203/EXEC\nFeb 22 11:28:36 edowl.online systemd[1]: EdOwl-Springboot.service: Failed with result 'exit-code'.\n</code></pre>\n<p>the service file is as follows:</p>\n<pre><code>[Unit]\nDescription=EdowlSpringboot\n\n[Service]\nWorkingDirectory=/home\nExecStart=/bin/java -Xms128m -Xmx256m -jar Djava.net.preferIPv4Stack=true EdOwl-Springboot.jar\nType=simple\nRestart=on-failure\nRestartSec=10\n\n[Install]\nWantedBy=multi-user.target\n\n</code></pre>\n<p>The file is located in the <code>/home</code> dir</p>\n<p>I am certain it is the exec start line that is messing this up, is it necessary to state: <code>/bin/java -Xms128m -Xmx256m</code>or am I messing up something else here?</p>\n<p>Suggestions are welcome cheers</p>\n"},{"tags":["java","log4j"],"comments":[{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1645597214,"post_id":71230653,"comment_id":125910799,"body_markdown":"I believe there is a mistake in [Ralph&#39;s answer](https://stackoverflow.com/a/62539515/11748454): with your pattern rollover will always occur at midnight, `modulate` only decides whether the day of the year it occurs must be divisible by `interval` or not. In your case it does not matter.","body":"I believe there is a mistake in <a href=\"https://stackoverflow.com/a/62539515/11748454\">Ralph&#39;s answer</a>: with your pattern rollover will always occur at midnight, <code>modulate</code> only decides whether the day of the year it occurs must be divisible by <code>interval</code> or not. In your case it does not matter."},{"owner":{"account_id":24347712,"reputation":1,"user_id":18284013,"display_name":"sptsptspt"},"score":0,"creation_date":1645630847,"post_id":71230653,"comment_id":125924547,"body_markdown":"Thanks, that&#39;s what I was wondering. Since the smallest time unit is days, there isn&#39;t really a mid point to change according to startup time. It&#39;s either the next day or not, if I had logs with a file pattern that was hours or minutes I&#39;d understand the usefulness. Thanks for response.","body":"Thanks, that&#39;s what I was wondering. Since the smallest time unit is days, there isn&#39;t really a mid point to change according to startup time. It&#39;s either the next day or not, if I had logs with a file pattern that was hours or minutes I&#39;d understand the usefulness. Thanks for response."},{"owner":{"account_id":24347712,"reputation":1,"user_id":18284013,"display_name":"sptsptspt"},"score":0,"creation_date":1645758800,"post_id":71230653,"comment_id":125961788,"body_markdown":"Wanted to confirm. Moved my upgrade to an active production environment and working as anticipated. Modulate is not required for day to day changes, as long as logs occur around the time that the rollover should occur. Rolling file appenders only trigger if there are active logs occurring.","body":"Wanted to confirm. Moved my upgrade to an active production environment and working as anticipated. Modulate is not required for day to day changes, as long as logs occur around the time that the rollover should occur. Rolling file appenders only trigger if there are active logs occurring."}],"owner":{"account_id":24347712,"reputation":1,"user_id":18284013,"display_name":"sptsptspt"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":348,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1645583123,"creation_date":1645583123,"question_id":71230653,"body_markdown":"Due to the vulnerabilities in Log4J framework, I have had to upgrade from 1.x to 2.17.1, which required rewriting the configuration used. \r\n\r\nI have an application that is very dependent on a daily log file which is rolled over at midnight (or within 10 seconds of it, either before or after). It will log a counter every 10 seconds of previously ingested records (even if no data is being consumed), so I know that the appender should work as expected since it will always be logging a value every 10 seconds.\r\n\r\nThe smallest date pattern is the day value (ie; LogFile.log.2022-02-22) and my understanding is that this means that modulate will allow this to rollover once that smallest pattern has changed. Is this the case? \r\n\r\nI currently do not have modulate set to true, and in my testing it seems to be working as expected, but I&#39;ve only been able to do a little bit of testing since it requires the day to change, and I can&#39;t change the system time of my development environment for many reasons. \r\n\r\nIn this case, should I be using modulate?\r\n\r\nI have read this post: https://stackoverflow.com/questions/62517366/what-does-modulate-true-signify-in-log4j-timebased-triggering-policy\r\n\r\nbut I&#39;m still a little confused in my testing.\r\n\r\nHere is the triggering policy I have as of testing:\r\n\r\n```\r\n&lt;TimeBasedTriggeringPolicy interval=&quot;1&quot; /&gt;\r\n```\r\nand here is the filePattern:\r\n```\r\nfilePattern=&quot;${sys:logLocation}/${sys:job}-${sys:hostname}.log.%d{yyyy-MM-dd}&quot;","title":"Log4J2 Rolling File Appender, is modulate required in this scenario&#39;s triggering policy?","body":"<p>Due to the vulnerabilities in Log4J framework, I have had to upgrade from 1.x to 2.17.1, which required rewriting the configuration used.</p>\n<p>I have an application that is very dependent on a daily log file which is rolled over at midnight (or within 10 seconds of it, either before or after). It will log a counter every 10 seconds of previously ingested records (even if no data is being consumed), so I know that the appender should work as expected since it will always be logging a value every 10 seconds.</p>\n<p>The smallest date pattern is the day value (ie; LogFile.log.2022-02-22) and my understanding is that this means that modulate will allow this to rollover once that smallest pattern has changed. Is this the case?</p>\n<p>I currently do not have modulate set to true, and in my testing it seems to be working as expected, but I've only been able to do a little bit of testing since it requires the day to change, and I can't change the system time of my development environment for many reasons.</p>\n<p>In this case, should I be using modulate?</p>\n<p>I have read this post: <a href=\"https://stackoverflow.com/questions/62517366/what-does-modulate-true-signify-in-log4j-timebased-triggering-policy\">What does modulate = &#39;true&#39; signify in Log4j TimeBased Triggering Policy</a></p>\n<p>but I'm still a little confused in my testing.</p>\n<p>Here is the triggering policy I have as of testing:</p>\n<pre><code>&lt;TimeBasedTriggeringPolicy interval=&quot;1&quot; /&gt;\n</code></pre>\n<p>and here is the filePattern:</p>\n<pre><code>filePattern=&quot;${sys:logLocation}/${sys:job}-${sys:hostname}.log.%d{yyyy-MM-dd}&quot;\n</code></pre>\n"},{"tags":["java","arrays","null","return"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1645585720,"post_id":71230444,"comment_id":125908843,"body_markdown":"Is there a reason you&#39;re using arrays rather than `List`s?","body":"Is there a reason you&#39;re using arrays rather than <code>List</code>s?"},{"owner":{"account_id":24347458,"reputation":25,"user_id":18283794,"display_name":"Banks N"},"score":0,"creation_date":1645602653,"post_id":71230444,"comment_id":125912323,"body_markdown":"I&#39;m not too informed on java, and we&#39;ve only learned arrays so it was my assumption we had to do it with arrays. I looked a bit more into lists like you had recommended and swapped all my logic to lists rather than arrays and the program is working great now. Thanks a lot for the recommendation!","body":"I&#39;m not too informed on java, and we&#39;ve only learned arrays so it was my assumption we had to do it with arrays. I looked a bit more into lists like you had recommended and swapped all my logic to lists rather than arrays and the program is working great now. Thanks a lot for the recommendation!"}],"owner":{"account_id":24347458,"reputation":25,"user_id":18283794,"display_name":"Banks N"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1645581922,"creation_date":1645580881,"question_id":71230444,"body_markdown":"So here&#39;s the question I need to answer: Implement a method that takes a research area as an input and returns the names of scientists associated with that area.\r\n\r\nI&#39;ve got a lot of the base code necessary but am struggling because I am trying to filter out the array of scientist professions to only return the scientist whose profession is the specified input. What I need help with is finding a way to make a new array with only certain filtered scientists and excluding the unspecified scientist. Any idea on how to change the code to return an array of only certain scientists would be very helpful! The issue is in the CheckField method, and I&#39;ll put my code below of the program:\r\n\r\n\r\n    public class computerScientists {\r\n\r\n        String name;\r\n        String researchArea;\r\n        String contribution;\r\n\r\n        // Constructor\r\n        public computerScientists(String NM, String RA, String C) {\r\n            this.name = NM;\r\n            this.researchArea = RA;\r\n            this.contribution = C;\r\n        }\r\n\r\n        public static void main(String[] args) {\r\n            computerScientists[] personDatabase = {\r\n                new computerScientists(&quot;Katherine Johnson&quot;, &quot;Mathematician&quot;, &quot;Mathmetician for NASA during space race&quot;),\r\n                new computerScientists(&quot;Kimberely Bryant&quot;, &quot;Entrepreneur &amp; Activist&quot;, &quot;Founded black girls code&quot;),\r\n                new computerScientists(&quot;Mark Dean&quot;, &quot;Inventor and Engineer&quot;, &quot;Helped design and release some of the first computers&quot;),\r\n                new computerScientists(&quot;Marie Van Brittan Brown&quot;, &quot;Inventor and Pioneer&quot;, &quot;Pieneered and invented an audio-video alarm system&quot;),\r\n                new computerScientists(&quot;Marian R Croak&quot;, &quot;Engineer&quot;, &quot;Helped develop the Voice Over Internet Protocol (VOIP)&quot;)\r\n            };\r\n            //int size = person1.length\r\n            for(int i=0; i&lt;personDatabase.length; i++){\r\n                System.out.println(&quot;Innovator &quot; + String.valueOf(i + 1) + &quot;: \\n&quot;);\r\n                System.out.println(&quot;Name: &quot; + personDatabase[i].name + &quot;\\n&quot;\r\n                    + &quot;Research Area: &quot; + personDatabase[i].researchArea + &quot;\\n&quot;\r\n                    + &quot;Contribution: &quot; + personDatabase[i].contribution);\r\n                System.out.println();\r\n            }\r\n            checkField(&quot;Inventor&quot;, personDatabase);\r\n        }\r\n        public static computerScientists[] checkField(String researchField, computerScientists[] array1) {\r\n            computerScientists[] newArray1 = new computerScientists[array1.length];\r\n            //int difference = newArray1.length - array1.length;\r\n            for (int i=0; i &lt; array1.length; i++) {\r\n                if (array1[i].researchArea.contains(researchField)) {\r\n                    newArray1[i].researchArea = String.valueOf(array1[i]);\r\n                }\r\n            }\r\n            for (int j=0; j&lt;newArray1.length; j++) {\r\n                System.out.println(newArray1[j].researchArea);\r\n            }\r\n            return newArray1;\r\n        }\r\n    }\r\n\r\n","title":"returning an array filtered from an existing array","body":"<p>So here's the question I need to answer: Implement a method that takes a research area as an input and returns the names of scientists associated with that area.</p>\n<p>I've got a lot of the base code necessary but am struggling because I am trying to filter out the array of scientist professions to only return the scientist whose profession is the specified input. What I need help with is finding a way to make a new array with only certain filtered scientists and excluding the unspecified scientist. Any idea on how to change the code to return an array of only certain scientists would be very helpful! The issue is in the CheckField method, and I'll put my code below of the program:</p>\n<pre><code>public class computerScientists {\n\n    String name;\n    String researchArea;\n    String contribution;\n\n    // Constructor\n    public computerScientists(String NM, String RA, String C) {\n        this.name = NM;\n        this.researchArea = RA;\n        this.contribution = C;\n    }\n\n    public static void main(String[] args) {\n        computerScientists[] personDatabase = {\n            new computerScientists(&quot;Katherine Johnson&quot;, &quot;Mathematician&quot;, &quot;Mathmetician for NASA during space race&quot;),\n            new computerScientists(&quot;Kimberely Bryant&quot;, &quot;Entrepreneur &amp; Activist&quot;, &quot;Founded black girls code&quot;),\n            new computerScientists(&quot;Mark Dean&quot;, &quot;Inventor and Engineer&quot;, &quot;Helped design and release some of the first computers&quot;),\n            new computerScientists(&quot;Marie Van Brittan Brown&quot;, &quot;Inventor and Pioneer&quot;, &quot;Pieneered and invented an audio-video alarm system&quot;),\n            new computerScientists(&quot;Marian R Croak&quot;, &quot;Engineer&quot;, &quot;Helped develop the Voice Over Internet Protocol (VOIP)&quot;)\n        };\n        //int size = person1.length\n        for(int i=0; i&lt;personDatabase.length; i++){\n            System.out.println(&quot;Innovator &quot; + String.valueOf(i + 1) + &quot;: \\n&quot;);\n            System.out.println(&quot;Name: &quot; + personDatabase[i].name + &quot;\\n&quot;\n                + &quot;Research Area: &quot; + personDatabase[i].researchArea + &quot;\\n&quot;\n                + &quot;Contribution: &quot; + personDatabase[i].contribution);\n            System.out.println();\n        }\n        checkField(&quot;Inventor&quot;, personDatabase);\n    }\n    public static computerScientists[] checkField(String researchField, computerScientists[] array1) {\n        computerScientists[] newArray1 = new computerScientists[array1.length];\n        //int difference = newArray1.length - array1.length;\n        for (int i=0; i &lt; array1.length; i++) {\n            if (array1[i].researchArea.contains(researchField)) {\n                newArray1[i].researchArea = String.valueOf(array1[i]);\n            }\n        }\n        for (int j=0; j&lt;newArray1.length; j++) {\n            System.out.println(newArray1[j].researchArea);\n        }\n        return newArray1;\n    }\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1645580649,"post_id":71230351,"comment_id":125908067,"body_markdown":"Sounds like you need a [`for-loop`](https://docs.oracle.com/javase/tutorial/java/nutsandbolts/for.html)","body":"Sounds like you need a <a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/for.html\" rel=\"nofollow noreferrer\"><code>for-loop</code></a>"}],"answers":[{"tags":[],"owner":{"account_id":5951111,"reputation":51,"user_id":4679026,"display_name":"Pranav Bhartia"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645581764,"creation_date":1645581764,"answer_id":71230529,"question_id":71230351,"body_markdown":"I am not sure what you&#39;re using the 2 parameters for or what values are you passing into those, but if they are the index values of what you need from both the arrays, then use those instead of hardcoding the index. \r\n\r\n    \r\n    public String[] timesTables(int number, int delimiter) {\r\n        int[] numberArray ={1, 2, 3,4,5,6,7,8};\r\n        int[] delimiterArray = {1, 2, 3,4,5,6,7,8};\r\n        System.out.println(numberArray[number] x delimiterArray[delimiter]);    \r\n    } \r\n\r\n\r\nAre you invoking this method from a loop? If yes, probably pass the loop counter as a parameter and use that as the index for the array delimiter. \r\n\r\n    \r\n    public String[] timesTables(int number, int delimiter, counter) {\r\n        int[] number ={1, 2, 3,4,5,6,7,8};\r\n        int[] delimiter = {1, 2, 3,4,5,6,7,8};\r\n        System.out.println(number[3] x delimiter[counter]);    \r\n    } \r\n\r\nIf you&#39;re not using a loop at all, the only other option(ugly) would be to use a static variable and use that as a counter. \r\n\r\n    static int counter = 0;\r\n    public String[] timesTables(int number, int delimiter) {\r\n        int[] number ={1, 2, 3,4,5,6,7,8};\r\n        int[] delimiter = {1, 2, 3,4,5,6,7,8};\r\n        System.out.println(number[3] x delimiter[counter++]);    \r\n    } \r\n\r\nThe counter++ operation would increase the value of the counter every time it is used. The variable would hold it&#39;s value till the application is up. Once you restart the server, the counter would reset to 0. \r\n\r\n","title":"How to increase what the array prints everytime it runs","body":"<p>I am not sure what you're using the 2 parameters for or what values are you passing into those, but if they are the index values of what you need from both the arrays, then use those instead of hardcoding the index.</p>\n<pre><code>public String[] timesTables(int number, int delimiter) {\n    int[] numberArray ={1, 2, 3,4,5,6,7,8};\n    int[] delimiterArray = {1, 2, 3,4,5,6,7,8};\n    System.out.println(numberArray[number] x delimiterArray[delimiter]);    \n} \n</code></pre>\n<p>Are you invoking this method from a loop? If yes, probably pass the loop counter as a parameter and use that as the index for the array delimiter.</p>\n<pre><code>public String[] timesTables(int number, int delimiter, counter) {\n    int[] number ={1, 2, 3,4,5,6,7,8};\n    int[] delimiter = {1, 2, 3,4,5,6,7,8};\n    System.out.println(number[3] x delimiter[counter]);    \n} \n</code></pre>\n<p>If you're not using a loop at all, the only other option(ugly) would be to use a static variable and use that as a counter.</p>\n<pre><code>static int counter = 0;\npublic String[] timesTables(int number, int delimiter) {\n    int[] number ={1, 2, 3,4,5,6,7,8};\n    int[] delimiter = {1, 2, 3,4,5,6,7,8};\n    System.out.println(number[3] x delimiter[counter++]);    \n} \n</code></pre>\n<p>The counter++ operation would increase the value of the counter every time it is used. The variable would hold it's value till the application is up. Once you restart the server, the counter would reset to 0.</p>\n"},{"tags":[],"owner":{"account_id":16143882,"reputation":31,"user_id":11654174,"display_name":"SPG"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645581850,"creation_date":1645581850,"answer_id":71230536,"question_id":71230351,"body_markdown":"You can use a for loop to get next delimiter. Based on question I assume you need to print number[3] * delimiter[0],number[3] * delimiter[1], and so on. You can use for loop for number array and delimiter array like below to print all the values.\r\n\r\n    for(int i=0;i&lt;number.length;i++)\r\n        {\r\n            for(j=0;j&lt;delimter.length;j++)\r\n            {\r\n                System.out.println(number[i] x delimiter[j]);\r\n            }\r\n        }\r\n\r\nBut what is reason behind number and delimiter int parameters of timesTables method? either you can expect 2 arrays by caller or just remove those.","title":"How to increase what the array prints everytime it runs","body":"<p>You can use a for loop to get next delimiter. Based on question I assume you need to print number[3] * delimiter[0],number[3] * delimiter[1], and so on. You can use for loop for number array and delimiter array like below to print all the values.</p>\n<pre><code>for(int i=0;i&lt;number.length;i++)\n    {\n        for(j=0;j&lt;delimter.length;j++)\n        {\n            System.out.println(number[i] x delimiter[j]);\n        }\n    }\n</code></pre>\n<p>But what is reason behind number and delimiter int parameters of timesTables method? either you can expect 2 arrays by caller or just remove those.</p>\n"}],"owner":{"account_id":23611433,"reputation":1,"user_id":17646388,"display_name":"Dragon _Warden427"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1645581850,"creation_date":1645580049,"question_id":71230351,"body_markdown":"public String[] timesTables(int number, int delimiter) {\r\n&#160; &#160;int[] number ={1, 2, 3,4,5,6,7,8};\r\n\r\nint[] delimiter = {1, 2, 3,4,5,6,7,8};\r\n\r\nSystem.out.println(number[3] x delimiter[0]);\r\n&#160;&#160; }\r\nthat&#39;s what my code looks like right now. I not sure how to increase what the delimiter reads each time. For example right now its delimiter[0] but the next time it runs I want it to go to delimiter[1].","title":"How to increase what the array prints everytime it runs","body":"<p>public String[] timesTables(int number, int delimiter) {\n   int[] number ={1, 2, 3,4,5,6,7,8};</p>\n<p>int[] delimiter = {1, 2, 3,4,5,6,7,8};</p>\n<p>System.out.println(number[3] x delimiter[0]);\n   }\nthat's what my code looks like right now. I not sure how to increase what the delimiter reads each time. For example right now its delimiter[0] but the next time it runs I want it to go to delimiter[1].</p>\n"},{"tags":["java","google-cloud-platform","google-cloud-storage"],"owner":{"account_id":9199997,"reputation":521,"user_id":6837337,"display_name":"Dookoto_Sea"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":0,"score":-3,"last_activity_date":1645581289,"creation_date":1645567795,"question_id":71228926,"body_markdown":"I have a requirement to create a subdirectory in a GCP bucket path. The GCP path after creating the directory (date folder) would look like:\r\n\r\nGCP path: `gs://bucket-name/directory1/20220221/`\r\n\r\nI&#39;m using StorageOptions from com.google.cloud.storage but I didn&#39;t find a way to create a subdirectory as above. \r\nI&#39;m referring this: https://cloud.google.com/storage/docs/creating-buckets#storage-create-bucket-java\r\n\r\n    val storage = StorageOptions.newBuilder.setProjectId(&quot;project-id&quot;).build.getService","title":"Create new directory in google bucket using google cloud storage","body":"<p>I have a requirement to create a subdirectory in a GCP bucket path. The GCP path after creating the directory (date folder) would look like:</p>\n<p>GCP path: <code>gs://bucket-name/directory1/20220221/</code></p>\n<p>I'm using StorageOptions from com.google.cloud.storage but I didn't find a way to create a subdirectory as above.\nI'm referring this: <a href=\"https://cloud.google.com/storage/docs/creating-buckets#storage-create-bucket-java\" rel=\"nofollow noreferrer\">https://cloud.google.com/storage/docs/creating-buckets#storage-create-bucket-java</a></p>\n<pre><code>val storage = StorageOptions.newBuilder.setProjectId(&quot;project-id&quot;).build.getService\n</code></pre>\n"},{"tags":["java","unicode","utf-8","aws-sdk","amazon-sqs"],"comments":[{"owner":{"account_id":4705394,"reputation":125,"user_id":3807714,"accept_rate":11,"display_name":"Meticulous"},"score":0,"creation_date":1573510551,"post_id":58809098,"comment_id":103898283,"body_markdown":"Clarifying the question: I want to do the replace on all the invalid characters mentioned above. I am not asking about multiple occurrences of the same character.","body":"Clarifying the question: I want to do the replace on all the invalid characters mentioned above. I am not asking about multiple occurrences of the same character."},{"owner":{"account_id":956558,"reputation":30924,"user_id":981744,"display_name":"Erwin Bolwidt"},"score":1,"creation_date":1573510890,"post_id":58809098,"comment_id":103898371,"body_markdown":"Are you sending JSON or XML messages, or plain text? Most of these characters are already invalid in JSON/XML - they will probably be rejected when you try to parse the message. Otherwise, you can create a character class in your regex using square brackets - include all the valid characters in the class, then negate the class by putting `[^` at the beginning.","body":"Are you sending JSON or XML messages, or plain text? Most of these characters are already invalid in JSON/XML - they will probably be rejected when you try to parse the message. Otherwise, you can create a character class in your regex using square brackets - include all the valid characters in the class, then negate the class by putting <code>[^</code> at the beginning."},{"owner":{"account_id":4705394,"reputation":125,"user_id":3807714,"accept_rate":11,"display_name":"Meticulous"},"score":0,"creation_date":1573512089,"post_id":58809098,"comment_id":103898721,"body_markdown":"It is a json string which contains this character. Yes, i was wondering how a regex class/or any construct that can take ranges such as [\\u20 - \\ud7ff ]. That is the main question.","body":"It is a json string which contains this character. Yes, i was wondering how a regex class/or any construct that can take ranges such as [\\u20 - \\ud7ff ]. That is the main question."},{"owner":{"account_id":956558,"reputation":30924,"user_id":981744,"display_name":"Erwin Bolwidt"},"score":0,"creation_date":1573516218,"post_id":58809098,"comment_id":103899776,"body_markdown":"What have you tried in terms of construction? What is going wrong?","body":"What have you tried in terms of construction? What is going wrong?"}],"answers":[{"tags":[],"owner":{"account_id":4705394,"reputation":125,"user_id":3807714,"accept_rate":11,"display_name":"Meticulous"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1573517380,"creation_date":1573517380,"answer_id":58810265,"question_id":58809098,"body_markdown":"Actually, the answer was right in front of me. For some reason, I had assumed that the character classes of a regex will not accept these escaped chars such as `[\\ufffd-\\uffff]` inside `message_json.replaceAll(&quot;[\\ufffd-\\uffff]&quot;, &quot; &quot;);`\r\n\r\nThis works for my case.","title":"Remove invalid characters from message sent to AWS/Amazon SQS","body":"<p>Actually, the answer was right in front of me. For some reason, I had assumed that the character classes of a regex will not accept these escaped chars such as <code>[\\ufffd-\\uffff]</code> inside <code>message_json.replaceAll(\"[\\ufffd-\\uffff]\", \" \");</code></p>\n\n<p>This works for my case.</p>\n"},{"tags":[],"owner":{"account_id":19063891,"reputation":11,"user_id":13919371,"display_name":"lazyzombie"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645580519,"creation_date":1645580519,"answer_id":71230400,"question_id":58809098,"body_markdown":"I encountered this issue and used this regex\r\n\r\n```\r\n/([^\\x09\\x0A\\x0D\\x20-\\uD7FF\\uE000-\\uFFFD\\u{10000}-\\u{10FFFF}])/u```","title":"Remove invalid characters from message sent to AWS/Amazon SQS","body":"<p>I encountered this issue and used this regex</p>\n<pre><code>/([^\\x09\\x0A\\x0D\\x20-\\uD7FF\\uE000-\\uFFFD\\u{10000}-\\u{10FFFF}])/u```\n</code></pre>\n"}],"owner":{"account_id":4705394,"reputation":125,"user_id":3807714,"accept_rate":11,"display_name":"Meticulous"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2431,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":58810265,"answer_count":2,"score":0,"last_activity_date":1645580519,"creation_date":1573508762,"question_id":58809098,"body_markdown":"**Context:** \r\nAmazon SQS has a constraint on ranges of characters it will accept when a message passed in the argument to the `sqsClient.sendMessage(...)`.\r\n(Mentioned [here]).\r\n\r\nExerpt from the above link: \r\n\r\n`A message can include only XML, JSON, and unformatted text. The following Unicode characters are allowed:`\r\n\r\n`#x9 | #xA | #xD | #x20 to #xD7FF | #xE000 to #xFFFD | #x10000 to #x10FFFF`\r\n\r\n`Any characters not included in this list will be rejected.`\r\n\r\n\r\n**Question:**\r\nFor now, we know offending characters are present in the message json which is sent as a message, so we filter them out by \r\n`message_json.replaceAll(&quot;\\uffff&quot;, &quot;&quot;);` and this works fine. (where &#39;\\uffff&#39; is the java representation of the xFFFF/U+FFFF character).\r\n\r\nHowever, instead of only doing for the xFFFF character, I want to do this for the entire ranges mentioned above(`#x9 | #xA | #xD | #x20 to #xD7FF | #xE000 to #xFFFD | #x10000 to #x10FFFF`) but how do I construct a clause that can take range of characters without running replace on each one?\r\n\r\n[here]:https://docs.aws.amazon.com/AWSSimpleQueueService/latest/APIReference/API_SendMessage.html","title":"Remove invalid characters from message sent to AWS/Amazon SQS","body":"<p><strong>Context:</strong> \nAmazon SQS has a constraint on ranges of characters it will accept when a message passed in the argument to the <code>sqsClient.sendMessage(...)</code>.\n(Mentioned <a href=\"https://docs.aws.amazon.com/AWSSimpleQueueService/latest/APIReference/API_SendMessage.html\" rel=\"nofollow noreferrer\">here</a>).</p>\n\n<p>Exerpt from the above link: </p>\n\n<p><code>A message can include only XML, JSON, and unformatted text. The following Unicode characters are allowed:</code></p>\n\n<p><code>#x9 | #xA | #xD | #x20 to #xD7FF | #xE000 to #xFFFD | #x10000 to #x10FFFF</code></p>\n\n<p><code>Any characters not included in this list will be rejected.</code></p>\n\n<p><strong>Question:</strong>\nFor now, we know offending characters are present in the message json which is sent as a message, so we filter them out by \n<code>message_json.replaceAll(\"\\uffff\", \"\");</code> and this works fine. (where '\\uffff' is the java representation of the xFFFF/U+FFFF character).</p>\n\n<p>However, instead of only doing for the xFFFF character, I want to do this for the entire ranges mentioned above(<code>#x9 | #xA | #xD | #x20 to #xD7FF | #xE000 to #xFFFD | #x10000 to #x10FFFF</code>) but how do I construct a clause that can take range of characters without running replace on each one?</p>\n"},{"tags":["java","java-stream","average"],"comments":[{"owner":{"account_id":17773763,"reputation":1154,"user_id":12906648,"display_name":"Maxwell D. Dorliea"},"score":0,"creation_date":1645574176,"post_id":71229739,"comment_id":125906912,"body_markdown":"Is it a list of object or array? Please try adding sample of your dataset please","body":"Is it a list of object or array? Please try adding sample of your dataset please"},{"owner":{"account_id":22909694,"reputation":652,"user_id":17047177,"display_name":"A.Casanova"},"score":0,"creation_date":1645574176,"post_id":71229739,"comment_id":125906913,"body_markdown":"Please, could you paste the error code of the program","body":"Please, could you paste the error code of the program"},{"owner":{"account_id":24345909,"reputation":1,"user_id":18282491,"display_name":"Utsav Kothari"},"score":0,"creation_date":1645574511,"post_id":71229739,"comment_id":125906987,"body_markdown":"It is an array.\nError - Cannot resolve size in Stream.","body":"It is an array. Error - Cannot resolve size in Stream."},{"owner":{"account_id":1928650,"reputation":894,"user_id":1738539,"accept_rate":0,"display_name":"user1738539"},"score":0,"creation_date":1645575409,"post_id":71229739,"comment_id":125907215,"body_markdown":"`indexOfSalesInTheYear` is a `Stream`. You need to collect to a list first","body":"<code>indexOfSalesInTheYear</code> is a <code>Stream</code>. You need to collect to a list first"},{"owner":{"account_id":24345909,"reputation":1,"user_id":18282491,"display_name":"Utsav Kothari"},"score":0,"creation_date":1645576162,"post_id":71229739,"comment_id":125907367,"body_markdown":"I&#39;m unable to convert it to a list because more than 1 data type is present, it is being converted to an object and not a list.","body":"I&#39;m unable to convert it to a list because more than 1 data type is present, it is being converted to an object and not a list."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1645576694,"post_id":71229739,"comment_id":125907485,"body_markdown":"It looks like `Sale` contains separate arrays for values, years, and branches, instead of being a list of objects, with each object having a value, year, and branch?","body":"It looks like <code>Sale</code> contains separate arrays for values, years, and branches, instead of being a list of objects, with each object having a value, year, and branch?"},{"owner":{"account_id":24345909,"reputation":1,"user_id":18282491,"display_name":"Utsav Kothari"},"score":0,"creation_date":1645576971,"post_id":71229739,"comment_id":125907512,"body_markdown":"Yeah! Sale has arrays of values, years, branch name, month, house no., and post code as mentioned in the question.","body":"Yeah! Sale has arrays of values, years, branch name, month, house no., and post code as mentioned in the question."}],"answers":[{"tags":[],"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645579013,"creation_date":1645577802,"answer_id":71230147,"question_id":71229739,"body_markdown":"Here is how I would approach it. Instead of separate lists of values, years, and branches, have a list of objects that contain these fields:\r\n\r\n    record Sale(int value, int year, String branch) {\r\n    }\r\n\r\nHere I am using a `record` but if you prefer, need to have mutable `Sale` instances, or are using an earlier version of Java, you could adapt this code to use classes with ordinary getters and setters.\r\n\r\n    List&lt;Sale&gt; sales = List.of(\r\n        new Sale(12, 2020, &quot;east&quot;),\r\n        new Sale(15, 2020, &quot;west&quot;),\r\n        new Sale(13, 2020, &quot;east&quot;),\r\n        new Sale(16, 2020, &quot;west&quot;),\r\n        new Sale(14, 2020, &quot;east&quot;),\r\n        new Sale(17, 2020, &quot;west&quot;),\r\n        new Sale(18, 2021, &quot;east&quot;),\r\n        new Sale(19, 2021, &quot;west&quot;));\r\n\r\n    double averageOfSales(int year, String branchName) {\r\n        OptionalDouble average = sales.stream()\r\n            .filter(sale -&gt; sale.year() == year)\r\n            .filter(sale -&gt; sale.branch().equals(branchName))\r\n            .mapToInt(sale -&gt; sale.value())\r\n            .average();\r\n        return average.orElseThrow(() -&gt;\r\n            new NoSuchElementException(&quot;no matching year and branch&quot;));\r\n    }\r\n\r\nYou may want to simply return the `OptionalDouble` or throw a different exception; it all depends on how you want to handle the case where there are no values for the year and branch name provided. You may even want to just `return 0.0` or NaN or -1.0 or some other sentinel value in that case.\r\n\r\nThere is no need to sum the values yourself or divide by the number of values to find the mean since `IntStream` already has methods for finding the sum or average.\r\n\r\nKeeping the different pieces of data broken out in separate, parallel structures is a common pattern among new Java programmers but it really goes against the concept of object oriented programming or even just abstract data types. You don&#39;t need to keep separate collections of simple values; you can invent your own types that encompass the value, year, branch, month, house number, post code, and whatever else you want to model as part of the domain of the data you&#39;re working with.","title":"How do I find the average of filtered elements from list in Java","body":"<p>Here is how I would approach it. Instead of separate lists of values, years, and branches, have a list of objects that contain these fields:</p>\n<pre><code>record Sale(int value, int year, String branch) {\n}\n</code></pre>\n<p>Here I am using a <code>record</code> but if you prefer, need to have mutable <code>Sale</code> instances, or are using an earlier version of Java, you could adapt this code to use classes with ordinary getters and setters.</p>\n<pre><code>List&lt;Sale&gt; sales = List.of(\n    new Sale(12, 2020, &quot;east&quot;),\n    new Sale(15, 2020, &quot;west&quot;),\n    new Sale(13, 2020, &quot;east&quot;),\n    new Sale(16, 2020, &quot;west&quot;),\n    new Sale(14, 2020, &quot;east&quot;),\n    new Sale(17, 2020, &quot;west&quot;),\n    new Sale(18, 2021, &quot;east&quot;),\n    new Sale(19, 2021, &quot;west&quot;));\n\ndouble averageOfSales(int year, String branchName) {\n    OptionalDouble average = sales.stream()\n        .filter(sale -&gt; sale.year() == year)\n        .filter(sale -&gt; sale.branch().equals(branchName))\n        .mapToInt(sale -&gt; sale.value())\n        .average();\n    return average.orElseThrow(() -&gt;\n        new NoSuchElementException(&quot;no matching year and branch&quot;));\n}\n</code></pre>\n<p>You may want to simply return the <code>OptionalDouble</code> or throw a different exception; it all depends on how you want to handle the case where there are no values for the year and branch name provided. You may even want to just <code>return 0.0</code> or NaN or -1.0 or some other sentinel value in that case.</p>\n<p>There is no need to sum the values yourself or divide by the number of values to find the mean since <code>IntStream</code> already has methods for finding the sum or average.</p>\n<p>Keeping the different pieces of data broken out in separate, parallel structures is a common pattern among new Java programmers but it really goes against the concept of object oriented programming or even just abstract data types. You don't need to keep separate collections of simple values; you can invent your own types that encompass the value, year, branch, month, house number, post code, and whatever else you want to model as part of the domain of the data you're working with.</p>\n"},{"tags":[],"owner":{"account_id":1928650,"reputation":894,"user_id":1738539,"accept_rate":0,"display_name":"user1738539"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645578574,"creation_date":1645578574,"answer_id":71230230,"question_id":71229739,"body_markdown":"In your existing code, you are never iterating the `allValues` list.\r\nSince you are using streams you can do this. \r\n```\r\ndouble average = IntStream.of(0, Sale.allValues.size()-1) // go up to the last index only\r\n                .filter(i -&gt; Sale.allYears.get(i).equals(yearEntered))\r\n                .filter(i -&gt; Sale.allBranches.get(i).equals(branchNameEntered))\r\n                .mapToDouble(i -&gt; Sale.allValues.get(i)) // now you have every sale value for yearEntered and branchNameEntered\r\n                .average().orElse(-1); // or if not present, throw error, or get the optional, etc\r\n\r\n```\r\nReally you shouldn&#39;t have separate lists, you should have a list of Sale objects.","title":"How do I find the average of filtered elements from list in Java","body":"<p>In your existing code, you are never iterating the <code>allValues</code> list.\nSince you are using streams you can do this.</p>\n<pre><code>double average = IntStream.of(0, Sale.allValues.size()-1) // go up to the last index only\n                .filter(i -&gt; Sale.allYears.get(i).equals(yearEntered))\n                .filter(i -&gt; Sale.allBranches.get(i).equals(branchNameEntered))\n                .mapToDouble(i -&gt; Sale.allValues.get(i)) // now you have every sale value for yearEntered and branchNameEntered\n                .average().orElse(-1); // or if not present, throw error, or get the optional, etc\n\n</code></pre>\n<p>Really you shouldn't have separate lists, you should have a list of Sale objects.</p>\n"}],"owner":{"account_id":24345909,"reputation":1,"user_id":18282491,"display_name":"Utsav Kothari"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":195,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1645579931,"creation_date":1645573786,"question_id":71229739,"body_markdown":"I wish to find the average of sales by a particular branch in a given year. There is a list which has all the branches and all the years of sale. I&#39;ve tried to use IntStream to filter the elements with the required year and branch but I&#39;m unable to find the average, There is an error showing in indexOfSaleInTheYear.size(), and I am not sure if the average part code is correct. Please help. Thank You.\r\n\r\n    Scanner avgSale = new Scanner(System.in);\r\n        System.out.println(&quot;Please enter the year for average sale: \\n&quot;);\r\n        int yearEntered = avgSale.nextInt();\r\n\r\n        Scanner branchNameForAvg = new Scanner(System.in);\r\n        System.out.println(&quot;Please enter the branch name whose average sale is to be found, case sensitive: \\n&quot;);\r\n        String branchNameEntered = branchNameForAvg.nextLine();\r\n\r\n        Stream&lt;Integer&gt; indexOfSalesInTheYear = IntStream.of(0, Sale.allValues.size()).boxed()\r\n                .filter(i -&gt; Sale.allYears.get(i).equals(yearEntered))\r\n                .filter(i -&gt; Sale.allBranches.get(i).equals(branchNameEntered));\r\n        \r\n        int sum = 0;\r\n        for(int j = 0; j &lt; indexOfSalesInTheYear.size(); j++){\r\n            sum += j;\r\n        }\r\n        double avgSaleFinal = sum/indexOfSalesInTheYear.size();\r\n\r\n        System.out.println(&quot;The average sale for the year &quot; + yearEntered + &quot; is &quot; + avgSaleFinal + &quot;.&quot;);\r\n        }","title":"How do I find the average of filtered elements from list in Java","body":"<p>I wish to find the average of sales by a particular branch in a given year. There is a list which has all the branches and all the years of sale. I've tried to use IntStream to filter the elements with the required year and branch but I'm unable to find the average, There is an error showing in indexOfSaleInTheYear.size(), and I am not sure if the average part code is correct. Please help. Thank You.</p>\n<pre><code>Scanner avgSale = new Scanner(System.in);\n    System.out.println(&quot;Please enter the year for average sale: \\n&quot;);\n    int yearEntered = avgSale.nextInt();\n\n    Scanner branchNameForAvg = new Scanner(System.in);\n    System.out.println(&quot;Please enter the branch name whose average sale is to be found, case sensitive: \\n&quot;);\n    String branchNameEntered = branchNameForAvg.nextLine();\n\n    Stream&lt;Integer&gt; indexOfSalesInTheYear = IntStream.of(0, Sale.allValues.size()).boxed()\n            .filter(i -&gt; Sale.allYears.get(i).equals(yearEntered))\n            .filter(i -&gt; Sale.allBranches.get(i).equals(branchNameEntered));\n    \n    int sum = 0;\n    for(int j = 0; j &lt; indexOfSalesInTheYear.size(); j++){\n        sum += j;\n    }\n    double avgSaleFinal = sum/indexOfSalesInTheYear.size();\n\n    System.out.println(&quot;The average sale for the year &quot; + yearEntered + &quot; is &quot; + avgSaleFinal + &quot;.&quot;);\n    }\n</code></pre>\n"},{"tags":["java","recursion"],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1645579457,"creation_date":1645390631,"answer_id":71198714,"question_id":71198637,"body_markdown":"The **base case** of your recursive method is incorrect: `sum == 0` isn&#39;t a sufficient condition you also have to check whether `k == 0`. If the `sum` is `0` but you still have to use a few more elements then the result `true` is incorrect.\r\n\r\nThe **recursive part** of the method has some mistakes in it as well. The number of elements summed up `k` never gets decremented. \r\n\r\nAlso, you have to track a *position* in the array. I mean you need to iterate over the array. And while iterating for each element there are only **two options**: *apply it* (decrement the `k` and subtract current value from the *sum*) or *discard it*. In both cases, you have to increment the *position* that you are passing as an argument.\r\n\r\nThat is how it could be fixed:\r\n```\r\n    public static boolean groupSum(int[] nums, int k, int pos, int sum) {\r\n        if (sum == 0 &amp;&amp; k == 0) {\r\n            return true;\r\n        }\r\n        if (sum &lt; 0) {\r\n            return false;\r\n        }\r\n\r\n        boolean result = false;\r\n        for (int i = pos; i &lt; nums.length; i++) {\r\n            boolean takeElement = groupSum(nums, k - 1, pos + 1, sum - nums[i]);\r\n            boolean discardElement = groupSum(nums, k, pos + 1, sum);\r\n            result = takeElement || discardElement;\r\n            if (result) { // a combination that yield the target sum was found\r\n                break;\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n```\r\nThere&#39;s another option how to implement this method. But **caution**: it will be *slower* and significantly *increases memory consumption*. \r\n\r\nThis approach requires creating a **copy** of the given array with a *length decremented* by **1** at each recursive method call and pass it as an argument. In this version, an *element at position* `0` is always used when the method is called, therefore it doesn&#39;t require to track the position in the array. The main logic remains the same: a *new element* can be used either to *contribute* the `sum` or can be *discarded*.\r\n```\r\n    public static boolean groupSum(int[] nums, int k, int sum) {\r\n        if (sum == 0 &amp;&amp; k == 0) {\r\n            return true;\r\n        }\r\n        if (sum &lt; 0 || nums.length == 0) {\r\n            return false;\r\n        }\r\n\r\n        boolean takeElement = groupSum(Arrays.copyOfRange(nums, 1, nums.length), k - 1, sum - nums[0]);\r\n        boolean discardElement = groupSum(Arrays.copyOfRange(nums, 1, nums.length), k, sum);\r\n\r\n        return takeElement || discardElement;\r\n    }\r\n```\r\n```\r\n    public static void main(String[] args) {\r\n        // sum of 1, 2, 3, 4, 5 yields 15 - expected true\r\n        System.out.println(groupSum(new int[]{1, 2, 3, 4, 5, 6, 7, 8, 9}, 5, 0, 15));\r\n        // it&#39;s impossible with only one element - expected false\r\n        System.out.println(groupSum(new int[]{1, 2, 3, 4, 5, 6, 7, 8, 9}, 1, 0, 10));\r\n        // sum of 4, 5, 6 yields 15 - expected true\r\n        System.out.println(groupSum(new int[]{1, 2, 3, 4, 5, 6, 7, 8, 9}, 3, 0, 15));\r\n    }\r\n```\r\n**output**\r\n```\r\ntrue\r\nfalse\r\ntrue\r\n```","title":"Find if an array can produce a sum n with k number of elements","body":"<p>The <strong>base case</strong> of your recursive method is incorrect: <code>sum == 0</code> isn't a sufficient condition you also have to check whether <code>k == 0</code>. If the <code>sum</code> is <code>0</code> but you still have to use a few more elements then the result <code>true</code> is incorrect.</p>\n<p>The <strong>recursive part</strong> of the method has some mistakes in it as well. The number of elements summed up <code>k</code> never gets decremented.</p>\n<p>Also, you have to track a <em>position</em> in the array. I mean you need to iterate over the array. And while iterating for each element there are only <strong>two options</strong>: <em>apply it</em> (decrement the <code>k</code> and subtract current value from the <em>sum</em>) or <em>discard it</em>. In both cases, you have to increment the <em>position</em> that you are passing as an argument.</p>\n<p>That is how it could be fixed:</p>\n<pre><code>    public static boolean groupSum(int[] nums, int k, int pos, int sum) {\n        if (sum == 0 &amp;&amp; k == 0) {\n            return true;\n        }\n        if (sum &lt; 0) {\n            return false;\n        }\n\n        boolean result = false;\n        for (int i = pos; i &lt; nums.length; i++) {\n            boolean takeElement = groupSum(nums, k - 1, pos + 1, sum - nums[i]);\n            boolean discardElement = groupSum(nums, k, pos + 1, sum);\n            result = takeElement || discardElement;\n            if (result) { // a combination that yield the target sum was found\n                break;\n            }\n        }\n        return result;\n    }\n</code></pre>\n<p>There's another option how to implement this method. But <strong>caution</strong>: it will be <em>slower</em> and significantly <em>increases memory consumption</em>.</p>\n<p>This approach requires creating a <strong>copy</strong> of the given array with a <em>length decremented</em> by <strong>1</strong> at each recursive method call and pass it as an argument. In this version, an <em>element at position</em> <code>0</code> is always used when the method is called, therefore it doesn't require to track the position in the array. The main logic remains the same: a <em>new element</em> can be used either to <em>contribute</em> the <code>sum</code> or can be <em>discarded</em>.</p>\n<pre><code>    public static boolean groupSum(int[] nums, int k, int sum) {\n        if (sum == 0 &amp;&amp; k == 0) {\n            return true;\n        }\n        if (sum &lt; 0 || nums.length == 0) {\n            return false;\n        }\n\n        boolean takeElement = groupSum(Arrays.copyOfRange(nums, 1, nums.length), k - 1, sum - nums[0]);\n        boolean discardElement = groupSum(Arrays.copyOfRange(nums, 1, nums.length), k, sum);\n\n        return takeElement || discardElement;\n    }\n</code></pre>\n<pre><code>    public static void main(String[] args) {\n        // sum of 1, 2, 3, 4, 5 yields 15 - expected true\n        System.out.println(groupSum(new int[]{1, 2, 3, 4, 5, 6, 7, 8, 9}, 5, 0, 15));\n        // it's impossible with only one element - expected false\n        System.out.println(groupSum(new int[]{1, 2, 3, 4, 5, 6, 7, 8, 9}, 1, 0, 10));\n        // sum of 4, 5, 6 yields 15 - expected true\n        System.out.println(groupSum(new int[]{1, 2, 3, 4, 5, 6, 7, 8, 9}, 3, 0, 15));\n    }\n</code></pre>\n<p><strong>output</strong></p>\n<pre><code>true\nfalse\ntrue\n</code></pre>\n"}],"owner":{"display_name":"user13566276"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1168,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71198714,"answer_count":1,"score":1,"last_activity_date":1645579457,"creation_date":1645390119,"question_id":71198637,"body_markdown":"Given an int array that may contain duplicates. I need to find out whether the array can produce a `sum` with `k` elements?\r\n\r\nI&#39;m trying to use recursion for now but I&#39;m not getting anywhere at the moment. I have a problem with getting the base-case right.\r\n```\r\n    static boolean groupSum(int[] nums, int k, int sum) {\r\n    \r\n    \t\tif (sum == 0)\r\n    \t\t\treturn true;\r\n    \r\n    \t\tif (k &gt; nums.length || sum != 0)\r\n    \t\t\treturn false;\r\n    \t\tif (groupSum(nums, k, sum - nums[k - k] - nums[k - k + 1] - nums[k - k + 2]))\r\n    \t\t\treturn true;\r\n    \t\tif (groupSum(nums, k, sum - nums[k - k + 1] - nums[k - k + 2] - nums[k - k + 3]))\r\n    \t\t\treturn true;\r\n    \r\n    \t\telse\r\n    \t\t\treturn false;\r\n    \r\n    \t}\r\n```","title":"Find if an array can produce a sum n with k number of elements","body":"<p>Given an int array that may contain duplicates. I need to find out whether the array can produce a <code>sum</code> with <code>k</code> elements?</p>\n<p>I'm trying to use recursion for now but I'm not getting anywhere at the moment. I have a problem with getting the base-case right.</p>\n<pre><code>    static boolean groupSum(int[] nums, int k, int sum) {\n    \n            if (sum == 0)\n                return true;\n    \n            if (k &gt; nums.length || sum != 0)\n                return false;\n            if (groupSum(nums, k, sum - nums[k - k] - nums[k - k + 1] - nums[k - k + 2]))\n                return true;\n            if (groupSum(nums, k, sum - nums[k - k + 1] - nums[k - k + 2] - nums[k - k + 3]))\n                return true;\n    \n            else\n                return false;\n    \n        }\n</code></pre>\n"},{"tags":["java","hadoop","mockito","log4j","powermock"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1645581708,"post_id":71230246,"comment_id":125908217,"body_markdown":"I would wrap FileSystem in my own interface and class to avoid PowerMockito altogether.","body":"I would wrap FileSystem in my own interface and class to avoid PowerMockito altogether."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1645586054,"post_id":71230246,"comment_id":125908898,"body_markdown":"Given that the ultimate cause is `Caused by: java.lang.RuntimeException: org.apache.hadoop.fs.FileSystem$Cache$Key class is frozen` I doubt that this is anything to do with log4j.","body":"Given that the ultimate cause is <code>Caused by: java.lang.RuntimeException: org.apache.hadoop.fs.FileSystem$Cache$Key class is frozen</code> I doubt that this is anything to do with log4j."}],"owner":{"account_id":14662194,"reputation":13,"user_id":10589043,"display_name":"V D"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":678,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1645578704,"creation_date":1645578704,"question_id":71230246,"body_markdown":"This is the entire error:\r\n```\r\n\r\n\r\nMockito cannot mock this class: class org.apache.hadoop.fs.FileSystem.\r\n\r\nMockito can only mock non-private &amp; non-final classes.\r\nIf you&#39;re not sure why you&#39;re getting this error, please report to the mailing list.\r\n\r\n\r\nJava               : 1.8\r\nJVM vendor name    : Azul Systems, Inc.\r\nJVM vendor version : 25.282-b08\r\nJVM name           : OpenJDK 64-Bit Server VM\r\nJVM version        : 1.8.0_282-b08\r\nJVM info           : mixed mode\r\nOS name            : Mac OS X\r\nOS version         : 10.16\r\n\r\n\r\nUnderlying exception : java.lang.IllegalStateException: Error invoking java.lang.reflect.Method#getAnnotatedReturnType\r\norg.mockito.exceptions.base.MockitoException: \r\nMockito cannot mock this class: class org.apache.hadoop.fs.FileSystem.\r\n\r\nMockito can only mock non-private &amp; non-final classes.\r\nIf you&#39;re not sure why you&#39;re getting this error, please report to the mailing list.\r\n\r\n\r\nJava               : 1.8\r\nJVM vendor name    : Azul Systems, Inc.\r\nJVM vendor version : 25.282-b08\r\nJVM name           : OpenJDK 64-Bit Server VM\r\nJVM version        : 1.8.0_282-b08\r\nJVM info           : mixed mode\r\nOS name            : Mac OS X\r\nOS version         : 10.16\r\n\r\n\r\nUnderlying exception : java.lang.IllegalStateException: Error invoking java.lang.reflect.Method#getAnnotatedReturnType\r\n\tat com.platfora.proton.builder.spark.TestCredentialManager.initTest(TestCredentialManager.java:109)\r\n\tat org.junit.internal.runners.MethodRoadie.runBefores(MethodRoadie.java:133)\r\n\tat org.junit.internal.runners.MethodRoadie.runBeforesThenTestThenAfters(MethodRoadie.java:96)\r\n\tat org.junit.internal.runners.MethodRoadie.runTest(MethodRoadie.java:87)\r\n\tat org.junit.internal.runners.MethodRoadie.run(MethodRoadie.java:50)\r\n\tat org.junit.internal.runners.ClassRoadie.runUnprotected(ClassRoadie.java:34)\r\n\tat org.junit.internal.runners.ClassRoadie.runProtected(ClassRoadie.java:44)\r\n\tat org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.runTestClass(JUnitTestClassExecutor.java:110)\r\n\tat org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.execute(JUnitTestClassExecutor.java:58)\r\n\tat org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.execute(JUnitTestClassExecutor.java:38)\r\n\tat org.gradle.api.internal.tasks.testing.junit.AbstractJUnitTestClassProcessor.processTestClass(AbstractJUnitTestClassProcessor.java:62)\r\n\tat org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.processTestClass(SuiteTestClassProcessor.java:51)\r\n\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\r\n\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\r\n\tat org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\r\n\tat org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.processTestClass(TestWorker.java:118)\r\n\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\r\n\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\r\n\tat org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:182)\r\n\tat org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:164)\r\n\tat org.gradle.internal.remote.internal.hub.MessageHub$Handler.run(MessageHub.java:412)\r\n\tat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\r\n\tat org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n\tat org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:56)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\nCaused by: java.lang.IllegalStateException: Error invoking java.lang.reflect.Method#getAnnotatedReturnType\r\n\tat net.bytebuddy.description.type.TypeDescription$Generic$AnnotationReader$Dispatcher$ForJava8CapableVm$AnnotatedReturnType.resolve(TypeDescription.java:2984)\r\n\tat net.bytebuddy.description.type.TypeDescription$Generic$AnnotationReader$Delegator.asList(TypeDescription.java:3238)\r\n\tat net.bytebuddy.description.type.TypeDescription$Generic$OfNonGenericType$ForLoadedType.getDeclaredAnnotations(TypeDescription.java:3987)\r\n\tat net.bytebuddy.implementation.attribute.AnnotationAppender$ForTypeAnnotations.apply(AnnotationAppender.java:725)\r\n\tat net.bytebuddy.implementation.attribute.AnnotationAppender$ForTypeAnnotations.onNonGenericType(AnnotationAppender.java:706)\r\n\tat net.bytebuddy.implementation.attribute.AnnotationAppender$ForTypeAnnotations.onNonGenericType(AnnotationAppender.java:409)\r\n\tat net.bytebuddy.description.type.TypeDescription$Generic$OfNonGenericType.accept(TypeDescription.java:3769)\r\n\tat net.bytebuddy.implementation.attribute.MethodAttributeAppender$ForInstrumentedMethod.apply(MethodAttributeAppender.java:196)\r\n\tat net.bytebuddy.implementation.attribute.MethodAttributeAppender$Compound.apply(MethodAttributeAppender.java:484)\r\n\tat net.bytebuddy.dynamic.scaffold.TypeWriter$MethodPool$Record$ForDefinedMethod$WithBody.applyAttributes(TypeWriter.java:701)\r\n\tat net.bytebuddy.dynamic.scaffold.TypeWriter$MethodPool$Record$ForDefinedMethod$WithBody.applyBody(TypeWriter.java:691)\r\n\tat net.bytebuddy.dynamic.scaffold.TypeWriter$MethodPool$Record$ForDefinedMethod.apply(TypeWriter.java:600)\r\n\tat net.bytebuddy.dynamic.scaffold.TypeWriter$Default$ForCreation.create(TypeWriter.java:5660)\r\n\tat net.bytebuddy.dynamic.scaffold.TypeWriter$Default.make(TypeWriter.java:2166)\r\n\tat net.bytebuddy.dynamic.scaffold.subclass.SubclassDynamicTypeBuilder.make(SubclassDynamicTypeBuilder.java:232)\r\n\tat net.bytebuddy.dynamic.scaffold.subclass.SubclassDynamicTypeBuilder.make(SubclassDynamicTypeBuilder.java:204)\r\n\tat net.bytebuddy.dynamic.DynamicType$Builder$AbstractBase.make(DynamicType.java:3595)\r\n\tat net.bytebuddy.dynamic.DynamicType$Builder$AbstractBase$Delegator.make(DynamicType.java:3819)\r\n\tat org.mockito.internal.creation.bytebuddy.SubclassBytecodeGenerator.mockClass(SubclassBytecodeGenerator.java:173)\r\n\tat org.mockito.internal.creation.bytebuddy.TypeCachingBytecodeGenerator$1.call(TypeCachingBytecodeGenerator.java:37)\r\n\tat org.mockito.internal.creation.bytebuddy.TypeCachingBytecodeGenerator$1.call(TypeCachingBytecodeGenerator.java:34)\r\n\tat net.bytebuddy.TypeCache.findOrInsert(TypeCache.java:152)\r\n\tat net.bytebuddy.TypeCache$WithInlineExpunction.findOrInsert(TypeCache.java:365)\r\n\tat net.bytebuddy.TypeCache.findOrInsert(TypeCache.java:174)\r\n\tat net.bytebuddy.TypeCache$WithInlineExpunction.findOrInsert(TypeCache.java:376)\r\n\tat org.mockito.internal.creation.bytebuddy.TypeCachingBytecodeGenerator.mockClass(TypeCachingBytecodeGenerator.java:32)\r\n\tat org.mockito.internal.creation.bytebuddy.SubclassByteBuddyMockMaker.createMockType(SubclassByteBuddyMockMaker.java:71)\r\n\tat org.mockito.internal.creation.bytebuddy.SubclassByteBuddyMockMaker.createMock(SubclassByteBuddyMockMaker.java:42)\r\n\tat org.mockito.internal.creation.bytebuddy.ByteBuddyMockMaker.createMock(ByteBuddyMockMaker.java:25)\r\n\tat org.powermock.api.mockito.mockmaker.PowerMockMaker.createMock(PowerMockMaker.java:41)\r\n\tat org.mockito.internal.util.MockUtil.createMock(MockUtil.java:35)\r\n\tat org.mockito.internal.MockitoCore.mock(MockitoCore.java:63)\r\n\tat org.mockito.Mockito.mock(Mockito.java:1908)\r\n\tat org.powermock.api.mockito.internal.mockcreation.DefaultMockCreator.createMethodInvocationControl(DefaultMockCreator.java:108)\r\n\tat org.powermock.api.mockito.internal.mockcreation.DefaultMockCreator.doCreateMock(DefaultMockCreator.java:61)\r\n\tat org.powermock.api.mockito.internal.mockcreation.DefaultMockCreator.createMock(DefaultMockCreator.java:53)\r\n\tat org.powermock.api.mockito.internal.mockcreation.DefaultMockCreator.mock(DefaultMockCreator.java:40)\r\n\tat org.powermock.api.mockito.PowerMockito.mock(PowerMockito.java:126)\r\n\tat com.platfora.proton.builder.spark.TestCredentialManager.initTest(TestCredentialManager.java:109)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.junit.internal.runners.MethodRoadie.runBefores(MethodRoadie.java:133)\r\n\tat org.junit.internal.runners.MethodRoadie.runBeforesThenTestThenAfters(MethodRoadie.java:96)\r\n\tat org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl$PowerMockJUnit44MethodRunner.executeTest(PowerMockJUnit44RunnerDelegateImpl.java:310)\r\n\tat org.powermock.modules.junit4.internal.impl.PowerMockJUnit47RunnerDelegateImpl$PowerMockJUnit47MethodRunner.executeTestInSuper(PowerMockJUnit47RunnerDelegateImpl.java:131)\r\n\tat org.powermock.modules.junit4.internal.impl.PowerMockJUnit47RunnerDelegateImpl$PowerMockJUnit47MethodRunner.access$100(PowerMockJUnit47RunnerDelegateImpl.java:59)\r\n\tat org.powermock.modules.junit4.internal.impl.PowerMockJUnit47RunnerDelegateImpl$PowerMockJUnit47MethodRunner$TestExecutorStatement.evaluate(PowerMockJUnit47RunnerDelegateImpl.java:147)\r\n\tat org.powermock.modules.junit4.internal.impl.PowerMockJUnit47RunnerDelegateImpl$PowerMockJUnit47MethodRunner.evaluateStatement(PowerMockJUnit47RunnerDelegateImpl.java:107)\r\n\tat org.powermock.modules.junit4.internal.impl.PowerMockJUnit47RunnerDelegateImpl$PowerMockJUnit47MethodRunner.executeTest(PowerMockJUnit47RunnerDelegateImpl.java:82)\r\n\tat org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl$PowerMockJUnit44MethodRunner.runBeforesThenTestThenAfters(PowerMockJUnit44RunnerDelegateImpl.java:298)\r\n\tat org.junit.internal.runners.MethodRoadie.runTest(MethodRoadie.java:87)\r\n\tat org.junit.internal.runners.MethodRoadie.run(MethodRoadie.java:50)\r\n\tat org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl.invokeTestMethod(PowerMockJUnit44RunnerDelegateImpl.java:218)\r\n\tat org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl.runMethods(PowerMockJUnit44RunnerDelegateImpl.java:160)\r\n\tat org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl$1.run(PowerMockJUnit44RunnerDelegateImpl.java:134)\r\n\tat org.junit.internal.runners.ClassRoadie.runUnprotected(ClassRoadie.java:34)\r\n\tat org.junit.internal.runners.ClassRoadie.runProtected(ClassRoadie.java:44)\r\n\tat org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl.run(PowerMockJUnit44RunnerDelegateImpl.java:136)\r\n\tat org.powermock.modules.junit4.common.internal.impl.JUnit4TestSuiteChunkerImpl.run(JUnit4TestSuiteChunkerImpl.java:117)\r\n\tat org.powermock.modules.junit4.common.internal.impl.AbstractCommonPowerMockRunner.run(AbstractCommonPowerMockRunner.java:57)\r\n\tat org.powermock.modules.junit4.PowerMockRunner.run(PowerMockRunner.java:59)\r\n\tat org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.runTestClass(JUnitTestClassExecutor.java:110)\r\n\tat org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.execute(JUnitTestClassExecutor.java:58)\r\n\tat org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.execute(JUnitTestClassExecutor.java:38)\r\n\tat org.gradle.api.internal.tasks.testing.junit.AbstractJUnitTestClassProcessor.processTestClass(AbstractJUnitTestClassProcessor.java:62)\r\n\tat org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.processTestClass(SuiteTestClassProcessor.java:51)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\r\n\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\r\n\tat org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\r\n\tat org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\r\n\tat com.sun.proxy.$Proxy2.processTestClass(Unknown Source)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.processTestClass(TestWorker.java:118)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\t... 11 more\r\nCaused by: java.lang.IllegalStateException: Failed to transform class with name org.apache.hadoop.fs.FileSystem$Cache. Reason: org.apache.hadoop.fs.FileSystem$Cache$Key class is frozen\r\n\tat org.powermock.core.classloader.javassist.JavassistMockClassLoader.defineAndTransformClass(JavassistMockClassLoader.java:119)\r\n\tat org.powermock.core.classloader.MockClassLoader.loadMockClass(MockClassLoader.java:174)\r\n\tat org.powermock.core.classloader.MockClassLoader.loadClassByThisClassLoader(MockClassLoader.java:102)\r\n\tat org.powermock.core.classloader.DeferSupportingClassLoader.loadClass1(DeferSupportingClassLoader.java:147)\r\n\tat org.powermock.core.classloader.DeferSupportingClassLoader.loadClass(DeferSupportingClassLoader.java:98)\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:352)\r\n\tat java.lang.Class.getDeclaringClass0(Native Method)\r\n\tat java.lang.Class.getDeclaringClass(Class.java:1235)\r\n\tat java.lang.Class.getEnclosingClass(Class.java:1277)\r\n\tat sun.reflect.annotation.AnnotatedTypeFactory.addNesting(AnnotatedTypeFactory.java:96)\r\n\tat sun.reflect.annotation.AnnotatedTypeFactory.buildAnnotatedType(AnnotatedTypeFactory.java:65)\r\n\tat sun.reflect.annotation.TypeAnnotationParser.buildAnnotatedType(TypeAnnotationParser.java:79)\r\n\tat java.lang.reflect.Executable.getAnnotatedReturnType0(Executable.java:640)\r\n\tat java.lang.reflect.Method.getAnnotatedReturnType(Method.java:648)\r\n\tat sun.reflect.GeneratedMethodAccessor19.invoke(Unknown Source)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat net.bytebuddy.description.type.TypeDescription$Generic$AnnotationReader$Dispatcher$ForJava8CapableVm$AnnotatedReturnType.resolve(TypeDescription.java:2980)\r\n\t... 92 more\r\nCaused by: java.lang.RuntimeException: org.apache.hadoop.fs.FileSystem$Cache$Key class is frozen\r\n\tat javassist.CtClassType.checkModify(CtClassType.java:334)\r\n\tat javassist.CtBehavior.setModifiers(CtBehavior.java:178)\r\n\tat org.powermock.core.transformers.javassist.ConstructorsMockTransformer.transform(ConstructorsMockTransformer.java:64)\r\n\tat org.powermock.core.transformers.javassist.ConstructorsMockTransformer.transform(ConstructorsMockTransformer.java:51)\r\n\tat org.powermock.core.transformers.javassist.AbstractJavaAssistMockTransformer.transform(AbstractJavaAssistMockTransformer.java:40)\r\n\tat org.powermock.core.transformers.support.DefaultMockTransformerChain.transform(DefaultMockTransformerChain.java:43)\r\n\tat org.powermock.core.classloader.MockClassLoader.transformClass(MockClassLoader.java:184)\r\n\tat org.powermock.core.classloader.javassist.JavassistMockClassLoader.defineAndTransformClass(JavassistMockClassLoader.java:102)\r\n\t... 109 more\r\n\r\n\r\n```\r\nThis seems to be related to us upgrading our log4j version. The test works fine in a branch with the log4j version being 1.2.17. The current version is 2.16.0. We must keep the log4j version at 2.16 – we updated it to remove a security vulnerability. \r\n\r\nThis is the Apache Hadoop FileSystem class: \r\n\r\n```@SuppressWarnings(&quot;DeprecatedIsStillUsed&quot;)\r\n@InterfaceAudience.Public\r\n@InterfaceStability.Stable\r\npublic abstract class FileSystem extends Configured\r\n    implements Closeable, DelegationTokenIssuer {\r\n  public static final String FS_DEFAULT_NAME_KEY =\r\n                   CommonConfigurationKeys.FS_DEFAULT_NAME_KEY;\r\n  public static final String DEFAULT_FS =\r\n                   CommonConfigurationKeys.FS_DEFAULT_NAME_DEFAULT;\r\n\r\n  /**\r\n   * This log is widely used in the org.apache.hadoop.fs code and tests,\r\n   * so must be considered something to only be changed with care.\r\n   */\r\n  @InterfaceAudience.Private\r\n  public static final Log LOG = LogFactory.getLog(FileSystem.class);\r\n\r\n  /**\r\n   * The SLF4J logger to use in logging within the FileSystem class itself.\r\n   */\r\n  private static final Logger LOGGER =\r\n      LoggerFactory.getLogger(FileSystem.class);\r\n```\r\nAs you can see on the bottom line above, we initialize the logger. \r\n\r\n\r\nThis is the test class that is failing: \r\n```\r\n\r\n@PrepareForTest({ UserGroupInformation.class, CredentialManager.class, KerberosUtil.class, FileSystem.class,\r\n    HadoopBDSConfigurator.class })\r\n@RunWith(PowerMockRunner.class)\r\n@PowerMockIgnore({ &quot;javax.management.*&quot;, &quot;javax.security.*&quot;})\r\n@ProtonTestType(ProtonTestCategory.SYSTEM_INTEGRATION)\r\n@ProtonTestTags(tags = {ProtonTestTag.DSS})\r\npublic class TestCredentialManager {\r\n\r\n    private static final String realm = &quot;TEST.REALM&quot;;\r\n    private static final String tenantUser = &quot;testTenantUser&quot;;\r\n    private static final String tenantUserWithRealm = tenantUser+&quot;@&quot;+realm;\r\n    private static final String TOKEN_ALIAS = &quot;token_alias&quot;;\r\n    private static final String TOKEN_ALIAS_2 = &quot;token_alias_2&quot;;\r\n    private static final byte[] expected = {72, 68, 84, 83, 0, 1, 11, 116, 111, 107, 101, 110, 95, 97, 108, 105, 97, 115, 0, 0, 0, 0, 0};\r\n//    private static FileSystemTestHelper.MockFileSystem mockFileSystem;\r\n    private static FileSystem mockFileSystem;\r\n\r\n    final Logger logger = LoggerFactory.getLogger(TestCredentialManager.class);\r\n\r\n    @BeforeClass\r\n    public static void init()\r\n            throws Exception {\r\n        ProtonBootstrap.initForUnitTests();\r\n        PlatforaConfig.SPARK_QUERY_TOKEN_FETCH_REPEATS.setup(null,System.getProperties());\r\n        if (PrismToggles.toggleRenewDelegationToken().isEnabled()) {\r\n            CredentialManager.getInstance().prismDTCache().clear();\r\n        } else {\r\n            CredentialManager.getInstance().tokenExpiryCache().clear();\r\n        }\r\n        CredentialManager.getInstance().tenantCredentialsCache().clear();\r\n    }\r\n\r\n    @Before\r\n    public void initTest()\r\n            throws Exception {\r\n        mockFileSystem = PowerMockito.mock(FileSystem.class);\r\n        PowerMockito.mockStatic(FileSystem.class);\r\n        doReturn(this.mockFileSystem).when(FileSystem.class, &quot;get&quot;, any());\r\n    }\r\n\r\n    @After\r\n    public void reset() {\r\n        if (PrismToggles.toggleRenewDelegationToken().isEnabled()) {\r\n            CredentialManager.getInstance().prismDTCache().clear();\r\n        } else {\r\n            CredentialManager.getInstance().tokenExpiryCache().clear();\r\n        }\r\n        CredentialManager.getInstance().tenantCredentialsCache().clear();\r\n    }\r\n    @Test\r\n    public void testSerializeCredentials() {\r\n        final Credentials credentials = getCredentialsWithToken();\r\n        final ByteArray byteArray = CredentialManager.getInstance().serializeCredentials(credentials);\r\n        Assert.assertArrayEquals(expected, byteArray.bytes);\r\n    }\r\n```\r\n\r\nIt is specifically failing on this line\r\n```mockFileSystem = PowerMockito.mock(FileSystem.class);```\r\n\r\nMockito version: 2.8.9\r\nPowermock version:2.0.9\r\n\r\nI have tried the following things: \r\n- Going to the project structure and making sure that the versions of mockito and powermockito were consistent. Found a conflict with both two mockitos being there: 2.8.9 and 3.3.3. Tried to remove the newer one and it didn&#39;t resolve the issue.\r\n- In project structure, there are 5 javassist packages with an &#39;org&#39; prefix and one without. Tried these options: 1) removing the non-org package 2) only the org 3.18 package 3) only the lastest org package 4) steps 2 and 3 with the other non-org package present\r\n- Tried to move the mock(FileSystem.class) and mockStatic(...) lines in a static code block at the beginning of the class definition before the log instantiation. We thought this might help if it happens before the log4j stuff, but same issue.\r\n- Apache actually has a class called MockFileSystem with is a subclass of FileSystem. I tried to replace this in the code directly, but we still have the same issue, probably because it still has to initilize log4j in the superclass in the same manner. So still same issue despite MockFileSystem not being abstract\r\n\r\n\r\nI have scavenged the web and am running out of ideas. Can someone help? It seems to be related to the log4j logger being instantiated in the FileSystem class and it not being compatible with that Powermock instantiation. ","title":"How to resolve the following error related to powermockito: &quot;Mockito cannot mock this class: class org.apache.hadoop.fs.FileSystem.&quot;","body":"<p>This is the entire error:</p>\n<pre><code>\n\nMockito cannot mock this class: class org.apache.hadoop.fs.FileSystem.\n\nMockito can only mock non-private &amp; non-final classes.\nIf you're not sure why you're getting this error, please report to the mailing list.\n\n\nJava               : 1.8\nJVM vendor name    : Azul Systems, Inc.\nJVM vendor version : 25.282-b08\nJVM name           : OpenJDK 64-Bit Server VM\nJVM version        : 1.8.0_282-b08\nJVM info           : mixed mode\nOS name            : Mac OS X\nOS version         : 10.16\n\n\nUnderlying exception : java.lang.IllegalStateException: Error invoking java.lang.reflect.Method#getAnnotatedReturnType\norg.mockito.exceptions.base.MockitoException: \nMockito cannot mock this class: class org.apache.hadoop.fs.FileSystem.\n\nMockito can only mock non-private &amp; non-final classes.\nIf you're not sure why you're getting this error, please report to the mailing list.\n\n\nJava               : 1.8\nJVM vendor name    : Azul Systems, Inc.\nJVM vendor version : 25.282-b08\nJVM name           : OpenJDK 64-Bit Server VM\nJVM version        : 1.8.0_282-b08\nJVM info           : mixed mode\nOS name            : Mac OS X\nOS version         : 10.16\n\n\nUnderlying exception : java.lang.IllegalStateException: Error invoking java.lang.reflect.Method#getAnnotatedReturnType\n    at com.platfora.proton.builder.spark.TestCredentialManager.initTest(TestCredentialManager.java:109)\n    at org.junit.internal.runners.MethodRoadie.runBefores(MethodRoadie.java:133)\n    at org.junit.internal.runners.MethodRoadie.runBeforesThenTestThenAfters(MethodRoadie.java:96)\n    at org.junit.internal.runners.MethodRoadie.runTest(MethodRoadie.java:87)\n    at org.junit.internal.runners.MethodRoadie.run(MethodRoadie.java:50)\n    at org.junit.internal.runners.ClassRoadie.runUnprotected(ClassRoadie.java:34)\n    at org.junit.internal.runners.ClassRoadie.runProtected(ClassRoadie.java:44)\n    at org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.runTestClass(JUnitTestClassExecutor.java:110)\n    at org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.execute(JUnitTestClassExecutor.java:58)\n    at org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.execute(JUnitTestClassExecutor.java:38)\n    at org.gradle.api.internal.tasks.testing.junit.AbstractJUnitTestClassProcessor.processTestClass(AbstractJUnitTestClassProcessor.java:62)\n    at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.processTestClass(SuiteTestClassProcessor.java:51)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\n    at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\n    at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.processTestClass(TestWorker.java:118)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\n    at org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:182)\n    at org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:164)\n    at org.gradle.internal.remote.internal.hub.MessageHub$Handler.run(MessageHub.java:412)\n    at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\n    at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:56)\n    at java.lang.Thread.run(Thread.java:748)\nCaused by: java.lang.IllegalStateException: Error invoking java.lang.reflect.Method#getAnnotatedReturnType\n    at net.bytebuddy.description.type.TypeDescription$Generic$AnnotationReader$Dispatcher$ForJava8CapableVm$AnnotatedReturnType.resolve(TypeDescription.java:2984)\n    at net.bytebuddy.description.type.TypeDescription$Generic$AnnotationReader$Delegator.asList(TypeDescription.java:3238)\n    at net.bytebuddy.description.type.TypeDescription$Generic$OfNonGenericType$ForLoadedType.getDeclaredAnnotations(TypeDescription.java:3987)\n    at net.bytebuddy.implementation.attribute.AnnotationAppender$ForTypeAnnotations.apply(AnnotationAppender.java:725)\n    at net.bytebuddy.implementation.attribute.AnnotationAppender$ForTypeAnnotations.onNonGenericType(AnnotationAppender.java:706)\n    at net.bytebuddy.implementation.attribute.AnnotationAppender$ForTypeAnnotations.onNonGenericType(AnnotationAppender.java:409)\n    at net.bytebuddy.description.type.TypeDescription$Generic$OfNonGenericType.accept(TypeDescription.java:3769)\n    at net.bytebuddy.implementation.attribute.MethodAttributeAppender$ForInstrumentedMethod.apply(MethodAttributeAppender.java:196)\n    at net.bytebuddy.implementation.attribute.MethodAttributeAppender$Compound.apply(MethodAttributeAppender.java:484)\n    at net.bytebuddy.dynamic.scaffold.TypeWriter$MethodPool$Record$ForDefinedMethod$WithBody.applyAttributes(TypeWriter.java:701)\n    at net.bytebuddy.dynamic.scaffold.TypeWriter$MethodPool$Record$ForDefinedMethod$WithBody.applyBody(TypeWriter.java:691)\n    at net.bytebuddy.dynamic.scaffold.TypeWriter$MethodPool$Record$ForDefinedMethod.apply(TypeWriter.java:600)\n    at net.bytebuddy.dynamic.scaffold.TypeWriter$Default$ForCreation.create(TypeWriter.java:5660)\n    at net.bytebuddy.dynamic.scaffold.TypeWriter$Default.make(TypeWriter.java:2166)\n    at net.bytebuddy.dynamic.scaffold.subclass.SubclassDynamicTypeBuilder.make(SubclassDynamicTypeBuilder.java:232)\n    at net.bytebuddy.dynamic.scaffold.subclass.SubclassDynamicTypeBuilder.make(SubclassDynamicTypeBuilder.java:204)\n    at net.bytebuddy.dynamic.DynamicType$Builder$AbstractBase.make(DynamicType.java:3595)\n    at net.bytebuddy.dynamic.DynamicType$Builder$AbstractBase$Delegator.make(DynamicType.java:3819)\n    at org.mockito.internal.creation.bytebuddy.SubclassBytecodeGenerator.mockClass(SubclassBytecodeGenerator.java:173)\n    at org.mockito.internal.creation.bytebuddy.TypeCachingBytecodeGenerator$1.call(TypeCachingBytecodeGenerator.java:37)\n    at org.mockito.internal.creation.bytebuddy.TypeCachingBytecodeGenerator$1.call(TypeCachingBytecodeGenerator.java:34)\n    at net.bytebuddy.TypeCache.findOrInsert(TypeCache.java:152)\n    at net.bytebuddy.TypeCache$WithInlineExpunction.findOrInsert(TypeCache.java:365)\n    at net.bytebuddy.TypeCache.findOrInsert(TypeCache.java:174)\n    at net.bytebuddy.TypeCache$WithInlineExpunction.findOrInsert(TypeCache.java:376)\n    at org.mockito.internal.creation.bytebuddy.TypeCachingBytecodeGenerator.mockClass(TypeCachingBytecodeGenerator.java:32)\n    at org.mockito.internal.creation.bytebuddy.SubclassByteBuddyMockMaker.createMockType(SubclassByteBuddyMockMaker.java:71)\n    at org.mockito.internal.creation.bytebuddy.SubclassByteBuddyMockMaker.createMock(SubclassByteBuddyMockMaker.java:42)\n    at org.mockito.internal.creation.bytebuddy.ByteBuddyMockMaker.createMock(ByteBuddyMockMaker.java:25)\n    at org.powermock.api.mockito.mockmaker.PowerMockMaker.createMock(PowerMockMaker.java:41)\n    at org.mockito.internal.util.MockUtil.createMock(MockUtil.java:35)\n    at org.mockito.internal.MockitoCore.mock(MockitoCore.java:63)\n    at org.mockito.Mockito.mock(Mockito.java:1908)\n    at org.powermock.api.mockito.internal.mockcreation.DefaultMockCreator.createMethodInvocationControl(DefaultMockCreator.java:108)\n    at org.powermock.api.mockito.internal.mockcreation.DefaultMockCreator.doCreateMock(DefaultMockCreator.java:61)\n    at org.powermock.api.mockito.internal.mockcreation.DefaultMockCreator.createMock(DefaultMockCreator.java:53)\n    at org.powermock.api.mockito.internal.mockcreation.DefaultMockCreator.mock(DefaultMockCreator.java:40)\n    at org.powermock.api.mockito.PowerMockito.mock(PowerMockito.java:126)\n    at com.platfora.proton.builder.spark.TestCredentialManager.initTest(TestCredentialManager.java:109)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.junit.internal.runners.MethodRoadie.runBefores(MethodRoadie.java:133)\n    at org.junit.internal.runners.MethodRoadie.runBeforesThenTestThenAfters(MethodRoadie.java:96)\n    at org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl$PowerMockJUnit44MethodRunner.executeTest(PowerMockJUnit44RunnerDelegateImpl.java:310)\n    at org.powermock.modules.junit4.internal.impl.PowerMockJUnit47RunnerDelegateImpl$PowerMockJUnit47MethodRunner.executeTestInSuper(PowerMockJUnit47RunnerDelegateImpl.java:131)\n    at org.powermock.modules.junit4.internal.impl.PowerMockJUnit47RunnerDelegateImpl$PowerMockJUnit47MethodRunner.access$100(PowerMockJUnit47RunnerDelegateImpl.java:59)\n    at org.powermock.modules.junit4.internal.impl.PowerMockJUnit47RunnerDelegateImpl$PowerMockJUnit47MethodRunner$TestExecutorStatement.evaluate(PowerMockJUnit47RunnerDelegateImpl.java:147)\n    at org.powermock.modules.junit4.internal.impl.PowerMockJUnit47RunnerDelegateImpl$PowerMockJUnit47MethodRunner.evaluateStatement(PowerMockJUnit47RunnerDelegateImpl.java:107)\n    at org.powermock.modules.junit4.internal.impl.PowerMockJUnit47RunnerDelegateImpl$PowerMockJUnit47MethodRunner.executeTest(PowerMockJUnit47RunnerDelegateImpl.java:82)\n    at org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl$PowerMockJUnit44MethodRunner.runBeforesThenTestThenAfters(PowerMockJUnit44RunnerDelegateImpl.java:298)\n    at org.junit.internal.runners.MethodRoadie.runTest(MethodRoadie.java:87)\n    at org.junit.internal.runners.MethodRoadie.run(MethodRoadie.java:50)\n    at org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl.invokeTestMethod(PowerMockJUnit44RunnerDelegateImpl.java:218)\n    at org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl.runMethods(PowerMockJUnit44RunnerDelegateImpl.java:160)\n    at org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl$1.run(PowerMockJUnit44RunnerDelegateImpl.java:134)\n    at org.junit.internal.runners.ClassRoadie.runUnprotected(ClassRoadie.java:34)\n    at org.junit.internal.runners.ClassRoadie.runProtected(ClassRoadie.java:44)\n    at org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl.run(PowerMockJUnit44RunnerDelegateImpl.java:136)\n    at org.powermock.modules.junit4.common.internal.impl.JUnit4TestSuiteChunkerImpl.run(JUnit4TestSuiteChunkerImpl.java:117)\n    at org.powermock.modules.junit4.common.internal.impl.AbstractCommonPowerMockRunner.run(AbstractCommonPowerMockRunner.java:57)\n    at org.powermock.modules.junit4.PowerMockRunner.run(PowerMockRunner.java:59)\n    at org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.runTestClass(JUnitTestClassExecutor.java:110)\n    at org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.execute(JUnitTestClassExecutor.java:58)\n    at org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.execute(JUnitTestClassExecutor.java:38)\n    at org.gradle.api.internal.tasks.testing.junit.AbstractJUnitTestClassProcessor.processTestClass(AbstractJUnitTestClassProcessor.java:62)\n    at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.processTestClass(SuiteTestClassProcessor.java:51)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\n    at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\n    at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\n    at com.sun.proxy.$Proxy2.processTestClass(Unknown Source)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.processTestClass(TestWorker.java:118)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    ... 11 more\nCaused by: java.lang.IllegalStateException: Failed to transform class with name org.apache.hadoop.fs.FileSystem$Cache. Reason: org.apache.hadoop.fs.FileSystem$Cache$Key class is frozen\n    at org.powermock.core.classloader.javassist.JavassistMockClassLoader.defineAndTransformClass(JavassistMockClassLoader.java:119)\n    at org.powermock.core.classloader.MockClassLoader.loadMockClass(MockClassLoader.java:174)\n    at org.powermock.core.classloader.MockClassLoader.loadClassByThisClassLoader(MockClassLoader.java:102)\n    at org.powermock.core.classloader.DeferSupportingClassLoader.loadClass1(DeferSupportingClassLoader.java:147)\n    at org.powermock.core.classloader.DeferSupportingClassLoader.loadClass(DeferSupportingClassLoader.java:98)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:352)\n    at java.lang.Class.getDeclaringClass0(Native Method)\n    at java.lang.Class.getDeclaringClass(Class.java:1235)\n    at java.lang.Class.getEnclosingClass(Class.java:1277)\n    at sun.reflect.annotation.AnnotatedTypeFactory.addNesting(AnnotatedTypeFactory.java:96)\n    at sun.reflect.annotation.AnnotatedTypeFactory.buildAnnotatedType(AnnotatedTypeFactory.java:65)\n    at sun.reflect.annotation.TypeAnnotationParser.buildAnnotatedType(TypeAnnotationParser.java:79)\n    at java.lang.reflect.Executable.getAnnotatedReturnType0(Executable.java:640)\n    at java.lang.reflect.Method.getAnnotatedReturnType(Method.java:648)\n    at sun.reflect.GeneratedMethodAccessor19.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at net.bytebuddy.description.type.TypeDescription$Generic$AnnotationReader$Dispatcher$ForJava8CapableVm$AnnotatedReturnType.resolve(TypeDescription.java:2980)\n    ... 92 more\nCaused by: java.lang.RuntimeException: org.apache.hadoop.fs.FileSystem$Cache$Key class is frozen\n    at javassist.CtClassType.checkModify(CtClassType.java:334)\n    at javassist.CtBehavior.setModifiers(CtBehavior.java:178)\n    at org.powermock.core.transformers.javassist.ConstructorsMockTransformer.transform(ConstructorsMockTransformer.java:64)\n    at org.powermock.core.transformers.javassist.ConstructorsMockTransformer.transform(ConstructorsMockTransformer.java:51)\n    at org.powermock.core.transformers.javassist.AbstractJavaAssistMockTransformer.transform(AbstractJavaAssistMockTransformer.java:40)\n    at org.powermock.core.transformers.support.DefaultMockTransformerChain.transform(DefaultMockTransformerChain.java:43)\n    at org.powermock.core.classloader.MockClassLoader.transformClass(MockClassLoader.java:184)\n    at org.powermock.core.classloader.javassist.JavassistMockClassLoader.defineAndTransformClass(JavassistMockClassLoader.java:102)\n    ... 109 more\n\n\n</code></pre>\n<p>This seems to be related to us upgrading our log4j version. The test works fine in a branch with the log4j version being 1.2.17. The current version is 2.16.0. We must keep the log4j version at 2.16 – we updated it to remove a security vulnerability.</p>\n<p>This is the Apache Hadoop FileSystem class:</p>\n<pre><code>@InterfaceAudience.Public\n@InterfaceStability.Stable\npublic abstract class FileSystem extends Configured\n    implements Closeable, DelegationTokenIssuer {\n  public static final String FS_DEFAULT_NAME_KEY =\n                   CommonConfigurationKeys.FS_DEFAULT_NAME_KEY;\n  public static final String DEFAULT_FS =\n                   CommonConfigurationKeys.FS_DEFAULT_NAME_DEFAULT;\n\n  /**\n   * This log is widely used in the org.apache.hadoop.fs code and tests,\n   * so must be considered something to only be changed with care.\n   */\n  @InterfaceAudience.Private\n  public static final Log LOG = LogFactory.getLog(FileSystem.class);\n\n  /**\n   * The SLF4J logger to use in logging within the FileSystem class itself.\n   */\n  private static final Logger LOGGER =\n      LoggerFactory.getLogger(FileSystem.class);\n</code></pre>\n<p>As you can see on the bottom line above, we initialize the logger.</p>\n<p>This is the test class that is failing:</p>\n<pre><code>\n@PrepareForTest({ UserGroupInformation.class, CredentialManager.class, KerberosUtil.class, FileSystem.class,\n    HadoopBDSConfigurator.class })\n@RunWith(PowerMockRunner.class)\n@PowerMockIgnore({ &quot;javax.management.*&quot;, &quot;javax.security.*&quot;})\n@ProtonTestType(ProtonTestCategory.SYSTEM_INTEGRATION)\n@ProtonTestTags(tags = {ProtonTestTag.DSS})\npublic class TestCredentialManager {\n\n    private static final String realm = &quot;TEST.REALM&quot;;\n    private static final String tenantUser = &quot;testTenantUser&quot;;\n    private static final String tenantUserWithRealm = tenantUser+&quot;@&quot;+realm;\n    private static final String TOKEN_ALIAS = &quot;token_alias&quot;;\n    private static final String TOKEN_ALIAS_2 = &quot;token_alias_2&quot;;\n    private static final byte[] expected = {72, 68, 84, 83, 0, 1, 11, 116, 111, 107, 101, 110, 95, 97, 108, 105, 97, 115, 0, 0, 0, 0, 0};\n//    private static FileSystemTestHelper.MockFileSystem mockFileSystem;\n    private static FileSystem mockFileSystem;\n\n    final Logger logger = LoggerFactory.getLogger(TestCredentialManager.class);\n\n    @BeforeClass\n    public static void init()\n            throws Exception {\n        ProtonBootstrap.initForUnitTests();\n        PlatforaConfig.SPARK_QUERY_TOKEN_FETCH_REPEATS.setup(null,System.getProperties());\n        if (PrismToggles.toggleRenewDelegationToken().isEnabled()) {\n            CredentialManager.getInstance().prismDTCache().clear();\n        } else {\n            CredentialManager.getInstance().tokenExpiryCache().clear();\n        }\n        CredentialManager.getInstance().tenantCredentialsCache().clear();\n    }\n\n    @Before\n    public void initTest()\n            throws Exception {\n        mockFileSystem = PowerMockito.mock(FileSystem.class);\n        PowerMockito.mockStatic(FileSystem.class);\n        doReturn(this.mockFileSystem).when(FileSystem.class, &quot;get&quot;, any());\n    }\n\n    @After\n    public void reset() {\n        if (PrismToggles.toggleRenewDelegationToken().isEnabled()) {\n            CredentialManager.getInstance().prismDTCache().clear();\n        } else {\n            CredentialManager.getInstance().tokenExpiryCache().clear();\n        }\n        CredentialManager.getInstance().tenantCredentialsCache().clear();\n    }\n    @Test\n    public void testSerializeCredentials() {\n        final Credentials credentials = getCredentialsWithToken();\n        final ByteArray byteArray = CredentialManager.getInstance().serializeCredentials(credentials);\n        Assert.assertArrayEquals(expected, byteArray.bytes);\n    }\n</code></pre>\n<p>It is specifically failing on this line\n<code>mockFileSystem = PowerMockito.mock(FileSystem.class);</code></p>\n<p>Mockito version: 2.8.9\nPowermock version:2.0.9</p>\n<p>I have tried the following things:</p>\n<ul>\n<li>Going to the project structure and making sure that the versions of mockito and powermockito were consistent. Found a conflict with both two mockitos being there: 2.8.9 and 3.3.3. Tried to remove the newer one and it didn't resolve the issue.</li>\n<li>In project structure, there are 5 javassist packages with an 'org' prefix and one without. Tried these options: 1) removing the non-org package 2) only the org 3.18 package 3) only the lastest org package 4) steps 2 and 3 with the other non-org package present</li>\n<li>Tried to move the mock(FileSystem.class) and mockStatic(...) lines in a static code block at the beginning of the class definition before the log instantiation. We thought this might help if it happens before the log4j stuff, but same issue.</li>\n<li>Apache actually has a class called MockFileSystem with is a subclass of FileSystem. I tried to replace this in the code directly, but we still have the same issue, probably because it still has to initilize log4j in the superclass in the same manner. So still same issue despite MockFileSystem not being abstract</li>\n</ul>\n<p>I have scavenged the web and am running out of ideas. Can someone help? It seems to be related to the log4j logger being instantiated in the FileSystem class and it not being compatible with that Powermock instantiation.</p>\n"},{"tags":["java","maven","logging","null","log4j"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1645497168,"post_id":71215247,"comment_id":125881521,"body_markdown":"Personally I am removing Log4J from all my projects as fast as possible.","body":"Personally I am removing Log4J from all my projects as fast as possible."},{"owner":{"account_id":24335052,"reputation":11,"user_id":18273259,"display_name":"Natan da Fonseca Lisboa"},"score":0,"creation_date":1645497282,"post_id":71215247,"comment_id":125881537,"body_markdown":"Actually, If I could I would haha.","body":"Actually, If I could I would haha."},{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1645538992,"post_id":71215247,"comment_id":125894038,"body_markdown":"Please, don&#39;t post the errors as images, but as text. Anyway you have a _&quot;Not a version 4.0.0 POM...&quot;_ root cause, that suggests an error occurred while downloading `org.apache.logging.log4j:log4j`. Now you have a corrupted local copy, just delete it.","body":"Please, don&#39;t post the errors as images, but as text. Anyway you have a <i>&quot;Not a version 4.0.0 POM...&quot;</i> root cause, that suggests an error occurred while downloading <code>org.apache.logging.log4j:log4j</code>. Now you have a corrupted local copy, just delete it."},{"owner":{"account_id":24335052,"reputation":11,"user_id":18273259,"display_name":"Natan da Fonseca Lisboa"},"score":0,"creation_date":1645564408,"post_id":71215247,"comment_id":125904221,"body_markdown":"I did it already and tried to run `mvn clean install` again, but it didn&#39;t work at all.","body":"I did it already and tried to run <code>mvn clean install</code> again, but it didn&#39;t work at all."},{"owner":{"account_id":24335052,"reputation":11,"user_id":18273259,"display_name":"Natan da Fonseca Lisboa"},"score":0,"creation_date":1645567869,"post_id":71215247,"comment_id":125905315,"body_markdown":"I updated the post with the new error message that I&#39;m having after include log4j and log4j-api artifacts in `pom.xml`","body":"I updated the post with the new error message that I&#39;m having after include log4j and log4j-api artifacts in <code>pom.xml</code>"},{"owner":{"account_id":18396380,"reputation":4116,"user_id":13400729,"display_name":"Parsifal"},"score":0,"creation_date":1645572617,"post_id":71215247,"comment_id":125906544,"body_markdown":"What are those first `&lt;dependency&gt;` references? And why do they specify different versions (2.3 and 2.3.2)?","body":"What are those first <code>&lt;dependency&gt;</code> references? And why do they specify different versions (2.3 and 2.3.2)?"},{"owner":{"account_id":18396380,"reputation":4116,"user_id":13400729,"display_name":"Parsifal"},"score":0,"creation_date":1645572738,"post_id":71215247,"comment_id":125906566,"body_markdown":"Looking at that image, it appears that you&#39;re using some sort of proxy server / local repository to store your artifacts. Is that true?","body":"Looking at that image, it appears that you&#39;re using some sort of proxy server / local repository to store your artifacts. Is that true?"},{"owner":{"account_id":18396380,"reputation":4116,"user_id":13400729,"display_name":"Parsifal"},"score":0,"creation_date":1645572834,"post_id":71215247,"comment_id":125906591,"body_markdown":"I recommend that you delete your local maven repository (`$HOME/.m2/repository` on Linux), then run your build again. If it fails, paste all of the output in your questions -- not a screenshot.","body":"I recommend that you delete your local maven repository (<code>$HOME&#47;.m2&#47;repository</code> on Linux), then run your build again. If it fails, paste all of the output in your questions -- not a screenshot."},{"owner":{"account_id":24335052,"reputation":11,"user_id":18273259,"display_name":"Natan da Fonseca Lisboa"},"score":0,"creation_date":1645579544,"post_id":71215247,"comment_id":125907923,"body_markdown":"Just to answer you, @Parsifal. The dependencies above log4j-core are recommended dependencies in order to migrate from slf4j (with log4j 1.x) to apache log4j 2.x (at least this is what I understood from this link: https://logging.apache.org/log4j/2.x/manual/migration.html). And yes, I use some sort of proxy to get the dependencies, but I realized that the proxy is no longer avaliable and, honestly, I don&#39;t know what to do now.\nI updated the post to you verify it. Thanks for all the support :)","body":"Just to answer you, @Parsifal. The dependencies above log4j-core are recommended dependencies in order to migrate from slf4j (with log4j 1.x) to apache log4j 2.x (at least this is what I understood from this link: <a href=\"https://logging.apache.org/log4j/2.x/manual/migration.html\" rel=\"nofollow noreferrer\">logging.apache.org/log4j/2.x/manual/migration.html</a>). And yes, I use some sort of proxy to get the dependencies, but I realized that the proxy is no longer avaliable and, honestly, I don&#39;t know what to do now. I updated the post to you verify it. Thanks for all the support :)"},{"owner":{"account_id":18396380,"reputation":4116,"user_id":13400729,"display_name":"Parsifal"},"score":0,"creation_date":1645623207,"post_id":71215247,"comment_id":125920833,"body_markdown":"OK, starting with the repository server: normally you configure that in [settings.xml](https://maven.apache.org/ref/3.0.4/maven-settings/settings.html), although you can also put `&lt;repository&gt;` entries in your POM. Once you correct this, you&#39;ll need to delete your repository directory again to get rid of any corrupted files.","body":"OK, starting with the repository server: normally you configure that in <a href=\"https://maven.apache.org/ref/3.0.4/maven-settings/settings.html\" rel=\"nofollow noreferrer\">settings.xml</a>, although you can also put <code>&lt;repository&gt;</code> entries in your POM. Once you correct this, you&#39;ll need to delete your repository directory again to get rid of any corrupted files."},{"owner":{"account_id":18396380,"reputation":4116,"user_id":13400729,"display_name":"Parsifal"},"score":0,"creation_date":1645623281,"post_id":71215247,"comment_id":125920866,"body_markdown":"I suspect that the &quot;Not a v4.0.0 POM&quot; is caused by the repository server. I&#39;m betting that if you look at it you&#39;ll see HTML rather than an actual POM. There&#39;s no other reason for the POM for a Maven plugin to be corrupted.","body":"I suspect that the &quot;Not a v4.0.0 POM&quot; is caused by the repository server. I&#39;m betting that if you look at it you&#39;ll see HTML rather than an actual POM. There&#39;s no other reason for the POM for a Maven plugin to be corrupted."},{"owner":{"account_id":18396380,"reputation":4116,"user_id":13400729,"display_name":"Parsifal"},"score":0,"creation_date":1645623545,"post_id":71215247,"comment_id":125920975,"body_markdown":"I suspect that you&#39;re also using a very old version of Maven: the [maven-clean-plugin](https://search.maven.org/artifact/org.apache.maven.plugins/maven-clean-plugin) is currently at version 3.1.0, and version 2.2 was released in 2007. If you&#39;re using Java8, you should download the latest version.","body":"I suspect that you&#39;re also using a very old version of Maven: the <a href=\"https://search.maven.org/artifact/org.apache.maven.plugins/maven-clean-plugin\" rel=\"nofollow noreferrer\">maven-clean-plugin</a> is currently at version 3.1.0, and version 2.2 was released in 2007. If you&#39;re using Java8, you should download the latest version."},{"owner":{"account_id":18396380,"reputation":4116,"user_id":13400729,"display_name":"Parsifal"},"score":0,"creation_date":1645623701,"post_id":71215247,"comment_id":125921040,"body_markdown":"The same comment applies to the Log4J version: the latest version, for Java 8, is [2.17.1](https://search.maven.org/artifact/org.apache.logging.log4j/log4j-core). Version 2.3.2 appears to be a release that fixes the Log4Shell vulnerability for people who are using Java 1.5 (or maybe 1.6). The Log4J project has made a lot of changes since then (some for the better, some for the worse).","body":"The same comment applies to the Log4J version: the latest version, for Java 8, is <a href=\"https://search.maven.org/artifact/org.apache.logging.log4j/log4j-core\" rel=\"nofollow noreferrer\">2.17.1</a>. Version 2.3.2 appears to be a release that fixes the Log4Shell vulnerability for people who are using Java 1.5 (or maybe 1.6). The Log4J project has made a lot of changes since then (some for the better, some for the worse)."},{"owner":{"account_id":24335052,"reputation":11,"user_id":18273259,"display_name":"Natan da Fonseca Lisboa"},"score":0,"creation_date":1645637227,"post_id":71215247,"comment_id":125927488,"body_markdown":"You got all right, @Parsifal. I&#39;m using JDK 6 and Maven 2.2.1 to compile the project, so the latest version of Apache Log4J for these artifacts is 2.3.2. Actually, I already solved my problem. That error message is quite self explanatory. Basically, I was missing the correct version of parent artifact for log4j-api and log4j-core (parent artifact: log4j). I realized that 2.3 actually was not the latest version for log4j artifact but, as you suggested above, 2.3.2. I will post the solution with more details later. Thanks for all the support, guys :)","body":"You got all right, @Parsifal. I&#39;m using JDK 6 and Maven 2.2.1 to compile the project, so the latest version of Apache Log4J for these artifacts is 2.3.2. Actually, I already solved my problem. That error message is quite self explanatory. Basically, I was missing the correct version of parent artifact for log4j-api and log4j-core (parent artifact: log4j). I realized that 2.3 actually was not the latest version for log4j artifact but, as you suggested above, 2.3.2. I will post the solution with more details later. Thanks for all the support, guys :)"}],"owner":{"account_id":24335052,"reputation":11,"user_id":18273259,"display_name":"Natan da Fonseca Lisboa"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":654,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1645577825,"creation_date":1645496979,"question_id":71215247,"body_markdown":"I am trying to upgrade the log4j version of my application, but when I run `mvn clean install` to get the .ear file I always have the same error.\r\n\r\n    Caused by: org.apache.maven.project.ProjectBuildingException: Parent: null:log4j-core:jar:null of project: unknown:log4j-core has wrong packaging: jar. Must be &#39;pom&#39;. for project unknown:log4j-core\r\n        at org.apache.maven.project.DefaultMavenProjectBuilder.assembleLineage(DefaultMavenProjectBuilder.java:1403)\r\n        at org.apache.maven.project.DefaultMavenProjectBuilder.buildInternal(DefaultMavenProjectBuilder.java:823)\r\n        at org.apache.maven.project.DefaultMavenProjectBuilder.buildFromRepository(DefaultMavenProjectBuilder.java:255)\r\n        at org.apache.maven.project.artifact.MavenMetadataSource.retrieveRelocatedProject(MavenMetadataSource.java:163)\r\n        ... 25 more\r\n\r\nAnalyzing the error message, it looks like I&#39;m pointing the wrong .pom file somewhere, but the dependencies look fine for me.\r\n\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;log4j&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.3&lt;/version&gt;\r\n    \t\t&lt;type&gt;pom&lt;/type&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.3&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;2.3.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n[Path that I want to reach running `mvn clean install`][2]\r\n\r\nHere is also the entire `pom.xml` of my .ear application and the path to the .pom file that is wrongly referenced by my application.\r\n\r\n`\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;artifactId&gt;Server&lt;/artifactId&gt;\r\n\t\t&lt;groupId&gt;com.client.bi&lt;/groupId&gt;\r\n\t\t&lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\t&lt;/parent&gt;\r\n\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;artifactId&gt;ClientCRM-ejb-jar&lt;/artifactId&gt;\r\n\t&lt;packaging&gt;ejb&lt;/packaging&gt;\r\n\t&lt;name&gt;ClientCRM-ejb-jar&lt;/name&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;rootFolder&gt;..${file.separator}..&lt;/rootFolder&gt;\r\n\t\t&lt;resourceFolder&gt;src/main/resources&lt;/resourceFolder&gt;\r\n\t    &lt;powermock.version&gt;1.5.5&lt;/powermock.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jackson-jaxrs&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jackson-xc&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jackson-core-asl&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jackson-mapper-asl&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.sun.jersey&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jersey-core&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.sun.jersey&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jersey-server&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.jboss.ws&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jbossws-jboss423&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${jbossws-version}&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.jboss.ws.native&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jbossws-native-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${jbossws-version}&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.jboss.ws.native&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jbossws-native-jaxws&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${jbossws-version}&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;commons-lang&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;commons-lang&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.1&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;joda-time&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;joda-time&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.6.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.ejb&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;ejb-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.0&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.j2ee&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;j2ee&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.4&lt;/version&gt;\r\n\t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.jms&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jms&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;hibernate-annotations&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.2.1.ga&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;jsqlparser&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jsqlparser&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;0.6.2.a&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;hsqldb&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;hsqldb&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.8.0.10&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.3.1.ga&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;jboss&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;concurrent&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.2.3.GA&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;jboss&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jbossmq-client&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.2.3.GA&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;jboss&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jboss-common-client&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.2.3.GA&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;jboss&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jboss-system-client&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.2.3.GA&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;jboss&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jnp-client&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.2.3.GA&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.jmock&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jmock-junit3&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.5.1&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javassist&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;javassist&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.12.1.GA&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;   \r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.powermock&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;powermock-module-junit4&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;${powermock.version}&lt;/version&gt;\r\n\t\t    &lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.powermock&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;powermock-api-mockito&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;${powermock.version}&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        \r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;junit&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.11&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;axis&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;axis&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.4&lt;/version&gt;\r\n\t\t\t&lt;type&gt;jar&lt;/type&gt;\r\n\t\t\t&lt;scope&gt;compile&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.7.5&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.7.5&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.3.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;finalName&gt;ClientCRM-ejb-jar&lt;/finalName&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-ejb-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;ejbVersion&gt;3.0&lt;/ejbVersion&gt;\r\n\t\t\t\t\t&lt;archive&gt;\r\n\t\t\t\t\t\t&lt;addMavenDescriptor&gt;false&lt;/addMavenDescriptor&gt;\r\n\t\t\t\t\t&lt;/archive&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\r\n\t\t&lt;filters&gt;\r\n\t\t\t&lt;filter&gt;src/main/resources/properties/${targetEnvironment}.properties&lt;/filter&gt;\r\n\t\t&lt;/filters&gt;\r\n\t\t&lt;resources&gt;\r\n\t\t\t&lt;resource&gt;\r\n\t\t\t\t&lt;directory&gt;src/main/java&lt;/directory&gt;\r\n\t\t\t\t&lt;includes&gt;\r\n\t\t\t\t\t&lt;include&gt;**/*.properties&lt;/include&gt;\r\n\t\t\t\t&lt;/includes&gt;\r\n\t\t\t\t&lt;filtering&gt;true&lt;/filtering&gt;\r\n\t\t\t&lt;/resource&gt;\r\n\t\t\t&lt;resource&gt;\r\n\t\t\t\t&lt;directory&gt;${resourceFolder}&lt;/directory&gt;\r\n\t\t\t\t&lt;includes&gt;\r\n\t\t\t\t\t&lt;include&gt;**/*.xml&lt;/include&gt;\r\n\t\t\t\t&lt;/includes&gt;\r\n\t\t\t&lt;/resource&gt;\r\n\t\t\t&lt;resource&gt;\r\n\t\t\t\t&lt;directory&gt;${resourceFolder}&lt;/directory&gt;\r\n\t\t\t\t&lt;includes&gt;\r\n\t\t\t\t\t&lt;include&gt;*.sql&lt;/include&gt;\r\n\t\t\t\t&lt;/includes&gt;\r\n\t\t\t&lt;/resource&gt;\r\n\t\t&lt;/resources&gt;\r\n\r\n\t\t&lt;testResources&gt;\r\n\t\t\t&lt;testResource&gt;\r\n\t\t\t\t&lt;directory&gt;src/test/java&lt;/directory&gt;\r\n\t\t\t\t&lt;includes&gt;\r\n\t\t\t\t\t&lt;include&gt;**/*.properties&lt;/include&gt;\r\n\t\t\t\t\t&lt;include&gt;**/*.xml&lt;/include&gt;\r\n\t\t\t\t&lt;/includes&gt;\r\n\t\t\t&lt;/testResource&gt;\r\n\t\t&lt;/testResources&gt;\r\n\t&lt;/build&gt;\r\n&lt;/project&gt;\r\n`\r\n\r\n[Path that I am reaching with `mvn clean install` (wrong path)][3]\r\n\r\nAlso, the `log4j-2.3.2.pom` in the image above has the `301 Moved Permanently` code on the content.\r\n\r\nCould someone help me with this? I&#39;m here to give more information if you need.\r\n\r\n**Last update:**\r\n\r\nWhen I get rid of the `repository` folder inside `$HOME/.m2` as recommended, I had the following error message: \r\n\r\n```\r\nProject ID: org.apache.maven.plugins:maven-clean-plugin\r\nPOM Location: C:\\Users\\&lt;My User&gt;\\.m2\\repository\\org\\apache\\maven\\plugins\\maven-clean-plugin\\2.2\\maven-clean-plugin-2.2.pom\r\n\r\nReason: Not a v4.0.0 POM. for project org.apache.maven.plugins:maven-clean-plugin at C:\\Users\\&lt;My User&gt;\\.m2\\repository\\org\\apache\\maven\\plugins\\maven-clean-plugin\\2.2\\maven-clean-plugin-2.2.pom\r\n```\r\n\r\n  [1]: https://i.stack.imgur.com/cs5V5.png\r\n  [2]: https://i.stack.imgur.com/NJpow.png\r\n  [3]: https://i.stack.imgur.com/ReM0H.png","title":"Cannot find parent: org.apache.logging.log4j:log4j for project: null:log4j-core:jar:null for project null:log4j-core:jar:null","body":"<p>I am trying to upgrade the log4j version of my application, but when I run <code>mvn clean install</code> to get the .ear file I always have the same error.</p>\n<pre><code>Caused by: org.apache.maven.project.ProjectBuildingException: Parent: null:log4j-core:jar:null of project: unknown:log4j-core has wrong packaging: jar. Must be 'pom'. for project unknown:log4j-core\n    at org.apache.maven.project.DefaultMavenProjectBuilder.assembleLineage(DefaultMavenProjectBuilder.java:1403)\n    at org.apache.maven.project.DefaultMavenProjectBuilder.buildInternal(DefaultMavenProjectBuilder.java:823)\n    at org.apache.maven.project.DefaultMavenProjectBuilder.buildFromRepository(DefaultMavenProjectBuilder.java:255)\n    at org.apache.maven.project.artifact.MavenMetadataSource.retrieveRelocatedProject(MavenMetadataSource.java:163)\n    ... 25 more\n</code></pre>\n<p>Analyzing the error message, it looks like I'm pointing the wrong .pom file somewhere, but the dependencies look fine for me.</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n        &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n        &lt;version&gt;2.3&lt;/version&gt;\n        &lt;type&gt;pom&lt;/type&gt;\n    &lt;/dependency&gt;\n    \n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n        &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\n        &lt;version&gt;2.3&lt;/version&gt;\n    &lt;/dependency&gt;\n    \n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n        &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n        &lt;version&gt;2.3.2&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/NJpow.png\" rel=\"nofollow noreferrer\">Path that I want to reach running <code>mvn clean install</code></a></p>\n<p>Here is also the entire <code>pom.xml</code> of my .ear application and the path to the .pom file that is wrongly referenced by my application.</p>\n<p>`\n\n\nServer\ncom.client.bi\n1.0-SNAPSHOT\n</p>\n<pre><code>&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n&lt;artifactId&gt;ClientCRM-ejb-jar&lt;/artifactId&gt;\n&lt;packaging&gt;ejb&lt;/packaging&gt;\n&lt;name&gt;ClientCRM-ejb-jar&lt;/name&gt;\n&lt;properties&gt;\n    &lt;rootFolder&gt;..${file.separator}..&lt;/rootFolder&gt;\n    &lt;resourceFolder&gt;src/main/resources&lt;/resourceFolder&gt;\n    &lt;powermock.version&gt;1.5.5&lt;/powermock.version&gt;\n&lt;/properties&gt;\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-jaxrs&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-xc&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-core-asl&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-mapper-asl&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.sun.jersey&lt;/groupId&gt;\n        &lt;artifactId&gt;jersey-core&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.sun.jersey&lt;/groupId&gt;\n        &lt;artifactId&gt;jersey-server&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.jboss.ws&lt;/groupId&gt;\n        &lt;artifactId&gt;jbossws-jboss423&lt;/artifactId&gt;\n        &lt;version&gt;${jbossws-version}&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.jboss.ws.native&lt;/groupId&gt;\n        &lt;artifactId&gt;jbossws-native-core&lt;/artifactId&gt;\n        &lt;version&gt;${jbossws-version}&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.jboss.ws.native&lt;/groupId&gt;\n        &lt;artifactId&gt;jbossws-native-jaxws&lt;/artifactId&gt;\n        &lt;version&gt;${jbossws-version}&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;commons-lang&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-lang&lt;/artifactId&gt;\n        &lt;version&gt;2.1&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;joda-time&lt;/groupId&gt;\n        &lt;artifactId&gt;joda-time&lt;/artifactId&gt;\n        &lt;version&gt;1.6.2&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.ejb&lt;/groupId&gt;\n        &lt;artifactId&gt;ejb-api&lt;/artifactId&gt;\n        &lt;version&gt;3.0&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.j2ee&lt;/groupId&gt;\n        &lt;artifactId&gt;j2ee&lt;/artifactId&gt;\n        &lt;version&gt;1.4&lt;/version&gt;\n        &lt;type&gt;pom&lt;/type&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.jms&lt;/groupId&gt;\n        &lt;artifactId&gt;jms&lt;/artifactId&gt;\n        &lt;version&gt;1.1&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-annotations&lt;/artifactId&gt;\n        &lt;version&gt;3.2.1.ga&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;jsqlparser&lt;/groupId&gt;\n        &lt;artifactId&gt;jsqlparser&lt;/artifactId&gt;\n        &lt;version&gt;0.6.2.a&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;hsqldb&lt;/groupId&gt;\n        &lt;artifactId&gt;hsqldb&lt;/artifactId&gt;\n        &lt;version&gt;1.8.0.10&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\n        &lt;version&gt;3.3.1.ga&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;jboss&lt;/groupId&gt;\n        &lt;artifactId&gt;concurrent&lt;/artifactId&gt;\n        &lt;version&gt;4.2.3.GA&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;jboss&lt;/groupId&gt;\n        &lt;artifactId&gt;jbossmq-client&lt;/artifactId&gt;\n        &lt;version&gt;4.2.3.GA&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;jboss&lt;/groupId&gt;\n        &lt;artifactId&gt;jboss-common-client&lt;/artifactId&gt;\n        &lt;version&gt;4.2.3.GA&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;jboss&lt;/groupId&gt;\n        &lt;artifactId&gt;jboss-system-client&lt;/artifactId&gt;\n        &lt;version&gt;4.2.3.GA&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;jboss&lt;/groupId&gt;\n        &lt;artifactId&gt;jnp-client&lt;/artifactId&gt;\n        &lt;version&gt;4.2.3.GA&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.jmock&lt;/groupId&gt;\n        &lt;artifactId&gt;jmock-junit3&lt;/artifactId&gt;\n        &lt;version&gt;2.5.1&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;javassist&lt;/groupId&gt;\n        &lt;artifactId&gt;javassist&lt;/artifactId&gt;\n        &lt;version&gt;3.12.1.GA&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;   \n    \n    &lt;dependency&gt;\n        &lt;groupId&gt;org.powermock&lt;/groupId&gt;\n        &lt;artifactId&gt;powermock-module-junit4&lt;/artifactId&gt;\n        &lt;version&gt;${powermock.version}&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.powermock&lt;/groupId&gt;\n        &lt;artifactId&gt;powermock-api-mockito&lt;/artifactId&gt;\n        &lt;version&gt;${powermock.version}&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    \n    &lt;dependency&gt;\n        &lt;groupId&gt;junit&lt;/groupId&gt;\n        &lt;artifactId&gt;junit&lt;/artifactId&gt;\n        &lt;version&gt;4.11&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;axis&lt;/groupId&gt;\n        &lt;artifactId&gt;axis&lt;/artifactId&gt;\n        &lt;version&gt;1.4&lt;/version&gt;\n        &lt;type&gt;jar&lt;/type&gt;\n        &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n        &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n        &lt;version&gt;1.7.5&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n        &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\n        &lt;version&gt;1.7.5&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    \n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n        &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n        &lt;version&gt;2.3.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    \n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;finalName&gt;ClientCRM-ejb-jar&lt;/finalName&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-ejb-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;ejbVersion&gt;3.0&lt;/ejbVersion&gt;\n                &lt;archive&gt;\n                    &lt;addMavenDescriptor&gt;false&lt;/addMavenDescriptor&gt;\n                &lt;/archive&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n\n    &lt;filters&gt;\n        &lt;filter&gt;src/main/resources/properties/${targetEnvironment}.properties&lt;/filter&gt;\n    &lt;/filters&gt;\n    &lt;resources&gt;\n        &lt;resource&gt;\n            &lt;directory&gt;src/main/java&lt;/directory&gt;\n            &lt;includes&gt;\n                &lt;include&gt;**/*.properties&lt;/include&gt;\n            &lt;/includes&gt;\n            &lt;filtering&gt;true&lt;/filtering&gt;\n        &lt;/resource&gt;\n        &lt;resource&gt;\n            &lt;directory&gt;${resourceFolder}&lt;/directory&gt;\n            &lt;includes&gt;\n                &lt;include&gt;**/*.xml&lt;/include&gt;\n            &lt;/includes&gt;\n        &lt;/resource&gt;\n        &lt;resource&gt;\n            &lt;directory&gt;${resourceFolder}&lt;/directory&gt;\n            &lt;includes&gt;\n                &lt;include&gt;*.sql&lt;/include&gt;\n            &lt;/includes&gt;\n        &lt;/resource&gt;\n    &lt;/resources&gt;\n\n    &lt;testResources&gt;\n        &lt;testResource&gt;\n            &lt;directory&gt;src/test/java&lt;/directory&gt;\n            &lt;includes&gt;\n                &lt;include&gt;**/*.properties&lt;/include&gt;\n                &lt;include&gt;**/*.xml&lt;/include&gt;\n            &lt;/includes&gt;\n        &lt;/testResource&gt;\n    &lt;/testResources&gt;\n&lt;/build&gt;\n</code></pre>\n\n`\n<p><a href=\"https://i.stack.imgur.com/ReM0H.png\" rel=\"nofollow noreferrer\">Path that I am reaching with <code>mvn clean install</code> (wrong path)</a></p>\n<p>Also, the <code>log4j-2.3.2.pom</code> in the image above has the <code>301 Moved Permanently</code> code on the content.</p>\n<p>Could someone help me with this? I'm here to give more information if you need.</p>\n<p><strong>Last update:</strong></p>\n<p>When I get rid of the <code>repository</code> folder inside <code>$HOME/.m2</code> as recommended, I had the following error message:</p>\n<pre><code>Project ID: org.apache.maven.plugins:maven-clean-plugin\nPOM Location: C:\\Users\\&lt;My User&gt;\\.m2\\repository\\org\\apache\\maven\\plugins\\maven-clean-plugin\\2.2\\maven-clean-plugin-2.2.pom\n\nReason: Not a v4.0.0 POM. for project org.apache.maven.plugins:maven-clean-plugin at C:\\Users\\&lt;My User&gt;\\.m2\\repository\\org\\apache\\maven\\plugins\\maven-clean-plugin\\2.2\\maven-clean-plugin-2.2.pom\n</code></pre>\n"},{"tags":["java","spring-boot","cxf","jax-ws"],"owner":{"account_id":1096964,"reputation":3884,"user_id":1090360,"accept_rate":84,"display_name":"JackTheKnife"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":247,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1645577219,"creation_date":1645577219,"question_id":71230085,"body_markdown":"I&#39;m new to the CXF and JAX-WS using with Spring Boot. So far I have a service with one endpoint but as next I want to add another endpoint to the same service by publishing new endpoint as\r\n\r\n```\r\n@Configuration\r\npublic class CXFSvcConfig\r\n{\r\n\t@Autowired\r\n\tprotected Bus bus;\r\n\t\r\n   @Bean\r\n   @ConditionalOnMissingBean\r\n   public Service mySvc()\r\n   {\r\n      return new Service();\r\n   }\r\n\r\n\r\n   @Bean\r\n\t@ConditionalOnMissingBean    \r\n    public Endpoint testService1()\r\n    {\r\n        final EndpointImpl endpoint = new EndpointImpl(bus, mySvc());\r\n        endpoint.publish(&quot;/Service1&quot;);\r\n        return endpoint;\r\n    }\r\n\r\n   @Bean\r\n   @ConditionalOnMissingBean\r\n   public Endpoint testService2()\r\n   {\r\n      final EndpointImpl endpoint2 = new EndpointImpl(bus, mySvc());\r\n      endpoint2.publish(&quot;/Service2&quot;);\r\n      return endpoint2;\r\n   }\r\n}\r\n\r\n```\r\n\r\n`/Service1` endpoint will work fine (will display WSDL) but `/Service2` will throw `Service not found` when I will expect to see the same WSDL as is for `/Service1`\r\n\r\nWhat am I doing wrong?","title":"CXF web services and multiple endpoints for service","body":"<p>I'm new to the CXF and JAX-WS using with Spring Boot. So far I have a service with one endpoint but as next I want to add another endpoint to the same service by publishing new endpoint as</p>\n<pre><code>@Configuration\npublic class CXFSvcConfig\n{\n    @Autowired\n    protected Bus bus;\n    \n   @Bean\n   @ConditionalOnMissingBean\n   public Service mySvc()\n   {\n      return new Service();\n   }\n\n\n   @Bean\n    @ConditionalOnMissingBean    \n    public Endpoint testService1()\n    {\n        final EndpointImpl endpoint = new EndpointImpl(bus, mySvc());\n        endpoint.publish(&quot;/Service1&quot;);\n        return endpoint;\n    }\n\n   @Bean\n   @ConditionalOnMissingBean\n   public Endpoint testService2()\n   {\n      final EndpointImpl endpoint2 = new EndpointImpl(bus, mySvc());\n      endpoint2.publish(&quot;/Service2&quot;);\n      return endpoint2;\n   }\n}\n\n</code></pre>\n<p><code>/Service1</code> endpoint will work fine (will display WSDL) but <code>/Service2</code> will throw <code>Service not found</code> when I will expect to see the same WSDL as is for <code>/Service1</code></p>\n<p>What am I doing wrong?</p>\n"},{"tags":["java","jfreechart","java-time"],"answers":[{"tags":[],"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1645576515,"creation_date":1616179478,"answer_id":66713994,"question_id":66705486,"body_markdown":"In the case of [`LocalDate`][1], you can create a time series chart by constructing the corresponding [`Day`][2], as shown below.\r\n\r\n    LocalDate ld = entry.getKey();\r\n    Day d = new Day(ld.getDayOfMonth(), ld.getMonthValue(), ld.getYear());\r\n    series.add(d, entry.getValue());\r\n\r\nIf you have relevant time zone data, you can use it when constructing the `Day`. A similar approach can be used for [`LocalDateTime`][3] and any desired concrete [`RegularTimePeriod`][4]. See also the approach shown [here][5] and [here][6], given an [`Instant`][7]. Moreover, a custom implementation of `XYDataset`, seen [here][8], can simply convert the result of `toEpochMilli()` and return it from `getX()`.\r\n\r\n[![image][9]][9]\r\n\r\n```\r\n\r\nimport java.awt.Dimension;\r\nimport java.awt.EventQueue;\r\nimport java.text.DateFormat;\r\nimport java.time.LocalDate;\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\nimport javax.swing.JFrame;\r\nimport org.jfree.chart.ChartFactory;\r\nimport org.jfree.chart.ChartPanel;\r\nimport org.jfree.chart.JFreeChart;\r\nimport org.jfree.chart.axis.DateAxis;\r\nimport org.jfree.chart.plot.XYPlot;\r\nimport org.jfree.data.time.Day;\r\nimport org.jfree.data.time.TimeSeries;\r\nimport org.jfree.data.time.TimeSeriesCollection;\r\nimport org.jfree.data.xy.XYDataset;\r\n\r\n/**\r\n * @see https://stackoverflow.com/a/66713994/230513\r\n * @see https://stackoverflow.com/a/12481509/230513\r\n */\r\npublic class XYTest {\r\n\r\n    private static final int N = 16;\r\n\r\n    private XYDataset createDataset() {\r\n        long t = LocalDate.now().toEpochDay();\r\n        Map&lt;LocalDate, Integer&gt; dateToCountMap = new HashMap&lt;&gt;();\r\n        for (int i = 0; i &lt; N; i++) {\r\n            dateToCountMap.put(LocalDate.ofEpochDay(t + i), (int) Math.pow(i, 1.61));\r\n        }\r\n        TimeSeries series = new TimeSeries(&quot;Data)&quot;);\r\n        for (Map.Entry&lt;LocalDate, Integer&gt; entry : dateToCountMap.entrySet()) {\r\n            LocalDate ld = entry.getKey();\r\n            Day d = new Day(ld.getDayOfMonth(), ld.getMonthValue(), ld.getYear());\r\n            series.add(d, entry.getValue());\r\n        }\r\n        return new TimeSeriesCollection(series);\r\n    }\r\n\r\n    private JFreeChart createChart(final XYDataset dataset) {\r\n        JFreeChart chart = ChartFactory.createTimeSeriesChart(\r\n            &quot;Test&quot;, &quot;Day&quot;, &quot;Value&quot;, dataset, false, false, false);\r\n        XYPlot plot = (XYPlot) chart.getPlot();\r\n        DateAxis domain = (DateAxis) plot.getDomainAxis();\r\n        domain.setDateFormatOverride(DateFormat.getDateInstance());\r\n        return chart;\r\n    }\r\n\r\n    static void create() {\r\n        JFrame frame = new JFrame(&quot;Bar Chart&quot;);\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        XYTest xyTest = new XYTest();\r\n        XYDataset dataset = xyTest.createDataset();\r\n        JFreeChart chart = xyTest.createChart(dataset);\r\n        ChartPanel chartPanel = new ChartPanel(chart) {\r\n\r\n            @Override\r\n            public Dimension getPreferredSize() {\r\n                return new Dimension(800, 300);\r\n            }\r\n        };\r\n        frame.add(chartPanel);\r\n        frame.pack();\r\n        frame.setLocationRelativeTo(null);\r\n        frame.setVisible(true);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        EventQueue.invokeLater(XYTest::create);\r\n    }\r\n}\r\n```\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html\r\n  [2]: https://www.jfree.org/jfreechart/api/javadoc/org/jfree/data/time/Day.html\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/time/LocalDateTime.html\r\n  [4]: https://www.jfree.org/jfreechart/api/javadoc/org/jfree/data/time/RegularTimePeriod.html\r\n  [5]: https://stackoverflow.com/a/66500377/230513\r\n  [6]: https://stackoverflow.com/a/45173688/230513\r\n  [7]: https://docs.oracle.com/javase/8/docs/api/java/time/Instant.html\r\n  [8]: https://stackoverflow.com/a/12481509/230513\r\n  [9]: https://i.stack.imgur.com/PzoW7.png","title":"JFreeChart: create a chart with java.time.LocalDate or java.time.LocalDateTime","body":"<p>In the case of <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html\" rel=\"nofollow noreferrer\"><code>LocalDate</code></a>, you can create a time series chart by constructing the corresponding <a href=\"https://www.jfree.org/jfreechart/api/javadoc/org/jfree/data/time/Day.html\" rel=\"nofollow noreferrer\"><code>Day</code></a>, as shown below.</p>\n<pre><code>LocalDate ld = entry.getKey();\nDay d = new Day(ld.getDayOfMonth(), ld.getMonthValue(), ld.getYear());\nseries.add(d, entry.getValue());\n</code></pre>\n<p>If you have relevant time zone data, you can use it when constructing the <code>Day</code>. A similar approach can be used for <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalDateTime.html\" rel=\"nofollow noreferrer\"><code>LocalDateTime</code></a> and any desired concrete <a href=\"https://www.jfree.org/jfreechart/api/javadoc/org/jfree/data/time/RegularTimePeriod.html\" rel=\"nofollow noreferrer\"><code>RegularTimePeriod</code></a>. See also the approach shown <a href=\"https://stackoverflow.com/a/66500377/230513\">here</a> and <a href=\"https://stackoverflow.com/a/45173688/230513\">here</a>, given an <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/Instant.html\" rel=\"nofollow noreferrer\"><code>Instant</code></a>. Moreover, a custom implementation of <code>XYDataset</code>, seen <a href=\"https://stackoverflow.com/a/12481509/230513\">here</a>, can simply convert the result of <code>toEpochMilli()</code> and return it from <code>getX()</code>.</p>\n<p><a href=\"https://i.stack.imgur.com/PzoW7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PzoW7.png\" alt=\"image\" /></a></p>\n<pre><code>\nimport java.awt.Dimension;\nimport java.awt.EventQueue;\nimport java.text.DateFormat;\nimport java.time.LocalDate;\nimport java.util.HashMap;\nimport java.util.Map;\nimport javax.swing.JFrame;\nimport org.jfree.chart.ChartFactory;\nimport org.jfree.chart.ChartPanel;\nimport org.jfree.chart.JFreeChart;\nimport org.jfree.chart.axis.DateAxis;\nimport org.jfree.chart.plot.XYPlot;\nimport org.jfree.data.time.Day;\nimport org.jfree.data.time.TimeSeries;\nimport org.jfree.data.time.TimeSeriesCollection;\nimport org.jfree.data.xy.XYDataset;\n\n/**\n * @see https://stackoverflow.com/a/66713994/230513\n * @see https://stackoverflow.com/a/12481509/230513\n */\npublic class XYTest {\n\n    private static final int N = 16;\n\n    private XYDataset createDataset() {\n        long t = LocalDate.now().toEpochDay();\n        Map&lt;LocalDate, Integer&gt; dateToCountMap = new HashMap&lt;&gt;();\n        for (int i = 0; i &lt; N; i++) {\n            dateToCountMap.put(LocalDate.ofEpochDay(t + i), (int) Math.pow(i, 1.61));\n        }\n        TimeSeries series = new TimeSeries(&quot;Data)&quot;);\n        for (Map.Entry&lt;LocalDate, Integer&gt; entry : dateToCountMap.entrySet()) {\n            LocalDate ld = entry.getKey();\n            Day d = new Day(ld.getDayOfMonth(), ld.getMonthValue(), ld.getYear());\n            series.add(d, entry.getValue());\n        }\n        return new TimeSeriesCollection(series);\n    }\n\n    private JFreeChart createChart(final XYDataset dataset) {\n        JFreeChart chart = ChartFactory.createTimeSeriesChart(\n            &quot;Test&quot;, &quot;Day&quot;, &quot;Value&quot;, dataset, false, false, false);\n        XYPlot plot = (XYPlot) chart.getPlot();\n        DateAxis domain = (DateAxis) plot.getDomainAxis();\n        domain.setDateFormatOverride(DateFormat.getDateInstance());\n        return chart;\n    }\n\n    static void create() {\n        JFrame frame = new JFrame(&quot;Bar Chart&quot;);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        XYTest xyTest = new XYTest();\n        XYDataset dataset = xyTest.createDataset();\n        JFreeChart chart = xyTest.createChart(dataset);\n        ChartPanel chartPanel = new ChartPanel(chart) {\n\n            @Override\n            public Dimension getPreferredSize() {\n                return new Dimension(800, 300);\n            }\n        };\n        frame.add(chartPanel);\n        frame.pack();\n        frame.setLocationRelativeTo(null);\n        frame.setVisible(true);\n    }\n\n    public static void main(String[] args) {\n        EventQueue.invokeLater(XYTest::create);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":216698,"reputation":26495,"user_id":472109,"accept_rate":85,"display_name":"Geoffrey De Smet"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":639,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":66713994,"answer_count":1,"score":3,"last_activity_date":1645576515,"creation_date":1616145664,"question_id":66705486,"body_markdown":"`java.util.Date` is very error prone. It is dead. Long live `java.time.*`.\r\n\r\nGiven a `Map&lt;LocalDate, Integer&gt; dateToCountMap`, how do I create a `JFreeChart` chart that shows the count per date?","title":"JFreeChart: create a chart with java.time.LocalDate or java.time.LocalDateTime","body":"<p><code>java.util.Date</code> is very error prone. It is dead. Long live <code>java.time.*</code>.</p>\n<p>Given a <code>Map&lt;LocalDate, Integer&gt; dateToCountMap</code>, how do I create a <code>JFreeChart</code> chart that shows the count per date?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":2,"creation_date":1645576164,"post_id":71229972,"comment_id":125907368,"body_markdown":"The problem (the runtime exception) is caused by running a program that has not compiled correctly.  The solution is to fix the compilation errors **before** you attempt to run the program.  We don&#39;t know what the compilation errors are because you haven&#39;t told us.","body":"The problem (the runtime exception) is caused by running a program that has not compiled correctly.  The solution is to fix the compilation errors <b>before</b> you attempt to run the program.  We don&#39;t know what the compilation errors are because you haven&#39;t told us."},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1645576247,"post_id":71229972,"comment_id":125907389,"body_markdown":"You seem to have an extra `}` at the of the file","body":"You seem to have an extra <code>}</code> at the of the file"}],"answers":[{"tags":[],"owner":{"account_id":4099822,"reputation":1256,"user_id":3365667,"display_name":"Roslan Amir"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1645576263,"creation_date":1645576263,"answer_id":71229997,"question_id":71229972,"body_markdown":"If you formatted your code properly using an IDE, you would have noticed that you have an extra closing brace `}` at the end.","title":"Java programming error &quot;Exception in thread &quot;main&quot; java.lang.Error: Unresolved compilation problem:&quot;","body":"<p>If you formatted your code properly using an IDE, you would have noticed that you have an extra closing brace <code>}</code> at the end.</p>\n"}],"owner":{"account_id":14437836,"reputation":1,"user_id":10429377,"display_name":"farris"},"comment_count":2,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3306,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1645577094,"accepted_answer_id":71229997,"answer_count":1,"score":-3,"last_activity_date":1645576347,"creation_date":1645575912,"question_id":71229972,"body_markdown":"New Java programmer. I have no idea of what&#39;s causing this error.\r\n\r\nEverything compiled fine until I added the if statements.\r\nStill learning how to debug. \r\n\r\n```\r\nimport javax.swing.*;\r\npublic class VelocityTest2 {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\t//Chapter3 example\r\n\t\t// \r\n\t\t\r\n\t\tint time2, time1;\r\n\t\tdouble distance1, distance2, velocity;\r\n\t\tdouble velocityValue = 60.0;\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\tString input= JOptionPane.showInputDialog(&quot;Enter time 2&quot;);\r\n\t\ttime2= Integer.parseInt(input); // Enter 4 (hrs)\r\n\t\t\r\n\t\tinput= JOptionPane.showInputDialog(&quot;Enter time 1&quot;);\r\n\t\ttime1= Integer.parseInt(input); \r\n\t\t\r\n\t\tinput= JOptionPane.showInputDialog(&quot;Enter distance 2&quot;);\r\n\t\tdistance2 = Integer.parseInt(input); \r\n\t\t\r\n\t\tinput= JOptionPane.showInputDialog(&quot;Enter distance 1&quot;);\r\n\t\tdistance1 = Integer.parseInt(input); \r\n\t\t\r\n\t\tvelocity = (distance2 - distance1)/(time2 - time1);\r\n\t\t\r\n\t\tSystem.out.println();\r\n\t\t\r\n\t\tSystem.out.println(&quot;the velocity is &quot; + velocity);\r\n\t\t\r\n\t\t\r\n\t\tif (velocity &gt; velocityValue) {\r\n\t\t\tSystem.out.println(&quot;the velocity is greater than 60&quot;);\r\n\t\t}\r\n\t\t\t\r\n\t\telse {\r\n\t\t\tSystem.out.println(&quot;the velocity is less than 60&quot;);\r\n\t\t}\r\n\t\t\t\r\n\t\t\t}\r\n\t\t\r\n\r\n\r\n\t}\r\n\r\n}\r\n```","title":"Java programming error &quot;Exception in thread &quot;main&quot; java.lang.Error: Unresolved compilation problem:&quot;","body":"<p>New Java programmer. I have no idea of what's causing this error.</p>\n<p>Everything compiled fine until I added the if statements.\nStill learning how to debug.</p>\n<pre><code>import javax.swing.*;\npublic class VelocityTest2 {\n\n    public static void main(String[] args) {\n        \n        //Chapter3 example\n        // \n        \n        int time2, time1;\n        double distance1, distance2, velocity;\n        double velocityValue = 60.0;\n        \n        \n        \n        String input= JOptionPane.showInputDialog(&quot;Enter time 2&quot;);\n        time2= Integer.parseInt(input); // Enter 4 (hrs)\n        \n        input= JOptionPane.showInputDialog(&quot;Enter time 1&quot;);\n        time1= Integer.parseInt(input); \n        \n        input= JOptionPane.showInputDialog(&quot;Enter distance 2&quot;);\n        distance2 = Integer.parseInt(input); \n        \n        input= JOptionPane.showInputDialog(&quot;Enter distance 1&quot;);\n        distance1 = Integer.parseInt(input); \n        \n        velocity = (distance2 - distance1)/(time2 - time1);\n        \n        System.out.println();\n        \n        System.out.println(&quot;the velocity is &quot; + velocity);\n        \n        \n        if (velocity &gt; velocityValue) {\n            System.out.println(&quot;the velocity is greater than 60&quot;);\n        }\n            \n        else {\n            System.out.println(&quot;the velocity is less than 60&quot;);\n        }\n            \n            }\n        \n\n\n    }\n\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-data-rest","x-forwarded-for"],"comments":[{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":1,"creation_date":1645563017,"post_id":71227989,"comment_id":125903739,"body_markdown":"Try adding `@Import(ForwardedHeaderFilter.class)` on one of your `@Configuration`s.","body":"Try adding <code>@Import(ForwardedHeaderFilter.class)</code> on one of your <code>@Configuration</code>s."},{"owner":{"account_id":55691,"reputation":7677,"user_id":166850,"accept_rate":67,"display_name":"RMorrisey"},"score":0,"creation_date":1645563567,"post_id":71227989,"comment_id":125903915,"body_markdown":"Thanks, I will try this and let you know the result","body":"Thanks, I will try this and let you know the result"},{"owner":{"account_id":55691,"reputation":7677,"user_id":166850,"accept_rate":67,"display_name":"RMorrisey"},"score":0,"creation_date":1645570793,"post_id":71227989,"comment_id":125906139,"body_markdown":"This change solved the issue and allowed me to throw out a maze of junk code! Thanks for your help. Don&#39;t forget to post an answer so I can mark it as accepted. We will configure our gateway to send the X-Forwarded-* headers properly if it&#39;s not doing that already.","body":"This change solved the issue and allowed me to throw out a maze of junk code! Thanks for your help. Don&#39;t forget to post an answer so I can mark it as accepted. We will configure our gateway to send the X-Forwarded-* headers properly if it&#39;s not doing that already."}],"answers":[{"tags":[],"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1645576220,"creation_date":1645576220,"answer_id":71229994,"question_id":71227989,"body_markdown":"If Spring MVC knows about your load balancer/proxy, it can automatically rewrite generated URLs in Spring Data REST and your own controllers (with `MvcUriComponentsBuilder`) to reflect the original request URL, including scheme, port, and more.\r\n\r\nThere&#39;s a built-in Servlet filter named `ForwardedHeaderFilter` that handles this for you by inspecting well-known forwarding headers such as `X-Forwarded-For`; if you&#39;re using Spring Boot, you can set `server.forward-headers-strategy = framework` to get one registered, or you can use `@Import(ForwardedHeaderFilter.class)` to create a bean that Boot will then apply to the container. If you&#39;re using Spring MVC without Boot, add this filter to your Servlet configuration.","title":"How do I rewrite the app&#39;s base URL in spring-data-rest links?","body":"<p>If Spring MVC knows about your load balancer/proxy, it can automatically rewrite generated URLs in Spring Data REST and your own controllers (with <code>MvcUriComponentsBuilder</code>) to reflect the original request URL, including scheme, port, and more.</p>\n<p>There's a built-in Servlet filter named <code>ForwardedHeaderFilter</code> that handles this for you by inspecting well-known forwarding headers such as <code>X-Forwarded-For</code>; if you're using Spring Boot, you can set <code>server.forward-headers-strategy = framework</code> to get one registered, or you can use <code>@Import(ForwardedHeaderFilter.class)</code> to create a bean that Boot will then apply to the container. If you're using Spring MVC without Boot, add this filter to your Servlet configuration.</p>\n"}],"owner":{"account_id":55691,"reputation":7677,"user_id":166850,"accept_rate":67,"display_name":"RMorrisey"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":727,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71229994,"answer_count":1,"score":1,"last_activity_date":1645576264,"creation_date":1645562228,"question_id":71227989,"body_markdown":"My company uses an API gateway that transforms URLs as follows, modifying both the hostname and the base path of the resource:\r\n```https://apigateway.mycompany.com/myapp/foo -&gt; https://myapp.mycompany.com/foo```\r\n\r\nIn Spring Data REST, the app wants to generate links using ```https://myapp.mycompany.com/foo```. How can I customize the app to force it to produce API gateway links for all ```rel``` attributes? \r\n\r\nI want to change the way that the links are rendered *without* changing the actual paths to those resources on the myapp.mycompany.com server. I checked the docs section on customizing the ```rel``` but it doesn&#39;t appear to cover this use case.\r\n\r\nWhat should I do?\r\n","title":"How do I rewrite the app&#39;s base URL in spring-data-rest links?","body":"<p>My company uses an API gateway that transforms URLs as follows, modifying both the hostname and the base path of the resource:\n<code>https://apigateway.mycompany.com/myapp/foo -&gt; https://myapp.mycompany.com/foo</code></p>\n<p>In Spring Data REST, the app wants to generate links using <code>https://myapp.mycompany.com/foo</code>. How can I customize the app to force it to produce API gateway links for all <code>rel</code> attributes?</p>\n<p>I want to change the way that the links are rendered <em>without</em> changing the actual paths to those resources on the myapp.mycompany.com server. I checked the docs section on customizing the <code>rel</code> but it doesn't appear to cover this use case.</p>\n<p>What should I do?</p>\n"},{"tags":["java","algorithm","data-structures"],"comments":[{"owner":{"account_id":17000499,"reputation":48397,"user_id":12299000,"display_name":"kaya3"},"score":0,"creation_date":1645496017,"post_id":71215108,"comment_id":125881344,"body_markdown":"`System.currentTimeMillis` does not guarantee returning different numbers each time you call it. Neither does `System.nanoTime`, for that matter.","body":"<code>System.currentTimeMillis</code> does not guarantee returning different numbers each time you call it. Neither does <code>System.nanoTime</code>, for that matter."},{"owner":{"account_id":17000499,"reputation":48397,"user_id":12299000,"display_name":"kaya3"},"score":0,"creation_date":1645496286,"post_id":71215108,"comment_id":125881402,"body_markdown":"Does this answer your question? [Making a Java PriorityQueue into a stable priority queue](https://stackoverflow.com/questions/21617098/making-a-java-priorityqueue-into-a-stable-priority-queue)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/21617098/making-a-java-priorityqueue-into-a-stable-priority-queue\">Making a Java PriorityQueue into a stable priority queue</a>"},{"owner":{"account_id":11774606,"reputation":1337,"user_id":10969942,"display_name":"maplemaple"},"score":0,"creation_date":1645496310,"post_id":71215108,"comment_id":125881408,"body_markdown":"@kaya3 Thank you so mcuh. First learn the caveat!","body":"@kaya3 Thank you so mcuh. First learn the caveat!"}],"answers":[{"tags":[],"owner":{"account_id":23685228,"reputation":1103,"user_id":17710270,"display_name":"passer-by"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1645574102,"creation_date":1645495872,"answer_id":71215165,"question_id":71215108,"body_markdown":"Assign a sequence number in order of arrival. This requires just replacing the line where you assign &#39;timestamp&#39; with assigning the next value of a monotonically increasing sequence number. \r\n\r\n    static long nextSequence = 0;\r\n    long sequence = nextSequence++;\r\n\r\nand replace your use of &#39;timestamp&#39; with &#39;sequence&#39;.\r\n\r\nI regard this as superior to use of currentTimeMillis since (a) it allows processing of arrival rates higher than one every millisecond, and (b) the current time is not guaranteed against going backwards.\r\n\r\nA long integer has plenty of headroom. If you&#39;re generating a new id every 100 nS, it&#39;ll overflow after about 30,000 years.","title":"How to use insertion order to break tier for PriorityQueue or minHeap?","body":"<p>Assign a sequence number in order of arrival. This requires just replacing the line where you assign 'timestamp' with assigning the next value of a monotonically increasing sequence number.</p>\n<pre><code>static long nextSequence = 0;\nlong sequence = nextSequence++;\n</code></pre>\n<p>and replace your use of 'timestamp' with 'sequence'.</p>\n<p>I regard this as superior to use of currentTimeMillis since (a) it allows processing of arrival rates higher than one every millisecond, and (b) the current time is not guaranteed against going backwards.</p>\n<p>A long integer has plenty of headroom. If you're generating a new id every 100 nS, it'll overflow after about 30,000 years.</p>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1645504021,"creation_date":1645499287,"answer_id":71215449,"question_id":71215108,"body_markdown":"I&#39;ve come to the following solution:\r\n* implement a container that wraps a `PriorityQueue` and track the *count* of element added to the queue;\r\n* create wrapper over the `Student` class, which I implemented as a `record`.\r\n```\r\npublic record StudentWrapper(Student student, long queueId) {}\r\n```\r\n```\r\npublic class OrderedQueue {\r\n    private static final Comparator&lt;StudentWrapper&gt; BY_AGE_AND_QUEUE_ID =\r\n            Comparator.&lt;StudentWrapper&gt;comparingInt(studWr -&gt; studWr.student().getAge())\r\n                    .thenComparingLong(StudentWrapper::queueId);\r\n\r\n    private Queue&lt;StudentWrapper&gt; queue;\r\n    private long count;\r\n\r\n    public OrderedQueue() {\r\n        this.queue = new PriorityQueue&lt;&gt;(BY_AGE_AND_QUEUE_ID);\r\n    }\r\n\r\n    public void addStudent(Student student) {\r\n        queue.offer(new StudentWrapper(student, count++));\r\n    }\r\n\r\n    public Optional&lt;Student&gt; removeStudent() {\r\n        return Optional.ofNullable(queue.poll())\r\n                .map(StudentWrapper::student);\r\n    }\r\n\r\n    public boolean isEmpty() {\r\n        return queue.isEmpty();\r\n    }\r\n}\r\n```\r\n**main**\r\n```\r\n    public static void main(String[] args) {\r\n        OrderedQueue orderedQueue = new OrderedQueue();\r\n        orderedQueue.addStudent(new Student(1, &quot;foo&quot;));\r\n        orderedQueue.addStudent(new Student(2, &quot;a&quot;));\r\n        orderedQueue.addStudent(new Student(2, &quot;b&quot;));\r\n        orderedQueue.addStudent(new Student(1, &quot;bar&quot;));\r\n        orderedQueue.addStudent(new Student(1, &quot;c&quot;));\r\n\r\n        while (!orderedQueue.isEmpty()) {\r\n            orderedQueue.removeStudent().ifPresent(System.out::println);\r\n        }\r\n    }\r\n```\r\n**Output**\r\n```\r\nStudent{age=1, name=&#39;foo&#39;}\r\nStudent{age=1, name=&#39;bar&#39;}\r\nStudent{age=1, name=&#39;c&#39;}\r\nStudent{age=2, name=&#39;a&#39;}\r\nStudent{age=2, name=&#39;b&#39;}\r\n```","title":"How to use insertion order to break tier for PriorityQueue or minHeap?","body":"<p>I've come to the following solution:</p>\n<ul>\n<li>implement a container that wraps a <code>PriorityQueue</code> and track the <em>count</em> of element added to the queue;</li>\n<li>create wrapper over the <code>Student</code> class, which I implemented as a <code>record</code>.</li>\n</ul>\n<pre><code>public record StudentWrapper(Student student, long queueId) {}\n</code></pre>\n<pre><code>public class OrderedQueue {\n    private static final Comparator&lt;StudentWrapper&gt; BY_AGE_AND_QUEUE_ID =\n            Comparator.&lt;StudentWrapper&gt;comparingInt(studWr -&gt; studWr.student().getAge())\n                    .thenComparingLong(StudentWrapper::queueId);\n\n    private Queue&lt;StudentWrapper&gt; queue;\n    private long count;\n\n    public OrderedQueue() {\n        this.queue = new PriorityQueue&lt;&gt;(BY_AGE_AND_QUEUE_ID);\n    }\n\n    public void addStudent(Student student) {\n        queue.offer(new StudentWrapper(student, count++));\n    }\n\n    public Optional&lt;Student&gt; removeStudent() {\n        return Optional.ofNullable(queue.poll())\n                .map(StudentWrapper::student);\n    }\n\n    public boolean isEmpty() {\n        return queue.isEmpty();\n    }\n}\n</code></pre>\n<p><strong>main</strong></p>\n<pre><code>    public static void main(String[] args) {\n        OrderedQueue orderedQueue = new OrderedQueue();\n        orderedQueue.addStudent(new Student(1, &quot;foo&quot;));\n        orderedQueue.addStudent(new Student(2, &quot;a&quot;));\n        orderedQueue.addStudent(new Student(2, &quot;b&quot;));\n        orderedQueue.addStudent(new Student(1, &quot;bar&quot;));\n        orderedQueue.addStudent(new Student(1, &quot;c&quot;));\n\n        while (!orderedQueue.isEmpty()) {\n            orderedQueue.removeStudent().ifPresent(System.out::println);\n        }\n    }\n</code></pre>\n<p><strong>Output</strong></p>\n<pre><code>Student{age=1, name='foo'}\nStudent{age=1, name='bar'}\nStudent{age=1, name='c'}\nStudent{age=2, name='a'}\nStudent{age=2, name='b'}\n</code></pre>\n"}],"owner":{"account_id":11774606,"reputation":1337,"user_id":10969942,"display_name":"maplemaple"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71215449,"answer_count":2,"score":0,"last_activity_date":1645574102,"creation_date":1645495238,"question_id":71215108,"body_markdown":"I met this question in an interview. The interviewer gave me an `class Student` like following:\r\n\r\n```java\r\nclass Student {\r\n    int age;\r\n    String name;\r\n\r\n    public Student(int age, String name) {\r\n        this.age = age;\r\n        this.name = name;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;Student{&quot; +\r\n                &quot;age=&quot; + age +\r\n                &quot;, name=&#39;&quot; + name + &#39;\\&#39;&#39; +\r\n                &#39;}&#39;;\r\n    }\r\n}\r\n```\r\nHe wanted me to implement a `PriorityQueue` with smallest student&#39;s age be highest priority. If there is a tier, he wanted me to use insertion order to break tier, i.e. earliest element with highest priority.\r\n\r\nMy idea is to use following warper class to encode infomation of timestamp.\r\n```java\r\nclass Element implements Comparable&lt;Element&gt; {\r\n    Student student;\r\n    long timestamp = System.currentTimeMillis();\r\n\r\n    public Element(Student student) {\r\n        this.student = student;\r\n    }\r\n\r\n    @Override\r\n    public int compareTo(Element o) {\r\n        int cmp = Integer.compare(student.age, o.student.age);\r\n        return cmp == 0 ? Long.compare(timestamp, o.timestamp) : cmp;\r\n    }\r\n}\r\n\r\npublic class Test {\r\n    public static void main(String[] args) {\r\n        PriorityQueue&lt;Element&gt; pq = new PriorityQueue&lt;&gt;();\r\n        Student t1 = new Student(2, &quot;a&quot;);\r\n        Student t2 = new Student(2, &quot;b&quot;);\r\n        Student t3 = new Student(1, &quot;c&quot;);\r\n\r\n        pq.offer(new Element(t1));\r\n        pq.offer(new Element(t2));\r\n        pq.offer(new Element(t3));\r\n\r\n        System.out.println(pq.poll().student);\r\n        System.out.println(pq.poll().student);\r\n        System.out.println(pq.poll().student);\r\n    }\r\n}\r\n``` \r\nHowever, the interviewer wanted me not to use timestamp infomation, then I cannot come up with a concrete solution in interview. I can only guess some ideas: \r\n\r\n(1) it may require me to use hybrid data structure(combine something like `LinkedHashMap`/`LinkedList` and `PriorityQueue`) \r\n\r\n(2) it may require me to implement personal binary minHeap which can break tier by using insertion order. I know how to implement minHeap using percolateUp and percolateDown. However, I never heard I can just hack the binary heap&#39;s implemention to use insertion order in algorithm class. \r\n\r\n","title":"How to use insertion order to break tier for PriorityQueue or minHeap?","body":"<p>I met this question in an interview. The interviewer gave me an <code>class Student</code> like following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Student {\n    int age;\n    String name;\n\n    public Student(int age, String name) {\n        this.age = age;\n        this.name = name;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Student{&quot; +\n                &quot;age=&quot; + age +\n                &quot;, name='&quot; + name + '\\'' +\n                '}';\n    }\n}\n</code></pre>\n<p>He wanted me to implement a <code>PriorityQueue</code> with smallest student's age be highest priority. If there is a tier, he wanted me to use insertion order to break tier, i.e. earliest element with highest priority.</p>\n<p>My idea is to use following warper class to encode infomation of timestamp.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Element implements Comparable&lt;Element&gt; {\n    Student student;\n    long timestamp = System.currentTimeMillis();\n\n    public Element(Student student) {\n        this.student = student;\n    }\n\n    @Override\n    public int compareTo(Element o) {\n        int cmp = Integer.compare(student.age, o.student.age);\n        return cmp == 0 ? Long.compare(timestamp, o.timestamp) : cmp;\n    }\n}\n\npublic class Test {\n    public static void main(String[] args) {\n        PriorityQueue&lt;Element&gt; pq = new PriorityQueue&lt;&gt;();\n        Student t1 = new Student(2, &quot;a&quot;);\n        Student t2 = new Student(2, &quot;b&quot;);\n        Student t3 = new Student(1, &quot;c&quot;);\n\n        pq.offer(new Element(t1));\n        pq.offer(new Element(t2));\n        pq.offer(new Element(t3));\n\n        System.out.println(pq.poll().student);\n        System.out.println(pq.poll().student);\n        System.out.println(pq.poll().student);\n    }\n}\n</code></pre>\n<p>However, the interviewer wanted me not to use timestamp infomation, then I cannot come up with a concrete solution in interview. I can only guess some ideas:</p>\n<p>(1) it may require me to use hybrid data structure(combine something like <code>LinkedHashMap</code>/<code>LinkedList</code> and <code>PriorityQueue</code>)</p>\n<p>(2) it may require me to implement personal binary minHeap which can break tier by using insertion order. I know how to implement minHeap using percolateUp and percolateDown. However, I never heard I can just hack the binary heap's implemention to use insertion order in algorithm class.</p>\n"},{"tags":["java","bufferstrategy"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1645574687,"post_id":71229752,"comment_id":125907033,"body_markdown":"Generally, no.  If you wanted this kind of feature, then you&#39;d need to make it yourself.  Remember in this case, you&#39;re using a &quot;page flipping&quot; process, where there is a &quot;presented&quot; buffer and then a series of &quot;off screen&quot; buffers.  You write to the off screen buffer(s) and then request that it be made the &quot;presentation&quot; buffer","body":"Generally, no.  If you wanted this kind of feature, then you&#39;d need to make it yourself.  Remember in this case, you&#39;re using a &quot;page flipping&quot; process, where there is a &quot;presented&quot; buffer and then a series of &quot;off screen&quot; buffers.  You write to the off screen buffer(s) and then request that it be made the &quot;presentation&quot; buffer"},{"owner":{"account_id":22235192,"reputation":35,"user_id":16470689,"display_name":"telos"},"score":0,"creation_date":1645576373,"post_id":71229752,"comment_id":125907417,"body_markdown":"@MadProgrammer Alright, thank you. I&#39;ll post it here if i end up creating it.","body":"@MadProgrammer Alright, thank you. I&#39;ll post it here if i end up creating it."}],"owner":{"account_id":22235192,"reputation":35,"user_id":16470689,"display_name":"telos"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1645573910,"creation_date":1645573910,"question_id":71229752,"body_markdown":"is there a way to get the content of the current Buffer im writing to? a sort of a representation of what i&#39;ve written to its graphics. For example, in the following code, i would like to get a BufferedImage or even an Array that has values that represent what i&#39;ve written, in this case; a black background and a white rectangle:\r\n\r\n```\r\npublic static void render (Canvas canvas) {\r\n\t\tBufferStrategy buffer = canvas.getBufferStrategy();\r\n\t\tGraphics g = buffer.getDrawGraphics();\r\n\t\t\r\n        g.setColor(Color.BLACK);\r\n\t\tg.fillRect(0, 0, canvas.getWidth(), canvas.getHeight());\r\n\r\n        g.setColor(Color.WHITE);\r\n        g.drawRect(50, 50, 100, 100);\t\r\n\r\n\t\tg.dispose();\r\n        // Maybe a method here that allows me to get what has been writen?\r\n\t\tbuffer.show();\t\t\t\t\t\r\n\t}\r\n```\r\n\r\nThanks in advance!","title":"How do i get the content of the BufferStrategy/its Graphics in Java?","body":"<p>is there a way to get the content of the current Buffer im writing to? a sort of a representation of what i've written to its graphics. For example, in the following code, i would like to get a BufferedImage or even an Array that has values that represent what i've written, in this case; a black background and a white rectangle:</p>\n<pre><code>public static void render (Canvas canvas) {\n        BufferStrategy buffer = canvas.getBufferStrategy();\n        Graphics g = buffer.getDrawGraphics();\n        \n        g.setColor(Color.BLACK);\n        g.fillRect(0, 0, canvas.getWidth(), canvas.getHeight());\n\n        g.setColor(Color.WHITE);\n        g.drawRect(50, 50, 100, 100);   \n\n        g.dispose();\n        // Maybe a method here that allows me to get what has been writen?\n        buffer.show();                  \n    }\n</code></pre>\n<p>Thanks in advance!</p>\n"},{"tags":["java","regex","split"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1645570248,"post_id":71229294,"comment_id":125906002,"body_markdown":"Whiteline? Do you mean white space?","body":"Whiteline? Do you mean white space?"},{"owner":{"account_id":1938802,"reputation":12091,"user_id":1745544,"accept_rate":23,"display_name":"OldProgrammer"},"score":3,"creation_date":1645570294,"post_id":71229294,"comment_id":125906022,"body_markdown":"show your code please","body":"show your code please"},{"owner":{"account_id":4739783,"reputation":612585,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"score":0,"creation_date":1645570802,"post_id":71229294,"comment_id":125906142,"body_markdown":"`String[] splitted = sentence.split(&quot;;(?=\\\\S)&quot;);`","body":"<code>String[] splitted = sentence.split(&quot;;(?=\\\\S)&quot;);</code>"}],"answers":[{"tags":[],"owner":{"account_id":23910782,"reputation":481,"user_id":17907758,"display_name":"anut"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645571026,"creation_date":1645570711,"answer_id":71229354,"question_id":71229294,"body_markdown":"You can use a regex negative lookahead/lookbehind for this.\r\n\r\n    String testString = &quot;hello;world; test1 ;test2&quot;;\r\n\r\n    String[] splitString = testString.split(&quot;(?&lt;! );(?! )&quot;); // Negative lookahead and lookbehind\r\n\r\n    for (String s : splitString) System.out.println(s);\r\nOutput:\r\n\r\n    hello\r\n    world; test1 ;test2\r\n\r\nHere, the characters near the start and end of the regex are saying &quot;only split on the semicolon if there are **no spaces before or after it**&quot;","title":"How do I skip splitting when white space occurs?","body":"<p>You can use a regex negative lookahead/lookbehind for this.</p>\n<pre><code>String testString = &quot;hello;world; test1 ;test2&quot;;\n\nString[] splitString = testString.split(&quot;(?&lt;! );(?! )&quot;); // Negative lookahead and lookbehind\n\nfor (String s : splitString) System.out.println(s);\n</code></pre>\n<p>Output:</p>\n<pre><code>hello\nworld; test1 ;test2\n</code></pre>\n<p>Here, the characters near the start and end of the regex are saying &quot;only split on the semicolon if there are <strong>no spaces before or after it</strong>&quot;</p>\n"}],"owner":{"account_id":14173417,"reputation":11,"user_id":10239404,"display_name":"M.Jankowski"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1645573773,"creation_date":1645570184,"question_id":71229294,"body_markdown":"I want to split using `&quot;;&quot;` as delimiter and put outcome into the list of strings, for example\r\n\r\nInput:\r\n\r\n    sentence;sentence;sentence\r\n\r\nshould produce:\r\n\r\n    [sentence, sentence, sentence]\r\n\r\nProblem is some strings are like this:\r\n`&quot;sentence; continuation;new sentence&quot;`, and for such I&#39;d like the outcome to be: `[sentence; continuation, new sentence]`.\r\n\r\nI&#39;d like to skip splitting when there is whitespace after (or before) semicolon.\r\n\r\nExample string I&#39;d like to split:\r\n\r\n    String sentence = &quot;Ogłoszenie o zam&#243;wieniu;2022/BZP 00065216/01;&quot;Dostawa pojemnik&#243;w na odpady segregowane (900 sztuk o pojemności 240 l – kolor ż&#243;łty; 30 sztuk o pojemności 1100 l – kolor ż&#243;łty).&quot;;Zakład Wodociąg&#243;w i Usług Komunalnych EKOWOD Sp&#243;łka z ograniczoną odpowiedzialnością&quot;\r\n\r\nI tried:\r\n\r\n    String[] splitted = sentence.split(&quot;;\\\\S&quot;);\r\n\r\nBut this cuts off the first character of each sentence.\r\n\r\n\r\n","title":"How do I skip splitting when white space occurs?","body":"<p>I want to split using <code>&quot;;&quot;</code> as delimiter and put outcome into the list of strings, for example</p>\n<p>Input:</p>\n<pre><code>sentence;sentence;sentence\n</code></pre>\n<p>should produce:</p>\n<pre><code>[sentence, sentence, sentence]\n</code></pre>\n<p>Problem is some strings are like this:\n<code>&quot;sentence; continuation;new sentence&quot;</code>, and for such I'd like the outcome to be: <code>[sentence; continuation, new sentence]</code>.</p>\n<p>I'd like to skip splitting when there is whitespace after (or before) semicolon.</p>\n<p>Example string I'd like to split:</p>\n<pre><code>String sentence = &quot;Ogłoszenie o zamówieniu;2022/BZP 00065216/01;&quot;Dostawa pojemników na odpady segregowane (900 sztuk o pojemności 240 l – kolor żółty; 30 sztuk o pojemności 1100 l – kolor żółty).&quot;;Zakład Wodociągów i Usług Komunalnych EKOWOD Spółka z ograniczoną odpowiedzialnością&quot;\n</code></pre>\n<p>I tried:</p>\n<pre><code>String[] splitted = sentence.split(&quot;;\\\\S&quot;);\n</code></pre>\n<p>But this cuts off the first character of each sentence.</p>\n"},{"tags":["java","bit-manipulation"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1641305920,"post_id":70580138,"comment_id":124767029,"body_markdown":"Show more examples, and I don&#39;t think your theory holds. For example, `111 XOR 001` does not return zero as the link wants","body":"Show more examples, and I don&#39;t think your theory holds. For example, <code>111 XOR 001</code> does not return zero as the link wants"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":4,"creation_date":1641305950,"post_id":70580138,"comment_id":124767048,"body_markdown":"&quot;*if you XOR ONE(1) With 5(101) you will get 2(010)*&quot; - Nope. XORing `0b101` with `0b001` results in `0b100`, which is `4` in base10, as expected.","body":"&quot;<i>if you XOR ONE(1) With 5(101) you will get 2(010)</i>&quot; - Nope. XORing <code>0b101</code> with <code>0b001</code> results in <code>0b100</code>, which is <code>4</code> in base10, as expected."},{"owner":{"display_name":"user6073886"},"score":3,"creation_date":1641306022,"post_id":70580138,"comment_id":124767085,"body_markdown":"&quot;By theory if you Exclusive OR(XOR) One(1) with any number you will get the compliment of that number.&quot; &lt;- Where did you get that from? I never heard of that before and can&#39;t really think of any reason why it should be true.","body":"&quot;By theory if you Exclusive OR(XOR) One(1) with any number you will get the compliment of that number.&quot; &lt;- Where did you get that from? I never heard of that before and can&#39;t really think of any reason why it should be true."},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":1,"creation_date":1641306133,"post_id":70580138,"comment_id":124767155,"body_markdown":"XORing with 1 flips the lowest bit, nothing else.","body":"XORing with 1 flips the lowest bit, nothing else."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1641306202,"post_id":70580138,"comment_id":124767181,"body_markdown":"We can of course flip all bits by XORing with `-1`, but this will flip **all** bits.","body":"We can of course flip all bits by XORing with <code>-1</code>, but this will flip <b>all</b> bits."},{"owner":{"account_id":9537825,"reputation":1490,"user_id":7275056,"display_name":"vsfDawg"},"score":0,"creation_date":1641307138,"post_id":70580138,"comment_id":124767642,"body_markdown":"I think you have misinterpreted the &#39;XOR with 1&#39; notion.  The value you need to XOR with to get the complement is a number of the same binary length consisting of ALL 1s.  So to get the complement of 1010 you would XOR with 1111 (i.e. 0101).","body":"I think you have misinterpreted the &#39;XOR with 1&#39; notion.  The value you need to XOR with to get the complement is a number of the same binary length consisting of ALL 1s.  So to get the complement of 1010 you would XOR with 1111 (i.e. 0101)."},{"owner":{"account_id":17773763,"reputation":1154,"user_id":12906648,"display_name":"Maxwell D. Dorliea"},"score":0,"creation_date":1641308247,"post_id":70580138,"comment_id":124768184,"body_markdown":"@Turing85  **This is what I am trying to say**.&lt;br /&gt; `101(5) ^ 111 = 010(2)`","body":"@Turing85  <b>This is what I am trying to say</b>.&lt;br /&gt; <code>101(5) ^ 111 = 010(2)</code>"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1641308391,"post_id":70580138,"comment_id":124768260,"body_markdown":"@MaxwellD.Dorliea maybe, but that&#39;s not what you wrote. And `0b111 != -1`.","body":"@MaxwellD.Dorliea maybe, but that&#39;s not what you wrote. And <code>0b111 != -1</code>."}],"answers":[{"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1641306751,"creation_date":1641305915,"answer_id":70580176,"question_id":70580138,"body_markdown":"Look at this trick. `~` operation switch `0 &lt;-&gt; 1`.\r\n\r\n```java\r\nint a = 0b010;\r\nint b = ~a &amp; 0b111; // 0x101\r\n```\r\n\r\nSo the solution is pretty simple:\r\n\r\n 1. Find the highest `1` bit; it gives you the number of bits for the mask\r\n 1. User `~` to find a compliment number and limit it to the number of bits.","title":"Why my function is returning 11 instead of 5?","body":"<p>Look at this trick. <code>~</code> operation switch <code>0 &lt;-&gt; 1</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>int a = 0b010;\nint b = ~a &amp; 0b111; // 0x101\n</code></pre>\n<p>So the solution is pretty simple:</p>\n<ol>\n<li>Find the highest <code>1</code> bit; it gives you the number of bits for the mask</li>\n<li>User <code>~</code> to find a compliment number and limit it to the number of bits.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":15128674,"reputation":1304,"user_id":10917226,"display_name":"Lovesh Dongre"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641306415,"creation_date":1641306415,"answer_id":70580294,"question_id":70580138,"body_markdown":"**Why 10 ^ 1 = 11** (and not 5)\r\n\r\n10 in binary is `1010` and 1 in binary is  `0001`\r\n\r\nnow lets calculate 1010 ^ 0001\r\n```\r\n  1010\r\n^ 0001\r\n  ----\r\n  1011\r\n  ----\r\n```\r\n\r\n1011 in decimal is 11! (since 5 in binary is 0101)","title":"Why my function is returning 11 instead of 5?","body":"<p><strong>Why 10 ^ 1 = 11</strong> (and not 5)</p>\n<p>10 in binary is <code>1010</code> and 1 in binary is  <code>0001</code></p>\n<p>now lets calculate 1010 ^ 0001</p>\n<pre><code>  1010\n^ 0001\n  ----\n  1011\n  ----\n</code></pre>\n<p>1011 in decimal is 11! (since 5 in binary is 0101)</p>\n"}],"owner":{"account_id":17773763,"reputation":1154,"user_id":12906648,"display_name":"Maxwell D. Dorliea"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":92,"favorite_count":0,"down_vote_count":5,"up_vote_count":1,"accepted_answer_id":70580176,"answer_count":2,"score":-4,"last_activity_date":1645573660,"creation_date":1641305722,"question_id":70580138,"body_markdown":"I am trying to solve a problem with leetcode label **Compliment of Base 10 Integer**. By theory, if you **Exclusive OR(XOR) One(1)** with any number you will get the compliment of that number. For example, if you XOR (111) With 5(101) you will get 2(010)\r\n\r\n**Note: Assuming that the input is 10. It is returning 11 instead of 5**\r\n\r\n[This is the link to the question that I am trying to solve][1]\r\n\r\n\r\n**This is what I wrote**\r\n \r\n    class Solution {\r\n    public int bitwiseComplement(int n) {\r\n        return (n^1);\r\n    }\r\n}\r\n\r\n\r\n  [1]: https://leetcode.com/problems/complement-of-base-10-integer/","title":"Why my function is returning 11 instead of 5?","body":"<p>I am trying to solve a problem with leetcode label <strong>Compliment of Base 10 Integer</strong>. By theory, if you <strong>Exclusive OR(XOR) One(1)</strong> with any number you will get the compliment of that number. For example, if you XOR (111) With 5(101) you will get 2(010)</p>\n<p><strong>Note: Assuming that the input is 10. It is returning 11 instead of 5</strong></p>\n<p><a href=\"https://leetcode.com/problems/complement-of-base-10-integer/\" rel=\"nofollow noreferrer\">This is the link to the question that I am trying to solve</a></p>\n<p><strong>This is what I wrote</strong></p>\n<pre><code>class Solution {\npublic int bitwiseComplement(int n) {\n    return (n^1);\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","spring-boot","mockito"],"comments":[{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":0,"creation_date":1645569153,"post_id":71229016,"comment_id":125905692,"body_markdown":"Perhaps the test needs to prepare `jdbcTemplate` to return the created order, .e.g, `when(jdbcTemplate..execute(...)..thenReturn(anOrder);`","body":"Perhaps the test needs to prepare <code>jdbcTemplate</code> to return the created order, .e.g, <code>when(jdbcTemplate..execute(...)..thenReturn(anOrder);</code>"}],"answers":[{"tags":[],"owner":{"account_id":23620375,"reputation":32,"user_id":17653766,"display_name":"Nalbert Wattam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645573004,"creation_date":1645573004,"answer_id":71229634,"question_id":71229016,"body_markdown":"Mockito it&#39;s used when you wanna test something and assume that it&#39;s requirements don&#39;t need to be tested. For example, you wanna test a controller class but not the service class, so ou mock the service class to kinda &quot;pretend&quot; that&#39;s already working. In your case you don&#39;t want to mock anything, you really need to test the service functionalities, so the correct code would be something like this:\r\n\r\n    @RunWith(SpringRunner.class)\r\n    @SpringBootTest\r\n    public class GetOrderServiceTest {\r\n    \r\n        @Autowired\r\n        private OrderServiceImpl orderServiceImpl;\r\n    \r\n        private Order createOrder(int id, String ticker, double price, int quantity, String direction, String date){\r\n    \r\n            Order order = new Order();\r\n            order.setOrderId(id);\r\n            order.setTicker(ticker);\r\n            order.setPrice(price);\r\n            order.setQuantity(quantity);\r\n            order.setDirection(direction);\r\n            order.setOrderDate(LocalDate.parse(date));\r\n    \r\n            return order;\r\n        }\r\n    \r\n        @Test\r\n        void shouldInsert() {\r\n    \r\n            Order expected = createOrder(1, &quot;Ticker&quot;, 1.0, 1, &quot;Direction&quot;, &quot;1111-11-11&quot;);\r\n    \r\n            Order actual = orderServiceImpl.processOrder(expected);\r\n    \r\n            assertEquals(expected, actual);\r\n            assertEquals(expected.getId(), actual.getId());\r\n            assertEquals(expected.getTicker(), actual.getTicker());\r\n            assertEquals(expected.getPrice(), actual.getPrice());\r\n            assertEquals(expected.getQuantity(), actual.getQuantity());\r\n            assertEquals(expected.getDirection(), actual.getDirection());\r\n            assertEquals(expected.getDate(), actual.getDate());\r\n        }\r\n    }\r\n\r\nYou can set every attribute of your orders on every single test method, but I recommend you to use the **createOrder()** to make your life easier.","title":"Springboot test Insert Jdbc","body":"<p>Mockito it's used when you wanna test something and assume that it's requirements don't need to be tested. For example, you wanna test a controller class but not the service class, so ou mock the service class to kinda &quot;pretend&quot; that's already working. In your case you don't want to mock anything, you really need to test the service functionalities, so the correct code would be something like this:</p>\n<pre><code>@RunWith(SpringRunner.class)\n@SpringBootTest\npublic class GetOrderServiceTest {\n\n    @Autowired\n    private OrderServiceImpl orderServiceImpl;\n\n    private Order createOrder(int id, String ticker, double price, int quantity, String direction, String date){\n\n        Order order = new Order();\n        order.setOrderId(id);\n        order.setTicker(ticker);\n        order.setPrice(price);\n        order.setQuantity(quantity);\n        order.setDirection(direction);\n        order.setOrderDate(LocalDate.parse(date));\n\n        return order;\n    }\n\n    @Test\n    void shouldInsert() {\n\n        Order expected = createOrder(1, &quot;Ticker&quot;, 1.0, 1, &quot;Direction&quot;, &quot;1111-11-11&quot;);\n\n        Order actual = orderServiceImpl.processOrder(expected);\n\n        assertEquals(expected, actual);\n        assertEquals(expected.getId(), actual.getId());\n        assertEquals(expected.getTicker(), actual.getTicker());\n        assertEquals(expected.getPrice(), actual.getPrice());\n        assertEquals(expected.getQuantity(), actual.getQuantity());\n        assertEquals(expected.getDirection(), actual.getDirection());\n        assertEquals(expected.getDate(), actual.getDate());\n    }\n}\n</code></pre>\n<p>You can set every attribute of your orders on every single test method, but I recommend you to use the <strong>createOrder()</strong> to make your life easier.</p>\n"}],"owner":{"account_id":24346123,"reputation":13,"user_id":18282672,"display_name":"user18282672"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":215,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1645573004,"creation_date":1645568340,"question_id":71229016,"body_markdown":"*I am new to Mockito, and trying to understand the concept.\r\n\r\nTrying to unit test inserting new record to db using jdbc. \r\n\r\nHere is my service; OrderServiceImpl\r\n\r\n```\r\npackage com.ordermanager.service;\r\n\r\nimport com.ordermanager.models.Order;\r\nimport com.ordermanager.models.OrderRowMapper;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.dao.DataAccessException;\r\nimport org.springframework.dao.EmptyResultDataAccessException;\r\nimport org.springframework.jdbc.core.JdbcTemplate;\r\nimport org.springframework.jdbc.core.PreparedStatementCallback;\r\nimport org.springframework.stereotype.Service;\r\n\r\nimport java.sql.PreparedStatement;\r\nimport java.sql.SQLException;\r\n\r\n@Service\r\npublic class OrderServiceImpl implements OrderService{\r\n\r\n    @Autowired\r\n    JdbcTemplate jdbcTemplate;\r\n\r\n\r\n\r\n    @Override\r\n    public String validateFields(Order order) {\r\n        String err = &quot;&quot;;\r\n\r\n        if(order.getTicker() == null)\r\n            err = &quot;Ticker is blank. &quot;;\r\n        if(order.getOrderDate() == null)\r\n            err += &quot;OrderDate is blank. &quot;;\r\n        if(order.getQuantity() &lt;= 0)\r\n            err += &quot;Quantity is invalid. &quot;;\r\n        if(order.getPrice() &lt;= 0)\r\n            err += &quot;Price is invalid. &quot;;\r\n        if(order.getDirection() == null)\r\n            err += &quot;Direction is blank. &quot;;\r\n\r\n        if(!(order.getDirection().toLowerCase().equals(&quot;buy&quot;) || order.getDirection().toLowerCase().equals(&quot;sell&quot;))) {\r\n            err += &quot;Direction must be either &#39;buy&#39; or &#39;sell&#39;. &quot;;\r\n        }\r\n\r\n        return err;\r\n    }\r\n\r\n    @Override\r\n    public Order getById(int orderId) {\r\n\r\n        String sql = &quot;Select OrderId, Ticker, OrderDate, Quantity, Price, Direction from Orders WHERE orderID =?&quot;;\r\n\r\n        try{\r\n            return (Order) this.jdbcTemplate.queryForObject(sql,new Object[] {orderId}, new OrderRowMapper());\r\n        }\r\n        catch (EmptyResultDataAccessException ex) {\r\n            return null;\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public Order processOrder(Order order) {\r\n        String sql = &quot;INSERT INTO `OrderManagement`.`Orders` (`Ticker`,`OrderDate`, `Price`, `Quantity`, `Direction`) VALUES (?,?,?,?,?)&quot;;\r\n        return jdbcTemplate.execute(sql, new PreparedStatementCallback&lt;Order&gt;() {\r\n            @Override\r\n            public Order doInPreparedStatement(PreparedStatement ps) throws SQLException, DataAccessException {\r\n\r\n                ps.setString(1,order.getTicker());\r\n                ps.setDate(2, new java.sql.Date(order.getOrderDate().getTime()));\r\n                ps.setFloat(3,order.getPrice());\r\n                ps.setInt(4,order.getQuantity());\r\n                ps.setString(5,order.getDirection());\r\n\r\n                ps.execute();\r\n\r\n                return order;\r\n            }\r\n        });\r\n\r\n\r\n    }\r\n}\r\n```\r\n\r\nHere is my Test\r\n```\r\npackage com.ordermanager.unit.service;\r\n\r\nimport com.ordermanager.controller.OrderController;\r\nimport com.ordermanager.models.Order;\r\nimport com.ordermanager.service.OrderService;\r\nimport com.ordermanager.service.OrderServiceImpl;\r\nimport org.junit.jupiter.api.Test;\r\nimport org.junit.runner.RunWith;\r\nimport org.mockito.InjectMocks;\r\nimport org.mockito.Mock;\r\nimport org.mockito.MockitoAnnotations;\r\nimport org.mockito.junit.MockitoJUnitRunner;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.boot.test.context.SpringBootTest;\r\nimport org.springframework.jdbc.core.JdbcTemplate;\r\n\r\nimport java.sql.Date;\r\nimport java.time.LocalDate;\r\n\r\nimport static org.hamcrest.CoreMatchers.equalTo;\r\nimport static org.hamcrest.MatcherAssert.assertThat;\r\n\r\n@RunWith(MockitoJUnitRunner.class)\r\n@SpringBootTest\r\npublic class GetOrderServiceTest {\r\n\r\n\r\n    @Mock\r\n    JdbcTemplate jdbcTemplate;\r\n\r\n    @InjectMocks\r\n    private OrderServiceImpl orderServiceImpl;\r\n\r\n\r\n    @Test\r\n    public void testInsert(){\r\n\r\n        Order order = new Order();\r\n        order.setOrderId(1);\r\n        order.setTicker(&quot;MSFT&quot;);\r\n        order.setPrice(100);\r\n        order.setQuantity(3);\r\n        order.setDirection(&quot;buy&quot;);\r\n        LocalDate myDate =LocalDate.parse(&quot;2014-02-14&quot;);\r\n        order.setOrderDate(Date.valueOf(myDate));\r\n\r\n\r\n        Order created = orderServiceImpl.processOrder(order);\r\n\r\n        assertThat(created.getOrderId() ,equalTo( order.getOrderId()));\r\n    }\r\n}\r\n```\r\n\r\nerror message I am receiving; \r\n\r\nCannot invoke &quot;com.ordermanager.models.Order.getOrderId()&quot; because &quot;created&quot; is null\r\njava.lang.NullPointerException: Cannot invoke &quot;com.ordermanager.models.Order.getOrderId()&quot; because &quot;created&quot; is null\r\n\r\n\r\n\r\n","title":"Springboot test Insert Jdbc","body":"<p>*I am new to Mockito, and trying to understand the concept.</p>\n<p>Trying to unit test inserting new record to db using jdbc.</p>\n<p>Here is my service; OrderServiceImpl</p>\n<pre><code>package com.ordermanager.service;\n\nimport com.ordermanager.models.Order;\nimport com.ordermanager.models.OrderRowMapper;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.dao.DataAccessException;\nimport org.springframework.dao.EmptyResultDataAccessException;\nimport org.springframework.jdbc.core.JdbcTemplate;\nimport org.springframework.jdbc.core.PreparedStatementCallback;\nimport org.springframework.stereotype.Service;\n\nimport java.sql.PreparedStatement;\nimport java.sql.SQLException;\n\n@Service\npublic class OrderServiceImpl implements OrderService{\n\n    @Autowired\n    JdbcTemplate jdbcTemplate;\n\n\n\n    @Override\n    public String validateFields(Order order) {\n        String err = &quot;&quot;;\n\n        if(order.getTicker() == null)\n            err = &quot;Ticker is blank. &quot;;\n        if(order.getOrderDate() == null)\n            err += &quot;OrderDate is blank. &quot;;\n        if(order.getQuantity() &lt;= 0)\n            err += &quot;Quantity is invalid. &quot;;\n        if(order.getPrice() &lt;= 0)\n            err += &quot;Price is invalid. &quot;;\n        if(order.getDirection() == null)\n            err += &quot;Direction is blank. &quot;;\n\n        if(!(order.getDirection().toLowerCase().equals(&quot;buy&quot;) || order.getDirection().toLowerCase().equals(&quot;sell&quot;))) {\n            err += &quot;Direction must be either 'buy' or 'sell'. &quot;;\n        }\n\n        return err;\n    }\n\n    @Override\n    public Order getById(int orderId) {\n\n        String sql = &quot;Select OrderId, Ticker, OrderDate, Quantity, Price, Direction from Orders WHERE orderID =?&quot;;\n\n        try{\n            return (Order) this.jdbcTemplate.queryForObject(sql,new Object[] {orderId}, new OrderRowMapper());\n        }\n        catch (EmptyResultDataAccessException ex) {\n            return null;\n        }\n    }\n\n    @Override\n    public Order processOrder(Order order) {\n        String sql = &quot;INSERT INTO `OrderManagement`.`Orders` (`Ticker`,`OrderDate`, `Price`, `Quantity`, `Direction`) VALUES (?,?,?,?,?)&quot;;\n        return jdbcTemplate.execute(sql, new PreparedStatementCallback&lt;Order&gt;() {\n            @Override\n            public Order doInPreparedStatement(PreparedStatement ps) throws SQLException, DataAccessException {\n\n                ps.setString(1,order.getTicker());\n                ps.setDate(2, new java.sql.Date(order.getOrderDate().getTime()));\n                ps.setFloat(3,order.getPrice());\n                ps.setInt(4,order.getQuantity());\n                ps.setString(5,order.getDirection());\n\n                ps.execute();\n\n                return order;\n            }\n        });\n\n\n    }\n}\n</code></pre>\n<p>Here is my Test</p>\n<pre><code>package com.ordermanager.unit.service;\n\nimport com.ordermanager.controller.OrderController;\nimport com.ordermanager.models.Order;\nimport com.ordermanager.service.OrderService;\nimport com.ordermanager.service.OrderServiceImpl;\nimport org.junit.jupiter.api.Test;\nimport org.junit.runner.RunWith;\nimport org.mockito.InjectMocks;\nimport org.mockito.Mock;\nimport org.mockito.MockitoAnnotations;\nimport org.mockito.junit.MockitoJUnitRunner;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.test.context.SpringBootTest;\nimport org.springframework.jdbc.core.JdbcTemplate;\n\nimport java.sql.Date;\nimport java.time.LocalDate;\n\nimport static org.hamcrest.CoreMatchers.equalTo;\nimport static org.hamcrest.MatcherAssert.assertThat;\n\n@RunWith(MockitoJUnitRunner.class)\n@SpringBootTest\npublic class GetOrderServiceTest {\n\n\n    @Mock\n    JdbcTemplate jdbcTemplate;\n\n    @InjectMocks\n    private OrderServiceImpl orderServiceImpl;\n\n\n    @Test\n    public void testInsert(){\n\n        Order order = new Order();\n        order.setOrderId(1);\n        order.setTicker(&quot;MSFT&quot;);\n        order.setPrice(100);\n        order.setQuantity(3);\n        order.setDirection(&quot;buy&quot;);\n        LocalDate myDate =LocalDate.parse(&quot;2014-02-14&quot;);\n        order.setOrderDate(Date.valueOf(myDate));\n\n\n        Order created = orderServiceImpl.processOrder(order);\n\n        assertThat(created.getOrderId() ,equalTo( order.getOrderId()));\n    }\n}\n</code></pre>\n<p>error message I am receiving;</p>\n<p>Cannot invoke &quot;com.ordermanager.models.Order.getOrderId()&quot; because &quot;created&quot; is null\njava.lang.NullPointerException: Cannot invoke &quot;com.ordermanager.models.Order.getOrderId()&quot; because &quot;created&quot; is null</p>\n"},{"tags":["java","windows","shell","gradle","command-line"],"comments":[{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1645557842,"post_id":71227075,"comment_id":125902010,"body_markdown":"What is the directory the gradle project is located under? Is it in `C:`?","body":"What is the directory the gradle project is located under? Is it in <code>C:</code>?"},{"owner":{"account_id":21736352,"reputation":439,"user_id":16044298,"display_name":"Bradford Griggs"},"score":0,"creation_date":1645558070,"post_id":71227075,"comment_id":125902087,"body_markdown":"@dan1st Thanks for your reply. `JPostal` (which is the project I&#39;m trying to build) is located under the directory: `C:\\x\\Program Files\\JPostal` (`x` is being used as a placeholder for a custom folder name). The actual `.gradle` installation is under: `C:\\Users\\xyz\\.gradle`","body":"@dan1st Thanks for your reply. <code>JPostal</code> (which is the project I&#39;m trying to build) is located under the directory: <code>C:\\x\\Program Files\\JPostal</code> (<code>x</code> is being used as a placeholder for a custom folder name). The actual <code>.gradle</code> installation is under: <code>C:\\Users\\xyz\\.gradle</code>"},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1645558124,"post_id":71227075,"comment_id":125902105,"body_markdown":"Maybe try building it in a folder without spaces.","body":"Maybe try building it in a folder without spaces."},{"owner":{"account_id":21736352,"reputation":439,"user_id":16044298,"display_name":"Bradford Griggs"},"score":0,"creation_date":1645568637,"post_id":71227075,"comment_id":125905538,"body_markdown":"@dan1st Thanks for your suggestion. As per your suggestion, I tried changing `Program Files` to `ProgramFiles` (removed the space) but I still get the same error.","body":"@dan1st Thanks for your suggestion. As per your suggestion, I tried changing <code>Program Files</code> to <code>ProgramFiles</code> (removed the space) but I still get the same error."},{"owner":{"account_id":2767223,"reputation":21433,"user_id":2382650,"accept_rate":92,"display_name":"Cisco"},"score":0,"creation_date":1645569813,"post_id":71227075,"comment_id":125905899,"body_markdown":"The link you posted is a link to the screenshot. Is there a link to the directions you are following that was meant to be that link?","body":"The link you posted is a link to the screenshot. Is there a link to the directions you are following that was meant to be that link?"},{"owner":{"account_id":21736352,"reputation":439,"user_id":16044298,"display_name":"Bradford Griggs"},"score":0,"creation_date":1645569948,"post_id":71227075,"comment_id":125905930,"body_markdown":"@FranciscoMateo Oops, my mistake. I intended to post the link to the directions. I&#39;m updating the post [with the correct link](https://github.com/openvenues/jpostal#building-jpostal).","body":"@FranciscoMateo Oops, my mistake. I intended to post the link to the directions. I&#39;m updating the post <a href=\"https://github.com/openvenues/jpostal#building-jpostal\" rel=\"nofollow noreferrer\">with the correct link</a>."},{"owner":{"account_id":21736352,"reputation":439,"user_id":16044298,"display_name":"Bradford Griggs"},"score":0,"creation_date":1645570988,"post_id":71227075,"comment_id":125906186,"body_markdown":"For information purposes, I had previously ran into [the issue raised here](https://github.com/openvenues/jpostal/issues/37) and solved it by changing `commandLine ./build.sh` to `commandLine sh./build.sh` [as suggested in above thread](https://github.com/openvenues/jpostal/issues/37#issuecomment-572235426) - not sure if this matters but thought I&#39;ll share just in case","body":"For information purposes, I had previously ran into <a href=\"https://github.com/openvenues/jpostal/issues/37\" rel=\"nofollow noreferrer\">the issue raised here</a> and solved it by changing <code>commandLine .&#47;build.sh</code> to <code>commandLine sh.&#47;build.sh</code> <a href=\"https://github.com/openvenues/jpostal/issues/37#issuecomment-572235426\" rel=\"nofollow noreferrer\">as suggested in above thread</a> - not sure if this matters but thought I&#39;ll share just in case"}],"answers":[{"tags":[],"owner":{"account_id":263656,"reputation":1,"user_id":549372,"accept_rate":100,"display_name":"Martin Zeitler"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1645572080,"creation_date":1645571516,"answer_id":71229451,"question_id":71227075,"body_markdown":"Despite these are supported, but paths with spaces generally tend to be problematic on Linux.&lt;br/&gt;\r\nEven without the `build.gradle`, the path is obviously wrong; this likely needs to be escaped:\r\n\r\n    &quot;C:\\\\x\\\\Program\\ Files\\\\Msys64\\\\usr\\\\share\\\\aclocal&quot;\r\n\r\nWhere `\\\\` gives `\\` and `\\ ` gives ` `.\r\n\r\n ---\r\n\r\nTo use `${File.separator}` would be the alternate cross-platform approach.\r\n\r\nThis would give `\\` on Windows and `/` on Linux.","title":"./gradlew assemble fails due to missing file when the file clearly exists","body":"<p>Despite these are supported, but paths with spaces generally tend to be problematic on Linux.<br/>\nEven without the <code>build.gradle</code>, the path is obviously wrong; this likely needs to be escaped:</p>\n<pre><code>&quot;C:\\\\x\\\\Program\\ Files\\\\Msys64\\\\usr\\\\share\\\\aclocal&quot;\n</code></pre>\n<p>Where <code>\\\\</code> gives <code>\\</code> and <code>\\ </code> gives <code> </code>.</p>\n<hr />\n<p>To use <code>${File.separator}</code> would be the alternate cross-platform approach.</p>\n<p>This would give <code>\\</code> on Windows and <code>/</code> on Linux.</p>\n"}],"owner":{"account_id":21736352,"reputation":439,"user_id":16044298,"display_name":"Bradford Griggs"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":247,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":71229451,"answer_count":1,"score":3,"last_activity_date":1645572080,"creation_date":1645557206,"question_id":71227075,"body_markdown":"I&#39;m trying to [build JPostal as described in this link][1] using the following command:\r\n\r\n    ./gradlew assemble\r\n\r\n\r\nHowever, the command produces the following output claiming the file `C:\\x\\Program Files\\Msys64\\usr\\share` does not exist **when it clearly does**:\r\n\r\n\r\n    $ ./gradlew assemble\r\n    \r\n    :buildJniLibaclocal-1.16: error: aclocal: file &#39;/x/Program Files/Msys64/usr/share/aclocal/tcl-tea.m4&#39; does not exist\r\n    autoreconf-2.71: error: aclocal failed with exit status: 1\r\n    configure: WARNING: you should use --build, --host, --target\r\n    configure: WARNING: invalid host type: Files/JPostal/src/main/jniLibs\r\n    configure: error: cannot find required auxiliary files: compile config.guess config.sub ltmain.sh missing install-sh\r\n    make: *** No rule to make target &#39;install&#39;.  Stop.\r\n     FAILED\r\n    \r\n    FAILURE: Build failed with an exception.\r\n    \r\n    * What went wrong:\r\n    Execution failed for task &#39;:buildJniLib&#39;.\r\n    &gt; Process &#39;command &#39;sh&#39;&#39; finished with non-zero exit value 2\r\n    \r\n    * Try:\r\n    Run with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output.\r\n    \r\n    BUILD FAILED\r\n    \r\n    Total time: 5.844 secs\r\n\r\n\r\nI can clearly see a file named `tcl-tea.m4` in the directory: `C:\\x\\Program Files\\Msys64\\usr\\share\\aclocal`\r\n\r\nSee the **screenshot** below:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nIf the file clearly exists, why am I getting this error? Why is the file being discriminated against?\r\n\r\n\r\n  [1]: https://github.com/openvenues/jpostal#building-jpostal\r\n  [2]: https://i.stack.imgur.com/nF3eN.jpg\r\n","title":"./gradlew assemble fails due to missing file when the file clearly exists","body":"<p>I'm trying to <a href=\"https://github.com/openvenues/jpostal#building-jpostal\" rel=\"nofollow noreferrer\">build JPostal as described in this link</a> using the following command:</p>\n<pre><code>./gradlew assemble\n</code></pre>\n<p>However, the command produces the following output claiming the file <code>C:\\x\\Program Files\\Msys64\\usr\\share</code> does not exist <strong>when it clearly does</strong>:</p>\n<pre><code>$ ./gradlew assemble\n\n:buildJniLibaclocal-1.16: error: aclocal: file '/x/Program Files/Msys64/usr/share/aclocal/tcl-tea.m4' does not exist\nautoreconf-2.71: error: aclocal failed with exit status: 1\nconfigure: WARNING: you should use --build, --host, --target\nconfigure: WARNING: invalid host type: Files/JPostal/src/main/jniLibs\nconfigure: error: cannot find required auxiliary files: compile config.guess config.sub ltmain.sh missing install-sh\nmake: *** No rule to make target 'install'.  Stop.\n FAILED\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':buildJniLib'.\n&gt; Process 'command 'sh'' finished with non-zero exit value 2\n\n* Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output.\n\nBUILD FAILED\n\nTotal time: 5.844 secs\n</code></pre>\n<p>I can clearly see a file named <code>tcl-tea.m4</code> in the directory: <code>C:\\x\\Program Files\\Msys64\\usr\\share\\aclocal</code></p>\n<p>See the <strong>screenshot</strong> below:</p>\n<p><a href=\"https://i.stack.imgur.com/nF3eN.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nF3eN.jpg\" alt=\"enter image description here\" /></a></p>\n<p>If the file clearly exists, why am I getting this error? Why is the file being discriminated against?</p>\n"},{"tags":["java","android","kotlin","android-progressbar","android-storage"],"answers":[{"tags":[],"owner":{"account_id":951026,"reputation":5933,"user_id":977177,"display_name":"slkorolev"},"down_vote_count":0,"up_vote_count":268,"is_accepted":true,"score":268,"last_activity_date":1517768812,"creation_date":1319660657,"answer_id":7908446,"question_id":7908193,"body_markdown":"For your first question try \r\n  \r\n  \r\n\r\n    Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOWNLOADS); \r\n\r\n(available since API 8)\r\n\r\nTo access individual files in this directory use either [File.list()](http://developer.android.com/reference/java/io/File.html#list()) or [File.listFiles()](http://developer.android.com/reference/java/io/File.html#listFiles()).\r\nSeems that reporting download progress is only possible in notification, see [here](https://stackoverflow.com/questions/2689729/progress-bar-in-notification-bar).","title":"how to access downloads folder in android?","body":"<p>For your first question try </p>\n\n<pre><code>Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOWNLOADS); \n</code></pre>\n\n<p>(available since API 8)</p>\n\n<p>To access individual files in this directory use either <a href=\"http://developer.android.com/reference/java/io/File.html#list()\" rel=\"noreferrer\">File.list()</a> or <a href=\"http://developer.android.com/reference/java/io/File.html#listFiles()\" rel=\"noreferrer\">File.listFiles()</a>.\nSeems that reporting download progress is only possible in notification, see <a href=\"https://stackoverflow.com/questions/2689729/progress-bar-in-notification-bar\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":1194714,"reputation":261,"user_id":1166678,"display_name":"mac"},"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1328974570,"creation_date":1328966429,"answer_id":9240542,"question_id":7908193,"body_markdown":"You need to set this permission in your manifest.xml file\r\n  \r\n\r\n    android.permission.WRITE_EXTERNAL_STORAGE\r\n\r\n","title":"how to access downloads folder in android?","body":"<p>You need to set this permission in your manifest.xml file</p>\n\n<pre><code>android.permission.WRITE_EXTERNAL_STORAGE\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1310971,"reputation":1348,"user_id":1258982,"display_name":"Mark Lu"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1469522557,"creation_date":1469484296,"answer_id":38578137,"question_id":7908193,"body_markdown":"If you are using Marshmallow, you have to either:\r\n\r\n1. [Request permissions][1] at runtime (the user will get to allow or deny the request) or:\r\n2. The user must go into *Settings -&gt; Apps -&gt; {Your App} -&gt; Permissions* and \r\n[grant storage access][2].\r\n\r\nThis is because in Marshmallow, Google completely revamped how permissions work.\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/support/v4/app/ActivityCompat.html#requestPermissions(android.app.Activity,%20java.lang.String[],%20int)\r\n  [2]: https://i.stack.imgur.com/9Y7c7.png","title":"how to access downloads folder in android?","body":"<p>If you are using Marshmallow, you have to either:</p>\n\n<ol>\n<li><a href=\"https://developer.android.com/reference/android/support/v4/app/ActivityCompat.html#requestPermissions(android.app.Activity,%20java.lang.String[],%20int)\" rel=\"noreferrer\">Request permissions</a> at runtime (the user will get to allow or deny the request) or:</li>\n<li>The user must go into <em>Settings -> Apps -> {Your App} -> Permissions</em> and \n<a href=\"https://i.stack.imgur.com/9Y7c7.png\" rel=\"noreferrer\">grant storage access</a>.</li>\n</ol>\n\n<p>This is because in Marshmallow, Google completely revamped how permissions work.</p>\n"},{"tags":[],"owner":{"display_name":"user3064538"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1563328576,"creation_date":1563328576,"answer_id":57067519,"question_id":7908193,"body_markdown":"If you&#39;re using a shell, the filepath to the Download (no &quot;s&quot;) folder is\r\n\r\n    /storage/emulated/0/Download\r\n","title":"how to access downloads folder in android?","body":"<p>If you're using a shell, the filepath to the Download (no \"s\") folder is</p>\n\n<pre><code>/storage/emulated/0/Download\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7837986,"reputation":42767,"user_id":5925259,"accept_rate":100,"display_name":"Yogesh Umesh Vaity"},"down_vote_count":3,"up_vote_count":43,"is_accepted":false,"score":40,"last_activity_date":1622202333,"creation_date":1572126951,"answer_id":58575031,"question_id":7908193,"body_markdown":"Updated\r\n-------\r\n`getExternalStoragePublicDirectory()` is **deprecated**.\r\n\r\nTo get the download folder from a `Fragment`, \r\n\r\n    val downloadFolder = requireContext().getExternalFilesDir(Environment.DIRECTORY_DOWNLOADS)\r\n\r\nFrom an `Activity`,\r\n\r\n    val downloadFolder = getExternalFilesDir(Environment.DIRECTORY_DOWNLOADS)\r\n\r\n`downloadFolder.listFiles()` will list the `File`s.\r\n\r\n`downloadFolder?.path` will give you the String path of the download folder.\r\n\r\nUpdate:\r\n\r\nThe Direct filesystem access to storage has become limited in recent versions of Android.\r\n\r\n`context.getExternalFilesDir(Environment.DIRECTORY_DOWNLOADS)` gives you the directory `/emulated/0/Android/data/{package}/files/Download`. If you want to have the public downloads folder, look into the Storage Access Framework of Android documentation.","title":"how to access downloads folder in android?","body":"<h2>Updated</h2>\n<p><code>getExternalStoragePublicDirectory()</code> is <strong>deprecated</strong>.</p>\n<p>To get the download folder from a <code>Fragment</code>,</p>\n<pre><code>val downloadFolder = requireContext().getExternalFilesDir(Environment.DIRECTORY_DOWNLOADS)\n</code></pre>\n<p>From an <code>Activity</code>,</p>\n<pre><code>val downloadFolder = getExternalFilesDir(Environment.DIRECTORY_DOWNLOADS)\n</code></pre>\n<p><code>downloadFolder.listFiles()</code> will list the <code>File</code>s.</p>\n<p><code>downloadFolder?.path</code> will give you the String path of the download folder.</p>\n<p>Update:</p>\n<p>The Direct filesystem access to storage has become limited in recent versions of Android.</p>\n<p><code>context.getExternalFilesDir(Environment.DIRECTORY_DOWNLOADS)</code> gives you the directory <code>/emulated/0/Android/data/{package}/files/Download</code>. If you want to have the public downloads folder, look into the Storage Access Framework of Android documentation.</p>\n"},{"tags":[],"owner":{"account_id":2166313,"reputation":2054,"user_id":3825816,"display_name":"Yvgen"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1590759172,"creation_date":1590759172,"answer_id":62087191,"question_id":7908193,"body_markdown":"You should add next permission:\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\r\n\r\nAnd then here is usages in code:\r\n\r\n    val externalFilesDir = context.getExternalFilesDir(DIRECTORY_DOWNLOADS)\r\n\r\n","title":"how to access downloads folder in android?","body":"<p>You should add next permission:</p>\n\n<pre><code>&lt;uses-permission android:name=\"android.permission.WRITE_EXTERNAL_STORAGE\" /&gt;\n</code></pre>\n\n<p>And then here is usages in code:</p>\n\n<pre><code>val externalFilesDir = context.getExternalFilesDir(DIRECTORY_DOWNLOADS)\n</code></pre>\n"}],"owner":{"account_id":470160,"reputation":1688,"user_id":877202,"accept_rate":66,"display_name":"Dhruv"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":236599,"favorite_count":0,"down_vote_count":0,"up_vote_count":106,"accepted_answer_id":7908446,"answer_count":6,"score":106,"last_activity_date":1645571977,"creation_date":1319659337,"question_id":7908193,"body_markdown":"I am new android, i&#39;m making an app in which one can download files to downloads folder (using Download Manager). I can see pictures if i go to downloads folder in emulator. So if i want to show a slideshow of downloaded files how can i get the access to that folder? Secondly how to add progress bar to this code:--\r\n\r\n    import java.util.Arrays;\r\n    \r\n    import android.app.Activity;\r\n    import android.app.DownloadManager;\r\n    import android.app.DownloadManager.Query;\r\n    import android.app.DownloadManager.Request;\r\n    import android.content.BroadcastReceiver;\r\n    import android.content.Context;\r\n    import android.content.Intent;\r\n    import android.content.IntentFilter;\r\n    import android.database.Cursor;\r\n    import android.net.Uri;\r\n    import android.os.Bundle;\r\n    import android.view.View;\r\n    import android.widget.ImageView;\r\n    \r\n    public class Download_managerActivity extends Activity {\r\n    \t private long quueue_for_url;\r\n    \t  \r\n    \t private DownloadManager dm;\r\n    \t \r\n    \t    /** Called when the activity is first created. */\r\n    \t    @Override\r\n    \t    public void onCreate(Bundle savedInstanceState) {\r\n    \t        super.onCreate(savedInstanceState);\r\n    \t        setContentView(R.layout.main);\r\n    \t \r\n    \t        BroadcastReceiver receiver = new BroadcastReceiver() {\r\n    \t            @Override\r\n    \t            public void onReceive(Context context, Intent intent) {\r\n    \t                String action = intent.getAction();\r\n    \t               \r\n    \t                if (DownloadManager.ACTION_DOWNLOAD_COMPLETE.equals(action)) {\r\n    \t                    long downloadId = intent.getLongExtra(\r\n    \t                            DownloadManager.EXTRA_DOWNLOAD_ID, 0);\r\n    \t                    Query query = new Query();\r\n    \t                    query.setFilterById(quueue_for_url);\r\n    \t                    Cursor c = dm.query(query);\r\n    \t                    if (c.moveToFirst()) {\r\n    \t                        int columnIndex = c\r\n    \t                                .getColumnIndex(DownloadManager.COLUMN_STATUS);\r\n    \t                        if (DownloadManager.STATUS_SUCCESSFUL == c\r\n    \t                                .getInt(columnIndex)) {\r\n    \t                        \r\n    \t                            ImageView view = (ImageView) findViewById(R.id.imageView1);\r\n    \t                            String uri_String_abcd = c\r\n    \t                                    .getString(c\r\n    \t                                            .getColumnIndex(DownloadManager.COLUMN_LOCAL_URI));\r\n    \t                            view.setImageURI(Uri.parse(uri_String_abcd));\r\n    \t                            \r\n    \t                        }\r\n    \t                    }\r\n    \t                }\r\n    \t            }\r\n    \t        };\r\n    \t \r\n    \t        registerReceiver(receiver, new IntentFilter(\r\n    \t                DownloadManager.ACTION_DOWNLOAD_COMPLETE));\r\n    \t    }\r\n    \t \r\n    \t    public void onClick(View view) {\r\n    \t        dm = (DownloadManager) getSystemService(DOWNLOAD_SERVICE);\r\n    \t \r\n    \t        Request request_for_url = new Request(\r\n    \t                Uri.parse(&quot;http://fc03.deviantart.net/fs14/i/2007/086/9/1/Steve_Jobs_portrait_by_tumb.jpg&quot;));\r\n    \t        \r\n    \t        Request request_for_url1 = new Request(\r\n    \t                Uri.parse(&quot;http://2.bp.blogspot.com/_q7Rxg4wqDyc/S5ZRVLxVYuI/AAAAAAAAAvU/fQAUZ2XFcp8/s400/katrina-kaif.jpg&quot;));\r\n    \t        Request request_for_url2 = new Request(\r\n    \t                Uri.parse(&quot;http://www.buzzreactor.com/sites/default/files/Bill-Gates1.jpg&quot;));\r\n    \t        \r\n    \t        quueue_for_url = dm.enqueue(request_for_url);\r\n    \t        quueue_for_url = dm.enqueue(request_for_url1);\r\n    \t        quueue_for_url = dm.enqueue(request_for_url2);\r\n    \t \r\n    \t    }\r\n    \t \r\n    \t    public void showDownload(View view) {\r\n    \t        Intent i = new Intent();\r\n    \t        //try more options to show downloading , retrieving and complete\r\n    \t        i.setAction(DownloadManager.ACTION_VIEW_DOWNLOADS);\r\n    \t        startActivity(i);\r\n    \t    }\r\n    \t}\r\n\r\nI want to add a button which performs the function of taking the pictures from downloads folder and then display like a slideshow.\r\n\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n          package=&quot;cmpe235.lab1&quot;\r\n          android:versionCode=&quot;1&quot;\r\n          android:versionName=&quot;1.0&quot;&gt;\r\n        &lt;uses-sdk android:minSdkVersion=&quot;9&quot; /&gt;\r\n    \r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;&gt;&lt;/uses-permission&gt;\r\n    \r\n        &lt;application android:icon=&quot;@drawable/icon&quot; android:label=&quot;@string/app_name&quot;&gt;\r\n            &lt;activity android:name=&quot;.Download_managerActivity&quot;\r\n                      android:label=&quot;@string/app_name&quot;&gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n                    &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/activity&gt;\r\n    \r\n        &lt;/application&gt;\r\n    &lt;/manifest&gt;\r\n\r\n\r\nmain.xml:-\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        android:orientation=&quot;vertical&quot; android:layout_width=&quot;fill_parent&quot;\r\n        android:layout_height=&quot;fill_parent&quot;&gt;\r\n        \r\n        \r\n        &lt;Button android:text=&quot;Start Download&quot; android:id=&quot;@+id/button1&quot;\r\n            android:layout_width=&quot;wrap_content&quot; android:layout_height=&quot;wrap_content&quot;\r\n             android:layout_gravity=&quot;center_vertical|center_horizontal|center&quot; android:textColor=&quot;#0000A0&quot; \r\n             android:typeface=&quot;serif&quot; android:onClick=&quot;onClick&quot;&gt;&lt;/Button&gt;\r\n            \r\n        &lt;Button android:text=&quot;View Downloads&quot; android:id=&quot;@+id/button2&quot;\r\n            android:layout_width=&quot;wrap_content&quot; android:layout_height=&quot;wrap_content&quot;\r\n             android:layout_gravity=&quot;center_vertical|center_horizontal|center&quot; android:textColor=&quot;#0000A0&quot; \r\n             android:typeface=&quot;serif&quot; android:onClick=&quot;showDownload&quot;&gt;&lt;/Button&gt;\r\n            \r\n        &lt;ImageView android:layout_height=&quot;wrap_content&quot; android:id=&quot;@+id/imageView1&quot;\r\n            android:src=&quot;@drawable/icon&quot; android:layout_width=&quot;wrap_content&quot;&gt;&lt;/ImageView&gt;\r\n            \r\n    &lt;/LinearLayout&gt;","title":"how to access downloads folder in android?","body":"<p>I am new android, i'm making an app in which one can download files to downloads folder (using Download Manager). I can see pictures if i go to downloads folder in emulator. So if i want to show a slideshow of downloaded files how can i get the access to that folder? Secondly how to add progress bar to this code:--</p>\n\n<pre><code>import java.util.Arrays;\n\nimport android.app.Activity;\nimport android.app.DownloadManager;\nimport android.app.DownloadManager.Query;\nimport android.app.DownloadManager.Request;\nimport android.content.BroadcastReceiver;\nimport android.content.Context;\nimport android.content.Intent;\nimport android.content.IntentFilter;\nimport android.database.Cursor;\nimport android.net.Uri;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.ImageView;\n\npublic class Download_managerActivity extends Activity {\n     private long quueue_for_url;\n\n     private DownloadManager dm;\n\n        /** Called when the activity is first created. */\n        @Override\n        public void onCreate(Bundle savedInstanceState) {\n            super.onCreate(savedInstanceState);\n            setContentView(R.layout.main);\n\n            BroadcastReceiver receiver = new BroadcastReceiver() {\n                @Override\n                public void onReceive(Context context, Intent intent) {\n                    String action = intent.getAction();\n\n                    if (DownloadManager.ACTION_DOWNLOAD_COMPLETE.equals(action)) {\n                        long downloadId = intent.getLongExtra(\n                                DownloadManager.EXTRA_DOWNLOAD_ID, 0);\n                        Query query = new Query();\n                        query.setFilterById(quueue_for_url);\n                        Cursor c = dm.query(query);\n                        if (c.moveToFirst()) {\n                            int columnIndex = c\n                                    .getColumnIndex(DownloadManager.COLUMN_STATUS);\n                            if (DownloadManager.STATUS_SUCCESSFUL == c\n                                    .getInt(columnIndex)) {\n\n                                ImageView view = (ImageView) findViewById(R.id.imageView1);\n                                String uri_String_abcd = c\n                                        .getString(c\n                                                .getColumnIndex(DownloadManager.COLUMN_LOCAL_URI));\n                                view.setImageURI(Uri.parse(uri_String_abcd));\n\n                            }\n                        }\n                    }\n                }\n            };\n\n            registerReceiver(receiver, new IntentFilter(\n                    DownloadManager.ACTION_DOWNLOAD_COMPLETE));\n        }\n\n        public void onClick(View view) {\n            dm = (DownloadManager) getSystemService(DOWNLOAD_SERVICE);\n\n            Request request_for_url = new Request(\n                    Uri.parse(\"http://fc03.deviantart.net/fs14/i/2007/086/9/1/Steve_Jobs_portrait_by_tumb.jpg\"));\n\n            Request request_for_url1 = new Request(\n                    Uri.parse(\"http://2.bp.blogspot.com/_q7Rxg4wqDyc/S5ZRVLxVYuI/AAAAAAAAAvU/fQAUZ2XFcp8/s400/katrina-kaif.jpg\"));\n            Request request_for_url2 = new Request(\n                    Uri.parse(\"http://www.buzzreactor.com/sites/default/files/Bill-Gates1.jpg\"));\n\n            quueue_for_url = dm.enqueue(request_for_url);\n            quueue_for_url = dm.enqueue(request_for_url1);\n            quueue_for_url = dm.enqueue(request_for_url2);\n\n        }\n\n        public void showDownload(View view) {\n            Intent i = new Intent();\n            //try more options to show downloading , retrieving and complete\n            i.setAction(DownloadManager.ACTION_VIEW_DOWNLOADS);\n            startActivity(i);\n        }\n    }\n</code></pre>\n\n<p>I want to add a button which performs the function of taking the pictures from downloads folder and then display like a slideshow.</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\n      package=\"cmpe235.lab1\"\n      android:versionCode=\"1\"\n      android:versionName=\"1.0\"&gt;\n    &lt;uses-sdk android:minSdkVersion=\"9\" /&gt;\n\n&lt;uses-permission android:name=\"android.permission.INTERNET\"&gt;&lt;/uses-permission&gt;\n\n    &lt;application android:icon=\"@drawable/icon\" android:label=\"@string/app_name\"&gt;\n        &lt;activity android:name=\".Download_managerActivity\"\n                  android:label=\"@string/app_name\"&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=\"android.intent.action.MAIN\" /&gt;\n                &lt;category android:name=\"android.intent.category.LAUNCHER\" /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n\n    &lt;/application&gt;\n&lt;/manifest&gt;\n</code></pre>\n\n<p>main.xml:-</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:orientation=\"vertical\" android:layout_width=\"fill_parent\"\n    android:layout_height=\"fill_parent\"&gt;\n\n\n    &lt;Button android:text=\"Start Download\" android:id=\"@+id/button1\"\n        android:layout_width=\"wrap_content\" android:layout_height=\"wrap_content\"\n         android:layout_gravity=\"center_vertical|center_horizontal|center\" android:textColor=\"#0000A0\" \n         android:typeface=\"serif\" android:onClick=\"onClick\"&gt;&lt;/Button&gt;\n\n    &lt;Button android:text=\"View Downloads\" android:id=\"@+id/button2\"\n        android:layout_width=\"wrap_content\" android:layout_height=\"wrap_content\"\n         android:layout_gravity=\"center_vertical|center_horizontal|center\" android:textColor=\"#0000A0\" \n         android:typeface=\"serif\" android:onClick=\"showDownload\"&gt;&lt;/Button&gt;\n\n    &lt;ImageView android:layout_height=\"wrap_content\" android:id=\"@+id/imageView1\"\n        android:src=\"@drawable/icon\" android:layout_width=\"wrap_content\"&gt;&lt;/ImageView&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n"},{"tags":["java","arraylist"],"comments":[{"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"score":0,"creation_date":1645528972,"post_id":71220301,"comment_id":125889898,"body_markdown":"Somehow, I can&#39;t think of any significantly better implementation, although you can get rid of `all`, and just add `afterX` to `beforeX` and return the latter (or the reverse of that).","body":"Somehow, I can&#39;t think of any significantly better implementation, although you can get rid of <code>all</code>, and just add <code>afterX</code> to <code>beforeX</code> and return the latter (or the reverse of that)."},{"owner":{"account_id":446208,"reputation":8611,"user_id":839128,"accept_rate":75,"display_name":"MikeFHay"},"score":1,"creation_date":1645532712,"post_id":71220301,"comment_id":125891259,"body_markdown":"A single iteration of the swapping part of [Quicksort](https://en.wikipedia.org/wiki/Quicksort), with `x` as your &quot;pivot&quot;, would solve the problem in linear time and constant memory.","body":"A single iteration of the swapping part of <a href=\"https://en.wikipedia.org/wiki/Quicksort\" rel=\"nofollow noreferrer\">Quicksort</a>, with <code>x</code> as your &quot;pivot&quot;, would solve the problem in linear time and constant memory."}],"answers":[{"tags":[],"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645532309,"creation_date":1645530054,"answer_id":71220677,"question_id":71220301,"body_markdown":"The following way is very slightly more efficient because it adds the numbers straight into the resulting list in one go, instead of using intermediate lists:\r\n\r\n    public static List&lt;Integer&gt; divideListByX1(List&lt;Integer&gt; list, int x) {\r\n        Integer[] result = new Integer[list.size()];\r\n        int lowIndex = 0;\r\n        int highIndex = result.length - 1;\r\n        for (Integer n : list) {\r\n            if (n &lt; x)\r\n                result[lowIndex++] = n;\r\n            else\r\n                result[highIndex--] = n;\r\n        }\r\n        return Arrays.asList(result);\r\n    }\r\n\r\nThe downside with that is that the &quot;high numbers&quot; part is not in the original order of the input list, but I guess that&#39;s not important.\r\n\r\n\r\nAlso, here&#39;s a way to do it using Streams, but is probably not more efficient than your initial attempt:\r\n\r\n    public List&lt;Integer&gt; divideListByX1(List&lt;Integer&gt; list, int x) {\r\n        return list\r\n            .stream()\r\n            .collect(Collectors.partitioningBy(n -&gt; n &gt;= x))\r\n            .values()\r\n            .stream()\r\n            .flatMap(List::stream)\r\n            .toList();\r\n    }","title":"Given a list and a value of x, split it such that all items less than x came before items greater than or equal to x","body":"<p>The following way is very slightly more efficient because it adds the numbers straight into the resulting list in one go, instead of using intermediate lists:</p>\n<pre><code>public static List&lt;Integer&gt; divideListByX1(List&lt;Integer&gt; list, int x) {\n    Integer[] result = new Integer[list.size()];\n    int lowIndex = 0;\n    int highIndex = result.length - 1;\n    for (Integer n : list) {\n        if (n &lt; x)\n            result[lowIndex++] = n;\n        else\n            result[highIndex--] = n;\n    }\n    return Arrays.asList(result);\n}\n</code></pre>\n<p>The downside with that is that the &quot;high numbers&quot; part is not in the original order of the input list, but I guess that's not important.</p>\n<p>Also, here's a way to do it using Streams, but is probably not more efficient than your initial attempt:</p>\n<pre><code>public List&lt;Integer&gt; divideListByX1(List&lt;Integer&gt; list, int x) {\n    return list\n        .stream()\n        .collect(Collectors.partitioningBy(n -&gt; n &gt;= x))\n        .values()\n        .stream()\n        .flatMap(List::stream)\n        .toList();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":446208,"reputation":8611,"user_id":839128,"accept_rate":75,"display_name":"MikeFHay"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645570923,"creation_date":1645544605,"answer_id":71224188,"question_id":71220301,"body_markdown":"This can be done in-place in linear time using the Pivot operation of Quicksort:\r\n\r\n    public static void pivot(List&lt;Integer&gt; list, int pivot) {\r\n        int left = 0;\r\n        int right = list.size() - 1;\r\n\r\n        while (left &lt; right) {\r\n            while (left &lt; list.size() &amp;&amp; list.get(left) &lt; pivot) {\r\n                left++;\r\n            }\r\n            while (right &gt;= 0 &amp;&amp; list.get(right) &gt;= pivot) {\r\n                right--;\r\n            }\r\n            if (left &lt; right)\r\n                Collections.swap(list, left++, right--);\r\n        }\r\n    }","title":"Given a list and a value of x, split it such that all items less than x came before items greater than or equal to x","body":"<p>This can be done in-place in linear time using the Pivot operation of Quicksort:</p>\n<pre><code>public static void pivot(List&lt;Integer&gt; list, int pivot) {\n    int left = 0;\n    int right = list.size() - 1;\n\n    while (left &lt; right) {\n        while (left &lt; list.size() &amp;&amp; list.get(left) &lt; pivot) {\n            left++;\n        }\n        while (right &gt;= 0 &amp;&amp; list.get(right) &gt;= pivot) {\n            right--;\n        }\n        if (left &lt; right)\n            Collections.swap(list, left++, right--);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":23010547,"reputation":55,"user_id":17133127,"display_name":"Marco Cor"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1645570923,"creation_date":1645528447,"question_id":71220301,"body_markdown":"I have a question. Is there a more efficient way to solve this issue? I made it like below but i created 3 new Lists.\r\n\r\n    public List&lt;Integer&gt; divideListByX1(List&lt;Integer&gt; list, int x) {\r\n        List&lt;Integer&gt; beforeX = new ArrayList&lt;&gt;();\r\n        List&lt;Integer&gt; afterX = new ArrayList&lt;&gt;();\r\n        List&lt;Integer&gt; all = new ArrayList&lt;&gt;();\r\n        for (Integer integer : list) {\r\n            boolean b = (integer &lt; x) ? beforeX.add(integer) : afterX.add(integer);\r\n        }\r\n        all.addAll(beforeX);\r\n        all.addAll(afterX);\r\n        return all;\r\n    }\r\n\r\nThanks for your help\r\n ","title":"Given a list and a value of x, split it such that all items less than x came before items greater than or equal to x","body":"<p>I have a question. Is there a more efficient way to solve this issue? I made it like below but i created 3 new Lists.</p>\n<pre><code>public List&lt;Integer&gt; divideListByX1(List&lt;Integer&gt; list, int x) {\n    List&lt;Integer&gt; beforeX = new ArrayList&lt;&gt;();\n    List&lt;Integer&gt; afterX = new ArrayList&lt;&gt;();\n    List&lt;Integer&gt; all = new ArrayList&lt;&gt;();\n    for (Integer integer : list) {\n        boolean b = (integer &lt; x) ? beforeX.add(integer) : afterX.add(integer);\n    }\n    all.addAll(beforeX);\n    all.addAll(afterX);\n    return all;\n}\n</code></pre>\n<p>Thanks for your help</p>\n"},{"tags":["java","visual-studio-code"],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1645570788,"creation_date":1645570788,"answer_id":71229365,"question_id":71228993,"body_markdown":"You need to [create a Run/Debug Configuration that includes an `args` array](https://code.visualstudio.com/docs/java/java-debugging#_launch)\r\n\r\nIt&#39;ll create a `.vscode/launch.json` file with at least this content \r\n\r\n```json\r\n{\r\n... \r\n&quot;type&quot;: &quot;java&quot;,\r\n&quot;mainClass&quot;: &quot;Sort_Three&quot;,\r\n&quot;args&quot;: [3, 1, 2]\r\n}\r\n```\r\n\r\n","title":"How to provide command line values to Java args within VS Code?","body":"<p>You need to <a href=\"https://code.visualstudio.com/docs/java/java-debugging#_launch\" rel=\"nofollow noreferrer\">create a Run/Debug Configuration that includes an <code>args</code> array</a></p>\n<p>It'll create a <code>.vscode/launch.json</code> file with at least this content</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n... \n&quot;type&quot;: &quot;java&quot;,\n&quot;mainClass&quot;: &quot;Sort_Three&quot;,\n&quot;args&quot;: [3, 1, 2]\n}\n</code></pre>\n"}],"owner":{"account_id":16812246,"reputation":3,"user_id":12154995,"display_name":"vbrnrt"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":500,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71229365,"answer_count":1,"score":0,"last_activity_date":1645570788,"creation_date":1645568231,"question_id":71228993,"body_markdown":" I try to run a Java program within VS Code and keep on getting the following error due to not able to pass in values for args in main() by clicking the &quot;run java&quot; icon.\r\n\r\n```\r\n&#39;C:\\Program Files\\Java\\jdk-17\\bin\\java.exe&#39; &#39;--enable-preview&#39; &#39;-XX:+ShowCodeDetailsInExceptionMessages&#39; &#39;-cp&#39; &#39;C:\\Users\\llee\\AppData\\Roaming\\Code\\User\\workspaceStorage\\6a201af46b5315f239f3bba771ed2cc7\\redhat.java\\jdt_ws\\Lecture 1_b97312ef\\bin&#39; &#39;Sort_Three&#39; \r\nException in thread &quot;main&quot; java.lang.ArrayIndexOutOfBoundsException: Index 0 \r\nout of bounds for length 0\r\n        at Sort_Three.main(Sort_Three.java:3)\r\n```\r\n\r\n\r\nI understand that variable args is null and there is no value passed to the program. So, what should I do to pass values for VS Code by clicking on the &quot;run java&quot; icon?\r\n\r\nIf I run the program outside VS Code on a command line, the program works fine.\r\n\r\n```\r\nPS C:\\Users\\Desktop\\Exercises\\Lecture 1&gt; java Sort_Three 3 1 2\r\n1\r\n2\r\n3\r\n```\r\n\r\n","title":"How to provide command line values to Java args within VS Code?","body":"<p>I try to run a Java program within VS Code and keep on getting the following error due to not able to pass in values for args in main() by clicking the &quot;run java&quot; icon.</p>\n<pre><code>'C:\\Program Files\\Java\\jdk-17\\bin\\java.exe' '--enable-preview' '-XX:+ShowCodeDetailsInExceptionMessages' '-cp' 'C:\\Users\\llee\\AppData\\Roaming\\Code\\User\\workspaceStorage\\6a201af46b5315f239f3bba771ed2cc7\\redhat.java\\jdt_ws\\Lecture 1_b97312ef\\bin' 'Sort_Three' \nException in thread &quot;main&quot; java.lang.ArrayIndexOutOfBoundsException: Index 0 \nout of bounds for length 0\n        at Sort_Three.main(Sort_Three.java:3)\n</code></pre>\n<p>I understand that variable args is null and there is no value passed to the program. So, what should I do to pass values for VS Code by clicking on the &quot;run java&quot; icon?</p>\n<p>If I run the program outside VS Code on a command line, the program works fine.</p>\n<pre><code>PS C:\\Users\\Desktop\\Exercises\\Lecture 1&gt; java Sort_Three 3 1 2\n1\n2\n3\n</code></pre>\n"},{"tags":["java","openapi"],"owner":{"account_id":557241,"reputation":2186,"user_id":919610,"accept_rate":93,"display_name":"jussi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":319,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1645570525,"creation_date":1645570525,"question_id":71229336,"body_markdown":"I am using a generated OpenAPI Client for uploading a file (~190mb) to a service.\r\nWhen using the generated method, the code fails with an OutOfMemoryException.\r\n\r\nHow can I tell the OpenAPI Client to use a buffered reader/writer for the file? Is there another solution?\r\n\r\nLog:\r\n```2022-02-22 22:37:45.566  INFO 1 --- [  XNIO-1 task-3] okhttp3.OkHttpClient                     : --&gt; POST URL\r\n2022-02-22 22:37:45.569  INFO 1 --- [  XNIO-1 task-3] okhttp3.OkHttpClient                     : Content-Type: multipart/form-data; boundary=b75abfd1-9ae1-4c86-b69e-e444d341b051\r\n2022-02-22 22:37:45.570  INFO 1 --- [  XNIO-1 task-3] okhttp3.OkHttpClient                     : Content-Length: 193464281\r\n2022-02-22 22:37:45.570  INFO 1 --- [  XNIO-1 task-3] okhttp3.OkHttpClient                     : Authorization: Basic XXX\r\n2022-02-22 22:37:45.570  INFO 1 --- [  XNIO-1 task-3] okhttp3.OkHttpClient                     : Accept: application/json\r\n2022-02-22 22:37:45.571  INFO 1 --- [  XNIO-1 task-3] okhttp3.OkHttpClient                     : User-Agent: OpenAPI-Generator/0.0.13/java\r\n2022-02-22 22:37:45.744  INFO 1 --- [  XNIO-1 task-3] okhttp3.OkHttpClient                     :\r\n2022-02-22 22:37:49.588 ERROR 1 --- [  XNIO-1 task-3] o.z.problem.spring.common.AdviceTraits   : Internal Server Error\r\n\r\norg.springframework.web.util.NestedServletException: Handler dispatch failed; nested exception is java.lang.OutOfMemoryError: Java heap space\r\n```\r\n\r\nCode:\r\n\r\n```\r\nprivate ApiClient login() {\r\n        ApiClient defaultClient = Configuration.getDefaultApiClient();\r\n        defaultClient.setDebugging(true);\r\n        defaultClient.setBasePath(this.basepath);\r\n\r\n        // Configure HTTP basic authorization: Basic\r\n        HttpBasicAuth Basic = (HttpBasicAuth) defaultClient.getAuthentication(&quot;Basic&quot;);\r\n        Basic.setUsername(this.username);\r\n        Basic.setPassword(this.password);\r\n\r\n        return defaultClient;\r\n    }\r\n\r\nprivate void upload() {\r\n        String filename = &quot;file.file&quot;;\r\n        ApiClient client = login();\r\n        MediaApi mediaApi = new MediaApi();\r\n        mediaApi.setApiClient(client);\r\n        Media m = mediaApi.mediaCreate(new File(filename));\r\n}\r\n```\r\n\r\nOpenApi:\r\n\r\n```{\r\n  &quot;swagger&quot;: &quot;2.0&quot;,\r\n  &quot;info&quot;: {\r\n    &quot;title&quot;: &quot;MediaCMS API&quot;,\r\n    &quot;version&quot;: &quot;0.0.13&quot;\r\n  },\r\n  &quot;host&quot;: &quot;localhost:8085&quot;,\r\n  &quot;schemes&quot;: [&quot;http&quot;],\r\n  &quot;basePath&quot;: &quot;/api/v1&quot;,\r\n  &quot;consumes&quot;: [&quot;application/json&quot;],\r\n  &quot;produces&quot;: [&quot;application/json&quot;],\r\n  &quot;securityDefinitions&quot;: {\r\n    &quot;Basic&quot;: {\r\n      &quot;type&quot;: &quot;basic&quot;\r\n    }\r\n  },\r\n  &quot;security&quot;: [\r\n    {\r\n      &quot;Basic&quot;: []\r\n    }\r\n  ],\r\n  &quot;paths&quot;: {\r\n    &quot;/media&quot;: {\r\n      &quot;post&quot;: {\r\n        &quot;operationId&quot;: &quot;media_create&quot;,\r\n        &quot;summary&quot;: &quot;Add new Media&quot;,\r\n        &quot;description&quot;: &quot;Adds a new media, for authenticated users&quot;,\r\n        &quot;parameters&quot;: [\r\n          {\r\n            &quot;name&quot;: &quot;media_file&quot;,\r\n            &quot;in&quot;: &quot;formData&quot;,\r\n            &quot;description&quot;: &quot;media_file&quot;,\r\n            &quot;required&quot;: true,\r\n            &quot;type&quot;: &quot;file&quot;\r\n          },\r\n          {\r\n            &quot;name&quot;: &quot;description&quot;,\r\n            &quot;in&quot;: &quot;formData&quot;,\r\n            &quot;description&quot;: &quot;description&quot;,\r\n            &quot;required&quot;: false,\r\n            &quot;type&quot;: &quot;string&quot;\r\n          },\r\n          {\r\n            &quot;name&quot;: &quot;title&quot;,\r\n            &quot;in&quot;: &quot;formData&quot;,\r\n            &quot;description&quot;: &quot;title&quot;,\r\n            &quot;required&quot;: false,\r\n            &quot;type&quot;: &quot;string&quot;\r\n          }\r\n        ],\r\n        &quot;responses&quot;: {\r\n          &quot;201&quot;: {\r\n            &quot;description&quot;: &quot;response description&quot;,\r\n            &quot;schema&quot;: {\r\n              &quot;$ref&quot;: &quot;#/definitions/Media&quot;\r\n            }\r\n          },\r\n          &quot;401&quot;: {\r\n            &quot;description&quot;: &quot;bad request&quot;\r\n          }\r\n        },\r\n        &quot;consumes&quot;: [&quot;multipart/form-data&quot;, &quot;application/x-www-form-urlencoded&quot;],\r\n        &quot;tags&quot;: [&quot;Media&quot;]\r\n      }\r\n    }\r\n  }\r\n}\r\n```","title":"OpenApi generated Client fails during upload with java.lang.OutOfMemoryError: Java heap space","body":"<p>I am using a generated OpenAPI Client for uploading a file (~190mb) to a service.\nWhen using the generated method, the code fails with an OutOfMemoryException.</p>\n<p>How can I tell the OpenAPI Client to use a buffered reader/writer for the file? Is there another solution?</p>\n<p>Log:</p>\n<pre><code>2022-02-22 22:37:45.569  INFO 1 --- [  XNIO-1 task-3] okhttp3.OkHttpClient                     : Content-Type: multipart/form-data; boundary=b75abfd1-9ae1-4c86-b69e-e444d341b051\n2022-02-22 22:37:45.570  INFO 1 --- [  XNIO-1 task-3] okhttp3.OkHttpClient                     : Content-Length: 193464281\n2022-02-22 22:37:45.570  INFO 1 --- [  XNIO-1 task-3] okhttp3.OkHttpClient                     : Authorization: Basic XXX\n2022-02-22 22:37:45.570  INFO 1 --- [  XNIO-1 task-3] okhttp3.OkHttpClient                     : Accept: application/json\n2022-02-22 22:37:45.571  INFO 1 --- [  XNIO-1 task-3] okhttp3.OkHttpClient                     : User-Agent: OpenAPI-Generator/0.0.13/java\n2022-02-22 22:37:45.744  INFO 1 --- [  XNIO-1 task-3] okhttp3.OkHttpClient                     :\n2022-02-22 22:37:49.588 ERROR 1 --- [  XNIO-1 task-3] o.z.problem.spring.common.AdviceTraits   : Internal Server Error\n\norg.springframework.web.util.NestedServletException: Handler dispatch failed; nested exception is java.lang.OutOfMemoryError: Java heap space\n</code></pre>\n<p>Code:</p>\n<pre><code>private ApiClient login() {\n        ApiClient defaultClient = Configuration.getDefaultApiClient();\n        defaultClient.setDebugging(true);\n        defaultClient.setBasePath(this.basepath);\n\n        // Configure HTTP basic authorization: Basic\n        HttpBasicAuth Basic = (HttpBasicAuth) defaultClient.getAuthentication(&quot;Basic&quot;);\n        Basic.setUsername(this.username);\n        Basic.setPassword(this.password);\n\n        return defaultClient;\n    }\n\nprivate void upload() {\n        String filename = &quot;file.file&quot;;\n        ApiClient client = login();\n        MediaApi mediaApi = new MediaApi();\n        mediaApi.setApiClient(client);\n        Media m = mediaApi.mediaCreate(new File(filename));\n}\n</code></pre>\n<p>OpenApi:</p>\n<pre><code>  &quot;swagger&quot;: &quot;2.0&quot;,\n  &quot;info&quot;: {\n    &quot;title&quot;: &quot;MediaCMS API&quot;,\n    &quot;version&quot;: &quot;0.0.13&quot;\n  },\n  &quot;host&quot;: &quot;localhost:8085&quot;,\n  &quot;schemes&quot;: [&quot;http&quot;],\n  &quot;basePath&quot;: &quot;/api/v1&quot;,\n  &quot;consumes&quot;: [&quot;application/json&quot;],\n  &quot;produces&quot;: [&quot;application/json&quot;],\n  &quot;securityDefinitions&quot;: {\n    &quot;Basic&quot;: {\n      &quot;type&quot;: &quot;basic&quot;\n    }\n  },\n  &quot;security&quot;: [\n    {\n      &quot;Basic&quot;: []\n    }\n  ],\n  &quot;paths&quot;: {\n    &quot;/media&quot;: {\n      &quot;post&quot;: {\n        &quot;operationId&quot;: &quot;media_create&quot;,\n        &quot;summary&quot;: &quot;Add new Media&quot;,\n        &quot;description&quot;: &quot;Adds a new media, for authenticated users&quot;,\n        &quot;parameters&quot;: [\n          {\n            &quot;name&quot;: &quot;media_file&quot;,\n            &quot;in&quot;: &quot;formData&quot;,\n            &quot;description&quot;: &quot;media_file&quot;,\n            &quot;required&quot;: true,\n            &quot;type&quot;: &quot;file&quot;\n          },\n          {\n            &quot;name&quot;: &quot;description&quot;,\n            &quot;in&quot;: &quot;formData&quot;,\n            &quot;description&quot;: &quot;description&quot;,\n            &quot;required&quot;: false,\n            &quot;type&quot;: &quot;string&quot;\n          },\n          {\n            &quot;name&quot;: &quot;title&quot;,\n            &quot;in&quot;: &quot;formData&quot;,\n            &quot;description&quot;: &quot;title&quot;,\n            &quot;required&quot;: false,\n            &quot;type&quot;: &quot;string&quot;\n          }\n        ],\n        &quot;responses&quot;: {\n          &quot;201&quot;: {\n            &quot;description&quot;: &quot;response description&quot;,\n            &quot;schema&quot;: {\n              &quot;$ref&quot;: &quot;#/definitions/Media&quot;\n            }\n          },\n          &quot;401&quot;: {\n            &quot;description&quot;: &quot;bad request&quot;\n          }\n        },\n        &quot;consumes&quot;: [&quot;multipart/form-data&quot;, &quot;application/x-www-form-urlencoded&quot;],\n        &quot;tags&quot;: [&quot;Media&quot;]\n      }\n    }\n  }\n}\n</code></pre>\n"},{"tags":["java",".net",".net-3.5","linkedhashmap"],"comments":[{"owner":{"account_id":21936,"reputation":25665,"user_id":53718,"accept_rate":67,"display_name":"Cerebrus"},"score":1,"creation_date":1233133643,"post_id":486948,"comment_id":303263,"body_markdown":"I would like to understand the logic whereby merely accessing an element in the collection is regarded as a modification, thereby causing re-ordering.","body":"I would like to understand the logic whereby merely accessing an element in the collection is regarded as a modification, thereby causing re-ordering."},{"owner":{"account_id":20560,"reputation":29631,"user_id":49241,"accept_rate":100,"display_name":"Adam Ralph"},"score":1,"creation_date":1233134024,"post_id":486948,"comment_id":303269,"body_markdown":"I&#39;m not familiar with the class in question, but perhaps to allow faster access to most accessed elements?","body":"I&#39;m not familiar with the class in question, but perhaps to allow faster access to most accessed elements?"},{"owner":{"account_id":19947,"reputation":32593,"user_id":47190,"accept_rate":80,"display_name":"Peter Štibran&#253;"},"score":1,"creation_date":1233134215,"post_id":486948,"comment_id":303274,"body_markdown":"You can see details about LinkedHashMap at http://java.sun.com/javase/6/docs/api/java/util/LinkedHashMap.html It explains usage, and when it is useful (LRU caches).","body":"You can see details about LinkedHashMap at <a href=\"http://java.sun.com/javase/6/docs/api/java/util/LinkedHashMap.html\" rel=\"nofollow noreferrer\">java.sun.com/javase/6/docs/api/java/util/LinkedHashMap.html</a> It explains usage, and when it is useful (LRU caches)."},{"owner":{"account_id":335069,"reputation":70755,"user_id":661933,"accept_rate":94,"display_name":"nawfal"},"score":0,"creation_date":1404142143,"post_id":486948,"comment_id":37916750,"body_markdown":"See [generic-key-value-pair-collection-in-that-preserves-insertion-order](http://stackoverflow.com/questions/1396718/generic-key-value-pair-collection-in-that-preserves-insertion-order)","body":"See <a href=\"http://stackoverflow.com/questions/1396718/generic-key-value-pair-collection-in-that-preserves-insertion-order\">generic-key-value-pair-collection-in-that-preserves-insertio&zwnj;&#8203;n-order</a>"},{"owner":{"account_id":52915,"reputation":6885,"user_id":158179,"accept_rate":50,"display_name":"N0thing"},"score":0,"creation_date":1463678371,"post_id":486948,"comment_id":62178717,"body_markdown":"I answered this in http://stackoverflow.com/a/36961779/158179, I put a minimal, no dependencies LinkedHashMap implemented in C#. Hope it helps! (Also: could we link the two questions? They seem to ask more or less the same thing).","body":"I answered this in <a href=\"http://stackoverflow.com/a/36961779/158179\">stackoverflow.com/a/36961779/158179</a>, I put a minimal, no dependencies LinkedHashMap implemented in C#. Hope it helps! (Also: could we link the two questions? They seem to ask more or less the same thing)."}],"answers":[{"tags":[],"owner":{"account_id":20560,"reputation":29631,"user_id":49241,"accept_rate":100,"display_name":"Adam Ralph"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1373469891,"creation_date":1233134850,"answer_id":487005,"question_id":486948,"body_markdown":"A bit of Googling seems to show that there is no built in C# equivalent for LinkedHashMap, but there are some third party options available.","title":"LinkedHashMap in .NET","body":"<p>A bit of Googling seems to show that there is no built in C# equivalent for LinkedHashMap, but there are some third party options available.</p>\n"},{"tags":[],"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":1,"up_vote_count":17,"is_accepted":false,"score":16,"last_activity_date":1233134880,"creation_date":1233134880,"answer_id":487006,"question_id":486948,"body_markdown":"Just to clarify a bit for readers: LinkedHashMap only behaves that way when built with one particular constructor overload. Normally the elements are maintained in insert order. (This feels a little odd to me, but never mind.)\r\n\r\nI don&#39;t believe there&#39;s any such class in .NET. It wouldn&#39;t be too hard to build one, using a linked list of elements and a dictionary from key to linked list node. Access would then consist of fetching the linked list node, moving it to the head, and returning the value.\r\n\r\nI&#39;d be happy to implement it tonight or tomorrow if you want - although probably not with full unit tests etc. (Fully testing a collection is a time-consuming business!)","title":"LinkedHashMap in .NET","body":"<p>Just to clarify a bit for readers: LinkedHashMap only behaves that way when built with one particular constructor overload. Normally the elements are maintained in insert order. (This feels a little odd to me, but never mind.)</p>\n\n<p>I don't believe there's any such class in .NET. It wouldn't be too hard to build one, using a linked list of elements and a dictionary from key to linked list node. Access would then consist of fetching the linked list node, moving it to the head, and returning the value.</p>\n\n<p>I'd be happy to implement it tonight or tomorrow if you want - although probably not with full unit tests etc. (Fully testing a collection is a time-consuming business!)</p>\n"},{"tags":[],"owner":{"account_id":14779,"reputation":4649,"user_id":30698,"accept_rate":58,"display_name":"biozinc"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1244214313,"creation_date":1244214313,"answer_id":956359,"question_id":486948,"body_markdown":"Here&#39;s a C# implementation I found on a [forum][1]:\r\n\r\nIt&#39;s undocumented, but does have some tests. It is not generic, however. At least it&#39;s something I guess.\r\n\r\n@Jon: I&#39;d appreciate it too if you could do a quick implementation. I imagined that a Dictionary on top of a LinkedList would be best, but [I hear][2] there are garbage collection issues with LinkedList that slows things down.\r\n\r\n\r\n  [1]: http://www.pcreview.co.uk/forums/thread-2134948.php\r\n  [2]: http://en.csharp-online.net/CSharp_Generics_Recipes—Implementing_a_Linked_List","title":"LinkedHashMap in .NET","body":"<p>Here's a C# implementation I found on a <a href=\"http://www.pcreview.co.uk/forums/thread-2134948.php\" rel=\"nofollow noreferrer\">forum</a>:</p>\n\n<p>It's undocumented, but does have some tests. It is not generic, however. At least it's something I guess.</p>\n\n<p>@Jon: I'd appreciate it too if you could do a quick implementation. I imagined that a Dictionary on top of a LinkedList would be best, but <a href=\"http://en.csharp-online.net/CSharp_Generics_Recipes%E2%80%94Implementing_a_Linked_List\" rel=\"nofollow noreferrer\">I hear</a> there are garbage collection issues with LinkedList that slows things down.</p>\n"},{"tags":[],"owner":{"account_id":204096,"reputation":1554,"user_id":452101,"accept_rate":92,"display_name":"Nico"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1399663705,"creation_date":1399663705,"answer_id":23572488,"question_id":486948,"body_markdown":"I used System.Collections.Specialized.OrderedDictionary as a replacement for LinkedHashMap. It worked for me. Is there anything I&#39;m missing about OrderedDictionary (yes, it&#39;s not generic, but it is available with .Net 2 or newer)?","title":"LinkedHashMap in .NET","body":"<p>I used System.Collections.Specialized.OrderedDictionary as a replacement for LinkedHashMap. It worked for me. Is there anything I'm missing about OrderedDictionary (yes, it's not generic, but it is available with .Net 2 or newer)?</p>\n"},{"tags":[],"owner":{"account_id":55308,"reputation":2521,"user_id":165622,"accept_rate":41,"display_name":"Luiz Henrique Martins Lins Rol"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1460028460,"creation_date":1460028460,"answer_id":36474833,"question_id":486948,"body_markdown":"Nhibernate has a  NHibernate.Util.LinkedHashMap implementation.\r\n\r\nIf you already have it on your code, as I had, it can be handy","title":"LinkedHashMap in .NET","body":"<p>Nhibernate has a  NHibernate.Util.LinkedHashMap implementation.</p>\n\n<p>If you already have it on your code, as I had, it can be handy</p>\n"},{"tags":[],"owner":{"account_id":2779530,"reputation":3249,"user_id":2392330,"display_name":"Boris Parfenenkov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1587437282,"creation_date":1587437282,"answer_id":61335178,"question_id":486948,"body_markdown":"As there is still no LinkedHashMap in C#, and I needed this functionality, I&#39;ve implemented one on the latest net core (3.1). https://github.com/idlerboris/LinkedHashMap/blob/master/CustomCollections/CustomCollections/LinkedHashMap.cs. It&#39;s covered with basic tests and seems to be good, but feel free to contribute/report issues.","title":"LinkedHashMap in .NET","body":"<p>As there is still no LinkedHashMap in C#, and I needed this functionality, I've implemented one on the latest net core (3.1). <a href=\"https://github.com/idlerboris/LinkedHashMap/blob/master/CustomCollections/CustomCollections/LinkedHashMap.cs\" rel=\"nofollow noreferrer\">https://github.com/idlerboris/LinkedHashMap/blob/master/CustomCollections/CustomCollections/LinkedHashMap.cs</a>. It's covered with basic tests and seems to be good, but feel free to contribute/report issues.</p>\n"},{"tags":[],"owner":{"account_id":6713505,"reputation":45299,"user_id":5176071,"display_name":"D-Shih"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635175243,"creation_date":1635175243,"answer_id":69710689,"question_id":486948,"body_markdown":"I know this is an old topic, but there is an awesome open source project to implement `LinkedHashMap` in .NET [C5](https://www.nuget.org/packages/C5)\r\n\r\nHere is [LinkedHashMap](https://github.com/sestoft/C5/blob/master/C5/LinkedLists/HashedLinkedList.cs) source code.","title":"LinkedHashMap in .NET","body":"<p>I know this is an old topic, but there is an awesome open source project to implement <code>LinkedHashMap</code> in .NET <a href=\"https://www.nuget.org/packages/C5\" rel=\"nofollow noreferrer\">C5</a></p>\n<p>Here is <a href=\"https://github.com/sestoft/C5/blob/master/C5/LinkedLists/HashedLinkedList.cs\" rel=\"nofollow noreferrer\">LinkedHashMap</a> source code.</p>\n"},{"tags":[],"owner":{"account_id":4197336,"reputation":31,"user_id":3438435,"display_name":"botg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645570511,"creation_date":1645569858,"answer_id":71229249,"question_id":486948,"body_markdown":"pretty late to the game, but I implemented the LinkedHashMap (Java) equivalent in C# as LinkedDictionary as follows:\r\n\r\n        public class LinkedDictionary&lt;K, V&gt; : IDictionary&lt;K, V&gt;, ICollection&lt;KeyValuePair&lt;K, V&gt;&gt;, IEnumerable&lt;KeyValuePair&lt;K, V&gt;&gt;\r\n        {\r\n\r\n        private List&lt;K&gt; list = new List&lt;K&gt;();\r\n        private Dictionary&lt;K, V&gt; dictionary = new Dictionary&lt;K, V&gt;();\r\n\r\n        public LinkedDictionary()\r\n        {\r\n\r\n        }\r\n\r\n        public V this[K key] {\r\n            get {\r\n                return this.dictionary[key];\r\n            }\r\n            set {\r\n                this.dictionary[key] = value;\r\n                if (!this.list.Contains(key))\r\n                {\r\n                    this.list.Add(key);\r\n                }\r\n            }\r\n        }\r\n                \r\n        public int Count =&gt; this.dictionary.Count;\r\n\r\n        public bool IsReadOnly =&gt; false;\r\n\r\n        ICollection&lt;K&gt; IDictionary&lt;K, V&gt;.Keys =&gt; this.list;\r\n\r\n        ICollection&lt;V&gt; IDictionary&lt;K, V&gt;.Values\r\n        {\r\n            get\r\n            {\r\n                List&lt;V&gt; values = new List&lt;V&gt;(this.dictionary.Count);\r\n                foreach(K key in this.list)\r\n                {\r\n                    V value = default(V);\r\n                    this.dictionary.TryGetValue(key, out value);\r\n                    values.Add(value);\r\n                }\r\n                return values;\r\n            }\r\n        }\r\n\r\n        public void Add(KeyValuePair&lt;K, V&gt; item)\r\n        {\r\n            this.dictionary.Add(item.Key, item.Value);\r\n            if (!this.list.Contains(item.Key))\r\n            {\r\n                this.list.Add(item.Key);\r\n            }\r\n        }\r\n\r\n        public void Add(K key, V value)\r\n        {\r\n            this.dictionary.Add(key, value);\r\n            if (!this.list.Contains(key))\r\n            {\r\n                this.list.Add(key);\r\n            }\r\n        }\r\n\r\n        public void Clear()\r\n        {\r\n            this.dictionary.Clear();\r\n            this.list.Clear();\r\n        }\r\n\r\n        public bool Contains(KeyValuePair&lt;K, V&gt; item)\r\n        {\r\n            return this.dictionary.Contains(item);\r\n        }\r\n\r\n        public bool ContainsKey(K key)\r\n        {\r\n            return this.dictionary.ContainsKey(key);\r\n        }\r\n\r\n        public void CopyTo(KeyValuePair&lt;K, V&gt;[] array, int arrayIndex)\r\n        {\r\n            throw new NotImplementedException();\r\n        }\r\n\r\n        public bool Remove(KeyValuePair&lt;K, V&gt; item)\r\n        {\r\n            if (this.Contains(item)){\r\n                this.list.Remove(item.Key);\r\n                return this.dictionary.Remove(item.Key);\r\n            } else\r\n            {\r\n                return false;\r\n            }\r\n        }\r\n\r\n        public bool Remove(K key)\r\n        {\r\n            if (this.dictionary.ContainsKey(key))\r\n            {\r\n                this.list.Remove(key);\r\n                return this.dictionary.Remove(key);\r\n            }\r\n            else\r\n            {\r\n                return false;\r\n            }\r\n        }\r\n\r\n         public bool TryGetValue(K key, [MaybeNullWhen(false)] out V value)\r\n        {\r\n            return this.dictionary.TryGetValue(key, out value);\r\n        }\r\n\r\n        public V Get(K key)\r\n        {\r\n            V value = default(V);\r\n            this.dictionary.TryGetValue(key, out value);\r\n            return value;\r\n        }\r\n\r\n        public IEnumerator&lt;KeyValuePair&lt;K, V&gt;&gt; GetEnumerator()\r\n        {\r\n            foreach (K key in this.list){\r\n                V value = default(V);\r\n                this.dictionary.TryGetValue(key, out value);\r\n                yield return new KeyValuePair&lt;K, V&gt;(key, value);\r\n            }\r\n        }\r\n\r\n        IEnumerator IEnumerable.GetEnumerator()\r\n        {\r\n            return this.GetEnumerator();\r\n        }\r\n\r\n        private class LinkedDictionaryIterator&lt;K, V&gt; : IEnumerator&lt;V&gt;\r\n        {\r\n\r\n            private int i;\r\n            private readonly Dictionary&lt;K, V&gt; dictionary;\r\n            private readonly List&lt;K&gt; list;\r\n            \r\n            public LinkedDictionaryIterator(Dictionary&lt;K, V&gt; dictionary, List&lt;K&gt; list)\r\n            {\r\n                this.dictionary = dictionary;\r\n                this.list = list;\r\n                this.i = 0;\r\n            }\r\n\r\n            public void Dispose()\r\n            {\r\n                \r\n            }\r\n\r\n            public bool MoveNext()\r\n            {\r\n                return this.i &lt; this.dictionary.Count;\r\n            }\r\n\r\n            public void Reset()\r\n            {\r\n                this.i = 0;\r\n            }\r\n\r\n            public KeyValuePair&lt;K, V&gt; Current\r\n            {\r\n                get\r\n                {\r\n                    int ii = this.i;\r\n                    ++this.i;\r\n                    V value = default(V);\r\n                    K key = this.list[ii];\r\n                    this.dictionary.TryGetValue(key, out value);\r\n                    return new KeyValuePair&lt;K, V&gt;(key, value);\r\n                }\r\n            }\r\n\r\n            V IEnumerator&lt;V&gt;.Current\r\n            {\r\n                get\r\n                {\r\n                    int ii = this.i;\r\n                    ++this.i;\r\n                    V value = default(V);\r\n                    K key = this.list[ii];\r\n                    this.dictionary.TryGetValue(key, out value);\r\n                    return value;\r\n                }\r\n            }\r\n\r\n            object IEnumerator.Current\r\n            {\r\n                get\r\n                {\r\n                    return Current;\r\n                }\r\n            }\r\n        }\r\n\r\nAnd a simple UnitTest where I compare it to Dictionary\r\n\r\n    \r\n        class UnitTest_LinkedDictionary\r\n        {\r\n            [Test]\r\n            public void Test00()\r\n            {\r\n                LinkedDictionary&lt;string, int&gt; d = new LinkedDictionary&lt;string, int&gt;();\r\n\r\n    \r\n\r\n                d.Add(&quot;1&quot;, 1);\r\n                d.Add(&quot;2&quot;, 2);\r\n                d.Add(&quot;3&quot;, 3);\r\n                d.Remove(&quot;2&quot;);\r\n                d.Add(&quot;4&quot;, 4);\r\n\r\n                d.Select(i =&gt; $&quot;{i.Key}: {i.Value}&quot;).ToList().ForEach(Console.WriteLine);\r\n\r\n            }\r\n\r\n            [Test]\r\n            public void Test01()\r\n            {\r\n                Dictionary&lt;string, int&gt; d = new Dictionary&lt;string, int&gt;();\r\n\r\n                d.Add(&quot;1&quot;, 1);\r\n                d.Add(&quot;2&quot;, 2);\r\n                d.Add(&quot;3&quot;, 3);\r\n                d.Remove(&quot;2&quot;);\r\n                d.Add(&quot;4&quot;, 4);\r\n\r\n                d.Select(i =&gt; $&quot;{i.Key} :{i.Value}&quot;).ToList().ForEach(Console.WriteLine);\r\n\r\n            }\r\n\r\n        }\r\n\r\nAs it is based on a Dictionary and a List it at least adds the time complexity of List accesses and Dictionary accesses.\r\n","title":"LinkedHashMap in .NET","body":"<p>pretty late to the game, but I implemented the LinkedHashMap (Java) equivalent in C# as LinkedDictionary as follows:</p>\n<pre><code>    public class LinkedDictionary&lt;K, V&gt; : IDictionary&lt;K, V&gt;, ICollection&lt;KeyValuePair&lt;K, V&gt;&gt;, IEnumerable&lt;KeyValuePair&lt;K, V&gt;&gt;\n    {\n\n    private List&lt;K&gt; list = new List&lt;K&gt;();\n    private Dictionary&lt;K, V&gt; dictionary = new Dictionary&lt;K, V&gt;();\n\n    public LinkedDictionary()\n    {\n\n    }\n\n    public V this[K key] {\n        get {\n            return this.dictionary[key];\n        }\n        set {\n            this.dictionary[key] = value;\n            if (!this.list.Contains(key))\n            {\n                this.list.Add(key);\n            }\n        }\n    }\n            \n    public int Count =&gt; this.dictionary.Count;\n\n    public bool IsReadOnly =&gt; false;\n\n    ICollection&lt;K&gt; IDictionary&lt;K, V&gt;.Keys =&gt; this.list;\n\n    ICollection&lt;V&gt; IDictionary&lt;K, V&gt;.Values\n    {\n        get\n        {\n            List&lt;V&gt; values = new List&lt;V&gt;(this.dictionary.Count);\n            foreach(K key in this.list)\n            {\n                V value = default(V);\n                this.dictionary.TryGetValue(key, out value);\n                values.Add(value);\n            }\n            return values;\n        }\n    }\n\n    public void Add(KeyValuePair&lt;K, V&gt; item)\n    {\n        this.dictionary.Add(item.Key, item.Value);\n        if (!this.list.Contains(item.Key))\n        {\n            this.list.Add(item.Key);\n        }\n    }\n\n    public void Add(K key, V value)\n    {\n        this.dictionary.Add(key, value);\n        if (!this.list.Contains(key))\n        {\n            this.list.Add(key);\n        }\n    }\n\n    public void Clear()\n    {\n        this.dictionary.Clear();\n        this.list.Clear();\n    }\n\n    public bool Contains(KeyValuePair&lt;K, V&gt; item)\n    {\n        return this.dictionary.Contains(item);\n    }\n\n    public bool ContainsKey(K key)\n    {\n        return this.dictionary.ContainsKey(key);\n    }\n\n    public void CopyTo(KeyValuePair&lt;K, V&gt;[] array, int arrayIndex)\n    {\n        throw new NotImplementedException();\n    }\n\n    public bool Remove(KeyValuePair&lt;K, V&gt; item)\n    {\n        if (this.Contains(item)){\n            this.list.Remove(item.Key);\n            return this.dictionary.Remove(item.Key);\n        } else\n        {\n            return false;\n        }\n    }\n\n    public bool Remove(K key)\n    {\n        if (this.dictionary.ContainsKey(key))\n        {\n            this.list.Remove(key);\n            return this.dictionary.Remove(key);\n        }\n        else\n        {\n            return false;\n        }\n    }\n\n     public bool TryGetValue(K key, [MaybeNullWhen(false)] out V value)\n    {\n        return this.dictionary.TryGetValue(key, out value);\n    }\n\n    public V Get(K key)\n    {\n        V value = default(V);\n        this.dictionary.TryGetValue(key, out value);\n        return value;\n    }\n\n    public IEnumerator&lt;KeyValuePair&lt;K, V&gt;&gt; GetEnumerator()\n    {\n        foreach (K key in this.list){\n            V value = default(V);\n            this.dictionary.TryGetValue(key, out value);\n            yield return new KeyValuePair&lt;K, V&gt;(key, value);\n        }\n    }\n\n    IEnumerator IEnumerable.GetEnumerator()\n    {\n        return this.GetEnumerator();\n    }\n\n    private class LinkedDictionaryIterator&lt;K, V&gt; : IEnumerator&lt;V&gt;\n    {\n\n        private int i;\n        private readonly Dictionary&lt;K, V&gt; dictionary;\n        private readonly List&lt;K&gt; list;\n        \n        public LinkedDictionaryIterator(Dictionary&lt;K, V&gt; dictionary, List&lt;K&gt; list)\n        {\n            this.dictionary = dictionary;\n            this.list = list;\n            this.i = 0;\n        }\n\n        public void Dispose()\n        {\n            \n        }\n\n        public bool MoveNext()\n        {\n            return this.i &lt; this.dictionary.Count;\n        }\n\n        public void Reset()\n        {\n            this.i = 0;\n        }\n\n        public KeyValuePair&lt;K, V&gt; Current\n        {\n            get\n            {\n                int ii = this.i;\n                ++this.i;\n                V value = default(V);\n                K key = this.list[ii];\n                this.dictionary.TryGetValue(key, out value);\n                return new KeyValuePair&lt;K, V&gt;(key, value);\n            }\n        }\n\n        V IEnumerator&lt;V&gt;.Current\n        {\n            get\n            {\n                int ii = this.i;\n                ++this.i;\n                V value = default(V);\n                K key = this.list[ii];\n                this.dictionary.TryGetValue(key, out value);\n                return value;\n            }\n        }\n\n        object IEnumerator.Current\n        {\n            get\n            {\n                return Current;\n            }\n        }\n    }\n</code></pre>\n<p>And a simple UnitTest where I compare it to Dictionary</p>\n<pre><code>    class UnitTest_LinkedDictionary\n    {\n        [Test]\n        public void Test00()\n        {\n            LinkedDictionary&lt;string, int&gt; d = new LinkedDictionary&lt;string, int&gt;();\n\n\n\n            d.Add(&quot;1&quot;, 1);\n            d.Add(&quot;2&quot;, 2);\n            d.Add(&quot;3&quot;, 3);\n            d.Remove(&quot;2&quot;);\n            d.Add(&quot;4&quot;, 4);\n\n            d.Select(i =&gt; $&quot;{i.Key}: {i.Value}&quot;).ToList().ForEach(Console.WriteLine);\n\n        }\n\n        [Test]\n        public void Test01()\n        {\n            Dictionary&lt;string, int&gt; d = new Dictionary&lt;string, int&gt;();\n\n            d.Add(&quot;1&quot;, 1);\n            d.Add(&quot;2&quot;, 2);\n            d.Add(&quot;3&quot;, 3);\n            d.Remove(&quot;2&quot;);\n            d.Add(&quot;4&quot;, 4);\n\n            d.Select(i =&gt; $&quot;{i.Key} :{i.Value}&quot;).ToList().ForEach(Console.WriteLine);\n\n        }\n\n    }\n</code></pre>\n<p>As it is based on a Dictionary and a List it at least adds the time complexity of List accesses and Dictionary accesses.</p>\n"}],"owner":{"account_id":49953,"reputation":20780,"user_id":148909,"accept_rate":89,"display_name":"Schildmeijer"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13252,"favorite_count":0,"down_vote_count":0,"up_vote_count":26,"accepted_answer_id":487005,"answer_count":8,"score":26,"last_activity_date":1645570511,"creation_date":1233133119,"question_id":486948,"body_markdown":"I wonder if there is a counterpart to `java.util.LinkedHashMap` in .NET? (ie. the elements are (re)ordered automatically if I access an element. (boolean accessOrder) ).","title":"LinkedHashMap in .NET","body":"<p>I wonder if there is a counterpart to <code>java.util.LinkedHashMap</code> in .NET? (ie. the elements are (re)ordered automatically if I access an element. (boolean accessOrder) ).</p>\n"},{"tags":["java","arraylist","hashmap","hashset"],"comments":[{"owner":{"account_id":9531412,"reputation":2010,"user_id":7082956,"display_name":"Valerij Dobler"},"score":0,"creation_date":1645570308,"post_id":71229242,"comment_id":125906025,"body_markdown":"What is the problem you trying to solve?","body":"What is the problem you trying to solve?"},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1645572919,"post_id":71229242,"comment_id":125906608,"body_markdown":"Are you trying to create the &quot;backwards&quot; mapping?  You&#39;ve said what the keys should be, what should the corresponding values be?","body":"Are you trying to create the &quot;backwards&quot; mapping?  You&#39;ve said what the keys should be, what should the corresponding values be?"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1645627124,"post_id":71229242,"comment_id":125922665,"body_markdown":"“So newMap1 would have &#39;jab&#39; as the key, newMap2 would have &#39;hook&#39; as the key and so on.”  And what are the corresponding values in each of those Maps?","body":"“So newMap1 would have &#39;jab&#39; as the key, newMap2 would have &#39;hook&#39; as the key and so on.”  And what are the corresponding values in each of those Maps?"},{"owner":{"account_id":24346425,"reputation":11,"user_id":18282927,"display_name":"HashMapJunkie"},"score":0,"creation_date":1645742327,"post_id":71229242,"comment_id":125958963,"body_markdown":"@VGR That&#39;s right. The values in those maps would be a HashSet, which would be created from the rest of the values in the original. So newMap1 would have &#39;jab&#39; as the key, and a HashSet with values hook, uppercut.","body":"@VGR That&#39;s right. The values in those maps would be a HashSet, which would be created from the rest of the values in the original. So newMap1 would have &#39;jab&#39; as the key, and a HashSet with values hook, uppercut."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1645742663,"post_id":71229242,"comment_id":125959051,"body_markdown":"So, you want each of the new Maps to have values consisting of all values in `boxing` other than the value used as the new Map’s key?","body":"So, you want each of the new Maps to have values consisting of all values in <code>boxing</code> other than the value used as the new Map’s key?"}],"answers":[{"tags":[],"owner":{"account_id":9531412,"reputation":2010,"user_id":7082956,"display_name":"Valerij Dobler"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645570153,"creation_date":1645570153,"answer_id":71229288,"question_id":71229242,"body_markdown":"Since Java 9 you can do this:\r\n\r\n    Map&lt;String, Set&lt;String&gt;&gt; newMap = Map.of(&quot;fighting&quot;, Set.of(&quot;jab&quot;,&quot;hook&quot;,&quot;uppercut&quot;));","title":"Create HashMap from HashSet value using loop","body":"<p>Since Java 9 you can do this:</p>\n<pre><code>Map&lt;String, Set&lt;String&gt;&gt; newMap = Map.of(&quot;fighting&quot;, Set.of(&quot;jab&quot;,&quot;hook&quot;,&quot;uppercut&quot;));\n</code></pre>\n"}],"owner":{"account_id":24346425,"reputation":11,"user_id":18282927,"display_name":"HashMapJunkie"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":255,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1645570153,"creation_date":1645569838,"question_id":71229242,"body_markdown":"I&#39;m trying to create a HashMap from values of a HashSet (which itself is stored as values in a HashMap).\r\n\r\nI&#39;m not sure whether to Iterate or use a for loop. \r\n\r\nExample:\r\n\r\n    newMap = new HashMap&lt;String, HashSet&lt;String&gt;&gt;();\r\n    HashSet&lt;String&gt; boxing = new HashSet&lt;String&gt;();\r\n            \r\n            newMap.put(&quot;fighting&quot;, boxing);\r\n            boxing.add(&quot;jab&quot;);\r\n            boxing.add(&quot;hook&quot;);\r\n            boxing.add(&quot;uppercut&quot;);\r\n\r\nNow I need to iterate or loop through so that each value in the &#39;boxing&#39; HashSet creates a new HashMap with the value as the key for the new map.\r\n\r\nSo newMap1 would have &#39;jab&#39; as the key, newMap2 would have &#39;hook&#39; as the key and so on.\r\n\r\nAny help is appreciated.\r\n","title":"Create HashMap from HashSet value using loop","body":"<p>I'm trying to create a HashMap from values of a HashSet (which itself is stored as values in a HashMap).</p>\n<p>I'm not sure whether to Iterate or use a for loop.</p>\n<p>Example:</p>\n<pre><code>newMap = new HashMap&lt;String, HashSet&lt;String&gt;&gt;();\nHashSet&lt;String&gt; boxing = new HashSet&lt;String&gt;();\n        \n        newMap.put(&quot;fighting&quot;, boxing);\n        boxing.add(&quot;jab&quot;);\n        boxing.add(&quot;hook&quot;);\n        boxing.add(&quot;uppercut&quot;);\n</code></pre>\n<p>Now I need to iterate or loop through so that each value in the 'boxing' HashSet creates a new HashMap with the value as the key for the new map.</p>\n<p>So newMap1 would have 'jab' as the key, newMap2 would have 'hook' as the key and so on.</p>\n<p>Any help is appreciated.</p>\n"},{"tags":["java","collections","hashmap"],"comments":[{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1645384911,"post_id":71197521,"comment_id":125851871,"body_markdown":"Yes, the messier the better! Imagine you have 1000 values having 500 different hash codes. Those 500 hash codes maybe put in 100 buckets reserved momentarily. Per average 5 conflicting hashcodes in a bucket, 10 conflictimg values. Reading from `HashMap` will be out of order. `TreeMap` (not a hash map), will be a `SortedMap`, And `LinkedHashMap` will keep a List to maintain be order of _insertion_.","body":"Yes, the messier the better! Imagine you have 1000 values having 500 different hash codes. Those 500 hash codes maybe put in 100 buckets reserved momentarily. Per average 5 conflicting hashcodes in a bucket, 10 conflictimg values. Reading from <code>HashMap</code> will be out of order. <code>TreeMap</code> (not a hash map), will be a <code>SortedMap</code>, And <code>LinkedHashMap</code> will keep a List to maintain be order of <i>insertion</i>."}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1645570151,"creation_date":1645383140,"answer_id":71197672,"question_id":71197521,"body_markdown":"It means that HashMap maintains an **array** of *buckets* under the hood. **Hash code** produced by the `hashCode()` method of a *key* object determines to which *bucket* this entry should go.\r\n\r\nA situation when multiple *keys* yield *similar hashes* and as a consequence are mapped to the same *bucket* is called a **collision**. \r\n\r\nEntries of the map that are mapped to the same *bucket* will be structured as a *linked list*. Starting with *Java 8* when a number of collisions grow after a certain threshold the list will be transformed into a *tree*.\r\n\r\nAs you probably know the cost of accessing an element under a certain index in the array is **O(1)**. And HashMap provides access to the values by key with amortized time complexity **O(1)**, but only if a number of collisions is neglectable. I.e. `hashCode()` is implemented in such a way that it allows to spread the keys relatively evenly between the buckets.\r\n\r\nIn the edge case when the **hash function** is badly implemented and, let&#39;s say, it returns the *same **hash** for every key* all the entries end up in the *same bucket*. The time complexity for methods like `get()`, `containsKey()` degrades to **O(n)** (with *Java 7* and earlier) because you have to iterate over the *list* of all entries in order to find a particular one. And with *Java 8* onwards the time complexity will be **O(log n)** because that is the worse time required to find an element in a *red-black tree*.\r\n\r\n&gt; Does that simply mean that the **order** you get, after assigning, will be\r\n&gt; a mess?\r\n\r\nThe order of elements in the `HashMap` is undefined. This class is useful when you need quick access and don&#39;t care about the order. If need an ordered map consider `LinkedHashMap` which tracks the order in which the entries were added to a map by maintaining a linked list or `TreeMap` which sorts keys ordered accordingly to their natural order or based on the given comparator.","title":"What does &quot;assuming the hash function disperses the elements properly among the buckets&quot; mean at all?","body":"<p>It means that HashMap maintains an <strong>array</strong> of <em>buckets</em> under the hood. <strong>Hash code</strong> produced by the <code>hashCode()</code> method of a <em>key</em> object determines to which <em>bucket</em> this entry should go.</p>\n<p>A situation when multiple <em>keys</em> yield <em>similar hashes</em> and as a consequence are mapped to the same <em>bucket</em> is called a <strong>collision</strong>.</p>\n<p>Entries of the map that are mapped to the same <em>bucket</em> will be structured as a <em>linked list</em>. Starting with <em>Java 8</em> when a number of collisions grow after a certain threshold the list will be transformed into a <em>tree</em>.</p>\n<p>As you probably know the cost of accessing an element under a certain index in the array is <strong>O(1)</strong>. And HashMap provides access to the values by key with amortized time complexity <strong>O(1)</strong>, but only if a number of collisions is neglectable. I.e. <code>hashCode()</code> is implemented in such a way that it allows to spread the keys relatively evenly between the buckets.</p>\n<p>In the edge case when the <strong>hash function</strong> is badly implemented and, let's say, it returns the <em>same <strong>hash</strong> for every key</em> all the entries end up in the <em>same bucket</em>. The time complexity for methods like <code>get()</code>, <code>containsKey()</code> degrades to <strong>O(n)</strong> (with <em>Java 7</em> and earlier) because you have to iterate over the <em>list</em> of all entries in order to find a particular one. And with <em>Java 8</em> onwards the time complexity will be <strong>O(log n)</strong> because that is the worse time required to find an element in a <em>red-black tree</em>.</p>\n<blockquote>\n<p>Does that simply mean that the <strong>order</strong> you get, after assigning, will be\na mess?</p>\n</blockquote>\n<p>The order of elements in the <code>HashMap</code> is undefined. This class is useful when you need quick access and don't care about the order. If need an ordered map consider <code>LinkedHashMap</code> which tracks the order in which the entries were added to a map by maintaining a linked list or <code>TreeMap</code> which sorts keys ordered accordingly to their natural order or based on the given comparator.</p>\n"},{"tags":[],"owner":{"account_id":23685228,"reputation":1103,"user_id":17710270,"display_name":"passer-by"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645383201,"creation_date":1645383201,"answer_id":71197682,"question_id":71197521,"body_markdown":"A hash map contains a number of &quot;buckets&quot;.  For best performance, you want the number of entries to be more or less the same in each bucket.  The bucket is determined by the hash function; thus you want a hash function that results in more or less the same probability of hitting each bucket.  That is, &quot;the hash function disperses the elements properly among the buckets&quot;.\r\n\r\nAt the other extreme: a hash function that always returned, say, the value 3 would work, but map access wouldn&#39;t be very efficient, since one bucket would have all the entries.\r\n\r\nI don&#39;t understand what you mean by the order being a &quot;mess&quot;.  A hash map is not ordered; the location of an element depends on its hash code.\r\n\r\n","title":"What does &quot;assuming the hash function disperses the elements properly among the buckets&quot; mean at all?","body":"<p>A hash map contains a number of &quot;buckets&quot;.  For best performance, you want the number of entries to be more or less the same in each bucket.  The bucket is determined by the hash function; thus you want a hash function that results in more or less the same probability of hitting each bucket.  That is, &quot;the hash function disperses the elements properly among the buckets&quot;.</p>\n<p>At the other extreme: a hash function that always returned, say, the value 3 would work, but map access wouldn't be very efficient, since one bucket would have all the entries.</p>\n<p>I don't understand what you mean by the order being a &quot;mess&quot;.  A hash map is not ordered; the location of an element depends on its hash code.</p>\n"}],"owner":{"account_id":18304375,"reputation":11,"user_id":13328487,"display_name":"Sendi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":71197672,"answer_count":2,"score":0,"last_activity_date":1645570151,"creation_date":1645382135,"question_id":71197521,"body_markdown":"Having started learning Java, I came across this statement in the docs of Java 8:\r\n\r\n*assuming the hash function disperses the elements properly among the buckets.* \r\n\r\nDoes that simply mean that the order you get, after assigning, will be a mess?","title":"What does &quot;assuming the hash function disperses the elements properly among the buckets&quot; mean at all?","body":"<p>Having started learning Java, I came across this statement in the docs of Java 8:</p>\n<p><em>assuming the hash function disperses the elements properly among the buckets.</em></p>\n<p>Does that simply mean that the order you get, after assigning, will be a mess?</p>\n"},{"tags":["java","utf-8"],"comments":[{"owner":{"account_id":450872,"reputation":371,"user_id":846431,"display_name":"nilamber"},"score":1,"creation_date":1622366911,"post_id":67759625,"comment_id":119768091,"body_markdown":"Which kind of content type in file you are downloading  please mention little more detail.","body":"Which kind of content type in file you are downloading  please mention little more detail."},{"owner":{"account_id":450872,"reputation":371,"user_id":846431,"display_name":"nilamber"},"score":0,"creation_date":1622368515,"post_id":67759625,"comment_id":119768437,"body_markdown":"Code is working fine for normal json file which I tried to download over http and save it locally Can you share the file or content of actual file you are downloading","body":"Code is working fine for normal json file which I tried to download over http and save it locally Can you share the file or content of actual file you are downloading"},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1622371382,"post_id":67759625,"comment_id":119769170,"body_markdown":"That &quot;gibberish&quot; looks like binary data. What are you downloading?","body":"That &quot;gibberish&quot; looks like binary data. What are you downloading?"},{"owner":{"account_id":15021181,"reputation":3,"user_id":10842548,"display_name":"Idan Azulay"},"score":0,"creation_date":1622479593,"post_id":67759625,"comment_id":119799400,"body_markdown":"the file is Json file","body":"the file is Json file"},{"owner":{"account_id":5998820,"reputation":12666,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1622561393,"post_id":67759625,"comment_id":119824581,"body_markdown":"You might be reading a stream with content-encoding gzip, so are writing compressed bytes to json file not the expanded text.","body":"You might be reading a stream with content-encoding gzip, so are writing compressed bytes to json file not the expanded text."},{"owner":{"account_id":15021181,"reputation":3,"user_id":10842548,"display_name":"Idan Azulay"},"score":0,"creation_date":1622966948,"post_id":67759625,"comment_id":119938886,"body_markdown":"So how do I unzip it first then save it ?","body":"So how do I unzip it first then save it ?"}],"answers":[{"tags":[],"owner":{"account_id":15021181,"reputation":3,"user_id":10842548,"display_name":"Idan Azulay"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1623143131,"creation_date":1623143131,"answer_id":67884625,"question_id":67759625,"body_markdown":"**Solved**\r\nThe issue was that the file extension which I downloaded was (.gz - zip) .\r\nand I tried to copy the details while using &quot;BufferedInputStream&quot; - that was wrong because the file content are compressed.\r\nI switched between &quot;BufferedInputStream&quot; to &quot;GZipInputStream&quot; and the file download fine.\r\n\r\nThanks for everyone who helped :)","title":"download from URL to file using Java (BufferedInputStream, FileOutputStream, Commons IO library, NIO)","body":"<p><strong>Solved</strong>\nThe issue was that the file extension which I downloaded was (.gz - zip) .\nand I tried to copy the details while using &quot;BufferedInputStream&quot; - that was wrong because the file content are compressed.\nI switched between &quot;BufferedInputStream&quot; to &quot;GZipInputStream&quot; and the file download fine.</p>\n<p>Thanks for everyone who helped :)</p>\n"}],"owner":{"account_id":15021181,"reputation":3,"user_id":10842548,"display_name":"Idan Azulay"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":291,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1645362406,"accepted_answer_id":67884625,"answer_count":1,"score":-1,"last_activity_date":1645569634,"creation_date":1622366657,"question_id":67759625,"body_markdown":"I have tried all the ways above to download from URL to file in java.\r\nAll the ways work, they really downloading the files to the correct directory. There is one issue:\r\nThe file content always in gibberish. \r\n\r\nFile content example:\r\n\r\n&quot;&#227;ˇ&#168;ΩK&#236;&#207;&#187;&#233;&amp;∂&#252;_˜l&#165;πU&#241;&#235;&#244;&#193;’&#170;n&#245;&#177;Q&#245;FY˜’h&#176;&#235;&#161;@A&quot;&#200;x&#184;&#235;&#229;∂˛&#212;2w2y™n&#161;&#163;Z&#227;{&#206;df&lt;H&#223;;&#175;&#183;ﬂ˛”&#223;◊W—„&#195;&#235;&#184;&#217;ˇˆ…cd&#200;?˝√”_?y:2&#249;&#172;&#223;&#175;˛ﬂˇ&#206;˙‰)pG“8&#209;#:G1o&#197;&#223;˜&#193;œ›&#192;&#243;?~’&#195;(\r\n8&#163;&#232;I&#209;&#193;?~π‡&#235;{&#171;–&#176;$x{&#163;u˘&#251;&#209;•&#225;&#201;z:&#237;&#225;&#218;gp8“&#161;k˝€;‰∞@&#243;ˆ&#252;&#252;&#229;[”E&#161;&#180;N!&#216;≤:h∞&#229;w∏&#233;&#207;ˆt∑$&#195;&#181;W&#199;&#226;∞”S&#196;&#193;˝◊?~[ O&#172;q&#229;pDﬂ&quot;4‡&#242;f&#217;X˚&#214;C&#205;&#199;&quot;\r\n\r\nIs anyone has any idea why the file dowloaded in that way? Maybe I should  try UTF-8 or something else?\r\n\r\nMy code:\r\n\r\n\t\tString dirName = &quot;/Users/idanazulay/Desktop/Hotels-river/&quot;;\r\n\t\tString fileUrl = null;\r\n\t\ttry {\r\n\t\t\tfileUrl = getHotelReview(&quot;en&quot;).getBody().getData().getURL();\r\n\t\t} catch (IOException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t} catch (ParseException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\t// downloadFileFromURLUsingNIO(dirName +&quot;\\\\feed_en2.json&quot;, fileUrl);\r\n\t\tBufferedInputStream in = null;\r\n\t\tFileOutputStream fout = null;\r\n\t\tURL httpUrl = new URL(UriUtils.encodePath(fileUrl, &quot;UTF-8&quot;));\r\n\t\ttry {\r\n\t\t\ttry {\r\n\t\t\t\tin = new BufferedInputStream(httpUrl.openStream());\r\n\t\t\t} catch (IOException e) {\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t\ttry {\r\n\t\t\t\tfout = new FileOutputStream(dirName + &quot;\\\\feed_en2.json&quot;);\r\n\t\t\t} catch (FileNotFoundException e) {\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t\tbyte data[] = new byte[1024];\r\n\t\t\tint count;\r\n\t\t\ttry {\r\n\t\t\t\twhile ((count = in.read(data, 0, 1024)) != -1) {\r\n\t\t\t\t\tfout.write(data, 0, count);\r\n\t\t\t\t}\r\n\t\t\t} catch (IOException e) {\r\n\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t} finally {\r\n\t\t\tif (in != null)\r\n\t\t\t\tin.close();\r\n\t\t\tif (fout != null)\r\n\t\t\t\tfout.close();\r\n\t\t}\r\n\t\tSystem.out.println(&quot;completed&quot;);\r\n\t\treturn &quot;Download completed&quot;;\r\n\r\n\t}\r\n\r\n\t// Using Commons IO library\r\n\tpublic static void saveFileFromUrlWithCommonsIO(String fileName, String fileUrl)\r\n\t\t\tthrows MalformedURLException, IOException {\r\n\t\tURL httpUrl = new URL(UriUtils.encodePath(fileUrl, &quot;UTF-8&quot;));\r\n\t\tFileUtils.copyURLToFile(httpUrl, new File(fileName));\r\n\t}\r\n\tprivate static void downloadFileFromURLUsingNIO(String fileName,String fileUrl) throws IOException {\r\n\t\t  URL url = new URL(fileUrl);\r\n\t\t  ReadableByteChannel rbc = Channels.newChannel(url.openStream());\r\n\t\t  FileOutputStream fOutStream = new FileOutputStream(fileName);\r\n\t\t  fOutStream.getChannel().transferFrom(rbc, 0, Long.MAX_VALUE);\r\n\t\t  fOutStream.close();\r\n\t\t  rbc.close();\r\n\t\t }\r\n\t\t \r\n\t\t \r\n","title":"download from URL to file using Java (BufferedInputStream, FileOutputStream, Commons IO library, NIO)","body":"<p>I have tried all the ways above to download from URL to file in java.\nAll the ways work, they really downloading the files to the correct directory. There is one issue:\nThe file content always in gibberish.</p>\n<p>File content example:</p>\n<p>&quot;ãˇ¨ΩKìÏ»é&amp;∂ü_˜l¥πUñëôÁ’ªnõ±QõFY˜’h°ë¡@A&quot;Èx¸ëå∂˛Ô2w2y™n¡£Zã{Îdf&lt;Hß;¯·ﬂ˛”ß◊W—„Ãë¸Ùˇˆ…cdÈ?˝√”_?y:2ù¬ß¯˛ﬂˇÎ˙‰)pG“8Ñ#:G1oÅß˜Áœ›Àó?~’Ã(\n8£èIÑÁ?~π‡ë{«–°$x{£u˘ûÑ•áÉz:íáÚgp8“¡k˝€;‰∞@óˆüüå[”E¡´N!Ø≤:h∞åw∏éÏˆt∑$ÃµWÇâ∞”SÄÁ˝◊?~[ O¬qåpDﬂ&quot;4‡òfÙX˚ÖCÍÇ&quot;</p>\n<p>Is anyone has any idea why the file dowloaded in that way? Maybe I should  try UTF-8 or something else?</p>\n<p>My code:</p>\n<pre><code>    String dirName = &quot;/Users/idanazulay/Desktop/Hotels-river/&quot;;\n    String fileUrl = null;\n    try {\n        fileUrl = getHotelReview(&quot;en&quot;).getBody().getData().getURL();\n    } catch (IOException e) {\n        e.printStackTrace();\n    } catch (ParseException e) {\n        e.printStackTrace();\n    }\n    // downloadFileFromURLUsingNIO(dirName +&quot;\\\\feed_en2.json&quot;, fileUrl);\n    BufferedInputStream in = null;\n    FileOutputStream fout = null;\n    URL httpUrl = new URL(UriUtils.encodePath(fileUrl, &quot;UTF-8&quot;));\n    try {\n        try {\n            in = new BufferedInputStream(httpUrl.openStream());\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n        try {\n            fout = new FileOutputStream(dirName + &quot;\\\\feed_en2.json&quot;);\n        } catch (FileNotFoundException e) {\n            e.printStackTrace();\n        }\n        byte data[] = new byte[1024];\n        int count;\n        try {\n            while ((count = in.read(data, 0, 1024)) != -1) {\n                fout.write(data, 0, count);\n            }\n        } catch (IOException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n    } finally {\n        if (in != null)\n            in.close();\n        if (fout != null)\n            fout.close();\n    }\n    System.out.println(&quot;completed&quot;);\n    return &quot;Download completed&quot;;\n\n}\n\n// Using Commons IO library\npublic static void saveFileFromUrlWithCommonsIO(String fileName, String fileUrl)\n        throws MalformedURLException, IOException {\n    URL httpUrl = new URL(UriUtils.encodePath(fileUrl, &quot;UTF-8&quot;));\n    FileUtils.copyURLToFile(httpUrl, new File(fileName));\n}\nprivate static void downloadFileFromURLUsingNIO(String fileName,String fileUrl) throws IOException {\n      URL url = new URL(fileUrl);\n      ReadableByteChannel rbc = Channels.newChannel(url.openStream());\n      FileOutputStream fOutStream = new FileOutputStream(fileName);\n      fOutStream.getChannel().transferFrom(rbc, 0, Long.MAX_VALUE);\n      fOutStream.close();\n      rbc.close();\n     }\n     \n     \n</code></pre>\n"},{"tags":["java","spring","spring-boot","yaml"],"comments":[{"owner":{"account_id":13314523,"reputation":26,"user_id":9611435,"display_name":"tudvari"},"score":0,"creation_date":1589614869,"post_id":61833373,"comment_id":109367707,"body_markdown":"You can use the @PropertySource annotation for this. [Check this thread please](https://stackoverflow.com/questions/23134869/spring-boot-how-to-use-multiple-yml-files)","body":"You can use the @PropertySource annotation for this. <a href=\"https://stackoverflow.com/questions/23134869/spring-boot-how-to-use-multiple-yml-files\">Check this thread please</a>"},{"owner":{"account_id":15665976,"reputation":43,"user_id":11303704,"display_name":"clumsy.kitten"},"score":0,"creation_date":1589615131,"post_id":61833373,"comment_id":109367773,"body_markdown":"Thank you so much but the file is very large and would be splitted into many small files, I&#39;m not sure if @PropertySource will help in this case. I kinda want a clean and nice code. Do you have any other alternatives?","body":"Thank you so much but the file is very large and would be splitted into many small files, I&#39;m not sure if @PropertySource will help in this case. I kinda want a clean and nice code. Do you have any other alternatives?"}],"answers":[{"tags":[],"owner":{"account_id":13314523,"reputation":26,"user_id":9611435,"display_name":"tudvari"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1589617923,"creation_date":1589617923,"answer_id":61833986,"question_id":61833373,"body_markdown":"Unfortunately I don&#39;t have better solution for you. You can use multiple source file this annotation: [PropertySources annotation][1]\r\n\r\n\r\n  [1]: https://docs.spring.io/spring/docs/4.0.0.RELEASE/javadoc-api/org/springframework/context/annotation/PropertySources.html\r\n\r\nThis annotation can bind multiple PropertySource into one configuration.\r\n\r\nFor example: \r\n\r\n`@PropertySources({\r\n        @PropertySource(&quot;/file1.properties&quot;),\r\n        @PropertySource(&quot;/file2.properties&quot;)\r\n})`","title":"How to make spring.profile.include to include YAML files from subfolder?","body":"<p>Unfortunately I don't have better solution for you. You can use multiple source file this annotation: <a href=\"https://docs.spring.io/spring/docs/4.0.0.RELEASE/javadoc-api/org/springframework/context/annotation/PropertySources.html\" rel=\"nofollow noreferrer\">PropertySources annotation</a></p>\n\n<p>This annotation can bind multiple PropertySource into one configuration.</p>\n\n<p>For example: </p>\n\n<p><code>@PropertySources({\n        @PropertySource(\"/file1.properties\"),\n        @PropertySource(\"/file2.properties\")\n})</code></p>\n"},{"tags":[],"owner":{"account_id":15158968,"reputation":33,"user_id":10938777,"display_name":"martaisty"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1589618115,"creation_date":1589618115,"answer_id":61834013,"question_id":61833373,"body_markdown":"You could try naming your subconfigs like this `application-a.yaml`,`application-b.yaml` and then use it in `application.yaml`\r\n```\r\nspring:\r\n   profiles:\r\n      include:\r\n         a,\r\n         b,\r\n         ...\r\n```\r\nThe idea taken from: https://stackoverflow.com/a/40500683/10938777","title":"How to make spring.profile.include to include YAML files from subfolder?","body":"<p>You could try naming your subconfigs like this <code>application-a.yaml</code>,<code>application-b.yaml</code> and then use it in <code>application.yaml</code></p>\n\n<pre><code>spring:\n   profiles:\n      include:\n         a,\n         b,\n         ...\n</code></pre>\n\n<p>The idea taken from: <a href=\"https://stackoverflow.com/a/40500683/10938777\">https://stackoverflow.com/a/40500683/10938777</a></p>\n"},{"tags":[],"owner":{"account_id":11568557,"reputation":1458,"user_id":8475994,"display_name":"athom"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1645569519,"creation_date":1645569519,"answer_id":71229191,"question_id":61833373,"body_markdown":"Since Spring-Boot 2.4 you can use `spring.config.import` to import into your config.\r\n\r\nSo you could use something like this in your application.yml\r\n\r\n`spring.config.import: connection.yml`\r\n\r\nSpring Blog post [here][1]\r\n\r\n\r\n  [1]: https://spring.io/blog/2020/08/14/config-file-processing-in-spring-boot-2-4","title":"How to make spring.profile.include to include YAML files from subfolder?","body":"<p>Since Spring-Boot 2.4 you can use <code>spring.config.import</code> to import into your config.</p>\n<p>So you could use something like this in your application.yml</p>\n<p><code>spring.config.import: connection.yml</code></p>\n<p>Spring Blog post <a href=\"https://spring.io/blog/2020/08/14/config-file-processing-in-spring-boot-2-4\" rel=\"nofollow noreferrer\">here</a></p>\n"}],"owner":{"account_id":15665976,"reputation":43,"user_id":11303704,"display_name":"clumsy.kitten"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2189,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1645569519,"creation_date":1589614294,"question_id":61833373,"body_markdown":"I currently have 4 YAML files\r\n\r\n```\r\napplication.yaml\r\napplication-local.yaml\r\napplication-test.yaml\r\napplication-dev.yaml\r\n```\r\nI assume that `application.yaml` is acting as `default`.\r\n\r\nIn the other 3 files contains\r\n```\r\nspring:\r\n  profiles:\r\n    include: default\r\n```\r\n\r\nMy problem is that my `application.yaml` is very large \r\nand it contains properties that are hierarchical.\r\n\r\nFor example,\r\n```\r\nconnection:\r\n  baseUrl: &#39;http://localhost:5000&#39;\r\n  brokerUrl: &#39;http://localhost:8082&#39;\r\n  ...\r\n\r\nworkspaces:\r\n  a:\r\n    width: 45\r\n    height: 100\r\n    ...\r\n  b:\r\n    width: 56\r\n    height: 125\r\n    ...\r\n    \r\n```\r\n\r\nI would like to keep the content in current `application.yaml` in multiple files in subfolders.\r\n\r\nLet&#39;s say `connection.yaml` will contain\r\n```\r\nconnection:\r\n  baseUrl: &#39;http://localhost:5000&#39;\r\n  brokerUrl: &#39;http://localhost:8082&#39;\r\n  ...\r\n```\r\n`workspace-a.yaml`\r\nwill contain\r\n```\r\nworkspaces:\r\n  a:\r\n    width: 45\r\n    height: 100\r\n    ...\r\n```\r\nand lastly, `workspace-b.yaml` will contain\r\n```\r\nworkspaces:\r\n  a:\r\n    width: 56\r\n    height: 125\r\n    ...\r\n```\r\n\r\nat the end the structure will be like\r\n```\r\n/resources\r\n  application.yaml\r\n  application-local.yaml\r\n  application-test.yaml\r\n  application-dev.yaml\r\n  connection.yaml\r\n  /workspaces\r\n    a.yaml\r\n    b.yaml\r\n```\r\n\r\nI&#39;ve tried to put the following code in `application.yaml` but it didn&#39;t work.\r\n```\r\nspring:\r\n  profiles:\r\n    active: &#39;local&#39;\r\n    include:\r\n      - connection.yaml\r\n      - workspaces/a.yaml\r\n      - workspaces/b.yaml\r\n```\r\nI also have tried different formats like\r\n```\r\n- classpath:/workspaces/a.yaml\r\n- ./workspaces/a.yaml\r\n- file:./workspaces/a.yaml\r\n```\r\n\r\nPlease help :&#39;(","title":"How to make spring.profile.include to include YAML files from subfolder?","body":"<p>I currently have 4 YAML files</p>\n\n<pre><code>application.yaml\napplication-local.yaml\napplication-test.yaml\napplication-dev.yaml\n</code></pre>\n\n<p>I assume that <code>application.yaml</code> is acting as <code>default</code>.</p>\n\n<p>In the other 3 files contains</p>\n\n<pre><code>spring:\n  profiles:\n    include: default\n</code></pre>\n\n<p>My problem is that my <code>application.yaml</code> is very large \nand it contains properties that are hierarchical.</p>\n\n<p>For example,</p>\n\n<pre><code>connection:\n  baseUrl: 'http://localhost:5000'\n  brokerUrl: 'http://localhost:8082'\n  ...\n\nworkspaces:\n  a:\n    width: 45\n    height: 100\n    ...\n  b:\n    width: 56\n    height: 125\n    ...\n\n</code></pre>\n\n<p>I would like to keep the content in current <code>application.yaml</code> in multiple files in subfolders.</p>\n\n<p>Let's say <code>connection.yaml</code> will contain</p>\n\n<pre><code>connection:\n  baseUrl: 'http://localhost:5000'\n  brokerUrl: 'http://localhost:8082'\n  ...\n</code></pre>\n\n<p><code>workspace-a.yaml</code>\nwill contain</p>\n\n<pre><code>workspaces:\n  a:\n    width: 45\n    height: 100\n    ...\n</code></pre>\n\n<p>and lastly, <code>workspace-b.yaml</code> will contain</p>\n\n<pre><code>workspaces:\n  a:\n    width: 56\n    height: 125\n    ...\n</code></pre>\n\n<p>at the end the structure will be like</p>\n\n<pre><code>/resources\n  application.yaml\n  application-local.yaml\n  application-test.yaml\n  application-dev.yaml\n  connection.yaml\n  /workspaces\n    a.yaml\n    b.yaml\n</code></pre>\n\n<p>I've tried to put the following code in <code>application.yaml</code> but it didn't work.</p>\n\n<pre><code>spring:\n  profiles:\n    active: 'local'\n    include:\n      - connection.yaml\n      - workspaces/a.yaml\n      - workspaces/b.yaml\n</code></pre>\n\n<p>I also have tried different formats like</p>\n\n<pre><code>- classpath:/workspaces/a.yaml\n- ./workspaces/a.yaml\n- file:./workspaces/a.yaml\n</code></pre>\n\n<p>Please help :'(</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":1,"creation_date":1645568459,"post_id":71228994,"comment_id":125905489,"body_markdown":"What&#39;s the comparator for? A list could be generated by walking the tree appropriately.","body":"What&#39;s the comparator for? A list could be generated by walking the tree appropriately."},{"owner":{"account_id":2645973,"reputation":65777,"user_id":2288659,"accept_rate":90,"display_name":"Silvio Mayolo"},"score":1,"creation_date":1645568500,"post_id":71228994,"comment_id":125905497,"body_markdown":"Agreed. This isn&#39;t a sorting problem. It&#39;s a [traversal problem](https://en.wikipedia.org/wiki/Tree_traversal).","body":"Agreed. This isn&#39;t a sorting problem. It&#39;s a <a href=\"https://en.wikipedia.org/wiki/Tree_traversal\" rel=\"nofollow noreferrer\">traversal problem</a>."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1645568900,"post_id":71228994,"comment_id":125905624,"body_markdown":"I don&#39;t fully understand the ordering you want. Would E5, E1, E3, E4, E2 be valid?","body":"I don&#39;t fully understand the ordering you want. Would E5, E1, E3, E4, E2 be valid?"},{"owner":{"account_id":23816906,"reputation":1,"user_id":17825049,"display_name":"one1on"},"score":0,"creation_date":1645569138,"post_id":71228994,"comment_id":125905690,"body_markdown":"@tgdavies no, E1 and E5 are &quot;roots&quot;. I can accept any order E1, E5 or E5, E1 on the first level.","body":"@tgdavies no, E1 and E5 are &quot;roots&quot;. I can accept any order E1, E5 or E5, E1 on the first level."},{"owner":{"account_id":23816906,"reputation":1,"user_id":17825049,"display_name":"one1on"},"score":0,"creation_date":1645569253,"post_id":71228994,"comment_id":125905723,"body_markdown":"@DaveNewton that&#39;s a very simple approach I did not think about yet. +1","body":"@DaveNewton that&#39;s a very simple approach I did not think about yet. +1"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1645569273,"post_id":71228994,"comment_id":125905732,"body_markdown":"Then why not E3, E4, E2 on the second level?","body":"Then why not E3, E4, E2 on the second level?"}],"answers":[{"tags":[],"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645568359,"creation_date":1645568359,"answer_id":71229018,"question_id":71228994,"body_markdown":"The most viable solution is to use a tree to get to a comparator -- by going through the tree and adding the index to each node.  Just add an `int` value to each tree node, and then number the entries as you go through them.","title":"Comparator for recursivly nested structure","body":"<p>The most viable solution is to use a tree to get to a comparator -- by going through the tree and adding the index to each node.  Just add an <code>int</code> value to each tree node, and then number the entries as you go through them.</p>\n"}],"owner":{"account_id":23816906,"reputation":1,"user_id":17825049,"display_name":"one1on"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1645569395,"creation_date":1645568236,"question_id":71228994,"body_markdown":"I do have a `List&lt;Entry&gt;` where each `Entry` has an attribute `parent` of type `Entry`.\r\nI want them sorted like this (of course the order can not be used from the name - only from parent property):\r\n```\r\n(spaces do not matter)\r\nE1\r\n  E2\r\n  E3\r\n    E4\r\nE5\r\n```\r\n```java\r\nprivate record Entry(String name, Entry parent) {}\r\n\r\nvar e1 = new Entry(&quot;e1&quot;, null);\r\nvar e2 = new Entry(&quot;e2&quot;, e1);\r\nvar e3 = new Entry(&quot;e3&quot;, e1);\r\nvar e4 = new Entry(&quot;e4&quot;, e3);\r\nvar e5 = new Entry(&quot;e5&quot;, null);\r\n\r\nList&lt;Entry&gt; entries = List.of(e5, e2, e3, e1, e4); // unsorted order\r\n```\r\nMy idea was to unflatten this list to a Tree but a Tree does not help to get an Comparator. How could I use the structures to what I need to transform it, so that I can sort it with a Comparator? ","title":"Comparator for recursivly nested structure","body":"<p>I do have a <code>List&lt;Entry&gt;</code> where each <code>Entry</code> has an attribute <code>parent</code> of type <code>Entry</code>.\nI want them sorted like this (of course the order can not be used from the name - only from parent property):</p>\n<pre><code>(spaces do not matter)\nE1\n  E2\n  E3\n    E4\nE5\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>private record Entry(String name, Entry parent) {}\n\nvar e1 = new Entry(&quot;e1&quot;, null);\nvar e2 = new Entry(&quot;e2&quot;, e1);\nvar e3 = new Entry(&quot;e3&quot;, e1);\nvar e4 = new Entry(&quot;e4&quot;, e3);\nvar e5 = new Entry(&quot;e5&quot;, null);\n\nList&lt;Entry&gt; entries = List.of(e5, e2, e3, e1, e4); // unsorted order\n</code></pre>\n<p>My idea was to unflatten this list to a Tree but a Tree does not help to get an Comparator. How could I use the structures to what I need to transform it, so that I can sort it with a Comparator?</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":5126847,"reputation":356,"user_id":4108566,"accept_rate":50,"display_name":"VMi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1628845982,"creation_date":1628845982,"answer_id":68769682,"question_id":68746883,"body_markdown":"You have to change the output buffer writing method.\r\n\r\nSo instead of, in zip download method\r\n\r\n        output.write(count);\r\n\r\nUse,\r\n\r\n      output.write(data,0,count);","title":"Unable to Unzip file when downloaded from URL, but works when downloaded from FTP","body":"<p>You have to change the output buffer writing method.</p>\n<p>So instead of, in zip download method</p>\n<pre><code>    output.write(count);\n</code></pre>\n<p>Use,</p>\n<pre><code>  output.write(data,0,count);\n</code></pre>\n"}],"owner":{"display_name":"user14892417"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":68769682,"answer_count":1,"score":0,"last_activity_date":1645569276,"creation_date":1628704682,"question_id":68746883,"body_markdown":"I am trying to download an e-book from URL and unzip it, which further goes for display. While the same unzip logic works perfectly for a FTP download, when it comes to URL, unzipping method does nothing after download.\r\n\r\nMy book download calling method :\r\n\r\n         DownloadBook db = new DownloadBook(localFile,&quot;some url&quot;,book.key,context,(TaskListener) result -&gt; {\r\n    \r\n                if (result) {\r\n                       \r\n                runOnUiThread(() -&gt; pBar.setVisibility(View.VISIBLE));\r\n    \r\n                \r\n                    Runnable t = (Runnable) () -&gt; {\r\n                        unzip(localFile.getPath(), b.key.replace(&quot;.zip&quot;,&quot;&quot;), b);\r\n                        isDownloaded = true;\r\n                      \r\n                        //Deleting downlaoded zip file\r\n                        System.out.println(&quot;zip file deleted - &quot;+localFile.delete());\r\n    \r\n                        String urls = localFile.getPath() + &quot;/&quot; + ((b.key).replace(&quot;.zip&quot;, &quot;&quot;));\r\n                        System.out.println(&quot;URL IS &quot; + urls);\r\n                        System.out.println(&quot;Going for Display&quot;);\r\n                        GlobalVars.title = b.title;\r\n                        Intent intent = new Intent(My_Library.this, DisplayActivity.class);\r\n                        startActivity(intent);//\r\n                    };\r\n    \r\n                    t.run();\r\n    \r\n                } else {\r\n                    runOnUiThread(() -&gt;\r\n                    {\r\n                        alert = new AlertDialog.Builder(this);\r\n    \r\n                    alert.setTitle(&quot;Error&quot;);\r\n                    alert.setMessage(&quot;Could not download. Please try again !&quot;)\r\n                            .setCancelable(true)\r\n                            .setNegativeButton(&quot;Continue&quot;, new DialogInterface.OnClickListener() {\r\n                                @Override\r\n                                public void onClick(DialogInterface dialog, int which) {\r\n                                    Intent intent = new Intent(My_Library.this, My_Library.class);\r\n                                    startActivity(intent);\r\n                                    dialog.cancel();\r\n                                }\r\n                            });\r\n    \r\n                    alert.create();\r\n                    alert.show();\r\n    \r\n                }\r\n                    );\r\n    \r\n    \r\n                }\r\n    \r\n            });\r\n\r\nThe zip file download method :\r\n\r\n      t = new Thread(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                   \r\n                    InputStream input = null;\r\n                    OutputStream output = null;\r\n                    HttpURLConnection connection = null;\r\n                    try {\r\n                        URL url = new URL(&quot;some url&quot;);\r\n                        connection = (HttpURLConnection) url.openConnection();\r\n                        connection.connect();\r\n\r\n                      \r\n                        int fileLength = connection.getContentLength();\r\n\r\n                        // download the file\r\n                        input = connection.getInputStream();\r\n                        output = new FileOutputStream(localFile);\r\n\r\n                        byte data[] = new byte[4096];\r\n                        long total = 0;\r\n                        int count;\r\n                        while ((count = input.read(data)) != -1) {\r\n\r\n                            total += count;\r\n                            // publishing the progress....\r\n                            System.out.println(&quot;Total is &quot;+total);\r\n\r\n                            if(fileLength&gt;0)\r\n                            {\r\n                                System.out.println(&quot;File length is &quot;+fileLength+&quot; local file length is &quot;+localFile.length());\r\n                                percent = (int) (total * 100 / fileLength);\r\n                                System.out.println(&quot;FTP_DOWNLOAD bytesTransferred /downloaded -&gt; &quot; + percent);\r\n                                mProgress.setProgress(percent);\r\n\r\n                            }\r\n                            output.write(count);\r\n                            output.flush();\r\n\r\n                        }\r\n\r\n                        mListener.finished(true);\r\n                    } catch (Exception e) {\r\n                        e.printStackTrace();\r\n                        mListener.finished(false);\r\n                    } finally {\r\n                        try {\r\n                            output.flush();\r\n                            if (output != null)\r\n                                output.close();\r\n                            if (input != null)\r\n                                input.close();\r\n\r\n                        } catch (IOException e) {\r\n                            e.printStackTrace();\r\n                        }\r\n                           connection.disconnect();\r\n                    }\r\n\r\nThe unzip method\r\n\r\n    public void unzip(String _zipFile, String _targetLocation, Book b) {\r\n        pBar.setVisibility(View.VISIBLE);\r\n        GlobalVars.path = _targetLocation;\r\n        _targetLocation = getApplicationContext().getFilesDir().getPath();\r\n\r\n        dirChecker(_targetLocation);\r\n\r\n        try {\r\n            BufferedInputStream fin = new BufferedInputStream(new FileInputStream(_zipFile));\r\n            ZipInputStream zin = new ZipInputStream(fin);\r\n            ZipEntry ze = null;\r\n            while ((ze = zin.getNextEntry()) != null) {\r\n                System.out.println(&quot;Unzipping file -&gt; &quot; + ze.getName());\r\n                //create dir if required while unzipping\r\n                if (ze.isDirectory()) {\r\n                    dirChecker(getApplicationContext().getFilesDir().getPath() + &quot;/&quot; + ze.getName());\r\n                } else {\r\n                    File f = new File(getApplicationContext().getFilesDir().getPath() + &quot;/&quot; + ze.getName());\r\n                    dirChecker(f.getParent());\r\n                    long size = f.length();\r\n                    BufferedOutputStream fout = new BufferedOutputStream(new FileOutputStream(new File(String.valueOf(f.getAbsoluteFile()))));\r\n\r\n                    byte[] buffer = new byte[1024];\r\n                    int read = 0;\r\n                    while ((read = zin.read(buffer)) != -1) {\r\n                        fout.write(buffer, 0, read);\r\n                    }\r\n                    zin.closeEntry();\r\n                    fout.close();\r\n\r\n            }\r\n            zin.close();\r\n        } catch (Exception e) {\r\n            System.out.println(e);\r\n        } \r\n    }\r\n\r\nThe FTP download class method Unzip works absolutely fine. But as I try to put download from url, it just downloads but not unzips.","title":"Unable to Unzip file when downloaded from URL, but works when downloaded from FTP","body":"<p>I am trying to download an e-book from URL and unzip it, which further goes for display. While the same unzip logic works perfectly for a FTP download, when it comes to URL, unzipping method does nothing after download.</p>\n<p>My book download calling method :</p>\n<pre><code>     DownloadBook db = new DownloadBook(localFile,&quot;some url&quot;,book.key,context,(TaskListener) result -&gt; {\n\n            if (result) {\n                   \n            runOnUiThread(() -&gt; pBar.setVisibility(View.VISIBLE));\n\n            \n                Runnable t = (Runnable) () -&gt; {\n                    unzip(localFile.getPath(), b.key.replace(&quot;.zip&quot;,&quot;&quot;), b);\n                    isDownloaded = true;\n                  \n                    //Deleting downlaoded zip file\n                    System.out.println(&quot;zip file deleted - &quot;+localFile.delete());\n\n                    String urls = localFile.getPath() + &quot;/&quot; + ((b.key).replace(&quot;.zip&quot;, &quot;&quot;));\n                    System.out.println(&quot;URL IS &quot; + urls);\n                    System.out.println(&quot;Going for Display&quot;);\n                    GlobalVars.title = b.title;\n                    Intent intent = new Intent(My_Library.this, DisplayActivity.class);\n                    startActivity(intent);//\n                };\n\n                t.run();\n\n            } else {\n                runOnUiThread(() -&gt;\n                {\n                    alert = new AlertDialog.Builder(this);\n\n                alert.setTitle(&quot;Error&quot;);\n                alert.setMessage(&quot;Could not download. Please try again !&quot;)\n                        .setCancelable(true)\n                        .setNegativeButton(&quot;Continue&quot;, new DialogInterface.OnClickListener() {\n                            @Override\n                            public void onClick(DialogInterface dialog, int which) {\n                                Intent intent = new Intent(My_Library.this, My_Library.class);\n                                startActivity(intent);\n                                dialog.cancel();\n                            }\n                        });\n\n                alert.create();\n                alert.show();\n\n            }\n                );\n\n\n            }\n\n        });\n</code></pre>\n<p>The zip file download method :</p>\n<pre><code>  t = new Thread(new Runnable() {\n            @Override\n            public void run() {\n               \n                InputStream input = null;\n                OutputStream output = null;\n                HttpURLConnection connection = null;\n                try {\n                    URL url = new URL(&quot;some url&quot;);\n                    connection = (HttpURLConnection) url.openConnection();\n                    connection.connect();\n\n                  \n                    int fileLength = connection.getContentLength();\n\n                    // download the file\n                    input = connection.getInputStream();\n                    output = new FileOutputStream(localFile);\n\n                    byte data[] = new byte[4096];\n                    long total = 0;\n                    int count;\n                    while ((count = input.read(data)) != -1) {\n\n                        total += count;\n                        // publishing the progress....\n                        System.out.println(&quot;Total is &quot;+total);\n\n                        if(fileLength&gt;0)\n                        {\n                            System.out.println(&quot;File length is &quot;+fileLength+&quot; local file length is &quot;+localFile.length());\n                            percent = (int) (total * 100 / fileLength);\n                            System.out.println(&quot;FTP_DOWNLOAD bytesTransferred /downloaded -&gt; &quot; + percent);\n                            mProgress.setProgress(percent);\n\n                        }\n                        output.write(count);\n                        output.flush();\n\n                    }\n\n                    mListener.finished(true);\n                } catch (Exception e) {\n                    e.printStackTrace();\n                    mListener.finished(false);\n                } finally {\n                    try {\n                        output.flush();\n                        if (output != null)\n                            output.close();\n                        if (input != null)\n                            input.close();\n\n                    } catch (IOException e) {\n                        e.printStackTrace();\n                    }\n                       connection.disconnect();\n                }\n</code></pre>\n<p>The unzip method</p>\n<pre><code>public void unzip(String _zipFile, String _targetLocation, Book b) {\n    pBar.setVisibility(View.VISIBLE);\n    GlobalVars.path = _targetLocation;\n    _targetLocation = getApplicationContext().getFilesDir().getPath();\n\n    dirChecker(_targetLocation);\n\n    try {\n        BufferedInputStream fin = new BufferedInputStream(new FileInputStream(_zipFile));\n        ZipInputStream zin = new ZipInputStream(fin);\n        ZipEntry ze = null;\n        while ((ze = zin.getNextEntry()) != null) {\n            System.out.println(&quot;Unzipping file -&gt; &quot; + ze.getName());\n            //create dir if required while unzipping\n            if (ze.isDirectory()) {\n                dirChecker(getApplicationContext().getFilesDir().getPath() + &quot;/&quot; + ze.getName());\n            } else {\n                File f = new File(getApplicationContext().getFilesDir().getPath() + &quot;/&quot; + ze.getName());\n                dirChecker(f.getParent());\n                long size = f.length();\n                BufferedOutputStream fout = new BufferedOutputStream(new FileOutputStream(new File(String.valueOf(f.getAbsoluteFile()))));\n\n                byte[] buffer = new byte[1024];\n                int read = 0;\n                while ((read = zin.read(buffer)) != -1) {\n                    fout.write(buffer, 0, read);\n                }\n                zin.closeEntry();\n                fout.close();\n\n        }\n        zin.close();\n    } catch (Exception e) {\n        System.out.println(e);\n    } \n}\n</code></pre>\n<p>The FTP download class method Unzip works absolutely fine. But as I try to put download from url, it just downloads but not unzips.</p>\n"},{"tags":["java","filereader"],"comments":[{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1645564180,"post_id":71228302,"comment_id":125904134,"body_markdown":"You must write code to do this. But it can be done in 1 line.","body":"You must write code to do this. But it can be done in 1 line."},{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":2,"creation_date":1645564426,"post_id":71228302,"comment_id":125904225,"body_markdown":"Because we&#39;re programmers: what does `101213 242526 858584` turn into? Because there is no reason for that to be `{10,12,13}...`, it could just as easily be `{1012,1,3}`.","body":"Because we&#39;re programmers: what does <code>101213 242526 858584</code> turn into? Because there is no reason for that to be <code>{10,12,13}...</code>, it could just as easily be <code>{1012,1,3}</code>."},{"owner":{"account_id":24257365,"reputation":3,"user_id":18207515,"display_name":"Oninji"},"score":0,"creation_date":1645565720,"post_id":71228302,"comment_id":125904638,"body_markdown":"@Mike&#39;Pomax&#39;Kamermans I added some clarification, each character is it&#39;s own number. Which is kinda my problem, as to not read the them as (int 123) but {1,2,3}.","body":"@Mike&#39;Pomax&#39;Kamermans I added some clarification, each character is it&#39;s own number. Which is kinda my problem, as to not read the them as (int 123) but {1,2,3}."},{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":0,"creation_date":1645566187,"post_id":71228302,"comment_id":125904770,"body_markdown":"In that case, just read the entire string, split it into an array of single letters, and then iterate over that. If you see a space, you know you need to move on to the next tuple, if it&#39;s not, convert to int and do what you need to do with that, given a knowledge of &quot;how many numbers you already saw&quot;. You should be able to least write _some_ code yourself here that you can add into your post.","body":"In that case, just read the entire string, split it into an array of single letters, and then iterate over that. If you see a space, you know you need to move on to the next tuple, if it&#39;s not, convert to int and do what you need to do with that, given a knowledge of &quot;how many numbers you already saw&quot;. You should be able to least write <i>some</i> code yourself here that you can add into your post."},{"owner":{"account_id":24257365,"reputation":3,"user_id":18207515,"display_name":"Oninji"},"score":0,"creation_date":1645566723,"post_id":71228302,"comment_id":125904969,"body_markdown":"@Mike&#39;Pomax&#39;Kamermans That&#39;s pretty much what I was asking, If I could do it another way. But if not, seems fine I&#39;ll do it that way then. :) Import as strings, separate characters and convert into integers. Just felt a bit roundabout, but thanks!","body":"@Mike&#39;Pomax&#39;Kamermans That&#39;s pretty much what I was asking, If I could do it another way. But if not, seems fine I&#39;ll do it that way then. :) Import as strings, separate characters and convert into integers. Just felt a bit roundabout, but thanks!"}],"answers":[{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1645569089,"creation_date":1645569089,"answer_id":71229132,"question_id":71228302,"body_markdown":"Try this:\r\n\r\n    int[][][] array = Files.lines(Path.of(&quot;myfilename.txt&quot;))\r\n        .map(line -&gt; Arrays.stream(line.split(&quot; &quot;)) // split line into terms\r\n                .map(term -&gt; term.chars().map(Character::getNumericValue).toArray()) // convert each term to int[]\r\n                .toArray(int[][]::new)) // convert each line to int[][]\r\n        .toArray(int[][][]::new); // convert all lines of file to a single int[][][]\r\n\r\nSee [live demo][1].\r\n\r\n\r\n  [1]: https://ideone.com/sQwbEA","title":"Java; Writing int from characters in file to an array","body":"<p>Try this:</p>\n<pre><code>int[][][] array = Files.lines(Path.of(&quot;myfilename.txt&quot;))\n    .map(line -&gt; Arrays.stream(line.split(&quot; &quot;)) // split line into terms\n            .map(term -&gt; term.chars().map(Character::getNumericValue).toArray()) // convert each term to int[]\n            .toArray(int[][]::new)) // convert each line to int[][]\n    .toArray(int[][][]::new); // convert all lines of file to a single int[][][]\n</code></pre>\n<p>See <a href=\"https://ideone.com/sQwbEA\" rel=\"nofollow noreferrer\">live demo</a>.</p>\n"}],"owner":{"account_id":24257365,"reputation":3,"user_id":18207515,"display_name":"Oninji"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":71229132,"answer_count":1,"score":-2,"last_activity_date":1645569089,"creation_date":1645564010,"question_id":71228302,"body_markdown":"I need to convert a file into an int array, my source have a strict formatting. Each single character correspond a int(or byte) to be stored in an array, spacing delimiting a new array in a 2D Array.\r\n\r\nThe file would be formatted as so. (x,y,z coordinates), each character of a 3 number string needing to be stored individually.\r\n\r\n    013 234 456 567\r\n\r\nMy desired output would be as so.\r\n\r\n    {0,1,3}{2,3,4}{4,5,6}{5,6,7}\r\n\r\nWould there be achieve directly from a file reading method or will I have to import them as string with a scanner, than separate the numbers from there?","title":"Java; Writing int from characters in file to an array","body":"<p>I need to convert a file into an int array, my source have a strict formatting. Each single character correspond a int(or byte) to be stored in an array, spacing delimiting a new array in a 2D Array.</p>\n<p>The file would be formatted as so. (x,y,z coordinates), each character of a 3 number string needing to be stored individually.</p>\n<pre><code>013 234 456 567\n</code></pre>\n<p>My desired output would be as so.</p>\n<pre><code>{0,1,3}{2,3,4}{4,5,6}{5,6,7}\n</code></pre>\n<p>Would there be achieve directly from a file reading method or will I have to import them as string with a scanner, than separate the numbers from there?</p>\n"},{"tags":["java","android","flutter"],"comments":[{"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1641051572,"post_id":70549815,"comment_id":124712334,"body_markdown":"https://meta.stackoverflow.com/questions/272165/are-developer-centric-questions-about-application-stores-on-topic","body":"<a href=\"https://meta.stackoverflow.com/questions/272165/are-developer-centric-questions-about-application-stores-on-topic\" title=\"are developer centric questions about application stores on topic\">meta.stackoverflow.com/questions/272165/&hellip;</a>"},{"owner":{"account_id":20639121,"reputation":2546,"user_id":15152205,"display_name":"Feulgen"},"score":0,"creation_date":1644589748,"post_id":70549815,"comment_id":125653596,"body_markdown":"Did you find a solution about your problem ?","body":"Did you find a solution about your problem ?"},{"owner":{"account_id":15555741,"reputation":65,"user_id":11582172,"display_name":"Aleyna Eser"},"score":0,"creation_date":1644864257,"post_id":70549815,"comment_id":125713269,"body_markdown":"Unfortunately, i couldn&#39;t find any solution","body":"Unfortunately, i couldn&#39;t find any solution"}],"answers":[{"tags":[],"owner":{"account_id":15010219,"reputation":55,"user_id":10834931,"display_name":"Darian Pudic"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645569068,"creation_date":1645568738,"answer_id":71229081,"question_id":70549815,"body_markdown":"Problem potentially comes from signing certificate. Use the key for production, not the one that you used for development. You can find more here: https://stackoverflow.com/questions/47107297/google-sign-in-not-working-from-app-downloaded-from-playstore/54566104#54566104\r\n\r\nAlso, make sure that your privacy policy is globally accessible. I put mine on my website, you can try to do the same.\r\n\r\nAlso, feel free to screen record usage of application on your side, submit what you record to Youtube and provide link to the video together with your login instructions. \r\n\r\nAdditional option: you may submit an appeal on reviewer&#39;s decision and you will receive one on one support in form of email discussion. They are providing generic answers, I was under impression that they weren&#39;t reading at all what I wrote in previous email, but when you combine this support with a lot of digging you will hopefully find the solution.","title":"I can&#39;t add my app to google play: Issue: Need login credentials for app review","body":"<p>Problem potentially comes from signing certificate. Use the key for production, not the one that you used for development. You can find more here: <a href=\"https://stackoverflow.com/questions/47107297/google-sign-in-not-working-from-app-downloaded-from-playstore/54566104#54566104\">Google Sign in not working from app downloaded from playstore</a></p>\n<p>Also, make sure that your privacy policy is globally accessible. I put mine on my website, you can try to do the same.</p>\n<p>Also, feel free to screen record usage of application on your side, submit what you record to Youtube and provide link to the video together with your login instructions.</p>\n<p>Additional option: you may submit an appeal on reviewer's decision and you will receive one on one support in form of email discussion. They are providing generic answers, I was under impression that they weren't reading at all what I wrote in previous email, but when you combine this support with a lot of digging you will hopefully find the solution.</p>\n"}],"owner":{"account_id":15555741,"reputation":65,"user_id":11582172,"display_name":"Aleyna Eser"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1699,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1645569068,"creation_date":1641050884,"question_id":70549815,"body_markdown":"I can&#39;t add my app to google play. it gives the following error but I added login credentials.\r\n\r\nERROR:\r\n```\r\nIssue: Need login credentials for app review\r\nIn order for us to review your app for compliance with Developer Program Policies, we will need you to provide valid login credentials for your app. \r\n\r\n{If in-app content can’t be accessed after entering login credentials}We could not access in-app content due to app connection error.\r\n\r\n```\r\n\r\n\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\nhere i hide my mail and password but normally i write\r\n\r\n[![enter image description here][2]][2]\r\n \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/C90eQ.png\r\n  [2]: https://i.stack.imgur.com/hYDie.png","title":"I can&#39;t add my app to google play: Issue: Need login credentials for app review","body":"<p>I can't add my app to google play. it gives the following error but I added login credentials.</p>\n<p>ERROR:</p>\n<pre><code>Issue: Need login credentials for app review\nIn order for us to review your app for compliance with Developer Program Policies, we will need you to provide valid login credentials for your app. \n\n{If in-app content can’t be accessed after entering login credentials}We could not access in-app content due to app connection error.\n\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/C90eQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/C90eQ.png\" alt=\"enter image description here\" /></a></p>\n<p>here i hide my mail and password but normally i write</p>\n<p><a href=\"https://i.stack.imgur.com/hYDie.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hYDie.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring","spring-boot","logging","startup"],"answers":[{"tags":[],"owner":{"account_id":2021629,"reputation":57953,"user_id":1807667,"accept_rate":60,"display_name":"Ortomala Lokni"},"down_vote_count":0,"up_vote_count":35,"is_accepted":true,"score":35,"last_activity_date":1620911891,"creation_date":1515691709,"answer_id":48212783,"question_id":48212761,"body_markdown":"For doing this you need to register an [`ApplicationListener`](https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/context/ApplicationListener.html). The event to catch is the [`ApplicationPreparedEvent`](https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/context/event/ApplicationPreparedEvent.html), according to the documentation:\r\n\r\n&gt; ApplicationPreparedEvent is an event published when a SpringApplication is starting up and the\r\n&gt; ApplicationContext is fully prepared but not refreshed. The bean\r\n&gt; definitions will be loaded and the Environment is ready for use at\r\n&gt; this stage.\r\n\r\nThe main method would look like this:\r\n\r\n    public static void main(String[] args) {\r\n    \t\tSpringApplication springApplication = new SpringApplication(MyApplication.class);\r\n    \t\tspringApplication.addListeners(new PropertiesLogger());\r\n    \t\tspringApplication.run(args);\t\t\r\n    }\r\n\r\nI&#39;ve reused the code of the answer cited in the current question but I&#39;ve modified it because the context you get is not already refreshed and the structure of the environment is not exactly the same as after the startup of the application. I&#39;ve also printed the properties by property sources: one for the the system environment, one for the system properties, one for the application configuration properties, etc... Note also that the `ApplicationPreparedEvent` can be triggered multiple times, and that properties are printed only the first time. See [Spring Boot issue #8899](https://github.com/spring-projects/spring-boot/issues/8899) for details.\r\n\r\n\r\n    package com.toto.myapp.util;\r\n    \r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    import org.springframework.boot.context.event.ApplicationPreparedEvent;\r\n    import org.springframework.context.ApplicationListener;\r\n    import org.springframework.core.env.ConfigurableEnvironment;\r\n    import org.springframework.core.env.EnumerablePropertySource;\r\n    import org.springframework.core.env.PropertySource;\r\n    \r\n    import java.util.LinkedList;\r\n    import java.util.List;\r\n    \r\n    public class PropertiesLogger implements ApplicationListener&lt;ApplicationPreparedEvent&gt; {\r\n      private static final Logger log = LoggerFactory.getLogger(PropertiesLogger.class);\r\n    \r\n      private ConfigurableEnvironment environment;\r\n      private boolean isFirstRun = true;\r\n    \r\n      @Override\r\n      public void onApplicationEvent(ApplicationPreparedEvent event) {\r\n        if (isFirstRun) {\r\n          environment = event.getApplicationContext().getEnvironment();\r\n          printProperties();\r\n        }\r\n        isFirstRun = false;\r\n      }\r\n    \r\n      public void printProperties() {\r\n        for (EnumerablePropertySource propertySource : findPropertiesPropertySources()) {\r\n          log.info(&quot;******* &quot; + propertySource.getName() + &quot; *******&quot;);\r\n          String[] propertyNames = propertySource.getPropertyNames();\r\n          Arrays.sort(propertyNames);\r\n          for (String propertyName : propertyNames) {\r\n            String resolvedProperty = environment.getProperty(propertyName);\r\n            String sourceProperty = propertySource.getProperty(propertyName).toString();\r\n            if(resolvedProperty.equals(sourceProperty)) {\r\n              log.info(&quot;{}={}&quot;, propertyName, resolvedProperty);\r\n            }else {\r\n              log.info(&quot;{}={} OVERRIDDEN to {}&quot;, propertyName, sourceProperty, resolvedProperty);\r\n            }\r\n          }\r\n        }\r\n      }\r\n    \r\n      private List&lt;EnumerablePropertySource&gt; findPropertiesPropertySources() {\r\n        List&lt;EnumerablePropertySource&gt; propertiesPropertySources = new LinkedList&lt;&gt;();\r\n        for (PropertySource&lt;?&gt; propertySource : environment.getPropertySources()) {\r\n          if (propertySource instanceof EnumerablePropertySource) {\r\n            propertiesPropertySources.add((EnumerablePropertySource) propertySource);\r\n          }\r\n        }\r\n        return propertiesPropertySources;\r\n      }\r\n    }","title":"How to log all active properties of a spring boot application before the beans instantiation?","body":"<p>For doing this you need to register an <a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/context/ApplicationListener.html\" rel=\"noreferrer\"><code>ApplicationListener</code></a>. The event to catch is the <a href=\"https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/context/event/ApplicationPreparedEvent.html\" rel=\"noreferrer\"><code>ApplicationPreparedEvent</code></a>, according to the documentation:</p>\n<blockquote>\n<p>ApplicationPreparedEvent is an event published when a SpringApplication is starting up and the\nApplicationContext is fully prepared but not refreshed. The bean\ndefinitions will be loaded and the Environment is ready for use at\nthis stage.</p>\n</blockquote>\n<p>The main method would look like this:</p>\n<pre><code>public static void main(String[] args) {\n        SpringApplication springApplication = new SpringApplication(MyApplication.class);\n        springApplication.addListeners(new PropertiesLogger());\n        springApplication.run(args);        \n}\n</code></pre>\n<p>I've reused the code of the answer cited in the current question but I've modified it because the context you get is not already refreshed and the structure of the environment is not exactly the same as after the startup of the application. I've also printed the properties by property sources: one for the the system environment, one for the system properties, one for the application configuration properties, etc... Note also that the <code>ApplicationPreparedEvent</code> can be triggered multiple times, and that properties are printed only the first time. See <a href=\"https://github.com/spring-projects/spring-boot/issues/8899\" rel=\"noreferrer\">Spring Boot issue #8899</a> for details.</p>\n<pre><code>package com.toto.myapp.util;\n\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.boot.context.event.ApplicationPreparedEvent;\nimport org.springframework.context.ApplicationListener;\nimport org.springframework.core.env.ConfigurableEnvironment;\nimport org.springframework.core.env.EnumerablePropertySource;\nimport org.springframework.core.env.PropertySource;\n\nimport java.util.LinkedList;\nimport java.util.List;\n\npublic class PropertiesLogger implements ApplicationListener&lt;ApplicationPreparedEvent&gt; {\n  private static final Logger log = LoggerFactory.getLogger(PropertiesLogger.class);\n\n  private ConfigurableEnvironment environment;\n  private boolean isFirstRun = true;\n\n  @Override\n  public void onApplicationEvent(ApplicationPreparedEvent event) {\n    if (isFirstRun) {\n      environment = event.getApplicationContext().getEnvironment();\n      printProperties();\n    }\n    isFirstRun = false;\n  }\n\n  public void printProperties() {\n    for (EnumerablePropertySource propertySource : findPropertiesPropertySources()) {\n      log.info(&quot;******* &quot; + propertySource.getName() + &quot; *******&quot;);\n      String[] propertyNames = propertySource.getPropertyNames();\n      Arrays.sort(propertyNames);\n      for (String propertyName : propertyNames) {\n        String resolvedProperty = environment.getProperty(propertyName);\n        String sourceProperty = propertySource.getProperty(propertyName).toString();\n        if(resolvedProperty.equals(sourceProperty)) {\n          log.info(&quot;{}={}&quot;, propertyName, resolvedProperty);\n        }else {\n          log.info(&quot;{}={} OVERRIDDEN to {}&quot;, propertyName, sourceProperty, resolvedProperty);\n        }\n      }\n    }\n  }\n\n  private List&lt;EnumerablePropertySource&gt; findPropertiesPropertySources() {\n    List&lt;EnumerablePropertySource&gt; propertiesPropertySources = new LinkedList&lt;&gt;();\n    for (PropertySource&lt;?&gt; propertySource : environment.getPropertySources()) {\n      if (propertySource instanceof EnumerablePropertySource) {\n        propertiesPropertySources.add((EnumerablePropertySource) propertySource);\n      }\n    }\n    return propertiesPropertySources;\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":192592,"reputation":21561,"user_id":433814,"accept_rate":86,"display_name":"Marcello DeSales"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1645567962,"creation_date":1645567962,"answer_id":71228953,"question_id":48212761,"body_markdown":"# &#128221; Show the Properties BEFORE application is ready\r\n\r\n* In my case, I needed to show the properties before the context is loaded. While debugging the app, I would like to log all the properties so that I know what&#39;s going on...\r\n\r\n# ☕ Kotlin Implementation\r\n\r\nAs described at https://www.baeldung.com/spring-boot-environmentpostprocessor, the properties can be collected before the context is loaded through the use of EnvironmentPostProcessor, which is instantiated as part of Spring Factories from the call ConfigFileApplicationListener.loadPostProcessors(). At this point, you can collect all the properties and show in any specific way.\r\n\r\n&gt; **NOTE**: While loading properties during this event, the context isn&#39;t ready. So, are the loggers. For this reason, the properties can be loaded before the App Banner (if any)\r\n\r\n* Also, the entry for the spring factory must be present, so create it first\r\n\r\n```java\r\norg.springframework.boot.env.EnvironmentPostProcessor=\\\r\ncash.app.PropertiesLoggerEnvironmentPostProcessor\r\n```\r\n\r\n* Then, create the logger\r\n\r\n\r\n```kotlin\r\npackage cash.app\r\n\r\nimport org.springframework.boot.SpringApplication\r\nimport org.springframework.boot.env.EnvironmentPostProcessor\r\nimport org.springframework.core.Ordered\r\nimport org.springframework.core.annotation.Order\r\nimport org.springframework.core.env.ConfigurableEnvironment\r\nimport org.springframework.core.env.EnumerablePropertySource\r\nimport java.util.*\r\n\r\n/**\r\n * This is to log the properties (config and system) before the app loads. This way, we know what will be loaded\r\n * on the app.\r\n * Note that we can&#39;t use the logger because the context hasn&#39;t built yet at the time it loads the properties twice.\r\n *\r\n * As an event consumer, the method ConfigFileApplicationListener.onApplicationEnvironmentPreparedEvent is called\r\n * while the context is building. The process is described at https://www.baeldung.com/spring-boot-environmentpostprocessor\r\n * and one important aspect is that this class is an EnvironmentPostProcessor, only loaded before the App is loaded\r\n * with the assistance of the &quot;src/main/resources/META-INF/spring.factories&quot;. It is loaded by the\r\n * ConfigFileApplicationListener.loadPostProcessors(), which looks for the list of classses in the factories.\r\n *\r\n * https://www.baeldung.com/spring-boot-environmentpostprocessor explains how to create AutoConfiguration classes for\r\n * shared libraries. For the case of config, the reload of properties is detailed and explained on the docs at\r\n * https://www.baeldung.com/spring-reloading-properties\r\n *\r\n * TODO: We need to hide the secrets, if they are defined here.\r\n *\r\n * @author Marcello.DeSales@gmail.com\r\n */\r\n@Order(Ordered.LOWEST_PRECEDENCE)\r\nclass PropertiesLoggerEnvironmentPostProcessor : EnvironmentPostProcessor {\r\n\r\n    companion object {\r\n        /**\r\n         * Sharing is started immediately and never stops.\r\n         */\r\n        private var numberOfPasses: Int = 0\r\n        private var systemProperties: MutableMap&lt;String, String&gt; = mutableMapOf()\r\n    }\r\n\r\n    override fun postProcessEnvironment(environment: ConfigurableEnvironment, application: SpringApplication) {\r\n        for (propertySource in findPropertiesPropertySources(environment)) {\r\n            // Avoid printing the systemProperties twice\r\n            if (propertySource.name.equals(&quot;systemProperties&quot;)) {\r\n                numberOfPasses = numberOfPasses?.inc()\r\n\r\n            } else {\r\n                System.out.println(&quot;******* \\&quot; + ${propertySource.getName()} + \\&quot; *******&quot; )\r\n            }\r\n\r\n            // Adaptation of https://stackoverflow.com/questions/48212761/how-to-log-all-active-properties-of-a-spring-boot-application-before-the-beans-i/48212783#48212783\r\n            val propertyNames = propertySource.propertyNames\r\n            Arrays.sort(propertyNames)\r\n            for (propertyName in propertyNames) {\r\n                val resolvedProperty = environment!!.getProperty(propertyName!!)\r\n                val sourceProperty = propertySource.getProperty(propertyName).toString()\r\n\r\n                if (resolvedProperty == sourceProperty) {\r\n                    if (propertySource.name.equals(&quot;systemProperties&quot;)) {\r\n                        systemProperties.put(propertyName, resolvedProperty)\r\n                    } else {\r\n                        System.out.println( &quot;${propertyName}=${resolvedProperty}&quot; )\r\n                    }\r\n\r\n                } else {\r\n                    if (propertySource.name.equals(&quot;systemProperties&quot;)) {\r\n                        systemProperties.put(propertyName, resolvedProperty ?: &quot;&quot;)\r\n\r\n                    } else {\r\n                        System.out.println( &quot;${propertyName}=${sourceProperty} ----- OVERRIDDEN =&gt;&gt;&gt;&gt;&gt;&gt; ${propertyName}=${resolvedProperty}&quot; )\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        // The system properties show up twice in the process... The class is called twice and we only print it in the end.\r\n        if (numberOfPasses == 2) {\r\n            System.out.println(&quot;******* \\&quot; System Properties \\&quot; *******&quot;)\r\n            val sysPropertyNames = systemProperties.keys.sorted()\r\n            for (sysPropertyName in sysPropertyNames) {\r\n                val sysPropertyValue = systemProperties!!.get(sysPropertyName!!)\r\n                System.out.println( &quot;${sysPropertyName}=${sysPropertyValue}&quot; )\r\n            }\r\n        }\r\n    }\r\n\r\n    private fun findPropertiesPropertySources(environment: ConfigurableEnvironment): List&lt;EnumerablePropertySource&lt;*&gt;&gt; {\r\n        val propertiesPropertySources: MutableList&lt;EnumerablePropertySource&lt;*&gt;&gt; = LinkedList()\r\n        for (propertySource in environment!!.propertySources) {\r\n            if (propertySource is EnumerablePropertySource&lt;*&gt;) {\r\n                if (propertySource.name.equals(&quot;systemProperties&quot;) || propertySource.name.contains(&quot;applicationConfig:&quot;)) {\r\n                    propertiesPropertySources.add(propertySource)\r\n                }\r\n            }\r\n        }\r\n\r\n        return propertiesPropertySources.asReversed()\r\n    }\r\n}\r\n```\r\n\r\n# &#128266; Example Logs\r\n\r\n* Here&#39;s the loggers during the bootstrap of one of my services\r\n\r\n```java\r\n/Users/marcellodesales/.gradle/jdks/jdk-14.0.2+12/Contents/Home/bin/java -XX:TieredStopAtLevel=1 -noverify -Dspring.output.ansi.enabled=always \r\n....\r\n....\r\n2022-02-22T21:24:39  INFO [app=springAppName_IS_UNDEFINED,prof=observed,db,ppd_dev][tid=,sid=,sxp=][uid=] 74720 --- [  restartedMain] o.s.b.devtools.restart.ChangeableUrls    : The Class-Path manifest attribute in /Users/marcellodesales/.gradle/caches/modules-2/files-2.1/com.sun.xml.bind/jaxb-core/2.2.7s-codec-1.11.jar\r\n2022-02-22T21:24:39  INFO [app=springAppName_IS_UNDEFINED,prof=observed,db,ppd_dev][tid=,sid=,sxp=][uid=] 74720 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set &#39;spring.devtools.add-properties&#39; to &#39;false&#39; to disable\r\n******* &quot; + applicationConfig: [classpath:/application.yaml] + &quot; *******\r\n\r\nmanagement.endpoint.health.show-details=always\r\nmanagement.endpoints.web.base-path=/actuator ==========&gt;&gt;&gt;&gt;&gt;&gt; OVERRIDDEN =========&gt;&gt;&gt;&gt;&gt;&gt; management.endpoints.web.base-path=/orchestrator/actuator\r\nmanagement.endpoints.web.exposure.include=*\r\nmanagement.metrics.web.server.request.autotime.enabled=true\r\nspring.application.name=orchestrator-service\r\nspring.boot.admin.client.enabled=false ==========&gt;&gt;&gt;&gt;&gt;&gt; OVERRIDDEN =========&gt;&gt;&gt;&gt;&gt;&gt; spring.boot.admin.client.enabled=true\r\nspring.cloud.discovery.client.composite-indicator.enabled=false\r\n\r\nspring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect\r\n******* &quot; + applicationConfig: [classpath:/application-ppd_dev.yaml] + &quot; *******\r\nspring.datasource.url=jdbc:postgresql://localhost:6433/supercash?createDatabaseIfNotExist=true ==========&gt;&gt;&gt;&gt;&gt;&gt; OVERRIDDEN \r\n\r\n=========&gt;&gt;&gt;&gt;&gt;&gt; spring.datasource.url=jdbc:postgresql://localhost:6433/supercash?createDatabaseIfNotExist\\=true\r\nspring.devtools.livereload.enabled=true\r\nspring.mail.properties.mail.smtp.starttls.required=true\r\nspring.mail.test-connection=true\r\n\r\n******* &quot; System Properties &quot; *******\r\nLOG_LEVEL_PATTERN=%5p [,%X{X-B3-TraceId:-},%X{X-B3-SpanId:-},%X{X-Span-Export:-}]\r\nPID=74720\r\ncom.sun.management.jmxremote=\r\nfile.encoding=UTF-8\r\nftion\r\njava.vm.specification.version=14\r\njava.vm.vendor=AdoptOpenJDK\r\njava.vm.version=14.0.2+12\r\njboss.modules.system.pkgs=com.intellij.rt\r\njdk.debug=release\r\nline.separator=\r\n\r\nos.arch=x86_64\r\nos.name=Mac OS X\r\nos.version=10.16\r\n\r\nuser.name=marcellodesales\r\nuser.timezone=America/Los_Angeles\r\n\r\n2022-02-22T21:25:16 DEBUG [app=orchestrator-service,prof=observed,db,ppd_dev][tid=,sid=,sxp=][uid=] 74720 --- [  restartedMain] o.s.b.c.c.ConfigFileApplicationListener  : Activated activeProfiles observed,db,ppd_dev\r\n\r\n   _____                        _____          _     \r\n  / ____|                      / ____|        | |    \r\n | (___  _   _ _ __   ___ _ __| |     __ _ ___| |__  \r\n\r\n\r\n2022-02-22T20:41:08  INFO [app=orchestrator-service,prof=observed,db,ppd_dev][tid=,sid=,sxp=][uid=] 74181 --- [  restartedMain] \r\n```\r\n\r\n","title":"How to log all active properties of a spring boot application before the beans instantiation?","body":"<h1>📝 Show the Properties BEFORE application is ready</h1>\n<ul>\n<li>In my case, I needed to show the properties before the context is loaded. While debugging the app, I would like to log all the properties so that I know what's going on...</li>\n</ul>\n<h1>☕ Kotlin Implementation</h1>\n<p>As described at <a href=\"https://www.baeldung.com/spring-boot-environmentpostprocessor\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-boot-environmentpostprocessor</a>, the properties can be collected before the context is loaded through the use of EnvironmentPostProcessor, which is instantiated as part of Spring Factories from the call ConfigFileApplicationListener.loadPostProcessors(). At this point, you can collect all the properties and show in any specific way.</p>\n<blockquote>\n<p><strong>NOTE</strong>: While loading properties during this event, the context isn't ready. So, are the loggers. For this reason, the properties can be loaded before the App Banner (if any)</p>\n</blockquote>\n<ul>\n<li>Also, the entry for the spring factory must be present, so create it first</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>org.springframework.boot.env.EnvironmentPostProcessor=\\\ncash.app.PropertiesLoggerEnvironmentPostProcessor\n</code></pre>\n<ul>\n<li>Then, create the logger</li>\n</ul>\n<pre class=\"lang-kotlin prettyprint-override\"><code>package cash.app\n\nimport org.springframework.boot.SpringApplication\nimport org.springframework.boot.env.EnvironmentPostProcessor\nimport org.springframework.core.Ordered\nimport org.springframework.core.annotation.Order\nimport org.springframework.core.env.ConfigurableEnvironment\nimport org.springframework.core.env.EnumerablePropertySource\nimport java.util.*\n\n/**\n * This is to log the properties (config and system) before the app loads. This way, we know what will be loaded\n * on the app.\n * Note that we can't use the logger because the context hasn't built yet at the time it loads the properties twice.\n *\n * As an event consumer, the method ConfigFileApplicationListener.onApplicationEnvironmentPreparedEvent is called\n * while the context is building. The process is described at https://www.baeldung.com/spring-boot-environmentpostprocessor\n * and one important aspect is that this class is an EnvironmentPostProcessor, only loaded before the App is loaded\n * with the assistance of the &quot;src/main/resources/META-INF/spring.factories&quot;. It is loaded by the\n * ConfigFileApplicationListener.loadPostProcessors(), which looks for the list of classses in the factories.\n *\n * https://www.baeldung.com/spring-boot-environmentpostprocessor explains how to create AutoConfiguration classes for\n * shared libraries. For the case of config, the reload of properties is detailed and explained on the docs at\n * https://www.baeldung.com/spring-reloading-properties\n *\n * TODO: We need to hide the secrets, if they are defined here.\n *\n * @author Marcello.DeSales@gmail.com\n */\n@Order(Ordered.LOWEST_PRECEDENCE)\nclass PropertiesLoggerEnvironmentPostProcessor : EnvironmentPostProcessor {\n\n    companion object {\n        /**\n         * Sharing is started immediately and never stops.\n         */\n        private var numberOfPasses: Int = 0\n        private var systemProperties: MutableMap&lt;String, String&gt; = mutableMapOf()\n    }\n\n    override fun postProcessEnvironment(environment: ConfigurableEnvironment, application: SpringApplication) {\n        for (propertySource in findPropertiesPropertySources(environment)) {\n            // Avoid printing the systemProperties twice\n            if (propertySource.name.equals(&quot;systemProperties&quot;)) {\n                numberOfPasses = numberOfPasses?.inc()\n\n            } else {\n                System.out.println(&quot;******* \\&quot; + ${propertySource.getName()} + \\&quot; *******&quot; )\n            }\n\n            // Adaptation of https://stackoverflow.com/questions/48212761/how-to-log-all-active-properties-of-a-spring-boot-application-before-the-beans-i/48212783#48212783\n            val propertyNames = propertySource.propertyNames\n            Arrays.sort(propertyNames)\n            for (propertyName in propertyNames) {\n                val resolvedProperty = environment!!.getProperty(propertyName!!)\n                val sourceProperty = propertySource.getProperty(propertyName).toString()\n\n                if (resolvedProperty == sourceProperty) {\n                    if (propertySource.name.equals(&quot;systemProperties&quot;)) {\n                        systemProperties.put(propertyName, resolvedProperty)\n                    } else {\n                        System.out.println( &quot;${propertyName}=${resolvedProperty}&quot; )\n                    }\n\n                } else {\n                    if (propertySource.name.equals(&quot;systemProperties&quot;)) {\n                        systemProperties.put(propertyName, resolvedProperty ?: &quot;&quot;)\n\n                    } else {\n                        System.out.println( &quot;${propertyName}=${sourceProperty} ----- OVERRIDDEN =&gt;&gt;&gt;&gt;&gt;&gt; ${propertyName}=${resolvedProperty}&quot; )\n                    }\n                }\n            }\n        }\n\n        // The system properties show up twice in the process... The class is called twice and we only print it in the end.\n        if (numberOfPasses == 2) {\n            System.out.println(&quot;******* \\&quot; System Properties \\&quot; *******&quot;)\n            val sysPropertyNames = systemProperties.keys.sorted()\n            for (sysPropertyName in sysPropertyNames) {\n                val sysPropertyValue = systemProperties!!.get(sysPropertyName!!)\n                System.out.println( &quot;${sysPropertyName}=${sysPropertyValue}&quot; )\n            }\n        }\n    }\n\n    private fun findPropertiesPropertySources(environment: ConfigurableEnvironment): List&lt;EnumerablePropertySource&lt;*&gt;&gt; {\n        val propertiesPropertySources: MutableList&lt;EnumerablePropertySource&lt;*&gt;&gt; = LinkedList()\n        for (propertySource in environment!!.propertySources) {\n            if (propertySource is EnumerablePropertySource&lt;*&gt;) {\n                if (propertySource.name.equals(&quot;systemProperties&quot;) || propertySource.name.contains(&quot;applicationConfig:&quot;)) {\n                    propertiesPropertySources.add(propertySource)\n                }\n            }\n        }\n\n        return propertiesPropertySources.asReversed()\n    }\n}\n</code></pre>\n<h1>🔊 Example Logs</h1>\n<ul>\n<li>Here's the loggers during the bootstrap of one of my services</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>/Users/marcellodesales/.gradle/jdks/jdk-14.0.2+12/Contents/Home/bin/java -XX:TieredStopAtLevel=1 -noverify -Dspring.output.ansi.enabled=always \n....\n....\n2022-02-22T21:24:39  INFO [app=springAppName_IS_UNDEFINED,prof=observed,db,ppd_dev][tid=,sid=,sxp=][uid=] 74720 --- [  restartedMain] o.s.b.devtools.restart.ChangeableUrls    : The Class-Path manifest attribute in /Users/marcellodesales/.gradle/caches/modules-2/files-2.1/com.sun.xml.bind/jaxb-core/2.2.7s-codec-1.11.jar\n2022-02-22T21:24:39  INFO [app=springAppName_IS_UNDEFINED,prof=observed,db,ppd_dev][tid=,sid=,sxp=][uid=] 74720 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable\n******* &quot; + applicationConfig: [classpath:/application.yaml] + &quot; *******\n\nmanagement.endpoint.health.show-details=always\nmanagement.endpoints.web.base-path=/actuator ==========&gt;&gt;&gt;&gt;&gt;&gt; OVERRIDDEN =========&gt;&gt;&gt;&gt;&gt;&gt; management.endpoints.web.base-path=/orchestrator/actuator\nmanagement.endpoints.web.exposure.include=*\nmanagement.metrics.web.server.request.autotime.enabled=true\nspring.application.name=orchestrator-service\nspring.boot.admin.client.enabled=false ==========&gt;&gt;&gt;&gt;&gt;&gt; OVERRIDDEN =========&gt;&gt;&gt;&gt;&gt;&gt; spring.boot.admin.client.enabled=true\nspring.cloud.discovery.client.composite-indicator.enabled=false\n\nspring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect\n******* &quot; + applicationConfig: [classpath:/application-ppd_dev.yaml] + &quot; *******\nspring.datasource.url=jdbc:postgresql://localhost:6433/supercash?createDatabaseIfNotExist=true ==========&gt;&gt;&gt;&gt;&gt;&gt; OVERRIDDEN \n\n=========&gt;&gt;&gt;&gt;&gt;&gt; spring.datasource.url=jdbc:postgresql://localhost:6433/supercash?createDatabaseIfNotExist\\=true\nspring.devtools.livereload.enabled=true\nspring.mail.properties.mail.smtp.starttls.required=true\nspring.mail.test-connection=true\n\n******* &quot; System Properties &quot; *******\nLOG_LEVEL_PATTERN=%5p [,%X{X-B3-TraceId:-},%X{X-B3-SpanId:-},%X{X-Span-Export:-}]\nPID=74720\ncom.sun.management.jmxremote=\nfile.encoding=UTF-8\nftion\njava.vm.specification.version=14\njava.vm.vendor=AdoptOpenJDK\njava.vm.version=14.0.2+12\njboss.modules.system.pkgs=com.intellij.rt\njdk.debug=release\nline.separator=\n\nos.arch=x86_64\nos.name=Mac OS X\nos.version=10.16\n\nuser.name=marcellodesales\nuser.timezone=America/Los_Angeles\n\n2022-02-22T21:25:16 DEBUG [app=orchestrator-service,prof=observed,db,ppd_dev][tid=,sid=,sxp=][uid=] 74720 --- [  restartedMain] o.s.b.c.c.ConfigFileApplicationListener  : Activated activeProfiles observed,db,ppd_dev\n\n   _____                        _____          _     \n  / ____|                      / ____|        | |    \n | (___  _   _ _ __   ___ _ __| |     __ _ ___| |__  \n\n\n2022-02-22T20:41:08  INFO [app=orchestrator-service,prof=observed,db,ppd_dev][tid=,sid=,sxp=][uid=] 74181 --- [  restartedMain] \n</code></pre>\n"}],"owner":{"account_id":2021629,"reputation":57953,"user_id":1807667,"accept_rate":60,"display_name":"Ortomala Lokni"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17671,"favorite_count":0,"down_vote_count":0,"up_vote_count":21,"accepted_answer_id":48212783,"answer_count":2,"score":21,"last_activity_date":1645567962,"creation_date":1515691609,"question_id":48212761,"body_markdown":"There is already a [question](https://stackoverflow.com/questions/24448947/how-to-log-the-active-configuration-in-a-spring-boot-application) asking for logging the active configuration, there is a correct [answer](https://stackoverflow.com/a/37392817/1807667) but the problem is that the configuration is logged only if all beans are correctly instantiated. I would like to log all properties even (mainly) if the application crash at startup. My question is more specific: \r\n\r\nHow to log all active properties of a spring boot application **before** the beans instantiation?","title":"How to log all active properties of a spring boot application before the beans instantiation?","body":"<p>There is already a <a href=\"https://stackoverflow.com/questions/24448947/how-to-log-the-active-configuration-in-a-spring-boot-application\">question</a> asking for logging the active configuration, there is a correct <a href=\"https://stackoverflow.com/a/37392817/1807667\">answer</a> but the problem is that the configuration is logged only if all beans are correctly instantiated. I would like to log all properties even (mainly) if the application crash at startup. My question is more specific: </p>\n\n<p>How to log all active properties of a spring boot application <strong>before</strong> the beans instantiation?</p>\n"},{"tags":["java","spring","postgresql","amazon-rds","transactionmanager"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1613038590,"post_id":66152651,"comment_id":116954676,"body_markdown":"Please don&#39;t post code as images as that is totally unreadable. Just post code as code.","body":"Please don&#39;t post code as images as that is totally unreadable. Just post code as code."},{"owner":{"account_id":3883295,"reputation":1469,"user_id":3215301,"accept_rate":52,"display_name":"Stefano"},"score":0,"creation_date":1613038647,"post_id":66152651,"comment_id":116954697,"body_markdown":"ok, I edit the image part","body":"ok, I edit the image part"},{"owner":{"account_id":3883295,"reputation":1469,"user_id":3215301,"accept_rate":52,"display_name":"Stefano"},"score":0,"creation_date":1613146430,"post_id":66152651,"comment_id":116994537,"body_markdown":"I think that the issue caused by the HikariCP&#39;s connections remain hanging during the failover action on AWS RDS instance DB PostgreSQL. However the transaction timeout does&#39;t work. This article describe the issue on AWS RDS instance and HikariCP https://www.theguardian.com/info/2019/dec/02/faster-postgresql-connection-recovery. I reserve the right to do a test to solve the issue and to give an answer.","body":"I think that the issue caused by the HikariCP&#39;s connections remain hanging during the failover action on AWS RDS instance DB PostgreSQL. However the transaction timeout does&#39;t work. This article describe the issue on AWS RDS instance and HikariCP <a href=\"https://www.theguardian.com/info/2019/dec/02/faster-postgresql-connection-recovery\" rel=\"nofollow noreferrer\">theguardian.com/info/2019/dec/02/&hellip;</a>. I reserve the right to do a test to solve the issue and to give an answer."}],"answers":[{"tags":[],"owner":{"account_id":3883295,"reputation":1469,"user_id":3215301,"accept_rate":52,"display_name":"Stefano"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1645567703,"creation_date":1613638656,"answer_id":66256615,"question_id":66152651,"body_markdown":"I resolved my issue with the set the property as written in the followed article:\r\n\r\n[faster-postgresql-connection-recovery][1]\r\n\r\nMy code is added configuration HikariCP:\r\n\r\n    hikariConfig.addDataSourceProperty(&quot;socketTimeout&quot;, &quot;120&quot;);\r\n\r\nsocketTimeout to 120 seconds, so in any case the property throws the followed exception after timeout:\r\n\r\n    Caused by: java.net.SocketTimeoutException: Read timed out at java.net.SocketInputStream.socketRead0(Native Method) ~[?:?]    \r\n    at java.net.SocketInputStream.socketRead(SocketInputStream.java:115) ~[?:?]\r\n    at java.net.SocketInputStream.read(SocketInputStream.java:168) ~[?:?]   \r\n    at java.net.SocketInputStream.read(SocketInputStream.java:140) ~[?:?]  \r\n    at sun.security.ssl.SSLSocketInputRecord.read(SSLSocketInputRecord.java:448) ~[?:?]   \r\n    at sun.security.ssl.SSLSocketInputRecord.bytesInCompletePacket(SSLSocketInputRecord.java:68) ~[?:?]\r\n    at sun.security.ssl.SSLSocketImpl.readApplicationRecord(SSLSocketImpl.java:1103) ~[?:?]\r\n    at sun.security.ssl.SSLSocketImpl$AppInputStream.read(SSLSocketImpl.java:823) ~[?:?]\r\n    at org.postgresql.core.VisibleBufferedInputStream.readMore(VisibleBufferedInputStream.java:161) ~[postgresql-42.2.10.jar!/:42.2.10]\r\n    at org.postgresql.core.VisibleBufferedInputStream.ensureBytes(VisibleBufferedInputStream.java:128) ~[postgresql-42.2.10.jar!/:42.2.10]\r\n    at org.postgresql.core.VisibleBufferedInputStream.ensureBytes(VisibleBufferedInputStream.java:113) ~[postgresql-42.2.10.jar!/:42.2.10]\r\n    at org.postgresql.core.VisibleBufferedInputStream.read(VisibleBufferedInputStream.java:73) ~[postgresql-42.2.10.jar!/:42.2.10]\r\n    at org.postgresql.core.PGStream.receiveChar(PGStream.java:370) ~[postgresql-42.2.10.jar!/:42.2.10]\r\n    at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2015) ~[postgresql-42.2.10.jar!/:42.2.10]\r\n    at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:311) ~[postgresql-42.2.10.jar!/:42.2.10]... 17 more\r\n\r\n \r\n\r\n\r\n  [1]: https://www.theguardian.com/info/2019/dec/02/faster-postgresql-connection-recovery","title":"Why ChainedTransactionManager with setting timeout via annotation not working? Spring boot","body":"<p>I resolved my issue with the set the property as written in the followed article:</p>\n<p><a href=\"https://www.theguardian.com/info/2019/dec/02/faster-postgresql-connection-recovery\" rel=\"nofollow noreferrer\">faster-postgresql-connection-recovery</a></p>\n<p>My code is added configuration HikariCP:</p>\n<pre><code>hikariConfig.addDataSourceProperty(&quot;socketTimeout&quot;, &quot;120&quot;);\n</code></pre>\n<p>socketTimeout to 120 seconds, so in any case the property throws the followed exception after timeout:</p>\n<pre><code>Caused by: java.net.SocketTimeoutException: Read timed out at java.net.SocketInputStream.socketRead0(Native Method) ~[?:?]    \nat java.net.SocketInputStream.socketRead(SocketInputStream.java:115) ~[?:?]\nat java.net.SocketInputStream.read(SocketInputStream.java:168) ~[?:?]   \nat java.net.SocketInputStream.read(SocketInputStream.java:140) ~[?:?]  \nat sun.security.ssl.SSLSocketInputRecord.read(SSLSocketInputRecord.java:448) ~[?:?]   \nat sun.security.ssl.SSLSocketInputRecord.bytesInCompletePacket(SSLSocketInputRecord.java:68) ~[?:?]\nat sun.security.ssl.SSLSocketImpl.readApplicationRecord(SSLSocketImpl.java:1103) ~[?:?]\nat sun.security.ssl.SSLSocketImpl$AppInputStream.read(SSLSocketImpl.java:823) ~[?:?]\nat org.postgresql.core.VisibleBufferedInputStream.readMore(VisibleBufferedInputStream.java:161) ~[postgresql-42.2.10.jar!/:42.2.10]\nat org.postgresql.core.VisibleBufferedInputStream.ensureBytes(VisibleBufferedInputStream.java:128) ~[postgresql-42.2.10.jar!/:42.2.10]\nat org.postgresql.core.VisibleBufferedInputStream.ensureBytes(VisibleBufferedInputStream.java:113) ~[postgresql-42.2.10.jar!/:42.2.10]\nat org.postgresql.core.VisibleBufferedInputStream.read(VisibleBufferedInputStream.java:73) ~[postgresql-42.2.10.jar!/:42.2.10]\nat org.postgresql.core.PGStream.receiveChar(PGStream.java:370) ~[postgresql-42.2.10.jar!/:42.2.10]\nat org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2015) ~[postgresql-42.2.10.jar!/:42.2.10]\nat org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:311) ~[postgresql-42.2.10.jar!/:42.2.10]... 17 more\n</code></pre>\n"}],"owner":{"account_id":3883295,"reputation":1469,"user_id":3215301,"accept_rate":52,"display_name":"Stefano"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":319,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":66256615,"answer_count":1,"score":1,"last_activity_date":1645567703,"creation_date":1613038343,"question_id":66152651,"body_markdown":"Application:\r\n\r\n  -  Spring boot version 2.2.13.RELEASE\r\n  -  postgresql version 42.2.10\r\n  -  quartz version 2.3.2\r\n  -  quartz-jobs version 2.3.2\r\n\r\n\r\nI have implemented a job quartz that calls a method implemented in a @Service bean. Into this method there are interactions with two Data base (Oracle and PostgreSql). Every Db is inizialized with a Hikari Connection pool\r\n\r\nPostgresql DB in configuration bean:\r\n\r\n            @Bean(value=&quot;sreDataSource&quot;)\r\n            public DataSource dataSource() {\r\n            \r\n            \tHikariConfig hikariConfig = new HikariConfig();\r\n            \thikariConfig.setDriverClassName(driverClassName);\r\n                hikariConfig.setJdbcUrl(datasourceUrl); \r\n                hikariConfig.setUsername(datasourceUsername);\r\n                hikariConfig.setPassword(datasourcePassword);\r\n                hikariConfig.setConnectionInitSql(&quot;set time zone &#39;UTC&#39;&quot;);\r\n                hikariConfig.setMaximumPoolSize(maxPoolSize);\r\n                hikariConfig.setConnectionTestQuery(&quot;SELECT 1&quot;);\r\n                hikariConfig.setPoolName(&quot;springHikariCP&quot;);\r\n            \r\n                return new HikariDataSource(hikariConfig);\r\n                \r\n            }\r\n        /**\r\n        \t * @return {@link JdbcTemplate}\r\n        \t */\r\n        \t@Bean(value=&quot;sreJdbcTemplate&quot;)\r\n        \tpublic JdbcTemplate jdbcTemplate() {\r\n        \t\t\r\n        \t\tJdbcTemplate jdbcTemplate = new JdbcTemplate(dataSource());\r\n        \t\tjdbcTemplate.setFetchSize(Integer.parseInt(fetchSize));\r\n        \t\tjdbcTemplate.setQueryTimeout(60);\r\n        \t\t\r\n        \t\treturn jdbcTemplate;\r\n        \t}\r\n        \r\n        \t\r\n        \t/**\r\n        \t * Create the namedJdbcTemplate bean for the SRE database\r\n        \t * @return {@link NamedParameterJdbcTemplate}\r\n        \t */\r\n        \t@Bean(value=&quot;sreNamedParameterJdbcTemplate&quot;)\r\n        \tpublic NamedParameterJdbcTemplate namedParameterJdbcTemplate() {\r\n        \t\t\r\n        \t\treturn new NamedParameterJdbcTemplate(jdbcTemplate());\r\n        \t}\r\n        \t\r\n        \t\r\n        \t/**\r\n        \t * @param dataSource\r\n        \t * @return {@link PlatformTransactionManager}\r\n        \t */\r\n        \t@Bean(value=&quot;sreTransactionManager&quot;)\r\n        \tpublic PlatformTransactionManager transactionManager(@Qualifier(&quot;sreDataSource&quot;) DataSource dataSource) {\r\n        \t\t\r\n        \t\treturn new DataSourceTransactionManager(dataSource);\r\n        \t}\r\n    /**\r\n    \t * @param sreTransactionManager\r\n    \t * @param assetTransactionManager\r\n    \t * @return {@link ChainedTransactionManager}\r\n    \t */\r\n    \t@Bean(value=&quot;chainedTransactionManager&quot;)\r\n        public ChainedTransactionManager transactionManager(@Qualifier(&quot;sreTransactionManager&quot;) PlatformTransactionManager sreTransactionManager,\r\n                                                        @Qualifier(&quot;assetTransactionManager&quot;) PlatformTransactionManager assetTransactionManager) {\r\n             return new ChainedTransactionManager(sreTransactionManager, assetTransactionManager);\r\n        }\r\n\r\nOracle DB in configuration bean:\r\n\r\n\r\n    /**\r\n    \t * Datasource\r\n    \t * @return Datasource\r\n    \t */\r\n    \t@Bean(value=&quot;assetDataSource&quot;)\r\n        public DataSource dataSource() {\r\n            \r\n    \t\tHikariConfig hikariConfig = new HikariConfig();\r\n    \t\thikariConfig.setDriverClassName(driverClassName);\r\n    \t    hikariConfig.setJdbcUrl(datasourceUrl); \r\n    \t    hikariConfig.setUsername(datasourceUsername);\r\n    \t    hikariConfig.setPassword(datasourcePassword);\r\n    \t    hikariConfig.addDataSourceProperty(&quot;oracle.jdbc.timezoneAsRegion&quot;, &quot;false&quot;);\r\n    \t    hikariConfig.setMaximumPoolSize(maxPoolSize);\r\n    \t    hikariConfig.setConnectionTestQuery(&quot;SELECT 1 from dual&quot;);\r\n    \t    hikariConfig.setPoolName(&quot;springHikariAssetCp&quot;);\r\n    \t\t\r\n    \t    \r\n    \t    return new HikariDataSource(hikariConfig);\r\n        }\r\n    \t\r\n    \t/**\r\n    \t * JDBCTemplate\r\n    \t * @return JDBCTemplate\r\n    \t */\r\n    \t@Bean(value=&quot;assetJdbcTemplate&quot;)\r\n    \tpublic JdbcTemplate jdbcTemplate() {\r\n    \t\t\r\n    \t\tJdbcTemplate jdbcTemplate = new JdbcTemplate(dataSource());\r\n    \t\tjdbcTemplate.setFetchSize(Integer.parseInt(fetchSize));\r\n    \t\tjdbcTemplate.setQueryTimeout(60);\r\n    \t\t\r\n    \t\treturn jdbcTemplate;\r\n    \t}\r\n    \t\r\n    \t/**\r\n    \t * Create the namedJdbcTemplate bean for the RMD database\r\n    \t * @return NamedParameterJdbcTemplate\r\n    \t */\r\n    \t@Bean(value=&quot;assetNamedParameterJdbcTemplate&quot;)\r\n    \tpublic NamedParameterJdbcTemplate namedParameterJdbcTemplate() {\r\n    \t\t\r\n    \t\treturn new NamedParameterJdbcTemplate(jdbcTemplate());\r\n    \t}\r\n    \t\r\n    \t/**\r\n    \t * Create transaction manager\r\n    \t * @param dataSource Datasource\r\n    \t * @return transaction manager\r\n    \t */\r\n    \t@Bean(value=&quot;assetTransactionManager&quot;)\r\n    \tpublic PlatformTransactionManager transactionManager(@Qualifier(&quot;assetDataSource&quot;) DataSource dataSource) {\r\n    \t\t\r\n    \t\treturn new DataSourceTransactionManager(dataSource);\r\n    \t}\r\n\r\n\r\nThe service bean is called from job quartz in a cluster.The service bean is defined as the followed:\r\n\r\n    /**\r\n     * @author sgalgani\r\n     *\r\n     */\r\n    @Service(&quot;processSreService&quot;)\r\n    @Transactional(&quot;chainedTransactionManager&quot;)\r\n    public class ProcessSreServiceImpl implements ProcessSreService {\r\n    \r\n    \tprivate static final Logger LOGGER = LogManager.getLogger(ProcessSreServiceImpl.class);\r\n    \r\n    \t@Autowired\r\n    \t@Qualifier(&quot;historianService&quot;)\r\n    \tprivate HistorianService historianService;\r\n    \r\n    \t@Autowired\r\n    \t@Qualifier(&quot;sreEvolutionService&quot;)\r\n    \tprivate SreEvolutionService sreEvolutionService;\r\n    \r\n    \t@Autowired\r\n    \t@Qualifier(&quot;assetService&quot;)\r\n    \tprivate AssetService assetService;\r\n    \r\n    \t@Autowired\r\n    \t@Qualifier(&quot;configService&quot;)\r\n    \tprivate ConfigService configService;\r\n    \r\n    \t@Autowired\r\n    \t@Qualifier(&quot;engineSupportService&quot;)\r\n    \tprivate EngineSupportService engineSupportService;\r\n    \r\n    \t@Autowired\r\n    \t@Qualifier(&quot;tagAvailabilityService&quot;)\r\n    \tprivate TagAvailabilityService tagAvailabilityService;\r\n    \r\n    \t@Autowired\r\n    \t@Qualifier(&quot;engineTransformService&quot;)\r\n    \tprivate EngineTransformService engineTransformService;\r\n    \r\n    \t@Autowired\r\n    \t@Qualifier(&quot;quarantineService&quot;)\r\n    \tprivate QuarantineService quarantineService;\r\n    \r\n    \t@Autowired\r\n    \t@Qualifier(&quot;simpleRuleEventService&quot;)\r\n    \tprivate SimpleRuleEventService simpleRuleEventService;\r\n    \r\n    \t@Value(&quot;${save.oracle.temporary.results}&quot;)\r\n    \tprivate boolean saveOracleTemporaryResults;\r\n    \r\n    \t@Value(&quot;${enable.save.local.db.alerts}&quot;)\r\n    \tprivate boolean enableSaveLocalDbAlerts;\r\n    \t\r\n    \t@Value(&quot;${simple.rule.event.service.enable}&quot;)\r\n    \tprivate boolean simpleRuleEventServiceEnable;\r\n    \r\n    \t@SuppressWarnings(&quot;javadoc&quot;)\r\n    \t@Override\r\n    \t@Transactional(value = &quot;chainedTransactionManager&quot;, rollbackFor = Exception.class, timeout = 120)\r\n    \tpublic void processSre(Sre sre, List&lt;TagLastTimestamp&gt; tagsLastTimestamp, Metric metrics) throws Exception {\r\n    \r\n    \t\tLOGGER.info(&quot;[processSre] for JobId : {} and lineup: {} &quot;,sre.getId(), sre.getLineupId() );\r\n\r\n\r\nAfter failover DB action on Amazon RDS postgresql (lost connection to DB), I would exepect a transaction timeout exception after 120 seconds, but timeout is not working, why ? \r\n\r\n  [1]: https://i.stack.imgur.com/YTi0U.png","title":"Why ChainedTransactionManager with setting timeout via annotation not working? Spring boot","body":"<p>Application:</p>\n<ul>\n<li>Spring boot version 2.2.13.RELEASE</li>\n<li>postgresql version 42.2.10</li>\n<li>quartz version 2.3.2</li>\n<li>quartz-jobs version 2.3.2</li>\n</ul>\n<p>I have implemented a job quartz that calls a method implemented in a @Service bean. Into this method there are interactions with two Data base (Oracle and PostgreSql). Every Db is inizialized with a Hikari Connection pool</p>\n<p>Postgresql DB in configuration bean:</p>\n<pre><code>        @Bean(value=&quot;sreDataSource&quot;)\n        public DataSource dataSource() {\n        \n            HikariConfig hikariConfig = new HikariConfig();\n            hikariConfig.setDriverClassName(driverClassName);\n            hikariConfig.setJdbcUrl(datasourceUrl); \n            hikariConfig.setUsername(datasourceUsername);\n            hikariConfig.setPassword(datasourcePassword);\n            hikariConfig.setConnectionInitSql(&quot;set time zone 'UTC'&quot;);\n            hikariConfig.setMaximumPoolSize(maxPoolSize);\n            hikariConfig.setConnectionTestQuery(&quot;SELECT 1&quot;);\n            hikariConfig.setPoolName(&quot;springHikariCP&quot;);\n        \n            return new HikariDataSource(hikariConfig);\n            \n        }\n    /**\n         * @return {@link JdbcTemplate}\n         */\n        @Bean(value=&quot;sreJdbcTemplate&quot;)\n        public JdbcTemplate jdbcTemplate() {\n            \n            JdbcTemplate jdbcTemplate = new JdbcTemplate(dataSource());\n            jdbcTemplate.setFetchSize(Integer.parseInt(fetchSize));\n            jdbcTemplate.setQueryTimeout(60);\n            \n            return jdbcTemplate;\n        }\n    \n        \n        /**\n         * Create the namedJdbcTemplate bean for the SRE database\n         * @return {@link NamedParameterJdbcTemplate}\n         */\n        @Bean(value=&quot;sreNamedParameterJdbcTemplate&quot;)\n        public NamedParameterJdbcTemplate namedParameterJdbcTemplate() {\n            \n            return new NamedParameterJdbcTemplate(jdbcTemplate());\n        }\n        \n        \n        /**\n         * @param dataSource\n         * @return {@link PlatformTransactionManager}\n         */\n        @Bean(value=&quot;sreTransactionManager&quot;)\n        public PlatformTransactionManager transactionManager(@Qualifier(&quot;sreDataSource&quot;) DataSource dataSource) {\n            \n            return new DataSourceTransactionManager(dataSource);\n        }\n/**\n     * @param sreTransactionManager\n     * @param assetTransactionManager\n     * @return {@link ChainedTransactionManager}\n     */\n    @Bean(value=&quot;chainedTransactionManager&quot;)\n    public ChainedTransactionManager transactionManager(@Qualifier(&quot;sreTransactionManager&quot;) PlatformTransactionManager sreTransactionManager,\n                                                    @Qualifier(&quot;assetTransactionManager&quot;) PlatformTransactionManager assetTransactionManager) {\n         return new ChainedTransactionManager(sreTransactionManager, assetTransactionManager);\n    }\n</code></pre>\n<p>Oracle DB in configuration bean:</p>\n<pre><code>/**\n     * Datasource\n     * @return Datasource\n     */\n    @Bean(value=&quot;assetDataSource&quot;)\n    public DataSource dataSource() {\n        \n        HikariConfig hikariConfig = new HikariConfig();\n        hikariConfig.setDriverClassName(driverClassName);\n        hikariConfig.setJdbcUrl(datasourceUrl); \n        hikariConfig.setUsername(datasourceUsername);\n        hikariConfig.setPassword(datasourcePassword);\n        hikariConfig.addDataSourceProperty(&quot;oracle.jdbc.timezoneAsRegion&quot;, &quot;false&quot;);\n        hikariConfig.setMaximumPoolSize(maxPoolSize);\n        hikariConfig.setConnectionTestQuery(&quot;SELECT 1 from dual&quot;);\n        hikariConfig.setPoolName(&quot;springHikariAssetCp&quot;);\n        \n        \n        return new HikariDataSource(hikariConfig);\n    }\n    \n    /**\n     * JDBCTemplate\n     * @return JDBCTemplate\n     */\n    @Bean(value=&quot;assetJdbcTemplate&quot;)\n    public JdbcTemplate jdbcTemplate() {\n        \n        JdbcTemplate jdbcTemplate = new JdbcTemplate(dataSource());\n        jdbcTemplate.setFetchSize(Integer.parseInt(fetchSize));\n        jdbcTemplate.setQueryTimeout(60);\n        \n        return jdbcTemplate;\n    }\n    \n    /**\n     * Create the namedJdbcTemplate bean for the RMD database\n     * @return NamedParameterJdbcTemplate\n     */\n    @Bean(value=&quot;assetNamedParameterJdbcTemplate&quot;)\n    public NamedParameterJdbcTemplate namedParameterJdbcTemplate() {\n        \n        return new NamedParameterJdbcTemplate(jdbcTemplate());\n    }\n    \n    /**\n     * Create transaction manager\n     * @param dataSource Datasource\n     * @return transaction manager\n     */\n    @Bean(value=&quot;assetTransactionManager&quot;)\n    public PlatformTransactionManager transactionManager(@Qualifier(&quot;assetDataSource&quot;) DataSource dataSource) {\n        \n        return new DataSourceTransactionManager(dataSource);\n    }\n</code></pre>\n<p>The service bean is called from job quartz in a cluster.The service bean is defined as the followed:</p>\n<pre><code>/**\n * @author sgalgani\n *\n */\n@Service(&quot;processSreService&quot;)\n@Transactional(&quot;chainedTransactionManager&quot;)\npublic class ProcessSreServiceImpl implements ProcessSreService {\n\n    private static final Logger LOGGER = LogManager.getLogger(ProcessSreServiceImpl.class);\n\n    @Autowired\n    @Qualifier(&quot;historianService&quot;)\n    private HistorianService historianService;\n\n    @Autowired\n    @Qualifier(&quot;sreEvolutionService&quot;)\n    private SreEvolutionService sreEvolutionService;\n\n    @Autowired\n    @Qualifier(&quot;assetService&quot;)\n    private AssetService assetService;\n\n    @Autowired\n    @Qualifier(&quot;configService&quot;)\n    private ConfigService configService;\n\n    @Autowired\n    @Qualifier(&quot;engineSupportService&quot;)\n    private EngineSupportService engineSupportService;\n\n    @Autowired\n    @Qualifier(&quot;tagAvailabilityService&quot;)\n    private TagAvailabilityService tagAvailabilityService;\n\n    @Autowired\n    @Qualifier(&quot;engineTransformService&quot;)\n    private EngineTransformService engineTransformService;\n\n    @Autowired\n    @Qualifier(&quot;quarantineService&quot;)\n    private QuarantineService quarantineService;\n\n    @Autowired\n    @Qualifier(&quot;simpleRuleEventService&quot;)\n    private SimpleRuleEventService simpleRuleEventService;\n\n    @Value(&quot;${save.oracle.temporary.results}&quot;)\n    private boolean saveOracleTemporaryResults;\n\n    @Value(&quot;${enable.save.local.db.alerts}&quot;)\n    private boolean enableSaveLocalDbAlerts;\n    \n    @Value(&quot;${simple.rule.event.service.enable}&quot;)\n    private boolean simpleRuleEventServiceEnable;\n\n    @SuppressWarnings(&quot;javadoc&quot;)\n    @Override\n    @Transactional(value = &quot;chainedTransactionManager&quot;, rollbackFor = Exception.class, timeout = 120)\n    public void processSre(Sre sre, List&lt;TagLastTimestamp&gt; tagsLastTimestamp, Metric metrics) throws Exception {\n\n        LOGGER.info(&quot;[processSre] for JobId : {} and lineup: {} &quot;,sre.getId(), sre.getLineupId() );\n</code></pre>\n<p>After failover DB action on Amazon RDS postgresql (lost connection to DB), I would exepect a transaction timeout exception after 120 seconds, but timeout is not working, why ?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":20854541,"reputation":1009,"user_id":15318227,"display_name":"Gurkirat Singh Guliani"},"score":0,"creation_date":1645565274,"post_id":71228473,"comment_id":125904508,"body_markdown":"what is the data type of Sale field ?","body":"what is the data type of Sale field ?"},{"owner":{"account_id":24345909,"reputation":1,"user_id":18282491,"display_name":"Utsav Kothari"},"score":0,"creation_date":1645567343,"post_id":71228473,"comment_id":125905174,"body_markdown":"Sale is a class","body":"Sale is a class"}],"answers":[{"tags":[],"owner":{"account_id":26377,"reputation":352187,"user_id":68587,"accept_rate":95,"display_name":"John Kugelman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645567401,"creation_date":1645566082,"answer_id":71228656,"question_id":71228473,"body_markdown":"Java streams will make short work of this task:\r\n\r\n```\r\nint indexOfMaxValue = IntStream.range(0, Sale.allValues.size())\r\n    .filter(i -&gt; Sale.allBranches.get(i).equals(branchEntered))\r\n    .boxed()\r\n    .max(Comparator.comparingDouble(i -&gt; Sale.allValues.get(i)))\r\n    .orElseThrow();\r\n\r\ndouble maxValue = Sale.allValues.get(indexOfMaxValue);\r\nString elementOfMaxValuePostcode = Sale.allPostcode.get(indexOfMaxValue);\r\nint elementOfMaxValueHouseNumber = Sale.allHouseNumbers.get(indexOfMaxValue);\r\n```\r\n\r\nExplanation:\r\n\r\n1.  Create a stream over the indices from `0` to `Sale.allValues.size() - 1`:\r\n\r\n    ```\r\n    IntStream.range(0, Sale.allValues.size()).boxed()\r\n    ```\r\n\r\n2.  Filter the indices so only ones for the desired branch are kept:\r\n\r\n    ```\r\n        .filter(i -&gt; Sale.allBranches.get(i).equals(branchEntered))\r\n    ```\r\n\r\n3.  Now look up the sale values for these indices and find the maximum value. By running `.max` on the *indices* rather than *sale values* we get the maximum *index* as a result, eliminating the need to look it up in a second pass.\r\n\r\n    ```\r\n        .boxed()\r\n        .max(Comparator.comparingDouble(i -&gt; Sale.allValues.get(i)))\r\n    ```\r\n\r\n    We use `boxed()` to convert the `IntStream` to a `Stream&lt;Integer&gt;` so we can call `max` with a custom comparator. `IntStream` doesn&#39;t have the method we need.\r\n\r\n4.  If the branch has no sales there won&#39;t be a maximum sale. You can decide how you want to handle this edge case. See the [Optional](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Optional.html) class for the methods at your disposal. For simplicity I chose to throw an exception:\r\n\r\n    ```\r\n        .orElseThrow();\r\n    ```\r\n\r\n5.  Finally, the result of all of this is assigned to `indexOfMaxValue`.\r\n\r\n    ```\r\n    int indexOfMaxValue = ...;\r\n    ```","title":"Finding maximum Value along with another condition in Java","body":"<p>Java streams will make short work of this task:</p>\n<pre><code>int indexOfMaxValue = IntStream.range(0, Sale.allValues.size())\n    .filter(i -&gt; Sale.allBranches.get(i).equals(branchEntered))\n    .boxed()\n    .max(Comparator.comparingDouble(i -&gt; Sale.allValues.get(i)))\n    .orElseThrow();\n\ndouble maxValue = Sale.allValues.get(indexOfMaxValue);\nString elementOfMaxValuePostcode = Sale.allPostcode.get(indexOfMaxValue);\nint elementOfMaxValueHouseNumber = Sale.allHouseNumbers.get(indexOfMaxValue);\n</code></pre>\n<p>Explanation:</p>\n<ol>\n<li><p>Create a stream over the indices from <code>0</code> to <code>Sale.allValues.size() - 1</code>:</p>\n<pre><code>IntStream.range(0, Sale.allValues.size()).boxed()\n</code></pre>\n</li>\n<li><p>Filter the indices so only ones for the desired branch are kept:</p>\n<pre><code>    .filter(i -&gt; Sale.allBranches.get(i).equals(branchEntered))\n</code></pre>\n</li>\n<li><p>Now look up the sale values for these indices and find the maximum value. By running <code>.max</code> on the <em>indices</em> rather than <em>sale values</em> we get the maximum <em>index</em> as a result, eliminating the need to look it up in a second pass.</p>\n<pre><code>    .boxed()\n    .max(Comparator.comparingDouble(i -&gt; Sale.allValues.get(i)))\n</code></pre>\n<p>We use <code>boxed()</code> to convert the <code>IntStream</code> to a <code>Stream&lt;Integer&gt;</code> so we can call <code>max</code> with a custom comparator. <code>IntStream</code> doesn't have the method we need.</p>\n</li>\n<li><p>If the branch has no sales there won't be a maximum sale. You can decide how you want to handle this edge case. See the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Optional.html\" rel=\"nofollow noreferrer\">Optional</a> class for the methods at your disposal. For simplicity I chose to throw an exception:</p>\n<pre><code>    .orElseThrow();\n</code></pre>\n</li>\n<li><p>Finally, the result of all of this is assigned to <code>indexOfMaxValue</code>.</p>\n<pre><code>int indexOfMaxValue = ...;\n</code></pre>\n</li>\n</ol>\n"}],"owner":{"account_id":24345909,"reputation":1,"user_id":18282491,"display_name":"Utsav Kothari"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":316,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1645567401,"creation_date":1645565010,"question_id":71228473,"body_markdown":"I wish to find the element with the highest value(from a list that contains all values) along with an additional condition that the maximum value must be from a particular branch_name(input from the user). There is a list that contains all the branches, its house number, value at which is was sold, etc.\r\n\r\nI&#39;m unable to figure out how can I add another condition(branch name) along with the maximum value.\r\n\r\n\r\n     public static void highestValueSale(){\r\n\r\n        Scanner branch = new Scanner(System.in);\r\n        System.out.println(&quot;Please eneter the name of the branch, case sensitive: &quot;);\r\n        String branchEntered = branch.nextLine();\r\n\r\n        double maxValue = Collections.max(Sale.allValues); //Finds the highest value from list of all values\r\n        int indexOfMaxValue = Sale.allValues.indexOf(maxValue); //Finds index of the highest value from list of all values\r\n        String elementOfMaxValuePostcode = (Sale.allPostcode.get(indexOfMaxValue)); // Finds the elements of same index\r\n        int elementOfMaxValueHouseNumber = Sale.allHouseNumbers.get(indexOfMaxValue); // Finds the elements of same index\r\n\r\n        System.out.println(&quot;The sale with highest value recorded is of house number &quot; + elementOfMaxValueHouseNumber +\r\n                &quot; at postcode &quot; + elementOfMaxValuePostcode + &quot;.&quot; );\r\n    }","title":"Finding maximum Value along with another condition in Java","body":"<p>I wish to find the element with the highest value(from a list that contains all values) along with an additional condition that the maximum value must be from a particular branch_name(input from the user). There is a list that contains all the branches, its house number, value at which is was sold, etc.</p>\n<p>I'm unable to figure out how can I add another condition(branch name) along with the maximum value.</p>\n<pre><code> public static void highestValueSale(){\n\n    Scanner branch = new Scanner(System.in);\n    System.out.println(&quot;Please eneter the name of the branch, case sensitive: &quot;);\n    String branchEntered = branch.nextLine();\n\n    double maxValue = Collections.max(Sale.allValues); //Finds the highest value from list of all values\n    int indexOfMaxValue = Sale.allValues.indexOf(maxValue); //Finds index of the highest value from list of all values\n    String elementOfMaxValuePostcode = (Sale.allPostcode.get(indexOfMaxValue)); // Finds the elements of same index\n    int elementOfMaxValueHouseNumber = Sale.allHouseNumbers.get(indexOfMaxValue); // Finds the elements of same index\n\n    System.out.println(&quot;The sale with highest value recorded is of house number &quot; + elementOfMaxValueHouseNumber +\n            &quot; at postcode &quot; + elementOfMaxValuePostcode + &quot;.&quot; );\n}\n</code></pre>\n"},{"tags":["java","spring-boot","elasticsearch"],"comments":[{"owner":{"account_id":5843921,"reputation":210855,"user_id":4604579,"display_name":"Val"},"score":0,"creation_date":1645519987,"post_id":71218330,"comment_id":125886382,"body_markdown":"Use `data.keyword` instead since you&#39;re doing an exact term search","body":"Use <code>data.keyword</code> instead since you&#39;re doing an exact term search"},{"owner":{"account_id":5843921,"reputation":210855,"user_id":4604579,"display_name":"Val"},"score":0,"creation_date":1645520687,"post_id":71218330,"comment_id":125886660,"body_markdown":"Can you show a document that actually has that value that you&#39;re trying to match?","body":"Can you show a document that actually has that value that you&#39;re trying to match?"},{"owner":{"account_id":8431229,"reputation":472,"user_id":6326888,"accept_rate":100,"display_name":"ProgIsMetal"},"score":0,"creation_date":1645520950,"post_id":71218330,"comment_id":125886766,"body_markdown":"@Val it worked with &quot;data.keyword&quot;. But why for the data field do I need to use &quot;.keyword&quot; and for originalTxHash I don t need to do that","body":"@Val it worked with &quot;data.keyword&quot;. But why for the data field do I need to use &quot;.keyword&quot; and for originalTxHash I don t need to do that"},{"owner":{"account_id":2262931,"reputation":600,"user_id":1992501,"display_name":"Ankur rana"},"score":1,"creation_date":1645531423,"post_id":71218330,"comment_id":125890779,"body_markdown":"understand the concept of [multifields](https://www.elastic.co/guide/en/elasticsearch/reference/6.8/multi-fields.html) in ES.  Use terms query for exact matching and match for searching tokens (in analyzed texts)","body":"understand the concept of <a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/6.8/multi-fields.html\" rel=\"nofollow noreferrer\">multifields</a> in ES.  Use terms query for exact matching and match for searching tokens (in analyzed texts)"}],"answers":[{"tags":[],"owner":{"account_id":5843921,"reputation":210855,"user_id":4604579,"display_name":"Val"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1645521365,"creation_date":1645521365,"answer_id":71218652,"question_id":71218330,"body_markdown":"Since you&#39;re trying to do an exact match on a string with a `term` query, you need to do it on the `data.keyword` field which is not analyzed. Since the `data` field is a `text` field, hence analyzed by the `standard` analyzer, not only are all letters lowercased but the `=` sign at the end also gets stripped off, so there&#39;s no way this can match (unless you use a `match` query on the `data` field but then you&#39;d not do exact matching anymore).\r\n\r\n    POST _analyze\r\n    {\r\n      &quot;analyzer&quot;: &quot;standard&quot;,\r\n      &quot;text&quot;: &quot;YWRkTGlxdWlkaXR5UHJveHlAMDAwMDAwMDAwMDAwMDAwMDA1MDBlYmQzMDRjMmYzNGE2YjNmNmE1N2MxMzNhYjdiOGM2ZjgxZGM0MDE1NTQ4M0A3ZjE1YjEwODdmMjUwNzQ4QDBjMDU0YjcwNDhlMmY5NTE1ZWE3YWU=&quot;\r\n    }\r\n\r\nResults: \r\n\r\n    {\r\n      &quot;tokens&quot; : [\r\n        {\r\n          &quot;token&quot; : &quot;ywrktglxdwlkaxr5uhjvehlamdawmdawmdawmdawmdawmda1mdblymqzmdrjmmyznge2yjnmnme1n2mxmznhyjdiogm2zjgxzgm0mde1ntq4m0a3zje1yjewoddmmjuwnzq4qdbjmdu0yjcwndhlmmy5nte1zwe3ywu&quot;,\r\n          &quot;start_offset&quot; : 0,\r\n          &quot;end_offset&quot; : 163,\r\n          &quot;type&quot; : &quot;&lt;ALPHANUM&gt;&quot;,\r\n          &quot;position&quot; : 0\r\n        }\r\n      ]\r\n    }\r\n\r\n","title":"Elastic search term query not working on a specific field","body":"<p>Since you're trying to do an exact match on a string with a <code>term</code> query, you need to do it on the <code>data.keyword</code> field which is not analyzed. Since the <code>data</code> field is a <code>text</code> field, hence analyzed by the <code>standard</code> analyzer, not only are all letters lowercased but the <code>=</code> sign at the end also gets stripped off, so there's no way this can match (unless you use a <code>match</code> query on the <code>data</code> field but then you'd not do exact matching anymore).</p>\n<pre><code>POST _analyze\n{\n  &quot;analyzer&quot;: &quot;standard&quot;,\n  &quot;text&quot;: &quot;YWRkTGlxdWlkaXR5UHJveHlAMDAwMDAwMDAwMDAwMDAwMDA1MDBlYmQzMDRjMmYzNGE2YjNmNmE1N2MxMzNhYjdiOGM2ZjgxZGM0MDE1NTQ4M0A3ZjE1YjEwODdmMjUwNzQ4QDBjMDU0YjcwNDhlMmY5NTE1ZWE3YWU=&quot;\n}\n</code></pre>\n<p>Results:</p>\n<pre><code>{\n  &quot;tokens&quot; : [\n    {\n      &quot;token&quot; : &quot;ywrktglxdwlkaxr5uhjvehlamdawmdawmdawmdawmdawmda1mdblymqzmdrjmmyznge2yjnmnme1n2mxmznhyjdiogm2zjgxzgm0mde1ntq4m0a3zje1yjewoddmmjuwnzq4qdbjmdu0yjcwndhlmmy5nte1zwe3ywu&quot;,\n      &quot;start_offset&quot; : 0,\n      &quot;end_offset&quot; : 163,\n      &quot;type&quot; : &quot;&lt;ALPHANUM&gt;&quot;,\n      &quot;position&quot; : 0\n    }\n  ]\n}\n</code></pre>\n"}],"owner":{"account_id":8431229,"reputation":472,"user_id":6326888,"accept_rate":100,"display_name":"ProgIsMetal"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":595,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71218652,"answer_count":1,"score":0,"last_activity_date":1645566823,"creation_date":1645519829,"question_id":71218330,"body_markdown":"I&#39;m new to elastic search.\r\n\r\nSo this is how the index looks:\r\n\r\n    {\r\n      &quot;scresults-000001&quot; : {\r\n        &quot;aliases&quot; : {\r\n          &quot;scresults&quot; : { }\r\n        },\r\n        &quot;mappings&quot; : {\r\n          &quot;properties&quot; : {\r\n            &quot;callType&quot; : {\r\n              &quot;type&quot; : &quot;text&quot;,\r\n              &quot;fields&quot; : {\r\n                &quot;keyword&quot; : {\r\n                  &quot;type&quot; : &quot;keyword&quot;,\r\n                  &quot;ignore_above&quot; : 256\r\n                }\r\n              }\r\n            },\r\n            &quot;code&quot; : {\r\n              &quot;type&quot; : &quot;text&quot;,\r\n              &quot;fields&quot; : {\r\n                &quot;keyword&quot; : {\r\n                  &quot;type&quot; : &quot;keyword&quot;,\r\n                  &quot;ignore_above&quot; : 256\r\n                }\r\n              }\r\n            },\r\n            &quot;data&quot; : {\r\n              &quot;type&quot; : &quot;text&quot;,\r\n              &quot;fields&quot; : {\r\n                &quot;keyword&quot; : {\r\n                  &quot;type&quot; : &quot;keyword&quot;,\r\n                  &quot;ignore_above&quot; : 256\r\n                }\r\n              }\r\n            },\r\n            &quot;esdtValues&quot; : {\r\n              &quot;type&quot; : &quot;text&quot;,\r\n              &quot;fields&quot; : {\r\n                &quot;keyword&quot; : {\r\n                  &quot;type&quot; : &quot;keyword&quot;,\r\n                  &quot;ignore_above&quot; : 256\r\n                }\r\n              }\r\n            },\r\n            &quot;gasLimit&quot; : {\r\n              &quot;type&quot; : &quot;long&quot;\r\n            },\r\n                 AND MORE OTHER Fields.......\r\n\r\n\r\nIf I&#39;m trying to create a search query in Java that looks like this:\r\n\r\n    {\r\n      &quot;bool&quot; : {\r\n        &quot;filter&quot; : [\r\n          {\r\n            &quot;term&quot; : {\r\n              &quot;sender&quot; : {\r\n                &quot;value&quot; : &quot;sendervalue&quot;,\r\n                &quot;boost&quot; : 1.0\r\n              }\r\n            }\r\n          },\r\n          {\r\n            &quot;term&quot; : {\r\n              &quot;data&quot; : {\r\n                &quot;value&quot; : &quot;YWRkTGlxdWlkaXR5UHJveHlAMDAwMDAwMDAwMDAwMDAwMDA1MDBlYmQzMDRjMmYzNGE2YjNmNmE1N2MxMzNhYjdiOGM2ZjgxZGM0MDE1NTQ4M0A3ZjE1YjEwODdmMjUwNzQ4QDBjMDU0YjcwNDhlMmY5NTE1ZWE3YWU=&quot;,\r\n                &quot;boost&quot; : 1.0\r\n              }\r\n            }\r\n          }\r\n        ],\r\n        &quot;adjust_pure_negative&quot; : true,\r\n        &quot;boost&quot; : 1.0\r\n      }\r\n    }\r\n\r\nIf I run this query I get 0 hits. If I change the field &quot;data&quot; with other field it works. I don&#39;t understand what&#39;s different.\r\n\r\nHow I actually create the query in Java+SpringBoot:\r\n\r\n    QueryBuilder boolQuery = QueryBuilders.boolQuery()\r\n            .filter(QueryBuilders.termQuery(&quot;sender&quot;, &quot;sendervalue&quot;))\r\n            .filter(QueryBuilders.termQuery(&quot;data&quot;,\r\n                    &quot;YWRkTGlxdWlkaXR5UHJveHlAMDAwMDAwMDAwMDAwMDAwMDA1MDBlYmQzMDRjMmYzNGE2YjNmNmE1N2MxMzNhYjdiOGM2ZjgxZGM0MDE1NTQ4M0A3ZjE1YjEwODdmMjUwNzQ4QDBjMDU0YjcwNDhlMmY5NTE1ZWE3YWU=&quot;));\r\n\r\n    Query searchQuery = new NativeSearchQueryBuilder()\r\n            .withFilter(boolQuery)\r\n            .build();\r\n    SearchHits&lt;ScResults&gt; articles = elasticsearchTemplate.search(searchQuery, ScResults.class);\r\n\r\n","title":"Elastic search term query not working on a specific field","body":"<p>I'm new to elastic search.</p>\n<p>So this is how the index looks:</p>\n<pre><code>{\n  &quot;scresults-000001&quot; : {\n    &quot;aliases&quot; : {\n      &quot;scresults&quot; : { }\n    },\n    &quot;mappings&quot; : {\n      &quot;properties&quot; : {\n        &quot;callType&quot; : {\n          &quot;type&quot; : &quot;text&quot;,\n          &quot;fields&quot; : {\n            &quot;keyword&quot; : {\n              &quot;type&quot; : &quot;keyword&quot;,\n              &quot;ignore_above&quot; : 256\n            }\n          }\n        },\n        &quot;code&quot; : {\n          &quot;type&quot; : &quot;text&quot;,\n          &quot;fields&quot; : {\n            &quot;keyword&quot; : {\n              &quot;type&quot; : &quot;keyword&quot;,\n              &quot;ignore_above&quot; : 256\n            }\n          }\n        },\n        &quot;data&quot; : {\n          &quot;type&quot; : &quot;text&quot;,\n          &quot;fields&quot; : {\n            &quot;keyword&quot; : {\n              &quot;type&quot; : &quot;keyword&quot;,\n              &quot;ignore_above&quot; : 256\n            }\n          }\n        },\n        &quot;esdtValues&quot; : {\n          &quot;type&quot; : &quot;text&quot;,\n          &quot;fields&quot; : {\n            &quot;keyword&quot; : {\n              &quot;type&quot; : &quot;keyword&quot;,\n              &quot;ignore_above&quot; : 256\n            }\n          }\n        },\n        &quot;gasLimit&quot; : {\n          &quot;type&quot; : &quot;long&quot;\n        },\n             AND MORE OTHER Fields.......\n</code></pre>\n<p>If I'm trying to create a search query in Java that looks like this:</p>\n<pre><code>{\n  &quot;bool&quot; : {\n    &quot;filter&quot; : [\n      {\n        &quot;term&quot; : {\n          &quot;sender&quot; : {\n            &quot;value&quot; : &quot;sendervalue&quot;,\n            &quot;boost&quot; : 1.0\n          }\n        }\n      },\n      {\n        &quot;term&quot; : {\n          &quot;data&quot; : {\n            &quot;value&quot; : &quot;YWRkTGlxdWlkaXR5UHJveHlAMDAwMDAwMDAwMDAwMDAwMDA1MDBlYmQzMDRjMmYzNGE2YjNmNmE1N2MxMzNhYjdiOGM2ZjgxZGM0MDE1NTQ4M0A3ZjE1YjEwODdmMjUwNzQ4QDBjMDU0YjcwNDhlMmY5NTE1ZWE3YWU=&quot;,\n            &quot;boost&quot; : 1.0\n          }\n        }\n      }\n    ],\n    &quot;adjust_pure_negative&quot; : true,\n    &quot;boost&quot; : 1.0\n  }\n}\n</code></pre>\n<p>If I run this query I get 0 hits. If I change the field &quot;data&quot; with other field it works. I don't understand what's different.</p>\n<p>How I actually create the query in Java+SpringBoot:</p>\n<pre><code>QueryBuilder boolQuery = QueryBuilders.boolQuery()\n        .filter(QueryBuilders.termQuery(&quot;sender&quot;, &quot;sendervalue&quot;))\n        .filter(QueryBuilders.termQuery(&quot;data&quot;,\n                &quot;YWRkTGlxdWlkaXR5UHJveHlAMDAwMDAwMDAwMDAwMDAwMDA1MDBlYmQzMDRjMmYzNGE2YjNmNmE1N2MxMzNhYjdiOGM2ZjgxZGM0MDE1NTQ4M0A3ZjE1YjEwODdmMjUwNzQ4QDBjMDU0YjcwNDhlMmY5NTE1ZWE3YWU=&quot;));\n\nQuery searchQuery = new NativeSearchQueryBuilder()\n        .withFilter(boolQuery)\n        .build();\nSearchHits&lt;ScResults&gt; articles = elasticsearchTemplate.search(searchQuery, ScResults.class);\n</code></pre>\n"},{"tags":["java","jms"],"answers":[{"tags":[],"owner":{"account_id":6139206,"reputation":1849,"user_id":4787113,"display_name":"victor gallet"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1446805276,"creation_date":1446805276,"answer_id":33564529,"question_id":33563519,"body_markdown":"I&#39;m not sure to understand your question but a queue in JMS is a Point-to-Point staging area. It ensures that messages are processed only once but it does not guarantee about order processing.\r\n\r\nIf your example you&#39;re are sending a text message to a queue `Queue` but you should do :\r\n\r\n    connection.start()\r\nto start your connection.\r\n\r\nNow, if you want to receive your message, you can do :\r\n\r\n    Context context = null;\r\n    ConnectionFactory factory = null;\r\n    Connection connection = null;\r\n    Destination destination = null;\r\n    Session session = null;\r\n    MessageConsumer receiver = null;\r\n\r\n    try {\r\n      context = new InitialContext();\r\n      factory = (ConnectionFactory) context.lookup(&quot;jms/javaee7/ConnectionFactory&quot;);\r\n      destination = (Destination) context.lookup(&quot;jms/javaee7/Queue&quot;);\r\n      connection = factory.createConnection();\r\n      session = connection.createSession(false, Session.AUTO_ACKNOWLEDGE);\r\n      receiver = session.createConsumer(destination);\r\n      connection.start();\r\n\r\n        Message message = receiver.receive();\r\n        if (message instanceof TextMessage) {\r\n          TextMessage text = (TextMessage) message;\r\n          System.out.println(&quot;received message= &quot; + text.getText());\r\n        } else if (message != null) {\r\n          System.out.println(&quot;No message in queue&quot;);\r\n        }\r\n    } catch (Exception e) {\r\n      e.printStackTrace();\r\n    } finally {\r\n      if (context != null) {\r\n        try {\r\n          context.close();\r\n        } catch (NamingException e) {\r\n          e.printStackTrace();\r\n        }\r\n      }\r\n\r\n      if (connection != null) {\r\n        try {\r\n          connection.close();\r\n        } catch (JMSException e) {\r\n          e.printStackTrace();\r\n        }\r\n      }\r\n    }\r\n    }\r\n\r\n\r\nBy the way, if you are using java 7,  you should use **The try-with-resources Statement**.\r\n\r\n ","title":"What is Queue in JMS","body":"<p>I'm not sure to understand your question but a queue in JMS is a Point-to-Point staging area. It ensures that messages are processed only once but it does not guarantee about order processing.</p>\n\n<p>If your example you're are sending a text message to a queue <code>Queue</code> but you should do :</p>\n\n<pre><code>connection.start()\n</code></pre>\n\n<p>to start your connection.</p>\n\n<p>Now, if you want to receive your message, you can do :</p>\n\n<pre><code>Context context = null;\nConnectionFactory factory = null;\nConnection connection = null;\nDestination destination = null;\nSession session = null;\nMessageConsumer receiver = null;\n\ntry {\n  context = new InitialContext();\n  factory = (ConnectionFactory) context.lookup(\"jms/javaee7/ConnectionFactory\");\n  destination = (Destination) context.lookup(\"jms/javaee7/Queue\");\n  connection = factory.createConnection();\n  session = connection.createSession(false, Session.AUTO_ACKNOWLEDGE);\n  receiver = session.createConsumer(destination);\n  connection.start();\n\n    Message message = receiver.receive();\n    if (message instanceof TextMessage) {\n      TextMessage text = (TextMessage) message;\n      System.out.println(\"received message= \" + text.getText());\n    } else if (message != null) {\n      System.out.println(\"No message in queue\");\n    }\n} catch (Exception e) {\n  e.printStackTrace();\n} finally {\n  if (context != null) {\n    try {\n      context.close();\n    } catch (NamingException e) {\n      e.printStackTrace();\n    }\n  }\n\n  if (connection != null) {\n    try {\n      connection.close();\n    } catch (JMSException e) {\n      e.printStackTrace();\n    }\n  }\n}\n}\n</code></pre>\n\n<p>By the way, if you are using java 7,  you should use <strong>The try-with-resources Statement</strong>.</p>\n"}],"owner":{"account_id":7253376,"reputation":43,"user_id":5532868,"display_name":"Wiktor Syrotin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":128,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":33564529,"answer_count":1,"score":1,"last_activity_date":1645566732,"creation_date":1446802319,"question_id":33563519,"body_markdown":"I have a task. In parameters there are queue and message. I must send message to a queue. And I don&#39;t know where in is this queue is my queue. I think that it is Destination queue? Thanks a lot.\r\n\r\n    public class Producer {\r\n        public static void main(String[] args) {\r\n            try {\r\n                // Получает контекст JNDI\r\n                Context jndiContext = new InitialContext();\r\n                // Выполняет поиск администрируемых объектов\r\n                ConnectionFactory connectionFactory = (ConnectionFactory) jndiContext.lookup(&quot;jms/javaee7/ConnectionFactory&quot; );\r\n                Destination queue = (Destination) jndiContext.lookup(&quot;jms/javaee7/Queue&quot;);\r\n                //Создает необходимые артефакты для соединения с очередью\r\n                Connection connection = connectionFactory.createConnection();\r\n                Session session = connection.createSession(false, Session.AUTO_ACKNOWLEDGE);\r\n                MessageProducer producer = session.createProducer(queue);\r\n                // Отправляет текстовое сообщение в очередь\r\n                TextMessage message = session.createTextMessage(&quot;Сообщение отправлено &quot; + new Date());\r\n                producer.send(message);\r\n                connection.close();\r\n            } catch (NamingException | JMSException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"What is Queue in JMS","body":"<p>I have a task. In parameters there are queue and message. I must send message to a queue. And I don't know where in is this queue is my queue. I think that it is Destination queue? Thanks a lot.</p>\n<pre><code>public class Producer {\n    public static void main(String[] args) {\n        try {\n            // Получает контекст JNDI\n            Context jndiContext = new InitialContext();\n            // Выполняет поиск администрируемых объектов\n            ConnectionFactory connectionFactory = (ConnectionFactory) jndiContext.lookup(&quot;jms/javaee7/ConnectionFactory&quot; );\n            Destination queue = (Destination) jndiContext.lookup(&quot;jms/javaee7/Queue&quot;);\n            //Создает необходимые артефакты для соединения с очередью\n            Connection connection = connectionFactory.createConnection();\n            Session session = connection.createSession(false, Session.AUTO_ACKNOWLEDGE);\n            MessageProducer producer = session.createProducer(queue);\n            // Отправляет текстовое сообщение в очередь\n            TextMessage message = session.createTextMessage(&quot;Сообщение отправлено &quot; + new Date());\n            producer.send(message);\n            connection.close();\n        } catch (NamingException | JMSException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","swing","accessibility"],"comments":[{"owner":{"account_id":7951471,"reputation":2465,"user_id":6002174,"display_name":"Tsundoku"},"score":1,"creation_date":1552559568,"post_id":55154650,"comment_id":97059543,"body_markdown":"The only guidance that I know of for making custom Swing components accessible is in [Building Custom Accessible Component](https://www.ibm.com/developerworks/community/wikis/home?lang=en#!/wiki/W10ef84c59396_40fb_aa66_a05ad699cda6/page/5.0%20Building%20Custom%20Accessible%20Components) in the *IBM guidelines for writing accessible applications using 100% pure java™* (2004).","body":"The only guidance that I know of for making custom Swing components accessible is in <a href=\"https://www.ibm.com/developerworks/community/wikis/home?lang=en#!/wiki/W10ef84c59396_40fb_aa66_a05ad699cda6/page/5.0%20Building%20Custom%20Accessible%20Components\" rel=\"nofollow noreferrer\">Building Custom Accessible Component</a> in the <i>IBM guidelines for writing accessible applications using 100% pure java™</i> (2004)."}],"answers":[{"tags":[],"owner":{"account_id":15481279,"reputation":9,"user_id":11168463,"display_name":"Caplin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1552711626,"creation_date":1552711626,"answer_id":55193525,"question_id":55154650,"body_markdown":"The problem turns out to be largely because of the custom components. The AccessibleJComponent class has a fallback mechanism to name controls which don&#39;t ohterwise have accessible names, but this is hard-coded to look for a JLabel and not a custom label class.\r\n\r\nThere are a few work-arounds for this, such as modifying the get/setAccessibleName methods, or switching to using the accessible description instead.\r\n\r\nThe solution in the long term is probably to use regular Swing components where possible","title":"Accessibility in a custom Swing control which apes a native one?","body":"<p>The problem turns out to be largely because of the custom components. The AccessibleJComponent class has a fallback mechanism to name controls which don't ohterwise have accessible names, but this is hard-coded to look for a JLabel and not a custom label class.</p>\n\n<p>There are a few work-arounds for this, such as modifying the get/setAccessibleName methods, or switching to using the accessible description instead.</p>\n\n<p>The solution in the long term is probably to use regular Swing components where possible</p>\n"}],"owner":{"account_id":15481279,"reputation":9,"user_id":11168463,"display_name":"Caplin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1645566368,"creation_date":1552535043,"question_id":55154650,"body_markdown":"I have a Swing custom control which serves an almost identical function to a JLabel. It&#39;s not accessible by default for people who use assistive technology, like a screen reader. I&#39;m working on the [Megamek GitHub Project][1], and trying to figure out how to associate the PMSimpleLabel class with other objects, as in the JLabel class&#39;s setLabelFor method.\r\n\r\nThe approach taken so far seems to be to more or less ape the JLabel&#39;s accessibility implementation. I&#39;m not sure if this is the right way to go about it, there seem to be some elements in the latter I&#39;m not understanding.\r\n\r\n\r\n  [1]: https://github.com/MegaMek/megamek/issues/1288","title":"Accessibility in a custom Swing control which apes a native one?","body":"<p>I have a Swing custom control which serves an almost identical function to a JLabel. It's not accessible by default for people who use assistive technology, like a screen reader. I'm working on the <a href=\"https://github.com/MegaMek/megamek/issues/1288\" rel=\"nofollow noreferrer\">Megamek GitHub Project</a>, and trying to figure out how to associate the PMSimpleLabel class with other objects, as in the JLabel class's setLabelFor method.</p>\n<p>The approach taken so far seems to be to more or less ape the JLabel's accessibility implementation. I'm not sure if this is the right way to go about it, there seem to be some elements in the latter I'm not understanding.</p>\n"},{"tags":["java","swing","jframe","jtextfield"],"owner":{"account_id":22353348,"reputation":1,"user_id":16571055,"display_name":"jacketlauncher"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1645565721,"creation_date":1645495663,"question_id":71215151,"body_markdown":"Let&#39;s say I have two different GUIs, I would like to utilize the data I gathered from one GUI for the other, such as if they input a name, I want the other GUI to only allow inputs with that name simply acting as a validation. \r\n\r\nHowever just unsure of how to do it. I&#39;ve been thinking does it have to be stored in an array list and then just simply only allow the names input, that are within that array list?","title":"How do you store data in a JTextField so it can be used by other classes?","body":"<p>Let's say I have two different GUIs, I would like to utilize the data I gathered from one GUI for the other, such as if they input a name, I want the other GUI to only allow inputs with that name simply acting as a validation.</p>\n<p>However just unsure of how to do it. I've been thinking does it have to be stored in an array list and then just simply only allow the names input, that are within that array list?</p>\n"},{"tags":["java","spring","database","spring-boot","spring-mvc"],"answers":[{"tags":[],"owner":{"account_id":23620375,"reputation":32,"user_id":17653766,"display_name":"Nalbert Wattam"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1645565714,"creation_date":1645565714,"answer_id":71228593,"question_id":71215704,"body_markdown":"When you use **scriptsRepository.save(script)** it will save the script on your Database. But if you already have a script in the database with the same ID of the one you are passing through the parameter it will not create a new one, but just update it with the information of the one you are trying to save.\r\n\r\nA Script controller (only with the update method), following REST API design, would be something like this:\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/scripts&quot;)\r\n    public class ScriptController {\r\n\r\n        @Autowired\r\n        ScriptRepository scriptRepository;\r\n\r\n        @PutMapping(&quot;/{id}&quot;)\r\n        @ResponseStatus(HttpStatus.OK)\r\n        public Script update(@RequestBody Script script, @PathVariable long id) {\r\n\r\n            if (scriptRepository.findById(id).isEmpty()) {\r\n                throw new RecordNotFoundException();\r\n            }\r\n            script.setId(id);\r\n            return scriptRepository.save(script);\r\n        }\r\n    }\r\n\r\nTo access it you would need to use the endpoint **localhost:8080/scripts/{id}** (in case you use the default Spring Boot **localhost:8080**).\r\n\r\nYou don&#39;t need to throw the exception but in case you want you would need to create a simple class like this:\r\n\r\n    import org.springframework.http.HttpStatus;\r\n    import org.springframework.web.bind.annotation.ResponseStatus;\r\n    \r\n    @ResponseStatus(HttpStatus.NOT_FOUND)\r\n    public class RecordNotFoundException extends RuntimeException {\r\n    \r\n    }\r\n\r\n","title":"How would I find the existing objects id in the database using spring boot?","body":"<p>When you use <strong>scriptsRepository.save(script)</strong> it will save the script on your Database. But if you already have a script in the database with the same ID of the one you are passing through the parameter it will not create a new one, but just update it with the information of the one you are trying to save.</p>\n<p>A Script controller (only with the update method), following REST API design, would be something like this:</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/scripts&quot;)\npublic class ScriptController {\n\n    @Autowired\n    ScriptRepository scriptRepository;\n\n    @PutMapping(&quot;/{id}&quot;)\n    @ResponseStatus(HttpStatus.OK)\n    public Script update(@RequestBody Script script, @PathVariable long id) {\n\n        if (scriptRepository.findById(id).isEmpty()) {\n            throw new RecordNotFoundException();\n        }\n        script.setId(id);\n        return scriptRepository.save(script);\n    }\n}\n</code></pre>\n<p>To access it you would need to use the endpoint <strong>localhost:8080/scripts/{id}</strong> (in case you use the default Spring Boot <strong>localhost:8080</strong>).</p>\n<p>You don't need to throw the exception but in case you want you would need to create a simple class like this:</p>\n<pre><code>import org.springframework.http.HttpStatus;\nimport org.springframework.web.bind.annotation.ResponseStatus;\n\n@ResponseStatus(HttpStatus.NOT_FOUND)\npublic class RecordNotFoundException extends RuntimeException {\n\n}\n</code></pre>\n"}],"owner":{"account_id":9139575,"reputation":141,"user_id":6797946,"display_name":"Toby"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":859,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71228593,"answer_count":1,"score":1,"last_activity_date":1645565714,"creation_date":1645502030,"question_id":71215704,"body_markdown":"The application has 2 functionalities where I can create a new script file and also edit the existing script file. The logic I have for both create and edit will basically be the same with the only major difference being that for edit instead of creating new scripts, I will have to find the existing script and override it. I am not sure how I should go finding the script by id in spring boot. \r\n\r\nHere is my create script functionality:\r\n\r\nController Class:\r\n```\r\n@Controller\r\n@RequestMapping(&quot;/api/auth/&quot;)\r\npublic class TestServerController {\r\n   @Autowired\r\n   ScriptsRepository scriptsRepository;\r\n   @Autowired\r\n   LineItemRepository lineItemRepository;\r\n   @Autowired\r\n   LineItemDataRepository lineItemDataRepository;\r\n  public TestServerController() {\r\n\r\n  }\r\n   @CrossOrigin(origins = &quot;*&quot;)\r\n   @RequestMapping(value = &quot;createScript&quot;)\r\n   public ResponseEntity&lt;?&gt; createScript(@RequestBody String body, @RequestParam String name) throws Exception {\r\n\r\n\r\n      JSONArray script = new JSONArray(body);\r\n      Scripts new_script = new Scripts(name);\r\n\r\n\r\n      scriptsRepository.save(new_script);\r\n      for (int i = 0;i&lt;script.length();i++) {\r\n\r\n         JSONObject current_line_item = (JSONObject) script.get(i);\r\n\r\n         if(!current_line_item.has(&quot;keyword&quot;)  ){\r\n            return ResponseEntity\r\n                  .badRequest()\r\n                  .body(new MessageResponse(&quot;Invalid Json Object&quot;));\r\n         }\r\n         String keyword = current_line_item.getString(&quot;keyword&quot;);\r\n         LineItem new_li = new LineItem(keyword,i);\r\n         new_li.setSid(new_script);\r\n\r\n         lineItemRepository.save(new_li);\r\n\r\n         int order = 0;\r\n         var keys = current_line_item.keys();\r\n         for (Iterator&lt;String&gt; it = keys; it.hasNext(); ) {\r\n            var key = it.next();\r\n            if(key.equals(&quot;keyword&quot;)){\r\n               continue;\r\n            }\r\n            var value = current_line_item.getString(key);\r\n            // we will need to do something about this if the column values arent strings\r\n\r\n            LineItemData vb = new LineItemData(key,value,order);\r\n            vb.setLid(new_li);\r\n            lineItemDataRepository.save(vb);\r\n            order++;\r\n\r\n         }\r\n\r\n      }\r\n\r\n      return ResponseEntity.ok(new MessageResponse(&quot;Script Uploaded Successfully&quot;));\r\n   }\r\n```\r\n\r\n\r\nFor the edit script, I was thinking to remove       ```Scripts new_script = new Scripts(name);```\r\nand use the findbyId to find the script in the database and pass that in the ```      scriptsRepository.save(new_script);```\r\n where instead of new_script, I would just have the script file using the id. This hasn&#39;t worked for me and I&#39;m getting errors. Is there another way to go about this? \r\n\r\n\r\n","title":"How would I find the existing objects id in the database using spring boot?","body":"<p>The application has 2 functionalities where I can create a new script file and also edit the existing script file. The logic I have for both create and edit will basically be the same with the only major difference being that for edit instead of creating new scripts, I will have to find the existing script and override it. I am not sure how I should go finding the script by id in spring boot.</p>\n<p>Here is my create script functionality:</p>\n<p>Controller Class:</p>\n<pre><code>@Controller\n@RequestMapping(&quot;/api/auth/&quot;)\npublic class TestServerController {\n   @Autowired\n   ScriptsRepository scriptsRepository;\n   @Autowired\n   LineItemRepository lineItemRepository;\n   @Autowired\n   LineItemDataRepository lineItemDataRepository;\n  public TestServerController() {\n\n  }\n   @CrossOrigin(origins = &quot;*&quot;)\n   @RequestMapping(value = &quot;createScript&quot;)\n   public ResponseEntity&lt;?&gt; createScript(@RequestBody String body, @RequestParam String name) throws Exception {\n\n\n      JSONArray script = new JSONArray(body);\n      Scripts new_script = new Scripts(name);\n\n\n      scriptsRepository.save(new_script);\n      for (int i = 0;i&lt;script.length();i++) {\n\n         JSONObject current_line_item = (JSONObject) script.get(i);\n\n         if(!current_line_item.has(&quot;keyword&quot;)  ){\n            return ResponseEntity\n                  .badRequest()\n                  .body(new MessageResponse(&quot;Invalid Json Object&quot;));\n         }\n         String keyword = current_line_item.getString(&quot;keyword&quot;);\n         LineItem new_li = new LineItem(keyword,i);\n         new_li.setSid(new_script);\n\n         lineItemRepository.save(new_li);\n\n         int order = 0;\n         var keys = current_line_item.keys();\n         for (Iterator&lt;String&gt; it = keys; it.hasNext(); ) {\n            var key = it.next();\n            if(key.equals(&quot;keyword&quot;)){\n               continue;\n            }\n            var value = current_line_item.getString(key);\n            // we will need to do something about this if the column values arent strings\n\n            LineItemData vb = new LineItemData(key,value,order);\n            vb.setLid(new_li);\n            lineItemDataRepository.save(vb);\n            order++;\n\n         }\n\n      }\n\n      return ResponseEntity.ok(new MessageResponse(&quot;Script Uploaded Successfully&quot;));\n   }\n</code></pre>\n<p>For the edit script, I was thinking to remove       <code>Scripts new_script = new Scripts(name);</code>\nand use the findbyId to find the script in the database and pass that in the <code>      scriptsRepository.save(new_script);</code>\nwhere instead of new_script, I would just have the script file using the id. This hasn't worked for me and I'm getting errors. Is there another way to go about this?</p>\n"},{"tags":["java","spring-cloud","spring-cloud-netflix"],"comments":[{"owner":{"account_id":20707648,"reputation":177,"user_id":15205097,"display_name":"Charlie Clarke"},"score":0,"creation_date":1645565903,"post_id":71228586,"comment_id":125904693,"body_markdown":"I am using the @EnableHysterix annotation on my application class","body":"I am using the @EnableHysterix annotation on my application class"},{"owner":{"account_id":1368060,"reputation":24601,"user_id":2730527,"display_name":"spencergibb"},"score":1,"creation_date":1645566740,"post_id":71228586,"comment_id":125904976,"body_markdown":"I don&#39;t the AOP for `@HystrixCommand` works on private methods. It needs to be in another class. Or put it on  `submitNewReport`","body":"I don&#39;t the AOP for <code>@HystrixCommand</code> works on private methods. It needs to be in another class. Or put it on  <code>submitNewReport</code>"},{"owner":{"account_id":20707648,"reputation":177,"user_id":15205097,"display_name":"Charlie Clarke"},"score":0,"creation_date":1645636776,"post_id":71228586,"comment_id":125927301,"body_markdown":"Thank you, I moved the getValidationResponse to another class and is now working","body":"Thank you, I moved the getValidationResponse to another class and is now working"}],"owner":{"account_id":20707648,"reputation":177,"user_id":15205097,"display_name":"Charlie Clarke"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":181,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1645565685,"creation_date":1645565685,"question_id":71228586,"body_markdown":"I&#39;m trying to do a very basic example of using hysterix to call a fallback service on failure of the main service. However, when my main service is not available, I just receive a 502 and the running fallback service isn&#39;t called.\r\n\r\n\r\n    import com.morpheus.reportapi.api.ReportInfo;\r\n    import com.morpheus.reportapi.api.ReportValidResponse;\r\n    import com.netflix.hystrix.contrib.javanica.annotation.HystrixCommand;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.http.HttpHeaders;\r\n    import org.springframework.http.MediaType;\r\n    import org.springframework.stereotype.Service;\r\n    import org.springframework.web.reactive.function.client.WebClient;\r\n    import reactor.core.publisher.Mono;\r\n\r\n    @Service\r\n    public class ReportService {\r\n\r\n    WebClient masterValidationClient = WebClient.create(&quot;&lt;main-service-url&gt;&quot;);\r\n    WebClient fallbackValidationClient = WebClient.create(&quot;&lt;fallback-service-url&quot;);\r\n\r\n    public boolean submitNewReport(ReportInfo reportInfo) {\r\n        ReportValidResponse areReportFieldsValid = getValidationResponse(reportInfo);\r\n        if (!areReportFieldsValid.isValid()) {\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n\r\n    @HystrixCommand(fallbackMethod = &quot;fallbackGetValidationResponse&quot;)\r\n    private ReportValidResponse getValidationResponse(ReportInfo reportInfo) {\r\n        return masterValidationClient.post().\r\n                uri(&quot;/validation&quot;)\r\n                .header(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_JSON_VALUE)\r\n                .body(Mono.just(reportInfo), ReportInfo.class)\r\n                .retrieve()\r\n                .bodyToMono(ReportValidResponse.class)\r\n                .block();\r\n    }\r\n\r\n    private ReportValidResponse fallbackGetValidationResponse(ReportInfo reportInfo) {\r\n        return fallbackValidationClient.post().\r\n                uri(&quot;/validation&quot;)\r\n                .header(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_JSON_VALUE)\r\n                .body(Mono.just(reportInfo), ReportInfo.class)\r\n                .retrieve()\r\n                .bodyToMono(ReportValidResponse.class)\r\n                .block();\r\n    }\r\n    }\r\n\r\n","title":"Spring Netflix Hysterix - not calling fallback method on failure","body":"<p>I'm trying to do a very basic example of using hysterix to call a fallback service on failure of the main service. However, when my main service is not available, I just receive a 502 and the running fallback service isn't called.</p>\n<pre><code>import com.morpheus.reportapi.api.ReportInfo;\nimport com.morpheus.reportapi.api.ReportValidResponse;\nimport com.netflix.hystrix.contrib.javanica.annotation.HystrixCommand;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.HttpHeaders;\nimport org.springframework.http.MediaType;\nimport org.springframework.stereotype.Service;\nimport org.springframework.web.reactive.function.client.WebClient;\nimport reactor.core.publisher.Mono;\n\n@Service\npublic class ReportService {\n\nWebClient masterValidationClient = WebClient.create(&quot;&lt;main-service-url&gt;&quot;);\nWebClient fallbackValidationClient = WebClient.create(&quot;&lt;fallback-service-url&quot;);\n\npublic boolean submitNewReport(ReportInfo reportInfo) {\n    ReportValidResponse areReportFieldsValid = getValidationResponse(reportInfo);\n    if (!areReportFieldsValid.isValid()) {\n        return false;\n    }\n    return true;\n}\n\n@HystrixCommand(fallbackMethod = &quot;fallbackGetValidationResponse&quot;)\nprivate ReportValidResponse getValidationResponse(ReportInfo reportInfo) {\n    return masterValidationClient.post().\n            uri(&quot;/validation&quot;)\n            .header(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_JSON_VALUE)\n            .body(Mono.just(reportInfo), ReportInfo.class)\n            .retrieve()\n            .bodyToMono(ReportValidResponse.class)\n            .block();\n}\n\nprivate ReportValidResponse fallbackGetValidationResponse(ReportInfo reportInfo) {\n    return fallbackValidationClient.post().\n            uri(&quot;/validation&quot;)\n            .header(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_JSON_VALUE)\n            .body(Mono.just(reportInfo), ReportInfo.class)\n            .retrieve()\n            .bodyToMono(ReportValidResponse.class)\n            .block();\n}\n}\n</code></pre>\n"},{"tags":["java","interface"],"comments":[{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1644712719,"post_id":71096483,"comment_id":125679628,"body_markdown":"`Jump jump = new Test();` is fine.  What do you see if you code `jump.greeting()`?","body":"<code>Jump jump = new Test();</code> is fine.  What do you see if you code <code>jump.greeting()</code>?"}],"answers":[{"tags":[],"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1644706487,"creation_date":1644706487,"answer_id":71096531,"question_id":71096483,"body_markdown":"Why wouldn&#39;t this work?  It doesn&#39;t matter what the variable is defined as; its internal implementation will work the same.  You could write\r\n\r\n```\r\npublic static void main(String[] args) {\r\n  new Test();\r\n}\r\n```\r\n\r\nYou don&#39;t have to assign it to any variable.  There&#39;s no typo in that code; it&#39;ll work; it&#39;ll print `greeting from Climb interface`.\r\n\r\n","title":"java interface reference type object can acess other interface memeber in same classe even it not defined inside it?","body":"<p>Why wouldn't this work?  It doesn't matter what the variable is defined as; its internal implementation will work the same.  You could write</p>\n<pre><code>public static void main(String[] args) {\n  new Test();\n}\n</code></pre>\n<p>You don't have to assign it to any variable.  There's no typo in that code; it'll work; it'll print <code>greeting from Climb interface</code>.</p>\n"}],"owner":{"account_id":21479801,"reputation":1,"user_id":15827373,"display_name":"Hamoud.Chorfa"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1645565680,"creation_date":1644705931,"question_id":71096483,"body_markdown":"If I understand this correctly, the reference type determines which member can be accessed (compile time) while the object type determines which member will be used (runtime).\r\n\r\nI have class that implements two interfaces. These interfaces are not related (no inheritance relation allowing one to extends member of the other).\r\n\r\nOne interface when used as reference type of an object can access a method inside the other method.\r\n\r\n```\r\ninterface Jump { \r\n    // this one do not define anything\r\n}\r\n\r\ninterface Climb {\r\n    default void greeting(){\r\n        System.out.println(&quot;greeting from Climb interface&quot;);\r\n    }\r\n}\r\n\r\npublic class Test implements Jump, Climb {\r\n    public Test(){\r\n        greeting();\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        Climb climb = new Test(); // this is clear that will call default method in Climb\r\n        Jump jump = new Test(); // but why this did compile and print method defined in Jump ?!!!\r\n    }\r\n}\r\n```\r\n\r\nThe object with reference type `Jump` interface is assumed to access the member in this interface. And the interfaces are not related. What is going on?\r\n\r\n","title":"java interface reference type object can acess other interface memeber in same classe even it not defined inside it?","body":"<p>If I understand this correctly, the reference type determines which member can be accessed (compile time) while the object type determines which member will be used (runtime).</p>\n<p>I have class that implements two interfaces. These interfaces are not related (no inheritance relation allowing one to extends member of the other).</p>\n<p>One interface when used as reference type of an object can access a method inside the other method.</p>\n<pre><code>interface Jump { \n    // this one do not define anything\n}\n\ninterface Climb {\n    default void greeting(){\n        System.out.println(&quot;greeting from Climb interface&quot;);\n    }\n}\n\npublic class Test implements Jump, Climb {\n    public Test(){\n        greeting();\n    }\n\n    public static void main(String[] args) {\n        Climb climb = new Test(); // this is clear that will call default method in Climb\n        Jump jump = new Test(); // but why this did compile and print method defined in Jump ?!!!\n    }\n}\n</code></pre>\n<p>The object with reference type <code>Jump</code> interface is assumed to access the member in this interface. And the interfaces are not related. What is going on?</p>\n"},{"tags":["java","gradle","intellij-idea"],"comments":[{"owner":{"account_id":36734,"reputation":392127,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1589487262,"post_id":61806532,"comment_id":109322701,"body_markdown":"Any related errors in [idea.log](https://intellij-support.jetbrains.com/hc/articles/207241085)? Please also share [a screenshot with your Gradle settings](https://i.imgur.com/dgN2UKF.png).","body":"Any related errors in <a href=\"https://intellij-support.jetbrains.com/hc/articles/207241085\" rel=\"nofollow noreferrer\">idea.log</a>? Please also share <a href=\"https://i.imgur.com/dgN2UKF.png\" rel=\"nofollow noreferrer\">a screenshot with your Gradle settings</a>."},{"owner":{"account_id":96001,"reputation":35081,"user_id":261159,"accept_rate":73,"display_name":"Gregg"},"score":0,"creation_date":1589487863,"post_id":61806532,"comment_id":109322999,"body_markdown":"Updated with the requested info","body":"Updated with the requested info"},{"owner":{"account_id":36734,"reputation":392127,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1589488002,"post_id":61806532,"comment_id":109323061,"body_markdown":"How does the JDK configuration look like? Where do you have Java installed? See https://youtrack.jetbrains.com/issue/IDEA-218786 for the related issue. Does it help if you specify Java 11 for Gradle? See also https://youtrack.jetbrains.com/issue/IDEA-239878#focus=streamItem-27-4131212.0-0.","body":"How does the JDK configuration look like? Where do you have Java installed? See <a href=\"https://youtrack.jetbrains.com/issue/IDEA-218786\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/IDEA-218786</a> for the related issue. Does it help if you specify Java 11 for Gradle? See also <a href=\"https://youtrack.jetbrains.com/issue/IDEA-239878#focus=streamItem-27-4131212.0-0\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/&hellip;</a>."},{"owner":{"account_id":96001,"reputation":35081,"user_id":261159,"accept_rate":73,"display_name":"Gregg"},"score":0,"creation_date":1589488364,"post_id":61806532,"comment_id":109323226,"body_markdown":"This indeed was the problem and the solution. Not sure when/how this started happening, but thanks!\n\nhttps://youtrack.jetbrains.com/issue/IDEA-239878#focus=streamItem-27-4131212.0-0","body":"This indeed was the problem and the solution. Not sure when/how this started happening, but thanks!  <a href=\"https://youtrack.jetbrains.com/issue/IDEA-239878#focus=streamItem-27-4131212.0-0\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":36734,"reputation":392127,"user_id":104891,"display_name":"CrazyCoder"},"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1589488501,"creation_date":1589488501,"answer_id":61806948,"question_id":61806532,"body_markdown":"The issue is likely caused by the incorrect Java home path specified for the JDK in IntelliJ IDEA. Make sure it points to the correct location like this:\r\n\r\n```\r\n/Users/rob/.sdkman/candidates/java/14.0.1-zulu/zulu-14.jdk/Contents/Home\r\n```\r\n\r\nOn macOS `/Contents/Home` part of the path is significant.\r\n","title":"Gradle Sync Failure in Fresh IntelliJ IDEA Install","body":"<p>The issue is likely caused by the incorrect Java home path specified for the JDK in IntelliJ IDEA. Make sure it points to the correct location like this:</p>\n\n<pre><code>/Users/rob/.sdkman/candidates/java/14.0.1-zulu/zulu-14.jdk/Contents/Home\n</code></pre>\n\n<p>On macOS <code>/Contents/Home</code> part of the path is significant.</p>\n"},{"tags":[],"owner":{"account_id":5060517,"reputation":1312,"user_id":4062292,"display_name":"Fernando Nogueira"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645565636,"creation_date":1645565636,"answer_id":71228577,"question_id":61806532,"body_markdown":"If some one are using macos with Sdkman use this version:  `sdk install java 8.0.322-librca` for sdk 1.8 or other correlated version from librca, because sdk fom zulu i always had this same problema in intellij idea with java/kotlin and gradlew...","title":"Gradle Sync Failure in Fresh IntelliJ IDEA Install","body":"<p>If some one are using macos with Sdkman use this version:  <code>sdk install java 8.0.322-librca</code> for sdk 1.8 or other correlated version from librca, because sdk fom zulu i always had this same problema in intellij idea with java/kotlin and gradlew...</p>\n"}],"owner":{"account_id":96001,"reputation":35081,"user_id":261159,"accept_rate":73,"display_name":"Gregg"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9493,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":61806948,"answer_count":2,"score":6,"last_activity_date":1645565636,"creation_date":1589486911,"question_id":61806532,"body_markdown":"I have a new MBP (16&quot; 2019). Downloaded a fresh copy of IntelliJ IDEA Ultimate 2020.1.1. Used SDKMan to install Java 11-zulu and latest Gradle, 6.4. Went to File-&gt;New-Project and chose Gradle. When it loads, I get a Sync error and gradle won&#39;t process in IntelliJ correctly. Everything works fine from the CLI. I tried with importing an existing gradle project, different Java and Gradle versions, all give the same vague error.\r\n\r\nidea.log\r\n\r\n&gt; Caused by:\r\n&gt; org.gradle.launcher.daemon.client.DaemonConnectionException: The newly\r\n&gt; created daemon process has a different context than expected. It won&#39;t\r\n&gt; be possible to reconnect to this daemon. Context mismatch: Java home\r\n&gt; is different.\r\n\r\nI&#39;ve seen other questions about this but none of those solutions are working for me and I&#39;ve never had this issue before, 10 years of using IDEA on OSX.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ib3x6.png\r\n  [2]: https://i.stack.imgur.com/V763g.png","title":"Gradle Sync Failure in Fresh IntelliJ IDEA Install","body":"<p>I have a new MBP (16\" 2019). Downloaded a fresh copy of IntelliJ IDEA Ultimate 2020.1.1. Used SDKMan to install Java 11-zulu and latest Gradle, 6.4. Went to File->New-Project and chose Gradle. When it loads, I get a Sync error and gradle won't process in IntelliJ correctly. Everything works fine from the CLI. I tried with importing an existing gradle project, different Java and Gradle versions, all give the same vague error.</p>\n\n<p>idea.log</p>\n\n<blockquote>\n  <p>Caused by:\n  org.gradle.launcher.daemon.client.DaemonConnectionException: The newly\n  created daemon process has a different context than expected. It won't\n  be possible to reconnect to this daemon. Context mismatch: Java home\n  is different.</p>\n</blockquote>\n\n<p>I've seen other questions about this but none of those solutions are working for me and I've never had this issue before, 10 years of using IDEA on OSX.</p>\n\n<p><a href=\"https://i.stack.imgur.com/ib3x6.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/ib3x6.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/V763g.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/V763g.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":["java","discord","discord-jda"],"answers":[{"tags":[],"owner":{"account_id":16432809,"reputation":320,"user_id":11871203,"display_name":"Redi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645565553,"creation_date":1645565553,"answer_id":71228566,"question_id":70999683,"body_markdown":"I tried your code, and it worked the first time I was executing the code. The second time it did not work and threw me a NPE. I quickly found out that the issue you have is that you are trying to print out the Role-ID even if the role already exists. Note that you only assign the role to the variables `role1` or `role2` if the role does not exist.\r\n\r\nSo to fix this, you could either return after the printing that the role already exists or just assigning the existing role to the variable.\r\n\r\nAn example implementation of that would be:\r\n```java\r\nString content = e.getMessage().getContentRaw();\r\nTextChannel channel = e.getTextChannel();\r\n\r\nRole role1 = null;\r\nRole role2 = null;\r\n\r\n\tif (content.equalsIgnoreCase(&quot;$addrole&quot;)) {\r\n\t\tchannel.sendMessage(&quot;Please select the role you want!\\n\\n\\u2694\\uFE0F\\tFighter\\n\\uD83D\\uDEE1\\tTank&quot;)\r\n\t\t\t\t\t.queue(message -&gt; {\r\n\t\t\t\t\t\tmessage.addReaction(&quot;\\u2694\\uFE0F&quot;).queue();\r\n\t\t\t\t\t\tmessage.addReaction(&quot;\\uD83D\\uDEE1&quot;).queue();\r\n\t\t\t\t\t});\r\n\r\n\t\tif (e.getGuild().getRolesByName(&quot;fighter&quot;, true).isEmpty()) {\r\n\t\t\trole1 = e.getGuild().createRole().setName(&quot;fighter&quot;).setPermissions(0L).complete();\r\n\t\t} else {\r\n\t\t\trole1 = e.getGuild().getRolesByName(&quot;fighter&quot;, true).get(0);\r\n\t\t}\r\n\t\tif (e.getGuild().getRolesByName(&quot;tank&quot;, true).isEmpty()) {\r\n\t\t\trole2 = e.getGuild().createRole().setName(&quot;tank&quot;).setPermissions(0L).complete();\r\n\t\t} else {\r\n\t\t\trole2 = e.getGuild().getRolesByName(&quot;tank&quot;, true).get(0);\r\n\t\t}\r\n\r\n\t\tSystem.out.println(&quot;Role1 ID is: &quot; + role1.getId());\r\n\t\tSystem.out.println(&quot;Role2 ID is: &quot; + role2.getId());\r\n\t}\r\n```","title":"Role handling in JDA Java Discord API","body":"<p>I tried your code, and it worked the first time I was executing the code. The second time it did not work and threw me a NPE. I quickly found out that the issue you have is that you are trying to print out the Role-ID even if the role already exists. Note that you only assign the role to the variables <code>role1</code> or <code>role2</code> if the role does not exist.</p>\n<p>So to fix this, you could either return after the printing that the role already exists or just assigning the existing role to the variable.</p>\n<p>An example implementation of that would be:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String content = e.getMessage().getContentRaw();\nTextChannel channel = e.getTextChannel();\n\nRole role1 = null;\nRole role2 = null;\n\n    if (content.equalsIgnoreCase(&quot;$addrole&quot;)) {\n        channel.sendMessage(&quot;Please select the role you want!\\n\\n\\u2694\\uFE0F\\tFighter\\n\\uD83D\\uDEE1\\tTank&quot;)\n                    .queue(message -&gt; {\n                        message.addReaction(&quot;\\u2694\\uFE0F&quot;).queue();\n                        message.addReaction(&quot;\\uD83D\\uDEE1&quot;).queue();\n                    });\n\n        if (e.getGuild().getRolesByName(&quot;fighter&quot;, true).isEmpty()) {\n            role1 = e.getGuild().createRole().setName(&quot;fighter&quot;).setPermissions(0L).complete();\n        } else {\n            role1 = e.getGuild().getRolesByName(&quot;fighter&quot;, true).get(0);\n        }\n        if (e.getGuild().getRolesByName(&quot;tank&quot;, true).isEmpty()) {\n            role2 = e.getGuild().createRole().setName(&quot;tank&quot;).setPermissions(0L).complete();\n        } else {\n            role2 = e.getGuild().getRolesByName(&quot;tank&quot;, true).get(0);\n        }\n\n        System.out.println(&quot;Role1 ID is: &quot; + role1.getId());\n        System.out.println(&quot;Role2 ID is: &quot; + role2.getId());\n    }\n</code></pre>\n"}],"owner":{"account_id":15297637,"reputation":67,"user_id":11037145,"display_name":"Turwaith"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":238,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1645565553,"creation_date":1644077067,"question_id":70999683,"body_markdown":"I&#39;m learning Java at the moment by coding a discord bot using JDA. Now I just can&#39;t figure what my mistake is using the Role entitiy.\r\n```java\r\n    if (content.equalsIgnoreCase(&quot;$addrole&quot;)){\r\n            channel.sendMessage(&quot;Please select the role you want!\\n\\n\\u2694\\uFE0F\\tFighter\\n\\uD83D\\uDEE1\\tTank&quot;).queue(message -&gt; {\r\n                message.addReaction(&quot;\\u2694\\uFE0F&quot;).queue();\r\n                message.addReaction(&quot;\\uD83D\\uDEE1&quot;).queue();\r\n            });\r\n\r\n            //Role role = event.getGuild().getRolesByName(&quot;@everyone&quot;, true).get(0);\r\n\r\n            if (event.getGuild().getRolesByName(&quot;fighter&quot;, true).isEmpty()){\r\n                role1 = event.getGuild().createRole().setName(&quot;Fighter&quot;).setPermissions(0L).complete();\r\n            } else {\r\n                System.out.println(&quot;Role already exists&quot;);\r\n            }\r\n            if (event.getGuild().getRolesByName(&quot;tank&quot;, true).isEmpty()){\r\n                role2 = event.getGuild().createRole().setName(&quot;Tank&quot;).setPermissions(0L).complete();\r\n            } else {\r\n                System.out.println(&quot;Role already exists&quot;);\r\n            }\r\n\r\n            System.out.println(&quot;Role1 ID is: &quot; + role1.getId());\r\n            System.out.println(&quot;Role2 ID is: &quot; + role2.getId());\r\n        }\r\n```\r\nI do create role1 and role2 as empty objects at the beginning of my MessageListener using `Role role1;` and `Role role2;`.\r\n\r\nNow when executing the command $addrole, the message appears and the roles are created, but I can&#39;t use role1 and role2. Whenever I try to call them e.g. in `System.out.println(&quot;Role1 ID is: &quot; + role1.getId());` I get a load of errors including a nullpointer exception saying that &quot;this.role1 is null&quot;. I just can&#39;t find my mistake.","title":"Role handling in JDA Java Discord API","body":"<p>I'm learning Java at the moment by coding a discord bot using JDA. Now I just can't figure what my mistake is using the Role entitiy.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    if (content.equalsIgnoreCase(&quot;$addrole&quot;)){\n            channel.sendMessage(&quot;Please select the role you want!\\n\\n\\u2694\\uFE0F\\tFighter\\n\\uD83D\\uDEE1\\tTank&quot;).queue(message -&gt; {\n                message.addReaction(&quot;\\u2694\\uFE0F&quot;).queue();\n                message.addReaction(&quot;\\uD83D\\uDEE1&quot;).queue();\n            });\n\n            //Role role = event.getGuild().getRolesByName(&quot;@everyone&quot;, true).get(0);\n\n            if (event.getGuild().getRolesByName(&quot;fighter&quot;, true).isEmpty()){\n                role1 = event.getGuild().createRole().setName(&quot;Fighter&quot;).setPermissions(0L).complete();\n            } else {\n                System.out.println(&quot;Role already exists&quot;);\n            }\n            if (event.getGuild().getRolesByName(&quot;tank&quot;, true).isEmpty()){\n                role2 = event.getGuild().createRole().setName(&quot;Tank&quot;).setPermissions(0L).complete();\n            } else {\n                System.out.println(&quot;Role already exists&quot;);\n            }\n\n            System.out.println(&quot;Role1 ID is: &quot; + role1.getId());\n            System.out.println(&quot;Role2 ID is: &quot; + role2.getId());\n        }\n</code></pre>\n<p>I do create role1 and role2 as empty objects at the beginning of my MessageListener using <code>Role role1;</code> and <code>Role role2;</code>.</p>\n<p>Now when executing the command $addrole, the message appears and the roles are created, but I can't use role1 and role2. Whenever I try to call them e.g. in <code>System.out.println(&quot;Role1 ID is: &quot; + role1.getId());</code> I get a load of errors including a nullpointer exception saying that &quot;this.role1 is null&quot;. I just can't find my mistake.</p>\n"},{"tags":["java","android","kotlin","dns","apn"],"owner":{"account_id":14621000,"reputation":1,"user_id":10559688,"display_name":"AmirHossin TaghiPour"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1645565452,"creation_date":1645565452,"question_id":71228545,"body_markdown":"how can I check some android properties like APN protocol setting in the easiest way?\r\nI want to check APN protocol and see if IPv6 is enabled warn the user\r\nI tried some ways such as checking the DNS but can&#39;t check DNS properly.","title":"check android APN protocol","body":"<p>how can I check some android properties like APN protocol setting in the easiest way?\nI want to check APN protocol and see if IPv6 is enabled warn the user\nI tried some ways such as checking the DNS but can't check DNS properly.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"score":0,"creation_date":1645567475,"post_id":71228542,"comment_id":125905213,"body_markdown":"Unable to reproduce this issue, [check this online demo](https://www.jdoodle.com/iembed/v0/nyV) using Java 17","body":"Unable to reproduce this issue, <a href=\"https://www.jdoodle.com/iembed/v0/nyV\" rel=\"nofollow noreferrer\">check this online demo</a> using Java 17"},{"owner":{"account_id":1100252,"reputation":10087,"user_id":1092818,"display_name":"crizzis"},"score":0,"creation_date":1672314054,"post_id":71228542,"comment_id":132264870,"body_markdown":"I know this is an old question, but would you happen to be using Corretto? I think there&#39;s a bug in their compiler","body":"I know this is an old question, but would you happen to be using Corretto? I think there&#39;s a bug in their compiler"}],"owner":{"account_id":5681174,"reputation":1,"user_id":4492337,"display_name":"marcin.ciapa"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":412,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1645565444,"creation_date":1645565444,"question_id":71228542,"body_markdown":"Is it possible to create a record with a custom accessor for a generic component? I get a compilation when I try:\r\n```\r\njava: invalid accessor method in record SearchResult\r\n  (return type of accessor method results() must match the type of record component results)\r\n```\r\n\r\nHere&#39;s the code:\r\n```java\r\npublic record SearchResult&lt;T&gt;(String nextPageId, List&lt;T&gt; results) {\r\n\r\n    public SearchResult {\r\n        requireNonNull(nextPageId);\r\n    }\r\n\r\n    public List&lt;T&gt; results() {\r\n        return unmodifiableList(results);\r\n    }\r\n}\r\n```\r\n```","title":"Custom accessor for record&#39;s generic component","body":"<p>Is it possible to create a record with a custom accessor for a generic component? I get a compilation when I try:</p>\n<pre><code>java: invalid accessor method in record SearchResult\n  (return type of accessor method results() must match the type of record component results)\n</code></pre>\n<p>Here's the code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public record SearchResult&lt;T&gt;(String nextPageId, List&lt;T&gt; results) {\n\n    public SearchResult {\n        requireNonNull(nextPageId);\n    }\n\n    public List&lt;T&gt; results() {\n        return unmodifiableList(results);\n    }\n}\n</code></pre>\n<pre><code></code></pre>\n"},{"tags":["java","if-statement"],"comments":[{"owner":{"account_id":7369804,"reputation":1147,"user_id":5610358,"display_name":"rhowell"},"score":0,"creation_date":1645565426,"post_id":71228514,"comment_id":125904556,"body_markdown":"what&#39;s the question","body":"what&#39;s the question"},{"owner":{"account_id":24241148,"reputation":15,"user_id":18193499,"display_name":"Ddddd12312"},"score":0,"creation_date":1645565618,"post_id":71228514,"comment_id":125904606,"body_markdown":"How do I use what the user inputs, for example, user inputs BTC, to create a statement that returns the Balance of BTC. E.g., cryptoNameTBF == BTC leads to System.out.println(&quot;1.3426&quot;);","body":"How do I use what the user inputs, for example, user inputs BTC, to create a statement that returns the Balance of BTC. E.g., cryptoNameTBF == BTC leads to System.out.println(&quot;1.3426&quot;);"},{"owner":{"account_id":1928650,"reputation":894,"user_id":1738539,"accept_rate":0,"display_name":"user1738539"},"score":0,"creation_date":1645565702,"post_id":71228514,"comment_id":125904627,"body_markdown":"Do these two lines work as intended? `String[] cryptoName = readCryptoNames();` `double[] cryptoBalance = readCryptoBalance();` ? If so then you can just find the index of the crypto in the first array and get that same index in the second array. Really you shouldn&#39;t need to read the file like that into two different arrays with multiple buffered readers.. You can use `Files.lines` to easily read each line of your text, split on space and store key/value into a Map.","body":"Do these two lines work as intended? <code>String[] cryptoName = readCryptoNames();</code> <code>double[] cryptoBalance = readCryptoBalance();</code> ? If so then you can just find the index of the crypto in the first array and get that same index in the second array. Really you shouldn&#39;t need to read the file like that into two different arrays with multiple buffered readers.. You can use <code>Files.lines</code> to easily read each line of your text, split on space and store key/value into a Map."},{"owner":{"account_id":24241148,"reputation":15,"user_id":18193499,"display_name":"Ddddd12312"},"score":0,"creation_date":1645565829,"post_id":71228514,"comment_id":125904667,"body_markdown":"@user1738539 that is exactly what I want to do! I am just having trouble implementing it","body":"@user1738539 that is exactly what I want to do! I am just having trouble implementing it"},{"owner":{"account_id":1928650,"reputation":894,"user_id":1738539,"accept_rate":0,"display_name":"user1738539"},"score":0,"creation_date":1645566423,"post_id":71228514,"comment_id":125904844,"body_markdown":"it&#39;s a very simple for loop: for (int i = 0; i &lt; cryptoName.length; i++) {\n            if (cryptoName[i].equals(cryptoNameTBF)) {\n                System.out.println(&quot;Your balance of &quot; + cryptoName[i] + &quot; is &quot; + cryptoBalance[i]);\n                return;\n            }\n        }","body":"it&#39;s a very simple for loop: for (int i = 0; i &lt; cryptoName.length; i++) {             if (cryptoName[i].equals(cryptoNameTBF)) {                 System.out.println(&quot;Your balance of &quot; + cryptoName[i] + &quot; is &quot; + cryptoBalance[i]);                 return;             }         }"},{"owner":{"account_id":24241148,"reputation":15,"user_id":18193499,"display_name":"Ddddd12312"},"score":0,"creation_date":1645566991,"post_id":71228514,"comment_id":125905064,"body_markdown":"That is extremely simple and would be exactly what I need, however, when I use a &quot;for&quot; statement, I get a ton of errors saying &quot;Cannot resolve method &#39;readCryptoNames&#39; in &#39;Main&quot;. I honestly do not know how to resolve this issue (I am new to Java).","body":"That is extremely simple and would be exactly what I need, however, when I use a &quot;for&quot; statement, I get a ton of errors saying &quot;Cannot resolve method &#39;readCryptoNames&#39; in &#39;Main&quot;. I honestly do not know how to resolve this issue (I am new to Java)."},{"owner":{"account_id":24241148,"reputation":15,"user_id":18193499,"display_name":"Ddddd12312"},"score":0,"creation_date":1645567407,"post_id":71228514,"comment_id":125905196,"body_markdown":"Actually &quot;for&quot; statements are fine, the issue is with &quot;if (cryptoName[i].equals(cryptoNameTBF)&quot;","body":"Actually &quot;for&quot; statements are fine, the issue is with &quot;if (cryptoName[i].equals(cryptoNameTBF)&quot;"}],"owner":{"account_id":24241148,"reputation":15,"user_id":18193499,"display_name":"Ddddd12312"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1645565699,"answer_count":0,"score":0,"last_activity_date":1645565238,"creation_date":1645565238,"question_id":71228514,"body_markdown":"I am working on a project for Uni that involves a program reading a .txt file with information regarding cryptos. \r\n\r\nI am currently stuck on the lookupBalance() section. My goal is to have a user input which crypto they would like to see the balance of, and use that input to provide them a balance of that crypto. I have tried tons of different things and cant seem to get it right. For example, if the user inputs &quot;BTC&quot;, I want the program to provide &quot;1.3426&quot;.\r\n\r\nMy .txt file contains what is in the attached .png [enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/RKBKW.png\r\n\r\n\r\n    public class Main {\r\n    static Scanner userInputInt = new Scanner(System.in);\r\n    static Scanner userInputString = new Scanner(System.in);\r\n    static Scanner userInputDouble = new Scanner(System.in);\r\n\r\n    public static void main(String[] args) {\r\n        int userChoice = getUserChoice();\r\n        switch (userChoice) {\r\n            case 1:\r\n                viewWallet();\r\n                break;\r\n             case 2:\r\n                lookupBalance();\r\n                break;\r\n        }\r\n    }\r\n\r\n    // This method asks and returns what the user wants to do\r\n    public static int getUserChoice() {\r\n        System.out.println(&quot;****************************************************************&quot;);\r\n        System.out.println(&quot;****************************************************************&quot;);\r\n        System.out.println(&quot;************ Crypto Wallet **********&quot;);\r\n        System.out.println(&quot;****************************************************************&quot;);\r\n        System.out.println(&quot;****************************************************************&quot;);\r\n        System.out.println(&quot;&quot;);\r\n        System.out.println(&quot;What do you want to do?&quot;);\r\n        System.out.println(&quot;(1) View wallet&quot;);\r\n        System.out.println(&quot;(2) Look up the balance of a given crypto&quot;);\r\n        System.out.println(&quot;(3) Add new cryptos&quot;);\r\n        System.out.println(&quot;(4) Remove an existing crypto&quot;);\r\n        System.out.println(&quot;(5) Update wallet&quot;);\r\n        System.out.println(&quot;****************************************************************&quot;);\r\n        System.out.print(&quot;Please enter your choice (1, 2, 3, 4, or 5): &quot;);\r\n        return userInputInt.nextInt();\r\n    }\r\n\r\n    // This method is called for user choice 1\r\n    public static void viewWallet() {\r\n        String[] cryptoName = readCryptoNames();\r\n        double[] cryptoBalance = readCryptoBalance();\r\n        System.out.println(&quot;Crypto in portfolio &quot; + Arrays.toString(cryptoName) + &quot; Balance of crypto &quot; +  Arrays.toString(readCryptoBalance()));\r\n        }\r\n\r\n    // This method is called for user choice 2\r\n    public static void lookupBalance() {\r\n        String[] cryptoName = readCryptoNames();\r\n        double[] cryptoBalance = readCryptoBalance();\r\n        Arrays.toString(cryptoName);\r\n        System.out.println(Arrays.toString(cryptoName));\r\n        String[] line = new String[cryptoName.length];\r\n        int BTC = (int) 1.3426;\r\n        int ETH = (int) 5.2519;\r\n        int XRP = (int) 158.5000;\r\n\r\n       System.out.println(&quot;Which crypto would you like to view the balance of? &quot;);\r\n        String cryptoNameTBF = userInputString.next();\r\n\r\n        if (cryptoNameTBF == BTC)\r\n            System.out.println(&quot;1.3426&quot;);//example of what I want as an output\r\n        }\r\n\r\n\r\n    // This method reads and returns the crypto names from the file\r\n     public static String[] readCryptoNames() {\r\n\r\n       String[] temp = new String[100];\r\n       int lineNumber = 0;\r\n       try {\r\n\r\n           BufferedReader myFile = new BufferedReader(new FileReader(&quot;C:\\\\Users\\\\John\\\\IdeaProjects\\\\A3_591158\\\\src\\\\com\\\\company\\\\wallet.txt&quot;));\r\n           String sCurrentLine;\r\n           while ((sCurrentLine = myFile.readLine()) != null) {\r\n               String[] tokens = sCurrentLine.split(&quot;\\\\s+&quot;);\r\n               temp[lineNumber] = (tokens[0]);\r\n               lineNumber++;\r\n           }\r\n           myFile.close();\r\n       } catch (IOException e) {\r\n           System.out.println(&quot;Error reading crypto name: &quot; + e.getMessage());\r\n       }\r\n       String[] cryptoName = new String[lineNumber];\r\n       System.arraycopy(temp, 0, cryptoName, 0, lineNumber);\r\n       System.out.println(cryptoName);\r\n       return cryptoName;\r\n    }\r\n\r\n    // This method reads and returns the crypto balances from the file\r\n    public static double[] readCryptoBalance() {\r\n        double[] temp = new double[100];\r\n        int lineNumber = 0;\r\n        try {\r\n\r\n            BufferedReader myFile = new BufferedReader(new FileReader(&quot;C:\\\\Users\\\\John\\\\IdeaProjects\\\\A3_591158\\\\src\\\\com\\\\company\\\\wallet.txt&quot;));\r\n            String sCurrentLine;\r\n            while ((sCurrentLine = myFile.readLine()) != null) {\r\n                String[] tokens = sCurrentLine.split(&quot;\\\\s+&quot;);\r\n                temp[lineNumber] = Double.parseDouble(tokens[1]);\r\n                lineNumber++;\r\n            }\r\n            myFile.close();\r\n        } catch (IOException e) {\r\n            System.out.println(&quot;Error reading crypto balance: &quot; + e.getMessage());\r\n        }\r\n        double[] cryptoBalance = new double[lineNumber];\r\n        System.arraycopy(temp, 0, cryptoBalance, 0, lineNumber);\r\n        return cryptoBalance;\r\n    }\r\n","title":"If function using user input","body":"<p>I am working on a project for Uni that involves a program reading a .txt file with information regarding cryptos.</p>\n<p>I am currently stuck on the lookupBalance() section. My goal is to have a user input which crypto they would like to see the balance of, and use that input to provide them a balance of that crypto. I have tried tons of different things and cant seem to get it right. For example, if the user inputs &quot;BTC&quot;, I want the program to provide &quot;1.3426&quot;.</p>\n<p>My .txt file contains what is in the attached .png <a href=\"https://i.stack.imgur.com/RKBKW.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<pre><code>public class Main {\nstatic Scanner userInputInt = new Scanner(System.in);\nstatic Scanner userInputString = new Scanner(System.in);\nstatic Scanner userInputDouble = new Scanner(System.in);\n\npublic static void main(String[] args) {\n    int userChoice = getUserChoice();\n    switch (userChoice) {\n        case 1:\n            viewWallet();\n            break;\n         case 2:\n            lookupBalance();\n            break;\n    }\n}\n\n// This method asks and returns what the user wants to do\npublic static int getUserChoice() {\n    System.out.println(&quot;****************************************************************&quot;);\n    System.out.println(&quot;****************************************************************&quot;);\n    System.out.println(&quot;************ Crypto Wallet **********&quot;);\n    System.out.println(&quot;****************************************************************&quot;);\n    System.out.println(&quot;****************************************************************&quot;);\n    System.out.println(&quot;&quot;);\n    System.out.println(&quot;What do you want to do?&quot;);\n    System.out.println(&quot;(1) View wallet&quot;);\n    System.out.println(&quot;(2) Look up the balance of a given crypto&quot;);\n    System.out.println(&quot;(3) Add new cryptos&quot;);\n    System.out.println(&quot;(4) Remove an existing crypto&quot;);\n    System.out.println(&quot;(5) Update wallet&quot;);\n    System.out.println(&quot;****************************************************************&quot;);\n    System.out.print(&quot;Please enter your choice (1, 2, 3, 4, or 5): &quot;);\n    return userInputInt.nextInt();\n}\n\n// This method is called for user choice 1\npublic static void viewWallet() {\n    String[] cryptoName = readCryptoNames();\n    double[] cryptoBalance = readCryptoBalance();\n    System.out.println(&quot;Crypto in portfolio &quot; + Arrays.toString(cryptoName) + &quot; Balance of crypto &quot; +  Arrays.toString(readCryptoBalance()));\n    }\n\n// This method is called for user choice 2\npublic static void lookupBalance() {\n    String[] cryptoName = readCryptoNames();\n    double[] cryptoBalance = readCryptoBalance();\n    Arrays.toString(cryptoName);\n    System.out.println(Arrays.toString(cryptoName));\n    String[] line = new String[cryptoName.length];\n    int BTC = (int) 1.3426;\n    int ETH = (int) 5.2519;\n    int XRP = (int) 158.5000;\n\n   System.out.println(&quot;Which crypto would you like to view the balance of? &quot;);\n    String cryptoNameTBF = userInputString.next();\n\n    if (cryptoNameTBF == BTC)\n        System.out.println(&quot;1.3426&quot;);//example of what I want as an output\n    }\n\n\n// This method reads and returns the crypto names from the file\n public static String[] readCryptoNames() {\n\n   String[] temp = new String[100];\n   int lineNumber = 0;\n   try {\n\n       BufferedReader myFile = new BufferedReader(new FileReader(&quot;C:\\\\Users\\\\John\\\\IdeaProjects\\\\A3_591158\\\\src\\\\com\\\\company\\\\wallet.txt&quot;));\n       String sCurrentLine;\n       while ((sCurrentLine = myFile.readLine()) != null) {\n           String[] tokens = sCurrentLine.split(&quot;\\\\s+&quot;);\n           temp[lineNumber] = (tokens[0]);\n           lineNumber++;\n       }\n       myFile.close();\n   } catch (IOException e) {\n       System.out.println(&quot;Error reading crypto name: &quot; + e.getMessage());\n   }\n   String[] cryptoName = new String[lineNumber];\n   System.arraycopy(temp, 0, cryptoName, 0, lineNumber);\n   System.out.println(cryptoName);\n   return cryptoName;\n}\n\n// This method reads and returns the crypto balances from the file\npublic static double[] readCryptoBalance() {\n    double[] temp = new double[100];\n    int lineNumber = 0;\n    try {\n\n        BufferedReader myFile = new BufferedReader(new FileReader(&quot;C:\\\\Users\\\\John\\\\IdeaProjects\\\\A3_591158\\\\src\\\\com\\\\company\\\\wallet.txt&quot;));\n        String sCurrentLine;\n        while ((sCurrentLine = myFile.readLine()) != null) {\n            String[] tokens = sCurrentLine.split(&quot;\\\\s+&quot;);\n            temp[lineNumber] = Double.parseDouble(tokens[1]);\n            lineNumber++;\n        }\n        myFile.close();\n    } catch (IOException e) {\n        System.out.println(&quot;Error reading crypto balance: &quot; + e.getMessage());\n    }\n    double[] cryptoBalance = new double[lineNumber];\n    System.arraycopy(temp, 0, cryptoBalance, 0, lineNumber);\n    return cryptoBalance;\n}\n</code></pre>\n"},{"tags":["java","jasper-reports"],"comments":[{"owner":{"account_id":3564072,"reputation":1696,"user_id":2976142,"accept_rate":100,"display_name":"Přemysl Šťastn&#253;"},"score":0,"creation_date":1467893217,"post_id":38243591,"comment_id":63911154,"body_markdown":"found it in old source code of JR (about 3.x.x version)","body":"found it in old source code of JR (about 3.x.x version)"},{"owner":{"account_id":3564072,"reputation":1696,"user_id":2976142,"accept_rate":100,"display_name":"Přemysl Šťastn&#253;"},"score":0,"creation_date":1467893631,"post_id":38243591,"comment_id":63911440,"body_markdown":"Protected -(zoom isn&#39;t in this version) http://grepcode.com/file/repo1.maven.org/maven2/net.sf.jasperreports/jasperreports/5.0.4/net/sf/jasperreports/engine/JRAbstractExporter.java#JRAbstractExporter.0globalOffsetX","body":"Protected -(zoom isn&#39;t in this version) <a href=\"http://grepcode.com/file/repo1.maven.org/maven2/net.sf.jasperreports/jasperreports/5.0.4/net/sf/jasperreports/engine/JRAbstractExporter.java#JRAbstractExporter.0globalOffsetX\" rel=\"nofollow noreferrer\">grepcode.com/file/repo1.maven.org/maven2/net.sf.jasperreport&zwnj;&#8203;s/&hellip;</a>"},{"owner":{"account_id":3564072,"reputation":1696,"user_id":2976142,"accept_rate":100,"display_name":"Přemysl Šťastn&#253;"},"score":0,"creation_date":1467893857,"post_id":38243591,"comment_id":63911601,"body_markdown":"I am trying to compile this code with new libraries...it worked with old ones and with new one netbeans tells me, the symbol can&#39;t be found - Should I send whole class?","body":"I am trying to compile this code with new libraries...it worked with old ones and with new one netbeans tells me, the symbol can&#39;t be found - Should I send whole class?"},{"owner":{"account_id":469619,"reputation":22464,"user_id":876298,"display_name":"Alex K"},"score":0,"creation_date":1467894497,"post_id":38243591,"comment_id":63912039,"body_markdown":"If the class too big you can post methods with relevant code","body":"If the class too big you can post methods with relevant code"},{"owner":{"account_id":3564072,"reputation":1696,"user_id":2976142,"accept_rate":100,"display_name":"Přemysl Šťastn&#253;"},"score":0,"creation_date":1467895181,"post_id":38243591,"comment_id":63912518,"body_markdown":"https://1drv.ms/t/s!AjBJmuQjZfo4g-owM4cDkmBTsJfWXw","body":"<a href=\"https://1drv.ms/t/s!AjBJmuQjZfo4g-owM4cDkmBTsJfWXw\" rel=\"nofollow noreferrer\">1drv.ms/t/s!AjBJmuQjZfo4g-owM4cDkmBTsJfWXw</a>"}],"answers":[{"tags":[],"owner":{"account_id":3564072,"reputation":1696,"user_id":2976142,"accept_rate":100,"display_name":"Přemysl Šťastn&#253;"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1469213738,"creation_date":1469213738,"answer_id":38533534,"question_id":38243591,"body_markdown":"I have finally found inherited function `getCurrentItemConfiguration();`, where  I found these functions:\r\n`getCurrentItemConfiguration().getZoomRatio();`, `getCurrentItemConfiguration().getOffsetX()` and `getCurrentItemConfiguration().getOffsetY()`.\r\n\r\nSo I&#39;ve changed source code (with some other changes due other incompatibilities):\r\n\r\n    @Override\r\n    public void exportReportToGraphics2D(Graphics2D grx) throws JRException {\r\n\r\n        Shape oldClipShape = grx.getClip();\r\n        boolean printPageBorders = (Boolean) parameters.get(SRptGraphics2DExporterParameter.PRINT_PAGE_BORDERS);\r\n        grx.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\r\n        //grx.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_OFF);\r\n        grx.setRenderingHint(RenderingHints.KEY_FRACTIONALMETRICS, RenderingHints.VALUE_FRACTIONALMETRICS_ON);\r\n        grx.setRenderingHint(RenderingHints.KEY_INTERPOLATION, RenderingHints.VALUE_INTERPOLATION_BICUBIC);\r\n\r\n        rotationAngle = (Double) parameters.get(SRptGraphics2DExporterParameter.ROTATION_ANGLE);\r\n\r\n        setCurrentExporterInputItem(exporterInput.getItems().get(0));\r\n\r\n        ReportExportConfiguration configuration = getCurrentItemConfiguration();\r\n        AffineTransform sa = grx.getTransform();\r\n\r\n        float zoom = 1f;\r\n\r\n        Float zoomRatio = getCurrentItemConfiguration().getZoomRatio();\r\n        if (zoomRatio != null) {\r\n            zoom = zoomRatio.floatValue();\r\n            if (zoom &lt;= 0) {\r\n                throw new JRRuntimeException(\r\n                        EXCEPTION_MESSAGE_KEY_INVALID_ZOOM_RATIO,\r\n                        new Object[]{zoom}\r\n                );\r\n            }\r\n        }\r\n\r\n        AffineTransform atrans = new AffineTransform();\r\n        atrans.translate(\r\n                configuration.getOffsetX() == null ? 0 : configuration.getOffsetX(),\r\n                configuration.getOffsetY() == null ? 0 : configuration.getOffsetY()\r\n        );\r\n        atrans.rotate(rotationAngle);\r\n\r\n        atrans.scale(zoom, zoom);\r\n\r\n        grx.transform(atrans);\r\n\r\n        List&lt;JRPrintPage&gt; pages = jasperPrint.getPages();\r\n        if (pages != null) {\r\n            PageRange pageRange = getPageRange();\r\n            int startPageIndex = (pageRange == null || pageRange.getStartPageIndex() == null) ? 0 : pageRange.getStartPageIndex();\r\n\r\n            PrintPageFormat pageFormat = jasperPrint.getPageFormat(startPageIndex);\r\n            \r\n            grx.clip(new Rectangle(0, 0, pageFormat.getPageWidth(), pageFormat.getPageHeight()));\r\n            atrans = grx.getTransform();\r\n            try {                \r\n                AffineTransform ertrans = new AffineTransform();\r\n                ertrans.translate(\r\n                        configuration.getOffsetX() == null ? 0 : -configuration.getOffsetX(),\r\n                        configuration.getOffsetY() == null ? 0 : -configuration.getOffsetY()\r\n                ); \r\n                grx.transform(ertrans);\r\n\r\n                exportPage(grx, startPageIndex);\r\n                \r\n                grx.setTransform(atrans);\r\n                \r\n                if (printPageBorders) {\r\n                    grx.drawRect(1, 1, pageFormat.getPageWidth() -1, pageFormat.getPageHeight()-1);\r\n                }\r\n\r\n\r\n            } finally {\r\n                \r\n                grx.setTransform(sa);\r\n                grx.setClip(oldClipShape);\r\n                \r\n            }\r\n        }\r\n    }\r\n","title":"Where can be found globalOffsetX, globalOffsetY and zoom in class extending new JRGraphics2DExporter?","body":"<p>I have finally found inherited function <code>getCurrentItemConfiguration();</code>, where  I found these functions:\n<code>getCurrentItemConfiguration().getZoomRatio();</code>, <code>getCurrentItemConfiguration().getOffsetX()</code> and <code>getCurrentItemConfiguration().getOffsetY()</code>.</p>\n\n<p>So I've changed source code (with some other changes due other incompatibilities):</p>\n\n<pre><code>@Override\npublic void exportReportToGraphics2D(Graphics2D grx) throws JRException {\n\n    Shape oldClipShape = grx.getClip();\n    boolean printPageBorders = (Boolean) parameters.get(SRptGraphics2DExporterParameter.PRINT_PAGE_BORDERS);\n    grx.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\n    //grx.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_OFF);\n    grx.setRenderingHint(RenderingHints.KEY_FRACTIONALMETRICS, RenderingHints.VALUE_FRACTIONALMETRICS_ON);\n    grx.setRenderingHint(RenderingHints.KEY_INTERPOLATION, RenderingHints.VALUE_INTERPOLATION_BICUBIC);\n\n    rotationAngle = (Double) parameters.get(SRptGraphics2DExporterParameter.ROTATION_ANGLE);\n\n    setCurrentExporterInputItem(exporterInput.getItems().get(0));\n\n    ReportExportConfiguration configuration = getCurrentItemConfiguration();\n    AffineTransform sa = grx.getTransform();\n\n    float zoom = 1f;\n\n    Float zoomRatio = getCurrentItemConfiguration().getZoomRatio();\n    if (zoomRatio != null) {\n        zoom = zoomRatio.floatValue();\n        if (zoom &lt;= 0) {\n            throw new JRRuntimeException(\n                    EXCEPTION_MESSAGE_KEY_INVALID_ZOOM_RATIO,\n                    new Object[]{zoom}\n            );\n        }\n    }\n\n    AffineTransform atrans = new AffineTransform();\n    atrans.translate(\n            configuration.getOffsetX() == null ? 0 : configuration.getOffsetX(),\n            configuration.getOffsetY() == null ? 0 : configuration.getOffsetY()\n    );\n    atrans.rotate(rotationAngle);\n\n    atrans.scale(zoom, zoom);\n\n    grx.transform(atrans);\n\n    List&lt;JRPrintPage&gt; pages = jasperPrint.getPages();\n    if (pages != null) {\n        PageRange pageRange = getPageRange();\n        int startPageIndex = (pageRange == null || pageRange.getStartPageIndex() == null) ? 0 : pageRange.getStartPageIndex();\n\n        PrintPageFormat pageFormat = jasperPrint.getPageFormat(startPageIndex);\n\n        grx.clip(new Rectangle(0, 0, pageFormat.getPageWidth(), pageFormat.getPageHeight()));\n        atrans = grx.getTransform();\n        try {                \n            AffineTransform ertrans = new AffineTransform();\n            ertrans.translate(\n                    configuration.getOffsetX() == null ? 0 : -configuration.getOffsetX(),\n                    configuration.getOffsetY() == null ? 0 : -configuration.getOffsetY()\n            ); \n            grx.transform(ertrans);\n\n            exportPage(grx, startPageIndex);\n\n            grx.setTransform(atrans);\n\n            if (printPageBorders) {\n                grx.drawRect(1, 1, pageFormat.getPageWidth() -1, pageFormat.getPageHeight()-1);\n            }\n\n\n        } finally {\n\n            grx.setTransform(sa);\n            grx.setClip(oldClipShape);\n\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":3564072,"reputation":1696,"user_id":2976142,"accept_rate":100,"display_name":"Přemysl Šťastn&#253;"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":104,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":38533534,"answer_count":1,"score":0,"last_activity_date":1645565012,"creation_date":1467888684,"question_id":38243591,"body_markdown":"I am upgrading libraries (from 3.x version to 6.0.0) in my project, which is using them, and I don&#39;t know, where get those 3 missing variables. They used to be protected in older version. Now they are private.\r\n\r\nMy old code:\r\n\r\n    import java.awt.Rectangle;\r\n    import java.awt.RenderingHints;\r\n    import java.awt.Shape;\r\n    import java.awt.geom.AffineTransform;\r\n    import net.sf.jasperreports.engine.JRException;\r\n    import net.sf.jasperreports.engine.JRPrintPage;\r\n    import net.sf.jasperreports.engine.export.JRGraphics2DExporter;\r\n    \r\n    public class SRptGraphics2DExporter extends JRGraphics2DExporter {\r\n    \r\n        Double rotationAngle = 0.0;\r\n    \r\n        public SRptGraphics2DExporter() throws JRException {\r\n            super();\r\n            this.setParameter(SRptGraphics2DExporterParameter.ROTATION_ANGLE, new Double(0.0));\r\n        }\r\n    \r\n        @Override\r\n        public void exportReportToGraphics2D() throws JRException {\r\n            boolean printPageBorders = (Boolean) parameters.get(SRptGraphics2DExporterParameter.PRINT_PAGE_BORDERS);\r\n            rotationAngle = (Double) parameters.get(SRptGraphics2DExporterParameter.ROTATION_ANGLE);\r\n            grx.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\r\n            grx.setRenderingHint(RenderingHints.KEY_FRACTIONALMETRICS, RenderingHints.VALUE_FRACTIONALMETRICS_ON);\r\n            grx.setRenderingHint(RenderingHints.KEY_INTERPOLATION, RenderingHints.VALUE_INTERPOLATION_BICUBIC);\r\n    \r\n            AffineTransform atrans = new AffineTransform();\r\n            atrans.translate(globalOffsetX, globalOffsetY);\r\n            atrans.rotate(rotationAngle);\r\n            atrans.scale(zoom, zoom);\r\n    \r\n            AffineTransform sa = grx.getTransform();\r\n            grx.transform(atrans);\r\n    \r\n            java.util.List pages = jasperPrint.getPages();\r\n            if (pages != null) {\r\n                Shape oldClipShape = grx.getClip();\r\n                grx.clip(new Rectangle(0, 0, jasperPrint.getPageWidth(), jasperPrint.getPageHeight()));\r\n    \r\n                try {\r\n                    JRPrintPage page = (JRPrintPage) pages.get(startPageIndex);\r\n                    exportPage(page);\r\n                    if (printPageBorders) {\r\n                        grx.drawRect(0, 0, jasperPrint.getPageWidth(), jasperPrint.getPageHeight());\r\n                    }\r\n                } finally {\r\n                    grx.setClip(oldClipShape);\r\n                    grx.setTransform(sa);\r\n                }\r\n            }\r\n        }\r\n    }","title":"Where can be found globalOffsetX, globalOffsetY and zoom in class extending new JRGraphics2DExporter?","body":"<p>I am upgrading libraries (from 3.x version to 6.0.0) in my project, which is using them, and I don't know, where get those 3 missing variables. They used to be protected in older version. Now they are private.</p>\n\n<p>My old code:</p>\n\n<pre><code>import java.awt.Rectangle;\nimport java.awt.RenderingHints;\nimport java.awt.Shape;\nimport java.awt.geom.AffineTransform;\nimport net.sf.jasperreports.engine.JRException;\nimport net.sf.jasperreports.engine.JRPrintPage;\nimport net.sf.jasperreports.engine.export.JRGraphics2DExporter;\n\npublic class SRptGraphics2DExporter extends JRGraphics2DExporter {\n\n    Double rotationAngle = 0.0;\n\n    public SRptGraphics2DExporter() throws JRException {\n        super();\n        this.setParameter(SRptGraphics2DExporterParameter.ROTATION_ANGLE, new Double(0.0));\n    }\n\n    @Override\n    public void exportReportToGraphics2D() throws JRException {\n        boolean printPageBorders = (Boolean) parameters.get(SRptGraphics2DExporterParameter.PRINT_PAGE_BORDERS);\n        rotationAngle = (Double) parameters.get(SRptGraphics2DExporterParameter.ROTATION_ANGLE);\n        grx.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\n        grx.setRenderingHint(RenderingHints.KEY_FRACTIONALMETRICS, RenderingHints.VALUE_FRACTIONALMETRICS_ON);\n        grx.setRenderingHint(RenderingHints.KEY_INTERPOLATION, RenderingHints.VALUE_INTERPOLATION_BICUBIC);\n\n        AffineTransform atrans = new AffineTransform();\n        atrans.translate(globalOffsetX, globalOffsetY);\n        atrans.rotate(rotationAngle);\n        atrans.scale(zoom, zoom);\n\n        AffineTransform sa = grx.getTransform();\n        grx.transform(atrans);\n\n        java.util.List pages = jasperPrint.getPages();\n        if (pages != null) {\n            Shape oldClipShape = grx.getClip();\n            grx.clip(new Rectangle(0, 0, jasperPrint.getPageWidth(), jasperPrint.getPageHeight()));\n\n            try {\n                JRPrintPage page = (JRPrintPage) pages.get(startPageIndex);\n                exportPage(page);\n                if (printPageBorders) {\n                    grx.drawRect(0, 0, jasperPrint.getPageWidth(), jasperPrint.getPageHeight());\n                }\n            } finally {\n                grx.setClip(oldClipShape);\n                grx.setTransform(sa);\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","string","if-statement","arraylist"],"comments":[{"owner":{"account_id":3131031,"reputation":24013,"user_id":2648811,"accept_rate":33,"display_name":"Green Cloak Guy"},"score":0,"creation_date":1645555906,"post_id":71226800,"comment_id":125901342,"body_markdown":"Can you share the code you&#39;ve written so far in attempt to solve this problem?","body":"Can you share the code you&#39;ve written so far in attempt to solve this problem?"},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1645556054,"post_id":71226800,"comment_id":125901400,"body_markdown":"Are the values in each list position dependent?  And this has all indications that a class might serve  you better.","body":"Are the values in each list position dependent?  And this has all indications that a class might serve  you better."},{"owner":{"account_id":19928279,"reputation":133,"user_id":14602454,"display_name":"JoeyOC"},"score":0,"creation_date":1645556147,"post_id":71226800,"comment_id":125901437,"body_markdown":"@WJS No they are not position dependent","body":"@WJS No they are not position dependent"},{"owner":{"account_id":19928279,"reputation":133,"user_id":14602454,"display_name":"JoeyOC"},"score":0,"creation_date":1645556161,"post_id":71226800,"comment_id":125901444,"body_markdown":"@GreenCloakGuy Added code for ref","body":"@GreenCloakGuy Added code for ref"},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1645556291,"post_id":71226800,"comment_id":125901488,"body_markdown":"*No they are not position dependent*.  So `john` could be a the front of `list1` and `Smith` could be at the end of `list2`?","body":"<i>No they are not position dependent</i>.  So <code>john</code> could be a the front of <code>list1</code> and <code>Smith</code> could be at the end of <code>list2</code>?"},{"owner":{"account_id":19928279,"reputation":133,"user_id":14602454,"display_name":"JoeyOC"},"score":0,"creation_date":1645556614,"post_id":71226800,"comment_id":125901591,"body_markdown":"@WJS Yes but some columns might be named the same for example Ring in both columns have the same name and so that would print true","body":"@WJS Yes but some columns might be named the same for example Ring in both columns have the same name and so that would print true"},{"owner":{"account_id":19928279,"reputation":133,"user_id":14602454,"display_name":"JoeyOC"},"score":0,"creation_date":1645557182,"post_id":71226800,"comment_id":125901783,"body_markdown":"@Darkman John in list1 has all the same data as smith in list2. I need to check, if column John is present in list one, then smith SHOULD be present in list 2 and check for that column name.","body":"@Darkman John in list1 has all the same data as smith in list2. I need to check, if column John is present in list one, then smith SHOULD be present in list 2 and check for that column name."}],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645556839,"creation_date":1645556383,"answer_id":71226917,"question_id":71226800,"body_markdown":"The method takes two lists and two supplied strings and checks to see if both strings appear in opposing lists.\r\n```\r\npublic boolean checkName(List&lt;String&gt; list1, List&lt;String&gt; \r\n    list2, String one, String two) {\r\n     return list1.contains(one) &amp;&amp; list2.contains(two) ||\r\n            list1.contains(two) &amp;&amp; list2.contains(one);\r\n}","title":"comparing two arraylist with condition in Java","body":"<p>The method takes two lists and two supplied strings and checks to see if both strings appear in opposing lists.</p>\n<pre><code>public boolean checkName(List&lt;String&gt; list1, List&lt;String&gt; \n    list2, String one, String two) {\n     return list1.contains(one) &amp;&amp; list2.contains(two) ||\n            list1.contains(two) &amp;&amp; list2.contains(one);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645564909,"creation_date":1645559470,"answer_id":71227481,"question_id":71226800,"body_markdown":"You could use a map if you know which column names are linked to each other.\r\n\r\n    Map&lt;String,String&gt; map = new HashMap&lt;&gt;();\r\n    map.put(&quot;John&quot;, &quot;Smith&quot;);\r\n    map.put(&quot;Jane&quot;, &quot;Doe&quot;);\r\n    map.put(&quot;Vehicle&quot;, &quot;Car&quot;);\r\n    map.put(&quot;Snack&quot;, &quot;Bar&quot;);\r\n    map.put(&quot;Ring&quot;, &quot;Ring&quot;);\r\n\r\n**EDIT**\r\n\r\nAssuming you have read the content of the files into lists as given in your example and your list contain: \r\n\r\n    //code to read file content into lists\r\n    //....\r\n\r\n    ArrayList1 = [&quot;John&quot;,&quot;Jane&quot;,&quot;Vehicle&quot;,&quot;Snack&quot;,&quot;Ring&quot;]\r\n    ArrayList2 = [&quot;Car&quot;,&quot;Bar&quot;,&quot;Smith&quot;,&quot;Doe&quot;,&quot;Ring&quot;]\r\n\r\nyou can iterate over the first list and check against second list:\r\n\r\n    for (String column : ArrayList1) {\r\n        boolean found = ArrayList2.stream().anyMatch(map.get(column)::equals);\r\n        if (found){\r\n            System.out.println(String.format(&quot;Found matching columns: %s -&gt; %s.&quot;, column, map.get(column)));\r\n        }\r\n        else {\r\n            System.out.println(String.format(&quot;No matching column found for: %s.&quot;, column));\r\n        }\r\n    }\r\n\r\n \r\n\r\n\r\n","title":"comparing two arraylist with condition in Java","body":"<p>You could use a map if you know which column names are linked to each other.</p>\n<pre><code>Map&lt;String,String&gt; map = new HashMap&lt;&gt;();\nmap.put(&quot;John&quot;, &quot;Smith&quot;);\nmap.put(&quot;Jane&quot;, &quot;Doe&quot;);\nmap.put(&quot;Vehicle&quot;, &quot;Car&quot;);\nmap.put(&quot;Snack&quot;, &quot;Bar&quot;);\nmap.put(&quot;Ring&quot;, &quot;Ring&quot;);\n</code></pre>\n<p><strong>EDIT</strong></p>\n<p>Assuming you have read the content of the files into lists as given in your example and your list contain:</p>\n<pre><code>//code to read file content into lists\n//....\n\nArrayList1 = [&quot;John&quot;,&quot;Jane&quot;,&quot;Vehicle&quot;,&quot;Snack&quot;,&quot;Ring&quot;]\nArrayList2 = [&quot;Car&quot;,&quot;Bar&quot;,&quot;Smith&quot;,&quot;Doe&quot;,&quot;Ring&quot;]\n</code></pre>\n<p>you can iterate over the first list and check against second list:</p>\n<pre><code>for (String column : ArrayList1) {\n    boolean found = ArrayList2.stream().anyMatch(map.get(column)::equals);\n    if (found){\n        System.out.println(String.format(&quot;Found matching columns: %s -&gt; %s.&quot;, column, map.get(column)));\n    }\n    else {\n        System.out.println(String.format(&quot;No matching column found for: %s.&quot;, column));\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":19928279,"reputation":133,"user_id":14602454,"display_name":"JoeyOC"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":123,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1645564909,"creation_date":1645555724,"question_id":71226800,"body_markdown":"I have printed two array lists from two CSV files\r\n\r\nCSV 1 to arraylist \r\n```\r\nBufferedReader br = new BufferedReader(new  InputStreamReader(stream));\r\nString text = br.readLine();\r\nString[] b = text.split(String.valueOf(str));\r\ncsv1.add(b[0]);\r\n\r\n```\r\n\r\nCSV 2 to arraylist \r\n```\r\nBufferedReader br = new BufferedReader(new  InputStreamReader(stream));\r\nString text = br.readLine();\r\nString[] b = text.split(String.valueOf(str));\r\ncsv2.add(b[0]);\r\n\r\n```\r\nI need to compare column names but they are labelled differently in each file. column John in list 1 is equal to col smith in list 2\r\n```\r\nArrayList1 = [&quot;John&quot;,&quot;Jane&quot;,&quot;Vehicle&quot;,&quot;Snack&quot;,&quot;Ring&quot;]\r\nArrayList2 = [&quot;Car&quot;,&quot;Bar&quot;,&quot;Smith&quot;,&quot;Doe&quot;,&quot;Ring&quot;]\r\n\r\n```\r\n\r\nFor example; John in list1 has all the same data as smith in list2. I need to check if John is present in list one, then smith SHOULD be present in list 2 and check for that column name. ","title":"comparing two arraylist with condition in Java","body":"<p>I have printed two array lists from two CSV files</p>\n<p>CSV 1 to arraylist</p>\n<pre><code>BufferedReader br = new BufferedReader(new  InputStreamReader(stream));\nString text = br.readLine();\nString[] b = text.split(String.valueOf(str));\ncsv1.add(b[0]);\n\n</code></pre>\n<p>CSV 2 to arraylist</p>\n<pre><code>BufferedReader br = new BufferedReader(new  InputStreamReader(stream));\nString text = br.readLine();\nString[] b = text.split(String.valueOf(str));\ncsv2.add(b[0]);\n\n</code></pre>\n<p>I need to compare column names but they are labelled differently in each file. column John in list 1 is equal to col smith in list 2</p>\n<pre><code>ArrayList1 = [&quot;John&quot;,&quot;Jane&quot;,&quot;Vehicle&quot;,&quot;Snack&quot;,&quot;Ring&quot;]\nArrayList2 = [&quot;Car&quot;,&quot;Bar&quot;,&quot;Smith&quot;,&quot;Doe&quot;,&quot;Ring&quot;]\n\n</code></pre>\n<p>For example; John in list1 has all the same data as smith in list2. I need to check if John is present in list one, then smith SHOULD be present in list 2 and check for that column name.</p>\n"},{"tags":["java","android","image","bitmap","exif"],"answers":[{"tags":[],"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1502125641,"creation_date":1502125641,"answer_id":45552197,"question_id":45552108,"body_markdown":"&gt; Is there a way to make BitmapFactory.decodeFile() respect EXIF and produce a correct Bitmap?\r\n\r\nNo, sorry.\r\n\r\n&gt; what is the recommended pattern to handle this issue?\r\n\r\nUse the support library&#39;s `ExifInterface` to determine the desired orientation. Then, depending upon your use of the `Bitmap`, either rotate the view (e.g., `ImageView`) or rotate the `Bitmap`. [This sample project](https://github.com/commonsguy/cw-omnibus/tree/v8.7/Camera/EXIFRotater) illustrates both approaches, though I use a separate set of EXIF code, as some things that I use in that sample are not supported by the support library&#39;s `ExifInterface`.\r\n","title":"Is it possible to make BitmapFactory.decodeFile() respect EXIF?","body":"<blockquote>\n  <p>Is there a way to make BitmapFactory.decodeFile() respect EXIF and produce a correct Bitmap?</p>\n</blockquote>\n\n<p>No, sorry.</p>\n\n<blockquote>\n  <p>what is the recommended pattern to handle this issue?</p>\n</blockquote>\n\n<p>Use the support library's <code>ExifInterface</code> to determine the desired orientation. Then, depending upon your use of the <code>Bitmap</code>, either rotate the view (e.g., <code>ImageView</code>) or rotate the <code>Bitmap</code>. <a href=\"https://github.com/commonsguy/cw-omnibus/tree/v8.7/Camera/EXIFRotater\" rel=\"nofollow noreferrer\">This sample project</a> illustrates both approaches, though I use a separate set of EXIF code, as some things that I use in that sample are not supported by the support library's <code>ExifInterface</code>.</p>\n"},{"tags":[],"owner":{"account_id":3305889,"reputation":13887,"user_id":3345644,"accept_rate":93,"display_name":"Alexander Abakumov"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1502144104,"creation_date":1502144104,"answer_id":45556485,"question_id":45552108,"body_markdown":"As it turned out, resolving the initial issue turned into the set of new ones. Here is the complete tutorial for further readers.\r\n\r\nFirst of all, as [@CommonsWare pointed in his answer][1], we have to handle orientation manually using EXIF orientation tag. To avoid buggy/security flawed `android.media.ExifInterface` as well as 3rd party dependencies, the best option seems to be a new `com.android.support:exifinterface` library, which we add to `build.gradle` as:\r\n\r\n    dependencies {\r\n        compile &#39;com.android.support:exifinterface:26.0.0&#39;\r\n    }\r\n\r\nHowever for me, it led to a Gradle sync error caused by that this specific newest version of the library is not found in Google repositories, though this version is the latest according to the [Support Library Packages][2] page.\r\n\r\nAfter an hour of trials, I figured out that `jcenter()` repository is not enough and Gradle sync was fixed by adding Google Maven repository:\r\n\r\n    allprojects {\r\n        repositories {\r\n            jcenter()\r\n            maven {\r\n                url &#39;https://maven.google.com&#39;\r\n                // Alternative URL is &#39;https://dl.google.com/dl/android/maven2/&#39;\r\n            }\r\n        }\r\n    }\r\n\r\nOk, now we&#39;re able to use `android.support.media.ExifInterface`.\r\n\r\nThe next disappointment was that width and height stored in EXIF tags also do not respect orientation, i.e. for images taken in portrait mode you get the same width and height that are returned by a `Bitmap` created with `BitmapFactory.decodeFile()`. So the only way is to manually look at the EXIF `ExifInterface.TAG_ORIENTATION` tag and if it says that image is rotated 90 or 270 degree - swap width and height:\r\n\r\n    ExifInterface exif = new ExifInterface(fileNameFull);\r\n    orientation = exif.getAttributeInt(ExifInterface.TAG_ORIENTATION, ExifInterface.ORIENTATION_UNDEFINED);\r\n    \r\n    BitmapFactory.Options optsForBounds = new BitmapFactory.Options();\r\n    optsForBounds.inJustDecodeBounds = true;\r\n    BitmapFactory.decodeFile(fileName, optsForBounds);\r\n    \r\n    int width = optsForBounds.outWidth, height = optsForBounds.outHeight;\r\n    if (orientation == ExifInterface.ORIENTATION_ROTATE_90 || orientation == ExifInterface.ORIENTATION_ROTATE_270)\r\n    {\r\n        int temp = width;\r\n        //noinspection SuspiciousNameCombination\r\n        width = height;\r\n        height = temp;\r\n    }\r\n\r\nI&#39;m not sure if this approach and code covers 100% of cases, so if you encounter any issues across various devices/image sources - feel free to comment.\r\n\r\nIn general, dealing with EXIF doesn&#39;t seem to be a pleasant experience. Implementations of the EXIF standard even from big companies seem to treat nuances very differently. See extensive analysis [here][3].\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/45552197/3345644\r\n  [2]: https://developer.android.com/topic/libraries/support-library/packages.html#exif\r\n  [3]: https://www.daveperrett.com/articles/2012/07/28/exif-orientation-handling-is-a-ghetto/\r\n","title":"Is it possible to make BitmapFactory.decodeFile() respect EXIF?","body":"<p>As it turned out, resolving the initial issue turned into the set of new ones. Here is the complete tutorial for further readers.</p>\n\n<p>First of all, as <a href=\"https://stackoverflow.com/a/45552197/3345644\">@CommonsWare pointed in his answer</a>, we have to handle orientation manually using EXIF orientation tag. To avoid buggy/security flawed <code>android.media.ExifInterface</code> as well as 3rd party dependencies, the best option seems to be a new <code>com.android.support:exifinterface</code> library, which we add to <code>build.gradle</code> as:</p>\n\n<pre><code>dependencies {\n    compile 'com.android.support:exifinterface:26.0.0'\n}\n</code></pre>\n\n<p>However for me, it led to a Gradle sync error caused by that this specific newest version of the library is not found in Google repositories, though this version is the latest according to the <a href=\"https://developer.android.com/topic/libraries/support-library/packages.html#exif\" rel=\"nofollow noreferrer\">Support Library Packages</a> page.</p>\n\n<p>After an hour of trials, I figured out that <code>jcenter()</code> repository is not enough and Gradle sync was fixed by adding Google Maven repository:</p>\n\n<pre><code>allprojects {\n    repositories {\n        jcenter()\n        maven {\n            url 'https://maven.google.com'\n            // Alternative URL is 'https://dl.google.com/dl/android/maven2/'\n        }\n    }\n}\n</code></pre>\n\n<p>Ok, now we're able to use <code>android.support.media.ExifInterface</code>.</p>\n\n<p>The next disappointment was that width and height stored in EXIF tags also do not respect orientation, i.e. for images taken in portrait mode you get the same width and height that are returned by a <code>Bitmap</code> created with <code>BitmapFactory.decodeFile()</code>. So the only way is to manually look at the EXIF <code>ExifInterface.TAG_ORIENTATION</code> tag and if it says that image is rotated 90 or 270 degree - swap width and height:</p>\n\n<pre><code>ExifInterface exif = new ExifInterface(fileNameFull);\norientation = exif.getAttributeInt(ExifInterface.TAG_ORIENTATION, ExifInterface.ORIENTATION_UNDEFINED);\n\nBitmapFactory.Options optsForBounds = new BitmapFactory.Options();\noptsForBounds.inJustDecodeBounds = true;\nBitmapFactory.decodeFile(fileName, optsForBounds);\n\nint width = optsForBounds.outWidth, height = optsForBounds.outHeight;\nif (orientation == ExifInterface.ORIENTATION_ROTATE_90 || orientation == ExifInterface.ORIENTATION_ROTATE_270)\n{\n    int temp = width;\n    //noinspection SuspiciousNameCombination\n    width = height;\n    height = temp;\n}\n</code></pre>\n\n<p>I'm not sure if this approach and code covers 100% of cases, so if you encounter any issues across various devices/image sources - feel free to comment.</p>\n\n<p>In general, dealing with EXIF doesn't seem to be a pleasant experience. Implementations of the EXIF standard even from big companies seem to treat nuances very differently. See extensive analysis <a href=\"https://www.daveperrett.com/articles/2012/07/28/exif-orientation-handling-is-a-ghetto/\" rel=\"nofollow noreferrer\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":439515,"reputation":1432,"user_id":828496,"display_name":"metaphyze"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1553890526,"creation_date":1553890060,"answer_id":55424836,"question_id":45552108,"body_markdown":"You can do this with Glide now.  See the &quot;Background Threads&quot; section here:\r\n\r\nhttps://bumptech.github.io/glide/doc/getting-started.html\r\n\r\nBitmap bitmap = Glide.with(context).asBitmap().load(new File(fileName)).skipMemoryCache(true).submit().get();\r\n\r\nGlide takes into consideration EXIF.  You&#39;ll need to load it on a background thread.  I was using Glide 4.9.0\r\n","title":"Is it possible to make BitmapFactory.decodeFile() respect EXIF?","body":"<p>You can do this with Glide now.  See the \"Background Threads\" section here:</p>\n\n<p><a href=\"https://bumptech.github.io/glide/doc/getting-started.html\" rel=\"noreferrer\">https://bumptech.github.io/glide/doc/getting-started.html</a></p>\n\n<p>Bitmap bitmap = Glide.with(context).asBitmap().load(new File(fileName)).skipMemoryCache(true).submit().get();</p>\n\n<p>Glide takes into consideration EXIF.  You'll need to load it on a background thread.  I was using Glide 4.9.0</p>\n"},{"tags":[],"owner":{"account_id":3450782,"reputation":1,"user_id":2890509,"display_name":"user2890509"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645564891,"creation_date":1645564891,"answer_id":71228460,"question_id":45552108,"body_markdown":"\tBitmap = getThumb(file, dimensionPixelSize);\r\n\r\n\tpublic Bitmap getThumb(String file, float thumbSize) throws FileNotFoundException, IOException, OutOfMemoryError {\r\n\r\n\t\tExifInterface exif = new ExifInterface(file);\r\n\t\tint orientation = exif.getAttributeInt(ExifInterface.TAG_ORIENTATION, ExifInterface.ORIENTATION_UNDEFINED);\r\n\r\n\t\tmOptions.inSampleSize = getSample(file, thumbSize);\r\n\t\tmOptions.inJustDecodeBounds = false;\r\n\r\n\t\tBitmap bitmap = BitmapFactory.decodeFile(file, mOptions);\r\n\r\n\t\tif (orientation == ExifInterface.ORIENTATION_ROTATE_90 || orientation == ExifInterface.ORIENTATION_ROTATE_270) {\r\n\t\t\treturn rotateBitmap(bitmap, 90);\r\n\t\t} else {\r\n\t\t\treturn bitmap;\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tpublic int getSample(String file, float thumbSize) throws FileNotFoundException, IOException, OutOfMemoryError {\r\n\t\tmOptions.inJustDecodeBounds = true;\r\n\t\tBitmapFactory.decodeFile(file, mOptions);\r\n\t\tint size = Math.round(Math.max(mOptions.outWidth, mOptions.outHeight) / thumbSize);\r\n\t\tif (size % 2 != 0) {\r\n\t\t\tsize--;\r\n\t\t}\r\n\t\treturn size;\r\n\t}\r\n\t\r\n\tpublic Bitmap rotateBitmap(Bitmap source, float angle) {\r\n\t\t Matrix matrix = new Matrix();\r\n\t\t matrix.postRotate(angle);\r\n\t\t return Bitmap.createBitmap(source, 0, 0, source.getWidth(), source.getHeight(), matrix, true);\r\n\t}","title":"Is it possible to make BitmapFactory.decodeFile() respect EXIF?","body":"<pre><code>Bitmap = getThumb(file, dimensionPixelSize);\n\npublic Bitmap getThumb(String file, float thumbSize) throws FileNotFoundException, IOException, OutOfMemoryError {\n\n    ExifInterface exif = new ExifInterface(file);\n    int orientation = exif.getAttributeInt(ExifInterface.TAG_ORIENTATION, ExifInterface.ORIENTATION_UNDEFINED);\n\n    mOptions.inSampleSize = getSample(file, thumbSize);\n    mOptions.inJustDecodeBounds = false;\n\n    Bitmap bitmap = BitmapFactory.decodeFile(file, mOptions);\n\n    if (orientation == ExifInterface.ORIENTATION_ROTATE_90 || orientation == ExifInterface.ORIENTATION_ROTATE_270) {\n        return rotateBitmap(bitmap, 90);\n    } else {\n        return bitmap;\n    }\n\n}\n\npublic int getSample(String file, float thumbSize) throws FileNotFoundException, IOException, OutOfMemoryError {\n    mOptions.inJustDecodeBounds = true;\n    BitmapFactory.decodeFile(file, mOptions);\n    int size = Math.round(Math.max(mOptions.outWidth, mOptions.outHeight) / thumbSize);\n    if (size % 2 != 0) {\n        size--;\n    }\n    return size;\n}\n\npublic Bitmap rotateBitmap(Bitmap source, float angle) {\n     Matrix matrix = new Matrix();\n     matrix.postRotate(angle);\n     return Bitmap.createBitmap(source, 0, 0, source.getWidth(), source.getHeight(), matrix, true);\n}\n</code></pre>\n"}],"owner":{"account_id":3305889,"reputation":13887,"user_id":3345644,"accept_rate":93,"display_name":"Alexander Abakumov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3394,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":45552197,"answer_count":4,"score":3,"last_activity_date":1645564891,"creation_date":1502125271,"question_id":45552108,"body_markdown":"In my tests, a `Bitmap` created by `BitmapFactory.decodeFile()` doesn&#39;t respect EXIF header.\r\n\r\nFor example, with portrait images taken by a devices that doesn&#39;t rotate actual pixel data depending on camera orientation but rather stores it in EXIF header, when I&#39;m calling `Bitmap.getWidth()` and `Bitmap.getHeight()`, they return incorrect values (height for width and vice versa).\r\n\r\nIs there a way to make  `BitmapFactory.decodeFile()` respect EXIF and produce a correct `Bitmap`?\r\n\r\nIf not, what is the recommended pattern to handle this issue?\r\n\r\nWithout an advice from experienced Android devs, the only way I see is to pre-process taken images (load, rotate according to EXIF, and save). But apart from the huge processing overhead, this might cause `OutOfMemoryException`s for large camera resolutions (in cases when you can&#39;t reduce the quality by using `BitmapFactory.Options.inSampleSize` to load downscaled images).","title":"Is it possible to make BitmapFactory.decodeFile() respect EXIF?","body":"<p>In my tests, a <code>Bitmap</code> created by <code>BitmapFactory.decodeFile()</code> doesn't respect EXIF header.</p>\n\n<p>For example, with portrait images taken by a devices that doesn't rotate actual pixel data depending on camera orientation but rather stores it in EXIF header, when I'm calling <code>Bitmap.getWidth()</code> and <code>Bitmap.getHeight()</code>, they return incorrect values (height for width and vice versa).</p>\n\n<p>Is there a way to make  <code>BitmapFactory.decodeFile()</code> respect EXIF and produce a correct <code>Bitmap</code>?</p>\n\n<p>If not, what is the recommended pattern to handle this issue?</p>\n\n<p>Without an advice from experienced Android devs, the only way I see is to pre-process taken images (load, rotate according to EXIF, and save). But apart from the huge processing overhead, this might cause <code>OutOfMemoryException</code>s for large camera resolutions (in cases when you can't reduce the quality by using <code>BitmapFactory.Options.inSampleSize</code> to load downscaled images).</p>\n"},{"tags":["java","gis","geospatial","jts"],"comments":[{"owner":{"account_id":195980,"reputation":10228,"user_id":439194,"accept_rate":100,"display_name":"Ian Turton"},"score":0,"creation_date":1487322640,"post_id":42271695,"comment_id":71742596,"body_markdown":"is an error of 2m in 8000m significant to your problem?","body":"is an error of 2m in 8000m significant to your problem?"},{"owner":{"account_id":4890357,"reputation":113,"user_id":3941668,"display_name":"Miguel &#193;ngel Garc&#237;a"},"score":0,"creation_date":1487323833,"post_id":42271695,"comment_id":71743505,"body_markdown":"Yes, is very significant in this context, because the fuchsia area represents a not allowed area, and precision is needed.","body":"Yes, is very significant in this context, because the fuchsia area represents a not allowed area, and precision is needed."},{"owner":{"account_id":195980,"reputation":10228,"user_id":439194,"accept_rate":100,"display_name":"Ian Turton"},"score":0,"creation_date":1487324134,"post_id":42271695,"comment_id":71743733,"body_markdown":"in that case using google maps is probably inappropriate as it uses a spherical representation of the Earth and then a Mercator projection to make a flat map, as you have seen both these choices cause difficulties with accuracy.","body":"in that case using google maps is probably inappropriate as it uses a spherical representation of the Earth and then a Mercator projection to make a flat map, as you have seen both these choices cause difficulties with accuracy."},{"owner":{"account_id":4890357,"reputation":113,"user_id":3941668,"display_name":"Miguel &#193;ngel Garc&#237;a"},"score":0,"creation_date":1487572771,"post_id":42271695,"comment_id":71828190,"body_markdown":"So, what would the best map representation insted of using Google Maps and MySQL? I mean, the best representation with accuracy. Thank you!","body":"So, what would the best map representation insted of using Google Maps and MySQL? I mean, the best representation with accuracy. Thank you!"},{"owner":{"account_id":195980,"reputation":10228,"user_id":439194,"accept_rate":100,"display_name":"Ian Turton"},"score":0,"creation_date":1487580519,"post_id":42271695,"comment_id":71832122,"body_markdown":"probably openlayers or leaflet as client which allow you to pick a local projection, I&#39;d use GeoServer on top of MySQL to support reprojection","body":"probably openlayers or leaflet as client which allow you to pick a local projection, I&#39;d use GeoServer on top of MySQL to support reprojection"},{"owner":{"account_id":4890357,"reputation":113,"user_id":3941668,"display_name":"Miguel &#193;ngel Garc&#237;a"},"score":0,"creation_date":1487587637,"post_id":42271695,"comment_id":71836550,"body_markdown":"Thank you @iant! I&#39;ll do a deeper study of it ;)","body":"Thank you @iant! I&#39;ll do a deeper study of it ;)"},{"owner":{"account_id":4890357,"reputation":113,"user_id":3941668,"display_name":"Miguel &#193;ngel Garc&#237;a"},"score":0,"creation_date":1487590754,"post_id":42271695,"comment_id":71838460,"body_markdown":"But in the context that is shown in te original question, what could the best library to represent the circle in database? E.g. What is the library that I should use to transform the circle, given by its center and radius, to a polygon in the same reference system as Google Maps do?","body":"But in the context that is shown in te original question, what could the best library to represent the circle in database? E.g. What is the library that I should use to transform the circle, given by its center and radius, to a polygon in the same reference system as Google Maps do?"},{"owner":{"account_id":195980,"reputation":10228,"user_id":439194,"accept_rate":100,"display_name":"Ian Turton"},"score":0,"creation_date":1487590958,"post_id":42271695,"comment_id":71838600,"body_markdown":"with google maps +/- 5m is probably the best you can hope for.","body":"with google maps +/- 5m is probably the best you can hope for."}],"answers":[{"tags":[],"owner":{"account_id":24344933,"reputation":1,"user_id":18281730,"display_name":"Ravid luz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645564670,"creation_date":1645564670,"answer_id":71228415,"question_id":42271695,"body_markdown":"I have encountered a similar problem myself. The JTS library is not familiar with curved surfaces and only works with 2D plains. This is a geometry library and not a geography library.\r\nAfter searching in a few libraries (`geolatte-geom` and `GeographicLib`),\r\nI found the `GeoTools` library which I believe should work for you too.\r\nHere is a reference that I hope would help you: https://stackoverflow.com/questions/44249945/how-to-use-geometricshapefactory-in-geotools-to-create-a-circle-on-map. And one last important thing: Make sure you use the right coordinate system (the most common one is wgs84).","title":"Represent a circle in a geodesic spatial","body":"<p>I have encountered a similar problem myself. The JTS library is not familiar with curved surfaces and only works with 2D plains. This is a geometry library and not a geography library.\nAfter searching in a few libraries (<code>geolatte-geom</code> and <code>GeographicLib</code>),\nI found the <code>GeoTools</code> library which I believe should work for you too.\nHere is a reference that I hope would help you: <a href=\"https://stackoverflow.com/questions/44249945/how-to-use-geometricshapefactory-in-geotools-to-create-a-circle-on-map\">How to use GeometricShapeFactory in geoTools to create a Circle on map</a>. And one last important thing: Make sure you use the right coordinate system (the most common one is wgs84).</p>\n"}],"owner":{"account_id":4890357,"reputation":113,"user_id":3941668,"display_name":"Miguel &#193;ngel Garc&#237;a"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":443,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1645564670,"creation_date":1487242083,"question_id":42271695,"body_markdown":"I am developing a web application using Google Maps to draw circles in the map. This circles are stored in a MySQL 5.7 database, and its representation is done with [Polygon object][1] from [JTS library][2].\r\n\r\nA circle is stored  with center and radius too. When a circle polygon is drawn in Google Maps, center and radius are obtained from database and then the [circle object][3] of Google Maps is created.\r\n\r\nThe results of drawing a circle vary when it is drawn with the [polygon object from Google Maps][4] and its center and radius stored in database, and when it is drawn from the Polygon stored in database. There are some differences, in meters, between both bounds. \r\n\r\nAs is shown in this example:\r\n\r\n[![circle bound differences][5]][5] \r\n\r\nThe black border circle is drawn with Google Maps Circle object and the fuchsia border circle is drawn with Google Maps Polygon object. Zoom is set up to the maximum value. As you can appreciate is quite similar, but there is an error, about 2 o 3 meters. In this example, the circle has a radius of 8.000 m (8 km) and is located in Madrid.\r\n\r\nThis problem grows when radius circle is bigger.\r\n\r\nProbably, this error occurs because of the use of JTS library I don&#39;t know if using a geodesic library, like [Spatial4j][6], solve this (I&#39;ve tried this but I&#39;ve have another problems and, as I mentioned before, I don&#39;t know if this is the solution).\r\n\r\nThank you very much!\r\n\r\n\r\n  [1]: http://grepcode.com/file/repo1.maven.org/maven2/com.vividsolutions/jts/1.11/com/vividsolutions/jts/geom/Polygon.java\r\n  [2]: https://github.com/locationtech/jts\r\n  [3]: https://developers.google.com/maps/documentation/javascript/examples/circle-simple?hl=es-419\r\n  [4]: https://developers.google.com/maps/documentation/javascript/examples/polygon-simple?hl=es-419\r\n  [5]: https://i.stack.imgur.com/rjaJ5.png\r\n  [6]: https://github.com/locationtech/spatial4j","title":"Represent a circle in a geodesic spatial","body":"<p>I am developing a web application using Google Maps to draw circles in the map. This circles are stored in a MySQL 5.7 database, and its representation is done with <a href=\"http://grepcode.com/file/repo1.maven.org/maven2/com.vividsolutions/jts/1.11/com/vividsolutions/jts/geom/Polygon.java\" rel=\"nofollow noreferrer\">Polygon object</a> from <a href=\"https://github.com/locationtech/jts\" rel=\"nofollow noreferrer\">JTS library</a>.</p>\n\n<p>A circle is stored  with center and radius too. When a circle polygon is drawn in Google Maps, center and radius are obtained from database and then the <a href=\"https://developers.google.com/maps/documentation/javascript/examples/circle-simple?hl=es-419\" rel=\"nofollow noreferrer\">circle object</a> of Google Maps is created.</p>\n\n<p>The results of drawing a circle vary when it is drawn with the <a href=\"https://developers.google.com/maps/documentation/javascript/examples/polygon-simple?hl=es-419\" rel=\"nofollow noreferrer\">polygon object from Google Maps</a> and its center and radius stored in database, and when it is drawn from the Polygon stored in database. There are some differences, in meters, between both bounds. </p>\n\n<p>As is shown in this example:</p>\n\n<p><a href=\"https://i.stack.imgur.com/rjaJ5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rjaJ5.png\" alt=\"circle bound differences\"></a> </p>\n\n<p>The black border circle is drawn with Google Maps Circle object and the fuchsia border circle is drawn with Google Maps Polygon object. Zoom is set up to the maximum value. As you can appreciate is quite similar, but there is an error, about 2 o 3 meters. In this example, the circle has a radius of 8.000 m (8 km) and is located in Madrid.</p>\n\n<p>This problem grows when radius circle is bigger.</p>\n\n<p>Probably, this error occurs because of the use of JTS library I don't know if using a geodesic library, like <a href=\"https://github.com/locationtech/spatial4j\" rel=\"nofollow noreferrer\">Spatial4j</a>, solve this (I've tried this but I've have another problems and, as I mentioned before, I don't know if this is the solution).</p>\n\n<p>Thank you very much!</p>\n"},{"tags":["java","eclipse","eclipse-plugin","eclipse-rcp"],"comments":[{"owner":{"account_id":3159259,"reputation":109668,"user_id":2670892,"display_name":"greg-449"},"score":1,"creation_date":1468836739,"post_id":38433914,"comment_id":64273533,"body_markdown":"Perhaps you explain in more detail what you are trying to achieve because there is probably a better way.","body":"Perhaps you explain in more detail what you are trying to achieve because there is probably a better way."},{"owner":{"account_id":3564072,"reputation":1696,"user_id":2976142,"accept_rate":100,"display_name":"Přemysl Šťastn&#253;"},"score":0,"creation_date":1468836934,"post_id":38433914,"comment_id":64273690,"body_markdown":"I am trying to write plug in into jaspersoft studio, which is based on eclipse. It should can open and save file directly from database, without writing it on hdd.","body":"I am trying to write plug in into jaspersoft studio, which is based on eclipse. It should can open and save file directly from database, without writing it on hdd."}],"answers":[{"tags":[],"owner":{"account_id":3159259,"reputation":109668,"user_id":2670892,"display_name":"greg-449"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1468836495,"creation_date":1468836495,"answer_id":38433980,"question_id":38433914,"body_markdown":"If you mean `IFolder` you can&#39;t. The standard Eclipse workspace code does not support in-memory folders or files.","title":"Making in-memory workspace or folder in Eclipse","body":"<p>If you mean <code>IFolder</code> you can't. The standard Eclipse workspace code does not support in-memory folders or files.</p>\n"}],"owner":{"account_id":3564072,"reputation":1696,"user_id":2976142,"accept_rate":100,"display_name":"Přemysl Šťastn&#253;"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":163,"favorite_count":0,"down_vote_count":3,"up_vote_count":2,"accepted_answer_id":38433980,"answer_count":1,"score":-1,"last_activity_date":1645564526,"creation_date":1468836311,"question_id":38433914,"body_markdown":"I&#39;m working on eclipse plugin. I would like to make by it virtual folder or whole virtual workspace in Eclipse without having it written in File system. (Ergo every read and write, which would Eclipse try to do with files in folder or workspace, would be processed only in memory of plugin.)\r\n\r\nBut I can&#39;t find any suitable method, how to do it. Thanks for help.","title":"Making in-memory workspace or folder in Eclipse","body":"<p>I'm working on eclipse plugin. I would like to make by it virtual folder or whole virtual workspace in Eclipse without having it written in File system. (Ergo every read and write, which would Eclipse try to do with files in folder or workspace, would be processed only in memory of plugin.)</p>\n\n<p>But I can't find any suitable method, how to do it. Thanks for help.</p>\n"},{"tags":["java","swing","graphics","jframe","awt"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1645126852,"post_id":71163434,"comment_id":125794975,"body_markdown":"Remove the call to `setSize` from your painting method.  Under no circumstances should a painting method change the state of a component.  A painting method must do painting only.","body":"Remove the call to <code>setSize</code> from your painting method.  Under no circumstances should a painting method change the state of a component.  A painting method must do painting only."},{"owner":{"account_id":20733885,"reputation":36,"user_id":15225154,"display_name":"Ranger 4860"},"score":0,"creation_date":1645127465,"post_id":71163434,"comment_id":125795189,"body_markdown":"I have edited it out but can you please explain why?","body":"I have edited it out but can you please explain why?"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1645129691,"post_id":71163434,"comment_id":125795939,"body_markdown":"You only want to call setSize once, not every time the system requests that the window repaint itself.  Those requests can happen for many different reasons, most of them based on user actions, which are beyond a program’s control.  The same is true for all component properties.","body":"You only want to call setSize once, not every time the system requests that the window repaint itself.  Those requests can happen for many different reasons, most of them based on user actions, which are beyond a program’s control.  The same is true for all component properties."},{"owner":{"account_id":20733885,"reputation":36,"user_id":15225154,"display_name":"Ranger 4860"},"score":0,"creation_date":1645129999,"post_id":71163434,"comment_id":125796050,"body_markdown":"Thank you I will keep that in mind next time","body":"Thank you I will keep that in mind next time"}],"answers":[{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645128817,"creation_date":1645128817,"answer_id":71164814,"question_id":71163434,"body_markdown":"Adds after `setLayout`. One often uses an overloaded `add` with an extra parameter for a layout&#39;s specific constraint.\r\n\r\nBy default the content pane the frame&#39;s `add`s are done upon, has a `BorderLayout` with center, left and so on.\r\n\r\nThe horizontal &quot;line&quot; in a flow is vertically centered. Setting a preferred height ensures a line component is filled up.\r\n\r\n    d.setPreferredSize(new Dimension(100, 1000)); \r\n\r\nOf course an other layout might serve better; depending on what you want - just experiment.","title":"Having trouble aligning graphics in Java","body":"<p>Adds after <code>setLayout</code>. One often uses an overloaded <code>add</code> with an extra parameter for a layout's specific constraint.</p>\n<p>By default the content pane the frame's <code>add</code>s are done upon, has a <code>BorderLayout</code> with center, left and so on.</p>\n<p>The horizontal &quot;line&quot; in a flow is vertically centered. Setting a preferred height ensures a line component is filled up.</p>\n<pre><code>d.setPreferredSize(new Dimension(100, 1000)); \n</code></pre>\n<p>Of course an other layout might serve better; depending on what you want - just experiment.</p>\n"},{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1645140682,"creation_date":1645134580,"answer_id":71165805,"question_id":71163434,"body_markdown":"Trying to layout components like this isn&#39;t the easiest thing to to, especially when you consider the complexities of `JLabel` and the possibilities of other layout constraints.\r\n\r\nIf you have the image and you&#39;re drawing the lines via custom painting, I would just custom paint the whole thing\r\n\r\nStarting with...\r\n\r\n[![enter image description here][1]][1]\r\n\r\nWe can produce something like...\r\n\r\n[![enter image description here][2]][2]\r\n\r\n    import java.awt.BasicStroke;\r\n    import java.awt.Color;\r\n    import java.awt.Dimension;\r\n    import java.awt.EventQueue;\r\n    import java.awt.Graphics;\r\n    import java.awt.Graphics2D;\r\n    import java.awt.image.BufferedImage;\r\n    import java.io.IOException;\r\n    import java.util.logging.Level;\r\n    import java.util.logging.Logger;\r\n    import javax.imageio.ImageIO;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n\r\n    public final class Main {\r\n\r\n        public static void main(String[] args) {\r\n            new Main();\r\n        }\r\n\r\n        public Main() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    try {\r\n                        JFrame frame = new JFrame();\r\n                        frame.add(new ClefWithLinesPane());\r\n                        frame.pack();\r\n                        frame.setLocationRelativeTo(null);\r\n                        frame.setVisible(true);\r\n                    } catch (IOException ex) {\r\n                        Logger.getLogger(Main.class.getName()).log(Level.SEVERE, null, ex);\r\n                    }\r\n                }\r\n            });\r\n        }\r\n\r\n        public class ClefWithLinesPane extends JPanel {\r\n\r\n            private BufferedImage trebbleClef;\r\n\r\n            public ClefWithLinesPane() throws IOException {\r\n                trebbleClef = ImageIO.read(getClass().getResource(&quot;/images/ClefLines.png&quot;));\r\n                setBackground(Color.WHITE);\r\n            }\r\n\r\n            @Override\r\n            public Dimension getPreferredSize() {\r\n                return new Dimension(800, 200);\r\n            }\r\n\r\n            @Override\r\n            protected void paintComponent(Graphics g) {\r\n                super.paintComponent(g);\r\n                Graphics2D g2d = (Graphics2D) g.create();\r\n                int x = 0;\r\n                int y = (getHeight() - trebbleClef.getHeight()) / 2;\r\n                g2d.drawImage(trebbleClef, x, y, this);\r\n\r\n                int[] lines = new int[] {\r\n                    30, 60, 89, 120, 149\r\n                };\r\n\r\n                x = trebbleClef.getWidth();\r\n\r\n                g2d.setStroke(new BasicStroke(2));\r\n                for (int line = 0; line &lt; lines.length; line++) {\r\n                    y = lines[line];\r\n                    g2d.drawLine(x, y, getWidth(), y);\r\n                }\r\n\r\n                g2d.dispose();\r\n            }\r\n\r\n        }\r\n    }\r\n\r\nBut... as you can see, the lines don&#39;t &quot;quite&quot; match up, now this is simply an issue with source image and you could spend some time cleaning it up, or, you could just dispense with the lines of the clef itself and do those you&#39;re self, for example...\r\n\r\nStarting with...\r\n\r\n[![enter image description here][3]][3]\r\n\r\nWe could produce something like...\r\n\r\n[![enter image description here][4]][4]\r\n\r\n    import java.awt.BasicStroke;\r\n    import java.awt.Color;\r\n    import java.awt.Dimension;\r\n    import java.awt.EventQueue;\r\n    import java.awt.Graphics;\r\n    import java.awt.Graphics2D;\r\n    import java.awt.image.BufferedImage;\r\n    import java.io.IOException;\r\n    import java.util.logging.Level;\r\n    import java.util.logging.Logger;\r\n    import javax.imageio.ImageIO;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n\r\n    public final class Main {\r\n\r\n        public static void main(String[] args) {\r\n            new Main();\r\n        }\r\n\r\n        public Main() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    try {\r\n                        JFrame frame = new JFrame();\r\n                        frame.add(new ClefWithOutLinesPane());\r\n                        frame.pack();\r\n                        frame.setLocationRelativeTo(null);\r\n                        frame.setVisible(true);\r\n                    } catch (IOException ex) {\r\n                        Logger.getLogger(Main.class.getName()).log(Level.SEVERE, null, ex);\r\n                    }\r\n                }\r\n            });\r\n        }\r\n\r\n        public class ClefWithOutLinesPane extends JPanel {\r\n\r\n            private BufferedImage trebbleClef;\r\n\r\n            public ClefWithOutLinesPane() throws IOException {\r\n                trebbleClef = ImageIO.read(getClass().getResource(&quot;/images/Clef.png&quot;));\r\n                setBackground(Color.WHITE);\r\n            }\r\n\r\n            @Override\r\n            public Dimension getPreferredSize() {\r\n                return new Dimension(800, 200);\r\n            }\r\n\r\n            @Override\r\n            protected void paintComponent(Graphics g) {\r\n                super.paintComponent(g);\r\n                Graphics2D g2d = (Graphics2D) g.create();\r\n\r\n                int minLineY = 30;\r\n                int maxLineY = 150;\r\n\r\n                int lineSpacing = (maxLineY - minLineY) / 4;\r\n\r\n                int x = 10;\r\n\r\n                g2d.setStroke(new BasicStroke(8));\r\n                g2d.drawLine(x, minLineY + 3, x, maxLineY - 3);\r\n                int y = (getHeight() - trebbleClef.getHeight()) / 2;\r\n                g2d.drawImage(trebbleClef, x + 10, y, this);\r\n\r\n                g2d.setStroke(new BasicStroke(2));\r\n                for (int line = 0; line &lt; 5; line++) {\r\n                    y = minLineY + (lineSpacing * line);\r\n                    g2d.drawLine(x, y, getWidth(), y);\r\n                }\r\n\r\n                g2d.dispose();\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/aH3Jt.png\r\n  [2]: https://i.stack.imgur.com/cNQNG.png\r\n  [3]: https://i.stack.imgur.com/Hpr45.png\r\n  [4]: https://i.stack.imgur.com/AQXJn.png","title":"Having trouble aligning graphics in Java","body":"<p>Trying to layout components like this isn't the easiest thing to to, especially when you consider the complexities of <code>JLabel</code> and the possibilities of other layout constraints.</p>\n<p>If you have the image and you're drawing the lines via custom painting, I would just custom paint the whole thing</p>\n<p>Starting with...</p>\n<p><a href=\"https://i.stack.imgur.com/aH3Jt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/aH3Jt.png\" alt=\"enter image description here\" /></a></p>\n<p>We can produce something like...</p>\n<p><a href=\"https://i.stack.imgur.com/cNQNG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cNQNG.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>import java.awt.BasicStroke;\nimport java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.EventQueue;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.image.BufferedImage;\nimport java.io.IOException;\nimport java.util.logging.Level;\nimport java.util.logging.Logger;\nimport javax.imageio.ImageIO;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\n\npublic final class Main {\n\n    public static void main(String[] args) {\n        new Main();\n    }\n\n    public Main() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                try {\n                    JFrame frame = new JFrame();\n                    frame.add(new ClefWithLinesPane());\n                    frame.pack();\n                    frame.setLocationRelativeTo(null);\n                    frame.setVisible(true);\n                } catch (IOException ex) {\n                    Logger.getLogger(Main.class.getName()).log(Level.SEVERE, null, ex);\n                }\n            }\n        });\n    }\n\n    public class ClefWithLinesPane extends JPanel {\n\n        private BufferedImage trebbleClef;\n\n        public ClefWithLinesPane() throws IOException {\n            trebbleClef = ImageIO.read(getClass().getResource(&quot;/images/ClefLines.png&quot;));\n            setBackground(Color.WHITE);\n        }\n\n        @Override\n        public Dimension getPreferredSize() {\n            return new Dimension(800, 200);\n        }\n\n        @Override\n        protected void paintComponent(Graphics g) {\n            super.paintComponent(g);\n            Graphics2D g2d = (Graphics2D) g.create();\n            int x = 0;\n            int y = (getHeight() - trebbleClef.getHeight()) / 2;\n            g2d.drawImage(trebbleClef, x, y, this);\n\n            int[] lines = new int[] {\n                30, 60, 89, 120, 149\n            };\n\n            x = trebbleClef.getWidth();\n\n            g2d.setStroke(new BasicStroke(2));\n            for (int line = 0; line &lt; lines.length; line++) {\n                y = lines[line];\n                g2d.drawLine(x, y, getWidth(), y);\n            }\n\n            g2d.dispose();\n        }\n\n    }\n}\n</code></pre>\n<p>But... as you can see, the lines don't &quot;quite&quot; match up, now this is simply an issue with source image and you could spend some time cleaning it up, or, you could just dispense with the lines of the clef itself and do those you're self, for example...</p>\n<p>Starting with...</p>\n<p><a href=\"https://i.stack.imgur.com/Hpr45.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Hpr45.png\" alt=\"enter image description here\" /></a></p>\n<p>We could produce something like...</p>\n<p><a href=\"https://i.stack.imgur.com/AQXJn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AQXJn.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>import java.awt.BasicStroke;\nimport java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.EventQueue;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.image.BufferedImage;\nimport java.io.IOException;\nimport java.util.logging.Level;\nimport java.util.logging.Logger;\nimport javax.imageio.ImageIO;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\n\npublic final class Main {\n\n    public static void main(String[] args) {\n        new Main();\n    }\n\n    public Main() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                try {\n                    JFrame frame = new JFrame();\n                    frame.add(new ClefWithOutLinesPane());\n                    frame.pack();\n                    frame.setLocationRelativeTo(null);\n                    frame.setVisible(true);\n                } catch (IOException ex) {\n                    Logger.getLogger(Main.class.getName()).log(Level.SEVERE, null, ex);\n                }\n            }\n        });\n    }\n\n    public class ClefWithOutLinesPane extends JPanel {\n\n        private BufferedImage trebbleClef;\n\n        public ClefWithOutLinesPane() throws IOException {\n            trebbleClef = ImageIO.read(getClass().getResource(&quot;/images/Clef.png&quot;));\n            setBackground(Color.WHITE);\n        }\n\n        @Override\n        public Dimension getPreferredSize() {\n            return new Dimension(800, 200);\n        }\n\n        @Override\n        protected void paintComponent(Graphics g) {\n            super.paintComponent(g);\n            Graphics2D g2d = (Graphics2D) g.create();\n\n            int minLineY = 30;\n            int maxLineY = 150;\n\n            int lineSpacing = (maxLineY - minLineY) / 4;\n\n            int x = 10;\n\n            g2d.setStroke(new BasicStroke(8));\n            g2d.drawLine(x, minLineY + 3, x, maxLineY - 3);\n            int y = (getHeight() - trebbleClef.getHeight()) / 2;\n            g2d.drawImage(trebbleClef, x + 10, y, this);\n\n            g2d.setStroke(new BasicStroke(2));\n            for (int line = 0; line &lt; 5; line++) {\n                y = minLineY + (lineSpacing * line);\n                g2d.drawLine(x, y, getWidth(), y);\n            }\n\n            g2d.dispose();\n        }\n\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":20733885,"reputation":36,"user_id":15225154,"display_name":"Ranger 4860"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71165805,"answer_count":2,"score":0,"last_activity_date":1645563986,"creation_date":1645121921,"question_id":71163434,"body_markdown":"So I am using a JFrame object to open up a window and add a bunch of graphics first I am adding an image then I am trying to add some lines, But it seems like the line start from the Y center of the previous image I would like for it to start at the top of the page\r\nhere is my code for the JFrame:\r\n```\r\n\tJFrame f = new JFrame();\r\n    JLabel trebeclef = new JLabel(new ImageIcon(getClass().getClassLoader().getResource(&quot;Some image&quot;)));\r\n    Draw d = new Draw();\r\n    f.add(trebeclef);\r\n    f.add(d);\t\r\n    f.setSize(1000,1000);\r\n    f.getContentPane().setBackground(Color.white);\r\n    f.setLayout(new FlowLayout(FlowLayout.LEFT,0,0));\r\n    f.pack();\r\n    f.setVisible(true);\r\n    f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n```\r\nhere is the code for the Draw class\r\n```\r\npublic void paint(Graphics g2) {\r\n\t\tsuper.paintComponent(g2);\r\n\t\tGraphics2D g = (Graphics2D) g2;\r\n\t    g.setStroke(new BasicStroke(2));\r\n        g.drawLine(0, 0, 100, 0);\r\n\t}\r\n```\r\nit results in this\r\n\r\n[![enter image description here][1]][1]\r\n\r\nAny help appreciated, thanks\r\n\r\n  [1]: https://i.stack.imgur.com/dsUtx.png","title":"Having trouble aligning graphics in Java","body":"<p>So I am using a JFrame object to open up a window and add a bunch of graphics first I am adding an image then I am trying to add some lines, But it seems like the line start from the Y center of the previous image I would like for it to start at the top of the page\nhere is my code for the JFrame:</p>\n<pre><code>    JFrame f = new JFrame();\n    JLabel trebeclef = new JLabel(new ImageIcon(getClass().getClassLoader().getResource(&quot;Some image&quot;)));\n    Draw d = new Draw();\n    f.add(trebeclef);\n    f.add(d);   \n    f.setSize(1000,1000);\n    f.getContentPane().setBackground(Color.white);\n    f.setLayout(new FlowLayout(FlowLayout.LEFT,0,0));\n    f.pack();\n    f.setVisible(true);\n    f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n</code></pre>\n<p>here is the code for the Draw class</p>\n<pre><code>public void paint(Graphics g2) {\n        super.paintComponent(g2);\n        Graphics2D g = (Graphics2D) g2;\n        g.setStroke(new BasicStroke(2));\n        g.drawLine(0, 0, 100, 0);\n    }\n</code></pre>\n<p>it results in this</p>\n<p><a href=\"https://i.stack.imgur.com/dsUtx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dsUtx.png\" alt=\"enter image description here\" /></a></p>\n<p>Any help appreciated, thanks</p>\n"},{"tags":["java","mapstruct","annotation-processing"],"comments":[{"owner":{"account_id":23191137,"reputation":1266,"user_id":17287498,"display_name":"Ben Zegveld"},"score":0,"creation_date":1645138033,"post_id":71095630,"comment_id":125798464,"body_markdown":"what type of object are dictionary and dictionaryField in this case? And how stable are these values per mapping?\nFor example: the dictionaryField could be a String and always called the same for the same mapping, while the dictionary is a Dictionary class, which could change depending on the call.","body":"what type of object are dictionary and dictionaryField in this case? And how stable are these values per mapping? For example: the dictionaryField could be a String and always called the same for the same mapping, while the dictionary is a Dictionary class, which could change depending on the call."},{"owner":{"account_id":24238651,"reputation":1,"user_id":18191364,"display_name":"aphoeriks"},"score":0,"creation_date":1645256504,"post_id":71095630,"comment_id":125826974,"body_markdown":"it`s a record from db which can have any amount of values with any amount of names:) it has 2 main methods getId which return id of first record from &quot;dictionaryName&quot; dictionary by &quot;fieldName&quot; name of one of fields in that dictionary and &quot;fieldValue&quot; value of that field. uuid id = getId(dictionaryName, fieldName, fieldValue); And method which returns value of the field by id of record, name of dictionary and name of field. String fieldValue = getValue(dictionaryName, fieldName, id);","body":"it`s a record from db which can have any amount of values with any amount of names:) it has 2 main methods getId which return id of first record from &quot;dictionaryName&quot; dictionary by &quot;fieldName&quot; name of one of fields in that dictionary and &quot;fieldValue&quot; value of that field. uuid id = getId(dictionaryName, fieldName, fieldValue); And method which returns value of the field by id of record, name of dictionary and name of field. String fieldValue = getValue(dictionaryName, fieldName, id);"}],"answers":[{"tags":[],"owner":{"account_id":23191137,"reputation":1266,"user_id":17287498,"display_name":"Ben Zegveld"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645279753,"creation_date":1645279753,"answer_id":71185749,"question_id":71095630,"body_markdown":"Currently it is not possible to retrieve the fieldname within mapstruct, what however is possible is using an `@Mapping` per field to minimize the amount of mapping code.\r\n\r\nfor example:\r\n```\r\n    @Mapping( target = &quot;myUuidFieldName&quot;, expression = &#39;java(dict.getId(&quot;myUuidFieldName&quot;, source.getMyUuidFieldName()))&#39; )\r\n    @Mapping( target = &quot;myStringFieldName&quot;, expression = &#39;java(dict.getValue(&quot;myStringFieldName&quot;, source.getMyStringFieldName()))&#39; )\r\n    Target map(Source source, @Context Dictionary dict);\r\n```\r\nand have a separate class called `Dictionary` in which you store the mappings for retrieval. This way you can easily replace the `Dictionary` with another `Dictionary` implementation in case you need a different translation.\r\n\r\nExample of a `Dictionary` class:\r\n```\r\nprivate class Dictionary{\r\n    DbRecordAccessor dbRecord;\r\n    Map&lt;String, RetrievalInformation&gt; retrievalMap;\r\n    // constructor and retrievalMap initialization methods\r\n\r\n    UUID getId(String fieldName, String value){\r\n        RetrievalInformation info = retrievalMap.get(fieldName);\r\n        return dbRecord.getId(info.getDictionaryName(), fieldName, info.getDictionaryField());\r\n    }\r\n\r\n    String getValue(String fieldName, String value){\r\n        RetrievalInformation info = retrievalMap.get(fieldName);\r\n        return dbRecord.getValue(info.getDictionaryName(), fieldName, getId(fieldName, value));\r\n    }\r\n}\r\n```\r\n\r\n[The following is not (yet) supported by mapstruct. See here for more information.](https://github.com/mapstruct/mapstruct/issues/2688)\r\n\r\nIt would be nice if you could have done the following:\r\n```\r\n    Target map(Source source, @Context Dictionary dict);\r\n\r\n    UUID getId(String value, @TargetProperty String targetField, @Context Dictionary dict) {\r\n        return dict.getId(targetField, value);\r\n    }\r\n\r\n```","title":"How to extend mapstruct`s @mapping annotation","body":"<p>Currently it is not possible to retrieve the fieldname within mapstruct, what however is possible is using an <code>@Mapping</code> per field to minimize the amount of mapping code.</p>\n<p>for example:</p>\n<pre><code>    @Mapping( target = &quot;myUuidFieldName&quot;, expression = 'java(dict.getId(&quot;myUuidFieldName&quot;, source.getMyUuidFieldName()))' )\n    @Mapping( target = &quot;myStringFieldName&quot;, expression = 'java(dict.getValue(&quot;myStringFieldName&quot;, source.getMyStringFieldName()))' )\n    Target map(Source source, @Context Dictionary dict);\n</code></pre>\n<p>and have a separate class called <code>Dictionary</code> in which you store the mappings for retrieval. This way you can easily replace the <code>Dictionary</code> with another <code>Dictionary</code> implementation in case you need a different translation.</p>\n<p>Example of a <code>Dictionary</code> class:</p>\n<pre><code>private class Dictionary{\n    DbRecordAccessor dbRecord;\n    Map&lt;String, RetrievalInformation&gt; retrievalMap;\n    // constructor and retrievalMap initialization methods\n\n    UUID getId(String fieldName, String value){\n        RetrievalInformation info = retrievalMap.get(fieldName);\n        return dbRecord.getId(info.getDictionaryName(), fieldName, info.getDictionaryField());\n    }\n\n    String getValue(String fieldName, String value){\n        RetrievalInformation info = retrievalMap.get(fieldName);\n        return dbRecord.getValue(info.getDictionaryName(), fieldName, getId(fieldName, value));\n    }\n}\n</code></pre>\n<p><a href=\"https://github.com/mapstruct/mapstruct/issues/2688\" rel=\"nofollow noreferrer\">The following is not (yet) supported by mapstruct. See here for more information.</a></p>\n<p>It would be nice if you could have done the following:</p>\n<pre><code>    Target map(Source source, @Context Dictionary dict);\n\n    UUID getId(String value, @TargetProperty String targetField, @Context Dictionary dict) {\n        return dict.getId(targetField, value);\n    }\n\n</code></pre>\n"}],"owner":{"account_id":24238651,"reputation":1,"user_id":18191364,"display_name":"aphoeriks"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":610,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1645563744,"creation_date":1644697815,"question_id":71095630,"body_markdown":"I have a dictionaries which has multiple fields like: `id`, `code`, `ruName`, `enName`. `id` is a UUID, the others are `String`s.\r\n\r\nWhat I want is something like that:\r\n\r\n```\r\n@Mapping(source = &quot;sourceName&quot;, target = &quot;targetName&quot;, dictionary = &quot;dictName&quot;, dictionaryField = &quot;dictionaryField&quot;)\r\n```\r\n\r\nand based on target type it will generate something like that\r\n\r\n```\r\nif target type UUID \r\n    return target.targetName(getId(dictionary ,dictionaryField , sourceName));\r\n\r\nif target type String\r\n    return target.targetName(getValue(dictionary, dictionaryField, sourceName));\r\n```\r\n\r\nWhat I have now is a generator which generates mappers for every dictionary and for every field in format `dictionaryByFieldName`, so I can use this format:\r\n\r\n```\r\n@Mapping(source=&quot;sourceName&quot;, target=&quot;targetName&quot;, qualifiedByName = &quot;dictionaryByFieldName&quot;)\r\n```\r\n\r\nBut I don&#39;t like it cos most of created mappers have no uses in project and aren&#39;t valid cos not every field is unique to get id by field-_-\r\n","title":"How to extend mapstruct`s @mapping annotation","body":"<p>I have a dictionaries which has multiple fields like: <code>id</code>, <code>code</code>, <code>ruName</code>, <code>enName</code>. <code>id</code> is a UUID, the others are <code>String</code>s.</p>\n<p>What I want is something like that:</p>\n<pre><code>@Mapping(source = &quot;sourceName&quot;, target = &quot;targetName&quot;, dictionary = &quot;dictName&quot;, dictionaryField = &quot;dictionaryField&quot;)\n</code></pre>\n<p>and based on target type it will generate something like that</p>\n<pre><code>if target type UUID \n    return target.targetName(getId(dictionary ,dictionaryField , sourceName));\n\nif target type String\n    return target.targetName(getValue(dictionary, dictionaryField, sourceName));\n</code></pre>\n<p>What I have now is a generator which generates mappers for every dictionary and for every field in format <code>dictionaryByFieldName</code>, so I can use this format:</p>\n<pre><code>@Mapping(source=&quot;sourceName&quot;, target=&quot;targetName&quot;, qualifiedByName = &quot;dictionaryByFieldName&quot;)\n</code></pre>\n<p>But I don't like it cos most of created mappers have no uses in project and aren't valid cos not every field is unique to get id by field-_-</p>\n"},{"tags":["java","json","jackson","deserialization"],"answers":[{"tags":[],"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1645563287,"creation_date":1645550284,"answer_id":71225573,"question_id":71224888,"body_markdown":"Here is your problem - `Pojo&lt;?&gt; deserialized = mapper.readValue(json, Pojo.class)`.\r\n\r\nObjectMapper does not know what type to parse `T` to. To tell it the type you need to use either `readValue` overload with [TypeReference][1], or the overload with [JavaType][2]. I find `JavaType` easier to read, so here is an example with it:\r\n```\r\npublic class Test {\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        ObjectMapper mapper = new ObjectMapper();\r\n        mapper.registerModule(new JavaTimeModule());\r\n        mapper.configure(DeserializationFeature.ACCEPT_SINGLE_VALUE_AS_ARRAY, true);\r\n\r\n        String json = &quot;{\\&quot;value\\&quot;: \\&quot;2022-02-22T12:00:00\\&quot;}&quot;;\r\n        JavaType javaType = TypeFactory.defaultInstance().constructParametricType(Pojo.class, LocalDateTime.class);\r\n        Pojo&lt;LocalDateTime&gt; deserialized = mapper.readValue(json, javaType);\r\n        System.out.println(deserialized.values[0].toLocalDate());\r\n        System.out.println(deserialized.values[0].toLocalTime());\r\n    }\r\n}\r\n```\r\nWhen constructing the parametric `JavaType` the first argument is the class itself, next are concrete generic types.\r\n\r\n**Edit:** Having in mind the new info, the best i can come up with is custom deserializer, which resolves the type at runtime. Something like this:\r\n```\r\npublic class UnknownTypeDeserializer&lt;T&gt; extends StdDeserializer&lt;Pojo&lt;T&gt;&gt; {\r\n\r\n    private final DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss&quot;);\r\n\r\n    public UnknownTypeDeserializer() {\r\n        super((Class&lt;?&gt;) null);\r\n    }\r\n\r\n    @Override\r\n    public Pojo&lt;T&gt; deserialize(JsonParser parser, DeserializationContext ctxt) throws IOException, JacksonException {\r\n        JsonNode node = parser.getCodec().readTree(parser);\r\n        String value = node.get(&quot;value&quot;).asText();\r\n        Pojo&lt;T&gt; pojo = new Pojo&lt;&gt;();\r\n        T[] arr;\r\n        try {\r\n            arr = (T[]) new LocalDateTime[]{LocalDateTime.parse(value, this.formatter)};\r\n        } catch (Exception exc) {\r\n            try {\r\n                arr = (T[]) new Integer[]{Integer.parseInt(value)};\r\n            } catch (NumberFormatException numberFormatException) {\r\n                arr = (T[]) new String[]{value};\r\n            }\r\n        }\r\n        pojo.values = arr;\r\n        return pojo;\r\n    }\r\n}\r\n```\r\nThe idea is try to parse to `LocalDateTime`, if not possible, try to parse to `int`, if not possible again leave as `String`. That&#39;s quite the ugly way to do it, but i am trying just to illustrate the idea. Instead of catching exceptions, it might be better to examine the format, using regex for example, and according to which regex matches, parse to correct type. I tested it with string and int, and it actually works.\r\n```\r\npublic class Test {\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        ObjectMapper mapper = new ObjectMapper();\r\n        mapper.registerModule(new JavaTimeModule());\r\n        SimpleModule simpleModule = new SimpleModule();\r\n        simpleModule.addDeserializer(Pojo.class, new UnknownTypeDeserializer&lt;&gt;());\r\n        mapper.registerModule(simpleModule);\r\n\r\n        String json1 = &quot;{\\&quot;value\\&quot;: \\&quot;2022-02-22T12:00:00\\&quot;}&quot;;\r\n        Pojo&lt;?&gt; deserialized1 = mapper.readValue(json1, Pojo.class);\r\n        System.out.println(&quot;is date - &quot; + (deserialized1.values[0] instanceof LocalDateTime));\r\n\r\n        String json2 = &quot;{\\&quot;value\\&quot;: \\&quot;bla bla bla\\&quot;}&quot;;\r\n        Pojo&lt;?&gt; deserialized2 = mapper.readValue(json2, Pojo.class);\r\n        System.out.println(&quot;is string - &quot; + (deserialized2.values[0] instanceof String));\r\n\r\n        String json3 = &quot;{\\&quot;value\\&quot;: 41}&quot;;\r\n        Pojo&lt;?&gt; deserialized3 = mapper.readValue(json3, Pojo.class);\r\n        System.out.println(&quot;is int - &quot; + (deserialized3.values[0] instanceof Integer));\r\n    }\r\n}\r\n```\r\n\r\n  [1]: https://fasterxml.github.io/jackson-core/javadoc/2.8/com/fasterxml/jackson/core/type/TypeReference.html\r\n  [2]: https://fasterxml.github.io/jackson-databind/javadoc/2.7/com/fasterxml/jackson/databind/JavaType.html","title":"Deserialize to generic member based on value","body":"<p>Here is your problem - <code>Pojo&lt;?&gt; deserialized = mapper.readValue(json, Pojo.class)</code>.</p>\n<p>ObjectMapper does not know what type to parse <code>T</code> to. To tell it the type you need to use either <code>readValue</code> overload with <a href=\"https://fasterxml.github.io/jackson-core/javadoc/2.8/com/fasterxml/jackson/core/type/TypeReference.html\" rel=\"nofollow noreferrer\">TypeReference</a>, or the overload with <a href=\"https://fasterxml.github.io/jackson-databind/javadoc/2.7/com/fasterxml/jackson/databind/JavaType.html\" rel=\"nofollow noreferrer\">JavaType</a>. I find <code>JavaType</code> easier to read, so here is an example with it:</p>\n<pre><code>public class Test {\n\n    public static void main(String[] args) throws Exception {\n        ObjectMapper mapper = new ObjectMapper();\n        mapper.registerModule(new JavaTimeModule());\n        mapper.configure(DeserializationFeature.ACCEPT_SINGLE_VALUE_AS_ARRAY, true);\n\n        String json = &quot;{\\&quot;value\\&quot;: \\&quot;2022-02-22T12:00:00\\&quot;}&quot;;\n        JavaType javaType = TypeFactory.defaultInstance().constructParametricType(Pojo.class, LocalDateTime.class);\n        Pojo&lt;LocalDateTime&gt; deserialized = mapper.readValue(json, javaType);\n        System.out.println(deserialized.values[0].toLocalDate());\n        System.out.println(deserialized.values[0].toLocalTime());\n    }\n}\n</code></pre>\n<p>When constructing the parametric <code>JavaType</code> the first argument is the class itself, next are concrete generic types.</p>\n<p><strong>Edit:</strong> Having in mind the new info, the best i can come up with is custom deserializer, which resolves the type at runtime. Something like this:</p>\n<pre><code>public class UnknownTypeDeserializer&lt;T&gt; extends StdDeserializer&lt;Pojo&lt;T&gt;&gt; {\n\n    private final DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd'T'HH:mm:ss&quot;);\n\n    public UnknownTypeDeserializer() {\n        super((Class&lt;?&gt;) null);\n    }\n\n    @Override\n    public Pojo&lt;T&gt; deserialize(JsonParser parser, DeserializationContext ctxt) throws IOException, JacksonException {\n        JsonNode node = parser.getCodec().readTree(parser);\n        String value = node.get(&quot;value&quot;).asText();\n        Pojo&lt;T&gt; pojo = new Pojo&lt;&gt;();\n        T[] arr;\n        try {\n            arr = (T[]) new LocalDateTime[]{LocalDateTime.parse(value, this.formatter)};\n        } catch (Exception exc) {\n            try {\n                arr = (T[]) new Integer[]{Integer.parseInt(value)};\n            } catch (NumberFormatException numberFormatException) {\n                arr = (T[]) new String[]{value};\n            }\n        }\n        pojo.values = arr;\n        return pojo;\n    }\n}\n</code></pre>\n<p>The idea is try to parse to <code>LocalDateTime</code>, if not possible, try to parse to <code>int</code>, if not possible again leave as <code>String</code>. That's quite the ugly way to do it, but i am trying just to illustrate the idea. Instead of catching exceptions, it might be better to examine the format, using regex for example, and according to which regex matches, parse to correct type. I tested it with string and int, and it actually works.</p>\n<pre><code>public class Test {\n\n    public static void main(String[] args) throws Exception {\n        ObjectMapper mapper = new ObjectMapper();\n        mapper.registerModule(new JavaTimeModule());\n        SimpleModule simpleModule = new SimpleModule();\n        simpleModule.addDeserializer(Pojo.class, new UnknownTypeDeserializer&lt;&gt;());\n        mapper.registerModule(simpleModule);\n\n        String json1 = &quot;{\\&quot;value\\&quot;: \\&quot;2022-02-22T12:00:00\\&quot;}&quot;;\n        Pojo&lt;?&gt; deserialized1 = mapper.readValue(json1, Pojo.class);\n        System.out.println(&quot;is date - &quot; + (deserialized1.values[0] instanceof LocalDateTime));\n\n        String json2 = &quot;{\\&quot;value\\&quot;: \\&quot;bla bla bla\\&quot;}&quot;;\n        Pojo&lt;?&gt; deserialized2 = mapper.readValue(json2, Pojo.class);\n        System.out.println(&quot;is string - &quot; + (deserialized2.values[0] instanceof String));\n\n        String json3 = &quot;{\\&quot;value\\&quot;: 41}&quot;;\n        Pojo&lt;?&gt; deserialized3 = mapper.readValue(json3, Pojo.class);\n        System.out.println(&quot;is int - &quot; + (deserialized3.values[0] instanceof Integer));\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":14117115,"reputation":410,"user_id":10198627,"display_name":"a.ilchinger"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":169,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71225573,"answer_count":1,"score":1,"last_activity_date":1645563287,"creation_date":1645547347,"question_id":71224888,"body_markdown":"I have a generic class like this:\r\n\r\n    public class Pojo&lt;T&gt; {\r\n        \r\n        @JsonProperty(&quot;value&quot;)\r\n        public T[] values;\r\n    };\r\n\r\nThe T can either hold a `String`, a `LocalDateTime` or an `Integer`. The differentiation between String and Integer seems to work fine, most likely because those types are represented differently in the serialized JSON file. However, when I have a datetime in my JSON object (see example), it is parsed as a string anyway.\r\n\r\nThe actual type in use for the `value` field is determined by the input. While I do have that knowledge in the following minimal example, this is not true for all uses of this code in my program. I can only rely on the pattern of the value of field `value`.\r\n\r\n    public class Main {\r\n        ObjectMapper mapper = new ObjectMapper();\r\n        mapper.registerModule(new JavaTimeModule());\r\n        mapper.configure(DeserializationFeature.ACCEPT_SINGLE_VALUE_AS_ARRAY, true);\r\n\r\n        String json = &quot;{\\&quot;value\\&quot;: \\&quot;2022-02-22T12:00:00\\&quot;}&quot;;\r\n        Pojo&lt;?&gt; deserialized = mapper.readValue(json, Pojo.class);\r\n        assert deserialized.value[0] instanceof LocalDateTime;\r\n    }\r\n\r\nI haven&#39;t had any success tinkering with `JsonTypeInfo` yet. Is there a way to parse the value field as an array of `LocalDateTime` objects if all values for this field match the pattern `yyyy-MM-dd&#39;T&#39;hh:mm:ss`?","title":"Deserialize to generic member based on value","body":"<p>I have a generic class like this:</p>\n<pre><code>public class Pojo&lt;T&gt; {\n    \n    @JsonProperty(&quot;value&quot;)\n    public T[] values;\n};\n</code></pre>\n<p>The T can either hold a <code>String</code>, a <code>LocalDateTime</code> or an <code>Integer</code>. The differentiation between String and Integer seems to work fine, most likely because those types are represented differently in the serialized JSON file. However, when I have a datetime in my JSON object (see example), it is parsed as a string anyway.</p>\n<p>The actual type in use for the <code>value</code> field is determined by the input. While I do have that knowledge in the following minimal example, this is not true for all uses of this code in my program. I can only rely on the pattern of the value of field <code>value</code>.</p>\n<pre><code>public class Main {\n    ObjectMapper mapper = new ObjectMapper();\n    mapper.registerModule(new JavaTimeModule());\n    mapper.configure(DeserializationFeature.ACCEPT_SINGLE_VALUE_AS_ARRAY, true);\n\n    String json = &quot;{\\&quot;value\\&quot;: \\&quot;2022-02-22T12:00:00\\&quot;}&quot;;\n    Pojo&lt;?&gt; deserialized = mapper.readValue(json, Pojo.class);\n    assert deserialized.value[0] instanceof LocalDateTime;\n}\n</code></pre>\n<p>I haven't had any success tinkering with <code>JsonTypeInfo</code> yet. Is there a way to parse the value field as an array of <code>LocalDateTime</code> objects if all values for this field match the pattern <code>yyyy-MM-dd'T'hh:mm:ss</code>?</p>\n"},{"tags":["java","javafx","scenebuilder"],"comments":[{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":3,"creation_date":1645554617,"post_id":71226314,"comment_id":125900851,"body_markdown":"Your error message says `Root value already specified`. Have you tried not setting the root? Right now you are doing `fxmlLoader.setRoot(new AnchorPane());  `. What happens if you comment that out?","body":"Your error message says <code>Root value already specified</code>. Have you tried not setting the root? Right now you are doing <code>fxmlLoader.setRoot(new AnchorPane());  </code>. What happens if you comment that out?"},{"owner":{"account_id":15637075,"reputation":53,"user_id":11281627,"display_name":"Malik Kadri"},"score":0,"creation_date":1645555294,"post_id":71226314,"comment_id":125901097,"body_markdown":"Same Error when I commented it","body":"Same Error when I commented it"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":2,"creation_date":1645560811,"post_id":71226314,"comment_id":125903050,"body_markdown":"@MalikKadri Please clarify: you commented out the line `fxmlLoader.setRoot(new AnchorPane())` and you still got an error message ***that included the message*** `Root value already specified`?","body":"@MalikKadri Please clarify: you commented out the line <code>fxmlLoader.setRoot(new AnchorPane())</code> and you still got an error message <b><i>that included the message</i></b> <code>Root value already specified</code>?"}],"answers":[{"tags":[],"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1645563221,"creation_date":1645557430,"answer_id":71227112,"question_id":71226314,"body_markdown":"You have a few errors:\r\n\r\n * Use fx:controller\r\n   * read the [introduction to fxml section on\r\n   controllers](https://docs.oracle.com/javase/8/javafx/api/javafx/fxml/doc-files/introduction_to_fxml.html#controllers).\r\n * Don’t set the root. \r\n * Don’t create a new AnchorPane. \r\n * Your fxml onAction reference should have a `#` prefix.\r\n * Don’t use awt classes.\r\n\r\nAfter making those changes, the app worked for me:\r\n\r\n*module-info.java*\r\n\r\n    module test {\r\n        requires javafx.controls;\r\n        requires javafx.fxml;\r\n    \r\n        opens test to javafx.fxml;\r\n        exports test;\r\n    }\r\n\r\n*MainProgGUI.java*\r\n\r\n    package test;\r\n    \r\n    import javafx.application.Application;\r\n    import javafx.fxml.FXMLLoader;\r\n    import javafx.scene.Parent;\r\n    import javafx.scene.Scene;\r\n    import javafx.stage.Stage;\r\n    \r\n    import java.io.IOException;\r\n    \r\n    public class MainProgGUI extends Application {\r\n    \r\n        public void start(Stage stage) throws IOException {\r\n            FXMLLoader loader = new FXMLLoader(\r\n                    getClass().getResource(\r\n                            &quot;AjoutPersonne.fxml&quot;\r\n                    )\r\n            );\r\n    \r\n            Parent root = loader.load();\r\n    \r\n            stage.setScene(new Scene(root));\r\n            stage.show();\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            launch(args);\r\n        }\r\n    \r\n    }\r\n\r\n*AjoutPersonneController.java*\r\n\r\n    package test;\r\n    \r\n    import javafx.event.ActionEvent;\r\n    import javafx.fxml.FXML;\r\n    import javafx.scene.control.TextField;\r\n    \r\n    public class AjoutPersonneController {\r\n        @FXML\r\n        private TextField tfnom;\r\n    \r\n        @FXML\r\n        private TextField tfprenom;\r\n    \r\n        @FXML\r\n        private void ajoutPersonne(ActionEvent event) {\r\n            System.out.println(event);\r\n        }\r\n    }\r\n\r\n*AjoutPersonne.fxml*\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    \r\n    &lt;?import javafx.scene.control.Button?&gt;\r\n    &lt;?import javafx.scene.control.Label?&gt;\r\n    &lt;?import javafx.scene.control.TextField?&gt;\r\n    &lt;?import javafx.scene.layout.AnchorPane?&gt;\r\n    \r\n    &lt;AnchorPane id=&quot;AnchorPane&quot; prefHeight=&quot;400.0&quot; prefWidth=&quot;600.0&quot;\r\n                xmlns=&quot;http://javafx.com/javafx/8.0.171&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot;\r\n                fx:controller=&quot;test.AjoutPersonneController&quot;&gt;\r\n        &lt;children&gt;\r\n            &lt;TextField fx:id=&quot;tfnom&quot; layoutX=&quot;207.0&quot; layoutY=&quot;103.0&quot; /&gt;\r\n            &lt;TextField fx:id=&quot;tfprenom&quot; layoutX=&quot;207.0&quot; layoutY=&quot;176.0&quot; /&gt;\r\n            &lt;Label layoutX=&quot;121.0&quot; layoutY=&quot;108.0&quot; text=&quot;Nom&quot; /&gt;\r\n            &lt;Label layoutX=&quot;121.0&quot; layoutY=&quot;181.0&quot; text=&quot;Prenom&quot; /&gt;\r\n            &lt;Button layoutX=&quot;259.0&quot; layoutY=&quot;276.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#ajoutPersonne&quot; text=&quot;Button&quot; /&gt;\r\n        &lt;/children&gt;\r\n    &lt;/AnchorPane&gt;","title":"problem I can&#39;t find a solution to it on javaFX","body":"<p>You have a few errors:</p>\n<ul>\n<li>Use fx:controller\n<ul>\n<li>read the <a href=\"https://docs.oracle.com/javase/8/javafx/api/javafx/fxml/doc-files/introduction_to_fxml.html#controllers\" rel=\"nofollow noreferrer\">introduction to fxml section on\ncontrollers</a>.</li>\n</ul>\n</li>\n<li>Don’t set the root.</li>\n<li>Don’t create a new AnchorPane.</li>\n<li>Your fxml onAction reference should have a <code>#</code> prefix.</li>\n<li>Don’t use awt classes.</li>\n</ul>\n<p>After making those changes, the app worked for me:</p>\n<p><em>module-info.java</em></p>\n<pre><code>module test {\n    requires javafx.controls;\n    requires javafx.fxml;\n\n    opens test to javafx.fxml;\n    exports test;\n}\n</code></pre>\n<p><em>MainProgGUI.java</em></p>\n<pre><code>package test;\n\nimport javafx.application.Application;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Parent;\nimport javafx.scene.Scene;\nimport javafx.stage.Stage;\n\nimport java.io.IOException;\n\npublic class MainProgGUI extends Application {\n\n    public void start(Stage stage) throws IOException {\n        FXMLLoader loader = new FXMLLoader(\n                getClass().getResource(\n                        &quot;AjoutPersonne.fxml&quot;\n                )\n        );\n\n        Parent root = loader.load();\n\n        stage.setScene(new Scene(root));\n        stage.show();\n    }\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n\n}\n</code></pre>\n<p><em>AjoutPersonneController.java</em></p>\n<pre><code>package test;\n\nimport javafx.event.ActionEvent;\nimport javafx.fxml.FXML;\nimport javafx.scene.control.TextField;\n\npublic class AjoutPersonneController {\n    @FXML\n    private TextField tfnom;\n\n    @FXML\n    private TextField tfprenom;\n\n    @FXML\n    private void ajoutPersonne(ActionEvent event) {\n        System.out.println(event);\n    }\n}\n</code></pre>\n<p><em>AjoutPersonne.fxml</em></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import javafx.scene.control.Button?&gt;\n&lt;?import javafx.scene.control.Label?&gt;\n&lt;?import javafx.scene.control.TextField?&gt;\n&lt;?import javafx.scene.layout.AnchorPane?&gt;\n\n&lt;AnchorPane id=&quot;AnchorPane&quot; prefHeight=&quot;400.0&quot; prefWidth=&quot;600.0&quot;\n            xmlns=&quot;http://javafx.com/javafx/8.0.171&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot;\n            fx:controller=&quot;test.AjoutPersonneController&quot;&gt;\n    &lt;children&gt;\n        &lt;TextField fx:id=&quot;tfnom&quot; layoutX=&quot;207.0&quot; layoutY=&quot;103.0&quot; /&gt;\n        &lt;TextField fx:id=&quot;tfprenom&quot; layoutX=&quot;207.0&quot; layoutY=&quot;176.0&quot; /&gt;\n        &lt;Label layoutX=&quot;121.0&quot; layoutY=&quot;108.0&quot; text=&quot;Nom&quot; /&gt;\n        &lt;Label layoutX=&quot;121.0&quot; layoutY=&quot;181.0&quot; text=&quot;Prenom&quot; /&gt;\n        &lt;Button layoutX=&quot;259.0&quot; layoutY=&quot;276.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#ajoutPersonne&quot; text=&quot;Button&quot; /&gt;\n    &lt;/children&gt;\n&lt;/AnchorPane&gt;\n</code></pre>\n"}],"owner":{"account_id":15637075,"reputation":53,"user_id":11281627,"display_name":"Malik Kadri"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":555,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"closed_date":1645573305,"answer_count":1,"score":-2,"last_activity_date":1645563221,"creation_date":1645553426,"question_id":71226314,"body_markdown":"I am trying to learn javaFx for an academic reasons so I tried this little project but all I get is his error!\r\n\r\n        Exception in Application start method\r\n    java.lang.reflect.InvocationTargetException\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:389)\r\n    \tat com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:328)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:767)\r\n    Caused by: java.lang.RuntimeException: Exception in Application start method\r\n    \tat com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:917)\r\n    \tat com.sun.javafx.application.LauncherImpl.lambda$launchApplication$159(LauncherImpl.java:182)\r\n    \tat java.lang.Thread.run(Thread.java:748)\r\n    Caused by: javafx.fxml.LoadException: Root value already specified.\r\n    /C:/Users/Malik/Documents/NetBeansProjects/WorkshopPIDEV2122/build/classes/tests/AjoutPersonne.fxml\r\n    \r\n    \tat javafx.fxml.FXMLLoader.constructLoadException(FXMLLoader.java:2597)\r\n    \tat javafx.fxml.FXMLLoader.createElement(FXMLLoader.java:2755)\r\n    \tat javafx.fxml.FXMLLoader.processStartElement(FXMLLoader.java:2704)\r\n    \tat javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2527)\r\n    \tat javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2441)\r\n    \tat javafx.fxml.FXMLLoader.load(FXMLLoader.java:2409)\r\n    \tat tests.MainProgGUI.start(MainProgGUI.java:28)\r\n    \tat com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$166(LauncherImpl.java:863)\r\n    \tat com.sun.javafx.application.PlatformImpl.lambda$runAndWait$179(PlatformImpl.java:326)\r\n    \tat com.sun.javafx.application.PlatformImpl.lambda$null$177(PlatformImpl.java:295)\r\n    \tat java.security.AccessController.doPrivileged(Native Method)\r\n    \tat com.sun.javafx.application.PlatformImpl.lambda$runLater$178(PlatformImpl.java:294)\r\n    \tat com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:95)\r\n    \tat com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\r\n    \tat com.sun.glass.ui.win.WinApplication.lambda$null$152(WinApplication.java:177)\r\n    \t... 1 more\r\n    Exception running application tests.MainProgGUI\r\n    C:\\Users\\Malik\\AppData\\Local\\NetBeans\\Cache\\12.6\\executor-snippets\\run.xml:111: The following error occurred while executing this line:\r\n    C:\\Users\\Malik\\AppData\\Local\\NetBeans\\Cache\\12.6\\executor-snippets\\run.xml:94: Java returned: 1\r\n    BUILD FAILED (total time: 0 seconds)\r\n\r\n\r\n\r\nhere is my code:\r\nFXML file:\r\n\r\n        &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    \r\n    &lt;?import javafx.scene.control.Button?&gt;\r\n    &lt;?import javafx.scene.control.Label?&gt;\r\n    &lt;?import javafx.scene.control.TextField?&gt;\r\n    &lt;?import javafx.scene.layout.AnchorPane?&gt;\r\n    \r\n    &lt;AnchorPane id=&quot;AnchorPane&quot; prefHeight=&quot;400.0&quot; prefWidth=&quot;600.0&quot; xmlns=&quot;http://javafx.com/javafx/8.0.171&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot;&gt;\r\n       &lt;children&gt;\r\n          &lt;TextField fx:id=&quot;tfnom&quot; layoutX=&quot;207.0&quot; layoutY=&quot;103.0&quot; /&gt;\r\n          &lt;TextField fx:id=&quot;tfprenom&quot; layoutX=&quot;207.0&quot; layoutY=&quot;176.0&quot; /&gt;\r\n          &lt;Label layoutX=&quot;121.0&quot; layoutY=&quot;108.0&quot; text=&quot;Nom&quot; /&gt;\r\n          &lt;Label layoutX=&quot;121.0&quot; layoutY=&quot;181.0&quot; text=&quot;Prenom&quot; /&gt;\r\n          &lt;Button layoutX=&quot;259.0&quot; layoutY=&quot;276.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;AjoutPersonne&quot; text=&quot;Button&quot; /&gt;\r\n       &lt;/children&gt;\r\n    &lt;/AnchorPane&gt;\r\n    \r\n    \r\n     \r\n\r\nFXML Controller:\r\n\r\n        package tests;\r\n    \r\n    import java.awt.TextField;\r\n    import java.awt.event.ActionEvent;\r\n    import java.net.URL;\r\n    import java.util.ResourceBundle;\r\n    import javafx.fxml.FXML;\r\n    import javafx.fxml.Initializable;\r\n    \r\n    /**\r\n     * FXML Controller class\r\n     *\r\n     * @author Malik\r\n     */\r\n    public class AjoutPersonneController implements Initializable {\r\n    \r\n        /**\r\n         * Initializes the controller class.\r\n         */\r\n        @Override\r\n        public void initialize(URL url, ResourceBundle rb) {\r\n            // TODO\r\n        }    \r\n         @FXML\r\n        private TextField tfnom;\r\n    \r\n        @FXML\r\n        private TextField tfprenom;\r\n    \r\n        @FXML\r\n        void AjoutPersonne(ActionEvent event) {\r\n    \r\n        }\r\n    \r\n    }\r\n\r\nand my mainprog :\r\n\r\n        /*\r\n     * Click nbfs://nbhost/SystemFileSystem/Templates/Licenses/license-default.txt to change this license\r\n     * Click nbfs://nbhost/SystemFileSystem/Templates/javafx/FXMain.java to edit this template\r\n     */\r\n    package tests;\r\n    \r\n    import java.io.IOException;\r\n    import javafx.application.Application;\r\n    import javafx.event.ActionEvent;\r\n    import javafx.event.EventHandler;\r\n    import javafx.fxml.FXMLLoader;\r\n    import javafx.scene.Parent;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.control.Button;\r\n    import javafx.scene.layout.AnchorPane;\r\n    import javafx.scene.layout.StackPane;\r\n    import javafx.stage.Stage;\r\n    \r\n    /**\r\n     *\r\n     * @author Malik\r\n     */\r\n    public class MainProgGUI extends Application {\r\n        \r\n        public void start(Stage primaryStage) throws IOException {\r\n        FXMLLoader fxmlLoader = new FXMLLoader(getClass().getResource(&quot;AjoutPersonne.fxml&quot;));\r\n        fxmlLoader.setRoot(new AnchorPane());       \r\n        Parent root = fxmlLoader.load();\r\n        Scene scene = new Scene(root);\r\n    \r\n      \r\n        primaryStage.setTitle(&quot;Workshop PIDEV&quot;);\r\n        primaryStage.setScene(scene);\r\n        primaryStage.show();\r\n        \r\n    }\r\n    \r\n        public static void main(String[] args) {\r\n            launch(args);\r\n        }\r\n        \r\n    }\r\n\r\nthis is the architecture of programme:\r\n[enter image description here][1]\r\n\r\n\r\n\r\nPs: I tried to change the location of FXML file and to use the Parent root = FXMLLoader.load(getClass().getResource(&quot;FXMLDocument.fxml&quot;));\r\nthanks for helping !\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/KhIL5.png\r\n\r\n","title":"problem I can&#39;t find a solution to it on javaFX","body":"<p>I am trying to learn javaFx for an academic reasons so I tried this little project but all I get is his error!</p>\n<pre><code>    Exception in Application start method\njava.lang.reflect.InvocationTargetException\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:389)\n    at com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:328)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:767)\nCaused by: java.lang.RuntimeException: Exception in Application start method\n    at com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:917)\n    at com.sun.javafx.application.LauncherImpl.lambda$launchApplication$159(LauncherImpl.java:182)\n    at java.lang.Thread.run(Thread.java:748)\nCaused by: javafx.fxml.LoadException: Root value already specified.\n/C:/Users/Malik/Documents/NetBeansProjects/WorkshopPIDEV2122/build/classes/tests/AjoutPersonne.fxml\n\n    at javafx.fxml.FXMLLoader.constructLoadException(FXMLLoader.java:2597)\n    at javafx.fxml.FXMLLoader.createElement(FXMLLoader.java:2755)\n    at javafx.fxml.FXMLLoader.processStartElement(FXMLLoader.java:2704)\n    at javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2527)\n    at javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2441)\n    at javafx.fxml.FXMLLoader.load(FXMLLoader.java:2409)\n    at tests.MainProgGUI.start(MainProgGUI.java:28)\n    at com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$166(LauncherImpl.java:863)\n    at com.sun.javafx.application.PlatformImpl.lambda$runAndWait$179(PlatformImpl.java:326)\n    at com.sun.javafx.application.PlatformImpl.lambda$null$177(PlatformImpl.java:295)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at com.sun.javafx.application.PlatformImpl.lambda$runLater$178(PlatformImpl.java:294)\n    at com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:95)\n    at com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\n    at com.sun.glass.ui.win.WinApplication.lambda$null$152(WinApplication.java:177)\n    ... 1 more\nException running application tests.MainProgGUI\nC:\\Users\\Malik\\AppData\\Local\\NetBeans\\Cache\\12.6\\executor-snippets\\run.xml:111: The following error occurred while executing this line:\nC:\\Users\\Malik\\AppData\\Local\\NetBeans\\Cache\\12.6\\executor-snippets\\run.xml:94: Java returned: 1\nBUILD FAILED (total time: 0 seconds)\n</code></pre>\n<p>here is my code:\nFXML file:</p>\n<pre><code>    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import javafx.scene.control.Button?&gt;\n&lt;?import javafx.scene.control.Label?&gt;\n&lt;?import javafx.scene.control.TextField?&gt;\n&lt;?import javafx.scene.layout.AnchorPane?&gt;\n\n&lt;AnchorPane id=&quot;AnchorPane&quot; prefHeight=&quot;400.0&quot; prefWidth=&quot;600.0&quot; xmlns=&quot;http://javafx.com/javafx/8.0.171&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot;&gt;\n   &lt;children&gt;\n      &lt;TextField fx:id=&quot;tfnom&quot; layoutX=&quot;207.0&quot; layoutY=&quot;103.0&quot; /&gt;\n      &lt;TextField fx:id=&quot;tfprenom&quot; layoutX=&quot;207.0&quot; layoutY=&quot;176.0&quot; /&gt;\n      &lt;Label layoutX=&quot;121.0&quot; layoutY=&quot;108.0&quot; text=&quot;Nom&quot; /&gt;\n      &lt;Label layoutX=&quot;121.0&quot; layoutY=&quot;181.0&quot; text=&quot;Prenom&quot; /&gt;\n      &lt;Button layoutX=&quot;259.0&quot; layoutY=&quot;276.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;AjoutPersonne&quot; text=&quot;Button&quot; /&gt;\n   &lt;/children&gt;\n&lt;/AnchorPane&gt;\n\n\n \n</code></pre>\n<p>FXML Controller:</p>\n<pre><code>    package tests;\n\nimport java.awt.TextField;\nimport java.awt.event.ActionEvent;\nimport java.net.URL;\nimport java.util.ResourceBundle;\nimport javafx.fxml.FXML;\nimport javafx.fxml.Initializable;\n\n/**\n * FXML Controller class\n *\n * @author Malik\n */\npublic class AjoutPersonneController implements Initializable {\n\n    /**\n     * Initializes the controller class.\n     */\n    @Override\n    public void initialize(URL url, ResourceBundle rb) {\n        // TODO\n    }    \n     @FXML\n    private TextField tfnom;\n\n    @FXML\n    private TextField tfprenom;\n\n    @FXML\n    void AjoutPersonne(ActionEvent event) {\n\n    }\n\n}\n</code></pre>\n<p>and my mainprog :</p>\n<pre><code>    /*\n * Click nbfs://nbhost/SystemFileSystem/Templates/Licenses/license-default.txt to change this license\n * Click nbfs://nbhost/SystemFileSystem/Templates/javafx/FXMain.java to edit this template\n */\npackage tests;\n\nimport java.io.IOException;\nimport javafx.application.Application;\nimport javafx.event.ActionEvent;\nimport javafx.event.EventHandler;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Parent;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Button;\nimport javafx.scene.layout.AnchorPane;\nimport javafx.scene.layout.StackPane;\nimport javafx.stage.Stage;\n\n/**\n *\n * @author Malik\n */\npublic class MainProgGUI extends Application {\n    \n    public void start(Stage primaryStage) throws IOException {\n    FXMLLoader fxmlLoader = new FXMLLoader(getClass().getResource(&quot;AjoutPersonne.fxml&quot;));\n    fxmlLoader.setRoot(new AnchorPane());       \n    Parent root = fxmlLoader.load();\n    Scene scene = new Scene(root);\n\n  \n    primaryStage.setTitle(&quot;Workshop PIDEV&quot;);\n    primaryStage.setScene(scene);\n    primaryStage.show();\n    \n}\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n    \n}\n</code></pre>\n<p>this is the architecture of programme:\n<a href=\"https://i.stack.imgur.com/KhIL5.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>Ps: I tried to change the location of FXML file and to use the Parent root = FXMLLoader.load(getClass().getResource(&quot;FXMLDocument.fxml&quot;));\nthanks for helping !</p>\n"},{"tags":["java","tomcat","servlets","bootstrap-4"],"comments":[{"owner":{"account_id":1122178,"reputation":4384,"user_id":1110291,"display_name":"rickz"},"score":0,"creation_date":1645547637,"post_id":71224462,"comment_id":125898073,"body_markdown":"You didn&#39;t show us the code for partition. But, it doesn&#39;t seem necessary anyway.  You could use a for loop to get the first 5 elements of your dataItems list.  Something like for(int i = 0; i &lt; 5; i++) { out.println(dataItems.get(i));}","body":"You didn&#39;t show us the code for partition. But, it doesn&#39;t seem necessary anyway.  You could use a for loop to get the first 5 elements of your dataItems list.  Something like for(int i = 0; i &lt; 5; i++) { out.println(dataItems.get(i));}"},{"owner":{"account_id":12211070,"reputation":121,"user_id":10879227,"display_name":"kittyKat"},"score":0,"creation_date":1645557823,"post_id":71224462,"comment_id":125902004,"body_markdown":"@rickz Thank you. I replaced the for (Object item : partition) with your for loop. It kinda works but the 6th item disappeared. It should be in next row. Do you still need the partition code?","body":"@rickz Thank you. I replaced the for (Object item : partition) with your for loop. It kinda works but the 6th item disappeared. It should be in next row. Do you still need the partition code?"}],"answers":[{"tags":[],"owner":{"account_id":1122178,"reputation":4384,"user_id":1110291,"display_name":"rickz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1645563215,"creation_date":1645563215,"answer_id":71228153,"question_id":71224462,"body_markdown":"Here is demonstration code. It will work in a Servlet or a JSP.\r\n\r\n        List&lt;String&gt; dataItems = List.of(&quot;a&quot;,&quot;b&quot;,&quot;c&quot;,&quot;d&quot;,&quot;e&quot;,&quot;f&quot;,&quot;g&quot;,&quot;h&quot;,&quot;i&quot;,&quot;j&quot;,&quot;k&quot;,&quot;l&quot;,&quot;m&quot;,&quot;n&quot;,&quot;o&quot;,&quot;p&quot;);\r\n\t\tout.println(&quot;&lt;table&gt;&quot;);\r\n\t\tout.println(&quot;&lt;tr&gt;&quot;);\r\n        for (int i = 0; i &lt; dataItems.size(); i++) {\r\n\t\t\tif(i &gt;= 5 &amp;&amp; i % 5 == 0){\r\n\t\t\t\tout.println(&quot;&lt;/tr&gt;&lt;tr&gt;&quot;);\r\n\t\t\t}\r\n            out.println(&quot;&lt;td&gt; &quot; + dataItems.get(i) + &quot; &lt;/td&gt;&quot;);\r\n        }\r\n\t\tout.println(&quot;&lt;/tr&gt;&quot;);\r\n\t\tout.println(&quot;&lt;/table&gt;&quot;);","title":"How to have a column with each object and add another row if the first row is filled in Java","body":"<p>Here is demonstration code. It will work in a Servlet or a JSP.</p>\n<pre><code>    List&lt;String&gt; dataItems = List.of(&quot;a&quot;,&quot;b&quot;,&quot;c&quot;,&quot;d&quot;,&quot;e&quot;,&quot;f&quot;,&quot;g&quot;,&quot;h&quot;,&quot;i&quot;,&quot;j&quot;,&quot;k&quot;,&quot;l&quot;,&quot;m&quot;,&quot;n&quot;,&quot;o&quot;,&quot;p&quot;);\n    out.println(&quot;&lt;table&gt;&quot;);\n    out.println(&quot;&lt;tr&gt;&quot;);\n    for (int i = 0; i &lt; dataItems.size(); i++) {\n        if(i &gt;= 5 &amp;&amp; i % 5 == 0){\n            out.println(&quot;&lt;/tr&gt;&lt;tr&gt;&quot;);\n        }\n        out.println(&quot;&lt;td&gt; &quot; + dataItems.get(i) + &quot; &lt;/td&gt;&quot;);\n    }\n    out.println(&quot;&lt;/tr&gt;&quot;);\n    out.println(&quot;&lt;/table&gt;&quot;);\n</code></pre>\n"}],"owner":{"account_id":12211070,"reputation":121,"user_id":10879227,"display_name":"kittyKat"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":165,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71228153,"answer_count":1,"score":0,"last_activity_date":1645563215,"creation_date":1645545804,"question_id":71224462,"body_markdown":"I am writing Java Servlet using MySQL. I want to display data in such a way that in each rows there are five columns. This is the table i want.\r\n\r\n[![table that i want][1]][1]\r\n\r\n\r\nCurrently, I have six data items and i put them in list so in each list there are 5 items. \r\n[a,b,c,d,e] , [f]\r\n\r\n[![table][2]][2]\r\n\r\nThis is the table i currently have. I am not sure how to show each item in the way i want.\r\n\r\n            //getting sql data\r\n            List&lt;Object&gt; dataItems = new ArrayList&lt;Object&gt;();\r\n            while (rset.next()) {\r\n                SQLData item = new SQLData(rset.getString(&quot;name&quot;), rset.getString(&quot;prod_desc&quot;),\r\n                        rset.getDouble(&quot;price&quot;));\r\n                dataItems.add(item);\r\n            }\r\n\r\n            //chuck list\r\n            int size = 5;\r\n            List&lt;Object&gt;[] partition = partition(dataItems, size);\r\n\r\n            out.println(&quot;&lt;div class=&#39;container&#39; style=&#39;border:1px solid #cecece;&#39;&gt;&quot;);\r\n\r\n            out.println(&quot;&lt;div class=&#39;row&#39;&gt;&quot;);\r\n            for (Object item : partition) {\r\n                out.println(&quot;&lt;div class=&#39;col&#39;&gt;&quot;);\r\n                out.println(&quot;&lt;p&gt;&quot; + item + &quot; test &lt;/p&gt;&quot;);\r\n                out.println(&quot;&lt;/div&gt;&quot;);\r\n            }\r\n            out.println(&quot;&lt;/div&gt;&quot;);\r\n\r\n            out.println(&quot;&lt;/div&gt;&quot;);\r\n\r\nAnyone can help?\r\n\r\n  [1]: https://i.stack.imgur.com/zmyt3m.jpg\r\n  [2]: https://i.stack.imgur.com/KZQbT.png","title":"How to have a column with each object and add another row if the first row is filled in Java","body":"<p>I am writing Java Servlet using MySQL. I want to display data in such a way that in each rows there are five columns. This is the table i want.</p>\n<p><a href=\"https://i.stack.imgur.com/zmyt3m.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zmyt3m.jpg\" alt=\"table that i want\" /></a></p>\n<p>Currently, I have six data items and i put them in list so in each list there are 5 items.\n[a,b,c,d,e] , [f]</p>\n<p><a href=\"https://i.stack.imgur.com/KZQbT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KZQbT.png\" alt=\"table\" /></a></p>\n<p>This is the table i currently have. I am not sure how to show each item in the way i want.</p>\n<pre><code>        //getting sql data\n        List&lt;Object&gt; dataItems = new ArrayList&lt;Object&gt;();\n        while (rset.next()) {\n            SQLData item = new SQLData(rset.getString(&quot;name&quot;), rset.getString(&quot;prod_desc&quot;),\n                    rset.getDouble(&quot;price&quot;));\n            dataItems.add(item);\n        }\n\n        //chuck list\n        int size = 5;\n        List&lt;Object&gt;[] partition = partition(dataItems, size);\n\n        out.println(&quot;&lt;div class='container' style='border:1px solid #cecece;'&gt;&quot;);\n\n        out.println(&quot;&lt;div class='row'&gt;&quot;);\n        for (Object item : partition) {\n            out.println(&quot;&lt;div class='col'&gt;&quot;);\n            out.println(&quot;&lt;p&gt;&quot; + item + &quot; test &lt;/p&gt;&quot;);\n            out.println(&quot;&lt;/div&gt;&quot;);\n        }\n        out.println(&quot;&lt;/div&gt;&quot;);\n\n        out.println(&quot;&lt;/div&gt;&quot;);\n</code></pre>\n<p>Anyone can help?</p>\n"},{"tags":["java","hashmap"],"comments":[{"owner":{"account_id":69443,"reputation":85343,"user_id":202009,"accept_rate":79,"display_name":"Andy Thomas"},"score":0,"creation_date":1645562773,"post_id":71227633,"comment_id":125903652,"body_markdown":"It&#39;s useful to distinguish between behavior that is current, likely or guaranteed by contract.","body":"It&#39;s useful to distinguish between behavior that is current, likely or guaranteed by contract."}],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1645560891,"creation_date":1645560746,"answer_id":71227724,"question_id":71227633,"body_markdown":"Yes. It will keep its order if no new items are added. An idle map does not just decide to rearrange itself.  But that order is non deterministic and can change once items are added.","title":"Does HashMap keeps its order (not insertion order)","body":"<p>Yes. It will keep its order if no new items are added. An idle map does not just decide to rearrange itself.  But that order is non deterministic and can change once items are added.</p>\n"},{"tags":[],"owner":{"account_id":11442947,"reputation":1,"user_id":11019212,"display_name":"Steve"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645563181,"creation_date":1645563181,"answer_id":71228149,"question_id":71227633,"body_markdown":"WJS is correct.  That said, it is very bad style to depend on this.  If you actually depend on the order of the entries, I would suggest using a TreeMap or one of the Apache Commons implementations of OrderedMap. \r\n\r\nYou might be able to get by with your assumption that the order will be stable right now ... but if another developer works on the code, that assumption might not be known and the code will break in unexpected ways that will be big headache for somebody to solve.\r\n\r\nIf you depend on entry order, use a data structure that guarantees that order.","title":"Does HashMap keeps its order (not insertion order)","body":"<p>WJS is correct.  That said, it is very bad style to depend on this.  If you actually depend on the order of the entries, I would suggest using a TreeMap or one of the Apache Commons implementations of OrderedMap.</p>\n<p>You might be able to get by with your assumption that the order will be stable right now ... but if another developer works on the code, that assumption might not be known and the code will break in unexpected ways that will be big headache for somebody to solve.</p>\n<p>If you depend on entry order, use a data structure that guarantees that order.</p>\n"}],"owner":{"account_id":22973129,"reputation":33,"user_id":17101155,"display_name":"mar fo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":3,"up_vote_count":3,"accepted_answer_id":71227724,"answer_count":2,"score":0,"last_activity_date":1645563181,"creation_date":1645560203,"question_id":71227633,"body_markdown":"Sorry if and answer to this is out there. I just could not find it.\r\nI don&#39;t care about insertion order, I just want to ensure that HashMap keeps its order without any puts being used in between.\r\n\r\nIf I have the following code:\r\n\r\n    StringBuilder keyChecker = new StringBuilder(&quot;&quot;);\r\n    for(String field : hashmap().keySet()){\r\n        keyChecker.append(field).append(&quot;,&quot;);\r\n    }\r\n\r\n    for(String field : hashmap().keySet()){\r\n        setAny(checker,x++, hashmap().get(field) );\r\n        x++;\r\n    }\r\n**Will the (1st,2nd,3rd,etc) field always match the same one next time I call HashMap keyset.**\r\n\r\nFrom my tests it seems like it always does, but I am not sure about any edge cases that I may come across.","title":"Does HashMap keeps its order (not insertion order)","body":"<p>Sorry if and answer to this is out there. I just could not find it.\nI don't care about insertion order, I just want to ensure that HashMap keeps its order without any puts being used in between.</p>\n<p>If I have the following code:</p>\n<pre><code>StringBuilder keyChecker = new StringBuilder(&quot;&quot;);\nfor(String field : hashmap().keySet()){\n    keyChecker.append(field).append(&quot;,&quot;);\n}\n\nfor(String field : hashmap().keySet()){\n    setAny(checker,x++, hashmap().get(field) );\n    x++;\n}\n</code></pre>\n<p><strong>Will the (1st,2nd,3rd,etc) field always match the same one next time I call HashMap keyset.</strong></p>\n<p>From my tests it seems like it always does, but I am not sure about any edge cases that I may come across.</p>\n"},{"tags":["java","arrays","kotlin"],"comments":[{"owner":{"account_id":23110408,"reputation":6937,"user_id":17218429,"display_name":"lukas.j"},"score":0,"creation_date":1645562970,"post_id":71228071,"comment_id":125903726,"body_markdown":"_val arr = Array(5) { &quot;&quot; }_. See also: https://stackoverflow.com/questions/35253368/how-can-i-create-an-array-in-kotlin-like-in-java-by-just-providing-a-size","body":"<i>val arr = Array(5) { &quot;&quot; }</i>. See also: <a href=\"https://stackoverflow.com/questions/35253368/how-can-i-create-an-array-in-kotlin-like-in-java-by-just-providing-a-size\" title=\"how can i create an array in kotlin like in java by just providing a size\">stackoverflow.com/questions/35253368/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1645562993,"creation_date":1645562993,"answer_id":71228113,"question_id":71228071,"body_markdown":"Sort of.\r\n\r\nIn Kotlin, you can&#39;t have `val arrayOfString : Array&lt;String&gt; = Array(5)`, because the values filling the array would be null, and null isn&#39;t a valid value of `String`.\r\n\r\nYou can have `val arrayOfString: Array&lt;String?&gt; = arrayOfNulls(5)`, or you can have `val arrayOfString : Array&lt;String&gt; = Array(5) { &quot;defaultString&quot; }`.","title":"Kotlin fixed array of strings","body":"<p>Sort of.</p>\n<p>In Kotlin, you can't have <code>val arrayOfString : Array&lt;String&gt; = Array(5)</code>, because the values filling the array would be null, and null isn't a valid value of <code>String</code>.</p>\n<p>You can have <code>val arrayOfString: Array&lt;String?&gt; = arrayOfNulls(5)</code>, or you can have <code>val arrayOfString : Array&lt;String&gt; = Array(5) { &quot;defaultString&quot; }</code>.</p>\n"}],"owner":{"account_id":14404453,"reputation":451,"user_id":10405000,"display_name":"discCard"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":134,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1645564748,"answer_count":1,"score":0,"last_activity_date":1645563158,"creation_date":1645562698,"question_id":71228071,"body_markdown":"is it possible to create fixed size array of strings using Kotlin like in Java ?\r\n\r\nsomething like `val arrayOfString: Array(5)`\r\n","title":"Kotlin fixed array of strings","body":"<p>is it possible to create fixed size array of strings using Kotlin like in Java ?</p>\n<p>something like <code>val arrayOfString: Array(5)</code></p>\n"},{"tags":["java","swing","jframe","layout-manager","jtextfield"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":2,"creation_date":1645471899,"post_id":71210133,"comment_id":125875761,"body_markdown":"*Trying to Setbound 5 Textfield in a row,* - Don&#39;t!!! Swing was designed to be used with Layout Managers. The FlowLayout will already display the text fields in a single row. Read the Swing tutorial on [Layout Managers](https://docs.oracle.com/javase/tutorial/uiswing/layout/visual.html) for working examples and better structured code. A couple is issues with your code: 1) use `new JTextField(10)` to allow the text field to size itself to display about 10 characters. 2) The frame should be made visible AFTER the components have been added to the frame.","body":"<i>Trying to Setbound 5 Textfield in a row,</i> - Don&#39;t!!! Swing was designed to be used with Layout Managers. The FlowLayout will already display the text fields in a single row. Read the Swing tutorial on <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/visual.html\" rel=\"nofollow noreferrer\">Layout Managers</a> for working examples and better structured code. A couple is issues with your code: 1) use <code>new JTextField(10)</code> to allow the text field to size itself to display about 10 characters. 2) The frame should be made visible AFTER the components have been added to the frame."}],"owner":{"account_id":20645614,"reputation":41,"user_id":15157202,"display_name":"Slaven Stajić"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":374,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1645563000,"creation_date":1645462492,"question_id":71210133,"body_markdown":"Trying to Setbound 5 Textfield in a row, but whatever I write in Setbound nothing changes. \r\nI&#39;m trying to put all 5 Textfields inside panel so I can position it better, tried without it but it still doesn&#39;t work. What am I doing wrong, I&#39;m still learning.\r\nTrying to Setbound 5 Textfield in a row, but whatever I write in Setbound nothing changes. \r\nI&#39;m trying to put all 5 Textfields inside panel so I can position it better, tried without it but it still doesn&#39;t work. What am I doing wrong, I&#39;m still learning.\r\n      package com.company;\r\n        \r\n        import javax.imageio.ImageIO;\r\n        import javax.swing.*;\r\n        import java.awt.*;\r\n        import java.awt.image.BufferedImage;\r\n        import javax.swing.ImageIcon;\r\n        \r\n        public class Main {\r\n        \r\n            public static void main(String[] args) throws Exception {\r\n        \r\n               UserInterface ui = new UserInterface();\r\n               SwingUtilities.invokeLater(ui);\r\n        \r\n        \r\n            }\r\n        }\r\n    \r\n\r\n\r\n/\r\n\r\n    package com.company;\r\n    \r\n    import javax.swing.*;\r\n    import java.awt.*;\r\n    \r\n    public class UserInterface extends JFrame implements Runnable {\r\n    \r\n        private JFrame frame;\r\n    \r\n    \r\n        public void run(){\r\n    \r\n            frame = new JFrame();\r\n            frame.setTitle(&quot;Pogodi rijec&quot;);\r\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            frame.setSize(800,800);\r\n    \r\n    \r\n            frame.setResizable(false);\r\n            frame.setVisible(true);\r\n            frame.setLocationRelativeTo(null);\r\n    \r\n            Components(frame.getContentPane()); // saljem frame\r\n    \r\n    \r\n            frame.getContentPane().setBackground(new Color(168,173,180));\r\n            frame.setLayout(new FlowLayout(FlowLayout.CENTER,100,100));\r\n        }\r\n        public void Components(Container container){\r\n    \r\n    \r\n    \r\n            JPanel panel = new JPanel();\r\n            panel.setPreferredSize(new Dimension(500,500));\r\n            panel.setBackground(Color.lightGray);\r\n            panel.setLayout(new FlowLayout());\r\n    \r\n            JTextField one = new JTextField();\r\n            JTextField two = new JTextField();\r\n            JTextField three = new JTextField();\r\n            JTextField four = new JTextField();\r\n            JTextField five = new JTextField();\r\n    \r\n            one.setBounds(100,100,300,300);\r\n            two.setBounds(200,100,300,300);\r\n            three.setBounds(200,100,300,300);\r\n            four.setBounds(200,100,300,300);\r\n            five.setBounds(200,100,300,300);\r\n    \r\n    \r\n            panel.add(one);\r\n            panel.add(two);\r\n            panel.add(three);\r\n            panel.add(four);\r\n            panel.add(five);\r\n    \r\n    \r\n            container.add(panel);\r\n    \r\n    \r\n        }\r\n        public JFrame getFrame() {\r\n    \r\n            return frame;\r\n    \r\n        }\r\n    }\r\n\r\n","title":"how to use setbounds to position JTextField","body":"<p>Trying to Setbound 5 Textfield in a row, but whatever I write in Setbound nothing changes.\nI'm trying to put all 5 Textfields inside panel so I can position it better, tried without it but it still doesn't work. What am I doing wrong, I'm still learning.\nTrying to Setbound 5 Textfield in a row, but whatever I write in Setbound nothing changes.\nI'm trying to put all 5 Textfields inside panel so I can position it better, tried without it but it still doesn't work. What am I doing wrong, I'm still learning.\npackage com.company;</p>\n<pre><code>    import javax.imageio.ImageIO;\n    import javax.swing.*;\n    import java.awt.*;\n    import java.awt.image.BufferedImage;\n    import javax.swing.ImageIcon;\n    \n    public class Main {\n    \n        public static void main(String[] args) throws Exception {\n    \n           UserInterface ui = new UserInterface();\n           SwingUtilities.invokeLater(ui);\n    \n    \n        }\n    }\n</code></pre>\n<p>/</p>\n<pre><code>package com.company;\n\nimport javax.swing.*;\nimport java.awt.*;\n\npublic class UserInterface extends JFrame implements Runnable {\n\n    private JFrame frame;\n\n\n    public void run(){\n\n        frame = new JFrame();\n        frame.setTitle(&quot;Pogodi rijec&quot;);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.setSize(800,800);\n\n\n        frame.setResizable(false);\n        frame.setVisible(true);\n        frame.setLocationRelativeTo(null);\n\n        Components(frame.getContentPane()); // saljem frame\n\n\n        frame.getContentPane().setBackground(new Color(168,173,180));\n        frame.setLayout(new FlowLayout(FlowLayout.CENTER,100,100));\n    }\n    public void Components(Container container){\n\n\n\n        JPanel panel = new JPanel();\n        panel.setPreferredSize(new Dimension(500,500));\n        panel.setBackground(Color.lightGray);\n        panel.setLayout(new FlowLayout());\n\n        JTextField one = new JTextField();\n        JTextField two = new JTextField();\n        JTextField three = new JTextField();\n        JTextField four = new JTextField();\n        JTextField five = new JTextField();\n\n        one.setBounds(100,100,300,300);\n        two.setBounds(200,100,300,300);\n        three.setBounds(200,100,300,300);\n        four.setBounds(200,100,300,300);\n        five.setBounds(200,100,300,300);\n\n\n        panel.add(one);\n        panel.add(two);\n        panel.add(three);\n        panel.add(four);\n        panel.add(five);\n\n\n        container.add(panel);\n\n\n    }\n    public JFrame getFrame() {\n\n        return frame;\n\n    }\n}\n</code></pre>\n"},{"tags":["java","swing","jframe"],"comments":[{"owner":{"account_id":278315,"reputation":11589,"user_id":572834,"display_name":"Alexey Ivanov"},"score":3,"creation_date":1645480119,"post_id":71213303,"comment_id":125878203,"body_markdown":"Did you add the panels to your frame? You should do `getContentPane().add(mainPanel, BorderLayout.SOUTH); getContentPane().add(graphPanel, BorderLayout.CENTER);`. Then you should call `pack()` or `setSize` and only then `setVisible()`.","body":"Did you add the panels to your frame? You should do <code>getContentPane().add(mainPanel, BorderLayout.SOUTH); getContentPane().add(graphPanel, BorderLayout.CENTER);</code>. Then you should call <code>pack()</code> or <code>setSize</code> and only then <code>setVisible()</code>."},{"owner":{"account_id":278315,"reputation":11589,"user_id":572834,"display_name":"Alexey Ivanov"},"score":3,"creation_date":1645480267,"post_id":71213303,"comment_id":125878246,"body_markdown":"It&#39;s not directly related to your question but you should not extend `JFrame` unless you extending the functionality of `JFrame`. See [Extends JFrame vs. creating it inside the program](https://stackoverflow.com/q/22003802/572834).","body":"It&#39;s not directly related to your question but you should not extend <code>JFrame</code> unless you extending the functionality of <code>JFrame</code>. See <a href=\"https://stackoverflow.com/q/22003802/572834\">Extends JFrame vs. creating it inside the program</a>."}],"owner":{"account_id":23610428,"reputation":13,"user_id":17645530,"display_name":"Ayush Nobeen"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":418,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1645562824,"creation_date":1645479439,"question_id":71213303,"body_markdown":"My GUI window is opening but nothing is being displayed.\r\nBy printing out my mainPanel and graphPanel, I can deduce that it&#39;s not taking my border values.\r\n\r\nI&#39;m new to GUI, can someone help me out.\r\n\r\n\r\n```\r\npublic class MainGUI extends JFrame{\r\n\r\n    public static void main(String [] args){\r\n        JFrame frame = new MainGUI(&quot;Title&quot;);\r\n        frame.setVisible(true);\r\n    }\r\n\r\n    public MainGUI(String title){\r\n        super(title);\r\n\r\n        JPanel mainPanel = new JPanel();\r\n        JPanel graphPanel = new JPanel();\r\n        int w = 200;\r\n        int h = 200;\r\n        System.out.println(mainPanel);\r\n        mainPanel.setBorder(BorderFactory.createEmptyBorder(20, 45, 50, 20)); //Create panel Border\r\n        System.out.println(mainPanel);\r\n        graphPanel.setBorder(BorderFactory.createEmptyBorder(0,0,0,0));\r\n\r\n        graphPanel.setLayout(new GridLayout(1, 1));\r\n        System.out.println(graphPanel);\r\n\r\n        ....\r\n        ....","title":"GUI not displaying in java eclipse","body":"<p>My GUI window is opening but nothing is being displayed.\nBy printing out my mainPanel and graphPanel, I can deduce that it's not taking my border values.</p>\n<p>I'm new to GUI, can someone help me out.</p>\n<pre><code>public class MainGUI extends JFrame{\n\n    public static void main(String [] args){\n        JFrame frame = new MainGUI(&quot;Title&quot;);\n        frame.setVisible(true);\n    }\n\n    public MainGUI(String title){\n        super(title);\n\n        JPanel mainPanel = new JPanel();\n        JPanel graphPanel = new JPanel();\n        int w = 200;\n        int h = 200;\n        System.out.println(mainPanel);\n        mainPanel.setBorder(BorderFactory.createEmptyBorder(20, 45, 50, 20)); //Create panel Border\n        System.out.println(mainPanel);\n        graphPanel.setBorder(BorderFactory.createEmptyBorder(0,0,0,0));\n\n        graphPanel.setLayout(new GridLayout(1, 1));\n        System.out.println(graphPanel);\n\n        ....\n        ....\n</code></pre>\n"},{"tags":["java","spring-boot","testing","junit5"],"answers":[{"tags":[],"owner":{"account_id":19859072,"reputation":31,"user_id":14547788,"display_name":"idri"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645562144,"creation_date":1645562144,"answer_id":71227974,"question_id":71226216,"body_markdown":"Maybe you forgot to use mockito annotation **@RunWith(MockitoJUnitRunner.class)**.\r\nHere it&#39;s the unit test for **CustomUserDetailsService** :\r\n\r\n    import org.junit.Before;\r\n    import org.junit.Test;\r\n    import org.junit.runner.RunWith;\r\n    import org.mockito.Mock;\r\n    import org.mockito.junit.MockitoJUnitRunner;\r\n    import org.springframework.security.core.userdetails.UserDetails;\r\n    import org.springframework.test.util.ReflectionTestUtils;\r\n    \r\n    import static org.junit.Assert.*;\r\n    import static org.mockito.Mockito.mock;\r\n    import static org.mockito.Mockito.when;\r\n    \r\n    @RunWith(MockitoJUnitRunner.class)\r\n    public class CustomUserDetailsService {\r\n        @Mock\r\n        private UserRepository userRepository;\r\n    \r\n        private CustomUserDetailsService customUserDetailsService;\r\n    \r\n        @Before\r\n        public void setUp() throws Exception {\r\n            customUserDetailsService = new CustomUserDetailsService(userRepository);\r\n        }\r\n    \r\n        @Test\r\n        public void GIVEN_username_THEN_return_user_details() {\r\n            //Arrange\r\n            final String username = &quot;existingUserName&quot;;\r\n            final User user = mock(User.class);\r\n            when(userRepository.findByUsername(username)).thenReturn(user);\r\n    \r\n            //Act\r\n            final UserDetails userDetails = customUserDetailsService.loadUserByUsername(username);\r\n    \r\n            //Assert\r\n            assertNotNull(userDetails);\r\n            assertEquals(user, ReflectionTestUtils.getField(userDetails, &quot;user&quot;));\r\n        }\r\n    }","title":"How do I test my CustomUserDetailsService?","body":"<p>Maybe you forgot to use mockito annotation <strong>@RunWith(MockitoJUnitRunner.class)</strong>.\nHere it's the unit test for <strong>CustomUserDetailsService</strong> :</p>\n<pre><code>import org.junit.Before;\nimport org.junit.Test;\nimport org.junit.runner.RunWith;\nimport org.mockito.Mock;\nimport org.mockito.junit.MockitoJUnitRunner;\nimport org.springframework.security.core.userdetails.UserDetails;\nimport org.springframework.test.util.ReflectionTestUtils;\n\nimport static org.junit.Assert.*;\nimport static org.mockito.Mockito.mock;\nimport static org.mockito.Mockito.when;\n\n@RunWith(MockitoJUnitRunner.class)\npublic class CustomUserDetailsService {\n    @Mock\n    private UserRepository userRepository;\n\n    private CustomUserDetailsService customUserDetailsService;\n\n    @Before\n    public void setUp() throws Exception {\n        customUserDetailsService = new CustomUserDetailsService(userRepository);\n    }\n\n    @Test\n    public void GIVEN_username_THEN_return_user_details() {\n        //Arrange\n        final String username = &quot;existingUserName&quot;;\n        final User user = mock(User.class);\n        when(userRepository.findByUsername(username)).thenReturn(user);\n\n        //Act\n        final UserDetails userDetails = customUserDetailsService.loadUserByUsername(username);\n\n        //Assert\n        assertNotNull(userDetails);\n        assertEquals(user, ReflectionTestUtils.getField(userDetails, &quot;user&quot;));\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":21295186,"reputation":101,"user_id":16988280,"display_name":"Phil"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":737,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1645562144,"creation_date":1645552984,"question_id":71226216,"body_markdown":"I have a `CustomerUserDetailsService` class, which is part of an implementation of Spring Boot authentication. I have tested my code manually, and it works correctly, allowing me to successfully log in to my app. However, I am unable to work out how to test the `CustomerUserDetailsService`.\r\n\r\nAs a unit test, I believe I would need to mock the `userRepository` member variable, but whatever I try in my test fails, the reason being `userRepository` is set to `null`. I&#39;ve tried adding the `@Repository` annotation to `userRepository` but am told that is not allowed because it is an interface. There&#39;s also the fact that `loadUserByUsername` returns an instance of `CustomUserDetails`, which is just an implementation of an interface, so I have no idea how I&#39;d mock that dependency?\r\n\r\nI&#39;ve also tried doing some kind of integration test but had similar issues, probably due to incorrect annotations on the test itself. In an ideal world, I&#39;d prefer a unit test and would be extremely grateful for any guidance as to how to set it up.\r\n\r\nThese are the relevant classes...\r\n\r\n**CustomerUserDetailsService:**\r\n```java\r\npackage com.phil.urlshortener.security;\r\n\r\nimport com.phil.urlshortener.model.User;\r\nimport com.phil.urlshortener.repositories.UserRepository;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.security.core.userdetails.UserDetails;\r\nimport org.springframework.security.core.userdetails.UserDetailsService;\r\nimport org.springframework.security.core.userdetails.UsernameNotFoundException;\r\n\r\npublic class CustomUserDetailsService implements UserDetailsService {\r\n  @Autowired private UserRepository userRepository;\r\n\r\n  @Override\r\n  public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\r\n    User user = userRepository.findByUsername(username);\r\n\r\n    if (user == null) {\r\n      throw new UsernameNotFoundException(&quot;User not found&quot;);\r\n    }\r\n\r\n    return new CustomUserDetails(user);\r\n  }\r\n}\r\n```\r\n**User:**\r\n```java\r\npackage com.phil.urlshortener.model;\r\n\r\nimport lombok.Data;\r\n\r\nimport javax.persistence.*;\r\n\r\n@Data\r\n@Entity\r\npublic class User {\r\n  @Id\r\n  @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n  private Long id;\r\n\r\n  @Column(nullable = false, unique = true, length = 50)\r\n  private String username;\r\n\r\n  @Column(nullable = false, length = 64)\r\n  private String password;\r\n}\r\n```\r\n**UserRepository:**\r\n```java\r\npackage com.phil.urlshortener.repositories;\r\n\r\nimport com.phil.urlshortener.model.User;\r\nimport org.springframework.data.jpa.repository.Query;\r\nimport org.springframework.data.repository.CrudRepository;\r\n\r\npublic interface UserRepository extends CrudRepository&lt;User, Long&gt; {\r\n  @Query(&quot;SELECT u FROM User u WHERE u.username = ?1&quot;)\r\n  User findByUsername(String username);\r\n}\r\n```\r\n**CustomUserDetails:**\r\n```java\r\npackage com.phil.urlshortener.security;\r\n\r\nimport com.phil.urlshortener.model.User;\r\nimport org.springframework.security.core.GrantedAuthority;\r\nimport org.springframework.security.core.userdetails.UserDetails;\r\n\r\nimport java.util.Collection;\r\n\r\npublic class CustomUserDetails implements UserDetails {\r\n  private final User user;\r\n\r\n  public CustomUserDetails(User user) {\r\n    this.user = user;\r\n  }\r\n\r\n  @Override\r\n  public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\r\n    return null;\r\n  }\r\n\r\n  @Override\r\n  public String getPassword() {\r\n    return user.getPassword();\r\n  }\r\n\r\n  @Override\r\n  public String getUsername() {\r\n    return user.getUsername();\r\n  }\r\n\r\n  @Override\r\n  public boolean isAccountNonExpired() {\r\n    return true;\r\n  }\r\n\r\n  @Override\r\n  public boolean isAccountNonLocked() {\r\n    return true;\r\n  }\r\n\r\n  @Override\r\n  public boolean isCredentialsNonExpired() {\r\n    return true;\r\n  }\r\n\r\n  @Override\r\n  public boolean isEnabled() {\r\n    return true;\r\n  }\r\n}\r\n```","title":"How do I test my CustomUserDetailsService?","body":"<p>I have a <code>CustomerUserDetailsService</code> class, which is part of an implementation of Spring Boot authentication. I have tested my code manually, and it works correctly, allowing me to successfully log in to my app. However, I am unable to work out how to test the <code>CustomerUserDetailsService</code>.</p>\n<p>As a unit test, I believe I would need to mock the <code>userRepository</code> member variable, but whatever I try in my test fails, the reason being <code>userRepository</code> is set to <code>null</code>. I've tried adding the <code>@Repository</code> annotation to <code>userRepository</code> but am told that is not allowed because it is an interface. There's also the fact that <code>loadUserByUsername</code> returns an instance of <code>CustomUserDetails</code>, which is just an implementation of an interface, so I have no idea how I'd mock that dependency?</p>\n<p>I've also tried doing some kind of integration test but had similar issues, probably due to incorrect annotations on the test itself. In an ideal world, I'd prefer a unit test and would be extremely grateful for any guidance as to how to set it up.</p>\n<p>These are the relevant classes...</p>\n<p><strong>CustomerUserDetailsService:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.phil.urlshortener.security;\n\nimport com.phil.urlshortener.model.User;\nimport com.phil.urlshortener.repositories.UserRepository;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.security.core.userdetails.UserDetails;\nimport org.springframework.security.core.userdetails.UserDetailsService;\nimport org.springframework.security.core.userdetails.UsernameNotFoundException;\n\npublic class CustomUserDetailsService implements UserDetailsService {\n  @Autowired private UserRepository userRepository;\n\n  @Override\n  public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\n    User user = userRepository.findByUsername(username);\n\n    if (user == null) {\n      throw new UsernameNotFoundException(&quot;User not found&quot;);\n    }\n\n    return new CustomUserDetails(user);\n  }\n}\n</code></pre>\n<p><strong>User:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.phil.urlshortener.model;\n\nimport lombok.Data;\n\nimport javax.persistence.*;\n\n@Data\n@Entity\npublic class User {\n  @Id\n  @GeneratedValue(strategy = GenerationType.IDENTITY)\n  private Long id;\n\n  @Column(nullable = false, unique = true, length = 50)\n  private String username;\n\n  @Column(nullable = false, length = 64)\n  private String password;\n}\n</code></pre>\n<p><strong>UserRepository:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.phil.urlshortener.repositories;\n\nimport com.phil.urlshortener.model.User;\nimport org.springframework.data.jpa.repository.Query;\nimport org.springframework.data.repository.CrudRepository;\n\npublic interface UserRepository extends CrudRepository&lt;User, Long&gt; {\n  @Query(&quot;SELECT u FROM User u WHERE u.username = ?1&quot;)\n  User findByUsername(String username);\n}\n</code></pre>\n<p><strong>CustomUserDetails:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.phil.urlshortener.security;\n\nimport com.phil.urlshortener.model.User;\nimport org.springframework.security.core.GrantedAuthority;\nimport org.springframework.security.core.userdetails.UserDetails;\n\nimport java.util.Collection;\n\npublic class CustomUserDetails implements UserDetails {\n  private final User user;\n\n  public CustomUserDetails(User user) {\n    this.user = user;\n  }\n\n  @Override\n  public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\n    return null;\n  }\n\n  @Override\n  public String getPassword() {\n    return user.getPassword();\n  }\n\n  @Override\n  public String getUsername() {\n    return user.getUsername();\n  }\n\n  @Override\n  public boolean isAccountNonExpired() {\n    return true;\n  }\n\n  @Override\n  public boolean isAccountNonLocked() {\n    return true;\n  }\n\n  @Override\n  public boolean isCredentialsNonExpired() {\n    return true;\n  }\n\n  @Override\n  public boolean isEnabled() {\n    return true;\n  }\n}\n</code></pre>\n"},{"tags":["java","android-studio"],"owner":{"account_id":24345480,"reputation":21,"user_id":18282163,"display_name":"zokatramvaj"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1645561787,"creation_date":1645561787,"question_id":71227915,"body_markdown":"I&#39;m in a process of making the TicTacToe app in Android Studio using java, and this is my first try at this. \r\nSo the failure is the winning section, and I cannot find the error myself.\r\nWhen I choose 2  in a row and the computer randomly chooses the 3 square in the same row it finishes the game and the winner is the computer. \r\n\r\n\r\n\r\n\r\npublic class PlayGame extends AppCompatActivity {\r\n\r\n    int activePlayer = 0;\r\n    int[] gameState = {2, 2, 2, 2, 2, 2, 2, 2, 2};\r\n    int[][] winningPositions = {{0, 1, 2}, {3, 4, 5}, {6, 7 ,8}, {0, 3, 6}, {1, 4, 7}, {2, 5, 8}, {0, 4, 8}, {2, 4, 6}};\r\n    boolean gameActive = true;\r\n    ArrayList&lt;String&gt; emptySquares = new ArrayList&lt;&gt;();\r\n    public void computer(){\r\n\r\n        if (gameActive) {\r\n\r\n            int select = emptySquares.size();\r\n            int selected = new Random().nextInt(select);\r\n            String selectedSquare = emptySquares.get(selected);\r\n            switch (selectedSquare) {\r\n                case &quot;0&quot;:\r\n                    ImageView imageView1 = findViewById(R.id.imageView1);\r\n                    imageView1.setImageResource(R.drawable.x);\r\n                    activePlayer = 0;\r\n                    emptySquares.remove(selectedSquare);\r\n                    gameState[Integer.parseInt(selectedSquare)] = activePlayer;\r\n                    break;\r\n\r\n                case &quot;1&quot;:\r\n                    ImageView imageView2 = findViewById(R.id.imageView2);\r\n                    imageView2.setImageResource(R.drawable.x);\r\n                    activePlayer = 0;\r\n                    emptySquares.remove(selectedSquare);\r\n                    gameState[Integer.parseInt(selectedSquare)] = activePlayer;\r\n                    break;\r\n\r\n                case &quot;2&quot;:\r\n                    ImageView imageView3 = findViewById(R.id.imageView3);\r\n                    imageView3.setImageResource(R.drawable.x);\r\n                    activePlayer = 0;\r\n                    emptySquares.remove(selectedSquare);\r\n                    gameState[Integer.parseInt(selectedSquare)] = activePlayer;\r\n                    break;\r\n\r\n                case &quot;3&quot;:\r\n                    ImageView imageView4 = findViewById(R.id.imageView4);\r\n                    imageView4.setImageResource(R.drawable.x);\r\n                    activePlayer = 0;\r\n                    emptySquares.remove(selectedSquare);\r\n                    gameState[Integer.parseInt(selectedSquare)] = activePlayer;\r\n                    break;\r\n\r\n                case &quot;4&quot;:\r\n                    ImageView imageView5 = findViewById(R.id.imageView5);\r\n                    imageView5.setImageResource(R.drawable.x);\r\n                    activePlayer = 0;\r\n                    emptySquares.remove(selectedSquare);\r\n                    gameState[Integer.parseInt(selectedSquare)] = activePlayer;\r\n                    break;\r\n\r\n                case &quot;5&quot;:\r\n                    ImageView imageView6 = findViewById(R.id.imageView6);\r\n                    imageView6.setImageResource(R.drawable.x);\r\n                    activePlayer = 0;\r\n                    emptySquares.remove(selectedSquare);\r\n                    gameState[Integer.parseInt(selectedSquare)] = activePlayer;\r\n                    break;\r\n\r\n                case &quot;6&quot;:\r\n                    ImageView imageView7 = findViewById(R.id.imageView7);\r\n                    imageView7.setImageResource(R.drawable.x);\r\n                    activePlayer = 0;\r\n                    emptySquares.remove(selectedSquare);\r\n                    gameState[Integer.parseInt(selectedSquare)] = activePlayer;\r\n                    break;\r\n\r\n                case &quot;7&quot;:\r\n                    ImageView imageView8 = findViewById(R.id.imageView8);\r\n                    imageView8.setImageResource(R.drawable.x);\r\n                    activePlayer = 0;\r\n                    emptySquares.remove(selectedSquare);\r\n                    gameState[Integer.parseInt(selectedSquare)] = activePlayer;\r\n                    break;\r\n\r\n                case &quot;8&quot;:\r\n                    ImageView imageView9 = findViewById(R.id.imageView9);\r\n                    imageView9.setImageResource(R.drawable.x);\r\n                    activePlayer = 0;\r\n                    emptySquares.remove(selectedSquare);\r\n                    gameState[Integer.parseInt(selectedSquare)] = activePlayer;\r\n                    break;\r\n            }\r\n\r\n            check();\r\n        }\r\n    }\r\n\r\n    public void dropIn(View view){\r\n\r\n        ImageView counter = (ImageView) view;\r\n\r\n        int tappedCounter = Integer.parseInt(counter.getTag().toString());\r\n\r\n        if (gameState[tappedCounter] == 2 &amp;&amp; gameActive &amp;&amp; emptySquares.contains(Integer.toString(tappedCounter))){\r\n\r\n            gameState[tappedCounter] = activePlayer;\r\n\r\n            counter.setTranslationY(-1500);\r\n\r\n            if (activePlayer == 0){\r\n\r\n                counter.setImageResource(R.drawable.o);\r\n\r\n                activePlayer = 1;\r\n\r\n                emptySquares.remove(Integer.toString(tappedCounter));\r\n\r\n                counter.animate().translationYBy(1).rotation(1).setDuration(300);\r\n\r\n                check();\r\n\r\n                computer();\r\n            }\r\n\r\n        }\r\n\r\n    }\r\n\r\n    public void check(){\r\n        for (int[] winningPosition : winningPositions){\r\n            if (gameState[winningPosition[0]] == gameState[winningPosition[1]] &amp;&amp; gameState[winningPosition[1]] == gameState[winningPosition[2]] &amp;&amp; gameState[winningPosition[0]] != 2){\r\n\r\n                gameActive = false;\r\n\r\n                String winner = &quot;&quot;;\r\n\r\n                if (activePlayer == 1){\r\n                    winner = &quot;O&quot;;\r\n                }\r\n                else {\r\n                    winner = &quot;X&quot;;\r\n                }\r\n\r\n\r\n                TextView winnerTextView = findViewById(R.id.textView);\r\n\r\n                winnerTextView.setText(&quot;Winner : &quot;+ winner);\r\n\r\n                winnerTextView.setVisibility(View.VISIBLE);\r\n            }\r\n            else {\r\n\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_play_game);\r\n\r\n        emptySquares.add(&quot;0&quot;);\r\n        emptySquares.add(&quot;1&quot;);\r\n        emptySquares.add(&quot;2&quot;);\r\n        emptySquares.add(&quot;3&quot;);\r\n        emptySquares.add(&quot;4&quot;);\r\n        emptySquares.add(&quot;5&quot;);\r\n        emptySquares.add(&quot;6&quot;);\r\n        emptySquares.add(&quot;7&quot;);\r\n        emptySquares.add(&quot;8&quot;);\r\n    }}","title":"I have a logic issue in my tictactoe app. When I choose 2 in a row and computer randomly choses the 3 squere in the same row it finishes the game","body":"<p>I'm in a process of making the TicTacToe app in Android Studio using java, and this is my first try at this.\nSo the failure is the winning section, and I cannot find the error myself.\nWhen I choose 2  in a row and the computer randomly chooses the 3 square in the same row it finishes the game and the winner is the computer.</p>\n<p>public class PlayGame extends AppCompatActivity {</p>\n<pre><code>int activePlayer = 0;\nint[] gameState = {2, 2, 2, 2, 2, 2, 2, 2, 2};\nint[][] winningPositions = {{0, 1, 2}, {3, 4, 5}, {6, 7 ,8}, {0, 3, 6}, {1, 4, 7}, {2, 5, 8}, {0, 4, 8}, {2, 4, 6}};\nboolean gameActive = true;\nArrayList&lt;String&gt; emptySquares = new ArrayList&lt;&gt;();\npublic void computer(){\n\n    if (gameActive) {\n\n        int select = emptySquares.size();\n        int selected = new Random().nextInt(select);\n        String selectedSquare = emptySquares.get(selected);\n        switch (selectedSquare) {\n            case &quot;0&quot;:\n                ImageView imageView1 = findViewById(R.id.imageView1);\n                imageView1.setImageResource(R.drawable.x);\n                activePlayer = 0;\n                emptySquares.remove(selectedSquare);\n                gameState[Integer.parseInt(selectedSquare)] = activePlayer;\n                break;\n\n            case &quot;1&quot;:\n                ImageView imageView2 = findViewById(R.id.imageView2);\n                imageView2.setImageResource(R.drawable.x);\n                activePlayer = 0;\n                emptySquares.remove(selectedSquare);\n                gameState[Integer.parseInt(selectedSquare)] = activePlayer;\n                break;\n\n            case &quot;2&quot;:\n                ImageView imageView3 = findViewById(R.id.imageView3);\n                imageView3.setImageResource(R.drawable.x);\n                activePlayer = 0;\n                emptySquares.remove(selectedSquare);\n                gameState[Integer.parseInt(selectedSquare)] = activePlayer;\n                break;\n\n            case &quot;3&quot;:\n                ImageView imageView4 = findViewById(R.id.imageView4);\n                imageView4.setImageResource(R.drawable.x);\n                activePlayer = 0;\n                emptySquares.remove(selectedSquare);\n                gameState[Integer.parseInt(selectedSquare)] = activePlayer;\n                break;\n\n            case &quot;4&quot;:\n                ImageView imageView5 = findViewById(R.id.imageView5);\n                imageView5.setImageResource(R.drawable.x);\n                activePlayer = 0;\n                emptySquares.remove(selectedSquare);\n                gameState[Integer.parseInt(selectedSquare)] = activePlayer;\n                break;\n\n            case &quot;5&quot;:\n                ImageView imageView6 = findViewById(R.id.imageView6);\n                imageView6.setImageResource(R.drawable.x);\n                activePlayer = 0;\n                emptySquares.remove(selectedSquare);\n                gameState[Integer.parseInt(selectedSquare)] = activePlayer;\n                break;\n\n            case &quot;6&quot;:\n                ImageView imageView7 = findViewById(R.id.imageView7);\n                imageView7.setImageResource(R.drawable.x);\n                activePlayer = 0;\n                emptySquares.remove(selectedSquare);\n                gameState[Integer.parseInt(selectedSquare)] = activePlayer;\n                break;\n\n            case &quot;7&quot;:\n                ImageView imageView8 = findViewById(R.id.imageView8);\n                imageView8.setImageResource(R.drawable.x);\n                activePlayer = 0;\n                emptySquares.remove(selectedSquare);\n                gameState[Integer.parseInt(selectedSquare)] = activePlayer;\n                break;\n\n            case &quot;8&quot;:\n                ImageView imageView9 = findViewById(R.id.imageView9);\n                imageView9.setImageResource(R.drawable.x);\n                activePlayer = 0;\n                emptySquares.remove(selectedSquare);\n                gameState[Integer.parseInt(selectedSquare)] = activePlayer;\n                break;\n        }\n\n        check();\n    }\n}\n\npublic void dropIn(View view){\n\n    ImageView counter = (ImageView) view;\n\n    int tappedCounter = Integer.parseInt(counter.getTag().toString());\n\n    if (gameState[tappedCounter] == 2 &amp;&amp; gameActive &amp;&amp; emptySquares.contains(Integer.toString(tappedCounter))){\n\n        gameState[tappedCounter] = activePlayer;\n\n        counter.setTranslationY(-1500);\n\n        if (activePlayer == 0){\n\n            counter.setImageResource(R.drawable.o);\n\n            activePlayer = 1;\n\n            emptySquares.remove(Integer.toString(tappedCounter));\n\n            counter.animate().translationYBy(1).rotation(1).setDuration(300);\n\n            check();\n\n            computer();\n        }\n\n    }\n\n}\n\npublic void check(){\n    for (int[] winningPosition : winningPositions){\n        if (gameState[winningPosition[0]] == gameState[winningPosition[1]] &amp;&amp; gameState[winningPosition[1]] == gameState[winningPosition[2]] &amp;&amp; gameState[winningPosition[0]] != 2){\n\n            gameActive = false;\n\n            String winner = &quot;&quot;;\n\n            if (activePlayer == 1){\n                winner = &quot;O&quot;;\n            }\n            else {\n                winner = &quot;X&quot;;\n            }\n\n\n            TextView winnerTextView = findViewById(R.id.textView);\n\n            winnerTextView.setText(&quot;Winner : &quot;+ winner);\n\n            winnerTextView.setVisibility(View.VISIBLE);\n        }\n        else {\n\n        }\n    }\n}\n\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_play_game);\n\n    emptySquares.add(&quot;0&quot;);\n    emptySquares.add(&quot;1&quot;);\n    emptySquares.add(&quot;2&quot;);\n    emptySquares.add(&quot;3&quot;);\n    emptySquares.add(&quot;4&quot;);\n    emptySquares.add(&quot;5&quot;);\n    emptySquares.add(&quot;6&quot;);\n    emptySquares.add(&quot;7&quot;);\n    emptySquares.add(&quot;8&quot;);\n}}\n</code></pre>\n"},{"tags":["java","sql-server","spring","spring-data-jpa","crud-repository"],"comments":[{"owner":{"account_id":10773302,"reputation":2841,"user_id":7926183,"display_name":"SMor"},"score":1,"creation_date":1645561448,"post_id":71227813,"comment_id":125903260,"body_markdown":"Show the code. An update statement, by itself, does not produce any resultset. Nor should it in most situations. Do you have a trigger on this table?","body":"Show the code. An update statement, by itself, does not produce any resultset. Nor should it in most situations. Do you have a trigger on this table?"},{"owner":{"account_id":9703968,"reputation":29,"user_id":7197967,"display_name":"jonathan gonzalez"},"score":0,"creation_date":1645561574,"post_id":71227813,"comment_id":125903307,"body_markdown":"Yes, I have some triggers, what can I do in that case?","body":"Yes, I have some triggers, what can I do in that case?"},{"owner":{"account_id":10773302,"reputation":2841,"user_id":7926183,"display_name":"SMor"},"score":2,"creation_date":1645563740,"post_id":71227813,"comment_id":125903988,"body_markdown":"Develop good habits and follow best practices. A trigger should NOT produce a resultset since applications (and libraries) often do not expect them - as you see now. Remove the logic from the triggers that generates the resultsets.","body":"Develop good habits and follow best practices. A trigger should NOT produce a resultset since applications (and libraries) often do not expect them - as you see now. Remove the logic from the triggers that generates the resultsets."},{"owner":{"account_id":9703968,"reputation":29,"user_id":7197967,"display_name":"jonathan gonzalez"},"score":0,"creation_date":1645563879,"post_id":71227813,"comment_id":125904025,"body_markdown":"Trigges were not deveped by me, but I already found the problems and yes, in fact are the triggers.","body":"Trigges were not deveped by me, but I already found the problems and yes, in fact are the triggers."},{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1680204099,"post_id":71227813,"comment_id":133862977,"body_markdown":"Could you please share more details of the solution as an answer? It would help other developers struggling with this error. Thanks.","body":"Could you please share more details of the solution as an answer? It would help other developers struggling with this error. Thanks."}],"owner":{"account_id":9703968,"reputation":29,"user_id":7197967,"display_name":"jonathan gonzalez"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":348,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1645561727,"creation_date":1645561268,"question_id":71227813,"body_markdown":"\r\n\r\n    @Repository\r\n    public interface IReleaseHeaderDao extends CrudRepository&lt;ReleaseHeader, Integer&gt;{\r\n        \r\n    }\r\nIn my Service:\r\n\r\n        private void updatePfm(PushModel pushModel) {\r\n           \r\n           ReleaseHeader releaseHeader = this.releaseHeaderService.findById(162021);\r\n           releaseHeader.setUpc(pushModel.getUpc());\r\n           releaseHeaderService.save(releaseHeader);\r\n        }\r\n\r\n\r\n\r\n\r\nWhen I update in SQL server I received this result\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nBut in spring when I saved the object to update it, I received this:\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/scdhE.png\r\n  [2]: https://i.stack.imgur.com/T95eI.png","title":"A result set was generated for update spring boot","body":"<pre><code>@Repository\npublic interface IReleaseHeaderDao extends CrudRepository&lt;ReleaseHeader, Integer&gt;{\n    \n}\n</code></pre>\n<p>In my Service:</p>\n<pre><code>    private void updatePfm(PushModel pushModel) {\n       \n       ReleaseHeader releaseHeader = this.releaseHeaderService.findById(162021);\n       releaseHeader.setUpc(pushModel.getUpc());\n       releaseHeaderService.save(releaseHeader);\n    }\n</code></pre>\n<p>When I update in SQL server I received this result</p>\n<p><a href=\"https://i.stack.imgur.com/scdhE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/scdhE.png\" alt=\"enter image description here\" /></a></p>\n<p>But in spring when I saved the object to update it, I received this:\n<a href=\"https://i.stack.imgur.com/T95eI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/T95eI.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","hibernate","jdbc","quarkus","quarkus-panache"],"comments":[{"owner":{"account_id":15400934,"reputation":1598,"user_id":11110455,"display_name":"Felipe Windmoller"},"score":0,"creation_date":1645750476,"post_id":71227855,"comment_id":125960482,"body_markdown":"How are you injecting your EntityManager to use hibernate? As you&#39;re using one specific database setting the &quot;oracledb&quot; on the properties name, I think you need to tell hibernate that you&#39;re not using the default data source and you are using the &quot;oracledb&quot;. Something like @Inject\n@PersistenceUnit(&quot;oracledb&quot;) \nEntityManager entityManager; But if you are not using multiple data sources in your project, perhaps you could just remove the &quot;oracledb&quot; from your properties, like change from `quarkus.datasource.&quot;oracledb&quot;.db-kind=other` to `quarkus.datasource.db-kind=other`","body":"How are you injecting your EntityManager to use hibernate? As you&#39;re using one specific database setting the &quot;oracledb&quot; on the properties name, I think you need to tell hibernate that you&#39;re not using the default data source and you are using the &quot;oracledb&quot;. Something like @Inject @PersistenceUnit(&quot;oracledb&quot;)  EntityManager entityManager; But if you are not using multiple data sources in your project, perhaps you could just remove the &quot;oracledb&quot; from your properties, like change from <code>quarkus.datasource.&quot;oracledb&quot;.db-kind=other</code> to <code>quarkus.datasource.db-kind=other</code>"},{"owner":{"account_id":7544544,"reputation":7144,"user_id":5728095,"accept_rate":76,"display_name":"Sergii"},"score":0,"creation_date":1647152216,"post_id":71227855,"comment_id":126295916,"body_markdown":"@felipe-windmoller `@DataSource(&quot;oracledb&quot;)`. i have few datasources in the same project thus i need specified configuration `quarkus.datasource.&quot;oracledb&quot;.db-kind=...`","body":"@felipe-windmoller <code>@DataSource(&quot;oracledb&quot;)</code>. i have few datasources in the same project thus i need specified configuration <code>quarkus.datasource.&quot;oracledb&quot;.db-kind=...</code>"},{"owner":{"account_id":15400934,"reputation":1598,"user_id":11110455,"display_name":"Felipe Windmoller"},"score":0,"creation_date":1647297269,"post_id":71227855,"comment_id":126331876,"body_markdown":"I&#39;ve done a test using Quarkus 2.7 with Panache and everything worked. [Panache with Repository pattern](https://github.com/felipewind/poc-quarkus-multiple-datasources/blob/main/quarkus-vrs-2-7-panache-repository-pattern/README.md) and [Panache with Active Records pattern](https://github.com/felipewind/poc-quarkus-multiple-datasources/blob/main/quarkus-vrs-2-7-panache-active-record-pattern/README.md). If you need to inject the EntityManager, I guess you should use the @PersistenceUnit(&quot;oracledb&quot;) annotation, like [this guide](https://quarkus.io/guides/hibernate-orm#multiple-persistence-units).","body":"I&#39;ve done a test using Quarkus 2.7 with Panache and everything worked. <a href=\"https://github.com/felipewind/poc-quarkus-multiple-datasources/blob/main/quarkus-vrs-2-7-panache-repository-pattern/README.md\" rel=\"nofollow noreferrer\">Panache with Repository pattern</a> and <a href=\"https://github.com/felipewind/poc-quarkus-multiple-datasources/blob/main/quarkus-vrs-2-7-panache-active-record-pattern/README.md\" rel=\"nofollow noreferrer\">Panache with Active Records pattern</a>. If you need to inject the EntityManager, I guess you should use the @PersistenceUnit(&quot;oracledb&quot;) annotation, like <a href=\"https://quarkus.io/guides/hibernate-orm#multiple-persistence-units\" rel=\"nofollow noreferrer\">this guide</a>."},{"owner":{"account_id":15400934,"reputation":1598,"user_id":11110455,"display_name":"Felipe Windmoller"},"score":0,"creation_date":1647297998,"post_id":71227855,"comment_id":126332015,"body_markdown":"When reading the error `The default datasource has not been properly configured.`, looks like that there&#39;s some problem with your quarkus.hibernate-orm.&quot;oracledb&quot;.packages definition. Apparently, the Entity you&#39;re using is not in the same package declared with &quot;oracledb&quot;, so Quarkus tries to find the default datasource to use with your Entity.","body":"When reading the error <code>The default datasource has not been properly configured.</code>, looks like that there&#39;s some problem with your quarkus.hibernate-orm.&quot;oracledb&quot;.packages definition. Apparently, the Entity you&#39;re using is not in the same package declared with &quot;oracledb&quot;, so Quarkus tries to find the default datasource to use with your Entity."},{"owner":{"account_id":15400934,"reputation":1598,"user_id":11110455,"display_name":"Felipe Windmoller"},"score":0,"creation_date":1647298192,"post_id":71227855,"comment_id":126332068,"body_markdown":"The `default datasource` would be the one defined without the `&quot;oracledb&quot;` in the name, like `quarkus.datasource.db-kind=other\nquarkus.datasource.jdbc.driver=oracle.jdbc.driver.OracleDriver\nquarkus.datasource.jdbc.url=jdbc:oracle:thin:@dburl\nquarkus.hibernate-orm.packages=ourproject.model.entities\nquarkus.hibernate-orm.dialect=org.hibernate.dialect.OracleDialect\nquarkus.hibernate-orm.log.sql=false`.","body":"The <code>default datasource</code> would be the one defined without the <code>&quot;oracledb&quot;</code> in the name, like <code>quarkus.datasource.db-kind=other quarkus.datasource.jdbc.driver=oracle.jdbc.driver.OracleDriv&zwnj;&#8203;er quarkus.datasource.jdbc.url=jdbc:oracle:thin:@dburl quarkus.hibernate-orm.packages=ourproject.model.entities quarkus.hibernate-orm.dialect=org.hibernate.dialect.OracleDi&zwnj;&#8203;alect quarkus.hibernate-orm.log.sql=false</code>."}],"owner":{"account_id":7544544,"reputation":7144,"user_id":5728095,"accept_rate":76,"display_name":"Sergii"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1520,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1645561469,"creation_date":1645561469,"question_id":71227855,"body_markdown":"In project we use [quarkus][1].\r\n\r\nWe need oracle db for production, but for local development and for testing we need `h2`. `h2` is new one for this project. To manage this way we&#39;ve configured\r\n\r\n```\r\n# mock for oracle db\r\n%local.quarkus.datasource.&quot;oracledb&quot;.db-kind=h2\r\n%local.quarkus.datasource.&quot;oracledb&quot;.jdbc.driver=org.h2.Driver\r\n%local.quarkus.datasource.&quot;oracledb&quot;.jdbc.url=jdbc:h2:mem:default;DB_CLOSE_DELAY=-1\r\n%local.quarkus.hibernate-orm.&quot;oracledb&quot;.database.generation=drop-and-create\r\n%local.quarkus.hibernate-orm.&quot;oracledb&quot;.datasource=oracledb\r\n%local.quarkus.hibernate-orm.&quot;oracledb&quot;.packages=ourproject.model\r\n%local.quarkus.hibernate-orm.&quot;oracledb&quot;.dialect=org.hibernate.dialect.H2Dialect\r\n%local.quarkus.hibernate-orm.&quot;oracledb&quot;.log.sql=false\r\n%local.isbn.suffix=LOCAL\r\n```\r\n\r\nalso we added java configuration dependent on active profile\r\n\r\n```\r\n@IfBuildProfile(&quot;local&quot;)\r\n@Dependent\r\npublic class StartUpLocalConfiguration {\r\n    private static final Logger LOG = Logger.getLogger(StartUpLocalConfiguration.class);\r\n\r\n    @Inject\r\n    @DataSource(&quot;oraclemock&quot;)\r\n    AgroalDataSource oraclemockDataSource;\r\n\r\n    void onStartForLocal(@Observes StartupEvent event) {\r\n        System.out.println();\r\n        LOG.info(&quot;[START] H2 DB initialization for local dev environment where profile: %s&quot;\r\n                .formatted(ProfileManager.getActiveProfile()));\r\n\r\n        List&lt;String&gt; createdTables = createAndInitTablesFromCsvDirectory();\r\n\r\n        LOG.info(&quot;[END] H2 DB initialization for local dev environment where profile: %s&quot;\r\n                .formatted(ProfileManager.getActiveProfile()));\r\n\r\n        // Logging data from specified tables\r\n        System.out.println();\r\n        LOG.debug(&quot;[START] Printing data loaded from H2 DB after it&#39;s initialization&quot;);\r\n        for (String tableName: createdTables) {\r\n            printTableData(tableName);\r\n        }\r\n        LOG.debug(&quot;[END] Printing data loaded from H2 DB after it&#39;s initialization&quot;);\r\n    }\r\n\r\n ...\r\n}\r\n```\r\n\r\nAfter that we can easily work using oracle schema (old approach works perfectly) and h2 db (if profile is `local`).\r\n\r\nLocal java configuration loads data to db perfectly, also it verifies the result (data loading and verification is done over `jdbc`).\r\n\r\n\r\nProblem\r\n-\r\nIn case we manage db operations with hibernate (application completely started and initialized with newly added configuration) it leads to next issues for `local` profile\r\n```\r\nCaused by: java.lang.IllegalStateException: The default datasource has not been properly configured. See https://quarkus.io/guides/datasource#jdbc-datasource for information on how to do that.\r\n\tat io.quarkus.hibernate.orm.panache.common.runtime.AbstractJpaOperations.getEntityManager(AbstractJpaOperations.java:62)\r\n\tat io.quarkus.hibernate.orm.panache.common.runtime.AbstractJpaOperations.getEntityManager(AbstractJpaOperations.java:51)\r\n\tat io.quarkus.hibernate.orm.panache.common.runtime.AbstractJpaOperations.find(AbstractJpaOperations.java:198)\r\n\tat io.quarkus.hibernate.orm.panache.common.runtime.AbstractJpaOperations.find(AbstractJpaOperations.java:193)\r\n\tat io.quarkus.hibernate.orm.panache.common.runtime.AbstractJpaOperations.list(AbstractJpaOperations.java:241)\r\n```\r\n\r\n\r\nP.S.\r\n-\r\nThe default datasource (for oracle one) left with no changes:\r\n```\r\nquarkus.datasource.&quot;oracledb&quot;.db-kind=other\r\nquarkus.datasource.&quot;oracledb&quot;.jdbc.driver=oracle.jdbc.driver.OracleDriver\r\nquarkus.datasource.&quot;oracledb&quot;.jdbc.url=jdbc:oracle:thin:@dburl\r\nquarkus.hibernate-orm.&quot;oracledb&quot;.datasource=oracledb\r\nquarkus.hibernate-orm.&quot;oracledb&quot;.packages=ourproject.model.entities\r\nquarkus.hibernate-orm.&quot;oracledb&quot;.dialect=org.hibernate.dialect.OracleDialect\r\nquarkus.hibernate-orm.&quot;oracledb&quot;.log.sql=false\r\n```\r\nentities configured with [hibernate-orm-panache][2]\r\n\r\n\r\n  [1]: https://quarkus.io/guides/\r\n  [2]: https://quarkus.io/guides/hibernate-orm-panache","title":"Quarkus auto init h2 db for test end local dev purposes","body":"<p>In project we use <a href=\"https://quarkus.io/guides/\" rel=\"nofollow noreferrer\">quarkus</a>.</p>\n<p>We need oracle db for production, but for local development and for testing we need <code>h2</code>. <code>h2</code> is new one for this project. To manage this way we've configured</p>\n<pre><code># mock for oracle db\n%local.quarkus.datasource.&quot;oracledb&quot;.db-kind=h2\n%local.quarkus.datasource.&quot;oracledb&quot;.jdbc.driver=org.h2.Driver\n%local.quarkus.datasource.&quot;oracledb&quot;.jdbc.url=jdbc:h2:mem:default;DB_CLOSE_DELAY=-1\n%local.quarkus.hibernate-orm.&quot;oracledb&quot;.database.generation=drop-and-create\n%local.quarkus.hibernate-orm.&quot;oracledb&quot;.datasource=oracledb\n%local.quarkus.hibernate-orm.&quot;oracledb&quot;.packages=ourproject.model\n%local.quarkus.hibernate-orm.&quot;oracledb&quot;.dialect=org.hibernate.dialect.H2Dialect\n%local.quarkus.hibernate-orm.&quot;oracledb&quot;.log.sql=false\n%local.isbn.suffix=LOCAL\n</code></pre>\n<p>also we added java configuration dependent on active profile</p>\n<pre><code>@IfBuildProfile(&quot;local&quot;)\n@Dependent\npublic class StartUpLocalConfiguration {\n    private static final Logger LOG = Logger.getLogger(StartUpLocalConfiguration.class);\n\n    @Inject\n    @DataSource(&quot;oraclemock&quot;)\n    AgroalDataSource oraclemockDataSource;\n\n    void onStartForLocal(@Observes StartupEvent event) {\n        System.out.println();\n        LOG.info(&quot;[START] H2 DB initialization for local dev environment where profile: %s&quot;\n                .formatted(ProfileManager.getActiveProfile()));\n\n        List&lt;String&gt; createdTables = createAndInitTablesFromCsvDirectory();\n\n        LOG.info(&quot;[END] H2 DB initialization for local dev environment where profile: %s&quot;\n                .formatted(ProfileManager.getActiveProfile()));\n\n        // Logging data from specified tables\n        System.out.println();\n        LOG.debug(&quot;[START] Printing data loaded from H2 DB after it's initialization&quot;);\n        for (String tableName: createdTables) {\n            printTableData(tableName);\n        }\n        LOG.debug(&quot;[END] Printing data loaded from H2 DB after it's initialization&quot;);\n    }\n\n ...\n}\n</code></pre>\n<p>After that we can easily work using oracle schema (old approach works perfectly) and h2 db (if profile is <code>local</code>).</p>\n<p>Local java configuration loads data to db perfectly, also it verifies the result (data loading and verification is done over <code>jdbc</code>).</p>\n<h2>Problem</h2>\n<p>In case we manage db operations with hibernate (application completely started and initialized with newly added configuration) it leads to next issues for <code>local</code> profile</p>\n<pre><code>Caused by: java.lang.IllegalStateException: The default datasource has not been properly configured. See https://quarkus.io/guides/datasource#jdbc-datasource for information on how to do that.\n    at io.quarkus.hibernate.orm.panache.common.runtime.AbstractJpaOperations.getEntityManager(AbstractJpaOperations.java:62)\n    at io.quarkus.hibernate.orm.panache.common.runtime.AbstractJpaOperations.getEntityManager(AbstractJpaOperations.java:51)\n    at io.quarkus.hibernate.orm.panache.common.runtime.AbstractJpaOperations.find(AbstractJpaOperations.java:198)\n    at io.quarkus.hibernate.orm.panache.common.runtime.AbstractJpaOperations.find(AbstractJpaOperations.java:193)\n    at io.quarkus.hibernate.orm.panache.common.runtime.AbstractJpaOperations.list(AbstractJpaOperations.java:241)\n</code></pre>\n<h2>P.S.</h2>\n<p>The default datasource (for oracle one) left with no changes:</p>\n<pre><code>quarkus.datasource.&quot;oracledb&quot;.db-kind=other\nquarkus.datasource.&quot;oracledb&quot;.jdbc.driver=oracle.jdbc.driver.OracleDriver\nquarkus.datasource.&quot;oracledb&quot;.jdbc.url=jdbc:oracle:thin:@dburl\nquarkus.hibernate-orm.&quot;oracledb&quot;.datasource=oracledb\nquarkus.hibernate-orm.&quot;oracledb&quot;.packages=ourproject.model.entities\nquarkus.hibernate-orm.&quot;oracledb&quot;.dialect=org.hibernate.dialect.OracleDialect\nquarkus.hibernate-orm.&quot;oracledb&quot;.log.sql=false\n</code></pre>\n<p>entities configured with <a href=\"https://quarkus.io/guides/hibernate-orm-panache\" rel=\"nofollow noreferrer\">hibernate-orm-panache</a></p>\n"},{"tags":["java","string","replace","replaceall"],"comments":[{"owner":{"account_id":2177522,"reputation":120796,"user_id":1927832,"accept_rate":49,"display_name":"Suresh Atta"},"score":0,"creation_date":1488525524,"post_id":42572684,"comment_id":72278939,"body_markdown":"try `System.out.println(test.replaceAll(&quot;\\n&quot;,&quot;,&quot;).replaceAll(&quot;\\r\\n&quot;,&quot;,&quot;)); `","body":"try <code>System.out.println(test.replaceAll(&quot;\\n&quot;,&quot;,&quot;).replaceAll(&quot;\\r\\&zwnj;&#8203;n&quot;,&quot;,&quot;)); </code>"},{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":2,"creation_date":1488525815,"post_id":42572684,"comment_id":72279099,"body_markdown":"_&quot;getting input from UI &quot;_ - Show the code that gets the input from the UI.  Clearly whatever does the reading is not interpreting the escape code and leaving the literal `\\n` in the string.  You may need to interpret escape sequences yourself","body":"<i>&quot;getting input from UI &quot;</i> - Show the code that gets the input from the UI.  Clearly whatever does the reading is not interpreting the escape code and leaving the literal <code>\\n</code> in the string.  You may need to interpret escape sequences yourself"}],"answers":[{"tags":[],"owner":{"account_id":1890132,"reputation":6513,"user_id":1794706,"display_name":"anacron"},"down_vote_count":2,"up_vote_count":22,"is_accepted":true,"score":20,"last_activity_date":1488525606,"creation_date":1488524791,"answer_id":42572701,"question_id":42572684,"body_markdown":"`\\n` is the new line character. If you need to replace that actual backslash character followed by `n`, Then you need to use this:\r\n\r\n    String test =&quot;s1\\ns2\\ns3\\ns4&quot;;\r\n    System.out.println(test.replaceAll(&quot;\\\\n&quot;,&quot;,&quot;));\r\n\r\n\n&gt; **Update:**\n\nYou can use the `System.lineSeparator();` instead of the `\\n` character.\n\n\n    System.out.println(test.replaceAll(System.lineSeparator(),&quot;,&quot;));","title":"Replace &#39;\\n&#39; by &#39;,&#39; in java","body":"<p><code>\\n</code> is the new line character. If you need to replace that actual backslash character followed by <code>n</code>, Then you need to use this:</p>\n\n<pre><code>String test =\"s1\\ns2\\ns3\\ns4\";\nSystem.out.println(test.replaceAll(\"\\\\n\",\",\"));\n</code></pre>\n\n<blockquote>\n  <p><strong>Update:</strong></p>\n</blockquote>\n\n<p>You can use the <code>System.lineSeparator();</code> instead of the <code>\\n</code> character.</p>\n\n<pre><code>System.out.println(test.replaceAll(System.lineSeparator(),\",\"));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17450,"reputation":12197,"user_id":39062,"accept_rate":100,"display_name":"Markus Lausberg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1488525271,"creation_date":1488525271,"answer_id":42572841,"question_id":42572684,"body_markdown":"As anacron already pointed out &#39;\\n&#39; is a special charachter and different to the user input &quot;\\n&quot;, because the user input is transformed to &quot;\\\\\\\\n&quot;.\r\n\r\nThe Java String after user input will look like\r\n\r\n    String test =&quot;s1\\\\ns2\\\\ns3\\\\ns4&quot;;\r\nand not like your test string\r\n\r\n    String test =&quot;s1\\ns2\\ns3\\ns4&quot;;\r\n\r\n\r\nThe user will input single charachter and the keyboard &#39;\\&#39; is transformed to Java charachter &#39;\\\\\\\\&#39;.","title":"Replace &#39;\\n&#39; by &#39;,&#39; in java","body":"<p>As anacron already pointed out '\\n' is a special charachter and different to the user input \"\\n\", because the user input is transformed to \"\\\\n\".</p>\n\n<p>The Java String after user input will look like</p>\n\n<pre><code>String test =\"s1\\\\ns2\\\\ns3\\\\ns4\";\n</code></pre>\n\n<p>and not like your test string</p>\n\n<pre><code>String test =\"s1\\ns2\\ns3\\ns4\";\n</code></pre>\n\n<p>The user will input single charachter and the keyboard '\\' is transformed to Java charachter '\\\\'.</p>\n"},{"tags":[],"owner":{"account_id":1781872,"reputation":14665,"user_id":1624376,"accept_rate":76,"display_name":"Aubin"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1488525274,"creation_date":1488525274,"answer_id":42572842,"question_id":42572684,"body_markdown":"java.util.regex.Pattern [documentation][1] specifies Line terminators as :\r\n\r\n    \r\n\r\n&gt; A line terminator is a one- or two-character sequence that marks the\r\n&gt; end of a line of the input character sequence. The following are\r\n&gt; recognized as line terminators:\r\n&gt; \r\n&gt; A newline (line feed) character (&#39;\\n&#39;),\r\n&gt; A carriage-return character followed immediately by a newline character (&quot;\\r\\n&quot;),\r\n&gt; A standalone carriage-return character (&#39;\\r&#39;),\r\n&gt; A next-line character (&#39;\\u0085&#39;),\r\n&gt; A line-separator character (&#39;\\u2028&#39;), or\r\n&gt; A paragraph-separator character (&#39;\\u2029).\r\n\r\nYour line terminator, from textarea, are \\r\\n (CR/LF).\r\n\r\nregex for that is `[\\r\\n]+`\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/regex/Pattern.html","title":"Replace &#39;\\n&#39; by &#39;,&#39; in java","body":"<p>java.util.regex.Pattern <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/regex/Pattern.html\" rel=\"nofollow noreferrer\">documentation</a> specifies Line terminators as :</p>\n\n<blockquote>\n  <p>A line terminator is a one- or two-character sequence that marks the\n  end of a line of the input character sequence. The following are\n  recognized as line terminators:</p>\n  \n  <p>A newline (line feed) character ('\\n'),\n  A carriage-return character followed immediately by a newline character (\"\\r\\n\"),\n  A standalone carriage-return character ('\\r'),\n  A next-line character ('\\u0085'),\n  A line-separator character ('\\u2028'), or\n  A paragraph-separator character ('\\u2029).</p>\n</blockquote>\n\n<p>Your line terminator, from textarea, are \\r\\n (CR/LF).</p>\n\n<p>regex for that is <code>[\\r\\n]+</code></p>\n"},{"tags":[],"owner":{"account_id":5715909,"reputation":15062,"user_id":4516110,"accept_rate":81,"display_name":"Mehraj Malik"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1488526397,"creation_date":1488525978,"answer_id":42573042,"question_id":42572684,"body_markdown":"Using `Regex` : \r\n\r\n    public class Program\r\n    {\r\n        public static void main(String[] args) {\r\n            String str = &quot;s1\\ns2\\ns3\\ns4&quot;;\r\n            str = str.replaceAll(&quot;(\\r\\n|\\n)&quot;, &quot;,&quot;);\r\n            System.out.println(str);\r\n        }\r\n    }\r\n\r\n&gt; outout : s1,s2,s3,s4","title":"Replace &#39;\\n&#39; by &#39;,&#39; in java","body":"<p>Using <code>Regex</code> : </p>\n\n<pre><code>public class Program\n{\n    public static void main(String[] args) {\n        String str = \"s1\\ns2\\ns3\\ns4\";\n        str = str.replaceAll(\"(\\r\\n|\\n)\", \",\");\n        System.out.println(str);\n    }\n}\n</code></pre>\n\n<blockquote>\n  <p>outout : s1,s2,s3,s4</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":23749232,"reputation":11,"user_id":17766224,"display_name":"Mateusz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645560789,"creation_date":1645560789,"answer_id":71227732,"question_id":42572684,"body_markdown":"If someone will get from UI \\\\\\\\n in text and want remove one \\ to get next line sign \\n then can use this:\r\n\r\n            String text = &quot;text\\\\ntext\\\\ntext\\\\ntext&quot;;\r\n        System.out.println(text.replaceAll(&quot;\\\\\\\\n&quot;, &quot;\\n&quot;));\r\n\r\n\r\nhttps://i.stack.imgur.com/nAv8d.png","title":"Replace &#39;\\n&#39; by &#39;,&#39; in java","body":"<p>If someone will get from UI \\\\n in text and want remove one \\ to get next line sign \\n then can use this:</p>\n<pre><code>        String text = &quot;text\\\\ntext\\\\ntext\\\\ntext&quot;;\n    System.out.println(text.replaceAll(&quot;\\\\\\\\n&quot;, &quot;\\n&quot;));\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/nAv8d.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/nAv8d.png</a></p>\n"}],"owner":{"account_id":3756064,"reputation":499,"user_id":3122402,"accept_rate":60,"display_name":"Ramya Selvarani"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47839,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":42572701,"answer_count":5,"score":9,"last_activity_date":1645560789,"creation_date":1488524724,"question_id":42572684,"body_markdown":"I want to take input from user as `String` and replace the newline character `\\n` with `,`\r\n\r\nI tried : \r\n\r\n` String test =&quot;s1\\ns2\\ns3\\ns4&quot;;\r\n System.out.println(test.replaceAll(&quot;\\n&quot;,&quot;,&quot;));`\r\n\r\n&gt;  Output was s1,s2,s3,s4\r\n\r\nBut when I try the same code by getting input from UI it&#39;s not working.\r\n\r\nWhen I debug it the string test(which I hardcoded) is treated as,\r\n\r\ns1\r\n\r\ns2\r\n\r\ns3\r\n\r\ns4\r\n\r\nbut the string from UI is &quot;`s1\\ns2\\ns3\\ns4`&quot;.\r\n\r\nPlease suggest what is wrong.","title":"Replace &#39;\\n&#39; by &#39;,&#39; in java","body":"<p>I want to take input from user as <code>String</code> and replace the newline character <code>\\n</code> with <code>,</code></p>\n\n<p>I tried : </p>\n\n<p><code>String test =\"s1\\ns2\\ns3\\ns4\";\n System.out.println(test.replaceAll(\"\\n\",\",\"));</code></p>\n\n<blockquote>\n  <p>Output was s1,s2,s3,s4</p>\n</blockquote>\n\n<p>But when I try the same code by getting input from UI it's not working.</p>\n\n<p>When I debug it the string test(which I hardcoded) is treated as,</p>\n\n<p>s1</p>\n\n<p>s2</p>\n\n<p>s3</p>\n\n<p>s4</p>\n\n<p>but the string from UI is \"<code>s1\\ns2\\ns3\\ns4</code>\".</p>\n\n<p>Please suggest what is wrong.</p>\n"},{"tags":["java","swing","jscrollpane","paintcomponent"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1645492147,"post_id":71214764,"comment_id":125880635,"body_markdown":"Your panel needs to have a &quot;preferred size&quot; for it to be successful presented.  At the movement, it&#39;s `0x0`, so the `JScrollPane` is making `0x0` when it&#39;s presented","body":"Your panel needs to have a &quot;preferred size&quot; for it to be successful presented.  At the movement, it&#39;s <code>0x0</code>, so the <code>JScrollPane</code> is making <code>0x0</code> when it&#39;s presented"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1645492418,"post_id":71214764,"comment_id":125880680,"body_markdown":"You might like to have a look at [How to set a background picture in JPanel](https://stackoverflow.com/questions/22162398/how-to-set-a-background-picture-in-jpanel/22162430#22162430) and because you&#39;ve thrown a `JScrollPane` into the mix, [Java - Is there a way to insert a background image in a JList?](https://stackoverflow.com/questions/16390918/java-is-there-a-way-to-insert-a-background-image-in-a-jlist/16390963#16390963)","body":"You might like to have a look at <a href=\"https://stackoverflow.com/questions/22162398/how-to-set-a-background-picture-in-jpanel/22162430#22162430\">How to set a background picture in JPanel</a> and because you&#39;ve thrown a <code>JScrollPane</code> into the mix, <a href=\"https://stackoverflow.com/questions/16390918/java-is-there-a-way-to-insert-a-background-image-in-a-jlist/16390963#16390963\">Java - Is there a way to insert a background image in a JList?</a>"},{"owner":{"account_id":24314867,"reputation":11,"user_id":18256231,"display_name":"hadsag"},"score":0,"creation_date":1645494820,"post_id":71214764,"comment_id":125881143,"body_markdown":"I setPreferredSize() on my JPanel, but then, it won&#39;t add any new components outside of its preferredSize. The JPanel need to be extendable so this method won&#39;t work! I have setMinimumSize(new Dimension(980,600)) to the JPanel, but no max or preferred size","body":"I setPreferredSize() on my JPanel, but then, it won&#39;t add any new components outside of its preferredSize. The JPanel need to be extendable so this method won&#39;t work! I have setMinimumSize(new Dimension(980,600)) to the JPanel, but no max or preferred size"},{"owner":{"account_id":24314867,"reputation":11,"user_id":18256231,"display_name":"hadsag"},"score":0,"creation_date":1645495542,"post_id":71214764,"comment_id":125881276,"body_markdown":"@MadProgrammer I setOpaque(false) on both, as suggested in the linked post, but to no avail. I have a preferred size on my JScrollPane and i set the image to the exact same dimension, but it doesn&#39;t paint the image. setBackground(Black) doesn&#39;t even work.","body":"@MadProgrammer I setOpaque(false) on both, as suggested in the linked post, but to no avail. I have a preferred size on my JScrollPane and i set the image to the exact same dimension, but it doesn&#39;t paint the image. setBackground(Black) doesn&#39;t even work."},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1645496381,"post_id":71214764,"comment_id":125881414,"body_markdown":"1. Don&#39;t use `ImageIcon`, use `ImageIO.read`, this throws an error when the image can&#39;t be loaded; 2. Don&#39;t load images in `paintComponent`, this will be a source of bad performance from within your application.  I&#39;ve provided, at least 2, possibly more runnable examples, consider providing a [mcve] to help remove an ambaility","body":"1. Don&#39;t use <code>ImageIcon</code>, use <code>ImageIO.read</code>, this throws an error when the image can&#39;t be loaded; 2. Don&#39;t load images in <code>paintComponent</code>, this will be a source of bad performance from within your application.  I&#39;ve provided, at least 2, possibly more runnable examples, consider providing a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> to help remove an ambaility"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1645508221,"post_id":71214764,"comment_id":125883209,"body_markdown":"You need to draw the image on the viewport of the scroll pane. Checkout out: https://stackoverflow.com/questions/68474883/static-image-behind-jtextpane-text-in-jscrollpane/68476235#68476235","body":"You need to draw the image on the viewport of the scroll pane. Checkout out: <a href=\"https://stackoverflow.com/questions/68474883/static-image-behind-jtextpane-text-in-jscrollpane/68476235#68476235\" title=\"static image behind jtextpane text in jscrollpane\">stackoverflow.com/questions/68474883/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":24314867,"reputation":11,"user_id":18256231,"display_name":"hadsag"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645560557,"creation_date":1645545202,"answer_id":71224317,"question_id":71214764,"body_markdown":"https://stackoverflow.com/questions/68474883/static-image-behind-jtextpane-text-in-jscrollpane/68476235#68476235\r\n\r\n**^^link where I found the solution!! Below is a clean cheatsheet :)**\r\n```java\r\nJPanel jPanel = new JPanel() {\r\n    this.setOpaque(false);\r\n};\r\nJViewport viewport = new JViewport() {\r\n    @Override\r\n    protected void paintComponent(Graphics g) {\r\n        super.paintComponent(g);\r\n        ImageIcon background = new ImageIcon(&quot;images/background.png&quot;);\r\n        Image image = background.getImage();\r\n        image.getScaledInstance(width, height, java.awt.Image.SCALE_SMOOTH);\r\n        if (image != null) {\r\n            g.drawImage(image, 0, 0, w, h, null);\r\n        }\r\n    }\r\n};\r\njScrollPane.setViewport(viewport);\r\njScrollPane.setViewportView(jPanel);\r\n```","title":"setting background image for JScrollPane","body":"<p><a href=\"https://stackoverflow.com/questions/68474883/static-image-behind-jtextpane-text-in-jscrollpane/68476235#68476235\">Static Image behind JTextPane text in JScrollPane</a></p>\n<p><strong>^^link where I found the solution!! Below is a clean cheatsheet :)</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>JPanel jPanel = new JPanel() {\n    this.setOpaque(false);\n};\nJViewport viewport = new JViewport() {\n    @Override\n    protected void paintComponent(Graphics g) {\n        super.paintComponent(g);\n        ImageIcon background = new ImageIcon(&quot;images/background.png&quot;);\n        Image image = background.getImage();\n        image.getScaledInstance(width, height, java.awt.Image.SCALE_SMOOTH);\n        if (image != null) {\n            g.drawImage(image, 0, 0, w, h, null);\n        }\n    }\n};\njScrollPane.setViewport(viewport);\njScrollPane.setViewportView(jPanel);\n</code></pre>\n"}],"owner":{"account_id":24314867,"reputation":11,"user_id":18256231,"display_name":"hadsag"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1645560557,"creation_date":1645491925,"question_id":71214764,"body_markdown":"**Intro**\r\n\r\nI created a class ChatView that extends JPanel. I added it as a parameter to my JScrollPane (to get the scrolling effect) and overrode the paintComponent method in hope of setting a background image:\r\n\r\n    new JScrollPane(new ChatView){\r\n                @Override\r\n                protected void paintComponent(Graphics g) {\r\n    \r\n                    super.paintComponent(g);\r\n                    ImageIcon background = new ImageIcon(&quot;files/background.png&quot;);\r\n                    Image image = background.getImage();\r\n                    image.getScaledInstance(980, 600, java.awt.Image.SCALE_SMOOTH);\r\n                    if (image != null)\r\n                    {\r\n                        g.drawImage(image,0,0,this.getWidth(),this.getHeight(),null);\r\n                    }\r\n    \r\n                }\r\n            }\r\n\r\n**problem**\r\n\r\nThis doesn&#39;t seem to do anything; however, the same method works on my class ChatView, which extends JPanel. the problem with adding it to my JPanel is that it stretches every time I add a new component that extends outside of the setPrefferredSize() of my JScrollPane; If I do not revalidate() and repaint() my JPanel, it cuts off or doesn&#39;t add the components. That&#39;s why I think it is necessary to add it to the JScrollPane, but how? or am i on the wrong track?\r\n\r\n\r\n**Code: attributes of my JScrollPane**\r\n\r\n    public void addScroll(JScrollPane pnl, String str, int w, int h){\r\n            pnl.setHorizontalScrollBarPolicy(ScrollPaneConstants.HORIZONTAL_SCROLLBAR_NEVER);\r\n            pnl.setVerticalScrollBarPolicy(ScrollPaneConstants.VERTICAL_SCROLLBAR_AS_NEEDED);\r\n            pnl.setSize(new Dimension(w, h));\r\n            pnl.setMinimumSize(new Dimension(w, h));\r\n            pnl.setPreferredSize(new Dimension(w, h));\r\n            pnl.getVerticalScrollBar().setUnitIncrement(16);\r\n            pnl.setBorder(BorderFactory.createLineBorder(black));\r\n            this.add(pnl, str);\r\n        }\r\n\r\n\r\n\r\n\r\n","title":"setting background image for JScrollPane","body":"<p><strong>Intro</strong></p>\n<p>I created a class ChatView that extends JPanel. I added it as a parameter to my JScrollPane (to get the scrolling effect) and overrode the paintComponent method in hope of setting a background image:</p>\n<pre><code>new JScrollPane(new ChatView){\n            @Override\n            protected void paintComponent(Graphics g) {\n\n                super.paintComponent(g);\n                ImageIcon background = new ImageIcon(&quot;files/background.png&quot;);\n                Image image = background.getImage();\n                image.getScaledInstance(980, 600, java.awt.Image.SCALE_SMOOTH);\n                if (image != null)\n                {\n                    g.drawImage(image,0,0,this.getWidth(),this.getHeight(),null);\n                }\n\n            }\n        }\n</code></pre>\n<p><strong>problem</strong></p>\n<p>This doesn't seem to do anything; however, the same method works on my class ChatView, which extends JPanel. the problem with adding it to my JPanel is that it stretches every time I add a new component that extends outside of the setPrefferredSize() of my JScrollPane; If I do not revalidate() and repaint() my JPanel, it cuts off or doesn't add the components. That's why I think it is necessary to add it to the JScrollPane, but how? or am i on the wrong track?</p>\n<p><strong>Code: attributes of my JScrollPane</strong></p>\n<pre><code>public void addScroll(JScrollPane pnl, String str, int w, int h){\n        pnl.setHorizontalScrollBarPolicy(ScrollPaneConstants.HORIZONTAL_SCROLLBAR_NEVER);\n        pnl.setVerticalScrollBarPolicy(ScrollPaneConstants.VERTICAL_SCROLLBAR_AS_NEEDED);\n        pnl.setSize(new Dimension(w, h));\n        pnl.setMinimumSize(new Dimension(w, h));\n        pnl.setPreferredSize(new Dimension(w, h));\n        pnl.getVerticalScrollBar().setUnitIncrement(16);\n        pnl.setBorder(BorderFactory.createLineBorder(black));\n        this.add(pnl, str);\n    }\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8424,"page":1568,"page_size":100}
