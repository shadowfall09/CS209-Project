{"items":[{"tags":["java","spring","caching","ehcache"],"comments":[{"owner":{"account_id":294406,"reputation":24602,"user_id":598289,"accept_rate":85,"display_name":"SJuan76"},"score":0,"creation_date":1308744803,"post_id":6439476,"comment_id":7558564,"body_markdown":"Why do you want to know it? Ideally the cache is hidden to the consumer, hence its name.","body":"Why do you want to know it? Ideally the cache is hidden to the consumer, hence its name."},{"owner":{"account_id":11089,"reputation":400030,"user_id":21234,"accept_rate":91,"display_name":"skaffman"},"score":0,"creation_date":1308745987,"post_id":6439476,"comment_id":7558992,"body_markdown":"What do you mean, &quot;inside&quot;?  As a key, or as a value?","body":"What do you mean, &quot;inside&quot;?  As a key, or as a value?"}],"answers":[{"tags":[],"owner":{"account_id":265649,"reputation":53086,"user_id":552759,"display_name":"jtahlborn"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1308745941,"creation_date":1308744721,"answer_id":6439592,"question_id":6439476,"body_markdown":"perhaps [isKeyInCache][1]?\r\n\r\n\r\n  [1]: http://ehcache.org/apidocs/net/sf/ehcache/Ehcache.html#isKeyInCache%28java.lang.Object%29","title":"EHCache how to check if something is in the cache or not?","body":"<p>perhaps <a href=\"http://ehcache.org/apidocs/net/sf/ehcache/Ehcache.html#isKeyInCache%28java.lang.Object%29\" rel=\"noreferrer\">isKeyInCache</a>?</p>\n"},{"tags":[],"owner":{"account_id":706889,"reputation":1,"user_id":601951,"display_name":"Steven Harris"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1353029763,"creation_date":1311831355,"answer_id":6854513,"question_id":6439476,"body_markdown":"Have you looked at `SelfPopulatingCache and or BlockingCache`? They will block all secondary requesters after a db retrieve is initiated until the cache is populated","title":"EHCache how to check if something is in the cache or not?","body":"<p>Have you looked at <code>SelfPopulatingCache and or BlockingCache</code>? They will block all secondary requesters after a db retrieve is initiated until the cache is populated</p>\n"},{"tags":[],"owner":{"account_id":52375,"reputation":6473,"user_id":156522,"accept_rate":83,"display_name":"vsingh"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1395847279,"creation_date":1382545361,"answer_id":19547106,"question_id":6439476,"body_markdown":"It is possible to access the hibernate statistics + ehcache stats etc via jmx. EhcacheHibernateMBean is the main interface that exposes all the API&#39;s via jmx. It basically extends two interfaces -- EhcacheStats and HibernateStats. And as the name implies EhcacheStats contains methods related with Ehcache and HibernateStats related with Hibernate. You can see cache hit/miss/put rates, change config element values dynamically -- like maxElementInMemory, TTI, TTL, enable/disable statistics collection etc and various other things. This can be achieved in your application by overriding buildSessionFactory() method on LocalSessionFactoryBean by adding tc.active as &quot;true&quot; System property when second level cache is enabled in Hibernate configuration \r\n\r\n      @Override\r\n            protected SessionFactory buildSessionFactory() throws Exception {\r\n                    Properties properties = this.getHibernateProperties();\r\n                    String secondLevelCache = (String) properties\r\n                                    .get(&quot;hibernate.cache.use_second_level_cache&quot;);\r\n                    if (secondLevelCache.equals(&quot;true&quot;)) {\r\n                            System.setProperty(&quot;tc.active&quot;, &quot;true&quot;);\r\n                    }\r\n                    return super.buildSessionFactory();\r\n            }\r\n\r\nNo when you access your application via JMX, go to tab Mbeans , on left go to net.sf.ehcache.hibernate --&gt; net.sf.ehcache.Cachemanager@..\r\n\r\nUnder this go to attributes. \r\nClick on attributes and on right side, inspect RegionCacheAttriutes.\r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/qEh5G.png\r\n\r\n**Note** : The view has changed with JDK1.7 . After logging into JMX Console, navigate to net.sf.ehcache.hibernate under Mbeans tab. Click on the CacheRegionStats Clicking on it will open bring up the screen on the right. Double click on top section and it brings up the tabular navigation as shown below. You will have to navigate in the tabular navigation to find the count of any object you are interested in.","title":"EHCache how to check if something is in the cache or not?","body":"<p>It is possible to access the hibernate statistics + ehcache stats etc via jmx. EhcacheHibernateMBean is the main interface that exposes all the API's via jmx. It basically extends two interfaces -- EhcacheStats and HibernateStats. And as the name implies EhcacheStats contains methods related with Ehcache and HibernateStats related with Hibernate. You can see cache hit/miss/put rates, change config element values dynamically -- like maxElementInMemory, TTI, TTL, enable/disable statistics collection etc and various other things. This can be achieved in your application by overriding buildSessionFactory() method on LocalSessionFactoryBean by adding tc.active as \"true\" System property when second level cache is enabled in Hibernate configuration </p>\n\n<pre><code>  @Override\n        protected SessionFactory buildSessionFactory() throws Exception {\n                Properties properties = this.getHibernateProperties();\n                String secondLevelCache = (String) properties\n                                .get(\"hibernate.cache.use_second_level_cache\");\n                if (secondLevelCache.equals(\"true\")) {\n                        System.setProperty(\"tc.active\", \"true\");\n                }\n                return super.buildSessionFactory();\n        }\n</code></pre>\n\n<p>No when you access your application via JMX, go to tab Mbeans , on left go to net.sf.ehcache.hibernate --> net.sf.ehcache.Cachemanager@..</p>\n\n<p>Under this go to attributes. \nClick on attributes and on right side, inspect RegionCacheAttriutes.</p>\n\n<p><img src=\"https://i.stack.imgur.com/qEh5G.png\" alt=\"enter image description here\"></p>\n\n<p><strong>Note</strong> : The view has changed with JDK1.7 . After logging into JMX Console, navigate to net.sf.ehcache.hibernate under Mbeans tab. Click on the CacheRegionStats Clicking on it will open bring up the screen on the right. Double click on top section and it brings up the tabular navigation as shown below. You will have to navigate in the tabular navigation to find the count of any object you are interested in.</p>\n"}],"owner":{"account_id":62398,"reputation":15301,"user_id":185432,"accept_rate":63,"display_name":"Marco"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24301,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":6439592,"answer_count":3,"score":9,"last_activity_date":1667930707,"creation_date":1308744195,"question_id":6439476,"body_markdown":"Is there a way of checking if an object is inside an EHCache managed cache?\r\n\r\nThe challenge I face is that I have implemented a method that retrieves a single value from the database (a find(key) method). The result of that find method is nicely cached by EHCache, but now I want to reduce the number of SQL queries that result from calling the method several times.\r\n\r\nSo to achieve this we implemented a new method which as argument takes a list of keys, but as the argument is different for every method call EHCache does a bad job on caching the results.\r\nEHCache used the method parameters as entry point to the cache.\r\n\r\nSo I would like to re-engineer some stuff. The idea was that I take the arguments in the find(list of keys) method, execute a large SQL query and then stuff the results inside the cache, I have not wrapped my head around it, but after writing this down it feels like manually modifying the cache is also a no go.\r\n\r\nAny insight or hints are appreciated!","title":"EHCache how to check if something is in the cache or not?","body":"<p>Is there a way of checking if an object is inside an EHCache managed cache?</p>\n<p>The challenge I face is that I have implemented a method that retrieves a single value from the database (a find(key) method). The result of that find method is nicely cached by EHCache, but now I want to reduce the number of SQL queries that result from calling the method several times.</p>\n<p>So to achieve this we implemented a new method which as argument takes a list of keys, but as the argument is different for every method call EHCache does a bad job on caching the results.\nEHCache used the method parameters as entry point to the cache.</p>\n<p>So I would like to re-engineer some stuff. The idea was that I take the arguments in the find(list of keys) method, execute a large SQL query and then stuff the results inside the cache, I have not wrapped my head around it, but after writing this down it feels like manually modifying the cache is also a no go.</p>\n<p>Any insight or hints are appreciated!</p>\n"},{"tags":["java","rest","httpresponse"],"comments":[{"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"score":0,"creation_date":1667929060,"post_id":74364929,"comment_id":131283505,"body_markdown":"Can you please elaborate more how you are getting response &amp; what field you want to extract","body":"Can you please elaborate more how you are getting response &amp; what field you want to extract"},{"owner":{"account_id":25926033,"reputation":81,"user_id":20410560,"display_name":"akanesora"},"score":0,"creation_date":1667929193,"post_id":74364929,"comment_id":131283563,"body_markdown":"@AshishPatil Thanks for reminder, I have update it.","body":"@AshishPatil Thanks for reminder, I have update it."}],"answers":[{"tags":[],"owner":{"account_id":95716,"reputation":6589,"user_id":260516,"accept_rate":63,"display_name":"Jesse Barnum"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1667929361,"creation_date":1667929361,"answer_id":74365034,"question_id":74364929,"body_markdown":"ObjectMapper is the core class in Jackson, use that. There is no need convert anything to a String, Jackson can read directly from the HTTP input stream.\r\n\r\n\r\n\r\n    import com.fasterxml.jackson.databind.JsonNode;\r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n    \r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    \r\n    public class ParseJSON {\r\n    \tpublic static void main(String[] args) throws IOException {\r\n    \t\tInputStream streamFromServer = streamFromServer; //Wherever this comes from\r\n    \t\tfinal JsonNode jsonNode = new ObjectMapper().readTree( streamFromServer );\r\n    \t\tfinal String yourValue = jsonNode.at( &quot;/path/to/your/value&quot; ).asText();\r\n    \t}\r\n    }\r\n\r\n","title":"Java how to retrieve a particular field form http response","body":"<p>ObjectMapper is the core class in Jackson, use that. There is no need convert anything to a String, Jackson can read directly from the HTTP input stream.</p>\n<pre><code>import com.fasterxml.jackson.databind.JsonNode;\nimport com.fasterxml.jackson.databind.ObjectMapper;\n\nimport java.io.IOException;\nimport java.io.InputStream;\n\npublic class ParseJSON {\n    public static void main(String[] args) throws IOException {\n        InputStream streamFromServer = streamFromServer; //Wherever this comes from\n        final JsonNode jsonNode = new ObjectMapper().readTree( streamFromServer );\n        final String yourValue = jsonNode.at( &quot;/path/to/your/value&quot; ).asText();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667930330,"creation_date":1667930330,"answer_id":74365216,"question_id":74364929,"body_markdown":"Though I am not sure how your `Customer` object looks like but below might be helpful to you:\r\n\r\n\r\n\r\n    String customer = EntityUtils.toString(entity);  // returns your customer in String format.\r\n    ObjectMapper mapper = new ObjectMapper();  // this is com.fasterxml.jackson.databind.ObjectMapper class\r\n    \r\n    HashMap&lt;?, ?&gt; map = mapper.readValue(customer, HashMap.class);  \r\n    \r\n    System.out.println(map.get(&quot;id&quot;)); // extracting id field.\r\n\r\n","title":"Java how to retrieve a particular field form http response","body":"<p>Though I am not sure how your <code>Customer</code> object looks like but below might be helpful to you:</p>\n<pre><code>String customer = EntityUtils.toString(entity);  // returns your customer in String format.\nObjectMapper mapper = new ObjectMapper();  // this is com.fasterxml.jackson.databind.ObjectMapper class\n\nHashMap&lt;?, ?&gt; map = mapper.readValue(customer, HashMap.class);  \n\nSystem.out.println(map.get(&quot;id&quot;)); // extracting id field.\n</code></pre>\n"}],"owner":{"account_id":25926033,"reputation":81,"user_id":20410560,"display_name":"akanesora"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":425,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74365034,"answer_count":2,"score":1,"last_activity_date":1667930330,"creation_date":1667928837,"question_id":74364929,"body_markdown":"I&#39;m trying to do this by convert the response to json and then find the filed form it.\r\n\r\nBut I don&#39;t know neither how to convert it to json, nor how to traverse the json.\r\n\r\n\r\n\t\r\n\r\n    @POST\r\n    \t@Path(&quot;/custoemrs&quot;)\r\n    \t@Produces({ MediaType.APPLICATION_JSON })\r\n    \tResponse createCustomer(Customer customer);\r\n\r\nthere would be a id field which I want to extract.\r\n\r\n\r\nThere are too many answers out there, I tried some of them but none is working.\r\n\r\nI want to use jackson to process the json file, and I&#39;m using resteasy client.\r\n\r\nThe response I&#39;m using is javax.ws.rs.core.Response, please kindly base on this to answer\r\n\r\n\r\n\r\nI saw many people said something like \r\n\r\n`EntityUtils.toString(entity)`\r\n\r\nBut I can&#39;t even resolve the entityutils...","title":"Java how to retrieve a particular field form http response","body":"<p>I'm trying to do this by convert the response to json and then find the filed form it.</p>\n<p>But I don't know neither how to convert it to json, nor how to traverse the json.</p>\n<pre><code>@POST\n    @Path(&quot;/custoemrs&quot;)\n    @Produces({ MediaType.APPLICATION_JSON })\n    Response createCustomer(Customer customer);\n</code></pre>\n<p>there would be a id field which I want to extract.</p>\n<p>There are too many answers out there, I tried some of them but none is working.</p>\n<p>I want to use jackson to process the json file, and I'm using resteasy client.</p>\n<p>The response I'm using is javax.ws.rs.core.Response, please kindly base on this to answer</p>\n<p>I saw many people said something like</p>\n<p><code>EntityUtils.toString(entity)</code></p>\n<p>But I can't even resolve the entityutils...</p>\n"},{"tags":["java","spring-boot","jax-rs","spring-restcontroller"],"answers":[{"tags":[],"owner":{"account_id":7712763,"reputation":628,"user_id":5841551,"accept_rate":50,"display_name":"kladderradatsch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667930294,"creation_date":1667929657,"answer_id":74365097,"question_id":74364959,"body_markdown":"The `@Context` is Dependency Injection featured by JAX-RS. See also: https://dzone.com/articles/jax-rs-what-is-context\r\n\r\nIn your case just inject `MyObject object2` into your class as an attribue via `@Autowired` so you can use it later:\r\n\r\n```\r\nclass MyController {\r\n\r\n  private final MyObject object2;\r\n\r\n  @Autowired\r\n  public MyController(MyObject object2) {\r\n    this.object2 = object2;\r\n  }\r\n  ...\r\n}\r\n\r\n```","title":"Jax Rs to Rest Controller","body":"<p>The <code>@Context</code> is Dependency Injection featured by JAX-RS. See also: <a href=\"https://dzone.com/articles/jax-rs-what-is-context\" rel=\"nofollow noreferrer\">https://dzone.com/articles/jax-rs-what-is-context</a></p>\n<p>In your case just inject <code>MyObject object2</code> into your class as an attribue via <code>@Autowired</code> so you can use it later:</p>\n<pre><code>class MyController {\n\n  private final MyObject object2;\n\n  @Autowired\n  public MyController(MyObject object2) {\n    this.object2 = object2;\n  }\n  ...\n}\n\n</code></pre>\n"}],"owner":{"account_id":26467937,"reputation":57,"user_id":20108901,"display_name":"Hello"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":269,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74365097,"answer_count":1,"score":0,"last_activity_date":1667930294,"creation_date":1667928988,"question_id":74364959,"body_markdown":"\r\n\r\nI have a rest end point written using JAX-RS \r\n\r\n   \r\n\r\n     import javax.ws.rs.core.Context\r\n    \r\n        @POST\r\n        public Response something(@RequestBody MyOrderObject obj1,@Context MyObject obj2) {\r\n        \r\n        }\r\n\r\nI want to write the above rest end point using Spring Rest.What should I replace the @Context in Spring Boot ?\r\n\r\n    @RestController\r\n         class MyController\r\n    \t {\r\n        @POST\r\n        public @ResponseBody something(@RequestBody MyOrderObject obj1) {\r\n    \r\n        }\r\n    \t}\r\n\r\n \r\n","title":"Jax Rs to Rest Controller","body":"<p>I have a rest end point written using JAX-RS</p>\n<pre><code> import javax.ws.rs.core.Context\n\n    @POST\n    public Response something(@RequestBody MyOrderObject obj1,@Context MyObject obj2) {\n    \n    }\n</code></pre>\n<p>I want to write the above rest end point using Spring Rest.What should I replace the @Context in Spring Boot ?</p>\n<pre><code>@RestController\n     class MyController\n     {\n    @POST\n    public @ResponseBody something(@RequestBody MyOrderObject obj1) {\n\n    }\n    }\n</code></pre>\n"},{"tags":["java","gradle","minecraft-fabric"],"comments":[{"owner":{"account_id":15396644,"reputation":25755,"user_id":11107541,"display_name":"starball"},"score":0,"creation_date":1667947611,"post_id":74365189,"comment_id":131289059,"body_markdown":"Please provide an [MRE](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please provide an <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">MRE</a>."},{"owner":{"account_id":519535,"reputation":2273,"user_id":1303158,"display_name":"Bernie"},"score":0,"creation_date":1667975157,"post_id":74365189,"comment_id":131293203,"body_markdown":"How did it not work? Do you get an error message? It sounds like your Java may not be installed properly, can you run `.\\gradlew --version` and make sure that works before running a particular task?","body":"How did it not work? Do you get an error message? It sounds like your Java may not be installed properly, can you run <code>.\\gradlew --version</code> and make sure that works before running a particular task?"},{"owner":{"account_id":26449123,"reputation":1,"user_id":20092569,"display_name":"Parker Harrod"},"score":0,"creation_date":1668017452,"post_id":74365189,"comment_id":131307962,"body_markdown":"Hi there Bernie this is what came up Build time:   2022-08-05 21:17:56 UTC\nRevision:     d1daa0cbf1a0103000b71484e1dbfe096e095918\n\nKotlin:       1.6.21\nGroovy:       3.0.10\nAnt:          Apache Ant(TM) version 1.10.11 compiled on July 10 2021\nJVM:          17.0.5 (Oracle Corporation 17.0.5+9-LTS-191)\nOS:           Windows 10 10.0 amd64","body":"Hi there Bernie this is what came up Build time:   2022-08-05 21:17:56 UTC Revision:     d1daa0cbf1a0103000b71484e1dbfe096e095918  Kotlin:       1.6.21 Groovy:       3.0.10 Ant:          Apache Ant(TM) version 1.10.11 compiled on July 10 2021 JVM:          17.0.5 (Oracle Corporation 17.0.5+9-LTS-191) OS:           Windows 10 10.0 amd64"}],"owner":{"account_id":26449123,"reputation":1,"user_id":20092569,"display_name":"Parker Harrod"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667930190,"creation_date":1667930190,"question_id":74365189,"body_markdown":"Hi there I want to know what java I need to have for gradle to not fail during .\\gradle gensources . I remember there being a specific version of java for this and I forgot the link can somebody comment it?\r\n\r\nI tried just downloading java 17 and it didn&#39;t work","title":"Java Gradle Gen Sources","body":"<p>Hi there I want to know what java I need to have for gradle to not fail during .\\gradle gensources . I remember there being a specific version of java for this and I forgot the link can somebody comment it?</p>\n<p>I tried just downloading java 17 and it didn't work</p>\n"},{"tags":["java","maven","docker","kubernetes"],"comments":[{"owner":{"account_id":395849,"reputation":46365,"user_id":759019,"accept_rate":98,"display_name":"Anirudh Ramanathan"},"score":1,"creation_date":1476838980,"post_id":40120355,"comment_id":67511886,"body_markdown":"That looks like an application error from within your container itself. You could try to [`docker run`](https://docs.docker.com/engine/reference/run/) your container to ensure that it is setup correctly.","body":"That looks like an application error from within your container itself. You could try to <a href=\"https://docs.docker.com/engine/reference/run/\" rel=\"nofollow noreferrer\"><code>docker run</code></a> your container to ensure that it is setup correctly."},{"owner":{"account_id":4275696,"reputation":848,"user_id":3496352,"accept_rate":67,"display_name":"chaosaffe"},"score":0,"creation_date":1476896077,"post_id":40120355,"comment_id":67544336,"body_markdown":"Can you please include the log where you see `ImagePullBackOff`? That would not usually be caused by an application issue, so it appears you have two separate issues here.","body":"Can you please include the log where you see <code>ImagePullBackOff</code>? That would not usually be caused by an application issue, so it appears you have two separate issues here."},{"owner":{"account_id":1002576,"reputation":7185,"user_id":1017111,"accept_rate":94,"display_name":"WowBow"},"score":0,"creation_date":1476896576,"post_id":40120355,"comment_id":67544628,"body_markdown":"@AnirudhRamanathan You are right. There is a problem with docker. So some issues with mvn. I&#39;ll try to solve that first. ChaosAffe I see ImagePullBackOff in the status of each images not in a log file.","body":"@AnirudhRamanathan You are right. There is a problem with docker. So some issues with mvn. I&#39;ll try to solve that first. ChaosAffe I see ImagePullBackOff in the status of each images not in a log file."},{"owner":{"account_id":4470616,"reputation":1798,"user_id":3637043,"accept_rate":73,"display_name":"sitakant"},"score":0,"creation_date":1490954261,"post_id":40120355,"comment_id":73352439,"body_markdown":"@WowBow : Could you please post your pods definition ?","body":"@WowBow : Could you please post your pods definition ?"}],"answers":[{"tags":[],"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667929172,"creation_date":1667929172,"answer_id":74364991,"question_id":40120355,"body_markdown":"At the end of your Dockerfile, you twice define CMD, but the last one is just &quot;mvn&quot; without any lifecyle information. That&#39;s why you get the feedback from maven and the container terminates:\r\n\r\n```Dockerfile\r\nCMD [&quot;/sbin/my_init&quot;]\r\n\r\nVOLUME /root/.m2\r\n\r\nCMD [&quot;mvn&quot;]\r\n```","title":"CrashLoopBackOff: Docker image not running on Kubernates ? (ImagePullBackOff)","body":"<p>At the end of your Dockerfile, you twice define CMD, but the last one is just &quot;mvn&quot; without any lifecyle information. That's why you get the feedback from maven and the container terminates:</p>\n<pre><code>CMD [&quot;/sbin/my_init&quot;]\n\nVOLUME /root/.m2\n\nCMD [&quot;mvn&quot;]\n</code></pre>\n"}],"owner":{"account_id":1002576,"reputation":7185,"user_id":1017111,"accept_rate":94,"display_name":"WowBow"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":442,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1667929172,"creation_date":1476838392,"question_id":40120355,"body_markdown":" - I have a REST API application with the following maven and docker file. \r\n - I am using Jdk 8, latest Docker and Kubernates, latest minicubi , and work on latest Mac OS\r\n\r\nI was able to create the docker image without any problem as well as deploy it on Kubernate. However here the status when I run `kubectl get pods`\r\n\r\n    NAME                                     READY     STATUS             RESTARTS   AGE employee-2271331337-vj6v2             0/1       CrashLoopBackOff   29         2h office365-email-3450521264-nrtkr      0/1       ImagePullBackOff   0          5h our-node-2-3162948349-lelwt 1/1       Running            0          23h\r\n\r\nThen I run the following code to see the log `kubectl logs e-office365-2271331337-vj6v2 -p`and found the following log:\r\n\r\n&gt; lugin-group-id&gt;:&lt;plugin-artifact-id&gt;[:&lt;plugin-version&gt;]:&lt;goal&gt;.\r\n&gt; Available lifecycle phases are: validate, initialize,\r\n&gt; generate-sources, process-sources, generate-resources,\r\n&gt; process-resources, compile, process-classes, generate-test-sources,\r\n&gt; process-test-sources, generate-test-resources, process-test-resources,\r\n&gt; test-compile, process-test-classes, test, prepare-package, package,\r\n&gt; pre-integration-test, integration-test, post-integration-test, verify,\r\n&gt; install, deploy, pre-clean, clean, post-clean, pre-site, site,\r\n&gt; post-site, site-deploy. -&gt; [Help 1] [ERROR]\r\n\r\n\r\n**DockerFile:**\r\n\r\n    # Dockerfile\r\n    \r\n    FROM  phusion/baseimage:0.9.17\r\n    \r\n    \r\n    RUN echo &quot;deb http://archive.ubuntu.com/ubuntu trusty main universe&quot; &gt; /etc/apt/sources.list\r\n    \r\n    RUN apt-get -y update\r\n    \r\n    RUN DEBIAN_FRONTEND=noninteractive apt-get install -y -q python-software-properties software-properties-common\r\n    \r\n    ENV JAVA_VER 8\r\n    ENV JAVA_HOME /usr/lib/jvm/java-8-oracle\r\n    \r\n    \r\n    ENV MAVEN_VERSION 3.3.9\r\n    \r\n    \r\n    ENV MAVEN_HOME /usr/share/maven\r\n    \r\n    RUN echo &#39;deb http://ppa.launchpad.net/webupd8team/java/ubuntu trusty main&#39; &gt;&gt; /etc/apt/sources.list &amp;&amp; \\\r\n        echo &#39;deb-src http://ppa.launchpad.net/webupd8team/java/ubuntu trusty main&#39; &gt;&gt; /etc/apt/sources.list &amp;&amp; \\\r\n        apt-key adv --keyserver keyserver.ubuntu.com --recv-keys C2518248EEA14886 &amp;&amp; \\\r\n        apt-get update &amp;&amp; \\\r\n        echo oracle-java${JAVA_VER}-installer shared/accepted-oracle-license-v1-1 select true | sudo /usr/bin/debconf-set-selections &amp;&amp; \\\r\n        apt-get install -y --force-yes --no-install-recommends oracle-java${JAVA_VER}-installer oracle-java${JAVA_VER}-set-default &amp;&amp; \\\r\n        apt-get clean &amp;&amp; \\\r\n        rm -rf /var/cache/oracle-jdk${JAVA_VER}-installer\r\n    \r\n    \r\n    RUN mkdir -p /usr/share/maven \\\r\n      &amp;&amp; curl -fsSL http://apache.osuosl.org/maven/maven-3/$MAVEN_VERSION/binaries/apache-maven-$MAVEN_VERSION-bin.tar.gz \\\r\n        | tar -xzC /usr/share/maven --strip-components=1 \\\r\n      &amp;&amp; ln -s /usr/share/maven/bin/mvn /usr/bin/mvn\r\n    \r\n    RUN update-java-alternatives -s java-8-oracle\r\n    \r\n    RUN echo &quot;export JAVA_HOME=/usr/lib/jvm/java-8-oracle&quot; &gt;&gt; ~/.bashrc\r\n    \r\n    RUN apt-get clean &amp;&amp; rm -rf /var/lib/apt/lists/* /tmp/* /var/tmp/*\r\n    \r\n    CMD [&quot;/sbin/my_init&quot;]\r\n    \r\n    VOLUME /root/.m2\r\n    \r\n    CMD [&quot;mvn&quot;]\r\n\r\n**Maven:**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n    \r\n        &lt;properties&gt;\r\n            &lt;dropwizard.version&gt;1.0.0&lt;/dropwizard.version&gt;\r\n        &lt;/properties&gt;\r\n    \r\n        &lt;groupId&gt;com.emp&lt;/groupId&gt;\r\n        &lt;artifactId&gt;empv1&lt;/artifactId&gt;\r\n        &lt;version&gt;EMP-208-SNAPSHOT&lt;/version&gt;\r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;source&gt;1.8&lt;/source&gt;\r\n                        &lt;target&gt;1.8&lt;/target&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;2.3&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;createDependencyReducedPom&gt;true&lt;/createDependencyReducedPom&gt;\r\n                        &lt;filters&gt;\r\n                            &lt;filter&gt;\r\n                                &lt;artifact&gt;*:*&lt;/artifact&gt;\r\n                                &lt;excludes&gt;\r\n                                    &lt;exclude&gt;META-INF/*.SF&lt;/exclude&gt;\r\n                                    &lt;exclude&gt;META-INF/*.DSA&lt;/exclude&gt;\r\n                                    &lt;exclude&gt;META-INF/*.RSA&lt;/exclude&gt;\r\n                                &lt;/excludes&gt;\r\n                            &lt;/filter&gt;\r\n                        &lt;/filters&gt;\r\n                    &lt;/configuration&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;phase&gt;package&lt;/phase&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;shade&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                            &lt;configuration&gt;\r\n                                &lt;transformers&gt;\r\n                                    &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ServicesResourceTransformer&quot;/&gt;\r\n                                    &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\r\n                                        &lt;mainClass&gt;config.EmailUtilApplication&lt;/mainClass&gt;\r\n                                    &lt;/transformer&gt;\r\n                                &lt;/transformers&gt;\r\n                            &lt;/configuration&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;2.4&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;archive&gt;\r\n                            &lt;manifest&gt;\r\n                                &lt;addDefaultImplementationEntries&gt;true&lt;/addDefaultImplementationEntries&gt;\r\n                            &lt;/manifest&gt;\r\n                        &lt;/archive&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n    \r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    \r\n        &lt;dependencies&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.dropwizard&lt;/groupId&gt;\r\n                &lt;artifactId&gt;dropwizard-core&lt;/artifactId&gt;\r\n                &lt;version&gt;${dropwizard.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n         \r\n    \r\n            &lt;!-- https://mvnrepository.com/artifact/com.amazonaws/aws-java-sdk --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\r\n                &lt;artifactId&gt;aws-java-sdk&lt;/artifactId&gt;\r\n                &lt;version&gt;1.11.34&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n                &lt;version&gt;1.4.0.RELEASE&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n                &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n                &lt;version&gt;5.2.2.Final&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.json&lt;/groupId&gt;\r\n                &lt;artifactId&gt;json&lt;/artifactId&gt;\r\n                &lt;version&gt;20160810&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;junit&lt;/groupId&gt;\r\n                &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n                &lt;version&gt;4.12&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.squareup.retrofit2&lt;/groupId&gt;\r\n                &lt;artifactId&gt;retrofit&lt;/artifactId&gt;\r\n                &lt;version&gt;2.0.2&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.squareup.retrofit2&lt;/groupId&gt;\r\n                &lt;artifactId&gt;converter-gson&lt;/artifactId&gt;\r\n                &lt;version&gt;2.0.2&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.squareup.okhttp3&lt;/groupId&gt;\r\n                &lt;artifactId&gt;logging-interceptor&lt;/artifactId&gt;\r\n                &lt;version&gt;3.2.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.microsoft.azure&lt;/groupId&gt;\r\n                &lt;artifactId&gt;adal4j&lt;/artifactId&gt;\r\n                &lt;version&gt;1.1.3&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n                &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\r\n                &lt;version&gt;RELEASE&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n                &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\r\n                &lt;version&gt;RELEASE&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n                &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\r\n                &lt;version&gt;RELEASE&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n                &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\r\n                &lt;version&gt;RELEASE&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;io.dropwizard&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;dropwizard-core&lt;/artifactId&gt;\r\n                    &lt;version&gt;${dropwizard.version}&lt;/version&gt;\r\n                &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\r\n                &lt;version&gt;2.8.3&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n                &lt;version&gt;2.8.3&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\r\n                &lt;version&gt;2.8.3&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.smoketurner&lt;/groupId&gt;\r\n                &lt;artifactId&gt;dropwizard-swagger&lt;/artifactId&gt;\r\n                &lt;version&gt;1.0.0-1&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n    \r\n        &lt;/dependencies&gt;\r\n    \r\n    \r\n    \r\n    &lt;/project&gt;\r\n\r\nI appericiate your help to make sure the images runs on kubernates. ","title":"CrashLoopBackOff: Docker image not running on Kubernates ? (ImagePullBackOff)","body":"<ul>\n<li>I have a REST API application with the following maven and docker file. </li>\n<li>I am using Jdk 8, latest Docker and Kubernates, latest minicubi , and work on latest Mac OS</li>\n</ul>\n\n<p>I was able to create the docker image without any problem as well as deploy it on Kubernate. However here the status when I run <code>kubectl get pods</code></p>\n\n<pre><code>NAME                                     READY     STATUS             RESTARTS   AGE employee-2271331337-vj6v2             0/1       CrashLoopBackOff   29         2h office365-email-3450521264-nrtkr      0/1       ImagePullBackOff   0          5h our-node-2-3162948349-lelwt 1/1       Running            0          23h\n</code></pre>\n\n<p>Then I run the following code to see the log <code>kubectl logs e-office365-2271331337-vj6v2 -p</code>and found the following log:</p>\n\n<blockquote>\n  <p>lugin-group-id>:[:]:.\n  Available lifecycle phases are: validate, initialize,\n  generate-sources, process-sources, generate-resources,\n  process-resources, compile, process-classes, generate-test-sources,\n  process-test-sources, generate-test-resources, process-test-resources,\n  test-compile, process-test-classes, test, prepare-package, package,\n  pre-integration-test, integration-test, post-integration-test, verify,\n  install, deploy, pre-clean, clean, post-clean, pre-site, site,\n  post-site, site-deploy. -> [Help 1] [ERROR]</p>\n</blockquote>\n\n<p><strong>DockerFile:</strong></p>\n\n<pre><code># Dockerfile\n\nFROM  phusion/baseimage:0.9.17\n\n\nRUN echo \"deb http://archive.ubuntu.com/ubuntu trusty main universe\" &gt; /etc/apt/sources.list\n\nRUN apt-get -y update\n\nRUN DEBIAN_FRONTEND=noninteractive apt-get install -y -q python-software-properties software-properties-common\n\nENV JAVA_VER 8\nENV JAVA_HOME /usr/lib/jvm/java-8-oracle\n\n\nENV MAVEN_VERSION 3.3.9\n\n\nENV MAVEN_HOME /usr/share/maven\n\nRUN echo 'deb http://ppa.launchpad.net/webupd8team/java/ubuntu trusty main' &gt;&gt; /etc/apt/sources.list &amp;&amp; \\\n    echo 'deb-src http://ppa.launchpad.net/webupd8team/java/ubuntu trusty main' &gt;&gt; /etc/apt/sources.list &amp;&amp; \\\n    apt-key adv --keyserver keyserver.ubuntu.com --recv-keys C2518248EEA14886 &amp;&amp; \\\n    apt-get update &amp;&amp; \\\n    echo oracle-java${JAVA_VER}-installer shared/accepted-oracle-license-v1-1 select true | sudo /usr/bin/debconf-set-selections &amp;&amp; \\\n    apt-get install -y --force-yes --no-install-recommends oracle-java${JAVA_VER}-installer oracle-java${JAVA_VER}-set-default &amp;&amp; \\\n    apt-get clean &amp;&amp; \\\n    rm -rf /var/cache/oracle-jdk${JAVA_VER}-installer\n\n\nRUN mkdir -p /usr/share/maven \\\n  &amp;&amp; curl -fsSL http://apache.osuosl.org/maven/maven-3/$MAVEN_VERSION/binaries/apache-maven-$MAVEN_VERSION-bin.tar.gz \\\n    | tar -xzC /usr/share/maven --strip-components=1 \\\n  &amp;&amp; ln -s /usr/share/maven/bin/mvn /usr/bin/mvn\n\nRUN update-java-alternatives -s java-8-oracle\n\nRUN echo \"export JAVA_HOME=/usr/lib/jvm/java-8-oracle\" &gt;&gt; ~/.bashrc\n\nRUN apt-get clean &amp;&amp; rm -rf /var/lib/apt/lists/* /tmp/* /var/tmp/*\n\nCMD [\"/sbin/my_init\"]\n\nVOLUME /root/.m2\n\nCMD [\"mvn\"]\n</code></pre>\n\n<p><strong>Maven:</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\"\n         xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n\n    &lt;properties&gt;\n        &lt;dropwizard.version&gt;1.0.0&lt;/dropwizard.version&gt;\n    &lt;/properties&gt;\n\n    &lt;groupId&gt;com.emp&lt;/groupId&gt;\n    &lt;artifactId&gt;empv1&lt;/artifactId&gt;\n    &lt;version&gt;EMP-208-SNAPSHOT&lt;/version&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;1.8&lt;/source&gt;\n                    &lt;target&gt;1.8&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.3&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;createDependencyReducedPom&gt;true&lt;/createDependencyReducedPom&gt;\n                    &lt;filters&gt;\n                        &lt;filter&gt;\n                            &lt;artifact&gt;*:*&lt;/artifact&gt;\n                            &lt;excludes&gt;\n                                &lt;exclude&gt;META-INF/*.SF&lt;/exclude&gt;\n                                &lt;exclude&gt;META-INF/*.DSA&lt;/exclude&gt;\n                                &lt;exclude&gt;META-INF/*.RSA&lt;/exclude&gt;\n                            &lt;/excludes&gt;\n                        &lt;/filter&gt;\n                    &lt;/filters&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;shade&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;transformers&gt;\n                                &lt;transformer implementation=\"org.apache.maven.plugins.shade.resource.ServicesResourceTransformer\"/&gt;\n                                &lt;transformer implementation=\"org.apache.maven.plugins.shade.resource.ManifestResourceTransformer\"&gt;\n                                    &lt;mainClass&gt;config.EmailUtilApplication&lt;/mainClass&gt;\n                                &lt;/transformer&gt;\n                            &lt;/transformers&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.4&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;archive&gt;\n                        &lt;manifest&gt;\n                            &lt;addDefaultImplementationEntries&gt;true&lt;/addDefaultImplementationEntries&gt;\n                        &lt;/manifest&gt;\n                    &lt;/archive&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n    &lt;dependencies&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.dropwizard&lt;/groupId&gt;\n            &lt;artifactId&gt;dropwizard-core&lt;/artifactId&gt;\n            &lt;version&gt;${dropwizard.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n\n        &lt;!-- https://mvnrepository.com/artifact/com.amazonaws/aws-java-sdk --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n            &lt;artifactId&gt;aws-java-sdk&lt;/artifactId&gt;\n            &lt;version&gt;1.11.34&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n            &lt;version&gt;1.4.0.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n            &lt;version&gt;5.2.2.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.json&lt;/groupId&gt;\n            &lt;artifactId&gt;json&lt;/artifactId&gt;\n            &lt;version&gt;20160810&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;4.12&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.squareup.retrofit2&lt;/groupId&gt;\n            &lt;artifactId&gt;retrofit&lt;/artifactId&gt;\n            &lt;version&gt;2.0.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.squareup.retrofit2&lt;/groupId&gt;\n            &lt;artifactId&gt;converter-gson&lt;/artifactId&gt;\n            &lt;version&gt;2.0.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.squareup.okhttp3&lt;/groupId&gt;\n            &lt;artifactId&gt;logging-interceptor&lt;/artifactId&gt;\n            &lt;version&gt;3.2.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.microsoft.azure&lt;/groupId&gt;\n            &lt;artifactId&gt;adal4j&lt;/artifactId&gt;\n            &lt;version&gt;1.1.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n            &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\n            &lt;version&gt;RELEASE&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n            &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\n            &lt;version&gt;RELEASE&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n            &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\n            &lt;version&gt;RELEASE&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n            &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\n            &lt;version&gt;RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n\n            &lt;dependency&gt;\n                &lt;groupId&gt;io.dropwizard&lt;/groupId&gt;\n                &lt;artifactId&gt;dropwizard-core&lt;/artifactId&gt;\n                &lt;version&gt;${dropwizard.version}&lt;/version&gt;\n            &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\n            &lt;version&gt;2.8.3&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n            &lt;version&gt;2.8.3&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\n            &lt;version&gt;2.8.3&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.smoketurner&lt;/groupId&gt;\n            &lt;artifactId&gt;dropwizard-swagger&lt;/artifactId&gt;\n            &lt;version&gt;1.0.0-1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n    &lt;/dependencies&gt;\n\n\n\n&lt;/project&gt;\n</code></pre>\n\n<p>I appericiate your help to make sure the images runs on kubernates. </p>\n"},{"tags":["java","variables","subclass","private","abstract"],"answers":[{"tags":[],"owner":{"account_id":8326,"reputation":258545,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1399252883,"creation_date":1399252249,"answer_id":23463446,"question_id":23463427,"body_markdown":"    g.setColor(color);\r\n    g.fillOval(x, y, width, height);\r\n\r\nAll these fields are private to the parent class.\r\n\r\nYou cannot access a private field from outside the class, not even from subclasses.\r\n\r\nYou could change the field to protected or provide getters for the subclasses to call.\r\n\r\nSo in Shape, add a method\r\n\r\n    protected Color getColor(){  return color; }\r\n\r\nand then you can do\r\n\r\n    g.setColor(getColor());\r\n\r\nin your subclasses. Same for the other fields.\r\n\r\n","title":"What does &quot;variable has private access&quot; mean? How do I fix it?","body":"<pre><code>g.setColor(color);\ng.fillOval(x, y, width, height);\n</code></pre>\n\n<p>All these fields are private to the parent class.</p>\n\n<p>You cannot access a private field from outside the class, not even from subclasses.</p>\n\n<p>You could change the field to protected or provide getters for the subclasses to call.</p>\n\n<p>So in Shape, add a method</p>\n\n<pre><code>protected Color getColor(){  return color; }\n</code></pre>\n\n<p>and then you can do</p>\n\n<pre><code>g.setColor(getColor());\n</code></pre>\n\n<p>in your subclasses. Same for the other fields.</p>\n"},{"tags":[],"owner":{"account_id":3000741,"reputation":1834,"user_id":2546299,"display_name":"Tot&#242;"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1399252413,"creation_date":1399252413,"answer_id":23463456,"question_id":23463427,"body_markdown":"`private int x, y, width, height;` means that they can only be accessed from the actual class where they are declared. You should create appropriate `get` and `set` methods and use them. You want the fields to be either `public` or `protected` to access them using the dot notation, but IMO it&#39;s a better design to keep them private and use `get` and `set`. See also https://stackoverflow.com/questions/215497/in-java-whats-the-difference-between-public-default-protected-and-private that explains the fields&#39; visibility.","title":"What does &quot;variable has private access&quot; mean? How do I fix it?","body":"<p><code>private int x, y, width, height;</code> means that they can only be accessed from the actual class where they are declared. You should create appropriate <code>get</code> and <code>set</code> methods and use them. You want the fields to be either <code>public</code> or <code>protected</code> to access them using the dot notation, but IMO it's a better design to keep them private and use <code>get</code> and <code>set</code>. See also <a href=\"https://stackoverflow.com/questions/215497/in-java-whats-the-difference-between-public-default-protected-and-private\">In Java, difference between default, public, protected, and private</a> that explains the fields' visibility.</p>\n"}],"owner":{"account_id":4423471,"reputation":171,"user_id":3602628,"display_name":"user3602628"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91235,"favorite_count":0,"down_vote_count":1,"up_vote_count":15,"answer_count":2,"score":14,"last_activity_date":1667929171,"creation_date":1399252055,"question_id":23463427,"body_markdown":"I&#39;m trying to make an abstract shape class for rectangle and ellipse the only abstract method I gave shape was the draw method, but after I gave it a constructor and everything it gives me an error in the rectangle class saying that color and the other variables have private accesses here is my code:\r\n\r\n    public abstract class Shape{\r\n            private int x, y, width, height;\r\n            private Color color;\r\n            public Shape(int x, int y, int width, int height, Color color){\r\n                setXY(x, y);\r\n                setSize(width, height);\r\n                setColor(color);\r\n            }\r\n    \r\n            public boolean setXY(int x, int y){\r\n                this.x=x;\r\n                this.y=y;\r\n                return true;\r\n            }\r\n    \r\n            public boolean setSize(int width, int height){\r\n                this.width=width;\r\n                this.height=height;\r\n                return true;\r\n            }\r\n    \r\n            public boolean setColor(Color color){\r\n                if(color==null)\r\n                    return false;\r\n                this.color=color;\r\n                return true;\r\n            }\r\n    \r\n            public abstract void draw(Graphics g);\r\n        }\r\n    \r\n        class Rectangle extends Shape{\r\n            public Rectangle(int x, int y, int width, int height, Color color){\r\n                super(x, y, width, height, color);\r\n            }\r\n            \r\n            public void draw(Graphics g){\r\n                setColor(color);\r\n                fillRect(x, y, width, height);\r\n                setColor(Color.BLACK);\r\n                drawRect(x, y, width, height);\r\n            }\r\n        }\r\n    \r\n        class Ellipse extends Shape{\r\n            public Ellipse(int x, int y, int width, int height, Color color){\r\n                super(x, y, width, height, color);\r\n            }\r\n            \r\n            public void draw(Graphics g){\r\n                g.setColor(color);\r\n                g.fillOval(x, y, width, height);\r\n                g.setColor(Color.BLACK);\r\n                g.drawOval(x, y, width, height);\r\n            }\r\n        }","title":"What does &quot;variable has private access&quot; mean? How do I fix it?","body":"<p>I'm trying to make an abstract shape class for rectangle and ellipse the only abstract method I gave shape was the draw method, but after I gave it a constructor and everything it gives me an error in the rectangle class saying that color and the other variables have private accesses here is my code:</p>\n\n<pre><code>public abstract class Shape{\n        private int x, y, width, height;\n        private Color color;\n        public Shape(int x, int y, int width, int height, Color color){\n            setXY(x, y);\n            setSize(width, height);\n            setColor(color);\n        }\n\n        public boolean setXY(int x, int y){\n            this.x=x;\n            this.y=y;\n            return true;\n        }\n\n        public boolean setSize(int width, int height){\n            this.width=width;\n            this.height=height;\n            return true;\n        }\n\n        public boolean setColor(Color color){\n            if(color==null)\n                return false;\n            this.color=color;\n            return true;\n        }\n\n        public abstract void draw(Graphics g);\n    }\n\n    class Rectangle extends Shape{\n        public Rectangle(int x, int y, int width, int height, Color color){\n            super(x, y, width, height, color);\n        }\n\n        public void draw(Graphics g){\n            setColor(color);\n            fillRect(x, y, width, height);\n            setColor(Color.BLACK);\n            drawRect(x, y, width, height);\n        }\n    }\n\n    class Ellipse extends Shape{\n        public Ellipse(int x, int y, int width, int height, Color color){\n            super(x, y, width, height, color);\n        }\n\n        public void draw(Graphics g){\n            g.setColor(color);\n            g.fillOval(x, y, width, height);\n            g.setColor(Color.BLACK);\n            g.drawOval(x, y, width, height);\n        }\n    }\n</code></pre>\n"},{"tags":["java","spring-boot","openapi-generator"],"comments":[{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1657894142,"post_id":72992123,"comment_id":128925081,"body_markdown":"Are you looking for OOTB solution (it seems that openapi generator does not support what you want, if forget about an &quot;option&quot; to put stuff into `x-class-extra-annotation`) or asking how improve `mustache` template?","body":"Are you looking for OOTB solution (it seems that openapi generator does not support what you want, if forget about an &quot;option&quot; to put stuff into <code>x-class-extra-annotation</code>) or asking how improve <code>mustache</code> template?"}],"answers":[{"tags":[],"owner":{"account_id":26870046,"reputation":1,"user_id":20452190,"display_name":"Mintas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667929039,"creation_date":1667929039,"answer_id":74364968,"question_id":72992123,"body_markdown":"There is no production-ready solution (yet!)\r\nIf you are not starving for this feature, wait for acceptance of related issue and PR to one of the nearest releases.\r\nhttps://github.com/OpenAPITools/openapi-generator/issues/13938\r\nIt will allow required customizations using \r\nx-spring-constraint: @MyAnnotation(value = 1, message = &quot;nice&quot;) (or x-java-constraint) extension with configOption\r\ncustomValidationAnnotationsPackages=&quot;my.custom.package.MyAnnotaion;my.other.package.*&quot;\r\n\r\nElse, refer to https://bartko-mat.medium.com/openapi-generator-to-spring-boot-with-custom-java-validations-623381df9215 as tutorial for handmade solution","title":"Openapi generator: Add import class to generated model","body":"<p>There is no production-ready solution (yet!)\nIf you are not starving for this feature, wait for acceptance of related issue and PR to one of the nearest releases.\n<a href=\"https://github.com/OpenAPITools/openapi-generator/issues/13938\" rel=\"nofollow noreferrer\">https://github.com/OpenAPITools/openapi-generator/issues/13938</a>\nIt will allow required customizations using\nx-spring-constraint: @MyAnnotation(value = 1, message = &quot;nice&quot;) (or x-java-constraint) extension with configOption\ncustomValidationAnnotationsPackages=&quot;my.custom.package.MyAnnotaion;my.other.package.*&quot;</p>\n<p>Else, refer to <a href=\"https://bartko-mat.medium.com/openapi-generator-to-spring-boot-with-custom-java-validations-623381df9215\" rel=\"nofollow noreferrer\">https://bartko-mat.medium.com/openapi-generator-to-spring-boot-with-custom-java-validations-623381df9215</a> as tutorial for handmade solution</p>\n"}],"owner":{"account_id":244916,"reputation":1317,"user_id":518066,"accept_rate":33,"display_name":"user518066"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3473,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1667929039,"creation_date":1657878472,"question_id":72992123,"body_markdown":"I am using Openapi generator(5.4.0), with spring (generator name) and gradle, I am trying to add an import to a generated model.\r\n\r\nFor the particular field in the api spec, I  have added:\r\n```\r\n x-field-extra-annotation: &quot;@com.fasterxml.jackson.annotation.JsonFormat ....&quot;\r\n```\r\n\r\nThis works, however I dont want to fully qualify it, and have the com.fasterxml.jackson.annotation.JsonFormat import added.\r\n\r\n\r\nI tried adding typeMappings to genratedCode task, but that doesn&#39;t work.\r\n\r\n```\r\nimportMappings = [\r\n            &#39;JsonFormat&#39;    : &#39;com.fasterxml.jackson.annotation.JsonFormat&#39;\r\n    ]\r\n```\r\n\r\nUpdate:\r\nI can add model.mustache template to project, and add the import. ie\r\n```\r\n{{#useBeanValidation}}\r\n...\r\nimport com.fasterxml.jackson.annotation.JsonFormat;\r\n...\r\n{{/useBeanValidation}}\r\n```\r\n\r\n\r\nAny ideas? Better ways.\r\nThanks.","title":"Openapi generator: Add import class to generated model","body":"<p>I am using Openapi generator(5.4.0), with spring (generator name) and gradle, I am trying to add an import to a generated model.</p>\n<p>For the particular field in the api spec, I  have added:</p>\n<pre><code> x-field-extra-annotation: &quot;@com.fasterxml.jackson.annotation.JsonFormat ....&quot;\n</code></pre>\n<p>This works, however I dont want to fully qualify it, and have the com.fasterxml.jackson.annotation.JsonFormat import added.</p>\n<p>I tried adding typeMappings to genratedCode task, but that doesn't work.</p>\n<pre><code>importMappings = [\n            'JsonFormat'    : 'com.fasterxml.jackson.annotation.JsonFormat'\n    ]\n</code></pre>\n<p>Update:\nI can add model.mustache template to project, and add the import. ie</p>\n<pre><code>{{#useBeanValidation}}\n...\nimport com.fasterxml.jackson.annotation.JsonFormat;\n...\n{{/useBeanValidation}}\n</code></pre>\n<p>Any ideas? Better ways.\nThanks.</p>\n"},{"tags":["java","java-7","smbj","libsmbclient"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1667911824,"post_id":74361002,"comment_id":131276339,"body_markdown":"You need to find out which of those methods throw that exception and then catch it in the appropriate place. But it might be an unchecked exception. What do you plan to do about it, if and when you *do* catch it?","body":"You need to find out which of those methods throw that exception and then catch it in the appropriate place. But it might be an unchecked exception. What do you plan to do about it, if and when you <i>do</i> catch it?"},{"owner":{"account_id":2402802,"reputation":1973,"user_id":3651739,"accept_rate":90,"display_name":"Jishnu Prathap"},"score":0,"creation_date":1667911965,"post_id":74361002,"comment_id":131276393,"body_markdown":"Your catch block is inside the if, It should be after the try block has ended.","body":"Your catch block is inside the if, It should be after the try block has ended."}],"owner":{"account_id":23781564,"reputation":7,"user_id":17794172,"display_name":"Mahesh M"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":263,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667929012,"creation_date":1667911585,"question_id":74361002,"body_markdown":"I&#39;m just getting started with java development. My ex-colleagues write a code(Code 1). I recently faced the timeout exception. \r\n\r\nCode 1:\r\n\r\n```\r\n    \r\n public String deleteFiles(String DOMAIN0, String USER, String PASSWORD, String SRC_DIR, String DST_DIR, String ext, String ipAddress, String dstRoot) {\r\n SmbConfig config = SmbConfig.builder()\r\n                 .withMultiProtocolNegotiate(true)\r\n                 .withSigningRequired(true)\r\n                 .withDfsEnabled(true)\r\n                 .build();\r\n \r\n SMBClient client = new SMBClient(config);\r\n try {\r\n Connection connection = client.connect(ipAddress);\r\n AuthenticationContext ac1 = new AuthenticationContext(USER, PASSWORD.toCharArray(), DOMAIN);\r\n Session session1 = connection1.authenticate(ac1);\r\n \r\n DiskShare share1 = (DiskShare) session1.connectShare(SRC_DIR);\r\n \r\n if (DST_DIR.contains(&quot;.&quot;)) {\r\n if (fileCheckExists) {\r\n share1.rm(DST_DIR);\r\n \r\n else {\r\n boolean fileCheckExists = share1.folderExists(DST_DIR);\r\n if (fileCheckExists) {\r\n share1.rmdir(DST_DIR0, true);\r\n \r\n \r\n \r\n \r\n catch (TimeoutException et) {\r\n return &quot;Error:&quot; + et.getMessage();\r\n \r\n catch (Exception ex) {\r\n return &quot;Error:&quot; + ex.getMessage();\r\n \r\n return &quot;Completed&quot;;\r\n     }\r\n```\r\n\r\nI added a TimeoutException catch block, but eclipse show the error message(**Unreachable catch block for TimeoutException. This exception is never thrown from the try statement body**).\r\n\r\n\r\n```\r\ncatch (TimeoutException et) {\r\n        \t return &quot;Error:&quot; + et.getMessage();\r\n\t\t}\r\n```\r\n\r\n\r\n\r\n\r\nhow to handle the timeout exception. Please suggust me.","title":"How to handle timeout exception - Smbj","body":"<p>I'm just getting started with java development. My ex-colleagues write a code(Code 1). I recently faced the timeout exception.</p>\n<p>Code 1:</p>\n<pre><code>    \n public String deleteFiles(String DOMAIN0, String USER, String PASSWORD, String SRC_DIR, String DST_DIR, String ext, String ipAddress, String dstRoot) {\n SmbConfig config = SmbConfig.builder()\n                 .withMultiProtocolNegotiate(true)\n                 .withSigningRequired(true)\n                 .withDfsEnabled(true)\n                 .build();\n \n SMBClient client = new SMBClient(config);\n try {\n Connection connection = client.connect(ipAddress);\n AuthenticationContext ac1 = new AuthenticationContext(USER, PASSWORD.toCharArray(), DOMAIN);\n Session session1 = connection1.authenticate(ac1);\n \n DiskShare share1 = (DiskShare) session1.connectShare(SRC_DIR);\n \n if (DST_DIR.contains(&quot;.&quot;)) {\n if (fileCheckExists) {\n share1.rm(DST_DIR);\n \n else {\n boolean fileCheckExists = share1.folderExists(DST_DIR);\n if (fileCheckExists) {\n share1.rmdir(DST_DIR0, true);\n \n \n \n \n catch (TimeoutException et) {\n return &quot;Error:&quot; + et.getMessage();\n \n catch (Exception ex) {\n return &quot;Error:&quot; + ex.getMessage();\n \n return &quot;Completed&quot;;\n     }\n</code></pre>\n<p>I added a TimeoutException catch block, but eclipse show the error message(<strong>Unreachable catch block for TimeoutException. This exception is never thrown from the try statement body</strong>).</p>\n<pre><code>catch (TimeoutException et) {\n             return &quot;Error:&quot; + et.getMessage();\n        }\n</code></pre>\n<p>how to handle the timeout exception. Please suggust me.</p>\n"},{"tags":["java","http","tomcat10"],"comments":[{"owner":{"account_id":4474019,"reputation":26,"user_id":3639556,"display_name":"Selvam Ramasamy"},"score":0,"creation_date":1666259220,"post_id":74137690,"comment_id":130895748,"body_markdown":"https://stackoverflow.com/questions/24292373/spring-boot-rest-controller-how-to-return-different-http-status-codes","body":"<a href=\"https://stackoverflow.com/questions/24292373/spring-boot-rest-controller-how-to-return-different-http-status-codes\" title=\"spring boot rest controller how to return different http status codes\">stackoverflow.com/questions/24292373/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":4474019,"reputation":26,"user_id":3639556,"display_name":"Selvam Ramasamy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667928441,"creation_date":1666259570,"answer_id":74137875,"question_id":74137690,"body_markdown":"You can use `ResponseEntity` with a status code:\r\n\r\n```java\r\n@GET\r\n@Produces(MediaType.APPLICATION_JSON)\r\npublic ResponseEntity&lt;List&lt;Alert&gt;&gt; getAlerts(@HeaderParam(&quot;sessionId&quot;) String sessionId) {\r\n    if (isValid(sessionId)) {\r\n        return new ResponseEntity&lt;&gt;(DatabaseAccess.getAlerts(), HttpStatus.OK);\r\n    }\r\n    return ResponseEntity.badRequest().body(&quot;Bad request&quot;)\r\n}\r\n```","title":"TomCat how to send an HTTP status code instead of the normal JSON response?","body":"<p>You can use <code>ResponseEntity</code> with a status code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@GET\n@Produces(MediaType.APPLICATION_JSON)\npublic ResponseEntity&lt;List&lt;Alert&gt;&gt; getAlerts(@HeaderParam(&quot;sessionId&quot;) String sessionId) {\n    if (isValid(sessionId)) {\n        return new ResponseEntity&lt;&gt;(DatabaseAccess.getAlerts(), HttpStatus.OK);\n    }\n    return ResponseEntity.badRequest().body(&quot;Bad request&quot;)\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17015155,"reputation":138,"user_id":12309235,"display_name":"ANISH SAJI  KUMAR"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667928719,"creation_date":1667928719,"answer_id":74364906,"question_id":74137690,"body_markdown":"If you want to send an HTTP status code instead of the normal JSON response, you can use the response.sendStatus() method.","title":"TomCat how to send an HTTP status code instead of the normal JSON response?","body":"<p>If you want to send an HTTP status code instead of the normal JSON response, you can use the response.sendStatus() method.</p>\n"}],"owner":{"account_id":23006244,"reputation":3,"user_id":17129483,"display_name":"Thijs0001"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":245,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74137875,"answer_count":2,"score":0,"last_activity_date":1667928719,"creation_date":1666258872,"question_id":74137690,"body_markdown":"I&#39;m building a webserver in TomCat, and trying to implement a function that returns a list normally, but I want it to first check if the user has a valid session. If the user does not have a valid session I want to send back a response with http status code 403. How can I do this? I can only return an empty list. This is my current code:\r\n```@Path(&quot;/alerts&quot;)\r\npublic class AlertsResource {\r\n\t@Context\r\n\tUriInfo uriInfo;\r\n\t@Context\r\n\tRequest request;\r\n\r\n\t@GET\r\n\t@Produces(MediaType.APPLICATION_JSON)\r\n\tpublic List&lt;Alert&gt; getAlerts(@HeaderParam(&quot;sessionId&quot;) String sessionId) {\r\n\t\tif (isValid(sessionId)) {\r\n\t\t\treturn DatabaseAccess.getAlerts();\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n}\r\n```\r\n","title":"TomCat how to send an HTTP status code instead of the normal JSON response?","body":"<p>I'm building a webserver in TomCat, and trying to implement a function that returns a list normally, but I want it to first check if the user has a valid session. If the user does not have a valid session I want to send back a response with http status code 403. How can I do this? I can only return an empty list. This is my current code:</p>\n<pre><code>public class AlertsResource {\n    @Context\n    UriInfo uriInfo;\n    @Context\n    Request request;\n\n    @GET\n    @Produces(MediaType.APPLICATION_JSON)\n    public List&lt;Alert&gt; getAlerts(@HeaderParam(&quot;sessionId&quot;) String sessionId) {\n        if (isValid(sessionId)) {\n            return DatabaseAccess.getAlerts();\n        }\n        return null;\n    }\n}\n</code></pre>\n"},{"tags":["java","sockets","server","serversocket"],"comments":[{"owner":{"account_id":37136,"reputation":57812,"user_id":106104,"accept_rate":62,"display_name":"user253751"},"score":0,"creation_date":1667928126,"post_id":74364736,"comment_id":131283120,"body_markdown":"put the IP address of the other computer instead of localhost?","body":"put the IP address of the other computer instead of localhost?"},{"owner":{"account_id":23710662,"reputation":11,"user_id":17732577,"display_name":"Francesco"},"score":0,"creation_date":1667928264,"post_id":74364736,"comment_id":131283171,"body_markdown":"Yeah, but I wanted to do it in an automatic way (if exists),without changing the IP address everytime I run the program on another computer","body":"Yeah, but I wanted to do it in an automatic way (if exists),without changing the IP address everytime I run the program on another computer"},{"owner":{"account_id":37136,"reputation":57812,"user_id":106104,"accept_rate":62,"display_name":"user253751"},"score":0,"creation_date":1667928301,"post_id":74364736,"comment_id":131283192,"body_markdown":"then how should your program know which other computer it is? There could be 2 computers, or 100, or 1000000. Imagine opening a web browser and not telling it which website to go to.","body":"then how should your program know which other computer it is? There could be 2 computers, or 100, or 1000000. Imagine opening a web browser and not telling it which website to go to."},{"owner":{"account_id":23710662,"reputation":11,"user_id":17732577,"display_name":"Francesco"},"score":0,"creation_date":1667928568,"post_id":74364736,"comment_id":131283298,"body_markdown":"Oh yes, you&#39;re right, I didn&#39;t think about it, I&#39;m sorry","body":"Oh yes, you&#39;re right, I didn&#39;t think about it, I&#39;m sorry"},{"owner":{"account_id":37136,"reputation":57812,"user_id":106104,"accept_rate":62,"display_name":"user253751"},"score":0,"creation_date":1667929149,"post_id":74364736,"comment_id":131283549,"body_markdown":"there are some programs that try to connect to &quot;the whole internet&quot; - like bitcoin - but it&#39;s not easy and they have to use many tricks to make it work. Making it automatically connect on *just your network* is possible, although I don&#39;t know how (I&#39;d have to find out) and you&#39;d still have to figure out what to do if there was more than one server","body":"there are some programs that try to connect to &quot;the whole internet&quot; - like bitcoin - but it&#39;s not easy and they have to use many tricks to make it work. Making it automatically connect on <i>just your network</i> is possible, although I don&#39;t know how (I&#39;d have to find out) and you&#39;d still have to figure out what to do if there was more than one server"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1667929384,"post_id":74364736,"comment_id":131283639,"body_markdown":"Any arbitrary &quot;other computer&quot; is tricky as you would need to ensure that the address were routable and also that port forwarding were set up. If you want it to run on your own LAN, it should do so if you use the LAN IP address of the server. What are your intentions?","body":"Any arbitrary &quot;other computer&quot; is tricky as you would need to ensure that the address were routable and also that port forwarding were set up. If you want it to run on your own LAN, it should do so if you use the LAN IP address of the server. What are your intentions?"}],"owner":{"account_id":23710662,"reputation":11,"user_id":17732577,"display_name":"Francesco"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":126,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667927879,"creation_date":1667927879,"question_id":74364736,"body_markdown":"I&#39;m trying to make a connection unicast between a client and a server in Java. At the moment, I succeded in writing the code for making a connection between client and server only if the server is the localhost.\r\n\r\nCould you tell me how can I make the same connection, but assuming the server is on another computer? Thanks\r\n\r\nThis below is the file MyServer.java\r\n\r\n```lang-java\r\npackage clientserver;\r\nimport java.net.*;  \r\nimport java.io.*;\r\n\r\npublic class MyServer {\r\n\r\n    public static void main(String[] args) throws Exception{\r\n        ServerSocket server=new ServerSocket(3333);\r\n        Socket client=server.accept();\r\n        \r\n        DataInputStream din=new DataInputStream(client.getInputStream());\r\n        DataOutputStream dout=new DataOutputStream(client.getOutputStream());\r\n        BufferedReader br=new BufferedReader(new InputStreamReader(System.in));\r\n        \r\n        String strClient=&quot;&quot;,strServer=&quot;&quot;;\r\n        \r\n        while(!strClient.equals(&quot;stop&quot;)){  \r\n            strClient = din.readUTF();\r\n            System.out.println(&quot;Client: &quot;+strClient);\r\n\r\n            System.out.print(&quot;Enter a message to send to the client: &quot;);\r\n            strServer=br.readLine();\r\n            dout.writeUTF(strServer);\r\n        }\r\n        dout.close();\r\n        client.close();\r\n        server.close();\r\n    }\r\n    \r\n}\r\n```\r\n\r\nThis below is the file MyClient.java\r\n\r\n```lang-java\r\npackage clientserver;\r\nimport java.net.*;  \r\nimport java.io.*;\r\n\r\npublic class MyClient {\r\n\r\n    public static void main(String[] args) throws Exception{\r\n        Socket s = new Socket(&quot;localhost&quot;, 3333);\r\n        \r\n        DataInputStream din= new DataInputStream(s.getInputStream());\r\n        DataOutputStream dout= new DataOutputStream(s.getOutputStream());\r\n        BufferedReader br = new BufferedReader (new InputStreamReader(System.in));\r\n        \r\n        String strClient = &quot;&quot;, strServer =&quot;&quot;;\r\n        \r\n        while(!strClient.equals(&quot;stop&quot;)){\r\n            System.out.print(&quot;Enter a message to send to the server: &quot;);\r\n            strClient = br.readLine();\r\n            dout.writeUTF(strClient);\r\n            \r\n            strServer = din.readUTF();\r\n            System.out.println(&quot;Server: &quot;+strServer);\r\n        }\r\n        \r\n        dout.close();\r\n        s.close();\r\n    }\r\n    \r\n}\r\n```\r\n\r\nI think this line of code `Socket s = new Socket(&quot;localhost&quot;, 3333);` should change, but I don&#39;t know into what.\r\n\r\nI hope I wrote everything clear. Thanks for your help :D!\r\n","title":"Java Socket Remote Client-Server","body":"<p>I'm trying to make a connection unicast between a client and a server in Java. At the moment, I succeded in writing the code for making a connection between client and server only if the server is the localhost.</p>\n<p>Could you tell me how can I make the same connection, but assuming the server is on another computer? Thanks</p>\n<p>This below is the file MyServer.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>package clientserver;\nimport java.net.*;  \nimport java.io.*;\n\npublic class MyServer {\n\n    public static void main(String[] args) throws Exception{\n        ServerSocket server=new ServerSocket(3333);\n        Socket client=server.accept();\n        \n        DataInputStream din=new DataInputStream(client.getInputStream());\n        DataOutputStream dout=new DataOutputStream(client.getOutputStream());\n        BufferedReader br=new BufferedReader(new InputStreamReader(System.in));\n        \n        String strClient=&quot;&quot;,strServer=&quot;&quot;;\n        \n        while(!strClient.equals(&quot;stop&quot;)){  \n            strClient = din.readUTF();\n            System.out.println(&quot;Client: &quot;+strClient);\n\n            System.out.print(&quot;Enter a message to send to the client: &quot;);\n            strServer=br.readLine();\n            dout.writeUTF(strServer);\n        }\n        dout.close();\n        client.close();\n        server.close();\n    }\n    \n}\n</code></pre>\n<p>This below is the file MyClient.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>package clientserver;\nimport java.net.*;  \nimport java.io.*;\n\npublic class MyClient {\n\n    public static void main(String[] args) throws Exception{\n        Socket s = new Socket(&quot;localhost&quot;, 3333);\n        \n        DataInputStream din= new DataInputStream(s.getInputStream());\n        DataOutputStream dout= new DataOutputStream(s.getOutputStream());\n        BufferedReader br = new BufferedReader (new InputStreamReader(System.in));\n        \n        String strClient = &quot;&quot;, strServer =&quot;&quot;;\n        \n        while(!strClient.equals(&quot;stop&quot;)){\n            System.out.print(&quot;Enter a message to send to the server: &quot;);\n            strClient = br.readLine();\n            dout.writeUTF(strClient);\n            \n            strServer = din.readUTF();\n            System.out.println(&quot;Server: &quot;+strServer);\n        }\n        \n        dout.close();\n        s.close();\n    }\n    \n}\n</code></pre>\n<p>I think this line of code <code>Socket s = new Socket(&quot;localhost&quot;, 3333);</code> should change, but I don't know into what.</p>\n<p>I hope I wrote everything clear. Thanks for your help :D!</p>\n"},{"tags":["java","spring","spring-boot","gradle","intellij-idea"],"comments":[{"owner":{"account_id":7712763,"reputation":628,"user_id":5841551,"accept_rate":50,"display_name":"kladderradatsch"},"score":0,"creation_date":1667928315,"post_id":74364694,"comment_id":131283200,"body_markdown":"Your question is too vague. I could be anything. In general if your code compiles well after you deleted the class `MapStruct` it should run as well. Make sure that `MapStruct` is not used by any other client code or is e.g. referenced in a xml Spring context file.","body":"Your question is too vague. I could be anything. In general if your code compiles well after you deleted the class <code>MapStruct</code> it should run as well. Make sure that <code>MapStruct</code> is not used by any other client code or is e.g. referenced in a xml Spring context file."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1667931165,"post_id":74364694,"comment_id":131284269,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":26869802,"reputation":1,"user_id":20451984,"display_name":"Mudit Srivastava"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667927729,"creation_date":1667927729,"question_id":74364694,"body_markdown":"Now, Let&#39;s assume I&#39;m working in a branch &#39;feature&#39; of my project, and I write a MapStruct mapper interface and build/run it, but later on I find that I don&#39;t need this mapper, so I refactor and delete this file.\r\nNow, after I refactored and deleted this mapper interface, I tried running the application but am unable to do so, as it throws FileNotFoundException.\r\n\r\nAlso, when I undeleted the mapper interface, I am able to run the application.\r\n\r\n\r\nPS: \r\nLanguage - Java-11\r\nFramework - SpringBoot (Gradle)\r\nIDE - IntelliJ IDEA(CE)\r\n\r\n\r\nCan someone please help me find out the reason I&#39;m still getting this error?","title":"Mapstruct generating random mapper implementation class","body":"<p>Now, Let's assume I'm working in a branch 'feature' of my project, and I write a MapStruct mapper interface and build/run it, but later on I find that I don't need this mapper, so I refactor and delete this file.\nNow, after I refactored and deleted this mapper interface, I tried running the application but am unable to do so, as it throws FileNotFoundException.</p>\n<p>Also, when I undeleted the mapper interface, I am able to run the application.</p>\n<p>PS:\nLanguage - Java-11\nFramework - SpringBoot (Gradle)\nIDE - IntelliJ IDEA(CE)</p>\n<p>Can someone please help me find out the reason I'm still getting this error?</p>\n"},{"tags":["java","wicket","checkstyle","resourcebundle"],"comments":[{"owner":{"account_id":987285,"reputation":17009,"user_id":1005481,"accept_rate":89,"display_name":"barfuin"},"score":0,"creation_date":1491385025,"post_id":43203318,"comment_id":73524531,"body_markdown":"Just to be sure: Is it your goal to ensure that `Foo_demo.properties` contains only keys which also occur in `Foo.properties`? Or could `_demo` also include keys that are *not* present in `Foo`? In the latter case, you could simply turn off the check.","body":"Just to be sure: Is it your goal to ensure that <code>Foo_demo.properties</code> contains only keys which also occur in <code>Foo.properties</code>? Or could <code>_demo</code> also include keys that are <i>not</i> present in <code>Foo</code>? In the latter case, you could simply turn off the check."},{"owner":{"account_id":2255169,"reputation":3148,"user_id":1986499,"accept_rate":81,"display_name":"Imperative"},"score":0,"creation_date":1491475462,"post_id":43203318,"comment_id":73574389,"body_markdown":"The `_demo` (or `_demo_de` etc.) property files will only contain a subset of the original property keys. Right now i do apply a suppress for the Variation files, but would&#39;ve liked to check them too.","body":"The <code>_demo</code> (or <code>_demo_de</code> etc.) property files will only contain a subset of the original property keys. Right now i do apply a suppress for the Variation files, but would&#39;ve liked to check them too."},{"owner":{"account_id":987285,"reputation":17009,"user_id":1005481,"accept_rate":89,"display_name":"barfuin"},"score":1,"creation_date":1491476444,"post_id":43203318,"comment_id":73575120,"body_markdown":"Gotcha. Then you&#39;re out of luck. Checkstyle can&#39;t do that at the moment (as of 7.6).","body":"Gotcha. Then you&#39;re out of luck. Checkstyle can&#39;t do that at the moment (as of 7.6)."}],"owner":{"account_id":2255169,"reputation":3148,"user_id":1986499,"accept_rate":81,"display_name":"Imperative"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":113,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1667927263,"creation_date":1491298200,"question_id":43203318,"body_markdown":"I have two properties files, e.g. `Foo.properties` and `Foo_demo.properties`. Foo.properties has multiple entries. Foo_demo.propeties overides a subset of these entries.\r\n\r\nFoo.properties:\r\n\r\n    text1 = TXT 1\r\n    text2 = TXT 2\r\n    text3 = TXT 3\r\nFoo_demo.properties:\r\n\r\n    text1 = TXT 1 Override\r\n\r\nRunning Checkstyle with the Translation module on this will fail because of two missing translations of entries text2 and text3 in Foo_demo.properties.\r\n\r\nIs there a configuration for checkstyle that allows the specified resourcebundle structure?\r\n\r\nBackground: this is used in a Wicket application, where resourcebundles can be further parametrized with style and variation parameters, see [Wicket i18n][1]\r\n\r\n\r\n  [1]: https://ci.apache.org/projects/wicket/guide/6.x/guide/i18n.html#i18n_2","title":"Checkstyle ignore missing resourcebundle properties for variation","body":"<p>I have two properties files, e.g. <code>Foo.properties</code> and <code>Foo_demo.properties</code>. Foo.properties has multiple entries. Foo_demo.propeties overides a subset of these entries.</p>\n\n<p>Foo.properties:</p>\n\n<pre><code>text1 = TXT 1\ntext2 = TXT 2\ntext3 = TXT 3\n</code></pre>\n\n<p>Foo_demo.properties:</p>\n\n<pre><code>text1 = TXT 1 Override\n</code></pre>\n\n<p>Running Checkstyle with the Translation module on this will fail because of two missing translations of entries text2 and text3 in Foo_demo.properties.</p>\n\n<p>Is there a configuration for checkstyle that allows the specified resourcebundle structure?</p>\n\n<p>Background: this is used in a Wicket application, where resourcebundles can be further parametrized with style and variation parameters, see <a href=\"https://ci.apache.org/projects/wicket/guide/6.x/guide/i18n.html#i18n_2\" rel=\"nofollow noreferrer\">Wicket i18n</a></p>\n"},{"tags":["java","arrays","error-handling","integer","java.util.scanner"],"comments":[{"owner":{"display_name":"user2663434"},"score":0,"creation_date":1381118754,"post_id":19216864,"comment_id":28439417,"body_markdown":"possible duplicate of: http://stackoverflow.com/questions/5439529/determine-if-a-string-is-an-integer-in-java","body":"possible duplicate of: <a href=\"http://stackoverflow.com/questions/5439529/determine-if-a-string-is-an-integer-in-java\" title=\"determine if a string is an integer in java\">stackoverflow.com/questions/5439529/&hellip;</a>"},{"owner":{"account_id":2326070,"reputation":5010,"user_id":2040569,"accept_rate":78,"display_name":"Austin T French"},"score":0,"creation_date":1381118838,"post_id":19216864,"comment_id":28439434,"body_markdown":"A foreach and then something like http://stackoverflow.com/questions/8391979/does-java-have-a-int-tryparse-that-doesnt-throw-an-exception-for-bad-data","body":"A foreach and then something like <a href=\"http://stackoverflow.com/questions/8391979/does-java-have-a-int-tryparse-that-doesnt-throw-an-exception-for-bad-data\" title=\"does java have a int tryparse that doesnt throw an exception for bad data\">stackoverflow.com/questions/8391979/&hellip;</a>"},{"owner":{"account_id":3400847,"reputation":1,"user_id":2853036,"display_name":"Kevin Grant"},"score":0,"creation_date":1381119738,"post_id":19216864,"comment_id":28439598,"body_markdown":"in what way would i implement the foreach?","body":"in what way would i implement the foreach?"}],"answers":[{"tags":[],"owner":{"account_id":1536909,"reputation":36,"user_id":1432692,"display_name":"astennent"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1381119741,"creation_date":1381119741,"answer_id":19217026,"question_id":19216864,"body_markdown":"Using the String you made with the scanner, loop over a space-delimited list and check that each element is an integer. If they all pass, return true; otherwise return false. \r\n\r\nCredit for the isInteger check goes to https://stackoverflow.com/questions/5439529/determine-if-a-string-is-an-integer-in-java\r\n\r\n    public static boolean containsAllIntegers(String integers){\r\n       String[] newArray = integers.split(&quot; &quot;);\r\n       //loop over the array; if any value isnt an integer return false.\r\n       for (String integer : newArray){\r\n          if (!isInteger(integer)){\r\n             return false;\r\n          }   \r\n       }   \r\n       return true;\r\n    }\r\n\r\n    public static boolean isInteger(String s) {\r\n      try { \r\n          Integer.parseInt(s); \r\n       } catch(NumberFormatException e) { \r\n          return false; \r\n       }\r\n       // only got here if we didn&#39;t return false\r\n       return true;\r\n    }","title":"How to check if each element in a string array is an integer?","body":"<p>Using the String you made with the scanner, loop over a space-delimited list and check that each element is an integer. If they all pass, return true; otherwise return false. </p>\n\n<p>Credit for the isInteger check goes to <a href=\"https://stackoverflow.com/questions/5439529/determine-if-a-string-is-an-integer-in-java\">Determine if a String is an Integer in Java</a></p>\n\n<pre><code>public static boolean containsAllIntegers(String integers){\n   String[] newArray = integers.split(\" \");\n   //loop over the array; if any value isnt an integer return false.\n   for (String integer : newArray){\n      if (!isInteger(integer)){\n         return false;\n      }   \n   }   \n   return true;\n}\n\npublic static boolean isInteger(String s) {\n  try { \n      Integer.parseInt(s); \n   } catch(NumberFormatException e) { \n      return false; \n   }\n   // only got here if we didn't return false\n   return true;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21940554,"reputation":11,"user_id":16221166,"display_name":"vinaykala58"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667927221,"creation_date":1667820408,"answer_id":74345848,"question_id":19216864,"body_markdown":"//we can use regex as well like below if anyone is still searching for the answer\r\n\r\npublic class testclass3 {\r\n\t\r\n\tpublic static boolean findStringValues(String o, Integer len) {\r\n\t\t\r\n\t\tif (((o.replaceAll(&quot;[0-9]&quot;, &quot;&quot;)).length())==len) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\t\r\n\t\treturn false;\r\n\t}\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\tString[] strValues = {&quot;ABX&quot;,&quot;XYZ&quot;,&quot;1234&quot;,&quot;PUNE30&quot;};\r\n\t\tint count=0;\r\n\t\tfor(int i=0;i&lt;strValues.length;i++) {\r\n\t\t\t if(!(findStringValues(strValues[i],strValues[i].length()))) {\r\n\t\t\t\t count = count +1;\r\n\t\t\t }\r\n\t\t}System.out.println(count);\r\n\t\t\r\n\t}\r\n\r\n}\r\n\r\n\r\n\r\n//OR if your array is an object array with Integer and String values the below implementation should work\r\n\r\n\tpublic void findPureStringCount() {\r\n\t\tint count=0;\r\n\t\tObject[] arrStr = {123,&quot;abc&quot;,&quot;abc123&quot;};\r\n\t\tfor(Object str : arrStr) {\r\n\t\t\tif (str instanceof String) {\r\n\t\t\t\tcount = count+1;\r\n\t\t\t}\r\n\t\t}\r\n\t\tSystem.out.println(count);\r\n\t}","title":"How to check if each element in a string array is an integer?","body":"<p>//we can use regex as well like below if anyone is still searching for the answer</p>\n<p>public class testclass3 {</p>\n<pre><code>public static boolean findStringValues(String o, Integer len) {\n    \n    if (((o.replaceAll(&quot;[0-9]&quot;, &quot;&quot;)).length())==len) {\n        return true;\n    }\n    \n    return false;\n}\n\npublic static void main(String[] args) {\n    String[] strValues = {&quot;ABX&quot;,&quot;XYZ&quot;,&quot;1234&quot;,&quot;PUNE30&quot;};\n    int count=0;\n    for(int i=0;i&lt;strValues.length;i++) {\n         if(!(findStringValues(strValues[i],strValues[i].length()))) {\n             count = count +1;\n         }\n    }System.out.println(count);\n    \n}\n</code></pre>\n<p>}</p>\n<p>//OR if your array is an object array with Integer and String values the below implementation should work</p>\n<pre><code>public void findPureStringCount() {\n    int count=0;\n    Object[] arrStr = {123,&quot;abc&quot;,&quot;abc123&quot;};\n    for(Object str : arrStr) {\n        if (str instanceof String) {\n            count = count+1;\n        }\n    }\n    System.out.println(count);\n}\n</code></pre>\n"}],"owner":{"account_id":3400847,"reputation":1,"user_id":2853036,"display_name":"Kevin Grant"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14284,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":19217026,"answer_count":2,"score":0,"last_activity_date":1667927221,"creation_date":1381118617,"question_id":19216864,"body_markdown":"    \r\nI&#39;m attempting an error check that determines whether all the the elements of an array are integers, i&#39;ve been stuck for a long time though. any ideas on how to get started would be helpful.\r\n\r\n\r\n    Scanner scan = new Scanner(System.in);\r\n\r\n    System.out.print(&quot;Please list at least one and up to 10 integers: &quot;);\r\n    String integers = scan.nextLine();\r\n\r\n    String[] newArray = integers.split(&quot;&quot;);","title":"How to check if each element in a string array is an integer?","body":"<p>I'm attempting an error check that determines whether all the the elements of an array are integers, i've been stuck for a long time though. any ideas on how to get started would be helpful.</p>\n\n<pre><code>Scanner scan = new Scanner(System.in);\n\nSystem.out.print(\"Please list at least one and up to 10 integers: \");\nString integers = scan.nextLine();\n\nString[] newArray = integers.split(\"\");\n</code></pre>\n"},{"tags":["java","bash","maven","junit","serenity-bdd"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1667927479,"post_id":74364577,"comment_id":131282902,"body_markdown":"First you should use `mvn clean verify -s ..` instead of calling the goal instead of using the life cycle...","body":"First you should use <code>mvn clean verify -s ..</code> instead of calling the goal instead of using the life cycle..."},{"owner":{"account_id":5425221,"reputation":32111,"user_id":7366100,"display_name":"markp-fuso"},"score":1,"creation_date":1667927484,"post_id":74364577,"comment_id":131282905,"body_markdown":"based on the sample output ... what would you be looking for to indicate an issue? will it be sufficient to look for the string `[ERROR]`? are there other strings that need to be considered? would a simple `grep` of the output be sufficient or is there more to consider?","body":"based on the sample output ... what would you be looking for to indicate an issue? will it be sufficient to look for the string <code>[ERROR]</code>? are there other strings that need to be considered? would a simple <code>grep</code> of the output be sufficient or is there more to consider?"},{"owner":{"account_id":968842,"reputation":45616,"user_id":991788,"accept_rate":100,"display_name":"Sachin Kainth"},"score":0,"creation_date":1667927789,"post_id":74364577,"comment_id":131283017,"body_markdown":"@markp-fuso I was hoping to not have to grep for error strings.","body":"@markp-fuso I was hoping to not have to grep for error strings."},{"owner":{"account_id":968842,"reputation":45616,"user_id":991788,"accept_rate":100,"display_name":"Sachin Kainth"},"score":0,"creation_date":1667928007,"post_id":74364577,"comment_id":131283081,"body_markdown":"@khmarbaise I still get code 0 with this.","body":"@khmarbaise I still get code 0 with this."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1667931172,"post_id":74364577,"comment_id":131284272,"body_markdown":"The test you are executing is failing... which looks like an integration test which should be executed via maven-failsafe-plugin... The error is: `UnsatisfiedDependency Error creating bean with name &#39;com.xxx...` furthermore you should configure maven-failsafe-plugin via `&lt;trimStackTrace&gt;false&lt;/trimStackTrace&gt;` because you seemed to using an older version before 3.0.0-MXX","body":"The test you are executing is failing... which looks like an integration test which should be executed via maven-failsafe-plugin... The error is: <code>UnsatisfiedDependency Error creating bean with name &#39;com.xxx...</code> furthermore you should configure maven-failsafe-plugin via <code>&lt;trimStackTrace&gt;false&lt;&#47;trimStackTrace&gt;</code> because you seemed to using an older version before 3.0.0-MXX"},{"owner":{"account_id":3085839,"reputation":1615,"user_id":9716110,"display_name":"Eric Marceau"},"score":1,"creation_date":1667943068,"post_id":74364577,"comment_id":131287923,"body_markdown":"If you aren&#39;t the original author of that program, maybe the testing program is successfully reporting that all unit-testing was &quot;performed&quot; successfully, but that one of those units failed the test in question.  There might in fact be no problem with &quot;what&quot; was reported, and that it is giving direction as to where to focus the next phase of debugging efforts.  Also, if make did not set the proper conditional, build could proceed without all the pieces you expected, under the &quot;wrong&quot; conditions.","body":"If you aren&#39;t the original author of that program, maybe the testing program is successfully reporting that all unit-testing was &quot;performed&quot; successfully, but that one of those units failed the test in question.  There might in fact be no problem with &quot;what&quot; was reported, and that it is giving direction as to where to focus the next phase of debugging efforts.  Also, if make did not set the proper conditional, build could proceed without all the pieces you expected, under the &quot;wrong&quot; conditions."}],"owner":{"account_id":968842,"reputation":45616,"user_id":991788,"accept_rate":100,"display_name":"Sachin Kainth"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":167,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667927182,"creation_date":1667927182,"question_id":74364577,"body_markdown":"I have this bash command that runs some integration tests\r\n\r\n    mvn clean test-compile failsafe:integration-test -s ./settings.xml\r\n\r\nThis command results in this output.\r\n\r\n    [INFO] \r\n    [INFO] Results:\r\n    [INFO] \r\n    [ERROR] Errors: \r\n    [ERROR]   MyJavaIntegrationTestClass &#187; UnsatisfiedDependency Error creating bean with name &#39;com.xxx...\r\n    [INFO] \r\n    [ERROR] Tests run: 1, Failures: 0, Errors: 1, Skipped: 0\r\n    [INFO] \r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD SUCCESS\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time:  39.037 s\r\n    [INFO] Finished at: 2022-11-08T16:42:26Z\r\n    [INFO] ------------------------------------------------------------------------\r\n\r\n\r\nThe problem here is that the code does not even compile and even says that there is 1 error but still I get a successful build.  I tried to capture the error code from the call and got a 0 (success) so couldn&#39;t use the error code to decide whether the tests ran ok or not.  What I am trying to do is fail the script if there are any compilation or test run failures and pass the script if there are not.  How can I achieve this?","title":"How to get error code from compiling integration tests","body":"<p>I have this bash command that runs some integration tests</p>\n<pre><code>mvn clean test-compile failsafe:integration-test -s ./settings.xml\n</code></pre>\n<p>This command results in this output.</p>\n<pre><code>[INFO] \n[INFO] Results:\n[INFO] \n[ERROR] Errors: \n[ERROR]   MyJavaIntegrationTestClass  UnsatisfiedDependency Error creating bean with name 'com.xxx...\n[INFO] \n[ERROR] Tests run: 1, Failures: 0, Errors: 1, Skipped: 0\n[INFO] \n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD SUCCESS\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  39.037 s\n[INFO] Finished at: 2022-11-08T16:42:26Z\n[INFO] ------------------------------------------------------------------------\n</code></pre>\n<p>The problem here is that the code does not even compile and even says that there is 1 error but still I get a successful build.  I tried to capture the error code from the call and got a 0 (success) so couldn't use the error code to decide whether the tests ran ok or not.  What I am trying to do is fail the script if there are any compilation or test run failures and pass the script if there are not.  How can I achieve this?</p>\n"},{"tags":["java","string","combinatorics"],"comments":[{"owner":{"account_id":906710,"reputation":191,"user_id":4317000,"display_name":"Marwa Eldawy"},"score":0,"creation_date":1574541488,"post_id":59011851,"comment_id":104271678,"body_markdown":"Based on what are the variables in your example assigned the values 1,2 and 3 ? because number of known characters in the string is 3? namely, A,B and C?","body":"Based on what are the variables in your example assigned the values 1,2 and 3 ? because number of known characters in the string is 3? namely, A,B and C?"},{"owner":{"account_id":13688996,"reputation":53,"user_id":9877339,"display_name":"Neelfinity"},"score":0,"creation_date":1574541767,"post_id":59011851,"comment_id":104271770,"body_markdown":"@MarwaEldawy 0 is a variable that should be detected from the input. So A, B and C are known and shouldn&#39;t be changed. Another example: A00BC, there we again have 9 different combinations with numbers 1, 2 and 3: A11BC, A12BC, A13BC, A21BC, A22BC, A23BC, A31BC, A32BC, A33BC.","body":"@MarwaEldawy 0 is a variable that should be detected from the input. So A, B and C are known and shouldn&#39;t be changed. Another example: A00BC, there we again have 9 different combinations with numbers 1, 2 and 3: A11BC, A12BC, A13BC, A21BC, A22BC, A23BC, A31BC, A32BC, A33BC."},{"owner":{"account_id":906710,"reputation":191,"user_id":4317000,"display_name":"Marwa Eldawy"},"score":1,"creation_date":1574542057,"post_id":59011851,"comment_id":104271834,"body_markdown":"I understand this example. My question is: If we have a string like this: A00BCDE. What values should 00 take? 1,2 and 3 also? What about this example: A0000 ? what values should 0000 take ?","body":"I understand this example. My question is: If we have a string like this: A00BCDE. What values should 00 take? 1,2 and 3 also? What about this example: A0000 ? what values should 0000 take ?"},{"owner":{"account_id":906710,"reputation":191,"user_id":4317000,"display_name":"Marwa Eldawy"},"score":0,"creation_date":1574542217,"post_id":59011851,"comment_id":104271881,"body_markdown":"Or maybe you mean the string will always contain 5 characters, with 2 variables?","body":"Or maybe you mean the string will always contain 5 characters, with 2 variables?"},{"owner":{"account_id":13688996,"reputation":53,"user_id":9877339,"display_name":"Neelfinity"},"score":1,"creation_date":1574543604,"post_id":59011851,"comment_id":104272248,"body_markdown":"@MarwaEldawy There are always 5 characters where we can have one to four zero&#39;s, that need to be replaced with our values, that are always 1, 2, 3. By math, with two variables we get 3^2=9 combinations, with 3 variables we get 3^3=27 combinations, and with 4 variables we get 3^4=81 combinations.","body":"@MarwaEldawy There are always 5 characters where we can have one to four zero&#39;s, that need to be replaced with our values, that are always 1, 2, 3. By math, with two variables we get 3^2=9 combinations, with 3 variables we get 3^3=27 combinations, and with 4 variables we get 3^4=81 combinations."}],"answers":[{"tags":[],"owner":{"account_id":1049500,"reputation":648,"user_id":1053761,"display_name":"rzehan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667927005,"creation_date":1574546651,"answer_id":59012687,"question_id":59011851,"body_markdown":"What about this:\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import java.util.Scanner;\r\n \r\n    public class Main {\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        Scanner scanner = new Scanner(System.in);\r\n        System.out.println(&quot;Enter the key consisting of 5 characters:&quot;);\r\n        String input = scanner.next();\r\n\r\n        //find positions of &#39;0&#39; in input\r\n        List&lt;Integer&gt; varPositions = findVarPositions(input);\r\n\r\n        //create permutations\r\n        List&lt;String&gt; permutations = new ArrayList&lt;&gt;();\r\n        permutations.add(input);//AB0C0\r\n        for (int position : varPositions) {\r\n            permutations = permutateAtPosition(permutations, position);\r\n        }\r\n\r\n        //print permutations\r\n        for (String permutation : permutations) {\r\n            System.out.println(permutation.toUpperCase());\r\n        }\r\n    }\r\n\r\n    private static List&lt;Integer&gt; findVarPositions(String input) {\r\n        List&lt;Integer&gt; varPositions = new ArrayList&lt;&gt;();\r\n        int lastVarPosition = -1;\r\n        while ((lastVarPosition = input.indexOf(&#39;0&#39;, lastVarPosition + 1)) != -1) {\r\n            varPositions.add(lastVarPosition);\r\n        }\r\n        return varPositions;\r\n    }\r\n\r\n    private static List&lt;String&gt; permutateAtPosition(List&lt;String&gt; partialyPermutated, int position) {\r\n        List&lt;String&gt; result = new ArrayList&lt;&gt;();\r\n        char[] replacements = {&#39;1&#39;, &#39;2&#39;, &#39;3&#39;, &#39;4&#39;, &#39;5&#39;};\r\n        for (String item : partialyPermutated) {\r\n            for (int i = 0; i &lt; replacements.length; i++) {\r\n                String output = replaceCharAt(item, position, replacements[i]);\r\n                result.add(output);\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n\r\n    private static String replaceCharAt(String input, int position, char replacement) {\r\n        //converting to char array, because there&#39;s no method like\r\n        //String.replaceAtPosition(position, char)\r\n        char[] charArray = input.toCharArray();\r\n        charArray[position] = replacement;\r\n        return new String(charArray);\r\n    }\r\n\r\n    }\r\n\r\nIt&#39;s not fixed to a number of variables. \r\n\r\nThe idea is to extract positions of &#39;0&#39; and subsequently call the method `permutateAtPosition`, which takes a partially permutated list and permutates it by one more level. \r\n\r\nFor &quot;a0b0c0&quot; and values 1-2 it would be `[&#39;a0b0c0&#39;]`, then `[&#39;a1b0c0&#39;,&#39;a2b0c0&#39;]`, then `[&#39;a1b1c0&#39;,&#39;a1b2c0&#39;,&#39;a2b1c0&#39;,&#39;a2b2c0&#39;]`, and finally `[&#39;a1b1c1&#39;,&#39;a1b1c2&#39;,&#39;a1b2c1&#39;,&#39;a1b2c2&#39;,&#39;a2b1c1&#39;,&#39;a2b1c2&#39;,&#39;a2b2c1&#39;&#39;a2b2c2&#39;]`.\r\n\r\nThis solution keeps everything in memory, so in the general case (unlimited input string) it would be wiser to go with depth-first instead.\r\n\r\n\r\n","title":"Replacing String in Java to get all variations","body":"<p>What about this:</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\nimport java.util.Scanner;\n\npublic class Main {\n\npublic static void main(String[] args) throws Exception {\n    Scanner scanner = new Scanner(System.in);\n    System.out.println(&quot;Enter the key consisting of 5 characters:&quot;);\n    String input = scanner.next();\n\n    //find positions of '0' in input\n    List&lt;Integer&gt; varPositions = findVarPositions(input);\n\n    //create permutations\n    List&lt;String&gt; permutations = new ArrayList&lt;&gt;();\n    permutations.add(input);//AB0C0\n    for (int position : varPositions) {\n        permutations = permutateAtPosition(permutations, position);\n    }\n\n    //print permutations\n    for (String permutation : permutations) {\n        System.out.println(permutation.toUpperCase());\n    }\n}\n\nprivate static List&lt;Integer&gt; findVarPositions(String input) {\n    List&lt;Integer&gt; varPositions = new ArrayList&lt;&gt;();\n    int lastVarPosition = -1;\n    while ((lastVarPosition = input.indexOf('0', lastVarPosition + 1)) != -1) {\n        varPositions.add(lastVarPosition);\n    }\n    return varPositions;\n}\n\nprivate static List&lt;String&gt; permutateAtPosition(List&lt;String&gt; partialyPermutated, int position) {\n    List&lt;String&gt; result = new ArrayList&lt;&gt;();\n    char[] replacements = {'1', '2', '3', '4', '5'};\n    for (String item : partialyPermutated) {\n        for (int i = 0; i &lt; replacements.length; i++) {\n            String output = replaceCharAt(item, position, replacements[i]);\n            result.add(output);\n        }\n    }\n    return result;\n}\n\nprivate static String replaceCharAt(String input, int position, char replacement) {\n    //converting to char array, because there's no method like\n    //String.replaceAtPosition(position, char)\n    char[] charArray = input.toCharArray();\n    charArray[position] = replacement;\n    return new String(charArray);\n}\n\n}\n</code></pre>\n<p>It's not fixed to a number of variables.</p>\n<p>The idea is to extract positions of '0' and subsequently call the method <code>permutateAtPosition</code>, which takes a partially permutated list and permutates it by one more level.</p>\n<p>For &quot;a0b0c0&quot; and values 1-2 it would be <code>['a0b0c0']</code>, then <code>['a1b0c0','a2b0c0']</code>, then <code>['a1b1c0','a1b2c0','a2b1c0','a2b2c0']</code>, and finally <code>['a1b1c1','a1b1c2','a1b2c1','a1b2c2','a2b1c1','a2b1c2','a2b2c1''a2b2c2']</code>.</p>\n<p>This solution keeps everything in memory, so in the general case (unlimited input string) it would be wiser to go with depth-first instead.</p>\n"},{"tags":[],"owner":{"account_id":12635898,"reputation":66,"user_id":9185318,"display_name":"Joeri De Plecker"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1574547298,"creation_date":1574547298,"answer_id":59012774,"question_id":59011851,"body_markdown":"I&#39;ve got another solution for you.\r\nFirst step, getting the amount of variables:\r\n\r\n    int variableCount = 0;\r\n    for (int i = 0; i &lt; 5; i++) {\r\n        if (input.charAt(i) == &#39;0&#39;) {\r\n            variableCount++;\r\n        }\r\n    }\r\n\r\nThen calculating the amount of results we are expecting:\r\n\r\n    int countMax = (int)Math.pow(4,variableCount);\r\n\r\nLastly, count up in base 4. Pad the number with 0&#39;s and replace the original input 0&#39;s:\r\n\r\n    for (int i = 0; i &lt; countMax; i++) {\r\n        String paddedNumbers = format(&quot;%&quot; + variableCount + &quot;s&quot;,Integer.toString(i, 4)).replace(&quot; &quot;, &quot;0&quot;);\r\n        int replacedCount = 0;\r\n        char[] outputChars = input.toCharArray();\r\n        for (int j = 0; j &lt; 5; j++) {\r\n            if (input.charAt(j) == &#39;0&#39;) {\r\n                outputChars[j] = paddedNumbers.charAt(replacedCount);\r\n                replacedCount++;\r\n            }\r\n        }\r\n        System.out.println(outputChars);\r\n    }","title":"Replacing String in Java to get all variations","body":"<p>I've got another solution for you.\nFirst step, getting the amount of variables:</p>\n\n<pre><code>int variableCount = 0;\nfor (int i = 0; i &lt; 5; i++) {\n    if (input.charAt(i) == '0') {\n        variableCount++;\n    }\n}\n</code></pre>\n\n<p>Then calculating the amount of results we are expecting:</p>\n\n<pre><code>int countMax = (int)Math.pow(4,variableCount);\n</code></pre>\n\n<p>Lastly, count up in base 4. Pad the number with 0's and replace the original input 0's:</p>\n\n<pre><code>for (int i = 0; i &lt; countMax; i++) {\n    String paddedNumbers = format(\"%\" + variableCount + \"s\",Integer.toString(i, 4)).replace(\" \", \"0\");\n    int replacedCount = 0;\n    char[] outputChars = input.toCharArray();\n    for (int j = 0; j &lt; 5; j++) {\n        if (input.charAt(j) == '0') {\n            outputChars[j] = paddedNumbers.charAt(replacedCount);\n            replacedCount++;\n        }\n    }\n    System.out.println(outputChars);\n}\n</code></pre>\n"}],"owner":{"account_id":13688996,"reputation":53,"user_id":9877339,"display_name":"Neelfinity"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":598,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":59012687,"answer_count":2,"score":0,"last_activity_date":1667927005,"creation_date":1574540240,"question_id":59011851,"body_markdown":"I&#39;m trying to get a printout of all variations of a certain String. For example, we have this input: AB0C0. The 0 in the 3rd and 5th spots should be treated as variables. The variable characters are 1, 2, and 3 to be placed in the spot of 0. This means there would be all possible variations of this input:\r\n\r\n 1. AB1C1\r\n 2. AB2C1\r\n 3. AB3C1\r\n 4. AB1C2\r\n 5. AB1C3\r\n 6. AB2C2\r\n 7. AB2C3\r\n 8. AB3C2\r\n 9. AB3C3\r\n\r\nThis is just an example. A 5-character long string is a place for 1 to 5 variables. The issue I&#39;m facing is, that it should generate all variations no matter how many variables are in the input in no matter in which place they are.\r\n\r\n    Scanner scanner = new Scanner (System.in);\r\n    System.out.println(&quot;Enter the key consisting of 5 characters:&quot;);\r\n    String input = scanner.next();\r\n    String strOutput1 = input.replaceFirst(&quot;0&quot;,&quot;1&quot;);\r\n    String strOutput1A = input.replace(&quot;0&quot;,&quot;1&quot;);\r\n    String strOutput2 = input.replaceFirst(&quot;0&quot;,&quot;2&quot;);\r\n    String strOutput3 = input.replaceFirst(&quot;0&quot;,&quot;3&quot;);\r\n    String strOutput4 = input.replaceFirst(&quot;0&quot;,&quot;4&quot;);\r\n    String strOutput5 = input.replaceFirst(&quot;0&quot;,&quot;5&quot;);\r\n    System.out.println(strOutput1.toUpperCase());\r\n    System.out.println(strOutput1A.toUpperCase());\r\n    System.out.println(strOutput2.toUpperCase());\r\n    System.out.println(strOutput3.toUpperCase());\r\n    System.out.println(strOutput4.toUpperCase());\r\n    System.out.println(strOutput5.toUpperCase());","title":"Replacing String in Java to get all variations","body":"<p>I'm trying to get a printout of all variations of a certain String. For example, we have this input: AB0C0. The 0 in the 3rd and 5th spots should be treated as variables. The variable characters are 1, 2, and 3 to be placed in the spot of 0. This means there would be all possible variations of this input:</p>\n<ol>\n<li>AB1C1</li>\n<li>AB2C1</li>\n<li>AB3C1</li>\n<li>AB1C2</li>\n<li>AB1C3</li>\n<li>AB2C2</li>\n<li>AB2C3</li>\n<li>AB3C2</li>\n<li>AB3C3</li>\n</ol>\n<p>This is just an example. A 5-character long string is a place for 1 to 5 variables. The issue I'm facing is, that it should generate all variations no matter how many variables are in the input in no matter in which place they are.</p>\n<pre><code>Scanner scanner = new Scanner (System.in);\nSystem.out.println(&quot;Enter the key consisting of 5 characters:&quot;);\nString input = scanner.next();\nString strOutput1 = input.replaceFirst(&quot;0&quot;,&quot;1&quot;);\nString strOutput1A = input.replace(&quot;0&quot;,&quot;1&quot;);\nString strOutput2 = input.replaceFirst(&quot;0&quot;,&quot;2&quot;);\nString strOutput3 = input.replaceFirst(&quot;0&quot;,&quot;3&quot;);\nString strOutput4 = input.replaceFirst(&quot;0&quot;,&quot;4&quot;);\nString strOutput5 = input.replaceFirst(&quot;0&quot;,&quot;5&quot;);\nSystem.out.println(strOutput1.toUpperCase());\nSystem.out.println(strOutput1A.toUpperCase());\nSystem.out.println(strOutput2.toUpperCase());\nSystem.out.println(strOutput3.toUpperCase());\nSystem.out.println(strOutput4.toUpperCase());\nSystem.out.println(strOutput5.toUpperCase());\n</code></pre>\n"},{"tags":["java","android","fragment","navbar","tablayout"],"answers":[{"tags":[],"owner":{"account_id":15845590,"reputation":331,"user_id":11432986,"display_name":"brando f"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667926975,"creation_date":1667926975,"answer_id":74364535,"question_id":74364494,"body_markdown":"This worked well and I&#39;m even thinking of ditching the navbar in the future because it was so much more complex.","title":"How to make a navbar in a fragment android studio","body":"<p>This worked well and I'm even thinking of ditching the navbar in the future because it was so much more complex.</p>\n"}],"owner":{"account_id":15845590,"reputation":331,"user_id":11432986,"display_name":"brando f"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667926975,"creation_date":1667926802,"question_id":74364494,"body_markdown":"I was running into some trouble making a navbar in a fragment that was loaded by a different navbar. \r\n\r\nBasically trying to solve the problem of having a menu in a fragment that was accessed by a navbar. \r\n\r\nThe easiest thing turned out to be creating a tablayout in the fragment. Here&#39;s the tutorial I followed: https://www.youtube.com/watch?v=pIKdHeOjYNw\r\n\r\nHere&#39;s the basic code:\r\n\r\n**Main Fragment**\r\n\r\n    public class HomeFragment extends Fragment {\r\n\r\n    private FragmentHomeBinding binding;\r\n\r\n    public View onCreateView(@NonNull LayoutInflater inflater,\r\n                             ViewGroup container, Bundle savedInstanceState) {\r\n        \r\n        binding = FragmentHomeBinding.inflate(inflater, container, false);\r\n        View root = binding.getRoot();\r\n\r\n        TabLayout tabLayout = root.findViewById(R.id.tabLayout);\r\n        ViewPager2 viewPager2 = root.findViewById(R.id.viewPagerHomeScreen);\r\n        ViewPagerAdapter viewPagerAdapter = new ViewPagerAdapter(this);\r\n        viewPager2.setAdapter(viewPagerAdapter);\r\n\r\n        tabLayout.addOnTabSelectedListener(new TabLayout.OnTabSelectedListener() {\r\n            @Override\r\n            public void onTabSelected(TabLayout.Tab tab) {\r\n                viewPager2.setCurrentItem(tab.getPosition());\r\n            }\r\n\r\n            @Override\r\n            public void onTabUnselected(TabLayout.Tab tab) {\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onTabReselected(TabLayout.Tab tab) {\r\n\r\n            }\r\n        });\r\n\r\n        return root;\r\n    }\r\n\r\n    @Override\r\n    public void onDestroyView() {\r\n        super.onDestroyView();\r\n        binding = null;\r\n    }\r\n\r\n    private class ViewPagerAdapter extends FragmentStateAdapter {\r\n\r\n\r\n        public ViewPagerAdapter(@NonNull Fragment fragment) {\r\n            super(fragment);\r\n        }\r\n\r\n        @NonNull\r\n        @Override\r\n        public Fragment createFragment(int position) {\r\n            switch (position){\r\n                case 0 :\r\n                    return new HomeScreenMembership();\r\n                case 1 :\r\n                    return new HomeScreenCreatedClubs();\r\n                default :\r\n                    return new HomeScreenMembership();\r\n            }\r\n        }\r\n\r\n        @Override\r\n        public int getItemCount() {\r\n            return 2;\r\n        }\r\n    }\r\n\r\n\r\n**Main Fragment XMl**\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.ui.home.HomeFragment&quot;&gt;\r\n\r\n    &lt;com.google.android.material.tabs.TabLayout\r\n        android:id=&quot;@+id/tabLayout&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\r\n\r\n        &lt;com.google.android.material.tabs.TabItem\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;@string/membership_tab&quot; /&gt;\r\n\r\n        &lt;com.google.android.material.tabs.TabItem\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;@string/created_clubs_tab&quot; /&gt;\r\n\r\n\r\n    &lt;/com.google.android.material.tabs.TabLayout&gt;\r\n\r\n\r\n    &lt;androidx.viewpager2.widget.ViewPager2\r\n        android:id=&quot;@+id/viewPagerHomeScreen&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;0dp&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/tabLayout&quot; /&gt;\r\n\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```\r\n\r\n**One of the Fragments For One Of the Tabs**\r\n(the rest were almost identical)\r\n\r\n```\r\npackage com.freedommuskrats.clubbub.ui.home;\r\n\r\nimport android.os.Bundle;\r\n\r\nimport androidx.fragment.app.Fragment;\r\n\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\n\r\nimport com.freedommuskrats.clubbub.R;\r\n\r\n\r\npublic class HomeScreenCreatedClubs extends Fragment {\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        // Inflate the layout for this fragment\r\n        return inflater.inflate(R.layout.fragment_home_screen_created_clubs, container, false);\r\n    }\r\n}\r\n```\r\n\r\n**XML for that fragment**\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;FrameLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.ui.home.HomeScreenCreatedClubs&quot;&gt;\r\n\r\n    &lt;!-- TODO: Update blank fragment layout --&gt;\r\n    &lt;TextView\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:text=&quot;Created&quot; /&gt;\r\n\r\n&lt;/FrameLayout&gt;\r\n```\r\n\r\n\r\n","title":"How to make a navbar in a fragment android studio","body":"<p>I was running into some trouble making a navbar in a fragment that was loaded by a different navbar.</p>\n<p>Basically trying to solve the problem of having a menu in a fragment that was accessed by a navbar.</p>\n<p>The easiest thing turned out to be creating a tablayout in the fragment. Here's the tutorial I followed: <a href=\"https://www.youtube.com/watch?v=pIKdHeOjYNw\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=pIKdHeOjYNw</a></p>\n<p>Here's the basic code:</p>\n<p><strong>Main Fragment</strong></p>\n<pre><code>public class HomeFragment extends Fragment {\n\nprivate FragmentHomeBinding binding;\n\npublic View onCreateView(@NonNull LayoutInflater inflater,\n                         ViewGroup container, Bundle savedInstanceState) {\n    \n    binding = FragmentHomeBinding.inflate(inflater, container, false);\n    View root = binding.getRoot();\n\n    TabLayout tabLayout = root.findViewById(R.id.tabLayout);\n    ViewPager2 viewPager2 = root.findViewById(R.id.viewPagerHomeScreen);\n    ViewPagerAdapter viewPagerAdapter = new ViewPagerAdapter(this);\n    viewPager2.setAdapter(viewPagerAdapter);\n\n    tabLayout.addOnTabSelectedListener(new TabLayout.OnTabSelectedListener() {\n        @Override\n        public void onTabSelected(TabLayout.Tab tab) {\n            viewPager2.setCurrentItem(tab.getPosition());\n        }\n\n        @Override\n        public void onTabUnselected(TabLayout.Tab tab) {\n\n        }\n\n        @Override\n        public void onTabReselected(TabLayout.Tab tab) {\n\n        }\n    });\n\n    return root;\n}\n\n@Override\npublic void onDestroyView() {\n    super.onDestroyView();\n    binding = null;\n}\n\nprivate class ViewPagerAdapter extends FragmentStateAdapter {\n\n\n    public ViewPagerAdapter(@NonNull Fragment fragment) {\n        super(fragment);\n    }\n\n    @NonNull\n    @Override\n    public Fragment createFragment(int position) {\n        switch (position){\n            case 0 :\n                return new HomeScreenMembership();\n            case 1 :\n                return new HomeScreenCreatedClubs();\n            default :\n                return new HomeScreenMembership();\n        }\n    }\n\n    @Override\n    public int getItemCount() {\n        return 2;\n    }\n}\n</code></pre>\n<p><strong>Main Fragment XMl</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.ui.home.HomeFragment&quot;&gt;\n\n    &lt;com.google.android.material.tabs.TabLayout\n        android:id=&quot;@+id/tabLayout&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\n\n        &lt;com.google.android.material.tabs.TabItem\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:text=&quot;@string/membership_tab&quot; /&gt;\n\n        &lt;com.google.android.material.tabs.TabItem\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:text=&quot;@string/created_clubs_tab&quot; /&gt;\n\n\n    &lt;/com.google.android.material.tabs.TabLayout&gt;\n\n\n    &lt;androidx.viewpager2.widget.ViewPager2\n        android:id=&quot;@+id/viewPagerHomeScreen&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;0dp&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/tabLayout&quot; /&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p><strong>One of the Fragments For One Of the Tabs</strong>\n(the rest were almost identical)</p>\n<pre><code>package com.freedommuskrats.clubbub.ui.home;\n\nimport android.os.Bundle;\n\nimport androidx.fragment.app.Fragment;\n\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\n\nimport com.freedommuskrats.clubbub.R;\n\n\npublic class HomeScreenCreatedClubs extends Fragment {\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n        // Inflate the layout for this fragment\n        return inflater.inflate(R.layout.fragment_home_screen_created_clubs, container, false);\n    }\n}\n</code></pre>\n<p><strong>XML for that fragment</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;FrameLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.ui.home.HomeScreenCreatedClubs&quot;&gt;\n\n    &lt;!-- TODO: Update blank fragment layout --&gt;\n    &lt;TextView\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:text=&quot;Created&quot; /&gt;\n\n&lt;/FrameLayout&gt;\n</code></pre>\n"},{"tags":["java","string"],"answers":[{"tags":[],"owner":{"account_id":2552656,"reputation":2755,"user_id":2216129,"accept_rate":58,"display_name":"Topological Sort"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1459185942,"creation_date":1459185942,"answer_id":36267411,"question_id":36266563,"body_markdown":"    for (int i = 0; i &lt; q.length(); i++) //as before, but a little simplified...\r\n        if (q.charAt(i) != q.charAt(i)) \r\n             locations.add(i);\r\n        \r\n    //Now we&#39;re going to create those variations.\r\n\r\n    toReturn.add(q);  //Start with the first string\r\n\r\n    for each location we found\r\n       Additions = a new empty list of Strings\r\n       for each element in toReturn\r\n          create a new String which is a copy of that element\r\n          alter its location-th character to match the corresponding char in qW\r\n          append it to Additions\r\n       append Additions to toReturn\r\n\r\nWhen this is done, toReturn should start with q and end with qW, and have all variations between.  ","title":"Creating all variations based on the differences of two Strings","body":"<pre><code>for (int i = 0; i &lt; q.length(); i++) //as before, but a little simplified...\n    if (q.charAt(i) != q.charAt(i)) \n         locations.add(i);\n\n//Now we're going to create those variations.\n\ntoReturn.add(q);  //Start with the first string\n\nfor each location we found\n   Additions = a new empty list of Strings\n   for each element in toReturn\n      create a new String which is a copy of that element\n      alter its location-th character to match the corresponding char in qW\n      append it to Additions\n   append Additions to toReturn\n</code></pre>\n\n<p>When this is done, toReturn should start with q and end with qW, and have all variations between.  </p>\n"},{"tags":[],"owner":{"account_id":3360461,"reputation":619,"user_id":2822371,"display_name":"abhaybhatia"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1459186284,"creation_date":1459186284,"answer_id":36267501,"question_id":36266563,"body_markdown":"Here is a recursive solution\r\n&lt;br/&gt;Time Complexity : O(n)\r\n\r\n\tpublic List&lt;String&gt; allVariants(String x, String y) {\r\n\t\tif ((x == null || x.isEmpty()) &amp;&amp; (y == null || y.isEmpty())) {\r\n\t\t\treturn new ArrayList&lt;String&gt;();\r\n\t\t}\r\n\t\tList&lt;String&gt; l = new ArrayList&lt;String&gt;();\r\n\t\tif (x == null || x.isEmpty()) {\r\n\t\t\tl.add(y);\r\n\t\t\treturn l;\r\n\t\t}\r\n\t\tif (y == null || y.isEmpty()) {\r\n\t\t\tl.add(x);\r\n\t\t\treturn l;\r\n\t\t}\r\n\t\tchar xc = x.charAt(0);\r\n\t\tchar yc = y.charAt(0);\r\n\t\tList&lt;String&gt; next = allVariants(x.substring(1), y.substring(1));\r\n\t\tif (next.isEmpty()) {\r\n\t\t\tl.add(xc + &quot;&quot;);\r\n\t\t\tif (xc != yc) {\r\n\t\t\t\tl.add(yc + &quot;&quot;);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tfor (String e : next) {\r\n\t\t\t\tl.add(xc + e);\r\n\t\t\t\tif (xc != yc) {\r\n\t\t\t\t\tl.add(yc + e);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn l;\r\n\t}\r\n\r\n\r\nTest Code:\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tList&lt;String&gt; l = new Test().allVariants(&quot;igis&quot;, &quot;eges&quot;);\r\n\t\tfor (String x : l) {\r\n\t\t\tSystem.out.println(x);\r\n\t\t}\r\n\t}\r\n\r\nOutput: \r\n\r\n    igis\r\n    egis\r\n    iges\r\n    eges","title":"Creating all variations based on the differences of two Strings","body":"<p>Here is a recursive solution\n<br/>Time Complexity : O(n)</p>\n\n<pre><code>public List&lt;String&gt; allVariants(String x, String y) {\n    if ((x == null || x.isEmpty()) &amp;&amp; (y == null || y.isEmpty())) {\n        return new ArrayList&lt;String&gt;();\n    }\n    List&lt;String&gt; l = new ArrayList&lt;String&gt;();\n    if (x == null || x.isEmpty()) {\n        l.add(y);\n        return l;\n    }\n    if (y == null || y.isEmpty()) {\n        l.add(x);\n        return l;\n    }\n    char xc = x.charAt(0);\n    char yc = y.charAt(0);\n    List&lt;String&gt; next = allVariants(x.substring(1), y.substring(1));\n    if (next.isEmpty()) {\n        l.add(xc + \"\");\n        if (xc != yc) {\n            l.add(yc + \"\");\n        }\n    } else {\n        for (String e : next) {\n            l.add(xc + e);\n            if (xc != yc) {\n                l.add(yc + e);\n            }\n        }\n    }\n    return l;\n}\n</code></pre>\n\n<p>Test Code:</p>\n\n<pre><code>public static void main(String[] args) {\n    List&lt;String&gt; l = new Test().allVariants(\"igis\", \"eges\");\n    for (String x : l) {\n        System.out.println(x);\n    }\n}\n</code></pre>\n\n<p>Output: </p>\n\n<pre><code>igis\negis\niges\neges\n</code></pre>\n"}],"owner":{"account_id":5864557,"reputation":524,"user_id":4619039,"accept_rate":93,"display_name":"Mr.Fireman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":457,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":36267501,"answer_count":2,"score":1,"last_activity_date":1667926951,"creation_date":1459182790,"question_id":36266563,"body_markdown":"I do have a function waiting two Strings. I would like to return with a list of words containing all of the possible variations, which can be created based on the differences.\r\n\r\n    getAllVersions(&#39;cso&#39;,&#39;cs&#39;); //--&gt; [cso, cs]\r\n    getAllVersions(&#39;eges&#39;,&#39;igis&#39;); //--&gt; [eges, igis, egis, iges]\r\n\r\nSo far I have created the function which counts the differences, and saves their locations. Do you have any idea how to continue?\r\n\r\n    public ArrayList&lt;String&gt; getAllVersions(String q, String qW) {\r\n                int differences = 0;\r\n                ArrayList&lt;Integer&gt; locations = new ArrayList&lt;&gt;();\r\n                ArrayList&lt;String&gt; toReturn = new ArrayList&lt;&gt;();\r\n\r\n                for (int i = 0; i &lt; q.length(); i++) {\r\n                    if (q.charAt(i) != q.charAt(i)) {\r\n                        differences++;\r\n                        locations.add(i);\r\n                    }\r\n                }  \r\n                       toReturn.add(q);\r\n                       toReturn.add(qW);\r\n                 for (int i = 0; i &lt; q.length(); i++) {\r\n                   for (int j = 0; j &lt; q.length(); j++) {\r\n                \r\n                   }\r\n                 }\r\n                return toReturn;\r\n            }\r\n        }\r\n","title":"Creating all variations based on the differences of two Strings","body":"<p>I do have a function waiting two Strings. I would like to return with a list of words containing all of the possible variations, which can be created based on the differences.</p>\n\n<pre><code>getAllVersions('cso','cs'); //--&gt; [cso, cs]\ngetAllVersions('eges','igis'); //--&gt; [eges, igis, egis, iges]\n</code></pre>\n\n<p>So far I have created the function which counts the differences, and saves their locations. Do you have any idea how to continue?</p>\n\n<pre><code>public ArrayList&lt;String&gt; getAllVersions(String q, String qW) {\n            int differences = 0;\n            ArrayList&lt;Integer&gt; locations = new ArrayList&lt;&gt;();\n            ArrayList&lt;String&gt; toReturn = new ArrayList&lt;&gt;();\n\n            for (int i = 0; i &lt; q.length(); i++) {\n                if (q.charAt(i) != q.charAt(i)) {\n                    differences++;\n                    locations.add(i);\n                }\n            }  \n                   toReturn.add(q);\n                   toReturn.add(qW);\n             for (int i = 0; i &lt; q.length(); i++) {\n               for (int j = 0; j &lt; q.length(); j++) {\n\n               }\n             }\n            return toReturn;\n        }\n    }\n</code></pre>\n"},{"tags":["java","swing","jtable","renderer"],"answers":[{"tags":[],"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1667926178,"creation_date":1264527897,"answer_id":2141377,"question_id":2139868,"body_markdown":"Use a custom [renderer][1]. Extending `JLabel` should give you ellipsis symbols to indicate truncation, but you can use `JPanel` and [this approach][2] to let clipping chop the result.\r\n\r\nAddendum: The [`WrapEditorKit`][3] that you cited works well and seems to do what you want. In your `LogRenderer`, I think you can extend `JEditorPane` and set the editor in the constructor. For example:\r\n\r\n    private static class LogRenderer\r\n        extends JEditorPane implements TableCellRenderer {\r\n\r\n        public LogRenderer() {\r\n            this.setEditorKit(new WrapEditorKit());\r\n        }\r\n\r\n        public Component getListCellRendererComponent(\r\n            JList list, Object value, int index,\r\n            boolean isSelected, boolean cellHasFocus) {\r\n            this.setText((String) value);\r\n            return this;\r\n        }\r\n\r\n        @Override\r\n        public Component getTableCellRendererComponent(\r\n            JTable table, Object value, boolean isSelected,\r\n            boolean hasFocus, int row, int column) {\r\n            this.setText((String) value);\r\n            return this;\r\n        }\r\n    }\r\n\r\n\r\n[1]:http://java.sun.com/docs/books/tutorial/uiswing/components/table.html#renderer\r\n[2]:https://stackoverflow.com/questions/2123841/javax-swing-timer-repeats-fine-but-actionlistener-doesnt-do-anything/2124507#2124507\r\n[3]:http://web.archive.org/web/20220203131713/java-sl.com/wrap.html\r\n[4]:http://java-sl.com/wrap.html\r\n[5]:http://java-sl.com/src/wrap_src.html","title":"cropping text lines in a jtextpane-based jtable cell renderer","body":"<p>Use a custom <a href=\"http://java.sun.com/docs/books/tutorial/uiswing/components/table.html#renderer\" rel=\"nofollow noreferrer\">renderer</a>. Extending <code>JLabel</code> should give you ellipsis symbols to indicate truncation, but you can use <code>JPanel</code> and <a href=\"https://stackoverflow.com/questions/2123841/javax-swing-timer-repeats-fine-but-actionlistener-doesnt-do-anything/2124507#2124507\">this approach</a> to let clipping chop the result.</p>\n<p>Addendum: The <a href=\"http://web.archive.org/web/20220203131713/java-sl.com/wrap.html\" rel=\"nofollow noreferrer\"><code>WrapEditorKit</code></a> that you cited works well and seems to do what you want. In your <code>LogRenderer</code>, I think you can extend <code>JEditorPane</code> and set the editor in the constructor. For example:</p>\n<pre><code>private static class LogRenderer\n    extends JEditorPane implements TableCellRenderer {\n\n    public LogRenderer() {\n        this.setEditorKit(new WrapEditorKit());\n    }\n\n    public Component getListCellRendererComponent(\n        JList list, Object value, int index,\n        boolean isSelected, boolean cellHasFocus) {\n        this.setText((String) value);\n        return this;\n    }\n\n    @Override\n    public Component getTableCellRendererComponent(\n        JTable table, Object value, boolean isSelected,\n        boolean hasFocus, int row, int column) {\n        this.setText((String) value);\n        return this;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":65605,"reputation":2500,"user_id":192958,"accept_rate":76,"display_name":"Asaf"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2885,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":2141377,"answer_count":1,"score":3,"last_activity_date":1667926178,"creation_date":1264514838,"question_id":2139868,"body_markdown":"i&#39;m using a JTextPane as a cell renderer in my table (so i can control color, font, size and links easily).\r\nthe problem is that lines get wrapped when the cell&#39;s get too small to contain the full text.\r\n\r\ni know the number of expected text lines in advance (or i can just count), so i set the row&#39;s height accordingly.&lt;br&gt;\r\n\r\nhow do i get the lines to crop (visually! i.e. in the middle of a letter) at the cell end?\r\n\r\nthanks, asaf :-)\r\n&lt;p&gt;\r\n**more info:** i&#39;ve tried two solutions i found on the net. one that involves [setting my own EditroKit][1] \r\n  [1]: http://java-sl.com/wrap.html\r\n. the other is listed below, and involves overriding of setSize().&lt;br&gt;\r\nalas, none worked...\r\n\r\nhere is my renderer (apologies for messed up indentation...):\r\n\r\n    package textTable;\r\n    import java.awt.BorderLayout;\r\n    import java.awt.Component;\r\n    import java.awt.Dimension;\r\n    import java.awt.FontMetrics;\r\n    import java.awt.Insets;\r\n\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JTable;\r\n    import javax.swing.JTextPane;\r\n    import javax.swing.table.TableCellRenderer;\r\n    import javax.swing.text.BadLocationException;\r\n    import javax.swing.text.SimpleAttributeSet;\r\n    import javax.swing.text.StyleConstants;\r\n    import javax.swing.text.StyledDocument;\r\n\r\n    public class LogRenderer extends JPanel implements TableCellRenderer {\r\n    \tstatic class NoWrapTextPane extends JTextPane {\r\n    \t\tpublic NoWrapTextPane () {\r\n    \t\t\tsuper();\r\n    \t\t}\r\n    \t\t@Override\r\n    \t\tpublic boolean getScrollableTracksViewportWidth() {\r\n    \t\t\treturn false;\r\n    \t\t}\r\n    \t\t@Override\r\n    \t\tpublic void setSize(Dimension d) {\r\n    \t\t\tif(d.width &lt; getParent().getSize().width) {\r\n    \t\t\t\td.width = getParent().getSize().width;\r\n    \t\t\t}\r\n    \t\t\tsuper.setSize(d);\r\n    \t\t}\r\n    \t}\r\n\t\r\n    \tprivate JTextPane textPane = new NoWrapTextPane();//JTextPane();\r\n    \tprivate StyledDocument doc = textPane.getStyledDocument();\r\n    \tprivate SimpleAttributeSet attr = new SimpleAttributeSet();\r\n    \tprivate FontMetrics fontMetrics;\r\n    \t\r\n    \tpublic LogRenderer() {\r\n\t\ttextPane.setMargin(new Insets(0,0,0,0));\r\n    \t\t\r\n    \t\tfontMetrics = textPane.getFontMetrics(getFont());\r\n    \t\t\r\n    \t\tStyleConstants.setFontFamily(attr, &quot;monospaced&quot;);//&quot;Courier&quot;\r\n\t\t\r\n\t\tsetLayout(new BorderLayout());\r\n\t\tadd(textPane,BorderLayout.CENTER);\r\n\t}\r\n\t\r\n\tpublic Component getTableCellRendererComponent(JTable table,\r\n\t\t\tObject value, boolean isSelected, boolean hasFocus, int row,\r\n\t\t\tint column) {\r\n    \t\tString[] text;\r\n    \t\tif (value != null &amp;&amp; value instanceof String[]) {\r\n    \t\t\ttext = (String[]) value;\r\n    \t\t} else {\r\n    \t\t\ttext = null;\r\n    \t\t}\r\n    \t\ttry {\r\n    \t\t\tdoc.remove(0, doc.getLength());\r\n    \t\t\tif (text != null) {\r\n    \t\t\t\tint offset = 0;\r\n    \t\t\t\tfor (String line : text) {\r\n    \t\t\t\t\tdoc.insertString(offset, line+&quot;\\n&quot;, attr);\r\n    \t\t\t\t\toffset += (line == null ? 0 : line.length()) +1;\r\n    \t\t\t\t}\r\n    \t\t\t\tint preferredHeight = fontMetrics.getHeight() *     text.length;\r\n    \t\t\t\tif (preferredHeight != table.getRowHeight(row)) {\r\n    \t\t\t\t\tSystem.out.println(&quot;preferredHeight     &quot;+preferredHeight+&quot; = fontMetrics.getHeight() &quot;+fontMetrics.getHeight()+&quot; + text.length     &quot;+text.length);\r\n    \t\t\t\t    table.setRowHeight(row, preferredHeight);\r\n    \t\t\t\t} \r\n    \t\t\t}\r\n    \t\t} catch (BadLocationException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    //\t\ttextPane.setToolTipText(&quot;hi&quot;);\r\n    \t\treturn this;\r\n    \t}\t\r\n    }","title":"cropping text lines in a jtextpane-based jtable cell renderer","body":"<p>i'm using a JTextPane as a cell renderer in my table (so i can control color, font, size and links easily).\nthe problem is that lines get wrapped when the cell's get too small to contain the full text.</p>\n\n<p>i know the number of expected text lines in advance (or i can just count), so i set the row's height accordingly.<br></p>\n\n<p>how do i get the lines to crop (visually! i.e. in the middle of a letter) at the cell end?</p>\n\n<p>thanks, asaf :-)\n<p>\n<strong>more info:</strong> i've tried two solutions i found on the net. one that involves <a href=\"http://java-sl.com/wrap.html\" rel=\"nofollow noreferrer\">setting my own EditroKit</a> \n. the other is listed below, and involves overriding of setSize().<br>\nalas, none worked...</p>\n\n<p>here is my renderer (apologies for messed up indentation...):</p>\n\n<pre><code>package textTable;\nimport java.awt.BorderLayout;\nimport java.awt.Component;\nimport java.awt.Dimension;\nimport java.awt.FontMetrics;\nimport java.awt.Insets;\n\nimport javax.swing.JPanel;\nimport javax.swing.JTable;\nimport javax.swing.JTextPane;\nimport javax.swing.table.TableCellRenderer;\nimport javax.swing.text.BadLocationException;\nimport javax.swing.text.SimpleAttributeSet;\nimport javax.swing.text.StyleConstants;\nimport javax.swing.text.StyledDocument;\n\npublic class LogRenderer extends JPanel implements TableCellRenderer {\n    static class NoWrapTextPane extends JTextPane {\n        public NoWrapTextPane () {\n            super();\n        }\n        @Override\n        public boolean getScrollableTracksViewportWidth() {\n            return false;\n        }\n        @Override\n        public void setSize(Dimension d) {\n            if(d.width &lt; getParent().getSize().width) {\n                d.width = getParent().getSize().width;\n            }\n            super.setSize(d);\n        }\n    }\n\n    private JTextPane textPane = new NoWrapTextPane();//JTextPane();\n    private StyledDocument doc = textPane.getStyledDocument();\n    private SimpleAttributeSet attr = new SimpleAttributeSet();\n    private FontMetrics fontMetrics;\n\n    public LogRenderer() {\n    textPane.setMargin(new Insets(0,0,0,0));\n\n        fontMetrics = textPane.getFontMetrics(getFont());\n\n        StyleConstants.setFontFamily(attr, \"monospaced\");//\"Courier\"\n\n    setLayout(new BorderLayout());\n    add(textPane,BorderLayout.CENTER);\n}\n\npublic Component getTableCellRendererComponent(JTable table,\n        Object value, boolean isSelected, boolean hasFocus, int row,\n        int column) {\n        String[] text;\n        if (value != null &amp;&amp; value instanceof String[]) {\n            text = (String[]) value;\n        } else {\n            text = null;\n        }\n        try {\n            doc.remove(0, doc.getLength());\n            if (text != null) {\n                int offset = 0;\n                for (String line : text) {\n                    doc.insertString(offset, line+\"\\n\", attr);\n                    offset += (line == null ? 0 : line.length()) +1;\n                }\n                int preferredHeight = fontMetrics.getHeight() *     text.length;\n                if (preferredHeight != table.getRowHeight(row)) {\n                    System.out.println(\"preferredHeight     \"+preferredHeight+\" = fontMetrics.getHeight() \"+fontMetrics.getHeight()+\" + text.length     \"+text.length);\n                    table.setRowHeight(row, preferredHeight);\n                } \n            }\n        } catch (BadLocationException e) {\n            e.printStackTrace();\n        }\n//      textPane.setToolTipText(\"hi\");\n        return this;\n    }   \n}\n</code></pre>\n"},{"tags":["java","azure","azure-functions","azure-blob-storage","azure-eventgrid"],"answers":[{"tags":[],"owner":{"account_id":14422052,"reputation":6211,"user_id":10417839,"display_name":"PramodValavala"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667926001,"creation_date":1667926001,"answer_id":74364299,"question_id":72100631,"body_markdown":"While you can [fetch trigger metadata][1], there is no way to get similar data from an input binding.\r\n\r\nYou would either have to directly use the Storage SDK for the output, or forward the Event Grid event as a queue message which has your own payload schema and use a second function which processes the queue message to bind to the filename present in the message payload.\r\n\r\n\r\n  [1]: https://learn.microsoft.com/en-us/azure/azure-functions/functions-reference-java?tabs=bash%2Cconsumption#metadata","title":"How to get the blob-name of a @BlobInput?","body":"<p>While you can <a href=\"https://learn.microsoft.com/en-us/azure/azure-functions/functions-reference-java?tabs=bash%2Cconsumption#metadata\" rel=\"nofollow noreferrer\">fetch trigger metadata</a>, there is no way to get similar data from an input binding.</p>\n<p>You would either have to directly use the Storage SDK for the output, or forward the Event Grid event as a queue message which has your own payload schema and use a second function which processes the queue message to bind to the filename present in the message payload.</p>\n"}],"owner":{"account_id":203967,"reputation":4179,"user_id":2393559,"accept_rate":55,"display_name":"Matthias G&#252;ntert"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":177,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667926001,"creation_date":1651586613,"question_id":72100631,"body_markdown":"Consider the Azure Function as shown below, that gets triggered upon blob upload. I&#39;d like to scale that image and write it back to another blob container. And finally, send a message to a service bus topic containing the status and a link to the scaled image. \r\n\r\nCurrently, I am just generating a random blob name. \r\n\r\nHow can I get the ***name*** of the blob read by the `@BlobInput`? The source name is encoded in the `EventSchema`, however, I don&#39;t know how to reuse a parsed/substringed version of `{data.url}` as a parameter to `@BlobOutput(..., path = &quot;xxx&quot;) ...`. \r\n\r\n\r\n```\r\npublic class ImageScaleFunction {\r\n\r\n    @FunctionName(&quot;ImageScaleFunction&quot;)\r\n    @StorageAccount(&quot;AzureWebJobsStorage&quot;)\r\n    public void run(\r\n            @EventGridTrigger(name = &quot;eventGridEvent&quot;) EventSchema event,\r\n            @BlobInput(name = &quot;input&quot;, dataType = &quot;binary&quot;, path = &quot;{data.url}&quot;) byte[] blobInput,\r\n            @BlobOutput(name = &quot;output&quot;, dataType = &quot;binary&quot;, path = &quot;image-output/{rand-guid}.jpg&quot;)  OutputBinding&lt;byte[]&gt; blobOutput,\r\n            @ServiceBusQueueOutput(name = &quot;message&quot;, dataType = &quot;string&quot;, queueName = &quot;my-cool-queue&quot;, connection = &quot;AzureServiceBusConnection&quot;) OutputBinding&lt;String&gt; message,\r\n            final ExecutionContext context) throws Exception {\r\n\r\n\t// .. \r\n\t\r\n\t}\r\n}\r\n```\r\n\r\nhttps://learn.microsoft.com/en-us/azure/event-grid/event-schema-blob-storage?tabs=event-grid-event-schema\r\n\r\n```\r\npublic class EventSchema {\r\n    public String id;\r\n    public String eventType;\r\n    public String subject;\r\n    public Date eventTime;\r\n    public String dataVersion;\r\n    public String topic;\r\n    public String metadataVersion;\r\n    public Map&lt;String, Object&gt; data;\r\n}\r\n```","title":"How to get the blob-name of a @BlobInput?","body":"<p>Consider the Azure Function as shown below, that gets triggered upon blob upload. I'd like to scale that image and write it back to another blob container. And finally, send a message to a service bus topic containing the status and a link to the scaled image.</p>\n<p>Currently, I am just generating a random blob name.</p>\n<p>How can I get the <em><strong>name</strong></em> of the blob read by the <code>@BlobInput</code>? The source name is encoded in the <code>EventSchema</code>, however, I don't know how to reuse a parsed/substringed version of <code>{data.url}</code> as a parameter to <code>@BlobOutput(..., path = &quot;xxx&quot;) ...</code>.</p>\n<pre><code>public class ImageScaleFunction {\n\n    @FunctionName(&quot;ImageScaleFunction&quot;)\n    @StorageAccount(&quot;AzureWebJobsStorage&quot;)\n    public void run(\n            @EventGridTrigger(name = &quot;eventGridEvent&quot;) EventSchema event,\n            @BlobInput(name = &quot;input&quot;, dataType = &quot;binary&quot;, path = &quot;{data.url}&quot;) byte[] blobInput,\n            @BlobOutput(name = &quot;output&quot;, dataType = &quot;binary&quot;, path = &quot;image-output/{rand-guid}.jpg&quot;)  OutputBinding&lt;byte[]&gt; blobOutput,\n            @ServiceBusQueueOutput(name = &quot;message&quot;, dataType = &quot;string&quot;, queueName = &quot;my-cool-queue&quot;, connection = &quot;AzureServiceBusConnection&quot;) OutputBinding&lt;String&gt; message,\n            final ExecutionContext context) throws Exception {\n\n    // .. \n    \n    }\n}\n</code></pre>\n<p><a href=\"https://learn.microsoft.com/en-us/azure/event-grid/event-schema-blob-storage?tabs=event-grid-event-schema\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/azure/event-grid/event-schema-blob-storage?tabs=event-grid-event-schema</a></p>\n<pre><code>public class EventSchema {\n    public String id;\n    public String eventType;\n    public String subject;\n    public Date eventTime;\n    public String dataVersion;\n    public String topic;\n    public String metadataVersion;\n    public Map&lt;String, Object&gt; data;\n}\n</code></pre>\n"},{"tags":["java","libgdx","default"],"answers":[{"tags":[],"owner":{"account_id":7854366,"reputation":646,"user_id":5936778,"accept_rate":100,"display_name":"spacer GIF"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1667925539,"creation_date":1667925539,"answer_id":74364199,"question_id":32960443,"body_markdown":"**Note:** This answer applies only to the gdx-setup tool as of late 2022. The gdx-liftoff tool is similar but has a slightly less boneheaded configuration out of the box. Additionally, I would like to get some of libGDX&#39;s HTML backend reworked one day, as there is no point in the padding and it&#39;s applied unevenly, plus less obvious things like the way it creates a table for layout.\r\n\r\nGrey background\r\n===============\r\n\r\nThe background colour can be customised by changing `background: #222222` in `html/webapp/styles.css` to some other colour. Or apply it directly to the body in `index.html` and delete `styles.css` (plus the `link` to it) as it doesn&#39;t contain anything important once the superdev button has been removed.\r\n\r\nGrey border\r\n===========\r\n\r\nThe border around the game can be removed by editing `HtmlLauncher` like so:\r\n\r\n``` lang-java\r\n@Override\r\npublic GwtApplicationConfiguration getConfig () {\r\n  GwtApplicationConfiguration config = new GwtApplicationConfiguration(true);\r\n  config.padHorizontal = 0;\r\n  config.padVertical = 0;\r\n  return config;\r\n}\r\n```\r\n\r\nSeparating `GwtApplicationConfiguration` into a `config` variable brings it in line with the other launchers (desktop, Android, iOS) and setting the padding to 0 is self-explanatory. While we&#39;re here, passing `true` into the app config&#39;s constructor tells it to render at native resolution on high-DPI/&quot;retina&quot; displays instead of upscaling.\r\n\r\nRecompile button\r\n================\r\n\r\nOr the superdev button, as I call it. Just remove the `&lt;a class=&quot;superdev&quot;...` line from `html/webapp/index.html`. If you need access to it during development, it&#39;s recommended you add its link to your bookmark bar. Visibility of the bookmark bar can be toggled using Ctrl+Shift+B in Chrome and Firefox.\r\n\r\nLoad/splash screen\r\n==================\r\n\r\nYou&#39;re probably best referring to https://libgdx.com/wiki/html5-backend-and-gwt-specifics#changing-the-load-screen-progress-bar for this (which may not have existed when the question was asked). In short, `getPreloaderCallback()` and `adjustMeterPanel()` can be overridden in `HtmlLauncher`. I typically just overwrite `logo.png` after building instead of using the recommended method for changing the logo.\r\n\r\nOther changes\r\n=============\r\n\r\nThings you might want to change before a final release:\r\n\r\n- `styles.css` isn&#39;t very important beyond changing the background colour, as noted earlier.\r\n- In `index.html`, a comma should be added to between `device-width` and `initial-scale` for it to be valid HTML.\r\n- In `index.html`, applying `align=&quot;center&quot;` to a `div` is deprecated behaviour. Probably best remove that alignment. If you need it, apply via CSS instead.\r\n- In `index.html`, `handleMouseDown()` and `handleMouseUp()` are completely pointless, as far as I can see. I don&#39;t use them for my own projects and have had no complaints.\r\n- `html/build/dist/assets/assets.txt` references some files that may not be necessary. The default font (`arial` or `lsans`, depending on libGDX version) is only needed if you use it and the vertex/fragment shaders are only needed if you do 3D stuff, I believe. Removing these can remove load times ever so slightly, especially on HTTP/1.1 connections. But I don&#39;t have an automated way to remove those lines (except on Linux - `head -n -8`).\r\n- Setting an asset filter as seen at https://libgdx.com/wiki/html5-backend-and-gwt-specifics#speeding-up-preload-process is an easy way to reduce your load times. I return `false` for music files to reduce load times greatly - it ends up streaming music instead of preloading it (if using `Music`, *not* `AssetManager`).","title":"Libgdx - Remove HTML greybackground/recompile button/ load splash","body":"<p><strong>Note:</strong> This answer applies only to the gdx-setup tool as of late 2022. The gdx-liftoff tool is similar but has a slightly less boneheaded configuration out of the box. Additionally, I would like to get some of libGDX's HTML backend reworked one day, as there is no point in the padding and it's applied unevenly, plus less obvious things like the way it creates a table for layout.</p>\n<h1>Grey background</h1>\n<p>The background colour can be customised by changing <code>background: #222222</code> in <code>html/webapp/styles.css</code> to some other colour. Or apply it directly to the body in <code>index.html</code> and delete <code>styles.css</code> (plus the <code>link</code> to it) as it doesn't contain anything important once the superdev button has been removed.</p>\n<h1>Grey border</h1>\n<p>The border around the game can be removed by editing <code>HtmlLauncher</code> like so:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic GwtApplicationConfiguration getConfig () {\n  GwtApplicationConfiguration config = new GwtApplicationConfiguration(true);\n  config.padHorizontal = 0;\n  config.padVertical = 0;\n  return config;\n}\n</code></pre>\n<p>Separating <code>GwtApplicationConfiguration</code> into a <code>config</code> variable brings it in line with the other launchers (desktop, Android, iOS) and setting the padding to 0 is self-explanatory. While we're here, passing <code>true</code> into the app config's constructor tells it to render at native resolution on high-DPI/&quot;retina&quot; displays instead of upscaling.</p>\n<h1>Recompile button</h1>\n<p>Or the superdev button, as I call it. Just remove the <code>&lt;a class=&quot;superdev&quot;...</code> line from <code>html/webapp/index.html</code>. If you need access to it during development, it's recommended you add its link to your bookmark bar. Visibility of the bookmark bar can be toggled using Ctrl+Shift+B in Chrome and Firefox.</p>\n<h1>Load/splash screen</h1>\n<p>You're probably best referring to <a href=\"https://libgdx.com/wiki/html5-backend-and-gwt-specifics#changing-the-load-screen-progress-bar\" rel=\"noreferrer\">https://libgdx.com/wiki/html5-backend-and-gwt-specifics#changing-the-load-screen-progress-bar</a> for this (which may not have existed when the question was asked). In short, <code>getPreloaderCallback()</code> and <code>adjustMeterPanel()</code> can be overridden in <code>HtmlLauncher</code>. I typically just overwrite <code>logo.png</code> after building instead of using the recommended method for changing the logo.</p>\n<h1>Other changes</h1>\n<p>Things you might want to change before a final release:</p>\n<ul>\n<li><code>styles.css</code> isn't very important beyond changing the background colour, as noted earlier.</li>\n<li>In <code>index.html</code>, a comma should be added to between <code>device-width</code> and <code>initial-scale</code> for it to be valid HTML.</li>\n<li>In <code>index.html</code>, applying <code>align=&quot;center&quot;</code> to a <code>div</code> is deprecated behaviour. Probably best remove that alignment. If you need it, apply via CSS instead.</li>\n<li>In <code>index.html</code>, <code>handleMouseDown()</code> and <code>handleMouseUp()</code> are completely pointless, as far as I can see. I don't use them for my own projects and have had no complaints.</li>\n<li><code>html/build/dist/assets/assets.txt</code> references some files that may not be necessary. The default font (<code>arial</code> or <code>lsans</code>, depending on libGDX version) is only needed if you use it and the vertex/fragment shaders are only needed if you do 3D stuff, I believe. Removing these can remove load times ever so slightly, especially on HTTP/1.1 connections. But I don't have an automated way to remove those lines (except on Linux - <code>head -n -8</code>).</li>\n<li>Setting an asset filter as seen at <a href=\"https://libgdx.com/wiki/html5-backend-and-gwt-specifics#speeding-up-preload-process\" rel=\"noreferrer\">https://libgdx.com/wiki/html5-backend-and-gwt-specifics#speeding-up-preload-process</a> is an easy way to reduce your load times. I return <code>false</code> for music files to reduce load times greatly - it ends up streaming music instead of preloading it (if using <code>Music</code>, <em>not</em> <code>AssetManager</code>).</li>\n</ul>\n"}],"owner":{"account_id":4521895,"reputation":83,"user_id":3674819,"accept_rate":25,"display_name":"Dreamtime"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":456,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1667925539,"creation_date":1444095924,"question_id":32960443,"body_markdown":"What is the proper way to remove the grey background that covers the entire screen, the recompile button, and the default libGDX load and/or load splash in a HTML build of my game?\r\n\r\n\r\n\r\n","title":"Libgdx - Remove HTML greybackground/recompile button/ load splash","body":"<p>What is the proper way to remove the grey background that covers the entire screen, the recompile button, and the default libGDX load and/or load splash in a HTML build of my game?</p>\n"},{"tags":["java","gradle","build.gradle"],"comments":[{"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"score":1,"creation_date":1667501077,"post_id":74308054,"comment_id":131187589,"body_markdown":"Theres only one settings.gradle. See https://docs.gradle.org/current/userguide/multi_project_builds.html","body":"Theres only one settings.gradle. See <a href=\"https://docs.gradle.org/current/userguide/multi_project_builds.html\" rel=\"nofollow noreferrer\">docs.gradle.org/current/userguide/multi_project_builds.html</a>"},{"owner":{"account_id":2205877,"reputation":601,"user_id":1949114,"accept_rate":75,"display_name":"Diego Nieto"},"score":0,"creation_date":1667503167,"post_id":74308054,"comment_id":131188183,"body_markdown":"Removing settings.gradle for individual projects ends also with an error:\n\nExecution failed for task &#39;:util:bootJar&#39;.\n&gt; Error while evaluating property &#39;mainClass&#39; of task &#39;:util:bootJar&#39;\n   &gt; Failed to calculate the value of task &#39;:util:bootJar&#39; property &#39;mainClass&#39;.\n      &gt; Main class name has not been configured and it could not be resolved","body":"Removing settings.gradle for individual projects ends also with an error:  Execution failed for task &#39;:util:bootJar&#39;. &gt; Error while evaluating property &#39;mainClass&#39; of task &#39;:util:bootJar&#39;    &gt; Failed to calculate the value of task &#39;:util:bootJar&#39; property &#39;mainClass&#39;.       &gt; Main class name has not been configured and it could not be resolved"},{"owner":{"account_id":9291622,"reputation":11361,"user_id":6899896,"display_name":"M.Ricciuti"},"score":0,"creation_date":1667512303,"post_id":74308054,"comment_id":131190704,"body_markdown":"`org.springframework.boot` plugin should be applied only to projects that contain a Springboot application (project containing a @SpringbootApplication annoted main class).  Is your `util` subproject really a Springboot app project, or just a utility java library project?","body":"<code>org.springframework.boot</code> plugin should be applied only to projects that contain a Springboot application (project containing a @SpringbootApplication annoted main class).  Is your <code>util</code> subproject really a Springboot app project, or just a utility java library project?"},{"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"score":1,"creation_date":1667540843,"post_id":74308054,"comment_id":131194972,"body_markdown":"There are literally hundreds of examples for spring boot Gradle multi module projects, including one from spring team https://spring.io/guides/gs/multi-module/","body":"There are literally hundreds of examples for spring boot Gradle multi module projects, including one from spring team <a href=\"https://spring.io/guides/gs/multi-module/\" rel=\"nofollow noreferrer\">spring.io/guides/gs/multi-module</a>"},{"owner":{"account_id":2205877,"reputation":601,"user_id":1949114,"accept_rate":75,"display_name":"Diego Nieto"},"score":0,"creation_date":1667747000,"post_id":74308054,"comment_id":131235526,"body_markdown":"@M.Ricciuti is just a library project.","body":"@M.Ricciuti is just a library project."}],"answers":[{"tags":[],"owner":{"account_id":2205877,"reputation":601,"user_id":1949114,"accept_rate":75,"display_name":"Diego Nieto"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667925428,"creation_date":1667925428,"answer_id":74364178,"question_id":74308054,"body_markdown":"I missed some configurations and removed unnecessary libraries from the **build.gradle** file followed this basic [tutorial][1].\r\n\r\n\r\n  [1]: https://spring.io/guides/gs/multi-module","title":"Gradle including project as dependency not working","body":"<p>I missed some configurations and removed unnecessary libraries from the <strong>build.gradle</strong> file followed this basic <a href=\"https://spring.io/guides/gs/multi-module\" rel=\"nofollow noreferrer\">tutorial</a>.</p>\n"}],"owner":{"account_id":2205877,"reputation":601,"user_id":1949114,"accept_rate":75,"display_name":"Diego Nieto"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":953,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1667925428,"creation_date":1667500728,"question_id":74308054,"body_markdown":"I&#39;m trying to create a Gradle project by using multiple subprojects, **util** depends on **api** project, both projects reside under the same directory:\r\n\r\n     mainFolder\r\n       ...\r\n     api\r\n        src\r\n          ...\r\n        build.gradle\r\n     util\r\n        src\r\n          ...\r\n        build.gradle\r\n     settings.gradle\r\n\r\n\r\n**util project build.gradle**\r\n\r\n```\r\nplugins {\r\n\tid &#39;org.springframework.boot&#39; version &#39;2.7.5&#39;\r\n\tid &#39;io.spring.dependency-management&#39; version &#39;1.0.15.RELEASE&#39;\r\n\tid &#39;java&#39;\r\n}\r\n\r\ngroup = &#39;my.package.util&#39;\r\nversion = &#39;0.0.1-SNAPSHOT&#39;\r\nsourceCompatibility = &#39;11&#39;\r\n\r\nconfigurations {\r\n\tcompileOnly {\r\n\t\textendsFrom annotationProcessor\r\n\t}\r\n}\r\n\r\nrepositories {\r\n\tmavenCentral()\r\n}\r\n\r\next {\r\n\tspringBootVersion = &#39;2.7.5&#39;\r\n}\r\n\r\ndependencies {\r\n\timplementation platform(&quot;org.springframework.boot:spring-boot-dependencies:${springBootVersion}&quot;)\r\n\r\n\timplementation project(&#39;:api&#39;)\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-webflux&#39;\r\n\tcompileOnly &#39;org.projectlombok:lombok&#39;\r\n\tannotationProcessor &#39;org.projectlombok:lombok&#39;\r\n\ttestImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n\ttestImplementation &#39;io.projectreactor:reactor-test&#39;\r\n}\r\n\r\ntasks.named(&#39;test&#39;) {\r\n\tuseJUnitPlatform()\r\n}\r\n\r\n```\r\n\r\n**util project settings.gradle**\r\n\r\n```\r\nrootProject.name = &#39;util&#39;\r\n```\r\n\r\n**api project build.gradle**\r\n\r\n```\r\nplugins {\r\n\tid &#39;org.springframework.boot&#39; version &#39;2.7.5&#39;\r\n\tid &#39;io.spring.dependency-management&#39; version &#39;1.0.15.RELEASE&#39;\r\n\tid &#39;java&#39;\r\n}\r\n\r\ngroup = &#39;my.package.api&#39;\r\nversion = &#39;0.0.1-SNAPSHOT&#39;\r\nsourceCompatibility = &#39;11&#39;\r\n\r\nconfigurations {\r\n\tcompileOnly {\r\n\t\textendsFrom annotationProcessor\r\n\t}\r\n}\r\n\r\nrepositories {\r\n\tmavenCentral()\r\n}\r\n\r\next {\r\n\tspringBootVersion = &#39;2.7.5&#39;\r\n}\r\n\r\ndependencies {\r\n\timplementation platform(&quot;org.springframework.boot:spring-boot-dependencies:${springBootVersion}&quot;)\r\n\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-webflux&#39;\r\n\tcompileOnly &#39;org.projectlombok:lombok&#39;\r\n\tannotationProcessor &#39;org.projectlombok:lombok&#39;\r\n\ttestImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n\ttestImplementation &#39;io.projectreactor:reactor-test&#39;\r\n}\r\n\r\ntasks.named(&#39;test&#39;) {\r\n\tuseJUnitPlatform()\r\n}\r\n\r\n```\r\n\r\n**api project gradle.settings**\r\n\r\n```\r\nrootProject.name = &#39;api&#39;\r\n\r\n```\r\n\r\n**main project gradle.settings**\r\n```\r\ninclude &#39;:api&#39;\r\ninclude &#39;:util&#39;\r\n```\r\n\r\nBut after running gradle build I&#39;m always getting this error message:\r\n\r\n```\r\nA problem occurred evaluating root project &#39;util&#39;.\r\nProject with path &#39;:api&#39; could not be found in root project &#39;util&#39;.\r\n```\r\n\r\nI&#39;ll appreciate any hint, thanks in advance.\r\n","title":"Gradle including project as dependency not working","body":"<p>I'm trying to create a Gradle project by using multiple subprojects, <strong>util</strong> depends on <strong>api</strong> project, both projects reside under the same directory:</p>\n<pre><code> mainFolder\n   ...\n api\n    src\n      ...\n    build.gradle\n util\n    src\n      ...\n    build.gradle\n settings.gradle\n</code></pre>\n<p><strong>util project build.gradle</strong></p>\n<pre><code>plugins {\n    id 'org.springframework.boot' version '2.7.5'\n    id 'io.spring.dependency-management' version '1.0.15.RELEASE'\n    id 'java'\n}\n\ngroup = 'my.package.util'\nversion = '0.0.1-SNAPSHOT'\nsourceCompatibility = '11'\n\nconfigurations {\n    compileOnly {\n        extendsFrom annotationProcessor\n    }\n}\n\nrepositories {\n    mavenCentral()\n}\n\next {\n    springBootVersion = '2.7.5'\n}\n\ndependencies {\n    implementation platform(&quot;org.springframework.boot:spring-boot-dependencies:${springBootVersion}&quot;)\n\n    implementation project(':api')\n    implementation 'org.springframework.boot:spring-boot-starter-webflux'\n    compileOnly 'org.projectlombok:lombok'\n    annotationProcessor 'org.projectlombok:lombok'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n    testImplementation 'io.projectreactor:reactor-test'\n}\n\ntasks.named('test') {\n    useJUnitPlatform()\n}\n\n</code></pre>\n<p><strong>util project settings.gradle</strong></p>\n<pre><code>rootProject.name = 'util'\n</code></pre>\n<p><strong>api project build.gradle</strong></p>\n<pre><code>plugins {\n    id 'org.springframework.boot' version '2.7.5'\n    id 'io.spring.dependency-management' version '1.0.15.RELEASE'\n    id 'java'\n}\n\ngroup = 'my.package.api'\nversion = '0.0.1-SNAPSHOT'\nsourceCompatibility = '11'\n\nconfigurations {\n    compileOnly {\n        extendsFrom annotationProcessor\n    }\n}\n\nrepositories {\n    mavenCentral()\n}\n\next {\n    springBootVersion = '2.7.5'\n}\n\ndependencies {\n    implementation platform(&quot;org.springframework.boot:spring-boot-dependencies:${springBootVersion}&quot;)\n\n    implementation 'org.springframework.boot:spring-boot-starter-webflux'\n    compileOnly 'org.projectlombok:lombok'\n    annotationProcessor 'org.projectlombok:lombok'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n    testImplementation 'io.projectreactor:reactor-test'\n}\n\ntasks.named('test') {\n    useJUnitPlatform()\n}\n\n</code></pre>\n<p><strong>api project gradle.settings</strong></p>\n<pre><code>rootProject.name = 'api'\n\n</code></pre>\n<p><strong>main project gradle.settings</strong></p>\n<pre><code>include ':api'\ninclude ':util'\n</code></pre>\n<p>But after running gradle build I'm always getting this error message:</p>\n<pre><code>A problem occurred evaluating root project 'util'.\nProject with path ':api' could not be found in root project 'util'.\n</code></pre>\n<p>I'll appreciate any hint, thanks in advance.</p>\n"},{"tags":["java","xml","xml-parsing"],"comments":[{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":1,"creation_date":1667926112,"post_id":74364147,"comment_id":131282382,"body_markdown":"A regex is never a good solution for parsing XML. XML is too complex for several reasons, one of them is nesting. Out of these two options, I&#39;d go for `Document.getElementsByTagName`. However, both solutions will have issues with files that large. There is another option: use SAX or StAX parsing from a `Reader` or `InputStream. Then you won&#39;t have to hold the entire document in memory. See https://www.baeldung.com/java-sax-parser and https://www.baeldung.com/java-stax for more information.","body":"A regex is never a good solution for parsing XML. XML is too complex for several reasons, one of them is nesting. Out of these two options, I&#39;d go for <code>Document.getElementsByTagName</code>. However, both solutions will have issues with files that large. There is another option: use SAX or StAX parsing from a <code>Reader</code> or `InputStream. Then you won&#39;t have to hold the entire document in memory. See <a href=\"https://www.baeldung.com/java-sax-parser\" rel=\"nofollow noreferrer\">baeldung.com/java-sax-parser</a> and <a href=\"https://www.baeldung.com/java-stax\" rel=\"nofollow noreferrer\">baeldung.com/java-stax</a> for more information."},{"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"score":1,"creation_date":1667932771,"post_id":74364147,"comment_id":131284792,"body_markdown":"Correctness always comes before performance. You might succeed in writing a regex-based solution that works on one example file, but it will have bugs that show up when given other equally valid XML files. For a correct solution, you need to use an XML parser. Having said that, there are much better tools in the Java world than DOM.","body":"Correctness always comes before performance. You might succeed in writing a regex-based solution that works on one example file, but it will have bugs that show up when given other equally valid XML files. For a correct solution, you need to use an XML parser. Having said that, there are much better tools in the Java world than DOM."}],"owner":{"account_id":26869268,"reputation":1,"user_id":20451528,"display_name":"rohit"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667925344,"creation_date":1667925273,"question_id":74364147,"body_markdown":"Which approach is better in terms of space and time complexity to find count of list of xml element names from XML data.\r\nThe xml data will be of 2 GB.\r\nList of xml element names to be searched will be around 30.\r\n\r\napproach 1:\r\n\r\n```\r\n    DocumentBuilder db = dbf.newDocumentBuilder();\r\n    ByteArrayInputStream bis = new ByteArrayInputStream(xmlString.getBytes());\r\n    Document doc = db.parse(bis);\r\n\r\n    NodeList xList = doc.getElementsByTagName(&quot;xTag&quot;);\r\n```\r\n\r\napproach 2:\r\n\r\n```\r\n    Pattern pattern = Pattern.compile(regex, Pattern.DOTALL);\r\n    Matcher matcher = pattern.matcher(xmlString);\r\n    while (matcher.find())\r\n        count++;\r\n```\r\n\r\n```\r\n\r\nfor example :\r\n            &lt;x&gt;\r\n\t\t&lt;Element1&gt;\r\n\t\t   &lt;Employee&gt;\r\n\t\t\t  &lt;Name&gt;Name&lt;/Name&gt;\r\n\t\t\t  &lt;BirthDate&gt;1968-01-01&lt;/BirthDate&gt;\r\n\t\t\t  &lt;Gender&gt;female&lt;/Gender&gt;\r\n\t\t   &lt;/Employee&gt;\r\n\t\t   &lt;Element2 Type=&quot;D&quot;&gt;\r\n\t\t\t  &lt;Element3&gt;1000.00&lt;/Element3&gt;\r\n\t\t   &lt;/Element2&gt;\r\n\t\t   &lt;Services Type=&quot;K&quot;&gt;\r\n\t\t\t  &lt;Element4&gt;1000.00&lt;/Element4&gt;\r\n\t\t   &lt;/Services&gt;\r\n\t\t&lt;/Element1&gt;\r\n\t\t&lt;Element1&gt;\r\n\t\t   &lt;Employee&gt;\r\n\t\t\t  &lt;Name&gt;Name&lt;/Name&gt;\r\n\t\t\t  &lt;BirthDate&gt;1968-01-01&lt;/BirthDate&gt;\r\n\t\t\t  &lt;Gender&gt;female&lt;/Gender&gt;\r\n\t\t   &lt;/Employee&gt;\r\n\t\t   &lt;Element2 Type=&quot;D&quot;&gt;\r\n\t\t\t  &lt;Element3&gt;1000.00&lt;/Element3&gt;\r\n\t\t   &lt;/Element2&gt;\r\n\t\t&lt;/Element1&gt;\r\n            &lt;/x&gt;\r\n\r\ncount output :\r\n\tElement1 - 2\r\n\tEmployee - 2\r\n\tElement2 - 2\r\n\tServices - 1\r\n```\r\n\r\n\r\n\t\r\n\r\nCould you please suggest which approach is better ?\r\norg.w3c.dom.Document.getElementsByTagName or Regex pattern matcher","title":"XML org.w3c.dom.Document.getElementsByTagName vs Regex pattern matcher","body":"<p>Which approach is better in terms of space and time complexity to find count of list of xml element names from XML data.\nThe xml data will be of 2 GB.\nList of xml element names to be searched will be around 30.</p>\n<p>approach 1:</p>\n<pre><code>    DocumentBuilder db = dbf.newDocumentBuilder();\n    ByteArrayInputStream bis = new ByteArrayInputStream(xmlString.getBytes());\n    Document doc = db.parse(bis);\n\n    NodeList xList = doc.getElementsByTagName(&quot;xTag&quot;);\n</code></pre>\n<p>approach 2:</p>\n<pre><code>    Pattern pattern = Pattern.compile(regex, Pattern.DOTALL);\n    Matcher matcher = pattern.matcher(xmlString);\n    while (matcher.find())\n        count++;\n</code></pre>\n<pre><code>\nfor example :\n            &lt;x&gt;\n        &lt;Element1&gt;\n           &lt;Employee&gt;\n              &lt;Name&gt;Name&lt;/Name&gt;\n              &lt;BirthDate&gt;1968-01-01&lt;/BirthDate&gt;\n              &lt;Gender&gt;female&lt;/Gender&gt;\n           &lt;/Employee&gt;\n           &lt;Element2 Type=&quot;D&quot;&gt;\n              &lt;Element3&gt;1000.00&lt;/Element3&gt;\n           &lt;/Element2&gt;\n           &lt;Services Type=&quot;K&quot;&gt;\n              &lt;Element4&gt;1000.00&lt;/Element4&gt;\n           &lt;/Services&gt;\n        &lt;/Element1&gt;\n        &lt;Element1&gt;\n           &lt;Employee&gt;\n              &lt;Name&gt;Name&lt;/Name&gt;\n              &lt;BirthDate&gt;1968-01-01&lt;/BirthDate&gt;\n              &lt;Gender&gt;female&lt;/Gender&gt;\n           &lt;/Employee&gt;\n           &lt;Element2 Type=&quot;D&quot;&gt;\n              &lt;Element3&gt;1000.00&lt;/Element3&gt;\n           &lt;/Element2&gt;\n        &lt;/Element1&gt;\n            &lt;/x&gt;\n\ncount output :\n    Element1 - 2\n    Employee - 2\n    Element2 - 2\n    Services - 1\n</code></pre>\n<p>Could you please suggest which approach is better ?\norg.w3c.dom.Document.getElementsByTagName or Regex pattern matcher</p>\n"},{"tags":["java"],"comments":[{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1667925074,"post_id":74364020,"comment_id":131281958,"body_markdown":"The code you posted does not compile because `System.out.println(&quot;Your word looks like this: &quot; + word);` will result in a compilation error because there is no variable called `word` in your code defined anywhere. Because the code doesn&#39;t compile I&#39;m not sure how you manage to get any result at all. Edit: You have now edited your question and I&#39;m not even sure what it is your asking. What specific problem is it you are facing? Simply asking &quot;Am I on the right track&quot; is a really broad question.","body":"The code you posted does not compile because <code>System.out.println(&quot;Your word looks like this: &quot; + word);</code> will result in a compilation error because there is no variable called <code>word</code> in your code defined anywhere. Because the code doesn&#39;t compile I&#39;m not sure how you manage to get any result at all. Edit: You have now edited your question and I&#39;m not even sure what it is your asking. What specific problem is it you are facing? Simply asking &quot;Am I on the right track&quot; is a really broad question."},{"owner":{"account_id":26869359,"reputation":19,"user_id":20451609,"display_name":"b-rad90"},"score":0,"creation_date":1667925211,"post_id":74364020,"comment_id":131282008,"body_markdown":"Oops. Forgot to edit that. Re-edited it now","body":"Oops. Forgot to edit that. Re-edited it now"},{"owner":{"account_id":26869359,"reputation":19,"user_id":20451609,"display_name":"b-rad90"},"score":0,"creation_date":1667925413,"post_id":74364020,"comment_id":131282086,"body_markdown":"ansArray[] is outputting a value of &#39;[C@3b6eb2ec&#39;. Why is the letter not being replaced when I set ansArray[j] = guess;?","body":"ansArray[] is outputting a value of &#39;[C@3b6eb2ec&#39;. Why is the letter not being replaced when I set ansArray[j] = guess;?"},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1667925517,"post_id":74364020,"comment_id":131282120,"body_markdown":"Use `Arrays#toString` before printing the array.","body":"Use <code>Arrays#toString</code> before printing the array."},{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1667925540,"post_id":74364020,"comment_id":131282131,"body_markdown":"See: [What&#39;s the simplest way to print a Java array?](https://stackoverflow.com/questions/409784/whats-the-simplest-way-to-print-a-java-array)","body":"See: <a href=\"https://stackoverflow.com/questions/409784/whats-the-simplest-way-to-print-a-java-array\">What&#39;s the simplest way to print a Java array?</a>"},{"owner":{"account_id":26869359,"reputation":19,"user_id":20451609,"display_name":"b-rad90"},"score":0,"creation_date":1667925633,"post_id":74364020,"comment_id":131282172,"body_markdown":"Array.toString worked. Can&#39;t believe it was that simple. Thank you","body":"Array.toString worked. Can&#39;t believe it was that simple. Thank you"}],"owner":{"account_id":26869359,"reputation":19,"user_id":20451609,"display_name":"b-rad90"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667925247,"creation_date":1667924712,"question_id":74364020,"body_markdown":"```\r\nimport java.io.*;\r\nimport java.util.*;\r\n\r\npublic class Hangman\r\n{\r\n\tpublic static void main(String[] args) throws IOException\r\n\t{\r\n\t\tScanner in;\r\n\t\tin = new Scanner(System.in);\r\n\t\tString secretWord = &quot;dinosaur&quot;;\r\n\t\tchar[] secretWordArray = new char[] {&#39;d&#39;, &#39;i&#39;, &#39;n&#39;, &#39;o&#39;, &#39;s&#39;, &#39;a&#39;, &#39;u&#39;, &#39;r&#39;};\r\n\t\tchar[] ansArray = new char[8];\r\n\t\tint lives = 6;\r\n\t\t\r\n\t\tSystem.out.println(&quot;Starting game...\\n\\n&quot;);\r\n\t\t\r\n\t\tSystem.out.println(&quot;Your secret word is: &quot;);\r\n\t\t//Displays the &#39;fillers&#39;: ******* \r\n\t\tfor(int i = 0; i&lt;secretWordArray.length; i++)\r\n\t\t{\r\n\t\t\tansArray[i] = &#39;*&#39;;\r\n\t\t}\r\n\t\t\r\n\t\twhile(lives&gt;0)\r\n\t\t{\r\n\t\t\tSystem.out.println(&quot;\\nInput a letter: &quot;);\r\n\t\t\tString guessString = in.nextLine();\r\n\t\t\tchar guess = guessString.charAt(0);\r\n\t\t\t\r\n\t\t\tif(secretWord.contains(guessString))\r\n\t\t\t{\r\n\t\t\t\tfor(int j = 0; j&lt;secretWordArray.length; j++) \r\n\t\t\t\t{\r\n\t\t\t\t\tif(secretWordArray[j] == guess)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tansArray[j] = guess;\r\n\t\t\t\t\t\tSystem.out.println(&quot;The word contains the letter &quot; + guess + &quot;!&quot;);\r\n\t\t\t\t\t\tSystem.out.println(&quot;Your word looks like this: &quot; + ansArray);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t} //end for-loop \r\n\t\t\t} //end if (guess correct statement)\r\n\t\t\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tSystem.out.println(&quot;The word does not contain the letter &quot; + guess + &quot;.\\nYou have &quot; + lives + &quot; lives left.&quot;);\r\n\t\t\t\tSystem.out.println(&quot;Your word looks like this: &quot; + ansArray);\r\n\t\t\t\tlives--;\r\n\t\t\t}\r\n\t\t} //end while (lives loop)\r\n\t\t\r\n\t} //end main\r\n} //end class\r\n```\r\n\r\n\r\nCoding a simple hangman game for CS101 final project. Stuck on what to do next.\r\n\r\nI used a char[] secretWordArray to breakdown the word into each letter. The char[] ansArray is a blank array which at the start of the program, is equal to * * * * * * * . If the user guesses &#39;o&#39;, ansArray is changed to * * * o * * * *\r\n\r\nI&#39;m not really sure if there&#39;s a better alternative than using a char[] arr to go about this? Or if my thought process is right and I&#39;m just coding it wrong? Help pls","title":"java hangman game -- replacing a specific letter if user guessed correctly","body":"<pre><code>import java.io.*;\nimport java.util.*;\n\npublic class Hangman\n{\n    public static void main(String[] args) throws IOException\n    {\n        Scanner in;\n        in = new Scanner(System.in);\n        String secretWord = &quot;dinosaur&quot;;\n        char[] secretWordArray = new char[] {'d', 'i', 'n', 'o', 's', 'a', 'u', 'r'};\n        char[] ansArray = new char[8];\n        int lives = 6;\n        \n        System.out.println(&quot;Starting game...\\n\\n&quot;);\n        \n        System.out.println(&quot;Your secret word is: &quot;);\n        //Displays the 'fillers': ******* \n        for(int i = 0; i&lt;secretWordArray.length; i++)\n        {\n            ansArray[i] = '*';\n        }\n        \n        while(lives&gt;0)\n        {\n            System.out.println(&quot;\\nInput a letter: &quot;);\n            String guessString = in.nextLine();\n            char guess = guessString.charAt(0);\n            \n            if(secretWord.contains(guessString))\n            {\n                for(int j = 0; j&lt;secretWordArray.length; j++) \n                {\n                    if(secretWordArray[j] == guess)\n                    {\n                        ansArray[j] = guess;\n                        System.out.println(&quot;The word contains the letter &quot; + guess + &quot;!&quot;);\n                        System.out.println(&quot;Your word looks like this: &quot; + ansArray);\n                        \n                    }\n                } //end for-loop \n            } //end if (guess correct statement)\n        \n            else\n            {\n                System.out.println(&quot;The word does not contain the letter &quot; + guess + &quot;.\\nYou have &quot; + lives + &quot; lives left.&quot;);\n                System.out.println(&quot;Your word looks like this: &quot; + ansArray);\n                lives--;\n            }\n        } //end while (lives loop)\n        \n    } //end main\n} //end class\n</code></pre>\n<p>Coding a simple hangman game for CS101 final project. Stuck on what to do next.</p>\n<p>I used a char[] secretWordArray to breakdown the word into each letter. The char[] ansArray is a blank array which at the start of the program, is equal to * * * * * * * . If the user guesses 'o', ansArray is changed to * * * o * * * *</p>\n<p>I'm not really sure if there's a better alternative than using a char[] arr to go about this? Or if my thought process is right and I'm just coding it wrong? Help pls</p>\n"},{"tags":["java","jms","activemq-artemis","jboss-eap-7"],"comments":[{"owner":{"account_id":1938802,"reputation":12091,"user_id":1745544,"accept_rate":23,"display_name":"OldProgrammer"},"score":0,"creation_date":1667846954,"post_id":74350043,"comment_id":131260798,"body_markdown":"@JustinBertram.  thanks. I updated the question with queue stats.  I don&#39;t see an &quot;acked message count&quot; in the response.","body":"@JustinBertram.  thanks. I updated the question with queue stats.  I don&#39;t see an &quot;acked message count&quot; in the response."},{"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1667849401,"post_id":74350043,"comment_id":131261584,"body_markdown":"It looks like the messaging subsystem on EAP doesn&#39;t expose the acked message count from the underlying instance of ActiveMQ Artemis. However, it does expose `messages-added` so we can infer from the data you provided that one of the 30 total consumers on `HifWebHookQueue` received the one message which was sent because `messages-added` is `1` and `message-count` (i.e. how many messages are currently on the queue waiting to be consumed) is `0`. If the MDB didn&#39;t receive a message I would expect to see  `message-count` _and_ `messages-added` _and_ `consumer-count` &gt; 0.","body":"It looks like the messaging subsystem on EAP doesn&#39;t expose the acked message count from the underlying instance of ActiveMQ Artemis. However, it does expose <code>messages-added</code> so we can infer from the data you provided that one of the 30 total consumers on <code>HifWebHookQueue</code> received the one message which was sent because <code>messages-added</code> is <code>1</code> and <code>message-count</code> (i.e. how many messages are currently on the queue waiting to be consumed) is <code>0</code>. If the MDB didn&#39;t receive a message I would expect to see  <code>message-count</code> <i>and</i> <code>messages-added</code> <i>and</i> <code>consumer-count</code> &gt; 0."},{"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1667849451,"post_id":74350043,"comment_id":131261597,"body_markdown":"In short, at this point I see no evidence of a problem.","body":"In short, at this point I see no evidence of a problem."},{"owner":{"account_id":1938802,"reputation":12091,"user_id":1745544,"accept_rate":23,"display_name":"OldProgrammer"},"score":0,"creation_date":1667852587,"post_id":74350043,"comment_id":131262502,"body_markdown":"@JustinBertram - I meant the  &quot;onMessage()&quot; handler. the MDB did not receive the message.","body":"@JustinBertram - I meant the  &quot;onMessage()&quot; handler. the MDB did not receive the message."},{"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1667854508,"post_id":74350043,"comment_id":131262998,"body_markdown":"How do you know the MDB did not receive the message? According to the metrics you provided `HifWebHookQueue` has consumers and a message was added to the queue that is no longer there. _Something_ consumed that message. The default number of concurrent sessions for an MDB is 15 so I would expect your `consumer-count` to be 15. Since it is 30 then perhaps you have another MDB listening on the same queue. Have you explored this possibility?","body":"How do you know the MDB did not receive the message? According to the metrics you provided <code>HifWebHookQueue</code> has consumers and a message was added to the queue that is no longer there. <i>Something</i> consumed that message. The default number of concurrent sessions for an MDB is 15 so I would expect your <code>consumer-count</code> to be 15. Since it is 30 then perhaps you have another MDB listening on the same queue. Have you explored this possibility?"},{"owner":{"account_id":1938802,"reputation":12091,"user_id":1745544,"accept_rate":23,"display_name":"OldProgrammer"},"score":0,"creation_date":1667855880,"post_id":74350043,"comment_id":131263406,"body_markdown":"There is no other MDB listening on the queue, and I have a breakpoint in the debugger in the MDB code, and 1/2 the time it never hits. I also update a table with the status, and it does not get updated.  Very strange.","body":"There is no other MDB listening on the queue, and I have a breakpoint in the debugger in the MDB code, and 1/2 the time it never hits. I also update a table with the status, and it does not get updated.  Very strange."},{"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1667864479,"post_id":74350043,"comment_id":131265327,"body_markdown":"The evidence indicates that there is another consumer on the queue given that `message-count` is 0 and `messages-added` is 1. How are you confirming there is no other consumer on the queue? Can you run `/subsystem=messaging-activemq/server=default/jms-queue=HIFWebHookQueue:list-consumers-as-json`?","body":"The evidence indicates that there is another consumer on the queue given that <code>message-count</code> is 0 and <code>messages-added</code> is 1. How are you confirming there is no other consumer on the queue? Can you run <code>&#47;subsystem=messaging-activemq&#47;server=default&#47;jms-queue=HIFWe&zwnj;&#8203;bHookQueue:list-cons&zwnj;&#8203;umers-as-json</code>?"},{"owner":{"account_id":1938802,"reputation":12091,"user_id":1745544,"accept_rate":23,"display_name":"OldProgrammer"},"score":0,"creation_date":1667921773,"post_id":74350043,"comment_id":131280649,"body_markdown":"@JustinBertram - you were correct.  I am an idiot.  I had an earlier version of the code with a test MDB in a different package that I forgot about.  Please submit an answer so I can give you credit for the time you spent.  thanks!","body":"@JustinBertram - you were correct.  I am an idiot.  I had an earlier version of the code with a test MDB in a different package that I forgot about.  Please submit an answer so I can give you credit for the time you spent.  thanks!"}],"answers":[{"tags":[],"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667924361,"creation_date":1667924361,"answer_id":74363949,"question_id":74350043,"body_markdown":"The data you provided indicates that one of the 30 total consumers on `HifWebHookQueue` received the one message which was sent because `messages-added` is 1 and `message-count` (i.e. how many messages are currently on the queue waiting to be consumed) is 0. If the message wasn&#39;t consumed I would expect to see `message-count` and `messages-added` and `consumer-count` &gt; 0.\r\nThe default number of concurrent sessions for an MDB is 15 so I would expect your consumer-count to be 15. Since it is 30 then you almost certainly have another MDB deployed also consuming from `HifWebHookQueue`.\r\n\r\nYou can run the following command to see all the consumers for `HifWebHookQueue`:\r\n```\r\n/subsystem=messaging-activemq/server=default/jms-queue=HIFWebHookQueue:list-consumers-as-json?\r\n```","title":"JBoss JMS MDB is losing messages","body":"<p>The data you provided indicates that one of the 30 total consumers on <code>HifWebHookQueue</code> received the one message which was sent because <code>messages-added</code> is 1 and <code>message-count</code> (i.e. how many messages are currently on the queue waiting to be consumed) is 0. If the message wasn't consumed I would expect to see <code>message-count</code> and <code>messages-added</code> and <code>consumer-count</code> &gt; 0.\nThe default number of concurrent sessions for an MDB is 15 so I would expect your consumer-count to be 15. Since it is 30 then you almost certainly have another MDB deployed also consuming from <code>HifWebHookQueue</code>.</p>\n<p>You can run the following command to see all the consumers for <code>HifWebHookQueue</code>:</p>\n<pre><code>/subsystem=messaging-activemq/server=default/jms-queue=HIFWebHookQueue:list-consumers-as-json?\n</code></pre>\n"}],"owner":{"account_id":1938802,"reputation":12091,"user_id":1745544,"accept_rate":23,"display_name":"OldProgrammer"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":216,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74363949,"answer_count":1,"score":0,"last_activity_date":1667924361,"creation_date":1667839625,"question_id":74350043,"body_markdown":"I have a pretty standard web app on EAP 7.2. Requests come in through a servlet which sends a message to a JMS queue which is then processed by an MDB. Maybe 50% of the time the `onMessage()` method on the MDB is never invoked when the producer sends the message. There are no errors in the server log file. Here&#39;s the basic setup:\r\n\r\njboss config:\r\n```xml\r\n&lt;jms-queue name=&quot;HIFWebHookQueue&quot; entries=&quot;HifWebHookQueue java:jboss/exported/jms/queue/HifWebHookQueue&quot;/&gt;\r\n```\r\n\r\nServlet side:\r\n```java\r\n@WebServlet(name = &quot;/&quot;)\r\npublic class MyServlet extends HttpServlet {\r\n\r\n    @Inject\r\n    private JMSContext context;\r\n\r\n    @Resource(lookup = &quot;java:jboss/exported/jms/queue/HifWebHookQueue&quot;)\r\n    private Queue queue;\r\n\r\n    protected void doGet(HttpServletRequest request, HttpServletResponse response) {\r\n\t \r\n        JMSProducer producer = context.createProducer();\r\n    \tproducer.setDeliveryMode(DeliveryMode.PERSISTENT);\r\n    \tObjectMessage msg = context.createObjectMessage(evt);  //evt is a serializable pojo\r\n    \tproducer.send(queue,evt);\r\n\t}\r\n```\r\nthe MDB side:\r\n```java\r\n@MessageDriven(name = &quot;WebhookListenerEJB&quot;, activationConfig = {\r\n    @ActivationConfigProperty(propertyName=&quot;messagingType&quot;, propertyValue=&quot;javax.jms.MessageListener&quot;),\r\n    @ActivationConfigProperty(propertyName=&quot;destinationType&quot;, propertyValue=&quot;javax.jms.Queue&quot;),\r\n    @ActivationConfigProperty(propertyName=&quot;destination&quot;, propertyValue=&quot;java:/jms/queue/HIFWebHookQueue&quot;),\r\n    @ActivationConfigProperty(propertyName=&quot;ConnectionFactoryName&quot;, propertyValue=&quot;ConnectionFactory&quot;),\r\n})\r\n@TransactionManagement(value = TransactionManagementType.CONTAINER)\r\n@TransactionAttribute(value = TransactionAttributeType.REQUIRED)\r\npublic class WebhookListenerEJB implements MessageListener {\r\n\r\n    public void onMessage(Message message) {\r\n        ObjectMessage msg = (ObjectMessage) message;\r\n        ... stuff ...\r\n        message.acknowledge();\r\n    }\r\n}\r\n```\r\n\r\nHere&#39;s output from the JBoss CLI after sending 1st message (and no MDB event):\r\n```\r\n[standalone@localhost:9990 /] /subsystem=messaging-activemq/server=default/jms-queue=HIFWebHookQueue:read-resource(include-runtime=true)\r\n{\r\n    &quot;outcome&quot; =&gt; &quot;success&quot;,\r\n    &quot;result&quot; =&gt; {\r\n        &quot;consumer-count&quot; =&gt; 30,\r\n        &quot;dead-letter-address&quot; =&gt; &quot;jms.queue.DLQ&quot;,\r\n        &quot;delivering-count&quot; =&gt; 0,\r\n        &quot;durable&quot; =&gt; true,\r\n        &quot;entries&quot; =&gt; [\r\n            &quot;HifWebHookQueue&quot;,\r\n            &quot;java:jboss/exported/jms/queue/HifWebHookQueue&quot;\r\n        ],\r\n        &quot;expiry-address&quot; =&gt; &quot;jms.queue.ExpiryQueue&quot;,\r\n        &quot;legacy-entries&quot; =&gt; undefined,\r\n        &quot;message-count&quot; =&gt; 0L,\r\n        &quot;messages-added&quot; =&gt; 1L,\r\n        &quot;paused&quot; =&gt; false,\r\n        &quot;queue-address&quot; =&gt; &quot;jms.queue.HIFWebHookQueue&quot;,\r\n        &quot;scheduled-count&quot; =&gt; 0L,\r\n        &quot;selector&quot; =&gt; undefined,\r\n        &quot;temporary&quot; =&gt; false\r\n    }\r\n}\r\n```","title":"JBoss JMS MDB is losing messages","body":"<p>I have a pretty standard web app on EAP 7.2. Requests come in through a servlet which sends a message to a JMS queue which is then processed by an MDB. Maybe 50% of the time the <code>onMessage()</code> method on the MDB is never invoked when the producer sends the message. There are no errors in the server log file. Here's the basic setup:</p>\n<p>jboss config:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;jms-queue name=&quot;HIFWebHookQueue&quot; entries=&quot;HifWebHookQueue java:jboss/exported/jms/queue/HifWebHookQueue&quot;/&gt;\n</code></pre>\n<p>Servlet side:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@WebServlet(name = &quot;/&quot;)\npublic class MyServlet extends HttpServlet {\n\n    @Inject\n    private JMSContext context;\n\n    @Resource(lookup = &quot;java:jboss/exported/jms/queue/HifWebHookQueue&quot;)\n    private Queue queue;\n\n    protected void doGet(HttpServletRequest request, HttpServletResponse response) {\n     \n        JMSProducer producer = context.createProducer();\n        producer.setDeliveryMode(DeliveryMode.PERSISTENT);\n        ObjectMessage msg = context.createObjectMessage(evt);  //evt is a serializable pojo\n        producer.send(queue,evt);\n    }\n</code></pre>\n<p>the MDB side:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@MessageDriven(name = &quot;WebhookListenerEJB&quot;, activationConfig = {\n    @ActivationConfigProperty(propertyName=&quot;messagingType&quot;, propertyValue=&quot;javax.jms.MessageListener&quot;),\n    @ActivationConfigProperty(propertyName=&quot;destinationType&quot;, propertyValue=&quot;javax.jms.Queue&quot;),\n    @ActivationConfigProperty(propertyName=&quot;destination&quot;, propertyValue=&quot;java:/jms/queue/HIFWebHookQueue&quot;),\n    @ActivationConfigProperty(propertyName=&quot;ConnectionFactoryName&quot;, propertyValue=&quot;ConnectionFactory&quot;),\n})\n@TransactionManagement(value = TransactionManagementType.CONTAINER)\n@TransactionAttribute(value = TransactionAttributeType.REQUIRED)\npublic class WebhookListenerEJB implements MessageListener {\n\n    public void onMessage(Message message) {\n        ObjectMessage msg = (ObjectMessage) message;\n        ... stuff ...\n        message.acknowledge();\n    }\n}\n</code></pre>\n<p>Here's output from the JBoss CLI after sending 1st message (and no MDB event):</p>\n<pre><code>[standalone@localhost:9990 /] /subsystem=messaging-activemq/server=default/jms-queue=HIFWebHookQueue:read-resource(include-runtime=true)\n{\n    &quot;outcome&quot; =&gt; &quot;success&quot;,\n    &quot;result&quot; =&gt; {\n        &quot;consumer-count&quot; =&gt; 30,\n        &quot;dead-letter-address&quot; =&gt; &quot;jms.queue.DLQ&quot;,\n        &quot;delivering-count&quot; =&gt; 0,\n        &quot;durable&quot; =&gt; true,\n        &quot;entries&quot; =&gt; [\n            &quot;HifWebHookQueue&quot;,\n            &quot;java:jboss/exported/jms/queue/HifWebHookQueue&quot;\n        ],\n        &quot;expiry-address&quot; =&gt; &quot;jms.queue.ExpiryQueue&quot;,\n        &quot;legacy-entries&quot; =&gt; undefined,\n        &quot;message-count&quot; =&gt; 0L,\n        &quot;messages-added&quot; =&gt; 1L,\n        &quot;paused&quot; =&gt; false,\n        &quot;queue-address&quot; =&gt; &quot;jms.queue.HIFWebHookQueue&quot;,\n        &quot;scheduled-count&quot; =&gt; 0L,\n        &quot;selector&quot; =&gt; undefined,\n        &quot;temporary&quot; =&gt; false\n    }\n}\n</code></pre>\n"},{"tags":["java","for-loop","count","average"],"comments":[{"owner":{"account_id":329656,"reputation":42009,"user_id":653298,"display_name":"Jacob"},"score":3,"creation_date":1312966777,"post_id":7008189,"comment_id":8367969,"body_markdown":"args.length already contains your `count`, no need for the first for loop. Whats your question? Are you asking for improvements? Does your code work? Do you want to know how to transform `args[]` to an `int`-array?","body":"args.length already contains your <code>count</code>, no need for the first for loop. Whats your question? Are you asking for improvements? Does your code work? Do you want to know how to transform <code>args[]</code> to an <code>int</code>-array?"},{"owner":{"account_id":254934,"reputation":638,"user_id":534659,"accept_rate":89,"display_name":"mj.scintilla"},"score":0,"creation_date":1312966943,"post_id":7008189,"comment_id":8368012,"body_markdown":"`int count = args.length;` to get number of arguments ..","body":"<code>int count = args.length;</code> to get number of arguments .."},{"owner":{"account_id":460525,"reputation":18289,"user_id":861679,"accept_rate":68,"display_name":"Android Killer"},"score":0,"creation_date":1312967028,"post_id":7008189,"comment_id":8368031,"body_markdown":"Is these two codes related or not ? Because in 2nd for loop you are using count.","body":"Is these two codes related or not ? Because in 2nd for loop you are using count."},{"owner":{"account_id":198697,"reputation":18245,"user_id":443515,"accept_rate":56,"display_name":"Qwerky"},"score":0,"creation_date":1312967119,"post_id":7008189,"comment_id":8368056,"body_markdown":"Related: http://stackoverflow.com/questions/6993060/simple-calculator-program-in-java-no-of-integers-read-and-average/","body":"Related: <a href=\"http://stackoverflow.com/questions/6993060/simple-calculator-program-in-java-no-of-integers-read-and-average/\" title=\"simple calculator program in java no of integers read and average\">stackoverflow.com/questions/6993060/&hellip;</a>"},{"owner":{"account_id":475252,"reputation":137,"user_id":885460,"accept_rate":50,"display_name":"syncoroll"},"score":0,"creation_date":1312968595,"post_id":7008189,"comment_id":8368388,"body_markdown":"Sorry i wasnt clear,  Ive written code for the average, but i dont know how to make it so that it also uses ints from my args.length rather than the array","body":"Sorry i wasnt clear,  Ive written code for the average, but i dont know how to make it so that it also uses ints from my args.length rather than the array"}],"answers":[{"tags":[],"owner":{"account_id":97818,"reputation":114824,"user_id":265143,"accept_rate":72,"display_name":"P&#233;ter T&#246;r&#246;k"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1312966815,"creation_date":1312966815,"answer_id":7008233,"question_id":7008189,"body_markdown":"This\r\n\r\n    for (int i = 0; i&lt;args.length -1; ++i)\r\n        count++;\r\n\r\nbasically computes `args.length` again, just incorrectly (loop condition should be `i&lt;args.length`). Why not just use `args.length` (or `nums.length`) directly instead?\r\n\r\nOtherwise your code seems OK. Although it looks as though you wanted to read the input from the command line, but don&#39;t know how to convert that into an array of numbers - is this your real problem?\r\n","title":"Calculate average in java","body":"<p>This</p>\n\n<pre><code>for (int i = 0; i&lt;args.length -1; ++i)\n    count++;\n</code></pre>\n\n<p>basically computes <code>args.length</code> again, just incorrectly (loop condition should be <code>i&lt;args.length</code>). Why not just use <code>args.length</code> (or <code>nums.length</code>) directly instead?</p>\n\n<p>Otherwise your code seems OK. Although it looks as though you wanted to read the input from the command line, but don't know how to convert that into an array of numbers - is this your real problem?</p>\n"},{"tags":[],"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1495632021,"creation_date":1312966942,"answer_id":7008265,"question_id":7008189,"body_markdown":"Just some minor modification to your code will do (with some var renaming for clarity) :\r\n\r\n\r\n    double sum = 0; //average will have decimal point\r\n\r\n    for(int i=0; i &lt; args.length; i++){\r\n       //parse string to double, note that this might fail if you encounter a non-numeric string\r\n       //Note that we could also do Integer.valueOf( args[i] ) but this is more flexible\r\n       sum += Double.valueOf( args[i] ); \r\n    }\r\n    \r\n    double average = sum/args.length;\r\n\r\n    System.out.println(average );\r\n    \r\nNote that the loop can also be simplified:\r\n\r\n    for(String arg : args){\r\n       sum += Double.valueOf( arg );\r\n    }\r\n\r\nEdit: the OP seems to want to use the `args` array. This seems to be a String array, thus updated the answer accordingly.\r\n\r\n__Update__:\r\n\r\nAs zoxqoj correctly pointed out, integer/double overflow is not taken care of in the code above. Although I assume the input values will be small enough to not have that problem, here&#39;s a snippet to use for really large input values:\r\n\r\n    BigDecimal sum = BigDecimal.ZERO;\r\n    for(String arg : args){\r\n      sum = sum.add( new BigDecimal( arg ) );\r\n    }\r\n\r\nThis approach has several advantages (despite being somewhat slower, so don&#39;t use it for time critical operations):\r\n\r\n- Precision is kept, with double you will gradually loose precision with the number of math operations (or not get exact precision at all, depending on the numbers)\r\n- The probability of overflow is practically eliminated. Note however, that a `BigDecimal` might be bigger than what fits into a `double` or `long`.","title":"Calculate average in java","body":"<p>Just some minor modification to your code will do (with some var renaming for clarity) :</p>\n\n<pre><code>double sum = 0; //average will have decimal point\n\nfor(int i=0; i &lt; args.length; i++){\n   //parse string to double, note that this might fail if you encounter a non-numeric string\n   //Note that we could also do Integer.valueOf( args[i] ) but this is more flexible\n   sum += Double.valueOf( args[i] ); \n}\n\ndouble average = sum/args.length;\n\nSystem.out.println(average );\n</code></pre>\n\n<p>Note that the loop can also be simplified:</p>\n\n<pre><code>for(String arg : args){\n   sum += Double.valueOf( arg );\n}\n</code></pre>\n\n<p>Edit: the OP seems to want to use the <code>args</code> array. This seems to be a String array, thus updated the answer accordingly.</p>\n\n<p><strong>Update</strong>:</p>\n\n<p>As zoxqoj correctly pointed out, integer/double overflow is not taken care of in the code above. Although I assume the input values will be small enough to not have that problem, here's a snippet to use for really large input values:</p>\n\n<pre><code>BigDecimal sum = BigDecimal.ZERO;\nfor(String arg : args){\n  sum = sum.add( new BigDecimal( arg ) );\n}\n</code></pre>\n\n<p>This approach has several advantages (despite being somewhat slower, so don't use it for time critical operations):</p>\n\n<ul>\n<li>Precision is kept, with double you will gradually loose precision with the number of math operations (or not get exact precision at all, depending on the numbers)</li>\n<li>The probability of overflow is practically eliminated. Note however, that a <code>BigDecimal</code> might be bigger than what fits into a <code>double</code> or <code>long</code>.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":785985,"reputation":1,"user_id":857894,"display_name":"Jordan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1312967030,"creation_date":1312967030,"answer_id":7008287,"question_id":7008189,"body_markdown":"     System.out.println(result/count) \r\nyou can&#39;t do this because result/count is not a String type, and System.out.println() only takes a String parameter. perhaps try:\r\n\r\n    double avg = (double)result / (double)args.length","title":"Calculate average in java","body":"<pre><code> System.out.println(result/count) \n</code></pre>\n\n<p>you can't do this because result/count is not a String type, and System.out.println() only takes a String parameter. perhaps try:</p>\n\n<pre><code>double avg = (double)result / (double)args.length\n</code></pre>\n"},{"tags":[],"owner":{"account_id":404706,"reputation":7875,"user_id":773189,"accept_rate":83,"display_name":"devconsole"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1312967033,"creation_date":1312967033,"answer_id":7008288,"question_id":7008189,"body_markdown":"    int values[] = { 23, 1, 5, 78, 22, 4};\r\n\r\n    int sum = 0;\r\n    for (int i = 0; i &lt; values.length; i++)\r\n        sum += values[i];\r\n\r\n    double average = ((double) sum) / values.length;","title":"Calculate average in java","body":"<pre><code>int values[] = { 23, 1, 5, 78, 22, 4};\n\nint sum = 0;\nfor (int i = 0; i &lt; values.length; i++)\n    sum += values[i];\n\ndouble average = ((double) sum) / values.length;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":341876,"reputation":3376,"user_id":672736,"accept_rate":70,"display_name":"Swagatika"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1312967050,"creation_date":1312967050,"answer_id":7008291,"question_id":7008189,"body_markdown":"for 1. the number of integers read in, you can just use length property of array like :\r\n\r\n    int count = args.length\r\nwhich gives you no of elements in an array.\r\nAnd 2. to calculate average value :\r\n you are doing in correct way.","title":"Calculate average in java","body":"<p>for 1. the number of integers read in, you can just use length property of array like :</p>\n\n<pre><code>int count = args.length\n</code></pre>\n\n<p>which gives you no of elements in an array.\nAnd 2. to calculate average value :\n you are doing in correct way.</p>\n"},{"tags":[],"owner":{"account_id":473674,"reputation":1913,"user_id":882913,"accept_rate":100,"display_name":"GrandMarquis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1312967251,"creation_date":1312967251,"answer_id":7008318,"question_id":7008189,"body_markdown":"Instead of:\r\n\r\n    int count = 0;\r\n    for (int i = 0; i&lt;args.length -1; ++i)\r\n        count++;\r\n    System.out.println(count);\r\n\r\n     }\r\n\r\nyou can just\r\n\r\n    int count = args.length;\r\n\r\n\r\nThe average is the sum of your args divided by the number of your args.\r\n\r\n    int res = 0;\r\n    int count = args.lenght;\r\n\r\n    for (int a : args)\r\n    {\r\n    res += a;\r\n    }\r\n    res /= count;\r\n\r\nyou can make this code shorter too, i&#39;ll let you try and ask if you need help!\r\n\r\nThis is my first answerso tell me if something wrong!","title":"Calculate average in java","body":"<p>Instead of:</p>\n\n<pre><code>int count = 0;\nfor (int i = 0; i&lt;args.length -1; ++i)\n    count++;\nSystem.out.println(count);\n\n }\n</code></pre>\n\n<p>you can just</p>\n\n<pre><code>int count = args.length;\n</code></pre>\n\n<p>The average is the sum of your args divided by the number of your args.</p>\n\n<pre><code>int res = 0;\nint count = args.lenght;\n\nfor (int a : args)\n{\nres += a;\n}\nres /= count;\n</code></pre>\n\n<p>you can make this code shorter too, i'll let you try and ask if you need help!</p>\n\n<p>This is my first answerso tell me if something wrong!</p>\n"},{"tags":[],"owner":{"display_name":"user837324"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1312967366,"creation_date":1312967366,"answer_id":7008344,"question_id":7008189,"body_markdown":"If you&#39;re trying to get the integers from the command line args, you&#39;ll need something like this:\r\n\r\n    public static void main(String[] args) {\r\n        int[] nums = new int[args.length];\r\n        for(int i = 0; i &lt; args.length; i++) {\r\n            try {\r\n                nums[i] = Integer.parseInt(args[i]);\r\n            }\r\n            catch(NumberFormatException nfe) {\r\n                System.err.println(&quot;Invalid argument&quot;);\r\n            }\r\n        }\r\n        \r\n        // averaging code here\r\n    }\r\n\r\nAs for the actual averaging code, others have suggested how you can tweak that (so I won&#39;t repeat what they&#39;ve said).\r\n\r\nEdit: actually it&#39;s probably better to just put it inside the above loop and not use the `nums` array at all","title":"Calculate average in java","body":"<p>If you're trying to get the integers from the command line args, you'll need something like this:</p>\n\n<pre><code>public static void main(String[] args) {\n    int[] nums = new int[args.length];\n    for(int i = 0; i &lt; args.length; i++) {\n        try {\n            nums[i] = Integer.parseInt(args[i]);\n        }\n        catch(NumberFormatException nfe) {\n            System.err.println(\"Invalid argument\");\n        }\n    }\n\n    // averaging code here\n}\n</code></pre>\n\n<p>As for the actual averaging code, others have suggested how you can tweak that (so I won't repeat what they've said).</p>\n\n<p>Edit: actually it's probably better to just put it inside the above loop and not use the <code>nums</code> array at all</p>\n"},{"tags":[],"owner":{"account_id":2789334,"reputation":3588,"user_id":2399894,"accept_rate":93,"display_name":"SARose"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1440866871,"creation_date":1440866871,"answer_id":32288434,"question_id":7008189,"body_markdown":"I&#39;m going to show you 2 ways. If you don&#39;t need a lot of stats in your project simply implement following. \r\n\r\n    public double average(ArrayList&lt;Double&gt; x) {\r\n        double sum = 0;\r\n        for (double aX : x) sum += aX;\r\n        return (sum / x.size());\r\n    }\r\n\r\nIf you plan on doing a lot of stats might as well not reinvent the wheel. So why not check out http://commons.apache.org/proper/commons-math/userguide/stat.html\r\n\r\nYou&#39;ll fall into true luv!","title":"Calculate average in java","body":"<p>I'm going to show you 2 ways. If you don't need a lot of stats in your project simply implement following. </p>\n\n<pre><code>public double average(ArrayList&lt;Double&gt; x) {\n    double sum = 0;\n    for (double aX : x) sum += aX;\n    return (sum / x.size());\n}\n</code></pre>\n\n<p>If you plan on doing a lot of stats might as well not reinvent the wheel. So why not check out <a href=\"http://commons.apache.org/proper/commons-math/userguide/stat.html\" rel=\"nofollow\">http://commons.apache.org/proper/commons-math/userguide/stat.html</a></p>\n\n<p>You'll fall into true luv!</p>\n"},{"tags":[],"owner":{"account_id":9903355,"reputation":1,"user_id":7332641,"display_name":"mrlectus"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1506582789,"creation_date":1506579856,"answer_id":46462290,"question_id":7008189,"body_markdown":"    public class MainTwo{\r\n        public static void main(String[] arguments) {\r\n            double[] Average = new double[5];\r\n            Average[0] = 4;\r\n            Average[1] = 5;\r\n            Average[2] = 2;\r\n            Average[3] = 4;\r\n            Average[4] = 5;\r\n            double sum = 0;\r\n            if (Average.length &gt; 0) {\r\n                for (int x = 0; x &lt; Average.length; x++) {\r\n                    sum+=Average[x];\r\n                    System.out.println(Average[x]);\r\n                }\r\n                System.out.println(&quot;Sum is &quot; + sum);\r\n                System.out.println(&quot;Average is &quot; + sum/Average.length);\r\n          }\r\n       }\r\n    }","title":"Calculate average in java","body":"<pre><code>public class MainTwo{\n    public static void main(String[] arguments) {\n        double[] Average = new double[5];\n        Average[0] = 4;\n        Average[1] = 5;\n        Average[2] = 2;\n        Average[3] = 4;\n        Average[4] = 5;\n        double sum = 0;\n        if (Average.length &gt; 0) {\n            for (int x = 0; x &lt; Average.length; x++) {\n                sum+=Average[x];\n                System.out.println(Average[x]);\n            }\n            System.out.println(\"Sum is \" + sum);\n            System.out.println(\"Average is \" + sum/Average.length);\n      }\n   }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1964600,"reputation":976,"user_id":1765193,"display_name":"Ravi K"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1561528839,"creation_date":1561528839,"answer_id":56766143,"question_id":7008189,"body_markdown":"It seems old thread, but Java has evolved since then &amp; introduced Streams &amp; Lambdas in Java 8. So might help everyone who want to do it using Java 8 features. \r\n\r\n - In your case, you want to convert args which is String[] into double\r\n   or int. You can do this using `Arrays.stream(&lt;arr&gt;)`. Once you have stream of String array elements, you can use `mapToDouble(s -&gt; Double.parseDouble(s))` which will convert stream of Strings into    stream of doubles.\r\n - Then you can use `Stream.collect(supplier, accumulator, combiner)` to calculate average if you want to control incremental calculation yourselves. Here is [some good example][1].\r\n - If you don&#39;t want to incrementally do average, you can directly use Java&#39;s `Collectors.averagingDouble()` which directly calculates and returns average. some [examples here][2].\r\n\r\n\r\n  [1]: http://itsallbinary.com/javadoc-examples/java/docs/api/examples/java/util/stream/java.util.stream.Stream.html#collectjava_util_function_Supplier-java_util_function_BiConsumer-java_util_function_BiConsumer\r\n  [2]: http://itsallbinary.com/javadoc-examples/java/docs/api/examples/java/util/stream/java.util.stream.Collectors.html#averagingDoublejava_util_function_ToDoubleFunction","title":"Calculate average in java","body":"<p>It seems old thread, but Java has evolved since then &amp; introduced Streams &amp; Lambdas in Java 8. So might help everyone who want to do it using Java 8 features. </p>\n\n<ul>\n<li>In your case, you want to convert args which is String[] into double\nor int. You can do this using <code>Arrays.stream(&lt;arr&gt;)</code>. Once you have stream of String array elements, you can use <code>mapToDouble(s -&gt; Double.parseDouble(s))</code> which will convert stream of Strings into    stream of doubles.</li>\n<li>Then you can use <code>Stream.collect(supplier, accumulator, combiner)</code> to calculate average if you want to control incremental calculation yourselves. Here is <a href=\"http://itsallbinary.com/javadoc-examples/java/docs/api/examples/java/util/stream/java.util.stream.Stream.html#collectjava_util_function_Supplier-java_util_function_BiConsumer-java_util_function_BiConsumer\" rel=\"nofollow noreferrer\">some good example</a>.</li>\n<li>If you don't want to incrementally do average, you can directly use Java's <code>Collectors.averagingDouble()</code> which directly calculates and returns average. some <a href=\"http://itsallbinary.com/javadoc-examples/java/docs/api/examples/java/util/stream/java.util.stream.Collectors.html#averagingDoublejava_util_function_ToDoubleFunction\" rel=\"nofollow noreferrer\">examples here</a>.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":26869165,"reputation":1,"user_id":20451445,"display_name":"Anfal Ratul"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667924039,"creation_date":1667923934,"answer_id":74363876,"question_id":7008189,"body_markdown":"// question: let, Take 10 integers from keyboard using loop and print their average value on the screen.\r\n// here they ask user to input 10 integars using loop and average those numbers.so the correct answer in my perspective with java is below:-\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class averageValueLoop {\r\n    public static void main(String[] args) {\r\n        try (Scanner sc = new Scanner(System.in)) {\r\n            int sum = 0;\r\n            for (int i = 0; i &lt; 10; i++){\r\n                System.out.print(&quot;Enter a number: &quot;);\r\n                sum = sum + sc.nextInt();\r\n            }\r\n\r\n            double average = sum / 10;\r\n            System.out.println(&quot;Average is &quot; + average);\r\n\r\n        }\r\n\r\n    }\r\n\r\n}\r\n```","title":"Calculate average in java","body":"<p>// question: let, Take 10 integers from keyboard using loop and print their average value on the screen.\n// here they ask user to input 10 integars using loop and average those numbers.so the correct answer in my perspective with java is below:-</p>\n<pre><code>import java.util.Scanner;\n\npublic class averageValueLoop {\n    public static void main(String[] args) {\n        try (Scanner sc = new Scanner(System.in)) {\n            int sum = 0;\n            for (int i = 0; i &lt; 10; i++){\n                System.out.print(&quot;Enter a number: &quot;);\n                sum = sum + sc.nextInt();\n            }\n\n            double average = sum / 10;\n            System.out.println(&quot;Average is &quot; + average);\n\n        }\n\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":475252,"reputation":137,"user_id":885460,"accept_rate":50,"display_name":"syncoroll"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":161426,"favorite_count":0,"down_vote_count":3,"up_vote_count":6,"accepted_answer_id":7008265,"answer_count":11,"score":3,"last_activity_date":1667924039,"creation_date":1312966602,"question_id":7008189,"body_markdown":"**EDIT: I&#39;ve written code for the average but I don&#39;t know how to make it so that it also uses `int`s from my `args.length` rather than the array.**\r\n\r\nI need to write a java program that can calculate:\r\n1. the number of integers read in\r\n2. the average value &amp;ndash; which need not be an integer!\r\n\r\nNOTE: I don&#39;t want to calculate the average from the array but the integers in the `args`.\r\n\r\nCurrently I have written this:\r\n\r\n   \tint count = 0;\r\n\tfor (int i = 0; i&lt;args.length -1; ++i)\r\n        count++;\r\n\t\tSystem.out.println(count);\r\n    }\r\n\t\t\r\n\tint nums[] = new int[] { 23, 1, 5, 78, 22, 4};\r\n\tdouble result = 0; //average will have decimal point\r\n\tfor(int i=0; i &lt; nums.length; i++){\r\n\t\tresult += nums[i];\r\n\t}\r\n\tSystem.out.println(result/count)\r\n\r\nCan anyone guide me in the right direction? Or give an example that guides me in the right way to shape this code?\r\n\r\nThanks in advance.\r\n","title":"Calculate average in java","body":"<p><strong>EDIT: I've written code for the average but I don't know how to make it so that it also uses <code>int</code>s from my <code>args.length</code> rather than the array.</strong></p>\n<p>I need to write a java program that can calculate:</p>\n<ol>\n<li>the number of integers read in</li>\n<li>the average value  which need not be an integer!</li>\n</ol>\n<p>NOTE: I don't want to calculate the average from the array but the integers in the <code>args</code>.</p>\n<p>Currently I have written this:</p>\n<pre><code>int count = 0;\nfor (int i = 0; i&lt;args.length -1; ++i)\n    count++;\n    System.out.println(count);\n}\n    \nint nums[] = new int[] { 23, 1, 5, 78, 22, 4};\ndouble result = 0; //average will have decimal point\nfor(int i=0; i &lt; nums.length; i++){\n    result += nums[i];\n}\nSystem.out.println(result/count)\n</code></pre>\n<p>Can anyone guide me in the right direction? Or give an example that guides me in the right way to shape this code?</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","image-processing","graphics","computer-vision","bezier"],"comments":[{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":0,"creation_date":1667924358,"post_id":74344832,"comment_id":131281695,"body_markdown":"Can you expand the code a little by turning this into a [mcve]? (with the data loading and processing replaced by just &quot;loading in the image file you&#39;re showing&quot; which should only be a few lines of code).","body":"Can you expand the code a little by turning this into a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>? (with the data loading and processing replaced by just &quot;loading in the image file you&#39;re showing&quot; which should only be a few lines of code)."}],"answers":[{"tags":[],"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1667842954,"creation_date":1667842114,"answer_id":74350562,"question_id":74344832,"body_markdown":"If you use a quadratic or cubic Bezier, you can rely on the fact that the control point(s) _define(s)_ the tangent at the start and end points.\r\n\r\nFind your &quot;cutoff&quot; row, and then walk up the shape (with whatever visual processing library you&#39;re already using) on the left and right a little to pick the curve&#39;s start and end points. The first control point then lies somewhere on a line from the start point along the contour, with the same being true for the end point:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nThe simplest Bezier-based infill would be a quadratic curve, with the single control point at the intersection of those two lines. If you don&#39;t have quadratic primitives but you do have cubic primitives, you can get the exact same curve by creating control points by linear interpolation of the start+intersection and intersection+end pairs (See the second paragraph in https://pomax.github.io/bezierinfo/#reordering).\r\n\r\nOr you could reconstruct the &quot;perfect&quot; cubic by reversing de Casteljau&#39;s procedure (see https://pomax.github.io/bezierinfo/#abc) but I strongly doubt that&#39;s worth the effort.\r\n\r\n\r\n  [2]: https://i.stack.imgur.com/qNcOd.png","title":"Inpainting missing curved segment in an image","body":"<p>If you use a quadratic or cubic Bezier, you can rely on the fact that the control point(s) <em>define(s)</em> the tangent at the start and end points.</p>\n<p>Find your &quot;cutoff&quot; row, and then walk up the shape (with whatever visual processing library you're already using) on the left and right a little to pick the curve's start and end points. The first control point then lies somewhere on a line from the start point along the contour, with the same being true for the end point:</p>\n<p><a href=\"https://i.stack.imgur.com/qNcOd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qNcOd.png\" alt=\"enter image description here\" /></a></p>\n<p>The simplest Bezier-based infill would be a quadratic curve, with the single control point at the intersection of those two lines. If you don't have quadratic primitives but you do have cubic primitives, you can get the exact same curve by creating control points by linear interpolation of the start+intersection and intersection+end pairs (See the second paragraph in <a href=\"https://pomax.github.io/bezierinfo/#reordering\" rel=\"nofollow noreferrer\">https://pomax.github.io/bezierinfo/#reordering</a>).</p>\n<p>Or you could reconstruct the &quot;perfect&quot; cubic by reversing de Casteljau's procedure (see <a href=\"https://pomax.github.io/bezierinfo/#abc\" rel=\"nofollow noreferrer\">https://pomax.github.io/bezierinfo/#abc</a>) but I strongly doubt that's worth the effort.</p>\n"}],"owner":{"account_id":21728470,"reputation":136,"user_id":16037571,"display_name":"Shen"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667923608,"creation_date":1667815501,"question_id":74344832,"body_markdown":"I have few images (very low resolution), but due to the inconsistency in data collection, the images sometimes have a missing segment which can be identified by checking for horizontal lines from bottom (atleast that is what I do). I want to fix the missing segment with a reasonable curve in real-time.  For example-  \r\n [![enter image description here](https://i.stack.imgur.com/7azF8.png)](https://i.stack.imgur.com/7azF8.png)[![enter image description here](https://i.stack.imgur.com/GCWGJ.png)](https://i.stack.imgur.com/GCWGJ.png)  \r\nUnfortunately, I cannot upload the image in it&#39;s actual size, but if you want to experiment you can comment and then I will try to send few data as numpy arrays.\r\n\r\n**What have I tried?**  \r\nI have tried fixing the segments using Bezier curves. My Idea was to take the extremes of the horizontal segment as P&lt;sub&gt;0&lt;/sub&gt; and P&lt;sub&gt;3&lt;/sub&gt; and then calculate the intersection point P&lt;sub&gt;1&lt;/sub&gt; as shown in my code below:  \r\n```\r\npublic static Coordinate&lt;Integer&gt; pointofIntersection(List&lt;Coordinate&lt;Integer&gt;&gt; line1, List&lt;Coordinate&lt;Integer&gt;&gt; line2) {\r\n        var m1 = (line1.get(1).row - line1.get(0).row) / (line1.get(1).col - line1.get(0).col);\r\n        var m2 = (line2.get(1).row - line2.get(0).row) / (line2.get(1).col - line2.get(0).col);\r\n        var c1 = line1.get(0).row - m1 * line1.get(0).col;\r\n        var c2 = line2.get(0).row - m2 * line2.get(0).col;\r\n        m2 = m2==0?-1:m2;\r\n        m1 = m1==0?1:m1;\r\n        var slope_diff = (m1 - m2)==0?1:(m1-m2);\r\n        var x = (c2 - c1) / slope_diff;\r\n        var y = m1 * x + c1;\r\n        var slope_ratio = Math.abs((float)m1/(float)m2)&gt;1?Math.pow(Math.abs((float)m1/(float)m2),0.5):Math.pow(Math.abs((float)m1/(float)m2),2);\r\n        x = (int) (x/ slope_ratio);\r\n\r\n        return new Coordinate&lt;Integer&gt;(y, x);\r\n}\r\n```  \r\n\r\nFinally after getting P&lt;sub&gt;1&lt;/sub&gt;, I estimate the fourth control point P&lt;sub&gt;2&lt;/sub&gt; for Bezier curve as the center point of the line joining P&lt;sub&gt;3&lt;/sub&gt; and P&lt;sub&gt;1&lt;/sub&gt; and then I put P&lt;sub&gt;2&lt;/sub&gt;.y = P&lt;sub&gt;1&lt;/sub&gt;.y  \r\nAfter Calculating the four control points, I calculate the Bezier curve as follows:  \r\n\r\n```\r\npublic List&lt;Coordinate&lt;Integer&gt;&gt; generateBezierPath4Points(ArrayList&lt;Coordinate&lt;Integer&gt;&gt; controlPoints, int segments) {\r\n    ArrayList&lt;Coordinate&lt;Integer&gt;&gt; pointsForReturn = new ArrayList&lt;Coordinate&lt;Integer&gt;&gt;();\r\n\r\n    float t = 0;\r\n    for (int i = 0; i &lt; segments; i++) {\r\n        Coordinate p = new Coordinate(-1,-1);\r\n        var x = ((1-t)*(1-t)*(1-t)* controlPoints.get(0).col)+ (3*(1-t)*(1-t)*t*controlPoints.get(1).col) + (3*(1-t)*t*t*controlPoints.get(2).col) + (t*t*t*controlPoints.get(3).col);\r\n        var y = ((1-t)*(1-t)*(1-t)* controlPoints.get(0).row)+ (3*(1-t)*(1-t)*t*controlPoints.get(1).row) + (3*(1-t)*t*t*controlPoints.get(2).row) + (t*t*t*controlPoints.get(3).row);\r\n        Double r = Math.ceil(y);\r\n        Double c = Math.ceil(x);\r\n        p.row = r.intValue();\r\n        p.col = c.intValue();\r\n        t += 1.0f / segments;\r\n        pointsForReturn.add(p);\r\n    }\r\n    return pointsForReturn;\r\n}\r\n```  \r\n**My Results**  \r\n[![enter image description here](https://i.stack.imgur.com/mBHwD.png)](https://i.stack.imgur.com/mBHwD.png)  [![enter image description here](https://i.stack.imgur.com/FIo45.png)](https://i.stack.imgur.com/FIo45.png)  \r\n\r\n**What do I expect?**  \r\nAs you can clearly see that my estimations are sometimes more convex than expected. I want to fill the missing segment such that it appears more natural as I have tried to plot with inkscape (filled in red), where I can visually control the curve. see below:  \r\n[![enter image description here](https://i.stack.imgur.com/0tXqZ.png)](https://i.stack.imgur.com/0tXqZ.png)\r\n\r\n","title":"Inpainting missing curved segment in an image","body":"<p>I have few images (very low resolution), but due to the inconsistency in data collection, the images sometimes have a missing segment which can be identified by checking for horizontal lines from bottom (atleast that is what I do). I want to fix the missing segment with a reasonable curve in real-time.  For example-<br />\n<a href=\"https://i.stack.imgur.com/7azF8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7azF8.png\" alt=\"enter image description here\" /></a><a href=\"https://i.stack.imgur.com/GCWGJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GCWGJ.png\" alt=\"enter image description here\" /></a><br />\nUnfortunately, I cannot upload the image in it's actual size, but if you want to experiment you can comment and then I will try to send few data as numpy arrays.</p>\n<p><strong>What have I tried?</strong><br />\nI have tried fixing the segments using Bezier curves. My Idea was to take the extremes of the horizontal segment as P<sub>0</sub> and P<sub>3</sub> and then calculate the intersection point P<sub>1</sub> as shown in my code below:</p>\n<pre><code>public static Coordinate&lt;Integer&gt; pointofIntersection(List&lt;Coordinate&lt;Integer&gt;&gt; line1, List&lt;Coordinate&lt;Integer&gt;&gt; line2) {\n        var m1 = (line1.get(1).row - line1.get(0).row) / (line1.get(1).col - line1.get(0).col);\n        var m2 = (line2.get(1).row - line2.get(0).row) / (line2.get(1).col - line2.get(0).col);\n        var c1 = line1.get(0).row - m1 * line1.get(0).col;\n        var c2 = line2.get(0).row - m2 * line2.get(0).col;\n        m2 = m2==0?-1:m2;\n        m1 = m1==0?1:m1;\n        var slope_diff = (m1 - m2)==0?1:(m1-m2);\n        var x = (c2 - c1) / slope_diff;\n        var y = m1 * x + c1;\n        var slope_ratio = Math.abs((float)m1/(float)m2)&gt;1?Math.pow(Math.abs((float)m1/(float)m2),0.5):Math.pow(Math.abs((float)m1/(float)m2),2);\n        x = (int) (x/ slope_ratio);\n\n        return new Coordinate&lt;Integer&gt;(y, x);\n}\n</code></pre>\n<p>Finally after getting P<sub>1</sub>, I estimate the fourth control point P<sub>2</sub> for Bezier curve as the center point of the line joining P<sub>3</sub> and P<sub>1</sub> and then I put P<sub>2</sub>.y = P<sub>1</sub>.y<br />\nAfter Calculating the four control points, I calculate the Bezier curve as follows:</p>\n<pre><code>public List&lt;Coordinate&lt;Integer&gt;&gt; generateBezierPath4Points(ArrayList&lt;Coordinate&lt;Integer&gt;&gt; controlPoints, int segments) {\n    ArrayList&lt;Coordinate&lt;Integer&gt;&gt; pointsForReturn = new ArrayList&lt;Coordinate&lt;Integer&gt;&gt;();\n\n    float t = 0;\n    for (int i = 0; i &lt; segments; i++) {\n        Coordinate p = new Coordinate(-1,-1);\n        var x = ((1-t)*(1-t)*(1-t)* controlPoints.get(0).col)+ (3*(1-t)*(1-t)*t*controlPoints.get(1).col) + (3*(1-t)*t*t*controlPoints.get(2).col) + (t*t*t*controlPoints.get(3).col);\n        var y = ((1-t)*(1-t)*(1-t)* controlPoints.get(0).row)+ (3*(1-t)*(1-t)*t*controlPoints.get(1).row) + (3*(1-t)*t*t*controlPoints.get(2).row) + (t*t*t*controlPoints.get(3).row);\n        Double r = Math.ceil(y);\n        Double c = Math.ceil(x);\n        p.row = r.intValue();\n        p.col = c.intValue();\n        t += 1.0f / segments;\n        pointsForReturn.add(p);\n    }\n    return pointsForReturn;\n}\n</code></pre>\n<p><strong>My Results</strong><br />\n<a href=\"https://i.stack.imgur.com/mBHwD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mBHwD.png\" alt=\"enter image description here\" /></a>  <a href=\"https://i.stack.imgur.com/FIo45.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FIo45.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>What do I expect?</strong><br />\nAs you can clearly see that my estimations are sometimes more convex than expected. I want to fill the missing segment such that it appears more natural as I have tried to plot with inkscape (filled in red), where I can visually control the curve. see below:<br />\n<a href=\"https://i.stack.imgur.com/0tXqZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0tXqZ.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","header","http-headers","fortify"],"comments":[{"owner":{"account_id":8885142,"reputation":124,"user_id":6741250,"accept_rate":100,"display_name":"Mokz"},"score":5,"creation_date":1533255138,"post_id":38523430,"comment_id":90290794,"body_markdown":"Hey, did you manage to find a solution that could work with Fortify?","body":"Hey, did you manage to find a solution that could work with Fortify?"}],"answers":[{"tags":[],"owner":{"account_id":9949908,"reputation":11,"user_id":7363019,"display_name":"user7363019"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1483293723,"creation_date":1483292901,"answer_id":41417590,"question_id":38523430,"body_markdown":"You should use a method to filter the sensitive info in  \r\n\r\n    response.setHeader(&quot;Content-Disposition&quot;, header)\r\n\r\nJust using \r\n\r\n    fileName.matches(regex) \r\n\r\nis too simple. ","title":"Header Manipulation issue with HP Fortify in HTTP response [java]","body":"<p>You should use a method to filter the sensitive info in  </p>\n\n<pre><code>response.setHeader(\"Content-Disposition\", header)\n</code></pre>\n\n<p>Just using </p>\n\n<pre><code>fileName.matches(regex) \n</code></pre>\n\n<p>is too simple. </p>\n"},{"tags":[],"owner":{"account_id":6167736,"reputation":467,"user_id":4807032,"accept_rate":83,"display_name":"MedAl"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1538128276,"creation_date":1538128276,"answer_id":52552684,"question_id":38523430,"body_markdown":"    String contentType = uploadedFiles.getFilecontenttype();\r\n    response.setContentType(uploadedFiles.getFilecontenttype());\r\n\r\nFirst of all, you could fix a redundancy here. \r\nSecondly, the problem may come from the fact that you don&#39;t try to validate content-type. What if the content-type had been altered and didn&#39;t match the file really is ? Each user input should be sanitized and/or compared to a white list of contents that you actually expect.\r\n\r\nEDIT : idem for the `filename`. Sanitize this field","title":"Header Manipulation issue with HP Fortify in HTTP response [java]","body":"<pre><code>String contentType = uploadedFiles.getFilecontenttype();\nresponse.setContentType(uploadedFiles.getFilecontenttype());\n</code></pre>\n\n<p>First of all, you could fix a redundancy here. \nSecondly, the problem may come from the fact that you don't try to validate content-type. What if the content-type had been altered and didn't match the file really is ? Each user input should be sanitized and/or compared to a white list of contents that you actually expect.</p>\n\n<p>EDIT : idem for the <code>filename</code>. Sanitize this field</p>\n"},{"tags":[],"owner":{"account_id":10919070,"reputation":343,"user_id":8025999,"display_name":"m Piroli"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1614589135,"creation_date":1614589135,"answer_id":66419166,"question_id":38523430,"body_markdown":"You can use this method to validate headers value in this case filename\r\n\r\n    //Header manipulation \r\n\r\npublic static String validateHeaders(String header) throws UnsupportedEncodingException{\r\n\r\n    String filename = new String(header.getBytes(&quot;UTF-8&quot;), &quot;ISO-8859-1&quot;);\r\n    String regex = &quot;[`~!@#$%^&amp;*()\\\\+\\\\=\\\\{}|:\\&quot;?&gt;&lt;\\\\/r\\\\/n]&quot;;\r\n    Pattern pa = Pattern.compile(regex);\r\n    Matcher ma = pa.matcher(filename);\r\n    if(ma.find()){\r\n        filename = ma.replaceAll(&quot;&quot;);\r\n    }\r\n       return filename;\r\n    }     \r\nString header = &quot;attachment; filename=\\&quot;&quot; + validateHeaders(fileName) + &quot;\\&quot;&quot;;","title":"Header Manipulation issue with HP Fortify in HTTP response [java]","body":"<p>You can use this method to validate headers value in this case filename</p>\n<pre><code>//Header manipulation \n</code></pre>\n<p>public static String validateHeaders(String header) throws UnsupportedEncodingException{</p>\n<pre><code>String filename = new String(header.getBytes(&quot;UTF-8&quot;), &quot;ISO-8859-1&quot;);\nString regex = &quot;[`~!@#$%^&amp;*()\\\\+\\\\=\\\\{}|:\\&quot;?&gt;&lt;\\\\/r\\\\/n]&quot;;\nPattern pa = Pattern.compile(regex);\nMatcher ma = pa.matcher(filename);\nif(ma.find()){\n    filename = ma.replaceAll(&quot;&quot;);\n}\n   return filename;\n}     \n</code></pre>\n<p>String header = &quot;attachment; filename=&quot;&quot; + validateHeaders(fileName) + &quot;&quot;&quot;;</p>\n"},{"tags":[],"owner":{"account_id":7162531,"reputation":93,"user_id":6101741,"display_name":"Ritesh Singh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654705694,"creation_date":1654705694,"answer_id":72549211,"question_id":38523430,"body_markdown":"By using RestTemplate and using HttpHeader for the Authorization header below code is able to resolve the Header Manipulation issue.\r\n\r\n    import org.apache.commons.lang3.StringUtils;\r\n    \r\n    RestTemplate restTemplate = new RestTemplate();\r\n    HttpHeaders headersNew = new HttpHeaders();\r\n    //Below 2 Line solve the problem\r\n    String sanitizedToken = StringUtils.normalizeSpace(yourJwtToken);\r\n    headersNew.setBearerAuth(sanitizedToken); //This line where fortify reporting issue earlier\r\n    String url =&quot;Your url&quot;;\r\n    HttpEntity&lt;MultiValueMap&lt;String, String&gt;&gt; entity = new HttpEntity&lt;&gt;(null, headersNew);\r\n    ResponseEntity&lt;Object&gt; response =\r\n                        restTemplate.exchange(url,\r\n                                HttpMethod.GET,\r\n                                entity,\r\n                                Object.class);","title":"Header Manipulation issue with HP Fortify in HTTP response [java]","body":"<p>By using RestTemplate and using HttpHeader for the Authorization header below code is able to resolve the Header Manipulation issue.</p>\n<pre><code>import org.apache.commons.lang3.StringUtils;\n\nRestTemplate restTemplate = new RestTemplate();\nHttpHeaders headersNew = new HttpHeaders();\n//Below 2 Line solve the problem\nString sanitizedToken = StringUtils.normalizeSpace(yourJwtToken);\nheadersNew.setBearerAuth(sanitizedToken); //This line where fortify reporting issue earlier\nString url =&quot;Your url&quot;;\nHttpEntity&lt;MultiValueMap&lt;String, String&gt;&gt; entity = new HttpEntity&lt;&gt;(null, headersNew);\nResponseEntity&lt;Object&gt; response =\n                    restTemplate.exchange(url,\n                            HttpMethod.GET,\n                            entity,\n                            Object.class);\n</code></pre>\n"}],"owner":{"account_id":8870753,"reputation":41,"user_id":6624536,"display_name":"LuDem"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25381,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":4,"score":4,"last_activity_date":1667923430,"creation_date":1469181268,"question_id":38523430,"body_markdown":"I&#39;m trying to fix a &quot;Header Manipulation&quot; issue returned bu HP Fortify Scan for this code. I don&#39;t know if files are already validated during upload (I think not). I tried to use a RegEx to validate filename with no success.\r\nAnyone can help me?    \r\n\r\n\r\n    b = uploadedFiles.getFilecontent().getBytes(1,\r\n        \t\t\t\t\tuploadedFiles.getFilesize().intValue());\r\n        \t\t\tif (b != null) {\r\n        \t\t\t\tresponse.reset();\r\n        \t\t\t\tString fileName = uploadedFiles.getFilename();\r\n        \t\t\t\tString header = &quot;attachment; filename=\\&quot;&quot; + fileName + &quot;\\&quot;&quot;;\r\n        \t\t\t\tString contentType = uploadedFiles.getFilecontenttype();\r\n        \t\t\t\tresponse.setContentType(uploadedFiles.getFilecontenttype());\r\n        \t\t\t\tresponse.addHeader(&quot;Content-Transfer-Encoding&quot;, &quot;Binary&quot;);\r\n        \t\t\t\tresponse.addHeader(&quot;Cache-Control&quot;, &quot;must-revalidate, private&quot;);\r\n        \t\t\t\tresponse.setContentLength(b.length);\r\n        \t\t\t\tFileCopyUtils.copy(b, response.getOutputStream());\r\n        \t\t\t\tresponse.getOutputStream().flush();\r\n        \t\t\t\tresponse.getOutputStream().close();\r\n        \t\t\t}\r\n\r\nWhat I tried:\r\n\r\n    String fileName = uploadedFiles.getFilename();\r\n    String regex = &quot;[a-zA-Z._ ]*&quot;;\r\n    if (b != null &amp;&amp; fileName.matches(regex)) {\r\n    \t\t\t\tresponse.reset();\r\n    \t\t\t\t// String fileName = uploadedFiles.getFilename();\r\n    \t\t\t\tString header = &quot;attachment; filename=\\&quot;&quot; + fileName + &quot;\\&quot;&quot;;\r\n    \t\t\t\tString contentType = uploadedFiles.getFilecontenttype();\r\n    \t\t\t\tresponse.setContentType(uploadedFiles.getFilecontenttype());\r\n    \t\t\t\tresponse.addHeader(&quot;Content-Transfer-Encoding&quot;, &quot;Binary&quot;);\r\n    \t\t\t\tresponse.addHeader(&quot;Cache-Control&quot;, &quot;must-revalidate, private&quot;);\t\t\t\r\n    \t\t\t\tresponse.setHeader(&quot;Content-Disposition&quot;, header);\r\n    \t\t\t\tresponse.setContentLength(b.length);\r\n    \t\t\t\tFileCopyUtils.copy(b, response.getOutputStream());\r\n    \t\t\t\tresponse.getOutputStream().flush();\r\n    \t\t\t\tresponse.getOutputStream().close();\r\n    \t\t\t}","title":"Header Manipulation issue with HP Fortify in HTTP response [java]","body":"<p>I'm trying to fix a \"Header Manipulation\" issue returned bu HP Fortify Scan for this code. I don't know if files are already validated during upload (I think not). I tried to use a RegEx to validate filename with no success.\nAnyone can help me?    </p>\n\n<pre><code>b = uploadedFiles.getFilecontent().getBytes(1,\n                        uploadedFiles.getFilesize().intValue());\n                if (b != null) {\n                    response.reset();\n                    String fileName = uploadedFiles.getFilename();\n                    String header = \"attachment; filename=\\\"\" + fileName + \"\\\"\";\n                    String contentType = uploadedFiles.getFilecontenttype();\n                    response.setContentType(uploadedFiles.getFilecontenttype());\n                    response.addHeader(\"Content-Transfer-Encoding\", \"Binary\");\n                    response.addHeader(\"Cache-Control\", \"must-revalidate, private\");\n                    response.setContentLength(b.length);\n                    FileCopyUtils.copy(b, response.getOutputStream());\n                    response.getOutputStream().flush();\n                    response.getOutputStream().close();\n                }\n</code></pre>\n\n<p>What I tried:</p>\n\n<pre><code>String fileName = uploadedFiles.getFilename();\nString regex = \"[a-zA-Z._ ]*\";\nif (b != null &amp;&amp; fileName.matches(regex)) {\n                response.reset();\n                // String fileName = uploadedFiles.getFilename();\n                String header = \"attachment; filename=\\\"\" + fileName + \"\\\"\";\n                String contentType = uploadedFiles.getFilecontenttype();\n                response.setContentType(uploadedFiles.getFilecontenttype());\n                response.addHeader(\"Content-Transfer-Encoding\", \"Binary\");\n                response.addHeader(\"Cache-Control\", \"must-revalidate, private\");            \n                response.setHeader(\"Content-Disposition\", header);\n                response.setContentLength(b.length);\n                FileCopyUtils.copy(b, response.getOutputStream());\n                response.getOutputStream().flush();\n                response.getOutputStream().close();\n            }\n</code></pre>\n"},{"tags":["java","javafx","autocomplete","controlsfx"],"answers":[{"tags":[],"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1667923145,"creation_date":1667921713,"answer_id":74363347,"question_id":74362915,"body_markdown":"The `impl.*` packages are, by design, not part of the public API and not accessible.\r\n\r\nInstead, use the version of `bindAutoCompletion` that [takes a `Callback`](https://controlsfx.github.io/javadoc/11.1.2/org.controlsfx.controls/org/controlsfx/control/textfield/TextFields.html#bindAutoCompletion(javafx.scene.control.TextField,javafx.util.Callback)). \r\n\r\nThe `Callback` is a function from a suggestion request to a collection of suggestions. It will be invoked when the text in the text field changes, and you can retrieve the text from the request using the `getUserText()` method. This way you can use arbitrary logic to map the text field text to a list of suggestions. \r\n\r\nHere is a quick and dirty example that ensures the suggested text starts with the text in the text field:\r\n\r\n    import javafx.application.Application;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.control.TextField;\r\n    import javafx.scene.layout.BorderPane;\r\n    import javafx.stage.Stage;\r\n    import org.controlsfx.control.textfield.TextFields;\r\n    \r\n    import java.io.IOException;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    public class HelloApplication extends Application {\r\n        @Override\r\n        public void start(Stage stage) throws IOException {\r\n            TextField textField = new TextField();\r\n            List&lt;String&gt; allItems = new ArrayList&lt;&gt;();\r\n            for (int i = 1 ; i &lt;= 100; i++) allItems.add(String.valueOf(i));\r\n    \r\n            TextFields.bindAutoCompletion(\r\n                textField,\r\n                suggestionRequest -&gt; matchingItems(allItems, suggestionRequest.getUserText())\r\n            );\r\n            BorderPane root = new BorderPane(textField);\r\n            Scene scene = new Scene(root, 800, 500);\r\n            stage.setScene(scene);\r\n            stage.show();\r\n        }\r\n    \r\n        private List&lt;String&gt; matchingItems(List&lt;String&gt; allItems, String prefix) {\r\n            List&lt;String&gt; matches = new ArrayList&lt;&gt;();\r\n            for (String s : allItems) {\r\n                if (s.startsWith(prefix)) {\r\n                    matches.add(s);\r\n                }\r\n            }\r\n            return matches ;\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            launch();\r\n        }\r\n    }","title":"JavaFX - Autocompletion TextField that suggests only matching item starting with input (SuggestionProvider not accessible)","body":"<p>The <code>impl.*</code> packages are, by design, not part of the public API and not accessible.</p>\n<p>Instead, use the version of <code>bindAutoCompletion</code> that <a href=\"https://controlsfx.github.io/javadoc/11.1.2/org.controlsfx.controls/org/controlsfx/control/textfield/TextFields.html#bindAutoCompletion(javafx.scene.control.TextField,javafx.util.Callback)\" rel=\"nofollow noreferrer\">takes a <code>Callback</code></a>.</p>\n<p>The <code>Callback</code> is a function from a suggestion request to a collection of suggestions. It will be invoked when the text in the text field changes, and you can retrieve the text from the request using the <code>getUserText()</code> method. This way you can use arbitrary logic to map the text field text to a list of suggestions.</p>\n<p>Here is a quick and dirty example that ensures the suggested text starts with the text in the text field:</p>\n<pre><code>import javafx.application.Application;\nimport javafx.scene.Scene;\nimport javafx.scene.control.TextField;\nimport javafx.scene.layout.BorderPane;\nimport javafx.stage.Stage;\nimport org.controlsfx.control.textfield.TextFields;\n\nimport java.io.IOException;\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class HelloApplication extends Application {\n    @Override\n    public void start(Stage stage) throws IOException {\n        TextField textField = new TextField();\n        List&lt;String&gt; allItems = new ArrayList&lt;&gt;();\n        for (int i = 1 ; i &lt;= 100; i++) allItems.add(String.valueOf(i));\n\n        TextFields.bindAutoCompletion(\n            textField,\n            suggestionRequest -&gt; matchingItems(allItems, suggestionRequest.getUserText())\n        );\n        BorderPane root = new BorderPane(textField);\n        Scene scene = new Scene(root, 800, 500);\n        stage.setScene(scene);\n        stage.show();\n    }\n\n    private List&lt;String&gt; matchingItems(List&lt;String&gt; allItems, String prefix) {\n        List&lt;String&gt; matches = new ArrayList&lt;&gt;();\n        for (String s : allItems) {\n            if (s.startsWith(prefix)) {\n                matches.add(s);\n            }\n        }\n        return matches ;\n    }\n\n    public static void main(String[] args) {\n        launch();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":18175565,"reputation":13,"user_id":13224378,"display_name":"Thano"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":181,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74363347,"answer_count":1,"score":1,"last_activity_date":1667923145,"creation_date":1667919904,"question_id":74362915,"body_markdown":"I would like the Autocompletion to suggests only matching item that START with the user&#39;s input, instead of showing all the item that CONTAIN the user&#39;s input.\r\nOne way I found is to use SuggestionProvider, but I can&#39;t get it imported on my Class.\r\n\r\n---\r\n\r\nI&#39;m trying to use an autocompleted TextField with controlfx ( TextFields.bindAutoCompletion(...) ), which kinda works but doesn&#39;t act as I would like.\r\n\r\nI have a TextField where you can start typing a number of an account and the autocompleted TF suggests a list of all account which contains the user&#39;s input in his number.\r\nFor example, if I start typing &quot;4&quot;, the suggested list shows &quot;4710....&quot;, &quot;4712...&quot;, ..., but also &quot;624...&quot;, &quot;74....&quot;. I guess the last accounts are shown because they CONTAINS my input.\r\n\r\nIt&#39;s not what I want so I found a way to make it acts like I want : by passing a list with only accounts that start with the user&#39;s input :\r\n\r\n```lang-java\r\nTextFields.bindAutoCompletion(myTextField,\r\nUIUtils.comptesListToStrings(db.getComptesStartingBy(myTextField.getText())));\r\n```\r\n\r\nBut I need to update it whenever the input text changes.\r\nSo I found a way by using a SuggestionProvider like this (&lt;https://stackoverflow.com/questions/45778462/update-autocomplete-javafx&gt;):\r\n\r\n```lang-java\r\nSet&lt;String&gt; autoCompletions = new HashSet&lt;&gt;(Arrays.asList(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;));\r\nSuggestionProvider&lt;String&gt; provider = SuggestionProvider.create(autoCompletions);\r\nnew AutoCompletionTextFieldBinding&lt;&gt;(textField, provider);\r\n\r\n// and after some times, possible autoCompletions values has changed and now we have:\r\nSet&lt;String&gt; filteredAutoCompletions = new HashSet&lt;&gt;(Arrays.asList(&quot;A&quot;, &quot;B&quot;));\r\n\r\nprovider.clearSuggestions();\r\nprovider.addPossibleSuggestions(filteredAutoCompletions);\r\n```\r\n\r\nBut I can&#39;t make it work when I try to import SuggestionProvider.\r\nEclipse suggests me &quot;Import &#39;SuggestionProvider&#39; (impl.org.controlfx.autocompletion)&quot; but when I do, I get an error like :\r\n\r\n```lang-java\r\nimport org.controlsfx.control.textfield.TextFields; // &lt;-- this works perfectly\r\nimport impl.org.controlsfx.autocompletion.SuggestionProvider; // &lt;-- &quot;The type impl.org.controlsfx.autocompletion.SuggestionProvider is not accessible&quot;\r\n```\r\n\r\n[Import suggested by Eclipse (img)](https://www.stackoverflow.com/)\r\n\r\n[After importing (img)](https://www.stackoverflow.com/)\r\n\r\nI believe this package is in the same jar as the first line (org.controlsfx.control.textfield.TextFields --&gt; controlfx-11-1-2.jar):\r\n[dependencies tree (img)](https://www.stackoverflow.com/)\r\n\r\n\r\nI&#39;m using Maven for dependencies, on Eclipse.\r\n\r\nI tried to found a solution but couldn&#39;t make it.\r\nSo here I am, asking for help to solve this.\r\nIf there is a way to make the default `bindAutoCompletion` only showing accounts that START WITH the users&#39;s input instead of showing all accounts that CONTAIN the user&#39;s input, it would also be great.\r\n\r\nI&#39;m a beginner in Java and this is my first post on stackoverflow, so please excuse my low-knowledge.","title":"JavaFX - Autocompletion TextField that suggests only matching item starting with input (SuggestionProvider not accessible)","body":"<p>I would like the Autocompletion to suggests only matching item that START with the user's input, instead of showing all the item that CONTAIN the user's input.\nOne way I found is to use SuggestionProvider, but I can't get it imported on my Class.</p>\n<hr />\n<p>I'm trying to use an autocompleted TextField with controlfx ( TextFields.bindAutoCompletion(...) ), which kinda works but doesn't act as I would like.</p>\n<p>I have a TextField where you can start typing a number of an account and the autocompleted TF suggests a list of all account which contains the user's input in his number.\nFor example, if I start typing &quot;4&quot;, the suggested list shows &quot;4710....&quot;, &quot;4712...&quot;, ..., but also &quot;624...&quot;, &quot;74....&quot;. I guess the last accounts are shown because they CONTAINS my input.</p>\n<p>It's not what I want so I found a way to make it acts like I want : by passing a list with only accounts that start with the user's input :</p>\n<pre class=\"lang-java prettyprint-override\"><code>TextFields.bindAutoCompletion(myTextField,\nUIUtils.comptesListToStrings(db.getComptesStartingBy(myTextField.getText())));\n</code></pre>\n<p>But I need to update it whenever the input text changes.\nSo I found a way by using a SuggestionProvider like this (<a href=\"https://stackoverflow.com/questions/45778462/update-autocomplete-javafx\">Update autoComplete JavaFx?</a>):</p>\n<pre class=\"lang-java prettyprint-override\"><code>Set&lt;String&gt; autoCompletions = new HashSet&lt;&gt;(Arrays.asList(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;));\nSuggestionProvider&lt;String&gt; provider = SuggestionProvider.create(autoCompletions);\nnew AutoCompletionTextFieldBinding&lt;&gt;(textField, provider);\n\n// and after some times, possible autoCompletions values has changed and now we have:\nSet&lt;String&gt; filteredAutoCompletions = new HashSet&lt;&gt;(Arrays.asList(&quot;A&quot;, &quot;B&quot;));\n\nprovider.clearSuggestions();\nprovider.addPossibleSuggestions(filteredAutoCompletions);\n</code></pre>\n<p>But I can't make it work when I try to import SuggestionProvider.\nEclipse suggests me &quot;Import 'SuggestionProvider' (impl.org.controlfx.autocompletion)&quot; but when I do, I get an error like :</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.controlsfx.control.textfield.TextFields; // &lt;-- this works perfectly\nimport impl.org.controlsfx.autocompletion.SuggestionProvider; // &lt;-- &quot;The type impl.org.controlsfx.autocompletion.SuggestionProvider is not accessible&quot;\n</code></pre>\n<p><a href=\"https://www.stackoverflow.com/\">Import suggested by Eclipse (img)</a></p>\n<p><a href=\"https://www.stackoverflow.com/\">After importing (img)</a></p>\n<p>I believe this package is in the same jar as the first line (org.controlsfx.control.textfield.TextFields --&gt; controlfx-11-1-2.jar):\n<a href=\"https://www.stackoverflow.com/\">dependencies tree (img)</a></p>\n<p>I'm using Maven for dependencies, on Eclipse.</p>\n<p>I tried to found a solution but couldn't make it.\nSo here I am, asking for help to solve this.\nIf there is a way to make the default <code>bindAutoCompletion</code> only showing accounts that START WITH the users's input instead of showing all accounts that CONTAIN the user's input, it would also be great.</p>\n<p>I'm a beginner in Java and this is my first post on stackoverflow, so please excuse my low-knowledge.</p>\n"},{"tags":["java","blockchain","smartcontracts","corda","vault"],"answers":[{"tags":[],"owner":{"account_id":10430083,"reputation":141,"user_id":7690168,"display_name":"Christian Sailer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667921491,"creation_date":1667921491,"answer_id":74363295,"question_id":74362292,"body_markdown":"The vault query gets translated into an SQL query internally and run on the database. The pagination is only relevant if the result of that query is larger than the page size. ","title":"Corda - PageSpecification in QueryBy","body":"<p>The vault query gets translated into an SQL query internally and run on the database. The pagination is only relevant if the result of that query is larger than the page size.</p>\n"}],"owner":{"account_id":17248886,"reputation":105,"user_id":12489459,"display_name":"Benjamin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74363295,"answer_count":1,"score":0,"last_activity_date":1667921491,"creation_date":1667917183,"question_id":74362292,"body_markdown":"In R3 Corda queryBy(), is page specification, other than default-200 is only needed, if there are more results to be returned based on given querycriteria\r\n\r\nOR\r\n\r\nIt is needed even if all criterias not match while querying, but has more than 200 of that particular state present in vault and it do a bulk filtering inside ?\r\n\r\nFor eg:\r\nI need to get CARState of a uniqueID, suppose we have 1000 carstates available in vault. So inorder to get one CarState matching customVaultQueryCriteria() with id, does it need to mention explicit PageSpecification input?\r\n\r\nOr only it is needed only for getAllCarStates() ?\r\n","title":"Corda - PageSpecification in QueryBy","body":"<p>In R3 Corda queryBy(), is page specification, other than default-200 is only needed, if there are more results to be returned based on given querycriteria</p>\n<p>OR</p>\n<p>It is needed even if all criterias not match while querying, but has more than 200 of that particular state present in vault and it do a bulk filtering inside ?</p>\n<p>For eg:\nI need to get CARState of a uniqueID, suppose we have 1000 carstates available in vault. So inorder to get one CarState matching customVaultQueryCriteria() with id, does it need to mention explicit PageSpecification input?</p>\n<p>Or only it is needed only for getAllCarStates() ?</p>\n"},{"tags":["java","spring","elasticsearch"],"comments":[{"owner":{"account_id":24908380,"reputation":3091,"user_id":18778181,"display_name":"rabbitbr"},"score":0,"creation_date":1667925229,"post_id":74363136,"comment_id":131282013,"body_markdown":"@geo is field type nested? show me your java code.","body":"@geo is field type nested? show me your java code."},{"owner":{"account_id":9179794,"reputation":408,"user_id":6824092,"accept_rate":64,"display_name":"Hayk  Mkhitaryan"},"score":0,"creation_date":1667925432,"post_id":74363136,"comment_id":131282090,"body_markdown":"as elastic returns everything in &quot;_source&quot; object, so it turns out that geo is not nested, but what are inside geo, those are nested,  &quot;@geo&quot;.&quot;Source&quot;.&quot;Country&quot;.&quot;IsoCode&quot;","body":"as elastic returns everything in &quot;_source&quot; object, so it turns out that geo is not nested, but what are inside geo, those are nested,  &quot;@geo&quot;.&quot;Source&quot;.&quot;Country&quot;.&quot;IsoCode&quot;"},{"owner":{"account_id":9179794,"reputation":408,"user_id":6824092,"accept_rate":64,"display_name":"Hayk  Mkhitaryan"},"score":0,"creation_date":1667925508,"post_id":74363136,"comment_id":131282114,"body_markdown":"@rabbitbr related to showing you java code, I haven&#39;t yet found a solutuion for this, but have another queries which work well but return the whole object graph, and are extremely slow, because as mentioned, return the whole object graph list.","body":"@rabbitbr related to showing you java code, I haven&#39;t yet found a solutuion for this, but have another queries which work well but return the whole object graph, and are extremely slow, because as mentioned, return the whole object graph list."},{"owner":{"account_id":24908380,"reputation":3091,"user_id":18778181,"display_name":"rabbitbr"},"score":0,"creation_date":1667937138,"post_id":74363136,"comment_id":131286172,"body_markdown":"If you are working with nested type you can use source to return the fields you want and add inner_hits to get only the object where the match was found because that way you won&#39;t get the whole array.","body":"If you are working with nested type you can use source to return the fields you want and add inner_hits to get only the object where the match was found because that way you won&#39;t get the whole array."},{"owner":{"account_id":9179794,"reputation":408,"user_id":6824092,"accept_rate":64,"display_name":"Hayk  Mkhitaryan"},"score":0,"creation_date":1667970830,"post_id":74363136,"comment_id":131292490,"body_markdown":"@rabbitbr can you show me an example of adding inner_hits?","body":"@rabbitbr can you show me an example of adding inner_hits?"},{"owner":{"account_id":24908380,"reputation":3091,"user_id":18778181,"display_name":"rabbitbr"},"score":0,"creation_date":1667991713,"post_id":74363136,"comment_id":131298204,"body_markdown":"Yes, provide the mapping and documents please.","body":"Yes, provide the mapping and documents please."},{"owner":{"account_id":9179794,"reputation":408,"user_id":6824092,"accept_rate":64,"display_name":"Hayk  Mkhitaryan"},"score":0,"creation_date":1667994029,"post_id":74363136,"comment_id":131299015,"body_markdown":"@rabbitbr what do you mean mapping, or documents? I have posted the data, which should be returned with the help of java api. and at the end we should have this picture et the end,\n\n[\\{&quot;iso_code&quot;: &quot;US&quot;, &quot;count&quot;: 15}, \\{&quot;iso_code&quot;: &quot;AE&quot;, &quot;count&quot;: 102}, {}...] \n\n so it turns out this nested field should be queried:\n\n &quot;@geo.Source.Country.IsoCode&quot;, so the isoCode should be returned, grouped by the count of each value.","body":"@rabbitbr what do you mean mapping, or documents? I have posted the data, which should be returned with the help of java api. and at the end we should have this picture et the end,  [\\{&quot;iso_code&quot;: &quot;US&quot;, &quot;count&quot;: 15}, \\{&quot;iso_code&quot;: &quot;AE&quot;, &quot;count&quot;: 102}, {}...]    so it turns out this nested field should be queried:   &quot;@geo.Source.Country.IsoCode&quot;, so the isoCode should be returned, grouped by the count of each value."},{"owner":{"account_id":24908380,"reputation":3091,"user_id":18778181,"display_name":"rabbitbr"},"score":0,"creation_date":1667995235,"post_id":74363136,"comment_id":131299443,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/249449/discussion-between-rabbitbr-and-hayk-mkhitaryan).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/249449/discussion-between-rabbitbr-and-hayk-mkhitaryan\">continue this discussion in chat</a>."}],"owner":{"account_id":9179794,"reputation":408,"user_id":6824092,"accept_rate":64,"display_name":"Hayk  Mkhitaryan"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667920883,"creation_date":1667920883,"question_id":74363136,"body_markdown":"Here is the object cuptured with kibana, which should be returned with java api\r\n\r\n    {\r\n      &quot;_index&quot;: &quot;backend:nips-000320&quot;,\r\n      &quot;_type&quot;: &quot;_doc&quot;,\r\n      &quot;_id&quot;: &quot;qhcOVoQBFSMoMXEJjh46&quot;,\r\n      &quot;_version&quot;: 1,\r\n      &quot;_score&quot;: 0,\r\n      &quot;_source&quot;: {\r\n        &quot;severity&quot;: 5,\r\n        &quot;priority&quot;: 37,\r\n        &quot;@geo&quot;: {\r\n          &quot;Source&quot;: {\r\n            &quot;Continent&quot;: {\r\n              &quot;Code&quot;: &quot;EU&quot;,\r\n              &quot;GeoNameID&quot;: 6255148,\r\n              &quot;Name&quot;: &quot;Europe&quot;\r\n            },\r\n            &quot;Country&quot;: {\r\n              &quot;IsInEuropeanUnion&quot;: false,\r\n              &quot;IsoCode&quot;: &quot;UA&quot;,\r\n              &quot;GeoNameID&quot;: 690791,\r\n              &quot;Name&quot;: &quot;Ukraine&quot;\r\n            }\r\n          }\r\n        },\r\n        &quot;timestamp&quot;: &quot;2022-11-08T07:04:52Z&quot;\r\n      },\r\n      &quot;fields&quot;: {}\r\n    }\r\n\r\n\r\nThe problem is that I can&#39;t find a way to do this kind of nested query with java code and get this:\r\n\r\n    &quot;@geo&quot;.&quot;Source&quot;.&quot;Country&quot;.&quot;IsoCode&quot; grouped by the value of &quot;IsoCode&quot;. \r\nlike this : \r\n\r\n    [\\{&quot;iso_code&quot;: &quot;US&quot;, &quot;count&quot;: 15}, \\{&quot;iso_code&quot;: &quot;AE&quot;, &quot;count&quot;: 102}, {}...]\r\n\r\n\r\nI am trying with QueryBuilder api, but no results yet. Any ideas would be appreciated. ","title":"How I can do Elastic Search nested query with java api, QueryBuilder","body":"<p>Here is the object cuptured with kibana, which should be returned with java api</p>\n<pre><code>{\n  &quot;_index&quot;: &quot;backend:nips-000320&quot;,\n  &quot;_type&quot;: &quot;_doc&quot;,\n  &quot;_id&quot;: &quot;qhcOVoQBFSMoMXEJjh46&quot;,\n  &quot;_version&quot;: 1,\n  &quot;_score&quot;: 0,\n  &quot;_source&quot;: {\n    &quot;severity&quot;: 5,\n    &quot;priority&quot;: 37,\n    &quot;@geo&quot;: {\n      &quot;Source&quot;: {\n        &quot;Continent&quot;: {\n          &quot;Code&quot;: &quot;EU&quot;,\n          &quot;GeoNameID&quot;: 6255148,\n          &quot;Name&quot;: &quot;Europe&quot;\n        },\n        &quot;Country&quot;: {\n          &quot;IsInEuropeanUnion&quot;: false,\n          &quot;IsoCode&quot;: &quot;UA&quot;,\n          &quot;GeoNameID&quot;: 690791,\n          &quot;Name&quot;: &quot;Ukraine&quot;\n        }\n      }\n    },\n    &quot;timestamp&quot;: &quot;2022-11-08T07:04:52Z&quot;\n  },\n  &quot;fields&quot;: {}\n}\n</code></pre>\n<p>The problem is that I can't find a way to do this kind of nested query with java code and get this:</p>\n<pre><code>&quot;@geo&quot;.&quot;Source&quot;.&quot;Country&quot;.&quot;IsoCode&quot; grouped by the value of &quot;IsoCode&quot;. \n</code></pre>\n<p>like this :</p>\n<pre><code>[\\{&quot;iso_code&quot;: &quot;US&quot;, &quot;count&quot;: 15}, \\{&quot;iso_code&quot;: &quot;AE&quot;, &quot;count&quot;: 102}, {}...]\n</code></pre>\n<p>I am trying with QueryBuilder api, but no results yet. Any ideas would be appreciated.</p>\n"},{"tags":["java","boolean"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":3,"creation_date":1667840667,"post_id":74350240,"comment_id":131258579,"body_markdown":"`System.out.println(new Solution().isHappy(23));` You can move the main method into `Solution` for testing purposes, but `Solution` is really a utility class so wouldn&#39;t have that method normally","body":"<code>System.out.println(new Solution().isHappy(23));</code> You can move the main method into <code>Solution</code> for testing purposes, but <code>Solution</code> is really a utility class so wouldn&#39;t have that method normally"},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":3,"creation_date":1667840715,"post_id":74350240,"comment_id":131258593,"body_markdown":"You&#39;ve got everything right except that you don&#39;t do anything with the result -- print it out to the screen or anything.","body":"You&#39;ve got everything right except that you don&#39;t do anything with the result -- print it out to the screen or anything."},{"owner":{"account_id":26535892,"reputation":19,"user_id":20167423,"display_name":"qSplatt Rams"},"score":0,"creation_date":1667840954,"post_id":74350240,"comment_id":131258705,"body_markdown":"Yea, but let&#39;s say if i want to test things out, how can i actually test it to see if it really works?","body":"Yea, but let&#39;s say if i want to test things out, how can i actually test it to see if it really works?"},{"owner":{"account_id":26535892,"reputation":19,"user_id":20167423,"display_name":"qSplatt Rams"},"score":0,"creation_date":1667841042,"post_id":74350240,"comment_id":131258732,"body_markdown":"@g00se Ops, saw your comment now, thank you!","body":"@g00se Ops, saw your comment now, thank you!"}],"answers":[{"tags":[],"owner":{"account_id":2163224,"reputation":6602,"user_id":1916917,"accept_rate":60,"display_name":"Holloway"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1667841009,"creation_date":1667841009,"answer_id":74350343,"question_id":74350240,"body_markdown":"There are a couple of problems here. When you run a Java application it looks for the `main` method in the class you run. Your class has no `main` method, instead it has an inner class that has a main method.\r\n\r\n    class Solution {\r\n        // existing methods\r\n    \r\n        // no &#39;Main&#39; class wrapping method\r\n        public static void main(String[] argv) {\r\n    \r\n        }\r\n    }\r\n\r\nThe second problem is that `main` is a &#39;static&#39; method but `isHappy` is an &#39;instance&#39; method. To call it you need an instance of the class\r\n\r\n    // inside the `main` function\r\n    var sol = new Solution();\r\n    if (sol.isHappy(23)) {\r\n        System.out.println(&quot;23 is happy&quot;);\r\n    } else {\r\n        System.out.println(&quot;23 is not happy&quot;);\r\n    }\r\n","title":"Calling a boolean method from a class","body":"<p>There are a couple of problems here. When you run a Java application it looks for the <code>main</code> method in the class you run. Your class has no <code>main</code> method, instead it has an inner class that has a main method.</p>\n<pre><code>class Solution {\n    // existing methods\n\n    // no 'Main' class wrapping method\n    public static void main(String[] argv) {\n\n    }\n}\n</code></pre>\n<p>The second problem is that <code>main</code> is a 'static' method but <code>isHappy</code> is an 'instance' method. To call it you need an instance of the class</p>\n<pre><code>// inside the `main` function\nvar sol = new Solution();\nif (sol.isHappy(23)) {\n    System.out.println(&quot;23 is happy&quot;);\n} else {\n    System.out.println(&quot;23 is not happy&quot;);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18911549,"reputation":600,"user_id":13797513,"display_name":"chptr-one"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1667841639,"creation_date":1667841639,"answer_id":74350458,"question_id":74350240,"body_markdown":"You have completely solved the problem. You only have to decide what to do with the result of your calculations. You can simply print a string depending on the result.\r\n\r\nPlease note, that the methods in your `Solution` class are not static. So, you need to create an instance of the class and call the methods on that instance.\r\n\r\n```\r\nimport java.util.HashSet;\r\nimport java.util.Set;\r\n\r\nclass Solution {\r\n\r\n    public int sumOfDigitsSquares(int n) {\r\n        int totalSum = 0;\r\n        while (n &gt; 0) {\r\n            int last = n % 10;\r\n            n = n / 10;\r\n            totalSum += last * last;\r\n        }\r\n        return totalSum;\r\n    }\r\n\r\n    public boolean isHappy(int n) {\r\n        Set&lt;Integer&gt; seen = new HashSet&lt;&gt;();\r\n        while (n != 1 &amp;&amp; !seen.contains(n)) {\r\n            seen.add(n);\r\n            n = sumOfDigitsSquares(n);\r\n        }\r\n        return n == 1;\r\n    }\r\n}\r\n\r\nclass Main {\r\n    public static void main(String[] args) {\r\n        var solution = new Solution();\r\n\r\n        String answer = solution.isHappy(23) ? &quot;Is happy&quot; : &quot;Not happy at all&quot;;\r\n        System.out.println(answer);\r\n    }\r\n}\r\n```\r\nHere is one possible way to check all numbers from 1 to 100 for happiness and print the result for each number.\r\n```\r\nIntStream.rangeClosed(1, 100)\r\n                .mapToObj(i -&gt; &quot;&quot; + i + &quot; &quot; + (solution.isHappy(i) ? &quot;is happy&quot; : &quot;not happy&quot;))\r\n                .forEach(System.out::println);\r\n```","title":"Calling a boolean method from a class","body":"<p>You have completely solved the problem. You only have to decide what to do with the result of your calculations. You can simply print a string depending on the result.</p>\n<p>Please note, that the methods in your <code>Solution</code> class are not static. So, you need to create an instance of the class and call the methods on that instance.</p>\n<pre><code>import java.util.HashSet;\nimport java.util.Set;\n\nclass Solution {\n\n    public int sumOfDigitsSquares(int n) {\n        int totalSum = 0;\n        while (n &gt; 0) {\n            int last = n % 10;\n            n = n / 10;\n            totalSum += last * last;\n        }\n        return totalSum;\n    }\n\n    public boolean isHappy(int n) {\n        Set&lt;Integer&gt; seen = new HashSet&lt;&gt;();\n        while (n != 1 &amp;&amp; !seen.contains(n)) {\n            seen.add(n);\n            n = sumOfDigitsSquares(n);\n        }\n        return n == 1;\n    }\n}\n\nclass Main {\n    public static void main(String[] args) {\n        var solution = new Solution();\n\n        String answer = solution.isHappy(23) ? &quot;Is happy&quot; : &quot;Not happy at all&quot;;\n        System.out.println(answer);\n    }\n}\n</code></pre>\n<p>Here is one possible way to check all numbers from 1 to 100 for happiness and print the result for each number.</p>\n<pre><code>IntStream.rangeClosed(1, 100)\n                .mapToObj(i -&gt; &quot;&quot; + i + &quot; &quot; + (solution.isHappy(i) ? &quot;is happy&quot; : &quot;not happy&quot;))\n                .forEach(System.out::println);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1667920817,"creation_date":1667841869,"answer_id":74350522,"question_id":74350240,"body_markdown":"To call non-static methods of a class, you need an instance:\r\n\r\n     public static void main (String [] args) {\r\n         Solution foo = new Solution ();\r\n         boolean bar = foo.isHappy (49);\r\n         // do something with bar\r\n     }\r\n\r\nTo use a static method, you don&#39;t use an instance:  \r\n\r\n       class Solution{\r\n           public static int getNext(int n){  ... etc ... \r\n           }                   \r\n           public static boolean isHappy(int n){ ... etc ...  \r\n           }        \r\n         \r\n           public static void main (String [] args) { \r\n              boolean foo = isHappy (1024);\r\n              // do something with foo \r\n           }\r\n       \r\nAnother problem is you are throwing away the result of `isHappy (23)`. \r\n\r\n          System.out.println (isHappy(23));\r\n          System.out.println (&quot;is 23 happy?&quot; + (isHappy(23) ? &quot;Yes&quot; : &quot;No&quot;);\r\n\r\nare two possibilities. \r\n\r\n          ","title":"Calling a boolean method from a class","body":"<p>To call non-static methods of a class, you need an instance:</p>\n<pre><code> public static void main (String [] args) {\n     Solution foo = new Solution ();\n     boolean bar = foo.isHappy (49);\n     // do something with bar\n }\n</code></pre>\n<p>To use a static method, you don't use an instance:</p>\n<pre><code>   class Solution{\n       public static int getNext(int n){  ... etc ... \n       }                   \n       public static boolean isHappy(int n){ ... etc ...  \n       }        \n     \n       public static void main (String [] args) { \n          boolean foo = isHappy (1024);\n          // do something with foo \n       }\n   \n</code></pre>\n<p>Another problem is you are throwing away the result of <code>isHappy (23)</code>.</p>\n<pre><code>      System.out.println (isHappy(23));\n      System.out.println (&quot;is 23 happy?&quot; + (isHappy(23) ? &quot;Yes&quot; : &quot;No&quot;);\n</code></pre>\n<p>are two possibilities.</p>\n"}],"owner":{"account_id":26535892,"reputation":19,"user_id":20167423,"display_name":"qSplatt Rams"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":133,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":3,"score":0,"last_activity_date":1667920817,"creation_date":1667840501,"question_id":74350240,"body_markdown":"i just made a problem which should return if a number &quot;isHappy&quot; or not. A number is happy if it meets some criteria:\r\n\r\nA happy number is a number defined by the following process:\r\n\r\n-Starting with any positive integer, replace the number by the sum of the squares of its digits.\r\n-Repeat the process until the number equals 1 (where it will stay), or it loops endlessly in a cycle which does not include 1.\r\n-Those numbers for which this process ends in 1 are happy.\r\n\r\n\r\n`\r\n\r\n```\r\nimport java.util.HashSet;\r\nimport java.util.Set;\r\n\r\nclass Solution{\r\n    public int getNext(int n){\r\n        int totalSum = 0;\r\n        while(n &gt; 0){\r\n            int last = n % 10;\r\n            n = n / 10;\r\n            totalSum += last * last;\r\n        }\r\n        return totalSum;\r\n    }\r\n\r\n    public boolean isHappy(int n){\r\n        Set&lt;Integer&gt; seen = new HashSet&lt;&gt;();\r\n        while( n!=1 &amp;&amp; !seen.contains(n)){\r\n            seen.add(n);\r\n            n = getNext(n);\r\n        }\r\n        return n==1;\r\n    }\r\n}\r\n\r\n class Main {\r\n    public static void main(String[] args){\r\n        isHappy(23);  //this doesnt work.\r\n    }\r\n}\r\n```\r\n\r\n`\r\n\r\nI don&#39;t know how to call this function, tried different methods like int number = 23 for ex and then isHappy(number) sout(isHappy(number)); , number.isHappy() although this makes no sense, intellij is telling me to make a method inside main but i dont think i must do this, think there s another way.","title":"Calling a boolean method from a class","body":"<p>i just made a problem which should return if a number &quot;isHappy&quot; or not. A number is happy if it meets some criteria:</p>\n<p>A happy number is a number defined by the following process:</p>\n<p>-Starting with any positive integer, replace the number by the sum of the squares of its digits.\n-Repeat the process until the number equals 1 (where it will stay), or it loops endlessly in a cycle which does not include 1.\n-Those numbers for which this process ends in 1 are happy.</p>\n<p>`</p>\n<pre><code>import java.util.HashSet;\nimport java.util.Set;\n\nclass Solution{\n    public int getNext(int n){\n        int totalSum = 0;\n        while(n &gt; 0){\n            int last = n % 10;\n            n = n / 10;\n            totalSum += last * last;\n        }\n        return totalSum;\n    }\n\n    public boolean isHappy(int n){\n        Set&lt;Integer&gt; seen = new HashSet&lt;&gt;();\n        while( n!=1 &amp;&amp; !seen.contains(n)){\n            seen.add(n);\n            n = getNext(n);\n        }\n        return n==1;\n    }\n}\n\n class Main {\n    public static void main(String[] args){\n        isHappy(23);  //this doesnt work.\n    }\n}\n</code></pre>\n<p>`</p>\n<p>I don't know how to call this function, tried different methods like int number = 23 for ex and then isHappy(number) sout(isHappy(number)); , number.isHappy() although this makes no sense, intellij is telling me to make a method inside main but i dont think i must do this, think there s another way.</p>\n"},{"tags":["java","asynchronous","reactive-programming","netty","micronaut"],"answers":[{"tags":[],"owner":{"account_id":2411568,"reputation":15860,"user_id":2106516,"accept_rate":91,"display_name":"tmarwen"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1667920804,"creation_date":1614597052,"answer_id":66421038,"question_id":66396258,"body_markdown":"&gt; There is a bit of a tradeoff with reactive/async programming - you trade simpler, more readable/maintainable code for improved performance.\r\n\r\nThere is almost no performance garante, *or immediate gain* at least, when moving to an asynchronous or reactive-style programming.\r\n*This is one of the most common mis-understanding of this programming styles paradigms and they can actually do more harm than good to your application whenever used in the wrong way.*\r\n\r\nThe asynchronous (or reactive) programming promise is ***scalability***, i.e., you application will be able to scale at peak loads way better than a traditional synchronous (blocking) application.\r\n\r\n*Micronaut* has been designed with such considerations in mind while allowing traditional programming style to co-exist with a modern web application building blocks.\r\n\r\nWhen used with [Netty][1], *Micronaut* will serve your *HTTP* requests through a *non-blocking event-loop*, allowing your application to accept (and scale) requests beyond what a traditional *Servlet (2.5 ~ event 3.1 with `Async` requests)* based container would allow.\r\n\r\nHowever, there is a lot of concerns that should be taken into account when using such a model, and *Micronaut* takes most of the job from your shoulders by - well scheduling resources (CPU) usage - allowing to avoid request blocking.\r\n\r\nOne of the common, and simple, tricks is to use the [`@ExecuteOn`][2] annotation whenever your application (or resource endpoint) is going to block on IO operations (network, DB, disk...).\r\n\r\n\r\n  [1]: https://netty.io/\r\n  [2]: https://docs.micronaut.io/latest/api/io/micronaut/scheduling/annotation/ExecuteOn.html","title":"Is asynchronous programming required in Micronaut?","body":"<blockquote>\n<p>There is a bit of a tradeoff with reactive/async programming - you trade simpler, more readable/maintainable code for improved performance.</p>\n</blockquote>\n<p>There is almost no performance garante, <em>or immediate gain</em> at least, when moving to an asynchronous or reactive-style programming.\n<em>This is one of the most common mis-understanding of this programming styles paradigms and they can actually do more harm than good to your application whenever used in the wrong way.</em></p>\n<p>The asynchronous (or reactive) programming promise is <em><strong>scalability</strong></em>, i.e., you application will be able to scale at peak loads way better than a traditional synchronous (blocking) application.</p>\n<p><em>Micronaut</em> has been designed with such considerations in mind while allowing traditional programming style to co-exist with a modern web application building blocks.</p>\n<p>When used with <a href=\"https://netty.io/\" rel=\"nofollow noreferrer\">Netty</a>, <em>Micronaut</em> will serve your <em>HTTP</em> requests through a <em>non-blocking event-loop</em>, allowing your application to accept (and scale) requests beyond what a traditional <em>Servlet (2.5 ~ event 3.1 with <code>Async</code> requests)</em> based container would allow.</p>\n<p>However, there is a lot of concerns that should be taken into account when using such a model, and <em>Micronaut</em> takes most of the job from your shoulders by - well scheduling resources (CPU) usage - allowing to avoid request blocking.</p>\n<p>One of the common, and simple, tricks is to use the <a href=\"https://docs.micronaut.io/latest/api/io/micronaut/scheduling/annotation/ExecuteOn.html\" rel=\"nofollow noreferrer\"><code>@ExecuteOn</code></a> annotation whenever your application (or resource endpoint) is going to block on IO operations (network, DB, disk...).</p>\n"}],"owner":{"account_id":1379314,"reputation":3624,"user_id":1312674,"accept_rate":67,"display_name":"rcgeorge23"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2703,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":66421038,"answer_count":1,"score":3,"last_activity_date":1667920804,"creation_date":1614407839,"question_id":66396258,"body_markdown":"There is a bit of a tradeoff with reactive/async programming - you trade simpler, more readable/maintainable code for improved performance.\r\n\r\nIf you are planning to do blocking operations in a Micronaut REST application, is it considered terrible practice to execute these on the HTTP request serving threads?\r\n\r\nIf you were to increase the size of the HTTP request serving threadpool in Micronaut so that it was similar in size to that of a regular HTTP framework&#39;s thread pool, for example non reactive Spring MVC / Tomcat, would you expect Micronaut&#39;s performance characteristics to be similar to those of Spring MVC running on Tomcat?","title":"Is asynchronous programming required in Micronaut?","body":"<p>There is a bit of a tradeoff with reactive/async programming - you trade simpler, more readable/maintainable code for improved performance.</p>\n<p>If you are planning to do blocking operations in a Micronaut REST application, is it considered terrible practice to execute these on the HTTP request serving threads?</p>\n<p>If you were to increase the size of the HTTP request serving threadpool in Micronaut so that it was similar in size to that of a regular HTTP framework's thread pool, for example non reactive Spring MVC / Tomcat, would you expect Micronaut's performance characteristics to be similar to those of Spring MVC running on Tomcat?</p>\n"},{"tags":["java","matrix","arraylist","stringtokenizer"],"comments":[{"owner":{"account_id":11095946,"reputation":315,"user_id":8146089,"display_name":"Dennis LLopis"},"score":0,"creation_date":1667923082,"post_id":74363095,"comment_id":131281206,"body_markdown":"Is there a reason of why you are storing all the numbers into one list instead of parsing the file line by line and adding it directly to a List&lt;&lt;ArrayList&gt;&gt; matrix?","body":"Is there a reason of why you are storing all the numbers into one list instead of parsing the file line by line and adding it directly to a List&lt;&lt;ArrayList&gt;&gt; matrix?"},{"owner":{"account_id":26857452,"reputation":1,"user_id":20441539,"display_name":"Bruda"},"score":0,"creation_date":1667923982,"post_id":74363095,"comment_id":131281553,"body_markdown":"I can&#39;t do it. I don&#39;t know how to read a line and put it into a List &lt;&lt;ArrayList&gt;&gt;. I&#39;m trying to get:                                                                            [[0, 24, 12, 52],[24, 0, 16, 23],[12, 16, 0, 18],[52, 23, 18, 0]]                                  With a fixed dimension it&#39;s easy but I want to do it dinamically... for every dimension","body":"I can&#39;t do it. I don&#39;t know how to read a line and put it into a List &lt;&lt;ArrayList&gt;&gt;. I&#39;m trying to get:                                                                            [[0, 24, 12, 52],[24, 0, 16, 23],[12, 16, 0, 18],[52, 23, 18, 0]]                                  With a fixed dimension it&#39;s easy but I want to do it dinamically... for every dimension"}],"owner":{"account_id":26857452,"reputation":1,"user_id":20441539,"display_name":"Bruda"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667920716,"creation_date":1667920716,"question_id":74363095,"body_markdown":"I can&#39;t put numbers taken froma text file inside a matrix.\r\n\r\nThe text file is this:\r\n\r\n\r\n```\r\n4\r\n0 24 12 52\r\n24 0 16 23\r\n12 16 0 18\r\n52 23 18 0\r\n```\r\n\r\nI tried this:\r\n\r\n\r\n```\r\npublic class Siti {\r\n\r\n    public static void main(String[] args) throws FileNotFoundException, IOException {\r\n        BufferedReader reader = new BufferedReader(new FileReader(&quot;C://Users//dbruschi//Java-projects//NodiTelefonici//nodi.txt&quot;));\r\n\r\n        String line = null;\r\n\r\n        ArrayList&lt;Integer&gt; numbers = new ArrayList&lt;&gt;();\r\n\r\n        while ((line = reader.readLine()) != null) {\r\n            StringTokenizer token = new StringTokenizer(line);\r\n            while (token.hasMoreTokens()) {\r\n                int num = Integer.parseInt(token.nextToken());\r\n                numbers.add(num);\r\n            }\r\n        }\r\n        System.out.println(numbers);\r\n\r\n        int dimension = numbers.get(0);\r\n\r\n\r\n        System.out.println(&quot;The dimension is: &quot; + dimension);\r\n\r\n        ArrayList&lt;ArrayList&lt;Integer&gt;&gt; matrix = new ArrayList&lt;ArrayList&lt;Integer&gt;&gt;();\r\n\r\n        for(int j = 0; j &lt; dimension; j++) {\r\n            ArrayList&lt;Integer&gt; matrixRow = new ArrayList&lt;Integer&gt;();\r\n            for (int i = 1; i &lt; dimension+1; i++) {\r\n                int elem = numbers.get(i);\r\n                matrixRow.add(elem);\r\n            }\r\n            matrix.add(matrixRow);\r\n        }\r\n        System.out.println(matrix);\r\n     }\r\n}\r\n```\r\nAnd of course the output is this:\r\n\r\n```\r\n[[0, 24, 12, 52], [0, 24, 12, 52], [0, 24, 12, 52], [0, 24, 12, 52]]\r\n```\r\n\r\n\r\n\r\n\r\nI tried without arraylist but I want to manage rows and columns and so i think that arraylist is the best way ","title":"How to put values taken from a text file inside a matrix","body":"<p>I can't put numbers taken froma text file inside a matrix.</p>\n<p>The text file is this:</p>\n<pre><code>4\n0 24 12 52\n24 0 16 23\n12 16 0 18\n52 23 18 0\n</code></pre>\n<p>I tried this:</p>\n<pre><code>public class Siti {\n\n    public static void main(String[] args) throws FileNotFoundException, IOException {\n        BufferedReader reader = new BufferedReader(new FileReader(&quot;C://Users//dbruschi//Java-projects//NodiTelefonici//nodi.txt&quot;));\n\n        String line = null;\n\n        ArrayList&lt;Integer&gt; numbers = new ArrayList&lt;&gt;();\n\n        while ((line = reader.readLine()) != null) {\n            StringTokenizer token = new StringTokenizer(line);\n            while (token.hasMoreTokens()) {\n                int num = Integer.parseInt(token.nextToken());\n                numbers.add(num);\n            }\n        }\n        System.out.println(numbers);\n\n        int dimension = numbers.get(0);\n\n\n        System.out.println(&quot;The dimension is: &quot; + dimension);\n\n        ArrayList&lt;ArrayList&lt;Integer&gt;&gt; matrix = new ArrayList&lt;ArrayList&lt;Integer&gt;&gt;();\n\n        for(int j = 0; j &lt; dimension; j++) {\n            ArrayList&lt;Integer&gt; matrixRow = new ArrayList&lt;Integer&gt;();\n            for (int i = 1; i &lt; dimension+1; i++) {\n                int elem = numbers.get(i);\n                matrixRow.add(elem);\n            }\n            matrix.add(matrixRow);\n        }\n        System.out.println(matrix);\n     }\n}\n</code></pre>\n<p>And of course the output is this:</p>\n<pre><code>[[0, 24, 12, 52], [0, 24, 12, 52], [0, 24, 12, 52], [0, 24, 12, 52]]\n</code></pre>\n<p>I tried without arraylist but I want to manage rows and columns and so i think that arraylist is the best way</p>\n"},{"tags":["java","pdf","itext","pdfbox"],"comments":[{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1667967618,"post_id":74363089,"comment_id":131292088,"body_markdown":"&quot;the output pdf generated from the image is low quality&quot; -&gt; check the images first. In PDFBox you can decide the resolution.","body":"&quot;the output pdf generated from the image is low quality&quot; -&gt; check the images first. In PDFBox you can decide the resolution."},{"owner":{"account_id":19963040,"reputation":401,"user_id":14630182,"display_name":"Arjun C E"},"score":0,"creation_date":1668002147,"post_id":74363089,"comment_id":131301997,"body_markdown":"Hi @TilmanHausherr I have a requirement for the scaling factor of the image to be 1 (72dpi) if I generate an image with 72dpi the generated image is low quality","body":"Hi @TilmanHausherr I have a requirement for the scaling factor of the image to be 1 (72dpi) if I generate an image with 72dpi the generated image is low quality"},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1668011191,"post_id":74363089,"comment_id":131305687,"body_markdown":"72 dpi won&#39;t look good. You can generate at a higher dpi and scale appropriately when creating the new PDF.","body":"72 dpi won&#39;t look good. You can generate at a higher dpi and scale appropriately when creating the new PDF."}],"owner":{"account_id":19963040,"reputation":401,"user_id":14630182,"display_name":"Arjun C E"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667920676,"creation_date":1667920676,"question_id":74363089,"body_markdown":"I need to OCR a readable pdf again to generate hOCR file.\r\nI am using,\r\n\r\n&gt; Apache PDFBox -&gt; parse the readable pdf                   \r\n&gt; Qoppa -&gt; OCR the pdf\r\n\r\nCurrently, I am trying iText to create a pdf after converting PDF page to image using PDFRenderer from PDfbox.\r\n\r\n        Document document = new Document();\r\n        PdfWriter.getInstance(document, new FileOutputStream(&quot;iTextImageExample.pdf&quot;));\r\n        document.open();\r\n        Image img = Image.getInstance(&quot;C:\\\\Projects\\\\Data Mapping\\\\singularity-data-jockey-pdflib\\\\src\\\\test\\\\resources\\\\data\\\\pageimg.jpg&quot;);\r\n        document.add(img);\r\n\r\n I also tried with Qoppa PDfDocument class. \r\nThe issue is, the output pdf generated from the image is low quality and OCR is not accurate. Is there any other way to convert the pdf to non searchable pdf? ","title":"Converting ePDF to a non searchable pdf programmatically","body":"<p>I need to OCR a readable pdf again to generate hOCR file.\nI am using,</p>\n<blockquote>\n<p>Apache PDFBox -&gt; parse the readable pdf<br />\nQoppa -&gt; OCR the pdf</p>\n</blockquote>\n<p>Currently, I am trying iText to create a pdf after converting PDF page to image using PDFRenderer from PDfbox.</p>\n<pre><code>    Document document = new Document();\n    PdfWriter.getInstance(document, new FileOutputStream(&quot;iTextImageExample.pdf&quot;));\n    document.open();\n    Image img = Image.getInstance(&quot;C:\\\\Projects\\\\Data Mapping\\\\singularity-data-jockey-pdflib\\\\src\\\\test\\\\resources\\\\data\\\\pageimg.jpg&quot;);\n    document.add(img);\n</code></pre>\n<p>I also tried with Qoppa PDfDocument class.\nThe issue is, the output pdf generated from the image is low quality and OCR is not accurate. Is there any other way to convert the pdf to non searchable pdf?</p>\n"},{"tags":["java","database","jpa","intellij-idea","h2"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1667937561,"post_id":74362806,"comment_id":131286275,"body_markdown":"First question: why do you expect it to have changed at all? You have to configure JPA DDL generation  and it really only offers two options; create it or drop and create it (se https://www.baeldung.com/spring-data-jpa-generate-db-schema ). The error you are getting shows it certainly is trying to issue some DROP DDL statements to clean up your database. In this case, it cannot because the drop script it has and is using is wrong for the state of the database. You will need to see if you have a script from before your latest changes you can run, or manually drop the schema yourself.","body":"First question: why do you expect it to have changed at all? You have to configure JPA DDL generation  and it really only offers two options; create it or drop and create it (se <a href=\"https://www.baeldung.com/spring-data-jpa-generate-db-schema\" rel=\"nofollow noreferrer\">baeldung.com/spring-data-jpa-generate-db-schema</a> ). The error you are getting shows it certainly is trying to issue some DROP DDL statements to clean up your database. In this case, it cannot because the drop script it has and is using is wrong for the state of the database. You will need to see if you have a script from before your latest changes you can run, or manually drop the schema yourself."},{"owner":{"account_id":26667534,"reputation":1,"user_id":20279399,"display_name":""},"score":0,"creation_date":1667964653,"post_id":74362806,"comment_id":131291756,"body_markdown":"answer for question : the table should be changed cuz i change the codes..! the table is not the result that i intended. the problem that i face is ; &quot;i change the code but the table is not changed&quot;","body":"answer for question : the table should be changed cuz i change the codes..! the table is not the result that i intended. the problem that i face is ; &quot;i change the code but the table is not changed&quot;"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1668013400,"post_id":74362806,"comment_id":131306502,"body_markdown":"You haven&#39;t shown what configuration you are using, and no tool in existence can read your mind. It needs configuration to tell it what to do and how to handle the various use cases and edge cases that crop up. In this case, I would guess (since not details are given) that you are using drop and create options. Since your model has drastically changed since the DB was generated last, the drop script is wildly different from what would be needed. It is a situation that needs manual intervention, hence the warnings! I&#39;ve told you what to do so you&#39;ll need to reframe your question","body":"You haven&#39;t shown what configuration you are using, and no tool in existence can read your mind. It needs configuration to tell it what to do and how to handle the various use cases and edge cases that crop up. In this case, I would guess (since not details are given) that you are using drop and create options. Since your model has drastically changed since the DB was generated last, the drop script is wildly different from what would be needed. It is a situation that needs manual intervention, hence the warnings! I&#39;ve told you what to do so you&#39;ll need to reframe your question"}],"answers":[{"tags":[],"owner":{"account_id":6321227,"reputation":21,"user_id":4909220,"display_name":"Phil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667920630,"creation_date":1667920630,"answer_id":74363080,"question_id":74362806,"body_markdown":"If This is usually configured in your persistence xml:\r\n\r\nFor an example see the &quot;hibernate.hbm2ddl.auto&quot; property here:\r\nhttps://gist.github.com/jorgevs/218483e7ba854e8e6e23be18182b0381","title":"jpa&#39;s changes are not reflected at H2 database","body":"<p>If This is usually configured in your persistence xml:</p>\n<p>For an example see the &quot;hibernate.hbm2ddl.auto&quot; property here:\n<a href=\"https://gist.github.com/jorgevs/218483e7ba854e8e6e23be18182b0381\" rel=\"nofollow noreferrer\">https://gist.github.com/jorgevs/218483e7ba854e8e6e23be18182b0381</a></p>\n"}],"owner":{"account_id":26667534,"reputation":1,"user_id":20279399,"display_name":""},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":399,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1667920630,"creation_date":1667919485,"question_id":74362806,"body_markdown":"I&#39;m writing the code which is related with one-to-many one way mapping.\r\n\r\nIn that process, i face a problem.\r\n\r\nI changed the intellij codes, but h2 database&#39;s tables don&#39;t change.\r\n\r\n\r\n\r\nThe image below is the result(h2 database table).\r\n[![enter image description here](https://i.stack.imgur.com/LfnoZ.png)](https://i.stack.imgur.com/LfnoZ.png)\r\n\r\nand these are the four java class files.\r\n\r\n```\r\n`package hellojpa;\r\n\r\nimport org.example.Main;\r\n\r\nimport javax.persistence.EntityManager;\r\nimport javax.persistence.EntityManagerFactory;\r\nimport javax.persistence.EntityTransaction;\r\nimport javax.persistence.Persistence;\r\nimport java.util.List;\r\n\r\n`your text`\r\n`public class JpaMain {\r\n\r\n    private static Team team;\r\n\r\n    public static void main(String[] args){\r\n        EntityManagerFactory emf = Persistence.createEntityManagerFactory(&quot;hello&quot;);\r\n\r\n        EntityManager em = emf.createEntityManager();\r\n\r\n        EntityTransaction tx = em.getTransaction();\r\n        tx.begin();\r\n\r\n        try{\r\n\r\n            Member member = new Member();\r\n            member.setUsername(&quot;member1&quot;);\r\n            em.persist(member);\r\n\r\n            Team team = new Team();\r\n            team.setName(&quot;teamA&quot;);\r\n            team.getMembers().add(member);\r\n            em.persist(team);\r\n\r\n            tx.commit();\r\n        }catch(Exception e){\r\n            tx.rollback();\r\n        } finally{\r\n            em.close();\r\n        }\r\n        emf.close();\r\n    }\r\n}`\r\n`\r\n```\r\n\r\n```\r\npackage hellojpa;\r\nimport net.bytebuddy.dynamic.TypeResolutionStrategy;\r\nimport org.hibernate.annotations.Fetch;\r\n\r\nimport javax.persistence.*;\r\nimport java.util.List;\r\n\r\n@Entity\r\n        public class Member {\r\n        @Id @GeneratedValue\r\n        @Column(name = &quot;MEMBER_ID&quot;)\r\n        private Long id;\r\n\r\n        @Column(name = &quot;USERNAME&quot;)\r\n        private String username;\r\n\r\n        public Long getId() {return id;}\r\n\r\n        public void setId(Long id) {this.id = id;}\r\n\r\n        public String getUsername() {return username;}\r\n\r\n        public void setUsername(String username) {this.username = username;}\r\n\r\n\r\n}\r\n```\r\n\r\n```\r\npackage hellojpa;\r\n\r\npublic enum RoleType {\r\n    GUEST, USER, ADMIN\r\n}\r\n```\r\n\r\n```\r\npackage hellojpa;\r\n\r\nimport javax.persistence.*;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\n@Entity\r\npublic class Team extends Member {\r\n\r\n    @Id @GeneratedValue\r\n    @Column(name = &quot;TEAM_ID&quot;)\r\n    private Long id;\r\n    private String name;\r\n\r\n    @OneToMany\r\n    @JoinColumn(name = &quot;TEAM_ID&quot;)\r\n    private List&lt;Member&gt; members = new ArrayList&lt;&gt;();\r\n\r\n    public Long getId() {return id;}\r\n\r\n    public void setId(Long id) {this.id = id;}\r\n\r\n    public String getName() {return name;}\r\n\r\n    public void setName(String name) {this.name = name;}\r\n\r\n    public List&lt;Member&gt; getMembers() {\r\n        return members;\r\n    }\r\n\r\n    public void setMembers(List&lt;Member&gt; members) {\r\n        this.members = members;\r\n    }\r\n}\r\n```\r\n\r\nand this is the result running the codes.\r\n\r\n```\r\nC:\\jdk1.8\\bin\\java.exe &quot;-javaagent:C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2022.2.3\\lib\\idea_rt.jar=57451:C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2022.2.3\\bin&quot; -Dfile.encoding=UTF-8 -classpath C:\\jdk1.8\\jre\\lib\\charsets.jar;C:\\jdk1.8\\jre\\lib\\ext\\access-bridge-64.jar;C:\\jdk1.8\\jre\\lib\\ext\\cldrdata.jar;C:\\jdk1.8\\jre\\lib\\ext\\dnsns.jar;C:\\jdk1.8\\jre\\lib\\ext\\jaccess.jar;C:\\jdk1.8\\jre\\lib\\ext\\localedata.jar;C:\\jdk1.8\\jre\\lib\\ext\\nashorn.jar;C:\\jdk1.8\\jre\\lib\\ext\\sunec.jar;C:\\jdk1.8\\jre\\lib\\ext\\sunjce_provider.jar;C:\\jdk1.8\\jre\\lib\\ext\\sunmscapi.jar;C:\\jdk1.8\\jre\\lib\\ext\\sunpkcs11.jar;C:\\jdk1.8\\jre\\lib\\ext\\zipfs.jar;C:\\jdk1.8\\jre\\lib\\jce.jar;C:\\jdk1.8\\jre\\lib\\jfr.jar;C:\\jdk1.8\\jre\\lib\\jsse.jar;C:\\jdk1.8\\jre\\lib\\management-agent.jar;C:\\jdk1.8\\jre\\lib\\resources.jar;C:\\jdk1.8\\jre\\lib\\rt.jar;C:\\Users\\\\IdeaProjects\\untitled\\target\\classes;C:\\Users\\\\.m2\\repository\\org\\hibernate\\hibernate-entitymanager\\5.3.10.Final\\hibernate-entitymanager-5.3.10.Final.jar;C:\\Users\\\\.m2\\repository\\org\\jboss\\logging\\jboss-logging\\3.3.2.Final\\jboss-logging-3.3.2.Final.jar;C:\\Users\\\\.m2\\repository\\org\\hibernate\\hibernate-core\\5.3.10.Final\\hibernate-core-5.3.10.Final.jar;C:\\Users\\\\.m2\\repository\\org\\javassist\\javassist\\3.23.2-GA\\javassist-3.23.2-GA.jar;C:\\Users\\\\.m2\\repository\\antlr\\antlr\\2.7.7\\antlr-2.7.7.jar;C:\\Users\\\\.m2\\repository\\org\\jboss\\jandex\\2.0.5.Final\\jandex-2.0.5.Final.jar;C:\\Users\\\\.m2\\repository\\com\\fasterxml\\classmate\\1.3.4\\classmate-1.3.4.jar;C:\\Users\\\\.m2\\repository\\javax\\activation\\javax.activation-api\\1.2.0\\javax.activation-api-1.2.0.jar;C:\\Users\\\\.m2\\repository\\org\\dom4j\\dom4j\\2.1.1\\dom4j-2.1.1.jar;C:\\Users\\\\.m2\\repository\\org\\hibernate\\common\\hibernate-commons-annotations\\5.0.4.Final\\hibernate-commons-annotations-5.0.4.Final.jar;C:\\Users\\\\.m2\\repository\\javax\\persistence\\javax.persistence-api\\2.2\\javax.persistence-api-2.2.jar;C:\\Users\\\\.m2\\repository\\net\\bytebuddy\\byte-buddy\\1.9.5\\byte-buddy-1.9.5.jar;C:\\Users\\\\.m2\\repository\\org\\jboss\\spec\\javax\\transaction\\jboss-transaction-api_1.2_spec\\1.1.1.Final\\jboss-transaction-api_1.2_spec-1.1.1.Final.jar;C:\\Users\\\\.m2\\repository\\com\\h2database\\h2\\2.1.214\\h2-2.1.214.jar hellojpa.JpaMain\r\n11 08, 2022 11:52:05  org.hibernate.jpa.internal.util.LogHelper logPersistenceUnitInformation\r\nINFO: HHH000204: Processing PersistenceUnitInfo [\r\n\tname: hello\r\n\t...]\r\n11 08, 2022 11:52:05  org.hibernate.Version logVersion\r\nINFO: HHH000412: Hibernate Core {5.3.10.Final}\r\n11 08, 2022 11:52:05  org.hibernate.cfg.Environment &lt;clinit&gt;\r\nINFO: HHH000206: hibernate.properties not found\r\n11 08, 2022 11:52:06  org.hibernate.annotations.common.reflection.java.JavaReflectionManager &lt;clinit&gt;\r\nINFO: HCANN000001: Hibernate Commons Annotations {5.0.4.Final}\r\n11 08, 2022 11:52:07  org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl configure\r\nWARN: HHH10001002: Using Hibernate built-in connection pool (not for production use!)\r\n11 08, 2022 11:52:07  org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\r\nINFO: HHH10001005: using driver [org.h2.Driver] at URL [jdbc:h2:tcp://localhost/~/test]\r\n11 08, 2022 11:52:07  org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\r\nINFO: HHH10001001: Connection properties: {user=sa}\r\n11 08, 2022 11:52:07  org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\r\nINFO: HHH10001003: Autocommit mode: false\r\n11 08, 2022 11:52:07  org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl$PooledConnections &lt;init&gt;\r\nINFO: HHH000115: Hibernate connection pool size: 20 (min=1)\r\n11 08, 2022 11:52:07  org.hibernate.dialect.Dialect &lt;init&gt;\r\nINFO: HHH000400: Using dialect: org.hibernate.dialect.H2Dialect\r\nHibernate: \r\n    \r\n    drop table Member if exists\r\nHibernate: \r\n    \r\n    drop sequence if exists hibernate_sequence\r\n11 08, 2022 11:52:09  org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl getIsolatedConnection\r\nINFO: HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@503d56b5] for (non-JTA) DDL execution was not in auto-commit mode; the Connection &#39;local transaction&#39; will be committed and the Connection will be set into auto-commit mode.\r\n11 08, 2022 11:52:09  org.hibernate.tool.schema.internal.ExceptionHandlerLoggedImpl handleException\r\nWARN: GenerationTarget encountered exception accepting command : Error executing DDL &quot;\r\n    drop table Member if exists&quot; via JDBC Statement\r\norg.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;\r\n    drop table Member if exists&quot; via JDBC Statement\r\n\tat org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)\r\n\tat org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlString(SchemaDropperImpl.java:375)\r\n\tat org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlStrings(SchemaDropperImpl.java:359)\r\n\tat org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:241)\r\n\tat org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:154)\r\n\tat org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:126)\r\n\tat org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:112)\r\n\tat org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:144)\r\n\tat org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:72)\r\n\tat org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:310)\r\n\tat org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:467)\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:939)\r\n\tat org.hibernate.jpa.HibernatePersistenceProvider.createEntityManagerFactory(HibernatePersistenceProvider.java:56)\r\n\tat javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:79)\r\n\tat javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:54)\r\n\tat hellojpa.JpaMain.main(JpaMain.java:16)\r\nCaused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Cannot drop &quot;MEMBER&quot; because &quot;FKE8UEUS37RRMKA8U5STQRU9V0A, FK15N138CXCXM0P0V68XQU8H76F&quot; depends on it; SQL statement:\r\n\r\n    drop table Member if  [90107-214]\r\n\tat org.h2.message.DbException.getJdbcSQLException(DbException.java:632)\r\n\tat org.h2.message.DbException.getJdbcSQLException(DbException.java:477)\r\n\tat org.h2.message.DbException.get(DbException.java:223)\r\n\tat org.h2.command.ddl.DropTable.prepareDrop(DropTable.java:97)\r\n\tat org.h2.command.ddl.DropTable.update(DropTable.java:121)\r\n\tat org.h2.command.CommandContainer.update(CommandContainer.java:169)\r\n\tat org.h2.command.Command.executeUpdate(Command.java:252)\r\n\tat org.h2.server.TcpServerThread.process(TcpServerThread.java:408)\r\n\tat org.h2.server.TcpServerThread.run(TcpServerThread.java:191)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\n\r\n\tat org.h2.message.DbException.getJdbcSQLException(DbException.java:632)\r\n\tat org.h2.engine.SessionRemote.readException(SessionRemote.java:637)\r\n\tat org.h2.engine.SessionRemote.done(SessionRemote.java:606)\r\n\tat org.h2.command.CommandRemote.executeUpdate(CommandRemote.java:227)\r\n\tat org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:252)\r\n\tat org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:223)\r\n\tat org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)\r\n\t... 15 more\r\n\r\n11 08, 2022 11:52:09  org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl getIsolatedConnection\r\nINFO: HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@30c0ccff] for (non-JTA) DDL execution was not in auto-commit mode; the Connection &#39;local transaction&#39; will be committed and the Connection will be set into auto-commit mode.\r\nHibernate: create sequence hibernate_sequence start with 1 increment by 1\r\nHibernate: \r\n    \r\n    create table Member (\r\n       DTYPE varchar(31) not null,\r\n        MEMBER_ID bigint not null,\r\n        USERNAME varchar(255),\r\n        name varchar(255),\r\n        TEAM_ID bigint,\r\n        primary key (MEMBER_ID)\r\n    )\r\n11 08, 2022 11:52:09  org.hibernate.tool.schema.internal.ExceptionHandlerLoggedImpl handleException\r\nWARN: GenerationTarget encountered exception accepting command : Error executing DDL &quot;\r\n    create table Member (\r\n       DTYPE varchar(31) not null,\r\n        MEMBER_ID bigint not null,\r\n        USERNAME varchar(255),\r\n        name varchar(255),\r\n        TEAM_ID bigint,\r\n        primary key (MEMBER_ID)\r\n    )&quot; via JDBC Statement\r\norg.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;\r\n    create table Member (\r\n       DTYPE varchar(31) not null,\r\n        MEMBER_ID bigint not null,\r\n        USERNAME varchar(255),\r\n        name varchar(255),\r\n        TEAM_ID bigint,\r\n        primary key (MEMBER_ID)\r\n    )&quot; via JDBC Statement\r\n\tat org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)\r\n\tat org.hibernate.tool.schema.internal.SchemaCreatorImpl.applySqlString(SchemaCreatorImpl.java:440)\r\n\tat org.hibernate.tool.schema.internal.SchemaCreatorImpl.applySqlStrings(SchemaCreatorImpl.java:424)\r\n\tat org.hibernate.tool.schema.internal.SchemaCreatorImpl.createFromMetadata(SchemaCreatorImpl.java:315)\r\n\tat org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:166)\r\n\tat org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:135)\r\n\tat org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:121)\r\n\tat org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:155)\r\n\tat org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:72)\r\n\tat org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:310)\r\n\tat org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:467)\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:939)\r\n\tat org.hibernate.jpa.HibernatePersistenceProvider.createEntityManagerFactory(HibernatePersistenceProvider.java:56)\r\n\tat javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:79)\r\n\tat javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:54)\r\n\tat hellojpa.JpaMain.main(JpaMain.java:16)\r\nCaused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Table &quot;MEMBER&quot; already exists; SQL statement:\r\n\r\n    create table Member (\r\n       DTYPE varchar(31) not null,\r\n        MEMBER_ID bigint not null,\r\n        USERNAME varchar(255),\r\n        name varchar(255),\r\n        TEAM_ID bigint,\r\n [42101-214]\r\n\tat org.h2.message.DbException.getJdbcSQLException(DbException.java:502)\r\n\tat org.h2.message.DbException.getJdbcSQLException(DbException.java:477)\r\n\tat org.h2.message.DbException.get(DbException.java:223)\r\n\tat org.h2.message.DbException.get(DbException.java:199)\r\n\tat org.h2.command.ddl.CreateTable.update(CreateTable.java:91)\r\n\tat org.h2.command.CommandContainer.update(CommandContainer.java:169)\r\n\tat org.h2.command.Command.executeUpdate(Command.java:252)\r\n\tat org.h2.server.TcpServerThread.process(TcpServerThread.java:408)\r\n\tat org.h2.server.TcpServerThread.run(TcpServerThread.java:191)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\n\r\n\tat org.h2.message.DbException.getJdbcSQLException(DbException.java:502)\r\n\tat org.h2.engine.SessionRemote.readException(SessionRemote.java:637)\r\n\tat org.h2.engine.SessionRemote.done(SessionRemote.java:606)\r\n\tat org.h2.command.CommandRemote.executeUpdate(CommandRemote.java:227)\r\n\tat org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:252)\r\n\tat org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:223)\r\n\tat org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)\r\n\t... 15 more\r\n\r\n11 08, 2022 11:52:09  org.hibernate.tool.schema.internal.ExceptionHandlerLoggedImpl handleException\r\nWARN: GenerationTarget encountered exception accepting command : Error executing DDL &quot;\r\n    alter table Member \r\n       add constraint FKo2n5sg34stgq6nnp4q98eyorw \r\n       foreign key (TEAM_ID) \r\n       references Member&quot; via JDBC Statement\r\norg.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;\r\n    alter table Member \r\n       add constraint FKo2n5sg34stgq6nnp4q98eyorw \r\n       foreign key (TEAM_ID) \r\n       references Member&quot; via JDBC Statement\r\n\tat org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)\r\n\tat org.hibernate.tool.schema.internal.SchemaCreatorImpl.applySqlString(SchemaCreatorImpl.java:440)\r\n\tat org.hibernate.tool.schema.internal.SchemaCreatorImpl.applySqlStrings(SchemaCreatorImpl.java:424)\r\n\tat org.hibernate.tool.schema.internal.SchemaCreatorImpl.createFromMetadata(SchemaCreatorImpl.java:375)\r\n\tat org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:166)\r\n\tat org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:135)\r\n\tat org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:121)\r\n\tat org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:155)\r\n\tat org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:72)\r\n\tat org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:310)\r\n\tat org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:467)\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:939)\r\n\tat org.hibernate.jpa.HibernatePersistenceProvider.createEntityManagerFactory(HibernatePersistenceProvider.java:56)\r\n\tat javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:79)\r\n\tat javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:54)\r\n\tat hellojpa.JpaMain.main(JpaMain.java:16)\r\nCaused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Column &quot;TEAM_ID&quot; not found; SQL statement:\r\n\r\n    alter table Member \r\n       add constraint FKo2n5sg34stgq6nnp4q98eyorw \r\n       foreign key (TEAM_ID) \r\n       references  [42122-214]\r\n\tat org.h2.message.DbException.getJdbcSQLException(DbException.java:502)\r\n\tat org.h2.message.DbException.getJdbcSQLException(DbException.java:477)\r\n\tat org.h2.message.DbException.get(DbException.java:223)\r\n\tat org.h2.message.DbException.get(DbException.java:199)\r\n\tat org.h2.table.Table.getColumn(Table.java:749)\r\n\tat org.h2.table.IndexColumn.mapColumns(IndexColumn.java:184)\r\n\tat org.h2.command.ddl.AlterTableAddConstraint.tryUpdate(AlterTableAddConstraint.java:214)\r\n\tat org.h2.command.ddl.AlterTableAddConstraint.update(AlterTableAddConstraint.java:72)\r\n\tat org.h2.command.ddl.AlterTable.update(AlterTable.java:46)\r\n\tat org.h2.command.CommandContainer.update(CommandContainer.java:169)\r\n\tat org.h2.command.Command.executeUpdate(Command.java:252)\r\n\tat org.h2.server.TcpServerThread.process(TcpServerThread.java:408)\r\n\tat org.h2.server.TcpServerThread.run(TcpServerThread.java:191)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\n\r\n\tat org.h2.message.DbException.getJdbcSQLException(DbException.java:502)\r\n\tat org.h2.engine.SessionRemote.readException(SessionRemote.java:637)\r\n\tat org.h2.engine.SessionRemote.done(SessionRemote.java:606)\r\n\tat org.h2.command.CommandRemote.executeUpdate(CommandRemote.java:227)\r\n\tat org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:252)\r\n\tat org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:223)\r\n\tat org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)\r\n\t... 15 more\r\n\r\n11 08, 2022 11:52:09  org.hibernate.tool.schema.internal.SchemaCreatorImpl applyImportSources\r\nINFO: HHH000476: Executing import script &#39;org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@5851bd4f&#39;\r\nHibernate: \r\n    \r\n    alter table Member \r\n       add constraint FKo2n5sg34stgq6nnp4q98eyorw \r\n       foreign key (TEAM_ID) \r\n       references Member\r\nHibernate: \r\n    call next value for hibernate_sequence\r\nHibernate: \r\n    call next value for hibernate_sequence\r\nHibernate: \r\n    insert \r\n    into\r\n        Member\r\n        (USERNAME, DTYPE, MEMBER_ID) \r\n    values\r\n        (?, &#39;Member&#39;, ?)\r\n11 08, 2022 11:52:10  org.hibernate.engine.jdbc.spi.SqlExceptionHelper logExceptions\r\nWARN: SQL Error: 23505, SQLState: 23505\r\n11 08, 2022 11:52:10  org.hibernate.engine.jdbc.spi.SqlExceptionHelper logExceptions\r\nERROR: Unique index or primary key violation: &quot;PRIMARY KEY ON PUBLIC.MEMBER(MEMBER_ID) ( /* key:1 */ &#39;Member&#39;, CAST(1 AS BIGINT), &#39;member1&#39;, NULL)&quot;; SQL statement:\r\ninsert into Member (USERNAME, DTYPE, MEMBER_ID) values (?, &#39;Member&#39;, ?) [23505-214]\r\n11 08, 2022 11:52:10  org.hibernate.internal.ExceptionMapperStandardImpl mapManagedFlushFailure\r\nERROR: HHH000346: Error during managed flush [org.hibernate.exception.ConstraintViolationException: could not execute statement]\r\n11 08, 2022 11:52:10  org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl stop\r\nINFO: HHH10001008: Cleaning up connection pool [jdbc:h2:tcp://localhost/~/test]\r\n\r\nProcess finished with exit code 0\r\n```","title":"jpa&#39;s changes are not reflected at H2 database","body":"<p>I'm writing the code which is related with one-to-many one way mapping.</p>\n<p>In that process, i face a problem.</p>\n<p>I changed the intellij codes, but h2 database's tables don't change.</p>\n<p>The image below is the result(h2 database table).\n<a href=\"https://i.stack.imgur.com/LfnoZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LfnoZ.png\" alt=\"enter image description here\" /></a></p>\n<p>and these are the four java class files.</p>\n<pre><code>`package hellojpa;\n\nimport org.example.Main;\n\nimport javax.persistence.EntityManager;\nimport javax.persistence.EntityManagerFactory;\nimport javax.persistence.EntityTransaction;\nimport javax.persistence.Persistence;\nimport java.util.List;\n\n`your text`\n`public class JpaMain {\n\n    private static Team team;\n\n    public static void main(String[] args){\n        EntityManagerFactory emf = Persistence.createEntityManagerFactory(&quot;hello&quot;);\n\n        EntityManager em = emf.createEntityManager();\n\n        EntityTransaction tx = em.getTransaction();\n        tx.begin();\n\n        try{\n\n            Member member = new Member();\n            member.setUsername(&quot;member1&quot;);\n            em.persist(member);\n\n            Team team = new Team();\n            team.setName(&quot;teamA&quot;);\n            team.getMembers().add(member);\n            em.persist(team);\n\n            tx.commit();\n        }catch(Exception e){\n            tx.rollback();\n        } finally{\n            em.close();\n        }\n        emf.close();\n    }\n}`\n`\n</code></pre>\n<pre><code>package hellojpa;\nimport net.bytebuddy.dynamic.TypeResolutionStrategy;\nimport org.hibernate.annotations.Fetch;\n\nimport javax.persistence.*;\nimport java.util.List;\n\n@Entity\n        public class Member {\n        @Id @GeneratedValue\n        @Column(name = &quot;MEMBER_ID&quot;)\n        private Long id;\n\n        @Column(name = &quot;USERNAME&quot;)\n        private String username;\n\n        public Long getId() {return id;}\n\n        public void setId(Long id) {this.id = id;}\n\n        public String getUsername() {return username;}\n\n        public void setUsername(String username) {this.username = username;}\n\n\n}\n</code></pre>\n<pre><code>package hellojpa;\n\npublic enum RoleType {\n    GUEST, USER, ADMIN\n}\n</code></pre>\n<pre><code>package hellojpa;\n\nimport javax.persistence.*;\nimport java.util.ArrayList;\nimport java.util.List;\n\n@Entity\npublic class Team extends Member {\n\n    @Id @GeneratedValue\n    @Column(name = &quot;TEAM_ID&quot;)\n    private Long id;\n    private String name;\n\n    @OneToMany\n    @JoinColumn(name = &quot;TEAM_ID&quot;)\n    private List&lt;Member&gt; members = new ArrayList&lt;&gt;();\n\n    public Long getId() {return id;}\n\n    public void setId(Long id) {this.id = id;}\n\n    public String getName() {return name;}\n\n    public void setName(String name) {this.name = name;}\n\n    public List&lt;Member&gt; getMembers() {\n        return members;\n    }\n\n    public void setMembers(List&lt;Member&gt; members) {\n        this.members = members;\n    }\n}\n</code></pre>\n<p>and this is the result running the codes.</p>\n<pre><code>C:\\jdk1.8\\bin\\java.exe &quot;-javaagent:C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2022.2.3\\lib\\idea_rt.jar=57451:C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2022.2.3\\bin&quot; -Dfile.encoding=UTF-8 -classpath C:\\jdk1.8\\jre\\lib\\charsets.jar;C:\\jdk1.8\\jre\\lib\\ext\\access-bridge-64.jar;C:\\jdk1.8\\jre\\lib\\ext\\cldrdata.jar;C:\\jdk1.8\\jre\\lib\\ext\\dnsns.jar;C:\\jdk1.8\\jre\\lib\\ext\\jaccess.jar;C:\\jdk1.8\\jre\\lib\\ext\\localedata.jar;C:\\jdk1.8\\jre\\lib\\ext\\nashorn.jar;C:\\jdk1.8\\jre\\lib\\ext\\sunec.jar;C:\\jdk1.8\\jre\\lib\\ext\\sunjce_provider.jar;C:\\jdk1.8\\jre\\lib\\ext\\sunmscapi.jar;C:\\jdk1.8\\jre\\lib\\ext\\sunpkcs11.jar;C:\\jdk1.8\\jre\\lib\\ext\\zipfs.jar;C:\\jdk1.8\\jre\\lib\\jce.jar;C:\\jdk1.8\\jre\\lib\\jfr.jar;C:\\jdk1.8\\jre\\lib\\jsse.jar;C:\\jdk1.8\\jre\\lib\\management-agent.jar;C:\\jdk1.8\\jre\\lib\\resources.jar;C:\\jdk1.8\\jre\\lib\\rt.jar;C:\\Users\\\\IdeaProjects\\untitled\\target\\classes;C:\\Users\\\\.m2\\repository\\org\\hibernate\\hibernate-entitymanager\\5.3.10.Final\\hibernate-entitymanager-5.3.10.Final.jar;C:\\Users\\\\.m2\\repository\\org\\jboss\\logging\\jboss-logging\\3.3.2.Final\\jboss-logging-3.3.2.Final.jar;C:\\Users\\\\.m2\\repository\\org\\hibernate\\hibernate-core\\5.3.10.Final\\hibernate-core-5.3.10.Final.jar;C:\\Users\\\\.m2\\repository\\org\\javassist\\javassist\\3.23.2-GA\\javassist-3.23.2-GA.jar;C:\\Users\\\\.m2\\repository\\antlr\\antlr\\2.7.7\\antlr-2.7.7.jar;C:\\Users\\\\.m2\\repository\\org\\jboss\\jandex\\2.0.5.Final\\jandex-2.0.5.Final.jar;C:\\Users\\\\.m2\\repository\\com\\fasterxml\\classmate\\1.3.4\\classmate-1.3.4.jar;C:\\Users\\\\.m2\\repository\\javax\\activation\\javax.activation-api\\1.2.0\\javax.activation-api-1.2.0.jar;C:\\Users\\\\.m2\\repository\\org\\dom4j\\dom4j\\2.1.1\\dom4j-2.1.1.jar;C:\\Users\\\\.m2\\repository\\org\\hibernate\\common\\hibernate-commons-annotations\\5.0.4.Final\\hibernate-commons-annotations-5.0.4.Final.jar;C:\\Users\\\\.m2\\repository\\javax\\persistence\\javax.persistence-api\\2.2\\javax.persistence-api-2.2.jar;C:\\Users\\\\.m2\\repository\\net\\bytebuddy\\byte-buddy\\1.9.5\\byte-buddy-1.9.5.jar;C:\\Users\\\\.m2\\repository\\org\\jboss\\spec\\javax\\transaction\\jboss-transaction-api_1.2_spec\\1.1.1.Final\\jboss-transaction-api_1.2_spec-1.1.1.Final.jar;C:\\Users\\\\.m2\\repository\\com\\h2database\\h2\\2.1.214\\h2-2.1.214.jar hellojpa.JpaMain\n11 08, 2022 11:52:05  org.hibernate.jpa.internal.util.LogHelper logPersistenceUnitInformation\nINFO: HHH000204: Processing PersistenceUnitInfo [\n    name: hello\n    ...]\n11 08, 2022 11:52:05  org.hibernate.Version logVersion\nINFO: HHH000412: Hibernate Core {5.3.10.Final}\n11 08, 2022 11:52:05  org.hibernate.cfg.Environment &lt;clinit&gt;\nINFO: HHH000206: hibernate.properties not found\n11 08, 2022 11:52:06  org.hibernate.annotations.common.reflection.java.JavaReflectionManager &lt;clinit&gt;\nINFO: HCANN000001: Hibernate Commons Annotations {5.0.4.Final}\n11 08, 2022 11:52:07  org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl configure\nWARN: HHH10001002: Using Hibernate built-in connection pool (not for production use!)\n11 08, 2022 11:52:07  org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\nINFO: HHH10001005: using driver [org.h2.Driver] at URL [jdbc:h2:tcp://localhost/~/test]\n11 08, 2022 11:52:07  org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\nINFO: HHH10001001: Connection properties: {user=sa}\n11 08, 2022 11:52:07  org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\nINFO: HHH10001003: Autocommit mode: false\n11 08, 2022 11:52:07  org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl$PooledConnections &lt;init&gt;\nINFO: HHH000115: Hibernate connection pool size: 20 (min=1)\n11 08, 2022 11:52:07  org.hibernate.dialect.Dialect &lt;init&gt;\nINFO: HHH000400: Using dialect: org.hibernate.dialect.H2Dialect\nHibernate: \n    \n    drop table Member if exists\nHibernate: \n    \n    drop sequence if exists hibernate_sequence\n11 08, 2022 11:52:09  org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl getIsolatedConnection\nINFO: HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@503d56b5] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.\n11 08, 2022 11:52:09  org.hibernate.tool.schema.internal.ExceptionHandlerLoggedImpl handleException\nWARN: GenerationTarget encountered exception accepting command : Error executing DDL &quot;\n    drop table Member if exists&quot; via JDBC Statement\norg.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;\n    drop table Member if exists&quot; via JDBC Statement\n    at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)\n    at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlString(SchemaDropperImpl.java:375)\n    at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlStrings(SchemaDropperImpl.java:359)\n    at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:241)\n    at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:154)\n    at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:126)\n    at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:112)\n    at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:144)\n    at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:72)\n    at org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:310)\n    at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:467)\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:939)\n    at org.hibernate.jpa.HibernatePersistenceProvider.createEntityManagerFactory(HibernatePersistenceProvider.java:56)\n    at javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:79)\n    at javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:54)\n    at hellojpa.JpaMain.main(JpaMain.java:16)\nCaused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Cannot drop &quot;MEMBER&quot; because &quot;FKE8UEUS37RRMKA8U5STQRU9V0A, FK15N138CXCXM0P0V68XQU8H76F&quot; depends on it; SQL statement:\n\n    drop table Member if  [90107-214]\n    at org.h2.message.DbException.getJdbcSQLException(DbException.java:632)\n    at org.h2.message.DbException.getJdbcSQLException(DbException.java:477)\n    at org.h2.message.DbException.get(DbException.java:223)\n    at org.h2.command.ddl.DropTable.prepareDrop(DropTable.java:97)\n    at org.h2.command.ddl.DropTable.update(DropTable.java:121)\n    at org.h2.command.CommandContainer.update(CommandContainer.java:169)\n    at org.h2.command.Command.executeUpdate(Command.java:252)\n    at org.h2.server.TcpServerThread.process(TcpServerThread.java:408)\n    at org.h2.server.TcpServerThread.run(TcpServerThread.java:191)\n    at java.lang.Thread.run(Thread.java:748)\n\n    at org.h2.message.DbException.getJdbcSQLException(DbException.java:632)\n    at org.h2.engine.SessionRemote.readException(SessionRemote.java:637)\n    at org.h2.engine.SessionRemote.done(SessionRemote.java:606)\n    at org.h2.command.CommandRemote.executeUpdate(CommandRemote.java:227)\n    at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:252)\n    at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:223)\n    at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)\n    ... 15 more\n\n11 08, 2022 11:52:09  org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl getIsolatedConnection\nINFO: HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@30c0ccff] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.\nHibernate: create sequence hibernate_sequence start with 1 increment by 1\nHibernate: \n    \n    create table Member (\n       DTYPE varchar(31) not null,\n        MEMBER_ID bigint not null,\n        USERNAME varchar(255),\n        name varchar(255),\n        TEAM_ID bigint,\n        primary key (MEMBER_ID)\n    )\n11 08, 2022 11:52:09  org.hibernate.tool.schema.internal.ExceptionHandlerLoggedImpl handleException\nWARN: GenerationTarget encountered exception accepting command : Error executing DDL &quot;\n    create table Member (\n       DTYPE varchar(31) not null,\n        MEMBER_ID bigint not null,\n        USERNAME varchar(255),\n        name varchar(255),\n        TEAM_ID bigint,\n        primary key (MEMBER_ID)\n    )&quot; via JDBC Statement\norg.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;\n    create table Member (\n       DTYPE varchar(31) not null,\n        MEMBER_ID bigint not null,\n        USERNAME varchar(255),\n        name varchar(255),\n        TEAM_ID bigint,\n        primary key (MEMBER_ID)\n    )&quot; via JDBC Statement\n    at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)\n    at org.hibernate.tool.schema.internal.SchemaCreatorImpl.applySqlString(SchemaCreatorImpl.java:440)\n    at org.hibernate.tool.schema.internal.SchemaCreatorImpl.applySqlStrings(SchemaCreatorImpl.java:424)\n    at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createFromMetadata(SchemaCreatorImpl.java:315)\n    at org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:166)\n    at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:135)\n    at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:121)\n    at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:155)\n    at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:72)\n    at org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:310)\n    at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:467)\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:939)\n    at org.hibernate.jpa.HibernatePersistenceProvider.createEntityManagerFactory(HibernatePersistenceProvider.java:56)\n    at javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:79)\n    at javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:54)\n    at hellojpa.JpaMain.main(JpaMain.java:16)\nCaused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Table &quot;MEMBER&quot; already exists; SQL statement:\n\n    create table Member (\n       DTYPE varchar(31) not null,\n        MEMBER_ID bigint not null,\n        USERNAME varchar(255),\n        name varchar(255),\n        TEAM_ID bigint,\n [42101-214]\n    at org.h2.message.DbException.getJdbcSQLException(DbException.java:502)\n    at org.h2.message.DbException.getJdbcSQLException(DbException.java:477)\n    at org.h2.message.DbException.get(DbException.java:223)\n    at org.h2.message.DbException.get(DbException.java:199)\n    at org.h2.command.ddl.CreateTable.update(CreateTable.java:91)\n    at org.h2.command.CommandContainer.update(CommandContainer.java:169)\n    at org.h2.command.Command.executeUpdate(Command.java:252)\n    at org.h2.server.TcpServerThread.process(TcpServerThread.java:408)\n    at org.h2.server.TcpServerThread.run(TcpServerThread.java:191)\n    at java.lang.Thread.run(Thread.java:748)\n\n    at org.h2.message.DbException.getJdbcSQLException(DbException.java:502)\n    at org.h2.engine.SessionRemote.readException(SessionRemote.java:637)\n    at org.h2.engine.SessionRemote.done(SessionRemote.java:606)\n    at org.h2.command.CommandRemote.executeUpdate(CommandRemote.java:227)\n    at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:252)\n    at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:223)\n    at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)\n    ... 15 more\n\n11 08, 2022 11:52:09  org.hibernate.tool.schema.internal.ExceptionHandlerLoggedImpl handleException\nWARN: GenerationTarget encountered exception accepting command : Error executing DDL &quot;\n    alter table Member \n       add constraint FKo2n5sg34stgq6nnp4q98eyorw \n       foreign key (TEAM_ID) \n       references Member&quot; via JDBC Statement\norg.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;\n    alter table Member \n       add constraint FKo2n5sg34stgq6nnp4q98eyorw \n       foreign key (TEAM_ID) \n       references Member&quot; via JDBC Statement\n    at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)\n    at org.hibernate.tool.schema.internal.SchemaCreatorImpl.applySqlString(SchemaCreatorImpl.java:440)\n    at org.hibernate.tool.schema.internal.SchemaCreatorImpl.applySqlStrings(SchemaCreatorImpl.java:424)\n    at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createFromMetadata(SchemaCreatorImpl.java:375)\n    at org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:166)\n    at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:135)\n    at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:121)\n    at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:155)\n    at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:72)\n    at org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:310)\n    at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:467)\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:939)\n    at org.hibernate.jpa.HibernatePersistenceProvider.createEntityManagerFactory(HibernatePersistenceProvider.java:56)\n    at javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:79)\n    at javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:54)\n    at hellojpa.JpaMain.main(JpaMain.java:16)\nCaused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Column &quot;TEAM_ID&quot; not found; SQL statement:\n\n    alter table Member \n       add constraint FKo2n5sg34stgq6nnp4q98eyorw \n       foreign key (TEAM_ID) \n       references  [42122-214]\n    at org.h2.message.DbException.getJdbcSQLException(DbException.java:502)\n    at org.h2.message.DbException.getJdbcSQLException(DbException.java:477)\n    at org.h2.message.DbException.get(DbException.java:223)\n    at org.h2.message.DbException.get(DbException.java:199)\n    at org.h2.table.Table.getColumn(Table.java:749)\n    at org.h2.table.IndexColumn.mapColumns(IndexColumn.java:184)\n    at org.h2.command.ddl.AlterTableAddConstraint.tryUpdate(AlterTableAddConstraint.java:214)\n    at org.h2.command.ddl.AlterTableAddConstraint.update(AlterTableAddConstraint.java:72)\n    at org.h2.command.ddl.AlterTable.update(AlterTable.java:46)\n    at org.h2.command.CommandContainer.update(CommandContainer.java:169)\n    at org.h2.command.Command.executeUpdate(Command.java:252)\n    at org.h2.server.TcpServerThread.process(TcpServerThread.java:408)\n    at org.h2.server.TcpServerThread.run(TcpServerThread.java:191)\n    at java.lang.Thread.run(Thread.java:748)\n\n    at org.h2.message.DbException.getJdbcSQLException(DbException.java:502)\n    at org.h2.engine.SessionRemote.readException(SessionRemote.java:637)\n    at org.h2.engine.SessionRemote.done(SessionRemote.java:606)\n    at org.h2.command.CommandRemote.executeUpdate(CommandRemote.java:227)\n    at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:252)\n    at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:223)\n    at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)\n    ... 15 more\n\n11 08, 2022 11:52:09  org.hibernate.tool.schema.internal.SchemaCreatorImpl applyImportSources\nINFO: HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@5851bd4f'\nHibernate: \n    \n    alter table Member \n       add constraint FKo2n5sg34stgq6nnp4q98eyorw \n       foreign key (TEAM_ID) \n       references Member\nHibernate: \n    call next value for hibernate_sequence\nHibernate: \n    call next value for hibernate_sequence\nHibernate: \n    insert \n    into\n        Member\n        (USERNAME, DTYPE, MEMBER_ID) \n    values\n        (?, 'Member', ?)\n11 08, 2022 11:52:10  org.hibernate.engine.jdbc.spi.SqlExceptionHelper logExceptions\nWARN: SQL Error: 23505, SQLState: 23505\n11 08, 2022 11:52:10  org.hibernate.engine.jdbc.spi.SqlExceptionHelper logExceptions\nERROR: Unique index or primary key violation: &quot;PRIMARY KEY ON PUBLIC.MEMBER(MEMBER_ID) ( /* key:1 */ 'Member', CAST(1 AS BIGINT), 'member1', NULL)&quot;; SQL statement:\ninsert into Member (USERNAME, DTYPE, MEMBER_ID) values (?, 'Member', ?) [23505-214]\n11 08, 2022 11:52:10  org.hibernate.internal.ExceptionMapperStandardImpl mapManagedFlushFailure\nERROR: HHH000346: Error during managed flush [org.hibernate.exception.ConstraintViolationException: could not execute statement]\n11 08, 2022 11:52:10  org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl stop\nINFO: HHH10001008: Cleaning up connection pool [jdbc:h2:tcp://localhost/~/test]\n\nProcess finished with exit code 0\n</code></pre>\n"},{"tags":["java","apache-camel","jms","apache-karaf","apache-servicemix"],"comments":[{"owner":{"account_id":7712763,"reputation":628,"user_id":5841551,"accept_rate":50,"display_name":"kladderradatsch"},"score":0,"creation_date":1668016784,"post_id":74360146,"comment_id":131307716,"body_markdown":"If you have a different JMS Provider/Implementation you want to talk with just replace the component in your route. For IBM MQ and EMS (I don&#39;t know this implementation by the way) just use the generic [JMS component](https://camel.apache.org/components/3.18.x/jms-component.html) so it fits all.","body":"If you have a different JMS Provider/Implementation you want to talk with just replace the component in your route. For IBM MQ and EMS (I don&#39;t know this implementation by the way) just use the generic <a href=\"https://camel.apache.org/components/3.18.x/jms-component.html\" rel=\"nofollow noreferrer\">JMS component</a> so it fits all."},{"owner":{"account_id":11521870,"reputation":136,"user_id":8443397,"display_name":"Hasan Birol"},"score":0,"creation_date":1668163783,"post_id":74360146,"comment_id":131344418,"body_markdown":"http://www.masterspringboot.com/camel/integration-with-ibm-mq-made-simple-with-camel/ IBM MQ is part of JMS but some fields of it is special for IBM MQ. Should use its client.","body":"<a href=\"http://www.masterspringboot.com/camel/integration-with-ibm-mq-made-simple-with-camel/\" rel=\"nofollow noreferrer\">masterspringboot.com/camel/&hellip;</a> IBM MQ is part of JMS but some fields of it is special for IBM MQ. Should use its client."}],"owner":{"account_id":18991244,"reputation":15,"user_id":13860472,"display_name":"Maciej Kajetan Chrzanowski"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667920609,"creation_date":1667907706,"question_id":74360146,"body_markdown":"What I&#39;m trying to do is making a connection to EMS and IBM MQ. So I&#39;ve tried to get some knowledge from camel.apache.org and people.apache.org about camel-jms component and try to make a connection to those like from ActiveMQ component. I run the application in the docker so instead of localhost I used host.docker.internal and it&#39;s working fine for me.\r\n```xml\r\n&lt;bean id=&quot;activemq&quot; class=&quot;org.apache.camel.component.activemq.ActiveMQComponent&quot;&gt;\r\n    &lt;property name=&quot;brokerURL&quot; value=&quot;tcp://host.docker.internal:61616&quot;/&gt;\r\n    &lt;property name=&quot;username&quot; value=&quot;admin&quot;/&gt;\r\n    &lt;property name=&quot;password&quot; value=&quot;admin&quot;/&gt;\r\n&lt;/bean&gt;\r\n...\r\n&lt;camelContext xmlns=&quot;http://camel.apache.org/schema/spring&gt;\r\n    &lt;route id=&quot;input&quot;&gt;\r\n      &lt;from uri=&quot;activemq:INPUT-QUEUE&quot;/&gt;\r\n      &lt;!-- Process message --&gt;\r\n      &lt;to uri=&quot;activemq:OUTPUT-QUEUE&quot;/&gt;\r\n    &lt;/route&gt;\r\n&lt;/camelContext&gt;\r\n```\r\nNow what I&#39;m trying to achieve is making the same thing for those 2 that I&#39;m already mentioned.\r\n```xml\r\n&lt;bean id=&quot;ibmMqTryout&quot; class=&quot;org.apache.camel.component.jms.JmsComponent&quot;&gt;\r\n&lt;/bean&gt;\r\n```\r\n\r\nI do not know what kind of field I need to use and what I&#39;ve tried is to reference some JMSConfiguration and JMSConnectionFactory Bean, but I don&#39;t get how it works in servicemix. Additionally I would like to use some Environment Properties for EMS connection.\r\nI know this question is really chaotic, but I&#39;m in dead end right now.","title":"Camel-jms create connection to EMS / IBMMQ via servicemix Karaf","body":"<p>What I'm trying to do is making a connection to EMS and IBM MQ. So I've tried to get some knowledge from camel.apache.org and people.apache.org about camel-jms component and try to make a connection to those like from ActiveMQ component. I run the application in the docker so instead of localhost I used host.docker.internal and it's working fine for me.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;bean id=&quot;activemq&quot; class=&quot;org.apache.camel.component.activemq.ActiveMQComponent&quot;&gt;\n    &lt;property name=&quot;brokerURL&quot; value=&quot;tcp://host.docker.internal:61616&quot;/&gt;\n    &lt;property name=&quot;username&quot; value=&quot;admin&quot;/&gt;\n    &lt;property name=&quot;password&quot; value=&quot;admin&quot;/&gt;\n&lt;/bean&gt;\n...\n&lt;camelContext xmlns=&quot;http://camel.apache.org/schema/spring&gt;\n    &lt;route id=&quot;input&quot;&gt;\n      &lt;from uri=&quot;activemq:INPUT-QUEUE&quot;/&gt;\n      &lt;!-- Process message --&gt;\n      &lt;to uri=&quot;activemq:OUTPUT-QUEUE&quot;/&gt;\n    &lt;/route&gt;\n&lt;/camelContext&gt;\n</code></pre>\n<p>Now what I'm trying to achieve is making the same thing for those 2 that I'm already mentioned.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;bean id=&quot;ibmMqTryout&quot; class=&quot;org.apache.camel.component.jms.JmsComponent&quot;&gt;\n&lt;/bean&gt;\n</code></pre>\n<p>I do not know what kind of field I need to use and what I've tried is to reference some JMSConfiguration and JMSConnectionFactory Bean, but I don't get how it works in servicemix. Additionally I would like to use some Environment Properties for EMS connection.\nI know this question is really chaotic, but I'm in dead end right now.</p>\n"},{"tags":["java","rest","swagger","openapi","swagger-codegen"],"comments":[{"owner":{"account_id":39252,"reputation":89802,"user_id":113116,"display_name":"Helen"},"score":0,"creation_date":1667924372,"post_id":74362992,"comment_id":131281702,"body_markdown":"_&quot;when I am trying to send query parameters from the URLs its receiving it as null.&quot;_ - this could be an issue with the specific server/client codegen that you used, or with the code you use to send the request. It&#39;s hard to say without seeing the code.","body":"<i>&quot;when I am trying to send query parameters from the URLs its receiving it as null.&quot;</i> - this could be an issue with the specific server/client codegen that you used, or with the code you use to send the request. It&#39;s hard to say without seeing the code."},{"owner":{"account_id":24902187,"reputation":71,"user_id":18772731,"display_name":"Vaibhav Jain"},"score":0,"creation_date":1667930650,"post_id":74362992,"comment_id":131284101,"body_markdown":"@Helen I doubt this could be the issue because I am using some UTs for the testing ,so to validate this first I ran the model generated by swagger and then I ran the model which I wrote manually the one which was created by me was successfull on TCs. I mean from my finding I believe there is either some problem in my yaml syntax or I am doubtful that can we pass the schema in the way I am using it for the query parameters","body":"@Helen I doubt this could be the issue because I am using some UTs for the testing ,so to validate this first I ran the model generated by swagger and then I ran the model which I wrote manually the one which was created by me was successfull on TCs. I mean from my finding I believe there is either some problem in my yaml syntax or I am doubtful that can we pass the schema in the way I am using it for the query parameters"},{"owner":{"account_id":39252,"reputation":89802,"user_id":113116,"display_name":"Helen"},"score":0,"creation_date":1667933286,"post_id":74362992,"comment_id":131284948,"body_markdown":"Your OpenAPI definition (and the usage of an object schema as a query parameter) is correct and means that the URL query string is formatted as `/tasks?workflow=...&amp;timestamp=...&amp;createdTill=...&amp;page=...`. There&#39;s just one small error in the definition: the required object properties must be specified in the `required: [prop1, prop2, ...]` list on the object level ([example](https://stackoverflow.com/a/40113571/113116)); properties themselves don&#39;t have the `required: true/false` attribute.","body":"Your OpenAPI definition (and the usage of an object schema as a query parameter) is correct and means that the URL query string is formatted as <code>&#47;tasks?workflow=...&amp;timestamp=...&amp;createdTill=...&amp;page=...</code>. There&#39;s just one small error in the definition: the required object properties must be specified in the <code>required: [prop1, prop2, ...]</code> list on the object level (<a href=\"https://stackoverflow.com/a/40113571/113116\">example</a>); properties themselves don&#39;t have the <code>required: true&#47;false</code> attribute."},{"owner":{"account_id":39252,"reputation":89802,"user_id":113116,"display_name":"Helen"},"score":0,"creation_date":1667933762,"post_id":74362992,"comment_id":131285094,"body_markdown":"Since the `PayloadQueryParams` schema lives in a separate file, you probably need to change the parameter schema `$ref` to: `$ref: &#39;path/to/api-defs.yaml#/PayloadQueryParams` or similar.","body":"Since the <code>PayloadQueryParams</code> schema lives in a separate file, you probably need to change the parameter schema <code>$ref</code> to: <code>$ref: &#39;path&#47;to&#47;api-defs.yaml#&#47;PayloadQueryParams</code> or similar."},{"owner":{"account_id":24902187,"reputation":71,"user_id":18772731,"display_name":"Vaibhav Jain"},"score":0,"creation_date":1668063728,"post_id":74362992,"comment_id":131317308,"body_markdown":"ok thanks @Helen, thanks for the input but on applying those above too I am not able to resolute it. Please do let me know if you have any reference examples where we are creating a custom model for query params or some reference for this, I spent a much time on this so I am going without any model for now","body":"ok thanks @Helen, thanks for the input but on applying those above too I am not able to resolute it. Please do let me know if you have any reference examples where we are creating a custom model for query params or some reference for this, I spent a much time on this so I am going without any model for now"}],"owner":{"account_id":24902187,"reputation":71,"user_id":18772731,"display_name":"Vaibhav Jain"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":271,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667920244,"creation_date":1667920244,"question_id":74362992,"body_markdown":"Similar Problem :\r\nhttps://stackoverflow.com/questions/38187187/use-object-type-query-param-in-swagger-documentation\r\n\r\n\r\n**My ask :** \r\n\r\nI have an API for which lets I have 3 query parameters but in the future, it can have multiple parameters with different datatypes. So instead of directly mentioning them in my `api-doc.yaml` I want to create a model(class) which can hold all these parameters. Please note I only want to go with this solution. I know we can pass it in the body. But I am in a tightly coupled setup hence I am interested to see how we can wrap these parameters into a single class\r\n\r\n**My current implementation:**\r\nMy `api-defs.yaml` file where I am defining this model as a schema `PayloadQueryParams`  \r\n```\r\nPayloadQueryParams:\r\n  type: object\r\n  properties:\r\n    workflow:\r\n      type: string\r\n      required: true\r\n    timestamp:\r\n      type: integer\r\n      format: int64\r\n      required : true\r\n    createdTill:\r\n      type: integer\r\n      format: int64\r\n      description: &quot;timestamp in ms for querying scheduler service tasks&quot;\r\n      required : false\r\n    page:\r\n      type: integer\r\n      description: &quot;page number for scheduled tasks&quot;\r\n      required: false\r\n```\r\nNow I am trying to use this model, into my `api-internal.yaml`\r\n```\r\n  /tasks:\r\n    get:\r\n      tags:\r\n        - &quot;internal&quot;\r\n      operationId: &quot;getTask&quot;\r\n      parameters:\r\n        - in: query\r\n          name : PayloadQueryParams\r\n          schema:\r\n            $ref: &#39;#/components/schemas/PayloadQueryParams&#39;\r\n      responses:\r\n        &#39;200&#39;:\r\n          description: OK\r\n          content:\r\n            application/json:\r\n              schema:\r\n                  $ref: &#39;#/components/schemas/ResponseModel&#39;\r\n        &quot;401&quot;:\r\n          description: &quot;Unauthorized&quot;\r\n          content: { }\r\n        &quot;403&quot;:\r\n          description: &quot;Forbidden&quot;\r\n          content: { }\r\n\r\n```\r\nNow usually my approach stays is that with this codegen structure generates a custom boiler plater interface which I implement into my controller layer and override methods, \r\n\r\n**PROBLEM**\r\nWith above structure problem I am facing is \r\n\r\n 1. The methods codegen is generating (`getTask`) that is created with model `PayloadQueryParams` which I expect it to do but the problem is when I am trying to send query parameters from the URLs its receiving it as null. \r\n 2. As part of testing I removed all these definitions from swagger and created my own query paramter class `PayloadQueryParams` exactly same which was generated by swagger and when I try to use that directly into my controller layer, my UTs are working fine that means when I send the query params from URL they are parsed correctly\r\n 3. But as I mentioned I cant go with the setup-2 I have to do same thing via swagger codegen\r\n 4. I have validated by copying the exact definition of class `PayloadQueryParams` generated by swagger into my own custom class, even when they are identical, my APIs without swagger are working but not working when I used swagger codegen for generating query param model\r\n\r\n\r\n**SOLUTIONS I EXPECT**\r\n1. Is there any structual problem in my yaml files ?\r\n2. I am on openAPI so I belive that is not the problem \r\n3. Is there any other way we can get these query parameters into a hashmap or multivalue map \r\n","title":"How to wrap up query parametrs into a custom model in swagger","body":"<p>Similar Problem :\n<a href=\"https://stackoverflow.com/questions/38187187/use-object-type-query-param-in-swagger-documentation\">Use object type query param in swagger documentation</a></p>\n<p><strong>My ask :</strong></p>\n<p>I have an API for which lets I have 3 query parameters but in the future, it can have multiple parameters with different datatypes. So instead of directly mentioning them in my <code>api-doc.yaml</code> I want to create a model(class) which can hold all these parameters. Please note I only want to go with this solution. I know we can pass it in the body. But I am in a tightly coupled setup hence I am interested to see how we can wrap these parameters into a single class</p>\n<p><strong>My current implementation:</strong>\nMy <code>api-defs.yaml</code> file where I am defining this model as a schema <code>PayloadQueryParams</code></p>\n<pre><code>PayloadQueryParams:\n  type: object\n  properties:\n    workflow:\n      type: string\n      required: true\n    timestamp:\n      type: integer\n      format: int64\n      required : true\n    createdTill:\n      type: integer\n      format: int64\n      description: &quot;timestamp in ms for querying scheduler service tasks&quot;\n      required : false\n    page:\n      type: integer\n      description: &quot;page number for scheduled tasks&quot;\n      required: false\n</code></pre>\n<p>Now I am trying to use this model, into my <code>api-internal.yaml</code></p>\n<pre><code>  /tasks:\n    get:\n      tags:\n        - &quot;internal&quot;\n      operationId: &quot;getTask&quot;\n      parameters:\n        - in: query\n          name : PayloadQueryParams\n          schema:\n            $ref: '#/components/schemas/PayloadQueryParams'\n      responses:\n        '200':\n          description: OK\n          content:\n            application/json:\n              schema:\n                  $ref: '#/components/schemas/ResponseModel'\n        &quot;401&quot;:\n          description: &quot;Unauthorized&quot;\n          content: { }\n        &quot;403&quot;:\n          description: &quot;Forbidden&quot;\n          content: { }\n\n</code></pre>\n<p>Now usually my approach stays is that with this codegen structure generates a custom boiler plater interface which I implement into my controller layer and override methods,</p>\n<p><strong>PROBLEM</strong>\nWith above structure problem I am facing is</p>\n<ol>\n<li>The methods codegen is generating (<code>getTask</code>) that is created with model <code>PayloadQueryParams</code> which I expect it to do but the problem is when I am trying to send query parameters from the URLs its receiving it as null.</li>\n<li>As part of testing I removed all these definitions from swagger and created my own query paramter class <code>PayloadQueryParams</code> exactly same which was generated by swagger and when I try to use that directly into my controller layer, my UTs are working fine that means when I send the query params from URL they are parsed correctly</li>\n<li>But as I mentioned I cant go with the setup-2 I have to do same thing via swagger codegen</li>\n<li>I have validated by copying the exact definition of class <code>PayloadQueryParams</code> generated by swagger into my own custom class, even when they are identical, my APIs without swagger are working but not working when I used swagger codegen for generating query param model</li>\n</ol>\n<p><strong>SOLUTIONS I EXPECT</strong></p>\n<ol>\n<li>Is there any structual problem in my yaml files ?</li>\n<li>I am on openAPI so I belive that is not the problem</li>\n<li>Is there any other way we can get these query parameters into a hashmap or multivalue map</li>\n</ol>\n"},{"tags":["java","amazon-web-services","rest","aws-lambda"],"comments":[{"owner":{"account_id":25638797,"reputation":1268,"user_id":19408037,"display_name":"brushtakopo"},"score":0,"creation_date":1667919926,"post_id":74362846,"comment_id":131279833,"body_markdown":"So, just to understand. From a lambda function, you want to make a call to your local REST API hosted on your machine? Yes, postman will work this it is run on your pc. In order for lambda to call your REST API, you need to expose your machine to the internet via your router. I don&#39;t think you want to go down that path. Why don&#39;t you host your REST API on EC2? Something that lambda can actually reach.","body":"So, just to understand. From a lambda function, you want to make a call to your local REST API hosted on your machine? Yes, postman will work this it is run on your pc. In order for lambda to call your REST API, you need to expose your machine to the internet via your router. I don&#39;t think you want to go down that path. Why don&#39;t you host your REST API on EC2? Something that lambda can actually reach."},{"owner":{"account_id":1948681,"reputation":522,"user_id":1753273,"accept_rate":86,"display_name":"agaonsindhe"},"score":0,"creation_date":1667921296,"post_id":74362846,"comment_id":131280446,"body_markdown":"EC2 option is available but for that I need to patch my dev branch which I dont want, local branch is having some unwanted commits which may break dev so I wanted to test this on local api instead but looks like it is tricky. How abou trunning the lambda on local uaing SAM Cli??","body":"EC2 option is available but for that I need to patch my dev branch which I dont want, local branch is having some unwanted commits which may break dev so I wanted to test this on local api instead but looks like it is tricky. How abou trunning the lambda on local uaing SAM Cli??"}],"answers":[{"tags":[],"owner":{"account_id":4191339,"reputation":333,"user_id":4637939,"display_name":"Mike Frank"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1667920219,"creation_date":1667920219,"answer_id":74362985,"question_id":74362846,"body_markdown":"It sounds like what you need is an internet facing proxy that can forward (tunnel) requests to your local machine. Products like [ngrok][1] or [localxpose][2] are designed to do this easily, giving you an auto-generated host name that is accessible from anywhere on the internet and will forward the http requests to a process running on your local machine. \r\n\r\nThere are also a number of open source projects with similar functionality, but you would have to host these yourself. Here is an example of [an &quot;awesome&quot; repo][3] listing quite a few open source options. \r\n\r\n\r\n  [1]: https://ngrok.com/\r\n  [2]: https://localxpose.io/\r\n  [3]: https://github.com/anderspitman/awesome-tunneling","title":"Calling REST API hosted on local-machine from AWS Lambda","body":"<p>It sounds like what you need is an internet facing proxy that can forward (tunnel) requests to your local machine. Products like <a href=\"https://ngrok.com/\" rel=\"nofollow noreferrer\">ngrok</a> or <a href=\"https://localxpose.io/\" rel=\"nofollow noreferrer\">localxpose</a> are designed to do this easily, giving you an auto-generated host name that is accessible from anywhere on the internet and will forward the http requests to a process running on your local machine.</p>\n<p>There are also a number of open source projects with similar functionality, but you would have to host these yourself. Here is an example of <a href=\"https://github.com/anderspitman/awesome-tunneling\" rel=\"nofollow noreferrer\">an &quot;awesome&quot; repo</a> listing quite a few open source options.</p>\n"}],"owner":{"account_id":1948681,"reputation":522,"user_id":1753273,"accept_rate":86,"display_name":"agaonsindhe"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":608,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74362985,"answer_count":1,"score":1,"last_activity_date":1667920219,"creation_date":1667919628,"question_id":74362846,"body_markdown":"I am having a use case where I need to invoke a Rest API which is deployed/running on my local-machine (locahost:8090) from an AWS Lambda Function which will get triggered on an SQS event.\r\n\r\nI cannot go with API Gateway Option.\r\nI am able to invoke the same API using the IP address from POSTMAN, can I use some Rest Client Like HttpClient or RestTemplate to invoke the same API using the IP address.\r\n\r\nAlso do I need to have some policy attached to my Lambda function, as when I am calling using HttpClient my Lambda function timesout.\r\n\r\n\r\n","title":"Calling REST API hosted on local-machine from AWS Lambda","body":"<p>I am having a use case where I need to invoke a Rest API which is deployed/running on my local-machine (locahost:8090) from an AWS Lambda Function which will get triggered on an SQS event.</p>\n<p>I cannot go with API Gateway Option.\nI am able to invoke the same API using the IP address from POSTMAN, can I use some Rest Client Like HttpClient or RestTemplate to invoke the same API using the IP address.</p>\n<p>Also do I need to have some policy attached to my Lambda function, as when I am calling using HttpClient my Lambda function timesout.</p>\n"},{"tags":["java","gradle","jar","build.gradle"],"comments":[{"owner":{"account_id":2848514,"reputation":10932,"user_id":2446208,"accept_rate":69,"display_name":"blacktide"},"score":1,"creation_date":1667920441,"post_id":74361839,"comment_id":131280068,"body_markdown":"You&#39;re currently creating a &quot;fat jar&quot; instead of a plain jar. Try running `gradle clean &amp;&amp; gradle jar` and if that isn&#39;t working then try removing the `fatJar` task from `build.gradle` and run those commands again.","body":"You&#39;re currently creating a &quot;fat jar&quot; instead of a plain jar. Try running <code>gradle clean &amp;&amp; gradle jar</code> and if that isn&#39;t working then try removing the <code>fatJar</code> task from <code>build.gradle</code> and run those commands again."},{"owner":{"account_id":3657700,"reputation":3806,"user_id":3048243,"accept_rate":30,"display_name":"5122014009"},"score":0,"creation_date":1667921353,"post_id":74361839,"comment_id":131280471,"body_markdown":"@blacktide Thanks much, I see a lot of improvements with that.","body":"@blacktide Thanks much, I see a lot of improvements with that."}],"owner":{"account_id":3657700,"reputation":3806,"user_id":3048243,"accept_rate":30,"display_name":"5122014009"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":415,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667920178,"creation_date":1667915423,"question_id":74361839,"body_markdown":"I am pretty new to using Gradle. I am using Gradle-7.5.1. I just want a jar file created using Gradle that contains just the manifest file and the source files I wrote but why does the created jar contain a million other things in it?\r\n\r\nMy gradle.build file is as follows:\r\n```groovy\r\napply plugin: &#39;java&#39;\r\napply plugin: &#39;application&#39;\r\n\r\nversion = &#39;1.0&#39;\r\n\r\nsourceSets {\r\n    main {\r\n        java {\r\n            srcDirs = [&#39;src&#39;]\r\n        }\r\n    }\r\n}\r\n\r\ntask fatJar(type: Jar) {\r\n    manifest {\r\n        attributes &#39;Manifest-Version&#39;: version,\r\n            &#39;Class-Path&#39;: configurations.runtimeClasspath.files.collect { it.getName() }.join(&#39; &#39;)\r\n    }\r\n    baseName = &#39;MyProj&#39;\r\n    from { configurations.runtimeClasspath.collect { it.isDirectory() ? it : zipTree(it) } }\r\n    with jar\r\n}\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\ndependencies {\r\n    implementation group: &#39;org.slf4j&#39;, name: &#39;slf4j-api&#39;, version: &#39;1.7.25&#39; &lt; etc &gt;\r\n}\r\n```\r\n\r\n\r\nWhat I want in the MyProj-1.0 is:\r\n\r\n```\r\nMETA-INF (holding the Manifest.MF)\r\ncom (holding my src files)\r\n```\r\n\r\nWhat I get in the jar is:\r\n\r\n```none\r\nassets\r\nstyle\r\ncorejava\r\njavax\r\n..and a lot more such things\r\n```\r\n\r\n\r\nThanks in advance for any pointers. As I have banged my head to the point of snapping it!\r\n","title":"Remove unwanted files and jars when creating jar with Gradle","body":"<p>I am pretty new to using Gradle. I am using Gradle-7.5.1. I just want a jar file created using Gradle that contains just the manifest file and the source files I wrote but why does the created jar contain a million other things in it?</p>\n<p>My gradle.build file is as follows:</p>\n<pre><code>apply plugin: 'java'\napply plugin: 'application'\n\nversion = '1.0'\n\nsourceSets {\n    main {\n        java {\n            srcDirs = ['src']\n        }\n    }\n}\n\ntask fatJar(type: Jar) {\n    manifest {\n        attributes 'Manifest-Version': version,\n            'Class-Path': configurations.runtimeClasspath.files.collect { it.getName() }.join(' ')\n    }\n    baseName = 'MyProj'\n    from { configurations.runtimeClasspath.collect { it.isDirectory() ? it : zipTree(it) } }\n    with jar\n}\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation group: 'org.slf4j', name: 'slf4j-api', version: '1.7.25' &lt; etc &gt;\n}\n</code></pre>\n<p>What I want in the MyProj-1.0 is:</p>\n<pre><code>META-INF (holding the Manifest.MF)\ncom (holding my src files)\n</code></pre>\n<p>What I get in the jar is:</p>\n<pre class=\"lang-none prettyprint-override\"><code>assets\nstyle\ncorejava\njavax\n..and a lot more such things\n</code></pre>\n<p>Thanks in advance for any pointers. As I have banged my head to the point of snapping it!</p>\n"},{"tags":["java","android","android-connectivitymanager"],"answers":[{"tags":[],"owner":{"account_id":11562627,"reputation":83,"user_id":8471907,"display_name":"Job"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1667919933,"creation_date":1667919933,"answer_id":74362924,"question_id":59648303,"body_markdown":"We encountered the same issue on the Zebra MC18 devices running Android 5. Our workaround was to check if the last onAvailable call came from the same network and we didn&#39;t receive onLost for this network in the meantime.","title":"Multiple random NetworkCallbacks (onAvailable) with same networkId from the ConnectivityManager","body":"<p>We encountered the same issue on the Zebra MC18 devices running Android 5. Our workaround was to check if the last onAvailable call came from the same network and we didn't receive onLost for this network in the meantime.</p>\n"}],"owner":{"account_id":2746857,"reputation":2078,"user_id":2395334,"accept_rate":55,"display_name":"DennisVA"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":791,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"answer_count":1,"score":9,"last_activity_date":1667919933,"creation_date":1578494784,"question_id":59648303,"body_markdown":"I don&#39;t understand why onAvailable is called multiple times at random moments, the documentation states that it can be called more if the network changes, but the properties of the network object parameter in onAvailable is always the same. I even compared the hashcodes and they are the same...\r\n\r\nThe problem occurs on my LG lollipop device\r\n\r\nAndroid documentation: (https://developer.android.com/reference/android/net/ConnectivityManager.NetworkCallback)\r\n\r\n&gt; **onAvailable Added in API level 21** Called when the framework connects and has declared a new\r\n&gt; network ready for use. This callback may be called more than once if\r\n&gt; the Network that is satisfying the request changes\r\n\r\n\r\nEDIT: I have implemented other methods from the callback to check if any other methods are fired (onLosing, onUnavailable, onCapabilitiesChanged, onLinkPropertiesChanged), but none of these are called\r\n\r\nI have my own NetworkManager that has this code in it:\r\n\r\n    public void initialize(Context context) {\r\n        connectivityManager = (ConnectivityManager) context.getSystemService(Context.CONNECTIVITY_SERVICE);\r\n        setState();\r\n        if (android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.LOLLIPOP) {\r\n            final NetworkRequest networkRequest = new NetworkRequest.Builder()\r\n                    .addTransportType(NetworkCapabilities.TRANSPORT_CELLULAR)\r\n                    .addTransportType(NetworkCapabilities.TRANSPORT_WIFI).build();\r\n\r\n            connectivityManager.registerNetworkCallback(networkRequest, new ConnectivityManager.NetworkCallback() {\r\n                @Override\r\n                public void onAvailable(final Network network) {\r\n                    super.onAvailable(network);\r\n                    NetworkInfo networkInfo = connectivityManager.getNetworkInfo(network);\r\n                    Log.d(TAG,&quot;Network is Available. Network Info: &quot; + networkInfo);\r\n                    notifyObservers();\r\n                }\r\n\r\n                @Override\r\n                public void onLost(final Network network) {\r\n                    super.onLost(network);\r\n                    notifyObservers();\r\n                }\r\n            });\r\n        } else {\r\n            context.registerReceiver(new NetworkChangeReceiver(), new IntentFilter(ConnectivityManager.CONNECTIVITY_ACTION));\r\n        }\r\n    }\r\n\r\nLogs:\r\n\r\n    Network is Available. Network Info: [type: WIFI[], state: CONNECTED/CONNECTED, reason: (unspecified), extra: &quot;company_guest&quot;, roaming: false, failover: false, isAvailable: true, isConnectedToProvisioningNetwork: false]\r\n    Network is Available. Network Info: [type: WIFI[], state: CONNECTED/CONNECTED, reason: (unspecified), extra: &quot;company_guest&quot;, roaming: false, failover: false, isAvailable: true, isConnectedToProvisioningNetwork: false]\r\n    Network is Available. Network Info: [type: WIFI[], state: CONNECTED/CONNECTED, reason: (unspecified), extra: &quot;company_guest&quot;, roaming: false, failover: false, isAvailable: true, isConnectedToProvisioningNetwork: false]\r\n    Network is Available. Network Info: [type: WIFI[], state: CONNECTED/CONNECTED, reason: (unspecified), extra: &quot;company_guest&quot;, roaming: false, failover: false, isAvailable: true, isConnectedToProvisioningNetwork: false]\r\n    ...\r\n","title":"Multiple random NetworkCallbacks (onAvailable) with same networkId from the ConnectivityManager","body":"<p>I don't understand why onAvailable is called multiple times at random moments, the documentation states that it can be called more if the network changes, but the properties of the network object parameter in onAvailable is always the same. I even compared the hashcodes and they are the same...</p>\n\n<p>The problem occurs on my LG lollipop device</p>\n\n<p>Android documentation: (<a href=\"https://developer.android.com/reference/android/net/ConnectivityManager.NetworkCallback\" rel=\"noreferrer\">https://developer.android.com/reference/android/net/ConnectivityManager.NetworkCallback</a>)</p>\n\n<blockquote>\n  <p><strong>onAvailable Added in API level 21</strong> Called when the framework connects and has declared a new\n  network ready for use. This callback may be called more than once if\n  the Network that is satisfying the request changes</p>\n</blockquote>\n\n<p>EDIT: I have implemented other methods from the callback to check if any other methods are fired (onLosing, onUnavailable, onCapabilitiesChanged, onLinkPropertiesChanged), but none of these are called</p>\n\n<p>I have my own NetworkManager that has this code in it:</p>\n\n<pre><code>public void initialize(Context context) {\n    connectivityManager = (ConnectivityManager) context.getSystemService(Context.CONNECTIVITY_SERVICE);\n    setState();\n    if (android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.LOLLIPOP) {\n        final NetworkRequest networkRequest = new NetworkRequest.Builder()\n                .addTransportType(NetworkCapabilities.TRANSPORT_CELLULAR)\n                .addTransportType(NetworkCapabilities.TRANSPORT_WIFI).build();\n\n        connectivityManager.registerNetworkCallback(networkRequest, new ConnectivityManager.NetworkCallback() {\n            @Override\n            public void onAvailable(final Network network) {\n                super.onAvailable(network);\n                NetworkInfo networkInfo = connectivityManager.getNetworkInfo(network);\n                Log.d(TAG,\"Network is Available. Network Info: \" + networkInfo);\n                notifyObservers();\n            }\n\n            @Override\n            public void onLost(final Network network) {\n                super.onLost(network);\n                notifyObservers();\n            }\n        });\n    } else {\n        context.registerReceiver(new NetworkChangeReceiver(), new IntentFilter(ConnectivityManager.CONNECTIVITY_ACTION));\n    }\n}\n</code></pre>\n\n<p>Logs:</p>\n\n<pre><code>Network is Available. Network Info: [type: WIFI[], state: CONNECTED/CONNECTED, reason: (unspecified), extra: \"company_guest\", roaming: false, failover: false, isAvailable: true, isConnectedToProvisioningNetwork: false]\nNetwork is Available. Network Info: [type: WIFI[], state: CONNECTED/CONNECTED, reason: (unspecified), extra: \"company_guest\", roaming: false, failover: false, isAvailable: true, isConnectedToProvisioningNetwork: false]\nNetwork is Available. Network Info: [type: WIFI[], state: CONNECTED/CONNECTED, reason: (unspecified), extra: \"company_guest\", roaming: false, failover: false, isAvailable: true, isConnectedToProvisioningNetwork: false]\nNetwork is Available. Network Info: [type: WIFI[], state: CONNECTED/CONNECTED, reason: (unspecified), extra: \"company_guest\", roaming: false, failover: false, isAvailable: true, isConnectedToProvisioningNetwork: false]\n...\n</code></pre>\n"},{"tags":["java","spring-boot","apache-flink"],"comments":[{"owner":{"account_id":17094621,"reputation":114,"user_id":12369894,"display_name":"Lucas Favaro Borsatto"},"score":0,"creation_date":1667524080,"post_id":74306075,"comment_id":131192702,"body_markdown":"Please give part of the code you are using that illustrate the behavior.","body":"Please give part of the code you are using that illustrate the behavior."},{"owner":{"account_id":7935210,"reputation":21,"user_id":5991506,"display_name":"Abhinav"},"score":0,"creation_date":1667552244,"post_id":74306075,"comment_id":131197663,"body_markdown":"It&#39;s proprietary code hence wont be able to give it. But I just need the aggregated result when i call the API, even though the flink aggregation keeps going on in the background","body":"It&#39;s proprietary code hence wont be able to give it. But I just need the aggregated result when i call the API, even though the flink aggregation keeps going on in the background"},{"owner":{"account_id":17094621,"reputation":114,"user_id":12369894,"display_name":"Lucas Favaro Borsatto"},"score":0,"creation_date":1667612709,"post_id":74306075,"comment_id":131214845,"body_markdown":"Could you unless give a demonstrative code with the problem logic where we can measure the achievement  of your proposed solution?","body":"Could you unless give a demonstrative code with the problem logic where we can measure the achievement  of your proposed solution?"},{"owner":{"account_id":7935210,"reputation":21,"user_id":5991506,"display_name":"Abhinav"},"score":0,"creation_date":1667815326,"post_id":74306075,"comment_id":131249243,"body_markdown":"@SpringbootApplication\npublic class Application {\n  public static void main(String[] args) {\n    SpringApplication.run(Application.class, args);\n  }\n}","body":"@SpringbootApplication public class Application {   public static void main(String[] args) {     SpringApplication.run(Application.class, args);   } }"},{"owner":{"account_id":7935210,"reputation":21,"user_id":5991506,"display_name":"Abhinav"},"score":0,"creation_date":1667816046,"post_id":74306075,"comment_id":131249529,"body_markdown":"@RestController @RequestMapping(&quot;/job&quot;)\npublic class MyJob {    public void buildJob() {     final StreamExecutionEnvironment env = StreamExecutionEnvironment.getExecutionEnvironment();       env.setRuntimeMode(RuntimeExecutionMode.STREAMING);      env.setParallelism(1);","body":"@RestController @RequestMapping(&quot;/job&quot;) public class MyJob {    public void buildJob() {     final StreamExecutionEnvironment env = StreamExecutionEnvironment.getExecutionEnvironment();       env.setRuntimeMode(RuntimeExecutionMode.STREAMING);      env.setParallelism(1);"},{"owner":{"account_id":7935210,"reputation":21,"user_id":5991506,"display_name":"Abhinav"},"score":0,"creation_date":1667816072,"post_id":74306075,"comment_id":131249540,"body_markdown":"KafkaSource&lt;String&gt; kafkaJobs = KafkaSource.&lt;String&gt;builder()               .setBootstrapServers(bootstrapServers).setTopics(Arrays.asList(&quot;all_jobs&quot;))               .setProperties(properties).setGroupId(allEventsGroupID)               .setStartingOffsets(OffsetsInitializer.earliest())       .setDeserializer(KafkaRecordDeserializationSchema.valueOnly(StringDeserializer.class))               .build(); DataStream source = env.fromSource(kafkaJobs, WatermarkStrategy.noWatermarks(), &quot;Kafka Jobs&quot;); // Windowing method to get jobs within a 30 minute window","body":"KafkaSource&lt;String&gt; kafkaJobs = KafkaSource.&lt;String&gt;builder()               .setBootstrapServers(bootstrapServers).setTopics(Arrays.asLi&zwnj;&#8203;st(&quot;all_jobs&quot;))               .setProperties(properties).setGroupId(allEventsGroupID)               .setStartingOffsets(OffsetsInitializer.earliest())       .setDeserializer(KafkaRecordDeserializationSchema.valueOnly(&zwnj;&#8203;StringDeserializer.c&zwnj;&#8203;lass))               .build(); DataStream source = env.fromSource(kafkaJobs, WatermarkStrategy.noWatermarks(), &quot;Kafka Jobs&quot;); // Windowing method to get jobs within a 30 minute window"},{"owner":{"account_id":7935210,"reputation":21,"user_id":5991506,"display_name":"Abhinav"},"score":0,"creation_date":1667816094,"post_id":74306075,"comment_id":131249549,"body_markdown":"WindowedStream&lt;POJO, String, TimeWindow&gt; windowed30MinStream =  keyedStream.window(TumblingEventTimeWindows.of(Time.minutes(30)));\t// windowed30MinStream.process gives a collection as an array of objects [{}, {}] I want this data [{}, {}] from above to be sent as response to this spring boot api //execute job\n    environment.execute();\treturn [{}, {}];  }}\n\n\n\n\nSorry for multiple messages, couldn&#39;t sent it within 1 comment","body":"WindowedStream&lt;POJO, String, TimeWindow&gt; windowed30MinStream =  keyedStream.window(TumblingEventTimeWindows.of(Time.minutes(&zwnj;&#8203;30)));\t// windowed30MinStream.process gives a collection as an array of objects [{}, {}] I want this data [{}, {}] from above to be sent as response to this spring boot api //execute job     environment.execute();\treturn [{}, {}];  }}     Sorry for multiple messages, couldn&#39;t sent it within 1 comment"}],"answers":[{"tags":[],"owner":{"account_id":21886042,"reputation":1703,"user_id":16173669,"display_name":"Martijn Visser"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667919860,"creation_date":1667919860,"answer_id":74362907,"question_id":74306075,"body_markdown":"If you&#39;re using an unbounded source with Flink, then you can&#39;t get an aggregated result. If you&#39;re looking for an aggregated result at the moment your endpoint is called, you could consider making it an bounded source. This of course depends on your source. For example, with Kafka, you could provide the starting and ending offsets.","title":"Flink aggregated data as response in spring boot application","body":"<p>If you're using an unbounded source with Flink, then you can't get an aggregated result. If you're looking for an aggregated result at the moment your endpoint is called, you could consider making it an bounded source. This of course depends on your source. For example, with Kafka, you could provide the starting and ending offsets.</p>\n"}],"owner":{"account_id":7935210,"reputation":21,"user_id":5991506,"display_name":"Abhinav"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1667919860,"creation_date":1667491296,"question_id":74306075,"body_markdown":"I have a spring boot application. The api endpoint for example &quot;/allData&quot; starts a flink program within the spring boot app.\r\n\r\nBut since flink is using an unbounded data source, I am unable to get the aggregated results in the spring boot response. Is there a way I can have the flink aggregated result whenever I hit the endpoint?","title":"Flink aggregated data as response in spring boot application","body":"<p>I have a spring boot application. The api endpoint for example &quot;/allData&quot; starts a flink program within the spring boot app.</p>\n<p>But since flink is using an unbounded data source, I am unable to get the aggregated results in the spring boot response. Is there a way I can have the flink aggregated result whenever I hit the endpoint?</p>\n"},{"tags":["java","swing","awt","jbutton","jlabel"],"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1667922269,"post_id":74362086,"comment_id":131280851,"body_markdown":"https://docs.oracle.com/javase/tutorial/uiswing/layout/","body":"<a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/uiswing/layout</a>"}],"answers":[{"tags":[],"owner":{"account_id":2259314,"reputation":11225,"user_id":1989769,"accept_rate":45,"display_name":"Sergiy Medvynskyy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667919503,"creation_date":1667919503,"answer_id":74362809,"question_id":74362086,"body_markdown":"You should use another layout. Here is the correct example:\r\n\r\n\tpublic class Intro extends JFrame {\r\n\t\tJFrame frame = new JFrame();\r\n\r\n\t\tJButton ok;\r\n\r\n\t\tJLabel background;\r\n\r\n\t\tJLabel demo;\r\n\r\n\t\tpublic Intro() {\r\n\r\n\t\t\tframe.setTitle(&quot;Let us start&quot;);\r\n\t\t\tframe.setVisible(true);\r\n\t\t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\r\n\t\t\tJLabel contentPane = new JLabel(new ImageIcon(&quot;welcome.gif&quot;));\r\n\t\t\tcontentPane.setBorder(new EmptyBorder(5, 5, 5, 5));\r\n\t\t\tframe.setContentPane(contentPane);\r\n\t\t\tframe.setLayout(new BorderLayout());\r\n\t\t\tbackground = new JLabel();\r\n\t\t\tframe.add(background); // why you need it??? it has no visual effect here\r\n\t\t\tframe.setSize(500, 400);\r\n\t\t\tok = new JButton(&quot;OK&quot;);\r\n\t\t\tJPanel buttonPanel = new JPanel(new FlowLayout());\r\n\t\t\tbuttonPanel.add(ok);\r\n\t\t\tframe.add(buttonPanel, BorderLayout.PAGE_END);\r\n\t\t\tdemo = new JLabel(&quot;CSIT 121 Demo System&quot;); // probably you need to change foreground of label to fit your background image\r\n\t\t\tframe.add(demo, BorderLayout.LINE_END);\r\n\r\n\t\t}\r\n\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tSwingUtilities.invokeLater(Intro::new);\r\n\t\t}\r\n\t}\r\n","title":"Java how to bottom align button and filter label to right","body":"<p>You should use another layout. Here is the correct example:</p>\n<pre><code>public class Intro extends JFrame {\n    JFrame frame = new JFrame();\n\n    JButton ok;\n\n    JLabel background;\n\n    JLabel demo;\n\n    public Intro() {\n\n        frame.setTitle(&quot;Let us start&quot;);\n        frame.setVisible(true);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\n        JLabel contentPane = new JLabel(new ImageIcon(&quot;welcome.gif&quot;));\n        contentPane.setBorder(new EmptyBorder(5, 5, 5, 5));\n        frame.setContentPane(contentPane);\n        frame.setLayout(new BorderLayout());\n        background = new JLabel();\n        frame.add(background); // why you need it??? it has no visual effect here\n        frame.setSize(500, 400);\n        ok = new JButton(&quot;OK&quot;);\n        JPanel buttonPanel = new JPanel(new FlowLayout());\n        buttonPanel.add(ok);\n        frame.add(buttonPanel, BorderLayout.PAGE_END);\n        demo = new JLabel(&quot;CSIT 121 Demo System&quot;); // probably you need to change foreground of label to fit your background image\n        frame.add(demo, BorderLayout.LINE_END);\n\n    }\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(Intro::new);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":26867883,"reputation":13,"user_id":20450364,"display_name":"rtsfusion"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":74362809,"answer_count":1,"score":0,"last_activity_date":1667919503,"creation_date":1667916375,"question_id":74362086,"body_markdown":"Hi I am trying to make a GUI using Javax to look something like this.\r\n[![enter image description here](https://i.stack.imgur.com/oGQlF.png)](https://i.stack.imgur.com/oGQlF.png)\r\n\r\n\r\n\r\n\r\n\r\nBut currently it looks like this\r\n[![enter image description here](https://i.stack.imgur.com/JOIJW.png)](https://i.stack.imgur.com/JOIJW.png)\r\n\r\nThis is my code\r\n\r\n\r\n```\r\nclass Intro extends JFrame implements ActionListener\r\n{\r\n\tJFrame frame = new JFrame();\r\n\tJButton ok;\r\n\tJLabel background;\r\n\tJLabel demo;\r\n\t\r\n\tpublic Intro()\r\n\t{\r\n\t\t\r\n\t\tframe.setTitle(&quot;Let us start&quot;);\r\n\t\tframe.setSize(600,300);\r\n\t\tframe.setVisible(true);\r\n\t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\t\r\n\t\tframe.setContentPane(new JLabel(new ImageIcon(&quot;welcome.gif&quot;)));\r\n\t\tframe.setLayout(new FlowLayout());\r\n\t\tbackground = new JLabel();\r\n\t\tframe.add(background);\r\n\t\tframe.setSize(500,400);\r\n\t\tok = new JButton(&quot;OK&quot;);\r\n\t\tdemo = new JLabel(&quot;CSIT 121 Demo System&quot;, SwingConstants.RIGHT);\r\n\t\tframe.add(demo);\r\n\t\tok.setHorizontalTextPosition(JButton.CENTER);\r\n\t\tok.setVerticalTextPosition(JButton.BOTTOM);\r\n\t\tframe.add(ok);\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t}\r\n\r\n}\r\n```\r\n\r\n\r\n\r\n\r\nWhat do i need to modify?\r\n","title":"Java how to bottom align button and filter label to right","body":"<p>Hi I am trying to make a GUI using Javax to look something like this.\n<a href=\"https://i.stack.imgur.com/oGQlF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oGQlF.png\" alt=\"enter image description here\" /></a></p>\n<p>But currently it looks like this\n<a href=\"https://i.stack.imgur.com/JOIJW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JOIJW.png\" alt=\"enter image description here\" /></a></p>\n<p>This is my code</p>\n<pre><code>class Intro extends JFrame implements ActionListener\n{\n    JFrame frame = new JFrame();\n    JButton ok;\n    JLabel background;\n    JLabel demo;\n    \n    public Intro()\n    {\n        \n        frame.setTitle(&quot;Let us start&quot;);\n        frame.setSize(600,300);\n        frame.setVisible(true);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        \n        frame.setContentPane(new JLabel(new ImageIcon(&quot;welcome.gif&quot;)));\n        frame.setLayout(new FlowLayout());\n        background = new JLabel();\n        frame.add(background);\n        frame.setSize(500,400);\n        ok = new JButton(&quot;OK&quot;);\n        demo = new JLabel(&quot;CSIT 121 Demo System&quot;, SwingConstants.RIGHT);\n        frame.add(demo);\n        ok.setHorizontalTextPosition(JButton.CENTER);\n        ok.setVerticalTextPosition(JButton.BOTTOM);\n        frame.add(ok);\n        \n        \n        \n    }\n\n}\n</code></pre>\n<p>What do i need to modify?</p>\n"},{"tags":["java","google-api","google-drive-api","google-oauth","google-api-java-client"],"answers":[{"tags":[],"owner":{"account_id":23310798,"reputation":1298,"user_id":17390082,"display_name":"Gabriel Carballo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653608205,"creation_date":1653608205,"answer_id":72399071,"question_id":72397786,"body_markdown":"\r\nTry using the [`google-auth-library`][1] as there it defines the class `GoogleCredentials`:\r\n\r\n    Google Credentials = new GoogleCredentials.Builder()\r\n                .setClientSecrets(clientId, clientSecret)\r\n                .setTransport(HTTP_TRANSPORT)\r\n                .setJsonFactory(JSON_FACTORY)\r\n                .build();\r\n                credential.setRefreshToken(refreshToken);\r\n\r\nYou can as well check the Java documentation for [`GoogleCredentials`][2] \r\n\r\nIt seems that you are trying to use the `Drive API` so you may as well check this [thread][3] about connecting to the Drive service.        \r\n\r\n   \r\n\r\n\r\n  [1]: https://github.com/googleapis/google-auth-library-java/blob/main/oauth2_http/java/com/google/auth/oauth2/GoogleCredentials.java\r\n  [2]: https://javadoc.io/static/com.google.auth/google-auth-library-oauth2-http/1.1.0/com/google/auth/oauth2/GoogleCredentials.html\r\n  [3]: https://stackoverflow.com/questions/69555366/how-to-initialise-google-drive-using-googlecedentials-instead-of-the-deprecated","title":"Migrate to GoogleCredentials from GoogleCredential","body":"<p>Try using the <a href=\"https://github.com/googleapis/google-auth-library-java/blob/main/oauth2_http/java/com/google/auth/oauth2/GoogleCredentials.java\" rel=\"nofollow noreferrer\"><code>google-auth-library</code></a> as there it defines the class <code>GoogleCredentials</code>:</p>\n<pre><code>Google Credentials = new GoogleCredentials.Builder()\n            .setClientSecrets(clientId, clientSecret)\n            .setTransport(HTTP_TRANSPORT)\n            .setJsonFactory(JSON_FACTORY)\n            .build();\n            credential.setRefreshToken(refreshToken);\n</code></pre>\n<p>You can as well check the Java documentation for <a href=\"https://javadoc.io/static/com.google.auth/google-auth-library-oauth2-http/1.1.0/com/google/auth/oauth2/GoogleCredentials.html\" rel=\"nofollow noreferrer\"><code>GoogleCredentials</code></a></p>\n<p>It seems that you are trying to use the <code>Drive API</code> so you may as well check this <a href=\"https://stackoverflow.com/questions/69555366/how-to-initialise-google-drive-using-googlecedentials-instead-of-the-deprecated\">thread</a> about connecting to the Drive service.</p>\n"}],"owner":{"account_id":24136324,"reputation":23,"user_id":18103179,"display_name":"fa gsc"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":883,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667919300,"creation_date":1653597507,"question_id":72397786,"body_markdown":"Currently, I am using the following implementation but the code says GoogleCredential is deprecated. \r\n\r\n    GoogleCredential credential = new GoogleCredential.Builder()\r\n                        .setClientSecrets(clientId, clientSecret)\r\n                        .setTransport(HTTP_TRANSPORT)\r\n                        .setJsonFactory(JSON_FACTORY)\r\n                        .build();\r\n                credential.setRefreshToken(refreshToken);\r\nI checked and GoogleCredentials or other google-auth-library classes are supposed to be used. However, all of them seem to require a service account. GoogleCredential is working for me without a service account. Just had to create oauth credentials. I have also generated the refresh tokens but not sure how to use them with the new library. What should I be using here? The goal is to just allow a single user(our backend code) to access google api.\r\n\r\nI don&#39;t see any other questions for java where this was actually answered.\r\n\r\nEdit - Posting my entire set up based on the comment updates-\r\n\r\n    public Credentials getCredentials() throws GeneralSecurityException, IOException {\r\n    \r\n            final NetHttpTransport HTTP_TRANSPORT = GoogleNetHttpTransport.newTrustedTransport();\r\n            final JsonFactory JSON_FACTORY = JacksonFactory.getDefaultInstance();\r\n    \r\n            try(InputStream in = getCredentialsAsInputStream()) {\r\n    \r\n                if (in == null) {\r\n                    throw new FileNotFoundException(&quot;Resource not found: &quot; + CREDENTIALS_FILE_PATH);\r\n                }\r\n                GoogleClientSecrets clientSecrets = GoogleClientSecrets.load(JSON_FACTORY, new InputStreamReader(in));\r\n    \r\n                String clientId = clientSecrets.getDetails().getClientId();\r\n                String clientSecret = clientSecrets.getDetails().getClientSecret();\r\n    \r\n                Credentials credential = UserCredentials.newBuilder()\r\n                        .setClientId(clientId)\r\n                        .setClientSecret(clientSecret)\r\n                        .setRefreshToken(refreshToken)\r\n                        .build();\r\n    \r\n                return credential;\r\n\r\nAnd for setting up the drive\r\n\r\n    public Drive getDriveService() {\r\n            try {\r\n                Credentials credential = getCredentials();\r\n                HttpRequestInitializer httpRequestInitializer = new HttpCredentialsAdapter(credential);\r\n                final NetHttpTransport HTTP_TRANSPORT = GoogleNetHttpTransport.newTrustedTransport();\r\n                return new Drive.Builder(HTTP_TRANSPORT, JSON_FACTORY, httpRequestInitializer)\r\n                        .setApplicationName(DRIVE_API_APPLICATION_NAME)\r\n                        .setHttpRequestInitializer(httpRequest -&gt; {\r\n    \r\n                            httpRequestInitializer.initialize(httpRequest);\r\n                            httpRequest.setConnectTimeout(2 * 60000);  // 2 minutes connect timeout\r\n                            httpRequest.setReadTimeout(2 * 60000);  // 2 minutes read timeout\r\n    \r\n                        })\r\n                        .build();\r\n            } catch (GeneralSecurityException | IOException e){\r\n                log.error(&quot;Error creating drive service class : {}&quot;, e);\r\n            }\r\n            return null;\r\n        }\r\n\r\n","title":"Migrate to GoogleCredentials from GoogleCredential","body":"<p>Currently, I am using the following implementation but the code says GoogleCredential is deprecated.</p>\n<pre><code>GoogleCredential credential = new GoogleCredential.Builder()\n                    .setClientSecrets(clientId, clientSecret)\n                    .setTransport(HTTP_TRANSPORT)\n                    .setJsonFactory(JSON_FACTORY)\n                    .build();\n            credential.setRefreshToken(refreshToken);\n</code></pre>\n<p>I checked and GoogleCredentials or other google-auth-library classes are supposed to be used. However, all of them seem to require a service account. GoogleCredential is working for me without a service account. Just had to create oauth credentials. I have also generated the refresh tokens but not sure how to use them with the new library. What should I be using here? The goal is to just allow a single user(our backend code) to access google api.</p>\n<p>I don't see any other questions for java where this was actually answered.</p>\n<p>Edit - Posting my entire set up based on the comment updates-</p>\n<pre><code>public Credentials getCredentials() throws GeneralSecurityException, IOException {\n\n        final NetHttpTransport HTTP_TRANSPORT = GoogleNetHttpTransport.newTrustedTransport();\n        final JsonFactory JSON_FACTORY = JacksonFactory.getDefaultInstance();\n\n        try(InputStream in = getCredentialsAsInputStream()) {\n\n            if (in == null) {\n                throw new FileNotFoundException(&quot;Resource not found: &quot; + CREDENTIALS_FILE_PATH);\n            }\n            GoogleClientSecrets clientSecrets = GoogleClientSecrets.load(JSON_FACTORY, new InputStreamReader(in));\n\n            String clientId = clientSecrets.getDetails().getClientId();\n            String clientSecret = clientSecrets.getDetails().getClientSecret();\n\n            Credentials credential = UserCredentials.newBuilder()\n                    .setClientId(clientId)\n                    .setClientSecret(clientSecret)\n                    .setRefreshToken(refreshToken)\n                    .build();\n\n            return credential;\n</code></pre>\n<p>And for setting up the drive</p>\n<pre><code>public Drive getDriveService() {\n        try {\n            Credentials credential = getCredentials();\n            HttpRequestInitializer httpRequestInitializer = new HttpCredentialsAdapter(credential);\n            final NetHttpTransport HTTP_TRANSPORT = GoogleNetHttpTransport.newTrustedTransport();\n            return new Drive.Builder(HTTP_TRANSPORT, JSON_FACTORY, httpRequestInitializer)\n                    .setApplicationName(DRIVE_API_APPLICATION_NAME)\n                    .setHttpRequestInitializer(httpRequest -&gt; {\n\n                        httpRequestInitializer.initialize(httpRequest);\n                        httpRequest.setConnectTimeout(2 * 60000);  // 2 minutes connect timeout\n                        httpRequest.setReadTimeout(2 * 60000);  // 2 minutes read timeout\n\n                    })\n                    .build();\n        } catch (GeneralSecurityException | IOException e){\n            log.error(&quot;Error creating drive service class : {}&quot;, e);\n        }\n        return null;\n    }\n</code></pre>\n"},{"tags":["java","log4j","log4j2"],"comments":[{"owner":{"account_id":18396380,"reputation":4116,"user_id":13400729,"display_name":"Parsifal"},"score":1,"creation_date":1654709304,"post_id":72547771,"comment_id":128158485,"body_markdown":"I suspect (so not an answer) that `&lt;minimizeJar&gt;true&lt;/minimizeJar&gt;` is removing some reflection-loaded class that&#39;s used by Log4J. Try removing that line and see what happens. Otherwise, your locally-repackaged `log4j-core` is missing something important. Try with the &quot;real&quot; dependency to see if that solves the problem.","body":"I suspect (so not an answer) that <code>&lt;minimizeJar&gt;true&lt;&#47;minimizeJar&gt;</code> is removing some reflection-loaded class that&#39;s used by Log4J. Try removing that line and see what happens. Otherwise, your locally-repackaged <code>log4j-core</code> is missing something important. Try with the &quot;real&quot; dependency to see if that solves the problem."}],"answers":[{"tags":[],"owner":{"account_id":67666,"reputation":4579,"user_id":197896,"accept_rate":77,"display_name":"anhldbk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667919170,"creation_date":1667919170,"answer_id":74362732,"question_id":72547771,"body_markdown":"I see a solution [here][1]. It works for me\r\n\r\n    &lt;filter&gt;\r\n        &lt;artifact&gt;log4j:log4j&lt;/artifact&gt;\r\n        &lt;includes&gt;\r\n            &lt;include&gt;org/apache/log4j/spi/LoggingEvent.class&lt;/include&gt;\r\n        &lt;/includes&gt;\r\n    &lt;/filter&gt;\r\n    &lt;filter&gt;\r\n        &lt;artifact&gt;org.apache.logging.log4j:log4j-*&lt;/artifact&gt;\r\n        &lt;includes&gt;\r\n            &lt;include&gt;**&lt;/include&gt;\r\n        &lt;/includes&gt;\r\n    &lt;/filter&gt;\r\n\r\n  [1]: https://github.com/fbacchella/LogHub/blob/master/pom.xml","title":"ERROR StatusLogger Log4j2 could not find a logging implementation. Please add log4j-core to the classpath. Using SimpleLogger","body":"<p>I see a solution <a href=\"https://github.com/fbacchella/LogHub/blob/master/pom.xml\" rel=\"nofollow noreferrer\">here</a>. It works for me</p>\n<pre><code>&lt;filter&gt;\n    &lt;artifact&gt;log4j:log4j&lt;/artifact&gt;\n    &lt;includes&gt;\n        &lt;include&gt;org/apache/log4j/spi/LoggingEvent.class&lt;/include&gt;\n    &lt;/includes&gt;\n&lt;/filter&gt;\n&lt;filter&gt;\n    &lt;artifact&gt;org.apache.logging.log4j:log4j-*&lt;/artifact&gt;\n    &lt;includes&gt;\n        &lt;include&gt;**&lt;/include&gt;\n    &lt;/includes&gt;\n&lt;/filter&gt;\n</code></pre>\n"}],"owner":{"account_id":6187514,"reputation":8236,"user_id":6872018,"accept_rate":33,"display_name":"Jeff Cook"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4134,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667919170,"creation_date":1654699528,"question_id":72547771,"body_markdown":"I am using custom log4j2 library - corporate library, company specific, I created fat jar out of maven project and trying to run the code commandline \r\n\r\n    java -jar &quot;target\\abc-0.0.1-SNAPSHOT.jar&quot;\r\n    ERROR StatusLogger Log4j2 could not find a logging implementation. Please add log4j-core to the classpath. Using SimpleLogger to log to the console...\r\n    FATAL AlertPocDemo SomePOCData\r\n\r\npom.xml\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n    \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n    \t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;netcool-demo-inbuilt&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;packaging&gt;jar&lt;/packaging&gt;\r\n    \r\n    \t&lt;name&gt;netcool-poc&lt;/name&gt;\r\n    \t&lt;url&gt;http://maven.apache.org&lt;/url&gt;\r\n    \r\n    \t&lt;properties&gt;\r\n    \t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    \t\t&lt;java.version&gt;1.6&lt;/java.version&gt;\r\n    \t\t&lt;log4j2.version&gt;2.17.0&lt;/log4j2.version&gt;\r\n    \t\t&lt;log4j-tcs.version&gt;2.17.0-tcs-patch-4&lt;/log4j-tcs.version&gt;\r\n    \t\t&lt;netcool.version&gt;1.3.1&lt;/netcool.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;XXX.YYY&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;Log4j2NetcoolSocketAppender&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.3.1&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.17.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.17.0-tcs-patch-4&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;3.8.0&lt;/version&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;source&gt;${java.version}&lt;/source&gt;\r\n    \t\t\t\t\t&lt;target&gt;${java.version}&lt;/target&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;executions&gt;\r\n    \t\t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t\t&lt;phase&gt;package&lt;/phase&gt;\r\n    \t\t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t\t&lt;goal&gt;single&lt;/goal&gt;\r\n    \t\t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t\t&lt;/execution&gt;\r\n    \t\t\t\t&lt;/executions&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;transformers&gt;\r\n    \t\t\t\t\t\t&lt;transformer\r\n    \t\t\t\t\t\t\timplementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\r\n    \t\t\t\t\t\t\t&lt;mainClass&gt;XXX.ef.AlertPocDemo&lt;/mainClass&gt;\r\n    \t\t\t\t\t\t&lt;/transformer&gt;\r\n    \t\t\t\t\t&lt;/transformers&gt;\r\n    \t\t\t\t\t&lt;archive&gt;\r\n    \t\t\t\t\t\t&lt;manifest&gt;\r\n    \t\t\t\t\t\t\t&lt;addClasspath&gt;true&lt;/addClasspath&gt;\r\n    \t\t\t\t\t\t\t&lt;mainClass&gt;XXX.ef.AlertPocDemo&lt;/mainClass&gt;\r\n    \t\t\t\t\t\t&lt;/manifest&gt;\r\n    \t\t\t\t\t&lt;/archive&gt;\r\n    \t\t\t\t\t&lt;descriptorRefs&gt;\r\n    \t\t\t\t\t\t&lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n    \t\t\t\t\t&lt;/descriptorRefs&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;com.jolira&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;onejar-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;1.4.4&lt;/version&gt;\r\n    \t\t\t\t&lt;executions&gt;\r\n    \t\t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t\t&lt;goal&gt;one-jar&lt;/goal&gt;\r\n    \t\t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t\t&lt;/execution&gt;\r\n    \t\t\t\t&lt;/executions&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;!-- Build an executable JAR --&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;3.1.0&lt;/version&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;archive&gt;\r\n    \t\t\t\t\t\t&lt;manifest&gt;\r\n    \t\t\t\t\t\t\t&lt;addClasspath&gt;true&lt;/addClasspath&gt;\r\n    \t\t\t\t\t\t\t&lt;classpathPrefix&gt;lib/&lt;/classpathPrefix&gt;\r\n    \t\t\t\t\t\t\t&lt;mainClass&gt;XXX.ef.AlertPocDemo&lt;/mainClass&gt;\r\n    \t\t\t\t\t\t&lt;/manifest&gt;\r\n    \t\t\t\t\t&lt;/archive&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;3.1.1&lt;/version&gt;\r\n    \t\t\t\t&lt;executions&gt;\r\n    \t\t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t\t&lt;phase&gt;package&lt;/phase&gt;\r\n    \t\t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t\t&lt;goal&gt;shade&lt;/goal&gt;\r\n    \t\t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t\t\t&lt;minimizeJar&gt;true&lt;/minimizeJar&gt;\r\n    \t\t\t\t\t\t\t&lt;createDependencyReducedPom&gt;true&lt;/createDependencyReducedPom&gt;\r\n    \t\t\t\t\t\t\t&lt;dependencyReducedPomLocation&gt;${java.io.tmpdir}/dependency-reduced-pom.xml&lt;/dependencyReducedPomLocation&gt;\r\n    \t\t\t\t\t\t\t&lt;relocations&gt;\r\n    \t\t\t\t\t\t\t\t&lt;relocation&gt;\r\n    \t\t\t\t\t\t\t\t\t&lt;pattern&gt;com.acme.coyote&lt;/pattern&gt;\r\n    \t\t\t\t\t\t\t\t\t&lt;shadedPattern&gt;hidden.coyote&lt;/shadedPattern&gt;\r\n    \t\t\t\t\t\t\t\t&lt;/relocation&gt;\r\n    \t\t\t\t\t\t\t&lt;/relocations&gt;\r\n    \t\t\t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t\t\t&lt;/execution&gt;\r\n    \t\t\t\t&lt;/executions&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\n","title":"ERROR StatusLogger Log4j2 could not find a logging implementation. Please add log4j-core to the classpath. Using SimpleLogger","body":"<p>I am using custom log4j2 library - corporate library, company specific, I created fat jar out of maven project and trying to run the code commandline</p>\n<pre><code>java -jar &quot;target\\abc-0.0.1-SNAPSHOT.jar&quot;\nERROR StatusLogger Log4j2 could not find a logging implementation. Please add log4j-core to the classpath. Using SimpleLogger to log to the console...\nFATAL AlertPocDemo SomePOCData\n</code></pre>\n<p>pom.xml</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;netcool-demo-inbuilt&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n    &lt;name&gt;netcool-poc&lt;/name&gt;\n    &lt;url&gt;http://maven.apache.org&lt;/url&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;java.version&gt;1.6&lt;/java.version&gt;\n        &lt;log4j2.version&gt;2.17.0&lt;/log4j2.version&gt;\n        &lt;log4j-tcs.version&gt;2.17.0-tcs-patch-4&lt;/log4j-tcs.version&gt;\n        &lt;netcool.version&gt;1.3.1&lt;/netcool.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;XXX.YYY&lt;/groupId&gt;\n            &lt;artifactId&gt;Log4j2NetcoolSocketAppender&lt;/artifactId&gt;\n            &lt;version&gt;1.3.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\n            &lt;version&gt;2.17.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n            &lt;version&gt;2.17.0-tcs-patch-4&lt;/version&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;${java.version}&lt;/source&gt;\n                    &lt;target&gt;${java.version}&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;single&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n                &lt;configuration&gt;\n                    &lt;transformers&gt;\n                        &lt;transformer\n                            implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\n                            &lt;mainClass&gt;XXX.ef.AlertPocDemo&lt;/mainClass&gt;\n                        &lt;/transformer&gt;\n                    &lt;/transformers&gt;\n                    &lt;archive&gt;\n                        &lt;manifest&gt;\n                            &lt;addClasspath&gt;true&lt;/addClasspath&gt;\n                            &lt;mainClass&gt;XXX.ef.AlertPocDemo&lt;/mainClass&gt;\n                        &lt;/manifest&gt;\n                    &lt;/archive&gt;\n                    &lt;descriptorRefs&gt;\n                        &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n                    &lt;/descriptorRefs&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;com.jolira&lt;/groupId&gt;\n                &lt;artifactId&gt;onejar-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;1.4.4&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;one-jar&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;!-- Build an executable JAR --&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.1.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;archive&gt;\n                        &lt;manifest&gt;\n                            &lt;addClasspath&gt;true&lt;/addClasspath&gt;\n                            &lt;classpathPrefix&gt;lib/&lt;/classpathPrefix&gt;\n                            &lt;mainClass&gt;XXX.ef.AlertPocDemo&lt;/mainClass&gt;\n                        &lt;/manifest&gt;\n                    &lt;/archive&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.1.1&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;shade&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;minimizeJar&gt;true&lt;/minimizeJar&gt;\n                            &lt;createDependencyReducedPom&gt;true&lt;/createDependencyReducedPom&gt;\n                            &lt;dependencyReducedPomLocation&gt;${java.io.tmpdir}/dependency-reduced-pom.xml&lt;/dependencyReducedPomLocation&gt;\n                            &lt;relocations&gt;\n                                &lt;relocation&gt;\n                                    &lt;pattern&gt;com.acme.coyote&lt;/pattern&gt;\n                                    &lt;shadedPattern&gt;hidden.coyote&lt;/shadedPattern&gt;\n                                &lt;/relocation&gt;\n                            &lt;/relocations&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":2,"creation_date":1667914928,"post_id":74361633,"comment_id":131277686,"body_markdown":"Why not `return stream.filter(str -&gt; str.matches(&quot;a|b|c&quot;)).....`","body":"Why not <code>return stream.filter(str -&gt; str.matches(&quot;a|b|c&quot;)).....</code>"}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667917543,"creation_date":1667915328,"answer_id":74361817,"question_id":74361633,"body_markdown":"Once the stream is consumed - it&#39;s done, and you can&#39;t use it anymore. Otherwise, you would get an `IllegalStateException`.\r\n\r\nBecause Stream is a mean of iteration of the source of data, not a container of data.\r\n\r\nHere&#39;s a quote from the [API documentation](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/package-summary.html):\r\n\r\n&gt; Streams differ from collections in several ways:\r\n&gt; \r\n&gt; * **No storage**. A **stream is not a data structure** that stores elements; instead, it conveys elements from a source such as a data structure,\r\n&gt; an array, a generator function, or an I/O channel, through a pipeline\r\n&gt; of computational operations.\r\n\r\nYou can store the incoming stream data into a collection, and then interact with it. As a collection we can use a `LinkedHashMap` (for the example with strings a set, would be enough, but if we generify the code the map would be useful to deal with complex objects that are contrary to string not necessarily identical even if they are equal).\r\n\r\nThat&#39;s how it might be implemented **without** using hard-coded conditions:\r\n\r\n    private static &lt;T&gt; T findBestValue(Stream&lt;T&gt; stream,\r\n                                       T key1, T key2, T key3) {\r\n        \r\n        Map&lt;T, T&gt; map = stream.collect(Collectors.toMap(\r\n            Function.identity(),\r\n            Function.identity(),\r\n            (l, r) -&gt; l,         // preserve the first value - precaution against duplicates\r\n            LinkedHashMap::new\r\n        ));\r\n        \r\n        return Stream.of(map.get(key1), map.get(key2), map.get(key3))\r\n            .filter(Objects::nonNull)\r\n            .findFirst()\r\n            .orElse(null); // NOTE that it&#39;s NOT the most recommended option (we can return Optional itself or use methods like orElseThrow())\r\n    }\r\n\r\nAnd we can make this method expect a varargs of *keys*:\r\n\r\n    private static &lt;T&gt; T findBestValue(Stream&lt;T&gt; stream,\r\n                                       T... keys) {\r\n        \r\n        Map&lt;T, T&gt; map = stream.collect(Collectors.toMap(\r\n            Function.identity(),\r\n            Function.identity(),\r\n            (l, r) -&gt; l,\r\n            LinkedHashMap::new\r\n        ));\r\n        \r\n        return Arrays.stream(keys)\r\n            .map(map::get)\r\n            .filter(Objects::nonNull)\r\n            .findFirst()\r\n            .orElse(null);\r\n    }\r\n\r\n`main()`\r\n\r\n    public static void main(String[] args) {\r\n        Stream&lt;String&gt; stream1 = Stream.of(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;);\r\n        Stream&lt;String&gt; stream2 = Stream.of(&quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;e&quot;);\r\n        Stream&lt;String&gt; stream3 = Stream.of(&quot;d&quot;, &quot;e&quot;, &quot;f&quot;, &quot;g&quot;);\r\n\r\n        System.out.println(findBestValue(stream1, &quot;a&quot;, &quot;b&quot;, &quot;c&quot;)); //should return &quot;a&quot;\r\n        System.out.println(findBestValue(stream2, &quot;a&quot;, &quot;b&quot;, &quot;c&quot;)); //should return &quot;b&quot;\r\n        System.out.println(findBestValue(stream3, &quot;a&quot;, &quot;b&quot;, &quot;c&quot;)); //should return null\r\n    }\r\n\r\n*Output:*\r\n\r\n```\r\na\r\nb\r\nnull\r\n```","title":"Stream find first multiple option","body":"<p>Once the stream is consumed - it's done, and you can't use it anymore. Otherwise, you would get an <code>IllegalStateException</code>.</p>\n<p>Because Stream is a mean of iteration of the source of data, not a container of data.</p>\n<p>Here's a quote from the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/package-summary.html\" rel=\"nofollow noreferrer\">API documentation</a>:</p>\n<blockquote>\n<p>Streams differ from collections in several ways:</p>\n<ul>\n<li><strong>No storage</strong>. A <strong>stream is not a data structure</strong> that stores elements; instead, it conveys elements from a source such as a data structure,\nan array, a generator function, or an I/O channel, through a pipeline\nof computational operations.</li>\n</ul>\n</blockquote>\n<p>You can store the incoming stream data into a collection, and then interact with it. As a collection we can use a <code>LinkedHashMap</code> (for the example with strings a set, would be enough, but if we generify the code the map would be useful to deal with complex objects that are contrary to string not necessarily identical even if they are equal).</p>\n<p>That's how it might be implemented <strong>without</strong> using hard-coded conditions:</p>\n<pre><code>private static &lt;T&gt; T findBestValue(Stream&lt;T&gt; stream,\n                                   T key1, T key2, T key3) {\n    \n    Map&lt;T, T&gt; map = stream.collect(Collectors.toMap(\n        Function.identity(),\n        Function.identity(),\n        (l, r) -&gt; l,         // preserve the first value - precaution against duplicates\n        LinkedHashMap::new\n    ));\n    \n    return Stream.of(map.get(key1), map.get(key2), map.get(key3))\n        .filter(Objects::nonNull)\n        .findFirst()\n        .orElse(null); // NOTE that it's NOT the most recommended option (we can return Optional itself or use methods like orElseThrow())\n}\n</code></pre>\n<p>And we can make this method expect a varargs of <em>keys</em>:</p>\n<pre><code>private static &lt;T&gt; T findBestValue(Stream&lt;T&gt; stream,\n                                   T... keys) {\n    \n    Map&lt;T, T&gt; map = stream.collect(Collectors.toMap(\n        Function.identity(),\n        Function.identity(),\n        (l, r) -&gt; l,\n        LinkedHashMap::new\n    ));\n    \n    return Arrays.stream(keys)\n        .map(map::get)\n        .filter(Objects::nonNull)\n        .findFirst()\n        .orElse(null);\n}\n</code></pre>\n<p><code>main()</code></p>\n<pre><code>public static void main(String[] args) {\n    Stream&lt;String&gt; stream1 = Stream.of(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;);\n    Stream&lt;String&gt; stream2 = Stream.of(&quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;e&quot;);\n    Stream&lt;String&gt; stream3 = Stream.of(&quot;d&quot;, &quot;e&quot;, &quot;f&quot;, &quot;g&quot;);\n\n    System.out.println(findBestValue(stream1, &quot;a&quot;, &quot;b&quot;, &quot;c&quot;)); //should return &quot;a&quot;\n    System.out.println(findBestValue(stream2, &quot;a&quot;, &quot;b&quot;, &quot;c&quot;)); //should return &quot;b&quot;\n    System.out.println(findBestValue(stream3, &quot;a&quot;, &quot;b&quot;, &quot;c&quot;)); //should return null\n}\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>a\nb\nnull\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4718484,"reputation":809,"user_id":3817061,"display_name":"Moe Singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667915405,"creation_date":1667915405,"answer_id":74361832,"question_id":74361633,"body_markdown":"Good explanation of the error here:  https://www.baeldung.com/java-stream-operated-upon-or-closed-exception\r\n\r\nBasically, you can only run a stream once.  \r\n\r\nIf you really want to do it this way, try:\r\n\r\n```\r\n    private static String findBestValue(List&lt;String&gt; list) {\r\n        return list.stream().filter(str -&gt; str.equals(&quot;a&quot;))\r\n                .findFirst()\r\n                .orElse(list.stream().filter(str -&gt; str.equals(&quot;b&quot;))\r\n                        .findFirst()\r\n                        .orElse(list.stream().filter(str -&gt; str.equals(&quot;c&quot;))\r\n                                .findFirst()\r\n                                .orElse(null)));\r\n    }\r\n```","title":"Stream find first multiple option","body":"<p>Good explanation of the error here:  <a href=\"https://www.baeldung.com/java-stream-operated-upon-or-closed-exception\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-stream-operated-upon-or-closed-exception</a></p>\n<p>Basically, you can only run a stream once.</p>\n<p>If you really want to do it this way, try:</p>\n<pre><code>    private static String findBestValue(List&lt;String&gt; list) {\n        return list.stream().filter(str -&gt; str.equals(&quot;a&quot;))\n                .findFirst()\n                .orElse(list.stream().filter(str -&gt; str.equals(&quot;b&quot;))\n                        .findFirst()\n                        .orElse(list.stream().filter(str -&gt; str.equals(&quot;c&quot;))\n                                .findFirst()\n                                .orElse(null)));\n    }\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user17233545"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667918815,"creation_date":1667918815,"answer_id":74362648,"question_id":74361633,"body_markdown":"@Alexander Ivanchenko&#39;s solution can also be written as\r\n\r\n    private static &lt;T&gt; T findBestValue(Stream&lt;T&gt; stream, T... keys) {\r\n        Set&lt;T&gt; set = stream.collect(Collectors.toSet());\r\n        return Stream.of(keys)\r\n            .filter(set::contains)\r\n            .findFirst()\r\n            .orElse(null);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        Stream&lt;String&gt; stream0 = Stream.of(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;);\r\n        Stream&lt;String&gt; stream1 = Stream.of(&quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;a&quot;);\r\n        Stream&lt;String&gt; stream2 = Stream.of(&quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;e&quot;);\r\n        Stream&lt;String&gt; stream3 = Stream.of(&quot;d&quot;, &quot;e&quot;, &quot;f&quot;, &quot;g&quot;);\r\n\r\n        System.out.println(findBestValue(stream0, &quot;a&quot;, &quot;b&quot;, &quot;c&quot;)); //should return &quot;a&quot;\r\n        System.out.println(findBestValue(stream1, &quot;a&quot;, &quot;b&quot;, &quot;c&quot;)); //should return &quot;a&quot;\r\n        System.out.println(findBestValue(stream2, &quot;a&quot;, &quot;b&quot;, &quot;c&quot;)); //should return &quot;b&quot;\r\n        System.out.println(findBestValue(stream3, &quot;a&quot;, &quot;b&quot;, &quot;c&quot;)); //should return null\r\n    }\r\n\r\noutput:\r\n\r\n    a\r\n    a\r\n    b\r\n    null\r\n\r\n","title":"Stream find first multiple option","body":"<p>@Alexander Ivanchenko's solution can also be written as</p>\n<pre><code>private static &lt;T&gt; T findBestValue(Stream&lt;T&gt; stream, T... keys) {\n    Set&lt;T&gt; set = stream.collect(Collectors.toSet());\n    return Stream.of(keys)\n        .filter(set::contains)\n        .findFirst()\n        .orElse(null);\n}\n\npublic static void main(String[] args) {\n    Stream&lt;String&gt; stream0 = Stream.of(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;);\n    Stream&lt;String&gt; stream1 = Stream.of(&quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;a&quot;);\n    Stream&lt;String&gt; stream2 = Stream.of(&quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;e&quot;);\n    Stream&lt;String&gt; stream3 = Stream.of(&quot;d&quot;, &quot;e&quot;, &quot;f&quot;, &quot;g&quot;);\n\n    System.out.println(findBestValue(stream0, &quot;a&quot;, &quot;b&quot;, &quot;c&quot;)); //should return &quot;a&quot;\n    System.out.println(findBestValue(stream1, &quot;a&quot;, &quot;b&quot;, &quot;c&quot;)); //should return &quot;a&quot;\n    System.out.println(findBestValue(stream2, &quot;a&quot;, &quot;b&quot;, &quot;c&quot;)); //should return &quot;b&quot;\n    System.out.println(findBestValue(stream3, &quot;a&quot;, &quot;b&quot;, &quot;c&quot;)); //should return null\n}\n</code></pre>\n<p>output:</p>\n<pre><code>a\na\nb\nnull\n</code></pre>\n"}],"owner":{"account_id":13903101,"reputation":568,"user_id":10038235,"display_name":"Kyofa"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":153,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":74361817,"answer_count":3,"score":-1,"last_activity_date":1667918815,"creation_date":1667914488,"question_id":74361633,"body_markdown":"I have a stream and I would like to extract one value based on the condition :\r\n\r\n- If any match condition A find first that match A\r\n- Else if any match condition B find first that match B\r\n- Else if any match condition C find first that match C\r\n- Else null\r\n\r\nFor example :\r\n\r\n    Stream&lt;String&gt; stream0 = Stream.of(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;);\r\n    Stream&lt;String&gt; stream1 = Stream.of(&quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;a&quot;);\r\n    Stream&lt;String&gt; stream2 = Stream.of(&quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;e&quot;);\r\n    Stream&lt;String&gt; stream3 = Stream.of(&quot;d&quot;, &quot;e&quot;, &quot;f&quot;, &quot;g&quot;);\r\n\r\n    findBestValue(stream0); //should return &quot;a&quot;\r\n    findBestValue(stream1); //should return &quot;a&quot;\r\n    findBestValue(stream2); //should return &quot;b&quot;\r\n    findBestValue(stream3); //should return null\r\n\r\nI tried the following, but that return a ```java.lang.IllegalStateException: stream has already been operated upon or closed```\r\n\r\n    private static String findBestValue(Stream&lt;String&gt; stream) {\r\n        return stream.filter(str -&gt; str.equals(&quot;a&quot;))\r\n                .findFirst()\r\n                .orElse(stream.filter(str -&gt; str.equals(&quot;b&quot;))\r\n                        .findFirst()\r\n                        .orElse(stream.filter(str -&gt; str.equals(&quot;c&quot;))\r\n                                .findFirst()\r\n                                .orElse(null))\r\n                );\r\n    }\r\n\r\nAny idea how I could archive that ?\r\n\r\nNote : a, b, c are just for the example I can&#39;t use .sort()","title":"Stream find first multiple option","body":"<p>I have a stream and I would like to extract one value based on the condition :</p>\n<ul>\n<li>If any match condition A find first that match A</li>\n<li>Else if any match condition B find first that match B</li>\n<li>Else if any match condition C find first that match C</li>\n<li>Else null</li>\n</ul>\n<p>For example :</p>\n<pre><code>Stream&lt;String&gt; stream0 = Stream.of(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;);\nStream&lt;String&gt; stream1 = Stream.of(&quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;a&quot;);\nStream&lt;String&gt; stream2 = Stream.of(&quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;e&quot;);\nStream&lt;String&gt; stream3 = Stream.of(&quot;d&quot;, &quot;e&quot;, &quot;f&quot;, &quot;g&quot;);\n\nfindBestValue(stream0); //should return &quot;a&quot;\nfindBestValue(stream1); //should return &quot;a&quot;\nfindBestValue(stream2); //should return &quot;b&quot;\nfindBestValue(stream3); //should return null\n</code></pre>\n<p>I tried the following, but that return a <code>java.lang.IllegalStateException: stream has already been operated upon or closed</code></p>\n<pre><code>private static String findBestValue(Stream&lt;String&gt; stream) {\n    return stream.filter(str -&gt; str.equals(&quot;a&quot;))\n            .findFirst()\n            .orElse(stream.filter(str -&gt; str.equals(&quot;b&quot;))\n                    .findFirst()\n                    .orElse(stream.filter(str -&gt; str.equals(&quot;c&quot;))\n                            .findFirst()\n                            .orElse(null))\n            );\n}\n</code></pre>\n<p>Any idea how I could archive that ?</p>\n<p>Note : a, b, c are just for the example I can't use .sort()</p>\n"},{"tags":["java","google-api","google-oauth","google-api-java-client"],"answers":[{"tags":[],"owner":{"account_id":3080,"reputation":2755,"user_id":4372,"display_name":"Johannes Passing"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641536678,"creation_date":1641536678,"answer_id":70617328,"question_id":70613164,"body_markdown":"You can use `IdTokenCredentials` to access the ID token like so:\r\n\r\n```\r\nvar credentials = UserCredentials.newBuilder()\r\n        .setClientId(&quot;...&quot;)\r\n        .setClientSecret(&quot;...&quot;)\r\n        .setRefreshToken(&quot;...&quot;)\r\n        .build()\r\n        .createScoped(&quot;openid email&quot;);\r\n\r\nvar idToken = IdTokenCredentials\r\n        .newBuilder()\r\n        .setIdTokenProvider((IdTokenProvider)credentials)\r\n        .build();\r\n\r\nidToken.refresh();\r\nSystem.out.println(idToken.getIdToken().getTokenValue());\r\n```","title":"How does one get the id_token using Google&#39;s OAuth2 Java Api?","body":"<p>You can use <code>IdTokenCredentials</code> to access the ID token like so:</p>\n<pre><code>var credentials = UserCredentials.newBuilder()\n        .setClientId(&quot;...&quot;)\n        .setClientSecret(&quot;...&quot;)\n        .setRefreshToken(&quot;...&quot;)\n        .build()\n        .createScoped(&quot;openid email&quot;);\n\nvar idToken = IdTokenCredentials\n        .newBuilder()\n        .setIdTokenProvider((IdTokenProvider)credentials)\n        .build();\n\nidToken.refresh();\nSystem.out.println(idToken.getIdToken().getTokenValue());\n</code></pre>\n"}],"owner":{"account_id":12233284,"reputation":27,"user_id":8928554,"display_name":"DGrinbergs"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1151,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1667918006,"creation_date":1641500360,"question_id":70613164,"body_markdown":"I&#39;m trying to get my head around the [OAuth2 Java library](https://github.com/googleapis/google-auth-library-java) that Google provides.\r\n\r\nI have everything I need to make the request to Google&#39;s token endpoint manually using Springs built-in WebClient. However, this is very verbose and feels like re-inventing the wheel. It got me thinking that there must be a way to get this data using the classes provided by the library. Right?\r\n\r\nCurrently I am using the `com.google.auth.oauth2.UserAuthorizer` class to build up a request for the exchange of information.\r\n\r\n```\r\nval userCredentials: UserCredentials = UserAuthorizer.newBuilder()\r\n  .setClientId(googleOauthConfig.clientId)\r\n  .setTokenStore(tokenStore)\r\n  .setScopes(googleOauthConfig.scopes)\r\n  .setTokenServerUri(URI.create(&quot;https://oauth2.googleapis.com/token&quot;))\r\n  .setCallbackUri(redirectUri)\r\n  .build()\r\n  .getCredentialsFromCode(authorizationCode, redirectUri)\r\n```\r\n\r\nThe internals of `getCredentialsFromCode()` parses the response and it contains all the tokens. Including the `id_token` but, it gets discarded when constructing the `UserCredentials` object further down.\r\n\r\n[![Debug mode showing that the value for id_token is stored][1]][1]\r\n\r\n```\r\nreturn UserCredentials.newBuilder()\r\n  .setClientId(clientId.getClientId())\r\n  .setClientSecret(clientId.getClientSecret())\r\n  .setRefreshToken(refreshToken)\r\n  .setAccessToken(accessToken)\r\n  .setHttpTransportFactory(transportFactory)\r\n  .setTokenServerUri(tokenServerUri)\r\n  .build(); // no mention of id_token\r\n```\r\n\r\nRegardless, I want to get this value so I can know basic information about the user such as their name, birthday and email address from a single request.\r\n\r\nThere does exist a method called `idTokenWithAudience()` which returns a Google ID Token from the refresh token response. If I call this, I get a token back that doesn&#39;t contain all the data that was available in the identically named `id_token` mentioned earlier making it a no-go either.\r\n\r\n  [1]: https://i.stack.imgur.com/zSMvN.png","title":"How does one get the id_token using Google&#39;s OAuth2 Java Api?","body":"<p>I'm trying to get my head around the <a href=\"https://github.com/googleapis/google-auth-library-java\" rel=\"nofollow noreferrer\">OAuth2 Java library</a> that Google provides.</p>\n<p>I have everything I need to make the request to Google's token endpoint manually using Springs built-in WebClient. However, this is very verbose and feels like re-inventing the wheel. It got me thinking that there must be a way to get this data using the classes provided by the library. Right?</p>\n<p>Currently I am using the <code>com.google.auth.oauth2.UserAuthorizer</code> class to build up a request for the exchange of information.</p>\n<pre><code>val userCredentials: UserCredentials = UserAuthorizer.newBuilder()\n  .setClientId(googleOauthConfig.clientId)\n  .setTokenStore(tokenStore)\n  .setScopes(googleOauthConfig.scopes)\n  .setTokenServerUri(URI.create(&quot;https://oauth2.googleapis.com/token&quot;))\n  .setCallbackUri(redirectUri)\n  .build()\n  .getCredentialsFromCode(authorizationCode, redirectUri)\n</code></pre>\n<p>The internals of <code>getCredentialsFromCode()</code> parses the response and it contains all the tokens. Including the <code>id_token</code> but, it gets discarded when constructing the <code>UserCredentials</code> object further down.</p>\n<p><a href=\"https://i.stack.imgur.com/zSMvN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zSMvN.png\" alt=\"Debug mode showing that the value for id_token is stored\" /></a></p>\n<pre><code>return UserCredentials.newBuilder()\n  .setClientId(clientId.getClientId())\n  .setClientSecret(clientId.getClientSecret())\n  .setRefreshToken(refreshToken)\n  .setAccessToken(accessToken)\n  .setHttpTransportFactory(transportFactory)\n  .setTokenServerUri(tokenServerUri)\n  .build(); // no mention of id_token\n</code></pre>\n<p>Regardless, I want to get this value so I can know basic information about the user such as their name, birthday and email address from a single request.</p>\n<p>There does exist a method called <code>idTokenWithAudience()</code> which returns a Google ID Token from the refresh token response. If I call this, I get a token back that doesn't contain all the data that was available in the identically named <code>id_token</code> mentioned earlier making it a no-go either.</p>\n"},{"tags":["java","string","string-formatting"],"answers":[{"tags":[],"owner":{"account_id":10930,"reputation":781791,"user_id":20862,"accept_rate":50,"display_name":"Ignacio Vazquez-Abrams"},"down_vote_count":1,"up_vote_count":342,"is_accepted":false,"score":341,"last_activity_date":1667917681,"creation_date":1312134713,"answer_id":6891209,"question_id":6891175,"body_markdown":"From &lt;a href=&quot;https://docs.oracle.com/javase/1.5.0/docs/api/java/util/Formatter.html#syntax&quot;&gt;the docs&lt;/a&gt;:\r\n\r\n&gt; - The format specifiers for general, character, and numeric types have the following syntax:\r\n&gt;\r\n&gt;       %[argument_index$][flags][width][.precision]conversion     \r\n&gt; \r\n&gt; The optional &lt;i&gt;argument_index&lt;/i&gt; is a decimal integer indicating the position of the argument in the argument list. The first argument is referenced by `&quot;1$&quot;`, the second by `&quot;2$&quot;`, etc. \r\n\r\n    String.format(&quot;%1$s %1$s %1$s %1$s %1$s %1$s&quot;, hello);","title":"Do I have to specify a variable for each identical argument in String.format?","body":"<p>From <a href=\"https://docs.oracle.com/javase/1.5.0/docs/api/java/util/Formatter.html#syntax\" rel=\"noreferrer\">the docs</a>:</p>\n<blockquote>\n<ul>\n<li><p>The format specifiers for general, character, and numeric types have the following syntax:</p>\n<pre><code>%[argument_index$][flags][width][.precision]conversion     \n</code></pre>\n</li>\n</ul>\n<p>The optional <i>argument_index</i> is a decimal integer indicating the position of the argument in the argument list. The first argument is referenced by <code>&quot;1$&quot;</code>, the second by <code>&quot;2$&quot;</code>, etc.</p>\n</blockquote>\n<pre><code>String.format(&quot;%1$s %1$s %1$s %1$s %1$s %1$s&quot;, hello);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9852951,"reputation":1534,"user_id":7298431,"display_name":"Daniel"},"down_vote_count":0,"up_vote_count":92,"is_accepted":false,"score":92,"last_activity_date":1481744283,"creation_date":1481743080,"answer_id":41150461,"question_id":6891175,"body_markdown":"Another option is to use *relative indexing*: The format specifier references the same argument as the last format specifier.\r\n\r\nFor example:\r\n\r\n    String.format(&quot;%s %&lt;s %&lt;s %&lt;s&quot;, &quot;hello&quot;)\r\n\r\nresults in `hello hello hello hello`.","title":"Do I have to specify a variable for each identical argument in String.format?","body":"<p>Another option is to use <em>relative indexing</em>: The format specifier references the same argument as the last format specifier.</p>\n\n<p>For example:</p>\n\n<pre><code>String.format(\"%s %&lt;s %&lt;s %&lt;s\", \"hello\")\n</code></pre>\n\n<p>results in <code>hello hello hello hello</code>.</p>\n"},{"tags":[],"owner":{"account_id":8566752,"reputation":53329,"user_id":6419007,"accept_rate":67,"display_name":"Eric Duminil"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1497443978,"creation_date":1497443978,"answer_id":44545067,"question_id":6891175,"body_markdown":"One common case for reusing an argument in `String.format` is with a separator (e.g. `&quot;;&quot;` for CSV or tab for console).\r\n\r\n    System.out.println(String.format(&quot;%s %2$s %s %2$s %s %n&quot;, &quot;a&quot;, &quot;;&quot;, &quot;b&quot;, &quot;c&quot;));\r\n    // &quot;a ; ; ; b&quot;\r\n\r\nThis isn&#39;t the desired output. `&quot;c&quot;` doesn&#39;t appear anywhere.\r\n\r\nYou need to use the separator first (with `%s`) and only use the argument index (`%2$s`) for the following occurences :\r\n\r\n    System.out.println(String.format(&quot;%s %s %s %2$s %s %n&quot;, &quot;a&quot;, &quot;;&quot;, &quot;b&quot;, &quot;c&quot;));\r\n    //\t&quot;a ; b ; c&quot;\r\n\r\nSpaces are added for readability and debugging. Once the format appears to be correct, spaces can be removed in the text editor:\r\n\r\n    System.out.println(String.format(&quot;%s%s%s%2$s%s%n&quot;, &quot;a&quot;, &quot;;&quot;, &quot;b&quot;, &quot;c&quot;));\r\n    // &quot;a;b;c&quot;","title":"Do I have to specify a variable for each identical argument in String.format?","body":"<p>One common case for reusing an argument in <code>String.format</code> is with a separator (e.g. <code>\";\"</code> for CSV or tab for console).</p>\n\n<pre><code>System.out.println(String.format(\"%s %2$s %s %2$s %s %n\", \"a\", \";\", \"b\", \"c\"));\n// \"a ; ; ; b\"\n</code></pre>\n\n<p>This isn't the desired output. <code>\"c\"</code> doesn't appear anywhere.</p>\n\n<p>You need to use the separator first (with <code>%s</code>) and only use the argument index (<code>%2$s</code>) for the following occurences :</p>\n\n<pre><code>System.out.println(String.format(\"%s %s %s %2$s %s %n\", \"a\", \";\", \"b\", \"c\"));\n//  \"a ; b ; c\"\n</code></pre>\n\n<p>Spaces are added for readability and debugging. Once the format appears to be correct, spaces can be removed in the text editor:</p>\n\n<pre><code>System.out.println(String.format(\"%s%s%s%2$s%s%n\", \"a\", \";\", \"b\", \"c\"));\n// \"a;b;c\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6135552,"reputation":2268,"user_id":4784537,"display_name":"Ahmad Al-Kurdi"},"down_vote_count":1,"up_vote_count":28,"is_accepted":false,"score":27,"last_activity_date":1632120697,"creation_date":1531237677,"answer_id":51269523,"question_id":6891175,"body_markdown":"You need to use the index argument `%[argument_index$]` as the following:\r\n\r\n    String hello = &quot;Hello&quot;;\r\n    String.format(&quot;%1$s %1$s %1$s %1$s %1$s %1$s&quot;, hello);\r\n\r\nResult: `Hello Hello Hello Hello Hello Hello` ","title":"Do I have to specify a variable for each identical argument in String.format?","body":"<p>You need to use the index argument <code>%[argument_index$]</code> as the following:</p>\n<pre><code>String hello = &quot;Hello&quot;;\nString.format(&quot;%1$s %1$s %1$s %1$s %1$s %1$s&quot;, hello);\n</code></pre>\n<p>Result: <code>Hello Hello Hello Hello Hello Hello</code></p>\n"}],"owner":{"account_id":562339,"reputation":1861,"user_id":871777,"display_name":"Carey"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":102285,"favorite_count":0,"down_vote_count":0,"up_vote_count":186,"answer_count":4,"score":186,"last_activity_date":1667917803,"creation_date":1312134485,"question_id":6891175,"body_markdown":"\r\n    String hello = &quot;Hello&quot;;\r\n    \r\n    String.format(&quot;%s %s %s %s %s %s&quot;, hello, hello, hello, hello, hello, hello);\r\n\r\n    hello hello hello hello hello hello \r\n\r\nDoes the `hello` variable need to be repeated multiple times in the call to the format method or is there a shorthand version that lets you specify the argument once to be applied to all of the `%s` tokens?","title":"Do I have to specify a variable for each identical argument in String.format?","body":"<pre><code>String hello = &quot;Hello&quot;;\n\nString.format(&quot;%s %s %s %s %s %s&quot;, hello, hello, hello, hello, hello, hello);\n\nhello hello hello hello hello hello \n</code></pre>\n<p>Does the <code>hello</code> variable need to be repeated multiple times in the call to the format method or is there a shorthand version that lets you specify the argument once to be applied to all of the <code>%s</code> tokens?</p>\n"},{"tags":["java","string","memory","pdf-generation","chromium"],"answers":[{"tags":[],"owner":{"account_id":6157819,"reputation":71,"user_id":4800282,"display_name":"Niels"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667891320,"creation_date":1667891320,"answer_id":74356857,"question_id":74218933,"body_markdown":"The terms &#39;chrome read stdin&#39; would probably have brought you to [this question][1] explaining how to read from a data url:\r\n\r\n    chrome.exe &quot;data:text/html;base64,PCFET0NUWVBFIGh0bWw+PGh0bWw+PGhlYWQ+PHRpdGxlPlRlc3Q8L3RpdGxlPjwvaGVhZD48Ym9keT5ZbzwvYm9keT48L2h0bWw+&quot;\r\n\r\nReading input from stdin sounds like you would also want to write the output to stdout: &#39;chrome pdf to stdout&#39;. Which links to someone trying the same thing and running into issues about [not being able to combine --stdout with screenshot or pdf output][2] from 2018. \r\nAnd (depending on the usecase) even worse, a limitation of the data url&#39;s of 2MB.\r\n\r\nSo if you can&#39;t guarantee the input to be less than 2MB you might be better off using files anyway, or check if the limitation has been removed.\r\n\r\nAlso, given that you specify that option 2 has a solution in serving the page directly, would that not also open up the option to do the same for option 1?\r\n\r\n  [1]: https://stackoverflow.com/questions/9045584\r\n  [2]: https://bugs.chromium.org/p/chromium/issues/detail?id=732052","title":"Chromium headless PDF generation (in Java) using String instead of temp file/page","body":"<p>The terms 'chrome read stdin' would probably have brought you to <a href=\"https://stackoverflow.com/questions/9045584\">this question</a> explaining how to read from a data url:</p>\n<pre><code>chrome.exe &quot;data:text/html;base64,PCFET0NUWVBFIGh0bWw+PGh0bWw+PGhlYWQ+PHRpdGxlPlRlc3Q8L3RpdGxlPjwvaGVhZD48Ym9keT5ZbzwvYm9keT48L2h0bWw+&quot;\n</code></pre>\n<p>Reading input from stdin sounds like you would also want to write the output to stdout: 'chrome pdf to stdout'. Which links to someone trying the same thing and running into issues about <a href=\"https://bugs.chromium.org/p/chromium/issues/detail?id=732052\" rel=\"nofollow noreferrer\">not being able to combine --stdout with screenshot or pdf output</a> from 2018.\nAnd (depending on the usecase) even worse, a limitation of the data url's of 2MB.</p>\n<p>So if you can't guarantee the input to be less than 2MB you might be better off using files anyway, or check if the limitation has been removed.</p>\n<p>Also, given that you specify that option 2 has a solution in serving the page directly, would that not also open up the option to do the same for option 1?</p>\n"},{"tags":[],"owner":{"account_id":14313923,"reputation":8884,"user_id":10802527,"display_name":"K J"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667917734,"creation_date":1667915645,"answer_id":74361904,"question_id":74218933,"body_markdown":"You should not need redundant `-disable-gpu` usure which version it was not needed for Windows, but redundant in https://chromium-review.googlesource.com/c/chromium/src/+/1161172 (2018), however, you may want to replace with `--print-to-pdf-no-header` to avoid those.\r\n\r\nYour using windows as the shell to run Chrome/MSEdge.exe so for that reason there will be a significantly smaller command line ability to CMD pass a variable string.\r\n\r\nTo pass a base64 for html string as stdin will often be limited by content for similar string length reasons to say 1.5MB (75% of 2MB). Thus in special exceptional cases that may be 4096 pages see https://github.com/GitHubRulesOK/MyNotes/raw/master/Hanoi.htm however the norm is usually **only a few standard html pages**.\r\n\r\nPDF file handling requires a file system to generate the pages, thus a file centred approach to store the decimal based file index. So the memory work around is to use a RamDrive/Disk or its Bytes IO equivalent as named FileStream object.\r\n\r\nUsing PDF data in memory is usually highly disk intensive as the limited resources after contents program processing need to draw on the bus disk cache to augment virtual ram. As a result working in memory can be just as slow if not slower than using cached disk file data.\r\n\r\n%Tmp% / %temp% files can usually respond quicker and be very easily overwritten.\r\n\r\nThere are many other working and non-working switches bandied about the web, but the semi-official list is https://peter.sh/experiments/chromium-command-line-switches/","title":"Chromium headless PDF generation (in Java) using String instead of temp file/page","body":"<p>You should not need redundant <code>-disable-gpu</code> usure which version it was not needed for Windows, but redundant in <a href=\"https://chromium-review.googlesource.com/c/chromium/src/+/1161172\" rel=\"nofollow noreferrer\">https://chromium-review.googlesource.com/c/chromium/src/+/1161172</a> (2018), however, you may want to replace with <code>--print-to-pdf-no-header</code> to avoid those.</p>\n<p>Your using windows as the shell to run Chrome/MSEdge.exe so for that reason there will be a significantly smaller command line ability to CMD pass a variable string.</p>\n<p>To pass a base64 for html string as stdin will often be limited by content for similar string length reasons to say 1.5MB (75% of 2MB). Thus in special exceptional cases that may be 4096 pages see <a href=\"https://github.com/GitHubRulesOK/MyNotes/raw/master/Hanoi.htm\" rel=\"nofollow noreferrer\">https://github.com/GitHubRulesOK/MyNotes/raw/master/Hanoi.htm</a> however the norm is usually <strong>only a few standard html pages</strong>.</p>\n<p>PDF file handling requires a file system to generate the pages, thus a file centred approach to store the decimal based file index. So the memory work around is to use a RamDrive/Disk or its Bytes IO equivalent as named FileStream object.</p>\n<p>Using PDF data in memory is usually highly disk intensive as the limited resources after contents program processing need to draw on the bus disk cache to augment virtual ram. As a result working in memory can be just as slow if not slower than using cached disk file data.</p>\n<p>%Tmp% / %temp% files can usually respond quicker and be very easily overwritten.</p>\n<p>There are many other working and non-working switches bandied about the web, but the semi-official list is <a href=\"https://peter.sh/experiments/chromium-command-line-switches/\" rel=\"nofollow noreferrer\">https://peter.sh/experiments/chromium-command-line-switches/</a></p>\n"}],"owner":{"account_id":1857245,"reputation":9188,"user_id":1682559,"accept_rate":80,"display_name":"Kevin Cruijssen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":705,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1667917734,"creation_date":1666859003,"question_id":74218933,"body_markdown":"We currently use the PhantomJS executable for two things in our Java project:\r\n\r\n1. Create a PDF file from a given `String html` we get from our database (for which we write the String to a temp file first)\r\n2. Create a screenshot of a given Widget-Object (for which we have an open HTML page on the front-end)\r\n\r\nSince PhantomJS hasn&#39;t been updated for a few years, I&#39;m about to change it to a headless Chromium method instead, which has the options `--print-to-pdf` and `--screenshot` for options 1 and 2.\r\n\r\nOption 2 isn&#39;t really relevant since we have a page, but for option 1 it would be nice if we could directly use the chromium command-line with the given String. Right now with PhantomJS, we convert the String to a temp file, and then use the executable to generate the actual PDF output file. I can of course do the same with the headless Chromium executable, but since I&#39;m changing it right now anyway, it would be nice if the &#39;String to temp HTML file&#39; step wouldn&#39;t be necessary for creating the output PDF file, since we already have the page in memory anyway after retrieving it from the database.\r\n\r\nFrom what I&#39;ve seen, the Chromium executable is usually run for either a HTML file to PDF file:\r\n\r\n    chromium --headless -disable-gpu --print-to-pdf=&quot;C:/path/to/output-file.pdf&quot; C:/path/to/input-file.html\r\n\r\nOr for a HTML page to PDF file:\r\n\r\n    chromium --headless -disable-gpu --print-to-pdf=&quot;C:/path/to/output-file.pdf&quot; https://www.google.com/\r\n\r\nI couldn&#39;t really find the docs for the `chrome`/`chromium` executable (although I have been able to find [the list of command options in the source code](https://source.chromium.org/chromium/chromium/src/+/main:headless/app/headless_shell_switches.cc;bpv=0;bpt=1)), so maybe there are more options besides these two above? (If anyone has a link to the docs, that would be great as well.)  \r\nIf not, I guess I&#39;ll just use a temp file as we did before with PhantomJS.","title":"Chromium headless PDF generation (in Java) using String instead of temp file/page","body":"<p>We currently use the PhantomJS executable for two things in our Java project:</p>\n<ol>\n<li>Create a PDF file from a given <code>String html</code> we get from our database (for which we write the String to a temp file first)</li>\n<li>Create a screenshot of a given Widget-Object (for which we have an open HTML page on the front-end)</li>\n</ol>\n<p>Since PhantomJS hasn't been updated for a few years, I'm about to change it to a headless Chromium method instead, which has the options <code>--print-to-pdf</code> and <code>--screenshot</code> for options 1 and 2.</p>\n<p>Option 2 isn't really relevant since we have a page, but for option 1 it would be nice if we could directly use the chromium command-line with the given String. Right now with PhantomJS, we convert the String to a temp file, and then use the executable to generate the actual PDF output file. I can of course do the same with the headless Chromium executable, but since I'm changing it right now anyway, it would be nice if the 'String to temp HTML file' step wouldn't be necessary for creating the output PDF file, since we already have the page in memory anyway after retrieving it from the database.</p>\n<p>From what I've seen, the Chromium executable is usually run for either a HTML file to PDF file:</p>\n<pre><code>chromium --headless -disable-gpu --print-to-pdf=&quot;C:/path/to/output-file.pdf&quot; C:/path/to/input-file.html\n</code></pre>\n<p>Or for a HTML page to PDF file:</p>\n<pre><code>chromium --headless -disable-gpu --print-to-pdf=&quot;C:/path/to/output-file.pdf&quot; https://www.google.com/\n</code></pre>\n<p>I couldn't really find the docs for the <code>chrome</code>/<code>chromium</code> executable (although I have been able to find <a href=\"https://source.chromium.org/chromium/chromium/src/+/main:headless/app/headless_shell_switches.cc;bpv=0;bpt=1\" rel=\"nofollow noreferrer\">the list of command options in the source code</a>), so maybe there are more options besides these two above? (If anyone has a link to the docs, that would be great as well.)<br />\nIf not, I guess I'll just use a temp file as we did before with PhantomJS.</p>\n"},{"tags":["java","json","objectmapper"],"comments":[{"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"score":0,"creation_date":1667916183,"post_id":74361308,"comment_id":131278210,"body_markdown":"Are you open to use other json libraries?","body":"Are you open to use other json libraries?"}],"answers":[{"tags":[],"owner":{"account_id":15324770,"reputation":66,"user_id":11056221,"display_name":"Munish"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1667917560,"creation_date":1667917560,"answer_id":74362374,"question_id":74361308,"body_markdown":"You may want to check first whether the json is valid using the below code,\r\nThe nextToken verifies if the json is valid, if not you can return the input string as is, it is already a string.\r\n\r\n```\r\npublic void testInvalidJson() {\r\n        String input = &quot;{\\&quot;StrKey1\\&quot;:\\&quot;StrValue1\\&quot;},{\\&quot;StrKey2\\&quot;:\\&quot;StrValue2\\&quot;}&quot;;\r\n\t\tJsonParser jp = mapper.getFactory().createParser(input);\r\n        \r\n        try {\r\n            Object map = mapper.readValue(jp, Map.class);\r\n\t\t\twhile (jp.nextToken() != null) {\r\n\t\t\t//return the source string\r\n\t\t\t//System.out.println(input);\r\n\t\t}\t\r\n            System.out.println(map);\r\n        } catch (JsonMappingException e) {\r\n            // TODO Auto-generated catch block\r\n            e.printStackTrace();\r\n        } catch (JsonProcessingException e) {\r\n            // TODO Auto-generated catch block\r\n            e.printStackTrace();\r\n        }\r\n\r\n    }\r\n```","title":"Convert Invalid JSON to String using com.fasterxml.jackson.databind.ObjectMapper","body":"<p>You may want to check first whether the json is valid using the below code,\nThe nextToken verifies if the json is valid, if not you can return the input string as is, it is already a string.</p>\n<pre><code>public void testInvalidJson() {\n        String input = &quot;{\\&quot;StrKey1\\&quot;:\\&quot;StrValue1\\&quot;},{\\&quot;StrKey2\\&quot;:\\&quot;StrValue2\\&quot;}&quot;;\n        JsonParser jp = mapper.getFactory().createParser(input);\n        \n        try {\n            Object map = mapper.readValue(jp, Map.class);\n            while (jp.nextToken() != null) {\n            //return the source string\n            //System.out.println(input);\n        }   \n            System.out.println(map);\n        } catch (JsonMappingException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        } catch (JsonProcessingException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n\n    }\n</code></pre>\n"}],"owner":{"account_id":7654053,"reputation":21,"user_id":5801655,"display_name":"user5801655"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":367,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":74362374,"answer_count":1,"score":0,"last_activity_date":1667917560,"creation_date":1667913055,"question_id":74361308,"body_markdown":"In below Java TestCase  I have invalid JOSN (&#39;input&#39; variable Value), meaning its not strict JOSN object. I want mapper.readValue to return input String as is.\r\nBelow test case print &quot;{StrKey1=StrValue1}&quot; on console. mapper.readValue does not throw an exception but pick first JOSN item and convert it into Map. I have to keep Map.class as Value Type because following logic is depend on that if converted value is Map.  \r\n\r\n```\r\n@Test\r\n    public void testInvalidJson() {\r\n        String input = &quot;{\\&quot;StrKey1\\&quot;:\\&quot;StrValue1\\&quot;},{\\&quot;StrKey2\\&quot;:\\&quot;StrValue2\\&quot;}&quot;;\r\n        ObjectMapper mapper = new ObjectMapper();\r\n        try {\r\n            Object map = mapper.readValue(input, Map.class);\r\n            System.out.println(map);\r\n        } catch (JsonMappingException e) {\r\n            // TODO Auto-generated catch block\r\n            e.printStackTrace();\r\n        } catch (JsonProcessingException e) {\r\n            // TODO Auto-generated catch block\r\n            e.printStackTrace();\r\n        }\r\n\r\n    }\r\n```\r\n\r\nI dont want to set DeserializationFeature.FAIL_ON_TRAILING_TOKENS on ObjectMapper as my inputs are expected to be invalid JSON as well as non strict JSON and those should be converted to String. \r\nEven org.json.JSONObject(&quot;{\\&quot;StrKey1\\&quot;:\\&quot;StrValue1\\&quot;},{\\&quot;StrKey2\\&quot;:\\&quot;StrValue2\\&quot;}&quot;) does not throw an exception. \r\n\r\nWhat changes I should make in above code so that mapper.readValue will return complete input string as output for given input?","title":"Convert Invalid JSON to String using com.fasterxml.jackson.databind.ObjectMapper","body":"<p>In below Java TestCase  I have invalid JOSN ('input' variable Value), meaning its not strict JOSN object. I want mapper.readValue to return input String as is.\nBelow test case print &quot;{StrKey1=StrValue1}&quot; on console. mapper.readValue does not throw an exception but pick first JOSN item and convert it into Map. I have to keep Map.class as Value Type because following logic is depend on that if converted value is Map.</p>\n<pre><code>@Test\n    public void testInvalidJson() {\n        String input = &quot;{\\&quot;StrKey1\\&quot;:\\&quot;StrValue1\\&quot;},{\\&quot;StrKey2\\&quot;:\\&quot;StrValue2\\&quot;}&quot;;\n        ObjectMapper mapper = new ObjectMapper();\n        try {\n            Object map = mapper.readValue(input, Map.class);\n            System.out.println(map);\n        } catch (JsonMappingException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        } catch (JsonProcessingException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n\n    }\n</code></pre>\n<p>I dont want to set DeserializationFeature.FAIL_ON_TRAILING_TOKENS on ObjectMapper as my inputs are expected to be invalid JSON as well as non strict JSON and those should be converted to String.\nEven org.json.JSONObject(&quot;{&quot;StrKey1&quot;:&quot;StrValue1&quot;},{&quot;StrKey2&quot;:&quot;StrValue2&quot;}&quot;) does not throw an exception.</p>\n<p>What changes I should make in above code so that mapper.readValue will return complete input string as output for given input?</p>\n"},{"tags":["java","android","json"],"comments":[{"owner":{"account_id":1263393,"reputation":4122,"user_id":1221203,"accept_rate":66,"display_name":"Nezam"},"score":0,"creation_date":1365396319,"post_id":15871309,"comment_id":22593318,"body_markdown":"Why do you want to do that and waste resources?","body":"Why do you want to do that and waste resources?"},{"owner":{"account_id":337376,"reputation":1241,"user_id":665611,"accept_rate":85,"display_name":"caknia"},"score":1,"creation_date":1365396640,"post_id":15871309,"comment_id":22593403,"body_markdown":"@Nezam, excuse me, what do you mean..?","body":"@Nezam, excuse me, what do you mean..?"},{"owner":{"account_id":1263393,"reputation":4122,"user_id":1221203,"accept_rate":66,"display_name":"Nezam"},"score":0,"creation_date":1365396705,"post_id":15871309,"comment_id":22593424,"body_markdown":"Why would you want to convert a `JSONArray` which you showed to an `ArrayList` or an `Array`.Any special use?","body":"Why would you want to convert a <code>JSONArray</code> which you showed to an <code>ArrayList</code> or an <code>Array</code>.Any special use?"},{"owner":{"account_id":337376,"reputation":1241,"user_id":665611,"accept_rate":85,"display_name":"caknia"},"score":1,"creation_date":1365397119,"post_id":15871309,"comment_id":22593535,"body_markdown":"yes, in spesification list it had to be stringArray... :(","body":"yes, in spesification list it had to be stringArray... :("},{"owner":{"account_id":215866,"reputation":22282,"user_id":470749,"accept_rate":73,"display_name":"Ryan"},"score":0,"creation_date":1616429767,"post_id":15871309,"comment_id":117993804,"body_markdown":"https://stackoverflow.com/a/55691694/470749 was helpful for me. `list.add(item.getAsString());`","body":"<a href=\"https://stackoverflow.com/a/55691694/470749\">stackoverflow.com/a/55691694/470749</a> was helpful for me. <code>list.add(item.getAsString());</code>"}],"answers":[{"tags":[],"owner":{"account_id":2257919,"reputation":31815,"user_id":1988693,"accept_rate":76,"display_name":"drew moore"},"down_vote_count":16,"up_vote_count":28,"is_accepted":false,"score":12,"last_activity_date":1663201620,"creation_date":1365395785,"answer_id":15871348,"question_id":15871309,"body_markdown":"TERRIBLE TERRIBLE TERRIBLE hack: \r\n\r\n    String[] arr = jsonArray.toString().replace(&quot;},{&quot;, &quot; ,&quot;).split(&quot; &quot;);\r\n    \r\n   ","title":"Convert JSONArray to String Array","body":"<p>TERRIBLE TERRIBLE TERRIBLE hack:</p>\n<pre><code>String[] arr = jsonArray.toString().replace(&quot;},{&quot;, &quot; ,&quot;).split(&quot; &quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2448453,"reputation":2538,"user_id":2135257,"accept_rate":50,"display_name":"Saad Asad"},"down_vote_count":3,"up_vote_count":81,"is_accepted":true,"score":78,"last_activity_date":1553581679,"creation_date":1365395858,"answer_id":15871355,"question_id":15871309,"body_markdown":"Take a look at this [tutorial](http://www.androidhive.info/2012/01/android-json-parsing-tutorial/).\r\nAlso you can parse above json like :\r\n\r\n    JSONArray arr = new JSONArray(yourJSONresponse);\r\n    List&lt;String&gt; list = new ArrayList&lt;String&gt;();\r\n    for(int i = 0; i &lt; arr.length(); i++){\r\n        list.add(arr.getJSONObject(i).getString(&quot;name&quot;));\r\n    }","title":"Convert JSONArray to String Array","body":"<p>Take a look at this <a href=\"http://www.androidhive.info/2012/01/android-json-parsing-tutorial/\" rel=\"noreferrer\">tutorial</a>.\nAlso you can parse above json like :</p>\n\n<pre><code>JSONArray arr = new JSONArray(yourJSONresponse);\nList&lt;String&gt; list = new ArrayList&lt;String&gt;();\nfor(int i = 0; i &lt; arr.length(); i++){\n    list.add(arr.getJSONObject(i).getString(\"name\"));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23031,"reputation":10957,"user_id":57423,"accept_rate":78,"display_name":"Bhushan Bhangale"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1365395961,"creation_date":1365395961,"answer_id":15871373,"question_id":15871309,"body_markdown":"You can loop to create the String \r\n\r\n    List&lt;String&gt; list = new ArrayList&lt;String&gt;();\r\n    for (int i=0; i&lt;jsonArray.length(); i++) {\r\n        list.add( jsonArray.getString(i) );\r\n    }\r\n    String[] stringArray = list.toArray(new String[list.size()]);","title":"Convert JSONArray to String Array","body":"<p>You can loop to create the String </p>\n\n<pre><code>List&lt;String&gt; list = new ArrayList&lt;String&gt;();\nfor (int i=0; i&lt;jsonArray.length(); i++) {\n    list.add( jsonArray.getString(i) );\n}\nString[] stringArray = list.toArray(new String[list.size()]);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1645087,"reputation":3440,"user_id":1516759,"accept_rate":33,"display_name":"Visruth"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1403794634,"creation_date":1365396770,"answer_id":15871528,"question_id":15871309,"body_markdown":"Here is the code : \r\n\r\n    // XXX satisfies only with this particular string format\r\n    \t\tString s = &quot;[{\\&quot;name\\&quot;:\\&quot;IMG_20130403_140457.jpg\\&quot;},{\\&quot;name\\&quot;:\\&quot;IMG_20130403_145006.jpg\\&quot;},{\\&quot;name\\&quot;:\\&quot;IMG_20130403_145112.jpg\\&quot;},{\\&quot;name\\&quot;:\\&quot;IMG_20130404_085559.jpg\\&quot;},{\\&quot;name\\&quot;:\\&quot;IMG_20130404_113700.jpg\\&quot;},{\\&quot;name\\&quot;:\\&quot;IMG_20130404_113713.jpg\\&quot;},{\\&quot;name\\&quot;:\\&quot;IMG_20130404_135706.jpg\\&quot;},{\\&quot;name\\&quot;:\\&quot;IMG_20130404_161501.jpg\\&quot;},{\\&quot;name\\&quot;:\\&quot;IMG_20130405_082413.jpg\\&quot;},{\\&quot;name\\&quot;:\\&quot;IMG_20130405_104212.jpg\\&quot;},{\\&quot;name\\&quot;:\\&quot;IMG_20130405_160524.jpg\\&quot;},{\\&quot;name\\&quot;:\\&quot;IMG_20130408_082456.jpg\\&quot;},{\\&quot;name\\&quot;:\\&quot;test.jpg\\&quot;}]&quot;;\r\n    \t\ts = s.replace(&quot;[&quot;, &quot;&quot;).replace(&quot;]&quot;, &quot;&quot;);\r\n    \t\ts = s.substring(1, s.length() - 1);\r\n    \t\tString[] split = s.split(&quot;[}][,][{]&quot;);\r\n    \t\tfor (String string : split) {\r\n    \t\t\tSystem.out.println(string);\r\n    \t\t}\r\n\r\n","title":"Convert JSONArray to String Array","body":"<p>Here is the code : </p>\n\n<pre><code>// XXX satisfies only with this particular string format\n        String s = \"[{\\\"name\\\":\\\"IMG_20130403_140457.jpg\\\"},{\\\"name\\\":\\\"IMG_20130403_145006.jpg\\\"},{\\\"name\\\":\\\"IMG_20130403_145112.jpg\\\"},{\\\"name\\\":\\\"IMG_20130404_085559.jpg\\\"},{\\\"name\\\":\\\"IMG_20130404_113700.jpg\\\"},{\\\"name\\\":\\\"IMG_20130404_113713.jpg\\\"},{\\\"name\\\":\\\"IMG_20130404_135706.jpg\\\"},{\\\"name\\\":\\\"IMG_20130404_161501.jpg\\\"},{\\\"name\\\":\\\"IMG_20130405_082413.jpg\\\"},{\\\"name\\\":\\\"IMG_20130405_104212.jpg\\\"},{\\\"name\\\":\\\"IMG_20130405_160524.jpg\\\"},{\\\"name\\\":\\\"IMG_20130408_082456.jpg\\\"},{\\\"name\\\":\\\"test.jpg\\\"}]\";\n        s = s.replace(\"[\", \"\").replace(\"]\", \"\");\n        s = s.substring(1, s.length() - 1);\n        String[] split = s.split(\"[}][,][{]\");\n        for (String string : split) {\n            System.out.println(string);\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3055379,"reputation":411,"user_id":2589139,"display_name":"toddsalpen"},"down_vote_count":1,"up_vote_count":14,"is_accepted":false,"score":13,"last_activity_date":1494952047,"creation_date":1401958876,"answer_id":24055890,"question_id":15871309,"body_markdown":"    public static String[] getStringArray(JSONArray jsonArray) {\r\n        String[] stringArray = null;\r\n        if (jsonArray != null) {\r\n            int length = jsonArray.length();\r\n            stringArray = new String[length];\r\n            for (int i = 0; i &lt; length; i++) {\r\n                stringArray[i] = jsonArray.optString(i);\r\n            }\r\n        }\r\n        return stringArray;\r\n    }","title":"Convert JSONArray to String Array","body":"<pre><code>public static String[] getStringArray(JSONArray jsonArray) {\n    String[] stringArray = null;\n    if (jsonArray != null) {\n        int length = jsonArray.length();\n        stringArray = new String[length];\n        for (int i = 0; i &lt; length; i++) {\n            stringArray[i] = jsonArray.optString(i);\n        }\n    }\n    return stringArray;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":989366,"reputation":983,"user_id":1007081,"accept_rate":92,"display_name":"Wops"},"down_vote_count":3,"up_vote_count":4,"is_accepted":false,"score":1,"last_activity_date":1421592101,"creation_date":1421592101,"answer_id":28010925,"question_id":15871309,"body_markdown":"There you go:\r\n\r\n    String tempNames = jsonObj.names().toString();  \r\n    String[] types = tempNames.substring(1, tempNames.length()-1).split(&quot;,&quot;); //remove [ and ] , then split by &#39;,&#39;\r\n","title":"Convert JSONArray to String Array","body":"<p>There you go:</p>\n\n<pre><code>String tempNames = jsonObj.names().toString();  \nString[] types = tempNames.substring(1, tempNames.length()-1).split(\",\"); //remove [ and ] , then split by ','\n</code></pre>\n"},{"tags":[],"owner":{"account_id":265783,"reputation":338,"user_id":552985,"display_name":"begrossi"},"down_vote_count":1,"up_vote_count":34,"is_accepted":false,"score":33,"last_activity_date":1656599110,"creation_date":1446142111,"answer_id":33421601,"question_id":15871309,"body_markdown":"Simplest and correct code is:\r\n\r\n    public static String[] toStringArray(JSONArray array) {\r\n\t\tif(array==null)\r\n\t\t\treturn new String[0];\r\n\t\t\r\n\t\tString[] arr=new String[array.length()];\r\n\t\tfor(int i=0; i&lt;arr.length; i++) {\r\n\t\t\tarr[i]=array.optString(i);\r\n\t\t}\r\n\t\treturn arr;\r\n\t}\r\n\r\nUsing `List&lt;String&gt;` is not a good idea, as you know the length of the array.\r\nObserve that it uses `arr.length` in `for` condition to avoid calling a method, i.e. `array.length()`, on each loop.","title":"Convert JSONArray to String Array","body":"<p>Simplest and correct code is:</p>\n<pre><code>public static String[] toStringArray(JSONArray array) {\n    if(array==null)\n        return new String[0];\n    \n    String[] arr=new String[array.length()];\n    for(int i=0; i&lt;arr.length; i++) {\n        arr[i]=array.optString(i);\n    }\n    return arr;\n}\n</code></pre>\n<p>Using <code>List&lt;String&gt;</code> is not a good idea, as you know the length of the array.\nObserve that it uses <code>arr.length</code> in <code>for</code> condition to avoid calling a method, i.e. <code>array.length()</code>, on each loop.</p>\n"},{"tags":[],"owner":{"account_id":1034505,"reputation":1110,"user_id":1042153,"display_name":"Leo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1484040351,"creation_date":1484040351,"answer_id":41565329,"question_id":15871309,"body_markdown":"Using only the portable JAVA API. http://www.oracle.com/technetwork/articles/java/json-1973242.html\r\n\r\n\r\n----------\r\n\r\n\r\n        try (JsonReader reader = Json.createReader(new StringReader(yourJSONresponse))) {\r\n            JsonArray arr = reader.readArray();\r\n\r\n            List&lt;String&gt; l = arr.getValuesAs(JsonObject.class)\r\n                .stream().map(o -&gt; o.getString(&quot;name&quot;)).collect(Collectors.toList());\r\n        }","title":"Convert JSONArray to String Array","body":"<p>Using only the portable JAVA API. <a href=\"http://www.oracle.com/technetwork/articles/java/json-1973242.html\" rel=\"nofollow noreferrer\">http://www.oracle.com/technetwork/articles/java/json-1973242.html</a></p>\n\n<hr>\n\n<pre><code>    try (JsonReader reader = Json.createReader(new StringReader(yourJSONresponse))) {\n        JsonArray arr = reader.readArray();\n\n        List&lt;String&gt; l = arr.getValuesAs(JsonObject.class)\n            .stream().map(o -&gt; o.getString(\"name\")).collect(Collectors.toList());\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6849407,"reputation":2415,"user_id":5266998,"accept_rate":86,"display_name":"Januka samaranyake"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1485698263,"creation_date":1485674632,"answer_id":41918571,"question_id":15871309,"body_markdown":"  You can input json array to this function get output as string array\r\n\r\n&gt; example Input - {\r\n&gt;                 &quot;gender&quot; : [&quot;male&quot;, &quot;female&quot;]\r\n&gt;                 } \r\n&gt; \r\n&gt; output - {&quot;male&quot;, &quot;female&quot;}\r\n\r\n    private String[] convertToStringArray(Object array) throws Exception {\r\n       return StringUtils.stripAll(array.toString().substring(1, array.toString().length()-1).split(&quot;,&quot;));\r\n    }","title":"Convert JSONArray to String Array","body":"<p>You can input json array to this function get output as string array</p>\n\n<blockquote>\n  <p>example Input - {\n                  \"gender\" : [\"male\", \"female\"]\n                  } </p>\n  \n  <p>output - {\"male\", \"female\"}</p>\n</blockquote>\n\n<pre><code>private String[] convertToStringArray(Object array) throws Exception {\n   return StringUtils.stripAll(array.toString().substring(1, array.toString().length()-1).split(\",\"));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1125613,"reputation":18964,"user_id":1112963,"accept_rate":59,"display_name":"Zon"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1495515454,"creation_date":1495515454,"answer_id":44126095,"question_id":15871309,"body_markdown":"A ready-to-use method:\r\n\r\n    /**\r\n    * Convert JSONArray to ArrayList&lt;String&gt;.\r\n    * \r\n    * @param jsonArray JSON array.\r\n    * @return String array.\r\n    */\r\n    public static ArrayList&lt;String&gt; toStringArrayList(JSONArray jsonArray) {\r\n\r\n      ArrayList&lt;String&gt; stringArray = new ArrayList&lt;String&gt;();\r\n      int arrayIndex;\r\n      JSONObject jsonArrayItem;\r\n      String jsonArrayItemKey;\r\n\r\n      for (\r\n        arrayIndex = 0;\r\n        arrayIndex &lt; jsonArray.length();\r\n        arrayIndex++) {\r\n\r\n        try {\r\n          jsonArrayItem =\r\n            jsonArray.getJSONObject(\r\n              arrayIndex);\r\n\r\n          jsonArrayItemKey =\r\n            jsonArrayItem.getString(\r\n              &quot;name&quot;);\r\n\r\n          stringArray.add(\r\n            jsonArrayItemKey);\r\n        } catch (JSONException e) {\r\n          e.printStackTrace();\r\n        }\r\n      }\r\n\r\n      return stringArray;\r\n    }","title":"Convert JSONArray to String Array","body":"<p>A ready-to-use method:</p>\n\n<pre><code>/**\n* Convert JSONArray to ArrayList&lt;String&gt;.\n* \n* @param jsonArray JSON array.\n* @return String array.\n*/\npublic static ArrayList&lt;String&gt; toStringArrayList(JSONArray jsonArray) {\n\n  ArrayList&lt;String&gt; stringArray = new ArrayList&lt;String&gt;();\n  int arrayIndex;\n  JSONObject jsonArrayItem;\n  String jsonArrayItemKey;\n\n  for (\n    arrayIndex = 0;\n    arrayIndex &lt; jsonArray.length();\n    arrayIndex++) {\n\n    try {\n      jsonArrayItem =\n        jsonArray.getJSONObject(\n          arrayIndex);\n\n      jsonArrayItemKey =\n        jsonArrayItem.getString(\n          \"name\");\n\n      stringArray.add(\n        jsonArrayItemKey);\n    } catch (JSONException e) {\n      e.printStackTrace();\n    }\n  }\n\n  return stringArray;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4090960,"reputation":1295,"user_id":3358937,"accept_rate":100,"display_name":"Cjo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1530859280,"creation_date":1530859280,"answer_id":51204389,"question_id":15871309,"body_markdown":"The below code will convert the JSON array of the format \r\n\r\n&gt; [{&quot;version&quot;:&quot;70.3.0;3&quot;},{&quot;version&quot;:&quot;6R_16B000I_J4;3&quot;},{&quot;version&quot;:&quot;46.3.0;3&quot;},{&quot;version&quot;:&quot;20.3.0;2&quot;},{&quot;version&quot;:&quot;4.1.3;0&quot;},{&quot;version&quot;:&quot;10.3.0;1&quot;}]\r\n\r\nto List of String\r\n\r\n&gt; [70.3.0;3, 6R_16B000I_J4;3, 46.3.0;3, 20.3.0;2, 4.1.3;0, 10.3.0;1]\r\n\r\n**Code** :\r\n\r\n`ObjectMapper mapper = new ObjectMapper();\r\nArrayNode node = (ArrayNode)mapper.readTree(dataFromDb);\r\ndata = node.findValuesAsText(&quot;version&quot;);` // &quot;version&quot; is the node in the JSON\r\n\r\nand use com.fasterxml.jackson.databind.ObjectMapper","title":"Convert JSONArray to String Array","body":"<p>The below code will convert the JSON array of the format </p>\n\n<blockquote>\n  <p>[{\"version\":\"70.3.0;3\"},{\"version\":\"6R_16B000I_J4;3\"},{\"version\":\"46.3.0;3\"},{\"version\":\"20.3.0;2\"},{\"version\":\"4.1.3;0\"},{\"version\":\"10.3.0;1\"}]</p>\n</blockquote>\n\n<p>to List of String</p>\n\n<blockquote>\n  <p>[70.3.0;3, 6R_16B000I_J4;3, 46.3.0;3, 20.3.0;2, 4.1.3;0, 10.3.0;1]</p>\n</blockquote>\n\n<p><strong>Code</strong> :</p>\n\n<p><code>ObjectMapper mapper = new ObjectMapper();\nArrayNode node = (ArrayNode)mapper.readTree(dataFromDb);\ndata = node.findValuesAsText(\"version\");</code> // \"version\" is the node in the JSON</p>\n\n<p>and use com.fasterxml.jackson.databind.ObjectMapper</p>\n"},{"tags":[],"owner":{"account_id":3861036,"reputation":23,"user_id":3198784,"display_name":"Alex Seguin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1547834624,"creation_date":1547834624,"answer_id":54259322,"question_id":15871309,"body_markdown":"Bit late for an answer, but here&#39;s what I came up with using Gson:\r\n\r\nfor a jsonarray foo: [{&quot;test&quot;: &quot;bar&quot;}, {&quot;test&quot;: &quot;bar2&quot;}]\r\n\r\n    JsonArray foo = getJsonFromWherever();\r\n    String[] test = new String[foo.size()]\r\n    foo.forEach(x -&gt; {test = ArrayUtils.add(test, x.get(&quot;test&quot;).getAsString());});","title":"Convert JSONArray to String Array","body":"<p>Bit late for an answer, but here's what I came up with using Gson:</p>\n\n<p>for a jsonarray foo: [{\"test\": \"bar\"}, {\"test\": \"bar2\"}]</p>\n\n<pre><code>JsonArray foo = getJsonFromWherever();\nString[] test = new String[foo.size()]\nfoo.forEach(x -&gt; {test = ArrayUtils.add(test, x.get(\"test\").getAsString());});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13173019,"reputation":2021,"user_id":9514676,"display_name":"YouBee"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1595481608,"creation_date":1563445424,"answer_id":57092365,"question_id":15871309,"body_markdown":"Was trying one of the same scenario but found one different and simple solution to convert JSONArray into List.\r\n\r\n    import java.lang.reflect.Type;\r\n    import com.google.gson.Gson;\r\n    import com.google.gson.reflect.TypeToken;\r\n    \r\n    String jsonStringArray = &quot;[\\&quot;JSON\\&quot;,\\&quot;To\\&quot;,\\&quot;Java\\&quot;]&quot;;                 \r\n        \r\n    //creating Gson instance to convert JSON array to Java array\r\n                       \r\n        Gson converter = new Gson();                  \r\n        Type type = new TypeToken&lt;List&lt;String&gt;&gt;(){}.getType();\r\n        List&lt;String&gt; list =  converter.fromJson(jsonStringArray, type );\r\n\r\n\r\nGive a try","title":"Convert JSONArray to String Array","body":"<p>Was trying one of the same scenario but found one different and simple solution to convert JSONArray into List.</p>\n<pre><code>import java.lang.reflect.Type;\nimport com.google.gson.Gson;\nimport com.google.gson.reflect.TypeToken;\n\nString jsonStringArray = &quot;[\\&quot;JSON\\&quot;,\\&quot;To\\&quot;,\\&quot;Java\\&quot;]&quot;;                 \n    \n//creating Gson instance to convert JSON array to Java array\n                   \n    Gson converter = new Gson();                  \n    Type type = new TypeToken&lt;List&lt;String&gt;&gt;(){}.getType();\n    List&lt;String&gt; list =  converter.fromJson(jsonStringArray, type );\n</code></pre>\n<p>Give a try</p>\n"},{"tags":[],"owner":{"account_id":13389989,"reputation":10689,"user_id":9662601,"display_name":"Samuel Philipp"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1563917770,"creation_date":1563917770,"answer_id":57172529,"question_id":15871309,"body_markdown":"You might want to take a look at `JSONArray.toList()`, which returns a `List` containing Maps and Lists, which represent your JSON structure. So you can use it with Java Streams like this:\r\n\r\n    JSONArray array = new JSONArray(jsonString);\r\n    List&lt;String&gt; result = array.toList().stream()\r\n            .filter(Map.class::isInstance)\r\n            .map(Map.class::cast)\r\n            .map(o -&gt; o.get(&quot;name&quot;))\r\n            .filter(String.class::isInstance)\r\n            .map(String.class::cast)\r\n            .collect(Collectors.toList());\r\n\r\nThis might just be useful even for more complex objects.\r\n\r\nAlternatively you can just use an `IntStream` to iterate over all items in the `JSONArray` and map all names:\r\n\r\n    JSONArray array = new JSONArray(jsonString);\r\n    List&lt;String&gt; result = IntStream.range(0, array.length())\r\n            .mapToObj(array::getJSONObject)\r\n            .map(o -&gt; o.getString(&quot;name&quot;))\r\n            .collect(Collectors.toList());","title":"Convert JSONArray to String Array","body":"<p>You might want to take a look at <code>JSONArray.toList()</code>, which returns a <code>List</code> containing Maps and Lists, which represent your JSON structure. So you can use it with Java Streams like this:</p>\n\n<pre><code>JSONArray array = new JSONArray(jsonString);\nList&lt;String&gt; result = array.toList().stream()\n        .filter(Map.class::isInstance)\n        .map(Map.class::cast)\n        .map(o -&gt; o.get(\"name\"))\n        .filter(String.class::isInstance)\n        .map(String.class::cast)\n        .collect(Collectors.toList());\n</code></pre>\n\n<p>This might just be useful even for more complex objects.</p>\n\n<p>Alternatively you can just use an <code>IntStream</code> to iterate over all items in the <code>JSONArray</code> and map all names:</p>\n\n<pre><code>JSONArray array = new JSONArray(jsonString);\nList&lt;String&gt; result = IntStream.range(0, array.length())\n        .mapToObj(array::getJSONObject)\n        .map(o -&gt; o.getString(\"name\"))\n        .collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8263344,"reputation":2713,"user_id":6213883,"accept_rate":69,"display_name":"It&#233;ration 122442"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1578316314,"creation_date":1578316314,"answer_id":59612759,"question_id":15871309,"body_markdown":"I do post an answer here for the question [here][1] that was closed even though the asnwers here helped, but were not sufficient.\r\n\r\nSo, this is in order to get a json array to a `String[]` using **jsonsimple**.\r\n\r\nAccording to the (marvelous) [decode examples and docs][2], JSONArrays are java List, so we can access List methods.\r\n\r\nFrom there, is it possible to transform it to a `String[]` with the following:\r\n\r\n\t\tJSONObject assemblingTags = (JSONObject) obj.get(&quot;assembling-tags&quot;);\r\n\t\tJSONArray aTagsList = (JSONArray) assemblingTags.get(&quot;list&quot;);\r\n\t\tString[] tagsList = (String[]) aTagsList.stream().toArray(String[]::new);\r\n\r\n  [1]: https://stackoverflow.com/q/59610805/6213883\r\n  [2]: https://code.google.com/archive/p/json-simple/wikis/DecodingExamples.wiki","title":"Convert JSONArray to String Array","body":"<p>I do post an answer here for the question <a href=\"https://stackoverflow.com/q/59610805/6213883\">here</a> that was closed even though the asnwers here helped, but were not sufficient.</p>\n\n<p>So, this is in order to get a json array to a <code>String[]</code> using <strong>jsonsimple</strong>.</p>\n\n<p>According to the (marvelous) <a href=\"https://code.google.com/archive/p/json-simple/wikis/DecodingExamples.wiki\" rel=\"nofollow noreferrer\">decode examples and docs</a>, JSONArrays are java List, so we can access List methods.</p>\n\n<p>From there, is it possible to transform it to a <code>String[]</code> with the following:</p>\n\n<pre><code>    JSONObject assemblingTags = (JSONObject) obj.get(\"assembling-tags\");\n    JSONArray aTagsList = (JSONArray) assemblingTags.get(\"list\");\n    String[] tagsList = (String[]) aTagsList.stream().toArray(String[]::new);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6651349,"reputation":4535,"user_id":7756492,"display_name":"ucMedia"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1630074331,"creation_date":1630074331,"answer_id":68955074,"question_id":15871309,"body_markdown":"And here is my solution, You may want to convert and merge more than a single array :\r\n\r\n    public static String[] multiJsonArrayToSingleStringArray(JSONArray... arrays) {\r\n        ArrayList&lt;String&gt; list=new ArrayList&lt;&gt;();\r\n        for (JSONArray array : arrays)\r\n            for (int i = 0; i &lt; array.length(); i++)\r\n                list.add(array.optString(i));\r\n\r\n        return list.toArray(new String[list.size()]);\r\n    }\r\n","title":"Convert JSONArray to String Array","body":"<p>And here is my solution, You may want to convert and merge more than a single array :</p>\n<pre><code>public static String[] multiJsonArrayToSingleStringArray(JSONArray... arrays) {\n    ArrayList&lt;String&gt; list=new ArrayList&lt;&gt;();\n    for (JSONArray array : arrays)\n        for (int i = 0; i &lt; array.length(); i++)\n            list.add(array.optString(i));\n\n    return list.toArray(new String[list.size()]);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20459968,"reputation":11,"user_id":15012833,"display_name":"Furkan Uyanik"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1632682048,"creation_date":1632612306,"answer_id":69330737,"question_id":15871309,"body_markdown":"The below code will convert JSON array to List&lt;String&gt;\r\n\r\nFor example; \r\n\r\n```\r\nimport org.json.JSONArray\r\n\r\nString data = &quot;YOUR_JSON_ARRAY_DATA&quot;;\r\nJSONArray arr = new JSONArray(data);\r\nList&lt;String&gt; list = arr.toList().stream().map(Object::toString).collect(Collectors.toList());\r\n```","title":"Convert JSONArray to String Array","body":"<p>The below code will convert JSON array to List</p>\n<p>For example;</p>\n<pre><code>import org.json.JSONArray\n\nString data = &quot;YOUR_JSON_ARRAY_DATA&quot;;\nJSONArray arr = new JSONArray(data);\nList&lt;String&gt; list = arr.toList().stream().map(Object::toString).collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16267255,"reputation":771,"user_id":11746909,"display_name":"MUGABA"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667917204,"creation_date":1667917204,"answer_id":74362295,"question_id":15871309,"body_markdown":"I know this is probably late. I hope it will help someone. \r\n\r\nWhen you have a string array that is stringfied. say something like this\r\n\r\n    String chars =  &quot;[&quot;a&quot;,&quot;b&quot;,&quot;c&quot;]&quot;;// Json stringfied string\r\n    List&lt;String&gt;charArray = (List&lt;String&gt;) JSON.parse(chars);\r\n\r\n    String[] stringArray = cars.toArray(new String[char.size()]);\r\n\r\nThere you go the array has something like this\r\n  \r\n\r\n     stringarray = [&quot;a&quot;,&quot;b&quot;,&quot;c&quot;];\r\n\r\n","title":"Convert JSONArray to String Array","body":"<p>I know this is probably late. I hope it will help someone.</p>\n<p>When you have a string array that is stringfied. say something like this</p>\n<pre><code>String chars =  &quot;[&quot;a&quot;,&quot;b&quot;,&quot;c&quot;]&quot;;// Json stringfied string\nList&lt;String&gt;charArray = (List&lt;String&gt;) JSON.parse(chars);\n\nString[] stringArray = cars.toArray(new String[char.size()]);\n</code></pre>\n<p>There you go the array has something like this</p>\n<pre><code> stringarray = [&quot;a&quot;,&quot;b&quot;,&quot;c&quot;];\n</code></pre>\n"}],"owner":{"account_id":337376,"reputation":1241,"user_id":665611,"accept_rate":85,"display_name":"caknia"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":298002,"favorite_count":0,"down_vote_count":1,"up_vote_count":77,"accepted_answer_id":15871355,"answer_count":18,"score":76,"last_activity_date":1667917204,"creation_date":1365395581,"question_id":15871309,"body_markdown":"I want to ask a question about converting a `jsonArray` to a `StringArray` on `Android`. Here is my code to get `jsonArray` from server.\r\n\r\n\ttry {\r\n\t\tDefaultHttpClient defaultClient = new DefaultHttpClient();\r\n\t\tHttpGet httpGetRequest = new HttpGet(&quot;http://server/android/listdir.php&quot;);\r\n\t\tHttpResponse httpResponse = defaultClient.execute(httpGetRequest);\r\n\t\t\r\n\t\tBufferedReader reader = new BufferedReader(new InputStreamReader(httpResponse.getEntity().getContent(),&quot;UTF-8&quot;));\r\n\t\t\r\n\t\tString json = reader.readLine();\r\n\t\t\r\n\t\t//JSONObject jsonObject = new JSONObject(json);\r\n\t\tJSONArray jsonArray = new JSONArray(json);\r\n\t\tLog.d(&quot;&quot;, json);\r\n\t\t\r\n\t\t//Toast.makeText(getApplicationContext(), json, Toast.LENGTH_SHORT).show();\r\n\t\t\r\n\t} catch (Exception e) {\r\n\t\t// TODO Auto-generated catch block\r\n\t\te.printStackTrace();\r\n\t}\r\n\r\nAnd this is the `JSON`.\r\n\r\n    [\r\n        {&quot;name&quot;: &quot;IMG_20130403_140457.jpg&quot;},\r\n        {&quot;name&quot;:&quot;IMG_20130403_145006.jpg&quot;},\r\n        {&quot;name&quot;:&quot;IMG_20130403_145112.jpg&quot;},\r\n        {&quot;name&quot;:&quot;IMG_20130404_085559.jpg&quot;},\r\n        {&quot;name&quot;:&quot;IMG_20130404_113700.jpg&quot;},\r\n        {&quot;name&quot;:&quot;IMG_20130404_113713.jpg&quot;},\r\n        {&quot;name&quot;:&quot;IMG_20130404_135706.jpg&quot;},\r\n        {&quot;name&quot;:&quot;IMG_20130404_161501.jpg&quot;},\r\n        {&quot;name&quot;:&quot;IMG_20130405_082413.jpg&quot;},\r\n        {&quot;name&quot;:&quot;IMG_20130405_104212.jpg&quot;},\r\n        {&quot;name&quot;:&quot;IMG_20130405_160524.jpg&quot;},\r\n        {&quot;name&quot;:&quot;IMG_20130408_082456.jpg&quot;},\r\n        {&quot;name&quot;:&quot;test.jpg&quot;}\r\n    ]\r\n\r\nHow can I convert jsonArray that I&#39;ve got to StringArray so I can get StringArray like this:\r\n\r\n    array = {&quot;IMG_20130403_140457.jpg&quot;,&quot;IMG_20130403_145006.jpg&quot;,........,&quot;test.jpg&quot;};\r\n\r\nThank you for your help :)","title":"Convert JSONArray to String Array","body":"<p>I want to ask a question about converting a <code>jsonArray</code> to a <code>StringArray</code> on <code>Android</code>. Here is my code to get <code>jsonArray</code> from server.</p>\n\n<pre><code>try {\n    DefaultHttpClient defaultClient = new DefaultHttpClient();\n    HttpGet httpGetRequest = new HttpGet(\"http://server/android/listdir.php\");\n    HttpResponse httpResponse = defaultClient.execute(httpGetRequest);\n\n    BufferedReader reader = new BufferedReader(new InputStreamReader(httpResponse.getEntity().getContent(),\"UTF-8\"));\n\n    String json = reader.readLine();\n\n    //JSONObject jsonObject = new JSONObject(json);\n    JSONArray jsonArray = new JSONArray(json);\n    Log.d(\"\", json);\n\n    //Toast.makeText(getApplicationContext(), json, Toast.LENGTH_SHORT).show();\n\n} catch (Exception e) {\n    // TODO Auto-generated catch block\n    e.printStackTrace();\n}\n</code></pre>\n\n<p>And this is the <code>JSON</code>.</p>\n\n<pre><code>[\n    {\"name\": \"IMG_20130403_140457.jpg\"},\n    {\"name\":\"IMG_20130403_145006.jpg\"},\n    {\"name\":\"IMG_20130403_145112.jpg\"},\n    {\"name\":\"IMG_20130404_085559.jpg\"},\n    {\"name\":\"IMG_20130404_113700.jpg\"},\n    {\"name\":\"IMG_20130404_113713.jpg\"},\n    {\"name\":\"IMG_20130404_135706.jpg\"},\n    {\"name\":\"IMG_20130404_161501.jpg\"},\n    {\"name\":\"IMG_20130405_082413.jpg\"},\n    {\"name\":\"IMG_20130405_104212.jpg\"},\n    {\"name\":\"IMG_20130405_160524.jpg\"},\n    {\"name\":\"IMG_20130408_082456.jpg\"},\n    {\"name\":\"test.jpg\"}\n]\n</code></pre>\n\n<p>How can I convert jsonArray that I've got to StringArray so I can get StringArray like this:</p>\n\n<pre><code>array = {\"IMG_20130403_140457.jpg\",\"IMG_20130403_145006.jpg\",........,\"test.jpg\"};\n</code></pre>\n\n<p>Thank you for your help :)</p>\n"},{"tags":["java","java-module"],"answers":[{"tags":[],"owner":{"account_id":11148187,"reputation":181,"user_id":8182287,"display_name":"Herv&#233; Guillemet"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667917165,"creation_date":1667916824,"answer_id":74362203,"question_id":74326731,"body_markdown":"In each module directory, your package hierarchy should be complete, starting at the root, with the `module-info` at the root.\r\n\r\nSo it should look like:\r\n\r\n```lang-plaintext\r\nmodule_test [FOLDER]:\r\n\r\n  &gt; park [MODULE]\r\n    &gt; module-info [MODULE DESCRIPTOR]\r\n    &gt; park [PACKAGE]\r\n      &gt; props [PACKAGE]\r\n        &gt; park.props.Bench [CLASS]\r\n        &gt; park.props.Bin [CLASS]\r\n      &gt; employees [PACKAGE]\r\n        &gt; park.employees.Cleaner [CLASS]\r\n\r\n  &gt; services [MODULE]\r\n    &gt; module-info [PACKAGE DESCRIPTOR]\r\n    &gt; services [PACKAGE]\r\n      &gt; parkcleaning [PACKAGE]\r\n        &gt; services.parkcleaning.CleaningService [CLASS]\r\n```\r\nThen, in the directory of module `park`:\r\n```shell\r\njavac park/employees/Cleaner.java park/props/Bench.java park/props/Bin.java module-info.java\r\n```\r\nand in the directory of module `services`:\r\n```shell\r\njavac -p .. services/parkcleaning/CleaningService.java module-info.java\r\n```\r\nor:\r\n```shell\r\njavac -p ../park services/parkcleaning/CleaningService.java module-info.java\r\n```","title":"Module not found while trying to test java module dependencies","body":"<p>In each module directory, your package hierarchy should be complete, starting at the root, with the <code>module-info</code> at the root.</p>\n<p>So it should look like:</p>\n<pre class=\"lang-plaintext prettyprint-override\"><code>module_test [FOLDER]:\n\n  &gt; park [MODULE]\n    &gt; module-info [MODULE DESCRIPTOR]\n    &gt; park [PACKAGE]\n      &gt; props [PACKAGE]\n        &gt; park.props.Bench [CLASS]\n        &gt; park.props.Bin [CLASS]\n      &gt; employees [PACKAGE]\n        &gt; park.employees.Cleaner [CLASS]\n\n  &gt; services [MODULE]\n    &gt; module-info [PACKAGE DESCRIPTOR]\n    &gt; services [PACKAGE]\n      &gt; parkcleaning [PACKAGE]\n        &gt; services.parkcleaning.CleaningService [CLASS]\n</code></pre>\n<p>Then, in the directory of module <code>park</code>:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>javac park/employees/Cleaner.java park/props/Bench.java park/props/Bin.java module-info.java\n</code></pre>\n<p>and in the directory of module <code>services</code>:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>javac -p .. services/parkcleaning/CleaningService.java module-info.java\n</code></pre>\n<p>or:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>javac -p ../park services/parkcleaning/CleaningService.java module-info.java\n</code></pre>\n"}],"owner":{"account_id":12363423,"reputation":688,"user_id":14808001,"display_name":"Mario Matea"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":368,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74362203,"answer_count":1,"score":0,"last_activity_date":1667917165,"creation_date":1667642068,"question_id":74326731,"body_markdown":"I&#39;m currently reading [Boyarksy &amp; Selikoff&#39;s OCP Study Guide for Java SE 17][1] and have finally reached the **Modules** chapter. I&#39;ve been trying, based on their written examples, to create two &quot;test&quot; modules, in order to see how this actually works. Of course, I know there are rare cases (if any) where we need to create modules by hand, because build tools already do this for us, but still just wanted to check how it works, to also have some bit of &quot;low-level&quot; knowledge about modularity in Java.\r\n\r\nI plan to create two modules, one called `park` and the other one called `services`. `park` module should contain two packages, `props` and `employees`, while `service` module should only have one package called `parkcleaning`.\r\nBoth modules should have the following structure:\r\n\r\n```\r\nmodule_test [FOLDER]:\r\n\r\n  &gt; park [MODULE]\r\n     &gt; park.props [PACKAGE]\r\n        &gt; park.props.Bench [CLASS]\r\n        &gt; park.props.Bin [CLASS]\r\n     &gt; park.employees [PACKAGE]\r\n        &gt; park.employees.Cleaner [CLASS]\r\n\r\n  &gt; services [MODULE]\r\n     &gt; services.parkcleaning [PACKAGE]\r\n        &gt; services.parkcleaning.CleaningService [CLASS]\r\n```\r\n\r\nI&#39;ve stored both my modules in a folder called `module_test`, which looks like this:\r\n[![enter image description here][2]][2]\r\n\r\n... with the `park` folder looking like this:\r\n[![enter image description here][3]][3]\r\n\r\nand its `module-info.java`:\r\n```\r\nmodule park {\r\n\texports park.employees;\r\n}\r\n```\r\n\r\n... and the `services` folder looking like this:\r\n[![enter image description here][4]][4]\r\n\r\nand its `module-info.java`:\r\n```\r\nmodule services {\r\n\trequires park;\r\n}\r\n```\r\n\r\nNow, each folder contains files with the classes specified in the above hierarchy, so there&#39;s no need to display them. As you can see, `services` module has a dependency on the `park` module because my `CleaningService` class requires a `park.employees.Cleaner` field. Again, I think I don&#39;t need to display the class because that&#39;s all what it does.\r\n\r\nI&#39;ve been trying the following steps:\r\n\r\n1. Compile the `.java` files from the `park` module (classes + the `module-info.java`) with the following command:\r\n\r\n```\r\njavac -p module_test park/employees/Cleaner.java park/props/Bench.java park/props/Bin.java park/module-info.java\r\n```\r\n\r\nwhich makes my `park` folder look like this:\r\n[![enter image description here][5]][5]\r\n\r\n(also, there are `.class` files both inside `employees` and `props` folders now)\r\n\r\n2. Compile the `.java` files from the `services` module using:\r\n```\r\njavac -p module_test services/parkcleaning/CleaningService.java services/module-info.java\r\n```\r\n\r\nwhich gives me the following error:\r\n```\r\nservices\\module-info.java:2: error: module not found: park\r\n        requires park;\r\n                 ^\r\n1 error\r\n```\r\n\r\nI&#39;m pretty sure there&#39;s something wrong with the hierarchy of my folders, although I don&#39;t know what. I&#39;ve also properly defined the package names inside the `.java` class files, but I still don&#39;t know what could be wrong.\r\n\r\n  [1]: https://www.amazon.com/Oracle-Certified-Professional-Developer-Study/dp/1119864585\r\n  [2]: https://i.stack.imgur.com/FttJd.png\r\n  [3]: https://i.stack.imgur.com/HkWeF.png\r\n  [4]: https://i.stack.imgur.com/omRj8.png\r\n  [5]: https://i.stack.imgur.com/VatX8.png","title":"Module not found while trying to test java module dependencies","body":"<p>I'm currently reading <a href=\"https://rads.stackoverflow.com/amzn/click/com/1119864585\" rel=\"nofollow noreferrer\" rel=\"nofollow noreferrer\">Boyarksy &amp; Selikoff's OCP Study Guide for Java SE 17</a> and have finally reached the <strong>Modules</strong> chapter. I've been trying, based on their written examples, to create two &quot;test&quot; modules, in order to see how this actually works. Of course, I know there are rare cases (if any) where we need to create modules by hand, because build tools already do this for us, but still just wanted to check how it works, to also have some bit of &quot;low-level&quot; knowledge about modularity in Java.</p>\n<p>I plan to create two modules, one called <code>park</code> and the other one called <code>services</code>. <code>park</code> module should contain two packages, <code>props</code> and <code>employees</code>, while <code>service</code> module should only have one package called <code>parkcleaning</code>.\nBoth modules should have the following structure:</p>\n<pre><code>module_test [FOLDER]:\n\n  &gt; park [MODULE]\n     &gt; park.props [PACKAGE]\n        &gt; park.props.Bench [CLASS]\n        &gt; park.props.Bin [CLASS]\n     &gt; park.employees [PACKAGE]\n        &gt; park.employees.Cleaner [CLASS]\n\n  &gt; services [MODULE]\n     &gt; services.parkcleaning [PACKAGE]\n        &gt; services.parkcleaning.CleaningService [CLASS]\n</code></pre>\n<p>I've stored both my modules in a folder called <code>module_test</code>, which looks like this:\n<a href=\"https://i.stack.imgur.com/FttJd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FttJd.png\" alt=\"enter image description here\" /></a></p>\n<p>... with the <code>park</code> folder looking like this:\n<a href=\"https://i.stack.imgur.com/HkWeF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HkWeF.png\" alt=\"enter image description here\" /></a></p>\n<p>and its <code>module-info.java</code>:</p>\n<pre><code>module park {\n    exports park.employees;\n}\n</code></pre>\n<p>... and the <code>services</code> folder looking like this:\n<a href=\"https://i.stack.imgur.com/omRj8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/omRj8.png\" alt=\"enter image description here\" /></a></p>\n<p>and its <code>module-info.java</code>:</p>\n<pre><code>module services {\n    requires park;\n}\n</code></pre>\n<p>Now, each folder contains files with the classes specified in the above hierarchy, so there's no need to display them. As you can see, <code>services</code> module has a dependency on the <code>park</code> module because my <code>CleaningService</code> class requires a <code>park.employees.Cleaner</code> field. Again, I think I don't need to display the class because that's all what it does.</p>\n<p>I've been trying the following steps:</p>\n<ol>\n<li>Compile the <code>.java</code> files from the <code>park</code> module (classes + the <code>module-info.java</code>) with the following command:</li>\n</ol>\n<pre><code>javac -p module_test park/employees/Cleaner.java park/props/Bench.java park/props/Bin.java park/module-info.java\n</code></pre>\n<p>which makes my <code>park</code> folder look like this:\n<a href=\"https://i.stack.imgur.com/VatX8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VatX8.png\" alt=\"enter image description here\" /></a></p>\n<p>(also, there are <code>.class</code> files both inside <code>employees</code> and <code>props</code> folders now)</p>\n<ol start=\"2\">\n<li>Compile the <code>.java</code> files from the <code>services</code> module using:</li>\n</ol>\n<pre><code>javac -p module_test services/parkcleaning/CleaningService.java services/module-info.java\n</code></pre>\n<p>which gives me the following error:</p>\n<pre><code>services\\module-info.java:2: error: module not found: park\n        requires park;\n                 ^\n1 error\n</code></pre>\n<p>I'm pretty sure there's something wrong with the hierarchy of my folders, although I don't know what. I've also properly defined the package names inside the <code>.java</code> class files, but I still don't know what could be wrong.</p>\n"},{"tags":["python","java","go"],"comments":[{"owner":{"account_id":230492,"reputation":30459,"user_id":494134,"accept_rate":66,"display_name":"John Gordon"},"score":1,"creation_date":1667433320,"post_id":74296791,"comment_id":131168964,"body_markdown":"Python itself doesn&#39;t care.  Buffering is controlled by the output destination.  Direct terminal output is line-buffered.  Pipes have much larger buffers, a minimum of 8Kb and often more.","body":"Python itself doesn&#39;t care.  Buffering is controlled by the output destination.  Direct terminal output is line-buffered.  Pipes have much larger buffers, a minimum of 8Kb and often more."},{"owner":{"account_id":26617743,"reputation":1081,"user_id":20236884,"display_name":"craigb"},"score":1,"creation_date":1667434079,"post_id":74296791,"comment_id":131169067,"body_markdown":"Adding to @John Gordon&#39;s point, this isn&#39;t related to `asyncio` - you&#39;ll get the same behavior with a regular program that does, eg, `print(&quot;hello&quot;); time.sleep(10)`.","body":"Adding to @John Gordon&#39;s point, this isn&#39;t related to <code>asyncio</code> - you&#39;ll get the same behavior with a regular program that does, eg, <code>print(&quot;hello&quot;); time.sleep(10)</code>."},{"owner":{"account_id":2145106,"reputation":2941,"user_id":1902896,"accept_rate":77,"display_name":"wheeler"},"score":0,"creation_date":1667434147,"post_id":74296791,"comment_id":131169074,"body_markdown":"I just realized that. I guess my question is then: why does **Python** do this? Are other languages flushing the buffer implicitly when I print?","body":"I just realized that. I guess my question is then: why does <b>Python</b> do this? Are other languages flushing the buffer implicitly when I print?"},{"owner":{"account_id":2734060,"reputation":263882,"user_id":2357112,"accept_rate":26,"display_name":"user2357112"},"score":0,"creation_date":1667434565,"post_id":74296791,"comment_id":131169126,"body_markdown":"Did you try any other languages? Most of them should behave the same.","body":"Did you try any other languages? Most of them should behave the same."},{"owner":{"account_id":2145106,"reputation":2941,"user_id":1902896,"accept_rate":77,"display_name":"wheeler"},"score":0,"creation_date":1667434812,"post_id":74296791,"comment_id":131169154,"body_markdown":"I updated the question. Golang, Java, and C all print pretty much immediately, regardless of whether or not `stdout` is attached to a terminal.","body":"I updated the question. Golang, Java, and C all print pretty much immediately, regardless of whether or not <code>stdout</code> is attached to a terminal."},{"owner":{"account_id":3470404,"reputation":17700,"user_id":2904896,"display_name":"metatoaster"},"score":0,"creation_date":1667434823,"post_id":74296791,"comment_id":131169157,"body_markdown":"See [answer](https://stackoverflow.com/a/17615727/) if you simply want to force Python to not buffer.  Also, a trivial C program that has a bunch of `printf` with using strings without `\\n`  with `sleep` in between them will demonstrate the need to call `flush`, so your assertion that C doesn&#39;t print right away is proven false.","body":"See <a href=\"https://stackoverflow.com/a/17615727/\">answer</a> if you simply want to force Python to not buffer.  Also, a trivial C program that has a bunch of <code>printf</code> with using strings without <code>\\n</code>  with <code>sleep</code> in between them will demonstrate the need to call <code>flush</code>, so your assertion that C doesn&#39;t print right away is proven false."},{"owner":{"account_id":2145106,"reputation":2941,"user_id":1902896,"accept_rate":77,"display_name":"wheeler"},"score":0,"creation_date":1667435140,"post_id":74296791,"comment_id":131169203,"body_markdown":"I never said that C doesn&#39;t print right away. I said that C *does* print right away, regardless of whether or not `stdout` is attached to a TTY. All output in all programs are printing newlines, so your point about lack of `\\n` is irrelevant.","body":"I never said that C doesn&#39;t print right away. I said that C <i>does</i> print right away, regardless of whether or not <code>stdout</code> is attached to a TTY. All output in all programs are printing newlines, so your point about lack of <code>\\n</code> is irrelevant."},{"owner":{"account_id":3470404,"reputation":17700,"user_id":2904896,"display_name":"metatoaster"},"score":0,"creation_date":1667435188,"post_id":74296791,"comment_id":131169214,"body_markdown":"So does Python. See [this thread](https://stackoverflow.com/questions/6290117/printf-flush-problem) to clear up your misconceptions.","body":"So does Python. See <a href=\"https://stackoverflow.com/questions/6290117/printf-flush-problem\">this thread</a> to clear up your misconceptions."},{"owner":{"account_id":2145106,"reputation":2941,"user_id":1902896,"accept_rate":77,"display_name":"wheeler"},"score":1,"creation_date":1667435222,"post_id":74296791,"comment_id":131169215,"body_markdown":"As I said, Python does *not* print right away if `stdout` is not attached to a TTY. Please re-read my question to clear up your misconceptions.","body":"As I said, Python does <i>not</i> print right away if <code>stdout</code> is not attached to a TTY. Please re-read my question to clear up your misconceptions."},{"owner":{"account_id":3470404,"reputation":17700,"user_id":2904896,"display_name":"metatoaster"},"score":0,"creation_date":1667435634,"post_id":74296791,"comment_id":131169270,"body_markdown":"The other answer I linked earlier showed that you can change that behavior, Try `python -u sync_test.py | cat`. Also [this trivial C program](https://pastebin.com/raw/vwdaRtuy) will show that there is always buffering going on even for `stdout`, and seeing both dots only showing up after a second demonstrates that there is at least line-buffering going on for C.","body":"The other answer I linked earlier showed that you can change that behavior, Try <code>python -u sync_test.py | cat</code>. Also <a href=\"https://pastebin.com/raw/vwdaRtuy\" rel=\"nofollow noreferrer\">this trivial C program</a> will show that there is always buffering going on even for <code>stdout</code>, and seeing both dots only showing up after a second demonstrates that there is at least line-buffering going on for C."},{"owner":{"account_id":2145106,"reputation":2941,"user_id":1902896,"accept_rate":77,"display_name":"wheeler"},"score":0,"creation_date":1667435811,"post_id":74296791,"comment_id":131169297,"body_markdown":"Please refrain from commenting unless you have read my question and are going to stay on topic. I already understood how to fix it. I am asking why does Python do this?","body":"Please refrain from commenting unless you have read my question and are going to stay on topic. I already understood how to fix it. I am asking why does Python do this?"},{"owner":{"account_id":3470404,"reputation":17700,"user_id":2904896,"display_name":"metatoaster"},"score":0,"creation_date":1667438014,"post_id":74296791,"comment_id":131169564,"body_markdown":"Well, your edits with the new code examples made it more than amply clear that it is now a different question so it&#39;s now reopened.  Though honestly asking &quot;why&quot; a language does this usually gets nowhere unless there are specific design documents that can be referenced (which you might be able to find from their tracker/past discussions, but often times this is buried behind years or decades of archives).  That said, you have not addressed the usage of `-u` flag with Python.","body":"Well, your edits with the new code examples made it more than amply clear that it is now a different question so it&#39;s now reopened.  Though honestly asking &quot;why&quot; a language does this usually gets nowhere unless there are specific design documents that can be referenced (which you might be able to find from their tracker/past discussions, but often times this is buried behind years or decades of archives).  That said, you have not addressed the usage of <code>-u</code> flag with Python."},{"owner":{"account_id":3470404,"reputation":17700,"user_id":2904896,"display_name":"metatoaster"},"score":0,"creation_date":1667438585,"post_id":74296791,"comment_id":131169641,"body_markdown":"That said, for Java, you used [`System.out`](https://docs.oracle.com/javase/7/docs/api/java/lang/System.html#out) which is a [PrintStream](https://docs.oracle.com/javase/7/docs/api/java/io/PrintStream.html), which may have been configured to flush automatically.","body":"That said, for Java, you used <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/System.html#out\" rel=\"nofollow noreferrer\"><code>System.out</code></a> which is a <a href=\"https://docs.oracle.com/javase/7/docs/api/java/io/PrintStream.html\" rel=\"nofollow noreferrer\">PrintStream</a>, which may have been configured to flush automatically."},{"owner":{"account_id":2145106,"reputation":2941,"user_id":1902896,"accept_rate":77,"display_name":"wheeler"},"score":0,"creation_date":1667439380,"post_id":74296791,"comment_id":131169755,"body_markdown":"As expected, using `python -u` causes output to be printed immediately. I already knew this, and it is functionally equivalent to adding `flush=True` to the `print` statements, so I don&#39;t need to address it in the question.","body":"As expected, using <code>python -u</code> causes output to be printed immediately. I already knew this, and it is functionally equivalent to adding <code>flush=True</code> to the <code>print</code> statements, so I don&#39;t need to address it in the question."},{"owner":{"account_id":2145106,"reputation":2941,"user_id":1902896,"accept_rate":77,"display_name":"wheeler"},"score":0,"creation_date":1667439815,"post_id":74296791,"comment_id":131169815,"body_markdown":"And the question was erroneously closed as it was anyway. You have a number of incorrect and off-topic statements, so please stop commenting unless you actually have something that is related to the question.","body":"And the question was erroneously closed as it was anyway. You have a number of incorrect and off-topic statements, so please stop commenting unless you actually have something that is related to the question."},{"owner":{"account_id":3470404,"reputation":17700,"user_id":2904896,"display_name":"metatoaster"},"score":0,"creation_date":1667445820,"post_id":74296791,"comment_id":131170635,"body_markdown":"Apologies, as per the question/edits as worded, I failed to gather that you were asking for the difference between the buffering schemes in streams to TTY vs. something else, which ShadowRanger got and provided the answer for. That being said, the previous threads I&#39;ve linked _do_ demonstrate how outputs may be buffered (even in tty) - if you wanted the output to be dumped to stdout now you _must_ flush the stream, otherwise some form buffering may happen, which I lumped together (incorrectly from your perspective) as the goal, rather than addressing line-buffer vs block-buffer as you wanted.","body":"Apologies, as per the question/edits as worded, I failed to gather that you were asking for the difference between the buffering schemes in streams to TTY vs. something else, which ShadowRanger got and provided the answer for. That being said, the previous threads I&#39;ve linked <i>do</i> demonstrate how outputs may be buffered (even in tty) - if you wanted the output to be dumped to stdout now you <i>must</i> flush the stream, otherwise some form buffering may happen, which I lumped together (incorrectly from your perspective) as the goal, rather than addressing line-buffer vs block-buffer as you wanted."},{"owner":{"account_id":1825560,"reputation":115627,"user_id":5728991,"display_name":"Cerise Lim&#243;n"},"score":0,"creation_date":1667446298,"post_id":74296791,"comment_id":131170711,"body_markdown":"*Are Java and Go flushing the buffers implicitly*?  Go&#39;s os.Stdout is not buffered.","body":"<i>Are Java and Go flushing the buffers implicitly</i>?  Go&#39;s os.Stdout is not buffered."}],"answers":[{"tags":[],"owner":{"account_id":151071,"reputation":146046,"user_id":364696,"display_name":"ShadowRanger"},"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1667917071,"creation_date":1667439884,"answer_id":74297370,"question_id":74296791,"body_markdown":"The answer to &quot;Why does Python do this?&quot; is &quot;To be roughly consistent with the C standard&quot;, where, by default, being connected to a tty makes `stdout` line buffered, and block buffered otherwise. Back in the Python 2 days, `sys.stdout` (and the file objects returned by regular `open`, but not by `io.open`) was actually built on top of C&#39;s `stdio.h` calls, so this behavior was inherited from C directly; in Python 3, `stdio.h` was removed from the picture (Python 3 uses its own buffering wrappers for I/O, which when flushed, call the underlying OS I/O routines directly, with no C-style `FILE*`s involved at all), but they preserved the behavior to minimize compatibility issues for existing code.\r\n\r\nThe reason C (and some other languages) make it line-buffered when connected to a tty is to allow the user to see complete lines immediately. Otherwise it&#39;s block-buffered because it&#39;s assumed no one is reading the lines as they appear anyway, so reducing system calls (by buffering more before each bulk write system call) is beneficial.\r\n\r\nSystem calls aren&#39;t *that* expensive nowadays, so it&#39;s perfectly reasonable for a modern language to default to line buffering even when not connected to a tty; it&#39;ll run slower, but a few thousand cycles here and there isn&#39;t that much in the grand scheme of things. Go and Java aren&#39;t *wrong* to behave the way they do, and Python and C aren&#39;t *wrong* to go the other way. The behavior is consistent, and it works well enough for common cases, and it&#39;s trivial to add flushes (or otherwise mess with the default buffering, e.g. with the `-u` command line switch for Python, or the `setvbuf` function in C), and changing it might change the behavior of existing code, so there&#39;s no strong incentive to go back and alter the default behavior.","title":"Why do I need to use `flush=True` if printing when stdout isn&#39;t a TTY in Python but not in Java or Go?","body":"<p>The answer to &quot;Why does Python do this?&quot; is &quot;To be roughly consistent with the C standard&quot;, where, by default, being connected to a tty makes <code>stdout</code> line buffered, and block buffered otherwise. Back in the Python 2 days, <code>sys.stdout</code> (and the file objects returned by regular <code>open</code>, but not by <code>io.open</code>) was actually built on top of C's <code>stdio.h</code> calls, so this behavior was inherited from C directly; in Python 3, <code>stdio.h</code> was removed from the picture (Python 3 uses its own buffering wrappers for I/O, which when flushed, call the underlying OS I/O routines directly, with no C-style <code>FILE*</code>s involved at all), but they preserved the behavior to minimize compatibility issues for existing code.</p>\n<p>The reason C (and some other languages) make it line-buffered when connected to a tty is to allow the user to see complete lines immediately. Otherwise it's block-buffered because it's assumed no one is reading the lines as they appear anyway, so reducing system calls (by buffering more before each bulk write system call) is beneficial.</p>\n<p>System calls aren't <em>that</em> expensive nowadays, so it's perfectly reasonable for a modern language to default to line buffering even when not connected to a tty; it'll run slower, but a few thousand cycles here and there isn't that much in the grand scheme of things. Go and Java aren't <em>wrong</em> to behave the way they do, and Python and C aren't <em>wrong</em> to go the other way. The behavior is consistent, and it works well enough for common cases, and it's trivial to add flushes (or otherwise mess with the default buffering, e.g. with the <code>-u</code> command line switch for Python, or the <code>setvbuf</code> function in C), and changing it might change the behavior of existing code, so there's no strong incentive to go back and alter the default behavior.</p>\n"}],"owner":{"account_id":2145106,"reputation":2941,"user_id":1902896,"accept_rate":77,"display_name":"wheeler"},"comment_count":17,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":213,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"accepted_answer_id":74297370,"answer_count":1,"score":-2,"last_activity_date":1667917071,"creation_date":1667433040,"question_id":74296791,"body_markdown":"Given the following small program:\r\n\r\n```python\r\n#!/usr/bin/env python3\r\nimport time\r\n\r\nfor i in range(15):\r\n    print(f&#39;{i}: sleeping&#39;)\r\n    time.sleep(1)\r\n```\r\n\r\nWhen I run it with `stdout` attached to the terminal directly, I get the output pretty much immediately:\r\n\r\n```sh\r\n./sync_test.py\r\n```\r\n\r\nHowever, if I run my program with `stdout` attached to a pipe (which on the other end `cat` is listening and printing to the terminal), I don&#39;t get the output until the program ends:\r\n\r\n\r\n```sh\r\n./sync_test.py | cat\r\n```\r\n\r\nThe only way I can get the output to be printed before the program quits is if I add `flush=True` to all of my print statements.\r\n\r\nI tried this out in a few other languages (Go, Java, and C) and got mixed results. In Go and Java, the programs print immediately when `stdout` is not attached to a TTY. But with C, I experience the same behavior as I do with Python.\r\n\r\nThe Go program (test_go.go):\r\n\r\n```go\r\npackage main\r\n\r\nimport (\r\n\t&quot;fmt&quot;\r\n\t&quot;time&quot;\r\n)\r\n\r\nfunc main() {\r\n\tfor i := 0; i &lt; 15; i++ {\r\n\t\tfmt.Printf(&quot;%d: sleeping\\n&quot;, i)\r\n\t\ttime.Sleep(1 * time.Second)\r\n\t}\r\n}\r\n```\r\n\r\nThe Java program (test_java.java):\r\n\r\n```java\r\npublic class test_java {\r\n    public static void main(String[] args) throws Exception{\r\n        for(int i=0; i&lt;15; i++){\r\n            System.out.println(i + &quot;: sleeping&quot;);\r\n            Thread.sleep(1000);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThe C program (test_c.c):\r\n\r\n```c\r\n#include &lt;stdio.h&gt;\r\n#include &lt;unistd.h&gt;\r\nint main() {\r\n    for(int i=0; i &lt; 15; i ++) {\r\n        printf(&quot;Hello, World!\\n&quot;);\r\n        sleep(1);\r\n    }\r\n    return 0;\r\n}\r\n```\r\n\r\n(all programs were run with ` | cat` at the end of the command)\r\n\r\nI understand that `stdout` is buffered. What is the explanation for the differences in behavior across languages? And whether `stdout` is connected to a TTY or not? Are Java and Go flushing the buffers implicitly whereas C and Python are not?\r\n","title":"Why do I need to use `flush=True` if printing when stdout isn&#39;t a TTY in Python but not in Java or Go?","body":"<p>Given the following small program:</p>\n<pre class=\"lang-py prettyprint-override\"><code>#!/usr/bin/env python3\nimport time\n\nfor i in range(15):\n    print(f'{i}: sleeping')\n    time.sleep(1)\n</code></pre>\n<p>When I run it with <code>stdout</code> attached to the terminal directly, I get the output pretty much immediately:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>./sync_test.py\n</code></pre>\n<p>However, if I run my program with <code>stdout</code> attached to a pipe (which on the other end <code>cat</code> is listening and printing to the terminal), I don't get the output until the program ends:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>./sync_test.py | cat\n</code></pre>\n<p>The only way I can get the output to be printed before the program quits is if I add <code>flush=True</code> to all of my print statements.</p>\n<p>I tried this out in a few other languages (Go, Java, and C) and got mixed results. In Go and Java, the programs print immediately when <code>stdout</code> is not attached to a TTY. But with C, I experience the same behavior as I do with Python.</p>\n<p>The Go program (test_go.go):</p>\n<pre class=\"lang-golang prettyprint-override\"><code>package main\n\nimport (\n    &quot;fmt&quot;\n    &quot;time&quot;\n)\n\nfunc main() {\n    for i := 0; i &lt; 15; i++ {\n        fmt.Printf(&quot;%d: sleeping\\n&quot;, i)\n        time.Sleep(1 * time.Second)\n    }\n}\n</code></pre>\n<p>The Java program (test_java.java):</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class test_java {\n    public static void main(String[] args) throws Exception{\n        for(int i=0; i&lt;15; i++){\n            System.out.println(i + &quot;: sleeping&quot;);\n            Thread.sleep(1000);\n        }\n    }\n}\n</code></pre>\n<p>The C program (test_c.c):</p>\n<pre class=\"lang-c prettyprint-override\"><code>#include &lt;stdio.h&gt;\n#include &lt;unistd.h&gt;\nint main() {\n    for(int i=0; i &lt; 15; i ++) {\n        printf(&quot;Hello, World!\\n&quot;);\n        sleep(1);\n    }\n    return 0;\n}\n</code></pre>\n<p>(all programs were run with <code> | cat</code> at the end of the command)</p>\n<p>I understand that <code>stdout</code> is buffered. What is the explanation for the differences in behavior across languages? And whether <code>stdout</code> is connected to a TTY or not? Are Java and Go flushing the buffers implicitly whereas C and Python are not?</p>\n"},{"tags":["java","android","android-studio","kotlin"],"comments":[{"owner":{"account_id":12091526,"reputation":156,"user_id":8837461,"display_name":"ahmed"},"score":0,"creation_date":1668750645,"post_id":74356280,"comment_id":131486887,"body_markdown":"if you got serial can you help me with this code","body":"if you got serial can you help me with this code"}],"answers":[{"tags":[],"owner":{"account_id":18702501,"reputation":23,"user_id":13634409,"display_name":"Hatem Darwish"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667916867,"creation_date":1667916867,"answer_id":74362216,"question_id":74356280,"body_markdown":"You can add more than devices by calling ADB shell getprop and reading any unique value.\r\n\r\nAlso you can find some changes maybe help you to find device serial or unique value.\r\n\r\n           when (serialNumber) {\r\n                &quot;&quot; -&gt; serialNumber = get.invoke(c, &quot;ril.serialnumber&quot;) as String\r\n            }\r\n\r\n            when (serialNumber) {\r\n                &quot;&quot; -&gt; serialNumber = get.invoke(c, &quot;ro.serialno&quot;) as String\r\n            }\r\n\r\n            when (serialNumber) {\r\n                &quot;&quot; -&gt; serialNumber = get.invoke(c, &quot;gsm.sn1&quot;) as String\r\n            }\r\n\r\n            when (serialNumber) {\r\n                &quot;&quot; -&gt; serialNumber = get.invoke(c, &quot;sys.serialnumber&quot;) as String\r\n            }\r\n            when (serialNumber) {\r\n                &quot;&quot; -&gt; serialNumber = get.invoke(c, &quot;ro.boot.serialno&quot;) as String\r\n            }\r\n            when (serialNumber) {\r\n                &quot;&quot; -&gt; serialNumber = get.invoke(c, &quot;ro.ril.oem.sno&quot;) as String\r\n            }\r\n            when (serialNumber) {\r\n                &quot;&quot; -&gt; serialNumber = get.invoke(c, &quot;ril.cdma.esn&quot;) as String\r\n            }\r\n            when (serialNumber) {\r\n                &quot;&quot; -&gt; serialNumber = get.invoke(c, &quot;vendor.gsm.serial&quot;) as String\r\n            }\r\n            when (serialNumber) {\r\n                &quot;&quot; -&gt; serialNumber = get.invoke(c, &quot;ro.boot.un&quot;) as String\r\n            }\r\n            when (serialNumber) {\r\n                &quot;&quot; -&gt; serialNumber = get.invoke(c, &quot;ro.boot.uniqueno&quot;) as String\r\n            }\r\n            when (serialNumber) {\r\n                &quot;&quot; -&gt; serialNumber = get.invoke(c, &quot;ro.ril.oem.wifimac&quot;) as String\r\n            }\r\n            when (serialNumber) {\r\n                &quot;&quot; -&gt; serialNumber = get.invoke(c, &quot;ro.ril.oem.btmac&quot;) as String\r\n            }\r\n","title":"Android Management API - some android device does not provide serialNumber","body":"<p>You can add more than devices by calling ADB shell getprop and reading any unique value.</p>\n<p>Also you can find some changes maybe help you to find device serial or unique value.</p>\n<pre><code>       when (serialNumber) {\n            &quot;&quot; -&gt; serialNumber = get.invoke(c, &quot;ril.serialnumber&quot;) as String\n        }\n\n        when (serialNumber) {\n            &quot;&quot; -&gt; serialNumber = get.invoke(c, &quot;ro.serialno&quot;) as String\n        }\n\n        when (serialNumber) {\n            &quot;&quot; -&gt; serialNumber = get.invoke(c, &quot;gsm.sn1&quot;) as String\n        }\n\n        when (serialNumber) {\n            &quot;&quot; -&gt; serialNumber = get.invoke(c, &quot;sys.serialnumber&quot;) as String\n        }\n        when (serialNumber) {\n            &quot;&quot; -&gt; serialNumber = get.invoke(c, &quot;ro.boot.serialno&quot;) as String\n        }\n        when (serialNumber) {\n            &quot;&quot; -&gt; serialNumber = get.invoke(c, &quot;ro.ril.oem.sno&quot;) as String\n        }\n        when (serialNumber) {\n            &quot;&quot; -&gt; serialNumber = get.invoke(c, &quot;ril.cdma.esn&quot;) as String\n        }\n        when (serialNumber) {\n            &quot;&quot; -&gt; serialNumber = get.invoke(c, &quot;vendor.gsm.serial&quot;) as String\n        }\n        when (serialNumber) {\n            &quot;&quot; -&gt; serialNumber = get.invoke(c, &quot;ro.boot.un&quot;) as String\n        }\n        when (serialNumber) {\n            &quot;&quot; -&gt; serialNumber = get.invoke(c, &quot;ro.boot.uniqueno&quot;) as String\n        }\n        when (serialNumber) {\n            &quot;&quot; -&gt; serialNumber = get.invoke(c, &quot;ro.ril.oem.wifimac&quot;) as String\n        }\n        when (serialNumber) {\n            &quot;&quot; -&gt; serialNumber = get.invoke(c, &quot;ro.ril.oem.btmac&quot;) as String\n        }\n</code></pre>\n"}],"owner":{"account_id":10358251,"reputation":31,"user_id":7639477,"display_name":"Suman Neupane"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":277,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1667916867,"creation_date":1667887254,"question_id":74356280,"body_markdown":"I am working with Android Management API to fetch device serialNumber.\r\n\r\nSome devices like Samsung A30, Samsung Active Tab 3, etc provides device serial number. But some devices like Redmi Pro 10 and SamsungSM-G781B do not provide the device serial number.\r\n\r\nI have provided this to the **management app policy**.\r\n\r\n```\r\n{\r\n    &quot;installType&quot;: &quot;REQUIRED_FOR_SETUP&quot;,\r\n    &quot;permissionGrants&quot;: {\r\n        &quot;policy&quot;: &quot;GRANT&quot;,\r\n        &quot;permission&quot;: &quot;android.permission.PACKAGE_USAGE_STATS&quot;\r\n    },\r\n    &quot;autoUpdateMode&quot;: &quot;AUTO_UPDATE_HIGH_PRIORITY&quot;,\r\n    &quot;defaultPermissionPolicy&quot;: &quot;GRANT&quot;,\r\n    &quot;packageName&quot;: &quot;com.example.management&quot;,\r\n    &quot;delegatedScopes&quot;: [\r\n        &quot;CERT_INSTALL&quot;\r\n    ]\r\n}\r\n```\r\n\r\nI have provided this to **AndroidManifest.xml**\r\n\r\n```\r\n&lt;uses-permission android:name=&quot;android.permission.CALL_PHONE&quot; /&gt;\r\n&lt;uses-permission\r\n    android:name=&quot;android.permission.READ_PRIVILEGED_PHONE_STATE&quot;\r\n    tools:ignore=&quot;ProtectedPermissions&quot; /&gt;\r\n&lt;uses-permission\r\n    android:name=&quot;android.permission.READ_PHONE_STATE&quot;\r\n    tools:remove=&quot;android:maxSdkVersion&quot;/&gt;\r\n```\r\n\r\nHere is the code,\r\n\r\n```\r\n  fun getDeviceSerial(applicationContext: Context): String {\r\n\r\n            var serialNumber: String = &quot;&quot;\r\n\r\n            try {\r\n                val c = Class.forName(&quot;android.os.SystemProperties&quot;)\r\n                val get = c.getMethod(&quot;get&quot;, String::class.java)\r\n\r\n                serialNumber = get.invoke(c, &quot;gsm.sn1&quot;) as String\r\n\r\n                when (serialNumber) {\r\n                    &quot;&quot; -&gt; serialNumber = get.invoke(c, &quot;ril.serialnumber&quot;) as String\r\n                }\r\n\r\n                when (serialNumber) {\r\n                    &quot;&quot; -&gt; serialNumber = get.invoke(c, &quot;ro.serialno&quot;) as String\r\n                }\r\n\r\n                when (serialNumber) {\r\n                    &quot;&quot; -&gt; serialNumber = get.invoke(c, &quot;sys.serialnumber&quot;) as String\r\n                }\r\n\r\n                @Suppress(&quot;DEPRECATION&quot;)\r\n                when (serialNumber) {\r\n                    &quot;&quot; -&gt; serialNumber = Build.SERIAL\r\n                }\r\n\r\n                when (serialNumber) {\r\n                    &quot;&quot; -&gt; serialNumber = &quot;&quot;\r\n                }\r\n\r\n            } catch (e: Exception) {\r\n                e.printStackTrace()\r\n                Toast.makeText(applicationContext, e.message, Toast.LENGTH_LONG).show()\r\n                serialNumber = &quot;&quot;\r\n            }\r\n\r\n            if (serialNumber == &quot;unknown&quot;) {\r\n                try {\r\n                    val c = Class.forName(&quot;android.os.SystemProperties&quot;)\r\n                    val get = c.getMethod(\r\n                        &quot;get&quot;,\r\n                        String::class.java,\r\n                        String::class.java\r\n                    )\r\n                    serialNumber = get.invoke(c, &quot;ril.serialnumber&quot;, &quot;unknown&quot;) as String\r\n                } catch (ignored: Exception) {\r\n                    Toast.makeText(\r\n                        applicationContext,\r\n                        &quot;ignored ${ignored.message}&quot;,\r\n                        Toast.LENGTH_LONG\r\n                    )\r\n                        .show()\r\n                }\r\n            }\r\n            try {\r\n                if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O &amp;&amp; serialNumber == &quot;unknown&quot;) {\r\n                    if (ActivityCompat.checkSelfPermission(\r\n                            applicationContext,\r\n                            Manifest.permission.READ_PHONE_STATE\r\n                        ) == PackageManager.PERMISSION_GRANTED\r\n                    ) {\r\n                        serialNumber = Build.getSerial()\r\n                    } \r\n                \r\n                } \r\n            } catch (e: Exception) {\r\n                 serialNumber = &quot;&quot;\r\n            }\r\n       \r\n\r\n            return serialNumber\r\n        }\r\n\r\n        fun openTelePhony(context: Context?) {\r\n            context?.let {\r\n                var a = &quot;&quot;\r\n                try {\r\n                    //check permission\r\n                    if (ContextCompat.checkSelfPermission(\r\n                            context,\r\n                            Manifest.permission.CALL_PHONE\r\n                        ) == PackageManager.PERMISSION_GRANTED\r\n                    ) {\r\n                        a = getDeviceSerial(context)\r\n                   \r\n                    } else {\r\n                        a = Build.SERIAL\r\n                       \r\n                    }\r\n                    System.out.print(a)\r\n                } catch (e: Exception) {\r\n                    System.out.print()\r\n                }\r\n            }\r\n        }\r\n```\r\n\r\nI tryed above code to get device serial no from android management api.\r\n\r\n","title":"Android Management API - some android device does not provide serialNumber","body":"<p>I am working with Android Management API to fetch device serialNumber.</p>\n<p>Some devices like Samsung A30, Samsung Active Tab 3, etc provides device serial number. But some devices like Redmi Pro 10 and SamsungSM-G781B do not provide the device serial number.</p>\n<p>I have provided this to the <strong>management app policy</strong>.</p>\n<pre><code>{\n    &quot;installType&quot;: &quot;REQUIRED_FOR_SETUP&quot;,\n    &quot;permissionGrants&quot;: {\n        &quot;policy&quot;: &quot;GRANT&quot;,\n        &quot;permission&quot;: &quot;android.permission.PACKAGE_USAGE_STATS&quot;\n    },\n    &quot;autoUpdateMode&quot;: &quot;AUTO_UPDATE_HIGH_PRIORITY&quot;,\n    &quot;defaultPermissionPolicy&quot;: &quot;GRANT&quot;,\n    &quot;packageName&quot;: &quot;com.example.management&quot;,\n    &quot;delegatedScopes&quot;: [\n        &quot;CERT_INSTALL&quot;\n    ]\n}\n</code></pre>\n<p>I have provided this to <strong>AndroidManifest.xml</strong></p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.CALL_PHONE&quot; /&gt;\n&lt;uses-permission\n    android:name=&quot;android.permission.READ_PRIVILEGED_PHONE_STATE&quot;\n    tools:ignore=&quot;ProtectedPermissions&quot; /&gt;\n&lt;uses-permission\n    android:name=&quot;android.permission.READ_PHONE_STATE&quot;\n    tools:remove=&quot;android:maxSdkVersion&quot;/&gt;\n</code></pre>\n<p>Here is the code,</p>\n<pre><code>  fun getDeviceSerial(applicationContext: Context): String {\n\n            var serialNumber: String = &quot;&quot;\n\n            try {\n                val c = Class.forName(&quot;android.os.SystemProperties&quot;)\n                val get = c.getMethod(&quot;get&quot;, String::class.java)\n\n                serialNumber = get.invoke(c, &quot;gsm.sn1&quot;) as String\n\n                when (serialNumber) {\n                    &quot;&quot; -&gt; serialNumber = get.invoke(c, &quot;ril.serialnumber&quot;) as String\n                }\n\n                when (serialNumber) {\n                    &quot;&quot; -&gt; serialNumber = get.invoke(c, &quot;ro.serialno&quot;) as String\n                }\n\n                when (serialNumber) {\n                    &quot;&quot; -&gt; serialNumber = get.invoke(c, &quot;sys.serialnumber&quot;) as String\n                }\n\n                @Suppress(&quot;DEPRECATION&quot;)\n                when (serialNumber) {\n                    &quot;&quot; -&gt; serialNumber = Build.SERIAL\n                }\n\n                when (serialNumber) {\n                    &quot;&quot; -&gt; serialNumber = &quot;&quot;\n                }\n\n            } catch (e: Exception) {\n                e.printStackTrace()\n                Toast.makeText(applicationContext, e.message, Toast.LENGTH_LONG).show()\n                serialNumber = &quot;&quot;\n            }\n\n            if (serialNumber == &quot;unknown&quot;) {\n                try {\n                    val c = Class.forName(&quot;android.os.SystemProperties&quot;)\n                    val get = c.getMethod(\n                        &quot;get&quot;,\n                        String::class.java,\n                        String::class.java\n                    )\n                    serialNumber = get.invoke(c, &quot;ril.serialnumber&quot;, &quot;unknown&quot;) as String\n                } catch (ignored: Exception) {\n                    Toast.makeText(\n                        applicationContext,\n                        &quot;ignored ${ignored.message}&quot;,\n                        Toast.LENGTH_LONG\n                    )\n                        .show()\n                }\n            }\n            try {\n                if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O &amp;&amp; serialNumber == &quot;unknown&quot;) {\n                    if (ActivityCompat.checkSelfPermission(\n                            applicationContext,\n                            Manifest.permission.READ_PHONE_STATE\n                        ) == PackageManager.PERMISSION_GRANTED\n                    ) {\n                        serialNumber = Build.getSerial()\n                    } \n                \n                } \n            } catch (e: Exception) {\n                 serialNumber = &quot;&quot;\n            }\n       \n\n            return serialNumber\n        }\n\n        fun openTelePhony(context: Context?) {\n            context?.let {\n                var a = &quot;&quot;\n                try {\n                    //check permission\n                    if (ContextCompat.checkSelfPermission(\n                            context,\n                            Manifest.permission.CALL_PHONE\n                        ) == PackageManager.PERMISSION_GRANTED\n                    ) {\n                        a = getDeviceSerial(context)\n                   \n                    } else {\n                        a = Build.SERIAL\n                       \n                    }\n                    System.out.print(a)\n                } catch (e: Exception) {\n                    System.out.print()\n                }\n            }\n        }\n</code></pre>\n<p>I tryed above code to get device serial no from android management api.</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1667913572,"post_id":74361360,"comment_id":131277066,"body_markdown":"Try `Image img = new Image(selectedFile.toURL());` It seems to expect a URL","body":"Try <code>Image img = new Image(selectedFile.toURL());</code> It seems to expect a URL"},{"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"score":0,"creation_date":1667913653,"post_id":74361360,"comment_id":131277102,"body_markdown":"`java.net.MalformedURLException: unknown protocol: c` - URLs for (local) file operations start with `file://`","body":"<code>java.net.MalformedURLException: unknown protocol: c</code> - URLs for (local) file operations start with <code>file:&#47;&#47;</code>"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1667916394,"post_id":74361360,"comment_id":131278290,"body_markdown":"@g00se It expects a String representation of a URL (see [docs](https://openjfx.io/javadoc/19/javafx.graphics/javafx/scene/image/Image.html#%3Cinit%3E(java.lang.String))). Also note [`File.toURL()` is deprecated](https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/io/File.html#toURL()). Use `selectedFile.toURI().toURL().toExternalForm()`.","body":"@g00se It expects a String representation of a URL (see <a href=\"https://openjfx.io/javadoc/19/javafx.graphics/javafx/scene/image/Image.html#%3Cinit%3E(java.lang.String)\" rel=\"nofollow noreferrer\">docs</a>). Also note <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/io/File.html#toURL()\" rel=\"nofollow noreferrer\"><code>File.toURL()</code> is deprecated</a>. Use <code>selectedFile.toURI().toURL().toExternalForm()</code>."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1667916923,"post_id":74361360,"comment_id":131278489,"body_markdown":"@James_D  That&#39;s really lame. Thanks","body":"@James_D  That&#39;s really lame. Thanks"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1667917049,"post_id":74361360,"comment_id":131278532,"body_markdown":"@g00se I agree. If it wants a URL, I don&#39;t know why it didn&#39;t make the parameter type `URL`, as in other parts of the API.","body":"@g00se I agree. If it wants a URL, I don&#39;t know why it didn&#39;t make the parameter type <code>URL</code>, as in other parts of the API."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1667935656,"post_id":74361360,"comment_id":131285706,"body_markdown":"Unrelated, but JavaFX has a file chooser, you should use that instead of Swing.","body":"Unrelated, but JavaFX has a file chooser, you should use that instead of Swing."}],"answers":[{"tags":[],"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1667916658,"creation_date":1667916658,"answer_id":74362163,"question_id":74361360,"body_markdown":"The [`Image` constructor](https://openjfx.io/javadoc/19/javafx.graphics/javafx/scene/image/Image.html#%3Cinit%3E(java.lang.String)) expects a string representation of a URL. To get a URL for a `File`, use `selectedFile.toURI().toURL()`. To convert to a string representation in a robust way, call `toExternalForm()` on the `URL`. So you need\r\n\r\n    Image img = new Image(selectedFile.toURI().toURL().toExternalForm());\r\n\r\n(You can almost certainly rely on `selectedFile.toURI().toString()`; the code above just feels marginally more robust.)","title":"Invalid URL: unknown protocol: c when uploading a image to imageview javafx","body":"<p>The <a href=\"https://openjfx.io/javadoc/19/javafx.graphics/javafx/scene/image/Image.html#%3Cinit%3E(java.lang.String)\" rel=\"nofollow noreferrer\"><code>Image</code> constructor</a> expects a string representation of a URL. To get a URL for a <code>File</code>, use <code>selectedFile.toURI().toURL()</code>. To convert to a string representation in a robust way, call <code>toExternalForm()</code> on the <code>URL</code>. So you need</p>\n<pre><code>Image img = new Image(selectedFile.toURI().toURL().toExternalForm());\n</code></pre>\n<p>(You can almost certainly rely on <code>selectedFile.toURI().toString()</code>; the code above just feels marginally more robust.)</p>\n"}],"owner":{"account_id":26251058,"reputation":38,"user_id":19923865,"display_name":"SKS"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":304,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74362163,"answer_count":1,"score":1,"last_activity_date":1667916658,"creation_date":1667913267,"question_id":74361360,"body_markdown":"I am trying to upload an image to an image view on java fx, I am getting the following error(runtime) when I selected an image.\r\n\r\n&gt; Caused by: java.lang.IllegalArgumentException: Invalid URL: unknown\r\n&gt; protocol: c \tat javafx.scene.image.Image.validateUrl(Image.java:1121)\r\n&gt; \tat javafx.scene.image.Image.&lt;init&gt;(Image.java:620) \tat\r\n&gt; me.siyum.schola.controller.AddStudentFromController.uploadStImageOnAction(AddStudentFromController.java:28)\r\n&gt; \t... 41 more Caused by: java.net.MalformedURLException: unknown\r\n&gt; protocol: c\r\n\r\n\r\nCode I am trying :\r\n\r\n\r\n    import javafx.scene.image.Image;\r\n    import javafx.scene.input.MouseEvent;\r\n    import javafx.scene.image.ImageView;\r\n    import javafx.scene.shape.Circle;\r\n    \r\n    import javax.swing.*;\r\n    import javax.swing.filechooser.FileNameExtensionFilter;\r\n    import java.io.File;\r\n    \r\n    public class AddStudentFromController {\r\n        public Circle circleImage;\r\n        public ImageView imgSt;\r\n    \r\n        public void uploadStImageOnAction(MouseEvent mouseEvent) {\r\n            JFileChooser jFileChooser = new JFileChooser();\r\n            jFileChooser.setCurrentDirectory(new File(System.getProperty(&quot;user.home&quot;)));\r\n            FileNameExtensionFilter fileNameExtensionFilter = new FileNameExtensionFilter(\r\n                    &quot;.IMAGE&quot;,&quot;jpg&quot;, &quot;gif&quot;, &quot;png&quot;);\r\n            jFileChooser.addChoosableFileFilter(fileNameExtensionFilter);\r\n            int result = jFileChooser.showSaveDialog(null);\r\n    \r\n            if(result == JFileChooser.APPROVE_OPTION){\r\n                File selectedFile = jFileChooser.getSelectedFile();\r\n                String absolutePath = selectedFile.getAbsolutePath();\r\n                Image img = new Image(absolutePath);\r\n                imgSt.setImage(img);\r\n    \r\n            }\r\n        }\r\n    }\r\n\r\n","title":"Invalid URL: unknown protocol: c when uploading a image to imageview javafx","body":"<p>I am trying to upload an image to an image view on java fx, I am getting the following error(runtime) when I selected an image.</p>\n<blockquote>\n<p>Caused by: java.lang.IllegalArgumentException: Invalid URL: unknown\nprotocol: c   at javafx.scene.image.Image.validateUrl(Image.java:1121)\nat javafx.scene.image.Image.(Image.java:620)  at\nme.siyum.schola.controller.AddStudentFromController.uploadStImageOnAction(AddStudentFromController.java:28)\n... 41 more Caused by: java.net.MalformedURLException: unknown\nprotocol: c</p>\n</blockquote>\n<p>Code I am trying :</p>\n<pre><code>import javafx.scene.image.Image;\nimport javafx.scene.input.MouseEvent;\nimport javafx.scene.image.ImageView;\nimport javafx.scene.shape.Circle;\n\nimport javax.swing.*;\nimport javax.swing.filechooser.FileNameExtensionFilter;\nimport java.io.File;\n\npublic class AddStudentFromController {\n    public Circle circleImage;\n    public ImageView imgSt;\n\n    public void uploadStImageOnAction(MouseEvent mouseEvent) {\n        JFileChooser jFileChooser = new JFileChooser();\n        jFileChooser.setCurrentDirectory(new File(System.getProperty(&quot;user.home&quot;)));\n        FileNameExtensionFilter fileNameExtensionFilter = new FileNameExtensionFilter(\n                &quot;.IMAGE&quot;,&quot;jpg&quot;, &quot;gif&quot;, &quot;png&quot;);\n        jFileChooser.addChoosableFileFilter(fileNameExtensionFilter);\n        int result = jFileChooser.showSaveDialog(null);\n\n        if(result == JFileChooser.APPROVE_OPTION){\n            File selectedFile = jFileChooser.getSelectedFile();\n            String absolutePath = selectedFile.getAbsolutePath();\n            Image img = new Image(absolutePath);\n            imgSt.setImage(img);\n\n        }\n    }\n}\n</code></pre>\n"},{"tags":["javascript","java","html","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":18448391,"reputation":36,"user_id":13439109,"display_name":"Krish"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667916574,"creation_date":1667916574,"answer_id":74362140,"question_id":74341889,"body_markdown":"I think you can use WebSocket to establish connections between the frontend and the backend so that you can push notification to frontend and reflect the changes. This too has its own complexity like managing all the connections. This is only recommended if you really need real time reflections or else what you are doing is fine.","title":"Am I able to trigger an event from Spring Boot that can use JavaScript or something else to update an image in HTML?","body":"<p>I think you can use WebSocket to establish connections between the frontend and the backend so that you can push notification to frontend and reflect the changes. This too has its own complexity like managing all the connections. This is only recommended if you really need real time reflections or else what you are doing is fine.</p>\n"}],"owner":{"account_id":26519130,"reputation":3,"user_id":20153140,"display_name":"Noah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":231,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74362140,"answer_count":1,"score":0,"last_activity_date":1667916574,"creation_date":1667794256,"question_id":74341889,"body_markdown":"I need to be able to update an image on a website thats in HTML while using Spring Boot as a backend. Right now I&#39;m using JavaScript to update the image after a set amount of time but it&#39;s not in time with when the image is updated in my database making it skip some of them. It also uses a lot of requests to the server and I don&#39;t know if that is good or bad. Is there a way to be able to send an event from java to javascript or use a javascript function in java to update the image. I&#39;ve tried looking it up before but I haven&#39;t found anything that has done exactly what I needed it to do. Some of the stuff have found doesn&#39;t work in my project either.\r\n\r\nI&#39;ve tried using eval engine in java to use a javascript function in java but I never got it to work. I made a loop in javascript to request an api url to retrieve the image from the databse but it was off time. That&#39;s all I&#39;ve been able to try and nothing else has been close to what I needed to happen.","title":"Am I able to trigger an event from Spring Boot that can use JavaScript or something else to update an image in HTML?","body":"<p>I need to be able to update an image on a website thats in HTML while using Spring Boot as a backend. Right now I'm using JavaScript to update the image after a set amount of time but it's not in time with when the image is updated in my database making it skip some of them. It also uses a lot of requests to the server and I don't know if that is good or bad. Is there a way to be able to send an event from java to javascript or use a javascript function in java to update the image. I've tried looking it up before but I haven't found anything that has done exactly what I needed it to do. Some of the stuff have found doesn't work in my project either.</p>\n<p>I've tried using eval engine in java to use a javascript function in java but I never got it to work. I made a loop in javascript to request an api url to retrieve the image from the databse but it was off time. That's all I've been able to try and nothing else has been close to what I needed to happen.</p>\n"},{"tags":["java","linux","netty","x86-64","epoll"],"answers":[{"tags":[],"owner":{"account_id":3229192,"reputation":684,"user_id":3931900,"display_name":"Abolfazl Hashemi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667915808,"creation_date":1667915808,"answer_id":74361940,"question_id":33360154,"body_markdown":"You can find it in following link:\r\n\r\n https://repo1.maven.org/maven2/io/netty/netty-transport-native-epoll/4.0.32.Final/","title":"How to build netty-transport-native-epoll-4.0.32.Final-linux-x86_64.jar?","body":"<p>You can find it in following link:</p>\n<p><a href=\"https://repo1.maven.org/maven2/io/netty/netty-transport-native-epoll/4.0.32.Final/\" rel=\"nofollow noreferrer\">https://repo1.maven.org/maven2/io/netty/netty-transport-native-epoll/4.0.32.Final/</a></p>\n"}],"owner":{"account_id":6849433,"reputation":103,"user_id":5267016,"display_name":"Dev G"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2282,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1667915808,"creation_date":1445921333,"question_id":33360154,"body_markdown":"I am using native epoll transport in netty and was able to download netty-transport-native-epoll-4.0.32.jar from the repository.\r\n\r\nHowever I also need netty-transport-native-epoll-4.0.32.Final-linux-x86_64.jar but not unable to find it anywhere. Please let me know where to download this jar, or how to build it.","title":"How to build netty-transport-native-epoll-4.0.32.Final-linux-x86_64.jar?","body":"<p>I am using native epoll transport in netty and was able to download netty-transport-native-epoll-4.0.32.jar from the repository.</p>\n\n<p>However I also need netty-transport-native-epoll-4.0.32.Final-linux-x86_64.jar but not unable to find it anywhere. Please let me know where to download this jar, or how to build it.</p>\n"},{"tags":["java","selenium","selenium-webdriver","appium-android"],"answers":[{"tags":[],"owner":{"account_id":26315879,"reputation":36,"user_id":19978672,"display_name":"GabrielFethi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667915782,"creation_date":1667915782,"answer_id":74361933,"question_id":74360021,"body_markdown":"I&#39;ve ran into a similar issue. The problem is the following - from the testng official website:\r\n&quot;@BeforeClass: The annotated method will be run before the first test method in the current class is invoked.&quot;\r\n\r\nWhich means that basically your class &quot;TC_LoginToYEO&quot; is initialized before the @BeforeClass method is executed; and since the driver has not been created at that moment, and is passed on as null.\r\n\r\nA simple workaround would be to do the following:\r\n\r\n```\r\npublic class TC_LoginToYEO extends Base {   \r\n    LaunchScreen launch;\r\n    YEOLockScreen lock;\r\n    SettingsScreen settings;\r\n    MessagesScreen ms;\r\n\r\n    @BeforeMethod\r\n    public void classLevelBeforeMethod(){\r\n\r\n    launch = new LaunchScreen(getDriver());\r\n    lock = new YEOLockScreen(getDriver());\r\n    settings = new SettingsScreen(getDriver());\r\n    ms = new MessagesScreen(getDriver());\r\n\r\n    }\r\n\r\n\r\n    @Test(priority = 0)\r\n    public void login_To_YEO() {\r\n        launch.select_Country_Code(&quot;India&quot;);\r\n        launch.login(&quot;891&quot;, &quot;3&quot;);\r\n    }\r\n}\r\n```\r\n\r\nHope this helps!!\r\n","title":"NullPointerException is displayed while starting a static driver using@BeforeClass and getting the driver","body":"<p>I've ran into a similar issue. The problem is the following - from the testng official website:\n&quot;@BeforeClass: The annotated method will be run before the first test method in the current class is invoked.&quot;</p>\n<p>Which means that basically your class &quot;TC_LoginToYEO&quot; is initialized before the @BeforeClass method is executed; and since the driver has not been created at that moment, and is passed on as null.</p>\n<p>A simple workaround would be to do the following:</p>\n<pre><code>public class TC_LoginToYEO extends Base {   \n    LaunchScreen launch;\n    YEOLockScreen lock;\n    SettingsScreen settings;\n    MessagesScreen ms;\n\n    @BeforeMethod\n    public void classLevelBeforeMethod(){\n\n    launch = new LaunchScreen(getDriver());\n    lock = new YEOLockScreen(getDriver());\n    settings = new SettingsScreen(getDriver());\n    ms = new MessagesScreen(getDriver());\n\n    }\n\n\n    @Test(priority = 0)\n    public void login_To_YEO() {\n        launch.select_Country_Code(&quot;India&quot;);\n        launch.login(&quot;891&quot;, &quot;3&quot;);\n    }\n}\n</code></pre>\n<p>Hope this helps!!</p>\n"}],"owner":{"account_id":13914298,"reputation":1,"user_id":10046585,"display_name":"shiva durga"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":190,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667915782,"creation_date":1667907086,"question_id":74360021,"body_markdown":"I am starting the appium server and setting the driver by @BeforeClass and handling driver in another method and calling it from the test cases\r\n\r\n```\r\npackage setup;\r\n\r\nimport java.net.URL;\r\nimport java.time.Duration;\r\n\r\nimport org.apache.commons.lang3.RandomStringUtils;\r\nimport org.openqa.selenium.remote.DesiredCapabilities;\r\nimport org.testng.annotations.AfterClass;\r\nimport org.testng.annotations.AfterSuite;\r\nimport org.testng.annotations.BeforeClass;\r\nimport org.testng.annotations.BeforeSuite;\r\nimport org.testng.annotations.Test;\r\n\r\nimport java.io.IOException;\r\nimport java.net.MalformedURLException;\r\nimport io.appium.java_client.android.AndroidDriver;\r\nimport io.github.bonigarcia.wdm.WebDriverManager;\r\nimport net.bytebuddy.utility.RandomString;\r\n\r\npublic class Base {\r\n\tString deviceIp = &quot;192.148.31.156&quot;;\r\n\r\n\tRuntime runtime = Runtime.getRuntime();\r\n\tpublic static AndroidDriver driverA;\r\n\tstatic URL appiumURL;\r\n\tstatic DesiredCapabilities capabilities = new DesiredCapabilities();\r\n\r\n\t@BeforeSuite\r\n\tpublic void startServer() {\r\n\t\ttry {\r\n\t\t\truntime.exec(&quot;cmd.exe /c start cmd.exe /k adb connect &quot; + deviceIp + &quot;&quot;);\r\n\t\t\truntime.exec(&quot;cmd.exe /c start cmd.exe /k appium -a 127.0.0.1 -p 4723&quot;);\r\n\t\t\ttry {\r\n\t\t\t\tThread.sleep(10000);\r\n\t\t\t} catch (InterruptedException e) {\r\n\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t} catch (IOException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n\t\r\n\t@BeforeClass\r\n\tpublic static AndroidDriver setDriver() {\r\n\r\n\t\tcapabilities.setCapability(&quot;automationName&quot;, &quot;Appium&quot;);\r\n\t\tcapabilities.setCapability(&quot;platformName&quot;, &quot;Android&quot;);\r\n\t\tcapabilities.setCapability(&quot;platformVersion&quot;, &quot;12.0&quot;);\r\n\t\tcapabilities.setCapability(&quot;deviceName&quot;, &quot;192&quot;);\r\n\t\tcapabilities.setCapability(&quot;unlockKey&quot;, &quot;934448&quot;);\r\n\t\tcapabilities.setCapability(&quot;app&quot;, &quot;C:\\\\Users\\\\DELL\\\\Desktop\\\\APK files\\\\YEO App Android\\\\app.apk&quot;);\r\n\t\tcapabilities.setCapability(&quot;autoGrantPermissions&quot;, &quot;true&quot;);\r\n\r\n\t\ttry {\r\n\t\t\tappiumURL = new URL(&quot;http://127.0.0.1:4733/wd/hub&quot;);\r\n\t\t\tdriverA = new AndroidDriver(appiumURL, capabilities);\r\n\t\t\t// driverA.manage().timeouts().implicitlyWait(10, nulls);\r\n\t\t\tdriverA.manage().timeouts().implicitlyWait(Duration.ofSeconds(30));\r\n\t\t} catch (MalformedURLException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\r\n\t\treturn driverA;\r\n\t}\r\n\r\n\t@AfterSuite\r\n\tpublic void stopServer() {\r\n\t\ttry {\r\n\t\t\truntime.exec(&quot;taskkill /F /IM node.exe&quot;);\r\n\t\t\truntime.exec(&quot;taskkill /F /IM cmd.exe&quot;);\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic static AndroidDriver getDriver() {\r\n\t\t// this.setDriver();\r\n\t\treturn driverA;\r\n\t}\r\n\r\n}\r\n```\r\n\r\nAnd Calling the driver as below\r\n\r\n```\r\npackage testcases;\r\nimport org.testng.annotations.Test;\r\n\r\nimport Resources.RuntimeHandler;\r\n\r\nimport org.testng.annotations.Test;\r\n\r\nimport io.github.bonigarcia.wdm.WebDriverManager;\r\nimport pageFactories.LaunchScreen;\r\nimport pageFactories.MessagesScreen;\r\nimport pageFactories.SettingsScreen;\r\nimport pageFactories.YEOLockScreen;\r\nimport setup.Base;\r\n\r\nimport org.openqa.selenium.WebDriver;\r\nimport org.testng.annotations.AfterSuite;\r\nimport org.testng.annotations.BeforeClass;\r\nimport org.testng.annotations.BeforeSuite;\r\nimport org.testng.annotations.BeforeTest;\r\nimport io.appium.java_client.android.AndroidDriver;\r\n\r\npublic class TC_LoginToYEO extends Base {\t\r\n\tLaunchScreen launch = new LaunchScreen(getDriver());\r\n\tYEOLockScreen lock = new YEOLockScreen(getDriver());\r\n\tSettingsScreen settings = new SettingsScreen(getDriver());\r\n\tMessagesScreen ms = new MessagesScreen(getDriver());\r\n\r\n\t@Test(priority = 0)\r\n\tpublic void login_To_YEO() {\r\n\t\tlaunch.select_Country_Code(&quot;India&quot;);\r\n\t\tlaunch.login(&quot;891&quot;, &quot;3&quot;);\r\n\t}\r\n}\r\n```\r\n\r\ni&#39;m expecting the driver to continue but its failing, Please refer the errors and trace\r\n\r\n\\`\r\n\r\n```\r\njava.lang.NullPointerException: Cannot invoke &quot;org.openqa.selenium.SearchContext.findElement(org.openqa.selenium.By)&quot; because &quot;this.searchContext&quot; is null\r\n\tat org.openqa.selenium.support.pagefactory.DefaultElementLocator.findElement(DefaultElementLocator.java:70)\r\n\tat org.openqa.selenium.support.pagefactory.internal.LocatingElementHandler.invoke(LocatingElementHandler.java:39)\r\n\tat jdk.proxy2/jdk.proxy2.$Proxy12.click(Unknown Source)\r\n\tat pageFactories.LaunchScreen.nav_To_LoginPage(LaunchScreen.java:62)\r\n\tat pageFactories.LaunchScreen.select_Country_Code(LaunchScreen.java:67)\r\n\tat testcases.TC_LoginToYEO.login_To_YEO(TC_LoginToYEO.java:32)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.testng.internal.invokers.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:139)\r\n\tat org.testng.internal.invokers.TestInvoker.invokeMethod(TestInvoker.java:677)\r\n\tat org.testng.internal.invokers.TestInvoker.invokeTestMethod(TestInvoker.java:221)\r\n\tat org.testng.internal.invokers.MethodRunner.runInSequence(MethodRunner.java:50)\r\n\tat org.testng.internal.invokers.TestInvoker$MethodInvocationAgent.invoke(TestInvoker.java:962)\r\n\tat org.testng.internal.invokers.TestInvoker.invokeTestMethods(TestInvoker.java:194)\r\n\tat org.testng.internal.invokers.TestMethodWorker.invokeTestMethods(TestMethodWorker.java:148)\r\n\tat org.testng.internal.invokers.TestMethodWorker.run(TestMethodWorker.java:128)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat org.testng.TestRunner.privateRun(TestRunner.java:806)\r\n\tat org.testng.TestRunner.run(TestRunner.java:601)\r\n\tat org.testng.SuiteRunner.runTest(SuiteRunner.java:433)\r\n\tat org.testng.SuiteRunner.runSequentially(SuiteRunner.java:427)\r\n\tat org.testng.SuiteRunner.privateRun(SuiteRunner.java:387)\r\n\tat org.testng.SuiteRunner.run(SuiteRunner.java:330)\r\n\tat org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:52)\r\n\tat org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:95)\r\n\tat org.testng.TestNG.runSuitesSequentially(TestNG.java:1256)\r\n\tat org.testng.TestNG.runSuitesLocally(TestNG.java:1176)\r\n\tat org.testng.TestNG.runSuites(TestNG.java:1099)\r\n\tat org.testng.TestNG.run(TestNG.java:1067)\r\n\tat org.testng.remote.AbstractRemoteTestNG.run(AbstractRemoteTestNG.java:115)\r\n\tat org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:251)\r\n\tat org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:77)\r\n```\r\n\r\nAnybody provides a solution to this is really appreciated","title":"NullPointerException is displayed while starting a static driver using@BeforeClass and getting the driver","body":"<p>I am starting the appium server and setting the driver by @BeforeClass and handling driver in another method and calling it from the test cases</p>\n<pre><code>package setup;\n\nimport java.net.URL;\nimport java.time.Duration;\n\nimport org.apache.commons.lang3.RandomStringUtils;\nimport org.openqa.selenium.remote.DesiredCapabilities;\nimport org.testng.annotations.AfterClass;\nimport org.testng.annotations.AfterSuite;\nimport org.testng.annotations.BeforeClass;\nimport org.testng.annotations.BeforeSuite;\nimport org.testng.annotations.Test;\n\nimport java.io.IOException;\nimport java.net.MalformedURLException;\nimport io.appium.java_client.android.AndroidDriver;\nimport io.github.bonigarcia.wdm.WebDriverManager;\nimport net.bytebuddy.utility.RandomString;\n\npublic class Base {\n    String deviceIp = &quot;192.148.31.156&quot;;\n\n    Runtime runtime = Runtime.getRuntime();\n    public static AndroidDriver driverA;\n    static URL appiumURL;\n    static DesiredCapabilities capabilities = new DesiredCapabilities();\n\n    @BeforeSuite\n    public void startServer() {\n        try {\n            runtime.exec(&quot;cmd.exe /c start cmd.exe /k adb connect &quot; + deviceIp + &quot;&quot;);\n            runtime.exec(&quot;cmd.exe /c start cmd.exe /k appium -a 127.0.0.1 -p 4723&quot;);\n            try {\n                Thread.sleep(10000);\n            } catch (InterruptedException e) {\n\n                e.printStackTrace();\n            }\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n    \n    @BeforeClass\n    public static AndroidDriver setDriver() {\n\n        capabilities.setCapability(&quot;automationName&quot;, &quot;Appium&quot;);\n        capabilities.setCapability(&quot;platformName&quot;, &quot;Android&quot;);\n        capabilities.setCapability(&quot;platformVersion&quot;, &quot;12.0&quot;);\n        capabilities.setCapability(&quot;deviceName&quot;, &quot;192&quot;);\n        capabilities.setCapability(&quot;unlockKey&quot;, &quot;934448&quot;);\n        capabilities.setCapability(&quot;app&quot;, &quot;C:\\\\Users\\\\DELL\\\\Desktop\\\\APK files\\\\YEO App Android\\\\app.apk&quot;);\n        capabilities.setCapability(&quot;autoGrantPermissions&quot;, &quot;true&quot;);\n\n        try {\n            appiumURL = new URL(&quot;http://127.0.0.1:4733/wd/hub&quot;);\n            driverA = new AndroidDriver(appiumURL, capabilities);\n            // driverA.manage().timeouts().implicitlyWait(10, nulls);\n            driverA.manage().timeouts().implicitlyWait(Duration.ofSeconds(30));\n        } catch (MalformedURLException e) {\n            e.printStackTrace();\n        }\n\n        return driverA;\n    }\n\n    @AfterSuite\n    public void stopServer() {\n        try {\n            runtime.exec(&quot;taskkill /F /IM node.exe&quot;);\n            runtime.exec(&quot;taskkill /F /IM cmd.exe&quot;);\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n    \n    public static AndroidDriver getDriver() {\n        // this.setDriver();\n        return driverA;\n    }\n\n}\n</code></pre>\n<p>And Calling the driver as below</p>\n<pre><code>package testcases;\nimport org.testng.annotations.Test;\n\nimport Resources.RuntimeHandler;\n\nimport org.testng.annotations.Test;\n\nimport io.github.bonigarcia.wdm.WebDriverManager;\nimport pageFactories.LaunchScreen;\nimport pageFactories.MessagesScreen;\nimport pageFactories.SettingsScreen;\nimport pageFactories.YEOLockScreen;\nimport setup.Base;\n\nimport org.openqa.selenium.WebDriver;\nimport org.testng.annotations.AfterSuite;\nimport org.testng.annotations.BeforeClass;\nimport org.testng.annotations.BeforeSuite;\nimport org.testng.annotations.BeforeTest;\nimport io.appium.java_client.android.AndroidDriver;\n\npublic class TC_LoginToYEO extends Base {   \n    LaunchScreen launch = new LaunchScreen(getDriver());\n    YEOLockScreen lock = new YEOLockScreen(getDriver());\n    SettingsScreen settings = new SettingsScreen(getDriver());\n    MessagesScreen ms = new MessagesScreen(getDriver());\n\n    @Test(priority = 0)\n    public void login_To_YEO() {\n        launch.select_Country_Code(&quot;India&quot;);\n        launch.login(&quot;891&quot;, &quot;3&quot;);\n    }\n}\n</code></pre>\n<p>i'm expecting the driver to continue but its failing, Please refer the errors and trace</p>\n<p>`</p>\n<pre><code>java.lang.NullPointerException: Cannot invoke &quot;org.openqa.selenium.SearchContext.findElement(org.openqa.selenium.By)&quot; because &quot;this.searchContext&quot; is null\n    at org.openqa.selenium.support.pagefactory.DefaultElementLocator.findElement(DefaultElementLocator.java:70)\n    at org.openqa.selenium.support.pagefactory.internal.LocatingElementHandler.invoke(LocatingElementHandler.java:39)\n    at jdk.proxy2/jdk.proxy2.$Proxy12.click(Unknown Source)\n    at pageFactories.LaunchScreen.nav_To_LoginPage(LaunchScreen.java:62)\n    at pageFactories.LaunchScreen.select_Country_Code(LaunchScreen.java:67)\n    at testcases.TC_LoginToYEO.login_To_YEO(TC_LoginToYEO.java:32)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.testng.internal.invokers.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:139)\n    at org.testng.internal.invokers.TestInvoker.invokeMethod(TestInvoker.java:677)\n    at org.testng.internal.invokers.TestInvoker.invokeTestMethod(TestInvoker.java:221)\n    at org.testng.internal.invokers.MethodRunner.runInSequence(MethodRunner.java:50)\n    at org.testng.internal.invokers.TestInvoker$MethodInvocationAgent.invoke(TestInvoker.java:962)\n    at org.testng.internal.invokers.TestInvoker.invokeTestMethods(TestInvoker.java:194)\n    at org.testng.internal.invokers.TestMethodWorker.invokeTestMethods(TestMethodWorker.java:148)\n    at org.testng.internal.invokers.TestMethodWorker.run(TestMethodWorker.java:128)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.testng.TestRunner.privateRun(TestRunner.java:806)\n    at org.testng.TestRunner.run(TestRunner.java:601)\n    at org.testng.SuiteRunner.runTest(SuiteRunner.java:433)\n    at org.testng.SuiteRunner.runSequentially(SuiteRunner.java:427)\n    at org.testng.SuiteRunner.privateRun(SuiteRunner.java:387)\n    at org.testng.SuiteRunner.run(SuiteRunner.java:330)\n    at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:52)\n    at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:95)\n    at org.testng.TestNG.runSuitesSequentially(TestNG.java:1256)\n    at org.testng.TestNG.runSuitesLocally(TestNG.java:1176)\n    at org.testng.TestNG.runSuites(TestNG.java:1099)\n    at org.testng.TestNG.run(TestNG.java:1067)\n    at org.testng.remote.AbstractRemoteTestNG.run(AbstractRemoteTestNG.java:115)\n    at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:251)\n    at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:77)\n</code></pre>\n<p>Anybody provides a solution to this is really appreciated</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1667914678,"post_id":74361612,"comment_id":131277574,"body_markdown":"newStr is a new string each time, so it will only be `test.replace(letters[n], n);` where n = letters.length -1.","body":"newStr is a new string each time, so it will only be <code>test.replace(letters[n], n);</code> where n = letters.length -1."},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1667914786,"post_id":74361612,"comment_id":131277616,"body_markdown":"Also, you probably need to convert `i` to a number? Can you explain *why* your loop doesn&#39;t work? Maybe it is one of the two things I suggested.","body":"Also, you probably need to convert <code>i</code> to a number? Can you explain <i>why</i> your loop doesn&#39;t work? Maybe it is one of the two things I suggested."}],"answers":[{"tags":[],"owner":{"account_id":8985379,"reputation":325,"user_id":6699096,"display_name":""},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667915192,"creation_date":1667915192,"answer_id":74361789,"question_id":74361612,"body_markdown":"That is because you forget to use `newStr.replace`, every time loop will generate the last `test.replace` copy character\r\n\r\n\r\n```java\r\n        String test = &quot;FF432423FA112&quot;;\r\n\t\tString[] letters = {&quot;A&quot;,&quot;B&quot;,&quot;C&quot;,&quot;D&quot;,&quot;E&quot;,&quot;F&quot;,&quot;G&quot;,&quot;H&quot;,&quot;I&quot;,&quot;J&quot;,&quot;K&quot;,&quot;L&quot;,&quot;M&quot;,&quot;N&quot;,&quot;O&quot;,&quot;P&quot;,&quot;Q&quot;,&quot;R&quot;,&quot;S&quot;,&quot;T&quot;,&quot;U&quot;,&quot;V&quot;,&quot;W&quot;,&quot;X&quot;,&quot;Y&quot;,&quot;Z&quot;};\r\n\t\tString newStr = test;\r\n\t\tfor (int i=0; i&lt;letters.length; i++) {\r\n\t\t\tnewStr = newStr.replace(letters[i], i + &quot;&quot;);\r\n\t\t}\r\n\r\n\t\tSystem.out.println(newStr);\r\n\r\n```","title":"Multiple replace of literals by digits","body":"<p>That is because you forget to use <code>newStr.replace</code>, every time loop will generate the last <code>test.replace</code> copy character</p>\n<pre class=\"lang-java prettyprint-override\"><code>        String test = &quot;FF432423FA112&quot;;\n        String[] letters = {&quot;A&quot;,&quot;B&quot;,&quot;C&quot;,&quot;D&quot;,&quot;E&quot;,&quot;F&quot;,&quot;G&quot;,&quot;H&quot;,&quot;I&quot;,&quot;J&quot;,&quot;K&quot;,&quot;L&quot;,&quot;M&quot;,&quot;N&quot;,&quot;O&quot;,&quot;P&quot;,&quot;Q&quot;,&quot;R&quot;,&quot;S&quot;,&quot;T&quot;,&quot;U&quot;,&quot;V&quot;,&quot;W&quot;,&quot;X&quot;,&quot;Y&quot;,&quot;Z&quot;};\n        String newStr = test;\n        for (int i=0; i&lt;letters.length; i++) {\n            newStr = newStr.replace(letters[i], i + &quot;&quot;);\n        }\n\n        System.out.println(newStr);\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9197152,"reputation":1142,"user_id":6835509,"display_name":"Vasanth Subramanian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667915403,"creation_date":1667915403,"answer_id":74361829,"question_id":74361612,"body_markdown":"If given string is &quot;FF432423FA112&quot; and the expected output is &quot;5543242350112&quot; considering to replace only alphabets and retain number as is, below code is an example.\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            String test = &quot;FF432423FA112&quot;;\r\n            String letters = &quot;ABCDEFGHIJKLMNOPQRSTUVWXYZ&quot;;\r\n            StringBuilder output = new StringBuilder();\r\n            int value = 0;\r\n            for (int i=0; i&lt;test.length(); i++) {\r\n                char c = test.charAt(i);\r\n                if(Character.isDigit(c)) {\r\n                    value = Character.getNumericValue(c);\r\n                } else {\r\n                    value = letters.indexOf(c);\r\n                }\r\n                output.append(value);\r\n            }\r\n            System.out.println(output);\r\n        }\r\n    }","title":"Multiple replace of literals by digits","body":"<p>If given string is &quot;FF432423FA112&quot; and the expected output is &quot;5543242350112&quot; considering to replace only alphabets and retain number as is, below code is an example.</p>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        String test = &quot;FF432423FA112&quot;;\n        String letters = &quot;ABCDEFGHIJKLMNOPQRSTUVWXYZ&quot;;\n        StringBuilder output = new StringBuilder();\n        int value = 0;\n        for (int i=0; i&lt;test.length(); i++) {\n            char c = test.charAt(i);\n            if(Character.isDigit(c)) {\n                value = Character.getNumericValue(c);\n            } else {\n                value = letters.indexOf(c);\n            }\n            output.append(value);\n        }\n        System.out.println(output);\n    }\n}\n</code></pre>\n"}],"owner":{"display_name":"user12497632"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74361789,"answer_count":2,"score":0,"last_activity_date":1667915403,"creation_date":1667914408,"question_id":74361612,"body_markdown":"I need to replace multiple literals by digits in a string like &quot;FF432423FA112&quot;. &quot;A&quot;=0, &quot;B&quot;=1 etc. I&#39;ve tried to do it in a loop like but it didn&#39;t work. Tried also with char array\r\n    \r\n    String test = &quot;FF432423FA112&quot;;\r\n    String[] letters = {&quot;A&quot;,&quot;B&quot;,&quot;C&quot;,&quot;D&quot;,&quot;E&quot;,&quot;F&quot;,&quot;G&quot;,&quot;H&quot;,&quot;I&quot;,&quot;J&quot;,&quot;K&quot;,&quot;L&quot;,&quot;M&quot;,&quot;N&quot;,&quot;O&quot;,&quot;P&quot;,&quot;Q&quot;,&quot;R&quot;,&quot;S&quot;,&quot;T&quot;,&quot;U&quot;,&quot;V&quot;,&quot;W&quot;,&quot;X&quot;,&quot;Y&quot;,&quot;Z&quot;};\r\n        for (int i=0; i&lt;letters.length; i++) {\r\n            newStr = test.replace(letters[i],i);\r\n        }","title":"Multiple replace of literals by digits","body":"<p>I need to replace multiple literals by digits in a string like &quot;FF432423FA112&quot;. &quot;A&quot;=0, &quot;B&quot;=1 etc. I've tried to do it in a loop like but it didn't work. Tried also with char array</p>\n<pre><code>String test = &quot;FF432423FA112&quot;;\nString[] letters = {&quot;A&quot;,&quot;B&quot;,&quot;C&quot;,&quot;D&quot;,&quot;E&quot;,&quot;F&quot;,&quot;G&quot;,&quot;H&quot;,&quot;I&quot;,&quot;J&quot;,&quot;K&quot;,&quot;L&quot;,&quot;M&quot;,&quot;N&quot;,&quot;O&quot;,&quot;P&quot;,&quot;Q&quot;,&quot;R&quot;,&quot;S&quot;,&quot;T&quot;,&quot;U&quot;,&quot;V&quot;,&quot;W&quot;,&quot;X&quot;,&quot;Y&quot;,&quot;Z&quot;};\n    for (int i=0; i&lt;letters.length; i++) {\n        newStr = test.replace(letters[i],i);\n    }\n</code></pre>\n"},{"tags":["java","spring","spring-boot","scheduled-tasks","dst"],"owner":{"account_id":12119765,"reputation":111,"user_id":8851815,"display_name":"Dafik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":225,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1667915139,"creation_date":1667915139,"question_id":74361775,"body_markdown":"I have problem with spring boot application at V2.2 with scheduled method.\r\n\r\n```java\r\n@Service\r\npublic class X {\r\n    @Scheduled(cron = &quot;59 59 2 25-31 10 ?&quot;)\r\n    public void changeTimeToStandardTime() {\r\n        System.out.println(LocalDateTime.now()+ &quot; CHANGE TO STANDARD TIME&quot;);\r\n        if (LocalDate.now().getDayOfWeek().equals(DayOfWeek.SUNDAY)) {\r\n            //do sth\r\n        }\r\n    }\r\n\r\n\r\n    @Scheduled(cron = &quot;*/20 * * * * *&quot;)\r\n    public void test() {\r\n        System.out.println(LocalDateTime.now()+&quot; RUN TEST EVERY 20 sec&quot;);\r\n\r\n    }\r\n}\r\n```\r\nWhen I start my application at 2:55 AM on the last Sunday in October, when there is a time change from 3:00AM to 2:00AM, then neither the `changeTimeToStandardTime()` method nor the `test()` method will write me anything in the console, so it won&#39;t get called.\r\nOn the other hand, when I run the application at 1:00AM or 3:00AM (already after the time change), then `test()` prints the text correctly every 20 sec.\r\n\r\nI also tried running the application at 1:00AM and changing the system time later to 2:58AM, but after jumping to 2:58AM, the `test()` method gets called once and stops writing out (hovwever it should every 20 sec)\r\n\r\nWhat could be the problem? \r\n\r\nI have `@Enablescheduling` added to the main application class.\r\n","title":"@Scheduler Spring Boot doesn&#39;t work on the hour of the daylight saving time (DST) change","body":"<p>I have problem with spring boot application at V2.2 with scheduled method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\npublic class X {\n    @Scheduled(cron = &quot;59 59 2 25-31 10 ?&quot;)\n    public void changeTimeToStandardTime() {\n        System.out.println(LocalDateTime.now()+ &quot; CHANGE TO STANDARD TIME&quot;);\n        if (LocalDate.now().getDayOfWeek().equals(DayOfWeek.SUNDAY)) {\n            //do sth\n        }\n    }\n\n\n    @Scheduled(cron = &quot;*/20 * * * * *&quot;)\n    public void test() {\n        System.out.println(LocalDateTime.now()+&quot; RUN TEST EVERY 20 sec&quot;);\n\n    }\n}\n</code></pre>\n<p>When I start my application at 2:55 AM on the last Sunday in October, when there is a time change from 3:00AM to 2:00AM, then neither the <code>changeTimeToStandardTime()</code> method nor the <code>test()</code> method will write me anything in the console, so it won't get called.\nOn the other hand, when I run the application at 1:00AM or 3:00AM (already after the time change), then <code>test()</code> prints the text correctly every 20 sec.</p>\n<p>I also tried running the application at 1:00AM and changing the system time later to 2:58AM, but after jumping to 2:58AM, the <code>test()</code> method gets called once and stops writing out (hovwever it should every 20 sec)</p>\n<p>What could be the problem?</p>\n<p>I have <code>@Enablescheduling</code> added to the main application class.</p>\n"},{"tags":["java","json","jackson","record","java-record"],"comments":[{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":0,"creation_date":1653650586,"post_id":72404561,"comment_id":127907835,"body_markdown":"Java records are fairly new, and as a result, the version of Jackson that you are using matters here. What version of Jackson are you using?","body":"Java records are fairly new, and as a result, the version of Jackson that you are using matters here. What version of Jackson are you using?"},{"owner":{"account_id":6374107,"reputation":534,"user_id":4945656,"accept_rate":50,"display_name":"leyren"},"score":0,"creation_date":1653651058,"post_id":72404561,"comment_id":127908000,"body_markdown":"I am using 2.13.3 @davidalayachew","body":"I am using 2.13.3 @davidalayachew"},{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":0,"creation_date":1653695037,"post_id":72404561,"comment_id":127921233,"body_markdown":"Huh, forgive me, but it appears that I was mistaken. Apparently, that is not a feature currently capable in Jackson. Sorry to have misled you.","body":"Huh, forgive me, but it appears that I was mistaken. Apparently, that is not a feature currently capable in Jackson. Sorry to have misled you."}],"answers":[{"tags":[],"owner":{"account_id":4741976,"reputation":5385,"user_id":3834413,"display_name":"Eugene"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1653902405,"creation_date":1653867917,"answer_id":72428021,"question_id":72404561,"body_markdown":"Jackson does not support defining default values for nulls.\r\n&lt;br&gt;There is no annotation to set default value.\r\n&lt;br&gt;You can set default value only on java class level.\r\n&lt;br&gt;There is open [Jackson issue][1] for that functionality.\r\n\r\n**Solution** is to define only one constructor with properties initialization logic in case nulls. Record is immutable, fields filling performs only via constructor. Only in the constructor, you can define default values for record fields.\r\n```java\r\npublic record Foo(Integer x, Integer y, Integer z) {\r\n    public Foo(Integer x, Integer y, Integer z) {\r\n        this.x = x == null ? 1 : x;\r\n        this.y = y == null ? 2: y;\r\n        this.z = z == null ? 3: z;\r\n    }\r\n}\r\n```\r\nUnit test:\r\n```java\r\n    @Test\r\n    public void test() throws Exception {\r\n        int xDefault = 1;\r\n        int yDefault = 2;\r\n        int zDefault = 3;\r\n\r\n        String json = &quot;{ \\&quot;x\\&quot;: 11, \\&quot;y\\&quot;:22, \\&quot;z\\&quot;:33 }&quot;;\r\n        ObjectMapper objectMapper = new ObjectMapper();\r\n        Foo foo = objectMapper.reader().readValue(json, Foo.class);\r\n\r\n        Assert.assertEquals(11, (int) foo.x());\r\n        Assert.assertEquals(22, (int) foo.y());\r\n        Assert.assertEquals(33, (int) foo.z());\r\n\r\n        String json2 = &quot;{ \\&quot;x\\&quot;: 11, \\&quot;y\\&quot;:22}&quot;;\r\n        Foo foo2 = objectMapper.reader().readValue(json2, Foo.class);\r\n\r\n        Assert.assertEquals(11, (int) foo2.x());\r\n        Assert.assertEquals(22, (int) foo2.y());\r\n        Assert.assertEquals(zDefault, (int) foo2.z());\r\n\r\n        String json3 = &quot;{ }&quot;;\r\n        Foo foo3 = objectMapper.reader().readValue(json3, Foo.class);\r\n\r\n        Assert.assertEquals(xDefault, (int) foo3.x());\r\n        Assert.assertEquals(yDefault, (int) foo3.y());\r\n        Assert.assertEquals(zDefault, (int) foo3.z());\r\n    }\r\n```\r\n\r\n\r\n  [1]: https://github.com/FasterXML/jackson-future-ideas/issues/39","title":"Jackson Deserialize Record with default value for optional fields","body":"<p>Jackson does not support defining default values for nulls.\n<br>There is no annotation to set default value.\n<br>You can set default value only on java class level.\n<br>There is open <a href=\"https://github.com/FasterXML/jackson-future-ideas/issues/39\" rel=\"noreferrer\">Jackson issue</a> for that functionality.</p>\n<p><strong>Solution</strong> is to define only one constructor with properties initialization logic in case nulls. Record is immutable, fields filling performs only via constructor. Only in the constructor, you can define default values for record fields.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public record Foo(Integer x, Integer y, Integer z) {\n    public Foo(Integer x, Integer y, Integer z) {\n        this.x = x == null ? 1 : x;\n        this.y = y == null ? 2: y;\n        this.z = z == null ? 3: z;\n    }\n}\n</code></pre>\n<p>Unit test:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Test\n    public void test() throws Exception {\n        int xDefault = 1;\n        int yDefault = 2;\n        int zDefault = 3;\n\n        String json = &quot;{ \\&quot;x\\&quot;: 11, \\&quot;y\\&quot;:22, \\&quot;z\\&quot;:33 }&quot;;\n        ObjectMapper objectMapper = new ObjectMapper();\n        Foo foo = objectMapper.reader().readValue(json, Foo.class);\n\n        Assert.assertEquals(11, (int) foo.x());\n        Assert.assertEquals(22, (int) foo.y());\n        Assert.assertEquals(33, (int) foo.z());\n\n        String json2 = &quot;{ \\&quot;x\\&quot;: 11, \\&quot;y\\&quot;:22}&quot;;\n        Foo foo2 = objectMapper.reader().readValue(json2, Foo.class);\n\n        Assert.assertEquals(11, (int) foo2.x());\n        Assert.assertEquals(22, (int) foo2.y());\n        Assert.assertEquals(zDefault, (int) foo2.z());\n\n        String json3 = &quot;{ }&quot;;\n        Foo foo3 = objectMapper.reader().readValue(json3, Foo.class);\n\n        Assert.assertEquals(xDefault, (int) foo3.x());\n        Assert.assertEquals(yDefault, (int) foo3.y());\n        Assert.assertEquals(zDefault, (int) foo3.z());\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3713839,"reputation":2046,"user_id":3090506,"display_name":"Moritz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665832380,"creation_date":1665832380,"answer_id":74078911,"question_id":72404561,"body_markdown":"You could override the record&#39;s getters to achieve some kind of default value logic:\r\n\r\n```java\r\npublic record Foo(String requiredValue, Integer optionalValue) {\r\n\r\n    @Override\r\n    public Integer optionalValue() {\r\n        return optionalValue == null ? 42 : optionalValue;\r\n    }\r\n\r\n}\r\n```\r\n\r\nWhen you want to provide default values for only some of the record&#39;s fields, this might be more convenient than overriding the canonical constructor.","title":"Jackson Deserialize Record with default value for optional fields","body":"<p>You could override the record's getters to achieve some kind of default value logic:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public record Foo(String requiredValue, Integer optionalValue) {\n\n    @Override\n    public Integer optionalValue() {\n        return optionalValue == null ? 42 : optionalValue;\n    }\n\n}\n</code></pre>\n<p>When you want to provide default values for only some of the record's fields, this might be more convenient than overriding the canonical constructor.</p>\n"},{"tags":[],"owner":{"account_id":2720893,"reputation":1730,"user_id":2347210,"accept_rate":67,"display_name":"Vladi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667915067,"creation_date":1667915067,"answer_id":74361747,"question_id":72404561,"body_markdown":"have similar problem,of puting default values in record. \r\n\r\nthis how i solve it  \r\n\r\n        public record Foo(Integer x, Integer y, Integer z)\r\n    {\r\n        public Foo(Integer x, Integer y, Integer z)\r\n        {\r\n            this.x=x==null?1:x;\r\n            this.y=y==null?2:y;\r\n            this.z=z==null?3:z;\r\n        }\r\n    }\r\n\r\n   \r\n\r\n","title":"Jackson Deserialize Record with default value for optional fields","body":"<p>have similar problem,of puting default values in record.</p>\n<p>this how i solve it</p>\n<pre><code>    public record Foo(Integer x, Integer y, Integer z)\n{\n    public Foo(Integer x, Integer y, Integer z)\n    {\n        this.x=x==null?1:x;\n        this.y=y==null?2:y;\n        this.z=z==null?3:z;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":6374107,"reputation":534,"user_id":4945656,"accept_rate":50,"display_name":"leyren"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3228,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":3,"score":5,"last_activity_date":1667915067,"creation_date":1653650237,"question_id":72404561,"body_markdown":"Assume a JSON structure with multiple optional fields. With classes, you can do something like\r\n```java\r\n    public static final class Foo {\r\n        @JsonProperty(&quot;x&quot;)\r\n        private int x = 1;\r\n\r\n        @JsonProperty(&quot;y&quot;)\r\n        private int y = 2;\r\n\r\n        @JsonProperty(&quot;z&quot;)\r\n        private int z = 3;\r\n        \r\n    }\r\n```\r\nwhich defines default values for the fields in case it is not present in the provided json. Can this be done with records as well?\r\n```java\r\n    public record Foo(int x, int y, int z) {\r\n\r\n    }\r\n```\r\nConstructor overloading is obviously not an option, and as far as I know you could only have a single `@JsonCreator` annotation anyway.\r\n\r\nA custom deserializer should do the trick, but is there any other way, like an annotation that provides a default value to use in the constructor of the record in case it is not provided in the json?\r\n\r\n","title":"Jackson Deserialize Record with default value for optional fields","body":"<p>Assume a JSON structure with multiple optional fields. With classes, you can do something like</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public static final class Foo {\n        @JsonProperty(&quot;x&quot;)\n        private int x = 1;\n\n        @JsonProperty(&quot;y&quot;)\n        private int y = 2;\n\n        @JsonProperty(&quot;z&quot;)\n        private int z = 3;\n        \n    }\n</code></pre>\n<p>which defines default values for the fields in case it is not present in the provided json. Can this be done with records as well?</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public record Foo(int x, int y, int z) {\n\n    }\n</code></pre>\n<p>Constructor overloading is obviously not an option, and as far as I know you could only have a single <code>@JsonCreator</code> annotation anyway.</p>\n<p>A custom deserializer should do the trick, but is there any other way, like an annotation that provides a default value to use in the constructor of the record in case it is not provided in the json?</p>\n"},{"tags":["java","performance","rust"],"comments":[{"owner":{"account_id":1873428,"reputation":40785,"user_id":1695172,"accept_rate":91,"display_name":"Netwave"},"score":4,"creation_date":1619085809,"post_id":67211077,"comment_id":118800499,"body_markdown":"did you compile rust in production mode or in debug?","body":"did you compile rust in production mode or in debug?"},{"owner":{"account_id":5168089,"reputation":26671,"user_id":4137489,"accept_rate":100,"display_name":"marstran"},"score":0,"creation_date":1619085900,"post_id":67211077,"comment_id":118800535,"body_markdown":"Did you benchmark your code correctly? https://stackoverflow.com/questions/504103/how-do-i-write-a-correct-micro-benchmark-in-java","body":"Did you benchmark your code correctly? <a href=\"https://stackoverflow.com/questions/504103/how-do-i-write-a-correct-micro-benchmark-in-java\" title=\"how do i write a correct micro benchmark in java\">stackoverflow.com/questions/504103/&hellip;</a>"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":4,"creation_date":1619086325,"post_id":67211077,"comment_id":118800706,"body_markdown":"There is no such thing as a benchmark that produces outputper iteration. You are measuring I/O, not CPU time.","body":"There is no such thing as a benchmark that produces outputper iteration. You are measuring I/O, not CPU time."},{"owner":{"account_id":446208,"reputation":8611,"user_id":839128,"accept_rate":75,"display_name":"MikeFHay"},"score":0,"creation_date":1619088297,"post_id":67211077,"comment_id":118801590,"body_markdown":"As noted by the above comment, printing in a loop is not a good way to measure language performance. But specifically for rust, all calls to `println!` acquire a lock. You could optimize this by explicitly acquiring the lock once https://rust-cli.github.io/book/tutorial/output.html#a-note-on-printing-performance . The JVM JIT is smart enough to recognise the inefficient repeated-locking and perform that optimization automatically.","body":"As noted by the above comment, printing in a loop is not a good way to measure language performance. But specifically for rust, all calls to <code>println!</code> acquire a lock. You could optimize this by explicitly acquiring the lock once <a href=\"https://rust-cli.github.io/book/tutorial/output.html#a-note-on-printing-performance\" rel=\"nofollow noreferrer\">rust-cli.github.io/book/tutorial/&hellip;</a> . The JVM JIT is smart enough to recognise the inefficient repeated-locking and perform that optimization automatically."},{"owner":{"account_id":9470476,"reputation":155,"user_id":7041473,"display_name":"Divyanshu Pundir"},"score":0,"creation_date":1619088613,"post_id":67211077,"comment_id":118801729,"body_markdown":"@MikeFHay, I ran the code without the `println!` in the loop too, and I got similar results.","body":"@MikeFHay, I ran the code without the <code>println!</code> in the loop too, and I got similar results."},{"owner":{"account_id":9470476,"reputation":155,"user_id":7041473,"display_name":"Divyanshu Pundir"},"score":0,"creation_date":1619088669,"post_id":67211077,"comment_id":118801748,"body_markdown":"@Netwave, these are just simple programs that I ran on intelliJ.","body":"@Netwave, these are just simple programs that I ran on intelliJ."},{"owner":{"account_id":9470476,"reputation":155,"user_id":7041473,"display_name":"Divyanshu Pundir"},"score":0,"creation_date":1619088898,"post_id":67211077,"comment_id":118801850,"body_markdown":"It&#39;s technically not a benchmark. It&#39;s just a simple raw performance comparison.","body":"It&#39;s technically not a benchmark. It&#39;s just a simple raw performance comparison."},{"owner":{"account_id":1114067,"reputation":196781,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":2,"creation_date":1619091066,"post_id":67211077,"comment_id":118802786,"body_markdown":"I think it wasn&#39;t appropriate to close this question. OP specifically asked if there was a mistake in the benchmark code, they wrote a clear example that could easily be fixed. The question was ready for a specific answer addressing those issues and providing results after fixes.","body":"I think it wasn&#39;t appropriate to close this question. OP specifically asked if there was a mistake in the benchmark code, they wrote a clear example that could easily be fixed. The question was ready for a specific answer addressing those issues and providing results after fixes."},{"owner":{"account_id":1114067,"reputation":196781,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":3,"creation_date":1619091442,"post_id":67211077,"comment_id":118802935,"body_markdown":"Although it&#39;s definitely not good to print anything at all during the measurement, I think the commenters above missed the fact that the condition `a2 + b2 = c2` is satisfied just 299 times out of 1 million tested combinations (with NUM_ITERS = 100).","body":"Although it&#39;s definitely not good to print anything at all during the measurement, I think the commenters above missed the fact that the condition <code>a2 + b2 = c2</code> is satisfied just 299 times out of 1 million tested combinations (with NUM_ITERS = 100)."},{"owner":{"account_id":16056708,"reputation":1539,"user_id":13854774,"display_name":"Deadbeef"},"score":1,"creation_date":1619092710,"post_id":67211077,"comment_id":118803523,"body_markdown":"I agree with @MarkoTopolnik. The question has details or clarity, although a more suitable title might better.","body":"I agree with @MarkoTopolnik. The question has details or clarity, although a more suitable title might better."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1619092735,"post_id":67211077,"comment_id":118803534,"body_markdown":"With the Java example, you are mostly measuring first-time initialization overhead, the start in interpreted execution mode, JIT activity, etc. When you run the method multiple times within the same runtime, the time will drop significantly. Then, the smallest executions times will exhibit the expected 10&#179; scaling factor when changing `NUM_ITERS` by factor ten. Since the Rust execution does already exhibit the 10&#179; scaling factor, it might be the final state without other distorting factors, but that would imply that it is horribly slow.","body":"With the Java example, you are mostly measuring first-time initialization overhead, the start in interpreted execution mode, JIT activity, etc. When you run the method multiple times within the same runtime, the time will drop significantly. Then, the smallest executions times will exhibit the expected 10&#179; scaling factor when changing <code>NUM_ITERS</code> by factor ten. Since the Rust execution does already exhibit the 10&#179; scaling factor, it might be the final state without other distorting factors, but that would imply that it is horribly slow."},{"owner":{"account_id":9470476,"reputation":155,"user_id":7041473,"display_name":"Divyanshu Pundir"},"score":0,"creation_date":1619092830,"post_id":67211077,"comment_id":118803577,"body_markdown":"Yes, @MarkoTopolnik is correct. And for `NUM_ITERS = 1000` it was printing `3755` in 1 billion iterations.","body":"Yes, @MarkoTopolnik is correct. And for <code>NUM_ITERS = 1000</code> it was printing <code>3755</code> in 1 billion iterations."},{"owner":{"account_id":16056708,"reputation":1539,"user_id":13854774,"display_name":"Deadbeef"},"score":3,"creation_date":1619092898,"post_id":67211077,"comment_id":118803617,"body_markdown":"@DivyanshuPundir, in IntelliJ, run with `cargo run --release` to run optimized code.","body":"@DivyanshuPundir, in IntelliJ, run with <code>cargo run --release</code> to run optimized code."},{"owner":{"account_id":9470476,"reputation":155,"user_id":7041473,"display_name":"Divyanshu Pundir"},"score":0,"creation_date":1619093139,"post_id":67211077,"comment_id":118803716,"body_markdown":"@Holger, Rust claims to be a system programming language with performance similar to C/C++. And Java has the Garbage Collector running (which is missing in Rust). Shouldn&#39;t it make sense for Rust to be faster for a simple number-crunching program like this?","body":"@Holger, Rust claims to be a system programming language with performance similar to C/C++. And Java has the Garbage Collector running (which is missing in Rust). Shouldn&#39;t it make sense for Rust to be faster for a simple number-crunching program like this?"},{"owner":{"account_id":9470476,"reputation":155,"user_id":7041473,"display_name":"Divyanshu Pundir"},"score":0,"creation_date":1619093359,"post_id":67211077,"comment_id":118803815,"body_markdown":"As @Deadbeef suggested, I ran the program using `cargo run --release` for `NUM_ITERS = 1000`. Now the results are\n\n`Java: 990470026 ns`\n\n`Rust: 542113378 ns`\n\nLooks like Rust does some serious optimisations in its release mode.","body":"As @Deadbeef suggested, I ran the program using <code>cargo run --release</code> for <code>NUM_ITERS = 1000</code>. Now the results are  <code>Java: 990470026 ns</code>  <code>Rust: 542113378 ns</code>  Looks like Rust does some serious optimisations in its release mode."},{"owner":{"account_id":1114067,"reputation":196781,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":3,"creation_date":1619093393,"post_id":67211077,"comment_id":118803833,"body_markdown":"I just used an improved version (which I&#39;d be more than happy to share in an anwer, if reopened), the result with optimized Rust build is 0.6 ns per iteration and for Java it&#39;s 0.32 ns per iteration. I don&#39;t find this a surprising result, there&#39;s no allocation here so GC doesn&#39;t matter, and Java&#39;s JIT compiler is very good at optimized simple code as this.","body":"I just used an improved version (which I&#39;d be more than happy to share in an anwer, if reopened), the result with optimized Rust build is 0.6 ns per iteration and for Java it&#39;s 0.32 ns per iteration. I don&#39;t find this a surprising result, there&#39;s no allocation here so GC doesn&#39;t matter, and Java&#39;s JIT compiler is very good at optimized simple code as this."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1619094536,"post_id":67211077,"comment_id":118804300,"body_markdown":"@MarkoTopolnik I already vote to reopen. Afaik, theres only one more vote needed","body":"@MarkoTopolnik I already vote to reopen. Afaik, theres only one more vote needed"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1619094654,"post_id":67211077,"comment_id":118804351,"body_markdown":"@DivyanshuPundir 542113378 ns is the order of magnitude I get with Java too, when I run this multiple times within the same JVM. So, the higher numbers are the expected startup issues of an environment with dynamical compilation.","body":"@DivyanshuPundir 542113378 ns is the order of magnitude I get with Java too, when I run this multiple times within the same JVM. So, the higher numbers are the expected startup issues of an environment with dynamical compilation."},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":1,"creation_date":1619097441,"post_id":67211077,"comment_id":118805677,"body_markdown":"You want to read https://stackoverflow.com/questions/504103/how-do-i-write-a-correct-micro-benchmark-in-java for example,","body":"You want to read <a href=\"https://stackoverflow.com/questions/504103/how-do-i-write-a-correct-micro-benchmark-in-java\" title=\"how do i write a correct micro benchmark in java\">stackoverflow.com/questions/504103/&hellip;</a> for example,"}],"answers":[{"tags":[],"owner":{"account_id":1114067,"reputation":196781,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1619165229,"creation_date":1619097256,"answer_id":67214010,"question_id":67211077,"body_markdown":"I adjusted your code to eliminate the points of criticism laid out in the comments. Not compiling Rust for production is the biggest problem, that introduces a 50x overhead. Beyond that, I eliminated printing while measuring, and did proper warming up of the Java code.\r\n\r\nI would say that Java and Rust were on par after these changes, they are within 2x of each other and both have very low cost per iteration (just a fraction of a nanosecond).\r\n\r\nHere is my code:\r\n\r\n\r\n```java\r\npublic class Testing {\r\n    private static final int NUM_ITERS = 1_000;\r\n    private static final int MEASURE_TIMES = 7;\r\n\r\n    public static void main(String[] args) {\r\n        for (int i = 0; i &lt; MEASURE_TIMES; i++) {\r\n            System.out.format(&quot;%.2f ns per iteration%n&quot;, benchmark());\r\n        }\r\n    }\r\n\r\n    private static double benchmark() {\r\n        long tInit = System.nanoTime();\r\n        int c = 0;\r\n        for (int i = 0; i &lt; NUM_ITERS; ++i) {\r\n            for (int j = 0; j &lt; NUM_ITERS; ++j) {\r\n                for (int k = 0; k &lt; NUM_ITERS; ++k) {\r\n                    if (i*i + j*j == k*k) {\r\n                        ++c;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        if (c % 137 == 0) {\r\n            // Use c so its computation can&#39;t be elided\r\n            System.out.println(&quot;Count is divisible by 13: &quot; + c);\r\n        }\r\n        long tookNanos = System.nanoTime() - tInit;\r\n        return tookNanos / ((double) NUM_ITERS * NUM_ITERS * NUM_ITERS);\r\n    }\r\n}\r\n```\r\n\r\n```rust\r\nuse std::time::SystemTime;\r\n\r\nconst NUM_ITERS: i32 = 1000;\r\n\r\nfn main() {\r\n    let mut c = 0;\r\n\r\n    let t_init = SystemTime::now();\r\n    for i in 0..NUM_ITERS {\r\n        for j in 0..NUM_ITERS {\r\n            for k in 0..NUM_ITERS {\r\n                if i*i + j*j == k*k {\r\n                    c += 1;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    let took_ns = t_init.elapsed().unwrap().as_nanos() as f64;\r\n\r\n    let iters = NUM_ITERS as f64;\r\n    println!(&quot;{} ns per iteration&quot;, took_ns / (iters * iters * iters));\r\n    // Use c to ensure its computation can&#39;t be elided by the optimizer\r\n    if c % 137 == 0 {\r\n        println!(&quot;Count is divisible by 137: {}&quot;, c);\r\n    }\r\n}\r\n```\r\n\r\nI run Java from IntelliJ, with JDK 16. I run Rust from the command line, using `cargo run --release`.\r\n\r\nExample of Java output:\r\n\r\n```\r\n0.98 ns per iteration\r\n0.93 ns per iteration\r\n0.32 ns per iteration\r\n0.34 ns per iteration\r\n0.32 ns per iteration\r\n0.33 ns per iteration\r\n0.32 ns per iteration\r\n```\r\n\r\nExample of Rust output:\r\n\r\n```\r\n0.600314 ns per iteration\r\n```\r\n\r\nWhile I&#39;m not necessarily surprised to see Java giving a better result (its JIT compiler has been optimized for 20 years now and there&#39;s no object allocation, so no GC), I was puzzled at the overall low cost of an iteration. We can assume the expression `i*i + j*j` to be hoisted out of the inner loop, which leaves just `k*k` inside it. \r\n\r\nI used a disassembler to check out the code Rust produced. It definitely involves IMUL in the innermost loop. I read [this](https://stackoverflow.com/a/37925245/1103872) answer, which says Intel has a latency of just 3 CPU cycles for an IMUL instruction. Combine that with multiple ALUs and instruction parallelism, and the result of 1 cycle per iteration becomes more plausible.\r\n\r\nAnother interesting thing I discovered is that, if I just check `c % 137 == 0` but don&#39;t print the actual value of `c` in the Rust `println!` statement, (only print &quot;Count is divisible by 137&quot;), iteration cost drops to just 0.26 ns. So Rust was able to eliminate a lot of work from the loop when I didn&#39;t ask for the exact value of `c`.\r\n\r\n----\r\n\r\n## UPDATE\r\n\r\nAs discussed in the comments with @trentci, I mimicked the Java code more completely, adding an outer loop that repeats the measurement, which is now in a separate function:\r\n\r\n```\r\nuse std::time::SystemTime;\r\n\r\nconst NUM_ITERS: i32 = 1000;\r\nconst MEASURE_TIMES: i32 = 7;\r\n\r\nfn main() {\r\n    let total_iters: f64 = NUM_ITERS as f64 * NUM_ITERS as f64 * NUM_ITERS as f64;\r\n    for _ in 0..MEASURE_TIMES {\r\n        let took_ns = benchmark() as f64;\r\n        println!(&quot;{} ns per iteration&quot;, took_ns / total_iters);\r\n    }\r\n}\r\n\r\nfn benchmark() -&gt; u128 {\r\n    let mut c = 0;\r\n\r\n    let t_init = SystemTime::now();\r\n    for i in 0..NUM_ITERS {\r\n        for j in 0..NUM_ITERS {\r\n            for k in 0..NUM_ITERS {\r\n                if i*i + j*j == k*k {\r\n                    c += 1;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    // Use c to ensure its computation can&#39;t be elided by the optimizer\r\n    if c % 137 == 0 {\r\n        println!(&quot;Count is divisible by 137: {}&quot;, c);\r\n    }\r\n    return t_init.elapsed().unwrap().as_nanos();\r\n}\r\n```\r\n\r\nNow I&#39;m getting this output:\r\n\r\n```\r\n0.781475 ns per iteration\r\n0.760657 ns per iteration\r\n0.783821 ns per iteration\r\n0.777313 ns per iteration\r\n0.766473 ns per iteration\r\n0.774042 ns per iteration\r\n0.766718 ns per iteration\r\n```\r\n\r\nAnother subtle change to the code that resulted in a significant change in performance. However, it also shows a key advantage of Rust over Java: there is no warmup needed to get the optimum performance.","title":"Java vs Rust performance","body":"<p>I adjusted your code to eliminate the points of criticism laid out in the comments. Not compiling Rust for production is the biggest problem, that introduces a 50x overhead. Beyond that, I eliminated printing while measuring, and did proper warming up of the Java code.</p>\n<p>I would say that Java and Rust were on par after these changes, they are within 2x of each other and both have very low cost per iteration (just a fraction of a nanosecond).</p>\n<p>Here is my code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Testing {\n    private static final int NUM_ITERS = 1_000;\n    private static final int MEASURE_TIMES = 7;\n\n    public static void main(String[] args) {\n        for (int i = 0; i &lt; MEASURE_TIMES; i++) {\n            System.out.format(&quot;%.2f ns per iteration%n&quot;, benchmark());\n        }\n    }\n\n    private static double benchmark() {\n        long tInit = System.nanoTime();\n        int c = 0;\n        for (int i = 0; i &lt; NUM_ITERS; ++i) {\n            for (int j = 0; j &lt; NUM_ITERS; ++j) {\n                for (int k = 0; k &lt; NUM_ITERS; ++k) {\n                    if (i*i + j*j == k*k) {\n                        ++c;\n                    }\n                }\n            }\n        }\n        if (c % 137 == 0) {\n            // Use c so its computation can't be elided\n            System.out.println(&quot;Count is divisible by 13: &quot; + c);\n        }\n        long tookNanos = System.nanoTime() - tInit;\n        return tookNanos / ((double) NUM_ITERS * NUM_ITERS * NUM_ITERS);\n    }\n}\n</code></pre>\n<pre class=\"lang-rust prettyprint-override\"><code>use std::time::SystemTime;\n\nconst NUM_ITERS: i32 = 1000;\n\nfn main() {\n    let mut c = 0;\n\n    let t_init = SystemTime::now();\n    for i in 0..NUM_ITERS {\n        for j in 0..NUM_ITERS {\n            for k in 0..NUM_ITERS {\n                if i*i + j*j == k*k {\n                    c += 1;\n                }\n            }\n        }\n    }\n    let took_ns = t_init.elapsed().unwrap().as_nanos() as f64;\n\n    let iters = NUM_ITERS as f64;\n    println!(&quot;{} ns per iteration&quot;, took_ns / (iters * iters * iters));\n    // Use c to ensure its computation can't be elided by the optimizer\n    if c % 137 == 0 {\n        println!(&quot;Count is divisible by 137: {}&quot;, c);\n    }\n}\n</code></pre>\n<p>I run Java from IntelliJ, with JDK 16. I run Rust from the command line, using <code>cargo run --release</code>.</p>\n<p>Example of Java output:</p>\n<pre><code>0.98 ns per iteration\n0.93 ns per iteration\n0.32 ns per iteration\n0.34 ns per iteration\n0.32 ns per iteration\n0.33 ns per iteration\n0.32 ns per iteration\n</code></pre>\n<p>Example of Rust output:</p>\n<pre><code>0.600314 ns per iteration\n</code></pre>\n<p>While I'm not necessarily surprised to see Java giving a better result (its JIT compiler has been optimized for 20 years now and there's no object allocation, so no GC), I was puzzled at the overall low cost of an iteration. We can assume the expression <code>i*i + j*j</code> to be hoisted out of the inner loop, which leaves just <code>k*k</code> inside it.</p>\n<p>I used a disassembler to check out the code Rust produced. It definitely involves IMUL in the innermost loop. I read <a href=\"https://stackoverflow.com/a/37925245/1103872\">this</a> answer, which says Intel has a latency of just 3 CPU cycles for an IMUL instruction. Combine that with multiple ALUs and instruction parallelism, and the result of 1 cycle per iteration becomes more plausible.</p>\n<p>Another interesting thing I discovered is that, if I just check <code>c % 137 == 0</code> but don't print the actual value of <code>c</code> in the Rust <code>println!</code> statement, (only print &quot;Count is divisible by 137&quot;), iteration cost drops to just 0.26 ns. So Rust was able to eliminate a lot of work from the loop when I didn't ask for the exact value of <code>c</code>.</p>\n<hr />\n<h2>UPDATE</h2>\n<p>As discussed in the comments with @trentci, I mimicked the Java code more completely, adding an outer loop that repeats the measurement, which is now in a separate function:</p>\n<pre><code>use std::time::SystemTime;\n\nconst NUM_ITERS: i32 = 1000;\nconst MEASURE_TIMES: i32 = 7;\n\nfn main() {\n    let total_iters: f64 = NUM_ITERS as f64 * NUM_ITERS as f64 * NUM_ITERS as f64;\n    for _ in 0..MEASURE_TIMES {\n        let took_ns = benchmark() as f64;\n        println!(&quot;{} ns per iteration&quot;, took_ns / total_iters);\n    }\n}\n\nfn benchmark() -&gt; u128 {\n    let mut c = 0;\n\n    let t_init = SystemTime::now();\n    for i in 0..NUM_ITERS {\n        for j in 0..NUM_ITERS {\n            for k in 0..NUM_ITERS {\n                if i*i + j*j == k*k {\n                    c += 1;\n                }\n            }\n        }\n    }\n    // Use c to ensure its computation can't be elided by the optimizer\n    if c % 137 == 0 {\n        println!(&quot;Count is divisible by 137: {}&quot;, c);\n    }\n    return t_init.elapsed().unwrap().as_nanos();\n}\n</code></pre>\n<p>Now I'm getting this output:</p>\n<pre><code>0.781475 ns per iteration\n0.760657 ns per iteration\n0.783821 ns per iteration\n0.777313 ns per iteration\n0.766473 ns per iteration\n0.774042 ns per iteration\n0.766718 ns per iteration\n</code></pre>\n<p>Another subtle change to the code that resulted in a significant change in performance. However, it also shows a key advantage of Rust over Java: there is no warmup needed to get the optimum performance.</p>\n"},{"tags":[],"owner":{"account_id":2619864,"reputation":219,"user_id":2501984,"display_name":"Peter Ertl"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667914801,"creation_date":1667914801,"answer_id":74361693,"question_id":67211077,"body_markdown":"The Java VM possibly just-in-time compiles your inner loop to native assembly code after it exceeds a certain number of iterations. I am not an JVM expert but this could possibly explain why a larger number of iterations magically makes the java code run faster.\r\n\r\nThe technology behind this is called **HotSpot** and afaik it works differently on &quot;client&quot; and &quot;server&quot; VMs. It also depends on the vendor of the JVM if it is available and how it behaves.\r\n\r\nhttps://en.wikipedia.org/wiki/HotSpot_(virtual_machine)\r\n","title":"Java vs Rust performance","body":"<p>The Java VM possibly just-in-time compiles your inner loop to native assembly code after it exceeds a certain number of iterations. I am not an JVM expert but this could possibly explain why a larger number of iterations magically makes the java code run faster.</p>\n<p>The technology behind this is called <strong>HotSpot</strong> and afaik it works differently on &quot;client&quot; and &quot;server&quot; VMs. It also depends on the vendor of the JVM if it is available and how it behaves.</p>\n<p><a href=\"https://en.wikipedia.org/wiki/HotSpot_(virtual_machine)\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/HotSpot_(virtual_machine)</a></p>\n"}],"owner":{"account_id":9470476,"reputation":155,"user_id":7041473,"display_name":"Divyanshu Pundir"},"comment_count":19,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12053,"favorite_count":0,"down_vote_count":4,"up_vote_count":16,"answer_count":2,"score":12,"last_activity_date":1667914801,"creation_date":1619085743,"question_id":67211077,"body_markdown":"I ran a small identical benchmark on both Java and Rust.\r\n\r\nJava:\r\n```\r\npublic class Main {\r\n    private static final int NUM_ITERS = 100;\r\n\r\n    public static void main(String[] args) {\r\n        long tInit = System.nanoTime();\r\n        int c = 0;\r\n\r\n        for (int i = 0; i &lt; NUM_ITERS; ++i) {\r\n            for (int j = 0; j &lt; NUM_ITERS; ++j) {\r\n                for (int k = 0; k &lt; NUM_ITERS; ++k) {\r\n                    if (i*i + j*j == k*k) {\r\n                        ++c;\r\n                        System.out.println(i + &quot; &quot; + j + &quot; &quot; + k);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        System.out.println(c);\r\n        System.out.println(System.nanoTime() - tInit);\r\n    }\r\n}\r\n```\r\n\r\nRust:\r\n```\r\nuse std::time::SystemTime;\r\n\r\nconst NUM_ITERS: i32 = 100;\r\n\r\nfn main() {\r\n    let t_init = SystemTime::now();\r\n    let mut c = 0;\r\n\r\n    for i in 0..NUM_ITERS {\r\n        for j in 0..NUM_ITERS {\r\n            for k in 0..NUM_ITERS {\r\n                if i*i + j*j == k*k {\r\n                    c += 1;\r\n                    println!(&quot;{} {} {}&quot;, i, j, k);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    println!(&quot;{}&quot;, c);\r\n    println!(&quot;{}&quot;, t_init.elapsed().unwrap().as_nanos());\r\n}\r\n\r\n```\r\n\r\nWhen `NUM_ITERS = 100`, as expected, Rust out-performed Java\r\n```\r\nJava: 59311348 ns\r\nRust: 29629242 ns\r\n```\r\n\r\nBut for `NUM_ITERS = 1000`, I saw that Rust took much longer and Java was way faster\r\n```\r\nJava: 1585835361  ns\r\nRust: 28623818145 ns\r\n```\r\n\r\nWhat could be the reason for this? Shouldn&#39;t Rust perform better than Java in this case too? Or is it because I have made some mistake in the implementation?\r\n\r\n# Update\r\n\r\nI removed the lines `System.out.println(i + &quot; &quot; + j + &quot; &quot; + k);` and `println!(&quot;{} {} {}&quot;, i, j, k);` from the codes. And here are the outputs\r\n\r\n```\r\nNUM_ITERS = 100\r\nJava: 3843114  ns\r\nRust: 29072345 ns\r\n\r\n\r\nNUM_ITERS = 1000\r\nJava: 1014829974  ns\r\nRust: 28402166953 ns\r\n```\r\n\r\nSo, without the `println` statements, Java performs better than Rust in both cases. I simply want to know that why that is the case. Java has the Garbage Collector running and other overheads. Have I not implemented the loops in Rust optimally?","title":"Java vs Rust performance","body":"<p>I ran a small identical benchmark on both Java and Rust.</p>\n<p>Java:</p>\n<pre><code>public class Main {\n    private static final int NUM_ITERS = 100;\n\n    public static void main(String[] args) {\n        long tInit = System.nanoTime();\n        int c = 0;\n\n        for (int i = 0; i &lt; NUM_ITERS; ++i) {\n            for (int j = 0; j &lt; NUM_ITERS; ++j) {\n                for (int k = 0; k &lt; NUM_ITERS; ++k) {\n                    if (i*i + j*j == k*k) {\n                        ++c;\n                        System.out.println(i + &quot; &quot; + j + &quot; &quot; + k);\n                    }\n                }\n            }\n        }\n\n        System.out.println(c);\n        System.out.println(System.nanoTime() - tInit);\n    }\n}\n</code></pre>\n<p>Rust:</p>\n<pre><code>use std::time::SystemTime;\n\nconst NUM_ITERS: i32 = 100;\n\nfn main() {\n    let t_init = SystemTime::now();\n    let mut c = 0;\n\n    for i in 0..NUM_ITERS {\n        for j in 0..NUM_ITERS {\n            for k in 0..NUM_ITERS {\n                if i*i + j*j == k*k {\n                    c += 1;\n                    println!(&quot;{} {} {}&quot;, i, j, k);\n                }\n            }\n        }\n    }\n\n    println!(&quot;{}&quot;, c);\n    println!(&quot;{}&quot;, t_init.elapsed().unwrap().as_nanos());\n}\n\n</code></pre>\n<p>When <code>NUM_ITERS = 100</code>, as expected, Rust out-performed Java</p>\n<pre><code>Java: 59311348 ns\nRust: 29629242 ns\n</code></pre>\n<p>But for <code>NUM_ITERS = 1000</code>, I saw that Rust took much longer and Java was way faster</p>\n<pre><code>Java: 1585835361  ns\nRust: 28623818145 ns\n</code></pre>\n<p>What could be the reason for this? Shouldn't Rust perform better than Java in this case too? Or is it because I have made some mistake in the implementation?</p>\n<h1>Update</h1>\n<p>I removed the lines <code>System.out.println(i + &quot; &quot; + j + &quot; &quot; + k);</code> and <code>println!(&quot;{} {} {}&quot;, i, j, k);</code> from the codes. And here are the outputs</p>\n<pre><code>NUM_ITERS = 100\nJava: 3843114  ns\nRust: 29072345 ns\n\n\nNUM_ITERS = 1000\nJava: 1014829974  ns\nRust: 28402166953 ns\n</code></pre>\n<p>So, without the <code>println</code> statements, Java performs better than Rust in both cases. I simply want to know that why that is the case. Java has the Garbage Collector running and other overheads. Have I not implemented the loops in Rust optimally?</p>\n"},{"tags":["java","android","arrays","json","hashmap"],"comments":[{"owner":{"account_id":318746,"reputation":1188,"user_id":636131,"display_name":"Simeon G"},"score":1,"creation_date":1610120661,"post_id":65631929,"comment_id":116040102,"body_markdown":"Are you asking how to decode the byte array into a JSON string like you&#39;ve already provided? Or are you asking about converting the JSON string you provided (decoded from the website) into a Java structure like a HashMap?","body":"Are you asking how to decode the byte array into a JSON string like you&#39;ve already provided? Or are you asking about converting the JSON string you provided (decoded from the website) into a Java structure like a HashMap?"},{"owner":{"account_id":19830039,"reputation":21,"user_id":14524844,"display_name":"Daniele Monaldi"},"score":0,"creation_date":1610122290,"post_id":65631929,"comment_id":116040933,"body_markdown":"I should convert the byte array into a HashMap, or in any case a structure that allows me to retrieve every single data of it.","body":"I should convert the byte array into a HashMap, or in any case a structure that allows me to retrieve every single data of it."},{"owner":{"account_id":16914570,"reputation":1532,"user_id":12232870,"display_name":"terrorrussia-keeps-killing"},"score":0,"creation_date":1610144652,"post_id":65631929,"comment_id":116049407,"body_markdown":"@DanieleMonaldi &quot;JSON string as a byte array&quot; is not clear. Does `[123, 45, 67, 90, ...]` represent the data logically (i.e., the first byte is value of 123, and so on), or does it represent the data physically (i.e., literally `[`, `1`, `2`, `3`, `,`, ... go over your network)?","body":"@DanieleMonaldi &quot;JSON string as a byte array&quot; is not clear. Does <code>[123, 45, 67, 90, ...]</code> represent the data logically (i.e., the first byte is value of 123, and so on), or does it represent the data physically (i.e., literally <code>[</code>, <code>1</code>, <code>2</code>, <code>3</code>, <code>,</code>, ... go over your network)?"},{"owner":{"account_id":19830039,"reputation":21,"user_id":14524844,"display_name":"Daniele Monaldi"},"score":0,"creation_date":1610182772,"post_id":65631929,"comment_id":116055598,"body_markdown":"@fluffy the server sends me the JSON string like the one I published in the form of a byte array, so for example 123 represents the character &quot;{&quot;","body":"@fluffy the server sends me the JSON string like the one I published in the form of a byte array, so for example 123 represents the character &quot;{&quot;"},{"owner":{"account_id":16914570,"reputation":1532,"user_id":12232870,"display_name":"terrorrussia-keeps-killing"},"score":0,"creation_date":1610187326,"post_id":65631929,"comment_id":116056600,"body_markdown":"@DanieleMonaldi I have an idea of decoding it using Gson, but let me ask you three questions first. 1) `123`, `45`, `67`, and `90` represent ASCII/UTF-8 characters `{`, `-`, `C`, and `Z` respectively (malformed but unusual JSON): they differ structurally from the JSON, but why? 2) When I was pretty-formatting your JSON, I found it was illegal: is that something your server sends to you or you just had some typos while posting it? 3) Shouldn&#39;t your server send a ready-to-use JSON rather than send it as an byte-array-encoded JSON that is not necessarily JSON-compatible?","body":"@DanieleMonaldi I have an idea of decoding it using Gson, but let me ask you three questions first. 1) <code>123</code>, <code>45</code>, <code>67</code>, and <code>90</code> represent ASCII/UTF-8 characters <code>{</code>, <code>-</code>, <code>C</code>, and <code>Z</code> respectively (malformed but unusual JSON): they differ structurally from the JSON, but why? 2) When I was pretty-formatting your JSON, I found it was illegal: is that something your server sends to you or you just had some typos while posting it? 3) Shouldn&#39;t your server send a ready-to-use JSON rather than send it as an byte-array-encoded JSON that is not necessarily JSON-compatible?"},{"owner":{"account_id":16914570,"reputation":1532,"user_id":12232870,"display_name":"terrorrussia-keeps-killing"},"score":0,"creation_date":1610187370,"post_id":65631929,"comment_id":116056607,"body_markdown":"@DanieleMonaldi And the fourth one please: 4) You mentioned an online decoder. Which did you use?","body":"@DanieleMonaldi And the fourth one please: 4) You mentioned an online decoder. Which did you use?"},{"owner":{"account_id":19830039,"reputation":21,"user_id":14524844,"display_name":"Daniele Monaldi"},"score":0,"creation_date":1610190279,"post_id":65631929,"comment_id":116057240,"body_markdown":"The byte array I posted was a generic example, with random numbers, just to give the idea. The json, instead, is a real example.  Unfortunately the server was not developed by me, but being a group project it was developed by a friend, who chose this solution because it also works with iOS (an app that another friend is developing). I used this site: https://onlineutf8tools.com/convert-bytes-to-utf8","body":"The byte array I posted was a generic example, with random numbers, just to give the idea. The json, instead, is a real example.  Unfortunately the server was not developed by me, but being a group project it was developed by a friend, who chose this solution because it also works with iOS (an app that another friend is developing). I used this site: <a href=\"https://onlineutf8tools.com/convert-bytes-to-utf8\" rel=\"nofollow noreferrer\">onlineutf8tools.com/convert-bytes-to-utf8</a>"},{"owner":{"account_id":16914570,"reputation":1532,"user_id":12232870,"display_name":"terrorrussia-keeps-killing"},"score":0,"creation_date":1610191816,"post_id":65631929,"comment_id":116057626,"body_markdown":"@DanieleMonaldi I do not want to seem intrusive, but shouldn&#39;t the friend of yours fix their Python code so that the serve could generate legal and valid JSON ready to consume in _any_ application (including commands `curl` and `jq`), and another friend of yours (at the iOS side) could remove away the intermediate code that decodes byte-array-encoded text to plain text? Having that, you could even avoid asking the question here, because now you have to deal with bad design and implement an adapter to decode one stream to another one.","body":"@DanieleMonaldi I do not want to seem intrusive, but shouldn&#39;t the friend of yours fix their Python code so that the serve could generate legal and valid JSON ready to consume in <i>any</i> application (including commands <code>curl</code> and <code>jq</code>), and another friend of yours (at the iOS side) could remove away the intermediate code that decodes byte-array-encoded text to plain text? Having that, you could even avoid asking the question here, because now you have to deal with bad design and implement an adapter to decode one stream to another one."},{"owner":{"account_id":19830039,"reputation":21,"user_id":14524844,"display_name":"Daniele Monaldi"},"score":0,"creation_date":1610192269,"post_id":65631929,"comment_id":116057727,"body_markdown":"I think it is the only solution, thanks for the help!","body":"I think it is the only solution, thanks for the help!"},{"owner":{"account_id":19830039,"reputation":21,"user_id":14524844,"display_name":"Daniele Monaldi"},"score":0,"creation_date":1610225357,"post_id":65631929,"comment_id":116067535,"body_markdown":"@fluffy The server has been fixed and now sends a json. Now how should I do to retrieve the information?","body":"@fluffy The server has been fixed and now sends a json. Now how should I do to retrieve the information?"},{"owner":{"account_id":16914570,"reputation":1532,"user_id":12232870,"display_name":"terrorrussia-keeps-killing"},"score":0,"creation_date":1610225828,"post_id":65631929,"comment_id":116067662,"body_markdown":"@DanieleMonaldi One less issue now so good news! It depends on which JSON library you&#39;re using, but I guess there are more comprehensive sources over the Web than mine.","body":"@DanieleMonaldi One less issue now so good news! It depends on which JSON library you&#39;re using, but I guess there are more comprehensive sources over the Web than mine."}],"answers":[{"tags":[],"owner":{"account_id":318746,"reputation":1188,"user_id":636131,"display_name":"Simeon G"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1610125272,"creation_date":1610125272,"answer_id":65633241,"question_id":65631929,"body_markdown":"You should be able to use the [ObjectMapper][1] from Jackson or any other JSON parser/serializer to achieve this. One option, using ObjectMapper is to just serialize the string directly into a hashmap like this:\r\n\r\n    byte src[] = getBytesFromServer();\r\n    ObjectMapper om = new ObjectMapper();\r\n    TypeReference&lt;Map&lt;String,Object&gt;&gt; tr = new TypeReference&lt;Map&lt;String,Object&gt;&gt; {};\r\n    Map&lt;String,Object&gt; val = om.readValue(src,tr);\r\n\r\nThere are a few variants of this that should be helpful to you. You can also achieve the same with other JSON libraries like [GSon][2]\r\n\r\n\r\n  [1]: https://fasterxml.github.io/jackson-databind/javadoc/2.7/com/fasterxml/jackson/databind/ObjectMapper.html\r\n  [2]: https://github.com/google/gson","title":"Java, convert Byte Array to HashMap or JSON string","body":"<p>You should be able to use the <a href=\"https://fasterxml.github.io/jackson-databind/javadoc/2.7/com/fasterxml/jackson/databind/ObjectMapper.html\" rel=\"nofollow noreferrer\">ObjectMapper</a> from Jackson or any other JSON parser/serializer to achieve this. One option, using ObjectMapper is to just serialize the string directly into a hashmap like this:</p>\n<pre><code>byte src[] = getBytesFromServer();\nObjectMapper om = new ObjectMapper();\nTypeReference&lt;Map&lt;String,Object&gt;&gt; tr = new TypeReference&lt;Map&lt;String,Object&gt;&gt; {};\nMap&lt;String,Object&gt; val = om.readValue(src,tr);\n</code></pre>\n<p>There are a few variants of this that should be helpful to you. You can also achieve the same with other JSON libraries like <a href=\"https://github.com/google/gson\" rel=\"nofollow noreferrer\">GSon</a></p>\n"},{"tags":[],"owner":{"account_id":16914570,"reputation":1532,"user_id":12232870,"display_name":"terrorrussia-keeps-killing"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1610194816,"creation_date":1610194816,"answer_id":65642564,"question_id":65631929,"body_markdown":"In the meantime, while your server code is not yet fixed, I can provide an example of adapting the byte-encoded response to what you can parse, for the &quot;educational&quot; purposes to avoid bad practices in the future (simply don&#39;t do the following).\r\n\r\nThe idea to solve your problem is _adapting_ the incoming payload (byte-array-encoded text) to a byte/character-stream that can be consumed as JSON.\r\n\r\nUsing the org.json is _might_ be implemented like this (however, I&#39;m not sure if I&#39;ve implemented it properly):\r\n\r\n```java\r\npublic final class Decoding {\r\n\r\n\tprivate Decoding() {\r\n\t}\r\n\r\n\tpublic static Reader of(final Reader reader) {\r\n\t\tfinal JSONTokener jsonTokener = new JSONTokener(reader);\r\n\t\treturn new Reader() {\r\n\t\t\tprivate boolean beginToProcess = true;\r\n\t\t\tprivate boolean endToProcess = true;\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic int read(@Nonnull final char[] buffer, final int offset, final int length)\r\n\t\t\t\t\tthrows IOException {\r\n\t\t\t\tif ( beginToProcess ) {\r\n\t\t\t\t\tfinal char ch = jsonTokener.nextClean();\r\n\t\t\t\t\tif ( ch != &#39;[&#39; ) {\r\n\t\t\t\t\t\tthrow new IOException(&quot;Not an array begin: &quot; + ch);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbeginToProcess = false;\r\n\t\t\t\t}\r\n\t\t\t\tif ( !jsonTokener.more() ) {\r\n\t\t\t\t\tif ( endToProcess ) {\r\n\t\t\t\t\t\tfinal char ch = jsonTokener.nextClean();\r\n\t\t\t\t\t\tif ( ch != &#39;\\u0000&#39; ) {\r\n\t\t\t\t\t\t\tthrow new IOException(&quot;Not an array or document end: &quot; + ch);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tendToProcess = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn -1;\r\n\t\t\t\t}\r\n\t\t\t\tfinal char b = (char) (int) jsonTokener.nextValue();\r\n\t\t\t\tif ( jsonTokener.more() ) {\r\n\t\t\t\t\tfinal char ch = jsonTokener.nextClean();\r\n\t\t\t\t\tswitch ( ch ) {\r\n\t\t\t\t\tcase &#39;,&#39;:\r\n\t\t\t\t\tcase &#39;]&#39;:\r\n\t\t\t\t\t\t// do nothing\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\tthrow new IOException(&quot;Not an array delimiter: &quot; + ch);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tbuffer[offset] = b;\r\n\t\t\t\treturn 1;\r\n\t\t\t}\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic void close()\r\n\t\t\t\t\tthrows IOException {\r\n\t\t\t\treader.close();\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n\t...\r\n```\r\n\r\nor using Gson for example:\r\n\r\n```java\r\n\t...\r\n\tpublic static Reader of(final JsonReader jsonReader) {\r\n\t\treturn new Reader() {\r\n\t\t\tprivate boolean beginToProcess = true;\r\n\t\t\tprivate boolean endToProcess = true;\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic int read(@Nonnull final char[] buffer, final int offset, final int length)\r\n\t\t\t\t\tthrows IOException {\r\n\t\t\t\tif ( beginToProcess ) {\r\n\t\t\t\t\tjsonReader.beginArray();\r\n\t\t\t\t\tbeginToProcess = false;\r\n\t\t\t\t}\r\n\t\t\t\tif ( !jsonReader.hasNext() ) {\r\n\t\t\t\t\tif ( endToProcess ) {\r\n\t\t\t\t\t\tjsonReader.endArray();\r\n\t\t\t\t\t\tendToProcess = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn -1;\r\n\t\t\t\t}\r\n\t\t\t\tfinal int b = jsonReader.nextInt();\r\n\t\t\t\tbuffer[offset] = (char) b;\r\n\t\t\t\treturn 1;\r\n\t\t\t}\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic void close()\r\n\t\t\t\t\tthrows IOException {\r\n\t\t\t\tjsonReader.close();\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n\r\n}\r\n```\r\n\r\nBoth decoders are suboptimal and do not provide the maximum performance, but I hope you won&#39;t need it once your server is fixed. Now you can decode the input readers and convert them to valid JSON documents (in a JUnit 5 test):\r\n\r\n```java\r\npublic final class DecodingTest {\r\n\r\n\t@Test\r\n\tpublic void test()\r\n\t\t\tthrows IOException {\r\n\t\tfinal String payload = &quot;[123,34,97,117,116,104,111,114,34,58,34,65,110,116,111,110,34,44,34,116,121,112,101,34,58,34,115,101,114,118,101,114,32,105,110,102,111,34,44,34,100,97,116,101,34,58,34,48,56,47,48,49,47,50,48,50,49,34,44,34,99,111,110,116,101,110,116,34,58,34,34,44,34,111,112,116,34,58,123,34,99,112,117,34,58,123,34,102,114,101,113,34,58,91,51,56,54,54,46,48,52,49,56,55,53,44,49,54,48,48,44,51,57,48,48,93,44,34,117,115,97,103,101,34,58,91,48,44,48,44,49,44,50,44,49,44,49,44,48,44,50,93,44,34,108,111,97,100,34,58,91,48,46,53,44,48,46,54,51,44,48,46,54,49,93,125,44,34,109,101,109,111,114,121,34,58,123,34,114,97,109,34,58,91,49,53,46,53,52,44,49,50,46,48,49,44,50,50,46,55,44,50,46,56,53,44,57,46,54,55,93,125,44,34,100,105,115,107,115,34,58,123,34,115,115,100,34,58,91,50,49,57,46,49,44,49,51,44,49,57,52,46,57,44,54,46,51,93,44,34,104,100,100,34,58,91,48,44,48,44,48,44,49,48,48,93,125,44,34,116,101,109,112,115,34,58,123,34,99,111,114,101,45,48,34,58,91,51,50,44,56,53,44,49,48,53,93,44,34,99,111,114,101,45,49,34,58,91,51,54,44,56,53,44,49,48,53,93,44,34,99,111,114,101,45,50,34,58,91,51,55,44,56,53,44,49,48,53,93,44,34,99,111,114,101,45,51,34,58,91,51,56,44,56,53,44,49,48,53,93,125,125,44,34,97,116,116,97,99,104,101,100,34,58,110,117,108,108,125]&quot;;\r\n\t\tfinal String expected = &quot;{\\&quot;author\\&quot;:\\&quot;Anton\\&quot;,\\&quot;type\\&quot;:\\&quot;server info\\&quot;,\\&quot;date\\&quot;:\\&quot;08/01/2021\\&quot;,\\&quot;content\\&quot;:\\&quot;\\&quot;,\\&quot;opt\\&quot;:{\\&quot;cpu\\&quot;:{\\&quot;freq\\&quot;:[3866.041875,1600,3900],\\&quot;usage\\&quot;:[0,0,1,2,1,1,0,2],\\&quot;load\\&quot;:[0.5,0.63,0.61]},\\&quot;memory\\&quot;:{\\&quot;ram\\&quot;:[15.54,12.01,22.7,2.85,9.67]},\\&quot;disks\\&quot;:{\\&quot;ssd\\&quot;:[219.1,13,194.9,6.3],\\&quot;hdd\\&quot;:[0,0,0,100]},\\&quot;temps\\&quot;:{\\&quot;core-0\\&quot;:[32,85,105],\\&quot;core-1\\&quot;:[36,85,105],\\&quot;core-2\\&quot;:[37,85,105],\\&quot;core-3\\&quot;:[38,85,105]}},\\&quot;attached\\&quot;:null}&quot;;\r\n\t\ttry ( final Reader reader = Decoding.of(new StringReader(payload));\r\n\t\t\t\tfinal Writer writer = new StringWriter() ) {\r\n\t\t\tCharStreams.copy(reader, writer);\r\n\t\t\tAssertions.assertEquals(expected, writer.toString());\r\n\t\t}\r\n\t\ttry ( final Reader reader = Decoding.of(new JsonReader(new StringReader(payload)));\r\n\t\t\t\tfinal Writer writer = new StringWriter() ) {\r\n\t\t\tCharStreams.copy(reader, writer);\r\n\t\t\tAssertions.assertEquals(expected, writer.toString());\r\n\t\t}\r\n\t}\r\n\r\n}\r\n```\r\n\r\nNote that `CharStreams.copy` is taken from Google Guava from brevity.\r\n\r\nThe readers can now be consumed as regular JSON documents by library, `org.json`, Gson, Jackson, Moshi or whatever else.","title":"Java, convert Byte Array to HashMap or JSON string","body":"<p>In the meantime, while your server code is not yet fixed, I can provide an example of adapting the byte-encoded response to what you can parse, for the &quot;educational&quot; purposes to avoid bad practices in the future (simply don't do the following).</p>\n<p>The idea to solve your problem is <em>adapting</em> the incoming payload (byte-array-encoded text) to a byte/character-stream that can be consumed as JSON.</p>\n<p>Using the org.json is <em>might</em> be implemented like this (however, I'm not sure if I've implemented it properly):</p>\n<pre class=\"lang-java prettyprint-override\"><code>public final class Decoding {\n\n    private Decoding() {\n    }\n\n    public static Reader of(final Reader reader) {\n        final JSONTokener jsonTokener = new JSONTokener(reader);\n        return new Reader() {\n            private boolean beginToProcess = true;\n            private boolean endToProcess = true;\n\n            @Override\n            public int read(@Nonnull final char[] buffer, final int offset, final int length)\n                    throws IOException {\n                if ( beginToProcess ) {\n                    final char ch = jsonTokener.nextClean();\n                    if ( ch != '[' ) {\n                        throw new IOException(&quot;Not an array begin: &quot; + ch);\n                    }\n                    beginToProcess = false;\n                }\n                if ( !jsonTokener.more() ) {\n                    if ( endToProcess ) {\n                        final char ch = jsonTokener.nextClean();\n                        if ( ch != '\\u0000' ) {\n                            throw new IOException(&quot;Not an array or document end: &quot; + ch);\n                        }\n                        endToProcess = false;\n                    }\n                    return -1;\n                }\n                final char b = (char) (int) jsonTokener.nextValue();\n                if ( jsonTokener.more() ) {\n                    final char ch = jsonTokener.nextClean();\n                    switch ( ch ) {\n                    case ',':\n                    case ']':\n                        // do nothing\n                        break;\n                    default:\n                        throw new IOException(&quot;Not an array delimiter: &quot; + ch);\n                    }\n                }\n                buffer[offset] = b;\n                return 1;\n            }\n\n            @Override\n            public void close()\n                    throws IOException {\n                reader.close();\n            }\n        };\n    }\n    ...\n</code></pre>\n<p>or using Gson for example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    ...\n    public static Reader of(final JsonReader jsonReader) {\n        return new Reader() {\n            private boolean beginToProcess = true;\n            private boolean endToProcess = true;\n\n            @Override\n            public int read(@Nonnull final char[] buffer, final int offset, final int length)\n                    throws IOException {\n                if ( beginToProcess ) {\n                    jsonReader.beginArray();\n                    beginToProcess = false;\n                }\n                if ( !jsonReader.hasNext() ) {\n                    if ( endToProcess ) {\n                        jsonReader.endArray();\n                        endToProcess = false;\n                    }\n                    return -1;\n                }\n                final int b = jsonReader.nextInt();\n                buffer[offset] = (char) b;\n                return 1;\n            }\n\n            @Override\n            public void close()\n                    throws IOException {\n                jsonReader.close();\n            }\n        };\n    }\n\n}\n</code></pre>\n<p>Both decoders are suboptimal and do not provide the maximum performance, but I hope you won't need it once your server is fixed. Now you can decode the input readers and convert them to valid JSON documents (in a JUnit 5 test):</p>\n<pre class=\"lang-java prettyprint-override\"><code>public final class DecodingTest {\n\n    @Test\n    public void test()\n            throws IOException {\n        final String payload = &quot;[123,34,97,117,116,104,111,114,34,58,34,65,110,116,111,110,34,44,34,116,121,112,101,34,58,34,115,101,114,118,101,114,32,105,110,102,111,34,44,34,100,97,116,101,34,58,34,48,56,47,48,49,47,50,48,50,49,34,44,34,99,111,110,116,101,110,116,34,58,34,34,44,34,111,112,116,34,58,123,34,99,112,117,34,58,123,34,102,114,101,113,34,58,91,51,56,54,54,46,48,52,49,56,55,53,44,49,54,48,48,44,51,57,48,48,93,44,34,117,115,97,103,101,34,58,91,48,44,48,44,49,44,50,44,49,44,49,44,48,44,50,93,44,34,108,111,97,100,34,58,91,48,46,53,44,48,46,54,51,44,48,46,54,49,93,125,44,34,109,101,109,111,114,121,34,58,123,34,114,97,109,34,58,91,49,53,46,53,52,44,49,50,46,48,49,44,50,50,46,55,44,50,46,56,53,44,57,46,54,55,93,125,44,34,100,105,115,107,115,34,58,123,34,115,115,100,34,58,91,50,49,57,46,49,44,49,51,44,49,57,52,46,57,44,54,46,51,93,44,34,104,100,100,34,58,91,48,44,48,44,48,44,49,48,48,93,125,44,34,116,101,109,112,115,34,58,123,34,99,111,114,101,45,48,34,58,91,51,50,44,56,53,44,49,48,53,93,44,34,99,111,114,101,45,49,34,58,91,51,54,44,56,53,44,49,48,53,93,44,34,99,111,114,101,45,50,34,58,91,51,55,44,56,53,44,49,48,53,93,44,34,99,111,114,101,45,51,34,58,91,51,56,44,56,53,44,49,48,53,93,125,125,44,34,97,116,116,97,99,104,101,100,34,58,110,117,108,108,125]&quot;;\n        final String expected = &quot;{\\&quot;author\\&quot;:\\&quot;Anton\\&quot;,\\&quot;type\\&quot;:\\&quot;server info\\&quot;,\\&quot;date\\&quot;:\\&quot;08/01/2021\\&quot;,\\&quot;content\\&quot;:\\&quot;\\&quot;,\\&quot;opt\\&quot;:{\\&quot;cpu\\&quot;:{\\&quot;freq\\&quot;:[3866.041875,1600,3900],\\&quot;usage\\&quot;:[0,0,1,2,1,1,0,2],\\&quot;load\\&quot;:[0.5,0.63,0.61]},\\&quot;memory\\&quot;:{\\&quot;ram\\&quot;:[15.54,12.01,22.7,2.85,9.67]},\\&quot;disks\\&quot;:{\\&quot;ssd\\&quot;:[219.1,13,194.9,6.3],\\&quot;hdd\\&quot;:[0,0,0,100]},\\&quot;temps\\&quot;:{\\&quot;core-0\\&quot;:[32,85,105],\\&quot;core-1\\&quot;:[36,85,105],\\&quot;core-2\\&quot;:[37,85,105],\\&quot;core-3\\&quot;:[38,85,105]}},\\&quot;attached\\&quot;:null}&quot;;\n        try ( final Reader reader = Decoding.of(new StringReader(payload));\n                final Writer writer = new StringWriter() ) {\n            CharStreams.copy(reader, writer);\n            Assertions.assertEquals(expected, writer.toString());\n        }\n        try ( final Reader reader = Decoding.of(new JsonReader(new StringReader(payload)));\n                final Writer writer = new StringWriter() ) {\n            CharStreams.copy(reader, writer);\n            Assertions.assertEquals(expected, writer.toString());\n        }\n    }\n\n}\n</code></pre>\n<p>Note that <code>CharStreams.copy</code> is taken from Google Guava from brevity.</p>\n<p>The readers can now be consumed as regular JSON documents by library, <code>org.json</code>, Gson, Jackson, Moshi or whatever else.</p>\n"},{"tags":[],"owner":{"account_id":15106774,"reputation":562,"user_id":10902231,"display_name":"Felix Seifert"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667914482,"creation_date":1667902145,"answer_id":74358953,"question_id":65631929,"body_markdown":"Besides achieving this in Jackson as [demonstrated by Simeon ](https://stackoverflow.com/a/65633241/10902231), you can achieve the same with **Gson**.\r\n\r\n```\r\nMap&lt;String, Object&gt; decode(final byte[] src) {\r\n    final String srcString = new String(src);\r\n    final Type mapType = new TypeToken&lt;Map&lt;String, Object&gt;&gt;(){}.getType();\r\n    return new Gson().fromJson(srcString, mapType);\r\n}\r\n```\r\n\r\nIn case you want to optimise the code and prevent anonymous inner classes, you can create a static inner class ...\r\n\r\n```\r\nprivate static class MapTypeToken extends TypeToken&lt;Map&lt;String, Object&gt;&gt; {}\r\n```\r\n... and use it in your `Type` variable ...\r\n\r\n```\r\nfinal Type mapType = new MapTypeToken().getType();\r\n```","title":"Java, convert Byte Array to HashMap or JSON string","body":"<p>Besides achieving this in Jackson as <a href=\"https://stackoverflow.com/a/65633241/10902231\">demonstrated by Simeon </a>, you can achieve the same with <strong>Gson</strong>.</p>\n<pre><code>Map&lt;String, Object&gt; decode(final byte[] src) {\n    final String srcString = new String(src);\n    final Type mapType = new TypeToken&lt;Map&lt;String, Object&gt;&gt;(){}.getType();\n    return new Gson().fromJson(srcString, mapType);\n}\n</code></pre>\n<p>In case you want to optimise the code and prevent anonymous inner classes, you can create a static inner class ...</p>\n<pre><code>private static class MapTypeToken extends TypeToken&lt;Map&lt;String, Object&gt;&gt; {}\n</code></pre>\n<p>... and use it in your <code>Type</code> variable ...</p>\n<pre><code>final Type mapType = new MapTypeToken().getType();\n</code></pre>\n"}],"owner":{"account_id":19830039,"reputation":21,"user_id":14524844,"display_name":"Daniele Monaldi"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5154,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1667914482,"creation_date":1610119994,"question_id":65631929,"body_markdown":"I&#39;m making an Android App to manage a Unix computer remotely. The application also allows you to see real-time PC statistics (CPU temperature, CPU load, etc.). On the pc there is a Python server that through a socket sends a JSON string as a byte array to the app which contains the PC statistics, like this:\r\n\r\n    [123, 45, 67, 90, ...]\r\n\r\nThis is the contents of the byte array (I decoded it with a website):\r\n\r\n```json\r\n{\r\n    &quot;author&quot;: &quot;Anton&quot;,\r\n    &quot;type&quot;: &quot;server info&quot;,\r\n    &quot;date&quot;: &quot;08/01/2021&quot;,\r\n    &quot;content&quot;: &quot;&quot;,\r\n    &quot;opt&quot;: {\r\n        &quot;cpu&quot;: {\r\n            &quot;freq&quot;: [3866.041875, 1600.0, 3900.0],\r\n            &quot;usage&quot;: [0.0, 0.0, 1.0, 2.0, 1.0, 1.0, 0.0, 2.0],\r\n            &quot;load&quot;: [0.5, 0.63, 0.61]\r\n        },\r\n        &quot;memory&quot;: {\r\n            &quot;ram&quot;: [15.54, 12.01, 22.7, 2.85, 9.67]\r\n        },\r\n        &quot;disks&quot;: {\r\n            &quot;ssd&quot;: [219.1, 13.0, 194.9, 6.3],\r\n            &quot;hdd&quot;: [0.0, 0.0, 0, 100.0]\r\n        },\r\n        &quot;temps&quot;: {\r\n            &quot;core-0&quot;: [32.0, 85.0, 105.0],\r\n            &quot;core-1&quot;: [36.0, 85.0, 105.0],\r\n            &quot;core-2&quot;: [37.0, 85.0, 105.0],\r\n            &quot;core-3&quot;: [38.0, 85.0, 105.0]\r\n        }\r\n    },\r\n    &quot;attached&quot;: null\r\n}\r\n```\r\n\r\nHow can I transform the byte array into a structure like a `HashMap` or a JSON string, so that I can retrieve the PC statistics, and then view them in the App through ProgressiveBars?\r\n","title":"Java, convert Byte Array to HashMap or JSON string","body":"<p>I'm making an Android App to manage a Unix computer remotely. The application also allows you to see real-time PC statistics (CPU temperature, CPU load, etc.). On the pc there is a Python server that through a socket sends a JSON string as a byte array to the app which contains the PC statistics, like this:</p>\n<pre><code>[123, 45, 67, 90, ...]\n</code></pre>\n<p>This is the contents of the byte array (I decoded it with a website):</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;author&quot;: &quot;Anton&quot;,\n    &quot;type&quot;: &quot;server info&quot;,\n    &quot;date&quot;: &quot;08/01/2021&quot;,\n    &quot;content&quot;: &quot;&quot;,\n    &quot;opt&quot;: {\n        &quot;cpu&quot;: {\n            &quot;freq&quot;: [3866.041875, 1600.0, 3900.0],\n            &quot;usage&quot;: [0.0, 0.0, 1.0, 2.0, 1.0, 1.0, 0.0, 2.0],\n            &quot;load&quot;: [0.5, 0.63, 0.61]\n        },\n        &quot;memory&quot;: {\n            &quot;ram&quot;: [15.54, 12.01, 22.7, 2.85, 9.67]\n        },\n        &quot;disks&quot;: {\n            &quot;ssd&quot;: [219.1, 13.0, 194.9, 6.3],\n            &quot;hdd&quot;: [0.0, 0.0, 0, 100.0]\n        },\n        &quot;temps&quot;: {\n            &quot;core-0&quot;: [32.0, 85.0, 105.0],\n            &quot;core-1&quot;: [36.0, 85.0, 105.0],\n            &quot;core-2&quot;: [37.0, 85.0, 105.0],\n            &quot;core-3&quot;: [38.0, 85.0, 105.0]\n        }\n    },\n    &quot;attached&quot;: null\n}\n</code></pre>\n<p>How can I transform the byte array into a structure like a <code>HashMap</code> or a JSON string, so that I can retrieve the PC statistics, and then view them in the App through ProgressiveBars?</p>\n"},{"tags":["java","jpa","ssl","ssl-certificate","p12"],"owner":{"account_id":19487712,"reputation":63,"user_id":14256662,"display_name":"Lftbrito"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1667914463,"creation_date":1667914463,"question_id":74361628,"body_markdown":"Im getting the erro `DerInputStream.getLength(): lengthTag=111, too big.` only after I build my project. If I run it on the IDE everything goes normal, but after a &quot;mvn clean package&quot; and try to run it, I get this error.\r\n\r\nHow Im trying to get the KeyStore.\r\n\r\n    \t\tInputStream keyInput = classLoader.getResourceAsStream(&quot;certfile/cert.p12&quot;);\r\n\r\n\t\t\tKeyStore keyStore = KeyStore.getInstance(&quot;PKCS12&quot;);\r\n\t\t\tkeyStore.load(keyInput, p12password.toCharArray());\r\n\t\t\tkeyInput.close();\r\n\r\nHow i built my cert\r\n\r\n    openssl pkcs12 -export -out cert.p12 -in cert_crt.pem -inkey cert_key.pem -passout pass: 123456\r\n\r\nI alredy tried to convert it to .jks. I did try to exclue it from filtering on .pom with:\r\n\r\n    &lt;resources&gt;\r\n    &lt;resource&gt;\r\n        &lt;directory&gt;src/main/resources&lt;/directory&gt;\r\n        &lt;filtering&gt;true&lt;/filtering&gt;\r\n        &lt;excludes&gt;\r\n            &lt;exclude&gt;**/*.p12&lt;/exclude&gt;\r\n        &lt;/excludes&gt;\r\n    &lt;/resource&gt;\r\n    &lt;resource&gt;\r\n        &lt;directory&gt;src/main/resources&lt;/directory&gt;\r\n        &lt;filtering&gt;false&lt;/filtering&gt;\r\n        &lt;includes&gt;\r\n            &lt;include&gt;**/*.p12&lt;/include&gt;\r\n        &lt;/includes&gt;\r\n    &lt;/resource&gt;\r\n&lt;/resources&gt;\r\n\r\nNothing seems to work.\r\n\r\nObs.: It only happens after I built the project, it run normal if I execute the main class on the IDE.","title":"Erro after build when trying to get .p12 SSL certfile DerInputStream.getLength(): lengthTag=111, too big","body":"<p>Im getting the erro <code>DerInputStream.getLength(): lengthTag=111, too big.</code> only after I build my project. If I run it on the IDE everything goes normal, but after a &quot;mvn clean package&quot; and try to run it, I get this error.</p>\n<p>How Im trying to get the KeyStore.</p>\n<pre><code>        InputStream keyInput = classLoader.getResourceAsStream(&quot;certfile/cert.p12&quot;);\n\n        KeyStore keyStore = KeyStore.getInstance(&quot;PKCS12&quot;);\n        keyStore.load(keyInput, p12password.toCharArray());\n        keyInput.close();\n</code></pre>\n<p>How i built my cert</p>\n<pre><code>openssl pkcs12 -export -out cert.p12 -in cert_crt.pem -inkey cert_key.pem -passout pass: 123456\n</code></pre>\n<p>I alredy tried to convert it to .jks. I did try to exclue it from filtering on .pom with:</p>\n<pre><code>&lt;resources&gt;\n&lt;resource&gt;\n    &lt;directory&gt;src/main/resources&lt;/directory&gt;\n    &lt;filtering&gt;true&lt;/filtering&gt;\n    &lt;excludes&gt;\n        &lt;exclude&gt;**/*.p12&lt;/exclude&gt;\n    &lt;/excludes&gt;\n&lt;/resource&gt;\n&lt;resource&gt;\n    &lt;directory&gt;src/main/resources&lt;/directory&gt;\n    &lt;filtering&gt;false&lt;/filtering&gt;\n    &lt;includes&gt;\n        &lt;include&gt;**/*.p12&lt;/include&gt;\n    &lt;/includes&gt;\n&lt;/resource&gt;\n</code></pre>\n\n<p>Nothing seems to work.</p>\n<p>Obs.: It only happens after I built the project, it run normal if I execute the main class on the IDE.</p>\n"},{"tags":["java","quarkus","quarkus-qute"],"answers":[{"tags":[],"owner":{"account_id":22763698,"reputation":11,"user_id":16922093,"display_name":"kevin.conner"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643048780,"creation_date":1643048780,"answer_id":70838673,"question_id":70632082,"body_markdown":"I had the same issue.  From the documentation: \r\n\r\n&gt; However, the keys cannot be used directly.\r\n&gt; Instead, a prefix is used to avoid possible collisions with variables\r\n&gt; from the outer scope. By default, the alias of an iterated element\r\n&gt; suffixed with an underscore is used as a prefix. For example, the\r\n&gt; hasNext key must be prefixed with it_ inside an {#each} section:\r\n&gt; {it_hasNext}.\r\n\r\nI had to update the `{count}` to `{it_count}` or `{item_count}` for my application after upgrading.\r\n\r\n    {#each items}\r\n      {it_count}. {it.name} \r\n      {#if it_hasNext}&lt;br&gt;{/if} \r\n    {/each}\r\n\r\nSimilarly for a for loop:\r\n\r\n    {#for item in items}\r\n      {item_count}. {item.name} \r\n      {#if item_hasNext}&lt;br&gt;{/if} \r\n    {/each}\r\n\r\n[Quarkus reference][1]\r\n\r\n\r\n  [1]: https://quarkus.io/guides/qute-reference#loop_section","title":"quarkus qute: iteration metadata count, hasNext, ... not working","body":"<p>I had the same issue.  From the documentation:</p>\n<blockquote>\n<p>However, the keys cannot be used directly.\nInstead, a prefix is used to avoid possible collisions with variables\nfrom the outer scope. By default, the alias of an iterated element\nsuffixed with an underscore is used as a prefix. For example, the\nhasNext key must be prefixed with it_ inside an {#each} section:\n{it_hasNext}.</p>\n</blockquote>\n<p>I had to update the <code>{count}</code> to <code>{it_count}</code> or <code>{item_count}</code> for my application after upgrading.</p>\n<pre><code>{#each items}\n  {it_count}. {it.name} \n  {#if it_hasNext}&lt;br&gt;{/if} \n{/each}\n</code></pre>\n<p>Similarly for a for loop:</p>\n<pre><code>{#for item in items}\n  {item_count}. {item.name} \n  {#if item_hasNext}&lt;br&gt;{/if} \n{/each}\n</code></pre>\n<p><a href=\"https://quarkus.io/guides/qute-reference#loop_section\" rel=\"nofollow noreferrer\">Quarkus reference</a></p>\n"},{"tags":[],"owner":{"account_id":3138056,"reputation":1166,"user_id":2654154,"display_name":"Martin Kouba"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667914164,"creation_date":1667914164,"answer_id":74361553,"question_id":70632082,"body_markdown":"For the record - this breaking change got introduced in 2.5.0 and is documented in the [migration guide](https://github.com/quarkusio/quarkus/wiki/Migration-Guide-2.5#iteration-metadata-prefix). It&#39;s always good to read the migration guides! ;-)","title":"quarkus qute: iteration metadata count, hasNext, ... not working","body":"<p>For the record - this breaking change got introduced in 2.5.0 and is documented in the <a href=\"https://github.com/quarkusio/quarkus/wiki/Migration-Guide-2.5#iteration-metadata-prefix\" rel=\"nofollow noreferrer\">migration guide</a>. It's always good to read the migration guides! ;-)</p>\n"}],"owner":{"account_id":13610739,"reputation":21,"user_id":9818338,"display_name":"tom"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":457,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1667914164,"creation_date":1641642934,"question_id":70632082,"body_markdown":"When making the tutorial\r\n\r\nhttps://kubebyexample.com/en/learning-paths/developing-quarkus-kubernetes/templating-qute-templating-engine/rendering-periodic\r\n\r\nthe following error appears\r\n\r\n```\r\nquarkus.qute.TemplateException: Entry &quot;count&quot; not found in the data map in expression {count} in template reports/v1/report_01.json.template on line 5\r\n```\r\n\r\nConfiguration: Quarkus 2.6.1.Final, surefire-plugin 3.0.0-M5, compiler-plugin 3.8.1\r\n\r\nWhen removing the &quot;count&quot; from the json-template, it works perfect\r\n\r\nI tried also another example (from Sebastian Daschner)\r\n\r\nhttps://github.com/sdaschner/quarkus-playground/tree/qute-example/src/main/java/com/sebastian_daschner/entries\r\n\r\nThis works perfect with 1.3.1.Final but after updating to 2.6.1.Final the same error occurs.\r\n\r\nCan you pls help me.\r\nThomas","title":"quarkus qute: iteration metadata count, hasNext, ... not working","body":"<p>When making the tutorial</p>\n<p><a href=\"https://kubebyexample.com/en/learning-paths/developing-quarkus-kubernetes/templating-qute-templating-engine/rendering-periodic\" rel=\"nofollow noreferrer\">https://kubebyexample.com/en/learning-paths/developing-quarkus-kubernetes/templating-qute-templating-engine/rendering-periodic</a></p>\n<p>the following error appears</p>\n<pre><code>quarkus.qute.TemplateException: Entry &quot;count&quot; not found in the data map in expression {count} in template reports/v1/report_01.json.template on line 5\n</code></pre>\n<p>Configuration: Quarkus 2.6.1.Final, surefire-plugin 3.0.0-M5, compiler-plugin 3.8.1</p>\n<p>When removing the &quot;count&quot; from the json-template, it works perfect</p>\n<p>I tried also another example (from Sebastian Daschner)</p>\n<p><a href=\"https://github.com/sdaschner/quarkus-playground/tree/qute-example/src/main/java/com/sebastian_daschner/entries\" rel=\"nofollow noreferrer\">https://github.com/sdaschner/quarkus-playground/tree/qute-example/src/main/java/com/sebastian_daschner/entries</a></p>\n<p>This works perfect with 1.3.1.Final but after updating to 2.6.1.Final the same error occurs.</p>\n<p>Can you pls help me.\nThomas</p>\n"},{"tags":["java","android","xml"],"comments":[{"owner":{"account_id":6513889,"reputation":609,"user_id":5040323,"accept_rate":75,"display_name":"Shivanshu Verma"},"score":2,"creation_date":1667911875,"post_id":74360837,"comment_id":131276359,"body_markdown":"btn=findViewById(R.id.button);","body":"btn=findViewById(R.id.button);"},{"owner":{"account_id":18702501,"reputation":23,"user_id":13634409,"display_name":"Hatem Darwish"},"score":0,"creation_date":1667915131,"post_id":74360837,"comment_id":131277779,"body_markdown":"Does this answer your question? [findViewByID returns null](https://stackoverflow.com/questions/3264610/findviewbyid-returns-null)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/3264610/findviewbyid-returns-null\">findViewByID returns null</a>"}],"answers":[{"tags":[],"owner":{"account_id":14064733,"reputation":3952,"user_id":10159898,"display_name":"Bruno"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667912791,"creation_date":1667912791,"answer_id":74361258,"question_id":74360837,"body_markdown":"    btn.findViewById(R.id.button);\r\n\r\nYou&#39;re not supposed to use it this way because `btn` is null at this point.\r\nYou have to do the following:\r\n\r\n    btn = (Button)findViewById(R.id.button);","title":"Cannot find the element by Id in the mainActivityJava","body":"<pre><code>btn.findViewById(R.id.button);\n</code></pre>\n<p>You're not supposed to use it this way because <code>btn</code> is null at this point.\nYou have to do the following:</p>\n<pre><code>btn = (Button)findViewById(R.id.button);\n</code></pre>\n"}],"owner":{"account_id":22508111,"reputation":25,"user_id":16703400,"display_name":"Mohammad Reza Zolfaghari"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74361258,"answer_count":1,"score":0,"last_activity_date":1667912791,"creation_date":1667910772,"question_id":74360837,"body_markdown":"I want to select the button element by ID, but when I run the program, I get the app keeps stopping error.\r\nI ran the program in debug mode and the error Caused by: \r\n\r\n``` java.lang.NullPointerException: Attempt to invoke virtual method &#39;android.view.View android.widget.Button.findViewById(int)&#39; on a null object reference ```\r\n\r\nEven when I click on `R.id.button`, the button element is displayed in the xml file.\r\n\r\nmainActivityFile : \r\n```\r\npackage com.example.app;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.annotation.SuppressLint;\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\npublic class MainActivity6 extends AppCompatActivity {\r\n\r\n    private Button btn;\r\n     private TextView txt;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main6);\r\n\r\n        btn.findViewById(R.id.button);\r\n        txt.findViewById(R.id.txt);\r\n\r\n        btn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                txt.setText(&quot;This is a new text.&quot;);\r\n            }\r\n        });\r\n\r\n\r\n       // Toast.makeText(this, &quot;str&quot;, Toast.LENGTH_LONG).show();\r\n    }\r\n}\r\n```\r\nxml file : \r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:orientation=&quot;vertical&quot;\r\n    tools:context=&quot;.MainActivity6&quot;&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/txt&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_gravity=&quot;center&quot;\r\n        android:layout_marginTop=&quot;10dp&quot;\r\n        android:autoSizeTextType=&quot;uniform&quot;\r\n        android:autoSizeMinTextSize=&quot;25sp&quot;\r\n        android:autoSizeMaxTextSize=&quot;100dp&quot;\r\n        android:autoSizeStepGranularity=&quot;2sp&quot;\r\n        android:layout_height=&quot;wrap_content&quot; /&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/button&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;Button&quot; /&gt;\r\n&lt;/LinearLayout&gt;\r\n```\r\n","title":"Cannot find the element by Id in the mainActivityJava","body":"<p>I want to select the button element by ID, but when I run the program, I get the app keeps stopping error.\nI ran the program in debug mode and the error Caused by:</p>\n<p><code>java.lang.NullPointerException: Attempt to invoke virtual method 'android.view.View android.widget.Button.findViewById(int)' on a null object reference</code></p>\n<p>Even when I click on <code>R.id.button</code>, the button element is displayed in the xml file.</p>\n<p>mainActivityFile :</p>\n<pre><code>package com.example.app;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.annotation.SuppressLint;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\npublic class MainActivity6 extends AppCompatActivity {\n\n    private Button btn;\n     private TextView txt;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main6);\n\n        btn.findViewById(R.id.button);\n        txt.findViewById(R.id.txt);\n\n        btn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                txt.setText(&quot;This is a new text.&quot;);\n            }\n        });\n\n\n       // Toast.makeText(this, &quot;str&quot;, Toast.LENGTH_LONG).show();\n    }\n}\n</code></pre>\n<p>xml file :</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:orientation=&quot;vertical&quot;\n    tools:context=&quot;.MainActivity6&quot;&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/txt&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_gravity=&quot;center&quot;\n        android:layout_marginTop=&quot;10dp&quot;\n        android:autoSizeTextType=&quot;uniform&quot;\n        android:autoSizeMinTextSize=&quot;25sp&quot;\n        android:autoSizeMaxTextSize=&quot;100dp&quot;\n        android:autoSizeStepGranularity=&quot;2sp&quot;\n        android:layout_height=&quot;wrap_content&quot; /&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/button&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;Button&quot; /&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n"},{"tags":["java","rest","versioning","api-versioning"],"comments":[{"owner":{"account_id":1449614,"reputation":827,"user_id":1366937,"display_name":"Perdi Estaquel"},"score":0,"creation_date":1540334883,"post_id":52958734,"comment_id":92824862,"body_markdown":"Do you really need a new version? Would not an extension of the current one be enough? Then afterwards you can deprecate piecemeal bits as desired.","body":"Do you really need a new version? Would not an extension of the current one be enough? Then afterwards you can deprecate piecemeal bits as desired."},{"owner":{"account_id":2311868,"reputation":3097,"user_id":2029822,"display_name":"Lee Irvine"},"score":0,"creation_date":1540335203,"post_id":52958734,"comment_id":92824936,"body_markdown":"Agree with comment above. You are going to fast. The safe approach will be to build a hybrid v1/v2, and slowly deprecate v1 stuff until the v1 and v2 can be separated without risk to the live application.","body":"Agree with comment above. You are going to fast. The safe approach will be to build a hybrid v1/v2, and slowly deprecate v1 stuff until the v1 and v2 can be separated without risk to the live application."}],"answers":[{"tags":[],"owner":{"account_id":5091902,"reputation":1271,"user_id":4084697,"display_name":"Eric Green"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1540335377,"creation_date":1540335377,"answer_id":52958867,"question_id":52958734,"body_markdown":"If I were faced with the situation you speak of, I would first try to keep my new version (v2) backward compatible with my first version (v1). If that were the case, you could just add functionality and update your API documentation, keeping only one active code base. I would think you could even add things to the response payload as long as the data coming back would not break anyone&#39;s code - sort of like adding fields to an existing database schema.\r\n\r\nIf v2 was not backward compatible with v1, you could possibly move v1 to another server and notify your users that it is being placed there for a stated, limited period to give them time to make code changes necessary to switch to v2, but also notify them that this version is no longer being updated and if they have issues, they will need to switch to the new version. Hence, v2 is the HEAD version of your code base with no other branches under active development.\r\n\r\nI hope this helps and offers something you didn&#39;t already think of.","title":"REST API: Multiple versions, single application?","body":"<p>If I were faced with the situation you speak of, I would first try to keep my new version (v2) backward compatible with my first version (v1). If that were the case, you could just add functionality and update your API documentation, keeping only one active code base. I would think you could even add things to the response payload as long as the data coming back would not break anyone's code - sort of like adding fields to an existing database schema.</p>\n\n<p>If v2 was not backward compatible with v1, you could possibly move v1 to another server and notify your users that it is being placed there for a stated, limited period to give them time to make code changes necessary to switch to v2, but also notify them that this version is no longer being updated and if they have issues, they will need to switch to the new version. Hence, v2 is the HEAD version of your code base with no other branches under active development.</p>\n\n<p>I hope this helps and offers something you didn't already think of.</p>\n"},{"tags":[],"owner":{"account_id":1464652,"reputation":12323,"user_id":1377895,"accept_rate":100,"display_name":"Roman Vottner"},"down_vote_count":5,"up_vote_count":0,"is_accepted":false,"score":-5,"last_activity_date":1540341111,"creation_date":1540341111,"answer_id":52959537,"question_id":52958734,"body_markdown":"The v1/v2 dilemma is a strong hint that you actually do not have a REST API to start with. Peers in a REST architecture exchange more or less standardized content by clients requesting representations of media-types they understand. This technique is called content-type negotiation. Of course, a badly written server may ignore proposed media-types and send one the client does not understand. This will, though, prevent the client from interacting with the server further. A well-behaved server therefore should attempt to serve a client request as best as it can.\r\n\r\nAccording to Fielding:\r\n\r\n&gt; A REST API should spend almost all of its descriptive effort in defining the media type(s) used for representing resources and driving application state, or in defining extended relation names and/or hypertext-enabled mark-up for existing standard media types. Any effort spent describing what methods to use on what URIs of interest should be entirely defined within the scope of the processing rules for a media type (and, in most cases, already defined by existing media types). [*Failure here implies that out-of-band information is driving interaction instead of hypertext*.] &lt;br&gt;[Source](https://roy.gbiv.com/untangled/2008/rest-apis-must-be-hypertext-driven)\r\n\r\nA media type describes how the syntax of a payload exchanged for such a media-type looks like as well as the semantics each element in that representation has. With the help of meaningful link relation names and media types a server can teach a client on the next options available a client can make use of while progressing through its task. I.e. think of a case where a previous response contained a link relation `create` to the client. The client does not really know how something has to look like in order to be processable by the server, thoug on invoking the URI returned for the `create` link relation name the server responds with a form like representation along the line of `application/vnd.xyz-form+json` where this media type defines some input controls the client can use in order to generate a request representation expected by the server on the target endpoint. Similar to the Web the custom form also contains a HTTP action as well as a target URI provided by the client to send the response to and eventually also the representation preferred by the server.\r\n\r\nClients in a REST architecture shouldn&#39;t care about the URI, so returning an URI containing either `v1` or `v2` should be more or less meaningless to them. Fielding even stated that [a REST API itself shouldn&#39;t be versioned at all](https://www.slideshare.net/evolve_conference/201308-fielding-evolve/31)! What is important though is that the client and server are able to understand the payload received. \r\n\r\nInstead of versioning the URI or API, the media type describing the syntax and semantic actually need to be versioned. I.e. if you take a look at the browser based Web (the big sibling of REST) and here HTML in particular you will notice that it is designed in a way to require new version to stay backwards compatible. I.e. client and server receiving a `text/html` defined payload will be able to handle pure HTML (1.0) up to HTML5 content regardless which actuall syntax (maybe even a mixture) was used. Other media types, however, might not be that lenient. Here you could either make use of profiles or register a whole new media-type if you think the old and new one are completly incompatible to each other.\r\n\r\nEither way, I hope I could shed a bit more light on REST architecture and how you might get there. I am well aware that my suggestion may not be easy to achieve, though once you got it you basically decoupled clients from your API and gave the latter one freedom to evolve while not having to fear breaking clients. There will still be a coupling but both, client and server, will couple to the media types rather than to each other. Before creating a new media-type it is probably worth looking for [already existing ones](https://www.iana.org/assignments/media-types/media-types.xhtml)\r\n\r\n\r\n\r\n","title":"REST API: Multiple versions, single application?","body":"<p>The v1/v2 dilemma is a strong hint that you actually do not have a REST API to start with. Peers in a REST architecture exchange more or less standardized content by clients requesting representations of media-types they understand. This technique is called content-type negotiation. Of course, a badly written server may ignore proposed media-types and send one the client does not understand. This will, though, prevent the client from interacting with the server further. A well-behaved server therefore should attempt to serve a client request as best as it can.</p>\n\n<p>According to Fielding:</p>\n\n<blockquote>\n  <p>A REST API should spend almost all of its descriptive effort in defining the media type(s) used for representing resources and driving application state, or in defining extended relation names and/or hypertext-enabled mark-up for existing standard media types. Any effort spent describing what methods to use on what URIs of interest should be entirely defined within the scope of the processing rules for a media type (and, in most cases, already defined by existing media types). [<em>Failure here implies that out-of-band information is driving interaction instead of hypertext</em>.] <br><a href=\"https://roy.gbiv.com/untangled/2008/rest-apis-must-be-hypertext-driven\" rel=\"nofollow noreferrer\">Source</a></p>\n</blockquote>\n\n<p>A media type describes how the syntax of a payload exchanged for such a media-type looks like as well as the semantics each element in that representation has. With the help of meaningful link relation names and media types a server can teach a client on the next options available a client can make use of while progressing through its task. I.e. think of a case where a previous response contained a link relation <code>create</code> to the client. The client does not really know how something has to look like in order to be processable by the server, thoug on invoking the URI returned for the <code>create</code> link relation name the server responds with a form like representation along the line of <code>application/vnd.xyz-form+json</code> where this media type defines some input controls the client can use in order to generate a request representation expected by the server on the target endpoint. Similar to the Web the custom form also contains a HTTP action as well as a target URI provided by the client to send the response to and eventually also the representation preferred by the server.</p>\n\n<p>Clients in a REST architecture shouldn't care about the URI, so returning an URI containing either <code>v1</code> or <code>v2</code> should be more or less meaningless to them. Fielding even stated that <a href=\"https://www.slideshare.net/evolve_conference/201308-fielding-evolve/31\" rel=\"nofollow noreferrer\">a REST API itself shouldn't be versioned at all</a>! What is important though is that the client and server are able to understand the payload received. </p>\n\n<p>Instead of versioning the URI or API, the media type describing the syntax and semantic actually need to be versioned. I.e. if you take a look at the browser based Web (the big sibling of REST) and here HTML in particular you will notice that it is designed in a way to require new version to stay backwards compatible. I.e. client and server receiving a <code>text/html</code> defined payload will be able to handle pure HTML (1.0) up to HTML5 content regardless which actuall syntax (maybe even a mixture) was used. Other media types, however, might not be that lenient. Here you could either make use of profiles or register a whole new media-type if you think the old and new one are completly incompatible to each other.</p>\n\n<p>Either way, I hope I could shed a bit more light on REST architecture and how you might get there. I am well aware that my suggestion may not be easy to achieve, though once you got it you basically decoupled clients from your API and gave the latter one freedom to evolve while not having to fear breaking clients. There will still be a coupling but both, client and server, will couple to the media types rather than to each other. Before creating a new media-type it is probably worth looking for <a href=\"https://www.iana.org/assignments/media-types/media-types.xhtml\" rel=\"nofollow noreferrer\">already existing ones</a></p>\n"},{"tags":[],"owner":{"account_id":3107006,"reputation":10136,"user_id":2629588,"accept_rate":50,"display_name":"Sankarganesh Eswaran"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1540382258,"creation_date":1540382258,"answer_id":52968432,"question_id":52958734,"body_markdown":"Hope you have seen \r\n\r\n&gt; 1. https://stackoverflow.com/questions/8907512/api-design-ensuring-backward-compatibility\r\n&gt; 2. http://static.googleusercontent.com/media/research.google.com/en//pubs/archive/32713.pdf\r\n\r\n\r\nHaving two versions of API in the same application is quiet enough\r\n\r\n&gt; api.mysite.com/[version1]/api/url\r\n&gt; \r\n&gt; api.mysite.com/[version2]/api/url\r\n\r\nNot sure why you need to build and deploy v1 and v2 as separate applications? Unless you are planning for a Zero-Down-time rolling upgrade in production","title":"REST API: Multiple versions, single application?","body":"<p>Hope you have seen </p>\n\n<blockquote>\n  <ol>\n  <li><a href=\"https://stackoverflow.com/questions/8907512/api-design-ensuring-backward-compatibility\">API design ensuring backward compatibility</a></li>\n  <li><a href=\"http://static.googleusercontent.com/media/research.google.com/en//pubs/archive/32713.pdf\" rel=\"nofollow noreferrer\">http://static.googleusercontent.com/media/research.google.com/en//pubs/archive/32713.pdf</a></li>\n  </ol>\n</blockquote>\n\n<p>Having two versions of API in the same application is quiet enough</p>\n\n<blockquote>\n  <p>api.mysite.com/[version1]/api/url</p>\n  \n  <p>api.mysite.com/[version2]/api/url</p>\n</blockquote>\n\n<p>Not sure why you need to build and deploy v1 and v2 as separate applications? Unless you are planning for a Zero-Down-time rolling upgrade in production</p>\n"},{"tags":[],"owner":{"account_id":1605316,"reputation":8784,"user_id":1485527,"accept_rate":100,"display_name":"jschnasse"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667912489,"creation_date":1561449657,"answer_id":56749424,"question_id":52958734,"body_markdown":"I like to bring up the following strategies into the discussion, and both are strategies in [continuous delivery][1].\r\n\r\n**Branch Abstraction**\r\n\r\nThe basic idea is to place an abstract layer in between the clients and your current implementation. Then introduce a second implementation behind the abstract layer. This gives you the opportunity to progress within your normal code base but support new features for your next version API instantly.\r\n\r\nSee *[BranchByAbstraction][2]*.\r\n\r\n**Feature Toggles**\r\n\r\nAdd features to your code base without making them visible to your customers. This allows you stay on your main development branch even if things are not ready for end users yet.\r\n\r\nSee *[Feature Toggles (aka Feature Flags)][3]*\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Continuous_delivery\r\n  [2]: https://martinfowler.com/bliki/BranchByAbstraction.html\r\n  [3]: https://martinfowler.com/articles/feature-toggles.html\r\n\r\n","title":"REST API: Multiple versions, single application?","body":"<p>I like to bring up the following strategies into the discussion, and both are strategies in <a href=\"https://en.wikipedia.org/wiki/Continuous_delivery\" rel=\"nofollow noreferrer\">continuous delivery</a>.</p>\n<p><strong>Branch Abstraction</strong></p>\n<p>The basic idea is to place an abstract layer in between the clients and your current implementation. Then introduce a second implementation behind the abstract layer. This gives you the opportunity to progress within your normal code base but support new features for your next version API instantly.</p>\n<p>See <em><a href=\"https://martinfowler.com/bliki/BranchByAbstraction.html\" rel=\"nofollow noreferrer\">BranchByAbstraction</a></em>.</p>\n<p><strong>Feature Toggles</strong></p>\n<p>Add features to your code base without making them visible to your customers. This allows you stay on your main development branch even if things are not ready for end users yet.</p>\n<p>See <em><a href=\"https://martinfowler.com/articles/feature-toggles.html\" rel=\"nofollow noreferrer\">Feature Toggles (aka Feature Flags)</a></em></p>\n"},{"tags":[],"owner":{"account_id":2344069,"reputation":128,"user_id":2054918,"display_name":"Amega"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1667912734,"creation_date":1625561892,"answer_id":68267490,"question_id":52958734,"body_markdown":"I&#39;m also now facing such task, and still having no useful answers.\r\n\r\nThough I believe having separate v1 and v2 instances in parallel can still be at least a fallback-solution, I&#39;m currently thinking about a scheme for a single application, which will heavily use the benefits of [dependency injection][1] in the application.\r\n\r\nSo, basically idea is to configure your [IoC][2] container accordingly to a received request, so that each and every service would receive a needed version of its dependencies. This can theoretically be a good solution, but it requires an already near to ideal architecture of your application (which is often not the case) where all the [concerns are separated][3], etc. As [SOLID][4] as possible, in other words.\r\n\r\nAt least with this approach, you&#39;ll be able to quickly identify all the components of your codebase which require refactoring, though making the whole process not a quick one. Besides, I believe the closer changes approach the core of the application, the more difficult parallel versioning may be, but we will see.\r\n\r\nI should point out once more, that for me it&#39;s still just an idea which I&#39;m going to research further specifically for my project, so I&#39;m not sure how easy or problematic it will be in fact.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Dependency_injection\r\n  [2]: https://en.wikipedia.org/wiki/Inversion_of_control\r\n  [3]: https://en.wikipedia.org/wiki/Separation_of_concerns\r\n  [4]: https://en.wikipedia.org/wiki/SOLID_%28object-oriented_design%29\r\n\r\n\r\n\r\n","title":"REST API: Multiple versions, single application?","body":"<p>I'm also now facing such task, and still having no useful answers.</p>\n<p>Though I believe having separate v1 and v2 instances in parallel can still be at least a fallback-solution, I'm currently thinking about a scheme for a single application, which will heavily use the benefits of <a href=\"https://en.wikipedia.org/wiki/Dependency_injection\" rel=\"nofollow noreferrer\">dependency injection</a> in the application.</p>\n<p>So, basically idea is to configure your <a href=\"https://en.wikipedia.org/wiki/Inversion_of_control\" rel=\"nofollow noreferrer\">IoC</a> container accordingly to a received request, so that each and every service would receive a needed version of its dependencies. This can theoretically be a good solution, but it requires an already near to ideal architecture of your application (which is often not the case) where all the <a href=\"https://en.wikipedia.org/wiki/Separation_of_concerns\" rel=\"nofollow noreferrer\">concerns are separated</a>, etc. As <a href=\"https://en.wikipedia.org/wiki/SOLID_%28object-oriented_design%29\" rel=\"nofollow noreferrer\">SOLID</a> as possible, in other words.</p>\n<p>At least with this approach, you'll be able to quickly identify all the components of your codebase which require refactoring, though making the whole process not a quick one. Besides, I believe the closer changes approach the core of the application, the more difficult parallel versioning may be, but we will see.</p>\n<p>I should point out once more, that for me it's still just an idea which I'm going to research further specifically for my project, so I'm not sure how easy or problematic it will be in fact.</p>\n"}],"owner":{"account_id":3912994,"reputation":837,"user_id":3237736,"accept_rate":43,"display_name":"user3237736"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14636,"favorite_count":0,"down_vote_count":2,"up_vote_count":22,"closed_date":1625591963,"answer_count":5,"score":20,"last_activity_date":1667912734,"creation_date":1540334262,"question_id":52958734,"body_markdown":"I am working on a REST API where I will have to introduce some breaking changes soon, so a v2 is needed. We still need to support v1 for a couple of months though in parallel, to give our clients time to switch over to the new API whenever they are ready. Our API is offered via shared cloud, and all our clients share the same system backend, especially a single, shared database. \r\n\r\nI have found a lot of articles about REST API versioning, but they were all more from a client&#39;s point of view, or high-level design point of view. That&#39;s not really my concern, our API already has a versioning in the URI, so offering services with a /v2 base path won&#39;t be aproblem.\r\n\r\nHowever I am asking myself how I am actually going to implement this, and I haven&#39;t really found good articles on that. I don&#39;t really want to branch off a v2 of my project and then build and deploy v1 and v2 as separate applications, because then I would have maintenance, bugfixing, configuration changes etc in two applications, which is double work and carries the usual dangers of redundancy (i.e.: possible inconsistencies between the versions). Also, the v2 of course is not different in every service, so most of the code would still be the same.\r\n\r\nIs there any best practices on how to technically implement a REST API in a single application that provides multiple versions to the outside, and where some code is shared (i.e.: v2/someService would internally redirect to v1/someService), and just the actual differences are coded in new services? Maybe there&#39;s even frameworks that help with designing this? The app is coded in Java with Spring MVC if that&#39;s helpful. \r\n\r\nI&#39;m thankful for any tips or resources on how to tackle this. Thanks!\r\n\r\n\r\n","title":"REST API: Multiple versions, single application?","body":"<p>I am working on a REST API where I will have to introduce some breaking changes soon, so a v2 is needed. We still need to support v1 for a couple of months though in parallel, to give our clients time to switch over to the new API whenever they are ready. Our API is offered via shared cloud, and all our clients share the same system backend, especially a single, shared database. </p>\n\n<p>I have found a lot of articles about REST API versioning, but they were all more from a client's point of view, or high-level design point of view. That's not really my concern, our API already has a versioning in the URI, so offering services with a /v2 base path won't be aproblem.</p>\n\n<p>However I am asking myself how I am actually going to implement this, and I haven't really found good articles on that. I don't really want to branch off a v2 of my project and then build and deploy v1 and v2 as separate applications, because then I would have maintenance, bugfixing, configuration changes etc in two applications, which is double work and carries the usual dangers of redundancy (i.e.: possible inconsistencies between the versions). Also, the v2 of course is not different in every service, so most of the code would still be the same.</p>\n\n<p>Is there any best practices on how to technically implement a REST API in a single application that provides multiple versions to the outside, and where some code is shared (i.e.: v2/someService would internally redirect to v1/someService), and just the actual differences are coded in new services? Maybe there's even frameworks that help with designing this? The app is coded in Java with Spring MVC if that's helpful. </p>\n\n<p>I'm thankful for any tips or resources on how to tackle this. Thanks!</p>\n"},{"tags":["java","spring","tomcat7","applicationcontext"],"comments":[{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1455778645,"post_id":35474592,"comment_id":58644067,"body_markdown":"Circular reference to WHAT? Show the complete error message/stack trace.","body":"Circular reference to WHAT? Show the complete error message/stack trace."},{"owner":{"account_id":188003,"reputation":1064,"user_id":426463,"display_name":"trappski"},"score":0,"creation_date":1455778658,"post_id":35474592,"comment_id":58644075,"body_markdown":"This needs a lote more informations. An empty context and vague descritpion doesn&#39;t help.","body":"This needs a lote more informations. An empty context and vague descritpion doesn&#39;t help."},{"owner":{"account_id":6728011,"reputation":293,"user_id":5185333,"display_name":"Vishnu Katpure"},"score":0,"creation_date":1455778998,"post_id":35474592,"comment_id":58644234,"body_markdown":"@trappski please check applocationContext.xml","body":"@trappski please check applocationContext.xml"},{"owner":{"account_id":6728011,"reputation":293,"user_id":5185333,"display_name":"Vishnu Katpure"},"score":0,"creation_date":1455779025,"post_id":35474592,"comment_id":58644247,"body_markdown":"@JimGarrison check StackTrace","body":"@JimGarrison check StackTrace"},{"owner":{"account_id":7677535,"reputation":10742,"user_id":5817888,"accept_rate":33,"display_name":"J&#233;r&#233;mie B"},"score":0,"creation_date":1455779064,"post_id":35474592,"comment_id":58644261,"body_markdown":"If you read your own stacktrace, you&#39;ll see an issue with &#39;customGrexMapper&#39;. I don&#39;t see any reference in your question about this bean.","body":"If you read your own stacktrace, you&#39;ll see an issue with &#39;customGrexMapper&#39;. I don&#39;t see any reference in your question about this bean."},{"owner":{"account_id":6728011,"reputation":293,"user_id":5185333,"display_name":"Vishnu Katpure"},"score":0,"creation_date":1455779148,"post_id":35474592,"comment_id":58644293,"body_markdown":"@J&#233;r&#233;mieB why working on 4 different environment but not only Production ?","body":"@J&#233;r&#233;mieB why working on 4 different environment but not only Production ?"},{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1455779166,"post_id":35474592,"comment_id":58644303,"body_markdown":"Please carefully read ALL the &quot;caused by&quot; exception messages. They contain suggestions on what to do.  As to why if fails in production but not other environments, CLEARLY production does not mirror EXACTLY the environment available in the deployment workflow systems.  Something is different in production.","body":"Please carefully read ALL the &quot;caused by&quot; exception messages. They contain suggestions on what to do.  As to why if fails in production but not other environments, CLEARLY production does not mirror EXACTLY the environment available in the deployment workflow systems.  Something is different in production."},{"owner":{"account_id":6728011,"reputation":293,"user_id":5185333,"display_name":"Vishnu Katpure"},"score":0,"creation_date":1455779275,"post_id":35474592,"comment_id":58644348,"body_markdown":"#All please read my question tiltle i already solve this.","body":"#All please read my question tiltle i already solve this."},{"owner":{"account_id":6728011,"reputation":293,"user_id":5185333,"display_name":"Vishnu Katpure"},"score":0,"creation_date":1456144080,"post_id":35474592,"comment_id":58795164,"body_markdown":"@trappski have u found any solution?","body":"@trappski have u found any solution?"},{"owner":{"account_id":188003,"reputation":1064,"user_id":426463,"display_name":"trappski"},"score":0,"creation_date":1456169068,"post_id":35474592,"comment_id":58812358,"body_markdown":"Well... The proper solution is to fix the circular dependency in the first place. It is obviously there even if it shows up only in one environment. Meaning you probably do have som difference in the configuration somewhere. And where are the beans in error defined? Can&#39;t find them in the posted context.","body":"Well... The proper solution is to fix the circular dependency in the first place. It is obviously there even if it shows up only in one environment. Meaning you probably do have som difference in the configuration somewhere. And where are the beans in error defined? Can&#39;t find them in the posted context."},{"owner":{"account_id":6728011,"reputation":293,"user_id":5185333,"display_name":"Vishnu Katpure"},"score":0,"creation_date":1456919966,"post_id":35474592,"comment_id":59166438,"body_markdown":"@trappski check this line &lt;context:component-scan base-package=&quot;in.test.server&quot;&gt;","body":"@trappski check this line &lt;context:component-scan base-package=&quot;in.test.server&quot;&gt;"}],"answers":[{"tags":[],"owner":{"account_id":301230,"reputation":28997,"user_id":608820,"accept_rate":89,"display_name":"Augusto"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1455789477,"creation_date":1455789477,"answer_id":35478198,"question_id":35474592,"body_markdown":"I had exactly this problem a while ago. Spring is a bit random in the order it wires dependencies, so in some cases an application would start... and in production it would fail with this error. \r\n\r\nThe problem was a really bad practice promoted by spring until a year or two ago... the problem? Use setter / @Autowired on fields for injection rather than constructor injection. The issue we had, was that we were slowly migrating the configuration to constructor injection, and we opened ourselves to this issue, as we had a mix of the two. The issue depends on which bean is instantiated first. I cannot remember properly now, but I think that if the bean using constructor injection is instantiated first, the error would appear, but if bean using setter injection was instantiated first, the the error would happen. In this case, we should have done all of the work in one go. When everything uses constructor injection, the issue can be replicated in all environments. \r\n\r\nThe solution is simple: dependency cycles are a symptom of an issue with the design of the classes. You have to find what the cycle is and cut it. It&#39;s not a problem with Spring, but rather one within your application.","title":"Why Spring circular reference for Autowire issue on Production Environment Only?","body":"<p>I had exactly this problem a while ago. Spring is a bit random in the order it wires dependencies, so in some cases an application would start... and in production it would fail with this error. </p>\n\n<p>The problem was a really bad practice promoted by spring until a year or two ago... the problem? Use setter / @Autowired on fields for injection rather than constructor injection. The issue we had, was that we were slowly migrating the configuration to constructor injection, and we opened ourselves to this issue, as we had a mix of the two. The issue depends on which bean is instantiated first. I cannot remember properly now, but I think that if the bean using constructor injection is instantiated first, the error would appear, but if bean using setter injection was instantiated first, the the error would happen. In this case, we should have done all of the work in one go. When everything uses constructor injection, the issue can be replicated in all environments. </p>\n\n<p>The solution is simple: dependency cycles are a symptom of an issue with the design of the classes. You have to find what the cycle is and cut it. It's not a problem with Spring, but rather one within your application.</p>\n"},{"tags":[],"owner":{"account_id":8869397,"reputation":301,"user_id":6623509,"display_name":"Monkey D. Luffy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1512065424,"creation_date":1512065424,"answer_id":47579975,"question_id":35474592,"body_markdown":"Just now i have faced this issue and resolved by moving the required methods into one class and exposed it using @service annotation hence the issue has been resolved. This approach might be naive but solves the problem.\r\n\r\nClass with all the methods/functions needed:\r\n\r\n    @ Service\r\n    public class Class1\r\n    {\r\n        /% Method 1 %/\r\n        /% Method 2 %/\r\n        /% Method 3 %/\r\n        /% Method 4 %/\r\n    }\r\n\r\nAutowired Class 1.\r\n\r\n    public class Class2\r\n    {\r\n        @ Autowired\r\n    \tprivate Class1 class1;\r\n        /% class1.Method1() %/\r\n        /% class1.Method1() %/\r\n        .\r\n        .\r\n        .\r\n    }","title":"Why Spring circular reference for Autowire issue on Production Environment Only?","body":"<p>Just now i have faced this issue and resolved by moving the required methods into one class and exposed it using @service annotation hence the issue has been resolved. This approach might be naive but solves the problem.</p>\n\n<p>Class with all the methods/functions needed:</p>\n\n<pre><code>@ Service\npublic class Class1\n{\n    /% Method 1 %/\n    /% Method 2 %/\n    /% Method 3 %/\n    /% Method 4 %/\n}\n</code></pre>\n\n<p>Autowired Class 1.</p>\n\n<pre><code>public class Class2\n{\n    @ Autowired\n    private Class1 class1;\n    /% class1.Method1() %/\n    /% class1.Method1() %/\n    .\n    .\n    .\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15375039,"reputation":508,"user_id":11092008,"display_name":"Shapur"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667912533,"creation_date":1667912533,"answer_id":74361194,"question_id":35474592,"body_markdown":"Use @Lazy annotation for constructor dependency injection.","title":"Why Spring circular reference for Autowire issue on Production Environment Only?","body":"<p>Use @Lazy annotation for constructor dependency injection.</p>\n"}],"owner":{"account_id":6728011,"reputation":293,"user_id":5185333,"display_name":"Vishnu Katpure"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8804,"favorite_count":0,"down_vote_count":3,"up_vote_count":4,"answer_count":3,"score":1,"last_activity_date":1667912533,"creation_date":1455777800,"question_id":35474592,"body_markdown":"\t\r\n**#All please read my question tiltle i already solve this**\r\n\r\nSpring circular reference working on Local , UAT , DEMO , STAGGING environment But not on Production Environment only.\r\nall environment having same configuration\r\n\r\n&gt;  1 JDK : 1.7.0.79\r\n&gt; \r\n&gt; 2.Tomcat 7.0\r\n\r\napplicationContext.xml\r\n\r\n\r\n        &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n        &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n        \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n        \txmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot; xmlns:tx=&quot;http://www.springframework.org/schema/tx&quot;\r\n        \txmlns:p=&quot;http://www.springframework.org/schema/p&quot; xmlns:jee=&quot;http://www.springframework.org/schema/jee&quot;\r\n        \txmlns:task=&quot;http://www.springframework.org/schema/task&quot;\r\n        \txsi:schemaLocation=&quot;http://www.springframework.org/schema/jee http://www.springframework.org/schema/jee/spring-jee-3.2.xsd\r\n        \t\thttp://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc-3.2.xsd\r\n        \t\thttp://www.springframework.org/schema/task http://www.springframework.org/schema/task/spring-task-3.2.xsd\r\n        \t\thttp://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\r\n        \t\thttp://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-3.2.xsd\r\n        \t\thttp://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-3.2.xsd&quot;&gt;\r\n    &lt;context:component-scan base-package=&quot;in.test.server&quot;&gt;\r\n    \t&lt;/context:component-scan&gt;\r\n    \r\n    \t&lt;context:annotation-config /&gt;\r\n    \t&lt;tx:annotation-driven transaction-manager=&quot;transactionManager&quot; /&gt;\r\n    \r\n    \t&lt;bean id=&quot;applicationProperties&quot;\r\n    \t\tclass=&quot;org.springframework.beans.factory.config.PropertiesFactoryBean&quot;&gt;\r\n    \t\t&lt;property name=&quot;locations&quot;&gt;\r\n    \t\t\t&lt;list&gt;\r\n    \t\t\t\t&lt;value&gt;classpath*:mail.properties&lt;/value&gt;\r\n    \t\t\t\t&lt;value&gt;classpath*:document_storage.properties&lt;/value&gt;\r\n    \t\t\t\t&lt;value&gt;classpath*:ekyc.properties&lt;/value&gt;\r\n    \t\t\t\t&lt;value&gt;classpath*:application_config.properties&lt;/value&gt;\r\n    \t\t\t\t&lt;value&gt;classpath*:messages.properties&lt;/value&gt;\r\n    \t\t\t\t&lt;value&gt;classpath*:invitation_codes.properties&lt;/value&gt;\r\n    \t\t\t\t&lt;value&gt;classpath*:capitalraise.properties&lt;/value&gt;\t\t\t\t\r\n    \t\t\t&lt;/list&gt;\r\n    \t\t&lt;/property&gt;\r\n    \t&lt;/bean&gt;\r\n    \r\n    \t&lt;bean id=&quot;propertyConfigurer&quot;\r\n    \t\tclass=&quot;org.springframework.beans.factory.config.PropertyPlaceholderConfigurer&quot;&gt;\r\n    \t\t&lt;property name=&quot;ignoreUnresolvablePlaceholders&quot; value=&quot;true&quot; /&gt;\r\n    \t\t&lt;property name=&quot;locations&quot;&gt;\r\n    \t\t\t&lt;list&gt;\r\n    \t\t\t\t&lt;value&gt;classpath*:mail.properties&lt;/value&gt;\r\n    \t\t\t\t&lt;value&gt;classpath*:application_config.properties&lt;/value&gt;\r\n    \t\t\t&lt;/list&gt;\r\n    \t\t&lt;/property&gt;\r\n    \t&lt;/bean&gt;\r\n    \r\n    \t&lt;bean id=&quot;dataSource&quot; class=&quot;org.apache.commons.dbcp.BasicDataSource&quot;&gt;\r\n    \t\t&lt;property name=&quot;driverClassName&quot; value=&quot;com.mysql.jdbc.Driver&quot; /&gt;\r\n    \t\t&lt;property name=&quot;url&quot; value=&quot;jdbc:mysql://localhost:3306/testdb_trunk&quot; /&gt;\r\n    \t\t&lt;property name=&quot;username&quot; value=&quot;root&quot; /&gt;\r\n    \t\t&lt;property name=&quot;password&quot; value=&quot;root&quot; /&gt;\r\n    \t\t&lt;property name=&quot;minIdle&quot; value=&quot;10&quot; /&gt;\r\n    \t\t&lt;property name=&quot;initialSize&quot; value=&quot;10&quot; /&gt;\r\n    \t\t&lt;property name=&quot;validationQuery&quot; value=&quot;SELECT 1 FROM DUAL&quot;/&gt;\r\n    \t&lt;/bean&gt;\r\n    \r\n    \t&lt;bean id=&quot;sessionFactory&quot;\r\n    \t\tclass=&quot;org.springframework.orm.hibernate4.LocalSessionFactoryBean&quot;&gt;\r\n    \t\t&lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot; /&gt;\r\n    \t\t&lt;property name=&quot;packagesToScan&quot; value=&quot;in.grex.server.datamodel&quot; /&gt;\r\n    \t\t&lt;property name=&quot;hibernateProperties&quot;&gt;\r\n    \t\t\t&lt;props&gt;\r\n    \t\t\t\t&lt;prop key=&quot;hibernate.hbm2ddl.auto&quot;&gt;update&lt;/prop&gt;\r\n    \t\t\t\t&lt;prop key=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.MySQLDialect&lt;/prop&gt;\r\n    \t\t\t&lt;/props&gt;\r\n    \t\t&lt;/property&gt;\r\n    \t&lt;/bean&gt;\r\n    \r\n    \t&lt;bean id=&quot;transactionManager&quot;\r\n    \t\tclass=&quot;org.springframework.orm.hibernate4.HibernateTransactionManager&quot;&gt;\r\n    \t\t&lt;property name=&quot;sessionFactory&quot; ref=&quot;sessionFactory&quot; /&gt;\r\n    \t&lt;/bean&gt;\r\n    \r\n    \t&lt;bean id=&quot;mailSender&quot; class=&quot;org.springframework.mail.javamail.JavaMailSenderImpl&quot;&gt;\r\n    \t\t&lt;property name=&quot;host&quot; value=&quot;smtp.gmail.com&quot; /&gt;\r\n    \t\t&lt;property name=&quot;port&quot; value=&quot;587&quot; /&gt;\r\n    \t\t&lt;property name=&quot;username&quot; value=&quot;${mail.mailAccount}&quot; /&gt;\r\n    \t\t&lt;property name=&quot;password&quot; value=&quot;${mail.mailAccountPassword}&quot; /&gt;\r\n    \r\n    \t\t&lt;property name=&quot;javaMailProperties&quot;&gt;\r\n    \t\t\t&lt;props&gt;\r\n    \t\t\t\t&lt;prop key=&quot;mail.smtp.auth&quot;&gt;true&lt;/prop&gt;\r\n    \t\t\t\t&lt;prop key=&quot;mail.smtp.starttls.enable&quot;&gt;true&lt;/prop&gt;\r\n    \t\t\t&lt;/props&gt;\r\n    \t\t&lt;/property&gt;\r\n    \t&lt;/bean&gt;\r\n    \r\n    \t&lt;bean id=&quot;mailUtil&quot; class=&quot;in.grex.server.common.util.MailUtil&quot;&gt;\r\n    \t\t&lt;property name=&quot;mailSender&quot; ref=&quot;mailSender&quot; /&gt;\r\n    \t&lt;/bean&gt;\r\n    \r\n    \t&lt;!-- Bean for dozer mapper. --&gt;\r\n    \t&lt;bean id=&quot;mapper&quot; class=&quot;org.dozer.DozerBeanMapper&quot; scope=&quot;singleton&quot;&gt;\r\n    \t\t&lt;property name=&quot;mappings&quot;&gt;\r\n    \t\t\t&lt;list&gt;\r\n    \t\t\t\t&lt;bean class=&quot;in.grex.server.dto.mapper.GrexDozerMapper&quot; /&gt;\r\n    \t\t\t&lt;/list&gt;\r\n    \t\t&lt;/property&gt;\r\n    \t&lt;/bean&gt;\r\n    \t\r\n    \t\r\n    \t&lt;!-- Bean for dozer searchmapper. --&gt;\r\n    \t&lt;bean id=&quot;searchMapper&quot; class=&quot;org.dozer.DozerBeanMapper&quot; scope=&quot;singleton&quot;&gt;\r\n    \t\t&lt;property name=&quot;mappings&quot;&gt;\r\n    \t\t\t&lt;list&gt;\r\n    \t\t\t\t&lt;bean class=&quot;in.grex.server.dto.mapper.GrexDozerSearchMapper&quot; /&gt;\r\n    \t\t\t&lt;/list&gt;\r\n    \t\t&lt;/property&gt;\r\n    \t&lt;/bean&gt;\r\n    \r\n        &lt;/beans&gt;\r\n\r\n**StackTrace**\r\n\r\n\r\n\r\n    org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;dataSearchService&#39;: Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field: private in.grex.server.dto.mapper.CustomGrexMapper in.grex.server.search.DataSearchServiceImpl.customGrexMapper; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;customGrexMapper&#39;: Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field: private in.grex.server.services.organizationassociation.OrganizationAssociationService in.grex.server.dto.mapper.CustomGrexMapperImpl.organizationAssociationService; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;organizationAssociationService&#39;: Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field: private in.grex.server.services.organization.OrganizationService in.grex.server.services.organizationassociation.OrganizationAssociationServiceImpl.organizationService; nested exception is org.springframework.beans.factory.BeanCurrentlyInCreationException: Error creating bean with name &#39;organizationService&#39;: Bean with name &#39;organizationService&#39; has been injected into other beans [utilityService,organizationUserService,companyService,messageService,investorService] in its raw version as part of a circular reference, but has eventually been wrapped. This means that said other beans do not use the final version of the bean. This is often the result of over-eager type matching - consider using &#39;getBeanNamesOfType&#39; with the &#39;allowEagerInit&#39; flag turned off, for example.\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:289)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1146)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:519)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:458)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:296)\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:223)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:293)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:194)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:628)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:932)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:479)\r\n    \tat org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:410)\r\n    \tat org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:306)\r\n    \tat org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:112)\r\n    \tat org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4994)\r\n    \tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5492)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\r\n    \tat org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:901)\r\n    \tat org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:877)\r\n    \tat org.apache.catalina.core.StandardHost.addChild(StandardHost.java:649)\r\n    \tat org.apache.catalina.startup.HostConfig.deployWAR(HostConfig.java:1081)\r\n    \tat org.apache.catalina.startup.HostConfig$DeployWar.run(HostConfig.java:1877)\r\n    \tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)\r\n    \tat java.util.concurrent.FutureTask.run(FutureTask.java:262)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\r\n    \tat java.lang.Thread.run(Thread.java:744)\r\n    Caused by: org.springframework.beans.factory.BeanCreationException: Could not autowire field: private in.grex.server.dto.mapper.CustomGrexMapper in.grex.server.search.DataSearchServiceImpl.customGrexMapper; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;customGrexMapper&#39;: Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field: private in.grex.server.services.organizationassociation.OrganizationAssociationService in.grex.server.dto.mapper.CustomGrexMapperImpl.organizationAssociationService; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;organizationAssociationService&#39;: Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field: private in.grex.server.services.organization.OrganizationService in.grex.server.services.organizationassociation.OrganizationAssociationServiceImpl.organizationService; nested exception is org.springframework.beans.factory.BeanCurrentlyInCreationException: Error creating bean with name &#39;organizationService&#39;: Bean with name &#39;organizationService&#39; has been injected into other beans [utilityService,organizationUserService,companyService,messageService,investorService] in its raw version as part of a circular reference, but has eventually been wrapped. This means that said other beans do not use the final version of the bean. This is often the result of over-eager type matching - consider using &#39;getBeanNamesOfType&#39; with the &#39;allowEagerInit&#39; flag turned off, for example.\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:517)\r\n    \tat org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:87)\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:286)\r\n    \t... 26 more\r\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;customGrexMapper&#39;: Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field: private in.grex.server.services.organizationassociation.OrganizationAssociationService in.grex.server.dto.mapper.CustomGrexMapperImpl.organizationAssociationService; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;organizationAssociationService&#39;: Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field: private in.grex.server.services.organization.OrganizationService in.grex.server.services.organizationassociation.OrganizationAssociationServiceImpl.organizationService; nested exception is org.springframework.beans.factory.BeanCurrentlyInCreationException: Error creating bean with name &#39;organizationService&#39;: Bean with name &#39;organizationService&#39; has been injected into other beans [utilityService,organizationUserService,companyService,messageService,investorService] in its raw version as part of a circular reference, but has eventually been wrapped. This means that said other beans do not use the final version of the bean. This is often the result of over-eager type matching - consider using &#39;getBeanNamesOfType&#39; with the &#39;allowEagerInit&#39; flag turned off, for example.\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:289)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1146)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:519)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:458)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:296)\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:223)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:293)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:194)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidates(DefaultListableBeanFactory.java:912)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:855)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:770)\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:489)\r\n    \t... 28 more\r\n    Caused by: org.springframework.beans.factory.BeanCreationException: Could not autowire field: private in.grex.server.services.organizationassociation.OrganizationAssociationService in.grex.server.dto.mapper.CustomGrexMapperImpl.organizationAssociationService; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;organizationAssociationService&#39;: Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field: private in.grex.server.services.organization.OrganizationService in.grex.server.services.organizationassociation.OrganizationAssociationServiceImpl.organizationService; nested exception is org.springframework.beans.factory.BeanCurrentlyInCreationException: Error creating bean with name &#39;organizationService&#39;: Bean with name &#39;organizationService&#39; has been injected into other beans [utilityService,organizationUserService,companyService,messageService,investorService] in its raw version as part of a circular reference, but has eventually been wrapped. This means that said other beans do not use the final version of the bean. This is often the result of over-eager type matching - consider using &#39;getBeanNamesOfType&#39; with the &#39;allowEagerInit&#39; flag turned off, for example.\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:517)\r\n    \tat org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:87)\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:286)\r\n    \t... 39 more\r\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;organizationAssociationService&#39;: Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field: private in.grex.server.services.organization.OrganizationService in.grex.server.services.organizationassociation.OrganizationAssociationServiceImpl.organizationService; nested exception is org.springframework.beans.factory.BeanCurrentlyInCreationException: Error creating bean with name &#39;organizationService&#39;: Bean with name &#39;organizationService&#39; has been injected into other beans [utilityService,organizationUserService,companyService,messageService,investorService] in its raw version as part of a circular reference, but has eventually been wrapped. This means that said other beans do not use the final version of the bean. This is often the result of over-eager type matching - consider using &#39;getBeanNamesOfType&#39; with the &#39;allowEagerInit&#39; flag turned off, for example.\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:289)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1146)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:519)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:458)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:296)\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:223)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:293)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:194)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidates(DefaultListableBeanFactory.java:912)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:855)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:770)\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:489)\r\n    \t... 41 more\r\n    Caused by: org.springframework.beans.factory.BeanCreationException: Could not autowire field: private in.grex.server.services.organization.OrganizationService in.grex.server.services.organizationassociation.OrganizationAssociationServiceImpl.organizationService; nested exception is org.springframework.beans.factory.BeanCurrentlyInCreationException: Error creating bean with name &#39;organizationService&#39;: Bean with name &#39;organizationService&#39; has been injected into other beans [utilityService,organizationUserService,companyService,messageService,investorService] in its raw version as part of a circular reference, but has eventually been wrapped. This means that said other beans do not use the final version of the bean. This is often the result of over-eager type matching - consider using &#39;getBeanNamesOfType&#39; with the &#39;allowEagerInit&#39; flag turned off, for example.\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:517)\r\n    \tat org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:87)\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:286)\r\n    \t... 52 more\r\n    Caused by: org.springframework.beans.factory.BeanCurrentlyInCreationException: Error creating bean with name &#39;organizationService&#39;: Bean with name &#39;organizationService&#39; has been injected into other beans [utilityService,organizationUserService,companyService,messageService,investorService] in its raw version as part of a circular reference, but has eventually been wrapped. This means that said other beans do not use the final version of the bean. This is often the result of over-eager type matching - consider using &#39;getBeanNamesOfType&#39; with the &#39;allowEagerInit&#39; flag turned off, for example.\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:548)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:458)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:296)\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:223)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:293)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:194)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidates(DefaultListableBeanFactory.java:912)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:855)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:770)\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:489)\r\n    \t... 54 more\r\n","title":"Why Spring circular reference for Autowire issue on Production Environment Only?","body":"<p><strong>#All please read my question tiltle i already solve this</strong></p>\n\n<p>Spring circular reference working on Local , UAT , DEMO , STAGGING environment But not on Production Environment only.\nall environment having same configuration</p>\n\n<blockquote>\n  <p>1 JDK : 1.7.0.79</p>\n  \n  <p>2.Tomcat 7.0</p>\n</blockquote>\n\n<p>applicationContext.xml</p>\n\n<pre><code>    &lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n    &lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\n        xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:context=\"http://www.springframework.org/schema/context\"\n        xmlns:mvc=\"http://www.springframework.org/schema/mvc\" xmlns:tx=\"http://www.springframework.org/schema/tx\"\n        xmlns:p=\"http://www.springframework.org/schema/p\" xmlns:jee=\"http://www.springframework.org/schema/jee\"\n        xmlns:task=\"http://www.springframework.org/schema/task\"\n        xsi:schemaLocation=\"http://www.springframework.org/schema/jee http://www.springframework.org/schema/jee/spring-jee-3.2.xsd\n            http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc-3.2.xsd\n            http://www.springframework.org/schema/task http://www.springframework.org/schema/task/spring-task-3.2.xsd\n            http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\n            http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-3.2.xsd\n            http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-3.2.xsd\"&gt;\n&lt;context:component-scan base-package=\"in.test.server\"&gt;\n    &lt;/context:component-scan&gt;\n\n    &lt;context:annotation-config /&gt;\n    &lt;tx:annotation-driven transaction-manager=\"transactionManager\" /&gt;\n\n    &lt;bean id=\"applicationProperties\"\n        class=\"org.springframework.beans.factory.config.PropertiesFactoryBean\"&gt;\n        &lt;property name=\"locations\"&gt;\n            &lt;list&gt;\n                &lt;value&gt;classpath*:mail.properties&lt;/value&gt;\n                &lt;value&gt;classpath*:document_storage.properties&lt;/value&gt;\n                &lt;value&gt;classpath*:ekyc.properties&lt;/value&gt;\n                &lt;value&gt;classpath*:application_config.properties&lt;/value&gt;\n                &lt;value&gt;classpath*:messages.properties&lt;/value&gt;\n                &lt;value&gt;classpath*:invitation_codes.properties&lt;/value&gt;\n                &lt;value&gt;classpath*:capitalraise.properties&lt;/value&gt;               \n            &lt;/list&gt;\n        &lt;/property&gt;\n    &lt;/bean&gt;\n\n    &lt;bean id=\"propertyConfigurer\"\n        class=\"org.springframework.beans.factory.config.PropertyPlaceholderConfigurer\"&gt;\n        &lt;property name=\"ignoreUnresolvablePlaceholders\" value=\"true\" /&gt;\n        &lt;property name=\"locations\"&gt;\n            &lt;list&gt;\n                &lt;value&gt;classpath*:mail.properties&lt;/value&gt;\n                &lt;value&gt;classpath*:application_config.properties&lt;/value&gt;\n            &lt;/list&gt;\n        &lt;/property&gt;\n    &lt;/bean&gt;\n\n    &lt;bean id=\"dataSource\" class=\"org.apache.commons.dbcp.BasicDataSource\"&gt;\n        &lt;property name=\"driverClassName\" value=\"com.mysql.jdbc.Driver\" /&gt;\n        &lt;property name=\"url\" value=\"jdbc:mysql://localhost:3306/testdb_trunk\" /&gt;\n        &lt;property name=\"username\" value=\"root\" /&gt;\n        &lt;property name=\"password\" value=\"root\" /&gt;\n        &lt;property name=\"minIdle\" value=\"10\" /&gt;\n        &lt;property name=\"initialSize\" value=\"10\" /&gt;\n        &lt;property name=\"validationQuery\" value=\"SELECT 1 FROM DUAL\"/&gt;\n    &lt;/bean&gt;\n\n    &lt;bean id=\"sessionFactory\"\n        class=\"org.springframework.orm.hibernate4.LocalSessionFactoryBean\"&gt;\n        &lt;property name=\"dataSource\" ref=\"dataSource\" /&gt;\n        &lt;property name=\"packagesToScan\" value=\"in.grex.server.datamodel\" /&gt;\n        &lt;property name=\"hibernateProperties\"&gt;\n            &lt;props&gt;\n                &lt;prop key=\"hibernate.hbm2ddl.auto\"&gt;update&lt;/prop&gt;\n                &lt;prop key=\"hibernate.dialect\"&gt;org.hibernate.dialect.MySQLDialect&lt;/prop&gt;\n            &lt;/props&gt;\n        &lt;/property&gt;\n    &lt;/bean&gt;\n\n    &lt;bean id=\"transactionManager\"\n        class=\"org.springframework.orm.hibernate4.HibernateTransactionManager\"&gt;\n        &lt;property name=\"sessionFactory\" ref=\"sessionFactory\" /&gt;\n    &lt;/bean&gt;\n\n    &lt;bean id=\"mailSender\" class=\"org.springframework.mail.javamail.JavaMailSenderImpl\"&gt;\n        &lt;property name=\"host\" value=\"smtp.gmail.com\" /&gt;\n        &lt;property name=\"port\" value=\"587\" /&gt;\n        &lt;property name=\"username\" value=\"${mail.mailAccount}\" /&gt;\n        &lt;property name=\"password\" value=\"${mail.mailAccountPassword}\" /&gt;\n\n        &lt;property name=\"javaMailProperties\"&gt;\n            &lt;props&gt;\n                &lt;prop key=\"mail.smtp.auth\"&gt;true&lt;/prop&gt;\n                &lt;prop key=\"mail.smtp.starttls.enable\"&gt;true&lt;/prop&gt;\n            &lt;/props&gt;\n        &lt;/property&gt;\n    &lt;/bean&gt;\n\n    &lt;bean id=\"mailUtil\" class=\"in.grex.server.common.util.MailUtil\"&gt;\n        &lt;property name=\"mailSender\" ref=\"mailSender\" /&gt;\n    &lt;/bean&gt;\n\n    &lt;!-- Bean for dozer mapper. --&gt;\n    &lt;bean id=\"mapper\" class=\"org.dozer.DozerBeanMapper\" scope=\"singleton\"&gt;\n        &lt;property name=\"mappings\"&gt;\n            &lt;list&gt;\n                &lt;bean class=\"in.grex.server.dto.mapper.GrexDozerMapper\" /&gt;\n            &lt;/list&gt;\n        &lt;/property&gt;\n    &lt;/bean&gt;\n\n\n    &lt;!-- Bean for dozer searchmapper. --&gt;\n    &lt;bean id=\"searchMapper\" class=\"org.dozer.DozerBeanMapper\" scope=\"singleton\"&gt;\n        &lt;property name=\"mappings\"&gt;\n            &lt;list&gt;\n                &lt;bean class=\"in.grex.server.dto.mapper.GrexDozerSearchMapper\" /&gt;\n            &lt;/list&gt;\n        &lt;/property&gt;\n    &lt;/bean&gt;\n\n    &lt;/beans&gt;\n</code></pre>\n\n<p><strong>StackTrace</strong></p>\n\n<pre><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSearchService': Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field: private in.grex.server.dto.mapper.CustomGrexMapper in.grex.server.search.DataSearchServiceImpl.customGrexMapper; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'customGrexMapper': Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field: private in.grex.server.services.organizationassociation.OrganizationAssociationService in.grex.server.dto.mapper.CustomGrexMapperImpl.organizationAssociationService; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'organizationAssociationService': Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field: private in.grex.server.services.organization.OrganizationService in.grex.server.services.organizationassociation.OrganizationAssociationServiceImpl.organizationService; nested exception is org.springframework.beans.factory.BeanCurrentlyInCreationException: Error creating bean with name 'organizationService': Bean with name 'organizationService' has been injected into other beans [utilityService,organizationUserService,companyService,messageService,investorService] in its raw version as part of a circular reference, but has eventually been wrapped. This means that said other beans do not use the final version of the bean. This is often the result of over-eager type matching - consider using 'getBeanNamesOfType' with the 'allowEagerInit' flag turned off, for example.\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:289)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1146)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:519)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:458)\n    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:296)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:223)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:293)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:194)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:628)\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:932)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:479)\n    at org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:410)\n    at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:306)\n    at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:112)\n    at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4994)\n    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5492)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\n    at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:901)\n    at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:877)\n    at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:649)\n    at org.apache.catalina.startup.HostConfig.deployWAR(HostConfig.java:1081)\n    at org.apache.catalina.startup.HostConfig$DeployWar.run(HostConfig.java:1877)\n    at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:262)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\n    at java.lang.Thread.run(Thread.java:744)\nCaused by: org.springframework.beans.factory.BeanCreationException: Could not autowire field: private in.grex.server.dto.mapper.CustomGrexMapper in.grex.server.search.DataSearchServiceImpl.customGrexMapper; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'customGrexMapper': Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field: private in.grex.server.services.organizationassociation.OrganizationAssociationService in.grex.server.dto.mapper.CustomGrexMapperImpl.organizationAssociationService; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'organizationAssociationService': Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field: private in.grex.server.services.organization.OrganizationService in.grex.server.services.organizationassociation.OrganizationAssociationServiceImpl.organizationService; nested exception is org.springframework.beans.factory.BeanCurrentlyInCreationException: Error creating bean with name 'organizationService': Bean with name 'organizationService' has been injected into other beans [utilityService,organizationUserService,companyService,messageService,investorService] in its raw version as part of a circular reference, but has eventually been wrapped. This means that said other beans do not use the final version of the bean. This is often the result of over-eager type matching - consider using 'getBeanNamesOfType' with the 'allowEagerInit' flag turned off, for example.\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:517)\n    at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:87)\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:286)\n    ... 26 more\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'customGrexMapper': Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field: private in.grex.server.services.organizationassociation.OrganizationAssociationService in.grex.server.dto.mapper.CustomGrexMapperImpl.organizationAssociationService; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'organizationAssociationService': Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field: private in.grex.server.services.organization.OrganizationService in.grex.server.services.organizationassociation.OrganizationAssociationServiceImpl.organizationService; nested exception is org.springframework.beans.factory.BeanCurrentlyInCreationException: Error creating bean with name 'organizationService': Bean with name 'organizationService' has been injected into other beans [utilityService,organizationUserService,companyService,messageService,investorService] in its raw version as part of a circular reference, but has eventually been wrapped. This means that said other beans do not use the final version of the bean. This is often the result of over-eager type matching - consider using 'getBeanNamesOfType' with the 'allowEagerInit' flag turned off, for example.\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:289)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1146)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:519)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:458)\n    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:296)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:223)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:293)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:194)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidates(DefaultListableBeanFactory.java:912)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:855)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:770)\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:489)\n    ... 28 more\nCaused by: org.springframework.beans.factory.BeanCreationException: Could not autowire field: private in.grex.server.services.organizationassociation.OrganizationAssociationService in.grex.server.dto.mapper.CustomGrexMapperImpl.organizationAssociationService; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'organizationAssociationService': Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field: private in.grex.server.services.organization.OrganizationService in.grex.server.services.organizationassociation.OrganizationAssociationServiceImpl.organizationService; nested exception is org.springframework.beans.factory.BeanCurrentlyInCreationException: Error creating bean with name 'organizationService': Bean with name 'organizationService' has been injected into other beans [utilityService,organizationUserService,companyService,messageService,investorService] in its raw version as part of a circular reference, but has eventually been wrapped. This means that said other beans do not use the final version of the bean. This is often the result of over-eager type matching - consider using 'getBeanNamesOfType' with the 'allowEagerInit' flag turned off, for example.\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:517)\n    at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:87)\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:286)\n    ... 39 more\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'organizationAssociationService': Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field: private in.grex.server.services.organization.OrganizationService in.grex.server.services.organizationassociation.OrganizationAssociationServiceImpl.organizationService; nested exception is org.springframework.beans.factory.BeanCurrentlyInCreationException: Error creating bean with name 'organizationService': Bean with name 'organizationService' has been injected into other beans [utilityService,organizationUserService,companyService,messageService,investorService] in its raw version as part of a circular reference, but has eventually been wrapped. This means that said other beans do not use the final version of the bean. This is often the result of over-eager type matching - consider using 'getBeanNamesOfType' with the 'allowEagerInit' flag turned off, for example.\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:289)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1146)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:519)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:458)\n    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:296)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:223)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:293)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:194)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidates(DefaultListableBeanFactory.java:912)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:855)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:770)\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:489)\n    ... 41 more\nCaused by: org.springframework.beans.factory.BeanCreationException: Could not autowire field: private in.grex.server.services.organization.OrganizationService in.grex.server.services.organizationassociation.OrganizationAssociationServiceImpl.organizationService; nested exception is org.springframework.beans.factory.BeanCurrentlyInCreationException: Error creating bean with name 'organizationService': Bean with name 'organizationService' has been injected into other beans [utilityService,organizationUserService,companyService,messageService,investorService] in its raw version as part of a circular reference, but has eventually been wrapped. This means that said other beans do not use the final version of the bean. This is often the result of over-eager type matching - consider using 'getBeanNamesOfType' with the 'allowEagerInit' flag turned off, for example.\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:517)\n    at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:87)\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:286)\n    ... 52 more\nCaused by: org.springframework.beans.factory.BeanCurrentlyInCreationException: Error creating bean with name 'organizationService': Bean with name 'organizationService' has been injected into other beans [utilityService,organizationUserService,companyService,messageService,investorService] in its raw version as part of a circular reference, but has eventually been wrapped. This means that said other beans do not use the final version of the bean. This is often the result of over-eager type matching - consider using 'getBeanNamesOfType' with the 'allowEagerInit' flag turned off, for example.\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:548)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:458)\n    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:296)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:223)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:293)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:194)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidates(DefaultListableBeanFactory.java:912)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:855)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:770)\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:489)\n    ... 54 more\n</code></pre>\n"},{"tags":["java","android","time","notifications","schedule"],"comments":[{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":0,"creation_date":1646778542,"post_id":71400145,"comment_id":126207510,"body_markdown":"[get the time from the timepicker](https://www.tutorialspoint.com/android/android_timepicker_control.htm#:~:text=In%20order%20to%20get%20the,getCurrentHour()%3B%20int%20min%20%3D%20timePicker1.) after the user has set the time then use that to set your alarm manager to display the notification.","body":"<a href=\"https://www.tutorialspoint.com/android/android_timepicker_control.htm#:~:text=In%20order%20to%20get%20the,getCurrentHour()%3B%20int%20min%20%3D%20timePicker1.\" rel=\"nofollow noreferrer\">get the time from the timepicker</a> after the user has set the time then use that to set your alarm manager to display the notification."},{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":0,"creation_date":1646778659,"post_id":71400145,"comment_id":126207539,"body_markdown":"Alternatively you can use a [WorkManager](https://codingwithmitch.com/blog/work-manager-getting-started/).","body":"Alternatively you can use a <a href=\"https://codingwithmitch.com/blog/work-manager-getting-started/\" rel=\"nofollow noreferrer\">WorkManager</a>."},{"owner":{"account_id":17162039,"reputation":129,"user_id":12421440,"display_name":"Loizos Aristeidis"},"score":0,"creation_date":1646822732,"post_id":71400145,"comment_id":126217452,"body_markdown":"Thank you for the reply. Like I said, I have managed to retrieve and store the time from the time picker successfully, and I pass it to the Alarm Manager. The problem is, I can&#39;t seem to make the Alarm Manager work with the notification I created","body":"Thank you for the reply. Like I said, I have managed to retrieve and store the time from the time picker successfully, and I pass it to the Alarm Manager. The problem is, I can&#39;t seem to make the Alarm Manager work with the notification I created"},{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":0,"creation_date":1646827706,"post_id":71400145,"comment_id":126219175,"body_markdown":"Where is the code where you set the `AlarmManager`?","body":"Where is the code where you set the <code>AlarmManager</code>?"},{"owner":{"account_id":17162039,"reputation":129,"user_id":12421440,"display_name":"Loizos Aristeidis"},"score":0,"creation_date":1646828690,"post_id":71400145,"comment_id":126219506,"body_markdown":"I added it after the answer below, from this link: https://developer.android.com/training/scheduling/alarms. There exists a section which says &quot;Wake up the device to fire the alarm at approximately 2:00 p.m&quot; and I tried to mimick that...","body":"I added it after the answer below, from this link: <a href=\"https://developer.android.com/training/scheduling/alarms\" rel=\"nofollow noreferrer\">developer.android.com/training/scheduling/alarms</a>. There exists a section which says &quot;Wake up the device to fire the alarm at approximately 2:00 p.m&quot; and I tried to mimick that..."},{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":1,"creation_date":1646833439,"post_id":71400145,"comment_id":126221270,"body_markdown":"Can you edit your question with the `AlarmManager` code?","body":"Can you edit your question with the <code>AlarmManager</code> code?"},{"owner":{"account_id":17162039,"reputation":129,"user_id":12421440,"display_name":"Loizos Aristeidis"},"score":0,"creation_date":1646844772,"post_id":71400145,"comment_id":126226113,"body_markdown":"Just updated it, thank you for your help so far I really appreciate it!","body":"Just updated it, thank you for your help so far I really appreciate it!"}],"answers":[{"tags":[],"owner":{"account_id":23239,"reputation":4528,"user_id":58100,"accept_rate":67,"display_name":"E.M."},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646766218,"creation_date":1646766218,"answer_id":71400233,"question_id":71400145,"body_markdown":"If there is an exact time that the notification needs to be sent, you will want to use AlarmManager. See https://developer.android.com/training/scheduling/alarms\r\n\r\nThe docs describe when to use AlarmManager vs. other APIs: https://developer.android.com/guide/background#alarms","title":"Android Studio - How to Schedule a Notification?","body":"<p>If there is an exact time that the notification needs to be sent, you will want to use AlarmManager. See <a href=\"https://developer.android.com/training/scheduling/alarms\" rel=\"nofollow noreferrer\">https://developer.android.com/training/scheduling/alarms</a></p>\n<p>The docs describe when to use AlarmManager vs. other APIs: <a href=\"https://developer.android.com/guide/background#alarms\" rel=\"nofollow noreferrer\">https://developer.android.com/guide/background#alarms</a></p>\n"},{"tags":[],"owner":{"account_id":18243423,"reputation":403,"user_id":13280037,"display_name":"Zaman Rajpoot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667912427,"creation_date":1667912427,"answer_id":74361175,"question_id":71400145,"body_markdown":"*Okay After too much research and fighting with this finally I did it* \r\nNote: this is suitable for Android O+ Versions\r\n**In Activity Class**\r\n\r\n    button.setOnClickListener(view -&gt; {\r\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n                Calendar calendar = Calendar.getInstance();\r\n                //10 is for how many seconds from now you want to schedule also you can create a custom instance of Callender to set on exact time\r\n                calendar.add(Calendar.SECOND, 10);\r\n                //function for Creating [Notification Channel][1]\r\n                createNotificationChannel();\r\n                //function for scheduling the notification\r\n                scheduleotification(calendar);\r\n            }\r\n        });\r\n\r\n    \r\ncode for **createNotificationChannel()**\r\n\r\n\r\n\r\n\r\n    @RequiresApi(api = Build.VERSION_CODES.O)\r\n    public void createNotificationChannel() {\r\n        String id = &quot;channelID&quot;;\r\n        String name = &quot;Daily Alerts&quot;;\r\n        String des = &quot;Channel Description A Brief&quot;;\r\n        int importance = NotificationManager.IMPORTANCE_DEFAULT;\r\n        NotificationChannel channel = new NotificationChannel(id, name, importance);\r\n        channel.setDescription(des);\r\n        NotificationManager manager = (NotificationManager) getSystemService(NOTIFICATION_SERVICE);\r\n        manager.createNotificationChannel(channel);\r\n    }\r\n\r\n\r\ncode for  scheduleNotification(**Calender** calendar);\r\n\r\n    @RequiresApi(api = Build.VERSION_CODES.M)\r\n    public void scheduleNotification(Calendar calendar) {\r\n        Intent intent = new Intent(getApplicationContext(), Notification.class);\r\n        intent.putExtra(&quot;titleExtra&quot;, &quot;Dynamic Title&quot;);\r\n        intent.putExtra(&quot;textExtra&quot;, &quot;Dynamic Text Body&quot;);\r\n        PendingIntent pendingIntent = PendingIntent.getBroadcast(getApplicationContext(), 1, intent, PendingIntent.FLAG_UPDATE_CURRENT | PendingIntent.FLAG_IMMUTABLE);\r\n        AlarmManager alarmManager = (AlarmManager) getSystemService(ALARM_SERVICE);\r\n        alarmManager.setExactAndAllowWhileIdle(AlarmManager.RTC_WAKEUP, calendar.getTimeInMillis(), pendingIntent);\r\n        Toast.makeText(getApplicationContext(), &quot;Scheduled &quot;, Toast.LENGTH_LONG).show();\r\n    }\r\n\r\nNotification.kt\r\n\r\n        class Notification : BroadcastReceiver() \r\n    {\r\n        override fun onReceive(context: Context, intent: Intent) {\r\n            message = intent.getStringExtra(&quot;textExtra&quot;).toString()\r\n            title = intent.getStringExtra(&quot;titleExtra&quot;).toString()\r\n            val notification =\r\n                NotificationCompat.Builder(context, channelID).setSmallIcon(R.drawable.notification)\r\n                    .setContentText(message).setContentTitle(title).build()\r\n            val manager = context.getSystemService(Context.NOTIFICATION_SERVICE) as NotificationManager\r\n            manager.notify(notificationId, notification)\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://www.google.com/search?q=notification%20channel%20android&amp;oq=notification%20channel%20a&amp;aqs=chrome.1.69i57j0i512j0i20i263i512l2j0i22i30l6.10671j0j7&amp;sourceid=chrome&amp;ie=UTF-8","title":"Android Studio - How to Schedule a Notification?","body":"<p><em>Okay After too much research and fighting with this finally I did it</em>\nNote: this is suitable for Android O+ Versions\n<strong>In Activity Class</strong></p>\n<pre><code>button.setOnClickListener(view -&gt; {\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n            Calendar calendar = Calendar.getInstance();\n            //10 is for how many seconds from now you want to schedule also you can create a custom instance of Callender to set on exact time\n            calendar.add(Calendar.SECOND, 10);\n            //function for Creating [Notification Channel][1]\n            createNotificationChannel();\n            //function for scheduling the notification\n            scheduleotification(calendar);\n        }\n    });\n</code></pre>\n<p>code for <strong>createNotificationChannel()</strong></p>\n<pre><code>@RequiresApi(api = Build.VERSION_CODES.O)\npublic void createNotificationChannel() {\n    String id = &quot;channelID&quot;;\n    String name = &quot;Daily Alerts&quot;;\n    String des = &quot;Channel Description A Brief&quot;;\n    int importance = NotificationManager.IMPORTANCE_DEFAULT;\n    NotificationChannel channel = new NotificationChannel(id, name, importance);\n    channel.setDescription(des);\n    NotificationManager manager = (NotificationManager) getSystemService(NOTIFICATION_SERVICE);\n    manager.createNotificationChannel(channel);\n}\n</code></pre>\n<p>code for  scheduleNotification(<strong>Calender</strong> calendar);</p>\n<pre><code>@RequiresApi(api = Build.VERSION_CODES.M)\npublic void scheduleNotification(Calendar calendar) {\n    Intent intent = new Intent(getApplicationContext(), Notification.class);\n    intent.putExtra(&quot;titleExtra&quot;, &quot;Dynamic Title&quot;);\n    intent.putExtra(&quot;textExtra&quot;, &quot;Dynamic Text Body&quot;);\n    PendingIntent pendingIntent = PendingIntent.getBroadcast(getApplicationContext(), 1, intent, PendingIntent.FLAG_UPDATE_CURRENT | PendingIntent.FLAG_IMMUTABLE);\n    AlarmManager alarmManager = (AlarmManager) getSystemService(ALARM_SERVICE);\n    alarmManager.setExactAndAllowWhileIdle(AlarmManager.RTC_WAKEUP, calendar.getTimeInMillis(), pendingIntent);\n    Toast.makeText(getApplicationContext(), &quot;Scheduled &quot;, Toast.LENGTH_LONG).show();\n}\n</code></pre>\n<p>Notification.kt</p>\n<pre><code>    class Notification : BroadcastReceiver() \n{\n    override fun onReceive(context: Context, intent: Intent) {\n        message = intent.getStringExtra(&quot;textExtra&quot;).toString()\n        title = intent.getStringExtra(&quot;titleExtra&quot;).toString()\n        val notification =\n            NotificationCompat.Builder(context, channelID).setSmallIcon(R.drawable.notification)\n                .setContentText(message).setContentTitle(title).build()\n        val manager = context.getSystemService(Context.NOTIFICATION_SERVICE) as NotificationManager\n        manager.notify(notificationId, notification)\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":17162039,"reputation":129,"user_id":12421440,"display_name":"Loizos Aristeidis"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6024,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1667912427,"creation_date":1646765738,"question_id":71400145,"body_markdown":"I have created a sample notification for a project I am currently working on, using this code in the **onCreate** method of my Main Activity.\r\nI have also got a **TimePicker** Fragment class, which as the name suggests, opens up a time picker dialogue which allows the user to set a specific time of day. Then, the **hour** and **minutes** are stored in ```DataSite.class```, which holds a number of get and set methods. Below is the code for ```TimePicker.class```: \r\n``` \r\npublic class TimePickerFragment extends DialogFragment\r\n        implements TimePickerDialog.OnTimeSetListener {\r\n\r\n    @Override\r\n    public Dialog onCreateDialog(Bundle savedInstanceState) {\r\n        // Use the current time as the default values for the picker\r\n        final Calendar c = Calendar.getInstance();\r\n        int hour = c.get(Calendar.HOUR_OF_DAY);\r\n        int minute = c.get(Calendar.MINUTE);\r\n\r\n        // Create a new instance of TimePickerDialog and return it\r\n        return new TimePickerDialog(getActivity(), this, hour, minute,\r\n                DateFormat.is24HourFormat(getActivity()));\r\n    }\r\n\r\n    public void onTimeSet(TimePicker view, int hourOfDay, int minute) {\r\n        DataSite ds = new DataSite();\r\n        ds.setHour(hourOfDay);\r\n        ds.setMinute(minute);\r\n    }\r\n}\r\n```\r\nIn short, I would like to schedule the ```createNotificationChannel();``` method call on the Main Activity, according to the **hour** and **minutes** the user has selected. As I said, the time information is stored in **DataSite**.\r\n\r\nI have gotten the time picker working, and the notification shows as expected. All that I need now is a way to combine these two functionalities. As far as I can tell from other forum posts, I will have to use the **Alarm Manager**, but nothing I have read elsewhere works for me. \r\n\r\n**Edit: I have attempted to utilize the ```AlarmManager```. Below you can see the full code I currently have so far:**\r\n```\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_initial_screen);\r\n        .\r\n        .\r\n        .\r\n        .\r\n        .\r\n        Intent intent = new Intent(this, InitialScreen.class);\r\n        intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK | Intent.FLAG_ACTIVITY_CLEAR_TASK);\r\n        PendingIntent pendingIntent = PendingIntent.getActivity(this, 0, intent, PendingIntent.FLAG_IMMUTABLE);\r\n        NotificationCompat.Builder builder = new NotificationCompat.Builder(this, &quot;reflectnotification&quot;)\r\n                .setSmallIcon(R.drawable.app_icon_background)\r\n                .setContentTitle(&quot;Reflect Reminder&quot;)\r\n                .setContentText(&quot;Time to Reflect on your selected Goal!&quot;)\r\n                .setStyle(new NotificationCompat.BigTextStyle()\r\n                        .bigText(&quot;Time to Reflect on your selected Goal!&quot;))\r\n                .setPriority(NotificationCompat.PRIORITY_DEFAULT)\r\n                .setContentIntent(pendingIntent)\r\n                .setAutoCancel(true);\r\n\r\n        NotificationManagerCompat notificationManager = NotificationManagerCompat.from(this);\r\n        createNotificationChannel();\r\n//        notificationManager.notify(200, builder.build());\r\n\r\n        hour = ((DataSite)getApplication()).getHour();\r\n        minute = ((DataSite)getApplication()).getMinute();\r\n\r\n        Calendar calendar = Calendar.getInstance();\r\n        calendar.setTimeInMillis(System.currentTimeMillis());\r\n        calendar.set(Calendar.HOUR_OF_DAY, hour);\r\n        calendar.set(Calendar.MINUTE, minute);\r\n\r\n        Toast.makeText(getApplicationContext(),&quot;Picked time: &quot;+ hour +&quot;:&quot;+minute, Toast.LENGTH_LONG).show();\r\n\r\n        alarmMgr = (AlarmManager)getApplicationContext().getSystemService(Context.ALARM_SERVICE);\r\n        Intent intent2 = new Intent(getApplicationContext(), InitialScreen.class);\r\n        alarmIntent = PendingIntent.getBroadcast(getApplicationContext(), 200, intent2, 0);\r\n\r\n        alarmMgr.setExact(AlarmManager.RTC_WAKEUP, calendar.getTimeInMillis(), alarmIntent);\r\n    }\r\n```\r\n```\r\n    private void createNotificationChannel() {\r\n        // Create the NotificationChannel, but only on API 26+ because\r\n        // the NotificationChannel class is new and not in the support library\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n            CharSequence name = &quot;Reflect Reminder&quot;;\r\n            String description = &quot;Time to Reflect on your selected Goal!&quot;;\r\n            int importance = NotificationManager.IMPORTANCE_DEFAULT;\r\n            NotificationChannel channel = new NotificationChannel(&quot;reflectnotification&quot;, name, importance);\r\n            channel.setDescription(description);\r\n            // Register the channel with the system; you can&#39;t change the importance\r\n            // or other notification behaviors after this\r\n            NotificationManager notificationManager = getSystemService(NotificationManager.class);\r\n            notificationManager.createNotificationChannel(channel);\r\n        }\r\n    }\r\n```","title":"Android Studio - How to Schedule a Notification?","body":"<p>I have created a sample notification for a project I am currently working on, using this code in the <strong>onCreate</strong> method of my Main Activity.\nI have also got a <strong>TimePicker</strong> Fragment class, which as the name suggests, opens up a time picker dialogue which allows the user to set a specific time of day. Then, the <strong>hour</strong> and <strong>minutes</strong> are stored in <code>DataSite.class</code>, which holds a number of get and set methods. Below is the code for <code>TimePicker.class</code>:</p>\n<pre><code>public class TimePickerFragment extends DialogFragment\n        implements TimePickerDialog.OnTimeSetListener {\n\n    @Override\n    public Dialog onCreateDialog(Bundle savedInstanceState) {\n        // Use the current time as the default values for the picker\n        final Calendar c = Calendar.getInstance();\n        int hour = c.get(Calendar.HOUR_OF_DAY);\n        int minute = c.get(Calendar.MINUTE);\n\n        // Create a new instance of TimePickerDialog and return it\n        return new TimePickerDialog(getActivity(), this, hour, minute,\n                DateFormat.is24HourFormat(getActivity()));\n    }\n\n    public void onTimeSet(TimePicker view, int hourOfDay, int minute) {\n        DataSite ds = new DataSite();\n        ds.setHour(hourOfDay);\n        ds.setMinute(minute);\n    }\n}\n</code></pre>\n<p>In short, I would like to schedule the <code>createNotificationChannel();</code> method call on the Main Activity, according to the <strong>hour</strong> and <strong>minutes</strong> the user has selected. As I said, the time information is stored in <strong>DataSite</strong>.</p>\n<p>I have gotten the time picker working, and the notification shows as expected. All that I need now is a way to combine these two functionalities. As far as I can tell from other forum posts, I will have to use the <strong>Alarm Manager</strong>, but nothing I have read elsewhere works for me.</p>\n<p><strong>Edit: I have attempted to utilize the <code>AlarmManager</code>. Below you can see the full code I currently have so far:</strong></p>\n<pre><code>    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_initial_screen);\n        .\n        .\n        .\n        .\n        .\n        Intent intent = new Intent(this, InitialScreen.class);\n        intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK | Intent.FLAG_ACTIVITY_CLEAR_TASK);\n        PendingIntent pendingIntent = PendingIntent.getActivity(this, 0, intent, PendingIntent.FLAG_IMMUTABLE);\n        NotificationCompat.Builder builder = new NotificationCompat.Builder(this, &quot;reflectnotification&quot;)\n                .setSmallIcon(R.drawable.app_icon_background)\n                .setContentTitle(&quot;Reflect Reminder&quot;)\n                .setContentText(&quot;Time to Reflect on your selected Goal!&quot;)\n                .setStyle(new NotificationCompat.BigTextStyle()\n                        .bigText(&quot;Time to Reflect on your selected Goal!&quot;))\n                .setPriority(NotificationCompat.PRIORITY_DEFAULT)\n                .setContentIntent(pendingIntent)\n                .setAutoCancel(true);\n\n        NotificationManagerCompat notificationManager = NotificationManagerCompat.from(this);\n        createNotificationChannel();\n//        notificationManager.notify(200, builder.build());\n\n        hour = ((DataSite)getApplication()).getHour();\n        minute = ((DataSite)getApplication()).getMinute();\n\n        Calendar calendar = Calendar.getInstance();\n        calendar.setTimeInMillis(System.currentTimeMillis());\n        calendar.set(Calendar.HOUR_OF_DAY, hour);\n        calendar.set(Calendar.MINUTE, minute);\n\n        Toast.makeText(getApplicationContext(),&quot;Picked time: &quot;+ hour +&quot;:&quot;+minute, Toast.LENGTH_LONG).show();\n\n        alarmMgr = (AlarmManager)getApplicationContext().getSystemService(Context.ALARM_SERVICE);\n        Intent intent2 = new Intent(getApplicationContext(), InitialScreen.class);\n        alarmIntent = PendingIntent.getBroadcast(getApplicationContext(), 200, intent2, 0);\n\n        alarmMgr.setExact(AlarmManager.RTC_WAKEUP, calendar.getTimeInMillis(), alarmIntent);\n    }\n</code></pre>\n<pre><code>    private void createNotificationChannel() {\n        // Create the NotificationChannel, but only on API 26+ because\n        // the NotificationChannel class is new and not in the support library\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n            CharSequence name = &quot;Reflect Reminder&quot;;\n            String description = &quot;Time to Reflect on your selected Goal!&quot;;\n            int importance = NotificationManager.IMPORTANCE_DEFAULT;\n            NotificationChannel channel = new NotificationChannel(&quot;reflectnotification&quot;, name, importance);\n            channel.setDescription(description);\n            // Register the channel with the system; you can't change the importance\n            // or other notification behaviors after this\n            NotificationManager notificationManager = getSystemService(NotificationManager.class);\n            notificationManager.createNotificationChannel(channel);\n        }\n    }\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":544312,"reputation":507,"user_id":913717,"accept_rate":80,"display_name":"Bruce Zu"},"score":0,"creation_date":1617312101,"post_id":5492885,"comment_id":118277052,"body_markdown":"If you want to validate string with Uniform Resource Names (URNs) 8141: [rfc8141][1]  You can refer to [URN8141Test.java][2] and [URN8141.java][3]\n\nIt has been used in our team for a few years.  \n\n\n  [1]: https://tools.ietf.org/html/rfc8141\n  [2]: https://github.com/BruceZu/broken_colored_glass/blob/master/project/src/test/java/URN8141Test.java\n  [3]: https://github.com/BruceZu/broken_colored_glass/blob/master/project/src/main/java/URN8141.java","body":"If you want to validate string with Uniform Resource Names (URNs) 8141: [rfc8141][1]  You can refer to [URN8141Test.java][2] and [URN8141.java][3]  It has been used in our team for a few years.       [1]: <a href=\"https://tools.ietf.org/html/rfc8141\" rel=\"nofollow noreferrer\">tools.ietf.org/html/rfc8141</a>   [2]: <a href=\"https://github.com/BruceZu/broken_colored_glass/blob/master/project/src/test/java/URN8141Test.java\" rel=\"nofollow noreferrer\">github.com/BruceZu/broken_colored_glass/blob/master/project/&zwnj;&#8203;src/&hellip;</a>   [3]: <a href=\"https://github.com/BruceZu/broken_colored_glass/blob/master/project/src/main/java/URN8141.java\" rel=\"nofollow noreferrer\">github.com/BruceZu/broken_colored_glass/blob/master/project/&zwnj;&#8203;src/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":348326,"reputation":6607,"user_id":682965,"display_name":"Simon G."},"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1667912361,"creation_date":1301522189,"answer_id":5492927,"question_id":5492885,"body_markdown":"If you only need to validate it, you can use a regular expression. The following will match only RFC2141 compliant URNs:\r\n\r\n    import java.util.regex.Pattern;\r\n\r\n    public class UrnTest {\r\n        public static final Pattern URN_PATTERN = Pattern.compile(\r\n            &quot;^urn:[a-z0-9][a-z0-9-]{0,31}:([a-z0-9()+,\\\\-.:=@;$_!*&#39;]|%[0-9a-f]{2})++$&quot;,\r\n            Pattern.CASE_INSENSITIVE);\r\n\r\n\r\n        public static void main(String[] args) throws Exception {\r\n            for(String urn : args) {\r\n                boolean isUrn = URN_PATTERN.matcher(urn).matches();\r\n                System.out.println(urn+&quot;  :  &quot;+(isUrn ? &quot;valid&quot; : &quot;not valid&quot;));\r\n            }\r\n        }\r\n    }\r\n","title":"How do I validate URNs?","body":"<p>If you only need to validate it, you can use a regular expression. The following will match only RFC2141 compliant URNs:</p>\n<pre><code>import java.util.regex.Pattern;\n\npublic class UrnTest {\n    public static final Pattern URN_PATTERN = Pattern.compile(\n        &quot;^urn:[a-z0-9][a-z0-9-]{0,31}:([a-z0-9()+,\\\\-.:=@;$_!*']|%[0-9a-f]{2})++$&quot;,\n        Pattern.CASE_INSENSITIVE);\n\n\n    public static void main(String[] args) throws Exception {\n        for(String urn : args) {\n            boolean isUrn = URN_PATTERN.matcher(urn).matches();\n            System.out.println(urn+&quot;  :  &quot;+(isUrn ? &quot;valid&quot; : &quot;not valid&quot;));\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":63162,"reputation":102381,"user_id":187141,"accept_rate":82,"display_name":"yegor256"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1365834397,"creation_date":1365834397,"answer_id":15984959,"question_id":5492885,"body_markdown":"You can try [jcabi-urn](http://www.jcabi.com/jcabi-urn/index.html) and its class [`com.jcabi.urn.URN`](http://www.jcabi.com/jcabi-urn/apidocs-0.7.16/com/jcabi/urn/URN.html)","title":"How do I validate URNs?","body":"<p>You can try <a href=\"http://www.jcabi.com/jcabi-urn/index.html\" rel=\"nofollow\">jcabi-urn</a> and its class <a href=\"http://www.jcabi.com/jcabi-urn/apidocs-0.7.16/com/jcabi/urn/URN.html\" rel=\"nofollow\"><code>com.jcabi.urn.URN</code></a></p>\n"},{"tags":[],"owner":{"account_id":1959872,"reputation":51,"user_id":1761830,"display_name":"Ralf Claussnitzer"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1460896056,"creation_date":1460893213,"answer_id":36676013,"question_id":5492885,"body_markdown":"I recently released [urnlib][1]. It implements a class for representing an Uniform Resource Name (URN). It also implements parsing and serialization according to the constraints defined in [RFC 2141][2].\r\n\r\nIt&#39;s released on Maven Central and aims to serve as a network identifier handling library just like the native Java URL and URI classes.\r\n\r\n\r\n  [1]: https://github.com/slub/urnlib\r\n  [2]: https://www.rfc-editor.org/rfc/rfc2141","title":"How do I validate URNs?","body":"<p>I recently released <a href=\"https://github.com/slub/urnlib\" rel=\"nofollow noreferrer\">urnlib</a>. It implements a class for representing an Uniform Resource Name (URN). It also implements parsing and serialization according to the constraints defined in <a href=\"https://www.rfc-editor.org/rfc/rfc2141\" rel=\"nofollow noreferrer\">RFC 2141</a>.</p>\n<p>It's released on Maven Central and aims to serve as a network identifier handling library just like the native Java URL and URI classes.</p>\n"}],"owner":{"account_id":6055,"reputation":14786,"user_id":10026,"accept_rate":68,"display_name":"ykaganovich"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6374,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":5492927,"answer_count":3,"score":13,"last_activity_date":1667912361,"creation_date":1301521844,"question_id":5492885,"body_markdown":"What&#39;s the easiest way to validate that a string is a valid [URN][1]?\r\n\r\n**Edit** Using URI is not a correct solution! URIs are allowed to have all kinds of things that URNs can&#39;t, like `&amp;`\r\n\r\n\r\n  [1]: http://www.ietf.org/rfc/rfc2141.txt","title":"How do I validate URNs?","body":"<p>What's the easiest way to validate that a string is a valid <a href=\"http://www.ietf.org/rfc/rfc2141.txt\">URN</a>?</p>\n\n<p><strong>Edit</strong> Using URI is not a correct solution! URIs are allowed to have all kinds of things that URNs can't, like <code>&amp;</code></p>\n"},{"tags":["java","arrays","list","for-loop"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":3,"creation_date":1667546533,"post_id":74313292,"comment_id":131196159,"body_markdown":"Sort the array being searched, then use `Arrays.binarySearch`. If you want to optimize further, sort the source array too, then as you iterate remember the results of the previous search to restrict the next search to a subset of the array being searched, using `fromIndex` &amp;  `toIndex` in `binarySearch` call.","body":"Sort the array being searched, then use <code>Arrays.binarySearch</code>. If you want to optimize further, sort the source array too, then as you iterate remember the results of the previous search to restrict the next search to a subset of the array being searched, using <code>fromIndex</code> &amp;  <code>toIndex</code> in <code>binarySearch</code> call."},{"owner":{"account_id":18315148,"reputation":105,"user_id":13337068,"display_name":"Neel Chavan"},"score":0,"creation_date":1667547533,"post_id":74313292,"comment_id":131196372,"body_markdown":"no arrays are not sorted","body":"no arrays are not sorted"}],"answers":[{"tags":[],"owner":{"display_name":"user17233545"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667556064,"creation_date":1667548193,"answer_id":74313710,"question_id":74313292,"body_markdown":"An implementation of Basil Bourque&#39;s comment.\r\nThis is `O(n log n)`. (Sort is `O(n log n)` and binary search `O(log n)` repeated `n` times)\r\n\r\n    static List&lt;Integer&gt; giantArmy(int a[],int b[]){\r\n        int aLength = a.length;\r\n        List&lt;Integer&gt; result = new ArrayList&lt;&gt;();\r\n        Arrays.sort(a);\r\n        for (int i : b) {\r\n            int index = Arrays.binarySearch(a, i);\r\n            if (index &lt; 0)\r\n                index = -index - 1;\r\n            result.add(aLength - index);\r\n        }\r\n        return result;\r\n    }\r\n    \r\n    public static void main(String[] args) {\r\n        System.out.println(giantArmy(new int[] {1, 2, 3, 4, 5}, new int[] {6, 5, 4, 3, 2}));\r\n    }\r\n\r\noutput:\r\n\r\n    [0, 1, 2, 3, 4]\r\n\r\n\r\nA binary search of `n` for the sorted `a` yields the number of elements of `a` whose number of elements to the right of the position found is greater than or equal to `n`.\r\n\r\n    [1 2 3 4 5]\r\n                    (number of elements &gt;= 6) = 0\r\n             x      (number of elements &gt;= 5) = 1\r\n           x x      (number of elements &gt;= 4) = 2\r\n         x x x      (number of elements &gt;= 3) = 3\r\n       x x x x      (number of elements &gt;= 2) = 4\r\n     x x x x x      (number of elements &gt;= 1) = 5\r\n     x x x x x      (number of elements &gt;= 0) = 5\r\n","title":"how to loop over two array&#39;s but saving execution time as much as possible","body":"<p>An implementation of Basil Bourque's comment.\nThis is <code>O(n log n)</code>. (Sort is <code>O(n log n)</code> and binary search <code>O(log n)</code> repeated <code>n</code> times)</p>\n<pre><code>static List&lt;Integer&gt; giantArmy(int a[],int b[]){\n    int aLength = a.length;\n    List&lt;Integer&gt; result = new ArrayList&lt;&gt;();\n    Arrays.sort(a);\n    for (int i : b) {\n        int index = Arrays.binarySearch(a, i);\n        if (index &lt; 0)\n            index = -index - 1;\n        result.add(aLength - index);\n    }\n    return result;\n}\n\npublic static void main(String[] args) {\n    System.out.println(giantArmy(new int[] {1, 2, 3, 4, 5}, new int[] {6, 5, 4, 3, 2}));\n}\n</code></pre>\n<p>output:</p>\n<pre><code>[0, 1, 2, 3, 4]\n</code></pre>\n<p>A binary search of <code>n</code> for the sorted <code>a</code> yields the number of elements of <code>a</code> whose number of elements to the right of the position found is greater than or equal to <code>n</code>.</p>\n<pre><code>[1 2 3 4 5]\n                (number of elements &gt;= 6) = 0\n         x      (number of elements &gt;= 5) = 1\n       x x      (number of elements &gt;= 4) = 2\n     x x x      (number of elements &gt;= 3) = 3\n   x x x x      (number of elements &gt;= 2) = 4\n x x x x x      (number of elements &gt;= 1) = 5\n x x x x x      (number of elements &gt;= 0) = 5\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2616652,"reputation":833,"user_id":2265587,"accept_rate":78,"display_name":"Anand"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667912187,"creation_date":1667825658,"answer_id":74346930,"question_id":74313292,"body_markdown":"    static List&lt;Integer&gt; giantArmy(Integer a[],Integer b[]){\r\n\t\tTreeSet&lt;Integer&gt; ts = new TreeSet&lt;&gt;();\r\n\t\tList&lt;Integer&gt; aList = Arrays.asList(a);\r\n\r\n\t\tts.addAll(aList);\r\n\t\tInteger[] count = new Integer[b.length];\r\n\r\n\t\tfor (int i = 0; i &lt; b.length; i++) {\r\n\t\t\tSet&lt;Integer&gt; tail_set = ts.tailSet(b[i]);\r\n\t  \r\n\t\t\tcount[i] = tail_set.size();\r\n\t\t}\r\n\r\n\t\treturn Arrays.asList(count);\r\n\t\t\r\n\t}\r\n\r\nOUTPUT:\r\n\r\n    [0, 1, 2, 3, 4]","title":"how to loop over two array&#39;s but saving execution time as much as possible","body":"<pre><code>static List&lt;Integer&gt; giantArmy(Integer a[],Integer b[]){\n    TreeSet&lt;Integer&gt; ts = new TreeSet&lt;&gt;();\n    List&lt;Integer&gt; aList = Arrays.asList(a);\n\n    ts.addAll(aList);\n    Integer[] count = new Integer[b.length];\n\n    for (int i = 0; i &lt; b.length; i++) {\n        Set&lt;Integer&gt; tail_set = ts.tailSet(b[i]);\n  \n        count[i] = tail_set.size();\n    }\n\n    return Arrays.asList(count);\n    \n}\n</code></pre>\n<p>OUTPUT:</p>\n<pre><code>[0, 1, 2, 3, 4]\n</code></pre>\n"}],"owner":{"account_id":18315148,"reputation":105,"user_id":13337068,"display_name":"Neel Chavan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":92,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":74313710,"answer_count":2,"score":0,"last_activity_date":1667912187,"creation_date":1667545470,"question_id":74313292,"body_markdown":"I have two arrays **array a = [1, 2, 3, 4, 5]** and **array b = [6, 5, 4, 3, 2]** and i am returning a array list which contains a count where i taking elements of **array b** and checking what elements of **array a** are greater than or equal to the each element of **array b**, and i am storing this in **count** varible and later adding each **count** to the list so the output will be **list = [0, 1, 2, 3, 4]**, but the code i&#39;ve written is lacking in the performance for larger sets of input and not giving supposed answer&#39;s in the expected way any idea of how can i improve my code to improve the performance\r\n\r\n```\r\nstatic List&lt;Integer&gt; giantArmy(int a[],int b[]){\r\n\t\tList&lt;Integer&gt; list = new ArrayList&lt;Integer&gt;();\r\n\t\tif (a.length == 1 &amp;&amp; a[0] == 0) {\r\n\t\t\tlist.add(0);\r\n\t\t\treturn list;\r\n\t\t}\r\n\r\n\t\tint count = 0;\r\n\t\tfor (int i = 0; i &lt; b.length; i++) {\r\n\t\t\tfor (int j = 0; j &lt; a.length; j++) {\r\n\t\t\t\tif (a[j] &gt;= b[i]) {\r\n\t\t\t\t\tcount++;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tlist.add(count);\r\n\t\t\tcount = 0;\r\n\t\t}\r\n\t\treturn list;\r\n\t}\r\n```","title":"how to loop over two array&#39;s but saving execution time as much as possible","body":"<p>I have two arrays <strong>array a = [1, 2, 3, 4, 5]</strong> and <strong>array b = [6, 5, 4, 3, 2]</strong> and i am returning a array list which contains a count where i taking elements of <strong>array b</strong> and checking what elements of <strong>array a</strong> are greater than or equal to the each element of <strong>array b</strong>, and i am storing this in <strong>count</strong> varible and later adding each <strong>count</strong> to the list so the output will be <strong>list = [0, 1, 2, 3, 4]</strong>, but the code i've written is lacking in the performance for larger sets of input and not giving supposed answer's in the expected way any idea of how can i improve my code to improve the performance</p>\n<pre><code>static List&lt;Integer&gt; giantArmy(int a[],int b[]){\n        List&lt;Integer&gt; list = new ArrayList&lt;Integer&gt;();\n        if (a.length == 1 &amp;&amp; a[0] == 0) {\n            list.add(0);\n            return list;\n        }\n\n        int count = 0;\n        for (int i = 0; i &lt; b.length; i++) {\n            for (int j = 0; j &lt; a.length; j++) {\n                if (a[j] &gt;= b[i]) {\n                    count++;\n                }\n            }\n            list.add(count);\n            count = 0;\n        }\n        return list;\n    }\n</code></pre>\n"},{"tags":["java","jackson","swagger","objectmapper","coverity"],"comments":[{"owner":{"account_id":3144597,"reputation":9476,"user_id":2659307,"display_name":"Scott McPeak"},"score":0,"creation_date":1668214366,"post_id":74350959,"comment_id":131358770,"body_markdown":"Where does `body` come from?","body":"Where does <code>body</code> come from?"}],"owner":{"account_id":5622940,"reputation":58,"user_id":4452157,"display_name":"Shashank Jain"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":213,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1667912089,"creation_date":1667844078,"question_id":74350959,"body_markdown":"Coverity shows the block of code with unsafe deserialization.\r\n\r\nHere the body that i am receiving is internal api call which it treats as external. but i am not sure how to get the fix. is there a way we can validate here so that it is acceptable. i can always mark it as false positive but was looking out for a solution. \r\n\r\nthis is one of the newer issues that are released with the newer version (Coverity 2022.3)\r\n```\r\n           String str = jacksonObjectMapper.writeValueAsString(body);\r\n\t\t\tContentDto contentDto = jacksonObjectMapper.readValue(str, ContentDto.class);\r\n//Calling &quot;readValue&quot;. This call uses &quot;str&quot; for sensitive computation. (The virtual call resolves to &quot;com.fasterxml.jackson.databind.ObjectMapper.readValue(java.lang.String, java.lang.Class)&quot;.)\r\n```\r\n","title":"Security tool unsafe deserialization","body":"<p>Coverity shows the block of code with unsafe deserialization.</p>\n<p>Here the body that i am receiving is internal api call which it treats as external. but i am not sure how to get the fix. is there a way we can validate here so that it is acceptable. i can always mark it as false positive but was looking out for a solution.</p>\n<p>this is one of the newer issues that are released with the newer version (Coverity 2022.3)</p>\n<pre><code>           String str = jacksonObjectMapper.writeValueAsString(body);\n            ContentDto contentDto = jacksonObjectMapper.readValue(str, ContentDto.class);\n//Calling &quot;readValue&quot;. This call uses &quot;str&quot; for sensitive computation. (The virtual call resolves to &quot;com.fasterxml.jackson.databind.ObjectMapper.readValue(java.lang.String, java.lang.Class)&quot;.)\n</code></pre>\n"},{"tags":["java","spring","jaxb","spring-oxm"],"owner":{"account_id":12140581,"reputation":193,"user_id":8864570,"display_name":"Suthan S M"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":665,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1667911761,"creation_date":1667902331,"question_id":74358995,"body_markdown":"I&#39;m using `spring-oxm v5.3.23`. With `jakarta.xml.bind-api v2.3.3` it all works fine. But if I upgrade `jakarta.xml.bind-api` to `v4.0.0` below exception is thrown.\r\n\r\n```\r\norg.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.oxm.jaxb.Jaxb2Marshaller]: Factory method &#39;marshaller&#39; threw exception; nested exception is java.lang.NoClassDefFoundError: javax/xml/bind/JAXBException\r\n        at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:659)\r\n        at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:639)\r\n        at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)\r\n        at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\r\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\r\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955)\r\n        at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918)\r\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)\r\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)\r\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)\r\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)\r\n        at com.example.provisioninggateway.ProvisioningGatewayApplication.main(ProvisioningGatewayApplication.java:25)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n        at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49)\r\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:108)\r\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:58)\r\n        at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:65)\r\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;soapClientForCntdbTrigger&#39; defined in class path resource [de/telekom/pd/rcsecs/provisioninggateway/configuration/SoapWebServiceConfig.class]: Unsatisfied dependency expressed through method &#39;soapClientForCntdbTrigger&#39; parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;marshaller&#39; defined in class path resource [de/telekom/pd/rcsecs/provisioninggateway/configuration/SoapWebServiceConfig.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.oxm.jaxb.Jaxb2Marshaller]: Factory method &#39;marshaller&#39; threw exception; nested exception is java.lang.NoClassDefFoundError: javax/xml/bind/JAXBException\r\n        at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800)\r\n        at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:541)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\r\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\r\n        at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)\r\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391)\r\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)\r\n        at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:656)\r\n        ... 28 common frames omitted\r\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;marshaller&#39; defined in class path resource [de/telekom/pd/rcsecs/provisioninggateway/configuration/SoapWebServiceConfig.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.oxm.jaxb.Jaxb2Marshaller]: Factory method &#39;marshaller&#39; threw exception; nested exception is java.lang.NoClassDefFoundError: javax/xml/bind/JAXBException\r\n        at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:658)\r\n        at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:486)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\r\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\r\nat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)\r\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391)\r\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)\r\n        at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887)\r\n        at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)\r\n        ... 41 common frames omitted\r\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.oxm.jaxb.Jaxb2Marshaller]: Factory method &#39;marshaller&#39; threw exception; nested exception is java.lang.NoClassDefFoundError: javax/xml/bind/JAXBException\r\n        at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185)\r\n        at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)\r\n        ... 55 common frames omitted\r\nCaused by: java.lang.NoClassDefFoundError: javax/xml/bind/JAXBException\r\n        at com.example.provisioninggateway.configuration.SoapWebServiceConfig.marshaller(SoapWebServiceConfig.java:54)\r\n        at com.example.provisioninggateway.configuration.SoapWebServiceConfig$$EnhancerBySpringCGLIB$$acee654f.CGLIB$marshaller$4(&lt;generated&gt;)\r\n        at com.example.provisioninggateway.configuration.SoapWebServiceConfig$$EnhancerBySpringCGLIB$$acee654f$$FastClassBySpringCGLIB$$6fcdb592.invoke(&lt;generated&gt;)\r\n        at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:244)\r\n        at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331)\r\n        at com.example.provisioninggateway.configuration.SoapWebServiceConfig$$EnhancerBySpringCGLIB$$acee654f.marshaller(&lt;generated&gt;)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n        at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154)\r\n        ... 56 common frames omitted\r\nCaused by: java.lang.ClassNotFoundException: javax.xml.bind.JAXBException\r\n        at java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:445)\r\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:587)\r\n        at org.springframework.boot.loader.LaunchedURLClassLoader.loadClass(LaunchedURLClassLoader.java:151)\r\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\r\n        ... 67 common frames omitted\r\n```\r\n\r\nLooks like `spring-oxm v5.3.23` which is the latest version in the maven repository released in September 2022 is using `javax.xml.bind.JAXBException` which is the old namespace used in `jakarta.xml.bind-api v2.3.3` which is changed to `jakarta.xml.bind.JAXBException`. But I can see in the spring-oxm Git repo [here][1] it is using the new jakarta namespace from long back (Aug 2021 at least)\r\n\r\nSo is there any other possibility to use jakarta.xml.bind-api v4.0.0 or it can be done only after a new release from spring-oxm ?\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-framework/blob/main/spring-oxm/src/main/java/org/springframework/oxm/jaxb/Jaxb2Marshaller.java","title":"Using jakarta.xml.bind-api v4.0.0 with spring-oxm","body":"<p>I'm using <code>spring-oxm v5.3.23</code>. With <code>jakarta.xml.bind-api v2.3.3</code> it all works fine. But if I upgrade <code>jakarta.xml.bind-api</code> to <code>v4.0.0</code> below exception is thrown.</p>\n<pre><code>org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.oxm.jaxb.Jaxb2Marshaller]: Factory method 'marshaller' threw exception; nested exception is java.lang.NoClassDefFoundError: javax/xml/bind/JAXBException\n        at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:659)\n        at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:639)\n        at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)\n        at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955)\n        at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918)\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)\n        at com.example.provisioninggateway.ProvisioningGatewayApplication.main(ProvisioningGatewayApplication.java:25)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n        at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49)\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:108)\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:58)\n        at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:65)\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'soapClientForCntdbTrigger' defined in class path resource [de/telekom/pd/rcsecs/provisioninggateway/configuration/SoapWebServiceConfig.class]: Unsatisfied dependency expressed through method 'soapClientForCntdbTrigger' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'marshaller' defined in class path resource [de/telekom/pd/rcsecs/provisioninggateway/configuration/SoapWebServiceConfig.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.oxm.jaxb.Jaxb2Marshaller]: Factory method 'marshaller' threw exception; nested exception is java.lang.NoClassDefFoundError: javax/xml/bind/JAXBException\n        at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800)\n        at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:541)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\n        at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391)\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)\n        at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:656)\n        ... 28 common frames omitted\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'marshaller' defined in class path resource [de/telekom/pd/rcsecs/provisioninggateway/configuration/SoapWebServiceConfig.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.oxm.jaxb.Jaxb2Marshaller]: Factory method 'marshaller' threw exception; nested exception is java.lang.NoClassDefFoundError: javax/xml/bind/JAXBException\n        at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:658)\n        at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:486)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\nat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391)\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)\n        at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887)\n        at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)\n        ... 41 common frames omitted\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.oxm.jaxb.Jaxb2Marshaller]: Factory method 'marshaller' threw exception; nested exception is java.lang.NoClassDefFoundError: javax/xml/bind/JAXBException\n        at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185)\n        at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)\n        ... 55 common frames omitted\nCaused by: java.lang.NoClassDefFoundError: javax/xml/bind/JAXBException\n        at com.example.provisioninggateway.configuration.SoapWebServiceConfig.marshaller(SoapWebServiceConfig.java:54)\n        at com.example.provisioninggateway.configuration.SoapWebServiceConfig$$EnhancerBySpringCGLIB$$acee654f.CGLIB$marshaller$4(&lt;generated&gt;)\n        at com.example.provisioninggateway.configuration.SoapWebServiceConfig$$EnhancerBySpringCGLIB$$acee654f$$FastClassBySpringCGLIB$$6fcdb592.invoke(&lt;generated&gt;)\n        at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:244)\n        at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331)\n        at com.example.provisioninggateway.configuration.SoapWebServiceConfig$$EnhancerBySpringCGLIB$$acee654f.marshaller(&lt;generated&gt;)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n        at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154)\n        ... 56 common frames omitted\nCaused by: java.lang.ClassNotFoundException: javax.xml.bind.JAXBException\n        at java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:445)\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:587)\n        at org.springframework.boot.loader.LaunchedURLClassLoader.loadClass(LaunchedURLClassLoader.java:151)\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\n        ... 67 common frames omitted\n</code></pre>\n<p>Looks like <code>spring-oxm v5.3.23</code> which is the latest version in the maven repository released in September 2022 is using <code>javax.xml.bind.JAXBException</code> which is the old namespace used in <code>jakarta.xml.bind-api v2.3.3</code> which is changed to <code>jakarta.xml.bind.JAXBException</code>. But I can see in the spring-oxm Git repo <a href=\"https://github.com/spring-projects/spring-framework/blob/main/spring-oxm/src/main/java/org/springframework/oxm/jaxb/Jaxb2Marshaller.java\" rel=\"nofollow noreferrer\">here</a> it is using the new jakarta namespace from long back (Aug 2021 at least)</p>\n<p>So is there any other possibility to use jakarta.xml.bind-api v4.0.0 or it can be done only after a new release from spring-oxm ?</p>\n"},{"tags":["java","object","generics","properties"],"answers":[{"tags":[],"owner":{"account_id":208830,"reputation":10240,"user_id":459557,"display_name":"vanje"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667911726,"creation_date":1667911726,"answer_id":74361028,"question_id":74358979,"body_markdown":"Use class `PropertyUtils` from [Apache Commons BeanUtils][1].\r\n\r\n    public static void main( String[] args ) {\r\n      Emp emp = new Emp();\r\n      emp.setId(1);\r\n      emp.setMsisdn(&quot;msisdnvalue&quot;);\r\n\r\n      try {\r\n        String msisdn = (String) PropertyUtils.getProperty(emp, &quot;msisdn&quot;);\r\n        System.out.println(String.format(&quot;msisdn: %s&quot;, msisdn));\r\n      } catch(Exception e) {\r\n        e.printStackTrace();\r\n      }\r\n    }\r\n\r\n\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-beanutils/","title":"Get object properties from a generic object in java","body":"<p>Use class <code>PropertyUtils</code> from <a href=\"https://commons.apache.org/proper/commons-beanutils/\" rel=\"nofollow noreferrer\">Apache Commons BeanUtils</a>.</p>\n<pre><code>public static void main( String[] args ) {\n  Emp emp = new Emp();\n  emp.setId(1);\n  emp.setMsisdn(&quot;msisdnvalue&quot;);\n\n  try {\n    String msisdn = (String) PropertyUtils.getProperty(emp, &quot;msisdn&quot;);\n    System.out.println(String.format(&quot;msisdn: %s&quot;, msisdn));\n  } catch(Exception e) {\n    e.printStackTrace();\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":22956011,"reputation":26,"user_id":17086565,"display_name":"Yeasin Arafat"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":141,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667911726,"creation_date":1667902248,"question_id":74358979,"body_markdown":"I have a method to get properties from a generic object in c# below. How can I get the same in java? \r\n\r\n```\r\npublic string GetProperty&lt;T&gt;(T obj)\r\n        {\r\n            var s = string.Empty;\r\n            var t = obj.GetType();\r\n            foreach (var pi in t.GetProperties()) \r\n                s += &quot;  &quot; + pi.Name + &quot;:&quot; + pi.GetValue(obj, null);\r\n            return s;\r\n        }\r\n```\r\n\r\n\r\n\r\nSuppose I have a class Emp as below\r\n\r\n```\r\npublic class Emp {\r\n\tint Id;\r\n\tString Msisdn;\r\n\t\r\n\t\r\n\tpublic int getId() {\r\n\t\treturn Id;\r\n\t}\r\n\tpublic void setId(int id) {\r\n\t\tId = id;\r\n\t}\r\n\tpublic String getMsisdn() {\r\n\t\treturn Msisdn;\r\n\t}\r\n\tpublic void setMsisdn(String msisdn) {\r\n\t\tMsisdn = msisdn;\r\n\t}\r\n\t\r\n}\r\n```\r\n\r\nI want to call a method like below\r\n\r\n```\r\npublic Emp data = new Emp();\r\nemp.setId(1);\r\nemp.SetMsisdn(&quot;1404850126&quot;);\r\n\r\nString s = ConvertString(data);\r\n```\r\n\r\nIt will Return \r\n\r\n&gt; Id:1 Msisdn:1404850126\r\n","title":"Get object properties from a generic object in java","body":"<p>I have a method to get properties from a generic object in c# below. How can I get the same in java?</p>\n<pre><code>public string GetProperty&lt;T&gt;(T obj)\n        {\n            var s = string.Empty;\n            var t = obj.GetType();\n            foreach (var pi in t.GetProperties()) \n                s += &quot;  &quot; + pi.Name + &quot;:&quot; + pi.GetValue(obj, null);\n            return s;\n        }\n</code></pre>\n<p>Suppose I have a class Emp as below</p>\n<pre><code>public class Emp {\n    int Id;\n    String Msisdn;\n    \n    \n    public int getId() {\n        return Id;\n    }\n    public void setId(int id) {\n        Id = id;\n    }\n    public String getMsisdn() {\n        return Msisdn;\n    }\n    public void setMsisdn(String msisdn) {\n        Msisdn = msisdn;\n    }\n    \n}\n</code></pre>\n<p>I want to call a method like below</p>\n<pre><code>public Emp data = new Emp();\nemp.setId(1);\nemp.SetMsisdn(&quot;1404850126&quot;);\n\nString s = ConvertString(data);\n</code></pre>\n<p>It will Return</p>\n<blockquote>\n<p>Id:1 Msisdn:1404850126</p>\n</blockquote>\n"},{"tags":["java","spring-boot","junit","spring-boot-test","application.properties"],"comments":[{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1667899224,"post_id":74358115,"comment_id":131271764,"body_markdown":"As `ServerLoadConfiguration` is not `static` it will contain a  `IntegrationTest .this`, which is what you are probably experiencing. Make it `static`.","body":"As <code>ServerLoadConfiguration</code> is not <code>static</code> it will contain a  <code>IntegrationTest .this</code>, which is what you are probably experiencing. Make it <code>static</code>."},{"owner":{"account_id":26856552,"reputation":13,"user_id":20440772,"display_name":"nixadet464"},"score":0,"creation_date":1667899405,"post_id":74358115,"comment_id":131271831,"body_markdown":"@JoopEggen I get &quot;Only non-static nested classes can serve as &#39;@Nested&#39; test classes &quot; also I won&#39;t be able to use @Autowired objects from `IntegrationTest`","body":"@JoopEggen I get &quot;Only non-static nested classes can serve as &#39;@Nested&#39; test classes &quot; also I won&#39;t be able to use @Autowired objects from <code>IntegrationTest</code>"},{"owner":{"account_id":26856552,"reputation":13,"user_id":20440772,"display_name":"nixadet464"},"score":0,"creation_date":1667900984,"post_id":74358115,"comment_id":131272448,"body_markdown":"@xerx593 it&#39;s just an example.","body":"@xerx593 it&#39;s just an example."},{"owner":{"account_id":26856552,"reputation":13,"user_id":20440772,"display_name":"nixadet464"},"score":0,"creation_date":1667901178,"post_id":74358115,"comment_id":131272529,"body_markdown":"@xerx593 then I guess it would not work if I would put this annotation on outer class.","body":"@xerx593 then I guess it would not work if I would put this annotation on outer class."}],"answers":[{"tags":[],"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667911405,"creation_date":1667903685,"answer_id":74359273,"question_id":74358115,"body_markdown":"Sorry, cannot reproduce, with:\r\n1. With [simple(st) quickstarter][1]\r\n2. Simple (java&gt;16) props:\r\n   ```\r\n   package com.example.demo;\r\n\r\n   import org.springframework.boot.context.properties.ConfigurationProperties;\r\n\r\n   @ConfigurationProperties(&quot;my&quot;)\r\n   record PropertyConfig(String foo) { }\r\n   ```\r\n3. Simple(st) Config:\r\n   ```\r\n   package com.example.demo;\r\n\r\n   import org.springframework.boot.SpringApplication;\r\n   import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n   import org.springframework.boot.context.properties.EnableConfigurationProperties;\r\n\r\n   @SpringBootApplication\r\n   @EnableConfigurationProperties(PropertyConfig.class)\r\n   public class DemoApplication {\r\n\r\n     public static void main(String[] args) {\r\n       SpringApplication.run(DemoApplication.class, args);\r\n     }\r\n\r\n   }\r\n   ```\r\n4. Test:\r\n   ```\r\n   package com.example.demo;\r\n\r\n   import org.junit.jupiter.api.Assertions;\r\n   import org.junit.jupiter.api.Nested;\r\n   import org.junit.jupiter.api.Test;\r\n   import org.springframework.beans.factory.annotation.Autowired;\r\n   import org.springframework.boot.test.context.SpringBootTest;\r\n   import org.springframework.context.ApplicationContext;\r\n   import org.springframework.test.context.TestPropertySource;\r\n\r\n   @SpringBootTest\r\n   @TestPropertySource(properties = {&quot;my.foo=bar&quot;})\r\n   public class DemoApplicationIT {\r\n\r\n     @Autowired\r\n     private PropertyConfig my;\r\n\r\n     @Nested\r\n     class InnerDefaultIT {\r\n\r\n       @Autowired\r\n       private PropertyConfig myInner;\r\n\r\n       @Test\r\n       void testInner() {\r\n         Assertions.assertNotNull(myInner.foo());\r\n         Assertions.assertEquals(my.foo(), myInner.foo());\r\n       }\r\n     }\r\n\r\n     @Nested\r\n     @TestPropertySource(properties = {&quot;my.foo=baz&quot;})\r\n     class InnerIT {\r\n\r\n       @Autowired\r\n       private PropertyConfig myInner;\r\n\r\n       @Test\r\n       void testInner() {\r\n         Assertions.assertEquals(&quot;bar&quot;, my.foo());\r\n         Assertions.assertEquals(&quot;baz&quot;, myInner.foo());\r\n       }\r\n     }\r\n\r\n     @Test\r\n     void testOuter() {\r\n       Assertions.assertEquals(&quot;bar&quot;, my.foo());\r\n     }\r\n\r\n   }\r\n\r\n   ```\r\n4. Passes (as &quot;unit&quot; as &quot;integration&quot;):\r\n   ```lang-bash\r\n   Tests run: 3, Failures: 0, Errors: 0, Skipped: 0\r\n   ```\r\n\r\n\r\n\r\n  [1]: https://start.spring.io/#!type=gradle-project&amp;language=java&amp;platformVersion=2.7.5&amp;packaging=jar&amp;jvmVersion=17&amp;groupId=com.example&amp;artifactId=demo&amp;name=demo&amp;description=Demo%20project%20for%20Spring%20Boot&amp;packageName=com.example.demo\r\n  [2]: https://www.google.com/search?q=testpropertysource%20site:github.com/spring-projects/spring-framework/releases\r\n  [3]: https://github.com/spring-projects/spring-framework/issues?q=is%3Aissue%20is%3Aopen%20%22TestPropertySource%22%20in%3Atitle%20","title":"@Nested class takes default application.properties values","body":"<p>Sorry, cannot reproduce, with:</p>\n<ol>\n<li>With <a href=\"https://start.spring.io/#!type=gradle-project&amp;language=java&amp;platformVersion=2.7.5&amp;packaging=jar&amp;jvmVersion=17&amp;groupId=com.example&amp;artifactId=demo&amp;name=demo&amp;description=Demo%20project%20for%20Spring%20Boot&amp;packageName=com.example.demo\" rel=\"nofollow noreferrer\">simple(st) quickstarter</a></li>\n<li>Simple (java&gt;16) props:\n<pre><code>package com.example.demo;\n\nimport org.springframework.boot.context.properties.ConfigurationProperties;\n\n@ConfigurationProperties(&quot;my&quot;)\nrecord PropertyConfig(String foo) { }\n</code></pre>\n</li>\n<li>Simple(st) Config:\n<pre><code>package com.example.demo;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.boot.context.properties.EnableConfigurationProperties;\n\n@SpringBootApplication\n@EnableConfigurationProperties(PropertyConfig.class)\npublic class DemoApplication {\n\n  public static void main(String[] args) {\n    SpringApplication.run(DemoApplication.class, args);\n  }\n\n}\n</code></pre>\n</li>\n<li>Test:\n<pre><code>package com.example.demo;\n\nimport org.junit.jupiter.api.Assertions;\nimport org.junit.jupiter.api.Nested;\nimport org.junit.jupiter.api.Test;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.test.context.SpringBootTest;\nimport org.springframework.context.ApplicationContext;\nimport org.springframework.test.context.TestPropertySource;\n\n@SpringBootTest\n@TestPropertySource(properties = {&quot;my.foo=bar&quot;})\npublic class DemoApplicationIT {\n\n  @Autowired\n  private PropertyConfig my;\n\n  @Nested\n  class InnerDefaultIT {\n\n    @Autowired\n    private PropertyConfig myInner;\n\n    @Test\n    void testInner() {\n      Assertions.assertNotNull(myInner.foo());\n      Assertions.assertEquals(my.foo(), myInner.foo());\n    }\n  }\n\n  @Nested\n  @TestPropertySource(properties = {&quot;my.foo=baz&quot;})\n  class InnerIT {\n\n    @Autowired\n    private PropertyConfig myInner;\n\n    @Test\n    void testInner() {\n      Assertions.assertEquals(&quot;bar&quot;, my.foo());\n      Assertions.assertEquals(&quot;baz&quot;, myInner.foo());\n    }\n  }\n\n  @Test\n  void testOuter() {\n    Assertions.assertEquals(&quot;bar&quot;, my.foo());\n  }\n\n}\n\n</code></pre>\n</li>\n<li>Passes (as &quot;unit&quot; as &quot;integration&quot;):\n<pre class=\"lang-bash prettyprint-override\"><code>Tests run: 3, Failures: 0, Errors: 0, Skipped: 0\n</code></pre>\n</li>\n</ol>\n"}],"owner":{"account_id":26856552,"reputation":13,"user_id":20440772,"display_name":"nixadet464"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1188,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74359273,"answer_count":1,"score":1,"last_activity_date":1667911405,"creation_date":1667898303,"question_id":74358115,"body_markdown":"Could you tell me why if I have integration test like:\r\n\r\n\r\n```\r\n@TestPropertySource(properties = {&quot;spring.application.environment=dev&quot;})\r\n@SpringBootTest\r\nclass IntegrationTest  {\r\n\r\n@Autowired\r\nPropertyConfig propertyConfig;\r\n\r\n@Nested\r\n@SpringBootTest\r\n@TestPropertySource(properties = {&quot;spring.application.environment=dev&quot;, &quot;spring.application.property=example&quot;})\r\nclass ServerLoadConfiguration  {\r\n    \r\n    @Test\r\n\r\n    void exampleTest() {\r\nString someProperty = propertyConfig.getSomeProperty(); // old value\r\n        ....\r\n    }\r\n}\r\n```\r\n\r\n\r\nfor exampleTest I get values of properties from &#39;default&#39; properties instead of overridden with that one property specified in @TestPropertySource spring.application.property?\r\n\r\nIf I make `@TestPropertySource(properties = {&quot;spring.application.environment=dev&quot;, &quot;spring.application.property=example&quot;})\r\n` on IntegrationTest level, then nested class have this value applied.","title":"@Nested class takes default application.properties values","body":"<p>Could you tell me why if I have integration test like:</p>\n<pre><code>@TestPropertySource(properties = {&quot;spring.application.environment=dev&quot;})\n@SpringBootTest\nclass IntegrationTest  {\n\n@Autowired\nPropertyConfig propertyConfig;\n\n@Nested\n@SpringBootTest\n@TestPropertySource(properties = {&quot;spring.application.environment=dev&quot;, &quot;spring.application.property=example&quot;})\nclass ServerLoadConfiguration  {\n    \n    @Test\n\n    void exampleTest() {\nString someProperty = propertyConfig.getSomeProperty(); // old value\n        ....\n    }\n}\n</code></pre>\n<p>for exampleTest I get values of properties from 'default' properties instead of overridden with that one property specified in @TestPropertySource spring.application.property?</p>\n<p>If I make <code>@TestPropertySource(properties = {&quot;spring.application.environment=dev&quot;, &quot;spring.application.property=example&quot;}) </code> on IntegrationTest level, then nested class have this value applied.</p>\n"},{"tags":["java","stream"],"comments":[{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":1,"creation_date":1667907772,"post_id":74359957,"comment_id":131274895,"body_markdown":"Sorry, but the snippet of code you&#39;ve shared doesn&#39;t make much sense even without streams. If you want to use streams but don&#39;t know where to start - then start with **learning** basic information about [lambda expressions](https://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html) and [streams](https://docs.oracle.com/javase/tutorial/collections/streams/index.html). And one of the very first thing you need to remember is that streams are **not** a just another way of writing loop, and they are not applicable in every case where loops can be used.","body":"Sorry, but the snippet of code you&#39;ve shared doesn&#39;t make much sense even without streams. If you want to use streams but don&#39;t know where to start - then start with <b>learning</b> basic information about <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html\" rel=\"nofollow noreferrer\">lambda expressions</a> and <a href=\"https://docs.oracle.com/javase/tutorial/collections/streams/index.html\" rel=\"nofollow noreferrer\">streams</a>. And one of the very first thing you need to remember is that streams are <b>not</b> a just another way of writing loop, and they are not applicable in every case where loops can be used."},{"owner":{"account_id":6560244,"reputation":1,"user_id":5071614,"display_name":"Adeel Aslam"},"score":0,"creation_date":1667907896,"post_id":74359957,"comment_id":131274930,"body_markdown":"I want characterAfterEncryption in range 97 to 122 and until it is not I am subtracting  26 in each iteration from it.","body":"I want characterAfterEncryption in range 97 to 122 and until it is not I am subtracting  26 in each iteration from it."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1667908021,"post_id":74359957,"comment_id":131274981,"body_markdown":"Did you manage to read so quickly the information provided via links in [this comment](https://stackoverflow.com/questions/74359957/should-a-traditional-while-loop-like-this-change-to-streams-in-java-and-how?noredirect=1#comment131274895_74359957) ?","body":"Did you manage to read so quickly the information provided via links in <a href=\"https://stackoverflow.com/questions/74359957/should-a-traditional-while-loop-like-this-change-to-streams-in-java-and-how?noredirect=1#comment131274895_74359957\">this comment</a> ?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1667909311,"post_id":74359957,"comment_id":131275396,"body_markdown":"Why are you using a loop rather than n&#39; = n - (n-97)/26 * 26 (all integer operations)?","body":"Why are you using a loop rather than n&#39; = n - (n-97)/26 * 26 (all integer operations)?"},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":1,"creation_date":1667914651,"post_id":74359957,"comment_id":131277558,"body_markdown":"*Should I focus on trying to change every loop in my project to new Streams?* In a word, **No**.","body":"<i>Should I focus on trying to change every loop in my project to new Streams?</i> In a word, <b>No</b>."}],"answers":[{"tags":[],"owner":{"account_id":11180480,"reputation":7021,"user_id":8207228,"display_name":"Ralf Kleberhoff"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667911174,"creation_date":1667911174,"answer_id":74360921,"question_id":74359957,"body_markdown":"Use streams if and only if the stream-based code is easier to understand than the loop-based code. Streams and loops are both valid Java constructs, and it&#39;s the developer&#39;s responsibility to decide which one to use.\r\n\r\nStreams are designed to support cases where you want to operate on multiple input values, e.g. from lists or sets or other series of data. And this does not apply to your snippet: you have a single input value. So, while it might be possible to create some piece of code that replicates the iterative algorithm using the streams API, the result will surely be very hard to read.\r\n\r\nSo, forget about &quot;Trying to avoid using Traditional loops in Java 8&quot;. There are cases where this is a good idea, but also cases where the traditional loop is exactly the right thing to do. And if you ever tried to debug a streams expression, you&#39;ll be even more hesitant to use the streams API.","title":"Should a traditional while loop like this change to streams in Java and how?","body":"<p>Use streams if and only if the stream-based code is easier to understand than the loop-based code. Streams and loops are both valid Java constructs, and it's the developer's responsibility to decide which one to use.</p>\n<p>Streams are designed to support cases where you want to operate on multiple input values, e.g. from lists or sets or other series of data. And this does not apply to your snippet: you have a single input value. So, while it might be possible to create some piece of code that replicates the iterative algorithm using the streams API, the result will surely be very hard to read.</p>\n<p>So, forget about &quot;Trying to avoid using Traditional loops in Java 8&quot;. There are cases where this is a good idea, but also cases where the traditional loop is exactly the right thing to do. And if you ever tried to debug a streams expression, you'll be even more hesitant to use the streams API.</p>\n"}],"owner":{"account_id":6560244,"reputation":1,"user_id":5071614,"display_name":"Adeel Aslam"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1667926870,"answer_count":1,"score":-2,"last_activity_date":1667911174,"creation_date":1667906787,"question_id":74359957,"body_markdown":"Should I focus on trying to change every loop in my project to new Streams ? Should the loop below change to streams and how? \r\n\r\n\r\n```\r\nwhile(characterAfterEncryption &gt; 122) {\r\n                \tcharacterAfterEncryption -= 26; \r\n                }\r\n```\r\n\r\n\r\nTrying to avoid using Traditional loops in Java 8. \r\n\r\nUnable to find a way how to do it using Streams? ","title":"Should a traditional while loop like this change to streams in Java and how?","body":"<p>Should I focus on trying to change every loop in my project to new Streams ? Should the loop below change to streams and how?</p>\n<pre><code>while(characterAfterEncryption &gt; 122) {\n                    characterAfterEncryption -= 26; \n                }\n</code></pre>\n<p>Trying to avoid using Traditional loops in Java 8.</p>\n<p>Unable to find a way how to do it using Streams?</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":5184208,"reputation":1187,"user_id":4149026,"display_name":"Koloritnij"},"score":0,"creation_date":1667906099,"post_id":74359749,"comment_id":131274275,"body_markdown":"Why you don&#39;t want to use JWT for API authentication?","body":"Why you don&#39;t want to use JWT for API authentication?"},{"owner":{"account_id":26782616,"reputation":313,"user_id":20377250,"display_name":"Alex_X1"},"score":0,"creation_date":1667906782,"post_id":74359749,"comment_id":131274527,"body_markdown":"I never heard of JWT before, but I&#39;ll take a look into it.","body":"I never heard of JWT before, but I&#39;ll take a look into it."},{"owner":{"account_id":26782616,"reputation":313,"user_id":20377250,"display_name":"Alex_X1"},"score":0,"creation_date":1667907995,"post_id":74359749,"comment_id":131274970,"body_markdown":"But it doesn&#39;t solve my problem though","body":"But it doesn&#39;t solve my problem though"},{"owner":{"account_id":5184208,"reputation":1187,"user_id":4149026,"display_name":"Koloritnij"},"score":0,"creation_date":1667910576,"post_id":74359749,"comment_id":131275908,"body_markdown":"you don&#39;t need to validate the creds and put something into the session as it would be done by spring security. Link to docs https://docs.spring.io/spring-security/reference/servlet/oauth2/resource-server/jwt.html","body":"you don&#39;t need to validate the creds and put something into the session as it would be done by spring security. Link to docs <a href=\"https://docs.spring.io/spring-security/reference/servlet/oauth2/resource-server/jwt.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-security/reference/servlet/oauth2/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":13316371,"reputation":80,"user_id":13393881,"display_name":"fire_Rising"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667910563,"creation_date":1667909549,"answer_id":74360545,"question_id":74359749,"body_markdown":"You can check session cookie validation with Spring Security:\r\n\r\n```\r\n@Bean\r\npublic SecurityFilterChain filterChain(HttpSecurity http) {\r\n    http\r\n        .sessionManagement(session -&gt; session\r\n            .sessionCreationPolicy(SessionCreationPolicy.ALWAYS)\r\n        );\r\n    return http.build();\r\n}\r\n```\r\n\r\ncookie: JSESSIONID\r\n\r\nSo in that case you&#39;ll have automatic session cookie validation.\r\n\r\nhttps://docs.spring.io/spring-security/reference/servlet/authentication/session-management.html\r\n&lt;hr/&gt;\r\n\r\n**But I would recommend to use JWT Tokens (OAuth 2.0 standard). With Spring Security it&#39;s easy to validate and inject Tokens with spring-boot-starter-oauth2-resource-server dependency** ","title":"Spring only allow access if Session Cookie is valid","body":"<p>You can check session cookie validation with Spring Security:</p>\n<pre><code>@Bean\npublic SecurityFilterChain filterChain(HttpSecurity http) {\n    http\n        .sessionManagement(session -&gt; session\n            .sessionCreationPolicy(SessionCreationPolicy.ALWAYS)\n        );\n    return http.build();\n}\n</code></pre>\n<p>cookie: JSESSIONID</p>\n<p>So in that case you'll have automatic session cookie validation.</p>\n<p><a href=\"https://docs.spring.io/spring-security/reference/servlet/authentication/session-management.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-security/reference/servlet/authentication/session-management.html</a></p>\n<hr/>\n<p><strong>But I would recommend to use JWT Tokens (OAuth 2.0 standard). With Spring Security it's easy to validate and inject Tokens with spring-boot-starter-oauth2-resource-server dependency</strong></p>\n"}],"owner":{"account_id":26782616,"reputation":313,"user_id":20377250,"display_name":"Alex_X1"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":763,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74360545,"answer_count":1,"score":0,"last_activity_date":1667910563,"creation_date":1667905864,"question_id":74359749,"body_markdown":"I want to lock all functions of my API behind an authentication. I managed it so send a Session cookie, but I don&#39;t want to check if the cookie is valid in every single function. There gotta be a better way, right? I know I am not supposed to save passwords in clear text, but this code is only for testing purposes.\r\nLogin:\r\n```\r\n@RestController\r\n@EnableSpringHttpSession\r\npublic class OnlineMapping {\r\n    @Autowired\r\n    private UserRepository userRepository;\r\n    @PostMapping(path = &quot;/online&quot;)\r\n    public ResponseEntity&lt;?&gt; onlineRequest(@RequestBody OnlineRequest onlineRequest, HttpSession session) {\r\n        User user;\r\n        user = userRepository.findUserByUsernameAndPassword(onlineRequest.username, onlineRequest.password);\r\n        if (user!=null){\r\n            user.setLatestTimeStamp(System.currentTimeMillis());\r\n\r\n            return new ResponseEntity&lt;&gt;(&quot;You are now online, Enjoy!&quot;, HttpStatus.OK);\r\n        } else {\r\n            session.setAttribute(&quot;valid&quot;, false);\r\n            session.invalidate();\r\n            return new ResponseEntity&lt;&gt;(&quot;Invalid login&quot;, HttpStatus.valueOf(401));\r\n        }\r\n    }\r\n}\r\n```\r\nExample function:\r\n```java @PostMapping(&quot;/add&quot;)\r\n    public ResponseEntity&lt;?&gt; createMessage(@RequestBody MessageCreateRequest messageCreateRequest, HttpSession session) {\r\n        if (session.getAttribute(&quot;valid&quot;).equals(true)){ //I dont want this\r\n            Message m = new Message();\r\n            m.setContent(messageCreateRequest.content);\r\n            m.setSenderID(messageCreateRequest.senderID);\r\n            m.setChannelID(messageCreateRequest.channelID);\r\n            m.setTimeStamp(System.currentTimeMillis());\r\n            messageRepository.save(m);\r\n            return new ResponseEntity&lt;&gt;(&quot;Message created!&quot;, HttpStatus.OK);\r\n        }//\r\n        return new ResponseEntity&lt;&gt;(&quot;Invalid Session&quot;, HttpStatus.UNAUTHORIZED);\r\n    }```","title":"Spring only allow access if Session Cookie is valid","body":"<p>I want to lock all functions of my API behind an authentication. I managed it so send a Session cookie, but I don't want to check if the cookie is valid in every single function. There gotta be a better way, right? I know I am not supposed to save passwords in clear text, but this code is only for testing purposes.\nLogin:</p>\n<pre><code>@RestController\n@EnableSpringHttpSession\npublic class OnlineMapping {\n    @Autowired\n    private UserRepository userRepository;\n    @PostMapping(path = &quot;/online&quot;)\n    public ResponseEntity&lt;?&gt; onlineRequest(@RequestBody OnlineRequest onlineRequest, HttpSession session) {\n        User user;\n        user = userRepository.findUserByUsernameAndPassword(onlineRequest.username, onlineRequest.password);\n        if (user!=null){\n            user.setLatestTimeStamp(System.currentTimeMillis());\n\n            return new ResponseEntity&lt;&gt;(&quot;You are now online, Enjoy!&quot;, HttpStatus.OK);\n        } else {\n            session.setAttribute(&quot;valid&quot;, false);\n            session.invalidate();\n            return new ResponseEntity&lt;&gt;(&quot;Invalid login&quot;, HttpStatus.valueOf(401));\n        }\n    }\n}\n</code></pre>\n<p>Example function:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public ResponseEntity&lt;?&gt; createMessage(@RequestBody MessageCreateRequest messageCreateRequest, HttpSession session) {\n        if (session.getAttribute(&quot;valid&quot;).equals(true)){ //I dont want this\n            Message m = new Message();\n            m.setContent(messageCreateRequest.content);\n            m.setSenderID(messageCreateRequest.senderID);\n            m.setChannelID(messageCreateRequest.channelID);\n            m.setTimeStamp(System.currentTimeMillis());\n            messageRepository.save(m);\n            return new ResponseEntity&lt;&gt;(&quot;Message created!&quot;, HttpStatus.OK);\n        }//\n        return new ResponseEntity&lt;&gt;(&quot;Invalid Session&quot;, HttpStatus.UNAUTHORIZED);\n    }```\n</code></pre>\n"},{"tags":["java","android","java-native-interface","loadlibrary"],"answers":[{"tags":[],"owner":{"account_id":1684984,"reputation":27030,"user_id":1548468,"display_name":"Botje"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667910549,"creation_date":1667910549,"answer_id":74360779,"question_id":74360121,"body_markdown":"Depends on how the library maps Java methods to native function pointers: it can do one or both of the following:\r\n\r\n- Dynamic symbols that start with `Java_` are [mangled names for the class and method name][1].\r\n\r\n- If the code uses RegisterNatives system call you will have to put a breakpoint on `env-&gt;RegisterNatives` and look at the surrounding code/arguments.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/technotes/guides/jni/spec/design.html#wp615","title":"See result of System.loadLibrary/ the defined methods and classes?","body":"<p>Depends on how the library maps Java methods to native function pointers: it can do one or both of the following:</p>\n<ul>\n<li><p>Dynamic symbols that start with <code>Java_</code> are <a href=\"https://docs.oracle.com/javase/7/docs/technotes/guides/jni/spec/design.html#wp615\" rel=\"nofollow noreferrer\">mangled names for the class and method name</a>.</p>\n</li>\n<li><p>If the code uses RegisterNatives system call you will have to put a breakpoint on <code>env-&gt;RegisterNatives</code> and look at the surrounding code/arguments.</p>\n</li>\n</ul>\n"}],"owner":{"account_id":22215880,"reputation":41,"user_id":16454332,"display_name":"Markusbug"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74360779,"answer_count":1,"score":0,"last_activity_date":1667910549,"creation_date":1667907614,"question_id":74360121,"body_markdown":"I have an .so file that I successfully integrated into android studio and I can load the file by calling `System.loadLibrary`. \r\n\r\nIs there a way I can see what methods and classes I can use now with this library loaded?","title":"See result of System.loadLibrary/ the defined methods and classes?","body":"<p>I have an .so file that I successfully integrated into android studio and I can load the file by calling <code>System.loadLibrary</code>.</p>\n<p>Is there a way I can see what methods and classes I can use now with this library loaded?</p>\n"},{"tags":["java","algorithm","data-structures","hashmap"],"comments":[{"owner":{"account_id":9838723,"reputation":197,"user_id":7288288,"accept_rate":0,"display_name":"Jayamal Jayamaha  "},"score":0,"creation_date":1667898637,"post_id":74358040,"comment_id":131271567,"body_markdown":"in your solution, I think time complexity is O(n) right?","body":"in your solution, I think time complexity is O(n) right?"},{"owner":{"account_id":5279068,"reputation":895,"user_id":4215032,"display_name":"Pp88"},"score":0,"creation_date":1667900491,"post_id":74358040,"comment_id":131272231,"body_markdown":"you can use a `HashMap&lt;String, Integer&gt;` to store the candidate and the number of votes and with the help of `Map::merge` keep track of the candidate with the maximum number of votes without reiteratre the map to find the max but I don&#39;t think you can do better of O(n). I don&#39;t see the necessity to store the time in the map","body":"you can use a <code>HashMap&lt;String, Integer&gt;</code> to store the candidate and the number of votes and with the help of <code>Map::merge</code> keep track of the candidate with the maximum number of votes without reiteratre the map to find the max but I don&#39;t think you can do better of O(n). I don&#39;t see the necessity to store the time in the map"},{"owner":{"account_id":7142980,"reputation":323243,"user_id":5459839,"display_name":"trincot"},"score":0,"creation_date":1667904174,"post_id":74358040,"comment_id":131273615,"body_markdown":"Do you get only one time to give the answer for, or are there multiple queries for the same data set?","body":"Do you get only one time to give the answer for, or are there multiple queries for the same data set?"},{"owner":{"account_id":5736180,"reputation":21,"user_id":4530284,"display_name":"Shobhit Mittal"},"score":0,"creation_date":1667904975,"post_id":74358040,"comment_id":131273891,"body_markdown":"yes @trincot, there is just one time for a single testcase","body":"yes @trincot, there is just one time for a single testcase"},{"owner":{"account_id":7142980,"reputation":323243,"user_id":5459839,"display_name":"trincot"},"score":0,"creation_date":1667905109,"post_id":74358040,"comment_id":131273948,"body_markdown":"Well since you have to read every vote as input, you are already spending time that is linear to the number of inputs, so you cannot hope to get a lesser time complexity than that, i.e. O(n).","body":"Well since you have to read every vote as input, you are already spending time that is linear to the number of inputs, so you cannot hope to get a lesser time complexity than that, i.e. O(n)."},{"owner":{"account_id":5736180,"reputation":21,"user_id":4530284,"display_name":"Shobhit Mittal"},"score":0,"creation_date":1667905189,"post_id":74358040,"comment_id":131273972,"body_markdown":"@JayamalJayamaha It will be nlogn since we will have to iterate through the list as well, iterating over the list could be binary search though since times will be sorted (increasing) order","body":"@JayamalJayamaha It will be nlogn since we will have to iterate through the list as well, iterating over the list could be binary search though since times will be sorted (increasing) order"},{"owner":{"account_id":5736180,"reputation":21,"user_id":4530284,"display_name":"Shobhit Mittal"},"score":0,"creation_date":1667905363,"post_id":74358040,"comment_id":131274031,"body_markdown":"@Pp88 could you please elaborate a bit, i cannot see how it will work without having &quot;time&quot; stored somehow..","body":"@Pp88 could you please elaborate a bit, i cannot see how it will work without having &quot;time&quot; stored somehow.."},{"owner":{"account_id":5279068,"reputation":895,"user_id":4215032,"display_name":"Pp88"},"score":0,"creation_date":1667905809,"post_id":74358040,"comment_id":131274158,"body_markdown":"Who will win if they have the same votes?","body":"Who will win if they have the same votes?"},{"owner":{"account_id":2684795,"reputation":182450,"user_id":2319407,"display_name":"Dmitry Bychenko"},"score":0,"creation_date":1667906192,"post_id":74358040,"comment_id":131274308,"body_markdown":"I suggest sorting the votes by time and then compute winners changes with a help of prefix sums: `(time : 4, A), (time 18 : C), (time 42: B)` now you can query it with a help of binary search: At time `20` we have closest record `(time : 18, C)`. Time complexity `O(n * log(n))` to build the structure, `O(log(n))` to query for each time.","body":"I suggest sorting the votes by time and then compute winners changes with a help of prefix sums: <code>(time : 4, A), (time 18 : C), (time 42: B)</code> now you can query it with a help of binary search: At time <code>20</code> we have closest record <code>(time : 18, C)</code>. Time complexity <code>O(n * log(n))</code> to build the structure, <code>O(log(n))</code> to query for each time."},{"owner":{"account_id":5736180,"reputation":21,"user_id":4530284,"display_name":"Shobhit Mittal"},"score":0,"creation_date":1667922720,"post_id":74358040,"comment_id":131281019,"body_markdown":"Thank you everyone for the answers :)","body":"Thank you everyone for the answers :)"}],"answers":[{"tags":[],"owner":{"account_id":5279068,"reputation":895,"user_id":4215032,"display_name":"Pp88"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667906803,"creation_date":1667906455,"answer_id":74359884,"question_id":74358040,"body_markdown":"This is an O(N) solution, I&#39;m assuming you have in input 2 arrays one for candidates and one for times. Who will win if there are the same amount of votes is not clear so in this case the first wins. \r\n```\r\npublic Optional&lt;Character&gt; findCandidateWithMaxVotes(Character[] candidates, int[] times, int timeLimit) {\r\n    Character cadidateWithMaxVotes = null;\r\n    int max = 0, count = 0;\r\n    Map&lt;Character, Integer&gt; numberOvVotesForCandidate = new HashMap&lt;&gt;();\r\n    for(int i = 0; i &lt; times.length; i++) {\r\n    \tif(times[i] &lt;= timeLimit) {\r\n\t    \tcount = numberOvVotesForCandidate.merge(candidates[i], 1, Integer::sum);\r\n\t    \tif(max &lt; count) {\r\n\t    \t\tmax = count;\r\n\t    \t\tcadidateWithMaxVotes = candidates[i];\r\n\t    \t}\r\n    \t}\r\n    }\r\n    return Optional.ofNullable(cadidateWithMaxVotes);\r\n}\r\n```","title":"Optimal way to solve the below problem based on Data Structure","body":"<p>This is an O(N) solution, I'm assuming you have in input 2 arrays one for candidates and one for times. Who will win if there are the same amount of votes is not clear so in this case the first wins.</p>\n<pre><code>public Optional&lt;Character&gt; findCandidateWithMaxVotes(Character[] candidates, int[] times, int timeLimit) {\n    Character cadidateWithMaxVotes = null;\n    int max = 0, count = 0;\n    Map&lt;Character, Integer&gt; numberOvVotesForCandidate = new HashMap&lt;&gt;();\n    for(int i = 0; i &lt; times.length; i++) {\n        if(times[i] &lt;= timeLimit) {\n            count = numberOvVotesForCandidate.merge(candidates[i], 1, Integer::sum);\n            if(max &lt; count) {\n                max = count;\n                cadidateWithMaxVotes = candidates[i];\n            }\n        }\n    }\n    return Optional.ofNullable(cadidateWithMaxVotes);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2684795,"reputation":182450,"user_id":2319407,"display_name":"Dmitry Bychenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667907439,"creation_date":1667907439,"answer_id":74360089,"question_id":74358040,"body_markdown":"It&#39;s a bit unclear should we answer just one question (&quot;who is the winner at time 20&quot;) or we are\r\nsupposed to preprocess the data provided and then answer several queries (&quot;who is the winner at time 20&quot;, &quot;who is winner at time 8&quot; etc.).\r\n\r\nThe *first* problem is easy: \r\n\r\n```\r\n// Nobody is leading before elections with 0 votes\r\nString leader = null;\r\nint leaderVotes = 0;\r\n\r\nHashMap&lt;string, Integer&gt; ballots = new HashMap&lt;string, Integer&gt;();\r\n\r\nfor (int i = 0; i &lt; candidates.length; ++i) {\r\n    // too late, don&#39;t count this vote\r\n    if (times[i] &gt; givenTime)\r\n        continue;\r\n\r\n    // number of votes \r\n    int current = ballots.containsKey(candidates[i]) \r\n      ? ballots.get(candidates[i]) + 1\r\n      : 1;\r\n\r\n    ballots.set(candidates[i], current);\r\n\r\n    // do we have a leader change?\r\n    //TODO: add tie breaking logic here\r\n    if (current &gt; leaderVotes) {\r\n        leaderVotes = current;\r\n        leader = candidates[i];\r\n    }\r\n}\r\n\r\n// at givenTime we have leader with leaderVotes\r\n```\r\n\r\nThe *second* problem is trickier: \r\n\r\n1. We sort the votes by time \r\n2. Scan them as we do in the first problem\r\n3. On every leader change we add a record into `(time, leader)` list\r\n4. Having all these done we have a *sorted* list which is ready for *binary search*: for given `time` we are looking for the latest record which is not later than `time`.","title":"Optimal way to solve the below problem based on Data Structure","body":"<p>It's a bit unclear should we answer just one question (&quot;who is the winner at time 20&quot;) or we are\nsupposed to preprocess the data provided and then answer several queries (&quot;who is the winner at time 20&quot;, &quot;who is winner at time 8&quot; etc.).</p>\n<p>The <em>first</em> problem is easy:</p>\n<pre><code>// Nobody is leading before elections with 0 votes\nString leader = null;\nint leaderVotes = 0;\n\nHashMap&lt;string, Integer&gt; ballots = new HashMap&lt;string, Integer&gt;();\n\nfor (int i = 0; i &lt; candidates.length; ++i) {\n    // too late, don't count this vote\n    if (times[i] &gt; givenTime)\n        continue;\n\n    // number of votes \n    int current = ballots.containsKey(candidates[i]) \n      ? ballots.get(candidates[i]) + 1\n      : 1;\n\n    ballots.set(candidates[i], current);\n\n    // do we have a leader change?\n    //TODO: add tie breaking logic here\n    if (current &gt; leaderVotes) {\n        leaderVotes = current;\n        leader = candidates[i];\n    }\n}\n\n// at givenTime we have leader with leaderVotes\n</code></pre>\n<p>The <em>second</em> problem is trickier:</p>\n<ol>\n<li>We sort the votes by time</li>\n<li>Scan them as we do in the first problem</li>\n<li>On every leader change we add a record into <code>(time, leader)</code> list</li>\n<li>Having all these done we have a <em>sorted</em> list which is ready for <em>binary search</em>: for given <code>time</code> we are looking for the latest record which is not later than <code>time</code>.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":404649,"reputation":57172,"user_id":773113,"accept_rate":72,"display_name":"Mike Nakis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667910388,"creation_date":1667908408,"answer_id":74360296,"question_id":74358040,"body_markdown":"What I would do is as follows:\r\n\r\n1. First, implement a naive solution, such as the one you thought of, or the one suggested by Pp88 above.\r\n2. Then, immediately write a test for it, which shows&lt;sup&gt;(1)&lt;/sup&gt; that it works.\r\n3. Then, implement a more optimal solution, such as the one which follows.\r\n4. Finally, re-use the previous test to show&lt;sup&gt;(1)&lt;/sup&gt; that the more optimal solution also works.\r\n\r\nA more optimal solution could be as follows:\r\n\r\n1. Build a `LinkedHashMap` where the key is a time coordinate, and the value is one more map, in which the keys are the names of all candidates, and the values are the accumulated vote count of each candidate at that time coordinate.\r\n1. Traverse this `LinkedHashMap` and create a new map, where the key is again a time coordinate, and the value is the name of the winning candidate at that time coordinate. Throw away the previous map.\r\n1. Build an `ArrayList` containing all the keys in the map.\r\n\r\nOnce you have done all of the above, any query of the type &quot;who is the winner at time X&quot; can be answered by performing a binary search in the `ArrayList` to find the time coordinate which is closest to but does not exceed X, and then a look-up of the time coordinate in the map to find the name of the candidate who was winning at that moment.\r\n\r\nIgnoring the overhead of preparing the data structures, the time complexity of each query is equal to the time complexity of binary search, which is **O(log&lt;sub&gt;2&lt;/sub&gt; n)**. This is sub-linear, so it is better than O(N).\r\n\r\n--------------\r\n&lt;sup&gt;(1)&lt;/sup&gt; At best, we can say that a test &quot;shows that it works&quot;; it does not prove anything. The most accurate way of putting it is that it &quot;gives sufficient reason to believe that it works&quot;, but that&#39;s too long, so &quot;it shows that it works&quot; is a decent alternative.","title":"Optimal way to solve the below problem based on Data Structure","body":"<p>What I would do is as follows:</p>\n<ol>\n<li>First, implement a naive solution, such as the one you thought of, or the one suggested by Pp88 above.</li>\n<li>Then, immediately write a test for it, which shows<sup>(1)</sup> that it works.</li>\n<li>Then, implement a more optimal solution, such as the one which follows.</li>\n<li>Finally, re-use the previous test to show<sup>(1)</sup> that the more optimal solution also works.</li>\n</ol>\n<p>A more optimal solution could be as follows:</p>\n<ol>\n<li>Build a <code>LinkedHashMap</code> where the key is a time coordinate, and the value is one more map, in which the keys are the names of all candidates, and the values are the accumulated vote count of each candidate at that time coordinate.</li>\n<li>Traverse this <code>LinkedHashMap</code> and create a new map, where the key is again a time coordinate, and the value is the name of the winning candidate at that time coordinate. Throw away the previous map.</li>\n<li>Build an <code>ArrayList</code> containing all the keys in the map.</li>\n</ol>\n<p>Once you have done all of the above, any query of the type &quot;who is the winner at time X&quot; can be answered by performing a binary search in the <code>ArrayList</code> to find the time coordinate which is closest to but does not exceed X, and then a look-up of the time coordinate in the map to find the name of the candidate who was winning at that moment.</p>\n<p>Ignoring the overhead of preparing the data structures, the time complexity of each query is equal to the time complexity of binary search, which is <strong>O(log<sub>2</sub> n)</strong>. This is sub-linear, so it is better than O(N).</p>\n<hr />\n<p><sup>(1)</sup> At best, we can say that a test &quot;shows that it works&quot;; it does not prove anything. The most accurate way of putting it is that it &quot;gives sufficient reason to believe that it works&quot;, but that's too long, so &quot;it shows that it works&quot; is a decent alternative.</p>\n"}],"owner":{"account_id":5736180,"reputation":21,"user_id":4530284,"display_name":"Shobhit Mittal"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":74360296,"answer_count":3,"score":0,"last_activity_date":1667910388,"creation_date":1667898006,"question_id":74358040,"body_markdown":"I was recently asked this in an interview.\r\n\r\nGiven below are the the candidates and the time at which they got a vote.\r\n\r\nQ. Given a time, print the person winning till that time.\r\n\r\n**Cand.      Time**\r\n\r\nA          4\r\n\r\nB           10\r\n\r\nC           15\r\n\r\n\r\nC           18\r\n\r\nC           21\r\n\r\nB           35\r\n\r\nB           40\r\n\r\nB           42\r\n\r\nE.g In the Qsn above, if we are asked to find the winner at time 20, answer would be C -&gt; Since C has 2 votes.\r\n\r\n\r\n**Tried Solution**\r\n\r\nHave a Map&lt;String, List&lt;Integer&gt;&gt; to store Map&lt;Candidate, [Time, votes]&gt;\r\n\r\nWe can iterate through the array &amp; fetch only the times which are less than 20 (as per the question).\r\n\r\nBut I believe there will be a more optimum way to solve this type of problem.\r\nEssentially store the given data in a proper Data Structure which will give us the result in optimum time.\r\n\r\nThanks","title":"Optimal way to solve the below problem based on Data Structure","body":"<p>I was recently asked this in an interview.</p>\n<p>Given below are the the candidates and the time at which they got a vote.</p>\n<p>Q. Given a time, print the person winning till that time.</p>\n<p><strong>Cand.      Time</strong></p>\n<p>A          4</p>\n<p>B           10</p>\n<p>C           15</p>\n<p>C           18</p>\n<p>C           21</p>\n<p>B           35</p>\n<p>B           40</p>\n<p>B           42</p>\n<p>E.g In the Qsn above, if we are asked to find the winner at time 20, answer would be C -&gt; Since C has 2 votes.</p>\n<p><strong>Tried Solution</strong></p>\n<p>Have a Map&lt;String, List&gt; to store Map&lt;Candidate, [Time, votes]&gt;</p>\n<p>We can iterate through the array &amp; fetch only the times which are less than 20 (as per the question).</p>\n<p>But I believe there will be a more optimum way to solve this type of problem.\nEssentially store the given data in a proper Data Structure which will give us the result in optimum time.</p>\n<p>Thanks</p>\n"},{"tags":["java","multithreading","completable-future"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1667900857,"post_id":74358481,"comment_id":131272392,"body_markdown":"You could use `whenComplete()` to provide a function that gets both the result and exception, checks for non-null parameters and handles the result accordingly. Or use the `allOf()` method to wait for all futures to be completed, then split the list into succeeded and failed futures and do bulk operations.","body":"You could use <code>whenComplete()</code> to provide a function that gets both the result and exception, checks for non-null parameters and handles the result accordingly. Or use the <code>allOf()</code> method to wait for all futures to be completed, then split the list into succeeded and failed futures and do bulk operations."},{"owner":{"account_id":20936085,"reputation":483,"user_id":15381219,"display_name":"Nishikant Tayade"},"score":0,"creation_date":1667901844,"post_id":74358481,"comment_id":131272785,"body_markdown":"I have the List&lt;Either&gt; where Either has data or exception. ```whenComplete()```seems to accept BiConsumer, in my case it will be ```List&lt;Either&gt;``` and ```Throwable```, but the problem is I dont have exception thrown from ```convertDSRowToJson()``` method, so there is no throwable actually, only ```List&lt;Either&gt;```.","body":"I have the List&lt;Either&gt; where Either has data or exception. <code>whenComplete()</code>seems to accept BiConsumer, in my case it will be <code>List&lt;Either&gt;</code> and <code>Throwable</code>, but the problem is I dont have exception thrown from <code>convertDSRowToJson()</code> method, so there is no throwable actually, only <code>List&lt;Either&gt;</code>."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1667902796,"post_id":74358481,"comment_id":131273157,"body_markdown":"Well, in that case you&#39;d need to get the `List&lt;Either&gt;` and check each element individually.","body":"Well, in that case you&#39;d need to get the <code>List&lt;Either&gt;</code> and check each element individually."}],"answers":[{"tags":[],"owner":{"account_id":9850021,"reputation":411,"user_id":7296372,"display_name":"mrkachariker"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667910244,"creation_date":1667910244,"answer_id":74360712,"question_id":74358481,"body_markdown":"You could try smth like this: \r\n```java\r\nvar futureList = mainList.stream()\r\n        .map(sublist -&gt; CompletableFuture.supplyAsync(() -&gt; FutureImpl.convertBusinessObjectJson(sublist)))\r\n        .collect(Collectors.toList());\r\n```\r\nThe above would collect a list of `CompletableFutures`. Now what needs to happen is we need to wait for the completion of all those futures. We do this by: \r\n```java\r\nvar joinedFutureList = futureList.stream()\r\n        .map(objectCompletableFuture -&gt; {\r\n            try {\r\n                return objectCompletableFuture.get();\r\n            } catch (InterruptedException | ExecutionException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n        }).collect(Collectors.toList());\r\n});\r\n```\r\nAfter that the separation would look smth like this:\r\n```java \r\nvar exceptionList = joinedFutureList.stream()\r\n        .filter(obj -&gt; obj instanceof Exception)\r\n        .peek(System.out::println)\r\n        .collect(Collectors.toList());\r\nvar successList = joinedFutureList.stream()\r\n        .filter(obj -&gt; obj instanceof String)\r\n        .peek(System.out::println)\r\n        .collect(Collectors.toList());\r\n```","title":"How to run Either values by using CompletableFuture?","body":"<p>You could try smth like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>var futureList = mainList.stream()\n        .map(sublist -&gt; CompletableFuture.supplyAsync(() -&gt; FutureImpl.convertBusinessObjectJson(sublist)))\n        .collect(Collectors.toList());\n</code></pre>\n<p>The above would collect a list of <code>CompletableFutures</code>. Now what needs to happen is we need to wait for the completion of all those futures. We do this by:</p>\n<pre class=\"lang-java prettyprint-override\"><code>var joinedFutureList = futureList.stream()\n        .map(objectCompletableFuture -&gt; {\n            try {\n                return objectCompletableFuture.get();\n            } catch (InterruptedException | ExecutionException e) {\n                throw new RuntimeException(e);\n            }\n        }).collect(Collectors.toList());\n});\n</code></pre>\n<p>After that the separation would look smth like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>var exceptionList = joinedFutureList.stream()\n        .filter(obj -&gt; obj instanceof Exception)\n        .peek(System.out::println)\n        .collect(Collectors.toList());\nvar successList = joinedFutureList.stream()\n        .filter(obj -&gt; obj instanceof String)\n        .peek(System.out::println)\n        .collect(Collectors.toList());\n</code></pre>\n"}],"owner":{"account_id":20936085,"reputation":483,"user_id":15381219,"display_name":"Nishikant Tayade"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":176,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1667910244,"creation_date":1667900117,"question_id":74358481,"body_markdown":"Java version : 11\r\n\r\nI have a List, which contains many sublist and for each sublist I want to perform certain transformation/operations.\r\n\r\nI want to perform this operation in non-blocking asynchronous fashion, so I am using CompletableFuture.\r\n\r\n\r\n\r\nThis is my operation:\r\n\r\n```\r\npublic static List&lt;String&gt; convertBusinessObjectJson(List&lt;BusinessObject&gt; businessObjList) {\r\n   \r\n    List&lt;Either&gt; eitherValueOrException = {//omitted logic to convert to json}\r\n    return eitherValueOrException;\r\n}\r\n```\r\n&gt; It returns a List of `Either` Objects, where Either holds, either runtime exception thrown by conversion logic or `String` result when conversion is successful.\r\n\r\nThis is my caller code:\r\n\r\n\r\n```\r\nmainList.forEach(sublist -&gt; {\r\n    CompletableFuture&lt;List&lt;Either&gt;&gt; listCompletableFuture = CompletableFuture.supplyAsync(() -&gt; FutureImpl.convertBusinessObjectJson(sublist));\r\n});\r\n```\r\n\r\nOnce the `CompletableFuture&lt;List&lt;Either&gt;&gt; listCompletableFuture` is received, I want to chain the operation,\r\nAs in\r\n1. take `CompletableFuture&lt;List&lt;Either&gt;&gt; listCompletableFuture`, take exceptions only from list and, perform certain operation\r\n2. take `CompletableFuture&lt;List&lt;Either&gt;&gt; listCompletableFuture`, take results only from list and, perform certain operation\r\n\r\nSomething like this (pseudo code):\r\n\r\n```\r\nmainList.forEach(sublist -&gt; {\r\n    CompletableFuture&lt;List&lt;Either&gt;&gt; listCompletableFuture = CompletableFuture.supplyAsync(() -&gt; FutureImpl.convertDSRowToJson(subDSRowList));\r\nlistCompletableFuture.thenApply(//function which pushes exception to say kafka)\r\nlistCompletableFuture.thenApply(//function which pushes result to say database)\r\n});\r\n```\r\n\r\nCan it be done?\r\n\r\nAny help is much appreciated :) \r\n\r\n\r\n","title":"How to run Either values by using CompletableFuture?","body":"<p>Java version : 11</p>\n<p>I have a List, which contains many sublist and for each sublist I want to perform certain transformation/operations.</p>\n<p>I want to perform this operation in non-blocking asynchronous fashion, so I am using CompletableFuture.</p>\n<p>This is my operation:</p>\n<pre><code>public static List&lt;String&gt; convertBusinessObjectJson(List&lt;BusinessObject&gt; businessObjList) {\n   \n    List&lt;Either&gt; eitherValueOrException = {//omitted logic to convert to json}\n    return eitherValueOrException;\n}\n</code></pre>\n<blockquote>\n<p>It returns a List of <code>Either</code> Objects, where Either holds, either runtime exception thrown by conversion logic or <code>String</code> result when conversion is successful.</p>\n</blockquote>\n<p>This is my caller code:</p>\n<pre><code>mainList.forEach(sublist -&gt; {\n    CompletableFuture&lt;List&lt;Either&gt;&gt; listCompletableFuture = CompletableFuture.supplyAsync(() -&gt; FutureImpl.convertBusinessObjectJson(sublist));\n});\n</code></pre>\n<p>Once the <code>CompletableFuture&lt;List&lt;Either&gt;&gt; listCompletableFuture</code> is received, I want to chain the operation,\nAs in</p>\n<ol>\n<li>take <code>CompletableFuture&lt;List&lt;Either&gt;&gt; listCompletableFuture</code>, take exceptions only from list and, perform certain operation</li>\n<li>take <code>CompletableFuture&lt;List&lt;Either&gt;&gt; listCompletableFuture</code>, take results only from list and, perform certain operation</li>\n</ol>\n<p>Something like this (pseudo code):</p>\n<pre><code>mainList.forEach(sublist -&gt; {\n    CompletableFuture&lt;List&lt;Either&gt;&gt; listCompletableFuture = CompletableFuture.supplyAsync(() -&gt; FutureImpl.convertDSRowToJson(subDSRowList));\nlistCompletableFuture.thenApply(//function which pushes exception to say kafka)\nlistCompletableFuture.thenApply(//function which pushes result to say database)\n});\n</code></pre>\n<p>Can it be done?</p>\n<p>Any help is much appreciated :)</p>\n"},{"tags":["java","spring","multithreading","spring-boot","java-threads"],"answers":[{"tags":[],"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1616393877,"creation_date":1616392174,"answer_id":66740905,"question_id":66740833,"body_markdown":"From the docs of [`CompletableFuture.supplyAsync(Supplier)`](https://docs.oracle.com/en/java/javase/14/docs/api/java.base/java/util/concurrent/CompletableFuture.html#supplyAsync(java.util.function.Supplier)):\r\n\r\n&gt; Returns a new CompletableFuture that is asynchronously completed by a task running in the [ForkJoinPool.commonPool()](https://docs.oracle.com/en/java/javase/14/docs/api/java.base/java/util/concurrent/ForkJoinPool.html#commonPool()) with the value obtained by calling the given Supplier.\r\n\r\nIt uses a thread pool in the background. This means that both futures can run in different threads.\r\n\r\nIf you wait for the first future to finish and then run the second future after it finishes, it might use the same thread because it is reused but it can also use a different thread.\r\n\r\nAs the thread pool belongs to a JVM instance, it will be closed when the JVM is closed so when a JVM is stopped, the thread pool will also be stopped.\r\n\r\nFrom the docs of [ForkJoinPool.commonPool()](https://docs.oracle.com/en/java/javase/14/docs/api/java.base/java/util/concurrent/ForkJoinPool.html#commonPool()):\r\n\r\n&gt; Returns the common pool instance. This pool is statically constructed; its run state is unaffected by attempts to shutdown() or shutdownNow(). However this pool and any ongoing processing are automatically terminated upon program System.exit(int). Any program that relies on asynchronous task processing to complete before program termination should invoke commonPool().awaitQuiescence, before exit.\r\n\r\nThe thread pool used for [`CompletableFuture.supplyAsync(Supplier)`](https://docs.oracle.com/en/java/javase/14/docs/api/java.base/java/util/concurrent/CompletableFuture.html#supplyAsync(java.util.function.Supplier)) will stay alive as long as the JVM stays alive.\r\n\r\nThe only thing that [`.join`](https://docs.oracle.com/en/java/javase/14/docs/api/java.base/java/util/concurrent/CompletableFuture.html#join()) is waiting for a future to complete, this does not close anything.","title":"CompletableFuture thread will ever be closed if I don&#39;t call .join() method?","body":"<p>From the docs of <a href=\"https://docs.oracle.com/en/java/javase/14/docs/api/java.base/java/util/concurrent/CompletableFuture.html#supplyAsync(java.util.function.Supplier)\" rel=\"nofollow noreferrer\"><code>CompletableFuture.supplyAsync(Supplier)</code></a>:</p>\n<blockquote>\n<p>Returns a new CompletableFuture that is asynchronously completed by a task running in the <a href=\"https://docs.oracle.com/en/java/javase/14/docs/api/java.base/java/util/concurrent/ForkJoinPool.html#commonPool()\" rel=\"nofollow noreferrer\">ForkJoinPool.commonPool()</a> with the value obtained by calling the given Supplier.</p>\n</blockquote>\n<p>It uses a thread pool in the background. This means that both futures can run in different threads.</p>\n<p>If you wait for the first future to finish and then run the second future after it finishes, it might use the same thread because it is reused but it can also use a different thread.</p>\n<p>As the thread pool belongs to a JVM instance, it will be closed when the JVM is closed so when a JVM is stopped, the thread pool will also be stopped.</p>\n<p>From the docs of <a href=\"https://docs.oracle.com/en/java/javase/14/docs/api/java.base/java/util/concurrent/ForkJoinPool.html#commonPool()\" rel=\"nofollow noreferrer\">ForkJoinPool.commonPool()</a>:</p>\n<blockquote>\n<p>Returns the common pool instance. This pool is statically constructed; its run state is unaffected by attempts to shutdown() or shutdownNow(). However this pool and any ongoing processing are automatically terminated upon program System.exit(int). Any program that relies on asynchronous task processing to complete before program termination should invoke commonPool().awaitQuiescence, before exit.</p>\n</blockquote>\n<p>The thread pool used for <a href=\"https://docs.oracle.com/en/java/javase/14/docs/api/java.base/java/util/concurrent/CompletableFuture.html#supplyAsync(java.util.function.Supplier)\" rel=\"nofollow noreferrer\"><code>CompletableFuture.supplyAsync(Supplier)</code></a> will stay alive as long as the JVM stays alive.</p>\n<p>The only thing that <a href=\"https://docs.oracle.com/en/java/javase/14/docs/api/java.base/java/util/concurrent/CompletableFuture.html#join()\" rel=\"nofollow noreferrer\"><code>.join</code></a> is waiting for a future to complete, this does not close anything.</p>\n"},{"tags":[],"owner":{"account_id":18315197,"reputation":1,"user_id":13337105,"display_name":"Sandeep Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1616393381,"creation_date":1616393381,"answer_id":66741065,"question_id":66740833,"body_markdown":"If you are worried about closure of open threads, i believe you can use \r\n\r\nrunAsync(Runnable runnable, Executor executor)\r\nand \r\nsupplyAsync(Supplier&lt;U&gt; supplier, Executor executor) APIs of CompletableFuture. Both of these APIs expects executor on which you want to execute your task.\r\n ","title":"CompletableFuture thread will ever be closed if I don&#39;t call .join() method?","body":"<p>If you are worried about closure of open threads, i believe you can use</p>\n<p>runAsync(Runnable runnable, Executor executor)\nand\nsupplyAsync(Supplier supplier, Executor executor) APIs of CompletableFuture. Both of these APIs expects executor on which you want to execute your task.</p>\n"}],"owner":{"account_id":12261935,"reputation":167,"user_id":8949390,"display_name":"MAHIE"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1801,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1667909956,"creation_date":1616391635,"question_id":66740833,"body_markdown":"```\r\nCompletableFuture retrunsVal = CompletableFuture.supplyAsync(() -&gt; {\r\n    //some logic\r\n    return new Object();\r\n});\r\n\r\nCompletableFuture notRetrunsVal = CompletableFuture.runAsync(() -&gt; {\r\n    //some logic\r\n});\r\n```\r\n\r\nWith my current understanding, if I don&#39;t call `retrunsVal.join();` then the thread opened in the first call will never be closed as long as the server is up, but even if I don&#39;t call `notRetrunsVal.join();` on the second call, the opened thread will get closed as soon as it did with the execution.\r\n\r\nPlease let me know if I have the correct understanding.\r\n\r\nThank You...","title":"CompletableFuture thread will ever be closed if I don&#39;t call .join() method?","body":"<pre><code>CompletableFuture retrunsVal = CompletableFuture.supplyAsync(() -&gt; {\n    //some logic\n    return new Object();\n});\n\nCompletableFuture notRetrunsVal = CompletableFuture.runAsync(() -&gt; {\n    //some logic\n});\n</code></pre>\n<p>With my current understanding, if I don't call <code>retrunsVal.join();</code> then the thread opened in the first call will never be closed as long as the server is up, but even if I don't call <code>notRetrunsVal.join();</code> on the second call, the opened thread will get closed as soon as it did with the execution.</p>\n<p>Please let me know if I have the correct understanding.</p>\n<p>Thank You...</p>\n"},{"tags":["java","jdbc","db2"],"comments":[{"owner":{"account_id":1270839,"reputation":18313,"user_id":1227152,"display_name":"mustaccio"},"score":0,"creation_date":1440876090,"post_id":32289409,"comment_id":52457255,"body_markdown":"It&#39;s a network error, not DB2. Use `netstat -ap | grep db2sysc` or similar on the server to verify that the instance is indeed listening on the port you think it does, and `telnet serverhost 50001` on the client to confirm that you can connect.","body":"It&#39;s a network error, not DB2. Use <code>netstat -ap | grep db2sysc</code> or similar on the server to verify that the instance is indeed listening on the port you think it does, and <code>telnet serverhost 50001</code> on the client to confirm that you can connect."},{"owner":{"account_id":5678749,"reputation":1049,"user_id":4490818,"accept_rate":44,"display_name":"Mike Storey"},"score":0,"creation_date":1440880542,"post_id":32289409,"comment_id":52458422,"body_markdown":"I&#39;m not ruling out a network problem, but I&#39;m still stumped. netstat shows db2 listening on 50001, and telnet dbserver 50001 results in a Connection Refused error, even from dbserver locally. Both servers are on the same sub-net and both have port 50001 open on the firewall. It seems as though db2 is refusing the connection.","body":"I&#39;m not ruling out a network problem, but I&#39;m still stumped. netstat shows db2 listening on 50001, and telnet dbserver 50001 results in a Connection Refused error, even from dbserver locally. Both servers are on the same sub-net and both have port 50001 open on the firewall. It seems as though db2 is refusing the connection."},{"owner":{"account_id":6342170,"reputation":16858,"user_id":4923755,"accept_rate":100,"display_name":"data_henrik"},"score":1,"creation_date":1440920785,"post_id":32289409,"comment_id":52465643,"body_markdown":"If DB2 is refusing the connection there should be something in the db2diag.log. If it is not, then it is the network alone.","body":"If DB2 is refusing the connection there should be something in the db2diag.log. If it is not, then it is the network alone."},{"owner":{"account_id":1674243,"reputation":10043,"user_id":1553537,"accept_rate":29,"display_name":"Giorgi Tsiklauri"},"score":0,"creation_date":1598210015,"post_id":32289409,"comment_id":112376825,"body_markdown":"Can you just try to disable the firewall completely?","body":"Can you just try to disable the firewall completely?"}],"answers":[{"tags":[],"owner":{"account_id":5678749,"reputation":1049,"user_id":4490818,"accept_rate":44,"display_name":"Mike Storey"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1440965470,"creation_date":1440965470,"answer_id":32300673,"question_id":32289409,"body_markdown":"It was indeed a network error. I&#39;m not fully sure which fix was the most important but I made sure telnet was enabled and white listed the DB2 process in the RHEL firewall configuration.","title":"DB2 jdbc connection error Connection refused. ERRORCODE=-4499, SQLSTATE=08001","body":"<p>It was indeed a network error. I'm not fully sure which fix was the most important but I made sure telnet was enabled and white listed the DB2 process in the RHEL firewall configuration.</p>\n"},{"tags":[],"owner":{"account_id":10368240,"reputation":23,"user_id":7646671,"display_name":"Bob Marlone"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1488449977,"creation_date":1488449977,"answer_id":42552668,"question_id":32289409,"body_markdown":"I had the same trouble... Its was caused by IPV6... \r\nThe URL connection point to localhost, resolved as ::1 (the IPV6 address of localhost) and DB2 server doens&#39;t listing IPV6 protocol. \r\n\r\nI resolved by modify the c:\\windows\\system32\\driver\\etc\\host file : I uncomment the line 127.0.0.1 locahost to force ipv4 resolution name of locahost... and it&#39;s works. \r\n\r\nI hope that helps. *(sorry for my English)*\r\n","title":"DB2 jdbc connection error Connection refused. ERRORCODE=-4499, SQLSTATE=08001","body":"<p>I had the same trouble... Its was caused by IPV6... \nThe URL connection point to localhost, resolved as ::1 (the IPV6 address of localhost) and DB2 server doens't listing IPV6 protocol. </p>\n\n<p>I resolved by modify the c:\\windows\\system32\\driver\\etc\\host file : I uncomment the line 127.0.0.1 locahost to force ipv4 resolution name of locahost... and it's works. </p>\n\n<p>I hope that helps. <em>(sorry for my English)</em></p>\n"},{"tags":[],"owner":{"account_id":26331198,"reputation":1,"user_id":19991645,"display_name":" "},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667909920,"creation_date":1667909579,"answer_id":74360555,"question_id":32289409,"body_markdown":"I had same problem, when I couldn&#39;t connect to my remote database with Data Studio Client and with DB2 CLP console. Make sure that you checked **ping** to your server and it is successful, you checked **dbm cfg** and you know **svcename**, **tcpip port number**, you checked ..System32\\drivers\\etc\\services file and there is &quot;*svcename*\t*tcpip_port_number*/tcp&quot; in that file.  So, while you get message in your db2diag.log &quot;&quot;TCPIP&quot; protocol support was successfully started.&quot;, it isn&#39;t network problem. I opened ports on my server mashine: DB2 server tcpip port(svcename) and DB2 DAS tcpip port through the Firewall settings. I found help on this reference https://learn.microsoft.com/en-us/sql/reporting-services/report-server/configure-a-firewall-for-report-server-access?view=sql-server-ver16.\r\nBe careful and consult with your system admin about security.\r\n\r\n(*Sorry for my English*)))","title":"DB2 jdbc connection error Connection refused. ERRORCODE=-4499, SQLSTATE=08001","body":"<p>I had same problem, when I couldn't connect to my remote database with Data Studio Client and with DB2 CLP console. Make sure that you checked <strong>ping</strong> to your server and it is successful, you checked <strong>dbm cfg</strong> and you know <strong>svcename</strong>, <strong>tcpip port number</strong>, you checked ..System32\\drivers\\etc\\services file and there is &quot;<em>svcename</em>    <em>tcpip_port_number</em>/tcp&quot; in that file.  So, while you get message in your db2diag.log &quot;&quot;TCPIP&quot; protocol support was successfully started.&quot;, it isn't network problem. I opened ports on my server mashine: DB2 server tcpip port(svcename) and DB2 DAS tcpip port through the Firewall settings. I found help on this reference <a href=\"https://learn.microsoft.com/en-us/sql/reporting-services/report-server/configure-a-firewall-for-report-server-access?view=sql-server-ver16\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/sql/reporting-services/report-server/configure-a-firewall-for-report-server-access?view=sql-server-ver16</a>.\nBe careful and consult with your system admin about security.</p>\n<p>(<em>Sorry for my English</em>)))</p>\n"}],"owner":{"account_id":5678749,"reputation":1049,"user_id":4490818,"accept_rate":44,"display_name":"Mike Storey"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67870,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1667909920,"creation_date":1440872782,"question_id":32289409,"body_markdown":"I have a new DB2 server (v10.5.0.3), and I can connect to the database locally just fine.\r\n\r\nWhen trying to connect from a remote server using JDBC I am getting the &quot;Connection refused. ERRORCODE=-4499, SQLSTATE=08001&quot; error. Based on information found here https://www-304.ibm.com/support/docview.wss?uid=swg21403644 I have confirmed that \r\n\r\n    [db2inst1@db2 ~]$ db2set -all\r\n    [i] DB2COMM=TCPIP\r\n    [i] DB2AUTOSTART=YES\r\n    [g] DB2SYSTEM=db2.xxxx.com\r\n    [g] DB2INSTDEF=db2inst1\r\n    [g] DB2ADMINSERVER=xxxxxx\r\n\r\nand \r\n\r\n    [db2inst1@db2 ~]$ db2 get database manager configuration | grep -i svce\r\n     TCP/IP Service name                          (SVCENAME) = 50001\r\n     SSL service name                         (SSL_SVCENAME) = \r\n\r\nwith these JDBC connection values\r\n\r\n    driver=com.ibm.db2.jcc.DB2Driver\r\n    url=jdbc:db2://db2.xxxxx.com:50001/TESTGEN\r\n    username=XXXXXXXX\r\n    password=XXXXXXX\r\n\r\nI have verified that the firewall on the both servers have opened ports 50000 and 50001. I&#39;ve run out of ideas, any help is greatly appreciated.\r\n\r\n","title":"DB2 jdbc connection error Connection refused. ERRORCODE=-4499, SQLSTATE=08001","body":"<p>I have a new DB2 server (v10.5.0.3), and I can connect to the database locally just fine.</p>\n\n<p>When trying to connect from a remote server using JDBC I am getting the \"Connection refused. ERRORCODE=-4499, SQLSTATE=08001\" error. Based on information found here <a href=\"https://www-304.ibm.com/support/docview.wss?uid=swg21403644\" rel=\"nofollow\">https://www-304.ibm.com/support/docview.wss?uid=swg21403644</a> I have confirmed that </p>\n\n<pre><code>[db2inst1@db2 ~]$ db2set -all\n[i] DB2COMM=TCPIP\n[i] DB2AUTOSTART=YES\n[g] DB2SYSTEM=db2.xxxx.com\n[g] DB2INSTDEF=db2inst1\n[g] DB2ADMINSERVER=xxxxxx\n</code></pre>\n\n<p>and </p>\n\n<pre><code>[db2inst1@db2 ~]$ db2 get database manager configuration | grep -i svce\n TCP/IP Service name                          (SVCENAME) = 50001\n SSL service name                         (SSL_SVCENAME) = \n</code></pre>\n\n<p>with these JDBC connection values</p>\n\n<pre><code>driver=com.ibm.db2.jcc.DB2Driver\nurl=jdbc:db2://db2.xxxxx.com:50001/TESTGEN\nusername=XXXXXXXX\npassword=XXXXXXX\n</code></pre>\n\n<p>I have verified that the firewall on the both servers have opened ports 50000 and 50001. I've run out of ideas, any help is greatly appreciated.</p>\n"},{"tags":["java","bit-manipulation"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1667908163,"post_id":74360074,"comment_id":131275035,"body_markdown":"Find out what representation is used for -7. What pattern of bits is it?","body":"Find out what representation is used for -7. What pattern of bits is it?"},{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1667908816,"post_id":74360074,"comment_id":131275244,"body_markdown":"I would recommend doing `System.out.println(Integer.toBinaryString(a));` + `System.out.println(Integer.toBinaryString(-a));` to see the binary representation of those values. That would probably clear things up","body":"I would recommend doing <code>System.out.println(Integer.toBinaryString(a));</code> + <code>System.out.println(Integer.toBinaryString(-a));</code> to see the binary representation of those values. That would probably clear things up"},{"owner":{"account_id":267086,"reputation":62435,"user_id":555045,"accept_rate":100,"display_name":"harold"},"score":3,"creation_date":1667908845,"post_id":74360074,"comment_id":131275250,"body_markdown":"`a &amp; -a` is an [idiom to get the lowest set bit](https://stackoverflow.com/q/12247186/555045)","body":"<code>a &amp; -a</code> is an <a href=\"https://stackoverflow.com/q/12247186/555045\">idiom to get the lowest set bit</a>"},{"owner":{"account_id":5083689,"reputation":1006,"user_id":4079056,"display_name":"sanurah"},"score":0,"creation_date":1667908949,"post_id":74360074,"comment_id":131275284,"body_markdown":"@OHGODSPIDERS System.out.println(Integer.toBinaryString(-a)) will print 11111111111111111111111111111001","body":"@OHGODSPIDERS System.out.println(Integer.toBinaryString(-a)) will print 11111111111111111111111111111001"},{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1667909110,"post_id":74360074,"comment_id":131275334,"body_markdown":"@SanuraHettiarachchi Which is correct because integers are 32 bit in java. In your answer you ignore that fact and treat the ints as if they are 3 bit, which isn&#39;t the case in java. The binary representation of 7 in java is 00000000000000000000000000000111, and its two-compliment is therefor 11111111111111111111111111111001","body":"@SanuraHettiarachchi Which is correct because integers are 32 bit in java. In your answer you ignore that fact and treat the ints as if they are 3 bit, which isn&#39;t the case in java. The binary representation of 7 in java is 00000000000000000000000000000111, and its two-compliment is therefor 11111111111111111111111111111001"}],"answers":[{"tags":[],"owner":{"account_id":5083689,"reputation":1006,"user_id":4079056,"display_name":"sanurah"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667908790,"creation_date":1667908790,"answer_id":74360367,"question_id":74360074,"body_markdown":"Think of it in binary.\r\n\r\n    s = 100\r\n    k = 011\r\n\r\n[![enter image description here][1]][1]\r\n\r\n    a = s^k = 100 ^ 011 = 111\r\n    \r\nTo get negative number invert all digits and add 1\r\n   \r\n\r\n        -a = invert a + 1 = 000 + 001 = 001\r\n        \r\n         a &amp; -a = 111 &amp; 001 = 001 = decimal 1\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/MGxBY.png","title":"how does below bit manipulation code works?","body":"<p>Think of it in binary.</p>\n<pre><code>s = 100\nk = 011\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/MGxBY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MGxBY.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>a = s^k = 100 ^ 011 = 111\n</code></pre>\n<p>To get negative number invert all digits and add 1</p>\n<pre><code>    -a = invert a + 1 = 000 + 001 = 001\n    \n     a &amp; -a = 111 &amp; 001 = 001 = decimal 1\n</code></pre>\n"},{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667909390,"creation_date":1667909060,"answer_id":74360440,"question_id":74360074,"body_markdown":"## -x == ~x + 1\r\n### Negative is ones-complement + 1\r\n\r\n    Should  x     be ababab10..0 (repeated zeros at the end)\r\n    then    ~x    is bababa01..1\r\n    then   ~x+1   is bababa10..0\r\n    then   x&amp;-x   is 0....010..0\r\n\r\n## So `x &amp; -x` gives the right most bit 1 of x.\r\n\r\nFor 7 that would be 1; 12 -&gt; 4, 6 -&gt; 2, 14 -&gt; 2, 8 -&gt; 8, 24 -&gt; 8.\r\n\r\nTo count the number of bits:\r\n\r\n    int bitCount(int n) {\r\n        int count = 0;\r\n        while (n != 0) {\r\n            n ^= (n &amp; -n); // Remove the right-most bit.\r\n            ++count;\r\n        }\r\n        return count;\r\n    }","title":"how does below bit manipulation code works?","body":"<h2>-x == ~x + 1</h2>\n<h3>Negative is ones-complement + 1</h3>\n<pre><code>Should  x     be ababab10..0 (repeated zeros at the end)\nthen    ~x    is bababa01..1\nthen   ~x+1   is bababa10..0\nthen   x&amp;-x   is 0....010..0\n</code></pre>\n<h2>So <code>x &amp; -x</code> gives the right most bit 1 of x.</h2>\n<p>For 7 that would be 1; 12 -&gt; 4, 6 -&gt; 2, 14 -&gt; 2, 8 -&gt; 8, 24 -&gt; 8.</p>\n<p>To count the number of bits:</p>\n<pre><code>int bitCount(int n) {\n    int count = 0;\n    while (n != 0) {\n        n ^= (n &amp; -n); // Remove the right-most bit.\n        ++count;\n    }\n    return count;\n}\n</code></pre>\n"}],"owner":{"account_id":26836948,"reputation":13,"user_id":20424083,"display_name":"Sharath Cherry"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"accepted_answer_id":74360367,"answer_count":2,"score":-2,"last_activity_date":1667909390,"creation_date":1667907357,"question_id":74360074,"body_markdown":"```java\r\nimport java.io.*;\r\n\r\nclass GFG {\r\n  public static void main (String[] args) {\r\n    int s=4;\r\n    int k=3;\r\n    int a=s^k;\r\n    int b=a &amp; -a;\r\n    System.out.println(b);\r\n  } \r\n}\r\n```\r\n\r\n* \r\n\r\nI have compiled the above code it gives 1 as the output.\r\nBut I can&#39;t get that how it is compiling.\r\nif I do XOR OPERATION between s and k it will give 111(7).\r\nbut  don&#39;t  know how `b=a &amp; -a ` working please explain.\\*","title":"how does below bit manipulation code works?","body":"<pre class=\"lang-java prettyprint-override\"><code>import java.io.*;\n\nclass GFG {\n  public static void main (String[] args) {\n    int s=4;\n    int k=3;\n    int a=s^k;\n    int b=a &amp; -a;\n    System.out.println(b);\n  } \n}\n</code></pre>\n<ul>\n<li></li>\n</ul>\n<p>I have compiled the above code it gives 1 as the output.\nBut I can't get that how it is compiling.\nif I do XOR OPERATION between s and k it will give 111(7).\nbut  don't  know how <code>b=a &amp; -a </code> working please explain.*</p>\n"},{"tags":["java","cucumber","karate","testrail"],"comments":[{"owner":{"account_id":2966542,"reputation":6803,"user_id":2519577,"accept_rate":66,"display_name":"Aarish Ramesh"},"score":0,"creation_date":1518605304,"post_id":48785037,"comment_id":84571913,"body_markdown":"Your question is too broad. can you be more specific with your question in the sense sharing what is your effort so far ?","body":"Your question is too broad. can you be more specific with your question in the sense sharing what is your effort so far ?"}],"answers":[{"tags":[],"owner":{"account_id":48302,"reputation":55353,"user_id":143475,"display_name":"Peter Thomas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667909386,"creation_date":1518612344,"answer_id":48787598,"question_id":48785037,"body_markdown":"Please look at &#39;hooks&#39; documented here: https://github.com/intuit/karate#hooks\r\n\r\nAnd there is an example with code over here: https://github.com/intuit/karate/blob/master/karate-demo/src/test/java/demo/hooks/hooks.feature\r\n\r\nI&#39;m sorry I can&#39;t help you with how to push data to testrail, but it may be as simple as an HTTP request. And guess what Karate is famous for :)\r\n\r\nNote that values of tags can be accessed within a test, here is the doc for `karate.tagValues` (with link to example): https://github.com/intuit/karate#the-karate-object\r\n\r\nNote that you need to be on the 0.7.0 version, right now 0.7.0.RC8 is available.\r\n\r\nEdit - also see: https://stackoverflow.com/a/54527955/143475","title":"How to integrate karate with testrail","body":"<p>Please look at 'hooks' documented here: <a href=\"https://github.com/intuit/karate#hooks\" rel=\"nofollow noreferrer\">https://github.com/intuit/karate#hooks</a></p>\n<p>And there is an example with code over here: <a href=\"https://github.com/intuit/karate/blob/master/karate-demo/src/test/java/demo/hooks/hooks.feature\" rel=\"nofollow noreferrer\">https://github.com/intuit/karate/blob/master/karate-demo/src/test/java/demo/hooks/hooks.feature</a></p>\n<p>I'm sorry I can't help you with how to push data to testrail, but it may be as simple as an HTTP request. And guess what Karate is famous for :)</p>\n<p>Note that values of tags can be accessed within a test, here is the doc for <code>karate.tagValues</code> (with link to example): <a href=\"https://github.com/intuit/karate#the-karate-object\" rel=\"nofollow noreferrer\">https://github.com/intuit/karate#the-karate-object</a></p>\n<p>Note that you need to be on the 0.7.0 version, right now 0.7.0.RC8 is available.</p>\n<p>Edit - also see: <a href=\"https://stackoverflow.com/a/54527955/143475\">https://stackoverflow.com/a/54527955/143475</a></p>\n"},{"tags":[],"owner":{"account_id":14345051,"reputation":352,"user_id":10362105,"display_name":"Mert Ekinci"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1667586885,"creation_date":1667585635,"answer_id":74321361,"question_id":48785037,"body_markdown":"I spent a lot of effort for this.\r\nThat&#39;s how I implement. Maybe you can follow it.\r\n\r\n\r\nFirst of all, you should download the `APIClient.java` and `APIException.java` files from the link below.\r\n\r\n[TestrailApi in github][1]\r\n\r\nThen you need to add these files to the following path in your project.\r\nFor example: `YourProjectFolder/src/main/java/testrails/`\r\n\r\nIn your karate-config.js file, after each test, you can send your case tags, test results and error messages to the BaseTest.java file, which I will talk about shortly.\r\n\r\n`karate-config.js file`\r\n\r\n```\r\n\r\nfunction fn() {\r\n\r\n  var config = {\r\n    baseUrl: &#39;http://111.111.1.111:11111&#39;,\r\n  };\r\n    \t\r\n    \r\n  karate.configure(&#39;afterScenario&#39;, () =&gt; {\r\n    try{\r\n         const BaseTestClass = Java.type(&#39;features.BaseTest&#39;);\r\n         BaseTestClass.sendScenarioResults(karate.scenario.failed, \r\n         karate.scenario.tags, karate.info.errorMessage);\r\n        }catch(error) {\r\n       console.log(error)\r\n       }\r\n    });\r\n      \r\n   return config;\r\n}\r\n\r\n```\r\n\r\nPlease dont forget give tag to scenario in Feature file.\r\nFor example **@1111**\r\n\r\n```\r\n\r\nFeature: ExampleFeature\r\n\r\n  Background:\r\n    * def conf = call read(&#39;../karate-config.js&#39;)\r\n    * url conf.baseUrl\r\n\r\n  @1111\r\n  Scenario: Example\r\n\r\n```\r\n\r\nNext, create a runner file named `BaseTests.java`\r\n\r\n\r\n`BaseTest.java file`\r\n\r\n\r\n```\r\n\r\npackage features;\r\n\r\nimport com.intuit.karate.junit5.Karate;\r\nimport net.minidev.json.JSONObject;\r\nimport org.junit.jupiter.api.BeforeAll;\r\nimport testrails.APIClient;\r\nimport testrails.APIException;\r\n\r\nimport java.io.IOException;\r\nimport java.time.LocalDateTime;\r\nimport java.time.format.DateTimeFormatter;\r\nimport java.util.HashMap;\r\nimport java.util.List;\r\nimport java.util.Locale;\r\nimport java.util.Map;\r\n\r\npublic class BaseTest {\r\n\r\n    private static APIClient client = null;\r\n    private static String runID = null;\r\n\r\n    @BeforeAll\r\n    public static void beforeClass() throws Exception {\r\n        String fileName = System.getProperty(&quot;karate.options&quot;);\r\n        //Login to API\r\n        client = new APIClient(&quot;Write Your host, for example \r\n        https://yourcompanyname.testrail.io/&quot;);\r\n        client.setUser(&quot;user.name@companyname.com&quot;);\r\n        client.setPassword(&quot;password&quot;);\r\n\r\n        //Create Test Run\r\n        Map data = new HashMap();\r\n        data.put(&quot;suite_id&quot;, &quot;Write Your Project SuitId(Only number)&quot;);\r\n        data.put(&quot;name&quot;, &quot;Api Test Run&quot;);\r\n        data.put(&quot;description&quot;, &quot;Karate Architect Regression Running&quot;);\r\n\r\n\r\n        JSONObject c = (JSONObject) client.sendPost(&quot;add_run/&quot; + \r\n        TESTRAL_PROJECT_ID, data);\r\n        runID = c.getAsString(&quot;id&quot;);\r\n    }\r\n       //Send Scenario Result to Testrail\r\n    public static void sendScenarioResults(boolean failed, List&lt;String&gt; tags, String errorMessage) {\r\n        try {\r\n            Map data = new HashMap();\r\n            data.put(&quot;status_id&quot;, failed ? 5 : 1);\r\n            data.put(&quot;comment&quot;, errorMessage);\r\n            client.sendPost(&quot;add_result_for_case/&quot; + runID + &quot;/&quot; + tags.get(0), \r\n            data);\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        } catch (APIException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    @Karate.Test\r\n    Karate ExampleFeatureRun() {\r\n        return Karate.run(&quot;ExampleFeatureRun&quot;).relativeTo(getClass());\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\n\r\n\r\n\r\n  [1]: https://github.com/gurock/testrail-api/tree/master/java/com/gurock/testrail","title":"How to integrate karate with testrail","body":"<p>I spent a lot of effort for this.\nThat's how I implement. Maybe you can follow it.</p>\n<p>First of all, you should download the <code>APIClient.java</code> and <code>APIException.java</code> files from the link below.</p>\n<p><a href=\"https://github.com/gurock/testrail-api/tree/master/java/com/gurock/testrail\" rel=\"nofollow noreferrer\">TestrailApi in github</a></p>\n<p>Then you need to add these files to the following path in your project.\nFor example: <code>YourProjectFolder/src/main/java/testrails/</code></p>\n<p>In your karate-config.js file, after each test, you can send your case tags, test results and error messages to the BaseTest.java file, which I will talk about shortly.</p>\n<p><code>karate-config.js file</code></p>\n<pre><code>\nfunction fn() {\n\n  var config = {\n    baseUrl: 'http://111.111.1.111:11111',\n  };\n        \n    \n  karate.configure('afterScenario', () =&gt; {\n    try{\n         const BaseTestClass = Java.type('features.BaseTest');\n         BaseTestClass.sendScenarioResults(karate.scenario.failed, \n         karate.scenario.tags, karate.info.errorMessage);\n        }catch(error) {\n       console.log(error)\n       }\n    });\n      \n   return config;\n}\n\n</code></pre>\n<p>Please dont forget give tag to scenario in Feature file.\nFor example <strong>@1111</strong></p>\n<pre><code>\nFeature: ExampleFeature\n\n  Background:\n    * def conf = call read('../karate-config.js')\n    * url conf.baseUrl\n\n  @1111\n  Scenario: Example\n\n</code></pre>\n<p>Next, create a runner file named <code>BaseTests.java</code></p>\n<p><code>BaseTest.java file</code></p>\n<pre><code>\npackage features;\n\nimport com.intuit.karate.junit5.Karate;\nimport net.minidev.json.JSONObject;\nimport org.junit.jupiter.api.BeforeAll;\nimport testrails.APIClient;\nimport testrails.APIException;\n\nimport java.io.IOException;\nimport java.time.LocalDateTime;\nimport java.time.format.DateTimeFormatter;\nimport java.util.HashMap;\nimport java.util.List;\nimport java.util.Locale;\nimport java.util.Map;\n\npublic class BaseTest {\n\n    private static APIClient client = null;\n    private static String runID = null;\n\n    @BeforeAll\n    public static void beforeClass() throws Exception {\n        String fileName = System.getProperty(&quot;karate.options&quot;);\n        //Login to API\n        client = new APIClient(&quot;Write Your host, for example \n        https://yourcompanyname.testrail.io/&quot;);\n        client.setUser(&quot;user.name@companyname.com&quot;);\n        client.setPassword(&quot;password&quot;);\n\n        //Create Test Run\n        Map data = new HashMap();\n        data.put(&quot;suite_id&quot;, &quot;Write Your Project SuitId(Only number)&quot;);\n        data.put(&quot;name&quot;, &quot;Api Test Run&quot;);\n        data.put(&quot;description&quot;, &quot;Karate Architect Regression Running&quot;);\n\n\n        JSONObject c = (JSONObject) client.sendPost(&quot;add_run/&quot; + \n        TESTRAL_PROJECT_ID, data);\n        runID = c.getAsString(&quot;id&quot;);\n    }\n       //Send Scenario Result to Testrail\n    public static void sendScenarioResults(boolean failed, List&lt;String&gt; tags, String errorMessage) {\n        try {\n            Map data = new HashMap();\n            data.put(&quot;status_id&quot;, failed ? 5 : 1);\n            data.put(&quot;comment&quot;, errorMessage);\n            client.sendPost(&quot;add_result_for_case/&quot; + runID + &quot;/&quot; + tags.get(0), \n            data);\n        } catch (IOException e) {\n            e.printStackTrace();\n        } catch (APIException e) {\n            e.printStackTrace();\n        }\n    }\n\n    @Karate.Test\n    Karate ExampleFeatureRun() {\n        return Karate.run(&quot;ExampleFeatureRun&quot;).relativeTo(getClass());\n    }\n\n}\n\n</code></pre>\n"}],"owner":{"account_id":8624877,"reputation":125,"user_id":6458378,"accept_rate":33,"display_name":"NRT"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":897,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"answer_count":2,"score":3,"last_activity_date":1667909386,"creation_date":1518604544,"question_id":48785037,"body_markdown":"I am new to Java and using karate for API automation. I need help to integrate testrail with karate. I want to use tags for each scenario which will be the test case id (from testrail) and I want to push the result &#39;after the scenario&#39;.\r\n\r\nCan someone guide me on this? Code snippets would be more appreciated. Thank you! ","title":"How to integrate karate with testrail","body":"<p>I am new to Java and using karate for API automation. I need help to integrate testrail with karate. I want to use tags for each scenario which will be the test case id (from testrail) and I want to push the result 'after the scenario'.</p>\n\n<p>Can someone guide me on this? Code snippets would be more appreciated. Thank you! </p>\n"},{"tags":["java","intellij-idea","log4j2"],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667909377,"creation_date":1667909377,"answer_id":74360511,"question_id":74359307,"body_markdown":"Taken from the FAQ: [How do I debug my configuration?][1]\r\n\r\n*First, make sure you have the right jar files on your classpath. You need at least log4j-api and log4j-core.\r\nNext, check the name of your configuration file. By default, log4j2 will look for a configuration file named log4j2.xml on the classpath. Note the 2 in the file name! (See the [configuration manual page][2] for more details.)*\r\n\r\n**From log4j-2.9 onward**\r\n\r\n*From log4j-2.9 onward, log4j2 will print all internal logging to the console if system property log4j2.debug is either defined empty or its value equals to true (ignoring case).*\r\n\r\n**Prior to log4j-2.9**\r\n\r\n*Prior to log4j-2.9, there are two places where internal logging can be controlled:*\r\n\r\n*If the configuration file is found correctly, log4j2 internal status logging can be controlled by setting &lt;Configuration status=&quot;trace&quot;&gt; in the configuration file. This will display detailed log4j2-internal log statements on the console about what happens during the configuration process. This may be useful to trouble-shoot configuration issues. By default the status logger level is WARN, so you only see notifications when there is a problem.*\r\n\r\n*If the configuration file is not found correctly, you can still enable log4j2 internal status logging by setting system property -Dorg.apache.logging.log4j.simplelog.StatusLogger.level=TRACE.*\r\n\r\n\r\n  [1]: https://logging.apache.org/log4j/2.x/faq.html#troubleshooting\r\n  [2]: https://logging.apache.org/log4j/2.x/manual/configuration.html#AutomaticConfiguration","title":"log4j2 log file is not generating","body":"<p>Taken from the FAQ: <a href=\"https://logging.apache.org/log4j/2.x/faq.html#troubleshooting\" rel=\"nofollow noreferrer\">How do I debug my configuration?</a></p>\n<p><em>First, make sure you have the right jar files on your classpath. You need at least log4j-api and log4j-core.\nNext, check the name of your configuration file. By default, log4j2 will look for a configuration file named log4j2.xml on the classpath. Note the 2 in the file name! (See the <a href=\"https://logging.apache.org/log4j/2.x/manual/configuration.html#AutomaticConfiguration\" rel=\"nofollow noreferrer\">configuration manual page</a> for more details.)</em></p>\n<p><strong>From log4j-2.9 onward</strong></p>\n<p><em>From log4j-2.9 onward, log4j2 will print all internal logging to the console if system property log4j2.debug is either defined empty or its value equals to true (ignoring case).</em></p>\n<p><strong>Prior to log4j-2.9</strong></p>\n<p><em>Prior to log4j-2.9, there are two places where internal logging can be controlled:</em></p>\n<p><em>If the configuration file is found correctly, log4j2 internal status logging can be controlled by setting  in the configuration file. This will display detailed log4j2-internal log statements on the console about what happens during the configuration process. This may be useful to trouble-shoot configuration issues. By default the status logger level is WARN, so you only see notifications when there is a problem.</em></p>\n<p><em>If the configuration file is not found correctly, you can still enable log4j2 internal status logging by setting system property -Dorg.apache.logging.log4j.simplelog.StatusLogger.level=TRACE.</em></p>\n"}],"owner":{"account_id":23791468,"reputation":11,"user_id":17802855,"display_name":"Harish Algat"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":366,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667909377,"creation_date":1667903878,"question_id":74359307,"body_markdown":"the log file is generated when I run the code within IDE (Intellij IDEA).\r\n\r\nas soon as I create runnable jar of the code and then try to run the jar then the logs are not generating.\r\n\r\nI have made sure the log4j2.xml file is a part of classpath.\r\n\r\nis there anything extra I have to do while creating jar in the Intellij IDEA?\r\n","title":"log4j2 log file is not generating","body":"<p>the log file is generated when I run the code within IDE (Intellij IDEA).</p>\n<p>as soon as I create runnable jar of the code and then try to run the jar then the logs are not generating.</p>\n<p>I have made sure the log4j2.xml file is a part of classpath.</p>\n<p>is there anything extra I have to do while creating jar in the Intellij IDEA?</p>\n"},{"tags":["java","postgresql","jdbc","blob"],"answers":[{"tags":[],"owner":{"account_id":1754145,"reputation":43960,"user_id":1602555,"display_name":"Karol Dowbecki"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667909022,"creation_date":1563445716,"answer_id":57092455,"question_id":57092307,"body_markdown":"As per [this mail group discussion][1] you should not be using `bytea` for this use case:\r\n\r\n&gt; There are two methods to store binary data in pg and they have different \r\naccess methods and performance characteristics.  Bytea data is expected to \r\nbe shorter and is returned in whole with a ResultSet by the server.  For \r\nlarger data you want to use large objects which return a pointer (oid) to \r\nthe actual data which you can then stream from the server at will.\r\n&gt;\r\n&gt; This page describes some of the differences between the two and \r\ndemonstrates using a pg specific api to access large objects, but \r\ngetBlob/setBlob will work just fine.\r\n\r\n\r\n\r\nSee [Chapter 7. Storing Binary Data][2] which shows example code and [Chapter 35. Large Objects][3] that goes into details:\r\n\r\n&gt; PostgreSQL has a large object facility, which provides stream-style access to user data that is stored in a special large-object structure. Streaming access is useful when working with data values that are too large to manipulate conveniently as a whole.\r\n\r\n\r\n  [1]: https://www.postgresql.org/message-id/Pine.BSO.4.64.0804302236360.24724%40leary.csoft.net\r\n  [2]: https://jdbc.postgresql.org/documentation/binary-data/\r\n  [3]: https://www.postgresql.org/docs/current/largeobjects.html","title":"Streaming big files from postgres database into file system using JDBC","body":"<p>As per <a href=\"https://www.postgresql.org/message-id/Pine.BSO.4.64.0804302236360.24724%40leary.csoft.net\" rel=\"nofollow noreferrer\">this mail group discussion</a> you should not be using <code>bytea</code> for this use case:</p>\n<blockquote>\n<p>There are two methods to store binary data in pg and they have different\naccess methods and performance characteristics.  Bytea data is expected to\nbe shorter and is returned in whole with a ResultSet by the server.  For\nlarger data you want to use large objects which return a pointer (oid) to\nthe actual data which you can then stream from the server at will.</p>\n<p>This page describes some of the differences between the two and\ndemonstrates using a pg specific api to access large objects, but\ngetBlob/setBlob will work just fine.</p>\n</blockquote>\n<p>See <a href=\"https://jdbc.postgresql.org/documentation/binary-data/\" rel=\"nofollow noreferrer\">Chapter 7. Storing Binary Data</a> which shows example code and <a href=\"https://www.postgresql.org/docs/current/largeobjects.html\" rel=\"nofollow noreferrer\">Chapter 35. Large Objects</a> that goes into details:</p>\n<blockquote>\n<p>PostgreSQL has a large object facility, which provides stream-style access to user data that is stored in a special large-object structure. Streaming access is useful when working with data values that are too large to manipulate conveniently as a whole.</p>\n</blockquote>\n"}],"owner":{"account_id":6749044,"reputation":53,"user_id":5199770,"display_name":"pakryb"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2977,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":57092455,"answer_count":1,"score":2,"last_activity_date":1667909022,"creation_date":1563445260,"question_id":57092307,"body_markdown":"I store files in my postgres database in a column of type `bytea` with a size potentionaly exceeding the allocated Java heap space so when trying to write those files into the file system I quickly run into out of memory issues.\r\n\r\nI am using JDBC to perform the query and then extract the content as binary stream.\r\n\r\nThis is a simplified version of my code:\r\n\r\n```\r\n    public File readContent(String contentId) {\r\n        PreparedStatement statement = jdbcTemplate.getDataSource().getConnection().prepareStatement(&quot;SELECT content from table.entry WHERE id=?&quot;);\r\n        statement.setString(1, contentId);\r\n        ResultSet resultSet = statement.executeQuery();\r\n        resultSet.next();\r\n        File file = writeToFileSystem(resultSet.getBinaryStream(1));\r\n        resultSet.close();\r\n        return file;\r\n    }\r\n\r\n    \r\n    private File writeToFileSystem(InputStream inputStream) {\r\n        File dir = createDirectories(Paths.get(properties.getTempFolder(), UUID.randomUUID().toString())).toFile();\r\n        File file = new File(dir, &quot;content.zip&quot;);\r\n        FileUtils.copyInputStreamToFile(inputStream, file);\r\n        return file;\r\n    }\r\n```\r\n\r\nMy expectation was that this would let me stream the data from the database into the file without ever having to load it into memory entirely. This approach doesn&#39;t work however as I am still getting `OutOfMemoryErrors` as soon as the query is executed:\r\n\r\n```\r\nCaused by: java.lang.OutOfMemoryError: Java heap space\r\n    at org.postgresql.core.PGStream.receiveTupleV3(PGStream.java:395)\r\n\tat org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2118)\r\n\tat org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:288)\r\n\tat org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:430)\r\n\tat org.postgresql.jdbc.PgStatement.execute(PgStatement.java:356)\r\n\tat org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:168)\r\n\tat org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:116)\r\n\tat sun.reflect.GeneratedMethodAccessor201.invoke(Unknown Source)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:497)\r\n\tat org.apache.tomcat.jdbc.pool.StatementFacade$StatementProxy.invoke(StatementFacade.java:114)\r\n\tat com.sun.proxy.$Proxy149.executeQuery(Unknown Source)\r\n\tat [...].ContentRepository.readContent(ContentRepository.java:111)\t\r\n\r\n```\r\n\r\nIs there any way I can stream the data from the database into a file without having to increase the Java VMs available memory?\r\n","title":"Streaming big files from postgres database into file system using JDBC","body":"<p>I store files in my postgres database in a column of type <code>bytea</code> with a size potentionaly exceeding the allocated Java heap space so when trying to write those files into the file system I quickly run into out of memory issues.</p>\n\n<p>I am using JDBC to perform the query and then extract the content as binary stream.</p>\n\n<p>This is a simplified version of my code:</p>\n\n<pre><code>    public File readContent(String contentId) {\n        PreparedStatement statement = jdbcTemplate.getDataSource().getConnection().prepareStatement(\"SELECT content from table.entry WHERE id=?\");\n        statement.setString(1, contentId);\n        ResultSet resultSet = statement.executeQuery();\n        resultSet.next();\n        File file = writeToFileSystem(resultSet.getBinaryStream(1));\n        resultSet.close();\n        return file;\n    }\n\n\n    private File writeToFileSystem(InputStream inputStream) {\n        File dir = createDirectories(Paths.get(properties.getTempFolder(), UUID.randomUUID().toString())).toFile();\n        File file = new File(dir, \"content.zip\");\n        FileUtils.copyInputStreamToFile(inputStream, file);\n        return file;\n    }\n</code></pre>\n\n<p>My expectation was that this would let me stream the data from the database into the file without ever having to load it into memory entirely. This approach doesn't work however as I am still getting <code>OutOfMemoryErrors</code> as soon as the query is executed:</p>\n\n<pre><code>Caused by: java.lang.OutOfMemoryError: Java heap space\n    at org.postgresql.core.PGStream.receiveTupleV3(PGStream.java:395)\n    at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2118)\n    at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:288)\n    at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:430)\n    at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:356)\n    at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:168)\n    at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:116)\n    at sun.reflect.GeneratedMethodAccessor201.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:497)\n    at org.apache.tomcat.jdbc.pool.StatementFacade$StatementProxy.invoke(StatementFacade.java:114)\n    at com.sun.proxy.$Proxy149.executeQuery(Unknown Source)\n    at [...].ContentRepository.readContent(ContentRepository.java:111)  \n\n</code></pre>\n\n<p>Is there any way I can stream the data from the database into a file without having to increase the Java VMs available memory?</p>\n"},{"tags":["java","list"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1667903046,"post_id":74359067,"comment_id":131273257,"body_markdown":"Not quite sure what problem you&#39;re facing, could you provide some code on what the objects containing that data look like? If they are mutable you could just maintain a map with group number being the key and the aggregate being the value. Then just &quot;merge&quot; each corresponding element into the aggregate by applying necessary rules (e.g. update start date only if it&#39;s before the aggregate&#39;s and end date only if it&#39;s after).","body":"Not quite sure what problem you&#39;re facing, could you provide some code on what the objects containing that data look like? If they are mutable you could just maintain a map with group number being the key and the aggregate being the value. Then just &quot;merge&quot; each corresponding element into the aggregate by applying necessary rules (e.g. update start date only if it&#39;s before the aggregate&#39;s and end date only if it&#39;s after)."},{"owner":{"account_id":10787811,"reputation":59,"user_id":9090704,"display_name":"Rody"},"score":0,"creation_date":1667903781,"post_id":74359067,"comment_id":131273504,"body_markdown":"Thanks for the response.\nI just updated the question, and yes they are mutable, they are saved in an arrayList","body":"Thanks for the response. I just updated the question, and yes they are mutable, they are saved in an arrayList"}],"answers":[{"tags":[],"owner":{"display_name":"user17233545"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667908322,"creation_date":1667907834,"answer_id":74360170,"question_id":74359067,"body_markdown":"Try this.\r\n\r\n    public static void main(String[] args) throws ParseException {\r\n        List&lt;Entities&gt; baseList = List.of(\r\n            new Entities(&quot;2018-11-13&quot;, &quot;2019-01-13&quot;, 1),\r\n            new Entities(&quot;2019-01-14&quot;, &quot;2019-03-06&quot;, 1),\r\n            new Entities(&quot;2019-03-07&quot;, &quot;2019-11-18&quot;, 1),\r\n            new Entities(&quot;2020-08-23&quot;, &quot;2020-08-23&quot;, 2),\r\n            new Entities(&quot;2021-11-19&quot;, &quot;2022-12-23&quot;, 2));\r\n        List&lt;Entities&gt; result = baseList.stream()\r\n            .collect(Collectors.groupingBy(Entities::getGroupNum))\r\n            .entrySet().stream()\r\n            .map(e -&gt; new Entities(\r\n                e.getValue().get(0).getStart_dt(),\r\n                e.getValue().get(e.getValue().size() - 1).getStop_dt(),\r\n                e.getKey()))\r\n            .toList();\r\n        result.forEach(System.out::println);\r\n    }\r\n\r\noutput:\r\n\r\n    Entities [start_dt=2018-11-13, stop_dt=2019-11-18, groupNum=1]\r\n    Entities [start_dt=2020-08-23, stop_dt=2022-12-23, groupNum=2]\r\n\r\n","title":"How to aggregate elements based on a value they share Java","body":"<p>Try this.</p>\n<pre><code>public static void main(String[] args) throws ParseException {\n    List&lt;Entities&gt; baseList = List.of(\n        new Entities(&quot;2018-11-13&quot;, &quot;2019-01-13&quot;, 1),\n        new Entities(&quot;2019-01-14&quot;, &quot;2019-03-06&quot;, 1),\n        new Entities(&quot;2019-03-07&quot;, &quot;2019-11-18&quot;, 1),\n        new Entities(&quot;2020-08-23&quot;, &quot;2020-08-23&quot;, 2),\n        new Entities(&quot;2021-11-19&quot;, &quot;2022-12-23&quot;, 2));\n    List&lt;Entities&gt; result = baseList.stream()\n        .collect(Collectors.groupingBy(Entities::getGroupNum))\n        .entrySet().stream()\n        .map(e -&gt; new Entities(\n            e.getValue().get(0).getStart_dt(),\n            e.getValue().get(e.getValue().size() - 1).getStop_dt(),\n            e.getKey()))\n        .toList();\n    result.forEach(System.out::println);\n}\n</code></pre>\n<p>output:</p>\n<pre><code>Entities [start_dt=2018-11-13, stop_dt=2019-11-18, groupNum=1]\nEntities [start_dt=2020-08-23, stop_dt=2022-12-23, groupNum=2]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667908938,"creation_date":1667908938,"answer_id":74360410,"question_id":74359067,"body_markdown":"I assume you want to aggregate `Entities` as follows:\r\n- `groupNum` will be the grouping criteria\r\n- earliest `start_dt` and latest `stop_dt` should be used.\r\n\r\nAs I already suggested in my comment, try to use a `Map&lt;Integer, Entities&gt;` where the key is the group number:\r\n\r\n\r\n    Map&lt;Integer, Entities&gt; aggregates = new HashMap&lt;&gt;();\r\n\r\n    for( Entities entry : baseList ) {\r\n      //get the aggregate or create it if none exists for this group\r\n      Entities aggregate = aggregates.computeIfAbsent(entry.getGroupNum(), \r\n         k -&gt; new Entities(entry.getStart_Dt(), entry.getStop_Dt(), entry.getGroupNum());\r\n\r\n      //compare and update the dates as needed\r\n      if( aggregate.getStart_Dt().compareTo(entry.getStart_Dt()) &gt; 0) {\r\n        aggregate.setStart_Dt(entry.getStart_Dt());\r\n      }\r\n\r\n      if( aggregate.getStop_Dt().compareTo(entry.getStop_Dt()) &lt; 0) {\r\n        aggregate.setStart_Dt(entry.getStop_Dt());\r\n      }\r\n    }\r\n\r\nA few notes:\r\n\r\n- This approach doesn&#39;t require the list to be sorted and doesn&#39;t maintain any order. If order by group number should be maintained either use a `TreeMap` to sort by group number or a `LinkedHashMap` to keep the order of the list (as much as applicable - you&#39;re merging list elements after all)\r\n- If you&#39;d use the `java.time`, e.g. `LocalDate` instead of `java.util.Date` you could use the easier to read methods `isBefore()` and `isAfter()`.\r\n- If you don&#39;t want to check the dates on a newly created aggregate use the following snippet as the loop body:\r\n\r\n      Entities aggregate = aggregates.get(entry.getGroupNum());\r\n      if( aggregate == null ) {\r\n        aggregates.put( entry.getGroupNum(), new Entities(entry.getStart_Dt(), entry.getStop_Dt(), entry.getGroupNum());\r\n      } else {\r\n        if( aggregate.getStart_Dt().compareTo(entry.getStart_Dt()) &gt; 0) {\r\n          aggregate.setStart_Dt(entry.getStart_Dt());\r\n        }\r\n\r\n        if( aggregate.getStop_Dt().compareTo(entry.getStop_Dt()) &lt; 0) {\r\n          aggregate.setStart_Dt(entry.getStop_Dt());\r\n        }\r\n      }","title":"How to aggregate elements based on a value they share Java","body":"<p>I assume you want to aggregate <code>Entities</code> as follows:</p>\n<ul>\n<li><code>groupNum</code> will be the grouping criteria</li>\n<li>earliest <code>start_dt</code> and latest <code>stop_dt</code> should be used.</li>\n</ul>\n<p>As I already suggested in my comment, try to use a <code>Map&lt;Integer, Entities&gt;</code> where the key is the group number:</p>\n<pre><code>Map&lt;Integer, Entities&gt; aggregates = new HashMap&lt;&gt;();\n\nfor( Entities entry : baseList ) {\n  //get the aggregate or create it if none exists for this group\n  Entities aggregate = aggregates.computeIfAbsent(entry.getGroupNum(), \n     k -&gt; new Entities(entry.getStart_Dt(), entry.getStop_Dt(), entry.getGroupNum());\n\n  //compare and update the dates as needed\n  if( aggregate.getStart_Dt().compareTo(entry.getStart_Dt()) &gt; 0) {\n    aggregate.setStart_Dt(entry.getStart_Dt());\n  }\n\n  if( aggregate.getStop_Dt().compareTo(entry.getStop_Dt()) &lt; 0) {\n    aggregate.setStart_Dt(entry.getStop_Dt());\n  }\n}\n</code></pre>\n<p>A few notes:</p>\n<ul>\n<li><p>This approach doesn't require the list to be sorted and doesn't maintain any order. If order by group number should be maintained either use a <code>TreeMap</code> to sort by group number or a <code>LinkedHashMap</code> to keep the order of the list (as much as applicable - you're merging list elements after all)</p>\n</li>\n<li><p>If you'd use the <code>java.time</code>, e.g. <code>LocalDate</code> instead of <code>java.util.Date</code> you could use the easier to read methods <code>isBefore()</code> and <code>isAfter()</code>.</p>\n</li>\n<li><p>If you don't want to check the dates on a newly created aggregate use the following snippet as the loop body:</p>\n<pre><code>Entities aggregate = aggregates.get(entry.getGroupNum());\nif( aggregate == null ) {\n  aggregates.put( entry.getGroupNum(), new Entities(entry.getStart_Dt(), entry.getStop_Dt(), entry.getGroupNum());\n} else {\n  if( aggregate.getStart_Dt().compareTo(entry.getStart_Dt()) &gt; 0) {\n    aggregate.setStart_Dt(entry.getStart_Dt());\n  }\n\n  if( aggregate.getStop_Dt().compareTo(entry.getStop_Dt()) &lt; 0) {\n    aggregate.setStart_Dt(entry.getStop_Dt());\n  }\n}\n</code></pre>\n</li>\n</ul>\n"}],"owner":{"account_id":10787811,"reputation":59,"user_id":9090704,"display_name":"Rody"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74360410,"answer_count":2,"score":-1,"last_activity_date":1667908938,"creation_date":1667902668,"question_id":74359067,"body_markdown":"I have list of Entities which share equal Group number if they belong to the same group\r\n\r\nStart        |Stop         |GroupNum\r\n-------------|-------------|----\r\n***2018-11-13***   |2019-01-13   |1\r\n2019-01-14   |2019-03-06         |1\r\n2019-03-07   |***2019-11-18***   |1\r\n***2020-08-23***   |2020-08-23   |2\r\n2021-11-19   |***2022-12-23***   |2\r\n\r\nThese Entities are saved in an ArrayList&lt;Entities&gt; \r\n```\r\nList&lt;Entities&gt; baseList = new ArrayList&lt;&gt;();\r\n    public static class Entities {\r\n        private final Date start_dt;\r\n        private final Date stop_dt;\r\n        private int groupNum;\r\n```\r\n\r\nI want to aggregate objects based on the GroupNum, and take the first **Start** date from the first element of the (this).group and the last **stop** date from the same group.\r\n\r\nFinal result should look something like this:\r\n\r\nStart        |Stop         |GroupNum\r\n-------------|-------------|----\r\n***2018-11-13***    |***2019-11-18***   |1\r\n***2020-08-23***    |***2022-12-23***   |2\r\n\r\nI wanted to share my solution, however I couldn&#39;t come up with any ideas.\r\n\r\nThanks in advance.\r\n\r\n","title":"How to aggregate elements based on a value they share Java","body":"<p>I have list of Entities which share equal Group number if they belong to the same group</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Start</th>\n<th>Stop</th>\n<th>GroupNum</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><em><strong>2018-11-13</strong></em></td>\n<td>2019-01-13</td>\n<td>1</td>\n</tr>\n<tr>\n<td>2019-01-14</td>\n<td>2019-03-06</td>\n<td>1</td>\n</tr>\n<tr>\n<td>2019-03-07</td>\n<td><em><strong>2019-11-18</strong></em></td>\n<td>1</td>\n</tr>\n<tr>\n<td><em><strong>2020-08-23</strong></em></td>\n<td>2020-08-23</td>\n<td>2</td>\n</tr>\n<tr>\n<td>2021-11-19</td>\n<td><em><strong>2022-12-23</strong></em></td>\n<td>2</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>These Entities are saved in an ArrayList</p>\n<pre><code>List&lt;Entities&gt; baseList = new ArrayList&lt;&gt;();\n    public static class Entities {\n        private final Date start_dt;\n        private final Date stop_dt;\n        private int groupNum;\n</code></pre>\n<p>I want to aggregate objects based on the GroupNum, and take the first <strong>Start</strong> date from the first element of the (this).group and the last <strong>stop</strong> date from the same group.</p>\n<p>Final result should look something like this:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Start</th>\n<th>Stop</th>\n<th>GroupNum</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><em><strong>2018-11-13</strong></em></td>\n<td><em><strong>2019-11-18</strong></em></td>\n<td>1</td>\n</tr>\n<tr>\n<td><em><strong>2020-08-23</strong></em></td>\n<td><em><strong>2022-12-23</strong></em></td>\n<td>2</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>I wanted to share my solution, however I couldn't come up with any ideas.</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","spring-boot","spring-boot-actuator","spring-aspects"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1667822624,"post_id":74346225,"comment_id":131251730,"body_markdown":"You also need the `aspectj-rt` dependency.","body":"You also need the <code>aspectj-rt</code> dependency."},{"owner":{"account_id":1801257,"reputation":8969,"user_id":1639556,"accept_rate":79,"display_name":"Leos Literak"},"score":0,"creation_date":1667823957,"post_id":74346225,"comment_id":131252184,"body_markdown":"The jar aspectjweaver-1.9.6.jar contains org\\aspectj\\lang\\ProceedingJoinPoint.class, so rt variant is not neccessary.","body":"The jar aspectjweaver-1.9.6.jar contains org\\aspectj\\lang\\ProceedingJoinPoint.class, so rt variant is not neccessary."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1667825069,"post_id":74346225,"comment_id":131252560,"body_markdown":"And how are you building your jar?","body":"And how are you building your jar?"},{"owner":{"account_id":1801257,"reputation":8969,"user_id":1639556,"accept_rate":79,"display_name":"Leos Literak"},"score":0,"creation_date":1667825127,"post_id":74346225,"comment_id":131252582,"body_markdown":"mvn install and then run in Idea debugger","body":"mvn install and then run in Idea debugger"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1667825496,"post_id":74346225,"comment_id":131252710,"body_markdown":"Please add your full pom. Also if you are building your jar then why run it in IDEA? Why not run the main class. Also is this an issue when running the app on the command line or when running it (as a main method) in Idea?","body":"Please add your full pom. Also if you are building your jar then why run it in IDEA? Why not run the main class. Also is this an issue when running the app on the command line or when running it (as a main method) in Idea?"},{"owner":{"account_id":1801257,"reputation":8969,"user_id":1639556,"accept_rate":79,"display_name":"Leos Literak"},"score":0,"creation_date":1667907851,"post_id":74346225,"comment_id":131274920,"body_markdown":"The problem was in Intellij IDEA that was not in sync with pom dependencies.","body":"The problem was in Intellij IDEA that was not in sync with pom dependencies."}],"owner":{"account_id":1801257,"reputation":8969,"user_id":1639556,"accept_rate":79,"display_name":"Leos Literak"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":192,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667907899,"creation_date":1667822268,"question_id":74346225,"body_markdown":"I have exactly same symptoms like this [question][1] and I followed its accepted answer without luck.\r\n\r\npom.xml\r\n\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.4.0&lt;/version&gt;\r\n        &lt;relativePath/&gt;\r\n    &lt;/parent&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-aspects&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\nApplication.java\r\n\r\n    @Bean\r\n    public TimedAspect timedAspect(MeterRegistry registry) {\r\n        return new TimedAspect(registry);\r\n    }\r\n\r\nException:\r\n\r\n    Caused by: java.lang.BootstrapMethodError: java.lang.NoClassDefFoundError: org/aspectj/lang/ProceedingJoinPoint\r\n    \tat io.micrometer.core.aop.TimedAspect.&lt;init&gt;(TimedAspect.java:73)\r\n    \tat com..mcs.Application.timedAspect(Application.java:29)\r\n    \tat com..mcs.Application$$EnhancerBySpringCGLIB$$b6a83328.CGLIB$timedAspect$1(&lt;generated&gt;)\r\n    \tat com..mcs.Application$$EnhancerBySpringCGLIB$$b6a83328$$FastClassBySpringCGLIB$$be4485cd.invoke(&lt;generated&gt;)\r\n    \tat org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:244)\r\n    \tat org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331)\r\n    \tat com..mcs.Application$$EnhancerBySpringCGLIB$$b6a83328.timedAspect(&lt;generated&gt;)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154)\r\n    \t... 21 more\r\n    Caused by: java.lang.NoClassDefFoundError: org/aspectj/lang/ProceedingJoinPoint\r\n    \t... 33 more\r\n    Caused by: java.lang.ClassNotFoundException: org.aspectj.lang.ProceedingJoinPoint\r\n    \tat java.net.URLClassLoader.findClass(URLClassLoader.java:382)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:418)\r\n    \tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:355)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:351)\r\n\r\nDependencies:\r\n\r\n    [INFO] +- org.springframework.boot:spring-boot-starter-actuator:jar:2.4.0:compile\r\n    [INFO] |  +- org.springframework.boot:spring-boot-actuator-autoconfigure:jar:2.4.0:compile\r\n    [INFO] |  |  \\- org.springframework.boot:spring-boot-actuator:jar:2.4.0:compile\r\n    [INFO] |  \\- io.micrometer:micrometer-core:jar:1.6.1:compile\r\n    [INFO] |     +- org.hdrhistogram:HdrHistogram:jar:2.1.12:compile\r\n    [INFO] |     \\- org.latencyutils:LatencyUtils:jar:2.0.3:runtime\r\n    [INFO] +- org.springframework:spring-aspects:jar:5.3.1:compile\r\n    [INFO] |  \\- org.aspectj:aspectjweaver:jar:1.9.6:compile\r\n\r\nIt does not make sense to me. The jar aspectjweaver-1.9.6.jar contains org\\aspectj\\lang\\ProceedingJoinPoint.class. The class should be loaded.\r\n\r\nSimilar questions: https://stackoverflow.com/questions/46162813/classnotfoundexception-org-aspectj-lang-annotation-around\r\n\r\nUpdate:\r\n\r\nThe problem was in Intellij IDEA that was not in sync with pom dependencies. A reload in Maven tab helped.\r\n\r\n  [1]: https://stackoverflow.com/questions/63230291/how-to-resolve-java-lang-classnotfoundexception-org-aspectj-lang-proceedingjoin\r\n\r\n","title":"AspectJ dep not loaded for @Timed annotation","body":"<p>I have exactly same symptoms like this <a href=\"https://stackoverflow.com/questions/63230291/how-to-resolve-java-lang-classnotfoundexception-org-aspectj-lang-proceedingjoin\">question</a> and I followed its accepted answer without luck.</p>\n<p>pom.xml</p>\n<pre><code>&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.4.0&lt;/version&gt;\n    &lt;relativePath/&gt;\n&lt;/parent&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-aspects&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>Application.java</p>\n<pre><code>@Bean\npublic TimedAspect timedAspect(MeterRegistry registry) {\n    return new TimedAspect(registry);\n}\n</code></pre>\n<p>Exception:</p>\n<pre><code>Caused by: java.lang.BootstrapMethodError: java.lang.NoClassDefFoundError: org/aspectj/lang/ProceedingJoinPoint\n    at io.micrometer.core.aop.TimedAspect.&lt;init&gt;(TimedAspect.java:73)\n    at com..mcs.Application.timedAspect(Application.java:29)\n    at com..mcs.Application$$EnhancerBySpringCGLIB$$b6a83328.CGLIB$timedAspect$1(&lt;generated&gt;)\n    at com..mcs.Application$$EnhancerBySpringCGLIB$$b6a83328$$FastClassBySpringCGLIB$$be4485cd.invoke(&lt;generated&gt;)\n    at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:244)\n    at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331)\n    at com..mcs.Application$$EnhancerBySpringCGLIB$$b6a83328.timedAspect(&lt;generated&gt;)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154)\n    ... 21 more\nCaused by: java.lang.NoClassDefFoundError: org/aspectj/lang/ProceedingJoinPoint\n    ... 33 more\nCaused by: java.lang.ClassNotFoundException: org.aspectj.lang.ProceedingJoinPoint\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:382)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:418)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:355)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:351)\n</code></pre>\n<p>Dependencies:</p>\n<pre><code>[INFO] +- org.springframework.boot:spring-boot-starter-actuator:jar:2.4.0:compile\n[INFO] |  +- org.springframework.boot:spring-boot-actuator-autoconfigure:jar:2.4.0:compile\n[INFO] |  |  \\- org.springframework.boot:spring-boot-actuator:jar:2.4.0:compile\n[INFO] |  \\- io.micrometer:micrometer-core:jar:1.6.1:compile\n[INFO] |     +- org.hdrhistogram:HdrHistogram:jar:2.1.12:compile\n[INFO] |     \\- org.latencyutils:LatencyUtils:jar:2.0.3:runtime\n[INFO] +- org.springframework:spring-aspects:jar:5.3.1:compile\n[INFO] |  \\- org.aspectj:aspectjweaver:jar:1.9.6:compile\n</code></pre>\n<p>It does not make sense to me. The jar aspectjweaver-1.9.6.jar contains org\\aspectj\\lang\\ProceedingJoinPoint.class. The class should be loaded.</p>\n<p>Similar questions: <a href=\"https://stackoverflow.com/questions/46162813/classnotfoundexception-org-aspectj-lang-annotation-around\">ClassNotFoundException - org.aspectj.lang.annotation.Around</a></p>\n<p>Update:</p>\n<p>The problem was in Intellij IDEA that was not in sync with pom dependencies. A reload in Maven tab helped.</p>\n"},{"tags":["python","java"],"comments":[{"owner":{"account_id":5529755,"reputation":28247,"user_id":4390160,"accept_rate":100,"display_name":"Grismar"},"score":1,"creation_date":1667802914,"post_id":74342719,"comment_id":131245549,"body_markdown":"Have you tried increasing or decreasing the amount of available memory you&#39;re setting with `&quot;-Xmx2g&quot;`? That sets the max allocation pool to 2GB.","body":"Have you tried increasing or decreasing the amount of available memory you&#39;re setting with <code>&quot;-Xmx2g&quot;</code>? That sets the max allocation pool to 2GB."},{"owner":{"account_id":26804094,"reputation":3,"user_id":20395623,"display_name":"Lucifer MorningStar"},"score":0,"creation_date":1667802974,"post_id":74342719,"comment_id":131245563,"body_markdown":"Yes I tried but not worked. Can u please write a code and paste it hear it really helpful to me.  Thanks in advance.","body":"Yes I tried but not worked. Can u please write a code and paste it hear it really helpful to me.  Thanks in advance."},{"owner":{"account_id":5529755,"reputation":28247,"user_id":4390160,"accept_rate":100,"display_name":"Grismar"},"score":0,"creation_date":1667803016,"post_id":74342719,"comment_id":131245583,"body_markdown":"No matter the size you give it, it always gives you this error? What is the size of your Excel workbook? The name `LargeFile.xlsx` is ominous - why are you trying to pull everything through these specific libraries and frameworks, just to save the Excel workbook out again?","body":"No matter the size you give it, it always gives you this error? What is the size of your Excel workbook? The name <code>LargeFile.xlsx</code> is ominous - why are you trying to pull everything through these specific libraries and frameworks, just to save the Excel workbook out again?"},{"owner":{"account_id":26804094,"reputation":3,"user_id":20395623,"display_name":"Lucifer MorningStar"},"score":0,"creation_date":1667803065,"post_id":74342719,"comment_id":131245596,"body_markdown":"320MB+ Size it&#39;s I also try in configure java and increase the size also but still same error are found","body":"320MB+ Size it&#39;s I also try in configure java and increase the size also but still same error are found"},{"owner":{"account_id":26804094,"reputation":3,"user_id":20395623,"display_name":"Lucifer MorningStar"},"score":0,"creation_date":1667803493,"post_id":74342719,"comment_id":131245687,"body_markdown":"Only i just need we have to save the file in xlsb because it open in few seconds in xlsb file size will be reduce an open soons","body":"Only i just need we have to save the file in xlsb because it open in few seconds in xlsb file size will be reduce an open soons"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1667803499,"post_id":74342719,"comment_id":131245689,"body_markdown":"&quot;I also try in configure java and increase the size&quot; -  How?","body":"&quot;I also try in configure java and increase the size&quot; -  How?"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1667803537,"post_id":74342719,"comment_id":131245702,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":26804094,"reputation":3,"user_id":20395623,"display_name":"Lucifer MorningStar"},"score":0,"creation_date":1667803934,"post_id":74342719,"comment_id":131245776,"body_markdown":"@StephenC  - I download the JVM and in configure Java App i increased the size.                      Help of this Video:- https://youtu.be/WYtH5yJRz5s","body":"@StephenC  - I download the JVM and in configure Java App i increased the size.                      Help of this Video:- <a href=\"https://youtu.be/WYtH5yJRz5s\" rel=\"nofollow noreferrer\">youtu.be/WYtH5yJRz5s</a>"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1667804356,"post_id":74342719,"comment_id":131245882,"body_markdown":"Well that is telling me that you (probably) are increasing the heap size, and that 2GB is still too small.  And that implies either it needs to be bigger still ... or the workbook you are trying to load is simply too large to handle in Java.   Java (POI) is very memory inefficient.","body":"Well that is telling me that you (probably) are increasing the heap size, and that 2GB is still too small.  And that implies either it needs to be bigger still ... or the workbook you are trying to load is simply too large to handle in Java.   Java (POI) is very memory inefficient."},{"owner":{"account_id":26804094,"reputation":3,"user_id":20395623,"display_name":"Lucifer MorningStar"},"score":0,"creation_date":1667804767,"post_id":74342719,"comment_id":131245971,"body_markdown":"Okay so now how i can solve this error any solution do you have? Because i tried since last week but not worked.  And i am using anaconda 3 Jupyter Notebook.  If you have a solution please send he the correct code it&#39;s really helpful to me. Thanks @StephenC","body":"Okay so now how i can solve this error any solution do you have? Because i tried since last week but not worked.  And i am using anaconda 3 Jupyter Notebook.  If you have a solution please send he the correct code it&#39;s really helpful to me. Thanks @StephenC"},{"owner":{"account_id":26738201,"reputation":1550,"user_id":20339407,"display_name":"0x0fba"},"score":1,"creation_date":1667805481,"post_id":74342719,"comment_id":131246176,"body_markdown":"What do you want to achieve ? Testing JPype or manipulate Excel files in Python ?","body":"What do you want to achieve ? Testing JPype or manipulate Excel files in Python ?"},{"owner":{"account_id":26804094,"reputation":3,"user_id":20395623,"display_name":"Lucifer MorningStar"},"score":0,"creation_date":1667805611,"post_id":74342719,"comment_id":131246215,"body_markdown":"@fbattello  Hi, I just want to this code is Book2.xlsx is download in TestFile1.xlsb only need to reduce the file size that sit not testing the Jpype or manipulating the excel files","body":"@fbattello  Hi, I just want to this code is Book2.xlsx is download in TestFile1.xlsb only need to reduce the file size that sit not testing the Jpype or manipulating the excel files"},{"owner":{"account_id":26738201,"reputation":1550,"user_id":20339407,"display_name":"0x0fba"},"score":0,"creation_date":1667806660,"post_id":74342719,"comment_id":131246476,"body_markdown":"If the goal is just to convert the format.\nYour solution looks quite complicated.\nWhy you don&#39;t do use the Aspose.Cells Java library directly in Java ?\nOr better is there any executable on windows that would do the job ? the `soffice` binary from LibreOffice ?","body":"If the goal is just to convert the format. Your solution looks quite complicated. Why you don&#39;t do use the Aspose.Cells Java library directly in Java ? Or better is there any executable on windows that would do the job ? the <code>soffice</code> binary from LibreOffice ?"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1667807586,"post_id":74342719,"comment_id":131246744,"body_markdown":"Actually, since you are using Windows, you ought to be able to use (real) Excel to do this format conversion.   Alternatively, just get a machine with more RAM so that you can make the Java heap *as large as it needs to be* to perform the conversion.","body":"Actually, since you are using Windows, you ought to be able to use (real) Excel to do this format conversion.   Alternatively, just get a machine with more RAM so that you can make the Java heap <i>as large as it needs to be</i> to perform the conversion."},{"owner":{"account_id":26804094,"reputation":3,"user_id":20395623,"display_name":"Lucifer MorningStar"},"score":0,"creation_date":1667811673,"post_id":74342719,"comment_id":131247946,"body_markdown":"Hii All, Please open this https://products.aspose.com/cells/python-java/conversion/xlsx-to-xlsb/    site i am solving this error because this is my project where i have to solve. Thanks.   \n@StephenC   &amp; fbattello","body":"Hii All, Please open this <a href=\"https://products.aspose.com/cells/python-java/conversion/xlsx-to-xlsb/\" rel=\"nofollow noreferrer\">products.aspose.com/cells/python-java/conversion/xlsx-to-xls&zwnj;&#8203;b</a>    site i am solving this error because this is my project where i have to solve. Thanks.    @StephenC   &amp; fbattello"}],"answers":[{"tags":[],"owner":{"account_id":15429506,"reputation":26,"user_id":11131324,"display_name":"sainivetha"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667899870,"creation_date":1667899870,"answer_id":74358426,"question_id":74342719,"body_markdown":"You can try this to increase your memory to 2gb \r\n\r\n```jpype.startJVM(&quot;-Xms2g&quot;)```","title":"java.io.FileNotFoundException: Can&#39;t find file: How i can save xlxb file from calling URL","body":"<p>You can try this to increase your memory to 2gb</p>\n<p><code>jpype.startJVM(&quot;-Xms2g&quot;)</code></p>\n"}],"owner":{"account_id":26804094,"reputation":3,"user_id":20395623,"display_name":"Lucifer MorningStar"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74358426,"answer_count":1,"score":-1,"last_activity_date":1667907763,"creation_date":1667802664,"question_id":74342719,"body_markdown":"Their is new error now i want to download this from calling to url. Means in this code i have to upload it on live but their is no option in live that give the static path of our computer. So, now how i can save the file calling for the url.\r\n\r\n```import  jpype\r\nimport  asposecells\r\nimport urllib.request\r\njpype.startJVM(&quot;-Xmx10g&quot;)\r\nfrom asposecells.api import Workbook\r\nworkbook = Workbook(&quot;http://localhost/cafe_ci/assets/TestFile.xlsx&quot;)\r\nworkbook.save(&quot;http://localhost/cafe_ci/assets/TestFile2.xlsb&quot;)\r\njpype.shutdownJVM()```\r\n\r\nERROR&#128071;\r\n\r\n\r\nException Traceback (most recent call last)\r\n~\\anaconda3\\lib\\site-packages\\_jpype.cp39-win_amd64.pyd in com.aspose.cells.Workbook.&lt;init&gt;()\r\n\r\nException: Java Exception The above exception was the direct cause of the following exception:\r\njava.io.FileNotFoundException Traceback (most recent call last)\r\n~\\AppData\\Local\\Temp\\ipykernel_7624\\3627910572.py in &lt;module&gt;\r\n      4 jpype.startJVM(&quot;-Xmx10g&quot;)\r\n      5 from asposecells.api import Workbook\r\n----&gt; 6 workbook = Workbook(&quot;http://localhost/cafe_ci/assets/TestFile.xlsx&quot;)\r\n      7 workbook.save(&quot;http://localhost/cafe_ci/assets/TestFile2.xlsb&quot;)\r\n      8 jpype.shutdownJVM()\r\n\r\njava.io.FileNotFoundException: java.io.FileNotFoundException: Can&#39;t find file: http://localhost/cafe_ci/assets/TestFile.xlsx.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/t76pv.png","title":"java.io.FileNotFoundException: Can&#39;t find file: How i can save xlxb file from calling URL","body":"<p>Their is new error now i want to download this from calling to url. Means in this code i have to upload it on live but their is no option in live that give the static path of our computer. So, now how i can save the file calling for the url.</p>\n<pre><code>import  asposecells\nimport urllib.request\njpype.startJVM(&quot;-Xmx10g&quot;)\nfrom asposecells.api import Workbook\nworkbook = Workbook(&quot;http://localhost/cafe_ci/assets/TestFile.xlsx&quot;)\nworkbook.save(&quot;http://localhost/cafe_ci/assets/TestFile2.xlsb&quot;)\njpype.shutdownJVM()```\n\nERROR\n\n\nException Traceback (most recent call last)\n~\\anaconda3\\lib\\site-packages\\_jpype.cp39-win_amd64.pyd in com.aspose.cells.Workbook.&lt;init&gt;()\n\nException: Java Exception The above exception was the direct cause of the following exception:\njava.io.FileNotFoundException Traceback (most recent call last)\n~\\AppData\\Local\\Temp\\ipykernel_7624\\3627910572.py in &lt;module&gt;\n      4 jpype.startJVM(&quot;-Xmx10g&quot;)\n      5 from asposecells.api import Workbook\n----&gt; 6 workbook = Workbook(&quot;http://localhost/cafe_ci/assets/TestFile.xlsx&quot;)\n      7 workbook.save(&quot;http://localhost/cafe_ci/assets/TestFile2.xlsb&quot;)\n      8 jpype.shutdownJVM()\n\njava.io.FileNotFoundException: java.io.FileNotFoundException: Can't find file: http://localhost/cafe_ci/assets/TestFile.xlsx.\n\n\n  [1]: https://i.stack.imgur.com/t76pv.png\n</code></pre>\n"},{"tags":["java","docker"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1667902356,"post_id":74358889,"comment_id":131272980,"body_markdown":"I would have guessed that the third one works. Are the files in the same directory? Java uses `:` as the separator on Linux, `;` is only used on Windows. Also make sure to not have *both* `ENTRYPOINT` and `CMD` in your Dockerfile, unless you know why/how to use that combination.","body":"I would have guessed that the third one works. Are the files in the same directory? Java uses <code>:</code> as the separator on Linux, <code>;</code> is only used on Windows. Also make sure to not have <i>both</i> <code>ENTRYPOINT</code> and <code>CMD</code> in your Dockerfile, unless you know why/how to use that combination."},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1667902486,"post_id":74358889,"comment_id":131273034,"body_markdown":"Also, can you post the error message? Because it can happen that a class from `another.jar` fails to load because *it itself* is missing a required class from `third.jar` (which is why I usually leave the job of &quot;collect the dependencies&quot; to a proper build system like Gradle).","body":"Also, can you post the error message? Because it can happen that a class from <code>another.jar</code> fails to load because <i>it itself</i> is missing a required class from <code>third.jar</code> (which is why I usually leave the job of &quot;collect the dependencies&quot; to a proper build system like Gradle)."},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1667902808,"post_id":74358889,"comment_id":131273165,"body_markdown":"Related: [Run a JAR file from the command line and specify classpath](https://stackoverflow.com/questions/18413014/run-a-jar-file-from-the-command-line-and-specify-classpath).","body":"Related: <a href=\"https://stackoverflow.com/questions/18413014/run-a-jar-file-from-the-command-line-and-specify-classpath\">Run a JAR file from the command line and specify classpath</a>."},{"owner":{"account_id":455809,"reputation":12993,"user_id":854207,"accept_rate":62,"display_name":"paul"},"score":0,"creation_date":1667904701,"post_id":74358889,"comment_id":131273788,"body_markdown":"I already update with error","body":"I already update with error"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1667905435,"post_id":74358889,"comment_id":131274045,"body_markdown":"Looks like your `ServiceProvider` stuff is wrong","body":"Looks like your <code>ServiceProvider</code> stuff is wrong"},{"owner":{"account_id":455809,"reputation":12993,"user_id":854207,"accept_rate":62,"display_name":"paul"},"score":0,"creation_date":1667906675,"post_id":74358889,"comment_id":131274491,"body_markdown":"It&#39;s working in local fine","body":"It&#39;s working in local fine"},{"owner":{"account_id":2339925,"reputation":15581,"user_id":2051454,"accept_rate":60,"display_name":"Software Engineer"},"score":0,"creation_date":1667907366,"post_id":74358889,"comment_id":131274739,"body_markdown":"You cannot use both cmd and entrypoint like that. Also, you&#39;re missing the `.` before the `/*` in your example. Try removing cmd and using just the `./*` classpath.","body":"You cannot use both cmd and entrypoint like that. Also, you&#39;re missing the <code>.</code> before the <code>&#47;*</code> in your example. Try removing cmd and using just the <code>.&#47;*</code> classpath."},{"owner":{"account_id":298886,"reputation":40480,"user_id":605153,"accept_rate":67,"display_name":"Mark Bramnik"},"score":1,"creation_date":1667907802,"post_id":74358889,"comment_id":131274903,"body_markdown":"could you please post the &quot;ls -l&quot; of the folder you&#39;re trying to run. I believe that the third option is the way to go, however there can be many things that can go wrong: permissions (that&#39;s why I&#39;ve asked to post / check the ls inside the docker), lack of other jars that you haven&#39;t included and many others. Also its possible to define a CLASSSPATH env. variable &#39;separately&#39; (define it in Dockerfile) and you won&#39;t need to use -cp. In non-dockerized env. such a global var can be too fragile, but in docker you have one process anyway, so it doesn&#39;t matter.","body":"could you please post the &quot;ls -l&quot; of the folder you&#39;re trying to run. I believe that the third option is the way to go, however there can be many things that can go wrong: permissions (that&#39;s why I&#39;ve asked to post / check the ls inside the docker), lack of other jars that you haven&#39;t included and many others. Also its possible to define a CLASSSPATH env. variable &#39;separately&#39; (define it in Dockerfile) and you won&#39;t need to use -cp. In non-dockerized env. such a global var can be too fragile, but in docker you have one process anyway, so it doesn&#39;t matter."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1667909035,"post_id":74358889,"comment_id":131275315,"body_markdown":"*Works perfectly fine and Service provider load the instance fine.* That&#39;s a different thing. In additional to the trivial difference (that it&#39;s running on WIndows), you are using a glob there that could take in other paths (e.g. to other jars) as well. Do `java -verbose:class -cp &quot;app.jar;./*&quot;  com.pol.Main` and make a careful note of the paths. Then make sure those are used in the Docker version. Of course the equivalent would be `CMD [ &quot;java&quot;, &quot;-classpath&quot;, &quot;app.jar:/*&quot;, &quot;com.pol.Main&quot; ]` but I&#39;d avoid globs","body":"<i>Works perfectly fine and Service provider load the instance fine.</i> That&#39;s a different thing. In additional to the trivial difference (that it&#39;s running on WIndows), you are using a glob there that could take in other paths (e.g. to other jars) as well. Do <code>java -verbose:class -cp &quot;app.jar;.&#47;*&quot;  com.pol.Main</code> and make a careful note of the paths. Then make sure those are used in the Docker version. Of course the equivalent would be <code>CMD [ &quot;java&quot;, &quot;-classpath&quot;, &quot;app.jar:&#47;*&quot;, &quot;com.pol.Main&quot; ]</code> but I&#39;d avoid globs"},{"owner":{"account_id":455809,"reputation":12993,"user_id":854207,"accept_rate":62,"display_name":"paul"},"score":0,"creation_date":1667910191,"post_id":74358889,"comment_id":131275745,"body_markdown":"@MarkBramnik how the Dockerfile it should looks like if I use ENV CLASSPATH, not sure how to configure then the CMD","body":"@MarkBramnik how the Dockerfile it should looks like if I use ENV CLASSPATH, not sure how to configure then the CMD"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1667910461,"post_id":74358889,"comment_id":131275857,"body_markdown":"Your classpath is wrong. Trying to place it elsewhere is not going to help you","body":"Your classpath is wrong. Trying to place it elsewhere is not going to help you"},{"owner":{"account_id":455809,"reputation":12993,"user_id":854207,"accept_rate":62,"display_name":"paul"},"score":0,"creation_date":1667912155,"post_id":74358889,"comment_id":131276464,"body_markdown":"@MarkBramnik you were right after do ls -l I found the another.jar is actually empty, thanks a lot!","body":"@MarkBramnik you were right after do ls -l I found the another.jar is actually empty, thanks a lot!"}],"owner":{"account_id":455809,"reputation":12993,"user_id":854207,"accept_rate":62,"display_name":"paul"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":141,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1667906767,"creation_date":1667901912,"question_id":74358889,"body_markdown":"I follow several entries here with solutions but still, I cannot make it work.\r\n\r\nI have a Java application to be executed inside a Docker container, and that requires running with two JAR files in `classpath` and I&#39;m not able to make it with all these combinations in my `Dockerfile`.\r\n\r\n```dockerfile\r\nENTRYPOINT [ &quot;java&quot;, &quot;-classpath&quot;, &quot;app.jar;another.jar&quot;, &quot;com.pol.Main&quot; ]\r\nCMD [ &quot;java&quot;, &quot;-classpath&quot;, &quot;app.jar;another.jar&quot;, &quot;com.pol.Main&quot; ]\r\nCMD [ &quot;java&quot;, &quot;-classpath&quot;, &quot;app.jar:another.jar&quot;, &quot;com.pol.Main&quot; ]\r\nCMD [ &quot;java&quot;, &quot;-classpath&quot;, &quot;app.jar;/*&quot;, &quot;com.pol.Main&quot; ]\r\n```\r\n\r\nI know the `app.jar` is there since if I add this one it&#39;s able to find the `Main` class, but then it fails because it cannot find some Classes required from `another.jar`\r\n\r\n\r\nWith option 3 \r\n\r\n    CMD [ &quot;java&quot;, &quot;-classpath&quot;, &quot;app.jar:another.jar&quot;, &quot;com.pol.Main&quot; ]\r\n\r\nI can find the main class of `app.jar` but `another.jar` is not loaded\r\n\r\n    java.util.NoSuchElementException: null\r\n    \tat java.util.ServiceLoader$2.next(ServiceLoader.java:1308) ~[?:?]\r\n    \tat java.util.ServiceLoader$2.next(ServiceLoader.java:1296) ~[?:?]\r\n    \tat java.util.ServiceLoader$3.next(ServiceLoader.java:1394) ~[?:?]\r\n\r\nIn local running with the command\r\n\r\n    java -cp &quot;app.jar;./*&quot;  com.pol.Main\r\n\r\nWorks perfectly fine and Service provider load the instance fine.\r\n","title":"Run Java classpath in CMD","body":"<p>I follow several entries here with solutions but still, I cannot make it work.</p>\n<p>I have a Java application to be executed inside a Docker container, and that requires running with two JAR files in <code>classpath</code> and I'm not able to make it with all these combinations in my <code>Dockerfile</code>.</p>\n<pre><code>ENTRYPOINT [ &quot;java&quot;, &quot;-classpath&quot;, &quot;app.jar;another.jar&quot;, &quot;com.pol.Main&quot; ]\nCMD [ &quot;java&quot;, &quot;-classpath&quot;, &quot;app.jar;another.jar&quot;, &quot;com.pol.Main&quot; ]\nCMD [ &quot;java&quot;, &quot;-classpath&quot;, &quot;app.jar:another.jar&quot;, &quot;com.pol.Main&quot; ]\nCMD [ &quot;java&quot;, &quot;-classpath&quot;, &quot;app.jar;/*&quot;, &quot;com.pol.Main&quot; ]\n</code></pre>\n<p>I know the <code>app.jar</code> is there since if I add this one it's able to find the <code>Main</code> class, but then it fails because it cannot find some Classes required from <code>another.jar</code></p>\n<p>With option 3</p>\n<pre><code>CMD [ &quot;java&quot;, &quot;-classpath&quot;, &quot;app.jar:another.jar&quot;, &quot;com.pol.Main&quot; ]\n</code></pre>\n<p>I can find the main class of <code>app.jar</code> but <code>another.jar</code> is not loaded</p>\n<pre><code>java.util.NoSuchElementException: null\n    at java.util.ServiceLoader$2.next(ServiceLoader.java:1308) ~[?:?]\n    at java.util.ServiceLoader$2.next(ServiceLoader.java:1296) ~[?:?]\n    at java.util.ServiceLoader$3.next(ServiceLoader.java:1394) ~[?:?]\n</code></pre>\n<p>In local running with the command</p>\n<pre><code>java -cp &quot;app.jar;./*&quot;  com.pol.Main\n</code></pre>\n<p>Works perfectly fine and Service provider load the instance fine.</p>\n"},{"tags":["java","android","ionic-framework","capacitor"],"answers":[{"tags":[],"owner":{"account_id":1428527,"reputation":52235,"user_id":1351469,"accept_rate":100,"display_name":"jcesarmobile"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667899239,"creation_date":1667899239,"answer_id":74358291,"question_id":74350034,"body_markdown":"Use `getContext()` instead of `context`","title":"How to set &quot;context&quot; of an capacitor plugin to use UsageStatsManager","body":"<p>Use <code>getContext()</code> instead of <code>context</code></p>\n"}],"owner":{"account_id":14057281,"reputation":143,"user_id":10154279,"display_name":"Stefan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":308,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74358291,"answer_count":1,"score":1,"last_activity_date":1667906583,"creation_date":1667839593,"question_id":74350034,"body_markdown":"I&#39;m trying to write a capacitor plugin following this [explanation][1]. The Plugin should make use of Androids [usageStatsManager][2]. \r\n\r\nWith the code further below, I&#39;m getting the following error in Android Studio:\r\n\r\n&gt; error: cannot find symbol\r\n        UsageStatsManager usm = (UsageStatsManager) context.getSystemService(Context.USAGE_STATS_SERVICE);                             \r\n  symbol:   variable context                \r\n  location: class echoPlugin\r\n\r\n\r\n So it seems somehow I&#39;m not using context correctly. \r\n\r\n\r\nMy code in echoPlugin.java:\r\n\r\n```\r\npackage com.echo.capacitor;\r\n\r\nimport com.getcapacitor.JSObject;\r\nimport com.getcapacitor.Plugin;\r\nimport com.getcapacitor.PluginMethod;\r\nimport com.getcapacitor.annotation.CapacitorPlugin;\r\nimport android.content.Context;\r\nimport android.util.Log;\r\nimport android.app.usage.UsageStats;\r\nimport android.app.usage.UsageStatsManager;\r\n\r\nimport java.util.Calendar;\r\nimport java.util.List;\r\n\r\n@CapacitorPlugin(name = &quot;echo&quot;)\r\npublic class echoPlugin extends Plugin {    \r\n\r\n    @PluginMethod    \r\n    public void getStats(Context call) {\r\n        Log.i(&quot;Method: &quot;, &quot;getStats&quot;);           \r\n\r\n        UsageStatsManager usm = (UsageStatsManager) context.getSystemService(Context.USAGE_STATS_SERVICE);\r\n        long now  = Calendar.getInstance().getTimeInMillis();       \r\n        List&lt;UsageStats&gt; stats = usm.queryUsageStats(UsageStatsManager.INTERVAL_DAILY, 0, now);\r\n\r\n         JSObject ret = new JSObject();\r\n         ret.put(&quot;my Stats&quot;,stats);\r\n\r\n        call.resolve(ret);\r\n\r\n }\r\n}\r\n```\r\n\r\nI have to add that I&#39;m a complete Java beginner. I&#39;m normally doing Apps with Vue+Ionic+Capacitor, but because there is no implementation of the UsageStatsManager in Capacitor I&#39;m trying to find a way to make it work.\r\n\r\n\r\n  [1]: https://capacitorjs.com/docs/plugins/creating-plugins\r\n  [2]: https://developer.android.com/reference/android/app/usage/UsageStatsManager","title":"How to set &quot;context&quot; of an capacitor plugin to use UsageStatsManager","body":"<p>I'm trying to write a capacitor plugin following this <a href=\"https://capacitorjs.com/docs/plugins/creating-plugins\" rel=\"nofollow noreferrer\">explanation</a>. The Plugin should make use of Androids <a href=\"https://developer.android.com/reference/android/app/usage/UsageStatsManager\" rel=\"nofollow noreferrer\">usageStatsManager</a>.</p>\n<p>With the code further below, I'm getting the following error in Android Studio:</p>\n<blockquote>\n<p>error: cannot find symbol\nUsageStatsManager usm = (UsageStatsManager) context.getSystemService(Context.USAGE_STATS_SERVICE);<br />\nsymbol:   variable context<br />\nlocation: class echoPlugin</p>\n</blockquote>\n<p>So it seems somehow I'm not using context correctly.</p>\n<p>My code in echoPlugin.java:</p>\n<pre><code>package com.echo.capacitor;\n\nimport com.getcapacitor.JSObject;\nimport com.getcapacitor.Plugin;\nimport com.getcapacitor.PluginMethod;\nimport com.getcapacitor.annotation.CapacitorPlugin;\nimport android.content.Context;\nimport android.util.Log;\nimport android.app.usage.UsageStats;\nimport android.app.usage.UsageStatsManager;\n\nimport java.util.Calendar;\nimport java.util.List;\n\n@CapacitorPlugin(name = &quot;echo&quot;)\npublic class echoPlugin extends Plugin {    \n\n    @PluginMethod    \n    public void getStats(Context call) {\n        Log.i(&quot;Method: &quot;, &quot;getStats&quot;);           \n\n        UsageStatsManager usm = (UsageStatsManager) context.getSystemService(Context.USAGE_STATS_SERVICE);\n        long now  = Calendar.getInstance().getTimeInMillis();       \n        List&lt;UsageStats&gt; stats = usm.queryUsageStats(UsageStatsManager.INTERVAL_DAILY, 0, now);\n\n         JSObject ret = new JSObject();\n         ret.put(&quot;my Stats&quot;,stats);\n\n        call.resolve(ret);\n\n }\n}\n</code></pre>\n<p>I have to add that I'm a complete Java beginner. I'm normally doing Apps with Vue+Ionic+Capacitor, but because there is no implementation of the UsageStatsManager in Capacitor I'm trying to find a way to make it work.</p>\n"},{"tags":["java","sql","database","oracle","optimization"],"comments":[{"owner":{"account_id":6389739,"reputation":2892,"user_id":4956336,"display_name":"p3consulting"},"score":0,"creation_date":1667909328,"post_id":74359902,"comment_id":131275404,"body_markdown":"change from IN() to EXISTS() and change &quot;table2.trdate is null&quot; to an expression you can create an index on, be sure there is an index on both tables&#39;s col3.","body":"change from IN() to EXISTS() and change &quot;table2.trdate is null&quot; to an expression you can create an index on, be sure there is an index on both tables&#39;s col3."},{"owner":{"account_id":9938323,"reputation":4258,"user_id":7355859,"display_name":"BobC"},"score":0,"creation_date":1667920375,"post_id":74359902,"comment_id":131280034,"body_markdown":"How many rows in table1?","body":"How many rows in table1?"},{"owner":{"account_id":16042081,"reputation":21,"user_id":11578271,"display_name":"rishabh"},"score":0,"creation_date":1667928830,"post_id":74359902,"comment_id":131283409,"body_markdown":"@p3consulting yes index is there on both col3, does adding index on col table2.trdate can help?","body":"@p3consulting yes index is there on both col3, does adding index on col table2.trdate can help?"},{"owner":{"account_id":16042081,"reputation":21,"user_id":11578271,"display_name":"rishabh"},"score":0,"creation_date":1667928869,"post_id":74359902,"comment_id":131283424,"body_markdown":"@BobC total rows in table1 are more than 40 million.","body":"@BobC total rows in table1 are more than 40 million."},{"owner":{"account_id":6389739,"reputation":2892,"user_id":4956336,"display_name":"p3consulting"},"score":1,"creation_date":1667929598,"post_id":74359902,"comment_id":131283709,"body_markdown":"NULL values are not in a single column index, so answer is no: adding an index on trdate alone will not help here. An index on a compound like (trdate,1) will contains NULL trdate.","body":"NULL values are not in a single column index, so answer is no: adding an index on trdate alone will not help here. An index on a compound like (trdate,1) will contains NULL trdate."},{"owner":{"account_id":16042081,"reputation":21,"user_id":11578271,"display_name":"rishabh"},"score":0,"creation_date":1667981073,"post_id":74359902,"comment_id":131294623,"body_markdown":"@p3consulting So you mean compound index can help? and what is this 1 you are referring in &quot;compound like (trdate,1) &quot;. I am sorry but I am not aware much on this topic.","body":"@p3consulting So you mean compound index can help? and what is this 1 you are referring in &quot;compound like (trdate,1) &quot;. I am sorry but I am not aware much on this topic."},{"owner":{"account_id":6389739,"reputation":2892,"user_id":4956336,"display_name":"p3consulting"},"score":0,"creation_date":1667981451,"post_id":74359902,"comment_id":131294744,"body_markdown":"&quot;1&quot; can be anything, even another non-nullable column if you have usage of such an index in other queries. The (column, constant) as an index is just a trick to have an index including also the rows where column IS NULL.\nBut anyway the presence of the index is just a possible improvement that will depend on the statistics of the values in the indexed column, if anyway ORACLE sees that the criteria will select a significant % of the data so that full scan is still more efficient, the index will not be used.","body":"&quot;1&quot; can be anything, even another non-nullable column if you have usage of such an index in other queries. The (column, constant) as an index is just a trick to have an index including also the rows where column IS NULL. But anyway the presence of the index is just a possible improvement that will depend on the statistics of the values in the indexed column, if anyway ORACLE sees that the criteria will select a significant % of the data so that full scan is still more efficient, the index will not be used."},{"owner":{"account_id":16042081,"reputation":21,"user_id":11578271,"display_name":"rishabh"},"score":0,"creation_date":1668021053,"post_id":74359902,"comment_id":131309071,"body_markdown":"select col3 from table1 inner join table2 on table1.col3 = table2.col3 where table2.trdate is null or table2.trdate &gt;= current_timestamp group by table1.col3\n\nIf table1.col3 is unique but table2.col3 is not unique then can I remove group by?","body":"select col3 from table1 inner join table2 on table1.col3 = table2.col3 where table2.trdate is null or table2.trdate &gt;= current_timestamp group by table1.col3  If table1.col3 is unique but table2.col3 is not unique then can I remove group by?"}],"owner":{"account_id":16042081,"reputation":21,"user_id":11578271,"display_name":"rishabh"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667906555,"creation_date":1667906555,"question_id":74359902,"body_markdown":"I have one update query which I am updating using JAVA. It is connected to a Oracle SQL database. It is a combination of an update and select query.\r\n\r\nQuery: &quot;Update table1 set col1 = &#39;true&#39;, col2= current_timestamp where table1.col1 &lt;&gt; &#39;true&#39; and table1.col3 in (select col3 from table1 inner join table2 on table1.col3 = table2.col3 where table2.trdate is null or table2.trdate &gt;= current_timestamp group by table1.col3 )\r\n\r\n\r\n(select col3 from table1 inner join table2 on table1.col3 = table2.col3 where table2.trdate is null or table2.trdate &gt;= current_timestamp group by table1.col3 ) -&gt; Output of this query will be more 10 million rcords.\r\n\r\nselect table1.col3 where table1.col1 &lt;&gt; &#39;true&#39; and table1.col3 in (select table1.col3 from table1 inner join table2 on table1.col3 = table2.col3 where table2.trdate is null or table2.trdate &gt;= current_timestamp group by table1.col3 ) -&gt; Output of this query will be around 30k rcords.\r\n\r\n\r\ntrdate is a timestamp.\r\ncol3 is a varchar and is connecting the two tables using join.\r\n\r\nThe above update query is taking lot of time (more than 6-7 hours) and is blocking the database. \r\nCan someone suggest any better approach to optimize the query?\r\n\r\nI am thinking to split the process into batches but since there are more than 10 million records, they will be using my space. Can someone help?","title":"Optimizing a combination of update and select query using JAVA","body":"<p>I have one update query which I am updating using JAVA. It is connected to a Oracle SQL database. It is a combination of an update and select query.</p>\n<p>Query: &quot;Update table1 set col1 = 'true', col2= current_timestamp where table1.col1 &lt;&gt; 'true' and table1.col3 in (select col3 from table1 inner join table2 on table1.col3 = table2.col3 where table2.trdate is null or table2.trdate &gt;= current_timestamp group by table1.col3 )</p>\n<p>(select col3 from table1 inner join table2 on table1.col3 = table2.col3 where table2.trdate is null or table2.trdate &gt;= current_timestamp group by table1.col3 ) -&gt; Output of this query will be more 10 million rcords.</p>\n<p>select table1.col3 where table1.col1 &lt;&gt; 'true' and table1.col3 in (select table1.col3 from table1 inner join table2 on table1.col3 = table2.col3 where table2.trdate is null or table2.trdate &gt;= current_timestamp group by table1.col3 ) -&gt; Output of this query will be around 30k rcords.</p>\n<p>trdate is a timestamp.\ncol3 is a varchar and is connecting the two tables using join.</p>\n<p>The above update query is taking lot of time (more than 6-7 hours) and is blocking the database.\nCan someone suggest any better approach to optimize the query?</p>\n<p>I am thinking to split the process into batches but since there are more than 10 million records, they will be using my space. Can someone help?</p>\n"},{"tags":["java","gradle","testing","intellij-idea","junit"],"comments":[{"owner":{"account_id":1906088,"reputation":2053,"user_id":1720938,"accept_rate":68,"display_name":"hamid"},"score":1,"creation_date":1667906422,"post_id":74359859,"comment_id":131274399,"body_markdown":"can you add a screenshot of `Tests.java`","body":"can you add a screenshot of <code>Tests.java</code>"},{"owner":{"account_id":6543678,"reputation":3232,"user_id":5060325,"display_name":"naimdjon"},"score":0,"creation_date":1667907042,"post_id":74359859,"comment_id":131274620,"body_markdown":"@Hendrik H&#252;bner you don&#39;t need to list the `sourceSet` in the gradle file. You are following the default project layout pattern.","body":"@Hendrik H&#252;bner you don&#39;t need to list the <code>sourceSet</code> in the gradle file. You are following the default project layout pattern."},{"owner":{"account_id":4753102,"reputation":3151,"user_id":4886722,"display_name":"Dmitry Khamitov"},"score":0,"creation_date":1668127653,"post_id":74359859,"comment_id":131337001,"body_markdown":"You can also check the `Tests` &quot;Run configuration&quot;","body":"You can also check the <code>Tests</code> &quot;Run configuration&quot;"}],"owner":{"account_id":17896820,"reputation":149,"user_id":13096063,"display_name":"Hendrik H&#252;bner"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667906353,"creation_date":1667906353,"question_id":74359859,"body_markdown":"I have tried making different projects, looked through dozens of threads but couldn&#39;t find anything that helped. Whenever I try to run my tests intellij/gradle returns something like &quot;Test events were not received&quot; or &quot;No tests were found&quot; depending on which button I click to run them.\r\n\r\nMy build.gradle looks like this:\r\n\r\n    repositories { mavenCentral() }\r\n\r\n    sourceSets {\r\n        main {\r\n            java {\r\n                srcDir &#39;src&#39;\r\n            }\r\n       }\r\n       test {\r\n            java {\r\n                srcDir &#39;test&#39;\r\n            }\r\n        }\r\n    }\r\n\r\n    dependencies {\r\n        testImplementation &#39;org.junit.jupiter:junit-jupiter-api:5.7.2&#39;\r\n        implementation &#39;org.junit.jupiter:junit-jupiter-engine:5.7.2&#39;\r\n    }\r\n\r\n    test { useJUnitPlatform() }\r\n\r\nMy folder structure looks like this:\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nThe SDK I use is Java 17, these are my gradle settings (the gradle version is 7.5)\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/muWG4.png\r\n  [2]: https://i.stack.imgur.com/x6M11.png\r\n\r\n\r\nI tried invalidating caches, restarting my ide, tried different gradle, JUnit and SDK versions but nothing seems to help.\r\nMy uni grades depend on me fixing this somehow, so if anyone knows whats going on, please let me know :(","title":"Gradle - The tests were not received","body":"<p>I have tried making different projects, looked through dozens of threads but couldn't find anything that helped. Whenever I try to run my tests intellij/gradle returns something like &quot;Test events were not received&quot; or &quot;No tests were found&quot; depending on which button I click to run them.</p>\n<p>My build.gradle looks like this:</p>\n<pre><code>repositories { mavenCentral() }\n\nsourceSets {\n    main {\n        java {\n            srcDir 'src'\n        }\n   }\n   test {\n        java {\n            srcDir 'test'\n        }\n    }\n}\n\ndependencies {\n    testImplementation 'org.junit.jupiter:junit-jupiter-api:5.7.2'\n    implementation 'org.junit.jupiter:junit-jupiter-engine:5.7.2'\n}\n\ntest { useJUnitPlatform() }\n</code></pre>\n<p>My folder structure looks like this:</p>\n<p><a href=\"https://i.stack.imgur.com/muWG4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/muWG4.png\" alt=\"enter image description here\" /></a></p>\n<p>The SDK I use is Java 17, these are my gradle settings (the gradle version is 7.5)\n<a href=\"https://i.stack.imgur.com/x6M11.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/x6M11.png\" alt=\"enter image description here\" /></a></p>\n<p>I tried invalidating caches, restarting my ide, tried different gradle, JUnit and SDK versions but nothing seems to help.\nMy uni grades depend on me fixing this somehow, so if anyone knows whats going on, please let me know :(</p>\n"},{"tags":["java","logging","java-11","java-17"],"answers":[{"tags":[],"owner":{"account_id":20679093,"reputation":316,"user_id":15183075,"display_name":"Yannick Mussche"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667906040,"creation_date":1667906040,"answer_id":74359795,"question_id":74359138,"body_markdown":"When I upgrade to Java17, I also upgraded the spring-boot-starter-parent to the latest version 2.7.3. Due to this upgrade, logging.file was deprecated and had to be replaced by logging.file.name. So upgrading to Java17 doesn&#39;t cause it, upgrading the spring-boot-starter-parent does.","title":"Does upgrading to java17 affects the Logger?","body":"<p>When I upgrade to Java17, I also upgraded the spring-boot-starter-parent to the latest version 2.7.3. Due to this upgrade, logging.file was deprecated and had to be replaced by logging.file.name. So upgrading to Java17 doesn't cause it, upgrading the spring-boot-starter-parent does.</p>\n"}],"owner":{"account_id":20679093,"reputation":316,"user_id":15183075,"display_name":"Yannick Mussche"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":651,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":74359795,"answer_count":1,"score":0,"last_activity_date":1667906040,"creation_date":1667903041,"question_id":74359138,"body_markdown":"I had a java 11 project, which printed logs to a file ussing the LOGGER. In my classes I used:\r\n\r\n``` \r\n    private final static Logger LOGGER = LoggerFactory.getLogger(object.class);\r\n```\r\n\r\nto send info and errors to my log file. This file was determined in my application.properties by\r\n\r\n``` logging.file=logs/file.log```\r\n\r\nNow this worked fine. I recently upgraded the project to Java17. Now I can still see the logs with &#39;journalctl -u program&#39;, but they don&#39;t get logged anymore into the previous designated file. First I had a &#39;SLF4J: class path contains multiple SLF4J bindings&#39; warning, but I removed the conflicting dependency. When I go trough java17 changes, I see nothing regarding the Logger. But the file where the logs should be saved, remains empty.\r\n\r\n\r\n\r\nCan upgrading to java17 interfer somehow with the logger? \r\nWhat could cause my logger not to log to the file anymore?\r\n\r\n","title":"Does upgrading to java17 affects the Logger?","body":"<p>I had a java 11 project, which printed logs to a file ussing the LOGGER. In my classes I used:</p>\n<pre><code>    private final static Logger LOGGER = LoggerFactory.getLogger(object.class);\n</code></pre>\n<p>to send info and errors to my log file. This file was determined in my application.properties by</p>\n<p><code> logging.file=logs/file.log</code></p>\n<p>Now this worked fine. I recently upgraded the project to Java17. Now I can still see the logs with 'journalctl -u program', but they don't get logged anymore into the previous designated file. First I had a 'SLF4J: class path contains multiple SLF4J bindings' warning, but I removed the conflicting dependency. When I go trough java17 changes, I see nothing regarding the Logger. But the file where the logs should be saved, remains empty.</p>\n<p>Can upgrading to java17 interfer somehow with the logger?\nWhat could cause my logger not to log to the file anymore?</p>\n"},{"tags":["java","string","parsing","formatting"],"comments":[{"owner":{"account_id":4230213,"reputation":4164,"user_id":3462681,"accept_rate":50,"display_name":"Roushan"},"score":0,"creation_date":1524841134,"post_id":50065101,"comment_id":87146863,"body_markdown":"paste the full line","body":"paste the full line"},{"owner":{"account_id":3467880,"reputation":5813,"user_id":2902996,"accept_rate":44,"display_name":"Joel"},"score":0,"creation_date":1524841221,"post_id":50065101,"comment_id":87146921,"body_markdown":"@Roushan updated","body":"@Roushan updated"},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":1,"creation_date":1524841225,"post_id":50065101,"comment_id":87146926,"body_markdown":"Beyond that, such things can also depend on your locale. If your JVM for some reason uses say a US local ... then &quot;,&quot; is not seen as comma separator!","body":"Beyond that, such things can also depend on your locale. If your JVM for some reason uses say a US local ... then &quot;,&quot; is not seen as comma separator!"},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1524841276,"post_id":50065101,"comment_id":87146961,"body_markdown":"And then: isolate such things: have a little method that *parses* the line and returns the isolated number as string. And pass the result of that into BigDecimal. Do **one** thing at a time (also much easier to test)!","body":"And then: isolate such things: have a little method that <i>parses</i> the line and returns the isolated number as string. And pass the result of that into BigDecimal. Do <b>one</b> thing at a time (also much easier to test)!"},{"owner":{"account_id":3467880,"reputation":5813,"user_id":2902996,"accept_rate":44,"display_name":"Joel"},"score":0,"creation_date":1524841497,"post_id":50065101,"comment_id":87147090,"body_markdown":"@GhostCat I&#39;ve tried parsing the number into a string and then trimmed away the whitespace. then tried converting it to BigDecimal. No luck. I&#39;ve also tried `DecimalFormatSymbols decimalFormatSymbols = DecimalFormatSymbols.getInstance();\n\t\t\t\t\t\tdecimalFormatSymbols.setDecimalSeparator(&#39;,&#39;);\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tDecimalFormat format = new DecimalFormat();\n\t\t\t\t\t\t\tformat.setDecimalFormatSymbols(decimalFormatSymbols);\n\t\t\t\t\t\t\tamount = new BigDecimal(line.substring(17, 30));`","body":"@GhostCat I&#39;ve tried parsing the number into a string and then trimmed away the whitespace. then tried converting it to BigDecimal. No luck. I&#39;ve also tried <code>DecimalFormatSymbols decimalFormatSymbols = DecimalFormatSymbols.getInstance(); \t\t\t\t\t\tdecimalFormatSymbols.setDecimalSeparator(&#39;,&#39;); \t\t\t\t\t\t\t \t\t\t\t\t\t\tDecimalFormat format = new DecimalFormat(); \t\t\t\t\t\t\tformat.setDecimalFormatSymbols(decimalFormatSymbols); \t\t\t\t\t\t\tamount = new BigDecimal(line.substring(17, 30));</code>"},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1524842328,"post_id":50065101,"comment_id":87147614,"body_markdown":"Always update your question instead of putting so many details into comments! Go step by step: first make sure that the **incoming** string looks as expected. Again: first make sure the parsed number looks exactly as you expect it. Then worry about passing it to that ctor.","body":"Always update your question instead of putting so many details into comments! Go step by step: first make sure that the <b>incoming</b> string looks as expected. Again: first make sure the parsed number looks exactly as you expect it. Then worry about passing it to that ctor."},{"owner":{"account_id":2824719,"reputation":9468,"user_id":2427596,"accept_rate":100,"display_name":"ccjmne"},"score":0,"creation_date":1524857910,"post_id":50065101,"comment_id":87154857,"body_markdown":"@Joel Do you still have an issue? If your problem has been resolved, don&#39;t hesitate to [accept an answer](https://meta.stackexchange.com/a/5235)!","body":"@Joel Do you still have an issue? If your problem has been resolved, don&#39;t hesitate to <a href=\"https://meta.stackexchange.com/a/5235\">accept an answer</a>!"}],"answers":[{"tags":[],"owner":{"account_id":4230213,"reputation":4164,"user_id":3462681,"accept_rate":50,"display_name":"Roushan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1524842221,"creation_date":1524841497,"answer_id":50065262,"question_id":50065101,"body_markdown":"using trim remove the whitespaces from substring:\r\n\r\n    String line=&quot;O5555 5555555555       4711,17         420110315SEK&quot;;\r\n     DecimalFormatSymbols symbols = new DecimalFormatSymbols();\r\n     symbols.setGroupingSeparator(&#39;,&#39;);\r\n    String pattern = &quot;#,##&quot;;\r\n    DecimalFormat decimalFormat = new DecimalFormat(pattern, symbols);\r\n    decimalFormat.setParseBigDecimal(true);\r\n     BigDecimal amount = null;\r\n                try {\r\n                    amount = (BigDecimal) decimalFormat.parse(line.substring(17,30).trim());\r\n                } catch (ParseException e) {\r\n                    e.printStackTrace();\r\n                }\r\n                System.out.println(amount);\r\n\r\n#out\r\n`471117`","title":"Format string into BigDecimal","body":"<p>using trim remove the whitespaces from substring:</p>\n\n<pre><code>String line=\"O5555 5555555555       4711,17         420110315SEK\";\n DecimalFormatSymbols symbols = new DecimalFormatSymbols();\n symbols.setGroupingSeparator(',');\nString pattern = \"#,##\";\nDecimalFormat decimalFormat = new DecimalFormat(pattern, symbols);\ndecimalFormat.setParseBigDecimal(true);\n BigDecimal amount = null;\n            try {\n                amount = (BigDecimal) decimalFormat.parse(line.substring(17,30).trim());\n            } catch (ParseException e) {\n                e.printStackTrace();\n            }\n            System.out.println(amount);\n</code></pre>\n\n<h1>out</h1>\n\n<p><code>471117</code></p>\n"},{"tags":[],"owner":{"account_id":2824719,"reputation":9468,"user_id":2427596,"accept_rate":100,"display_name":"ccjmne"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1524842760,"creation_date":1524842058,"answer_id":50065439,"question_id":50065101,"body_markdown":"You have 2 issues here:\r\n\r\n# Extraneous whitespaces\r\n\r\nYou are trying to parse the following `String`: `&quot;      4711,17&quot;`.\r\n\r\nYou need to **trim** it in order to remove the leading and trailing whitespace characters, using `String#trim`.\r\n\r\n# Using comma (`,`) as a decimal separator\r\n\r\nJust like parsing `Date`s, currencies and even numbers are somewhat `Locale`-dependant. In some (many) countries, the comma (`,`) is used as a separator for thousands, and the dot (`.`) indicates decimals.\r\n\r\nThus, you&#39;ll have to specify the `Locale` you&#39;re working with for your computer to interpret this `String` the same way you do (or assume the default `Locale` is the one you want).\r\n\r\nFor instance, let&#39;s use the `Locale.FRANCE` locale, which **does** use `,` as a separator for decimals:\r\n\r\n    //                                                  &#39;,&#39; indicates decimals\r\n    //                                                      v           v\r\n\tfinal NumberFormat formatter = NumberFormat.getInstance(Locale.FRANCE);\r\n\tfinal String line = &quot;O5555 5555555555       4711,17         420110315SEK&quot;;\r\n\tfinal Number parsed = formatter.parse(line.substring(17, 30).trim());\r\n    //                                                          ^     ^\r\n    //                                                          trimmed\r\n\r\nUsing the snippet above, you&#39;ll be left with a `Number` whose value is the one you want :)\r\n\r\nSince you&#39;re looking for a `BigDecimal` though, I&#39;d simply use `BigDecimal.valueOf(parsed .doubleValue())` to &#39;convert&#39; it, like so:\r\n\r\n    final BigDecimal amount = BigDecimal.valueOf(formatter.parse(line.substring(17, 30).trim()).doubleValue());\r\n\r\nIncorporating this into your piece of code would give:\r\n\r\n    BigDecimal amount;\r\n    while((line = inputStream.readLine()) != null) {\r\n        amount = BigDecimal.valueOf(formatter.parse(line.substring(17, 30).trim()).doubleValue());\r\n    }","title":"Format string into BigDecimal","body":"<p>You have 2 issues here:</p>\n\n<h1>Extraneous whitespaces</h1>\n\n<p>You are trying to parse the following <code>String</code>: <code>\"      4711,17\"</code>.</p>\n\n<p>You need to <strong>trim</strong> it in order to remove the leading and trailing whitespace characters, using <code>String#trim</code>.</p>\n\n<h1>Using comma (<code>,</code>) as a decimal separator</h1>\n\n<p>Just like parsing <code>Date</code>s, currencies and even numbers are somewhat <code>Locale</code>-dependant. In some (many) countries, the comma (<code>,</code>) is used as a separator for thousands, and the dot (<code>.</code>) indicates decimals.</p>\n\n<p>Thus, you'll have to specify the <code>Locale</code> you're working with for your computer to interpret this <code>String</code> the same way you do (or assume the default <code>Locale</code> is the one you want).</p>\n\n<p>For instance, let's use the <code>Locale.FRANCE</code> locale, which <strong>does</strong> use <code>,</code> as a separator for decimals:</p>\n\n<pre><code>//                                                  ',' indicates decimals\n//                                                      v           v\nfinal NumberFormat formatter = NumberFormat.getInstance(Locale.FRANCE);\nfinal String line = \"O5555 5555555555       4711,17         420110315SEK\";\nfinal Number parsed = formatter.parse(line.substring(17, 30).trim());\n//                                                          ^     ^\n//                                                          trimmed\n</code></pre>\n\n<p>Using the snippet above, you'll be left with a <code>Number</code> whose value is the one you want :)</p>\n\n<p>Since you're looking for a <code>BigDecimal</code> though, I'd simply use <code>BigDecimal.valueOf(parsed .doubleValue())</code> to 'convert' it, like so:</p>\n\n<pre><code>final BigDecimal amount = BigDecimal.valueOf(formatter.parse(line.substring(17, 30).trim()).doubleValue());\n</code></pre>\n\n<p>Incorporating this into your piece of code would give:</p>\n\n<pre><code>BigDecimal amount;\nwhile((line = inputStream.readLine()) != null) {\n    amount = BigDecimal.valueOf(formatter.parse(line.substring(17, 30).trim()).doubleValue());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3702826,"reputation":683,"user_id":3082046,"accept_rate":50,"display_name":"xagaffar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1524844752,"creation_date":1524843704,"answer_id":50065920,"question_id":50065101,"body_markdown":"Looks like the number you receive is not en_US locale, since it uses commas to separate decimal part, so you can use different locale to parse it.\r\n\r\n    String numStr = &quot;O5555 5555555555       4711,17         420110315SEK&quot;.substring(17, 30).trim();\r\n    NumberFormat nf = DecimalFormat.getInstance(Locale.GERMAN);\r\n    BigDecimal bd = new BigDecimal(nf.parseObject(numStr).toString());\r\n\r\nMore info here: https://stackoverflow.com/questions/12836647/best-way-to-convert-locale-specific-string-to-bigdecimal","title":"Format string into BigDecimal","body":"<p>Looks like the number you receive is not en_US locale, since it uses commas to separate decimal part, so you can use different locale to parse it.</p>\n\n<pre><code>String numStr = \"O5555 5555555555       4711,17         420110315SEK\".substring(17, 30).trim();\nNumberFormat nf = DecimalFormat.getInstance(Locale.GERMAN);\nBigDecimal bd = new BigDecimal(nf.parseObject(numStr).toString());\n</code></pre>\n\n<p>More info here: <a href=\"https://stackoverflow.com/questions/12836647/best-way-to-convert-locale-specific-string-to-bigdecimal\">Best way to convert Locale specific String to BigDecimal</a></p>\n"}],"owner":{"account_id":3467880,"reputation":5813,"user_id":2902996,"accept_rate":44,"display_name":"Joel"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1240,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":50065439,"answer_count":3,"score":1,"last_activity_date":1667905898,"creation_date":1524841015,"question_id":50065101,"body_markdown":"I&#39;m parsing out a bunch of numbers from a text-file.\r\n\r\nI&#39;ve isolated the number: `4711,17` from the file which is supposed to be converted into BigDecimal for further processing. (note the comma)\r\n\r\nBut i am unable to convert it. I get parseExceptions.\r\n \r\n\r\n    public BigDecimal amount; //variable\r\n    while((line = inputStream.readLine()) != null) { //reading from file\r\n        amount = new BigDecimal(line.substring(17,30)); //parsing out the number\r\n    }\r\n    \r\nIs it because of the comma or what is going on here? (I am unable to change it from a comma to a dot)\r\n\r\nThanks\r\n\r\n&lt;hr&gt;\r\n\r\nFirst line in output looks like this:\r\n\r\n`O5555 5555555555       4711,17         420110315SEK`\r\n\r\n","title":"Format string into BigDecimal","body":"<p>I'm parsing out a bunch of numbers from a text-file.</p>\n\n<p>I've isolated the number: <code>4711,17</code> from the file which is supposed to be converted into BigDecimal for further processing. (note the comma)</p>\n\n<p>But i am unable to convert it. I get parseExceptions.</p>\n\n<pre><code>public BigDecimal amount; //variable\nwhile((line = inputStream.readLine()) != null) { //reading from file\n    amount = new BigDecimal(line.substring(17,30)); //parsing out the number\n}\n</code></pre>\n\n<p>Is it because of the comma or what is going on here? (I am unable to change it from a comma to a dot)</p>\n\n<p>Thanks</p>\n\n<hr>\n\n<p>First line in output looks like this:</p>\n\n<p><code>O5555 5555555555       4711,17         420110315SEK</code></p>\n"},{"tags":["java","selenium","selenium-chromedriver"],"answers":[{"tags":[],"owner":{"account_id":2508750,"reputation":4397,"user_id":2181703,"accept_rate":20,"display_name":"Optional"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666331377,"creation_date":1666331377,"answer_id":74149253,"question_id":74149207,"body_markdown":"Did you add options to capabilities?\r\n\r\n    ChromeOptions options = new ChromeOptions();\r\n    options.addArguments(&quot;--incognito&quot;);\r\n    DesiredCapabilities capabilities = DesiredCapabilities.chrome();\r\n    capabilities.setCapability(ChromeOptions.CAPABILITY, options);\r\n    WebDriver chromedriver=new ChromeDriver(capabilities);","title":"How to enable incognito mode in chrome when using selenium","body":"<p>Did you add options to capabilities?</p>\n<pre><code>ChromeOptions options = new ChromeOptions();\noptions.addArguments(&quot;--incognito&quot;);\nDesiredCapabilities capabilities = DesiredCapabilities.chrome();\ncapabilities.setCapability(ChromeOptions.CAPABILITY, options);\nWebDriver chromedriver=new ChromeDriver(capabilities);\n</code></pre>\n"}],"owner":{"account_id":26689169,"reputation":31,"user_id":20297998,"display_name":"CtrlAltTest"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":668,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667905856,"creation_date":1666330948,"question_id":74149207,"body_markdown":"I have added  `options.addArguments(&quot;--incognito&quot;);` to use chrome incognito. However I am getting the following error:\r\n\r\n    Exception in thread &quot;main&quot; org.openqa.selenium.SessionNotCreatedException: Could not start a new session. Response code 500. Message: unknown error: Chrome failed to start: crashed.\r\n      (chrome not reachable)\r\n      (The process started from chrome location C:\\Program Files\\Google\\Chrome\\Application\\chrome.exe is no longer running, so ChromeDriver is assuming that Chrome has crashed.) \r\n   \r\n    Build info: version: &#39;4.5.0&#39;, revision: &#39;fe167b119a&#39;\r\n    System info: os.name: &#39;Windows 10&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;10.0&#39;, java.version: &#39;18.0.2.1&#39;\r\n    Driver info: org.openqa.selenium.chrome.ChromeDriver\r\n    Command: [null, newSession {capabilities=[Capabilities {browserName: chrome, goog:chromeOptions: {args: [--disable-application-cache, --incognito, --no-sandbox, --disable-dev-shm-usage, --disable-application-cache], extensions: [], prefs: {download.default_directory: C:\\AutomationFramework\\mvn-..., profile.default_content_settings.popups: 0}}}], desiredCapabilities=Capabilities {browserName: chrome, goog:chromeOptions: {args: [--disable-application-cache, --incognito, --no-sandbox, --disable-dev-shm-usage, --disable-application-cache], extensions: [], prefs: {download.default_directory: C:\\AutomationFramework\\mvn-..., profile.default_content_settings.popups: 0}}}}]\r\n    \tat org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:144)\r\n    \tat org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:102)\r\n    \tat org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:67)\r\n    \tat org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:156)\r\n    \tat org.openqa.selenium.remote.service.DriverCommandExecutor.invokeExecute(DriverCommandExecutor.java:167)\r\n    \tat org.openqa.selenium.remote.service.DriverCommandExecutor.execute(DriverCommandExecutor.java:142)\r\n    \tat org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:547)\r\n    \tat org.openqa.selenium.remote.RemoteWebDriver.startSession(RemoteWebDriver.java:242)\r\n    \tat org.openqa.selenium.remote.RemoteWebDriver.&lt;init&gt;(RemoteWebDriver.java:157)\r\n    \tat org.openqa.selenium.chromium.ChromiumDriver.&lt;init&gt;(ChromiumDriver.java:101)\r\n    \tat org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:81)\r\n    \tat org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:70)\r\n    \tat com.company.IniWebDriver.OpenBrowser(IniWebDriver.java:139)\r\n    \tat com.company.Main.main(Main.java:306)\r\n\r\n\r\ncode:\r\n\r\n    ChromeOptions options = new ChromeOptions();\r\n    options.addArguments(&quot;--incognito&quot;);\r\n\r\n\r\nThe chrome version is 106.0.5249.119 and the chrome driver version is 106.0.5249.61. \r\n\r\n\r\nIs there any other way to use incognito without using ChromeOptions? After chromedriver update, chrome incognito stopped working.\r\n\r\n                ","title":"How to enable incognito mode in chrome when using selenium","body":"<p>I have added  <code>options.addArguments(&quot;--incognito&quot;);</code> to use chrome incognito. However I am getting the following error:</p>\n<pre><code>Exception in thread &quot;main&quot; org.openqa.selenium.SessionNotCreatedException: Could not start a new session. Response code 500. Message: unknown error: Chrome failed to start: crashed.\n  (chrome not reachable)\n  (The process started from chrome location C:\\Program Files\\Google\\Chrome\\Application\\chrome.exe is no longer running, so ChromeDriver is assuming that Chrome has crashed.) \n\nBuild info: version: '4.5.0', revision: 'fe167b119a'\nSystem info: os.name: 'Windows 10', os.arch: 'amd64', os.version: '10.0', java.version: '18.0.2.1'\nDriver info: org.openqa.selenium.chrome.ChromeDriver\nCommand: [null, newSession {capabilities=[Capabilities {browserName: chrome, goog:chromeOptions: {args: [--disable-application-cache, --incognito, --no-sandbox, --disable-dev-shm-usage, --disable-application-cache], extensions: [], prefs: {download.default_directory: C:\\AutomationFramework\\mvn-..., profile.default_content_settings.popups: 0}}}], desiredCapabilities=Capabilities {browserName: chrome, goog:chromeOptions: {args: [--disable-application-cache, --incognito, --no-sandbox, --disable-dev-shm-usage, --disable-application-cache], extensions: [], prefs: {download.default_directory: C:\\AutomationFramework\\mvn-..., profile.default_content_settings.popups: 0}}}}]\n    at org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:144)\n    at org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:102)\n    at org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:67)\n    at org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:156)\n    at org.openqa.selenium.remote.service.DriverCommandExecutor.invokeExecute(DriverCommandExecutor.java:167)\n    at org.openqa.selenium.remote.service.DriverCommandExecutor.execute(DriverCommandExecutor.java:142)\n    at org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:547)\n    at org.openqa.selenium.remote.RemoteWebDriver.startSession(RemoteWebDriver.java:242)\n    at org.openqa.selenium.remote.RemoteWebDriver.&lt;init&gt;(RemoteWebDriver.java:157)\n    at org.openqa.selenium.chromium.ChromiumDriver.&lt;init&gt;(ChromiumDriver.java:101)\n    at org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:81)\n    at org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:70)\n    at com.company.IniWebDriver.OpenBrowser(IniWebDriver.java:139)\n    at com.company.Main.main(Main.java:306)\n</code></pre>\n<p>code:</p>\n<pre><code>ChromeOptions options = new ChromeOptions();\noptions.addArguments(&quot;--incognito&quot;);\n</code></pre>\n<p>The chrome version is 106.0.5249.119 and the chrome driver version is 106.0.5249.61.</p>\n<p>Is there any other way to use incognito without using ChromeOptions? After chromedriver update, chrome incognito stopped working.</p>\n"},{"tags":["java","grid","vaadin","vaadin-flow","vaadin-grid"],"answers":[{"tags":[],"owner":{"account_id":4430906,"reputation":3990,"user_id":3608089,"display_name":"ollitietavainen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667905661,"creation_date":1667905661,"answer_id":74359697,"question_id":74359203,"body_markdown":"Assuming you have an in-memory DataProvider:\r\n```java\r\n        Grid&lt;Person&gt; eventGrid = new Grid&lt;Person&gt;();\r\n        eventGrid.addColumn(Person::getFirst).setHeader(&quot;First Name&quot;);\r\n        eventGrid.addColumn(Person::getLast).setHeader(&quot;Last Name&quot;);\r\n        eventGrid.addColumn(Person::getNumber).setHeader(&quot;Phone Number&quot;);\r\n        eventGrid.addComponentColumn(item -&gt; {\r\n            Icon icon = new Icon(&quot;lumo&quot;, &quot;angle-down&quot;);\r\n            if (item.equals(eventGrid.asSingleSelect().getValue())) {\r\n                icon = new Icon(&quot;lumo&quot;, &quot;angle-up&quot;);\r\n            }\r\n            return icon;\r\n        }).setWidth(&quot;6em&quot;).setFlexGrow(0);\r\n        eventGrid.addSelectionListener(e -&gt; {\r\n            eventGrid.getListDataView().refreshAll();\r\n        });\r\n```","title":"Change icon on a selected row in a Vaadin Grid","body":"<p>Assuming you have an in-memory DataProvider:</p>\n<pre class=\"lang-java prettyprint-override\"><code>        Grid&lt;Person&gt; eventGrid = new Grid&lt;Person&gt;();\n        eventGrid.addColumn(Person::getFirst).setHeader(&quot;First Name&quot;);\n        eventGrid.addColumn(Person::getLast).setHeader(&quot;Last Name&quot;);\n        eventGrid.addColumn(Person::getNumber).setHeader(&quot;Phone Number&quot;);\n        eventGrid.addComponentColumn(item -&gt; {\n            Icon icon = new Icon(&quot;lumo&quot;, &quot;angle-down&quot;);\n            if (item.equals(eventGrid.asSingleSelect().getValue())) {\n                icon = new Icon(&quot;lumo&quot;, &quot;angle-up&quot;);\n            }\n            return icon;\n        }).setWidth(&quot;6em&quot;).setFlexGrow(0);\n        eventGrid.addSelectionListener(e -&gt; {\n            eventGrid.getListDataView().refreshAll();\n        });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2759852,"reputation":7920,"user_id":2376954,"display_name":"Leif &#197;strand"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1667905738,"creation_date":1667905738,"answer_id":74359718,"question_id":74359203,"body_markdown":"There are two steps to the solution. First you need to make the renderer react differently for selected items and second, you need to make the grid re-render the row for which the selected status changes.\r\n\r\nThe first part can be handled in the component renderer:\r\n```java\r\neventGrid.addComponentColumn(item -&gt; {\r\n\tString name = eventGrid.getSelectedItems().contains(item) ? &quot;angle-down&quot; : &quot;angle-up&quot;;\r\n\tIcon icon = new Icon(&quot;lumo&quot;, name);\r\n\treturn icon;\r\n}).setWidth(&quot;6em&quot;).setFlexGrow(0);\r\n```\r\n\r\nThe second part is a listener that uses `DataProvider::refreshItem` to trigger specific rows to be rendered again. This is implemented through `asSingeSelect` to get an event that contains both the old and the new value.\r\n```java\r\neventGrid.asSingleSelect().addValueChangeListener(event -&gt; {\r\n\tString newValue = event.getValue();\r\n\tString oldValue = event.getOldValue();\r\n\r\n\tif (newValue != null) {\r\n\t\teventGrid.getDataProvider().refreshItem(newValue);\r\n\t}\r\n\tif (oldValue != null) {\r\n\t\teventGrid.getDataProvider().refreshItem(oldValue);\r\n\t}\r\n});\r\n```","title":"Change icon on a selected row in a Vaadin Grid","body":"<p>There are two steps to the solution. First you need to make the renderer react differently for selected items and second, you need to make the grid re-render the row for which the selected status changes.</p>\n<p>The first part can be handled in the component renderer:</p>\n<pre class=\"lang-java prettyprint-override\"><code>eventGrid.addComponentColumn(item -&gt; {\n    String name = eventGrid.getSelectedItems().contains(item) ? &quot;angle-down&quot; : &quot;angle-up&quot;;\n    Icon icon = new Icon(&quot;lumo&quot;, name);\n    return icon;\n}).setWidth(&quot;6em&quot;).setFlexGrow(0);\n</code></pre>\n<p>The second part is a listener that uses <code>DataProvider::refreshItem</code> to trigger specific rows to be rendered again. This is implemented through <code>asSingeSelect</code> to get an event that contains both the old and the new value.</p>\n<pre class=\"lang-java prettyprint-override\"><code>eventGrid.asSingleSelect().addValueChangeListener(event -&gt; {\n    String newValue = event.getValue();\n    String oldValue = event.getOldValue();\n\n    if (newValue != null) {\n        eventGrid.getDataProvider().refreshItem(newValue);\n    }\n    if (oldValue != null) {\n        eventGrid.getDataProvider().refreshItem(oldValue);\n    }\n});\n</code></pre>\n"}],"owner":{"account_id":16000883,"reputation":740,"user_id":11547578,"display_name":"Clancinio"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":199,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74359697,"answer_count":2,"score":0,"last_activity_date":1667905738,"creation_date":1667903314,"question_id":74359203,"body_markdown":"So, I have a grid called &quot;eventGrid&quot;. I added a component column with a down-arrow icon. When a user clicks on a row, addition information is displayed for that row. I want to change the down arrow to an up arrow for the selected row. How can I achieve this?\r\n\r\n     eventGrid.addColumn(Person::getFirst).setHeader(&quot;First Name&quot;);\r\n        eventGrid.addColumn(Person::getLast).setHeader(&quot;Last Name&quot;);\r\n        eventGrid.addColumn(Person::getNumber).setHeader(&quot;Phone Number&quot;);\r\n\r\n\r\n     eventGrid.addComponentColumn(item -&gt; {\r\n          Icon icon = new Icon(&quot;lumo&quot;, &quot;angle-down&quot;);\r\n          return icon;\r\n        }).setWidth(&quot;6em&quot;).setFlexGrow(0);","title":"Change icon on a selected row in a Vaadin Grid","body":"<p>So, I have a grid called &quot;eventGrid&quot;. I added a component column with a down-arrow icon. When a user clicks on a row, addition information is displayed for that row. I want to change the down arrow to an up arrow for the selected row. How can I achieve this?</p>\n<pre><code> eventGrid.addColumn(Person::getFirst).setHeader(&quot;First Name&quot;);\n    eventGrid.addColumn(Person::getLast).setHeader(&quot;Last Name&quot;);\n    eventGrid.addColumn(Person::getNumber).setHeader(&quot;Phone Number&quot;);\n\n\n eventGrid.addComponentColumn(item -&gt; {\n      Icon icon = new Icon(&quot;lumo&quot;, &quot;angle-down&quot;);\n      return icon;\n    }).setWidth(&quot;6em&quot;).setFlexGrow(0);\n</code></pre>\n"},{"tags":["java","interface","abstract-class","abstract","abstraction"],"answers":[{"tags":[],"owner":{"account_id":23257203,"reputation":49,"user_id":17344072,"display_name":"M. Muhammadsodiq"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667905674,"creation_date":1667905674,"answer_id":74359698,"question_id":74359538,"body_markdown":"Generally, an abstract class in Java is a template that stores the data members and methods that we use in a program. Abstraction in Java keeps the user from viewing complex code implementations and provides the user with the necessary information.\r\nAnd also it helps us to avoid duplication in code. \r\n[See for more information][1] and [See why it abstraction is important][2]\r\n\r\n\r\n  [1]: https://www.simplilearn.com/tutorials/java-tutorial/abstract-class-in-java\r\n  [2]: https://www.java67.com/2014/06/why-abstract-class-is-important-in-java.html","title":"How abstract classes, interfaces hides implementation details","body":"<p>Generally, an abstract class in Java is a template that stores the data members and methods that we use in a program. Abstraction in Java keeps the user from viewing complex code implementations and provides the user with the necessary information.\nAnd also it helps us to avoid duplication in code.\n<a href=\"https://www.simplilearn.com/tutorials/java-tutorial/abstract-class-in-java\" rel=\"nofollow noreferrer\">See for more information</a> and <a href=\"https://www.java67.com/2014/06/why-abstract-class-is-important-in-java.html\" rel=\"nofollow noreferrer\">See why it abstraction is important</a></p>\n"}],"owner":{"account_id":26865623,"reputation":1,"user_id":20448437,"display_name":"Shivankit Aggarwal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1667905674,"creation_date":1667904917,"question_id":74359538,"body_markdown":"Here in below mentioned code we have abstract class with abstract method and implemetation is present in child classes. and We can create object of child classes with referance var of parent class and can access the methods. So how we are hiding implementation here. Same thing can be done with normal class as well using method overriding. \r\nwhat we would acheive with the help of abstract classes and interfaces?\r\nWhat is the meaning of hiding implementation details?\r\n\r\n\r\n\r\n```\r\n// Code for abstract class\r\n\r\n\r\nabstract class Bank\r\n{  \r\nabstract int getRateOfInterest();  \r\n}\r\n\r\nclass SBI extends Bank\r\n{  \r\nint getRateOfInterest()\r\n{\r\nreturn 7;\r\n}  \r\n}\r\n\r\nclass PNB extends Bank  \r\n{  \r\nint getRateOfInterest()\r\n{\r\nreturn 8;\r\n}  \r\n}\r\n\r\nclass TestBank{  \r\npublic static void main(String args[])\r\n{  \r\nBank b;  \r\nb=new SBI();  \r\nSystem.out.println(&quot;Rate of Interest is: &quot;+b.getRateOfInterest()+&quot; %&quot;);  \r\nb=new PNB();  \r\nSystem.out.println(&quot;Rate of Interest is: &quot;+b.getRateOfInterest()+&quot; %&quot;);  \r\n}\r\n}\r\n\r\n```\r\n```\r\n//code for non abstract class\r\n\r\n\r\n\r\npublic class Bank\r\n{  \r\npublic int getRateOfInterest()\r\n{\r\nreturn 5;\r\n}  \r\n}\r\n\r\nclass SBI extends Bank\r\n{  \r\nint getRateOfInterest()\r\n{\r\nreturn 7;\r\n}  \r\n}\r\n\r\nclass PNB extends Bank  \r\n{  \r\nint getRateOfInterest()\r\n{\r\nreturn 8;\r\n}  \r\n}\r\n\r\nclass TestBank{  \r\npublic static void main(String args[])\r\n{  \r\nBank b;  \r\nb=new SBI();  \r\nSystem.out.println(&quot;Rate of Interest is: &quot;+b.getRateOfInterest()+&quot; %&quot;);  \r\nb=new PNB();  \r\nSystem.out.println(&quot;Rate of Interest is: &quot;+b.getRateOfInterest()+&quot; %&quot;);  \r\n}\r\n}\r\n```","title":"How abstract classes, interfaces hides implementation details","body":"<p>Here in below mentioned code we have abstract class with abstract method and implemetation is present in child classes. and We can create object of child classes with referance var of parent class and can access the methods. So how we are hiding implementation here. Same thing can be done with normal class as well using method overriding.\nwhat we would acheive with the help of abstract classes and interfaces?\nWhat is the meaning of hiding implementation details?</p>\n<pre><code>// Code for abstract class\n\n\nabstract class Bank\n{  \nabstract int getRateOfInterest();  \n}\n\nclass SBI extends Bank\n{  \nint getRateOfInterest()\n{\nreturn 7;\n}  \n}\n\nclass PNB extends Bank  \n{  \nint getRateOfInterest()\n{\nreturn 8;\n}  \n}\n\nclass TestBank{  \npublic static void main(String args[])\n{  \nBank b;  \nb=new SBI();  \nSystem.out.println(&quot;Rate of Interest is: &quot;+b.getRateOfInterest()+&quot; %&quot;);  \nb=new PNB();  \nSystem.out.println(&quot;Rate of Interest is: &quot;+b.getRateOfInterest()+&quot; %&quot;);  \n}\n}\n\n</code></pre>\n<pre><code>//code for non abstract class\n\n\n\npublic class Bank\n{  \npublic int getRateOfInterest()\n{\nreturn 5;\n}  \n}\n\nclass SBI extends Bank\n{  \nint getRateOfInterest()\n{\nreturn 7;\n}  \n}\n\nclass PNB extends Bank  \n{  \nint getRateOfInterest()\n{\nreturn 8;\n}  \n}\n\nclass TestBank{  \npublic static void main(String args[])\n{  \nBank b;  \nb=new SBI();  \nSystem.out.println(&quot;Rate of Interest is: &quot;+b.getRateOfInterest()+&quot; %&quot;);  \nb=new PNB();  \nSystem.out.println(&quot;Rate of Interest is: &quot;+b.getRateOfInterest()+&quot; %&quot;);  \n}\n}\n</code></pre>\n"},{"tags":["java","maven","resources"],"comments":[{"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"score":1,"creation_date":1667904143,"post_id":74359224,"comment_id":131273604,"body_markdown":"try `classLoader.getResource(&quot;fileC.p12&quot;)`. The directory ./src/main/resources of a Maven project is mapped to the root-level of the generated artifact (jar, war, etc.).","body":"try <code>classLoader.getResource(&quot;fileC.p12&quot;)</code>. The directory ./src/main/resources of a Maven project is mapped to the root-level of the generated artifact (jar, war, etc.)."},{"owner":{"account_id":187094,"reputation":5113,"user_id":424903,"display_name":"Gimby"},"score":0,"creation_date":1667904796,"post_id":74359224,"comment_id":131273824,"body_markdown":"And getFile() won&#39;t work if the file is actually inside a jar/war/etc. Effectively the code you write may only work when running it from the IDE.","body":"And getFile() won&#39;t work if the file is actually inside a jar/war/etc. Effectively the code you write may only work when running it from the IDE."}],"answers":[{"tags":[],"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667904364,"creation_date":1667904364,"answer_id":74359410,"question_id":74359224,"body_markdown":"    String data = new String(getClass().getResourceAsStream(&quot;/fileC.p12&quot;).readAllBytes());\r\n\r\nYour resource (which shouldn&#39;t be seen as a file as it could and probably should be packaged with your app) is at the root, so useful to start with &#39;/&#39; then it can be addressed from any package. Be cautious with Java &gt;= 17 as that will be decoded by default as UTF-8, so if that&#39;s not the encoding, you will have to specify what is in the `String` ctor. It might be safer to do that anyway.\r\n","title":"Read a file from resources folder JAVA","body":"<pre><code>String data = new String(getClass().getResourceAsStream(&quot;/fileC.p12&quot;).readAllBytes());\n</code></pre>\n<p>Your resource (which shouldn't be seen as a file as it could and probably should be packaged with your app) is at the root, so useful to start with '/' then it can be addressed from any package. Be cautious with Java &gt;= 17 as that will be decoded by default as UTF-8, so if that's not the encoding, you will have to specify what is in the <code>String</code> ctor. It might be safer to do that anyway.</p>\n"},{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1667905118,"creation_date":1667905118,"answer_id":74359593,"question_id":74359224,"body_markdown":"`new File` In java, `File` means __File__. As in, an actual file on your actual harddisk. Resources __aren&#39;t__ - they are entries in a jarfile and therefore not a file. Simply put, resources __cannot be read this way__.\r\n\r\nFortunately, File in general is barking up the wrong tree: The correct abstraction is `InputStream` or similar - that represents &#39;any stream of bytes&#39;. A file can be an InputStream. So can a network socket, a blob from a network, or, indeed, a resource being streamed to you by the classloader, which could very well be getting it from a network or generating it whole cloth - classloaders can do that. It&#39;s an abstract mechanism.\r\n\r\nYou&#39;re also doing it wrong - you want `Type.class.getResource`. Your way is needlessly wordy and will fail in exotic scenarios (such as bootloaders and agents and the like, which have no classloader).\r\n\r\n```java\r\nclass Example {\r\n  public String getDataFromFileC() throws IOException {\r\n    try (var in = Example.class.getResourceAsStream(&quot;/resources/fileC.p12&quot;)) {\r\n      return new String(in.readAllBytes(), StandardCharsets.UTF_8);\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nThis:\r\n\r\n* Uses `getResourceAsStream` which gives you an inputstream. As I mentioned, if you mention `File`, you lose. Hence, we don&#39;t.\r\n* Uses the proper form: `MyType.class.get`. This avoids issues when subclassing or in root classloader situations.\r\n* `MyType.class.get` needs a leading slash. the `getResource` on classloaders requires you _not_ to have it (which explains why your snippet wouldn&#39;t work in any scenario - that leading slash).\r\n* Uses try-with-resources as you should.\r\n* Propagates exceptions as you should.\r\n* Configures charset which you should do anytime you go from bytes to strings or vice versa.\r\n\r\nNB: Depending on your build system, it may package those resources in the jar as `/fileC.p12` and not as `/resources/fileC.p12` - in fact, that is likely. You may want to update this to `&quot;/fileC.p12&quot;`.\r\n\r\n\r\nNB2: `String.valueOf(file);` does not read files. It just calls `toString()` on the file object which gives you a path. Resources don&#39;t have to be a path so this cannot work. They do have a URL, which may or may not be useful. If you want that: `return MyClass.class.getResource(&quot;/resources/fileC.p12&quot;).toString();`.\r\n","title":"Read a file from resources folder JAVA","body":"<p><code>new File</code> In java, <code>File</code> means <strong>File</strong>. As in, an actual file on your actual harddisk. Resources <strong>aren't</strong> - they are entries in a jarfile and therefore not a file. Simply put, resources <strong>cannot be read this way</strong>.</p>\n<p>Fortunately, File in general is barking up the wrong tree: The correct abstraction is <code>InputStream</code> or similar - that represents 'any stream of bytes'. A file can be an InputStream. So can a network socket, a blob from a network, or, indeed, a resource being streamed to you by the classloader, which could very well be getting it from a network or generating it whole cloth - classloaders can do that. It's an abstract mechanism.</p>\n<p>You're also doing it wrong - you want <code>Type.class.getResource</code>. Your way is needlessly wordy and will fail in exotic scenarios (such as bootloaders and agents and the like, which have no classloader).</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Example {\n  public String getDataFromFileC() throws IOException {\n    try (var in = Example.class.getResourceAsStream(&quot;/resources/fileC.p12&quot;)) {\n      return new String(in.readAllBytes(), StandardCharsets.UTF_8);\n    }\n  }\n}\n</code></pre>\n<p>This:</p>\n<ul>\n<li>Uses <code>getResourceAsStream</code> which gives you an inputstream. As I mentioned, if you mention <code>File</code>, you lose. Hence, we don't.</li>\n<li>Uses the proper form: <code>MyType.class.get</code>. This avoids issues when subclassing or in root classloader situations.</li>\n<li><code>MyType.class.get</code> needs a leading slash. the <code>getResource</code> on classloaders requires you <em>not</em> to have it (which explains why your snippet wouldn't work in any scenario - that leading slash).</li>\n<li>Uses try-with-resources as you should.</li>\n<li>Propagates exceptions as you should.</li>\n<li>Configures charset which you should do anytime you go from bytes to strings or vice versa.</li>\n</ul>\n<p>NB: Depending on your build system, it may package those resources in the jar as <code>/fileC.p12</code> and not as <code>/resources/fileC.p12</code> - in fact, that is likely. You may want to update this to <code>&quot;/fileC.p12&quot;</code>.</p>\n<p>NB2: <code>String.valueOf(file);</code> does not read files. It just calls <code>toString()</code> on the file object which gives you a path. Resources don't have to be a path so this cannot work. They do have a URL, which may or may not be useful. If you want that: <code>return MyClass.class.getResource(&quot;/resources/fileC.p12&quot;).toString();</code>.</p>\n"}],"owner":{"account_id":23698915,"reputation":36,"user_id":17722317,"display_name":"raskoo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3744,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1667905118,"creation_date":1667903428,"question_id":74359224,"body_markdown":"I want to get a file from the resource file, and to use it in string.\r\n\r\n[![My folder](https://i.stack.imgur.com/GgKne.png)](https://i.stack.imgur.com/GgKne.png)\r\n\r\nI tried this :\r\n\r\n\r\n\r\n\r\n```\r\nClassLoader classLoader = getClass().getClassLoader();\r\nFile file = new File(classLoader.getResource(&quot;/resources/fileC.p12&quot;).getFile());\r\n\r\nString data = String.valueOf(file);\r\n\r\n```\r\n\r\nbut doesnt work, thanks for helping\r\n\r\n\r\n\r\nI tried this but i had a error, it returns a null value","title":"Read a file from resources folder JAVA","body":"<p>I want to get a file from the resource file, and to use it in string.</p>\n<p><a href=\"https://i.stack.imgur.com/GgKne.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GgKne.png\" alt=\"My folder\" /></a></p>\n<p>I tried this :</p>\n<pre><code>ClassLoader classLoader = getClass().getClassLoader();\nFile file = new File(classLoader.getResource(&quot;/resources/fileC.p12&quot;).getFile());\n\nString data = String.valueOf(file);\n\n</code></pre>\n<p>but doesnt work, thanks for helping</p>\n<p>I tried this but i had a error, it returns a null value</p>\n"},{"tags":["java","mongodb","spring-data"],"comments":[{"owner":{"account_id":9744,"reputation":80826,"user_id":18122,"accept_rate":80,"display_name":"Oliver Drotbohm"},"score":1,"creation_date":1358283977,"post_id":14346028,"comment_id":19944196,"body_markdown":"It seems that you store `String` values that can be `ObjectId`s internally. What&#39;s the reason for this? The `String`-to-`ObjectId` conversion is present to be able to use `String` in your Java objects and still have `ObjectId`s in the database.","body":"It seems that you store <code>String</code> values that can be <code>ObjectId</code>s internally. What&#39;s the reason for this? The <code>String</code>-to-<code>ObjectId</code> conversion is present to be able to use <code>String</code> in your Java objects and still have <code>ObjectId</code>s in the database."},{"owner":{"account_id":1923489,"reputation":3432,"user_id":1734454,"accept_rate":42,"display_name":"alex"},"score":0,"creation_date":1358284497,"post_id":14346028,"comment_id":19944438,"body_markdown":"Maybe I&#39;m missing something then. I&#39;m using Strings as _id for the User objects; my Vote objects have a userid String field that I use as reference to the User _id. The votes &quot;field&quot; in the db is an arrays of documents. When I $push a vote.userid in this array, I have a String in the db, not an ObjectId. I&#39;ll update my post with some code to make it more clear.","body":"Maybe I&#39;m missing something then. I&#39;m using Strings as _id for the User objects; my Vote objects have a userid String field that I use as reference to the User _id. The votes &quot;field&quot; in the db is an arrays of documents. When I $push a vote.userid in this array, I have a String in the db, not an ObjectId. I&#39;ll update my post with some code to make it more clear."},{"owner":{"account_id":191427,"reputation":1559,"user_id":431998,"accept_rate":44,"display_name":"Mick Sear"},"score":0,"creation_date":1372864587,"post_id":14346028,"comment_id":25354841,"body_markdown":"You don&#39;t say what version you&#39;re using of Spring-data-mongodb.  I&#39;ve recently been bitten by the reverse of this when upgrading from 1.0.3 to 1.1.0, since they seem to have taken away this automatic conversion.  I was bitten because I&#39;d exported as JSON and then re-imported, leaving me with &quot;_id&quot; : { &quot;$id&quot; : &quot;4ee76418f3e1450f11000000&quot; }, which gives me org.springframework.data.mapping.model.MappingException: No mapping metadata found for java.lang.String. I don&#39;t think you can have it both ways","body":"You don&#39;t say what version you&#39;re using of Spring-data-mongodb.  I&#39;ve recently been bitten by the reverse of this when upgrading from 1.0.3 to 1.1.0, since they seem to have taken away this automatic conversion.  I was bitten because I&#39;d exported as JSON and then re-imported, leaving me with &quot;_id&quot; : { &quot;$id&quot; : &quot;4ee76418f3e1450f11000000&quot; }, which gives me org.springframework.data.mapping.model.MappingException: No mapping metadata found for java.lang.String. I don&#39;t think you can have it both ways"},{"owner":{"account_id":1923489,"reputation":3432,"user_id":1734454,"accept_rate":42,"display_name":"alex"},"score":0,"creation_date":1372926665,"post_id":14346028,"comment_id":25378663,"body_markdown":"It was Spring Data Mongodb 1.2.0","body":"It was Spring Data Mongodb 1.2.0"},{"owner":{"account_id":3848484,"reputation":2078,"user_id":3189213,"accept_rate":57,"display_name":"Poorna Subhash"},"score":0,"creation_date":1418279691,"post_id":14346028,"comment_id":43276996,"body_markdown":"I face similar issue. If I use same string in high level document, the comparison works. But If I put this in nested object, then it try to do ObjectId comparison. Very wierd. Otherwise also, the behavior should be same while inserting / querying. Must be a BUG.","body":"I face similar issue. If I use same string in high level document, the comparison works. But If I put this in nested object, then it try to do ObjectId comparison. Very wierd. Otherwise also, the behavior should be same while inserting / querying. Must be a BUG."}],"answers":[{"tags":[],"owner":{"account_id":1923489,"reputation":3432,"user_id":1734454,"accept_rate":42,"display_name":"alex"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1411453048,"creation_date":1358335372,"answer_id":14357231,"question_id":14346028,"body_markdown":"It seems to me the problem can be described like this: if you use String in your classes in place of an ObjectId, if you want to use those ids as references (no dbrefs) in other documents (and embedded documents), they are pushed as String (it&#39;s ok because they are Strings). It&#39;s fine because spring data can map them again to objectid, but it&#39;s not fine if you do a query like the one I mentioned; the field is converted to an objectid in the comparison (the $ne operator in this case) but is considered as a string in the embedded document. So, to wrap up, in my opinion the $ne operator in this case should consider the field a String.\r\n\r\nMy solution was to write a custom converter to store the String as an objectid in the documents where the id is a reference\r\n\r\n    public class VoteWriteConverter implements Converter&lt;Vote, DBObject&gt; {\r\n\r\n      @Override\r\n      public DBObject convert(Vote vote) {\r\n        DBObject dbo = new BasicDBObject();\r\n        dbo.put(&quot;userid&quot;, new ObjectId(vote.getUserid()));\r\n        dbo.put(&quot;value&quot;, vote.getValue());\r\n        return dbo;\r\n      }\r\n    }","title":"Spring data mongodb query converts String to ObjectId automatically","body":"<p>It seems to me the problem can be described like this: if you use String in your classes in place of an ObjectId, if you want to use those ids as references (no dbrefs) in other documents (and embedded documents), they are pushed as String (it's ok because they are Strings). It's fine because spring data can map them again to objectid, but it's not fine if you do a query like the one I mentioned; the field is converted to an objectid in the comparison (the $ne operator in this case) but is considered as a string in the embedded document. So, to wrap up, in my opinion the $ne operator in this case should consider the field a String.</p>\n\n<p>My solution was to write a custom converter to store the String as an objectid in the documents where the id is a reference</p>\n\n<pre><code>public class VoteWriteConverter implements Converter&lt;Vote, DBObject&gt; {\n\n  @Override\n  public DBObject convert(Vote vote) {\n    DBObject dbo = new BasicDBObject();\n    dbo.put(\"userid\", new ObjectId(vote.getUserid()));\n    dbo.put(\"value\", vote.getValue());\n    return dbo;\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":1923489,"reputation":3432,"user_id":1734454,"accept_rate":42,"display_name":"alex"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26599,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":1,"score":6,"last_activity_date":1667905070,"creation_date":1358280730,"question_id":14346028,"body_markdown":"The title might not be super clear, here the problem\r\n\r\nI&#39;m executing an update in this form:\r\n\r\n    db.poi.update({\r\n      _id: ObjectId(&quot;50f40cd052187a491707053b&quot;),\r\n      &quot;votes.userid&quot;: {\r\n        &quot;$ne&quot;: &quot;50f5460d5218fe9d1e2c7b4f&quot;\r\n      }\r\n    },\r\n    {\r\n      $push: {\r\n        votes: {\r\n          &quot;userid&quot;: &quot;50f5460d5218fe9d1e2c7b4f&quot;, \r\n          &quot;value&quot;: 1\r\n        }\r\n      },\r\n      $inc: { &quot;score&quot;:1 }\r\n    })\r\n\r\nTo insert a document in an array only if there isn&#39;t one with the same userid (workaround because unique indexes don&#39;t work on arrays). The code works fine from mongo console. From my application I&#39;m using this:\r\n\r\n    @Override\r\n\tpublic void vote(String id, Vote vote) {\r\n\t\tQuery query = new Query(Criteria.where(&quot;_id&quot;).is(id).and(&quot;votes.userid&quot;).ne(vote.getUserid()));\r\n\t\tUpdate update = new Update().inc(&quot;score&quot;, vote.getValue()).push(&quot;votes&quot;, vote);\r\n\t\tmongoOperations.updateFirst(query, update, Poi.class);\r\n\t}\r\n\r\nThis works fine if as &quot;userid&quot; I use a String that can&#39;t be a mongo ObjectId, but if I use the string in the example, the query executed translates like this (from mongosniff):\r\n\r\n    update  flags:0 q:{ _id: ObjectId(&#39;50f40cd052187a491707053b&#39;), votes.userid: { $ne: ObjectId(&#39;50f5460d5218fe9d1e2c7b4f&#39;) } } o:{ $inc: { score: 1 }, $push: { votes: { userid: &quot;50f5460d5218fe9d1e2c7b4f&quot;, value: 1 } } }\r\n\r\nThe string is now an Objectid. Is this a bug? BasicQuery do the same thing. The only other solution I see is to use ObjectId instead of String for all classes ids.\r\n\r\nAny thoughts?\r\n\r\n**UPDATE:**\r\n\r\nThis is the Vote class\r\n\r\n    public class Vote {\r\n      private String userid;\r\n      private int value;\r\n    }\r\n\r\nThis is the User class\r\n\r\n    @Document\r\n    public class User {\r\n\r\n      @Id\r\n      private String id;\r\n      private String username;\r\n    }\r\n\r\nThis is the class and mongo document where I&#39;m doing this update\r\n\r\n    @Document\r\n    public class MyClass {\r\n\r\n      @Id\r\n      private String id;\r\n      @Indexed\r\n      private String name;\r\n      int score\r\n      private Set&lt;Vote&gt;votes = new HashSet&lt;Vote&gt;();\r\n    }\r\n\r\nAs Json\r\n\r\n    {\r\n      &quot;_id&quot; : ObjectId(&quot;50f40cd052187a491707053b&quot;),\r\n      &quot;name&quot; : &quot;Test&quot;,\r\n      &quot;score&quot; : 12,\r\n      &quot;votes&quot; : [\r\n        {\r\n          &quot;userid&quot; : &quot;50f5460d5218fe9d1e2c7b4f&quot;,\r\n          &quot;value&quot; : 1\r\n        }\r\n      ]\r\n    }\r\n\r\nUserid in votes.userid is pushed as String, but the same String is compared as an ObjectId in the $ne","title":"Spring data mongodb query converts String to ObjectId automatically","body":"<p>The title might not be super clear, here the problem</p>\n\n<p>I'm executing an update in this form:</p>\n\n<pre><code>db.poi.update({\n  _id: ObjectId(\"50f40cd052187a491707053b\"),\n  \"votes.userid\": {\n    \"$ne\": \"50f5460d5218fe9d1e2c7b4f\"\n  }\n},\n{\n  $push: {\n    votes: {\n      \"userid\": \"50f5460d5218fe9d1e2c7b4f\", \n      \"value\": 1\n    }\n  },\n  $inc: { \"score\":1 }\n})\n</code></pre>\n\n<p>To insert a document in an array only if there isn't one with the same userid (workaround because unique indexes don't work on arrays). The code works fine from mongo console. From my application I'm using this:</p>\n\n<pre><code>@Override\npublic void vote(String id, Vote vote) {\n    Query query = new Query(Criteria.where(\"_id\").is(id).and(\"votes.userid\").ne(vote.getUserid()));\n    Update update = new Update().inc(\"score\", vote.getValue()).push(\"votes\", vote);\n    mongoOperations.updateFirst(query, update, Poi.class);\n}\n</code></pre>\n\n<p>This works fine if as \"userid\" I use a String that can't be a mongo ObjectId, but if I use the string in the example, the query executed translates like this (from mongosniff):</p>\n\n<pre><code>update  flags:0 q:{ _id: ObjectId('50f40cd052187a491707053b'), votes.userid: { $ne: ObjectId('50f5460d5218fe9d1e2c7b4f') } } o:{ $inc: { score: 1 }, $push: { votes: { userid: \"50f5460d5218fe9d1e2c7b4f\", value: 1 } } }\n</code></pre>\n\n<p>The string is now an Objectid. Is this a bug? BasicQuery do the same thing. The only other solution I see is to use ObjectId instead of String for all classes ids.</p>\n\n<p>Any thoughts?</p>\n\n<p><strong>UPDATE:</strong></p>\n\n<p>This is the Vote class</p>\n\n<pre><code>public class Vote {\n  private String userid;\n  private int value;\n}\n</code></pre>\n\n<p>This is the User class</p>\n\n<pre><code>@Document\npublic class User {\n\n  @Id\n  private String id;\n  private String username;\n}\n</code></pre>\n\n<p>This is the class and mongo document where I'm doing this update</p>\n\n<pre><code>@Document\npublic class MyClass {\n\n  @Id\n  private String id;\n  @Indexed\n  private String name;\n  int score\n  private Set&lt;Vote&gt;votes = new HashSet&lt;Vote&gt;();\n}\n</code></pre>\n\n<p>As Json</p>\n\n<pre><code>{\n  \"_id\" : ObjectId(\"50f40cd052187a491707053b\"),\n  \"name\" : \"Test\",\n  \"score\" : 12,\n  \"votes\" : [\n    {\n      \"userid\" : \"50f5460d5218fe9d1e2c7b4f\",\n      \"value\" : 1\n    }\n  ]\n}\n</code></pre>\n\n<p>Userid in votes.userid is pushed as String, but the same String is compared as an ObjectId in the $ne</p>\n"},{"tags":["java","velocity","xdocreport"],"answers":[{"tags":[],"owner":{"account_id":10430546,"reputation":56,"user_id":7690499,"display_name":"Magomed Gamzatov"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1489152874,"creation_date":1489152874,"answer_id":42719670,"question_id":42272170,"body_markdown":"This is because you set FieldsMetadata to report two times.\r\nYou need to create one FieldsMetadata metadata = ixDocReport.createFieldsMetadata()  and add two image to it.\r\nFoe example:\r\n\r\n     FieldsMetadata metadata = new FieldsMetadata();\r\n     metadata.addFieldAsImage(&quot;chart1&quot;);\r\n     metadata.addFieldAsImage(&quot;chart2&quot;);\r\n     report.setFieldsMetadata(metadata);\r\n\r\n     IImageProvider logo = new FileImageProvider(new File(&quot;path/to/image1&quot;), true);\r\n     context.put(&quot;chart1&quot;, logo);\r\n\r\n     IImageProvider logo2 = new FileImageProvider(new File(&quot;path/to/image2&quot;), true);\r\n     context.put(&quot;chart2&quot;, logo2);","title":"XDocReport can&#39;t display two image in generated document","body":"<p>This is because you set FieldsMetadata to report two times.\nYou need to create one FieldsMetadata metadata = ixDocReport.createFieldsMetadata()  and add two image to it.\nFoe example:</p>\n\n<pre><code> FieldsMetadata metadata = new FieldsMetadata();\n metadata.addFieldAsImage(\"chart1\");\n metadata.addFieldAsImage(\"chart2\");\n report.setFieldsMetadata(metadata);\n\n IImageProvider logo = new FileImageProvider(new File(\"path/to/image1\"), true);\n context.put(\"chart1\", logo);\n\n IImageProvider logo2 = new FileImageProvider(new File(\"path/to/image2\"), true);\n context.put(\"chart2\", logo2);\n</code></pre>\n"}],"owner":{"account_id":1161351,"reputation":325,"user_id":1140788,"accept_rate":75,"display_name":"martinixs"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2612,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":42719670,"answer_count":1,"score":0,"last_activity_date":1667904808,"creation_date":1487243195,"question_id":42272170,"body_markdown":"I insert two image to template: &quot;logo&quot; and &quot;background&quot;\r\nBut only background image presented in template.\r\n\r\nI create ImageProdiver \r\n\r\n    private IImageProvider createImageProvider(IXDocReport ixDocReport, String fieldName, Blob image) {\r\n        FieldsMetadata metadata = ixDocReport.createFieldsMetadata();\r\n        metadata.addFieldAsImage( fieldName);\r\n        ixDocReport.setFieldsMetadata(metadata);\r\n        InputStream inputStream = null;\r\n\r\n        try {\r\n            inputStream = image.getBinaryStream();\r\n            IImageProvider logo = new ByteArrayImageProvider(inputStream);\r\n            logo.setUseImageSize(true);\r\n            logo.setResize(true);\r\n            inputStream.close();\r\n            return logo;\r\n        } catch (SQLException | IOException e) {\r\n            throw new GeneralException(&quot;Error reading logo&quot;);\r\n        } finally {\r\n            if(inputStream != null) {\r\n                IOUtils.closeQuietly(inputStream);\r\n            }\r\n        }\r\n    }\r\n\r\nCreate two Image provider\r\n\r\n    IImageProvider logo = createImageProdider(report, &quot;logo&quot;, blobimage));\r\n    IImageProvider background = createImageProdider(report, &quot;logo&quot;, blobimagebacground));\r\n\r\nand insert to context in builder\r\n\r\n    context = this.report.createContext();\r\n    context.put(&quot;logo&quot;, logo);\r\n    context.put(&quot;background&quot;, background);\r\n\r\nafter generate document, exist only background image.\r\n\r\nI do not understand why there is this problem, why only one picture is displayed.\r\n\r\nHow to solve this problem?","title":"XDocReport can&#39;t display two image in generated document","body":"<p>I insert two image to template: \"logo\" and \"background\"\nBut only background image presented in template.</p>\n\n<p>I create ImageProdiver </p>\n\n<pre><code>private IImageProvider createImageProvider(IXDocReport ixDocReport, String fieldName, Blob image) {\n    FieldsMetadata metadata = ixDocReport.createFieldsMetadata();\n    metadata.addFieldAsImage( fieldName);\n    ixDocReport.setFieldsMetadata(metadata);\n    InputStream inputStream = null;\n\n    try {\n        inputStream = image.getBinaryStream();\n        IImageProvider logo = new ByteArrayImageProvider(inputStream);\n        logo.setUseImageSize(true);\n        logo.setResize(true);\n        inputStream.close();\n        return logo;\n    } catch (SQLException | IOException e) {\n        throw new GeneralException(\"Error reading logo\");\n    } finally {\n        if(inputStream != null) {\n            IOUtils.closeQuietly(inputStream);\n        }\n    }\n}\n</code></pre>\n\n<p>Create two Image provider</p>\n\n<pre><code>IImageProvider logo = createImageProdider(report, \"logo\", blobimage));\nIImageProvider background = createImageProdider(report, \"logo\", blobimagebacground));\n</code></pre>\n\n<p>and insert to context in builder</p>\n\n<pre><code>context = this.report.createContext();\ncontext.put(\"logo\", logo);\ncontext.put(\"background\", background);\n</code></pre>\n\n<p>after generate document, exist only background image.</p>\n\n<p>I do not understand why there is this problem, why only one picture is displayed.</p>\n\n<p>How to solve this problem?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9093,"page":899,"page_size":100}
