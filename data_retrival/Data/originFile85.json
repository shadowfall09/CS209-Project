{"items":[{"tags":["java","selenium","xpath","selenium-webdriver"],"comments":[{"owner":{"account_id":4222085,"reputation":302,"user_id":3456626,"display_name":"NotInventedHere"},"score":1,"creation_date":1500413743,"post_id":45174799,"comment_id":77323551,"body_markdown":"Do you use &quot;tiles&quot; for anything else or are you just using it as a stepping stone to getting the child element? The xpaths you are trying to use to get the child elements are horrendous btw. That style is guaranteed to break and be really difficult to debug. If you post an example of the html I&#39;m sure we&#39;ll be able to come up with something better for you.","body":"Do you use &quot;tiles&quot; for anything else or are you just using it as a stepping stone to getting the child element? The xpaths you are trying to use to get the child elements are horrendous btw. That style is guaranteed to break and be really difficult to debug. If you post an example of the html I&#39;m sure we&#39;ll be able to come up with something better for you."},{"owner":{"account_id":2772450,"reputation":22416,"user_id":2386774,"display_name":"JeffC"},"score":0,"creation_date":1500429171,"post_id":45174799,"comment_id":77327906,"body_markdown":"What&#39;s the URL for the site?","body":"What&#39;s the URL for the site?"}],"answers":[{"tags":[],"owner":{"account_id":3758602,"reputation":10072,"user_id":3124333,"accept_rate":100,"display_name":"SiKing"},"down_vote_count":1,"up_vote_count":25,"is_accepted":false,"score":24,"last_activity_date":1698942197,"creation_date":1500407488,"answer_id":45175857,"question_id":45174799,"body_markdown":"The [API documentation][1] for `findElements()` says:\r\n\r\n&gt; When using xpath be aware that webdriver follows standard conventions: a search prefixed with &quot;//&quot; will search the entire document, not just the children of this current node. Use &quot;.//&quot; to limit your search to the children of this WebElement.\r\n\r\nSame rules apply to `findElement()` (the singular form). So you should be able to do something like:\r\n\r\n    WebElement foo = driver.findElement(By.xpath(&quot;//*[@title=&#39;&quot; + title + &quot;&#39;]&quot;));\r\n    WebElement bar = foo.findElement(By.xpath(&quot;.//img&quot;));\r\n\r\nThe leading dot in the second xpath makes all the difference, as it will search only for child elements of `foo`.\r\n\r\n  [1]: https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/WebElement.html#findElements(org.openqa.selenium.By)","title":"How to find the child elements of a specific WebElement (which I don&#39;t know the xpath to)","body":"<p>The <a href=\"https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/WebElement.html#findElements(org.openqa.selenium.By)\" rel=\"nofollow noreferrer\">API documentation</a> for <code>findElements()</code> says:</p>\n<blockquote>\n<p>When using xpath be aware that webdriver follows standard conventions: a search prefixed with &quot;//&quot; will search the entire document, not just the children of this current node. Use &quot;.//&quot; to limit your search to the children of this WebElement.</p>\n</blockquote>\n<p>Same rules apply to <code>findElement()</code> (the singular form). So you should be able to do something like:</p>\n<pre><code>WebElement foo = driver.findElement(By.xpath(&quot;//*[@title='&quot; + title + &quot;']&quot;));\nWebElement bar = foo.findElement(By.xpath(&quot;.//img&quot;));\n</code></pre>\n<p>The leading dot in the second xpath makes all the difference, as it will search only for child elements of <code>foo</code>.</p>\n"},{"tags":[],"owner":{"account_id":12500447,"reputation":93,"user_id":9099080,"display_name":"STG"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1624863547,"creation_date":1624366764,"answer_id":68084004,"question_id":45174799,"body_markdown":"Topic with similar question! - [XPath to get all child nodes (elements, comments, and text) without parent\r\n][1] \r\n\r\nthis part from that topic can interest you.\r\n\r\n&gt; `child::*` selects all element\r\n&gt; children of the context node \r\n&gt; \r\n&gt; `child::text()` selects all text node\r\n&gt; children of the context node \r\n&gt; \r\n&gt; `child::node()` selects all the\r\n&gt; children of the context node, whatever\r\n&gt; their node type\r\n\r\nWe can identify the child nodes from the parent, by localizing it with the parent and then passing `( ./child::*)` as a parameter to the `findElements(By.xpath(&quot;&quot;))`\r\n\r\n    var childs = parent.findElements(By.xpath(&quot;./child::*&quot;));\r\n\r\nthen in your code filter/process them...\r\n\r\n  [1]: https://stackoverflow.com/questions/5119655/xpath-to-get-all-child-nodes-elements-comments-and-text-without-parent","title":"How to find the child elements of a specific WebElement (which I don&#39;t know the xpath to)","body":"<p>Topic with similar question! - <a href=\"https://stackoverflow.com/questions/5119655/xpath-to-get-all-child-nodes-elements-comments-and-text-without-parent\">XPath to get all child nodes (elements, comments, and text) without parent\n</a></p>\n<p>this part from that topic can interest you.</p>\n<blockquote>\n<p><code>child::*</code> selects all element\nchildren of the context node</p>\n<p><code>child::text()</code> selects all text node\nchildren of the context node</p>\n<p><code>child::node()</code> selects all the\nchildren of the context node, whatever\ntheir node type</p>\n</blockquote>\n<p>We can identify the child nodes from the parent, by localizing it with the parent and then passing <code>( ./child::*)</code> as a parameter to the <code>findElements(By.xpath(&quot;&quot;))</code></p>\n<pre><code>var childs = parent.findElements(By.xpath(&quot;./child::*&quot;));\n</code></pre>\n<p>then in your code filter/process them...</p>\n"}],"owner":{"account_id":4113633,"reputation":4511,"user_id":3375847,"accept_rate":51,"display_name":"Glen Pierce"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31492,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":2,"score":7,"last_activity_date":1698942197,"creation_date":1500403668,"question_id":45174799,"body_markdown":"I have an arbitrary number of tiles that have a unique class name. One of them has a unique title so I&#39;m trying to grab that one specifically. Once I&#39;ve done that, I want a reference to child element rather deep in its structure.\r\n\r\n**Does the &quot;tile.&quot; part of tile.findElement() do anything for me here? I want to be specifically using an xpath relative to tile.**\r\n\r\n    public WebElement getArticleTileByTitle(String title){\r\n    \t\tBy xpath = By.xpath(&quot;.//div[contains(., &#39;&quot; + title + &quot;&#39;) or @title=&#39;&quot; + title +  &quot;&#39;]&quot;);\r\n    \t\tList&lt;WebElement&gt; tiles = findPresentElements(By.className(&quot;articleTile&quot;));\r\n    \t\tfor(WebElement tile : tiles){\r\n    \t\t\tif(isElementPresent(tile, xpath))\r\n    \t\t\t\treturn tile;\r\n    \t\t}\r\n    \t\treturn null;\r\n    \t}\r\n\r\n\tpublic boolean articleTileImageIsVisible(WebElement tile){\r\n\t\tWebElement background = tile.findElement(By.xpath(&quot;/*[2]/*[2]/*[1]/*[3]&quot;)); //This throws NoSuchElementException: no such element: Unable to locate element: {&quot;method&quot;:&quot;xpath&quot;,&quot;selector&quot;:&quot;/*[2]/*[2]/*[1]/*[3]&quot;}\r\n\t\t//figure out stuff about background\r\n\t}\r\n\r\nI know that background is of type img so I&#39;ve tried \r\n\r\n    tile.findElement(By.xpath(&quot;./img/*[2]/*[2]/*[1]/*[3]&quot;));\r\n    tile.findElement(By.xpath(&quot;./*/*[2]/*[2]/*[1]/*[3]&quot;));\r\n    tile.findElement(By.xpath(&quot;.//*/*[2]/*[2]/*[1]/*[3]&quot;));\r\n    tile.findElement(By.xpath(&quot;./*/*[2]/*[2]/*[1]/*[3]&quot;));\r\n\r\nNever the less, I keep getting variations on NoSuchElementException: no such element: Unable to locate element: {&quot;method&quot;:&quot;xpath&quot;,&quot;selector&quot;:&quot;/*[2]/*[2]/*[1]/*[3]&quot;} and That&#39;s not a valid xpath.\r\n\r\nThis question is very similar to https://stackoverflow.com/questions/7180243/selenium-2-can-findelementby-xpath-be-scoped-to-a-particular-element but people seem to have either misinterpreted it or my use case is different.","title":"How to find the child elements of a specific WebElement (which I don&#39;t know the xpath to)","body":"<p>I have an arbitrary number of tiles that have a unique class name. One of them has a unique title so I'm trying to grab that one specifically. Once I've done that, I want a reference to child element rather deep in its structure.</p>\n\n<p><strong>Does the \"tile.\" part of tile.findElement() do anything for me here? I want to be specifically using an xpath relative to tile.</strong></p>\n\n<pre><code>public WebElement getArticleTileByTitle(String title){\n        By xpath = By.xpath(\".//div[contains(., '\" + title + \"') or @title='\" + title +  \"']\");\n        List&lt;WebElement&gt; tiles = findPresentElements(By.className(\"articleTile\"));\n        for(WebElement tile : tiles){\n            if(isElementPresent(tile, xpath))\n                return tile;\n        }\n        return null;\n    }\n\npublic boolean articleTileImageIsVisible(WebElement tile){\n    WebElement background = tile.findElement(By.xpath(\"/*[2]/*[2]/*[1]/*[3]\")); //This throws NoSuchElementException: no such element: Unable to locate element: {\"method\":\"xpath\",\"selector\":\"/*[2]/*[2]/*[1]/*[3]\"}\n    //figure out stuff about background\n}\n</code></pre>\n\n<p>I know that background is of type img so I've tried </p>\n\n<pre><code>tile.findElement(By.xpath(\"./img/*[2]/*[2]/*[1]/*[3]\"));\ntile.findElement(By.xpath(\"./*/*[2]/*[2]/*[1]/*[3]\"));\ntile.findElement(By.xpath(\".//*/*[2]/*[2]/*[1]/*[3]\"));\ntile.findElement(By.xpath(\"./*/*[2]/*[2]/*[1]/*[3]\"));\n</code></pre>\n\n<p>Never the less, I keep getting variations on NoSuchElementException: no such element: Unable to locate element: {\"method\":\"xpath\",\"selector\":\"/<em>[2]/</em>[2]/<em>[1]/</em>[3]\"} and That's not a valid xpath.</p>\n\n<p>This question is very similar to <a href=\"https://stackoverflow.com/questions/7180243/selenium-2-can-findelementby-xpath-be-scoped-to-a-particular-element\">Selenium 2 - Can findElement(By.xpath) be scoped to a particular element?</a> but people seem to have either misinterpreted it or my use case is different.</p>\n"},{"tags":["java","maven","intellij-idea","faker","intellij-15"],"comments":[{"owner":{"account_id":213468,"reputation":103462,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1590579315,"post_id":62041784,"comment_id":109731106,"body_markdown":"Are you sure this feature is available in the Community Edition? Some features are Ultimate only.","body":"Are you sure this feature is available in the Community Edition? Some features are Ultimate only."}],"answers":[{"tags":[],"owner":{"account_id":6502221,"reputation":1372,"user_id":5032541,"display_name":"Erwan Daniel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1590578475,"creation_date":1590578475,"answer_id":62041875,"question_id":62041784,"body_markdown":"What you are looking for is in the contextual menu of your project. Right click on the root folder of your project and you will find it.\r\n\r\nSo you should have already created a project. Or, at a project creation you can also decide to use any framework\r\n\r\n[![framework support][1]][1]\r\n\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/N3wHt.png","title":"Add Framework Support missing in Intellij IDEA","body":"<p>What you are looking for is in the contextual menu of your project. Right click on the root folder of your project and you will find it.</p>\n\n<p>So you should have already created a project. Or, at a project creation you can also decide to use any framework</p>\n\n<p><a href=\"https://i.stack.imgur.com/N3wHt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/N3wHt.png\" alt=\"framework support\"></a></p>\n"},{"tags":[],"owner":{"account_id":27613977,"reputation":1,"user_id":22288997,"display_name":"  Revers"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1698942153,"creation_date":1692358702,"answer_id":76928984,"question_id":62041784,"body_markdown":"Try to download [Hibernate Core Relocation]: https://mvnrepository.com/artifact/org.hibernate/hibernate-core from Maven repository","title":"Add Framework Support missing in Intellij IDEA","body":"<p>Try to download [Hibernate Core Relocation]: <a href=\"https://mvnrepository.com/artifact/org.hibernate/hibernate-core\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/org.hibernate/hibernate-core</a> from Maven repository</p>\n"}],"owner":{"account_id":11117369,"reputation":1482,"user_id":8161309,"display_name":"Amir"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4103,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":62041875,"answer_count":2,"score":3,"last_activity_date":1698942153,"creation_date":1590578143,"question_id":62041784,"body_markdown":"I am trying to add an external library using Maven.\r\n\r\nTutorials mention to right click on a module, and select &quot;Add Framework Support&quot;. I have looked in detail, and I cannot find that option in my IntelliJ.\r\n\r\nHere is my current version of IntelliJ:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/kBbIj.png\r\n\r\n\r\nAny insight would be appreciated, as I have been stuck on this for a while.\r\n","title":"Add Framework Support missing in Intellij IDEA","body":"<p>I am trying to add an external library using Maven.</p>\n<p>Tutorials mention to right click on a module, and select &quot;Add Framework Support&quot;. I have looked in detail, and I cannot find that option in my IntelliJ.</p>\n<p>Here is my current version of IntelliJ:</p>\n<p><a href=\"https://i.stack.imgur.com/kBbIj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kBbIj.png\" alt=\"enter image description here\" /></a></p>\n<p>Any insight would be appreciated, as I have been stuck on this for a while.</p>\n"},{"tags":["java","maven","maven-release-plugin"],"comments":[{"owner":{"account_id":1464652,"reputation":12313,"user_id":1377895,"accept_rate":100,"display_name":"Roman Vottner"},"score":0,"creation_date":1619513054,"post_id":67279595,"comment_id":118921753,"body_markdown":"An alternative could be to get rid of the Maven&#39;s release functionality alltogether and instead utilize on a `${revision}` property that can later on be set with `-Drevision=3.2.1` by the build pipeline. This requires the usage of the flatten plugin to actually resolve the version in the pom and allow the up- and download of the artifacts by Maven. [This blog post](https://medium.com/outbrain-engineering/faster-release-with-maven-ci-friendly-versions-and-a-customised-flatten-plugin-fe53f0fcc0df) sums up the process and even provides a faster alternative to the flatten-plugin","body":"An alternative could be to get rid of the Maven&#39;s release functionality alltogether and instead utilize on a <code>${revision}</code> property that can later on be set with <code>-Drevision=3.2.1</code> by the build pipeline. This requires the usage of the flatten plugin to actually resolve the version in the pom and allow the up- and download of the artifacts by Maven. <a href=\"https://medium.com/outbrain-engineering/faster-release-with-maven-ci-friendly-versions-and-a-customised-flatten-plugin-fe53f0fcc0df\" rel=\"nofollow noreferrer\">This blog post</a> sums up the process and even provides a faster alternative to the flatten-plugin"},{"owner":{"account_id":112317,"reputation":93929,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1619514417,"post_id":67279595,"comment_id":118922276,"body_markdown":"My assumption is that project2 version is not 9.0.2-SNAPSHOT? I assume that the version is something like &quot;X.X.X&quot; (but not SNAPSHOT). So I would suggest to put the literal version without SNAPSHOT into it..","body":"My assumption is that project2 version is not 9.0.2-SNAPSHOT? I assume that the version is something like &quot;X.X.X&quot; (but not SNAPSHOT). So I would suggest to put the literal version without SNAPSHOT into it.."},{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1619514701,"post_id":67279595,"comment_id":118922401,"body_markdown":"@khmarbaise the thing is: Several projects should be build with the same version (like in a multi-module project), so we need a property.","body":"@khmarbaise the thing is: Several projects should be build with the same version (like in a multi-module project), so we need a property."},{"owner":{"account_id":112317,"reputation":93929,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1619527774,"post_id":67279595,"comment_id":118927814,"body_markdown":"I have understood and expected exactly that requirement but if you keep the property the release plugin will check that and will fail... a dependency during a release is not allowed to be a snapshot which is not part of the reactor which here is exactly the case. So you have to go first and release project2 and afterwards you can release project1 unfortunately I don&#39;t see any other option except to restructure into a multi module which you have already mentioned that&#39;s not possible at the moment...","body":"I have understood and expected exactly that requirement but if you keep the property the release plugin will check that and will fail... a dependency during a release is not allowed to be a snapshot which is not part of the reactor which here is exactly the case. So you have to go first and release project2 and afterwards you can release project1 unfortunately I don&#39;t see any other option except to restructure into a multi module which you have already mentioned that&#39;s not possible at the moment..."}],"answers":[{"tags":[],"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1620306974,"creation_date":1620306974,"answer_id":67418942,"question_id":67279595,"body_markdown":"The &quot;solution&quot; is as follows:\r\n\r\n- define a property `&lt;dep.version&gt;${project.version}&lt;/dep.version&gt;` in the POM and use it instead of `${project.version}`.\r\n- Use the versions maven plugin to update the property `${dep.version}` before the build to the next release version (and commit).\r\n- Do the build\r\n- Run the version plugin to reset the value `${dep.version}` back to `${project.version}`.","title":"Ignore ${project.version} in Maven release:prepare","body":"<p>The &quot;solution&quot; is as follows:</p>\n<ul>\n<li>define a property <code>&lt;dep.version&gt;${project.version}&lt;/dep.version&gt;</code> in the POM and use it instead of <code>${project.version}</code>.</li>\n<li>Use the versions maven plugin to update the property <code>${dep.version}</code> before the build to the next release version (and commit).</li>\n<li>Do the build</li>\n<li>Run the version plugin to reset the value <code>${dep.version}</code> back to <code>${project.version}</code>.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":238697,"reputation":1454,"user_id":507761,"accept_rate":100,"display_name":"Matthew Read"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698941793,"creation_date":1698941793,"answer_id":77411251,"question_id":67279595,"body_markdown":"Hardcode the version.  In your example, use `9.0.2-SNAPSHOT` instead of `${project.version}`.  Maven understands that the reactor and the dependency are in the same project and have the same version, so the `maven-release-plugin` will update both versions to `9.0.2` for the release and `9.0.3-SNAPSHOT` for the next snapshot by default &amp;mdash; nothing else required.","title":"Ignore ${project.version} in Maven release:prepare","body":"<p>Hardcode the version.  In your example, use <code>9.0.2-SNAPSHOT</code> instead of <code>${project.version}</code>.  Maven understands that the reactor and the dependency are in the same project and have the same version, so the <code>maven-release-plugin</code> will update both versions to <code>9.0.2</code> for the release and <code>9.0.3-SNAPSHOT</code> for the next snapshot by default — nothing else required.</p>\n"}],"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":755,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":67418942,"answer_count":2,"score":0,"last_activity_date":1698941793,"creation_date":1619512441,"question_id":67279595,"body_markdown":"We have projects that are built one after another in the build server. They probably could become a multi-module project in the future, but at the moment there is no capacity for restructuring the repositories, projects etc. and introducing new parent POMs.\r\n\r\nWe tried to use a structure like\r\n\r\n````xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n  xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n  &lt;groupId&gt;de.something&lt;/groupId&gt;\r\n  &lt;artifactId&gt;project1&lt;/artifactId&gt;\r\n  &lt;version&gt;9.0.2-SNAPSHOT&lt;/version&gt;\r\n\r\n  &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;de.something&lt;/groupId&gt;\r\n      &lt;artifactId&gt;project2&lt;/artifactId&gt;\r\n      &lt;version&gt;${project.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n  &lt;/dependencies&gt;\r\n\r\n&lt;/project&gt;\r\n````\r\n\r\nUnfortunately, the maven release plugin (more specifically, the `release:prepare` goal) fails on this because it considers the dependency to be a SNAPSHOT dependency. \r\n\r\nIs there any way (besides rebuilding everything as multi-module) to tell the maven release plugin that this is not the case?\r\n\r\nSomething like\r\n\r\n- &quot;`${project.version}` is ok, don&#39;t worry&quot;\r\n- or &quot;Don&#39;t check project2 for SNAPSHOT&quot;","title":"Ignore ${project.version} in Maven release:prepare","body":"<p>We have projects that are built one after another in the build server. They probably could become a multi-module project in the future, but at the moment there is no capacity for restructuring the repositories, projects etc. and introducing new parent POMs.</p>\n<p>We tried to use a structure like</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n  xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n  &lt;groupId&gt;de.something&lt;/groupId&gt;\n  &lt;artifactId&gt;project1&lt;/artifactId&gt;\n  &lt;version&gt;9.0.2-SNAPSHOT&lt;/version&gt;\n\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;de.something&lt;/groupId&gt;\n      &lt;artifactId&gt;project2&lt;/artifactId&gt;\n      &lt;version&gt;${project.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n  &lt;/dependencies&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>Unfortunately, the maven release plugin (more specifically, the <code>release:prepare</code> goal) fails on this because it considers the dependency to be a SNAPSHOT dependency.</p>\n<p>Is there any way (besides rebuilding everything as multi-module) to tell the maven release plugin that this is not the case?</p>\n<p>Something like</p>\n<ul>\n<li>&quot;<code>${project.version}</code> is ok, don't worry&quot;</li>\n<li>or &quot;Don't check project2 for SNAPSHOT&quot;</li>\n</ul>\n"},{"tags":["java","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1698935112,"post_id":77404929,"comment_id":136469564,"body_markdown":"Show the code you are calling that hits the problem. Note though that you only have cascade persist on your docDlvrActy relationship. By saving an existing DocDlvr (using merge) the merge is not cascaded and might be why JPA (hibernate?) is creating a stub entity for the managed instance since it doesn&#39;t exist yet. You might try explicitly calling save on the DocDlvrActy instance and using what is returned in the docDlvrActy set.","body":"Show the code you are calling that hits the problem. Note though that you only have cascade persist on your docDlvrActy relationship. By saving an existing DocDlvr (using merge) the merge is not cascaded and might be why JPA (hibernate?) is creating a stub entity for the managed instance since it doesn&#39;t exist yet. You might try explicitly calling save on the DocDlvrActy instance and using what is returned in the docDlvrActy set."},{"owner":{"account_id":13165,"reputation":7004,"user_id":26270,"accept_rate":38,"display_name":"user26270"},"score":0,"creation_date":1698941649,"post_id":77404929,"comment_id":136471024,"body_markdown":"added the code; I guess I&#39;m not familiar with this merge, or why it&#39;s doing it; this seems like a simple, common operation, saving the child objects when the parent object is saved; I would have thought the new child object would simply be saved and the parentId updated;","body":"added the code; I guess I&#39;m not familiar with this merge, or why it&#39;s doing it; this seems like a simple, common operation, saving the child objects when the parent object is saved; I would have thought the new child object would simply be saved and the parentId updated;"},{"owner":{"account_id":13165,"reputation":7004,"user_id":26270,"accept_rate":38,"display_name":"user26270"},"score":0,"creation_date":1698943106,"post_id":77404929,"comment_id":136471363,"body_markdown":"just to be clear, I&#39;m not explicitly calling merge(); I just saw it in the stack when debugging","body":"just to be clear, I&#39;m not explicitly calling merge(); I just saw it in the stack when debugging"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1698944934,"post_id":77404929,"comment_id":136471719,"body_markdown":"Spring will check if it can tell if the entity is new or existing and call either em.persist or em.merge. I don&#39;t know why it bothers as JPA will do the same thing if you just directly call em.merge, and the two api have slightly different mechanics - Springs implementation causes issues when passing in a new entity that references an existing one, as persist throws exceptions when given a detached instance.","body":"Spring will check if it can tell if the entity is new or existing and call either em.persist or em.merge. I don&#39;t know why it bothers as JPA will do the same thing if you just directly call em.merge, and the two api have slightly different mechanics - Springs implementation causes issues when passing in a new entity that references an existing one, as persist throws exceptions when given a detached instance."}],"answers":[{"tags":[],"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698935449,"creation_date":1698935449,"answer_id":77410444,"question_id":77404929,"body_markdown":"The JPA spec states, section 3.2.7.1: \r\n\r\n&gt; If X is an entity merged to X&#39;, with a reference to another entity Y,\r\n&gt; where cascade=MERGE or cascade=ALL is not specified, then navigation\r\n&gt; of the same association from X&#39; yields a reference to a managed object\r\n&gt; Y&#39; with the same persistent identity as Y.\r\n\r\nI would have suspected the intent was that Y&#39; would have all the values of Y set, but they are only required to make a copy that shares the ID, which is what you are getting. \r\n\r\nOptions I see:\r\n\r\n 1. Add new instance after saving the parent DocDlvr.\r\n 2. Add CascadeType.MERGE to the relationship\r\n 3. Manually call save on the child instance and use that reference in the DocDlvr&#39;s set.\r\n\r\n","title":"Why is Spring JPA merging and copying a new child object during a parent update, and then setting the child properties to null?","body":"<p>The JPA spec states, section 3.2.7.1:</p>\n<blockquote>\n<p>If X is an entity merged to X', with a reference to another entity Y,\nwhere cascade=MERGE or cascade=ALL is not specified, then navigation\nof the same association from X' yields a reference to a managed object\nY' with the same persistent identity as Y.</p>\n</blockquote>\n<p>I would have suspected the intent was that Y' would have all the values of Y set, but they are only required to make a copy that shares the ID, which is what you are getting.</p>\n<p>Options I see:</p>\n<ol>\n<li>Add new instance after saving the parent DocDlvr.</li>\n<li>Add CascadeType.MERGE to the relationship</li>\n<li>Manually call save on the child instance and use that reference in the DocDlvr's set.</li>\n</ol>\n"}],"owner":{"account_id":13165,"reputation":7004,"user_id":26270,"accept_rate":38,"display_name":"user26270"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1698941547,"creation_date":1698864436,"question_id":77404929,"body_markdown":"I upgrading an old batch app to Spring 5 from Spring 2 or 3. There is a parent-child object relationship where the parent and one child have been retrieved from the database, a new child has been added, and when the parent is saved with a repository.save(), it&#39;s throwing this error:\r\n\r\n    not-null property references a null or transient value\r\n\r\nI&#39;ve debugged it, and it seems that a merge is happening in the stack trace on the save(), and in that process, the new child is being deleted or copied and a new one with all null properties is added back to the collection, which is causing the error. \r\n\r\nWhat is causing this merge and copy?\r\n\r\nHere are the relevant bits of the related entities:\r\n\r\n    @Entity\r\n    @Table(name=&quot;DOC_DLVR&quot;)\r\n    @Inheritance(strategy=InheritanceType.SINGLE_TABLE)\r\n    @DiscriminatorColumn(\r\n        name=&quot;DOC_DLVR_CHNL_CD&quot;,\r\n        discriminatorType=DiscriminatorType.STRING\r\n    )\r\n    abstract public class  DocDlvr {\r\n    ...\r\n        private Set&lt;DocDlvrActy&gt; docDlvrActy = new HashSet&lt;DocDlvrActy&gt;();\r\n    \r\n        @OneToMany(fetch=FetchType.EAGER)\r\n        @JoinColumn(name=&quot;DOC_DLVR_ID&quot;, nullable=false)\r\n        @Cascade({CascadeType.PERSIST})\r\n    \tpublic Set&lt;DocDlvrActy&gt; getDocDlvrActy() {\r\n    \t\treturn docDlvrActy;\r\n    \t}\r\n    }\r\n\r\n\r\n    @Entity \r\n    @Table(name = &quot;DOC_DLVR_ACTY&quot;)\r\n    public class DocDlvrActy {\r\n    ....\r\n        @Id\r\n    \t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    \t@Column(name = &quot;DOC_DLVR_ACTY_ID&quot;, unique = true, nullable = false)\r\n    \tpublic Integer getDocDlvrActyId() {\r\n    \t\treturn docDlvrActyId;\r\n    \t}\r\n    \r\n        @ManyToOne(fetch = FetchType.EAGER)\r\n    \t@JoinColumn(name = &quot;DOC_DLVR_ID&quot;, nullable = false, insertable = false, updatable = false)\r\n    \tpublic DocDlvr getDocDlvr() {\r\n    \t\treturn docDlvr;\r\n    \t}\r\n    \tpublic void setDocDlvr(DocDlvr docDlvr) {\r\n    \t\tthis.docDlvr = docDlvr;\r\n    \t}\r\n    \r\n    }    \r\n\r\nHere&#39;s the code that actually calls the save/update:\r\n\r\n    docDlvr.setDlvrStatCd(docDeliveryStatusEnum);\r\n    docDlvr.setUpdtId(publishDocVO.getUserId());\r\n    \r\n    DocDlvrActy docDlvrActy = new DocDlvrActy();\r\n    docDlvrActy.setDocDlvr(docDlvr);\r\n    docDlvrActy.setActyCd(docActyTypeEnum);\r\n    docDlvrActy.setCreaId(publishDocVO.getUserId());\r\n    docDlvrActy.setCreateTimeStamp(new Timestamp(new Date().getTime()));\r\n    docDlvr.getDocDlvrActy().add(docDlvrActy);\r\n    \r\n    returnedMailBO.updateDocDlvr(docDlvr);\r\n\r\nThe returnedMailBO is just a service layer. It goes thru that and another one before hitting the final one that calls the repo and saves it:\r\n\r\n    Timestamp now = new Timestamp((new java.util.Date()).getTime());\r\n    docDlvr.setUpdtTimeStamp(now);\r\n    \r\n    docDlvrRepository.save(docDlvr);\r\n\r\nYes, I&#39;m setting the reference back to the parent DocDlvr object in the new DocDlvrActy child object. Have done some searching here, and looks like it has something to do with a detached child from the persistence context?\r\n\r\nI haven&#39;t added any explicit annotations or configuration for Transactions, so whatever is default is being used.  \r\nThis is during a batch process, so maybe there should be some saves, flushes, etc. It&#39;s been awhile since I&#39;ve gotten this much into Spring Data Jpa.\r\n\r\nWe are using Java 8, Spring 5.3.29, Spring Boot 2.7.16. I&#39;m just trying to using basic Spring Boot to wire up the context, even though it&#39;s a simple batch job. Yes, have looked into Spring Batch a bit, am not using it. ","title":"Why is Spring JPA merging and copying a new child object during a parent update, and then setting the child properties to null?","body":"<p>I upgrading an old batch app to Spring 5 from Spring 2 or 3. There is a parent-child object relationship where the parent and one child have been retrieved from the database, a new child has been added, and when the parent is saved with a repository.save(), it's throwing this error:</p>\n<pre><code>not-null property references a null or transient value\n</code></pre>\n<p>I've debugged it, and it seems that a merge is happening in the stack trace on the save(), and in that process, the new child is being deleted or copied and a new one with all null properties is added back to the collection, which is causing the error.</p>\n<p>What is causing this merge and copy?</p>\n<p>Here are the relevant bits of the related entities:</p>\n<pre><code>@Entity\n@Table(name=&quot;DOC_DLVR&quot;)\n@Inheritance(strategy=InheritanceType.SINGLE_TABLE)\n@DiscriminatorColumn(\n    name=&quot;DOC_DLVR_CHNL_CD&quot;,\n    discriminatorType=DiscriminatorType.STRING\n)\nabstract public class  DocDlvr {\n...\n    private Set&lt;DocDlvrActy&gt; docDlvrActy = new HashSet&lt;DocDlvrActy&gt;();\n\n    @OneToMany(fetch=FetchType.EAGER)\n    @JoinColumn(name=&quot;DOC_DLVR_ID&quot;, nullable=false)\n    @Cascade({CascadeType.PERSIST})\n    public Set&lt;DocDlvrActy&gt; getDocDlvrActy() {\n        return docDlvrActy;\n    }\n}\n\n\n@Entity \n@Table(name = &quot;DOC_DLVR_ACTY&quot;)\npublic class DocDlvrActy {\n....\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;DOC_DLVR_ACTY_ID&quot;, unique = true, nullable = false)\n    public Integer getDocDlvrActyId() {\n        return docDlvrActyId;\n    }\n\n    @ManyToOne(fetch = FetchType.EAGER)\n    @JoinColumn(name = &quot;DOC_DLVR_ID&quot;, nullable = false, insertable = false, updatable = false)\n    public DocDlvr getDocDlvr() {\n        return docDlvr;\n    }\n    public void setDocDlvr(DocDlvr docDlvr) {\n        this.docDlvr = docDlvr;\n    }\n\n}    \n</code></pre>\n<p>Here's the code that actually calls the save/update:</p>\n<pre><code>docDlvr.setDlvrStatCd(docDeliveryStatusEnum);\ndocDlvr.setUpdtId(publishDocVO.getUserId());\n\nDocDlvrActy docDlvrActy = new DocDlvrActy();\ndocDlvrActy.setDocDlvr(docDlvr);\ndocDlvrActy.setActyCd(docActyTypeEnum);\ndocDlvrActy.setCreaId(publishDocVO.getUserId());\ndocDlvrActy.setCreateTimeStamp(new Timestamp(new Date().getTime()));\ndocDlvr.getDocDlvrActy().add(docDlvrActy);\n\nreturnedMailBO.updateDocDlvr(docDlvr);\n</code></pre>\n<p>The returnedMailBO is just a service layer. It goes thru that and another one before hitting the final one that calls the repo and saves it:</p>\n<pre><code>Timestamp now = new Timestamp((new java.util.Date()).getTime());\ndocDlvr.setUpdtTimeStamp(now);\n\ndocDlvrRepository.save(docDlvr);\n</code></pre>\n<p>Yes, I'm setting the reference back to the parent DocDlvr object in the new DocDlvrActy child object. Have done some searching here, and looks like it has something to do with a detached child from the persistence context?</p>\n<p>I haven't added any explicit annotations or configuration for Transactions, so whatever is default is being used.<br />\nThis is during a batch process, so maybe there should be some saves, flushes, etc. It's been awhile since I've gotten this much into Spring Data Jpa.</p>\n<p>We are using Java 8, Spring 5.3.29, Spring Boot 2.7.16. I'm just trying to using basic Spring Boot to wire up the context, even though it's a simple batch job. Yes, have looked into Spring Batch a bit, am not using it.</p>\n"},{"tags":["java","maven","intellij-idea"],"comments":[{"owner":{"account_id":23387,"reputation":12468,"user_id":58549,"accept_rate":62,"display_name":"Zac Thompson"},"score":2,"creation_date":1397683520,"post_id":11632120,"comment_id":35345840,"body_markdown":"possible duplicate of [IntelliJ inspection gives &quot;Cannot resolve symbol&quot; but still compiles code](http://stackoverflow.com/questions/5905896/intellij-inspection-gives-cannot-resolve-symbol-but-still-compiles-code)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/5905896/intellij-inspection-gives-cannot-resolve-symbol-but-still-compiles-code\">IntelliJ inspection gives &quot;Cannot resolve symbol&quot; but still compiles code</a>"},{"owner":{"account_id":1352612,"reputation":4119,"user_id":1357094,"accept_rate":85,"display_name":"cellepo"},"score":0,"creation_date":1653002487,"post_id":11632120,"comment_id":127750958,"body_markdown":"@ZacThompson I think you are mostly correct - I would say this Question has the slight difference, of specifying prior-successful `mvn clean install`","body":"@ZacThompson I think you are mostly correct - I would say this Question has the slight difference, of specifying prior-successful <code>mvn clean install</code>"}],"answers":[{"tags":[],"owner":{"account_id":214147,"reputation":5246,"user_id":467944,"accept_rate":81,"display_name":"Korgen"},"down_vote_count":0,"up_vote_count":35,"is_accepted":false,"score":35,"last_activity_date":1343138459,"creation_date":1343138459,"answer_id":11632555,"question_id":11632120,"body_markdown":"IntelliJ sometime gets confused after importing maven projects and then changing poms externally or generating sources outside IntelliJ.\r\n\r\nYou might want to try a maven-&gt;force reimport from within intellij on the project root","title":"Why so red? IntelliJ seems to think every declaration/method cannot be found/resolved","body":"<p>IntelliJ sometime gets confused after importing maven projects and then changing poms externally or generating sources outside IntelliJ.</p>\n\n<p>You might want to try a maven->force reimport from within intellij on the project root</p>\n"},{"tags":[],"owner":{"account_id":54560,"reputation":4239,"user_id":163239,"display_name":"Matthew Leidholm"},"down_vote_count":0,"up_vote_count":257,"is_accepted":true,"score":257,"last_activity_date":1698941340,"creation_date":1343138858,"answer_id":11632676,"question_id":11632120,"body_markdown":"IntelliJ sometimes gets confused all by itself, even without the external changes Korgen described (though that is a good way to consistently reproduce it).\r\n\r\nBut IDEA now contains a &quot;**Repair IDE**&quot; menu item in the **File** menu that will walk you through steps to fix the issues (starting with quick and easy steps and getting progressively more disruptive as it goes on), asking if the problem is fixed after each one. The steps below should no longer be necessary to do directly, since the Repair IDE command will automatically do them only if necessary. They are preserved below for those on older versions:\r\n\r\n**Click File -&gt; Synchronize**, and IntelliJ should see that everything is okay again. \r\n\r\nIf that doesn&#39;t work, IntelliJ&#39;s caches might be corrupt (this used to happen a lot more often than it does now); in that case, regenerate them by \r\n\r\n\r\n**Clicking File -&gt; Invalidate Caches and restarting the IDE** \r\n\r\n(though loading the project will take a while while the caches are recreated).","title":"Why so red? IntelliJ seems to think every declaration/method cannot be found/resolved","body":"<p>IntelliJ sometimes gets confused all by itself, even without the external changes Korgen described (though that is a good way to consistently reproduce it).</p>\n<p>But IDEA now contains a &quot;<strong>Repair IDE</strong>&quot; menu item in the <strong>File</strong> menu that will walk you through steps to fix the issues (starting with quick and easy steps and getting progressively more disruptive as it goes on), asking if the problem is fixed after each one. The steps below should no longer be necessary to do directly, since the Repair IDE command will automatically do them only if necessary. They are preserved below for those on older versions:</p>\n<p><strong>Click File -&gt; Synchronize</strong>, and IntelliJ should see that everything is okay again.</p>\n<p>If that doesn't work, IntelliJ's caches might be corrupt (this used to happen a lot more often than it does now); in that case, regenerate them by</p>\n<p><strong>Clicking File -&gt; Invalidate Caches and restarting the IDE</strong></p>\n<p>(though loading the project will take a while while the caches are recreated).</p>\n"},{"tags":[],"owner":{"account_id":206334,"reputation":1020,"user_id":455553,"accept_rate":47,"display_name":"pastafarian"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1372290387,"creation_date":1372290387,"answer_id":17332283,"question_id":11632120,"body_markdown":"I have IntelliJ IDEA 12.x on the Mac and I use Maven 3 and I get the red highlighting over my code even though the Maven build is fine. None of the above (re-indexing, force import, etc.) worked for me. I had to do the following: \r\n\r\n    Intellij -&gt; Preferences -&gt; Maven -&gt; Importing\r\n        [ ] Use Maven3 to import projects\r\n\r\nI have to check the Maven3 import option and that fixes the issue. \r\n\r\n","title":"Why so red? IntelliJ seems to think every declaration/method cannot be found/resolved","body":"<p>I have IntelliJ IDEA 12.x on the Mac and I use Maven 3 and I get the red highlighting over my code even though the Maven build is fine. None of the above (re-indexing, force import, etc.) worked for me. I had to do the following: </p>\n\n<pre><code>Intellij -&gt; Preferences -&gt; Maven -&gt; Importing\n    [ ] Use Maven3 to import projects\n</code></pre>\n\n<p>I have to check the Maven3 import option and that fixes the issue. </p>\n"},{"tags":[],"owner":{"account_id":1484803,"reputation":166,"user_id":1393291,"display_name":"0x126"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1394621322,"creation_date":1394620531,"answer_id":22348759,"question_id":11632120,"body_markdown":"I had the same problem after changing JDK from 1.6 to 1.7 in my pom.xml and setting Maven 3 path + JDK project settings to 1.7.\r\n\r\nWhat did it for me was =&gt; File -&gt; Invalidate Caches and Restart\r\n\r\nPS: problem occured again, so i just reimported the full project after deleting the .idea folder and now it works fine as usual :)","title":"Why so red? IntelliJ seems to think every declaration/method cannot be found/resolved","body":"<p>I had the same problem after changing JDK from 1.6 to 1.7 in my pom.xml and setting Maven 3 path + JDK project settings to 1.7.</p>\n\n<p>What did it for me was => File -> Invalidate Caches and Restart</p>\n\n<p>PS: problem occured again, so i just reimported the full project after deleting the .idea folder and now it works fine as usual :)</p>\n"},{"tags":[],"owner":{"account_id":153370,"reputation":2599,"user_id":368581,"accept_rate":0,"display_name":"Peter Dietz"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1412913243,"creation_date":1412913243,"answer_id":26291666,"question_id":11632120,"body_markdown":"Check that you have a proper JVM SDK setting in IntelliJ Properties.\r\nIf invalidate-cache-and-restart isn&#39;t enough, check that your are using the proper JVM SDK, such as Java 1.7.\r\n\r\nLook in: Preferences -&gt; IDE Settings -&gt; Scala -&gt; JVM SDK\r\n\r\nOr right click your project -&gt; Open Module Settings -&gt; Project Settings -&gt; Project -&gt; Project SDK -&gt; (Set to Java 1.7)\r\n\r\nOpen Module Settings -&gt; Platform Settings -&gt; SDKs -&gt; (Ensure that there is a Java 1.7, otherwise you&#39;ll need to add it)\r\n\r\nIf you&#39;ve made a change, then it&#39;s probably best to re-run Invalidate Cache &amp; Restart.","title":"Why so red? IntelliJ seems to think every declaration/method cannot be found/resolved","body":"<p>Check that you have a proper JVM SDK setting in IntelliJ Properties.\nIf invalidate-cache-and-restart isn't enough, check that your are using the proper JVM SDK, such as Java 1.7.</p>\n\n<p>Look in: Preferences -> IDE Settings -> Scala -> JVM SDK</p>\n\n<p>Or right click your project -> Open Module Settings -> Project Settings -> Project -> Project SDK -> (Set to Java 1.7)</p>\n\n<p>Open Module Settings -> Platform Settings -> SDKs -> (Ensure that there is a Java 1.7, otherwise you'll need to add it)</p>\n\n<p>If you've made a change, then it's probably best to re-run Invalidate Cache &amp; Restart.</p>\n"},{"tags":[],"owner":{"account_id":3851954,"reputation":32862,"user_id":3191896,"accept_rate":100,"display_name":"Jossef Harush Kadouri"},"down_vote_count":0,"up_vote_count":55,"is_accepted":false,"score":55,"last_activity_date":1533540980,"creation_date":1424159510,"answer_id":28557097,"question_id":11632120,"body_markdown":"I experienced this when I updated my JDK manually and removed the previous JDK\n\n![Red keywords][1]\n\n# Solution\n\n - In the IntelliJ editor, click on the red keyword *(`Integer` for example)* and press &lt;kbd&gt;ALT&lt;/kbd&gt; + &lt;kbd&gt;ENTER&lt;/kbd&gt; (or click the light bulb icon)\n - select *Setup JDK* from the intentions menu\n\n![IntelliJ intentions menu][2]\n\n- click on `Configure`\n\n![Project SDK selection dialog][3]\n\n\n- In my case, the JDK path was incorrect (pointed on `/opt/jdk1.7.0_51` instead of `/opt/jdk1.7.0_65`)\n\n\n![Broken Configure SDK dialog][4]\n\n\n- Click on the &lt;kbd&gt;...&lt;/kbd&gt; and browse to the right JDK path \n\n![Fixed Configure SDK dialog][5]\n\n - Let&#39;s clear the cache:\n\n![IntelliJ File menu][6]\n\n**And everything should be back to life :)**\n\n![No red keywords][7]\n\n\n  [1]: http://i.stack.imgur.com/mxyna.png\n  [2]: http://i.stack.imgur.com/dnscy.png\n  [3]: http://i.stack.imgur.com/WgNeF.png\n  [4]: http://i.stack.imgur.com/32987.png\n  [5]: http://i.stack.imgur.com/4l3tL.png\n  [6]: http://i.stack.imgur.com/QPJv6.png\n  [7]: http://i.stack.imgur.com/bvMLl.png\n","title":"Why so red? IntelliJ seems to think every declaration/method cannot be found/resolved","body":"<p>I experienced this when I updated my JDK manually and removed the previous JDK</p>\n<p><img src=\"https://i.stack.imgur.com/mxyna.png\" alt=\"Red keywords\" /></p>\n<h1>Solution</h1>\n<ul>\n<li>In the IntelliJ editor, click on the red keyword <em>(<code>Integer</code> for example)</em> and press <kbd>ALT</kbd> + <kbd>ENTER</kbd> (or click the light bulb icon)</li>\n<li>select <em>Setup JDK</em> from the intentions menu</li>\n</ul>\n<p><img src=\"https://i.stack.imgur.com/dnscy.png\" alt=\"IntelliJ intentions menu\" /></p>\n<ul>\n<li>click on <code>Configure</code></li>\n</ul>\n<p><img src=\"https://i.stack.imgur.com/WgNeF.png\" alt=\"Project SDK selection dialog\" /></p>\n<ul>\n<li>In my case, the JDK path was incorrect (pointed on <code>/opt/jdk1.7.0_51</code> instead of <code>/opt/jdk1.7.0_65</code>)</li>\n</ul>\n<p><img src=\"https://i.stack.imgur.com/32987.png\" alt=\"Broken Configure SDK dialog\" /></p>\n<ul>\n<li>Click on the <kbd>...</kbd> and browse to the right JDK path</li>\n</ul>\n<p><img src=\"https://i.stack.imgur.com/4l3tL.png\" alt=\"Fixed Configure SDK dialog\" /></p>\n<ul>\n<li>Let's clear the cache:</li>\n</ul>\n<p><img src=\"https://i.stack.imgur.com/QPJv6.png\" alt=\"IntelliJ File menu\" /></p>\n<p><strong>And everything should be back to life :)</strong></p>\n<p><img src=\"https://i.stack.imgur.com/bvMLl.png\" alt=\"No red keywords\" /></p>\n"},{"tags":[],"owner":{"account_id":973103,"reputation":1596,"user_id":995199,"accept_rate":81,"display_name":"Marcin Erbel"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1465910023,"creation_date":1465910023,"answer_id":37813116,"question_id":11632120,"body_markdown":"I was trying to use all the advices above, but unfortunately no one helped me. So finally I&#39;ve decided to delete my intelij workspace and create the new one - it helped :) But earlier I was also doing cleaning the cache, reimporting maven projects, cleaning projects and rebuilding them. ","title":"Why so red? IntelliJ seems to think every declaration/method cannot be found/resolved","body":"<p>I was trying to use all the advices above, but unfortunately no one helped me. So finally I've decided to delete my intelij workspace and create the new one - it helped :) But earlier I was also doing cleaning the cache, reimporting maven projects, cleaning projects and rebuilding them. </p>\n"},{"tags":[],"owner":{"account_id":4062397,"reputation":11,"user_id":3338565,"display_name":"vphilipov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1470747665,"creation_date":1470747665,"answer_id":38851513,"question_id":11632120,"body_markdown":"I had the same problem and after trying all of the above suggestions, it turned out that my IntelliJ installation had not picked up my JAVA_HOME system variable, and it had no SDK/JDK set.\r\n\r\nI fixed it by following these instructions:\r\n[Configuring Global, Project and Module SDKs][1]\r\n\r\n\r\n  [1]: https://www.jetbrains.com/help/idea/2016.2/configuring-global-project-and-module-sdks.html","title":"Why so red? IntelliJ seems to think every declaration/method cannot be found/resolved","body":"<p>I had the same problem and after trying all of the above suggestions, it turned out that my IntelliJ installation had not picked up my JAVA_HOME system variable, and it had no SDK/JDK set.</p>\n\n<p>I fixed it by following these instructions:\n<a href=\"https://www.jetbrains.com/help/idea/2016.2/configuring-global-project-and-module-sdks.html\" rel=\"nofollow\">Configuring Global, Project and Module SDKs</a></p>\n"},{"tags":[],"owner":{"account_id":427123,"reputation":16272,"user_id":808723,"accept_rate":94,"display_name":"GameScripting"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1476870709,"creation_date":1476870709,"answer_id":40127900,"question_id":11632120,"body_markdown":"For me it was the JDK that was not set up correctly.\r\nI found a solution that I documented here: https://stackoverflow.com/a/40127871/808723","title":"Why so red? IntelliJ seems to think every declaration/method cannot be found/resolved","body":"<p>For me it was the JDK that was not set up correctly.\nI found a solution that I documented here: <a href=\"https://stackoverflow.com/a/40127871/808723\">https://stackoverflow.com/a/40127871/808723</a></p>\n"},{"tags":[],"owner":{"account_id":1125225,"reputation":1944,"user_id":1112669,"accept_rate":86,"display_name":"ecnepsnai"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1510891110,"creation_date":1506381253,"answer_id":46415495,"question_id":11632120,"body_markdown":"The issue was that the file I was trying to import was so large that IntelliJ wouldn&#39;t run any CodeInsights on it.\r\n\r\nSetting the `idea.max.intellisense.filesize` option to a higher value as per the instructions on [this answer](https://stackoverflow.com/a/23058324/1112669) resolved my issue.","title":"Why so red? IntelliJ seems to think every declaration/method cannot be found/resolved","body":"<p>The issue was that the file I was trying to import was so large that IntelliJ wouldn't run any CodeInsights on it.</p>\n\n<p>Setting the <code>idea.max.intellisense.filesize</code> option to a higher value as per the instructions on <a href=\"https://stackoverflow.com/a/23058324/1112669\">this answer</a> resolved my issue.</p>\n"},{"tags":[],"owner":{"account_id":6364239,"reputation":99,"user_id":4938682,"display_name":"NSonmez"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1510261107,"creation_date":1510261107,"answer_id":47211418,"question_id":11632120,"body_markdown":"Yet another work around!One of the solutions, which suggested clicking ``` Alt``` ```Enter``` didn&#39;t have the Setup JDK for me, but ```Add ... to classpath```worked. ","title":"Why so red? IntelliJ seems to think every declaration/method cannot be found/resolved","body":"<p>Yet another work around!One of the solutions, which suggested clicking <code>Alt</code> <code>Enter</code> didn't have the Setup JDK for me, but <code>Add ... to classpath</code>worked. </p>\n"},{"tags":[],"owner":{"account_id":1449188,"reputation":2950,"user_id":1366673,"display_name":"Sam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1519430032,"creation_date":1519430032,"answer_id":48957838,"question_id":11632120,"body_markdown":"I had the same issue I was using JDK 1.9 with IntelliJ 14, I solved reinstalling Java with latest version of JDK 1.8(1.8.0_161 in this case)\r\n\r\nI also removed the 1.9 version from\r\n\r\nHKEY_CURRENT_USER\\Software\\JavaSoft\\JRE\\Security Baseline","title":"Why so red? IntelliJ seems to think every declaration/method cannot be found/resolved","body":"<p>I had the same issue I was using JDK 1.9 with IntelliJ 14, I solved reinstalling Java with latest version of JDK 1.8(1.8.0_161 in this case)</p>\n\n<p>I also removed the 1.9 version from</p>\n\n<p>HKEY_CURRENT_USER\\Software\\JavaSoft\\JRE\\Security Baseline</p>\n"},{"tags":[],"owner":{"account_id":6420721,"reputation":171,"user_id":4977531,"display_name":"Mohith Maratt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1520006046,"creation_date":1520006046,"answer_id":49072707,"question_id":11632120,"body_markdown":"I had the same issue, what fixed it for me was:\r\n\r\nGo to `File&gt;Setting&gt;Maven`,\r\nI set the Maven home directory, settings file and local repo.\r\n\r\nGo to Maven Projects and click on `Reimport All Maven Projects`  \r\n\r\n [![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/J1o9D.png\r\n\r\nThis did the trick!","title":"Why so red? IntelliJ seems to think every declaration/method cannot be found/resolved","body":"<p>I had the same issue, what fixed it for me was:</p>\n\n<p>Go to <code>File&gt;Setting&gt;Maven</code>,\nI set the Maven home directory, settings file and local repo.</p>\n\n<p>Go to Maven Projects and click on <code>Reimport All Maven Projects</code>  </p>\n\n<p><a href=\"https://i.stack.imgur.com/J1o9D.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/J1o9D.png\" alt=\"enter image description here\"></a></p>\n\n<p>This did the trick!</p>\n"},{"tags":[],"owner":{"account_id":11858790,"reputation":438,"user_id":8678101,"display_name":"Elio"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1531473317,"creation_date":1520337798,"answer_id":49130382,"question_id":11632120,"body_markdown":"I had the same problem.\r\n\r\nIn my case the problem was with maven `home directory` and `user settings file` in Intellij Settings under Maven. I had installed Maven not in the default directory and I had also changed the location of the `settings.xml` file. This should also be changed in the IntelliJ Settings.\r\n\r\nHope this helps also.","title":"Why so red? IntelliJ seems to think every declaration/method cannot be found/resolved","body":"<p>I had the same problem.</p>\n\n<p>In my case the problem was with maven <code>home directory</code> and <code>user settings file</code> in Intellij Settings under Maven. I had installed Maven not in the default directory and I had also changed the location of the <code>settings.xml</code> file. This should also be changed in the IntelliJ Settings.</p>\n\n<p>Hope this helps also.</p>\n"},{"tags":[],"owner":{"account_id":7038257,"reputation":477,"user_id":5391501,"display_name":"Blair Houghton"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1523223042,"creation_date":1523223042,"answer_id":49722965,"question_id":11632120,"body_markdown":"I had this problem on a fresh install of IDEA. I thought it had brought its own JDK or would be able to find the one already on the machine, but apparently not (not sure what the checkbox in the install dialog did, now). When I clicked on the lightbulb and clicked the &quot;Setup JDK&quot; button and then clicked &quot;Configure,&quot; it revealed that it was trying to get the JDK from\r\n\r\n`C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2018.1\\jre64`\r\n\r\nI browsed around, trying a few folders in the JetBrains tree, but at least the dialog was smart enough not to let me apply any (including the original), saying they were not valid locations for a JDK. So I browsed over to the Java tree and tried that, and it accepted this:\r\n\r\n`C:\\Program Files\\Java\\jdk1.8.0_40`\r\n\r\nAfter I OK&#39;ed the config, it didn&#39;t appear to have worked; so I went to try invalidating the IDEA cache and restarting (as described in other answers), and it told me that I had background tasks running. So I canceled out of the invalidation, and while I was doing that, whatever recompilation or database updating it was doing completed, and all the red in the edit window went away. So it takes a few seconds (at least) for the JDK config to settle out.","title":"Why so red? IntelliJ seems to think every declaration/method cannot be found/resolved","body":"<p>I had this problem on a fresh install of IDEA. I thought it had brought its own JDK or would be able to find the one already on the machine, but apparently not (not sure what the checkbox in the install dialog did, now). When I clicked on the lightbulb and clicked the \"Setup JDK\" button and then clicked \"Configure,\" it revealed that it was trying to get the JDK from</p>\n\n<p><code>C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2018.1\\jre64</code></p>\n\n<p>I browsed around, trying a few folders in the JetBrains tree, but at least the dialog was smart enough not to let me apply any (including the original), saying they were not valid locations for a JDK. So I browsed over to the Java tree and tried that, and it accepted this:</p>\n\n<p><code>C:\\Program Files\\Java\\jdk1.8.0_40</code></p>\n\n<p>After I OK'ed the config, it didn't appear to have worked; so I went to try invalidating the IDEA cache and restarting (as described in other answers), and it told me that I had background tasks running. So I canceled out of the invalidation, and while I was doing that, whatever recompilation or database updating it was doing completed, and all the red in the edit window went away. So it takes a few seconds (at least) for the JDK config to settle out.</p>\n"},{"tags":[],"owner":{"account_id":6929485,"reputation":13,"user_id":5319408,"display_name":"Sudeep"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1523397977,"creation_date":1523397977,"answer_id":49763542,"question_id":11632120,"body_markdown":"Try to delete the .IntelliJIdea15(depends on version) from C:\\Users\\Username\r\n\r\nWhen you start IntelliJ it will create the folder again. ","title":"Why so red? IntelliJ seems to think every declaration/method cannot be found/resolved","body":"<p>Try to delete the .IntelliJIdea15(depends on version) from C:\\Users\\Username</p>\n\n<p>When you start IntelliJ it will create the folder again. </p>\n"},{"tags":[],"owner":{"account_id":1244630,"reputation":2365,"user_id":1206344,"accept_rate":83,"display_name":"mnhmilu"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1527666619,"creation_date":1527587187,"answer_id":50581241,"question_id":11632120,"body_markdown":"My problem solved by changing jdk to **default** , like this.\r\nOpen Jdk was installed but don&#39;t know why intellij set configuration to  **java-8-openjdk-amd64**. This was the problem.I have changed to default-java and no more red error. \r\n\r\n\r\n\r\n [![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Qs4iO.png","title":"Why so red? IntelliJ seems to think every declaration/method cannot be found/resolved","body":"<p>My problem solved by changing jdk to <strong>default</strong> , like this.\nOpen Jdk was installed but don't know why intellij set configuration to  <strong>java-8-openjdk-amd64</strong>. This was the problem.I have changed to default-java and no more red error. </p>\n\n<p><a href=\"https://i.stack.imgur.com/Qs4iO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Qs4iO.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":6300508,"reputation":431,"user_id":4895346,"accept_rate":29,"display_name":"Arthas"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1531850387,"creation_date":1531850387,"answer_id":51387696,"question_id":11632120,"body_markdown":"This is if you see Java classes in red and get this error, ***&quot;Cannot resolve symbol&quot;***.\r\n\r\nIf you&#39;re importing projects into IntelliJ and none of the above solutions worked for you then give this a try. This is what worked for me when everything else failed.\r\n\r\nGo to to your project folder and rename/delete the **.idea** folder which has the idea settings for your project. This would have been created from your old IntelliJ version.\r\nOnce you have renamed/deleted the ***.idea*** folder, import your project into IntelliJ. You should not see any errors for your Java classes now. Hope this helped.","title":"Why so red? IntelliJ seems to think every declaration/method cannot be found/resolved","body":"<p>This is if you see Java classes in red and get this error, <strong><em>\"Cannot resolve symbol\"</em></strong>.</p>\n\n<p>If you're importing projects into IntelliJ and none of the above solutions worked for you then give this a try. This is what worked for me when everything else failed.</p>\n\n<p>Go to to your project folder and rename/delete the <strong>.idea</strong> folder which has the idea settings for your project. This would have been created from your old IntelliJ version.\nOnce you have renamed/deleted the <strong><em>.idea</em></strong> folder, import your project into IntelliJ. You should not see any errors for your Java classes now. Hope this helped.</p>\n"},{"tags":[],"owner":{"account_id":7034336,"reputation":353,"user_id":5388977,"display_name":"Parantap Sharma"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1533540678,"creation_date":1533540678,"answer_id":51702585,"question_id":11632120,"body_markdown":"In my case, getter and setter dependencies were coming through lombok plugin (Using java with Spring). And in the new installation of intellij idea, I had not installed the lombok plugin. Installing the lombok plugin fixed it for me.","title":"Why so red? IntelliJ seems to think every declaration/method cannot be found/resolved","body":"<p>In my case, getter and setter dependencies were coming through lombok plugin (Using java with Spring). And in the new installation of intellij idea, I had not installed the lombok plugin. Installing the lombok plugin fixed it for me.</p>\n"},{"tags":[],"owner":{"account_id":5147279,"reputation":3527,"user_id":4122891,"accept_rate":41,"display_name":"Suren Konathala"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1535742528,"creation_date":1535742528,"answer_id":52121457,"question_id":11632120,"body_markdown":"Yet another solution on IntelliJ Ultimate 2018.2\r\n\r\n - Hover over the import marked red\r\n - Select dropdown arrow on the popup that appears on left (below)\r\n - Choose &quot;Add library ... to classpath&quot;\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/TdRgC.png","title":"Why so red? IntelliJ seems to think every declaration/method cannot be found/resolved","body":"<p>Yet another solution on IntelliJ Ultimate 2018.2</p>\n\n<ul>\n<li>Hover over the import marked red</li>\n<li>Select dropdown arrow on the popup that appears on left (below)</li>\n<li>Choose \"Add library ... to classpath\"</li>\n</ul>\n\n<p><a href=\"https://i.stack.imgur.com/TdRgC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TdRgC.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":3994644,"reputation":1293,"user_id":3292527,"accept_rate":100,"display_name":"27P"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1549886529,"creation_date":1549886529,"answer_id":54630188,"question_id":11632120,"body_markdown":"Resolved by simply &quot;Refresh All Gradle Projects&quot;","title":"Why so red? IntelliJ seems to think every declaration/method cannot be found/resolved","body":"<p>Resolved by simply \"Refresh All Gradle Projects\"</p>\n"},{"tags":[],"owner":{"account_id":13303285,"reputation":2067,"user_id":9604055,"display_name":"SovietFrontier"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1565383414,"creation_date":1565383414,"answer_id":57436902,"question_id":11632120,"body_markdown":"I could not get any of these solutions to work for me. I had to manually go to every method/class that I got the error on and import it manually. After that everything was fine.","title":"Why so red? IntelliJ seems to think every declaration/method cannot be found/resolved","body":"<p>I could not get any of these solutions to work for me. I had to manually go to every method/class that I got the error on and import it manually. After that everything was fine.</p>\n"},{"tags":[],"owner":{"account_id":3980664,"reputation":320,"user_id":3282630,"accept_rate":80,"display_name":"Shepherd"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1568995413,"creation_date":1568989415,"answer_id":58030222,"question_id":11632120,"body_markdown":"If you&#39;re still getting this error, even after you&#39;ve tried all the other suggestions on this question, you have checked all your JDK, Maven settings, invalidated cache, synchronized your workspace and restarted, but things still aren&#39;t working for you, then go to your project directory and delete the entire `.idea` folder. Restart your IntelliJ; all the files under `.idea` will be created freshly which reflects the current situation. \r\n\r\nAt least, this worked for me.","title":"Why so red? IntelliJ seems to think every declaration/method cannot be found/resolved","body":"<p>If you're still getting this error, even after you've tried all the other suggestions on this question, you have checked all your JDK, Maven settings, invalidated cache, synchronized your workspace and restarted, but things still aren't working for you, then go to your project directory and delete the entire <code>.idea</code> folder. Restart your IntelliJ; all the files under <code>.idea</code> will be created freshly which reflects the current situation. </p>\n\n<p>At least, this worked for me.</p>\n"},{"tags":[],"owner":{"account_id":1377580,"reputation":9268,"user_id":1311272,"accept_rate":41,"display_name":"Sajjon"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1590740536,"creation_date":1590740536,"answer_id":62081651,"question_id":11632120,"body_markdown":"Using IntelliJ 2019.3 and a Gradle project dependent on my own Gradle project, the only thing that fixed it for me was `Reimport All Gradle Projects` under `View -&gt; Tool Windows -&gt; Gradle` (and refresh button). \r\n\r\nBefore that I tried restarting IDE, I tried &quot;Invalidate Caches and Restart&quot;, I tried Rebuild project, neither helped.","title":"Why so red? IntelliJ seems to think every declaration/method cannot be found/resolved","body":"<p>Using IntelliJ 2019.3 and a Gradle project dependent on my own Gradle project, the only thing that fixed it for me was <code>Reimport All Gradle Projects</code> under <code>View -&gt; Tool Windows -&gt; Gradle</code> (and refresh button). </p>\n\n<p>Before that I tried restarting IDE, I tried \"Invalidate Caches and Restart\", I tried Rebuild project, neither helped.</p>\n"},{"tags":[],"owner":{"account_id":4497487,"reputation":85,"user_id":3656940,"display_name":"Vishal T"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1594726606,"creation_date":1594726606,"answer_id":62894277,"question_id":11632120,"body_markdown":"I face the same issue when upgraded Intellij version. It was resolved for me by using old maven than the one bundled with the new Intellij.","title":"Why so red? IntelliJ seems to think every declaration/method cannot be found/resolved","body":"<p>I face the same issue when upgraded Intellij version. It was resolved for me by using old maven than the one bundled with the new Intellij.</p>\n"},{"tags":[],"owner":{"account_id":146482,"reputation":111,"user_id":356957,"display_name":"Ross Mills"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1594945351,"creation_date":1594945351,"answer_id":62945331,"question_id":11632120,"body_markdown":"I spent most of a day trying all the solutions here, but nothing seemed to work.  The only thing that worked for me was to completely uninstall IntelliJ and install it again.  However, for me, when I deleted IntelliJ from the Application folder, the problem returned as soon as I re-installed it.  What I finally had to do was to use App Cleaner to completely remove IntelliJ and all the config and settings files.  After I did that and then reinstalled IntelliJ, the problem finally went away.  See [How to uninstall IntelliJ on a Mac][1]\r\n\r\n\r\n  [1]: https://nektony.com/how-to/uninstall-intellij-on-mac#uninstall_intelliJ_using_appcleaner","title":"Why so red? IntelliJ seems to think every declaration/method cannot be found/resolved","body":"<p>I spent most of a day trying all the solutions here, but nothing seemed to work.  The only thing that worked for me was to completely uninstall IntelliJ and install it again.  However, for me, when I deleted IntelliJ from the Application folder, the problem returned as soon as I re-installed it.  What I finally had to do was to use App Cleaner to completely remove IntelliJ and all the config and settings files.  After I did that and then reinstalled IntelliJ, the problem finally went away.  See <a href=\"https://nektony.com/how-to/uninstall-intellij-on-mac#uninstall_intelliJ_using_appcleaner\" rel=\"nofollow noreferrer\">How to uninstall IntelliJ on a Mac</a></p>\n"},{"tags":[],"owner":{"account_id":1750585,"reputation":149,"user_id":1599755,"accept_rate":70,"display_name":"user1599755"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1595644935,"creation_date":1595644935,"answer_id":63083769,"question_id":11632120,"body_markdown":"For 2020.1.4 Ultimate edition, I had to do the following\r\n\r\n ```View -&gt; Maven -&gt; Generate Sources and Update Folders For all Projects```\r\n\r\nThe issue for me was the libraries were not getting populated with ```mvn -U clean install``` from the terminal.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/TFOcP.jpg","title":"Why so red? IntelliJ seems to think every declaration/method cannot be found/resolved","body":"<p>For 2020.1.4 Ultimate edition, I had to do the following</p>\n<p><code>View -&gt; Maven -&gt; Generate Sources and Update Folders For all Projects</code></p>\n<p>The issue for me was the libraries were not getting populated with <code>mvn -U clean install</code> from the terminal.</p>\n<p><a href=\"https://i.stack.imgur.com/TFOcP.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TFOcP.jpg\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":6867511,"reputation":345,"user_id":5279345,"display_name":"Katia Savina"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1596099736,"creation_date":1596099736,"answer_id":63169769,"question_id":11632120,"body_markdown":"Tried invalidating cache, reimporting the project, switching to built-in Maven, removing the .m2 folder and its parts, - nothing worked. \r\nAfter I had completely broken Maven (while it had built the project successfully before, now it couldn&#39;t anymore), I had to reinstall it from scratch. \r\nIt helped!","title":"Why so red? IntelliJ seems to think every declaration/method cannot be found/resolved","body":"<p>Tried invalidating cache, reimporting the project, switching to built-in Maven, removing the .m2 folder and its parts, - nothing worked.\nAfter I had completely broken Maven (while it had built the project successfully before, now it couldn't anymore), I had to reinstall it from scratch.\nIt helped!</p>\n"},{"tags":[],"owner":{"account_id":13619075,"reputation":29,"user_id":9824178,"display_name":"Rinkesh Mehar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1619169535,"creation_date":1619169535,"answer_id":67227263,"question_id":11632120,"body_markdown":"If all the answers do not work try to update **Lombok dependency** and install the **Lombok plugin** in Intellij.\r\n\r\nFor install/update Lombok plugin\r\n\r\n - Press Alt + Ctrl + S\r\n - Plugins\r\n - Search Lombok install/update\r\n - File (Top Left)\r\n - Invalidate Caches..\r\n - Invalidate and restart","title":"Why so red? IntelliJ seems to think every declaration/method cannot be found/resolved","body":"<p>If all the answers do not work try to update <strong>Lombok dependency</strong> and install the <strong>Lombok plugin</strong> in Intellij.</p>\n<p>For install/update Lombok plugin</p>\n<ul>\n<li>Press Alt + Ctrl + S</li>\n<li>Plugins</li>\n<li>Search Lombok install/update</li>\n<li>File (Top Left)</li>\n<li>Invalidate Caches..</li>\n<li>Invalidate and restart</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":8964761,"reputation":2289,"user_id":6685903,"display_name":"Ritu Gupta"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1620460033,"creation_date":1620460033,"answer_id":67445237,"question_id":11632120,"body_markdown":"`There can be various reasons. you can apply following solution in order. Follow next solution if before one doesn&#39;t work.\r\n`\r\n```\r\n1. Check the If project is using proper version of JDK (File -&gt; Project Structure -&gt; Project -&gt; Project sdk )\r\n2. Invalidate cache -&gt; (File -&gt; Invalidate cache)\r\n3. Delete .idea folder and Invalidate cache. (present in project directory)\r\n4. Delete .idea &amp; *.iml file and Invalidate cache. (present in project directory)\r\n\r\n\r\n","title":"Why so red? IntelliJ seems to think every declaration/method cannot be found/resolved","body":"<p><code>There can be various reasons. you can apply following solution in order. Follow next solution if before one doesn't work. </code></p>\n<pre><code>1. Check the If project is using proper version of JDK (File -&gt; Project Structure -&gt; Project -&gt; Project sdk )\n2. Invalidate cache -&gt; (File -&gt; Invalidate cache)\n3. Delete .idea folder and Invalidate cache. (present in project directory)\n4. Delete .idea &amp; *.iml file and Invalidate cache. (present in project directory)\n\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20460709,"reputation":124,"user_id":15013406,"display_name":"user15013406"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1627970254,"creation_date":1627970254,"answer_id":68631016,"question_id":11632120,"body_markdown":"I had to first remove the .idea folder and then restart IntelliJ using the invalidate caches method. Only invalidate caches was not enough","title":"Why so red? IntelliJ seems to think every declaration/method cannot be found/resolved","body":"<p>I had to first remove the .idea folder and then restart IntelliJ using the invalidate caches method. Only invalidate caches was not enough</p>\n"},{"tags":[],"owner":{"account_id":15396038,"reputation":161,"user_id":11107128,"display_name":"syydi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1628684835,"creation_date":1628684509,"answer_id":68741933,"question_id":11632120,"body_markdown":"None of the answers here helped me, but I did manage to solve it.    \r\nMy project structure looks like this:    \r\n\r\n    -- myprojectname\r\n        -- .idea\r\n        -- backend\r\n        -- frontend\r\nIn my backend folder, every java file came up red. I had to mark the backend folder as a Module (folder with a blue square [![enter image description here][1]][1]). Follow these steps:\r\n\r\n - Go to File -&gt; Project Structure -&gt; Project Settings -&gt; Modules\r\n - Select Add [![enter image description here][2]][2] -&gt; Import Module\r\n - Find and select your pom.xml or build.gradle file -&gt; OK\r\n - Select the new module and mark src/main/java directory as &#39;Sources&#39; and src/main/resources/ as &#39;Resources&#39;. Do similarly with the test folder, mark them as &#39;Tests&#39; and &#39;Test Resources&#39;.\r\n - Select Apply -&gt; OK\r\n\r\n    \r\nIf you get a notification &#39;Safe mode, limited functionality&#39;, on the notification select &#39;Trust project...&#39;. After a couple of seconds everything should be ok.\r\n\r\n  [1]: https://i.stack.imgur.com/wySjC.png\r\n  [2]: https://i.stack.imgur.com/0cy6t.png","title":"Why so red? IntelliJ seems to think every declaration/method cannot be found/resolved","body":"<p>None of the answers here helped me, but I did manage to solve it.<br />\nMy project structure looks like this:</p>\n<pre><code>-- myprojectname\n    -- .idea\n    -- backend\n    -- frontend\n</code></pre>\n<p>In my backend folder, every java file came up red. I had to mark the backend folder as a Module (folder with a blue square <a href=\"https://i.stack.imgur.com/wySjC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wySjC.png\" alt=\"enter image description here\" /></a>). Follow these steps:</p>\n<ul>\n<li>Go to File -&gt; Project Structure -&gt; Project Settings -&gt; Modules</li>\n<li>Select Add <a href=\"https://i.stack.imgur.com/0cy6t.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0cy6t.png\" alt=\"enter image description here\" /></a> -&gt; Import Module</li>\n<li>Find and select your pom.xml or build.gradle file -&gt; OK</li>\n<li>Select the new module and mark src/main/java directory as 'Sources' and src/main/resources/ as 'Resources'. Do similarly with the test folder, mark them as 'Tests' and 'Test Resources'.</li>\n<li>Select Apply -&gt; OK</li>\n</ul>\n<p>If you get a notification 'Safe mode, limited functionality', on the notification select 'Trust project...'. After a couple of seconds everything should be ok.</p>\n"},{"tags":[],"owner":{"account_id":12704222,"reputation":21,"user_id":9230036,"display_name":"GAGAN GOWDA"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1629099879,"creation_date":1629099879,"answer_id":68799095,"question_id":11632120,"body_markdown":"I faced this issue when Intellij updated from 2021.1 to 2021.2. In my case, none of the solutions worked. I&#39;m using ant as the build tool. Try invalidate cache/restart if that did not solve the problem follow this method. File-&gt;Project Structure-&gt; Modules. Under the Dependencies tab re-arrange the dependencies depending on your project and apply the changes.\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/yMXmW.png","title":"Why so red? IntelliJ seems to think every declaration/method cannot be found/resolved","body":"<p>I faced this issue when Intellij updated from 2021.1 to 2021.2. In my case, none of the solutions worked. I'm using ant as the build tool. Try invalidate cache/restart if that did not solve the problem follow this method. File-&gt;Project Structure-&gt; Modules. Under the Dependencies tab re-arrange the dependencies depending on your project and apply the changes.\n<a href=\"https://i.stack.imgur.com/yMXmW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yMXmW.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":1352612,"reputation":4119,"user_id":1357094,"accept_rate":85,"display_name":"cellepo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652998634,"creation_date":1652998634,"answer_id":72311633,"question_id":11632120,"body_markdown":"I wonder if this may sometimes be caused by initially **&quot;importing&quot; with** `File &gt; Open...` **instead of** `File &gt; New &gt; &lt;any Project option from here&gt;`, on the project (that otherwise ends up with red project references).\r\n\r\nWhen choosing the `New` route, I usually already have the projected cloned/checked-out from Version Control to my local (with the IntelliJ) already, so I then in that case choose `Project from Existing Sources...`\r\n\r\n[![enter image description here][1]][1]\r\n\r\nSubsequently, IntelliJ gives the option to `Import project from external model`, in which there is a `Maven` option - I wonder if choosing that decreases the chance that the project references end up in red (to maybe give Maven more of a chance to &quot;understand&quot; the project in the IDE to begin with) - I will try to experiment with this and report back here...\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/kAOiF.png\r\n  [2]: https://i.stack.imgur.com/7I4SJ.png","title":"Why so red? IntelliJ seems to think every declaration/method cannot be found/resolved","body":"<p>I wonder if this may sometimes be caused by initially <strong>&quot;importing&quot; with</strong> <code>File &gt; Open...</code> <strong>instead of</strong> <code>File &gt; New &gt; &lt;any Project option from here&gt;</code>, on the project (that otherwise ends up with red project references).</p>\n<p>When choosing the <code>New</code> route, I usually already have the projected cloned/checked-out from Version Control to my local (with the IntelliJ) already, so I then in that case choose <code>Project from Existing Sources...</code></p>\n<p><a href=\"https://i.stack.imgur.com/kAOiF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kAOiF.png\" alt=\"enter image description here\" /></a></p>\n<p>Subsequently, IntelliJ gives the option to <code>Import project from external model</code>, in which there is a <code>Maven</code> option - I wonder if choosing that decreases the chance that the project references end up in red (to maybe give Maven more of a chance to &quot;understand&quot; the project in the IDE to begin with) - I will try to experiment with this and report back here...</p>\n<p><a href=\"https://i.stack.imgur.com/7I4SJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7I4SJ.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":1352612,"reputation":4119,"user_id":1357094,"accept_rate":85,"display_name":"cellepo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654545245,"creation_date":1653000933,"answer_id":72311891,"question_id":11632120,"body_markdown":"[After ensuring to first `mvn clean install` (as stated in Question) ...]\r\n\r\n*(I&#39;d say try this as the [in-between] second solution in [Ritu Gupta&#39;s nice solution attempt-order Answer][1])*\r\n\r\n*I&#39;m not sure if it is one or both of the further-below [1, 2] that sometimes help me...\r\nBoth of these are IntelliJ-Maven options, which can be reached from either [A, B]:*\r\n\r\n**A]** `View -&gt; Tool Windows -&gt; Project -&gt; right-click on any of {project root, OR pom.xml, OR within pom.xml itself} -&gt; Maven`\r\n\r\n[![enter image description here][2]][2]\r\n\r\n[![enter image description here][3]][3]\r\n\r\n**B]** `View -&gt; Tool Windows -&gt; Maven`\r\n\r\n[![enter image description here][4]][4]\r\n\r\n[![enter image description here][5]][5]\r\n\r\n----------\r\n\r\n**1]**\r\n\r\n*(if using A]^)* `Reload Project`\r\n\r\n([possibly](https://stackoverflow.com/questions/11632120/why-so-red-intellij-seems-to-think-every-declaration-method-cannot-be-found-res?page=1&amp;tab=scoredesc#comment127750146_11632555) the new name of the option in Korgen&#39;s Answer)\r\n\r\n[![enter image description here][6]][6]\r\n\r\n*(if using B]^)* `Reload All Maven Projects`\r\n\r\n[![enter image description here][7]][7]\r\n\r\nThis is also reachable with IntelliJ `Shift + Shift` shortcut:\r\n\r\n[![enter image description here][8]][8]\r\n\r\n----------\r\n\r\n**2]** `Generate Sources And Update Folders For All Projects`\r\n\r\n(essentially [user1599755&#39;s Answer](https://stackoverflow.com/a/63083769/1357094))\r\n\r\n*(if using A]^)*\r\n\r\n[![enter image description here][9]][9]\r\n\r\n*(if using B]^)*\r\n\r\n[![enter image description here][10]][10]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/67445237/1357094\r\n  [2]: https://i.stack.imgur.com/CW2R3.png\r\n  [3]: https://i.stack.imgur.com/5U0I2.png\r\n  [4]: https://i.stack.imgur.com/JIQsq.png\r\n  [5]: https://i.stack.imgur.com/TgK2z.png\r\n  [6]: https://i.stack.imgur.com/txI0W.png\r\n  [7]: https://i.stack.imgur.com/ASO21.png\r\n  [8]: https://i.stack.imgur.com/9gnZj.png\r\n  [9]: https://i.stack.imgur.com/FPJ43.png\r\n  [10]: https://i.stack.imgur.com/wot3u.png","title":"Why so red? IntelliJ seems to think every declaration/method cannot be found/resolved","body":"<p>[After ensuring to first <code>mvn clean install</code> (as stated in Question) ...]</p>\n<p><em>(I'd say try this as the [in-between] second solution in <a href=\"https://stackoverflow.com/a/67445237/1357094\">Ritu Gupta's nice solution attempt-order Answer</a>)</em></p>\n<p><em>I'm not sure if it is one or both of the further-below [1, 2] that sometimes help me...\nBoth of these are IntelliJ-Maven options, which can be reached from either [A, B]:</em></p>\n<p><strong>A]</strong> <code>View -&gt; Tool Windows -&gt; Project -&gt; right-click on any of {project root, OR pom.xml, OR within pom.xml itself} -&gt; Maven</code></p>\n<p><a href=\"https://i.stack.imgur.com/CW2R3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CW2R3.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/5U0I2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5U0I2.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>B]</strong> <code>View -&gt; Tool Windows -&gt; Maven</code></p>\n<p><a href=\"https://i.stack.imgur.com/JIQsq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JIQsq.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/TgK2z.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TgK2z.png\" alt=\"enter image description here\" /></a></p>\n<hr />\n<p><strong>1]</strong></p>\n<p><em>(if using A]^)</em> <code>Reload Project</code></p>\n<p>(<a href=\"https://stackoverflow.com/questions/11632120/why-so-red-intellij-seems-to-think-every-declaration-method-cannot-be-found-res?page=1&amp;tab=scoredesc#comment127750146_11632555\">possibly</a> the new name of the option in Korgen's Answer)</p>\n<p><a href=\"https://i.stack.imgur.com/txI0W.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/txI0W.png\" alt=\"enter image description here\" /></a></p>\n<p><em>(if using B]^)</em> <code>Reload All Maven Projects</code></p>\n<p><a href=\"https://i.stack.imgur.com/ASO21.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ASO21.png\" alt=\"enter image description here\" /></a></p>\n<p>This is also reachable with IntelliJ <code>Shift + Shift</code> shortcut:</p>\n<p><a href=\"https://i.stack.imgur.com/9gnZj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9gnZj.png\" alt=\"enter image description here\" /></a></p>\n<hr />\n<p><strong>2]</strong> <code>Generate Sources And Update Folders For All Projects</code></p>\n<p>(essentially <a href=\"https://stackoverflow.com/a/63083769/1357094\">user1599755's Answer</a>)</p>\n<p><em>(if using A]^)</em></p>\n<p><a href=\"https://i.stack.imgur.com/FPJ43.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FPJ43.png\" alt=\"enter image description here\" /></a></p>\n<p><em>(if using B]^)</em></p>\n<p><a href=\"https://i.stack.imgur.com/wot3u.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wot3u.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":423105,"reputation":17225,"user_id":802281,"accept_rate":90,"display_name":"iCodeLikeImDrunk"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":188337,"favorite_count":0,"down_vote_count":0,"up_vote_count":165,"accepted_answer_id":11632676,"answer_count":35,"score":165,"last_activity_date":1698941340,"creation_date":1343137208,"question_id":11632120,"body_markdown":"I just installed and re-installed IntelliJ. Every Java file is coming up RED. I checked the JDK; it is at 1.6.##. The `maven clean install` build worked just fine.\r\n\r\nI&#39;m getting the usual highlighted errors. On every declaration:\r\n\r\n&gt; Cannot resolve symbol SomeEntityBean/Bean\r\n\r\nand on every method:\r\n\r\n&gt; Cannot resolve method SomeFunction()\r\n\r\nHow do I fix these false errors?","title":"Why so red? IntelliJ seems to think every declaration/method cannot be found/resolved","body":"<p>I just installed and re-installed IntelliJ. Every Java file is coming up RED. I checked the JDK; it is at 1.6.##. The <code>maven clean install</code> build worked just fine.</p>\n\n<p>I'm getting the usual highlighted errors. On every declaration:</p>\n\n<blockquote>\n  <p>Cannot resolve symbol SomeEntityBean/Bean</p>\n</blockquote>\n\n<p>and on every method:</p>\n\n<blockquote>\n  <p>Cannot resolve method SomeFunction()</p>\n</blockquote>\n\n<p>How do I fix these false errors?</p>\n"},{"tags":["java","ssl","https"],"comments":[{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":2,"creation_date":1476990676,"post_id":40162500,"comment_id":67594177,"body_markdown":"The `IssuerDN` is not the same as the trusted cert you showed, so it is likely an intermediate cert, and you don&#39;t have the intermediate cert in your trust store. A good server would have included intermediate certs, so if you have control of the server, fix that. Otherwise find and add the intermediate cert to your trust store.","body":"The <code>IssuerDN</code> is not the same as the trusted cert you showed, so it is likely an intermediate cert, and you don&#39;t have the intermediate cert in your trust store. A good server would have included intermediate certs, so if you have control of the server, fix that. Otherwise find and add the intermediate cert to your trust store."},{"owner":{"account_id":3894409,"reputation":3340,"user_id":3223841,"accept_rate":65,"display_name":"AbuMariam"},"score":0,"creation_date":1476991860,"post_id":40162500,"comment_id":67594824,"body_markdown":"According to this it should be enough if I have the root cert in my trust store without having to add the intermediate cert http://security.stackexchange.com/questions/83874/in-order-to-trust-the-digital-certificate-does-immediate-ca-cert-also-needs-to","body":"According to this it should be enough if I have the root cert in my trust store without having to add the intermediate cert <a href=\"http://security.stackexchange.com/questions/83874/in-order-to-trust-the-digital-certificate-does-immediate-ca-cert-also-needs-to\" title=\"in order to trust the digital certificate does immediate ca cert also needs to\">security.stackexchange.com/questions/83874/&hellip;</a>"},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":1,"creation_date":1476992221,"post_id":40162500,"comment_id":67595039,"body_markdown":"Did you read the [second answer](http://security.stackexchange.com/a/83885) in that link? Let me re-cap for you, repeating what I already said: Servers are *supposed* to include intermediate certs in their handshake, in which case only the root cert needs to be in your trust store. *Bad* servers don&#39;t, so your trust store will need to have those intermediate certs too, for things to work. If you have any say with the server, make it a *good*, well-behaved server. Otherwise, add intermediate cert to your trust store, so you can interact with the misbehaving server.","body":"Did you read the <a href=\"http://security.stackexchange.com/a/83885\">second answer</a> in that link? Let me re-cap for you, repeating what I already said: Servers are <i>supposed</i> to include intermediate certs in their handshake, in which case only the root cert needs to be in your trust store. <i>Bad</i> servers don&#39;t, so your trust store will need to have those intermediate certs too, for things to work. If you have any say with the server, make it a <i>good</i>, well-behaved server. Otherwise, add intermediate cert to your trust store, so you can interact with the misbehaving server."},{"owner":{"account_id":3894409,"reputation":3340,"user_id":3223841,"accept_rate":65,"display_name":"AbuMariam"},"score":0,"creation_date":1476993127,"post_id":40162500,"comment_id":67595561,"body_markdown":"So you are saying the server might not be including an intermediate cert and so in that case I need to request the people who own that server to send me an intermediate cert to add to my trust store? I guess I am not clear on is that cert missing on the server side or on my side (client&#39;s trust store)?","body":"So you are saying the server might not be including an intermediate cert and so in that case I need to request the people who own that server to send me an intermediate cert to add to my trust store? I guess I am not clear on is that cert missing on the server side or on my side (client&#39;s trust store)?"},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":1,"creation_date":1476996868,"post_id":40162500,"comment_id":67597497,"body_markdown":"In order for actual server cert to be verified, the entire cert *chain* must be available, and the root cert must be trusted. If the intermediate cert is missing, the server cert cannot be verified. As I said, a *good* server will include the intermediate cert(s) in the SSL handshake. A badly configured server will not, but you can work around that problem by installing the intermediate cert in your own trust store. It&#39;s a workaround for badly configured servers, so it&#39;d be better to get the server configured correctly, but the workaround works, so use it if server cannot be fixed.","body":"In order for actual server cert to be verified, the entire cert <i>chain</i> must be available, and the root cert must be trusted. If the intermediate cert is missing, the server cert cannot be verified. As I said, a <i>good</i> server will include the intermediate cert(s) in the SSL handshake. A badly configured server will not, but you can work around that problem by installing the intermediate cert in your own trust store. It&#39;s a workaround for badly configured servers, so it&#39;d be better to get the server configured correctly, but the workaround works, so use it if server cannot be fixed."},{"owner":{"account_id":71739,"reputation":307143,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1688515093,"post_id":40162500,"comment_id":135082893,"body_markdown":"The two certificates you listed are not the same. Different serial numbers. (Clever of Java to give you one serial number in hex and one in decimal.)","body":"The two certificates you listed are not the same. Different serial numbers. (Clever of Java to give you one serial number in hex and one in decimal.)"}],"answers":[{"tags":[],"owner":{"account_id":3894409,"reputation":3340,"user_id":3223841,"accept_rate":65,"display_name":"AbuMariam"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1477055491,"creation_date":1477055491,"answer_id":40177562,"question_id":40162500,"body_markdown":"I got around this problem by creating a Trust Manager which accepts the server&#39;s certificate and pointed my Apache HttpClient to use that Trust Manager...\r\n\r\n     private class TrustAll implements X509TrustManager\r\n    {\r\n        public void checkClientTrusted(X509Certificate[] x509Certificates, String s) throws CertificateException\r\n    {\r\n    }\r\n\r\n    public void checkServerTrusted(X509Certificate[] x509Certificates, String s) throws CertificateException\r\n    {\r\n    }\r\n\r\n    public X509Certificate[] getAcceptedIssuers()\r\n    {\r\n        return new X509Certificate[0];\r\n    }\r\n}\r\n\r\n    TrustManager[] trustArray = [new TrustAll()] as TrustManager[]\r\n    SSLContext ctx = SSLContext.getInstance(&quot;TLSv1&quot;);\r\n    ctx.init(null, trustArray, null);\r\n\r\n    // create an http client builder\r\n    HttpClientBuilder httpClientBuilder = HttpClientBuilder.create();\r\n     httpClientBuilder.setSslcontext(ctx)\r\n\r\n     httpclient = httpClientBuilder.build();","title":"Why am I getting &quot;No issuer certificate for certificate in certification path found&quot; error for a known and trusted certificate?","body":"<p>I got around this problem by creating a Trust Manager which accepts the server's certificate and pointed my Apache HttpClient to use that Trust Manager...</p>\n\n<pre><code> private class TrustAll implements X509TrustManager\n{\n    public void checkClientTrusted(X509Certificate[] x509Certificates, String s) throws CertificateException\n{\n}\n\npublic void checkServerTrusted(X509Certificate[] x509Certificates, String s) throws CertificateException\n{\n}\n\npublic X509Certificate[] getAcceptedIssuers()\n{\n    return new X509Certificate[0];\n}\n</code></pre>\n\n<p>}</p>\n\n<pre><code>TrustManager[] trustArray = [new TrustAll()] as TrustManager[]\nSSLContext ctx = SSLContext.getInstance(\"TLSv1\");\nctx.init(null, trustArray, null);\n\n// create an http client builder\nHttpClientBuilder httpClientBuilder = HttpClientBuilder.create();\n httpClientBuilder.setSslcontext(ctx)\n\n httpclient = httpClientBuilder.build();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1574545,"reputation":843,"user_id":1461376,"display_name":"prem"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1493889621,"creation_date":1493889621,"answer_id":43778814,"question_id":40162500,"body_markdown":"I was able to fix this by adding server certificate to my java client (jre&#39;s cacerts and jssecacerts).\r\n\r\nIf we add a certificate to java client this way we are asking our jre to trust this server&#39;s certificate.\r\n\r\n    echo | openssl s_client -showcerts -connect www.xyz.com:443 2&gt;&amp;1 |\r\n    sed -ne &#39;/-BEGIN CERTIFICATE-/,/-END CERTIFICATE-/p&#39; &gt; /tmp/cert.pem\r\n\r\n    #cacerts\r\n    keytool -import -alias certname -file /tmp/cert.pem -keystore\r\n    /usr/java/jdk1.8.0_45/jre/lib/security/cacerts -storepass changeit\r\n\r\n    #jssecacerts(Normally we remove this file)\r\n    keytool -import -alias certname -file /tmp/cert.pem -keystore\r\n    /usr/java/jdk1.8.0_45/jre/lib/security/jssecacerts -storepass changeit\r\n\r\nIf this piece of client code is executed via application server , please **restart your application server**.\r\n\r\nMake sure you have **openssl, keytool** in enviornment variables and change your respective JAVA_HOME location.","title":"Why am I getting &quot;No issuer certificate for certificate in certification path found&quot; error for a known and trusted certificate?","body":"<p>I was able to fix this by adding server certificate to my java client (jre's cacerts and jssecacerts).</p>\n\n<p>If we add a certificate to java client this way we are asking our jre to trust this server's certificate.</p>\n\n<pre><code>echo | openssl s_client -showcerts -connect www.xyz.com:443 2&gt;&amp;1 |\nsed -ne '/-BEGIN CERTIFICATE-/,/-END CERTIFICATE-/p' &gt; /tmp/cert.pem\n\n#cacerts\nkeytool -import -alias certname -file /tmp/cert.pem -keystore\n/usr/java/jdk1.8.0_45/jre/lib/security/cacerts -storepass changeit\n\n#jssecacerts(Normally we remove this file)\nkeytool -import -alias certname -file /tmp/cert.pem -keystore\n/usr/java/jdk1.8.0_45/jre/lib/security/jssecacerts -storepass changeit\n</code></pre>\n\n<p>If this piece of client code is executed via application server , please <strong>restart your application server</strong>.</p>\n\n<p>Make sure you have <strong>openssl, keytool</strong> in enviornment variables and change your respective JAVA_HOME location.</p>\n"}],"owner":{"account_id":3894409,"reputation":3340,"user_id":3223841,"accept_rate":65,"display_name":"AbuMariam"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17674,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1698941230,"creation_date":1476990012,"question_id":40162500,"body_markdown":"I am trying to connect to a server with a Java Http client to make a web service call. If I turn net debugging on with the below code..\r\n\r\n    System.setProperty(&quot;javax.net.debug&quot;, &quot;all&quot;);\r\n\r\nI am seeing that certificates from Entrust seem to be added as trusted certificates. Among those added were the below...\r\n\r\n     adding as trusted cert:\r\n     Subject: CN=Entrust.net Certification Authority (2048), OU=(c)    1999   Entrust.net Limited, OU=www.entrust.net/CPS_2048 incorp. by ref. (limits liab.), O=Entrust.net\r\n     Issuer:  CN=Entrust.net Certification Authority (2048), OU=(c) 1999 Entrust.net Limited, OU=www.entrust.net/CPS_2048 incorp. by ref. (limits liab.), O=Entrust.net\r\n     Algorithm: RSA; Serial number: 0x3863def8\r\n     Valid from Fri Dec 24 12:50:51 EST 1999 until Tue Jul 24 10:15:12 EDT 2029\r\n\r\nIt seems as if the server is using a cert from Entrust because I also see in the debug...\r\n\r\n    main, READ: TLSv1 Handshake, length = 2649\r\n    *** Certificate chain\r\n    chain [0] =   [0]         Version: 3\r\n         SerialNumber: 1356119177\r\n           IssuerDN: C=US,O=Entrust\\, Inc.,OU=See www.entrust.net/legal-terms,OU=(c) 2012 Entrust\\, Inc. - for authorized use only,CN=Entrust Certification Authority - L1K\r\n           Start Date: Wed Jul 15 11:50:20 EDT 2015\r\n           Final Date: Sun Jul 15 18:27:04 EDT 2018\r\n\r\n\r\n\r\nAnd yet during the handshake process I get the below exception...\r\n\r\n    ***\r\n    Caught: javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: \r\n    PKIX path building failed: java.security.cert.CertPathBuilderException: \r\n    No issuer certificate for certificate in certification path found.\r\n    main, SEND TLSv1 ALERT:  fatal, description = certificate_unknown\r\n","title":"Why am I getting &quot;No issuer certificate for certificate in certification path found&quot; error for a known and trusted certificate?","body":"<p>I am trying to connect to a server with a Java Http client to make a web service call. If I turn net debugging on with the below code..</p>\n\n<pre><code>System.setProperty(\"javax.net.debug\", \"all\");\n</code></pre>\n\n<p>I am seeing that certificates from Entrust seem to be added as trusted certificates. Among those added were the below...</p>\n\n<pre><code> adding as trusted cert:\n Subject: CN=Entrust.net Certification Authority (2048), OU=(c)    1999   Entrust.net Limited, OU=www.entrust.net/CPS_2048 incorp. by ref. (limits liab.), O=Entrust.net\n Issuer:  CN=Entrust.net Certification Authority (2048), OU=(c) 1999 Entrust.net Limited, OU=www.entrust.net/CPS_2048 incorp. by ref. (limits liab.), O=Entrust.net\n Algorithm: RSA; Serial number: 0x3863def8\n Valid from Fri Dec 24 12:50:51 EST 1999 until Tue Jul 24 10:15:12 EDT 2029\n</code></pre>\n\n<p>It seems as if the server is using a cert from Entrust because I also see in the debug...</p>\n\n<pre><code>main, READ: TLSv1 Handshake, length = 2649\n*** Certificate chain\nchain [0] =   [0]         Version: 3\n     SerialNumber: 1356119177\n       IssuerDN: C=US,O=Entrust\\, Inc.,OU=See www.entrust.net/legal-terms,OU=(c) 2012 Entrust\\, Inc. - for authorized use only,CN=Entrust Certification Authority - L1K\n       Start Date: Wed Jul 15 11:50:20 EDT 2015\n       Final Date: Sun Jul 15 18:27:04 EDT 2018\n</code></pre>\n\n<p>And yet during the handshake process I get the below exception...</p>\n\n<pre><code>***\nCaught: javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: \nPKIX path building failed: java.security.cert.CertPathBuilderException: \nNo issuer certificate for certificate in certification path found.\nmain, SEND TLSv1 ALERT:  fatal, description = certificate_unknown\n</code></pre>\n"},{"tags":["java","minecraft","minecraft-fabric"],"comments":[{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1674659933,"post_id":75233190,"comment_id":132762331,"body_markdown":"Maybe a [mcve] will get you answers.","body":"Maybe a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> will get you answers."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1674726537,"post_id":75233190,"comment_id":132776839,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"answers":[{"tags":[],"owner":{"account_id":27644924,"reputation":11,"user_id":21101044,"display_name":"Goldy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675162075,"creation_date":1674934309,"answer_id":75270316,"question_id":75233190,"body_markdown":"I&#39;ve had the same problem today and have solved it with a workaround, scaling the MatrixStack, rendering the text and rescaling the MatrixStack afterwards. \r\n```\r\n@Override\r\npublic void onHudRender(MatrixStack matrixStack, float tickDelta) {\r\n   TextRenderer renderer = mc.getInstance().textRenderer;\r\n       \r\n   // i&#39;ve scaled it by 8/10; so to rescale things i have to multiply by 10/8\r\n   matrixStack.scale(0.8F, 0.8F, 0.8F); \r\n   renderer.draw(matrixStack, &quot;Random txt&quot;, (int)(x *(10/8)) ,(int)(y *(10/8)), 0xffffff);\r\n    matrixStack.scale(1.25F, 1.25F, 1.25F);\r\n```\r\n","title":"Is there a way to change the text size from net.minecraft.client.font.TextRenderer;","body":"<p>I've had the same problem today and have solved it with a workaround, scaling the MatrixStack, rendering the text and rescaling the MatrixStack afterwards.</p>\n<pre><code>@Override\npublic void onHudRender(MatrixStack matrixStack, float tickDelta) {\n   TextRenderer renderer = mc.getInstance().textRenderer;\n       \n   // i've scaled it by 8/10; so to rescale things i have to multiply by 10/8\n   matrixStack.scale(0.8F, 0.8F, 0.8F); \n   renderer.draw(matrixStack, &quot;Random txt&quot;, (int)(x *(10/8)) ,(int)(y *(10/8)), 0xffffff);\n    matrixStack.scale(1.25F, 1.25F, 1.25F);\n</code></pre>\n"}],"owner":{"account_id":27617645,"reputation":1,"user_id":21079378,"display_name":"elinsanodemc"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":414,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1698941106,"creation_date":1674645481,"question_id":75233190,"body_markdown":"I&#39;ve tried changing the text size of the module buttons of my modmenu using matrixstack\r\nbut doesn&#39;t seems to work as it glitches out\r\nthe import im using:\r\n\r\nnet.minecraft.client.font.TextRenderer;\r\n\r\nTheres any way to change the text size? because i&#39;ve been looking for a solution and don&#39;t find anything\r\n\r\nI tried:\r\n\r\nchanging the scales of the matrices\r\nexpecting to only change the text size\r\n\r\nchanged every x y z and also it bugged out, none value was useful.","title":"Is there a way to change the text size from net.minecraft.client.font.TextRenderer;","body":"<p>I've tried changing the text size of the module buttons of my modmenu using matrixstack\nbut doesn't seems to work as it glitches out\nthe import im using:</p>\n<p>net.minecraft.client.font.TextRenderer;</p>\n<p>Theres any way to change the text size? because i've been looking for a solution and don't find anything</p>\n<p>I tried:</p>\n<p>changing the scales of the matrices\nexpecting to only change the text size</p>\n<p>changed every x y z and also it bugged out, none value was useful.</p>\n"},{"tags":["java","types"],"comments":[{"owner":{"account_id":12817783,"reputation":373,"user_id":14045674,"display_name":"Jore"},"score":0,"creation_date":1612015669,"post_id":65968662,"comment_id":116637248,"body_markdown":"Maybe check your values and computations and make sure they are the same with yours, beacause correct answer is as Peter Knali below says","body":"Maybe check your values and computations and make sure they are the same with yours, beacause correct answer is as Peter Knali below says"},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":0,"creation_date":1698947118,"post_id":65968662,"comment_id":136472159,"body_markdown":"can you explain how you got `32482.498046875` as expected value? Seems like some rounding error.","body":"can you explain how you got <code>32482.498046875</code> as expected value? Seems like some rounding error."},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":0,"creation_date":1699000517,"post_id":65968662,"comment_id":136478239,"body_markdown":"and that is one of the main reasons not to use primitive floating point types (`float` and `double`) to represent monetary values! Prefer `BigDecimal` instead - Check [What Every Programmer Should Know About\nFloating-Point Arithmetic](https://www.phys.uconn.edu/~rozman/Courses/P2200_15F/downloads/floating-point-guide-2015-10-15.pdf) ,  [What Every Computer Scientist Should Know About Floating-point Arithmetic](https://docs.oracle.com/cd/E19957-01/806-3568/ncg_goldberg.html) , and more on the internet","body":"and that is one of the main reasons not to use primitive floating point types (<code>float</code> and <code>double</code>) to represent monetary values! Prefer <code>BigDecimal</code> instead - Check <a href=\"https://www.phys.uconn.edu/~rozman/Courses/P2200_15F/downloads/floating-point-guide-2015-10-15.pdf\" rel=\"nofollow noreferrer\">What Every Programmer Should Know About Floating-Point Arithmetic</a> ,  <a href=\"https://docs.oracle.com/cd/E19957-01/806-3568/ncg_goldberg.html\" rel=\"nofollow noreferrer\">What Every Computer Scientist Should Know About Floating-point Arithmetic</a> , and more on the internet"}],"answers":[{"tags":[],"owner":{"account_id":10744637,"reputation":86,"user_id":7906409,"display_name":"Peter Knall"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1612015769,"creation_date":1612015202,"answer_id":65968805,"question_id":65968662,"body_markdown":"32482.5 is the correct answer.  \r\n&lt;br /&gt;&lt;br /&gt;Base allowance: 30,500\r\n&lt;br /&gt;Bonus: 30500 * 4.0 / 100 = 1220.0\r\n&lt;br /&gt;Car Allowance: 30500 * 2.5 / 100 = 762.5\r\n&lt;br /&gt;Total: 32482.5.\r\n&lt;br /&gt;&lt;br /&gt;\r\nWhy do you expect 32482.498046875? It looks like all of those calculation end in numbers a float value can represent without any loss of accuracy.","title":"Value getting round off","body":"<p>32482.5 is the correct answer.<br />\n<br /><br />Base allowance: 30,500\n<br />Bonus: 30500 * 4.0 / 100 = 1220.0\n<br />Car Allowance: 30500 * 2.5 / 100 = 762.5\n<br />Total: 32482.5.\n<br /><br />\nWhy do you expect 32482.498046875? It looks like all of those calculation end in numbers a float value can represent without any loss of accuracy.</p>\n"},{"tags":[],"owner":{"account_id":29812156,"reputation":1,"user_id":22847331,"display_name":"Prince"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698941027,"creation_date":1698941027,"answer_id":77411169,"question_id":65968662,"body_markdown":"\r\n\r\n&gt; This will work fine &#128522;    \r\njust write factorize the formula and you are all done.  But the calculation is not actually correct mathematically.\r\n\r\n```\r\nclass Faculty{\r\n\r\n    private String  name;\r\n    private float basicSalary;\r\n    private float bonusPercentage;\r\n    private float carAllowancePercentage;\r\n\r\n    public Faculty(String name , float basicSalary){\r\n        this.name = name;\r\n        this.basicSalary  = basicSalary;\r\n        this.bonusPercentage = 4f;\r\n        this.carAllowancePercentage = 2.5f;\r\n    }\r\n\r\n    public double calculateSalary(){\r\n    \r\n\r\n        return basicSalary * (1 + bonusPercentage/100 + carAllowancePercentage \r\n                                         /100);\r\n    }\r\n\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public float getBasicSalary() {\r\n        return basicSalary;\r\n    }\r\n\r\n    public void setBasicSalary(float basicSalary) {\r\n        this.basicSalary = basicSalary;\r\n    }\r\n\r\n    public float getBonusPercentage() {\r\n        return bonusPercentage;\r\n    }\r\n\r\n    public float getCarAllowancePercentage() {\r\n        return carAllowancePercentage;\r\n    }\r\n\r\n    public void setCarAllowancePercentage(float carAllowancePercentage) {\r\n        this.carAllowancePercentage = carAllowancePercentage;\r\n    }\r\n}\r\n\r\npublic class overriding1 {\r\n\r\n    public static void main(String[] args) {\r\n\r\n       \r\n        Faculty f = new Faculty(&quot;henry&quot;,30500.0f);\r\n        System.out.println(f.calculateSalary());\r\n\r\n    }\r\n}\r\n```    ","title":"Value getting round off","body":"<blockquote>\n<p>This will work fine 😊<br />\njust write factorize the formula and you are all done.  But the calculation is not actually correct mathematically.</p>\n</blockquote>\n<pre><code>class Faculty{\n\n    private String  name;\n    private float basicSalary;\n    private float bonusPercentage;\n    private float carAllowancePercentage;\n\n    public Faculty(String name , float basicSalary){\n        this.name = name;\n        this.basicSalary  = basicSalary;\n        this.bonusPercentage = 4f;\n        this.carAllowancePercentage = 2.5f;\n    }\n\n    public double calculateSalary(){\n    \n\n        return basicSalary * (1 + bonusPercentage/100 + carAllowancePercentage \n                                         /100);\n    }\n\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public float getBasicSalary() {\n        return basicSalary;\n    }\n\n    public void setBasicSalary(float basicSalary) {\n        this.basicSalary = basicSalary;\n    }\n\n    public float getBonusPercentage() {\n        return bonusPercentage;\n    }\n\n    public float getCarAllowancePercentage() {\n        return carAllowancePercentage;\n    }\n\n    public void setCarAllowancePercentage(float carAllowancePercentage) {\n        this.carAllowancePercentage = carAllowancePercentage;\n    }\n}\n\npublic class overriding1 {\n\n    public static void main(String[] args) {\n\n       \n        Faculty f = new Faculty(&quot;henry&quot;,30500.0f);\n        System.out.println(f.calculateSalary());\n\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":19600644,"reputation":1,"user_id":14345588,"display_name":"cm apple"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1698941027,"creation_date":1612014346,"question_id":65968662,"body_markdown":"    class Faculty{\r\n    \r\n        private String  name;\r\n        private float basicSalary;\r\n        private float bonusPercentage;\r\n        private float carAllowancePercentage;\r\n    \r\n        public Faculty(String name , float basicSalary){\r\n            this.name = name;\r\n            this.basicSalary  = basicSalary;\r\n            this.bonusPercentage = 4f;\r\n            this.carAllowancePercentage = 2.5f;\r\n        }\r\n    \r\n        public double calculateSalary(){\r\n            float bonus  =  ( (bonusPercentage /  100 ) *  getBasicSalary() );\r\n            float carAllowance =(  ( (float)carAllowancePercentage / (float) 100 ) * getBasicSalary() );\r\n    \r\n            return (getBasicSalary() + bonus + carAllowance);\r\n        }\r\n    \r\n    \r\n        public String getName() {\r\n            return name;\r\n        }\r\n    \r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n    \r\n        public float getBasicSalary() {\r\n            return basicSalary;\r\n        }\r\n    \r\n        public void setBasicSalary(float basicSalary) {\r\n            this.basicSalary = basicSalary;\r\n        }\r\n    \r\n        public float getBonusPercentage() {\r\n            return bonusPercentage;\r\n        }\r\n    \r\n        public float getCarAllowancePercentage() {\r\n            return carAllowancePercentage;\r\n        }\r\n    \r\n        public void setCarAllowancePercentage(float carAllowancePercentage) {\r\n            this.carAllowancePercentage = carAllowancePercentage;\r\n        }\r\n    }\r\n    \r\n    public class overriding1 {\r\n    \r\n        public static void main(String[] args) {\r\n    \r\n           \r\n            Faculty f = new Faculty(&quot;henry&quot;,30500.0f);\r\n            System.out.println(f.calculateSalary());\r\n    \r\n        }\r\n    }\r\n\r\nWhenever I am running this it is showing the below output, but the expected output is different . I check all the possible but nothing works.\r\n\r\nI am getting output: **32482.5**\r\nbut the expected output is: **32482.498046875**\r\n\r\n[image][1]\r\n\r\n**Please Help me with this**\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/3uk4u.png\r\n\r\n\r\nUpdated:   **double facultySalary= this.getBasicSalary()*  (1+ \r\n (this.getBonusPercentage()/100)+(this.getCarAllowancePercentage()/100));**\r\n\r\nWhen I am running with the above-updated formula, I am getting expected output, can anyone explain please to me why both formulae are giving values like this because logically both are the same.","title":"Value getting round off","body":"<pre><code>class Faculty{\n\n    private String  name;\n    private float basicSalary;\n    private float bonusPercentage;\n    private float carAllowancePercentage;\n\n    public Faculty(String name , float basicSalary){\n        this.name = name;\n        this.basicSalary  = basicSalary;\n        this.bonusPercentage = 4f;\n        this.carAllowancePercentage = 2.5f;\n    }\n\n    public double calculateSalary(){\n        float bonus  =  ( (bonusPercentage /  100 ) *  getBasicSalary() );\n        float carAllowance =(  ( (float)carAllowancePercentage / (float) 100 ) * getBasicSalary() );\n\n        return (getBasicSalary() + bonus + carAllowance);\n    }\n\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public float getBasicSalary() {\n        return basicSalary;\n    }\n\n    public void setBasicSalary(float basicSalary) {\n        this.basicSalary = basicSalary;\n    }\n\n    public float getBonusPercentage() {\n        return bonusPercentage;\n    }\n\n    public float getCarAllowancePercentage() {\n        return carAllowancePercentage;\n    }\n\n    public void setCarAllowancePercentage(float carAllowancePercentage) {\n        this.carAllowancePercentage = carAllowancePercentage;\n    }\n}\n\npublic class overriding1 {\n\n    public static void main(String[] args) {\n\n       \n        Faculty f = new Faculty(&quot;henry&quot;,30500.0f);\n        System.out.println(f.calculateSalary());\n\n    }\n}\n</code></pre>\n<p>Whenever I am running this it is showing the below output, but the expected output is different . I check all the possible but nothing works.</p>\n<p>I am getting output: <strong>32482.5</strong>\nbut the expected output is: <strong>32482.498046875</strong></p>\n<p><a href=\"https://i.stack.imgur.com/3uk4u.png\" rel=\"nofollow noreferrer\">image</a></p>\n<p><strong>Please Help me with this</strong></p>\n<p>Updated:   <em><em>double facultySalary= this.getBasicSalary()</em>  (1+\n(this.getBonusPercentage()/100)+(this.getCarAllowancePercentage()/100));</em>*</p>\n<p>When I am running with the above-updated formula, I am getting expected output, can anyone explain please to me why both formulae are giving values like this because logically both are the same.</p>\n"},{"tags":["java","spring-boot","liquibase"],"comments":[{"owner":{"account_id":1023013,"reputation":16655,"user_id":1032890,"accept_rate":100,"display_name":"GeertPt"},"score":0,"creation_date":1698941509,"post_id":77411162,"comment_id":136470994,"body_markdown":"Where does the path &#39;/db/changelog/  come from in the error message &quot;changelog could be found at &#39;classpath:/db/changelog/db.changelog-master.yaml&#39;&quot;?","body":"Where does the path &#39;/db/changelog/  come from in the error message &quot;changelog could be found at &#39;classpath:/db/changelog/db.changelog-master.yaml&#39;&quot;?"},{"owner":{"account_id":17398095,"reputation":46,"user_id":12607493,"display_name":"Gwentey"},"score":0,"creation_date":1698951888,"post_id":77411162,"comment_id":136473014,"body_markdown":"I have nothing referring to this! I did a search throughout my project…","body":"I have nothing referring to this! I did a search throughout my project…"},{"owner":{"account_id":7966981,"reputation":6819,"user_id":6012939,"accept_rate":100,"display_name":"htshame"},"score":0,"creation_date":1698952451,"post_id":77411162,"comment_id":136473103,"body_markdown":"Are you sure your test `application.yaml` file is being picked up by the spring-boot `test` profile? Because `classpath:/db/changelog/db.changelog-master.yaml` is the default path and file name for liquibase, if `spring.liquibase.change-log` property is not set","body":"Are you sure your test <code>application.yaml</code> file is being picked up by the spring-boot <code>test</code> profile? Because <code>classpath:&#47;db&#47;changelog&#47;db.changelog-master.yaml</code> is the default path and file name for liquibase, if <code>spring.liquibase.change-log</code> property is not set"},{"owner":{"account_id":17398095,"reputation":46,"user_id":12607493,"display_name":"Gwentey"},"score":0,"creation_date":1698995994,"post_id":77411162,"comment_id":136477608,"body_markdown":"The profile il not test but local. How do you know the good profile to use ?","body":"The profile il not test but local. How do you know the good profile to use ?"}],"owner":{"account_id":17398095,"reputation":46,"user_id":12607493,"display_name":"Gwentey"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698940988,"creation_date":1698940988,"question_id":77411162,"body_markdown":"I have configured the following in my src/main/resources/application-local.yml file:\r\n```\r\nspring:\r\n  liquibase:\r\n    enabled: true\r\n    drop-first: false\r\n    change-log: classpath:/liquibase/db.changelog-master.xml\r\n    default-schema: public\r\n    user: postgres\r\n    password: postgres\r\n  #Connexion avec la base de donn&#233;es Postgres\r\n  datasource:\r\n    url: jdbc:postgresql://localhost:5432/pg01lcommon\r\n    username: postgres\r\n    password: postgres\r\n    hikari:\r\n      connection-timeout: 30000\r\n      idle-timeout: 600000\r\n      minimumIdle: 0\r\n      max-lifetime: 1800000\r\n      maximum-pool-size: 4\r\n```\r\n\r\nThe change-log exists on my application :\r\n\r\n[![enter image description here][1]][1]\r\n\r\nI did the same things on test folder :\r\n```\r\nspring:\r\n  liquibase: #https://docs.liquibase.com/tools-integrations/springboot/springboot.html\r\n    enabled: true\r\n    drop-first: false\r\n    change-log: classpath:/liquibase/db.changelog-master.xml\r\n    default-schema: public #for Kafka connect source\r\n\r\n  datasource:\r\n    url: jdbc:h2:mem:pg01lcommon;DB_CLOSE_DELAY=-1;INIT=CREATE SCHEMA IF NOT EXISTS public\r\n    driverClassName: org.h2.Driver\r\n    username: sa\r\n    password: sa\r\n```\r\n\r\nBut when I run my application, I have 1 WARN :\r\n```\r\n02-11-2023 16:50:28.504 [main] WARN  org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext.refresh - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;liquibase&#39; defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.ChangeLogParseException: classpath:/db/changelog/db.changelog-master.yaml does not exist\r\n```\r\nand this message :\r\n```\r\nLiquibase failed to start because no changelog could be found at &#39;classpath:/db/changelog/db.changelog-master.yaml&#39;.\r\n```\r\nI can&#39;t understand why it doesn&#39;t want to take XML (it&#39;s like stuck at YAML). I have already tried to clean several times.\r\n\r\nI am on the correct profile that I configured at start in my IDE: local\r\n\r\n  [1]: https://i.stack.imgur.com/fMf1i.png","title":"Configuring Spring Boot to Support an XML-Based Liquibase Changelog File Instead of YAML","body":"<p>I have configured the following in my src/main/resources/application-local.yml file:</p>\n<pre><code>spring:\n  liquibase:\n    enabled: true\n    drop-first: false\n    change-log: classpath:/liquibase/db.changelog-master.xml\n    default-schema: public\n    user: postgres\n    password: postgres\n  #Connexion avec la base de données Postgres\n  datasource:\n    url: jdbc:postgresql://localhost:5432/pg01lcommon\n    username: postgres\n    password: postgres\n    hikari:\n      connection-timeout: 30000\n      idle-timeout: 600000\n      minimumIdle: 0\n      max-lifetime: 1800000\n      maximum-pool-size: 4\n</code></pre>\n<p>The change-log exists on my application :</p>\n<p><a href=\"https://i.stack.imgur.com/fMf1i.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fMf1i.png\" alt=\"enter image description here\" /></a></p>\n<p>I did the same things on test folder :</p>\n<pre><code>spring:\n  liquibase: #https://docs.liquibase.com/tools-integrations/springboot/springboot.html\n    enabled: true\n    drop-first: false\n    change-log: classpath:/liquibase/db.changelog-master.xml\n    default-schema: public #for Kafka connect source\n\n  datasource:\n    url: jdbc:h2:mem:pg01lcommon;DB_CLOSE_DELAY=-1;INIT=CREATE SCHEMA IF NOT EXISTS public\n    driverClassName: org.h2.Driver\n    username: sa\n    password: sa\n</code></pre>\n<p>But when I run my application, I have 1 WARN :</p>\n<pre><code>02-11-2023 16:50:28.504 [main] WARN  org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext.refresh - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.ChangeLogParseException: classpath:/db/changelog/db.changelog-master.yaml does not exist\n</code></pre>\n<p>and this message :</p>\n<pre><code>Liquibase failed to start because no changelog could be found at 'classpath:/db/changelog/db.changelog-master.yaml'.\n</code></pre>\n<p>I can't understand why it doesn't want to take XML (it's like stuck at YAML). I have already tried to clean several times.</p>\n<p>I am on the correct profile that I configured at start in my IDE: local</p>\n"},{"tags":["java","digital-signature","hmac","hmacsha1"],"answers":[{"tags":[],"owner":{"account_id":1852643,"reputation":12660,"user_id":1678858,"display_name":"gtrig"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1378712773,"creation_date":1378712773,"answer_id":18693622,"question_id":18687926,"body_markdown":"First to clarify, the [HMAC][1] code does not generate a signature.  It is a type of [Message Authentication Code (MAC)][2].\r\n\r\nThe latter link explains the difference between a signature and a MAC this way:\r\n\r\n&gt; MACs differ from digital signatures as MAC values are both generated\r\n&gt; and verified using the same secret key. This implies that the sender\r\n&gt; and receiver of a message must agree on the same key before initiating\r\n&gt; communications, as is the case with symmetric encryption. For the same\r\n&gt; reason, MACs do not provide the property of non-repudiation offered by\r\n&gt; signatures specifically in the case of a network-wide shared secret\r\n&gt; key: any user who can verify a MAC is also capable of generating MACs\r\n&gt; for other messages. In contrast, a digital signature is generated\r\n&gt; using the private key of a key pair, which is asymmetric encryption.\r\n&gt; Since this private key is only accessible to its holder, a digital\r\n&gt; signature proves that a document was signed by none other than that\r\n&gt; holder. Thus, digital signatures do offer non-repudiation. However,\r\n&gt; non-repudiation can be provided by systems that securely bind key\r\n&gt; usage information to the MAC key; the same key is in possession of two\r\n&gt; people, but one has a copy of the key that can be used for MAC\r\n&gt; generation while the other has a copy of the key in a hardware\r\n&gt; security module that only permits MAC verification. This is commonly\r\n&gt; done in the finance industry.\r\n\r\nSo in order to verify an HMAC, you need to share the key that was used to generate it.  You would send the message, the HMAC, and the receiver would have the same key you used to generate the HMAC.  They could then use the same algorithm to generate an HMAC from your message, and it should match the HMAC you sent.  Public/private keys (assymetric) are not used for this.  You need to generate a symmetric key (like AES) and securely share that with the people that will be generating/verifying the HMAC.\r\n\r\nThis limits the HMAC to having `integrity` and `authenticity` properties only, and not `non-repudiation`.  \r\n\r\nThe quote above mentioned that hardware security modules could be used to enforce the key use, and then you could get non-repudiation as long as only one person could use the key for generating the HMAC.\r\n\r\nAlternatively, you could use a hybrid approach.  Use a shared symmetric key to generate the HMAC.  The HMAC in the end is a hash.  You could then sign this hash with your private key (different than the key used in the HMAC).  A third party with the symmetric key and your public key could verify you signed the HMAC, and could generate their own HMAC with the message and the shared key to make sure it matched.  This would also give you non-repudiation.\r\n\r\nIf you want to go this route, use the Java [Signature][3] class.  The HMAC algorithm is SHA-1, and assuming your keypair is RSA, you could use the `NONEwithRSA` Signature algorithm since the input is already a SHA-1 hash.  Or you could hash it again with the `SHA1withRSA` algorithm.  As long as you generate the signature and verify with the same algorithm, it should be OK.\r\n\r\n\t\tbyte[] data = hmac.getBytes(&quot;UTF-8&quot;);\r\n\t\t\r\n\t\tSignature mySig = Signature.getInstance(&quot;NONEwithRSA&quot;);\r\n\r\n\t\tmySig.initSign(myPrivateKey);\r\n\r\n\t\tmySig.update(data);\r\n\r\n\t\tbyte[] sigBytes = mySig.sign();\r\n\r\n\t\t// And to verify.\r\n\r\n\t\tSignature mySig2 = Signature.getInstance(&quot;NONEwithRSA&quot;);\r\n\t\t\r\n\t\tmySig2.initVerify(myPublicKey);\r\n\t\t\r\n\t\tboolean isSigValid = mySig2.verify(sigBytes);\r\n\r\n\r\n\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Hash-based_message_authentication_code\r\n  [2]: http://en.wikipedia.org/wiki/Message_authentication_code\r\n  [3]: http://docs.oracle.com/javase/7/docs/api/java/security/Signature.html","title":"Verifying HMAC SHA1 signature in Java","body":"<p>First to clarify, the <a href=\"http://en.wikipedia.org/wiki/Hash-based_message_authentication_code\" rel=\"noreferrer\">HMAC</a> code does not generate a signature.  It is a type of <a href=\"http://en.wikipedia.org/wiki/Message_authentication_code\" rel=\"noreferrer\">Message Authentication Code (MAC)</a>.</p>\n\n<p>The latter link explains the difference between a signature and a MAC this way:</p>\n\n<blockquote>\n  <p>MACs differ from digital signatures as MAC values are both generated\n  and verified using the same secret key. This implies that the sender\n  and receiver of a message must agree on the same key before initiating\n  communications, as is the case with symmetric encryption. For the same\n  reason, MACs do not provide the property of non-repudiation offered by\n  signatures specifically in the case of a network-wide shared secret\n  key: any user who can verify a MAC is also capable of generating MACs\n  for other messages. In contrast, a digital signature is generated\n  using the private key of a key pair, which is asymmetric encryption.\n  Since this private key is only accessible to its holder, a digital\n  signature proves that a document was signed by none other than that\n  holder. Thus, digital signatures do offer non-repudiation. However,\n  non-repudiation can be provided by systems that securely bind key\n  usage information to the MAC key; the same key is in possession of two\n  people, but one has a copy of the key that can be used for MAC\n  generation while the other has a copy of the key in a hardware\n  security module that only permits MAC verification. This is commonly\n  done in the finance industry.</p>\n</blockquote>\n\n<p>So in order to verify an HMAC, you need to share the key that was used to generate it.  You would send the message, the HMAC, and the receiver would have the same key you used to generate the HMAC.  They could then use the same algorithm to generate an HMAC from your message, and it should match the HMAC you sent.  Public/private keys (assymetric) are not used for this.  You need to generate a symmetric key (like AES) and securely share that with the people that will be generating/verifying the HMAC.</p>\n\n<p>This limits the HMAC to having <code>integrity</code> and <code>authenticity</code> properties only, and not <code>non-repudiation</code>.  </p>\n\n<p>The quote above mentioned that hardware security modules could be used to enforce the key use, and then you could get non-repudiation as long as only one person could use the key for generating the HMAC.</p>\n\n<p>Alternatively, you could use a hybrid approach.  Use a shared symmetric key to generate the HMAC.  The HMAC in the end is a hash.  You could then sign this hash with your private key (different than the key used in the HMAC).  A third party with the symmetric key and your public key could verify you signed the HMAC, and could generate their own HMAC with the message and the shared key to make sure it matched.  This would also give you non-repudiation.</p>\n\n<p>If you want to go this route, use the Java <a href=\"http://docs.oracle.com/javase/7/docs/api/java/security/Signature.html\" rel=\"noreferrer\">Signature</a> class.  The HMAC algorithm is SHA-1, and assuming your keypair is RSA, you could use the <code>NONEwithRSA</code> Signature algorithm since the input is already a SHA-1 hash.  Or you could hash it again with the <code>SHA1withRSA</code> algorithm.  As long as you generate the signature and verify with the same algorithm, it should be OK.</p>\n\n<pre><code>    byte[] data = hmac.getBytes(\"UTF-8\");\n\n    Signature mySig = Signature.getInstance(\"NONEwithRSA\");\n\n    mySig.initSign(myPrivateKey);\n\n    mySig.update(data);\n\n    byte[] sigBytes = mySig.sign();\n\n    // And to verify.\n\n    Signature mySig2 = Signature.getInstance(\"NONEwithRSA\");\n\n    mySig2.initVerify(myPublicKey);\n\n    boolean isSigValid = mySig2.verify(sigBytes);\n</code></pre>\n"}],"owner":{"account_id":2920754,"reputation":1263,"user_id":2503072,"accept_rate":57,"display_name":"agerrr"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16418,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":1,"score":6,"last_activity_date":1698940752,"creation_date":1378669485,"question_id":18687926,"body_markdown":"I&#39;d like to know how I could verify the signature I created. My code to create a signature looks similar to this one: https://stackoverflow.com/questions/6312544/hmac-sha1-how-to-do-it-properly-in-java\r\n\r\nI send the message, the signature and the *public key* to verify the signature. *Public* and *private key* are generated using `KeyPairGenerator`.\r\n\r\nHow can I use the *public key* to verify my signature? Or maybe can you suggest any good libraries for Java for signing and verifying signature that use HMAC SHA1?\r\n","title":"Verifying HMAC SHA1 signature in Java","body":"<p>I'd like to know how I could verify the signature I created. My code to create a signature looks similar to this one: <a href=\"https://stackoverflow.com/questions/6312544/hmac-sha1-how-to-do-it-properly-in-java\">HMAC-SHA1: How to do it properly in Java?</a></p>\n<p>I send the message, the signature and the <em>public key</em> to verify the signature. <em>Public</em> and <em>private key</em> are generated using <code>KeyPairGenerator</code>.</p>\n<p>How can I use the <em>public key</em> to verify my signature? Or maybe can you suggest any good libraries for Java for signing and verifying signature that use HMAC SHA1?</p>\n"},{"tags":["java","testing","junit","junit5"],"comments":[{"owner":{"account_id":3262328,"reputation":2135,"user_id":2747642,"display_name":"Sree Kumar"},"score":3,"creation_date":1698821784,"post_id":77400814,"comment_id":136452437,"body_markdown":"Here you need to test the **change that the method brings in into the system**, in this case the database table. You can do that only by going to the database and fetching the record(s) and checking!","body":"Here you need to test the <b>change that the method brings in into the system</b>, in this case the database table. You can do that only by going to the database and fetching the record(s) and checking!"},{"owner":{"account_id":1692034,"reputation":3198,"user_id":1554195,"display_name":"tquadrat"},"score":0,"creation_date":1698824626,"post_id":77400814,"comment_id":136452794,"body_markdown":"In addition to what&#39;s said in the previous comment, you can test the behaviour of the method when called with `null` and other invalid arguments.","body":"In addition to what&#39;s said in the previous comment, you can test the behaviour of the method when called with <code>null</code> and other invalid arguments."},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":1,"creation_date":1698828185,"post_id":77400814,"comment_id":136453290,"body_markdown":"You don&#39;t necessarily have to fetch from db to test. If your repositories are mocked in the test, you can verify the interactions with the appropriate methods - execute `saveCarDriver()` in the test and then verify number of interactions with `repository.save()`.","body":"You don&#39;t necessarily have to fetch from db to test. If your repositories are mocked in the test, you can verify the interactions with the appropriate methods - execute <code>saveCarDriver()</code> in the test and then verify number of interactions with <code>repository.save()</code>."}],"answers":[{"tags":[],"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1698828732,"creation_date":1698828732,"answer_id":77401387,"question_id":77400814,"body_markdown":"Your code doesn&#39;t look as if it is designed for testability. While you always could try with an integration test (her: execute the code with a real connection to the database and look if it has the expected impact there), this doesn&#39;t allow for a very isolated test of just that method.\r\n\r\nPlease note that you have to differentiate between &quot;JUnit test&quot; and &quot;unit test&quot;. The first is a framework to implement assertions of test results and also execute the tests, but it doesn&#39;t enforce &quot;unit tests&quot;. \r\n\r\nA &quot;unit test&quot; is a test that tests a publicly accessible unit of source code and only that unit, without any actual calls to other units. As &quot;publicly accessible&quot; in Java I consider every method that doesn&#39;t have `private` visibility.\r\n\r\nTo isolate your unit of code (in your case it&#39;s the method `public void saveCarDriver(CarDriverDto carDriver)`) for the test you have to &quot;mock&quot; everything outside, best in a way that you can verify all calls to that outside stuff and control what it&#39;s return values are.\r\n\r\nA widely used framework for this it [Mockito](https://site.mockito.org/). There are other frameworks for that, but I&#39;m only familiar with this one.\r\n\r\nFor mocking, your code has the problem that it relies on many `static` methods, like `CarDriver.findByCarDrivernoI` and `CarDriverDtoMapper.copyToBo`. This makes it unneccessarily hard to replace the implementations of these two methods with mocked code - it is possible but if there is any chance for you to change these to non-`static` methods I would go for it - it will increase testability of all code that uses them.\r\n\r\nUsually you `inject` the instances that provide those methods to the class that contains the methods. This means you provide them as constructor parameter and store them as member fields. Dependency injection frameworks like Spring or Google Guice help with annotations so that you don&#39;t have to provide all that by hand.\r\n\r\nIn the test you provide mocks instead of the real classes, then in your test you can \r\n * verify that the external methods were called with the expected parameters.\r\n * control that all code paths in your tested method are executed.\r\n\r\nFor your method this would mean that you have two tests:\r\n  1. let `findByCarDrivernoI` return a regular instance and check that this instance is then passed to the `copyToBo` method.\r\n  2. let `findByCarDrivernoI` return `null` and check that still a call to `copyToBo` is done.\r\n\r\nAs the `save` method is a method of your own class, it&#39;s delicate to test. If it&#39;s `private` you have to include all it&#39;s actions into your regular tests as if it was direct part of your method. You cannot test `private` methods or interactions with them separately. Otherwise (if it&#39;s not `public` you could create a spy of the class to test and stub only the `save` method, but leave the rest of the code under test untouched. Then you can verify the call to `save`.\r\n\r\nI can&#39;t give a full introduction into unit testing and testability and dependency injection in this one answer, but you should have a coarse overview.\r\n\r\nAnd all of the described techniques are state of the art (aka *neither* &quot;cutting edge&quot; nor &quot;bleeding edge&quot; technologies), so your colleagues should already know about them, use them and be able to help you a bit.","title":"How to test a void method in JUnit","body":"<p>Your code doesn't look as if it is designed for testability. While you always could try with an integration test (her: execute the code with a real connection to the database and look if it has the expected impact there), this doesn't allow for a very isolated test of just that method.</p>\n<p>Please note that you have to differentiate between &quot;JUnit test&quot; and &quot;unit test&quot;. The first is a framework to implement assertions of test results and also execute the tests, but it doesn't enforce &quot;unit tests&quot;.</p>\n<p>A &quot;unit test&quot; is a test that tests a publicly accessible unit of source code and only that unit, without any actual calls to other units. As &quot;publicly accessible&quot; in Java I consider every method that doesn't have <code>private</code> visibility.</p>\n<p>To isolate your unit of code (in your case it's the method <code>public void saveCarDriver(CarDriverDto carDriver)</code>) for the test you have to &quot;mock&quot; everything outside, best in a way that you can verify all calls to that outside stuff and control what it's return values are.</p>\n<p>A widely used framework for this it <a href=\"https://site.mockito.org/\" rel=\"nofollow noreferrer\">Mockito</a>. There are other frameworks for that, but I'm only familiar with this one.</p>\n<p>For mocking, your code has the problem that it relies on many <code>static</code> methods, like <code>CarDriver.findByCarDrivernoI</code> and <code>CarDriverDtoMapper.copyToBo</code>. This makes it unneccessarily hard to replace the implementations of these two methods with mocked code - it is possible but if there is any chance for you to change these to non-<code>static</code> methods I would go for it - it will increase testability of all code that uses them.</p>\n<p>Usually you <code>inject</code> the instances that provide those methods to the class that contains the methods. This means you provide them as constructor parameter and store them as member fields. Dependency injection frameworks like Spring or Google Guice help with annotations so that you don't have to provide all that by hand.</p>\n<p>In the test you provide mocks instead of the real classes, then in your test you can</p>\n<ul>\n<li>verify that the external methods were called with the expected parameters.</li>\n<li>control that all code paths in your tested method are executed.</li>\n</ul>\n<p>For your method this would mean that you have two tests:</p>\n<ol>\n<li>let <code>findByCarDrivernoI</code> return a regular instance and check that this instance is then passed to the <code>copyToBo</code> method.</li>\n<li>let <code>findByCarDrivernoI</code> return <code>null</code> and check that still a call to <code>copyToBo</code> is done.</li>\n</ol>\n<p>As the <code>save</code> method is a method of your own class, it's delicate to test. If it's <code>private</code> you have to include all it's actions into your regular tests as if it was direct part of your method. You cannot test <code>private</code> methods or interactions with them separately. Otherwise (if it's not <code>public</code> you could create a spy of the class to test and stub only the <code>save</code> method, but leave the rest of the code under test untouched. Then you can verify the call to <code>save</code>.</p>\n<p>I can't give a full introduction into unit testing and testability and dependency injection in this one answer, but you should have a coarse overview.</p>\n<p>And all of the described techniques are state of the art (aka <em>neither</em> &quot;cutting edge&quot; nor &quot;bleeding edge&quot; technologies), so your colleagues should already know about them, use them and be able to help you a bit.</p>\n"},{"tags":[],"owner":{"account_id":2436173,"reputation":5566,"user_id":2126023,"accept_rate":85,"display_name":"Saif Asif"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698831669,"creation_date":1698831669,"answer_id":77401628,"question_id":77400814,"body_markdown":"You could test if the method throws an exception or not. Your method saves an entity to the database, so something &quot;can&quot; fail during the save.\r\n\r\n```java\r\nimport org.junit.jupiter.api.Assertions;\r\nimport org.junit.jupiter.api.Test;\r\n\r\n@Test\r\npublic void shouldNotFail() {\r\n    Assertions.assertDoesNotThrow(() -&gt; {\r\n            // your method saveCarDriver() here\r\n    });\r\n}\r\n\r\n```\r\n\r\nIMO I wouldn&#39;t recommend going down this route, maybe think about what you want to achieve and re-write the method just so that it does return something that you can test against.\r\n\r\n","title":"How to test a void method in JUnit","body":"<p>You could test if the method throws an exception or not. Your method saves an entity to the database, so something &quot;can&quot; fail during the save.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.junit.jupiter.api.Assertions;\nimport org.junit.jupiter.api.Test;\n\n@Test\npublic void shouldNotFail() {\n    Assertions.assertDoesNotThrow(() -&gt; {\n            // your method saveCarDriver() here\n    });\n}\n\n</code></pre>\n<p>IMO I wouldn't recommend going down this route, maybe think about what you want to achieve and re-write the method just so that it does return something that you can test against.</p>\n"},{"tags":[],"owner":{"account_id":9294291,"reputation":9,"user_id":6901762,"display_name":"Kelavandoril"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698940554,"creation_date":1698940554,"answer_id":77411108,"question_id":77400814,"body_markdown":"Does `save(...)` return anything? Maybe it would be worth returning a boolean from `save(...)` to determine if the call was successful or not, subsequently returning that value from `saveCarDriver(...)` and running an assert on that in your test code.\r\n\r\nExample code:\r\n\r\n    public boolean saveCarDriver(CarDriverDto carDriver) {\r\n        BOCarDriver bo = CarDriver.findByCarDrivernoI(carDriver.getId());\r\n        if (bo == null) {\r\n            bo = new BOCarDriver();\r\n        }\r\n        CarDriverDtoMapper.copyToBo(bo, carDriver);\r\n        return save(bo); \r\n    }\r\nTest Code:\r\n\r\n    @Test\r\n    public void saveCarDriverShouldFindOneCarDriverIfOneWasCreatedBeforeTheMethod() {\r\n        Transaction trans = new Transaction();\r\n        DDCarDriverRow carDriverRow = new DDCarDriverRow();\r\n        carDriverRow.setCarDrivernoi(1);\r\n        DARow.saveToTransaction(carDriverRow, trans);\r\n        trans.execute();\r\n    \r\n        CarDriverDto dto = new CarDriverDto();\r\n        dto.setId(1);\r\n        assertTrue(this.testy.saveCarDriver(dto));\r\n    }\r\n\r\n ","title":"How to test a void method in JUnit","body":"<p>Does <code>save(...)</code> return anything? Maybe it would be worth returning a boolean from <code>save(...)</code> to determine if the call was successful or not, subsequently returning that value from <code>saveCarDriver(...)</code> and running an assert on that in your test code.</p>\n<p>Example code:</p>\n<pre><code>public boolean saveCarDriver(CarDriverDto carDriver) {\n    BOCarDriver bo = CarDriver.findByCarDrivernoI(carDriver.getId());\n    if (bo == null) {\n        bo = new BOCarDriver();\n    }\n    CarDriverDtoMapper.copyToBo(bo, carDriver);\n    return save(bo); \n}\n</code></pre>\n<p>Test Code:</p>\n<pre><code>@Test\npublic void saveCarDriverShouldFindOneCarDriverIfOneWasCreatedBeforeTheMethod() {\n    Transaction trans = new Transaction();\n    DDCarDriverRow carDriverRow = new DDCarDriverRow();\n    carDriverRow.setCarDrivernoi(1);\n    DARow.saveToTransaction(carDriverRow, trans);\n    trans.execute();\n\n    CarDriverDto dto = new CarDriverDto();\n    dto.setId(1);\n    assertTrue(this.testy.saveCarDriver(dto));\n}\n</code></pre>\n"}],"owner":{"account_id":26420747,"reputation":7,"user_id":20068462,"display_name":"Omar Ozan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":121,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1698940554,"creation_date":1698821197,"question_id":77400814,"body_markdown":"Since it is mandatory that I have to write test in my company, we have to write Unit Tests for every method that can be tested.\r\nMy problem now is that I have a method which has the return value \r\n**void** here is how the method looks currently:\r\n\r\n    public void saveCarDriver(CarDriverDto carDriver) {\r\n\t\tBOCarDriver bo = CarDriver.findByCarDrivernoI(carDriver.getId());\r\n\t\tif (bo == null) {\r\n\t\t\tbo = new BOCarDriver();\r\n\t\t}\r\n\t\tCarDriverDtoMapper.copyToBo(bo, carDriver);\r\n\t\tsave(bo);\r\n    } \r\nThis is the method itself, now here is the JUnit test what I tried so far but of course didn&#39;t work:\r\n\r\n    @Test\r\n\tpublic void saveCarDriverShouldFindOneCarDriverIfOneWasCreatedBeforeTheMethod() {\r\n\t\tTransaction trans = new Transaction();\r\n\t\tDDCarDriverRow carDriverRow = new DDCarDriverRow();\r\n\t\tcarDriverRow.setCarDrivernoi(1);\r\n\t\tDARow.saveToTransaction(carDriverRow, trans);\r\n\t\ttrans.execute();\r\n\t\t\r\n\t\tCarDriverDto dto = new CarDriverDto();\r\n\t\tdto.setId(1);\r\n\t\tassertEquals(1, this.testy.saveCarDriver(dto).getSize());\r\n\t}","title":"How to test a void method in JUnit","body":"<p>Since it is mandatory that I have to write test in my company, we have to write Unit Tests for every method that can be tested.\nMy problem now is that I have a method which has the return value\n<strong>void</strong> here is how the method looks currently:</p>\n<pre><code>public void saveCarDriver(CarDriverDto carDriver) {\n    BOCarDriver bo = CarDriver.findByCarDrivernoI(carDriver.getId());\n    if (bo == null) {\n        bo = new BOCarDriver();\n    }\n    CarDriverDtoMapper.copyToBo(bo, carDriver);\n    save(bo);\n} \n</code></pre>\n<p>This is the method itself, now here is the JUnit test what I tried so far but of course didn't work:</p>\n<pre><code>@Test\npublic void saveCarDriverShouldFindOneCarDriverIfOneWasCreatedBeforeTheMethod() {\n    Transaction trans = new Transaction();\n    DDCarDriverRow carDriverRow = new DDCarDriverRow();\n    carDriverRow.setCarDrivernoi(1);\n    DARow.saveToTransaction(carDriverRow, trans);\n    trans.execute();\n    \n    CarDriverDto dto = new CarDriverDto();\n    dto.setId(1);\n    assertEquals(1, this.testy.saveCarDriver(dto).getSize());\n}\n</code></pre>\n"},{"tags":["java","minecraft","minecraft-fabric"],"comments":[{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1678319745,"post_id":75679220,"comment_id":133511717,"body_markdown":"Will you please describe the steps that lead up to this error?","body":"Will you please describe the steps that lead up to this error?"},{"owner":{"account_id":27560193,"reputation":491,"user_id":21033369,"display_name":"LJ replica"},"score":0,"creation_date":1678334287,"post_id":75679220,"comment_id":133513460,"body_markdown":"It looks like the root cause is `java.lang.ClassNotFoundException: net.fabricmc.loader.impl.launch.knot.KnotClient`. For some reason, it doesn&#39;t find that class and crash.","body":"It looks like the root cause is <code>java.lang.ClassNotFoundException: net.fabricmc.loader.impl.launch.knot.KnotClient</code>. For some reason, it doesn&#39;t find that class and crash."},{"owner":{"account_id":3747484,"reputation":3573,"user_id":3115822,"display_name":"Borja"},"score":0,"creation_date":1678347676,"post_id":75679220,"comment_id":133515535,"body_markdown":"Please don&#39;t post images errors if possible, copy your code or code error into question with block code format: https://stackoverflow.com/help/how-to-ask","body":"Please don&#39;t post images errors if possible, copy your code or code error into question with block code format: <a href=\"https://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a>"}],"answers":[{"tags":[],"owner":{"account_id":27028804,"reputation":1,"user_id":20585577,"display_name":"ToLIMan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678359949,"creation_date":1678359809,"answer_id":75683714,"question_id":75679220,"body_markdown":"Surprisingly, the problem was not in intellij or in the code, but in the folder name, which is very strange. I am a Russian speaker and my folder was named with Russian characters (Cyrillic) and after I changed the characters to ENG, the error disappeared. This surprised me very much because I have almost never encountered such a problem. And I also did mods on Forge in the same folder and everything was fine. \r\n\r\n* The problem was in the Russian characters to the path folder ","title":"how to fix Exception in thread &quot;main&quot; error in Intellij Minecraft Fabric","body":"<p>Surprisingly, the problem was not in intellij or in the code, but in the folder name, which is very strange. I am a Russian speaker and my folder was named with Russian characters (Cyrillic) and after I changed the characters to ENG, the error disappeared. This surprised me very much because I have almost never encountered such a problem. And I also did mods on Forge in the same folder and everything was fine.</p>\n<ul>\n<li>The problem was in the Russian characters to the path folder</li>\n</ul>\n"}],"owner":{"account_id":27028804,"reputation":1,"user_id":20585577,"display_name":"ToLIMan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1009,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75683714,"answer_count":1,"score":0,"last_activity_date":1698940450,"creation_date":1678319067,"question_id":75679220,"body_markdown":"I wanted to try making mods on Fabric, but I ran into big problems, when the &quot;runClient&quot; starts, there are a lot of errors, I&#39;ve been sitting for 4 hours and I don&#39;t understand how to fix it\r\n\r\n[ERROR](https://i.stack.imgur.com/Qkite.png)\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.ClassNotFoundException: net.fabricmc.loader.impl.launch.knot.KnotClient\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\r\n\tat java.base/java.lang.Class.forName0(Native Method)\r\n\tat java.base/java.lang.Class.forName(Class.java:375)\r\n\tat net.fabricmc.devlaunchinjector.Main.main(Main.java:85)\r\n\r\nExecution failed for task &#39;:runClient&#39;.\r\n&gt; Process &#39;command &#39;C:\\Program Files\\Java\\jdk-17\\bin\\java.exe&#39;&#39; finished with non-zero exit value 1\r\n\r\n* Try:\r\n&gt; Run with --info or --debug option to get more log output.\r\n&gt; Run with --scan to get full insights.\r\n\r\n* Exception is:\r\norg.gradle.api.tasks.TaskExecutionException: Execution failed for task &#39;:runClient&#39;.\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.lambda$executeIfValid$1(ExecuteActionsTaskExecuter.java:149)\r\n\tat org.gradle.internal.Try$Failure.ifSuccessfulOrElse(Try.java:282)\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeIfValid(ExecuteActionsTaskExecuter.java:147)\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:135)\r\n\tat org.gradle.api.internal.tasks.execution.FinalizePropertiesTaskExecuter.execute(FinalizePropertiesTaskExecuter.java:46)\r\n\tat org.gradle.api.internal.tasks.execution.ResolveTaskExecutionModeExecuter.execute(ResolveTaskExecutionModeExecuter.java:51)\r\n\tat org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:57)\r\n\tat org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:74)\r\n\tat org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:36)\r\n\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:77)\r\n\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:55)\r\n\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\r\n\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:52)\r\n\tat org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:42)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:338)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:325)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:318)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:304)\r\n\tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.execute(DefaultPlanExecutor.java:463)\r\n\tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.run(DefaultPlanExecutor.java:380)\r\n\tat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\r\n\tat org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:49)\r\nCaused by: org.gradle.process.internal.ExecException: Process &#39;command &#39;C:\\Program Files\\Java\\jdk-17\\bin\\java.exe&#39;&#39; finished with non-zero exit value 1\r\n\tat org.gradle.process.internal.DefaultExecHandle$ExecResultImpl.assertNormalExitValue(DefaultExecHandle.java:415)\r\n\tat org.gradle.process.internal.DefaultJavaExecAction.execute(DefaultJavaExecAction.java:52)\r\n\tat org.gradle.api.tasks.JavaExec.exec(JavaExec.java:152)\r\n\tat net.fabricmc.loom.task.AbstractRunTask.exec(AbstractRunTask.java:84)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat org.gradle.internal.reflect.JavaMethod.invoke(JavaMethod.java:125)\r\n\tat org.gradle.api.internal.project.taskfactory.StandardTaskAction.doExecute(StandardTaskAction.java:58)\r\n\tat org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:51)\r\n\tat org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:29)\r\n\tat org.gradle.api.internal.tasks.execution.TaskExecution$3.run(TaskExecution.java:242)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:47)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:68)\r\n\tat org.gradle.api.internal.tasks.execution.TaskExecution.executeAction(TaskExecution.java:227)\r\n\tat org.gradle.api.internal.tasks.execution.TaskExecution.executeActions(TaskExecution.java:210)\r\n\tat org.gradle.api.internal.tasks.execution.TaskExecution.executeWithPreviousOutputFiles(TaskExecution.java:193)\r\n\tat org.gradle.api.internal.tasks.execution.TaskExecution.execute(TaskExecution.java:166)\r\n\tat org.gradle.internal.execution.steps.ExecuteStep.executeInternal(ExecuteStep.java:93)\r\n\tat org.gradle.internal.execution.steps.ExecuteStep.access$000(ExecuteStep.java:44)\r\n\tat org.gradle.internal.execution.steps.ExecuteStep$1.call(ExecuteStep.java:57)\r\n\tat org.gradle.internal.execution.steps.ExecuteStep$1.call(ExecuteStep.java:54)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\r\n\tat org.gradle.internal.execution.steps.ExecuteStep.execute(ExecuteStep.java:54)\r\n\tat org.gradle.internal.execution.steps.ExecuteStep.execute(ExecuteStep.java:44)\r\n\tat org.gradle.internal.execution.steps.RemovePreviousOutputsStep.execute(RemovePreviousOutputsStep.java:67)\r\n\tat org.gradle.internal.execution.steps.RemovePreviousOutputsStep.execute(RemovePreviousOutputsStep.java:37)\r\n\tat org.gradle.internal.execution.steps.CancelExecutionStep.execute(CancelExecutionStep.java:41)\r\n\tat org.gradle.internal.execution.steps.TimeoutStep.executeWithoutTimeout(TimeoutStep.java:74)\r\n\tat org.gradle.internal.execution.steps.TimeoutStep.execute(TimeoutStep.java:55)\r\n\tat org.gradle.internal.execution.steps.CreateOutputsStep.execute(CreateOutputsStep.java:50)\r\n\tat org.gradle.internal.execution.steps.CreateOutputsStep.execute(CreateOutputsStep.java:28)\r\n\tat org.gradle.internal.execution.steps.CaptureStateAfterExecutionStep.executeDelegateBroadcastingChanges(CaptureStateAfterExecutionStep.java:100)\r\n\tat org.gradle.internal.execution.steps.CaptureStateAfterExecutionStep.execute(CaptureStateAfterExecutionStep.java:72)\r\n\tat org.gradle.internal.execution.steps.CaptureStateAfterExecutionStep.execute(CaptureStateAfterExecutionStep.java:50)\r\n\tat org.gradle.internal.execution.steps.ResolveInputChangesStep.execute(ResolveInputChangesStep.java:40)\r\n\tat org.gradle.internal.execution.steps.ResolveInputChangesStep.execute(ResolveInputChangesStep.java:29)\r\n\tat org.gradle.internal.execution.steps.BuildCacheStep.executeWithoutCache(BuildCacheStep.java:166)\r\n\tat org.gradle.internal.execution.steps.BuildCacheStep.lambda$execute$1(BuildCacheStep.java:70)\r\n\tat org.gradle.internal.Either$Right.fold(Either.java:175)\r\n\tat org.gradle.internal.execution.caching.CachingState.fold(CachingState.java:59)\r\n\tat org.gradle.internal.execution.steps.BuildCacheStep.execute(BuildCacheStep.java:68)\r\n\tat org.gradle.internal.execution.steps.BuildCacheStep.execute(BuildCacheStep.java:46)\r\n\tat org.gradle.internal.execution.steps.StoreExecutionStateStep.execute(StoreExecutionStateStep.java:36)\r\n\tat org.gradle.internal.execution.steps.StoreExecutionStateStep.execute(StoreExecutionStateStep.java:25)\r\n\tat org.gradle.internal.execution.steps.RecordOutputsStep.execute(RecordOutputsStep.java:36)\r\n\tat org.gradle.internal.execution.steps.RecordOutputsStep.execute(RecordOutputsStep.java:22)\r\n\tat org.gradle.internal.execution.steps.SkipUpToDateStep.executeBecause(SkipUpToDateStep.java:91)\r\n\tat org.gradle.internal.execution.steps.SkipUpToDateStep.lambda$execute$2(SkipUpToDateStep.java:55)\r\n\tat org.gradle.internal.execution.steps.SkipUpToDateStep.execute(SkipUpToDateStep.java:55)\r\n\tat org.gradle.internal.execution.steps.SkipUpToDateStep.execute(SkipUpToDateStep.java:37)\r\n\tat org.gradle.internal.execution.steps.ResolveChangesStep.execute(ResolveChangesStep.java:65)\r\n\tat org.gradle.internal.execution.steps.ResolveChangesStep.execute(ResolveChangesStep.java:36)\r\n\tat org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsFinishedStep.execute(MarkSnapshottingInputsFinishedStep.java:37)\r\n\tat org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsFinishedStep.execute(MarkSnapshottingInputsFinishedStep.java:27)\r\n\tat org.gradle.internal.execution.steps.ResolveCachingStateStep.execute(ResolveCachingStateStep.java:76)\r\n\tat org.gradle.internal.execution.steps.ResolveCachingStateStep.execute(ResolveCachingStateStep.java:37)\r\n\tat org.gradle.internal.execution.steps.ValidateStep.execute(ValidateStep.java:94)\r\n\tat org.gradle.internal.execution.steps.ValidateStep.execute(ValidateStep.java:49)\r\n\tat org.gradle.internal.execution.steps.CaptureStateBeforeExecutionStep.execute(CaptureStateBeforeExecutionStep.java:71)\r\n\tat org.gradle.internal.execution.steps.CaptureStateBeforeExecutionStep.execute(CaptureStateBeforeExecutionStep.java:45)\r\n\tat org.gradle.internal.execution.steps.SkipEmptyWorkStep.executeWithNonEmptySources(SkipEmptyWorkStep.java:177)\r\n\tat org.gradle.internal.execution.steps.SkipEmptyWorkStep.execute(SkipEmptyWorkStep.java:81)\r\n\tat org.gradle.internal.execution.steps.SkipEmptyWorkStep.execute(SkipEmptyWorkStep.java:53)\r\n\tat org.gradle.internal.execution.steps.RemoveUntrackedExecutionStateStep.execute(RemoveUntrackedExecutionStateStep.java:32)\r\n\tat org.gradle.internal.execution.steps.RemoveUntrackedExecutionStateStep.execute(RemoveUntrackedExecutionStateStep.java:21)\r\n\tat org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsStartedStep.execute(MarkSnapshottingInputsStartedStep.java:38)\r\n\tat org.gradle.internal.execution.steps.LoadPreviousExecutionStateStep.execute(LoadPreviousExecutionStateStep.java:36)\r\n\tat org.gradle.internal.execution.steps.LoadPreviousExecutionStateStep.execute(LoadPreviousExecutionStateStep.java:23)\r\n\tat org.gradle.internal.execution.steps.CleanupStaleOutputsStep.execute(CleanupStaleOutputsStep.java:75)\r\n\tat org.gradle.internal.execution.steps.CleanupStaleOutputsStep.execute(CleanupStaleOutputsStep.java:41)\r\n\tat org.gradle.internal.execution.steps.AssignWorkspaceStep.lambda$execute$0(AssignWorkspaceStep.java:32)\r\n\tat org.gradle.api.internal.tasks.execution.TaskExecution$4.withWorkspace(TaskExecution.java:287)\r\n\tat org.gradle.internal.execution.steps.AssignWorkspaceStep.execute(AssignWorkspaceStep.java:30)\r\n\tat org.gradle.internal.execution.steps.AssignWorkspaceStep.execute(AssignWorkspaceStep.java:21)\r\n\tat org.gradle.internal.execution.steps.IdentityCacheStep.execute(IdentityCacheStep.java:37)\r\n\tat org.gradle.internal.execution.steps.IdentityCacheStep.execute(IdentityCacheStep.java:27)\r\n\tat org.gradle.internal.execution.steps.IdentifyStep.execute(IdentifyStep.java:42)\r\n\tat org.gradle.internal.execution.steps.IdentifyStep.execute(IdentifyStep.java:31)\r\n\tat org.gradle.internal.execution.impl.DefaultExecutionEngine$1.execute(DefaultExecutionEngine.java:64)\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeIfValid(ExecuteActionsTaskExecuter.java:146)\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:135)\r\n\tat org.gradle.api.internal.tasks.execution.FinalizePropertiesTaskExecuter.execute(FinalizePropertiesTaskExecuter.java:46)\r\n\tat org.gradle.api.internal.tasks.execution.ResolveTaskExecutionModeExecuter.execute(ResolveTaskExecutionModeExecuter.java:51)\r\n\tat org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:57)\r\n\tat org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:74)\r\n\tat org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:36)\r\n\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:77)\r\n\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:55)\r\n\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\r\n\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:52)\r\n\tat org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:42)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:338)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:325)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:318)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:304)\r\n\tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.execute(DefaultPlanExecutor.java:463)\r\n\tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.run(DefaultPlanExecutor.java:380)\r\n\tat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\r\n\tat org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:49)\r\n\r\n```\r\n\r\n\r\nOn the Internet, I could not find anything about my mistake, I tried to solve the problem myself through the &quot;main files&quot; but I did not succeed. I had another problem with JAVA_HOME and with Java 8, java 17 but this has already been solved.\r\n\r\n\r\nEDIT:\r\nI downloaded &quot;fabric-example-mod 1.19.3&quot; and opened it with intellij , installed the necessary java and changed the name a bit, then I try to open &quot;runClient&quot; and it does not work, although it should open. I watched the YouTube tutorial and there man was able to open &quot;runClient&quot; but I couldn&#39;t.\r\n\r\nI also tried with the plugin in intellij &quot;MinecraftDev&quot; this is a plugin with a built-in fabric installer but there is almost a similar problem\r\n","title":"how to fix Exception in thread &quot;main&quot; error in Intellij Minecraft Fabric","body":"<p>I wanted to try making mods on Fabric, but I ran into big problems, when the &quot;runClient&quot; starts, there are a lot of errors, I've been sitting for 4 hours and I don't understand how to fix it</p>\n<p><a href=\"https://i.stack.imgur.com/Qkite.png\" rel=\"nofollow noreferrer\">ERROR</a></p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.ClassNotFoundException: net.fabricmc.loader.impl.launch.knot.KnotClient\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\n    at java.base/java.lang.Class.forName0(Native Method)\n    at java.base/java.lang.Class.forName(Class.java:375)\n    at net.fabricmc.devlaunchinjector.Main.main(Main.java:85)\n\nExecution failed for task ':runClient'.\n&gt; Process 'command 'C:\\Program Files\\Java\\jdk-17\\bin\\java.exe'' finished with non-zero exit value 1\n\n* Try:\n&gt; Run with --info or --debug option to get more log output.\n&gt; Run with --scan to get full insights.\n\n* Exception is:\norg.gradle.api.tasks.TaskExecutionException: Execution failed for task ':runClient'.\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.lambda$executeIfValid$1(ExecuteActionsTaskExecuter.java:149)\n    at org.gradle.internal.Try$Failure.ifSuccessfulOrElse(Try.java:282)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeIfValid(ExecuteActionsTaskExecuter.java:147)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:135)\n    at org.gradle.api.internal.tasks.execution.FinalizePropertiesTaskExecuter.execute(FinalizePropertiesTaskExecuter.java:46)\n    at org.gradle.api.internal.tasks.execution.ResolveTaskExecutionModeExecuter.execute(ResolveTaskExecutionModeExecuter.java:51)\n    at org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:57)\n    at org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:74)\n    at org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:36)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:77)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:55)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:52)\n    at org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:42)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:338)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:325)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:318)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:304)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.execute(DefaultPlanExecutor.java:463)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.run(DefaultPlanExecutor.java:380)\n    at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\n    at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:49)\nCaused by: org.gradle.process.internal.ExecException: Process 'command 'C:\\Program Files\\Java\\jdk-17\\bin\\java.exe'' finished with non-zero exit value 1\n    at org.gradle.process.internal.DefaultExecHandle$ExecResultImpl.assertNormalExitValue(DefaultExecHandle.java:415)\n    at org.gradle.process.internal.DefaultJavaExecAction.execute(DefaultJavaExecAction.java:52)\n    at org.gradle.api.tasks.JavaExec.exec(JavaExec.java:152)\n    at net.fabricmc.loom.task.AbstractRunTask.exec(AbstractRunTask.java:84)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at org.gradle.internal.reflect.JavaMethod.invoke(JavaMethod.java:125)\n    at org.gradle.api.internal.project.taskfactory.StandardTaskAction.doExecute(StandardTaskAction.java:58)\n    at org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:51)\n    at org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:29)\n    at org.gradle.api.internal.tasks.execution.TaskExecution$3.run(TaskExecution.java:242)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:47)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:68)\n    at org.gradle.api.internal.tasks.execution.TaskExecution.executeAction(TaskExecution.java:227)\n    at org.gradle.api.internal.tasks.execution.TaskExecution.executeActions(TaskExecution.java:210)\n    at org.gradle.api.internal.tasks.execution.TaskExecution.executeWithPreviousOutputFiles(TaskExecution.java:193)\n    at org.gradle.api.internal.tasks.execution.TaskExecution.execute(TaskExecution.java:166)\n    at org.gradle.internal.execution.steps.ExecuteStep.executeInternal(ExecuteStep.java:93)\n    at org.gradle.internal.execution.steps.ExecuteStep.access$000(ExecuteStep.java:44)\n    at org.gradle.internal.execution.steps.ExecuteStep$1.call(ExecuteStep.java:57)\n    at org.gradle.internal.execution.steps.ExecuteStep$1.call(ExecuteStep.java:54)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\n    at org.gradle.internal.execution.steps.ExecuteStep.execute(ExecuteStep.java:54)\n    at org.gradle.internal.execution.steps.ExecuteStep.execute(ExecuteStep.java:44)\n    at org.gradle.internal.execution.steps.RemovePreviousOutputsStep.execute(RemovePreviousOutputsStep.java:67)\n    at org.gradle.internal.execution.steps.RemovePreviousOutputsStep.execute(RemovePreviousOutputsStep.java:37)\n    at org.gradle.internal.execution.steps.CancelExecutionStep.execute(CancelExecutionStep.java:41)\n    at org.gradle.internal.execution.steps.TimeoutStep.executeWithoutTimeout(TimeoutStep.java:74)\n    at org.gradle.internal.execution.steps.TimeoutStep.execute(TimeoutStep.java:55)\n    at org.gradle.internal.execution.steps.CreateOutputsStep.execute(CreateOutputsStep.java:50)\n    at org.gradle.internal.execution.steps.CreateOutputsStep.execute(CreateOutputsStep.java:28)\n    at org.gradle.internal.execution.steps.CaptureStateAfterExecutionStep.executeDelegateBroadcastingChanges(CaptureStateAfterExecutionStep.java:100)\n    at org.gradle.internal.execution.steps.CaptureStateAfterExecutionStep.execute(CaptureStateAfterExecutionStep.java:72)\n    at org.gradle.internal.execution.steps.CaptureStateAfterExecutionStep.execute(CaptureStateAfterExecutionStep.java:50)\n    at org.gradle.internal.execution.steps.ResolveInputChangesStep.execute(ResolveInputChangesStep.java:40)\n    at org.gradle.internal.execution.steps.ResolveInputChangesStep.execute(ResolveInputChangesStep.java:29)\n    at org.gradle.internal.execution.steps.BuildCacheStep.executeWithoutCache(BuildCacheStep.java:166)\n    at org.gradle.internal.execution.steps.BuildCacheStep.lambda$execute$1(BuildCacheStep.java:70)\n    at org.gradle.internal.Either$Right.fold(Either.java:175)\n    at org.gradle.internal.execution.caching.CachingState.fold(CachingState.java:59)\n    at org.gradle.internal.execution.steps.BuildCacheStep.execute(BuildCacheStep.java:68)\n    at org.gradle.internal.execution.steps.BuildCacheStep.execute(BuildCacheStep.java:46)\n    at org.gradle.internal.execution.steps.StoreExecutionStateStep.execute(StoreExecutionStateStep.java:36)\n    at org.gradle.internal.execution.steps.StoreExecutionStateStep.execute(StoreExecutionStateStep.java:25)\n    at org.gradle.internal.execution.steps.RecordOutputsStep.execute(RecordOutputsStep.java:36)\n    at org.gradle.internal.execution.steps.RecordOutputsStep.execute(RecordOutputsStep.java:22)\n    at org.gradle.internal.execution.steps.SkipUpToDateStep.executeBecause(SkipUpToDateStep.java:91)\n    at org.gradle.internal.execution.steps.SkipUpToDateStep.lambda$execute$2(SkipUpToDateStep.java:55)\n    at org.gradle.internal.execution.steps.SkipUpToDateStep.execute(SkipUpToDateStep.java:55)\n    at org.gradle.internal.execution.steps.SkipUpToDateStep.execute(SkipUpToDateStep.java:37)\n    at org.gradle.internal.execution.steps.ResolveChangesStep.execute(ResolveChangesStep.java:65)\n    at org.gradle.internal.execution.steps.ResolveChangesStep.execute(ResolveChangesStep.java:36)\n    at org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsFinishedStep.execute(MarkSnapshottingInputsFinishedStep.java:37)\n    at org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsFinishedStep.execute(MarkSnapshottingInputsFinishedStep.java:27)\n    at org.gradle.internal.execution.steps.ResolveCachingStateStep.execute(ResolveCachingStateStep.java:76)\n    at org.gradle.internal.execution.steps.ResolveCachingStateStep.execute(ResolveCachingStateStep.java:37)\n    at org.gradle.internal.execution.steps.ValidateStep.execute(ValidateStep.java:94)\n    at org.gradle.internal.execution.steps.ValidateStep.execute(ValidateStep.java:49)\n    at org.gradle.internal.execution.steps.CaptureStateBeforeExecutionStep.execute(CaptureStateBeforeExecutionStep.java:71)\n    at org.gradle.internal.execution.steps.CaptureStateBeforeExecutionStep.execute(CaptureStateBeforeExecutionStep.java:45)\n    at org.gradle.internal.execution.steps.SkipEmptyWorkStep.executeWithNonEmptySources(SkipEmptyWorkStep.java:177)\n    at org.gradle.internal.execution.steps.SkipEmptyWorkStep.execute(SkipEmptyWorkStep.java:81)\n    at org.gradle.internal.execution.steps.SkipEmptyWorkStep.execute(SkipEmptyWorkStep.java:53)\n    at org.gradle.internal.execution.steps.RemoveUntrackedExecutionStateStep.execute(RemoveUntrackedExecutionStateStep.java:32)\n    at org.gradle.internal.execution.steps.RemoveUntrackedExecutionStateStep.execute(RemoveUntrackedExecutionStateStep.java:21)\n    at org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsStartedStep.execute(MarkSnapshottingInputsStartedStep.java:38)\n    at org.gradle.internal.execution.steps.LoadPreviousExecutionStateStep.execute(LoadPreviousExecutionStateStep.java:36)\n    at org.gradle.internal.execution.steps.LoadPreviousExecutionStateStep.execute(LoadPreviousExecutionStateStep.java:23)\n    at org.gradle.internal.execution.steps.CleanupStaleOutputsStep.execute(CleanupStaleOutputsStep.java:75)\n    at org.gradle.internal.execution.steps.CleanupStaleOutputsStep.execute(CleanupStaleOutputsStep.java:41)\n    at org.gradle.internal.execution.steps.AssignWorkspaceStep.lambda$execute$0(AssignWorkspaceStep.java:32)\n    at org.gradle.api.internal.tasks.execution.TaskExecution$4.withWorkspace(TaskExecution.java:287)\n    at org.gradle.internal.execution.steps.AssignWorkspaceStep.execute(AssignWorkspaceStep.java:30)\n    at org.gradle.internal.execution.steps.AssignWorkspaceStep.execute(AssignWorkspaceStep.java:21)\n    at org.gradle.internal.execution.steps.IdentityCacheStep.execute(IdentityCacheStep.java:37)\n    at org.gradle.internal.execution.steps.IdentityCacheStep.execute(IdentityCacheStep.java:27)\n    at org.gradle.internal.execution.steps.IdentifyStep.execute(IdentifyStep.java:42)\n    at org.gradle.internal.execution.steps.IdentifyStep.execute(IdentifyStep.java:31)\n    at org.gradle.internal.execution.impl.DefaultExecutionEngine$1.execute(DefaultExecutionEngine.java:64)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeIfValid(ExecuteActionsTaskExecuter.java:146)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:135)\n    at org.gradle.api.internal.tasks.execution.FinalizePropertiesTaskExecuter.execute(FinalizePropertiesTaskExecuter.java:46)\n    at org.gradle.api.internal.tasks.execution.ResolveTaskExecutionModeExecuter.execute(ResolveTaskExecutionModeExecuter.java:51)\n    at org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:57)\n    at org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:74)\n    at org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:36)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:77)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:55)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:52)\n    at org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:42)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:338)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:325)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:318)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:304)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.execute(DefaultPlanExecutor.java:463)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.run(DefaultPlanExecutor.java:380)\n    at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\n    at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:49)\n\n</code></pre>\n<p>On the Internet, I could not find anything about my mistake, I tried to solve the problem myself through the &quot;main files&quot; but I did not succeed. I had another problem with JAVA_HOME and with Java 8, java 17 but this has already been solved.</p>\n<p>EDIT:\nI downloaded &quot;fabric-example-mod 1.19.3&quot; and opened it with intellij , installed the necessary java and changed the name a bit, then I try to open &quot;runClient&quot; and it does not work, although it should open. I watched the YouTube tutorial and there man was able to open &quot;runClient&quot; but I couldn't.</p>\n<p>I also tried with the plugin in intellij &quot;MinecraftDev&quot; this is a plugin with a built-in fabric installer but there is almost a similar problem</p>\n"},{"tags":["java","local-variables"],"answers":[{"tags":[],"owner":{"account_id":29523556,"reputation":41,"user_id":22625743,"display_name":"Dat Nguyen"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1698657683,"creation_date":1698601056,"answer_id":77384462,"question_id":77384417,"body_markdown":"You define var role in case2( line 135)\r\n\r\n     String role = scanner.nextLine();\r\n\r\nSo you can not define it in other case.\r\nBest way ( that I think). You should define var role outside of switch block and use it inside case block","title":"Local variable issue","body":"<p>You define var role in case2( line 135)</p>\n<pre><code> String role = scanner.nextLine();\n</code></pre>\n<p>So you can not define it in other case.\nBest way ( that I think). You should define var role outside of switch block and use it inside case block</p>\n"},{"tags":[],"owner":{"account_id":401843,"reputation":89758,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1698604280,"creation_date":1698604280,"answer_id":77384664,"question_id":77384417,"body_markdown":"In java, local variables are &#39;scoped&#39; to the nearest pair of braces when looking to its immediate surroundings. The variable exists throughout _all of it_ (even if you declare it halfway down a block), and doesn&#39;t exist outside of it.\r\n\r\nIn addition, you are not allowed to declare the same variable more than once. That is simply an error. This:\r\n\r\n```\r\nString x = &quot;foo&quot;;\r\nString x = &quot;bar&quot;;\r\n```\r\n\r\ndoesn&#39;t compile (the first line decrees &#39;I hereby notify you that there shall exist a variable named `x`&#39;, and the second line makes the same decree, that&#39;s the problem. Just `x = &quot;bar&quot;;` is fine, it&#39;s the `String x = &quot;bar&quot;;` that&#39;s the problem).\r\n\r\nThat rule is literally how it works, and that means your basic switch blocks are really bizarre. __All of it is within a single pair of braces__ so any variable you declare anywhere inside a switch counts for the whole switch block.\r\n\r\nYour case, therefore, boils down to the above case: In a single block, you wrote:\r\n\r\n```\r\nString role = scanner.nextLine();\r\n... some other stuff\r\nString role = scanner.nextLine();\r\n```\r\n\r\n## Solutions\r\n\r\nOne simple-ish solution is to just add braces to each case. Instead of:\r\n\r\n```\r\nswitch (foo) {\r\n  case 1:\r\n    lineA();\r\n    lineB();\r\n    break;\r\n  case 2:\r\n    lineC();\r\n    lineD();\r\n    break;\r\n}\r\n```\r\n\r\nyou write:\r\n\r\n```\r\nswitch (foo) {\r\n  case 1: {\r\n    lineA();\r\n    lineB();\r\n    break;\r\n  }\r\n  case 2: {\r\n    lineC();\r\n    lineD();\r\n    break;\r\n  }\r\n}\r\n```\r\n\r\nNow you no longer need to worry about name collisions between your case blocks.\r\n\r\nAlternatively, you can just declare `String role;` once _before_ the switch block, and then never declare it again (just write `role = scanner.nextLine();`). I don&#39;t recommend this action because you&#39;re now messing up the outer scope with an unnecessary variable.\r\n\r\nA third solution is to ensure each variable you declare in an entire switch block is unique. I don&#39;t recommend this action because you&#39;ll inevitably name your variables `role0`, `role1`, and that rather quickly and obviously becomes a needless maintenance headache.\r\n","title":"Local variable issue","body":"<p>In java, local variables are 'scoped' to the nearest pair of braces when looking to its immediate surroundings. The variable exists throughout <em>all of it</em> (even if you declare it halfway down a block), and doesn't exist outside of it.</p>\n<p>In addition, you are not allowed to declare the same variable more than once. That is simply an error. This:</p>\n<pre><code>String x = &quot;foo&quot;;\nString x = &quot;bar&quot;;\n</code></pre>\n<p>doesn't compile (the first line decrees 'I hereby notify you that there shall exist a variable named <code>x</code>', and the second line makes the same decree, that's the problem. Just <code>x = &quot;bar&quot;;</code> is fine, it's the <code>String x = &quot;bar&quot;;</code> that's the problem).</p>\n<p>That rule is literally how it works, and that means your basic switch blocks are really bizarre. <strong>All of it is within a single pair of braces</strong> so any variable you declare anywhere inside a switch counts for the whole switch block.</p>\n<p>Your case, therefore, boils down to the above case: In a single block, you wrote:</p>\n<pre><code>String role = scanner.nextLine();\n... some other stuff\nString role = scanner.nextLine();\n</code></pre>\n<h2>Solutions</h2>\n<p>One simple-ish solution is to just add braces to each case. Instead of:</p>\n<pre><code>switch (foo) {\n  case 1:\n    lineA();\n    lineB();\n    break;\n  case 2:\n    lineC();\n    lineD();\n    break;\n}\n</code></pre>\n<p>you write:</p>\n<pre><code>switch (foo) {\n  case 1: {\n    lineA();\n    lineB();\n    break;\n  }\n  case 2: {\n    lineC();\n    lineD();\n    break;\n  }\n}\n</code></pre>\n<p>Now you no longer need to worry about name collisions between your case blocks.</p>\n<p>Alternatively, you can just declare <code>String role;</code> once <em>before</em> the switch block, and then never declare it again (just write <code>role = scanner.nextLine();</code>). I don't recommend this action because you're now messing up the outer scope with an unnecessary variable.</p>\n<p>A third solution is to ensure each variable you declare in an entire switch block is unique. I don't recommend this action because you'll inevitably name your variables <code>role0</code>, <code>role1</code>, and that rather quickly and obviously becomes a needless maintenance headache.</p>\n"}],"owner":{"account_id":29780887,"reputation":1,"user_id":22823516,"display_name":"Henry white"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":92,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":77384664,"answer_count":2,"score":-2,"last_activity_date":1698940301,"creation_date":1698600545,"question_id":77384417,"body_markdown":"I am constructing a employee and project management application which i am not able to get to run because of 1 error left. The error is on line 147 (which is in case 3 of my switch statement &quot;string role = &quot;sample role&quot;) i have a local variable role error can someone please help me fix this. I am quite new to coding so apologies if this is a simple mistake\r\n\r\n\r\n```\r\nimport java.util.ArrayList;\r\nimport java.util.HashMap;\r\nimport java.util.List;\r\nimport java.util.Map;\r\nimport java.util.Scanner;\r\n\r\nclass Employee {\r\n    private static int employeeIDCounter = 1;\r\n    private int employeeID;\r\n    private String firstName;\r\n    private String lastName;\r\n    private String department;\r\n    private String role;\r\n\r\n    public Employee(String firstName, String lastName, String department, String role) {\r\n        this.employeeID = employeeIDCounter++;\r\n        this.firstName = firstName;\r\n        this.lastName = lastName;\r\n        this.department = department;\r\n        this.role = role;\r\n    }\r\n\r\n    // Getters for Employee properties\r\n    public int getEmployeeID() {\r\n        return employeeID;\r\n    }\r\n\r\n    public String getFullName() {\r\n        return firstName + &quot; &quot; + lastName;\r\n    }\r\n\r\n    public String getRole() {\r\n        return role;\r\n    }\r\n\r\n    public String getDepartment() {\r\n        return department;\r\n    }\r\n}\r\n\r\nclass Project {\r\n    private static int projectIDCounter = 1;\r\n    private int projectID;\r\n    private String projectName;\r\n    private String projectDescription;\r\n    private String startDate;\r\n    private String endDate;\r\n    private Map&lt;Employee, String&gt; assignedTeam;\r\n\r\n    public Project(String projectName, String projectDescription, String startDate, String endDate) {\r\n        this.projectID = projectIDCounter++;\r\n        this.projectName = projectName;\r\n        this.projectDescription = projectDescription;\r\n        this.startDate = startDate;\r\n        this.endDate = endDate;\r\n        this.assignedTeam = new HashMap&lt;&gt;();\r\n    }\r\n\r\n    // Getters for Project properties\r\n    public int getProjectID() {\r\n        return projectID;\r\n    }\r\n\r\n    public String getProjectName() {\r\n        return projectName;\r\n    }\r\n\r\n    public String getProjectDescription() {\r\n        return projectDescription;\r\n    }\r\n\r\n    public String getStartDate() {\r\n        return startDate;\r\n    }\r\n\r\n    public String getEndDate() {\r\n        return endDate;\r\n    }\r\n\r\n    public Map&lt;Employee, String&gt; getAssignedTeam() {\r\n        return assignedTeam;\r\n    }\r\n\r\n    public void assignEmployee(Employee employee, String role) {\r\n        assignedTeam.put(employee, role);\r\n    }\r\n}\r\n\r\npublic class ProjectEmployeeManagement {\r\n    public static void main(String[] args) {\r\n        List&lt;Employee&gt; employees = new ArrayList&lt;&gt;();\r\n        List&lt;Project&gt; projects = new ArrayList&lt;&gt;();\r\n        Scanner scanner = new Scanner(System.in);\r\n\r\n        while (true) {\r\n            System.out.println(&quot;Choose operation:&quot;);\r\n            System.out.println(&quot;1. Add Project&quot;);\r\n            System.out.println(&quot;2. Add Employee&quot;);\r\n            System.out.println(&quot;3. Assign Employee to Project&quot;);\r\n            System.out.println(&quot;4. Display Projects and Team Members&quot;);\r\n            System.out.println(&quot;5. Search Employees for Project&quot;);\r\n            System.out.println(&quot;6. Search Projects for Employee&quot;);\r\n            System.out.println(&quot;7. Update Project or Employee&quot;);\r\n            System.out.println(&quot;8. Delete Project&quot;);\r\n            System.out.println(&quot;9. Exit&quot;);\r\n            int choice = scanner.nextInt();\r\n            scanner.nextLine(); // Consume the newline character\r\n\r\n            switch (choice) {\r\n                case 1:\r\n                    // Add Project\r\n                    System.out.println(&quot;Enter project details:&quot;);\r\n                    System.out.print(&quot;Project Name:&quot;);\r\n                    String projectName = scanner.nextLine();\r\n                    System.out.print(&quot;project Description: &quot;);\r\n                    String projectDescription = scanner.nextLine();\r\n                    System.out.print(&quot;Start Date: &quot;);\r\n                    String startDate = scanner.nextLine ();\r\n                    System.out.print(&quot; End Date: &quot;);\r\n                    String endDate = scanner.nextLine();\r\n                    Project newProject = new Project(projectName, projectDescription, startDate, endDate);\r\n                    projects.add(newProject);\r\n                    break;\r\n\r\n                case 2:\r\n                    // Add Employee\r\n                    System.out.println(&quot;Enter employee details:&quot;);\r\n                    System.out.print(&quot;First Name: &quot;);\r\n                    String firstName = scanner.nextLine();\r\n                    System.out.print(&quot;Last Name: &quot;);\r\n                    String lastName = scanner.nextLine();\r\n                    System.out.print(&quot;Department: &quot;);\r\n                    String department = scanner.nextLine();\r\n                    System.out.print(&quot;Role: &quot;);\r\n                    String role = scanner.nextLine();\r\n                    Employee newEmployee = new Employee(firstName, lastName, department, role);\r\n                    employees.add(newEmployee);\r\n                    break;\r\n\r\n                case 3:\r\n                    // Assign Employee to Project\r\n                    System.out.println(&quot;Enter Project ID: &quot;);\r\n                    int projectID = scanner.nextInt();\r\n                    System.out.println(&quot;Enter Employee ID: &quot;);\r\n                    int employeeID = scanner.nextInt();\r\n                    scanner.nextLine();\r\n                    String role = &quot;Sample Role&quot;; // Replace with actual role input\r\n                    Project projectToAssign = null;\r\n                    Employee employeeToAssign = null;\r\n\r\n                    // Find the project and employee objects\r\n                    for (Project project : projects) {\r\n                        if (project.getProjectID() == projectID) {\r\n                            projectToAssign = project;\r\n                            break;\r\n                        }\r\n                    }\r\n                    for (Employee employee : employees) {\r\n                        if (employee.getEmployeeID() == employeeID) {\r\n                            employeeToAssign = employee;\r\n                            break;\r\n                        }\r\n                    }\r\n\r\n                    // Assign the employee to the project with the specified role\r\n                    if (projectToAssign != null &amp;&amp; employeeToAssign != null) {\r\n                    projectToAssign.assignEmployee(employeeToAssign, role);\r\n                    } else {\r\n                        System.out.println(&quot;Project or Employee not found.&quot;);\r\n                    }\r\n                    break;\r\n\r\n                case 4:\r\n                    // Display Projects and Team Members\r\n                    for (Project project : projects) {\r\n                        System.out.println(&quot;Project ID: &quot; + project.getProjectID());\r\n                        System.out.println(&quot;Project Name: &quot; + project.getProjectName());\r\n                        System.out.println(&quot;Project Description: &quot; + project.getProjectDescription());\r\n                        System.out.println(&quot;Start Date: &quot; + project.getStartDate());\r\n                        System.out.println(&quot;End Date: &quot; + project.getEndDate());\r\n                        System.out.println(&quot;Assigned Team Members:&quot;);\r\n                        for (Map.Entry&lt;Employee, String&gt; entry : project.getAssignedTeam().entrySet()) {\r\n                            System.out.println(&quot;Employee ID: &quot; + entry.getKey().getEmployeeID());\r\n                            System.out.println(&quot;Employee Name: &quot; + entry.getKey().getFullName());\r\n                            System.out.println(&quot;Role: &quot; + entry.getValue());\r\n                        }\r\n                    }\r\n                    break;\r\n\r\n                case 5:\r\n                    // Search Employees for Project\r\n                    System.out.println(&quot;Enter Project ID: &quot;);\r\n                    int searchProjectID = scanner.nextInt();\r\n                    Project searchProject = null;\r\n\r\n                    // Find the project object\r\n                    for (Project project : projects) {\r\n                        if (project.getProjectID() == searchProjectID) {\r\n                            searchProject = project;\r\n                            break;\r\n                        }\r\n                    }\r\n\r\n                    if (searchProject != null) {\r\n                        System.out.println(&quot;Assigned Team Members for Project &quot; + searchProjectID + &quot;:&quot;);\r\n                        for (Map.Entry&lt;Employee, String&gt; entry : searchProject.getAssignedTeam().entrySet()) {\r\n                            System.out.println(&quot;Employee ID: &quot; + entry.getKey().getEmployeeID());\r\n                            System.out.println(&quot;Employee Name: &quot; + entry.getKey().getFullName());\r\n                            System.out.println(&quot;Role: &quot; + entry.getValue());\r\n                        }\r\n                    } else {\r\n                        System.out.println(&quot;Project not found.&quot;);\r\n                    }\r\n                    break;\r\n\r\n                case 6:\r\n                    // Search Projects for Employee\r\n                    System.out.println(&quot;Enter Employee ID: &quot;);\r\n                    int searchEmployeeID = scanner.nextInt();\r\n                    Employee searchEmployee = null;\r\n\r\n                    // Find the employee object\r\n                    for (Employee employee : employees) {\r\n                        if (employee.getEmployeeID() == searchEmployeeID) {\r\n                            searchEmployee = employee;\r\n                            break;\r\n                        }\r\n                    }\r\n\r\n                    if (searchEmployee != null) {\r\n                        System.out.println(&quot;Projects assigned to Employee &quot; + searchEmployeeID + &quot;:&quot;);\r\n                        for (Project project : projects) {\r\n                            for (Map.Entry&lt;Employee, String&gt; entry : project.getAssignedTeam().entrySet()) {\r\n                                if (entry.getKey().getEmployeeID() == searchEmployeeID) {\r\n                                    System.out.println(&quot;Project ID: &quot; + project.getProjectID());\r\n                                    System.out.println(&quot;Project Name: &quot; + project.getProjectName());\r\n                                    System.out.println(&quot;Role: &quot; + entry.getValue());\r\n                                }\r\n                            }\r\n                        }\r\n                    } else {\r\n                        System.out.println(&quot;Employee not found.&quot;);\r\n                    }\r\n                    break;\r\n\r\n                case 7:\r\n                  // Update Project or Employee\r\n                  System.out.println(&quot;Enter &#39;P&#39; to update a Project or &#39;E&#39; to update an Employee: &quot;);\r\n                  String updateChoice = scanner.nextLine();\r\n                  if (updateChoice.equalsIgnoreCase(&quot;P&quot;)) {\r\n                    // Update Project\r\n                    System.out.println(&quot;Enter Project ID to update: &quot;);\r\n                    int projectIDToUpdate = scanner.nextInt();\r\n                    Project projectToUpdate = null;\r\n                    \r\n                    // Find the project object\r\n                    for (Project project : projects) {\r\n                        if (project.getProjectID() == projectIDToUpdate) {\r\n                            projectToUpdate = project;\r\n                            break;\r\n                        }\r\n                    }\r\n                    \r\n                    if (projectToUpdate != null) {\r\n                    // Here you can implement the logic to update project details\r\n                    // You can ask for new project details (name, description, dates, etc.)\r\n                    System.out.println(&quot;Project updated successfully.&quot;);\r\n                } else {\r\n                    System.out.println(&quot;Project not found.&quot;);\r\n                }\r\n            } else if (updateChoice.equalsIgnoreCase(&quot;E&quot;)) {\r\n                    // Update Employee\r\n                    System.out.println(&quot;Enter Employee ID to update: &quot;);\r\n                    int employeeIDToUpdate = scanner.nextInt();\r\n                    Employee employeeToUpdate = null;\r\n\r\n                    // Find the employee object\r\n                    for (Employee employee : employees) {\r\n                        if (employee.getEmployeeID() == employeeIDToUpdate) {\r\n                            employeeToUpdate = employee;\r\n                            break;\r\n                        }\r\n                    }\r\n\r\n                    if (employeeToUpdate != null) {\r\n                        // Here you can implement the logic to update employee details\r\n                        // You can ask for new employee details (first name, last name, department, role, etc.)\r\n                        System.out.println(&quot;Employee updated successfully.&quot;);\r\n                    } else {\r\n                        System.out.println(&quot;Employee not found.&quot;);\r\n                    }\r\n                } else {\r\n                    System.out.println(&quot;Invalid choice.&quot;);\r\n                }\r\n                break;\r\n                   \r\n\r\n                case 8:\r\n                // Delete Project\r\n                System.out.println(&quot;Enter Project ID to delete: &quot;);\r\n                int projectIDToDelete = scanner.nextInt();\r\n                Project projectToDelete = null;\r\n                \r\n                // Find the project object\r\n                for (Project project : projects) {\r\n                    if (project.getProjectID() == projectIDToDelete) {\r\n                        projectToDelete = project;\r\n                        break;\r\n                    }\r\n                }\r\n\r\n                if (projectToDelete != null) {\r\n                    projects.remove(projectToDelete);\r\n                    System.out.println(&quot;Project deleted successfully.&quot;);\r\n                } else {\r\n                    System.out.println(&quot;Project not found.&quot;);\r\n                }\r\n                break;\r\n                    \r\n\r\n                case 9:\r\n                 // Exit the application\r\n                 System.out.println(&quot;Exiting the application.&quot;);\r\n                 System.exit(0);\r\n                 break;\r\n\r\n                default:\r\n                    System.out.println(&quot;Invalid choice. Please choose a valid operation.&quot;);\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n","title":"Local variable issue","body":"<p>I am constructing a employee and project management application which i am not able to get to run because of 1 error left. The error is on line 147 (which is in case 3 of my switch statement &quot;string role = &quot;sample role&quot;) i have a local variable role error can someone please help me fix this. I am quite new to coding so apologies if this is a simple mistake</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.HashMap;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.Scanner;\n\nclass Employee {\n    private static int employeeIDCounter = 1;\n    private int employeeID;\n    private String firstName;\n    private String lastName;\n    private String department;\n    private String role;\n\n    public Employee(String firstName, String lastName, String department, String role) {\n        this.employeeID = employeeIDCounter++;\n        this.firstName = firstName;\n        this.lastName = lastName;\n        this.department = department;\n        this.role = role;\n    }\n\n    // Getters for Employee properties\n    public int getEmployeeID() {\n        return employeeID;\n    }\n\n    public String getFullName() {\n        return firstName + &quot; &quot; + lastName;\n    }\n\n    public String getRole() {\n        return role;\n    }\n\n    public String getDepartment() {\n        return department;\n    }\n}\n\nclass Project {\n    private static int projectIDCounter = 1;\n    private int projectID;\n    private String projectName;\n    private String projectDescription;\n    private String startDate;\n    private String endDate;\n    private Map&lt;Employee, String&gt; assignedTeam;\n\n    public Project(String projectName, String projectDescription, String startDate, String endDate) {\n        this.projectID = projectIDCounter++;\n        this.projectName = projectName;\n        this.projectDescription = projectDescription;\n        this.startDate = startDate;\n        this.endDate = endDate;\n        this.assignedTeam = new HashMap&lt;&gt;();\n    }\n\n    // Getters for Project properties\n    public int getProjectID() {\n        return projectID;\n    }\n\n    public String getProjectName() {\n        return projectName;\n    }\n\n    public String getProjectDescription() {\n        return projectDescription;\n    }\n\n    public String getStartDate() {\n        return startDate;\n    }\n\n    public String getEndDate() {\n        return endDate;\n    }\n\n    public Map&lt;Employee, String&gt; getAssignedTeam() {\n        return assignedTeam;\n    }\n\n    public void assignEmployee(Employee employee, String role) {\n        assignedTeam.put(employee, role);\n    }\n}\n\npublic class ProjectEmployeeManagement {\n    public static void main(String[] args) {\n        List&lt;Employee&gt; employees = new ArrayList&lt;&gt;();\n        List&lt;Project&gt; projects = new ArrayList&lt;&gt;();\n        Scanner scanner = new Scanner(System.in);\n\n        while (true) {\n            System.out.println(&quot;Choose operation:&quot;);\n            System.out.println(&quot;1. Add Project&quot;);\n            System.out.println(&quot;2. Add Employee&quot;);\n            System.out.println(&quot;3. Assign Employee to Project&quot;);\n            System.out.println(&quot;4. Display Projects and Team Members&quot;);\n            System.out.println(&quot;5. Search Employees for Project&quot;);\n            System.out.println(&quot;6. Search Projects for Employee&quot;);\n            System.out.println(&quot;7. Update Project or Employee&quot;);\n            System.out.println(&quot;8. Delete Project&quot;);\n            System.out.println(&quot;9. Exit&quot;);\n            int choice = scanner.nextInt();\n            scanner.nextLine(); // Consume the newline character\n\n            switch (choice) {\n                case 1:\n                    // Add Project\n                    System.out.println(&quot;Enter project details:&quot;);\n                    System.out.print(&quot;Project Name:&quot;);\n                    String projectName = scanner.nextLine();\n                    System.out.print(&quot;project Description: &quot;);\n                    String projectDescription = scanner.nextLine();\n                    System.out.print(&quot;Start Date: &quot;);\n                    String startDate = scanner.nextLine ();\n                    System.out.print(&quot; End Date: &quot;);\n                    String endDate = scanner.nextLine();\n                    Project newProject = new Project(projectName, projectDescription, startDate, endDate);\n                    projects.add(newProject);\n                    break;\n\n                case 2:\n                    // Add Employee\n                    System.out.println(&quot;Enter employee details:&quot;);\n                    System.out.print(&quot;First Name: &quot;);\n                    String firstName = scanner.nextLine();\n                    System.out.print(&quot;Last Name: &quot;);\n                    String lastName = scanner.nextLine();\n                    System.out.print(&quot;Department: &quot;);\n                    String department = scanner.nextLine();\n                    System.out.print(&quot;Role: &quot;);\n                    String role = scanner.nextLine();\n                    Employee newEmployee = new Employee(firstName, lastName, department, role);\n                    employees.add(newEmployee);\n                    break;\n\n                case 3:\n                    // Assign Employee to Project\n                    System.out.println(&quot;Enter Project ID: &quot;);\n                    int projectID = scanner.nextInt();\n                    System.out.println(&quot;Enter Employee ID: &quot;);\n                    int employeeID = scanner.nextInt();\n                    scanner.nextLine();\n                    String role = &quot;Sample Role&quot;; // Replace with actual role input\n                    Project projectToAssign = null;\n                    Employee employeeToAssign = null;\n\n                    // Find the project and employee objects\n                    for (Project project : projects) {\n                        if (project.getProjectID() == projectID) {\n                            projectToAssign = project;\n                            break;\n                        }\n                    }\n                    for (Employee employee : employees) {\n                        if (employee.getEmployeeID() == employeeID) {\n                            employeeToAssign = employee;\n                            break;\n                        }\n                    }\n\n                    // Assign the employee to the project with the specified role\n                    if (projectToAssign != null &amp;&amp; employeeToAssign != null) {\n                    projectToAssign.assignEmployee(employeeToAssign, role);\n                    } else {\n                        System.out.println(&quot;Project or Employee not found.&quot;);\n                    }\n                    break;\n\n                case 4:\n                    // Display Projects and Team Members\n                    for (Project project : projects) {\n                        System.out.println(&quot;Project ID: &quot; + project.getProjectID());\n                        System.out.println(&quot;Project Name: &quot; + project.getProjectName());\n                        System.out.println(&quot;Project Description: &quot; + project.getProjectDescription());\n                        System.out.println(&quot;Start Date: &quot; + project.getStartDate());\n                        System.out.println(&quot;End Date: &quot; + project.getEndDate());\n                        System.out.println(&quot;Assigned Team Members:&quot;);\n                        for (Map.Entry&lt;Employee, String&gt; entry : project.getAssignedTeam().entrySet()) {\n                            System.out.println(&quot;Employee ID: &quot; + entry.getKey().getEmployeeID());\n                            System.out.println(&quot;Employee Name: &quot; + entry.getKey().getFullName());\n                            System.out.println(&quot;Role: &quot; + entry.getValue());\n                        }\n                    }\n                    break;\n\n                case 5:\n                    // Search Employees for Project\n                    System.out.println(&quot;Enter Project ID: &quot;);\n                    int searchProjectID = scanner.nextInt();\n                    Project searchProject = null;\n\n                    // Find the project object\n                    for (Project project : projects) {\n                        if (project.getProjectID() == searchProjectID) {\n                            searchProject = project;\n                            break;\n                        }\n                    }\n\n                    if (searchProject != null) {\n                        System.out.println(&quot;Assigned Team Members for Project &quot; + searchProjectID + &quot;:&quot;);\n                        for (Map.Entry&lt;Employee, String&gt; entry : searchProject.getAssignedTeam().entrySet()) {\n                            System.out.println(&quot;Employee ID: &quot; + entry.getKey().getEmployeeID());\n                            System.out.println(&quot;Employee Name: &quot; + entry.getKey().getFullName());\n                            System.out.println(&quot;Role: &quot; + entry.getValue());\n                        }\n                    } else {\n                        System.out.println(&quot;Project not found.&quot;);\n                    }\n                    break;\n\n                case 6:\n                    // Search Projects for Employee\n                    System.out.println(&quot;Enter Employee ID: &quot;);\n                    int searchEmployeeID = scanner.nextInt();\n                    Employee searchEmployee = null;\n\n                    // Find the employee object\n                    for (Employee employee : employees) {\n                        if (employee.getEmployeeID() == searchEmployeeID) {\n                            searchEmployee = employee;\n                            break;\n                        }\n                    }\n\n                    if (searchEmployee != null) {\n                        System.out.println(&quot;Projects assigned to Employee &quot; + searchEmployeeID + &quot;:&quot;);\n                        for (Project project : projects) {\n                            for (Map.Entry&lt;Employee, String&gt; entry : project.getAssignedTeam().entrySet()) {\n                                if (entry.getKey().getEmployeeID() == searchEmployeeID) {\n                                    System.out.println(&quot;Project ID: &quot; + project.getProjectID());\n                                    System.out.println(&quot;Project Name: &quot; + project.getProjectName());\n                                    System.out.println(&quot;Role: &quot; + entry.getValue());\n                                }\n                            }\n                        }\n                    } else {\n                        System.out.println(&quot;Employee not found.&quot;);\n                    }\n                    break;\n\n                case 7:\n                  // Update Project or Employee\n                  System.out.println(&quot;Enter 'P' to update a Project or 'E' to update an Employee: &quot;);\n                  String updateChoice = scanner.nextLine();\n                  if (updateChoice.equalsIgnoreCase(&quot;P&quot;)) {\n                    // Update Project\n                    System.out.println(&quot;Enter Project ID to update: &quot;);\n                    int projectIDToUpdate = scanner.nextInt();\n                    Project projectToUpdate = null;\n                    \n                    // Find the project object\n                    for (Project project : projects) {\n                        if (project.getProjectID() == projectIDToUpdate) {\n                            projectToUpdate = project;\n                            break;\n                        }\n                    }\n                    \n                    if (projectToUpdate != null) {\n                    // Here you can implement the logic to update project details\n                    // You can ask for new project details (name, description, dates, etc.)\n                    System.out.println(&quot;Project updated successfully.&quot;);\n                } else {\n                    System.out.println(&quot;Project not found.&quot;);\n                }\n            } else if (updateChoice.equalsIgnoreCase(&quot;E&quot;)) {\n                    // Update Employee\n                    System.out.println(&quot;Enter Employee ID to update: &quot;);\n                    int employeeIDToUpdate = scanner.nextInt();\n                    Employee employeeToUpdate = null;\n\n                    // Find the employee object\n                    for (Employee employee : employees) {\n                        if (employee.getEmployeeID() == employeeIDToUpdate) {\n                            employeeToUpdate = employee;\n                            break;\n                        }\n                    }\n\n                    if (employeeToUpdate != null) {\n                        // Here you can implement the logic to update employee details\n                        // You can ask for new employee details (first name, last name, department, role, etc.)\n                        System.out.println(&quot;Employee updated successfully.&quot;);\n                    } else {\n                        System.out.println(&quot;Employee not found.&quot;);\n                    }\n                } else {\n                    System.out.println(&quot;Invalid choice.&quot;);\n                }\n                break;\n                   \n\n                case 8:\n                // Delete Project\n                System.out.println(&quot;Enter Project ID to delete: &quot;);\n                int projectIDToDelete = scanner.nextInt();\n                Project projectToDelete = null;\n                \n                // Find the project object\n                for (Project project : projects) {\n                    if (project.getProjectID() == projectIDToDelete) {\n                        projectToDelete = project;\n                        break;\n                    }\n                }\n\n                if (projectToDelete != null) {\n                    projects.remove(projectToDelete);\n                    System.out.println(&quot;Project deleted successfully.&quot;);\n                } else {\n                    System.out.println(&quot;Project not found.&quot;);\n                }\n                break;\n                    \n\n                case 9:\n                 // Exit the application\n                 System.out.println(&quot;Exiting the application.&quot;);\n                 System.exit(0);\n                 break;\n\n                default:\n                    System.out.println(&quot;Invalid choice. Please choose a valid operation.&quot;);\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","rabbitmq","spring-rabbit"],"comments":[{"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1698934899,"post_id":77405943,"comment_id":136469502,"body_markdown":"You question is not clear. What are those `dozens of variations`? What is still wrong with your existing approach via `#{rabbitConfiguration.getQueueNames()}` ? Another solution would be to leverage routing capabilities of RabbitMQ exchanges and bindings into queues. This way your listener could just subscribe to its only queue and it can be bound by some specific pattern(s) to the data from exchange.","body":"You question is not clear. What are those <code>dozens of variations</code>? What is still wrong with your existing approach via <code>#{rabbitConfiguration.getQueueNames()}</code> ? Another solution would be to leverage routing capabilities of RabbitMQ exchanges and bindings into queues. This way your listener could just subscribe to its only queue and it can be bound by some specific pattern(s) to the data from exchange."},{"owner":{"account_id":15577223,"reputation":491,"user_id":11238034,"display_name":"Lucas"},"score":0,"creation_date":1698939932,"post_id":77405943,"comment_id":136470671,"body_markdown":"Sorry, I tought it was pretty clear with the examples (`user-creation-queue-PT`, `user-creation-queue-EN`, `user-creation-queue-US`... Those are the variations of the `user-creation-queue`). Using `#{rabbitConfiguration.getQueueNames()}` would force me to have a different method for each queue variation (`user-creation-queue-XX` and `user-deletion-queue-XX`, which is what I want to avoid. And I cannot do it trough Rabbit exchange, as all instances would listen to the same group of queue and I can&#39;t control which one listens to each (I&#39;m forced to use a single exchange for my project.)","body":"Sorry, I tought it was pretty clear with the examples (<code>user-creation-queue-PT</code>, <code>user-creation-queue-EN</code>, <code>user-creation-queue-US</code>... Those are the variations of the <code>user-creation-queue</code>). Using <code>#{rabbitConfiguration.getQueueNames()}</code> would force me to have a different method for each queue variation (<code>user-creation-queue-XX</code> and <code>user-deletion-queue-XX</code>, which is what I want to avoid. And I cannot do it trough Rabbit exchange, as all instances would listen to the same group of queue and I can&#39;t control which one listens to each (I&#39;m forced to use a single exchange for my project.)"},{"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1698940721,"post_id":77405943,"comment_id":136470841,"body_markdown":"Right. There is no way in RabbitMQ to subscribe to a pattern, so we are forced to use a list of those queue names. You can calculate them at runtime and add them manually to the listener container assigned to that `@RabbitListener`. See `RabbitListenerEndpointRegistry.getListenerContainer()` API. And then `MessageListenerContainer.setQueueNames()`.","body":"Right. There is no way in RabbitMQ to subscribe to a pattern, so we are forced to use a list of those queue names. You can calculate them at runtime and add them manually to the listener container assigned to that <code>@RabbitListener</code>. See <code>RabbitListenerEndpointRegistry.getListenerContainer()</code> API. And then <code>MessageListenerContainer.setQueueNames()</code>."},{"owner":{"account_id":15577223,"reputation":491,"user_id":11238034,"display_name":"Lucas"},"score":0,"creation_date":1698974511,"post_id":77405943,"comment_id":136475868,"body_markdown":"That&#39;s a shame. But thanks, I&#39;ll check the docs as you suggested! Thank you very much!","body":"That&#39;s a shame. But thanks, I&#39;ll check the docs as you suggested! Thank you very much!"}],"owner":{"account_id":15577223,"reputation":491,"user_id":11238034,"display_name":"Lucas"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698940011,"creation_date":1698877391,"question_id":77405943,"body_markdown":"I&#39;ve an application that works in multiple countries, they&#39;re grouped per continent (i.e: `England`, `Portugal`, `France` and `Belgium` are grouped in the `EUROPE` cluster), but there are some countries that are entirely separate on it&#39;s own cluster.\r\n\r\nI&#39;ve something like user deletion and user creation, as follows:\r\n`user-creation-queue-XX` and `user-deletion-queue-XX` where `XX` is the country code (i.e: `PT`, `EN`, `FR` and so on).\r\n\r\nRight now, I only have a single method, which works:\r\n```Java\r\n@Component\r\npublic class UsertListener {\r\n\r\n @RabbitListener(queues = &quot;#{rabbitConfiguration.getQueueNames()}&quot;)\r\npublic void createUser(@Payload User user) {}\r\n}\r\n```\r\n\r\n`createUser` listens to `user-creation-queue-PT` `user-creation-queue-FR` `user-creation-queue-EN`, which is returned by `getQueueNames` method.\r\nNow I need to add another listener to another queue (user deletion) that has dozens of variations.\r\n\r\nHow do I listen to multiple different queues where each queue have dozens of variations?\r\n\r\n@Edit: I know the rough path for this would be to have a method for each queue, I&#39;m just wondering if there&#39;s a better and cleaner way of doing it. \r\n\r\n@Edit 2: By &quot;multiple&quot; variation of the same queue, I mean that I&#39;d have multiple `user-creation-queue-XX` where `XX` is the country code, each country having a variation of that `user-creation-queue-` queue.","title":"How to have multiple RabbitMQ queues on the same Spring listener","body":"<p>I've an application that works in multiple countries, they're grouped per continent (i.e: <code>England</code>, <code>Portugal</code>, <code>France</code> and <code>Belgium</code> are grouped in the <code>EUROPE</code> cluster), but there are some countries that are entirely separate on it's own cluster.</p>\n<p>I've something like user deletion and user creation, as follows:\n<code>user-creation-queue-XX</code> and <code>user-deletion-queue-XX</code> where <code>XX</code> is the country code (i.e: <code>PT</code>, <code>EN</code>, <code>FR</code> and so on).</p>\n<p>Right now, I only have a single method, which works:</p>\n<pre><code>@Component\npublic class UsertListener {\n\n @RabbitListener(queues = &quot;#{rabbitConfiguration.getQueueNames()}&quot;)\npublic void createUser(@Payload User user) {}\n}\n</code></pre>\n<p><code>createUser</code> listens to <code>user-creation-queue-PT</code> <code>user-creation-queue-FR</code> <code>user-creation-queue-EN</code>, which is returned by <code>getQueueNames</code> method.\nNow I need to add another listener to another queue (user deletion) that has dozens of variations.</p>\n<p>How do I listen to multiple different queues where each queue have dozens of variations?</p>\n<p>@Edit: I know the rough path for this would be to have a method for each queue, I'm just wondering if there's a better and cleaner way of doing it.</p>\n<p>@Edit 2: By &quot;multiple&quot; variation of the same queue, I mean that I'd have multiple <code>user-creation-queue-XX</code> where <code>XX</code> is the country code, each country having a variation of that <code>user-creation-queue-</code> queue.</p>\n"},{"tags":["java","classloader"],"comments":[{"owner":{"account_id":71739,"reputation":307143,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1698910211,"post_id":77407609,"comment_id":136464797,"body_markdown":"I&#39;m surprised it works at all. What exactly do you think you&#39;re reading from? There isn&#39;t any readable resource in a JAR file with the package name. I think you&#39;re reading a *directory* somehow here. That will never work for a JAR file.","body":"I&#39;m surprised it works at all. What exactly do you think you&#39;re reading from? There isn&#39;t any readable resource in a JAR file with the package name. I think you&#39;re reading a <i>directory</i> somehow here. That will never work for a JAR file."},{"owner":{"account_id":350117,"reputation":8653,"user_id":685806,"accept_rate":44,"display_name":"Pino"},"score":0,"creation_date":1698913422,"post_id":77407609,"comment_id":136465296,"body_markdown":"Does this answer your question? [Can you find all classes in a package using reflection?](https://stackoverflow.com/questions/520328/can-you-find-all-classes-in-a-package-using-reflection)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/520328/can-you-find-all-classes-in-a-package-using-reflection\">Can you find all classes in a package using reflection?</a>"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1698935521,"post_id":77407609,"comment_id":136469643,"body_markdown":"You do realize that after calling `stream.readAllBytes()`, there will be no bytes left in the InputStream, right?  That aside, user207421 is right:  you have no reasonable expectation that reading a package name as a resource will work.  You got lucky.  Don’t expect it to work in later versions of Java.","body":"You do realize that after calling <code>stream.readAllBytes()</code>, there will be no bytes left in the InputStream, right?  That aside, user207421 is right:  you have no reasonable expectation that reading a package name as a resource will work.  You got lucky.  Don’t expect it to work in later versions of Java."}],"answers":[{"tags":[],"owner":{"account_id":16026181,"reputation":1072,"user_id":11566361,"display_name":"Paolo Mossini"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1698939601,"creation_date":1698939601,"answer_id":77410972,"question_id":77407609,"body_markdown":"I found a solution to the problem:\r\n\r\nHere&#39;s the code:\r\n\r\n\r\n    public static Set&lt;Class&lt;?&gt;&gt; getClassesFromResource(String packageName) throws Exception {\r\n    \tString packageFolder = packageName.replaceAll(&quot;[.]&quot;, &quot;/&quot;);\r\n    \tSet&lt;Class&lt;?&gt;&gt; classes = new HashSet&lt;Class&lt;?&gt;&gt;();\r\n    \tURI resource = EntityDAOUtils.class.getClassLoader().getResource(packageFolder).toURI();\r\n    \tPath myPath = null;\r\n    \r\n    \tif (&quot;jar&quot;.equals(resource.getScheme())) {\r\n    \t\tfor (FileSystemProvider provider : FileSystemProvider.installedProviders()) {\r\n    \t\t\tif (provider.getScheme().equalsIgnoreCase(&quot;jar&quot;)) {\r\n    \t\t\t\ttry {\r\n    \t\t\t\t\tmyPath = provider.getFileSystem(resource).getPath(packageFolder);\r\n    \t\t\t\t} catch (FileSystemNotFoundException e) {\r\n    \t\t\t\t\t// in this case we need to initialize it first:\r\n    \t\t\t\t\tmyPath = provider.newFileSystem(resource, Collections.emptyMap()).getPath(packageFolder);\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tStream&lt;Path&gt; walk = Files.walk(myPath, 1);\r\n    \tfor (Iterator&lt;Path&gt; it = walk.iterator(); it.hasNext();) {\r\n    \t\tString line = it.next().toString();\r\n    \t\tif (line.endsWith(&quot;.class&quot;)) {\r\n    \t\t\tclasses.add(getClass(line.replace(&#39;/&#39;, &#39;.&#39;).replace(&quot;.class&quot;, &quot;&quot;), packageName));\r\n    \t\t}\r\n    \t}\r\n    \twalk.close();\r\n    \treturn classes;\r\n    }\r\n    \r\n    public static Class getClass(String className, String packageName) throws Exception {\r\n    \ttry {\r\n    \t\treturn Class.forName(packageName + &quot;.&quot; + className.substring(className.lastIndexOf(&#39;.&#39;) + 1));\r\n    \t} catch (ClassNotFoundException e) {\r\n    \t\tthrow new Exception(\r\n    \t\t\t\t&quot;Class &quot; + packageName + &quot;.&quot; + className.substring(className.lastIndexOf(&#39;.&#39;) + 1) + &quot; not found!&quot;);\r\n    \t}\r\n    }\r\n\r\n","title":"Java Classloader not working when running jar","body":"<p>I found a solution to the problem:</p>\n<p>Here's the code:</p>\n<pre><code>public static Set&lt;Class&lt;?&gt;&gt; getClassesFromResource(String packageName) throws Exception {\n    String packageFolder = packageName.replaceAll(&quot;[.]&quot;, &quot;/&quot;);\n    Set&lt;Class&lt;?&gt;&gt; classes = new HashSet&lt;Class&lt;?&gt;&gt;();\n    URI resource = EntityDAOUtils.class.getClassLoader().getResource(packageFolder).toURI();\n    Path myPath = null;\n\n    if (&quot;jar&quot;.equals(resource.getScheme())) {\n        for (FileSystemProvider provider : FileSystemProvider.installedProviders()) {\n            if (provider.getScheme().equalsIgnoreCase(&quot;jar&quot;)) {\n                try {\n                    myPath = provider.getFileSystem(resource).getPath(packageFolder);\n                } catch (FileSystemNotFoundException e) {\n                    // in this case we need to initialize it first:\n                    myPath = provider.newFileSystem(resource, Collections.emptyMap()).getPath(packageFolder);\n                }\n            }\n        }\n    }\n\n    Stream&lt;Path&gt; walk = Files.walk(myPath, 1);\n    for (Iterator&lt;Path&gt; it = walk.iterator(); it.hasNext();) {\n        String line = it.next().toString();\n        if (line.endsWith(&quot;.class&quot;)) {\n            classes.add(getClass(line.replace('/', '.').replace(&quot;.class&quot;, &quot;&quot;), packageName));\n        }\n    }\n    walk.close();\n    return classes;\n}\n\npublic static Class getClass(String className, String packageName) throws Exception {\n    try {\n        return Class.forName(packageName + &quot;.&quot; + className.substring(className.lastIndexOf('.') + 1));\n    } catch (ClassNotFoundException e) {\n        throw new Exception(\n                &quot;Class &quot; + packageName + &quot;.&quot; + className.substring(className.lastIndexOf('.') + 1) + &quot; not found!&quot;);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":16026181,"reputation":1072,"user_id":11566361,"display_name":"Paolo Mossini"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77410972,"answer_count":1,"score":0,"last_activity_date":1698939601,"creation_date":1698909782,"question_id":77407609,"body_markdown":"I have this Java code, to get all classes in a package:\r\n\r\n    public static Set&lt;Class&gt; findAllClassesUsingClassLoader(String packageName) throws Exception {\r\n    \t\tInputStream stream = ClassLoader.getSystemClassLoader().getResourceAsStream(packageName.replaceAll(&quot;[.]&quot;, &quot;/&quot;));\r\n    \t\tSystem.out.println(packageName);\r\n    \t\tString text = new String(stream.readAllBytes(), StandardCharsets.UTF_8);\r\n    \t\tSystem.out.println(text);\r\n    \t\tBufferedReader reader = new BufferedReader(new InputStreamReader(stream));\r\n    \t\treturn reader.lines().filter(line -&gt; line.endsWith(&quot;.class&quot;)).map(line -&gt; {\r\n    \t\t\ttry {\r\n    \t\t\t\tSystem.out.println(&quot;HERE&quot;);\r\n    \t\t\t\treturn getClass(line, packageName);\r\n    \t\t\t} catch (Exception e) {\r\n    \t\t\t\te.printStackTrace();\r\n    \t\t\t\treturn null;\r\n    \t\t\t}\r\n    \t\t}).collect(Collectors.toSet());\r\n    \t}\r\n    \r\n    \tpublic static Class getClass(String className, String packageName) throws Exception {\r\n    \t\ttry {\r\n    \t\t\treturn Class.forName(packageName + &quot;.&quot; + className.substring(0, className.lastIndexOf(&#39;.&#39;)));\r\n    \t\t} catch (ClassNotFoundException e) {\r\n    \t\t\tthrow new Exception(&quot;Class &quot; + className + &quot; not found!&quot;);\r\n    \t\t}\r\n    \t}\r\n\r\nIt works when I run it from the IDE, but when I run my application with `java -jar`  the InputStream is empty.\r\n\r\nHow can I change my code in order to make it work running it with `java -jar`?\r\n","title":"Java Classloader not working when running jar","body":"<p>I have this Java code, to get all classes in a package:</p>\n<pre><code>public static Set&lt;Class&gt; findAllClassesUsingClassLoader(String packageName) throws Exception {\n        InputStream stream = ClassLoader.getSystemClassLoader().getResourceAsStream(packageName.replaceAll(&quot;[.]&quot;, &quot;/&quot;));\n        System.out.println(packageName);\n        String text = new String(stream.readAllBytes(), StandardCharsets.UTF_8);\n        System.out.println(text);\n        BufferedReader reader = new BufferedReader(new InputStreamReader(stream));\n        return reader.lines().filter(line -&gt; line.endsWith(&quot;.class&quot;)).map(line -&gt; {\n            try {\n                System.out.println(&quot;HERE&quot;);\n                return getClass(line, packageName);\n            } catch (Exception e) {\n                e.printStackTrace();\n                return null;\n            }\n        }).collect(Collectors.toSet());\n    }\n\n    public static Class getClass(String className, String packageName) throws Exception {\n        try {\n            return Class.forName(packageName + &quot;.&quot; + className.substring(0, className.lastIndexOf('.')));\n        } catch (ClassNotFoundException e) {\n            throw new Exception(&quot;Class &quot; + className + &quot; not found!&quot;);\n        }\n    }\n</code></pre>\n<p>It works when I run it from the IDE, but when I run my application with <code>java -jar</code>  the InputStream is empty.</p>\n<p>How can I change my code in order to make it work running it with <code>java -jar</code>?</p>\n"},{"tags":["java","xml","xsd","unmarshalling"],"comments":[{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":0,"creation_date":1698935252,"post_id":77410386,"comment_id":136469595,"body_markdown":"It might not be openshift problem, but rather how your docker image looks like.  Try to run it from inside docker, for example docker run -it yourimage sh. and then inside the terminal run your java class and actually look at the folder that has your XSDs","body":"It might not be openshift problem, but rather how your docker image looks like.  Try to run it from inside docker, for example docker run -it yourimage sh. and then inside the terminal run your java class and actually look at the folder that has your XSDs"},{"owner":{"account_id":17122673,"reputation":137,"user_id":12390562,"display_name":"Broshet"},"score":0,"creation_date":1698935708,"post_id":77410386,"comment_id":136469686,"body_markdown":"I have extract jar file that is deploy on openshift and XSD are correctly in myJar.jar\\BOOT-INF\\classes\\xsd\\ folder","body":"I have extract jar file that is deploy on openshift and XSD are correctly in myJar.jar\\BOOT-INF\\classes\\xsd\\ folder"}],"answers":[{"tags":[],"owner":{"account_id":1096470,"reputation":26056,"user_id":1089967,"accept_rate":59,"display_name":"lance-java"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1698939432,"creation_date":1698935967,"answer_id":77410503,"question_id":77410386,"body_markdown":"```java\r\nStreamSource stream = new StreamSource(myObject);\r\n```\r\n\r\nWhat is `myObject` in this instance? Is it a [InputStream](https://docs.oracle.com/javase%2F7%2Fdocs%2Fapi%2F%2F/java/io/InputStream.html) or a [Reader](https://docs.oracle.com/javase%2F7%2Fdocs%2Fapi%2F%2F/java/io/Reader.html)?\r\n\r\nJudging by the exception I get the feeling you are trying to read from a `Reader` or `InputStream` more than once. \r\n\r\n**Please note that you can only read from an `InputStream` / `Reader` once.** \r\n\r\nPerhaps you want to do something like the following so you create a new `InputStream` each time you iterate the list?\r\n\r\n```java\r\npublic interface InputStreamSource {\r\n   InputStream get() throws IOException;\r\n}\r\n\r\npublic class MyClass {\r\n   // myList is a long-lived object and can be iterated multiple times\r\n   // since we create a new InputStream each time we call InputStreamSource.get() \r\n   private final List&lt;InputStreamSource&gt; myList = List.of(\r\n      () -&gt; new FileInputStream(&quot;path/to/file1.xml&quot;),\r\n      () -&gt; new FileInputStream(&quot;path/to/file2.xml&quot;)\r\n   );\r\n\r\n   public List&lt;Object&gt; doIt() {\r\n      return myList.stream()\r\n         .map(myObject -&gt; unmarshallFichier(myObject, unmarshaller))\r\n         .collect(Collectors.toList());\r\n   }\r\n\r\n   private Object unmarshallFichier(InputStreamSource streamSource, Unmarshaller unmarshaller) {\r\n      try (InputStream in = streamSource.get()) {\r\n         StreamSource stream = new StreamSource(in);\r\n         JAXBElement&lt;?&gt; jaxbElement = unmarshaller.unmarshal(stream, typeClasse.getClass());\r\n         return (T) jaxbElement.getValue();\r\n      } catch (JAXBException e) {\r\n         throw new UnmarshallException(e);\r\n      }\r\n   }\r\n}  \r\n```","title":"Unmarshal XML from XSD failed with JAR Execution with &quot;java.io.IOException: Buffer already closed&quot;","body":"<pre class=\"lang-java prettyprint-override\"><code>StreamSource stream = new StreamSource(myObject);\n</code></pre>\n<p>What is <code>myObject</code> in this instance? Is it a <a href=\"https://docs.oracle.com/javase%2F7%2Fdocs%2Fapi%2F%2F/java/io/InputStream.html\" rel=\"nofollow noreferrer\">InputStream</a> or a <a href=\"https://docs.oracle.com/javase%2F7%2Fdocs%2Fapi%2F%2F/java/io/Reader.html\" rel=\"nofollow noreferrer\">Reader</a>?</p>\n<p>Judging by the exception I get the feeling you are trying to read from a <code>Reader</code> or <code>InputStream</code> more than once.</p>\n<p><strong>Please note that you can only read from an <code>InputStream</code> / <code>Reader</code> once.</strong></p>\n<p>Perhaps you want to do something like the following so you create a new <code>InputStream</code> each time you iterate the list?</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface InputStreamSource {\n   InputStream get() throws IOException;\n}\n\npublic class MyClass {\n   // myList is a long-lived object and can be iterated multiple times\n   // since we create a new InputStream each time we call InputStreamSource.get() \n   private final List&lt;InputStreamSource&gt; myList = List.of(\n      () -&gt; new FileInputStream(&quot;path/to/file1.xml&quot;),\n      () -&gt; new FileInputStream(&quot;path/to/file2.xml&quot;)\n   );\n\n   public List&lt;Object&gt; doIt() {\n      return myList.stream()\n         .map(myObject -&gt; unmarshallFichier(myObject, unmarshaller))\n         .collect(Collectors.toList());\n   }\n\n   private Object unmarshallFichier(InputStreamSource streamSource, Unmarshaller unmarshaller) {\n      try (InputStream in = streamSource.get()) {\n         StreamSource stream = new StreamSource(in);\n         JAXBElement&lt;?&gt; jaxbElement = unmarshaller.unmarshal(stream, typeClasse.getClass());\n         return (T) jaxbElement.getValue();\n      } catch (JAXBException e) {\n         throw new UnmarshallException(e);\n      }\n   }\n}  \n</code></pre>\n"}],"owner":{"account_id":17122673,"reputation":137,"user_id":12390562,"display_name":"Broshet"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77410503,"answer_count":1,"score":0,"last_activity_date":1698939432,"creation_date":1698934903,"question_id":77410386,"body_markdown":"I have a java code that extract an Xml section from a PDF (Apache PDFBox) and unmarshall it to a java Class. \r\n\r\nOn local execution with IntelliJ, all is OK, but when I deploy jar on an openshift cluster, unmarshal is ko with &quot;java.io.IOException: Buffer already closed&quot; \r\n\r\nFrom my PDF, I extract a List&lt;InputStream&gt;\r\n\r\nThen, I create an unmarshal like this :\r\n\r\n \r\n\r\n    try {\r\n          JAXBContext context = JAXBContext.newInstance(typeClasse.getClass());\r\n          Unmarshaller unmarshaller = context.createUnmarshaller();\r\n          SchemaFactory factory = SchemaFactory.newInstance(XMLConstants.W3C_XML_SCHEMA_NS_URI);\r\n          String xsdFilePath = getXSD();\r\n          Schema schema = factory.newSchema(this.getClass().getResource(&quot;/&quot; + xsdFilePath));\r\n          unmarshaller.setSchema(schema);\r\n          unmarshaller.setEventHandler(event -&gt; false);\r\n          return unmarshaller;\r\n        } catch (JAXBException | SAXException e) {\r\n          throw new UnmarshallException(e);\r\n        }\r\n\r\n\r\ntypeClasse is my output unmarshall class, getXSD() give me the path on my root XSD definition, all my XSD are on the same directory &quot;xsd&quot; on resource java folder and the one return by getXSD() include all the other. Path is like &quot;xsd/myparentXSD.xsd&quot;\r\n\r\nThen, with my List&lt;InputStream&gt; (myList) I do this code that return a List&lt;T&gt; where T is the typeClasse.\r\n\r\n    myList.stream()\r\n            .map(myObject -&gt; unmarshallFichier(myObject, unmarshaller))\r\n            .collect(Collectors.toList());\r\n\r\nunmarshaller is the one detail below and unmarshallFichier is :\r\n\r\n    try {\r\n      StreamSource stream = new StreamSource(myObject);\r\n      JAXBElement&lt;?&gt; jaxbElement = unmarshaller.unmarshal(stream, typeClasse.getClass());\r\n      return (T) jaxbElement.getValue();\r\n    } catch (JAXBException e) {\r\n      throw new UnmarshallException(e);\r\n    }\r\n\r\nBut on openshift, this code is wrong and produce java.io.IOException: Buffer already closed (but not  inc local)\r\n\r\nWhat is wrong whith this ?","title":"Unmarshal XML from XSD failed with JAR Execution with &quot;java.io.IOException: Buffer already closed&quot;","body":"<p>I have a java code that extract an Xml section from a PDF (Apache PDFBox) and unmarshall it to a java Class.</p>\n<p>On local execution with IntelliJ, all is OK, but when I deploy jar on an openshift cluster, unmarshal is ko with &quot;java.io.IOException: Buffer already closed&quot;</p>\n<p>From my PDF, I extract a List</p>\n<p>Then, I create an unmarshal like this :</p>\n<pre><code>try {\n      JAXBContext context = JAXBContext.newInstance(typeClasse.getClass());\n      Unmarshaller unmarshaller = context.createUnmarshaller();\n      SchemaFactory factory = SchemaFactory.newInstance(XMLConstants.W3C_XML_SCHEMA_NS_URI);\n      String xsdFilePath = getXSD();\n      Schema schema = factory.newSchema(this.getClass().getResource(&quot;/&quot; + xsdFilePath));\n      unmarshaller.setSchema(schema);\n      unmarshaller.setEventHandler(event -&gt; false);\n      return unmarshaller;\n    } catch (JAXBException | SAXException e) {\n      throw new UnmarshallException(e);\n    }\n</code></pre>\n<p>typeClasse is my output unmarshall class, getXSD() give me the path on my root XSD definition, all my XSD are on the same directory &quot;xsd&quot; on resource java folder and the one return by getXSD() include all the other. Path is like &quot;xsd/myparentXSD.xsd&quot;</p>\n<p>Then, with my List (myList) I do this code that return a List where T is the typeClasse.</p>\n<pre><code>myList.stream()\n        .map(myObject -&gt; unmarshallFichier(myObject, unmarshaller))\n        .collect(Collectors.toList());\n</code></pre>\n<p>unmarshaller is the one detail below and unmarshallFichier is :</p>\n<pre><code>try {\n  StreamSource stream = new StreamSource(myObject);\n  JAXBElement&lt;?&gt; jaxbElement = unmarshaller.unmarshal(stream, typeClasse.getClass());\n  return (T) jaxbElement.getValue();\n} catch (JAXBException e) {\n  throw new UnmarshallException(e);\n}\n</code></pre>\n<p>But on openshift, this code is wrong and produce java.io.IOException: Buffer already closed (but not  inc local)</p>\n<p>What is wrong whith this ?</p>\n"},{"tags":["java","google-cloud-platform","google-cloud-storage","google-play-developer-api"],"owner":{"account_id":18727972,"reputation":1,"user_id":13654124,"display_name":"YueGod"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698938151,"creation_date":1698925104,"question_id":77409259,"body_markdown":"I have created a new service account in Google Cloud and configured the corresponding storage objects admin permissions. Then I added this service account in Google Play Console. However, when this account attempts to retrieve financial report data, it prompts me with &quot;does not have storage.objects.list access to the Google Cloud Storage bucket. Permission &#39;storage.objects.list&#39; denied on resource (or it may not exist)&quot;.\r\n```\r\n@Test\r\n    public void execute() throws Exception {\r\n        Storage storage = create();\r\n        Page&lt;Blob&gt; list = storage.list(&quot;Bucket name&quot;);\r\n        for (Blob blob : list.iterateAll()) {\r\n            System.out.println(blob);\r\n        }\r\n    }\r\n\r\n    public Storage create() throws Exception {\r\n        String projectId = &quot;My project id&quot;;\r\n        ClassPathResource classPathResource = new ClassPathResource(&quot;google/realtalk-c7a20-63be3ffe7b91.json&quot;);\r\n        InputStream is = classPathResource.getInputStream();\r\n        GoogleCredentials credentials = GoogleCredentials.fromStream(is);\r\n\r\n        return StorageOptions.newBuilder()\r\n                .setCredentials(credentials)\r\n                .setProjectId(projectId)\r\n                .build()\r\n                .getService();\r\n    }\r\n```\r\n\r\n\r\nWhy is this happening? Is it because I haven&#39;t activated Google Cloud Storage? However, I believe the financial reports in Google Play Console should be stored in Google&#39;s own Storage.","title":"Java error in retrieving financial report data from Google Play Console using google-cloud-storage","body":"<p>I have created a new service account in Google Cloud and configured the corresponding storage objects admin permissions. Then I added this service account in Google Play Console. However, when this account attempts to retrieve financial report data, it prompts me with &quot;does not have storage.objects.list access to the Google Cloud Storage bucket. Permission 'storage.objects.list' denied on resource (or it may not exist)&quot;.</p>\n<pre><code>@Test\n    public void execute() throws Exception {\n        Storage storage = create();\n        Page&lt;Blob&gt; list = storage.list(&quot;Bucket name&quot;);\n        for (Blob blob : list.iterateAll()) {\n            System.out.println(blob);\n        }\n    }\n\n    public Storage create() throws Exception {\n        String projectId = &quot;My project id&quot;;\n        ClassPathResource classPathResource = new ClassPathResource(&quot;google/realtalk-c7a20-63be3ffe7b91.json&quot;);\n        InputStream is = classPathResource.getInputStream();\n        GoogleCredentials credentials = GoogleCredentials.fromStream(is);\n\n        return StorageOptions.newBuilder()\n                .setCredentials(credentials)\n                .setProjectId(projectId)\n                .build()\n                .getService();\n    }\n</code></pre>\n<p>Why is this happening? Is it because I haven't activated Google Cloud Storage? However, I believe the financial reports in Google Play Console should be stored in Google's own Storage.</p>\n"},{"tags":["java","android","firebase","firebase-analytics"],"comments":[{"owner":{"account_id":6179883,"reputation":37889,"user_id":4815718,"accept_rate":100,"display_name":"Bob Snyder"},"score":0,"creation_date":1525283220,"post_id":50138152,"comment_id":87299515,"body_markdown":"I had an experience with DebugView where is seemed I needed to close and reopen the Firebase Console tab in my browser (Chrome) to get it to start displaying events.  Give that a try.","body":"I had an experience with DebugView where is seemed I needed to close and reopen the Firebase Console tab in my browser (Chrome) to get it to start displaying events.  Give that a try."},{"owner":{"account_id":12598951,"reputation":252,"user_id":9162370,"display_name":"Mohit Dholakia"},"score":0,"creation_date":1583495988,"post_id":50138152,"comment_id":107146004,"body_markdown":"is this issue fixed?","body":"is this issue fixed?"},{"owner":{"account_id":160739,"reputation":1442,"user_id":381031,"display_name":"Anton"},"score":0,"creation_date":1603628195,"post_id":50138152,"comment_id":114091033,"body_markdown":"potential duplicate of https://stackoverflow.com/questions/42769236/firebase-analytics-debug-view-does-not-show-anything","body":"potential duplicate of <a href=\"https://stackoverflow.com/questions/42769236/firebase-analytics-debug-view-does-not-show-anything\" title=\"firebase analytics debug view does not show anything\">stackoverflow.com/questions/42769236/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":13731412,"reputation":69,"user_id":9908842,"display_name":"Arman Bazarbayev"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1553776430,"creation_date":1553768780,"answer_id":55395286,"question_id":50138152,"body_markdown":"You can see your list of devices -&gt; ***adb devices*** \r\n\r\nand then -&gt; ***adb shell setprop debug.firebase.analytics.app package_name***\r\n\r\nafter that, in Android Studio, **run by Debug**","title":"DebugView no devices available","body":"<p>You can see your list of devices -> <strong><em>adb devices</em></strong> </p>\n\n<p>and then -> <strong><em>adb shell setprop debug.firebase.analytics.app package_name</em></strong></p>\n\n<p>after that, in Android Studio, <strong>run by Debug</strong></p>\n"},{"tags":[],"owner":{"display_name":"user4571931"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1553776759,"creation_date":1553776759,"answer_id":55397869,"question_id":50138152,"body_markdown":"This command will be helpful to see debug view in firebase analytics:\r\n\r\nadb shell setprop debug.firebase.analytics.app &lt;package_name&gt;\r\n\r\nOne additional note specified in firebase Google support\r\n\r\n&gt; Note: Before using DebugView, you should ensure that your device time is accurate. A skewed device clock will result in delayed or missing events in your Analytics reports.\r\n\r\nYou can refere to below link : \r\nhttps://support.google.com/firebase/answer/7201382?hl=en","title":"DebugView no devices available","body":"<p>This command will be helpful to see debug view in firebase analytics:</p>\n\n<p>adb shell setprop debug.firebase.analytics.app </p>\n\n<p>One additional note specified in firebase Google support</p>\n\n<blockquote>\n  <p>Note: Before using DebugView, you should ensure that your device time is accurate. A skewed device clock will result in delayed or missing events in your Analytics reports.</p>\n</blockquote>\n\n<p>You can refere to below link : \n<a href=\"https://support.google.com/firebase/answer/7201382?hl=en\" rel=\"nofollow noreferrer\">https://support.google.com/firebase/answer/7201382?hl=en</a></p>\n"},{"tags":[],"owner":{"account_id":10337248,"reputation":1807,"user_id":7624937,"accept_rate":40,"display_name":"LLL"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1568886610,"creation_date":1568886610,"answer_id":58008286,"question_id":50138152,"body_markdown":"I had the same symptoms as you did. In my case the problem was simply because I forgot to turn on WiFi, so events couldn&#39;t be propagated to cloud but were appearing in logcat.","title":"DebugView no devices available","body":"<p>I had the same symptoms as you did. In my case the problem was simply because I forgot to turn on WiFi, so events couldn't be propagated to cloud but were appearing in logcat.</p>\n"},{"tags":[],"owner":{"account_id":15677021,"reputation":402,"user_id":11312082,"display_name":"Alexei Masterov"},"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1587749033,"creation_date":1587749033,"answer_id":61413967,"question_id":50138152,"body_markdown":"I&#39;ve spent insane amount of time debugging this, and my conclusion - it is the Firebase instability, because I get events intermittently, and there is no pattern to what makes them appear in that DebugView","title":"DebugView no devices available","body":"<p>I've spent insane amount of time debugging this, and my conclusion - it is the Firebase instability, because I get events intermittently, and there is no pattern to what makes them appear in that DebugView</p>\n"},{"tags":[],"owner":{"account_id":10104271,"reputation":2184,"user_id":7467341,"accept_rate":50,"display_name":"Taylor A. Leach"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1597351095,"creation_date":1597351095,"answer_id":63402872,"question_id":50138152,"body_markdown":"My situation may not be relevant but posting for my future sanity if nothing else.\r\n\r\nI had created a new project in firebase and also was having the problem where it said the &#39;Finish the sdk setup&#39; error trying to communicate with my application (which I had just finished renaming the android package-prompting to create a new project in Firebase)\r\n\r\nI was trying to get debugging to work to &#39;kick&#39; it into connecting, but was getting not devices so I knew there was something wrong.\r\n\r\nMy issue was my `google-services.json` filed. It had a reference to my old project name in there AS WELL as my new one. So maybe it was getting confused?\r\n\r\nUnder client, there were two objects with client_info, api_key, etc. I removed the old one, leaving only the newer correct one.\r\n\r\n```\r\n  &quot;client&quot;: [\r\n    {...}, // &lt;-- removed this one\r\n    {...}\r\n  ]\r\n\r\n```","title":"DebugView no devices available","body":"<p>My situation may not be relevant but posting for my future sanity if nothing else.</p>\n<p>I had created a new project in firebase and also was having the problem where it said the 'Finish the sdk setup' error trying to communicate with my application (which I had just finished renaming the android package-prompting to create a new project in Firebase)</p>\n<p>I was trying to get debugging to work to 'kick' it into connecting, but was getting not devices so I knew there was something wrong.</p>\n<p>My issue was my <code>google-services.json</code> filed. It had a reference to my old project name in there AS WELL as my new one. So maybe it was getting confused?</p>\n<p>Under client, there were two objects with client_info, api_key, etc. I removed the old one, leaving only the newer correct one.</p>\n<pre><code>  &quot;client&quot;: [\n    {...}, // &lt;-- removed this one\n    {...}\n  ]\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8260427,"reputation":2626,"user_id":6212067,"display_name":"M. Arabi Hasan Sakib"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1599029558,"creation_date":1599029558,"answer_id":63700178,"question_id":50138152,"body_markdown":"Please ensure that the following steps have been followed:\r\n\r\n**Step 1:** Your app is properly configured in the Firebase console to support the Analytics features.\r\n\r\n**Step 2:**\r\n\r\nA) If you are simply working with single build variant, the following command is enough:\r\n\r\n    adb shell setprop debug.firebase.analytics.app [your_app_package_name]\r\n\r\nB) But if you are working with multiple build variants with different application IDs which are not the same as the app package name, be sure to execute the following command:\r\n\r\n    adb shell setprop debug.firebase.analytics.app [your_application_id]\r\n\r\nHere, application ID is the app ID of your build variant found in the corresponding gradle file. For example, lets say you have x.gradle and y.gradle for two build variants x and y, and you also have the general build.gradle file. To debug the build variant x with application ID com.abc.x, the command will be:\r\n\r\n    adb shell setprop debug.firebase.analytics.app com.abc.x\r\n\r\nSimilarly, to debug the build variant y with application ID com.abc.y, the command will be:\r\n\r\n    adb shell setprop debug.firebase.analytics.app com.abc.y\r\n\r\nThis behavior persists until you explicitly disable it by executing the following command:\r\n\r\n    adb shell setprop debug.firebase.analytics.app .none.","title":"DebugView no devices available","body":"<p>Please ensure that the following steps have been followed:</p>\n<p><strong>Step 1:</strong> Your app is properly configured in the Firebase console to support the Analytics features.</p>\n<p><strong>Step 2:</strong></p>\n<p>A) If you are simply working with single build variant, the following command is enough:</p>\n<pre><code>adb shell setprop debug.firebase.analytics.app [your_app_package_name]\n</code></pre>\n<p>B) But if you are working with multiple build variants with different application IDs which are not the same as the app package name, be sure to execute the following command:</p>\n<pre><code>adb shell setprop debug.firebase.analytics.app [your_application_id]\n</code></pre>\n<p>Here, application ID is the app ID of your build variant found in the corresponding gradle file. For example, lets say you have x.gradle and y.gradle for two build variants x and y, and you also have the general build.gradle file. To debug the build variant x with application ID com.abc.x, the command will be:</p>\n<pre><code>adb shell setprop debug.firebase.analytics.app com.abc.x\n</code></pre>\n<p>Similarly, to debug the build variant y with application ID com.abc.y, the command will be:</p>\n<pre><code>adb shell setprop debug.firebase.analytics.app com.abc.y\n</code></pre>\n<p>This behavior persists until you explicitly disable it by executing the following command:</p>\n<pre><code>adb shell setprop debug.firebase.analytics.app .none.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12256562,"reputation":309,"user_id":8945452,"display_name":"rodmaia"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633103298,"creation_date":1633103298,"answer_id":69408683,"question_id":50138152,"body_markdown":"Make sure you haven&#39;t disabled Firebase Analytics logging either on Gradle or on your manifest.","title":"DebugView no devices available","body":"<p>Make sure you haven't disabled Firebase Analytics logging either on Gradle or on your manifest.</p>\n"},{"tags":[],"owner":{"account_id":1025526,"reputation":2173,"user_id":1034912,"accept_rate":64,"display_name":"user1034912"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641817879,"creation_date":1641817879,"answer_id":70652451,"question_id":50138152,"body_markdown":"Ok for me.... the reason was because I was having this on my second screen =&gt;\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/gMBka.jpg\r\n\r\n\r\n**Lessons learnt:**\r\n1) Android Emulators messes up with the ADB and have an impact on firebase debug view. \r\n2) Don&#39;t play games during work... It&#39;s &#39;DIRECTLY&#39; counter productive.","title":"DebugView no devices available","body":"<p>Ok for me.... the reason was because I was having this on my second screen =&gt;</p>\n<p><a href=\"https://i.stack.imgur.com/gMBka.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gMBka.jpg\" alt=\"enter image description here\" /></a></p>\n<p><strong>Lessons learnt:</strong></p>\n<ol>\n<li>Android Emulators messes up with the ADB and have an impact on firebase debug view.</li>\n<li>Don't play games during work... It's 'DIRECTLY' counter productive.</li>\n</ol>\n"}],"owner":{"account_id":13041139,"reputation":83,"user_id":9424495,"display_name":"Igor Turchi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18227,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":8,"score":8,"last_activity_date":1698938147,"creation_date":1525274431,"question_id":50138152,"body_markdown":"I&#39;m doing some tests on a small app to understand how firebase-analytics works. This is the code for the MainActivity:  \r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n    private FirebaseAnalytics mFirebaseAnalytics;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        mFirebaseAnalytics = FirebaseAnalytics.getInstance(getApplicationContext());\r\n\r\n        mFirebaseAnalytics.setAnalyticsCollectionEnabled(true);\r\n\r\n        mFirebaseAnalytics.setMinimumSessionDuration(10000);\r\n\r\n        mFirebaseAnalytics.setSessionTimeoutDuration(300);\r\n\r\n        Bundle bundle = new Bundle();\r\n        bundle.putString(FirebaseAnalytics.Param.ITEM_ID,&quot;ID&quot;);\r\n        bundle.putString(FirebaseAnalytics.Param.ITEM_NAME,&quot;NAME&quot;);\r\n        bundle.putString(FirebaseAnalytics.Param.CONTENT_TYPE,&quot;image&quot;);\r\n\r\n        mFirebaseAnalytics.logEvent(FirebaseAnalytics.Event.SELECT_CONTENT, bundle);\r\n    }\r\n\r\nTo see if my app send data to Firebase I tryed to use DebugView but it says that there isn&#39;t any devices available, i also used the command   \r\n\r\n    adb shell setprop debug.firebase.analytics.app &lt;package_name&gt;  \r\nbut nothing changed.  \r\nIf i use these 3 commands  \r\n\r\n    adb shell setprop log.tag.FA VERBOSE\r\n    adb shell setprop log.tag.FA-SVC VERBOSE\r\n    adb logcat -v time -s FA FA-SVC\r\ni can see that my app is sending some data  to firebase, like in this picture:\r\n\r\n![android adb logs][1]\r\n\r\nWhat can i do to enable DebugView and see what my app send to firebase in real time?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ha7XM.png","title":"DebugView no devices available","body":"<p>I'm doing some tests on a small app to understand how firebase-analytics works. This is the code for the MainActivity:</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\nprivate FirebaseAnalytics mFirebaseAnalytics;\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    mFirebaseAnalytics = FirebaseAnalytics.getInstance(getApplicationContext());\n\n    mFirebaseAnalytics.setAnalyticsCollectionEnabled(true);\n\n    mFirebaseAnalytics.setMinimumSessionDuration(10000);\n\n    mFirebaseAnalytics.setSessionTimeoutDuration(300);\n\n    Bundle bundle = new Bundle();\n    bundle.putString(FirebaseAnalytics.Param.ITEM_ID,&quot;ID&quot;);\n    bundle.putString(FirebaseAnalytics.Param.ITEM_NAME,&quot;NAME&quot;);\n    bundle.putString(FirebaseAnalytics.Param.CONTENT_TYPE,&quot;image&quot;);\n\n    mFirebaseAnalytics.logEvent(FirebaseAnalytics.Event.SELECT_CONTENT, bundle);\n}\n</code></pre>\n<p>To see if my app send data to Firebase I tryed to use DebugView but it says that there isn't any devices available, i also used the command</p>\n<pre><code>adb shell setprop debug.firebase.analytics.app &lt;package_name&gt;  \n</code></pre>\n<p>but nothing changed.<br />\nIf i use these 3 commands</p>\n<pre><code>adb shell setprop log.tag.FA VERBOSE\nadb shell setprop log.tag.FA-SVC VERBOSE\nadb logcat -v time -s FA FA-SVC\n</code></pre>\n<p>i can see that my app is sending some data  to firebase, like in this picture:</p>\n<p><img src=\"https://i.stack.imgur.com/ha7XM.png\" alt=\"android adb logs\" /></p>\n<p>What can i do to enable DebugView and see what my app send to firebase in real time?</p>\n"},{"tags":["java","criteria-api","openjpa"],"answers":[{"tags":[],"owner":{"account_id":100622,"reputation":3010,"user_id":271149,"accept_rate":90,"display_name":"quantum"},"down_vote_count":0,"up_vote_count":39,"is_accepted":true,"score":39,"last_activity_date":1308567609,"creation_date":1308567609,"answer_id":6410166,"question_id":6396877,"body_markdown":"Heh, the solution is suprisingly simple - and it looks really ugly, but it works.\r\n\r\n    predicate1 = criteriaBuilder.and(predicate1, criteriaBuilder.equal(rootObj.get(&quot;Y&quot;).&lt;String&gt; get(&quot;Z&quot;), param1));}\r\n\r\nI really don&#39;t know if there is a more elegant solution to this.","title":"OpenJPA criteriaBuilder nested object property fetch","body":"<p>Heh, the solution is suprisingly simple - and it looks really ugly, but it works.</p>\n\n<pre><code>predicate1 = criteriaBuilder.and(predicate1, criteriaBuilder.equal(rootObj.get(\"Y\").&lt;String&gt; get(\"Z\"), param1));}\n</code></pre>\n\n<p>I really don't know if there is a more elegant solution to this.</p>\n"},{"tags":[],"owner":{"account_id":3063996,"reputation":5861,"user_id":2596109,"accept_rate":50,"display_name":"Oleg Mikhailov"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1698937721,"creation_date":1561587255,"answer_id":56781584,"question_id":6396877,"body_markdown":"For any arbitrary nested attribute path (&quot;relation.subRelation.attribute&quot;):\r\n\r\n    private &lt;T&gt; Path&lt;T&gt; getPath(Root&lt;T&gt; root, String attributeName) {\r\n        Path&lt;T&gt; path = root;\r\n        for (String part : attributeName.split(&quot;\\\\.&quot;)) {\r\n            path = path.get(part);\r\n        }\r\n        return path;\r\n    }","title":"OpenJPA criteriaBuilder nested object property fetch","body":"<p>For any arbitrary nested attribute path (&quot;relation.subRelation.attribute&quot;):</p>\n<pre><code>private &lt;T&gt; Path&lt;T&gt; getPath(Root&lt;T&gt; root, String attributeName) {\n    Path&lt;T&gt; path = root;\n    for (String part : attributeName.split(&quot;\\\\.&quot;)) {\n        path = path.get(part);\n    }\n    return path;\n}\n</code></pre>\n"}],"owner":{"account_id":100622,"reputation":3010,"user_id":271149,"accept_rate":90,"display_name":"quantum"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24121,"favorite_count":0,"down_vote_count":0,"up_vote_count":29,"accepted_answer_id":6410166,"answer_count":2,"score":29,"last_activity_date":1698937721,"creation_date":1308409498,"question_id":6396877,"body_markdown":"Is there any way in OpenJPA to get hold of a nested object property via CriteriaBuilder?\r\n\r\nHere&#39;s a small case.\r\n\r\n    @Entity\r\n    public class X {\r\n           private Object Y;\r\n\r\n           // getters, setters...\r\n    }\r\n\r\n    @Entity\r\n    public class Y {\r\n           private String Z;\r\n\r\n           // getters, setters...\r\n    }\r\n\r\nSo, when using CriteriaBuilder, we use X as Root, i.e.:\r\n\r\n    @PersistenceContext\r\n    private EntityManager entityManager;\r\n\r\n    //.....\r\n\r\n    Root&lt;X&gt; rootObj = criteriaBuilder.from(X.class);\r\n    CriteriaQuery&lt;X&gt; select;\r\n    \r\n    String param1 = X.getY().getZ();\r\n\r\n    // initializing predicate, default value is TRUE\r\n    Predicate predicate1 = criteriaBuilder.isNull(null);\r\n\r\n    // construct search predicate which fails miserably due to IllegalArgumentExecption\r\n    if (X != null) {\r\n\t    predicate1 = criteriaBuilder.and(predicate1, criteriaBuilder.equal(rootObj.&lt;String&gt; get(&quot;Y.Z&quot;), param1));\r\n    }\r\n\r\nNow, my grief is this -&gt; `get(&quot;Y.Z&quot;)`\r\n\r\nCriteriaBuilder doesn&#39;t know to fetch Z reflectively (however it can and will resolve Y). Is there any way to get hold of Z directly from get()?\r\n\r\nApart from using JPQL, I can think of one other method - which I dislike immensely: I suppose I could have exposed Z as an `@Transient` property in X (as to prevent OpenJPA from persisting it as a column), but that sounds like a Really Bad Idea: I am essentially flattening out an object graph manually and introduce unneeded garbage inside the entity bean, not counting the time needed to flatten out a complex graph or the error-proness of this (it can go awry in so many ways).\r\n\r\nIs there a way to make this work? Any ideas are appreciated.","title":"OpenJPA criteriaBuilder nested object property fetch","body":"<p>Is there any way in OpenJPA to get hold of a nested object property via CriteriaBuilder?</p>\n<p>Here's a small case.</p>\n<pre><code>@Entity\npublic class X {\n       private Object Y;\n\n       // getters, setters...\n}\n\n@Entity\npublic class Y {\n       private String Z;\n\n       // getters, setters...\n}\n</code></pre>\n<p>So, when using CriteriaBuilder, we use X as Root, i.e.:</p>\n<pre><code>@PersistenceContext\nprivate EntityManager entityManager;\n\n//.....\n\nRoot&lt;X&gt; rootObj = criteriaBuilder.from(X.class);\nCriteriaQuery&lt;X&gt; select;\n\nString param1 = X.getY().getZ();\n\n// initializing predicate, default value is TRUE\nPredicate predicate1 = criteriaBuilder.isNull(null);\n\n// construct search predicate which fails miserably due to IllegalArgumentExecption\nif (X != null) {\n    predicate1 = criteriaBuilder.and(predicate1, criteriaBuilder.equal(rootObj.&lt;String&gt; get(&quot;Y.Z&quot;), param1));\n}\n</code></pre>\n<p>Now, my grief is this -&gt; <code>get(&quot;Y.Z&quot;)</code></p>\n<p>CriteriaBuilder doesn't know to fetch Z reflectively (however it can and will resolve Y). Is there any way to get hold of Z directly from get()?</p>\n<p>Apart from using JPQL, I can think of one other method - which I dislike immensely: I suppose I could have exposed Z as an <code>@Transient</code> property in X (as to prevent OpenJPA from persisting it as a column), but that sounds like a Really Bad Idea: I am essentially flattening out an object graph manually and introduce unneeded garbage inside the entity bean, not counting the time needed to flatten out a complex graph or the error-proness of this (it can go awry in so many ways).</p>\n<p>Is there a way to make this work? Any ideas are appreciated.</p>\n"},{"tags":["java","spring","ssl","jakarta-mail"],"comments":[{"owner":{"account_id":1270277,"reputation":12123,"user_id":1226744,"accept_rate":69,"display_name":"Leon"},"score":0,"creation_date":1460530813,"post_id":36590597,"comment_id":60779275,"body_markdown":"Are you sure that config is correct? The SMTP SSL port is usually not 25 and more like 465","body":"Are you sure that config is correct? The SMTP SSL port is usually not 25 and more like 465"},{"owner":{"account_id":1612785,"reputation":2294,"user_id":1491283,"accept_rate":46,"display_name":"ArunM"},"score":0,"creation_date":1460530879,"post_id":36590597,"comment_id":60779321,"body_markdown":"Positive.  Different applications in the same server has the same config and can send email.","body":"Positive.  Different applications in the same server has the same config and can send email."},{"owner":{"account_id":108117,"reputation":9982,"user_id":287138,"accept_rate":82,"display_name":"Stefan Haberl"},"score":0,"creation_date":1580286517,"post_id":36590597,"comment_id":106043239,"body_markdown":"I voted to reopen this question, because the linked question https://stackoverflow.com/questions/6532273/unrecognized-ssl-message-plaintext-connection-exception talks about HTTPs vs. HTTP and *NOT* about SMTPS vs. SMTP like the OP here","body":"I voted to reopen this question, because the linked question <a href=\"https://stackoverflow.com/questions/6532273/unrecognized-ssl-message-plaintext-connection-exception\" title=\"unrecognized ssl message plaintext connection exception\">stackoverflow.com/questions/6532273/&hellip;</a> talks about HTTPs vs. HTTP and <i>NOT</i> about SMTPS vs. SMTP like the OP here"},{"owner":{"account_id":194284,"reputation":4206,"user_id":436524,"accept_rate":72,"display_name":"Octavia Togami"},"score":1,"creation_date":1580291450,"post_id":36590597,"comment_id":106045898,"body_markdown":"@StefanHaberl IMO the underlying reason is likely similar -- this error is not specific to the HTTP/SMTP protocol, but to the SSL protocol which both HTTPS and SMTPS share.","body":"@StefanHaberl IMO the underlying reason is likely similar -- this error is not specific to the HTTP/SMTP protocol, but to the SSL protocol which both HTTPS and SMTPS share."},{"owner":{"account_id":108117,"reputation":9982,"user_id":287138,"accept_rate":82,"display_name":"Stefan Haberl"},"score":0,"creation_date":1580297257,"post_id":36590597,"comment_id":106049029,"body_markdown":"@OctaviaTogami yes, it&#39;s the same reason. However, you have to set different properties for HTTP and SMTP to get this to work","body":"@OctaviaTogami yes, it&#39;s the same reason. However, you have to set different properties for HTTP and SMTP to get this to work"}],"answers":[{"tags":[],"owner":{"account_id":3701398,"reputation":116632,"user_id":3081018,"display_name":"Steffen Ullrich"},"down_vote_count":0,"up_vote_count":24,"is_accepted":true,"score":24,"last_activity_date":1460531877,"creation_date":1460531877,"answer_id":36591200,"question_id":36590597,"body_markdown":"    &lt;prop key=&quot;mail.smtp.starttls.enable&quot;&gt;${mail.smtp.starttls.enable}&lt;/prop&gt;\r\n    &lt;prop key=&quot;mail.smtp.ssl.enable&quot;&gt;true&lt;/prop&gt;\r\n\r\nYou want either `mail.smtp.ssl.enable` for implicit SSL directly after TCP connect (port 465) or `mail.smtp.starttls.enable` for explicit SSL using the STARTTLS command (port 25). But with your current properties you set both to true. \r\n\r\nThis means it will do a TCP connect to port 25 and try a SSL handshake there. This will fail because the server is sending a plain text greeting from the SMTP dialog and not the expected SSL handshake. Thus you get \r\n\r\n&gt; Unrecognized SSL message, plaintext connection?\r\n\r\nTo fix it make sure that you either use implicit or explicit SSL but not both depending on the port, i.e. for port 25 `mail.smtp.ssl.enable` should be false.","title":"Unable to Send Mail - javax.net.ssl.SSLException: Unrecognized SSL message, plaintext connection?","body":"<pre><code>&lt;prop key=\"mail.smtp.starttls.enable\"&gt;${mail.smtp.starttls.enable}&lt;/prop&gt;\n&lt;prop key=\"mail.smtp.ssl.enable\"&gt;true&lt;/prop&gt;\n</code></pre>\n\n<p>You want either <code>mail.smtp.ssl.enable</code> for implicit SSL directly after TCP connect (port 465) or <code>mail.smtp.starttls.enable</code> for explicit SSL using the STARTTLS command (port 25). But with your current properties you set both to true. </p>\n\n<p>This means it will do a TCP connect to port 25 and try a SSL handshake there. This will fail because the server is sending a plain text greeting from the SMTP dialog and not the expected SSL handshake. Thus you get </p>\n\n<blockquote>\n  <p>Unrecognized SSL message, plaintext connection?</p>\n</blockquote>\n\n<p>To fix it make sure that you either use implicit or explicit SSL but not both depending on the port, i.e. for port 25 <code>mail.smtp.ssl.enable</code> should be false.</p>\n"},{"tags":[],"owner":{"account_id":1093023,"reputation":39,"user_id":1087223,"display_name":"Ritesh Maddala"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1592000448,"creation_date":1591753688,"answer_id":62294589,"question_id":36590597,"body_markdown":"I tried to resolve this by many methods but finally found this working by myself.\r\n\r\n 1. Make sure you are able to send emails from Terminal or by any other mail client before creating code. Once your have tested mail is working fine then use below properties and code. I have deployed the Code in the Email server so I don&#39;t require SSL or TLS. I am using port 25 for Relay.\r\n\r\n\r\n 2. Required Properties - \r\n    ````\r\n    mail.smtp.host=&lt;myhostname.com&gt;\r\n    mail.smtp.port=25\r\n    mail.smtp.auth=true\r\n    mail.transport.protocol=smtp\r\n    smtpd_recipient_restrictions=permit_sasl_authenticated\r\n    user=&lt;sender_username/email&gt;\r\n    password=&lt;password&gt;\r\n    mail.smtp.username=&lt;sender_username/email&gt;\r\n    mail.smtp.password=&lt;password&gt;\r\n    ````\r\n\r\n 3. Required Code -\r\n\r\n    ````\r\n    public String sendEmail(String email){\r\n            \r\n             //Compose the message  \r\n              try {  \r\n    \r\n                    FileReader reader=new FileReader(&quot;smtp.properties&quot;);  \r\n                 //Get the session object  \r\n                    Properties props = new Properties(); \r\n                    props.load(reader); \r\n                    \r\n                    System.out.println(&quot; Props :: &quot; + props.toString());\r\n                    String to = email;\r\n                    String host=props.getProperty(&quot;mail.smtp.host&quot;);\r\n                    final String user=props.getProperty(&quot;user&quot;);\r\n                    final String password=props.getProperty(&quot;password&quot;);\r\n                    \r\n                   Session session = Session.getInstance(props,\r\n                    new javax.mail.Authenticator() {\r\n                        protected PasswordAuthentication getPasswordAuthentication() {\r\n                            return new PasswordAuthentication(user, password);\r\n                        }\r\n                    }); \r\n             \r\n                    Message message = new MimeMessage(session);\r\n                    message.setFrom(new InternetAddress(user));\r\n                    message.setRecipients(\r\n                            Message.RecipientType.TO,\r\n                            InternetAddress.parse(to)\r\n                    );\r\n                    \r\n                    message.setSubject(&quot;Testing - SMTP&quot;);\r\n                    message.setText(&quot;Dear User, \\n\\n Hello !&quot;);\r\n                   \r\n                    Transport.send(message);\r\n    \r\n                    System.out.println(&quot;Done&quot;);\r\n    \r\n                   } catch (MessagingException e) {\r\n                        e.printStackTrace();\r\n                   } catch (IOException ex) {  \r\n                        ex.printStackTrace();\r\n                   }\r\n              return &quot;SUCCESS&quot;;\r\n         }\r\n    ````\r\n 4. Required Imports -\r\n\r\n    ````\r\n    import javax.mail.*;\r\n    import javax.mail.internet.InternetAddress;\r\n    import javax.mail.internet.MimeMessage;\r\n    import java.util.Properties;\r\n    ````\r\n","title":"Unable to Send Mail - javax.net.ssl.SSLException: Unrecognized SSL message, plaintext connection?","body":"<p>I tried to resolve this by many methods but finally found this working by myself.</p>\n\n<ol>\n<li><p>Make sure you are able to send emails from Terminal or by any other mail client before creating code. Once your have tested mail is working fine then use below properties and code. I have deployed the Code in the Email server so I don't require SSL or TLS. I am using port 25 for Relay.</p></li>\n<li><p>Required Properties - </p>\n\n<pre><code>mail.smtp.host=&lt;myhostname.com&gt;\nmail.smtp.port=25\nmail.smtp.auth=true\nmail.transport.protocol=smtp\nsmtpd_recipient_restrictions=permit_sasl_authenticated\nuser=&lt;sender_username/email&gt;\npassword=&lt;password&gt;\nmail.smtp.username=&lt;sender_username/email&gt;\nmail.smtp.password=&lt;password&gt;\n</code></pre></li>\n<li><p>Required Code -</p>\n\n<pre><code>public String sendEmail(String email){\n\n         //Compose the message  \n          try {  \n\n                FileReader reader=new FileReader(\"smtp.properties\");  \n             //Get the session object  \n                Properties props = new Properties(); \n                props.load(reader); \n\n                System.out.println(\" Props :: \" + props.toString());\n                String to = email;\n                String host=props.getProperty(\"mail.smtp.host\");\n                final String user=props.getProperty(\"user\");\n                final String password=props.getProperty(\"password\");\n\n               Session session = Session.getInstance(props,\n                new javax.mail.Authenticator() {\n                    protected PasswordAuthentication getPasswordAuthentication() {\n                        return new PasswordAuthentication(user, password);\n                    }\n                }); \n\n                Message message = new MimeMessage(session);\n                message.setFrom(new InternetAddress(user));\n                message.setRecipients(\n                        Message.RecipientType.TO,\n                        InternetAddress.parse(to)\n                );\n\n                message.setSubject(\"Testing - SMTP\");\n                message.setText(\"Dear User, \\n\\n Hello !\");\n\n                Transport.send(message);\n\n                System.out.println(\"Done\");\n\n               } catch (MessagingException e) {\n                    e.printStackTrace();\n               } catch (IOException ex) {  \n                    ex.printStackTrace();\n               }\n          return \"SUCCESS\";\n     }\n</code></pre></li>\n<li><p>Required Imports -</p>\n\n<pre><code>import javax.mail.*;\nimport javax.mail.internet.InternetAddress;\nimport javax.mail.internet.MimeMessage;\nimport java.util.Properties;\n</code></pre></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":12247456,"reputation":31,"user_id":8938770,"display_name":"Piotr"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1625741746,"creation_date":1625741746,"answer_id":68300296,"question_id":36590597,"body_markdown":"The problem occurs in javax.mail 1.4.0, upgrading to 1.4.7 fixes the issue in my case","title":"Unable to Send Mail - javax.net.ssl.SSLException: Unrecognized SSL message, plaintext connection?","body":"<p>The problem occurs in javax.mail 1.4.0, upgrading to 1.4.7 fixes the issue in my case</p>\n"},{"tags":[],"owner":{"account_id":13728673,"reputation":772,"user_id":9906708,"display_name":"Priyshrm"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1698937244,"creation_date":1698937244,"answer_id":77410685,"question_id":36590597,"body_markdown":"As of 02/Nov/2023, the following values are working when sending emails through Amazon ses:\r\n\r\n    mail.host=email-smtp.us-west-2.amazonaws.com\r\n    mail.user=****\r\n    mail.user.password=***\r\n    mail.from=abc@whatever.com\r\n    \r\n    mail.debug=false\r\n    \r\n    mail.smtp.timeout=60000\r\n    mail.smtp.connectiontimeout=60000\r\n    mail.smtp.auth=true\r\n    mail.transport.protocol=smtps\r\n    mail.smtp.host=email-smtp.us-west-2.amazonaws.com\r\n    mail.smtp.port=587\r\n    mail.smtp.starttls.enable=true\r\n    \r\n    \r\n    #JUST REMOVE THE FOLLOWING PROPERTIES \r\n    #mail.smtp.ssl.protocols=TLSv1.2\r\n    #mail.smtp.ssl.trust=smtpserver\r\n    #mail.transport.protocol.rfc822=smtps\r\n    #mail.smtp.user=***\r\n    #mail.smtp.password=***\r\n    #mail.smtp.socketFactory.port=587\r\n    #mail.smtp.socketFactory.class=javax.net.SocketFactory\r\n    #mail.smtps.auth=true\r\n    #mail.smtp.ssl.enable=true\r\n\r\n","title":"Unable to Send Mail - javax.net.ssl.SSLException: Unrecognized SSL message, plaintext connection?","body":"<p>As of 02/Nov/2023, the following values are working when sending emails through Amazon ses:</p>\n<pre><code>mail.host=email-smtp.us-west-2.amazonaws.com\nmail.user=****\nmail.user.password=***\nmail.from=abc@whatever.com\n\nmail.debug=false\n\nmail.smtp.timeout=60000\nmail.smtp.connectiontimeout=60000\nmail.smtp.auth=true\nmail.transport.protocol=smtps\nmail.smtp.host=email-smtp.us-west-2.amazonaws.com\nmail.smtp.port=587\nmail.smtp.starttls.enable=true\n\n\n#JUST REMOVE THE FOLLOWING PROPERTIES \n#mail.smtp.ssl.protocols=TLSv1.2\n#mail.smtp.ssl.trust=smtpserver\n#mail.transport.protocol.rfc822=smtps\n#mail.smtp.user=***\n#mail.smtp.password=***\n#mail.smtp.socketFactory.port=587\n#mail.smtp.socketFactory.class=javax.net.SocketFactory\n#mail.smtps.auth=true\n#mail.smtp.ssl.enable=true\n</code></pre>\n"}],"owner":{"account_id":1612785,"reputation":2294,"user_id":1491283,"accept_rate":46,"display_name":"ArunM"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73746,"favorite_count":0,"down_vote_count":1,"up_vote_count":17,"accepted_answer_id":36591200,"answer_count":4,"score":16,"last_activity_date":1698937244,"creation_date":1460529974,"question_id":36590597,"body_markdown":"We are sending Mail using Spring **JavaMailSenderImpl**. Following is the configuration\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n     &lt;bean id=&quot;mailSender&quot; class=&quot;org.springframework.mail.javamail.JavaMailSenderImpl&quot;&gt;\r\n            &lt;property name=&quot;host&quot; value=&quot;${host}&quot;/&gt;\r\n            &lt;property name=&quot;port&quot; value=&quot;${port}&quot;/&gt;\r\n            &lt;property name=&quot;username&quot; value=&quot;${mail.username}&quot;/&gt;\r\n            &lt;property name=&quot;password&quot; value=&quot;${mail.password}&quot;/&gt;\r\n            &lt;property name=&quot;javaMailProperties&quot;&gt;\r\n                &lt;props&gt;\r\n                    &lt;!-- Use SMTP transport protocol --&gt;\r\n                    &lt;prop key=&quot;mail.transport.protocol&quot; &gt;${mail.transport.protocol}&lt;/prop&gt;\r\n                    &lt;!-- Use SMTP-AUTH to authenticate to SMTP server --&gt;\r\n                    &lt;prop key=&quot;mail.smtp.auth&quot;&gt;${mail.smtp.auth}&lt;/prop&gt;\r\n                    &lt;!-- Use TLS to encrypt communication with SMTP server --&gt;\r\n                    &lt;prop key=&quot;mail.smtp.starttls.enable&quot;&gt;${mail.smtp.starttls.enable}&lt;/prop&gt;\r\n                    &lt;prop key=&quot;mail.debug&quot;&gt;false&lt;/prop&gt;\r\n                    &lt;prop key=&quot;mail.smtp.ssl.enable&quot;&gt;true&lt;/prop&gt;\r\n                &lt;/props&gt;\r\n            &lt;/property&gt;\r\n        &lt;/bean&gt;\r\n\r\n\r\n**Properties File :-**\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    host=XXXX.XXXX.XX\r\n    port=25\r\n    mail.username=xxxxxxxx\r\n    mail.password=xxxxxxx\r\n    mail.transport.protocol=smtp\r\n    mail.smtp.auth=true\r\n    mail.smtp.starttls.enable=true\r\n    \r\n\r\n**Console Logs**\r\n   \r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    Exception in thread &quot;taskExecutor-2&quot; org.springframework.mail.MailSendException: Mail server connection failed; nested exception is javax.mail.MessagingException: Could not connect to SMTP host: XXXX.XXXX.XX, port: 25;\r\n          nested exception is:\r\n                javax.net.ssl.SSLException: Unrecognized SSL message, plaintext connection?. Failed messages: javax.mail.MessagingException: Could not connect to SMTP host: XXXX.XXXX.XX, port: 25;\r\n          nested exception is:\r\n                javax.net.ssl.SSLException: Unrecognized SSL message, plaintext connection?; message exception details (1) are:\r\n        Failed message 1:\r\n        javax.mail.MessagingException: Could not connect to SMTP host: XXXX.XXXX.XX, port: 25;\r\n          nested exception is:\r\n                javax.net.ssl.SSLException: Unrecognized SSL message, plaintext connection?\r\n                at com.sun.mail.smtp.SMTPTransport.openServer(SMTPTransport.java:1934)\r\n                at com.sun.mail.smtp.SMTPTransport.protocolConnect(SMTPTransport.java:638)\r\n                at javax.mail.Service.connect(Service.java:295)\r\n                at org.springframework.mail.javamail.JavaMailSenderImpl.doSend(JavaMailSenderImpl.java:389)\r\n                at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:340)\r\n                at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:336)\r\n                at com.XXXX.Mailer$1.run(Mailer.java:52)\r\n                at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\r\n                at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\r\n                at java.lang.Thread.run(Thread.java:744)\r\n        Caused by: javax.net.ssl.SSLException: Unrecognized SSL message, plaintext connection?\r\n                at sun.security.ssl.InputRecord.handleUnknownRecord(InputRecord.java:671)\r\n                at sun.security.ssl.InputRecord.read(InputRecord.java:504)\r\n                at sun.security.ssl.SSLSocketImpl.readRecord(SSLSocketImpl.java:927)\r\n                at sun.security.ssl.SSLSocketImpl.performInitialHandshake(SSLSocketImpl.java:1312)\r\n                at sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1339)\r\n                at sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1323)\r\n                at com.sun.mail.util.SocketFetcher.configureSSLSocket(SocketFetcher.java:507)\r\n                at com.sun.mail.util.SocketFetcher.getSocket(SocketFetcher.java:238)\r\n                at com.sun.mail.smtp.SMTPTransport.openServer(SMTPTransport.java:1900)\r\n                ... 9 more\r\n\r\nWe are convinced that this is not related to the SSL certificate as there are other web applications deployed in the same server which sends email perfectly with the same configuration. What could be the issue here ?","title":"Unable to Send Mail - javax.net.ssl.SSLException: Unrecognized SSL message, plaintext connection?","body":"<p>We are sending Mail using Spring <strong>JavaMailSenderImpl</strong>. Following is the configuration</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code> &lt;bean id=\"mailSender\" class=\"org.springframework.mail.javamail.JavaMailSenderImpl\"&gt;\n        &lt;property name=\"host\" value=\"${host}\"/&gt;\n        &lt;property name=\"port\" value=\"${port}\"/&gt;\n        &lt;property name=\"username\" value=\"${mail.username}\"/&gt;\n        &lt;property name=\"password\" value=\"${mail.password}\"/&gt;\n        &lt;property name=\"javaMailProperties\"&gt;\n            &lt;props&gt;\n                &lt;!-- Use SMTP transport protocol --&gt;\n                &lt;prop key=\"mail.transport.protocol\" &gt;${mail.transport.protocol}&lt;/prop&gt;\n                &lt;!-- Use SMTP-AUTH to authenticate to SMTP server --&gt;\n                &lt;prop key=\"mail.smtp.auth\"&gt;${mail.smtp.auth}&lt;/prop&gt;\n                &lt;!-- Use TLS to encrypt communication with SMTP server --&gt;\n                &lt;prop key=\"mail.smtp.starttls.enable\"&gt;${mail.smtp.starttls.enable}&lt;/prop&gt;\n                &lt;prop key=\"mail.debug\"&gt;false&lt;/prop&gt;\n                &lt;prop key=\"mail.smtp.ssl.enable\"&gt;true&lt;/prop&gt;\n            &lt;/props&gt;\n        &lt;/property&gt;\n    &lt;/bean&gt;\n</code></pre>\n\n<p><strong>Properties File :-</strong></p>\n\n<pre class=\"lang-none prettyprint-override\"><code>host=XXXX.XXXX.XX\nport=25\nmail.username=xxxxxxxx\nmail.password=xxxxxxx\nmail.transport.protocol=smtp\nmail.smtp.auth=true\nmail.smtp.starttls.enable=true\n</code></pre>\n\n<p><strong>Console Logs</strong></p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Exception in thread \"taskExecutor-2\" org.springframework.mail.MailSendException: Mail server connection failed; nested exception is javax.mail.MessagingException: Could not connect to SMTP host: XXXX.XXXX.XX, port: 25;\n      nested exception is:\n            javax.net.ssl.SSLException: Unrecognized SSL message, plaintext connection?. Failed messages: javax.mail.MessagingException: Could not connect to SMTP host: XXXX.XXXX.XX, port: 25;\n      nested exception is:\n            javax.net.ssl.SSLException: Unrecognized SSL message, plaintext connection?; message exception details (1) are:\n    Failed message 1:\n    javax.mail.MessagingException: Could not connect to SMTP host: XXXX.XXXX.XX, port: 25;\n      nested exception is:\n            javax.net.ssl.SSLException: Unrecognized SSL message, plaintext connection?\n            at com.sun.mail.smtp.SMTPTransport.openServer(SMTPTransport.java:1934)\n            at com.sun.mail.smtp.SMTPTransport.protocolConnect(SMTPTransport.java:638)\n            at javax.mail.Service.connect(Service.java:295)\n            at org.springframework.mail.javamail.JavaMailSenderImpl.doSend(JavaMailSenderImpl.java:389)\n            at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:340)\n            at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:336)\n            at com.XXXX.Mailer$1.run(Mailer.java:52)\n            at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\n            at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\n            at java.lang.Thread.run(Thread.java:744)\n    Caused by: javax.net.ssl.SSLException: Unrecognized SSL message, plaintext connection?\n            at sun.security.ssl.InputRecord.handleUnknownRecord(InputRecord.java:671)\n            at sun.security.ssl.InputRecord.read(InputRecord.java:504)\n            at sun.security.ssl.SSLSocketImpl.readRecord(SSLSocketImpl.java:927)\n            at sun.security.ssl.SSLSocketImpl.performInitialHandshake(SSLSocketImpl.java:1312)\n            at sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1339)\n            at sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1323)\n            at com.sun.mail.util.SocketFetcher.configureSSLSocket(SocketFetcher.java:507)\n            at com.sun.mail.util.SocketFetcher.getSocket(SocketFetcher.java:238)\n            at com.sun.mail.smtp.SMTPTransport.openServer(SMTPTransport.java:1900)\n            ... 9 more\n</code></pre>\n\n<p>We are convinced that this is not related to the SSL certificate as there are other web applications deployed in the same server which sends email perfectly with the same configuration. What could be the issue here ?</p>\n"},{"tags":["java","jpa","spring-data-jpa","persistence"],"answers":[{"tags":[],"owner":{"account_id":28585246,"reputation":36,"user_id":21885617,"display_name":"krishna.nitheesh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698814898,"creation_date":1698814898,"answer_id":77400448,"question_id":77400163,"body_markdown":"Here is how I would want my transformToOrganizer in my Organizer Service to look like. \r\n\r\ni)fetch the user entity by User Id from the user table.\r\n\r\nUserEntity user = userRepository.findById(id);\r\n\r\nii)We have our user entity, now I assume the user-to-organizer relationship is @OneToOne and user id is the primary key in the organizer table. We create a new organizer entity and set the necessary details along with it we set organizer.setUser(user). \r\n\r\nPlease post your entity definitions here for more clarity.\r\n\r\n","title":"Change persisted class in JPA","body":"<p>Here is how I would want my transformToOrganizer in my Organizer Service to look like.</p>\n<p>i)fetch the user entity by User Id from the user table.</p>\n<p>UserEntity user = userRepository.findById(id);</p>\n<p>ii)We have our user entity, now I assume the user-to-organizer relationship is @OneToOne and user id is the primary key in the organizer table. We create a new organizer entity and set the necessary details along with it we set organizer.setUser(user).</p>\n<p>Please post your entity definitions here for more clarity.</p>\n"},{"tags":[],"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1698822524,"creation_date":1698822524,"answer_id":77400899,"question_id":77400163,"body_markdown":"I&#39;d change the model. Since it seems an `User` may become an `Organizer` inheritance is not the right tool to solve this.\r\nInstead let the `User` have an optional `OrganizerRole`.","title":"Change persisted class in JPA","body":"<p>I'd change the model. Since it seems an <code>User</code> may become an <code>Organizer</code> inheritance is not the right tool to solve this.\nInstead let the <code>User</code> have an optional <code>OrganizerRole</code>.</p>\n"}],"owner":{"account_id":29799187,"reputation":1,"user_id":22837374,"display_name":"Gabriel Basilio Souza"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1698937229,"creation_date":1698808768,"question_id":77400163,"body_markdown":"I have my `User` class, which has its own table, and the `Organizer` class, which also has its own table and is a specialization of `User`. How do I make an already persisted `User` in JPA become an `Organizer` while keeping the same ID value\r\n\r\n\r\n```\r\npublic class OrganizadorService {\r\n\r\n    private final OrganizadorRepository organizerRepository;\r\n    private final UsuarioRepository userRepository;\r\n\r\n    @Autowired\r\n    private EntityManager entityManager;\r\n\r\n    public OrganizadorService(OrganizadorRepository organizerRepository, UsuarioRepository userRepository) {\r\n        this.organizerRepository = organizerRepository;\r\n        this.userRepository = userRepository;\r\n    }\r\n\r\n    @Transactional\r\n    public boolean transformToOrganizer(long id) {\r\n        try {\r\n            organizerRepository.transformToOrganizer(id);\r\n            //entityManager.getEntityManagerFactory().getCache().evictAll();\r\n            entityManager.flush();\r\n        } catch (Exception e) {\r\n            return false;\r\n        }\r\n\r\n        return true;\r\n    }\r\n}\r\n\r\n```\r\n\r\n```\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\nimport org.springframework.data.jpa.repository.Modifying;\r\nimport org.springframework.data.jpa.repository.Query;\r\nimport org.springframework.data.repository.query.Param;\r\nimport org.springframework.stereotype.Repository;\r\nimport org.springframework.transaction.annotation.Transactional;\r\n\r\nimport com.SunLovers.PriseTheSun.model.Organizer;\r\n\r\n@Repository\r\npublic interface OrganizerRepository extends JpaRepository&lt;Organizer, Long&gt; {\r\n  \r\n    @Modifying\r\n    @Query(nativeQuery = true, value = &quot;INSERT INTO organizer (ID) VALUES (:id)&quot;)\r\n    @Transactional\r\n    void transformToOrganizer(@Param(&quot;id&quot;) Long id);\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n","title":"Change persisted class in JPA","body":"<p>I have my <code>User</code> class, which has its own table, and the <code>Organizer</code> class, which also has its own table and is a specialization of <code>User</code>. How do I make an already persisted <code>User</code> in JPA become an <code>Organizer</code> while keeping the same ID value</p>\n<pre><code>public class OrganizadorService {\n\n    private final OrganizadorRepository organizerRepository;\n    private final UsuarioRepository userRepository;\n\n    @Autowired\n    private EntityManager entityManager;\n\n    public OrganizadorService(OrganizadorRepository organizerRepository, UsuarioRepository userRepository) {\n        this.organizerRepository = organizerRepository;\n        this.userRepository = userRepository;\n    }\n\n    @Transactional\n    public boolean transformToOrganizer(long id) {\n        try {\n            organizerRepository.transformToOrganizer(id);\n            //entityManager.getEntityManagerFactory().getCache().evictAll();\n            entityManager.flush();\n        } catch (Exception e) {\n            return false;\n        }\n\n        return true;\n    }\n}\n\n</code></pre>\n<pre><code>import org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.data.jpa.repository.Modifying;\nimport org.springframework.data.jpa.repository.Query;\nimport org.springframework.data.repository.query.Param;\nimport org.springframework.stereotype.Repository;\nimport org.springframework.transaction.annotation.Transactional;\n\nimport com.SunLovers.PriseTheSun.model.Organizer;\n\n@Repository\npublic interface OrganizerRepository extends JpaRepository&lt;Organizer, Long&gt; {\n  \n    @Modifying\n    @Query(nativeQuery = true, value = &quot;INSERT INTO organizer (ID) VALUES (:id)&quot;)\n    @Transactional\n    void transformToOrganizer(@Param(&quot;id&quot;) Long id);\n}\n</code></pre>\n"},{"tags":["java","junit","test-suite","module-info","java-16"],"comments":[{"owner":{"account_id":3211603,"reputation":289287,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1666771562,"post_id":74204276,"comment_id":131012580,"body_markdown":"You want the tests to be invoked by an external framework. Why do you refuse to export the test cases’ packages then?","body":"You want the tests to be invoked by an external framework. Why do you refuse to export the test cases’ packages then?"},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":1,"creation_date":1666772131,"post_id":74204276,"comment_id":131012792,"body_markdown":"Afaik, the maven patches the module under test with the test code, and opens all packages - at least last time I checked.","body":"Afaik, the maven patches the module under test with the test code, and opens all packages - at least last time I checked."},{"owner":{"account_id":2100752,"reputation":2393,"user_id":1871216,"accept_rate":60,"display_name":"Arend"},"score":0,"creation_date":1666788446,"post_id":74204276,"comment_id":131018181,"body_markdown":"@Holger I don&#39;t event want to have my tests in my exported code. To my understanding, this is part of the whole concept of separating main and test code. This is supported in Eclipse (for instance) by the &quot;Contains test sources&quot; option. See also [Testing in a modular world](https://info.michael-simons.eu/2021/10/19/testing-in-a-modular-world/)","body":"@Holger I don&#39;t event want to have my tests in my exported code. To my understanding, this is part of the whole concept of separating main and test code. This is supported in Eclipse (for instance) by the &quot;Contains test sources&quot; option. See also <a href=\"https://info.michael-simons.eu/2021/10/19/testing-in-a-modular-world/\" rel=\"nofollow noreferrer\">Testing in a modular world</a>"},{"owner":{"account_id":2100752,"reputation":2393,"user_id":1871216,"accept_rate":60,"display_name":"Arend"},"score":0,"creation_date":1666788702,"post_id":74204276,"comment_id":131018299,"body_markdown":"@JohannesKuhn Yes, Maven does that for you. However, that only helps if you run your tests from Maven, which doesn&#39;t give you the most user-friendly way to handle debugging in (say) Eclipse. I would prefer to be able to invoke the tests directly from Eclipse, hence my question","body":"@JohannesKuhn Yes, Maven does that for you. However, that only helps if you run your tests from Maven, which doesn&#39;t give you the most user-friendly way to handle debugging in (say) Eclipse. I would prefer to be able to invoke the tests directly from Eclipse, hence my question"},{"owner":{"account_id":3211603,"reputation":289287,"user_id":2711488,"display_name":"Holger"},"score":0,"creation_date":1666797501,"post_id":74204276,"comment_id":131021920,"body_markdown":"Apparently, the problem is that you have your test cases inside the same module as the production code. Just don’t do that. Put your test cases in a module of its own, then it can be open, without affecting the production code module.","body":"Apparently, the problem is that you have your test cases inside the same module as the production code. Just don’t do that. Put your test cases in a module of its own, then it can be open, without affecting the production code module."},{"owner":{"account_id":3211603,"reputation":289287,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1666798186,"post_id":74204276,"comment_id":131022215,"body_markdown":"By the way, did you read the article to the end, including the comment that says that you don’t need to specify `--add-opens` when you make the tests `public`?","body":"By the way, did you read the article to the end, including the comment that says that you don’t need to specify <code>--add-opens</code> when you make the tests <code>public</code>?"}],"answers":[{"tags":[],"owner":{"account_id":2542207,"reputation":646,"user_id":2207767,"accept_rate":100,"display_name":"sys64738"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698769311,"creation_date":1698751050,"answer_id":77395418,"question_id":74204276,"body_markdown":"With Junit 5 it works like this:\r\n\r\nCreate a suite class to run the tests of all modules like this:\r\n\r\n    package com.project;\r\n\r\n    import org.junit.platform.suite.api.SelectModules;\r\n    import org.junit.platform.suite.api.Suite;\r\n\r\n    @Suite\r\n    @SelectModules({\r\n      &quot;com.module1&quot;,\r\n      &quot;com.module2&quot;,\r\n      &quot;com.module3&quot;,\r\n    })\r\n    class AllTests {}\r\n\r\n\r\nIn each tested module the exported packages have to be opened to Junit, e.g.:\r\n\r\n    module com.module1\r\n    {\r\n      exports com.module1.packageA;\r\n      exports com.module1.packageB;\r\n      \r\n      opens com.module1.packageA to org.junit.platform.commons;\r\n      opens com.module1.packageB to org.junit.platform.commons;\r\n      \r\n      requires org.junit.jupiter.api;\r\n      requires ...\r\n    }\r\n\r\nAnd of course each module must have its own tests inside.\r\n","title":"How to run modular multi-package JUnit test suits?","body":"<p>With Junit 5 it works like this:</p>\n<p>Create a suite class to run the tests of all modules like this:</p>\n<pre><code>package com.project;\n\nimport org.junit.platform.suite.api.SelectModules;\nimport org.junit.platform.suite.api.Suite;\n\n@Suite\n@SelectModules({\n  &quot;com.module1&quot;,\n  &quot;com.module2&quot;,\n  &quot;com.module3&quot;,\n})\nclass AllTests {}\n</code></pre>\n<p>In each tested module the exported packages have to be opened to Junit, e.g.:</p>\n<pre><code>module com.module1\n{\n  exports com.module1.packageA;\n  exports com.module1.packageB;\n  \n  opens com.module1.packageA to org.junit.platform.commons;\n  opens com.module1.packageB to org.junit.platform.commons;\n  \n  requires org.junit.jupiter.api;\n  requires ...\n}\n</code></pre>\n<p>And of course each module must have its own tests inside.</p>\n"}],"owner":{"account_id":2100752,"reputation":2393,"user_id":1871216,"accept_rate":60,"display_name":"Arend"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":208,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1698936636,"creation_date":1666770253,"question_id":74204276,"body_markdown":"I&#39;m trying to run all tests (packaged across many different subpackages) in a given (Java-16, modular) project, using the test suite feature of JUnit (4); but this is much harder than I&#39;d like it to be, seemingly requiring an `-add-opens` JVM option per test (sub)package. Does a better solution exist?\r\n\r\nA MVE would be a project `mve` with test suite\r\n```\r\npackage mve.test;\r\n\r\nimport org.junit.runner.RunWith;\r\nimport org.junit.runners.Suite;\r\n\r\nimport mve.test.sub.HelloTest;\r\n\r\n@RunWith(Suite.class)\r\n@Suite.SuiteClasses(HelloTest.class)\r\npublic class AllTests {\r\n\t// Empty by design.\r\n}\r\n```\r\nand the (only) test in the subpackage `mve.test.sub` being\r\n\r\n```\r\npackage mve.test.sub;\r\n\r\nimport org.junit.Test;\r\n\r\nimport mve.main.Hello;\r\n\r\npublic class HelloTest {\r\n\t@Test\r\n\tpublic void test() {\r\n\t\tHello.main(null);\r\n\t}\r\n}\r\n```\r\nThe project exports nothing and requires nothing, which is how I&#39;d like to keep it.\r\n\r\nIs there any way to do this without adding `--add-opens mve/mve.test.xxx=ALL-UNNAMED` for each and every single subpackage `xxx` to the JVM?\r\n\r\nIf not, this is a heavy blow against using (a lot of) packages for your test classes. \r\n","title":"How to run modular multi-package JUnit test suits?","body":"<p>I'm trying to run all tests (packaged across many different subpackages) in a given (Java-16, modular) project, using the test suite feature of JUnit (4); but this is much harder than I'd like it to be, seemingly requiring an <code>-add-opens</code> JVM option per test (sub)package. Does a better solution exist?</p>\n<p>A MVE would be a project <code>mve</code> with test suite</p>\n<pre><code>package mve.test;\n\nimport org.junit.runner.RunWith;\nimport org.junit.runners.Suite;\n\nimport mve.test.sub.HelloTest;\n\n@RunWith(Suite.class)\n@Suite.SuiteClasses(HelloTest.class)\npublic class AllTests {\n    // Empty by design.\n}\n</code></pre>\n<p>and the (only) test in the subpackage <code>mve.test.sub</code> being</p>\n<pre><code>package mve.test.sub;\n\nimport org.junit.Test;\n\nimport mve.main.Hello;\n\npublic class HelloTest {\n    @Test\n    public void test() {\n        Hello.main(null);\n    }\n}\n</code></pre>\n<p>The project exports nothing and requires nothing, which is how I'd like to keep it.</p>\n<p>Is there any way to do this without adding <code>--add-opens mve/mve.test.xxx=ALL-UNNAMED</code> for each and every single subpackage <code>xxx</code> to the JVM?</p>\n<p>If not, this is a heavy blow against using (a lot of) packages for your test classes.</p>\n"},{"tags":["java","ubuntu"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":1,"creation_date":1611507091,"post_id":65873223,"comment_id":116468178,"body_markdown":"Change `export PATH=$PATH:$JAVA_HOME/bin` to `export PATH=$JAVA_HOME/bin:$PATH` - the path is search left to right. Putting the entry on the right means every other path is searched first (including the old version of Java).","body":"Change <code>export PATH=$PATH:$JAVA_HOME&#47;bin</code> to <code>export PATH=$JAVA_HOME&#47;bin:$PATH</code> - the path is search left to right. Putting the entry on the right means every other path is searched first (including the old version of Java)."},{"owner":{"account_id":6899391,"reputation":173,"user_id":5299488,"display_name":"Mehmet Bektaş"},"score":0,"creation_date":1611508250,"post_id":65873223,"comment_id":116468550,"body_markdown":"If you are using ide such as Eclipse or other, you can select jdk from &quot;Installed JREs&quot; menu.","body":"If you are using ide such as Eclipse or other, you can select jdk from &quot;Installed JREs&quot; menu."},{"owner":{"account_id":20535410,"reputation":21,"user_id":15071631,"display_name":"Sche2021"},"score":0,"creation_date":1611574402,"post_id":65873223,"comment_id":116486796,"body_markdown":"i changed to export PATH=$JAVA_HOME/bin:$PATH but it does not solve (base)   ~$javac -version\njavac 1.8.0_152-release\n~$ java -version\nopenjdk version &quot;1.8.0_152-release&quot;\nOpenJDK Runtime Environment (build 1.8.0_152-release-1056-b12)\nOpenJDK 64-Bit Server VM (build 25.152-b12, mixed mode)\n~$ sudo update-alternatives --config java\nThere is only one alternative in link group java (providing /usr/bin/java): /usr/lib/jvm/java-11-openjdk-amd64/bin/java\nNothing to configure.","body":"i changed to export PATH=$JAVA_HOME/bin:$PATH but it does not solve (base)   ~$javac -version javac 1.8.0_152-release ~$ java -version openjdk version &quot;1.8.0_152-release&quot; OpenJDK Runtime Environment (build 1.8.0_152-release-1056-b12) OpenJDK 64-Bit Server VM (build 25.152-b12, mixed mode) ~$ sudo update-alternatives --config java There is only one alternative in link group java (providing /usr/bin/java): /usr/lib/jvm/java-11-openjdk-amd64/bin/java Nothing to configure."}],"answers":[{"tags":[],"owner":{"account_id":20535410,"reputation":21,"user_id":15071631,"display_name":"Sche2021"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1611575340,"creation_date":1611575340,"answer_id":65884165,"question_id":65873223,"body_markdown":"I did:\r\n\r\n        update-alternatives --install &quot;/usr/bin/java&quot; &quot;java&quot; &quot;/usr/lib/jvm/java-11-openjdk-amd64/&quot; 3\r\n        update-alternatives --install &quot;/usr/bin/javac&quot; &quot;javac&quot; &quot;/usr/lib/jvm/java-11-openjdk-amd64/&quot; 3\r\n    \r\n    sudo update-alternatives --config java\r\n    There are 2 choices for the alternative java (providing /usr/bin/java).\r\n    \r\n      Selection    Path                                         Priority   Status\r\n    ------------------------------------------------------------\r\n      0            /usr/lib/jvm/java-11-openjdk-amd64/bin/java   1111      auto mode\r\n    * 1            /usr/lib/jvm/java-11-openjdk-amd64/           3         manual mode\r\n      2            /usr/lib/jvm/java-11-openjdk-amd64/bin/java   1111      manual mode\r\n    \r\n    Press &lt;enter&gt; to keep the current choice[*], or type selection number: 1\r\n    \r\n    sudo update-alternatives --config javac\r\n    There is only one alternative in link group javac (providing /usr/bin/javac): /usr/lib/jvm/java-11-openjdk-amd64/bin/javac\r\n    Nothing to configure.\r\n\r\nStill the same error &quot;Error: A JNI error has occurred, please check your installation and try again&quot;","title":"#error running igv **Error: A JNI error has occurred, please check your installation and try again","body":"<p>I did:</p>\n<pre><code>    update-alternatives --install &quot;/usr/bin/java&quot; &quot;java&quot; &quot;/usr/lib/jvm/java-11-openjdk-amd64/&quot; 3\n    update-alternatives --install &quot;/usr/bin/javac&quot; &quot;javac&quot; &quot;/usr/lib/jvm/java-11-openjdk-amd64/&quot; 3\n\nsudo update-alternatives --config java\nThere are 2 choices for the alternative java (providing /usr/bin/java).\n\n  Selection    Path                                         Priority   Status\n------------------------------------------------------------\n  0            /usr/lib/jvm/java-11-openjdk-amd64/bin/java   1111      auto mode\n* 1            /usr/lib/jvm/java-11-openjdk-amd64/           3         manual mode\n  2            /usr/lib/jvm/java-11-openjdk-amd64/bin/java   1111      manual mode\n\nPress &lt;enter&gt; to keep the current choice[*], or type selection number: 1\n\nsudo update-alternatives --config javac\nThere is only one alternative in link group javac (providing /usr/bin/javac): /usr/lib/jvm/java-11-openjdk-amd64/bin/javac\nNothing to configure.\n</code></pre>\n<p>Still the same error &quot;Error: A JNI error has occurred, please check your installation and try again&quot;</p>\n"},{"tags":[],"owner":{"account_id":20535410,"reputation":21,"user_id":15071631,"display_name":"Sche2021"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1611578293,"creation_date":1611578293,"answer_id":65884962,"question_id":65873223,"body_markdown":"solved it with \r\n\r\n    set JAVA_HOME=&quot;/usr/lib/jvm/java-11-openjdk-amd64/&quot;\r\n    export JAVA_HOME=&quot;/usr/lib/jvm/java-11-openjdk-amd64/&quot;\r\n    export PATH=$JAVA_HOME/bin:$PATH\r\n\r\n","title":"#error running igv **Error: A JNI error has occurred, please check your installation and try again","body":"<p>solved it with</p>\n<pre><code>set JAVA_HOME=&quot;/usr/lib/jvm/java-11-openjdk-amd64/&quot;\nexport JAVA_HOME=&quot;/usr/lib/jvm/java-11-openjdk-amd64/&quot;\nexport PATH=$JAVA_HOME/bin:$PATH\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17913741,"reputation":47,"user_id":13015230,"display_name":"Nereus"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698936541,"creation_date":1698936541,"answer_id":77410587,"question_id":65873223,"body_markdown":"I had the same problem and resolved it by specifying the version of Java that should be used by IGV (v11, not v1.8). You&#39;ll have to locate your Java 11 installation first.\r\n\r\n    export JAVA_HOME=&quot;/path/to/openjdk-11.0.13-h87a67e3_0&quot;\r\n    export PATH=$JAVA_HOME/bin:$PATH\r\n    igv\r\n\r\nThis code was saved as `runigv.sh`. To run IGV:\r\n\r\n    bash runigv.sh\r\n\r\nIt&#39;s a bit of a workaround, so maybe there are more elegant solutions.","title":"#error running igv **Error: A JNI error has occurred, please check your installation and try again","body":"<p>I had the same problem and resolved it by specifying the version of Java that should be used by IGV (v11, not v1.8). You'll have to locate your Java 11 installation first.</p>\n<pre><code>export JAVA_HOME=&quot;/path/to/openjdk-11.0.13-h87a67e3_0&quot;\nexport PATH=$JAVA_HOME/bin:$PATH\nigv\n</code></pre>\n<p>This code was saved as <code>runigv.sh</code>. To run IGV:</p>\n<pre><code>bash runigv.sh\n</code></pre>\n<p>It's a bit of a workaround, so maybe there are more elegant solutions.</p>\n"}],"owner":{"account_id":20535410,"reputation":21,"user_id":15071631,"display_name":"Sche2021"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4218,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1698936541,"creation_date":1611506478,"question_id":65873223,"body_markdown":"I already looked in previous questions since it appears that my issue is quite common. However I still cannot solve this problem.\r\nWhen I run the IGV program I got this error:\r\n\r\n    Error: A JNI error has occurred, please check your installation and try again\r\n    Exception in thread &quot;main&quot; java.lang.UnsupportedClassVersionError: org/broad/igv/ui/Main has been compiled by a more recent version of the Java Runtime (class file version 55.0), this version of the Java Runtime only recognizes class file versions up to 52.0\r\n            at java.lang.ClassLoader.defineClass1(Native Method)\r\n            at java.lang.ClassLoader.defineClass(ClassLoader.java:763)\r\n            at java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142)\r\n            at java.net.URLClassLoader.defineClass(URLClassLoader.java:467)\r\n            at java.net.URLClassLoader.access$100(URLClassLoader.java:73)\r\n            at java.net.URLClassLoader$1.run(URLClassLoader.java:368)\r\n            at java.net.URLClassLoader$1.run(URLClassLoader.java:362)\r\n            at java.security.AccessController.doPrivileged(Native Method)\r\n            at java.net.URLClassLoader.findClass(URLClassLoader.java:361)\r\n            at java.lang.ClassLoader.loadClass(ClassLoader.java:424)\r\n            at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:331)\r\n            at java.lang.ClassLoader.loadClass(ClassLoader.java:357)\r\n            at sun.launcher.LauncherHelper.checkAndLoadMain(LauncherHelper.java:495)\r\n\r\nI checked java versions:\r\n\r\n    java -version\r\n    openjdk version &quot;1.8.0_152-release&quot;    \r\n    OpenJDK Runtime Environment (build 1.8.0_152-release-1056-b12)    \r\n    OpenJDK 64-Bit Server VM (build 25.152-b12, mixed mode)    \r\n    \r\n    javac -version\r\n    javac 1.8.0_152-release    \r\n    \r\n    which java    \r\n    /home/sche/anaconda2/bin/java\r\n\r\nIf I understand correctly I needed to install a  uptdated version  of java (e.g. 11):\r\nso I tried:     \r\n\r\n    sudo apt update    \r\n    sudo apt install openjdk-11-jdk \r\n\r\nhowever, still there is the old version\r\n\r\n     java -version\r\n    openjdk version &quot;1.8.0_152-release&quot;    \r\n    OpenJDK Runtime Environment (build 1.8.0_152-release-1056-b12)     \r\n    OpenJDK 64-Bit Server VM (build 25.152-b12, mixed mode)\r\n\r\n    javac -version    \r\n    javac 1.8.0_152-release    \r\n\r\nI also tried manually with:\r\n\r\n    curl -O https://download.java.net/java/GA/jdk11/9/GPL/openjdk-11.0.2_linux-x64_bin.tar.gz    \r\n    tar zxvf openjdk-11.0.2_linux-x64_bin.tar.gz    \r\n    sudo mv jdk-11* /usr/local/    \r\n    sudo vim /etc/profile.d/jdk.sh\r\n    export JAVA_HOME=/usr/local/jdk-11.0.2\r\n    export PATH=$PATH:$JAVA_HOME/bin\r\n\r\nI really don&#39;t understand how to solve this issue\r\nthanks for your help\r\n\r\n\r\n","title":"#error running igv **Error: A JNI error has occurred, please check your installation and try again","body":"<p>I already looked in previous questions since it appears that my issue is quite common. However I still cannot solve this problem.\nWhen I run the IGV program I got this error:</p>\n<pre><code>Error: A JNI error has occurred, please check your installation and try again\nException in thread &quot;main&quot; java.lang.UnsupportedClassVersionError: org/broad/igv/ui/Main has been compiled by a more recent version of the Java Runtime (class file version 55.0), this version of the Java Runtime only recognizes class file versions up to 52.0\n        at java.lang.ClassLoader.defineClass1(Native Method)\n        at java.lang.ClassLoader.defineClass(ClassLoader.java:763)\n        at java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142)\n        at java.net.URLClassLoader.defineClass(URLClassLoader.java:467)\n        at java.net.URLClassLoader.access$100(URLClassLoader.java:73)\n        at java.net.URLClassLoader$1.run(URLClassLoader.java:368)\n        at java.net.URLClassLoader$1.run(URLClassLoader.java:362)\n        at java.security.AccessController.doPrivileged(Native Method)\n        at java.net.URLClassLoader.findClass(URLClassLoader.java:361)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:424)\n        at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:331)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:357)\n        at sun.launcher.LauncherHelper.checkAndLoadMain(LauncherHelper.java:495)\n</code></pre>\n<p>I checked java versions:</p>\n<pre><code>java -version\nopenjdk version &quot;1.8.0_152-release&quot;    \nOpenJDK Runtime Environment (build 1.8.0_152-release-1056-b12)    \nOpenJDK 64-Bit Server VM (build 25.152-b12, mixed mode)    \n\njavac -version\njavac 1.8.0_152-release    \n\nwhich java    \n/home/sche/anaconda2/bin/java\n</code></pre>\n<p>If I understand correctly I needed to install a  uptdated version  of java (e.g. 11):\nso I tried:</p>\n<pre><code>sudo apt update    \nsudo apt install openjdk-11-jdk \n</code></pre>\n<p>however, still there is the old version</p>\n<pre><code> java -version\nopenjdk version &quot;1.8.0_152-release&quot;    \nOpenJDK Runtime Environment (build 1.8.0_152-release-1056-b12)     \nOpenJDK 64-Bit Server VM (build 25.152-b12, mixed mode)\n\njavac -version    \njavac 1.8.0_152-release    \n</code></pre>\n<p>I also tried manually with:</p>\n<pre><code>curl -O https://download.java.net/java/GA/jdk11/9/GPL/openjdk-11.0.2_linux-x64_bin.tar.gz    \ntar zxvf openjdk-11.0.2_linux-x64_bin.tar.gz    \nsudo mv jdk-11* /usr/local/    \nsudo vim /etc/profile.d/jdk.sh\nexport JAVA_HOME=/usr/local/jdk-11.0.2\nexport PATH=$PATH:$JAVA_HOME/bin\n</code></pre>\n<p>I really don't understand how to solve this issue\nthanks for your help</p>\n"},{"tags":["java","apache","tomcat","access-log"],"comments":[{"owner":{"account_id":1680363,"reputation":7992,"user_id":1544715,"accept_rate":71,"display_name":"Magnus"},"score":0,"creation_date":1475760104,"post_id":39896222,"comment_id":67079981,"body_markdown":"I answered assuming you mean tomcat, due to the tomcat tag. But your question is vauge. Considering that there is Apache HTTPD and Apache Tomcat, you should probably clarify the language, the question could apply to either.","body":"I answered assuming you mean tomcat, due to the tomcat tag. But your question is vauge. Considering that there is Apache HTTPD and Apache Tomcat, you should probably clarify the language, the question could apply to either."}],"answers":[{"tags":[],"owner":{"account_id":2779715,"reputation":774,"user_id":2392469,"display_name":"gmaslowski"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1475759666,"creation_date":1475759666,"answer_id":39897037,"question_id":39896222,"body_markdown":"Apache access logs accept time format with sfrtime format from C standard library. Try something like that:\r\n\r\n    %{%Y-%m-%d %H:%M:%S.%f}t","title":"How to include time format with millisecond precision in Apache access log","body":"<p>Apache access logs accept time format with sfrtime format from C standard library. Try something like that:</p>\n\n<pre><code>%{%Y-%m-%d %H:%M:%S.%f}t\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1680363,"reputation":7992,"user_id":1544715,"accept_rate":71,"display_name":"Magnus"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1475759760,"creation_date":1475759760,"answer_id":39897075,"question_id":39896222,"body_markdown":"From the [`AccessLogValve` documentation][1]\r\n&gt; %{xxx}t xxx is an enhanced SimpleDateFormat pattern\r\n\r\n\r\nSo if you use a pattern of something like `%{yyyy-MM-dd HH:mm:ss.SSS}t` then it should print milliseconds.\r\n\r\n  [1]: https://tomcat.apache.org/tomcat-7.0-doc/api/org/apache/catalina/valves/AccessLogValve.html","title":"How to include time format with millisecond precision in Apache access log","body":"<p>From the <a href=\"https://tomcat.apache.org/tomcat-7.0-doc/api/org/apache/catalina/valves/AccessLogValve.html\" rel=\"noreferrer\"><code>AccessLogValve</code> documentation</a></p>\n\n<blockquote>\n  <p>%{xxx}t xxx is an enhanced SimpleDateFormat pattern</p>\n</blockquote>\n\n<p>So if you use a pattern of something like <code>%{yyyy-MM-dd HH:mm:ss.SSS}t</code> then it should print milliseconds.</p>\n"},{"tags":[],"owner":{"account_id":6238398,"reputation":1120,"user_id":7969681,"display_name":"Andrew Bobulsky"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698936358,"creation_date":1698936358,"answer_id":77410559,"question_id":39896222,"body_markdown":"Going with this:\r\n\r\n```\r\n%{yyyy-MM-dd}tT%{HH:mm:ss.SSSZ}t\r\n```\r\n\r\nYields timestamps that look like this:\r\n```\r\n2023-11-02T14:38:16.476+0000\r\n```","title":"How to include time format with millisecond precision in Apache access log","body":"<p>Going with this:</p>\n<pre><code>%{yyyy-MM-dd}tT%{HH:mm:ss.SSSZ}t\n</code></pre>\n<p>Yields timestamps that look like this:</p>\n<pre><code>2023-11-02T14:38:16.476+0000\n</code></pre>\n"}],"owner":{"account_id":6598584,"reputation":202,"user_id":5097561,"accept_rate":20,"display_name":"Rakshith R Pai"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4601,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":3,"score":5,"last_activity_date":1698936358,"creation_date":1475757443,"question_id":39896222,"body_markdown":"How to include time format with millisecond precision in **Apache Access Log**.\r\n\r\nI tried to use:\r\n\r\n    pattern=&quot;%h %l %u %{%d/%b/%Y %T}t.%{msec_frac}t %{%z}t &amp;quot;%r&amp;quot; %s %b&quot;.\r\n\r\nHowever it does not work.\r\n","title":"How to include time format with millisecond precision in Apache access log","body":"<p>How to include time format with millisecond precision in <strong>Apache Access Log</strong>.</p>\n\n<p>I tried to use:</p>\n\n<pre><code>pattern=\"%h %l %u %{%d/%b/%Y %T}t.%{msec_frac}t %{%z}t &amp;quot;%r&amp;quot; %s %b\".\n</code></pre>\n\n<p>However it does not work.</p>\n"},{"tags":["java","logging","fluentd"],"comments":[{"owner":{"account_id":15495461,"reputation":21,"user_id":11178502,"display_name":"saket gupta"},"score":0,"creation_date":1558418969,"post_id":56231645,"comment_id":99083339,"body_markdown":"@Laurenz Albe:- Thanks for editing the question !!","body":"@Laurenz Albe:- Thanks for editing the question !!"}],"answers":[{"tags":[],"owner":{"account_id":15711437,"reputation":197,"user_id":11336781,"display_name":"Jean"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1558550785,"creation_date":1558550785,"answer_id":56263143,"question_id":56231645,"body_markdown":"I had the same error and\r\nI dont know if this can help you but it&#39;s worked fot me.\r\n\r\ntd-agent.conf:\r\n   \r\n\r\n        ...\r\n        @type tail\r\n        format multiline\r\n        format_firstline  /^\\d{4}-\\d{1,2}-\\d{1,2}.\\d{1,2}:\\d{1,2}:\\d{1,2},\\d{3} (?&lt;type&gt;[A-Z]+) (?&lt;message&gt;.*\\n.*)/\r\n        format1 /^\\d{4}-\\d{1,2}-\\d{1,2}.\\d{1,2}:\\d{1,2}:\\d{1,2},\\d{3} (?&lt;type&gt;[A-Z]+) (?&lt;message&gt;.*\\n.*)/\r\n        ...\r\n\r\n\r\nI think that `(?&lt;message&gt;.*\\n.*)` could help because it&#39;s include multiple `/n`,include \r\n all the lines after.\r\n\r\ntry it [here][1].\r\n\r\nHope it helped.\r\n\r\n\r\n  [1]: https://regex101.com/","title":"Fluentd Not parsing the last line of the log","body":"<p>I had the same error and\nI dont know if this can help you but it's worked fot me.</p>\n\n<p>td-agent.conf:</p>\n\n<pre><code>    ...\n    @type tail\n    format multiline\n    format_firstline  /^\\d{4}-\\d{1,2}-\\d{1,2}.\\d{1,2}:\\d{1,2}:\\d{1,2},\\d{3} (?&lt;type&gt;[A-Z]+) (?&lt;message&gt;.*\\n.*)/\n    format1 /^\\d{4}-\\d{1,2}-\\d{1,2}.\\d{1,2}:\\d{1,2}:\\d{1,2},\\d{3} (?&lt;type&gt;[A-Z]+) (?&lt;message&gt;.*\\n.*)/\n    ...\n</code></pre>\n\n<p>I think that <code>(?&lt;message&gt;.*\\n.*)</code> could help because it's include multiple <code>/n</code>,include \n all the lines after.</p>\n\n<p>try it <a href=\"https://regex101.com/\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<p>Hope it helped.</p>\n"},{"tags":[],"owner":{"account_id":7496221,"reputation":1738,"user_id":5696392,"accept_rate":43,"display_name":"Will"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698936279,"creation_date":1698936279,"answer_id":77410548,"question_id":56231645,"body_markdown":"https://docs.fluentd.org/v/0.12/input/tail\r\n\r\nLook up the **multiline_flush_interval** parameter.  Same thing happened to me until I set this parameter to 0s.  After processing the rows above the last, it then processes the last row within a second.","title":"Fluentd Not parsing the last line of the log","body":"<p><a href=\"https://docs.fluentd.org/v/0.12/input/tail\" rel=\"nofollow noreferrer\">https://docs.fluentd.org/v/0.12/input/tail</a></p>\n<p>Look up the <strong>multiline_flush_interval</strong> parameter.  Same thing happened to me until I set this parameter to 0s.  After processing the rows above the last, it then processes the last row within a second.</p>\n"}],"owner":{"account_id":15495461,"reputation":21,"user_id":11178502,"display_name":"saket gupta"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":697,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1698936279,"creation_date":1558416720,"question_id":56231645,"body_markdown":"I am currently setting up efk stack to parse my java logs (log4j) . I am able to parse all the logs except the last line of the log. so for eg. \r\n\r\n```\r\n2019-05-17 07:19:35,708 WARN log-line-1\r\n\r\n2019-05-17 07:19:35,708 WARN log-line-2\r\n```\r\n\r\nso `log-line-1` is parsed, but not `log-line-2`. Otherwise I am able to parse everything.\r\n\r\nI have tested my regex (https://rubular.com/) and it works fine.\r\n\r\nFollowing is the configuration for fluentd:\r\n\r\n    format multiline\r\n\r\n    format_firstline /\\d{4}-\\d{1,2}-\\d{1,2} \\d{1,2}:\\d{1,2}:\\d{1,2},\\d{3}/\r\n\r\n    format1 /(?&lt;logtime&gt;\\d{4}-\\d{1,2}-\\d{1,2} \\d{1,2}:\\d{1,2}:\\d{1,2},\\d{3})[\\s](?&lt;LEVEL&gt;[A-Z]+)(?&lt;message&gt;(?=([\\w\\W\\s]*?\\d{4}-\\d{2}-\\d{2}[\\s]*\\d{2}:\\d{2}:\\d{2}\\,\\d{3}))([\\w\\W\\s]*?)(?=(\\d{4}-\\d{2}-\\d{2}[\\s]*\\d{2}:\\d{2}:\\d{2}\\,\\d{3}))|((.|\\s)*))/\r\n\r\n    @type tail\r\n\r\n    time_key logtime","title":"Fluentd Not parsing the last line of the log","body":"<p>I am currently setting up efk stack to parse my java logs (log4j) . I am able to parse all the logs except the last line of the log. so for eg. </p>\n\n<pre><code>2019-05-17 07:19:35,708 WARN log-line-1\n\n2019-05-17 07:19:35,708 WARN log-line-2\n</code></pre>\n\n<p>so <code>log-line-1</code> is parsed, but not <code>log-line-2</code>. Otherwise I am able to parse everything.</p>\n\n<p>I have tested my regex (<a href=\"https://rubular.com/\" rel=\"nofollow noreferrer\">https://rubular.com/</a>) and it works fine.</p>\n\n<p>Following is the configuration for fluentd:</p>\n\n<pre><code>format multiline\n\nformat_firstline /\\d{4}-\\d{1,2}-\\d{1,2} \\d{1,2}:\\d{1,2}:\\d{1,2},\\d{3}/\n\nformat1 /(?&lt;logtime&gt;\\d{4}-\\d{1,2}-\\d{1,2} \\d{1,2}:\\d{1,2}:\\d{1,2},\\d{3})[\\s](?&lt;LEVEL&gt;[A-Z]+)(?&lt;message&gt;(?=([\\w\\W\\s]*?\\d{4}-\\d{2}-\\d{2}[\\s]*\\d{2}:\\d{2}:\\d{2}\\,\\d{3}))([\\w\\W\\s]*?)(?=(\\d{4}-\\d{2}-\\d{2}[\\s]*\\d{2}:\\d{2}:\\d{2}\\,\\d{3}))|((.|\\s)*))/\n\n@type tail\n\ntime_key logtime\n</code></pre>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":1921,"reputation":185672,"user_id":2648,"accept_rate":52,"display_name":"D&#243;nal"},"down_vote_count":1,"up_vote_count":33,"is_accepted":false,"score":32,"last_activity_date":1226382522,"creation_date":1226382522,"answer_id":280119,"question_id":280107,"body_markdown":"The word &quot;canonical&quot; is just a synonym for &quot;standard&quot; or &quot;usual&quot;. It doesn`t have any Java-specific meaning.","title":"What does the term &quot;canonical form&quot; or &quot;canonical representation&quot; in Java mean?","body":"<p>The word \"canonical\" is just a synonym for \"standard\" or \"usual\". It doesn`t have any Java-specific meaning.</p>\n"},{"tags":[],"owner":{"account_id":2450,"reputation":26652,"user_id":3415,"accept_rate":100,"display_name":"Brian Gianforcaro"},"down_vote_count":1,"up_vote_count":66,"is_accepted":true,"score":65,"last_activity_date":1369935401,"creation_date":1226382709,"answer_id":280121,"question_id":280107,"body_markdown":"Wikipedia points to the term [Canonicalization][1].\r\n\r\n&gt; A process for converting data that has more than one possible representation into a &quot;standard&quot; canonical representation. This can be done to compare different representations for equivalence, to count the number of distinct data structures, to improve the efficiency of various algorithms by eliminating repeated calculations, or to make it possible to impose a meaningful sorting order.\r\n\r\nThe **Unicode** example made the most sense to me:\r\n\r\n&gt; Variable-length encodings in the Unicode standard, in particular UTF-8, have more than one possible encoding for most common characters. This makes string validation more complicated, since every possible encoding of each string character must be considered. A software implementation which does not consider all character encodings runs the risk of accepting strings considered invalid in the application design, which could cause bugs or allow attacks. The solution is to allow a single encoding for each character. Canonicalization is then the process of translating every string character to its single allowed encoding. An alternative is for software to determine whether a string is canonicalized, and then reject it if it is not. In this case, in a client/server context, the canonicalization would be the responsibility of the client.\r\n\r\nIn summary, a standard form of representation for data. From this form you can then convert to any representation you may need. \r\n\r\n  [1]: http://en.wikipedia.org/wiki/Canonicalization","title":"What does the term &quot;canonical form&quot; or &quot;canonical representation&quot; in Java mean?","body":"<p>Wikipedia points to the term <a href=\"http://en.wikipedia.org/wiki/Canonicalization\" rel=\"noreferrer\">Canonicalization</a>.</p>\n\n<blockquote>\n  <p>A process for converting data that has more than one possible representation into a \"standard\" canonical representation. This can be done to compare different representations for equivalence, to count the number of distinct data structures, to improve the efficiency of various algorithms by eliminating repeated calculations, or to make it possible to impose a meaningful sorting order.</p>\n</blockquote>\n\n<p>The <strong>Unicode</strong> example made the most sense to me:</p>\n\n<blockquote>\n  <p>Variable-length encodings in the Unicode standard, in particular UTF-8, have more than one possible encoding for most common characters. This makes string validation more complicated, since every possible encoding of each string character must be considered. A software implementation which does not consider all character encodings runs the risk of accepting strings considered invalid in the application design, which could cause bugs or allow attacks. The solution is to allow a single encoding for each character. Canonicalization is then the process of translating every string character to its single allowed encoding. An alternative is for software to determine whether a string is canonicalized, and then reject it if it is not. In this case, in a client/server context, the canonicalization would be the responsibility of the client.</p>\n</blockquote>\n\n<p>In summary, a standard form of representation for data. From this form you can then convert to any representation you may need. </p>\n"},{"tags":[],"owner":{"account_id":13054,"reputation":2642,"user_id":26010,"display_name":"Dov Wasserman"},"down_vote_count":0,"up_vote_count":72,"is_accepted":false,"score":72,"last_activity_date":1229053564,"creation_date":1229053564,"answer_id":361827,"question_id":280107,"body_markdown":"I believe there are two related uses of canonical: forms and instances.\r\n\r\nA **canonical form** means that values of a particular type of resource can be described or represented in multiple ways, and one of those ways is chosen as the favored canonical form. (That form is *canonized*, like books that made it into the bible, and the other forms are not.) A classic example of a canonical form is paths in a hierarchical file system, where a single file can be referenced in a number of ways:\r\n\r\n    myFile.txt                                   # in current working dir\r\n    ../conf/myFile.txt                           # relative to the CWD\r\n    /apps/tomcat/conf/myFile.txt                 # absolute path using symbolic links\r\n    /u1/local/apps/tomcat-5.5.1/conf/myFile.txt  # absolute path with no symlinks\r\n\r\nThe classic definition of the canonical representation of that file would be the last path. With local or relative paths you cannot globally identify the resource without contextual information. With absolute paths you can identify the resource, but cannot tell if two paths refer to the same entity. With two or more paths converted to their canonical forms, you can do all the above, plus determine if two resources are the same or not, if that is important to your application (solve *the aliasing problem*).\r\n\r\nNote that the canonical form of a resource is not a quality of that particular form itself; there can be multiple possible canonical forms for a given type like file paths (say, lexicographically first of all possible absolute paths). One form is just selected as the canonical form for a particular application reason, or maybe arbitrarily so that everyone speaks the same language.\r\n\r\nForcing objects into their **canonical instances** is the same basic idea, but instead of determining one &quot;best&quot; representation of a resource, it arbitrarily chooses one instance of a class of instances with the same &quot;content&quot; as the canonical reference, then converts all references to equivalent objects to use the one canonical instance.\r\n\r\nThis can be used as a technique for optimizing both time and space. If there are multiple instances of equivalent objects in an application, then by forcing them all to be resolved as the single canonical instance of a particular value, you can eliminate all but one of each value, saving space and possibly time since you can now compare those values with reference identity (==) as opposed to object equivalence (`equals()` method).\r\n\r\nA classic example of optimizing performance with canonical instances is collapsing strings with the same content. Calling `String.intern()` on two strings with the same character sequence is guaranteed to return the same canonical String object for that text. If you pass all your strings through that canonicalizer, you know equivalent strings are actually identical object references, i.e., aliases\r\n\r\nThe enum types in Java 5.0+ force all instances of a particular enum value to use the same canonical instance within a VM, even if the value is serialized and deserialized. That is why you can use `if (day == Days.SUNDAY)` with impunity in java if `Days` is an enum type. Doing this for your own classes is certainly possible, but takes care. Read *Effective Java* by Josh Bloch for details and advice.","title":"What does the term &quot;canonical form&quot; or &quot;canonical representation&quot; in Java mean?","body":"<p>I believe there are two related uses of canonical: forms and instances.</p>\n\n<p>A <strong>canonical form</strong> means that values of a particular type of resource can be described or represented in multiple ways, and one of those ways is chosen as the favored canonical form. (That form is <em>canonized</em>, like books that made it into the bible, and the other forms are not.) A classic example of a canonical form is paths in a hierarchical file system, where a single file can be referenced in a number of ways:</p>\n\n<pre><code>myFile.txt                                   # in current working dir\n../conf/myFile.txt                           # relative to the CWD\n/apps/tomcat/conf/myFile.txt                 # absolute path using symbolic links\n/u1/local/apps/tomcat-5.5.1/conf/myFile.txt  # absolute path with no symlinks\n</code></pre>\n\n<p>The classic definition of the canonical representation of that file would be the last path. With local or relative paths you cannot globally identify the resource without contextual information. With absolute paths you can identify the resource, but cannot tell if two paths refer to the same entity. With two or more paths converted to their canonical forms, you can do all the above, plus determine if two resources are the same or not, if that is important to your application (solve <em>the aliasing problem</em>).</p>\n\n<p>Note that the canonical form of a resource is not a quality of that particular form itself; there can be multiple possible canonical forms for a given type like file paths (say, lexicographically first of all possible absolute paths). One form is just selected as the canonical form for a particular application reason, or maybe arbitrarily so that everyone speaks the same language.</p>\n\n<p>Forcing objects into their <strong>canonical instances</strong> is the same basic idea, but instead of determining one \"best\" representation of a resource, it arbitrarily chooses one instance of a class of instances with the same \"content\" as the canonical reference, then converts all references to equivalent objects to use the one canonical instance.</p>\n\n<p>This can be used as a technique for optimizing both time and space. If there are multiple instances of equivalent objects in an application, then by forcing them all to be resolved as the single canonical instance of a particular value, you can eliminate all but one of each value, saving space and possibly time since you can now compare those values with reference identity (==) as opposed to object equivalence (<code>equals()</code> method).</p>\n\n<p>A classic example of optimizing performance with canonical instances is collapsing strings with the same content. Calling <code>String.intern()</code> on two strings with the same character sequence is guaranteed to return the same canonical String object for that text. If you pass all your strings through that canonicalizer, you know equivalent strings are actually identical object references, i.e., aliases</p>\n\n<p>The enum types in Java 5.0+ force all instances of a particular enum value to use the same canonical instance within a VM, even if the value is serialized and deserialized. That is why you can use <code>if (day == Days.SUNDAY)</code> with impunity in java if <code>Days</code> is an enum type. Doing this for your own classes is certainly possible, but takes care. Read <em>Effective Java</em> by Josh Bloch for details and advice.</p>\n"},{"tags":[],"owner":{"account_id":635538,"reputation":221,"user_id":405419,"display_name":"Jaime"},"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1280391220,"creation_date":1280391220,"answer_id":3360543,"question_id":280107,"body_markdown":"reduced to the simplest and most significant form without losing generality","title":"What does the term &quot;canonical form&quot; or &quot;canonical representation&quot; in Java mean?","body":"<p>reduced to the simplest and most significant form without losing generality</p>\n"},{"tags":[],"owner":{"account_id":653005,"reputation":1,"user_id":446961,"display_name":"SASIKALA"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1284435835,"creation_date":1284435835,"answer_id":3705984,"question_id":280107,"body_markdown":"canonical representation means view the character in different style\r\nfor example if I write a letter A means another person may write the letter A in different style:)\r\n\r\nThis is according to OPTICAL CHARACTER RECOGNITION FIELD","title":"What does the term &quot;canonical form&quot; or &quot;canonical representation&quot; in Java mean?","body":"<p>canonical representation means view the character in different style\nfor example if I write a letter A means another person may write the letter A in different style:)</p>\n\n<p>This is according to OPTICAL CHARACTER RECOGNITION FIELD</p>\n"},{"tags":[],"owner":{"account_id":294465,"reputation":535,"user_id":598377,"accept_rate":43,"display_name":"Kimberley Coburn"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1339755146,"creation_date":1339751469,"answer_id":11047738,"question_id":280107,"body_markdown":"Another good example might be: you have a class that supports the use of cartesian (x, y, z), spherical (r, theta, phi) and cylindrical coordinates (r, phi, z). For purposes of establishing equality (equals method), you would probably want to convert all representations to one &quot;canonical&quot; representation of your choosing, e.g. spherical coordinates. (Or maybe you would want to do this in general - i.e. use one internal representation.) I am not an expert, but this did occur to me as maybe a good concrete example.","title":"What does the term &quot;canonical form&quot; or &quot;canonical representation&quot; in Java mean?","body":"<p>Another good example might be: you have a class that supports the use of cartesian (x, y, z), spherical (r, theta, phi) and cylindrical coordinates (r, phi, z). For purposes of establishing equality (equals method), you would probably want to convert all representations to one \"canonical\" representation of your choosing, e.g. spherical coordinates. (Or maybe you would want to do this in general - i.e. use one internal representation.) I am not an expert, but this did occur to me as maybe a good concrete example.</p>\n"},{"tags":[],"owner":{"account_id":1713646,"reputation":81,"user_id":1571210,"display_name":"Chris Mawata"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1348843931,"creation_date":1343906295,"answer_id":11776328,"question_id":280107,"body_markdown":"An easy way to remember it is the way &quot;canonical&quot; is used in theological circles, canonical truth is the real truth so if two people find it they have found the same truth. Same with canonical instance. If you think you have found two of them (i.e. `a.equals(b)`) you really only have one (i.e. `a == b`). So equality implies identity in the case of canonical object.\r\n\r\nNow for the comparison. You now have the choice of using `a==b` **or** `a.equals(b)`, since they will produce the same answer in the case of canonical instance but a==b is comparison of the reference (the JVM can compare two numbers extremely rapidly as they are just two 32 bit patterns compared to `a.equals(b)` which is a method call and involves more overhead.","title":"What does the term &quot;canonical form&quot; or &quot;canonical representation&quot; in Java mean?","body":"<p>An easy way to remember it is the way \"canonical\" is used in theological circles, canonical truth is the real truth so if two people find it they have found the same truth. Same with canonical instance. If you think you have found two of them (i.e. <code>a.equals(b)</code>) you really only have one (i.e. <code>a == b</code>). So equality implies identity in the case of canonical object.</p>\n\n<p>Now for the comparison. You now have the choice of using <code>a==b</code> <strong>or</strong> <code>a.equals(b)</code>, since they will produce the same answer in the case of canonical instance but a==b is comparison of the reference (the JVM can compare two numbers extremely rapidly as they are just two 32 bit patterns compared to <code>a.equals(b)</code> which is a method call and involves more overhead.</p>\n"},{"tags":[],"owner":{"account_id":1633722,"reputation":615,"user_id":1507781,"display_name":"Michael Marton"},"down_vote_count":0,"up_vote_count":37,"is_accepted":false,"score":37,"last_activity_date":1348351278,"creation_date":1347453196,"answer_id":12388260,"question_id":280107,"body_markdown":"A good example for understanding &quot;canonical form/representation&quot; is to look at the XML schema datatype definition of &quot;boolean&quot;: \r\n\r\n - the &quot;lexical representation&quot; of boolean can be one of: `{true, false, 1, 0}` whereas\r\n - the &quot;canonical representation&quot; can only be one of `{true, false}`\r\n\r\nThis, in essence, means that \r\n\r\n - `&quot;true&quot;` and `&quot;1&quot;` get mapped to the canonical repr. `&quot;true&quot;` and\r\n - `&quot;false&quot;` and `&quot;0&quot;` get mapped to the canoncial repr. `&quot;false&quot;`\r\n\r\nsee [the w3 XML schema datatype definition for boolean][1]\r\n\r\n\r\n  [1]: http://www.w3.org/TR/xmlschema-2/#boolean","title":"What does the term &quot;canonical form&quot; or &quot;canonical representation&quot; in Java mean?","body":"<p>A good example for understanding \"canonical form/representation\" is to look at the XML schema datatype definition of \"boolean\": </p>\n\n<ul>\n<li>the \"lexical representation\" of boolean can be one of: <code>{true, false, 1, 0}</code> whereas</li>\n<li>the \"canonical representation\" can only be one of <code>{true, false}</code></li>\n</ul>\n\n<p>This, in essence, means that </p>\n\n<ul>\n<li><code>\"true\"</code> and <code>\"1\"</code> get mapped to the canonical repr. <code>\"true\"</code> and</li>\n<li><code>\"false\"</code> and <code>\"0\"</code> get mapped to the canoncial repr. <code>\"false\"</code></li>\n</ul>\n\n<p>see <a href=\"http://www.w3.org/TR/xmlschema-2/#boolean\" rel=\"noreferrer\">the w3 XML schema datatype definition for boolean</a></p>\n"},{"tags":[],"owner":{"account_id":4553174,"reputation":454,"user_id":15068701,"display_name":"Maksym Ovsianikov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1455740534,"creation_date":1455740534,"answer_id":35466956,"question_id":280107,"body_markdown":"A canonical form means a naturally unique representation of the element","title":"What does the term &quot;canonical form&quot; or &quot;canonical representation&quot; in Java mean?","body":"<p>A canonical form means a naturally unique representation of the element</p>\n"},{"tags":[],"owner":{"account_id":3410182,"reputation":12151,"user_id":2860319,"accept_rate":75,"display_name":"The Gilbert Arenas Dagger"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1539976462,"creation_date":1539976462,"answer_id":52898626,"question_id":280107,"body_markdown":"The OP&#39;s questions about *canonical form* and how it can improve performance of the `equals` method can both be answered by extending the example provided in Effective Java.  \r\n\r\nConsider the following class:\r\n\r\n\r\n    public final class CaseInsensitiveString {\r\n\r\n      private final String s;\r\n    \r\n      public CaseInsensitiveString(String s) {\r\n        this.s = Objects.requireNonNull(s);\r\n      }\r\n    \r\n      @Override \r\n      public boolean equals(Object o) {\r\n        return o instanceof CaseInsensitiveString &amp;&amp; ((CaseInsensitiveString) o).s.equalsIgnoreCase(s);\r\n      }\r\n    }\r\n\r\nThe `equals` method in this example has added cost by using `String`&#39;s `equalsIgnoreCase` method.  As mentioned in the text\r\n\r\n&gt; you may want to store a canonical form of the field so the equals\r\n&gt; method can do a cheap exact comparison on canonical forms rather than\r\n&gt; a more costly nonstandard comparison.\r\n\r\nWhat does Joshua Bloch mean when he says *canonical form*?  Well, I think D&#243;nal&#39;s concise [answer][1] is very appropriate. We can store the underlying `String` field in the `CaseInsensitiveString` example in a *standard* way, perhaps the uppercase form of the `String`. Now, you can reference this *canonical form* of the `CaseInsensitiveString`, its uppercase variant, and perform cheap evaluations in your `equals` and `hashcode` methods.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/280119/2860319","title":"What does the term &quot;canonical form&quot; or &quot;canonical representation&quot; in Java mean?","body":"<p>The OP's questions about <em>canonical form</em> and how it can improve performance of the <code>equals</code> method can both be answered by extending the example provided in Effective Java.  </p>\n\n<p>Consider the following class:</p>\n\n<pre><code>public final class CaseInsensitiveString {\n\n  private final String s;\n\n  public CaseInsensitiveString(String s) {\n    this.s = Objects.requireNonNull(s);\n  }\n\n  @Override \n  public boolean equals(Object o) {\n    return o instanceof CaseInsensitiveString &amp;&amp; ((CaseInsensitiveString) o).s.equalsIgnoreCase(s);\n  }\n}\n</code></pre>\n\n<p>The <code>equals</code> method in this example has added cost by using <code>String</code>'s <code>equalsIgnoreCase</code> method.  As mentioned in the text</p>\n\n<blockquote>\n  <p>you may want to store a canonical form of the field so the equals\n  method can do a cheap exact comparison on canonical forms rather than\n  a more costly nonstandard comparison.</p>\n</blockquote>\n\n<p>What does Joshua Bloch mean when he says <em>canonical form</em>?  Well, I think Dónal's concise <a href=\"https://stackoverflow.com/a/280119/2860319\">answer</a> is very appropriate. We can store the underlying <code>String</code> field in the <code>CaseInsensitiveString</code> example in a <em>standard</em> way, perhaps the uppercase form of the <code>String</code>. Now, you can reference this <em>canonical form</em> of the <code>CaseInsensitiveString</code>, its uppercase variant, and perform cheap evaluations in your <code>equals</code> and <code>hashcode</code> methods.</p>\n"},{"tags":[],"owner":{"account_id":3963168,"reputation":34414,"user_id":3269809,"display_name":"Alper t. Turker"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1573583733,"creation_date":1573583733,"answer_id":58824702,"question_id":280107,"body_markdown":"Canonical Data in RDBMS, Graph Data;  \r\nThink as &quot;Normalization&quot; or &quot;Normal form&quot; of a data in a RDBMS. Same data exists in different tables, represented with a unique identifier and mapped it in different tables.   \r\nor  \r\nThink a single form of a data in Graph Database that represented in many triples.\r\n\r\nMajor benefit of it is to make Dml (Data manipulation) more efficient since you can upsert (insert/update) only one value instead of many.  \r\n\r\n","title":"What does the term &quot;canonical form&quot; or &quot;canonical representation&quot; in Java mean?","body":"<p>Canonical Data in RDBMS, Graph Data;<br>\nThink as \"Normalization\" or \"Normal form\" of a data in a RDBMS. Same data exists in different tables, represented with a unique identifier and mapped it in different tables.<br>\nor<br>\nThink a single form of a data in Graph Database that represented in many triples.</p>\n\n<p>Major benefit of it is to make Dml (Data manipulation) more efficient since you can upsert (insert/update) only one value instead of many.  </p>\n"},{"tags":[],"owner":{"account_id":28403828,"reputation":1,"user_id":21728204,"display_name":"dama-dev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698935869,"creation_date":1698935869,"answer_id":77410490,"question_id":280107,"body_markdown":"In TypeScript, when defining reusable types for functions, it&#39;s common to have two related types: a canonical form for return types and a looser form for parameters. Here&#39;s what these terms typically mean:\r\n\r\nCanonical Form (Return Type): The canonical form, in the context of return types, represents the strictest and most specific type that describes what a function returns. It&#39;s often used to define the precise shape of the data that a function is expected to return. This form aims to capture the exact structure and type of the returned value as accurately as possible.\r\n\r\nLooser Form (Parameters): The looser form, typically applied to parameters, is a type that is more permissive or general. It allows for various input values, which may include a wider range of possibilities. This form is less specific than the canonical form and is designed to accept different input values and types.\r\n\r\nThis approach provides flexibility in your code. By having a canonical form for return types, you can ensure that functions produce specific types of results, which is especially useful for type checking and understanding what functions return. On the other hand, using a looser form for parameters allows functions to accept a broader range of input values, making them more versatile.\r\n\r\nHere&#39;s a simple example:\r\n\r\n\r\n    // Canonical form for return type\r\n    function multiply(a: number, b: number): number {\r\n      return a * b;\r\n    }\r\n    \r\n    // Looser form for parameters\r\n    function add(a: number | string, b: number | string): number | string {\r\n      return a + b;\r\n    }\r\n\r\nIn this example, the multiply function has a canonical form that specifies it returns a number. The add function has a looser form for parameters, allowing it to accept both numbers and strings as inputs and returning a type that can be either a number or a string.\r\n\r\nUsing these canonical and looser forms in your type definitions can help you strike a balance between type safety and flexibility in your code.","title":"What does the term &quot;canonical form&quot; or &quot;canonical representation&quot; in Java mean?","body":"<p>In TypeScript, when defining reusable types for functions, it's common to have two related types: a canonical form for return types and a looser form for parameters. Here's what these terms typically mean:</p>\n<p>Canonical Form (Return Type): The canonical form, in the context of return types, represents the strictest and most specific type that describes what a function returns. It's often used to define the precise shape of the data that a function is expected to return. This form aims to capture the exact structure and type of the returned value as accurately as possible.</p>\n<p>Looser Form (Parameters): The looser form, typically applied to parameters, is a type that is more permissive or general. It allows for various input values, which may include a wider range of possibilities. This form is less specific than the canonical form and is designed to accept different input values and types.</p>\n<p>This approach provides flexibility in your code. By having a canonical form for return types, you can ensure that functions produce specific types of results, which is especially useful for type checking and understanding what functions return. On the other hand, using a looser form for parameters allows functions to accept a broader range of input values, making them more versatile.</p>\n<p>Here's a simple example:</p>\n<pre><code>// Canonical form for return type\nfunction multiply(a: number, b: number): number {\n  return a * b;\n}\n\n// Looser form for parameters\nfunction add(a: number | string, b: number | string): number | string {\n  return a + b;\n}\n</code></pre>\n<p>In this example, the multiply function has a canonical form that specifies it returns a number. The add function has a looser form for parameters, allowing it to accept both numbers and strings as inputs and returning a type that can be either a number or a string.</p>\n<p>Using these canonical and looser forms in your type definitions can help you strike a balance between type safety and flexibility in your code.</p>\n"}],"owner":{"account_id":5641,"reputation":4356,"user_id":9195,"accept_rate":60,"display_name":"Shivasubramanian A"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":140255,"favorite_count":0,"down_vote_count":0,"up_vote_count":112,"accepted_answer_id":280121,"answer_count":12,"score":112,"last_activity_date":1698935869,"creation_date":1226381771,"question_id":280107,"body_markdown":"I have often heard this term being used, but I have never really understood it.\r\n\r\nWhat does it mean, and can anyone give some examples/point me to some links?\r\n\r\nEDIT: Thanks to everyone for the replies. Can you also tell me how the canonical representation is useful in equals() performance, as stated in Effective Java?","title":"What does the term &quot;canonical form&quot; or &quot;canonical representation&quot; in Java mean?","body":"<p>I have often heard this term being used, but I have never really understood it.</p>\n\n<p>What does it mean, and can anyone give some examples/point me to some links?</p>\n\n<p>EDIT: Thanks to everyone for the replies. Can you also tell me how the canonical representation is useful in equals() performance, as stated in Effective Java?</p>\n"},{"tags":["java","spring-boot","testcontainers"],"answers":[{"tags":[],"owner":{"account_id":17228781,"reputation":3548,"user_id":12473843,"display_name":"Sergey Tsypanov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1698934917,"creation_date":1698934917,"answer_id":77410388,"question_id":77409239,"body_markdown":"You can create an abstract `BaseIntegrationTest` and extend all the tests involving Testcontainers from it: both container and application context will be started once and shared across the tests:\r\n```java\r\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\r\n@ActiveProfiles(&quot;integration-test&quot;)\r\npublic abstract class BaseIntegrationTest {\r\n\r\n    static MySQLContainer mysql = new MySQLContainer&lt;&gt;(DockerImageName.parse(&quot;mysql:8.0.33&quot;));\r\n\r\n    static {\r\n        mysql.start();\r\n    }\r\n\r\n    @DynamicPropertySource\r\n    static void setProperties(DynamicPropertyRegistry dynamicPropertyRegistry) {\r\n        dynamicPropertyRegistry.add(&quot;spring.datasource.url&quot;, mysql::getJdbcUrl);\r\n        dynamicPropertyRegistry.add(&quot;spring.datasource.username&quot;, mysql::getUsername);\r\n        dynamicPropertyRegistry.add(&quot;spring.datasource.password&quot;, mysql::getPassword);\r\n    }\r\n}\r\n\r\n// The following tests share the same container and application context\r\n\r\nclass SomeRepositoryTest extends BaseIntegrationTest {\r\n//...\r\n}\r\n\r\nclass AnotherRepositoryTest extends BaseIntegrationTest {\r\n//...\r\n}\r\n\r\n```","title":"Unable to move container initialization as part of a Spring profile","body":"<p>You can create an abstract <code>BaseIntegrationTest</code> and extend all the tests involving Testcontainers from it: both container and application context will be started once and shared across the tests:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\n@ActiveProfiles(&quot;integration-test&quot;)\npublic abstract class BaseIntegrationTest {\n\n    static MySQLContainer mysql = new MySQLContainer&lt;&gt;(DockerImageName.parse(&quot;mysql:8.0.33&quot;));\n\n    static {\n        mysql.start();\n    }\n\n    @DynamicPropertySource\n    static void setProperties(DynamicPropertyRegistry dynamicPropertyRegistry) {\n        dynamicPropertyRegistry.add(&quot;spring.datasource.url&quot;, mysql::getJdbcUrl);\n        dynamicPropertyRegistry.add(&quot;spring.datasource.username&quot;, mysql::getUsername);\n        dynamicPropertyRegistry.add(&quot;spring.datasource.password&quot;, mysql::getPassword);\n    }\n}\n\n// The following tests share the same container and application context\n\nclass SomeRepositoryTest extends BaseIntegrationTest {\n//...\n}\n\nclass AnotherRepositoryTest extends BaseIntegrationTest {\n//...\n}\n\n</code></pre>\n"}],"owner":{"account_id":16435976,"reputation":162,"user_id":11873562,"display_name":"IceMajor"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1698934917,"creation_date":1698924926,"question_id":77409239,"body_markdown":"For my integration tests I need an up and running MySQL database. I&#39;ve decided to set it up through Testcontainers module. Here&#39;s how I run it.\r\n\r\n```java\r\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\r\n@ActiveProfiles(&quot;integration-test&quot;)\r\npublic class IntegrationTest {\r\n\r\n    static MySQLContainer mysql = new MySQLContainer&lt;&gt;(DockerImageName.parse(&quot;mysql:8.0.33&quot;));\r\n\r\n    static {\r\n        mysql.start();\r\n    }\r\n\r\n    @DynamicPropertySource\r\n    static void setProperties(DynamicPropertyRegistry dynamicPropertyRegistry) {\r\n        dynamicPropertyRegistry.add(&quot;spring.datasource.url&quot;, mysql::getJdbcUrl);\r\n        dynamicPropertyRegistry.add(&quot;spring.datasource.username&quot;, mysql::getUsername);\r\n        dynamicPropertyRegistry.add(&quot;spring.datasource.password&quot;, mysql::getPassword);\r\n    }\r\n}\r\n```\r\nThis works, but I have several integration test classes and it just feels like a bad practice to use the same couple of lines in order to start a container. I&#39;d rather have a class - like a `integration-test` Spring profile - and start it there once. Something like this:\r\n```java\r\n@Configuration\r\n@Profile(&quot;integration-test&quot;)\r\npublic class IntegrationTestProfile {\r\n\r\n    static MySQLContainer mysql = new MySQLContainer&lt;&gt;(DockerImageName.parse(&quot;mysql:8.0.33&quot;));\r\n\r\n    static {\r\n        mysql.start();\r\n    }\r\n\r\n    @DynamicPropertySource\r\n    static void setProperties(DynamicPropertyRegistry dynamicPropertyRegistry) {\r\n        dynamicPropertyRegistry.add(&quot;spring.datasource.url&quot;, mysql::getJdbcUrl);\r\n        dynamicPropertyRegistry.add(&quot;spring.datasource.username&quot;, mysql::getUsername);\r\n        dynamicPropertyRegistry.add(&quot;spring.datasource.password&quot;, mysql::getPassword);\r\n    }\r\n}\r\n```\r\n\r\nThis, however, fails. The container is launched (I can see that in logs), but the properties are not dynamically overridden and the ones from the `application.properties` are used instead.\r\n\r\nHow can I fix that?","title":"Unable to move container initialization as part of a Spring profile","body":"<p>For my integration tests I need an up and running MySQL database. I've decided to set it up through Testcontainers module. Here's how I run it.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\n@ActiveProfiles(&quot;integration-test&quot;)\npublic class IntegrationTest {\n\n    static MySQLContainer mysql = new MySQLContainer&lt;&gt;(DockerImageName.parse(&quot;mysql:8.0.33&quot;));\n\n    static {\n        mysql.start();\n    }\n\n    @DynamicPropertySource\n    static void setProperties(DynamicPropertyRegistry dynamicPropertyRegistry) {\n        dynamicPropertyRegistry.add(&quot;spring.datasource.url&quot;, mysql::getJdbcUrl);\n        dynamicPropertyRegistry.add(&quot;spring.datasource.username&quot;, mysql::getUsername);\n        dynamicPropertyRegistry.add(&quot;spring.datasource.password&quot;, mysql::getPassword);\n    }\n}\n</code></pre>\n<p>This works, but I have several integration test classes and it just feels like a bad practice to use the same couple of lines in order to start a container. I'd rather have a class - like a <code>integration-test</code> Spring profile - and start it there once. Something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@Profile(&quot;integration-test&quot;)\npublic class IntegrationTestProfile {\n\n    static MySQLContainer mysql = new MySQLContainer&lt;&gt;(DockerImageName.parse(&quot;mysql:8.0.33&quot;));\n\n    static {\n        mysql.start();\n    }\n\n    @DynamicPropertySource\n    static void setProperties(DynamicPropertyRegistry dynamicPropertyRegistry) {\n        dynamicPropertyRegistry.add(&quot;spring.datasource.url&quot;, mysql::getJdbcUrl);\n        dynamicPropertyRegistry.add(&quot;spring.datasource.username&quot;, mysql::getUsername);\n        dynamicPropertyRegistry.add(&quot;spring.datasource.password&quot;, mysql::getPassword);\n    }\n}\n</code></pre>\n<p>This, however, fails. The container is launched (I can see that in logs), but the properties are not dynamically overridden and the ones from the <code>application.properties</code> are used instead.</p>\n<p>How can I fix that?</p>\n"},{"tags":["java","amazon-s3"],"owner":{"account_id":29750996,"reputation":1,"user_id":22800899,"display_name":"Snekkboii"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698934728,"creation_date":1698934636,"question_id":77410356,"body_markdown":"I&#39;m using the ECM Java SDK to interact with our DELL S3 storage and am trying to set an ObjectRetention with the following code:\r\n\r\n```java\r\npublic void putRetentionTimeOnObjectEcm(String bucket, String key, Date date){\r\n        var request = new com.emc.object.s3.request.SetObjectRetentionRequest(bucket,key)\r\n                .withRetention(new com.emc.object.s3.bean.ObjectLockRetention()\r\n                        .withMode(com.emc.object.s3.bean.ObjectLockRetentionMode.GOVERNANCE)\r\n                        .withRetainUntilDate(date));\r\n\r\n        ecmS3Client.setObjectRetention(request);\r\n    }\r\n```\r\n\r\n\r\nThis somehow doesn&#39;t work and I get the following error:\r\n\r\n\r\n\r\n`com.emc.object.s3.S3Exception: This happens when the user sends an empty xml document as a request. The error message is, &quot;Request body is empty.&quot;\r\n\tat com.emc.object.s3.jersey.ErrorFilter.parseErrorResponse(ErrorFilter.java:134)\r\n\tat com.emc.object.s3.jersey.ErrorFilter.handle(ErrorFilter.java:69)\r\n\tat com.emc.object.s3.jersey.RetryFilter.handle(RetryFilter.java:65)\r\n...\r\n`\r\n\r\nI&#39;ve looked at the documentation which wasan&#39;t very helpful.\r\nWhen I call `request.getContentLength()` it returns `null`.\r\nI don&#39;t see anything else I could add to the request so the there would be content apart from the parameters.\r\n\r\nAny help would be appreciated.","title":"EMCECS / ecs-object-client-java Trouble sending ObjectRetention request","body":"<p>I'm using the ECM Java SDK to interact with our DELL S3 storage and am trying to set an ObjectRetention with the following code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void putRetentionTimeOnObjectEcm(String bucket, String key, Date date){\n        var request = new com.emc.object.s3.request.SetObjectRetentionRequest(bucket,key)\n                .withRetention(new com.emc.object.s3.bean.ObjectLockRetention()\n                        .withMode(com.emc.object.s3.bean.ObjectLockRetentionMode.GOVERNANCE)\n                        .withRetainUntilDate(date));\n\n        ecmS3Client.setObjectRetention(request);\n    }\n</code></pre>\n<p>This somehow doesn't work and I get the following error:</p>\n<p><code>com.emc.object.s3.S3Exception: This happens when the user sends an empty xml document as a request. The error message is, &quot;Request body is empty.&quot; at com.emc.object.s3.jersey.ErrorFilter.parseErrorResponse(ErrorFilter.java:134) at com.emc.object.s3.jersey.ErrorFilter.handle(ErrorFilter.java:69) at com.emc.object.s3.jersey.RetryFilter.handle(RetryFilter.java:65) ... </code></p>\n<p>I've looked at the documentation which wasan't very helpful.\nWhen I call <code>request.getContentLength()</code> it returns <code>null</code>.\nI don't see anything else I could add to the request so the there would be content apart from the parameters.</p>\n<p>Any help would be appreciated.</p>\n"},{"tags":["java","spring","multithreading","asynchronous","spring-integration"],"comments":[{"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1698870865,"post_id":77405241,"comment_id":136461120,"body_markdown":"But you said it yourself: `rejection-policy=&quot;DISCARD&quot;`. So, that means the task executor will accept 10 tasks and drop the rest since all its threads are busy.","body":"But you said it yourself: <code>rejection-policy=&quot;DISCARD&quot;</code>. So, that means the task executor will accept 10 tasks and drop the rest since all its threads are busy."},{"owner":{"account_id":18704861,"reputation":3,"user_id":13636256,"display_name":"ste"},"score":0,"creation_date":1698920663,"post_id":77405241,"comment_id":136466624,"body_markdown":"I dont define a `queue-capacity` which means according to the documentation i have an `unbounded queue` and how i interpret the documentation the `rejection-policy` has no effect. Removed `rejection-policy` and also tried `pool-size=&quot;0-10&quot;` does not work either, as before the 10 threads just pick up one message and after the 10 are finished the 10 threads dont pick up the next message from the queue. I thought with this configuration i can define that:  `max. 10 threads will process in parallel` the messages in the `executor-channel queue`","body":"I dont define a <code>queue-capacity</code> which means according to the documentation i have an <code>unbounded queue</code> and how i interpret the documentation the <code>rejection-policy</code> has no effect. Removed <code>rejection-policy</code> and also tried <code>pool-size=&quot;0-10&quot;</code> does not work either, as before the 10 threads just pick up one message and after the 10 are finished the 10 threads dont pick up the next message from the queue. I thought with this configuration i can define that:  <code>max. 10 threads will process in parallel</code> the messages in the <code>executor-channel queue</code>"}],"answers":[{"tags":[],"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698934522,"creation_date":1698934522,"answer_id":77410337,"question_id":77405241,"body_markdown":"OK. I see your problem. \r\n\r\nYou do `&lt;int:gateway id=&quot;itemAsyncPrcGateway&quot;&gt;` inside a `&lt;chain&gt;`. And this is is about a request-reply. Its contract is based on the:\r\n\r\n    @FunctionalInterface\r\n    public interface RequestReplyExchanger {\r\n    \r\n    \tMessage&lt;?&gt; exchange(Message&lt;?&gt; request) throws MessagingException;\r\n    \r\n    }\r\n\r\nHowever in the end of that gateway&#39;s sub-flow you do:\r\n\r\n    &lt;int:chain input-channel=&quot;itemAsyncProcess-channel&quot; output-channel=&quot;nullChannel&quot;&gt;\r\n\r\ntherefore you don&#39;t return any reply to that gateway. It is probably what you would expect in the end of each item process, but then your `&lt;gateway&gt;` in the middle is wrong.\r\n\r\nHow about just get rid of that `&lt;int:chain input-channel=&quot;ItemAsyncPrcGatewayChain-channel&quot;&gt;` and route the item directly to the `itemAsyncProcess-channel`?\r\n\r\nThe point is that gateway is waiting for reply blocking a thread it working in. ","title":"spring-Integration - http inbound-gateway response and asynchronous processing - task executor threads just processing one message instead of all","body":"<p>OK. I see your problem.</p>\n<p>You do <code>&lt;int:gateway id=&quot;itemAsyncPrcGateway&quot;&gt;</code> inside a <code>&lt;chain&gt;</code>. And this is is about a request-reply. Its contract is based on the:</p>\n<pre><code>@FunctionalInterface\npublic interface RequestReplyExchanger {\n\n    Message&lt;?&gt; exchange(Message&lt;?&gt; request) throws MessagingException;\n\n}\n</code></pre>\n<p>However in the end of that gateway's sub-flow you do:</p>\n<pre><code>&lt;int:chain input-channel=&quot;itemAsyncProcess-channel&quot; output-channel=&quot;nullChannel&quot;&gt;\n</code></pre>\n<p>therefore you don't return any reply to that gateway. It is probably what you would expect in the end of each item process, but then your <code>&lt;gateway&gt;</code> in the middle is wrong.</p>\n<p>How about just get rid of that <code>&lt;int:chain input-channel=&quot;ItemAsyncPrcGatewayChain-channel&quot;&gt;</code> and route the item directly to the <code>itemAsyncProcess-channel</code>?</p>\n<p>The point is that gateway is waiting for reply blocking a thread it working in.</p>\n"}],"owner":{"account_id":18704861,"reputation":3,"user_id":13636256,"display_name":"ste"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1698934522,"creation_date":1698868244,"question_id":77405241,"body_markdown":"Description:\r\n\r\nWe have a Spring Integration flow where we want to have an endpoint configured, split the payload, return to the consumer i.e. with a http code 202 and the other items must continue to be processed asynchronous.\r\n\r\nExplanation of the configuration:\r\n\r\nWe have a `&lt;int-http:inbound-gateway&gt;`. We split `&lt;int:splitter&gt;` the incoming payload. The `splitter` creates always a list were the 1st message of the list is the `MAIN` and then the following would be the `ITEM` messages.\r\n\r\nIn the `&lt;int:header-value-router` with input channel: `mainItemRouter-channel` The `MAIN` message will answer to the receiver thread so that the consumer of the API get a 202. The `ITEM` messages needs to be processed asynchronously even the consumer already received a 202.\r\n\r\nThe problem:\r\n\r\nIf i have i.e. a list of 25 (1 `MAIN` and 24 `ITEM`) messages after the splitter the `taskExecutor` threads just process 10. Which means each thread just processes one message and then stops.\r\n\r\nWhy do the `taskExecutor` threads not pick up the other 14 messages to process?\r\n\r\nDo all the 24 `ITEM` messages even reach the executor-channel?\r\n\r\nThis is the configuration:\r\n\r\n\r\n```\r\n&lt;beans&gt;\r\n    &lt;int:channel id=&quot;postInboundReply-channel&quot;/&gt;\r\n    &lt;int:header-enricher input-channel=&quot;postFinish-channel&quot; output-channel=&quot;postInboundReply-channel&quot;&gt;\r\n        &lt;int:header name=&quot;myHeader&quot; overwrite=&quot;true&quot;\r\n                    expression=&quot;setMyHeader&quot;/&gt;\r\n    &lt;/int:header-enricher&gt;\r\n\r\n    &lt;!-- Endpoint --&gt;\r\n    &lt;int-http:inbound-gateway id=&quot;postInbound-gateway&quot;\r\n                              request-channel=&quot;postInboundRequest-channel&quot;\r\n                              reply-channel=&quot;postInboundReply-channel&quot;\r\n                              supported-methods=&quot;POST&quot;\r\n                              path=&quot;/api/tests&quot;\r\n                              request-payload-type=&quot;java.lang.String&quot;\r\n                              mapped-request-headers=&quot;content-type,Authorization&quot;\r\n                              mapped-response-headers=&quot;Content-Type,Location,myHeader&quot;\r\n                              &gt;\r\n        &lt;int-http:request-mapping consumes=&quot;application/json&quot; produces=&quot;application/json&quot;/&gt;\r\n    &lt;/int-http:inbound-gateway&gt;\r\n\r\n\r\n    &lt;!-- split payload --&gt;\r\n    &lt;int:splitter id=&#39;splitter&#39; ref=&#39;splitterObject&#39; method=&#39;split&#39;\r\n                  input-channel=&#39;postInboundRequest-channel&#39; output-channel=&#39;mainRouter-channel&#39;/&gt;\r\n\r\n    &lt;!--  MAIN gives the response to the http request, ITEM must continue asychronously --&gt;\r\n    &lt;int:header-value-router input-channel=&quot;mainRouter-channel&quot;  default-output-channel=&quot;executor-channel&quot; header-name=&quot;myType&quot;&gt;\r\n        &lt;int:mapping value=&quot;MAIN&quot; channel=&quot;httpResponse-channel&quot;/&gt;\r\n        &lt;int:mapping value=&quot;ITEM&quot; channel=&quot;executor-channel&quot;/&gt;\r\n        &lt;int:mapping value=&quot;ERROR&quot; channel=&quot;postFinish-channel&quot;/&gt;\r\n    &lt;/int:header-value-router&gt;\r\n\r\n    &lt;int:transformer input-channel=&quot;httpResponse-channel&quot;\r\n                     output-channel=&quot;postFinish-channel&quot;\r\n                     ref=&quot;responderObject&quot;/&gt;\r\n\r\n    &lt;!-- execute items in parallel --&gt;\r\n    &lt;task:executor id=&quot;taskExecutor&quot; pool-size=&quot;10&quot; rejection-policy=&quot;DISCARD&quot;/&gt;\r\n    &lt;int:channel id=&quot;executor-channel&quot;&gt;\r\n        &lt;int:dispatcher task-executor=&quot;taskExecutor&quot;/&gt;\r\n    &lt;/int:channel&gt;\r\n\r\n    &lt;int:transformer input-channel=&quot;executor-channel&quot;\r\n                     output-channel=&quot;afterTransformation1-channel&quot;\r\n                     ref=&quot;aTransformationBean&quot;/&gt;\r\n\r\n    &lt;int:transformer input-channel=&quot;afterTransformation1-channel&quot;\r\n                     output-channel=&quot;afterTransformation2-channel&quot;\r\n                     ref=&quot;aTransformationBean2&quot;/&gt;\r\n\r\n    &lt;!-- ITEM continues, ERROR has finished --&gt;\r\n    &lt;int:header-value-router input-channel=&quot;afterTransformation2-channel&quot; default-output-channel=&quot;nullChannel&quot; header-name=&quot;myType&quot;&gt;\r\n        &lt;int:mapping value=&quot;ITEM&quot; channel=&quot;ItemAsyncPrcGatewayChain-channel&quot;/&gt;\r\n        &lt;int:mapping value=&quot;ERROR&quot; channel=&quot;nullChannel&quot;/&gt;\r\n    &lt;/int:header-value-router&gt;\r\n\r\n    &lt;!-- wrap the whole async  process in a chain in order to catch exceptions in the error-channel --&gt;\r\n    &lt;int:chain input-channel=&quot;ItemAsyncPrcGatewayChain-channel&quot;&gt;\r\n      &lt;int:gateway id=&quot;itemAsyncPrcGateway&quot; request-channel=&quot;itemAsyncProcess-channel&quot; error-channel=&quot;asyncProcessError-channel&quot;/&gt;\r\n    &lt;/int:chain&gt;\r\n\r\n    &lt;int:transformer input-channel=&quot;asyncProcessError-channel&quot;\r\n                     ref=&quot;asyncExceptionHandler&quot;/&gt;\r\n\r\n    &lt;int:chain input-channel=&quot;itemAsyncProcess-channel&quot; output-channel=&quot;nullChannel&quot;&gt;\r\n        &lt;int:transformer ref=&quot;asyncTransformerBean&quot;/&gt;\r\n        &lt;int:transformer ref=&quot;asyncSendJmsMessageBean&quot;/&gt;\r\n        &lt;int:transformer ref=&quot;asyncStoreStateBean&quot;/&gt;\r\n    &lt;/int:chain&gt;\r\n\r\n&lt;/beans&gt;\r\n```\r\n\r\n\r\nrun several tests with different configuration without success","title":"spring-Integration - http inbound-gateway response and asynchronous processing - task executor threads just processing one message instead of all","body":"<p>Description:</p>\n<p>We have a Spring Integration flow where we want to have an endpoint configured, split the payload, return to the consumer i.e. with a http code 202 and the other items must continue to be processed asynchronous.</p>\n<p>Explanation of the configuration:</p>\n<p>We have a <code>&lt;int-http:inbound-gateway&gt;</code>. We split <code>&lt;int:splitter&gt;</code> the incoming payload. The <code>splitter</code> creates always a list were the 1st message of the list is the <code>MAIN</code> and then the following would be the <code>ITEM</code> messages.</p>\n<p>In the <code>&lt;int:header-value-router</code> with input channel: <code>mainItemRouter-channel</code> The <code>MAIN</code> message will answer to the receiver thread so that the consumer of the API get a 202. The <code>ITEM</code> messages needs to be processed asynchronously even the consumer already received a 202.</p>\n<p>The problem:</p>\n<p>If i have i.e. a list of 25 (1 <code>MAIN</code> and 24 <code>ITEM</code>) messages after the splitter the <code>taskExecutor</code> threads just process 10. Which means each thread just processes one message and then stops.</p>\n<p>Why do the <code>taskExecutor</code> threads not pick up the other 14 messages to process?</p>\n<p>Do all the 24 <code>ITEM</code> messages even reach the executor-channel?</p>\n<p>This is the configuration:</p>\n<pre><code>&lt;beans&gt;\n    &lt;int:channel id=&quot;postInboundReply-channel&quot;/&gt;\n    &lt;int:header-enricher input-channel=&quot;postFinish-channel&quot; output-channel=&quot;postInboundReply-channel&quot;&gt;\n        &lt;int:header name=&quot;myHeader&quot; overwrite=&quot;true&quot;\n                    expression=&quot;setMyHeader&quot;/&gt;\n    &lt;/int:header-enricher&gt;\n\n    &lt;!-- Endpoint --&gt;\n    &lt;int-http:inbound-gateway id=&quot;postInbound-gateway&quot;\n                              request-channel=&quot;postInboundRequest-channel&quot;\n                              reply-channel=&quot;postInboundReply-channel&quot;\n                              supported-methods=&quot;POST&quot;\n                              path=&quot;/api/tests&quot;\n                              request-payload-type=&quot;java.lang.String&quot;\n                              mapped-request-headers=&quot;content-type,Authorization&quot;\n                              mapped-response-headers=&quot;Content-Type,Location,myHeader&quot;\n                              &gt;\n        &lt;int-http:request-mapping consumes=&quot;application/json&quot; produces=&quot;application/json&quot;/&gt;\n    &lt;/int-http:inbound-gateway&gt;\n\n\n    &lt;!-- split payload --&gt;\n    &lt;int:splitter id='splitter' ref='splitterObject' method='split'\n                  input-channel='postInboundRequest-channel' output-channel='mainRouter-channel'/&gt;\n\n    &lt;!--  MAIN gives the response to the http request, ITEM must continue asychronously --&gt;\n    &lt;int:header-value-router input-channel=&quot;mainRouter-channel&quot;  default-output-channel=&quot;executor-channel&quot; header-name=&quot;myType&quot;&gt;\n        &lt;int:mapping value=&quot;MAIN&quot; channel=&quot;httpResponse-channel&quot;/&gt;\n        &lt;int:mapping value=&quot;ITEM&quot; channel=&quot;executor-channel&quot;/&gt;\n        &lt;int:mapping value=&quot;ERROR&quot; channel=&quot;postFinish-channel&quot;/&gt;\n    &lt;/int:header-value-router&gt;\n\n    &lt;int:transformer input-channel=&quot;httpResponse-channel&quot;\n                     output-channel=&quot;postFinish-channel&quot;\n                     ref=&quot;responderObject&quot;/&gt;\n\n    &lt;!-- execute items in parallel --&gt;\n    &lt;task:executor id=&quot;taskExecutor&quot; pool-size=&quot;10&quot; rejection-policy=&quot;DISCARD&quot;/&gt;\n    &lt;int:channel id=&quot;executor-channel&quot;&gt;\n        &lt;int:dispatcher task-executor=&quot;taskExecutor&quot;/&gt;\n    &lt;/int:channel&gt;\n\n    &lt;int:transformer input-channel=&quot;executor-channel&quot;\n                     output-channel=&quot;afterTransformation1-channel&quot;\n                     ref=&quot;aTransformationBean&quot;/&gt;\n\n    &lt;int:transformer input-channel=&quot;afterTransformation1-channel&quot;\n                     output-channel=&quot;afterTransformation2-channel&quot;\n                     ref=&quot;aTransformationBean2&quot;/&gt;\n\n    &lt;!-- ITEM continues, ERROR has finished --&gt;\n    &lt;int:header-value-router input-channel=&quot;afterTransformation2-channel&quot; default-output-channel=&quot;nullChannel&quot; header-name=&quot;myType&quot;&gt;\n        &lt;int:mapping value=&quot;ITEM&quot; channel=&quot;ItemAsyncPrcGatewayChain-channel&quot;/&gt;\n        &lt;int:mapping value=&quot;ERROR&quot; channel=&quot;nullChannel&quot;/&gt;\n    &lt;/int:header-value-router&gt;\n\n    &lt;!-- wrap the whole async  process in a chain in order to catch exceptions in the error-channel --&gt;\n    &lt;int:chain input-channel=&quot;ItemAsyncPrcGatewayChain-channel&quot;&gt;\n      &lt;int:gateway id=&quot;itemAsyncPrcGateway&quot; request-channel=&quot;itemAsyncProcess-channel&quot; error-channel=&quot;asyncProcessError-channel&quot;/&gt;\n    &lt;/int:chain&gt;\n\n    &lt;int:transformer input-channel=&quot;asyncProcessError-channel&quot;\n                     ref=&quot;asyncExceptionHandler&quot;/&gt;\n\n    &lt;int:chain input-channel=&quot;itemAsyncProcess-channel&quot; output-channel=&quot;nullChannel&quot;&gt;\n        &lt;int:transformer ref=&quot;asyncTransformerBean&quot;/&gt;\n        &lt;int:transformer ref=&quot;asyncSendJmsMessageBean&quot;/&gt;\n        &lt;int:transformer ref=&quot;asyncStoreStateBean&quot;/&gt;\n    &lt;/int:chain&gt;\n\n&lt;/beans&gt;\n</code></pre>\n<p>run several tests with different configuration without success</p>\n"},{"tags":["java","spring-boot","maven","google-cloud-platform","google-cloud-storage"],"owner":{"account_id":29811313,"reputation":11,"user_id":22846677,"display_name":"finalVar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1698934353,"creation_date":1698934094,"question_id":77410291,"body_markdown":"I have configured the proxy and when I run the application locally it is working fine but when I ran it on the server it is giving me the mentioned error  \r\nBelow is how I defined my proxy\r\n\r\n\r\n```\r\n@Bean\r\n    public Storage storage() throws IOException {\r\n        GoogleCredentials credentials = GoogleCredentials.fromStream(\r\n                new ByteArrayInputStream(java.util.Base64.getDecoder().decode(keys)));       \r\n        NetHttpTransport.Builder builder = new NetHttpTransport.Builder();\r\n        builder.setProxy(new Proxy(Proxy.Type.HTTP,new InetSocketAddress(host,port)));\r\n        NetHttpTransport httpTransport = builder.build();\r\n        HttpTransportFactory hf = new HttpTransportFactory() {\r\n            @Override\r\n            public HttpTransport create() {\r\n                return httpTransport;\r\n            }\r\n        };\r\n\r\n        Storage storage = StorageOptions.newBuilder()\r\n       .setTransportOptions(HttpTransportOptions.newBuilder().setHttpTransportFactory(hf).build())\r\n                .setCredentials(credentials)\r\n                .build().getService();\r\n\r\n        return storage;\r\n    }\r\n```\r\n\r\n\r\nI&#39;m using base64 encrypted Json Key file.\r\nAm I missing something here while configuring the proxy if yes then why it is working on my local machine?\r\n\r\nI tried debugging it but all I got is the request getting printed again and again\r\n```\r\nPOST https://oauth2.googleapis.com/token\r\nAccept-Encoding: gzip\r\nUser-Agent: Google-HTTP-Java-Client/1.27.0 (gzip)\r\nContent-Type: application/x-www-form-urlencoded; charset=UTF-8\r\nContent-Length: 811\r\n\r\ncurl -v --compressed -X POST -H &#39;Accept-Encoding: gzip&#39; -H &#39;User-Agent: Google-HTTP-Java-Client/1.27.0 (gzip)&#39; -H &#39;Content-Type: application/x-www-form-urlencoded; charset=UTF-8&#39; -d &#39;@-&#39; -- &#39;https://oauth2.googleapis.com/token&#39; &lt;&lt; $$$\r\n```\r\nAnd getting socket timed out","title":"Error getting access token for service account: connect timed out while accessing gcp storage through Spring Boot Java Application","body":"<p>I have configured the proxy and when I run the application locally it is working fine but when I ran it on the server it is giving me the mentioned error<br />\nBelow is how I defined my proxy</p>\n<pre><code>@Bean\n    public Storage storage() throws IOException {\n        GoogleCredentials credentials = GoogleCredentials.fromStream(\n                new ByteArrayInputStream(java.util.Base64.getDecoder().decode(keys)));       \n        NetHttpTransport.Builder builder = new NetHttpTransport.Builder();\n        builder.setProxy(new Proxy(Proxy.Type.HTTP,new InetSocketAddress(host,port)));\n        NetHttpTransport httpTransport = builder.build();\n        HttpTransportFactory hf = new HttpTransportFactory() {\n            @Override\n            public HttpTransport create() {\n                return httpTransport;\n            }\n        };\n\n        Storage storage = StorageOptions.newBuilder()\n       .setTransportOptions(HttpTransportOptions.newBuilder().setHttpTransportFactory(hf).build())\n                .setCredentials(credentials)\n                .build().getService();\n\n        return storage;\n    }\n</code></pre>\n<p>I'm using base64 encrypted Json Key file.\nAm I missing something here while configuring the proxy if yes then why it is working on my local machine?</p>\n<p>I tried debugging it but all I got is the request getting printed again and again</p>\n<pre><code>POST https://oauth2.googleapis.com/token\nAccept-Encoding: gzip\nUser-Agent: Google-HTTP-Java-Client/1.27.0 (gzip)\nContent-Type: application/x-www-form-urlencoded; charset=UTF-8\nContent-Length: 811\n\ncurl -v --compressed -X POST -H 'Accept-Encoding: gzip' -H 'User-Agent: Google-HTTP-Java-Client/1.27.0 (gzip)' -H 'Content-Type: application/x-www-form-urlencoded; charset=UTF-8' -d '@-' -- 'https://oauth2.googleapis.com/token' &lt;&lt; $$$\n</code></pre>\n<p>And getting socket timed out</p>\n"},{"tags":["java","reflection","jvm"],"answers":[{"tags":[],"owner":{"account_id":7450,"reputation":269210,"user_id":12960,"display_name":"Brian Agnew"},"down_vote_count":1,"up_vote_count":126,"is_accepted":false,"score":125,"last_activity_date":1269980416,"creation_date":1269980416,"answer_id":2548408,"question_id":2548384,"body_markdown":"It&#39;s not a programmatic solution but you can run \r\n\r\n    java -verbose:class ....\r\n\r\nand the JVM will dump out what it&#39;s loading, and from where.\r\n\r\n    [Opened /usr/java/j2sdk1.4.1/jre/lib/rt.jar]\r\n    [Opened /usr/java/j2sdk1.4.1/jre/lib/sunrsasign.jar]\r\n    [Opened /usr/java/j2sdk1.4.1/jre/lib/jsse.jar]\r\n    [Opened /usr/java/j2sdk1.4.1/jre/lib/jce.jar]\r\n    [Opened /usr/java/j2sdk1.4.1/jre/lib/charsets.jar]\r\n    [Loaded java.lang.Object from /usr/java/j2sdk1.4.1/jre/lib/rt.jar]\r\n    [Loaded java.io.Serializable from /usr/java/j2sdk1.4.1/jre/lib/rt.jar]\r\n    [Loaded java.lang.Comparable from /usr/java/j2sdk1.4.1/jre/lib/rt.jar]\r\n    [Loaded java.lang.CharSequence from /usr/java/j2sdk1.4.1/jre/lib/rt.jar]\r\n    [Loaded java.lang.String from /usr/java/j2sdk1.4.1/jre/lib/rt.jar]\r\n\r\nSee [here][1] for more details.\r\n\r\n\r\n  [1]: http://www.ibm.com/developerworks/java/library/j-dyn0429/","title":"Get a list of all classes loaded in the JVM","body":"<p>It's not a programmatic solution but you can run </p>\n\n<pre><code>java -verbose:class ....\n</code></pre>\n\n<p>and the JVM will dump out what it's loading, and from where.</p>\n\n<pre><code>[Opened /usr/java/j2sdk1.4.1/jre/lib/rt.jar]\n[Opened /usr/java/j2sdk1.4.1/jre/lib/sunrsasign.jar]\n[Opened /usr/java/j2sdk1.4.1/jre/lib/jsse.jar]\n[Opened /usr/java/j2sdk1.4.1/jre/lib/jce.jar]\n[Opened /usr/java/j2sdk1.4.1/jre/lib/charsets.jar]\n[Loaded java.lang.Object from /usr/java/j2sdk1.4.1/jre/lib/rt.jar]\n[Loaded java.io.Serializable from /usr/java/j2sdk1.4.1/jre/lib/rt.jar]\n[Loaded java.lang.Comparable from /usr/java/j2sdk1.4.1/jre/lib/rt.jar]\n[Loaded java.lang.CharSequence from /usr/java/j2sdk1.4.1/jre/lib/rt.jar]\n[Loaded java.lang.String from /usr/java/j2sdk1.4.1/jre/lib/rt.jar]\n</code></pre>\n\n<p>See <a href=\"http://www.ibm.com/developerworks/java/library/j-dyn0429/\" rel=\"noreferrer\">here</a> for more details.</p>\n"},{"tags":[],"owner":{"account_id":7445,"reputation":62274,"user_id":12943,"accept_rate":84,"display_name":"Bill K"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1269980505,"creation_date":1269980505,"answer_id":2548420,"question_id":2548384,"body_markdown":"You might be able to get a list of classes that are loaded through the classloader but this would not include classes you haven&#39;t loaded yet but are on your classpath.\r\n\r\nTo get ALL classes on your classpath you have to do something like your second solution.  If you really want classes that are currently &quot;Loaded&quot; (in other words, classes you have already referenced, accessed or instantiated) then you should refine your question to indicate this.","title":"Get a list of all classes loaded in the JVM","body":"<p>You might be able to get a list of classes that are loaded through the classloader but this would not include classes you haven't loaded yet but are on your classpath.</p>\n\n<p>To get ALL classes on your classpath you have to do something like your second solution.  If you really want classes that are currently \"Loaded\" (in other words, classes you have already referenced, accessed or instantiated) then you should refine your question to indicate this.</p>\n"},{"tags":[],"owner":{"account_id":36759,"reputation":38034,"user_id":104950,"accept_rate":93,"display_name":"Amir Afghani"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1269981029,"creation_date":1269981029,"answer_id":2548470,"question_id":2548384,"body_markdown":"An alternative approach to those described above would be to create an external agent using `java.lang.instrument` to find out what classes are loaded and run your program with the `-javaagent` switch:\r\n\r\n    import java.lang.instrument.ClassFileTransformer;\r\n    import java.lang.instrument.IllegalClassFormatException;\r\n    import java.security.ProtectionDomain;\r\n     \r\n    public class SimpleTransformer implements ClassFileTransformer {\r\n     \r\n    \tpublic SimpleTransformer() {\r\n    \t\tsuper();\r\n    \t}\r\n     \r\n    \tpublic byte[] transform(ClassLoader loader, String className, Class redefiningClass, ProtectionDomain domain, byte[] bytes) throws IllegalClassFormatException {\r\n    \t\tSystem.out.println(&quot;Loading class: &quot; + className);\r\n    \t\treturn bytes;\r\n    \t}\r\n    }\r\n\r\nThis approach has the added benefit of providing you with information about which ClassLoader loaded a given class.","title":"Get a list of all classes loaded in the JVM","body":"<p>An alternative approach to those described above would be to create an external agent using <code>java.lang.instrument</code> to find out what classes are loaded and run your program with the <code>-javaagent</code> switch:</p>\n\n<pre><code>import java.lang.instrument.ClassFileTransformer;\nimport java.lang.instrument.IllegalClassFormatException;\nimport java.security.ProtectionDomain;\n\npublic class SimpleTransformer implements ClassFileTransformer {\n\n    public SimpleTransformer() {\n        super();\n    }\n\n    public byte[] transform(ClassLoader loader, String className, Class redefiningClass, ProtectionDomain domain, byte[] bytes) throws IllegalClassFormatException {\n        System.out.println(\"Loading class: \" + className);\n        return bytes;\n    }\n}\n</code></pre>\n\n<p>This approach has the added benefit of providing you with information about which ClassLoader loaded a given class.</p>\n"},{"tags":[],"owner":{"account_id":6957,"reputation":74491,"user_id":11858,"accept_rate":93,"display_name":"daveb"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1269982215,"creation_date":1269981206,"answer_id":2548491,"question_id":2548384,"body_markdown":"I&#39;d also suggest you write a `-javagent` agent, but use the [getAllLoadedClasses][1] method instead of transforming any classes.\r\n\r\nTo synchronize with your client code (Normal Java code), create a socket and communicate with the agent through it.  Then you can trigger a &quot;list all classes&quot; method whenever you need.\r\n\r\n\r\n  [1]: http://java.sun.com/j2se/1.5.0/docs/api/java/lang/instrument/Instrumentation.html#getAllLoadedClasses()","title":"Get a list of all classes loaded in the JVM","body":"<p>I'd also suggest you write a <code>-javagent</code> agent, but use the <a href=\"http://java.sun.com/j2se/1.5.0/docs/api/java/lang/instrument/Instrumentation.html#getAllLoadedClasses()\" rel=\"noreferrer\">getAllLoadedClasses</a> method instead of transforming any classes.</p>\n\n<p>To synchronize with your client code (Normal Java code), create a socket and communicate with the agent through it.  Then you can trigger a \"list all classes\" method whenever you need.</p>\n"},{"tags":[],"owner":{"display_name":"Walter White"},"down_vote_count":13,"up_vote_count":4,"is_accepted":true,"score":-9,"last_activity_date":1433260765,"creation_date":1270051248,"answer_id":2554461,"question_id":2548384,"body_markdown":"Well, what I did was simply listing all the files in the classpath.  It may not be a glorious solution, but it works reliably and gives me everything I want, and more.","title":"Get a list of all classes loaded in the JVM","body":"<p>Well, what I did was simply listing all the files in the classpath.  It may not be a glorious solution, but it works reliably and gives me everything I want, and more.</p>\n"},{"tags":[],"owner":{"account_id":1028915,"reputation":2348,"user_id":1037626,"accept_rate":20,"display_name":"mgaert"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1321031273,"creation_date":1321031273,"answer_id":8097461,"question_id":2548384,"body_markdown":"Run your code under a JRockit JVM, then use `JRCMD &lt;PID&gt; print_class_summary`\r\n\r\nThis will output all loaded classes, one on each line.","title":"Get a list of all classes loaded in the JVM","body":"<p>Run your code under a JRockit JVM, then use <code>JRCMD &lt;PID&gt; print_class_summary</code></p>\n\n<p>This will output all loaded classes, one on each line.</p>\n"},{"tags":[],"owner":{"account_id":317715,"reputation":294,"user_id":634553,"display_name":"Osman Shoukry"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1346118852,"creation_date":1346118852,"answer_id":12151818,"question_id":2548384,"body_markdown":"One way if you already know the package top level path is to use [OpenPojo][1] \r\n\r\n    final List&lt;PojoClass&gt; pojoClasses = PojoClassFactory.getPojoClassesRecursively(&quot;my.package.path&quot;, null);\r\n\r\nThen you can go over the list and perform any functionality you desire.\r\n\r\n  [1]: http://openpojo.com\r\n\r\n\r\n","title":"Get a list of all classes loaded in the JVM","body":"<p>One way if you already know the package top level path is to use <a href=\"http://openpojo.com\" rel=\"nofollow\">OpenPojo</a> </p>\n\n<pre><code>final List&lt;PojoClass&gt; pojoClasses = PojoClassFactory.getPojoClassesRecursively(\"my.package.path\", null);\n</code></pre>\n\n<p>Then you can go over the list and perform any functionality you desire.</p>\n"},{"tags":[],"owner":{"account_id":1525852,"reputation":1543,"user_id":1424321,"display_name":"zapp"},"down_vote_count":1,"up_vote_count":34,"is_accepted":false,"score":33,"last_activity_date":1476559774,"creation_date":1362846339,"answer_id":15313028,"question_id":2548384,"body_markdown":"using the [Reflections](https://github.com/ronmamo/reflections) library, it&#39;s easy as:\r\n\r\n    Reflections reflections = new Reflections(&quot;my.pkg&quot;, new SubTypesScanner(false));\r\n\r\nThat would scan all classes in the url/s that contains my.pkg package. \r\n\r\n* the false parameter means - don&#39;t exclude the Object class, which is excluded by default. \r\n* in some scenarios (different containers) you might pass the classLoader as well as a parameter. \r\n\r\nSo, getting all classes is effectively getting all subtypes of Object, transitively:\r\n\r\n    Set&lt;String&gt; allClasses = \r\n        reflections.getStore().getSubTypesOf(Object.class.getName());\r\n\r\n(The ordinary way `reflections.getSubTypesOf(Object.class)` would cause loading **all** classes into PermGen and would probably throw OutOfMemoryError. you don&#39;t want to do it...)\r\n\r\nIf you want to get all **direct** subtypes of Object (or any other type), without getting its transitive subtypes all in once, use this:\r\n\r\n    Collection&lt;String&gt; directSubtypes = \r\n        reflections.getStore().get(SubTypesScanner.class).get(Object.class.getName());\r\n","title":"Get a list of all classes loaded in the JVM","body":"<p>using the <a href=\"https://github.com/ronmamo/reflections\" rel=\"noreferrer\">Reflections</a> library, it's easy as:</p>\n\n<pre><code>Reflections reflections = new Reflections(\"my.pkg\", new SubTypesScanner(false));\n</code></pre>\n\n<p>That would scan all classes in the url/s that contains my.pkg package. </p>\n\n<ul>\n<li>the false parameter means - don't exclude the Object class, which is excluded by default. </li>\n<li>in some scenarios (different containers) you might pass the classLoader as well as a parameter. </li>\n</ul>\n\n<p>So, getting all classes is effectively getting all subtypes of Object, transitively:</p>\n\n<pre><code>Set&lt;String&gt; allClasses = \n    reflections.getStore().getSubTypesOf(Object.class.getName());\n</code></pre>\n\n<p>(The ordinary way <code>reflections.getSubTypesOf(Object.class)</code> would cause loading <strong>all</strong> classes into PermGen and would probably throw OutOfMemoryError. you don't want to do it...)</p>\n\n<p>If you want to get all <strong>direct</strong> subtypes of Object (or any other type), without getting its transitive subtypes all in once, use this:</p>\n\n<pre><code>Collection&lt;String&gt; directSubtypes = \n    reflections.getStore().get(SubTypesScanner.class).get(Object.class.getName());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":151394,"reputation":52351,"user_id":365237,"accept_rate":96,"display_name":"eis"},"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1476610069,"creation_date":1417421689,"answer_id":27224218,"question_id":2548384,"body_markdown":"There are multiple answers to this question, partly due to ambiguous question - the title is talking about classes loaded by the JVM, whereas the contents of the question says &quot;may or may not be loaded by the JVM&quot;.\r\n\r\nAssuming that OP needs classes that are loaded by the JVM by a given classloader, and only those classes - my need as well - there is a solution ([elaborated here](https://web.archive.org/web/20160304174123/http://tedneward.com/files/papers/findingloadedclasses/findingloadedclasses.pdf)) that goes like this:\r\n\r\n    import java.net.URL;\r\n    import java.util.Enumeration;\r\n    import java.util.Iterator;\r\n    import java.util.Vector;\r\n    \r\n    public class CPTest {\r\n    \r\n        private static Iterator list(ClassLoader CL)\r\n            throws NoSuchFieldException, SecurityException,\r\n            IllegalArgumentException, IllegalAccessException {\r\n            Class CL_class = CL.getClass();\r\n            while (CL_class != java.lang.ClassLoader.class) {\r\n                CL_class = CL_class.getSuperclass();\r\n            }\r\n            java.lang.reflect.Field ClassLoader_classes_field = CL_class\r\n                    .getDeclaredField(&quot;classes&quot;);\r\n            ClassLoader_classes_field.setAccessible(true);\r\n            Vector classes = (Vector) ClassLoader_classes_field.get(CL);\r\n            return classes.iterator();\r\n        }\r\n    \r\n        public static void main(String args[]) throws Exception {\r\n            ClassLoader myCL = Thread.currentThread().getContextClassLoader();\r\n            while (myCL != null) {\r\n                System.out.println(&quot;ClassLoader: &quot; + myCL);\r\n                for (Iterator iter = list(myCL); iter.hasNext();) {\r\n                    System.out.println(&quot;\\t&quot; + iter.next());\r\n                }\r\n                myCL = myCL.getParent();\r\n            }\r\n        }\r\n        \r\n    }\r\n\r\nOne of the neat things about it is that you can choose an arbitrary classloader you want to check. It is however likely to break should internals of classloader class change, so it is to be used as one-off diagnostic tool.","title":"Get a list of all classes loaded in the JVM","body":"<p>There are multiple answers to this question, partly due to ambiguous question - the title is talking about classes loaded by the JVM, whereas the contents of the question says \"may or may not be loaded by the JVM\".</p>\n\n<p>Assuming that OP needs classes that are loaded by the JVM by a given classloader, and only those classes - my need as well - there is a solution (<a href=\"https://web.archive.org/web/20160304174123/http://tedneward.com/files/papers/findingloadedclasses/findingloadedclasses.pdf\" rel=\"noreferrer\">elaborated here</a>) that goes like this:</p>\n\n<pre><code>import java.net.URL;\nimport java.util.Enumeration;\nimport java.util.Iterator;\nimport java.util.Vector;\n\npublic class CPTest {\n\n    private static Iterator list(ClassLoader CL)\n        throws NoSuchFieldException, SecurityException,\n        IllegalArgumentException, IllegalAccessException {\n        Class CL_class = CL.getClass();\n        while (CL_class != java.lang.ClassLoader.class) {\n            CL_class = CL_class.getSuperclass();\n        }\n        java.lang.reflect.Field ClassLoader_classes_field = CL_class\n                .getDeclaredField(\"classes\");\n        ClassLoader_classes_field.setAccessible(true);\n        Vector classes = (Vector) ClassLoader_classes_field.get(CL);\n        return classes.iterator();\n    }\n\n    public static void main(String args[]) throws Exception {\n        ClassLoader myCL = Thread.currentThread().getContextClassLoader();\n        while (myCL != null) {\n            System.out.println(\"ClassLoader: \" + myCL);\n            for (Iterator iter = list(myCL); iter.hasNext();) {\n                System.out.println(\"\\t\" + iter.next());\n            }\n            myCL = myCL.getParent();\n        }\n    }\n\n}\n</code></pre>\n\n<p>One of the neat things about it is that you can choose an arbitrary classloader you want to check. It is however likely to break should internals of classloader class change, so it is to be used as one-off diagnostic tool.</p>\n"},{"tags":[],"owner":{"account_id":11997563,"reputation":31,"user_id":8778576,"display_name":"user8778576"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1515274755,"creation_date":1508050452,"answer_id":46752498,"question_id":2548384,"body_markdown":"This program will prints all the classes with its physical path. use can simply copy this to any JSP if you need to analyse the class loading from any web/application server.\r\n\r\n    import java.lang.reflect.Field;\r\n    import java.util.Vector;\r\n    \r\n    public class TestMain {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tField f;\r\n    \t\ttry {\r\n    \t\t\tf = ClassLoader.class.getDeclaredField(&quot;classes&quot;);\r\n    \t\t\tf.setAccessible(true);\r\n    \t\t\tClassLoader classLoader = Thread.currentThread().getContextClassLoader();\r\n    \t\t\tVector&lt;Class&gt; classes =  (Vector&lt;Class&gt;) f.get(classLoader);\r\n    \t\t\r\n    \t\t\tfor(Class cls : classes){\r\n    \t\t\t\tjava.net.URL location = cls.getResource(&#39;/&#39; + cls.getName().replace(&#39;.&#39;,\r\n    \t\t\t\t&#39;/&#39;) + &quot;.class&quot;);\r\n    \t\t\t\tSystem.out.println(&quot;&lt;p&gt;&quot;+location +&quot;&lt;p/&gt;&quot;);\r\n    \t\t\t}\r\n    \t\t} catch (Exception e) {\r\n    \t\t\t\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n    }\r\n","title":"Get a list of all classes loaded in the JVM","body":"<p>This program will prints all the classes with its physical path. use can simply copy this to any JSP if you need to analyse the class loading from any web/application server.</p>\n\n<pre><code>import java.lang.reflect.Field;\nimport java.util.Vector;\n\npublic class TestMain {\n\n    public static void main(String[] args) {\n        Field f;\n        try {\n            f = ClassLoader.class.getDeclaredField(\"classes\");\n            f.setAccessible(true);\n            ClassLoader classLoader = Thread.currentThread().getContextClassLoader();\n            Vector&lt;Class&gt; classes =  (Vector&lt;Class&gt;) f.get(classLoader);\n\n            for(Class cls : classes){\n                java.net.URL location = cls.getResource('/' + cls.getName().replace('.',\n                '/') + \".class\");\n                System.out.println(\"&lt;p&gt;\"+location +\"&lt;p/&gt;\");\n            }\n        } catch (Exception e) {\n\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6115775,"reputation":30435,"user_id":4770877,"display_name":"yoAlex5"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1621416918,"creation_date":1553959168,"answer_id":55432857,"question_id":2548384,"body_markdown":"**List of all Classes loaded in the JVM**\r\n\r\nFrom [Oracle doc][1] you can use `-Xlog` option that has a possibility to write into file.\r\n\r\n```\r\njava -Xlog:class+load=info:classloaded.txt\r\n```\r\n\r\n  [1]: https://docs.oracle.com/javase/9/tools/java.htm#JSWOR-GUID-BE93ABDC-999C-4CB5-A88B-1994AAAC74D5","title":"Get a list of all classes loaded in the JVM","body":"<p><strong>List of all Classes loaded in the JVM</strong></p>\n<p>From <a href=\"https://docs.oracle.com/javase/9/tools/java.htm#JSWOR-GUID-BE93ABDC-999C-4CB5-A88B-1994AAAC74D5\" rel=\"nofollow noreferrer\">Oracle doc</a> you can use <code>-Xlog</code> option that has a possibility to write into file.</p>\n<pre><code>java -Xlog:class+load=info:classloaded.txt\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20228,"reputation":40720,"user_id":48136,"display_name":"bric3"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1657464324,"creation_date":1657464324,"answer_id":72929356,"question_id":2548384,"body_markdown":"There&#39;s another possibility using `VM.class_hierarchy`, available since JDK 8 (tested on 1.8.0_322).\r\n\r\n```shell\r\n$ jcmd 44506 VM.class_hierarchy\r\n```\r\n\r\nThis will give a result like that :\r\n\r\n```text\r\n44506:\r\njava.lang.Object/null\r\n|--com.intellij.psi.impl.source.tree.JavaElementType$$Lambda$1163/0x0000000800cd86d8/0x0000600002f012c0\r\n|--com.intellij.ide.IdeTooltipManager/0x0000600002f2c6e0\r\n|--sun.security.ssl.SSLBasicKeyDerivation$SecretSizeSpec/null\r\n|--com.intellij.openapi.editor.impl.view.EditorSizeManager$$Lambda$2094/0x0000000801774c38/0x0000600002f2c6e0\r\n|--com.intellij.psi.util.CachedValueProfiler$EventPlace/0x0000600002f2c6e0 (intf)\r\n|--io.ktor.utils.io.internal.ReadWriteBufferStateKt/0x0000600002fcd680\r\n|--com.intellij.javascript.nodejs.library.core.codeInsight.NodePredefinedReferenceErrorUpdater/0x0000600002f13660\r\n|--com.intellij.openapi.fileEditor.impl.FileDocumentManagerImpl$MyAsyncFileListener/0x0000600002f2c6e0\r\n|--java.lang.management.ManagementFactory$PlatformMBeanFinder$$Lambda$89/0x000000080013e0b0/null\r\n|--org.intellij.plugins.markdown.ui.preview.MarkdownHtmlPanelProvider$AvailabilityInfo/0x0000600002f0ada0\r\n|  |--org.intellij.plugins.markdown.ui.preview.MarkdownHtmlPanelProvider$AvailabilityInfo$2/0x0000600002f0ada0\r\n|  |--org.intellij.plugins.markdown.ui.preview.MarkdownHtmlPanelProvider$AvailabilityInfo$1/0x0000600002f0ada0\r\n|--java.lang.invoke.LambdaForm$DMH/0x000000080012a800/null\r\n|--git4idea.status.GitStagingAreaHolder$$Lambda$2907/0x0000000801d2e690/0x0000600002f41cc0\r\n|--com.intellij.lang.javascript.refactoring.extractSuper.JSCustomExtractInterfaceHandler/0x0000600002f13660 (intf)\r\n|--javax.xml.transform.stream.StreamSource/null\r\n...\r\n```","title":"Get a list of all classes loaded in the JVM","body":"<p>There's another possibility using <code>VM.class_hierarchy</code>, available since JDK 8 (tested on 1.8.0_322).</p>\n<pre class=\"lang-bash prettyprint-override\"><code>$ jcmd 44506 VM.class_hierarchy\n</code></pre>\n<p>This will give a result like that :</p>\n<pre><code>44506:\njava.lang.Object/null\n|--com.intellij.psi.impl.source.tree.JavaElementType$$Lambda$1163/0x0000000800cd86d8/0x0000600002f012c0\n|--com.intellij.ide.IdeTooltipManager/0x0000600002f2c6e0\n|--sun.security.ssl.SSLBasicKeyDerivation$SecretSizeSpec/null\n|--com.intellij.openapi.editor.impl.view.EditorSizeManager$$Lambda$2094/0x0000000801774c38/0x0000600002f2c6e0\n|--com.intellij.psi.util.CachedValueProfiler$EventPlace/0x0000600002f2c6e0 (intf)\n|--io.ktor.utils.io.internal.ReadWriteBufferStateKt/0x0000600002fcd680\n|--com.intellij.javascript.nodejs.library.core.codeInsight.NodePredefinedReferenceErrorUpdater/0x0000600002f13660\n|--com.intellij.openapi.fileEditor.impl.FileDocumentManagerImpl$MyAsyncFileListener/0x0000600002f2c6e0\n|--java.lang.management.ManagementFactory$PlatformMBeanFinder$$Lambda$89/0x000000080013e0b0/null\n|--org.intellij.plugins.markdown.ui.preview.MarkdownHtmlPanelProvider$AvailabilityInfo/0x0000600002f0ada0\n|  |--org.intellij.plugins.markdown.ui.preview.MarkdownHtmlPanelProvider$AvailabilityInfo$2/0x0000600002f0ada0\n|  |--org.intellij.plugins.markdown.ui.preview.MarkdownHtmlPanelProvider$AvailabilityInfo$1/0x0000600002f0ada0\n|--java.lang.invoke.LambdaForm$DMH/0x000000080012a800/null\n|--git4idea.status.GitStagingAreaHolder$$Lambda$2907/0x0000000801d2e690/0x0000600002f41cc0\n|--com.intellij.lang.javascript.refactoring.extractSuper.JSCustomExtractInterfaceHandler/0x0000600002f13660 (intf)\n|--javax.xml.transform.stream.StreamSource/null\n...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10986311,"reputation":165,"user_id":8071915,"display_name":"Col-E"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657910181,"creation_date":1657885256,"answer_id":72993425,"question_id":2548384,"body_markdown":"If you don&#39;t want any libraries and need this information given to you at runtime, you can use this for Java 11+. It finds all system modules loaded at runtime, iterates over their entries (path names) and collects class items.\r\n\r\n    public static List&lt;String&gt; getSystemClasses() {\r\n        // Errorables is a util class to ignore exceptions on lambda types, easy enough to implement yourself\r\n        return ModuleFinder.ofSystem().findAll().stream()\r\n                   .map(modRef -&gt; Errorables.silent(modRef::open)) // open reader to each module\r\n                   .flatMap(modReader -&gt; Errorables.silent(modReader::list)) // list all items in the module\r\n                   .filter(s -&gt; s.endsWith(&quot;.class&quot;) &amp;&amp; s.indexOf(&#39;-&#39;) == -1) // retain only classes (except module-info or package-info)\r\n                   .map(s -&gt; s.substring(0, s.length() - 6)) // cut off &#39;.class&#39; from the path\r\n                   .collect(Collectors.toList());\r\n    }\r\n\r\nIf you need non-system classes then there are some conditions to consider. In both situations you can use a `class` reference to something in your project to get the needed context to find other classes. \r\n\r\nIf you want only the currently loaded classes, you can use reflection to access the `Vector&lt;Class&lt;?&gt;&gt; classes` in `ClassLoader`. This will not include classes from libraries and such that have not yet been initialized.\r\n\r\n[![screenshot of only the initialized classes][1]][1]\r\n\r\nIf you want all classes of all libraries you have in a project then you&#39;ll want to use reflection to access the `AppClassLoader`&#39;s `URLClassPath ucp`. This will hold a `ArrayList&lt;URL&gt; path` containing URL&#39;s pointing to every directory/jar/etc holding referenced resources. Navigating those you can use path-walking to collect the names of class entries similar to the code snippet above.\r\n\r\n[![screenshot of file path uris to referenced libraries][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/FtzkC.png\r\n  [2]: https://i.stack.imgur.com/JAL7O.png\r\n","title":"Get a list of all classes loaded in the JVM","body":"<p>If you don't want any libraries and need this information given to you at runtime, you can use this for Java 11+. It finds all system modules loaded at runtime, iterates over their entries (path names) and collects class items.</p>\n<pre><code>public static List&lt;String&gt; getSystemClasses() {\n    // Errorables is a util class to ignore exceptions on lambda types, easy enough to implement yourself\n    return ModuleFinder.ofSystem().findAll().stream()\n               .map(modRef -&gt; Errorables.silent(modRef::open)) // open reader to each module\n               .flatMap(modReader -&gt; Errorables.silent(modReader::list)) // list all items in the module\n               .filter(s -&gt; s.endsWith(&quot;.class&quot;) &amp;&amp; s.indexOf('-') == -1) // retain only classes (except module-info or package-info)\n               .map(s -&gt; s.substring(0, s.length() - 6)) // cut off '.class' from the path\n               .collect(Collectors.toList());\n}\n</code></pre>\n<p>If you need non-system classes then there are some conditions to consider. In both situations you can use a <code>class</code> reference to something in your project to get the needed context to find other classes.</p>\n<p>If you want only the currently loaded classes, you can use reflection to access the <code>Vector&lt;Class&lt;?&gt;&gt; classes</code> in <code>ClassLoader</code>. This will not include classes from libraries and such that have not yet been initialized.</p>\n<p><a href=\"https://i.stack.imgur.com/FtzkC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FtzkC.png\" alt=\"screenshot of only the initialized classes\" /></a></p>\n<p>If you want all classes of all libraries you have in a project then you'll want to use reflection to access the <code>AppClassLoader</code>'s <code>URLClassPath ucp</code>. This will hold a <code>ArrayList&lt;URL&gt; path</code> containing URL's pointing to every directory/jar/etc holding referenced resources. Navigating those you can use path-walking to collect the names of class entries similar to the code snippet above.</p>\n<p><a href=\"https://i.stack.imgur.com/JAL7O.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JAL7O.png\" alt=\"screenshot of file path uris to referenced libraries\" /></a></p>\n"}],"owner":{"display_name":"Walter White"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":125592,"favorite_count":0,"down_vote_count":0,"up_vote_count":85,"accepted_answer_id":2554461,"answer_count":13,"score":85,"last_activity_date":1698934089,"creation_date":1269980213,"question_id":2548384,"body_markdown":"I would like to get a list of all the classes belonging to a certain package as well as all of their children.  The classes may or may not be already loaded in the JVM.","title":"Get a list of all classes loaded in the JVM","body":"<p>I would like to get a list of all the classes belonging to a certain package as well as all of their children.  The classes may or may not be already loaded in the JVM.</p>\n"},{"tags":["java","selenium-webdriver","automated-tests","testng"],"owner":{"account_id":29811241,"reputation":1,"user_id":22846622,"display_name":"Cameron Winter"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698934021,"creation_date":1698934021,"question_id":77410277,"body_markdown":"I am new to selenium. I tried to create a automate testing project. In there I created  class for every web pages and in my test packages  I created a baseTest class where I initiate browser and open the home page and another class for other methods.I also created test classes for every pages. Now when I move into homepages the driver is null.but every testclass extends baseTest.Why is it happening?\r\n\r\n```\r\npackage utilities;\r\n\r\nimport org.openqa.selenium.WebDriver;\r\nimport org.openqa.selenium.WebElement;\r\nimport org.openqa.selenium.chromium.ChromiumDriver;\r\n\r\npublic class utility {\r\n\tpublic WebDriver udriver;\r\n\t\r\n\tpublic void setDriver(WebDriver driver)\r\n\t{\r\n\t\tudriver =driver;\r\n\t}\r\n\t\r\n\tpublic String getTitle() {\r\n\t\treturn udriver.getTitle();\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic void clickEl(WebElement element) {\r\n\t\telement.click();\r\n\t}\r\n\r\n}\r\n\r\n```\r\nhomePageClass\r\n\r\n```\r\npackage Pages;\r\n\r\nimport org.openqa.selenium.WebElement;\r\nimport org.openqa.selenium.support.FindBy;\r\n\r\nimport utilities.utility;\r\n\r\npublic class HomePage extends utility {\r\n\r\n\t@FindBy(xpath = &quot;//a[normalize-space()=&#39;Gmail&#39;]&quot;)\r\n\tWebElement gmailBtn;\r\n\r\n\tpublic String homePageTitle() {\r\n\t\treturn getTitle();\r\n\t}\r\n\r\n\tpublic void clickOnGmailBtn() {\r\n\t\tclickEl(gmailBtn);\r\n\t}\r\n\r\n}\r\n\r\n```\r\nbaseTest\r\n\r\n```\r\npackage tests;\r\n\r\nimport org.openqa.selenium.WebDriver;\r\nimport org.openqa.selenium.chrome.ChromeDriver;\r\nimport org.testng.annotations.AfterTest;\r\nimport org.testng.annotations.BeforeTest;\r\n\r\nimport utilities.utility;\r\n\r\npublic class BaseTest {\r\n\tprotected WebDriver driver;\r\n\tutility utility =new utility();\r\n\t\r\n\t@BeforeTest\r\n\tpublic void initializeBrowser()\r\n\t{\r\n\t\tdriver= new ChromeDriver();\r\n\t\tdriver.manage().window().maximize();\r\n\t\tdriver.get(&quot;https://www.google.com/&quot;);\r\n\t\tutility.setDriver(driver);\r\n\t\t\r\n\t}\r\n\t@AfterTest\r\n\tpublic void tearDown(){\r\n\t\tdriver.quit();\r\n\t\r\n\t}\r\n}\r\n\r\n```\r\nTestHomePage \r\n```\r\npackage tests;\r\n\r\nimport org.testng.annotations.Test;\r\n\r\nimport Pages.HomePage;\r\nimport utilities.utility;\r\n\r\npublic class TestHomePage extends utility{\r\n\tHomePage homePage= new HomePage();\r\n\t@Test\r\n\tpublic void TilteTest() {\r\n\t\r\n\t\tSystem.out.println(homePage.homePageTitle());\r\n\t}\r\n\r\n}\r\n\r\n```\r\n\r\n\r\n\r\nI tried with create a utility instance before every method ,but didn&#39;t work. I hope that the driver form crated in baseTest class will be passed to utility class and evry webPage class will get access to it.","title":"Child class is not inheriting parent class variable","body":"<p>I am new to selenium. I tried to create a automate testing project. In there I created  class for every web pages and in my test packages  I created a baseTest class where I initiate browser and open the home page and another class for other methods.I also created test classes for every pages. Now when I move into homepages the driver is null.but every testclass extends baseTest.Why is it happening?</p>\n<pre><code>package utilities;\n\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.WebElement;\nimport org.openqa.selenium.chromium.ChromiumDriver;\n\npublic class utility {\n    public WebDriver udriver;\n    \n    public void setDriver(WebDriver driver)\n    {\n        udriver =driver;\n    }\n    \n    public String getTitle() {\n        return udriver.getTitle();\n        \n    }\n    \n    public void clickEl(WebElement element) {\n        element.click();\n    }\n\n}\n\n</code></pre>\n<p>homePageClass</p>\n<pre><code>package Pages;\n\nimport org.openqa.selenium.WebElement;\nimport org.openqa.selenium.support.FindBy;\n\nimport utilities.utility;\n\npublic class HomePage extends utility {\n\n    @FindBy(xpath = &quot;//a[normalize-space()='Gmail']&quot;)\n    WebElement gmailBtn;\n\n    public String homePageTitle() {\n        return getTitle();\n    }\n\n    public void clickOnGmailBtn() {\n        clickEl(gmailBtn);\n    }\n\n}\n\n</code></pre>\n<p>baseTest</p>\n<pre><code>package tests;\n\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.chrome.ChromeDriver;\nimport org.testng.annotations.AfterTest;\nimport org.testng.annotations.BeforeTest;\n\nimport utilities.utility;\n\npublic class BaseTest {\n    protected WebDriver driver;\n    utility utility =new utility();\n    \n    @BeforeTest\n    public void initializeBrowser()\n    {\n        driver= new ChromeDriver();\n        driver.manage().window().maximize();\n        driver.get(&quot;https://www.google.com/&quot;);\n        utility.setDriver(driver);\n        \n    }\n    @AfterTest\n    public void tearDown(){\n        driver.quit();\n    \n    }\n}\n\n</code></pre>\n<p>TestHomePage</p>\n<pre><code>package tests;\n\nimport org.testng.annotations.Test;\n\nimport Pages.HomePage;\nimport utilities.utility;\n\npublic class TestHomePage extends utility{\n    HomePage homePage= new HomePage();\n    @Test\n    public void TilteTest() {\n    \n        System.out.println(homePage.homePageTitle());\n    }\n\n}\n\n</code></pre>\n<p>I tried with create a utility instance before every method ,but didn't work. I hope that the driver form crated in baseTest class will be passed to utility class and evry webPage class will get access to it.</p>\n"},{"tags":["java","sha-3"],"comments":[{"owner":{"display_name":"user1531971"},"score":1,"creation_date":1431027743,"post_id":30109958,"comment_id":48331326,"body_markdown":"FWIW, you can, in fact, access sun.* classes in Eclipse. For the project where you need to reference the classes, define project-specific Java Build Path -&gt; Libraries and make sure the reference to the &quot;JRE System Library&quot; is both a standalone, Installed JRE (not the JRE in an install JDK) and is referenced as an &quot;Alternate JRE&quot;. [Not that I&#39;d recommend doing this...]","body":"FWIW, you can, in fact, access sun.* classes in Eclipse. For the project where you need to reference the classes, define project-specific Java Build Path -&gt; Libraries and make sure the reference to the &quot;JRE System Library&quot; is both a standalone, Installed JRE (not the JRE in an install JDK) and is referenced as an &quot;Alternate JRE&quot;. [Not that I&#39;d recommend doing this...]"},{"owner":{"account_id":45934,"reputation":203639,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":1,"creation_date":1431028269,"post_id":30109958,"comment_id":48331668,"body_markdown":"@jdv The `sun.*` classes are hidden for a reason. You should not use them, or you risk your program being broken on a future Java version. See [Why Developers Should Not Write Programs \nThat Call &#39;sun&#39; Packages](http://www.oracle.com/technetwork/java/faq-sun-packages-142232.html)","body":"@jdv The <code>sun.*</code> classes are hidden for a reason. You should not use them, or you risk your program being broken on a future Java version. See <a href=\"http://www.oracle.com/technetwork/java/faq-sun-packages-142232.html\" rel=\"nofollow noreferrer\">Why Developers Should Not Write Programs  That Call &#39;sun&#39; Packages</a>"},{"owner":{"display_name":"user1531971"},"score":1,"creation_date":1431028404,"post_id":30109958,"comment_id":48331738,"body_markdown":"@Jesper, I am aware of this, which is why my comments and answer have obvious caveats around them.","body":"@Jesper, I am aware of this, which is why my comments and answer have obvious caveats around them."},{"owner":{"account_id":1477692,"reputation":46661,"user_id":1393484,"accept_rate":100,"display_name":"Ali Dehghani"},"score":0,"creation_date":1475614100,"post_id":30109958,"comment_id":67010913,"body_markdown":"[JEP 287: SHA-3 Hash Algorithms](http://openjdk.java.net/jeps/287)","body":"<a href=\"http://openjdk.java.net/jeps/287\" rel=\"nofollow noreferrer\">JEP 287: SHA-3 Hash Algorithms</a>"}],"answers":[{"tags":[],"owner":{"display_name":"user1531971"},"down_vote_count":0,"up_vote_count":30,"is_accepted":true,"score":30,"last_activity_date":1472370963,"creation_date":1431028092,"answer_id":30110370,"question_id":30109958,"body_markdown":"The common Java reference implementation for crypto and crypto support is probably [BouncyCastle][1]. It can be a big library to bring in, which is why we often reach into sun.security (rightly or wrongly.)\r\n\r\nAnyway, [BouncyCastle][1] seems to offer `org.bouncycastle.jcajce.provider.digest.SHA3.DigestSHA3`\r\n\r\n\r\n  [1]: http://www.bouncycastle.org/","title":"Calculating SHA 3 Hash in Java","body":"<p>The common Java reference implementation for crypto and crypto support is probably <a href=\"http://www.bouncycastle.org/\" rel=\"noreferrer\">BouncyCastle</a>. It can be a big library to bring in, which is why we often reach into sun.security (rightly or wrongly.)</p>\n\n<p>Anyway, <a href=\"http://www.bouncycastle.org/\" rel=\"noreferrer\">BouncyCastle</a> seems to offer <code>org.bouncycastle.jcajce.provider.digest.SHA3.DigestSHA3</code></p>\n"},{"tags":[],"owner":{"account_id":1851020,"reputation":4117,"user_id":1677594,"display_name":"Guillaume Husta"},"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1547539284,"creation_date":1490865118,"answer_id":43113358,"question_id":30109958,"body_markdown":"Thanks to @jdv for his answer.\r\nI&#39;m adding more information to have a quick start and an example.\r\n\r\n\r\nFirst, add the BouncyCastle maven dependency, or get it on [Maven Central](http://search.maven.org/#search%7Cga%7C1%7Cg%3A%22org.bouncycastle%22%20AND%20a%3A%22bcpkix-jdk15on%22) :\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.bouncycastle&lt;/groupId&gt;\r\n            &lt;artifactId&gt;bcpkix-jdk15on&lt;/artifactId&gt;\r\n            &lt;version&gt;1.56&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\nThen we can test it :\r\n\r\n\r\n    import org.bouncycastle.jcajce.provider.digest.SHA3;\r\n    import org.bouncycastle.util.encoders.Hex;\r\n    import org.junit.Test;\r\n\r\n    @Test\r\n    public void testSha3() throws Exception {\r\n        String input = &quot;Hello world !&quot;;\r\n        SHA3.DigestSHA3 digestSHA3 = new SHA3.Digest512();\r\n        byte[] digest = digestSHA3.digest(input.getBytes());\r\n\r\n        System.out.println(&quot;SHA3-512 = &quot; + Hex.toHexString(digest));\r\n    }\r\n\r\nYou&#39;ll get this result (512 bits or 64 bytes in hexadecimal) : \r\n&gt; SHA3-512 = e9a4fd120d684537d57f314d51213ce5acef8ff6974e2b7599674ef0f0a3cf111f0d26ed602db946739da448210fb76a7621d7a8f07728372b10a975f36d8e37\r\n\r\nYou can compare it with this result : https://duckduckgo.com/?q=sha3+%22Hello+world+!%22&amp;ia=answer ","title":"Calculating SHA 3 Hash in Java","body":"<p>Thanks to @jdv for his answer.\nI'm adding more information to have a quick start and an example.</p>\n\n<p>First, add the BouncyCastle maven dependency, or get it on <a href=\"http://search.maven.org/#search%7Cga%7C1%7Cg%3A%22org.bouncycastle%22%20AND%20a%3A%22bcpkix-jdk15on%22\" rel=\"noreferrer\">Maven Central</a> :</p>\n\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.bouncycastle&lt;/groupId&gt;\n        &lt;artifactId&gt;bcpkix-jdk15on&lt;/artifactId&gt;\n        &lt;version&gt;1.56&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n\n<p>Then we can test it :</p>\n\n<pre><code>import org.bouncycastle.jcajce.provider.digest.SHA3;\nimport org.bouncycastle.util.encoders.Hex;\nimport org.junit.Test;\n\n@Test\npublic void testSha3() throws Exception {\n    String input = \"Hello world !\";\n    SHA3.DigestSHA3 digestSHA3 = new SHA3.Digest512();\n    byte[] digest = digestSHA3.digest(input.getBytes());\n\n    System.out.println(\"SHA3-512 = \" + Hex.toHexString(digest));\n}\n</code></pre>\n\n<p>You'll get this result (512 bits or 64 bytes in hexadecimal) : </p>\n\n<blockquote>\n  <p>SHA3-512 = e9a4fd120d684537d57f314d51213ce5acef8ff6974e2b7599674ef0f0a3cf111f0d26ed602db946739da448210fb76a7621d7a8f07728372b10a975f36d8e37</p>\n</blockquote>\n\n<p>You can compare it with this result : <a href=\"https://duckduckgo.com/?q=sha3+%22Hello+world+!%22&amp;ia=answer\" rel=\"noreferrer\">https://duckduckgo.com/?q=sha3+%22Hello+world+!%22&amp;ia=answer</a> </p>\n"},{"tags":[],"owner":{"account_id":593875,"reputation":20373,"user_id":276232,"accept_rate":50,"display_name":"Christopher Schultz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1698933959,"creation_date":1698933959,"answer_id":77410269,"question_id":30109958,"body_markdown":"A new answer to an old question, in case others are searching like I was.\r\n\r\nIn Java 11 and later, there are 4 SHA-3 hashes available from the standard &quot;Sun&quot; security provider. Just ask for them by name with no other special configuration or code:\r\n\r\n    MessageDigest md = MessageDigest.getInstance(&quot;SHA3-256&quot;);\r\n\r\nThe other three available are `SHA3-224`, `SHA3-384` and `SHA3-512`.\r\n\r\nOfficial documentation of the [supported `MessageDigest` algorithm names](https://docs.oracle.com/en/java/javase/11/docs/specs/security/standard-names.html#messagedigest-algorithms) is available.","title":"Calculating SHA 3 Hash in Java","body":"<p>A new answer to an old question, in case others are searching like I was.</p>\n<p>In Java 11 and later, there are 4 SHA-3 hashes available from the standard &quot;Sun&quot; security provider. Just ask for them by name with no other special configuration or code:</p>\n<pre><code>MessageDigest md = MessageDigest.getInstance(&quot;SHA3-256&quot;);\n</code></pre>\n<p>The other three available are <code>SHA3-224</code>, <code>SHA3-384</code> and <code>SHA3-512</code>.</p>\n<p>Official documentation of the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/specs/security/standard-names.html#messagedigest-algorithms\" rel=\"nofollow noreferrer\">supported <code>MessageDigest</code> algorithm names</a> is available.</p>\n"}],"owner":{"account_id":4813169,"reputation":1374,"user_id":3886046,"accept_rate":60,"display_name":"gye"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37100,"favorite_count":0,"down_vote_count":1,"up_vote_count":29,"accepted_answer_id":30110370,"answer_count":3,"score":28,"last_activity_date":1698933959,"creation_date":1431026714,"question_id":30109958,"body_markdown":"I have been using CryptoJS (i.e. `CryptoJS.algo.SHA3.creat()`) library to SHA-3 hash on the front end. (see http://crypto-js.googlecode.com/svn/tags/3.1.2/build/rollups/sha3.js)\r\n\r\nI was wondering if there are any Java library equivalence? But so far I haven&#39;t found any. There are not so many Java SHA-3 examples either. \r\n\r\n`sun.security.Provider` has SHA-3, but it&#39;s not visible under Eclipse. Also, I am not sure whether this sun&#39;s SHA-3 is same as the CryptoJS&#39;s SHA-3. \r\n\r\nCould anyone please provide some examples?\r\n\r\n","title":"Calculating SHA 3 Hash in Java","body":"<p>I have been using CryptoJS (i.e. <code>CryptoJS.algo.SHA3.creat()</code>) library to SHA-3 hash on the front end. (see <a href=\"http://crypto-js.googlecode.com/svn/tags/3.1.2/build/rollups/sha3.js\">http://crypto-js.googlecode.com/svn/tags/3.1.2/build/rollups/sha3.js</a>)</p>\n\n<p>I was wondering if there are any Java library equivalence? But so far I haven't found any. There are not so many Java SHA-3 examples either. </p>\n\n<p><code>sun.security.Provider</code> has SHA-3, but it's not visible under Eclipse. Also, I am not sure whether this sun's SHA-3 is same as the CryptoJS's SHA-3. </p>\n\n<p>Could anyone please provide some examples?</p>\n"},{"tags":["java","linux","shell","tomcat","jvm"],"comments":[{"owner":{"account_id":2686715,"reputation":8194,"user_id":2320961,"display_name":"Nic3500"},"score":0,"creation_date":1637352255,"post_id":70033902,"comment_id":123812534,"body_markdown":"Do `ps -ef|grep -i java`.  Find your tomcat process in there.  You will see the different directories used.","body":"Do <code>ps -ef|grep -i java</code>.  Find your tomcat process in there.  You will see the different directories used."},{"owner":{"account_id":13893132,"reputation":305,"user_id":10030611,"display_name":"willberthos"},"score":0,"creation_date":1637566672,"post_id":70033902,"comment_id":123850918,"body_markdown":"@Nic3500 this commands gives this: $ ps -ef|grep -i java\ntomcat    1106     1  0 Nov16 ?        00:07:28 /usr/lib/jvm/jre/bin/java -classpath /usr/share/tomcat9/bin/bootstrap.jar:/usr/share/tomcat9/bin/tomcat-juli.jar:/usr/share/java/commons-daemon.jar -Dcatalina.base=/usr/share/tomcat9 -Dcatalina.home=/usr/share/tomcat9 -Djava.endorsed.dirs= -Djava.io.tmpdir=/var/cache/tomcat9/temp -Djava.util.logging.config.file=/usr/share/tomcat9/conf/logging.properties.\n\nDoes this mean that my catalina_home is at /usr/share/tomcat9 ? theres no configuration files, let alone scripts.","body":"@Nic3500 this commands gives this: $ ps -ef|grep -i java tomcat    1106     1  0 Nov16 ?        00:07:28 /usr/lib/jvm/jre/bin/java -classpath /usr/share/tomcat9/bin/bootstrap.jar:/usr/share/tomcat9/bin/&zwnj;&#8203;tomcat-juli.jar:/usr&zwnj;&#8203;/share/java/commons-&zwnj;&#8203;daemon.jar -Dcatalina.base=/usr/share/tomcat9 -Dcatalina.home=/usr/share/tomcat9 -Djava.endorsed.dirs= -Djava.io.tmpdir=/var/cache/tomcat9/temp -Djava.util.logging.config.file=/usr/share/tomcat9/conf/logg&zwnj;&#8203;ing.properties.  Does this mean that my catalina_home is at /usr/share/tomcat9 ? theres no configuration files, let alone scripts."},{"owner":{"account_id":4597208,"reputation":48189,"user_id":3728901,"accept_rate":58,"display_name":"Vy Do"},"score":0,"creation_date":1637566736,"post_id":70033902,"comment_id":123850943,"body_markdown":"run `echo $CATALINA_HOME`","body":"run <code>echo $CATALINA_HOME</code>"},{"owner":{"account_id":13893132,"reputation":305,"user_id":10030611,"display_name":"willberthos"},"score":0,"creation_date":1637566787,"post_id":70033902,"comment_id":123850956,"body_markdown":"@DoNhuVy this prints nothing","body":"@DoNhuVy this prints nothing"},{"owner":{"account_id":2686715,"reputation":8194,"user_id":2320961,"display_name":"Nic3500"},"score":0,"creation_date":1637584227,"post_id":70033902,"comment_id":123857111,"body_markdown":"From the result, you can see that Tomcat is installed under /usr/share/tomcat9/bin.  setenv.sh should be in that directory as well for you to edit.","body":"From the result, you can see that Tomcat is installed under /usr/share/tomcat9/bin.  setenv.sh should be in that directory as well for you to edit."},{"owner":{"account_id":13893132,"reputation":305,"user_id":10030611,"display_name":"willberthos"},"score":0,"creation_date":1637656424,"post_id":70033902,"comment_id":123878043,"body_markdown":"@Nic3500 I have now created setenv.sh to that location, but when I restart tomcat, the logs do not mention about the arguments I set. Do I have to run the script or do something else before restarting tomcat?","body":"@Nic3500 I have now created setenv.sh to that location, but when I restart tomcat, the logs do not mention about the arguments I set. Do I have to run the script or do something else before restarting tomcat?"},{"owner":{"account_id":2686715,"reputation":8194,"user_id":2320961,"display_name":"Nic3500"},"score":0,"creation_date":1637790826,"post_id":70033902,"comment_id":123923463,"body_markdown":"I would expect setenv.sh to already exist somewhere around `/usr/share/tomcat9/`.  You could run `find /usr/share/tomcat9 -name setenv.sh -print` to see where it is.","body":"I would expect setenv.sh to already exist somewhere around <code>&#47;usr&#47;share&#47;tomcat9&#47;</code>.  You could run <code>find &#47;usr&#47;share&#47;tomcat9 -name setenv.sh -print</code> to see where it is."}],"answers":[{"tags":[],"owner":{"account_id":2310125,"reputation":1532,"user_id":2028440,"accept_rate":25,"display_name":"Bằng Rikimaru"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698933928,"creation_date":1698933928,"answer_id":77410263,"question_id":70033902,"body_markdown":"Ubuntu 22.04 with tomcat9 service then create `/usr/share/tomcat9/bin/setenv.sh` file and put the configuration here to increase memory heap.\r\n\r\n\r\n```\r\ncat /usr/share/tomcat9/bin/setenv.sh \r\nexport JAVA_OPTS=&quot;-Xms2048m -Xmx4096m&quot;\r\n```","title":"How to set VM arguments to Tomcat instance","body":"<p>Ubuntu 22.04 with tomcat9 service then create <code>/usr/share/tomcat9/bin/setenv.sh</code> file and put the configuration here to increase memory heap.</p>\n<pre><code>cat /usr/share/tomcat9/bin/setenv.sh \nexport JAVA_OPTS=&quot;-Xms2048m -Xmx4096m&quot;\n</code></pre>\n"}],"owner":{"account_id":13893132,"reputation":305,"user_id":10030611,"display_name":"willberthos"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":336,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1698933928,"creation_date":1637320230,"question_id":70033902,"body_markdown":"I want to add the argument -XX:+HeapDumpOnOutOfMemoryError because my Java application is suffering from java.lang.OutOfMemoryError: Java heap space - error. My goal is to get the heapdump when the application crashes and then analyze the file with Eclipse MAT.\r\n\r\nThe Java application is running on a linux server where I only have a shell access. I am using Tomcat 9.\r\n\r\nBased on a few tutorials, the operation should be quite simple: \r\n1. locate $CATALINA_HOME\r\n2. edit setenv.sh\r\n3. add something like: CATALINA_OPTS=&quot;${CATALINA_OPTS} -Dparam=-XX:+HeapDumpOnOutOfMemoryError&quot;\r\n4. restart Tomcat and you are set!\r\n\r\nBut because the directory structures are always different, **I just can&#39;t locate that catalina folder** or maybe I just don&#39;t have it, is that even possible?\r\n\r\nHere is what ls brings up in root:\r\n```\r\nadminhome\r\nbackup\r\nbin -&gt; usr/bin\r\nboot\r\ndev\r\netc\r\nhome\r\nlib -&gt; usr/lib\r\nlib64 -&gt; usr/lib64\r\nlost+found\r\nmedia\r\nmnt\r\nopt\r\nproc\r\nroot\r\nrun\r\nsbin -&gt; usr/sbin\r\nsrv\r\nsys\r\ntmp\r\nusr\r\nvar\r\n```\r\nThe Java Application (war) runs in var/lib/tomcat9/webapps\r\n\r\n**EDIT: SOME PROGRESS!**\r\n\r\nOkay so I think I&#39;ve found the catalina home folder: /usr/share/tomcat9/\r\nbut there are no config files or scripts. The ls -l gives these directories:\r\n```\r\nbin\r\n/etc/tomcat9\r\nconf -&gt; /etc/tomcat9\r\n/usr/share/java/tomcat9\r\n/var/log/tomcat9\r\n/var/cache/tomcat9/temp\r\nwebapps -&gt; /var/lib/tomcat9/webapps\r\nwork -&gt; /var/cache/tomcat9/work\r\n```\r\n\r\nthe application should already have a few VM arguments, so can they be elsewhere than in the catalina home or why there is no setenv.sh?\r\n\r\n\r\n","title":"How to set VM arguments to Tomcat instance","body":"<p>I want to add the argument -XX:+HeapDumpOnOutOfMemoryError because my Java application is suffering from java.lang.OutOfMemoryError: Java heap space - error. My goal is to get the heapdump when the application crashes and then analyze the file with Eclipse MAT.</p>\n<p>The Java application is running on a linux server where I only have a shell access. I am using Tomcat 9.</p>\n<p>Based on a few tutorials, the operation should be quite simple:</p>\n<ol>\n<li>locate $CATALINA_HOME</li>\n<li>edit setenv.sh</li>\n<li>add something like: CATALINA_OPTS=&quot;${CATALINA_OPTS} -Dparam=-XX:+HeapDumpOnOutOfMemoryError&quot;</li>\n<li>restart Tomcat and you are set!</li>\n</ol>\n<p>But because the directory structures are always different, <strong>I just can't locate that catalina folder</strong> or maybe I just don't have it, is that even possible?</p>\n<p>Here is what ls brings up in root:</p>\n<pre><code>adminhome\nbackup\nbin -&gt; usr/bin\nboot\ndev\netc\nhome\nlib -&gt; usr/lib\nlib64 -&gt; usr/lib64\nlost+found\nmedia\nmnt\nopt\nproc\nroot\nrun\nsbin -&gt; usr/sbin\nsrv\nsys\ntmp\nusr\nvar\n</code></pre>\n<p>The Java Application (war) runs in var/lib/tomcat9/webapps</p>\n<p><strong>EDIT: SOME PROGRESS!</strong></p>\n<p>Okay so I think I've found the catalina home folder: /usr/share/tomcat9/\nbut there are no config files or scripts. The ls -l gives these directories:</p>\n<pre><code>bin\n/etc/tomcat9\nconf -&gt; /etc/tomcat9\n/usr/share/java/tomcat9\n/var/log/tomcat9\n/var/cache/tomcat9/temp\nwebapps -&gt; /var/lib/tomcat9/webapps\nwork -&gt; /var/cache/tomcat9/work\n</code></pre>\n<p>the application should already have a few VM arguments, so can they be elsewhere than in the catalina home or why there is no setenv.sh?</p>\n"},{"tags":["java","design-patterns","visitor-pattern"],"comments":[{"owner":{"account_id":45520,"reputation":123284,"user_id":134204,"display_name":"Panagiotis Kanavos"},"score":2,"creation_date":1471012614,"post_id":38920520,"comment_id":65197880,"body_markdown":"This is most definitely *not* the reason to use *any* pattern. And the visitor pattern isn&#39;t described by any UML diagram. In any case, without knowing what language you are talking about it&#39;s impossible to even discuss about implementations. Does the language support generics? Lambdas? Does it have dynamic features? All of these allow you to create a Visitor that doesn&#39;t need double dispatch","body":"This is most definitely <i>not</i> the reason to use <i>any</i> pattern. And the visitor pattern isn&#39;t described by any UML diagram. In any case, without knowing what language you are talking about it&#39;s impossible to even discuss about implementations. Does the language support generics? Lambdas? Does it have dynamic features? All of these allow you to create a Visitor that doesn&#39;t need double dispatch"},{"owner":{"account_id":7848783,"reputation":652,"user_id":5932894,"display_name":"Aditya W"},"score":0,"creation_date":1471013002,"post_id":38920520,"comment_id":65198103,"body_markdown":"I have provided some more context and language (java) details","body":"I have provided some more context and language (java) details"},{"owner":{"account_id":7525670,"reputation":12184,"user_id":5715934,"accept_rate":95,"display_name":"Supun Wijerathne"},"score":0,"creation_date":1471238811,"post_id":38920520,"comment_id":65254126,"body_markdown":"@AdityaW what is the use-case/user-story you are going to implement?","body":"@AdityaW what is the use-case/user-story you are going to implement?"},{"owner":{"account_id":7848783,"reputation":652,"user_id":5932894,"display_name":"Aditya W"},"score":0,"creation_date":1471361333,"post_id":38920520,"comment_id":65310477,"body_markdown":"One abstract method has to be added to the base class and derived classes have to implement it. Assume that you dont have soruce code.","body":"One abstract method has to be added to the base class and derived classes have to implement it. Assume that you dont have soruce code."},{"owner":{"account_id":10947020,"reputation":735,"user_id":8044750,"display_name":"zameb"},"score":0,"creation_date":1623862469,"post_id":38920520,"comment_id":120201239,"body_markdown":"@PanagiotisKanavos, which reason is not &quot;the reason&quot;? The question starts quoting a reason, from external source, which seems reasonable","body":"@PanagiotisKanavos, which reason is not &quot;the reason&quot;? The question starts quoting a reason, from external source, which seems reasonable"},{"owner":{"account_id":45520,"reputation":123284,"user_id":134204,"display_name":"Panagiotis Kanavos"},"score":0,"creation_date":1623871835,"post_id":38920520,"comment_id":120204629,"body_markdown":"@zameb the reason to use any pattern is because you have the problem it solves and the specific circumstances where the pattern applies. Not because you think it may be needed. The definition of a pattern is `A Solution to a Problem in a Context`. Not `common best practice`. Besides, if someone asked what pattern can add new operations to an existing structure, the first pattern that came to mind would be `Command`, not `Visitor`","body":"@zameb the reason to use any pattern is because you have the problem it solves and the specific circumstances where the pattern applies. Not because you think it may be needed. The definition of a pattern is <code>A Solution to a Problem in a Context</code>. Not <code>common best practice</code>. Besides, if someone asked what pattern can add new operations to an existing structure, the first pattern that came to mind would be <code>Command</code>, not <code>Visitor</code>"},{"owner":{"account_id":45520,"reputation":123284,"user_id":134204,"display_name":"Panagiotis Kanavos"},"score":0,"creation_date":1623872230,"post_id":38920520,"comment_id":120204783,"body_markdown":"@zameb the Wikipedia article isn&#39;t wrong. A *result/side-effect* of applying Visitor is that new operations are possible up to a point. The same applies for a *lot* of patterns though, while solving very different problems.","body":"@zameb the Wikipedia article isn&#39;t wrong. A <i>result/side-effect</i> of applying Visitor is that new operations are possible up to a point. The same applies for a <i>lot</i> of patterns though, while solving very different problems."},{"owner":{"account_id":10947020,"reputation":735,"user_id":8044750,"display_name":"zameb"},"score":0,"creation_date":1623934930,"post_id":38920520,"comment_id":120222964,"body_markdown":"@PanagiotisKanavos, in my case, Decorator, Strategy, Facade comes before Command. Because I see complicated to add a Command to an existing structure without violating the Open-Close principle. I understand a Command as the complete behavior as a class, not part of another class (existing structure). In fact, I think RelayCommand and DelegateCommand (WPF) implementations, are nice commodities but violates a lot of SOLID principles... but of course there may be a more open perspective than mine","body":"@PanagiotisKanavos, in my case, Decorator, Strategy, Facade comes before Command. Because I see complicated to add a Command to an existing structure without violating the Open-Close principle. I understand a Command as the complete behavior as a class, not part of another class (existing structure). In fact, I think RelayCommand and DelegateCommand (WPF) implementations, are nice commodities but violates a lot of SOLID principles... but of course there may be a more open perspective than mine"}],"answers":[{"tags":[],"owner":{"account_id":4325247,"reputation":12424,"user_id":4390212,"accept_rate":74,"display_name":"DimaSan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1472247993,"creation_date":1472246841,"answer_id":39174843,"question_id":38920520,"body_markdown":"There should be a possibility to add new functionality to the classes of some hierarchy, without changing the base class interface. Kinds of possible behavior should be constant, while operations for different classes should execute differently.\r\n\r\n The **Visitor Pattern** allows to concentrate all that operations in one class. There might be a lot of `Concrete Element` classes (from the diagram), but for each of them there will be implemented `visit()` method in `Concrete Visitor` class that will define his own algorithm.\r\n\r\n Definition and implementation of method for each subclass of `Element` class:\r\n\r\n    public interface Visitor {\r\n        void visit(Element element);\r\n    }\r\n\r\n    public class ConcreteVisitor implements Visitor {\r\n        public void visit(Element element) {\r\n            // implementation\r\n        }\r\n    }\r\nThe **Visitor Pattern** is easily extended for new operations by implementing this interface by new class with his method implementation.\r\n \r\nThe following structure encapsulates the `Element` class:\r\n\r\n    public lass ObjectStructure {\r\n        private Element element;\r\n        // some methods\r\n    }\r\nThis `ObjectStructure` class could aggregate one or several instances of `Element`. Presentation that `Visitor` acts on:\r\n\r\n    public interface Element {\r\n        void accept(Visitor visitor);\r\n    }\r\nAnd implementation of `accept()` method in the concrete entity:\r\n\r\n    public class ConcreteElement implements Element {\r\n        public void accept(Visitor visitor) {\r\n            visitor.visit();\r\n        }\r\n    }\r\nUsing of **Visitor Pattern** allows to save `Element` hierarchy from huge logical functionality or complicated configuration.\r\n\r\nIt is desirable to add the functionality to all the classes of hierarchy while defining a new `Visitor` subclasses. But there could be a problem: `visit()` *should be overriden for every hierarchy type*. To avoid this it&#39;s better to define `AbstractVisitor` class and all leave his all `visit()` method bodies empty.\r\n\r\n**Conclusion:** using this pattern is good when class hierarchy of type `Element` keeps constant. If new classes add, it usually goes to considerable changes in classes of `Visitor` type.","title":"Visitor pattern implementation in case of source code un-availability","body":"<p>There should be a possibility to add new functionality to the classes of some hierarchy, without changing the base class interface. Kinds of possible behavior should be constant, while operations for different classes should execute differently.</p>\n\n<p>The <strong>Visitor Pattern</strong> allows to concentrate all that operations in one class. There might be a lot of <code>Concrete Element</code> classes (from the diagram), but for each of them there will be implemented <code>visit()</code> method in <code>Concrete Visitor</code> class that will define his own algorithm.</p>\n\n<p>Definition and implementation of method for each subclass of <code>Element</code> class:</p>\n\n<pre><code>public interface Visitor {\n    void visit(Element element);\n}\n\npublic class ConcreteVisitor implements Visitor {\n    public void visit(Element element) {\n        // implementation\n    }\n}\n</code></pre>\n\n<p>The <strong>Visitor Pattern</strong> is easily extended for new operations by implementing this interface by new class with his method implementation.</p>\n\n<p>The following structure encapsulates the <code>Element</code> class:</p>\n\n<pre><code>public lass ObjectStructure {\n    private Element element;\n    // some methods\n}\n</code></pre>\n\n<p>This <code>ObjectStructure</code> class could aggregate one or several instances of <code>Element</code>. Presentation that <code>Visitor</code> acts on:</p>\n\n<pre><code>public interface Element {\n    void accept(Visitor visitor);\n}\n</code></pre>\n\n<p>And implementation of <code>accept()</code> method in the concrete entity:</p>\n\n<pre><code>public class ConcreteElement implements Element {\n    public void accept(Visitor visitor) {\n        visitor.visit();\n    }\n}\n</code></pre>\n\n<p>Using of <strong>Visitor Pattern</strong> allows to save <code>Element</code> hierarchy from huge logical functionality or complicated configuration.</p>\n\n<p>It is desirable to add the functionality to all the classes of hierarchy while defining a new <code>Visitor</code> subclasses. But there could be a problem: <code>visit()</code> <em>should be overriden for every hierarchy type</em>. To avoid this it's better to define <code>AbstractVisitor</code> class and all leave his all <code>visit()</code> method bodies empty.</p>\n\n<p><strong>Conclusion:</strong> using this pattern is good when class hierarchy of type <code>Element</code> keeps constant. If new classes add, it usually goes to considerable changes in classes of <code>Visitor</code> type.</p>\n"},{"tags":[],"owner":{"account_id":8955483,"reputation":101,"user_id":6679991,"display_name":"Michael von Wenckstern"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1472702877,"creation_date":1472286872,"answer_id":39179145,"question_id":38920520,"body_markdown":"If your library does not has `accept` methods you need to do it with `instanceof`. (Normally you do twice single-dispatching in Java to emulate double dispatching; but here we use `instanceof` to emulate double dispatching).\r\n\r\nHere is the example:\r\n\r\n    interface Library {\r\n      public void get1();\r\n      public void get2();\r\n    }\r\n\r\n    public class Library1 implements Library {\r\n      public void get1() { ... }\r\n      public void get2() { ... }\r\n    }\r\n\r\n    public class Library2 implements Library {\r\n      public void get1() { ... }\r\n      public void get2() { ... }\r\n    }\r\n\r\n    interface Visitor {\r\n       default void visit(Library1 l1) {}\r\n       default void visit(Library2 l2) {}\r\n       \r\n       default void visit(Library l) {\r\n          // add here instanceof for double dispatching\r\n          if (l instanceof Library1) {\r\n              visit((Library1) l);\r\n          }\r\n          else if (l instanceof Library2) {\r\n              visit((Library2) l);\r\n          }\r\n       }\r\n    }\r\n\r\n    // add extra print methods to the library\r\n    public class PrinterVisitor implements Visitor {\r\n       void visit(Library1 l1) {\r\n           System.out.println(&quot;I am library1&quot;);\r\n       } \r\n       void visit(Library2 l2) {\r\n           System.out.println(&quot;I am library2&quot;);\r\n       }        \r\n    }\r\n\r\nand now in any method you can write:\r\n\r\n    Library l = new Library1();\r\n    PrinterVisitor pv = new PrinterVisitor();\r\n    pv.visit(l);\r\n\r\nand it will print to you &quot;I am library1&quot;;","title":"Visitor pattern implementation in case of source code un-availability","body":"<p>If your library does not has <code>accept</code> methods you need to do it with <code>instanceof</code>. (Normally you do twice single-dispatching in Java to emulate double dispatching; but here we use <code>instanceof</code> to emulate double dispatching).</p>\n\n<p>Here is the example:</p>\n\n<pre><code>interface Library {\n  public void get1();\n  public void get2();\n}\n\npublic class Library1 implements Library {\n  public void get1() { ... }\n  public void get2() { ... }\n}\n\npublic class Library2 implements Library {\n  public void get1() { ... }\n  public void get2() { ... }\n}\n\ninterface Visitor {\n   default void visit(Library1 l1) {}\n   default void visit(Library2 l2) {}\n\n   default void visit(Library l) {\n      // add here instanceof for double dispatching\n      if (l instanceof Library1) {\n          visit((Library1) l);\n      }\n      else if (l instanceof Library2) {\n          visit((Library2) l);\n      }\n   }\n}\n\n// add extra print methods to the library\npublic class PrinterVisitor implements Visitor {\n   void visit(Library1 l1) {\n       System.out.println(\"I am library1\");\n   } \n   void visit(Library2 l2) {\n       System.out.println(\"I am library2\");\n   }        \n}\n</code></pre>\n\n<p>and now in any method you can write:</p>\n\n<pre><code>Library l = new Library1();\nPrinterVisitor pv = new PrinterVisitor();\npv.visit(l);\n</code></pre>\n\n<p>and it will print to you \"I am library1\";</p>\n"},{"tags":[],"owner":{"account_id":4484365,"reputation":680,"user_id":6034733,"display_name":"MrBrushy"},"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1570261329,"creation_date":1472660591,"answer_id":39254583,"question_id":38920520,"body_markdown":"You could combine a **Wrapper** and  **Visitor** to solve your problems.\r\nUsing the wrapper to **add** a `visit` method allows you to increase the usability of these objects. Of course you get the full advantages (less dependency on the legacy classes) and disadvantages (additional objects) of a wrapper.\r\n\r\n\r\n---\r\nHere&#39;s a worked-up example in JAVA (because it is pretty strict, does not do double-dispatch by itself, and I&#39;m quite familiar with it):\r\n\r\n# 1) Your legacy Objects\r\nAssuming you have your legacy objects `Legacy1` and `Legacy2`which you *cannot* change, which have specific business methods:\r\n\r\n    public final class Legacy1 {\r\n        public void someBusinessMethod1(){\r\n            ...\r\n        }\r\n    }\r\n\r\nand\r\n\r\n    public final class Legacy2 {\r\n        public void anotherBusinessMethod(){\r\n            ...\r\n        }\r\n    }\r\n\r\n# 2) Prepare the Wrapper\r\n\r\nYou just wrap them in a **VisitableWrapper** which has a `visit` method that takes your **visitor**, like:\r\n\r\n    public interface VisitableWrapper {\r\n        public void accept(Visitor visitor);\r\n    }\r\n\r\nWith the following implementations:\r\n\r\n    public class Legacy1Wrapper implements VisitableWrapper {\r\n\r\n        private final Legacy1 legacyObj;\r\n\r\n        public Legacy1Wrapper(Legacy1 original){\r\n            this.legacyObj = original;\r\n        }\r\n\r\n        public void accept(Visitor visitor){\r\n             visitor.visit(legacyObj);\r\n        }\r\n    }\r\n\r\nand\r\n\r\n    public class Legacy2Wrapper implements VisitableWrapper {\r\n\r\n        private final Legacy2 legacyObj;\r\n\r\n        public Legacy2Wrapper(Legacy2 original){\r\n            this.legacyObj = original;\r\n        }\r\n\r\n        public void accept(Visitor visitor){\r\n             visitor.visit(legacyObj);\r\n        }\r\n    }\r\n\r\n# 3) Visitor, at the ready!\r\n\r\nThen your own **Visitor**s can be set to visit the wrapper like so:\r\n\r\n    public interface Visitor {\r\n         public void visit(Legacy1 leg);\r\n         public void visit(Legacy2 leg);\r\n    }\r\n\r\nWith an implementation like so:\r\n\r\n    public class SomeLegacyVisitor{\r\n\r\n        public void visit(Legacy1 leg){\r\n            System.out.println(&quot;This is a Legacy1! let&#39;s do something with it!&quot;);\r\n            leg.someBusinessMethod1();\r\n        }\r\n\r\n        public void visit(Legacy2 leg){\r\n            System.out.println(&quot;Hum, this is a Legacy 2 object. Well, let&#39;s do something else.&quot;);\r\n            leg.anotherBusinessMethod();\r\n        }\r\n    }\r\n\r\n# 4) Unleash the power\r\n\r\nFinally in your code, this framework would work like this:\r\n\r\n    public class TestClass{\r\n        // Start off with some legacy objects\r\n        Legacy1 leg1 = ...\r\n        Legacy2 leg2 = ...\r\n\r\n        // Wrap all your legacy objects into a List:\r\n        List&lt;VisitableWrapper&gt; visitableLegacys = new ArrayList&lt;&gt;();\r\n        visitableLegacys.add(new Legacy1Wrapper(legacy1));\r\n        visitableLegacys.add(new Legacy2Wrapper(legacy2));\r\n        \r\n        // Use any of your visitor implementations!\r\n        Visitor visitor = new SomeLegacyVisitor();\r\n        for(VisitableWrapper wrappedLegacy: visitableLegacys){\r\n            wrappedLegacy.accept(visitor);\r\n        }\r\n    }\r\n\r\nThe expected output:\r\n\r\n    This is a Legacy1! let&#39;s do something with it!\r\n    Hum, this is a Legacy 2 object. Well, let&#39;s do something else.\r\n\r\n**Drawbacks:**\r\n\r\n 1. Quite a lot of boilerplate. Use [Lombok][1] if you develop in Java.\r\n 2. Quite a lot of wrapper objects instances. May or may not be a problem for you.\r\n 3. You need to know the specific type of the objects beforehand. This implies you know their subtype, they aren&#39;t bundles in a List&lt;Legacy&gt;. If that&#39;s the case, you have no other option but to use reflection.\r\n\r\n  [1]: https://projectlombok.org/","title":"Visitor pattern implementation in case of source code un-availability","body":"<p>You could combine a <strong>Wrapper</strong> and  <strong>Visitor</strong> to solve your problems.\nUsing the wrapper to <strong>add</strong> a <code>visit</code> method allows you to increase the usability of these objects. Of course you get the full advantages (less dependency on the legacy classes) and disadvantages (additional objects) of a wrapper.</p>\n\n<hr>\n\n<p>Here's a worked-up example in JAVA (because it is pretty strict, does not do double-dispatch by itself, and I'm quite familiar with it):</p>\n\n<h1>1) Your legacy Objects</h1>\n\n<p>Assuming you have your legacy objects <code>Legacy1</code> and <code>Legacy2</code>which you <em>cannot</em> change, which have specific business methods:</p>\n\n<pre><code>public final class Legacy1 {\n    public void someBusinessMethod1(){\n        ...\n    }\n}\n</code></pre>\n\n<p>and</p>\n\n<pre><code>public final class Legacy2 {\n    public void anotherBusinessMethod(){\n        ...\n    }\n}\n</code></pre>\n\n<h1>2) Prepare the Wrapper</h1>\n\n<p>You just wrap them in a <strong>VisitableWrapper</strong> which has a <code>visit</code> method that takes your <strong>visitor</strong>, like:</p>\n\n<pre><code>public interface VisitableWrapper {\n    public void accept(Visitor visitor);\n}\n</code></pre>\n\n<p>With the following implementations:</p>\n\n<pre><code>public class Legacy1Wrapper implements VisitableWrapper {\n\n    private final Legacy1 legacyObj;\n\n    public Legacy1Wrapper(Legacy1 original){\n        this.legacyObj = original;\n    }\n\n    public void accept(Visitor visitor){\n         visitor.visit(legacyObj);\n    }\n}\n</code></pre>\n\n<p>and</p>\n\n<pre><code>public class Legacy2Wrapper implements VisitableWrapper {\n\n    private final Legacy2 legacyObj;\n\n    public Legacy2Wrapper(Legacy2 original){\n        this.legacyObj = original;\n    }\n\n    public void accept(Visitor visitor){\n         visitor.visit(legacyObj);\n    }\n}\n</code></pre>\n\n<h1>3) Visitor, at the ready!</h1>\n\n<p>Then your own <strong>Visitor</strong>s can be set to visit the wrapper like so:</p>\n\n<pre><code>public interface Visitor {\n     public void visit(Legacy1 leg);\n     public void visit(Legacy2 leg);\n}\n</code></pre>\n\n<p>With an implementation like so:</p>\n\n<pre><code>public class SomeLegacyVisitor{\n\n    public void visit(Legacy1 leg){\n        System.out.println(\"This is a Legacy1! let's do something with it!\");\n        leg.someBusinessMethod1();\n    }\n\n    public void visit(Legacy2 leg){\n        System.out.println(\"Hum, this is a Legacy 2 object. Well, let's do something else.\");\n        leg.anotherBusinessMethod();\n    }\n}\n</code></pre>\n\n<h1>4) Unleash the power</h1>\n\n<p>Finally in your code, this framework would work like this:</p>\n\n<pre><code>public class TestClass{\n    // Start off with some legacy objects\n    Legacy1 leg1 = ...\n    Legacy2 leg2 = ...\n\n    // Wrap all your legacy objects into a List:\n    List&lt;VisitableWrapper&gt; visitableLegacys = new ArrayList&lt;&gt;();\n    visitableLegacys.add(new Legacy1Wrapper(legacy1));\n    visitableLegacys.add(new Legacy2Wrapper(legacy2));\n\n    // Use any of your visitor implementations!\n    Visitor visitor = new SomeLegacyVisitor();\n    for(VisitableWrapper wrappedLegacy: visitableLegacys){\n        wrappedLegacy.accept(visitor);\n    }\n}\n</code></pre>\n\n<p>The expected output:</p>\n\n<pre><code>This is a Legacy1! let's do something with it!\nHum, this is a Legacy 2 object. Well, let's do something else.\n</code></pre>\n\n<p><strong>Drawbacks:</strong></p>\n\n<ol>\n<li>Quite a lot of boilerplate. Use <a href=\"https://projectlombok.org/\" rel=\"nofollow noreferrer\">Lombok</a> if you develop in Java.</li>\n<li>Quite a lot of wrapper objects instances. May or may not be a problem for you.</li>\n<li>You need to know the specific type of the objects beforehand. This implies you know their subtype, they aren't bundles in a List. If that's the case, you have no other option but to use reflection.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1472705108,"creation_date":1472705108,"answer_id":39262829,"question_id":38920520,"body_markdown":"My answer is very similar to Michael von Wenckstern&#39;s, with the improvements that we have a named `accept` method (more like the standard pattern) and that we handle unknown concrete classes -- there&#39;s no guarantee that at some point a concrete implementation we haven&#39;t seen before won&#39;t appear on the classpath.\r\nMy visitor also allows a return value.\r\n\r\nI&#39;ve also used a more verbose name for the `visit` methods -- including the type in the method name, but this isn&#39;t necessary, you can call them all `visit`.\r\n\r\n\r\n    // these classes cannot be modified and do not have source available\r\n\r\n    class Legacy {\r\n    }\r\n    \r\n    class Legacy1 extends Legacy {\r\n    }\r\n    class Legacy2 extends Legacy {\r\n    }\r\n\r\n    // this is the implementation of your visitor    \r\n\r\n    abstract class LegacyVisitor&lt;T&gt; {\r\n        abstract T visitLegacy1(Legacy1 l);\r\n        abstract T visitLegacy2(Legacy2 l);\r\n    \r\n        T accept(Legacy l) {\r\n            if (l instanceof Legacy1) {\r\n                return visitLegacy1((Legacy1)l);\r\n            } else if (l instanceof Legacy2) {\r\n                return visitLegacy2((Legacy2)l);\r\n            } else {\r\n                throw new RuntimeException(&quot;Unknown concrete Legacy subclass:&quot; + l.getClass());\r\n            }\r\n        }\r\n    }\r\n    public class Test {\r\n        public static void main(String[] args) {\r\n            String s = new LegacyVisitor&lt;String&gt;() {\r\n    \r\n                @Override\r\n                String visitLegacy1(Legacy1 l) {\r\n                    return &quot;It&#39;s a 1&quot;;\r\n                }\r\n    \r\n                @Override\r\n                String visitLegacy2(Legacy2 l) {\r\n                    return &quot;It&#39;s a 2&quot;;\r\n                }\r\n            }.accept(new Legacy1());\r\n            \r\n            System.out.println(s);\r\n        }\r\n    }\r\n\r\n\r\n","title":"Visitor pattern implementation in case of source code un-availability","body":"<p>My answer is very similar to Michael von Wenckstern's, with the improvements that we have a named <code>accept</code> method (more like the standard pattern) and that we handle unknown concrete classes -- there's no guarantee that at some point a concrete implementation we haven't seen before won't appear on the classpath.\nMy visitor also allows a return value.</p>\n\n<p>I've also used a more verbose name for the <code>visit</code> methods -- including the type in the method name, but this isn't necessary, you can call them all <code>visit</code>.</p>\n\n<pre><code>// these classes cannot be modified and do not have source available\n\nclass Legacy {\n}\n\nclass Legacy1 extends Legacy {\n}\nclass Legacy2 extends Legacy {\n}\n\n// this is the implementation of your visitor    \n\nabstract class LegacyVisitor&lt;T&gt; {\n    abstract T visitLegacy1(Legacy1 l);\n    abstract T visitLegacy2(Legacy2 l);\n\n    T accept(Legacy l) {\n        if (l instanceof Legacy1) {\n            return visitLegacy1((Legacy1)l);\n        } else if (l instanceof Legacy2) {\n            return visitLegacy2((Legacy2)l);\n        } else {\n            throw new RuntimeException(\"Unknown concrete Legacy subclass:\" + l.getClass());\n        }\n    }\n}\npublic class Test {\n    public static void main(String[] args) {\n        String s = new LegacyVisitor&lt;String&gt;() {\n\n            @Override\n            String visitLegacy1(Legacy1 l) {\n                return \"It's a 1\";\n            }\n\n            @Override\n            String visitLegacy2(Legacy2 l) {\n                return \"It's a 2\";\n            }\n        }.accept(new Legacy1());\n\n        System.out.println(s);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5501406,"reputation":4041,"user_id":4370629,"accept_rate":67,"display_name":"Spotted"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1472720491,"creation_date":1472720491,"answer_id":39267130,"question_id":38920520,"body_markdown":"First I had to made a few assumptions about the legacy code, since you didn&#39;t provide much details about it. Let&#39;s say I need to add a new method to `Legacy` without reimplementing everything. This is how I&#39;ll do it:\r\n\r\n    public interface LegacyInterface {\r\n    \tvoid A();\r\n    }\r\n    \r\n    public final class LegacyClass implements LegacyInterface {\r\n    \t@Override\r\n    \tpublic void A() {\r\n    \t\tSystem.out.println(&quot;Hello from A&quot;);\r\n    \t}\r\n    }\r\n\r\nFirst extends the &quot;contract&quot;\r\n\r\n    public interface MyInterface extends LegacyInterface {\r\n    \tvoid B();\r\n    }\r\n\r\nAnd implement it in a &quot;[decorated][1]&quot; way\r\n\r\n    public final class MyClass implements MyInterface {\r\n    \tprivate final LegacyInterface origin;\r\n    \t\r\n    \tpublic MyClass(LegacyInterface origin) {\r\n    \t\tthis.origin = origin;\r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \tpublic void A() {\r\n    \t\torigin.A();\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void B() {\r\n    \t\tSystem.out.println(&quot;Hello from B&quot;);\r\n    \t}\r\n    }\r\n\r\nThe key point is `MyInterface extends LegacyInterface`: this is the **guarantee** the implementations will benefit from both the services from the legacy code and your personnal addings.\r\n\r\nUsage\r\n\r\n    MyInterface b = new MyClass(new LegacyClass());\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Decorator_pattern","title":"Visitor pattern implementation in case of source code un-availability","body":"<p>First I had to made a few assumptions about the legacy code, since you didn't provide much details about it. Let's say I need to add a new method to <code>Legacy</code> without reimplementing everything. This is how I'll do it:</p>\n\n<pre><code>public interface LegacyInterface {\n    void A();\n}\n\npublic final class LegacyClass implements LegacyInterface {\n    @Override\n    public void A() {\n        System.out.println(\"Hello from A\");\n    }\n}\n</code></pre>\n\n<p>First extends the \"contract\"</p>\n\n<pre><code>public interface MyInterface extends LegacyInterface {\n    void B();\n}\n</code></pre>\n\n<p>And implement it in a \"<a href=\"https://en.wikipedia.org/wiki/Decorator_pattern\" rel=\"nofollow\">decorated</a>\" way</p>\n\n<pre><code>public final class MyClass implements MyInterface {\n    private final LegacyInterface origin;\n\n    public MyClass(LegacyInterface origin) {\n        this.origin = origin;\n    }\n\n    @Override\n    public void A() {\n        origin.A();\n    }\n\n    @Override\n    public void B() {\n        System.out.println(\"Hello from B\");\n    }\n}\n</code></pre>\n\n<p>The key point is <code>MyInterface extends LegacyInterface</code>: this is the <strong>guarantee</strong> the implementations will benefit from both the services from the legacy code and your personnal addings.</p>\n\n<p>Usage</p>\n\n<pre><code>MyInterface b = new MyClass(new LegacyClass());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1257553,"reputation":1302,"user_id":1216702,"accept_rate":100,"display_name":"Teg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1472731386,"creation_date":1472731386,"answer_id":39271101,"question_id":38920520,"body_markdown":"I think the best approach is the *`Option 1:`* Extend one more inheritance hierarchy on top of third party class and implement the visitor pattern with double dispatch.\r\n\r\nThe problem is the number of additional classes you need, but this can be resolved with a dynamic wrapper decorator. \r\nThe Wrapper Decorator is a way to add interface implementation, methods and properties to already existing obejcts: [https://stackoverflow.com/questions/34595221/how-to-implement-a-wrapper-decorator-in-java][1]\r\n\r\nIn this way you need your `Visitor` interface and put there the `visit(L legacy)` methods:\r\n\r\n    public interface Visitor&lt;L&gt; {\r\n        public void visit(L legacy);\r\n    }\r\n\r\nIn the AcceptInterceptor you can put the code for the accept method\r\n\r\n    public class AcceptInterceptor {\r\n\r\n        @RuntimeType\r\n        public static Object intercept(@This WrappedAcceptor proxy, @Argument(0) Visitor visitor) throws Exception {\r\n            visitor.visit(proxy);\r\n        }\r\n    }\r\n\r\nThe `WrappedAcceptor` interface defines the method to accept a visitor and to set and retrieve the wrapped object\r\n\r\n    interface WrappedAcceptor&lt;V&gt; {\r\n       Object getWrapped();\r\n       void setWrapped(Object wrapped);\r\n       void accept(V visitor); \r\n    }\r\n\r\nAnd finally the utility code to create the Wrapper around any obect:\r\n\r\n    Class&lt;? extends Object&gt; proxyType = new ByteBuddy()\r\n     .subclass(legacyObject.getClass(), ConstructorStrategy.Default.IMITATE_SUPER_TYPE_PUBLIC)\r\n     .method(anyOf(WrappedAcceptor.class.getMethods())).intercept(MethodDelegation.to(AcceptInterceptor.class))\r\n     .defineField(&quot;wrapped&quot;, Object.class, Visibility.PRIVATE)\r\n     .implement(WrappedAcceptor.class).intercept(FieldAccessor.ofBeanProperty())\r\n     .make()\r\n     .load(getClass().getClassLoader(), ClassLoadingStrategy.Default.WRAPPER)\r\n     .getLoaded();\r\n    WrappedAcceptor wrapper = (WrappedAcceptor) proxyType.newInstance();\r\n    wrapper.setWrapped(legacyObject);\r\n\r\n  [1]: https://stackoverflow.com/questions/34595221/how-to-implement-a-wrapper-decorator-in-java","title":"Visitor pattern implementation in case of source code un-availability","body":"<p>I think the best approach is the <em><code>Option 1:</code></em> Extend one more inheritance hierarchy on top of third party class and implement the visitor pattern with double dispatch.</p>\n\n<p>The problem is the number of additional classes you need, but this can be resolved with a dynamic wrapper decorator. \nThe Wrapper Decorator is a way to add interface implementation, methods and properties to already existing obejcts: <a href=\"https://stackoverflow.com/questions/34595221/how-to-implement-a-wrapper-decorator-in-java\">How to implement a wrapper decorator in Java?</a></p>\n\n<p>In this way you need your <code>Visitor</code> interface and put there the <code>visit(L legacy)</code> methods:</p>\n\n<pre><code>public interface Visitor&lt;L&gt; {\n    public void visit(L legacy);\n}\n</code></pre>\n\n<p>In the AcceptInterceptor you can put the code for the accept method</p>\n\n<pre><code>public class AcceptInterceptor {\n\n    @RuntimeType\n    public static Object intercept(@This WrappedAcceptor proxy, @Argument(0) Visitor visitor) throws Exception {\n        visitor.visit(proxy);\n    }\n}\n</code></pre>\n\n<p>The <code>WrappedAcceptor</code> interface defines the method to accept a visitor and to set and retrieve the wrapped object</p>\n\n<pre><code>interface WrappedAcceptor&lt;V&gt; {\n   Object getWrapped();\n   void setWrapped(Object wrapped);\n   void accept(V visitor); \n}\n</code></pre>\n\n<p>And finally the utility code to create the Wrapper around any obect:</p>\n\n<pre><code>Class&lt;? extends Object&gt; proxyType = new ByteBuddy()\n .subclass(legacyObject.getClass(), ConstructorStrategy.Default.IMITATE_SUPER_TYPE_PUBLIC)\n .method(anyOf(WrappedAcceptor.class.getMethods())).intercept(MethodDelegation.to(AcceptInterceptor.class))\n .defineField(\"wrapped\", Object.class, Visibility.PRIVATE)\n .implement(WrappedAcceptor.class).intercept(FieldAccessor.ofBeanProperty())\n .make()\n .load(getClass().getClassLoader(), ClassLoadingStrategy.Default.WRAPPER)\n .getLoaded();\nWrappedAcceptor wrapper = (WrappedAcceptor) proxyType.newInstance();\nwrapper.setWrapped(legacyObject);\n</code></pre>\n"}],"owner":{"account_id":7848783,"reputation":652,"user_id":5932894,"display_name":"Aditya W"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3545,"favorite_count":0,"down_vote_count":1,"up_vote_count":11,"accepted_answer_id":39254583,"answer_count":6,"score":10,"last_activity_date":1698933719,"creation_date":1471012472,"question_id":38920520,"body_markdown":"One of the reasons to consider the [Visitor_pattern][1]:\r\n\r\n&gt; A practical result of this separation is the ability to add new operations to existing object structures without modifying those structures.\r\n\r\nAssume that you don&#39;t have the source code of third party libraries and you have added one operation on related objects. \r\n\r\nSince you don&#39;t have object, your elements (Third party classes) can&#39;t be modified to add Visitor. \r\n\r\n\r\nIn this case, double dispatch is not possible.\r\n\r\nSo which option is generally preferred?\r\n\r\n*`Option 1:`*  Extend one more inheritance hierarchy on top of third party class and implement pattern as show in picture with double dispatch?\r\n\r\n  For a given hierarchy of Class B which extends Class A, you can add\r\n\r\n\r\n    ElementA extends A\r\n    ElementB extends B\r\n\r\n Now ConcreteElements are derived from ElementA instead of class A.\r\n\r\n Cons: The number of classes will grow. \r\n\r\n*`Option 2:`*  Use Visitor class a central helper class and get the work done with single dispatch. \r\n\r\n  Cons: We are not really following Visitor patter as per UML diagram.\r\n\r\nCorrect if I am wrong.  \r\n\r\n  [1]: https://en.wikipedia.org/wiki/Visitor_pattern\r\n  \r\n","title":"Visitor pattern implementation in case of source code un-availability","body":"<p>One of the reasons to consider the <a href=\"https://en.wikipedia.org/wiki/Visitor_pattern\" rel=\"nofollow noreferrer\">Visitor_pattern</a>:</p>\n<blockquote>\n<p>A practical result of this separation is the ability to add new operations to existing object structures without modifying those structures.</p>\n</blockquote>\n<p>Assume that you don't have the source code of third party libraries and you have added one operation on related objects.</p>\n<p>Since you don't have object, your elements (Third party classes) can't be modified to add Visitor.</p>\n<p>In this case, double dispatch is not possible.</p>\n<p>So which option is generally preferred?</p>\n<p><em><code>Option 1:</code></em>  Extend one more inheritance hierarchy on top of third party class and implement pattern as show in picture with double dispatch?</p>\n<p>For a given hierarchy of Class B which extends Class A, you can add</p>\n<pre><code>ElementA extends A\nElementB extends B\n</code></pre>\n<p>Now ConcreteElements are derived from ElementA instead of class A.</p>\n<p>Cons: The number of classes will grow.</p>\n<p><em><code>Option 2:</code></em>  Use Visitor class a central helper class and get the work done with single dispatch.</p>\n<p>Cons: We are not really following Visitor patter as per UML diagram.</p>\n<p>Correct if I am wrong.</p>\n"},{"tags":["java","code-generation","cglib"],"comments":[{"owner":{"account_id":11089,"reputation":400030,"user_id":21234,"accept_rate":91,"display_name":"skaffman"},"score":1,"creation_date":1266215832,"post_id":2261947,"comment_id":2225722,"body_markdown":"Do you need an alternative to do something cglib can&#39;t?","body":"Do you need an alternative to do something cglib can&#39;t?"},{"owner":{"account_id":700,"reputation":16953,"user_id":917,"accept_rate":44,"display_name":"Mauli"},"score":1,"creation_date":1266219345,"post_id":2261947,"comment_id":2225908,"body_markdown":"I have some ideas for a kind of extensible ORM, but runtime code generation is essential, because every class will be completely generated. I haven&#39;t used cglib yet, but know that it is used by hibernate and spring, so it was my first idea. But if anything else is better suited, or easier to use I&#39;m open for it.","body":"I have some ideas for a kind of extensible ORM, but runtime code generation is essential, because every class will be completely generated. I haven&#39;t used cglib yet, but know that it is used by hibernate and spring, so it was my first idea. But if anything else is better suited, or easier to use I&#39;m open for it."}],"answers":[{"tags":[],"owner":{"account_id":70258,"reputation":590434,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1266214910,"creation_date":1266167949,"answer_id":2261968,"question_id":2261947,"body_markdown":"&lt;a href=&quot;http://www.csg.is.titech.ac.jp/~chiba/javassist/&quot;&gt;Javassist&lt;/a&gt;.\r\n\r\nIf you need to make proxies, take a look at &lt;a href=&quot;http://commons.apache.org/proxy/&quot;&gt;commons-proxy&lt;/a&gt; - it uses both CGLIB and Javassit.","title":"Are there alternatives to cglib?","body":"<p><a href=\"http://www.csg.is.titech.ac.jp/~chiba/javassist/\" rel=\"noreferrer\">Javassist</a>.</p>\n\n<p>If you need to make proxies, take a look at <a href=\"http://commons.apache.org/proxy/\" rel=\"noreferrer\">commons-proxy</a> - it uses both CGLIB and Javassit.</p>\n"},{"tags":[],"owner":{"account_id":31685,"reputation":3185,"user_id":87206,"display_name":"CurtainDog"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1266216382,"creation_date":1266216382,"answer_id":2264380,"question_id":2261947,"body_markdown":"I prefer raw [ASM][1], which I believe is used by cglib anyway. It&#39;s low level, but the documentation is *brilliant*, and once you get used to it you&#39;ll be flying.\r\n\r\nTo answer your second question, you should use code generation when your reflection and dynamic proxies are beginning to feel a bit cobbled together and you need a rock solid solution. In the past I&#39;ve even added a code generation step into the build process in Eclipse, effectively giving me compile time reporting of anything and everything.\r\n\r\n  [1]: http://asm.ow2.org/ &quot;ASM&quot;","title":"Are there alternatives to cglib?","body":"<p>I prefer raw <a href=\"http://asm.ow2.org/\" rel=\"noreferrer\" title=\"ASM\">ASM</a>, which I believe is used by cglib anyway. It's low level, but the documentation is <em>brilliant</em>, and once you get used to it you'll be flying.</p>\n\n<p>To answer your second question, you should use code generation when your reflection and dynamic proxies are beginning to feel a bit cobbled together and you need a rock solid solution. In the past I've even added a code generation step into the build process in Eclipse, effectively giving me compile time reporting of anything and everything.</p>\n"},{"tags":[],"owner":{"account_id":10282,"reputation":5778,"user_id":19347,"accept_rate":80,"display_name":"FoxyBOA"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1288211505,"creation_date":1288211505,"answer_id":4037448,"question_id":2261947,"body_markdown":"I think it&#39;s more sense to use [Javassist][1] instead of cglib. E.g. javasist perfectly works with signed jars unlike cglib. Besides, such grand as Hibernate project [decided to stop using cglib in favor of Javassist][2].\r\n\r\n\r\n  [1]: http://www.csg.is.titech.ac.jp/~chiba/javassist/\r\n  [2]: http://relation.to/16658.lace","title":"Are there alternatives to cglib?","body":"<p>I think it's more sense to use <a href=\"http://www.csg.is.titech.ac.jp/~chiba/javassist/\" rel=\"nofollow\">Javassist</a> instead of cglib. E.g. javasist perfectly works with signed jars unlike cglib. Besides, such grand as Hibernate project <a href=\"http://relation.to/16658.lace\" rel=\"nofollow\">decided to stop using cglib in favor of Javassist</a>.</p>\n"},{"tags":[],"owner":{"account_id":20228,"reputation":40720,"user_id":48136,"display_name":"bric3"},"down_vote_count":0,"up_vote_count":115,"is_accepted":true,"score":115,"last_activity_date":1698933692,"creation_date":1332424821,"answer_id":9823788,"question_id":2261947,"body_markdown":"[ASM][1] [tag:java-asm]\r\n-----------------------\r\nCGLIB, ByteBuddy, kotlin compiler and almost all other libraries are built on top of ASM which itself acts on a very low level. This is a show-stopper for most people as you have to understand the byte code and a little bit of the [JVMS][2] to use it properly. But mastering ASM is most certainly very interesting. Note however that while there is a **great** [ASM 4 guide][3], in some part of the API the javadoc documentation can be very concise if it is present at all, but it is being improved. It closely follows JVM versions to support new features, however it has a downside is cannot handle well byte codes from the next JDK release and as such may require to wait for a release supporting those.\r\n\r\nHowever, if you need full control, ASM is your weapon of choice.\r\n\r\nThis project sees regular updates ; at the time of this edit version 9.6 was released on 30 September 2023, with supports for JDK 22 opcodes.\r\n\r\n\r\n[Byte Buddy][4] [tag:byte-buddy]\r\n--------------------------------\r\nByte Buddy is a rather new library but provides any functionality that CGLIB or Javassist provides and much more. Byte Buddy can be fully customised down to the byte code level and comes with an expressive domain specific language that allows for very readable code.\r\n\r\n - It supports all JVM bytecode versions, including Java 8 semantic changes of some opcodes regarding default methods.\r\n - ByteBuddy don&#39;t seem to suffer from the drawbacks other libraries have\r\n - Highly configurable\r\n - Quite fast ([benchmark][5] [code][6])\r\n - Type safe fluent API\r\n - Type safe callbacks\r\n\r\n   &gt; Javassist advices or custom instrumentation code is based on code in a plain `String` thus type check and debugging is impossible within this code, while ByteBuddy allows to write those with pure Java hence enforces type checks and allows debugging.\r\n\r\n\r\n - Annotation driven (flexible)\r\n\r\n   &gt; The user callbacks can be configured with annotations allowing to receive the wanted parameters in the callback.\r\n\r\n - Available as an agent\r\n\r\n   &gt; The nifty agent builder allows ByteBuddy to be used as a pure agent or as attaching agent.\r\n\r\n   Note that since JDK 21, the JDK is gearing toward _integrity by default_, meaning that dynamic attachment will be disabled by default ([JEP-451][7]), for serviceability agent the adding `-XX:+EnableDynamicAgentLoading`, however for libraries that require an agent to work, they must be declared on the command line using `-javaagent:path/to/jar`.\r\n\r\n - Very well documented\r\n - Lots of example\r\n - Clean code, ~94% test coverage\r\n - Android DEX support\r\n \r\nThe main downside perhaps, would the API is a bit verbose for a beginner but it is designed as an opt-in API shaped as a proxy generation DSL ; there&#39;s no magic or questionable defaults. When manipulating byte code it is probably the most safe and the most reasonable choice. Also with multiple examples and a big tutorial this is not a real issue.\r\n\r\nIn October 2015 this projects received the [Oracle Duke&#39;s choice award][8]. The latest release at the time of this edit is [1.14.9][9], and ships with ASM 9.6 with preliminary JDK 22 support.\r\n\r\nNote that [tag:mockito] has replaced [CGLIB by Byte Buddy][10] in version 2.1.0.\r\n\r\n[The JDK&#39;s classfile API (JEP-456)][11]\r\n---------------------------------------\r\nThe authors of the JDK have been working on an API within the JDK, the JEP mentions the [java.lang.classfile][12] package.\r\n\r\nThe goal is to provide an API based on today&#39;s challenge for the JDK, as classfile is evolving faster than in 2002 when ASM was designed. THE JDK authors wanted to start from a fresh perspective when they created this API, instead of taking ownership of the old ASM codebase (A significant difference might be that ASM does very few allocations, while Classfile API might do a lot more, but the tradeoff are gained elsewhere ([source][13]).).\r\n\r\nAt the time of this edit the Classfile API JEP is not yet targeted for JDK 22, but is likely to land on the JDK at some point, in preview at first. \r\n\r\nThis API is an alternative to ASM, and may support additional features, but it won;t offer the higher level features that ByteBuddy provides, and certainly won&#39;t help for Android developers.\r\n\r\n[Javassist][14] [tag:javassist]\r\n------------------------------\r\nThe javadoc of Javassist is way better than that of CGLIB. The class engineering API is OK, but Javassist is not perfect either. In particular, the `ProxyFactory` which is the equivalent of the CGLIB&#39;s `Enhancer` suffer from some drawbacks too, just to list a few :\r\n\r\n - Bridge method are not fully supported (ie the one that are generated for covariant return types)\r\n - `ClassloaderProvider` is a static field instead, then it applies to all instances within the same classloader\r\n - Custom naming could have been welcome (with checks for signed jars)\r\n - There is no extension point and almost all methods of interest are private, which is cumbersome if we want to change some behavior\r\n - While Javassist offer support for annotation attributes in classes, they are not supported in `ProxyFactory`.\r\n\r\nOn the aspect oriented side, one can inject code in a proxy, but this approach in Javassist is limited and a bit error-prone :\r\n\r\n - aspect code is written in a plain Java String that is _compiled_ in opcodes\r\n - no type check\r\n - no generics\r\n - no lambda\r\n - no auto-(un)boxing\r\n\r\nAlso Javassist is recognized to be slower than Cglib. This is mainly due to its approach of reading class files instead of reading loaded classes such as CGLIB does. And the [implementation][15] itself is hard to read to be fair ; if one requires to make changes in the Javassist code there&#39;s many chances to break something.\r\n\r\nJavassist suffered from inactivity as well, their move to [github circa 2013][16] seem to have proven useful as it shows regular commits and pull requests from the community.\r\n\r\nThese limitations still stand in the version 3.17.1. Version has been bumped to version 3.20.0, yet it seems Javassist may still have issues with Java 8 support.\r\n\r\n[JiteScript][17]\r\n---------------\r\nJiteScript does seem like a new piece of nicely shaping up DSL for ASM, this is based on the latest ASM release (4.0). The code looks clean.\r\n\r\n**But** the project is still in his early age so API / behavior can change, plus the documentation is dire. And updates scarce if not abandoned.\r\n\r\n[Proxetta][18] [tag:jodd]\r\n------------------------\r\nThis is a rather new tool but it offers the by far best _human_ API. It allows for different types of proxies such as subclass proxies (cglib approach) or weaving or delegation.\r\n\r\nAlthough, this one is rather rare, no information exists if it works well. There are so many corner case to deal with when dealing with bytecode.\r\n\r\n[AspectJ][19] [tag:aspectj]\r\n--------------------------\r\nAspectJ is a very powerful tool for **aspect-oriented programming** (only). AspectJ manipulates byte code to achieve its goals such that you might be able to achieve your goals with it. However, this requires manipulation at compile-time; spring offer weaving at load time via an agent since version [2.5][20], [4.1.x][21].\r\n\r\n[CGLIB][22] [tag:cglib]\r\n-----------------------\r\n_A word about CGLIB that has been updated since that question has been asked._\r\n\r\nCGLIB is quite fast, it is one of the main reason why it is still around, along with the fact that CGLIB worked almost better than any alternatives until now (2014-2015).\r\n\r\nGenerally speaking libraries that allow the rewriting of classes at run time have to avoid loading any types before the corresponding class is rewritten. Therefore, they cannot make use of the Java reflection API which requires that any type used in reflection is loaded. Instead, they have to read the class files via IO (which is a performance-breaker). This makes for example Javassist or Proxetta significantly slower than Cglib which simply reads the methods via the reflection API and overrides them. \r\n\r\n&lt;s&gt;However, CGLIB is no longer under active development. There were recent releases but those changes were seen as insignificant by many and most people did never update to version 3 since CGLIB introduced some [severe bugs][23] in the last releases what did not really build up confidence.&lt;/s&gt; Version 3.1 fixed a lot of the woes of version 3.0 (since version 4.0.3 Spring framework repackages [version 3.1][24]).\r\n\r\nAlso, the CGLIB source code is of rather [poor quality][25] such that we do not see new developers joining the CGLIB project. For an impression of CGLIB&#39;s activeness, see their [mailing list][26].\r\n\r\nNote that following a [proposition on the guice mailing list][27], CGLIB is now available on [github][24] to enable the community to better help the project, it appears to be working (multiple commits and pull requests, ci, updated maven), yet most concerns still remain.\r\n\r\nAt this time there are working on version 3.2.0, and they are focusing effort on Java 8, but so far users that want that java 8 support have to use tricks at build time. But progress is very slow.\r\n\r\nAnd CGLIB is still known to be plagued for PermGen memory leak. But other projects may not have been battle tested for so many years.\r\n\r\n[Compile time annotation Processing][28] [tag:annotation-processing]\r\n--------------------------------------------------------------------\r\n_This one is not runtime of course, but is an important part of the ecosystem, and most code generation usage don&#39;t need runtime creation._\r\n\r\nThis started with Java 5 that came with the separate command line tool to process annotations : `apt`, and starting from Java 6 annotation processing is integrated into the Java compiler.\r\n\r\nAt some time you were required to explicitly pass the processor, now with the `ServiceLoader` approach  (just add this file `META-INF/services/javax.annotation.processing.Processor` to the jar)  the compiler can detect automatically the annotation processor.\r\n\r\nThis approach at code generation has drawbacks too it require a lot of work and understanding of the Java language not bytecode. This API is a bit cumbersome, and as one is plugin in the compiler one must take extreme care to make this code the most resilient and user friendly error message.\r\n\r\nThe biggest advantage here is that it avoids another dependency at runtime, you may avoid permgen memory leak. And one has full control on the generated code.\r\n\r\nNote that annotation processing in JDK 22 will need to be explicit (`-processor`, `--processor-path`, `--processor-module-path`, `-proc:only`, `-proc:full`) on the `javac` command line ([JDK-8306819][29]).\r\n\r\n\r\nConclusion\r\n----------\r\nIn [2002][30] CGLIB defined a new standard to manipulate bytecode with ease. Many tools and methodology we have nowadays (CI, coverage, TDD, etc.) were not available or not mature at that time. CGLIB managed to be relevant for more than a decade ; that&#39;s a groundbreaking achievement. It was fast and with an easy API to use rather than having to manipulate opcodes directly. \r\n\r\nIt defined new standard regarding code generation but nowadays it isn&#39;t anymore because environment and requirements have changed, so have the standards and goals. \r\n\r\nThe JVM changed and will change in recent and future Java (8 ... 11 ... 17 ... 21 ...) versions (invokedynamic, default methods, value types, pattern matching, panama, etc). ASM upgraded his API and internals regularly to follow these changes but CGLIB and others have yet to use them.\r\n\r\nWhile annotation processing is getting traction, it is not as flexible as runtime generation.\r\n\r\nAs of 2015, **Byte Buddy** — _while rather new on the scene_ — offer the most compelling _selling_ points for runtime generation. A decent update rate, and the author has an intimate knowledge of the Java byte code internals.\r\n\r\nAs of JDK 22, another interesting approach as a direct replacement of ASM would be the classfile API.\r\n\r\n\r\n  [1]: http://asm.ow2.org/\r\n  [2]: http://docs.oracle.com/javase/specs/\r\n  [3]: https://asm.ow2.io/asm4-guide.pdf\r\n  [4]: http://bytebuddy.net\r\n  [5]: http://zeroturnaround.com/rebellabs/testing-the-performance-of-4-java-runtime-code-generators-cglib-javassist-jdk-proxy-byte-buddy/\r\n  [6]: https://github.com/raphw/byte-buddy/tree/master/byte-buddy-benchmark/src/main/java/net/bytebuddy/benchmark\r\n  [7]: https://openjdk.org/jeps/451\r\n  [8]: https://www.oracle.com/corporate/pressrelease/dukes-award-102815.html\r\n  [9]: https://github.com/raphw/byte-buddy/blob/master/release-notes.md\r\n  [10]: https://github.com/mockito/mockito/pull/171\r\n  [11]: https://openjdk.org/jeps/457\r\n  [12]: https://cr.openjdk.org/~asotona/JDK-8308753-preview/api/java.base/java/lang/classfile/package-summary.html\r\n  [13]: https://www.youtube.com/watch?v=pcg-E_qyMOI\r\n  [14]: http://jboss-javassist.github.io/javassist/\r\n  [15]: https://github.com/jboss-javassist/javassist/blob/master/src/main/javassist/util/proxy/ProxyFactory.java\r\n  [16]: https://github.com/jboss-javassist/javassist/commit/651ccca561b933660a0a26139daa6e42911f866d\r\n  [17]: https://github.com/qmx/jitescript\r\n  [18]: http://jodd.org/doc/proxetta/\r\n  [19]: http://eclipse.org/aspectj/\r\n  [20]: http://docs.spring.io/spring/docs/2.5.x/reference/aop.html#aop-aj-ltw\r\n  [21]: http://docs.spring.io/spring/docs/4.1.x/spring-framework-reference/html/aop.html#aop-aj-ltw\r\n  [22]: https://github.com/cglib/cglib\r\n  [23]: http://sourceforge.net/p/cglib/bugs/\r\n  [24]: https://github.com/spring-projects/spring-framework/blob/master/build.gradle#L282\r\n  [25]: http://www.docjar.com/html/api/net/sf/cglib/proxy/Enhancer.java.html\r\n  [26]: http://sourceforge.net/p/cglib/mailman/cglib-devel/\r\n  [27]: https://groups.google.com/d/msg/google-guice/J8QCB3HNSEY/2YYB9ooRNTQJ\r\n  [28]: https://docs.oracle.com/javase/8/docs/api/javax/annotation/processing/Processor.html\r\n  [29]: https://bugs.openjdk.org/browse/JDK-8306819\r\n  [30]: http://sourceforge.net/projects/cglib/","title":"Are there alternatives to cglib?","body":"<h2><a href=\"http://asm.ow2.org/\" rel=\"nofollow noreferrer\">ASM</a> <a href=\"/questions/tagged/java-asm\" class=\"post-tag\" title=\"show questions tagged &#39;java-asm&#39;\" aria-label=\"show questions tagged &#39;java-asm&#39;\" rel=\"tag\" aria-labelledby=\"tag-java-asm-tooltip-container\">java-asm</a></h2>\n<p>CGLIB, ByteBuddy, kotlin compiler and almost all other libraries are built on top of ASM which itself acts on a very low level. This is a show-stopper for most people as you have to understand the byte code and a little bit of the <a href=\"http://docs.oracle.com/javase/specs/\" rel=\"nofollow noreferrer\">JVMS</a> to use it properly. But mastering ASM is most certainly very interesting. Note however that while there is a <strong>great</strong> <a href=\"https://asm.ow2.io/asm4-guide.pdf\" rel=\"nofollow noreferrer\">ASM 4 guide</a>, in some part of the API the javadoc documentation can be very concise if it is present at all, but it is being improved. It closely follows JVM versions to support new features, however it has a downside is cannot handle well byte codes from the next JDK release and as such may require to wait for a release supporting those.</p>\n<p>However, if you need full control, ASM is your weapon of choice.</p>\n<p>This project sees regular updates ; at the time of this edit version 9.6 was released on 30 September 2023, with supports for JDK 22 opcodes.</p>\n<h2><a href=\"http://bytebuddy.net\" rel=\"nofollow noreferrer\">Byte Buddy</a> <a href=\"/questions/tagged/byte-buddy\" class=\"post-tag\" title=\"show questions tagged &#39;byte-buddy&#39;\" aria-label=\"show questions tagged &#39;byte-buddy&#39;\" rel=\"tag\" aria-labelledby=\"tag-byte-buddy-tooltip-container\">byte-buddy</a></h2>\n<p>Byte Buddy is a rather new library but provides any functionality that CGLIB or Javassist provides and much more. Byte Buddy can be fully customised down to the byte code level and comes with an expressive domain specific language that allows for very readable code.</p>\n<ul>\n<li><p>It supports all JVM bytecode versions, including Java 8 semantic changes of some opcodes regarding default methods.</p>\n</li>\n<li><p>ByteBuddy don't seem to suffer from the drawbacks other libraries have</p>\n</li>\n<li><p>Highly configurable</p>\n</li>\n<li><p>Quite fast (<a href=\"http://zeroturnaround.com/rebellabs/testing-the-performance-of-4-java-runtime-code-generators-cglib-javassist-jdk-proxy-byte-buddy/\" rel=\"nofollow noreferrer\">benchmark</a> <a href=\"https://github.com/raphw/byte-buddy/tree/master/byte-buddy-benchmark/src/main/java/net/bytebuddy/benchmark\" rel=\"nofollow noreferrer\">code</a>)</p>\n</li>\n<li><p>Type safe fluent API</p>\n</li>\n<li><p>Type safe callbacks</p>\n<blockquote>\n<p>Javassist advices or custom instrumentation code is based on code in a plain <code>String</code> thus type check and debugging is impossible within this code, while ByteBuddy allows to write those with pure Java hence enforces type checks and allows debugging.</p>\n</blockquote>\n</li>\n<li><p>Annotation driven (flexible)</p>\n<blockquote>\n<p>The user callbacks can be configured with annotations allowing to receive the wanted parameters in the callback.</p>\n</blockquote>\n</li>\n<li><p>Available as an agent</p>\n<blockquote>\n<p>The nifty agent builder allows ByteBuddy to be used as a pure agent or as attaching agent.</p>\n</blockquote>\n<p>Note that since JDK 21, the JDK is gearing toward <em>integrity by default</em>, meaning that dynamic attachment will be disabled by default (<a href=\"https://openjdk.org/jeps/451\" rel=\"nofollow noreferrer\">JEP-451</a>), for serviceability agent the adding <code>-XX:+EnableDynamicAgentLoading</code>, however for libraries that require an agent to work, they must be declared on the command line using <code>-javaagent:path/to/jar</code>.</p>\n</li>\n<li><p>Very well documented</p>\n</li>\n<li><p>Lots of example</p>\n</li>\n<li><p>Clean code, ~94% test coverage</p>\n</li>\n<li><p>Android DEX support</p>\n</li>\n</ul>\n<p>The main downside perhaps, would the API is a bit verbose for a beginner but it is designed as an opt-in API shaped as a proxy generation DSL ; there's no magic or questionable defaults. When manipulating byte code it is probably the most safe and the most reasonable choice. Also with multiple examples and a big tutorial this is not a real issue.</p>\n<p>In October 2015 this projects received the <a href=\"https://www.oracle.com/corporate/pressrelease/dukes-award-102815.html\" rel=\"nofollow noreferrer\">Oracle Duke's choice award</a>. The latest release at the time of this edit is <a href=\"https://github.com/raphw/byte-buddy/blob/master/release-notes.md\" rel=\"nofollow noreferrer\">1.14.9</a>, and ships with ASM 9.6 with preliminary JDK 22 support.</p>\n<p>Note that <a href=\"/questions/tagged/mockito\" class=\"post-tag\" title=\"show questions tagged &#39;mockito&#39;\" aria-label=\"show questions tagged &#39;mockito&#39;\" rel=\"tag\" aria-labelledby=\"tag-mockito-tooltip-container\">mockito</a> has replaced <a href=\"https://github.com/mockito/mockito/pull/171\" rel=\"nofollow noreferrer\">CGLIB by Byte Buddy</a> in version 2.1.0.</p>\n<h2><a href=\"https://openjdk.org/jeps/457\" rel=\"nofollow noreferrer\">The JDK's classfile API (JEP-456)</a></h2>\n<p>The authors of the JDK have been working on an API within the JDK, the JEP mentions the <a href=\"https://cr.openjdk.org/%7Easotona/JDK-8308753-preview/api/java.base/java/lang/classfile/package-summary.html\" rel=\"nofollow noreferrer\">java.lang.classfile</a> package.</p>\n<p>The goal is to provide an API based on today's challenge for the JDK, as classfile is evolving faster than in 2002 when ASM was designed. THE JDK authors wanted to start from a fresh perspective when they created this API, instead of taking ownership of the old ASM codebase (A significant difference might be that ASM does very few allocations, while Classfile API might do a lot more, but the tradeoff are gained elsewhere (<a href=\"https://www.youtube.com/watch?v=pcg-E_qyMOI\" rel=\"nofollow noreferrer\">source</a>).).</p>\n<p>At the time of this edit the Classfile API JEP is not yet targeted for JDK 22, but is likely to land on the JDK at some point, in preview at first.</p>\n<p>This API is an alternative to ASM, and may support additional features, but it won;t offer the higher level features that ByteBuddy provides, and certainly won't help for Android developers.</p>\n<h2><a href=\"http://jboss-javassist.github.io/javassist/\" rel=\"nofollow noreferrer\">Javassist</a> <a href=\"/questions/tagged/javassist\" class=\"post-tag\" title=\"show questions tagged &#39;javassist&#39;\" aria-label=\"show questions tagged &#39;javassist&#39;\" rel=\"tag\" aria-labelledby=\"tag-javassist-tooltip-container\">javassist</a></h2>\n<p>The javadoc of Javassist is way better than that of CGLIB. The class engineering API is OK, but Javassist is not perfect either. In particular, the <code>ProxyFactory</code> which is the equivalent of the CGLIB's <code>Enhancer</code> suffer from some drawbacks too, just to list a few :</p>\n<ul>\n<li>Bridge method are not fully supported (ie the one that are generated for covariant return types)</li>\n<li><code>ClassloaderProvider</code> is a static field instead, then it applies to all instances within the same classloader</li>\n<li>Custom naming could have been welcome (with checks for signed jars)</li>\n<li>There is no extension point and almost all methods of interest are private, which is cumbersome if we want to change some behavior</li>\n<li>While Javassist offer support for annotation attributes in classes, they are not supported in <code>ProxyFactory</code>.</li>\n</ul>\n<p>On the aspect oriented side, one can inject code in a proxy, but this approach in Javassist is limited and a bit error-prone :</p>\n<ul>\n<li>aspect code is written in a plain Java String that is <em>compiled</em> in opcodes</li>\n<li>no type check</li>\n<li>no generics</li>\n<li>no lambda</li>\n<li>no auto-(un)boxing</li>\n</ul>\n<p>Also Javassist is recognized to be slower than Cglib. This is mainly due to its approach of reading class files instead of reading loaded classes such as CGLIB does. And the <a href=\"https://github.com/jboss-javassist/javassist/blob/master/src/main/javassist/util/proxy/ProxyFactory.java\" rel=\"nofollow noreferrer\">implementation</a> itself is hard to read to be fair ; if one requires to make changes in the Javassist code there's many chances to break something.</p>\n<p>Javassist suffered from inactivity as well, their move to <a href=\"https://github.com/jboss-javassist/javassist/commit/651ccca561b933660a0a26139daa6e42911f866d\" rel=\"nofollow noreferrer\">github circa 2013</a> seem to have proven useful as it shows regular commits and pull requests from the community.</p>\n<p>These limitations still stand in the version 3.17.1. Version has been bumped to version 3.20.0, yet it seems Javassist may still have issues with Java 8 support.</p>\n<h2><a href=\"https://github.com/qmx/jitescript\" rel=\"nofollow noreferrer\">JiteScript</a></h2>\n<p>JiteScript does seem like a new piece of nicely shaping up DSL for ASM, this is based on the latest ASM release (4.0). The code looks clean.</p>\n<p><strong>But</strong> the project is still in his early age so API / behavior can change, plus the documentation is dire. And updates scarce if not abandoned.</p>\n<h2><a href=\"http://jodd.org/doc/proxetta/\" rel=\"nofollow noreferrer\">Proxetta</a> <a href=\"/questions/tagged/jodd\" class=\"post-tag\" title=\"show questions tagged &#39;jodd&#39;\" aria-label=\"show questions tagged &#39;jodd&#39;\" rel=\"tag\" aria-labelledby=\"tag-jodd-tooltip-container\">jodd</a></h2>\n<p>This is a rather new tool but it offers the by far best <em>human</em> API. It allows for different types of proxies such as subclass proxies (cglib approach) or weaving or delegation.</p>\n<p>Although, this one is rather rare, no information exists if it works well. There are so many corner case to deal with when dealing with bytecode.</p>\n<h2><a href=\"http://eclipse.org/aspectj/\" rel=\"nofollow noreferrer\">AspectJ</a> <a href=\"/questions/tagged/aspectj\" class=\"post-tag\" title=\"show questions tagged &#39;aspectj&#39;\" aria-label=\"show questions tagged &#39;aspectj&#39;\" rel=\"tag\" aria-labelledby=\"tag-aspectj-tooltip-container\">aspectj</a></h2>\n<p>AspectJ is a very powerful tool for <strong>aspect-oriented programming</strong> (only). AspectJ manipulates byte code to achieve its goals such that you might be able to achieve your goals with it. However, this requires manipulation at compile-time; spring offer weaving at load time via an agent since version <a href=\"http://docs.spring.io/spring/docs/2.5.x/reference/aop.html#aop-aj-ltw\" rel=\"nofollow noreferrer\">2.5</a>, <a href=\"http://docs.spring.io/spring/docs/4.1.x/spring-framework-reference/html/aop.html#aop-aj-ltw\" rel=\"nofollow noreferrer\">4.1.x</a>.</p>\n<h2><a href=\"https://github.com/cglib/cglib\" rel=\"nofollow noreferrer\">CGLIB</a> <a href=\"/questions/tagged/cglib\" class=\"post-tag\" title=\"show questions tagged &#39;cglib&#39;\" aria-label=\"show questions tagged &#39;cglib&#39;\" rel=\"tag\" aria-labelledby=\"tag-cglib-tooltip-container\">cglib</a></h2>\n<p><em>A word about CGLIB that has been updated since that question has been asked.</em></p>\n<p>CGLIB is quite fast, it is one of the main reason why it is still around, along with the fact that CGLIB worked almost better than any alternatives until now (2014-2015).</p>\n<p>Generally speaking libraries that allow the rewriting of classes at run time have to avoid loading any types before the corresponding class is rewritten. Therefore, they cannot make use of the Java reflection API which requires that any type used in reflection is loaded. Instead, they have to read the class files via IO (which is a performance-breaker). This makes for example Javassist or Proxetta significantly slower than Cglib which simply reads the methods via the reflection API and overrides them.</p>\n<p><s>However, CGLIB is no longer under active development. There were recent releases but those changes were seen as insignificant by many and most people did never update to version 3 since CGLIB introduced some <a href=\"http://sourceforge.net/p/cglib/bugs/\" rel=\"nofollow noreferrer\">severe bugs</a> in the last releases what did not really build up confidence.</s> Version 3.1 fixed a lot of the woes of version 3.0 (since version 4.0.3 Spring framework repackages <a href=\"https://github.com/spring-projects/spring-framework/blob/master/build.gradle#L282\" rel=\"nofollow noreferrer\">version 3.1</a>).</p>\n<p>Also, the CGLIB source code is of rather <a href=\"http://www.docjar.com/html/api/net/sf/cglib/proxy/Enhancer.java.html\" rel=\"nofollow noreferrer\">poor quality</a> such that we do not see new developers joining the CGLIB project. For an impression of CGLIB's activeness, see their <a href=\"http://sourceforge.net/p/cglib/mailman/cglib-devel/\" rel=\"nofollow noreferrer\">mailing list</a>.</p>\n<p>Note that following a <a href=\"https://groups.google.com/d/msg/google-guice/J8QCB3HNSEY/2YYB9ooRNTQJ\" rel=\"nofollow noreferrer\">proposition on the guice mailing list</a>, CGLIB is now available on <a href=\"https://github.com/spring-projects/spring-framework/blob/master/build.gradle#L282\" rel=\"nofollow noreferrer\">github</a> to enable the community to better help the project, it appears to be working (multiple commits and pull requests, ci, updated maven), yet most concerns still remain.</p>\n<p>At this time there are working on version 3.2.0, and they are focusing effort on Java 8, but so far users that want that java 8 support have to use tricks at build time. But progress is very slow.</p>\n<p>And CGLIB is still known to be plagued for PermGen memory leak. But other projects may not have been battle tested for so many years.</p>\n<h2><a href=\"https://docs.oracle.com/javase/8/docs/api/javax/annotation/processing/Processor.html\" rel=\"nofollow noreferrer\">Compile time annotation Processing</a> <a href=\"/questions/tagged/annotation-processing\" class=\"post-tag\" title=\"show questions tagged &#39;annotation-processing&#39;\" aria-label=\"show questions tagged &#39;annotation-processing&#39;\" rel=\"tag\" aria-labelledby=\"tag-annotation-processing-tooltip-container\">annotation-processing</a></h2>\n<p><em>This one is not runtime of course, but is an important part of the ecosystem, and most code generation usage don't need runtime creation.</em></p>\n<p>This started with Java 5 that came with the separate command line tool to process annotations : <code>apt</code>, and starting from Java 6 annotation processing is integrated into the Java compiler.</p>\n<p>At some time you were required to explicitly pass the processor, now with the <code>ServiceLoader</code> approach  (just add this file <code>META-INF/services/javax.annotation.processing.Processor</code> to the jar)  the compiler can detect automatically the annotation processor.</p>\n<p>This approach at code generation has drawbacks too it require a lot of work and understanding of the Java language not bytecode. This API is a bit cumbersome, and as one is plugin in the compiler one must take extreme care to make this code the most resilient and user friendly error message.</p>\n<p>The biggest advantage here is that it avoids another dependency at runtime, you may avoid permgen memory leak. And one has full control on the generated code.</p>\n<p>Note that annotation processing in JDK 22 will need to be explicit (<code>-processor</code>, <code>--processor-path</code>, <code>--processor-module-path</code>, <code>-proc:only</code>, <code>-proc:full</code>) on the <code>javac</code> command line (<a href=\"https://bugs.openjdk.org/browse/JDK-8306819\" rel=\"nofollow noreferrer\">JDK-8306819</a>).</p>\n<h2>Conclusion</h2>\n<p>In <a href=\"http://sourceforge.net/projects/cglib/\" rel=\"nofollow noreferrer\">2002</a> CGLIB defined a new standard to manipulate bytecode with ease. Many tools and methodology we have nowadays (CI, coverage, TDD, etc.) were not available or not mature at that time. CGLIB managed to be relevant for more than a decade ; that's a groundbreaking achievement. It was fast and with an easy API to use rather than having to manipulate opcodes directly.</p>\n<p>It defined new standard regarding code generation but nowadays it isn't anymore because environment and requirements have changed, so have the standards and goals.</p>\n<p>The JVM changed and will change in recent and future Java (8 ... 11 ... 17 ... 21 ...) versions (invokedynamic, default methods, value types, pattern matching, panama, etc). ASM upgraded his API and internals regularly to follow these changes but CGLIB and others have yet to use them.</p>\n<p>While annotation processing is getting traction, it is not as flexible as runtime generation.</p>\n<p>As of 2015, <strong>Byte Buddy</strong> — <em>while rather new on the scene</em> — offer the most compelling <em>selling</em> points for runtime generation. A decent update rate, and the author has an intimate knowledge of the Java byte code internals.</p>\n<p>As of JDK 22, another interesting approach as a direct replacement of ASM would be the classfile API.</p>\n"},{"tags":[],"owner":{"account_id":3392449,"reputation":259,"user_id":2846997,"display_name":"jbaliuka"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1391368616,"creation_date":1391368616,"answer_id":21514992,"question_id":2261947,"body_markdown":"CGLIB was designed and implemented  more than ten years ago in AOP and ORM era. \r\nCurrently I see no reasons to use it and I do not maintain this library anymore (except bug fixes for my legacy applications ).\r\nActually all of CGLIB use cases I have ever saw are anti patterns in modern programming.\r\nIt should be trivial to implement the same functionality via any JVM scripting language e.g. groovy.","title":"Are there alternatives to cglib?","body":"<p>CGLIB was designed and implemented  more than ten years ago in AOP and ORM era. \nCurrently I see no reasons to use it and I do not maintain this library anymore (except bug fixes for my legacy applications ).\nActually all of CGLIB use cases I have ever saw are anti patterns in modern programming.\nIt should be trivial to implement the same functionality via any JVM scripting language e.g. groovy.</p>\n"}],"owner":{"account_id":700,"reputation":16953,"user_id":917,"accept_rate":44,"display_name":"Mauli"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22521,"favorite_count":0,"down_vote_count":4,"up_vote_count":68,"closed_date":1397211039,"accepted_answer_id":9823788,"answer_count":5,"score":64,"last_activity_date":1698933692,"creation_date":1266167548,"question_id":2261947,"body_markdown":"Just out of curiosity, are there any (stable) open source projects for runtime java code generation other than cglib? And why should I use them?","title":"Are there alternatives to cglib?","body":"<p>Just out of curiosity, are there any (stable) open source projects for runtime java code generation other than cglib? And why should I use them?</p>\n"},{"tags":["java","exception","agent"],"comments":[{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":0,"creation_date":1698932173,"post_id":77410015,"comment_id":136468889,"body_markdown":"See `Thread.setUncaughtExceptionHandler`","body":"See <code>Thread.setUncaughtExceptionHandler</code>"}],"answers":[{"tags":[],"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1698932416,"creation_date":1698932416,"answer_id":77410074,"question_id":77410015,"body_markdown":"[Thread.setUncaughtExceptionHandler][1]\r\n\r\n    Thread.setUncaughtExceptionHandler, new Thread.UncaughtExceptionHandler() {\r\n      void uncaughtException(Thread t, Throwable e) {\r\n        // record information about uncaught Exceptions and Errors here.\r\n      }\r\n    });\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/lang/Thread.html#setDefaultUncaughtExceptionHandler-java.lang.Thread.UncaughtExceptionHandler-","title":"collect metrics for uncaught exceptions in Java","body":"<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Thread.html#setDefaultUncaughtExceptionHandler-java.lang.Thread.UncaughtExceptionHandler-\" rel=\"nofollow noreferrer\">Thread.setUncaughtExceptionHandler</a></p>\n<pre><code>Thread.setUncaughtExceptionHandler, new Thread.UncaughtExceptionHandler() {\n  void uncaughtException(Thread t, Throwable e) {\n    // record information about uncaught Exceptions and Errors here.\n  }\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":401843,"reputation":89758,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698933572,"creation_date":1698933572,"answer_id":77410214,"question_id":77410015,"body_markdown":"Not really possible.\r\n\r\nThe problem is in the definition. Define &#39;uncaught exception&#39;.\r\n\r\n## Technical\r\n\r\nTechnically there&#39;s no such thing. Exceptions are always caught by something, eventually. They bubble up the stack, ending methods immediately, recursively applying that principle (end this method right now, going back to the method one up the stack. End that one right now, go back to the method one further up. Endlessly. Or until we hit a catch block, which __you always will__).\r\n\r\nThread itself will catch it if it has to. It then invokes the uncaught exception handler with it. You can configure it using `Thread.setUncaughtExceptionHandler`. There&#39;s no need to use agents to call that method.\r\n\r\nHowever, inject something as simple as, say, an appserver or web server, and usually their &#39;endpoint runner&#39; (the thing in the framework that invokes your code) will catch it all.\r\n\r\nSo, how do you define &#39;uncaught&#39;? Does an exception that bubbles up to the webserver endpoint runner count as &#39;uncaught&#39;?\r\n\r\nIf you say &#39;yes, that is uncaught&#39;, you have a few problems:\r\n\r\n1. You need specific knowledge and modify the webframework to figure this out. You&#39;d have to write it for every web framework or at least customize your &#39;uncaught exceptions counter&#39; for every appserver-ish thing your stack uses.\r\n\r\n2. This will also count, say, an IOException caused by the sender because they hung up the connection halfway through sending HTTP headers, and ServletExceptions - i.e. things that __are designed to be handled by the webserver endpoint runner__. I assume the point of this &#39;uncaught exceptions counting system&#39; is to find and eliminate such things, but then you have a false positive issue. These exceptions should absolutely not be &#39;handled&#39; - what is currently happening (that they end up at the webserver runner that handles them) is correct.\r\n\r\nIf you say &#39;no, that means they are handled&#39;, then your app is useless, as that means everything is handled. Because those endpoint runners catch Throwable. (and are correct in doing so).\r\n\r\nSo, the technical approach isn&#39;t feasible. Unless you just want to stop stack traces showing up on sysout. Then, just use `Thread.setUncaughtExceptionHandler`. JVMs start with an uncaught exception handler that just prints the exception type, message, trace, and causal chain to `System.err`. You can override it with one that does something else, no problem. Do it as first thing in your `void main()` method. No need to bother with agents.\r\n\r\n## Pragmatically\r\n\r\nInstead of trying to focus on some sort of technical definition, we can talk about what you actually mean by &#39;an unhandled exception&#39;, which is generally: An exception that code ought to be handling, but doesn&#39;t.\r\n\r\nThe problem is, that, as a concept, is completely unbound from anything you can technically measure. For example, take this code:\r\n\r\n```\r\npublic void saveGame() {\r\n  try {\r\n    Files.write(&quot;symersAwesomeGame001.sav&quot;, gameState.asBytes());\r\n  } catch (IOException e) {\r\n    e.printStackTrace();\r\n  }\r\n}\r\n```\r\n\r\nIf I take a microphone to a java conference, show them the above code, and ask: &quot;Soo, what do you say? Did the author of this code handle I/O exceptions?&quot;, the vast majority of respondents would give the correct answer. Which is __NO__ - that isn&#39;t appropriate at all.\r\n\r\nIf the aim is to find places where exception handling isn&#39;t proper, this is exactly the kind of thing you want to find. But it&#39;s the opposite of the technical definition: The exception __is__ being caught. But that&#39;s the problem: It&#39;s caught but not handled properly. The right move here is likely to make the `saveGame()` method declared as `throws IOException`, or possibly `throws SaveException`). Failing that, the catch block should read `throw new RuntimeException(&quot;unhandled&quot;, e);`.\r\n\r\nTrying to write an agent to catch this stuff is somewhat possible, if you posit that &#39;a catch block that just prints stack trace is just wrong, period&#39;. You can scan for that by parsing through class defs (scan the bytecode: Toss it through ASM or bytebuddy or some other bytecode introspection tool).\r\n\r\nHowever, this job is far better suited to source-code-level linting. A linter rule should be set up to disallow catch blocks that just `e.printStackTrace()`. An advantage of this is that you can set up some comment that opts out of the linter - for the very few cases what `e.printStackTrace();` is a well thought out correct answer (it _very rarely_ is, but situations exist, rare as they are, that it&#39;s right to do that).\r\n\r\n","title":"collect metrics for uncaught exceptions in Java","body":"<p>Not really possible.</p>\n<p>The problem is in the definition. Define 'uncaught exception'.</p>\n<h2>Technical</h2>\n<p>Technically there's no such thing. Exceptions are always caught by something, eventually. They bubble up the stack, ending methods immediately, recursively applying that principle (end this method right now, going back to the method one up the stack. End that one right now, go back to the method one further up. Endlessly. Or until we hit a catch block, which <strong>you always will</strong>).</p>\n<p>Thread itself will catch it if it has to. It then invokes the uncaught exception handler with it. You can configure it using <code>Thread.setUncaughtExceptionHandler</code>. There's no need to use agents to call that method.</p>\n<p>However, inject something as simple as, say, an appserver or web server, and usually their 'endpoint runner' (the thing in the framework that invokes your code) will catch it all.</p>\n<p>So, how do you define 'uncaught'? Does an exception that bubbles up to the webserver endpoint runner count as 'uncaught'?</p>\n<p>If you say 'yes, that is uncaught', you have a few problems:</p>\n<ol>\n<li><p>You need specific knowledge and modify the webframework to figure this out. You'd have to write it for every web framework or at least customize your 'uncaught exceptions counter' for every appserver-ish thing your stack uses.</p>\n</li>\n<li><p>This will also count, say, an IOException caused by the sender because they hung up the connection halfway through sending HTTP headers, and ServletExceptions - i.e. things that <strong>are designed to be handled by the webserver endpoint runner</strong>. I assume the point of this 'uncaught exceptions counting system' is to find and eliminate such things, but then you have a false positive issue. These exceptions should absolutely not be 'handled' - what is currently happening (that they end up at the webserver runner that handles them) is correct.</p>\n</li>\n</ol>\n<p>If you say 'no, that means they are handled', then your app is useless, as that means everything is handled. Because those endpoint runners catch Throwable. (and are correct in doing so).</p>\n<p>So, the technical approach isn't feasible. Unless you just want to stop stack traces showing up on sysout. Then, just use <code>Thread.setUncaughtExceptionHandler</code>. JVMs start with an uncaught exception handler that just prints the exception type, message, trace, and causal chain to <code>System.err</code>. You can override it with one that does something else, no problem. Do it as first thing in your <code>void main()</code> method. No need to bother with agents.</p>\n<h2>Pragmatically</h2>\n<p>Instead of trying to focus on some sort of technical definition, we can talk about what you actually mean by 'an unhandled exception', which is generally: An exception that code ought to be handling, but doesn't.</p>\n<p>The problem is, that, as a concept, is completely unbound from anything you can technically measure. For example, take this code:</p>\n<pre><code>public void saveGame() {\n  try {\n    Files.write(&quot;symersAwesomeGame001.sav&quot;, gameState.asBytes());\n  } catch (IOException e) {\n    e.printStackTrace();\n  }\n}\n</code></pre>\n<p>If I take a microphone to a java conference, show them the above code, and ask: &quot;Soo, what do you say? Did the author of this code handle I/O exceptions?&quot;, the vast majority of respondents would give the correct answer. Which is <strong>NO</strong> - that isn't appropriate at all.</p>\n<p>If the aim is to find places where exception handling isn't proper, this is exactly the kind of thing you want to find. But it's the opposite of the technical definition: The exception <strong>is</strong> being caught. But that's the problem: It's caught but not handled properly. The right move here is likely to make the <code>saveGame()</code> method declared as <code>throws IOException</code>, or possibly <code>throws SaveException</code>). Failing that, the catch block should read <code>throw new RuntimeException(&quot;unhandled&quot;, e);</code>.</p>\n<p>Trying to write an agent to catch this stuff is somewhat possible, if you posit that 'a catch block that just prints stack trace is just wrong, period'. You can scan for that by parsing through class defs (scan the bytecode: Toss it through ASM or bytebuddy or some other bytecode introspection tool).</p>\n<p>However, this job is far better suited to source-code-level linting. A linter rule should be set up to disallow catch blocks that just <code>e.printStackTrace()</code>. An advantage of this is that you can set up some comment that opts out of the linter - for the very few cases what <code>e.printStackTrace();</code> is a well thought out correct answer (it <em>very rarely</em> is, but situations exist, rare as they are, that it's right to do that).</p>\n"}],"owner":{"account_id":28635645,"reputation":1,"user_id":21925846,"display_name":"sym er"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1698933572,"creation_date":1698931866,"question_id":77410015,"body_markdown":"I want to collect metrics for those uncaught exceptions, I do it by a java agent ,So Which class should I enhance? \r\nIf I want to collect those exceptions may I just enhance the constructor of exception ,but how could I pick those uncaught exception?","title":"collect metrics for uncaught exceptions in Java","body":"<p>I want to collect metrics for those uncaught exceptions, I do it by a java agent ,So Which class should I enhance?\nIf I want to collect those exceptions may I just enhance the constructor of exception ,but how could I pick those uncaught exception?</p>\n"},{"tags":["java","httpclient","sslhandshakeexception"],"comments":[{"owner":{"account_id":15387,"reputation":63710,"user_id":32453,"accept_rate":92,"display_name":"rogerdpack"},"score":0,"creation_date":1614106768,"post_id":30078081,"comment_id":117282434,"body_markdown":"Does this answer your question? [How to ignore SSL certificate errors in Apache HttpClient 4.0](https://stackoverflow.com/questions/2703161/how-to-ignore-ssl-certificate-errors-in-apache-httpclient-4-0)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/2703161/how-to-ignore-ssl-certificate-errors-in-apache-httpclient-4-0\">How to ignore SSL certificate errors in Apache HttpClient 4.0</a>"},{"owner":{"account_id":1796872,"reputation":151,"user_id":1636101,"accept_rate":40,"display_name":"NeoRamza"},"score":0,"creation_date":1647018633,"post_id":30078081,"comment_id":126275570,"body_markdown":"I solved this problem generating a new Cacerts file and adding it to java trustStore.","body":"I solved this problem generating a new Cacerts file and adding it to java trustStore."}],"answers":[{"tags":[],"owner":{"account_id":3204517,"reputation":4873,"user_id":2924323,"accept_rate":96,"display_name":"Ramesh-X"},"down_vote_count":0,"up_vote_count":25,"is_accepted":true,"score":25,"last_activity_date":1698933462,"creation_date":1431011346,"answer_id":30105045,"question_id":30078081,"body_markdown":"### `TrustSelfSignedStrategy` approach\r\n\r\nThe problem was solved when I used a [TrustSelfSignedStrategy][1] object as the Trust material to [HttpClient][2].\r\n\r\n            httpClient = HttpClients.custom()\r\n                .setSSLSocketFactory(new SSLConnectionSocketFactory(SSLContexts.custom()\r\n                        .loadTrustMaterial(null, new TrustSelfSignedStrategy())\r\n                        .build()\r\n                    )\r\n                ).build();\r\n\r\n### `TrustAllStrategy` approach\r\n\r\nIf the above does not work, for example because the certificate served by the server is not a self-signed certificate but just untrusted for other reasons (for example, hostname mismatch), this is an even more brutal approach. **Do not** use this in production, since it will blindly trust _all_ certificates. This is typically only useful for unit/integration test and other similar scenarios.\r\n\r\n            httpClient = HttpClients.custom()\r\n                .setSSLSocketFactory(new SSLConnectionSocketFactory(SSLContexts.custom()\r\n                        .loadTrustMaterial(null, new TrustAllStrategy())\r\n                        .build()\r\n                    )\r\n                ).build();\r\n\r\n\r\n  [1]: http://hc.apache.org/httpcomponents-client-4.3.x/httpclient/apidocs/org/apache/http/conn/ssl/TrustSelfSignedStrategy.html\r\n  [2]: http://hc.apache.org/httpcomponents-client-4.3.x/httpclient/apidocs/org/apache/http/impl/client/CloseableHttpClient.html","title":"Unable to find valid certification path to requested target - java","body":"<h3><code>TrustSelfSignedStrategy</code> approach</h3>\n<p>The problem was solved when I used a <a href=\"http://hc.apache.org/httpcomponents-client-4.3.x/httpclient/apidocs/org/apache/http/conn/ssl/TrustSelfSignedStrategy.html\" rel=\"nofollow noreferrer\">TrustSelfSignedStrategy</a> object as the Trust material to <a href=\"http://hc.apache.org/httpcomponents-client-4.3.x/httpclient/apidocs/org/apache/http/impl/client/CloseableHttpClient.html\" rel=\"nofollow noreferrer\">HttpClient</a>.</p>\n<pre><code>        httpClient = HttpClients.custom()\n            .setSSLSocketFactory(new SSLConnectionSocketFactory(SSLContexts.custom()\n                    .loadTrustMaterial(null, new TrustSelfSignedStrategy())\n                    .build()\n                )\n            ).build();\n</code></pre>\n<h3><code>TrustAllStrategy</code> approach</h3>\n<p>If the above does not work, for example because the certificate served by the server is not a self-signed certificate but just untrusted for other reasons (for example, hostname mismatch), this is an even more brutal approach. <strong>Do not</strong> use this in production, since it will blindly trust <em>all</em> certificates. This is typically only useful for unit/integration test and other similar scenarios.</p>\n<pre><code>        httpClient = HttpClients.custom()\n            .setSSLSocketFactory(new SSLConnectionSocketFactory(SSLContexts.custom()\n                    .loadTrustMaterial(null, new TrustAllStrategy())\n                    .build()\n                )\n            ).build();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":959904,"reputation":1745,"user_id":984500,"accept_rate":0,"display_name":"greensuisse"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1506440815,"creation_date":1506440815,"answer_id":46430815,"question_id":30078081,"body_markdown":"For HttpClient4.x, the following will trust all\r\n\r\n    public static HttpClientBuilder createTrustAllHttpClientBuilder() {\r\n      SSLContextBuilder builder = new SSLContextBuilder();\r\n      builder.loadTrustMaterial(null, (chain, authType) -&gt; true);\t\t\t\r\n      SSLConnectionSocketFactory sslsf = new \r\n      SSLConnectionSocketFactory(builder.build(), NoopHostnameVerifier.INSTANCE);\r\n      return HttpClients.custom().setSSLSocketFactory(sslsf);\r\n    }","title":"Unable to find valid certification path to requested target - java","body":"<p>For HttpClient4.x, the following will trust all</p>\n\n<pre><code>public static HttpClientBuilder createTrustAllHttpClientBuilder() {\n  SSLContextBuilder builder = new SSLContextBuilder();\n  builder.loadTrustMaterial(null, (chain, authType) -&gt; true);           \n  SSLConnectionSocketFactory sslsf = new \n  SSLConnectionSocketFactory(builder.build(), NoopHostnameVerifier.INSTANCE);\n  return HttpClients.custom().setSSLSocketFactory(sslsf);\n}\n</code></pre>\n"}],"owner":{"account_id":3204517,"reputation":4873,"user_id":2924323,"accept_rate":96,"display_name":"Ramesh-X"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27748,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"accepted_answer_id":30105045,"answer_count":2,"score":16,"last_activity_date":1698933462,"creation_date":1430918541,"question_id":30078081,"body_markdown":"I&#39;m trying to connect to a website using a [HttpClient][1] object. It works fine for websites we normally use(Like google). But there is a web site, when I try to connect, my program gives this error..\r\n\r\n    javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n\tat sun.security.ssl.Alerts.getSSLException(Alerts.java:192)\r\n\tat sun.security.ssl.SSLSocketImpl.fatal(SSLSocketImpl.java:1917)\r\n\tat sun.security.ssl.Handshaker.fatalSE(Handshaker.java:301)\r\n\tat sun.security.ssl.Handshaker.fatalSE(Handshaker.java:295)\r\n\tat sun.security.ssl.ClientHandshaker.serverCertificate(ClientHandshaker.java:1369)\r\n\t....................\r\n    Caused by: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n\tat sun.security.validator.PKIXValidator.doBuild(PKIXValidator.java:387)\r\n\tat sun.security.validator.PKIXValidator.engineValidate(PKIXValidator.java:292)\r\n\tat sun.security.validator.Validator.validate(Validator.java:260)\r\n\t...............\r\n\r\n    Caused by: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n\tat sun.security.provider.certpath.SunCertPathBuilder.build(SunCertPathBuilder.java:145)\r\n\tat sun.security.provider.certpath.SunCertPathBuilder.engineBuild(SunCertPathBuilder.java:131)\r\n\tat java.security.cert.CertPathBuilder.build(CertPathBuilder.java:280)\r\n\tat sun.security.validator.PKIXValidator.doBuild(PKIXValidator.java:382)\r\n\t... 27 more\r\n\r\n\r\nWhen I try to go to this url from the browser, I have to click **continue anyway**. Otherwise browser will not load the page. It gives a **privacy error** saying **your connection is not private**.\r\n\r\nHow can I overcome this problem in my java application..? I want my software to connect with that url without any error or without asking any confirmation.\r\n\r\n  [1]: http://hc.apache.org/httpcomponents-client-4.3.x/httpclient/apidocs/org/apache/http/impl/client/DefaultHttpClient.html","title":"Unable to find valid certification path to requested target - java","body":"<p>I'm trying to connect to a website using a <a href=\"http://hc.apache.org/httpcomponents-client-4.3.x/httpclient/apidocs/org/apache/http/impl/client/DefaultHttpClient.html\">HttpClient</a> object. It works fine for websites we normally use(Like google). But there is a web site, when I try to connect, my program gives this error..</p>\n\n<pre><code>javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\nat sun.security.ssl.Alerts.getSSLException(Alerts.java:192)\nat sun.security.ssl.SSLSocketImpl.fatal(SSLSocketImpl.java:1917)\nat sun.security.ssl.Handshaker.fatalSE(Handshaker.java:301)\nat sun.security.ssl.Handshaker.fatalSE(Handshaker.java:295)\nat sun.security.ssl.ClientHandshaker.serverCertificate(ClientHandshaker.java:1369)\n....................\nCaused by: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\nat sun.security.validator.PKIXValidator.doBuild(PKIXValidator.java:387)\nat sun.security.validator.PKIXValidator.engineValidate(PKIXValidator.java:292)\nat sun.security.validator.Validator.validate(Validator.java:260)\n...............\n\nCaused by: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\nat sun.security.provider.certpath.SunCertPathBuilder.build(SunCertPathBuilder.java:145)\nat sun.security.provider.certpath.SunCertPathBuilder.engineBuild(SunCertPathBuilder.java:131)\nat java.security.cert.CertPathBuilder.build(CertPathBuilder.java:280)\nat sun.security.validator.PKIXValidator.doBuild(PKIXValidator.java:382)\n... 27 more\n</code></pre>\n\n<p>When I try to go to this url from the browser, I have to click <strong>continue anyway</strong>. Otherwise browser will not load the page. It gives a <strong>privacy error</strong> saying <strong>your connection is not private</strong>.</p>\n\n<p>How can I overcome this problem in my java application..? I want my software to connect with that url without any error or without asking any confirmation.</p>\n"},{"tags":["java","spring-boot","jpa","memory","crud-repository"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1698861459,"post_id":77404595,"comment_id":136459696,"body_markdown":"Do you have a transaction going? Most JPA calls won&#39;t do anything (storing the requested changes in the context) until they are tied to a transaction and then the transaction is committed.","body":"Do you have a transaction going? Most JPA calls won&#39;t do anything (storing the requested changes in the context) until they are tied to a transaction and then the transaction is committed."},{"owner":{"account_id":12010290,"reputation":145,"user_id":8787267,"display_name":"Diego Izquierdo Dussan"},"score":0,"creation_date":1698869193,"post_id":77404595,"comment_id":136460884,"body_markdown":"it is not the deleteBy  a transaction?","body":"it is not the deleteBy  a transaction?"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1698874830,"post_id":77404595,"comment_id":136461672,"body_markdown":"Show your entities. if not loading some of the relationships &#39;fixes&#39; things, then you likely have some cascade persist/merge operation over relationships resurrecting the entity you are trying to remove.","body":"Show your entities. if not loading some of the relationships &#39;fixes&#39; things, then you likely have some cascade persist/merge operation over relationships resurrecting the entity you are trying to remove."},{"owner":{"account_id":12010290,"reputation":145,"user_id":8787267,"display_name":"Diego Izquierdo Dussan"},"score":0,"creation_date":1698875775,"post_id":77404595,"comment_id":136461781,"body_markdown":"archivos just have the relation i just add to the code","body":"archivos just have the relation i just add to the code"},{"owner":{"account_id":12010290,"reputation":145,"user_id":8787267,"display_name":"Diego Izquierdo Dussan"},"score":0,"creation_date":1698895892,"post_id":77404595,"comment_id":136463489,"body_markdown":"I had to use native query deleting \n@Query(value = &quot;DELETE FROM ARCHIVOS a WHERE a.ARCH_ID = :archId&quot;, nativeQuery = true)","body":"I had to use native query deleting  @Query(value = &quot;DELETE FROM ARCHIVOS a WHERE a.ARCH_ID = :archId&quot;, nativeQuery = true)"}],"answers":[{"tags":[],"owner":{"account_id":29760768,"reputation":16,"user_id":22808415,"display_name":"MAHADEV CHAURASIYA"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698862014,"creation_date":1698862014,"answer_id":77404715,"question_id":77404595,"body_markdown":"It looks like that issue may be related to the way your JPA entities and the associated relationships are mapped in your Spring Boot application. When you uncomment the for loop inside the validarArchivoDeUsuario method, it&#39;s possible that the associated entities and relationships are loaded, and the delete operation works as expected.\r\n\r\ntry with apply the @Transactional annotation to your delete method\r\n\r\n    @Transactional\r\n    public RespuestaVo delete(Integer archId) {\r\n        RespuestaVo respuestaVo = new RespuestaVo();\r\n\r\n        try {\r\n            // ... Add your existing code ...\r\n\r\n            respuestaVo = new RespuestaVo(201, HttpStatus.OK, &quot;El archivo ha sido eliminado con &#233;xito.&quot;);\r\n            iArchivosDao.deleteById(archId);\r\n\r\n        } catch (Exception ex) {\r\n            // ... your existing error handling ...\r\n        }\r\n        return respuestaVo;\r\n    }","title":"jpaRepository delete() or deleteById() don&#180;t works, springBoot","body":"<p>It looks like that issue may be related to the way your JPA entities and the associated relationships are mapped in your Spring Boot application. When you uncomment the for loop inside the validarArchivoDeUsuario method, it's possible that the associated entities and relationships are loaded, and the delete operation works as expected.</p>\n<p>try with apply the @Transactional annotation to your delete method</p>\n<pre><code>@Transactional\npublic RespuestaVo delete(Integer archId) {\n    RespuestaVo respuestaVo = new RespuestaVo();\n\n    try {\n        // ... Add your existing code ...\n\n        respuestaVo = new RespuestaVo(201, HttpStatus.OK, &quot;El archivo ha sido eliminado con éxito.&quot;);\n        iArchivosDao.deleteById(archId);\n\n    } catch (Exception ex) {\n        // ... your existing error handling ...\n    }\n    return respuestaVo;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25583936,"reputation":76,"user_id":19361968,"display_name":"Murat K."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698875306,"creation_date":1698875306,"answer_id":77405807,"question_id":77404595,"body_markdown":"For me it looks like, for loop can not find the record and can not delete it. \r\nPlease try this: \r\n```\r\nfor (Emprendimientos emprendimiento: emprendimientos) {\r\n    for (Archivos archivo: emprendimiento.getArchivosCollection()) {\r\n        if (archivo.getArchId().equals(Integer.valueOf(archId))) {\r\n            // Check if the record exists\r\n            if (iArchivosDao.findById(archId).isPresent()) {\r\n                // Delete the record\r\n                iArchivosDao.deleteById(archId);\r\n                return true;\r\n            } else {\r\n                // The record does not exist\r\n                return false;\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nAnd do not forget **@Transactional** annotation because you are modifying the database. ","title":"jpaRepository delete() or deleteById() don&#180;t works, springBoot","body":"<p>For me it looks like, for loop can not find the record and can not delete it.\nPlease try this:</p>\n<pre><code>for (Emprendimientos emprendimiento: emprendimientos) {\n    for (Archivos archivo: emprendimiento.getArchivosCollection()) {\n        if (archivo.getArchId().equals(Integer.valueOf(archId))) {\n            // Check if the record exists\n            if (iArchivosDao.findById(archId).isPresent()) {\n                // Delete the record\n                iArchivosDao.deleteById(archId);\n                return true;\n            } else {\n                // The record does not exist\n                return false;\n            }\n        }\n    }\n}\n</code></pre>\n<p>And do not forget <strong>@Transactional</strong> annotation because you are modifying the database.</p>\n"},{"tags":[],"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698933272,"creation_date":1698933272,"answer_id":77410178,"question_id":77404595,"body_markdown":"Issue is with your cascade options on the archivosCollection mapping, specifically cascade PERSIST (included in CascadeType.ALL). You are deleting an instance of Archivos but leaving an instance of Emprendimientos in the same persistence unit still referencing it. JPA will process your delete request, but when it comes to checking the managed Emprendimientos instance, JPA will find that same reference and is required to persist it back in, undoing your delete operation. \r\n\r\nYou should be removing this and any other references to this Archivos before deleting it. If you don&#39;t, you may find similar behavior at odd times, and doing so will give your application the chance and places to put callbacks to clear caches should caching be implemented later on. \r\n\r\nYou&#39;ve already got one solution - by directly calling a native query you are forcing the delete statement directly to the database. JPA will still believe though that the Archivos it has in the cache exists and won&#39;t try to re-insert it - for now anyway. You&#39;ll want to ensure that any cached instance of Emprendimientos is cleared and re-read from the database after commit or you risk having that stale data re-inserted later on. \r\n\r\nAlterantively, you can just remove the cascadeType.PERSIST from the relationship:\r\n\r\n    @OneToMany(cascade = CascadeType.DELETE, mappedBy = &quot;emprId&quot;)\r\n    private Collection&lt;Archivos&gt; archivosCollection;\r\n\r\nOnly use cascade operations where you are sure you must - in most situations it is easier to make a manual archivosCollection.forEach(arch -&gt; em.persist(arch)); than it is to deal with not having the operation cascade. \r\n\r\nThird option, the one I would recommend in most situations, is to maintain the bidirectional relationship. Since you are deleting Archivos, you should clear out any references to it. There are performance reasons sometimes not to do so; the default way to do so might be to call\r\n\r\n    if (null != archivos.emprId) {\r\n      archivos.emprId.archivosCollection.remove(archivos);\r\n    }\r\n\r\nWhich if everything isn&#39;t already loaded, might force a bunch of SQL queries. This can be tempered by checking if the relationships are loaded already with isLoaded checks:\r\n\r\n    if (null != archivos.emprId) {\r\n      if (Persistence.getPersistenceUtil().isLoaded(archivos.emprId, &quot;archivosCollection&quot;) ) {\r\n        archivos.emprId.archivosCollection.remove(archivos);\r\n      }\r\n    }\r\n\r\n","title":"jpaRepository delete() or deleteById() don&#180;t works, springBoot","body":"<p>Issue is with your cascade options on the archivosCollection mapping, specifically cascade PERSIST (included in CascadeType.ALL). You are deleting an instance of Archivos but leaving an instance of Emprendimientos in the same persistence unit still referencing it. JPA will process your delete request, but when it comes to checking the managed Emprendimientos instance, JPA will find that same reference and is required to persist it back in, undoing your delete operation.</p>\n<p>You should be removing this and any other references to this Archivos before deleting it. If you don't, you may find similar behavior at odd times, and doing so will give your application the chance and places to put callbacks to clear caches should caching be implemented later on.</p>\n<p>You've already got one solution - by directly calling a native query you are forcing the delete statement directly to the database. JPA will still believe though that the Archivos it has in the cache exists and won't try to re-insert it - for now anyway. You'll want to ensure that any cached instance of Emprendimientos is cleared and re-read from the database after commit or you risk having that stale data re-inserted later on.</p>\n<p>Alterantively, you can just remove the cascadeType.PERSIST from the relationship:</p>\n<pre><code>@OneToMany(cascade = CascadeType.DELETE, mappedBy = &quot;emprId&quot;)\nprivate Collection&lt;Archivos&gt; archivosCollection;\n</code></pre>\n<p>Only use cascade operations where you are sure you must - in most situations it is easier to make a manual archivosCollection.forEach(arch -&gt; em.persist(arch)); than it is to deal with not having the operation cascade.</p>\n<p>Third option, the one I would recommend in most situations, is to maintain the bidirectional relationship. Since you are deleting Archivos, you should clear out any references to it. There are performance reasons sometimes not to do so; the default way to do so might be to call</p>\n<pre><code>if (null != archivos.emprId) {\n  archivos.emprId.archivosCollection.remove(archivos);\n}\n</code></pre>\n<p>Which if everything isn't already loaded, might force a bunch of SQL queries. This can be tempered by checking if the relationships are loaded already with isLoaded checks:</p>\n<pre><code>if (null != archivos.emprId) {\n  if (Persistence.getPersistenceUtil().isLoaded(archivos.emprId, &quot;archivosCollection&quot;) ) {\n    archivos.emprId.archivosCollection.remove(archivos);\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":12010290,"reputation":145,"user_id":8787267,"display_name":"Diego Izquierdo Dussan"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1698933272,"creation_date":1698860700,"question_id":77404595,"body_markdown":"I need to delete an Archivo record and I have the next case. I am having problems to delete using detele() and deleteById() the code is doing nothing.\r\n\r\nthe next one is the main code:\r\n\r\n    @Override\r\n    public RespuestaVo delete(Integer archId) {\r\n        RespuestaVo respuestaVo = new RespuestaVo();\r\n\r\n        try {\r\n           if (!validarArchivoDeUsuario(archId)){\r\n                respuestaVo = new RespuestaVo(401, HttpStatus.UNAUTHORIZED, &quot;Acceso a recursos no autorizado.&quot;);\r\n                return respuestaVo;\r\n            }\r\n            respuestaVo = new RespuestaVo(201, HttpStatus.OK, &quot;El archivo ha sido eliminado con &#233;xito.&quot;);\r\n            iArchivosDao.deleteById(archId);\r\n\r\n        } catch (Exception ex) {\r\n            respuestaVo = new RespuestaVo(400, HttpStatus.BAD_REQUEST, &quot;No ha sido posible eliminar el archivo, int&#233;ntelo m&#225;s tarde.&quot;);\r\n            Logger.getLogger(LogosEmprendimientosServiceImpl.class.getName()).log(Level.SEVERE, null, ex);\r\n        }\r\n        return respuestaVo;\r\n    }\r\nThis code use a method call &quot;validarArchivoDeUsuario()&quot; it is use just to validate if the archivo ouns to the user. this method do what it have to do.\r\n\r\n     private boolean validarArchivoDeUsuario(int archId) {\r\n        Personas persona = new Personas();\r\n        persona = jwtProvider.getUserID();\r\n        List&lt;Emprendimientos&gt; emprendimientos;\r\n\r\n        emprendimientos =  iEmprendimientosDao.findByPersIdAndEmprEstado(persona, ACTIVO);\r\n        for (Emprendimientos emprendimiento: emprendimientos){\r\n            for (Archivos archivo: emprendimiento.getArchivosCollection()){\r\n                if (archivo.getArchId().equals(Integer.valueOf(archId))){\r\n                    return true;\r\n                }\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\nIf I use the code like is now it go to the validation then go to the iArchivosDao.deleteById(archId); line but it dont do anything.(nothing in log) \r\n\r\nBut if I comment the &quot;for&quot; inside validarArchivoDeUsuario and hardcode the return true like next code. it also goes to iArchivosDao.deleteById(archId); line but in this case it deletes the record:\r\n\r\nlog:  org.hibernate.SQL                        : delete from archivos where arch_id=?\r\nHibernate: delete from archivos where arch_id=?\r\n\r\n \r\n\r\n    private boolean validarArchivoDeUsuario(int archId) {\r\n        Personas persona = new Personas();\r\n        persona = jwtProvider.getUserID();\r\n        List&lt;Emprendimientos&gt; emprendimientos;\r\n\r\n        emprendimientos =  iEmprendimientosDao.findByPersIdAndEmprEstado(persona, ACTIVO);\r\n        /*for (Emprendimientos emprendimiento: emprendimientos){\r\n            for (Archivos archivo: emprendimiento.getArchivosCollection()){\r\n                if (archivo.getArchId().equals(Integer.valueOf(archId))){\r\n                    return true;\r\n                }\r\n            }\r\n        }*/\r\n        return true;\r\n    }\r\nLooks like some in here affect the delete. I try setting emprendimientos , archivo, emprendimiento to null before return true but didn&#39;t work \r\n\r\n\r\nEmprendimientos.java\r\n...\r\n\r\n    @OneToMany(cascade = CascadeType.ALL, mappedBy = &quot;emprId&quot;)\r\n    private Collection&lt;Archivos&gt; archivosCollection;\r\n\r\n...\r\n\r\nArchivos.java\r\n...\r\n\r\n    @Entity\r\n    @Table(name = &quot;ARCHIVOS&quot;)\r\n    @Data\r\n    public class Archivos {\r\n    ...\r\n\r\n    @JsonBackReference(&quot;emprId-Archivo&quot;)\r\n    @JoinColumn(name = &quot;EMPR_ID&quot;, referencedColumnName = &quot;EMPR_ID&quot;)\r\n    @ManyToOne(optional = false)\r\n    priva\r\n\r\nte Emprendimientos emprId;\r\n\r\n...\r\n\r\n\r\n\r\nThanks for your healt!\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/fxHgW.png","title":"jpaRepository delete() or deleteById() don&#180;t works, springBoot","body":"<p>I need to delete an Archivo record and I have the next case. I am having problems to delete using detele() and deleteById() the code is doing nothing.</p>\n<p>the next one is the main code:</p>\n<pre><code>@Override\npublic RespuestaVo delete(Integer archId) {\n    RespuestaVo respuestaVo = new RespuestaVo();\n\n    try {\n       if (!validarArchivoDeUsuario(archId)){\n            respuestaVo = new RespuestaVo(401, HttpStatus.UNAUTHORIZED, &quot;Acceso a recursos no autorizado.&quot;);\n            return respuestaVo;\n        }\n        respuestaVo = new RespuestaVo(201, HttpStatus.OK, &quot;El archivo ha sido eliminado con éxito.&quot;);\n        iArchivosDao.deleteById(archId);\n\n    } catch (Exception ex) {\n        respuestaVo = new RespuestaVo(400, HttpStatus.BAD_REQUEST, &quot;No ha sido posible eliminar el archivo, inténtelo más tarde.&quot;);\n        Logger.getLogger(LogosEmprendimientosServiceImpl.class.getName()).log(Level.SEVERE, null, ex);\n    }\n    return respuestaVo;\n}\n</code></pre>\n<p>This code use a method call &quot;validarArchivoDeUsuario()&quot; it is use just to validate if the archivo ouns to the user. this method do what it have to do.</p>\n<pre><code> private boolean validarArchivoDeUsuario(int archId) {\n    Personas persona = new Personas();\n    persona = jwtProvider.getUserID();\n    List&lt;Emprendimientos&gt; emprendimientos;\n\n    emprendimientos =  iEmprendimientosDao.findByPersIdAndEmprEstado(persona, ACTIVO);\n    for (Emprendimientos emprendimiento: emprendimientos){\n        for (Archivos archivo: emprendimiento.getArchivosCollection()){\n            if (archivo.getArchId().equals(Integer.valueOf(archId))){\n                return true;\n            }\n        }\n    }\n    return false;\n}\n</code></pre>\n<p>If I use the code like is now it go to the validation then go to the iArchivosDao.deleteById(archId); line but it dont do anything.(nothing in log)</p>\n<p>But if I comment the &quot;for&quot; inside validarArchivoDeUsuario and hardcode the return true like next code. it also goes to iArchivosDao.deleteById(archId); line but in this case it deletes the record:</p>\n<p>log:  org.hibernate.SQL                        : delete from archivos where arch_id=?\nHibernate: delete from archivos where arch_id=?</p>\n<pre><code>private boolean validarArchivoDeUsuario(int archId) {\n    Personas persona = new Personas();\n    persona = jwtProvider.getUserID();\n    List&lt;Emprendimientos&gt; emprendimientos;\n\n    emprendimientos =  iEmprendimientosDao.findByPersIdAndEmprEstado(persona, ACTIVO);\n    /*for (Emprendimientos emprendimiento: emprendimientos){\n        for (Archivos archivo: emprendimiento.getArchivosCollection()){\n            if (archivo.getArchId().equals(Integer.valueOf(archId))){\n                return true;\n            }\n        }\n    }*/\n    return true;\n}\n</code></pre>\n<p>Looks like some in here affect the delete. I try setting emprendimientos , archivo, emprendimiento to null before return true but didn't work</p>\n<p>Emprendimientos.java\n...</p>\n<pre><code>@OneToMany(cascade = CascadeType.ALL, mappedBy = &quot;emprId&quot;)\nprivate Collection&lt;Archivos&gt; archivosCollection;\n</code></pre>\n<p>...</p>\n<p>Archivos.java\n...</p>\n<pre><code>@Entity\n@Table(name = &quot;ARCHIVOS&quot;)\n@Data\npublic class Archivos {\n...\n\n@JsonBackReference(&quot;emprId-Archivo&quot;)\n@JoinColumn(name = &quot;EMPR_ID&quot;, referencedColumnName = &quot;EMPR_ID&quot;)\n@ManyToOne(optional = false)\npriva\n</code></pre>\n<p>te Emprendimientos emprId;</p>\n<p>...</p>\n<p>Thanks for your healt!</p>\n"},{"tags":["java","amazon-web-services","amazon-dynamodb"],"owner":{"account_id":17397904,"reputation":1,"user_id":12607342,"display_name":"Balu Mahendra"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698933219,"creation_date":1698933219,"question_id":77410168,"body_markdown":"In my DynamoDB table, there&#39;s an attribute named body which can store data either as a map or as a JSON string. When querying or retrieving items from DynamoDB in my Java application, I need to be able to determine the data type and handle it appropriately. If body is a map, I want to work with the map&#39;s individual fields, and if it&#39;s a JSON string, I want to deserialize it into a Java object.\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nIs there a way to achieve this flexibility and handle both data types when working with the body attribute in DynamoDB from a Java application?\r\n","title":"how can i catch the data in entity DynamoDB field that can contain data in two different formats, either as a Map or as a JSON string, a Java spring","body":"<p>In my DynamoDB table, there's an attribute named body which can store data either as a map or as a JSON string. When querying or retrieving items from DynamoDB in my Java application, I need to be able to determine the data type and handle it appropriately. If body is a map, I want to work with the map's individual fields, and if it's a JSON string, I want to deserialize it into a Java object.</p>\n<p>Is there a way to achieve this flexibility and handle both data types when working with the body attribute in DynamoDB from a Java application?</p>\n"},{"tags":["java","spring","spring-boot","spring-cloud","spring-cloud-stream"],"answers":[{"tags":[],"owner":{"account_id":445335,"reputation":5970,"user_id":837717,"display_name":"Oleg Zhurakousky"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1698933052,"creation_date":1698933052,"answer_id":77410143,"question_id":77405386,"body_markdown":"StreamBridge will send to whatever name you put as a first argument.\r\nThis means that if a binding does not exist it will be created provisioned and used.\r\nIf it does exist it will be used.\r\nHowever there are cases where such dynamic bindings need to be pre-configured ahead of time. In that case you are using `spring.cloud.stream.input-bindings` or `.output-bindings` properties - https://docs.spring.io/spring-cloud-stream/reference/spring-cloud-stream/bindings.html#explicit-binding-creation. (`spring.cloud.stream.source` is deprecated and will be removed soon).\r\nIn those cases you treat the binding name as a function and depending if it&#39;s an input or output binding you add a `0-in` or `0-out` prefix.","title":"Naming Convention for using source in StreamBridge SPRING CLOUD STREAM","body":"<p>StreamBridge will send to whatever name you put as a first argument.\nThis means that if a binding does not exist it will be created provisioned and used.\nIf it does exist it will be used.\nHowever there are cases where such dynamic bindings need to be pre-configured ahead of time. In that case you are using <code>spring.cloud.stream.input-bindings</code> or <code>.output-bindings</code> properties - <a href=\"https://docs.spring.io/spring-cloud-stream/reference/spring-cloud-stream/bindings.html#explicit-binding-creation\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-cloud-stream/reference/spring-cloud-stream/bindings.html#explicit-binding-creation</a>. (<code>spring.cloud.stream.source</code> is deprecated and will be removed soon).\nIn those cases you treat the binding name as a function and depending if it's an input or output binding you add a <code>0-in</code> or <code>0-out</code> prefix.</p>\n"}],"owner":{"account_id":24561597,"reputation":21,"user_id":18469257,"display_name":"alpha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1698933052,"creation_date":1698870093,"question_id":77405386,"body_markdown":"\r\n\r\nim using streamBridge in 2 different locations like this:\r\n```\r\nstreamBridge.send(&quot;first&quot;, &quot;hello1&quot;);\r\n```\r\n```\r\nstreamBridge.send(&quot;second&quot;, &quot;hello2&quot;);\r\n```\r\nnow the problem is that the docs say that i can use the source directly while naming destinations like this\r\n```\r\nspring.cloud.stream.bindings.first.destination=topic\r\nspring.cloud.stream.bindings.second.destination=topic\r\n```\r\nnow what i dont understand it how this property work: i added 2 sources as what i named as i want them to be ready at initialization\r\n```\r\nspring.cloud.stream.source=first,second\r\n```\r\nnow as per docs to set the destination i need to add this as sources added works like fucntions and their naming is the same\r\n```\r\nspring.cloud.stream.bindings.first-out-0.destination=topic\r\nspring.cloud.stream.bindings.second-out-0.destination=topic\r\n```\r\nwill i need to put in out-0 or just use the name I put in source name property?\r\n\r\nalso if i need to use only 1 binding source in 2 different streamBridge uses, can I do so? or i need to use 2 different and then map them to same destination as per i need?","title":"Naming Convention for using source in StreamBridge SPRING CLOUD STREAM","body":"<p>im using streamBridge in 2 different locations like this:</p>\n<pre><code>streamBridge.send(&quot;first&quot;, &quot;hello1&quot;);\n</code></pre>\n<pre><code>streamBridge.send(&quot;second&quot;, &quot;hello2&quot;);\n</code></pre>\n<p>now the problem is that the docs say that i can use the source directly while naming destinations like this</p>\n<pre><code>spring.cloud.stream.bindings.first.destination=topic\nspring.cloud.stream.bindings.second.destination=topic\n</code></pre>\n<p>now what i dont understand it how this property work: i added 2 sources as what i named as i want them to be ready at initialization</p>\n<pre><code>spring.cloud.stream.source=first,second\n</code></pre>\n<p>now as per docs to set the destination i need to add this as sources added works like fucntions and their naming is the same</p>\n<pre><code>spring.cloud.stream.bindings.first-out-0.destination=topic\nspring.cloud.stream.bindings.second-out-0.destination=topic\n</code></pre>\n<p>will i need to put in out-0 or just use the name I put in source name property?</p>\n<p>also if i need to use only 1 binding source in 2 different streamBridge uses, can I do so? or i need to use 2 different and then map them to same destination as per i need?</p>\n"},{"tags":["java","spring-boot","hibernate","jpa"],"comments":[{"owner":{"account_id":9197152,"reputation":1142,"user_id":6835509,"display_name":"Vasanth Subramanian"},"score":0,"creation_date":1698931221,"post_id":77409807,"comment_id":136468669,"body_markdown":"could you please share entity class for `ProfileInteraction`","body":"could you please share entity class for <code>ProfileInteraction</code>"},{"owner":{"account_id":26016923,"reputation":1,"user_id":19725130,"display_name":"UGene"},"score":0,"creation_date":1698932714,"post_id":77409807,"comment_id":136469012,"body_markdown":"@VasanthSubramanian added","body":"@VasanthSubramanian added"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1698933971,"post_id":77409807,"comment_id":136469296,"body_markdown":"pi ON lp.loadProfileId = pi.outcome - take a look at those mappings. One is a UUID, the other is a LoadProfile instance. You do not need the ON clause at all as you&#39;ve already defined what you want in that pi.outcome mapping. Try just &quot;FROM ProfileInteraction pi join pi.outcome lp&quot; instead.","body":"pi ON lp.loadProfileId = pi.outcome - take a look at those mappings. One is a UUID, the other is a LoadProfile instance. You do not need the ON clause at all as you&#39;ve already defined what you want in that pi.outcome mapping. Try just &quot;FROM ProfileInteraction pi join pi.outcome lp&quot; instead."}],"owner":{"account_id":26016923,"reputation":1,"user_id":19725130,"display_name":"UGene"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698932672,"creation_date":1698930254,"question_id":77409807,"body_markdown":"During migration on Spring Boot 3 I increase Hibernate version to 6.3.1 final. When I try to start application or run unit tests I got \r\n```\r\nCould not create query for public abstract java.util.Set r.s.c.repository.LoadProfileRepository.findLoadProfileOutcomeIdsByStructureId(java.util.UUID); Reason: Validation failed for query for method public abstract java.util.Set r.s.c.repository.LoadProfileRepository.findLoadProfileOutcomeIdsByStructureId(java.util.UUID)\r\n```\r\n```\r\nCannot compare left expression of type &#39;java.util.UUID&#39; with right expression of type &#39;r.s.c.model.metric.LoadProfile\r\n```\r\n\r\nMy repository method\r\n```\r\n@Query(&quot;SELECT lp.loadProfileId FROM LoadProfile lp JOIN ProfileInteraction pi ON lp.loadProfileId = pi.outcome WHERE lp.structureId = ?1&quot;)\r\n    Set&lt;UUID&gt; findLoadProfileOutcomeIdsByStructureId(@Param(&quot;structureId&quot;) UUID structureId);\r\n```\r\n\r\nMy Entity\r\n\r\n```\r\npublic class LoadProfile {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    @Column(name = &quot;load_profile_id&quot;)\r\n    private UUID loadProfileId;\r\n    @Column(name = &quot;structure_id&quot;)\r\n    private UUID structureId;\r\n    @Column(name = &quot;name&quot;)\r\n    private String name;\r\n    @OneToMany(cascade = {CascadeType.PERSIST, CascadeType.MERGE, CascadeType.REMOVE}, orphanRemoval = true)\r\n    @JoinColumn(name = &quot;load_profile_id&quot;)\r\n    private List&lt;MetricInProfile&gt; metrics;\r\n\r\n    @Override\r\n    public boolean equals(Object o) {\r\n        if (this == o) return true;\r\n        if (o == null || getClass() != o.getClass()) return false;\r\n        LoadProfile that = (LoadProfile) o;\r\n        return Objects.equals(structureId, that.structureId) &amp;&amp; Objects.equals(name, that.name) &amp;&amp; Objects.equals(metrics, that.metrics);\r\n    }\r\n\r\n    @Override\r\n    public int hashCode() {\r\n        return Objects.hash(loadProfileId, structureId, name);\r\n    }\r\n\r\n    public void addMetric(MetricInProfile metricInProfile) {\r\n        metrics = Objects.requireNonNullElseGet(metrics, ArrayList::new);\r\n        metrics.add(metricInProfile);\r\n    }\r\n}\r\n```\r\nProfileInteraction\r\n```\r\npublic class ProfileInteraction {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    @Column(name = &quot;id&quot;, nullable = false)\r\n    private Long id;\r\n\r\n    @ManyToOne(cascade = {CascadeType.MERGE})\r\n    @JoinColumn(name = &quot;income&quot;, insertable = false, updatable = false)\r\n    private LoadProfile income;\r\n    @ManyToOne(cascade = {CascadeType.MERGE})\r\n    @JoinColumn(name = &quot;outcome&quot;, insertable = false, updatable = false)\r\n    private LoadProfile outcome;\r\n}\r\n```\r\n\r\nTried to refactor my method like this \r\n```\r\n@Query(&quot;SELECT lp FROM LoadProfile lp JOIN ProfileInteraction pi ON lp.loadProfileId = pi.outcome WHERE lp.structureId = ?1&quot;)\r\n    Set&lt;LoadProfile&gt; findLoadProfileOutcomeIdsByStructureId(@Param(&quot;structureId&quot;) UUID structureId);\r\n```\r\nbut it had no any effect","title":"Validation failed for query for method public abstract java.util.Set","body":"<p>During migration on Spring Boot 3 I increase Hibernate version to 6.3.1 final. When I try to start application or run unit tests I got</p>\n<pre><code>Could not create query for public abstract java.util.Set r.s.c.repository.LoadProfileRepository.findLoadProfileOutcomeIdsByStructureId(java.util.UUID); Reason: Validation failed for query for method public abstract java.util.Set r.s.c.repository.LoadProfileRepository.findLoadProfileOutcomeIdsByStructureId(java.util.UUID)\n</code></pre>\n<pre><code>Cannot compare left expression of type 'java.util.UUID' with right expression of type 'r.s.c.model.metric.LoadProfile\n</code></pre>\n<p>My repository method</p>\n<pre><code>@Query(&quot;SELECT lp.loadProfileId FROM LoadProfile lp JOIN ProfileInteraction pi ON lp.loadProfileId = pi.outcome WHERE lp.structureId = ?1&quot;)\n    Set&lt;UUID&gt; findLoadProfileOutcomeIdsByStructureId(@Param(&quot;structureId&quot;) UUID structureId);\n</code></pre>\n<p>My Entity</p>\n<pre><code>public class LoadProfile {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @Column(name = &quot;load_profile_id&quot;)\n    private UUID loadProfileId;\n    @Column(name = &quot;structure_id&quot;)\n    private UUID structureId;\n    @Column(name = &quot;name&quot;)\n    private String name;\n    @OneToMany(cascade = {CascadeType.PERSIST, CascadeType.MERGE, CascadeType.REMOVE}, orphanRemoval = true)\n    @JoinColumn(name = &quot;load_profile_id&quot;)\n    private List&lt;MetricInProfile&gt; metrics;\n\n    @Override\n    public boolean equals(Object o) {\n        if (this == o) return true;\n        if (o == null || getClass() != o.getClass()) return false;\n        LoadProfile that = (LoadProfile) o;\n        return Objects.equals(structureId, that.structureId) &amp;&amp; Objects.equals(name, that.name) &amp;&amp; Objects.equals(metrics, that.metrics);\n    }\n\n    @Override\n    public int hashCode() {\n        return Objects.hash(loadProfileId, structureId, name);\n    }\n\n    public void addMetric(MetricInProfile metricInProfile) {\n        metrics = Objects.requireNonNullElseGet(metrics, ArrayList::new);\n        metrics.add(metricInProfile);\n    }\n}\n</code></pre>\n<p>ProfileInteraction</p>\n<pre><code>public class ProfileInteraction {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @Column(name = &quot;id&quot;, nullable = false)\n    private Long id;\n\n    @ManyToOne(cascade = {CascadeType.MERGE})\n    @JoinColumn(name = &quot;income&quot;, insertable = false, updatable = false)\n    private LoadProfile income;\n    @ManyToOne(cascade = {CascadeType.MERGE})\n    @JoinColumn(name = &quot;outcome&quot;, insertable = false, updatable = false)\n    private LoadProfile outcome;\n}\n</code></pre>\n<p>Tried to refactor my method like this</p>\n<pre><code>@Query(&quot;SELECT lp FROM LoadProfile lp JOIN ProfileInteraction pi ON lp.loadProfileId = pi.outcome WHERE lp.structureId = ?1&quot;)\n    Set&lt;LoadProfile&gt; findLoadProfileOutcomeIdsByStructureId(@Param(&quot;structureId&quot;) UUID structureId);\n</code></pre>\n<p>but it had no any effect</p>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":1376,"reputation":61107,"user_id":1836,"accept_rate":90,"display_name":"Matthew Farwell"},"score":9,"creation_date":1317127763,"post_id":7569335,"comment_id":9176987,"body_markdown":"@JRL should really be String ih = &quot;dlroW olleH&quot;; System.out.println(ih);","body":"@JRL should really be String ih = &quot;dlroW olleH&quot;; System.out.println(ih);"},{"owner":{"account_id":14531,"reputation":118860,"user_id":29995,"accept_rate":77,"display_name":"Rob Hruska"},"score":4,"creation_date":1317130263,"post_id":7569335,"comment_id":9177831,"body_markdown":"I wish I could retract my close vote (as a duplicate). I re-read the other question and realized it&#39;s subtly different than this. However, this question is still duplicated many times over across the site. Probably ought to just find a different question to mark this a dupe of.","body":"I wish I could retract my close vote (as a duplicate). I re-read the other question and realized it&#39;s subtly different than this. However, this question is still duplicated many times over across the site. Probably ought to just find a different question to mark this a dupe of."}],"answers":[{"tags":[],"owner":{"account_id":368269,"reputation":93629,"user_id":714969,"accept_rate":86,"display_name":"Kevin Bowersox"},"down_vote_count":8,"up_vote_count":79,"is_accepted":false,"score":71,"last_activity_date":1415739127,"creation_date":1317127628,"answer_id":7569367,"question_id":7569335,"body_markdown":"  \tpublic static String reverseIt(String source) {\r\n\t\tint i, len = source.length();\r\n\t\tStringBuilder dest = new StringBuilder(len);\r\n\r\n\t\tfor (i = (len - 1); i &gt;= 0; i--){\r\n\t\t\tdest.append(source.charAt(i));\r\n\t\t}\r\n\t\t\r\n\t\treturn dest.toString();\r\n\t}\r\n\r\n\r\nhttp://www.java2s.com/Code/Java/Language-Basics/ReverseStringTest.htm","title":"Reverse a string in Java","body":"<pre><code>public static String reverseIt(String source) {\n    int i, len = source.length();\n    StringBuilder dest = new StringBuilder(len);\n\n    for (i = (len - 1); i &gt;= 0; i--){\n        dest.append(source.charAt(i));\n    }\n\n    return dest.toString();\n}\n</code></pre>\n\n<p><a href=\"http://www.java2s.com/Code/Java/Language-Basics/ReverseStringTest.htm\" rel=\"noreferrer\">http://www.java2s.com/Code/Java/Language-Basics/ReverseStringTest.htm</a></p>\n"},{"tags":[],"owner":{"account_id":45378,"reputation":18936,"user_id":133732,"accept_rate":87,"display_name":"Daniel Brockman"},"down_vote_count":2,"up_vote_count":1200,"is_accepted":true,"score":1198,"last_activity_date":1634162900,"creation_date":1317127645,"answer_id":7569370,"question_id":7569335,"body_markdown":"You can use this:\r\n\r\n```lang-java\r\nnew StringBuilder(hi).reverse().toString()\r\n```\r\n\r\n`StringBuilder` was added in Java 5.  For versions prior to Java 5, the `StringBuffer` class can be used instead — it has the same API.","title":"Reverse a string in Java","body":"<p>You can use this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>new StringBuilder(hi).reverse().toString()\n</code></pre>\n<p><code>StringBuilder</code> was added in Java 5.  For versions prior to Java 5, the <code>StringBuffer</code> class can be used instead — it has the same API.</p>\n"},{"tags":[],"owner":{"account_id":342531,"reputation":254989,"user_id":673730,"accept_rate":89,"display_name":"Luchian Grigore"},"down_vote_count":2,"up_vote_count":70,"is_accepted":false,"score":68,"last_activity_date":1317127700,"creation_date":1317127700,"answer_id":7569380,"question_id":7569335,"body_markdown":"    String string=&quot;whatever&quot;;\r\n    String reverse = new StringBuffer(string).reverse().toString();\r\n    System.out.println(reverse);","title":"Reverse a string in Java","body":"<pre><code>String string=\"whatever\";\nString reverse = new StringBuffer(string).reverse().toString();\nSystem.out.println(reverse);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":933731,"reputation":1327,"user_id":963071,"accept_rate":33,"display_name":"Andrew Briggs"},"down_vote_count":1,"up_vote_count":21,"is_accepted":false,"score":20,"last_activity_date":1317127830,"creation_date":1317127715,"answer_id":7569384,"question_id":7569335,"body_markdown":"Take a look at the Java 6 API under StringBuffer\r\n\r\n    String s = &quot;sample&quot;;\r\n    String result = new StringBuffer(s).reverse().toString();","title":"Reverse a string in Java","body":"<p>Take a look at the Java 6 API under StringBuffer</p>\n\n<pre><code>String s = \"sample\";\nString result = new StringBuffer(s).reverse().toString();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3346243,"reputation":69,"user_id":2811354,"display_name":"Prashant Kumar"},"down_vote_count":9,"up_vote_count":8,"is_accepted":false,"score":-1,"last_activity_date":1469351861,"creation_date":1405948634,"answer_id":24866099,"question_id":7569335,"body_markdown":"\tpublic static void main(String[] args) {\r\n\t\tString str = &quot;Prashant&quot;;\r\n\t\tint len = str.length();\r\n\t\tchar[] c = new char[len];\r\n\t\tfor (int j = len - 1, i = 0; j &gt;= 0; j--, i++) {\r\n\t\t\tc[i] = str.charAt(j);\r\n\t\t}\r\n\t\tstr = String.copyValueOf(c);\r\n\t\tSystem.out.println(str);\r\n\t}","title":"Reverse a string in Java","body":"<pre><code>public static void main(String[] args) {\n    String str = \"Prashant\";\n    int len = str.length();\n    char[] c = new char[len];\n    for (int j = len - 1, i = 0; j &gt;= 0; j--, i++) {\n        c[i] = str.charAt(j);\n    }\n    str = String.copyValueOf(c);\n    System.out.println(str);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1446678,"reputation":9914,"user_id":1364896,"accept_rate":70,"display_name":"Sami Eltamawy"},"down_vote_count":3,"up_vote_count":125,"is_accepted":false,"score":122,"last_activity_date":1519802159,"creation_date":1409959790,"answer_id":25695280,"question_id":7569335,"body_markdown":"For **Online Judges problems** that does not allow `StringBuilder` or `StringBuffer`, you can do it **in place** using `char[]` as following:\r\n\r\n    public static String reverse(String input){\r\n        char[] in = input.toCharArray();\r\n        int begin=0;\r\n        int end=in.length-1;\r\n        char temp;\r\n        while(end&gt;begin){\r\n            temp = in[begin];\r\n            in[begin]=in[end];\r\n            in[end] = temp;\r\n            end--;\r\n            begin++;\r\n        }\r\n        return new String(in);\r\n    }","title":"Reverse a string in Java","body":"<p>For <strong>Online Judges problems</strong> that does not allow <code>StringBuilder</code> or <code>StringBuffer</code>, you can do it <strong>in place</strong> using <code>char[]</code> as following:</p>\n\n<pre><code>public static String reverse(String input){\n    char[] in = input.toCharArray();\n    int begin=0;\n    int end=in.length-1;\n    char temp;\n    while(end&gt;begin){\n        temp = in[begin];\n        in[begin]=in[end];\n        in[end] = temp;\n        end--;\n        begin++;\n    }\n    return new String(in);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5115085,"reputation":37,"user_id":4100516,"display_name":"Stormhawks"},"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1412199641,"creation_date":1412199641,"answer_id":26151134,"question_id":7569335,"body_markdown":"\r\n    System.out.print(&quot;Please enter your name: &quot;);\r\n    String name = keyboard.nextLine();\r\n    \r\n    String reverse = new StringBuffer(name).reverse().toString();\r\n    String rev = reverse.toLowerCase();\r\n    System.out.println(rev);\r\n\r\n\r\nI used this method to turn names backwards and into lower case.","title":"Reverse a string in Java","body":"<pre><code>System.out.print(\"Please enter your name: \");\nString name = keyboard.nextLine();\n\nString reverse = new StringBuffer(name).reverse().toString();\nString rev = reverse.toLowerCase();\nSystem.out.println(rev);\n</code></pre>\n\n<p>I used this method to turn names backwards and into lower case.</p>\n"},{"tags":[],"owner":{"account_id":2143602,"reputation":720,"user_id":1901741,"accept_rate":89,"display_name":"Dom Shahbazi"},"down_vote_count":3,"up_vote_count":4,"is_accepted":false,"score":1,"last_activity_date":1414938770,"creation_date":1414938770,"answer_id":26700453,"question_id":7569335,"body_markdown":"    \tpublic String reverse(String s) {\r\n\t\t\r\n\t\t    String reversedString = &quot;&quot;;\r\n\t\t    for(int i=s.length(); i&gt;0; i--) {\r\n\t\t\t    reversedString += s.charAt(i-1);\r\n\t\t    }\t\r\n\t\t\r\n\t\t    return reversedString;\r\n\t    }","title":"Reverse a string in Java","body":"<pre><code>    public String reverse(String s) {\n\n        String reversedString = \"\";\n        for(int i=s.length(); i&gt;0; i--) {\n            reversedString += s.charAt(i-1);\n        }   \n\n        return reversedString;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1815074,"reputation":8620,"user_id":1650336,"accept_rate":77,"display_name":"C0D3LIC1OU5"},"down_vote_count":5,"up_vote_count":21,"is_accepted":false,"score":16,"last_activity_date":1415029019,"creation_date":1415029019,"answer_id":26717551,"question_id":7569335,"body_markdown":"Here is an example using recursion:\r\n\r\n    public void reverseString() {\r\n        String alphabet = &quot;ABCDEFGHIJKLMNOPQRSTUVWXYZ&quot;;\r\n        String reverseAlphabet = reverse(alphabet, alphabet.length()-1);\r\n    }\r\n\r\n    String reverse(String stringToReverse, int index){\r\n        if(index == 0){\r\n            return stringToReverse.charAt(0) + &quot;&quot;;\r\n        }\r\n\r\n        char letter = stringToReverse.charAt(index);\r\n        return letter + reverse(stringToReverse, index-1);\r\n    }","title":"Reverse a string in Java","body":"<p>Here is an example using recursion:</p>\n\n<pre><code>public void reverseString() {\n    String alphabet = \"ABCDEFGHIJKLMNOPQRSTUVWXYZ\";\n    String reverseAlphabet = reverse(alphabet, alphabet.length()-1);\n}\n\nString reverse(String stringToReverse, int index){\n    if(index == 0){\n        return stringToReverse.charAt(0) + \"\";\n    }\n\n    char letter = stringToReverse.charAt(index);\n    return letter + reverse(stringToReverse, index-1);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5296155,"reputation":468,"user_id":4227276,"accept_rate":33,"display_name":"Anurag Goel"},"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1469350566,"creation_date":1415458955,"answer_id":26818442,"question_id":7569335,"body_markdown":"You can also try this:\r\n\r\n\tpublic class StringReverse {\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tString str = &quot;Dogs hates cats&quot;;\r\n\t\t\tStringBuffer sb = new StringBuffer(str);\r\n\t\t\tSystem.out.println(sb.reverse());\r\n\t\t}\r\n\t}","title":"Reverse a string in Java","body":"<p>You can also try this:</p>\n\n<pre><code>public class StringReverse {\n    public static void main(String[] args) {\n        String str = \"Dogs hates cats\";\n        StringBuffer sb = new StringBuffer(str);\n        System.out.println(sb.reverse());\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":266703,"reputation":18305,"user_id":1149423,"accept_rate":83,"display_name":"Sufiyan Ghori"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1420624117,"creation_date":1420624117,"answer_id":27816586,"question_id":7569335,"body_markdown":"One natural way to reverse a `String` is to use a `StringTokenizer` and a stack. `Stack` is a class that implements an easy-to-use last-in, first-out (LIFO) stack of objects.\r\n\r\n    String s = &quot;Hello My name is Sufiyan&quot;;\r\n\r\nPut it in the stack frontwards\r\n\r\n    Stack&lt;String&gt; myStack = new Stack&lt;&gt;();\r\n    StringTokenizer st = new StringTokenizer(s);\r\n    while (st.hasMoreTokens()) {\r\n         myStack.push(st.nextToken());\r\n    }\r\n\r\nPrint the stack backwards\r\n\r\n\r\n    System.out.print(&#39;&quot;&#39; + s + &#39;&quot;&#39; + &quot; backwards by word is:\\n\\t\\&quot;&quot;);\r\n    while (!myStack.empty()) {\r\n      System.out.print(myStack.pop());\r\n      System.out.print(&#39; &#39;);\r\n    }\r\n\r\n    System.out.println(&#39;&quot;&#39;);\r\n\r\n","title":"Reverse a string in Java","body":"<p>One natural way to reverse a <code>String</code> is to use a <code>StringTokenizer</code> and a stack. <code>Stack</code> is a class that implements an easy-to-use last-in, first-out (LIFO) stack of objects.</p>\n\n<pre><code>String s = \"Hello My name is Sufiyan\";\n</code></pre>\n\n<p>Put it in the stack frontwards</p>\n\n<pre><code>Stack&lt;String&gt; myStack = new Stack&lt;&gt;();\nStringTokenizer st = new StringTokenizer(s);\nwhile (st.hasMoreTokens()) {\n     myStack.push(st.nextToken());\n}\n</code></pre>\n\n<p>Print the stack backwards</p>\n\n<pre><code>System.out.print('\"' + s + '\"' + \" backwards by word is:\\n\\t\\\"\");\nwhile (!myStack.empty()) {\n  System.out.print(myStack.pop());\n  System.out.print(' ');\n}\n\nSystem.out.println('\"');\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5562180,"reputation":63,"user_id":4410900,"display_name":"Kelk"},"down_vote_count":4,"up_vote_count":3,"is_accepted":false,"score":-1,"last_activity_date":1421162664,"creation_date":1421162664,"answer_id":27925530,"question_id":7569335,"body_markdown":"It gets the value you typed and returns it reversed ;)\r\n\r\n    public static  String reverse (String a){\r\n\t\tchar[] rarray = a.toCharArray();\r\n\t\tString finalvalue = &quot;&quot;;\r\n\t\tfor (int i = 0; i &lt; rarray.length; i++)\r\n        {\r\n\t\t\tfinalvalue += rarray[rarray.length - 1 - i];\r\n\t\t}\t\r\n\treturn finalvalue;\r\n}","title":"Reverse a string in Java","body":"<p>It gets the value you typed and returns it reversed ;)</p>\n\n<pre><code>public static  String reverse (String a){\n    char[] rarray = a.toCharArray();\n    String finalvalue = \"\";\n    for (int i = 0; i &lt; rarray.length; i++)\n    {\n        finalvalue += rarray[rarray.length - 1 - i];\n    }   \nreturn finalvalue;\n</code></pre>\n\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":315916,"reputation":21208,"user_id":631803,"accept_rate":79,"display_name":"Vikasdeep Singh"},"down_vote_count":1,"up_vote_count":30,"is_accepted":false,"score":29,"last_activity_date":1510761388,"creation_date":1422078753,"answer_id":28122743,"question_id":7569335,"body_markdown":"I am doing this by using the following two ways:\r\n\r\n**Reverse string by CHARACTERS:**\r\n\r\n    public static void main(String[] args) {\r\n    \t// Using traditional approach\r\n    \tString result=&quot;&quot;;\r\n    \tfor(int i=string.length()-1; i&gt;=0; i--) {\r\n    \t\tresult = result + string.charAt(i);\r\n    \t}\r\n    \tSystem.out.println(result);\r\n    \t\r\n    \t// Using StringBuffer class\r\n    \tStringBuffer buffer = new StringBuffer(string);\r\n    \tSystem.out.println(buffer.reverse());    \r\n    }\r\n\r\n**Reverse string by WORDS:**\r\n\t\r\n\r\n    public static void reverseStringByWords(String string) {\r\n    \tStringBuilder stringBuilder = new StringBuilder();\r\n    \tString[] words = string.split(&quot; &quot;);\r\n    \t\t\r\n    \tfor (int j = words.length-1; j &gt;= 0; j--) {\r\n    \t\tstringBuilder.append(words[j]).append(&#39; &#39;);\r\n    \t}\r\n    \tSystem.out.println(&quot;Reverse words: &quot; + stringBuilder);\r\n    }\r\n","title":"Reverse a string in Java","body":"<p>I am doing this by using the following two ways:</p>\n\n<p><strong>Reverse string by CHARACTERS:</strong></p>\n\n<pre><code>public static void main(String[] args) {\n    // Using traditional approach\n    String result=\"\";\n    for(int i=string.length()-1; i&gt;=0; i--) {\n        result = result + string.charAt(i);\n    }\n    System.out.println(result);\n\n    // Using StringBuffer class\n    StringBuffer buffer = new StringBuffer(string);\n    System.out.println(buffer.reverse());    \n}\n</code></pre>\n\n<p><strong>Reverse string by WORDS:</strong></p>\n\n<pre><code>public static void reverseStringByWords(String string) {\n    StringBuilder stringBuilder = new StringBuilder();\n    String[] words = string.split(\" \");\n\n    for (int j = words.length-1; j &gt;= 0; j--) {\n        stringBuilder.append(words[j]).append(' ');\n    }\n    System.out.println(\"Reverse words: \" + stringBuilder);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5719553,"reputation":77,"user_id":4518446,"display_name":"Neelendra"},"down_vote_count":3,"up_vote_count":8,"is_accepted":false,"score":5,"last_activity_date":1426134278,"creation_date":1422845034,"answer_id":28270445,"question_id":7569335,"body_markdown":"It is very simple in minimum code of lines\r\n\r\n\r\n    public class ReverseString {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tString s1 = &quot;neelendra&quot;;\r\n    \t\tfor(int i=s1.length()-1;i&gt;=0;i--)\r\n    \t\t\t{\r\n    \t\t\t\tSystem.out.print(s1.charAt(i));\r\n    \t\t\t}\r\n    \t}\r\n    }\r\n","title":"Reverse a string in Java","body":"<p>It is very simple in minimum code of lines</p>\n\n<pre><code>public class ReverseString {\n    public static void main(String[] args) {\n        String s1 = \"neelendra\";\n        for(int i=s1.length()-1;i&gt;=0;i--)\n            {\n                System.out.print(s1.charAt(i));\n            }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5144206,"reputation":10678,"user_id":4120631,"accept_rate":33,"display_name":"Joby Wilson Mathews"},"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1423923305,"creation_date":1423923305,"answer_id":28516476,"question_id":7569335,"body_markdown":"    public class Test {\r\n\r\n    public static void main(String args[]) {\r\n       StringBuffer buffer = new StringBuffer(&quot;Game Plan&quot;);\r\n       buffer.reverse();\r\n       System.out.println(buffer);\r\n     }  \r\n    }","title":"Reverse a string in Java","body":"<pre><code>public class Test {\n\npublic static void main(String args[]) {\n   StringBuffer buffer = new StringBuffer(\"Game Plan\");\n   buffer.reverse();\n   System.out.println(buffer);\n }  \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3060336,"reputation":157,"user_id":2593150,"display_name":"rvd"},"down_vote_count":3,"up_vote_count":2,"is_accepted":false,"score":-1,"last_activity_date":1430962293,"creation_date":1430962293,"answer_id":30090430,"question_id":7569335,"body_markdown":"\r\npublic String reverseWords(String s) {\r\n        \r\n        String reversedWords = &quot;&quot;;\r\n        \r\n        if(s.length()&lt;=0) {\r\n            return reversedWords;\r\n        }else if(s.length() == 1){\r\n            if(s == &quot; &quot;){\r\n                return &quot;&quot;;\r\n            }\r\n            return s;\r\n        }\r\n        \r\n        char arr[] = s.toCharArray();\r\n        int j = arr.length-1;\r\n        while(j &gt;= 0 ){\r\n            if( arr[j] == &#39; &#39;){\r\n                reversedWords+=arr[j];\r\n            }else{\r\n                String temp=&quot;&quot;;\r\n                while(j&gt;=0 &amp;&amp; arr[j] != &#39; &#39;){\r\n                    temp+=arr[j];\r\n                    j--;\r\n                }\r\n                j++;\r\n                temp = reverseWord(temp);\r\n                reversedWords+=temp;\r\n            }\r\n            j--;\r\n            \r\n        }\r\n        \r\n        String[] chk = reversedWords.split(&quot; &quot;);\r\n        \r\n        if(chk == null || chk.length == 0){\r\n            return &quot;&quot;;\r\n        }\r\n        \r\n        return reversedWords;\r\n        \r\n        \r\n        \r\n    }\r\n    \r\n    public String reverseWord(String s){\r\n        \r\n        char[] arr = s.toCharArray();\r\n        \r\n        for(int i=0,j=arr.length-1;i&lt;=j;i++,j--){\r\n            char tmp = arr[i];\r\n            arr[i] = arr[j];\r\n            arr[j] = tmp;\r\n        }\r\n        return String.valueOf(arr);\r\n        \r\n    }","title":"Reverse a string in Java","body":"<p>public String reverseWords(String s) {</p>\n\n<pre><code>    String reversedWords = \"\";\n\n    if(s.length()&lt;=0) {\n        return reversedWords;\n    }else if(s.length() == 1){\n        if(s == \" \"){\n            return \"\";\n        }\n        return s;\n    }\n\n    char arr[] = s.toCharArray();\n    int j = arr.length-1;\n    while(j &gt;= 0 ){\n        if( arr[j] == ' '){\n            reversedWords+=arr[j];\n        }else{\n            String temp=\"\";\n            while(j&gt;=0 &amp;&amp; arr[j] != ' '){\n                temp+=arr[j];\n                j--;\n            }\n            j++;\n            temp = reverseWord(temp);\n            reversedWords+=temp;\n        }\n        j--;\n\n    }\n\n    String[] chk = reversedWords.split(\" \");\n\n    if(chk == null || chk.length == 0){\n        return \"\";\n    }\n\n    return reversedWords;\n\n\n\n}\n\npublic String reverseWord(String s){\n\n    char[] arr = s.toCharArray();\n\n    for(int i=0,j=arr.length-1;i&lt;=j;i++,j--){\n        char tmp = arr[i];\n        arr[i] = arr[j];\n        arr[j] = tmp;\n    }\n    return String.valueOf(arr);\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2687397,"reputation":5255,"user_id":2321515,"accept_rate":97,"display_name":"Artur Grigio"},"down_vote_count":2,"up_vote_count":14,"is_accepted":false,"score":12,"last_activity_date":1497920571,"creation_date":1445936406,"answer_id":33363556,"question_id":7569335,"body_markdown":"Here is a low level solution:\r\n\r\n    import java.util.Scanner;\r\n\r\n    public class class1 {\r\n\r\n    \tpublic static void main(String[] args) {\r\n    \t\tScanner in = new Scanner(System.in);\r\n    \t\tString inpStr = in.nextLine();\r\n    \t\tSystem.out.println(&quot;Original String :&quot; + inpStr);\r\n    \t\tchar temp;\r\n            char[] arr = inpStr.toCharArray();\r\n    \t\tint len = arr.length;\r\n    \t\tfor(int i=0; i&lt;(inpStr.length())/2; i++,len--){\r\n                temp = arr[i];\r\n    \t\t\tarr[i] = arr[len-1];\r\n    \t\t\tarr[len-1] = temp;\r\n    \t\t}\r\n    \t\t\r\n            System.out.println(&quot;Reverse String :&quot; + String.valueOf(arr));\r\n    \t}\r\n    }","title":"Reverse a string in Java","body":"<p>Here is a low level solution:</p>\n\n<pre><code>import java.util.Scanner;\n\npublic class class1 {\n\n    public static void main(String[] args) {\n        Scanner in = new Scanner(System.in);\n        String inpStr = in.nextLine();\n        System.out.println(\"Original String :\" + inpStr);\n        char temp;\n        char[] arr = inpStr.toCharArray();\n        int len = arr.length;\n        for(int i=0; i&lt;(inpStr.length())/2; i++,len--){\n            temp = arr[i];\n            arr[i] = arr[len-1];\n            arr[len-1] = temp;\n        }\n\n        System.out.println(\"Reverse String :\" + String.valueOf(arr));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":159637,"reputation":2203,"user_id":379173,"display_name":"Enrico Giurin"},"down_vote_count":3,"up_vote_count":15,"is_accepted":false,"score":12,"last_activity_date":1573360092,"creation_date":1446343561,"answer_id":33458528,"question_id":7569335,"body_markdown":"I tried, just for fun, by using a Stack. Here my code:\r\n\r\n    public String reverseString(String s) {\r\n        Stack&lt;Character&gt; stack = new Stack&lt;&gt;();\r\n        StringBuilder sb = new StringBuilder();\r\n        for (int i = 0; i &lt; s.length(); i++) {\r\n            stack.push(s.charAt(i));\r\n        }\r\n        while (!stack.empty()) {\r\n            sb.append(stack.pop());\r\n        }\r\n        return sb.toString();\r\n\r\n    }","title":"Reverse a string in Java","body":"<p>I tried, just for fun, by using a Stack. Here my code:</p>\n\n<pre><code>public String reverseString(String s) {\n    Stack&lt;Character&gt; stack = new Stack&lt;&gt;();\n    StringBuilder sb = new StringBuilder();\n    for (int i = 0; i &lt; s.length(); i++) {\n        stack.push(s.charAt(i));\n    }\n    while (!stack.empty()) {\n        sb.append(stack.pop());\n    }\n    return sb.toString();\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1137473,"reputation":317,"user_id":1122218,"accept_rate":75,"display_name":"camel-man"},"down_vote_count":3,"up_vote_count":2,"is_accepted":false,"score":-1,"last_activity_date":1454702958,"creation_date":1454702958,"answer_id":35232661,"question_id":7569335,"body_markdown":"    StringBuilder s = new StringBuilder(&quot;racecar&quot;);\r\n\t\tfor (int i = 0, j = s.length() - 1; i &lt; (s.length()/2); i++, j--) {\r\n\t\t\tchar temp = s.charAt(i);\r\n\t\t\ts.setCharAt(i, s.charAt(j));\r\n\t\t\ts.setCharAt(j, temp);\r\n\t\t}\r\n\t\t\r\n\t\tSystem.out.println(s.toString());","title":"Reverse a string in Java","body":"<pre><code>StringBuilder s = new StringBuilder(\"racecar\");\n    for (int i = 0, j = s.length() - 1; i &lt; (s.length()/2); i++, j--) {\n        char temp = s.charAt(i);\n        s.setCharAt(i, s.charAt(j));\n        s.setCharAt(j, temp);\n    }\n\n    System.out.println(s.toString());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":474835,"reputation":10401,"user_id":884778,"accept_rate":71,"display_name":"Dhiral Pandya"},"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1458717335,"creation_date":1458717335,"answer_id":36171888,"question_id":7569335,"body_markdown":"All above solution is too good but here I am making reverse string using recursive programming. \r\n\r\nThis is helpful for who is looking recursive way of doing reverse string. \r\n\r\n    public class ReversString {\r\n\r\n  \tpublic static void main(String args[]) {\r\n  \t\tchar s[] = &quot;Dhiral Pandya&quot;.toCharArray();\r\n  \t\tString r = new String(reverse(0, s));\r\n  \t\tSystem.out.println(r);\r\n  \t}\r\n\r\n  \tpublic static char[] reverse(int i, char source[]) {\r\n\r\n  \t\tif (source.length / 2 == i) {\r\n  \t\t\treturn source;\r\n  \t\t}\r\n\r\n  \t\tchar t = source[i];\r\n  \t\tsource[i] = source[source.length - 1 - i];\r\n  \t\tsource[source.length - 1 - i] = t;\r\n\r\n  \t\ti++;\r\n  \t\treturn reverse(i, source);\r\n\r\n  \t}\r\n\r\n    }\r\n ","title":"Reverse a string in Java","body":"<p>All above solution is too good but here I am making reverse string using recursive programming. </p>\n\n<p>This is helpful for who is looking recursive way of doing reverse string. </p>\n\n<pre><code>public class ReversString {\n\npublic static void main(String args[]) {\n    char s[] = \"Dhiral Pandya\".toCharArray();\n    String r = new String(reverse(0, s));\n    System.out.println(r);\n}\n\npublic static char[] reverse(int i, char source[]) {\n\n    if (source.length / 2 == i) {\n        return source;\n    }\n\n    char t = source[i];\n    source[i] = source[source.length - 1 - i];\n    source[source.length - 1 - i] = t;\n\n    i++;\n    return reverse(i, source);\n\n}\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5374207,"reputation":3969,"user_id":4281711,"accept_rate":63,"display_name":"Prateek Joshi"},"down_vote_count":1,"up_vote_count":12,"is_accepted":false,"score":11,"last_activity_date":1469003242,"creation_date":1469003242,"answer_id":38476110,"question_id":7569335,"body_markdown":"Since the below method (using **XOR**) to *reverse a string* is not listed, I am attaching this method to reverse a string.\r\n\r\nThe **Algorithm** is based on :\r\n\r\n&gt; 1.(A XOR B) XOR B = A \r\n&gt; \r\n&gt; 2.(A XOR B) XOR A = B\r\n\r\nCode snippet:\r\n    \r\n    public class ReverseUsingXOR {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tString str = &quot;prateek&quot;;\r\n    \t\treverseUsingXOR(str.toCharArray());\r\n    \t}   \r\n    \t\r\n    \t/*Example:\r\n    \t * str= prateek;\r\n    \t * str[low]=p;\r\n    \t * str[high]=k;\r\n    \t * str[low]=p^k;\r\n    \t * str[high]=(p^k)^k =p;\r\n    \t * str[low]=(p^k)^p=k;\r\n    \t * \r\n    \t * */\r\n    \tpublic static void reverseUsingXOR(char[] str) {\r\n    \t\tint low = 0;\r\n    \t\tint high = str.length - 1;\r\n    \r\n    \t\twhile (low &lt; high) {\r\n    \t\t\tstr[low] = (char) (str[low] ^ str[high]);\r\n    \t\t\tstr[high] = (char) (str[low] ^ str[high]);   \r\n    \t\t\tstr[low] = (char) (str[low] ^ str[high]);\r\n    \t\t\tlow++;\r\n    \t\t\thigh--;\r\n    \t\t}\r\n    \r\n    \t\t//display reversed string\r\n    \t\tfor (int i = 0; i &lt; str.length; i++) {\r\n    \t\t\tSystem.out.print(str[i]);\r\n    \t\t}\r\n    \t}\r\n    \r\n    }\r\n\r\n**Output:**\r\n\r\nkeetarp\r\n\r\n","title":"Reverse a string in Java","body":"<p>Since the below method (using <strong>XOR</strong>) to <em>reverse a string</em> is not listed, I am attaching this method to reverse a string.</p>\n\n<p>The <strong>Algorithm</strong> is based on :</p>\n\n<blockquote>\n  <p>1.(A XOR B) XOR B = A </p>\n  \n  <p>2.(A XOR B) XOR A = B</p>\n</blockquote>\n\n<p>Code snippet:</p>\n\n<pre><code>public class ReverseUsingXOR {\n    public static void main(String[] args) {\n        String str = \"prateek\";\n        reverseUsingXOR(str.toCharArray());\n    }   \n\n    /*Example:\n     * str= prateek;\n     * str[low]=p;\n     * str[high]=k;\n     * str[low]=p^k;\n     * str[high]=(p^k)^k =p;\n     * str[low]=(p^k)^p=k;\n     * \n     * */\n    public static void reverseUsingXOR(char[] str) {\n        int low = 0;\n        int high = str.length - 1;\n\n        while (low &lt; high) {\n            str[low] = (char) (str[low] ^ str[high]);\n            str[high] = (char) (str[low] ^ str[high]);   \n            str[low] = (char) (str[low] ^ str[high]);\n            low++;\n            high--;\n        }\n\n        //display reversed string\n        for (int i = 0; i &lt; str.length; i++) {\n            System.out.print(str[i]);\n        }\n    }\n\n}\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<p>keetarp</p>\n"},{"tags":[],"owner":{"account_id":2809343,"reputation":460,"user_id":2415900,"accept_rate":0,"display_name":"Deepak Singh"},"down_vote_count":4,"up_vote_count":3,"is_accepted":false,"score":-1,"last_activity_date":1470553323,"creation_date":1470553323,"answer_id":38811764,"question_id":7569335,"body_markdown":"    public void reverString(){\r\n    System.out.println(&quot;Enter value&quot;);\r\n    BufferedReader br=new BufferedReader(new InputStreamReader(System.in));\r\n     try{\r\n\r\n      String str=br.readLine();\r\n      char[] charArray=str.toCharArray();\r\n      for(int i=charArray.length-1; i&gt;=0; i--){\r\n       System.out.println(charArray[i]);\r\n      }\r\n      }\r\n       catch(IOException ex){\r\n      }","title":"Reverse a string in Java","body":"<pre><code>public void reverString(){\nSystem.out.println(\"Enter value\");\nBufferedReader br=new BufferedReader(new InputStreamReader(System.in));\n try{\n\n  String str=br.readLine();\n  char[] charArray=str.toCharArray();\n  for(int i=charArray.length-1; i&gt;=0; i--){\n   System.out.println(charArray[i]);\n  }\n  }\n   catch(IOException ex){\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5667261,"reputation":1536,"user_id":4483113,"display_name":"idelvall"},"down_vote_count":1,"up_vote_count":12,"is_accepted":false,"score":11,"last_activity_date":1591508904,"creation_date":1473073462,"answer_id":39329245,"question_id":7569335,"body_markdown":"As others have pointed out the preferred way is to use:\r\n\r\n    new StringBuilder(hi).reverse().toString()\r\n\r\nBut if you want to implement this by yourself, I&#39;m afraid that the rest of responses have flaws.\r\n\r\nThe reason is that `String` represents a list of **Unicode** points, encoded in a `char[]` array according to the variable-length encoding: [UTF-16][1]. \r\n\r\nThis means some code points use a single element of the array (one code unit) but others use two of them, so there might be pairs of characters that must be treated as a single unit (consecutive &quot;high&quot; and &quot;low&quot; surrogates).\r\n\r\n    public static String reverseString(String s) {\r\n        char[] chars = new char[s.length()];\r\n        boolean twoCharCodepoint = false;\r\n        for (int i = 0; i &lt; s.length(); i++) {\r\n            chars[s.length() - 1 - i] = s.charAt(i);\r\n            if (twoCharCodepoint) {\r\n                swap(chars, s.length() - 1 - i, s.length() - i);\r\n            }\r\n            twoCharCodepoint = !Character.isBmpCodePoint(s.codePointAt(i));\r\n        }\r\n        return new String(chars);\r\n    }\r\n\r\n    private static void swap(char[] array, int i, int j) {\r\n        char temp = array[i];\r\n        array[i] = array[j];\r\n        array[j] = temp;\r\n    }\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        FileOutputStream fos = new FileOutputStream(&quot;C:/temp/reverse-string.txt&quot;);\r\n        StringBuilder sb = new StringBuilder(&quot;Linear B Syllable B008 A: &quot;);\r\n        sb.appendCodePoint(65536); //http://unicode-table.com/es/#10000\r\n        sb.append(&quot;.&quot;);\r\n        fos.write(sb.toString().getBytes(&quot;UTF-16&quot;));\r\n        fos.write(&quot;\\n&quot;.getBytes(&quot;UTF-16&quot;));\r\n        fos.write(reverseString(sb.toString()).getBytes(&quot;UTF-16&quot;));\r\n    }\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/UTF-16","title":"Reverse a string in Java","body":"<p>As others have pointed out the preferred way is to use:</p>\n\n<pre><code>new StringBuilder(hi).reverse().toString()\n</code></pre>\n\n<p>But if you want to implement this by yourself, I'm afraid that the rest of responses have flaws.</p>\n\n<p>The reason is that <code>String</code> represents a list of <strong>Unicode</strong> points, encoded in a <code>char[]</code> array according to the variable-length encoding: <a href=\"https://en.wikipedia.org/wiki/UTF-16\" rel=\"nofollow noreferrer\">UTF-16</a>. </p>\n\n<p>This means some code points use a single element of the array (one code unit) but others use two of them, so there might be pairs of characters that must be treated as a single unit (consecutive \"high\" and \"low\" surrogates).</p>\n\n<pre><code>public static String reverseString(String s) {\n    char[] chars = new char[s.length()];\n    boolean twoCharCodepoint = false;\n    for (int i = 0; i &lt; s.length(); i++) {\n        chars[s.length() - 1 - i] = s.charAt(i);\n        if (twoCharCodepoint) {\n            swap(chars, s.length() - 1 - i, s.length() - i);\n        }\n        twoCharCodepoint = !Character.isBmpCodePoint(s.codePointAt(i));\n    }\n    return new String(chars);\n}\n\nprivate static void swap(char[] array, int i, int j) {\n    char temp = array[i];\n    array[i] = array[j];\n    array[j] = temp;\n}\n\npublic static void main(String[] args) throws Exception {\n    FileOutputStream fos = new FileOutputStream(\"C:/temp/reverse-string.txt\");\n    StringBuilder sb = new StringBuilder(\"Linear B Syllable B008 A: \");\n    sb.appendCodePoint(65536); //http://unicode-table.com/es/#10000\n    sb.append(\".\");\n    fos.write(sb.toString().getBytes(\"UTF-16\"));\n    fos.write(\"\\n\".getBytes(\"UTF-16\"));\n    fos.write(reverseString(sb.toString()).getBytes(\"UTF-16\"));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9318822,"reputation":482,"user_id":6918257,"accept_rate":62,"display_name":"DarkMental"},"down_vote_count":3,"up_vote_count":6,"is_accepted":false,"score":3,"last_activity_date":1484753966,"creation_date":1479385911,"answer_id":40654970,"question_id":7569335,"body_markdown":"This did the trick for me\r\n\r\n    public static void main(String[] args) {\r\n\t\t\r\n\t\tString text = &quot;abcdefghijklmnopqrstuvwxyz&quot;;\r\n\r\n\t\tfor (int i = (text.length() - 1); i &gt;= 0; i--) {\r\n\t\t\tSystem.out.print(text.charAt(i));\r\n\t\t}\r\n\t}","title":"Reverse a string in Java","body":"<p>This did the trick for me</p>\n\n<pre><code>public static void main(String[] args) {\n\n    String text = \"abcdefghijklmnopqrstuvwxyz\";\n\n    for (int i = (text.length() - 1); i &gt;= 0; i--) {\n        System.out.print(text.charAt(i));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6890350,"reputation":9028,"user_id":5294091,"accept_rate":100,"display_name":"Avijit Karmakar"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1518277627,"creation_date":1488088266,"answer_id":42465225,"question_id":7569335,"body_markdown":"**1. Using Character Array:**\r\n\r\n    public String reverseString(String inputString) {\r\n        char[] inputStringArray = inputString.toCharArray();\r\n        String reverseString = &quot;&quot;;\r\n        for (int i = inputStringArray.length - 1; i &gt;= 0; i--) {\r\n            reverseString += inputStringArray[i];\r\n        }\r\n        return reverseString;\r\n    }\r\n\r\n**2. Using StringBuilder:**\r\n\r\n    public String reverseString(String inputString) {\r\n        StringBuilder stringBuilder = new StringBuilder(inputString);\r\n        stringBuilder = stringBuilder.reverse();\r\n        return stringBuilder.toString();\r\n    }\r\n\r\nOR\r\n\r\n    return new StringBuilder(inputString).reverse().toString();\r\n\r\n","title":"Reverse a string in Java","body":"<p><strong>1. Using Character Array:</strong></p>\n\n<pre><code>public String reverseString(String inputString) {\n    char[] inputStringArray = inputString.toCharArray();\n    String reverseString = \"\";\n    for (int i = inputStringArray.length - 1; i &gt;= 0; i--) {\n        reverseString += inputStringArray[i];\n    }\n    return reverseString;\n}\n</code></pre>\n\n<p><strong>2. Using StringBuilder:</strong></p>\n\n<pre><code>public String reverseString(String inputString) {\n    StringBuilder stringBuilder = new StringBuilder(inputString);\n    stringBuilder = stringBuilder.reverse();\n    return stringBuilder.toString();\n}\n</code></pre>\n\n<p>OR</p>\n\n<pre><code>return new StringBuilder(inputString).reverse().toString();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9008999,"reputation":3602,"user_id":6714430,"display_name":"rashedcs"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1490724502,"creation_date":1490723826,"answer_id":43076692,"question_id":7569335,"body_markdown":" Procedure :\r\n-----------\r\n\r\n  We can use split() to split the string .Then use reverse loop and add the characters.\r\n   \r\n\r\n\r\n----------\r\n\r\n\r\nCode snippet:\r\n---------\r\n    class test\r\n    {\r\n      public static void main(String args[]) \r\n      {\r\n\t      String str = &quot;world&quot;;\r\n\t\t  String[] split= str.split(&quot;&quot;);\r\n\t\r\n\t\t  String revers = &quot;&quot;;\r\n\t      for (int i = split.length-1; i&gt;=0; i--)\r\n\t      {\r\n\t      \trevers += split[i];\r\n\t      }\r\n\t      System.out.printf(&quot;%s&quot;, revers);\r\n       }  \r\n    }\r\n\r\n     //output : dlrow\r\n\r\n\r\n----------\r\n\r\n\r\n","title":"Reverse a string in Java","body":"<h2> Procedure :</h2>\n\n<p>We can use split() to split the string .Then use reverse loop and add the characters.</p>\n\n<hr>\n\n<h2>Code snippet:</h2>\n\n<pre><code>class test\n{\n  public static void main(String args[]) \n  {\n      String str = \"world\";\n      String[] split= str.split(\"\");\n\n      String revers = \"\";\n      for (int i = split.length-1; i&gt;=0; i--)\n      {\n        revers += split[i];\n      }\n      System.out.printf(\"%s\", revers);\n   }  \n}\n\n //output : dlrow\n</code></pre>\n\n<hr>\n"},{"tags":[],"owner":{"account_id":3482687,"reputation":159,"user_id":2914314,"display_name":"connect2krish"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1508392137,"creation_date":1508392137,"answer_id":46823489,"question_id":7569335,"body_markdown":"recursion:\r\n   \r\n     public String stringReverse(String string) {\r\n        if (string == null || string.length() == 0) {\r\n            return string;\r\n        }\r\n        return stringReverse(string.substring(1)) + string.charAt(0);\r\n     }","title":"Reverse a string in Java","body":"<p>recursion:</p>\n\n<pre><code> public String stringReverse(String string) {\n    if (string == null || string.length() == 0) {\n        return string;\n    }\n    return stringReverse(string.substring(1)) + string.charAt(0);\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8099598,"reputation":2790,"user_id":6102984,"display_name":"vegetarianCoder"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1523878253,"creation_date":1523878253,"answer_id":49856231,"question_id":7569335,"body_markdown":"There are many ways to reverse a string.\r\n\r\n*1. Converting String into Bytes: getBytes() method is used to convert the input string into bytes[].*\r\n\r\n    import java.lang.*;\r\n    import java.io.*;\r\n    import java.util.*;\r\n    class ReverseString{\r\n    public static void main(String[] args)\r\n    {\r\n        String input = &quot;GeeksforGeeks&quot;;\r\n        byte [] strAsByteArray = input.getBytes();\r\n        byte [] result =  new byte [strAsByteArray.length];\r\n\r\n        for (int i = 0; i&lt;strAsByteArray.length; i++)\r\n            result[i] = \r\n             strAsByteArray[strAsByteArray.length-i-1];\r\n \r\n        System.out.println(new String(result));\r\n    }\r\n    }\r\n*2.Converting String to character array: The user input the string to be reversed.* **(Personally suggested)**\r\n\r\n    import java.lang.*;\r\n    import java.io.*;\r\n    import java.util.*;\r\n \r\n\r\n    class ReverseString{\r\n    public static void main(String[] args)\r\n    {\r\n        String input = &quot;GeeksForGeeks&quot;;\r\n \r\n        // convert String to character array\r\n        // by using toCharArray\r\n        char[] try1 = input.toCharArray();\r\n \r\n        for (int i = try1.length-1; i&gt;=0; i--)\r\n            System.out.print(try1[i]);\r\n    }\r\n    }\r\n*3.Using ArrayList object: Convert the input string into the character array by using toCharArray() built in method. Then, add the characters of the array into the ArrayList object. Java also has built in reverse() method for the Collections class. Since Collections class reverse() method takes a list object , to reverse the list , we will pass the LinkedList object which is a type of list of characters.*\r\n\r\n    import java.lang.*;\r\n    import java.io.*;\r\n    import java.util.*;\r\n \r\n     class ReverseString{\r\n\r\n    public static void main(String[] args)\r\n    {\r\n        String input = &quot;Geeks For Geeks&quot;;\r\n        char[] hello = input.toCharArray();\r\n        List&lt;Character&gt; trial1 = new ArrayList&lt;&gt;();\r\n \r\n        for (char c: hello)\r\n            trial1.add(c);\r\n \r\n        Collections.reverse(trial1);\r\n        ListIterator li = trial1.listIterator();\r\n        while (li.hasNext())\r\n            System.out.print(li.next());\r\n    }\r\n    }","title":"Reverse a string in Java","body":"<p>There are many ways to reverse a string.</p>\n\n<p><em>1. Converting String into Bytes: getBytes() method is used to convert the input string into bytes[].</em></p>\n\n<pre><code>import java.lang.*;\nimport java.io.*;\nimport java.util.*;\nclass ReverseString{\npublic static void main(String[] args)\n{\n    String input = \"GeeksforGeeks\";\n    byte [] strAsByteArray = input.getBytes();\n    byte [] result =  new byte [strAsByteArray.length];\n\n    for (int i = 0; i&lt;strAsByteArray.length; i++)\n        result[i] = \n         strAsByteArray[strAsByteArray.length-i-1];\n\n    System.out.println(new String(result));\n}\n}\n</code></pre>\n\n<p><em>2.Converting String to character array: The user input the string to be reversed.</em> <strong>(Personally suggested)</strong></p>\n\n<pre><code>import java.lang.*;\nimport java.io.*;\nimport java.util.*;\n\n\nclass ReverseString{\npublic static void main(String[] args)\n{\n    String input = \"GeeksForGeeks\";\n\n    // convert String to character array\n    // by using toCharArray\n    char[] try1 = input.toCharArray();\n\n    for (int i = try1.length-1; i&gt;=0; i--)\n        System.out.print(try1[i]);\n}\n}\n</code></pre>\n\n<p><em>3.Using ArrayList object: Convert the input string into the character array by using toCharArray() built in method. Then, add the characters of the array into the ArrayList object. Java also has built in reverse() method for the Collections class. Since Collections class reverse() method takes a list object , to reverse the list , we will pass the LinkedList object which is a type of list of characters.</em></p>\n\n<pre><code>import java.lang.*;\nimport java.io.*;\nimport java.util.*;\n\n class ReverseString{\n\npublic static void main(String[] args)\n{\n    String input = \"Geeks For Geeks\";\n    char[] hello = input.toCharArray();\n    List&lt;Character&gt; trial1 = new ArrayList&lt;&gt;();\n\n    for (char c: hello)\n        trial1.add(c);\n\n    Collections.reverse(trial1);\n    ListIterator li = trial1.listIterator();\n    while (li.hasNext())\n        System.out.print(li.next());\n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6575754,"reputation":9298,"user_id":5081877,"accept_rate":92,"display_name":"Yash"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1545045599,"creation_date":1545045599,"answer_id":53814169,"question_id":7569335,"body_markdown":"Sequence of characters (or) String&lt;sup&gt;[String&#39;s Family](https://stackoverflow.com/a/47454051/5081877)&lt;/sup&gt;:\r\n\r\n    String testString = &quot;Yashwanth@777&quot;; // ~1 1⁄4→D800₁₆&#171;2&#178;⁰\r\n\r\n&gt; Using **Java 8 Stream API**\r\n\r\nFirst we convert String into stream by using method `CharSequence.chars()`, then we use the method `IntStream.range` to generate a sequential stream of numbers. Then we map this sequence of stream into String.\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n\tpublic static String reverseString_Stream(String str) {\r\n\t\tIntStream cahrStream = str.chars();\r\n\t\tfinal int[] array = cahrStream.map( x -&gt; x ).toArray();\r\n\t\t\r\n\t\tint from = 0, upTo = array.length;\r\n\t\tIntFunction&lt;String&gt; reverseMapper = (i) -&gt; ( Character.toString((char) array[ (upTo - i) + (from - 1) ]) );\r\n\t\t\r\n\t\tString reverseString = IntStream.range(from, upTo) // for (int i = from; i &lt; upTo ; i++) { ... }\r\n\t\t\t\t.mapToObj( reverseMapper )                 // array[ lastElement ]\r\n\t\t\t\t.collect(Collectors.joining())             // Joining stream of elements together into a String.\r\n\t\t\t\t.toString();                               // This object (which is already a string!) is itself returned.\r\n\t\t\r\n\t\tSystem.out.println(&quot;Reverse Stream as String : &quot;+ reverseString);\r\n\t\treturn reverseString;\r\n\t}\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n&gt; Using a Traditional for Loop\r\n\r\nIf you want to reverse the string then we need to follow these steps.\r\n\r\n * Convert String into an Array of Characters.\r\n * Iterate over an array in reverse order, append each Character to temporary string variable until the last character.\r\n\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n\tpublic static String reverseString( String reverse ) {\r\n\t\tif( reverse != null &amp;&amp; reverse != &quot;&quot; &amp;&amp; reverse.length() &gt; 0 ) {\r\n\t\t\t\r\n\t\t\tchar[] arr = reverse.toCharArray();\r\n\t\t\tString temp = &quot;&quot;;\r\n\t\t\tfor( int i = arr.length-1; i &gt;= 0; i-- ) {\r\n\t\t\t\ttemp += arr[i];\r\n\t\t\t}\r\n\t\t\tSystem.out.println(&quot;Reverse String : &quot;+ temp);\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n&gt; Easy way to Use reverse method provided form StringBuffer or StringBuilder Classes \r\n\r\nStringBuilder and StringBuffer are mutable sequence of characters. That means one can change the value of these object&#39;s.\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n\tStringBuffer buffer = new StringBuffer(str);\r\n\tSystem.out.println(&quot;StringBuffer - reverse : &quot;+ buffer.reverse() );\r\n\t\r\n\tString builderString = (new StringBuilder(str)).reverse().toString;\r\n\tSystem.out.println(&quot;StringBuilder generated reverse String : &quot;+ builderString  );\r\n\r\n&lt;!-- language: lang-java --&gt;\r\nStringBuffer has the same methods as the StringBuilder, but each method in StringBuffer is synchronized so it is thread safe.\r\n\r\n","title":"Reverse a string in Java","body":"<p>Sequence of characters (or) String<sup><a href=\"https://stackoverflow.com/a/47454051/5081877\">String's Family</a></sup>:</p>\n\n<pre><code>String testString = \"Yashwanth@777\"; // ~1 1⁄4→D800₁₆«2²⁰\n</code></pre>\n\n<blockquote>\n  <p>Using <strong>Java 8 Stream API</strong></p>\n</blockquote>\n\n<p>First we convert String into stream by using method <code>CharSequence.chars()</code>, then we use the method <code>IntStream.range</code> to generate a sequential stream of numbers. Then we map this sequence of stream into String.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public static String reverseString_Stream(String str) {\n    IntStream cahrStream = str.chars();\n    final int[] array = cahrStream.map( x -&gt; x ).toArray();\n\n    int from = 0, upTo = array.length;\n    IntFunction&lt;String&gt; reverseMapper = (i) -&gt; ( Character.toString((char) array[ (upTo - i) + (from - 1) ]) );\n\n    String reverseString = IntStream.range(from, upTo) // for (int i = from; i &lt; upTo ; i++) { ... }\n            .mapToObj( reverseMapper )                 // array[ lastElement ]\n            .collect(Collectors.joining())             // Joining stream of elements together into a String.\n            .toString();                               // This object (which is already a string!) is itself returned.\n\n    System.out.println(\"Reverse Stream as String : \"+ reverseString);\n    return reverseString;\n}\n</code></pre>\n\n<blockquote>\n  <p>Using a Traditional for Loop</p>\n</blockquote>\n\n<p>If you want to reverse the string then we need to follow these steps.</p>\n\n<ul>\n<li>Convert String into an Array of Characters.</li>\n<li>Iterate over an array in reverse order, append each Character to temporary string variable until the last character.</li>\n</ul>\n\n<pre class=\"lang-java prettyprint-override\"><code>public static String reverseString( String reverse ) {\n    if( reverse != null &amp;&amp; reverse != \"\" &amp;&amp; reverse.length() &gt; 0 ) {\n\n        char[] arr = reverse.toCharArray();\n        String temp = \"\";\n        for( int i = arr.length-1; i &gt;= 0; i-- ) {\n            temp += arr[i];\n        }\n        System.out.println(\"Reverse String : \"+ temp);\n    }\n    return null;\n}\n</code></pre>\n\n<blockquote>\n  <p>Easy way to Use reverse method provided form StringBuffer or StringBuilder Classes </p>\n</blockquote>\n\n<p>StringBuilder and StringBuffer are mutable sequence of characters. That means one can change the value of these object's.\n</p>\n\n<pre><code>StringBuffer buffer = new StringBuffer(str);\nSystem.out.println(\"StringBuffer - reverse : \"+ buffer.reverse() );\n\nString builderString = (new StringBuilder(str)).reverse().toString;\nSystem.out.println(\"StringBuilder generated reverse String : \"+ builderString  );\n</code></pre>\n\n<p>StringBuffer has the same methods as the StringBuilder, but each method in StringBuffer is synchronized so it is thread safe.</p>\n"},{"tags":[],"owner":{"account_id":9902388,"reputation":189,"user_id":7332002,"display_name":"Muhammad Aasharib Nawshad"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1556945161,"creation_date":1556945161,"answer_id":55979523,"question_id":7569335,"body_markdown":"    public static String revString(String str){\r\n        char[] revCharArr = str.toCharArray();\r\n        for (int i=0; i&lt; str.length()/2; i++){\r\n            char f = revCharArr[i];\r\n            char l = revCharArr[str.length()-i-1];\r\n            revCharArr[i] = l;\r\n            revCharArr[str.length()-i-1] = f;\r\n        }\r\n        String revStr = new String(revCharArr);\r\n        return revStr;\r\n    }","title":"Reverse a string in Java","body":"<pre><code>public static String revString(String str){\n    char[] revCharArr = str.toCharArray();\n    for (int i=0; i&lt; str.length()/2; i++){\n        char f = revCharArr[i];\n        char l = revCharArr[str.length()-i-1];\n        revCharArr[i] = l;\n        revCharArr[str.length()-i-1] = f;\n    }\n    String revStr = new String(revCharArr);\n    return revStr;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9475267,"reputation":115,"user_id":7044810,"display_name":"Sameer Shrestha"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1566068438,"creation_date":1566068438,"answer_id":57539131,"question_id":7569335,"body_markdown":"Simple For loop in java\r\n\r\n     public void reverseString(char[] s) {\r\n        int length = s.length;\r\n        for (int i = 0; i &lt; s.length / 2; i++) {\r\n\t\t\t// swaping character\r\n            char temp = s[length - i - 1];\r\n            s[length - i - 1] = s[i];\r\n            s[i] = temp;\r\n        }\r\n    }","title":"Reverse a string in Java","body":"<p>Simple For loop in java</p>\n\n<pre><code> public void reverseString(char[] s) {\n    int length = s.length;\n    for (int i = 0; i &lt; s.length / 2; i++) {\n        // swaping character\n        char temp = s[length - i - 1];\n        s[length - i - 1] = s[i];\n        s[i] = temp;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10404394,"reputation":193,"user_id":7706073,"display_name":"Gaurav Kukade"},"down_vote_count":1,"up_vote_count":13,"is_accepted":false,"score":12,"last_activity_date":1692370536,"creation_date":1638802694,"answer_id":70247480,"question_id":7569335,"body_markdown":"# Using `charAt()` method\r\n\r\n```java\r\nString name = &quot;gaurav&quot;;\r\nString reversedString = &quot;&quot;;\r\n    \r\nfor(int i = name.length() - 1; i &gt;= 0; i--){\r\n    reversedString += name.charAt(i);\r\n}\r\n\r\nSystem.out.println(reversedString);\r\n```\r\n# Using `toCharArray()` method\r\n\r\n```java\r\nString name = &quot;gaurav&quot;;\r\nchar [] stringCharArray = name.toCharArray();\r\nString reversedString = &quot;&quot;;\r\n    \r\nfor(int i = stringCharArray.length - 1; i &gt;= 0; i--) {\r\n    reversedString += stringCharArray[i];\r\n}\r\n\r\nSystem.out.println(reversedString);\r\n```\r\n\r\n# Using `reverse()` method of the [StringBuilder][1]\r\n\r\n```java\r\nString name = &quot;gaurav&quot;;\r\n    \r\nString reversedString = new StringBuilder(name).reverse().toString();\r\n    \r\nSystem.out.println(reversedString);\r\n```\r\n\r\nCheck https://coderolls.com/reverse-a-string-in-java/\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/lang/StringBuilder.html","title":"Reverse a string in Java","body":"<h1>Using <code>charAt()</code> method</h1>\n<pre class=\"lang-java prettyprint-override\"><code>String name = &quot;gaurav&quot;;\nString reversedString = &quot;&quot;;\n    \nfor(int i = name.length() - 1; i &gt;= 0; i--){\n    reversedString += name.charAt(i);\n}\n\nSystem.out.println(reversedString);\n</code></pre>\n<h1>Using <code>toCharArray()</code> method</h1>\n<pre class=\"lang-java prettyprint-override\"><code>String name = &quot;gaurav&quot;;\nchar [] stringCharArray = name.toCharArray();\nString reversedString = &quot;&quot;;\n    \nfor(int i = stringCharArray.length - 1; i &gt;= 0; i--) {\n    reversedString += stringCharArray[i];\n}\n\nSystem.out.println(reversedString);\n</code></pre>\n<h1>Using <code>reverse()</code> method of the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/StringBuilder.html\" rel=\"nofollow noreferrer\">StringBuilder</a></h1>\n<pre class=\"lang-java prettyprint-override\"><code>String name = &quot;gaurav&quot;;\n    \nString reversedString = new StringBuilder(name).reverse().toString();\n    \nSystem.out.println(reversedString);\n</code></pre>\n<p>Check <a href=\"https://coderolls.com/reverse-a-string-in-java/\" rel=\"nofollow noreferrer\">https://coderolls.com/reverse-a-string-in-java/</a></p>\n"},{"tags":[],"owner":{"account_id":16229064,"reputation":59,"user_id":11718457,"display_name":"bluejazzshark"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660707168,"creation_date":1660707168,"answer_id":73382586,"question_id":7569335,"body_markdown":"The short answer is that Java does not provide a general solution to reversing a String due to the &quot;surrogate pairs&quot; problem, which you have to allow for.\r\n\r\nIf the requirement is that it is guaranteed to work for all Unicode and in all languages (including Welsh :), then you have to roll your own. Just do an in-place array swap of the string as its code points:\r\n\r\n    public static String reverse(String str)\r\n    {\r\n            // You get what you ask for ;)\r\n            if (str == null) return null;\r\n\r\n            // str.length() is equal to the number of unicode code points in a string\r\n            if (str.isEmpty() || str.length() == 1) return str;\r\n    \r\n            final int[] codePoints = str.codePoints().toArray();\r\n            final int len = codePoints.length;\r\n    \r\n            // swap in place\r\n            for(int i = 0; i &lt; codePoints.length/2; i++)\r\n            {\r\n                int tmp = codePoints[i];\r\n                codePoints[i] = codePoints[len-i-1];\r\n                codePoints[len-i-1] = tmp;\r\n            }\r\n    \r\n            return new String(codePoints,0,len);\r\n    }\r\n\r\nIf you do this by using String.getBytes(), then all the bytes will be reversed, which will reverse all UTF-8 encodings, and any attempt using a Character that isn&#39;t an int code point will fail with any &quot;astral plane&quot; code points (those outside the BMP).\r\n\r\nAs a general solution this is reasonably efficient, but it is extremely simple and guaranteed to work for any string, which is probably want you want from a &quot;general solution&quot;.\r\n\r\nThe only gotcha is if you read the String out of a UTF8/16 encoded file, you might have a BOM at the start, but that&#39;s outside the scope of the question.\r\n\r\n-Blue\r\n\r\n","title":"Reverse a string in Java","body":"<p>The short answer is that Java does not provide a general solution to reversing a String due to the &quot;surrogate pairs&quot; problem, which you have to allow for.</p>\n<p>If the requirement is that it is guaranteed to work for all Unicode and in all languages (including Welsh :), then you have to roll your own. Just do an in-place array swap of the string as its code points:</p>\n<pre><code>public static String reverse(String str)\n{\n        // You get what you ask for ;)\n        if (str == null) return null;\n\n        // str.length() is equal to the number of unicode code points in a string\n        if (str.isEmpty() || str.length() == 1) return str;\n\n        final int[] codePoints = str.codePoints().toArray();\n        final int len = codePoints.length;\n\n        // swap in place\n        for(int i = 0; i &lt; codePoints.length/2; i++)\n        {\n            int tmp = codePoints[i];\n            codePoints[i] = codePoints[len-i-1];\n            codePoints[len-i-1] = tmp;\n        }\n\n        return new String(codePoints,0,len);\n}\n</code></pre>\n<p>If you do this by using String.getBytes(), then all the bytes will be reversed, which will reverse all UTF-8 encodings, and any attempt using a Character that isn't an int code point will fail with any &quot;astral plane&quot; code points (those outside the BMP).</p>\n<p>As a general solution this is reasonably efficient, but it is extremely simple and guaranteed to work for any string, which is probably want you want from a &quot;general solution&quot;.</p>\n<p>The only gotcha is if you read the String out of a UTF8/16 encoded file, you might have a BOM at the start, but that's outside the scope of the question.</p>\n<p>-Blue</p>\n"},{"tags":[],"owner":{"account_id":4802598,"reputation":116,"user_id":3878790,"display_name":"cmenti"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666723533,"creation_date":1666723533,"answer_id":74198793,"question_id":7569335,"body_markdown":"Using apache.commons.lang3\r\n\r\n    StringUtils.reverse(hi)","title":"Reverse a string in Java","body":"<p>Using apache.commons.lang3</p>\n<pre><code>StringUtils.reverse(hi)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9831735,"reputation":207,"user_id":7283182,"display_name":"Shubhasish Bhunia"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667334360,"creation_date":1667334360,"answer_id":74281416,"question_id":7569335,"body_markdown":"            String str = &quot;Hello World&quot;;\r\n    \r\n            char[] strCharArr = str.toCharArray();\r\n    \r\n            for(int i = 0, k= strCharArr.length-1;i != k; i++, k--) {\r\n                char temp = strCharArr[i];\r\n                strCharArr[i] = strCharArr[k];\r\n                strCharArr[k] = temp;\r\n            }\r\n    \r\n            System.out.println(String.valueOf(strCharArr));","title":"Reverse a string in Java","body":"<pre><code>        String str = &quot;Hello World&quot;;\n\n        char[] strCharArr = str.toCharArray();\n\n        for(int i = 0, k= strCharArr.length-1;i != k; i++, k--) {\n            char temp = strCharArr[i];\n            strCharArr[i] = strCharArr[k];\n            strCharArr[k] = temp;\n        }\n\n        System.out.println(String.valueOf(strCharArr));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":366663,"reputation":9492,"user_id":712334,"display_name":"vhs"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690836253,"creation_date":1690836253,"answer_id":76807044,"question_id":7569335,"body_markdown":"Not yet suggested, you can also concatenate `hi` to an empty string and reverse it like:\r\n\r\n```java\r\n&quot;&quot;.concat(hi).reverse()\r\n```\r\n\r\nThis is also valid JavaScript.","title":"Reverse a string in Java","body":"<p>Not yet suggested, you can also concatenate <code>hi</code> to an empty string and reverse it like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>&quot;&quot;.concat(hi).reverse()\n</code></pre>\n<p>This is also valid JavaScript.</p>\n"},{"tags":[],"owner":{"account_id":24823439,"reputation":11,"user_id":18703523,"display_name":"Kavya Subramanian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698932438,"creation_date":1698932438,"answer_id":77410077,"question_id":7569335,"body_markdown":"The following Solution worked for me\r\n\r\n    \r\n    public class ReverseString {\r\n    public static void reverseString(char[] s) {\r\n        int i = 0;\r\n        int j = s.length - 1;\r\n\r\n        while (i &lt; j) {\r\n            char temp = s[i];\r\n            s[i] = s[j];\r\n            s[j] = temp;\r\n            i++;\r\n            j--;\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        char[] input = {&#39;h&#39;, &#39;e&#39;, &#39;l&#39;, &#39;l&#39;, &#39;o&#39;};\r\n        reverseString(input);\r\n        System.out.println(new String(input)); // Output: &quot;olleh&quot;\r\n    }\r\n\r\n\r\n\r\n","title":"Reverse a string in Java","body":"<p>The following Solution worked for me</p>\n<pre><code>public class ReverseString {\npublic static void reverseString(char[] s) {\n    int i = 0;\n    int j = s.length - 1;\n\n    while (i &lt; j) {\n        char temp = s[i];\n        s[i] = s[j];\n        s[j] = temp;\n        i++;\n        j--;\n    }\n}\n\npublic static void main(String[] args) {\n    char[] input = {'h', 'e', 'l', 'l', 'o'};\n    reverseString(input);\n    System.out.println(new String(input)); // Output: &quot;olleh&quot;\n}\n</code></pre>\n"}],"owner":{"account_id":254279,"reputation":6591,"user_id":533562,"accept_rate":62,"display_name":"Ron"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1362866,"favorite_count":0,"down_vote_count":8,"up_vote_count":597,"accepted_answer_id":7569370,"answer_count":37,"score":589,"last_activity_date":1698932438,"creation_date":1317127482,"question_id":7569335,"body_markdown":"I have `&quot;Hello World&quot;` kept in a String variable named `hi`.\r\n\r\nI need to print it, but reversed.\r\n\r\nHow can I do this? I understand there is some kind of a function already built-in into Java that does that.\r\n\r\nRelated: [Reverse each individual word of “Hello World” string with Java](https://stackoverflow.com/questions/2441501/reverse-hello-world-in-java)","title":"Reverse a string in Java","body":"<p>I have <code>\"Hello World\"</code> kept in a String variable named <code>hi</code>.</p>\n\n<p>I need to print it, but reversed.</p>\n\n<p>How can I do this? I understand there is some kind of a function already built-in into Java that does that.</p>\n\n<p>Related: <a href=\"https://stackoverflow.com/questions/2441501/reverse-hello-world-in-java\">Reverse each individual word of “Hello World” string with Java</a></p>\n"},{"tags":["java","spring","maven","intellij-idea"],"comments":[{"owner":{"account_id":551394,"reputation":8315,"user_id":916225,"accept_rate":69,"display_name":"seenukarthi"},"score":0,"creation_date":1698932138,"post_id":77409675,"comment_id":136468882,"body_markdown":"https://www.jetbrains.com/help/idea/configuring-scopes-and-file-colors.html#associate-file-color-with-a-scope","body":"<a href=\"https://www.jetbrains.com/help/idea/configuring-scopes-and-file-colors.html#associate-file-color-with-a-scope\" rel=\"nofollow noreferrer\">jetbrains.com/help/idea/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":17351427,"reputation":1131,"user_id":12569841,"display_name":"Arsh Shaikh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1698929664,"creation_date":1698929664,"answer_id":77409730,"question_id":77409675,"body_markdown":"It just means that those are generated and are excluded from the module.\r\n\r\nYou can check what folders are marked as source / test / excluded from\r\n\r\n    File -&gt; Project Structure -&gt; Project Settings -&gt; Modules\r\n\r\n","title":"IntelliJ IDEA 2023.2.2 orange highlight in project view","body":"<p>It just means that those are generated and are excluded from the module.</p>\n<p>You can check what folders are marked as source / test / excluded from</p>\n<pre><code>File -&gt; Project Structure -&gt; Project Settings -&gt; Modules\n</code></pre>\n"}],"owner":{"account_id":29404468,"reputation":1,"user_id":22529863,"display_name":"crocodildo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":77409730,"answer_count":1,"score":-1,"last_activity_date":1698932050,"creation_date":1698929146,"question_id":77409675,"body_markdown":"[![enter image description here](https://i.stack.imgur.com/rmtdQ.png)](https://i.stack.imgur.com/rmtdQ.png)\r\n\r\nI am a beginner so sorry if this a stupid question. So I open this project that I need to work on, and in the project view it highlights everything in target and generated-sources folder. I can still run and test it but I am worried about what that means and can&#39;t find info on it.\r\n\r\nI tried reloading the project and download it again but it happens everytime.","title":"IntelliJ IDEA 2023.2.2 orange highlight in project view","body":"<p><a href=\"https://i.stack.imgur.com/rmtdQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rmtdQ.png\" alt=\"enter image description here\" /></a></p>\n<p>I am a beginner so sorry if this a stupid question. So I open this project that I need to work on, and in the project view it highlights everything in target and generated-sources folder. I can still run and test it but I am worried about what that means and can't find info on it.</p>\n<p>I tried reloading the project and download it again but it happens everytime.</p>\n"},{"tags":["java","postgresql","hibernate","spring-data-jpa"],"comments":[{"owner":{"account_id":14892463,"reputation":360,"user_id":10753729,"display_name":"Ivan Vakhrushev"},"score":0,"creation_date":1699356852,"post_id":77399672,"comment_id":136518800,"body_markdown":"Which versions of Hibernate and Spring Boot do you use?","body":"Which versions of Hibernate and Spring Boot do you use?"}],"owner":{"account_id":14724841,"reputation":29,"user_id":10634215,"display_name":"GoldBug"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698931905,"creation_date":1698797077,"question_id":77399672,"body_markdown":"I&#39;m stuck with this error when trying to persist an Entity class in a Postgres database - \r\n\r\n`Caused by: org.hibernate.MappingException: collection foreign key mapping has wrong number of columns: com.example.model type: component[id,id]`\r\n\r\nMy **Entity class** looks like this: \r\n```java\r\n@Entity\r\n@Table(name =&quot;parent_table&quot;, uniqueConstraints = {@UniqueConstraint(name = &quot;OneAndTwoAndThreeAndFour&quot;, columnNames = { &quot;one&quot;, &quot;two&quot;,\r\n            &quot;three&quot;,&quot;four&quot;}) })\r\npublic class A implements Serializable {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy=GenerationType.AUTO)\r\n    private Integer id;\r\n\r\n    @Column(name = &quot;one&quot;, nullable = false)\r\n    private String one;\r\n\r\n    @Column(name = &quot;two&quot;, nullable = false)\r\n    private String two;\r\n\r\n    @Column(name = &quot;three&quot;, nullable = false)\r\n    private Integer three;\r\n\r\n    @Column(name = &quot;four&quot;, nullable = false)\r\n    private Integer four;\r\n\r\n    @Column(name = &quot;five&quot;)\r\n    private Long five;\r\n\r\n    @ElementCollection(targetClass = String.class, fetch = FetchType.EAGER)\r\n    @CollectionTable(\r\n            name=&quot;join_table&quot;,\r\n            joinColumns = @JoinColumn(name=&quot;parent_table_id&quot;, referencedColumnName = &quot;id&quot;))\r\n    @Column(name=&quot;some_column&quot;, nullable = false)\r\n    private Set&lt;String&gt; set;\r\n\r\n    public A() {\r\n        super();\r\n    }\r\n}\r\n```\r\n\r\nI had to create the tables in postgres myself as our application is not entirely on Spring boot. The **SQL statements to create the tables** - \r\n\r\n   \r\n\r\n     create table parent_table (\r\n        id int4 not null,\r\n        one varchar(255) not null,\r\n        two varchar(255) not null,\r\n        three int4 not null,\r\n        four int4 not null,\r\n        five int8,  \r\n        primary key (id)\r\n    );\r\n    \r\n        create table join_table (\r\n            parent_table_id int4 not null, \r\n            some_column varchar(255) not null, \r\n            primary key (parent_table_id, some_column)\r\n        );\r\n        \r\n        alter table parent_table add constraint OneAndTwoAndThreeAndFour unique (one, two, three, four);\r\n        \r\n        alter table join_table add constraint PWConstraint foreign key (parent_table_id) references parent_table;\r\n\r\n\r\n\r\nI&#39;ve already spent hours trying to debug this problem using Hibernate logs and other SO posts but no luck so far :( Please help..","title":"Hibernate error - collection foreign key mapping has wrong number of columns","body":"<p>I'm stuck with this error when trying to persist an Entity class in a Postgres database -</p>\n<p><code>Caused by: org.hibernate.MappingException: collection foreign key mapping has wrong number of columns: com.example.model type: component[id,id]</code></p>\n<p>My <strong>Entity class</strong> looks like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name =&quot;parent_table&quot;, uniqueConstraints = {@UniqueConstraint(name = &quot;OneAndTwoAndThreeAndFour&quot;, columnNames = { &quot;one&quot;, &quot;two&quot;,\n            &quot;three&quot;,&quot;four&quot;}) })\npublic class A implements Serializable {\n\n    @Id\n    @GeneratedValue(strategy=GenerationType.AUTO)\n    private Integer id;\n\n    @Column(name = &quot;one&quot;, nullable = false)\n    private String one;\n\n    @Column(name = &quot;two&quot;, nullable = false)\n    private String two;\n\n    @Column(name = &quot;three&quot;, nullable = false)\n    private Integer three;\n\n    @Column(name = &quot;four&quot;, nullable = false)\n    private Integer four;\n\n    @Column(name = &quot;five&quot;)\n    private Long five;\n\n    @ElementCollection(targetClass = String.class, fetch = FetchType.EAGER)\n    @CollectionTable(\n            name=&quot;join_table&quot;,\n            joinColumns = @JoinColumn(name=&quot;parent_table_id&quot;, referencedColumnName = &quot;id&quot;))\n    @Column(name=&quot;some_column&quot;, nullable = false)\n    private Set&lt;String&gt; set;\n\n    public A() {\n        super();\n    }\n}\n</code></pre>\n<p>I had to create the tables in postgres myself as our application is not entirely on Spring boot. The <strong>SQL statements to create the tables</strong> -</p>\n<pre><code> create table parent_table (\n    id int4 not null,\n    one varchar(255) not null,\n    two varchar(255) not null,\n    three int4 not null,\n    four int4 not null,\n    five int8,  \n    primary key (id)\n);\n\n    create table join_table (\n        parent_table_id int4 not null, \n        some_column varchar(255) not null, \n        primary key (parent_table_id, some_column)\n    );\n    \n    alter table parent_table add constraint OneAndTwoAndThreeAndFour unique (one, two, three, four);\n    \n    alter table join_table add constraint PWConstraint foreign key (parent_table_id) references parent_table;\n</code></pre>\n<p>I've already spent hours trying to debug this problem using Hibernate logs and other SO posts but no luck so far :( Please help..</p>\n"},{"tags":["java","windows","swing","icons","jna"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1351557099,"post_id":13131597,"comment_id":17858790,"body_markdown":"Are you trying to hide the OS desktop icons or the `JDesktopPane` icons??","body":"Are you trying to hide the OS desktop icons or the <code>JDesktopPane</code> icons??"},{"owner":{"account_id":1946663,"reputation":15594,"user_id":1751640,"accept_rate":75,"display_name":"Mordechai"},"score":0,"creation_date":1351557291,"post_id":13131597,"comment_id":17858818,"body_markdown":"@MadProgrammer Tag `jna` answers your question.","body":"@MadProgrammer Tag <code>jna</code> answers your question."},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1351557302,"post_id":13131597,"comment_id":17858821,"body_markdown":"Note that if your app. put them there using the JNLP API, it is possible to remove them using the same API.  Otherwise, if they don&#39;t belong to your app. you probably shouldn&#39;t be hiding desktop icons (at least, not using Java).","body":"Note that if your app. put them there using the JNLP API, it is possible to remove them using the same API.  Otherwise, if they don&#39;t belong to your app. you probably shouldn&#39;t be hiding desktop icons (at least, not using Java)."},{"owner":{"account_id":247613,"reputation":284087,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1351557390,"post_id":13131597,"comment_id":17858840,"body_markdown":"Not a very informative question. Please give us the details of your problem so we don&#39;t have to guess.","body":"Not a very informative question. Please give us the details of your problem so we don&#39;t have to guess."},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1351557676,"post_id":13131597,"comment_id":17858886,"body_markdown":"@M.M. Given how many errant tags get added to questions, that&#39;s not always the case ;)","body":"@M.M. Given how many errant tags get added to questions, that&#39;s not always the case ;)"},{"owner":{"account_id":1517458,"reputation":794,"user_id":1418118,"display_name":"Jefferson"},"score":0,"creation_date":1351557677,"post_id":13131597,"comment_id":17858887,"body_markdown":"I&#39;m trying to hide OS desktop icon [this](http://www.sevenforums.com/tutorials/3659-desktop-icons-hide-show.html) but I want to do from a swing app (using a button)","body":"I&#39;m trying to hide OS desktop icon <a href=\"http://www.sevenforums.com/tutorials/3659-desktop-icons-hide-show.html\" rel=\"nofollow noreferrer\">this</a> but I want to do from a swing app (using a button)"},{"owner":{"account_id":247613,"reputation":284087,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1351557771,"post_id":13131597,"comment_id":17858903,"body_markdown":"OK, so what have you tried, and what isn&#39;t working?","body":"OK, so what have you tried, and what isn&#39;t working?"},{"owner":{"account_id":1517458,"reputation":794,"user_id":1418118,"display_name":"Jefferson"},"score":0,"creation_date":1351557932,"post_id":13131597,"comment_id":17858924,"body_markdown":"I check this with [C#](http://stackoverflow.com/questions/6402834/how-to-hide-desktop-icons-programatically) I thought to use [JNA](https://github.com/twall/jna), but I don&#39;t have idea how to start.","body":"I check this with <a href=\"http://stackoverflow.com/questions/6402834/how-to-hide-desktop-icons-programatically\">C#</a> I thought to use <a href=\"https://github.com/twall/jna\" rel=\"nofollow noreferrer\">JNA</a>, but I don&#39;t have idea how to start."},{"owner":{"account_id":1946663,"reputation":15594,"user_id":1751640,"accept_rate":75,"display_name":"Mordechai"},"score":0,"creation_date":1351557938,"post_id":13131597,"comment_id":17858925,"body_markdown":"Icons on the taskbar(of iconified frames), if so what should it do with the frame. Or of files and folders?","body":"Icons on the taskbar(of iconified frames), if so what should it do with the frame. Or of files and folders?"},{"owner":{"account_id":1517458,"reputation":794,"user_id":1418118,"display_name":"Jefferson"},"score":0,"creation_date":1351558349,"post_id":13131597,"comment_id":17859004,"body_markdown":"@M.M. I try to do [this](http://www.sevenforums.com/tutorials/3659-desktop-icons-hide-show.html) but using a swing app, click a button and hide/show desktop OS icons.","body":"@M.M. I try to do <a href=\"http://www.sevenforums.com/tutorials/3659-desktop-icons-hide-show.html\" rel=\"nofollow noreferrer\">this</a> but using a swing app, click a button and hide/show desktop OS icons."},{"owner":{"account_id":247613,"reputation":284087,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1351558598,"post_id":13131597,"comment_id":17859037,"body_markdown":"@Jeff: no, you don&#39;t want to do with a Swing app, at least not yet. For any programming project the key is to divide and conquer. **First** do it with JNA in a very simple console app, and only when you&#39;ve got that debugged should you worry about doing something this (in a background thread of course) in a Swing application. Do not over-complicate your problem lest it becomes insurmountable. And I speak from experience because I have created quite a few Swing apps that use JNA.","body":"@Jeff: no, you don&#39;t want to do with a Swing app, at least not yet. For any programming project the key is to divide and conquer. <b>First</b> do it with JNA in a very simple console app, and only when you&#39;ve got that debugged should you worry about doing something this (in a background thread of course) in a Swing application. Do not over-complicate your problem lest it becomes insurmountable. And I speak from experience because I have created quite a few Swing apps that use JNA."}],"answers":[{"tags":[],"owner":{"account_id":29552986,"reputation":25,"user_id":22649194,"display_name":"clether"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1698931868,"creation_date":1698931868,"answer_id":77410017,"question_id":13131597,"body_markdown":"Yoy probably should use regedit to hide or show it, i do not code on java but the path to key is Компьютер\\HKEY_CURRENT_USER\\SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\Explorer\\Advanced HideIcons.","title":"How to hide show desktop icons in Windows using Java","body":"<p>Yoy probably should use regedit to hide or show it, i do not code on java but the path to key is Компьютер\\HKEY_CURRENT_USER\\SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\Explorer\\Advanced HideIcons.</p>\n"}],"owner":{"account_id":1517458,"reputation":794,"user_id":1418118,"display_name":"Jefferson"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":913,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":1,"score":0,"last_activity_date":1698931868,"creation_date":1351556841,"question_id":13131597,"body_markdown":"I would like to know how to hide/show OS desktop icons ([like this](http://www.sevenforums.com/tutorials/3659-desktop-icons-hide-show.html)) in windows using a Java swing app (for instance clicking a button). I check [this](https://stackoverflow.com/questions/6402834/how-to-hide-desktop-icons-programatically) it&#39;s with C#, I thought use JNA, but I don&#39;t have idea how to start.\r\nAny ideas?","title":"How to hide show desktop icons in Windows using Java","body":"<p>I would like to know how to hide/show OS desktop icons (<a href=\"http://www.sevenforums.com/tutorials/3659-desktop-icons-hide-show.html\" rel=\"nofollow noreferrer\">like this</a>) in windows using a Java swing app (for instance clicking a button). I check <a href=\"https://stackoverflow.com/questions/6402834/how-to-hide-desktop-icons-programatically\">this</a> it's with C#, I thought use JNA, but I don't have idea how to start.\nAny ideas?</p>\n"},{"tags":["java","request","feign","declarative","openfeign"],"comments":[{"owner":{"account_id":19663187,"reputation":383,"user_id":14394219,"display_name":"artiomi"},"score":0,"creation_date":1669967654,"post_id":74651755,"comment_id":131767573,"body_markdown":"Please also add you interface,. What values has `@RequestMapping` ?","body":"Please also add you interface,. What values has <code>@RequestMapping</code> ?"},{"owner":{"account_id":2513760,"reputation":840,"user_id":2185612,"accept_rate":33,"display_name":"WeGa"},"score":0,"creation_date":1669973502,"post_id":74651755,"comment_id":131769265,"body_markdown":"@artiomi, I&#39;ve updated my question with example","body":"@artiomi, I&#39;ve updated my question with example"}],"answers":[{"tags":[],"owner":{"account_id":20511325,"reputation":11,"user_id":15053024,"display_name":"Ergashev Abduvohid"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669975858,"creation_date":1669975858,"answer_id":74654033,"question_id":74651755,"body_markdown":"Yes, to write names of path variable is mandatory. There is no info about this in official documentation of [Spring OpenFeign][1] also. So, use with name of parameter. `@PathVariable(&quot;someId&quot;) String someId`\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-cloud-openfeign/docs/current/reference/html/","title":"Should Feign interface has @PathVariable and @RequestParam annotations with stated names to work?","body":"<p>Yes, to write names of path variable is mandatory. There is no info about this in official documentation of <a href=\"https://docs.spring.io/spring-cloud-openfeign/docs/current/reference/html/\" rel=\"nofollow noreferrer\">Spring OpenFeign</a> also. So, use with name of parameter. <code>@PathVariable(&quot;someId&quot;) String someId</code></p>\n"},{"tags":[],"owner":{"account_id":2513760,"reputation":840,"user_id":2185612,"accept_rate":33,"display_name":"WeGa"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1669978235,"creation_date":1669978235,"answer_id":74654551,"question_id":74651755,"body_markdown":"I stumbled upon related question on SO and [this answer][1] kind of answers my question too.\r\n\r\nTo formulate answer to my post:\r\n* Yes, it is mandatory by default\r\n* Yes, there is a way to automate it by configuring compilation, to preserve original method argument names in .class files and let feign&#39;s StandardReflectionParameterNameDiscoverer resolve these names by reflection\r\n\r\n  [1]: https://stackoverflow.com/a/44391584/2185612","title":"Should Feign interface has @PathVariable and @RequestParam annotations with stated names to work?","body":"<p>I stumbled upon related question on SO and <a href=\"https://stackoverflow.com/a/44391584/2185612\">this answer</a> kind of answers my question too.</p>\n<p>To formulate answer to my post:</p>\n<ul>\n<li>Yes, it is mandatory by default</li>\n<li>Yes, there is a way to automate it by configuring compilation, to preserve original method argument names in .class files and let feign's StandardReflectionParameterNameDiscoverer resolve these names by reflection</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1174873,"reputation":837,"user_id":1151108,"display_name":"Łukasz Olszewski"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698931688,"creation_date":1698931688,"answer_id":77409990,"question_id":74651755,"body_markdown":"In order to use e.g. `@PathVariable String someId)` without an explicit name parameter just apply `Spring Boot’s Gradle plugin ` or `spring-boot-starter-parent` to your project. \r\n\r\nIt&#39;ll add `-parameters` to the compilation section in your project build tool which is required for such an approach. \r\n\r\nMore details from the [documentation][1]: \r\n\r\n&gt; To let the input be mapped to the operation method’s parameters, Java\r\n&gt; code that implements an endpoint should be compiled with -parameters,\r\n&gt; and Kotlin code that implements an endpoint should be compiled with\r\n&gt; -java-parameters. This will happen automatically if you use Spring Boot’s Gradle plugin or if you use Maven and\r\n&gt; spring-boot-starter-parent.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/html/actuator.html#actuator.endpoints","title":"Should Feign interface has @PathVariable and @RequestParam annotations with stated names to work?","body":"<p>In order to use e.g. <code>@PathVariable String someId)</code> without an explicit name parameter just apply <code>Spring Boot’s Gradle plugin </code> or <code>spring-boot-starter-parent</code> to your project.</p>\n<p>It'll add <code>-parameters</code> to the compilation section in your project build tool which is required for such an approach.</p>\n<p>More details from the <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/actuator.html#actuator.endpoints\" rel=\"nofollow noreferrer\">documentation</a>:</p>\n<blockquote>\n<p>To let the input be mapped to the operation method’s parameters, Java\ncode that implements an endpoint should be compiled with -parameters,\nand Kotlin code that implements an endpoint should be compiled with\n-java-parameters. This will happen automatically if you use Spring Boot’s Gradle plugin or if you use Maven and\nspring-boot-starter-parent.</p>\n</blockquote>\n"}],"owner":{"account_id":2513760,"reputation":840,"user_id":2185612,"accept_rate":33,"display_name":"WeGa"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1784,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74654551,"answer_count":3,"score":1,"last_activity_date":1698931688,"creation_date":1669963043,"question_id":74651755,"body_markdown":"In fresh openfeign library (version 3.1.3) there is a check in [PathVariableParameterProcessor][1], that verifies, that arguments with `@PathVariable` annotation should have name attribute filled. Similar check exists in RequestParamParameterProcessor.\r\n\r\nIn [openfeign official documentation][2] there is no sign of that rule, there are examples with both named and unnamed annotations \r\n\r\nIn [one of the issues][3] of spring-cloud-netflix library (that as I heard is an openfeign&#39;s  predecessor) people also recommend just declare names of parameters.\r\n\r\nIn my project I had declared openfeign interfaces without explicitly specified parameter names (e.g. `@PathVariable String someId`), and it was working until now. Now I get exception coming from check stated above.\r\n\r\n```\r\n... org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;com.mycompany.client.MyClient&#39;: Unexpected exception during bean creation; nested exception is \r\njava.lang.IllegalStateException: PathVariable annotation was empty on param 0.\r\n...\r\n                    Caused by:\r\n                    java.lang.IllegalStateException: PathVariable annotation was empty on param 0.\r\n                        at feign.Util.checkState(Util.java:122)\r\n                        at org.springframework.cloud.openfeign.annotation.PathVariableParameterProcessor.processArgument(PathVariableParameterProcessor.java:52)\r\n                        at org.springframework.cloud.openfeign.support.SpringMvcContract.processAnnotationsOnParameter(SpringMvcContract.java:280)\r\n                        at feign.Contract$BaseContract.parseAndValidateMetadata(Contract.java:126)\r\n                        at org.springframework.cloud.openfeign.support.SpringMvcContract.parseAndValidateMetadata(SpringMvcContract.java:193)\r\n                        at feign.Contract$BaseContract.parseAndValidateMetadata(Contract.java:65)\r\n                        at feign.ReflectiveFeign$ParseHandlersByName.apply(ReflectiveFeign.java:151)\r\n                        at feign.ReflectiveFeign.newInstance(ReflectiveFeign.java:49)\r\n                        at feign.Feign$Builder.target(Feign.java:268)\r\n                        at org.springframework.cloud.openfeign.DefaultTargeter.target(DefaultTargeter.java:30)\r\n                        at org.springframework.cloud.openfeign.FeignClientFactoryBean.getTarget(FeignClientFactoryBean.java:451)\r\n                        at org.springframework.cloud.openfeign.FeignClientFactoryBean.getObject(FeignClientFactoryBean.java:402)\r\n                        at org.springframework.cloud.openfeign.FeignClientsRegistrar.lambda$registerFeignClient$0(FeignClientsRegistrar.java:235)\r\n                        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.obtainFromSupplier(AbstractAutowireCapableBeanFactory.java:1249)\r\n                        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1191)\r\n                        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)\r\n                        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\r\n                        ... 130 more\r\n\r\n```\r\nClient interface api example\r\n```\r\n    @GetMapping(&quot;/{entityType}/{entityId}&quot;)\r\n    List&lt;Document&gt; getDocs(\r\n            @PathVariable String entityType,\r\n            @PathVariable String entityId,\r\n            @RequestParam(required = false) String ownerId,\r\n            @RequestParam(required = false) String q);\r\n```\r\n\r\n\r\nCan somebody explain, is it really mandatory routine to write names yourself, or is there another way to automate it?\r\n\r\n\r\n  [1]: https://github.com/spring-cloud/spring-cloud-openfeign/blob/v3.1.3/spring-cloud-openfeign-core/src/main/java/org/springframework/cloud/openfeign/annotation/PathVariableParameterProcessor.java#L52\r\n  [2]: https://docs.spring.io/spring-cloud-openfeign/docs/current/reference/html\r\n  [3]: https://github.com/spring-cloud/spring-cloud-netflix/issues/861","title":"Should Feign interface has @PathVariable and @RequestParam annotations with stated names to work?","body":"<p>In fresh openfeign library (version 3.1.3) there is a check in <a href=\"https://github.com/spring-cloud/spring-cloud-openfeign/blob/v3.1.3/spring-cloud-openfeign-core/src/main/java/org/springframework/cloud/openfeign/annotation/PathVariableParameterProcessor.java#L52\" rel=\"nofollow noreferrer\">PathVariableParameterProcessor</a>, that verifies, that arguments with <code>@PathVariable</code> annotation should have name attribute filled. Similar check exists in RequestParamParameterProcessor.</p>\n<p>In <a href=\"https://docs.spring.io/spring-cloud-openfeign/docs/current/reference/html\" rel=\"nofollow noreferrer\">openfeign official documentation</a> there is no sign of that rule, there are examples with both named and unnamed annotations</p>\n<p>In <a href=\"https://github.com/spring-cloud/spring-cloud-netflix/issues/861\" rel=\"nofollow noreferrer\">one of the issues</a> of spring-cloud-netflix library (that as I heard is an openfeign's  predecessor) people also recommend just declare names of parameters.</p>\n<p>In my project I had declared openfeign interfaces without explicitly specified parameter names (e.g. <code>@PathVariable String someId</code>), and it was working until now. Now I get exception coming from check stated above.</p>\n<pre><code>... org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'com.mycompany.client.MyClient': Unexpected exception during bean creation; nested exception is \njava.lang.IllegalStateException: PathVariable annotation was empty on param 0.\n...\n                    Caused by:\n                    java.lang.IllegalStateException: PathVariable annotation was empty on param 0.\n                        at feign.Util.checkState(Util.java:122)\n                        at org.springframework.cloud.openfeign.annotation.PathVariableParameterProcessor.processArgument(PathVariableParameterProcessor.java:52)\n                        at org.springframework.cloud.openfeign.support.SpringMvcContract.processAnnotationsOnParameter(SpringMvcContract.java:280)\n                        at feign.Contract$BaseContract.parseAndValidateMetadata(Contract.java:126)\n                        at org.springframework.cloud.openfeign.support.SpringMvcContract.parseAndValidateMetadata(SpringMvcContract.java:193)\n                        at feign.Contract$BaseContract.parseAndValidateMetadata(Contract.java:65)\n                        at feign.ReflectiveFeign$ParseHandlersByName.apply(ReflectiveFeign.java:151)\n                        at feign.ReflectiveFeign.newInstance(ReflectiveFeign.java:49)\n                        at feign.Feign$Builder.target(Feign.java:268)\n                        at org.springframework.cloud.openfeign.DefaultTargeter.target(DefaultTargeter.java:30)\n                        at org.springframework.cloud.openfeign.FeignClientFactoryBean.getTarget(FeignClientFactoryBean.java:451)\n                        at org.springframework.cloud.openfeign.FeignClientFactoryBean.getObject(FeignClientFactoryBean.java:402)\n                        at org.springframework.cloud.openfeign.FeignClientsRegistrar.lambda$registerFeignClient$0(FeignClientsRegistrar.java:235)\n                        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.obtainFromSupplier(AbstractAutowireCapableBeanFactory.java:1249)\n                        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1191)\n                        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)\n                        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\n                        ... 130 more\n\n</code></pre>\n<p>Client interface api example</p>\n<pre><code>    @GetMapping(&quot;/{entityType}/{entityId}&quot;)\n    List&lt;Document&gt; getDocs(\n            @PathVariable String entityType,\n            @PathVariable String entityId,\n            @RequestParam(required = false) String ownerId,\n            @RequestParam(required = false) String q);\n</code></pre>\n<p>Can somebody explain, is it really mandatory routine to write names yourself, or is there another way to automate it?</p>\n"},{"tags":["java","dns","gslb"],"answers":[{"tags":[],"owner":{"account_id":18462,"reputation":52969,"user_id":42304,"accept_rate":98,"display_name":"Byron Whitlock"},"down_vote_count":0,"up_vote_count":76,"is_accepted":false,"score":76,"last_activity_date":1249930844,"creation_date":1249930844,"answer_id":1256609,"question_id":1256556,"body_markdown":"Java has some seriously weird dns caching behavior. Your best bet is to turn off dns caching or set it to some low number like 5 seconds.\r\n\r\n&lt;blockquote&gt;\r\n&lt;b&gt;networkaddress.cache.ttl (default: -1)&lt;/b&gt;&lt;Br&gt;\r\n\r\n    Indicates the caching policy for successful name lookups from the name service. The value is specified as as integer to indicate the number of seconds to cache the successful lookup. A value of -1 indicates &quot;cache forever&quot;.&lt;p&gt;\r\n\r\n&lt;b&gt;networkaddress.cache.negative.ttl (default: 10)&lt;/b&gt;&lt;br&gt;\r\n\r\n    Indicates the caching policy for un-successful name lookups from the name service. The value is specified as as integer to indicate the number of seconds to cache the failure for un-successful lookups. A value of 0 indicates &quot;never cache&quot;. A value of -1 indicates &quot;cache forever&quot;.\r\n&lt;/blockquote&gt;\r\n- http://java.sun.com/j2se/1.4.2/docs/api/java/net/InetAddress.html","title":"How to make Java honor the DNS Caching Timeout?","body":"<p>Java has some seriously weird dns caching behavior. Your best bet is to turn off dns caching or set it to some low number like 5 seconds.</p>\n\n<blockquote>\n<b>networkaddress.cache.ttl (default: -1)</b><Br>\n\n    Indicates the caching policy for successful name lookups from the name service. The value is specified as as integer to indicate the number of seconds to cache the successful lookup. A value of -1 indicates \"cache forever\".<p>\n\n<b>networkaddress.cache.negative.ttl (default: 10)</b><br>\n\n    Indicates the caching policy for un-successful name lookups from the name service. The value is specified as as integer to indicate the number of seconds to cache the failure for un-successful lookups. A value of 0 indicates \"never cache\". A value of -1 indicates \"cache forever\".\n</blockquote>\n\n<ul>\n<li><a href=\"http://java.sun.com/j2se/1.4.2/docs/api/java/net/InetAddress.html\" rel=\"noreferrer\">http://java.sun.com/j2se/1.4.2/docs/api/java/net/InetAddress.html</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":3001,"reputation":138707,"user_id":4249,"accept_rate":84,"display_name":"matt b"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1249932785,"creation_date":1249932785,"answer_id":1256766,"question_id":1256556,"body_markdown":"To expand on Byron&#39;s answer, I believe you need to edit the file `java.security` in the `%JRE_HOME%\\lib\\security` directory to effect this change.\r\n\r\nHere is the relevant section:\r\n\r\n    #\r\n    # The Java-level namelookup cache policy for successful lookups:\r\n    #\r\n    # any negative value: caching forever\r\n    # any positive value: the number of seconds to cache an address for\r\n    # zero: do not cache\r\n    #\r\n    # default value is forever (FOREVER). For security reasons, this\r\n    # caching is made forever when a security manager is set. When a security\r\n    # manager is not set, the default behavior is to cache for 30 seconds.\r\n    #\r\n    # NOTE: setting this to anything other than the default value can have\r\n    #       serious security implications. Do not set it unless \r\n    #       you are sure you are not exposed to DNS spoofing attack.\r\n    #\r\n    #networkaddress.cache.ttl=-1 \r\n\r\nDocumentation on the `java.security` file [here][1].\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/technotes/guides/security/PolicyFiles.html","title":"How to make Java honor the DNS Caching Timeout?","body":"<p>To expand on Byron's answer, I believe you need to edit the file <code>java.security</code> in the <code>%JRE_HOME%\\lib\\security</code> directory to effect this change.</p>\n\n<p>Here is the relevant section:</p>\n\n<pre><code>#\n# The Java-level namelookup cache policy for successful lookups:\n#\n# any negative value: caching forever\n# any positive value: the number of seconds to cache an address for\n# zero: do not cache\n#\n# default value is forever (FOREVER). For security reasons, this\n# caching is made forever when a security manager is set. When a security\n# manager is not set, the default behavior is to cache for 30 seconds.\n#\n# NOTE: setting this to anything other than the default value can have\n#       serious security implications. Do not set it unless \n#       you are sure you are not exposed to DNS spoofing attack.\n#\n#networkaddress.cache.ttl=-1 \n</code></pre>\n\n<p>Documentation on the <code>java.security</code> file <a href=\"http://java.sun.com/javase/6/docs/technotes/guides/security/PolicyFiles.html\" rel=\"noreferrer\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":1045732,"reputation":11348,"user_id":1050755,"accept_rate":51,"display_name":"user1050755"},"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1362692038,"creation_date":1362691468,"answer_id":15282042,"question_id":1256556,"body_markdown":"This has obviously been fixed in newer releases (SE 6 and 7). I experience a 30 second caching time max when running the following code snippet while watching port 53 activity using tcpdump.\r\n\r\n    /**\r\n     * http://stackoverflow.com/questions/1256556/any-way-to-make-java-honor-the-dns-caching-timeout-ttl\r\n     *\r\n     * Result: Java 6 distributed with Ubuntu 12.04 and Java 7 u15 downloaded from Oracle have\r\n     * an expiry time for dns lookups of approx. 30 seconds.\r\n     */\r\n    \r\n    import java.util.*;\r\n    import java.text.*;\r\n    import java.security.*;\r\n    \r\n    import java.net.InetAddress;\r\n    import java.net.UnknownHostException;\r\n    import java.io.BufferedReader;\r\n    import java.io.InputStreamReader;\r\n    import java.io.InputStream;\r\n    import java.net.URL;\r\n    import java.net.URLConnection;\r\n    \r\n    public class Test {\r\n        final static String hostname = &quot;www.google.com&quot;;\r\n        public static void main(String[] args) {\r\n            // only required for Java SE 5 and lower:\r\n            //Security.setProperty(&quot;networkaddress.cache.ttl&quot;, &quot;30&quot;);\r\n\r\n            System.out.println(Security.getProperty(&quot;networkaddress.cache.ttl&quot;));\r\n            System.out.println(System.getProperty(&quot;networkaddress.cache.ttl&quot;));\r\n            System.out.println(Security.getProperty(&quot;networkaddress.cache.negative.ttl&quot;));\r\n            System.out.println(System.getProperty(&quot;networkaddress.cache.negative.ttl&quot;));\r\n    \r\n            while(true) {\r\n                int i = 0;\r\n                try {\r\n                    makeRequest();\r\n                    InetAddress inetAddress = InetAddress.getLocalHost();\r\n                    System.out.println(new Date());\r\n                    inetAddress = InetAddress.getByName(hostname);\r\n                    displayStuff(hostname, inetAddress);\r\n                } catch (UnknownHostException e) {\r\n                    e.printStackTrace();\r\n                }\r\n                try {\r\n                    Thread.sleep(5L*1000L);\r\n                } catch(Exception ex) {}\r\n                i++;\r\n            }\r\n        }\r\n    \r\n        public static void displayStuff(String whichHost, InetAddress inetAddress) {\r\n            System.out.println(&quot;Which Host:&quot; + whichHost);\r\n            System.out.println(&quot;Canonical Host Name:&quot; + inetAddress.getCanonicalHostName());\r\n            System.out.println(&quot;Host Name:&quot; + inetAddress.getHostName());\r\n            System.out.println(&quot;Host Address:&quot; + inetAddress.getHostAddress());\r\n        }\r\n    \r\n        public static void makeRequest() {\r\n            try {\r\n                URL url = new URL(&quot;http://&quot;+hostname+&quot;/&quot;);\r\n                URLConnection conn = url.openConnection();\r\n                conn.connect();\r\n                InputStream is = conn.getInputStream();\r\n                InputStreamReader ird = new InputStreamReader(is);\r\n                BufferedReader rd = new BufferedReader(ird);\r\n                String res;\r\n                while((res = rd.readLine()) != null) {\r\n                    System.out.println(res);\r\n                    break;\r\n                }\r\n                rd.close();\r\n            } catch(Exception ex) {\r\n                ex.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"How to make Java honor the DNS Caching Timeout?","body":"<p>This has obviously been fixed in newer releases (SE 6 and 7). I experience a 30 second caching time max when running the following code snippet while watching port 53 activity using tcpdump.</p>\n\n<pre><code>/**\n * http://stackoverflow.com/questions/1256556/any-way-to-make-java-honor-the-dns-caching-timeout-ttl\n *\n * Result: Java 6 distributed with Ubuntu 12.04 and Java 7 u15 downloaded from Oracle have\n * an expiry time for dns lookups of approx. 30 seconds.\n */\n\nimport java.util.*;\nimport java.text.*;\nimport java.security.*;\n\nimport java.net.InetAddress;\nimport java.net.UnknownHostException;\nimport java.io.BufferedReader;\nimport java.io.InputStreamReader;\nimport java.io.InputStream;\nimport java.net.URL;\nimport java.net.URLConnection;\n\npublic class Test {\n    final static String hostname = \"www.google.com\";\n    public static void main(String[] args) {\n        // only required for Java SE 5 and lower:\n        //Security.setProperty(\"networkaddress.cache.ttl\", \"30\");\n\n        System.out.println(Security.getProperty(\"networkaddress.cache.ttl\"));\n        System.out.println(System.getProperty(\"networkaddress.cache.ttl\"));\n        System.out.println(Security.getProperty(\"networkaddress.cache.negative.ttl\"));\n        System.out.println(System.getProperty(\"networkaddress.cache.negative.ttl\"));\n\n        while(true) {\n            int i = 0;\n            try {\n                makeRequest();\n                InetAddress inetAddress = InetAddress.getLocalHost();\n                System.out.println(new Date());\n                inetAddress = InetAddress.getByName(hostname);\n                displayStuff(hostname, inetAddress);\n            } catch (UnknownHostException e) {\n                e.printStackTrace();\n            }\n            try {\n                Thread.sleep(5L*1000L);\n            } catch(Exception ex) {}\n            i++;\n        }\n    }\n\n    public static void displayStuff(String whichHost, InetAddress inetAddress) {\n        System.out.println(\"Which Host:\" + whichHost);\n        System.out.println(\"Canonical Host Name:\" + inetAddress.getCanonicalHostName());\n        System.out.println(\"Host Name:\" + inetAddress.getHostName());\n        System.out.println(\"Host Address:\" + inetAddress.getHostAddress());\n    }\n\n    public static void makeRequest() {\n        try {\n            URL url = new URL(\"http://\"+hostname+\"/\");\n            URLConnection conn = url.openConnection();\n            conn.connect();\n            InputStream is = conn.getInputStream();\n            InputStreamReader ird = new InputStreamReader(is);\n            BufferedReader rd = new BufferedReader(ird);\n            String res;\n            while((res = rd.readLine()) != null) {\n                System.out.println(res);\n                break;\n            }\n            rd.close();\n        } catch(Exception ex) {\n            ex.printStackTrace();\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":176459,"reputation":18762,"user_id":407170,"accept_rate":88,"display_name":"Les Hazlewood"},"down_vote_count":0,"up_vote_count":94,"is_accepted":false,"score":94,"last_activity_date":1686688414,"creation_date":1371747024,"answer_id":17219327,"question_id":1256556,"body_markdown":"Per Byron&#39;s answer, you can&#39;t set `networkaddress.cache.ttl` or `networkaddress.cache.negative.ttl` as System Properties by using the `-D` flag or calling `System.setProperty` because these are not System properties - they are *Security* properties.\r\n\r\nIf you want to use a System property to trigger this behavior (so you can use the `-D` flag or call `System.setProperty`), you will want to set the following *System* property:\r\n\r\n    -Dsun.net.inetaddr.ttl=0\r\n\r\nThis system property will enable the desired effect. &quot;0&quot; (Zero) here means disable DNS caching at the JVM level, thus the original TTL value from the DNS will be consulted and used.\r\n\r\nBut be aware: if you don&#39;t use the `-D` flag when starting the JVM process and elect to call this from code instead:\r\n\r\n    java.security.Security.setProperty(&quot;networkaddress.cache.ttl&quot; , &quot;0&quot;)\r\n\r\nThis code _must_ execute before any other code in the JVM attempts to perform networking operations.  \r\n\r\nThis is important because, for example, if you called `Security.setProperty` in a .war file and deployed that .war to Tomcat, this wouldn&#39;t work: Tomcat uses the Java networking stack to initialize itself much earlier than your .war&#39;s code is executed.  Because of this &#39;race condition&#39;, it is usually more convenient to use the `-D` flag when starting the JVM process. \r\n\r\nIf you don&#39;t use `-Dsun.net.inetaddr.ttl=0` or call `Security.setProperty`, you will need to edit `$JRE_HOME/lib/security/java.security` and set those security properties in that file, e.g.\r\n\r\n    networkaddress.cache.ttl = 0\r\n    networkaddress.cache.negative.ttl = 0\r\n\r\nBut pay attention to the security warnings in the comments surrounding those properties.  Only do this if you are reasonably confident that you are not susceptible to [DNS spoofing attacks](https://en.wikipedia.org/wiki/DNS_spoofing).\r\n\r\nIt is worth noting that the [Oracle JDK 8 docs recommended approach][1] is to to use `networkaddress.cache.ttl` and `networkaddress.cache.negative.ttl` as already described in the official documentation here. These two properties cannot be set at the command line but should be set using `setProperty()` or utilize the security policy file. \r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/technotes/guides/net/properties.html#nct","title":"How to make Java honor the DNS Caching Timeout?","body":"<p>Per Byron's answer, you can't set <code>networkaddress.cache.ttl</code> or <code>networkaddress.cache.negative.ttl</code> as System Properties by using the <code>-D</code> flag or calling <code>System.setProperty</code> because these are not System properties - they are <em>Security</em> properties.</p>\n<p>If you want to use a System property to trigger this behavior (so you can use the <code>-D</code> flag or call <code>System.setProperty</code>), you will want to set the following <em>System</em> property:</p>\n<pre><code>-Dsun.net.inetaddr.ttl=0\n</code></pre>\n<p>This system property will enable the desired effect. &quot;0&quot; (Zero) here means disable DNS caching at the JVM level, thus the original TTL value from the DNS will be consulted and used.</p>\n<p>But be aware: if you don't use the <code>-D</code> flag when starting the JVM process and elect to call this from code instead:</p>\n<pre><code>java.security.Security.setProperty(&quot;networkaddress.cache.ttl&quot; , &quot;0&quot;)\n</code></pre>\n<p>This code <em>must</em> execute before any other code in the JVM attempts to perform networking operations.</p>\n<p>This is important because, for example, if you called <code>Security.setProperty</code> in a .war file and deployed that .war to Tomcat, this wouldn't work: Tomcat uses the Java networking stack to initialize itself much earlier than your .war's code is executed.  Because of this 'race condition', it is usually more convenient to use the <code>-D</code> flag when starting the JVM process.</p>\n<p>If you don't use <code>-Dsun.net.inetaddr.ttl=0</code> or call <code>Security.setProperty</code>, you will need to edit <code>$JRE_HOME/lib/security/java.security</code> and set those security properties in that file, e.g.</p>\n<pre><code>networkaddress.cache.ttl = 0\nnetworkaddress.cache.negative.ttl = 0\n</code></pre>\n<p>But pay attention to the security warnings in the comments surrounding those properties.  Only do this if you are reasonably confident that you are not susceptible to <a href=\"https://en.wikipedia.org/wiki/DNS_spoofing\" rel=\"nofollow noreferrer\">DNS spoofing attacks</a>.</p>\n<p>It is worth noting that the <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/net/properties.html#nct\" rel=\"nofollow noreferrer\">Oracle JDK 8 docs recommended approach</a> is to to use <code>networkaddress.cache.ttl</code> and <code>networkaddress.cache.negative.ttl</code> as already described in the official documentation here. These two properties cannot be set at the command line but should be set using <code>setProperty()</code> or utilize the security policy file.</p>\n"},{"tags":[],"owner":{"account_id":3629218,"reputation":1414,"user_id":3025921,"accept_rate":100,"display_name":"thesquaregroot"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1511810136,"creation_date":1433365957,"answer_id":30630843,"question_id":1256556,"body_markdown":"To summarize the other answers, in `&lt;jre-path&gt;/lib/security/java.security` you can set the value of the property `networkaddress.cache.ttl` to adjust how DNS lookups are cached.  Note that this is *not* a system property but a security property.  I was able to set this using:\r\n\r\n    java.security.Security.setProperty(&quot;networkaddress.cache.ttl&quot;, &quot;&lt;value&gt;&quot;);\r\n\r\nThis can also be set by the system property `-Dsun.net.inetaddr.ttl` though this will not override a security property if it is set elsewhere.\r\n\r\nI would also like to add that if you are seeing this issue with web services in WebSphere, as I was, setting `networkaddress.cache.ttl` will not be enough.  You need to set the system property `disableWSAddressCaching` to `true`.  Unlike the time-to-live property, this can be set as a JVM argument or via `System.setProperty`).\r\n\r\nIBM has a pretty detailed post on how WebSphere handles DNS caching [here](http://www-01.ibm.com/support/docview.wss?uid=swg21207534).  The relevant piece to the above is:\r\n\r\n&gt; To disable address caching for Web services, you need to set an additional JVM custom property disableWSAddressCaching to true. Use this property to disable address caching for Web services. If your system typically runs with lots of client threads, and you encounter lock contention on the wsAddrCache cache, you can set this custom property to true, to prevent caching of the Web services data. ","title":"How to make Java honor the DNS Caching Timeout?","body":"<p>To summarize the other answers, in <code>&lt;jre-path&gt;/lib/security/java.security</code> you can set the value of the property <code>networkaddress.cache.ttl</code> to adjust how DNS lookups are cached.  Note that this is <em>not</em> a system property but a security property.  I was able to set this using:</p>\n\n<pre><code>java.security.Security.setProperty(\"networkaddress.cache.ttl\", \"&lt;value&gt;\");\n</code></pre>\n\n<p>This can also be set by the system property <code>-Dsun.net.inetaddr.ttl</code> though this will not override a security property if it is set elsewhere.</p>\n\n<p>I would also like to add that if you are seeing this issue with web services in WebSphere, as I was, setting <code>networkaddress.cache.ttl</code> will not be enough.  You need to set the system property <code>disableWSAddressCaching</code> to <code>true</code>.  Unlike the time-to-live property, this can be set as a JVM argument or via <code>System.setProperty</code>).</p>\n\n<p>IBM has a pretty detailed post on how WebSphere handles DNS caching <a href=\"http://www-01.ibm.com/support/docview.wss?uid=swg21207534\" rel=\"nofollow noreferrer\">here</a>.  The relevant piece to the above is:</p>\n\n<blockquote>\n  <p>To disable address caching for Web services, you need to set an additional JVM custom property disableWSAddressCaching to true. Use this property to disable address caching for Web services. If your system typically runs with lots of client threads, and you encounter lock contention on the wsAddrCache cache, you can set this custom property to true, to prevent caching of the Web services data. </p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":11290886,"reputation":669,"user_id":8280034,"display_name":"CloudStax"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1507419862,"creation_date":1507419862,"answer_id":46626174,"question_id":1256556,"body_markdown":"According to the [official oracle java properties](http://docs.oracle.com/javase/7/docs/technotes/guides/net/properties.html), `sun.net.inetaddr.ttl` is Sun implementation-specific property, which &quot;may not be supported in future releases&quot;. &quot;the preferred way is to use the security property&quot; `networkaddress.cache.ttl`.","title":"How to make Java honor the DNS Caching Timeout?","body":"<p>According to the <a href=\"http://docs.oracle.com/javase/7/docs/technotes/guides/net/properties.html\" rel=\"nofollow noreferrer\">official oracle java properties</a>, <code>sun.net.inetaddr.ttl</code> is Sun implementation-specific property, which \"may not be supported in future releases\". \"the preferred way is to use the security property\" <code>networkaddress.cache.ttl</code>.</p>\n"},{"tags":[],"owner":{"account_id":12265157,"reputation":1552,"user_id":8951886,"display_name":"piotr szybicki"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1612700893,"creation_date":1612700893,"answer_id":66087916,"question_id":1256556,"body_markdown":"So I decided to look at the java source code because I found official docs a bit confusing. And what I found (for OpenJDK 11) mostly aligns with what others have written. What is important is the order of evaluation of properties. \r\n\r\n**InetAddressCachePolicy.java** (I&#39;m omitting some boilerplate for readability):  \r\n```\r\n\r\nString tmpString = Security.getProperty(&quot;networkaddress.cache.ttl&quot;);\r\nif (tmpString != null) {\r\n   tmp = Integer.valueOf(tmpString);\r\n   return;\r\n}\r\n...\r\nString tmpString = System.getProperty(&quot;sun.net.inetaddr.ttl&quot;);\r\nif (tmpString != null) {\r\n   tmp = Integer.valueOf(tmpString);\r\n   return;\r\n}\r\n...\r\nif (tmp != null) {\r\n  cachePolicy = tmp &lt; 0 ? FOREVER : tmp;\r\n  propertySet = true;\r\n} else {\r\n  /* No properties defined for positive caching. If there is no\r\n  * security manager then use the default positive cache value.\r\n  */\r\n  if (System.getSecurityManager() == null) {\r\n    cachePolicy = 30;\r\n  }\r\n}\r\n\r\n```\r\nYou can clearly see that the security property is evaluated first, system property second and if any of them is set `cachePolicy` value is set to that number or `-1 (FOREVER)` if they hold a value that is bellow -1. If nothing is set it defaults to 30 seconds. As it turns out for OpenJDK that is almost always the case because by default `java.security` does not set that value, only a negative one.\r\n\r\n```\r\n#networkaddress.cache.ttl=-1 &lt;- this line is commented out\r\nnetworkaddress.cache.negative.ttl=10\r\n```\r\nBTW if the `networkaddress.cache.negative.ttl` is not set (removed from the file) the default inside the java class is 0. Documentation is wrong in this regard. This is what tripped me over.","title":"How to make Java honor the DNS Caching Timeout?","body":"<p>So I decided to look at the java source code because I found official docs a bit confusing. And what I found (for OpenJDK 11) mostly aligns with what others have written. What is important is the order of evaluation of properties.</p>\n<p><strong>InetAddressCachePolicy.java</strong> (I'm omitting some boilerplate for readability):</p>\n<pre><code>\nString tmpString = Security.getProperty(&quot;networkaddress.cache.ttl&quot;);\nif (tmpString != null) {\n   tmp = Integer.valueOf(tmpString);\n   return;\n}\n...\nString tmpString = System.getProperty(&quot;sun.net.inetaddr.ttl&quot;);\nif (tmpString != null) {\n   tmp = Integer.valueOf(tmpString);\n   return;\n}\n...\nif (tmp != null) {\n  cachePolicy = tmp &lt; 0 ? FOREVER : tmp;\n  propertySet = true;\n} else {\n  /* No properties defined for positive caching. If there is no\n  * security manager then use the default positive cache value.\n  */\n  if (System.getSecurityManager() == null) {\n    cachePolicy = 30;\n  }\n}\n\n</code></pre>\n<p>You can clearly see that the security property is evaluated first, system property second and if any of them is set <code>cachePolicy</code> value is set to that number or <code>-1 (FOREVER)</code> if they hold a value that is bellow -1. If nothing is set it defaults to 30 seconds. As it turns out for OpenJDK that is almost always the case because by default <code>java.security</code> does not set that value, only a negative one.</p>\n<pre><code>#networkaddress.cache.ttl=-1 &lt;- this line is commented out\nnetworkaddress.cache.negative.ttl=10\n</code></pre>\n<p>BTW if the <code>networkaddress.cache.negative.ttl</code> is not set (removed from the file) the default inside the java class is 0. Documentation is wrong in this regard. This is what tripped me over.</p>\n"},{"tags":[],"owner":{"account_id":2505317,"reputation":159,"user_id":2179222,"display_name":"Eduard Grinberg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698931585,"creation_date":1698931585,"answer_id":77409980,"question_id":1256556,"body_markdown":"I had the same issue. By default JVM caches the results of DNS lookup forever. Setting networkaddress.cache.ttl to 0 helps, but it doesn&#39;t &quot;honor&quot; the DNS record TTL.\r\n\r\nI used https://github.com/dnsjava/dnsjava library. \r\n\r\n    String remoteIp = org.xbill.DNS.Address.getByName(remoteHostname).getHostAddress();\r\n\r\nThis does honor the DNS record TTL regardless of networkaddress.cache.ttl setting. ","title":"How to make Java honor the DNS Caching Timeout?","body":"<p>I had the same issue. By default JVM caches the results of DNS lookup forever. Setting networkaddress.cache.ttl to 0 helps, but it doesn't &quot;honor&quot; the DNS record TTL.</p>\n<p>I used <a href=\"https://github.com/dnsjava/dnsjava\" rel=\"nofollow noreferrer\">https://github.com/dnsjava/dnsjava</a> library.</p>\n<pre><code>String remoteIp = org.xbill.DNS.Address.getByName(remoteHostname).getHostAddress();\n</code></pre>\n<p>This does honor the DNS record TTL regardless of networkaddress.cache.ttl setting.</p>\n"}],"owner":{"account_id":50238,"reputation":74702,"user_id":149808,"accept_rate":81,"display_name":"ZZ Coder"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":137971,"favorite_count":0,"down_vote_count":0,"up_vote_count":121,"answer_count":8,"score":121,"last_activity_date":1698931585,"creation_date":1249930187,"question_id":1256556,"body_markdown":"We use GSLB for geo-distribution and load-balancing. Each service is assigned a fixed domain name. Through some DNS magic, the domain name is resolved into an IP that&#39;s closest to the server with least load. For the load-balancing to work, the application server needs to honor the TTL from DNS response and to resolve the domain name again when cache times out. However, I couldn&#39;t figure out a way to do this in Java.\r\n\r\nThe application is in Java 5, running on Linux (Centos 5).\r\n","title":"How to make Java honor the DNS Caching Timeout?","body":"<p>We use GSLB for geo-distribution and load-balancing. Each service is assigned a fixed domain name. Through some DNS magic, the domain name is resolved into an IP that's closest to the server with least load. For the load-balancing to work, the application server needs to honor the TTL from DNS response and to resolve the domain name again when cache times out. However, I couldn't figure out a way to do this in Java.</p>\n\n<p>The application is in Java 5, running on Linux (Centos 5).</p>\n"},{"tags":["java","containers","quarkus","testcontainers","quarkus-testing"],"comments":[{"owner":{"account_id":385127,"reputation":6284,"user_id":742081,"display_name":"Ladicek"},"score":1,"creation_date":1698920874,"post_id":77405265,"comment_id":136466653,"body_markdown":"This works as described in https://quarkus.io/guides/getting-started-testing#quarkus-test-resource -- which also describes a workaround you can use: `@QuarkusTestResource(restrictToAnnotatedClass = true)`.","body":"This works as described in <a href=\"https://quarkus.io/guides/getting-started-testing#quarkus-test-resource\" rel=\"nofollow noreferrer\">quarkus.io/guides/getting-started-testing#quarkus-test-resou&zwnj;&#8203;rce</a> -- which also describes a workaround you can use: <code>@QuarkusTestResource(restrictToAnnotatedClass = true)</code>."},{"owner":{"account_id":1115215,"reputation":10877,"user_id":1104727,"display_name":"Holly Cummins"},"score":0,"creation_date":1698926900,"post_id":77405265,"comment_id":136467746,"body_markdown":"What&#39;s the reason you&#39;re explicitly managing the MongoDB container with testcontainers instead of just using [dev services](https://quarkus.io/guides/getting-started-dev-services)? It&#39;s possible that if you just remove `MongoIntegrationTest` from your codebase, as long as you have the Quarkus MongoDB extension in your pom, other tests that use Mongo will continue passing. This doesn&#39;t really address your question, but it would save you some code.","body":"What&#39;s the reason you&#39;re explicitly managing the MongoDB container with testcontainers instead of just using <a href=\"https://quarkus.io/guides/getting-started-dev-services\" rel=\"nofollow noreferrer\">dev services</a>? It&#39;s possible that if you just remove <code>MongoIntegrationTest</code> from your codebase, as long as you have the Quarkus MongoDB extension in your pom, other tests that use Mongo will continue passing. This doesn&#39;t really address your question, but it would save you some code."}],"answers":[{"tags":[],"owner":{"account_id":2338715,"reputation":37,"user_id":6647931,"display_name":"Nilesh Mahant"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1698909319,"creation_date":1698909319,"answer_id":77407572,"question_id":77405265,"body_markdown":"Yes, Quarkus does currently always start Testcontainers when running tests with `@QuarkusTest`, even if the test doesn&#39;t use Testcontainers. This is because Quarkus uses Testcontainers to provide Dev Services, which are automatically provisioned services that can be used in development and test mode.\r\n\r\nHere are a few ways to prevent Quarkus from starting Testcontainers when running tests:\r\n\r\n - Use the `quarkus.datasource.start-container` property. Set this\r\n   property to `false` to disable the automatic starting of Testcontainers\r\n   containers for databases. \r\n - Use a custom `QuarkusTestResourceLifecycleManager` implementation. This allows you to have complete control over which Testcontainers containers are\r\n   started and stopped before and after your tests run. \r\n - Exclude the `quarkus-testcontainers` extension from your application. This will prevent Quarkus from loading the Testcontainers extension, and\r\n   therefore prevent it from starting Testcontainers containers.","title":"Quarkus always starts Testcontainers when running tests with @QuarkusTest, even if the test doesn&#39;t use Testcontainers","body":"<p>Yes, Quarkus does currently always start Testcontainers when running tests with <code>@QuarkusTest</code>, even if the test doesn't use Testcontainers. This is because Quarkus uses Testcontainers to provide Dev Services, which are automatically provisioned services that can be used in development and test mode.</p>\n<p>Here are a few ways to prevent Quarkus from starting Testcontainers when running tests:</p>\n<ul>\n<li>Use the <code>quarkus.datasource.start-container</code> property. Set this\nproperty to <code>false</code> to disable the automatic starting of Testcontainers\ncontainers for databases.</li>\n<li>Use a custom <code>QuarkusTestResourceLifecycleManager</code> implementation. This allows you to have complete control over which Testcontainers containers are\nstarted and stopped before and after your tests run.</li>\n<li>Exclude the <code>quarkus-testcontainers</code> extension from your application. This will prevent Quarkus from loading the Testcontainers extension, and\ntherefore prevent it from starting Testcontainers containers.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":3568344,"reputation":643,"user_id":2979325,"display_name":"Serkan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698931566,"creation_date":1698931566,"answer_id":77409975,"question_id":77405265,"body_markdown":"Use this on your test class:\r\n\r\n```java\r\n@QuarkusTestResource(value = MongoIntegrationTest.Initializer.class, restrictToAnnotatedClass = true)\r\n```\r\n\r\nThis will only startup Mongo on this test class.","title":"Quarkus always starts Testcontainers when running tests with @QuarkusTest, even if the test doesn&#39;t use Testcontainers","body":"<p>Use this on your test class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@QuarkusTestResource(value = MongoIntegrationTest.Initializer.class, restrictToAnnotatedClass = true)\n</code></pre>\n<p>This will only startup Mongo on this test class.</p>\n"}],"owner":{"account_id":15083587,"reputation":3,"user_id":12253990,"display_name":"Arthur"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":261,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1698931566,"creation_date":1698868538,"question_id":77405265,"body_markdown":"After configuring Testcontainers in my project, Quarkus keeps starting a container every time I run a test with @QuarkusTest, even if the test doesn&#39;t use Testcontainers.\r\n\r\nMy Testcontainers configuration:\r\n\r\n    @Testcontainers\r\n    public class MongoIntegrationTest {\r\n    \r\n      @Container\r\n      public static final MongoDBContainer mongoDBContainer = new MongoDBContainer(\r\n          DockerImageName.parse(&quot;mongo:4.2.3&quot;))\r\n          .withExposedPorts(27017);\r\n    \r\n      public static class Initializer implements QuarkusTestResourceLifecycleManager {\r\n    \r\n        @Override\r\n        public Map&lt;String, String&gt; start() {\r\n          MongoIntegrationTest.mongoDBContainer.start();\r\n          // the way to dynamically expose allocated port\r\n          return Maps.of(&quot;quarkus.mongodb.connection-string&quot;,\r\n              &quot;mongodb://&quot; + mongoDBContainer.getHost() + &quot;:&quot;\r\n                  + mongoDBContainer.getMappedPort(27017));\r\n        }\r\n    \r\n        @Override\r\n        public void stop() {\r\n          MongoIntegrationTest.mongoDBContainer.stop();\r\n        }\r\n      }\r\n    \r\n    }\r\n\r\nMy test that requires Testcontainers, as it uses MongoDB:\r\n\r\n    @QuarkusTest\r\n    @QuarkusTestResource(MongoIntegrationTest.Initializer.class)\r\n    public class ClassMongoTest {\r\n    \r\n      @Test\r\n      void test(){\r\n        Assertions.assertTrue(true);\r\n      }\r\n    \r\n    }\r\n\r\nBut now, any class configured with @QuarkusTest is starting the MongoDB container...\r\n\r\n    @QuarkusTest\r\n    class ClassNormalTest {\r\n    \r\n      @Test\r\n      void test(){\r\n        Assertions.assertTrue(true);\r\n      }\r\n    \r\n    }\r\n\r\nSo, when I run my ClassNormalTest, Quarkus starts the containers...\r\n\r\n[Printscreen showing the Testcontainers containers:][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/1fiml.png\r\n\r\nWhy? What do I need to do to fix this?","title":"Quarkus always starts Testcontainers when running tests with @QuarkusTest, even if the test doesn&#39;t use Testcontainers","body":"<p>After configuring Testcontainers in my project, Quarkus keeps starting a container every time I run a test with @QuarkusTest, even if the test doesn't use Testcontainers.</p>\n<p>My Testcontainers configuration:</p>\n<pre><code>@Testcontainers\npublic class MongoIntegrationTest {\n\n  @Container\n  public static final MongoDBContainer mongoDBContainer = new MongoDBContainer(\n      DockerImageName.parse(&quot;mongo:4.2.3&quot;))\n      .withExposedPorts(27017);\n\n  public static class Initializer implements QuarkusTestResourceLifecycleManager {\n\n    @Override\n    public Map&lt;String, String&gt; start() {\n      MongoIntegrationTest.mongoDBContainer.start();\n      // the way to dynamically expose allocated port\n      return Maps.of(&quot;quarkus.mongodb.connection-string&quot;,\n          &quot;mongodb://&quot; + mongoDBContainer.getHost() + &quot;:&quot;\n              + mongoDBContainer.getMappedPort(27017));\n    }\n\n    @Override\n    public void stop() {\n      MongoIntegrationTest.mongoDBContainer.stop();\n    }\n  }\n\n}\n</code></pre>\n<p>My test that requires Testcontainers, as it uses MongoDB:</p>\n<pre><code>@QuarkusTest\n@QuarkusTestResource(MongoIntegrationTest.Initializer.class)\npublic class ClassMongoTest {\n\n  @Test\n  void test(){\n    Assertions.assertTrue(true);\n  }\n\n}\n</code></pre>\n<p>But now, any class configured with @QuarkusTest is starting the MongoDB container...</p>\n<pre><code>@QuarkusTest\nclass ClassNormalTest {\n\n  @Test\n  void test(){\n    Assertions.assertTrue(true);\n  }\n\n}\n</code></pre>\n<p>So, when I run my ClassNormalTest, Quarkus starts the containers...</p>\n<p><a href=\"https://i.stack.imgur.com/1fiml.png\" rel=\"nofollow noreferrer\">Printscreen showing the Testcontainers containers:</a></p>\n<p>Why? What do I need to do to fix this?</p>\n"},{"tags":["java","import","symbols"],"answers":[{"tags":[],"owner":{"account_id":19370040,"reputation":27,"user_id":20028948,"display_name":"goatishnewcastle49"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688070744,"creation_date":1688070744,"answer_id":76584439,"question_id":76584201,"body_markdown":"I noticed that this import might be missing from your Gradle which is used frequently:\r\n\r\n    implementation &#39;androidx.appcompat:appcompat:1.4.0&#39;\r\n\r\nIf this doesn’t work, you can take a combination of the usual steps of cleaning the project, rebuilding it, invalidating your caches and restarting Android Studio.\r\n\r\nOtherwise, it might be useful to try to revert to older versions of said libraries as there may be breaking changes in the new versions.","title":"Android Studio: How to fix &quot;Cannot resolve symbol &#39;core&#39;&quot;","body":"<p>I noticed that this import might be missing from your Gradle which is used frequently:</p>\n<pre><code>implementation 'androidx.appcompat:appcompat:1.4.0'\n</code></pre>\n<p>If this doesn’t work, you can take a combination of the usual steps of cleaning the project, rebuilding it, invalidating your caches and restarting Android Studio.</p>\n<p>Otherwise, it might be useful to try to revert to older versions of said libraries as there may be breaking changes in the new versions.</p>\n"}],"owner":{"account_id":19235430,"reputation":431,"user_id":14056496,"display_name":"jdevp2"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":365,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1698931165,"creation_date":1688068149,"question_id":76584201,"body_markdown":"I&#39;m getting the following errors in my Java code in Android Studio. How do I fix it?\r\n\r\n    Cannot resolve symbol &#39;NonNull&#39;\r\n    Cannot resolve symbol &#39;core&#39;\r\n    Cannot resolve symbol &#39;NotificationCompat&#39;\r\n\r\nHere is a code snippet associated with this error.\r\n\r\n    import androidx.core.app.NotificationCompat;\r\n    import androidx.annotation.NonNull;\r\n    \r\n    public class MyForegroundService extends Service {\r\n        private static final int NOTIFICATION_ID = 1;\r\n        private static final String CHANNEL_ID = &quot;ForegroundServiceChannel&quot;;\r\n        @Override\r\n        public void onCreate() {\r\n            super.onCreate();\r\n        }\r\n    \r\n        @Override\r\n        public int onStartCommand(Intent intent, int flags, int startId) {\r\n            String input = intent.getStringExtra(&quot;inputExtra&quot;);\r\n            createNotificationChannel();\r\n            // Create a notification for the foreground service\r\n            Notification notification = new NotificationCompat.Builder(this, CHANNEL_ID)\r\n                    .setContentTitle(&quot;Foreground Service&quot;)\r\n\r\nI have the followings in build.gradle as suggested by some work around but it doesn&#39;t help to resolve the issue.\r\n\r\n    dependencies {\r\n        implementation &#39;androidx.annotation:annotation:1.6.0&#39;\r\n        implementation &#39;androidx.core:core:1.10.1&#39;\r\n        implementation &#39;androidx.mediarouter:mediarouter:1.4.0&#39;\r\n        implementation &#39;androidx.core:core-ktx:1.10.1&#39;\r\n    }\r\n\r\n","title":"Android Studio: How to fix &quot;Cannot resolve symbol &#39;core&#39;&quot;","body":"<p>I'm getting the following errors in my Java code in Android Studio. How do I fix it?</p>\n<pre><code>Cannot resolve symbol 'NonNull'\nCannot resolve symbol 'core'\nCannot resolve symbol 'NotificationCompat'\n</code></pre>\n<p>Here is a code snippet associated with this error.</p>\n<pre><code>import androidx.core.app.NotificationCompat;\nimport androidx.annotation.NonNull;\n\npublic class MyForegroundService extends Service {\n    private static final int NOTIFICATION_ID = 1;\n    private static final String CHANNEL_ID = &quot;ForegroundServiceChannel&quot;;\n    @Override\n    public void onCreate() {\n        super.onCreate();\n    }\n\n    @Override\n    public int onStartCommand(Intent intent, int flags, int startId) {\n        String input = intent.getStringExtra(&quot;inputExtra&quot;);\n        createNotificationChannel();\n        // Create a notification for the foreground service\n        Notification notification = new NotificationCompat.Builder(this, CHANNEL_ID)\n                .setContentTitle(&quot;Foreground Service&quot;)\n</code></pre>\n<p>I have the followings in build.gradle as suggested by some work around but it doesn't help to resolve the issue.</p>\n<pre><code>dependencies {\n    implementation 'androidx.annotation:annotation:1.6.0'\n    implementation 'androidx.core:core:1.10.1'\n    implementation 'androidx.mediarouter:mediarouter:1.4.0'\n    implementation 'androidx.core:core-ktx:1.10.1'\n}\n</code></pre>\n"},{"tags":["java","android","kotlin"],"comments":[{"owner":{"account_id":12721843,"reputation":16003,"user_id":9241978,"display_name":"Pawel"},"score":1,"creation_date":1698930895,"post_id":77409826,"comment_id":136468594,"body_markdown":"If you don&#39;t want to generate a getter you have to annotate your property with `@JvmField`.","body":"If you don&#39;t want to generate a getter you have to annotate your property with <code>@JvmField</code>."}],"answers":[{"tags":[],"owner":{"account_id":6651855,"reputation":224820,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1698931125,"creation_date":1698931125,"answer_id":77409917,"question_id":77409826,"body_markdown":"&gt; Am I forced to use `getLogger()` accessor rather than the variable itself?\r\n\r\nNo, you can add `@JvmField` to make a Kotlin property compile into a field in Java.\r\n\r\n    @JvmField\r\n    protected val logger = ...\r\n\r\nThis gives you a protected field in Java, and the `getLogger` method will no longer be available.\r\n\r\n&gt; Doesn&#39;t this make it actually private rather than protected within Java? \r\n\r\nNo. `getLogger` is a protected method in Java.\r\n\r\nRather than documentation about the Kotlin language in general, you should look at the [Kotlin-Java interop][1] documentation when you are working in both languages. It very clearly says that a private field is generated for every Kotlin property, when it has a backing field:\r\n\r\n&gt; A Kotlin property is compiled to the following Java elements:\r\n&gt; \r\n&gt; - a getter method, with the name calculated by prepending the `get` prefix\r\n&gt; - a setter method, with the name calculated by prepending the `set` prefix (only for `var` properties)\r\n&gt; - a private field, with the same name as the property name (only for properties with backing fields)\r\n\r\n\r\n  [1]: https://kotlinlang.org/docs/java-to-kotlin-interop.html#properties","title":"Kotlin protected var unavailable in Java subclass in different module but same package","body":"<blockquote>\n<p>Am I forced to use <code>getLogger()</code> accessor rather than the variable itself?</p>\n</blockquote>\n<p>No, you can add <code>@JvmField</code> to make a Kotlin property compile into a field in Java.</p>\n<pre><code>@JvmField\nprotected val logger = ...\n</code></pre>\n<p>This gives you a protected field in Java, and the <code>getLogger</code> method will no longer be available.</p>\n<blockquote>\n<p>Doesn't this make it actually private rather than protected within Java?</p>\n</blockquote>\n<p>No. <code>getLogger</code> is a protected method in Java.</p>\n<p>Rather than documentation about the Kotlin language in general, you should look at the <a href=\"https://kotlinlang.org/docs/java-to-kotlin-interop.html#properties\" rel=\"nofollow noreferrer\">Kotlin-Java interop</a> documentation when you are working in both languages. It very clearly says that a private field is generated for every Kotlin property, when it has a backing field:</p>\n<blockquote>\n<p>A Kotlin property is compiled to the following Java elements:</p>\n<ul>\n<li>a getter method, with the name calculated by prepending the <code>get</code> prefix</li>\n<li>a setter method, with the name calculated by prepending the <code>set</code> prefix (only for <code>var</code> properties)</li>\n<li>a private field, with the same name as the property name (only for properties with backing fields)</li>\n</ul>\n</blockquote>\n"}],"owner":{"account_id":130610,"reputation":10655,"user_id":329993,"accept_rate":84,"display_name":"moonlightcheese"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77409917,"answer_count":1,"score":0,"last_activity_date":1698931125,"creation_date":1698930386,"question_id":77409826,"body_markdown":"I apparently don&#39;t understand Kotlin&#39;s rules of inheritance.  In Java, any protected variable would be available in any subclass of the variable&#39;s containing class.  In Kotlin, these rules don&#39;t seem to apply.  I&#39;m getting a compile error `&#39;logger&#39; has private access in com.example.MainActivity`.\r\n\r\nKotlin code of interest:\r\n```\r\npackage com.example.ui\r\n\r\nabstract class MainActivity : Activity() {\r\n    protected val logger = LoggerFactory.getLogger(this.javaClass)\r\n    //... other classy stuff...\r\n}\r\n```\r\n\r\nJava subclass:\r\n```\r\npackage com.example.ui;\r\n\r\npublic class MobileMainActivity extends MainActivity {\r\n    @Override\r\n\tpublic void onCreate(Bundle savedInstanceState) { //superclass derives from Activity; this is fine\r\n        //red squiggly, logger is not available, even though it&#39;s protected, in the same package, and inherits from MainActivity\r\n        logger.info(&quot;Sending multicast message for configuration...&quot;);\r\n    }\r\n}\r\n```\r\n\r\nWhat am I missing?  When I read the documentation, Kotlin appears to treat protected variables the same as Java does.\r\n\r\nKotlin docs:\r\n*https://kotlinlang.org/docs/visibility-modifiers.html#class-members*\r\n\r\nAm I forced to use `getLogger()` accessor rather than the variable itself?  Doesn&#39;t this make it actually `private` rather than `protected` within Java?  Why?  According to the documentation it shouldn&#39;t...  Where can I find information about the discrepancies when building a mixed language project with Kotlin and Java?  It seems like this could complicate migration efforts, but I suppose it couldn&#39;t be perfect...","title":"Kotlin protected var unavailable in Java subclass in different module but same package","body":"<p>I apparently don't understand Kotlin's rules of inheritance.  In Java, any protected variable would be available in any subclass of the variable's containing class.  In Kotlin, these rules don't seem to apply.  I'm getting a compile error <code>'logger' has private access in com.example.MainActivity</code>.</p>\n<p>Kotlin code of interest:</p>\n<pre><code>package com.example.ui\n\nabstract class MainActivity : Activity() {\n    protected val logger = LoggerFactory.getLogger(this.javaClass)\n    //... other classy stuff...\n}\n</code></pre>\n<p>Java subclass:</p>\n<pre><code>package com.example.ui;\n\npublic class MobileMainActivity extends MainActivity {\n    @Override\n    public void onCreate(Bundle savedInstanceState) { //superclass derives from Activity; this is fine\n        //red squiggly, logger is not available, even though it's protected, in the same package, and inherits from MainActivity\n        logger.info(&quot;Sending multicast message for configuration...&quot;);\n    }\n}\n</code></pre>\n<p>What am I missing?  When I read the documentation, Kotlin appears to treat protected variables the same as Java does.</p>\n<p>Kotlin docs:\n<em><a href=\"https://kotlinlang.org/docs/visibility-modifiers.html#class-members\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/visibility-modifiers.html#class-members</a></em></p>\n<p>Am I forced to use <code>getLogger()</code> accessor rather than the variable itself?  Doesn't this make it actually <code>private</code> rather than <code>protected</code> within Java?  Why?  According to the documentation it shouldn't...  Where can I find information about the discrepancies when building a mixed language project with Kotlin and Java?  It seems like this could complicate migration efforts, but I suppose it couldn't be perfect...</p>\n"},{"tags":["java","kotlin","gradle","intellij-idea"],"comments":[{"owner":{"account_id":969586,"reputation":2499,"user_id":992380,"display_name":"Alexey Belkov"},"score":1,"creation_date":1610363000,"post_id":65645510,"comment_id":116099724,"body_markdown":"Does it help to delete IDEA caches _manually_ as described in https://youtrack.jetbrains.com/issue/IDEA-245027?","body":"Does it help to delete IDEA caches <i>manually</i> as described in <a href=\"https://youtrack.jetbrains.com/issue/IDEA-245027\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/IDEA-245027</a>?"},{"owner":{"account_id":9924554,"reputation":1959,"user_id":7346633,"display_name":"Hykilpikonna"},"score":0,"creation_date":1610372269,"post_id":65645510,"comment_id":116103908,"body_markdown":"@AlexeyBelkov Sorry it didn&#39;t help. I tried invalidating caches and deleting the folder manually. After it indexed for a few minutes, the issue still exists. Thanks for your comment.","body":"@AlexeyBelkov Sorry it didn&#39;t help. I tried invalidating caches and deleting the folder manually. After it indexed for a few minutes, the issue still exists. Thanks for your comment."},{"owner":{"account_id":969586,"reputation":2499,"user_id":992380,"display_name":"Alexey Belkov"},"score":1,"creation_date":1610382274,"post_id":65645510,"comment_id":116108937,"body_markdown":"It could also help to remove all Gradle caches (/home/.gradle)","body":"It could also help to remove all Gradle caches (/home/.gradle)"},{"owner":{"account_id":15062152,"reputation":1774,"user_id":13519865,"display_name":"Cyber Avater"},"score":0,"creation_date":1671808123,"post_id":65645510,"comment_id":132181213,"body_markdown":"Please follow this issue, https://youtrack.jetbrains.com/issue/KTIJ-17923\nCheck Project Structure JDK","body":"Please follow this issue, <a href=\"https://youtrack.jetbrains.com/issue/KTIJ-17923\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/KTIJ-17923</a> Check Project Structure JDK"}],"answers":[{"tags":[],"owner":{"account_id":9924554,"reputation":1959,"user_id":7346633,"display_name":"Hykilpikonna"},"down_vote_count":3,"up_vote_count":59,"is_accepted":true,"score":56,"last_activity_date":1630421065,"creation_date":1611246350,"answer_id":65831612,"question_id":65645510,"body_markdown":"Answer credit to [@AlexeyBelkov](https://stackoverflow.com/users/992380/alexey-belkov) - Answered here: https://youtrack.jetbrains.com/issue/KTIJ-893\r\n\r\nThe syntax highlighting feature worked after:\r\n\r\n1. Delete `~/.gradle/caches`\r\n1. Delete `~/Library/Application\\ Support/Library/JetBrains/IntelliJIdea2020.3` (or `~/.cache/JetBrains/IntelliJIdea2020.3` for ubuntu/linux users)\r\n1. Delete `&lt;project dir&gt;/.gradle`\r\n1. Delete `&lt;project dir&gt;/.idea`\r\n1. Start IDEA and reimport the project.","title":"Cannot access script base class &#39;org.gradle.kotlin.dsl.KotlinBuildScript&#39;","body":"<p>Answer credit to <a href=\"https://stackoverflow.com/users/992380/alexey-belkov\">@AlexeyBelkov</a> - Answered here: <a href=\"https://youtrack.jetbrains.com/issue/KTIJ-893\" rel=\"noreferrer\">https://youtrack.jetbrains.com/issue/KTIJ-893</a></p>\n<p>The syntax highlighting feature worked after:</p>\n<ol>\n<li>Delete <code>~/.gradle/caches</code></li>\n<li>Delete <code>~/Library/Application\\ Support/Library/JetBrains/IntelliJIdea2020.3</code> (or <code>~/.cache/JetBrains/IntelliJIdea2020.3</code> for ubuntu/linux users)</li>\n<li>Delete <code>&lt;project dir&gt;/.gradle</code></li>\n<li>Delete <code>&lt;project dir&gt;/.idea</code></li>\n<li>Start IDEA and reimport the project.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":3930885,"reputation":1913,"user_id":3249497,"accept_rate":22,"display_name":"Sergiy"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1617541420,"creation_date":1617541420,"answer_id":66941564,"question_id":65645510,"body_markdown":"Worked for me after I&#39;d deleted:\r\n\r\n    Delete &lt;project dir&gt;/.gradle\r\n    Delete &lt;project dir&gt;/.idea","title":"Cannot access script base class &#39;org.gradle.kotlin.dsl.KotlinBuildScript&#39;","body":"<p>Worked for me after I'd deleted:</p>\n<pre><code>Delete &lt;project dir&gt;/.gradle\nDelete &lt;project dir&gt;/.idea\n</code></pre>\n"},{"tags":[],"owner":{"account_id":370573,"reputation":1651,"user_id":718590,"accept_rate":43,"display_name":"pkalinow"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1634892092,"creation_date":1618818210,"answer_id":67157853,"question_id":65645510,"body_markdown":"In my case (the OS is Windows 10) it was enough to:\r\n 1. Delete `C:\\Users\\&lt;you&gt;\\AppData\\Local\\JetBrains\\IntelliJIdea2021.1\\caches`\r\n 2. Restart IntelliJ IDEA.\r\n 2. Click &quot;Load Script Configurations&quot; when it appears after re-indexing.\r\n\r\nThanks @MichaelB&#246;ckling for a hint!","title":"Cannot access script base class &#39;org.gradle.kotlin.dsl.KotlinBuildScript&#39;","body":"<p>In my case (the OS is Windows 10) it was enough to:</p>\n<ol>\n<li>Delete <code>C:\\Users\\&lt;you&gt;\\AppData\\Local\\JetBrains\\IntelliJIdea2021.1\\caches</code></li>\n<li>Restart IntelliJ IDEA.</li>\n<li>Click &quot;Load Script Configurations&quot; when it appears after re-indexing.</li>\n</ol>\n<p>Thanks @MichaelBöckling for a hint!</p>\n"},{"tags":[],"owner":{"account_id":7777311,"reputation":107,"user_id":5884968,"display_name":"bedalton"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1619722247,"creation_date":1619722247,"answer_id":67323439,"question_id":65645510,"body_markdown":"For IntelliJ 2021.1, I had to delete the caches folder at:&lt;br/&gt;\r\n`~/Libary/Caches/JetBrains/IntelliJIdea2021.1/caches`","title":"Cannot access script base class &#39;org.gradle.kotlin.dsl.KotlinBuildScript&#39;","body":"<p>For IntelliJ 2021.1, I had to delete the caches folder at:<br/>\n<code>~/Libary/Caches/JetBrains/IntelliJIdea2021.1/caches</code></p>\n"},{"tags":[],"owner":{"account_id":1145300,"reputation":3158,"user_id":1128216,"accept_rate":20,"display_name":"Jonathan Morales V&#233;lez"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1622541501,"creation_date":1622541501,"answer_id":67786703,"question_id":65645510,"body_markdown":"I set the project SDK to Kotlin under `Project Settings &gt; Modules`. I also set the SDK in `Plaftorm Settings &gt; SDKs` although I don&#39;t know if that&#39;s required. And just in case I restarted IntelliJ with `File &gt; Invalidate Caches / Restart ...`\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/9CHx4.png","title":"Cannot access script base class &#39;org.gradle.kotlin.dsl.KotlinBuildScript&#39;","body":"<p>I set the project SDK to Kotlin under <code>Project Settings &gt; Modules</code>. I also set the SDK in <code>Plaftorm Settings &gt; SDKs</code> although I don't know if that's required. And just in case I restarted IntelliJ with <code>File &gt; Invalidate Caches / Restart ...</code></p>\n<p><a href=\"https://i.stack.imgur.com/9CHx4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9CHx4.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":2433217,"reputation":1,"user_id":2123695,"display_name":"user2123695"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1627772197,"creation_date":1627545790,"answer_id":68572285,"question_id":65645510,"body_markdown":"In my case, I had to install the previous IDE version (2021.1.3).","title":"Cannot access script base class &#39;org.gradle.kotlin.dsl.KotlinBuildScript&#39;","body":"<p>In my case, I had to install the previous IDE version (2021.1.3).</p>\n"},{"tags":[],"owner":{"account_id":1924778,"reputation":6553,"user_id":1735499,"accept_rate":25,"display_name":"Frank Nguyen"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1629835164,"creation_date":1629835164,"answer_id":68913452,"question_id":65645510,"body_markdown":"Mac OS: \r\n1. File -&gt; Project Structure -&gt; SDK Location -&gt; click on Gradle Settings\r\n2. Modify the Gradle JDK\r\n3. File -&gt; Invalidate Caches...\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ktO3K.png\r\n  [2]: https://i.stack.imgur.com/Qc3a2.png","title":"Cannot access script base class &#39;org.gradle.kotlin.dsl.KotlinBuildScript&#39;","body":"<p>Mac OS:</p>\n<ol>\n<li>File -&gt; Project Structure -&gt; SDK Location -&gt; click on Gradle Settings</li>\n<li>Modify the Gradle JDK</li>\n<li>File -&gt; Invalidate Caches...</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/ktO3K.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/ktO3K.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/Qc3a2.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/Qc3a2.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":190269,"reputation":18134,"user_id":430128,"accept_rate":78,"display_name":"Raman"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1634885056,"creation_date":1634319209,"answer_id":69588564,"question_id":65645510,"body_markdown":"# Guided Cache Recovery (IntelliJ IDEA 2021.3+)\r\n\r\nIntelliJ IDEA versions from 2021.3 and on (as of writing, available from JetBrain&#39;s Early Access Program, or EAP) has a featured called &quot;Guided Cache Recovery&quot; (`File`, `Run Guided Cache Recovery...`). While I can&#39;t find any documentation yet about this feature, it appears to give the user the ability to apply diagnostic/recovery steps, one at a time, to fixing any cache issues.\r\n\r\nFor me, the problem reported by the OP was resolved at step 2: &quot;Rescan Project Indexes&quot;.\r\n\r\nThe really cool thing about this is that, not only did it fix my problem, but IntelliJ then created an issue report with details about the problem found, and gave me the option of submitting this report to JetBrains via the crash reporter. This tells me that JetBrains appears to be serious about fixing these issues for users, *and* about resolving their root causes.\r\n\r\n# Permissions Issues in .idea, .gradle, or gradle\r\n\r\nAnother possible problem is permissions issues in one of the `.idea`, `.gradle`, or `gradle` directories. For example, running a rootfull docker container, mounting the project as a volume (for example, to run a tool like Qodana) could cause some files to become owned by `root` unless the appropriate Docker options are used. If this issue is noticed, reset permissions with `chmod` and `chown` and then sync again in IDEA.","title":"Cannot access script base class &#39;org.gradle.kotlin.dsl.KotlinBuildScript&#39;","body":"<h1>Guided Cache Recovery (IntelliJ IDEA 2021.3+)</h1>\n<p>IntelliJ IDEA versions from 2021.3 and on (as of writing, available from JetBrain's Early Access Program, or EAP) has a featured called &quot;Guided Cache Recovery&quot; (<code>File</code>, <code>Run Guided Cache Recovery...</code>). While I can't find any documentation yet about this feature, it appears to give the user the ability to apply diagnostic/recovery steps, one at a time, to fixing any cache issues.</p>\n<p>For me, the problem reported by the OP was resolved at step 2: &quot;Rescan Project Indexes&quot;.</p>\n<p>The really cool thing about this is that, not only did it fix my problem, but IntelliJ then created an issue report with details about the problem found, and gave me the option of submitting this report to JetBrains via the crash reporter. This tells me that JetBrains appears to be serious about fixing these issues for users, <em>and</em> about resolving their root causes.</p>\n<h1>Permissions Issues in .idea, .gradle, or gradle</h1>\n<p>Another possible problem is permissions issues in one of the <code>.idea</code>, <code>.gradle</code>, or <code>gradle</code> directories. For example, running a rootfull docker container, mounting the project as a volume (for example, to run a tool like Qodana) could cause some files to become owned by <code>root</code> unless the appropriate Docker options are used. If this issue is noticed, reset permissions with <code>chmod</code> and <code>chown</code> and then sync again in IDEA.</p>\n"},{"tags":[],"owner":{"account_id":9197483,"reputation":2049,"user_id":6835732,"display_name":"Primož Ivančič"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649086150,"creation_date":1649086150,"answer_id":71739851,"question_id":65645510,"body_markdown":"For me, solution was to install a separate JDK version (I installed **Temurin JDK 17**). I then simply set it to `JAVA_HOME` and used it in the AS and the errors disappeared. ","title":"Cannot access script base class &#39;org.gradle.kotlin.dsl.KotlinBuildScript&#39;","body":"<p>For me, solution was to install a separate JDK version (I installed <strong>Temurin JDK 17</strong>). I then simply set it to <code>JAVA_HOME</code> and used it in the AS and the errors disappeared.</p>\n"},{"tags":[],"owner":{"account_id":99379,"reputation":751,"user_id":268473,"display_name":"jaga"},"down_vote_count":1,"up_vote_count":16,"is_accepted":false,"score":15,"last_activity_date":1657287142,"creation_date":1657287142,"answer_id":72912179,"question_id":65645510,"body_markdown":" 1. Close the Android Studio. (Mine was version 2021.2). \r\n 2. Delete jdk.table.xml from Android studio&#39;s [config folder][1] .\r\n 3. Open Android Studio and configure JDK in Gradle Settings (Project\r\n    Structure -&gt; SDK Location -&gt; Gradle Settings).\r\n\r\nFound the solution from [JetBrain&#39;s issue tracker][2].\r\n\r\n\r\n  [1]: https://developer.android.com/studio/intro/studio-config#file_location\r\n  [2]: https://youtrack.jetbrains.com/issue/KTIJ-17774/Gradle-Kotlin-DSL-MISSINGDEPENDENCYSUPERCLASS-errors-in-IDE#focus=Comments-27-5743835.0-0","title":"Cannot access script base class &#39;org.gradle.kotlin.dsl.KotlinBuildScript&#39;","body":"<ol>\n<li>Close the Android Studio. (Mine was version 2021.2).</li>\n<li>Delete jdk.table.xml from Android studio's <a href=\"https://developer.android.com/studio/intro/studio-config#file_location\" rel=\"noreferrer\">config folder</a> .</li>\n<li>Open Android Studio and configure JDK in Gradle Settings (Project\nStructure -&gt; SDK Location -&gt; Gradle Settings).</li>\n</ol>\n<p>Found the solution from <a href=\"https://youtrack.jetbrains.com/issue/KTIJ-17774/Gradle-Kotlin-DSL-MISSINGDEPENDENCYSUPERCLASS-errors-in-IDE#focus=Comments-27-5743835.0-0\" rel=\"noreferrer\">JetBrain's issue tracker</a>.</p>\n"},{"tags":[],"owner":{"account_id":21781065,"reputation":151,"user_id":16082761,"display_name":"Adrian Witaszak"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1662202018,"creation_date":1662202018,"answer_id":73591620,"question_id":65645510,"body_markdown":"In my case I had to set the Java version in IntelliJ -&gt; Settings -&gt; Build -&gt; Gradle to 1.8 to match the projects Java version","title":"Cannot access script base class &#39;org.gradle.kotlin.dsl.KotlinBuildScript&#39;","body":"<p>In my case I had to set the Java version in IntelliJ -&gt; Settings -&gt; Build -&gt; Gradle to 1.8 to match the projects Java version</p>\n"},{"tags":[],"owner":{"account_id":12560763,"reputation":1083,"user_id":9138621,"display_name":"JPilson"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1669627080,"creation_date":1669627080,"answer_id":74598370,"question_id":65645510,"body_markdown":"You need to delete de cache at \r\n\r\n&gt; ~/.gradle/caches\r\n\r\nBut an easier way is to do it from IDE, under file menu\r\nyou will find &quot;**Invalidate Caches**&quot; option\r\n\r\nHope it works for you \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/mqVhY.png","title":"Cannot access script base class &#39;org.gradle.kotlin.dsl.KotlinBuildScript&#39;","body":"<p>You need to delete de cache at</p>\n<blockquote>\n<p>~/.gradle/caches</p>\n</blockquote>\n<p>But an easier way is to do it from IDE, under file menu\nyou will find &quot;<strong>Invalidate Caches</strong>&quot; option</p>\n<p>Hope it works for you</p>\n<p><a href=\"https://i.stack.imgur.com/mqVhY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mqVhY.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":7618649,"reputation":1,"user_id":5777265,"display_name":"eastar Jeong"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1675269338,"creation_date":1675269338,"answer_id":75313343,"question_id":65645510,"body_markdown":"[My solution is as shown below][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/a4RLz.png\r\n\r\nI tried but\r\nThe method below didn&#39;t work.\r\nuse in android studio android ver AndroidStudio2022.1 \r\n1. remove ~/Library/Caches/Google/AndroidStudio2022.1/caches\r\n2. remove /.gradle/caches\r\n","title":"Cannot access script base class &#39;org.gradle.kotlin.dsl.KotlinBuildScript&#39;","body":"<p><a href=\"https://i.stack.imgur.com/a4RLz.png\" rel=\"nofollow noreferrer\">My solution is as shown below</a></p>\n<p>I tried but\nThe method below didn't work.\nuse in android studio android ver AndroidStudio2022.1</p>\n<ol>\n<li>remove ~/Library/Caches/Google/AndroidStudio2022.1/caches</li>\n<li>remove /.gradle/caches</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":13064198,"reputation":880,"user_id":9440211,"display_name":"Stylianos Gakis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690792457,"creation_date":1690792457,"answer_id":76801902,"question_id":65645510,"body_markdown":"In the latest IntelliJ/Android Studio versions they&#39;ve added a new action called &quot;Repair IDE&quot;.  \r\nBy running that, it incrementally does more steps that could potentially fix such issues for you.  \r\nI was experiencing this issue for example, and after clicking the automatic actions 3 times, where it reopened my project, this was fixed.\r\nI would really recommend you try out that action next time you feel like your IDE is in an odd state.","title":"Cannot access script base class &#39;org.gradle.kotlin.dsl.KotlinBuildScript&#39;","body":"<p>In the latest IntelliJ/Android Studio versions they've added a new action called &quot;Repair IDE&quot;.<br />\nBy running that, it incrementally does more steps that could potentially fix such issues for you.<br />\nI was experiencing this issue for example, and after clicking the automatic actions 3 times, where it reopened my project, this was fixed.\nI would really recommend you try out that action next time you feel like your IDE is in an odd state.</p>\n"},{"tags":[],"owner":{"account_id":13306741,"reputation":61,"user_id":9606284,"display_name":"mostafa ahmadi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697996696,"creation_date":1697995078,"answer_id":77340973,"question_id":65645510,"body_markdown":"i use community version intellij idea 2023.2.3\r\nwhen generate project gradle-kotlin and language kotlin from https://start.spring.io/ get error like above\r\nto resolve it change gradle to latest version 8.4 and\r\nkotlin(&quot;jvm&quot;) version &quot;1.9.10&quot;\r\nkotlin(&quot;plugin.spring&quot;) version &quot;1.9.10&quot;\r\nthat is latest \r\n\r\n[![enter image description here][1]][1]\r\n\r\n[![enter image description here][2]][2]\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/3dSci.jpg\r\n  [2]: https://i.stack.imgur.com/noxYG.jpg\r\n  [3]: https://i.stack.imgur.com/ZrqOj.jpg","title":"Cannot access script base class &#39;org.gradle.kotlin.dsl.KotlinBuildScript&#39;","body":"<p>i use community version intellij idea 2023.2.3\nwhen generate project gradle-kotlin and language kotlin from <a href=\"https://start.spring.io/\" rel=\"nofollow noreferrer\">https://start.spring.io/</a> get error like above\nto resolve it change gradle to latest version 8.4 and\nkotlin(&quot;jvm&quot;) version &quot;1.9.10&quot;\nkotlin(&quot;plugin.spring&quot;) version &quot;1.9.10&quot;\nthat is latest</p>\n<p><a href=\"https://i.stack.imgur.com/3dSci.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3dSci.jpg\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/noxYG.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/noxYG.jpg\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/ZrqOj.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZrqOj.jpg\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":17029076,"reputation":298,"user_id":12319598,"display_name":"Jacek Sawko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698930834,"creation_date":1698930834,"answer_id":77409886,"question_id":65645510,"body_markdown":"In my case updating Kotlin version manually in inteliJ worked.\r\n\r\nYou can do it in: `Settings` -&gt; `Languages &amp; Frameworks` -&gt; `Kotlin`\r\n\r\n[![InteilJ settings][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Szg0U.png","title":"Cannot access script base class &#39;org.gradle.kotlin.dsl.KotlinBuildScript&#39;","body":"<p>In my case updating Kotlin version manually in inteliJ worked.</p>\n<p>You can do it in: <code>Settings</code> -&gt; <code>Languages &amp; Frameworks</code> -&gt; <code>Kotlin</code></p>\n<p><a href=\"https://i.stack.imgur.com/Szg0U.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Szg0U.png\" alt=\"InteilJ settings\" /></a></p>\n"}],"owner":{"account_id":9924554,"reputation":1959,"user_id":7346633,"display_name":"Hykilpikonna"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32783,"favorite_count":0,"down_vote_count":0,"up_vote_count":69,"accepted_answer_id":65831612,"answer_count":16,"score":69,"last_activity_date":1698930834,"creation_date":1610213066,"question_id":65645510,"body_markdown":"When I create an empty project with Gradle Kotlin DSL, even without any modifications, it would prompt `Cannot access script base class &#39;org.gradle.kotlin.dsl.KotlinBuildScript&#39;. Check your module classpath for missing or conflicting dependencies` The project can run, but the syntax highlighting and autocompletion for `build.gradle.kts` don&#39;t work.\r\n\r\n### What I&#39;ve tried\r\n\r\n* https://github.com/gradle/kotlin-dsl-samples/issues/1308\r\n  * Changing gradle executable to `gradle-kotlin-dsl-5.2-20190122225509+0000-all.zip`\r\n* https://youtrack.jetbrains.com/issue/KT-38296\r\n  * Remove empty SDKs in Project structure dialog\r\n  * Invalidate caches and restart\r\n* Reinstalling Java 11 `brew install java11`\r\n* Switching to official oracle JDK 15 ​`brew install oracle-jdk`\r\n* https://youtrack.jetbrains.com/issue/KT-41141\r\n  * Re-adding SDKs in the SDK menu\r\n  * Adding `/Kotlin/kotlinc/lib` to Kotlin SDK&#39;s classpath\r\n* http://youtrack.jetbrains.com/issue/IDEA-245027\r\n  * Deleting the cache folder manually\r\n\r\n![](https://i.stack.imgur.com/U45rE.png)\r\n\r\n### System\r\n\r\n```\r\nIntelliJ IDEA 2020.3.1 (Ultimate Edition)\r\nBuild #IU-203.6682.168, built on December 29, 2020\r\nLicensed to Hykilpikonna Gui\r\nSubscription is active until November 28, 2021.\r\nFor educational use only.\r\nRuntime version: 11.0.9.1+11-b1145.63 x86_64\r\nVM: OpenJDK 64-Bit Server VM by JetBrains s.r.o.\r\nmacOS 10.15.7\r\nGC: ParNew, ConcurrentMarkSweep\r\nMemory: 1998M\r\nCores: 6\r\nRegistry: debugger.watches.in.variables=false, js.debugger.webconsole=false\r\nNon-Bundled Plugins: CMD Support, Rider UI Theme Pack, Statistic, com.alayouni.ansiHighlight, com.intellij.ideolog, net.vektah.codeglance, String Manipulation, com.alibaba.p3c.smartfox, wu.seal.tool.jsontokotlin, com.demonwav.minecraft-dev, lermitage.intellij.extra.icons, com.github.masahirosuzuka.PhoneGapIntelliJPlugin, Dart, io.flutter, deno, org.jetbrains.kotlin, com.cybrosis.catdea, siosio.kodkod, izhangzhihao.rainbow.brackets, org.jetbrains.plugins.ruby, Pythonid, org.jetbrains.plugins.vue, tv.twelvetone.intellij.plugins.intellivue, ru.meanmail.plugin.requirements\r\n```\r\n","title":"Cannot access script base class &#39;org.gradle.kotlin.dsl.KotlinBuildScript&#39;","body":"<p>When I create an empty project with Gradle Kotlin DSL, even without any modifications, it would prompt <code>Cannot access script base class 'org.gradle.kotlin.dsl.KotlinBuildScript'. Check your module classpath for missing or conflicting dependencies</code> The project can run, but the syntax highlighting and autocompletion for <code>build.gradle.kts</code> don't work.</p>\n<h3>What I've tried</h3>\n<ul>\n<li><a href=\"https://github.com/gradle/kotlin-dsl-samples/issues/1308\" rel=\"noreferrer\">https://github.com/gradle/kotlin-dsl-samples/issues/1308</a>\n<ul>\n<li>Changing gradle executable to <code>gradle-kotlin-dsl-5.2-20190122225509+0000-all.zip</code></li>\n</ul>\n</li>\n<li><a href=\"https://youtrack.jetbrains.com/issue/KT-38296\" rel=\"noreferrer\">https://youtrack.jetbrains.com/issue/KT-38296</a>\n<ul>\n<li>Remove empty SDKs in Project structure dialog</li>\n<li>Invalidate caches and restart</li>\n</ul>\n</li>\n<li>Reinstalling Java 11 <code>brew install java11</code></li>\n<li>Switching to official oracle JDK 15 ​<code>brew install oracle-jdk</code></li>\n<li><a href=\"https://youtrack.jetbrains.com/issue/KT-41141\" rel=\"noreferrer\">https://youtrack.jetbrains.com/issue/KT-41141</a>\n<ul>\n<li>Re-adding SDKs in the SDK menu</li>\n<li>Adding <code>/Kotlin/kotlinc/lib</code> to Kotlin SDK's classpath</li>\n</ul>\n</li>\n<li><a href=\"http://youtrack.jetbrains.com/issue/IDEA-245027\" rel=\"noreferrer\">http://youtrack.jetbrains.com/issue/IDEA-245027</a>\n<ul>\n<li>Deleting the cache folder manually</li>\n</ul>\n</li>\n</ul>\n<p><img src=\"https://i.stack.imgur.com/U45rE.png\" alt=\"\" /></p>\n<h3>System</h3>\n<pre><code>IntelliJ IDEA 2020.3.1 (Ultimate Edition)\nBuild #IU-203.6682.168, built on December 29, 2020\nLicensed to Hykilpikonna Gui\nSubscription is active until November 28, 2021.\nFor educational use only.\nRuntime version: 11.0.9.1+11-b1145.63 x86_64\nVM: OpenJDK 64-Bit Server VM by JetBrains s.r.o.\nmacOS 10.15.7\nGC: ParNew, ConcurrentMarkSweep\nMemory: 1998M\nCores: 6\nRegistry: debugger.watches.in.variables=false, js.debugger.webconsole=false\nNon-Bundled Plugins: CMD Support, Rider UI Theme Pack, Statistic, com.alayouni.ansiHighlight, com.intellij.ideolog, net.vektah.codeglance, String Manipulation, com.alibaba.p3c.smartfox, wu.seal.tool.jsontokotlin, com.demonwav.minecraft-dev, lermitage.intellij.extra.icons, com.github.masahirosuzuka.PhoneGapIntelliJPlugin, Dart, io.flutter, deno, org.jetbrains.kotlin, com.cybrosis.catdea, siosio.kodkod, izhangzhihao.rainbow.brackets, org.jetbrains.plugins.ruby, Pythonid, org.jetbrains.plugins.vue, tv.twelvetone.intellij.plugins.intellivue, ru.meanmail.plugin.requirements\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-webflux","netty"],"comments":[{"owner":{"account_id":11377012,"reputation":12762,"user_id":8340997,"display_name":"Anish B."},"score":0,"creation_date":1698805466,"post_id":77399781,"comment_id":136451111,"body_markdown":"You have to put something like this `server.max-http-header-size=10KB`","body":"You have to put something like this <code>server.max-http-header-size=10KB</code>"},{"owner":{"account_id":9855773,"reputation":1097,"user_id":7300313,"accept_rate":44,"display_name":"Pawan Patil"},"score":0,"creation_date":1698814132,"post_id":77399781,"comment_id":136451717,"body_markdown":"Tried but no luck","body":"Tried but no luck"},{"owner":{"account_id":11400015,"reputation":1904,"user_id":8357251,"display_name":"gdomo"},"score":0,"creation_date":1698843447,"post_id":77399781,"comment_id":136455851,"body_markdown":"Are we talking about server method handler or calling another service by WebClient?","body":"Are we talking about server method handler or calling another service by WebClient?"},{"owner":{"account_id":9855773,"reputation":1097,"user_id":7300313,"accept_rate":44,"display_name":"Pawan Patil"},"score":0,"creation_date":1698844402,"post_id":77399781,"comment_id":136456036,"body_markdown":"So I am calling my api from frontend when I send jwt token in request header from frontend then at backend I get this exception Header size exceeded max allowed size (8192)","body":"So I am calling my api from frontend when I send jwt token in request header from frontend then at backend I get this exception Header size exceeded max allowed size (8192)"}],"answers":[{"tags":[],"owner":{"account_id":9855773,"reputation":1097,"user_id":7300313,"accept_rate":44,"display_name":"Pawan Patil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698930803,"creation_date":1698930803,"answer_id":77409880,"question_id":77399781,"body_markdown":"I resolved this issue by upgrading the Spring Boot version from 2.3.12.RELEASE to 2.7.0 and the Spring Cloud version from Hoxton.SR9 to 2021.0.3, following the compatibility matrix provided by Spring Cloud and Spring Boot.\r\n\r\nAdditionally, I implemented the WebServerFactoryCustomizer interface and overridden customize method in which I wrote the logic to increase the header size. Here&#39;s the code snippet I used to achieve this\r\n\r\n    @Component\r\n    public class CustomizeNetty implements WebServerFactoryCustomizer&lt;NettyReactiveWebServerFactory&gt; {\r\n        @Override\r\n        public void customize(NettyReactiveWebServerFactory factory) {\r\n            factory.addServerCustomizers(httpServer -&gt; httpServer.http2Settings(builder -&gt; builder.maxHeaderListSize(65536)));\r\n        }\r\n    }\r\n\r\n\r\n\r\n","title":"How to increase request header size in Spring WebFlux with Netty?","body":"<p>I resolved this issue by upgrading the Spring Boot version from 2.3.12.RELEASE to 2.7.0 and the Spring Cloud version from Hoxton.SR9 to 2021.0.3, following the compatibility matrix provided by Spring Cloud and Spring Boot.</p>\n<p>Additionally, I implemented the WebServerFactoryCustomizer interface and overridden customize method in which I wrote the logic to increase the header size. Here's the code snippet I used to achieve this</p>\n<pre><code>@Component\npublic class CustomizeNetty implements WebServerFactoryCustomizer&lt;NettyReactiveWebServerFactory&gt; {\n    @Override\n    public void customize(NettyReactiveWebServerFactory factory) {\n        factory.addServerCustomizers(httpServer -&gt; httpServer.http2Settings(builder -&gt; builder.maxHeaderListSize(65536)));\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":9855773,"reputation":1097,"user_id":7300313,"accept_rate":44,"display_name":"Pawan Patil"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1698930803,"creation_date":1698800054,"question_id":77399781,"body_markdown":"Is there a way to configure **maximum http request header size** for a request in **Spring WebFlux** with embedded **Netty** server?\r\n\r\n\r\nI am getting following exception.\r\n\r\n&gt; io.netty.handler.codec.http2.Http2Exception$HeaderListSizeException:\r\n&gt; Header size exceeded max allowed size (8192)\r\n\r\n I tried to use this property `server.max-http-header-size` but it didn&#39;t work.","title":"How to increase request header size in Spring WebFlux with Netty?","body":"<p>Is there a way to configure <strong>maximum http request header size</strong> for a request in <strong>Spring WebFlux</strong> with embedded <strong>Netty</strong> server?</p>\n<p>I am getting following exception.</p>\n<blockquote>\n<p>io.netty.handler.codec.http2.Http2Exception$HeaderListSizeException:\nHeader size exceeded max allowed size (8192)</p>\n</blockquote>\n<p>I tried to use this property <code>server.max-http-header-size</code> but it didn't work.</p>\n"},{"tags":["java","hibernate","jpa","timeout"],"comments":[{"owner":{"account_id":1100252,"reputation":10087,"user_id":1092818,"display_name":"crizzis"},"score":0,"creation_date":1563456053,"post_id":57094439,"comment_id":100712281,"body_markdown":"My guess is that internally, Hibernate uses the hint with the `org.hibernate.Query.setTimeout()` method, which has second granularity. You should probably register a bug with Hibernate folks","body":"My guess is that internally, Hibernate uses the hint with the <code>org.hibernate.Query.setTimeout()</code> method, which has second granularity. You should probably register a bug with Hibernate folks"},{"owner":{"account_id":2169291,"reputation":221,"user_id":1921714,"display_name":"Sercan"},"score":0,"creation_date":1563456332,"post_id":57094439,"comment_id":100712476,"body_markdown":"@crizzis thanks for your answer. I hoped if there is a workaround but it looks grim when we check the source code. https://github.com/hibernate/hibernate-orm/blob/master/hibernate-core/src/main/java/org/hibernate/cfg/annotations/QueryHintDefinition.java\n\nI don&#39;t know how all hibernate users manage this. There should be a way...","body":"@crizzis thanks for your answer. I hoped if there is a workaround but it looks grim when we check the source code. <a href=\"https://github.com/hibernate/hibernate-orm/blob/master/hibernate-core/src/main/java/org/hibernate/cfg/annotations/QueryHintDefinition.java\" rel=\"nofollow noreferrer\">github.com/hibernate/hibernate-orm/blob/master/hibernate-cor&zwnj;&#8203;e/&hellip;</a>  I don&#39;t know how all hibernate users manage this. There should be a way..."}],"answers":[{"tags":[],"owner":{"account_id":16299565,"reputation":1,"user_id":11771024,"display_name":"Answer"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1563455932,"creation_date":1563455932,"answer_id":57095467,"question_id":57094439,"body_markdown":"Try this:\r\n\r\n    \r\n    typedQuery.setHint(&quot;org.hibernate.timeout&quot;, &quot;1&quot;);\r\n    typedQuery.getSingleResult();","title":"How to set query timeout less than 1 second at Hibernate?","body":"<p>Try this:</p>\n\n<pre><code>typedQuery.setHint(\"org.hibernate.timeout\", \"1\");\ntypedQuery.getSingleResult();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8258676,"reputation":973,"user_id":6210973,"display_name":"Mick"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1563456891,"creation_date":1563456891,"answer_id":57095803,"question_id":57094439,"body_markdown":"Hibernate doesn’t handle this timeout itself but provides it to the JDBC driver via the JDBC Statement.setTimeout method. (see: https://thoughts-on-java.org/11-jpa-hibernate-query-hints-every-developer-know/)\r\n\r\nAlso see this issue https://bugs.eclipse.org/bugs/show_bug.cgi?id=456067 . \r\n\r\nIt seems that Hibernate might be forced to convert this value to seconds whenever the JDBC driver only offers to specify seconds for this configuration. Please check the timeout accuracy offered by your JDBC driver. It might very well be the expected behaviour.\r\n\r\nNetwork timeouts seem to be more appropriate if specified in seconds anyway, because of random network delays which are hard to avoid.","title":"How to set query timeout less than 1 second at Hibernate?","body":"<p>Hibernate doesn’t handle this timeout itself but provides it to the JDBC driver via the JDBC Statement.setTimeout method. (see: <a href=\"https://thoughts-on-java.org/11-jpa-hibernate-query-hints-every-developer-know/\" rel=\"nofollow noreferrer\">https://thoughts-on-java.org/11-jpa-hibernate-query-hints-every-developer-know/</a>)</p>\n\n<p>Also see this issue <a href=\"https://bugs.eclipse.org/bugs/show_bug.cgi?id=456067\" rel=\"nofollow noreferrer\">https://bugs.eclipse.org/bugs/show_bug.cgi?id=456067</a> . </p>\n\n<p>It seems that Hibernate might be forced to convert this value to seconds whenever the JDBC driver only offers to specify seconds for this configuration. Please check the timeout accuracy offered by your JDBC driver. It might very well be the expected behaviour.</p>\n\n<p>Network timeouts seem to be more appropriate if specified in seconds anyway, because of random network delays which are hard to avoid.</p>\n"},{"tags":[],"owner":{"account_id":2169291,"reputation":221,"user_id":1921714,"display_name":"Sercan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1563526651,"creation_date":1563526651,"answer_id":57108936,"question_id":57094439,"body_markdown":"We find a workaround by setting **statement_timeout** parameter of Postgresql DB. When we need to limit the query execution time, we execute the following script. Sure timeout value is configurable. After running the query we set this parameter to 0.\r\n\r\n    Session session = entityManager.unwrap(Session.class);\r\n    session.doWork(new Work() {\r\n\r\n        @Override\r\n        public void execute(Connection connection) throws SQLException {\r\n            connection.createStatement().execute(&quot;set statement_timeout = 300&quot;);\r\n        }\r\n    });","title":"How to set query timeout less than 1 second at Hibernate?","body":"<p>We find a workaround by setting <strong>statement_timeout</strong> parameter of Postgresql DB. When we need to limit the query execution time, we execute the following script. Sure timeout value is configurable. After running the query we set this parameter to 0.</p>\n\n<pre><code>Session session = entityManager.unwrap(Session.class);\nsession.doWork(new Work() {\n\n    @Override\n    public void execute(Connection connection) throws SQLException {\n        connection.createStatement().execute(\"set statement_timeout = 300\");\n    }\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1151666,"reputation":105,"user_id":1133232,"display_name":"Yaron Y"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1589178342,"creation_date":1589120228,"answer_id":61713492,"question_id":57094439,"body_markdown":"I have the same exact issue, after debugging **(a lot)** hibernate and my (maria-db) JDBC connector.\r\n\r\n I noticed this **code line below** (in hibernate-core) which basically forces you to use seconds in MS format (e.g. 1000) for hint &#39;javax.persistence.query.timeout&#39; otherwise, it will round the value (value is the hint&#39;s value) \r\n\r\nWhich basically means you can&#39;t have 1-999 milliseconds but 0 or 1 seconds\r\n\r\n    int timeout = (int)Math.round( ConfigurationHelper.getInteger( value ).doubleValue() / 1000.0 );\r\n\r\n[Code line was taken from this source code][1]\r\n\r\nI hope you find a solution since I couldn&#39;t find a workaround\r\n\r\n**EDIT:**\r\n\r\nThe only way I could pull this off was using connection&#39;s network timeout.\r\n\r\nPlease be aware that since this is done **&quot;manually&quot;** no clean up will be done for you as does hibernate does (closing/ releasing resources) nor won&#39;t call KILL command you would have to do it on **your own**\r\n\r\n    int timeoutMs = 250;\r\n    var connection = jdbcTemplate.getDataSource().getConnection();\r\n    connection.setNetworkTimeout(Runnable::run, timeoutMs);\r\n    var callableStatement = connection.prepareCall(&quot;{call testSp()}&quot;);\r\n    // Setup your SP parameters\r\n    callableStatement.execute();\r\n\r\n\r\n  [1]: https://github.com/hibernate/hibernate-orm/blob/master/hibernate-core/src/main/java/org/hibernate/query/internal/AbstractProducedQuery.java#L1026","title":"How to set query timeout less than 1 second at Hibernate?","body":"<p>I have the same exact issue, after debugging <strong>(a lot)</strong> hibernate and my (maria-db) JDBC connector.</p>\n\n<p>I noticed this <strong>code line below</strong> (in hibernate-core) which basically forces you to use seconds in MS format (e.g. 1000) for hint 'javax.persistence.query.timeout' otherwise, it will round the value (value is the hint's value) </p>\n\n<p>Which basically means you can't have 1-999 milliseconds but 0 or 1 seconds</p>\n\n<pre><code>int timeout = (int)Math.round( ConfigurationHelper.getInteger( value ).doubleValue() / 1000.0 );\n</code></pre>\n\n<p><a href=\"https://github.com/hibernate/hibernate-orm/blob/master/hibernate-core/src/main/java/org/hibernate/query/internal/AbstractProducedQuery.java#L1026\" rel=\"nofollow noreferrer\">Code line was taken from this source code</a></p>\n\n<p>I hope you find a solution since I couldn't find a workaround</p>\n\n<p><strong>EDIT:</strong></p>\n\n<p>The only way I could pull this off was using connection's network timeout.</p>\n\n<p>Please be aware that since this is done <strong>\"manually\"</strong> no clean up will be done for you as does hibernate does (closing/ releasing resources) nor won't call KILL command you would have to do it on <strong>your own</strong></p>\n\n<pre><code>int timeoutMs = 250;\nvar connection = jdbcTemplate.getDataSource().getConnection();\nconnection.setNetworkTimeout(Runnable::run, timeoutMs);\nvar callableStatement = connection.prepareCall(\"{call testSp()}\");\n// Setup your SP parameters\ncallableStatement.execute();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2745991,"reputation":1440,"user_id":2366397,"display_name":"igor.zh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698930744,"creation_date":1698930744,"answer_id":77409871,"question_id":57094439,"body_markdown":"To set a timeout for Hibernate-managed query in milliseconds, you have to obtain a full control of a Hibernate-managed JDBC Connection (and, no, you are not locked with plain JDBC instead of Hibernate).\r\n\r\nOne way to do it is to implement your own `ConnectionProvider`. As usual, you would like to subclass your current `ConnectionProvider`, suppose it is stock `DatasourceConnectionProviderImpl`, and override just two methods: `getConnection()` and `closeConnection(Connection)`.\r\n\r\n\tpublic class MillisConnectionProvider extends DatasourceConnectionProviderImpl {\r\n\r\n\t\tprivate final ConcurrentMap&lt;Connection, Integer&gt; alteredConnections = new ConcurrentHashMap&lt;&gt;();\t\r\n\r\n\t\t@Override\r\n\t\tpublic Connection getConnection() throws SQLException {\r\n\t\t\tfinal Connection connection = super.getConnection();\r\n\t\t\talteredConnections.put(connection, connection.getNetworkTimeout());\r\n\t\t\tconnection.setNetworkTimeout(Runnable :: run, myTimeoutInMilliseconds);\r\n\t\t\treturn connection;\r\n\t\t}\r\n\t\t\r\n\t\t@Override\r\n\t\tpublic void closeConnection(Connection connection) throws SQLException {\r\n\t\t\tconnection.setNetworkTimeout(Runnable :: run, alteredConnections.remove(connection));\r\n\t\t\tsuper.closeConnection(connection);\r\n\t\t}\r\n\t\t\r\n\t}\r\n\t\r\nAs `Connection` is conceptually stateless thing and therefore should and will be reused it is necessary to store its initial timeout in a `ConcurrentMap`, then restore the timeout upon `Connection` closing. The `Executor`, chosen for timeout setting, is a plain caller, we don&#39;t need anything more sophisticated.\r\n\r\nMultithreading issues: `alteredConnections` has be thread-safe as the `ConnectionProvider` is, of course, accessed simultaneously by multiple threads in an application, but no more guarding is necessary as a `Connection` is not shared between threads by Hibernate. \r\n\r\nNext, we have to register our custom `ConnectionProvider` with Hibernate. As of version 5.3.9 it can be done with appropriate `ServiceContributor` implementation:\r\n\r\n\tpublic class MillisConnectionProviderServiceContributor implements ServiceContributor {\r\n\t\t\r\n\t\t@Override\r\n\t\tpublic void contribute(StandardServiceRegistryBuilder serviceRegistryBuilder) {\r\n\t\t\tserviceRegistryBuilder.addService(ConnectionProvider.class, new MillisConnectionProviderServiceContributor());\r\n\t\t}\r\n\r\n\t}\r\n\t\r\n, then it should be registered in `META-INF/services/org.hibernate.integrator.spi.Integrator` classpath resource:\r\n\r\n    com.foo.MillisConnectionProviderServiceContributor\r\n\r\nAnother good question is how to define the `myTimeoutInMilliseconds` as it most likely would have been set per Hibernate query, Criteria, etc. There is no easy solution to this problem as at the level of `ConnectionProvider` there is no access to these instances. The only easy thing I can think of is to use `ThreadLocal`: inject `myTimeoutInMilliseconds` value into the thread storage and retrieve it at the level of `ConnectionProvider` (don&#39;t forget to clean the state of the `ThreadLocal` upon closing a `Connection`).\r\n\r\n","title":"How to set query timeout less than 1 second at Hibernate?","body":"<p>To set a timeout for Hibernate-managed query in milliseconds, you have to obtain a full control of a Hibernate-managed JDBC Connection (and, no, you are not locked with plain JDBC instead of Hibernate).</p>\n<p>One way to do it is to implement your own <code>ConnectionProvider</code>. As usual, you would like to subclass your current <code>ConnectionProvider</code>, suppose it is stock <code>DatasourceConnectionProviderImpl</code>, and override just two methods: <code>getConnection()</code> and <code>closeConnection(Connection)</code>.</p>\n<pre><code>public class MillisConnectionProvider extends DatasourceConnectionProviderImpl {\n\n    private final ConcurrentMap&lt;Connection, Integer&gt; alteredConnections = new ConcurrentHashMap&lt;&gt;();    \n\n    @Override\n    public Connection getConnection() throws SQLException {\n        final Connection connection = super.getConnection();\n        alteredConnections.put(connection, connection.getNetworkTimeout());\n        connection.setNetworkTimeout(Runnable :: run, myTimeoutInMilliseconds);\n        return connection;\n    }\n    \n    @Override\n    public void closeConnection(Connection connection) throws SQLException {\n        connection.setNetworkTimeout(Runnable :: run, alteredConnections.remove(connection));\n        super.closeConnection(connection);\n    }\n    \n}\n</code></pre>\n<p>As <code>Connection</code> is conceptually stateless thing and therefore should and will be reused it is necessary to store its initial timeout in a <code>ConcurrentMap</code>, then restore the timeout upon <code>Connection</code> closing. The <code>Executor</code>, chosen for timeout setting, is a plain caller, we don't need anything more sophisticated.</p>\n<p>Multithreading issues: <code>alteredConnections</code> has be thread-safe as the <code>ConnectionProvider</code> is, of course, accessed simultaneously by multiple threads in an application, but no more guarding is necessary as a <code>Connection</code> is not shared between threads by Hibernate.</p>\n<p>Next, we have to register our custom <code>ConnectionProvider</code> with Hibernate. As of version 5.3.9 it can be done with appropriate <code>ServiceContributor</code> implementation:</p>\n<pre><code>public class MillisConnectionProviderServiceContributor implements ServiceContributor {\n    \n    @Override\n    public void contribute(StandardServiceRegistryBuilder serviceRegistryBuilder) {\n        serviceRegistryBuilder.addService(ConnectionProvider.class, new MillisConnectionProviderServiceContributor());\n    }\n\n}\n</code></pre>\n<p>, then it should be registered in <code>META-INF/services/org.hibernate.integrator.spi.Integrator</code> classpath resource:</p>\n<pre><code>com.foo.MillisConnectionProviderServiceContributor\n</code></pre>\n<p>Another good question is how to define the <code>myTimeoutInMilliseconds</code> as it most likely would have been set per Hibernate query, Criteria, etc. There is no easy solution to this problem as at the level of <code>ConnectionProvider</code> there is no access to these instances. The only easy thing I can think of is to use <code>ThreadLocal</code>: inject <code>myTimeoutInMilliseconds</code> value into the thread storage and retrieve it at the level of <code>ConnectionProvider</code> (don't forget to clean the state of the <code>ThreadLocal</code> upon closing a <code>Connection</code>).</p>\n"}],"owner":{"account_id":2169291,"reputation":221,"user_id":1921714,"display_name":"Sercan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3928,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":5,"score":1,"last_activity_date":1698930744,"creation_date":1563452765,"question_id":57094439,"body_markdown":"I use Hibernate 5.4.1.Final and Java 8. I set query timeout to a TypedQuery by \r\n\r\n    typedQuery.setHint(&quot;javax.persistence.query.timeout&quot;, 400);\r\n\r\nBut hibernate converts it to seconds and rounds down to 0. When I get hints\r\n\r\n    typedQuery.getHints();\r\n    {org.hibernate.timeout=0, javax.persistence.query.timeout=0}\r\n\r\nIf I set sth over 500 it rounds up to 1 seconds. \r\n\r\n    typedQuery.setHint(&quot;javax.persistence.query.timeout&quot;, 500);\r\n    typedQuery.getHints();\r\n    {org.hibernate.timeout=1, javax.persistence.query.timeout=1000}\r\n\r\nHow can we set query timeout with milliseconds and less than 1 second?\r\n\r\nThank you.","title":"How to set query timeout less than 1 second at Hibernate?","body":"<p>I use Hibernate 5.4.1.Final and Java 8. I set query timeout to a TypedQuery by </p>\n\n<pre><code>typedQuery.setHint(\"javax.persistence.query.timeout\", 400);\n</code></pre>\n\n<p>But hibernate converts it to seconds and rounds down to 0. When I get hints</p>\n\n<pre><code>typedQuery.getHints();\n{org.hibernate.timeout=0, javax.persistence.query.timeout=0}\n</code></pre>\n\n<p>If I set sth over 500 it rounds up to 1 seconds. </p>\n\n<pre><code>typedQuery.setHint(\"javax.persistence.query.timeout\", 500);\ntypedQuery.getHints();\n{org.hibernate.timeout=1, javax.persistence.query.timeout=1000}\n</code></pre>\n\n<p>How can we set query timeout with milliseconds and less than 1 second?</p>\n\n<p>Thank you.</p>\n"},{"tags":["java","jasper-reports","classnotfoundexception","ireport"],"comments":[{"owner":{"account_id":63531,"reputation":3979,"user_id":188014,"accept_rate":89,"display_name":"vickirk"},"score":0,"creation_date":1293026917,"post_id":4509836,"comment_id":4937026,"body_markdown":"A directory should be ok, not something to do with spaces in the path or a path being longer that 256 chars?  But if you are using maven why not just use the jar it generates (assuming it is a jar project)","body":"A directory should be ok, not something to do with spaces in the path or a path being longer that 256 chars?  But if you are using maven why not just use the jar it generates (assuming it is a jar project)"},{"owner":{"account_id":264759,"reputation":53,"user_id":551260,"accept_rate":20,"display_name":"y0dA"},"score":0,"creation_date":1293027218,"post_id":4509836,"comment_id":4937108,"body_markdown":"Thanks for the response! There are no spaces in the path and the path isnt longer than 256chars. The reason why I dont want to generate a JAR is because Im in developing state and if I change the domain class I always have to create a JAR file and after that I can change the .jrxml - thats not fast, if I use the folder Im always up to date. Furthermore there are more than 1 project (its a EAR)! A year ago I used iReport 3.0.0 and I did the same for another project and all worked well.","body":"Thanks for the response! There are no spaces in the path and the path isnt longer than 256chars. The reason why I dont want to generate a JAR is because Im in developing state and if I change the domain class I always have to create a JAR file and after that I can change the .jrxml - thats not fast, if I use the folder Im always up to date. Furthermore there are more than 1 project (its a EAR)! A year ago I used iReport 3.0.0 and I did the same for another project and all worked well."}],"answers":[{"tags":[],"owner":{"display_name":"user7047450"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1484053860,"creation_date":1484053860,"answer_id":41569659,"question_id":4509836,"body_markdown":"Your probleme is with the jar of ireport, I think that the version of ireport is not the same as the jar used in the IDE, if it&#39;s true try to change the jar that&#39;s all, hope this help.","title":"iReport - java.lang.ClassNotFoundException","body":"<p>Your probleme is with the jar of ireport, I think that the version of ireport is not the same as the jar used in the IDE, if it's true try to change the jar that's all, hope this help.</p>\n"}],"owner":{"account_id":264759,"reputation":53,"user_id":551260,"accept_rate":20,"display_name":"y0dA"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12723,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1698930551,"creation_date":1293026037,"question_id":4509836,"body_markdown":"Im using iReport 3.7.6.\r\n\r\nI have a Parameter with following parameter class: `at.gv.domain.print.impl.ParameterClass`.\r\n\r\nFor using that class I did following:\r\n\r\n--&gt; Extras --&gt; Option --&gt; Classpath --&gt; Add Folder --&gt;\r\n\r\n    C:\\Development\\Projectname\\workspace\\DomainProject\\target\\classes\r\n\r\nUnder `C:\\Development\\Projectname\\workspace\\DomainProject\\target\\classes\\at\\gv\\domain\\print\\impl` there are my `ParameterClass.class`.\r\n\r\n \r\n\r\nNow if I wanna compile the `.jrxml` I get following error:\r\n\r\n    net.sf.jasperreports.engine.design.JRValidationException: Report design not valid :\r\n\r\n    1. java.lang.ClassNotFoundException: at.gv.domain.print.impl.ParameterClass\r\n\r\n \r\n\r\nSomeone can tell me why? I added the classpath entry so why the class got not found?\r\n\r\nI tried to make a `.jar` of my Domain project - if I added that the class got found. Is there any problem with target directory (Im using Maven)?\r\n","title":"iReport - java.lang.ClassNotFoundException","body":"<p>Im using iReport 3.7.6.</p>\n\n<p>I have a Parameter with following parameter class: <code>at.gv.domain.print.impl.ParameterClass</code>.</p>\n\n<p>For using that class I did following:</p>\n\n<p>--> Extras --> Option --> Classpath --> Add Folder --></p>\n\n<pre><code>C:\\Development\\Projectname\\workspace\\DomainProject\\target\\classes\n</code></pre>\n\n<p>Under <code>C:\\Development\\Projectname\\workspace\\DomainProject\\target\\classes\\at\\gv\\domain\\print\\impl</code> there are my <code>ParameterClass.class</code>.</p>\n\n<p>Now if I wanna compile the <code>.jrxml</code> I get following error:</p>\n\n<pre><code>net.sf.jasperreports.engine.design.JRValidationException: Report design not valid :\n\n1. java.lang.ClassNotFoundException: at.gv.domain.print.impl.ParameterClass\n</code></pre>\n\n<p>Someone can tell me why? I added the classpath entry so why the class got not found?</p>\n\n<p>I tried to make a <code>.jar</code> of my Domain project - if I added that the class got found. Is there any problem with target directory (Im using Maven)?</p>\n"},{"tags":["java","amazon-web-services","dns"],"answers":[{"tags":[],"owner":{"account_id":946199,"reputation":1956,"user_id":973418,"accept_rate":75,"display_name":"jaguililla"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1620462921,"creation_date":1620462921,"answer_id":67445567,"question_id":67318231,"body_markdown":"If changing the cache policy is not working properly, you can change the TTL for DNS cache entries setting the [`networkaddress.cache.ttl`](https://docs.oracle.com/javase/8/docs/technotes/guides/net/properties.html#nct) property with:\r\n\r\n```java\r\n// Cache elements for one second\r\njava.security.Security.setProperty(&quot;networkaddress.cache.ttl&quot; , &quot;1&quot;)\r\n```","title":"Java DNS doesn&#39;t respect AWS CloudMap round-robin","body":"<p>If changing the cache policy is not working properly, you can change the TTL for DNS cache entries setting the <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/net/properties.html#nct\" rel=\"nofollow noreferrer\"><code>networkaddress.cache.ttl</code></a> property with:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Cache elements for one second\njava.security.Security.setProperty(&quot;networkaddress.cache.ttl&quot; , &quot;1&quot;)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24997408,"reputation":1,"user_id":18858082,"display_name":"Ezer D"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652765778,"creation_date":1652765778,"answer_id":72268648,"question_id":67318231,"body_markdown":"We have encountered the same problem. We also have configured the jvm security property for the **networkaddress.cache.ttl=0** but it appears the dns cache configuration is not respected. We also looked at the OS level caching but we can not seem to find the dns caching service used by *openjdk:11-jre-slim-buster* as our base image.\r\n\r\nOur use case, might not be the same with yours but hoping some insights might help. What we did is to have some workaround to be able to still use AWS Service Discovery by using **dnsjava**.\r\n\r\nWe created a test service and we tried getting the address using \r\n\r\n    java.net.InetAddress.getByName(&quot;test-service.dev&quot;);\r\n\r\nThe result does not return different IPs as we suppose to expect.\r\n\r\n1\r\nTTL: 0, ADDRESS: xx.x.97.26\r\n\r\n2\r\nTTL: 0, ADDRESS: xx.x.97.26\r\n\r\n3\r\nTTL: 0, ADDRESS: xx.x.97.26\r\n\r\n4\r\nTTL: 0, ADDRESS: xx.x.97.26\r\n\r\n5\r\nTTL: 0, ADDRESS: xx.x.97.26\r\n\r\n\r\nWhat we did is to use dnsjava and get the ip address returned by **dnsjava**&#39;s \r\n\r\n     Address.getByName(&quot;test-service.dev&quot;);\r\n\r\nWe had the following result:\r\n\r\n1\r\nTTL: 0, ADDRESS: xx.x.97.26\r\n\r\n2\r\nTTL: 0, ADDRESS: xx.x.103.245\r\n\r\n3\r\nTTL: 0, ADDRESS: xx.x.97.26\r\n\r\n4\r\nTTL: 0, ADDRESS: xx.x.103.245\r\n\r\n5\r\nTTL: 0, ADDRESS: xx.x.97.26\r\n\r\n6\r\nTTL: 0, ADDRESS: xx.x.103.245\r\n\r\nThe result shows that different IP addresses are returned. We then route our request to the ip address returned.\r\n","title":"Java DNS doesn&#39;t respect AWS CloudMap round-robin","body":"<p>We have encountered the same problem. We also have configured the jvm security property for the <strong>networkaddress.cache.ttl=0</strong> but it appears the dns cache configuration is not respected. We also looked at the OS level caching but we can not seem to find the dns caching service used by <em>openjdk:11-jre-slim-buster</em> as our base image.</p>\n<p>Our use case, might not be the same with yours but hoping some insights might help. What we did is to have some workaround to be able to still use AWS Service Discovery by using <strong>dnsjava</strong>.</p>\n<p>We created a test service and we tried getting the address using</p>\n<pre><code>java.net.InetAddress.getByName(&quot;test-service.dev&quot;);\n</code></pre>\n<p>The result does not return different IPs as we suppose to expect.</p>\n<p>1\nTTL: 0, ADDRESS: xx.x.97.26</p>\n<p>2\nTTL: 0, ADDRESS: xx.x.97.26</p>\n<p>3\nTTL: 0, ADDRESS: xx.x.97.26</p>\n<p>4\nTTL: 0, ADDRESS: xx.x.97.26</p>\n<p>5\nTTL: 0, ADDRESS: xx.x.97.26</p>\n<p>What we did is to use dnsjava and get the ip address returned by <strong>dnsjava</strong>'s</p>\n<pre><code> Address.getByName(&quot;test-service.dev&quot;);\n</code></pre>\n<p>We had the following result:</p>\n<p>1\nTTL: 0, ADDRESS: xx.x.97.26</p>\n<p>2\nTTL: 0, ADDRESS: xx.x.103.245</p>\n<p>3\nTTL: 0, ADDRESS: xx.x.97.26</p>\n<p>4\nTTL: 0, ADDRESS: xx.x.103.245</p>\n<p>5\nTTL: 0, ADDRESS: xx.x.97.26</p>\n<p>6\nTTL: 0, ADDRESS: xx.x.103.245</p>\n<p>The result shows that different IP addresses are returned. We then route our request to the ip address returned.</p>\n"}],"owner":{"account_id":21438429,"reputation":71,"user_id":15793470,"display_name":"TheProphet"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":591,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":2,"score":7,"last_activity_date":1698930484,"creation_date":1619702401,"question_id":67318231,"body_markdown":"We are developing Java services with ECS Fargate. We want to use autoscaling so our services are registered in AWS CloudMap for DNS discovery.\r\n\r\nI hit a very strange issue today where all the calls were going to the same instance of the service. So I started an EC2 in the same VPC to `dig` the service :\r\n\r\n```\r\n[ec2-user@.... ~]$ dig +short something.local\r\n10.253.0.199\r\n10.253.1.129\r\n10.253.0.6\r\n[ec2-user@.... ~]$ dig +short something.local\r\n10.253.1.129\r\n10.253.0.6\r\n10.253.0.199\r\n[ec2-user@.... ~]$ dig +short something.local\r\n10.253.0.6\r\n10.253.0.199\r\n10.253.1.129\r\n```\r\n\r\nIt shows that the round robin is correctly working on the AWS side...\r\n\r\nWe disabled the DNS caching and validated the effects with `sun.net.InetAddressCachePolicy.get()` returning 0.\r\n\r\nWe read the underlying code in the OpenJDK code, showing that `getByName` uses the first entry returned by `getAllByName`\r\n\r\nThen I wrote a code that executes `java.net.InetAddress.getAllByName(&quot;something.local&quot;)` every second and prints the result :\r\n\r\n```\r\n10.253.1.129\r\n10.253.0.6\r\n10.253.0.199\r\n========\r\n10.253.1.129\r\n10.253.0.199\r\n10.253.0.6\r\n========\r\n10.253.1.129\r\n10.253.0.6\r\n10.253.0.199\r\n========\r\n```\r\n\r\nWe can see here that the result returns always the same address in the first place but the 2 other one are well-balanced...\r\n\r\nI tried to find the logic in the source code of the InetAddress class in the openjdk-11 repo (https://github.com/AdoptOpenJDK/openjdk-jdk11/blob/master/src/java.base/share/classes/java/net/InetAddress.java) but I didn&#39;t see anything going wrong...\r\n\r\nDo you have any solution about that ?","title":"Java DNS doesn&#39;t respect AWS CloudMap round-robin","body":"<p>We are developing Java services with ECS Fargate. We want to use autoscaling so our services are registered in AWS CloudMap for DNS discovery.</p>\n<p>I hit a very strange issue today where all the calls were going to the same instance of the service. So I started an EC2 in the same VPC to <code>dig</code> the service :</p>\n<pre><code>[ec2-user@.... ~]$ dig +short something.local\n10.253.0.199\n10.253.1.129\n10.253.0.6\n[ec2-user@.... ~]$ dig +short something.local\n10.253.1.129\n10.253.0.6\n10.253.0.199\n[ec2-user@.... ~]$ dig +short something.local\n10.253.0.6\n10.253.0.199\n10.253.1.129\n</code></pre>\n<p>It shows that the round robin is correctly working on the AWS side...</p>\n<p>We disabled the DNS caching and validated the effects with <code>sun.net.InetAddressCachePolicy.get()</code> returning 0.</p>\n<p>We read the underlying code in the OpenJDK code, showing that <code>getByName</code> uses the first entry returned by <code>getAllByName</code></p>\n<p>Then I wrote a code that executes <code>java.net.InetAddress.getAllByName(&quot;something.local&quot;)</code> every second and prints the result :</p>\n<pre><code>10.253.1.129\n10.253.0.6\n10.253.0.199\n========\n10.253.1.129\n10.253.0.199\n10.253.0.6\n========\n10.253.1.129\n10.253.0.6\n10.253.0.199\n========\n</code></pre>\n<p>We can see here that the result returns always the same address in the first place but the 2 other one are well-balanced...</p>\n<p>I tried to find the logic in the source code of the InetAddress class in the openjdk-11 repo (<a href=\"https://github.com/AdoptOpenJDK/openjdk-jdk11/blob/master/src/java.base/share/classes/java/net/InetAddress.java\" rel=\"noreferrer\">https://github.com/AdoptOpenJDK/openjdk-jdk11/blob/master/src/java.base/share/classes/java/net/InetAddress.java</a>) but I didn't see anything going wrong...</p>\n<p>Do you have any solution about that ?</p>\n"},{"tags":["java","weblogic","classloader"],"owner":{"account_id":7996844,"reputation":105,"user_id":6032857,"display_name":"Atif Sheikh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698930071,"creation_date":1698930071,"question_id":77409785,"body_markdown":"I have a doubt regrading classloading. I am deploying my EAR on Weblogic. This Ear contains several jars. While starting the WebLogic I am defining **-cp** in startweblogic.sh.\r\n\r\nI want to understand the class loading in this scenario. Jars added in **-cp** will be loaded by which class loader and jars packaged in EAR will be loaded by which class loader ?\r\n\r\nWill both of them considered as separate applications ? and accordingly loaded by application class loader ? \r\n\r\nCould anyone please help me understand this ?\r\n\r\n","title":"Which class loader loads class from -Dcp and which classloader loads classes from EAR?","body":"<p>I have a doubt regrading classloading. I am deploying my EAR on Weblogic. This Ear contains several jars. While starting the WebLogic I am defining <strong>-cp</strong> in startweblogic.sh.</p>\n<p>I want to understand the class loading in this scenario. Jars added in <strong>-cp</strong> will be loaded by which class loader and jars packaged in EAR will be loaded by which class loader ?</p>\n<p>Will both of them considered as separate applications ? and accordingly loaded by application class loader ?</p>\n<p>Could anyone please help me understand this ?</p>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":247613,"reputation":284087,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1698929743,"post_id":77409722,"comment_id":136468342,"body_markdown":"You&#39;ve written some &quot;tight loops&quot;, and these may hog the CPU, preventing other threads from sharing it. Have you considered putting a brief sleep statement within the loop?","body":"You&#39;ve written some &quot;tight loops&quot;, and these may hog the CPU, preventing other threads from sharing it. Have you considered putting a brief sleep statement within the loop?"},{"owner":{"account_id":247613,"reputation":284087,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":8,"creation_date":1698929792,"post_id":77409722,"comment_id":136468352,"body_markdown":"Also, shouldn&#39;t `stop` be declared `volatile`? Otherwise readers from other threads may see a non-updated value.","body":"Also, shouldn&#39;t <code>stop</code> be declared <code>volatile</code>? Otherwise readers from other threads may see a non-updated value."},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1698930286,"post_id":77409722,"comment_id":136468450,"body_markdown":"My first thought would be something with `volatile` indeed.","body":"My first thought would be something with <code>volatile</code> indeed."},{"owner":{"account_id":11244318,"reputation":389,"user_id":8247530,"display_name":"Rifat Rubayatul Islam"},"score":0,"creation_date":1698930348,"post_id":77409722,"comment_id":136468458,"body_markdown":"Also if you have enough idle CPU cores, the threads may never need to be evicted.","body":"Also if you have enough idle CPU cores, the threads may never need to be evicted."},{"owner":{"account_id":5998820,"reputation":12631,"user_id":4712734,"display_name":"DuncG"},"score":1,"creation_date":1698931174,"post_id":77409722,"comment_id":136468653,"body_markdown":"You just need to add volatile to flag `private volatile boolean stop = false;`, see [While loop not ending when flag changed in different thread](https://stackoverflow.com/questions/11595868/while-loop-not-ending-when-flag-changed-in-different-thread)","body":"You just need to add volatile to flag <code>private volatile boolean stop = false;</code>, see <a href=\"https://stackoverflow.com/questions/11595868/while-loop-not-ending-when-flag-changed-in-different-thread\">While loop not ending when flag changed in different thread</a>"},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1698931494,"post_id":77409722,"comment_id":136468733,"body_markdown":"Re, &quot;...the main thread never ends...&quot; Actually it does end. But unlike in certain other languages, that means nothing. A Java _process_ does not end just because its main thread ended. A Java process cannot end until the last of its _non-daemon\\*_ threads ends. \\[\\* Your three `ThreadPriority` threads are non-daemon. All new threads are non-daemon. If you want a daemon thread, you have to explicitly ask for it.]","body":"Re, &quot;...the main thread never ends...&quot; Actually it does end. But unlike in certain other languages, that means nothing. A Java <i>process</i> does not end just because its main thread ended. A Java process cannot end until the last of its <i>non-daemon*</i> threads ends. &#91;* Your three <code>ThreadPriority</code> threads are non-daemon. All new threads are non-daemon. If you want a daemon thread, you have to explicitly ask for it.]"},{"owner":{"account_id":18882729,"reputation":37,"user_id":18250355,"display_name":"mcventur"},"score":0,"creation_date":1698932324,"post_id":77409722,"comment_id":136468922,"body_markdown":"I have other simple example that has not a counter, and it only displays a message in the run() function. In this example the stop() function works as expected without the volatile modifier for the boolean value... This is a little confusing... Maybe with more than one attribute it is when it&#39;s needed the use of volatile?","body":"I have other simple example that has not a counter, and it only displays a message in the run() function. In this example the stop() function works as expected without the volatile modifier for the boolean value... This is a little confusing... Maybe with more than one attribute it is when it&#39;s needed the use of volatile?"}],"owner":{"account_id":18882729,"reputation":37,"user_id":18250355,"display_name":"mcventur"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1698931243,"answer_count":0,"score":0,"last_activity_date":1698929619,"creation_date":1698929619,"question_id":77409722,"body_markdown":"I am implementing a class to ilustrate thread&#39;s priorities. \r\n\r\nThe code is:\r\n\r\n```\r\nclass ThreadPriority extends Thread {\r\n\r\n    private int c = 0; //Counter\r\n    private boolean stop = false;\r\n\r\n    public int getCounter() {\r\n        return c;\r\n    }\r\n\r\n    public void stopThread() {\r\n        stop = true;\r\n    }\r\n\r\n    //El m&#233;todo run simplemente incrementa el contador mientras no se le obligue a detenerse\r\n    @Override\r\n    public void run() {\r\n        while (!stop) {\r\n            c++;\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        //Creamos los 3 hilos\r\n        ThreadPriority h1 = new ThreadPriority();\r\n        ThreadPriority h2 = new ThreadPriority();\r\n        ThreadPriority h3 = new ThreadPriority();\r\n\r\n        //assign distinct priorities\r\n        h1.setPriority(Thread.NORM_PRIORITY);\r\n        h2.setPriority(Thread.MAX_PRIORITY);\r\n        h3.setPriority(Thread.MIN_PRIORITY);\r\n\r\n        h1.start();\r\n        h2.start();\r\n        h3.start();\r\n\r\n        try {\r\n            Thread.sleep(2000);\r\n        } catch (InterruptedException ignore) {\r\n            //Ignoramos el tratamiento de la excepci&#243;n\r\n        }\r\n\r\n        h1.stopThread();\r\n        h2.stopThread();\r\n        h3.stopThread();\r\n\r\n\r\n\r\n        System.out.println(&quot;h2 (m&#225;x priority): &quot; + h2.getCounter());\r\n        System.out.println(&quot;h1 (medium priority): &quot; + h1.getCounter());\r\n        System.out.println(&quot;h3 (low priority): &quot; + h3.getCounter());\r\n    }\r\n}\r\n```\r\n\r\nI&#39;m confused because the main thread never ends. It never exits with 0 (or another) code.\r\n\r\nFurthermore, the counters displayed are not the expected values, with higher values to higher priorities. \r\n\r\nMy JVM is running over Windows 10. \r\n\r\nThis is the output of exection (not ending):\r\n\r\n```\r\nh2 (m&#225;x priority): 1189029318\r\nh1 (medium priority): 1165120770\r\nh3 (low priority): 1209305976\r\n\r\n``` \r\n\r\nI suppose this is related to synchronization os threads. But if the counter values are displayed, then it means that the callings to stopThread() are executing. \r\n\r\nWhy this occurs?","title":"Java Threads not stopping with boolean variable control","body":"<p>I am implementing a class to ilustrate thread's priorities.</p>\n<p>The code is:</p>\n<pre><code>class ThreadPriority extends Thread {\n\n    private int c = 0; //Counter\n    private boolean stop = false;\n\n    public int getCounter() {\n        return c;\n    }\n\n    public void stopThread() {\n        stop = true;\n    }\n\n    //El método run simplemente incrementa el contador mientras no se le obligue a detenerse\n    @Override\n    public void run() {\n        while (!stop) {\n            c++;\n        }\n    }\n\n    public static void main(String[] args) {\n        //Creamos los 3 hilos\n        ThreadPriority h1 = new ThreadPriority();\n        ThreadPriority h2 = new ThreadPriority();\n        ThreadPriority h3 = new ThreadPriority();\n\n        //assign distinct priorities\n        h1.setPriority(Thread.NORM_PRIORITY);\n        h2.setPriority(Thread.MAX_PRIORITY);\n        h3.setPriority(Thread.MIN_PRIORITY);\n\n        h1.start();\n        h2.start();\n        h3.start();\n\n        try {\n            Thread.sleep(2000);\n        } catch (InterruptedException ignore) {\n            //Ignoramos el tratamiento de la excepción\n        }\n\n        h1.stopThread();\n        h2.stopThread();\n        h3.stopThread();\n\n\n\n        System.out.println(&quot;h2 (máx priority): &quot; + h2.getCounter());\n        System.out.println(&quot;h1 (medium priority): &quot; + h1.getCounter());\n        System.out.println(&quot;h3 (low priority): &quot; + h3.getCounter());\n    }\n}\n</code></pre>\n<p>I'm confused because the main thread never ends. It never exits with 0 (or another) code.</p>\n<p>Furthermore, the counters displayed are not the expected values, with higher values to higher priorities.</p>\n<p>My JVM is running over Windows 10.</p>\n<p>This is the output of exection (not ending):</p>\n<pre><code>h2 (máx priority): 1189029318\nh1 (medium priority): 1165120770\nh3 (low priority): 1209305976\n\n</code></pre>\n<p>I suppose this is related to synchronization os threads. But if the counter values are displayed, then it means that the callings to stopThread() are executing.</p>\n<p>Why this occurs?</p>\n"},{"tags":["java","spring","maven","spring-boot"],"comments":[{"owner":{"account_id":10574825,"reputation":1169,"user_id":7790438,"display_name":"Fady Saad"},"score":0,"creation_date":1494989057,"post_id":44014594,"comment_id":75057090,"body_markdown":"Take a look at this [question](http://stackoverflow.com/questions/28375416/spring-cloud-config-server-cant-locate-propertysource-on-startup) it may help","body":"Take a look at this <a href=\"http://stackoverflow.com/questions/28375416/spring-cloud-config-server-cant-locate-propertysource-on-startup\">question</a> it may help"},{"owner":{"account_id":10914675,"reputation":141,"user_id":8022865,"display_name":"Joseph T"},"score":0,"creation_date":1494991813,"post_id":44014594,"comment_id":75057747,"body_markdown":"tried it, but still not working","body":"tried it, but still not working"},{"owner":{"account_id":484421,"reputation":5836,"user_id":900081,"accept_rate":58,"display_name":"D&#233;bora"},"score":1,"creation_date":1514444744,"post_id":44014594,"comment_id":82974330,"body_markdown":"@JosephT . Were you able to solve this ? I am also facing the same issue.","body":"@JosephT . Were you able to solve this ? I am also facing the same issue."},{"owner":{"account_id":4657950,"reputation":993,"user_id":3772981,"display_name":"austin cherlo"},"score":0,"creation_date":1575329119,"post_id":44014594,"comment_id":104521892,"body_markdown":"I had same issue.  Turned out that the config server was not configured yet with a repository.  After filling out the default configuration and restaging, the app listed the labels and loaded the property files.","body":"I had same issue.  Turned out that the config server was not configured yet with a repository.  After filling out the default configuration and restaging, the app listed the labels and loaded the property files."}],"answers":[{"tags":[],"owner":{"account_id":473544,"reputation":180,"user_id":976963,"display_name":"Dhanushka N"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1514528292,"creation_date":1514528292,"answer_id":48018299,"question_id":44014594,"body_markdown":"Try this one. I had the same issue and solved.  \r\n\r\nFirst enable debug mode in your app.(In your property file: logging.level.=DEBUG . This is only to make sure the issue is same as mine Or you may have any clue of where it can go wrong.) \r\nThen start the application and see the logs. The log shows the configured server URI and what the **URL** to get all property resources.  \r\nCompare both URL s - the one in the log and your Configuration server URI.   \r\nIssue is that mistakenly the URL defined the property file can have empty space at the end. (This can happen when you copy past from somewhere ) Example:  \r\nthe value for spring.cloud.config.uri=http:localhost:&lt; port &gt;***&lt; additional empty space &gt;***\r\n\r\nIf this is the case, the client&#39;s log shows localhost:&lt;serverport&gt;/*20%20%/* &lt; app name &gt; / &lt; profile &gt; \r\n\r\nSimply remove the post empty space. Then it should work !\r\n  ","title":"Spring boot Could not locate PropertySource: label not found","body":"<p>Try this one. I had the same issue and solved.  </p>\n\n<p>First enable debug mode in your app.(In your property file: logging.level.=DEBUG . This is only to make sure the issue is same as mine Or you may have any clue of where it can go wrong.) \nThen start the application and see the logs. The log shows the configured server URI and what the <strong>URL</strong> to get all property resources.<br>\nCompare both URL s - the one in the log and your Configuration server URI.<br>\nIssue is that mistakenly the URL defined the property file can have empty space at the end. (This can happen when you copy past from somewhere ) Example:<br>\nthe value for spring.cloud.config.uri=http:localhost:&lt; port ><strong><em>&lt; additional empty space ></em></strong></p>\n\n<p>If this is the case, the client's log shows localhost:/<em>20%20%/</em> &lt; app name > / &lt; profile > </p>\n\n<p>Simply remove the post empty space. Then it should work !</p>\n"},{"tags":[],"owner":{"account_id":3795830,"reputation":6437,"user_id":3150948,"accept_rate":70,"display_name":"Amer Qarabsa"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1531347286,"creation_date":1531347286,"answer_id":51294894,"question_id":44014594,"body_markdown":"I ran into similar issue, when I run my server locally I see in the logs only on the stratup\r\n\r\n    o.s.c.c.c.ConfigServicePropertySourceLocator - Could not locate PropertySource: label not found\r\n\r\nIt turned out this is a problem with the health check for the config server, when health check is triggered to config server an empty environment is used so the application name is empty hence the spring cloud client will try to access {config-server}/application since application is the default application name, see [issue][1] for more info on this.\r\n\r\nTo solve the issue I just disabled the health check for config server\r\n\r\n    health.config.enabled=false\r\n\r\n  [1]: https://github.com/spring-cloud/spring-cloud-config/issues/386","title":"Spring boot Could not locate PropertySource: label not found","body":"<p>I ran into similar issue, when I run my server locally I see in the logs only on the stratup</p>\n\n<pre><code>o.s.c.c.c.ConfigServicePropertySourceLocator - Could not locate PropertySource: label not found\n</code></pre>\n\n<p>It turned out this is a problem with the health check for the config server, when health check is triggered to config server an empty environment is used so the application name is empty hence the spring cloud client will try to access {config-server}/application since application is the default application name, see <a href=\"https://github.com/spring-cloud/spring-cloud-config/issues/386\" rel=\"nofollow noreferrer\">issue</a> for more info on this.</p>\n\n<p>To solve the issue I just disabled the health check for config server</p>\n\n<pre><code>health.config.enabled=false\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13803913,"reputation":71,"user_id":9963278,"display_name":"user9963278"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1568746366,"creation_date":1568746366,"answer_id":57980397,"question_id":44014594,"body_markdown":"Add ***@EnableConfigServer*** at configuration class level or main class of spring boot application  and restart the service .it will work .","title":"Spring boot Could not locate PropertySource: label not found","body":"<p>Add <strong><em>@EnableConfigServer</em></strong> at configuration class level or main class of spring boot application  and restart the service .it will work .</p>\n"},{"tags":[],"owner":{"account_id":17332998,"reputation":1325,"user_id":12555595,"display_name":"laserany"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1607278810,"creation_date":1607278810,"answer_id":65171505,"question_id":44014594,"body_markdown":"In my case it was because I had to set the default branch of my github URI (the branch of the repository set for spring.cloud.config.server.git.uri) in the config server by setting the following to the application.properties\r\n\r\n    spring.cloud.config.server.git.default-label=main","title":"Spring boot Could not locate PropertySource: label not found","body":"<p>In my case it was because I had to set the default branch of my github URI (the branch of the repository set for spring.cloud.config.server.git.uri) in the config server by setting the following to the application.properties</p>\n<pre><code>spring.cloud.config.server.git.default-label=main\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18083109,"reputation":1,"user_id":13144725,"display_name":"Saint Deemene"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1610640159,"creation_date":1610640159,"answer_id":65722465,"question_id":44014594,"body_markdown":"In your bootstrap.yml file \r\nAdd these lines\r\n\r\n\r\n    spring:\r\n      cloud:\r\n        config:\r\n          enabled: true\r\n          uri: http://localhost:8888 ##this is the link to the server config\r\n          label: main ##this is what you are missing (name of the git repo branch)\r\n      application:\r\n        name: currency-spring-cloud-config-client\r\n      profiles:\r\n        active: testing\r\n    \r\n    \r\n    server:\r\n      port: 8600\r\n\r\n","title":"Spring boot Could not locate PropertySource: label not found","body":"<p>In your bootstrap.yml file\nAdd these lines</p>\n<pre><code>spring:\n  cloud:\n    config:\n      enabled: true\n      uri: http://localhost:8888 ##this is the link to the server config\n      label: main ##this is what you are missing (name of the git repo branch)\n  application:\n    name: currency-spring-cloud-config-client\n  profiles:\n    active: testing\n\n\nserver:\n  port: 8600\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21608512,"reputation":1,"user_id":15935517,"display_name":"Sujay Singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1621092670,"creation_date":1621091987,"answer_id":67548313,"question_id":44014594,"body_markdown":"    spring:\r\n      cloud:\r\n        config:\r\n          enabled: true\r\n          uri:\r\n            - http://localhost:9196   ### your port for cloud config server\r\n          label: main                 ### your git repo branch name","title":"Spring boot Could not locate PropertySource: label not found","body":"<pre><code>spring:\n  cloud:\n    config:\n      enabled: true\n      uri:\n        - http://localhost:9196   ### your port for cloud config server\n      label: main                 ### your git repo branch name\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9139321,"reputation":139,"user_id":6797789,"accept_rate":67,"display_name":"bobryash"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669908542,"creation_date":1669908542,"answer_id":74644345,"question_id":44014594,"body_markdown":"In my case my server was fetching cofnigs from github repository, and I forgot that I made it private :)","title":"Spring boot Could not locate PropertySource: label not found","body":"<p>In my case my server was fetching cofnigs from github repository, and I forgot that I made it private :)</p>\n"},{"tags":[],"owner":{"account_id":1636378,"reputation":3853,"user_id":1509738,"accept_rate":75,"display_name":"ArunDhwaj IIITH"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689142990,"creation_date":1689142990,"answer_id":76667645,"question_id":44014594,"body_markdown":"Mostly it is due to typo in url.\r\nIn my case it was due to wrong url typing:\r\n\r\nspring:\r\n\r\n  application:\r\n\r\n    name: employee-service\r\n\r\n  config:\r\n\r\n    import: &quot;optional:configserver:http:/localhost:8088&quot; &lt; Wrong_url&gt;\r\n\r\n\r\n&gt;&gt;&gt;&gt; Not able to connect the config-server &lt;&lt;&lt;&lt;&lt;&lt;\r\n    \r\n=========================================================================\r\n\r\nspring:\r\n\r\n  application:\r\n\r\n    name: employee-service\r\n\r\n  config:\r\n    import: &quot;optional:configserver:http://localhost:8088&quot; &lt;right_url&gt;\r\n\r\n&gt;&gt;&gt; So, able to connect the config-server. &lt;&lt;&lt;&lt;&lt;&lt;\r\n","title":"Spring boot Could not locate PropertySource: label not found","body":"<p>Mostly it is due to typo in url.\nIn my case it was due to wrong url typing:</p>\n<p>spring:</p>\n<p>application:</p>\n<pre><code>name: employee-service\n</code></pre>\n<p>config:</p>\n<pre><code>import: &quot;optional:configserver:http:/localhost:8088&quot; &lt; Wrong_url&gt;\n</code></pre>\n<blockquote>\n<blockquote>\n<blockquote>\n<blockquote>\n<p>Not able to connect the config-server &lt;&lt;&lt;&lt;&lt;&lt;</p>\n</blockquote>\n</blockquote>\n</blockquote>\n</blockquote>\n<p>=========================================================================</p>\n<p>spring:</p>\n<p>application:</p>\n<pre><code>name: employee-service\n</code></pre>\n<p>config:\nimport: &quot;optional:configserver:http://localhost:8088&quot; &lt;right_url&gt;</p>\n<blockquote>\n<blockquote>\n<blockquote>\n<p>So, able to connect the config-server. &lt;&lt;&lt;&lt;&lt;&lt;</p>\n</blockquote>\n</blockquote>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":3289024,"reputation":49,"user_id":2767738,"display_name":"Amit Thakur"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698928910,"creation_date":1698928910,"answer_id":77409643,"question_id":44014594,"body_markdown":"Remove the spaces from application.properties file , I just compared properties file with working branch then push changes again and it worked again. \r\n","title":"Spring boot Could not locate PropertySource: label not found","body":"<p>Remove the spaces from application.properties file , I just compared properties file with working branch then push changes again and it worked again.</p>\n"}],"owner":{"account_id":10914675,"reputation":141,"user_id":8022865,"display_name":"Joseph T"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39342,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"answer_count":9,"score":14,"last_activity_date":1698928910,"creation_date":1494988765,"question_id":44014594,"body_markdown":"I am trying set Spring Cloud Config Server, but  the service config server, it the running on port 8888 which is correct, and another service should run on port 18060, but for reason when I startup, it allocate port 8080 for me and the return a warning &quot;Could not locate PropertySource: label not found&quot;, what should I do? Thank you !!!","title":"Spring boot Could not locate PropertySource: label not found","body":"<p>I am trying set Spring Cloud Config Server, but  the service config server, it the running on port 8888 which is correct, and another service should run on port 18060, but for reason when I startup, it allocate port 8080 for me and the return a warning \"Could not locate PropertySource: label not found\", what should I do? Thank you !!!</p>\n"},{"tags":["java","spring","spring-mvc"],"comments":[{"owner":{"account_id":1885070,"reputation":3672,"user_id":1704453,"accept_rate":88,"display_name":"Vipin CP"},"score":0,"creation_date":1522746048,"post_id":49626038,"comment_id":86259089,"body_markdown":"what is REDIRECT_PREFIX ?","body":"what is REDIRECT_PREFIX ?"},{"owner":{"account_id":2049982,"reputation":915,"user_id":5609246,"accept_rate":71,"display_name":"McMutton"},"score":0,"creation_date":1522746178,"post_id":49626038,"comment_id":86259167,"body_markdown":"Welcome to Stack Overflow. Please take some time to read [How to create a Minimal, Complete, and Verifiable example](https://stackoverflow.com/help/mcve) and we will be able to help you.","body":"Welcome to Stack Overflow. Please take some time to read <a href=\"https://stackoverflow.com/help/mcve\">How to create a Minimal, Complete, and Verifiable example</a> and we will be able to help you."},{"owner":{"account_id":8331949,"reputation":43,"user_id":6260071,"display_name":"MunishGowtham Baskaran"},"score":0,"creation_date":1541492658,"post_id":49626038,"comment_id":93226113,"body_markdown":"REDIRECT_PREFIX  is nothing but a constant url prefix  before a redirect url. @vipincp","body":"REDIRECT_PREFIX  is nothing but a constant url prefix  before a redirect url. @vipincp"}],"answers":[{"tags":[],"owner":{"account_id":13207957,"reputation":384,"user_id":9539089,"display_name":"ajay tomar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1698928884,"creation_date":1522760202,"answer_id":49630674,"question_id":49626038,"body_markdown":"i) Add RedirectAttributes redirectAttributes to the method parameter list in the first controller:\r\n\r\n    public String test(\r\n    \t\t        @ModelAttribute(&quot;userModel&quot;) final Object UserModel,\r\n    \t\t        final BindingResult bindingResult,\r\n    \t\t        final Model model, \r\n    \t\t        final RedirectAttributes redirectAttributes)\r\n\r\nii) Inside the method, add code to add a flash attribute to redirectAttributes:\r\n\r\n    redirectAttributes.addFlashAttribute(&quot;userModel&quot;, mapping1FormObject);\r\n\r\niii) Then, in the second contoller use method parameter annotated with @ModelAttribute to access the redirected attributes:\r\n\r\n    @ModelAttribute(&quot;userModel&quot;) final Object userModel\r\n\r\nFinally your two controller methods look like:\r\n\r\n    // Controller1\r\n\t\r\n    @RequestMapping(value = { &quot;/page1&quot; }, method = RequestMethod.POST)\r\n    public String test1(\r\n    \t\t        @ModelAttribute(&quot;userModel&quot;) final Object userModel,\r\n    \t\t        final BindingResult bindingResult,\r\n    \t\t        final Model model, \r\n    \t\t        final RedirectAttributes redirectAttributes) {\r\n    \r\n        redirectAttributes.addFlashAttribute(&quot;userModel&quot;, mapping1FormObject);\r\n        return &quot;redirect:page2&quot;;\r\n    } \r\n\r\n\t// Controller2\r\n\r\n    @RequestMapping(value = &quot;/page2&quot;, method = RequestMethod.GET)\r\n    public String test2(\r\n    \t\t        @ModelAttribute(&quot;userModel&quot;) final Object userModel,\r\n    \t\t        final BindingResult bindingResult,\r\n    \t\t        final Model model) {\r\n        return &quot;new/view&quot;;  \r\n    }","title":"How to pass the model as a redirect attribute in spring","body":"<p>i) Add RedirectAttributes redirectAttributes to the method parameter list in the first controller:</p>\n<pre><code>public String test(\n                @ModelAttribute(&quot;userModel&quot;) final Object UserModel,\n                final BindingResult bindingResult,\n                final Model model, \n                final RedirectAttributes redirectAttributes)\n</code></pre>\n<p>ii) Inside the method, add code to add a flash attribute to redirectAttributes:</p>\n<pre><code>redirectAttributes.addFlashAttribute(&quot;userModel&quot;, mapping1FormObject);\n</code></pre>\n<p>iii) Then, in the second contoller use method parameter annotated with @ModelAttribute to access the redirected attributes:</p>\n<pre><code>@ModelAttribute(&quot;userModel&quot;) final Object userModel\n</code></pre>\n<p>Finally your two controller methods look like:</p>\n<pre><code>// Controller1\n\n@RequestMapping(value = { &quot;/page1&quot; }, method = RequestMethod.POST)\npublic String test1(\n                @ModelAttribute(&quot;userModel&quot;) final Object userModel,\n                final BindingResult bindingResult,\n                final Model model, \n                final RedirectAttributes redirectAttributes) {\n\n    redirectAttributes.addFlashAttribute(&quot;userModel&quot;, mapping1FormObject);\n    return &quot;redirect:page2&quot;;\n} \n\n// Controller2\n\n@RequestMapping(value = &quot;/page2&quot;, method = RequestMethod.GET)\npublic String test2(\n                @ModelAttribute(&quot;userModel&quot;) final Object userModel,\n                final BindingResult bindingResult,\n                final Model model) {\n    return &quot;new/view&quot;;  \n}\n</code></pre>\n"}],"owner":{"account_id":8331949,"reputation":43,"user_id":6260071,"display_name":"MunishGowtham Baskaran"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4349,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":49630674,"answer_count":1,"score":2,"last_activity_date":1698928884,"creation_date":1522745984,"question_id":49626038,"body_markdown":"    redirectModel.addAttribute(&quot;Model&quot;, model);\r\n    return REDIRECT_PREFIX + &quot;../../my-company/organization-management/manage-users&quot;;\r\n\r\nwhen I pass this I get conversion exception: Cannot convert `list&lt;?&gt;` to `string`","title":"How to pass the model as a redirect attribute in spring","body":"<pre><code>redirectModel.addAttribute(\"Model\", model);\nreturn REDIRECT_PREFIX + \"../../my-company/organization-management/manage-users\";\n</code></pre>\n\n<p>when I pass this I get conversion exception: Cannot convert <code>list&lt;?&gt;</code> to <code>string</code></p>\n"},{"tags":["java","maven"],"answers":[{"tags":[],"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698928534,"creation_date":1698928534,"answer_id":77409609,"question_id":77409101,"body_markdown":"Usually, one should avoid that and try to find a version that fits for all purposes.\r\n\r\nIf this is not possible, one could try with Maven Shade Plugin.","title":"Resolving version conflict in maven java project when adding dependencies via parent","body":"<p>Usually, one should avoid that and try to find a version that fits for all purposes.</p>\n<p>If this is not possible, one could try with Maven Shade Plugin.</p>\n"}],"owner":{"account_id":13134034,"reputation":41,"user_id":9487697,"display_name":"clipper1995"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1698928534,"creation_date":1698923652,"question_id":77409101,"body_markdown":"For some reason I have to import dependencies from project &quot;A&quot; into my Java project &quot;B&quot; using parent. I don&#39;t have the ability to change this project &quot;A&quot;. But my project &quot;B&quot; uses an newer version of the Spark library. After importing dependencies using parent, the class code of project &quot;A&quot; does not work correctly, as it picks up my version of Spark. \r\nCan I force Maven to compile classes of project &quot;A&quot; with the version of the Spark library that is specified by it, and compile my classes with the version of the Spark library that is specified by me?","title":"Resolving version conflict in maven java project when adding dependencies via parent","body":"<p>For some reason I have to import dependencies from project &quot;A&quot; into my Java project &quot;B&quot; using parent. I don't have the ability to change this project &quot;A&quot;. But my project &quot;B&quot; uses an newer version of the Spark library. After importing dependencies using parent, the class code of project &quot;A&quot; does not work correctly, as it picks up my version of Spark.\nCan I force Maven to compile classes of project &quot;A&quot; with the version of the Spark library that is specified by it, and compile my classes with the version of the Spark library that is specified by me?</p>\n"},{"tags":["java","encryption","rsa","digital-signature"],"comments":[{"owner":{"account_id":21615266,"reputation":19,"user_id":15941368,"display_name":"PrettyCoder"},"score":0,"creation_date":1698929721,"post_id":77409581,"comment_id":136468337,"body_markdown":"Or probably I should pass the message and the signature separately because they are the things that are absolutely not related to each other?","body":"Or probably I should pass the message and the signature separately because they are the things that are absolutely not related to each other?"},{"owner":{"account_id":50585,"reputation":39930,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1698948038,"post_id":77409581,"comment_id":136472327,"body_markdown":"I think this is a misunderstanding. your `signMessage` function does not return a signed message but a signature. A signature applies a hash function on the message and then generates a signature of the hash. Hash functions are one-way trap door functions, which means they can not be reversed, so getting a message from it&#39;s signature is impossible. You have to save the message and the signature and transmit both.","body":"I think this is a misunderstanding. your <code>signMessage</code> function does not return a signed message but a signature. A signature applies a hash function on the message and then generates a signature of the hash. Hash functions are one-way trap door functions, which means they can not be reversed, so getting a message from it&#39;s signature is impossible. You have to save the message and the signature and transmit both."}],"owner":{"account_id":21615266,"reputation":19,"user_id":15941368,"display_name":"PrettyCoder"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698928260,"creation_date":1698928260,"question_id":77409581,"body_markdown":"Initially I need to encrypt a certain message using my encryption implementation, then sign the message with an signature using RSA and send it all to a certain class where the signature should be verified and the message itself decrypted. The problem is that I don&#39;t understand how to retrieve the message itself from the signed message.\r\n\r\n    public class Voter {\r\n\r\n    private KeyPairGenerator generator;\r\n    private KeyPair pair;\r\n\r\n    ...\r\n\r\n    public Voter(String firstName, String lastName, String sex, String age) throws Exception {\r\n        ...\r\n\r\n        generator = KeyPairGenerator.getInstance(&quot;RSA&quot;);\r\n        generator.initialize(2048, new SecureRandom());\r\n        pair = generator.generateKeyPair();\r\n    }\r\n\r\n    public String createBallot (String candidateName, String candidateSurname) {\r\n        return &quot;Candidate: &quot; + candidateSurname + &quot; &quot; + candidateSurname +\r\n                &quot;; Voter: &quot; + this.lastName + &quot; &quot; + this.firstName;\r\n    }\r\n\r\n\r\n    public void vote(String ballot, String gammaKey) {\r\n        String encryptedBallot = encrypt(ballot, gammaKey);\r\n        byte[] signedMessage = signMessage(encryptedBallot);\r\n        votingSystem.addBallot(signedMessage);\r\n    }\r\n\r\n    private byte[] signMessage(String message) throws Exception {\r\n        Signature privateSignature = Signature.getInstance(&quot;SHA256withRSA&quot;);\r\n        privateSignature.initSign(pair.getPrivate());\r\n        privateSignature.update(message.getBytes(StandardCharsets.UTF_8));\r\n\r\n        return privateSignature.sign();\r\n    }\r\n\r\n    private String encrypt(String message, String gammaKey) {\r\n        gammaKey = fitGammaToMessage(message.length(), gammaKey);\r\n        StringBuilder encyptedMessage = new StringBuilder();\r\n\r\n        for (int i = 0; i &lt; message.length(); i++) {\r\n            char C = (char) (message.charAt(i) ^ gammaKey.charAt(i));\r\n            encyptedMessage.append(C);\r\n        }\r\n\r\n        return encyptedMessage.toString();\r\n    }\r\n\r\n\r\n    public class VotingSystem {\r\n\r\n    ...\r\n\r\n    private ArrayList&lt;byte[]&gt; ballots = new ArrayList&lt;&gt;();\r\n\r\n \r\n\r\n\r\n    ...\r\n\r\n    public void addBallot(byte[] ballot) {\r\n        ballots.add(ballot);\r\n    }\r\n    \r\n    private boolean verifySign(byte[] ballot, PublicKey publicKey) throws Exception {\r\n        Signature publicSignature = Signature.getInstance(&quot;SHA256withRSA&quot;);\r\n        publicSignature.initVerify(publicKey);\r\n        publicSignature.update(??? How do I get the message itself???message.getBytes(StandardCharsets.UTF_8));\r\n        return publicSignature.verify(ballot);\r\n    }}","title":"Obtaining a message content from signed message","body":"<p>Initially I need to encrypt a certain message using my encryption implementation, then sign the message with an signature using RSA and send it all to a certain class where the signature should be verified and the message itself decrypted. The problem is that I don't understand how to retrieve the message itself from the signed message.</p>\n<pre><code>public class Voter {\n\nprivate KeyPairGenerator generator;\nprivate KeyPair pair;\n\n...\n\npublic Voter(String firstName, String lastName, String sex, String age) throws Exception {\n    ...\n\n    generator = KeyPairGenerator.getInstance(&quot;RSA&quot;);\n    generator.initialize(2048, new SecureRandom());\n    pair = generator.generateKeyPair();\n}\n\npublic String createBallot (String candidateName, String candidateSurname) {\n    return &quot;Candidate: &quot; + candidateSurname + &quot; &quot; + candidateSurname +\n            &quot;; Voter: &quot; + this.lastName + &quot; &quot; + this.firstName;\n}\n\n\npublic void vote(String ballot, String gammaKey) {\n    String encryptedBallot = encrypt(ballot, gammaKey);\n    byte[] signedMessage = signMessage(encryptedBallot);\n    votingSystem.addBallot(signedMessage);\n}\n\nprivate byte[] signMessage(String message) throws Exception {\n    Signature privateSignature = Signature.getInstance(&quot;SHA256withRSA&quot;);\n    privateSignature.initSign(pair.getPrivate());\n    privateSignature.update(message.getBytes(StandardCharsets.UTF_8));\n\n    return privateSignature.sign();\n}\n\nprivate String encrypt(String message, String gammaKey) {\n    gammaKey = fitGammaToMessage(message.length(), gammaKey);\n    StringBuilder encyptedMessage = new StringBuilder();\n\n    for (int i = 0; i &lt; message.length(); i++) {\n        char C = (char) (message.charAt(i) ^ gammaKey.charAt(i));\n        encyptedMessage.append(C);\n    }\n\n    return encyptedMessage.toString();\n}\n\n\npublic class VotingSystem {\n\n...\n\nprivate ArrayList&lt;byte[]&gt; ballots = new ArrayList&lt;&gt;();\n\n\n\n\n...\n\npublic void addBallot(byte[] ballot) {\n    ballots.add(ballot);\n}\n\nprivate boolean verifySign(byte[] ballot, PublicKey publicKey) throws Exception {\n    Signature publicSignature = Signature.getInstance(&quot;SHA256withRSA&quot;);\n    publicSignature.initVerify(publicKey);\n    publicSignature.update(??? How do I get the message itself???message.getBytes(StandardCharsets.UTF_8));\n    return publicSignature.verify(ballot);\n}}\n</code></pre>\n"},{"tags":["java","arrays","matrix","multidimensional-array","matrix-multiplication"],"comments":[{"owner":{"account_id":465573,"reputation":192684,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":6,"creation_date":1373662802,"post_id":17623876,"comment_id":25657280,"body_markdown":"You need three loops: it should be `C[i][j] += A[i][k] * B[k][j]`.","body":"You need three loops: it should be <code>C[i][j] += A[i][k] * B[k][j]</code>."},{"owner":{"account_id":1900543,"reputation":4792,"user_id":1716487,"accept_rate":82,"display_name":"morpheus05"},"score":0,"creation_date":1373662813,"post_id":17623876,"comment_id":25657286,"body_markdown":"If you use double notice the lowercase D! you don&#39;t have to initialize the array first","body":"If you use double notice the lowercase D! you don&#39;t have to initialize the array first"},{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1373663054,"post_id":17623876,"comment_id":25657387,"body_markdown":"To answer your question, I suggest that you use a debugger to step through your code to find out what it is doing. Also I suggest using `double` rather than `Double`.","body":"To answer your question, I suggest that you use a debugger to step through your code to find out what it is doing. Also I suggest using <code>double</code> rather than <code>Double</code>."},{"owner":{"display_name":"user2577854"},"score":0,"creation_date":1373663118,"post_id":17623876,"comment_id":25657408,"body_markdown":"@LouisWasserman Thank you so much. In retrospect, that was so obvious. I&#39;m dumb. Thank you.","body":"@LouisWasserman Thank you so much. In retrospect, that was so obvious. I&#39;m dumb. Thank you."},{"owner":{"display_name":"user2577854"},"score":0,"creation_date":1373663335,"post_id":17623876,"comment_id":25657507,"body_markdown":"@morpheus05 It was giving me an error for some reason, but it does seem weird that I would have to initialize it, since it&#39;s my understanding the array is automatically filled with 0&#39;s, correct?\n\nI was probably messing up somewhere else. Thank you so much for answering.","body":"@morpheus05 It was giving me an error for some reason, but it does seem weird that I would have to initialize it, since it&#39;s my understanding the array is automatically filled with 0&#39;s, correct?  I was probably messing up somewhere else. Thank you so much for answering."},{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1373663529,"post_id":17623876,"comment_id":25657577,"body_markdown":"If you need help figuring out the cause of an error, you should copy and paste the exact error message here.","body":"If you need help figuring out the cause of an error, you should copy and paste the exact error message here."},{"owner":{"display_name":"user2577854"},"score":0,"creation_date":1373663822,"post_id":17623876,"comment_id":25657675,"body_markdown":"@MonadNewb This is the error I get. Keep in mind all I did to get this was remove the part where I fill the C array with 0&#39;s, everything else is the same and the method runs properly if I don&#39;t remove it (even if it does not provide the correct values):\n\nException in thread &quot;main&quot; java.lang.NullPointerException\n\n\tat clase.Ejecutable.multiplicar(Ejecutable.java:29)\n\n\tat clase.Ejecutable.main(Ejecutable.java:11)\n\nJava Result: 1","body":"@MonadNewb This is the error I get. Keep in mind all I did to get this was remove the part where I fill the C array with 0&#39;s, everything else is the same and the method runs properly if I don&#39;t remove it (even if it does not provide the correct values):  Exception in thread &quot;main&quot; java.lang.NullPointerException  \tat clase.Ejecutable.multiplicar(Ejecutable.java:29)  \tat clase.Ejecutable.main(Ejecutable.java:11)  Java Result: 1"},{"owner":{"account_id":1900543,"reputation":4792,"user_id":1716487,"accept_rate":82,"display_name":"morpheus05"},"score":0,"creation_date":1373701886,"post_id":17623876,"comment_id":25665023,"body_markdown":"The Dobules with a big D are objects, so you are creating an array of objects which initializes to null. An array of small doubles is a primtive and initializes to 0.","body":"The Dobules with a big D are objects, so you are creating an array of objects which initializes to null. An array of small doubles is a primtive and initializes to 0."}],"answers":[{"tags":[],"owner":{"account_id":3035995,"reputation":3655,"user_id":2574080,"display_name":"amatellanes"},"down_vote_count":0,"up_vote_count":34,"is_accepted":false,"score":34,"last_activity_date":1506525750,"creation_date":1373664170,"answer_id":17624210,"question_id":17623876,"body_markdown":"You can try this code:\r\n\r\n\r\n    public class MyMatrix {\r\n        Double[][] A = { { 4.00, 3.00 }, { 2.00, 1.00 } };\r\n        Double[][] B = { { -0.500, 1.500 }, { 1.000, -2.0000 } };\r\n\r\n        public static Double[][] multiplicar(Double[][] A, Double[][] B) {\r\n\r\n            int aRows = A.length;\r\n            int aColumns = A[0].length;\r\n            int bRows = B.length;\r\n            int bColumns = B[0].length;\r\n\r\n            if (aColumns != bRows) {\r\n                throw new IllegalArgumentException(&quot;A:Rows: &quot; + aColumns + &quot; did not match B:Columns &quot; + bRows + &quot;.&quot;);\r\n            }\r\n\r\n            Double[][] C = new Double[aRows][bColumns];\r\n            for (int i = 0; i &lt; aRows; i++) {\r\n                for (int j = 0; j &lt; bColumns; j++) {\r\n                    C[i][j] = 0.00000;\r\n                }\r\n            }\r\n\r\n            for (int i = 0; i &lt; aRows; i++) { // aRow\r\n                for (int j = 0; j &lt; bColumns; j++) { // bColumn\r\n                    for (int k = 0; k &lt; aColumns; k++) { // aColumn\r\n                        C[i][j] += A[i][k] * B[k][j];\r\n                    }\r\n                }\r\n            }\r\n\r\n            return C;\r\n        }\r\n\r\n        public static void main(String[] args) {\r\n\r\n            MyMatrix matrix = new MyMatrix();\r\n            Double[][] result = multiplicar(matrix.A, matrix.B);\r\n\r\n            for (int i = 0; i &lt; 2; i++) {\r\n                for (int j = 0; j &lt; 2; j++)\r\n                    System.out.print(result[i][j] + &quot; &quot;);\r\n                System.out.println();\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"Matrix multiplication using arrays","body":"<p>You can try this code:</p>\n\n<pre><code>public class MyMatrix {\n    Double[][] A = { { 4.00, 3.00 }, { 2.00, 1.00 } };\n    Double[][] B = { { -0.500, 1.500 }, { 1.000, -2.0000 } };\n\n    public static Double[][] multiplicar(Double[][] A, Double[][] B) {\n\n        int aRows = A.length;\n        int aColumns = A[0].length;\n        int bRows = B.length;\n        int bColumns = B[0].length;\n\n        if (aColumns != bRows) {\n            throw new IllegalArgumentException(\"A:Rows: \" + aColumns + \" did not match B:Columns \" + bRows + \".\");\n        }\n\n        Double[][] C = new Double[aRows][bColumns];\n        for (int i = 0; i &lt; aRows; i++) {\n            for (int j = 0; j &lt; bColumns; j++) {\n                C[i][j] = 0.00000;\n            }\n        }\n\n        for (int i = 0; i &lt; aRows; i++) { // aRow\n            for (int j = 0; j &lt; bColumns; j++) { // bColumn\n                for (int k = 0; k &lt; aColumns; k++) { // aColumn\n                    C[i][j] += A[i][k] * B[k][j];\n                }\n            }\n        }\n\n        return C;\n    }\n\n    public static void main(String[] args) {\n\n        MyMatrix matrix = new MyMatrix();\n        Double[][] result = multiplicar(matrix.A, matrix.B);\n\n        for (int i = 0; i &lt; 2; i++) {\n            for (int j = 0; j &lt; 2; j++)\n                System.out.print(result[i][j] + \" \");\n            System.out.println();\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2413546,"reputation":1336,"user_id":2108128,"display_name":"Dulanga"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1373666420,"creation_date":1373665101,"answer_id":17624415,"question_id":17623876,"body_markdown":"Try this,\r\n\r\n    public static Double[][] multiplicar(Double A[][],Double B[][]){\r\n    \tDouble[][] C= new Double[2][2];\r\n    \tint i,j,k;\r\n    \t for (i = 0; i &lt; 2; i++) {\r\n             for (j = 0; j &lt; 2; j++) {\r\n                 C[i][j] = 0.00000;\r\n             }\r\n    \t }\r\n    \tfor(i=0;i&lt;2;i++){\r\n            for(j=0;j&lt;2;j++){\r\n            \tfor (k=0;k&lt;2;k++){\r\n                      C[i][j]+=(A[i][k]*B[k][j]);\r\n                     \r\n            \t}\r\n            \t\r\n            }\r\n        }\r\n    \treturn C;\r\n    }","title":"Matrix multiplication using arrays","body":"<p>Try this,</p>\n\n<pre><code>public static Double[][] multiplicar(Double A[][],Double B[][]){\n    Double[][] C= new Double[2][2];\n    int i,j,k;\n     for (i = 0; i &lt; 2; i++) {\n         for (j = 0; j &lt; 2; j++) {\n             C[i][j] = 0.00000;\n         }\n     }\n    for(i=0;i&lt;2;i++){\n        for(j=0;j&lt;2;j++){\n            for (k=0;k&lt;2;k++){\n                  C[i][j]+=(A[i][k]*B[k][j]);\n\n            }\n\n        }\n    }\n    return C;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3040207,"reputation":51,"user_id":2577441,"display_name":"Sivakumar Kuppusamy"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1373667128,"creation_date":1373667128,"answer_id":17624821,"question_id":17623876,"body_markdown":"\tstatic int b[][]={{21,21},{22,22}};\r\n\t\r\n\tstatic int a[][] ={{1,1},{2,2}};\r\n\r\n\tpublic static void mul(){\r\n\t\tint c[][] = new int[2][2];\r\n\t\t\t\t\r\n\t\tfor(int i=0;i&lt;b.length;i++){\r\n\t\t\tfor(int j=0;j&lt;b.length;j++){\r\n\t\t\t\tc[i][j] =0;\r\n\t\t\t}\t\r\n\t\t}\r\n\t\t\r\n\t\tfor(int i=0;i&lt;a.length;i++){\r\n\t\t\tfor(int j=0;j&lt;b.length;j++){\r\n\t\t\t\tfor(int k=0;k&lt;b.length;k++){\r\n\t\t\t\tc[i][j]= c[i][j] +(a[i][k] * b[k][j]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tfor(int i=0;i&lt;c.length;i++){\r\n\t\t\tfor(int j=0;j&lt;c.length;j++){\r\n\t\t\t\tSystem.out.print(c[i][j]);\r\n\t\t\t}\t\r\n\t\t\tSystem.out.println(&quot;\\n&quot;);\r\n\t\t}\r\n\t}\r\n","title":"Matrix multiplication using arrays","body":"<pre><code>static int b[][]={{21,21},{22,22}};\n\nstatic int a[][] ={{1,1},{2,2}};\n\npublic static void mul(){\n    int c[][] = new int[2][2];\n\n    for(int i=0;i&lt;b.length;i++){\n        for(int j=0;j&lt;b.length;j++){\n            c[i][j] =0;\n        }   \n    }\n\n    for(int i=0;i&lt;a.length;i++){\n        for(int j=0;j&lt;b.length;j++){\n            for(int k=0;k&lt;b.length;k++){\n            c[i][j]= c[i][j] +(a[i][k] * b[k][j]);\n            }\n        }\n    }\n\n    for(int i=0;i&lt;c.length;i++){\n        for(int j=0;j&lt;c.length;j++){\n            System.out.print(c[i][j]);\n        }   \n        System.out.println(\"\\n\");\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2930175,"reputation":1582,"user_id":2510628,"display_name":"Dmytro Dzyubak"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1400796095,"creation_date":1400796095,"answer_id":23817780,"question_id":17623876,"body_markdown":"**Java. Matrix multiplication.**\r\n\r\nTested with matrices of different size.\r\n\r\n    public class Matrix {\r\n\r\n    /**\r\n     * Matrix multiplication method.\r\n     * @param m1 Multiplicand\r\n     * @param m2 Multiplier\r\n     * @return Product\r\n     */\r\n    \tpublic static double[][] multiplyByMatrix(double[][] m1, double[][] m2) {\r\n    \t\tint m1ColLength = m1[0].length; // m1 columns length\r\n    \t\tint m2RowLength = m2.length;    // m2 rows length\r\n    \t\tif(m1ColLength != m2RowLength) return null; // matrix multiplication is not possible\r\n    \t\tint mRRowLength = m1.length;    // m result rows length\r\n    \t\tint mRColLength = m2[0].length; // m result columns length\r\n    \t\tdouble[][] mResult = new double[mRRowLength][mRColLength];\r\n    \t\tfor(int i = 0; i &lt; mRRowLength; i++) {         // rows from m1\r\n    \t\t\tfor(int j = 0; j &lt; mRColLength; j++) {     // columns from m2\r\n    \t\t\t\tfor(int k = 0; k &lt; m1ColLength; k++) { // columns from m1\r\n    \t\t\t\t\tmResult[i][j] += m1[i][k] * m2[k][j];\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\treturn mResult;\r\n    \t}\r\n    \t\r\n    \tpublic static String toString(double[][] m) {\r\n    \t\tString result = &quot;&quot;;\r\n    \t\tfor(int i = 0; i &lt; m.length; i++) {\r\n    \t\t\tfor(int j = 0; j &lt; m[i].length; j++) {\r\n    \t\t\t\tresult += String.format(&quot;%11.2f&quot;, m[i][j]);\r\n    \t\t\t}\r\n    \t\t\tresult += &quot;\\n&quot;;\r\n    \t\t}\r\n    \t\treturn result;\r\n    \t}\r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\t// #1\r\n    \t\tdouble[][] multiplicand = new double[][] {\r\n    \t\t\t\t{3, -1, 2},\r\n    \t\t\t\t{2,  0, 1},\r\n    \t\t\t\t{1,  2, 1}\r\n    \t\t};\r\n    \t\tdouble[][] multiplier = new double[][] {\r\n    \t\t\t\t{2, -1, 1},\r\n    \t\t\t\t{0, -2, 3},\r\n    \t\t\t\t{3,  0, 1}\r\n    \t\t};\r\n    \t\tSystem.out.println(&quot;#1\\n&quot; + toString(multiplyByMatrix(multiplicand, multiplier)));\r\n    \t\t// #2\r\n    \t\tmultiplicand = new double[][] {\r\n    \t\t\t\t{1, 2, 0},\r\n    \t\t\t\t{-1, 3, 1},\r\n    \t\t\t\t{2, -2, 1}\r\n    \t\t};\r\n    \t\tmultiplier = new double[][] {\r\n    \t\t\t\t{2},\r\n    \t\t\t\t{-1},\r\n    \t\t\t\t{1}\r\n    \t\t};\r\n    \t\tSystem.out.println(&quot;#2\\n&quot; + toString(multiplyByMatrix(multiplicand, multiplier)));\r\n    \t\t// #3\r\n    \t\tmultiplicand = new double[][] {\r\n    \t\t\t\t{1, 2, -1},\r\n    \t\t\t\t{0,  1, 0}\r\n    \t\t};\r\n    \t\tmultiplier = new double[][] {\r\n    \t\t\t\t{1, 1, 0, 0},\r\n    \t\t\t\t{0, 2, 1, 1},\r\n    \t\t\t\t{1, 1, 2, 2}\r\n    \t\t};\r\n    \t\tSystem.out.println(&quot;#3\\n&quot; + toString(multiplyByMatrix(multiplicand, multiplier)));\r\n    \t}\r\n    }\r\n\r\n**Output:**\r\n\r\n    #1\r\n          12.00      -1.00       2.00\r\n           7.00      -2.00       3.00\r\n           5.00      -5.00       8.00\r\n    \r\n    #2\r\n           0.00\r\n          -4.00\r\n           7.00\r\n    \r\n    #3\r\n           0.00       4.00       0.00       0.00\r\n           0.00       2.00       1.00       1.00\r\n","title":"Matrix multiplication using arrays","body":"<p><strong>Java. Matrix multiplication.</strong></p>\n\n<p>Tested with matrices of different size.</p>\n\n<pre><code>public class Matrix {\n\n/**\n * Matrix multiplication method.\n * @param m1 Multiplicand\n * @param m2 Multiplier\n * @return Product\n */\n    public static double[][] multiplyByMatrix(double[][] m1, double[][] m2) {\n        int m1ColLength = m1[0].length; // m1 columns length\n        int m2RowLength = m2.length;    // m2 rows length\n        if(m1ColLength != m2RowLength) return null; // matrix multiplication is not possible\n        int mRRowLength = m1.length;    // m result rows length\n        int mRColLength = m2[0].length; // m result columns length\n        double[][] mResult = new double[mRRowLength][mRColLength];\n        for(int i = 0; i &lt; mRRowLength; i++) {         // rows from m1\n            for(int j = 0; j &lt; mRColLength; j++) {     // columns from m2\n                for(int k = 0; k &lt; m1ColLength; k++) { // columns from m1\n                    mResult[i][j] += m1[i][k] * m2[k][j];\n                }\n            }\n        }\n        return mResult;\n    }\n\n    public static String toString(double[][] m) {\n        String result = \"\";\n        for(int i = 0; i &lt; m.length; i++) {\n            for(int j = 0; j &lt; m[i].length; j++) {\n                result += String.format(\"%11.2f\", m[i][j]);\n            }\n            result += \"\\n\";\n        }\n        return result;\n    }\n\n    public static void main(String[] args) {\n        // #1\n        double[][] multiplicand = new double[][] {\n                {3, -1, 2},\n                {2,  0, 1},\n                {1,  2, 1}\n        };\n        double[][] multiplier = new double[][] {\n                {2, -1, 1},\n                {0, -2, 3},\n                {3,  0, 1}\n        };\n        System.out.println(\"#1\\n\" + toString(multiplyByMatrix(multiplicand, multiplier)));\n        // #2\n        multiplicand = new double[][] {\n                {1, 2, 0},\n                {-1, 3, 1},\n                {2, -2, 1}\n        };\n        multiplier = new double[][] {\n                {2},\n                {-1},\n                {1}\n        };\n        System.out.println(\"#2\\n\" + toString(multiplyByMatrix(multiplicand, multiplier)));\n        // #3\n        multiplicand = new double[][] {\n                {1, 2, -1},\n                {0,  1, 0}\n        };\n        multiplier = new double[][] {\n                {1, 1, 0, 0},\n                {0, 2, 1, 1},\n                {1, 1, 2, 2}\n        };\n        System.out.println(\"#3\\n\" + toString(multiplyByMatrix(multiplicand, multiplier)));\n    }\n}\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<pre><code>#1\n      12.00      -1.00       2.00\n       7.00      -2.00       3.00\n       5.00      -5.00       8.00\n\n#2\n       0.00\n      -4.00\n       7.00\n\n#3\n       0.00       4.00       0.00       0.00\n       0.00       2.00       1.00       1.00\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4448084,"reputation":69,"user_id":3620849,"accept_rate":86,"display_name":"Ragataj"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1440770608,"creation_date":1440770608,"answer_id":32272924,"question_id":17623876,"body_markdown":"   **try this,it may help you**\r\n        \r\n    import java.util.Scanner;\r\n\r\n    public class MulTwoArray {\r\n\r\n    public static void main(String[] args) {\r\n\r\n        int i, j, k;\r\n        int[][] a = new int[3][3];\r\n        int[][] b = new int[3][3];\r\n        int[][] c = new int[3][3];\r\n\r\n\r\n\r\n        Scanner sc = new Scanner(System.in);\r\n\r\n        System.out.println(&quot;Enter size of array a&quot;);\r\n        int rowa = sc.nextInt();\r\n        int cola = sc.nextInt();\r\n\r\n        System.out.println(&quot;Enter size of array b&quot;);\r\n        int rowb = sc.nextInt();\r\n        int colb = sc.nextInt();\r\n\r\n\r\n        //read and b\r\n\r\n        System.out.println(&quot;Enter elements of array a&quot;);\r\n        for (i = 0; i &lt; rowa; ++i) {\r\n            for (j = 0; j &lt; cola; ++j) {\r\n\r\n                a[i][j] = sc.nextInt();\r\n\r\n            }\r\n            System.out.println();\r\n        }\r\n        System.out.println(&quot;Enter elements of array b&quot;);\r\n        for (i = 0; i &lt; rowb; ++i) {\r\n            for (j = 0; j &lt; colb; ++j) {\r\n\r\n                b[i][j] = sc.nextInt();\r\n\r\n            }\r\n            System.out.println(&quot;\\n&quot;);\r\n        }\r\n\r\n        //print a and b\r\n\r\n        System.out.println(&quot;the elements of array a&quot;);\r\n        for (i = 0; i &lt; rowa; ++i) {\r\n            for (j = 0; j &lt; cola; ++j) {\r\n\r\n                System.out.print(a[i][j]);\r\n                System.out.print(&quot;\\t&quot;);\r\n\r\n            }\r\n            System.out.println(&quot;\\n&quot;);\r\n        }\r\n        System.out.println(&quot;the elements of array b&quot;);\r\n        for (i = 0; i &lt; rowb; ++i) {\r\n            for (j = 0; j &lt; colb; ++j) {\r\n\r\n                System.out.print(b[i][j]);\r\n                System.out.print(&quot;\\t&quot;);\r\n\r\n            }\r\n            System.out.println(&quot;\\n&quot;);\r\n\r\n        }\r\n\r\n        //multiply a and b\r\n\r\n        for (i = 0; i &lt; rowa; ++i) {\r\n\r\n            for (j = 0; j &lt; colb; ++j) {\r\n                c[i][j] = 0;\r\n                for (k = 0; k &lt; cola; ++k) {\r\n                    c[i][j] += a[i][k] * b[k][j];\r\n                }\r\n            }\r\n        }\r\n\r\n\r\n        //print multi result\r\n\r\n        System.out.println(&quot;result of multiplication of array a and b is &quot;);\r\n        for (i = 0; i &lt; rowa; ++i) {\r\n            for (j = 0; j &lt; colb; ++j) {\r\n\r\n                System.out.print(c[i][j]);\r\n                System.out.print(&quot;\\t&quot;);\r\n            }\r\n            System.out.println(&quot;\\n&quot;);\r\n        }\r\n    }\r\n    }\r\n","title":"Matrix multiplication using arrays","body":"<p><strong>try this,it may help you</strong></p>\n\n<pre><code>import java.util.Scanner;\n\npublic class MulTwoArray {\n\npublic static void main(String[] args) {\n\n    int i, j, k;\n    int[][] a = new int[3][3];\n    int[][] b = new int[3][3];\n    int[][] c = new int[3][3];\n\n\n\n    Scanner sc = new Scanner(System.in);\n\n    System.out.println(\"Enter size of array a\");\n    int rowa = sc.nextInt();\n    int cola = sc.nextInt();\n\n    System.out.println(\"Enter size of array b\");\n    int rowb = sc.nextInt();\n    int colb = sc.nextInt();\n\n\n    //read and b\n\n    System.out.println(\"Enter elements of array a\");\n    for (i = 0; i &lt; rowa; ++i) {\n        for (j = 0; j &lt; cola; ++j) {\n\n            a[i][j] = sc.nextInt();\n\n        }\n        System.out.println();\n    }\n    System.out.println(\"Enter elements of array b\");\n    for (i = 0; i &lt; rowb; ++i) {\n        for (j = 0; j &lt; colb; ++j) {\n\n            b[i][j] = sc.nextInt();\n\n        }\n        System.out.println(\"\\n\");\n    }\n\n    //print a and b\n\n    System.out.println(\"the elements of array a\");\n    for (i = 0; i &lt; rowa; ++i) {\n        for (j = 0; j &lt; cola; ++j) {\n\n            System.out.print(a[i][j]);\n            System.out.print(\"\\t\");\n\n        }\n        System.out.println(\"\\n\");\n    }\n    System.out.println(\"the elements of array b\");\n    for (i = 0; i &lt; rowb; ++i) {\n        for (j = 0; j &lt; colb; ++j) {\n\n            System.out.print(b[i][j]);\n            System.out.print(\"\\t\");\n\n        }\n        System.out.println(\"\\n\");\n\n    }\n\n    //multiply a and b\n\n    for (i = 0; i &lt; rowa; ++i) {\n\n        for (j = 0; j &lt; colb; ++j) {\n            c[i][j] = 0;\n            for (k = 0; k &lt; cola; ++k) {\n                c[i][j] += a[i][k] * b[k][j];\n            }\n        }\n    }\n\n\n    //print multi result\n\n    System.out.println(\"result of multiplication of array a and b is \");\n    for (i = 0; i &lt; rowa; ++i) {\n        for (j = 0; j &lt; colb; ++j) {\n\n            System.out.print(c[i][j]);\n            System.out.print(\"\\t\");\n        }\n        System.out.println(\"\\n\");\n    }\n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6506254,"reputation":589,"user_id":6054207,"display_name":"Andrei"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1457957214,"creation_date":1457957214,"answer_id":35987122,"question_id":17623876,"body_markdown":"The method `mults` is a procedure(Pascal) or subroutine(Fortran)\r\n\r\nThe method `multMatrix` is a function(Pascal,Fortran)\r\n\r\n\r\n    import java.util.*;\r\n    \r\n    public class MatmultE\r\n    {\r\n    private static Scanner sc = new Scanner(System.in);\r\n      public static void main(String [] args)\r\n      {\r\n        double[][] A={{4.00,3.00},{2.00,1.00}}; \r\n        double[][] B={{-0.500,1.500},{1.000,-2.0000}};\r\n        double[][] C=multMatrix(A,B);\r\n        printMatrix(A);\r\n        printMatrix(B);    \r\n        printMatrix(C);\r\n    \r\n        double a[][] = {{1, 2, -2, 0}, {-3, 4, 7, 2}, {6, 0, 3, 1}};\r\n        double b[][] = {{-1, 3}, {0, 9}, {1, -11}, {4, -5}};\r\n        double[][] c=multMatrix(a,b);\r\n        printMatrix(a);\r\n        printMatrix(b);    \r\n        printMatrix(c);\r\n    \r\n        double[][] a1 = readMatrix();\r\n        double[][] b1 = readMatrix();\r\n        double[][] c1 = new double[a1.length][b1[0].length];\r\n        mults(a1,b1,c1,a1.length,a1[0].length,b1.length,b1[0].length);\r\n        printMatrix(c1);\r\n        printMatrixE(c1);\r\n      }\r\n    \r\n       public static double[][] readMatrix() {\r\n           int rows = sc.nextInt();\r\n           int cols = sc.nextInt();\r\n           double[][] result = new double[rows][cols];\r\n           for (int i = 0; i &lt; rows; i++) {\r\n               for (int j = 0; j &lt; cols; j++) {\r\n                  result[i][j] = sc.nextDouble();\r\n               }\r\n           }\r\n           return result;\r\n       }\r\n    \r\n    \r\n      public static void printMatrix(double[][] mat) {\r\n      System.out.println(&quot;Matrix[&quot;+mat.length+&quot;][&quot;+mat[0].length+&quot;]&quot;);\r\n           int rows = mat.length;\r\n           int columns = mat[0].length;\r\n           for (int i = 0; i &lt; rows; i++) {\r\n               for (int j = 0; j &lt; columns; j++) {\r\n                   System.out.printf(&quot;%8.3f &quot; , mat[i][j]);\r\n               }\r\n               System.out.println();\r\n           }\r\n       System.out.println();\r\n      }\r\n    \r\n      public static void printMatrixE(double[][] mat) {\r\n      System.out.println(&quot;Matrix[&quot;+mat.length+&quot;][&quot;+mat[0].length+&quot;]&quot;);\r\n           int rows = mat.length;\r\n           int columns = mat[0].length;\r\n           for (int i = 0; i &lt; rows; i++) {\r\n               for (int j = 0; j &lt; columns; j++) {\r\n                   System.out.printf(&quot;%9.2e &quot; , mat[i][j]);\r\n               }\r\n               System.out.println();\r\n           }\r\n       System.out.println();\r\n      }\r\n    \r\n    \r\n       public static double[][] multMatrix(double a[][], double b[][]){//a[m][n], b[n][p]\r\n       if(a.length == 0) return new double[0][0];\r\n       if(a[0].length != b.length) return null; //invalid dims\r\n     \r\n       int n = a[0].length;\r\n       int m = a.length;\r\n       int p = b[0].length;\r\n     \r\n       double ans[][] = new double[m][p];\r\n     \r\n       for(int i = 0;i &lt; m;i++){\r\n          for(int j = 0;j &lt; p;j++){\r\n             ans[i][j]=0;\r\n             for(int k = 0;k &lt; n;k++){\r\n                ans[i][j] += a[i][k] * b[k][j];\r\n             }\r\n          }\r\n       }\r\n       return ans;\r\n       }\r\n    \r\n       public static void mults(double a[][], double b[][], double c[][], int r1, \r\n                            int c1, int r2, int c2){\r\n          for(int i = 0;i &lt; r1;i++){\r\n             for(int j = 0;j &lt; c2;j++){\r\n                c[i][j]=0;\r\n                for(int k = 0;k &lt; c1;k++){\r\n                   c[i][j] += a[i][k] * b[k][j];\r\n                }\r\n             }\r\n          }\r\n       }\r\n    }\r\n\r\nwhere as input matrix you can enter \r\n\r\ninE.txt\r\n\r\n    4 4\r\n    1 1 1 1\r\n    2 4 8 16\r\n    3 9 27 81\r\n    4 16 64 256\r\n    4 3\r\n    4.0 -3.0 4.0\r\n    -13.0 19.0 -7.0\r\n    3.0 -2.0 7.0\r\n    -1.0 1.0 -1.0\r\n\r\nin unix like cmmd line execute the command:\r\n\r\n$ java MatmultE &lt; inE.txt &gt; outE.txt\r\n\r\nand you get the output\r\n\r\noutC.txt\r\n\r\n\r\n    Matrix[2][2]\r\n       4.000    3.000 \r\n       2.000    1.000 \r\n    \r\n    Matrix[2][2]\r\n      -0.500    1.500 \r\n       1.000   -2.000 \r\n    \r\n    Matrix[2][2]\r\n       1.000    0.000 \r\n       0.000    1.000 \r\n    \r\n    Matrix[3][4]\r\n       1.000    2.000   -2.000    0.000 \r\n      -3.000    4.000    7.000    2.000 \r\n       6.000    0.000    3.000    1.000 \r\n    \r\n    Matrix[4][2]\r\n      -1.000    3.000 \r\n       0.000    9.000 \r\n       1.000  -11.000 \r\n       4.000   -5.000 \r\n    \r\n    Matrix[3][2]\r\n      -3.000   43.000 \r\n      18.000  -60.000 \r\n       1.000  -20.000 \r\n    \r\n    Matrix[4][3]\r\n      -7.000   15.000    3.000 \r\n     -36.000   70.000   20.000 \r\n    -105.000  189.000   57.000 \r\n    -256.000  420.000   96.000 \r\n    \r\n    Matrix[4][3]\r\n    -7.00e+00  1.50e+01  3.00e+00 \r\n    -3.60e+01  7.00e+01  2.00e+01 \r\n    -1.05e+02  1.89e+02  5.70e+01 \r\n    -2.56e+02  4.20e+02  9.60e+01 \r\n\r\n\r\n","title":"Matrix multiplication using arrays","body":"<p>The method <code>mults</code> is a procedure(Pascal) or subroutine(Fortran)</p>\n\n<p>The method <code>multMatrix</code> is a function(Pascal,Fortran)</p>\n\n<pre><code>import java.util.*;\n\npublic class MatmultE\n{\nprivate static Scanner sc = new Scanner(System.in);\n  public static void main(String [] args)\n  {\n    double[][] A={{4.00,3.00},{2.00,1.00}}; \n    double[][] B={{-0.500,1.500},{1.000,-2.0000}};\n    double[][] C=multMatrix(A,B);\n    printMatrix(A);\n    printMatrix(B);    \n    printMatrix(C);\n\n    double a[][] = {{1, 2, -2, 0}, {-3, 4, 7, 2}, {6, 0, 3, 1}};\n    double b[][] = {{-1, 3}, {0, 9}, {1, -11}, {4, -5}};\n    double[][] c=multMatrix(a,b);\n    printMatrix(a);\n    printMatrix(b);    \n    printMatrix(c);\n\n    double[][] a1 = readMatrix();\n    double[][] b1 = readMatrix();\n    double[][] c1 = new double[a1.length][b1[0].length];\n    mults(a1,b1,c1,a1.length,a1[0].length,b1.length,b1[0].length);\n    printMatrix(c1);\n    printMatrixE(c1);\n  }\n\n   public static double[][] readMatrix() {\n       int rows = sc.nextInt();\n       int cols = sc.nextInt();\n       double[][] result = new double[rows][cols];\n       for (int i = 0; i &lt; rows; i++) {\n           for (int j = 0; j &lt; cols; j++) {\n              result[i][j] = sc.nextDouble();\n           }\n       }\n       return result;\n   }\n\n\n  public static void printMatrix(double[][] mat) {\n  System.out.println(\"Matrix[\"+mat.length+\"][\"+mat[0].length+\"]\");\n       int rows = mat.length;\n       int columns = mat[0].length;\n       for (int i = 0; i &lt; rows; i++) {\n           for (int j = 0; j &lt; columns; j++) {\n               System.out.printf(\"%8.3f \" , mat[i][j]);\n           }\n           System.out.println();\n       }\n   System.out.println();\n  }\n\n  public static void printMatrixE(double[][] mat) {\n  System.out.println(\"Matrix[\"+mat.length+\"][\"+mat[0].length+\"]\");\n       int rows = mat.length;\n       int columns = mat[0].length;\n       for (int i = 0; i &lt; rows; i++) {\n           for (int j = 0; j &lt; columns; j++) {\n               System.out.printf(\"%9.2e \" , mat[i][j]);\n           }\n           System.out.println();\n       }\n   System.out.println();\n  }\n\n\n   public static double[][] multMatrix(double a[][], double b[][]){//a[m][n], b[n][p]\n   if(a.length == 0) return new double[0][0];\n   if(a[0].length != b.length) return null; //invalid dims\n\n   int n = a[0].length;\n   int m = a.length;\n   int p = b[0].length;\n\n   double ans[][] = new double[m][p];\n\n   for(int i = 0;i &lt; m;i++){\n      for(int j = 0;j &lt; p;j++){\n         ans[i][j]=0;\n         for(int k = 0;k &lt; n;k++){\n            ans[i][j] += a[i][k] * b[k][j];\n         }\n      }\n   }\n   return ans;\n   }\n\n   public static void mults(double a[][], double b[][], double c[][], int r1, \n                        int c1, int r2, int c2){\n      for(int i = 0;i &lt; r1;i++){\n         for(int j = 0;j &lt; c2;j++){\n            c[i][j]=0;\n            for(int k = 0;k &lt; c1;k++){\n               c[i][j] += a[i][k] * b[k][j];\n            }\n         }\n      }\n   }\n}\n</code></pre>\n\n<p>where as input matrix you can enter </p>\n\n<p>inE.txt</p>\n\n<pre><code>4 4\n1 1 1 1\n2 4 8 16\n3 9 27 81\n4 16 64 256\n4 3\n4.0 -3.0 4.0\n-13.0 19.0 -7.0\n3.0 -2.0 7.0\n-1.0 1.0 -1.0\n</code></pre>\n\n<p>in unix like cmmd line execute the command:</p>\n\n<p>$ java MatmultE &lt; inE.txt > outE.txt</p>\n\n<p>and you get the output</p>\n\n<p>outC.txt</p>\n\n<pre><code>Matrix[2][2]\n   4.000    3.000 \n   2.000    1.000 \n\nMatrix[2][2]\n  -0.500    1.500 \n   1.000   -2.000 \n\nMatrix[2][2]\n   1.000    0.000 \n   0.000    1.000 \n\nMatrix[3][4]\n   1.000    2.000   -2.000    0.000 \n  -3.000    4.000    7.000    2.000 \n   6.000    0.000    3.000    1.000 \n\nMatrix[4][2]\n  -1.000    3.000 \n   0.000    9.000 \n   1.000  -11.000 \n   4.000   -5.000 \n\nMatrix[3][2]\n  -3.000   43.000 \n  18.000  -60.000 \n   1.000  -20.000 \n\nMatrix[4][3]\n  -7.000   15.000    3.000 \n -36.000   70.000   20.000 \n-105.000  189.000   57.000 \n-256.000  420.000   96.000 \n\nMatrix[4][3]\n-7.00e+00  1.50e+01  3.00e+00 \n-3.60e+01  7.00e+01  2.00e+01 \n-1.05e+02  1.89e+02  5.70e+01 \n-2.56e+02  4.20e+02  9.60e+01 \n</code></pre>\n"},{"tags":[],"owner":{"account_id":13929387,"reputation":11,"user_id":10057903,"display_name":"Arsalan Bajwa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648623910,"creation_date":1542474956,"answer_id":53353591,"question_id":17623876,"body_markdown":"```java\r\nimport java.util.*;\r\npublic class Mult {\r\n    public static int[][] C;\r\n\r\n    public static void main(String[] args) {\r\n        Scanner s = new Scanner(System.in);\r\n\r\n        System.out.println(&quot;Enter Row of Matrix A&quot;);\r\n        int Rowa = s.nextInt();\r\n\r\n        System.out.println(&quot;Enter Column of Matrix A&quot;);\r\n        int Cola = s.nextInt();\r\n\r\n        System.out.println(&quot;Enter Row of Matrix B&quot;);\r\n        int Rowb = s.nextInt();\r\n\r\n        System.out.println(&quot;Enter Column of Matrix B&quot;);\r\n        int Colb = s.nextInt();\r\n\r\n        int[][] A = new int[Rowa][Cola];\r\n        int[][] B = new int[Rowb][Colb];\r\n\r\n        C = new int[Rowa][Colb];\r\n        //int[][] C = new int;\r\n        System.out.println(&quot;Enter Values of Matrix A&quot;);\r\n\r\n        for (int i = 0; i &lt; A.length; i++) {\r\n            for (int j = 0; j &lt; A.length; j++) {\r\n                A[i][j] = s.nextInt();\r\n            }\r\n        }\r\n\r\n        System.out.println(&quot;Enter Values of Matrix B&quot;);\r\n\r\n        for (int i = 0; i &lt; B.length; i++) {\r\n            for (int j = 0; j &lt; B.length; j++) {\r\n                B[i][j] = s.nextInt();\r\n            }\r\n        }\r\n\r\n        if (Cola == Rowb) {\r\n            for (int i = 0; i &lt; A.length; i++) {\r\n                for (int j = 0; j &lt; A.length; j++) {\r\n                    C[i][j] = 0;\r\n                    for (int k = 0; k &lt; B.length; k++) {\r\n                        C[i][j] += A[i][k] * B[k][j];\r\n                    }\r\n                }\r\n            }\r\n        } else {\r\n            System.out.println(&quot;Cannot multiply&quot;);\r\n        }\r\n\r\n        // Printing matrix A\r\n        /*\r\n        for (int i = 0; i &lt; A.length; i++) {\r\n            for (int j = 0; j &lt; A.length; j++) {\r\n                System.out.print(A[i][j] + &quot;\\t&quot;);\r\n            }\r\n            System.out.println();\r\n        }\r\n        */\r\n\r\n        for (int i = 0; i &lt; A.length; i++) {\r\n            for (int j = 0; j &lt; A.length; j++) {\r\n                System.out.print(C[i][j] + &quot;\\t&quot;);\r\n            }\r\n            System.out.println();\r\n        }\r\n    }\r\n}\r\n```\r\n","title":"Matrix multiplication using arrays","body":"<pre class=\"lang-java prettyprint-override\"><code>import java.util.*;\npublic class Mult {\n    public static int[][] C;\n\n    public static void main(String[] args) {\n        Scanner s = new Scanner(System.in);\n\n        System.out.println(&quot;Enter Row of Matrix A&quot;);\n        int Rowa = s.nextInt();\n\n        System.out.println(&quot;Enter Column of Matrix A&quot;);\n        int Cola = s.nextInt();\n\n        System.out.println(&quot;Enter Row of Matrix B&quot;);\n        int Rowb = s.nextInt();\n\n        System.out.println(&quot;Enter Column of Matrix B&quot;);\n        int Colb = s.nextInt();\n\n        int[][] A = new int[Rowa][Cola];\n        int[][] B = new int[Rowb][Colb];\n\n        C = new int[Rowa][Colb];\n        //int[][] C = new int;\n        System.out.println(&quot;Enter Values of Matrix A&quot;);\n\n        for (int i = 0; i &lt; A.length; i++) {\n            for (int j = 0; j &lt; A.length; j++) {\n                A[i][j] = s.nextInt();\n            }\n        }\n\n        System.out.println(&quot;Enter Values of Matrix B&quot;);\n\n        for (int i = 0; i &lt; B.length; i++) {\n            for (int j = 0; j &lt; B.length; j++) {\n                B[i][j] = s.nextInt();\n            }\n        }\n\n        if (Cola == Rowb) {\n            for (int i = 0; i &lt; A.length; i++) {\n                for (int j = 0; j &lt; A.length; j++) {\n                    C[i][j] = 0;\n                    for (int k = 0; k &lt; B.length; k++) {\n                        C[i][j] += A[i][k] * B[k][j];\n                    }\n                }\n            }\n        } else {\n            System.out.println(&quot;Cannot multiply&quot;);\n        }\n\n        // Printing matrix A\n        /*\n        for (int i = 0; i &lt; A.length; i++) {\n            for (int j = 0; j &lt; A.length; j++) {\n                System.out.print(A[i][j] + &quot;\\t&quot;);\n            }\n            System.out.println();\n        }\n        */\n\n        for (int i = 0; i &lt; A.length; i++) {\n            for (int j = 0; j &lt; A.length; j++) {\n                System.out.print(C[i][j] + &quot;\\t&quot;);\n            }\n            System.out.println();\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19702993,"reputation":145,"user_id":14425335,"display_name":"Vyom Yadav"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1602869698,"creation_date":1602864484,"answer_id":64392710,"question_id":17623876,"body_markdown":"My code is super easy and works for any order of matrix\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    public static void main(String[] args) {\r\n\t\tScanner sc = new Scanner(System.in);\r\n\t\tSystem.out.println(&quot; Enter No. of rows in matrix 1 : &quot;);\r\n\t\tint arows = sc.nextInt();\r\n\t\tSystem.out.println(&quot; Enter No. of columns in matrix 1 : &quot;);\r\n\t\tint acols = sc.nextInt();\r\n\t\tSystem.out.println(&quot; Enter No. of rows in matrix 2 : &quot;);\r\n\t\tint brows = sc.nextInt();\r\n\t\tSystem.out.println(&quot; Enter No. of columns in matrix 2 : &quot;);\r\n\t\tint bcols = sc.nextInt();\r\n\t\tif (acols == brows) {\r\n\t\t\tSystem.out.println(&quot; Enter elements of matrix 1 &quot;);\r\n\t\t\tint a[][] = new int[arows][acols];\r\n\t\t\tint b[][] = new int[brows][bcols];\r\n\t\t\tfor (int i = 0; i &lt; arows; i++) {\r\n\t\t\t\tfor (int j = 0; j &lt; acols; j++) {\r\n\t\t\t\t\ta[i][j] = sc.nextInt();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tSystem.out.println(&quot; Enter elements of matrix 2 &quot;);\r\n\t\t\tfor (int i = 0; i &lt; brows; i++) {\r\n\t\t\t\tfor (int j = 0; j &lt; bcols; j++) {\r\n\t\t\t\t\tb[i][j] = sc.nextInt();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tSystem.out.println(&quot; The Multiplied matrix is : &quot;);\r\n\t\t\tint sum = 0;\r\n\t\t\tint c[][] = new int[arows][bcols];\r\n\t\t\tfor (int i = 0; i &lt; arows; i++) {\r\n\t\t\t\tfor (int j = 0; j &lt; bcols; j++) {\r\n\t\t\t\t\tfor (int k = 0; k &lt; brows; k++) {\r\n\t\t\t\t\t\tsum = sum + a[i][k] * b[k][j];\r\n\t\t\t\t\t\tc[i][j] = sum;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tSystem.out.print(c[i][j] + &quot; &quot;);\r\n\t\t\t\t\tsum = 0;\r\n\t\t\t\t}\r\n\t\t\t\tSystem.out.println();\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tSystem.out.println(&quot;Order of matrix in invalid&quot;);\r\n\t\t}\r\n\t}","title":"Matrix multiplication using arrays","body":"<p>My code is super easy and works for any order of matrix</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    Scanner sc = new Scanner(System.in);\n    System.out.println(&quot; Enter No. of rows in matrix 1 : &quot;);\n    int arows = sc.nextInt();\n    System.out.println(&quot; Enter No. of columns in matrix 1 : &quot;);\n    int acols = sc.nextInt();\n    System.out.println(&quot; Enter No. of rows in matrix 2 : &quot;);\n    int brows = sc.nextInt();\n    System.out.println(&quot; Enter No. of columns in matrix 2 : &quot;);\n    int bcols = sc.nextInt();\n    if (acols == brows) {\n        System.out.println(&quot; Enter elements of matrix 1 &quot;);\n        int a[][] = new int[arows][acols];\n        int b[][] = new int[brows][bcols];\n        for (int i = 0; i &lt; arows; i++) {\n            for (int j = 0; j &lt; acols; j++) {\n                a[i][j] = sc.nextInt();\n            }\n        }\n        System.out.println(&quot; Enter elements of matrix 2 &quot;);\n        for (int i = 0; i &lt; brows; i++) {\n            for (int j = 0; j &lt; bcols; j++) {\n                b[i][j] = sc.nextInt();\n            }\n        }\n        System.out.println(&quot; The Multiplied matrix is : &quot;);\n        int sum = 0;\n        int c[][] = new int[arows][bcols];\n        for (int i = 0; i &lt; arows; i++) {\n            for (int j = 0; j &lt; bcols; j++) {\n                for (int k = 0; k &lt; brows; k++) {\n                    sum = sum + a[i][k] * b[k][j];\n                    c[i][j] = sum;\n                }\n\n                System.out.print(c[i][j] + &quot; &quot;);\n                sum = 0;\n            }\n            System.out.println();\n        }\n    } else {\n        System.out.println(&quot;Order of matrix in invalid&quot;);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22192914,"reputation":1,"user_id":16434776,"display_name":"Bakr Besir"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1627503622,"creation_date":1627503622,"answer_id":68566899,"question_id":17623876,"body_markdown":"multiply 4x4 Matrixes\r\n\r\n\r\n    float[] mul(float[] l, float[] r) {\r\n        float[] res = new float[16];\r\n        for (int i = 0; i &lt; 16; i++) {\r\n            int y = i / 4;\r\n            int x = i % 4;\r\n            res[i] = l[x]      * r[y] +\r\n                     l[x + 4]  * r[y + 4] +\r\n                     l[x + 8]  * r[y + 8] +\r\n                     l[x + 12] * r[y + 12];\r\n        }\r\n        return res;\r\n    }\r\n\r\n","title":"Matrix multiplication using arrays","body":"<p>multiply 4x4 Matrixes</p>\n<pre><code>float[] mul(float[] l, float[] r) {\n    float[] res = new float[16];\n    for (int i = 0; i &lt; 16; i++) {\n        int y = i / 4;\n        int x = i % 4;\n        res[i] = l[x]      * r[y] +\n                 l[x + 4]  * r[y + 4] +\n                 l[x + 8]  * r[y + 8] +\n                 l[x + 12] * r[y + 12];\n    }\n    return res;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25866255,"reputation":3,"user_id":19597882,"display_name":"pankaj singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669544238,"creation_date":1669544238,"answer_id":74589157,"question_id":17623876,"body_markdown":"    #include &lt;stdio.h&gt;\r\n    int main()\r\n    {\r\n    int row = 2;\r\n    int col = 3;\r\n    int a[row][col];\r\n    int count = 1;\r\n    printf(&quot;Array A \\n&quot;);\r\n    for (int i = 0; i &lt; row; i++)\r\n    {\r\n        for (int j = 0; j &lt; col; j++)\r\n        {\r\n            a[i][j] = count;\r\n            count++;\r\n            printf(&quot; %d &quot;, a[i][j]);\r\n        }\r\n        printf(&quot;\\n&quot;);\r\n    }\r\n    int b[col][row];\r\n    printf(&quot;\\nArray B \\n&quot;);\r\n    for (int i = 0; i &lt; col; i++)\r\n    {\r\n        for (int j = 0; j &lt; row; j++)\r\n        {\r\n            b[i][j] = count;\r\n            count++;\r\n            printf(&quot; %d &quot;, b[i][j]);\r\n        }\r\n        printf(&quot;\\n&quot;);\r\n    }\r\n    printf(&quot;\\n  A  * B \\n&quot;);\r\n    int c[row][col];\r\n    int mul = 1, plus = 0;\r\n    for (int i = 0; i &lt; row; i++)\r\n    {\r\n        for (int j = 0; j &lt; row; j++)\r\n        {\r\n            plus = 0;\r\n            for (int k = 0; k &lt; col; k++)\r\n            {\r\n                mul = a[i][k] * b[k][j];\r\n                plus += mul;\r\n            }\r\n            c[i][j] = plus;\r\n            printf(&quot; %d &quot;, c[i][j]);\r\n        }\r\n        printf(&quot;\\n&quot;);\r\n    }\r\n    }","title":"Matrix multiplication using arrays","body":"<pre><code>#include &lt;stdio.h&gt;\nint main()\n{\nint row = 2;\nint col = 3;\nint a[row][col];\nint count = 1;\nprintf(&quot;Array A \\n&quot;);\nfor (int i = 0; i &lt; row; i++)\n{\n    for (int j = 0; j &lt; col; j++)\n    {\n        a[i][j] = count;\n        count++;\n        printf(&quot; %d &quot;, a[i][j]);\n    }\n    printf(&quot;\\n&quot;);\n}\nint b[col][row];\nprintf(&quot;\\nArray B \\n&quot;);\nfor (int i = 0; i &lt; col; i++)\n{\n    for (int j = 0; j &lt; row; j++)\n    {\n        b[i][j] = count;\n        count++;\n        printf(&quot; %d &quot;, b[i][j]);\n    }\n    printf(&quot;\\n&quot;);\n}\nprintf(&quot;\\n  A  * B \\n&quot;);\nint c[row][col];\nint mul = 1, plus = 0;\nfor (int i = 0; i &lt; row; i++)\n{\n    for (int j = 0; j &lt; row; j++)\n    {\n        plus = 0;\n        for (int k = 0; k &lt; col; k++)\n        {\n            mul = a[i][k] * b[k][j];\n            plus += mul;\n        }\n        c[i][j] = plus;\n        printf(&quot; %d &quot;, c[i][j]);\n    }\n    printf(&quot;\\n&quot;);\n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27209839,"reputation":1,"user_id":21594896,"display_name":"QuantumReaper"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698927764,"creation_date":1698927764,"answer_id":77409526,"question_id":17623876,"body_markdown":"```\r\nimport java.util.Scanner;\r\n\r\nclass Product {\r\n    public static void main(String[] args) {\r\n        Scanner sc = new Scanner(System.in);\r\n        System.out.println(&quot;Enter elements of A:&quot;);\r\n        int l =3;\r\n        int[][] a = new int[l][l];\r\n        int[][] b = new int[l][l];\r\n        for (int i = 0; i &lt; l; i++) {\r\n            for (int j = 0; j &lt; l; j++) {\r\n                a[i][j]=sc.nextInt();\r\n            }\r\n        }\r\n        System.out.println(&quot;Enter elements of B:&quot;);\r\n        for (int i = 0; i &lt; l; i++) {\r\n            for (int j = 0; j &lt; l; j++) {\r\n                b[i][j]=sc.nextInt();\r\n            }\r\n        }\r\n        sc.close();\r\n        System.out.println(&quot;A X B =&quot;);\r\n        for (int k = 0; k &lt; l; k++) {\r\n            for (int i = 0; i &lt; l; i++) {\r\n                int p=0;\r\n                for (int j = 0; j &lt; l; j++) {\r\n                    p+=a[k][j]*b[j][i];\r\n                }\r\n                System.out.print(p+&quot;\\t&quot;);\r\n            }\r\n            System.out.println();\r\n        }\r\n    }\r\n}\r\n```","title":"Matrix multiplication using arrays","body":"<pre><code>import java.util.Scanner;\n\nclass Product {\n    public static void main(String[] args) {\n        Scanner sc = new Scanner(System.in);\n        System.out.println(&quot;Enter elements of A:&quot;);\n        int l =3;\n        int[][] a = new int[l][l];\n        int[][] b = new int[l][l];\n        for (int i = 0; i &lt; l; i++) {\n            for (int j = 0; j &lt; l; j++) {\n                a[i][j]=sc.nextInt();\n            }\n        }\n        System.out.println(&quot;Enter elements of B:&quot;);\n        for (int i = 0; i &lt; l; i++) {\n            for (int j = 0; j &lt; l; j++) {\n                b[i][j]=sc.nextInt();\n            }\n        }\n        sc.close();\n        System.out.println(&quot;A X B =&quot;);\n        for (int k = 0; k &lt; l; k++) {\n            for (int i = 0; i &lt; l; i++) {\n                int p=0;\n                for (int j = 0; j &lt; l; j++) {\n                    p+=a[k][j]*b[j][i];\n                }\n                System.out.print(p+&quot;\\t&quot;);\n            }\n            System.out.println();\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"display_name":"user2577854"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":159167,"favorite_count":0,"down_vote_count":0,"up_vote_count":33,"answer_count":11,"score":33,"last_activity_date":1698927764,"creation_date":1373662514,"question_id":17623876,"body_markdown":"I&#39;m trying to make a simple matrix multiplication method using multidimensional arrays (`[2][2]`). I&#39;m kinda new at this, and I just can&#39;t find what it is I&#39;m doing wrong. I&#39;d really appreciate any help in telling me what it is. I&#39;d rather not use libraries or anything like that, I&#39;m mostly doing this to learn how it works. Thank you so much in advance.\r\n\r\nI&#39;m declaring my arays in the main method as follows:\r\n\r\n    Double[][] A={{4.00,3.00},{2.00,1.00}}; \r\n    Double[][] B={{-0.500,1.500},{1.000,-2.0000}};\r\n\r\nA*B should return the identity matrix. It doesn&#39;t.\r\n\r\n    public static Double[][] multiplicar(Double[][] A, Double[][] B){\r\n    //the method runs and returns a matrix of the correct dimensions\r\n    //(I actually changed the .length function to a specific value to eliminate \r\n    //it as a possible issue), but not the correct values\r\n \r\n        Double[][] C= new Double[2][2];\r\n        int i,j;\r\n\r\n        ////I fill the matrix with zeroes, if I don&#39;t do this it gives me an error\r\n        for(i=0;i&lt;2;i++) {\r\n            for(j=0;j&lt;2;j++){\r\n                C[i][j]=0.00000;\r\n            }\r\n        } \r\n        ///this is where I&#39;m supposed to perform the adding of every element in\r\n        //a row of A multiplied by the corresponding element in the\r\n        //corresponding column of B, for all columns in B and all rows in A\r\n        for(i=0;i&lt;2;i++){\r\n            for(j=0;j&lt;2;j++)\r\n                C[i][j]+=(A[i][j]*B[j][i]);\r\n        }\r\n        return C;\r\n    }\r\n","title":"Matrix multiplication using arrays","body":"<p>I'm trying to make a simple matrix multiplication method using multidimensional arrays (<code>[2][2]</code>). I'm kinda new at this, and I just can't find what it is I'm doing wrong. I'd really appreciate any help in telling me what it is. I'd rather not use libraries or anything like that, I'm mostly doing this to learn how it works. Thank you so much in advance.</p>\n\n<p>I'm declaring my arays in the main method as follows:</p>\n\n<pre><code>Double[][] A={{4.00,3.00},{2.00,1.00}}; \nDouble[][] B={{-0.500,1.500},{1.000,-2.0000}};\n</code></pre>\n\n<p>A*B should return the identity matrix. It doesn't.</p>\n\n<pre><code>public static Double[][] multiplicar(Double[][] A, Double[][] B){\n//the method runs and returns a matrix of the correct dimensions\n//(I actually changed the .length function to a specific value to eliminate \n//it as a possible issue), but not the correct values\n\n    Double[][] C= new Double[2][2];\n    int i,j;\n\n    ////I fill the matrix with zeroes, if I don't do this it gives me an error\n    for(i=0;i&lt;2;i++) {\n        for(j=0;j&lt;2;j++){\n            C[i][j]=0.00000;\n        }\n    } \n    ///this is where I'm supposed to perform the adding of every element in\n    //a row of A multiplied by the corresponding element in the\n    //corresponding column of B, for all columns in B and all rows in A\n    for(i=0;i&lt;2;i++){\n        for(j=0;j&lt;2;j++)\n            C[i][j]+=(A[i][j]*B[j][i]);\n    }\n    return C;\n}\n</code></pre>\n"},{"tags":["java","command-line","processbuilder","net-use"],"comments":[{"owner":{"account_id":4027832,"reputation":474,"user_id":3315259,"accept_rate":60,"display_name":"suraj1291993"},"score":0,"creation_date":1675076625,"post_id":26613494,"comment_id":132843453,"body_markdown":"Able to solve this case ? I am also facing the same issue.","body":"Able to solve this case ? I am also facing the same issue."}],"answers":[{"tags":[],"owner":{"account_id":3333,"reputation":2233,"user_id":4803,"display_name":"RedGreenCode"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1414518596,"creation_date":1414518596,"answer_id":26615094,"question_id":26613494,"body_markdown":"A couple of suggestions:\r\n\r\n - Run `net use * /delete /y` as your first step to remove all connections before you start. You can also try removing specific connections.\r\n - Use a pure Java solution instead of `net use` -- see https://stackoverflow.com/a/208896/4803\r\n","title":"passing password using process builder not working for &quot;net use&quot; command","body":"<p>A couple of suggestions:</p>\n\n<ul>\n<li>Run <code>net use * /delete /y</code> as your first step to remove all connections before you start. You can also try removing specific connections.</li>\n<li>Use a pure Java solution instead of <code>net use</code> -- see <a href=\"https://stackoverflow.com/a/208896/4803\">https://stackoverflow.com/a/208896/4803</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":29810480,"reputation":1,"user_id":22846007,"display_name":"Marcel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698927581,"creation_date":1698927581,"answer_id":77409502,"question_id":26613494,"body_markdown":"I literally just signed up on stackoverflow because I had the exact same issue and solved it after spending hours and hours of trial and error.\r\n\r\nThe solution for me was adding a &quot;\\\\&quot; (respectively &quot;\\\\\\\\&quot; in java code) right before the username.\r\n\r\nThis is what worked for me:\r\n\r\n    String[] cmdCommand = new String[]{&quot;net&quot;, &quot;use&quot;, &quot;\\\\\\\\&quot; + pcSystem.getIpAddress() + &quot;\\\\c$&quot;, &quot;/user:\\\\&quot; + pcSystem.getUsername(), pcSystem.getPassword()};\r\n    Process proc = new ProcessBuilder(cmdCommand).start();","title":"passing password using process builder not working for &quot;net use&quot; command","body":"<p>I literally just signed up on stackoverflow because I had the exact same issue and solved it after spending hours and hours of trial and error.</p>\n<p>The solution for me was adding a &quot;\\&quot; (respectively &quot;\\\\&quot; in java code) right before the username.</p>\n<p>This is what worked for me:</p>\n<pre><code>String[] cmdCommand = new String[]{&quot;net&quot;, &quot;use&quot;, &quot;\\\\\\\\&quot; + pcSystem.getIpAddress() + &quot;\\\\c$&quot;, &quot;/user:\\\\&quot; + pcSystem.getUsername(), pcSystem.getPassword()};\nProcess proc = new ProcessBuilder(cmdCommand).start();\n</code></pre>\n"}],"owner":{"account_id":5244581,"reputation":1,"user_id":4190725,"display_name":"Anuj"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1385,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1698927581,"creation_date":1414513659,"question_id":26613494,"body_markdown":"I am trying to run the &quot;net use&quot; command by invoking it using process builder. As I pass the password to  the OutputStream using PrintWriter it fails with the following error : \r\n*System error 1219 has occurred.\r\nMultiple connections to a server or shared resource by the same user, using more than one user name, are not allowed. Disconnect all previous connections to the server or shared resource and try again.* \r\n\r\n**I have checked the username, password and the command, by running it manually. Its working fine**\r\n\r\nThe code snippet :\r\n\r\n    ProcessBuilder pb = new ProcessBuilder(&quot;net&quot;,&quot;use&quot;,&quot;\\\\\\\\&lt;SERVERNAME&gt;\\\\&lt;SharedLocation&gt;&quot;,&quot;/USER:&lt;username&gt;&quot;,&quot;*&quot;);\r\n    Process p = pb.start();\r\n    OutputStream out = p.getOutputStream();\r\n    PrintWriter writer = new PrintWriter(out);\t\t\r\n    writer.println(&quot;&lt;pwd&gt;&quot;.toCharArray());\r\n    int exitCode = p.waitFor();\t\t\r\n    System.out.println(&quot;Exit Code :&quot;+ exitCode);","title":"passing password using process builder not working for &quot;net use&quot; command","body":"<p>I am trying to run the \"net use\" command by invoking it using process builder. As I pass the password to  the OutputStream using PrintWriter it fails with the following error : \n<em>System error 1219 has occurred.\nMultiple connections to a server or shared resource by the same user, using more than one user name, are not allowed. Disconnect all previous connections to the server or shared resource and try again.</em> </p>\n\n<p><strong>I have checked the username, password and the command, by running it manually. Its working fine</strong></p>\n\n<p>The code snippet :</p>\n\n<pre><code>ProcessBuilder pb = new ProcessBuilder(\"net\",\"use\",\"\\\\\\\\&lt;SERVERNAME&gt;\\\\&lt;SharedLocation&gt;\",\"/USER:&lt;username&gt;\",\"*\");\nProcess p = pb.start();\nOutputStream out = p.getOutputStream();\nPrintWriter writer = new PrintWriter(out);      \nwriter.println(\"&lt;pwd&gt;\".toCharArray());\nint exitCode = p.waitFor();     \nSystem.out.println(\"Exit Code :\"+ exitCode);\n</code></pre>\n"},{"tags":["java","maven","tomcat","struts2","web.xml"],"comments":[{"owner":{"account_id":172098,"reputation":167,"user_id":1047750,"display_name":"Avinash K.P"},"score":0,"creation_date":1397469816,"post_id":23057096,"comment_id":35232045,"body_markdown":"Excepption cleary saying that its not able to find StrutsPrepareAndExecuteFilter. so make sure respective JAR file is in the classpath","body":"Excepption cleary saying that its not able to find StrutsPrepareAndExecuteFilter. so make sure respective JAR file is in the classpath"},{"owner":{"account_id":2447950,"reputation":448,"user_id":2134835,"accept_rate":45,"display_name":"junior developper"},"score":0,"creation_date":1397471341,"post_id":23057096,"comment_id":35233024,"body_markdown":"@AvinashK.P since i am using maven to import the required jars. Why should i add them manually to the lib folder","body":"@AvinashK.P since i am using maven to import the required jars. Why should i add them manually to the lib folder"},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1397471720,"post_id":23057096,"comment_id":35233230,"body_markdown":"@juniordevelopper Because you didn&#39;t deploy them with your application.","body":"@juniordevelopper Because you didn&#39;t deploy them with your application."},{"owner":{"account_id":2447950,"reputation":448,"user_id":2134835,"accept_rate":45,"display_name":"junior developper"},"score":0,"creation_date":1397472251,"post_id":23057096,"comment_id":35233524,"body_markdown":"@RomanC I&#39;ve already added the maven dependencies in the deployment assembly (myProject=&gt;properties=&gt;Deployment Assembly=&gt;add=&gt;java build path entries=&gt;maven dependencies); Is this what you meant by deploy them with the application?","body":"@RomanC I&#39;ve already added the maven dependencies in the deployment assembly (myProject=&gt;properties=&gt;Deployment Assembly=&gt;add=&gt;java build path entries=&gt;maven dependencies); Is this what you meant by deploy them with the application?"}],"answers":[{"tags":[],"owner":{"account_id":172098,"reputation":167,"user_id":1047750,"display_name":"Avinash K.P"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1397470191,"creation_date":1397470191,"answer_id":23057382,"question_id":23057096,"body_markdown":"Looks like sample example provide in the tutorial is missing required jar files. Download all required jars and place them under WEB-INF/lib.","title":"Exception starting filter Struts 2","body":"<p>Looks like sample example provide in the tutorial is missing required jar files. Download all required jars and place them under WEB-INF/lib.</p>\n"},{"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1698927245,"creation_date":1397473228,"answer_id":23058385,"question_id":23057096,"body_markdown":"Looks like a typo in the code taken from the tutorial. Use the following in [`web.xml`][1]\r\n\r\n    &lt;filter&gt;\r\n        &lt;filter-name&gt;struts2&lt;/filter-name&gt;\r\n        &lt;filter-class&gt;org.apache.struts2.dispatcher.ng.filter.StrutsPrepareAndExecuteFilter&lt;/filter-class&gt;\r\n    &lt;/filter&gt;\r\n\r\n    &lt;filter-mapping&gt;\r\n        &lt;filter-name&gt;struts2&lt;/filter-name&gt;\r\n        &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n    &lt;/filter-mapping&gt;\r\n\r\n  [1]: https://struts.apache.org/core-developers/web-xml.html\r\n\r\n\r\n","title":"Exception starting filter Struts 2","body":"<p>Looks like a typo in the code taken from the tutorial. Use the following in <a href=\"https://struts.apache.org/core-developers/web-xml.html\" rel=\"nofollow noreferrer\"><code>web.xml</code></a></p>\n<pre><code>&lt;filter&gt;\n    &lt;filter-name&gt;struts2&lt;/filter-name&gt;\n    &lt;filter-class&gt;org.apache.struts2.dispatcher.ng.filter.StrutsPrepareAndExecuteFilter&lt;/filter-class&gt;\n&lt;/filter&gt;\n\n&lt;filter-mapping&gt;\n    &lt;filter-name&gt;struts2&lt;/filter-name&gt;\n    &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n&lt;/filter-mapping&gt;\n</code></pre>\n"}],"owner":{"account_id":2447950,"reputation":448,"user_id":2134835,"accept_rate":45,"display_name":"junior developper"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9319,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":23058385,"answer_count":2,"score":1,"last_activity_date":1698927245,"creation_date":1397469317,"question_id":23057096,"body_markdown":"I am trying to set my first struts 2 application using annotations and maven. I&#39;m follwing this example [struts2 annotations example][1]\r\n\r\n\r\n  [1]: http://www.dzone.com/tutorials/java/struts-2/struts-2-example/struts-2-annotation-example-1.html\r\n\r\nwhen i try to run the application on tomcat server 7 i&#39;m getting this exception \r\n\r\n        Grave: Exception startin filter struts2\r\n    java.lang.ClassNotFoundException: org.apache.struts2.dispatcher.ng.filter. StrutsPrepareAndExecuteFilter\r\n    \tat org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1720)\r\n    \tat org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1571)\r\n    \tat org.apache.catalina.core.DefaultInstanceManager.loadClass(DefaultInstanceManager.java:529)\r\n    \tat org.apache.catalina.core.DefaultInstanceManager.loadClassMaybePrivileged(DefaultInstanceManager.java:511)\r\n    \tat org.apache.catalina.core.DefaultInstanceManager.newInstance(DefaultInstanceManager.java:139)\r\n    \tat org.apache.catalina.core.ApplicationFilterConfig.getFilter(ApplicationFilterConfig.java:258)\r\n    \tat org.apache.catalina.core.ApplicationFilterConfig.&lt;init&gt;(ApplicationFilterConfig.java:105)\r\n    \tat org.apache.catalina.core.StandardContext.filterStart(StandardContext.java:4809)\r\n    \tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5485)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\r\n    \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1559)\r\n    \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1549)\r\n    \tat java.util.concurrent.FutureTask.run(FutureTask.java:262)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\r\n    \tat java.lang.Thread.run(Thread.java:744)\r\n    \r\n    avr. 14, 2014 10:40:05 AM org.apache.catalina.core.StandardContext startInternal\r\n    Grave: Error filterStart\r\n    avr. 14, 2014 10:40:05 AM org.apache.catalina.core.StandardContext startInternal\r\n    Grave: Erreur de d&#233;marrage du contexte [/StrutsAnnotationsExample] suite aux erreurs pr&#233;c&#233;dentes\r\n    avr. 14, 2014 10:40:05 AM org.apache.coyote.AbstractProtocol start\r\n    Infos: Starting ProtocolHandler [&quot;http-bio-8080&quot;]\r\n    avr. 14, 2014 10:40:05 AM org.apache.coyote.AbstractProtocol start\r\n    Infos: Starting ProtocolHandler [&quot;ajp-bio-8009&quot;]\r\n    avr. 14, 2014 10:40:05 AM org.apache.catalina.startup.Catalina start\r\n    Infos: Server startup in 991 ms\r\n\r\nCan any one help or tell what am i missing?","title":"Exception starting filter Struts 2","body":"<p>I am trying to set my first struts 2 application using annotations and maven. I'm follwing this example <a href=\"http://www.dzone.com/tutorials/java/struts-2/struts-2-example/struts-2-annotation-example-1.html\" rel=\"nofollow\">struts2 annotations example</a></p>\n\n<p>when i try to run the application on tomcat server 7 i'm getting this exception </p>\n\n<pre><code>    Grave: Exception startin filter struts2\njava.lang.ClassNotFoundException: org.apache.struts2.dispatcher.ng.filter. StrutsPrepareAndExecuteFilter\n    at org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1720)\n    at org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1571)\n    at org.apache.catalina.core.DefaultInstanceManager.loadClass(DefaultInstanceManager.java:529)\n    at org.apache.catalina.core.DefaultInstanceManager.loadClassMaybePrivileged(DefaultInstanceManager.java:511)\n    at org.apache.catalina.core.DefaultInstanceManager.newInstance(DefaultInstanceManager.java:139)\n    at org.apache.catalina.core.ApplicationFilterConfig.getFilter(ApplicationFilterConfig.java:258)\n    at org.apache.catalina.core.ApplicationFilterConfig.&lt;init&gt;(ApplicationFilterConfig.java:105)\n    at org.apache.catalina.core.StandardContext.filterStart(StandardContext.java:4809)\n    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5485)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1559)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1549)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:262)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\n    at java.lang.Thread.run(Thread.java:744)\n\navr. 14, 2014 10:40:05 AM org.apache.catalina.core.StandardContext startInternal\nGrave: Error filterStart\navr. 14, 2014 10:40:05 AM org.apache.catalina.core.StandardContext startInternal\nGrave: Erreur de démarrage du contexte [/StrutsAnnotationsExample] suite aux erreurs précédentes\navr. 14, 2014 10:40:05 AM org.apache.coyote.AbstractProtocol start\nInfos: Starting ProtocolHandler [\"http-bio-8080\"]\navr. 14, 2014 10:40:05 AM org.apache.coyote.AbstractProtocol start\nInfos: Starting ProtocolHandler [\"ajp-bio-8009\"]\navr. 14, 2014 10:40:05 AM org.apache.catalina.startup.Catalina start\nInfos: Server startup in 991 ms\n</code></pre>\n\n<p>Can any one help or tell what am i missing?</p>\n"},{"tags":["java","serialization","apache-flink","flink-streaming"],"comments":[{"owner":{"account_id":21886042,"reputation":1703,"user_id":16173669,"display_name":"Martijn Visser"},"score":0,"creation_date":1699025228,"post_id":77408452,"comment_id":136483020,"body_markdown":"Have you checked the release notes for 1.14 and accounted for the changed dependency names? https://nightlies.apache.org/flink/flink-docs-release-1.14/release-notes/flink-1.14/#summary-of-changed-dependency-names","body":"Have you checked the release notes for 1.14 and accounted for the changed dependency names? <a href=\"https://nightlies.apache.org/flink/flink-docs-release-1.14/release-notes/flink-1.14/#summary-of-changed-dependency-names\" rel=\"nofollow noreferrer\">nightlies.apache.org/flink/flink-docs-release-1.14/&hellip;</a>"},{"owner":{"account_id":6223385,"reputation":1,"user_id":4842415,"display_name":"Ajit Gupta"},"score":0,"creation_date":1699257366,"post_id":77408452,"comment_id":136503991,"body_markdown":"@MartijnVisser Thank you for response. I did that and compilation is successfully but it gives issue during runtime like in description.","body":"@MartijnVisser Thank you for response. I did that and compilation is successfully but it gives issue during runtime like in description."}],"owner":{"account_id":6223385,"reputation":1,"user_id":4842415,"display_name":"Ajit Gupta"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698926755,"creation_date":1698917949,"question_id":77408452,"body_markdown":"I am working on apache flink for streaming the data. Earlier I used the version flink 1.13.16 and recently upgrade the version to flink 1.16.2. Now I am getting exception\r\n*e.g.\r\n\r\n12:38:38.845 [main] INFO org.apache.flink.api.java.typeutils.runtime.kryo.KryoSerializer - Kryo serializer scala extensions are not available.\r\njava.lang.ClassNotFoundException: org.apache.flink.runtime.types.FlinkScalaKryoInstantiator\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\r\n\tat java.base/java.lang.Class.forName0(Native Method)\r\n\tat java.base/java.lang.Class.forName(Class.java:315)\r\n\tat org.apache.flink.api.java.typeutils.runtime.kryo.KryoSerializer.getKryoInstance(KryoSerializer.java:486)\r\n\tat org.apache.flink.api.java.typeutils.runtime.kryo.KryoSerializer.checkKryoInitialized(KryoSerializer.java:521)\r\n\tat org.apache.flink.api.java.typeutils.runtime.kryo.KryoSerializer.copy(KryoSerializer.java:306)\r\n\tat org.apache.flink.api.java.typeutils.runtime.PojoSerializer.copy(PojoSerializer.java:250)\r\n\tat org.apache.flink.api.java.typeutils.runtime.PojoSerializer.copy(PojoSerializer.java:250)\r\n\tat org.apache.flink.streaming.util.AbstractStreamOperatorTestHarness$MockOutput.collect(AbstractStreamOperatorTestHarness.java:846)\r\n\tat org.apache.flink.streaming.util.AbstractStreamOperatorTestHarness$MockOutput.collect(AbstractStreamOperatorTestHarness.java:807)\r\n\tat org.apache.flink.streaming.api.operators.CountingOutput.collect(CountingOutput.java:56)\r\n\tat org.apache.flink.streaming.api.operators.CountingOutput.collect(CountingOutput.java:29)\r\n\tat org.apache.flink.streaming.api.operators.TimestampedCollector.collect(TimestampedCollector.java:51)\r\n\tat com.abp.accountstatements.projections.PcBasedOnCalendarChange.processElement(PcBasedOnCalendarChange.java:59)*\r\n\r\n\r\nHere is code\r\n```\r\n/****** PcBasedOnCalendarChange.java *******/\r\npublic class PcBasedOnCalendarChange\r\n    extends KeyedBroadcastProcessFunction&lt;\r\n    String, GenerationDetail, String, GenerationDetail&gt; {\r\n\r\n   .....\r\n   .....\r\n\r\n  @Override\r\n  public void processElement(\r\n      GenerationDetail genDetail,\r\n      ReadOnlyContext ctx,\r\n      Collector&lt;GenerationDetail&gt; collector)\r\n      throws Exception {\r\n    try {\r\n      String accNum = genDetail.getAccount().getAccountNumber();\r\n\r\n      statementGenDateState.update(genDetail);\r\n      collector.collect(genDetail); // It gives above exception on upgrade the flink version to 1.16.2\r\n    } catch (Exception e) {\r\n      log.error(e.getMessage());\r\n      ctx.output(OutputExceptions.statementGenerationDetailOutput, genDetail);\r\n    }\r\n  }\r\n  .....\r\n}\r\n\r\n/****** GenerationDetail.java *******/\r\n@Data\r\n@JsonIgnoreProperties(ignoreUnknown = true)\r\npublic class GenerationDetail {\r\n  private String accountId;\r\n\r\n  private AccountIdentifier account; // AccountIdentifier is serializable class\r\n\r\n  private BusinessDateDTO accOpeningDate; // BusinessDateDTO is serializable class\r\n\r\n  private String generateFrequency;\r\n\r\n  private String contractId;\r\n\r\n  private String productId;\r\n\r\n  private String calendarCode;\r\n\r\n  private Frequency frequency; // Frequency is serializable class\r\n}\r\n\r\n```\r\nPackage &quot;org.apache.flink.runtime.type&quot; is deleted from flink version 1.14.0 onwards.\r\n\r\nCan you please help me to resolve this issue?\r\n\r\nI tried to to resolve issues by setting different serializer but it&#39;s not working. Here are links which I followed to resolved the issue but not working.\r\n\r\n- https://flink.apache.org/2020/04/15/flink-serialization-tuning-vol.-1-choosing-your-serializer-if-you-can/\r\n\r\n- https://nightlies.apache.org/flink/flink-docs-master/docs/dev/datastream/fault-tolerance/serialization/third_party_serializers/","title":"FlinkScalaKryoInstantiator not found exception on upgrade the flink version to 1.16.2","body":"<p>I am working on apache flink for streaming the data. Earlier I used the version flink 1.13.16 and recently upgrade the version to flink 1.16.2. Now I am getting exception\n*e.g.</p>\n<p>12:38:38.845 [main] INFO org.apache.flink.api.java.typeutils.runtime.kryo.KryoSerializer - Kryo serializer scala extensions are not available.\njava.lang.ClassNotFoundException: org.apache.flink.runtime.types.FlinkScalaKryoInstantiator\nat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\nat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\nat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\nat java.base/java.lang.Class.forName0(Native Method)\nat java.base/java.lang.Class.forName(Class.java:315)\nat org.apache.flink.api.java.typeutils.runtime.kryo.KryoSerializer.getKryoInstance(KryoSerializer.java:486)\nat org.apache.flink.api.java.typeutils.runtime.kryo.KryoSerializer.checkKryoInitialized(KryoSerializer.java:521)\nat org.apache.flink.api.java.typeutils.runtime.kryo.KryoSerializer.copy(KryoSerializer.java:306)\nat org.apache.flink.api.java.typeutils.runtime.PojoSerializer.copy(PojoSerializer.java:250)\nat org.apache.flink.api.java.typeutils.runtime.PojoSerializer.copy(PojoSerializer.java:250)\nat org.apache.flink.streaming.util.AbstractStreamOperatorTestHarness$MockOutput.collect(AbstractStreamOperatorTestHarness.java:846)\nat org.apache.flink.streaming.util.AbstractStreamOperatorTestHarness$MockOutput.collect(AbstractStreamOperatorTestHarness.java:807)\nat org.apache.flink.streaming.api.operators.CountingOutput.collect(CountingOutput.java:56)\nat org.apache.flink.streaming.api.operators.CountingOutput.collect(CountingOutput.java:29)\nat org.apache.flink.streaming.api.operators.TimestampedCollector.collect(TimestampedCollector.java:51)\nat com.abp.accountstatements.projections.PcBasedOnCalendarChange.processElement(PcBasedOnCalendarChange.java:59)*</p>\n<p>Here is code</p>\n<pre><code>/****** PcBasedOnCalendarChange.java *******/\npublic class PcBasedOnCalendarChange\n    extends KeyedBroadcastProcessFunction&lt;\n    String, GenerationDetail, String, GenerationDetail&gt; {\n\n   .....\n   .....\n\n  @Override\n  public void processElement(\n      GenerationDetail genDetail,\n      ReadOnlyContext ctx,\n      Collector&lt;GenerationDetail&gt; collector)\n      throws Exception {\n    try {\n      String accNum = genDetail.getAccount().getAccountNumber();\n\n      statementGenDateState.update(genDetail);\n      collector.collect(genDetail); // It gives above exception on upgrade the flink version to 1.16.2\n    } catch (Exception e) {\n      log.error(e.getMessage());\n      ctx.output(OutputExceptions.statementGenerationDetailOutput, genDetail);\n    }\n  }\n  .....\n}\n\n/****** GenerationDetail.java *******/\n@Data\n@JsonIgnoreProperties(ignoreUnknown = true)\npublic class GenerationDetail {\n  private String accountId;\n\n  private AccountIdentifier account; // AccountIdentifier is serializable class\n\n  private BusinessDateDTO accOpeningDate; // BusinessDateDTO is serializable class\n\n  private String generateFrequency;\n\n  private String contractId;\n\n  private String productId;\n\n  private String calendarCode;\n\n  private Frequency frequency; // Frequency is serializable class\n}\n\n</code></pre>\n<p>Package &quot;org.apache.flink.runtime.type&quot; is deleted from flink version 1.14.0 onwards.</p>\n<p>Can you please help me to resolve this issue?</p>\n<p>I tried to to resolve issues by setting different serializer but it's not working. Here are links which I followed to resolved the issue but not working.</p>\n<ul>\n<li><p><a href=\"https://flink.apache.org/2020/04/15/flink-serialization-tuning-vol.-1-choosing-your-serializer-if-you-can/\" rel=\"nofollow noreferrer\">https://flink.apache.org/2020/04/15/flink-serialization-tuning-vol.-1-choosing-your-serializer-if-you-can/</a></p>\n</li>\n<li><p><a href=\"https://nightlies.apache.org/flink/flink-docs-master/docs/dev/datastream/fault-tolerance/serialization/third_party_serializers/\" rel=\"nofollow noreferrer\">https://nightlies.apache.org/flink/flink-docs-master/docs/dev/datastream/fault-tolerance/serialization/third_party_serializers/</a></p>\n</li>\n</ul>\n"},{"tags":["java","arrays","byte","bytebuffer"],"comments":[{"owner":{"account_id":6651855,"reputation":224820,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":2,"creation_date":1698923972,"post_id":77409117,"comment_id":136467230,"body_markdown":"`short` is signed. Its maximum is 32767.","body":"<code>short</code> is signed. Its maximum is 32767."},{"owner":{"account_id":10879641,"reputation":314,"user_id":8575474,"display_name":"Abhinav Singh"},"score":0,"creation_date":1698924138,"post_id":77409117,"comment_id":136467264,"body_markdown":"Thanks for looking into this, this program in java prints the value `65535`.\n```\nbyte arr[] = {-1,-1};\nSystem.out.println((short)(arr[0] &amp; 0xff)&lt;&lt;8 | (arr[1] &amp; 0xff));\n```","body":"Thanks for looking into this, this program in java prints the value <code>65535</code>. ``` byte arr[] = {-1,-1}; System.out.println((short)(arr[0] &amp; 0xff)&lt;&lt;8 | (arr[1] &amp; 0xff)); ```"},{"owner":{"account_id":6651855,"reputation":224820,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1698924229,"post_id":77409117,"comment_id":136467280,"body_markdown":"`(short)(arr[0] &amp; 0xff)&lt;&lt;8 | (arr[1] &amp; 0xff)` is no longer a `short`. `|` operator promotes it to `int`.","body":"<code>(short)(arr[0] &amp; 0xff)&lt;&lt;8 | (arr[1] &amp; 0xff)</code> is no longer a <code>short</code>. <code>|</code> operator promotes it to <code>int</code>."},{"owner":{"account_id":10879641,"reputation":314,"user_id":8575474,"display_name":"Abhinav Singh"},"score":0,"creation_date":1698924427,"post_id":77409117,"comment_id":136467316,"body_markdown":"oh, I see. But what about the implementation of the above ByteBuffer function is that correct? shouldnt there be `var0 | 0xff` to convert negative value to positive?","body":"oh, I see. But what about the implementation of the above ByteBuffer function is that correct? shouldnt there be <code>var0 | 0xff</code> to convert negative value to positive?"},{"owner":{"account_id":3211603,"reputation":289287,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1698924449,"post_id":77409117,"comment_id":136467321,"body_markdown":"By the way, `char` is unsigned. So if you want to read the value as an unsigned two byte quantity, you can use `int value = ByteBuffer.wrap(arr).order(ByteOrder.LITTLE_ENDIAN) .getChar();` Be careful to always promote the result to `int` to avoid confusing output when printing…","body":"By the way, <code>char</code> is unsigned. So if you want to read the value as an unsigned two byte quantity, you can use <code>int value = ByteBuffer.wrap(arr).order(ByteOrder.LITTLE_ENDIAN) .getChar();</code> Be careful to always promote the result to <code>int</code> to avoid confusing output when printing…"},{"owner":{"account_id":3211603,"reputation":289287,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1698924631,"post_id":77409117,"comment_id":136467342,"body_markdown":"You can use `var0` instead of  `var0 &amp; 0xFF` in `return (short)((var0 &amp; 0xFF) &lt;&lt; 8 | var1 &amp; 255);` because the upper bits are ignored anyway when casting to `short`.","body":"You can use <code>var0</code> instead of  <code>var0 &amp; 0xFF</code> in <code>return (short)((var0 &amp; 0xFF) &lt;&lt; 8 | var1 &amp; 255);</code> because the upper bits are ignored anyway when casting to <code>short</code>."}],"answers":[{"tags":[],"owner":{"account_id":6651855,"reputation":224820,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1698926698,"creation_date":1698924772,"answer_id":77409220,"question_id":77409117,"body_markdown":"`short` is signed. Its maximum value is 32767, and minimum is -32768.\r\n\r\n`ByteBuffer.getShort` cannot return a `short` value of 65535, no matter how you change its implementation, because 65535 is not a valid value for `short`.\r\n\r\nThe implementation of `getShort` is correct. The bits of the two bytes are both `1111 1111` (= -1), and the resulting `short` is `1111 1111 1111 1111` (also = -1).\r\n\r\nBut you *do* assign what `getShort` returns, to an `int` variable `value`, so `value` can store 65535. However, the implicit conversion from `short` to `int` *sign-extends*, instead of *zero-extends*, the bits, so you still get a value of -1.\r\n\r\nYou can use `Short.toUnsignedInt` to treat the signed `short` as unsigned, and get an `int`.\r\n\r\n```\r\nint value = Short.toUnsignedInt(byteBuffer.getShort());\r\n// value is 65535\r\n```\r\n\r\nAnd the implementation of `toUnsignedInt` is probably what you have expected:\r\n\r\n    public static int toUnsignedInt(short x) {\r\n        return ((int) x) &amp; 0xffff;\r\n    }\r\n\r\n&lt;hr&gt;\r\n\r\nSide note: the implementation of `makeShort` does `var1 &amp; 255`, because `|` causes [numeric promotion][1]. `var0 &lt;&lt; 8 | var1` would convert `var1` to an `int` by sign-extending it. This might add some extra 1s that shouldn&#39;t be there. Consider `var1 = 0` and `var2 = -1`. The bit patterns look like this when both sides are converted to `int`.\r\n\r\n```\r\nvar0 &lt;&lt; 8: 0000 0000 0000 0000 0000 0000 0000 0000 (originally 0000 0000)\r\nvar1     : 1111 1111 1111 1111 1111 1111 1111 1111 originally 1111 1111)\r\n```\r\n\r\nORing them and cutting off the most significant 16 bits would give 16 &#39;1&#39;s, instead of the expected `0000 0000 1111 1111`.\r\n\r\n\r\n  [1]: https://stackoverflow.com/q/576302/5133585","title":"How HeapByteBuffer converts byte array to short","body":"<p><code>short</code> is signed. Its maximum value is 32767, and minimum is -32768.</p>\n<p><code>ByteBuffer.getShort</code> cannot return a <code>short</code> value of 65535, no matter how you change its implementation, because 65535 is not a valid value for <code>short</code>.</p>\n<p>The implementation of <code>getShort</code> is correct. The bits of the two bytes are both <code>1111 1111</code> (= -1), and the resulting <code>short</code> is <code>1111 1111 1111 1111</code> (also = -1).</p>\n<p>But you <em>do</em> assign what <code>getShort</code> returns, to an <code>int</code> variable <code>value</code>, so <code>value</code> can store 65535. However, the implicit conversion from <code>short</code> to <code>int</code> <em>sign-extends</em>, instead of <em>zero-extends</em>, the bits, so you still get a value of -1.</p>\n<p>You can use <code>Short.toUnsignedInt</code> to treat the signed <code>short</code> as unsigned, and get an <code>int</code>.</p>\n<pre><code>int value = Short.toUnsignedInt(byteBuffer.getShort());\n// value is 65535\n</code></pre>\n<p>And the implementation of <code>toUnsignedInt</code> is probably what you have expected:</p>\n<pre><code>public static int toUnsignedInt(short x) {\n    return ((int) x) &amp; 0xffff;\n}\n</code></pre>\n<hr>\n<p>Side note: the implementation of <code>makeShort</code> does <code>var1 &amp; 255</code>, because <code>|</code> causes <a href=\"https://stackoverflow.com/q/576302/5133585\">numeric promotion</a>. <code>var0 &lt;&lt; 8 | var1</code> would convert <code>var1</code> to an <code>int</code> by sign-extending it. This might add some extra 1s that shouldn't be there. Consider <code>var1 = 0</code> and <code>var2 = -1</code>. The bit patterns look like this when both sides are converted to <code>int</code>.</p>\n<pre><code>var0 &lt;&lt; 8: 0000 0000 0000 0000 0000 0000 0000 0000 (originally 0000 0000)\nvar1     : 1111 1111 1111 1111 1111 1111 1111 1111 originally 1111 1111)\n</code></pre>\n<p>ORing them and cutting off the most significant 16 bits would give 16 '1's, instead of the expected <code>0000 0000 1111 1111</code>.</p>\n"}],"owner":{"account_id":10879641,"reputation":314,"user_id":8575474,"display_name":"Abhinav Singh"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77409220,"answer_count":1,"score":0,"last_activity_date":1698926698,"creation_date":1698923847,"question_id":77409117,"body_markdown":"I have a java program, where I m trying to convert a byte array to short.\r\n```\r\nbyte arr[] = {-1,-1};\r\nint value = ByteBuffer.wrap(arr).order(ByteOrder.LITTLE_ENDIAN).getShort();\r\n```\r\nthe value I get from above is `-1`. But its actual value should be `65535`.\r\n\r\nI decided to take a look how the library converts the byte array value to actual short. On getting deep inside the functions, I think I saw the function inside this class `java.nio.Bits` which is doing the actual work of converting byte array to short, its implementation is like this\r\n```\r\nprivate static short makeShort(byte var0, byte var1) {\r\n        return (short)(var0 &lt;&lt; 8 | var1 &amp; 255);\r\n}\r\n```\r\nThe function is taking care of the negative value of 2nd byte but not for the 1st byte.\r\n\r\nI m not sure but shouldnt the return statement of the above function should be like this \r\n```\r\nprivate static short makeShort(byte var0, byte var1) {\r\n        return (short)((var0 &amp; 0xFF) &lt;&lt; 8 | var1 &amp; 255);\r\n}\r\n```\r\njava version : 8\r\n\r\nThank You.\r\n\r\n\r\n","title":"How HeapByteBuffer converts byte array to short","body":"<p>I have a java program, where I m trying to convert a byte array to short.</p>\n<pre><code>byte arr[] = {-1,-1};\nint value = ByteBuffer.wrap(arr).order(ByteOrder.LITTLE_ENDIAN).getShort();\n</code></pre>\n<p>the value I get from above is <code>-1</code>. But its actual value should be <code>65535</code>.</p>\n<p>I decided to take a look how the library converts the byte array value to actual short. On getting deep inside the functions, I think I saw the function inside this class <code>java.nio.Bits</code> which is doing the actual work of converting byte array to short, its implementation is like this</p>\n<pre><code>private static short makeShort(byte var0, byte var1) {\n        return (short)(var0 &lt;&lt; 8 | var1 &amp; 255);\n}\n</code></pre>\n<p>The function is taking care of the negative value of 2nd byte but not for the 1st byte.</p>\n<p>I m not sure but shouldnt the return statement of the above function should be like this</p>\n<pre><code>private static short makeShort(byte var0, byte var1) {\n        return (short)((var0 &amp; 0xFF) &lt;&lt; 8 | var1 &amp; 255);\n}\n</code></pre>\n<p>java version : 8</p>\n<p>Thank You.</p>\n"},{"tags":["java","minecraft","bukkit","spigot"],"comments":[{"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"score":0,"creation_date":1695117355,"post_id":77114459,"comment_id":135978186,"body_markdown":"Welcome on StackOverflow. The CommandSender will not be the player but a block?","body":"Welcome on StackOverflow. The CommandSender will not be the player but a block?"}],"answers":[{"tags":[],"owner":{"account_id":22884017,"reputation":1,"user_id":17025188,"display_name":"KoCode"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698926622,"creation_date":1698926586,"answer_id":77409407,"question_id":77114459,"body_markdown":"With this sign\r\n\r\n    /give @s minecraft:oak_sign{BlockEntityTag:{front_text:{messages:[&#39;{&quot;text&quot;:&quot;&quot;,&quot;clickEvent&quot;:{&quot;action&quot;:&quot;run_command&quot;,&quot;value&quot;:&quot;tp @s 0 100 0&quot;}}&#39;,&#39;{&quot;text&quot;:&quot;MySign&quot;}&#39;,&#39;{&quot;text&quot;:&quot;Select to teleport.&quot;,&quot;italic&quot;:true,&quot;color&quot;:&quot;white&quot;}&#39;,&#39;{&quot;text&quot;:&quot;&quot;}&#39;]},is_waxed:1b}}\r\n\r\nThe **server** executes the command */tp @s 0 100 0*, thats why the players can click the sign even tho they dont have the permisson to run the */tp* command.\r\n\r\nI think the best way to do this is to listen to the PlayerInteractEvent in a Bukkit Listener instead of a command.\r\n\r\nThis is how to teleport the Player when they interact with a sign:\r\n\r\n    @EventHandler\r\n    public void OnInteract(PlayerInteractEvent event)\r\n    {\r\n       if(event.getClickedBlock().getState() instanceof Sign)\r\n       {\r\n           //When the player clicked on a Sign\r\n\r\n            event.getPlayer().teleport(........);\r\n        }\r\n    }\r\n\r\nI hope this helped you!","title":"Minecraft Bukkit - Detect if player is running command from a sign","body":"<p>With this sign</p>\n<pre><code>/give @s minecraft:oak_sign{BlockEntityTag:{front_text:{messages:['{&quot;text&quot;:&quot;&quot;,&quot;clickEvent&quot;:{&quot;action&quot;:&quot;run_command&quot;,&quot;value&quot;:&quot;tp @s 0 100 0&quot;}}','{&quot;text&quot;:&quot;MySign&quot;}','{&quot;text&quot;:&quot;Select to teleport.&quot;,&quot;italic&quot;:true,&quot;color&quot;:&quot;white&quot;}','{&quot;text&quot;:&quot;&quot;}']},is_waxed:1b}}\n</code></pre>\n<p>The <strong>server</strong> executes the command <em>/tp @s 0 100 0</em>, thats why the players can click the sign even tho they dont have the permisson to run the <em>/tp</em> command.</p>\n<p>I think the best way to do this is to listen to the PlayerInteractEvent in a Bukkit Listener instead of a command.</p>\n<p>This is how to teleport the Player when they interact with a sign:</p>\n<pre><code>@EventHandler\npublic void OnInteract(PlayerInteractEvent event)\n{\n   if(event.getClickedBlock().getState() instanceof Sign)\n   {\n       //When the player clicked on a Sign\n\n        event.getPlayer().teleport(........);\n    }\n}\n</code></pre>\n<p>I hope this helped you!</p>\n"}],"owner":{"account_id":29454884,"reputation":11,"user_id":22570976,"display_name":"Laurita S."},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1698926622,"creation_date":1694800107,"question_id":77114459,"body_markdown":"I am trying to write a command that is supposed to teleport a player if **(a)** the player is running it by clicking a sign *and* **(b)** other conditions are met. This is what I have so far for my `CommandExecutor` `onCommand` function:\r\n\r\n```lang-java\r\npublic boolean onCommand(CommandSender sender, Command cmd, String label, String[] args) {\r\n        if (!(sender instanceof Player)) {\r\n            sender.sendMessage(&quot;ERROR: You must be a player to use this command.&quot;);\r\n            return true;\r\n        }\r\n        if (sender.hasPermission(permission) &amp;&amp; /* Other conditions */) { // permission is given as an argument to the command\r\n            ((Player) sender).teleport(new Location(world, destX, destY, destZ, destYw, destPt)); // These variables are all determined based on the arguments to the command.\r\n            return true;\r\n        }\r\n        return true;\r\n}\r\n```\r\n\r\nThis allows any player to teleport anywhere by typing `/&lt;name of my custom command&gt;` and using a permission that they have, such as `group.default` (for [LuckPerms](https://luckperms.net/)). I don&#39;t want players to be able to use my command to do this.\r\n\r\nIn contrast, on an unmodded Minecraft server, if you give yourself a sign using  \r\n```lang-text\r\n/give @s minecraft:oak_sign{BlockEntityTag:{front_text:{messages:[&#39;{&quot;text&quot;:&quot;&quot;,&quot;clickEvent&quot;:{&quot;action&quot;:&quot;run_command&quot;,&quot;value&quot;:&quot;tp @s 0 100 0&quot;}}&#39;,&#39;{&quot;text&quot;:&quot;MySign&quot;}&#39;,&#39;{&quot;text&quot;:&quot;Select to teleport.&quot;,&quot;italic&quot;:true,&quot;color&quot;:&quot;white&quot;}&#39;,&#39;{&quot;text&quot;:&quot;&quot;}&#39;]},is_waxed:1b}}\r\n```  \r\nthen anyone (i.e., people without op) can click the sign to teleport to (0, 100, 0), but they cannot run `/tp 0 100 0` or `/tp &lt;anything&gt;` in the chat.\r\n\r\n**How do I accomplish this behavior with my custom Bukkit command?** Is there a way to detect whether a player is running a command by right-clicking a sign (and then return without teleporting if they are not), or is there an easier way to do this?","title":"Minecraft Bukkit - Detect if player is running command from a sign","body":"<p>I am trying to write a command that is supposed to teleport a player if <strong>(a)</strong> the player is running it by clicking a sign <em>and</em> <strong>(b)</strong> other conditions are met. This is what I have so far for my <code>CommandExecutor</code> <code>onCommand</code> function:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public boolean onCommand(CommandSender sender, Command cmd, String label, String[] args) {\n        if (!(sender instanceof Player)) {\n            sender.sendMessage(&quot;ERROR: You must be a player to use this command.&quot;);\n            return true;\n        }\n        if (sender.hasPermission(permission) &amp;&amp; /* Other conditions */) { // permission is given as an argument to the command\n            ((Player) sender).teleport(new Location(world, destX, destY, destZ, destYw, destPt)); // These variables are all determined based on the arguments to the command.\n            return true;\n        }\n        return true;\n}\n</code></pre>\n<p>This allows any player to teleport anywhere by typing <code>/&lt;name of my custom command&gt;</code> and using a permission that they have, such as <code>group.default</code> (for <a href=\"https://luckperms.net/\" rel=\"nofollow noreferrer\">LuckPerms</a>). I don't want players to be able to use my command to do this.</p>\n<p>In contrast, on an unmodded Minecraft server, if you give yourself a sign using</p>\n<pre class=\"lang-text prettyprint-override\"><code>/give @s minecraft:oak_sign{BlockEntityTag:{front_text:{messages:['{&quot;text&quot;:&quot;&quot;,&quot;clickEvent&quot;:{&quot;action&quot;:&quot;run_command&quot;,&quot;value&quot;:&quot;tp @s 0 100 0&quot;}}','{&quot;text&quot;:&quot;MySign&quot;}','{&quot;text&quot;:&quot;Select to teleport.&quot;,&quot;italic&quot;:true,&quot;color&quot;:&quot;white&quot;}','{&quot;text&quot;:&quot;&quot;}']},is_waxed:1b}}\n</code></pre>\n<p>then anyone (i.e., people without op) can click the sign to teleport to (0, 100, 0), but they cannot run <code>/tp 0 100 0</code> or <code>/tp &lt;anything&gt;</code> in the chat.</p>\n<p><strong>How do I accomplish this behavior with my custom Bukkit command?</strong> Is there a way to detect whether a player is running a command by right-clicking a sign (and then return without teleporting if they are not), or is there an easier way to do this?</p>\n"},{"tags":["java","permissions","sftp"],"comments":[{"owner":{"account_id":1267971,"reputation":255,"user_id":1224843,"accept_rate":36,"display_name":"Neha"},"score":0,"creation_date":1435222990,"post_id":27901826,"comment_id":50113846,"body_markdown":"I am facing same problem. Did u get any solution?","body":"I am facing same problem. Did u get any solution?"},{"owner":{"account_id":3590209,"reputation":1021,"user_id":2996452,"accept_rate":62,"display_name":"Jokkeri"},"score":0,"creation_date":1643726165,"post_id":27901826,"comment_id":125412446,"body_markdown":"I think you don&#39;t have sufficient permission to upload file into the &quot;home&quot; directory? You could also try `sftpChannel.put(fN,&quot;./&quot;  + destFn);` .....\n&quot;./&quot; = currentDir","body":"I think you don&#39;t have sufficient permission to upload file into the &quot;home&quot; directory? You could also try <code>sftpChannel.put(fN,&quot;.&#47;&quot;  + destFn);</code> ..... &quot;./&quot; = currentDir"},{"owner":{"account_id":5139007,"reputation":828,"user_id":4116955,"accept_rate":79,"display_name":"Mahesh H Viraktamath"},"score":0,"creation_date":1676567495,"post_id":27901826,"comment_id":133167460,"body_markdown":"For me this was due to the length of or certain characters in the file name. I changed and reduced the length and it worked.","body":"For me this was due to the length of or certain characters in the file name. I changed and reduced the length and it worked."}],"answers":[{"tags":[],"owner":{"account_id":5030671,"reputation":75,"user_id":4040942,"display_name":"Iv&#225;n Travecedo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1445456278,"creation_date":1445456278,"answer_id":33267787,"question_id":27901826,"body_markdown":"I had a [similar problem](https://stackoverflow.com/questions/33243278/permission-denied-using-jsch) and it was due an non existent folder. Did you check if the folder exists? Is it in the correct path?","title":"3: Permission denied. at com.jcraft.jsch.ChannelSftp.throwStatusError(ChannelSftp.java:2846)","body":"<p>I had a <a href=\"https://stackoverflow.com/questions/33243278/permission-denied-using-jsch\">similar problem</a> and it was due an non existent folder. Did you check if the folder exists? Is it in the correct path?</p>\n"},{"tags":[],"owner":{"account_id":2473440,"reputation":4508,"user_id":2154661,"display_name":"Ronald Coarite"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643725782,"creation_date":1643725782,"answer_id":70942261,"question_id":27901826,"body_markdown":"Be sure to indicate the working directory in the channel \r\n\r\nUse **channel.cd(&quot;/path_directory&quot;)**\r\n\r\n    ChannelSftp channel = (ChannelSftp) session.openChannel(&quot;sftp&quot;);\r\n    channel.connect();\r\n    channel.cd(&quot;/path_directory&quot;);","title":"3: Permission denied. at com.jcraft.jsch.ChannelSftp.throwStatusError(ChannelSftp.java:2846)","body":"<p>Be sure to indicate the working directory in the channel</p>\n<p>Use <strong>channel.cd(&quot;/path_directory&quot;)</strong></p>\n<pre><code>ChannelSftp channel = (ChannelSftp) session.openChannel(&quot;sftp&quot;);\nchannel.connect();\nchannel.cd(&quot;/path_directory&quot;);\n</code></pre>\n"}],"owner":{"account_id":5612983,"reputation":31,"user_id":4445202,"display_name":"Archana Seetharam"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12686,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1698926565,"creation_date":1421065017,"question_id":27901826,"body_markdown":"We have a java code which connects to a destination server and places multiple files in the destination folder. But when it places the first file and comes back to place the second file it gives the following error.\r\n\r\nINFO: Next authentication method: keyboard-interactive\r\nINFO: Authentication succeeded (keyboard-interactive).\r\n3: Permission denied.\r\n        at com.jcraft.jsch.ChannelSftp.throwStatusError(ChannelSftp.java:2846)\r\n        at com.jcraft.jsch.ChannelSftp._put(ChannelSftp.java:594)\r\n        at com.jcraft.jsch.ChannelSftp.put(ChannelSftp.java:475)\r\n        at com.jcraft.jsch.ChannelSftp.put(ChannelSftp.java:365)\r\n        at TravelFTPUpload.main(TravelFTPUpload.java:103)\r\nINFO: Disconnecting from 12.10.219.115 port 22\r\nINFO: Caught an exception, leaving main loop due to Socket closed\r\n\r\nJava code snippet:\r\n\r\n    for (int j = 0; j &lt; listFiles.length; j++) \r\n    {\r\n    \tfN = listFiles[j].getAbsolutePath();\r\n    \tdestFn = listFiles[j].getName();\r\n    \tfileNameList.append(destFn+&quot;&lt;br /&gt;&quot;);\r\n    \t\t\t\t\r\n    \t// Ex:GS2-20141128\r\n    \tsftpChannel.put(fN, destFn);\r\n    \t\t\t\t\t\r\n    }\r\n\r\nCan someone please help me with this error. \r\nNote: The code works fine while connecting to a different destination folder.","title":"3: Permission denied. at com.jcraft.jsch.ChannelSftp.throwStatusError(ChannelSftp.java:2846)","body":"<p>We have a java code which connects to a destination server and places multiple files in the destination folder. But when it places the first file and comes back to place the second file it gives the following error.</p>\n\n<p>INFO: Next authentication method: keyboard-interactive\nINFO: Authentication succeeded (keyboard-interactive).\n3: Permission denied.\n        at com.jcraft.jsch.ChannelSftp.throwStatusError(ChannelSftp.java:2846)\n        at com.jcraft.jsch.ChannelSftp._put(ChannelSftp.java:594)\n        at com.jcraft.jsch.ChannelSftp.put(ChannelSftp.java:475)\n        at com.jcraft.jsch.ChannelSftp.put(ChannelSftp.java:365)\n        at TravelFTPUpload.main(TravelFTPUpload.java:103)\nINFO: Disconnecting from 12.10.219.115 port 22\nINFO: Caught an exception, leaving main loop due to Socket closed</p>\n\n<p>Java code snippet:</p>\n\n<pre><code>for (int j = 0; j &lt; listFiles.length; j++) \n{\n    fN = listFiles[j].getAbsolutePath();\n    destFn = listFiles[j].getName();\n    fileNameList.append(destFn+\"&lt;br /&gt;\");\n\n    // Ex:GS2-20141128\n    sftpChannel.put(fN, destFn);\n\n}\n</code></pre>\n\n<p>Can someone please help me with this error. \nNote: The code works fine while connecting to a different destination folder.</p>\n"},{"tags":["javascript","java","encoding","decode"],"comments":[{"owner":{"account_id":1530592,"reputation":92705,"user_id":1427878,"display_name":"CBroe"},"score":0,"creation_date":1698927155,"post_id":77409394,"comment_id":136467793,"body_markdown":"Why URL encoding in the first place - are you putting this _into_ a URL context anywhere? If you just want to output data so that JavaScript can parse &amp; use it - then you should encode it as JSON.","body":"Why URL encoding in the first place - are you putting this <i>into</i> a URL context anywhere? If you just want to output data so that JavaScript can parse &amp; use it - then you should encode it as JSON."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1698929255,"post_id":77409394,"comment_id":136468253,"body_markdown":"When the compiler warns you that [a method is deprecated](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/net/URLEncoder.html#encode(java.lang.String)), don’t just ignore the warning.  Pass UTF-8 as the charset argument.","body":"When the compiler warns you that <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/net/URLEncoder.html#encode(java.lang.String)\" rel=\"nofollow noreferrer\">a method is deprecated</a>, don’t just ignore the warning.  Pass UTF-8 as the charset argument."},{"owner":{"account_id":1177078,"reputation":13265,"user_id":1152809,"accept_rate":62,"display_name":"Travis Heeter"},"score":1,"creation_date":1698930823,"post_id":77409394,"comment_id":136468578,"body_markdown":"I&#39;m encoding it because the files contain html or xml or any number of script types, and I want to see the content of the file, not what they produce. I&#39;m using encode, because I saw it somewhere else. If you have a better idea, please suggest it.","body":"I&#39;m encoding it because the files contain html or xml or any number of script types, and I want to see the content of the file, not what they produce. I&#39;m using encode, because I saw it somewhere else. If you have a better idea, please suggest it."},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1698975425,"post_id":77409394,"comment_id":136475957,"body_markdown":"Re _&quot;If you have a better idea, please suggest it&quot;_, the user _did_ suggest a better idea: _&quot;Pass UTF-8 as the charset argument&quot;_. So try changing your call from `out.println(URLEncoder.encode(fileContents))` to `out.println(URLEncoder.encode(fileContents), StandardCharsets.UTF_8)`. That may or may not resolve the issue, but the user was constructively attempting to assist you. If that change doesn&#39;t help, update your question with sample data for `fileContents` that will allow others to attempt to reproduce/resolve your problem. Is &quot;%FF&quot; part of the data you are attempting to encode/decode?","body":"Re <i>&quot;If you have a better idea, please suggest it&quot;</i>, the user <i>did</i> suggest a better idea: <i>&quot;Pass UTF-8 as the charset argument&quot;</i>. So try changing your call from <code>out.println(URLEncoder.encode(fileContents))</code> to <code>out.println(URLEncoder.encode(fileContents), StandardCharsets.UTF_8)</code>. That may or may not resolve the issue, but the user was constructively attempting to assist you. If that change doesn&#39;t help, update your question with sample data for <code>fileContents</code> that will allow others to attempt to reproduce/resolve your problem. Is &quot;%FF&quot; part of the data you are attempting to encode/decode?"},{"owner":{"account_id":1530592,"reputation":92705,"user_id":1427878,"display_name":"CBroe"},"score":0,"creation_date":1699007032,"post_id":77409394,"comment_id":136479310,"body_markdown":"_&quot;I&#39;m encoding it because the files contain html or xml or any number of script types, and I want to see the content of the file, not what they produce.&quot;_ - that makes little sense to begin with, since you are _decoding_ it again on the receiving end. If you want to _see_ HTML/XML tags on your page, instead of having the browser try to interpret them _as_ HTML - then you need to apply proper _HTML encoding_, not URL encoding.","body":"<i>&quot;I&#39;m encoding it because the files contain html or xml or any number of script types, and I want to see the content of the file, not what they produce.&quot;</i> - that makes little sense to begin with, since you are <i>decoding</i> it again on the receiving end. If you want to <i>see</i> HTML/XML tags on your page, instead of having the browser try to interpret them <i>as</i> HTML - then you need to apply proper <i>HTML encoding</i>, not URL encoding."}],"owner":{"account_id":1177078,"reputation":13265,"user_id":1152809,"accept_rate":62,"display_name":"Travis Heeter"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698926488,"creation_date":1698926488,"question_id":77409394,"body_markdown":"I have a jsp that prints the contents of a file:\r\n\r\n    out.println(URLEncoder.encode(fileContents))\r\n\r\nThen, in js, I decode the result with \r\n\r\n    decodeURIComponent(result)\r\n\r\nBut, I get an error on:\r\n\r\n    %FF\r\n\r\n &gt; URIError: URI malformed at decodeURIComponent...\r\n\r\nIs there a different way I should be doing this?","title":"%FF encoding between java and js","body":"<p>I have a jsp that prints the contents of a file:</p>\n<pre><code>out.println(URLEncoder.encode(fileContents))\n</code></pre>\n<p>Then, in js, I decode the result with</p>\n<pre><code>decodeURIComponent(result)\n</code></pre>\n<p>But, I get an error on:</p>\n<pre><code>%FF\n</code></pre>\n<blockquote>\n<p>URIError: URI malformed at decodeURIComponent...</p>\n</blockquote>\n<p>Is there a different way I should be doing this?</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":2,"creation_date":1698927190,"post_id":77409106,"comment_id":136467798,"body_markdown":"Can you show your build.gradle?","body":"Can you show your build.gradle?"}],"owner":{"account_id":29810077,"reputation":1,"user_id":22845702,"display_name":"Devaraj Kambar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698923702,"creation_date":1698923702,"question_id":77409106,"body_markdown":"While doing commercetools sdk v2 setup i am facing below issue , if anyone can help please , it will be helpful for me and it will save my time.\r\nD:\\CommerceTools\\CT NewCode\\commercetools-sdk-v2\\examples\\spring&gt;gradlew bootRun\r\n&gt; Task :compileKotlin FAILED\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nExecution failed for task &#39;:compileKotlin&#39;.\r\n&gt; Error while evaluating property &#39;filteredArgumentsMap&#39; of task &#39;:compileKotlin&#39;\r\n &gt; Could not resolve all files for configuration &#39;:compileClasspath&#39;.\r\n &gt; Could not resolve com.commercetools.http:commercetools-http-api:2.0.0.\r\n Required by:\r\n project :\r\n &gt; Could not resolve com.commercetools.http:commercetools-http-api:2.0.0.\r\n &gt; nexus.commercetools.com\r\n &gt; Could not resolve com.commercetools.auth:commercetools-auth:2.0.0.\r\n Required by:\r\n project :\r\n &gt; Could not resolve com.commercetools.auth:commercetools-auth:2.0.0.\r\nand also ,\r\n\r\nHelp me to solve by installing from scratch.\r\n\r\nIam excpting the solution for this problem.","title":"Getting error on running the gradlew bootRun command","body":"<p>While doing commercetools sdk v2 setup i am facing below issue , if anyone can help please , it will be helpful for me and it will save my time.\nD:\\CommerceTools\\CT NewCode\\commercetools-sdk-v2\\examples\\spring&gt;gradlew bootRun</p>\n<blockquote>\n<p>Task :compileKotlin FAILED</p>\n</blockquote>\n<p>FAILURE: Build failed with an exception.</p>\n<ul>\n<li>What went wrong:\nExecution failed for task ':compileKotlin'.</li>\n</ul>\n<blockquote>\n<p>Error while evaluating property 'filteredArgumentsMap' of task ':compileKotlin'\nCould not resolve all files for configuration ':compileClasspath'.\nCould not resolve com.commercetools.http:commercetools-http-api:2.0.0.\nRequired by:\nproject :\nCould not resolve com.commercetools.http:commercetools-http-api:2.0.0.\nnexus.commercetools.com\nCould not resolve com.commercetools.auth:commercetools-auth:2.0.0.\nRequired by:\nproject :\nCould not resolve com.commercetools.auth:commercetools-auth:2.0.0.\nand also ,</p>\n</blockquote>\n<p>Help me to solve by installing from scratch.</p>\n<p>Iam excpting the solution for this problem.</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","null-object-pattern"],"comments":[{"owner":{"account_id":350117,"reputation":8653,"user_id":685806,"accept_rate":44,"display_name":"Pino"},"score":0,"creation_date":1698917250,"post_id":77408275,"comment_id":136465991,"body_markdown":"It is not allowed: see https://stackoverflow.com/q/49044770/685806","body":"It is not allowed: see <a href=\"https://stackoverflow.com/q/49044770/685806\">stackoverflow.com/q/49044770/685806</a>"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":3,"creation_date":1698917316,"post_id":77408275,"comment_id":136466002,"body_markdown":"You get a null bean and places that directly reference it will fail. Instead of returning null why not just return a noop filter instead?","body":"You get a null bean and places that directly reference it will fail. Instead of returning null why not just return a noop filter instead?"},{"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"score":0,"creation_date":1698918041,"post_id":77408275,"comment_id":136466142,"body_markdown":"In general, it is not a good idea to return `null` in IoC frameworks like Spring, because you don&#39;t know where and how your beans are used.","body":"In general, it is not a good idea to return <code>null</code> in IoC frameworks like Spring, because you don&#39;t know where and how your beans are used."},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":1,"creation_date":1698921517,"post_id":77408275,"comment_id":136466794,"body_markdown":"I don&#39;t understand that _I was trying to implement a dummy filter to return to conform to Null Object pattern but I was getting many errors and lost hours._ A dummy filter should just need to implement `WebFilter.filter()` as `return chain.filter(exchange);`","body":"I don&#39;t understand that <i>I was trying to implement a dummy filter to return to conform to Null Object pattern but I was getting many errors and lost hours.</i> A dummy filter should just need to implement <code>WebFilter.filter()</code> as <code>return chain.filter(exchange);</code>"}],"answers":[{"tags":[],"owner":{"account_id":19395247,"reputation":3208,"user_id":14183092,"display_name":"kerbermeister"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1698922943,"creation_date":1698922533,"answer_id":77409000,"question_id":77408275,"body_markdown":"Of course, returning null is not a good idea, you should avoid it.\r\nI don&#39;t know how logging in your application is controlled, but if you setup logging level via application.yml, I would do something like this:\r\n\r\n    @Bean\r\n    @ConditionalOnProperty(prefix = &quot;logging.level&quot;, name = &quot;com.example.config&quot;, havingValue = &quot;DEBUG&quot;)\r\n    public WebFilter payloadFilter() {\r\n        return new PayloadFilter();\r\n    }","title":"Returning null in Bean annotated method","body":"<p>Of course, returning null is not a good idea, you should avoid it.\nI don't know how logging in your application is controlled, but if you setup logging level via application.yml, I would do something like this:</p>\n<pre><code>@Bean\n@ConditionalOnProperty(prefix = &quot;logging.level&quot;, name = &quot;com.example.config&quot;, havingValue = &quot;DEBUG&quot;)\npublic WebFilter payloadFilter() {\n    return new PayloadFilter();\n}\n</code></pre>\n"}],"owner":{"account_id":16549598,"reputation":148,"user_id":11958281,"display_name":"MilaHalina"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1698923364,"creation_date":1698916497,"question_id":77408275,"body_markdown":"\r\nI have a web filter that I only want to execute when debug level is enabled. I was trying to implement a dummy filter to return to conform to Null Object pattern but I was getting many errors and lost hours. The solution below seems to work seamlessly but I wonder what happens if ```@Bean``` method returns null? Is this safe?\r\n\r\n\r\n\r\n```\r\n   @Bean\r\n    WebFilter payloadFilter() {\r\n        if(log.isDebugEnabled()) {\r\n            return new PayloadFilter();\r\n        }else{\r\n            return null;\r\n        }\r\n    }\r\n```","title":"Returning null in Bean annotated method","body":"<p>I have a web filter that I only want to execute when debug level is enabled. I was trying to implement a dummy filter to return to conform to Null Object pattern but I was getting many errors and lost hours. The solution below seems to work seamlessly but I wonder what happens if <code>@Bean</code> method returns null? Is this safe?</p>\n<pre><code>   @Bean\n    WebFilter payloadFilter() {\n        if(log.isDebugEnabled()) {\n            return new PayloadFilter();\n        }else{\n            return null;\n        }\n    }\n</code></pre>\n"},{"tags":["java","json","web-services","jackson"],"comments":[{"owner":{"account_id":1270277,"reputation":12123,"user_id":1226744,"accept_rate":69,"display_name":"Leon"},"score":0,"creation_date":1397553729,"post_id":22346018,"comment_id":35272496,"body_markdown":"Why are you creating your json like that? Why not have model and then you can use the Jackson ObjectMapper to create your request data? Either way, it seems the the server is unhappy because you are sending an array","body":"Why are you creating your json like that? Why not have model and then you can use the Jackson ObjectMapper to create your request data? Either way, it seems the the server is unhappy because you are sending an array"},{"owner":{"account_id":2544346,"reputation":1944,"user_id":2209477,"accept_rate":78,"display_name":"J888"},"score":0,"creation_date":1397558316,"post_id":22346018,"comment_id":35275504,"body_markdown":"How to use ObjectMapper? I know how to parse XML response into object but got no idea about JSON, would you help.","body":"How to use ObjectMapper? I know how to parse XML response into object but got no idea about JSON, would you help."}],"answers":[{"tags":[],"owner":{"account_id":1270277,"reputation":12123,"user_id":1226744,"accept_rate":69,"display_name":"Leon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1397553844,"creation_date":1397553844,"answer_id":23079565,"question_id":22346018,"body_markdown":"The server error indicated that it does not expect an array of objects. Delete this code\r\n\r\n    JSONArray jsarray = new JSONArray();\r\n    jsarray.add(obj);\r\n","title":"Can not deserialize instance, out of START_ARRAY token","body":"<p>The server error indicated that it does not expect an array of objects. Delete this code</p>\n\n<pre><code>JSONArray jsarray = new JSONArray();\njsarray.add(obj);\n</code></pre>\n"}],"owner":{"account_id":2544346,"reputation":1944,"user_id":2209477,"accept_rate":78,"display_name":"J888"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8400,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1698923140,"creation_date":1394613513,"question_id":22346018,"body_markdown":"I need to send a post request to a webservice, but it returns following exception\r\n\r\n     java.io.IOException: Server returned HTTP response code: 500 for URL domain.com\r\n\r\nThe actual server response is as following :\r\n\r\n    &lt;html&gt;\r\n    &lt;head&gt;&lt;title&gt;500 Servlet Exception&lt;/title&gt;&lt;/head&gt;\r\n    &lt;body&gt;\r\n    &lt;h1&gt;500 Servlet Exception&lt;/h1&gt;\r\n    &lt;code&gt;&lt;pre&gt;\r\n    &lt;script language=&#39;javascript&#39; type=&#39;text/javascript&#39;&gt;\r\n    function show() { document.getElementById(&#39;trace&#39;).style.display = &#39;&#39;; }\r\n    &lt;/script&gt;\r\n    &lt;a style=&quot;text-decoration&quot; href=&quot;javascript:show();&quot;&gt;[show]&lt;/a&gt; org.codehaus.jackson.map.JsonMappingException: Can not deserialize instance\r\n    of com.domain.service.beans.spec.SearchSpec out of START_ARRAY token\r\n     at [Source: com.caucho.server.connection.ServletInputStreamImpl@7aafd4d3; line: 1, column: 1]\r\n    &lt;span id=&quot;trace&quot; style=&quot;display:none&quot;&gt;\r\n    org.codehaus.jackson.map.JsonMappingException: Can not deserialize instance\r\n    of com.domain.service.beans.spec.SearchSpec out of START_ARRAY token\r\n     at [Source: com.caucho.server.connection.ServletInputStreamImpl@7aafd4d3; line: 1, column: 1]\r\n    \tat org.codehaus.jackson.map.JsonMappingException.from(JsonMappingException.java:163)\r\n    \tat org.codehaus.jackson.map.deser.StdDeserializationContext.mappingException(StdDeserializationContext.java:219)\r\n    \tat org.codehaus.jackson.map.deser.StdDeserializationContext.mappingException(StdDeserializationContext.java:212)\r\n    \tat org.codehaus.jackson.map.deser.BeanDeserializer.deserializeFromArray(BeanDeserializer.java:875)\r\n    \tat org.codehaus.jackson.map.deser.BeanDeserializer.deserialize(BeanDeserializer.java:597)\r\n    \tat org.codehaus.jackson.map.ObjectMapper._readMapAndClose(ObjectMapper.java:2732)\r\n    \tat org.codehaus.jackson.map.ObjectMapper.readValue(ObjectMapper.java:1923)\r\n    \tat org.springframework.http.converter.json.MappingJacksonHttpMessageConverter.readInternal(MappingJacksonHttpMessageConverter.java:135)\r\n    \tat org.springframework.http.converter.AbstractHttpMessageConverter.read(AbstractHttpMessageConverter.java:154)\r\n    \tat org.springframework.web.bind.annotation.support.HandlerMethodInvoker.readWithMessageConverters(HandlerMethodInvoker.java:643)\r\n    \tat org.springframework.web.bind.annotation.support.HandlerMethodInvoker.resolveRequestBody(HandlerMethodInvoker.java:607)\r\n    \tat org.springframework.web.bind.annotation.support.HandlerMethodInvoker.resolveHandlerArguments(HandlerMethodInvoker.java:346)\r\n    \tat org.springframework.web.bind.annotation.support.HandlerMethodInvoker.invokeHandlerMethod(HandlerMethodInvoker.java:171)\r\n    \tat org.springframework.web.servlet.mvc.annotation.AnnotationMethodHandlerAdapter.invokeHandlerMethod(AnnotationMethodHandlerAdapter.java:427)\r\n    \tat org.springframework.web.servlet.mvc.annotation.AnnotationMethodHandlerAdapter.handle(AnnotationMethodHandlerAdapter.java:415)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:788)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:717)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:644)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:560)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:153)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:91)\r\n    \tat com.caucho.server.dispatch.ServletFilterChain.doFilter(ServletFilterChain.java:103)\r\n    \tat com.domain.service.filter.LoggingFilter.doFilter(LoggingFilter.java:91)\r\n    \tat com.caucho.server.dispatch.FilterFilterChain.doFilter(FilterFilterChain.java:87)\r\n    \tat com.caucho.server.webapp.WebAppFilterChain.doFilter(WebAppFilterChain.java:187)\r\n    \tat com.caucho.server.dispatch.ServletInvocation.service(ServletInvocation.java:265)\r\n    \tat com.caucho.server.hmux.HmuxRequest.handleRequest(HmuxRequest.java:436)\r\n    \tat com.caucho.server.port.TcpConnection.run(TcpConnection.java:682)\r\n    \tat com.caucho.util.ThreadPool$Item.runTasks(ThreadPool.java:743)\r\n    \tat com.caucho.util.ThreadPool$Item.run(ThreadPool.java:662)\r\n    \tat java.lang.Thread.run(Thread.java:662)\r\n    &lt;/span&gt;\r\n    &lt;/pre&gt;&lt;/code&gt;\r\n    &lt;/body&gt;&lt;/html&gt;\r\n\r\nI am sending the request based on following \r\n\r\n    Method: POST\r\n    This returns a list of products\r\n    Dates are optional.\r\n    Destination ID and currencyCode are required.\r\n    JSON Request Parameters\r\n    {\r\n    \r\n    &quot;startDate&quot;:&quot;2013-10-25&quot;, &quot;endDate&quot;:&quot;2013-10-27&quot;, &quot;topX&quot;:&quot;1-5&quot;, &quot;destId&quot;:684, &quot;currencyCode&quot;:&quot;EUR&quot;, &quot;catId&quot;:0,\r\n    &quot;subCatId&quot;:0, &quot;dealsOnly&quot;:false, &quot;sortOrder&quot;:&quot;PRICE_FROM_A&quot;\r\n    }\r\n    \r\n    so r t O r d e r\r\n    Valid sort orders:\r\n    TOP_SELLERS - The top sellers - default sortOrder \r\n    REVIEW_AVG_RATING_A - Traveler Rating (low-&gt;high) Average \r\n    REVIEW_AVG_RATING_D - Traveler Rating (high-&gt;low) Average \r\n    PRICE_FROM_A - Price (low-&gt;high)\r\n    PRICE_FROM_D - Price (high-&gt;low)\r\n    \r\n    topX\r\n    For returning results in particular positions. e.g. a value of 11-15 will return the results in position 11 to 15 based on the sort (total of 5 products). Useful for pagination.\r\n    \r\n    catId\r\n    Category id from the /service/taxonomy/categories\r\n    \r\n    subCatId\r\n    Sub Category id from the /service/taxonomy/categories\r\n    \r\n    dealsOnly\r\n    Applicable only when there is no startDate/endDate as it is a destionation search only feature. This API is used for obtaining lists of products for destination pages.\r\n\r\n\r\n**My Code**\r\n \r\n     public void Search() {\r\n    \r\n    \r\n            JSONObject obj = new JSONObject();\r\n            obj.put(&quot;startDate&quot;, &quot;2014-08-25&quot;);\r\n            obj.put(&quot;endDate&quot;, &quot;2014-08-25&quot;);\r\n            obj.put(&quot;topX&quot;, &quot;1-5&quot;);\r\n            obj.put(&quot;destId&quot;, 684);\r\n            obj.put(&quot;currencyCode&quot;, &quot;EUR&quot;);\r\n            obj.put(&quot;catId&quot;, 21);\r\n            obj.put(&quot;subCatId&quot;, 78);\r\n            obj.put(&quot;dealsOnly&quot;, false);\r\n            obj.put(&quot;sortOrder&quot;,&quot;PRICE_FROM_A&quot;);\r\n            \r\n            JSONArray jsarray = new JSONArray();\r\n            jsarray.add(obj);\r\n            putDataToServer(jsarray.toJSONString());\r\n    \r\n        }\r\n    \r\n        public void putDataToServer(String returnedJObject) {\r\n    \r\n    try{\r\n            java.lang.String contentToPost = returnedJObject;\r\n    \r\n            java.net.URLConnection connection = new java.net.URL(&quot;domain.com&quot;).openConnection();\r\n            \r\n            connection.setUseCaches(true);\r\n            connection.setDoInput(true);\r\n            connection.setDoOutput(true);\r\n            connection.setRequestProperty(&quot;Content-Length&quot;, &quot;&quot; + contentToPost.length());\r\n    \r\n            connection.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json&quot;);\r\n            connection.setRequestProperty(&quot;Cache-Control&quot;, &quot;no-cache&quot;);\r\n    \r\n            java.io.OutputStream stream = connection.getOutputStream();\r\n            stream.write(contentToPost.getBytes());\r\n            stream.close();\r\n            System.err.println(&quot;request is sent&quot;);\r\n    \r\n            BufferedReader br = new BufferedReader(new InputStreamReader(connection.getInputStream()));\r\n            System.err.println(br.readLine());\r\n            br.close();\r\n    \r\n        }catch(Exception e){\r\n                e.printStackTrace();\r\n                }\r\n        }\r\n\r\n","title":"Can not deserialize instance, out of START_ARRAY token","body":"<p>I need to send a post request to a webservice, but it returns following exception</p>\n\n<pre><code> java.io.IOException: Server returned HTTP response code: 500 for URL domain.com\n</code></pre>\n\n<p>The actual server response is as following :</p>\n\n<pre><code>&lt;html&gt;\n&lt;head&gt;&lt;title&gt;500 Servlet Exception&lt;/title&gt;&lt;/head&gt;\n&lt;body&gt;\n&lt;h1&gt;500 Servlet Exception&lt;/h1&gt;\n&lt;code&gt;&lt;pre&gt;\n&lt;script language='javascript' type='text/javascript'&gt;\nfunction show() { document.getElementById('trace').style.display = ''; }\n&lt;/script&gt;\n&lt;a style=\"text-decoration\" href=\"javascript:show();\"&gt;[show]&lt;/a&gt; org.codehaus.jackson.map.JsonMappingException: Can not deserialize instance\nof com.domain.service.beans.spec.SearchSpec out of START_ARRAY token\n at [Source: com.caucho.server.connection.ServletInputStreamImpl@7aafd4d3; line: 1, column: 1]\n&lt;span id=\"trace\" style=\"display:none\"&gt;\norg.codehaus.jackson.map.JsonMappingException: Can not deserialize instance\nof com.domain.service.beans.spec.SearchSpec out of START_ARRAY token\n at [Source: com.caucho.server.connection.ServletInputStreamImpl@7aafd4d3; line: 1, column: 1]\n    at org.codehaus.jackson.map.JsonMappingException.from(JsonMappingException.java:163)\n    at org.codehaus.jackson.map.deser.StdDeserializationContext.mappingException(StdDeserializationContext.java:219)\n    at org.codehaus.jackson.map.deser.StdDeserializationContext.mappingException(StdDeserializationContext.java:212)\n    at org.codehaus.jackson.map.deser.BeanDeserializer.deserializeFromArray(BeanDeserializer.java:875)\n    at org.codehaus.jackson.map.deser.BeanDeserializer.deserialize(BeanDeserializer.java:597)\n    at org.codehaus.jackson.map.ObjectMapper._readMapAndClose(ObjectMapper.java:2732)\n    at org.codehaus.jackson.map.ObjectMapper.readValue(ObjectMapper.java:1923)\n    at org.springframework.http.converter.json.MappingJacksonHttpMessageConverter.readInternal(MappingJacksonHttpMessageConverter.java:135)\n    at org.springframework.http.converter.AbstractHttpMessageConverter.read(AbstractHttpMessageConverter.java:154)\n    at org.springframework.web.bind.annotation.support.HandlerMethodInvoker.readWithMessageConverters(HandlerMethodInvoker.java:643)\n    at org.springframework.web.bind.annotation.support.HandlerMethodInvoker.resolveRequestBody(HandlerMethodInvoker.java:607)\n    at org.springframework.web.bind.annotation.support.HandlerMethodInvoker.resolveHandlerArguments(HandlerMethodInvoker.java:346)\n    at org.springframework.web.bind.annotation.support.HandlerMethodInvoker.invokeHandlerMethod(HandlerMethodInvoker.java:171)\n    at org.springframework.web.servlet.mvc.annotation.AnnotationMethodHandlerAdapter.invokeHandlerMethod(AnnotationMethodHandlerAdapter.java:427)\n    at org.springframework.web.servlet.mvc.annotation.AnnotationMethodHandlerAdapter.handle(AnnotationMethodHandlerAdapter.java:415)\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:788)\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:717)\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:644)\n    at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:560)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:153)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:91)\n    at com.caucho.server.dispatch.ServletFilterChain.doFilter(ServletFilterChain.java:103)\n    at com.domain.service.filter.LoggingFilter.doFilter(LoggingFilter.java:91)\n    at com.caucho.server.dispatch.FilterFilterChain.doFilter(FilterFilterChain.java:87)\n    at com.caucho.server.webapp.WebAppFilterChain.doFilter(WebAppFilterChain.java:187)\n    at com.caucho.server.dispatch.ServletInvocation.service(ServletInvocation.java:265)\n    at com.caucho.server.hmux.HmuxRequest.handleRequest(HmuxRequest.java:436)\n    at com.caucho.server.port.TcpConnection.run(TcpConnection.java:682)\n    at com.caucho.util.ThreadPool$Item.runTasks(ThreadPool.java:743)\n    at com.caucho.util.ThreadPool$Item.run(ThreadPool.java:662)\n    at java.lang.Thread.run(Thread.java:662)\n&lt;/span&gt;\n&lt;/pre&gt;&lt;/code&gt;\n&lt;/body&gt;&lt;/html&gt;\n</code></pre>\n\n<p>I am sending the request based on following </p>\n\n<pre><code>Method: POST\nThis returns a list of products\nDates are optional.\nDestination ID and currencyCode are required.\nJSON Request Parameters\n{\n\n\"startDate\":\"2013-10-25\", \"endDate\":\"2013-10-27\", \"topX\":\"1-5\", \"destId\":684, \"currencyCode\":\"EUR\", \"catId\":0,\n\"subCatId\":0, \"dealsOnly\":false, \"sortOrder\":\"PRICE_FROM_A\"\n}\n\nso r t O r d e r\nValid sort orders:\nTOP_SELLERS - The top sellers - default sortOrder \nREVIEW_AVG_RATING_A - Traveler Rating (low-&gt;high) Average \nREVIEW_AVG_RATING_D - Traveler Rating (high-&gt;low) Average \nPRICE_FROM_A - Price (low-&gt;high)\nPRICE_FROM_D - Price (high-&gt;low)\n\ntopX\nFor returning results in particular positions. e.g. a value of 11-15 will return the results in position 11 to 15 based on the sort (total of 5 products). Useful for pagination.\n\ncatId\nCategory id from the /service/taxonomy/categories\n\nsubCatId\nSub Category id from the /service/taxonomy/categories\n\ndealsOnly\nApplicable only when there is no startDate/endDate as it is a destionation search only feature. This API is used for obtaining lists of products for destination pages.\n</code></pre>\n\n<p><strong>My Code</strong></p>\n\n<pre><code> public void Search() {\n\n\n        JSONObject obj = new JSONObject();\n        obj.put(\"startDate\", \"2014-08-25\");\n        obj.put(\"endDate\", \"2014-08-25\");\n        obj.put(\"topX\", \"1-5\");\n        obj.put(\"destId\", 684);\n        obj.put(\"currencyCode\", \"EUR\");\n        obj.put(\"catId\", 21);\n        obj.put(\"subCatId\", 78);\n        obj.put(\"dealsOnly\", false);\n        obj.put(\"sortOrder\",\"PRICE_FROM_A\");\n\n        JSONArray jsarray = new JSONArray();\n        jsarray.add(obj);\n        putDataToServer(jsarray.toJSONString());\n\n    }\n\n    public void putDataToServer(String returnedJObject) {\n\ntry{\n        java.lang.String contentToPost = returnedJObject;\n\n        java.net.URLConnection connection = new java.net.URL(\"domain.com\").openConnection();\n\n        connection.setUseCaches(true);\n        connection.setDoInput(true);\n        connection.setDoOutput(true);\n        connection.setRequestProperty(\"Content-Length\", \"\" + contentToPost.length());\n\n        connection.setRequestProperty(\"Content-Type\", \"application/json\");\n        connection.setRequestProperty(\"Cache-Control\", \"no-cache\");\n\n        java.io.OutputStream stream = connection.getOutputStream();\n        stream.write(contentToPost.getBytes());\n        stream.close();\n        System.err.println(\"request is sent\");\n\n        BufferedReader br = new BufferedReader(new InputStreamReader(connection.getInputStream()));\n        System.err.println(br.readLine());\n        br.close();\n\n    }catch(Exception e){\n            e.printStackTrace();\n            }\n    }\n</code></pre>\n"},{"tags":["java","java-8","java-stream"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":2,"creation_date":1459527763,"post_id":36361156,"comment_id":60341868,"body_markdown":"I don&#39;t know exactly how you&#39;d do it with lambdas but we&#39;re using a generic compare method for that, i.e. it might be something like `(e1, e2) -&gt; compareNullable( e2.getCreateDt(), e1.getCreateDt())` in your case (you&#39;d have to provide the `compareNullable(T,T)` method somewhere).","body":"I don&#39;t know exactly how you&#39;d do it with lambdas but we&#39;re using a generic compare method for that, i.e. it might be something like <code>(e1, e2) -&gt; compareNullable( e2.getCreateDt(), e1.getCreateDt())</code> in your case (you&#39;d have to provide the <code>compareNullable(T,T)</code> method somewhere)."}],"answers":[{"tags":[],"owner":{"account_id":1888343,"reputation":176597,"user_id":1707091,"display_name":"rgettman"},"down_vote_count":4,"up_vote_count":31,"is_accepted":false,"score":27,"last_activity_date":1459527903,"creation_date":1459527903,"answer_id":36361261,"question_id":36361156,"body_markdown":"You can turn your own null-unsafe `Comparator` into an null-safe one by wrapping it [`Comparator.nullsLast`][1].  (There is a `Comparator.nullsFirst` also.)\r\n\r\n&gt; Returns a null-friendly comparator that considers `null` to be greater than non-null. When both are `null`, they are considered equal.  If both are non-null, the specified `Comparator` is used to determine the order.\r\n\r\n    .sorted(Comparator.nullsLast(\r\n         (e1, e2) -&gt; e2.getCreateDt().compareTo(e1.getCreateDt())))\r\n    .findFirst();\r\n\r\n[1]: https://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html#nullsLast-java.util.Comparator-","title":"Null safe date comparator for sorting in Java 8 Stream","body":"<p>You can turn your own null-unsafe <code>Comparator</code> into an null-safe one by wrapping it <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html#nullsLast-java.util.Comparator-\"><code>Comparator.nullsLast</code></a>.  (There is a <code>Comparator.nullsFirst</code> also.)</p>\n\n<blockquote>\n  <p>Returns a null-friendly comparator that considers <code>null</code> to be greater than non-null. When both are <code>null</code>, they are considered equal.  If both are non-null, the specified <code>Comparator</code> is used to determine the order.</p>\n</blockquote>\n\n<pre><code>.sorted(Comparator.nullsLast(\n     (e1, e2) -&gt; e2.getCreateDt().compareTo(e1.getCreateDt())))\n.findFirst();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4934454,"reputation":37277,"user_id":3973077,"accept_rate":77,"display_name":"Paul Boddington"},"down_vote_count":0,"up_vote_count":123,"is_accepted":true,"score":123,"last_activity_date":1459531594,"creation_date":1459528011,"answer_id":36361302,"question_id":36361156,"body_markdown":"If it&#39;s the `Item`s that may be null, use @rgettman&#39;s solution. \r\n\r\nIf it&#39;s the `LocalDate`s that may be null, use this:\r\n\r\n    items.stream()\r\n         .sorted(Comparator.comparing(Item::getCreateDt, Comparator.nullsLast(Comparator.reverseOrder())));\r\n\r\nIn either case, note that `sorted().findFirst()` is likely to be inefficient as most standard implementations sort the entire stream first. You should use [Stream.min][1] instead.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#min-java.util.Comparator-","title":"Null safe date comparator for sorting in Java 8 Stream","body":"<p>If it's the <code>Item</code>s that may be null, use @rgettman's solution. </p>\n\n<p>If it's the <code>LocalDate</code>s that may be null, use this:</p>\n\n<pre><code>items.stream()\n     .sorted(Comparator.comparing(Item::getCreateDt, Comparator.nullsLast(Comparator.reverseOrder())));\n</code></pre>\n\n<p>In either case, note that <code>sorted().findFirst()</code> is likely to be inefficient as most standard implementations sort the entire stream first. You should use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#min-java.util.Comparator-\">Stream.min</a> instead.</p>\n"}],"owner":{"account_id":6951625,"reputation":755,"user_id":5334088,"accept_rate":50,"display_name":"Andrew"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":117802,"favorite_count":0,"down_vote_count":0,"up_vote_count":75,"accepted_answer_id":36361302,"answer_count":2,"score":75,"last_activity_date":1698922916,"creation_date":1459527579,"question_id":36361156,"body_markdown":"I&#39;m using this code to get the newest item. How can I get this to be null safe and sort with null dates last (oldest)? \r\n\r\nNote: createDt is a joda LocalDate object.\r\n\r\n\tOptional&lt;Item&gt; latestItem = \r\n         items.stream()\r\n              .sorted((e1, e2) -&gt; e2.getCreateDt().compareTo(e1.getCreateDt()))\r\n              .findFirst();","title":"Null safe date comparator for sorting in Java 8 Stream","body":"<p>I'm using this code to get the newest item. How can I get this to be null safe and sort with null dates last (oldest)?</p>\n<p>Note: createDt is a joda LocalDate object.</p>\n<pre><code>Optional&lt;Item&gt; latestItem = \n     items.stream()\n          .sorted((e1, e2) -&gt; e2.getCreateDt().compareTo(e1.getCreateDt()))\n          .findFirst();\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":2574017,"reputation":4150,"user_id":2232127,"accept_rate":100,"display_name":"JensV"},"score":1,"creation_date":1698923762,"post_id":77409044,"comment_id":136467184,"body_markdown":"I don&#39;t really see a question here. What exactly are you asking?","body":"I don&#39;t really see a question here. What exactly are you asking?"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1698946228,"post_id":77409044,"comment_id":136471975,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":29400935,"reputation":1,"user_id":22527141,"display_name":"MoulauyGhiataoui"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698922890,"creation_date":1698922890,"question_id":77409044,"body_markdown":"[enter image description here](https://i.stack.imgur.com/QTo77.jpg)\r\nexample \r\n\r\nExample: I fetch the address alert dialog get system \r\nI bring the body\r\n\r\n\r\n\r\nRemember that not all system broadcasts can be intercepted or responded to in this way, and some broadcasts may require special permissions or system-level access. You should also be cautious with showing dialog boxes, as they can disrupt the user experience if overused. Ensure that your dialogs are informative and necessary.\r\n","title":"Eavesdropping on the alert dialog coming from the Android system java","body":"<p><a href=\"https://i.stack.imgur.com/QTo77.jpg\" rel=\"nofollow noreferrer\">enter image description here</a>\nexample</p>\n<p>Example: I fetch the address alert dialog get system\nI bring the body</p>\n<p>Remember that not all system broadcasts can be intercepted or responded to in this way, and some broadcasts may require special permissions or system-level access. You should also be cautious with showing dialog boxes, as they can disrupt the user experience if overused. Ensure that your dialogs are informative and necessary.</p>\n"},{"tags":["java","api-design"],"answers":[{"tags":[],"owner":{"account_id":11377012,"reputation":12762,"user_id":8340997,"display_name":"Anish B."},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1698921857,"creation_date":1698377585,"answer_id":77371369,"question_id":52475327,"body_markdown":"I will answer via the means of **SOLID** principles to make this easy for you.\r\n\r\nIf you think that `IService` is going to be modified every time when a new functionality/behaviour is introduced. So, in that case, you should avoid making the interface too big. \r\n\r\nInstead, you split them into separate interfaces based on the behaviour by following the **Interface Segregation Principle**.\r\n\r\n**Note:** Also, you are making sure that the class implements the required behaviour/methods from an interface only via this principle thereby, removing the overhead of providing a default implementation for an unused behaviour in the implementation class.\r\n\r\n\r\nThis will make sure that you are following **SOLID** principles correctly and a good **API** design too.\r\n\r\nYour code should look something like this:\r\n\r\n**IInitService:**\r\n\r\n    interface IinitService {\r\n        void init();\r\n    }\r\n\r\n**ICloseService:**\r\n\r\n    interface ICloseService {\r\n       void close();\r\n    }\r\n\r\n\r\n**IAddService:**\r\n\r\n    interface IAddService {\r\n       void add(AddArgs args);\r\n    } \r\n\r\n**IGetService:**\r\n\r\n    interface IGetService {\r\n       void get(GetArgs args);\r\n    } \r\n\r\n**IDeleteService:**\r\n\r\n    interface IDeleteService {\r\n       void delete(DeleteArgs args);\r\n    } \r\n\r\nNow, let&#39;s say you want to create class which will be responsible to provide `add` functionality only.\r\n\r\n    public class AddServiceImpl implements IAddService, IInitService, ICloseService {\r\n    \r\n         @Override\r\n         public void init() {\r\n            //.....\r\n         }\r\n    \r\n         @Override\r\n         public void add(AddArgs args) {\r\n            //.....\r\n         }\r\n    \r\n         @Override\r\n         public void close() {\r\n            //.....\r\n         }\r\n    \r\n    }\r\n\r\nThis is quite maintainable.\r\n\r\n","title":"How an SPI Should Evolve When Adding New Behavior","body":"<p>I will answer via the means of <strong>SOLID</strong> principles to make this easy for you.</p>\n<p>If you think that <code>IService</code> is going to be modified every time when a new functionality/behaviour is introduced. So, in that case, you should avoid making the interface too big.</p>\n<p>Instead, you split them into separate interfaces based on the behaviour by following the <strong>Interface Segregation Principle</strong>.</p>\n<p><strong>Note:</strong> Also, you are making sure that the class implements the required behaviour/methods from an interface only via this principle thereby, removing the overhead of providing a default implementation for an unused behaviour in the implementation class.</p>\n<p>This will make sure that you are following <strong>SOLID</strong> principles correctly and a good <strong>API</strong> design too.</p>\n<p>Your code should look something like this:</p>\n<p><strong>IInitService:</strong></p>\n<pre><code>interface IinitService {\n    void init();\n}\n</code></pre>\n<p><strong>ICloseService:</strong></p>\n<pre><code>interface ICloseService {\n   void close();\n}\n</code></pre>\n<p><strong>IAddService:</strong></p>\n<pre><code>interface IAddService {\n   void add(AddArgs args);\n} \n</code></pre>\n<p><strong>IGetService:</strong></p>\n<pre><code>interface IGetService {\n   void get(GetArgs args);\n} \n</code></pre>\n<p><strong>IDeleteService:</strong></p>\n<pre><code>interface IDeleteService {\n   void delete(DeleteArgs args);\n} \n</code></pre>\n<p>Now, let's say you want to create class which will be responsible to provide <code>add</code> functionality only.</p>\n<pre><code>public class AddServiceImpl implements IAddService, IInitService, ICloseService {\n\n     @Override\n     public void init() {\n        //.....\n     }\n\n     @Override\n     public void add(AddArgs args) {\n        //.....\n     }\n\n     @Override\n     public void close() {\n        //.....\n     }\n\n}\n</code></pre>\n<p>This is quite maintainable.</p>\n"},{"tags":[],"owner":{"account_id":3211603,"reputation":289287,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1698849534,"creation_date":1698849534,"answer_id":77403428,"question_id":52475327,"body_markdown":"Since Java&#160;8, there are `default` methods, so you can add methods to interfaces without breaking existing code, e.g.\r\n\r\n```java\r\ninterface IService {\r\n    void init();\r\n    void add(AddArgs args);\r\n    void get(GetArgs args);\r\n    void close();\r\n    default boolean supportsDelete() {\r\n        return false;\r\n    }\r\n    void delete(DeleteArgs args) {\r\n        throw new UnsupportedOperationException();\r\n    }\r\n}\r\n```\r\n\r\nAs a general rule, if there’s an operation that can fail due to not being supported in general, there should be a way to check whether the operation is supported without the need to actually try the operation. (The Collection API violates this principle)\r\n\r\nImplementations must care to implement both methods.\r\n\r\nAlternatively, you could generalize the concept of optional operations:\r\n\r\n```java\r\nenum Operation {\r\n  ADD, GET, DELETE\r\n}\r\n\r\ninterface IService {\r\n    void init();\r\n    void add(AddArgs args);\r\n    void get(GetArgs args);\r\n    void close();\r\n    default Set&lt;Operation&gt; supportedOperations() {\r\n        return EnumSet.of(ADD, GET); // fallback for old implementors\r\n    }\r\n    void delete(DeleteArgs args) {\r\n        throw new UnsupportedOperationException();\r\n    }\r\n}\r\n```\r\n\r\nwhich is expandable to even more new operations.\r\n\r\nBy the way, when your service has a `close()` method, you should consider extending [`AutoCloseable`].\r\n\r\n\r\n\r\n[`AutoCloseable`]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/AutoCloseable.html","title":"How an SPI Should Evolve When Adding New Behavior","body":"<p>Since Java 8, there are <code>default</code> methods, so you can add methods to interfaces without breaking existing code, e.g.</p>\n<pre class=\"lang-java prettyprint-override\"><code>interface IService {\n    void init();\n    void add(AddArgs args);\n    void get(GetArgs args);\n    void close();\n    default boolean supportsDelete() {\n        return false;\n    }\n    void delete(DeleteArgs args) {\n        throw new UnsupportedOperationException();\n    }\n}\n</code></pre>\n<p>As a general rule, if there’s an operation that can fail due to not being supported in general, there should be a way to check whether the operation is supported without the need to actually try the operation. (The Collection API violates this principle)</p>\n<p>Implementations must care to implement both methods.</p>\n<p>Alternatively, you could generalize the concept of optional operations:</p>\n<pre class=\"lang-java prettyprint-override\"><code>enum Operation {\n  ADD, GET, DELETE\n}\n\ninterface IService {\n    void init();\n    void add(AddArgs args);\n    void get(GetArgs args);\n    void close();\n    default Set&lt;Operation&gt; supportedOperations() {\n        return EnumSet.of(ADD, GET); // fallback for old implementors\n    }\n    void delete(DeleteArgs args) {\n        throw new UnsupportedOperationException();\n    }\n}\n</code></pre>\n<p>which is expandable to even more new operations.</p>\n<p>By the way, when your service has a <code>close()</code> method, you should consider extending <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/AutoCloseable.html\" rel=\"nofollow noreferrer\"><code>AutoCloseable</code></a>.</p>\n"}],"owner":{"account_id":9185362,"reputation":155,"user_id":6870246,"accept_rate":56,"display_name":"user640853"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":142,"favorite_count":0,"down_vote_count":2,"up_vote_count":4,"answer_count":2,"score":2,"last_activity_date":1698921857,"creation_date":1537777777,"question_id":52475327,"body_markdown":"This is an SPI design question. I currently have the following Interface: \r\n\r\n    interface IService {\r\n        void init();\r\n        void add(AddArgs args);\r\n        void get(GetArgs args);\r\n        void close();\r\n    }\r\n\r\nAnd now there&#39;s a new behavior that should be added: `void delete(DeleteArgs args)`\r\n\r\n\r\nSo my question is: how to introduce this functionality? Is it a new separate interface? Or should it be extending the one above? \r\n\r\nIn other words, this (1): \r\n\r\n    interface IDeletableService {\r\n       void delete(DeleteArgs args)\r\n    }\r\n\r\nversus (2): \r\n\r\n    interface IDeletableService extends IService {\r\n       void delete(DeleteArgs args)\r\n    }\r\n\r\nOr is there a new design that I&#39;m not aware of. \r\n\r\nPlease note that &quot;ideally&quot; a deletableService is &quot;currently&quot; a Service. But this shouldn&#39;t mean that the second choice (2) is preferred. I&#39;m rather asking about a good API design that is maintainable. \r\n","title":"How an SPI Should Evolve When Adding New Behavior","body":"<p>This is an SPI design question. I currently have the following Interface: </p>\n\n<pre><code>interface IService {\n    void init();\n    void add(AddArgs args);\n    void get(GetArgs args);\n    void close();\n}\n</code></pre>\n\n<p>And now there's a new behavior that should be added: <code>void delete(DeleteArgs args)</code></p>\n\n<p>So my question is: how to introduce this functionality? Is it a new separate interface? Or should it be extending the one above? </p>\n\n<p>In other words, this (1): </p>\n\n<pre><code>interface IDeletableService {\n   void delete(DeleteArgs args)\n}\n</code></pre>\n\n<p>versus (2): </p>\n\n<pre><code>interface IDeletableService extends IService {\n   void delete(DeleteArgs args)\n}\n</code></pre>\n\n<p>Or is there a new design that I'm not aware of. </p>\n\n<p>Please note that \"ideally\" a deletableService is \"currently\" a Service. But this shouldn't mean that the second choice (2) is preferred. I'm rather asking about a good API design that is maintainable. </p>\n"},{"tags":["java","gradle","intellij-idea"],"comments":[{"owner":{"account_id":987285,"reputation":17009,"user_id":1005481,"accept_rate":89,"display_name":"barfuin"},"score":0,"creation_date":1571388982,"post_id":58447285,"comment_id":103232742,"body_markdown":"Well, you will really have to upgrade Gradle to a newer version, e.g. Gradle 5.6.3.","body":"Well, you will really have to upgrade Gradle to a newer version, e.g. Gradle 5.6.3."},{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1571388986,"post_id":58447285,"comment_id":103232744,"body_markdown":"Newer Gradle or older Java?","body":"Newer Gradle or older Java?"},{"owner":{"account_id":987285,"reputation":17009,"user_id":1005481,"accept_rate":89,"display_name":"barfuin"},"score":0,"creation_date":1571389019,"post_id":58447285,"comment_id":103232757,"body_markdown":"Will have to be newer Gradle, because IntelliJ will not run with that old a Java. Unless you use old IntelliJ also ;-)","body":"Will have to be newer Gradle, because IntelliJ will not run with that old a Java. Unless you use old IntelliJ also ;-)"},{"owner":{"account_id":5483053,"reputation":406,"user_id":4358787,"display_name":"Gaurav"},"score":0,"creation_date":1601676648,"post_id":58447285,"comment_id":113490026,"body_markdown":"Click on upgrade gradle link in Intellij error and select Use gradle from - &#39;wrapper task in gradle build script&#39;! Works!","body":"Click on upgrade gradle link in Intellij error and select Use gradle from - &#39;wrapper task in gradle build script&#39;! Works!"}],"answers":[{"tags":[],"owner":{"account_id":2576749,"reputation":2384,"user_id":2234250,"accept_rate":65,"display_name":"Tung Vo"},"down_vote_count":0,"up_vote_count":19,"is_accepted":true,"score":19,"last_activity_date":1583376963,"creation_date":1571626678,"answer_id":58479237,"question_id":58447285,"body_markdown":"I have found a solution for this. On Intellij press Ctrl+shift+a -&gt; Switch Boot JDK -&gt;choose JDK version \r\n[![enter image description here][1]][1]\r\n\r\n\r\nAnother solution is use Intellij Utimate Edition. Choose file/Setting and configure Gradle and Java version[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/OrnsK.png\r\n  [2]: https://i.stack.imgur.com/K61yJ.png","title":"The project uses Gradle 2.12 which is incompatible with IDEA running on Java 10 or newer","body":"<p>I have found a solution for this. On Intellij press Ctrl+shift+a -> Switch Boot JDK ->choose JDK version \n<a href=\"https://i.stack.imgur.com/OrnsK.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/OrnsK.png\" alt=\"enter image description here\"></a></p>\n\n<p>Another solution is use Intellij Utimate Edition. Choose file/Setting and configure Gradle and Java version<a href=\"https://i.stack.imgur.com/K61yJ.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/K61yJ.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":4591468,"reputation":1026,"user_id":3724636,"display_name":"Ravinda Lakshan"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1580361969,"creation_date":1580361969,"answer_id":59979597,"question_id":58447285,"body_markdown":"In case if you didn&#39;t find switch boot JDK option in IDEA you can use  \r\n&quot;choose runtime&quot; plugin.\r\n\r\n[https://www.jetbrains.com/help/idea/switching-boot-jdk.html][1]\r\n\r\n\r\nif you want it in action, try &lt;kbd&gt;Ctrl&lt;/kbd&gt; + &lt;kbd&gt;shift&lt;/kbd&gt; + &lt;kbd&gt;A&lt;/kbd&gt; \r\nthen type choose runtime , in the dialog choose run time select the runtime you want. \r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://www.jetbrains.com/help/idea/switching-boot-jdk.html\r\n  [2]: https://i.stack.imgur.com/Vcwd9.png","title":"The project uses Gradle 2.12 which is incompatible with IDEA running on Java 10 or newer","body":"<p>In case if you didn't find switch boot JDK option in IDEA you can use<br>\n\"choose runtime\" plugin.</p>\n\n<p><a href=\"https://www.jetbrains.com/help/idea/switching-boot-jdk.html\" rel=\"noreferrer\">https://www.jetbrains.com/help/idea/switching-boot-jdk.html</a></p>\n\n<p>if you want it in action, try <kbd>Ctrl</kbd> + <kbd>shift</kbd> + <kbd>A</kbd> \nthen type choose runtime , in the dialog choose run time select the runtime you want. </p>\n\n<p><a href=\"https://i.stack.imgur.com/Vcwd9.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/Vcwd9.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":2072188,"reputation":1601,"user_id":1846395,"accept_rate":33,"display_name":"dubace"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1587423114,"creation_date":1587423114,"answer_id":61333363,"question_id":58447285,"body_markdown":"JetBrains promised to fix in version 2020.1.1 : \r\nhttps://youtrack.jetbrains.com/issue/IDEA-237220","title":"The project uses Gradle 2.12 which is incompatible with IDEA running on Java 10 or newer","body":"<p>JetBrains promised to fix in version 2020.1.1 : \n<a href=\"https://youtrack.jetbrains.com/issue/IDEA-237220\" rel=\"nofollow noreferrer\">https://youtrack.jetbrains.com/issue/IDEA-237220</a></p>\n"},{"tags":[],"owner":{"account_id":9471208,"reputation":153,"user_id":7042004,"display_name":"Rajat Goel"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1610967077,"creation_date":1610967077,"answer_id":65773090,"question_id":58447285,"body_markdown":"On Intellij press Ctrl+shift+a -&gt; Choose Runtime -&gt;choose JDK version\r\n\r\nIf you don&#39;t see the option, then download and install &quot;Choose Runtime&quot;(https://plugins.jetbrains.com/plugin/12836-choose-runtime) from Marketplace\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/FFw8Y.png","title":"The project uses Gradle 2.12 which is incompatible with IDEA running on Java 10 or newer","body":"<p>On Intellij press Ctrl+shift+a -&gt; Choose Runtime -&gt;choose JDK version</p>\n<p>If you don't see the option, then download and install &quot;Choose Runtime&quot;(<a href=\"https://plugins.jetbrains.com/plugin/12836-choose-runtime\" rel=\"noreferrer\">https://plugins.jetbrains.com/plugin/12836-choose-runtime</a>) from Marketplace\n<a href=\"https://i.stack.imgur.com/FFw8Y.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/FFw8Y.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":29809894,"reputation":1,"user_id":22845575,"display_name":"Wuhuyoung"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698921798,"creation_date":1698921798,"answer_id":77408929,"question_id":58447285,"body_markdown":"If IDEA still uses Java10 and above after startup, it is probably because IDEA comes with a higher version of Java. Solution: Rename the jbr directory in the IDEA installation directory.","title":"The project uses Gradle 2.12 which is incompatible with IDEA running on Java 10 or newer","body":"<p>If IDEA still uses Java10 and above after startup, it is probably because IDEA comes with a higher version of Java. Solution: Rename the jbr directory in the IDEA installation directory.</p>\n"}],"owner":{"account_id":2576749,"reputation":2384,"user_id":2234250,"accept_rate":65,"display_name":"Tung Vo"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51096,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":58479237,"answer_count":5,"score":13,"last_activity_date":1698921798,"creation_date":1571388821,"question_id":58447285,"body_markdown":"When i import my Gradle Java project with `Intellij Idea` i get error\r\n\r\n    The project uses Gradle 2.12 which is incompatible with IDEA running on Java 10 or newer.\r\n\r\nMy Intellij Idea version is\r\n\r\n    IntelliJ IDEA 2019.2 (Community Edition)\r\n    Build #IC-192.5728.98, built on July 23, 2019\r\n    Runtime version: 1.8.0_211-b12 amd64\r\n    VM: Java HotSpot(TM) 64-Bit Server VM by Oracle Corporation\r\n    Linux 4.15.0-20-generic\r\n    GC: ParNew, ConcurrentMarkSweep\r\n    Memory: 1956M\r\n    Cores: 4\r\n    Registry: git.explicit.commit.renames.prohibit.multiple.calls=false\r\n    Non-Bundled Plugins: \r\n\r\nHow to fix this issue?","title":"The project uses Gradle 2.12 which is incompatible with IDEA running on Java 10 or newer","body":"<p>When i import my Gradle Java project with <code>Intellij Idea</code> i get error</p>\n\n<pre><code>The project uses Gradle 2.12 which is incompatible with IDEA running on Java 10 or newer.\n</code></pre>\n\n<p>My Intellij Idea version is</p>\n\n<pre><code>IntelliJ IDEA 2019.2 (Community Edition)\nBuild #IC-192.5728.98, built on July 23, 2019\nRuntime version: 1.8.0_211-b12 amd64\nVM: Java HotSpot(TM) 64-Bit Server VM by Oracle Corporation\nLinux 4.15.0-20-generic\nGC: ParNew, ConcurrentMarkSweep\nMemory: 1956M\nCores: 4\nRegistry: git.explicit.commit.renames.prohibit.multiple.calls=false\nNon-Bundled Plugins: \n</code></pre>\n\n<p>How to fix this issue?</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":112317,"reputation":93929,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1698921204,"post_id":77408787,"comment_id":136466726,"body_markdown":"Why using &quot;system&quot; scope? Install that dependency in your repository manager or install it locallaly and use as a usual dependency....","body":"Why using &quot;system&quot; scope? Install that dependency in your repository manager or install it locallaly and use as a usual dependency...."},{"owner":{"account_id":112317,"reputation":93929,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1698921605,"post_id":77408787,"comment_id":136466814,"body_markdown":"If the dependency system scoped has other dependencies you have to provide an approriate pom file which contains the information about dependencies... etc.","body":"If the dependency system scoped has other dependencies you have to provide an approriate pom file which contains the information about dependencies... etc."},{"owner":{"account_id":130610,"reputation":10655,"user_id":329993,"accept_rate":84,"display_name":"moonlightcheese"},"score":0,"creation_date":1698928097,"post_id":77408787,"comment_id":136467993,"body_markdown":"@khmarbaise I want the jar to be in `${project.basedir}/lib/` so it can be included in the Git commit along with the rest of the project.  This library is only available in .jar file form and isn&#39;t available from mavencentral.","body":"@khmarbaise I want the jar to be in <code>${project.basedir}&#47;lib&#47;</code> so it can be included in the Git commit along with the rest of the project.  This library is only available in .jar file form and isn&#39;t available from mavencentral."},{"owner":{"account_id":112317,"reputation":93929,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1699220116,"post_id":77408787,"comment_id":136500981,"body_markdown":"What you might can create is a jar-with-dependencies or creating via maven-shade-plugin ... apart from that committing a jar into git is a bad idea in particular for reusing... Central is not always an option I know, but you might offer your own repository manager which provides that for customers...(if it shouldn&#39;t be public)...","body":"What you might can create is a jar-with-dependencies or creating via maven-shade-plugin ... apart from that committing a jar into git is a bad idea in particular for reusing... Central is not always an option I know, but you might offer your own repository manager which provides that for customers...(if it shouldn&#39;t be public)..."}],"answers":[{"tags":[],"owner":{"account_id":1096470,"reputation":26056,"user_id":1089967,"accept_rate":59,"display_name":"lance-java"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698921700,"creation_date":1698921332,"answer_id":77408871,"question_id":77408787,"body_markdown":"For a normal dependency, maven has access to\r\n- The pom which points to any child dependencies\r\n- The jar file with the binary class files\r\n\r\nThere&#39;s also other artifacts such as\r\n- Javadocs\r\n- Sources\r\n- Checksums\r\n\r\nEg: See the artifacts available for the `spring-core` dependency [here](https://repo1.maven.org/maven2/org/springframework/spring-core/6.0.13/)\r\n\r\nWhen you have a dependency from a `&lt;systemPath&gt;` maven does not have access to the pom or any of the other artifacts. It only has a reference to the the jar so cannot import any child dependencies.","title":"Maven system scope causes other dependencies to be ignored","body":"<p>For a normal dependency, maven has access to</p>\n<ul>\n<li>The pom which points to any child dependencies</li>\n<li>The jar file with the binary class files</li>\n</ul>\n<p>There's also other artifacts such as</p>\n<ul>\n<li>Javadocs</li>\n<li>Sources</li>\n<li>Checksums</li>\n</ul>\n<p>Eg: See the artifacts available for the <code>spring-core</code> dependency <a href=\"https://repo1.maven.org/maven2/org/springframework/spring-core/6.0.13/\" rel=\"nofollow noreferrer\">here</a></p>\n<p>When you have a dependency from a <code>&lt;systemPath&gt;</code> maven does not have access to the pom or any of the other artifacts. It only has a reference to the the jar so cannot import any child dependencies.</p>\n"}],"owner":{"account_id":130610,"reputation":10655,"user_id":329993,"accept_rate":84,"display_name":"moonlightcheese"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1698921700,"creation_date":1698920621,"question_id":77408787,"body_markdown":"I altered my pom.xml file to add a system scoped dependency to a common library which I use as a dependency in multiple projects.  Before adding the system scope dependency, I was able to compile and install the common library and all of it&#39;s dependencies would be available in projects which included the common library as a dependency.  After adding the system scope dependency, none of the common library&#39;s other dependencies were available within sub-projects.\r\n\r\ncommon library pom.xml:\r\n```lang-xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;com.conceptualsystems&lt;/groupId&gt;\r\n    &lt;artifactId&gt;common&lt;/artifactId&gt;\r\n    &lt;version&gt;3.3&lt;/version&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;8&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;8&lt;/maven.compiler.target&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.mail&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mail&lt;/artifactId&gt;\r\n            &lt;version&gt;1.5.0-b01&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/org.junit.jupiter/junit-jupiter-api --&gt;\r\n&lt;!--        &lt;dependency&gt;--&gt;\r\n&lt;!--            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;--&gt;\r\n&lt;!--            &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;--&gt;\r\n&lt;!--            &lt;version&gt;5.9.3&lt;/version&gt;--&gt;\r\n&lt;!--            &lt;scope&gt;test&lt;/scope&gt;--&gt;\r\n&lt;!--        &lt;/dependency&gt;--&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.ini4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;ini4j&lt;/artifactId&gt;\r\n            &lt;version&gt;0.5.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.6&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.json&lt;/groupId&gt;\r\n            &lt;artifactId&gt;json&lt;/artifactId&gt;\r\n            &lt;version&gt;20180813&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.pdfbox&lt;/groupId&gt;\r\n            &lt;artifactId&gt;pdfbox&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.19&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\r\n            &lt;artifactId&gt;html2pdf&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.mail&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mail&lt;/artifactId&gt;\r\n            &lt;version&gt;1.5.0-b01&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n            &lt;artifactId&gt;httpcore&lt;/artifactId&gt;\r\n            &lt;version&gt;4.1.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n            &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\r\n            &lt;version&gt;4.1.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n            &lt;artifactId&gt;httpmime&lt;/artifactId&gt;\r\n            &lt;version&gt;4.1.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;commons-net&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-net&lt;/artifactId&gt;\r\n            &lt;version&gt;3.8.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;gnu.io&lt;/groupId&gt;\r\n            &lt;artifactId&gt;rxtx&lt;/artifactId&gt;\r\n            &lt;version&gt;2.2pre2&lt;/version&gt;\r\n            &lt;scope&gt;system&lt;/scope&gt;\r\n            &lt;systemPath&gt;${project.basedir}/lib/RXTXcomm.jar&lt;/systemPath&gt;\r\n    &lt;/dependencies&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nProjects which depend on this library should have all of its dependencies available to it.  If I remove the `gnu.io.rxtx` dependency at the end, the other dependencies are available in subprojects.  Why would the behavior change so eratically simply by including a .jar dependency from a local directory?\r\n\r\nDesired behavior: Keep original behavior and include new dependency in addition to other dependencies to be available in dependent projects.","title":"Maven system scope causes other dependencies to be ignored","body":"<p>I altered my pom.xml file to add a system scoped dependency to a common library which I use as a dependency in multiple projects.  Before adding the system scope dependency, I was able to compile and install the common library and all of it's dependencies would be available in projects which included the common library as a dependency.  After adding the system scope dependency, none of the common library's other dependencies were available within sub-projects.</p>\n<p>common library pom.xml:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.conceptualsystems&lt;/groupId&gt;\n    &lt;artifactId&gt;common&lt;/artifactId&gt;\n    &lt;version&gt;3.3&lt;/version&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;8&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;8&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.mail&lt;/groupId&gt;\n            &lt;artifactId&gt;mail&lt;/artifactId&gt;\n            &lt;version&gt;1.5.0-b01&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.junit.jupiter/junit-jupiter-api --&gt;\n&lt;!--        &lt;dependency&gt;--&gt;\n&lt;!--            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;--&gt;\n&lt;!--            &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;--&gt;\n&lt;!--            &lt;version&gt;5.9.3&lt;/version&gt;--&gt;\n&lt;!--            &lt;scope&gt;test&lt;/scope&gt;--&gt;\n&lt;!--        &lt;/dependency&gt;--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.ini4j&lt;/groupId&gt;\n            &lt;artifactId&gt;ini4j&lt;/artifactId&gt;\n            &lt;version&gt;0.5.4&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n            &lt;version&gt;2.0.6&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.json&lt;/groupId&gt;\n            &lt;artifactId&gt;json&lt;/artifactId&gt;\n            &lt;version&gt;20180813&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.pdfbox&lt;/groupId&gt;\n            &lt;artifactId&gt;pdfbox&lt;/artifactId&gt;\n            &lt;version&gt;2.0.19&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\n            &lt;artifactId&gt;html2pdf&lt;/artifactId&gt;\n            &lt;version&gt;3.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.mail&lt;/groupId&gt;\n            &lt;artifactId&gt;mail&lt;/artifactId&gt;\n            &lt;version&gt;1.5.0-b01&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n            &lt;artifactId&gt;httpcore&lt;/artifactId&gt;\n            &lt;version&gt;4.1.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n            &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\n            &lt;version&gt;4.1.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n            &lt;artifactId&gt;httpmime&lt;/artifactId&gt;\n            &lt;version&gt;4.1.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-net&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-net&lt;/artifactId&gt;\n            &lt;version&gt;3.8.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;gnu.io&lt;/groupId&gt;\n            &lt;artifactId&gt;rxtx&lt;/artifactId&gt;\n            &lt;version&gt;2.2pre2&lt;/version&gt;\n            &lt;scope&gt;system&lt;/scope&gt;\n            &lt;systemPath&gt;${project.basedir}/lib/RXTXcomm.jar&lt;/systemPath&gt;\n    &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n<p>Projects which depend on this library should have all of its dependencies available to it.  If I remove the <code>gnu.io.rxtx</code> dependency at the end, the other dependencies are available in subprojects.  Why would the behavior change so eratically simply by including a .jar dependency from a local directory?</p>\n<p>Desired behavior: Keep original behavior and include new dependency in addition to other dependencies to be available in dependent projects.</p>\n"},{"tags":["java","wildfly","message-queue","activemq-artemis"],"comments":[{"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1698890240,"post_id":77404064,"comment_id":136463057,"body_markdown":"What version of WildFly are you using?","body":"What version of WildFly are you using?"},{"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1698890288,"post_id":77404064,"comment_id":136463064,"body_markdown":"What do you consider to be &quot;the appropriate amount&quot; of connections between WildFly and ActiveMQ Artemis?","body":"What do you consider to be &quot;the appropriate amount&quot; of connections between WildFly and ActiveMQ Artemis?"},{"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1698890709,"post_id":77404064,"comment_id":136463095,"body_markdown":"Are you familiar with the `singleConnection` activation configuration property that will create all the sessions on a single connection rather than having 1 connection per session? That may be helpful for your use-case.","body":"Are you familiar with the <code>singleConnection</code> activation configuration property that will create all the sessions on a single connection rather than having 1 connection per session? That may be helpful for your use-case."},{"owner":{"account_id":17292944,"reputation":5,"user_id":12524189,"display_name":"canEE"},"score":0,"creation_date":1698915251,"post_id":77404064,"comment_id":136465640,"body_markdown":"@JustinBertram - This application is an Wildfly 16 application. I consider the appropriate amount of active consumers/connections to ActiveMQ to be the number of actual working consumers in my application. Not familiar with singleConnetion, will take a look.","body":"@JustinBertram - This application is an Wildfly 16 application. I consider the appropriate amount of active consumers/connections to ActiveMQ to be the number of actual working consumers in my application. Not familiar with singleConnetion, will take a look."},{"owner":{"account_id":1491171,"reputation":3291,"user_id":1398228,"display_name":"ehsavoie"},"score":0,"creation_date":1698920371,"post_id":77404064,"comment_id":136466570,"body_markdown":"singleConnection won&#39;t work in WildFly 16 though","body":"singleConnection won&#39;t work in WildFly 16 though"},{"owner":{"account_id":17292944,"reputation":5,"user_id":12524189,"display_name":"canEE"},"score":0,"creation_date":1698921524,"post_id":77404064,"comment_id":136466796,"body_markdown":"@ehsavoie I have yet to read up on singleConnection, however, even if my examples use poolsize 1 and maxSession 1, that is not the real scenario. We are looking for a way to e.g. scale from 10 to 20 &quot;threads&quot; at runtime. That is possible having maxSession at 20 and keeping the poolsize at 10, and scaling the poolsize at runtime, but that will create unnecessary connections between Wildfly and ActiveMQ, so it feels hacky and wrong.","body":"@ehsavoie I have yet to read up on singleConnection, however, even if my examples use poolsize 1 and maxSession 1, that is not the real scenario. We are looking for a way to e.g. scale from 10 to 20 &quot;threads&quot; at runtime. That is possible having maxSession at 20 and keeping the poolsize at 10, and scaling the poolsize at runtime, but that will create unnecessary connections between Wildfly and ActiveMQ, so it feels hacky and wrong."},{"owner":{"account_id":1491171,"reputation":3291,"user_id":1398228,"display_name":"ehsavoie"},"score":0,"creation_date":1698928983,"post_id":77404064,"comment_id":136468188,"body_markdown":"iirc the minimum between the maxSession and the pool size for the MDBs will be used","body":"iirc the minimum between the maxSession and the pool size for the MDBs will be used"}],"owner":{"account_id":17292944,"reputation":5,"user_id":12524189,"display_name":"canEE"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698921613,"creation_date":1698855094,"question_id":77404064,"body_markdown":"Let&#39;s assume I have a Wildfly pool, `my-pool`, configured in the Wildfly standalone:\r\n```xml\r\n&lt;strict-max-pool name=&quot;my-pool&quot; max-pool-size=&quot;1&quot; instance-acquisition-timeout=&quot;5&quot; instance-acquisition-timeout-unit=&quot;MINUTES&quot;/&gt;\r\n```\r\n\r\nI configure a `MessageListener` MDB to be a part of this pool, where `maxSession` is 1:\r\n```java\r\n@ResourceAdapter(&quot;remote-artemis&quot;)\r\n@MessageDriven(name = &quot;MyMDB&quot;, activationConfig = {\r\n        @ActivationConfigProperty(propertyName = &quot;destinationLookup&quot;, propertyValue = &quot;a_queue&quot;),\r\n        @ActivationConfigProperty(propertyName = &quot;destinationType&quot;, propertyValue = &quot;javax.jms.Queue&quot;),\r\n        @ActivationConfigProperty(propertyName = &quot;acknowledgeMode&quot;, propertyValue = &quot;Auto-acknowledge&quot;),\r\n        @ActivationConfigProperty(propertyName = &quot;maxSession&quot;, propertyValue = &quot;1&quot;)\r\n})\r\n@TransactionManagement(TransactionManagementType.CONTAINER)\r\n@TransactionAttribute(TransactionAttributeType.NOT_SUPPORTED)\r\n@Pool(value = &quot;my-pool&quot;)\r\npublic class MyMDB implements MessageListener { ... }\r\n```\r\n\r\nIf I need to increase the value of maxSession on my MDB I would have to *at least* restart my application. Overall this solution does not seem very scalable. *(Know that the maxSession propertyValue can be configured as a system-property in Wildfly, but this would still require a restart of the application.)*\r\n\r\nIf I instead keep my maxSession on a higher value, or the default 15. I can adjust the poolsize in the Wildfly Management GUI at runtime. This seems more scalable, but comes with some downsides:\r\n\r\n - Need one pool for each MDB\r\n - 15 consumers/connections/sessions will created between the Wildfly and ActiveMQ for each MDB, even if the poolsize is set to a lower value.\r\n\r\n**What are the suggested way to configure your Wildfly pools and MDB&#39;s maxSession, where I can still adjust the values at runtime, and only have the appropriate amount of connections between Wildfly and ActiveMQ?**","title":"How to configure Wildfly poolsize and MDB&#39;s maxSession while keeping it scalable at runtime?","body":"<p>Let's assume I have a Wildfly pool, <code>my-pool</code>, configured in the Wildfly standalone:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;strict-max-pool name=&quot;my-pool&quot; max-pool-size=&quot;1&quot; instance-acquisition-timeout=&quot;5&quot; instance-acquisition-timeout-unit=&quot;MINUTES&quot;/&gt;\n</code></pre>\n<p>I configure a <code>MessageListener</code> MDB to be a part of this pool, where <code>maxSession</code> is 1:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ResourceAdapter(&quot;remote-artemis&quot;)\n@MessageDriven(name = &quot;MyMDB&quot;, activationConfig = {\n        @ActivationConfigProperty(propertyName = &quot;destinationLookup&quot;, propertyValue = &quot;a_queue&quot;),\n        @ActivationConfigProperty(propertyName = &quot;destinationType&quot;, propertyValue = &quot;javax.jms.Queue&quot;),\n        @ActivationConfigProperty(propertyName = &quot;acknowledgeMode&quot;, propertyValue = &quot;Auto-acknowledge&quot;),\n        @ActivationConfigProperty(propertyName = &quot;maxSession&quot;, propertyValue = &quot;1&quot;)\n})\n@TransactionManagement(TransactionManagementType.CONTAINER)\n@TransactionAttribute(TransactionAttributeType.NOT_SUPPORTED)\n@Pool(value = &quot;my-pool&quot;)\npublic class MyMDB implements MessageListener { ... }\n</code></pre>\n<p>If I need to increase the value of maxSession on my MDB I would have to <em>at least</em> restart my application. Overall this solution does not seem very scalable. <em>(Know that the maxSession propertyValue can be configured as a system-property in Wildfly, but this would still require a restart of the application.)</em></p>\n<p>If I instead keep my maxSession on a higher value, or the default 15. I can adjust the poolsize in the Wildfly Management GUI at runtime. This seems more scalable, but comes with some downsides:</p>\n<ul>\n<li>Need one pool for each MDB</li>\n<li>15 consumers/connections/sessions will created between the Wildfly and ActiveMQ for each MDB, even if the poolsize is set to a lower value.</li>\n</ul>\n<p><strong>What are the suggested way to configure your Wildfly pools and MDB's maxSession, where I can still adjust the values at runtime, and only have the appropriate amount of connections between Wildfly and ActiveMQ?</strong></p>\n"},{"tags":["java","spring"],"owner":{"account_id":9224441,"reputation":2843,"user_id":6852684,"display_name":"RazvanParautiu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698921542,"creation_date":1698921542,"question_id":77408900,"body_markdown":"We have a gateway service in front of some microservices.\r\n\r\nOn the gateway we have a secrity filter which is handling every request before routing it the resource-service by sending the request to a security-service which authorize the request. Basically we have some cookies with access token and refresh token which are send to security-service.\r\n\r\nAlso on the security-service we are checking the access token and refresh token and if the access token expired then a new one is generated. \r\n\r\nThe problem is, when a new access token was generated we have to send it back to browser in order to replace the expired one. \r\n\r\nSo my question is, can be implemented the following flow on spring gateway?\r\n\r\n1. Intercept the request by SecurityGatewayFilter\r\n2. Security servce authorize the request and also generate a new access token which is send back via cookies to gateway.\r\n3. Keep the new access token on filters chain\r\n4. Routing to resource-service\r\n5. On some post gateway filter add on the response the new access token and let the browser the replace the expired one.\r\n ","title":"Spring gateway add cookies on response header without sending to proxied service","body":"<p>We have a gateway service in front of some microservices.</p>\n<p>On the gateway we have a secrity filter which is handling every request before routing it the resource-service by sending the request to a security-service which authorize the request. Basically we have some cookies with access token and refresh token which are send to security-service.</p>\n<p>Also on the security-service we are checking the access token and refresh token and if the access token expired then a new one is generated.</p>\n<p>The problem is, when a new access token was generated we have to send it back to browser in order to replace the expired one.</p>\n<p>So my question is, can be implemented the following flow on spring gateway?</p>\n<ol>\n<li>Intercept the request by SecurityGatewayFilter</li>\n<li>Security servce authorize the request and also generate a new access token which is send back via cookies to gateway.</li>\n<li>Keep the new access token on filters chain</li>\n<li>Routing to resource-service</li>\n<li>On some post gateway filter add on the response the new access token and let the browser the replace the expired one.</li>\n</ol>\n"},{"tags":["java","arraylist","data-structures","graph","collections"],"owner":{"account_id":11318936,"reputation":39,"user_id":15056828,"display_name":"Sree Teja"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1698921552,"answer_count":0,"score":0,"last_activity_date":1698921444,"creation_date":1698921444,"question_id":77408887,"body_markdown":"I have implemented Graph Data structure using Collections Framework as Adjacency List implementation in Java. I&#39;m not able to add an edge using `addEdge` method defined below. Im getting ArrayList as null. Please help me resolve this issue. Here is my `UndirectedGraph` class:\r\n\r\n```\r\nimport java.util.*;\r\n\r\npublic class UndirectedGraph {\r\n    private Map&lt;Vertex, List&lt;Vertex&gt;&gt; adjList;\r\n    public UndirectedGraph() {\r\n        adjList = new HashMap&lt;&gt;();\r\n    }\r\n\r\n    public Map&lt;Vertex, List&lt;Vertex&gt;&gt; getAdjList() {\r\n        return adjList;\r\n    }\r\n\r\n    public List&lt;Vertex&gt; getAdjVertices(int node){\r\n        return adjList.get(new Vertex(node));\r\n    }\r\n\r\n    public void addVertex(int node){\r\n        List&lt;Vertex&gt; l = new ArrayList&lt;&gt;();\r\n        Vertex n = new Vertex(node);\r\n        adjList.putIfAbsent(n, l);\r\n    }\r\n\r\n    public void removeVertex(int node){\r\n        Vertex v = new Vertex(node);\r\n        adjList.values().forEach(e -&gt; e.remove(v));\r\n        adjList.remove(v);\r\n    }\r\n\r\n    public void addEdge(int x, int y){\r\n        Vertex v1 = new Vertex(x);\r\n        Vertex v2 = new Vertex(y);\r\n        List&lt;Vertex&gt; l1 = adjList.get(v1);  // Error here\r\n        List&lt;Vertex&gt; l2 = adjList.get(v2);\r\n        l1.add(v2); // Error here\r\n        l2.add(v1);\r\n    }\r\n\r\n    public void removeEdge(int x, int y){\r\n        Vertex v1 = new Vertex(x);\r\n        Vertex v2 = new Vertex(y);\r\n        List&lt;Vertex&gt; l1 = adjList.get(v1);\r\n        List&lt;Vertex&gt; l2 = adjList.get(v2);\r\n        if(l1 != null) l1.remove(v2);\r\n        if(l2 != null) l2.remove(v1);\r\n    }\r\n}\r\n\r\n\r\n```\r\n\r\nHere is my main method call to the graph:\r\n\r\n```\r\nUndirectedGraph G = new UndirectedGraph();\r\nG.addVertex(1);\r\nG.addVertex(2);\r\nG.addVertex(3);\r\nG.addVertex(4);\r\nG.addVertex(5);\r\nG.addEdge(1, 2);\r\nG.addEdge(1, 4);\r\nG.addEdge(1, 3);\r\nG.addEdge(1, 5);\r\nG.addEdge(2, 4);\r\nG.addEdge(3, 4);\r\nG.addEdge(4, 5);\r\nSystem.out.println(G.getAdjList());\r\n```\r\nError I get is:\r\n[![Error](https://i.stack.imgur.com/9y5KY.png)](https://i.stack.imgur.com/9y5KY.png)\r\n\r\nI tried running the main method, which is used to construct the graph. But not able to add the edge, precisely not able to add vertex into ArrayList.","title":"Error adding elements into ArrayList after intialization","body":"<p>I have implemented Graph Data structure using Collections Framework as Adjacency List implementation in Java. I'm not able to add an edge using <code>addEdge</code> method defined below. Im getting ArrayList as null. Please help me resolve this issue. Here is my <code>UndirectedGraph</code> class:</p>\n<pre><code>import java.util.*;\n\npublic class UndirectedGraph {\n    private Map&lt;Vertex, List&lt;Vertex&gt;&gt; adjList;\n    public UndirectedGraph() {\n        adjList = new HashMap&lt;&gt;();\n    }\n\n    public Map&lt;Vertex, List&lt;Vertex&gt;&gt; getAdjList() {\n        return adjList;\n    }\n\n    public List&lt;Vertex&gt; getAdjVertices(int node){\n        return adjList.get(new Vertex(node));\n    }\n\n    public void addVertex(int node){\n        List&lt;Vertex&gt; l = new ArrayList&lt;&gt;();\n        Vertex n = new Vertex(node);\n        adjList.putIfAbsent(n, l);\n    }\n\n    public void removeVertex(int node){\n        Vertex v = new Vertex(node);\n        adjList.values().forEach(e -&gt; e.remove(v));\n        adjList.remove(v);\n    }\n\n    public void addEdge(int x, int y){\n        Vertex v1 = new Vertex(x);\n        Vertex v2 = new Vertex(y);\n        List&lt;Vertex&gt; l1 = adjList.get(v1);  // Error here\n        List&lt;Vertex&gt; l2 = adjList.get(v2);\n        l1.add(v2); // Error here\n        l2.add(v1);\n    }\n\n    public void removeEdge(int x, int y){\n        Vertex v1 = new Vertex(x);\n        Vertex v2 = new Vertex(y);\n        List&lt;Vertex&gt; l1 = adjList.get(v1);\n        List&lt;Vertex&gt; l2 = adjList.get(v2);\n        if(l1 != null) l1.remove(v2);\n        if(l2 != null) l2.remove(v1);\n    }\n}\n\n\n</code></pre>\n<p>Here is my main method call to the graph:</p>\n<pre><code>UndirectedGraph G = new UndirectedGraph();\nG.addVertex(1);\nG.addVertex(2);\nG.addVertex(3);\nG.addVertex(4);\nG.addVertex(5);\nG.addEdge(1, 2);\nG.addEdge(1, 4);\nG.addEdge(1, 3);\nG.addEdge(1, 5);\nG.addEdge(2, 4);\nG.addEdge(3, 4);\nG.addEdge(4, 5);\nSystem.out.println(G.getAdjList());\n</code></pre>\n<p>Error I get is:\n<a href=\"https://i.stack.imgur.com/9y5KY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9y5KY.png\" alt=\"Error\" /></a></p>\n<p>I tried running the main method, which is used to construct the graph. But not able to add the edge, precisely not able to add vertex into ArrayList.</p>\n"},{"tags":["java","spring","unit-testing","mockito"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1698921573,"post_id":77408881,"comment_id":136466807,"body_markdown":"1 uses plain mockito and odesn&#39;t require a spring context, the second requires a spring context and spring to be in control. The first is faster then he second.","body":"1 uses plain mockito and odesn&#39;t require a spring context, the second requires a spring context and spring to be in control. The first is faster then he second."},{"owner":{"account_id":28794993,"reputation":39,"user_id":22053378,"display_name":"work-in-progress"},"score":0,"creation_date":1698925057,"post_id":77408881,"comment_id":136467418,"body_markdown":"ok, i know that, but why in some exemples on the net, we find some [@InjectMocks+@Mocks] usage when the parent class to be tested is a Spring managed class ?","body":"ok, i know that, but why in some exemples on the net, we find some [@InjectMocks+@Mocks] usage when the parent class to be tested is a Spring managed class ?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1698926502,"post_id":77408881,"comment_id":136467685,"body_markdown":"The fact that something uses Spring doesn&#39;t mean you need to use it for testing if you want to test only the service. That would be overkill and slow down your tests.","body":"The fact that something uses Spring doesn&#39;t mean you need to use it for testing if you want to test only the service. That would be overkill and slow down your tests."},{"owner":{"account_id":28794993,"reputation":39,"user_id":22053378,"display_name":"work-in-progress"},"score":0,"creation_date":1698928716,"post_id":77408881,"comment_id":136468124,"body_markdown":"it&#39;s absolutly clear.","body":"it&#39;s absolutly clear."}],"owner":{"account_id":28794993,"reputation":39,"user_id":22053378,"display_name":"work-in-progress"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698921377,"creation_date":1698921377,"question_id":77408881,"body_markdown":"sometimes, we have this kind of configuration, as class depedency : \r\n\r\n    @Service    \r\n    public class StudentService {\r\n\r\n    private PenService pen;\r\n\r\n    public StudentService(PenService pen) {\r\n        this.pen = pen;\r\n    }\r\n\r\n}\r\n\r\nand Test class configured as : \r\n\r\n    public class test {\r\n\r\n    @InjectMocks\r\n    StudentService student;\r\n\r\n    @Mock\r\n    PenService pen;\r\n\r\n    @Test\r\n    public void someTest() {\r\n        // some code\r\n    }\r\n\r\n}\r\n\r\nquestion is : \r\nwhy NOT use this kind of configuration, with Spring annotations ?\r\n\r\n    public class test {\r\n    \r\n        @Resource\r\n        StudentService student;\r\n    \r\n        @MockBean\r\n        PenService pen;\r\n    \r\n        @Test\r\n        public void someTest() {\r\n            // some code\r\n        }\r\n    \r\n    }\r\n\r\nit seems to be more logical ?\r\nIn a Spring initialization context, what is the difference between : \r\n[@InjectMocks+@Mocks] combo and [@Resource+@MockBean] combo ?\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"why @InjectMocks with a Spring bean and not use the combo @Resource+@MockBean","body":"<p>sometimes, we have this kind of configuration, as class depedency :</p>\n<pre><code>@Service    \npublic class StudentService {\n\nprivate PenService pen;\n\npublic StudentService(PenService pen) {\n    this.pen = pen;\n}\n</code></pre>\n<p>}</p>\n<p>and Test class configured as :</p>\n<pre><code>public class test {\n\n@InjectMocks\nStudentService student;\n\n@Mock\nPenService pen;\n\n@Test\npublic void someTest() {\n    // some code\n}\n</code></pre>\n<p>}</p>\n<p>question is :\nwhy NOT use this kind of configuration, with Spring annotations ?</p>\n<pre><code>public class test {\n\n    @Resource\n    StudentService student;\n\n    @MockBean\n    PenService pen;\n\n    @Test\n    public void someTest() {\n        // some code\n    }\n\n}\n</code></pre>\n<p>it seems to be more logical ?\nIn a Spring initialization context, what is the difference between :\n[@InjectMocks+@Mocks] combo and [@Resource+@MockBean] combo ?</p>\n"},{"tags":["java","android","android-studio","httpurlconnection"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1698922309,"post_id":77408870,"comment_id":136466955,"body_markdown":"`urlConnection.setDoInput(true);` What do you mean by that?","body":"<code>urlConnection.setDoInput(true);</code> What do you mean by that?"},{"owner":{"account_id":29809599,"reputation":1,"user_id":22845351,"display_name":"Nik"},"score":0,"creation_date":1698923591,"post_id":77408870,"comment_id":136467159,"body_markdown":"Well I tried to add it according to https://stackoverflow.com/questions/29558759/what-is-the-use-of-httpurlconnection-classs-setdooutput-setdoinput-methods \nIt&#39;s working even without urlConnection.setConnectTimeout(15000);\n            urlConnection.setReadTimeout(10000);\n            urlConnection.setRequestMethod(&quot;GET&quot;);\n            urlConnection.setDoInput(true);\n            urlConnection.connect();\nbut I add it to try, is there any diference.","body":"Well I tried to add it according to <a href=\"https://stackoverflow.com/questions/29558759/what-is-the-use-of-httpurlconnection-classs-setdooutput-setdoinput-methods\" title=\"what is the use of httpurlconnection classs setdooutput setdoinput methods\">stackoverflow.com/questions/29558759/&hellip;</a>  It&#39;s working even without urlConnection.setConnectTimeout(15000);             urlConnection.setReadTimeout(10000);             urlConnection.setRequestMethod(&quot;GET&quot;);             urlConnection.setDoInput(true);             urlConnection.connect(); but I add it to try, is there any diference."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1698928555,"post_id":77408870,"comment_id":136468082,"body_markdown":"`It&#39;s working even without` Well then nice. All solved.","body":"<code>It&#39;s working even without</code> Well then nice. All solved."},{"owner":{"account_id":71739,"reputation":307143,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1698938514,"post_id":77408870,"comment_id":136470360,"body_markdown":"The answer you link says it’s on by default. So what’s the point of you setting it?","body":"The answer you link says it’s on by default. So what’s the point of you setting it?"},{"owner":{"account_id":29809599,"reputation":1,"user_id":22845351,"display_name":"Nik"},"score":0,"creation_date":1698960232,"post_id":77408870,"comment_id":136474367,"body_markdown":"As I answered earlier, yes it&#39;s working without that line but I tried to see if it&#39;s make any difference. Anyway, code is working in debug as it is, in release not working...","body":"As I answered earlier, yes it&#39;s working without that line but I tried to see if it&#39;s make any difference. Anyway, code is working in debug as it is, in release not working..."}],"owner":{"account_id":29809599,"reputation":1,"user_id":22845351,"display_name":"Nik"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698921320,"creation_date":1698921320,"question_id":77408870,"body_markdown":"I&#39;m trying to get String from Web API. String is a list of file names, separate with new line and fill List&lt;String&gt; with those line strings. The method is working in debug mode on emulator, works in debugging on smart phone but when I generate release sign APK and install it on phone it doesn&#39;t work. It just hit catch block with exception message=null, response code =0, response message=&quot;&quot;, value of getconnectTimeout() and error log is writing:\r\n\r\n\r\n```\r\n02-11-2023 10:55:38 CET\r\nnull 0  15000\r\n_____________________________________________\r\n```\r\n\r\nAny ideas or suggestions?\r\n\r\n```\r\npublic class MbtilesFileNamesFromServer  {\r\n\r\n    private String url;\r\n\r\n    public MbtilesFileNamesFromServer(String url) {\r\n        this.url = url;\r\n    }\r\n\r\n    protected List&lt;String&gt; GetFileNames() {\r\n        HttpURLConnection urlConnection = null;\r\n\r\n        List&lt;String&gt; fileNamesArray = new ArrayList&lt;&gt;();\r\n        int code = 0;\r\n        String response=&quot;&quot;;\r\n        try {\r\n            URL url = new URL(this.url);\r\n\r\n            urlConnection = (HttpURLConnection) url.openConnection();\r\n            urlConnection.setConnectTimeout(15000);\r\n            urlConnection.setReadTimeout(10000);\r\n            urlConnection.setRequestMethod(&quot;GET&quot;);\r\n            urlConnection.setDoInput(true);\r\n            urlConnection.connect();\r\n            code = urlConnection.getResponseCode();\r\n            response=urlConnection.getResponseMessage();\r\n\r\n            if (code == 200) {\r\n                InputStream in = new BufferedInputStream(urlConnection.getInputStream());\r\n                if (in != null) {\r\n                    BufferedReader bufferedReader = new BufferedReader(new InputStreamReader(in));\r\n                    String line = &quot;&quot;;\r\n\r\n                    while ((line = bufferedReader.readLine()) != null)\r\n                        fileNamesArray.add(line);\r\n\r\n                }\r\n                in.close();\r\n            }\r\n            return fileNamesArray;\r\n\r\n        } catch (Exception e) {\r\n\r\n\r\n            AppendErrLog(e.getMessage() + &quot; &quot; + String.valueOf(code) +&quot; &quot;+response+&quot; &quot;+ String.valueOf(urlConnection.getConnectTimeout()));\r\n            urlConnection.disconnect();\r\n        } finally {\r\n            urlConnection.disconnect();\r\n        }\r\n        return fileNamesArray;\r\n    }\r\n```\r\n","title":"Android HttpUrlConnection not working in release","body":"<p>I'm trying to get String from Web API. String is a list of file names, separate with new line and fill List with those line strings. The method is working in debug mode on emulator, works in debugging on smart phone but when I generate release sign APK and install it on phone it doesn't work. It just hit catch block with exception message=null, response code =0, response message=&quot;&quot;, value of getconnectTimeout() and error log is writing:</p>\n<pre><code>02-11-2023 10:55:38 CET\nnull 0  15000\n_____________________________________________\n</code></pre>\n<p>Any ideas or suggestions?</p>\n<pre><code>public class MbtilesFileNamesFromServer  {\n\n    private String url;\n\n    public MbtilesFileNamesFromServer(String url) {\n        this.url = url;\n    }\n\n    protected List&lt;String&gt; GetFileNames() {\n        HttpURLConnection urlConnection = null;\n\n        List&lt;String&gt; fileNamesArray = new ArrayList&lt;&gt;();\n        int code = 0;\n        String response=&quot;&quot;;\n        try {\n            URL url = new URL(this.url);\n\n            urlConnection = (HttpURLConnection) url.openConnection();\n            urlConnection.setConnectTimeout(15000);\n            urlConnection.setReadTimeout(10000);\n            urlConnection.setRequestMethod(&quot;GET&quot;);\n            urlConnection.setDoInput(true);\n            urlConnection.connect();\n            code = urlConnection.getResponseCode();\n            response=urlConnection.getResponseMessage();\n\n            if (code == 200) {\n                InputStream in = new BufferedInputStream(urlConnection.getInputStream());\n                if (in != null) {\n                    BufferedReader bufferedReader = new BufferedReader(new InputStreamReader(in));\n                    String line = &quot;&quot;;\n\n                    while ((line = bufferedReader.readLine()) != null)\n                        fileNamesArray.add(line);\n\n                }\n                in.close();\n            }\n            return fileNamesArray;\n\n        } catch (Exception e) {\n\n\n            AppendErrLog(e.getMessage() + &quot; &quot; + String.valueOf(code) +&quot; &quot;+response+&quot; &quot;+ String.valueOf(urlConnection.getConnectTimeout()));\n            urlConnection.disconnect();\n        } finally {\n            urlConnection.disconnect();\n        }\n        return fileNamesArray;\n    }\n</code></pre>\n"},{"tags":["java","vba","outlook"],"comments":[{"owner":{"account_id":131793,"reputation":64005,"user_id":332059,"accept_rate":57,"display_name":"Dmitry Streblechenko"},"score":0,"creation_date":1698940998,"post_id":77408864,"comment_id":136470893,"body_markdown":"If you already have Outlook, why not send through Outlook? And if you use Outlook as a template editor (what format do you save the items in Outlook?), why not simply take HTML files no matter where they were produced in?","body":"If you already have Outlook, why not send through Outlook? And if you use Outlook as a template editor (what format do you save the items in Outlook?), why not simply take HTML files no matter where they were produced in?"},{"owner":{"account_id":1694854,"reputation":8897,"user_id":1571407,"display_name":"niton"},"score":0,"creation_date":1699289704,"post_id":77408864,"comment_id":136510143,"body_markdown":"See [replacing placeholders in html template](https://stackoverflow.com/questions/63567445/vba-replacing-all-placeholders-in-outlook-html-template-with-userform-textbox-an), [Edit placeholders in Template](https://stackoverflow.com/questions/61693768/edit-placeholders-in-outlook-template-file-oft), [Send email from template](https://stackoverflow.com/questions/50270493/send-pre-written-email-from-template-with-recipients-name-in-body-of-text) and [Replace multiple values in Outlook mail htmlbody](https://stackoverflow.com/questions/59503752/replace-multiple-values-in-outlook-mail-htmlbody).","body":"See <a href=\"https://stackoverflow.com/questions/63567445/vba-replacing-all-placeholders-in-outlook-html-template-with-userform-textbox-an\">replacing placeholders in html template</a>, <a href=\"https://stackoverflow.com/questions/61693768/edit-placeholders-in-outlook-template-file-oft\">Edit placeholders in Template</a>, <a href=\"https://stackoverflow.com/questions/50270493/send-pre-written-email-from-template-with-recipients-name-in-body-of-text\">Send email from template</a> and <a href=\"https://stackoverflow.com/questions/59503752/replace-multiple-values-in-outlook-mail-htmlbody\">Replace multiple values in Outlook mail htmlbody</a>."}],"owner":{"account_id":14195569,"reputation":805,"user_id":10254976,"display_name":"Самир Шахмурадлы"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698921248,"creation_date":1698921248,"question_id":77408864,"body_markdown":"How to create and manage multiple fillable email templates with data insertion fields in Microsoft Outlook for dynamic sending via SMTP from my Java service?\r\n\r\nI have a Java service that sends email via SMTP. I need to efficiently create and manage multiple email templates in Outlook, each of which contains fields for inserting data. Can these templates include HTML markup, and how can they be dynamically populated with data?","title":"Outlook Templates and the way to work with them dynamically","body":"<p>How to create and manage multiple fillable email templates with data insertion fields in Microsoft Outlook for dynamic sending via SMTP from my Java service?</p>\n<p>I have a Java service that sends email via SMTP. I need to efficiently create and manage multiple email templates in Outlook, each of which contains fields for inserting data. Can these templates include HTML markup, and how can they be dynamically populated with data?</p>\n"},{"tags":["java","android","onbackpressed"],"comments":[{"owner":{"account_id":23647963,"reputation":237,"user_id":17677301,"display_name":"M&#227;Ĵď"},"score":0,"creation_date":1698918561,"post_id":77408440,"comment_id":136466242,"body_markdown":"When the activity is terminated is there any errors?.","body":"When the activity is terminated is there any errors?."},{"owner":{"account_id":17571005,"reputation":160,"user_id":12746725,"display_name":"Alejandro Gomez"},"score":0,"creation_date":1698919059,"post_id":77408440,"comment_id":136466323,"body_markdown":"no, no errors were shown","body":"no, no errors were shown"},{"owner":{"account_id":23647963,"reputation":237,"user_id":17677301,"display_name":"M&#227;Ĵď"},"score":0,"creation_date":1698919628,"post_id":77408440,"comment_id":136466422,"body_markdown":"okay, what you are trying to do is when the user press the back button you want to show a alert dialog to confirm that action. right ?","body":"okay, what you are trying to do is when the user press the back button you want to show a alert dialog to confirm that action. right ?"},{"owner":{"account_id":17571005,"reputation":160,"user_id":12746725,"display_name":"Alejandro Gomez"},"score":0,"creation_date":1698920065,"post_id":77408440,"comment_id":136466507,"body_markdown":"yes, thats what should happen and worked on the old way","body":"yes, thats what should happen and worked on the old way"},{"owner":{"account_id":23647963,"reputation":237,"user_id":17677301,"display_name":"M&#227;Ĵď"},"score":0,"creation_date":1698920369,"post_id":77408440,"comment_id":136466569,"body_markdown":"try to have the alert dialog implemented inside the handleOnBackPressed()","body":"try to have the alert dialog implemented inside the handleOnBackPressed()"},{"owner":{"account_id":17571005,"reputation":160,"user_id":12746725,"display_name":"Alejandro Gomez"},"score":0,"creation_date":1698920587,"post_id":77408440,"comment_id":136466609,"body_markdown":"I find, that handleOnBackPressed() is not called...but the activity is shut down","body":"I find, that handleOnBackPressed() is not called...but the activity is shut down"},{"owner":{"account_id":23647963,"reputation":237,"user_id":17677301,"display_name":"M&#227;Ĵď"},"score":0,"creation_date":1698920644,"post_id":77408440,"comment_id":136466621,"body_markdown":"Please expand on is not called","body":"Please expand on is not called"}],"answers":[{"tags":[],"owner":{"account_id":23647963,"reputation":237,"user_id":17677301,"display_name":"M&#227;Ĵď"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1698920477,"creation_date":1698920477,"answer_id":77408767,"question_id":77408440,"body_markdown":"Following on my comment above. this is one way to do it.\r\n\r\n \r\n       OnBackPressedCallback onBackPressedCallback = new OnBackPressedCallback(true) {\r\n            @Override\r\n            public void handleOnBackPressed() {\r\n                // Create an AlertDialog to confirm the action\r\n                new AlertDialog.Builder(YourActivity.this)\r\n                    .setTitle(&quot;Confirm Action&quot;)\r\n                    .setMessage(&quot;Are you sure you want to go back?&quot;)\r\n                    .setPositiveButton(&quot;Yes&quot;, new DialogInterface.OnClickListener() {\r\n                        @Override\r\n                        public void onClick(DialogInterface dialog, int which) {\r\n                            // Perform the desired action when the user confirms\r\n                            // For example, you can call super.onBackPressed() to go back\r\n                            super.onBackPressed();\r\n                        }\r\n                    })\r\n                    .setNegativeButton(&quot;No&quot;, new DialogInterface.OnClickListener() {\r\n                        @Override\r\n                        public void onClick(DialogInterface dialog, int which) {\r\n                            // Do nothing or handle the cancel action here\r\n                        }\r\n                    })\r\n                    .show();\r\n            }\r\n        };\r\n\r\n        // Add the callback to the back stack\r\n        getOnBackPressedDispatcher().addCallback(this, onBackPressedCallback);\r\n    }","title":"OnBackPressedCallback not called - Activitiy is terminated immediately","body":"<p>Following on my comment above. this is one way to do it.</p>\n<pre><code>   OnBackPressedCallback onBackPressedCallback = new OnBackPressedCallback(true) {\n        @Override\n        public void handleOnBackPressed() {\n            // Create an AlertDialog to confirm the action\n            new AlertDialog.Builder(YourActivity.this)\n                .setTitle(&quot;Confirm Action&quot;)\n                .setMessage(&quot;Are you sure you want to go back?&quot;)\n                .setPositiveButton(&quot;Yes&quot;, new DialogInterface.OnClickListener() {\n                    @Override\n                    public void onClick(DialogInterface dialog, int which) {\n                        // Perform the desired action when the user confirms\n                        // For example, you can call super.onBackPressed() to go back\n                        super.onBackPressed();\n                    }\n                })\n                .setNegativeButton(&quot;No&quot;, new DialogInterface.OnClickListener() {\n                    @Override\n                    public void onClick(DialogInterface dialog, int which) {\n                        // Do nothing or handle the cancel action here\n                    }\n                })\n                .show();\n        }\n    };\n\n    // Add the callback to the back stack\n    getOnBackPressedDispatcher().addCallback(this, onBackPressedCallback);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4283273,"reputation":12073,"user_id":3501958,"accept_rate":89,"display_name":"hata"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1698921164,"creation_date":1698921164,"answer_id":77408858,"question_id":77408440,"body_markdown":"You create a new `OnBackPressedDispatcher` but you must use the Activity&#39;s  `OnBackPressedDispatcher` and add your callback to it:\r\n\r\n    //onBackPressedDispatcher = new OnBackPressedDispatcher();\r\n    onBackPressedDispatcher = getOnBackPressedDispatcher();\r\n\r\n    onBackPressedDispatcher.addCallback(this, onBackPressedCallback);\r\n","title":"OnBackPressedCallback not called - Activitiy is terminated immediately","body":"<p>You create a new <code>OnBackPressedDispatcher</code> but you must use the Activity's  <code>OnBackPressedDispatcher</code> and add your callback to it:</p>\n<pre><code>//onBackPressedDispatcher = new OnBackPressedDispatcher();\nonBackPressedDispatcher = getOnBackPressedDispatcher();\n\nonBackPressedDispatcher.addCallback(this, onBackPressedCallback);\n</code></pre>\n"}],"owner":{"account_id":17571005,"reputation":160,"user_id":12746725,"display_name":"Alejandro Gomez"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":77408858,"answer_count":2,"score":2,"last_activity_date":1698921164,"creation_date":1698917824,"question_id":77408440,"body_markdown":"**Hello,**\r\n\r\nadding `OnBackPressedDispatcher` and `OnBackPressedCallback` in my MainActivity cause `onBackPressed`was deprecated.\r\n\r\n**old usage:**\r\n\r\n       @Override\r\n    public void onBackPressed() {\r\n        //Display alert message when back button has been pressed\r\n        alertDialogShow();\r\n    }\r\n\r\n**New usage:** \r\nput it in my initialize listener call in `MainActivity` `onCreate()` - initListeners()\r\n\r\n        onBackPressedCallback = new OnBackPressedCallback(true) {\r\n            @Override\r\n            public void handleOnBackPressed() {\r\n                //Display alert message when back button has been pressed\r\n                alertDialogShow();\r\n            }\r\n        };\r\n\r\n        onBackPressedDispatcher = new OnBackPressedDispatcher();\r\n        onBackPressedDispatcher.addCallback(this,onBackPressedCallback);\r\n\r\nbut the method alterDialogShow() is never called and the activity is terminated immediately.\r\nHow can I solve this.\r\n\r\nThanks,\r\nAlejandro\r\n","title":"OnBackPressedCallback not called - Activitiy is terminated immediately","body":"<p><strong>Hello,</strong></p>\n<p>adding <code>OnBackPressedDispatcher</code> and <code>OnBackPressedCallback</code> in my MainActivity cause <code>onBackPressed</code>was deprecated.</p>\n<p><strong>old usage:</strong></p>\n<pre><code>   @Override\npublic void onBackPressed() {\n    //Display alert message when back button has been pressed\n    alertDialogShow();\n}\n</code></pre>\n<p><strong>New usage:</strong>\nput it in my initialize listener call in <code>MainActivity</code> <code>onCreate()</code> - initListeners()</p>\n<pre><code>    onBackPressedCallback = new OnBackPressedCallback(true) {\n        @Override\n        public void handleOnBackPressed() {\n            //Display alert message when back button has been pressed\n            alertDialogShow();\n        }\n    };\n\n    onBackPressedDispatcher = new OnBackPressedDispatcher();\n    onBackPressedDispatcher.addCallback(this,onBackPressedCallback);\n</code></pre>\n<p>but the method alterDialogShow() is never called and the activity is terminated immediately.\nHow can I solve this.</p>\n<p>Thanks,\nAlejandro</p>\n"},{"tags":["java","java-8","neo4j"],"comments":[{"owner":{"account_id":8029911,"reputation":717,"user_id":6430256,"display_name":"AntiqTech"},"score":0,"creation_date":1594637736,"post_id":62873806,"comment_id":111184862,"body_markdown":"Neo4J seems  like it is forcing that version from a config file. Since you already change environmental variables and achieved no positive result, I suggest you go into Neo4J settings/configuration files. I&#39;ll search for it on the net also, I&#39;ll let you know if I find anything.  Edit : I found this page showing locations of the conf file. https://neo4j.com/docs/operations-manual/current/configuration/file-locations/","body":"Neo4J seems  like it is forcing that version from a config file. Since you already change environmental variables and achieved no positive result, I suggest you go into Neo4J settings/configuration files. I&#39;ll search for it on the net also, I&#39;ll let you know if I find anything.  Edit : I found this page showing locations of the conf file. <a href=\"https://neo4j.com/docs/operations-manual/current/configuration/file-locations/\" rel=\"nofollow noreferrer\">neo4j.com/docs/operations-manual/current/configuration/&hellip;</a>"},{"owner":{"account_id":8029911,"reputation":717,"user_id":6430256,"display_name":"AntiqTech"},"score":0,"creation_date":1594645586,"post_id":62873806,"comment_id":111188896,"body_markdown":"In case Neo4j is running as service, I&#39;ve found this page mentioning that after installing a new version of JAVA, you need to run &quot;update-service&quot;  command and then retsart the service.  https://neo4j.com/docs/operations-manual/current/installation/windows/","body":"In case Neo4j is running as service, I&#39;ve found this page mentioning that after installing a new version of JAVA, you need to run &quot;update-service&quot;  command and then retsart the service.  <a href=\"https://neo4j.com/docs/operations-manual/current/installation/windows/\" rel=\"nofollow noreferrer\">neo4j.com/docs/operations-manual/current/installation/window&zwnj;&#8203;s</a>"},{"owner":{"account_id":8029911,"reputation":717,"user_id":6430256,"display_name":"AntiqTech"},"score":0,"creation_date":1594647227,"post_id":62873806,"comment_id":111189725,"body_markdown":"I downloaded neo4j community ediiton 3.5.20. I tried to run twice with failure. After getting the JAVA_HOME variable right on the 3rd time, I was able to run it successfully. My JAVA_HOME = D:\\Java\\jdk-9.0.4\\  . I didn&#39;t add anything extra to &quot;path&quot; variable.  Since my java home doesn&#39;t have any white spaces, I&#39;m just gonna shoot in the dark and request that you add quotation to your java home path, If you haven&#39;t done already.  JAVA_HOME= &quot;C:\\Program Files (x86)\\Java\\&quot;. Please try it and let me know.","body":"I downloaded neo4j community ediiton 3.5.20. I tried to run twice with failure. After getting the JAVA_HOME variable right on the 3rd time, I was able to run it successfully. My JAVA_HOME = D:\\Java\\jdk-9.0.4\\  . I didn&#39;t add anything extra to &quot;path&quot; variable.  Since my java home doesn&#39;t have any white spaces, I&#39;m just gonna shoot in the dark and request that you add quotation to your java home path, If you haven&#39;t done already.  JAVA_HOME= &quot;C:\\Program Files (x86)\\Java\\&quot;. Please try it and let me know."}],"answers":[{"tags":[],"owner":{"account_id":17822090,"reputation":371,"user_id":12944233,"display_name":"Hitesh A. Bosamiya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1594636865,"creation_date":1594636865,"answer_id":62874129,"question_id":62873806,"body_markdown":"Looks like a typo - `JAVA_HOMW` instead of `JAVA_HOME`.","title":"Neo4j not able to find correct java","body":"<p>Looks like a typo - <code>JAVA_HOMW</code> instead of <code>JAVA_HOME</code>.</p>\n"},{"tags":[],"owner":{"account_id":29809786,"reputation":1,"user_id":22845495,"display_name":"jing shang"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698920697,"creation_date":1698920697,"answer_id":77408799,"question_id":62873806,"body_markdown":"I tried it successfully, just change the name of the folder to jre1.8.0_192, and then the contents of the folder remain the jre 8.0.251 you downloaded later. In other words, follow its error message and only change the folder name it wants.","title":"Neo4j not able to find correct java","body":"<p>I tried it successfully, just change the name of the folder to jre1.8.0_192, and then the contents of the folder remain the jre 8.0.251 you downloaded later. In other words, follow its error message and only change the folder name it wants.</p>\n"}],"owner":{"display_name":"user8856651"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1137,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1698920697,"creation_date":1594635676,"question_id":62873806,"body_markdown":"I am trying to start neo4j on my system by using commnad `neo4j console`. I am getting following error when I run this command\r\n\r\n    Invoke-Neo4j : Could not find java at C:\\Program Files (x86)\\Java\\jre1.8.0_192\\bin\\java.exe\r\n    At C:\\Users\\neo4j\\neo4j-community-3.5.9\\bin\\neo4j.ps1:29 char:7\r\n    + Exit (Invoke-Neo4j -Verbose:$Arguments.Verbose -Command $Arguments.Ar ...\r\n    +       ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n        + CategoryInfo          : NotSpecified: (:) [Write-Error], WriteErrorException\r\n        + FullyQualifiedErrorId : Microsoft.PowerShell.Commands.WriteErrorException,Invoke-Neo4j\r\n\r\nEarlier jre 8.0.192 was installed on my system. I removed it and installed jre 8.0.251 and JDK is installed at `C:\\Program Files\\Java\\jdk1.8.0_201` . In Environment variable `JAVA_HOME=C:\\Program Files (x86)\\Java\\` and In path I have `%JAVA_HOME%\\bin;C:\\Program Files (x86)\\Java\\bin;`. Dont know why it is taking 192 version which I already uninstalled. Please help","title":"Neo4j not able to find correct java","body":"<p>I am trying to start neo4j on my system by using commnad <code>neo4j console</code>. I am getting following error when I run this command</p>\n<pre><code>Invoke-Neo4j : Could not find java at C:\\Program Files (x86)\\Java\\jre1.8.0_192\\bin\\java.exe\nAt C:\\Users\\neo4j\\neo4j-community-3.5.9\\bin\\neo4j.ps1:29 char:7\n+ Exit (Invoke-Neo4j -Verbose:$Arguments.Verbose -Command $Arguments.Ar ...\n+       ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n    + CategoryInfo          : NotSpecified: (:) [Write-Error], WriteErrorException\n    + FullyQualifiedErrorId : Microsoft.PowerShell.Commands.WriteErrorException,Invoke-Neo4j\n</code></pre>\n<p>Earlier jre 8.0.192 was installed on my system. I removed it and installed jre 8.0.251 and JDK is installed at <code>C:\\Program Files\\Java\\jdk1.8.0_201</code> . In Environment variable <code>JAVA_HOME=C:\\Program Files (x86)\\Java\\</code> and In path I have <code>%JAVA_HOME%\\bin;C:\\Program Files (x86)\\Java\\bin;</code>. Dont know why it is taking 192 version which I already uninstalled. Please help</p>\n"},{"tags":["java","regex","youtube"],"answers":[{"tags":[],"owner":{"account_id":63782,"reputation":6252,"user_id":188622,"accept_rate":44,"display_name":"Gubatron"},"down_vote_count":4,"up_vote_count":46,"is_accepted":false,"score":42,"last_activity_date":1438199528,"creation_date":1401919101,"answer_id":24048309,"question_id":24048308,"body_markdown":"Figured this question wasn&#39;t here for Java, in case you need to do it in Java here&#39;s a way\r\n\r\n    public static String extractYTId(String ytUrl) {\r\n        String vId = null;\r\n        Pattern pattern = Pattern.compile(\r\n                         &quot;^https?://.*(?:youtu.be/|v/|u/\\\\w/|embed/|watch?v=)([^#&amp;?]*).*$&quot;, \r\n                         Pattern.CASE_INSENSITIVE);\r\n        Matcher matcher = pattern.matcher(ytUrl);\r\n        if (matcher.matches()){\r\n            vId = matcher.group(1);\r\n        }\r\n        return vId;\r\n    }\r\n\r\nWorks for URLs like (also for `https://...`)\r\n\r\n    http://www.youtube.com/watch?v=0zM4nApSvMg&amp;feature=feedrec_grec_index\r\n    http://www.youtube.com/user/SomeUser#p/a/u/1/QDK8U-VIH_o\r\n    http://www.youtube.com/v/0zM4nApSvMg?fs=1&amp;amp;hl=en_US&amp;amp;rel=0\r\n    http://www.youtube.com/watch?v=0zM4nApSvMg#t=0m10s\r\n    http://www.youtube.com/embed/0zM4nApSvMg?rel=0\r\n    http://www.youtube.com/watch?v=0zM4nApSvMg\r\n    http://youtu.be/0zM4nApSvMg\r\n","title":"How to get the video id from a YouTube URL with regex in Java","body":"<p>Figured this question wasn't here for Java, in case you need to do it in Java here's a way</p>\n\n<pre><code>public static String extractYTId(String ytUrl) {\n    String vId = null;\n    Pattern pattern = Pattern.compile(\n                     \"^https?://.*(?:youtu.be/|v/|u/\\\\w/|embed/|watch?v=)([^#&amp;?]*).*$\", \n                     Pattern.CASE_INSENSITIVE);\n    Matcher matcher = pattern.matcher(ytUrl);\n    if (matcher.matches()){\n        vId = matcher.group(1);\n    }\n    return vId;\n}\n</code></pre>\n\n<p>Works for URLs like (also for <code>https://...</code>)</p>\n\n<pre><code>http://www.youtube.com/watch?v=0zM4nApSvMg&amp;feature=feedrec_grec_index\nhttp://www.youtube.com/user/SomeUser#p/a/u/1/QDK8U-VIH_o\nhttp://www.youtube.com/v/0zM4nApSvMg?fs=1&amp;amp;hl=en_US&amp;amp;rel=0\nhttp://www.youtube.com/watch?v=0zM4nApSvMg#t=0m10s\nhttp://www.youtube.com/embed/0zM4nApSvMg?rel=0\nhttp://www.youtube.com/watch?v=0zM4nApSvMg\nhttp://youtu.be/0zM4nApSvMg\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4188663,"reputation":348,"user_id":3431743,"display_name":"sh4nkc"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1401933592,"creation_date":1401933592,"answer_id":24050428,"question_id":24048308,"body_markdown":"This is very similar to the link posted in your question.\r\n    \r\n    String url = &quot;https://www.youtube.com/watch?v=wZZ7oFKsKzY&quot;;\r\n    if(url.indexOf(&quot;v=&quot;) == -1) //there&#39;s no video id\r\n        return &quot;&quot;;\r\n    String id  = url.split(&quot;v=&quot;)[1]; //everything before the first &#39;v=&#39; will be the first element, i.e. [0]\r\n    int end_of_id = id_to_end.indexOf(&quot;&amp;&quot;); //if there are other parameters in the url, get only the id&#39;s value\r\n    if(end_index != -1)\r\n         id = url.substring(0, end_of_id);\r\n    return id;","title":"How to get the video id from a YouTube URL with regex in Java","body":"<p>This is very similar to the link posted in your question.</p>\n\n<pre><code>String url = \"https://www.youtube.com/watch?v=wZZ7oFKsKzY\";\nif(url.indexOf(\"v=\") == -1) //there's no video id\n    return \"\";\nString id  = url.split(\"v=\")[1]; //everything before the first 'v=' will be the first element, i.e. [0]\nint end_of_id = id_to_end.indexOf(\"&amp;\"); //if there are other parameters in the url, get only the id's value\nif(end_index != -1)\n     id = url.substring(0, end_of_id);\nreturn id;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1081611,"reputation":41298,"user_id":1078583,"accept_rate":69,"display_name":"zx81"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1589340921,"creation_date":1401947455,"answer_id":24052546,"question_id":24048308,"body_markdown":"To me, for the sample links you posted, this regex looks more precise (capturing the ID to Group 1): \r\n\r\n    https?://(?:www\\.)?youtu(?:\\.be/|be\\.com/(?:watch\\?v=|v/|embed/|user/(?:[\\w#]+/)+))([^&amp;#?\\n]+)\r\n\r\nOn the [demo][1], see the capture groups in the bottom right pane. However, for the second match, not entirely sure that this is a correct ID as it looks different from the other samples—to be tweaked if needed.\r\n\r\nIn code, something like:\r\n\r\n    Pattern regex = Pattern.compile(&quot;http://(?:www\\\\.)?youtu(?:\\\\.be/|be\\\\.com/(?:watch\\\\?v=|v/|embed/|user/(?:[\\\\w#]+/)+))([^&amp;#?\\n]+)&quot;);\r\n    \tMatcher regexMatcher = regex.matcher(subjectString);\r\n    \tif (regexMatcher.find()) {\r\n    \t\tVideoID = regexMatcher.group(1);\r\n    \t} \r\n\r\n\r\n  [1]: http://regex101.com/r/xX3cU8","title":"How to get the video id from a YouTube URL with regex in Java","body":"<p>To me, for the sample links you posted, this regex looks more precise (capturing the ID to Group 1): </p>\n\n<pre><code>https?://(?:www\\.)?youtu(?:\\.be/|be\\.com/(?:watch\\?v=|v/|embed/|user/(?:[\\w#]+/)+))([^&amp;#?\\n]+)\n</code></pre>\n\n<p>On the <a href=\"http://regex101.com/r/xX3cU8\" rel=\"nofollow noreferrer\">demo</a>, see the capture groups in the bottom right pane. However, for the second match, not entirely sure that this is a correct ID as it looks different from the other samples—to be tweaked if needed.</p>\n\n<p>In code, something like:</p>\n\n<pre><code>Pattern regex = Pattern.compile(\"http://(?:www\\\\.)?youtu(?:\\\\.be/|be\\\\.com/(?:watch\\\\?v=|v/|embed/|user/(?:[\\\\w#]+/)+))([^&amp;#?\\n]+)\");\n    Matcher regexMatcher = regex.matcher(subjectString);\n    if (regexMatcher.find()) {\n        VideoID = regexMatcher.group(1);\n    } \n</code></pre>\n"},{"tags":[],"owner":{"account_id":6184974,"reputation":1103,"user_id":4819344,"display_name":"Roman Smoliar"},"down_vote_count":1,"up_vote_count":35,"is_accepted":false,"score":34,"last_activity_date":1446739558,"creation_date":1446739558,"answer_id":33549387,"question_id":24048308,"body_markdown":"Previous answers don&#39;t work for me.. It&#39;s correct method. It works with www.youtube.com and youtu.be links.\r\n\r\n    private String getYouTubeId (String youTubeUrl) {\r\n        String pattern = &quot;(?&lt;=youtu.be/|watch\\\\?v=|/videos/|embed\\\\/)[^#\\\\&amp;\\\\?]*&quot;;\r\n        Pattern compiledPattern = Pattern.compile(pattern);\r\n        Matcher matcher = compiledPattern.matcher(youTubeUrl);\r\n        if(matcher.find()){\r\n            return matcher.group();\r\n        } else {\r\n            return &quot;error&quot;;  \r\n        }\r\n    }","title":"How to get the video id from a YouTube URL with regex in Java","body":"<p>Previous answers don't work for me.. It's correct method. It works with www.youtube.com and youtu.be links.</p>\n\n<pre><code>private String getYouTubeId (String youTubeUrl) {\n    String pattern = \"(?&lt;=youtu.be/|watch\\\\?v=|/videos/|embed\\\\/)[^#\\\\&amp;\\\\?]*\";\n    Pattern compiledPattern = Pattern.compile(pattern);\n    Matcher matcher = compiledPattern.matcher(youTubeUrl);\n    if(matcher.find()){\n        return matcher.group();\n    } else {\n        return \"error\";  \n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":412487,"reputation":1082,"user_id":785576,"accept_rate":41,"display_name":"saravanan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1451481714,"creation_date":1451481714,"answer_id":34530389,"question_id":24048308,"body_markdown":"This will work for me and simple..\r\n\r\n    public static String getVideoId(@NonNull String videoUrl) {\r\n        String reg = &quot;(?:youtube(?:-nocookie)?\\\\.com\\\\/(?:[^\\\\/\\\\n\\\\s]+\\\\/\\\\S+\\\\/|(?:v|e(?:mbed)?)\\\\/|\\\\S*?[?&amp;]v=)|youtu\\\\.be\\\\/)([a-zA-Z0-9_-]{11})&quot;;\r\n        Pattern pattern = Pattern.compile(reg, Pattern.CASE_INSENSITIVE);\r\n        Matcher matcher = pattern.matcher(videoUrl);\r\n\r\n        if (matcher.find())\r\n            return matcher.group(1);\r\n        return null;\r\n    }","title":"How to get the video id from a YouTube URL with regex in Java","body":"<p>This will work for me and simple..</p>\n\n<pre><code>public static String getVideoId(@NonNull String videoUrl) {\n    String reg = \"(?:youtube(?:-nocookie)?\\\\.com\\\\/(?:[^\\\\/\\\\n\\\\s]+\\\\/\\\\S+\\\\/|(?:v|e(?:mbed)?)\\\\/|\\\\S*?[?&amp;]v=)|youtu\\\\.be\\\\/)([a-zA-Z0-9_-]{11})\";\n    Pattern pattern = Pattern.compile(reg, Pattern.CASE_INSENSITIVE);\n    Matcher matcher = pattern.matcher(videoUrl);\n\n    if (matcher.find())\n        return matcher.group(1);\n    return null;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4948241,"reputation":18515,"user_id":3983054,"accept_rate":78,"display_name":"King of Masses"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1459492882,"creation_date":1459492882,"answer_id":36349662,"question_id":24048308,"body_markdown":"Tried the other ones but failed in my case - adjusted the regex to fit for my urls\r\n\r\n    public static String extractYoutubeVideoId(String ytUrl) {\r\n    \r\n    \t\tString vId = null;\r\n   \r\n    \t\tString pattern = &quot;(?&lt;=watch\\\\?v=|/videos/|embed\\\\/)[^#\\\\&amp;\\\\?]*&quot;;\r\n    \r\n    \t\tPattern compiledPattern = Pattern.compile(pattern);\r\n    \t\tMatcher matcher = compiledPattern.matcher(ytUrl);\r\n    \r\n    \t\tif(matcher.find()){\r\n    \t\t\tvId= matcher.group();\r\n    \t\t}\r\n    \t\treturn vId;\r\n    \t}\r\n    \r\nThis one works for below url&#39;s\r\n\r\n    http://www.youtube.com/embed/Woq5iX9XQhA?html5=1\r\n    \r\n    http://www.youtube.com/watch?v=384IUU43bfQ\r\n    \r\n    http://gdata.youtube.com/feeds/api/videos/xTmi7zzUa-M&amp;whatever\r\n\r\n    https://www.youtube.com/watch?v=C7RVaSEMXNk\r\n\r\n\r\nHope it will help some one. Thanks","title":"How to get the video id from a YouTube URL with regex in Java","body":"<p>Tried the other ones but failed in my case - adjusted the regex to fit for my urls</p>\n\n<pre><code>public static String extractYoutubeVideoId(String ytUrl) {\n\n        String vId = null;\n\n        String pattern = \"(?&lt;=watch\\\\?v=|/videos/|embed\\\\/)[^#\\\\&amp;\\\\?]*\";\n\n        Pattern compiledPattern = Pattern.compile(pattern);\n        Matcher matcher = compiledPattern.matcher(ytUrl);\n\n        if(matcher.find()){\n            vId= matcher.group();\n        }\n        return vId;\n    }\n</code></pre>\n\n<p>This one works for below url's</p>\n\n<pre><code>http://www.youtube.com/embed/Woq5iX9XQhA?html5=1\n\nhttp://www.youtube.com/watch?v=384IUU43bfQ\n\nhttp://gdata.youtube.com/feeds/api/videos/xTmi7zzUa-M&amp;whatever\n\nhttps://www.youtube.com/watch?v=C7RVaSEMXNk\n</code></pre>\n\n<p>Hope it will help some one. Thanks</p>\n"},{"tags":[],"owner":{"account_id":4680697,"reputation":1742,"user_id":3789481,"display_name":"Tấn Nguy&#234;n"},"down_vote_count":1,"up_vote_count":19,"is_accepted":false,"score":18,"last_activity_date":1698920692,"creation_date":1499362535,"answer_id":44955588,"question_id":24048308,"body_markdown":"# **Update 26 Mar 2023**\r\n\r\nSupport live &amp; shorts video\r\n\r\n[Regex][1]\r\n\r\n```\r\nhttps://youtube.com/live/eLlxrBmD3H4\r\nhttps://www.youtube.com/live/eLlxrBmD3H4\r\nhttps://youtu.be/live/eLlxrBmD3H4\r\n\r\nhttps://youtube.com/shorts/FnURdCtTvTU?feature=share\r\n\r\n```\r\n\r\n```\r\nhttp(?:s)?:\\/\\/(?:m.)?(?:www\\.)?youtu(?:\\.be\\/|(?:be-nocookie|be)\\.com\\/(?:watch|[\\w]+\\?(?:feature=[\\w]+.[\\w]+\\&amp;)?v=|v\\/|e\\/|embed\\/|live\\/|shorts\\/|user\\/(?:[\\w#]+\\/)+))([^&amp;#?\\n]+)\r\n\r\n```\r\n\r\n# **Update 21 Oct 2022**\r\n\r\nAs this post getting attention from people, I am going to update to serve more cases, thanks to @Nikhil Seban for your new links, the Java code is remained thanks to guys provide code @Leap Bun  @Pankaj\r\n\r\nThis regex also use match group(1), please take a look on the bottom\r\n\r\n\r\n[Regex Online Here][2]\r\n```\r\nhttp(?:s)?:\\/\\/(?:m.)?(?:www\\.)?youtu(?:\\.be\\/|(?:be-nocookie|be)\\.com\\/(?:watch|[\\w]+\\?(?:feature=[\\w]+.[\\w]+\\&amp;)?v=|v\\/|e\\/|embed\\/|user\\/(?:[\\w#]+\\/)+))([^&amp;#?\\n]+)\r\n```\r\n\r\n```\r\nhttp://www.youtube.com/watch?v=0zM4nApSvMg&amp;feature=feedrec_grec_index\r\nhttp://www.youtube.com/user/SomeUser#p/a/u/1/QDK8U-VIH_o\r\nhttp://www.youtube.com/v/0zM4nApSvMg?fs=1&amp;amp;hl=en_US&amp;amp;rel=0\r\nhttp://www.youtube.com/watch?v=0zM4nApSvMg#t=0m10s\r\nhttp://www.youtube.com/embed/0zM4nApSvMg?rel=0\r\nhttp://www.youtube.com/watch?v=0zM4nApSvMg\r\nhttp://youtu.be/0zM4nApSvMg\r\nhttps://www.youtube.com/watch?v=nBuae6ilH24\r\nhttps://www.youtube.com/watch?v=pJegNopBLL8\r\nhttp://www.youtube.com/watch?v=0zM4nApSvMg#t=0m10s\r\nhttps://www.youtube.com/watch?v=0zM4nApSvMg&amp;feature=youtu.be\r\nhttps://www.youtube.com/watch?v=_5BTo2oZ0SE\r\nhttps://m.youtube.com/watch?feature=youtu.be&amp;v=_5BTo2oZ0SE\r\nhttps://m.youtube.com/watch?v=_5BTo2oZ0SE\r\nhttps://www.youtube.com/watch?feature=youtu.be&amp;v=_5BTo2oZ0SE&amp;app=desktop\r\nhttps://www.youtube.com/watch?v=nBuae6ilH24\r\nhttps://www.youtube.com/watch?v=eLlxrBmD3H4\r\n\r\nhttps://www.youtube.com/watch?v=DFYRQ_zQ-gk&amp;feature=featured\r\nhttps://www.youtube.com/watch?v=DFYRQ_zQ-gk\r\nhttp://www.youtube.com/watch?v=DFYRQ_zQ-gk\r\nhttp://www.youtube.com/watch?v=DFYRQ_zQ-gk\r\nhttp://www.youtube.com/watch?v=DFYRQ_zQ-gk\r\nhttps://youtube.com/watch?v=DFYRQ_zQ-gk\r\nhttp://youtube.com/watch?v=DFYRQ_zQ-gk\r\nhttps://youtube.com/watch?v=DFYRQ_zQ-gk\r\nhttp://youtube.com/watch?v=DFYRQ_zQ-gk\r\nhttps://m.youtube.com/watch?v=DFYRQ_zQ-gk\r\nhttp://m.youtube.com/watch?v=DFYRQ_zQ-gk\r\nhttp://m.youtube.com/watch?v=DFYRQ_zQ-gk\r\nhttp://m.youtube.com/watch?v=DFYRQ_zQ-gk\r\nhttps://www.youtube.com/v/DFYRQ_zQ-gk?fs=1&amp;hl=en_US\r\nhttp://www.youtube.com/v/DFYRQ_zQ-gk?fs=1&amp;hl=en_US\r\nhttp://www.youtube.com/v/DFYRQ_zQ-gk?fs=1&amp;hl=en_US\r\nhttp://www.youtube.com/v/DFYRQ_zQ-gk?fs=1&amp;hl=en_US\r\nhttp://youtube.com/v/DFYRQ_zQ-gk?fs=1&amp;hl=en_US\r\nhttps://www.youtube.com/embed/DFYRQ_zQ-gk?autoplay=1\r\nhttps://www.youtube.com/embed/DFYRQ_zQ-gk\r\nhttp://www.youtube.com/embed/DFYRQ_zQ-gk\r\nhttp://www.youtube.com/embed/DFYRQ_zQ-gk\r\nhttp://www.youtube.com/embed/DFYRQ_zQ-gk\r\nhttps://youtube.com/embed/DFYRQ_zQ-gk\r\nhttp://youtube.com/embed/DFYRQ_zQ-gk\r\nhttp://youtube.com/embed/DFYRQ_zQ-gk\r\nhttps://youtube.com/embed/DFYRQ_zQ-gk\r\nhttps://youtu.be/DFYRQ_zQ-gk?t=120\r\nhttps://youtu.be/DFYRQ_zQ-gk\r\nhttp://youtu.be/DFYRQ_zQ-gk\r\nhttp://youtu.be/DFYRQ_zQ-gk\r\nhttp://youtu.be/DFYRQ_zQ-gk\r\nhttps://www.youtube.com/HamdiKickProduction?v=DFYRQ_zQ-gk\r\nhttps://www.youtube.com/watch?v=wz4MLJBdSpw&amp;t=67s\r\nhttp://www.youtube.com/watch?v=dQw4w9WgXcQ&amp;a=GxdCwVVULXctT2lYDEPllDR0LRTutYfW\r\nhttp://www.youtube.com/embed/dQw4w9WgXcQ\r\nhttp://www.youtube.com/watch?v=dQw4w9WgXcQ\r\nhttps://www.youtube.com/watch?v=EL-UCUAt8DQ\r\nhttp://www.youtube.com/watch?v=dQw4w9WgXcQ \r\nhttp://youtu.be/dQw4w9WgXcQ \r\nhttp://www.youtube.com/v/dQw4w9WgXcQ \r\nhttp://www.youtube.com/e/dQw4w9WgXcQ\r\nhttp://www.youtube.com/watch?feature=player_embedded&amp;v=dQw4w9WgXcQ\r\n\r\nhttps://www.youtube-nocookie.com/embed/xHkq1edcbk4?rel=0\r\n\r\nhttp://www.youtube.com/watch?v=0zM4nApSvMg&amp;feature=feedrec_grec_index\r\nhttp://www.youtube.com/user/SomeUser#p/a/u/1/QDK8U-VIH_o\r\nhttp://www.youtube.com/v/0zM4nApSvMg?fs=1&amp;amp;hl=en_US&amp;amp;rel=0\r\nhttp://www.youtube.com/watch?v=0zM4nApSvMg#t=0m10s\r\nhttp://www.youtube.com/embed/0zM4nApSvMg?rel=0\r\nhttp://www.youtube.com/watch?v=0zM4nApSvMg\r\nhttp://youtu.be/0zM4nApSvMg\r\n```\r\n\r\n----\r\n# Old post\r\nThis below code you can also use either review what I have updated or to develop new pattern.\r\n\r\n---\r\n\r\n```\r\nhttp(?:s)?:\\/\\/(?:m.)?(?:www\\.)?youtu(?:\\.be\\/|be\\.com\\/(?:watch\\?(?:feature=youtu.be\\&amp;)?v=|v\\/|embed\\/|user\\/(?:[\\w#]+\\/)+))([^&amp;#?\\n]+)\r\n```\r\nThis will work for\r\n\r\n    http://www.youtube.com/watch?v=0zM4nApSvMg&amp;feature=feedrec_grec_index\r\n    http://www.youtube.com/user/SomeUser#p/a/u/1/QDK8U-VIH_o\r\n    http://www.youtube.com/v/0zM4nApSvMg?fs=1&amp;amp;hl=en_US&amp;amp;rel=0\r\n    http://www.youtube.com/watch?v=0zM4nApSvMg#t=0m10s\r\n    http://www.youtube.com/embed/0zM4nApSvMg?rel=0\r\n    http://www.youtube.com/watch?v=0zM4nApSvMg\r\n    http://youtu.be/0zM4nApSvMg\r\n    https://www.youtube.com/watch?v=nBuae6ilH24\r\n    https://www.youtube.com/watch?v=pJegNopBLL8\r\n    http://www.youtube.com/watch?v=0zM4nApSvMg#t=0m10s\r\n    https://www.youtube.com/watch?v=0zM4nApSvMg&amp;feature=youtu.be\r\n    https://www.youtube.com/watch?v=_5BTo2oZ0SE\r\n    https://m.youtube.com/watch?feature=youtu.be&amp;v=_5BTo2oZ0SE\r\n    https://m.youtube.com/watch?v=_5BTo2oZ0SE\r\n    https://www.youtube.com/watch?feature=youtu.be&amp;v=_5BTo2oZ0SE&amp;app=desktop\r\n    https://www.youtube.com/watch?v=nBuae6ilH24\r\n    https://www.youtube.com/watch?v=eLlxrBmD3H4\r\n\r\n---\r\n\r\n**Note: Using regex match group(1) to get ID**\r\n\r\n    public static String getVideoId(@NonNull String videoUrl) {\r\n        String videoId = &quot;&quot;;\r\n        String regex = PLEASE_COPY_ABOVE_REGEX_PATTERN\r\n        Pattern pattern = Pattern.compile(regex, Pattern.CASE_INSENSITIVE);\r\n        Matcher matcher = pattern.matcher(videoUrl);\r\n        if(matcher.find()){\r\n            videoId = matcher.group(1);\r\n        }\r\n        return videoId;\r\n    }\r\n\r\n\r\n  [1]: https://regexr.com/7atq6\r\n  [2]: https://regexr.com/70k85","title":"How to get the video id from a YouTube URL with regex in Java","body":"<h1><strong>Update 26 Mar 2023</strong></h1>\n<p>Support live &amp; shorts video</p>\n<p><a href=\"https://regexr.com/7atq6\" rel=\"nofollow noreferrer\">Regex</a></p>\n<pre><code>https://youtube.com/live/eLlxrBmD3H4\nhttps://www.youtube.com/live/eLlxrBmD3H4\nhttps://youtu.be/live/eLlxrBmD3H4\n\nhttps://youtube.com/shorts/FnURdCtTvTU?feature=share\n\n</code></pre>\n<pre><code>http(?:s)?:\\/\\/(?:m.)?(?:www\\.)?youtu(?:\\.be\\/|(?:be-nocookie|be)\\.com\\/(?:watch|[\\w]+\\?(?:feature=[\\w]+.[\\w]+\\&amp;)?v=|v\\/|e\\/|embed\\/|live\\/|shorts\\/|user\\/(?:[\\w#]+\\/)+))([^&amp;#?\\n]+)\n\n</code></pre>\n<h1><strong>Update 21 Oct 2022</strong></h1>\n<p>As this post getting attention from people, I am going to update to serve more cases, thanks to @Nikhil Seban for your new links, the Java code is remained thanks to guys provide code @Leap Bun  @Pankaj</p>\n<p>This regex also use match group(1), please take a look on the bottom</p>\n<p><a href=\"https://regexr.com/70k85\" rel=\"nofollow noreferrer\">Regex Online Here</a></p>\n<pre><code>http(?:s)?:\\/\\/(?:m.)?(?:www\\.)?youtu(?:\\.be\\/|(?:be-nocookie|be)\\.com\\/(?:watch|[\\w]+\\?(?:feature=[\\w]+.[\\w]+\\&amp;)?v=|v\\/|e\\/|embed\\/|user\\/(?:[\\w#]+\\/)+))([^&amp;#?\\n]+)\n</code></pre>\n<pre><code>http://www.youtube.com/watch?v=0zM4nApSvMg&amp;feature=feedrec_grec_index\nhttp://www.youtube.com/user/SomeUser#p/a/u/1/QDK8U-VIH_o\nhttp://www.youtube.com/v/0zM4nApSvMg?fs=1&amp;amp;hl=en_US&amp;amp;rel=0\nhttp://www.youtube.com/watch?v=0zM4nApSvMg#t=0m10s\nhttp://www.youtube.com/embed/0zM4nApSvMg?rel=0\nhttp://www.youtube.com/watch?v=0zM4nApSvMg\nhttp://youtu.be/0zM4nApSvMg\nhttps://www.youtube.com/watch?v=nBuae6ilH24\nhttps://www.youtube.com/watch?v=pJegNopBLL8\nhttp://www.youtube.com/watch?v=0zM4nApSvMg#t=0m10s\nhttps://www.youtube.com/watch?v=0zM4nApSvMg&amp;feature=youtu.be\nhttps://www.youtube.com/watch?v=_5BTo2oZ0SE\nhttps://m.youtube.com/watch?feature=youtu.be&amp;v=_5BTo2oZ0SE\nhttps://m.youtube.com/watch?v=_5BTo2oZ0SE\nhttps://www.youtube.com/watch?feature=youtu.be&amp;v=_5BTo2oZ0SE&amp;app=desktop\nhttps://www.youtube.com/watch?v=nBuae6ilH24\nhttps://www.youtube.com/watch?v=eLlxrBmD3H4\n\nhttps://www.youtube.com/watch?v=DFYRQ_zQ-gk&amp;feature=featured\nhttps://www.youtube.com/watch?v=DFYRQ_zQ-gk\nhttp://www.youtube.com/watch?v=DFYRQ_zQ-gk\nhttp://www.youtube.com/watch?v=DFYRQ_zQ-gk\nhttp://www.youtube.com/watch?v=DFYRQ_zQ-gk\nhttps://youtube.com/watch?v=DFYRQ_zQ-gk\nhttp://youtube.com/watch?v=DFYRQ_zQ-gk\nhttps://youtube.com/watch?v=DFYRQ_zQ-gk\nhttp://youtube.com/watch?v=DFYRQ_zQ-gk\nhttps://m.youtube.com/watch?v=DFYRQ_zQ-gk\nhttp://m.youtube.com/watch?v=DFYRQ_zQ-gk\nhttp://m.youtube.com/watch?v=DFYRQ_zQ-gk\nhttp://m.youtube.com/watch?v=DFYRQ_zQ-gk\nhttps://www.youtube.com/v/DFYRQ_zQ-gk?fs=1&amp;hl=en_US\nhttp://www.youtube.com/v/DFYRQ_zQ-gk?fs=1&amp;hl=en_US\nhttp://www.youtube.com/v/DFYRQ_zQ-gk?fs=1&amp;hl=en_US\nhttp://www.youtube.com/v/DFYRQ_zQ-gk?fs=1&amp;hl=en_US\nhttp://youtube.com/v/DFYRQ_zQ-gk?fs=1&amp;hl=en_US\nhttps://www.youtube.com/embed/DFYRQ_zQ-gk?autoplay=1\nhttps://www.youtube.com/embed/DFYRQ_zQ-gk\nhttp://www.youtube.com/embed/DFYRQ_zQ-gk\nhttp://www.youtube.com/embed/DFYRQ_zQ-gk\nhttp://www.youtube.com/embed/DFYRQ_zQ-gk\nhttps://youtube.com/embed/DFYRQ_zQ-gk\nhttp://youtube.com/embed/DFYRQ_zQ-gk\nhttp://youtube.com/embed/DFYRQ_zQ-gk\nhttps://youtube.com/embed/DFYRQ_zQ-gk\nhttps://youtu.be/DFYRQ_zQ-gk?t=120\nhttps://youtu.be/DFYRQ_zQ-gk\nhttp://youtu.be/DFYRQ_zQ-gk\nhttp://youtu.be/DFYRQ_zQ-gk\nhttp://youtu.be/DFYRQ_zQ-gk\nhttps://www.youtube.com/HamdiKickProduction?v=DFYRQ_zQ-gk\nhttps://www.youtube.com/watch?v=wz4MLJBdSpw&amp;t=67s\nhttp://www.youtube.com/watch?v=dQw4w9WgXcQ&amp;a=GxdCwVVULXctT2lYDEPllDR0LRTutYfW\nhttp://www.youtube.com/embed/dQw4w9WgXcQ\nhttp://www.youtube.com/watch?v=dQw4w9WgXcQ\nhttps://www.youtube.com/watch?v=EL-UCUAt8DQ\nhttp://www.youtube.com/watch?v=dQw4w9WgXcQ \nhttp://youtu.be/dQw4w9WgXcQ \nhttp://www.youtube.com/v/dQw4w9WgXcQ \nhttp://www.youtube.com/e/dQw4w9WgXcQ\nhttp://www.youtube.com/watch?feature=player_embedded&amp;v=dQw4w9WgXcQ\n\nhttps://www.youtube-nocookie.com/embed/xHkq1edcbk4?rel=0\n\nhttp://www.youtube.com/watch?v=0zM4nApSvMg&amp;feature=feedrec_grec_index\nhttp://www.youtube.com/user/SomeUser#p/a/u/1/QDK8U-VIH_o\nhttp://www.youtube.com/v/0zM4nApSvMg?fs=1&amp;amp;hl=en_US&amp;amp;rel=0\nhttp://www.youtube.com/watch?v=0zM4nApSvMg#t=0m10s\nhttp://www.youtube.com/embed/0zM4nApSvMg?rel=0\nhttp://www.youtube.com/watch?v=0zM4nApSvMg\nhttp://youtu.be/0zM4nApSvMg\n</code></pre>\n<hr />\n<h1>Old post</h1>\n<p>This below code you can also use either review what I have updated or to develop new pattern.</p>\n<hr />\n<pre><code>http(?:s)?:\\/\\/(?:m.)?(?:www\\.)?youtu(?:\\.be\\/|be\\.com\\/(?:watch\\?(?:feature=youtu.be\\&amp;)?v=|v\\/|embed\\/|user\\/(?:[\\w#]+\\/)+))([^&amp;#?\\n]+)\n</code></pre>\n<p>This will work for</p>\n<pre><code>http://www.youtube.com/watch?v=0zM4nApSvMg&amp;feature=feedrec_grec_index\nhttp://www.youtube.com/user/SomeUser#p/a/u/1/QDK8U-VIH_o\nhttp://www.youtube.com/v/0zM4nApSvMg?fs=1&amp;amp;hl=en_US&amp;amp;rel=0\nhttp://www.youtube.com/watch?v=0zM4nApSvMg#t=0m10s\nhttp://www.youtube.com/embed/0zM4nApSvMg?rel=0\nhttp://www.youtube.com/watch?v=0zM4nApSvMg\nhttp://youtu.be/0zM4nApSvMg\nhttps://www.youtube.com/watch?v=nBuae6ilH24\nhttps://www.youtube.com/watch?v=pJegNopBLL8\nhttp://www.youtube.com/watch?v=0zM4nApSvMg#t=0m10s\nhttps://www.youtube.com/watch?v=0zM4nApSvMg&amp;feature=youtu.be\nhttps://www.youtube.com/watch?v=_5BTo2oZ0SE\nhttps://m.youtube.com/watch?feature=youtu.be&amp;v=_5BTo2oZ0SE\nhttps://m.youtube.com/watch?v=_5BTo2oZ0SE\nhttps://www.youtube.com/watch?feature=youtu.be&amp;v=_5BTo2oZ0SE&amp;app=desktop\nhttps://www.youtube.com/watch?v=nBuae6ilH24\nhttps://www.youtube.com/watch?v=eLlxrBmD3H4\n</code></pre>\n<hr />\n<p><strong>Note: Using regex match group(1) to get ID</strong></p>\n<pre><code>public static String getVideoId(@NonNull String videoUrl) {\n    String videoId = &quot;&quot;;\n    String regex = PLEASE_COPY_ABOVE_REGEX_PATTERN\n    Pattern pattern = Pattern.compile(regex, Pattern.CASE_INSENSITIVE);\n    Matcher matcher = pattern.matcher(videoUrl);\n    if(matcher.find()){\n        videoId = matcher.group(1);\n    }\n    return videoId;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3128230,"reputation":1686,"user_id":2646705,"display_name":"Prashant Maheshwari Andro"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1514443263,"creation_date":1514443263,"answer_id":48002806,"question_id":24048308,"body_markdown":"Just pass youtube link in below function , it will detect all type of youtube url\r\n\r\n        public static String getYoutubeID(String youtubeUrl) {\r\n\r\n        if (TextUtils.isEmpty(youtubeUrl)) {\r\n            return &quot;&quot;;\r\n        }\r\n        String video_id = &quot;&quot;;\r\n\r\n        String expression = &quot;^.*((youtu.be&quot; + &quot;\\\\/)&quot; + &quot;|(v\\\\/)|(\\\\/u\\\\/w\\\\/)|(embed\\\\/)|(watch\\\\?))\\\\??v?=?([^#\\\\&amp;\\\\?]*).*&quot;; // var regExp = /^.*((youtu.be\\/)|(v\\/)|(\\/u\\/\\w\\/)|(embed\\/)|(watch\\?))\\??v?=?([^#\\&amp;\\?]*).*/;\r\n        CharSequence input = youtubeUrl;\r\n        Pattern pattern = Pattern.compile(expression, Pattern.CASE_INSENSITIVE);\r\n        Matcher matcher = pattern.matcher(input);\r\n        if (matcher.matches()) {\r\n            String groupIndex1 = matcher.group(7);\r\n            if (groupIndex1 != null &amp;&amp; groupIndex1.length() == 11)\r\n                video_id = groupIndex1;\r\n        }\r\n        if (TextUtils.isEmpty(video_id)) {\r\n            if (youtubeUrl.contains(&quot;youtu.be/&quot;)  ) {\r\n                String spl = youtubeUrl.split(&quot;youtu.be/&quot;)[1];\r\n                if (spl.contains(&quot;\\\\?&quot;)) {\r\n                    video_id = spl.split(&quot;\\\\?&quot;)[0];\r\n                }else {\r\n                    video_id =spl;\r\n                }\r\n\r\n            }\r\n        }\r\n\r\n        return video_id;\r\n    }","title":"How to get the video id from a YouTube URL with regex in Java","body":"<p>Just pass youtube link in below function , it will detect all type of youtube url</p>\n\n<pre><code>    public static String getYoutubeID(String youtubeUrl) {\n\n    if (TextUtils.isEmpty(youtubeUrl)) {\n        return \"\";\n    }\n    String video_id = \"\";\n\n    String expression = \"^.*((youtu.be\" + \"\\\\/)\" + \"|(v\\\\/)|(\\\\/u\\\\/w\\\\/)|(embed\\\\/)|(watch\\\\?))\\\\??v?=?([^#\\\\&amp;\\\\?]*).*\"; // var regExp = /^.*((youtu.be\\/)|(v\\/)|(\\/u\\/\\w\\/)|(embed\\/)|(watch\\?))\\??v?=?([^#\\&amp;\\?]*).*/;\n    CharSequence input = youtubeUrl;\n    Pattern pattern = Pattern.compile(expression, Pattern.CASE_INSENSITIVE);\n    Matcher matcher = pattern.matcher(input);\n    if (matcher.matches()) {\n        String groupIndex1 = matcher.group(7);\n        if (groupIndex1 != null &amp;&amp; groupIndex1.length() == 11)\n            video_id = groupIndex1;\n    }\n    if (TextUtils.isEmpty(video_id)) {\n        if (youtubeUrl.contains(\"youtu.be/\")  ) {\n            String spl = youtubeUrl.split(\"youtu.be/\")[1];\n            if (spl.contains(\"\\\\?\")) {\n                video_id = spl.split(\"\\\\?\")[0];\n            }else {\n                video_id =spl;\n            }\n\n        }\n    }\n\n    return video_id;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1237876,"reputation":2295,"user_id":1201089,"accept_rate":71,"display_name":"Leap Bun"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1542857544,"creation_date":1542857544,"answer_id":53423485,"question_id":24048308,"body_markdown":"Using regex from Tấn Nguy&#234;n:\r\n\r\n    public String getVideoIdFromYoutubeUrl(String url){\r\n        String videoId = null;\r\n        String regex = &quot;http(?:s)?:\\\\/\\\\/(?:m.)?(?:www\\\\.)?youtu(?:\\\\.be\\\\/|be\\\\.com\\\\/(?:watch\\\\?(?:feature=youtu.be\\\\&amp;)?v=|v\\\\/|embed\\\\/|user\\\\/(?:[\\\\w#]+\\\\/)+))([^&amp;#?\\\\n]+)&quot;;\r\n        Pattern pattern = Pattern.compile(regex, Pattern.CASE_INSENSITIVE);\r\n        Matcher matcher = pattern.matcher(url);\r\n        if(matcher.find()){\r\n            videoId = matcher.group(1);\r\n        }\r\n        return videoId;\r\n    }\r\n\r\n\r\nCredit to Tấn Nguy&#234;n.","title":"How to get the video id from a YouTube URL with regex in Java","body":"<p>Using regex from Tấn Nguyên:</p>\n\n<pre><code>public String getVideoIdFromYoutubeUrl(String url){\n    String videoId = null;\n    String regex = \"http(?:s)?:\\\\/\\\\/(?:m.)?(?:www\\\\.)?youtu(?:\\\\.be\\\\/|be\\\\.com\\\\/(?:watch\\\\?(?:feature=youtu.be\\\\&amp;)?v=|v\\\\/|embed\\\\/|user\\\\/(?:[\\\\w#]+\\\\/)+))([^&amp;#?\\\\n]+)\";\n    Pattern pattern = Pattern.compile(regex, Pattern.CASE_INSENSITIVE);\n    Matcher matcher = pattern.matcher(url);\n    if(matcher.find()){\n        videoId = matcher.group(1);\n    }\n    return videoId;\n}\n</code></pre>\n\n<p>Credit to Tấn Nguyên.</p>\n"},{"tags":[],"owner":{"account_id":14906072,"reputation":207,"user_id":10763244,"display_name":"SO 80"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1568408821,"creation_date":1568408821,"answer_id":57930352,"question_id":24048308,"body_markdown":"Combining a couple of methods, to cover as many formats as possible, is recommended.\r\n\r\n```\r\nString ID1 = getYoutubeID1(url); regex 1\r\nString ID2 = getYoutubeID2(url); regex 2\r\nString ID3 = getYoutubeID3(url); regex 3\r\n```\r\nthen, using an if/switch statement to choose a value that isn&#39;t null and is valid.\r\n ","title":"How to get the video id from a YouTube URL with regex in Java","body":"<p>Combining a couple of methods, to cover as many formats as possible, is recommended.</p>\n\n<pre><code>String ID1 = getYoutubeID1(url); regex 1\nString ID2 = getYoutubeID2(url); regex 2\nString ID3 = getYoutubeID3(url); regex 3\n</code></pre>\n\n<p>then, using an if/switch statement to choose a value that isn't null and is valid.</p>\n"},{"tags":[],"owner":{"account_id":9411834,"reputation":296,"user_id":6998825,"display_name":"Hassan Badawi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1593469027,"creation_date":1593312534,"answer_id":62617677,"question_id":24048308,"body_markdown":"I actully try all the above but some times work and some times fail\r\nany way I found this may it help -- in this [site][1]\r\n\r\n    private final static String expression = &quot;(?&lt;=watch\\\\?v=|/videos/|embed\\\\/|youtu.be\\\\/|\\\\/v\\\\/|\\\\/e\\\\/|watch\\\\?v%3D|watch\\\\?feature=player_embedded&amp;v=|%2Fvideos%2F|embed%\\u200C\\u200B2F|youtu.be%2F|%2Fv%2F)[^#\\\\&amp;\\\\?\\\\n]*&quot;;\r\n    public static String getVideoId(String videoUrl) {\r\n            if (videoUrl == null || videoUrl.trim().length() &lt;= 0){\r\n                return null;\r\n        }\r\n            Pattern pattern = Pattern.compile(expression);\r\n            Matcher matcher = pattern.matcher(videoUrl);\r\n            try {\r\n                if (matcher.find())\r\n                    return matcher.group();\r\n            } catch (ArrayIndexOutOfBoundsException ex) {\r\n            ex.printStackTrace();\r\n            }\r\n            return null;\r\n        }\r\n\r\nhe said \r\n\r\nThis will work on two kinks of youtube video urls either direct or shared URL.\r\n\r\nDirect url: https://www.youtube.com/watch?v=XXXXXXXXXXX\r\n\r\nShared url: https://youtu.be/XXXXXXXXXXX\r\n\r\n  [1]: http://findnerd.com/list/view/How-to-generate-video-id-from-youtube-video-url-in-android/24468/","title":"How to get the video id from a YouTube URL with regex in Java","body":"<p>I actully try all the above but some times work and some times fail\nany way I found this may it help -- in this <a href=\"http://findnerd.com/list/view/How-to-generate-video-id-from-youtube-video-url-in-android/24468/\" rel=\"nofollow noreferrer\">site</a></p>\n<pre><code>private final static String expression = &quot;(?&lt;=watch\\\\?v=|/videos/|embed\\\\/|youtu.be\\\\/|\\\\/v\\\\/|\\\\/e\\\\/|watch\\\\?v%3D|watch\\\\?feature=player_embedded&amp;v=|%2Fvideos%2F|embed%\\u200C\\u200B2F|youtu.be%2F|%2Fv%2F)[^#\\\\&amp;\\\\?\\\\n]*&quot;;\npublic static String getVideoId(String videoUrl) {\n        if (videoUrl == null || videoUrl.trim().length() &lt;= 0){\n            return null;\n    }\n        Pattern pattern = Pattern.compile(expression);\n        Matcher matcher = pattern.matcher(videoUrl);\n        try {\n            if (matcher.find())\n                return matcher.group();\n        } catch (ArrayIndexOutOfBoundsException ex) {\n        ex.printStackTrace();\n        }\n        return null;\n    }\n</code></pre>\n<p>he said</p>\n<p>This will work on two kinks of youtube video urls either direct or shared URL.</p>\n<p>Direct url: <a href=\"https://www.youtube.com/watch?v=XXXXXXXXXXX\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=XXXXXXXXXXX</a></p>\n<p>Shared url: <a href=\"https://youtu.be/XXXXXXXXXXX\" rel=\"nofollow noreferrer\">https://youtu.be/XXXXXXXXXXX</a></p>\n"},{"tags":[],"owner":{"account_id":15176773,"reputation":107,"user_id":10951280,"display_name":"Kanad Patil"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1640718628,"creation_date":1596698158,"answer_id":63278603,"question_id":24048308,"body_markdown":"Without `regex` : \r\n\r\n    String url - &quot;https://www.youtube.com/watch?v=BYrumLBuzHk&quot;\r\n    String video_id = url.replace(&quot;https://www.youtube.com/watch?v=&quot;, &quot;&quot;)\r\n\r\nSo now you have a video ID in string **video_id**.\r\n","title":"How to get the video id from a YouTube URL with regex in Java","body":"<p>Without <code>regex</code> :</p>\n<pre><code>String url - &quot;https://www.youtube.com/watch?v=BYrumLBuzHk&quot;\nString video_id = url.replace(&quot;https://www.youtube.com/watch?v=&quot;, &quot;&quot;)\n</code></pre>\n<p>So now you have a video ID in string <strong>video_id</strong>.</p>\n"},{"tags":[],"owner":{"account_id":10717907,"reputation":215,"user_id":10440175,"display_name":"Nick"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1616608553,"creation_date":1616606875,"answer_id":66786241,"question_id":24048308,"body_markdown":"    private fun extractVideoId(ytUrl: String?): String? {\r\n            var videoId: String? = null\r\n            val regex =\r\n                &quot;^((?:https?:)?//)?((?:www|m)\\\\.)?((?:youtube\\\\.com|youtu.be|youtube-nocookie.com))(/(?:[\\\\w\\\\-]+\\\\?v=|feature=|watch\\\\?|e/|embed/|v/)?)([\\\\w\\\\-]+)(\\\\S+)?\\$&quot;\r\n            val pattern: Pattern = Pattern.compile(\r\n                regex ,\r\n                Pattern.CASE_INSENSITIVE\r\n            )\r\n            val matcher: Matcher = pattern.matcher(ytUrl)\r\n            if (matcher.matches()) {\r\n                videoId = matcher.group(5)\r\n            }\r\n            return videoId\r\n    }\r\n\r\n   The above function with regex can extract video Id from\r\n    \r\n    https://www.youtube.com/watch?v=DFYRQ_zQ-gk&amp;feature=featured\r\n    https://www.youtube.com/watch?v=DFYRQ_zQ-gk\r\n    http://www.youtube.com/watch?v=DFYRQ_zQ-gk\r\n    http://www.youtube.com/watch?v=DFYRQ_zQ-gk\r\n    http://www.youtube.com/watch?v=DFYRQ_zQ-gk\r\n    https://youtube.com/watch?v=DFYRQ_zQ-gk\r\n    http://youtube.com/watch?v=DFYRQ_zQ-gk\r\n    https://youtube.com/watch?v=DFYRQ_zQ-gk\r\n    http://youtube.com/watch?v=DFYRQ_zQ-gk\r\n    https://m.youtube.com/watch?v=DFYRQ_zQ-gk\r\n    http://m.youtube.com/watch?v=DFYRQ_zQ-gk\r\n    http://m.youtube.com/watch?v=DFYRQ_zQ-gk\r\n    http://m.youtube.com/watch?v=DFYRQ_zQ-gk\r\n    https://www.youtube.com/v/DFYRQ_zQ-gk?fs=1&amp;hl=en_US\r\n    http://www.youtube.com/v/DFYRQ_zQ-gk?fs=1&amp;hl=en_US\r\n    http://www.youtube.com/v/DFYRQ_zQ-gk?fs=1&amp;hl=en_US\r\n    http://www.youtube.com/v/DFYRQ_zQ-gk?fs=1&amp;hl=en_US\r\n    http://youtube.com/v/DFYRQ_zQ-gk?fs=1&amp;hl=en_US\r\n    https://www.youtube.com/embed/DFYRQ_zQ-gk?autoplay=1\r\n    https://www.youtube.com/embed/DFYRQ_zQ-gk\r\n    http://www.youtube.com/embed/DFYRQ_zQ-gk\r\n    http://www.youtube.com/embed/DFYRQ_zQ-gk\r\n    http://www.youtube.com/embed/DFYRQ_zQ-gk\r\n    https://youtube.com/embed/DFYRQ_zQ-gk\r\n    http://youtube.com/embed/DFYRQ_zQ-gk\r\n    http://youtube.com/embed/DFYRQ_zQ-gk\r\n    https://youtube.com/embed/DFYRQ_zQ-gk\r\n    https://youtu.be/DFYRQ_zQ-gk?t=120\r\n    https://youtu.be/DFYRQ_zQ-gk\r\n    http://youtu.be/DFYRQ_zQ-gk\r\n    http://youtu.be/DFYRQ_zQ-gk\r\n    http://youtu.be/DFYRQ_zQ-gk\r\n    https://www.youtube.com/HamdiKickProduction?v=DFYRQ_zQ-gk\r\n    https://www.youtube.com/watch?v=wz4MLJBdSpw&amp;t=67s\r\n    http://www.youtube.com/watch?v=dQw4w9WgXcQ&amp;a=GxdCwVVULXctT2lYDEPllDR0LRTutYfW\r\n    http://www.youtube.com/embed/dQw4w9WgXcQ\r\n    http://www.youtube.com/watch?v=dQw4w9WgXcQ\r\n    https://www.youtube.com/watch?v=EL-UCUAt8DQ\r\n    http://www.youtube.com/watch?v=dQw4w9WgXcQ \r\n    http://youtu.be/dQw4w9WgXcQ \r\n    http://www.youtube.com/v/dQw4w9WgXcQ \r\n    http://www.youtube.com/e/dQw4w9WgXcQ\r\n    http://www.youtube.com/watch?feature=player_embedded&amp;v=dQw4w9WgXcQ\r\n\r\n","title":"How to get the video id from a YouTube URL with regex in Java","body":"<pre><code>private fun extractVideoId(ytUrl: String?): String? {\n        var videoId: String? = null\n        val regex =\n            &quot;^((?:https?:)?//)?((?:www|m)\\\\.)?((?:youtube\\\\.com|youtu.be|youtube-nocookie.com))(/(?:[\\\\w\\\\-]+\\\\?v=|feature=|watch\\\\?|e/|embed/|v/)?)([\\\\w\\\\-]+)(\\\\S+)?\\$&quot;\n        val pattern: Pattern = Pattern.compile(\n            regex ,\n            Pattern.CASE_INSENSITIVE\n        )\n        val matcher: Matcher = pattern.matcher(ytUrl)\n        if (matcher.matches()) {\n            videoId = matcher.group(5)\n        }\n        return videoId\n}\n</code></pre>\n<p>The above function with regex can extract video Id from</p>\n<pre><code>https://www.youtube.com/watch?v=DFYRQ_zQ-gk&amp;feature=featured\nhttps://www.youtube.com/watch?v=DFYRQ_zQ-gk\nhttp://www.youtube.com/watch?v=DFYRQ_zQ-gk\nhttp://www.youtube.com/watch?v=DFYRQ_zQ-gk\nhttp://www.youtube.com/watch?v=DFYRQ_zQ-gk\nhttps://youtube.com/watch?v=DFYRQ_zQ-gk\nhttp://youtube.com/watch?v=DFYRQ_zQ-gk\nhttps://youtube.com/watch?v=DFYRQ_zQ-gk\nhttp://youtube.com/watch?v=DFYRQ_zQ-gk\nhttps://m.youtube.com/watch?v=DFYRQ_zQ-gk\nhttp://m.youtube.com/watch?v=DFYRQ_zQ-gk\nhttp://m.youtube.com/watch?v=DFYRQ_zQ-gk\nhttp://m.youtube.com/watch?v=DFYRQ_zQ-gk\nhttps://www.youtube.com/v/DFYRQ_zQ-gk?fs=1&amp;hl=en_US\nhttp://www.youtube.com/v/DFYRQ_zQ-gk?fs=1&amp;hl=en_US\nhttp://www.youtube.com/v/DFYRQ_zQ-gk?fs=1&amp;hl=en_US\nhttp://www.youtube.com/v/DFYRQ_zQ-gk?fs=1&amp;hl=en_US\nhttp://youtube.com/v/DFYRQ_zQ-gk?fs=1&amp;hl=en_US\nhttps://www.youtube.com/embed/DFYRQ_zQ-gk?autoplay=1\nhttps://www.youtube.com/embed/DFYRQ_zQ-gk\nhttp://www.youtube.com/embed/DFYRQ_zQ-gk\nhttp://www.youtube.com/embed/DFYRQ_zQ-gk\nhttp://www.youtube.com/embed/DFYRQ_zQ-gk\nhttps://youtube.com/embed/DFYRQ_zQ-gk\nhttp://youtube.com/embed/DFYRQ_zQ-gk\nhttp://youtube.com/embed/DFYRQ_zQ-gk\nhttps://youtube.com/embed/DFYRQ_zQ-gk\nhttps://youtu.be/DFYRQ_zQ-gk?t=120\nhttps://youtu.be/DFYRQ_zQ-gk\nhttp://youtu.be/DFYRQ_zQ-gk\nhttp://youtu.be/DFYRQ_zQ-gk\nhttp://youtu.be/DFYRQ_zQ-gk\nhttps://www.youtube.com/HamdiKickProduction?v=DFYRQ_zQ-gk\nhttps://www.youtube.com/watch?v=wz4MLJBdSpw&amp;t=67s\nhttp://www.youtube.com/watch?v=dQw4w9WgXcQ&amp;a=GxdCwVVULXctT2lYDEPllDR0LRTutYfW\nhttp://www.youtube.com/embed/dQw4w9WgXcQ\nhttp://www.youtube.com/watch?v=dQw4w9WgXcQ\nhttps://www.youtube.com/watch?v=EL-UCUAt8DQ\nhttp://www.youtube.com/watch?v=dQw4w9WgXcQ \nhttp://youtu.be/dQw4w9WgXcQ \nhttp://www.youtube.com/v/dQw4w9WgXcQ \nhttp://www.youtube.com/e/dQw4w9WgXcQ\nhttp://www.youtube.com/watch?feature=player_embedded&amp;v=dQw4w9WgXcQ\n</code></pre>\n"}],"owner":{"account_id":63782,"reputation":6252,"user_id":188622,"accept_rate":44,"display_name":"Gubatron"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27606,"favorite_count":0,"down_vote_count":0,"up_vote_count":27,"answer_count":13,"score":27,"last_activity_date":1698920692,"creation_date":1401919101,"question_id":24048308,"body_markdown":"Porting from javascript answer to Java version\r\nhttps://stackoverflow.com/questions/3452546/javascript-regex-how-to-get-youtube-video-id-from-url","title":"How to get the video id from a YouTube URL with regex in Java","body":"<p>Porting from javascript answer to Java version\n<a href=\"https://stackoverflow.com/questions/3452546/javascript-regex-how-to-get-youtube-video-id-from-url\">JavaScript REGEX: How do I get the YouTube video id from a URL?</a></p>\n"},{"tags":["java","testing","spring-boot-test"],"answers":[{"tags":[],"owner":{"account_id":14352452,"reputation":3353,"user_id":10367471,"display_name":"H&#252;lya"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1570991623,"creation_date":1570987782,"answer_id":58366063,"question_id":58364490,"body_markdown":"Using `@SpringBootTest(webEnvironment = WebEnvironment.MOCK)` loads a web application context and provides a mock web environment. It doesn’t load a real http server, just mocks the entire web server behavior. \r\n\r\n`WebEnvironment.MOCK` gives you some advantages like ease of use or isolation of other factors but it might not be a good integration test practice.\r\n\r\nIntegration tests should be as similar as possible to the production environment. Considering this, using `@SpringBootTest(webEnvironment = WebEnvironment.RANDOM_PORT)` would be a better choice. This approach is closer to test the real application. You can see whether the whole system is going to work as expected.\r\n\r\nWhen you use `@SpringBootTest(webEnvironment = WebEnvironment.RANDOM_PORT)` you test with a real http server. In this case, you need to use a  `TestRestTemplate`. This is helpful when you want to test some surrounding behavior related to the web layer.\r\n\r\n&gt; TestRestTemplate is a convenience alternative to Spring’s RestTemplate\r\n&gt; that is useful in integration tests. ... if you use the\r\n&gt; @SpringBootTest annotation with WebEnvironment.RANDOM_PORT or\r\n&gt; WebEnvironment.DEFINED_PORT, you can inject a fully configured\r\n&gt; TestRestTemplate...\r\nhttps://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-testing.html#boot-features-rest-templates-test-utility\r\n\r\n","title":"Difference between webEnvironment = RANDOM_PORT and webEnvironment = MOCK","body":"<p>Using <code>@SpringBootTest(webEnvironment = WebEnvironment.MOCK)</code> loads a web application context and provides a mock web environment. It doesn’t load a real http server, just mocks the entire web server behavior. </p>\n\n<p><code>WebEnvironment.MOCK</code> gives you some advantages like ease of use or isolation of other factors but it might not be a good integration test practice.</p>\n\n<p>Integration tests should be as similar as possible to the production environment. Considering this, using <code>@SpringBootTest(webEnvironment = WebEnvironment.RANDOM_PORT)</code> would be a better choice. This approach is closer to test the real application. You can see whether the whole system is going to work as expected.</p>\n\n<p>When you use <code>@SpringBootTest(webEnvironment = WebEnvironment.RANDOM_PORT)</code> you test with a real http server. In this case, you need to use a  <code>TestRestTemplate</code>. This is helpful when you want to test some surrounding behavior related to the web layer.</p>\n\n<blockquote>\n  <p>TestRestTemplate is a convenience alternative to Spring’s RestTemplate\n  that is useful in integration tests. ... if you use the\n  @SpringBootTest annotation with WebEnvironment.RANDOM_PORT or\n  WebEnvironment.DEFINED_PORT, you can inject a fully configured\n  TestRestTemplate...\n  <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-testing.html#boot-features-rest-templates-test-utility\" rel=\"noreferrer\">https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-testing.html#boot-features-rest-templates-test-utility</a></p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":14901094,"reputation":642,"user_id":13989422,"display_name":"Morteza"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1603987322,"creation_date":1603986707,"answer_id":64594651,"question_id":58364490,"body_markdown":"There are some cases in which `MOCK` is incapable of catching failures while `RANDOM_PORT`, as it starts a real web server, is.\r\n\r\nThe example is in the [docs][1]:\r\n\r\n&gt; For example, Spring Boot’s error handling is based on the “error page” support provided by the Servlet container. This means that, whilst you can test your MVC layer throws and handles exceptions as expected, you cannot directly test that a specific custom error page is rendered. If you need to test these lower-level concerns, you can start a fully running server as described in the next section.\r\n\r\n\r\n\r\n \r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/html/spring-boot-features.html#boot-features-testing-spring-boot-applications-testing-with-mock-environment","title":"Difference between webEnvironment = RANDOM_PORT and webEnvironment = MOCK","body":"<p>There are some cases in which <code>MOCK</code> is incapable of catching failures while <code>RANDOM_PORT</code>, as it starts a real web server, is.</p>\n<p>The example is in the <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/spring-boot-features.html#boot-features-testing-spring-boot-applications-testing-with-mock-environment\" rel=\"nofollow noreferrer\">docs</a>:</p>\n<blockquote>\n<p>For example, Spring Boot’s error handling is based on the “error page” support provided by the Servlet container. This means that, whilst you can test your MVC layer throws and handles exceptions as expected, you cannot directly test that a specific custom error page is rendered. If you need to test these lower-level concerns, you can start a fully running server as described in the next section.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":21066472,"reputation":11,"user_id":15483616,"display_name":"Karthikeyan MS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1698920563,"creation_date":1616812678,"answer_id":66827535,"question_id":58364490,"body_markdown":"1. `WebEnvironment.DEFINED_PORT` - DEFINED_PORT in `application-fixed.properties` for the embedded web server. You can use `RestTemplate` or `TestRestTemplate` to test application. Creates a (reactive) web application context.\r\n\r\n`application-fixed.properties`:\r\n```\r\nserver.port=7777\r\n```\r\nYour test class:\r\n\r\n```\r\n@RunWith(SpringRunner.class)\r\n@SpringBootTest(classes = Application.class,\r\nwebEnvironment = SpringBootTest.WebEnvironment.DEFINED_PORT)\r\n@ActiveProfiles(&quot;fixed&quot;)\r\npublic class ApplicationTest {\r\n  private final static int EXPECTED_PORT = 7777;\r\n  ....\r\n}\r\n```        \r\n\r\n2. `WebEnvironment.RANDOM_PORT` - Don&#39;t want to specify any port for testing the springboot. You can use RestTemplate or TestRestTemplate to test application. Creates a web application context (reactive or servlet based).\r\n\r\n`application-random.properties`:\r\n\r\n```\r\nserver.port=0\r\n```\r\n\r\nAnd use \r\n`ServletWebServerApplicationContext.getWebServer().getPort()` to get embedded server port. \r\n\r\n    \r\n3. `WebEnvironment.MOCK` - `@SpringBootTest` without parameters, or with `WebEnvironment=WebEnvironment.MOCK`, doesn&#39;t load a real HTTP server. You can not use `RestTemplate` or `TestRestTemplate` to test application. Have to use `@MockMVC`.\r\n    \r\nCreates a `WebApplicationContext` with a mock servlet environment if servlet APIs are on the classpath.","title":"Difference between webEnvironment = RANDOM_PORT and webEnvironment = MOCK","body":"<ol>\n<li><code>WebEnvironment.DEFINED_PORT</code> - DEFINED_PORT in <code>application-fixed.properties</code> for the embedded web server. You can use <code>RestTemplate</code> or <code>TestRestTemplate</code> to test application. Creates a (reactive) web application context.</li>\n</ol>\n<p><code>application-fixed.properties</code>:</p>\n<pre><code>server.port=7777\n</code></pre>\n<p>Your test class:</p>\n<pre><code>@RunWith(SpringRunner.class)\n@SpringBootTest(classes = Application.class,\nwebEnvironment = SpringBootTest.WebEnvironment.DEFINED_PORT)\n@ActiveProfiles(&quot;fixed&quot;)\npublic class ApplicationTest {\n  private final static int EXPECTED_PORT = 7777;\n  ....\n}\n</code></pre>\n<ol start=\"2\">\n<li><code>WebEnvironment.RANDOM_PORT</code> - Don't want to specify any port for testing the springboot. You can use RestTemplate or TestRestTemplate to test application. Creates a web application context (reactive or servlet based).</li>\n</ol>\n<p><code>application-random.properties</code>:</p>\n<pre><code>server.port=0\n</code></pre>\n<p>And use\n<code>ServletWebServerApplicationContext.getWebServer().getPort()</code> to get embedded server port.</p>\n<ol start=\"3\">\n<li><code>WebEnvironment.MOCK</code> - <code>@SpringBootTest</code> without parameters, or with <code>WebEnvironment=WebEnvironment.MOCK</code>, doesn't load a real HTTP server. You can not use <code>RestTemplate</code> or <code>TestRestTemplate</code> to test application. Have to use <code>@MockMVC</code>.</li>\n</ol>\n<p>Creates a <code>WebApplicationContext</code> with a mock servlet environment if servlet APIs are on the classpath.</p>\n"}],"owner":{"account_id":9875939,"reputation":1484,"user_id":7313698,"accept_rate":67,"display_name":"Spasoje Petronijević"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20594,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"answer_count":3,"score":17,"last_activity_date":1698920563,"creation_date":1570976762,"question_id":58364490,"body_markdown":"I wrote spring boot integration test and it is working. Here is the test config:\r\n\r\n    @RunWith(SpringRunner.class)\r\n    @SpringBootTest(webEnvironment = RANDOM_PORT)\r\n    @AutoConfigureMockMvc\r\n    @Transactional\r\n    public class SomeTest {\r\n       @Autowired\r\n       private MockMvc mvc;\r\n    \r\n       @Test\r\n       public void insertEventTest(){\r\n          ...testing something...\r\n       }\r\n    \r\n    }\r\nI understand that when setting `webEnvironment = RANDOM_PORT` spring will initialize an embedded web server and run this test against that web server. I take a look at logs when running this test and saw that embedded `TomcatWebServer` was started. It takes about 6 seconds to initialize Tomcat but between those two parts of the logs few other beans were initialized so I am pretty sure that initializing Tomcat was not 6 seconds but less than 6 seconds.\r\nOne part of the logs:\r\n\r\n    2019-10-13 16:03:20.065  INFO 8596 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 0 (http)\r\n    2019-10-13 16:03:20.098  INFO 8596 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n    2019-10-13 16:03:20.098  INFO 8596 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.14]\r\n    2019-10-13 16:03:20.108  INFO 8596 --- [           main] o.a.catalina.core.AprLifecycleListener   : The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib:/usr/lib64:/lib64:/lib:/usr/lib]\r\n    2019-10-13 16:03:20.228  INFO 8596 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n\r\n...some more logs and then finally\r\n  \r\n\r\n      2019-10-13 16:03:26.366  INFO 8596 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 38335 (http) with context path &#39;&#39;\r\nI run test 3 times and it takes 12 ,11.4 and 12 seconds for test to complete. After that, I tried to set `@SpringBootTest(webEnvironment = MOCK)` . I noticed that this time `Tomcat` was not initialized(web server was mocked by spring). Execution times were 11.3, 11 and 10.8 seconds. In both cases, all tests were green. My thoughts were that I will improve performance of my tests with mocked web server but what I got is 1 second. If we have in mind that my application context is cached between test classes, I basically got nothing. So my question is, in which cases test will pass with `@SpringBootTest(webEnvironment = RANDOM_PORT)` and fail with `@SpringBootTest(webEnvironment = MOCK)` or vice versa and when I should use `RANDOM_PORT` and when `MOCK` ?","title":"Difference between webEnvironment = RANDOM_PORT and webEnvironment = MOCK","body":"<p>I wrote spring boot integration test and it is working. Here is the test config:</p>\n\n<pre><code>@RunWith(SpringRunner.class)\n@SpringBootTest(webEnvironment = RANDOM_PORT)\n@AutoConfigureMockMvc\n@Transactional\npublic class SomeTest {\n   @Autowired\n   private MockMvc mvc;\n\n   @Test\n   public void insertEventTest(){\n      ...testing something...\n   }\n\n}\n</code></pre>\n\n<p>I understand that when setting <code>webEnvironment = RANDOM_PORT</code> spring will initialize an embedded web server and run this test against that web server. I take a look at logs when running this test and saw that embedded <code>TomcatWebServer</code> was started. It takes about 6 seconds to initialize Tomcat but between those two parts of the logs few other beans were initialized so I am pretty sure that initializing Tomcat was not 6 seconds but less than 6 seconds.\nOne part of the logs:</p>\n\n<pre><code>2019-10-13 16:03:20.065  INFO 8596 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 0 (http)\n2019-10-13 16:03:20.098  INFO 8596 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2019-10-13 16:03:20.098  INFO 8596 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.14]\n2019-10-13 16:03:20.108  INFO 8596 --- [           main] o.a.catalina.core.AprLifecycleListener   : The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/java/packages/lib:/usr/lib64:/lib64:/lib:/usr/lib]\n2019-10-13 16:03:20.228  INFO 8596 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n</code></pre>\n\n<p>...some more logs and then finally</p>\n\n<pre><code>  2019-10-13 16:03:26.366  INFO 8596 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 38335 (http) with context path ''\n</code></pre>\n\n<p>I run test 3 times and it takes 12 ,11.4 and 12 seconds for test to complete. After that, I tried to set <code>@SpringBootTest(webEnvironment = MOCK)</code> . I noticed that this time <code>Tomcat</code> was not initialized(web server was mocked by spring). Execution times were 11.3, 11 and 10.8 seconds. In both cases, all tests were green. My thoughts were that I will improve performance of my tests with mocked web server but what I got is 1 second. If we have in mind that my application context is cached between test classes, I basically got nothing. So my question is, in which cases test will pass with <code>@SpringBootTest(webEnvironment = RANDOM_PORT)</code> and fail with <code>@SpringBootTest(webEnvironment = MOCK)</code> or vice versa and when I should use <code>RANDOM_PORT</code> and when <code>MOCK</code> ?</p>\n"},{"tags":["java","selenium-webdriver","automation","antd","software-quality"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1699450683,"post_id":77408777,"comment_id":136532600,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":5522241,"reputation":22,"user_id":4384833,"display_name":"Shahzada Fahad Ashraf"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698920557,"creation_date":1698920557,"question_id":77408777,"body_markdown":"Hello good people of the internet.\r\nI&#39;m looking for a locator bank or a github repository enlisting all the necessary locators for the Ant Design (Antd - React) library for Selenium Web Driver (Java).\r\n\r\nCurrently, I&#39;ve been trying to figure out all the locators manually which kind of feels like reinventing the wheel!\r\n\r\nAny help in this area will be very helpful.\r\n\r\nThank you in advance!","title":"Selenium Locators for Ant Design","body":"<p>Hello good people of the internet.\nI'm looking for a locator bank or a github repository enlisting all the necessary locators for the Ant Design (Antd - React) library for Selenium Web Driver (Java).</p>\n<p>Currently, I've been trying to figure out all the locators manually which kind of feels like reinventing the wheel!</p>\n<p>Any help in this area will be very helpful.</p>\n<p>Thank you in advance!</p>\n"},{"tags":["java","json","spring"],"comments":[{"owner":{"account_id":26746848,"reputation":226,"user_id":20346807,"display_name":"Joan"},"score":0,"creation_date":1698919965,"post_id":77408671,"comment_id":136466492,"body_markdown":"In the RequestBody you should expect a DataModel[] not a DataModel..","body":"In the RequestBody you should expect a DataModel[] not a DataModel.."}],"answers":[{"tags":[],"owner":{"account_id":27460612,"reputation":63,"user_id":20951255,"display_name":"Krzysztof Grabowski"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1698920206,"creation_date":1698920206,"answer_id":77408737,"question_id":77408671,"body_markdown":"Your current implementation is expecting a single object in the request body, but you&#39;re sending an array of objects. To process the array of JSON objects, you need to change your method signature to accept a List&lt;DataModel&gt; instead of a single DataModel. Here&#39;s how you could do it:\r\n\r\n    @PostMapping(&quot;/addData&quot;)\r\n    public ResponseEntity addData(@RequestBody List&lt;DataModel&gt; dataModels){\r\n        try {\r\n            dataServicez.saveData(dataModels);\r\n            return ResponseEntity.ok(&quot;Ok&quot;);\r\n        } catch (Exception e){\r\n            return ResponseEntity.badRequest().body(&quot;Ошибка&quot;);\r\n        }\r\n    }\r\n\r\nService: \r\n\r\n\r\n    public List&lt;DataModel&gt; saveData(List&lt;DataModel&gt; dataModels){\r\n        List&lt;DataModel&gt; savedDataModels = new ArrayList&lt;&gt;();\r\n        for (DataModel dataModel : dataModels) {\r\n            DataModel _dataModel = new DataModel(dataModel.getId(), dataModel.getAmperage(), dataModel.getVoltage());\r\n            savedDataModels.add(dataRepo.save(_dataModel));\r\n        }\r\n        return savedDataModels;\r\n    }","title":"Save Json Array in Spring Framework","body":"<p>Your current implementation is expecting a single object in the request body, but you're sending an array of objects. To process the array of JSON objects, you need to change your method signature to accept a List instead of a single DataModel. Here's how you could do it:</p>\n<pre><code>@PostMapping(&quot;/addData&quot;)\npublic ResponseEntity addData(@RequestBody List&lt;DataModel&gt; dataModels){\n    try {\n        dataServicez.saveData(dataModels);\n        return ResponseEntity.ok(&quot;Ok&quot;);\n    } catch (Exception e){\n        return ResponseEntity.badRequest().body(&quot;Ошибка&quot;);\n    }\n}\n</code></pre>\n<p>Service:</p>\n<pre><code>public List&lt;DataModel&gt; saveData(List&lt;DataModel&gt; dataModels){\n    List&lt;DataModel&gt; savedDataModels = new ArrayList&lt;&gt;();\n    for (DataModel dataModel : dataModels) {\n        DataModel _dataModel = new DataModel(dataModel.getId(), dataModel.getAmperage(), dataModel.getVoltage());\n        savedDataModels.add(dataRepo.save(_dataModel));\n    }\n    return savedDataModels;\n}\n</code></pre>\n"}],"owner":{"account_id":20509166,"reputation":39,"user_id":18729480,"display_name":"PluggaRose"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77408737,"answer_count":1,"score":0,"last_activity_date":1698920206,"creation_date":1698919576,"question_id":77408671,"body_markdown":"In my project, I use the spring framework and a database for logging indicators with esp8266. Because the measurement frequency is too high (~100 milliseconds) I decided to send Json data as an array. Like this one:\r\n\r\n    [\r\n        {\r\n            &quot;voltage&quot;:1111,\r\n            &quot;amperage&quot;:1111\r\n        },\r\n        {\r\n            &quot;voltage&quot;:2222,\r\n            &quot;amperage&quot;:2222\r\n        } \r\n    ]\r\nWhen trying to send data, the controller could not process the data. and issued such an error:\r\n\r\n    Resolved [org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Cannot deserialize value of type `com.INA219.INA219.models.DataModel` from Array value (token `JsonToken.START_ARRAY`)]\r\n\r\nAs far as I understand, I need to save each element of the json array as a separate object. How can I do this?\r\n\r\nController method\r\n\r\n    @PostMapping(&quot;/addData&quot;)\r\n        public ResponseEntity addData(@RequestBody DataModel dataModell){\r\n            try {\r\n                dataServicez.saveData(dataModell);\r\n                return ResponseEntity.ok(&quot;Ok&quot;);\r\n            } catch (Exception e){\r\n                return ResponseEntity.badRequest().body(&quot;Ошибка&quot;);\r\n            }\r\n\r\nService method\r\n\r\n    public DataModel saveData(DataModel dataModel){\r\n            DataModel _dataModel = new DataModel(dataModel.getId(),dataModel.getAmperage(),dataModel.getVoltage());\r\n            return dataRepo.save(_dataModel);\r\n        }\r\n\r\nPart of the data model class (all other methods in the class are automatically generated getter and setter, and default constructors)\r\n\r\n    public class DataModel {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.AUTO)\r\n        @Column(name = &quot;id&quot;)\r\n        private Long id;\r\n        @Column(name = &quot;amperage&quot;)\r\n        private Double amperage;\r\n        @Column(name = &quot;voltage&quot;)\r\n        private Double voltage;\r\n    ...","title":"Save Json Array in Spring Framework","body":"<p>In my project, I use the spring framework and a database for logging indicators with esp8266. Because the measurement frequency is too high (~100 milliseconds) I decided to send Json data as an array. Like this one:</p>\n<pre><code>[\n    {\n        &quot;voltage&quot;:1111,\n        &quot;amperage&quot;:1111\n    },\n    {\n        &quot;voltage&quot;:2222,\n        &quot;amperage&quot;:2222\n    } \n]\n</code></pre>\n<p>When trying to send data, the controller could not process the data. and issued such an error:</p>\n<pre><code>Resolved [org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Cannot deserialize value of type `com.INA219.INA219.models.DataModel` from Array value (token `JsonToken.START_ARRAY`)]\n</code></pre>\n<p>As far as I understand, I need to save each element of the json array as a separate object. How can I do this?</p>\n<p>Controller method</p>\n<pre><code>@PostMapping(&quot;/addData&quot;)\n    public ResponseEntity addData(@RequestBody DataModel dataModell){\n        try {\n            dataServicez.saveData(dataModell);\n            return ResponseEntity.ok(&quot;Ok&quot;);\n        } catch (Exception e){\n            return ResponseEntity.badRequest().body(&quot;Ошибка&quot;);\n        }\n</code></pre>\n<p>Service method</p>\n<pre><code>public DataModel saveData(DataModel dataModel){\n        DataModel _dataModel = new DataModel(dataModel.getId(),dataModel.getAmperage(),dataModel.getVoltage());\n        return dataRepo.save(_dataModel);\n    }\n</code></pre>\n<p>Part of the data model class (all other methods in the class are automatically generated getter and setter, and default constructors)</p>\n<pre><code>public class DataModel {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @Column(name = &quot;id&quot;)\n    private Long id;\n    @Column(name = &quot;amperage&quot;)\n    private Double amperage;\n    @Column(name = &quot;voltage&quot;)\n    private Double voltage;\n...\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-webflux","project-reactor"],"comments":[{"owner":{"account_id":11400015,"reputation":1904,"user_id":8357251,"display_name":"gdomo"},"score":1,"creation_date":1698877255,"post_id":77405756,"comment_id":136461976,"body_markdown":"It cannot be done within &quot;REST call&quot; flux. You have to schedule 2nd call somehow manually. For example, take an Executors.newSingleThreadScheduledExecutor() and submit a task to it.","body":"It cannot be done within &quot;REST call&quot; flux. You have to schedule 2nd call somehow manually. For example, take an Executors.newSingleThreadScheduledExecutor() and submit a task to it."},{"owner":{"account_id":8023174,"reputation":9194,"user_id":6051176,"display_name":"Martin Tarj&#225;nyi"},"score":1,"creation_date":1699038127,"post_id":77405756,"comment_id":136485610,"body_markdown":"Does this answer your question? [Fire and forget with reactor](https://stackoverflow.com/questions/57566465/fire-and-forget-with-reactor)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/57566465/fire-and-forget-with-reactor\">Fire and forget with reactor</a>"}],"answers":[{"tags":[],"owner":{"account_id":19395247,"reputation":3208,"user_id":14183092,"display_name":"kerbermeister"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1698919259,"creation_date":1698919259,"answer_id":77408629,"question_id":77405756,"body_markdown":"I would do something like this, basically it should be quite close to what you want to achieve\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    @GetMapping(&quot;/make-calls&quot;)\r\n    public Mono&lt;ResponseEntity&lt;String&gt;&gt; makeCalls() {\r\n        return myService.makeCall() // call first service\r\n                .map(result -&gt; ResponseEntity.ok(result)) // map the result to response\r\n                // after success, we call subscribe() to this chain from another thread, so that the response will be returned immediately.\r\n                // the call will be executed after 30 seconds\r\n                .doOnSuccess(__ -&gt; Mono.delay(Duration.ofSeconds(30L)) \r\n                        .flatMap(___ -&gt; otherService.makeCall())\r\n                        .subscribeOn(Schedulers.boundedElastic())\r\n                        .subscribe()\r\n                );\r\n    }","title":"How to complete a reactive chain while branching out another process that will finish after complete","body":"<p>I would do something like this, basically it should be quite close to what you want to achieve</p>\n<pre class=\"lang-java prettyprint-override\"><code>@GetMapping(&quot;/make-calls&quot;)\npublic Mono&lt;ResponseEntity&lt;String&gt;&gt; makeCalls() {\n    return myService.makeCall() // call first service\n            .map(result -&gt; ResponseEntity.ok(result)) // map the result to response\n            // after success, we call subscribe() to this chain from another thread, so that the response will be returned immediately.\n            // the call will be executed after 30 seconds\n            .doOnSuccess(__ -&gt; Mono.delay(Duration.ofSeconds(30L)) \n                    .flatMap(___ -&gt; otherService.makeCall())\n                    .subscribeOn(Schedulers.boundedElastic())\n                    .subscribe()\n            );\n}\n</code></pre>\n"}],"owner":{"account_id":415808,"reputation":628,"user_id":790832,"accept_rate":67,"display_name":"Dusko"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1698919462,"creation_date":1698874742,"question_id":77405756,"body_markdown":"using Spring boot with Webflux. What I need to do is the following:\r\n\r\nWhen I get a request I need to call another REST endpoint on another service and then I need to have a delay of 30 seconds after which I should call the same endpoint but with slightly different data. \r\n\r\nI can&#39;t just use `.then(delay)` because this means the request I got will complete in 30+ seconds and this will cause a timeout on the calling end. \r\n\r\nSo I am wondering how to branch out and spin up another process that will wait for 30 seconds and call the necessary endpoint while I let the reactive chain, that was initialised when I got a REST call against my service, to complete?\r\n\r\nSmall visualisation below:\r\n\r\n```\r\nCaller             My Service            Other service\r\n|                     |                       |\r\n|                     |                       |\r\n|-----REST call------&gt;|                       |\r\n|                     |-------1st call-------&gt;|\r\n|&lt;---response 200-----|                       |\r\n|                     |                       |\r\n|                     |                       |\r\n|                     |   30 seconds          |\r\n|                     |                       |\r\n|                     |                       |\r\n|                     |-------2nd call-------&gt;|\r\n|                     |                       |\r\n|                     |                       |\r\n```\r\n\r\nHope it is clear.\r\n\r\nThanks!\r\n","title":"How to complete a reactive chain while branching out another process that will finish after complete","body":"<p>using Spring boot with Webflux. What I need to do is the following:</p>\n<p>When I get a request I need to call another REST endpoint on another service and then I need to have a delay of 30 seconds after which I should call the same endpoint but with slightly different data.</p>\n<p>I can't just use <code>.then(delay)</code> because this means the request I got will complete in 30+ seconds and this will cause a timeout on the calling end.</p>\n<p>So I am wondering how to branch out and spin up another process that will wait for 30 seconds and call the necessary endpoint while I let the reactive chain, that was initialised when I got a REST call against my service, to complete?</p>\n<p>Small visualisation below:</p>\n<pre><code>Caller             My Service            Other service\n|                     |                       |\n|                     |                       |\n|-----REST call------&gt;|                       |\n|                     |-------1st call-------&gt;|\n|&lt;---response 200-----|                       |\n|                     |                       |\n|                     |                       |\n|                     |   30 seconds          |\n|                     |                       |\n|                     |                       |\n|                     |-------2nd call-------&gt;|\n|                     |                       |\n|                     |                       |\n</code></pre>\n<p>Hope it is clear.</p>\n<p>Thanks!</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1546278919,"post_id":53990100,"comment_id":94817846,"body_markdown":"https://stackoverflow.com/a/27503199/2970947","body":"<a href=\"https://stackoverflow.com/a/27503199/2970947\">stackoverflow.com/a/27503199/2970947</a>"},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":1,"creation_date":1546303980,"post_id":53990100,"comment_id":94822484,"body_markdown":"Can you provide details on why you need to use a separate settings.xml?","body":"Can you provide details on why you need to use a separate settings.xml?"},{"owner":{"account_id":112317,"reputation":93929,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1546340641,"post_id":53990100,"comment_id":94827149,"body_markdown":"First it would be useful to know why you need a separate settings.xml as already @Thorbj&#248;rnRavnAndersen asked. Furthermore you might can use  `.mvn/maven.config`? See release notes https://maven.apache.org/docs/3.3.1/release-notes.html","body":"First it would be useful to know why you need a separate settings.xml as already @Thorbj&#248;rnRavnAndersen asked. Furthermore you might can use  <code>.mvn&#47;maven.config</code>? See release notes <a href=\"https://maven.apache.org/docs/3.3.1/release-notes.html\" rel=\"nofollow noreferrer\">maven.apache.org/docs/3.3.1/release-notes.html</a>"},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1546344916,"post_id":53990100,"comment_id":94828021,"body_markdown":"@khmarbaise I have used Maven for very long and I have missed the announcement of this functionality (which is a major step forward - I hail the new architects).   Is it well described in the official documentation too?","body":"@khmarbaise I have used Maven for very long and I have missed the announcement of this functionality (which is a major step forward - I hail the new architects).   Is it well described in the official documentation too?"},{"owner":{"account_id":112317,"reputation":93929,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1546354817,"post_id":53990100,"comment_id":94830231,"body_markdown":"@Thorbj&#248;rnRavnAndersen Can you explain what you define as the official documentation? Do you have an expectation where it should be documented apart from that release notes?","body":"@Thorbj&#248;rnRavnAndersen Can you explain what you define as the official documentation? Do you have an expectation where it should be documented apart from that release notes?"},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1546356962,"post_id":53990100,"comment_id":94830626,"body_markdown":"@khmarbaise I had a closer look.  My intuitive expectation would be that the page that explains the command line flags thoroughly had a section of how to do this.  Apparently such a page is not online.  The closest is https://maven.apache.org/configure.html which has a single line explaining the exisiance of .mvn and two XML-files but without any further links.  Also https://maven.apache.org/guides/mini/guide-configuring-maven.html has a section on optional configuration which only mentions settings.xml.   Have I overlooked anything?","body":"@khmarbaise I had a closer look.  My intuitive expectation would be that the page that explains the command line flags thoroughly had a section of how to do this.  Apparently such a page is not online.  The closest is <a href=\"https://maven.apache.org/configure.html\" rel=\"nofollow noreferrer\">maven.apache.org/configure.html</a> which has a single line explaining the exisiance of .mvn and two XML-files but without any further links.  Also <a href=\"https://maven.apache.org/guides/mini/guide-configuring-maven.html\" rel=\"nofollow noreferrer\">maven.apache.org/guides/mini/guide-configuring-maven.html</a> has a section on optional configuration which only mentions settings.xml.   Have I overlooked anything?"},{"owner":{"account_id":482540,"reputation":35,"user_id":896998,"accept_rate":20,"display_name":"mario"},"score":0,"creation_date":1600182196,"post_id":53990100,"comment_id":113003820,"body_markdown":"@khmarbaise I too have used maven for a long time and wanted the .mvn/maven.config functionality and I was not aware. If you have any influence in the maven doc I would suggest making this more obvious.  I would also suggest that a ~/.mvn (%USERPROFILE%\\.mvn for windows) would also be extremely useful.","body":"@khmarbaise I too have used maven for a long time and wanted the .mvn/maven.config functionality and I was not aware. If you have any influence in the maven doc I would suggest making this more obvious.  I would also suggest that a ~/.mvn (%USERPROFILE%\\.mvn for windows) would also be extremely useful."}],"answers":[{"tags":[],"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1546304738,"creation_date":1546303842,"answer_id":53992389,"question_id":53990100,"body_markdown":"From the `mvn` shell script:\r\n\r\n    # -----------------------------------------------------------------------------\r\n    # Apache Maven Startup Script\r\n    #\r\n    # Environment Variable Prerequisites\r\n    #\r\n    #   JAVA_HOME       Must point at your Java Development Kit installation.\r\n    #   MAVEN_OPTS      (Optional) Java runtime options used when Maven is executed.\r\n    #   MAVEN_SKIP_RC   (Optional) Flag to disable loading of mavenrc files.\r\n    # -----------------------------------------------------------------------------\r\n\r\nso MAVEN_OPTS contains JVM arguments, not Maven arguments (which is consistent with the error message indicating the JVM doesn&#39;t like your arguments).\r\n\r\nThe actual invocation is\r\n\r\n    exec &quot;$JAVACMD&quot; \\\r\n      $MAVEN_OPTS \\\r\n      $MAVEN_DEBUG_OPTS \\\r\n      -classpath &quot;${CLASSWORLDS_JAR}&quot; \\\r\n      &quot;-Dclassworlds.conf=${MAVEN_HOME}/bin/m2.conf&quot; \\\r\n      &quot;-Dmaven.home=${MAVEN_HOME}&quot; \\\r\n      &quot;-Dlibrary.jansi.path=${MAVEN_HOME}/lib/jansi-native&quot; \\\r\n      &quot;-Dmaven.multiModuleProjectDirectory=${MAVEN_PROJECTBASEDIR}&quot; \\\r\n      ${CLASSWORLDS_LAUNCHER} &quot;$@&quot;\r\n\r\nso there is nowhere to put it.  I would therefore suggest that you write your own ? `mvn` script which in turn calls the real maven command with the arguments you like (in my experience scripts are more robust than aliases).  Additionally I have recently found myself that the Java versions later than 8 have ... interesting issues... so I really need to have `mvn8`, `mvn11` (and perhaps more) commands anyway.\r\n\r\nAnother approach that I only started using recently is the Maven wrapper (https://github.com/takari/maven-wrapper) where a `./mvnw` command is placed in your project which then downloads Maven when needed.  This is very useful.  To get started use\r\n\r\n    mvn -N io.takari:maven:wrapper\r\n\r\nafter which `./mvnw` should be directly usable instead of `mvn`.  The interesting part here is that the generated Maven command looks like\r\n\r\n    exec &quot;$JAVACMD&quot; \\\r\n      $MAVEN_OPTS \\\r\n      -classpath &quot;$MAVEN_PROJECTBASEDIR/.mvn/wrapper/maven-wrapper.jar&quot; \\\r\n      &quot;-Dmaven.home=${M2_HOME}&quot; &quot;-Dmaven.multiModuleProjectDirectory=${MAVEN_PROJECTBASEDIR}&quot; \\\r\n      ${WRAPPER_LAUNCHER} $MAVEN_CONFIG &quot;$@&quot;\r\n\r\nand MAVEN_CONFIG is not set earlier in the script.  So for `mvnw` you can set MAVEN_CONFIG to your &quot;-s /settings.xml&quot; string.\r\n","title":"Maven specify settings file location via MAVEN_OPTS","body":"<p>From the <code>mvn</code> shell script:</p>\n\n<pre><code># -----------------------------------------------------------------------------\n# Apache Maven Startup Script\n#\n# Environment Variable Prerequisites\n#\n#   JAVA_HOME       Must point at your Java Development Kit installation.\n#   MAVEN_OPTS      (Optional) Java runtime options used when Maven is executed.\n#   MAVEN_SKIP_RC   (Optional) Flag to disable loading of mavenrc files.\n# -----------------------------------------------------------------------------\n</code></pre>\n\n<p>so MAVEN_OPTS contains JVM arguments, not Maven arguments (which is consistent with the error message indicating the JVM doesn't like your arguments).</p>\n\n<p>The actual invocation is</p>\n\n<pre><code>exec \"$JAVACMD\" \\\n  $MAVEN_OPTS \\\n  $MAVEN_DEBUG_OPTS \\\n  -classpath \"${CLASSWORLDS_JAR}\" \\\n  \"-Dclassworlds.conf=${MAVEN_HOME}/bin/m2.conf\" \\\n  \"-Dmaven.home=${MAVEN_HOME}\" \\\n  \"-Dlibrary.jansi.path=${MAVEN_HOME}/lib/jansi-native\" \\\n  \"-Dmaven.multiModuleProjectDirectory=${MAVEN_PROJECTBASEDIR}\" \\\n  ${CLASSWORLDS_LAUNCHER} \"$@\"\n</code></pre>\n\n<p>so there is nowhere to put it.  I would therefore suggest that you write your own ? <code>mvn</code> script which in turn calls the real maven command with the arguments you like (in my experience scripts are more robust than aliases).  Additionally I have recently found myself that the Java versions later than 8 have ... interesting issues... so I really need to have <code>mvn8</code>, <code>mvn11</code> (and perhaps more) commands anyway.</p>\n\n<p>Another approach that I only started using recently is the Maven wrapper (<a href=\"https://github.com/takari/maven-wrapper\" rel=\"noreferrer\">https://github.com/takari/maven-wrapper</a>) where a <code>./mvnw</code> command is placed in your project which then downloads Maven when needed.  This is very useful.  To get started use</p>\n\n<pre><code>mvn -N io.takari:maven:wrapper\n</code></pre>\n\n<p>after which <code>./mvnw</code> should be directly usable instead of <code>mvn</code>.  The interesting part here is that the generated Maven command looks like</p>\n\n<pre><code>exec \"$JAVACMD\" \\\n  $MAVEN_OPTS \\\n  -classpath \"$MAVEN_PROJECTBASEDIR/.mvn/wrapper/maven-wrapper.jar\" \\\n  \"-Dmaven.home=${M2_HOME}\" \"-Dmaven.multiModuleProjectDirectory=${MAVEN_PROJECTBASEDIR}\" \\\n  ${WRAPPER_LAUNCHER} $MAVEN_CONFIG \"$@\"\n</code></pre>\n\n<p>and MAVEN_CONFIG is not set earlier in the script.  So for <code>mvnw</code> you can set MAVEN_CONFIG to your \"-s /settings.xml\" string.</p>\n"},{"tags":[],"owner":{"account_id":1041926,"reputation":26147,"user_id":1047788,"accept_rate":81,"display_name":"user7610"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1681818570,"creation_date":1667229733,"answer_id":74265480,"question_id":53990100,"body_markdown":"## Maven 4\r\n\r\nThe [`MAVEN_ARGS` environment variable][1] is supported and can be used.\r\n\r\n## Maven 3.9.0\r\n\r\nThe [`MAVEN_ARGS` environment variable][1] is implemented in Maven 3, starting with version 3.9.0 and can be used if you have sufficiently new version of maven.\r\n\r\n## Older Maven 3 versions\r\n\r\nThere was a feature request [MNG-5824: Support `MAVEN_ARGS` environment variable as a way of supplying default command line arguments][2]. This was closed unimplemented with a suggestion to use the [`.mvn/maven.config` in project directory][3]\r\n\r\n\r\n  [1]: https://maven.apache.org/configure.html#maven_args-environment-variable\r\n  [2]: https://issues.apache.org/jira/browse/MNG-5824\r\n  [3]: https://maven.apache.org/configure.html#mvn-directory","title":"Maven specify settings file location via MAVEN_OPTS","body":"<h2>Maven 4</h2>\n<p>The <a href=\"https://maven.apache.org/configure.html#maven_args-environment-variable\" rel=\"nofollow noreferrer\"><code>MAVEN_ARGS</code> environment variable</a> is supported and can be used.</p>\n<h2>Maven 3.9.0</h2>\n<p>The <a href=\"https://maven.apache.org/configure.html#maven_args-environment-variable\" rel=\"nofollow noreferrer\"><code>MAVEN_ARGS</code> environment variable</a> is implemented in Maven 3, starting with version 3.9.0 and can be used if you have sufficiently new version of maven.</p>\n<h2>Older Maven 3 versions</h2>\n<p>There was a feature request <a href=\"https://issues.apache.org/jira/browse/MNG-5824\" rel=\"nofollow noreferrer\">MNG-5824: Support <code>MAVEN_ARGS</code> environment variable as a way of supplying default command line arguments</a>. This was closed unimplemented with a suggestion to use the <a href=\"https://maven.apache.org/configure.html#mvn-directory\" rel=\"nofollow noreferrer\"><code>.mvn/maven.config</code> in project directory</a></p>\n"},{"tags":[],"owner":{"account_id":3595426,"reputation":1163,"user_id":3000316,"accept_rate":33,"display_name":"Monkey Supersonic"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698918962,"creation_date":1698918962,"answer_id":77408587,"question_id":53990100,"body_markdown":"If (and only if) you are using *Maven Wrapper*, you can set\r\n\r\n    export MAVEN_CONFIG=&quot;-s /path/to/settings.xml\r\n\r\n`MAVEN_ARGS` did not work for me even with Maven Version &gt;= 3.9.0.","title":"Maven specify settings file location via MAVEN_OPTS","body":"<p>If (and only if) you are using <em>Maven Wrapper</em>, you can set</p>\n<pre><code>export MAVEN_CONFIG=&quot;-s /path/to/settings.xml\n</code></pre>\n<p><code>MAVEN_ARGS</code> did not work for me even with Maven Version &gt;= 3.9.0.</p>\n"}],"owner":{"account_id":134994,"reputation":10073,"user_id":337504,"accept_rate":84,"display_name":"Mustafa"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9847,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":3,"score":6,"last_activity_date":1698918962,"creation_date":1546278625,"question_id":53990100,"body_markdown":"I need to use maven with a settings file in a specific location, normally you can give `MAVEN_OPTS` env variable but they are passed to JVM so the following will yield:\r\n\r\n    $ MAVEN_OPTS=&quot;-s /settings.xml&quot;\r\n    $ mvn clean\r\n    Unrecognized option: -s\r\n    Error: Could not create the Java Virtual Machine.\r\n    Error: A fatal exception has occurred. Program will exit.\r\n\r\nI searched a lot but found two keys, `org.apache.maven.user-settings` and `org.apache.maven.global-settings` which is explained [here](https://docs.alfresco.com/5.1/tasks/alfresco-sdk-install-maven-opts.html) but it seemed it was working with Maven 2 only. Aliasing `mvn` to `mvn -s /settings.xml` would probably work but I do not like it.","title":"Maven specify settings file location via MAVEN_OPTS","body":"<p>I need to use maven with a settings file in a specific location, normally you can give <code>MAVEN_OPTS</code> env variable but they are passed to JVM so the following will yield:</p>\n\n<pre><code>$ MAVEN_OPTS=\"-s /settings.xml\"\n$ mvn clean\nUnrecognized option: -s\nError: Could not create the Java Virtual Machine.\nError: A fatal exception has occurred. Program will exit.\n</code></pre>\n\n<p>I searched a lot but found two keys, <code>org.apache.maven.user-settings</code> and <code>org.apache.maven.global-settings</code> which is explained <a href=\"https://docs.alfresco.com/5.1/tasks/alfresco-sdk-install-maven-opts.html\" rel=\"noreferrer\">here</a> but it seemed it was working with Maven 2 only. Aliasing <code>mvn</code> to <code>mvn -s /settings.xml</code> would probably work but I do not like it.</p>\n"},{"tags":["java","android","activeandroid"],"comments":[{"owner":{"account_id":11236448,"reputation":2567,"user_id":8242447,"display_name":"Ṃųỻịgǻňạcểơửṩ"},"score":3,"creation_date":1560316139,"post_id":56554980,"comment_id":99690800,"body_markdown":"Welcome to StackOverflow! This question is liable to **being put on hold** since you provided zero explanation on your question title (which is a particular error). You can keep the error message as the question title, but can you please give an explanation of how your program was at the time you saw this error, such as your project, files, etc, and what action lead to that error.","body":"Welcome to StackOverflow! This question is liable to <b>being put on hold</b> since you provided zero explanation on your question title (which is a particular error). You can keep the error message as the question title, but can you please give an explanation of how your program was at the time you saw this error, such as your project, files, etc, and what action lead to that error."}],"answers":[{"tags":[],"owner":{"account_id":7697424,"reputation":963,"user_id":5831373,"display_name":"AlexS"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1698918729,"creation_date":1562577911,"answer_id":56931914,"question_id":56554980,"body_markdown":"You should add into app/gradle\r\n\r\n    repositories {\r\n        mavenCentral()\r\n        maven { url &quot;https://oss.sonatype.org/content/repositories/snapshots/&quot; }\r\n        ....\r\n    }\r\n\r\n    dependencies {\r\n        implementation &#39;com.michaelpardo:activeandroid:3.1.0-SNAPSHOT&#39;\r\n        ...\r\n    }\r\n    \r\n**UPDATE:**\r\nFramework was recently removed from the repository, so:\r\n\r\nStep 1 : \r\n              remove or comment following line from build.gradle file\r\n    \r\n    implementation &#39;com.michaelpardo:activeandroid:3.1.0-SNAPSHOT&#39;\r\n\r\nStep 2:\r\n              Download [jar from this link][1]                                                                                                                                \r\n\r\n\r\nStep 3:\r\n              Put this jar to app/lib folder  \r\n\r\nStep 4 :\r\n             add implementation files(&#39;libs/activeandroid-3.1.0-SNAPSHOT.jar&#39;) line to build.gradle file  \r\n\r\n\r\n  [1]: https://drive.google.com/file/d/1czgtBl0b4wxNMlF0OF2iCoGjcxeN6KTp/view?usp=sharing","title":"ERROR: Failed to resolve: com.michaelpardo:activeandroid:3.1.0-SNAPSHOT Show in Project Structure dialog Affected Modules: app","body":"<p>You should add into app/gradle</p>\n<pre><code>repositories {\n    mavenCentral()\n    maven { url &quot;https://oss.sonatype.org/content/repositories/snapshots/&quot; }\n    ....\n}\n\ndependencies {\n    implementation 'com.michaelpardo:activeandroid:3.1.0-SNAPSHOT'\n    ...\n}\n</code></pre>\n<p><strong>UPDATE:</strong>\nFramework was recently removed from the repository, so:</p>\n<p>Step 1 :\nremove or comment following line from build.gradle file</p>\n<pre><code>implementation 'com.michaelpardo:activeandroid:3.1.0-SNAPSHOT'\n</code></pre>\n<p>Step 2:\nDownload <a href=\"https://drive.google.com/file/d/1czgtBl0b4wxNMlF0OF2iCoGjcxeN6KTp/view?usp=sharing\" rel=\"nofollow noreferrer\">jar from this link</a></p>\n<p>Step 3:\nPut this jar to app/lib folder</p>\n<p>Step 4 :\nadd implementation files('libs/activeandroid-3.1.0-SNAPSHOT.jar') line to build.gradle file</p>\n"}],"owner":{"account_id":16118092,"reputation":11,"user_id":11634666,"display_name":"riza ali"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":721,"favorite_count":0,"down_vote_count":4,"up_vote_count":1,"answer_count":1,"score":-3,"last_activity_date":1698918729,"creation_date":1560315961,"question_id":56554980,"body_markdown":"\r\n&gt; ERROR: Failed to resolve:\r\n&gt; com.michaelpardo:activeandroid:3.1.0-SNAPSHOT Show in Project\r\n&gt; Structure dialog Affected Modules: app\r\n\r\n","title":"ERROR: Failed to resolve: com.michaelpardo:activeandroid:3.1.0-SNAPSHOT Show in Project Structure dialog Affected Modules: app","body":"<blockquote>\n  <p>ERROR: Failed to resolve:\n  com.michaelpardo:activeandroid:3.1.0-SNAPSHOT Show in Project\n  Structure dialog Affected Modules: app</p>\n</blockquote>\n"},{"tags":["java","spring-boot","mockito","java-17"],"comments":[{"owner":{"account_id":187094,"reputation":5113,"user_id":424903,"display_name":"Gimby"},"score":0,"creation_date":1689952271,"post_id":76739067,"comment_id":135290153,"body_markdown":"Is Mockito upgraded as well? This has the hallmarks of code instrumentation going wrong.","body":"Is Mockito upgraded as well? This has the hallmarks of code instrumentation going wrong."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1690082681,"post_id":76739067,"comment_id":135302610,"body_markdown":"Using `RETURNS_DEEP_STUBS` doesn&#39;t mean that you don&#39;t need to use `when(...).returns(...)`, it just means that you don&#39;t need to mock every call in a chain.","body":"Using <code>RETURNS_DEEP_STUBS</code> doesn&#39;t mean that you don&#39;t need to use <code>when(...).returns(...)</code>, it just means that you don&#39;t need to mock every call in a chain."},{"owner":{"account_id":6821484,"reputation":1389,"user_id":5248498,"display_name":"Ahmed Tawfik"},"score":0,"creation_date":1694038787,"post_id":76739067,"comment_id":135840481,"body_markdown":"Anyone know the issue behind this? Running the test individually or in a class in IntelliJ doesn&#39;t trigger the error, but running the whole maven project (consisting of multiple maven modules) does trigger the issue, locally. In Jenkins, no trigger.","body":"Anyone know the issue behind this? Running the test individually or in a class in IntelliJ doesn&#39;t trigger the error, but running the whole maven project (consisting of multiple maven modules) does trigger the issue, locally. In Jenkins, no trigger."}],"answers":[{"tags":[],"owner":{"account_id":13722712,"reputation":26,"user_id":9902246,"display_name":"tschi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698918215,"creation_date":1698914020,"answer_id":77407995,"question_id":76739067,"body_markdown":"It&#39;s because your code try to convert the methodParameter to a string in a logger or in printstacktrace for example, and the mock has implemented a return for this case.","title":"org.springframework.core.MethodParameter.getExecutable() Null Pointer Exception using java 17","body":"<p>It's because your code try to convert the methodParameter to a string in a logger or in printstacktrace for example, and the mock has implemented a return for this case.</p>\n"}],"owner":{"account_id":20190310,"reputation":23,"user_id":14808685,"display_name":"Geo A"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":235,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1698918215,"creation_date":1689951184,"question_id":76739067,"body_markdown":"curretly I&#39;m working on upgrading the project to java 17 and for some reason I have an issue on my junit tests that it didn&#39;t happen when I used java 11:\r\n```\r\njava.lang.NullPointerException: Cannot invoke &quot;java.lang.reflect.Executable.toGenericString()&quot; because the return value of &quot;org.springframework.core.MethodParameter.getExecutable()&quot; is null\r\n```\r\nThe junit test is about testing `MethodArgumentNotValidException` case\r\n```\r\n   @Mock(answer = Answers.RETURNS_DEEP_STUBS)\r\n   private MethodParameter methodParameter;\r\n\r\n   MethodArgumentNotValidException method = new MethodArgumentNotValidException(methodParameter,bindingResult);\r\n\r\n```\r\n```\r\n  &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.7.12&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n```\r\nAny ideas?","title":"org.springframework.core.MethodParameter.getExecutable() Null Pointer Exception using java 17","body":"<p>curretly I'm working on upgrading the project to java 17 and for some reason I have an issue on my junit tests that it didn't happen when I used java 11:</p>\n<pre><code>java.lang.NullPointerException: Cannot invoke &quot;java.lang.reflect.Executable.toGenericString()&quot; because the return value of &quot;org.springframework.core.MethodParameter.getExecutable()&quot; is null\n</code></pre>\n<p>The junit test is about testing <code>MethodArgumentNotValidException</code> case</p>\n<pre><code>   @Mock(answer = Answers.RETURNS_DEEP_STUBS)\n   private MethodParameter methodParameter;\n\n   MethodArgumentNotValidException method = new MethodArgumentNotValidException(methodParameter,bindingResult);\n\n</code></pre>\n<pre><code>  &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.12&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n</code></pre>\n<p>Any ideas?</p>\n"},{"tags":["java","project-reactor"],"comments":[{"owner":{"account_id":78088,"reputation":35600,"user_id":222467,"accept_rate":67,"display_name":"Igor Artamonov"},"score":0,"creation_date":1693490381,"post_id":77016197,"comment_id":135770429,"body_markdown":"You execute it twice. Each `result.block()` is a new execution, with all the steps","body":"You execute it twice. Each <code>result.block()</code> is a new execution, with all the steps"}],"answers":[{"tags":[],"owner":{"account_id":27965824,"reputation":83,"user_id":21356702,"display_name":"Juan Sebastian Forero Noguera"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698918181,"creation_date":1698918181,"answer_id":77408481,"question_id":77016197,"body_markdown":"First comment here, is you should use [stepverify][1] to validate the result \r\n\r\n\r\n  [1]: https://www.baeldung.com/reactive-streams-step-verifier-test-publisher\r\n\r\nwhen you do that, it allow you to call just one time ( not twice as you are doing in this moments) because your error is here\r\n\r\n    assertEquals(result.block().getDeletedSession.contains(accountId))\r\n    assertEquals(1, result.block().getDeletedSession.size())\r\nyou are calling twice, for that reason, it is showing you that error","title":"Flatmap() on Mono is being called twice (Java 11 and project reactor)","body":"<p>First comment here, is you should use <a href=\"https://www.baeldung.com/reactive-streams-step-verifier-test-publisher\" rel=\"nofollow noreferrer\">stepverify</a> to validate the result</p>\n<p>when you do that, it allow you to call just one time ( not twice as you are doing in this moments) because your error is here</p>\n<pre><code>assertEquals(result.block().getDeletedSession.contains(accountId))\nassertEquals(1, result.block().getDeletedSession.size())\n</code></pre>\n<p>you are calling twice, for that reason, it is showing you that error</p>\n"}],"owner":{"account_id":9606247,"reputation":1346,"user_id":9236477,"accept_rate":100,"display_name":"Kaigo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1698918181,"creation_date":1693487920,"question_id":77016197,"body_markdown":"Here I am acting on a method called `accountDatafor()` which returns a `Mono&lt;Response&gt;`, the method I&#39;m working in also returns a `Mono&lt;Response&gt;`.\r\n\r\nThe aim is to **avoid the `block()`** at the end of the pipeline to make this asynchronous as **the accountDataProvider is in another service.** \r\n\r\n    public Mono&lt;Response&gt; deleteAccount(String accountId) {\r\n        return accountDataProvider.accountDataFor(accountId)\r\n                .map(accountData -&gt; {\r\n                    if (accountData.isActive) {\r\n                        return deleteAccount(accountId);\r\n                    }\r\n                    return Mono.just(new Response());\r\n                }).block();\r\n    }\r\n\r\nHowever when I try using `flatmap()` here instead of `.map()` the deleteAccount() method is being called twice, which I can verify in the test.\r\n\r\n    public Mono&lt;Response&gt; deleteAccount(String accountId) {\r\n        return accountDataProvider.accountDataFor(accountId)\r\n                .flatMap(accountData -&gt; {\r\n                    if (accountData.isActive) {\r\n                        return deleteAccount(accountId);\r\n                    }\r\n                    return Mono.just(new Response());\r\n                });\r\n    }\r\n\r\nInside deleteAccount()\r\n\r\n    var response = new Response();\r\n    accountRegistry.getSessions(List.of(accountId)).stream()\r\n                .iterator()\r\n                .forEachRemaining(session -&gt; {\r\n                        response.addToDeletedSessions(session);\r\n                });\r\n    return Mono.just(response);\r\n\r\nFailing line in test:\r\n\r\n    var res = sut.deleteAccount(accountId);\r\n    assertEquals(result.block().getDeletedSession.contains(accountId))\r\n    assertEquals(1, result.block().getDeletedSession.size())\r\n    verify(accountRegistry).getSessions(List.of(accountId));\r\n\r\nError:\r\n\r\n&gt; Wanted 1 time:\r\n\r\n&gt; But was 2 times:","title":"Flatmap() on Mono is being called twice (Java 11 and project reactor)","body":"<p>Here I am acting on a method called <code>accountDatafor()</code> which returns a <code>Mono&lt;Response&gt;</code>, the method I'm working in also returns a <code>Mono&lt;Response&gt;</code>.</p>\n<p>The aim is to <strong>avoid the <code>block()</code></strong> at the end of the pipeline to make this asynchronous as <strong>the accountDataProvider is in another service.</strong></p>\n<pre><code>public Mono&lt;Response&gt; deleteAccount(String accountId) {\n    return accountDataProvider.accountDataFor(accountId)\n            .map(accountData -&gt; {\n                if (accountData.isActive) {\n                    return deleteAccount(accountId);\n                }\n                return Mono.just(new Response());\n            }).block();\n}\n</code></pre>\n<p>However when I try using <code>flatmap()</code> here instead of <code>.map()</code> the deleteAccount() method is being called twice, which I can verify in the test.</p>\n<pre><code>public Mono&lt;Response&gt; deleteAccount(String accountId) {\n    return accountDataProvider.accountDataFor(accountId)\n            .flatMap(accountData -&gt; {\n                if (accountData.isActive) {\n                    return deleteAccount(accountId);\n                }\n                return Mono.just(new Response());\n            });\n}\n</code></pre>\n<p>Inside deleteAccount()</p>\n<pre><code>var response = new Response();\naccountRegistry.getSessions(List.of(accountId)).stream()\n            .iterator()\n            .forEachRemaining(session -&gt; {\n                    response.addToDeletedSessions(session);\n            });\nreturn Mono.just(response);\n</code></pre>\n<p>Failing line in test:</p>\n<pre><code>var res = sut.deleteAccount(accountId);\nassertEquals(result.block().getDeletedSession.contains(accountId))\nassertEquals(1, result.block().getDeletedSession.size())\nverify(accountRegistry).getSessions(List.of(accountId));\n</code></pre>\n<p>Error:</p>\n<blockquote>\n<p>Wanted 1 time:</p>\n</blockquote>\n<blockquote>\n<p>But was 2 times:</p>\n</blockquote>\n"},{"tags":["java","postgresql"],"owner":{"account_id":29809394,"reputation":1,"user_id":22845197,"display_name":"soso"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698918108,"creation_date":1698918108,"question_id":77408474,"body_markdown":"This has occurred intermittently since using postgreSql.\r\npostgreSql version is 16.\r\nThe DB Server is duplicated.\r\n\r\nI don&#39;t know why this error occurs.\r\nPlease Help me.\r\n\r\n    at jdk.internal.reflect.GeneratedMethodAccessor97.invoke(Unknown Source)\r\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\r\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)\r\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)\r\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)\r\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\r\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067)\r\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)\r\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\r\n    at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)\r\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)\r\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\r\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)\r\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)\r\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)\r\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)\r\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)\r\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)\r\n    at com.vc.mdl.adm.session.SSOLoginFilter.doFilter(SSOLoginFilter.java:48)\r\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)\r\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)\r\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)\r\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)\r\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:168)\r\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)\r\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)\r\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)\r\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)\r\n    at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:670)\r\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\r\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)\r\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)\r\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)\r\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)\r\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)\r\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\r\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n    at java.base/java.lang.Thread.run(Thread.java:833)\r\n    Caused by: java.lang.reflect.InvocationTargetException at jdk.internal.reflect.GeneratedMethodAccessor98.invoke(Unknown Source) at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) at java.base/java.lang.reflect.Method.invoke(Method.java:568) at com.vc.fw.core.mvc.cntr.ValueChainServiceInvoker.invoke(ValueChainServiceInvoker.java:28) ... 46 more Caused by: org.springframework.transaction.CannotCreateTransactionException: Could not open JDBC Connection for transaction; nested exception is org.postgresql.util.PSQLException: The connection attempt failed.; nested exception is org.springframework.transaction.CannotCreateTransactionException: Could not open JDBC Connection for transaction; nested exception is org.postgresql.util.PSQLException: The connection attempt failed. at org.springframework.data.transaction.ChainedTransactionManager.getTransaction(ChainedTransactionManager.java:145) at org.springframework.data.transaction.ChainedTransactionManager.getTransaction(ChainedTransactionManager.java:69) at org.springframework.transaction.interceptor.TransactionAspectSupport.createTransactionIfNecessary(TransactionAspectSupport.java:595) at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:382) at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) at jdk.proxy3/jdk.proxy3.$Proxy39.execute(Unknown Source) ... 50 more Caused by: org.springframework.transaction.CannotCreateTransactionException: Could not open JDBC Connection for transaction; nested exception is org.postgresql.util.PSQLException: The connection attempt failed. at org.springframework.jdbc.datasource.DataSourceTransactionManager.doBegin(DataSourceTransactionManager.java:309) at org.springframework.transaction.support.AbstractPlatformTransactionManager.startTransaction(AbstractPlatformTransactionManager.java:400) at org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:373) at org.springframework.data.transaction.MultiTransactionStatus.registerTransactionManager(MultiTransactionStatus.java:69) at org.springframework.data.transaction.ChainedTransactionManager.getTransaction(ChainedTransactionManager.java:124) ... 57 more Caused by: org.postgresql.util.PSQLException: The connection attempt failed. at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:354) at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:54) at org.postgresql.jdbc.PgConnection.&lt;init&gt;(PgConnection.java:263) at org.postgresql.Driver.makeConnection(Driver.java:443) at org.postgresql.Driver.connect(Driver.java:297) at net.sf.log4jdbc.sql.jdbcapi.DriverSpy.connect(DriverSpy.java:401) at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:681) at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:190) at org.springframework.jdbc.datasource.DriverManagerDataSource.getConnectionFromDriverManager(DriverManagerDataSource.java:155) at org.springframework.jdbc.datasource.DriverManagerDataSource.getConnectionFromDriver(DriverManagerDataSource.java:146) at org.springframework.jdbc.datasource.AbstractDriverBasedDataSource.getConnectionFromDriver(AbstractDriverBasedDataSource.java:205) at org.springframework.jdbc.datasource.AbstractDriverBasedDataSource.getConnection(AbstractDriverBasedDataSource.java:169) at org.springframework.jdbc.datasource.DataSourceTransactionManager.doBegin(DataSourceTransactionManager.java:265) ... 61 more Caused by: java.net.SocketTimeoutException: Read timed out at java.base/sun.nio.ch.NioSocketImpl.timedRead(NioSocketImpl.java:288) at java.base/sun.nio.ch.NioSocketImpl.implRead(NioSocketImpl.java:314) at java.base/sun.nio.ch.NioSocketImpl.read(NioSocketImpl.java:355) at java.base/sun.nio.ch.NioSocketImpl$1.read(NioSocketImpl.java:808) at java.base/java.net.Socket$SocketInputStream.read(Socket.java:966) at org.postgresql.core.VisibleBufferedInputStream.readMore(VisibleBufferedInputStream.java:161) at org.postgresql.core.VisibleBufferedInputStream.ensureBytes(VisibleBufferedInputStream.java:128) at org.postgresql.core.VisibleBufferedInputStream.ensureBytes(VisibleBufferedInputStream.java:113) at org.postgresql.core.VisibleBufferedInputStream.read(VisibleBufferedInputStream.java:73) at org.postgresql.core.PGStream.receiveChar(PGStream.java:465) at org.postgresql.core.v3.ConnectionFactoryImpl.enableSSL(ConnectionFactoryImpl.java:589) at org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:191) at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:258) ... 73 more \r\n    \r\n    \r\n\r\nI used the options below, but it didn&#39;t help.\r\n\r\nhostRecheckSeconds, \r\n\r\nsslmode=disable\r\n\r\nAnd Shutdown Standby Server.","title":"postgreSql-16 java.net.SocketTimeoutException: Read timed out","body":"<p>This has occurred intermittently since using postgreSql.\npostgreSql version is 16.\nThe DB Server is duplicated.</p>\n<p>I don't know why this error occurs.\nPlease Help me.</p>\n<pre><code>at jdk.internal.reflect.GeneratedMethodAccessor97.invoke(Unknown Source)\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.base/java.lang.reflect.Method.invoke(Method.java:568)\nat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\nat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)\nat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)\nat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)\nat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\nat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\nat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067)\nat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)\nat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\nat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:555)\nat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:623)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)\nat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)\nat com.vc.mdl.adm.session.SSOLoginFilter.doFilter(SSOLoginFilter.java:48)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)\nat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)\nat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:168)\nat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)\nat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)\nat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)\nat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)\nat org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:670)\nat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\nat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)\nat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)\nat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)\nat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)\nat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)\nat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\nat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\nat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\nat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\nat java.base/java.lang.Thread.run(Thread.java:833)\nCaused by: java.lang.reflect.InvocationTargetException at jdk.internal.reflect.GeneratedMethodAccessor98.invoke(Unknown Source) at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) at java.base/java.lang.reflect.Method.invoke(Method.java:568) at com.vc.fw.core.mvc.cntr.ValueChainServiceInvoker.invoke(ValueChainServiceInvoker.java:28) ... 46 more Caused by: org.springframework.transaction.CannotCreateTransactionException: Could not open JDBC Connection for transaction; nested exception is org.postgresql.util.PSQLException: The connection attempt failed.; nested exception is org.springframework.transaction.CannotCreateTransactionException: Could not open JDBC Connection for transaction; nested exception is org.postgresql.util.PSQLException: The connection attempt failed. at org.springframework.data.transaction.ChainedTransactionManager.getTransaction(ChainedTransactionManager.java:145) at org.springframework.data.transaction.ChainedTransactionManager.getTransaction(ChainedTransactionManager.java:69) at org.springframework.transaction.interceptor.TransactionAspectSupport.createTransactionIfNecessary(TransactionAspectSupport.java:595) at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:382) at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) at jdk.proxy3/jdk.proxy3.$Proxy39.execute(Unknown Source) ... 50 more Caused by: org.springframework.transaction.CannotCreateTransactionException: Could not open JDBC Connection for transaction; nested exception is org.postgresql.util.PSQLException: The connection attempt failed. at org.springframework.jdbc.datasource.DataSourceTransactionManager.doBegin(DataSourceTransactionManager.java:309) at org.springframework.transaction.support.AbstractPlatformTransactionManager.startTransaction(AbstractPlatformTransactionManager.java:400) at org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:373) at org.springframework.data.transaction.MultiTransactionStatus.registerTransactionManager(MultiTransactionStatus.java:69) at org.springframework.data.transaction.ChainedTransactionManager.getTransaction(ChainedTransactionManager.java:124) ... 57 more Caused by: org.postgresql.util.PSQLException: The connection attempt failed. at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:354) at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:54) at org.postgresql.jdbc.PgConnection.&lt;init&gt;(PgConnection.java:263) at org.postgresql.Driver.makeConnection(Driver.java:443) at org.postgresql.Driver.connect(Driver.java:297) at net.sf.log4jdbc.sql.jdbcapi.DriverSpy.connect(DriverSpy.java:401) at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:681) at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:190) at org.springframework.jdbc.datasource.DriverManagerDataSource.getConnectionFromDriverManager(DriverManagerDataSource.java:155) at org.springframework.jdbc.datasource.DriverManagerDataSource.getConnectionFromDriver(DriverManagerDataSource.java:146) at org.springframework.jdbc.datasource.AbstractDriverBasedDataSource.getConnectionFromDriver(AbstractDriverBasedDataSource.java:205) at org.springframework.jdbc.datasource.AbstractDriverBasedDataSource.getConnection(AbstractDriverBasedDataSource.java:169) at org.springframework.jdbc.datasource.DataSourceTransactionManager.doBegin(DataSourceTransactionManager.java:265) ... 61 more Caused by: java.net.SocketTimeoutException: Read timed out at java.base/sun.nio.ch.NioSocketImpl.timedRead(NioSocketImpl.java:288) at java.base/sun.nio.ch.NioSocketImpl.implRead(NioSocketImpl.java:314) at java.base/sun.nio.ch.NioSocketImpl.read(NioSocketImpl.java:355) at java.base/sun.nio.ch.NioSocketImpl$1.read(NioSocketImpl.java:808) at java.base/java.net.Socket$SocketInputStream.read(Socket.java:966) at org.postgresql.core.VisibleBufferedInputStream.readMore(VisibleBufferedInputStream.java:161) at org.postgresql.core.VisibleBufferedInputStream.ensureBytes(VisibleBufferedInputStream.java:128) at org.postgresql.core.VisibleBufferedInputStream.ensureBytes(VisibleBufferedInputStream.java:113) at org.postgresql.core.VisibleBufferedInputStream.read(VisibleBufferedInputStream.java:73) at org.postgresql.core.PGStream.receiveChar(PGStream.java:465) at org.postgresql.core.v3.ConnectionFactoryImpl.enableSSL(ConnectionFactoryImpl.java:589) at org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:191) at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:258) ... 73 more \n</code></pre>\n<p>I used the options below, but it didn't help.</p>\n<p>hostRecheckSeconds,</p>\n<p>sslmode=disable</p>\n<p>And Shutdown Standby Server.</p>\n"},{"tags":["java","lambda","mockito"],"comments":[{"owner":{"account_id":5281408,"reputation":18787,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1463573074,"post_id":37298901,"comment_id":62120610,"body_markdown":"This should be feasible using a `Mock` object. [Here](http://www.vogella.com/tutorials/Mockito/article.html#mockito_verify) is a tutorial on this topic.","body":"This should be feasible using a <code>Mock</code> object. <a href=\"http://www.vogella.com/tutorials/Mockito/article.html#mockito_verify\" rel=\"nofollow noreferrer\">Here</a> is a tutorial on this topic."},{"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"score":1,"creation_date":1463573076,"post_id":37298901,"comment_id":62120612,"body_markdown":"Isn&#39;t that a simple assert that your mocked helper got a certain method call (nothing to do with the lambda)?","body":"Isn&#39;t that a simple assert that your mocked helper got a certain method call (nothing to do with the lambda)?"},{"owner":{"account_id":8378768,"reputation":73,"user_id":6291458,"display_name":"GavPay360"},"score":0,"creation_date":1463573511,"post_id":37298901,"comment_id":62120933,"body_markdown":"@zapl no I dont think so, as no call to ```mockHelper.doSomething``` will happening, as ```delegate``` is also mocked.  I will make the question clearer","body":"@zapl no I dont think so, as no call to <code>mockHelper.doSomething</code> will happening, as <code>delegate</code> is also mocked.  I will make the question clearer"},{"owner":{"account_id":5281408,"reputation":18787,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1463573980,"post_id":37298901,"comment_id":62121303,"body_markdown":"You want to verify a call to `helper.doSomething`, but cannot verify anything on `helper`... this is a contradiction.","body":"You want to verify a call to <code>helper.doSomething</code>, but cannot verify anything on <code>helper</code>... this is a contradiction."},{"owner":{"account_id":8378768,"reputation":73,"user_id":6291458,"display_name":"GavPay360"},"score":0,"creation_date":1463574188,"post_id":37298901,"comment_id":62121439,"body_markdown":"Potentially yes; I guess I was hoping I could in some &quot;magic way&quot; tell mockito to execute the ```suppiler``` then mocking would work normally.","body":"Potentially yes; I guess I was hoping I could in some &quot;magic way&quot; tell mockito to execute the <code>suppiler</code> then mocking would work normally."}],"answers":[{"tags":[],"owner":{"account_id":2269593,"reputation":43907,"user_id":1997376,"accept_rate":100,"display_name":"Nicolas Filotto"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1463574543,"creation_date":1463573885,"answer_id":37299406,"question_id":37298901,"body_markdown":"Assuming that your class Helper looks like this:\r\n\r\n    public class Helper {\r\n        public Response doSomethingElse(String v1, String v2) {\r\n            // rest of the method here\r\n        }\r\n    }\r\n\r\nThen it could be done like this:\r\n\r\n    Helper helper = mock(Helper.class);\r\n    // a and b are the expected parameters\r\n    when(helper.doSomethingElse(&quot;a&quot;, &quot;b&quot;)).thenReturn(new Response());\r\n    // a and c are not the expected parameters\r\n    when(helper.doSomethingElse(&quot;a&quot;, &quot;c&quot;)).thenThrow(new AssertionError());\r\n    \r\n    Delegate delegate = mock(Delegate.class);\r\n    // Whatever the parameters provided, simply execute the supplier to \r\n    // get the response to provide and to get an AssertionError if the\r\n    // parameters are not the expected ones\r\n    when(delegate.methodA(any(), any())).then(\r\n        new Answer&lt;Response&gt;() {\r\n            @Override\r\n            public Response answer(final InvocationOnMock invocationOnMock) throws Throwable {\r\n                return ((Supplier&lt;Response&gt;) invocationOnMock.getArguments()[1]).get();\r\n            }\r\n        }\r\n    );\r\n\r\n    Controller controller = new Controller();\r\n    controller.helper = helper;\r\n    controller.delegate = delegate;\r\n    controller.doSomething();","title":"Using mockito; is it possible to mock a method that takes a lambda as a parameter and assert variables captured by the lambda?","body":"<p>Assuming that your class Helper looks like this:</p>\n\n<pre><code>public class Helper {\n    public Response doSomethingElse(String v1, String v2) {\n        // rest of the method here\n    }\n}\n</code></pre>\n\n<p>Then it could be done like this:</p>\n\n<pre><code>Helper helper = mock(Helper.class);\n// a and b are the expected parameters\nwhen(helper.doSomethingElse(\"a\", \"b\")).thenReturn(new Response());\n// a and c are not the expected parameters\nwhen(helper.doSomethingElse(\"a\", \"c\")).thenThrow(new AssertionError());\n\nDelegate delegate = mock(Delegate.class);\n// Whatever the parameters provided, simply execute the supplier to \n// get the response to provide and to get an AssertionError if the\n// parameters are not the expected ones\nwhen(delegate.methodA(any(), any())).then(\n    new Answer&lt;Response&gt;() {\n        @Override\n        public Response answer(final InvocationOnMock invocationOnMock) throws Throwable {\n            return ((Supplier&lt;Response&gt;) invocationOnMock.getArguments()[1]).get();\n        }\n    }\n);\n\nController controller = new Controller();\ncontroller.helper = helper;\ncontroller.delegate = delegate;\ncontroller.doSomething();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2857618,"reputation":2714,"user_id":2453542,"accept_rate":88,"display_name":"James Paterson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698918047,"creation_date":1698918047,"answer_id":77408468,"question_id":37298901,"body_markdown":"With lamda functions, you can also make this look a bit nicer and more compact - following on from the other excellent answer.\r\n\r\n```\r\nfinal Delegate delegate = mock(Delegate.class);\r\nwhen(delegate.methodA(any(), any(Supplier.class))).then(\r\n    (invocationOnMock) -&gt; ((Supplier) invocationOnMock.getArguments()[1]).get()\r\n);\r\n```","title":"Using mockito; is it possible to mock a method that takes a lambda as a parameter and assert variables captured by the lambda?","body":"<p>With lamda functions, you can also make this look a bit nicer and more compact - following on from the other excellent answer.</p>\n<pre><code>final Delegate delegate = mock(Delegate.class);\nwhen(delegate.methodA(any(), any(Supplier.class))).then(\n    (invocationOnMock) -&gt; ((Supplier) invocationOnMock.getArguments()[1]).get()\n);\n</code></pre>\n"}],"owner":{"account_id":8378768,"reputation":73,"user_id":6291458,"display_name":"GavPay360"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8272,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":37299406,"answer_count":2,"score":6,"last_activity_date":1698918047,"creation_date":1463572619,"question_id":37298901,"body_markdown":"I have a method that looks that looks something like:\r\n\r\n    public Response methodA(ParamObject po, Supplier&lt;Response&gt; supplier)\r\n\r\nthe ```Supplier``` contains a call to a method on another class.  \r\n\r\nI am attempting to wrap some code in the ```Supplier``` in a more complex set of logic, something akin to a Strategy pattern, it does make the code easier to follow.\r\n\r\nIt looks something like:\r\n\r\n    public Controller {    \r\n       private Helper helper;\r\n       private Delegate delegate;\r\n\r\n       public void doSomething() {\r\n         ParamObject po = ....\r\n         delegate.methodA(po, () -&gt; {\r\n             helper.doSomethingElse(v1, v2);\r\n         }\r\n       }\r\n    \r\n    }\r\nIn my test for ```Controller``` I have mocked both ```Helper``` and ```Delegate```, I wish to validate that ```helper.doSomething``` is called with the correct parameter values, and then return a mocked response.\r\n\r\nGiven that ```delegate``` is a mock, the ```Supplier``` is never actually executed, so no verification of the calls to ```helper``` can be mocked or verified.\r\n\r\nIs it possible to do this?  It feels like I should be able to tell mockito to capture the lambda, and or the variables the lambda itself captured and assert they are the right values return my mock response if they are the values I was looking for.","title":"Using mockito; is it possible to mock a method that takes a lambda as a parameter and assert variables captured by the lambda?","body":"<p>I have a method that looks that looks something like:</p>\n\n<pre><code>public Response methodA(ParamObject po, Supplier&lt;Response&gt; supplier)\n</code></pre>\n\n<p>the <code>Supplier</code> contains a call to a method on another class.  </p>\n\n<p>I am attempting to wrap some code in the <code>Supplier</code> in a more complex set of logic, something akin to a Strategy pattern, it does make the code easier to follow.</p>\n\n<p>It looks something like:</p>\n\n<pre><code>public Controller {    \n   private Helper helper;\n   private Delegate delegate;\n\n   public void doSomething() {\n     ParamObject po = ....\n     delegate.methodA(po, () -&gt; {\n         helper.doSomethingElse(v1, v2);\n     }\n   }\n\n}\n</code></pre>\n\n<p>In my test for <code>Controller</code> I have mocked both <code>Helper</code> and <code>Delegate</code>, I wish to validate that <code>helper.doSomething</code> is called with the correct parameter values, and then return a mocked response.</p>\n\n<p>Given that <code>delegate</code> is a mock, the <code>Supplier</code> is never actually executed, so no verification of the calls to <code>helper</code> can be mocked or verified.</p>\n\n<p>Is it possible to do this?  It feels like I should be able to tell mockito to capture the lambda, and or the variables the lambda itself captured and assert they are the right values return my mock response if they are the values I was looking for.</p>\n"},{"tags":["java","json","microservices","jackson-databind","objectmapper"],"comments":[{"owner":{"account_id":4362282,"reputation":92954,"user_id":3558960,"accept_rate":60,"display_name":"Robby Cornelissen"},"score":3,"creation_date":1698899543,"post_id":77406939,"comment_id":136463767,"body_markdown":"Just map your `LineDiagnostics` object to a `HashMap`.","body":"Just map your <code>LineDiagnostics</code> object to a <code>HashMap</code>."},{"owner":{"account_id":3262328,"reputation":2135,"user_id":2747642,"display_name":"Sree Kumar"},"score":1,"creation_date":1698902796,"post_id":77406939,"comment_id":136463981,"body_markdown":"Though @RobbyCornelissen has already mentioned it, I would like to expand on it. In the `Result` class, change the type of the field `lineDiagnostics` to `Map&lt;String, LineDiagnostics&gt;` from plain `LineDiagnostics`. Jackson will then populate the keys of this map with `C4000LG2020253739`, etc. and the values as the corresponding unmarshalled `LineDiagnostics` instances.","body":"Though @RobbyCornelissen has already mentioned it, I would like to expand on it. In the <code>Result</code> class, change the type of the field <code>lineDiagnostics</code> to <code>Map&lt;String, LineDiagnostics&gt;</code> from plain <code>LineDiagnostics</code>. Jackson will then populate the keys of this map with <code>C4000LG2020253739</code>, etc. and the values as the corresponding unmarshalled <code>LineDiagnostics</code> instances."}],"answers":[{"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1698917781,"creation_date":1698901555,"answer_id":77407058,"question_id":77406939,"body_markdown":"# Option 1\r\nAt least you can deserialize json to `Map` and retrieve required data from it.\r\n\r\n```java\r\npublic static Map&lt;String, Object&gt; getLineDiagnosticByLineId(File file, String lineId) throws IOException {\r\n    TypeReference&lt;HashMap&lt;String, Object&gt;&gt; typeRef = new TypeReference&lt;&gt;() {\r\n    };\r\n\r\n    Map&lt;String, Object&gt; map = new ObjectMapper().readValue(file, typeRef);\r\n    Map&lt;String, Object&gt; data = (Map&lt;String, Object&gt;) map.getOrDefault(&quot;data&quot;, Map.of());\r\n    List&lt;Object&gt; results = (List&lt;Object&gt;) data.getOrDefault(&quot;results&quot;, List.of());\r\n\r\n    return results.stream()\r\n            .map(result -&gt; (Map&lt;String, Object&gt;) result)\r\n            .filter(result -&gt; lineId.equals(result.get(&quot;lineId&quot;)))\r\n            .map(result -&gt; result.getOrDefault(&quot;lineDiagnostics&quot;, List.of()))\r\n            .map(lineDiagnostics -&gt; (Map&lt;String, Object&gt;) lineDiagnostics)\r\n            .findFirst().orElse(Map.of());\r\n}\r\n```\r\n# Option 2\r\nBut I recommend you to build a **model** and use it instead of `Map`.\r\n\r\nSimple model could look like this:\r\n```java\r\n@Getter\r\n@Setter\r\npublic class DataModel {\r\n\r\n    private Integer code;\r\n    private String message;\r\n    private Data data;\r\n\r\n    @Getter\r\n    @Setter\r\n    public static class Data {\r\n\r\n        private List&lt;Result&gt; results;\r\n\r\n    }\r\n\r\n    @Getter\r\n    @Setter\r\n    public static class Result {\r\n\r\n        private String lineId;\r\n        private Map&lt;String, Object&gt; lineDiagnostics;\r\n        private Integer analysisDay;\r\n\r\n    }\r\n\r\n}\r\n```\r\n\r\nAnd your business code like:\r\n```java\r\npublic static Map&lt;String, Object&gt; getLineDiagnosticByLineId(File file, String lineId) throws IOException {\r\n    DataModel dataModel = new ObjectMapper().readValue(file, DataModel.class);\r\n    return dataModel.getData().getResults().stream()\r\n            .filter(result -&gt; lineId.equals(result.getLineId()))\r\n            .map(DataModel.Result::getLineDiagnostics)\r\n            .findFirst().orElse(Map.of());\r\n}\r\n```\r\n# Option 3\r\nAnd finally. You can solve your problem with mup `Map&lt;String, Object&gt;` inside `LineDiagnostics` and define setter with `@JsonAnySetter` annotation.\r\n\r\n```java\r\n@Getter\r\n@Setter\r\npublic class DataModel {\r\n\r\n    private Integer code;\r\n    private String message;\r\n    private Data data;\r\n\r\n    @Getter\r\n    @Setter\r\n    public static class Data {\r\n\r\n        private List&lt;Result&gt; results;\r\n\r\n    }\r\n\r\n    @Getter\r\n    @Setter\r\n    public static class Result {\r\n\r\n        private String lineId;\r\n        private LineDiagnostics lineDiagnostics;\r\n        private Integer analysisDay;\r\n\r\n    }\r\n\r\n    @Getter\r\n    @Setter\r\n    public static class LineDiagnostics {\r\n\r\n        private Map&lt;String, LineDiagnostic&gt; lineDiagnostics = new HashMap&lt;&gt;();\r\n\r\n        @JsonAnySetter\r\n        public void setLineDiagnostic(String key, LineDiagnostic value) {\r\n            lineDiagnostics.put(key, value);\r\n        }\r\n\r\n    }\r\n\r\n    @Getter\r\n    @Setter\r\n    public static class LineDiagnostic {\r\n\r\n        private Ap ap;\r\n        @JsonProperty(&quot;interface&quot;)\r\n        private Object anInterface;\r\n        private Object station;\r\n        private Object multiWan;\r\n\r\n    }\r\n\r\n    @Getter\r\n    @Setter\r\n    public static class Ap {\r\n\r\n        @JsonProperty(&quot;broadbanddsthroughput&quot;)\r\n        private BroadbandDsThroughput broadbandDsThroughput;\r\n        @JsonProperty(&quot;broadbandusthroughput&quot;)\r\n        private BroadbandUsThroughput broadbandUsThroughput;\r\n\r\n    }\r\n\r\n    @Getter\r\n    @Setter\r\n    public static class BroadbandDsThroughput {\r\n\r\n        private List&lt;BroadbandThroughput&gt; broadbandDsThroughput;\r\n\r\n    }\r\n\r\n    @Getter\r\n    @Setter\r\n    public static class BroadbandUsThroughput {\r\n\r\n        private List&lt;BroadbandThroughput&gt; broadbandUsThroughput;\r\n\r\n    }\r\n\r\n    @Getter\r\n    @Setter\r\n    public static class BroadbandThroughput {\r\n\r\n        private Double average;\r\n        private Double std;\r\n        private Double detection;\r\n        private Integer numErrorFreeSamples;\r\n        private Integer sampleMaxPercentile;\r\n        private Long latestSampleTimestamp;\r\n        private Integer sampleMax;\r\n        private String url;\r\n        private Integer videoQuality;\r\n        private Integer serviceDetection;\r\n        private List&lt;Integer&gt; percentile;\r\n        private Integer latestSample;\r\n        private String primaryIp;\r\n        @JsonProperty(&quot;speedTestTrafficMB&quot;)\r\n        private Double speedTestTrafficMb;\r\n\r\n    }\r\n\r\n}\r\n```\r\n\r\nAnd your final result should look like this:\r\n```java\r\npublic static DataModel.LineDiagnostics getLineDiagnosticByLineId(File file, String lineId) throws IOException {\r\n    DataModel dataModel = new ObjectMapper().readValue(file, DataModel.class);\r\n    \r\n    return dataModel.getData().getResults().stream()\r\n            .filter(result -&gt; lineId.equals(result.getLineId()))\r\n            .map(DataModel.Result::getLineDiagnostics)\r\n            .findFirst().orElse(null);\r\n}\r\n```","title":"How to unmarshall a string constant object from JSON to as a Java Object?","body":"<h1>Option 1</h1>\n<p>At least you can deserialize json to <code>Map</code> and retrieve required data from it.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static Map&lt;String, Object&gt; getLineDiagnosticByLineId(File file, String lineId) throws IOException {\n    TypeReference&lt;HashMap&lt;String, Object&gt;&gt; typeRef = new TypeReference&lt;&gt;() {\n    };\n\n    Map&lt;String, Object&gt; map = new ObjectMapper().readValue(file, typeRef);\n    Map&lt;String, Object&gt; data = (Map&lt;String, Object&gt;) map.getOrDefault(&quot;data&quot;, Map.of());\n    List&lt;Object&gt; results = (List&lt;Object&gt;) data.getOrDefault(&quot;results&quot;, List.of());\n\n    return results.stream()\n            .map(result -&gt; (Map&lt;String, Object&gt;) result)\n            .filter(result -&gt; lineId.equals(result.get(&quot;lineId&quot;)))\n            .map(result -&gt; result.getOrDefault(&quot;lineDiagnostics&quot;, List.of()))\n            .map(lineDiagnostics -&gt; (Map&lt;String, Object&gt;) lineDiagnostics)\n            .findFirst().orElse(Map.of());\n}\n</code></pre>\n<h1>Option 2</h1>\n<p>But I recommend you to build a <strong>model</strong> and use it instead of <code>Map</code>.</p>\n<p>Simple model could look like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Getter\n@Setter\npublic class DataModel {\n\n    private Integer code;\n    private String message;\n    private Data data;\n\n    @Getter\n    @Setter\n    public static class Data {\n\n        private List&lt;Result&gt; results;\n\n    }\n\n    @Getter\n    @Setter\n    public static class Result {\n\n        private String lineId;\n        private Map&lt;String, Object&gt; lineDiagnostics;\n        private Integer analysisDay;\n\n    }\n\n}\n</code></pre>\n<p>And your business code like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static Map&lt;String, Object&gt; getLineDiagnosticByLineId(File file, String lineId) throws IOException {\n    DataModel dataModel = new ObjectMapper().readValue(file, DataModel.class);\n    return dataModel.getData().getResults().stream()\n            .filter(result -&gt; lineId.equals(result.getLineId()))\n            .map(DataModel.Result::getLineDiagnostics)\n            .findFirst().orElse(Map.of());\n}\n</code></pre>\n<h1>Option 3</h1>\n<p>And finally. You can solve your problem with mup <code>Map&lt;String, Object&gt;</code> inside <code>LineDiagnostics</code> and define setter with <code>@JsonAnySetter</code> annotation.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Getter\n@Setter\npublic class DataModel {\n\n    private Integer code;\n    private String message;\n    private Data data;\n\n    @Getter\n    @Setter\n    public static class Data {\n\n        private List&lt;Result&gt; results;\n\n    }\n\n    @Getter\n    @Setter\n    public static class Result {\n\n        private String lineId;\n        private LineDiagnostics lineDiagnostics;\n        private Integer analysisDay;\n\n    }\n\n    @Getter\n    @Setter\n    public static class LineDiagnostics {\n\n        private Map&lt;String, LineDiagnostic&gt; lineDiagnostics = new HashMap&lt;&gt;();\n\n        @JsonAnySetter\n        public void setLineDiagnostic(String key, LineDiagnostic value) {\n            lineDiagnostics.put(key, value);\n        }\n\n    }\n\n    @Getter\n    @Setter\n    public static class LineDiagnostic {\n\n        private Ap ap;\n        @JsonProperty(&quot;interface&quot;)\n        private Object anInterface;\n        private Object station;\n        private Object multiWan;\n\n    }\n\n    @Getter\n    @Setter\n    public static class Ap {\n\n        @JsonProperty(&quot;broadbanddsthroughput&quot;)\n        private BroadbandDsThroughput broadbandDsThroughput;\n        @JsonProperty(&quot;broadbandusthroughput&quot;)\n        private BroadbandUsThroughput broadbandUsThroughput;\n\n    }\n\n    @Getter\n    @Setter\n    public static class BroadbandDsThroughput {\n\n        private List&lt;BroadbandThroughput&gt; broadbandDsThroughput;\n\n    }\n\n    @Getter\n    @Setter\n    public static class BroadbandUsThroughput {\n\n        private List&lt;BroadbandThroughput&gt; broadbandUsThroughput;\n\n    }\n\n    @Getter\n    @Setter\n    public static class BroadbandThroughput {\n\n        private Double average;\n        private Double std;\n        private Double detection;\n        private Integer numErrorFreeSamples;\n        private Integer sampleMaxPercentile;\n        private Long latestSampleTimestamp;\n        private Integer sampleMax;\n        private String url;\n        private Integer videoQuality;\n        private Integer serviceDetection;\n        private List&lt;Integer&gt; percentile;\n        private Integer latestSample;\n        private String primaryIp;\n        @JsonProperty(&quot;speedTestTrafficMB&quot;)\n        private Double speedTestTrafficMb;\n\n    }\n\n}\n</code></pre>\n<p>And your final result should look like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static DataModel.LineDiagnostics getLineDiagnosticByLineId(File file, String lineId) throws IOException {\n    DataModel dataModel = new ObjectMapper().readValue(file, DataModel.class);\n    \n    return dataModel.getData().getResults().stream()\n            .filter(result -&gt; lineId.equals(result.getLineId()))\n            .map(DataModel.Result::getLineDiagnostics)\n            .findFirst().orElse(null);\n}\n</code></pre>\n"}],"owner":{"account_id":1166737,"reputation":23,"user_id":1144816,"display_name":"Shanky"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77407058,"answer_count":1,"score":0,"last_activity_date":1698917781,"creation_date":1698899240,"question_id":77406939,"body_markdown":"I have the following JSON:\r\n\r\n```json\r\n{\r\n  &quot;code&quot;:1000,\r\n  &quot;message&quot;:&quot;Success&quot;,\r\n  &quot;data&quot;:{\r\n    &quot;results&quot;:[\r\n      {\r\n        &quot;lineId&quot;:&quot;C4000LG2020253739&quot;,\r\n        &quot;lineDiagnostics&quot;:{\r\n          &quot;C4000LG2020253739&quot;:{\r\n            &quot;ap&quot;:{\r\n              &quot;broadbanddsthroughput&quot;:{\r\n                &quot;broadbandDsThroughput&quot;:[\r\n                  {\r\n                    &quot;average&quot;:104830,\r\n                    &quot;std&quot;:0,\r\n                    &quot;detection&quot;:0,\r\n                    &quot;numErrorFreeSamples&quot;:1,\r\n                    &quot;sampleMaxPercentile&quot;:107673,\r\n                    &quot;latestSampleTimestamp&quot;:1698160893000,\r\n                    &quot;sampleMax&quot;:107673,\r\n                    &quot;url&quot;:&quot;http://blah-blah.com&quot;,\r\n                    &quot;videoQuality&quot;:7,\r\n                    &quot;serviceDetection&quot;:-1,\r\n                    &quot;percentile&quot;:[\r\n                      104830\r\n                    ],\r\n                    &quot;latestSample&quot;:104830,\r\n                    &quot;primaryIp&quot;:&quot;205.171.3.100&quot;,\r\n                    &quot;speedTestTrafficMB&quot;:56.9910995\r\n                  }\r\n                ]\r\n              },\r\n              &quot;broadbandusthroughput&quot;:{\r\n                &quot;broadbandUsThroughput&quot;:[\r\n                  {\r\n                    &quot;average&quot;:37828,\r\n                    &quot;std&quot;:0,\r\n                    &quot;numErrorFreeSamples&quot;:1,\r\n                    &quot;sampleMaxPercentile&quot;:38393,\r\n                    &quot;latestSampleTimestamp&quot;:1698160893000,\r\n                    &quot;sampleMax&quot;:38393,\r\n                    &quot;url&quot;:&quot;http://blah-blah.com&quot;,\r\n                    &quot;serviceDetection&quot;:-1,\r\n                    &quot;percentile&quot;:[\r\n                      37828\r\n                    ],\r\n                    &quot;latestSample&quot;:37828,\r\n                    &quot;primaryIp&quot;:&quot;205.171.3.100&quot;,\r\n                    &quot;speedTestTrafficMB&quot;:21.8231345\r\n                  }\r\n                ]\r\n              }\r\n            },\r\n            &quot;interface&quot;:{\r\n              \r\n            },\r\n            &quot;station&quot;:{\r\n              \r\n            },\r\n            &quot;multiWan&quot;:{\r\n              \r\n            }\r\n          }\r\n        },\r\n        &quot;analysisDay&quot;:20231024\r\n      }\r\n    ]\r\n  }\r\n}\r\n```\r\n\r\nUnder the lineDiagnostics, we have the &quot;C4000LG2020253739&quot;: {...} and I need the contents from inside this object for my further calculations, could anyone please let me know how can this be achieved?\r\n\r\nI am using Jackson to map the JSON values to a Java class.\r\n\r\n*Note: This particular string value &quot;C4000LG2020253739&quot;:{...} will change with every microservice call(and not the contents inside this{...}), so I am facing problem with creating a general purpose Java class for this JSON structure.*\r\n\r\nI am using Jackson to map the JSON values to a Java class:\r\n\r\n```\r\npublic class Class1{\r\n    //historical speed response structure : map from json response\r\n    String code;\r\n    String message;\r\n\r\n    @JsonProperty(&quot;data&quot;)\r\n    DataSpeeds dataSpeeds;\r\n...}\r\n\r\npublic class DataSpeeds {\r\n    @JsonProperty(&quot;results&quot;)\r\n    List&lt;Results&gt; results;\r\n\r\n    @JsonProperty(&quot;lineId&quot;)\r\n    String lineId;\r\n...}\r\n\r\npublic class Results {\r\n\r\n    String lineId;\r\n\r\n    @JsonProperty(&quot;lineDiagnostics&quot;)\r\n    LineDiagnostics lineDiagnostics;\r\n...}\r\n\r\npublic class LineDiagnostics {\r\n    @JsonProperty(&quot;ap&quot;)\r\n    Ap ap;\r\n...}\r\n\r\n```\r\nInside the LineDiagnostics object, I need to map the &quot;C4000LG2020253739&quot;:{...} from JSON, how can this be done? any pointers?","title":"How to unmarshall a string constant object from JSON to as a Java Object?","body":"<p>I have the following JSON:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;code&quot;:1000,\n  &quot;message&quot;:&quot;Success&quot;,\n  &quot;data&quot;:{\n    &quot;results&quot;:[\n      {\n        &quot;lineId&quot;:&quot;C4000LG2020253739&quot;,\n        &quot;lineDiagnostics&quot;:{\n          &quot;C4000LG2020253739&quot;:{\n            &quot;ap&quot;:{\n              &quot;broadbanddsthroughput&quot;:{\n                &quot;broadbandDsThroughput&quot;:[\n                  {\n                    &quot;average&quot;:104830,\n                    &quot;std&quot;:0,\n                    &quot;detection&quot;:0,\n                    &quot;numErrorFreeSamples&quot;:1,\n                    &quot;sampleMaxPercentile&quot;:107673,\n                    &quot;latestSampleTimestamp&quot;:1698160893000,\n                    &quot;sampleMax&quot;:107673,\n                    &quot;url&quot;:&quot;http://blah-blah.com&quot;,\n                    &quot;videoQuality&quot;:7,\n                    &quot;serviceDetection&quot;:-1,\n                    &quot;percentile&quot;:[\n                      104830\n                    ],\n                    &quot;latestSample&quot;:104830,\n                    &quot;primaryIp&quot;:&quot;205.171.3.100&quot;,\n                    &quot;speedTestTrafficMB&quot;:56.9910995\n                  }\n                ]\n              },\n              &quot;broadbandusthroughput&quot;:{\n                &quot;broadbandUsThroughput&quot;:[\n                  {\n                    &quot;average&quot;:37828,\n                    &quot;std&quot;:0,\n                    &quot;numErrorFreeSamples&quot;:1,\n                    &quot;sampleMaxPercentile&quot;:38393,\n                    &quot;latestSampleTimestamp&quot;:1698160893000,\n                    &quot;sampleMax&quot;:38393,\n                    &quot;url&quot;:&quot;http://blah-blah.com&quot;,\n                    &quot;serviceDetection&quot;:-1,\n                    &quot;percentile&quot;:[\n                      37828\n                    ],\n                    &quot;latestSample&quot;:37828,\n                    &quot;primaryIp&quot;:&quot;205.171.3.100&quot;,\n                    &quot;speedTestTrafficMB&quot;:21.8231345\n                  }\n                ]\n              }\n            },\n            &quot;interface&quot;:{\n              \n            },\n            &quot;station&quot;:{\n              \n            },\n            &quot;multiWan&quot;:{\n              \n            }\n          }\n        },\n        &quot;analysisDay&quot;:20231024\n      }\n    ]\n  }\n}\n</code></pre>\n<p>Under the lineDiagnostics, we have the &quot;C4000LG2020253739&quot;: {...} and I need the contents from inside this object for my further calculations, could anyone please let me know how can this be achieved?</p>\n<p>I am using Jackson to map the JSON values to a Java class.</p>\n<p><em>Note: This particular string value &quot;C4000LG2020253739&quot;:{...} will change with every microservice call(and not the contents inside this{...}), so I am facing problem with creating a general purpose Java class for this JSON structure.</em></p>\n<p>I am using Jackson to map the JSON values to a Java class:</p>\n<pre><code>public class Class1{\n    //historical speed response structure : map from json response\n    String code;\n    String message;\n\n    @JsonProperty(&quot;data&quot;)\n    DataSpeeds dataSpeeds;\n...}\n\npublic class DataSpeeds {\n    @JsonProperty(&quot;results&quot;)\n    List&lt;Results&gt; results;\n\n    @JsonProperty(&quot;lineId&quot;)\n    String lineId;\n...}\n\npublic class Results {\n\n    String lineId;\n\n    @JsonProperty(&quot;lineDiagnostics&quot;)\n    LineDiagnostics lineDiagnostics;\n...}\n\npublic class LineDiagnostics {\n    @JsonProperty(&quot;ap&quot;)\n    Ap ap;\n...}\n\n</code></pre>\n<p>Inside the LineDiagnostics object, I need to map the &quot;C4000LG2020253739&quot;:{...} from JSON, how can this be done? any pointers?</p>\n"},{"tags":["java","azure"],"answers":[{"tags":[],"owner":{"account_id":25323437,"reputation":5127,"user_id":19144428,"display_name":"Venkatesan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698917737,"creation_date":1698917737,"answer_id":77408432,"question_id":77401104,"body_markdown":"&gt; com.azure.core.exception.ClientAuthenticationException: Failed to acquire token with username and password. To mitigate this issue, please refer to the troubleshooting guidelines here at\r\nhttps://aka.ms/azsdk/java/identity/usernamepasswordcredential/troubleshoot\r\n\r\nThe problem is that your application doesn&#39;t enable **` Allow public client flows`**.\r\n\r\nMake sure you are MFA is disabled for users and Make sure your account is not a personal account.\r\n\r\nNow after enabling **` Allow public client flows`** in my environment, I tried with the same code, which shows me a secret value.\r\n\r\n**Portal:**\r\n![enter image description here](https://i.imgur.com/GrJzTma.png)\r\n\r\n **Code:**\r\n\r\n    import com.azure.identity.UsernamePasswordCredential;\r\n    import com.azure.identity.UsernamePasswordCredentialBuilder;\r\n    import com.azure.security.keyvault.secrets.SecretClient;\r\n    import com.azure.security.keyvault.secrets.SecretClientBuilder;\r\n    import com.azure.security.keyvault.secrets.models.KeyVaultSecret;\r\n    \r\n    public class App {\r\n    \r\n        public static void main(String[] args) {\r\n            UsernamePasswordCredential usernamePasswordCredential = new UsernamePasswordCredentialBuilder()\r\n                .clientId(&quot;xxxx&quot;)\r\n                .username(&quot;xxxx&quot;)\r\n                .password(&quot;xxxx&quot;)\r\n                .build();\r\n    \r\n            // Azure SDK client builders accept the credential as a parameter\r\n            SecretClient client = new SecretClientBuilder()\r\n                .vaultUrl(&quot;https://xxxxx.vault.azure.net/&quot;)\r\n                .credential(usernamePasswordCredential)\r\n                .buildClient();\r\n            String secretName=&quot;&lt;My secret name&gt;&quot;;\r\n         KeyVaultSecret retrievedSecret = client.getSecret(secretName);\r\n         System.out.println(retrievedSecret.getValue());\r\n        }\r\n    }\r\n\r\n**Output:**\r\n\r\n       The secret value is: scjsauicusxxxxx\r\n![enter image description here](https://i.imgur.com/sJa5b7o.png)\r\n \r\n **Reference:**\r\n \r\n\r\n 1. [Register a client application in Microsoft Entra ID for the Azure Health Data Services | Microsoft Learn](https://learn.microsoft.com/en-us/azure/healthcare-apis/register-application#authentication-setting-confidential-vs-public)\r\n 2. https://stackoverflow.com/questions/66988712/list-azure-ad-using-usernamepasswordcredential-provider by Carl Zhao.\r\n\r\n ","title":"Unable to read secret from Azure Key Vault Using Username &amp; Password or Enviroment Variables With Java","body":"<blockquote>\n<p>com.azure.core.exception.ClientAuthenticationException: Failed to acquire token with username and password. To mitigate this issue, please refer to the troubleshooting guidelines here at\n<a href=\"https://aka.ms/azsdk/java/identity/usernamepasswordcredential/troubleshoot\" rel=\"nofollow noreferrer\">https://aka.ms/azsdk/java/identity/usernamepasswordcredential/troubleshoot</a></p>\n</blockquote>\n<p>The problem is that your application doesn't enable <strong><code> Allow public client flows</code></strong>.</p>\n<p>Make sure you are MFA is disabled for users and Make sure your account is not a personal account.</p>\n<p>Now after enabling <strong><code> Allow public client flows</code></strong> in my environment, I tried with the same code, which shows me a secret value.</p>\n<p><strong>Portal:</strong>\n<img src=\"https://i.imgur.com/GrJzTma.png\" alt=\"enter image description here\" /></p>\n<p><strong>Code:</strong></p>\n<pre><code>import com.azure.identity.UsernamePasswordCredential;\nimport com.azure.identity.UsernamePasswordCredentialBuilder;\nimport com.azure.security.keyvault.secrets.SecretClient;\nimport com.azure.security.keyvault.secrets.SecretClientBuilder;\nimport com.azure.security.keyvault.secrets.models.KeyVaultSecret;\n\npublic class App {\n\n    public static void main(String[] args) {\n        UsernamePasswordCredential usernamePasswordCredential = new UsernamePasswordCredentialBuilder()\n            .clientId(&quot;xxxx&quot;)\n            .username(&quot;xxxx&quot;)\n            .password(&quot;xxxx&quot;)\n            .build();\n\n        // Azure SDK client builders accept the credential as a parameter\n        SecretClient client = new SecretClientBuilder()\n            .vaultUrl(&quot;https://xxxxx.vault.azure.net/&quot;)\n            .credential(usernamePasswordCredential)\n            .buildClient();\n        String secretName=&quot;&lt;My secret name&gt;&quot;;\n     KeyVaultSecret retrievedSecret = client.getSecret(secretName);\n     System.out.println(retrievedSecret.getValue());\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>   The secret value is: scjsauicusxxxxx\n</code></pre>\n<p><img src=\"https://i.imgur.com/sJa5b7o.png\" alt=\"enter image description here\" /></p>\n<p><strong>Reference:</strong></p>\n<ol>\n<li><a href=\"https://learn.microsoft.com/en-us/azure/healthcare-apis/register-application#authentication-setting-confidential-vs-public\" rel=\"nofollow noreferrer\">Register a client application in Microsoft Entra ID for the Azure Health Data Services | Microsoft Learn</a></li>\n<li><a href=\"https://stackoverflow.com/questions/66988712/list-azure-ad-using-usernamepasswordcredential-provider\">List Azure AD using UsernamePasswordCredential provider</a> by Carl Zhao.</li>\n</ol>\n"}],"owner":{"account_id":20943314,"reputation":11,"user_id":15386819,"display_name":"newbietostack"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1698917737,"creation_date":1698825513,"question_id":77401104,"body_markdown":"I have no issue running the code below using Azure CLI just by running az login\r\n\r\n    /**\r\n     * The default credential first checks environment variables for configuration.\r\n     * If environment configuration is incomplete, it will try managed identity.\r\n     */\r\n    public void createDefaultAzureCredential() {\r\n        DefaultAzureCredential defaultCredential = new DefaultAzureCredentialBuilder().build();\r\n    \r\n        // Azure SDK client builders accept the credential as a parameter\r\n        SecretClient client = new SecretClientBuilder()\r\n            .vaultUrl(&quot;https://{YOUR_VAULT_NAME}.vault.azure.net&quot;)\r\n            .credential(defaultCredential)\r\n            .buildClient();\r\n    }\r\n\r\nBut when I set the code to environment variable like this\r\n[![enter image description here][1]][1]\r\n\r\nI will encounter this\r\n\r\n    com.azure.identity.CredentialUnavailableException: EnvironmentCredential authentication unavailable. Environment variables\r\n     are not fully configured.To mitigate this issue, please refer to the troubleshooting guidelines here at https://aka.ms/az\r\n    sdk/java/identity/environmentcredential/troubleshoot\r\n\r\nI know where to find azure_tenant_id but where do I create the AZURE_CLIENT_ID and AZURE_CLIENT_SECRET?\r\n\r\nI also try this code \r\n\r\n    UsernamePasswordCredential usernamePasswordCredential = new UsernamePasswordCredentialBuilder()\r\n                .clientId(&quot;xxxxxxxxxxxxxxxx1e60e93e1ccf&quot;)\r\n                .username(&quot;xxxxxxxxxxxx&quot;)\r\n                .password(&quot;xxxxxxxxxxx&quot;)\r\n                .build();\r\n    \r\n            // Azure SDK client builders accept the credential as a parameter\r\n            SecretClient client = new SecretClientBuilder()\r\n                .vaultUrl(&quot;https://xxxxxxxxxxx.vault.azure.net&quot;)\r\n                .credential(usernamePasswordCredential)\r\n                .buildClient();\r\n\r\nAnd I got this error\r\n\r\n    com.azure.core.exception.ClientAuthenticationException: Failed to acquire token with username and password. To mitigate th\r\n    is issue, please refer to the troubleshooting guidelines here at https://aka.ms/azsdk/java/identity/usernamepasswordcreden\r\n    tial/troubleshoot\r\n            at com.azure.identity.implementation.IdentityClient.lambda$authenticateWithUsernamePassword$30(IdentityClient.java\r\n    :582)\r\n            at reactor.core.publisher.Mono.lambda$onErrorMap$31(Mono.java:3811)\r\n            at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:94)\r\n            at reactor.core.publisher.MonoFlatMap$FlatMapMain.secondError(MonoFlatMap.java:192)\r\n            at reactor.core.publisher.MonoFlatMap$FlatMapInner.onError(MonoFlatMap.java:259)\r\n            at reactor.core.publisher.MonoCompletionStage.lambda$subscribe$0(MonoCompletionStage.java:94)\r\n            at java.base/java.util.concurrent.CompletableFuture.uniHandle(CompletableFuture.java:930)\r\n            at java.base/java.util.concurrent.CompletableFuture$UniHandle.tryFire(CompletableFuture.java:907)\r\n            at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)\r\n            at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1705)\r\n            at java.base/java.lang.Thread.run(Thread.java:829)\r\n            Suppressed: com.azure.core.exception.ClientAuthenticationException: Failed to acquire token with username and pass\r\n    word. To mitigate this issue, please refer to the troubleshooting guidelines here at https://aka.ms/azsdk/java/identity/us\r\n    ernamepasswordcredential/troubleshoot\r\n                    ... 11 more\r\n            Caused by: com.microsoft.aad.msal4j.MsalServiceException: AADSTS7000218: The request body must contain the followi\r\n    ng parameter: &#39;client_assertion&#39; or &#39;client_secret&#39;. Trace ID: 4957ee5b-ea2d-4e84-8492-10e2efdb4900 Correlation ID: fe1995\r\n    94-35eb-4c3e-9b2e-85e38f108f68 Timestamp: 2023-11-01 07:56:17Z\r\n                    at com.microsoft.aad.msal4j.MsalServiceExceptionFactory.fromHttpResponse(MsalServiceExceptionFactory.java:\r\n    45)\r\n                    at com.microsoft.aad.msal4j.TokenRequestExecutor.createAuthenticationResultFromOauthHttpResponse(TokenRequ\r\n    estExecutor.java:161)\r\n                    at com.microsoft.aad.msal4j.TokenRequestExecutor.executeTokenRequest(TokenRequestExecutor.java:40)\r\n                    at com.microsoft.aad.msal4j.AbstractClientApplicationBase.acquireTokenCommon(AbstractClientApplicationBase\r\n    .java:256)\r\n                    at com.microsoft.aad.msal4j.AcquireTokenByAuthorizationGrantSupplier.execute(AcquireTokenByAuthorizationGr\r\n    antSupplier.java:63)\r\n                    at com.microsoft.aad.msal4j.AuthenticationResultSupplier.get(AuthenticationResultSupplier.java:69)\r\n                    at com.microsoft.aad.msal4j.AuthenticationResultSupplier.get(AuthenticationResultSupplier.java:18)\r\n                    at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1700)\r\n                    ... 1 more\r\n            Suppressed: com.azure.core.exception.ClientAuthenticationException: Failed to acquire token with username and pass\r\n    word. To mitigate this issue, please refer to the troubleshooting guidelines here at https://aka.ms/azsdk/java/identity/us\r\n    ernamepasswordcredential/troubleshoot\r\n                    ... 11 more\r\n            Caused by: com.microsoft.aad.msal4j.MsalServiceException: AADSTS7000218: The request body must contain the followi\r\n    ng parameter: &#39;client_assertion&#39; or &#39;client_secret&#39;. Trace ID: a2eba876-aa5c-4b10-8316-9bb8fdc24d00 Correlation ID: 1b8562\r\n    10-db80-4b30-85eb-4de206992171 Timestamp: 2023-11-01 07:56:19Z\r\n                    at com.microsoft.aad.msal4j.MsalServiceExceptionFactory.fromHttpResponse(MsalServiceExceptionFactory.java:\r\n    45)\r\n                    at com.microsoft.aad.msal4j.TokenRequestExecutor.createAuthenticationResultFromOauthHttpResponse(TokenRequ\r\n    estExecutor.java:161)\r\n                    at com.microsoft.aad.msal4j.TokenRequestExecutor.executeTokenRequest(TokenRequestExecutor.java:40)\r\n                    at com.microsoft.aad.msal4j.AbstractClientApplicationBase.acquireTokenCommon(AbstractClientApplicationBase\r\n    .java:256)\r\n                    at com.microsoft.aad.msal4j.AcquireTokenByAuthorizationGrantSupplier.execute(AcquireTokenByAuthorizationGr\r\n    antSupplier.java:63)\r\n                    at com.microsoft.aad.msal4j.AuthenticationResultSupplier.get(AuthenticationResultSupplier.java:69)\r\n                    at com.microsoft.aad.msal4j.AuthenticationResultSupplier.get(AuthenticationResultSupplier.java:18)\r\n                    at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1700)\r\n                    ... 1 more\r\n            Suppressed: com.azure.core.exception.ClientAuthenticationException: Failed to acquire token with username and pass\r\n    word. To mitigate this issue, please refer to the troubleshooting guidelines here at https://aka.ms/azsdk/java/identity/us\r\n    ernamepasswordcredential/troubleshoot\r\n                    ... 11 more\r\n            Caused by: com.microsoft.aad.msal4j.MsalServiceException: AADSTS7000218: The request body must contain the followi\r\n    ng parameter: &#39;client_assertion&#39; or &#39;client_secret&#39;. Trace ID: 60dc7021-d436-4a5f-9499-4729bb732500 Correlation ID: 8fca47\r\n    e8-07c8-44d4-a2eb-f4fb6670d281 Timestamp: 2023-11-01 07:56:22Z\r\n                    at com.microsoft.aad.msal4j.MsalServiceExceptionFactory.fromHttpResponse(MsalServiceExceptionFactory.java:\r\n    45)\r\n                    at com.microsoft.aad.msal4j.TokenRequestExecutor.createAuthenticationResultFromOauthHttpResponse(TokenRequ\r\n    estExecutor.java:161)\r\n                    at com.microsoft.aad.msal4j.TokenRequestExecutor.executeTokenRequest(TokenRequestExecutor.java:40)\r\n                    at com.microsoft.aad.msal4j.AbstractClientApplicationBase.acquireTokenCommon(AbstractClientApplicationBase\r\n    .java:256)\r\n                    at com.microsoft.aad.msal4j.AcquireTokenByAuthorizationGrantSupplier.execute(AcquireTokenByAuthorizationGr\r\n    antSupplier.java:63)\r\n                    at com.microsoft.aad.msal4j.AuthenticationResultSupplier.get(AuthenticationResultSupplier.java:69)\r\n                    at com.microsoft.aad.msal4j.AuthenticationResultSupplier.get(AuthenticationResultSupplier.java:18)\r\n                    at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1700)\r\n                    ... 1 more\r\n            Suppressed: java.lang.Exception: #block terminated with an error\r\n                    at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:100)\r\n                    at reactor.core.publisher.Mono.block(Mono.java:1742)\r\n                    at com.azure.security.keyvault.secrets.SecretClient.getSecretWithResponse(SecretClient.java:171)\r\n                    at com.azure.security.keyvault.secrets.SecretClient.getSecret(SecretClient.java:150)\r\n                    at com.blobs.quickstart.appupload.main(appupload.java:97)\r\n    Caused by: com.microsoft.aad.msal4j.MsalServiceException: AADSTS7000218: The request body must contain the following param\r\n    eter: &#39;client_assertion&#39; or &#39;client_secret&#39;. Trace ID: 2d91e058-2470-4f25-ba8e-3eac892d8300 Correlation ID: b5cf0277-fdea-\r\n    438b-8388-f6a8184d2492 Timestamp: 2023-11-01 07:56:26Z\r\n            at com.microsoft.aad.msal4j.MsalServiceExceptionFactory.fromHttpResponse(MsalServiceExceptionFactory.java:45)\r\n            at com.microsoft.aad.msal4j.TokenRequestExecutor.createAuthenticationResultFromOauthHttpResponse(TokenRequestExecu\r\n    tor.java:161)\r\n            at com.microsoft.aad.msal4j.TokenRequestExecutor.executeTokenRequest(TokenRequestExecutor.java:40)\r\n            at com.microsoft.aad.msal4j.AbstractClientApplicationBase.acquireTokenCommon(AbstractClientApplicationBase.java:25\r\n    6)\r\n            at com.microsoft.aad.msal4j.AcquireTokenByAuthorizationGrantSupplier.execute(AcquireTokenByAuthorizationGrantSuppl\r\n    ier.java:63)\r\n            at com.microsoft.aad.msal4j.AuthenticationResultSupplier.get(AuthenticationResultSupplier.java:69)\r\n            at com.microsoft.aad.msal4j.AuthenticationResultSupplier.get(AuthenticationResultSupplier.java:18)\r\n            at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1700)\r\n            ... 1 more\r\n\r\nPlease do share your insights?\r\n\r\n  [1]: https://i.stack.imgur.com/U1HUq.png","title":"Unable to read secret from Azure Key Vault Using Username &amp; Password or Enviroment Variables With Java","body":"<p>I have no issue running the code below using Azure CLI just by running az login</p>\n<pre><code>/**\n * The default credential first checks environment variables for configuration.\n * If environment configuration is incomplete, it will try managed identity.\n */\npublic void createDefaultAzureCredential() {\n    DefaultAzureCredential defaultCredential = new DefaultAzureCredentialBuilder().build();\n\n    // Azure SDK client builders accept the credential as a parameter\n    SecretClient client = new SecretClientBuilder()\n        .vaultUrl(&quot;https://{YOUR_VAULT_NAME}.vault.azure.net&quot;)\n        .credential(defaultCredential)\n        .buildClient();\n}\n</code></pre>\n<p>But when I set the code to environment variable like this\n<a href=\"https://i.stack.imgur.com/U1HUq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/U1HUq.png\" alt=\"enter image description here\" /></a></p>\n<p>I will encounter this</p>\n<pre><code>com.azure.identity.CredentialUnavailableException: EnvironmentCredential authentication unavailable. Environment variables\n are not fully configured.To mitigate this issue, please refer to the troubleshooting guidelines here at https://aka.ms/az\nsdk/java/identity/environmentcredential/troubleshoot\n</code></pre>\n<p>I know where to find azure_tenant_id but where do I create the AZURE_CLIENT_ID and AZURE_CLIENT_SECRET?</p>\n<p>I also try this code</p>\n<pre><code>UsernamePasswordCredential usernamePasswordCredential = new UsernamePasswordCredentialBuilder()\n            .clientId(&quot;xxxxxxxxxxxxxxxx1e60e93e1ccf&quot;)\n            .username(&quot;xxxxxxxxxxxx&quot;)\n            .password(&quot;xxxxxxxxxxx&quot;)\n            .build();\n\n        // Azure SDK client builders accept the credential as a parameter\n        SecretClient client = new SecretClientBuilder()\n            .vaultUrl(&quot;https://xxxxxxxxxxx.vault.azure.net&quot;)\n            .credential(usernamePasswordCredential)\n            .buildClient();\n</code></pre>\n<p>And I got this error</p>\n<pre><code>com.azure.core.exception.ClientAuthenticationException: Failed to acquire token with username and password. To mitigate th\nis issue, please refer to the troubleshooting guidelines here at https://aka.ms/azsdk/java/identity/usernamepasswordcreden\ntial/troubleshoot\n        at com.azure.identity.implementation.IdentityClient.lambda$authenticateWithUsernamePassword$30(IdentityClient.java\n:582)\n        at reactor.core.publisher.Mono.lambda$onErrorMap$31(Mono.java:3811)\n        at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:94)\n        at reactor.core.publisher.MonoFlatMap$FlatMapMain.secondError(MonoFlatMap.java:192)\n        at reactor.core.publisher.MonoFlatMap$FlatMapInner.onError(MonoFlatMap.java:259)\n        at reactor.core.publisher.MonoCompletionStage.lambda$subscribe$0(MonoCompletionStage.java:94)\n        at java.base/java.util.concurrent.CompletableFuture.uniHandle(CompletableFuture.java:930)\n        at java.base/java.util.concurrent.CompletableFuture$UniHandle.tryFire(CompletableFuture.java:907)\n        at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)\n        at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1705)\n        at java.base/java.lang.Thread.run(Thread.java:829)\n        Suppressed: com.azure.core.exception.ClientAuthenticationException: Failed to acquire token with username and pass\nword. To mitigate this issue, please refer to the troubleshooting guidelines here at https://aka.ms/azsdk/java/identity/us\nernamepasswordcredential/troubleshoot\n                ... 11 more\n        Caused by: com.microsoft.aad.msal4j.MsalServiceException: AADSTS7000218: The request body must contain the followi\nng parameter: 'client_assertion' or 'client_secret'. Trace ID: 4957ee5b-ea2d-4e84-8492-10e2efdb4900 Correlation ID: fe1995\n94-35eb-4c3e-9b2e-85e38f108f68 Timestamp: 2023-11-01 07:56:17Z\n                at com.microsoft.aad.msal4j.MsalServiceExceptionFactory.fromHttpResponse(MsalServiceExceptionFactory.java:\n45)\n                at com.microsoft.aad.msal4j.TokenRequestExecutor.createAuthenticationResultFromOauthHttpResponse(TokenRequ\nestExecutor.java:161)\n                at com.microsoft.aad.msal4j.TokenRequestExecutor.executeTokenRequest(TokenRequestExecutor.java:40)\n                at com.microsoft.aad.msal4j.AbstractClientApplicationBase.acquireTokenCommon(AbstractClientApplicationBase\n.java:256)\n                at com.microsoft.aad.msal4j.AcquireTokenByAuthorizationGrantSupplier.execute(AcquireTokenByAuthorizationGr\nantSupplier.java:63)\n                at com.microsoft.aad.msal4j.AuthenticationResultSupplier.get(AuthenticationResultSupplier.java:69)\n                at com.microsoft.aad.msal4j.AuthenticationResultSupplier.get(AuthenticationResultSupplier.java:18)\n                at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1700)\n                ... 1 more\n        Suppressed: com.azure.core.exception.ClientAuthenticationException: Failed to acquire token with username and pass\nword. To mitigate this issue, please refer to the troubleshooting guidelines here at https://aka.ms/azsdk/java/identity/us\nernamepasswordcredential/troubleshoot\n                ... 11 more\n        Caused by: com.microsoft.aad.msal4j.MsalServiceException: AADSTS7000218: The request body must contain the followi\nng parameter: 'client_assertion' or 'client_secret'. Trace ID: a2eba876-aa5c-4b10-8316-9bb8fdc24d00 Correlation ID: 1b8562\n10-db80-4b30-85eb-4de206992171 Timestamp: 2023-11-01 07:56:19Z\n                at com.microsoft.aad.msal4j.MsalServiceExceptionFactory.fromHttpResponse(MsalServiceExceptionFactory.java:\n45)\n                at com.microsoft.aad.msal4j.TokenRequestExecutor.createAuthenticationResultFromOauthHttpResponse(TokenRequ\nestExecutor.java:161)\n                at com.microsoft.aad.msal4j.TokenRequestExecutor.executeTokenRequest(TokenRequestExecutor.java:40)\n                at com.microsoft.aad.msal4j.AbstractClientApplicationBase.acquireTokenCommon(AbstractClientApplicationBase\n.java:256)\n                at com.microsoft.aad.msal4j.AcquireTokenByAuthorizationGrantSupplier.execute(AcquireTokenByAuthorizationGr\nantSupplier.java:63)\n                at com.microsoft.aad.msal4j.AuthenticationResultSupplier.get(AuthenticationResultSupplier.java:69)\n                at com.microsoft.aad.msal4j.AuthenticationResultSupplier.get(AuthenticationResultSupplier.java:18)\n                at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1700)\n                ... 1 more\n        Suppressed: com.azure.core.exception.ClientAuthenticationException: Failed to acquire token with username and pass\nword. To mitigate this issue, please refer to the troubleshooting guidelines here at https://aka.ms/azsdk/java/identity/us\nernamepasswordcredential/troubleshoot\n                ... 11 more\n        Caused by: com.microsoft.aad.msal4j.MsalServiceException: AADSTS7000218: The request body must contain the followi\nng parameter: 'client_assertion' or 'client_secret'. Trace ID: 60dc7021-d436-4a5f-9499-4729bb732500 Correlation ID: 8fca47\ne8-07c8-44d4-a2eb-f4fb6670d281 Timestamp: 2023-11-01 07:56:22Z\n                at com.microsoft.aad.msal4j.MsalServiceExceptionFactory.fromHttpResponse(MsalServiceExceptionFactory.java:\n45)\n                at com.microsoft.aad.msal4j.TokenRequestExecutor.createAuthenticationResultFromOauthHttpResponse(TokenRequ\nestExecutor.java:161)\n                at com.microsoft.aad.msal4j.TokenRequestExecutor.executeTokenRequest(TokenRequestExecutor.java:40)\n                at com.microsoft.aad.msal4j.AbstractClientApplicationBase.acquireTokenCommon(AbstractClientApplicationBase\n.java:256)\n                at com.microsoft.aad.msal4j.AcquireTokenByAuthorizationGrantSupplier.execute(AcquireTokenByAuthorizationGr\nantSupplier.java:63)\n                at com.microsoft.aad.msal4j.AuthenticationResultSupplier.get(AuthenticationResultSupplier.java:69)\n                at com.microsoft.aad.msal4j.AuthenticationResultSupplier.get(AuthenticationResultSupplier.java:18)\n                at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1700)\n                ... 1 more\n        Suppressed: java.lang.Exception: #block terminated with an error\n                at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:100)\n                at reactor.core.publisher.Mono.block(Mono.java:1742)\n                at com.azure.security.keyvault.secrets.SecretClient.getSecretWithResponse(SecretClient.java:171)\n                at com.azure.security.keyvault.secrets.SecretClient.getSecret(SecretClient.java:150)\n                at com.blobs.quickstart.appupload.main(appupload.java:97)\nCaused by: com.microsoft.aad.msal4j.MsalServiceException: AADSTS7000218: The request body must contain the following param\neter: 'client_assertion' or 'client_secret'. Trace ID: 2d91e058-2470-4f25-ba8e-3eac892d8300 Correlation ID: b5cf0277-fdea-\n438b-8388-f6a8184d2492 Timestamp: 2023-11-01 07:56:26Z\n        at com.microsoft.aad.msal4j.MsalServiceExceptionFactory.fromHttpResponse(MsalServiceExceptionFactory.java:45)\n        at com.microsoft.aad.msal4j.TokenRequestExecutor.createAuthenticationResultFromOauthHttpResponse(TokenRequestExecu\ntor.java:161)\n        at com.microsoft.aad.msal4j.TokenRequestExecutor.executeTokenRequest(TokenRequestExecutor.java:40)\n        at com.microsoft.aad.msal4j.AbstractClientApplicationBase.acquireTokenCommon(AbstractClientApplicationBase.java:25\n6)\n        at com.microsoft.aad.msal4j.AcquireTokenByAuthorizationGrantSupplier.execute(AcquireTokenByAuthorizationGrantSuppl\nier.java:63)\n        at com.microsoft.aad.msal4j.AuthenticationResultSupplier.get(AuthenticationResultSupplier.java:69)\n        at com.microsoft.aad.msal4j.AuthenticationResultSupplier.get(AuthenticationResultSupplier.java:18)\n        at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1700)\n        ... 1 more\n</code></pre>\n<p>Please do share your insights?</p>\n"},{"tags":["java","playwright","playwright-java"],"answers":[{"tags":[],"owner":{"account_id":2754837,"reputation":19523,"user_id":2373249,"accept_rate":25,"display_name":"hardkoded"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1690045880,"creation_date":1690045880,"answer_id":76744974,"question_id":76744875,"body_markdown":"`querySelector` will give you a pointer to the element found when `querySelector` is called. A `locator` will use that selector to find the element every time an action on that element is requested.\r\n\r\nUsing locators is recommended over query selectors.\r\n\r\nOn your small example, the result will be the same, but, following best practices will help you make your automation code more stable.","title":"What&#39;s difference between page.querySelector() and page.locator() Playwright?","body":"<p><code>querySelector</code> will give you a pointer to the element found when <code>querySelector</code> is called. A <code>locator</code> will use that selector to find the element every time an action on that element is requested.</p>\n<p>Using locators is recommended over query selectors.</p>\n<p>On your small example, the result will be the same, but, following best practices will help you make your automation code more stable.</p>\n"},{"tags":[],"owner":{"account_id":2052904,"reputation":2632,"user_id":1831456,"accept_rate":50,"display_name":"Vishal Aggarwal"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1698917327,"creation_date":1690047720,"answer_id":76745106,"question_id":76744875,"body_markdown":"On top of @hardKoded&#39;s great answer ,something to add based on my experience working through UI elements in Playwright:\r\n\r\nIn my early usage of [ElementHandle][1]/query selector cases , I was getting many times **[stale element reference issues][2]**  as the actual element was changed by the time of actual usage of the element. \r\n\r\nThis is the same issue which I faced in [selenium webdriver][3] for a very long time in the past.\r\n\r\n\r\n\r\n\r\n\r\n&gt; **Locator resolves from root one of the biggest issue of &quot; Stale element reference&quot; error of selenium webdriver.**\r\n\r\nWhen I started changing those element references to [Locators][4] , they got very stable as under the hood it was not making static reference but making  the object reference in real time at the time of locator actions(like click) based on locator definitions.\r\n\r\n\r\n\r\n&gt; The most amazing thing with locators is , even if  you go back to\r\n&gt; previous page and come back , it still works.\r\n\r\n\r\nReference:https://developer.mozilla.org/en-US/docs/Web/WebDriver/Errors/StaleElementReference\r\n\r\n\r\n  [1]: https://playwright.dev/docs/api/class-elementhandle\r\n  [2]: https://stackoverflow.com/questions/16166261/selenium-webdriver-how-to-resolve-stale-element-reference-exception\r\n  [3]: https://www.selenium.dev/documentation/webdriver/\r\n  [4]: https://playwright.dev/docs/api/class-locator","title":"What&#39;s difference between page.querySelector() and page.locator() Playwright?","body":"<p>On top of @hardKoded's great answer ,something to add based on my experience working through UI elements in Playwright:</p>\n<p>In my early usage of <a href=\"https://playwright.dev/docs/api/class-elementhandle\" rel=\"nofollow noreferrer\">ElementHandle</a>/query selector cases , I was getting many times <strong><a href=\"https://stackoverflow.com/questions/16166261/selenium-webdriver-how-to-resolve-stale-element-reference-exception\">stale element reference issues</a></strong>  as the actual element was changed by the time of actual usage of the element.</p>\n<p>This is the same issue which I faced in <a href=\"https://www.selenium.dev/documentation/webdriver/\" rel=\"nofollow noreferrer\">selenium webdriver</a> for a very long time in the past.</p>\n<blockquote>\n<p><strong>Locator resolves from root one of the biggest issue of &quot; Stale element reference&quot; error of selenium webdriver.</strong></p>\n</blockquote>\n<p>When I started changing those element references to <a href=\"https://playwright.dev/docs/api/class-locator\" rel=\"nofollow noreferrer\">Locators</a> , they got very stable as under the hood it was not making static reference but making  the object reference in real time at the time of locator actions(like click) based on locator definitions.</p>\n<blockquote>\n<p>The most amazing thing with locators is , even if  you go back to\nprevious page and come back , it still works.</p>\n</blockquote>\n<p>Reference:<a href=\"https://developer.mozilla.org/en-US/docs/Web/WebDriver/Errors/StaleElementReference\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/en-US/docs/Web/WebDriver/Errors/StaleElementReference</a></p>\n"}],"owner":{"account_id":15632721,"reputation":162,"user_id":11278588,"display_name":"Kepler452B"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":368,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":76744974,"answer_count":2,"score":3,"last_activity_date":1698917327,"creation_date":1690044062,"question_id":76744875,"body_markdown":"I started learning about Playwright Java. The code below I used `page.querySelector().getAttribute()` and `page.locator().getAttribute()` to get the path of the same image. They return the same string `img/logos/Browsers.png`.\r\n\r\nWhat is the difference between querySelector() and locator()? Is querySelector() or locator() better?\r\n\r\n    try (Playwright playwright = Playwright.create()) {\r\n        Browser browser = playwright.chromium()\r\n            .launch(new BrowserType.LaunchOptions().setHeadless(false).setSlowMo(50));\r\n        Page page = browser.newPage();\r\n        page.navigate(&quot;https://playwright.dev/&quot;);\r\n\r\n\r\n        String srcImage1 = page.querySelector(&quot;//*[@id=\\&quot;docusaurus_skipToContent_fallback\\&quot;]/main/center/img&quot;)\r\n            .getAttribute(&quot;src&quot;);\r\n\r\n        String srcImage2 = page.locator(&quot;//*[@id=\\&quot;docusaurus_skipToContent_fallback\\&quot;]/main/center/img&quot;)\r\n            .getAttribute(&quot;src&quot;);\r\n\r\n\r\n        System.out.println(srcImage1);\r\n        System.out.println(srcImage2);\r\n        browser.close();\r\n    }\r\n","title":"What&#39;s difference between page.querySelector() and page.locator() Playwright?","body":"<p>I started learning about Playwright Java. The code below I used <code>page.querySelector().getAttribute()</code> and <code>page.locator().getAttribute()</code> to get the path of the same image. They return the same string <code>img/logos/Browsers.png</code>.</p>\n<p>What is the difference between querySelector() and locator()? Is querySelector() or locator() better?</p>\n<pre><code>try (Playwright playwright = Playwright.create()) {\n    Browser browser = playwright.chromium()\n        .launch(new BrowserType.LaunchOptions().setHeadless(false).setSlowMo(50));\n    Page page = browser.newPage();\n    page.navigate(&quot;https://playwright.dev/&quot;);\n\n\n    String srcImage1 = page.querySelector(&quot;//*[@id=\\&quot;docusaurus_skipToContent_fallback\\&quot;]/main/center/img&quot;)\n        .getAttribute(&quot;src&quot;);\n\n    String srcImage2 = page.locator(&quot;//*[@id=\\&quot;docusaurus_skipToContent_fallback\\&quot;]/main/center/img&quot;)\n        .getAttribute(&quot;src&quot;);\n\n\n    System.out.println(srcImage1);\n    System.out.println(srcImage2);\n    browser.close();\n}\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9771,"page":85,"page_size":100}
