{"items":[{"tags":["java","mybatis","spring-mybatis","mybatis-mapper"],"answers":[{"tags":[],"owner":{"account_id":11980108,"reputation":66,"user_id":18031053,"display_name":"Osman"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1643359245,"creation_date":1643359245,"answer_id":70890890,"question_id":70890838,"body_markdown":"it seems you&#39;re trying to compare string with char, would you please do that instead\r\n```\r\n&lt;if test=&#39;param.equals(&quot;Y&quot;)&#39;&gt;\r\n```\r\nor you can use == in mybatis so in this case the statement would be \r\n```\r\n&lt;if test=&quot;param == &#39;Y&#39;&quot;&gt;\r\n```","title":"Equals() returns false on &#39;Y&#39; but returns true on &#39;Yes&#39;","body":"<p>it seems you're trying to compare string with char, would you please do that instead</p>\n<pre><code>&lt;if test='param.equals(&quot;Y&quot;)'&gt;\n</code></pre>\n<p>or you can use == in mybatis so in this case the statement would be</p>\n<pre><code>&lt;if test=&quot;param == 'Y'&quot;&gt;\n</code></pre>\n"}],"owner":{"account_id":22883745,"reputation":33,"user_id":17024961,"display_name":"Rivaldo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":303,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":70890890,"answer_count":1,"score":-1,"last_activity_date":1643359245,"creation_date":1643358962,"question_id":70890838,"body_markdown":"I&#39;m doing an if statement in mybatis, and `&lt;if test=&quot;param.equals(&#39;Y&#39;)&quot;&gt;` returns false even when the param is &quot;Y&quot;, but  `&lt;if test=&quot;param.equals(&#39;Yes&#39;)&quot;&gt;` returns true when the param is &quot;Yes&quot;, why is this?\r\n","title":"Equals() returns false on &#39;Y&#39; but returns true on &#39;Yes&#39;","body":"<p>I'm doing an if statement in mybatis, and <code>&lt;if test=&quot;param.equals('Y')&quot;&gt;</code> returns false even when the param is &quot;Y&quot;, but  <code>&lt;if test=&quot;param.equals('Yes')&quot;&gt;</code> returns true when the param is &quot;Yes&quot;, why is this?</p>\n"},{"tags":["java","tomcat8"],"comments":[{"owner":{"account_id":5874110,"reputation":6056,"user_id":4625526,"accept_rate":50,"display_name":"Norbert"},"score":0,"creation_date":1446300812,"post_id":33452530,"comment_id":54691779,"body_markdown":"This is a clean (out of the box) Tomcat? Which Java version are you using?","body":"This is a clean (out of the box) Tomcat? Which Java version are you using?"},{"owner":{"account_id":80360,"reputation":5251,"user_id":227294,"display_name":"Andreas"},"score":0,"creation_date":1446300982,"post_id":33452530,"comment_id":54691840,"body_markdown":"`NoSuchMethodError: javax.servlet.ServletContext.getClassLoader()Ljava/lang/ClassLoader` imho sth. messed with your classpath. Could you post the BOM of the app you are trying to start.","body":"<code>NoSuchMethodError: javax.servlet.ServletContext.getClassLoader()Ljava&#47;lang&#47;Clas&zwnj;&#8203;sLoader</code> imho sth. messed with your classpath. Could you post the BOM of the app you are trying to start."}],"answers":[{"tags":[],"owner":{"account_id":699650,"reputation":16447,"user_id":1299005,"display_name":"Mark Thomas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1446424794,"creation_date":1446424794,"answer_id":33468997,"question_id":33452530,"body_markdown":"That is not a clean Tomcat install. It looks like the servlet API JAR is missing. Do a clean install of Tomcat, preferrably downloaded from https://tomcat.apache.org\r\n\r\nIf you still see the error and you are using a 3rd party Tomcat package, report a bug to the package maintainers.","title":"Tomcat server8 failed to start at local host, how to solve this","body":"<p>That is not a clean Tomcat install. It looks like the servlet API JAR is missing. Do a clean install of Tomcat, preferrably downloaded from <a href=\"https://tomcat.apache.org\" rel=\"nofollow\">https://tomcat.apache.org</a></p>\n\n<p>If you still see the error and you are using a 3rd party Tomcat package, report a bug to the package maintainers.</p>\n"},{"tags":[],"owner":{"account_id":7218997,"reputation":21,"user_id":5510301,"display_name":"Aakash"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643359240,"creation_date":1446437248,"answer_id":33470608,"question_id":33452530,"body_markdown":"I solved this one. I&#39;m using tomcat version 8 and JDK 7. I think the mistake is I added servlet-api jar, because of the I getting class not found(it takes wrong class), and then null pointer exception. So I delete that jar from ext folder. Its working fine. ","title":"Tomcat server8 failed to start at local host, how to solve this","body":"<p>I solved this one. I'm using tomcat version 8 and JDK 7. I think the mistake is I added servlet-api jar, because of the I getting class not found(it takes wrong class), and then null pointer exception. So I delete that jar from ext folder. Its working fine.</p>\n"}],"owner":{"account_id":7218997,"reputation":21,"user_id":5510301,"display_name":"Aakash"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3558,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":33470608,"answer_count":2,"score":-2,"last_activity_date":1643359240,"creation_date":1446300631,"question_id":33452530,"body_markdown":"copy of stack Trace\r\n\r\n    Oct 31, 2015 6:55:36 PM org.apache.catalina.startup.VersionLoggerListener log\r\n    INFO: Server version:        Apache Tomcat/8.0.28\r\n    Oct 31, 2015 6:55:36 PM org.apache.catalina.startup.VersionLoggerListener log\r\n    INFO: Server built:          Oct 7 2015 18:25:21 UTC\r\n    Oct 31, 2015 6:55:36 PM org.apache.catalina.startup.VersionLoggerListener log\r\n    INFO: Server number:         8.0.28.0\r\n    Oct 31, 2015 6:55:36 PM org.apache.catalina.startup.VersionLoggerListener log\r\n    INFO: OS Name:               Windows 8\r\n    Oct 31, 2015 6:55:36 PM org.apache.catalina.startup.VersionLoggerListener log\r\n    INFO: OS Version:            6.2\r\n    Oct 31, 2015 6:55:36 PM org.apache.catalina.startup.VersionLoggerListener log\r\n    INFO: Architecture:          x86\r\n    Oct 31, 2015 6:55:36 PM org.apache.catalina.startup.VersionLoggerListener log\r\n    INFO: Java Home:             C:\\Program Files (x86)\\Java\\jre7\r\n    Oct 31, 2015 6:55:36 PM org.apache.catalina.startup.VersionLoggerListener log\r\n    INFO: JVM Version:           1.7.0_10-b18\r\n    Oct 31, 2015 6:55:36 PM org.apache.catalina.startup.VersionLoggerListener log\r\n    INFO: JVM Vendor:            Oracle Corporation\r\n    Oct 31, 2015 6:55:36 PM org.apache.catalina.startup.VersionLoggerListener log\r\n    INFO: CATALINA_BASE:         F:\\Aakash\\JAVA\\Java Programs\\.metadata\\.plugins\\org.eclipse.wst.server.core\\tmp0\r\n    Oct 31, 2015 6:55:36 PM org.apache.catalina.startup.VersionLoggerListener log\r\n    INFO: CATALINA_HOME:         C:\\apache-tomcat-8.0.28\r\n    Oct 31, 2015 6:55:36 PM org.apache.catalina.startup.VersionLoggerListener log\r\n    INFO: Command line argument: -Dcatalina.base=F:\\Aakash\\JAVA\\Java Programs\\.metadata\\.plugins\\org.eclipse.wst.server.core\\tmp0\r\n    Oct 31, 2015 6:55:36 PM org.apache.catalina.startup.VersionLoggerListener log\r\n    INFO: Command line argument: -Dcatalina.home=C:\\apache-tomcat-8.0.28\r\n    Oct 31, 2015 6:55:36 PM org.apache.catalina.startup.VersionLoggerListener log\r\n    INFO: Command line argument: -Dwtp.deploy=F:\\Aakash\\JAVA\\Java Programs\\.metadata\\.plugins\\org.eclipse.wst.server.core\\tmp0\\wtpwebapps\r\n    Oct 31, 2015 6:55:36 PM org.apache.catalina.startup.VersionLoggerListener log\r\n    INFO: Command line argument: -Djava.endorsed.dirs=C:\\apache-tomcat-8.0.28\\endorsed\r\n    Oct 31, 2015 6:55:36 PM org.apache.catalina.startup.VersionLoggerListener log\r\n    INFO: Command line argument: -Dfile.encoding=Cp1252\r\n    Oct 31, 2015 6:55:36 PM org.apache.catalina.core.AprLifecycleListener lifecycleEvent\r\n    INFO: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: C:\\Program Files (x86)\\Java\\jre7\\bin;C:\\Windows\\Sun\\Java\\bin;C:\\Windows\\system32;C:\\Windows;C:/Program Files (x86)/Java/jre1.8.0_65/bin/client;C:/Program Files (x86)/Java/jre1.8.0_65/bin;C:/Program Files (x86)/Java/jre1.8.0_65/lib/i386;C:\\ProgramData\\Oracle\\Java\\javapath;C:\\Program Files (x86)\\Java\\jdk1.7.0_10\\bin;C:\\Windows\\system32;C:\\Windows;C:\\Windows\\System32\\Wbem;C:\\Windows\\System32\\WindowsPowerShell\\v1.0\\;C:\\Program Files\\Hewlett-Packard\\SimplePass\\;C:\\;C:\\Program Files (x86)\\Java\\jdk1.7.0_10\\bin;C:\\eclipse-jee-mars-M1-win32\\eclipse;;.\r\n    Oct 31, 2015 6:55:36 PM org.apache.coyote.AbstractProtocol init\r\n    INFO: Initializing ProtocolHandler [&quot;http-nio-8080&quot;]\r\n    Oct 31, 2015 6:55:36 PM org.apache.tomcat.util.net.NioSelectorPool getSharedSelector\r\n    INFO: Using a shared selector for servlet write/read\r\n    Oct 31, 2015 6:55:36 PM org.apache.coyote.AbstractProtocol init\r\n    INFO: Initializing ProtocolHandler [&quot;ajp-nio-8009&quot;]\r\n    Oct 31, 2015 6:55:36 PM org.apache.tomcat.util.net.NioSelectorPool getSharedSelector\r\n    INFO: Using a shared selector for servlet write/read\r\n    Oct 31, 2015 6:55:36 PM org.apache.catalina.startup.Catalina load\r\n    INFO: Initialization processed in 688 ms\r\n    Oct 31, 2015 6:55:36 PM org.apache.catalina.core.StandardService startInternal\r\n    INFO: Starting service Catalina\r\n    Oct 31, 2015 6:55:36 PM org.apache.catalina.core.StandardEngine startInternal\r\n    INFO: Starting Servlet Engine: Apache Tomcat/8.0.28\r\n    Oct 31, 2015 6:55:36 PM org.apache.tomcat.util.descriptor.DigesterFactory locationFor\r\n    WARNING: The XML schema [XMLSchema.dtd] could not be found. This is very likely to break XML validation if XML validation is enabled.\r\n    Oct 31, 2015 6:55:36 PM org.apache.tomcat.util.descriptor.DigesterFactory locationFor\r\n    WARNING: The XML schema [datatypes.dtd] could not be found. This is very likely to break XML validation if XML validation is enabled.\r\n    Oct 31, 2015 6:55:36 PM org.apache.tomcat.util.descriptor.DigesterFactory locationFor\r\n    WARNING: The XML schema [xml.xsd] could not be found. This is very likely to break XML validation if XML validation is enabled.\r\n    Oct 31, 2015 6:55:36 PM org.apache.tomcat.util.descriptor.DigesterFactory locationFor\r\n    WARNING: The XML schema [j2ee_web_services_1_1.xsd] could not be found. This is very likely to break XML validation if XML validation is enabled.\r\n    Oct 31, 2015 6:55:36 PM org.apache.tomcat.util.descriptor.DigesterFactory locationFor\r\n    WARNING: The XML schema [j2ee_web_services_client_1_1.xsd] could not be found. This is very likely to break XML validation if XML validation is enabled.\r\n    Oct 31, 2015 6:55:36 PM org.apache.tomcat.util.descriptor.DigesterFactory locationFor\r\n    WARNING: The XML schema [web-app_2_4.xsd] could not be found. This is very likely to break XML validation if XML validation is enabled.\r\n    Oct 31, 2015 6:55:36 PM org.apache.tomcat.util.descriptor.DigesterFactory locationFor\r\n    WARNING: The XML schema [web-jsptaglibrary_2_0.xsd] could not be found. This is very likely to break XML validation if XML validation is enabled.\r\n    Oct 31, 2015 6:55:36 PM org.apache.tomcat.util.descriptor.DigesterFactory locationFor\r\n    WARNING: The XML schema [j2ee_1_4.xsd] could not be found. This is very likely to break XML validation if XML validation is enabled.\r\n    Oct 31, 2015 6:55:36 PM org.apache.tomcat.util.descriptor.DigesterFactory locationFor\r\n    WARNING: The XML schema [jsp_2_0.xsd] could not be found. This is very likely to break XML validation if XML validation is enabled.\r\n    Oct 31, 2015 6:55:36 PM org.apache.tomcat.util.descriptor.DigesterFactory locationFor\r\n    WARNING: The XML schema [web-app_2_5.xsd] could not be found. This is very likely to break XML validation if XML validation is enabled.\r\n    Oct 31, 2015 6:55:36 PM org.apache.tomcat.util.descriptor.DigesterFactory locationFor\r\n    WARNING: The XML schema [web-jsptaglibrary_2_1.xsd] could not be found. This is very likely to break XML validation if XML validation is enabled.\r\n    Oct 31, 2015 6:55:36 PM org.apache.tomcat.util.descriptor.DigesterFactory locationFor\r\n    WARNING: The XML schema [javaee_5.xsd] could not be found. This is very likely to break XML validation if XML validation is enabled.\r\n    Oct 31, 2015 6:55:36 PM org.apache.tomcat.util.descriptor.DigesterFactory locationFor\r\n    WARNING: The XML schema [jsp_2_1.xsd] could not be found. This is very likely to break XML validation if XML validation is enabled.\r\n    Oct 31, 2015 6:55:36 PM org.apache.tomcat.util.descriptor.DigesterFactory locationFor\r\n    WARNING: The XML schema [javaee_web_services_1_2.xsd] could not be found. This is very likely to break XML validation if XML validation is enabled.\r\n    Oct 31, 2015 6:55:36 PM org.apache.tomcat.util.descriptor.DigesterFactory locationFor\r\n    WARNING: The XML schema [javaee_web_services_client_1_2.xsd] could not be found. This is very likely to break XML validation if XML validation is enabled.\r\n    Oct 31, 2015 6:55:36 PM org.apache.tomcat.util.descriptor.DigesterFactory locationFor\r\n    WARNING: The XML schema [web-app_3_0.xsd] could not be found. This is very likely to break XML validation if XML validation is enabled.\r\n    Oct 31, 2015 6:55:36 PM org.apache.tomcat.util.descriptor.DigesterFactory locationFor\r\n    WARNING: The XML schema [web-fragment_3_0.xsd] could not be found. This is very likely to break XML validation if XML validation is enabled.\r\n    Oct 31, 2015 6:55:36 PM org.apache.tomcat.util.descriptor.DigesterFactory locationFor\r\n    WARNING: The XML schema [web-common_3_0.xsd] could not be found. This is very likely to break XML validation if XML validation is enabled.\r\n    Oct 31, 2015 6:55:36 PM org.apache.tomcat.util.descriptor.DigesterFactory locationFor\r\n    WARNING: The XML schema [javaee_6.xsd] could not be found. This is very likely to break XML validation if XML validation is enabled.\r\n    Oct 31, 2015 6:55:36 PM org.apache.tomcat.util.descriptor.DigesterFactory locationFor\r\n    WARNING: The XML schema [jsp_2_2.xsd] could not be found. This is very likely to break XML validation if XML validation is enabled.\r\n    Oct 31, 2015 6:55:36 PM org.apache.tomcat.util.descriptor.DigesterFactory locationFor\r\n    WARNING: The XML schema [javaee_web_services_1_3.xsd] could not be found. This is very likely to break XML validation if XML validation is enabled.\r\n    Oct 31, 2015 6:55:36 PM org.apache.tomcat.util.descriptor.DigesterFactory locationFor\r\n    WARNING: The XML schema [javaee_web_services_client_1_3.xsd] could not be found. This is very likely to break XML validation if XML validation is enabled.\r\n    Oct 31, 2015 6:55:36 PM org.apache.tomcat.util.descriptor.DigesterFactory locationFor\r\n    WARNING: The XML schema [web-app_3_1.xsd] could not be found. This is very likely to break XML validation if XML validation is enabled.\r\n    Oct 31, 2015 6:55:36 PM org.apache.tomcat.util.descriptor.DigesterFactory locationFor\r\n    WARNING: The XML schema [web-fragment_3_1.xsd] could not be found. This is very likely to break XML validation if XML validation is enabled.\r\n    Oct 31, 2015 6:55:36 PM org.apache.tomcat.util.descriptor.DigesterFactory locationFor\r\n    WARNING: The XML schema [web-common_3_1.xsd] could not be found. This is very likely to break XML validation if XML validation is enabled.\r\n    Oct 31, 2015 6:55:36 PM org.apache.tomcat.util.descriptor.DigesterFactory locationFor\r\n    WARNING: The XML schema [javaee_7.xsd] could not be found. This is very likely to break XML validation if XML validation is enabled.\r\n    Oct 31, 2015 6:55:36 PM org.apache.tomcat.util.descriptor.DigesterFactory locationFor\r\n    WARNING: The XML schema [jsp_2_3.xsd] could not be found. This is very likely to break XML validation if XML validation is enabled.\r\n    Oct 31, 2015 6:55:36 PM org.apache.tomcat.util.descriptor.DigesterFactory locationFor\r\n    WARNING: The XML schema [javaee_web_services_1_4.xsd] could not be found. This is very likely to break XML validation if XML validation is enabled.\r\n    Oct 31, 2015 6:55:36 PM org.apache.tomcat.util.descriptor.DigesterFactory locationFor\r\n    WARNING: The XML schema [javaee_web_services_client_1_4.xsd] could not be found. This is very likely to break XML validation if XML validation is enabled.\r\n    Oct 31, 2015 6:55:36 PM org.apache.catalina.core.ContainerBase startInternal\r\n    SEVERE: A child container failed during start\r\n    java.util.concurrent.ExecutionException: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[]]\r\n    \tat java.util.concurrent.FutureTask$Sync.innerGet(Unknown Source)\r\n    \tat java.util.concurrent.FutureTask.get(Unknown Source)\r\n    \tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:916)\r\n    \tat org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:871)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\r\n    \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1408)\r\n    \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1398)\r\n    \tat java.util.concurrent.FutureTask$Sync.innerRun(Unknown Source)\r\n    \tat java.util.concurrent.FutureTask.run(Unknown Source)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\r\n    \tat java.lang.Thread.run(Unknown Source)\r\n    Caused by: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[]]\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:154)\r\n    \t... 7 more\r\n    Caused by: java.lang.NoSuchMethodError: javax.servlet.ServletContext.getClassLoader()Ljava/lang/ClassLoader;\r\n    \tat org.apache.tomcat.util.scan.StandardJarScanner.scan(StandardJarScanner.java:210)\r\n    \tat org.apache.catalina.startup.ContextConfig.processJarsForWebFragments(ContextConfig.java:1872)\r\n    \tat org.apache.catalina.startup.ContextConfig.webConfig(ContextConfig.java:1119)\r\n    \tat org.apache.catalina.startup.ContextConfig.configureStart(ContextConfig.java:771)\r\n    \tat org.apache.catalina.startup.ContextConfig.lifecycleEvent(ContextConfig.java:305)\r\n    \tat org.apache.catalina.util.LifecycleSupport.fireLifecycleEvent(LifecycleSupport.java:95)\r\n    \tat org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:90)\r\n    \tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5080)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\r\n    \t... 7 more\r\n    \r\n    Oct 31, 2015 6:55:36 PM org.apache.catalina.core.ContainerBase startInternal\r\n    SEVERE: A child container failed during start\r\n    java.util.concurrent.ExecutionException: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost]]\r\n    \tat java.util.concurrent.FutureTask$Sync.innerGet(Unknown Source)\r\n    \tat java.util.concurrent.FutureTask.get(Unknown Source)\r\n    \tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:916)\r\n    \tat org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:262)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\r\n    \tat org.apache.catalina.core.StandardService.startInternal(StandardService.java:439)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\r\n    \tat org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:769)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\r\n    \tat org.apache.catalina.startup.Catalina.start(Catalina.java:625)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n    \tat java.lang.reflect.Method.invoke(Unknown Source)\r\n    \tat org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:351)\r\n    \tat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:485)\r\n    Caused by: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost]]\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:154)\r\n    \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1408)\r\n    \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1398)\r\n    \tat java.util.concurrent.FutureTask$Sync.innerRun(Unknown Source)\r\n    \tat java.util.concurrent.FutureTask.run(Unknown Source)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\r\n    \tat java.lang.Thread.run(Unknown Source)\r\n    Caused by: org.apache.catalina.LifecycleException: A child container failed during start\r\n    \tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:924)\r\n    \tat org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:871)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\r\n    \t... 7 more\r\n    \r\n    Oct 31, 2015 6:55:36 PM org.apache.catalina.startup.Catalina start\r\n    SEVERE: The required Server component failed to start so Tomcat is unable to start.\r\n    org.apache.catalina.LifecycleException: Failed to start component [StandardServer[8005]]\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:154)\r\n    \tat org.apache.catalina.startup.Catalina.start(Catalina.java:625)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n    \tat java.lang.reflect.Method.invoke(Unknown Source)\r\n    \tat org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:351)\r\n    \tat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:485)\r\n    Caused by: org.apache.catalina.LifecycleException: Failed to start component [StandardService[Catalina]]\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:154)\r\n    \tat org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:769)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\r\n    \t... 7 more\r\n    Caused by: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina]]\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:154)\r\n    \tat org.apache.catalina.core.StandardService.startInternal(StandardService.java:439)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\r\n    \t... 9 more\r\n    Caused by: org.apache.catalina.LifecycleException: A child container failed during start\r\n    \tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:924)\r\n    \tat org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:262)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\r\n    \t... 11 more\r\n    \r\n    Oct 31, 2015 6:55:36 PM org.apache.coyote.AbstractProtocol pause\r\n    INFO: Pausing ProtocolHandler [&quot;http-nio-8080&quot;]\r\n    Oct 31, 2015 6:55:36 PM org.apache.coyote.AbstractProtocol pause\r\n    INFO: Pausing ProtocolHandler [&quot;ajp-nio-8009&quot;]\r\n    Oct 31, 2015 6:55:36 PM org.apache.catalina.core.StandardService stopInternal\r\n    INFO: Stopping service Catalina\r\n    Oct 31, 2015 6:55:36 PM org.apache.coyote.AbstractProtocol destroy\r\n    INFO: Destroying ProtocolHandler [&quot;http-nio-8080&quot;]\r\n    Oct 31, 2015 6:55:36 PM org.apache.coyote.AbstractProtocol destroy\r\n    SEVERE: Failed to destroy end point associated with ProtocolHandler [&quot;http-nio-8080&quot;]\r\n    java.lang.NullPointerException\r\n    \tat org.apache.tomcat.util.net.NioEndpoint.releaseCaches(NioEndpoint.java:305)\r\n    \tat org.apache.tomcat.util.net.NioEndpoint.unbind(NioEndpoint.java:481)\r\n    \tat org.apache.tomcat.util.net.AbstractEndpoint.destroy(AbstractEndpoint.java:823)\r\n    \tat org.apache.coyote.AbstractProtocol.destroy(AbstractProtocol.java:532)\r\n    \tat org.apache.catalina.connector.Connector.destroyInternal(Connector.java:1023)\r\n    \tat org.apache.catalina.util.LifecycleBase.destroy(LifecycleBase.java:305)\r\n    \tat org.apache.catalina.core.StandardService.destroyInternal(StandardService.java:588)\r\n    \tat org.apache.catalina.util.LifecycleBase.destroy(LifecycleBase.java:305)\r\n    \tat org.apache.catalina.core.StandardServer.destroyInternal(StandardServer.java:859)\r\n    \tat org.apache.catalina.util.LifecycleBase.destroy(LifecycleBase.java:305)\r\n    \tat org.apache.catalina.startup.Catalina.start(Catalina.java:629)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n    \tat java.lang.reflect.Method.invoke(Unknown Source)\r\n    \tat org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:351)\r\n    \tat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:485)\r\n    \r\n    Oct 31, 2015 6:55:36 PM org.apache.coyote.AbstractProtocol destroy\r\n    INFO: Destroying ProtocolHandler [&quot;ajp-nio-8009&quot;]\r\n    Oct 31, 2015 6:55:36 PM org.apache.coyote.AbstractProtocol destroy\r\n    SEVERE: Failed to destroy end point associated with ProtocolHandler [&quot;ajp-nio-8009&quot;]\r\n    java.lang.NullPointerException\r\n    \tat org.apache.tomcat.util.net.NioEndpoint.releaseCaches(NioEndpoint.java:305)\r\n    \tat org.apache.tomcat.util.net.NioEndpoint.unbind(NioEndpoint.java:481)\r\n    \tat org.apache.tomcat.util.net.AbstractEndpoint.destroy(AbstractEndpoint.java:823)\r\n    \tat org.apache.coyote.AbstractProtocol.destroy(AbstractProtocol.java:532)\r\n    \tat org.apache.catalina.connector.Connector.destroyInternal(Connector.java:1023)\r\n    \tat org.apache.catalina.util.LifecycleBase.destroy(LifecycleBase.java:305)\r\n    \tat org.apache.catalina.core.StandardService.destroyInternal(StandardService.java:588)\r\n    \tat org.apache.catalina.util.LifecycleBase.destroy(LifecycleBase.java:305)\r\n    \tat org.apache.catalina.core.StandardServer.destroyInternal(StandardServer.java:859)\r\n    \tat org.apache.catalina.util.LifecycleBase.destroy(LifecycleBase.java:305)\r\n    \tat org.apache.catalina.startup.Catalina.start(Catalina.java:629)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n    \tat java.lang.reflect.Method.invoke(Unknown Source)\r\n    \tat org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:351)\r\n    \tat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:485)\r\n","title":"Tomcat server8 failed to start at local host, how to solve this","body":"<p>copy of stack Trace</p>\n\n<pre><code>Oct 31, 2015 6:55:36 PM org.apache.catalina.startup.VersionLoggerListener log\nINFO: Server version:        Apache Tomcat/8.0.28\nOct 31, 2015 6:55:36 PM org.apache.catalina.startup.VersionLoggerListener log\nINFO: Server built:          Oct 7 2015 18:25:21 UTC\nOct 31, 2015 6:55:36 PM org.apache.catalina.startup.VersionLoggerListener log\nINFO: Server number:         8.0.28.0\nOct 31, 2015 6:55:36 PM org.apache.catalina.startup.VersionLoggerListener log\nINFO: OS Name:               Windows 8\nOct 31, 2015 6:55:36 PM org.apache.catalina.startup.VersionLoggerListener log\nINFO: OS Version:            6.2\nOct 31, 2015 6:55:36 PM org.apache.catalina.startup.VersionLoggerListener log\nINFO: Architecture:          x86\nOct 31, 2015 6:55:36 PM org.apache.catalina.startup.VersionLoggerListener log\nINFO: Java Home:             C:\\Program Files (x86)\\Java\\jre7\nOct 31, 2015 6:55:36 PM org.apache.catalina.startup.VersionLoggerListener log\nINFO: JVM Version:           1.7.0_10-b18\nOct 31, 2015 6:55:36 PM org.apache.catalina.startup.VersionLoggerListener log\nINFO: JVM Vendor:            Oracle Corporation\nOct 31, 2015 6:55:36 PM org.apache.catalina.startup.VersionLoggerListener log\nINFO: CATALINA_BASE:         F:\\Aakash\\JAVA\\Java Programs\\.metadata\\.plugins\\org.eclipse.wst.server.core\\tmp0\nOct 31, 2015 6:55:36 PM org.apache.catalina.startup.VersionLoggerListener log\nINFO: CATALINA_HOME:         C:\\apache-tomcat-8.0.28\nOct 31, 2015 6:55:36 PM org.apache.catalina.startup.VersionLoggerListener log\nINFO: Command line argument: -Dcatalina.base=F:\\Aakash\\JAVA\\Java Programs\\.metadata\\.plugins\\org.eclipse.wst.server.core\\tmp0\nOct 31, 2015 6:55:36 PM org.apache.catalina.startup.VersionLoggerListener log\nINFO: Command line argument: -Dcatalina.home=C:\\apache-tomcat-8.0.28\nOct 31, 2015 6:55:36 PM org.apache.catalina.startup.VersionLoggerListener log\nINFO: Command line argument: -Dwtp.deploy=F:\\Aakash\\JAVA\\Java Programs\\.metadata\\.plugins\\org.eclipse.wst.server.core\\tmp0\\wtpwebapps\nOct 31, 2015 6:55:36 PM org.apache.catalina.startup.VersionLoggerListener log\nINFO: Command line argument: -Djava.endorsed.dirs=C:\\apache-tomcat-8.0.28\\endorsed\nOct 31, 2015 6:55:36 PM org.apache.catalina.startup.VersionLoggerListener log\nINFO: Command line argument: -Dfile.encoding=Cp1252\nOct 31, 2015 6:55:36 PM org.apache.catalina.core.AprLifecycleListener lifecycleEvent\nINFO: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: C:\\Program Files (x86)\\Java\\jre7\\bin;C:\\Windows\\Sun\\Java\\bin;C:\\Windows\\system32;C:\\Windows;C:/Program Files (x86)/Java/jre1.8.0_65/bin/client;C:/Program Files (x86)/Java/jre1.8.0_65/bin;C:/Program Files (x86)/Java/jre1.8.0_65/lib/i386;C:\\ProgramData\\Oracle\\Java\\javapath;C:\\Program Files (x86)\\Java\\jdk1.7.0_10\\bin;C:\\Windows\\system32;C:\\Windows;C:\\Windows\\System32\\Wbem;C:\\Windows\\System32\\WindowsPowerShell\\v1.0\\;C:\\Program Files\\Hewlett-Packard\\SimplePass\\;C:\\;C:\\Program Files (x86)\\Java\\jdk1.7.0_10\\bin;C:\\eclipse-jee-mars-M1-win32\\eclipse;;.\nOct 31, 2015 6:55:36 PM org.apache.coyote.AbstractProtocol init\nINFO: Initializing ProtocolHandler [\"http-nio-8080\"]\nOct 31, 2015 6:55:36 PM org.apache.tomcat.util.net.NioSelectorPool getSharedSelector\nINFO: Using a shared selector for servlet write/read\nOct 31, 2015 6:55:36 PM org.apache.coyote.AbstractProtocol init\nINFO: Initializing ProtocolHandler [\"ajp-nio-8009\"]\nOct 31, 2015 6:55:36 PM org.apache.tomcat.util.net.NioSelectorPool getSharedSelector\nINFO: Using a shared selector for servlet write/read\nOct 31, 2015 6:55:36 PM org.apache.catalina.startup.Catalina load\nINFO: Initialization processed in 688 ms\nOct 31, 2015 6:55:36 PM org.apache.catalina.core.StandardService startInternal\nINFO: Starting service Catalina\nOct 31, 2015 6:55:36 PM org.apache.catalina.core.StandardEngine startInternal\nINFO: Starting Servlet Engine: Apache Tomcat/8.0.28\nOct 31, 2015 6:55:36 PM org.apache.tomcat.util.descriptor.DigesterFactory locationFor\nWARNING: The XML schema [XMLSchema.dtd] could not be found. This is very likely to break XML validation if XML validation is enabled.\nOct 31, 2015 6:55:36 PM org.apache.tomcat.util.descriptor.DigesterFactory locationFor\nWARNING: The XML schema [datatypes.dtd] could not be found. This is very likely to break XML validation if XML validation is enabled.\nOct 31, 2015 6:55:36 PM org.apache.tomcat.util.descriptor.DigesterFactory locationFor\nWARNING: The XML schema [xml.xsd] could not be found. This is very likely to break XML validation if XML validation is enabled.\nOct 31, 2015 6:55:36 PM org.apache.tomcat.util.descriptor.DigesterFactory locationFor\nWARNING: The XML schema [j2ee_web_services_1_1.xsd] could not be found. This is very likely to break XML validation if XML validation is enabled.\nOct 31, 2015 6:55:36 PM org.apache.tomcat.util.descriptor.DigesterFactory locationFor\nWARNING: The XML schema [j2ee_web_services_client_1_1.xsd] could not be found. This is very likely to break XML validation if XML validation is enabled.\nOct 31, 2015 6:55:36 PM org.apache.tomcat.util.descriptor.DigesterFactory locationFor\nWARNING: The XML schema [web-app_2_4.xsd] could not be found. This is very likely to break XML validation if XML validation is enabled.\nOct 31, 2015 6:55:36 PM org.apache.tomcat.util.descriptor.DigesterFactory locationFor\nWARNING: The XML schema [web-jsptaglibrary_2_0.xsd] could not be found. This is very likely to break XML validation if XML validation is enabled.\nOct 31, 2015 6:55:36 PM org.apache.tomcat.util.descriptor.DigesterFactory locationFor\nWARNING: The XML schema [j2ee_1_4.xsd] could not be found. This is very likely to break XML validation if XML validation is enabled.\nOct 31, 2015 6:55:36 PM org.apache.tomcat.util.descriptor.DigesterFactory locationFor\nWARNING: The XML schema [jsp_2_0.xsd] could not be found. This is very likely to break XML validation if XML validation is enabled.\nOct 31, 2015 6:55:36 PM org.apache.tomcat.util.descriptor.DigesterFactory locationFor\nWARNING: The XML schema [web-app_2_5.xsd] could not be found. This is very likely to break XML validation if XML validation is enabled.\nOct 31, 2015 6:55:36 PM org.apache.tomcat.util.descriptor.DigesterFactory locationFor\nWARNING: The XML schema [web-jsptaglibrary_2_1.xsd] could not be found. This is very likely to break XML validation if XML validation is enabled.\nOct 31, 2015 6:55:36 PM org.apache.tomcat.util.descriptor.DigesterFactory locationFor\nWARNING: The XML schema [javaee_5.xsd] could not be found. This is very likely to break XML validation if XML validation is enabled.\nOct 31, 2015 6:55:36 PM org.apache.tomcat.util.descriptor.DigesterFactory locationFor\nWARNING: The XML schema [jsp_2_1.xsd] could not be found. This is very likely to break XML validation if XML validation is enabled.\nOct 31, 2015 6:55:36 PM org.apache.tomcat.util.descriptor.DigesterFactory locationFor\nWARNING: The XML schema [javaee_web_services_1_2.xsd] could not be found. This is very likely to break XML validation if XML validation is enabled.\nOct 31, 2015 6:55:36 PM org.apache.tomcat.util.descriptor.DigesterFactory locationFor\nWARNING: The XML schema [javaee_web_services_client_1_2.xsd] could not be found. This is very likely to break XML validation if XML validation is enabled.\nOct 31, 2015 6:55:36 PM org.apache.tomcat.util.descriptor.DigesterFactory locationFor\nWARNING: The XML schema [web-app_3_0.xsd] could not be found. This is very likely to break XML validation if XML validation is enabled.\nOct 31, 2015 6:55:36 PM org.apache.tomcat.util.descriptor.DigesterFactory locationFor\nWARNING: The XML schema [web-fragment_3_0.xsd] could not be found. This is very likely to break XML validation if XML validation is enabled.\nOct 31, 2015 6:55:36 PM org.apache.tomcat.util.descriptor.DigesterFactory locationFor\nWARNING: The XML schema [web-common_3_0.xsd] could not be found. This is very likely to break XML validation if XML validation is enabled.\nOct 31, 2015 6:55:36 PM org.apache.tomcat.util.descriptor.DigesterFactory locationFor\nWARNING: The XML schema [javaee_6.xsd] could not be found. This is very likely to break XML validation if XML validation is enabled.\nOct 31, 2015 6:55:36 PM org.apache.tomcat.util.descriptor.DigesterFactory locationFor\nWARNING: The XML schema [jsp_2_2.xsd] could not be found. This is very likely to break XML validation if XML validation is enabled.\nOct 31, 2015 6:55:36 PM org.apache.tomcat.util.descriptor.DigesterFactory locationFor\nWARNING: The XML schema [javaee_web_services_1_3.xsd] could not be found. This is very likely to break XML validation if XML validation is enabled.\nOct 31, 2015 6:55:36 PM org.apache.tomcat.util.descriptor.DigesterFactory locationFor\nWARNING: The XML schema [javaee_web_services_client_1_3.xsd] could not be found. This is very likely to break XML validation if XML validation is enabled.\nOct 31, 2015 6:55:36 PM org.apache.tomcat.util.descriptor.DigesterFactory locationFor\nWARNING: The XML schema [web-app_3_1.xsd] could not be found. This is very likely to break XML validation if XML validation is enabled.\nOct 31, 2015 6:55:36 PM org.apache.tomcat.util.descriptor.DigesterFactory locationFor\nWARNING: The XML schema [web-fragment_3_1.xsd] could not be found. This is very likely to break XML validation if XML validation is enabled.\nOct 31, 2015 6:55:36 PM org.apache.tomcat.util.descriptor.DigesterFactory locationFor\nWARNING: The XML schema [web-common_3_1.xsd] could not be found. This is very likely to break XML validation if XML validation is enabled.\nOct 31, 2015 6:55:36 PM org.apache.tomcat.util.descriptor.DigesterFactory locationFor\nWARNING: The XML schema [javaee_7.xsd] could not be found. This is very likely to break XML validation if XML validation is enabled.\nOct 31, 2015 6:55:36 PM org.apache.tomcat.util.descriptor.DigesterFactory locationFor\nWARNING: The XML schema [jsp_2_3.xsd] could not be found. This is very likely to break XML validation if XML validation is enabled.\nOct 31, 2015 6:55:36 PM org.apache.tomcat.util.descriptor.DigesterFactory locationFor\nWARNING: The XML schema [javaee_web_services_1_4.xsd] could not be found. This is very likely to break XML validation if XML validation is enabled.\nOct 31, 2015 6:55:36 PM org.apache.tomcat.util.descriptor.DigesterFactory locationFor\nWARNING: The XML schema [javaee_web_services_client_1_4.xsd] could not be found. This is very likely to break XML validation if XML validation is enabled.\nOct 31, 2015 6:55:36 PM org.apache.catalina.core.ContainerBase startInternal\nSEVERE: A child container failed during start\njava.util.concurrent.ExecutionException: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[]]\n    at java.util.concurrent.FutureTask$Sync.innerGet(Unknown Source)\n    at java.util.concurrent.FutureTask.get(Unknown Source)\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:916)\n    at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:871)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1408)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1398)\n    at java.util.concurrent.FutureTask$Sync.innerRun(Unknown Source)\n    at java.util.concurrent.FutureTask.run(Unknown Source)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\n    at java.lang.Thread.run(Unknown Source)\nCaused by: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[]]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:154)\n    ... 7 more\nCaused by: java.lang.NoSuchMethodError: javax.servlet.ServletContext.getClassLoader()Ljava/lang/ClassLoader;\n    at org.apache.tomcat.util.scan.StandardJarScanner.scan(StandardJarScanner.java:210)\n    at org.apache.catalina.startup.ContextConfig.processJarsForWebFragments(ContextConfig.java:1872)\n    at org.apache.catalina.startup.ContextConfig.webConfig(ContextConfig.java:1119)\n    at org.apache.catalina.startup.ContextConfig.configureStart(ContextConfig.java:771)\n    at org.apache.catalina.startup.ContextConfig.lifecycleEvent(ContextConfig.java:305)\n    at org.apache.catalina.util.LifecycleSupport.fireLifecycleEvent(LifecycleSupport.java:95)\n    at org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:90)\n    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5080)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\n    ... 7 more\n\nOct 31, 2015 6:55:36 PM org.apache.catalina.core.ContainerBase startInternal\nSEVERE: A child container failed during start\njava.util.concurrent.ExecutionException: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost]]\n    at java.util.concurrent.FutureTask$Sync.innerGet(Unknown Source)\n    at java.util.concurrent.FutureTask.get(Unknown Source)\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:916)\n    at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:262)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\n    at org.apache.catalina.core.StandardService.startInternal(StandardService.java:439)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\n    at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:769)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\n    at org.apache.catalina.startup.Catalina.start(Catalina.java:625)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n    at java.lang.reflect.Method.invoke(Unknown Source)\n    at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:351)\n    at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:485)\nCaused by: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost]]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:154)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1408)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1398)\n    at java.util.concurrent.FutureTask$Sync.innerRun(Unknown Source)\n    at java.util.concurrent.FutureTask.run(Unknown Source)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\n    at java.lang.Thread.run(Unknown Source)\nCaused by: org.apache.catalina.LifecycleException: A child container failed during start\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:924)\n    at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:871)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\n    ... 7 more\n\nOct 31, 2015 6:55:36 PM org.apache.catalina.startup.Catalina start\nSEVERE: The required Server component failed to start so Tomcat is unable to start.\norg.apache.catalina.LifecycleException: Failed to start component [StandardServer[8005]]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:154)\n    at org.apache.catalina.startup.Catalina.start(Catalina.java:625)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n    at java.lang.reflect.Method.invoke(Unknown Source)\n    at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:351)\n    at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:485)\nCaused by: org.apache.catalina.LifecycleException: Failed to start component [StandardService[Catalina]]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:154)\n    at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:769)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\n    ... 7 more\nCaused by: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina]]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:154)\n    at org.apache.catalina.core.StandardService.startInternal(StandardService.java:439)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\n    ... 9 more\nCaused by: org.apache.catalina.LifecycleException: A child container failed during start\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:924)\n    at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:262)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\n    ... 11 more\n\nOct 31, 2015 6:55:36 PM org.apache.coyote.AbstractProtocol pause\nINFO: Pausing ProtocolHandler [\"http-nio-8080\"]\nOct 31, 2015 6:55:36 PM org.apache.coyote.AbstractProtocol pause\nINFO: Pausing ProtocolHandler [\"ajp-nio-8009\"]\nOct 31, 2015 6:55:36 PM org.apache.catalina.core.StandardService stopInternal\nINFO: Stopping service Catalina\nOct 31, 2015 6:55:36 PM org.apache.coyote.AbstractProtocol destroy\nINFO: Destroying ProtocolHandler [\"http-nio-8080\"]\nOct 31, 2015 6:55:36 PM org.apache.coyote.AbstractProtocol destroy\nSEVERE: Failed to destroy end point associated with ProtocolHandler [\"http-nio-8080\"]\njava.lang.NullPointerException\n    at org.apache.tomcat.util.net.NioEndpoint.releaseCaches(NioEndpoint.java:305)\n    at org.apache.tomcat.util.net.NioEndpoint.unbind(NioEndpoint.java:481)\n    at org.apache.tomcat.util.net.AbstractEndpoint.destroy(AbstractEndpoint.java:823)\n    at org.apache.coyote.AbstractProtocol.destroy(AbstractProtocol.java:532)\n    at org.apache.catalina.connector.Connector.destroyInternal(Connector.java:1023)\n    at org.apache.catalina.util.LifecycleBase.destroy(LifecycleBase.java:305)\n    at org.apache.catalina.core.StandardService.destroyInternal(StandardService.java:588)\n    at org.apache.catalina.util.LifecycleBase.destroy(LifecycleBase.java:305)\n    at org.apache.catalina.core.StandardServer.destroyInternal(StandardServer.java:859)\n    at org.apache.catalina.util.LifecycleBase.destroy(LifecycleBase.java:305)\n    at org.apache.catalina.startup.Catalina.start(Catalina.java:629)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n    at java.lang.reflect.Method.invoke(Unknown Source)\n    at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:351)\n    at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:485)\n\nOct 31, 2015 6:55:36 PM org.apache.coyote.AbstractProtocol destroy\nINFO: Destroying ProtocolHandler [\"ajp-nio-8009\"]\nOct 31, 2015 6:55:36 PM org.apache.coyote.AbstractProtocol destroy\nSEVERE: Failed to destroy end point associated with ProtocolHandler [\"ajp-nio-8009\"]\njava.lang.NullPointerException\n    at org.apache.tomcat.util.net.NioEndpoint.releaseCaches(NioEndpoint.java:305)\n    at org.apache.tomcat.util.net.NioEndpoint.unbind(NioEndpoint.java:481)\n    at org.apache.tomcat.util.net.AbstractEndpoint.destroy(AbstractEndpoint.java:823)\n    at org.apache.coyote.AbstractProtocol.destroy(AbstractProtocol.java:532)\n    at org.apache.catalina.connector.Connector.destroyInternal(Connector.java:1023)\n    at org.apache.catalina.util.LifecycleBase.destroy(LifecycleBase.java:305)\n    at org.apache.catalina.core.StandardService.destroyInternal(StandardService.java:588)\n    at org.apache.catalina.util.LifecycleBase.destroy(LifecycleBase.java:305)\n    at org.apache.catalina.core.StandardServer.destroyInternal(StandardServer.java:859)\n    at org.apache.catalina.util.LifecycleBase.destroy(LifecycleBase.java:305)\n    at org.apache.catalina.startup.Catalina.start(Catalina.java:629)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n    at java.lang.reflect.Method.invoke(Unknown Source)\n    at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:351)\n    at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:485)\n</code></pre>\n"},{"tags":["java","spring-boot","networking"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1642568201,"post_id":70765441,"comment_id":125102432,"body_markdown":"Are you sure Intellij is the problem? You could start your app from the terminal with a JAR or Maven command","body":"Are you sure Intellij is the problem? You could start your app from the terminal with a JAR or Maven command"},{"owner":{"account_id":4218123,"reputation":9899,"user_id":3453898,"accept_rate":75,"display_name":"pixel"},"score":0,"creation_date":1658254879,"post_id":70765441,"comment_id":129004769,"body_markdown":"Have you found an answer to this?I am having same issue in version 2021.2.3","body":"Have you found an answer to this?I am having same issue in version 2021.2.3"},{"owner":{"account_id":20277167,"reputation":1,"user_id":14871919,"display_name":"Manisha Kumari"},"score":0,"creation_date":1658394639,"post_id":70765441,"comment_id":129042245,"body_markdown":"yes, its a firewall issue, just off your firewall and try to run , it will work","body":"yes, its a firewall issue, just off your firewall and try to run , it will work"}],"owner":{"account_id":20277167,"reputation":1,"user_id":14871919,"display_name":"Manisha Kumari"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":182,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643359217,"creation_date":1642567874,"question_id":70765441,"body_markdown":"I am using Intellij Ultimate edition 18.2.7\r\n\r\nWorking on a Java project using Maven as my build tool.\r\n\r\nI am getting this error when attempting to launch my project via Jetty server.\r\n\r\nError- \r\n\r\n&gt; Application Server was not connected before run configuration stop,\r\n&gt; reason: java.rmi.ConnectException: Connection refused to host:\r\n&gt; 192.168.188.195; nested exception is: java.net.ConnectException: Connection timed out: connect&quot;\r\n\r\nHave attempted, to update the liquibse, maven, and service files, rebuild the project in IntelliJ, open and shut down IntelliJ, restart the system ","title":"Application Server was not connected before run configuration stop","body":"<p>I am using Intellij Ultimate edition 18.2.7</p>\n<p>Working on a Java project using Maven as my build tool.</p>\n<p>I am getting this error when attempting to launch my project via Jetty server.</p>\n<p>Error-</p>\n<blockquote>\n<p>Application Server was not connected before run configuration stop,\nreason: java.rmi.ConnectException: Connection refused to host:\n192.168.188.195; nested exception is: java.net.ConnectException: Connection timed out: connect&quot;</p>\n</blockquote>\n<p>Have attempted, to update the liquibse, maven, and service files, rebuild the project in IntelliJ, open and shut down IntelliJ, restart the system</p>\n"},{"tags":["java","testng","testng.xml","testng-annotation-test"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1643353353,"post_id":70889911,"comment_id":125321715,"body_markdown":"You don&#39;t show your actual tests, yet you want us to figure out what&#39;s wrong with them?","body":"You don&#39;t show your actual tests, yet you want us to figure out what&#39;s wrong with them?"},{"owner":{"account_id":23049345,"reputation":121,"user_id":17166413,"display_name":"Surendra Anand"},"score":0,"creation_date":1643353552,"post_id":70889911,"comment_id":125321758,"body_markdown":"I didn&#39;t know whether it would allow me to, due to character limitation. Updated the code as well.","body":"I didn&#39;t know whether it would allow me to, due to character limitation. Updated the code as well."},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1643353756,"post_id":70889911,"comment_id":125321797,"body_markdown":"your tests aren&#39;t actually testing anything. most likely, the screen is &#39;cleared&#39; after each test. add assert(false); in one of your other tests, and see what happens","body":"your tests aren&#39;t actually testing anything. most likely, the screen is &#39;cleared&#39; after each test. add assert(false); in one of your other tests, and see what happens"},{"owner":{"account_id":23049345,"reputation":121,"user_id":17166413,"display_name":"Surendra Anand"},"score":0,"creation_date":1643353859,"post_id":70889911,"comment_id":125321815,"body_markdown":"I&#39;m trying to understand how Factory annotation works as I&#39;m a beginner. And I don&#39;t want the code to be complex. And if I add dependsOnMethod, I&#39;m getting  depends on nonexistent method error","body":"I&#39;m trying to understand how Factory annotation works as I&#39;m a beginner. And I don&#39;t want the code to be complex. And if I add dependsOnMethod, I&#39;m getting  depends on nonexistent method error"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1643354041,"post_id":70889911,"comment_id":125321863,"body_markdown":"how is adding an assertion making the code &quot;complex&quot;? https://medium.com/geekculture/using-testng-factory-annotation-with-dataprovider-706e28e96f3b","body":"how is adding an assertion making the code &quot;complex&quot;? <a href=\"https://medium.com/geekculture/using-testng-factory-annotation-with-dataprovider-706e28e96f3b\" rel=\"nofollow noreferrer\">medium.com/geekculture/&hellip;</a>"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1643355396,"post_id":70889911,"comment_id":125322218,"body_markdown":"you claim in your title the issue is only your last @Test is executed. That&#39;s the issue I&#39;m responding to. Seeing as &#39;looking at it&#39; is sufficient to know the issue, you clearly know both the issue and the solution. No reason to continue this, then.","body":"you claim in your title the issue is only your last @Test is executed. That&#39;s the issue I&#39;m responding to. Seeing as &#39;looking at it&#39; is sufficient to know the issue, you clearly know both the issue and the solution. No reason to continue this, then."}],"answers":[{"tags":[],"owner":{"account_id":6788662,"reputation":2778,"user_id":5226491,"display_name":"Max Daroshchanka"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643358226,"creation_date":1643355562,"answer_id":70890287,"question_id":70889911,"body_markdown":"Your `intercept` method works in the way, when you try to put multiple values with the same key to the map, so only the last value saved due to keys duplication.\r\n\r\nSo you see the last test per class..\r\n\r\nThe issue is here:\r\n\r\n```\r\norders.put(Integer.valueOf(testData.getA()), instance);\r\n```\r\n\r\nThe solution here might be\r\n\r\n```\r\nMap&lt;Integer, List&lt;IMethodInstance&gt;&gt; orders\r\n```\r\n\r\nappend the List&lt;IMethodInstance&gt; in the loop.\r\n\r\nAnd by the end iterate over the keyset and make a single list from all the values.\r\n\r\n---\r\n\r\n**Implement sorting with `IMethodInterceptor`**\r\n\r\nTo change the order of the test you have to apply some sorting logic.\r\n\r\nHere in your code, there is no sorting applied. You&#39;ve created a new list, but the order was not changed.\r\n\r\nI&#39;ll add an example, how to apply sorting by `MainImpClass getA()` method result using custom Comparator. I&#39;ll add the implementation in `MainFactoryClass` as you have currently, but usually I split factories and listeners to separate classes.\r\n\r\n```\r\npublic class MainFactoryClass implements IMethodInterceptor {\r\n\r\n\t@Factory\r\n\tpublic Object[] mainFactory() {\r\n\r\n\t\tObject[] data = new Object[6];\r\n\t\tdata[0] = new MainImpClass(9);\r\n\t\tdata[1] = new MainImpClass(10);\r\n\t\tdata[2] = new MainImpClass(11);\r\n\t\tdata[3] = new MainImpClass(12);\r\n\t\tdata[4] = new MainImpClass(13);\r\n\t\tdata[5] = new MainImpClass(14);\r\n\t\treturn data;\r\n\t}\r\n\r\n    @Override\r\n    List&lt;IMethodInstance&gt; intercept(List&lt;IMethodInstance&gt; methods, ITestContext context) {\r\n        // applying sorting is essential to change the tests order\r\n        methods.sort(new MainImpClassComparator());\r\n        return methods;\r\n    }\r\n\r\n    // internal class added, assumed it should compare only methods from MainImpClass\r\n    // here compareTo delegated to getA() results\r\n    class MainImpClassComparator implements Comparator&lt;IMethodInstance&gt; {\r\n\r\n        @Override\r\n        int compare(IMethodInstance o1, IMethodInstance o2) {\r\n            return ((MainImpClass)o1.getInstance()).getA().compareTo(((MainImpClass)o2.getInstance()).getA());\r\n        }\r\n    }\r\n\r\n\r\n```\r\n\r\n","title":"Only the last @Test is being executed when using IMethodInterceptor as Listener in TestNG","body":"<p>Your <code>intercept</code> method works in the way, when you try to put multiple values with the same key to the map, so only the last value saved due to keys duplication.</p>\n<p>So you see the last test per class..</p>\n<p>The issue is here:</p>\n<pre><code>orders.put(Integer.valueOf(testData.getA()), instance);\n</code></pre>\n<p>The solution here might be</p>\n<pre><code>Map&lt;Integer, List&lt;IMethodInstance&gt;&gt; orders\n</code></pre>\n<p>append the List in the loop.</p>\n<p>And by the end iterate over the keyset and make a single list from all the values.</p>\n<hr />\n<p><strong>Implement sorting with <code>IMethodInterceptor</code></strong></p>\n<p>To change the order of the test you have to apply some sorting logic.</p>\n<p>Here in your code, there is no sorting applied. You've created a new list, but the order was not changed.</p>\n<p>I'll add an example, how to apply sorting by <code>MainImpClass getA()</code> method result using custom Comparator. I'll add the implementation in <code>MainFactoryClass</code> as you have currently, but usually I split factories and listeners to separate classes.</p>\n<pre><code>public class MainFactoryClass implements IMethodInterceptor {\n\n    @Factory\n    public Object[] mainFactory() {\n\n        Object[] data = new Object[6];\n        data[0] = new MainImpClass(9);\n        data[1] = new MainImpClass(10);\n        data[2] = new MainImpClass(11);\n        data[3] = new MainImpClass(12);\n        data[4] = new MainImpClass(13);\n        data[5] = new MainImpClass(14);\n        return data;\n    }\n\n    @Override\n    List&lt;IMethodInstance&gt; intercept(List&lt;IMethodInstance&gt; methods, ITestContext context) {\n        // applying sorting is essential to change the tests order\n        methods.sort(new MainImpClassComparator());\n        return methods;\n    }\n\n    // internal class added, assumed it should compare only methods from MainImpClass\n    // here compareTo delegated to getA() results\n    class MainImpClassComparator implements Comparator&lt;IMethodInstance&gt; {\n\n        @Override\n        int compare(IMethodInstance o1, IMethodInstance o2) {\n            return ((MainImpClass)o1.getInstance()).getA().compareTo(((MainImpClass)o2.getInstance()).getA());\n        }\n    }\n\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10595663,"reputation":4835,"user_id":7804477,"display_name":"Gautham M"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643359014,"creation_date":1643358006,"answer_id":70890666,"question_id":70889911,"body_markdown":"Currently your configuration is such the there are 6 test instances and each contains 5 methods each. So a total of these 30 methods would be passed onto the intercept method. So since you are grouping them using `getA`, only one method (last) among the 5 methods would be finally available in the map for an instance. One solution would be to implement @Max&#39;s solution by keeping a map of lists.\r\n\r\nAnother solution, assuming that you are using Java 8+, you could simplify the intercept method by using sorting instead of creating a map.\r\n\r\n```java\r\nComparator&lt;IMethodInstance&gt; customCompare = \r\n   Comparator.comparing(inst -&gt; ((MainImpClass) inst.getInstance()).getA())\r\n             .thenComparing(inst -&gt; inst.getMethod().getPriority());\r\n    \r\n// Now sort the list\r\nlist.sort(customCompare);\r\nreturn list;\r\n```\r\n\r\nSometimes, this might show some compile error, in which case you can use:\r\n\r\n```java\r\nComparator&lt;Object&gt; customCompare = \r\n   Comparator.comparing(inst -&gt; ((MainImpClass) ((IMethodInstance) inst).getInstance()).getA())\r\n             .thenComparing(inst -&gt; ((IMethodInstance) inst).getMethod().getPriority());\r\n```\r\n\r\nNote: Better to use separate classes for factory and interceptor as both are doing different things. Iterate the map using `entrySet()` and use `entry.getValue()` instead of iterating with `keySet()` and accessing value by `map.get(key)`. ([Refer](https://stackoverflow.com/a/8962643/7804477))","title":"Only the last @Test is being executed when using IMethodInterceptor as Listener in TestNG","body":"<p>Currently your configuration is such the there are 6 test instances and each contains 5 methods each. So a total of these 30 methods would be passed onto the intercept method. So since you are grouping them using <code>getA</code>, only one method (last) among the 5 methods would be finally available in the map for an instance. One solution would be to implement @Max's solution by keeping a map of lists.</p>\n<p>Another solution, assuming that you are using Java 8+, you could simplify the intercept method by using sorting instead of creating a map.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Comparator&lt;IMethodInstance&gt; customCompare = \n   Comparator.comparing(inst -&gt; ((MainImpClass) inst.getInstance()).getA())\n             .thenComparing(inst -&gt; inst.getMethod().getPriority());\n    \n// Now sort the list\nlist.sort(customCompare);\nreturn list;\n</code></pre>\n<p>Sometimes, this might show some compile error, in which case you can use:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Comparator&lt;Object&gt; customCompare = \n   Comparator.comparing(inst -&gt; ((MainImpClass) ((IMethodInstance) inst).getInstance()).getA())\n             .thenComparing(inst -&gt; ((IMethodInstance) inst).getMethod().getPriority());\n</code></pre>\n<p>Note: Better to use separate classes for factory and interceptor as both are doing different things. Iterate the map using <code>entrySet()</code> and use <code>entry.getValue()</code> instead of iterating with <code>keySet()</code> and accessing value by <code>map.get(key)</code>. (<a href=\"https://stackoverflow.com/a/8962643/7804477\">Refer</a>)</p>\n"}],"owner":{"account_id":23049345,"reputation":121,"user_id":17166413,"display_name":"Surendra Anand"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":167,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70890666,"answer_count":2,"score":2,"last_activity_date":1643359014,"creation_date":1643353054,"question_id":70889911,"body_markdown":"I&#39;m trying to use `@Factory` to create multiple instances of a class and print the values in the same order that we have passed by using `IMethodInterceptor` listener:\r\n\r\n    public class MainFactoryClass implements IMethodInterceptor {\r\n\r\n\t@Factory\r\n\tpublic Object[] mainFactory() {\r\n\r\n\t\tObject[] data = new Object[6];\r\n\t\tdata[0] = new MainImpClass(9);\r\n\t\tdata[1] = new MainImpClass(10);\r\n\t\tdata[2] = new MainImpClass(11);\r\n\t\tdata[3] = new MainImpClass(12);\r\n\t\tdata[4] = new MainImpClass(13);\r\n\t\tdata[5] = new MainImpClass(14);\r\n\t\treturn data;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic List&lt;IMethodInstance&gt; intercept(List&lt;IMethodInstance&gt; list, ITestContext \r\n    iTestContext) {\r\n\r\n\t\tMap&lt;Integer, IMethodInstance&gt; orders = new TreeMap&lt;&gt;();\r\n\r\n\t\tfor (IMethodInstance instance : list) {\r\n\t\t\tMainImpClass testData = (MainImpClass) instance.getInstance();\r\n\t\t\torders.put(Integer.valueOf(testData.getA()), instance);\r\n\t\t}\r\n\r\n\t\tList&lt;IMethodInstance&gt; orderList = new ArrayList&lt;IMethodInstance&gt;(list.size());\t\t\r\n\r\n\t\tfor (Integer order : orders.keySet()) {\r\n\t\t\tIMethodInstance test = orders.get(order);\r\n\t\t\torderList.add(test);\t\t\r\n\t\t}\r\n\t\treturn orderList;\r\n\t}\r\n\r\n    }\r\n\r\nIf I have 5 `@Test` methods to print the values in the class, it only takes the last @Test method into account and prints the value. What am I doing wrong?. i.e. `getValue1, getValue2, getValue3, getValue4` are not run.\r\n\r\nTried to use `priority` or `dependsOnMethods`. Code mentioned below:\r\n\r\n    @Listeners({ MainFactoryClass.class })\r\n\r\n    public class MainImpClass {\r\n\tint a;\r\n\r\n\tpublic MainImpClass(int a) {\r\n\t\tthis.a = a;\r\n\t}\r\n\r\n\tpublic int getA() {\r\n\t\treturn a;\r\n\t}\r\n\r\n\t@Test(priority = 0)\r\n\tpublic void getValue1() {\r\n\t\tSystem.out.println(&quot;Value from getValue1: &quot; + a);\r\n\t}\r\n\r\n\t@Test(priority = 1)\r\n\tpublic void getValue2() {\r\n\t\tSystem.out.println(&quot;Value from getValue2: &quot; + a);\r\n\t}\r\n\r\n\t@Test(priority = 2)\r\n\tpublic void getValue3() {\r\n\t\tSystem.out.println(&quot;Value from getValue3: &quot; + a);\r\n\t}\r\n\r\n\t@Test(priority = 3)\r\n\tpublic void getValue4() {\r\n\t\tSystem.out.println(&quot;Value from getValue4: &quot; + a);\r\n\t}\r\n\r\n\t@Test(priority = 4)\r\n\tpublic void getValue5() {\r\n\t\tSystem.out.println(&quot;Value from getValue5: &quot; + a);\r\n\t}\r\n\r\n    }\r\n\r\nThe output is in an order as we have created the instances but only from last `@Test`.\r\n\r\n    Value from getValue5: 9\r\n    Value from getValue5: 10\r\n    Value from getValue5: 11\r\n    Value from getValue5: 12\r\n    Value from getValue5: 13\r\n    Value from getValue5: 14\r\n\r\ntestng.xml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;!DOCTYPE suite SYSTEM &quot;https://testng.org/testng-1.0.dtd&quot;&gt;\r\n    &lt;suite name=&quot;Factory Suite&quot;&gt;\r\n    &lt;test thread-count=&quot;5&quot; name=&quot; Factory Test&quot; group-by- \r\n    instances=&quot;true&quot;&gt;\r\n    &lt;classes&gt;\r\n      &lt;class name=&quot;com.trial.MainFactoryClass&quot;/&gt;\r\n    &lt;/classes&gt;\r\n    &lt;/test&gt; &lt;!-- Test --&gt;\r\n    &lt;/suite&gt; &lt;!-- Suite --&gt;\r\n","title":"Only the last @Test is being executed when using IMethodInterceptor as Listener in TestNG","body":"<p>I'm trying to use <code>@Factory</code> to create multiple instances of a class and print the values in the same order that we have passed by using <code>IMethodInterceptor</code> listener:</p>\n<pre><code>public class MainFactoryClass implements IMethodInterceptor {\n\n@Factory\npublic Object[] mainFactory() {\n\n    Object[] data = new Object[6];\n    data[0] = new MainImpClass(9);\n    data[1] = new MainImpClass(10);\n    data[2] = new MainImpClass(11);\n    data[3] = new MainImpClass(12);\n    data[4] = new MainImpClass(13);\n    data[5] = new MainImpClass(14);\n    return data;\n}\n\n@Override\npublic List&lt;IMethodInstance&gt; intercept(List&lt;IMethodInstance&gt; list, ITestContext \niTestContext) {\n\n    Map&lt;Integer, IMethodInstance&gt; orders = new TreeMap&lt;&gt;();\n\n    for (IMethodInstance instance : list) {\n        MainImpClass testData = (MainImpClass) instance.getInstance();\n        orders.put(Integer.valueOf(testData.getA()), instance);\n    }\n\n    List&lt;IMethodInstance&gt; orderList = new ArrayList&lt;IMethodInstance&gt;(list.size());      \n\n    for (Integer order : orders.keySet()) {\n        IMethodInstance test = orders.get(order);\n        orderList.add(test);        \n    }\n    return orderList;\n}\n\n}\n</code></pre>\n<p>If I have 5 <code>@Test</code> methods to print the values in the class, it only takes the last @Test method into account and prints the value. What am I doing wrong?. i.e. <code>getValue1, getValue2, getValue3, getValue4</code> are not run.</p>\n<p>Tried to use <code>priority</code> or <code>dependsOnMethods</code>. Code mentioned below:</p>\n<pre><code>@Listeners({ MainFactoryClass.class })\n\npublic class MainImpClass {\nint a;\n\npublic MainImpClass(int a) {\n    this.a = a;\n}\n\npublic int getA() {\n    return a;\n}\n\n@Test(priority = 0)\npublic void getValue1() {\n    System.out.println(&quot;Value from getValue1: &quot; + a);\n}\n\n@Test(priority = 1)\npublic void getValue2() {\n    System.out.println(&quot;Value from getValue2: &quot; + a);\n}\n\n@Test(priority = 2)\npublic void getValue3() {\n    System.out.println(&quot;Value from getValue3: &quot; + a);\n}\n\n@Test(priority = 3)\npublic void getValue4() {\n    System.out.println(&quot;Value from getValue4: &quot; + a);\n}\n\n@Test(priority = 4)\npublic void getValue5() {\n    System.out.println(&quot;Value from getValue5: &quot; + a);\n}\n\n}\n</code></pre>\n<p>The output is in an order as we have created the instances but only from last <code>@Test</code>.</p>\n<pre><code>Value from getValue5: 9\nValue from getValue5: 10\nValue from getValue5: 11\nValue from getValue5: 12\nValue from getValue5: 13\nValue from getValue5: 14\n</code></pre>\n<p>testng.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;!DOCTYPE suite SYSTEM &quot;https://testng.org/testng-1.0.dtd&quot;&gt;\n&lt;suite name=&quot;Factory Suite&quot;&gt;\n&lt;test thread-count=&quot;5&quot; name=&quot; Factory Test&quot; group-by- \ninstances=&quot;true&quot;&gt;\n&lt;classes&gt;\n  &lt;class name=&quot;com.trial.MainFactoryClass&quot;/&gt;\n&lt;/classes&gt;\n&lt;/test&gt; &lt;!-- Test --&gt;\n&lt;/suite&gt; &lt;!-- Suite --&gt;\n</code></pre>\n"},{"tags":["java","selenium"],"comments":[{"owner":{"account_id":12360572,"reputation":1730,"user_id":9014957,"accept_rate":17,"display_name":"pburgr"},"score":0,"creation_date":1643360235,"post_id":70890836,"comment_id":125323771,"body_markdown":"Can you share page URL?","body":"Can you share page URL?"},{"owner":{"account_id":13351458,"reputation":1,"user_id":9636565,"display_name":"s.p"},"score":0,"creation_date":1643360768,"post_id":70890836,"comment_id":125323942,"body_markdown":"it&#39;s from the qa env. won&#39;t be accessible from outside.","body":"it&#39;s from the qa env. won&#39;t be accessible from outside."},{"owner":{"account_id":12360572,"reputation":1730,"user_id":9014957,"accept_rate":17,"display_name":"pburgr"},"score":0,"creation_date":1643362868,"post_id":70890836,"comment_id":125324687,"body_markdown":"Got some accessible env with same dropdown?","body":"Got some accessible env with same dropdown?"},{"owner":{"account_id":13351458,"reputation":1,"user_id":9636565,"display_name":"s.p"},"score":0,"creation_date":1643363465,"post_id":70890836,"comment_id":125324918,"body_markdown":"No. These are only predefined values for the field. but what made you think like this?","body":"No. These are only predefined values for the field. but what made you think like this?"},{"owner":{"account_id":12360572,"reputation":1730,"user_id":9014957,"accept_rate":17,"display_name":"pburgr"},"score":0,"creation_date":1643363618,"post_id":70890836,"comment_id":125324980,"body_markdown":"To reproduce the issue and if possible to resolve it.","body":"To reproduce the issue and if possible to resolve it."}],"owner":{"account_id":13351458,"reputation":1,"user_id":9636565,"display_name":"s.p"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643358959,"creation_date":1643358959,"question_id":70890836,"body_markdown":"[screenshot][1]&lt;input aria-invalid=&quot;false&quot; autocomplete=&quot;off&quot; id=&quot;procedureFields&quot; required=&quot;&quot; type=&quot;text&quot; class=&quot;MuiInputBase-input MuiOutlinedInput-input MuiAutocomplete-input MuiAutocomplete-inputFocused MuiInputBase-inputAdornedEnd MuiOutlinedInput-inputAdornedEnd&quot; aria-autocomplete=&quot;list&quot; autocapitalize=&quot;none&quot; spellcheck=&quot;false&quot; value=&quot;&quot;&gt;\r\n\r\n    &lt;input aria-invalid=&quot;false&quot; autocomplete=&quot;off&quot; id=&quot;procedureFields&quot; required=&quot;&quot; type=&quot;text&quot; class=&quot;MuiInputBase-input MuiOutlinedInput-input MuiAutocomplete-input MuiAutocomplete-inputFocused MuiInputBase-inputAdornedEnd MuiOutlinedInput-inputAdornedEnd&quot; aria-autocomplete=&quot;list&quot; autocapitalize=&quot;none&quot; spellcheck=&quot;false&quot; value=&quot;&quot;&gt;\r\n\r\n\r\nQuery - How to select a value from the dropdown using selenium, the values change as per selection and there are around 100 values in the dropdown.\r\n\r\nI have tried using select and action class\r\n\r\n\t\tWebElement procCodes = driver.findElement(By.xpath(&quot;//input[@id = &#39;procedureFields&#39;]&quot;));\r\n\t\tprocCodes.click();\r\n\t\tActions myAction = new Actions(driver); \r\n\t\tmyAction.sendKeys(Keys.chord(Keys.DOWN, Keys.DOWN, Keys.ENTER)).build().perform();\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/bacA9.png","title":"How to select a value from the dropdown using selenium, the values change as per selection and there are around 100 values in the dropdown","body":"<p><a href=\"https://i.stack.imgur.com/bacA9.png\" rel=\"nofollow noreferrer\">screenshot</a></p>\n<pre><code>&lt;input aria-invalid=&quot;false&quot; autocomplete=&quot;off&quot; id=&quot;procedureFields&quot; required=&quot;&quot; type=&quot;text&quot; class=&quot;MuiInputBase-input MuiOutlinedInput-input MuiAutocomplete-input MuiAutocomplete-inputFocused MuiInputBase-inputAdornedEnd MuiOutlinedInput-inputAdornedEnd&quot; aria-autocomplete=&quot;list&quot; autocapitalize=&quot;none&quot; spellcheck=&quot;false&quot; value=&quot;&quot;&gt;\n</code></pre>\n<p>Query - How to select a value from the dropdown using selenium, the values change as per selection and there are around 100 values in the dropdown.</p>\n<p>I have tried using select and action class</p>\n<pre><code>    WebElement procCodes = driver.findElement(By.xpath(&quot;//input[@id = 'procedureFields']&quot;));\n    procCodes.click();\n    Actions myAction = new Actions(driver); \n    myAction.sendKeys(Keys.chord(Keys.DOWN, Keys.DOWN, Keys.ENTER)).build().perform();\n</code></pre>\n"},{"tags":["java","spring-boot","apple-m1"],"answers":[{"tags":[],"owner":{"account_id":3946141,"reputation":1685,"user_id":3894977,"accept_rate":75,"display_name":"mrek"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643358566,"creation_date":1643358566,"answer_id":70890768,"question_id":70764459,"body_markdown":"This is the official repository: https://github.com/luben/zstd-jni\r\n\r\n[In binary releases](https://github.com/luben/zstd-jni#binary-releases_) I see support for aarch64. I would try to bump to the latest version:\r\n```\r\nimplementation &#39;com.github.luben:zstd-jni:1.5.2-1&#39;\r\n```\r\n\r\n(I don&#39;t have this kind of problem, it&#39;s just a guess -- let me know if it helps.)","title":"How do you get Java Spring Boot to run on an M1 mac when it requires libzstd-jni.dylib?","body":"<p>This is the official repository: <a href=\"https://github.com/luben/zstd-jni\" rel=\"nofollow noreferrer\">https://github.com/luben/zstd-jni</a></p>\n<p><a href=\"https://github.com/luben/zstd-jni#binary-releases_\" rel=\"nofollow noreferrer\">In binary releases</a> I see support for aarch64. I would try to bump to the latest version:</p>\n<pre><code>implementation 'com.github.luben:zstd-jni:1.5.2-1'\n</code></pre>\n<p>(I don't have this kind of problem, it's just a guess -- let me know if it helps.)</p>\n"}],"owner":{"account_id":7438314,"reputation":424,"user_id":5656933,"display_name":"Jeremiah Muela"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2248,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1643358566,"creation_date":1642557435,"question_id":70764459,"body_markdown":"On my **Apple M1** laptop I&#39;m trying to run spring boot, but I get the error:\r\n```\r\njava.lang.UnsatisfiedLinkError: no zstd-jni in java.library.path: /Users/me/Library/Java/Extensions:/Library/Java/Extensions:/Network/Library/Java/Extensions:/System/Library/Java/Extensions:/usr/lib/java:.\r\nUnsupported OS/arch, cannot find /darwin/aarch64/libzstd-jni.dylib or load zstd-jni from system libraries. Please try building from source the jar or providing libzstd-jni in your system.\r\n```\r\nBeing on a mac I don&#39;t have `/darwin/aarch64/` folder and I can&#39;t find where to install or download `libzstd-jni.dylib`.\r\n\r\nI installed Java through the Arm 64 DMG Installer\r\n```\r\n$ java -version \r\n\r\n- java version &quot;17.0.2&quot; 2022-01-18 LTS\r\n- Java(TM) SE Runtime Environment (build 17.0.2+8-LTS-86)\r\n- Java HotSpot(TM) 64-Bit Server VM (build 17.0.2+8-LTS-86, mixed mode, sharing)\r\n```\r\n\r\nThere is a `libjli.dylib` file in the **MasOS** folder in JDK:\r\n`/Library/Java/JavaVirtualMachines/jdk-17.0.2.jdk/Contents/MacOS/libjli.dylib`\r\n\r\nI added `libjli.dylib` to `/Library/Java/Extensions/`, but that didn&#39;t help.\r\n\r\nI&#39;m out of options. If anyone can help me I would be super appreciative.\r\n","title":"How do you get Java Spring Boot to run on an M1 mac when it requires libzstd-jni.dylib?","body":"<p>On my <strong>Apple M1</strong> laptop I'm trying to run spring boot, but I get the error:</p>\n<pre><code>java.lang.UnsatisfiedLinkError: no zstd-jni in java.library.path: /Users/me/Library/Java/Extensions:/Library/Java/Extensions:/Network/Library/Java/Extensions:/System/Library/Java/Extensions:/usr/lib/java:.\nUnsupported OS/arch, cannot find /darwin/aarch64/libzstd-jni.dylib or load zstd-jni from system libraries. Please try building from source the jar or providing libzstd-jni in your system.\n</code></pre>\n<p>Being on a mac I don't have <code>/darwin/aarch64/</code> folder and I can't find where to install or download <code>libzstd-jni.dylib</code>.</p>\n<p>I installed Java through the Arm 64 DMG Installer</p>\n<pre><code>$ java -version \n\n- java version &quot;17.0.2&quot; 2022-01-18 LTS\n- Java(TM) SE Runtime Environment (build 17.0.2+8-LTS-86)\n- Java HotSpot(TM) 64-Bit Server VM (build 17.0.2+8-LTS-86, mixed mode, sharing)\n</code></pre>\n<p>There is a <code>libjli.dylib</code> file in the <strong>MasOS</strong> folder in JDK:\n<code>/Library/Java/JavaVirtualMachines/jdk-17.0.2.jdk/Contents/MacOS/libjli.dylib</code></p>\n<p>I added <code>libjli.dylib</code> to <code>/Library/Java/Extensions/</code>, but that didn't help.</p>\n<p>I'm out of options. If anyone can help me I would be super appreciative.</p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":19703283,"reputation":290,"user_id":15477915,"display_name":"GSepetadelis"},"score":0,"creation_date":1643304134,"post_id":70881376,"comment_id":125309997,"body_markdown":"Please add the error message from your logcat","body":"Please add the error message from your logcat"},{"owner":{"account_id":24073712,"reputation":1,"user_id":18049351,"display_name":"Kibi Karan"},"score":0,"creation_date":1643307871,"post_id":70881376,"comment_id":125311539,"body_markdown":"Done, can you please check it now","body":"Done, can you please check it now"}],"answers":[{"tags":[],"owner":{"account_id":16661732,"reputation":66,"user_id":12041519,"display_name":"Karol"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643311409,"creation_date":1643311409,"answer_id":70884548,"question_id":70881376,"body_markdown":"It seems like value from your method is interpreted as resource Id, so make sure, the type is String:\r\n\r\n     //string output to user\r\n     String outputNum = Integer.toString(cn.romanToInteger(theRom));\r\n\r\n     //outputs number to roman conversion\r\n     numOutput.setText(outputNum);","title":"Android studio is not accepting string. When I want to put a string into a class from edittext","body":"<p>It seems like value from your method is interpreted as resource Id, so make sure, the type is String:</p>\n<pre><code> //string output to user\n String outputNum = Integer.toString(cn.romanToInteger(theRom));\n\n //outputs number to roman conversion\n numOutput.setText(outputNum);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10525813,"reputation":1952,"user_id":7756864,"display_name":"qqNade"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643358532,"creation_date":1643358532,"answer_id":70890762,"question_id":70881376,"body_markdown":"In order to use the method setText you have to pass variables of the type String to it as a parameter but the type of numOutput is Int. You have to change it to String. You can use String.valueOf(outputNum) and pass the result as a parameter to setText.\r\n\r\n    ConvertToNum.setOnClickListener(new View.OnClickListener() {\r\n    @Override\r\n    public void onClick(View view) {\r\n    \r\n    //converter class is called\r\n    converter cn = new converter();\r\n    \r\n    //checks if input is int or not\r\n    boolean digitCheck = TextUtils.isDigitsOnly(inputRoman.getText());\r\n    \r\n    \r\n    //App Crashes HERE\r\n    if (digitCheck == false){\r\n    //the input from the user\r\n    String theRom = inputRoman.getText().toString();\r\n    \r\n    //string output to user\r\n    int outputNum = cn.romanToInteger(theRom);\r\n    \r\n    //outputs number to roman conversion\r\n    //***************************************************ANSWER!!! You must use String for &quot;setText&quot;! Not Int\r\n    // numOutput.setText(outputNum);\r\n    numOutput.setText(String.valueOf(outputNum));\r\n    //***************************************************\r\n    \r\n    }else{\r\n    \r\n    //statement to print to screen\r\n    String reTry = &quot;Invalid: Try Again&quot;;\r\n    \r\n    //Outputs that users input is not valid\r\n    numOutput.setText(reTry);\r\n    }\r\n    }\r\n    });\r\n\r\n","title":"Android studio is not accepting string. When I want to put a string into a class from edittext","body":"<p>In order to use the method setText you have to pass variables of the type String to it as a parameter but the type of numOutput is Int. You have to change it to String. You can use String.valueOf(outputNum) and pass the result as a parameter to setText.</p>\n<pre><code>ConvertToNum.setOnClickListener(new View.OnClickListener() {\n@Override\npublic void onClick(View view) {\n\n//converter class is called\nconverter cn = new converter();\n\n//checks if input is int or not\nboolean digitCheck = TextUtils.isDigitsOnly(inputRoman.getText());\n\n\n//App Crashes HERE\nif (digitCheck == false){\n//the input from the user\nString theRom = inputRoman.getText().toString();\n\n//string output to user\nint outputNum = cn.romanToInteger(theRom);\n\n//outputs number to roman conversion\n//***************************************************ANSWER!!! You must use String for &quot;setText&quot;! Not Int\n// numOutput.setText(outputNum);\nnumOutput.setText(String.valueOf(outputNum));\n//***************************************************\n\n}else{\n\n//statement to print to screen\nString reTry = &quot;Invalid: Try Again&quot;;\n\n//Outputs that users input is not valid\nnumOutput.setText(reTry);\n}\n}\n});\n</code></pre>\n"}],"owner":{"account_id":24073712,"reputation":1,"user_id":18049351,"display_name":"Kibi Karan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":248,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1643358532,"creation_date":1643297881,"question_id":70881376,"body_markdown":"I commented where it stops working, can someone please help!This code is a roman numeral converter. I got the number to roman working, but the roman to number just crashes the app. If anyone knows why or how the code is crashing please lmk, and how to fix it! I been working on this for 8 hours straight and still can&#39;t find what is wrong. I am new to android studio this also may be why. Thanks.\r\n\r\nLogcat error:\r\n```\r\n2022-01-27 13:27:33.286 1575-1575/com.example.numeralromancalculator E/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.example.numeralromancalculator, PID: 1575\r\n    android.content.res.Resources$NotFoundException: String resource ID #0x5\r\n        at android.content.res.Resources.getText(Resources.java:444)\r\n        at android.widget.TextView.setText(TextView.java:6412)\r\n        at com.example.numeralromancalculator.MainActivity$1.onClick(MainActivity.java:54)\r\n        at android.view.View.performClick(View.java:7448)\r\n        at com.google.android.material.button.MaterialButton.performClick(MaterialButton.java:1131)\r\n        at android.view.View.performClickInternal(View.java:7425)\r\n        at android.view.View.access$3600(View.java:810)\r\n        at android.view.View$PerformClick.run(View.java:28305)\r\n        at android.os.Handler.handleCallback(Handler.java:938)\r\n        at android.os.Handler.dispatchMessage(Handler.java:99)\r\n        at android.os.Looper.loop(Looper.java:223)\r\n        at android.app.ActivityThread.main(ActivityThread.java:7656)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)\r\n```\r\n```\r\nconvertToNum.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n\r\n                //converter class is called\r\n                converter cn = new converter();\r\n\r\n                //checks if input is int or not\r\n                boolean digitCheck = TextUtils.isDigitsOnly(inputRoman.getText());\r\n\r\n\r\n//App Crashes HERE\r\n                if (digitCheck == false){\r\n                    //the input from the user\r\n                    String theRom = inputRoman.getText().toString();\r\n\r\n                    //string output to user\r\n                    int outputNum = cn.romanToInteger(theRom);\r\n\r\n                    //outputs number to roman conversion\r\n                    numOutput.setText(outputNum);\r\n                }else{\r\n\r\n                    //statement to print to screen\r\n                    String reTry = &quot;Invalid: Try Again&quot;;\r\n\r\n                    //Outputs that users input is not valid\r\n                    numOutput.setText(reTry);\r\n                }\r\n\r\n            }\r\n        });\r\n\r\n        //If Convert tto Roman button is clicked\r\n        convertToRoman.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n\r\n                //converter class is called\r\n                converter nc = new converter();\r\n\r\n                //checks if input is int or not\r\n                boolean digitCheck = TextUtils.isDigitsOnly(inputNum.getText());\r\n\r\n                if (digitCheck == true){\r\n                    //the input from the user\r\n                    int theNumber = Integer.parseInt(inputNum.getText().toString());\r\n\r\n                    //string output to user\r\n                    String theRoman = nc.toRoman(theNumber);\r\n\r\n                    //outputs number to roman conversion\r\n                    romanOutput.setText(theRoman);\r\n                }else{\r\n\r\n                    //statement to print to screen\r\n                    String reTry = &quot;Invalid: Try Again&quot;;\r\n\r\n                    //Outputs that users input is not valid\r\n                    romanOutput.setText(reTry);\r\n                }\r\n\r\n            }\r\n        });\r\n\r\n        }\r\n\r\n    }\r\n```\r\n```\r\npublic class converter {\r\n\r\n    public String toRoman(int numberInput) {\r\n\r\n        //checks if integer conversion is possible\r\n        if (numberInput &lt; 1 || numberInput &gt; 3999) {\r\n            return &quot;Sorry, Not Possible&quot;;\r\n        }\r\n\r\n        //Roman letter total\r\n        String returnValue = &quot;&quot;;\r\n\r\n        //while statements to check for roman letters, and adds to total\r\n        //descending order\r\n\r\n        while (numberInput &gt;= 1000) {\r\n            returnValue += &quot;M&quot;;\r\n            numberInput -= 1000;\r\n        }\r\n        while (numberInput &gt;= 900) {\r\n            returnValue += &quot;CM&quot;;\r\n            numberInput -= 900;\r\n        }\r\n        while (numberInput &gt;= 500) {\r\n            returnValue += &quot;D&quot;;\r\n            numberInput -= 500;\r\n        }\r\n        while (numberInput &gt;= 400) {\r\n            returnValue += &quot;CD&quot;;\r\n            numberInput -= 400;\r\n        }\r\n        while (numberInput &gt;= 100) {\r\n            returnValue += &quot;C&quot;;\r\n            numberInput -= 100;\r\n        }\r\n        while (numberInput &gt;= 90) {\r\n            returnValue += &quot;XC&quot;;\r\n            numberInput -= 90;\r\n        }\r\n        while (numberInput &gt;= 50) {\r\n            returnValue += &quot;L&quot;;\r\n            numberInput -= 50;\r\n        }\r\n        while (numberInput &gt;= 40) {\r\n            returnValue += &quot;XL&quot;;\r\n            numberInput -= 40;\r\n        }\r\n        while (numberInput &gt;= 10) {\r\n            returnValue += &quot;X&quot;;\r\n            numberInput -= 10;\r\n        }\r\n        while (numberInput &gt;= 9) {\r\n            returnValue += &quot;IX&quot;;\r\n            numberInput -= 9;\r\n        }\r\n        while (numberInput &gt;= 5) {\r\n            returnValue += &quot;V&quot;;\r\n            numberInput -= 5;\r\n        }\r\n        while (numberInput &gt;= 4) {\r\n            returnValue += &quot;IV&quot;;\r\n            numberInput -= 4;\r\n        }\r\n        while (numberInput &gt;= 1) {\r\n            returnValue += &quot;I&quot;;\r\n            numberInput -= 1;\r\n        }\r\n\r\n        //return a string value of the numeral\r\n        return returnValue;\r\n    }\r\n\r\n//APP CRASHES USING THIS CLASS\r\n\r\n    public int romanToInteger(String roman) {\r\n        int number = 0;\r\n        for (int i = 0; i &lt; roman.length(); i++) {\r\n            char c = roman.charAt(i);\r\n            switch (c) {\r\n                case &#39;I&#39;:\r\n                    number = (i != roman.length() - 1 &amp;&amp; (roman.charAt(i + 1) == &#39;V&#39; || roman.charAt(i + 1) == &#39;X&#39;))\r\n                            ? number - 1\r\n                            : number + 1;\r\n                    break;\r\n                case &#39;V&#39;:\r\n                    number += 5;\r\n                    break;\r\n                case &#39;X&#39;:\r\n                    number = (i != roman.length() - 1 &amp;&amp; (roman.charAt(i + 1) == &#39;L&#39; || roman.charAt(i + 1) == &#39;C&#39;))\r\n                            ? number - 10\r\n                            : number + 10;\r\n                    break;\r\n                case &#39;L&#39;:\r\n                    number += 50;\r\n                    break;\r\n                case &#39;C&#39;:\r\n                    number = (i != roman.length() - 1 &amp;&amp; (roman.charAt(i + 1) == &#39;D&#39; || roman.charAt(i + 1) == &#39;M&#39;))\r\n                            ? number - 100\r\n                            : number + 100;\r\n                    break;\r\n                case &#39;D&#39;:\r\n                    number += 500;\r\n                    break;\r\n                case &#39;M&#39;:\r\n                    number += 1000;\r\n                    break;\r\n            }\r\n        }\r\n\r\n        return number;\r\n    }\r\n\r\n        }\r\n```","title":"Android studio is not accepting string. When I want to put a string into a class from edittext","body":"<p>I commented where it stops working, can someone please help!This code is a roman numeral converter. I got the number to roman working, but the roman to number just crashes the app. If anyone knows why or how the code is crashing please lmk, and how to fix it! I been working on this for 8 hours straight and still can't find what is wrong. I am new to android studio this also may be why. Thanks.</p>\n<p>Logcat error:</p>\n<pre><code>2022-01-27 13:27:33.286 1575-1575/com.example.numeralromancalculator E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.example.numeralromancalculator, PID: 1575\n    android.content.res.Resources$NotFoundException: String resource ID #0x5\n        at android.content.res.Resources.getText(Resources.java:444)\n        at android.widget.TextView.setText(TextView.java:6412)\n        at com.example.numeralromancalculator.MainActivity$1.onClick(MainActivity.java:54)\n        at android.view.View.performClick(View.java:7448)\n        at com.google.android.material.button.MaterialButton.performClick(MaterialButton.java:1131)\n        at android.view.View.performClickInternal(View.java:7425)\n        at android.view.View.access$3600(View.java:810)\n        at android.view.View$PerformClick.run(View.java:28305)\n        at android.os.Handler.handleCallback(Handler.java:938)\n        at android.os.Handler.dispatchMessage(Handler.java:99)\n        at android.os.Looper.loop(Looper.java:223)\n        at android.app.ActivityThread.main(ActivityThread.java:7656)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)\n</code></pre>\n<pre><code>convertToNum.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n\n                //converter class is called\n                converter cn = new converter();\n\n                //checks if input is int or not\n                boolean digitCheck = TextUtils.isDigitsOnly(inputRoman.getText());\n\n\n//App Crashes HERE\n                if (digitCheck == false){\n                    //the input from the user\n                    String theRom = inputRoman.getText().toString();\n\n                    //string output to user\n                    int outputNum = cn.romanToInteger(theRom);\n\n                    //outputs number to roman conversion\n                    numOutput.setText(outputNum);\n                }else{\n\n                    //statement to print to screen\n                    String reTry = &quot;Invalid: Try Again&quot;;\n\n                    //Outputs that users input is not valid\n                    numOutput.setText(reTry);\n                }\n\n            }\n        });\n\n        //If Convert tto Roman button is clicked\n        convertToRoman.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n\n                //converter class is called\n                converter nc = new converter();\n\n                //checks if input is int or not\n                boolean digitCheck = TextUtils.isDigitsOnly(inputNum.getText());\n\n                if (digitCheck == true){\n                    //the input from the user\n                    int theNumber = Integer.parseInt(inputNum.getText().toString());\n\n                    //string output to user\n                    String theRoman = nc.toRoman(theNumber);\n\n                    //outputs number to roman conversion\n                    romanOutput.setText(theRoman);\n                }else{\n\n                    //statement to print to screen\n                    String reTry = &quot;Invalid: Try Again&quot;;\n\n                    //Outputs that users input is not valid\n                    romanOutput.setText(reTry);\n                }\n\n            }\n        });\n\n        }\n\n    }\n</code></pre>\n<pre><code>public class converter {\n\n    public String toRoman(int numberInput) {\n\n        //checks if integer conversion is possible\n        if (numberInput &lt; 1 || numberInput &gt; 3999) {\n            return &quot;Sorry, Not Possible&quot;;\n        }\n\n        //Roman letter total\n        String returnValue = &quot;&quot;;\n\n        //while statements to check for roman letters, and adds to total\n        //descending order\n\n        while (numberInput &gt;= 1000) {\n            returnValue += &quot;M&quot;;\n            numberInput -= 1000;\n        }\n        while (numberInput &gt;= 900) {\n            returnValue += &quot;CM&quot;;\n            numberInput -= 900;\n        }\n        while (numberInput &gt;= 500) {\n            returnValue += &quot;D&quot;;\n            numberInput -= 500;\n        }\n        while (numberInput &gt;= 400) {\n            returnValue += &quot;CD&quot;;\n            numberInput -= 400;\n        }\n        while (numberInput &gt;= 100) {\n            returnValue += &quot;C&quot;;\n            numberInput -= 100;\n        }\n        while (numberInput &gt;= 90) {\n            returnValue += &quot;XC&quot;;\n            numberInput -= 90;\n        }\n        while (numberInput &gt;= 50) {\n            returnValue += &quot;L&quot;;\n            numberInput -= 50;\n        }\n        while (numberInput &gt;= 40) {\n            returnValue += &quot;XL&quot;;\n            numberInput -= 40;\n        }\n        while (numberInput &gt;= 10) {\n            returnValue += &quot;X&quot;;\n            numberInput -= 10;\n        }\n        while (numberInput &gt;= 9) {\n            returnValue += &quot;IX&quot;;\n            numberInput -= 9;\n        }\n        while (numberInput &gt;= 5) {\n            returnValue += &quot;V&quot;;\n            numberInput -= 5;\n        }\n        while (numberInput &gt;= 4) {\n            returnValue += &quot;IV&quot;;\n            numberInput -= 4;\n        }\n        while (numberInput &gt;= 1) {\n            returnValue += &quot;I&quot;;\n            numberInput -= 1;\n        }\n\n        //return a string value of the numeral\n        return returnValue;\n    }\n\n//APP CRASHES USING THIS CLASS\n\n    public int romanToInteger(String roman) {\n        int number = 0;\n        for (int i = 0; i &lt; roman.length(); i++) {\n            char c = roman.charAt(i);\n            switch (c) {\n                case 'I':\n                    number = (i != roman.length() - 1 &amp;&amp; (roman.charAt(i + 1) == 'V' || roman.charAt(i + 1) == 'X'))\n                            ? number - 1\n                            : number + 1;\n                    break;\n                case 'V':\n                    number += 5;\n                    break;\n                case 'X':\n                    number = (i != roman.length() - 1 &amp;&amp; (roman.charAt(i + 1) == 'L' || roman.charAt(i + 1) == 'C'))\n                            ? number - 10\n                            : number + 10;\n                    break;\n                case 'L':\n                    number += 50;\n                    break;\n                case 'C':\n                    number = (i != roman.length() - 1 &amp;&amp; (roman.charAt(i + 1) == 'D' || roman.charAt(i + 1) == 'M'))\n                            ? number - 100\n                            : number + 100;\n                    break;\n                case 'D':\n                    number += 500;\n                    break;\n                case 'M':\n                    number += 1000;\n                    break;\n            }\n        }\n\n        return number;\n    }\n\n        }\n</code></pre>\n"},{"tags":["java","android","augmented-reality","arcore","android-augmented-reality"],"comments":[{"owner":{"account_id":312129,"reputation":2613,"user_id":626042,"accept_rate":67,"display_name":"Renjith K N"},"score":0,"creation_date":1595882346,"post_id":59107303,"comment_id":111623043,"body_markdown":"could you please help me, I am stuck on this. It would be very helpful  If you can provide a sample of how you used the anchor matrix.","body":"could you please help me, I am stuck on this. It would be very helpful  If you can provide a sample of how you used the anchor matrix."},{"owner":{"account_id":4616650,"reputation":370,"user_id":3742929,"accept_rate":45,"display_name":"user3742929"},"score":0,"creation_date":1596003878,"post_id":59107303,"comment_id":111665542,"body_markdown":"Hello Renjith. I still have the source code, i will look into it and post it here.","body":"Hello Renjith. I still have the source code, i will look into it and post it here."},{"owner":{"account_id":4616650,"reputation":370,"user_id":3742929,"accept_rate":45,"display_name":"user3742929"},"score":0,"creation_date":1596004197,"post_id":59107303,"comment_id":111665690,"body_markdown":"I added it below, let me know if you need more information.","body":"I added it below, let me know if you need more information."},{"owner":{"account_id":312129,"reputation":2613,"user_id":626042,"accept_rate":67,"display_name":"Renjith K N"},"score":0,"creation_date":1596009425,"post_id":59107303,"comment_id":111668029,"body_markdown":"Thank you, thank you. This one is a big help,  Let me try to implement it.","body":"Thank you, thank you. This one is a big help,  Let me try to implement it."}],"answers":[{"tags":[],"owner":{"account_id":9338277,"reputation":2838,"user_id":6931862,"display_name":"Hermes"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1575995938,"creation_date":1575175180,"answer_id":59122560,"question_id":59107303,"body_markdown":"Make the 3D model a child of the camera node, by making it a child of the camera node you are forcing it&#39;s position to update relative to the camera and not an anchor. Use local rotation to rotate the model.\r\n\r\n[update]\r\n\r\nYou can also use sceneform as part of the app&#39;s layout.xml. In the layout.xml for the view, add the SceneView as part of the view&#39;s layout. \r\n\r\n    &lt;com.google.ar.sceneform.SceneView\r\n            android:id=&quot;@+id/sceneView&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:background=&quot;@color/colorPrimary&quot;\r\n    /&gt;\r\n\r\nthen within your MainActivity.java\r\n\r\n    import android.net.Uri\r\n    import android.os.Bundle\r\n    import android.support.v7.app.AppCompatActivity\r\n    import android.widget.Toast\r\n    import com.google.ar.sceneform.Node\r\n    import com.google.ar.sceneform.Scene\r\n    import com.google.ar.sceneform.math.Vector3\r\n    import com.google.ar.sceneform.rendering.ModelRenderable\r\n    import kotlinx.android.synthetic.main.act_main.*\r\n    \r\n    class MainActivity : AppCompatActivity() {\r\n    \r\n        private lateinit var scene: Scene\r\n        private lateinit var node: Node\r\n    \r\n        override fun onCreate(savedInstanceState: Bundle?) {\r\n            super.onCreate(savedInstanceState)\r\n            setContentView(R.layout.act_main)\r\n    \r\n            scene = sceneView.scene\r\n            render(Uri.parse(&quot;coffee_cup.sfb&quot;))\r\n        }\r\n    \r\n        private fun render(uri: Uri) {\r\n            ModelRenderable.builder()\r\n                .setSource(this, uri)\r\n                .build()\r\n                .thenAccept {\r\n                    addNode(it)\r\n                }\r\n                .exceptionally {\r\n                    Toast.makeText(this, &quot;Error&quot;, Toast.LENGTH_SHORT).show()\r\n                    return@exceptionally null\r\n                }\r\n    \r\n        }\r\n    \r\n        private fun addNode(model: ModelRenderable?) {\r\n            model?.let {\r\n                node = Node().apply {\r\n                    setParent(scene)\r\n                    localPosition = Vector3(0f, -2f, -7f)\r\n                    localScale = Vector3(3f, 3f, 3f)\r\n                    renderable = it\r\n                }\r\n    \r\n                scene.addChild(node)\r\n            }\r\n        }\r\n    \r\n        override fun onPause() {\r\n            super.onPause()\r\n            sceneView.pause()\r\n        }\r\n    \r\n        override fun onResume() {\r\n            super.onResume()\r\n            sceneView.resume()\r\n        }\r\n    }","title":"Placing a static object in the corner of a screen with ArCore","body":"<p>Make the 3D model a child of the camera node, by making it a child of the camera node you are forcing it's position to update relative to the camera and not an anchor. Use local rotation to rotate the model.</p>\n\n<p>[update]</p>\n\n<p>You can also use sceneform as part of the app's layout.xml. In the layout.xml for the view, add the SceneView as part of the view's layout. </p>\n\n<pre><code>&lt;com.google.ar.sceneform.SceneView\n        android:id=\"@+id/sceneView\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        android:background=\"@color/colorPrimary\"\n/&gt;\n</code></pre>\n\n<p>then within your MainActivity.java</p>\n\n<pre><code>import android.net.Uri\nimport android.os.Bundle\nimport android.support.v7.app.AppCompatActivity\nimport android.widget.Toast\nimport com.google.ar.sceneform.Node\nimport com.google.ar.sceneform.Scene\nimport com.google.ar.sceneform.math.Vector3\nimport com.google.ar.sceneform.rendering.ModelRenderable\nimport kotlinx.android.synthetic.main.act_main.*\n\nclass MainActivity : AppCompatActivity() {\n\n    private lateinit var scene: Scene\n    private lateinit var node: Node\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.act_main)\n\n        scene = sceneView.scene\n        render(Uri.parse(\"coffee_cup.sfb\"))\n    }\n\n    private fun render(uri: Uri) {\n        ModelRenderable.builder()\n            .setSource(this, uri)\n            .build()\n            .thenAccept {\n                addNode(it)\n            }\n            .exceptionally {\n                Toast.makeText(this, \"Error\", Toast.LENGTH_SHORT).show()\n                return@exceptionally null\n            }\n\n    }\n\n    private fun addNode(model: ModelRenderable?) {\n        model?.let {\n            node = Node().apply {\n                setParent(scene)\n                localPosition = Vector3(0f, -2f, -7f)\n                localScale = Vector3(3f, 3f, 3f)\n                renderable = it\n            }\n\n            scene.addChild(node)\n        }\n    }\n\n    override fun onPause() {\n        super.onPause()\n        sceneView.pause()\n    }\n\n    override fun onResume() {\n        super.onResume()\n        sceneView.resume()\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4616650,"reputation":370,"user_id":3742929,"accept_rate":45,"display_name":"user3742929"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1596004093,"creation_date":1596004093,"answer_id":63147579,"question_id":59107303,"body_markdown":"    if (useStaticArrow) {\r\n                // Rotation at the registerListeners is measured, so that the arrow points to north in our coordinate system\r\n\r\n                camera.getPose().compose(Pose.makeTranslation(0.37f, -0.17f, -1f))\r\n                        .extractTranslation().toMatrix(cameraAnchorMatrix, 0);\r\n\r\n                // Rotate the arrow in the needed direction to the next target\r\n                Matrix.rotateM(cameraAnchorMatrix, 0, neededStartRotation + directionChange, 0f, 1f, 0f);\r\n\r\n                virtualObject.updateModelMatrix(cameraAnchorMatrix, scaleFactor / 12f);\r\n                virtualObject.draw(viewmtx, projmtx, colorCorrectionRgba, arrowColor);\r\n    } \r\n\r\n(Complete Code snippet for Renjith)\r\n\r\n","title":"Placing a static object in the corner of a screen with ArCore","body":"<pre><code>if (useStaticArrow) {\n            // Rotation at the registerListeners is measured, so that the arrow points to north in our coordinate system\n\n            camera.getPose().compose(Pose.makeTranslation(0.37f, -0.17f, -1f))\n                    .extractTranslation().toMatrix(cameraAnchorMatrix, 0);\n\n            // Rotate the arrow in the needed direction to the next target\n            Matrix.rotateM(cameraAnchorMatrix, 0, neededStartRotation + directionChange, 0f, 1f, 0f);\n\n            virtualObject.updateModelMatrix(cameraAnchorMatrix, scaleFactor / 12f);\n            virtualObject.draw(viewmtx, projmtx, colorCorrectionRgba, arrowColor);\n} \n</code></pre>\n<p>(Complete Code snippet for Renjith)</p>\n"}],"owner":{"account_id":4616650,"reputation":370,"user_id":3742929,"accept_rate":45,"display_name":"user3742929"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2532,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":59122560,"answer_count":2,"score":2,"last_activity_date":1643358528,"creation_date":1575040442,"question_id":59107303,"body_markdown":"I&#39;m building an AR navigation app and I&#39;m not really familiar with AR aspect of it. Is it possible to place an object in a static position for example in a corner of the screen? \r\n\r\nI based my app on the sceneform example from Google: https://github.com/google-ar/sceneform-android-sdk/tree/master/samples/hellosceneform. I already imported the 3D-Model I want to use. Currently the app is looking for anchors on which you can place the object. I just want to place a navigation arrow in a corner of the screen, the arrow should still be able to rotate though.\r\n\r\nI already searched for examples or similiar questions, but couldn&#39;t find any. Thank you for your help.","title":"Placing a static object in the corner of a screen with ArCore","body":"<p>I'm building an AR navigation app and I'm not really familiar with AR aspect of it. Is it possible to place an object in a static position for example in a corner of the screen? </p>\n\n<p>I based my app on the sceneform example from Google: <a href=\"https://github.com/google-ar/sceneform-android-sdk/tree/master/samples/hellosceneform\" rel=\"nofollow noreferrer\">https://github.com/google-ar/sceneform-android-sdk/tree/master/samples/hellosceneform</a>. I already imported the 3D-Model I want to use. Currently the app is looking for anchors on which you can place the object. I just want to place a navigation arrow in a corner of the screen, the arrow should still be able to rotate though.</p>\n\n<p>I already searched for examples or similiar questions, but couldn't find any. Thank you for your help.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":14262450,"reputation":6108,"user_id":10302746,"display_name":"Lev M."},"score":0,"creation_date":1643228337,"post_id":70869667,"comment_id":125286938,"body_markdown":"Where does `i` come from in this line: `new FileOutputStream(&quot;D:\\\\output&quot;+i+&quot;.log&quot;);`? Is the code you posted in a loop, or a separate method?","body":"Where does <code>i</code> come from in this line: <code>new FileOutputStream(&quot;D:\\\\output&quot;+i+&quot;.log&quot;);</code>? Is the code you posted in a loop, or a separate method?"},{"owner":{"account_id":9553615,"reputation":464,"user_id":7096888,"display_name":"J.Tribbiani"},"score":0,"creation_date":1643229043,"post_id":70869667,"comment_id":125287215,"body_markdown":"The i is used to generate a unique log file for each 3MB from the original log file.","body":"The i is used to generate a unique log file for each 3MB from the original log file."},{"owner":{"account_id":14262450,"reputation":6108,"user_id":10302746,"display_name":"Lev M."},"score":0,"creation_date":1643229088,"post_id":70869667,"comment_id":125287225,"body_markdown":"I understand that is your intent, but where do you initialize it? Can you show a few more lines of code around what you posted?","body":"I understand that is your intent, but where do you initialize it? Can you show a few more lines of code around what you posted?"},{"owner":{"account_id":9553615,"reputation":464,"user_id":7096888,"display_name":"J.Tribbiani"},"score":0,"creation_date":1643229160,"post_id":70869667,"comment_id":125287255,"body_markdown":"Just above the While. \n  int i=0;\n\nThere is no other method or loop, I&#39;m on the case where the log file is larger than 3MB.","body":"Just above the While.    int i=0;  There is no other method or loop, I&#39;m on the case where the log file is larger than 3MB."},{"owner":{"account_id":14262450,"reputation":6108,"user_id":10302746,"display_name":"Lev M."},"score":0,"creation_date":1643230152,"post_id":70869667,"comment_id":125287642,"body_markdown":"I am guessing there is another `while` above the code you actually posted. The error may be in the condition of that while, but since you did not post it, there is no way to tell.","body":"I am guessing there is another <code>while</code> above the code you actually posted. The error may be in the condition of that while, but since you did not post it, there is no way to tell."},{"owner":{"account_id":9553615,"reputation":464,"user_id":7096888,"display_name":"J.Tribbiani"},"score":0,"creation_date":1643230424,"post_id":70869667,"comment_id":125287743,"body_markdown":"I&#39;ve removed that loop, so you can consider there is no other while.","body":"I&#39;ve removed that loop, so you can consider there is no other while."},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":1,"creation_date":1643231151,"post_id":70869667,"comment_id":125288000,"body_markdown":"This code will split lines across chunks.  You probably don’t want that.","body":"This code will split lines across chunks.  You probably don’t want that."},{"owner":{"account_id":9553615,"reputation":464,"user_id":7096888,"display_name":"J.Tribbiani"},"score":0,"creation_date":1643233173,"post_id":70869667,"comment_id":125288614,"body_markdown":"@Lev M. It seems that I cannot figure out how to move forward in the big log file after reading the first 5MB. Can you point me in the right direction?","body":"@Lev M. It seems that I cannot figure out how to move forward in the big log file after reading the first 5MB. Can you point me in the right direction?"}],"answers":[{"tags":[],"owner":{"account_id":10661589,"reputation":1083,"user_id":7849416,"display_name":"Alb"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643228566,"creation_date":1643228566,"answer_id":70869805,"question_id":70869667,"body_markdown":"You&#39;re writing to the same file the whole time. Move the following line inside the `while-loop`:\r\n`FileOutputStream fos = new FileOutputStream(&quot;D:\\\\output&quot;+i+&quot;.log&quot;);`\r\n\r\nlike in the following example\r\n\r\n\r\n```\r\ntry {\r\n    while (bytesLeft &gt; 0) {\r\n        // try putting this line inside the while loop.\r\n        FileOutputStream fos = new FileOutputStream(&quot;D:\\\\output&quot;+i+&quot;.log&quot;);\r\n        int read = fis.read(buffer, 0, Math.min(bytesLeft, buffer.length));\r\n        if (read == -1)\r\n            throw new EOFException(&quot;Unexpected end of data&quot;);\r\n        fos.write(buffer, 0, read);\r\n        bytesLeft -= read;\r\n        i++;\r\n    }\r\n} finally {\r\n    fos.close(); \r\n}\r\n```","title":"Read log file and save into smaller files of 5MB each","body":"<p>You're writing to the same file the whole time. Move the following line inside the <code>while-loop</code>:\n<code>FileOutputStream fos = new FileOutputStream(&quot;D:\\\\output&quot;+i+&quot;.log&quot;);</code></p>\n<p>like in the following example</p>\n<pre><code>try {\n    while (bytesLeft &gt; 0) {\n        // try putting this line inside the while loop.\n        FileOutputStream fos = new FileOutputStream(&quot;D:\\\\output&quot;+i+&quot;.log&quot;);\n        int read = fis.read(buffer, 0, Math.min(bytesLeft, buffer.length));\n        if (read == -1)\n            throw new EOFException(&quot;Unexpected end of data&quot;);\n        fos.write(buffer, 0, read);\n        bytesLeft -= read;\n        i++;\n    }\n} finally {\n    fos.close(); \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5433910,"reputation":10649,"user_id":4323935,"accept_rate":69,"display_name":"dpr"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643358294,"creation_date":1643276574,"answer_id":70876348,"question_id":70869667,"body_markdown":"The problem is that you only loop over the `bytesLeft` and don&#39;t continue reading the available data once the first 3MB are read.\r\n\r\nHere is a possible solution with some comments:\r\n\r\n```lang-java\r\npublic static void main(String[] args) throws Exception {\r\n  final int chunkSize = 3 * 1024 * 1024; // 3MB\r\n  final String sourceFile = &quot;D:/path/to/large/file&quot;;\r\n  read(sourceFile, chunkSize);\r\n}\r\n\r\nprivate static void read(String sourceFile, int chunkSize) throws Exception {\r\n\r\n  final byte[] buffer = new byte[1024];\r\n\r\n  // use try-with-resource to ensure the input stream is closed\r\n  try (final FileInputStream fis = new FileInputStream(new File(sourceFile))) {\r\n    int read = 0;\r\n    int i = 0;\r\n    // continue to read until there is no data available anymore\r\n    do {\r\n      // reset bytesLeft at the start of every iteration\r\n      int bytesLeft = chunkSize; \r\n      FileOutputStream fos = null;\r\n      try {\r\n        // write to the same output file as long as the desired chunk size\r\n        // is not reached and there is data\r\n        while (bytesLeft &gt; 0 &amp;&amp; (read = fis.read(buffer, 0, Math.min(bytesLeft, buffer.length))) &gt; 0) {\r\n          // only open a new output file once for every iteration and only\r\n          // if there was data read\r\n          if (bytesLeft == chunkSize) {\r\n            fos = new FileOutputStream(&quot;D:/output-&quot; + i + &quot;.txt&quot;);\r\n          }\r\n          fos.write(buffer, 0, read);\r\n          bytesLeft -= read;\r\n        }\r\n      } finally {\r\n        if (fos != null) {\r\n          fos.close();\r\n        }\r\n      }\r\n      i++;\r\n    } while (read &gt; 0);\r\n  }\r\n}\r\n```\r\n","title":"Read log file and save into smaller files of 5MB each","body":"<p>The problem is that you only loop over the <code>bytesLeft</code> and don't continue reading the available data once the first 3MB are read.</p>\n<p>Here is a possible solution with some comments:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) throws Exception {\n  final int chunkSize = 3 * 1024 * 1024; // 3MB\n  final String sourceFile = &quot;D:/path/to/large/file&quot;;\n  read(sourceFile, chunkSize);\n}\n\nprivate static void read(String sourceFile, int chunkSize) throws Exception {\n\n  final byte[] buffer = new byte[1024];\n\n  // use try-with-resource to ensure the input stream is closed\n  try (final FileInputStream fis = new FileInputStream(new File(sourceFile))) {\n    int read = 0;\n    int i = 0;\n    // continue to read until there is no data available anymore\n    do {\n      // reset bytesLeft at the start of every iteration\n      int bytesLeft = chunkSize; \n      FileOutputStream fos = null;\n      try {\n        // write to the same output file as long as the desired chunk size\n        // is not reached and there is data\n        while (bytesLeft &gt; 0 &amp;&amp; (read = fis.read(buffer, 0, Math.min(bytesLeft, buffer.length))) &gt; 0) {\n          // only open a new output file once for every iteration and only\n          // if there was data read\n          if (bytesLeft == chunkSize) {\n            fos = new FileOutputStream(&quot;D:/output-&quot; + i + &quot;.txt&quot;);\n          }\n          fos.write(buffer, 0, read);\n          bytesLeft -= read;\n        }\n      } finally {\n        if (fos != null) {\n          fos.close();\n        }\n      }\n      i++;\n    } while (read &gt; 0);\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":9553615,"reputation":464,"user_id":7096888,"display_name":"J.Tribbiani"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":191,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1643358294,"creation_date":1643227912,"question_id":70869667,"body_markdown":"I have a large log file (dozens of MB) and I need to create smaller logs, of 3MB each.\r\n\r\nI have the code to create the first log file of 3MB but I&#39;m not able to move forward and create the next log file of 3MB.\r\n\r\nHere&#39;s my code that creates the first smaller log of 3MB.\r\n\r\n      FileInputStream fis = new FileInputStream(new File(sourceFile))\r\n    \r\n      byte[] buffer = new byte[1024];\r\n      int bytesLeft = 3 * 1024 * 1024; \r\n    \r\n      int i=0;\t        \t \t        \t  \r\n       \t  \r\n      // reads 3MB bytes at a time, if end of the file, returns -1\r\n      FileOutputStream fos = new FileOutputStream(&quot;D:\\\\output&quot;+i+&quot;.log&quot;);\r\n    \t\r\n      try {\r\n    \t  while (bytesLeft &gt; 0) {\r\n    \t\tint read = fis.read(buffer, 0, Math.min(bytesLeft, buffer.length));\r\n    \t\tif (read == -1) {\r\n    \t\t  throw new EOFException(&quot;Unexpected end of data&quot;);\r\n    \t\t}\r\n    \t\tfos.write(buffer, 0, read);\r\n    \t\tbytesLeft -= read;\r\n    \t\ti++;\r\n    \t  }\r\n      } finally {\r\n    \t  fos.close(); \r\n       }\r\n\r\nThis works great. However, I&#39;m not being able to move forward and create the next log after reading the first 3MB from the sourceFile.\r\n\r\nCan you point me in the right direction?","title":"Read log file and save into smaller files of 5MB each","body":"<p>I have a large log file (dozens of MB) and I need to create smaller logs, of 3MB each.</p>\n<p>I have the code to create the first log file of 3MB but I'm not able to move forward and create the next log file of 3MB.</p>\n<p>Here's my code that creates the first smaller log of 3MB.</p>\n<pre><code>  FileInputStream fis = new FileInputStream(new File(sourceFile))\n\n  byte[] buffer = new byte[1024];\n  int bytesLeft = 3 * 1024 * 1024; \n\n  int i=0;                                \n      \n  // reads 3MB bytes at a time, if end of the file, returns -1\n  FileOutputStream fos = new FileOutputStream(&quot;D:\\\\output&quot;+i+&quot;.log&quot;);\n    \n  try {\n      while (bytesLeft &gt; 0) {\n        int read = fis.read(buffer, 0, Math.min(bytesLeft, buffer.length));\n        if (read == -1) {\n          throw new EOFException(&quot;Unexpected end of data&quot;);\n        }\n        fos.write(buffer, 0, read);\n        bytesLeft -= read;\n        i++;\n      }\n  } finally {\n      fos.close(); \n   }\n</code></pre>\n<p>This works great. However, I'm not being able to move forward and create the next log after reading the first 3MB from the sourceFile.</p>\n<p>Can you point me in the right direction?</p>\n"},{"tags":["java","algorithm"],"comments":[{"owner":{"account_id":2431887,"reputation":251,"user_id":2122618,"accept_rate":40,"display_name":"Amin"},"score":4,"creation_date":1643340895,"post_id":70888516,"comment_id":125319535,"body_markdown":"Perhaps, keep values as lists.","body":"Perhaps, keep values as lists."},{"owner":{"account_id":19666133,"reputation":409,"user_id":14459522,"display_name":"CupOfGreenTea"},"score":0,"creation_date":1643341435,"post_id":70888516,"comment_id":125319615,"body_markdown":"@Amin How would that work considering I need to store the fraction with the number of times that it occurs?","body":"@Amin How would that work considering I need to store the fraction with the number of times that it occurs?"},{"owner":{"account_id":2431887,"reputation":251,"user_id":2122618,"accept_rate":40,"display_name":"Amin"},"score":4,"creation_date":1643341804,"post_id":70888516,"comment_id":125319666,"body_markdown":"Sorry, I misunderstood your question. I thought you have multiple values per key. If the key contains multiple values, Defining class `Fraction` would and implementing `hashCode` and `equals` should do the job.","body":"Sorry, I misunderstood your question. I thought you have multiple values per key. If the key contains multiple values, Defining class <code>Fraction</code> would and implementing <code>hashCode</code> and <code>equals</code> should do the job."},{"owner":{"account_id":4962253,"reputation":18492,"user_id":3992939,"accept_rate":73,"display_name":"c0der"},"score":0,"creation_date":1643350144,"post_id":70888516,"comment_id":125321055,"body_markdown":"Would you consider `1/7` a different fraction than `2/14` ?","body":"Would you consider <code>1&#47;7</code> a different fraction than <code>2&#47;14</code> ?"},{"owner":{"account_id":19666133,"reputation":409,"user_id":14459522,"display_name":"CupOfGreenTea"},"score":0,"creation_date":1643353315,"post_id":70888516,"comment_id":125321703,"body_markdown":"@c0der No, I prepare them first by dividing by the gcd so they are all in reduced forms.","body":"@c0der No, I prepare them first by dividing by the gcd so they are all in reduced forms."},{"owner":{"account_id":4962253,"reputation":18492,"user_id":3992939,"accept_rate":73,"display_name":"c0der"},"score":0,"creation_date":1643368967,"post_id":70888516,"comment_id":125326960,"body_markdown":"In this case, `Double.hashCode((double)1/7)` might work for you. You&#39;ll need to store some info for unhashing.","body":"In this case, <code>Double.hashCode((double)1&#47;7)</code> might work for you. You&#39;ll need to store some info for unhashing."}],"answers":[{"tags":[],"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1643358135,"creation_date":1643342339,"answer_id":70888653,"question_id":70888516,"body_markdown":"You should have a fraction class that overrides equals and hashcode\r\n\r\nHere&#39;s what you can do:\r\n\r\n    public class Fraction {\r\n      int numerator, denominator;\r\n      public equals(Object o) {\r\n        if (o instanceof Fraction) {\r\n          Fraction f = (Fraction) o;\r\n          return f.numerator == numerator &amp;&amp; f.denominator == denominator;\r\n        }\r\n        return false;\r\n      }\r\n      public int hashCode() {\r\n        return numerator * denominator * denominator;\r\n      }\r\n    \r\n    }\r\n\r\n  Now use this Fraction class in your Map\r\n","title":"How to store a key with multiple values in HashTable?","body":"<p>You should have a fraction class that overrides equals and hashcode</p>\n<p>Here's what you can do:</p>\n<pre><code>public class Fraction {\n  int numerator, denominator;\n  public equals(Object o) {\n    if (o instanceof Fraction) {\n      Fraction f = (Fraction) o;\n      return f.numerator == numerator &amp;&amp; f.denominator == denominator;\n    }\n    return false;\n  }\n  public int hashCode() {\n    return numerator * denominator * denominator;\n  }\n\n}\n</code></pre>\n<p>Now use this Fraction class in your Map</p>\n"}],"owner":{"account_id":19666133,"reputation":409,"user_id":14459522,"display_name":"CupOfGreenTea"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":137,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70888653,"answer_count":1,"score":2,"last_activity_date":1643358135,"creation_date":1643340737,"question_id":70888516,"body_markdown":"Given two arrays of integers(for example) `X = [1, 1, 1, 7, 7, 7]` and `Y = [1, 1, 1, 8, 8, 8]` to find the number of occurances of the highest appearing fraction where fraction is in the form of `X[i]/Y[i]` is a problem which we can solve using a HashTable to avoid `O(N^2)` complexity.\r\n\r\nHow do I insert entries `(key, value)` where key may contain multiple values? If I declare a class `Fraction` then the reference will be hashed and it won&#39;t work. The workaround that I used was to represent the fraction as a string `X[i]` concatanated with `Y[i]` but I am wondering if there&#39;s a better way to do this. \r\n\r\n```java\r\n    static int maximumOccuringFraction(int[] X, int[] Y) {\r\n        HashMap&lt;String, Integer&gt; freq = new HashMap&lt;String, Integer&gt;();\r\n        int res = 1;\r\n        for(int i = 0; i &lt; Y.length; i++) {\r\n            int n = X[i];\r\n            int d = Y[i];\r\n\r\n            String s = String.valueOf(n) + String.valueOf(d);\r\n\r\n            if(freq.containsKey(s)) {\r\n                res = Math.max(res, freq.get(s) + 1);\r\n                freq.put(s, freq.get(s) + 1);\r\n            }\r\n            else {\r\n                freq.put(s, 1);\r\n            }\r\n        }\r\n\r\n        return res;\r\n    }\r\n```\r\n\r\nThanks in advance.","title":"How to store a key with multiple values in HashTable?","body":"<p>Given two arrays of integers(for example) <code>X = [1, 1, 1, 7, 7, 7]</code> and <code>Y = [1, 1, 1, 8, 8, 8]</code> to find the number of occurances of the highest appearing fraction where fraction is in the form of <code>X[i]/Y[i]</code> is a problem which we can solve using a HashTable to avoid <code>O(N^2)</code> complexity.</p>\n<p>How do I insert entries <code>(key, value)</code> where key may contain multiple values? If I declare a class <code>Fraction</code> then the reference will be hashed and it won't work. The workaround that I used was to represent the fraction as a string <code>X[i]</code> concatanated with <code>Y[i]</code> but I am wondering if there's a better way to do this.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    static int maximumOccuringFraction(int[] X, int[] Y) {\n        HashMap&lt;String, Integer&gt; freq = new HashMap&lt;String, Integer&gt;();\n        int res = 1;\n        for(int i = 0; i &lt; Y.length; i++) {\n            int n = X[i];\n            int d = Y[i];\n\n            String s = String.valueOf(n) + String.valueOf(d);\n\n            if(freq.containsKey(s)) {\n                res = Math.max(res, freq.get(s) + 1);\n                freq.put(s, freq.get(s) + 1);\n            }\n            else {\n                freq.put(s, 1);\n            }\n        }\n\n        return res;\n    }\n</code></pre>\n<p>Thanks in advance.</p>\n"},{"tags":["java","jvm-arguments","jinfo"],"comments":[{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":2,"creation_date":1643262711,"post_id":70870335,"comment_id":125294259,"body_markdown":"`java {nothing} -XX:+PrintFlagsFinal -version` creates a new JVM, changes none of its configuration from the default, and prints the resulting configuration, which is the default configuration with no changes. `jinfo {option} pid` attaches to an _existing already running_ JVM and obtains information from or makes changes to the configuration of _that_ JVM, although it&#39;s very unusual for pid 1 to be a JVM except in a container or jail. `jps` lists the running JVMs you can attach to, with options to include JVM arguments and/or application arguments.","body":"<code>java {nothing} -XX:+PrintFlagsFinal -version</code> creates a new JVM, changes none of its configuration from the default, and prints the resulting configuration, which is the default configuration with no changes. <code>jinfo {option} pid</code> attaches to an <i>existing already running</i> JVM and obtains information from or makes changes to the configuration of <i>that</i> JVM, although it&#39;s very unusual for pid 1 to be a JVM except in a container or jail. <code>jps</code> lists the running JVMs you can attach to, with options to include JVM arguments and/or application arguments."},{"owner":{"account_id":956759,"reputation":8316,"user_id":981922,"accept_rate":89,"display_name":"dokaspar"},"score":0,"creation_date":1643293000,"post_id":70870335,"comment_id":125304842,"body_markdown":"Thanks, Dave. You should put that into an answer :) Does this imply that the same verification cannot be achieved with `java`? Unlike `jinfo` it cannot be attached to a running JVM?\n(And yes, I&#39;m passing arguments to a Java process `1` inside a Docker container)","body":"Thanks, Dave. You should put that into an answer :) Does this imply that the same verification cannot be achieved with <code>java</code>? Unlike <code>jinfo</code> it cannot be attached to a running JVM? (And yes, I&#39;m passing arguments to a Java process <code>1</code> inside a Docker container)"},{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1643350347,"post_id":70870335,"comment_id":125321087,"body_markdown":"This is getting long enough I&#39;d better :-?","body":"This is getting long enough I&#39;d better :-?"}],"answers":[{"tags":[],"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643358042,"creation_date":1643350413,"answer_id":70889508,"question_id":70870335,"body_markdown":"**There&#39;s (at least) two different JVMs.**\r\n\r\n[Expanding comment:] `java {nothing} -XX:+PrintFlagsFinal -version` creates a new JVM, changes none of its configuration from the default, and prints the resulting configuration, which is the default configuration with no changes -- and the default for MaxDirectMemSize is indeed zero. \r\n\r\nOTOH `jinfo {option} pid` attaches to an _existing already running_ JVM and obtains or changes the configuration of that JVM (although the specific pid 1 isn&#39;t usually a JVM but it often is in a docker container as you are using). `jps` lists the running JVMs you can attach to, with options to include JVM arguments and/or application arguments.\r\n\r\n&gt; Does this imply that the same verification cannot be achieved with `java`? Unlike `jinfo` it cannot be attached to a running JVM? \r\n\r\nYes and no; it gets a bit Wonderlandy. \r\n\r\n`java` _by itself_ creates a new JVM, separate from any existing one. Normally this JVM runs a user-specified program, but with `-version` as you used it just prints version info and exits without running anything.\r\n\r\nNow, the [attach API](https://docs.oracle.com/en/java/javase/11/docs/api/jdk.attach/com/sun/tools/attach/package-summary.html) is accessible from (and actually written partly in) Java. What `jinfo` does in more detail is:\r\n\r\n1. create a new JVM; this doesn&#39;t use the `java` executable, so it isn&#39;t easily visible, but it actually is a JVM just like one from `java`\r\n\r\n2. use that JVM to run some predefined Java code, which used to be in JDK/lib/tools.jar; I haven&#39;t bothered to track down where it is (and exactly how to access it) in the new post-8 modulated Java \r\n\r\n3. that Java code when run in the `jinfo` JVM attaches to, and accesses information in, the specified _other_ JVM, which was previously created and configured with `java -Xvarious` to run your application\r\n\r\nYou can actually do steps 2 and 3 yourself; you could write Java code that uses the API to attach to a specified (or otherwise located) existing JVM and get the info you want, and use `java` to run in JVM#2 your code that accesses info in existing JVM#1. But why bother, when `jinfo` (and `jstat jmap jconsole` etc) already does what is needed?\r\n\r\nFor that matter, `jps` also does this -- it runs its own JVM to run Java &#39;tool&#39; code that uses the attach API to list JVMs. That&#39;s why the list produced by `jps`, unless filtered, includes `jps` itself. In fact, if you could run `jps` during the very short time `jinfo` is running, the `jps` list would include `jinfo` also -- and if you could determine the pid for `jps` and run `jinfo` on that pid during the very short time `jps` is running, you could get `jinfo`-type information on the `jps` JVM. \r\n\r\nClear enough?","title":"Java option MaxDirectMemorySize reported differently by java vs. jinfo","body":"<p><strong>There's (at least) two different JVMs.</strong></p>\n<p>[Expanding comment:] <code>java {nothing} -XX:+PrintFlagsFinal -version</code> creates a new JVM, changes none of its configuration from the default, and prints the resulting configuration, which is the default configuration with no changes -- and the default for MaxDirectMemSize is indeed zero.</p>\n<p>OTOH <code>jinfo {option} pid</code> attaches to an <em>existing already running</em> JVM and obtains or changes the configuration of that JVM (although the specific pid 1 isn't usually a JVM but it often is in a docker container as you are using). <code>jps</code> lists the running JVMs you can attach to, with options to include JVM arguments and/or application arguments.</p>\n<blockquote>\n<p>Does this imply that the same verification cannot be achieved with <code>java</code>? Unlike <code>jinfo</code> it cannot be attached to a running JVM?</p>\n</blockquote>\n<p>Yes and no; it gets a bit Wonderlandy.</p>\n<p><code>java</code> <em>by itself</em> creates a new JVM, separate from any existing one. Normally this JVM runs a user-specified program, but with <code>-version</code> as you used it just prints version info and exits without running anything.</p>\n<p>Now, the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/jdk.attach/com/sun/tools/attach/package-summary.html\" rel=\"nofollow noreferrer\">attach API</a> is accessible from (and actually written partly in) Java. What <code>jinfo</code> does in more detail is:</p>\n<ol>\n<li><p>create a new JVM; this doesn't use the <code>java</code> executable, so it isn't easily visible, but it actually is a JVM just like one from <code>java</code></p>\n</li>\n<li><p>use that JVM to run some predefined Java code, which used to be in JDK/lib/tools.jar; I haven't bothered to track down where it is (and exactly how to access it) in the new post-8 modulated Java</p>\n</li>\n<li><p>that Java code when run in the <code>jinfo</code> JVM attaches to, and accesses information in, the specified <em>other</em> JVM, which was previously created and configured with <code>java -Xvarious</code> to run your application</p>\n</li>\n</ol>\n<p>You can actually do steps 2 and 3 yourself; you could write Java code that uses the API to attach to a specified (or otherwise located) existing JVM and get the info you want, and use <code>java</code> to run in JVM#2 your code that accesses info in existing JVM#1. But why bother, when <code>jinfo</code> (and <code>jstat jmap jconsole</code> etc) already does what is needed?</p>\n<p>For that matter, <code>jps</code> also does this -- it runs its own JVM to run Java 'tool' code that uses the attach API to list JVMs. That's why the list produced by <code>jps</code>, unless filtered, includes <code>jps</code> itself. In fact, if you could run <code>jps</code> during the very short time <code>jinfo</code> is running, the <code>jps</code> list would include <code>jinfo</code> also -- and if you could determine the pid for <code>jps</code> and run <code>jinfo</code> on that pid during the very short time <code>jps</code> is running, you could get <code>jinfo</code>-type information on the <code>jps</code> JVM.</p>\n<p>Clear enough?</p>\n"}],"owner":{"account_id":956759,"reputation":8316,"user_id":981922,"accept_rate":89,"display_name":"dokaspar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":241,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70889508,"answer_count":1,"score":0,"last_activity_date":1643358042,"creation_date":1643231659,"question_id":70870335,"body_markdown":"I restarted a Java process with new memory options `-Xms4G -Xmx4G -XX:MaxDirectMemorySize=6G` and wanted to verify if these changes got correctly applied, especially the 6G of direct memory.\r\n\r\nThe first solution I found for verifying this was via `java` itself, but this simply reported a `0`, implying that my new settings had no effect:\r\n```\r\nbash-4.4$ java -XX:+PrintFlagsFinal -version | grep MaxDirect\r\n    uintx MaxDirectMemorySize                = 0                          {product}\r\nopenjdk version &quot;1.8.0_242&quot;\r\nOpenJDK Runtime Environment (build 1.8.0_242-b08)\r\nOpenJDK 64-Bit Server VM (build 25.242-b08, mixed mode)\r\n```\r\n\r\nA second solution I found later was via `jinfo`, which apparently confirm the `6G` that I indended to set:\r\n```\r\nbash-4.4$ jinfo -flag MaxDirectMemorySize 1\r\n-XX:MaxDirectMemorySize=6442450944\r\n```\r\n\r\nI&#39;ve relied on the `java -XX:+PrintFlagsFinal` for other purposes before, but now I wonder why it doesn&#39;t return the expected values. Why are `java` and `jinfo` returning different results? ","title":"Java option MaxDirectMemorySize reported differently by java vs. jinfo","body":"<p>I restarted a Java process with new memory options <code>-Xms4G -Xmx4G -XX:MaxDirectMemorySize=6G</code> and wanted to verify if these changes got correctly applied, especially the 6G of direct memory.</p>\n<p>The first solution I found for verifying this was via <code>java</code> itself, but this simply reported a <code>0</code>, implying that my new settings had no effect:</p>\n<pre><code>bash-4.4$ java -XX:+PrintFlagsFinal -version | grep MaxDirect\n    uintx MaxDirectMemorySize                = 0                          {product}\nopenjdk version &quot;1.8.0_242&quot;\nOpenJDK Runtime Environment (build 1.8.0_242-b08)\nOpenJDK 64-Bit Server VM (build 25.242-b08, mixed mode)\n</code></pre>\n<p>A second solution I found later was via <code>jinfo</code>, which apparently confirm the <code>6G</code> that I indended to set:</p>\n<pre><code>bash-4.4$ jinfo -flag MaxDirectMemorySize 1\n-XX:MaxDirectMemorySize=6442450944\n</code></pre>\n<p>I've relied on the <code>java -XX:+PrintFlagsFinal</code> for other purposes before, but now I wonder why it doesn't return the expected values. Why are <code>java</code> and <code>jinfo</code> returning different results?</p>\n"},{"tags":["java","android","gradle","aapt"],"comments":[{"owner":{"account_id":1984972,"reputation":407,"user_id":1780480,"accept_rate":60,"display_name":"matio"},"score":0,"creation_date":1533565788,"post_id":51709716,"comment_id":90381021,"body_markdown":"Do you have itemBackground attribute ?","body":"Do you have itemBackground attribute ?"},{"owner":{"account_id":10841886,"reputation":1050,"user_id":7972851,"accept_rate":100,"display_name":"grrigore"},"score":0,"creation_date":1533565870,"post_id":51709716,"comment_id":90381086,"body_markdown":"Try to upgrade gradle and SDK.","body":"Try to upgrade gradle and SDK."},{"owner":{"account_id":8098551,"reputation":817,"user_id":6102255,"accept_rate":54,"display_name":"mdadil2019"},"score":0,"creation_date":1533565929,"post_id":51709716,"comment_id":90381122,"body_markdown":"@matio I have added some background attribute to toolbars and buttons but not something like itemBackground attribute","body":"@matio I have added some background attribute to toolbars and buttons but not something like itemBackground attribute"},{"owner":{"account_id":8098551,"reputation":817,"user_id":6102255,"accept_rate":54,"display_name":"mdadil2019"},"score":0,"creation_date":1533566004,"post_id":51709716,"comment_id":90381181,"body_markdown":"@grrigore I have updated everything but still, it shows the same error when I add the design library","body":"@grrigore I have updated everything but still, it shows the same error when I add the design library"},{"owner":{"account_id":6795009,"reputation":2648,"user_id":5230682,"display_name":"Ehsan Mashhadi"},"score":0,"creation_date":1533567129,"post_id":51709716,"comment_id":90381915,"body_markdown":"Have you tried Invalidate cache and restart?","body":"Have you tried Invalidate cache and restart?"},{"owner":{"account_id":8098551,"reputation":817,"user_id":6102255,"accept_rate":54,"display_name":"mdadil2019"},"score":0,"creation_date":1533567337,"post_id":51709716,"comment_id":90382039,"body_markdown":"@EhsanMashhadi Yes","body":"@EhsanMashhadi Yes"}],"answers":[{"tags":[],"owner":{"account_id":1984972,"reputation":407,"user_id":1780480,"accept_rate":60,"display_name":"matio"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1533568320,"creation_date":1533568320,"answer_id":51710754,"question_id":51709716,"body_markdown":"It seems one of the libraries you have used have the same name attribute with support library. I suggest you start exclude them starting from espresso, then see if you can fix it, and continuously set this to other libraries until you find which library have used it.\r\n\r\n    androidTestImplementation(&#39;com.android.support.test.espresso:espresso-core:3.0.2&#39;, {\r\n        exclude group: &#39;com.android.support&#39;, module: &#39;support-annotations&#39;\r\n    })\r\n\r\n\r\n ","title":"Android resource compilation failed","body":"<p>It seems one of the libraries you have used have the same name attribute with support library. I suggest you start exclude them starting from espresso, then see if you can fix it, and continuously set this to other libraries until you find which library have used it.</p>\n\n<pre><code>androidTestImplementation('com.android.support.test.espresso:espresso-core:3.0.2', {\n    exclude group: 'com.android.support', module: 'support-annotations'\n})\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4081633,"reputation":120,"user_id":3351990,"display_name":"Chaos"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1533646734,"creation_date":1533646734,"answer_id":51727434,"question_id":51709716,"body_markdown":"By doing some research, I found that MenuView (The Menu in the Toolbar) has defined this attribute.\r\n\r\n    &lt;declare-styleable name=&quot;MenuView&quot;&gt;\r\n        ...\r\n        &lt;!-- Default background for each menu item. --&gt;\r\n        &lt;attr name=&quot;itemBackground&quot; format=&quot;color|reference&quot; /&gt;\r\n        ...\r\n    &lt;/declare-styleable&gt;\r\n\r\nI have used `&lt;attr name=&quot;android:itemBackground&quot; /&gt;` instead of\r\n`&lt;attr name=&quot;itemBackground&quot; format=&quot;reference|color&quot; /&gt;` to fix this issue.\r\n\r\nPlease upgrade to version 1.4.1.","title":"Android resource compilation failed","body":"<p>By doing some research, I found that MenuView (The Menu in the Toolbar) has defined this attribute.</p>\n\n<pre><code>&lt;declare-styleable name=\"MenuView\"&gt;\n    ...\n    &lt;!-- Default background for each menu item. --&gt;\n    &lt;attr name=\"itemBackground\" format=\"color|reference\" /&gt;\n    ...\n&lt;/declare-styleable&gt;\n</code></pre>\n\n<p>I have used <code>&lt;attr name=\"android:itemBackground\" /&gt;</code> instead of\n<code>&lt;attr name=\"itemBackground\" format=\"reference|color\" /&gt;</code> to fix this issue.</p>\n\n<p>Please upgrade to version 1.4.1.</p>\n"},{"tags":[],"owner":{"account_id":1688556,"reputation":896,"user_id":1551368,"display_name":"dobrivoje"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1566377292,"creation_date":1566377292,"answer_id":57587797,"question_id":51709716,"body_markdown":"In my case error appeared because for a view that generated error,\r\nthere was excessive xml namespace definition\r\n,that is : `xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;`\r\n\r\n\r\n    &lt;androidx.swiperefreshlayout.widget.SwipeRefreshLayout\r\n            xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n            android:id=&quot;@+id/sb_swipe_container&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;&gt;\r\n\r\nWhen Android Studio is building, error appears :\r\n\r\n    Android resource compilation failed\r\n    C:\\dev\\hyperoptic.infinity\\mobile-fit\\app\\build\\intermediates\\incremental\\mergeDebugResources\\stripped.dir\\layout\\activity_spine_build_job_report.xml:29: error: duplicate attribute.\r\n    C:\\dev\\hyperoptic.infinity\\mobile-fit\\app\\build\\intermediates\\incremental\\mergeDebugResources\\stripped.dir\\layout\\activity_spine_build_job_report.xml: error: file failed to compile.\r\n\r\n\r\nThis means that we need to delete xmlns, as in compiled xml it appears in three places !\r\n\r\nSo, deleting `xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;` resolved this problem.","title":"Android resource compilation failed","body":"<p>In my case error appeared because for a view that generated error,\nthere was excessive xml namespace definition\n,that is : <code>xmlns:android=\"http://schemas.android.com/apk/res/android\"</code></p>\n\n<pre><code>&lt;androidx.swiperefreshlayout.widget.SwipeRefreshLayout\n        xmlns:android=\"http://schemas.android.com/apk/res/android\"\n        android:id=\"@+id/sb_swipe_container\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"&gt;\n</code></pre>\n\n<p>When Android Studio is building, error appears :</p>\n\n<pre><code>Android resource compilation failed\nC:\\dev\\hyperoptic.infinity\\mobile-fit\\app\\build\\intermediates\\incremental\\mergeDebugResources\\stripped.dir\\layout\\activity_spine_build_job_report.xml:29: error: duplicate attribute.\nC:\\dev\\hyperoptic.infinity\\mobile-fit\\app\\build\\intermediates\\incremental\\mergeDebugResources\\stripped.dir\\layout\\activity_spine_build_job_report.xml: error: file failed to compile.\n</code></pre>\n\n<p>This means that we need to delete xmlns, as in compiled xml it appears in three places !</p>\n\n<p>So, deleting <code>xmlns:android=\"http://schemas.android.com/apk/res/android\"</code> resolved this problem.</p>\n"},{"tags":[],"owner":{"account_id":19192885,"reputation":31,"user_id":14022272,"display_name":"Sushruth S"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1643357379,"creation_date":1637577713,"answer_id":70064476,"question_id":51709716,"body_markdown":"Check for an apostrophe (&#39;) for any string value in arrays.xml or strings.xml and make sure you add a backslash(\\\\) before it\r\n\r\nExample 1: \r\n`&lt;string-array&gt;\r\n&lt;item&gt;example&#39;s&lt;/item&gt;\r\n&lt;/string-array&gt;`\r\n\r\nto\r\n \r\n`&lt;string-array&gt;\r\n&lt;item&gt;example\\&#39;s&lt;/item&gt;\r\n&lt;/string-array&gt;`\r\n\r\nExample 2: \r\n`&lt;string&gt;example&#39;s&lt;/string&gt;`\r\n\r\nto \r\n\r\n`&lt;string&gt;example\\&#39;s&lt;/string&gt;`\r\n","title":"Android resource compilation failed","body":"<p>Check for an apostrophe (') for any string value in arrays.xml or strings.xml and make sure you add a backslash(\\) before it</p>\n<p>Example 1:\n<code>&lt;string-array&gt; &lt;item&gt;example's&lt;/item&gt; &lt;/string-array&gt;</code></p>\n<p>to</p>\n<p><code>&lt;string-array&gt; &lt;item&gt;example\\'s&lt;/item&gt; &lt;/string-array&gt;</code></p>\n<p>Example 2:\n<code>&lt;string&gt;example's&lt;/string&gt;</code></p>\n<p>to</p>\n<p><code>&lt;string&gt;example\\'s&lt;/string&gt;</code></p>\n"}],"owner":{"account_id":8098551,"reputation":817,"user_id":6102255,"accept_rate":54,"display_name":"mdadil2019"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13824,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":51727434,"answer_count":4,"score":3,"last_activity_date":1643357379,"creation_date":1533564957,"question_id":51709716,"body_markdown":"I am developing an android app where I am in need of design support library so when I add `    implementation &#39;com.android.support:design:27.1.1&#39;` into my build.gradle(app) then the following error appears:\r\n\r\n&gt; Caused by: org.gradle.internal.UncheckedException: java.util.concurrent.ExecutionException: com.android.builder.internal.aapt.v2.Aapt2Exception: Android resource compilation failed\r\nMyAppDirectory\\app\\build\\intermediates\\incremental\\mergeDebugResources\\merged.dir\\values\\values.xml:2489: error: duplicate value for resource &#39;attr/itemBackground&#39; with config &#39;&#39;.\r\n\r\nBut when I remove the dependency `    implementation &#39;com.android.support:design:27.1.1&#39;`\r\nthen the error disappears and gradle build successfully.\r\n\r\nMy Project build.gradle\r\n\r\n    // Top-level build file where you can add configuration options common to all sub-projects/modules.\r\n\r\n    buildscript {\r\n    \r\n    repositories {\r\n        google()\r\n        jcenter()\r\n    }\r\n    dependencies {\r\n      //        classpath &#39;com.android.tools.build:gradle:3.1.3&#39;\r\n        classpath &#39;com.android.tools.build:gradle:3.3.0-alpha04&#39;\r\n        \r\n\r\n        // NOTE: Do not place your application dependencies here; they belong\r\n        // in the individual module build.gradle files\r\n         }\r\n     }\r\n\r\n    allprojects {\r\n    repositories {\r\n        google()\r\n        jcenter()\r\n\r\n\r\n       }\r\n    }\r\n\r\n    task clean(type: Delete) {\r\n    delete rootProject.buildDir\r\n    }\r\n\r\n\r\nMy app build.gradle\r\n\r\n    apply plugin: &#39;com.android.application&#39;\r\n\r\n    android {\r\n    compileSdkVersion 27\r\n    buildToolsVersion &quot;27.0.3&quot;\r\n    defaultConfig {\r\n        applicationId &quot;myapplicationid&quot;\r\n        minSdkVersion 16\r\n        targetSdkVersion 27\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n        testInstrumentationRunner &quot;android.support.test.runner.AndroidJUnitRunner&quot;\r\n\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-rules.pro&#39;\r\n          }\r\n       }\r\n    }\r\n\r\n    dependencies {\r\n    implementation fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])\r\n    implementation &#39;com.android.support:appcompat-v7:27.1.1&#39;\r\n\r\n    implementation &#39;com.android.support.constraint:constraint-layout:1.1.2&#39;\r\n    implementation &#39;com.android.support:support-v4:27.1.1&#39;\r\n    implementation &#39;com.android.support:design:27.1.1&#39;\r\n    testImplementation &#39;junit:junit:4.12&#39;\r\n    androidTestImplementation &#39;com.android.support.test:runner:1.0.2&#39;\r\n    androidTestImplementation &#39;com.android.support.test.espresso:espresso-core:3.0.2&#39;\r\n\r\n    //third party libraries\r\n    implementation &#39;com.hbb20:ccp:2.2.2&#39;\r\n\r\n    implementation &#39;info.hoang8f:fbutton:1.0.5&#39;\r\n    implementation &#39;com.chaos.view:pinview:1.4.0&#39;\r\n    implementation &#39;de.hdodenhof:circleimageview:2.2.0&#39;\r\n    }\r\n**Note: I have already cleaned and rebuilded the project and I have also invalidated and cleared the cache**","title":"Android resource compilation failed","body":"<p>I am developing an android app where I am in need of design support library so when I add <code>implementation 'com.android.support:design:27.1.1'</code> into my build.gradle(app) then the following error appears:</p>\n\n<blockquote>\n  <p>Caused by: org.gradle.internal.UncheckedException: java.util.concurrent.ExecutionException: com.android.builder.internal.aapt.v2.Aapt2Exception: Android resource compilation failed\n  MyAppDirectory\\app\\build\\intermediates\\incremental\\mergeDebugResources\\merged.dir\\values\\values.xml:2489: error: duplicate value for resource 'attr/itemBackground' with config ''.</p>\n</blockquote>\n\n<p>But when I remove the dependency <code>implementation 'com.android.support:design:27.1.1'</code>\nthen the error disappears and gradle build successfully.</p>\n\n<p>My Project build.gradle</p>\n\n<pre><code>// Top-level build file where you can add configuration options common to all sub-projects/modules.\n\nbuildscript {\n\nrepositories {\n    google()\n    jcenter()\n}\ndependencies {\n  //        classpath 'com.android.tools.build:gradle:3.1.3'\n    classpath 'com.android.tools.build:gradle:3.3.0-alpha04'\n\n\n    // NOTE: Do not place your application dependencies here; they belong\n    // in the individual module build.gradle files\n     }\n }\n\nallprojects {\nrepositories {\n    google()\n    jcenter()\n\n\n   }\n}\n\ntask clean(type: Delete) {\ndelete rootProject.buildDir\n}\n</code></pre>\n\n<p>My app build.gradle</p>\n\n<pre><code>apply plugin: 'com.android.application'\n\nandroid {\ncompileSdkVersion 27\nbuildToolsVersion \"27.0.3\"\ndefaultConfig {\n    applicationId \"myapplicationid\"\n    minSdkVersion 16\n    targetSdkVersion 27\n    versionCode 1\n    versionName \"1.0\"\n    testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n\n}\n\nbuildTypes {\n    release {\n        minifyEnabled false\n        proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n      }\n   }\n}\n\ndependencies {\nimplementation fileTree(dir: 'libs', include: ['*.jar'])\nimplementation 'com.android.support:appcompat-v7:27.1.1'\n\nimplementation 'com.android.support.constraint:constraint-layout:1.1.2'\nimplementation 'com.android.support:support-v4:27.1.1'\nimplementation 'com.android.support:design:27.1.1'\ntestImplementation 'junit:junit:4.12'\nandroidTestImplementation 'com.android.support.test:runner:1.0.2'\nandroidTestImplementation 'com.android.support.test.espresso:espresso-core:3.0.2'\n\n//third party libraries\nimplementation 'com.hbb20:ccp:2.2.2'\n\nimplementation 'info.hoang8f:fbutton:1.0.5'\nimplementation 'com.chaos.view:pinview:1.4.0'\nimplementation 'de.hdodenhof:circleimageview:2.2.0'\n}\n</code></pre>\n\n<p><strong>Note: I have already cleaned and rebuilded the project and I have also invalidated and cleared the cache</strong></p>\n"},{"tags":["java","switch-statement"],"comments":[{"owner":{"account_id":22488238,"reputation":165,"user_id":16686308,"display_name":"Luna"},"score":0,"creation_date":1643356777,"post_id":70890448,"comment_id":125322563,"body_markdown":"Where are you assigning a value to option? Why not `option = scan.nextInt()` ? And then `switch(option)`","body":"Where are you assigning a value to option? Why not <code>option = scan.nextInt()</code> ? And then <code>switch(option)</code>"},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1643357006,"post_id":70890448,"comment_id":125322627,"body_markdown":"The `break` should be moved out of the loop.","body":"The <code>break</code> should be moved out of the loop."}],"answers":[{"tags":[],"owner":{"account_id":20935575,"reputation":26,"user_id":15380792,"display_name":"Apoorva"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643357018,"creation_date":1643357018,"answer_id":70890512,"question_id":70890448,"body_markdown":"I think in case 3 you&#39;ve given break statement in your while loop\r\nTry to remove break from while loop and add it after the loop\r\n\r\n    case 3:\r\n                   System.out.print(&quot;Enter a number: &quot;);\r\n                   int left = scan.nextInt();\r\n                   while(left &gt;= 1)\r\n                   {               \r\n                       String leftString = String.valueOf(left);\r\n                   System.out.print(&quot;The leftmost digit of &quot; + left + &quot; is &quot;);\r\n                   System.out.println(leftString.charAt(0));\r\n                   };break;","title":"Loop switch code doesn&#39;t repeat but executes other case","body":"<p>I think in case 3 you've given break statement in your while loop\nTry to remove break from while loop and add it after the loop</p>\n<pre><code>case 3:\n               System.out.print(&quot;Enter a number: &quot;);\n               int left = scan.nextInt();\n               while(left &gt;= 1)\n               {               \n                   String leftString = String.valueOf(left);\n               System.out.print(&quot;The leftmost digit of &quot; + left + &quot; is &quot;);\n               System.out.println(leftString.charAt(0));\n               };break;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19994600,"reputation":180,"user_id":14654948,"display_name":"Chris"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643357064,"creation_date":1643357064,"answer_id":70890523,"question_id":70890448,"body_markdown":"You want to take the `break` statement out of your while loop so it doesn&#39;t break immediately:\r\n\r\n    case 3:\r\n         System.out.print(&quot;Enter a number: &quot;);\r\n         int left = scan.nextInt();\r\n         while(left &gt;= 1)\r\n         {               \r\n              String leftString = String.valueOf(left);\r\n              System.out.print(&quot;The leftmost digit of &quot; + left + &quot; is &quot;);\r\n              System.out.println(leftString.charAt(0));\r\n         }\r\n         break;","title":"Loop switch code doesn&#39;t repeat but executes other case","body":"<p>You want to take the <code>break</code> statement out of your while loop so it doesn't break immediately:</p>\n<pre><code>case 3:\n     System.out.print(&quot;Enter a number: &quot;);\n     int left = scan.nextInt();\n     while(left &gt;= 1)\n     {               \n          String leftString = String.valueOf(left);\n          System.out.print(&quot;The leftmost digit of &quot; + left + &quot; is &quot;);\n          System.out.println(leftString.charAt(0));\n     }\n     break;\n</code></pre>\n"}],"owner":{"account_id":24081021,"reputation":11,"user_id":18055679,"display_name":"Jennifer Hart"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1643372213,"accepted_answer_id":70890512,"answer_count":2,"score":-1,"last_activity_date":1643357064,"creation_date":1643356635,"question_id":70890448,"body_markdown":"I have a switch case code that displays a menu of four choices. Once a choice and it&#39;s action is complete, it displays the menu again. The last case (fourth choice) in the menu is to quit. The code works perfectly until I get to the end of the case 3, but then it doesn&#39;t display the menu again and just jumps straight to executing case 4 and terminates the program.\r\n\r\n(FYI, I am very new at this, so thank you for your patience).\r\n\r\nHere is the code:\r\n ```\r\ndo\r\n{\r\n    // Display the menu\r\n    displayMenu();\r\n\r\n    // Ask the user for one option\r\n    System.out.println(&quot;Enter a number: &quot;);\r\n\r\n    switch (scan.nextInt()) \r\n    {\r\n        // Define four cases for different options. Don&#39;t forget &quot;break&quot;.\r\n    case 1:\r\n    \tSystem.out.print(&quot;Enter a number: &quot;);\r\n    \tsumInput = scan.nextInt();\r\n    \twhile (sumStart &lt;= sumInput)\r\n    \t{\r\n    \t\tsumResult += sumStart;\r\n    \t\tsumStart++;\r\n    \t}\r\n    \tSystem.out.println(&quot;The sum of 1 to &quot; + sumInput + &quot; is: &quot; + sumResult);\r\n    \tbreak;\r\n    \r\n    case 2:\r\n    \tSystem.out.print(&quot;Enter a number: &quot;);\r\n        facInput = scan.nextLong();\r\n\t    while(facStart &lt;= facInput)\r\n\t    {       \t \r\n\t    \tfacResult = facResult*facStart;\r\n\t    \tfacStart++;\r\n \t    }         \r\n  \t    System.out.printf(&quot;%s %.0f %s %.0f %n&quot;, &quot;The factorial of &quot;,  facInput , &quot; is &quot;,  facResult);\r\n        break;\r\n                         \r\n    case 3:\r\n    \tSystem.out.print(&quot;Enter a number: &quot;);\r\n    \tint left = scan.nextInt();\r\n    \twhile(left &gt;= 1)\r\n    \t{          \t\t\r\n    \t\tString leftString = String.valueOf(left);\r\n    \tSystem.out.print(&quot;The leftmost digit of &quot; + left + &quot; is &quot;);\r\n    \tSystem.out.println(leftString.charAt(0));\r\n    \tbreak;\r\n    \t}\r\n\r\n    case 4:\r\n    \tSystem.out.print(&quot;Bye&quot;);\r\n    \tSystem.exit(0);\r\n    }\r\n}\r\nwhile (option &lt; 4);\r\n```","title":"Loop switch code doesn&#39;t repeat but executes other case","body":"<p>I have a switch case code that displays a menu of four choices. Once a choice and it's action is complete, it displays the menu again. The last case (fourth choice) in the menu is to quit. The code works perfectly until I get to the end of the case 3, but then it doesn't display the menu again and just jumps straight to executing case 4 and terminates the program.</p>\n<p>(FYI, I am very new at this, so thank you for your patience).</p>\n<p>Here is the code:</p>\n<pre><code>do\n{\n   // Display the menu\n   displayMenu();\n\n   // Ask the user for one option\n   System.out.println(&quot;Enter a number: &quot;);\n\n   switch (scan.nextInt()) \n   {\n       // Define four cases for different options. Don't forget &quot;break&quot;.\n   case 1:\n       System.out.print(&quot;Enter a number: &quot;);\n       sumInput = scan.nextInt();\n       while (sumStart &lt;= sumInput)\n       {\n           sumResult += sumStart;\n           sumStart++;\n       }\n       System.out.println(&quot;The sum of 1 to &quot; + sumInput + &quot; is: &quot; + sumResult);\n       break;\n   \n   case 2:\n       System.out.print(&quot;Enter a number: &quot;);\n       facInput = scan.nextLong();\n       while(facStart &lt;= facInput)\n       {            \n           facResult = facResult*facStart;\n           facStart++;\n       }         \n       System.out.printf(&quot;%s %.0f %s %.0f %n&quot;, &quot;The factorial of &quot;,  facInput , &quot; is &quot;,  facResult);\n       break;\n                        \n   case 3:\n       System.out.print(&quot;Enter a number: &quot;);\n       int left = scan.nextInt();\n       while(left &gt;= 1)\n       {               \n           String leftString = String.valueOf(left);\n       System.out.print(&quot;The leftmost digit of &quot; + left + &quot; is &quot;);\n       System.out.println(leftString.charAt(0));\n       break;\n       }\n\n   case 4:\n       System.out.print(&quot;Bye&quot;);\n       System.exit(0);\n   }\n}\nwhile (option &lt; 4);\n</code></pre>\n"},{"tags":["java","eclipse","log4j","logging"],"comments":[{"owner":{"account_id":1202728,"reputation":941,"user_id":1173047,"accept_rate":80,"display_name":"Rocky"},"score":2,"creation_date":1329367905,"post_id":9305535,"comment_id":11737798,"body_markdown":"Try placing the properties file / xml file in the root directory instead of placing it within the package ru.log4j.log4jhelloworld. I am also new to log 4j , but by looking at your xml and properties , I feel one of them is good enough , so you can remove one and try","body":"Try placing the properties file / xml file in the root directory instead of placing it within the package ru.log4j.log4jhelloworld. I am also new to log 4j , but by looking at your xml and properties , I feel one of them is good enough , so you can remove one and try"},{"owner":{"account_id":8423,"reputation":735986,"user_id":15168,"accept_rate":100,"display_name":"Jonathan Leffler"},"score":0,"creation_date":1363407553,"post_id":9305535,"comment_id":21851195,"body_markdown":"possible duplicate of [log4j.xml file placement](http://stackoverflow.com/questions/4012572/log4j-xml-file-placement)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/4012572/log4j-xml-file-placement\">log4j.xml file placement</a>"}],"answers":[{"tags":[],"owner":{"account_id":915369,"reputation":8469,"user_id":948268,"accept_rate":71,"display_name":"Kuldeep Jain"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1329374630,"creation_date":1329374630,"answer_id":9306716,"question_id":9305535,"body_markdown":"To solve your issue place your your log4j configuration file(i.e. `log4j.xml` or `log4j.properties`) in the `src` folder and it should work fine.\r\n\r\nMoreover you don&#39;t need both files(`log4j.xml` and `log4j.properties`), just use one of them.","title":"Log4j cannot find properties file in a simple application","body":"<p>To solve your issue place your your log4j configuration file(i.e. <code>log4j.xml</code> or <code>log4j.properties</code>) in the <code>src</code> folder and it should work fine.</p>\n\n<p>Moreover you don't need both files(<code>log4j.xml</code> and <code>log4j.properties</code>), just use one of them.</p>\n"},{"tags":[],"owner":{"account_id":1988279,"reputation":7009,"user_id":1782954,"accept_rate":71,"display_name":"javabeangrinder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1358498736,"creation_date":1358498736,"answer_id":14395202,"question_id":9305535,"body_markdown":"Run the application with the -Dlog4j.debug VM argument and you will be prompted with the place where log4j want it to be.","title":"Log4j cannot find properties file in a simple application","body":"<p>Run the application with the -Dlog4j.debug VM argument and you will be prompted with the place where log4j want it to be.</p>\n"},{"tags":[],"owner":{"account_id":7238944,"reputation":106,"user_id":5523119,"accept_rate":100,"display_name":"programmer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1466673110,"creation_date":1466673110,"answer_id":37987168,"question_id":9305535,"body_markdown":"I had the similar problem. And solved it by putting the following lines in Run AS--&gt; Run Configurations --&gt; Arguments tab\r\n\r\n`-Dcvp.property.path=/home/local/Project/property/`  --&gt; location of your property file\r\n\r\n&lt;br&gt;Thanks!","title":"Log4j cannot find properties file in a simple application","body":"<p>I had the similar problem. And solved it by putting the following lines in Run AS--> Run Configurations --> Arguments tab</p>\n\n<p><code>-Dcvp.property.path=/home/local/Project/property/</code>  --> location of your property file</p>\n\n<p><br>Thanks!</p>\n"},{"tags":[],"owner":{"account_id":8823687,"reputation":11,"user_id":6592584,"display_name":"Rohit Singh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1468573075,"creation_date":1468573075,"answer_id":38391998,"question_id":9305535,"body_markdown":"&gt; log4j.properties file put in src folder file like bellow\r\n\r\n    com.org.slk.LogExample.java\r\n    com.org.slk.log4j.properties\r\n\r\n&gt; and then set   PropertyConfigurator  in LogExample.java\r\n\r\n    PropertyConfigurator.configure(LogExample.class.getResourceAsStream(&quot;log4j.properties&quot;));\r\n\r\n&gt; and property file set configuration like bellow log4j.properties\r\n\r\n    # Root logger option\r\n    log4j.rootLogger=DEBUG, stdout, file\r\n\r\n    # Redirect log messages to console\r\n    log4j.appender.stdout=org.apache.log4j.ConsoleAppender\r\n    log4j.appender.stdout.Target=System.out\r\n    log4j.appender.stdout.layout=org.apache.log4j.PatternLayout\r\n    log4j.appender.stdout.layout.ConversionPattern=%d{yyyy-MM-dd HH:mm:ss} %-5p %c{1}:%L - %m%n\r\n\r\n    # Redirect log messages to a log file\r\n    log4j.appender.file=org.apache.log4j.RollingFileAppender\r\n    log4j.appender.file.File= fullpath /myLog.log\r\n    log4j.appender.file.MaxFileSize=5MB\r\n    log4j.appender.file.MaxBackupIndex=10\r\n    log4j.appender.file.layout=org.apache.log4j.PatternLayout\r\n    log4j.appender.file.layout.ConversionPattern=%d{yyyy-MM-dd HH:mm:ss} %-5p %c{1}:%L - %m%n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Log4j cannot find properties file in a simple application","body":"<blockquote>\n  <p>log4j.properties file put in src folder file like bellow</p>\n</blockquote>\n\n<pre><code>com.org.slk.LogExample.java\ncom.org.slk.log4j.properties\n</code></pre>\n\n<blockquote>\n  <p>and then set   PropertyConfigurator  in LogExample.java</p>\n</blockquote>\n\n<pre><code>PropertyConfigurator.configure(LogExample.class.getResourceAsStream(\"log4j.properties\"));\n</code></pre>\n\n<blockquote>\n  <p>and property file set configuration like bellow log4j.properties</p>\n</blockquote>\n\n<pre><code># Root logger option\nlog4j.rootLogger=DEBUG, stdout, file\n\n# Redirect log messages to console\nlog4j.appender.stdout=org.apache.log4j.ConsoleAppender\nlog4j.appender.stdout.Target=System.out\nlog4j.appender.stdout.layout=org.apache.log4j.PatternLayout\nlog4j.appender.stdout.layout.ConversionPattern=%d{yyyy-MM-dd HH:mm:ss} %-5p %c{1}:%L - %m%n\n\n# Redirect log messages to a log file\nlog4j.appender.file=org.apache.log4j.RollingFileAppender\nlog4j.appender.file.File= fullpath /myLog.log\nlog4j.appender.file.MaxFileSize=5MB\nlog4j.appender.file.MaxBackupIndex=10\nlog4j.appender.file.layout=org.apache.log4j.PatternLayout\nlog4j.appender.file.layout.ConversionPattern=%d{yyyy-MM-dd HH:mm:ss} %-5p %c{1}:%L - %m%n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":72506,"reputation":5267,"user_id":209310,"accept_rate":42,"display_name":"Vladimir Kroz"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1511416147,"creation_date":1481468429,"answer_id":41087529,"question_id":9305535,"body_markdown":"The problem is that the logger system cannot find your config file. To fix it you have several options:\r\n\r\n1. If you need to keep logger config outside of your packaged classes (which you usually do in real production system) then &lt;br/&gt;\r\n- put your logger config file somewhere on file system outside of your classpath (e.g. `/etc/my_great_app/log4j.xml` )&lt;br/&gt;\r\n- Include path to your config in your Java application command line, like this \r\n```\r\n-Dlog4j.configuration=&lt;path log4j config&gt;\r\n```\r\ne.g.\r\n```\r\n        -Dlog4j.configuration=file:///etc/my_great_app/log4j.xml\r\n```\r\nNote that path must include prefix `file://`. \r\n\r\n2. If you&#39;d like to keep your log4j configuration along with your code (which is typical for unit tests), then all you need to do - just make sure that log4 config location is part of the classpath. For example if you&#39;re using maven, just store your `log4j.properties` in `src/main/resources` directory\r\n\r\nRegarding difference between `log4j.properties` vs `log4j.xml`. They are just 2 different ways to define same configuration for log4j logger. You don&#39;t need both files, just decide what format you like more and use it :)\r\n","title":"Log4j cannot find properties file in a simple application","body":"<p>The problem is that the logger system cannot find your config file. To fix it you have several options:</p>\n\n<ol>\n<li><p>If you need to keep logger config outside of your packaged classes (which you usually do in real production system) then <br/></p>\n\n<ul>\n<li>put your logger config file somewhere on file system outside of your classpath (e.g. <code>/etc/my_great_app/log4j.xml</code> )<br/></li>\n<li>Include path to your config in your Java application command line, like this \n<code>\n-Dlog4j.configuration=&lt;path log4j config&gt;\n</code>\ne.g.\n<code>\n-Dlog4j.configuration=file:///etc/my_great_app/log4j.xml\n</code>\nNote that path must include prefix <code>file://</code>. </li>\n</ul></li>\n<li><p>If you'd like to keep your log4j configuration along with your code (which is typical for unit tests), then all you need to do - just make sure that log4 config location is part of the classpath. For example if you're using maven, just store your <code>log4j.properties</code> in <code>src/main/resources</code> directory</p></li>\n</ol>\n\n<p>Regarding difference between <code>log4j.properties</code> vs <code>log4j.xml</code>. They are just 2 different ways to define same configuration for log4j logger. You don't need both files, just decide what format you like more and use it :)</p>\n"},{"tags":[],"owner":{"account_id":10960916,"reputation":296,"user_id":8054264,"display_name":"Ashish Jha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1611325933,"creation_date":1504786329,"answer_id":46096022,"question_id":9305535,"body_markdown":"You can keep your `log4j.properties` file any location in your project. \r\nAnd then load your file \r\n\r\n    private static Logger logger = null;\r\n    \r\n    static {\r\n    \tSystem.setProperty(&quot;log4j.configurationFile&quot;, &quot;C:\\\\Users\\\\jhaas\\\\Workspace_3.0.30\\\\RestClient\\\\conf\\\\log4j.properties&quot;);\r\n    }\r\n\r\n\r\nIt is similar to set the VM argument in eclipse like\r\n\r\n`-Dlog4j.configurationFile= &quot;C:\\\\Users\\\\jhaas\\\\Workspace_3.0.30\\\\RestClient\\\\src\\\\main\\\\resources\\\\log4j.properties&quot;`\r\n\r\n\r\nBetter approach is to have it in your code rather than setting into the eclipse VM argument.\r\n","title":"Log4j cannot find properties file in a simple application","body":"<p>You can keep your <code>log4j.properties</code> file any location in your project.\nAnd then load your file</p>\n<pre><code>private static Logger logger = null;\n\nstatic {\n    System.setProperty(&quot;log4j.configurationFile&quot;, &quot;C:\\\\Users\\\\jhaas\\\\Workspace_3.0.30\\\\RestClient\\\\conf\\\\log4j.properties&quot;);\n}\n</code></pre>\n<p>It is similar to set the VM argument in eclipse like</p>\n<p><code>-Dlog4j.configurationFile= &quot;C:\\\\Users\\\\jhaas\\\\Workspace_3.0.30\\\\RestClient\\\\src\\\\main\\\\resources\\\\log4j.properties&quot;</code></p>\n<p>Better approach is to have it in your code rather than setting into the eclipse VM argument.</p>\n"},{"tags":[],"owner":{"account_id":10228822,"reputation":67,"user_id":7550371,"display_name":"Shajitha Begum K"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643356310,"creation_date":1643086788,"answer_id":70843622,"question_id":9305535,"body_markdown":"`log4j.xml` or `log4j.properties` files should be under root source folder `src/main/resources`. \r\n\r\nCreate new source folder `src/main/resources` and place the `property` or `xml` file there. It should solve the problem","title":"Log4j cannot find properties file in a simple application","body":"<p><code>log4j.xml</code> or <code>log4j.properties</code> files should be under root source folder <code>src/main/resources</code>.</p>\n<p>Create new source folder <code>src/main/resources</code> and place the <code>property</code> or <code>xml</code> file there. It should solve the problem</p>\n"}],"owner":{"account_id":910225,"reputation":1152,"user_id":944251,"accept_rate":80,"display_name":"Michael"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27861,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":9306716,"answer_count":7,"score":2,"last_activity_date":1643356310,"creation_date":1329366345,"question_id":9305535,"body_markdown":"I have a very simple application that illustrates the function of logging. I use log4j. But I have some trouble with the settings. I downloaded the file **log4j-1.2.16.jar**. And connect it to my project by **Properties -&gt; Java Build Path -&gt; Libraries -&gt; Add External JARs...**. Here are my class:\r\n\r\n    package ru.log4j.log4jhelloworld;\r\n\r\n    import org.apache.log4j.Logger;\r\n\r\n    public class MyClass {\r\n        private static final Logger logger = Logger.getLogger(MyClass.class);\r\n        public static void main(String[] args) {\r\n    \t    logger.info(&quot;Hello World!&quot;);        \r\n        }\r\n    }  \r\n\r\nMy **log4j.xml**:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;\r\n    &lt;!DOCTYPE log4j:configuration SYSTEM &quot;log4j.dtd&quot;&gt;\r\n\r\n    &lt;log4j:configuration xmlns:log4j=&quot;http://jakarta.apache.org/log4j/&quot;&gt;\r\n\r\n      &lt;appender name=&quot;console&quot; class=&quot;org.apache.log4j.ConsoleAppender&quot;&gt;\r\n        &lt;param name=&quot;Target&quot; value=&quot;System.out&quot;/&gt;\r\n        &lt;layout class=&quot;org.apache.log4j.PatternLayout&quot;&gt;\r\n          &lt;param name=&quot;ConversionPattern&quot; value=&quot;aa %p %c: %m%n&quot;/&gt;\r\n        &lt;/layout&gt;\r\n      &lt;/appender&gt;    \r\n      &lt;!--Root logger--&gt;\r\n      &lt;root&gt;\r\n        &lt;priority value =&quot;debug&quot; /&gt;\r\n        &lt;appender-ref ref=&quot;console&quot; /&gt;\r\n      &lt;/root&gt;\r\n\r\n    &lt;/log4j:configuration&gt;  \r\n\r\nAnd my **log4j.properties**:\r\n\r\n    log4j.rootCategory=DEBUG, console\r\n    log4j.appender.console=org.apache.log4j.ConsoleAppender\r\n    log4j.appender.console.layout=org.apache.log4j.PatternLayout\r\n    log4j.appender.console.layout.ConversionPattern= %p %c: %m%n\r\n\r\n In the console displays these exceptions: \r\n\r\n    log4j:WARN No appenders could be found for logger (ru.log4j.log4jhelloworld.MyClass).\r\n    log4j:WARN Please initialize the log4j system properly.\r\n    log4j:WARN See http://logging.apache.org/log4j/1.2/faq.html#noconfig for more info.\r\n\r\nI do not know how I was supposed to create and connect other supporting files, such as **log4j.xml** and **log4j.properties**. And be sure whether they need? In what directory they should be located? What should I still register? Here is my project structure\r\n\r\n [![screen][1]][1]\n&lt;!-- source: http://s017.radikal.ru/i433/1202/81/b2739aedc39d.jpg --&gt;. \r\n\r\nI&#39;m guessing that the error in this. What is my problem? Help me please!\n [1]: https://i.stack.imgur.com/jGrpt.jpg","title":"Log4j cannot find properties file in a simple application","body":"<p>I have a very simple application that illustrates the function of logging. I use log4j. But I have some trouble with the settings. I downloaded the file <strong>log4j-1.2.16.jar</strong>. And connect it to my project by <strong>Properties -> Java Build Path -> Libraries -> Add External JARs...</strong>. Here are my class:</p>\n\n<pre><code>package ru.log4j.log4jhelloworld;\n\nimport org.apache.log4j.Logger;\n\npublic class MyClass {\n    private static final Logger logger = Logger.getLogger(MyClass.class);\n    public static void main(String[] args) {\n        logger.info(\"Hello World!\");        \n    }\n}  \n</code></pre>\n\n<p>My <strong>log4j.xml</strong>:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\" ?&gt;\n&lt;!DOCTYPE log4j:configuration SYSTEM \"log4j.dtd\"&gt;\n\n&lt;log4j:configuration xmlns:log4j=\"http://jakarta.apache.org/log4j/\"&gt;\n\n  &lt;appender name=\"console\" class=\"org.apache.log4j.ConsoleAppender\"&gt;\n    &lt;param name=\"Target\" value=\"System.out\"/&gt;\n    &lt;layout class=\"org.apache.log4j.PatternLayout\"&gt;\n      &lt;param name=\"ConversionPattern\" value=\"aa %p %c: %m%n\"/&gt;\n    &lt;/layout&gt;\n  &lt;/appender&gt;    \n  &lt;!--Root logger--&gt;\n  &lt;root&gt;\n    &lt;priority value =\"debug\" /&gt;\n    &lt;appender-ref ref=\"console\" /&gt;\n  &lt;/root&gt;\n\n&lt;/log4j:configuration&gt;  \n</code></pre>\n\n<p>And my <strong>log4j.properties</strong>:</p>\n\n<pre><code>log4j.rootCategory=DEBUG, console\nlog4j.appender.console=org.apache.log4j.ConsoleAppender\nlog4j.appender.console.layout=org.apache.log4j.PatternLayout\nlog4j.appender.console.layout.ConversionPattern= %p %c: %m%n\n</code></pre>\n\n<p>In the console displays these exceptions: </p>\n\n<pre><code>log4j:WARN No appenders could be found for logger (ru.log4j.log4jhelloworld.MyClass).\nlog4j:WARN Please initialize the log4j system properly.\nlog4j:WARN See http://logging.apache.org/log4j/1.2/faq.html#noconfig for more info.\n</code></pre>\n\n<p>I do not know how I was supposed to create and connect other supporting files, such as <strong>log4j.xml</strong> and <strong>log4j.properties</strong>. And be sure whether they need? In what directory they should be located? What should I still register? Here is my project structure</p>\n\n<p><a href=\"https://i.stack.imgur.com/jGrpt.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jGrpt.jpg\" alt=\"screen\"></a>\n. </p>\n\n<p>I'm guessing that the error in this. What is my problem? Help me please!</p>\n"},{"tags":["java","xml","intellij-idea","testng","intellij-plugin"],"answers":[{"tags":[],"owner":{"account_id":2754481,"reputation":51,"user_id":2372998,"display_name":"NHK"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643356256,"creation_date":1643044465,"answer_id":70837795,"question_id":37659684,"body_markdown":"Try this:\r\n\r\nOn IntelliJ, go to `Run &gt; Edit Configurations &gt; Select tab Configuration &gt; Select tab Parameters`.\r\n\r\nThere, add the desired parameters.","title":"IntelliJ TestNG customsuite do not copy parameters","body":"<p>Try this:</p>\n<p>On IntelliJ, go to <code>Run &gt; Edit Configurations &gt; Select tab Configuration &gt; Select tab Parameters</code>.</p>\n<p>There, add the desired parameters.</p>\n"}],"owner":{"account_id":3946480,"reputation":1141,"user_id":3258879,"accept_rate":44,"display_name":"Robert Moszczynski"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":403,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1643356256,"creation_date":1465222267,"question_id":37659684,"body_markdown":"I have a issue with the TestNG plugin in IntelliJ. I run my tests by using a ``testng.xml``. The I define parameters on the suite and test level.\r\n\r\nIf I want to run only one test from IntelliJ by selecting it and run as debug, IntelliJ copies the test into a temporary testng.xml like this one:\r\n\r\n    /Users/robert/Library/Caches/IntelliJIdea2016.1/temp-testng-customsuite.xml\r\n\r\nThe problem is, the suite has no parameters defined in my ``testng.xml`` file. So TestNG ignores the test because it misses the parameters that doesn&#39;t match to the test ``@Parameters`` declaration.\r\n\r\nHow to run a single TestNG test in IntelliJ with using of parametrized ``testng.xml``?\r\n\r\n\r\nBest regards\r\nRobert","title":"IntelliJ TestNG customsuite do not copy parameters","body":"<p>I have a issue with the TestNG plugin in IntelliJ. I run my tests by using a <code>testng.xml</code>. The I define parameters on the suite and test level.</p>\n\n<p>If I want to run only one test from IntelliJ by selecting it and run as debug, IntelliJ copies the test into a temporary testng.xml like this one:</p>\n\n<pre><code>/Users/robert/Library/Caches/IntelliJIdea2016.1/temp-testng-customsuite.xml\n</code></pre>\n\n<p>The problem is, the suite has no parameters defined in my <code>testng.xml</code> file. So TestNG ignores the test because it misses the parameters that doesn't match to the test <code>@Parameters</code> declaration.</p>\n\n<p>How to run a single TestNG test in IntelliJ with using of parametrized <code>testng.xml</code>?</p>\n\n<p>Best regards\nRobert</p>\n"},{"tags":["java","multithreading","jdbc"],"comments":[{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":1,"creation_date":1643334682,"post_id":70887918,"comment_id":125318589,"body_markdown":"Please include the complete implementation of the `Database` class in the question","body":"Please include the complete implementation of the <code>Database</code> class in the question"}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1643348350,"creation_date":1643336083,"answer_id":70888086,"question_id":70887918,"body_markdown":"I think that the problem is the `wait` / `notifyAll` code.\r\n\r\nYou are waiting / notifying on `this`.  In this context that will be the `Runnable` instances that you are submitting to the `ExecutorService`.  They are all different objects.  So the `notifyAll` notifications will not be going to reach the `Runnable` objects that are waiting.\r\n\r\n-----------------\r\n\r\nBut I think that I should point out that the *strategy* that you are trying to implement here is (basically) wrong.  It looks like you are trying to use one database connection and share it between multiple threads.  Effectively, all database INSERT operations will be single-threaded; i.e. no parallelism in the database operations.\r\n\r\nIf you want parallelism, use multiple connections managed by an off-the-shelf JDBC connection pool.  That will also avoid the overhead of opening and closing database connections for each INSERT ... as your current implementation *might* be doing.  (We can&#39;t see the relevant code.)\r\n\r\nBut if you want *good insert performance*, don&#39;t do transactions that consist of a single INSERT statement.  Instead use JDBC&#39;s batch mechanism or multi-row INSERT statements.","title":"Saving records to database using threads","body":"<p>I think that the problem is the <code>wait</code> / <code>notifyAll</code> code.</p>\n<p>You are waiting / notifying on <code>this</code>.  In this context that will be the <code>Runnable</code> instances that you are submitting to the <code>ExecutorService</code>.  They are all different objects.  So the <code>notifyAll</code> notifications will not be going to reach the <code>Runnable</code> objects that are waiting.</p>\n<hr />\n<p>But I think that I should point out that the <em>strategy</em> that you are trying to implement here is (basically) wrong.  It looks like you are trying to use one database connection and share it between multiple threads.  Effectively, all database INSERT operations will be single-threaded; i.e. no parallelism in the database operations.</p>\n<p>If you want parallelism, use multiple connections managed by an off-the-shelf JDBC connection pool.  That will also avoid the overhead of opening and closing database connections for each INSERT ... as your current implementation <em>might</em> be doing.  (We can't see the relevant code.)</p>\n<p>But if you want <em>good insert performance</em>, don't do transactions that consist of a single INSERT statement.  Instead use JDBC's batch mechanism or multi-row INSERT statements.</p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643356042,"creation_date":1643355271,"answer_id":70890244,"question_id":70887918,"body_markdown":"# `DataSource`\r\n\r\nI agree with the [Answer by Stephen C][1], except for the part advocating the use of a connection pool. IMHO, the need for connection pooling is commonly oversold, and the risks/issues underplayed. As for his main point, I concur: You are likely headed for trouble in trying to share a `Connection` object. I got apprehensive just seeing `static Connection`, as there should be no need to ever keep a `Connection` around via a `static`.\r\n\r\nInstead of focusing on passing around a `Connection` object, I suggest you instead pass around a [`DataSource`][2] object. A `DataSource` holds all the information needed to connect to a database. Or, if you decide on connection pooling, a `DataSource` object can be the front door to accessing that pool. Either way, using a `DataSource` is simple, as it mainly consists of the method `getConnection`, returning a `Connection` object.\r\n\r\nYou can hard-code a `DataSource` object with the database info such as database server address, database username &amp; password, and so on. Or you can externalize those details to be configured at runtime by an administrator in a [directory/naming service][3] like an [LDAP][4] server, or in a [Jakarta EE][5] server. Use [JNDI][6] in Java to obtain the externalized `DataSource` object. \r\n\r\nFor example, with the [H2 Database Engine][7], use the bundled implemantion of `DataSource`, [`org.h2.jdbcx.JdbcDataSource`][8]. Here is some code showing how to hard-code the `DataSource` info.\r\n\r\n```java\r\npublic javax.sql.DataSource configureDataSource() {\r\n    org.h2.jdbcx.JdbcDataSource ds = Objects.requireNonNull( new JdbcDataSource() );  // Implementation of `DataSource` bundled with H2.\r\n    ds.setURL( &quot;jdbc:h2:/path/to/database_file;&quot; );\r\n    ds.setUser( &quot;scott&quot; );\r\n    ds.setPassword( &quot;tiger&quot; );\r\n    ds.setDescription( &quot;An example database showing how to use DataSource.&quot; );\r\n    return ds ;\r\n}\r\n```\r\n\r\nKeep that `DataSource` object around for later use. This object merely holds connection info (or access to a connection pool). Pass to your JDBC code.\r\n\r\nBy the way, a big tip for you: Use [try-with-resources][9] syntax to automatically close your resources such as `Connection`, `Statement`, and `ResultSet`.\r\n\r\nI also recommend making a habit of properly terminating your SQL statements with a SEMICOLON (`;`). \r\n\r\nAdd a second `catch`, in addition to `SQLException`, for the more specific exception also thrown by `DataSource#getConnection`: [`SQLTimeoutException`][10]. This exception is for when the driver has determined that the timeout value specified by the `setLoginTimeout` method has been exceeded. \r\n\r\n```java\r\npublic void saveNewCategory( Category newCategory, DataSource ds ){\r\n        String sql = &quot;INSERT INTO CATEGORY( NAME, DESCRIPTION ) VALUES( ?, ? ) ;&quot;;\r\n        try (\r\n            Connection conn = ds.getConnection() ;\r\n            PreparedStatement ps = conn.prepareStatement( sql );\r\n        ) {\r\n            ps.setString( 1, newCategory.getName() );\r\n            ps.setString( 2, newCategory.getDescription() );\r\n            ps.executeUpdate();\r\n        } catch ( SQLTimeoutException e ) {\r\n            … \r\n        } catch ( SQLException e ) {\r\n            … \r\n        }\r\n}\r\n```\r\n\r\nNotice in the code above how the try-with-resources syntax will automatically close both the `Connection` and `PreparedStatement` objects, if they are successfully opened. We do not want to leave that `Connection` object left open any longer than is necessary. \r\n\r\n# Executor service\r\n\r\nAs for using concurrency with threads, using a `DataSource` probably simplifies your code significantly. \r\n\r\nEarly on, define a `ExecutorService` object, and keep it around. If you want a single task to be executed at a time, use a single-threaded service. If you want concurrent tasks, use a service backed by a pool of threads. \r\n\r\nEither way, use `Executors` utility class to obtain a `ExecutorService` as seen in your code. Keep this `ExecutorService` object around, for repeated use. \r\n\r\n```java\r\nExecutorService executorService = Executors.newCachedThreadPool();\r\n…\r\n```\r\n\r\nWhen you are ready to persist one of your `Category` objects, define a task and pass to the executor service. As your code shows, the task is defined as a [`Runnable`][11] or a `Callable`. \r\n\r\nBut the name `SaveCategoryThread` you chose for your `Runnable` task suggests you are thinking about managing threads. That is not what a `Runnable` is about. The `Runnable` is the work to be done, without regard for threads. A `Runnable` can be executed on the same thread, as is appropriate to some situations. So the **`Runnable` is *not* in charge of threads**. Managing threads is the job of the `ExecutorService`. \r\n\r\n```java\r\npublic class SaveNewCategoryTask implements Runnable {\r\n    // Member fields. \r\n    DataSource dataSource;\r\n    Category newCategory ;\r\n\r\n    // Constructor\r\n    public SaveNewCategoryTask ( Category newCategory , DataSource dataSource ) {\r\n        this.newCategory = newCategory ; // Remember the passed argument.\r\n        this.dataSource = dataSource ; // Remember the passed argument.\r\n    }\r\n\r\n    @Override\r\n    public void run() {\r\n        saveNewCategory( this.newCategory , this.dataSource ) ;\r\n    }\r\n}\r\n```\r\n\r\nNotice how our `Runnable` is no longer tracking connections or exceptions. All the database exchange details are contained within the `saveNewCategory` method. It is generally best to keep the `Runnable` task class as simple as possible. Its job is to simply hold info until needed, when its `run` method is eventually executed. \r\n\r\nUsage:\r\n\r\n    // Retrieve that `DataSource` object you established early on in your app’s lifecycle.\r\n    DataSource ds = … retrieve existing object … ;\r\n    // Retrieve the `ExecutorService` object you established early on in your app’s lifecycle.\r\n    ExecutorService es = … retrieve existing object … ;\r\n    es.submit( new SaveNewCategoryTask( newCategory , ds ) ) ;\r\n\r\nI am not entirely sure of your intent with using `wait` and `notifyAll`. It seems you are trying to manage simultaneous access to a single `Connection` object. As Stephen C explains in other Answer, that is basically a wrong approach, fraught with peril. Hopefully I have shown that such an approach is also unnecessary and needlessly complicated. \r\n\r\n# JavaFX\r\n\r\nAll the above discussion was aimed at Java in general. \r\n\r\nBut you mentioned [JavaFX][12]. JavaFX has [its own concurrency utilities][13]. I am not familiar with those. Hopefully the above code helps establish some general concepts and guidelines, but you may need to modify to work properly with JavaFX. \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/70887918/saving-records-to-database-using-threads-java\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.sql/javax/sql/DataSource.html\r\n  [3]: https://en.wikipedia.org/wiki/Directory_service\r\n  [4]: https://en.wikipedia.org/wiki/Lightweight_Directory_Access_Protocol\r\n  [5]: https://en.wikipedia.org/wiki/Jakarta_EE\r\n  [6]: https://en.wikipedia.org/wiki/Java_Naming_and_Directory_Interface\r\n  [7]: https://en.wikipedia.org/wiki/H2_(DBMS)\r\n  [8]: https://h2database.com/javadoc/org/h2/jdbcx/JdbcDataSource.html\r\n  [9]: https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\r\n  [10]: https://docs.oracle.com/en/java/javase/17/docs/api/java.sql/java/sql/SQLTimeoutException.html\r\n  [11]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Runnable.html\r\n  [12]: https://en.wikipedia.org/wiki/JavaFX\r\n  [13]: https://docs.oracle.com/javase/8/javafx/interoperability-tutorial/concurrency.htm","title":"Saving records to database using threads","body":"<h1><code>DataSource</code></h1>\n<p>I agree with the <a href=\"https://stackoverflow.com/questions/70887918/saving-records-to-database-using-threads-java\">Answer by Stephen C</a>, except for the part advocating the use of a connection pool. IMHO, the need for connection pooling is commonly oversold, and the risks/issues underplayed. As for his main point, I concur: You are likely headed for trouble in trying to share a <code>Connection</code> object. I got apprehensive just seeing <code>static Connection</code>, as there should be no need to ever keep a <code>Connection</code> around via a <code>static</code>.</p>\n<p>Instead of focusing on passing around a <code>Connection</code> object, I suggest you instead pass around a <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.sql/javax/sql/DataSource.html\" rel=\"nofollow noreferrer\"><code>DataSource</code></a> object. A <code>DataSource</code> holds all the information needed to connect to a database. Or, if you decide on connection pooling, a <code>DataSource</code> object can be the front door to accessing that pool. Either way, using a <code>DataSource</code> is simple, as it mainly consists of the method <code>getConnection</code>, returning a <code>Connection</code> object.</p>\n<p>You can hard-code a <code>DataSource</code> object with the database info such as database server address, database username &amp; password, and so on. Or you can externalize those details to be configured at runtime by an administrator in a <a href=\"https://en.wikipedia.org/wiki/Directory_service\" rel=\"nofollow noreferrer\">directory/naming service</a> like an <a href=\"https://en.wikipedia.org/wiki/Lightweight_Directory_Access_Protocol\" rel=\"nofollow noreferrer\">LDAP</a> server, or in a <a href=\"https://en.wikipedia.org/wiki/Jakarta_EE\" rel=\"nofollow noreferrer\">Jakarta EE</a> server. Use <a href=\"https://en.wikipedia.org/wiki/Java_Naming_and_Directory_Interface\" rel=\"nofollow noreferrer\">JNDI</a> in Java to obtain the externalized <code>DataSource</code> object.</p>\n<p>For example, with the <a href=\"https://en.wikipedia.org/wiki/H2_(DBMS)\" rel=\"nofollow noreferrer\">H2 Database Engine</a>, use the bundled implemantion of <code>DataSource</code>, <a href=\"https://h2database.com/javadoc/org/h2/jdbcx/JdbcDataSource.html\" rel=\"nofollow noreferrer\"><code>org.h2.jdbcx.JdbcDataSource</code></a>. Here is some code showing how to hard-code the <code>DataSource</code> info.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public javax.sql.DataSource configureDataSource() {\n    org.h2.jdbcx.JdbcDataSource ds = Objects.requireNonNull( new JdbcDataSource() );  // Implementation of `DataSource` bundled with H2.\n    ds.setURL( &quot;jdbc:h2:/path/to/database_file;&quot; );\n    ds.setUser( &quot;scott&quot; );\n    ds.setPassword( &quot;tiger&quot; );\n    ds.setDescription( &quot;An example database showing how to use DataSource.&quot; );\n    return ds ;\n}\n</code></pre>\n<p>Keep that <code>DataSource</code> object around for later use. This object merely holds connection info (or access to a connection pool). Pass to your JDBC code.</p>\n<p>By the way, a big tip for you: Use <a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\" rel=\"nofollow noreferrer\">try-with-resources</a> syntax to automatically close your resources such as <code>Connection</code>, <code>Statement</code>, and <code>ResultSet</code>.</p>\n<p>I also recommend making a habit of properly terminating your SQL statements with a SEMICOLON (<code>;</code>).</p>\n<p>Add a second <code>catch</code>, in addition to <code>SQLException</code>, for the more specific exception also thrown by <code>DataSource#getConnection</code>: <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.sql/java/sql/SQLTimeoutException.html\" rel=\"nofollow noreferrer\"><code>SQLTimeoutException</code></a>. This exception is for when the driver has determined that the timeout value specified by the <code>setLoginTimeout</code> method has been exceeded.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void saveNewCategory( Category newCategory, DataSource ds ){\n        String sql = &quot;INSERT INTO CATEGORY( NAME, DESCRIPTION ) VALUES( ?, ? ) ;&quot;;\n        try (\n            Connection conn = ds.getConnection() ;\n            PreparedStatement ps = conn.prepareStatement( sql );\n        ) {\n            ps.setString( 1, newCategory.getName() );\n            ps.setString( 2, newCategory.getDescription() );\n            ps.executeUpdate();\n        } catch ( SQLTimeoutException e ) {\n            … \n        } catch ( SQLException e ) {\n            … \n        }\n}\n</code></pre>\n<p>Notice in the code above how the try-with-resources syntax will automatically close both the <code>Connection</code> and <code>PreparedStatement</code> objects, if they are successfully opened. We do not want to leave that <code>Connection</code> object left open any longer than is necessary.</p>\n<h1>Executor service</h1>\n<p>As for using concurrency with threads, using a <code>DataSource</code> probably simplifies your code significantly.</p>\n<p>Early on, define a <code>ExecutorService</code> object, and keep it around. If you want a single task to be executed at a time, use a single-threaded service. If you want concurrent tasks, use a service backed by a pool of threads.</p>\n<p>Either way, use <code>Executors</code> utility class to obtain a <code>ExecutorService</code> as seen in your code. Keep this <code>ExecutorService</code> object around, for repeated use.</p>\n<pre class=\"lang-java prettyprint-override\"><code>ExecutorService executorService = Executors.newCachedThreadPool();\n…\n</code></pre>\n<p>When you are ready to persist one of your <code>Category</code> objects, define a task and pass to the executor service. As your code shows, the task is defined as a <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Runnable.html\" rel=\"nofollow noreferrer\"><code>Runnable</code></a> or a <code>Callable</code>.</p>\n<p>But the name <code>SaveCategoryThread</code> you chose for your <code>Runnable</code> task suggests you are thinking about managing threads. That is not what a <code>Runnable</code> is about. The <code>Runnable</code> is the work to be done, without regard for threads. A <code>Runnable</code> can be executed on the same thread, as is appropriate to some situations. So the <strong><code>Runnable</code> is <em>not</em> in charge of threads</strong>. Managing threads is the job of the <code>ExecutorService</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class SaveNewCategoryTask implements Runnable {\n    // Member fields. \n    DataSource dataSource;\n    Category newCategory ;\n\n    // Constructor\n    public SaveNewCategoryTask ( Category newCategory , DataSource dataSource ) {\n        this.newCategory = newCategory ; // Remember the passed argument.\n        this.dataSource = dataSource ; // Remember the passed argument.\n    }\n\n    @Override\n    public void run() {\n        saveNewCategory( this.newCategory , this.dataSource ) ;\n    }\n}\n</code></pre>\n<p>Notice how our <code>Runnable</code> is no longer tracking connections or exceptions. All the database exchange details are contained within the <code>saveNewCategory</code> method. It is generally best to keep the <code>Runnable</code> task class as simple as possible. Its job is to simply hold info until needed, when its <code>run</code> method is eventually executed.</p>\n<p>Usage:</p>\n<pre><code>// Retrieve that `DataSource` object you established early on in your app’s lifecycle.\nDataSource ds = … retrieve existing object … ;\n// Retrieve the `ExecutorService` object you established early on in your app’s lifecycle.\nExecutorService es = … retrieve existing object … ;\nes.submit( new SaveNewCategoryTask( newCategory , ds ) ) ;\n</code></pre>\n<p>I am not entirely sure of your intent with using <code>wait</code> and <code>notifyAll</code>. It seems you are trying to manage simultaneous access to a single <code>Connection</code> object. As Stephen C explains in other Answer, that is basically a wrong approach, fraught with peril. Hopefully I have shown that such an approach is also unnecessary and needlessly complicated.</p>\n<h1>JavaFX</h1>\n<p>All the above discussion was aimed at Java in general.</p>\n<p>But you mentioned <a href=\"https://en.wikipedia.org/wiki/JavaFX\" rel=\"nofollow noreferrer\">JavaFX</a>. JavaFX has <a href=\"https://docs.oracle.com/javase/8/javafx/interoperability-tutorial/concurrency.htm\" rel=\"nofollow noreferrer\">its own concurrency utilities</a>. I am not familiar with those. Hopefully the above code helps establish some general concepts and guidelines, but you may need to modify to work properly with JavaFX.</p>\n"}],"owner":{"account_id":23256932,"reputation":99,"user_id":17343844,"display_name":"JurajC"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1312,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70888086,"answer_count":2,"score":1,"last_activity_date":1643356042,"creation_date":1643334079,"question_id":70887918,"body_markdown":"I have to save a record to H2 database using threads.\r\n\r\nThis is the method in my database class that&#39;s used to save a category, a class that has name and description, into database:\r\n\r\n```java\r\npublic static void saveNewCategory(Category newCategory, Connection connection){\r\n    try {\r\n        String sql = &quot;INSERT INTO CATEGORY(NAME, DESCRIPTION) VALUES(?, ?)&quot;;\r\n        PreparedStatement ps = connection.prepareStatement(sql);\r\n\r\n        ps.setString(1, newCategory.getName());\r\n        ps.setString(2, newCategory.getDescription());\r\n\r\n        ps.executeUpdate();\r\n\r\n    } catch (SQLException e) {\r\n        e.printStackTrace();\r\n    }\r\n}\r\n```\r\n\r\nThis is my thread class which is supposed to implement that principle and save it into database using threads\r\n\r\n```java\r\npublic class SaveCategoryThread implements Runnable{\r\n\r\n    private static Connection connectToDatabase;\r\n    private Category category;\r\n\r\n    public SaveCategoryThread(Category categoryC) {\r\n        category=categoryC;\r\n    }\r\n\r\n    @Override\r\n    public void run() {\r\n        try {\r\n            openConnectionWithDatabase();\r\n\r\n            Database.saveNewCategory(category,connectToDatabase);\r\n\r\n        } catch (IOException | SQLException e) {\r\n            e.printStackTrace();\r\n        } finally {\r\n            closeConnectionWithDatabase();\r\n        }\r\n    }\r\n\r\n    public synchronized void openConnectionWithDatabase() throws IOException, SQLException {\r\n        if (Database.activeConnectionWithDatabase) {\r\n            try {\r\n                wait();\r\n                System.out.println(&quot;Connection is busy&quot;);\r\n            } catch (InterruptedException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n        connectToDatabase = Database.connectToDatabase();\r\n    }\r\n\r\n    public synchronized void closeConnectionWithDatabase() {\r\n        try {\r\n            Database.disconnectFromDatabase(connectToDatabase);\r\n        } catch (SQLException ex) {\r\n            ex.printStackTrace();\r\n        }\r\n\r\n        notifyAll();\r\n    }\r\n}\r\n```\r\n\r\nAnd this is how I am executing it in my JavaFX class which takes user input\r\n\r\n```java\r\nExecutorService es = Executors.newCachedThreadPool();\r\nes.execute(new SaveCategoryThread(category));\r\n```\r\n\r\nBut it&#39;s not working, no errors or anything, but the result isn&#39;t saved into the database.","title":"Saving records to database using threads","body":"<p>I have to save a record to H2 database using threads.</p>\n<p>This is the method in my database class that's used to save a category, a class that has name and description, into database:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void saveNewCategory(Category newCategory, Connection connection){\n    try {\n        String sql = &quot;INSERT INTO CATEGORY(NAME, DESCRIPTION) VALUES(?, ?)&quot;;\n        PreparedStatement ps = connection.prepareStatement(sql);\n\n        ps.setString(1, newCategory.getName());\n        ps.setString(2, newCategory.getDescription());\n\n        ps.executeUpdate();\n\n    } catch (SQLException e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n<p>This is my thread class which is supposed to implement that principle and save it into database using threads</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class SaveCategoryThread implements Runnable{\n\n    private static Connection connectToDatabase;\n    private Category category;\n\n    public SaveCategoryThread(Category categoryC) {\n        category=categoryC;\n    }\n\n    @Override\n    public void run() {\n        try {\n            openConnectionWithDatabase();\n\n            Database.saveNewCategory(category,connectToDatabase);\n\n        } catch (IOException | SQLException e) {\n            e.printStackTrace();\n        } finally {\n            closeConnectionWithDatabase();\n        }\n    }\n\n    public synchronized void openConnectionWithDatabase() throws IOException, SQLException {\n        if (Database.activeConnectionWithDatabase) {\n            try {\n                wait();\n                System.out.println(&quot;Connection is busy&quot;);\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n        }\n        connectToDatabase = Database.connectToDatabase();\n    }\n\n    public synchronized void closeConnectionWithDatabase() {\n        try {\n            Database.disconnectFromDatabase(connectToDatabase);\n        } catch (SQLException ex) {\n            ex.printStackTrace();\n        }\n\n        notifyAll();\n    }\n}\n</code></pre>\n<p>And this is how I am executing it in my JavaFX class which takes user input</p>\n<pre class=\"lang-java prettyprint-override\"><code>ExecutorService es = Executors.newCachedThreadPool();\nes.execute(new SaveCategoryThread(category));\n</code></pre>\n<p>But it's not working, no errors or anything, but the result isn't saved into the database.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"score":3,"creation_date":1643355769,"post_id":70890312,"comment_id":125322314,"body_markdown":"&quot;Reference&quot; in &quot;method reference&quot; and in &quot;pass by reference&quot; does not hold the same meaning. It&#39;s all pass by value whether the invocation of a method follows a method reference or not.","body":"&quot;Reference&quot; in &quot;method reference&quot; and in &quot;pass by reference&quot; does not hold the same meaning. It&#39;s all pass by value whether the invocation of a method follows a method reference or not."},{"owner":{"account_id":956558,"reputation":30924,"user_id":981744,"display_name":"Erwin Bolwidt"},"score":1,"creation_date":1643356268,"post_id":70890312,"comment_id":125322429,"body_markdown":"References in Java are also passed by value. A method reference is just another type of reference. It doesn&#39;t change how anything is passed in Java (by value)","body":"References in Java are also passed by value. A method reference is just another type of reference. It doesn&#39;t change how anything is passed in Java (by value)"},{"owner":{"account_id":2366187,"reputation":60152,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":0,"creation_date":1643356638,"post_id":70890312,"comment_id":125322529,"body_markdown":"A method reference isn’t passed by anything. It’s syntactic sugar for a lambda (ish) and desugars to a `static` method invoked by `invokedynamic` (ish).","body":"A method reference isn’t passed by anything. It’s syntactic sugar for a lambda (ish) and desugars to a <code>static</code> method invoked by <code>invokedynamic</code> (ish)."}],"owner":{"account_id":20098354,"reputation":504,"user_id":14737400,"display_name":"miroana"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1643356534,"answer_count":0,"score":0,"last_activity_date":1643355701,"creation_date":1643355701,"question_id":70890312,"body_markdown":"I do know that values in Java are passed by value. \r\n\r\nresources:\r\n\r\nhttps://stackoverflow.com/questions/40480/is-java-pass-by-reference-or-pass-by-value\r\n\r\nhttps://www.journaldev.com/3884/java-is-pass-by-value-and-not-pass-by-reference\r\n[...]\r\n\r\nJust wanted to know if after introduction of method references (::) Java is still considered as passed by value.","title":"is Java pass by reference or pass by value after method references where introduced in the language","body":"<p>I do know that values in Java are passed by value.</p>\n<p>resources:</p>\n<p><a href=\"https://stackoverflow.com/questions/40480/is-java-pass-by-reference-or-pass-by-value\">Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?</a></p>\n<p><a href=\"https://www.journaldev.com/3884/java-is-pass-by-value-and-not-pass-by-reference\" rel=\"nofollow noreferrer\">https://www.journaldev.com/3884/java-is-pass-by-value-and-not-pass-by-reference</a>\n[...]</p>\n<p>Just wanted to know if after introduction of method references (::) Java is still considered as passed by value.</p>\n"},{"tags":["java","powerpoint","docx4j"],"answers":[{"tags":[],"owner":{"account_id":30580,"reputation":15467,"user_id":1031689,"accept_rate":67,"display_name":"JasonPlutext"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1426039986,"creation_date":1426039986,"answer_id":28977439,"question_id":28976905,"body_markdown":"    SlidePart extends JaxbPmlPart&lt;Sld&gt;\r\n    JaxbPmlPart&lt;E&gt; extends JaxbXmlPartXPathAware&lt;E&gt;\r\n    JaxbXmlPartXPathAware&lt;E&gt; extends JaxbXmlPart&lt;E&gt;\r\n    \r\nJaxbXmlPart&lt;E&gt; contains:\r\n\r\n\t/**\r\n\t * unmarshallFromTemplate.  Where jaxbElement has not been\r\n\t * unmarshalled yet, this is more efficient (3 times\r\n\t * faster, in some testing) than calling\r\n\t * XmlUtils.marshaltoString directly, since it avoids\r\n\t * some JAXB processing.  \r\n\t * \r\n\t * @param mappings\r\n\t * @throws JAXBException\r\n\t * @throws Docx4JException\r\n\t * \r\n\t * @since 3.0.0\r\n\t */\r\n\tpublic void variableReplace(java.util.HashMap&lt;String, String&gt; mappings) throws JAXBException, Docx4JException {\r\n\t\t\r\n\t\t// Get the contents as a string\r\n\t\tString wmlTemplateString = null;\r\n\t\tif (jaxbElement==null) {\r\n\r\n\t\t\tPartStore partStore = this.getPackage().getSourcePartStore();\r\n\t\t\tString name = this.getPartName().getName();\r\n\t\t\tInputStream is = partStore.loadPart( \r\n\t\t\t\t\tname.substring(1));\r\n\t\t\tif (is==null) {\r\n\t\t\t\tlog.warn(name + &quot; missing from part store&quot;);\r\n\t\t\t\tthrow new Docx4JException(name + &quot; missing from part store&quot;);\r\n\t\t\t} else {\r\n\t\t\t\tlog.info(&quot;Lazily unmarshalling &quot; + name);\r\n\t\t\t\t\r\n\t\t\t\t// This seems to be about 5% faster than the Scanner approach\r\n\t\t\t\ttry {\r\n\t\t\t\t\twmlTemplateString = IOUtils.toString(is, &quot;UTF-8&quot;);\r\n\t\t\t\t} catch (IOException e) {\r\n\t\t\t\t\tthrow new Docx4JException(e.getMessage(), e);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t} else {\r\n\t\t\t\r\n\t\t\twmlTemplateString = XmlUtils.marshaltoString(jaxbElement, true, false, jc);\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\t// Do the replacement\r\n\t\tjaxbElement = (E)XmlUtils.unwrap(\r\n\t\t\t\t\t\t\tXmlUtils.unmarshallFromTemplate(wmlTemplateString, mappings, jc));\r\n\t\t\r\n\t}\r\n\r\nSo once you have the slide part, you can invoke variableReplace on it.  You&#39;ll need your variables to be in the format expected by XmlUtils.unmarshallFromTemplate","title":"How to replace text in Powerpoint file with Java","body":"<pre><code>SlidePart extends JaxbPmlPart&lt;Sld&gt;\nJaxbPmlPart&lt;E&gt; extends JaxbXmlPartXPathAware&lt;E&gt;\nJaxbXmlPartXPathAware&lt;E&gt; extends JaxbXmlPart&lt;E&gt;\n</code></pre>\n\n<p>JaxbXmlPart contains:</p>\n\n<pre><code>/**\n * unmarshallFromTemplate.  Where jaxbElement has not been\n * unmarshalled yet, this is more efficient (3 times\n * faster, in some testing) than calling\n * XmlUtils.marshaltoString directly, since it avoids\n * some JAXB processing.  \n * \n * @param mappings\n * @throws JAXBException\n * @throws Docx4JException\n * \n * @since 3.0.0\n */\npublic void variableReplace(java.util.HashMap&lt;String, String&gt; mappings) throws JAXBException, Docx4JException {\n\n    // Get the contents as a string\n    String wmlTemplateString = null;\n    if (jaxbElement==null) {\n\n        PartStore partStore = this.getPackage().getSourcePartStore();\n        String name = this.getPartName().getName();\n        InputStream is = partStore.loadPart( \n                name.substring(1));\n        if (is==null) {\n            log.warn(name + \" missing from part store\");\n            throw new Docx4JException(name + \" missing from part store\");\n        } else {\n            log.info(\"Lazily unmarshalling \" + name);\n\n            // This seems to be about 5% faster than the Scanner approach\n            try {\n                wmlTemplateString = IOUtils.toString(is, \"UTF-8\");\n            } catch (IOException e) {\n                throw new Docx4JException(e.getMessage(), e);\n            }\n        }\n\n    } else {\n\n        wmlTemplateString = XmlUtils.marshaltoString(jaxbElement, true, false, jc);\n\n    }\n\n    // Do the replacement\n    jaxbElement = (E)XmlUtils.unwrap(\n                        XmlUtils.unmarshallFromTemplate(wmlTemplateString, mappings, jc));\n\n}\n</code></pre>\n\n<p>So once you have the slide part, you can invoke variableReplace on it.  You'll need your variables to be in the format expected by XmlUtils.unmarshallFromTemplate</p>\n"}],"owner":{"account_id":34671,"reputation":8309,"user_id":98044,"accept_rate":95,"display_name":"Vini"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":885,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":28977439,"answer_count":1,"score":0,"last_activity_date":1643355593,"creation_date":1426036145,"question_id":28976905,"body_markdown":"I have a requirement where I need to replace some text in a Powerpoint File at runtime. (Powerpoint file is being used as a template with some placeholders/tokes e.g. {{USER_NAME}})\r\nI have tried using POI but with no luck. \r\nI referred to the other links on the forum and started with &#39;docx4j&#39; but am not able to go beyond a point and the documentation is not very clear (at least for me).\r\nHere is what I have done so far:\r\nGot the PPTX loaded to &#39;PresentationMLPackage&#39; \r\nGot the &#39;MainPresentationPart&#39; and the slides (Using mainPresentationPart.getSlide(n);)\r\n\r\nBut I am not sure of the next steps from here (or if this is the right approach in the first place).\r\n\r\nAny suggestions will be greatly appreciated.\r\n\r\nThanks  a Lot,\r\n-Vini","title":"How to replace text in Powerpoint file with Java","body":"<p>I have a requirement where I need to replace some text in a Powerpoint File at runtime. (Powerpoint file is being used as a template with some placeholders/tokes e.g. {{USER_NAME}})\nI have tried using POI but with no luck. \nI referred to the other links on the forum and started with 'docx4j' but am not able to go beyond a point and the documentation is not very clear (at least for me).\nHere is what I have done so far:\nGot the PPTX loaded to 'PresentationMLPackage' \nGot the 'MainPresentationPart' and the slides (Using mainPresentationPart.getSlide(n);)</p>\n\n<p>But I am not sure of the next steps from here (or if this is the right approach in the first place).</p>\n\n<p>Any suggestions will be greatly appreciated.</p>\n\n<p>Thanks  a Lot,\n-Vini</p>\n"},{"tags":["java","class","program-entry-point"],"comments":[{"owner":{"account_id":984212,"reputation":62352,"user_id":1003142,"display_name":"Konstantin Yovkov"},"score":1,"creation_date":1453878855,"post_id":35030897,"comment_id":57787447,"body_markdown":"The `main` method is `static`, so it doesn&#39;t matter which class holds it. In general, however, I wouldn&#39;t mind to have a `Main` class which nests the `main` method - this way it&#39;s perfectly clear where the starting point is.","body":"The <code>main</code> method is <code>static</code>, so it doesn&#39;t matter which class holds it. In general, however, I wouldn&#39;t mind to have a <code>Main</code> class which nests the <code>main</code> method - this way it&#39;s perfectly clear where the starting point is."},{"owner":{"account_id":45349,"reputation":10115,"user_id":133645,"display_name":"reto"},"score":0,"creation_date":1453878872,"post_id":35030897,"comment_id":57787456,"body_markdown":"Yes, your main method can be in any class. There are no naming conventions for the class containing the main method","body":"Yes, your main method can be in any class. There are no naming conventions for the class containing the main method"}],"answers":[{"tags":[],"owner":{"account_id":5934671,"reputation":498,"user_id":4668102,"display_name":"i23"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1453878870,"creation_date":1453878870,"answer_id":35030938,"question_id":35030897,"body_markdown":"It&#39;s not necessary to define yout main method in a main class. You can place your main method wherever you want, as long the syntax i correct : \r\n\r\n    public static void main (String[] args){\r\n    //...\r\n    } ","title":"In java, do I always need a Main class?","body":"<p>It's not necessary to define yout main method in a main class. You can place your main method wherever you want, as long the syntax i correct : </p>\n\n<pre><code>public static void main (String[] args){\n//...\n} \n</code></pre>\n"},{"tags":[],"owner":{"account_id":5324994,"reputation":4932,"user_id":4787510,"accept_rate":78,"display_name":"Sossenbinder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1453879234,"creation_date":1453879234,"answer_id":35031042,"question_id":35030897,"body_markdown":"You absolutely don&#39;t.\r\n\r\nThe method itself can be placed whereever you want it to be, there is no limitation.\r\n\r\nHowever, I personally would recommend putting it in a class which at least contains something like &quot;Main&quot;, because when others look at your code, and they are not using an IDE which supports jumping to the `main` method, people usually have an easier time finding your starting point.\r\n\r\nHowever, that is just for sake of readability, and as I said, jumping to `main` is/should be usually a widespread supported feature","title":"In java, do I always need a Main class?","body":"<p>You absolutely don't.</p>\n\n<p>The method itself can be placed whereever you want it to be, there is no limitation.</p>\n\n<p>However, I personally would recommend putting it in a class which at least contains something like \"Main\", because when others look at your code, and they are not using an IDE which supports jumping to the <code>main</code> method, people usually have an easier time finding your starting point.</p>\n\n<p>However, that is just for sake of readability, and as I said, jumping to <code>main</code> is/should be usually a widespread supported feature</p>\n"},{"tags":[],"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1453879567,"creation_date":1453879567,"answer_id":35031137,"question_id":35030897,"body_markdown":"Not all Java applications require a main method.\r\n\r\nJava can also be used to create web applications, for instance, which don&#39;t require main methods to run.\r\n\r\nThe answer to your question depends on what exactly you mean. Do you mean a class with the name &#39;Main&#39;? Then, no, there is no requirement for this at all.\r\n\r\nThe only requirement that Java has, is that the signature of the method is correct. the main method must:\r\n\r\n - be public \r\n - be main   \r\n - be static\r\n - have returntype void\r\n - accept an array of Strings as (only) parameter\r\n\r\nIt&#39;s easier to add it in the public class in a file, but not mandatory. The name of the class it is in, is entirely up to you, though many will choose a name like &#39;Main&#39; or &#39;Open&#39;, simply to more easily find it.\r\n\r\nIf you want to be able to run your application, by simple double-clicking the .jar file, you&#39;ll need to point to the class that contains the main method (to use: your application might contain a lot of main classes, used for internal testing, but only one can be used to start the actual application) in the manifest file: [Manifest files][1]\r\n\r\nPrior to Java 7, it was possible to run a desktop application without a main method, by (ab)using an instantiation block, but this was removed as of Java 7, because this is not what the instantiation block was intended for.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/deployment/jar/manifestindex.html","title":"In java, do I always need a Main class?","body":"<p>Not all Java applications require a main method.</p>\n\n<p>Java can also be used to create web applications, for instance, which don't require main methods to run.</p>\n\n<p>The answer to your question depends on what exactly you mean. Do you mean a class with the name 'Main'? Then, no, there is no requirement for this at all.</p>\n\n<p>The only requirement that Java has, is that the signature of the method is correct. the main method must:</p>\n\n<ul>\n<li>be public </li>\n<li>be main   </li>\n<li>be static</li>\n<li>have returntype void</li>\n<li>accept an array of Strings as (only) parameter</li>\n</ul>\n\n<p>It's easier to add it in the public class in a file, but not mandatory. The name of the class it is in, is entirely up to you, though many will choose a name like 'Main' or 'Open', simply to more easily find it.</p>\n\n<p>If you want to be able to run your application, by simple double-clicking the .jar file, you'll need to point to the class that contains the main method (to use: your application might contain a lot of main classes, used for internal testing, but only one can be used to start the actual application) in the manifest file: <a href=\"https://docs.oracle.com/javase/tutorial/deployment/jar/manifestindex.html\" rel=\"noreferrer\">Manifest files</a></p>\n\n<p>Prior to Java 7, it was possible to run a desktop application without a main method, by (ab)using an instantiation block, but this was removed as of Java 7, because this is not what the instantiation block was intended for.</p>\n"},{"tags":[],"owner":{"display_name":"user17938552"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643355256,"creation_date":1643355256,"answer_id":70890242,"question_id":35030897,"body_markdown":"Yes, the Main method is required to run a function although a java class can be without the Main method. Though, it won&#39;t run...","title":"In java, do I always need a Main class?","body":"<p>Yes, the Main method is required to run a function although a java class can be without the Main method. Though, it won't run...</p>\n"}],"owner":{"account_id":7718405,"reputation":167,"user_id":5845351,"accept_rate":30,"display_name":"Ethan Watson"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12622,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":4,"score":1,"last_activity_date":1643355256,"creation_date":1453878688,"question_id":35030897,"body_markdown":"I know that I&#39;ll need a main method, but can that main method be in a different class other than the Main class?\r\n","title":"In java, do I always need a Main class?","body":"<p>I know that I'll need a main method, but can that main method be in a different class other than the Main class?</p>\n"},{"tags":["java","keyevent"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":1,"creation_date":1643353483,"post_id":70889947,"comment_id":125321738,"body_markdown":"nothing, that code makes no sense. To work with actions or KeyEvents, you need to attach a Listener to a component. you don&#39;t have a component that &#39;ll take one, and you don&#39;t have a Listener","body":"nothing, that code makes no sense. To work with actions or KeyEvents, you need to attach a Listener to a component. you don&#39;t have a component that &#39;ll take one, and you don&#39;t have a Listener"},{"owner":{"account_id":24080507,"reputation":3,"user_id":18055234,"display_name":"Creator3301"},"score":0,"creation_date":1643353751,"post_id":70889947,"comment_id":125321795,"body_markdown":"Bro, this isn&#39;t my code it is for reference.","body":"Bro, this isn&#39;t my code it is for reference."},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":1,"creation_date":1643353828,"post_id":70889947,"comment_id":125321808,"body_markdown":"In that case the code you posted here is pointless.","body":"In that case the code you posted here is pointless."},{"owner":{"account_id":24080507,"reputation":3,"user_id":18055234,"display_name":"Creator3301"},"score":0,"creation_date":1643354001,"post_id":70889947,"comment_id":125321852,"body_markdown":"Yes I know too but this could get me an answer...","body":"Yes I know too but this could get me an answer..."},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1643354112,"post_id":70889947,"comment_id":125321879,"body_markdown":"@Creator3301 I aleady told you what you need: a Component on which you add a (correct) Listener, and an implementation of that Listener.","body":"@Creator3301 I aleady told you what you need: a Component on which you add a (correct) Listener, and an implementation of that Listener."},{"owner":{"account_id":24080507,"reputation":3,"user_id":18055234,"display_name":"Creator3301"},"score":0,"creation_date":1643354221,"post_id":70889947,"comment_id":125321906,"body_markdown":"@Tarmo Dude I think you are taking me for granted....","body":"@Tarmo Dude I think you are taking me for granted...."},{"owner":{"account_id":24080507,"reputation":3,"user_id":18055234,"display_name":"Creator3301"},"score":0,"creation_date":1643354245,"post_id":70889947,"comment_id":125321911,"body_markdown":"@Stultuske Ok I try it","body":"@Stultuske Ok I try it"}],"answers":[{"tags":[],"owner":{"display_name":"user17938552"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1643354552,"creation_date":1643354552,"answer_id":70890132,"question_id":70889947,"body_markdown":"To work with actions or KeyEvents, you need to attach a Listener to a component. you don&#39;t have a component that&#39;ll take one, and you don&#39;t have a Listener","title":"How to run a method which has &quot;KeyEvent e&quot; as it&#39;s parameter?","body":"<p>To work with actions or KeyEvents, you need to attach a Listener to a component. you don't have a component that'll take one, and you don't have a Listener</p>\n"}],"owner":{"account_id":24080507,"reputation":3,"user_id":18055234,"display_name":"Creator3301"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":70890132,"answer_count":1,"score":-2,"last_activity_date":1643354552,"creation_date":1643353353,"question_id":70889947,"body_markdown":"Hi Devs I have a problem that how should I call it. If I write &quot;null&quot; in the parenthesis, it gives error that e is null. My code is below for reference.\r\n\r\n```\r\nprivate void myMethod(KeyEvent e){\r\n    if(e.getKeyCode() == KeyEvent.VK_ESCAPE){\r\n        System.exit(0);\r\n    }else if(e.getKeyCode() == e.KeyEvent.VK_SPACE){\r\n        label.setText(&quot;This is aa example&quot;);\r\n    }\r\n}\r\n\r\npublic static void main(String[] args){\r\n    Main m = new Main();\r\n    m.myMethod(??); //What should I enter in the parenthesis?\r\n}","title":"How to run a method which has &quot;KeyEvent e&quot; as it&#39;s parameter?","body":"<p>Hi Devs I have a problem that how should I call it. If I write &quot;null&quot; in the parenthesis, it gives error that e is null. My code is below for reference.</p>\n<pre><code>private void myMethod(KeyEvent e){\n    if(e.getKeyCode() == KeyEvent.VK_ESCAPE){\n        System.exit(0);\n    }else if(e.getKeyCode() == e.KeyEvent.VK_SPACE){\n        label.setText(&quot;This is aa example&quot;);\n    }\n}\n\npublic static void main(String[] args){\n    Main m = new Main();\n    m.myMethod(??); //What should I enter in the parenthesis?\n}\n</code></pre>\n"},{"tags":["java","apache-kafka","google-bigquery","apache-beam","avro"],"answers":[{"tags":[],"owner":{"account_id":23972851,"reputation":21,"user_id":17961308,"display_name":"zicaden"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643354398,"creation_date":1643353641,"answer_id":70889987,"question_id":70751152,"body_markdown":"After much trial and error I was able to make the following work. \r\n\r\nI would welcome review comments to share concerns / propose better solutions.\r\n\r\n```\r\n\t\tSchemaRegistryClient registryClient = new CachedSchemaRegistryClient(http://server2:8181,10);\r\n    \tSchemaMetadata latestSchemaMetadata;\r\n    \tSchema avroSchema = null; \r\n\t\ttry {\r\n\t\t    // getLatestSchemaMetadata takes the subject name which is topic-value format where &quot;-value&quot; is suffixed to topic\r\n\t\t\t// so if topic is &quot;test-avro&quot; then subject is &quot;test-avro-value&quot;\r\n\t\t\tlatestSchemaMetadata = registryClient.getLatestSchemaMetadata(&quot;test-avro-value&quot;);\r\n\t\t\tavroSchema = new Schema.Parser().parse(latestSchemaMetadata.getSchema());\r\n\t\t} catch (IOException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\tSystem.out.println(&quot;IO Exception while obtaining registry data&quot;);\r\n\t\t\te.printStackTrace();\r\n\t\t} catch (RestClientException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\tSystem.out.println(&quot;Client Exception while obtaining registry data&quot;);\r\n\t\t\te.printStackTrace();\r\n\t\t\t\r\n\t\t}\r\n    \t\r\n\t\t// Printing avro schema obtained\r\n\t\tSystem.out.println(&quot;---------------- Avro schema ----------- &quot; + avroSchema.toString());\r\n\t\t\r\n\t\tPipelineOptions options = PipelineOptionsFactory.create();\r\n    \tPipeline pipeline = Pipeline.create(options);\r\n    \t\r\n    \t\r\n       \t// Read from Kafka Topic and get KafkaRecords\r\n\t\t// Create KafkaIO.Read with Avro schema deserializer\r\n    \t@SuppressWarnings(&quot;unchecked&quot;)\r\n\t\tKafkaIO.Read&lt;String, GenericRecord&gt; read = KafkaIO.&lt;String, GenericRecord&gt;read()\r\n    \t    .withBootstrapServers(&quot;http://server1:9092&quot;)\r\n    \t    .withTopic(KafkaConfig.getInputTopic())\r\n    \t    .withConsumerConfigUpdates(ImmutableMap.of(&quot;schema.registry.url&quot;, &quot;http://server2:8181&quot;))\r\n    \t    .withConsumerConfigUpdates(ImmutableMap.of(&quot;specific.avro.reader&quot;, (Object)&quot;true&quot;))\r\n\t\t    .withConsumerConfigUpdates(ImmutableMap.of(&quot;auto.offset.reset&quot;, (Object)&quot;earliest&quot;))\r\n    \t    .withKeyDeserializer(StringDeserializer.class)\r\n    \t    .withValueDeserializerAndCoder((Class) KafkaAvroDeserializer.class, AvroCoder.of(avroSchema));\r\n\t\t\r\n\t\t\r\n    \t// Set Beam Schema\r\n\t\t\r\n    \torg.apache.beam.sdk.schemas.Schema beamSchema = AvroUtils.toBeamSchema(avroSchema);\t\r\n\t\t\r\n\t\t// Print kafka records to console log\r\n\t\t\t\t\t\t\r\n\t\t// Write each record to BigQuery Table \r\n\t\t// Table is already available in BigQuery so create disposition would be CREATE_NEVER\r\n\t\t// Records to be appended to table - so write disposition would be WRITE_APPEND\r\n\t\t// All fields in the Customer object have corresponding column names and datatypes - so it is one to one mapping\r\n\t\t\r\n\t\t// Connection to BigQuery is through service account JSON file. This file has been set as environment variable in run config of eclipse project\r\n\t\t// Set table specification for BigQuery\r\n          String bqTable = &quot;my-project:my-dataset:my-table&quot;;\r\n\t\t\r\n\t\tp.apply(read)\r\n    \t.apply(&quot;ExtractRecord&quot;, ParDo.of(new DoFn&lt;KafkaRecord&lt;String,GenericRecord&gt;, KV&lt;String, GenericRecord&gt;&gt;() { \r\n        \t/**\r\n\t\t\t * \r\n\t\t\t */\r\n\t\t\tprivate static final long serialVersionUID = 1L;\r\n\r\n\t\t\t@ProcessElement\r\n            public void processElement(ProcessContext c) {\r\n        \t\tKafkaRecord&lt;String, GenericRecord&gt; record = (KafkaRecord&lt;String, GenericRecord&gt;) c.element();\r\n        \t    KV&lt;String, GenericRecord&gt; log = record.getKV();\r\n        \t\tSystem.out.println(&quot;Key Obtained: &quot; + log.getKey());\r\n        \t    System.out.println(&quot;Value Obtained: &quot; + log.getValue().toString());\r\n        \t    c.output(log);\r\n        \t\t\r\n        \t}\r\n        }))\r\n    \t.apply(Values.&lt;GenericRecord&gt;create()).setSchema(beamSchema, TypeDescriptor.of(GenericRecord.class) ,AvroUtils.getToRowFunction(GenericRecord.class, avroSchema), AvroUtils.getFromRowFunction(GenericRecord.class))\r\n        .apply(BigQueryIO.&lt;GenericRecord&gt;write()\r\n        \t\t.to(tableSpec)\r\n        \t\t.useBeamSchema()\r\n        \t\t.withCreateDisposition(CreateDisposition.CREATE_NEVER)\r\n        \t\t.withWriteDisposition(WriteDisposition.WRITE_APPEND));\r\n    \t\r\n    \tp.run().waitUntilFinish();\r\n\r\n```\r\nThe above works with CREATE_IF_NEEDED also.","title":"Kafka Avro To BigQuery using Apache Beam in Java","body":"<p>After much trial and error I was able to make the following work.</p>\n<p>I would welcome review comments to share concerns / propose better solutions.</p>\n<pre><code>        SchemaRegistryClient registryClient = new CachedSchemaRegistryClient(http://server2:8181,10);\n        SchemaMetadata latestSchemaMetadata;\n        Schema avroSchema = null; \n        try {\n            // getLatestSchemaMetadata takes the subject name which is topic-value format where &quot;-value&quot; is suffixed to topic\n            // so if topic is &quot;test-avro&quot; then subject is &quot;test-avro-value&quot;\n            latestSchemaMetadata = registryClient.getLatestSchemaMetadata(&quot;test-avro-value&quot;);\n            avroSchema = new Schema.Parser().parse(latestSchemaMetadata.getSchema());\n        } catch (IOException e) {\n            // TODO Auto-generated catch block\n            System.out.println(&quot;IO Exception while obtaining registry data&quot;);\n            e.printStackTrace();\n        } catch (RestClientException e) {\n            // TODO Auto-generated catch block\n            System.out.println(&quot;Client Exception while obtaining registry data&quot;);\n            e.printStackTrace();\n            \n        }\n        \n        // Printing avro schema obtained\n        System.out.println(&quot;---------------- Avro schema ----------- &quot; + avroSchema.toString());\n        \n        PipelineOptions options = PipelineOptionsFactory.create();\n        Pipeline pipeline = Pipeline.create(options);\n        \n        \n        // Read from Kafka Topic and get KafkaRecords\n        // Create KafkaIO.Read with Avro schema deserializer\n        @SuppressWarnings(&quot;unchecked&quot;)\n        KafkaIO.Read&lt;String, GenericRecord&gt; read = KafkaIO.&lt;String, GenericRecord&gt;read()\n            .withBootstrapServers(&quot;http://server1:9092&quot;)\n            .withTopic(KafkaConfig.getInputTopic())\n            .withConsumerConfigUpdates(ImmutableMap.of(&quot;schema.registry.url&quot;, &quot;http://server2:8181&quot;))\n            .withConsumerConfigUpdates(ImmutableMap.of(&quot;specific.avro.reader&quot;, (Object)&quot;true&quot;))\n            .withConsumerConfigUpdates(ImmutableMap.of(&quot;auto.offset.reset&quot;, (Object)&quot;earliest&quot;))\n            .withKeyDeserializer(StringDeserializer.class)\n            .withValueDeserializerAndCoder((Class) KafkaAvroDeserializer.class, AvroCoder.of(avroSchema));\n        \n        \n        // Set Beam Schema\n        \n        org.apache.beam.sdk.schemas.Schema beamSchema = AvroUtils.toBeamSchema(avroSchema); \n        \n        // Print kafka records to console log\n                        \n        // Write each record to BigQuery Table \n        // Table is already available in BigQuery so create disposition would be CREATE_NEVER\n        // Records to be appended to table - so write disposition would be WRITE_APPEND\n        // All fields in the Customer object have corresponding column names and datatypes - so it is one to one mapping\n        \n        // Connection to BigQuery is through service account JSON file. This file has been set as environment variable in run config of eclipse project\n        // Set table specification for BigQuery\n          String bqTable = &quot;my-project:my-dataset:my-table&quot;;\n        \n        p.apply(read)\n        .apply(&quot;ExtractRecord&quot;, ParDo.of(new DoFn&lt;KafkaRecord&lt;String,GenericRecord&gt;, KV&lt;String, GenericRecord&gt;&gt;() { \n            /**\n             * \n             */\n            private static final long serialVersionUID = 1L;\n\n            @ProcessElement\n            public void processElement(ProcessContext c) {\n                KafkaRecord&lt;String, GenericRecord&gt; record = (KafkaRecord&lt;String, GenericRecord&gt;) c.element();\n                KV&lt;String, GenericRecord&gt; log = record.getKV();\n                System.out.println(&quot;Key Obtained: &quot; + log.getKey());\n                System.out.println(&quot;Value Obtained: &quot; + log.getValue().toString());\n                c.output(log);\n                \n            }\n        }))\n        .apply(Values.&lt;GenericRecord&gt;create()).setSchema(beamSchema, TypeDescriptor.of(GenericRecord.class) ,AvroUtils.getToRowFunction(GenericRecord.class, avroSchema), AvroUtils.getFromRowFunction(GenericRecord.class))\n        .apply(BigQueryIO.&lt;GenericRecord&gt;write()\n                .to(tableSpec)\n                .useBeamSchema()\n                .withCreateDisposition(CreateDisposition.CREATE_NEVER)\n                .withWriteDisposition(WriteDisposition.WRITE_APPEND));\n        \n        p.run().waitUntilFinish();\n\n</code></pre>\n<p>The above works with CREATE_IF_NEEDED also.</p>\n"}],"owner":{"account_id":23972851,"reputation":21,"user_id":17961308,"display_name":"zicaden"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":794,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70889987,"answer_count":1,"score":1,"last_activity_date":1643354398,"creation_date":1642487216,"question_id":70751152,"body_markdown":"Here is the scenario:\r\n\r\nKafka &lt;Avro&gt; To BigQuery using Apache Beam. This is an alternative to BigQuerySinkConnector [WePay] using Kafka Connect.\r\n\r\nI have been able to read Avro message from Kafka Topic. I am also able to print the contents to console accurately. I am looking for help with writing these KafkaRecords to BigQuery table. \r\n\r\n```\r\nPipelineOptions options = PipelineOptionsFactory.create();\r\n    \tPipeline pipeline = Pipeline.create(options);\r\n    \t//Customer is an auto generated class from avro schema using eclipse avro maven plugin\r\n       \t// Read from Kafka Topic and get KafkaRecords\r\n    \t@SuppressWarnings(&quot;unchecked&quot;)\r\n    \tPTransform&lt;PBegin, PCollection&lt;KafkaRecord&lt;String, Customer&gt;&gt;&gt; input = KafkaIO.&lt;String, Customer&gt;read()\r\n    \t\t\t    .withBootstrapServers(&quot;http://server1:9092&quot;)\r\n    \t\t\t       .withTopic(&quot;test-avro&quot;)\r\n    \t\t\t       .withConsumerConfigUpdates(ImmutableMap.of(&quot;specific.avro.reader&quot;, (Object)&quot;true&quot;))\r\n    \t\t\t       .withConsumerConfigUpdates(ImmutableMap.of(&quot;auto.offset.reset&quot;, (Object)&quot;earliest&quot;))\r\n    \t\t\t       .withConsumerConfigUpdates(ImmutableMap.of(&quot;schema.registry.url&quot;, (Object)&quot;http://server2:8181&quot;))\r\n    \t\t\t       .withKeyDeserializer(StringDeserializer.class)\r\n    \t\t\t       .withValueDeserializerAndCoder((Class)KafkaAvroDeserializer.class, AvroCoder.of(Customer.class));\r\n\t\t\r\n\t\t\r\n\t\t// Print kafka records to console log\r\n\t\t\r\n\t\tpipeline.apply(input)\r\n    \t        .apply(&quot;ExtractRecord&quot;, ParDo.of(new DoFn&lt;KafkaRecord&lt;String,Customer&gt;, KafkaRecord&lt;String,Customer&gt;&gt;() { \r\n    \t        \t@ProcessElement\r\n                    public void processElement(ProcessContext c) {\r\n    \t        \t\tKafkaRecord&lt;String, Customer&gt; record = (KafkaRecord&lt;String, Customer&gt;) c.element();\r\n    \t        \t    KV&lt;String, Customer&gt; log = record.getKV();\r\n    \t        \t\tSystem.out.println(&quot;Key Obtained: &quot; + log.getKey());\r\n    \t        \t    System.out.println(&quot;Value Obtained: &quot; + log.getValue().toString());\r\n    \t        \t    c.output(record);\r\n    \t        \t\t\r\n    \t        \t}\r\n    \t        }));\r\n\t\t\t\t\r\n\t\t// Write each record to BigQuery Table \r\n\t\t// Table is already available in BigQuery so create disposition would be CREATE_NEVER\r\n\t\t// Records to be appended to table - so write disposition would be WRITE_APPEND\r\n\t\t// All fields in the Customer object have corresponding column names and datatypes - so it is one to one mapping\r\n\t\t\r\n\t\t// Connection to BigQuery is through service account JSON file. This file has been set as environment variable in run config of eclipse project\r\n\t\t// Set table specification for BigQuery\r\n          String bqTable = &quot;my-project:my-dataset:my-table&quot;;\r\n\r\n```\r\n\r\nThe current examples available - shows how to manually set a schema and assign field by field the values. I am looking for an automated way to infer the Customer Avro object and assign it to the columns directly without such manual field by field assignment. \r\n\r\nIs this possible? \r\n","title":"Kafka Avro To BigQuery using Apache Beam in Java","body":"<p>Here is the scenario:</p>\n<p>Kafka  To BigQuery using Apache Beam. This is an alternative to BigQuerySinkConnector [WePay] using Kafka Connect.</p>\n<p>I have been able to read Avro message from Kafka Topic. I am also able to print the contents to console accurately. I am looking for help with writing these KafkaRecords to BigQuery table.</p>\n<pre><code>PipelineOptions options = PipelineOptionsFactory.create();\n        Pipeline pipeline = Pipeline.create(options);\n        //Customer is an auto generated class from avro schema using eclipse avro maven plugin\n        // Read from Kafka Topic and get KafkaRecords\n        @SuppressWarnings(&quot;unchecked&quot;)\n        PTransform&lt;PBegin, PCollection&lt;KafkaRecord&lt;String, Customer&gt;&gt;&gt; input = KafkaIO.&lt;String, Customer&gt;read()\n                    .withBootstrapServers(&quot;http://server1:9092&quot;)\n                       .withTopic(&quot;test-avro&quot;)\n                       .withConsumerConfigUpdates(ImmutableMap.of(&quot;specific.avro.reader&quot;, (Object)&quot;true&quot;))\n                       .withConsumerConfigUpdates(ImmutableMap.of(&quot;auto.offset.reset&quot;, (Object)&quot;earliest&quot;))\n                       .withConsumerConfigUpdates(ImmutableMap.of(&quot;schema.registry.url&quot;, (Object)&quot;http://server2:8181&quot;))\n                       .withKeyDeserializer(StringDeserializer.class)\n                       .withValueDeserializerAndCoder((Class)KafkaAvroDeserializer.class, AvroCoder.of(Customer.class));\n        \n        \n        // Print kafka records to console log\n        \n        pipeline.apply(input)\n                .apply(&quot;ExtractRecord&quot;, ParDo.of(new DoFn&lt;KafkaRecord&lt;String,Customer&gt;, KafkaRecord&lt;String,Customer&gt;&gt;() { \n                    @ProcessElement\n                    public void processElement(ProcessContext c) {\n                        KafkaRecord&lt;String, Customer&gt; record = (KafkaRecord&lt;String, Customer&gt;) c.element();\n                        KV&lt;String, Customer&gt; log = record.getKV();\n                        System.out.println(&quot;Key Obtained: &quot; + log.getKey());\n                        System.out.println(&quot;Value Obtained: &quot; + log.getValue().toString());\n                        c.output(record);\n                        \n                    }\n                }));\n                \n        // Write each record to BigQuery Table \n        // Table is already available in BigQuery so create disposition would be CREATE_NEVER\n        // Records to be appended to table - so write disposition would be WRITE_APPEND\n        // All fields in the Customer object have corresponding column names and datatypes - so it is one to one mapping\n        \n        // Connection to BigQuery is through service account JSON file. This file has been set as environment variable in run config of eclipse project\n        // Set table specification for BigQuery\n          String bqTable = &quot;my-project:my-dataset:my-table&quot;;\n\n</code></pre>\n<p>The current examples available - shows how to manually set a schema and assign field by field the values. I am looking for an automated way to infer the Customer Avro object and assign it to the columns directly without such manual field by field assignment.</p>\n<p>Is this possible?</p>\n"},{"tags":["java","parsing","javaparser"],"answers":[{"tags":[],"owner":{"account_id":7005189,"reputation":1519,"user_id":5369852,"display_name":"John Glenn"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1643353613,"creation_date":1643353613,"answer_id":70889984,"question_id":70889680,"body_markdown":"You want to use the LexicalPreservingPrinter. Here is the [setup][1] documentation.  Basically, you can just add it on to the end of the chain like so (when everything is working as intended):\n\n    CompilationUnit lpp = LexicalPreservingPrinter.setup(unit);\n    System.out.println(LexicalPreservingPrinter.print(lpp));\n\n  [1]: https://www.javadoc.io/doc/com.github.javaparser/javaparser-core/3.9.0/com/github/javaparser/printer/lexicalpreservation/LexicalPreservingPrinter.html#setup(N)","title":"JavaParser removes empty lines","body":"<p>You want to use the LexicalPreservingPrinter. Here is the <a href=\"https://www.javadoc.io/doc/com.github.javaparser/javaparser-core/3.9.0/com/github/javaparser/printer/lexicalpreservation/LexicalPreservingPrinter.html#setup(N)\" rel=\"nofollow noreferrer\">setup</a> documentation.  Basically, you can just add it on to the end of the chain like so (when everything is working as intended):</p>\n<pre><code>CompilationUnit lpp = LexicalPreservingPrinter.setup(unit);\nSystem.out.println(LexicalPreservingPrinter.print(lpp));\n</code></pre>\n"}],"owner":{"account_id":2016404,"reputation":596,"user_id":1803608,"accept_rate":83,"display_name":"Christian"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":327,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70889984,"answer_count":1,"score":1,"last_activity_date":1643353613,"creation_date":1643351571,"question_id":70889680,"body_markdown":"I am using JavaParser with with the following dependency:\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.github.javaparser&lt;/groupId&gt;\r\n      &lt;artifactId&gt;javaparser-core&lt;/artifactId&gt;\r\n      &lt;version&gt;3.24.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nWhen I try to use it with the following class (parsing itself)...\r\n\r\n    import com.github.javaparser.JavaParser;\r\n    import com.github.javaparser.ParseResult;\r\n    import com.github.javaparser.ast.CompilationUnit;\r\n    \r\n    import java.io.IOException;\r\n    import java.nio.charset.StandardCharsets;\r\n    import java.nio.file.Files;\r\n    import java.nio.file.Paths;\r\n    \r\n    /**\r\n     * Some comment.\r\n     */\r\n    public class JavaParserPlayground {\r\n      public static void main(String[] args) throws IOException {\r\n        // Some comment.\r\n        String source = Files.readString(Paths.get(&quot;path\\\\JavaParserPlayground.java&quot;),\r\n          StandardCharsets.UTF_8);\r\n    \r\n        // Some comment.\r\n        JavaParser parser = new JavaParser();\r\n        ParseResult&lt;CompilationUnit&gt; parseResult = parser.parse(source);\r\n    \r\n        // Some comment.\r\n        CompilationUnit unit = parseResult.getResult().orElseThrow();\r\n        System.out.println(unit.toString());\r\n      }\r\n    }\r\n\r\n...then I get the following result:\r\n\r\n    import com.github.javaparser.JavaParser;\r\n    import com.github.javaparser.ParseResult;\r\n    import com.github.javaparser.ast.CompilationUnit;\r\n    import java.io.IOException;\r\n    import java.nio.charset.StandardCharsets;\r\n    import java.nio.file.Files;\r\n    import java.nio.file.Paths;\r\n\r\n    /**\r\n     * Some comment.\r\n     */\r\n    public class JavaParserPlayground {\r\n\r\n        public static void main(String[] args) throws IOException {\r\n            // Some comment.\r\n            String source = Files.readString(Paths.get(&quot;path\\\\JavaParserPlayground.java&quot;), StandardCharsets.UTF_8);\r\n            // Some comment.\r\n            JavaParser parser = new JavaParser();\r\n            ParseResult&lt;CompilationUnit&gt; parseResult = parser.parse(source);\r\n            // Some comment.\r\n            CompilationUnit unit = parseResult.getResult().orElseThrow();\r\n            System.out.println(unit.toString());\r\n        }\r\n    }\r\n\r\nMy problem is that I need the original output with all original line breaks. But it removes some empty lines (between import statements, within the method), removes line breaks (within source assignment) and adss empty lines (before main method).\r\n\r\nMore of it: The original source has 2 spaces indentation, the printed source 4 spaces.\r\n\r\nIs it possible to force the original code structure?\r\n","title":"JavaParser removes empty lines","body":"<p>I am using JavaParser with with the following dependency:</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;com.github.javaparser&lt;/groupId&gt;\n  &lt;artifactId&gt;javaparser-core&lt;/artifactId&gt;\n  &lt;version&gt;3.24.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>When I try to use it with the following class (parsing itself)...</p>\n<pre><code>import com.github.javaparser.JavaParser;\nimport com.github.javaparser.ParseResult;\nimport com.github.javaparser.ast.CompilationUnit;\n\nimport java.io.IOException;\nimport java.nio.charset.StandardCharsets;\nimport java.nio.file.Files;\nimport java.nio.file.Paths;\n\n/**\n * Some comment.\n */\npublic class JavaParserPlayground {\n  public static void main(String[] args) throws IOException {\n    // Some comment.\n    String source = Files.readString(Paths.get(&quot;path\\\\JavaParserPlayground.java&quot;),\n      StandardCharsets.UTF_8);\n\n    // Some comment.\n    JavaParser parser = new JavaParser();\n    ParseResult&lt;CompilationUnit&gt; parseResult = parser.parse(source);\n\n    // Some comment.\n    CompilationUnit unit = parseResult.getResult().orElseThrow();\n    System.out.println(unit.toString());\n  }\n}\n</code></pre>\n<p>...then I get the following result:</p>\n<pre><code>import com.github.javaparser.JavaParser;\nimport com.github.javaparser.ParseResult;\nimport com.github.javaparser.ast.CompilationUnit;\nimport java.io.IOException;\nimport java.nio.charset.StandardCharsets;\nimport java.nio.file.Files;\nimport java.nio.file.Paths;\n\n/**\n * Some comment.\n */\npublic class JavaParserPlayground {\n\n    public static void main(String[] args) throws IOException {\n        // Some comment.\n        String source = Files.readString(Paths.get(&quot;path\\\\JavaParserPlayground.java&quot;), StandardCharsets.UTF_8);\n        // Some comment.\n        JavaParser parser = new JavaParser();\n        ParseResult&lt;CompilationUnit&gt; parseResult = parser.parse(source);\n        // Some comment.\n        CompilationUnit unit = parseResult.getResult().orElseThrow();\n        System.out.println(unit.toString());\n    }\n}\n</code></pre>\n<p>My problem is that I need the original output with all original line breaks. But it removes some empty lines (between import statements, within the method), removes line breaks (within source assignment) and adss empty lines (before main method).</p>\n<p>More of it: The original source has 2 spaces indentation, the printed source 4 spaces.</p>\n<p>Is it possible to force the original code structure?</p>\n"},{"tags":["java","httpclient"],"answers":[{"tags":[],"owner":{"account_id":534975,"reputation":5561,"user_id":904692,"accept_rate":83,"display_name":"ioreskovic"},"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1533413523,"creation_date":1342348843,"answer_id":11491220,"question_id":11491217,"body_markdown":"`UTF-8` is the standard one and most people use it.\r\n\r\nHere is the list of charsets used in Java:  \r\n  \r\nhttp://docs.oracle.com/javase/8/docs/technotes/guides/intl/encoding.doc.html\r\n\r\nN.B.  \r\nIf charset factory/singleton classes can take `Enum` as parameter, as well as `String`, `Enum` is, IMO, always a safer and better option.","title":"Is the encoding name UTF8 or UTF-8?","body":"<p><code>UTF-8</code> is the standard one and most people use it.</p>\n\n<p>Here is the list of charsets used in Java:  </p>\n\n<p><a href=\"http://docs.oracle.com/javase/8/docs/technotes/guides/intl/encoding.doc.html\" rel=\"nofollow noreferrer\">http://docs.oracle.com/javase/8/docs/technotes/guides/intl/encoding.doc.html</a></p>\n\n<p>N.B.<br>\nIf charset factory/singleton classes can take <code>Enum</code> as parameter, as well as <code>String</code>, <code>Enum</code> is, IMO, always a safer and better option.</p>\n"},{"tags":[],"owner":{"account_id":191960,"reputation":4817,"user_id":432844,"display_name":"Julien Nioche"},"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1517933082,"creation_date":1476289677,"answer_id":40003715,"question_id":11491217,"body_markdown":"Easier to use [StandardCharsets.UTF_8][1] as it saves you having to deal with UnsupportedEncodingExceptions\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/nio/charset/StandardCharsets.html#UTF_8","title":"Is the encoding name UTF8 or UTF-8?","body":"<p>Easier to use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/nio/charset/StandardCharsets.html#UTF_8\" rel=\"noreferrer\">StandardCharsets.UTF_8</a> as it saves you having to deal with UnsupportedEncodingExceptions</p>\n"},{"tags":[],"owner":{"account_id":6876690,"reputation":16,"user_id":5284915,"display_name":"Bob Hastings"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1521810735,"creation_date":1521810735,"answer_id":49450479,"question_id":11491217,"body_markdown":"FYI, For Java 7/tomcat 8.5 I am using: -Dfile.encoding=UTF-8 -Dclient.encoding.override=UTF-8\r\n\r\nBut for Java 8/tomcat 8.5 I got: \r\n java.nio.charset.IllegalCharsetNameException: UTF-8 \r\n\r\nSo I changed to UTF8","title":"Is the encoding name UTF8 or UTF-8?","body":"<p>FYI, For Java 7/tomcat 8.5 I am using: -Dfile.encoding=UTF-8 -Dclient.encoding.override=UTF-8</p>\n\n<p>But for Java 8/tomcat 8.5 I got: \n java.nio.charset.IllegalCharsetNameException: UTF-8 </p>\n\n<p>So I changed to UTF8</p>\n"},{"tags":[],"owner":{"account_id":1422690,"reputation":1153,"user_id":1346990,"display_name":"Ridox"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1563261830,"creation_date":1563261830,"answer_id":57052022,"question_id":11491217,"body_markdown":"The standard name is &#39;UTF-8&#39;. Source code(I use jdk1.8.0_20) showes more detail:\r\n\r\n```JAVA\r\nUTF_8 extends Unicode {\r\n    public UTF_8() {\r\n        super(&quot;UTF-8&quot;, StandardCharsets.aliases_UTF_8); // show other aliases\r\n        // static final String[] aliases_UTF_8 = new String[]{&quot;UTF8&quot;, &quot;unicode-1-1-utf-8&quot;};\r\n    }\r\n\r\n    public String historicalName() {\r\n        // return old name of UTF-8\r\n        return &quot;UTF8&quot;;\r\n    }\r\n```","title":"Is the encoding name UTF8 or UTF-8?","body":"<p>The standard name is 'UTF-8'. Source code(I use jdk1.8.0_20) showes more detail:</p>\n\n<pre><code>UTF_8 extends Unicode {\n    public UTF_8() {\n        super(\"UTF-8\", StandardCharsets.aliases_UTF_8); // show other aliases\n        // static final String[] aliases_UTF_8 = new String[]{\"UTF8\", \"unicode-1-1-utf-8\"};\n    }\n\n    public String historicalName() {\n        // return old name of UTF-8\n        return \"UTF8\";\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17419771,"reputation":98,"user_id":12625547,"display_name":"Yaser"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643353278,"creation_date":1643353278,"answer_id":70889939,"question_id":11491217,"body_markdown":"    Charset charset = Charset.forName(&quot;cp1254&quot;); \r\n\r\nThis was the utf-8 solution for me. You can use it.","title":"Is the encoding name UTF8 or UTF-8?","body":"<pre><code>Charset charset = Charset.forName(&quot;cp1254&quot;); \n</code></pre>\n<p>This was the utf-8 solution for me. You can use it.</p>\n"}],"owner":{"account_id":232243,"reputation":83887,"user_id":496949,"accept_rate":86,"display_name":"user496949"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31470,"favorite_count":0,"down_vote_count":0,"up_vote_count":37,"answer_count":5,"score":37,"last_activity_date":1643353278,"creation_date":1342348792,"question_id":11491217,"body_markdown":"Some httpclient requires me to give a string charset&#181;.\r\n\r\nI am wondering whether to give it UTF8 or utf8 or UTF-8?\r\n\r\nEspecially when calling Charset.forName(enc)","title":"Is the encoding name UTF8 or UTF-8?","body":"<p>Some httpclient requires me to give a string charsetµ.</p>\n\n<p>I am wondering whether to give it UTF8 or utf8 or UTF-8?</p>\n\n<p>Especially when calling Charset.forName(enc)</p>\n"},{"tags":["java","string","function","pass-by-reference"],"answers":[{"tags":[],"owner":{"account_id":20562,"reputation":55673,"user_id":49246,"accept_rate":73,"display_name":"starblue"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1281852055,"creation_date":1281852055,"answer_id":3486401,"question_id":3486393,"body_markdown":"Java uses a &lt;a href=&quot;http://en.wikipedia.org/wiki/Evaluation_strategy#Call_by_value&quot;&gt;call by value&lt;/a&gt; startegy for evaluating calls.\r\n\r\nThat is, the value is copied to `str`, so if you assign to `str` that doesn&#39;t change the original value.","title":"Java string value change in function","body":"<p>Java uses a <a href=\"http://en.wikipedia.org/wiki/Evaluation_strategy#Call_by_value\" rel=\"noreferrer\">call by value</a> startegy for evaluating calls.</p>\n\n<p>That is, the value is copied to <code>str</code>, so if you assign to <code>str</code> that doesn't change the original value.</p>\n"},{"tags":[],"owner":{"account_id":55292,"reputation":91593,"user_id":165520,"accept_rate":80,"display_name":"Prasoon Saurav"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1281853861,"creation_date":1281852059,"answer_id":3486402,"question_id":3486393,"body_markdown":"Because the reference `myStr` is passed by value to the function `changeString` and the change is not reflected back to the calling function.\r\n\r\nP.S : I am not a Java guy.","title":"Java string value change in function","body":"<p>Because the reference <code>myStr</code> is passed by value to the function <code>changeString</code> and the change is not reflected back to the calling function.</p>\n\n<p>P.S : I am not a Java guy.</p>\n"},{"tags":[],"owner":{"account_id":170019,"reputation":84110,"user_id":396458,"accept_rate":84,"display_name":"NullUserException"},"down_vote_count":0,"up_vote_count":39,"is_accepted":true,"score":39,"last_activity_date":1281853446,"creation_date":1281852513,"answer_id":3486418,"question_id":3486393,"body_markdown":"Everyone explained why it doesn&#39;t work, but nobody explained how to make it work. Your easiest option is to use:\n\n    String changeString() {\n        return &quot;Hello world&quot;;\n    }\n    \n    main() {\n\n        String myStr = new String(&quot;&quot;);\n        myStr = changeString();\n    }\n\nAlthough the method name is a misnomer here. If you were to use your original idea, you&#39;d need something like:\n\n    void changeString(ChangeableString str) {\n        str.changeTo(&quot;Hello world&quot;);\n    }\n    \n    main() {\n\n        ChangeableString myStr = new ChangeableString(&quot;&quot;);\n        changeString(myStr);\n    }\n\nYour `ChangeableString` class could be something like this:\n\n    class ChangeableString {\n        String str;\n        \n        public ChangeableString(String str) {\n            this.str = str;\n        }\n\n        public void changeTo(String newStr) {\n            str = newStr;\n        }\n\n        public String toString() {\n            return str;\n        }\n    }\n\n--------\n\n### A quick lesson on references:\n\nIn Java method everything is passed by value. This includes references. This can be illustrated by these two different methods:\n\n    void doNothing(Thing obj) {\n        obj = new Something();\n    }\n\n    void doSomething(Thing obj) {\n        obj.changeMe();\n    }\n\nIf you call `doNothing(obj)` from `main()` (or anywhere for that matter), `obj` won&#39;t be changed in the callee because `doNothing` creates a new `Thing` and assigns that new reference to `obj` *in the scope of the method*.\n\nOn the other hand, in `doSomething` you are calling `obj.changeMe()`, and that dereferences `obj` - which was passed by value - and changes it.","title":"Java string value change in function","body":"<p>Everyone explained why it doesn't work, but nobody explained how to make it work. Your easiest option is to use:</p>\n<pre><code>String changeString() {\n    return &quot;Hello world&quot;;\n}\n\nmain() {\n\n    String myStr = new String(&quot;&quot;);\n    myStr = changeString();\n}\n</code></pre>\n<p>Although the method name is a misnomer here. If you were to use your original idea, you'd need something like:</p>\n<pre><code>void changeString(ChangeableString str) {\n    str.changeTo(&quot;Hello world&quot;);\n}\n\nmain() {\n\n    ChangeableString myStr = new ChangeableString(&quot;&quot;);\n    changeString(myStr);\n}\n</code></pre>\n<p>Your <code>ChangeableString</code> class could be something like this:</p>\n<pre><code>class ChangeableString {\n    String str;\n    \n    public ChangeableString(String str) {\n        this.str = str;\n    }\n\n    public void changeTo(String newStr) {\n        str = newStr;\n    }\n\n    public String toString() {\n        return str;\n    }\n}\n</code></pre>\n<hr />\n<h3>A quick lesson on references:</h3>\n<p>In Java method everything is passed by value. This includes references. This can be illustrated by these two different methods:</p>\n<pre><code>void doNothing(Thing obj) {\n    obj = new Something();\n}\n\nvoid doSomething(Thing obj) {\n    obj.changeMe();\n}\n</code></pre>\n<p>If you call <code>doNothing(obj)</code> from <code>main()</code> (or anywhere for that matter), <code>obj</code> won't be changed in the callee because <code>doNothing</code> creates a new <code>Thing</code> and assigns that new reference to <code>obj</code> <em>in the scope of the method</em>.</p>\n<p>On the other hand, in <code>doSomething</code> you are calling <code>obj.changeMe()</code>, and that dereferences <code>obj</code> - which was passed by value - and changes it.</p>\n"},{"tags":[],"owner":{"account_id":14234,"reputation":2725,"user_id":29110,"display_name":"Johannes Wachter"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1281868017,"creation_date":1281868017,"answer_id":3486989,"question_id":3486393,"body_markdown":"If the changing of your `String` happens very often you could also assign a `StringBuffer` or `StringBuilder` to your variable and change its contents and only convert it to a `String` when this is needed.","title":"Java string value change in function","body":"<p>If the changing of your <code>String</code> happens very often you could also assign a <code>StringBuffer</code> or <code>StringBuilder</code> to your variable and change its contents and only convert it to a <code>String</code> when this is needed.</p>\n"},{"tags":[],"owner":{"account_id":25410,"reputation":20977,"user_id":65299,"accept_rate":72,"display_name":"Aaron Novstrup"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1281909736,"creation_date":1281909736,"answer_id":3489459,"question_id":3486393,"body_markdown":"Expanding a bit on [NullUserException&#39;s excellent answer](https://stackoverflow.com/questions/3486393/java-string-value-change-in-function/3486418#3486418), here&#39;s a more general solution:\r\n\r\n    public class Changeable&lt;T&gt; {\r\n       T value;\r\n\r\n       public Changeable(T value) {\r\n          this.value = value;\r\n       }\r\n\r\n       public String toString() {\r\n          return value.toString();\r\n       }\r\n\r\n       public boolean equals(Object other) {\r\n          if (other instanceof Changeable) {\r\n             return value.equals(((Changeable)other).value);\r\n          } else {\r\n             return value.equals(other);\r\n          }\r\n       }\r\n\r\n       public int hashCode() {\r\n          return value.hashCode();\r\n       }\r\n    }\r\n\r\nYura&#39;s original code can then be rewritten as:\r\n\r\n    void changeString(Changeable&lt;String&gt; str){\r\n       str.value = &quot;Hello world&quot;:\r\n    }\r\n\r\n    void main() {\r\n       Changeable&lt;String&gt; myStr = new Changeable&lt;String&gt;(&quot;&quot;);\r\n       changeString(myStr);\r\n    }\r\n\r\nAnd, just for fun, here it is in [Scala](http://www.scala-lang.org):\r\n\r\n    class Changeable[T](var self: T) extends Proxy;\r\n\r\n    object Application {\r\n       def changeString(str: Changeable[String]): Unit = {\r\n          str.self = &quot;Hello world&quot;;\r\n       }\r\n\r\n       def main(): Unit = {\r\n          val myStr = new Changeable(&quot;&quot;);\r\n          changeString(myStr);\r\n       }\r\n    }","title":"Java string value change in function","body":"<p>Expanding a bit on <a href=\"https://stackoverflow.com/questions/3486393/java-string-value-change-in-function/3486418#3486418\">NullUserException's excellent answer</a>, here's a more general solution:</p>\n\n<pre><code>public class Changeable&lt;T&gt; {\n   T value;\n\n   public Changeable(T value) {\n      this.value = value;\n   }\n\n   public String toString() {\n      return value.toString();\n   }\n\n   public boolean equals(Object other) {\n      if (other instanceof Changeable) {\n         return value.equals(((Changeable)other).value);\n      } else {\n         return value.equals(other);\n      }\n   }\n\n   public int hashCode() {\n      return value.hashCode();\n   }\n}\n</code></pre>\n\n<p>Yura's original code can then be rewritten as:</p>\n\n<pre><code>void changeString(Changeable&lt;String&gt; str){\n   str.value = \"Hello world\":\n}\n\nvoid main() {\n   Changeable&lt;String&gt; myStr = new Changeable&lt;String&gt;(\"\");\n   changeString(myStr);\n}\n</code></pre>\n\n<p>And, just for fun, here it is in <a href=\"http://www.scala-lang.org\" rel=\"nofollow noreferrer\">Scala</a>:</p>\n\n<pre><code>class Changeable[T](var self: T) extends Proxy;\n\nobject Application {\n   def changeString(str: Changeable[String]): Unit = {\n      str.self = \"Hello world\";\n   }\n\n   def main(): Unit = {\n      val myStr = new Changeable(\"\");\n      changeString(myStr);\n   }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":444559,"reputation":7485,"user_id":836450,"accept_rate":83,"display_name":"benathon"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1334449919,"creation_date":1334449919,"answer_id":10158578,"question_id":3486393,"body_markdown":"Bill, I have a solution to your problem which uses a List as a pointer in java!\r\n\r\n\r\n    void changeString(List&lt;String&gt; strPointer ){\r\n        String str = &quot;Hello world&quot;;\r\n        strPointer.add(0, str);\r\n    }\r\n    \r\n    main(){\r\n        LinkedList&lt;String&gt; list = new LinkedList&lt;String&gt;();\r\n        String myStr = new String(&quot;&quot;);\r\n        changeString(list);\r\n        myStr = list.get(0);\r\n        System.out.println( myStr );\r\n    }\r\n\r\nThis answer takes a little extra work to insert and get out the string from the list, however the final line will print &quot;Hello world!&quot;\r\n\r\nI hope this can help others as well!\r\n\r\n-Port Forward Podcast","title":"Java string value change in function","body":"<p>Bill, I have a solution to your problem which uses a List as a pointer in java!</p>\n\n<pre><code>void changeString(List&lt;String&gt; strPointer ){\n    String str = \"Hello world\";\n    strPointer.add(0, str);\n}\n\nmain(){\n    LinkedList&lt;String&gt; list = new LinkedList&lt;String&gt;();\n    String myStr = new String(\"\");\n    changeString(list);\n    myStr = list.get(0);\n    System.out.println( myStr );\n}\n</code></pre>\n\n<p>This answer takes a little extra work to insert and get out the string from the list, however the final line will print \"Hello world!\"</p>\n\n<p>I hope this can help others as well!</p>\n\n<p>-Port Forward Podcast</p>\n"},{"tags":[],"owner":{"account_id":9279641,"reputation":401,"user_id":6891192,"display_name":"K.Andy Wang"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643352707,"creation_date":1643352707,"answer_id":70889856,"question_id":3486393,"body_markdown":"Here&#39;s the one more solution by `StringBuffer/StringBuilder` worked for me.\r\n\r\n    static void changeValue(StringBuilder str){\r\n        str.append(&quot;newValue&quot;);\r\n    }\r\n\r\n    main(){\r\n        StringBuilder originalVal= new StringBuilder();\r\n        changeValue(originalVal);\r\n        System.out.println(originalVal.toString());\r\n    }\r\n\r\n","title":"Java string value change in function","body":"<p>Here's the one more solution by <code>StringBuffer/StringBuilder</code> worked for me.</p>\n<pre><code>static void changeValue(StringBuilder str){\n    str.append(&quot;newValue&quot;);\n}\n\nmain(){\n    StringBuilder originalVal= new StringBuilder();\n    changeValue(originalVal);\n    System.out.println(originalVal.toString());\n}\n</code></pre>\n"}],"owner":{"account_id":627718,"reputation":313,"user_id":372849,"display_name":"Yura"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51109,"favorite_count":0,"down_vote_count":1,"up_vote_count":30,"accepted_answer_id":3486418,"answer_count":7,"score":29,"last_activity_date":1643352707,"creation_date":1281851853,"question_id":3486393,"body_markdown":"I have this very awkward question...\r\n\r\n    void changeString(String str){\r\n        str = &quot;Hello world&quot;:\r\n    }\r\n    \r\n    main(){\r\n        String myStr = new String(&quot;&quot;);\r\n        changeString(myStr);\r\n    }\r\n\r\nWhen `main` returns, the value is still `&quot;&quot;` and not `&quot;Hello world&quot;`. Why is that?\r\n\r\nAlso, how do I make it work? Let&#39;s say I want my function `changeString` to change the string it got to &quot;Hello world&quot;.","title":"Java string value change in function","body":"<p>I have this very awkward question...</p>\n\n<pre><code>void changeString(String str){\n    str = \"Hello world\":\n}\n\nmain(){\n    String myStr = new String(\"\");\n    changeString(myStr);\n}\n</code></pre>\n\n<p>When <code>main</code> returns, the value is still <code>\"\"</code> and not <code>\"Hello world\"</code>. Why is that?</p>\n\n<p>Also, how do I make it work? Let's say I want my function <code>changeString</code> to change the string it got to \"Hello world\".</p>\n"},{"tags":["java","google-cloud-dataflow"],"answers":[{"tags":[],"owner":{"account_id":20093737,"reputation":6918,"user_id":14733669,"display_name":"Ricco D"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1643352704,"creation_date":1643339219,"answer_id":70888381,"question_id":70885230,"body_markdown":"Apologies I&#39;m Java illiterate but with regards to the details that you need I can point you to which endpoint in Dataflow API to get them. My examples are done by sending HTTP requests to the Dataflow API using curl.\r\n\r\nTo retrieve `steps` using Dataflow API use [projects.jobs.get][1] endpoint and specify what [JobView][2] you want. **JOB_VIEW_ALL** is required to return [job.steps][3].\r\n\r\n\r\nSample curl command used:\r\n```\r\ncurl -X GET -H &quot;Content-Type: application/json&quot; -H &quot;Authorization: Bearer &quot;$(gcloud auth application-default print-access-token) https://dataflow.googleapis.com/v1b3/projects/my-project/locations/us-central1/jobs/2022-01-13_19_11_56-999999999999?view=JOB_VIEW_ALL\r\n```\r\n\r\nResponse snippet with `steps`:\r\n\r\n[![enter image description here][4]][4]\r\n\r\n-----\r\n\r\nBut if following Dataflow Java API. You need to build your [GetJobRequest][5] to include [setView()][6] with [Enum JobView][7] as the parameter. Using code snippet from [getJob() documentation][8]:\r\n\r\n```\r\n try (JobsV1Beta3Client jobsV1Beta3Client = JobsV1Beta3Client.create()) {\r\n   GetJobRequest request =\r\n       GetJobRequest.newBuilder()\r\n           .setProjectId(&quot;your-project&quot;)\r\n           .setJobId(&quot;jobId101296568&quot;)\r\n           .setView(JobView.forNumber(2)) // try 2 as value for JOB_VIEW_ALL as per Enum JobView documentation provided above\r\n           .setLocation(&quot;us-central1&quot;)\r\n           .build();\r\n   Job response = jobsV1Beta3Client.getJob(request);\r\n }\r\n```\r\n\r\nCode snippet above should return [Job object][9] where you can try doing [getSteps()][10] and see if it will return something.\r\n\r\n\r\n  [1]: https://cloud.google.com/dataflow/docs/reference/rest/v1b3/projects.jobs/get\r\n  [2]: https://cloud.google.com/dataflow/docs/reference/rest/v1b3/JobView\r\n  [3]: https://cloud.google.com/dataflow/docs/reference/rest/v1b3/projects.jobs#Job.Step\r\n  [4]: https://i.stack.imgur.com/G01Ze.png\r\n  [5]: https://cloud.google.com/java/docs/reference/google-cloud-dataflow/latest/com.google.dataflow.v1beta3.GetJobRequest\r\n  [6]: https://cloud.google.com/java/docs/reference/google-cloud-dataflow/latest/com.google.dataflow.v1beta3.GetJobRequest.Builder#com_google_dataflow_v1beta3_GetJobRequest_Builder_setView_com_google_dataflow_v1beta3_JobView_\r\n  [7]: https://cloud.google.com/java/docs/reference/google-cloud-dataflow/latest/com.google.dataflow.v1beta3.JobView\r\n  [8]: https://cloud.google.com/java/docs/reference/google-cloud-dataflow/latest/com.google.dataflow.v1beta3.JobsV1Beta3Client#com_google_dataflow_v1beta3_JobsV1Beta3Client_getJob_com_google_dataflow_v1beta3_GetJobRequest_\r\n  [9]: https://cloud.google.com/java/docs/reference/google-cloud-dataflow/latest/com.google.dataflow.v1beta3.Job\r\n  [10]: https://cloud.google.com/java/docs/reference/google-cloud-dataflow/latest/com.google.dataflow.v1beta3.Job#com_google_dataflow_v1beta3_Job_getSteps_int_","title":"Unable to get Dataflow steps information using Java API","body":"<p>Apologies I'm Java illiterate but with regards to the details that you need I can point you to which endpoint in Dataflow API to get them. My examples are done by sending HTTP requests to the Dataflow API using curl.</p>\n<p>To retrieve <code>steps</code> using Dataflow API use <a href=\"https://cloud.google.com/dataflow/docs/reference/rest/v1b3/projects.jobs/get\" rel=\"nofollow noreferrer\">projects.jobs.get</a> endpoint and specify what <a href=\"https://cloud.google.com/dataflow/docs/reference/rest/v1b3/JobView\" rel=\"nofollow noreferrer\">JobView</a> you want. <strong>JOB_VIEW_ALL</strong> is required to return <a href=\"https://cloud.google.com/dataflow/docs/reference/rest/v1b3/projects.jobs#Job.Step\" rel=\"nofollow noreferrer\">job.steps</a>.</p>\n<p>Sample curl command used:</p>\n<pre><code>curl -X GET -H &quot;Content-Type: application/json&quot; -H &quot;Authorization: Bearer &quot;$(gcloud auth application-default print-access-token) https://dataflow.googleapis.com/v1b3/projects/my-project/locations/us-central1/jobs/2022-01-13_19_11_56-999999999999?view=JOB_VIEW_ALL\n</code></pre>\n<p>Response snippet with <code>steps</code>:</p>\n<p><a href=\"https://i.stack.imgur.com/G01Ze.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/G01Ze.png\" alt=\"enter image description here\" /></a></p>\n<hr />\n<p>But if following Dataflow Java API. You need to build your <a href=\"https://cloud.google.com/java/docs/reference/google-cloud-dataflow/latest/com.google.dataflow.v1beta3.GetJobRequest\" rel=\"nofollow noreferrer\">GetJobRequest</a> to include <a href=\"https://cloud.google.com/java/docs/reference/google-cloud-dataflow/latest/com.google.dataflow.v1beta3.GetJobRequest.Builder#com_google_dataflow_v1beta3_GetJobRequest_Builder_setView_com_google_dataflow_v1beta3_JobView_\" rel=\"nofollow noreferrer\">setView()</a> with <a href=\"https://cloud.google.com/java/docs/reference/google-cloud-dataflow/latest/com.google.dataflow.v1beta3.JobView\" rel=\"nofollow noreferrer\">Enum JobView</a> as the parameter. Using code snippet from <a href=\"https://cloud.google.com/java/docs/reference/google-cloud-dataflow/latest/com.google.dataflow.v1beta3.JobsV1Beta3Client#com_google_dataflow_v1beta3_JobsV1Beta3Client_getJob_com_google_dataflow_v1beta3_GetJobRequest_\" rel=\"nofollow noreferrer\">getJob() documentation</a>:</p>\n<pre><code> try (JobsV1Beta3Client jobsV1Beta3Client = JobsV1Beta3Client.create()) {\n   GetJobRequest request =\n       GetJobRequest.newBuilder()\n           .setProjectId(&quot;your-project&quot;)\n           .setJobId(&quot;jobId101296568&quot;)\n           .setView(JobView.forNumber(2)) // try 2 as value for JOB_VIEW_ALL as per Enum JobView documentation provided above\n           .setLocation(&quot;us-central1&quot;)\n           .build();\n   Job response = jobsV1Beta3Client.getJob(request);\n }\n</code></pre>\n<p>Code snippet above should return <a href=\"https://cloud.google.com/java/docs/reference/google-cloud-dataflow/latest/com.google.dataflow.v1beta3.Job\" rel=\"nofollow noreferrer\">Job object</a> where you can try doing <a href=\"https://cloud.google.com/java/docs/reference/google-cloud-dataflow/latest/com.google.dataflow.v1beta3.Job#com_google_dataflow_v1beta3_Job_getSteps_int_\" rel=\"nofollow noreferrer\">getSteps()</a> and see if it will return something.</p>\n"}],"owner":{"account_id":8329738,"reputation":61,"user_id":6258583,"display_name":"Aritra Nayak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":138,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70888381,"answer_count":1,"score":0,"last_activity_date":1643352704,"creation_date":1643314893,"question_id":70885230,"body_markdown":"I am trying to get the `steps` &amp; `jobMetrics` information of **an active streaming job** using the following code:\r\n\r\n```\r\nval jobMetrics = dataflowClient.projects().jobs().getMetrics(projectId, jobId).execute().getMetrics\r\nval steps = dataflowClient.projects().jobs().get(projectId, jobId).execute().getSteps\r\n``` \r\n\r\nBut, even though I am able to get the `jobMetrics` information, *the steps is always returning null.*\r\nAny pointers on what I am doing wrong?","title":"Unable to get Dataflow steps information using Java API","body":"<p>I am trying to get the <code>steps</code> &amp; <code>jobMetrics</code> information of <strong>an active streaming job</strong> using the following code:</p>\n<pre><code>val jobMetrics = dataflowClient.projects().jobs().getMetrics(projectId, jobId).execute().getMetrics\nval steps = dataflowClient.projects().jobs().get(projectId, jobId).execute().getSteps\n</code></pre>\n<p>But, even though I am able to get the <code>jobMetrics</code> information, <em>the steps is always returning null.</em>\nAny pointers on what I am doing wrong?</p>\n"},{"tags":["java","android","bluetooth","bluetooth-lowenergy","bluetooth-gatt"],"answers":[{"tags":[],"owner":{"account_id":13732063,"reputation":4892,"user_id":9909365,"display_name":"Ashvin solanki"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1643352618,"creation_date":1643352618,"answer_id":70889834,"question_id":70878659,"body_markdown":"I solved connection issue by.\r\n\r\n    bluetoothGatt = bluetoothDevice.connectGatt(\r\n                getApplicationContext(), false, gattCallback,\r\n                BluetoothDevice.TRANSPORT_AUTO\r\n        );","title":"Not Connecting Gatt Server","body":"<p>I solved connection issue by.</p>\n<pre><code>bluetoothGatt = bluetoothDevice.connectGatt(\n            getApplicationContext(), false, gattCallback,\n            BluetoothDevice.TRANSPORT_AUTO\n    );\n</code></pre>\n"}],"owner":{"account_id":13732063,"reputation":4892,"user_id":9909365,"display_name":"Ashvin solanki"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":493,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70889834,"answer_count":1,"score":1,"last_activity_date":1643352618,"creation_date":1643286999,"question_id":70878659,"body_markdown":"I trying to connect two android device over the Gatt Protocol.\r\n\r\n\r\n    import android.bluetooth.BluetoothAdapter;\r\n    import android.bluetooth.BluetoothDevice;\r\n    import android.bluetooth.BluetoothGatt;\r\n    import android.bluetooth.BluetoothGattCharacteristic;\r\n    import android.bluetooth.BluetoothGattDescriptor;\r\n    import android.bluetooth.BluetoothGattServer;\r\n    import android.bluetooth.BluetoothGattServerCallback;\r\n    import android.bluetooth.BluetoothGattService;\r\n    import android.bluetooth.BluetoothManager;\r\n    import android.bluetooth.BluetoothProfile;\r\n    import android.bluetooth.le.AdvertiseCallback;\r\n    import android.bluetooth.le.AdvertiseData;\r\n    import android.bluetooth.le.AdvertiseSettings;\r\n    import android.bluetooth.le.BluetoothLeAdvertiser;\r\n    import android.content.BroadcastReceiver;\r\n    import android.content.Context;\r\n    import android.content.Intent;\r\n    import android.content.IntentFilter;\r\n    import android.location.LocationManager;\r\n    import android.os.ParcelUuid;\r\n    import android.util.Log;\r\n    \r\n    import java.util.HashSet;\r\n    import java.util.Set;\r\n    \r\n    public class GattServer {\r\n        private final String TAG = GattServer.class.getSimpleName();\r\n    \r\n        private Context applicationContext;\r\n        private BluetoothManager bluetoothManager;\r\n        private BluetoothAdapter bluetoothAdapter;\r\n        private LocationManager locationManager;\r\n    \r\n        BluetoothLeAdvertiser bluetoothLeAdvertiser;\r\n    \r\n    \r\n        private static GattServer gattServer;\r\n        private BluetoothGattServer bluetoothGattServer;\r\n    \r\n        private Set&lt;BluetoothDevice&gt; connectedDevices = new HashSet&lt;&gt;();\r\n    \r\n    \r\n        public GattServer(Context applicationContext) {\r\n            this.applicationContext = applicationContext;\r\n            bluetoothManager = (BluetoothManager) applicationContext.getSystemService(Context.BLUETOOTH_SERVICE);\r\n            bluetoothAdapter = bluetoothManager.getAdapter();\r\n            locationManager = (LocationManager) applicationContext.getSystemService(Context.LOCATION_SERVICE);\r\n            registerBluetoothStateReceiver();\r\n        }\r\n    \r\n        public static GattServer getInstance(Context context) {\r\n            if (gattServer == null) {\r\n                gattServer = new GattServer(context.getApplicationContext());\r\n            }\r\n            return gattServer;\r\n        }\r\n    \r\n        private BroadcastReceiver bluetoothStateReceiver = new BroadcastReceiver() {\r\n            @Override\r\n            public void onReceive(Context context, Intent intent) {\r\n                int state = intent.getIntExtra(BluetoothAdapter.EXTRA_STATE, BluetoothAdapter.STATE_OFF);\r\n                switch (state) {\r\n                    case BluetoothAdapter.STATE_ON:\r\n                        println(&quot;Bluetooth adapter state is changed to ON&quot;);\r\n                        break;\r\n                    case BluetoothAdapter.STATE_OFF:\r\n                        println(&quot;Bluetooth adapter state is changed to OF&quot;);\r\n                        break;\r\n                    default:\r\n                        // Do nothing\r\n                }\r\n            }\r\n        };\r\n    \r\n        private void println(String message) {\r\n            Log.e(TAG, message);\r\n        }\r\n    \r\n        private void registerBluetoothStateReceiver() {\r\n            IntentFilter filter = new IntentFilter(BluetoothAdapter.ACTION_STATE_CHANGED);\r\n            try {\r\n                applicationContext.registerReceiver(bluetoothStateReceiver, filter);\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    \r\n        private void unregisterBluetoothStateReceiver() {\r\n            try {\r\n                applicationContext.unregisterReceiver(bluetoothStateReceiver);\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    \r\n    \r\n        public void destroy() {\r\n            stop();\r\n            unregisterBluetoothStateReceiver();\r\n            gattServer = null;\r\n        }\r\n    \r\n    \r\n        private AdvertiseCallback advertiseCallback = new AdvertiseCallback() {\r\n            @Override\r\n            public void onStartSuccess(AdvertiseSettings settingsInEffect) {\r\n                super.onStartSuccess(settingsInEffect);\r\n                println(&quot;Advertise Started&quot;);\r\n                listener.onAdvertiseStarted();\r\n            }\r\n    \r\n            @Override\r\n            public void onStartFailure(int errorCode) {\r\n                super.onStartFailure(errorCode);\r\n                println(&quot;Advertise Failed : &quot; + errorCode);\r\n                listener.onAdvertiseFail(errorCode);\r\n            }\r\n        };\r\n    \r\n        private void startAdvertising() {\r\n            bluetoothLeAdvertiser = bluetoothAdapter.getBluetoothLeAdvertiser();\r\n            if (bluetoothLeAdvertiser == null || !bluetoothAdapter.isMultipleAdvertisementSupported()) {\r\n                Log.e(TAG, &quot;Failed to create advertiser&quot;);\r\n                listener.onAdvertiseFail(-1);\r\n                return;\r\n            }\r\n    \r\n            AdvertiseSettings settings = new AdvertiseSettings.Builder()\r\n                    .setAdvertiseMode(AdvertiseSettings.ADVERTISE_MODE_BALANCED)\r\n                    .setConnectable(true)\r\n                    .setTimeout(0)\r\n                    .setTxPowerLevel(AdvertiseSettings.ADVERTISE_TX_POWER_MEDIUM)\r\n                    .build();\r\n    \r\n            AdvertiseData data = new AdvertiseData.Builder()\r\n                    .setIncludeDeviceName(true)\r\n                    .setIncludeTxPowerLevel(false)\r\n                    .addServiceUuid(new ParcelUuid(GattServerConfiguration.SERVICE_UUID))\r\n                    .build();\r\n    \r\n    \r\n            bluetoothLeAdvertiser.startAdvertising(settings, data, advertiseCallback);\r\n        }\r\n    \r\n        private BluetoothGattServerCallback gattCallback = new BluetoothGattServerCallback() {\r\n            @Override\r\n            public void onConnectionStateChange(BluetoothDevice device, int status, int newState) {\r\n                super.onConnectionStateChange(device, status, newState);\r\n                if (newState == BluetoothProfile.STATE_CONNECTED) {\r\n                    println(&quot;Device Connected : &quot; + device.getAddress());\r\n                    connectedDevices.add(device);\r\n                    listener.onDeviceConnected(device);\r\n                } else if (newState == BluetoothProfile.STATE_DISCONNECTED) {\r\n                    println(&quot;Device Disconnected : &quot; + device.getAddress());\r\n                    connectedDevices.remove(device);\r\n                    listener.onDeviceDisconnected(device);\r\n                }\r\n            }\r\n    \r\n            @Override\r\n            public void onServiceAdded(int status, BluetoothGattService service) {\r\n                super.onServiceAdded(status, service);\r\n                Log.d(TAG, &quot;onServiceAdded() called with: status = [&quot; + status + &quot;], service = [&quot; + service + &quot;]&quot;);\r\n                listener.onServiceAdded();\r\n            }\r\n    \r\n            @Override\r\n            public void onCharacteristicReadRequest(BluetoothDevice device, int requestId, int offset, BluetoothGattCharacteristic characteristic) {\r\n                super.onCharacteristicReadRequest(device, requestId, offset, characteristic);\r\n                Log.d(TAG, &quot;onCharacteristicReadRequest() called with: device = [&quot; + device + &quot;], requestId = [&quot; + requestId + &quot;], offset = [&quot; + offset + &quot;], characteristic = [&quot; + characteristic + &quot;]&quot;);\r\n                listener.onReceive(device, characteristic);\r\n            }\r\n    \r\n            @Override\r\n            public void onCharacteristicWriteRequest(BluetoothDevice device, int requestId, BluetoothGattCharacteristic characteristic, boolean preparedWrite, boolean responseNeeded, int offset, byte[] value) {\r\n                super.onCharacteristicWriteRequest(device, requestId, characteristic, preparedWrite, responseNeeded, offset, value);\r\n                Log.d(TAG, &quot;onCharacteristicWriteRequest() called with: device = [&quot; + device + &quot;], requestId = [&quot; + requestId + &quot;], characteristic = [&quot; + characteristic + &quot;], preparedWrite = [&quot; + preparedWrite + &quot;], responseNeeded = [&quot; + responseNeeded + &quot;], offset = [&quot; + offset + &quot;], value = [&quot; + value + &quot;]&quot;);\r\n            }\r\n    \r\n            @Override\r\n            public void onDescriptorReadRequest(BluetoothDevice device, int requestId, int offset, BluetoothGattDescriptor descriptor) {\r\n                super.onDescriptorReadRequest(device, requestId, offset, descriptor);\r\n                Log.d(TAG, &quot;onDescriptorReadRequest() called with: device = [&quot; + device + &quot;], requestId = [&quot; + requestId + &quot;], offset = [&quot; + offset + &quot;], descriptor = [&quot; + descriptor + &quot;]&quot;);\r\n    \r\n    \r\n                if (GattServerConfiguration.CCC_DESCRIPTOR_UUID.equals(descriptor.getUuid())) {\r\n                    Log.d(TAG, &quot;Config descriptor read&quot;);\r\n                    byte[] returnValue;\r\n                    if (connectedDevices.contains(device)) {\r\n                        returnValue = BluetoothGattDescriptor.ENABLE_NOTIFICATION_VALUE;\r\n                    } else {\r\n                        returnValue = BluetoothGattDescriptor.DISABLE_NOTIFICATION_VALUE;\r\n                    }\r\n                    bluetoothGattServer.sendResponse(device, requestId, BluetoothGatt.GATT_SUCCESS, 0, returnValue);\r\n                } else {\r\n                    Log.w(TAG, &quot;Unknown descriptor read request&quot;);\r\n                    bluetoothGattServer.sendResponse(device, requestId, BluetoothGatt.GATT_FAILURE, 0, null);\r\n                }\r\n    \r\n            }\r\n    \r\n            @Override\r\n            public void onDescriptorWriteRequest(BluetoothDevice device, int requestId, BluetoothGattDescriptor descriptor, boolean preparedWrite, boolean responseNeeded, int offset, byte[] value) {\r\n                super.onDescriptorWriteRequest(device, requestId, descriptor, preparedWrite, responseNeeded, offset, value);\r\n                Log.d(TAG, &quot;onDescriptorWriteRequest() called with: device = [&quot; + device + &quot;], requestId = [&quot; + requestId + &quot;], descriptor = [&quot; + descriptor + &quot;], preparedWrite = [&quot; + preparedWrite + &quot;], responseNeeded = [&quot; + responseNeeded + &quot;], offset = [&quot; + offset + &quot;], value = [&quot; + value + &quot;]&quot;);\r\n                if (GattServerConfiguration.CCC_DESCRIPTOR_UUID.equals(descriptor.getUuid())) {\r\n                    Log.d(TAG, &quot;Config descriptor read&quot;);\r\n                    byte[] returnValue;\r\n                    if (connectedDevices.contains(device)) {\r\n                        returnValue = BluetoothGattDescriptor.ENABLE_NOTIFICATION_VALUE;\r\n                    } else {\r\n                        returnValue = BluetoothGattDescriptor.DISABLE_NOTIFICATION_VALUE;\r\n                    }\r\n                    bluetoothGattServer.sendResponse(device, requestId, BluetoothGatt.GATT_SUCCESS, 0, returnValue);\r\n                } else {\r\n                    Log.w(TAG, &quot;Unknown descriptor read request&quot;);\r\n                    bluetoothGattServer.sendResponse(device, requestId, BluetoothGatt.GATT_FAILURE, 0, null);\r\n                }\r\n            }\r\n    \r\n            @Override\r\n            public void onExecuteWrite(BluetoothDevice device, int requestId, boolean execute) {\r\n                super.onExecuteWrite(device, requestId, execute);\r\n                Log.d(TAG, &quot;onExecuteWrite() called with: device = [&quot; + device + &quot;], requestId = [&quot; + requestId + &quot;], execute = [&quot; + execute + &quot;]&quot;);\r\n            }\r\n    \r\n            @Override\r\n            public void onNotificationSent(BluetoothDevice device, int status) {\r\n                super.onNotificationSent(device, status);\r\n                Log.d(TAG, &quot;onNotificationSent() called with: device = [&quot; + device + &quot;], status = [&quot; + status + &quot;]&quot;);\r\n            }\r\n    \r\n            @Override\r\n            public void onMtuChanged(BluetoothDevice device, int mtu) {\r\n                super.onMtuChanged(device, mtu);\r\n                Log.d(TAG, &quot;onMtuChanged() called with: device = [&quot; + device + &quot;], mtu = [&quot; + mtu + &quot;]&quot;);\r\n            }\r\n    \r\n            @Override\r\n            public void onPhyUpdate(BluetoothDevice device, int txPhy, int rxPhy, int status) {\r\n                super.onPhyUpdate(device, txPhy, rxPhy, status);\r\n                Log.d(TAG, &quot;onPhyUpdate() called with: device = [&quot; + device + &quot;], txPhy = [&quot; + txPhy + &quot;], rxPhy = [&quot; + rxPhy + &quot;], status = [&quot; + status + &quot;]&quot;);\r\n            }\r\n    \r\n            @Override\r\n            public void onPhyRead(BluetoothDevice device, int txPhy, int rxPhy, int status) {\r\n                super.onPhyRead(device, txPhy, rxPhy, status);\r\n                Log.d(TAG, &quot;onPhyRead() called with: device = [&quot; + device + &quot;], txPhy = [&quot; + txPhy + &quot;], rxPhy = [&quot; + rxPhy + &quot;], status = [&quot; + status + &quot;]&quot;);\r\n            }\r\n        };\r\n    \r\n        private void startServer() {\r\n            bluetoothGattServer = bluetoothManager.openGattServer(applicationContext, gattCallback);\r\n            if (bluetoothGattServer == null) {\r\n                println(&quot;Server is null&quot;);\r\n                return;\r\n            }\r\n    \r\n            bluetoothGattServer.addService(GattServerConfiguration.createGattService());\r\n        }\r\n    \r\n        public void launch() {\r\n            if (isReady()) {\r\n                startServer();\r\n                startAdvertising();\r\n            }\r\n        }\r\n    \r\n        private void stopAdvertising() {\r\n            if (bluetoothLeAdvertiser == null) return;\r\n            bluetoothLeAdvertiser.stopAdvertising(advertiseCallback);\r\n        }\r\n    \r\n        private void stopServer() {\r\n            if (bluetoothGattServer == null) return;\r\n            bluetoothGattServer.close();\r\n        }\r\n    \r\n        public void stop() {\r\n            stopAdvertising();\r\n            stopServer();\r\n            connectedDevices.clear();\r\n        }\r\n    \r\n        private boolean isReady() {\r\n            if (bluetoothManager == null) {\r\n                return false;\r\n            }\r\n    \r\n            return bluetoothAdapter.isEnabled() &amp;&amp; locationManager.isProviderEnabled(LocationManager.GPS_PROVIDER);\r\n        }\r\n    \r\n    \r\n        private IGattServer listener;\r\n    \r\n        public void setCallback(IGattServer listener) {\r\n            this.listener = listener;\r\n        }\r\n    }\r\n\r\n\r\nAbove code, successfully starts advertisement, \r\nAnother device successfully receive device in LE Scan (Using UUID&#39;s filter)\r\nBut `connectGatt()` not providing any callback.\r\n\r\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\r\n                bluetoothGatt = bluetoothDevice.connectGatt(\r\n                        getApplicationContext(), true, gattCallback,\r\n                        BluetoothDevice.TRANSPORT_LE\r\n                );\r\n            } else {\r\n                bluetoothGatt = bluetoothDevice.connectGatt(getApplicationContext(), true, gattCallback);\r\n            }\r\n\r\n\r\nGatt Callback Sample Code.\r\n\r\n    private BluetoothGattCallback gattCallback = new BluetoothGattCallback() {\r\n            @Override\r\n            public void onConnectionStateChange(BluetoothGatt gatt, int status, int newState) {\r\n                super.onConnectionStateChange(gatt, status, newState);\r\n                writeLog(&quot;onConnectionStateChange() called with: gatt = [&quot; + gatt + &quot;], status = [&quot; + status + &quot;], newState = [&quot; + newState + &quot;]&quot;);\r\n                broadcastUpdate(\r\n                        ACTION_GATT_MESSAGE,\r\n                        &quot;onConnectionStateChange() called with: gatt = $gatt, status = $status, newState = $newState&quot;\r\n                );\r\n                if (status == 8) {\r\n                    writeLog(&quot;BLE Out Of Range&quot;);\r\n                    broadcastUpdate(ACTION_GATT_MESSAGE, &quot;BLE Out Of Range status == 8&quot;);\r\n                } else if (status == 19) {\r\n                    writeLog(&quot;BLE Disconnected By Device&quot;);\r\n                    broadcastUpdate(ACTION_GATT_MESSAGE, &quot;BLE Disconnected By Device status == 19&quot;);\r\n                } else if (status == 22) {\r\n                    writeLog(&quot;BLE Issue with bond&quot;);\r\n                    broadcastUpdate(ACTION_GATT_MESSAGE, &quot;BLE Issue with bond status == 22&quot;);\r\n                } else if (status == 133 || status == 62) {\r\n                    writeLog(&quot;BLE Device not found&quot;);\r\n                    broadcastUpdate(\r\n                            ACTION_GATT_MESSAGE,\r\n                            &quot;BLE Device not found status == 133 || status == 62&quot;\r\n                    );\r\n                    disconnect();\r\n                    close();\r\n                    try {\r\n                        Thread.sleep(500);\r\n                    } catch (InterruptedException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                    connectDevice(bluetoothAdapter.getRemoteDevice(PrefManager.getInstance(getApplicationContext()).getLeAddress()));\r\n                    return;\r\n                }\r\n    \r\n    \r\n                if (newState == BluetoothProfile.STATE_CONNECTED) {\r\n                    connected = true;\r\n                    broadcastUpdate(ACTION_GATT_CONNECTED);\r\n                    bluetoothGatt.discoverServices();\r\n                } else if (newState == BluetoothProfile.STATE_DISCONNECTED) {\r\n                    connected = false;\r\n                    broadcastUpdate(ACTION_GATT_DISCONNECTED);\r\n                    stopSelf();\r\n                }\r\n            }\r\n    \r\n            @Override\r\n            public void onServicesDiscovered(BluetoothGatt gatt, int status) {\r\n                super.onServicesDiscovered(gatt, status);\r\n                writeLog(&quot;onServicesDiscovered() called with: gatt = [&quot; + gatt + &quot;], status = [&quot; + status + &quot;]&quot;);\r\n                if (status == BluetoothGatt.GATT_SUCCESS) {\r\n                    Intent intent = new Intent(ACTION_GATT_SERVICES_DISCOVERED);\r\n                    ArrayList&lt;BluetoothGattService&gt; services = new ArrayList&lt;BluetoothGattService&gt;();\r\n                    for (BluetoothGattService gattService : gatt.getServices()) {\r\n                        services.add(gattService);\r\n                    }\r\n                    intent.putParcelableArrayListExtra(&quot;services&quot;, services);\r\n    \r\n                    try {\r\n                        Thread.sleep(500);\r\n                    } catch (InterruptedException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n    \r\n                    broadcastUpdate(intent);\r\n                } else {\r\n                    broadcastUpdate(ACTION_GATT_NO_SERVICES_DISCOVERED);\r\n                }\r\n            }\r\n    \r\n            @Override\r\n            public void onCharacteristicRead(BluetoothGatt gatt, BluetoothGattCharacteristic characteristic, int status) {\r\n                super.onCharacteristicRead(gatt, characteristic, status);\r\n                Log.e(\r\n                        TAG,\r\n                        &quot;onCharacteristicRead() called with: gatt = $gatt, characteristic = $characteristic, status = $status&quot;\r\n                );\r\n    \r\n                if (status == BluetoothGatt.GATT_SUCCESS) {\r\n                    Intent intent = new Intent(ACTION_DATA_AVAILABLE);\r\n                    intent.putExtra(&quot;bytes&quot;, characteristic.getValue());\r\n                    //lintent.putExtra(&quot;data&quot;, characteristic.getValue().toString());\r\n                    broadcastUpdate(intent);\r\n                }\r\n            }\r\n    \r\n            @Override\r\n            public void onCharacteristicWrite(BluetoothGatt gatt, BluetoothGattCharacteristic characteristic, int status) {\r\n                super.onCharacteristicWrite(gatt, characteristic, status);\r\n                Log.e(\r\n                        TAG,\r\n                        &quot;onCharacteristicWrite() called with: gatt = &quot; + gatt + &quot;, characteristic = &quot; + characteristic + &quot;, status = &quot; + status\r\n                );\r\n    \r\n                if (canceled || !connected || writeCharacteristic == null) {\r\n                    writeLog(&quot;Return Form write 1&quot;);\r\n                    return;\r\n                }\r\n                if (status != BluetoothGatt.GATT_SUCCESS) {\r\n                    writeLog(&quot;Return Form write 2&quot;);\r\n                    broadcastUpdate(ACTION_DATA_WRITE_FAIL);\r\n                    return;\r\n                }\r\n                if (canceled) return;\r\n                writeLog(&quot;Write Success Checking for next bytes&quot;);\r\n                if (characteristic.getUuid().toString().equals(writeCharacteristic.getUuid().toString())) { // NOPMD - test object identity\r\n                    writeNext();\r\n                }\r\n            }\r\n    \r\n            @Override\r\n            public void onCharacteristicChanged(BluetoothGatt gatt, BluetoothGattCharacteristic characteristic) {\r\n                super.onCharacteristicChanged(gatt, characteristic);\r\n                Log.e(\r\n                        TAG,\r\n                        &quot;onCharacteristicChanged() called with: gatt = $gatt, characteristic = $characteristic&quot;\r\n                );\r\n    \r\n                if (characteristic.getUuid().toString().equals(readCharacteristic.getUuid().toString())) {\r\n                    Intent intent = new Intent(ACTION_DATA_AVAILABLE);\r\n                    intent.putExtra(&quot;bytes&quot;, characteristic.getValue());\r\n                    broadcastUpdate(intent);\r\n                }\r\n            }\r\n    \r\n            @Override\r\n            public void onDescriptorRead(BluetoothGatt gatt, BluetoothGattDescriptor descriptor, int status) {\r\n                super.onDescriptorRead(gatt, descriptor, status);\r\n                Log.e(\r\n                        TAG,\r\n                        &quot;onDescriptorRead() called with: gatt = $gatt, descriptor = $descriptor, status = $status&quot;\r\n                );\r\n            }\r\n    \r\n            @Override\r\n            public void onDescriptorWrite(BluetoothGatt gatt, BluetoothGattDescriptor descriptor, int status) {\r\n                super.onDescriptorWrite(gatt, descriptor, status);\r\n                writeLog(&quot;onDescriptorWrite() called with: gatt = [&quot; + gatt + &quot;], descriptor = [&quot; + descriptor + &quot;], status = [&quot; + status + &quot;]&quot;);\r\n            }\r\n    \r\n            @Override\r\n            public void onReliableWriteCompleted(BluetoothGatt gatt, int status) {\r\n                super.onReliableWriteCompleted(gatt, status);\r\n                writeLog(&quot;onReliableWriteCompleted() called with: gatt = [&quot; + gatt + &quot;], status = [&quot; + status + &quot;]&quot;);\r\n            }\r\n    \r\n            @Override\r\n            public void onReadRemoteRssi(BluetoothGatt gatt, int rssi, int status) {\r\n                super.onReadRemoteRssi(gatt, rssi, status);\r\n                writeLog(&quot;onReadRemoteRssi() called with: gatt = [&quot; + gatt + &quot;], rssi = [&quot; + rssi + &quot;], status = [&quot; + status + &quot;]&quot;);\r\n            }\r\n    \r\n            @Override\r\n            public void onMtuChanged(BluetoothGatt gatt, int mtu, int status) {\r\n                super.onMtuChanged(gatt, mtu, status);\r\n                if (status == BluetoothGatt.GATT_SUCCESS) {\r\n                    payloadSize = mtu - 3;\r\n                    writeLog(&quot;payload size $payloadSize&quot;);\r\n                }\r\n                enableTxNotification();\r\n            }\r\n    \r\n            @Override\r\n            public void onServiceChanged(@NonNull BluetoothGatt gatt) {\r\n                super.onServiceChanged(gatt);\r\n            }\r\n        };\r\n\r\n","title":"Not Connecting Gatt Server","body":"<p>I trying to connect two android device over the Gatt Protocol.</p>\n<pre><code>import android.bluetooth.BluetoothAdapter;\nimport android.bluetooth.BluetoothDevice;\nimport android.bluetooth.BluetoothGatt;\nimport android.bluetooth.BluetoothGattCharacteristic;\nimport android.bluetooth.BluetoothGattDescriptor;\nimport android.bluetooth.BluetoothGattServer;\nimport android.bluetooth.BluetoothGattServerCallback;\nimport android.bluetooth.BluetoothGattService;\nimport android.bluetooth.BluetoothManager;\nimport android.bluetooth.BluetoothProfile;\nimport android.bluetooth.le.AdvertiseCallback;\nimport android.bluetooth.le.AdvertiseData;\nimport android.bluetooth.le.AdvertiseSettings;\nimport android.bluetooth.le.BluetoothLeAdvertiser;\nimport android.content.BroadcastReceiver;\nimport android.content.Context;\nimport android.content.Intent;\nimport android.content.IntentFilter;\nimport android.location.LocationManager;\nimport android.os.ParcelUuid;\nimport android.util.Log;\n\nimport java.util.HashSet;\nimport java.util.Set;\n\npublic class GattServer {\n    private final String TAG = GattServer.class.getSimpleName();\n\n    private Context applicationContext;\n    private BluetoothManager bluetoothManager;\n    private BluetoothAdapter bluetoothAdapter;\n    private LocationManager locationManager;\n\n    BluetoothLeAdvertiser bluetoothLeAdvertiser;\n\n\n    private static GattServer gattServer;\n    private BluetoothGattServer bluetoothGattServer;\n\n    private Set&lt;BluetoothDevice&gt; connectedDevices = new HashSet&lt;&gt;();\n\n\n    public GattServer(Context applicationContext) {\n        this.applicationContext = applicationContext;\n        bluetoothManager = (BluetoothManager) applicationContext.getSystemService(Context.BLUETOOTH_SERVICE);\n        bluetoothAdapter = bluetoothManager.getAdapter();\n        locationManager = (LocationManager) applicationContext.getSystemService(Context.LOCATION_SERVICE);\n        registerBluetoothStateReceiver();\n    }\n\n    public static GattServer getInstance(Context context) {\n        if (gattServer == null) {\n            gattServer = new GattServer(context.getApplicationContext());\n        }\n        return gattServer;\n    }\n\n    private BroadcastReceiver bluetoothStateReceiver = new BroadcastReceiver() {\n        @Override\n        public void onReceive(Context context, Intent intent) {\n            int state = intent.getIntExtra(BluetoothAdapter.EXTRA_STATE, BluetoothAdapter.STATE_OFF);\n            switch (state) {\n                case BluetoothAdapter.STATE_ON:\n                    println(&quot;Bluetooth adapter state is changed to ON&quot;);\n                    break;\n                case BluetoothAdapter.STATE_OFF:\n                    println(&quot;Bluetooth adapter state is changed to OF&quot;);\n                    break;\n                default:\n                    // Do nothing\n            }\n        }\n    };\n\n    private void println(String message) {\n        Log.e(TAG, message);\n    }\n\n    private void registerBluetoothStateReceiver() {\n        IntentFilter filter = new IntentFilter(BluetoothAdapter.ACTION_STATE_CHANGED);\n        try {\n            applicationContext.registerReceiver(bluetoothStateReceiver, filter);\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n\n    private void unregisterBluetoothStateReceiver() {\n        try {\n            applicationContext.unregisterReceiver(bluetoothStateReceiver);\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n\n\n    public void destroy() {\n        stop();\n        unregisterBluetoothStateReceiver();\n        gattServer = null;\n    }\n\n\n    private AdvertiseCallback advertiseCallback = new AdvertiseCallback() {\n        @Override\n        public void onStartSuccess(AdvertiseSettings settingsInEffect) {\n            super.onStartSuccess(settingsInEffect);\n            println(&quot;Advertise Started&quot;);\n            listener.onAdvertiseStarted();\n        }\n\n        @Override\n        public void onStartFailure(int errorCode) {\n            super.onStartFailure(errorCode);\n            println(&quot;Advertise Failed : &quot; + errorCode);\n            listener.onAdvertiseFail(errorCode);\n        }\n    };\n\n    private void startAdvertising() {\n        bluetoothLeAdvertiser = bluetoothAdapter.getBluetoothLeAdvertiser();\n        if (bluetoothLeAdvertiser == null || !bluetoothAdapter.isMultipleAdvertisementSupported()) {\n            Log.e(TAG, &quot;Failed to create advertiser&quot;);\n            listener.onAdvertiseFail(-1);\n            return;\n        }\n\n        AdvertiseSettings settings = new AdvertiseSettings.Builder()\n                .setAdvertiseMode(AdvertiseSettings.ADVERTISE_MODE_BALANCED)\n                .setConnectable(true)\n                .setTimeout(0)\n                .setTxPowerLevel(AdvertiseSettings.ADVERTISE_TX_POWER_MEDIUM)\n                .build();\n\n        AdvertiseData data = new AdvertiseData.Builder()\n                .setIncludeDeviceName(true)\n                .setIncludeTxPowerLevel(false)\n                .addServiceUuid(new ParcelUuid(GattServerConfiguration.SERVICE_UUID))\n                .build();\n\n\n        bluetoothLeAdvertiser.startAdvertising(settings, data, advertiseCallback);\n    }\n\n    private BluetoothGattServerCallback gattCallback = new BluetoothGattServerCallback() {\n        @Override\n        public void onConnectionStateChange(BluetoothDevice device, int status, int newState) {\n            super.onConnectionStateChange(device, status, newState);\n            if (newState == BluetoothProfile.STATE_CONNECTED) {\n                println(&quot;Device Connected : &quot; + device.getAddress());\n                connectedDevices.add(device);\n                listener.onDeviceConnected(device);\n            } else if (newState == BluetoothProfile.STATE_DISCONNECTED) {\n                println(&quot;Device Disconnected : &quot; + device.getAddress());\n                connectedDevices.remove(device);\n                listener.onDeviceDisconnected(device);\n            }\n        }\n\n        @Override\n        public void onServiceAdded(int status, BluetoothGattService service) {\n            super.onServiceAdded(status, service);\n            Log.d(TAG, &quot;onServiceAdded() called with: status = [&quot; + status + &quot;], service = [&quot; + service + &quot;]&quot;);\n            listener.onServiceAdded();\n        }\n\n        @Override\n        public void onCharacteristicReadRequest(BluetoothDevice device, int requestId, int offset, BluetoothGattCharacteristic characteristic) {\n            super.onCharacteristicReadRequest(device, requestId, offset, characteristic);\n            Log.d(TAG, &quot;onCharacteristicReadRequest() called with: device = [&quot; + device + &quot;], requestId = [&quot; + requestId + &quot;], offset = [&quot; + offset + &quot;], characteristic = [&quot; + characteristic + &quot;]&quot;);\n            listener.onReceive(device, characteristic);\n        }\n\n        @Override\n        public void onCharacteristicWriteRequest(BluetoothDevice device, int requestId, BluetoothGattCharacteristic characteristic, boolean preparedWrite, boolean responseNeeded, int offset, byte[] value) {\n            super.onCharacteristicWriteRequest(device, requestId, characteristic, preparedWrite, responseNeeded, offset, value);\n            Log.d(TAG, &quot;onCharacteristicWriteRequest() called with: device = [&quot; + device + &quot;], requestId = [&quot; + requestId + &quot;], characteristic = [&quot; + characteristic + &quot;], preparedWrite = [&quot; + preparedWrite + &quot;], responseNeeded = [&quot; + responseNeeded + &quot;], offset = [&quot; + offset + &quot;], value = [&quot; + value + &quot;]&quot;);\n        }\n\n        @Override\n        public void onDescriptorReadRequest(BluetoothDevice device, int requestId, int offset, BluetoothGattDescriptor descriptor) {\n            super.onDescriptorReadRequest(device, requestId, offset, descriptor);\n            Log.d(TAG, &quot;onDescriptorReadRequest() called with: device = [&quot; + device + &quot;], requestId = [&quot; + requestId + &quot;], offset = [&quot; + offset + &quot;], descriptor = [&quot; + descriptor + &quot;]&quot;);\n\n\n            if (GattServerConfiguration.CCC_DESCRIPTOR_UUID.equals(descriptor.getUuid())) {\n                Log.d(TAG, &quot;Config descriptor read&quot;);\n                byte[] returnValue;\n                if (connectedDevices.contains(device)) {\n                    returnValue = BluetoothGattDescriptor.ENABLE_NOTIFICATION_VALUE;\n                } else {\n                    returnValue = BluetoothGattDescriptor.DISABLE_NOTIFICATION_VALUE;\n                }\n                bluetoothGattServer.sendResponse(device, requestId, BluetoothGatt.GATT_SUCCESS, 0, returnValue);\n            } else {\n                Log.w(TAG, &quot;Unknown descriptor read request&quot;);\n                bluetoothGattServer.sendResponse(device, requestId, BluetoothGatt.GATT_FAILURE, 0, null);\n            }\n\n        }\n\n        @Override\n        public void onDescriptorWriteRequest(BluetoothDevice device, int requestId, BluetoothGattDescriptor descriptor, boolean preparedWrite, boolean responseNeeded, int offset, byte[] value) {\n            super.onDescriptorWriteRequest(device, requestId, descriptor, preparedWrite, responseNeeded, offset, value);\n            Log.d(TAG, &quot;onDescriptorWriteRequest() called with: device = [&quot; + device + &quot;], requestId = [&quot; + requestId + &quot;], descriptor = [&quot; + descriptor + &quot;], preparedWrite = [&quot; + preparedWrite + &quot;], responseNeeded = [&quot; + responseNeeded + &quot;], offset = [&quot; + offset + &quot;], value = [&quot; + value + &quot;]&quot;);\n            if (GattServerConfiguration.CCC_DESCRIPTOR_UUID.equals(descriptor.getUuid())) {\n                Log.d(TAG, &quot;Config descriptor read&quot;);\n                byte[] returnValue;\n                if (connectedDevices.contains(device)) {\n                    returnValue = BluetoothGattDescriptor.ENABLE_NOTIFICATION_VALUE;\n                } else {\n                    returnValue = BluetoothGattDescriptor.DISABLE_NOTIFICATION_VALUE;\n                }\n                bluetoothGattServer.sendResponse(device, requestId, BluetoothGatt.GATT_SUCCESS, 0, returnValue);\n            } else {\n                Log.w(TAG, &quot;Unknown descriptor read request&quot;);\n                bluetoothGattServer.sendResponse(device, requestId, BluetoothGatt.GATT_FAILURE, 0, null);\n            }\n        }\n\n        @Override\n        public void onExecuteWrite(BluetoothDevice device, int requestId, boolean execute) {\n            super.onExecuteWrite(device, requestId, execute);\n            Log.d(TAG, &quot;onExecuteWrite() called with: device = [&quot; + device + &quot;], requestId = [&quot; + requestId + &quot;], execute = [&quot; + execute + &quot;]&quot;);\n        }\n\n        @Override\n        public void onNotificationSent(BluetoothDevice device, int status) {\n            super.onNotificationSent(device, status);\n            Log.d(TAG, &quot;onNotificationSent() called with: device = [&quot; + device + &quot;], status = [&quot; + status + &quot;]&quot;);\n        }\n\n        @Override\n        public void onMtuChanged(BluetoothDevice device, int mtu) {\n            super.onMtuChanged(device, mtu);\n            Log.d(TAG, &quot;onMtuChanged() called with: device = [&quot; + device + &quot;], mtu = [&quot; + mtu + &quot;]&quot;);\n        }\n\n        @Override\n        public void onPhyUpdate(BluetoothDevice device, int txPhy, int rxPhy, int status) {\n            super.onPhyUpdate(device, txPhy, rxPhy, status);\n            Log.d(TAG, &quot;onPhyUpdate() called with: device = [&quot; + device + &quot;], txPhy = [&quot; + txPhy + &quot;], rxPhy = [&quot; + rxPhy + &quot;], status = [&quot; + status + &quot;]&quot;);\n        }\n\n        @Override\n        public void onPhyRead(BluetoothDevice device, int txPhy, int rxPhy, int status) {\n            super.onPhyRead(device, txPhy, rxPhy, status);\n            Log.d(TAG, &quot;onPhyRead() called with: device = [&quot; + device + &quot;], txPhy = [&quot; + txPhy + &quot;], rxPhy = [&quot; + rxPhy + &quot;], status = [&quot; + status + &quot;]&quot;);\n        }\n    };\n\n    private void startServer() {\n        bluetoothGattServer = bluetoothManager.openGattServer(applicationContext, gattCallback);\n        if (bluetoothGattServer == null) {\n            println(&quot;Server is null&quot;);\n            return;\n        }\n\n        bluetoothGattServer.addService(GattServerConfiguration.createGattService());\n    }\n\n    public void launch() {\n        if (isReady()) {\n            startServer();\n            startAdvertising();\n        }\n    }\n\n    private void stopAdvertising() {\n        if (bluetoothLeAdvertiser == null) return;\n        bluetoothLeAdvertiser.stopAdvertising(advertiseCallback);\n    }\n\n    private void stopServer() {\n        if (bluetoothGattServer == null) return;\n        bluetoothGattServer.close();\n    }\n\n    public void stop() {\n        stopAdvertising();\n        stopServer();\n        connectedDevices.clear();\n    }\n\n    private boolean isReady() {\n        if (bluetoothManager == null) {\n            return false;\n        }\n\n        return bluetoothAdapter.isEnabled() &amp;&amp; locationManager.isProviderEnabled(LocationManager.GPS_PROVIDER);\n    }\n\n\n    private IGattServer listener;\n\n    public void setCallback(IGattServer listener) {\n        this.listener = listener;\n    }\n}\n</code></pre>\n<p>Above code, successfully starts advertisement,\nAnother device successfully receive device in LE Scan (Using UUID's filter)\nBut <code>connectGatt()</code> not providing any callback.</p>\n<pre><code>if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\n            bluetoothGatt = bluetoothDevice.connectGatt(\n                    getApplicationContext(), true, gattCallback,\n                    BluetoothDevice.TRANSPORT_LE\n            );\n        } else {\n            bluetoothGatt = bluetoothDevice.connectGatt(getApplicationContext(), true, gattCallback);\n        }\n</code></pre>\n<p>Gatt Callback Sample Code.</p>\n<pre><code>private BluetoothGattCallback gattCallback = new BluetoothGattCallback() {\n        @Override\n        public void onConnectionStateChange(BluetoothGatt gatt, int status, int newState) {\n            super.onConnectionStateChange(gatt, status, newState);\n            writeLog(&quot;onConnectionStateChange() called with: gatt = [&quot; + gatt + &quot;], status = [&quot; + status + &quot;], newState = [&quot; + newState + &quot;]&quot;);\n            broadcastUpdate(\n                    ACTION_GATT_MESSAGE,\n                    &quot;onConnectionStateChange() called with: gatt = $gatt, status = $status, newState = $newState&quot;\n            );\n            if (status == 8) {\n                writeLog(&quot;BLE Out Of Range&quot;);\n                broadcastUpdate(ACTION_GATT_MESSAGE, &quot;BLE Out Of Range status == 8&quot;);\n            } else if (status == 19) {\n                writeLog(&quot;BLE Disconnected By Device&quot;);\n                broadcastUpdate(ACTION_GATT_MESSAGE, &quot;BLE Disconnected By Device status == 19&quot;);\n            } else if (status == 22) {\n                writeLog(&quot;BLE Issue with bond&quot;);\n                broadcastUpdate(ACTION_GATT_MESSAGE, &quot;BLE Issue with bond status == 22&quot;);\n            } else if (status == 133 || status == 62) {\n                writeLog(&quot;BLE Device not found&quot;);\n                broadcastUpdate(\n                        ACTION_GATT_MESSAGE,\n                        &quot;BLE Device not found status == 133 || status == 62&quot;\n                );\n                disconnect();\n                close();\n                try {\n                    Thread.sleep(500);\n                } catch (InterruptedException e) {\n                    e.printStackTrace();\n                }\n                connectDevice(bluetoothAdapter.getRemoteDevice(PrefManager.getInstance(getApplicationContext()).getLeAddress()));\n                return;\n            }\n\n\n            if (newState == BluetoothProfile.STATE_CONNECTED) {\n                connected = true;\n                broadcastUpdate(ACTION_GATT_CONNECTED);\n                bluetoothGatt.discoverServices();\n            } else if (newState == BluetoothProfile.STATE_DISCONNECTED) {\n                connected = false;\n                broadcastUpdate(ACTION_GATT_DISCONNECTED);\n                stopSelf();\n            }\n        }\n\n        @Override\n        public void onServicesDiscovered(BluetoothGatt gatt, int status) {\n            super.onServicesDiscovered(gatt, status);\n            writeLog(&quot;onServicesDiscovered() called with: gatt = [&quot; + gatt + &quot;], status = [&quot; + status + &quot;]&quot;);\n            if (status == BluetoothGatt.GATT_SUCCESS) {\n                Intent intent = new Intent(ACTION_GATT_SERVICES_DISCOVERED);\n                ArrayList&lt;BluetoothGattService&gt; services = new ArrayList&lt;BluetoothGattService&gt;();\n                for (BluetoothGattService gattService : gatt.getServices()) {\n                    services.add(gattService);\n                }\n                intent.putParcelableArrayListExtra(&quot;services&quot;, services);\n\n                try {\n                    Thread.sleep(500);\n                } catch (InterruptedException e) {\n                    e.printStackTrace();\n                }\n\n                broadcastUpdate(intent);\n            } else {\n                broadcastUpdate(ACTION_GATT_NO_SERVICES_DISCOVERED);\n            }\n        }\n\n        @Override\n        public void onCharacteristicRead(BluetoothGatt gatt, BluetoothGattCharacteristic characteristic, int status) {\n            super.onCharacteristicRead(gatt, characteristic, status);\n            Log.e(\n                    TAG,\n                    &quot;onCharacteristicRead() called with: gatt = $gatt, characteristic = $characteristic, status = $status&quot;\n            );\n\n            if (status == BluetoothGatt.GATT_SUCCESS) {\n                Intent intent = new Intent(ACTION_DATA_AVAILABLE);\n                intent.putExtra(&quot;bytes&quot;, characteristic.getValue());\n                //lintent.putExtra(&quot;data&quot;, characteristic.getValue().toString());\n                broadcastUpdate(intent);\n            }\n        }\n\n        @Override\n        public void onCharacteristicWrite(BluetoothGatt gatt, BluetoothGattCharacteristic characteristic, int status) {\n            super.onCharacteristicWrite(gatt, characteristic, status);\n            Log.e(\n                    TAG,\n                    &quot;onCharacteristicWrite() called with: gatt = &quot; + gatt + &quot;, characteristic = &quot; + characteristic + &quot;, status = &quot; + status\n            );\n\n            if (canceled || !connected || writeCharacteristic == null) {\n                writeLog(&quot;Return Form write 1&quot;);\n                return;\n            }\n            if (status != BluetoothGatt.GATT_SUCCESS) {\n                writeLog(&quot;Return Form write 2&quot;);\n                broadcastUpdate(ACTION_DATA_WRITE_FAIL);\n                return;\n            }\n            if (canceled) return;\n            writeLog(&quot;Write Success Checking for next bytes&quot;);\n            if (characteristic.getUuid().toString().equals(writeCharacteristic.getUuid().toString())) { // NOPMD - test object identity\n                writeNext();\n            }\n        }\n\n        @Override\n        public void onCharacteristicChanged(BluetoothGatt gatt, BluetoothGattCharacteristic characteristic) {\n            super.onCharacteristicChanged(gatt, characteristic);\n            Log.e(\n                    TAG,\n                    &quot;onCharacteristicChanged() called with: gatt = $gatt, characteristic = $characteristic&quot;\n            );\n\n            if (characteristic.getUuid().toString().equals(readCharacteristic.getUuid().toString())) {\n                Intent intent = new Intent(ACTION_DATA_AVAILABLE);\n                intent.putExtra(&quot;bytes&quot;, characteristic.getValue());\n                broadcastUpdate(intent);\n            }\n        }\n\n        @Override\n        public void onDescriptorRead(BluetoothGatt gatt, BluetoothGattDescriptor descriptor, int status) {\n            super.onDescriptorRead(gatt, descriptor, status);\n            Log.e(\n                    TAG,\n                    &quot;onDescriptorRead() called with: gatt = $gatt, descriptor = $descriptor, status = $status&quot;\n            );\n        }\n\n        @Override\n        public void onDescriptorWrite(BluetoothGatt gatt, BluetoothGattDescriptor descriptor, int status) {\n            super.onDescriptorWrite(gatt, descriptor, status);\n            writeLog(&quot;onDescriptorWrite() called with: gatt = [&quot; + gatt + &quot;], descriptor = [&quot; + descriptor + &quot;], status = [&quot; + status + &quot;]&quot;);\n        }\n\n        @Override\n        public void onReliableWriteCompleted(BluetoothGatt gatt, int status) {\n            super.onReliableWriteCompleted(gatt, status);\n            writeLog(&quot;onReliableWriteCompleted() called with: gatt = [&quot; + gatt + &quot;], status = [&quot; + status + &quot;]&quot;);\n        }\n\n        @Override\n        public void onReadRemoteRssi(BluetoothGatt gatt, int rssi, int status) {\n            super.onReadRemoteRssi(gatt, rssi, status);\n            writeLog(&quot;onReadRemoteRssi() called with: gatt = [&quot; + gatt + &quot;], rssi = [&quot; + rssi + &quot;], status = [&quot; + status + &quot;]&quot;);\n        }\n\n        @Override\n        public void onMtuChanged(BluetoothGatt gatt, int mtu, int status) {\n            super.onMtuChanged(gatt, mtu, status);\n            if (status == BluetoothGatt.GATT_SUCCESS) {\n                payloadSize = mtu - 3;\n                writeLog(&quot;payload size $payloadSize&quot;);\n            }\n            enableTxNotification();\n        }\n\n        @Override\n        public void onServiceChanged(@NonNull BluetoothGatt gatt) {\n            super.onServiceChanged(gatt);\n        }\n    };\n</code></pre>\n"},{"tags":["java","selenium","webdriver","selenium-chromedriver","headless"],"comments":[{"owner":{"account_id":1226405,"reputation":331,"user_id":1191852,"accept_rate":38,"display_name":"Kanchan Ruia"},"score":0,"creation_date":1551706160,"post_id":54984306,"comment_id":96726250,"body_markdown":"There is no exception no stacktrace present.","body":"There is no exception no stacktrace present."},{"owner":{"account_id":10618091,"reputation":1168,"user_id":7819964,"display_name":"sayhan"},"score":0,"creation_date":1551706541,"post_id":54984306,"comment_id":96726495,"body_markdown":"Please provide us more information about your code. Would you please show us your driver options?","body":"Please provide us more information about your code. Would you please show us your driver options?"},{"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"score":0,"creation_date":1551708475,"post_id":54984306,"comment_id":96727565,"body_markdown":"@KanchanRuia Update the question with the error stack trace.","body":"@KanchanRuia Update the question with the error stack trace."},{"owner":{"account_id":1226405,"reputation":331,"user_id":1191852,"accept_rate":38,"display_name":"Kanchan Ruia"},"score":0,"creation_date":1551765526,"post_id":54984306,"comment_id":96748903,"body_markdown":"I have updated my question if this would help","body":"I have updated my question if this would help"},{"owner":{"account_id":12016659,"reputation":8089,"user_id":8791568,"display_name":"Mate Mrše"},"score":0,"creation_date":1573128348,"post_id":54984306,"comment_id":103785227,"body_markdown":"I had this problem on the previous job, on Windows 7 but not Windows 10. Now I&#39;m unable to reproduce it.","body":"I had this problem on the previous job, on Windows 7 but not Windows 10. Now I&#39;m unable to reproduce it."},{"owner":{"account_id":6541753,"reputation":2384,"user_id":5059031,"accept_rate":10,"display_name":"Zvi"},"score":0,"creation_date":1610658966,"post_id":54984306,"comment_id":116210039,"body_markdown":"You might want to switch to FireFox driver. I had also problems with headless Chrome.which disappeared once I switched to FireFox.","body":"You might want to switch to FireFox driver. I had also problems with headless Chrome.which disappeared once I switched to FireFox."}],"answers":[{"tags":[],"owner":{"account_id":15083819,"reputation":33038,"user_id":10885684,"display_name":"KunduK"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1617880759,"creation_date":1551708770,"answer_id":54985009,"question_id":54984306,"body_markdown":"I have noticed that in my case and worked perfectly.You need add window size as an arguments in headless Mode.I don&#39;t know which language you are working on.\r\n\r\nIf you are using `python` add this .  \r\n\r\n      chrome_options = webdriver.ChromeOptions()\r\n      chrome_options.add_argument(&#39;--headless&#39;)\r\n      chrome_options.add_argument(&#39;window-size=1920x1080&#39;)\r\n\r\nif you are using `java` add this.\r\n\r\n    ChromeOptions chromeOptions = new ChromeOptions();\r\n    chromeOptions.addArguments(&quot;headless&quot;);\r\n    chromeOptions.addArguments(&quot;window-size=1920,1080&quot;);\r\n\r\nPlease try this and let me know if this work.","title":"Problem with Chromedriver in Headless mode","body":"<p>I have noticed that in my case and worked perfectly.You need add window size as an arguments in headless Mode.I don't know which language you are working on.</p>\n<p>If you are using <code>python</code> add this .</p>\n<pre><code>  chrome_options = webdriver.ChromeOptions()\n  chrome_options.add_argument('--headless')\n  chrome_options.add_argument('window-size=1920x1080')\n</code></pre>\n<p>if you are using <code>java</code> add this.</p>\n<pre><code>ChromeOptions chromeOptions = new ChromeOptions();\nchromeOptions.addArguments(&quot;headless&quot;);\nchromeOptions.addArguments(&quot;window-size=1920,1080&quot;);\n</code></pre>\n<p>Please try this and let me know if this work.</p>\n"},{"tags":[],"owner":{"account_id":20560176,"reputation":633,"user_id":15090857,"display_name":"fam"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643351080,"creation_date":1643351080,"answer_id":70889608,"question_id":54984306,"body_markdown":"In `Python`, the chrome driver in `headless` mode sometimes requires the window size. Especially, when you want to perform some actions and navigate through different pages. Not providing the window size opens your driver in an arbitrary size. As a result, the desired elements are not visible.\r\n\r\n```\r\nfrom selenium.webdriver.chrome.options import Options\r\n\r\n\r\nchrome_options = Options()\r\nchrome_options.add_argument(&#39;--headless&#39;)\r\nchrome_options.add_argument(&quot;--window-size=1920,1080&quot;)\r\n```\r\n\r\nIf you are not working in `headless` mode, you can instead use:\r\n```\r\nfrom selenium import webdriver\r\n\r\n\r\ndriver = webdriver.Chrome(executable_path = &quot;./chromedriver&quot;, options = chrome_options)\r\ndriver.maximize_window()\r\n","title":"Problem with Chromedriver in Headless mode","body":"<p>In <code>Python</code>, the chrome driver in <code>headless</code> mode sometimes requires the window size. Especially, when you want to perform some actions and navigate through different pages. Not providing the window size opens your driver in an arbitrary size. As a result, the desired elements are not visible.</p>\n<pre><code>from selenium.webdriver.chrome.options import Options\n\n\nchrome_options = Options()\nchrome_options.add_argument('--headless')\nchrome_options.add_argument(&quot;--window-size=1920,1080&quot;)\n</code></pre>\n<p>If you are not working in <code>headless</code> mode, you can instead use:</p>\n<pre><code>from selenium import webdriver\n\n\ndriver = webdriver.Chrome(executable_path = &quot;./chromedriver&quot;, options = chrome_options)\ndriver.maximize_window()\n</code></pre>\n"}],"owner":{"account_id":1226405,"reputation":331,"user_id":1191852,"accept_rate":38,"display_name":"Kanchan Ruia"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17239,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1643351080,"creation_date":1551706107,"question_id":54984306,"body_markdown":"I would like to know if anyone there has ever had a problem using the chromedriver in &quot;headless&quot; mode. In my case, when running selenium tests in this mode, the execution of the same is stopped indefinitely, not completing the test and starts execution of the next test case nor does it give the relevant exception. I would like to know if anyone can have any idea of what may be occurring. I am guessing this issue is due to static initialization of the webdriver \r\n\r\n`public static WebDriver createInstance(WebDriver driver, String browserName){..}`\r\n\r\nMy logs show me this sequence the test cases are not completely executed and next test case is called \r\n\r\n`- INFO learning.helpers.DriverInitialisor - createInstance - 111 - Running Chrome browser in headless mode\r\n- INFO learning.helpers.DriverInitialisor - createInstance - 126 - Launching Chrome browser in local mode\r\n- INFO learning.tests.ExpandFAQ - expandAndCollapseFAQ - 30 - launching the ION Learning Hub Application\r\n- INFO learning.tests.ExpandFAQ - expandAndCollapseFAQ - 35 - Open a searched  product\r\n- INFO learning.helpers.DriverInitialisor - createInstance - 111 - Running Chrome browser in headless mode\r\n- INFO learning.helpers.DriverInitialisor - createInstance - 126 - Launching Chrome browser in local mode\r\n- INFO learning.tests.CollapseFAQ - collapseFAQ - 30 - launching the ION Learning Hub Application\r\n- INFO learning.tests.CollapseFAQ - collapseFAQ - 35 - Open a searched  product`\r\n\r\nThis continues for few test cases and then complete execution starts again for other test cases. I am running of around 50 test cases. There is no multithreading implemented.","title":"Problem with Chromedriver in Headless mode","body":"<p>I would like to know if anyone there has ever had a problem using the chromedriver in \"headless\" mode. In my case, when running selenium tests in this mode, the execution of the same is stopped indefinitely, not completing the test and starts execution of the next test case nor does it give the relevant exception. I would like to know if anyone can have any idea of what may be occurring. I am guessing this issue is due to static initialization of the webdriver </p>\n\n<p><code>public static WebDriver createInstance(WebDriver driver, String browserName){..}</code></p>\n\n<p>My logs show me this sequence the test cases are not completely executed and next test case is called </p>\n\n<p><code>- INFO learning.helpers.DriverInitialisor - createInstance - 111 - Running Chrome browser in headless mode\n- INFO learning.helpers.DriverInitialisor - createInstance - 126 - Launching Chrome browser in local mode\n- INFO learning.tests.ExpandFAQ - expandAndCollapseFAQ - 30 - launching the ION Learning Hub Application\n- INFO learning.tests.ExpandFAQ - expandAndCollapseFAQ - 35 - Open a searched  product\n- INFO learning.helpers.DriverInitialisor - createInstance - 111 - Running Chrome browser in headless mode\n- INFO learning.helpers.DriverInitialisor - createInstance - 126 - Launching Chrome browser in local mode\n- INFO learning.tests.CollapseFAQ - collapseFAQ - 30 - launching the ION Learning Hub Application\n- INFO learning.tests.CollapseFAQ - collapseFAQ - 35 - Open a searched  product</code></p>\n\n<p>This continues for few test cases and then complete execution starts again for other test cases. I am running of around 50 test cases. There is no multithreading implemented.</p>\n"},{"tags":["java","unicode"],"comments":[{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":3,"creation_date":1636665078,"post_id":69934866,"comment_id":123624629,"body_markdown":"`System.out.println(&quot;\\u22C0&quot;);` This doesn&#39;t require a surrogate pair.","body":"<code>System.out.println(&quot;\\u22C0&quot;);</code> This doesn&#39;t require a surrogate pair."},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1636665148,"post_id":69934866,"comment_id":123624662,"body_markdown":"If you just want to check a handful of symbols, you can use an online resource such as [this one](https://www.fileformat.info/info/unicode/char/search.htm?q=%E2%8B%80&amp;preview=entity) - and from there you can see that the Java representation is `&quot;\\u22C0&quot;`.","body":"If you just want to check a handful of symbols, you can use an online resource such as <a href=\"https://www.fileformat.info/info/unicode/char/search.htm?q=%E2%8B%80&amp;preview=entity\" rel=\"nofollow noreferrer\">this one</a> - and from there you can see that the Java representation is <code>&quot;\\u22C0&quot;</code>."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1643351703,"post_id":69934866,"comment_id":125321365,"body_markdown":"Only code points `U+10000` and above require surrogate pairs (in UTF-16 encoding).","body":"Only code points <code>U+10000</code> and above require surrogate pairs (in UTF-16 encoding)."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1643352248,"post_id":69934866,"comment_id":125321482,"body_markdown":"U+2227 is &quot;∧&quot;.  If I am reading glyph correctly, the thing you appear to have found there is U+08B3 - ࢳ. This is supposedly in the [Extended Arabic A chart](https://www.unicode.org/charts/PDF/U08A0.pdf).  There doesn&#39;t appear to be a proper glyph for that in the font my browser is using.","body":"U+2227 is &quot;∧&quot;.  If I am reading glyph correctly, the thing you appear to have found there is U+08B3 - ࢳ. This is supposedly in the <a href=\"https://www.unicode.org/charts/PDF/U08A0.pdf\" rel=\"nofollow noreferrer\">Extended Arabic A chart</a>.  There doesn&#39;t appear to be a proper glyph for that in the font my browser is using."}],"answers":[{"tags":[],"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643349882,"creation_date":1643349882,"answer_id":70889445,"question_id":69934866,"body_markdown":"Finding the surrogate pair for a symbol in Java is straightforward, with a couple of caveats:\r\n- Not all characters are represented by a surrogate pair, including your example (&quot;⋀&quot;), so always check for this before attempting to get the surrogate pair. \r\n- You need a font that can display the symbols, both in your source code, and in any output produced by your code. I used **Monospaced** in NetBeans for the code and output shown below.\r\n\r\nHere is code to display some basic Unicode information for arbitrary symbols. It gets the code point for a symbol, determine whether it is represented by a surrogate pair, and if so gets the high and low surrogates. The code processes two symbols, one with a surrogate pair (the emoji &quot;&#128522;&quot;), and one without (your &quot;⋀&quot; example).\r\n\r\n    package surrogates;\r\n    \r\n    public class Surrogates {\r\n    \r\n        public static void main(String[] args) {\r\n            Surrogates.displaySymbolDetails(&quot;&#128522;️️&quot;);\r\n            Surrogates.displaySymbolDetails(&quot;⋀️️&quot;);\r\n        }\r\n    \r\n        static void displaySymbolDetails(String symbol) {\r\n            int cp = symbol.codePointAt(0);\r\n            String name = Character.getName(cp);\r\n            System.out.println(symbol + &quot; has code point &quot; + cp + &quot; (hex &quot; + Integer.toHexString(cp) + &quot;).&quot;);\r\n            System.out.println(symbol + &quot; has Unicode name &quot; + name + &quot;.&quot;);\r\n            boolean isSupplemenetary = Character.isSupplementaryCodePoint(cp);\r\n            if (isSupplemenetary) {\r\n                System.out.println(symbol + &quot; is a supplementary character.&quot;);\r\n                char high = Character.highSurrogate​(cp);\r\n                char low = Character.lowSurrogate​(cp);\r\n                System.out.println(symbol + &quot; has high surrogate: &quot; + (int) high + &quot;.&quot;);\r\n                System.out.println(symbol + &quot; has low surrogate: &quot; + (int) low + &quot;.&quot;);\r\n            } else {\r\n                System.out.println(symbol + &quot; is in the BMP and therefore is not represented by a surrogate pair.&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\nHere is the output:\r\n\r\n\r\n    &#128522;️️ has code point 128522 (hex 1f60a).\r\n    &#128522;️️ has Unicode name SMILING FACE WITH SMILING EYES.\r\n    &#128522;️️ is a supplementary character.\r\n    &#128522;️️ has high surrogate: 55357.\r\n    &#128522;️️ has low surrogate: 56842.\r\n    ⋀️️ has code point 8896 (hex 22c0).\r\n    ⋀️️ has Unicode name N-ARY LOGICAL AND.\r\n    ⋀️️ is in the BMP and therefore is not represented by a surrogate pair.\r\n\r\nNotes:\r\n- _&quot;symbol&quot;_ can mean multiple things, but I am assuming that in your question you are simply referring to some Unicode character.\r\n- Symbols (i.e Unicode characters) in the basic multilingual plane (BMP) are not represented by a surrogate pair. All other symbols are in some supplementary plane (SMP), and are represented by a surrogate pair.\r\n","title":"How to find the surrogate pair of a symbol in java","body":"<p>Finding the surrogate pair for a symbol in Java is straightforward, with a couple of caveats:</p>\n<ul>\n<li>Not all characters are represented by a surrogate pair, including your example (&quot;⋀&quot;), so always check for this before attempting to get the surrogate pair.</li>\n<li>You need a font that can display the symbols, both in your source code, and in any output produced by your code. I used <strong>Monospaced</strong> in NetBeans for the code and output shown below.</li>\n</ul>\n<p>Here is code to display some basic Unicode information for arbitrary symbols. It gets the code point for a symbol, determine whether it is represented by a surrogate pair, and if so gets the high and low surrogates. The code processes two symbols, one with a surrogate pair (the emoji &quot;😊&quot;), and one without (your &quot;⋀&quot; example).</p>\n<pre><code>package surrogates;\n\npublic class Surrogates {\n\n    public static void main(String[] args) {\n        Surrogates.displaySymbolDetails(&quot;😊️️&quot;);\n        Surrogates.displaySymbolDetails(&quot;⋀️️&quot;);\n    }\n\n    static void displaySymbolDetails(String symbol) {\n        int cp = symbol.codePointAt(0);\n        String name = Character.getName(cp);\n        System.out.println(symbol + &quot; has code point &quot; + cp + &quot; (hex &quot; + Integer.toHexString(cp) + &quot;).&quot;);\n        System.out.println(symbol + &quot; has Unicode name &quot; + name + &quot;.&quot;);\n        boolean isSupplemenetary = Character.isSupplementaryCodePoint(cp);\n        if (isSupplemenetary) {\n            System.out.println(symbol + &quot; is a supplementary character.&quot;);\n            char high = Character.highSurrogate​(cp);\n            char low = Character.lowSurrogate​(cp);\n            System.out.println(symbol + &quot; has high surrogate: &quot; + (int) high + &quot;.&quot;);\n            System.out.println(symbol + &quot; has low surrogate: &quot; + (int) low + &quot;.&quot;);\n        } else {\n            System.out.println(symbol + &quot; is in the BMP and therefore is not represented by a surrogate pair.&quot;);\n        }\n    }\n}\n</code></pre>\n<p>Here is the output:</p>\n<pre><code>😊️️ has code point 128522 (hex 1f60a).\n😊️️ has Unicode name SMILING FACE WITH SMILING EYES.\n😊️️ is a supplementary character.\n😊️️ has high surrogate: 55357.\n😊️️ has low surrogate: 56842.\n⋀️️ has code point 8896 (hex 22c0).\n⋀️️ has Unicode name N-ARY LOGICAL AND.\n⋀️️ is in the BMP and therefore is not represented by a surrogate pair.\n</code></pre>\n<p>Notes:</p>\n<ul>\n<li><em>&quot;symbol&quot;</em> can mean multiple things, but I am assuming that in your question you are simply referring to some Unicode character.</li>\n<li>Symbols (i.e Unicode characters) in the basic multilingual plane (BMP) are not represented by a surrogate pair. All other symbols are in some supplementary plane (SMP), and are represented by a surrogate pair.</li>\n</ul>\n"}],"owner":{"account_id":20182915,"reputation":21,"user_id":14803034,"display_name":"Jslater2001"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":436,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70889445,"answer_count":1,"score":0,"last_activity_date":1643349882,"creation_date":1636664476,"question_id":69934866,"body_markdown":"I&#39;m trying to get the and operation(⋀) symbol to appear, but the symbol&#39;s unicode value is u+22C1(This may be wrong, but according to what I&#39;ve read it&#39;s this). There&#39;s another value I found being 2227 but that prints ࢳ. If you can please explain the method to finding the surrogate pair as I have to find to find it for a bunch more symbols. ","title":"How to find the surrogate pair of a symbol in java","body":"<p>I'm trying to get the and operation(⋀) symbol to appear, but the symbol's unicode value is u+22C1(This may be wrong, but according to what I've read it's this). There's another value I found being 2227 but that prints ࢳ. If you can please explain the method to finding the surrogate pair as I have to find to find it for a bunch more symbols.</p>\n"},{"tags":["java","spring-boot","maven","log4j","slf4j"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1643349967,"post_id":70889415,"comment_id":125321016,"body_markdown":"Do you still have the affected log4j2 classes / JARs in your dependencies?  If not, then you are not affected by log4shell.","body":"Do you still have the affected log4j2 classes / JARs in your dependencies?  If not, then you are not affected by log4shell."},{"owner":{"account_id":2366187,"reputation":60152,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":0,"creation_date":1643349988,"post_id":70889415,"comment_id":125321021,"body_markdown":"Spring boot uses logback by default so you are not affected. I see no dependencies on log4j2-core in any of that output.","body":"Spring boot uses logback by default so you are not affected. I see no dependencies on log4j2-core in any of that output."},{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1643350068,"post_id":70889415,"comment_id":125321035,"body_markdown":"You can check vulnerabilities on [mvnrepository.com](https://mvnrepository.com/artifact/org.slf4j/log4j-over-slf4j) (they added the feature after the Log4j vulnerability). `log4j-over-slf4j` is not vulnerable because: 1. it is an SLF4J artifact (only `log4j-core` from Apache Foundation was vulnerable), 2. it is a **replacement** for Log4j **1.x**.","body":"You can check vulnerabilities on <a href=\"https://mvnrepository.com/artifact/org.slf4j/log4j-over-slf4j\" rel=\"nofollow noreferrer\">mvnrepository.com</a> (they added the feature after the Log4j vulnerability). <code>log4j-over-slf4j</code> is not vulnerable because: 1. it is an SLF4J artifact (only <code>log4j-core</code> from Apache Foundation was vulnerable), 2. it is a <b>replacement</b> for Log4j <b>1.x</b>."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1643352675,"post_id":70889415,"comment_id":125321573,"body_markdown":"The first issue is that you are using ancient old version of Spring Boot 1.X which is EoL for a longer time https://spring.io/blog/2018/07/30/spring-boot-1-x-eol-aug-1st-2019","body":"The first issue is that you are using ancient old version of Spring Boot 1.X which is EoL for a longer time <a href=\"https://spring.io/blog/2018/07/30/spring-boot-1-x-eol-aug-1st-2019\" rel=\"nofollow noreferrer\">spring.io/blog/2018/07/30/spring-boot-1-x-eol-aug-1st-2019</a>"},{"owner":{"account_id":15636875,"reputation":765,"user_id":11281479,"display_name":"Juan Silup&#250; Maza"},"score":0,"creation_date":1643391870,"post_id":70889415,"comment_id":125336095,"body_markdown":"@khmarbaise, then, Sprint boot 1.X is affected by log4j? and How do I mitigate it?","body":"@khmarbaise, then, Sprint boot 1.X is affected by log4j? and How do I mitigate it?"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1643402714,"post_id":70889415,"comment_id":125339687,"body_markdown":"First the usage of old software in itself is a problem..log4j is affected in old versions as well because log4j 1.X is 12 years old... You should upgrade your whole application... sorry to say that but thats the really issue here...","body":"First the usage of old software in itself is a problem..log4j is affected in old versions as well because log4j 1.X is 12 years old... You should upgrade your whole application... sorry to say that but thats the really issue here..."}],"owner":{"account_id":15636875,"reputation":765,"user_id":11281479,"display_name":"Juan Silup&#250; Maza"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":289,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643349625,"creation_date":1643349625,"question_id":70889415,"body_markdown":"I have a maven project with spring-boot.\r\n\r\n[![Spring-boot][1]][1]\r\n\r\n\r\nAdd this line:\r\n`&lt;properties&gt;\r\n&lt;log4j2.version&gt;2.17.1&lt;/log4j2.version&gt;\r\n&lt;/properties&gt;\r\n`\r\n\r\nRun the command `mvnw dependency:list | grep log4j` and I get this output:\r\n[![enter image description here][2]][2]\r\n\r\nAlso, I did a search on all modules for the string: `logg` and got this result.\r\n[![searching string logg][3]][3]\r\n\r\nAlso, my project has these dependencies:\r\n\r\n[![slf4j dependecies][4]][4]\r\n\r\nSo, is my project affected by the LOG4J vulnerability?\r\n\r\nHow do I mitigate it?\r\n\r\n  [1]: https://i.stack.imgur.com/AJuec.png\r\n  [2]: https://i.stack.imgur.com/hZdHO.png\r\n  [3]: https://i.stack.imgur.com/pgQCf.png\r\n  [4]: https://i.stack.imgur.com/RLILa.png","title":"commons.apache.org is affected by log4j?","body":"<p>I have a maven project with spring-boot.</p>\n<p><a href=\"https://i.stack.imgur.com/AJuec.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AJuec.png\" alt=\"Spring-boot\" /></a></p>\n<p>Add this line:\n<code>&lt;properties&gt; &lt;log4j2.version&gt;2.17.1&lt;/log4j2.version&gt; &lt;/properties&gt; </code></p>\n<p>Run the command <code>mvnw dependency:list | grep log4j</code> and I get this output:\n<a href=\"https://i.stack.imgur.com/hZdHO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hZdHO.png\" alt=\"enter image description here\" /></a></p>\n<p>Also, I did a search on all modules for the string: <code>logg</code> and got this result.\n<a href=\"https://i.stack.imgur.com/pgQCf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pgQCf.png\" alt=\"searching string logg\" /></a></p>\n<p>Also, my project has these dependencies:</p>\n<p><a href=\"https://i.stack.imgur.com/RLILa.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RLILa.png\" alt=\"slf4j dependecies\" /></a></p>\n<p>So, is my project affected by the LOG4J vulnerability?</p>\n<p>How do I mitigate it?</p>\n"},{"tags":["java","jdbc","jmeter","assertion"],"answers":[{"tags":[],"owner":{"account_id":3460456,"reputation":162728,"user_id":2897748,"display_name":"Dmitri T"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643349281,"creation_date":1643349281,"answer_id":70889374,"question_id":70888242,"body_markdown":"\r\n\r\n 1. As per [JMeter Test Elements Execution Order][1]: assertions are being executed after Samplers so JDBC Request sampler is &quot;fully&quot; executed and only after that Assertions are being executed.  \r\n 2. Assertions are being executed upside down \r\n 3. If any of assertions fails - the Sampler will be marked as failed\r\n 4. Specific for the JSR223 Assertions: if you made a mistake and the code won&#39;t compile - the assertion will fail and fail the relevant Sampler. See [Scripting JMeter Assertions in Groovy - A Tutorial][2] article for more details if needed. \r\n\r\nSo double check your assertion code and inspect:\r\n\r\n 1. [Assertion Results][3] listener output\r\n 2. [JMeter Log file][4]\r\n\r\n \r\n\r\n\r\n  [1]: https://jmeter.apache.org/usermanual/test_plan.html#executionorder\r\n  [2]: https://www.blazemeter.com/blog/scripting-jmeter-assertions-in-groovy-a-tutorial\r\n  [3]: https://jmeter.apache.org/usermanual/component_reference.html#Assertion_Results\r\n  [4]: https://jmeter.apache.org/usermanual/get-started.html#logging","title":"JSR223 assertion on JDBC update request in Jmeter","body":"<ol>\n<li>As per <a href=\"https://jmeter.apache.org/usermanual/test_plan.html#executionorder\" rel=\"nofollow noreferrer\">JMeter Test Elements Execution Order</a>: assertions are being executed after Samplers so JDBC Request sampler is &quot;fully&quot; executed and only after that Assertions are being executed.</li>\n<li>Assertions are being executed upside down</li>\n<li>If any of assertions fails - the Sampler will be marked as failed</li>\n<li>Specific for the JSR223 Assertions: if you made a mistake and the code won't compile - the assertion will fail and fail the relevant Sampler. See <a href=\"https://www.blazemeter.com/blog/scripting-jmeter-assertions-in-groovy-a-tutorial\" rel=\"nofollow noreferrer\">Scripting JMeter Assertions in Groovy - A Tutorial</a> article for more details if needed.</li>\n</ol>\n<p>So double check your assertion code and inspect:</p>\n<ol>\n<li><a href=\"https://jmeter.apache.org/usermanual/component_reference.html#Assertion_Results\" rel=\"nofollow noreferrer\">Assertion Results</a> listener output</li>\n<li><a href=\"https://jmeter.apache.org/usermanual/get-started.html#logging\" rel=\"nofollow noreferrer\">JMeter Log file</a></li>\n</ol>\n"}],"owner":{"account_id":1245793,"reputation":3093,"user_id":1207289,"accept_rate":84,"display_name":"user1207289"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":233,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643349281,"creation_date":1643337744,"question_id":70888242,"body_markdown":"I have JDBC request which updating some value in database. For this request, I have two child assertions one `response` and one `JSR223` to check response code and updated value respectively . But I get a failed request (red)  in view results tree as I think JSR223 is asserting value before it is updated.  When I check database manually , value is being updated.\r\n\r\n I was assuming that by putting response assertion before JSR223 assertion , it would be fine as JSR223 will assert when request has been fully executed. \r\n\r\nWhen I disable JSR223, I get response assertion passed and hence green request in result tree. \r\n\r\nHow do I assert on the value updated by the JDBC request in this scenario ?\r\n\r\n\r\n","title":"JSR223 assertion on JDBC update request in Jmeter","body":"<p>I have JDBC request which updating some value in database. For this request, I have two child assertions one <code>response</code> and one <code>JSR223</code> to check response code and updated value respectively . But I get a failed request (red)  in view results tree as I think JSR223 is asserting value before it is updated.  When I check database manually , value is being updated.</p>\n<p>I was assuming that by putting response assertion before JSR223 assertion , it would be fine as JSR223 will assert when request has been fully executed.</p>\n<p>When I disable JSR223, I get response assertion passed and hence green request in result tree.</p>\n<p>How do I assert on the value updated by the JDBC request in this scenario ?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":4256604,"reputation":18866,"user_id":3482140,"accept_rate":83,"display_name":"Am_I_Helpful"},"score":1,"creation_date":1405659805,"post_id":24817479,"comment_id":38525783,"body_markdown":"Even String input on conversion to int would have removed those zeroes I guess!","body":"Even String input on conversion to int would have removed those zeroes I guess!"},{"owner":{"account_id":160502,"reputation":360,"user_id":380611,"display_name":"fipple"},"score":0,"creation_date":1405660410,"post_id":24817479,"comment_id":38525960,"body_markdown":"If the object is to validate some user input you need to keep the input as a string.  You can then perform the validation on the string e.g. whether the value is an integer.","body":"If the object is to validate some user input you need to keep the input as a string.  You can then perform the validation on the string e.g. whether the value is an integer."},{"owner":{"account_id":203704,"reputation":13105,"user_id":451518,"display_name":"default locale"},"score":0,"creation_date":1405661797,"post_id":24817479,"comment_id":38526377,"body_markdown":"Probably, you can format it later. Take a look at [this question](http://stackoverflow.com/questions/275711/add-leading-zeroes-to-number-in-java?rq=1) I marked your question as a duplicate, but now I&#39;m not really sure","body":"Probably, you can format it later. Take a look at <a href=\"http://stackoverflow.com/questions/275711/add-leading-zeroes-to-number-in-java?rq=1\">this question</a> I marked your question as a duplicate, but now I&#39;m not really sure"},{"owner":{"account_id":187094,"reputation":5113,"user_id":424903,"display_name":"Gimby"},"score":1,"creation_date":1405667267,"post_id":24817479,"comment_id":38528634,"body_markdown":"What all the other said, and I&#39;ll just add the conclusion: no, that code cannot be finished to fulfill the requirements the way it is. But that&#39;s also a learning moment; the web is full of nonsense too. Try to stick to reputable sources for information and guidance.","body":"What all the other said, and I&#39;ll just add the conclusion: no, that code cannot be finished to fulfill the requirements the way it is. But that&#39;s also a learning moment; the web is full of nonsense too. Try to stick to reputable sources for information and guidance."},{"owner":{"account_id":3080564,"reputation":339,"user_id":2608854,"accept_rate":43,"display_name":"polaris"},"score":0,"creation_date":1405818672,"post_id":24817479,"comment_id":38580027,"body_markdown":"Thanks for the answers. I too thought that it cannot be done that way. I did myinput.nextString(). Then I manipulated the string character by character string.chartAt() to get the different digits.","body":"Thanks for the answers. I too thought that it cannot be done that way. I did myinput.nextString(). Then I manipulated the string character by character string.chartAt() to get the different digits."}],"answers":[{"tags":[],"owner":{"account_id":10340,"reputation":55904,"user_id":19479,"accept_rate":69,"display_name":"Steve B."},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1405659933,"creation_date":1405659933,"answer_id":24817563,"question_id":24817479,"body_markdown":"You will need to preserve the value as a String. You should do this anyway with something like an ISBN number since its value is not its magnitude but its string representation. \r\n\r\nWhy not just use &quot; String num = sc.next(); &quot; ? \r\n\r\n ","title":"How to add leading zeros to an int?","body":"<p>You will need to preserve the value as a String. You should do this anyway with something like an ISBN number since its value is not its magnitude but its string representation. </p>\n\n<p>Why not just use \" String num = sc.next(); \" ? </p>\n"},{"tags":[],"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1405660102,"creation_date":1405660102,"answer_id":24817591,"question_id":24817479,"body_markdown":"No. `int` cannot be inherently formated, you could store it as a String. Or you will need to [String#format()](http://docs.oracle.com/javase/7/docs/api/java/lang/String.html#format%28java.lang.String,%20java.lang.Object...%29) the `int` to have leading zeros,\r\n\r\n    String isbn = String.format(&quot;%013d&quot;, num); // 0 fill to 13 digits num\r\n\r\n    ","title":"How to add leading zeros to an int?","body":"<p>No. <code>int</code> cannot be inherently formated, you could store it as a String. Or you will need to <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/String.html#format%28java.lang.String,%20java.lang.Object...%29\" rel=\"nofollow\">String#format()</a> the <code>int</code> to have leading zeros,</p>\n\n<pre><code>String isbn = String.format(\"%013d\", num); // 0 fill to 13 digits num\n</code></pre>\n"}],"owner":{"account_id":3080564,"reputation":339,"user_id":2608854,"accept_rate":43,"display_name":"polaris"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7042,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":24817563,"answer_count":2,"score":1,"last_activity_date":1643348716,"creation_date":1405659465,"question_id":24817479,"body_markdown":"If I input an int value, is it possible to keep a leading zero. For example if I input 0123, is there a way to pass that zero without formatting the data.\r\nI came across an exercise on a website which asks to enter an isbn number as an int and validate it. The initial code given is the following.\r\n\r\n    import java.util.Scanner;\r\n\r\n    public class isbncheck {\r\n\r\n        public static void main(String[] args) { \r\n            int num= 0;\r\n            int digit = 0;\r\n            int sum = 0;\r\n\r\n            System.out.println(&quot;Enter ISBN Number:&quot;);\r\n            Scanner sc = new Scanner(System.in);\r\n    \r\n            num = sc.nextInt();\r\n     \r\n            /*\r\n            Your code here\r\n            */\r\n  \r\n            System.out.println(&quot;The ISBN number is:&quot;);\r\n        }\r\n    }\r\n\r\nthe link to the website is http://www.programmr.com/challenges/isbn-validation-1\r\n\r\nIf I wanted to take the first digit of an input and do something with it, I cannot if the first integer is a 0. To test the code the input is 0201314525. However I lose the initial zero and then I cannot make the code work. I used a String input instead of an int which I can then manipulate to do what I want. Is it possible to complete the code given the way it&#39;s being presented?","title":"How to add leading zeros to an int?","body":"<p>If I input an int value, is it possible to keep a leading zero. For example if I input 0123, is there a way to pass that zero without formatting the data.\nI came across an exercise on a website which asks to enter an isbn number as an int and validate it. The initial code given is the following.</p>\n\n<pre><code>import java.util.Scanner;\n\npublic class isbncheck {\n\n    public static void main(String[] args) { \n        int num= 0;\n        int digit = 0;\n        int sum = 0;\n\n        System.out.println(\"Enter ISBN Number:\");\n        Scanner sc = new Scanner(System.in);\n\n        num = sc.nextInt();\n\n        /*\n        Your code here\n        */\n\n        System.out.println(\"The ISBN number is:\");\n    }\n}\n</code></pre>\n\n<p>the link to the website is <a href=\"http://www.programmr.com/challenges/isbn-validation-1\" rel=\"nofollow\">http://www.programmr.com/challenges/isbn-validation-1</a></p>\n\n<p>If I wanted to take the first digit of an input and do something with it, I cannot if the first integer is a 0. To test the code the input is 0201314525. However I lose the initial zero and then I cannot make the code work. I used a String input instead of an int which I can then manipulate to do what I want. Is it possible to complete the code given the way it's being presented?</p>\n"},{"tags":["java","android","api","retrofit2"],"comments":[{"owner":{"account_id":16134940,"reputation":88,"user_id":11647620,"display_name":"Usama Altaf"},"score":0,"creation_date":1643274755,"post_id":70875728,"comment_id":125297612,"body_markdown":"post the full url you want to call","body":"post the full url you want to call"},{"owner":{"account_id":16134940,"reputation":88,"user_id":11647620,"display_name":"Usama Altaf"},"score":0,"creation_date":1643274816,"post_id":70875728,"comment_id":125297640,"body_markdown":"or if you have postman so check it in postman and leave screenshots of postman here so the people can understand it better","body":"or if you have postman so check it in postman and leave screenshots of postman here so the people can understand it better"},{"owner":{"account_id":15731212,"reputation":89,"user_id":11351507,"display_name":"Fajar Satya Sanjaya"},"score":0,"creation_date":1643275299,"post_id":70875728,"comment_id":125297857,"body_markdown":"i added success result example when posting invalid data.","body":"i added success result example when posting invalid data."}],"answers":[{"tags":[],"owner":{"account_id":7787481,"reputation":9066,"user_id":5891747,"display_name":"Android Geek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643346597,"creation_date":1643346597,"answer_id":70889070,"question_id":70875728,"body_markdown":"As in api url `?id=284213` is showing then you need to add `query` parameter into your call.\r\n\r\nTry below code:\r\n\r\n    @POST(&quot;https://www.mmsnusindo.com/api/ver/kunjungan/rejected&quot;)\r\n        Call&lt;List&lt;Verify&gt;&gt; verifikasiKunjunganRejected(@Header(&quot;api-key&quot;) String content_type,\r\n                                                       @Query(&quot;id&quot;) String id,// please check your id is int or String.\r\n                                                       @Body ArrayList&lt;Verify&gt; modelContact);","title":"Retrofit How to post data on specific field only?","body":"<p>As in api url <code>?id=284213</code> is showing then you need to add <code>query</code> parameter into your call.</p>\n<p>Try below code:</p>\n<pre><code>@POST(&quot;https://www.mmsnusindo.com/api/ver/kunjungan/rejected&quot;)\n    Call&lt;List&lt;Verify&gt;&gt; verifikasiKunjunganRejected(@Header(&quot;api-key&quot;) String content_type,\n                                                   @Query(&quot;id&quot;) String id,// please check your id is int or String.\n                                                   @Body ArrayList&lt;Verify&gt; modelContact);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15989106,"reputation":304,"user_id":11538740,"display_name":"Siddarth Jain"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643347477,"creation_date":1643347477,"answer_id":70889158,"question_id":70875728,"body_markdown":"As per screenshot. body is not required. So it can be like this\r\n\r\n    @POST(&quot;https://www.mmsnusindo.com/api/ver/kunjungan/rejected&quot;)\r\n        Call&lt;List&lt;Verify&gt;&gt; verifikasiKunjunganRejected(@Header(&quot;api-key&quot;) String content_type,\r\n                                                       @Query(&quot;id&quot;) String id;// please check your id is int or String.\r\n                                                      ","title":"Retrofit How to post data on specific field only?","body":"<p>As per screenshot. body is not required. So it can be like this</p>\n<pre><code>@POST(&quot;https://www.mmsnusindo.com/api/ver/kunjungan/rejected&quot;)\n    Call&lt;List&lt;Verify&gt;&gt; verifikasiKunjunganRejected(@Header(&quot;api-key&quot;) String content_type,\n                                                   @Query(&quot;id&quot;) String id;// please check your id is int or String.\n                                                  \n</code></pre>\n"}],"owner":{"account_id":15731212,"reputation":89,"user_id":11351507,"display_name":"Fajar Satya Sanjaya"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":943,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70889158,"answer_count":2,"score":0,"last_activity_date":1643347477,"creation_date":1643273825,"question_id":70875728,"body_markdown":"I want to post arraylist of object only specific field. I usually store all field object to post call.\r\nI don&#39;t know where should I change.\r\n\r\nHere is my object class\r\n\r\n```\r\npublic class Verify {\r\n    @SerializedName(&quot;id&quot;)\r\n    @Expose\r\n    private int id;\r\n    @SerializedName(&quot;name&quot;)\r\n    @Expose\r\n    private String name;\r\n    @SerializedName(&quot;phone&quot;)\r\n    @Expose\r\n    private String phone;\r\n}\r\n```\r\n\r\nThe API only need to post ID as parameter, and there is multiple data in array.\r\nFor example :\r\n\r\n```\r\nList&lt;Verify&gt; ver = new Arraylist()&lt;&gt;;\r\nver.add(&quot;1&quot;, John, 62807677999);\r\nver.add(&quot;2&quot;, Dap, 6286753193);\r\nver.add(&quot;3&quot;, Keel, 62812386423);\r\nver.add(&quot;4&quot;, Martin, 62819823733);\r\n```\r\n\r\nAPI Service\r\n\r\n```\r\n@POST(&quot;https://www.mmsnusindo.com/api/ver/kunjungan/rejected&quot;)\r\n    Call&lt;List&lt;Verify&gt;&gt; verifikasiKunjunganRejected(@Header(&quot;api-key&quot;) String content_type, @Body ArrayList&lt;Verify&gt; modelContact);\r\n```\r\nwhat error I get\r\n\r\n```\r\n{&quot;status&quot;:false,&quot;message&quot;:&quot;Error data validation&quot;,&quot;info&quot;:{&quot;id&quot;:[&quot;The id field is required.&quot;]}}\r\n```\r\n\r\nthis code like verification data user, so there will be multiple data in arraylist, i pick data valid or not using checkbox and then send valid or not valid using POST API.\r\n\r\nExample successful post Request \r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/2zK7p.png","title":"Retrofit How to post data on specific field only?","body":"<p>I want to post arraylist of object only specific field. I usually store all field object to post call.\nI don't know where should I change.</p>\n<p>Here is my object class</p>\n<pre><code>public class Verify {\n    @SerializedName(&quot;id&quot;)\n    @Expose\n    private int id;\n    @SerializedName(&quot;name&quot;)\n    @Expose\n    private String name;\n    @SerializedName(&quot;phone&quot;)\n    @Expose\n    private String phone;\n}\n</code></pre>\n<p>The API only need to post ID as parameter, and there is multiple data in array.\nFor example :</p>\n<pre><code>List&lt;Verify&gt; ver = new Arraylist()&lt;&gt;;\nver.add(&quot;1&quot;, John, 62807677999);\nver.add(&quot;2&quot;, Dap, 6286753193);\nver.add(&quot;3&quot;, Keel, 62812386423);\nver.add(&quot;4&quot;, Martin, 62819823733);\n</code></pre>\n<p>API Service</p>\n<pre><code>@POST(&quot;https://www.mmsnusindo.com/api/ver/kunjungan/rejected&quot;)\n    Call&lt;List&lt;Verify&gt;&gt; verifikasiKunjunganRejected(@Header(&quot;api-key&quot;) String content_type, @Body ArrayList&lt;Verify&gt; modelContact);\n</code></pre>\n<p>what error I get</p>\n<pre><code>{&quot;status&quot;:false,&quot;message&quot;:&quot;Error data validation&quot;,&quot;info&quot;:{&quot;id&quot;:[&quot;The id field is required.&quot;]}}\n</code></pre>\n<p>this code like verification data user, so there will be multiple data in arraylist, i pick data valid or not using checkbox and then send valid or not valid using POST API.</p>\n<p>Example successful post Request\n<a href=\"https://i.stack.imgur.com/2zK7p.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2zK7p.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","selenium","parameters","findby"],"comments":[{"owner":{"account_id":9207703,"reputation":28723,"user_id":9444073,"display_name":"cruisepandey"},"score":0,"creation_date":1641542998,"post_id":70617469,"comment_id":124835705,"body_markdown":"The scope of `WebElement yes` is private, they won&#39;t be available to other classes or packages. If `SomeClass` and `SomeTest` both are in similar package, please use protected scope.","body":"The scope of <code>WebElement yes</code> is private, they won&#39;t be available to other classes or packages. If <code>SomeClass</code> and <code>SomeTest</code> both are in similar package, please use protected scope."},{"owner":{"account_id":10337074,"reputation":73,"user_id":10086255,"display_name":"Seeth"},"score":0,"creation_date":1641543586,"post_id":70617469,"comment_id":124835899,"body_markdown":"I made the change.","body":"I made the change."},{"owner":{"account_id":9207703,"reputation":28723,"user_id":9444073,"display_name":"cruisepandey"},"score":0,"creation_date":1641543825,"post_id":70617469,"comment_id":124835964,"body_markdown":"Both classes are in same package or different package ?","body":"Both classes are in same package or different package ?"},{"owner":{"account_id":10337074,"reputation":73,"user_id":10086255,"display_name":"Seeth"},"score":0,"creation_date":1641544257,"post_id":70617469,"comment_id":124836101,"body_markdown":"They&#39;re in the same package.","body":"They&#39;re in the same package."},{"owner":{"account_id":9207703,"reputation":28723,"user_id":9444073,"display_name":"cruisepandey"},"score":0,"creation_date":1641544854,"post_id":70617469,"comment_id":124836313,"body_markdown":"Okay can you share clickButtons method code as well ?","body":"Okay can you share clickButtons method code as well ?"},{"owner":{"account_id":10337074,"reputation":73,"user_id":10086255,"display_name":"Seeth"},"score":0,"creation_date":1641545367,"post_id":70617469,"comment_id":124836500,"body_markdown":"I&#39;ve added the ```protected``` modifier to ```clicksbuttons()```","body":"I&#39;ve added the <code>protected</code> modifier to <code>clicksbuttons()</code>"},{"owner":{"account_id":10337074,"reputation":73,"user_id":10086255,"display_name":"Seeth"},"score":0,"creation_date":1643347469,"post_id":70617469,"comment_id":125320603,"body_markdown":"@cruisepandey I found the answer and posted it below.","body":"@cruisepandey I found the answer and posted it below."}],"answers":[{"tags":[],"owner":{"account_id":9207703,"reputation":28723,"user_id":9444073,"display_name":"cruisepandey"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641552587,"creation_date":1641552587,"answer_id":70620092,"question_id":70617469,"body_markdown":"This \r\n\r\n    public SomeClass clicksButtons() {\r\n            *some locator*.click();\r\n            return new someClass(this.driver);\r\n        }\r\n\r\nshould be:\r\n\r\n\r\n    public SomeClass clicksButtons(WebElemenet ele) {\r\n            ele.click();\r\n            return new someClass(this.driver);\r\n        }\r\n\r\n\r\nand call this method like this:\r\n\r\n    SomeClass.clicksButtons(pass a webelement here);","title":"Is there a way to pass a webelement as a parameter?","body":"<p>This</p>\n<pre><code>public SomeClass clicksButtons() {\n        *some locator*.click();\n        return new someClass(this.driver);\n    }\n</code></pre>\n<p>should be:</p>\n<pre><code>public SomeClass clicksButtons(WebElemenet ele) {\n        ele.click();\n        return new someClass(this.driver);\n    }\n</code></pre>\n<p>and call this method like this:</p>\n<pre><code>SomeClass.clicksButtons(pass a webelement here);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10337074,"reputation":73,"user_id":10086255,"display_name":"Seeth"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643347413,"creation_date":1643347413,"answer_id":70889151,"question_id":70617469,"body_markdown":"I found the answer in Selenium Testing Tools Cookbook 2nd edition.\r\n\r\n```\r\n\tpublic void select(String label) {\r\n\r\n//I found the buttons by class and stored them in a List&lt;&gt;. In my case there were 3.\r\n\t\tList&lt;WebElement&gt; like = this.driver.findElements(By.className(&quot;custom-control-label&quot;));\r\n\t\t\r\n//iterate the buttons contained in the List&lt;&gt;\r\n\t\tfor(WebElement button : like) \r\n\t\t{\r\n//if the button&#39;s &quot;for&quot; attribute contains the given label...\r\n\t\t\tif (button.getAttribute(&quot;for&quot;).equals(label)) \r\n\t\t\t{\r\n//...and if it is not selected...\r\n\t\t\t\tif (!button.isSelected()) \r\n\t\t\t\t{\r\n//click the button, according to the label\r\n\t\t\t\t\tbutton.click();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\t\r\n\t}\r\n```","title":"Is there a way to pass a webelement as a parameter?","body":"<p>I found the answer in Selenium Testing Tools Cookbook 2nd edition.</p>\n<pre><code>    public void select(String label) {\n\n//I found the buttons by class and stored them in a List&lt;&gt;. In my case there were 3.\n        List&lt;WebElement&gt; like = this.driver.findElements(By.className(&quot;custom-control-label&quot;));\n        \n//iterate the buttons contained in the List&lt;&gt;\n        for(WebElement button : like) \n        {\n//if the button's &quot;for&quot; attribute contains the given label...\n            if (button.getAttribute(&quot;for&quot;).equals(label)) \n            {\n//...and if it is not selected...\n                if (!button.isSelected()) \n                {\n//click the button, according to the label\n                    button.click();\n                }\n            }\n        }   \n    }\n</code></pre>\n"}],"owner":{"account_id":10337074,"reputation":73,"user_id":10086255,"display_name":"Seeth"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1118,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":70889151,"answer_count":2,"score":1,"last_activity_date":1643347413,"creation_date":1641537752,"question_id":70617469,"body_markdown":"I am building three test cases with a page object that contains three ID locators. I am wondering if I can pass a locator to a single method for all three cases.\r\n\r\n\r\nPage Object:\r\n```\r\npublic class SomeClass {\r\n\r\n\t@FindBy(how=How.CSS, using=&quot;label[for=&#39;yes&#39;]&quot;)\r\n\tprivate WebElement yes;\r\n\r\n\t@FindBy(how=How.CSS, using=&quot;label[for=&#39;maybe&#39;]&quot;)\r\n\tprivate WebElement maybe;\r\n\r\n\t@FindBy(how=How.CSS, using=&quot;label[for=&#39;no&#39;]&quot;)\r\n\tprivate WebElement no;\r\n\r\n\tpublic SomeClass(WebDriver driver) {\r\n\t\tsuper(driver);\r\n\t}\r\n\r\n\tpublic SomeClass clicksButtons() {\r\n\t\t*some locator*.click();\r\n\t\treturn new someClass(this.driver);\r\n\t}\r\n}\r\n```\r\n\r\nTest Case:\r\n```\r\npublic class SomeTest {\r\n\t\r\n\t@Test\r\n\tpublic void willClickAButton() {\r\n\t\t\r\n\t\tSomeClass someClass = new SomeClass(this.getDriver());\r\n\r\n\t\tSomeClass.clicksButtons();\r\n\r\n\t\tAssert.assertTrue(true);\r\n\t}\r\n```\r\nI would like to pass a parameter (yes, maybe, or no) into the clicksButtons method so that I can reuse the method in the other two test cases without have to hardcode it. I&#39;ve searched Google and couldn&#39;t find a clear answer.","title":"Is there a way to pass a webelement as a parameter?","body":"<p>I am building three test cases with a page object that contains three ID locators. I am wondering if I can pass a locator to a single method for all three cases.</p>\n<p>Page Object:</p>\n<pre><code>public class SomeClass {\n\n    @FindBy(how=How.CSS, using=&quot;label[for='yes']&quot;)\n    private WebElement yes;\n\n    @FindBy(how=How.CSS, using=&quot;label[for='maybe']&quot;)\n    private WebElement maybe;\n\n    @FindBy(how=How.CSS, using=&quot;label[for='no']&quot;)\n    private WebElement no;\n\n    public SomeClass(WebDriver driver) {\n        super(driver);\n    }\n\n    public SomeClass clicksButtons() {\n        *some locator*.click();\n        return new someClass(this.driver);\n    }\n}\n</code></pre>\n<p>Test Case:</p>\n<pre><code>public class SomeTest {\n    \n    @Test\n    public void willClickAButton() {\n        \n        SomeClass someClass = new SomeClass(this.getDriver());\n\n        SomeClass.clicksButtons();\n\n        Assert.assertTrue(true);\n    }\n</code></pre>\n<p>I would like to pass a parameter (yes, maybe, or no) into the clicksButtons method so that I can reuse the method in the other two test cases without have to hardcode it. I've searched Google and couldn't find a clear answer.</p>\n"},{"tags":["java","gradle","jar"],"answers":[{"tags":[],"owner":{"account_id":7719031,"reputation":2254,"user_id":5845802,"display_name":"PrasadU"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643346587,"creation_date":1643346587,"answer_id":70889069,"question_id":70883892,"body_markdown":"Try to filter in the compile task.\r\n\r\n```groovy\r\ntasks.withType(JavaCompile) {\r\n    exclude &#39;**/util/**/*.java&#39;\r\n}\r\n```\r\n\r\nbut this is appropriate if you looking to exclude some specific files. \r\n\r\nIf the whole src folder (like util) is to be excluded, it would be better redefine the `sourceSets.main.java` to only src folders you need - for that module\r\n","title":"How to exclude source folder from jar file","body":"<p>Try to filter in the compile task.</p>\n<pre><code>tasks.withType(JavaCompile) {\n    exclude '**/util/**/*.java'\n}\n</code></pre>\n<p>but this is appropriate if you looking to exclude some specific files.</p>\n<p>If the whole src folder (like util) is to be excluded, it would be better redefine the <code>sourceSets.main.java</code> to only src folders you need - for that module</p>\n"}],"owner":{"account_id":285703,"reputation":2562,"user_id":584532,"accept_rate":79,"display_name":"nrainer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":573,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643346587,"creation_date":1643308141,"question_id":70883892,"body_markdown":"How can I exclude a source folder from a jar file using Gradle Kotlin DSL?\r\n\r\nThe source sets are\r\n```\r\nsourceSets {\r\n    main {\r\n        java {\r\n            srcDirs(&quot;src/main/java&quot;)\r\n            srcDirs(&quot;src/util/java&quot;)\r\n        }\r\n    }\r\n}\r\n```\r\nand I want to exclude `src/util/java` from Jars.\r\n\r\nI tried\r\n```\r\ntasks {\r\n  withType&lt;Jar&gt; {\r\n    exclude(&quot;src/util/java/**&quot;)\r\n  }\r\n}\r\n```\r\nbut that does ot work because the string likely does not contain the source folder.\r\n\r\nWhat is the best way to achieve this?","title":"How to exclude source folder from jar file","body":"<p>How can I exclude a source folder from a jar file using Gradle Kotlin DSL?</p>\n<p>The source sets are</p>\n<pre><code>sourceSets {\n    main {\n        java {\n            srcDirs(&quot;src/main/java&quot;)\n            srcDirs(&quot;src/util/java&quot;)\n        }\n    }\n}\n</code></pre>\n<p>and I want to exclude <code>src/util/java</code> from Jars.</p>\n<p>I tried</p>\n<pre><code>tasks {\n  withType&lt;Jar&gt; {\n    exclude(&quot;src/util/java/**&quot;)\n  }\n}\n</code></pre>\n<p>but that does ot work because the string likely does not contain the source folder.</p>\n<p>What is the best way to achieve this?</p>\n"},{"tags":["java","android","zxing"],"comments":[{"owner":{"account_id":19400960,"reputation":1653,"user_id":14187529,"display_name":"Kamal Nayan"},"score":0,"creation_date":1643270828,"post_id":70875058,"comment_id":125296253,"body_markdown":"Tried https://github.com/SumiMakito/AwesomeQRCode ?","body":"Tried <a href=\"https://github.com/SumiMakito/AwesomeQRCode\" rel=\"nofollow noreferrer\">github.com/SumiMakito/AwesomeQRCode</a> ?"},{"owner":{"account_id":23558593,"reputation":75,"user_id":17600245,"display_name":"Juro"},"score":0,"creation_date":1643271907,"post_id":70875058,"comment_id":125296624,"body_markdown":"implementation &#39;com.github.SumiMakito:AwesomeQRCode:1.1.0&#39;\nis right??????","body":"implementation &#39;com.github.SumiMakito:AwesomeQRCode:1.1.0&#39; is right??????"},{"owner":{"account_id":19400960,"reputation":1653,"user_id":14187529,"display_name":"Kamal Nayan"},"score":0,"creation_date":1643272380,"post_id":70875058,"comment_id":125296793,"body_markdown":"`implementation &#39;com.github.SumiMakito:AwesomeQRCode:1.2.0&#39;`","body":"<code>implementation &#39;com.github.SumiMakito:AwesomeQRCode:1.2.0&#39;</code>"},{"owner":{"account_id":23558593,"reputation":75,"user_id":17600245,"display_name":"Juro"},"score":0,"creation_date":1643328831,"post_id":70875058,"comment_id":125317661,"body_markdown":"Thank you!! I&#39;m Success generate QrCode","body":"Thank you!! I&#39;m Success generate QrCode"}],"answers":[{"tags":[],"owner":{"account_id":19400960,"reputation":1653,"user_id":14187529,"display_name":"Kamal Nayan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643346139,"creation_date":1643346139,"answer_id":70889018,"question_id":70875058,"body_markdown":"Try using [this][1] library. ( SumiMakito /\r\nAwesomeQRCode\r\n)\r\n\r\n\r\n  [1]: http://github.com/SumiMakito/AwesomeQRCode","title":"how to generate qrcode empty center?","body":"<p>Try using <a href=\"http://github.com/SumiMakito/AwesomeQRCode\" rel=\"nofollow noreferrer\">this</a> library. ( SumiMakito /\nAwesomeQRCode\n)</p>\n"}],"owner":{"account_id":23558593,"reputation":75,"user_id":17600245,"display_name":"Juro"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1355,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70889018,"answer_count":1,"score":1,"last_activity_date":1643346139,"creation_date":1643270224,"question_id":70875058,"body_markdown":"I am generate qrCode using zxing.\r\nOrdinary QR codes can be created, but I want to create QR codes that are empty in the center or contain LOGO in the center.\r\nCan we create a QR code that recognizes well regardless of the size of LOGO?\r\nI want to like this image\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/nmUej.png","title":"how to generate qrcode empty center?","body":"<p>I am generate qrCode using zxing.\nOrdinary QR codes can be created, but I want to create QR codes that are empty in the center or contain LOGO in the center.\nCan we create a QR code that recognizes well regardless of the size of LOGO?\nI want to like this image</p>\n<p><a href=\"https://i.stack.imgur.com/nmUej.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nmUej.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","maven","swagger-codegen"],"owner":{"account_id":17965359,"reputation":305,"user_id":13055352,"display_name":"happytohelp"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":401,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1643345933,"creation_date":1643250809,"question_id":70872641,"body_markdown":"I have went through some stack overflow posts and online and can see that the swagger has changed the default from initializing empty collection to null when generating swagger models using maven swagger codegen plugin. So for example if I generate a collection using the maven plugin, the getter will look something like this:\r\n```java\r\npublic List&lt;Phone&gt; phone = null;\r\n```\r\n\r\nand its getters like:\r\n\r\n```java\r\n   /**\r\n   * Get phone\r\n   * @return phone\r\n  **/\r\n  @Schema(description = &quot;&quot;)\r\n  public List&lt;Phone&gt; getPhone() {\r\n    return phone;\r\n  }\r\n\r\n```\r\n\r\nso is there any config option to generate the getters like below in maven swagger code gen plugin\r\n\r\n``` java\r\n   /**\r\n   * Get phone\r\n   * @return phone\r\n  **/\r\n  @Schema(description = &quot;&quot;)\r\n  public List&lt;Phone&gt; getPhone() {\r\n    if(phone ==null) {\r\n     return new ArrayList&lt;Phone&gt;();\r\n     }\r\n    return phone;\r\n  }\r\n```\r\n\r\nthe reason I wanted to do like this is because I am migrating some legacy code and it is in soap and the classes generated using xsd initialize the list inside getters when the list is null. So I had to do it the same way so not to break any existing code.\r\n\r\nAny hack or help is appreciated.\r\n","title":"How to generate swagger models with empty collection in getters when the collection is null?","body":"<p>I have went through some stack overflow posts and online and can see that the swagger has changed the default from initializing empty collection to null when generating swagger models using maven swagger codegen plugin. So for example if I generate a collection using the maven plugin, the getter will look something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public List&lt;Phone&gt; phone = null;\n</code></pre>\n<p>and its getters like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>   /**\n   * Get phone\n   * @return phone\n  **/\n  @Schema(description = &quot;&quot;)\n  public List&lt;Phone&gt; getPhone() {\n    return phone;\n  }\n\n</code></pre>\n<p>so is there any config option to generate the getters like below in maven swagger code gen plugin</p>\n<pre class=\"lang-java prettyprint-override\"><code>   /**\n   * Get phone\n   * @return phone\n  **/\n  @Schema(description = &quot;&quot;)\n  public List&lt;Phone&gt; getPhone() {\n    if(phone ==null) {\n     return new ArrayList&lt;Phone&gt;();\n     }\n    return phone;\n  }\n</code></pre>\n<p>the reason I wanted to do like this is because I am migrating some legacy code and it is in soap and the classes generated using xsd initialize the list inside getters when the list is null. So I had to do it the same way so not to break any existing code.</p>\n<p>Any hack or help is appreciated.</p>\n"},{"tags":["java","logback-classic"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1643241203,"post_id":70871573,"comment_id":125290518,"body_markdown":"No idea, but have you tried without jansi?","body":"No idea, but have you tried without jansi?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1643241330,"post_id":70871573,"comment_id":125290536,"body_markdown":"You can try: 1. Take your simple example and add dependencies until it stops working. Or 2. Step into the log statement with the debugger until you get to the interpretation of the pattern. Do this in your application and your working example and see what the difference is.","body":"You can try: 1. Take your simple example and add dependencies until it stops working. Or 2. Step into the log statement with the debugger until you get to the interpretation of the pattern. Do this in your application and your working example and see what the difference is."}],"answers":[{"tags":[],"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643344899,"creation_date":1643344899,"answer_id":70888888,"question_id":70871573,"body_markdown":"It looks like this is a known issue in logback: [%n after color grouping does not work](https://jira.qos.ch/browse/LOGBACK-830)\r\n\r\nA comment by David Eckel on that issue shows a workaround:\r\n\r\n&gt; Workaround: add an empty options list:\r\n&gt;\r\n&gt;      &lt;pattern&gt;%magenta(%message){}%n&lt;/pattern&gt;\r\n&gt;\r\n","title":"Logback printing %n instead of new line","body":"<p>It looks like this is a known issue in logback: <a href=\"https://jira.qos.ch/browse/LOGBACK-830\" rel=\"nofollow noreferrer\">%n after color grouping does not work</a></p>\n<p>A comment by David Eckel on that issue shows a workaround:</p>\n<blockquote>\n<p>Workaround: add an empty options list:</p>\n<pre><code> &lt;pattern&gt;%magenta(%message){}%n&lt;/pattern&gt;\n</code></pre>\n</blockquote>\n"}],"owner":{"account_id":487587,"reputation":3346,"user_id":1375292,"accept_rate":67,"display_name":"Troy Daniels"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1274,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1643344899,"creation_date":1643240231,"question_id":70871573,"body_markdown":"I am using Logback through Slf4j.  I have an appender configured as follows:\r\n\r\n```\r\n    &lt;appender name=&quot;PLAN_STDOUT&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n        &lt;!-- On Windows, this will also require org.fusesource.jansi:jansi:1.17\r\n             (or higher) on the classpath.  On a Mac, it works without it --&gt;\r\n        &lt;withJansi&gt;true&lt;/withJansi&gt;\r\n        &lt;encoder&gt;\r\n            &lt;pattern&gt;%d{HH:mm:ss.SSS} %blue(%msg) %n&lt;/pattern&gt;\r\n        &lt;/encoder&gt;\r\n    &lt;/appender&gt;\r\n```\r\n\r\nWhen I send messages to that logger, they appear on the console (as expected) with the text in blue (as expected).  However, after the text, it prints `%n` rather than a new line, so the output looks like\r\n\r\n```\r\n17:36:50.184 This text is in blue %n17:36:50.200 This text is one the same line\r\n```\r\n\r\nI am not doing anything complicated elsewhere.  I get the logger by \r\n\r\n```\r\nprivate final static Logger planLogger = LoggerFactory.getLogger(&quot;PLAN&quot;)\r\n```\r\nand use it like\r\n```\r\nlogger.info(&quot;=== Summary ===&quot;);\r\nfor (var d: data) {\r\n   logger.info(&quot;  Data: {}&quot;, d);\r\n}\r\n```\r\n\r\nI tried to make a simple example to reproduce it with just slf4j-api, Logback-classic and Logback-core as dependencies, and it worked as expected.  I suspect that the problem is the full system depends on something else which is interfering, but I don&#39;t know what.  \r\n\r\nIn the full system, these are the log-related dependencies that I have.\r\n\r\n```\r\n$ mvn dependency:tree | egrep &#39;log|slf4j&#39;\r\n[INFO] |  \\- org.slf4j:slf4j-api:jar:1.7.30:compile\r\n[INFO] |  |  |  +- org.slf4j:jcl-over-slf4j:jar:1.7.29:runtime\r\n[INFO] +- ch.qos.logback:logback-classic:jar:1.2.6:runtime\r\n[INFO] |  \\- ch.qos.logback:logback-core:jar:1.2.6:runtime\r\n[INFO] +- org.apache.logging.log4j:log4j-api:jar:2.17.1:compile\r\n[INFO] \\- org.apache.logging.log4j:log4j-core:jar:2.17.1:compile\r\n```\r\n\r\n(I know, depending on log4j and logback is bad.  But I am not in charge of enforcing such things.)\r\n\r\nI tried updating my pom to include all of those dependencies, but the simple test still works.\r\n\r\nI am on a Mac if that matters.\r\n\r\nHas any one experienced anything like this or have an idea what could be causing it?\r\n","title":"Logback printing %n instead of new line","body":"<p>I am using Logback through Slf4j.  I have an appender configured as follows:</p>\n<pre><code>    &lt;appender name=&quot;PLAN_STDOUT&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n        &lt;!-- On Windows, this will also require org.fusesource.jansi:jansi:1.17\n             (or higher) on the classpath.  On a Mac, it works without it --&gt;\n        &lt;withJansi&gt;true&lt;/withJansi&gt;\n        &lt;encoder&gt;\n            &lt;pattern&gt;%d{HH:mm:ss.SSS} %blue(%msg) %n&lt;/pattern&gt;\n        &lt;/encoder&gt;\n    &lt;/appender&gt;\n</code></pre>\n<p>When I send messages to that logger, they appear on the console (as expected) with the text in blue (as expected).  However, after the text, it prints <code>%n</code> rather than a new line, so the output looks like</p>\n<pre><code>17:36:50.184 This text is in blue %n17:36:50.200 This text is one the same line\n</code></pre>\n<p>I am not doing anything complicated elsewhere.  I get the logger by</p>\n<pre><code>private final static Logger planLogger = LoggerFactory.getLogger(&quot;PLAN&quot;)\n</code></pre>\n<p>and use it like</p>\n<pre><code>logger.info(&quot;=== Summary ===&quot;);\nfor (var d: data) {\n   logger.info(&quot;  Data: {}&quot;, d);\n}\n</code></pre>\n<p>I tried to make a simple example to reproduce it with just slf4j-api, Logback-classic and Logback-core as dependencies, and it worked as expected.  I suspect that the problem is the full system depends on something else which is interfering, but I don't know what.</p>\n<p>In the full system, these are the log-related dependencies that I have.</p>\n<pre><code>$ mvn dependency:tree | egrep 'log|slf4j'\n[INFO] |  \\- org.slf4j:slf4j-api:jar:1.7.30:compile\n[INFO] |  |  |  +- org.slf4j:jcl-over-slf4j:jar:1.7.29:runtime\n[INFO] +- ch.qos.logback:logback-classic:jar:1.2.6:runtime\n[INFO] |  \\- ch.qos.logback:logback-core:jar:1.2.6:runtime\n[INFO] +- org.apache.logging.log4j:log4j-api:jar:2.17.1:compile\n[INFO] \\- org.apache.logging.log4j:log4j-core:jar:2.17.1:compile\n</code></pre>\n<p>(I know, depending on log4j and logback is bad.  But I am not in charge of enforcing such things.)</p>\n<p>I tried updating my pom to include all of those dependencies, but the simple test still works.</p>\n<p>I am on a Mac if that matters.</p>\n<p>Has any one experienced anything like this or have an idea what could be causing it?</p>\n"},{"tags":["java","maven","jboss","intellij-idea"],"comments":[{"owner":{"account_id":1413228,"reputation":658,"user_id":1339423,"accept_rate":100,"display_name":"amitsalyan"},"score":0,"creation_date":1401461890,"post_id":23953498,"comment_id":36907289,"body_markdown":"`Caused by: java.lang.IllegalStateException: Failed to resolve expression: ${XXX.datasource}` Clearly u have unresolved variable either in your persistence.xml or standalone.xml","body":"<code>Caused by: java.lang.IllegalStateException: Failed to resolve expression: ${XXX.datasource}</code> Clearly u have unresolved variable either in your persistence.xml or standalone.xml"},{"owner":{"account_id":2860407,"reputation":2034,"user_id":2455803,"accept_rate":83,"display_name":"Devesh"},"score":0,"creation_date":1401558752,"post_id":23953498,"comment_id":36936101,"body_markdown":"C:/serwers/jboss-as-7.1.1.Final/bin/content/XXX-webapp-1.0.0-SNAPSHOT.war/WEB-INF/lib/XXX-api-1.0.0-SNAPSHOT.jar/META-INF/persistence.xml is this path valid ?","body":"C:/serwers/jboss-as-7.1.1.Final/bin/content/XXX-webapp-1.0.0&zwnj;&#8203;-SNAPSHOT.war/WEB-IN&zwnj;&#8203;F/lib/XXX-api-1.0.0-&zwnj;&#8203;SNAPSHOT.jar/META-IN&zwnj;&#8203;F/persistence.xml is this path valid ?"},{"owner":{"account_id":3270306,"reputation":921,"user_id":2753839,"accept_rate":74,"display_name":"Lukas Novicky"},"score":1,"creation_date":1401703089,"post_id":23953498,"comment_id":36970960,"body_markdown":"yep - I double checked this.","body":"yep - I double checked this."}],"owner":{"account_id":3270306,"reputation":921,"user_id":2753839,"accept_rate":74,"display_name":"Lukas Novicky"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4948,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643343776,"creation_date":1401449244,"question_id":23953498,"body_markdown":"I get this error when try to deploy my application using IntelliJ IDEA 13:\r\n\r\n    13:16:10,610 ERROR [org.jboss.msc.service.fail] (MSC service thread 1-5) MSC00001: Failed to start service jboss.deployment.unit.&quot;XXX-webapp-1.0.0-SNAPSHOT.war&quot;.PARSE: org.jboss.msc.service.StartException in service jboss.deployment.unit.&quot;XXX-webapp-1.0.0-SNAPSHOT.war&quot;.PARSE: Failed to process phase PARSE of deployment &quot;XXX-webapp-1.0.0-SNAPSHOT.war&quot;\r\n    \tat org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:119) [jboss-as-server-7.1.1.Final.jar:7.1.1.Final]\r\n    \tat org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1811) [jboss-msc-1.0.2.GA.jar:1.0.2.GA]\r\n    \tat org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1746) [jboss-msc-1.0.2.GA.jar:1.0.2.GA]\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) [rt.jar:1.7.0_55]\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) [rt.jar:1.7.0_55]\r\n    \tat java.lang.Thread.run(Thread.java:745) [rt.jar:1.7.0_55]\r\n    Caused by: org.jboss.as.server.deployment.DeploymentUnitProcessingException: JBAS011448: Failed to parse &quot;/C:/serwers/jboss-as-7.1.1.Final/bin/content/XXX-webapp-1.0.0-SNAPSHOT.war/WEB-INF/lib/XXX-api-1.0.0-SNAPSHOT.jar/META-INF/persistence.xml&quot;\r\n    \tat org.jboss.as.jpa.processor.PersistenceUnitParseProcessor.parse(PersistenceUnitParseProcessor.java:222)\r\n    \tat org.jboss.as.jpa.processor.PersistenceUnitParseProcessor.handleWarDeployment(PersistenceUnitParseProcessor.java:149)\r\n    \tat org.jboss.as.jpa.processor.PersistenceUnitParseProcessor.deploy(PersistenceUnitParseProcessor.java:82)\r\n    \tat org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:113) [jboss-as-server-7.1.1.Final.jar:7.1.1.Final]\r\n    \t... 5 more\r\n    Caused by: java.lang.IllegalStateException: Failed to resolve expression: ${XXX.datasource}\r\n    \tat org.jboss.as.server.parsing.PropertiesValueResolver.replaceProperties(PropertiesValueResolver.java:127) [jboss-as-server-7.1.1.Final.jar:7.1.1.Final]\r\n    \tat org.jboss.as.jpa.config.AttributeDefinition.resolve(AttributeDefinition.java:62)\r\n    \tat org.jboss.as.jpa.puparser.PersistenceUnitXmlParser.parsePU(PersistenceUnitXmlParser.java:220)\r\n    \tat org.jboss.as.jpa.puparser.PersistenceUnitXmlParser.parse(PersistenceUnitXmlParser.java:122)\r\n    \tat org.jboss.as.jpa.processor.PersistenceUnitParseProcessor.parse(PersistenceUnitParseProcessor.java:217)\r\n    \t... 8 more\r\n    \r\n    13:16:10,623 INFO  [org.jboss.as.server] (management-handler-thread - 8) JBAS015870: Deploy of deployment &quot;XXX-webapp-1.0.0-SNAPSHOT.war&quot; was rolled back with failure message {&quot;JBAS014671: Failed services&quot; =&gt; {&quot;jboss.deployment.unit.\\&quot;XXX-webapp-1.0.0-SNAPSHOT.war\\&quot;.PARSE&quot; =&gt; &quot;org.jboss.msc.service.StartException in service jboss.deployment.unit.\\&quot;XXX-webapp-1.0.0-SNAPSHOT.war\\&quot;.PARSE: Failed to process phase PARSE of deployment \\&quot;XXX-webapp-1.0.0-SNAPSHOT.war\\&quot;&quot;}}\r\n    13:16:10,962 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-5) JBAS015877: Stopped deployment XXX-webapp-1.0.0-SNAPSHOT.war in 338ms\r\n    13:16:10,963 INFO  [org.jboss.as.controller] (management-handler-thread - 8) JBAS014774: Service status report\r\n    JBAS014777:   Services which failed to start:      service jboss.deployment.unit.&quot;XXX-webapp-1.0.0-SNAPSHOT.war&quot;.PARSE: org.jboss.msc.service.StartException in service jboss.deployment.unit.&quot;XXX-webapp-1.0.0-SNAPSHOT.war&quot;.PARSE: Failed to process phase PARSE of deployment &quot;XXX-webapp-1.0.0-SNAPSHOT.war&quot;\r\n    \r\n    [2014-05-30 01:16:11,000] Artifact XXX-webapp:war: Error during artifact deployment. See server log for details.\r\n    [2014-05-30 01:16:11,000] Artifact XXX-webapp:war: java.lang.Exception: {&quot;JBAS014671: Failed services&quot; =&gt; {&quot;jboss.deployment.unit.\\&quot;XXX-webapp-1.0.0-SNAPSHOT.war\\&quot;.PARSE&quot; =&gt; &quot;org.jboss.msc.service.StartException in service jboss.deployment.unit.\\&quot;XXX-webapp-1.0.0-SNAPSHOT.war\\&quot;.PARSE: Failed to process phase PARSE of deployment \\&quot;XXX-webapp-1.0.0-SNAPSHOT.war\\&quot;&quot;}}\r\n\r\nI checked in file &#39;persistence.xml&#39; for this ${XXX.datasource}, and replaced it with static reference to xxDS which I have configured in standalone.xml, I clean and install maven project, but still got this same error. I don&#39;t get it, can anyone help?","title":"JBOSS 7.1.1 deployment error &quot;Failed to start service jboss.deployment.unit.&quot;","body":"<p>I get this error when try to deploy my application using IntelliJ IDEA 13:</p>\n<pre><code>13:16:10,610 ERROR [org.jboss.msc.service.fail] (MSC service thread 1-5) MSC00001: Failed to start service jboss.deployment.unit.&quot;XXX-webapp-1.0.0-SNAPSHOT.war&quot;.PARSE: org.jboss.msc.service.StartException in service jboss.deployment.unit.&quot;XXX-webapp-1.0.0-SNAPSHOT.war&quot;.PARSE: Failed to process phase PARSE of deployment &quot;XXX-webapp-1.0.0-SNAPSHOT.war&quot;\n    at org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:119) [jboss-as-server-7.1.1.Final.jar:7.1.1.Final]\n    at org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1811) [jboss-msc-1.0.2.GA.jar:1.0.2.GA]\n    at org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1746) [jboss-msc-1.0.2.GA.jar:1.0.2.GA]\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) [rt.jar:1.7.0_55]\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) [rt.jar:1.7.0_55]\n    at java.lang.Thread.run(Thread.java:745) [rt.jar:1.7.0_55]\nCaused by: org.jboss.as.server.deployment.DeploymentUnitProcessingException: JBAS011448: Failed to parse &quot;/C:/serwers/jboss-as-7.1.1.Final/bin/content/XXX-webapp-1.0.0-SNAPSHOT.war/WEB-INF/lib/XXX-api-1.0.0-SNAPSHOT.jar/META-INF/persistence.xml&quot;\n    at org.jboss.as.jpa.processor.PersistenceUnitParseProcessor.parse(PersistenceUnitParseProcessor.java:222)\n    at org.jboss.as.jpa.processor.PersistenceUnitParseProcessor.handleWarDeployment(PersistenceUnitParseProcessor.java:149)\n    at org.jboss.as.jpa.processor.PersistenceUnitParseProcessor.deploy(PersistenceUnitParseProcessor.java:82)\n    at org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:113) [jboss-as-server-7.1.1.Final.jar:7.1.1.Final]\n    ... 5 more\nCaused by: java.lang.IllegalStateException: Failed to resolve expression: ${XXX.datasource}\n    at org.jboss.as.server.parsing.PropertiesValueResolver.replaceProperties(PropertiesValueResolver.java:127) [jboss-as-server-7.1.1.Final.jar:7.1.1.Final]\n    at org.jboss.as.jpa.config.AttributeDefinition.resolve(AttributeDefinition.java:62)\n    at org.jboss.as.jpa.puparser.PersistenceUnitXmlParser.parsePU(PersistenceUnitXmlParser.java:220)\n    at org.jboss.as.jpa.puparser.PersistenceUnitXmlParser.parse(PersistenceUnitXmlParser.java:122)\n    at org.jboss.as.jpa.processor.PersistenceUnitParseProcessor.parse(PersistenceUnitParseProcessor.java:217)\n    ... 8 more\n\n13:16:10,623 INFO  [org.jboss.as.server] (management-handler-thread - 8) JBAS015870: Deploy of deployment &quot;XXX-webapp-1.0.0-SNAPSHOT.war&quot; was rolled back with failure message {&quot;JBAS014671: Failed services&quot; =&gt; {&quot;jboss.deployment.unit.\\&quot;XXX-webapp-1.0.0-SNAPSHOT.war\\&quot;.PARSE&quot; =&gt; &quot;org.jboss.msc.service.StartException in service jboss.deployment.unit.\\&quot;XXX-webapp-1.0.0-SNAPSHOT.war\\&quot;.PARSE: Failed to process phase PARSE of deployment \\&quot;XXX-webapp-1.0.0-SNAPSHOT.war\\&quot;&quot;}}\n13:16:10,962 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-5) JBAS015877: Stopped deployment XXX-webapp-1.0.0-SNAPSHOT.war in 338ms\n13:16:10,963 INFO  [org.jboss.as.controller] (management-handler-thread - 8) JBAS014774: Service status report\nJBAS014777:   Services which failed to start:      service jboss.deployment.unit.&quot;XXX-webapp-1.0.0-SNAPSHOT.war&quot;.PARSE: org.jboss.msc.service.StartException in service jboss.deployment.unit.&quot;XXX-webapp-1.0.0-SNAPSHOT.war&quot;.PARSE: Failed to process phase PARSE of deployment &quot;XXX-webapp-1.0.0-SNAPSHOT.war&quot;\n\n[2014-05-30 01:16:11,000] Artifact XXX-webapp:war: Error during artifact deployment. See server log for details.\n[2014-05-30 01:16:11,000] Artifact XXX-webapp:war: java.lang.Exception: {&quot;JBAS014671: Failed services&quot; =&gt; {&quot;jboss.deployment.unit.\\&quot;XXX-webapp-1.0.0-SNAPSHOT.war\\&quot;.PARSE&quot; =&gt; &quot;org.jboss.msc.service.StartException in service jboss.deployment.unit.\\&quot;XXX-webapp-1.0.0-SNAPSHOT.war\\&quot;.PARSE: Failed to process phase PARSE of deployment \\&quot;XXX-webapp-1.0.0-SNAPSHOT.war\\&quot;&quot;}}\n</code></pre>\n<p>I checked in file 'persistence.xml' for this ${XXX.datasource}, and replaced it with static reference to xxDS which I have configured in standalone.xml, I clean and install maven project, but still got this same error. I don't get it, can anyone help?</p>\n"},{"tags":["java","swing","jlabel","imageicon"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1643297639,"post_id":70881192,"comment_id":125307059,"body_markdown":"You are adding the labels to an `ArrayList`.  You need to add them to a JComponent like a `JPanel`.  Then add the JPanel to your JFrame before you `pack()` it and make it visible.","body":"You are adding the labels to an <code>ArrayList</code>.  You need to add them to a JComponent like a <code>JPanel</code>.  Then add the JPanel to your JFrame before you <code>pack()</code> it and make it visible."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1643303570,"post_id":70881192,"comment_id":125309774,"body_markdown":"See: [How to Use Labels](https://docs.oracle.com/javase/tutorial/uiswing/components/label.html) for complete working examples.","body":"See: <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/label.html\" rel=\"nofollow noreferrer\">How to Use Labels</a> for complete working examples."}],"answers":[{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643305589,"creation_date":1643305589,"answer_id":70883338,"question_id":70881192,"body_markdown":"You can use [SpringLayout][1] (rather than null layout). Method `Errand.getAddress().getX()` will return the distance of the left edge of the `JLabel` from the left edge of its container while `Errand.getAddress().getY()` will return the distance of the top edge of the `JLabel` from the top edge of its container.\r\n\r\nThe code in your question is not a [minimal, reproducible example][2] so the below code should be considered as a [proof of concept][3].\r\n```java\r\nimport java.awt.EventQueue;\r\nimport java.awt.Point;\r\n\r\nimport javax.swing.Icon;\r\nimport javax.swing.ImageIcon;\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JLabel;\r\nimport javax.swing.JPanel;\r\nimport javax.swing.SpringLayout;\r\n\r\npublic class SprinGui {\r\n\r\n    private void createAndDisplayGui() {\r\n        JFrame frame = new JFrame(&quot;Spring&quot;);\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        JPanel contentPane = (JPanel) frame.getContentPane();\r\n        SpringLayout layout = new SpringLayout();\r\n        contentPane.setLayout(layout);\r\n        Point[] points = new Point[]{new Point(5, 5),\r\n                                     new Point(5, 100),\r\n                                     new Point(225, 150),\r\n                                     new Point(250, 210)};\r\n        Class&lt;?&gt; meClass = getClass();\r\n        Icon[] icons = new Icon[4];\r\n        icons[0] = new ImageIcon(meClass.getResource(&quot;coffee.png&quot;));\r\n        icons[1] = new ImageIcon(meClass.getResource(&quot;dollar.png&quot;));\r\n        icons[2] = new ImageIcon(meClass.getResource(&quot;dynamite.png&quot;));\r\n        icons[3] = new ImageIcon(meClass.getResource(&quot;soccer-player.png&quot;));\r\n        for (int i = 0; i &lt; 4; i++) {\r\n            JLabel label = new JLabel(icons[i]);\r\n            contentPane.add(label);\r\n            layout.putConstraint(SpringLayout.WEST,\r\n                                 label,\r\n                                 points[i].x,\r\n                                 SpringLayout.WEST,\r\n                                 contentPane);\r\n            layout.putConstraint(SpringLayout.NORTH,\r\n                                 label,\r\n                                 points[i].y,\r\n                                 SpringLayout.NORTH,\r\n                                 contentPane);\r\n        }\r\n        frame.setSize(450, 300);\r\n        frame.setLocationByPlatform(true);\r\n        frame.setVisible(true);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        SprinGui instance = new SprinGui();\r\n        EventQueue.invokeLater(() -&gt; instance.createAndDisplayGui());\r\n    }\r\n}\r\n```\r\nThis is how the GUI looks.\r\n\r\n[![screen capture][4]][4]\r\n\r\nNote that [How to Use Icons][5] may also be helpful.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/uiswing/layout/spring.html\r\n  [2]: https://stackoverflow.com/help/minimal-reproducible-example\r\n  [3]: https://en.wikipedia.org/wiki/Proof_of_concept\r\n  [4]: https://i.stack.imgur.com/t9L2Q.png\r\n  [5]: https://docs.oracle.com/javase/tutorial/uiswing/components/icon.html","title":"How can I draw multiple JLabels in different places? (icons don&#39;t show up)","body":"<p>You can use <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/spring.html\" rel=\"nofollow noreferrer\">SpringLayout</a> (rather than null layout). Method <code>Errand.getAddress().getX()</code> will return the distance of the left edge of the <code>JLabel</code> from the left edge of its container while <code>Errand.getAddress().getY()</code> will return the distance of the top edge of the <code>JLabel</code> from the top edge of its container.</p>\n<p>The code in your question is not a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal, reproducible example</a> so the below code should be considered as a <a href=\"https://en.wikipedia.org/wiki/Proof_of_concept\" rel=\"nofollow noreferrer\">proof of concept</a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.awt.EventQueue;\nimport java.awt.Point;\n\nimport javax.swing.Icon;\nimport javax.swing.ImageIcon;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\nimport javax.swing.SpringLayout;\n\npublic class SprinGui {\n\n    private void createAndDisplayGui() {\n        JFrame frame = new JFrame(&quot;Spring&quot;);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        JPanel contentPane = (JPanel) frame.getContentPane();\n        SpringLayout layout = new SpringLayout();\n        contentPane.setLayout(layout);\n        Point[] points = new Point[]{new Point(5, 5),\n                                     new Point(5, 100),\n                                     new Point(225, 150),\n                                     new Point(250, 210)};\n        Class&lt;?&gt; meClass = getClass();\n        Icon[] icons = new Icon[4];\n        icons[0] = new ImageIcon(meClass.getResource(&quot;coffee.png&quot;));\n        icons[1] = new ImageIcon(meClass.getResource(&quot;dollar.png&quot;));\n        icons[2] = new ImageIcon(meClass.getResource(&quot;dynamite.png&quot;));\n        icons[3] = new ImageIcon(meClass.getResource(&quot;soccer-player.png&quot;));\n        for (int i = 0; i &lt; 4; i++) {\n            JLabel label = new JLabel(icons[i]);\n            contentPane.add(label);\n            layout.putConstraint(SpringLayout.WEST,\n                                 label,\n                                 points[i].x,\n                                 SpringLayout.WEST,\n                                 contentPane);\n            layout.putConstraint(SpringLayout.NORTH,\n                                 label,\n                                 points[i].y,\n                                 SpringLayout.NORTH,\n                                 contentPane);\n        }\n        frame.setSize(450, 300);\n        frame.setLocationByPlatform(true);\n        frame.setVisible(true);\n    }\n\n    public static void main(String[] args) {\n        SprinGui instance = new SprinGui();\n        EventQueue.invokeLater(() -&gt; instance.createAndDisplayGui());\n    }\n}\n</code></pre>\n<p>This is how the GUI looks.</p>\n<p><a href=\"https://i.stack.imgur.com/t9L2Q.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/t9L2Q.png\" alt=\"screen capture\" /></a></p>\n<p>Note that <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/icon.html\" rel=\"nofollow noreferrer\">How to Use Icons</a> may also be helpful.</p>\n"}],"owner":{"account_id":12471496,"reputation":59,"user_id":9079439,"display_name":"Argos"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":234,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643343531,"creation_date":1643297161,"question_id":70881192,"body_markdown":"I am trying to draw multiple icons in many different locations using `for` loop. For some reason they just don&#39;t show up. I don&#39;t know what I&#39;m missing &amp;ndash; only clue I found was about setting layout to null, but IntelliJ overwrites it. \r\nIcons should show up in &quot;mapa&quot; panel. I tried adding them manually, but nothing changed.\r\n\r\nMy code:\r\n``` lang-java\r\npackage okna;\r\n\r\nimport logistyka.Walker;\r\nimport logistyka.errand.Errand;\r\n\r\nimport javax.swing.*;\r\nimport java.awt.*;\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;\r\nimport java.util.ArrayList;\r\n\r\npublic class WalkerGUI extends JFrame{\r\n    private JPanel mainPanel;\r\n    private JLabel walkerName;\r\n    private  JTextField walkerNameField;\r\n    private JLabel walkerAddress;\r\n    private  JTextField walkerAddressField;\r\n    private JButton searchErrandsButton;\r\n    private JComboBox errandsComboBox;\r\n    private JLabel errandsList;\r\n    private JTextField walletValue;\r\n    private JLabel Wallet;\r\n    private JRadioButton archivalErrandsRadioButton;\r\n    private JRadioButton currentErrandsRadioButton;\r\n    private JButton payOutButton;\r\n    private JButton seeProfileButton;\r\n    private JPanel mapa;\r\n    ArrayList&lt;Errand&gt; masterErrandList = new ArrayList&lt;&gt;();\r\n\r\n    public WalkerGUI(Walker w, ArrayList&lt;Errand&gt; masterErrandList)  {\r\n        setContentPane(mainPanel);\r\n        ArrayList&lt;JLabel&gt; errandsLabels = new ArrayList&lt;&gt;();\r\n        ImageIcon x = new ImageIcon(System.getProperty(&quot;user.dir&quot;) + &quot;\\\\src\\\\x.png&quot;);\r\n        this.masterErrandList = masterErrandList;\r\n        for (Errand errand: masterErrandList) {\r\n            JLabel label = new JLabel(&quot;whtvr&quot;);\r\n            label.setIcon(x);\r\n            label.setLocation((int)errand.getAddress().getX(),(int)errand.getAddress().getY());\r\n            label.setMinimumSize(new Dimension(20,20));\r\n            label.setPreferredSize(new Dimension(20,20));\r\n            label.setVisible(true);\r\n            errandsLabels.add(label);\r\n        }\r\n\r\n        walkerNameField.setText(w.getDescription().getName());\r\n        walkerAddressField.setText(w.getDescription().getHomeRegion().getCurrentAddress().toString());\r\n        walletValue.setText(String.valueOf(w.getWalletSatus()));\r\n        seeProfileButton.addActionListener(new ActionListener() {\r\n            @Override\r\n            public void actionPerformed(ActionEvent e) {\r\n                JFrame frame = new ProfileGUI(w);\r\n                frame.pack();\r\n                frame.setVisible(true);\r\n            }\r\n        });\r\n        payOutButton.addActionListener(new ActionListener() {\r\n            @Override\r\n            public void actionPerformed(ActionEvent e) {\r\n                w.setWalletSatus(0);\r\n                walletValue.setText(String.valueOf(w.getWalletSatus()));\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n}\r\n\r\n```","title":"How can I draw multiple JLabels in different places? (icons don&#39;t show up)","body":"<p>I am trying to draw multiple icons in many different locations using <code>for</code> loop. For some reason they just don't show up. I don't know what I'm missing – only clue I found was about setting layout to null, but IntelliJ overwrites it.\nIcons should show up in &quot;mapa&quot; panel. I tried adding them manually, but nothing changed.</p>\n<p>My code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package okna;\n\nimport logistyka.Walker;\nimport logistyka.errand.Errand;\n\nimport javax.swing.*;\nimport java.awt.*;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.util.ArrayList;\n\npublic class WalkerGUI extends JFrame{\n    private JPanel mainPanel;\n    private JLabel walkerName;\n    private  JTextField walkerNameField;\n    private JLabel walkerAddress;\n    private  JTextField walkerAddressField;\n    private JButton searchErrandsButton;\n    private JComboBox errandsComboBox;\n    private JLabel errandsList;\n    private JTextField walletValue;\n    private JLabel Wallet;\n    private JRadioButton archivalErrandsRadioButton;\n    private JRadioButton currentErrandsRadioButton;\n    private JButton payOutButton;\n    private JButton seeProfileButton;\n    private JPanel mapa;\n    ArrayList&lt;Errand&gt; masterErrandList = new ArrayList&lt;&gt;();\n\n    public WalkerGUI(Walker w, ArrayList&lt;Errand&gt; masterErrandList)  {\n        setContentPane(mainPanel);\n        ArrayList&lt;JLabel&gt; errandsLabels = new ArrayList&lt;&gt;();\n        ImageIcon x = new ImageIcon(System.getProperty(&quot;user.dir&quot;) + &quot;\\\\src\\\\x.png&quot;);\n        this.masterErrandList = masterErrandList;\n        for (Errand errand: masterErrandList) {\n            JLabel label = new JLabel(&quot;whtvr&quot;);\n            label.setIcon(x);\n            label.setLocation((int)errand.getAddress().getX(),(int)errand.getAddress().getY());\n            label.setMinimumSize(new Dimension(20,20));\n            label.setPreferredSize(new Dimension(20,20));\n            label.setVisible(true);\n            errandsLabels.add(label);\n        }\n\n        walkerNameField.setText(w.getDescription().getName());\n        walkerAddressField.setText(w.getDescription().getHomeRegion().getCurrentAddress().toString());\n        walletValue.setText(String.valueOf(w.getWalletSatus()));\n        seeProfileButton.addActionListener(new ActionListener() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                JFrame frame = new ProfileGUI(w);\n                frame.pack();\n                frame.setVisible(true);\n            }\n        });\n        payOutButton.addActionListener(new ActionListener() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                w.setWalletSatus(0);\n                walletValue.setText(String.valueOf(w.getWalletSatus()));\n            }\n        });\n    }\n\n\n}\n\n</code></pre>\n"},{"tags":["java","android","httpurlconnection"],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1643343473,"creation_date":1301028678,"answer_id":5428670,"question_id":5428639,"body_markdown":"There are two possible common explanations for this:\r\n\r\n  1.  The content length is not known.  Or more specifically, the server is not setting a &quot;Content-Length&quot; header in the response message.\r\n\r\n  2.  The content length is greater than `Integer.MAX_VALUE`.  If that happens, `getContentLength()` returns `-1`.  (The javadocs recommend that `getContentLengthLong()` is used instead of `getContentLength()` to avoid that problem.)\r\n\r\nEither way, it is better to NOT preallocate a fixed sized byte array to hold the image.  \r\n\r\n  - One alternative is to create a local `ByteArrayOutputStream` and copy bytes read from the socket to that.  Then call `toByteArray` to grab the full byte array.\r\n\r\n  - Another alternative is to save the data in a temporary file in the file system.\r\n\r\nApparently a common underlying cause of this is that some implementations will by default request &quot;gzip&quot; encoding for the response data.  That forces the server to set the content length to -1.  You can prevent that like this:\r\n\r\n    connection.setRequestProperty(&quot;Accept-Encoding&quot;, &quot;identity&quot;);\r\n\r\n... but that means that the response won&#39;t be compressed.  So that is\r\n(IMO) a substandard solution.\r\n\r\n------\r\n\r\nYour existing client-side code is broken in another respect as well.  If you get an IOException or some other exception, the code block will &quot;exit abnormally&quot; without closing the URLConnection.  This will result in the leakage of a file descriptor.  Do this too many times and your application will fail due to exhaustion of file descriptors ... or local port numbers.\r\n\r\nIt is best practice to use a try / finally to ensure that URLConnections, Sockets, Streams and so on that tie down external resources are ALWAYS closed.\r\n\r\n------\r\n\r\nPreallocating a buffer based on the (purported) content length sets you up for a denial of service attack.  Imagine what if the bad guys send you a lot of request with dangerously large &quot;Content-Length&quot; headers and then slow-send the data.  OOMEs or worse.","title":"URLConnection getContentLength() is returning a negative value","body":"<p>There are two possible common explanations for this:</p>\n<ol>\n<li><p>The content length is not known.  Or more specifically, the server is not setting a &quot;Content-Length&quot; header in the response message.</p>\n</li>\n<li><p>The content length is greater than <code>Integer.MAX_VALUE</code>.  If that happens, <code>getContentLength()</code> returns <code>-1</code>.  (The javadocs recommend that <code>getContentLengthLong()</code> is used instead of <code>getContentLength()</code> to avoid that problem.)</p>\n</li>\n</ol>\n<p>Either way, it is better to NOT preallocate a fixed sized byte array to hold the image.</p>\n<ul>\n<li><p>One alternative is to create a local <code>ByteArrayOutputStream</code> and copy bytes read from the socket to that.  Then call <code>toByteArray</code> to grab the full byte array.</p>\n</li>\n<li><p>Another alternative is to save the data in a temporary file in the file system.</p>\n</li>\n</ul>\n<p>Apparently a common underlying cause of this is that some implementations will by default request &quot;gzip&quot; encoding for the response data.  That forces the server to set the content length to -1.  You can prevent that like this:</p>\n<pre><code>connection.setRequestProperty(&quot;Accept-Encoding&quot;, &quot;identity&quot;);\n</code></pre>\n<p>... but that means that the response won't be compressed.  So that is\n(IMO) a substandard solution.</p>\n<hr />\n<p>Your existing client-side code is broken in another respect as well.  If you get an IOException or some other exception, the code block will &quot;exit abnormally&quot; without closing the URLConnection.  This will result in the leakage of a file descriptor.  Do this too many times and your application will fail due to exhaustion of file descriptors ... or local port numbers.</p>\n<p>It is best practice to use a try / finally to ensure that URLConnections, Sockets, Streams and so on that tie down external resources are ALWAYS closed.</p>\n<hr />\n<p>Preallocating a buffer based on the (purported) content length sets you up for a denial of service attack.  Imagine what if the bad guys send you a lot of request with dangerously large &quot;Content-Length&quot; headers and then slow-send the data.  OOMEs or worse.</p>\n"},{"tags":[],"owner":{"account_id":113294,"reputation":54886,"user_id":298455,"accept_rate":100,"display_name":"Nishant"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1301029192,"creation_date":1301029192,"answer_id":5428708,"question_id":5428639,"body_markdown":"See here: http://download.oracle.com/javase/6/docs/api/java/net/URLConnection.html#getContentLength%28%29\r\n\r\nIt says, \r\n\r\n&gt;    **Returns:**\r\n&gt;\r\n&gt;   the content length of the resource that this connection&#39;s URL references, or -1 if the content length is not known.\r\n\r\n\r\nIt simply means header does not contains the `content-length` field. If you are having control over server code. You should set the content-lenth somehow. Something like [ServletResponse#setContentLength][1]\r\n\r\n\r\n  [1]: http://download.oracle.com/javaee/1.4/api/javax/servlet/ServletResponse.html#setContentLength%28int%29","title":"URLConnection getContentLength() is returning a negative value","body":"<p>See here: <a href=\"http://download.oracle.com/javase/6/docs/api/java/net/URLConnection.html#getContentLength%28%29\" rel=\"nofollow\">http://download.oracle.com/javase/6/docs/api/java/net/URLConnection.html#getContentLength%28%29</a></p>\n\n<p>It says, </p>\n\n<blockquote>\n  <p><strong>Returns:</strong></p>\n  \n  <p>the content length of the resource that this connection's URL references, or -1 if the content length is not known.</p>\n</blockquote>\n\n<p>It simply means header does not contains the <code>content-length</code> field. If you are having control over server code. You should set the content-lenth somehow. Something like <a href=\"http://download.oracle.com/javaee/1.4/api/javax/servlet/ServletResponse.html#setContentLength%28int%29\" rel=\"nofollow\">ServletResponse#setContentLength</a></p>\n"},{"tags":[],"owner":{"account_id":314921,"reputation":5149,"user_id":630388,"accept_rate":60,"display_name":"James"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1392341592,"creation_date":1392341592,"answer_id":21769227,"question_id":5428639,"body_markdown":"I also meet this problem in my Wallpaper app. The problem is because your server doesn&#39;t provide **Content-Length** in its http header. Here is a snapshot about a normal http header with **Content-length**.\r\n\r\n![enter image description here][1]\r\n\r\nI am using a share host so I can not change the server configuration. In my app, I am set progress dialog max value with an approximated value (which is bigger than my real file size) like this:\r\n\r\n    int filesize = connection.getContentLength();\r\n    if(filesize &lt; 0) {\r\n    \tprogressDialog.setMax(1000000);\r\n    } else {\r\n    \tprogressDialog.setMax(filesize);\r\n    }\r\n\r\nYou can also check my full example source code here:\r\n\r\n[Android Progress Dialog Example][2].\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/bzOz7.jpg\r\n  [2]: http://jmsliu.com/1929/android-progress-dialog-example.html","title":"URLConnection getContentLength() is returning a negative value","body":"<p>I also meet this problem in my Wallpaper app. The problem is because your server doesn't provide <strong>Content-Length</strong> in its http header. Here is a snapshot about a normal http header with <strong>Content-length</strong>.</p>\n\n<p><img src=\"https://i.stack.imgur.com/bzOz7.jpg\" alt=\"enter image description here\"></p>\n\n<p>I am using a share host so I can not change the server configuration. In my app, I am set progress dialog max value with an approximated value (which is bigger than my real file size) like this:</p>\n\n<pre><code>int filesize = connection.getContentLength();\nif(filesize &lt; 0) {\n    progressDialog.setMax(1000000);\n} else {\n    progressDialog.setMax(filesize);\n}\n</code></pre>\n\n<p>You can also check my full example source code here:</p>\n\n<p><a href=\"http://jmsliu.com/1929/android-progress-dialog-example.html\" rel=\"nofollow noreferrer\">Android Progress Dialog Example</a>.</p>\n"},{"tags":[],"owner":{"account_id":1356368,"reputation":3757,"user_id":1294681,"accept_rate":43,"display_name":"VinceStyling"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1399368491,"creation_date":1399368491,"answer_id":23490820,"question_id":5428639,"body_markdown":"It seems the server doesn&#39;t offer **Content-Length** in its response headers, did you get the **Transfer-Encoding=chunked** header from the response headers?\r\n\r\nMy situation is : I perform a **HttpURLConnection** and consider the server would response to me the &quot;Content-Length&quot; with positive value, but it didn&#39;t, then I turn to\r\nthe **AndroidHttpClient** which android HttpClient implementation, perform the same request again and got the right **Content-Length**.\r\n\r\nI used Wireshark to analysis the two requests, found a little difference about request headers.\r\n\r\nthe header list that use AndroidHttpClient :\r\n\r\n    ---------------------------------- request headers\r\n    Range : bytpe=0-\r\n    Host : download.game.yy.com\r\n    Connection : Keep-Alive\r\n    User-Agent : com.duowan.mobile.netroid\r\n    \r\n    ---------------------------------- response headers\r\n    Server : nginx\r\n    Content-Type : text/plain; charset=utf-8\r\n    ETag : &quot;535e2578-84e350&quot;\r\n    Cache-Control : max-age=86400\r\n    Accept-Ranges : bytes\r\n    Content-Range : bytes 0-8708943/8708944\r\n    Content-Length : 8708944\r\n\r\n\r\nthe request header list that use HttpURLConnection :\r\n\r\n    ---------------------------------- request headers\r\n    Range : bytpe=0-\r\n    Host : download.game.yy.com\r\n    Connection : Keep-Alive\r\n    User-Agent : com.duowan.mobile.netroid\r\n    Accept-Encoding : gzip    // difference here\r\n    \r\n    ---------------------------------- response headers\r\n    Server : nginx\r\n    Content-Type : text/plain; charset=utf-8\r\n    Cache-Control : max-age=86400\r\n    Transfer-Encoding : chunked\r\n    X-Android-Received-Millis : 1398861612782\r\n    X-Android-Sent-Millis : 1398861608538\r\n\r\nThe only difference with request header is **Accept-Encoding** which isn&#39;t added by myself, it was Android default setting for [HttpURLConnection](http://developer.android.com/reference/java/net/HttpURLConnection.html), after that, I set it to **identity** then perform request again, below is the full header stacks :\r\n\r\n    ---------------------------------- request headers\r\n    Range : bytpe=0-\r\n    Host : download.game.yy.com\r\n    Connection : Keep-Alive\r\n    User-Agent : com.duowan.mobile.netroid\r\n    Accept-Encoding : identity\r\n    \r\n    ---------------------------------- response headers\r\n    Server : nginx\r\n    Content-Type : text/plain; charset=utf-8\r\n    ETag : &quot;535e2578-84e350&quot;\r\n    Cache-Control : max-age=86400\r\n    Accept-Ranges : bytes\r\n    Content-Range : bytes 0-8708943/8708944\r\n    Content-Length : 8708944\r\n    X-Android-Received-Millis : 1398862186902\r\n    X-Android-Sent-Millis : 1398862186619\r\n\r\nas you can see, after I set the Accept-Encoding to &quot;identity&quot; replace system default value &quot;gzip&quot;, the server provided &quot;Content-Length&quot; positive, that&#39;s why AndroidHttpClient could take the right value of Content-Length and HttpURLConnection not.\r\n\r\nthe gzip compression encoding may cause chunked response that consider by server-side, and if server think you can receive chunked encoding response, it may not offer the **Content-Length** header, try to disable gzip acceptable behavior then see what difference with that.","title":"URLConnection getContentLength() is returning a negative value","body":"<p>It seems the server doesn't offer <strong>Content-Length</strong> in its response headers, did you get the <strong>Transfer-Encoding=chunked</strong> header from the response headers?</p>\n\n<p>My situation is : I perform a <strong>HttpURLConnection</strong> and consider the server would response to me the \"Content-Length\" with positive value, but it didn't, then I turn to\nthe <strong>AndroidHttpClient</strong> which android HttpClient implementation, perform the same request again and got the right <strong>Content-Length</strong>.</p>\n\n<p>I used Wireshark to analysis the two requests, found a little difference about request headers.</p>\n\n<p>the header list that use AndroidHttpClient :</p>\n\n<pre><code>---------------------------------- request headers\nRange : bytpe=0-\nHost : download.game.yy.com\nConnection : Keep-Alive\nUser-Agent : com.duowan.mobile.netroid\n\n---------------------------------- response headers\nServer : nginx\nContent-Type : text/plain; charset=utf-8\nETag : \"535e2578-84e350\"\nCache-Control : max-age=86400\nAccept-Ranges : bytes\nContent-Range : bytes 0-8708943/8708944\nContent-Length : 8708944\n</code></pre>\n\n<p>the request header list that use HttpURLConnection :</p>\n\n<pre><code>---------------------------------- request headers\nRange : bytpe=0-\nHost : download.game.yy.com\nConnection : Keep-Alive\nUser-Agent : com.duowan.mobile.netroid\nAccept-Encoding : gzip    // difference here\n\n---------------------------------- response headers\nServer : nginx\nContent-Type : text/plain; charset=utf-8\nCache-Control : max-age=86400\nTransfer-Encoding : chunked\nX-Android-Received-Millis : 1398861612782\nX-Android-Sent-Millis : 1398861608538\n</code></pre>\n\n<p>The only difference with request header is <strong>Accept-Encoding</strong> which isn't added by myself, it was Android default setting for <a href=\"http://developer.android.com/reference/java/net/HttpURLConnection.html\" rel=\"nofollow\">HttpURLConnection</a>, after that, I set it to <strong>identity</strong> then perform request again, below is the full header stacks :</p>\n\n<pre><code>---------------------------------- request headers\nRange : bytpe=0-\nHost : download.game.yy.com\nConnection : Keep-Alive\nUser-Agent : com.duowan.mobile.netroid\nAccept-Encoding : identity\n\n---------------------------------- response headers\nServer : nginx\nContent-Type : text/plain; charset=utf-8\nETag : \"535e2578-84e350\"\nCache-Control : max-age=86400\nAccept-Ranges : bytes\nContent-Range : bytes 0-8708943/8708944\nContent-Length : 8708944\nX-Android-Received-Millis : 1398862186902\nX-Android-Sent-Millis : 1398862186619\n</code></pre>\n\n<p>as you can see, after I set the Accept-Encoding to \"identity\" replace system default value \"gzip\", the server provided \"Content-Length\" positive, that's why AndroidHttpClient could take the right value of Content-Length and HttpURLConnection not.</p>\n\n<p>the gzip compression encoding may cause chunked response that consider by server-side, and if server think you can receive chunked encoding response, it may not offer the <strong>Content-Length</strong> header, try to disable gzip acceptable behavior then see what difference with that.</p>\n"},{"tags":[],"owner":{"account_id":3756546,"reputation":1518,"user_id":3122786,"display_name":"J&#233;r&#244;me Teisseire"},"down_vote_count":0,"up_vote_count":35,"is_accepted":false,"score":35,"last_activity_date":1408280178,"creation_date":1408280178,"answer_id":25349364,"question_id":5428639,"body_markdown":"\r\n\r\nBy default, this implementation of HttpURLConnection requests that servers use gzip compression.&lt;br/&gt;\r\nSince getContentLength() returns the number of bytes transmitted, you cannot use that method to predict how many bytes can be read from getInputStream().&lt;br/&gt; \r\nInstead, read that stream until it is exhausted: when read() returns -1.&lt;br/&gt; \r\nGzip compression can be disabled by setting the acceptable encodings in the request header:\r\n    \r\n     urlConnection.setRequestProperty(&quot;Accept-Encoding&quot;, &quot;identity&quot;);\r\n\r\nSo try this:\r\n\r\n    HttpURLConnection connection = (HttpURLConnection) url.openConnection();\r\n    connection.setRequestProperty(&quot;Accept-Encoding&quot;, &quot;identity&quot;); // &lt;--- Add this line\r\n    int length = connection.getContentLength(); // i get negetive length\r\n    \r\nSource (Performance paragraph): http://developer.android.com/reference/java/net/HttpURLConnection.html","title":"URLConnection getContentLength() is returning a negative value","body":"<p>By default, this implementation of HttpURLConnection requests that servers use gzip compression.<br/>\nSince getContentLength() returns the number of bytes transmitted, you cannot use that method to predict how many bytes can be read from getInputStream().<br/> \nInstead, read that stream until it is exhausted: when read() returns -1.<br/> \nGzip compression can be disabled by setting the acceptable encodings in the request header:</p>\n\n<pre><code> urlConnection.setRequestProperty(\"Accept-Encoding\", \"identity\");\n</code></pre>\n\n<p>So try this:</p>\n\n<pre><code>HttpURLConnection connection = (HttpURLConnection) url.openConnection();\nconnection.setRequestProperty(\"Accept-Encoding\", \"identity\"); // &lt;--- Add this line\nint length = connection.getContentLength(); // i get negetive length\n</code></pre>\n\n<p>Source (Performance paragraph): <a href=\"http://developer.android.com/reference/java/net/HttpURLConnection.html\" rel=\"noreferrer\">http://developer.android.com/reference/java/net/HttpURLConnection.html</a></p>\n"},{"tags":[],"owner":{"account_id":10239136,"reputation":365,"user_id":7557094,"display_name":"amit semwal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634034156,"creation_date":1634034156,"answer_id":69538866,"question_id":5428639,"body_markdown":"I am late here but this might help someone. I was facing same issue i was always getting **-1** value, when ever i was trying get the content length. \r\n\r\npreviously i was using below method to get content length.\r\n\r\n    long totalByte=connection.getContentLength();\r\n\r\n I used below method which solved my problem .\r\n\r\n    long totalByte=Long.parseLong(connection.getHeaderField(&quot;Content-Length&quot;));\r\n","title":"URLConnection getContentLength() is returning a negative value","body":"<p>I am late here but this might help someone. I was facing same issue i was always getting <strong>-1</strong> value, when ever i was trying get the content length.</p>\n<p>previously i was using below method to get content length.</p>\n<pre><code>long totalByte=connection.getContentLength();\n</code></pre>\n<p>I used below method which solved my problem .</p>\n<pre><code>long totalByte=Long.parseLong(connection.getHeaderField(&quot;Content-Length&quot;));\n</code></pre>\n"}],"owner":{"account_id":134106,"reputation":3015,"user_id":335997,"accept_rate":60,"display_name":"pradeep"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27187,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":5428670,"answer_count":6,"score":10,"last_activity_date":1643343473,"creation_date":1301028324,"question_id":5428639,"body_markdown":"Here is my code:\r\n\r\n    url = paths[0];\r\n    HttpURLConnection connection = (HttpURLConnection) url.openConnection();\r\n    int length = connection.getContentLength(); // i get negetive length\r\n    InputStream is = (InputStream) url.getContent();\r\n    byte[] imageData = new byte[length]; \r\n    int buffersize = (int) Math.ceil(length / (double) 100);\r\n    int downloaded = 0;\r\n    int read;\r\n    while (downloaded &lt; length) {\r\n        if (length &lt; buffersize) {\r\n            read = is.read(imageData, downloaded, length);\r\n        } else if ((length - downloaded) &lt;= buffersize) {\r\n            read = is.read(imageData, downloaded, length - downloaded);\r\n        } else {\r\n            read = is.read(imageData, downloaded, buffersize);\r\n        }\r\n        downloaded += read;\r\n        publishProgress((downloaded * 100) / length);\r\n    }\r\n    Bitmap bitmap = BitmapFactory.decodeByteArray(imageData, 0,\r\n            length);\r\n    if (bitmap != null) {\r\n        Log.i(TAG, &quot;Bitmap created&quot;);\r\n    } else {\r\n        Log.i(TAG, &quot;Bitmap not created&quot;);\r\n    }\r\n    is.close();\r\n    return bitmap;\r\n\r\nI looked at this in Java documentation and the length is negative because of the following reason:\r\n\r\n&gt;&quot;the number of bytes of the content, or a negative number if unknown. If the content &gt;length is known but exceeds Long.MAX_VALUE, a negative number is returned.&quot;  \r\n\r\nWhat might be the reason for this? I am trying to download an image. I would like to point out that this is the fourth method that I am trying to download images. The other three are mentioned [here](https://stackoverflow.com/questions/5360618/android-big-error-while-downloading-images).\r\n\r\n**Edit:** \r\n\r\nAs requested, here is the full method I am using.\r\n\r\n    protected Bitmap getImage(String imgurl) {\r\n\r\n\t    try {\r\n    \t\tURL url = new URL(imgurl);\r\n    \t\tHttpURLConnection connection = (HttpURLConnection) url.openConnection();\r\n    \t\tint length = connection.getContentLength();\r\n    \t\tInputStream is = (InputStream) url.getContent();\r\n    \t\tbyte[] imageData = new byte[length];\r\n    \t\tint buffersize = (int) Math.ceil(length / (double) 100);\r\n    \t\tint downloaded = 0;\r\n    \t\tint read;\r\n    \t\twhile (downloaded &lt; length) {\r\n    \t\t\tif (length &lt; buffersize) {\r\n    \t\t\t\tread = is.read(imageData, downloaded, length);\r\n    \t\t\t} else if ((length - downloaded) &lt;= buffersize) {\r\n    \t\t\t\tread = is.read(imageData, downloaded, length\r\n    \t\t\t\t\t\t- downloaded);\r\n    \t\t\t} else {\r\n    \t\t\t\tread = is.read(imageData, downloaded, buffersize);\r\n    \t\t\t}\r\n    \t\t\tdownloaded += read;\r\n    \t\t//\tpublishProgress((downloaded * 100) / length);\r\n    \t\t}\r\n    \t\tBitmap bitmap = BitmapFactory.decodeByteArray(imageData, 0,length);\r\n    \t\tif (bitmap != null) {\r\n    \t\t\t System.out.println(&quot;Bitmap created&quot;);\r\n    \t\t} else {\r\n    \t\t\tSystem.out.println(&quot;Bitmap not created&quot;);\r\n    \t\t}\r\n    \t\tis.close();\r\n    \t\treturn bitmap;\r\n    \t} catch (MalformedURLException e) {\r\n    \t\tSystem.out.println(e);\r\n    \t} catch (IOException e) {\r\n    \t\tSystem.out.println(e);\r\n    \t} catch (Exception e) {\r\n    \t\tSystem.out.println(e);\r\n    \t}\r\n    \treturn null;\r\n    }\r\n\r\n","title":"URLConnection getContentLength() is returning a negative value","body":"<p>Here is my code:</p>\n\n<pre><code>url = paths[0];\nHttpURLConnection connection = (HttpURLConnection) url.openConnection();\nint length = connection.getContentLength(); // i get negetive length\nInputStream is = (InputStream) url.getContent();\nbyte[] imageData = new byte[length]; \nint buffersize = (int) Math.ceil(length / (double) 100);\nint downloaded = 0;\nint read;\nwhile (downloaded &lt; length) {\n    if (length &lt; buffersize) {\n        read = is.read(imageData, downloaded, length);\n    } else if ((length - downloaded) &lt;= buffersize) {\n        read = is.read(imageData, downloaded, length - downloaded);\n    } else {\n        read = is.read(imageData, downloaded, buffersize);\n    }\n    downloaded += read;\n    publishProgress((downloaded * 100) / length);\n}\nBitmap bitmap = BitmapFactory.decodeByteArray(imageData, 0,\n        length);\nif (bitmap != null) {\n    Log.i(TAG, \"Bitmap created\");\n} else {\n    Log.i(TAG, \"Bitmap not created\");\n}\nis.close();\nreturn bitmap;\n</code></pre>\n\n<p>I looked at this in Java documentation and the length is negative because of the following reason:</p>\n\n<blockquote>\n  <p>\"the number of bytes of the content, or a negative number if unknown. If the content >length is known but exceeds Long.MAX_VALUE, a negative number is returned.\"  </p>\n</blockquote>\n\n<p>What might be the reason for this? I am trying to download an image. I would like to point out that this is the fourth method that I am trying to download images. The other three are mentioned <a href=\"https://stackoverflow.com/questions/5360618/android-big-error-while-downloading-images\">here</a>.</p>\n\n<p><strong>Edit:</strong> </p>\n\n<p>As requested, here is the full method I am using.</p>\n\n<pre><code>protected Bitmap getImage(String imgurl) {\n\n    try {\n        URL url = new URL(imgurl);\n        HttpURLConnection connection = (HttpURLConnection) url.openConnection();\n        int length = connection.getContentLength();\n        InputStream is = (InputStream) url.getContent();\n        byte[] imageData = new byte[length];\n        int buffersize = (int) Math.ceil(length / (double) 100);\n        int downloaded = 0;\n        int read;\n        while (downloaded &lt; length) {\n            if (length &lt; buffersize) {\n                read = is.read(imageData, downloaded, length);\n            } else if ((length - downloaded) &lt;= buffersize) {\n                read = is.read(imageData, downloaded, length\n                        - downloaded);\n            } else {\n                read = is.read(imageData, downloaded, buffersize);\n            }\n            downloaded += read;\n        //  publishProgress((downloaded * 100) / length);\n        }\n        Bitmap bitmap = BitmapFactory.decodeByteArray(imageData, 0,length);\n        if (bitmap != null) {\n             System.out.println(\"Bitmap created\");\n        } else {\n            System.out.println(\"Bitmap not created\");\n        }\n        is.close();\n        return bitmap;\n    } catch (MalformedURLException e) {\n        System.out.println(e);\n    } catch (IOException e) {\n        System.out.println(e);\n    } catch (Exception e) {\n        System.out.println(e);\n    }\n    return null;\n}\n</code></pre>\n"},{"tags":["java","google-app-engine","tomcat"],"answers":[{"tags":[],"owner":{"account_id":22773153,"reputation":1149,"user_id":16930243,"display_name":"Jose German Perez Sanchez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643321181,"creation_date":1643321181,"answer_id":70886379,"question_id":70868045,"body_markdown":"Tomcat is a Java web container with the potential for log issues and a variety of options. Jetty is used by Google App Engine. It&#39;s possible to utilize it with Tomcat if you use Flexible VM, but it is not recommended.\r\n\r\nApp Engine isn&#39;t a set of web servers; rather, it is a collection of services that assist you in creating a scalable app.\r\n\r\nHere is the [The Java 8 / Jetty 9 Runtime][1] documentation that could help you.\r\n\r\n\r\n  [1]: https://cloud.google.com/appengine/docs/flexible/java/dev-jetty9","title":"Why am I seeing a Tomcat issue in my Java 8 App&#39;s App Engine Standard Edition logs? org.apache.tomcat.util.descriptor.DigesterFactory location","body":"<p>Tomcat is a Java web container with the potential for log issues and a variety of options. Jetty is used by Google App Engine. It's possible to utilize it with Tomcat if you use Flexible VM, but it is not recommended.</p>\n<p>App Engine isn't a set of web servers; rather, it is a collection of services that assist you in creating a scalable app.</p>\n<p>Here is the <a href=\"https://cloud.google.com/appengine/docs/flexible/java/dev-jetty9\" rel=\"nofollow noreferrer\">The Java 8 / Jetty 9 Runtime</a> documentation that could help you.</p>\n"}],"owner":{"account_id":4938815,"reputation":21,"user_id":3976160,"display_name":"Bruce Wilcox"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":111,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1643342496,"creation_date":1643219482,"question_id":70868045,"body_markdown":"```\r\norg.apache.tomcat.util.descriptor.DigesterFactory locationFor: \r\nThe XML schema [XMLSchema.dtd] could not be found. \r\nThis is very likely to break XML validation \r\nif XML validation is enabled. (DigesterFactory.java:154)\r\n```\r\n\r\nI thought Jetty was the underlying container used by App Engine. And I haven&#39;t made any known changes on my app code.","title":"Why am I seeing a Tomcat issue in my Java 8 App&#39;s App Engine Standard Edition logs? org.apache.tomcat.util.descriptor.DigesterFactory location","body":"<pre><code>org.apache.tomcat.util.descriptor.DigesterFactory locationFor: \nThe XML schema [XMLSchema.dtd] could not be found. \nThis is very likely to break XML validation \nif XML validation is enabled. (DigesterFactory.java:154)\n</code></pre>\n<p>I thought Jetty was the underlying container used by App Engine. And I haven't made any known changes on my app code.</p>\n"},{"tags":["java","maven","certificate"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1643352816,"post_id":70888539,"comment_id":125321604,"body_markdown":"The message `PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid` implies that the certs are not there where they expected...furthermore the question is which JDK you are using and which Maven version do you use?","body":"The message <code>PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid</code> implies that the certs are not there where they expected...furthermore the question is which JDK you are using and which Maven version do you use?"},{"owner":{"account_id":7025508,"reputation":39,"user_id":5383043,"display_name":"NotSure"},"score":0,"creation_date":1643372653,"post_id":70888539,"comment_id":125328292,"body_markdown":"@khmarbaise I believe I was using the JDK 11 and embedded Maven for Eclipse. However, I&#39;m primarily focusing on using VSCode so I used the Java Extension Pack and the Maven Extension as well. I do not have Maven installed on my machine so I cannot do any mvn commands if I wanted to. So I don&#39;t know what version of Maven I have. I also do not know how to check if VSCode looks for a JDK installed on my machine and if so, where is that setting.","body":"@khmarbaise I believe I was using the JDK 11 and embedded Maven for Eclipse. However, I&#39;m primarily focusing on using VSCode so I used the Java Extension Pack and the Maven Extension as well. I do not have Maven installed on my machine so I cannot do any mvn commands if I wanted to. So I don&#39;t know what version of Maven I have. I also do not know how to check if VSCode looks for a JDK installed on my machine and if so, where is that setting."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1643373286,"post_id":70888539,"comment_id":125328514,"body_markdown":"Install the most recent version of Maven on your machine https://maven.apache.org/download.cgi and https://maven.apache.org/install.html Also have a working JDK correctly installed ...","body":"Install the most recent version of Maven on your machine <a href=\"https://maven.apache.org/download.cgi\" rel=\"nofollow noreferrer\">maven.apache.org/download.cgi</a> and <a href=\"https://maven.apache.org/install.html\" rel=\"nofollow noreferrer\">maven.apache.org/install.html</a> Also have a working JDK correctly installed ..."},{"owner":{"account_id":7025508,"reputation":39,"user_id":5383043,"display_name":"NotSure"},"score":0,"creation_date":1643379550,"post_id":70888539,"comment_id":125330990,"body_markdown":"Hi, I have installed Maven on my machine and my JDK seems correct. Here are my system env variables:\nJAVA_HOME = C:\\Program Files\\Amazon Corretto\\jdk11.0.10_9\nJRE64LOC = C:\\Program Files\\Java\\jre8\nJRELOC = C:\\Program Files (x86)\\Java\\jre8","body":"Hi, I have installed Maven on my machine and my JDK seems correct. Here are my system env variables: JAVA_HOME = C:\\Program Files\\Amazon Corretto\\jdk11.0.10_9 JRE64LOC = C:\\Program Files\\Java\\jre8 JRELOC = C:\\Program Files (x86)\\Java\\jre8"}],"owner":{"account_id":7025508,"reputation":39,"user_id":5383043,"display_name":"NotSure"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":777,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643342465,"creation_date":1643341011,"question_id":70888539,"body_markdown":"My experience is almost exactly like the one who posted here https://stackoverflow.com/questions/50264870/certification-path-error-when-creating-maven-project-in-eclipse except I haven&#39;t been able to fix my problem \r\n\r\nI created a blank maven simple web project (in both eclipse and in vscode) but in my pom.xml at the parent tag, I get the following error.\r\n \r\n&gt; Project build error: Non-resolvable parent POM for\r\n&gt; com.group:demo:0.0.1-SNAPSHOT:\r\n&gt; org.springframework.boot:spring-boot-starter-parent:pom:2.6.3 failed\r\n&gt; to transfer from\r\n&gt; https://nexus.company.com/repository/maven-central-proxy/ during a\r\n&gt; previous attempt. This failure was cached in the local repository and\r\n&gt; resolution is not reattempted until the update interval of\r\n&gt; e-maven-central-mirror has elapsed or updates are forced. Original\r\n&gt; error: Could not transfer artifact\r\n&gt; org.springframework.boot:spring-boot-starter-parent:pom:2.6.3 from/to\r\n&gt; e-maven-central-mirror\r\n&gt; (https://nexus.company.com/repository/maven-central-proxy/): PKIX path\r\n&gt; building failed:\r\n&gt; sun.security.provider.certpath.SunCertPathBuilderException: unable to\r\n&gt; find valid certification path to requested target and\r\n&gt; &#39;parent.relativePath&#39; points at no local POM\r\n\r\nIn my settings.xml, I have my proxies, servers and mirrors tags set with the necessary information. (By my company&#39;s setup guide, this is all I should have but even with the proxy tags added, the non-resolvable parent POM error message stays)\r\n\r\n    &lt;settings&gt;   \r\n      &lt;servers&gt;\r\n        &lt;server&gt;\r\n          &lt;id&gt;e-maven-central-mirror&lt;/id&gt;\r\n          &lt;username&gt;username&lt;/username&gt;\r\n          &lt;password&gt;tokenpassword&lt;/password&gt;\r\n        &lt;/server&gt;   \r\n      &lt;/servers&gt;   \r\n      &lt;mirrors&gt;\r\n        &lt;mirror&gt;\r\n         &lt;!-- Comments about what are happening here --&gt;\r\n         &lt;id&gt;e-maven-central-mirror&lt;/id&gt;\r\n         &lt;mirrorOf&gt;*&lt;/mirrorOf&gt;\r\n         &lt;url&gt;https://nexus.company.com/repository/maven-central-proxy/&lt;/url&gt;   \r\n        &lt;/mirror&gt;   \r\n      &lt;/mirrors&gt; \r\n    &lt;/settings&gt;\r\n\r\nI&#39;m able to access the url with my id and my token password as normal. I&#39;ve also gone through the trouble of adding the https://nexus.company.com/repository/maven-central-proxy certificate to both my %JAVA_HOME% (Jdk11) and %JRELOC% (Jre8) cacerts using the keytool. (I added to both as I wasn&#39;t sure which Java was the one being used)\r\n\r\nI have spent a couple days on this and I&#39;m not sure what it is that I&#39;m doing wrong. Any clarification would be greatly appreciated. Thanks\r\n\r\nEdit: I have my env variables HTTP_PROXY and HTTPS_PROXY set. Also saw that my nexus certificates were added to my JDK&#39;s keystore but not in the JRE&#39;s keystore if that&#39;s any useful informtation.","title":"Certification path error, non-resolvable parent pom","body":"<p>My experience is almost exactly like the one who posted here <a href=\"https://stackoverflow.com/questions/50264870/certification-path-error-when-creating-maven-project-in-eclipse\">Certification path error when creating Maven project in Eclipse</a> except I haven't been able to fix my problem</p>\n<p>I created a blank maven simple web project (in both eclipse and in vscode) but in my pom.xml at the parent tag, I get the following error.</p>\n<blockquote>\n<p>Project build error: Non-resolvable parent POM for\ncom.group:demo:0.0.1-SNAPSHOT:\norg.springframework.boot:spring-boot-starter-parent:pom:2.6.3 failed\nto transfer from\n<a href=\"https://nexus.company.com/repository/maven-central-proxy/\" rel=\"nofollow noreferrer\">https://nexus.company.com/repository/maven-central-proxy/</a> during a\nprevious attempt. This failure was cached in the local repository and\nresolution is not reattempted until the update interval of\ne-maven-central-mirror has elapsed or updates are forced. Original\nerror: Could not transfer artifact\norg.springframework.boot:spring-boot-starter-parent:pom:2.6.3 from/to\ne-maven-central-mirror\n(<a href=\"https://nexus.company.com/repository/maven-central-proxy/\" rel=\"nofollow noreferrer\">https://nexus.company.com/repository/maven-central-proxy/</a>): PKIX path\nbuilding failed:\nsun.security.provider.certpath.SunCertPathBuilderException: unable to\nfind valid certification path to requested target and\n'parent.relativePath' points at no local POM</p>\n</blockquote>\n<p>In my settings.xml, I have my proxies, servers and mirrors tags set with the necessary information. (By my company's setup guide, this is all I should have but even with the proxy tags added, the non-resolvable parent POM error message stays)</p>\n<pre><code>&lt;settings&gt;   \n  &lt;servers&gt;\n    &lt;server&gt;\n      &lt;id&gt;e-maven-central-mirror&lt;/id&gt;\n      &lt;username&gt;username&lt;/username&gt;\n      &lt;password&gt;tokenpassword&lt;/password&gt;\n    &lt;/server&gt;   \n  &lt;/servers&gt;   \n  &lt;mirrors&gt;\n    &lt;mirror&gt;\n     &lt;!-- Comments about what are happening here --&gt;\n     &lt;id&gt;e-maven-central-mirror&lt;/id&gt;\n     &lt;mirrorOf&gt;*&lt;/mirrorOf&gt;\n     &lt;url&gt;https://nexus.company.com/repository/maven-central-proxy/&lt;/url&gt;   \n    &lt;/mirror&gt;   \n  &lt;/mirrors&gt; \n&lt;/settings&gt;\n</code></pre>\n<p>I'm able to access the url with my id and my token password as normal. I've also gone through the trouble of adding the <a href=\"https://nexus.company.com/repository/maven-central-proxy\" rel=\"nofollow noreferrer\">https://nexus.company.com/repository/maven-central-proxy</a> certificate to both my %JAVA_HOME% (Jdk11) and %JRELOC% (Jre8) cacerts using the keytool. (I added to both as I wasn't sure which Java was the one being used)</p>\n<p>I have spent a couple days on this and I'm not sure what it is that I'm doing wrong. Any clarification would be greatly appreciated. Thanks</p>\n<p>Edit: I have my env variables HTTP_PROXY and HTTPS_PROXY set. Also saw that my nexus certificates were added to my JDK's keystore but not in the JRE's keystore if that's any useful informtation.</p>\n"},{"tags":["java","maven","module-info"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1643162310,"post_id":70857737,"comment_id":125265425,"body_markdown":"It’s probably worth double-checking that BasicFontProvider.class is in styled-xml-parser-7.2.0.jar.","body":"It’s probably worth double-checking that BasicFontProvider.class is in styled-xml-parser-7.2.0.jar."},{"owner":{"account_id":23495866,"reputation":21,"user_id":17992692,"display_name":"Fezas"},"score":0,"creation_date":1643162594,"post_id":70857737,"comment_id":125265474,"body_markdown":"He is there. I checked. Before the patch, everything worked in the IDE","body":"He is there. I checked. Before the patch, everything worked in the IDE"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1643182800,"post_id":70857737,"comment_id":125268857,"body_markdown":"First rename your module-info.java and try to compile correctly your code first...if compilation works than rename back module-info.java and check if all of your dependencies are JPMS (meaning having a module-info.java them self.) if they don&#39;t you can&#39;t go that way...","body":"First rename your module-info.java and try to compile correctly your code first...if compilation works than rename back module-info.java and check if all of your dependencies are JPMS (meaning having a module-info.java them self.) if they don&#39;t you can&#39;t go that way..."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1643184667,"post_id":70857737,"comment_id":125269408,"body_markdown":"The com.itextpdf:styled-xml-parser is not a JPMS. It&#39;s JDK8 based and is not a multi release jar which means you can&#39;t use it as a module..","body":"The com.itextpdf:styled-xml-parser is not a JPMS. It&#39;s JDK8 based and is not a multi release jar which means you can&#39;t use it as a module.."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1643209462,"post_id":70857737,"comment_id":125279128,"body_markdown":"@khmarbaise That is not true at all.  Java 8 code can act as a module if it has module-info.  It can even act as an automatic module without the module-info.","body":"@khmarbaise That is not true at all.  Java 8 code can act as a module if it has module-info.  It can even act as an automatic module without the module-info."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1643212355,"post_id":70857737,"comment_id":125280457,"body_markdown":"First Java 8 does not support Java Module System at all. The module support has been added in JDK9+. The `module-info.class` can be inside the jar at the root location but that class has to be compiled with JDK9+. If you use an automatic module only the name can be defined via META-INF/MANIFEST.MF entry but will not open/export any kind of things. Furthermore adding a module-info.class will bring problems because those libs are not built with module system in mind which break things.","body":"First Java 8 does not support Java Module System at all. The module support has been added in JDK9+. The <code>module-info.class</code> can be inside the jar at the root location but that class has to be compiled with JDK9+. If you use an automatic module only the name can be defined via META-INF/MANIFEST.MF entry but will not open/export any kind of things. Furthermore adding a module-info.class will bring problems because those libs are not built with module system in mind which break things."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1643219740,"post_id":70857737,"comment_id":125283805,"body_markdown":"@khmarbaise You know that Java 9–17 can all load Java 8 classes, right?  And, from [the documentation of ModuleDescriptor](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/module/ModuleDescriptor.html): “When an automatic module is instantiated in the Java virtual machine then it reads every unnamed module and is treated as if all packages are exported and open.”","body":"@khmarbaise You know that Java 9–17 can all load Java 8 classes, right?  And, from <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/module/ModuleDescriptor.html\" rel=\"nofollow noreferrer\">the documentation of ModuleDescriptor</a>: “When an automatic module is instantiated in the Java virtual machine then it reads every unnamed module and is treated as if all packages are exported and open.”"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1643219851,"post_id":70857737,"comment_id":125283860,"body_markdown":"I know that very well that JDK9+ can execute JDK 8 (even lower versions) correctly (depending on which packages are used; some limitations in the meantime) An unnamed module is something different than an automatic module name!!","body":"I know that very well that JDK9+ can execute JDK 8 (even lower versions) correctly (depending on which packages are used; some limitations in the meantime) An unnamed module is something different than an automatic module name!!"}],"answers":[{"tags":[],"owner":{"account_id":23495866,"reputation":21,"user_id":17992692,"display_name":"Fezas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1643342038,"creation_date":1643342038,"answer_id":70888634,"question_id":70857737,"body_markdown":"Find a solution elsewhere. Just [JPackageScriptFX][1]. Jmods from javafx copied to C:/jdk/jmods. Then in bat file:\r\n\r\n    set manual_modules=,jdk.crypto.ec,jdk.localedata,javafx.controls,javafx.fxml,javafx.web,java.sql\r\n\r\n\r\n  [1]: https://github.com/dlemmermann/JPackageScriptFX","title":"Adding module-info.java to jar","body":"<p>Find a solution elsewhere. Just <a href=\"https://github.com/dlemmermann/JPackageScriptFX\" rel=\"nofollow noreferrer\">JPackageScriptFX</a>. Jmods from javafx copied to C:/jdk/jmods. Then in bat file:</p>\n<pre><code>set manual_modules=,jdk.crypto.ec,jdk.localedata,javafx.controls,javafx.fxml,javafx.web,java.sql\n</code></pre>\n"}],"owner":{"account_id":23495866,"reputation":21,"user_id":17992692,"display_name":"Fezas"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1565,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70888634,"answer_count":1,"score":0,"last_activity_date":1643342038,"creation_date":1643160699,"question_id":70857737,"body_markdown":"There is `styled-xml-parser-7.2.0.jar` package and it doesn&#39;t have `module-info.java`. I generate dependencies\r\n\r\n    jdeps --ignore-missing-deps --generate-module-info jars jars/styled-xml-parser-7.2.0.jar\r\n\r\nThen I compile \r\n\r\n    javac --patch-module styled.xml.parser=jars/styled-xml-parser-7.2.0.jar jars/styled.xml.parser/module-info.java\r\n\r\nThen I add `module-info.java` to the `styled-xml-parser-7.2.0.jar` root. However, when I run my `mvn clean install` project, I get:\r\n\r\n    cannot access com.itextpdf.styledxmlparser.resolver.font.BasicFontProvider\r\n\r\nContents of `module-info.java` for `styled-xml-parser-7.2.0.jar`\r\n\r\n    module styled.xml.parser {\r\n        exports com.itextpdf.styledxmlparser;\r\n        exports com.itextpdf.styledxmlparser.css;\r\n        exports com.itextpdf.styledxmlparser.css.font;\r\n        exports com.itextpdf.styledxmlparser.css.media;\r\n        exports com.itextpdf.styledxmlparser.css.page;\r\n        exports com.itextpdf.styledxmlparser.css.parse;\r\n        exports com.itextpdf.styledxmlparser.css.parse.syntax;\r\n        exports com.itextpdf.styledxmlparser.css.pseudo;\r\n        exports com.itextpdf.styledxmlparser.css.resolve;\r\n        exports com.itextpdf.styledxmlparser.css.resolve.shorthand;\r\n        exports com.itextpdf.styledxmlparser.css.resolve.shorthand.impl;\r\n        exports com.itextpdf.styledxmlparser.css.selector;\r\n        exports com.itextpdf.styledxmlparser.css.selector.item;\r\n        exports com.itextpdf.styledxmlparser.css.util;\r\n        exports com.itextpdf.styledxmlparser.css.validate;\r\n        exports com.itextpdf.styledxmlparser.css.validate.impl.datatype;\r\n        exports com.itextpdf.styledxmlparser.css.validate.impl.declaration;\r\n        exports com.itextpdf.styledxmlparser.exceptions;\r\n        exports com.itextpdf.styledxmlparser.jsoup;\r\n        exports com.itextpdf.styledxmlparser.jsoup.helper;\r\n        exports com.itextpdf.styledxmlparser.jsoup.internal;\r\n        exports com.itextpdf.styledxmlparser.jsoup.nodes;\r\n        exports com.itextpdf.styledxmlparser.jsoup.parser;\r\n        exports com.itextpdf.styledxmlparser.jsoup.safety;\r\n        exports com.itextpdf.styledxmlparser.jsoup.select;\r\n        exports com.itextpdf.styledxmlparser.logs;\r\n        exports com.itextpdf.styledxmlparser.node;\r\n        exports com.itextpdf.styledxmlparser.node.impl.jsoup;\r\n        exports com.itextpdf.styledxmlparser.node.impl.jsoup.node;\r\n        exports com.itextpdf.styledxmlparser.resolver.font;\r\n        exports com.itextpdf.styledxmlparser.resolver.resource;\r\n        exports com.itextpdf.styledxmlparser.util;\r\n    }\r\n\r\nIn my `module-info.java` this module is connected\r\n\r\n    module fezas.telegra {\r\n        requires javafx.controls;\r\n        requires javafx.fxml;\r\n        requires javafx.web;\r\n        requires org.controlsfx.controls;\r\n        requires org.apache.commons.io;\r\n        requires java.sql;\r\n        requires html2pdf;\r\n        requires styled.xml.parser;\r\n        requires com.google.zxing;\r\n        requires com.google.zxing.javase;\r\n        requires java.desktop;\r\n    \r\n        opens fezas.telegra to javafx.graphics, javafx.fxml, javafx.base, javafx.web;\r\n        opens fezas.telegra.controllers to javafx.fxml;\r\n        opens fezas.telegra.entity to javafx.base;\r\n        exports fezas.telegra.controllers;\r\n    }\r\nMy POM include\r\n    \r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\r\n        &lt;artifactId&gt;styled-xml-parser&lt;/artifactId&gt;\r\n        &lt;version&gt;7.2.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nFull trace\r\n\r\n    [INFO] Error stacktraces are turned on.\r\n    [INFO] Scanning for projects...\r\n    [INFO] \r\n    [INFO] -----------------------&lt; fezas.telegra:telegra &gt;------------------------\r\n    [INFO] Building telegra 1.0-SNAPSHOT\r\n    [INFO] --------------------------------[ jar ]---------------------------------\r\n    [INFO] \r\n    [INFO] --- maven-clean-plugin:2.5:clean (default-clean) @ telegra ---\r\n    [INFO] Deleting C:\\Users\\Fezas\\telegra\\target\r\n    [INFO] \r\n    [INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ telegra ---\r\n    [INFO] Using &#39;UTF-8&#39; encoding to copy filtered resources.\r\n    [INFO] Copying 45 resources\r\n    [INFO] \r\n    [INFO] --- maven-compiler-plugin:3.8.1:compile (default-compile) @ telegra ---\r\n    [INFO] Changes detected - recompiling the module!\r\n    [INFO] Compiling 60 source files to C:\\Users\\Fezas\\telegra\\target\\classes\r\n    [INFO] -------------------------------------------------------------\r\n    [ERROR] COMPILATION ERROR : \r\n    [INFO] -------------------------------------------------------------\r\n    [ERROR] /C:/Users/Fezas/telegra/src/main/java/fezas/telegra/controllers/PreviewController.java:[184,23] cannot access com.itextpdf.styledxmlparser.resolver.font.BasicFontProvider\r\n      class file for com.itextpdf.styledxmlparser.resolver.font.BasicFontProvider not found\r\n    [ERROR] /C:/Users/Fezas/telegra/src/main/java/fezas/telegra/controllers/PreviewController.java:[185,26] cannot access com.itextpdf.kernel.pdf.PdfDocument\r\n      class file for com.itextpdf.kernel.pdf.PdfDocument not found\r\n    [INFO] 2 errors \r\n    [INFO] -------------------------------------------------------------\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD FAILURE\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time:  5.008 s\r\n    [INFO] Finished at: 2022-01-26T11:14:53+11:00\r\n    [INFO] ------------------------------------------------------------------------\r\n    [ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.8.1:compile (default-compile) on project telegra: Compilation failure: Compilation failure: \r\n    [ERROR] /C:/Users/Fezas/telegra/src/main/java/fezas/telegra/controllers/PreviewController.java:[184,23] cannot access com.itextpdf.styledxmlparser.resolver.font.BasicFontProvider\r\n    [ERROR]   class file for com.itextpdf.styledxmlparser.resolver.font.BasicFontProvider not found\r\n    [ERROR] /C:/Users/Fezas/telegra/src/main/java/fezas/telegra/controllers/PreviewController.java:[185,26] cannot access com.itextpdf.kernel.pdf.PdfDocument\r\n    [ERROR]   class file for com.itextpdf.kernel.pdf.PdfDocument not found\r\n    [ERROR] -&gt; [Help 1]\r\n    org.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.8.1:compile (default-compile) on project telegra: Compilation failure\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:215)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\r\n        at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\r\n        at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\r\n        at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\r\n        at org.apache.maven.cli.MavenCli.execute (MavenCli.java:957)\r\n        at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:289)\r\n        at org.apache.maven.cli.MavenCli.main (MavenCli.java:193)\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:77)\r\n        at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke (Method.java:568)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\r\n        at org.codehaus.classworlds.Launcher.main (Launcher.java:47)\r\n    Caused by: org.apache.maven.plugin.compiler.CompilationFailureException: Compilation failure\r\n        at org.apache.maven.plugin.compiler.AbstractCompilerMojo.execute (AbstractCompilerMojo.java:1220)\r\n        at org.apache.maven.plugin.compiler.CompilerMojo.execute (CompilerMojo.java:187)\r\n        at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:210)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\r\n        at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\r\n        at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\r\n        at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\r\n        at org.apache.maven.cli.MavenCli.execute (MavenCli.java:957)\r\n        at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:289)\r\n        at org.apache.maven.cli.MavenCli.main (MavenCli.java:193)\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:77)\r\n        at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke (Method.java:568)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\r\n        at org.codehaus.classworlds.Launcher.main (Launcher.java:47)\r\n    [ERROR] \r\n    [ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n    [ERROR] \r\n    [ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n    [ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException","title":"Adding module-info.java to jar","body":"<p>There is <code>styled-xml-parser-7.2.0.jar</code> package and it doesn't have <code>module-info.java</code>. I generate dependencies</p>\n<pre><code>jdeps --ignore-missing-deps --generate-module-info jars jars/styled-xml-parser-7.2.0.jar\n</code></pre>\n<p>Then I compile</p>\n<pre><code>javac --patch-module styled.xml.parser=jars/styled-xml-parser-7.2.0.jar jars/styled.xml.parser/module-info.java\n</code></pre>\n<p>Then I add <code>module-info.java</code> to the <code>styled-xml-parser-7.2.0.jar</code> root. However, when I run my <code>mvn clean install</code> project, I get:</p>\n<pre><code>cannot access com.itextpdf.styledxmlparser.resolver.font.BasicFontProvider\n</code></pre>\n<p>Contents of <code>module-info.java</code> for <code>styled-xml-parser-7.2.0.jar</code></p>\n<pre><code>module styled.xml.parser {\n    exports com.itextpdf.styledxmlparser;\n    exports com.itextpdf.styledxmlparser.css;\n    exports com.itextpdf.styledxmlparser.css.font;\n    exports com.itextpdf.styledxmlparser.css.media;\n    exports com.itextpdf.styledxmlparser.css.page;\n    exports com.itextpdf.styledxmlparser.css.parse;\n    exports com.itextpdf.styledxmlparser.css.parse.syntax;\n    exports com.itextpdf.styledxmlparser.css.pseudo;\n    exports com.itextpdf.styledxmlparser.css.resolve;\n    exports com.itextpdf.styledxmlparser.css.resolve.shorthand;\n    exports com.itextpdf.styledxmlparser.css.resolve.shorthand.impl;\n    exports com.itextpdf.styledxmlparser.css.selector;\n    exports com.itextpdf.styledxmlparser.css.selector.item;\n    exports com.itextpdf.styledxmlparser.css.util;\n    exports com.itextpdf.styledxmlparser.css.validate;\n    exports com.itextpdf.styledxmlparser.css.validate.impl.datatype;\n    exports com.itextpdf.styledxmlparser.css.validate.impl.declaration;\n    exports com.itextpdf.styledxmlparser.exceptions;\n    exports com.itextpdf.styledxmlparser.jsoup;\n    exports com.itextpdf.styledxmlparser.jsoup.helper;\n    exports com.itextpdf.styledxmlparser.jsoup.internal;\n    exports com.itextpdf.styledxmlparser.jsoup.nodes;\n    exports com.itextpdf.styledxmlparser.jsoup.parser;\n    exports com.itextpdf.styledxmlparser.jsoup.safety;\n    exports com.itextpdf.styledxmlparser.jsoup.select;\n    exports com.itextpdf.styledxmlparser.logs;\n    exports com.itextpdf.styledxmlparser.node;\n    exports com.itextpdf.styledxmlparser.node.impl.jsoup;\n    exports com.itextpdf.styledxmlparser.node.impl.jsoup.node;\n    exports com.itextpdf.styledxmlparser.resolver.font;\n    exports com.itextpdf.styledxmlparser.resolver.resource;\n    exports com.itextpdf.styledxmlparser.util;\n}\n</code></pre>\n<p>In my <code>module-info.java</code> this module is connected</p>\n<pre><code>module fezas.telegra {\n    requires javafx.controls;\n    requires javafx.fxml;\n    requires javafx.web;\n    requires org.controlsfx.controls;\n    requires org.apache.commons.io;\n    requires java.sql;\n    requires html2pdf;\n    requires styled.xml.parser;\n    requires com.google.zxing;\n    requires com.google.zxing.javase;\n    requires java.desktop;\n\n    opens fezas.telegra to javafx.graphics, javafx.fxml, javafx.base, javafx.web;\n    opens fezas.telegra.controllers to javafx.fxml;\n    opens fezas.telegra.entity to javafx.base;\n    exports fezas.telegra.controllers;\n}\n</code></pre>\n<p>My POM include</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\n    &lt;artifactId&gt;styled-xml-parser&lt;/artifactId&gt;\n    &lt;version&gt;7.2.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Full trace</p>\n<pre><code>[INFO] Error stacktraces are turned on.\n[INFO] Scanning for projects...\n[INFO] \n[INFO] -----------------------&lt; fezas.telegra:telegra &gt;------------------------\n[INFO] Building telegra 1.0-SNAPSHOT\n[INFO] --------------------------------[ jar ]---------------------------------\n[INFO] \n[INFO] --- maven-clean-plugin:2.5:clean (default-clean) @ telegra ---\n[INFO] Deleting C:\\Users\\Fezas\\telegra\\target\n[INFO] \n[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ telegra ---\n[INFO] Using 'UTF-8' encoding to copy filtered resources.\n[INFO] Copying 45 resources\n[INFO] \n[INFO] --- maven-compiler-plugin:3.8.1:compile (default-compile) @ telegra ---\n[INFO] Changes detected - recompiling the module!\n[INFO] Compiling 60 source files to C:\\Users\\Fezas\\telegra\\target\\classes\n[INFO] -------------------------------------------------------------\n[ERROR] COMPILATION ERROR : \n[INFO] -------------------------------------------------------------\n[ERROR] /C:/Users/Fezas/telegra/src/main/java/fezas/telegra/controllers/PreviewController.java:[184,23] cannot access com.itextpdf.styledxmlparser.resolver.font.BasicFontProvider\n  class file for com.itextpdf.styledxmlparser.resolver.font.BasicFontProvider not found\n[ERROR] /C:/Users/Fezas/telegra/src/main/java/fezas/telegra/controllers/PreviewController.java:[185,26] cannot access com.itextpdf.kernel.pdf.PdfDocument\n  class file for com.itextpdf.kernel.pdf.PdfDocument not found\n[INFO] 2 errors \n[INFO] -------------------------------------------------------------\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  5.008 s\n[INFO] Finished at: 2022-01-26T11:14:53+11:00\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.8.1:compile (default-compile) on project telegra: Compilation failure: Compilation failure: \n[ERROR] /C:/Users/Fezas/telegra/src/main/java/fezas/telegra/controllers/PreviewController.java:[184,23] cannot access com.itextpdf.styledxmlparser.resolver.font.BasicFontProvider\n[ERROR]   class file for com.itextpdf.styledxmlparser.resolver.font.BasicFontProvider not found\n[ERROR] /C:/Users/Fezas/telegra/src/main/java/fezas/telegra/controllers/PreviewController.java:[185,26] cannot access com.itextpdf.kernel.pdf.PdfDocument\n[ERROR]   class file for com.itextpdf.kernel.pdf.PdfDocument not found\n[ERROR] -&gt; [Help 1]\norg.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.8.1:compile (default-compile) on project telegra: Compilation failure\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:215)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:957)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:289)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:193)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:77)\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:568)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\n    at org.codehaus.classworlds.Launcher.main (Launcher.java:47)\nCaused by: org.apache.maven.plugin.compiler.CompilationFailureException: Compilation failure\n    at org.apache.maven.plugin.compiler.AbstractCompilerMojo.execute (AbstractCompilerMojo.java:1220)\n    at org.apache.maven.plugin.compiler.CompilerMojo.execute (CompilerMojo.java:187)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:210)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:957)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:289)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:193)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:77)\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:568)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\n    at org.codehaus.classworlds.Launcher.main (Launcher.java:47)\n[ERROR] \n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR] \n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException\n</code></pre>\n"},{"tags":["java","nullpointerexception","dispose"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1643341992,"post_id":70888527,"comment_id":125319697,"body_markdown":"You&#39;re shadowing your variables, `loginframe` is declared as both a local variable in the constructor and as an instance field.  Why you&#39;re at it, drop the use of `static`, it&#39;s not helping you and have a look at [Laying Out Components Within a Container](https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html) as the `null` layout isn&#39;t helping your either","body":"You&#39;re shadowing your variables, <code>loginframe</code> is declared as both a local variable in the constructor and as an instance field.  Why you&#39;re at it, drop the use of <code>static</code>, it&#39;s not helping you and have a look at <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html\" rel=\"nofollow noreferrer\">Laying Out Components Within a Container</a> as the <code>null</code> layout isn&#39;t helping your either"}],"answers":[{"tags":[],"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1643341582,"creation_date":1643341582,"answer_id":70888586,"question_id":70888527,"body_markdown":"This line in your main method is your issue `JFrame loginframe = new JFrame (&quot;Login&quot;);`\r\n\r\nYou are assigning the value of `loginframe` to a local variable within the main method, whereas the actionPerformed method is referring to the class variable `loginframe` at the top of your `Login` class.\r\n\r\nBy simply changing this line:\r\n\r\n    JFrame loginframe = new JFrame (&quot;Login&quot;);\r\n\r\nTo be this, you will now be assigning the value to be a class variable and not run into null pointer issues:\r\n\r\n    loginframe = new JFrame (&quot;Login&quot;);\r\n\r\nCaution: Using a static variable like that is not a good idea if you will have multiple instances of the Login object/class.","title":"Dispose(); causing a null pointer exception error in java","body":"<p>This line in your main method is your issue <code>JFrame loginframe = new JFrame (&quot;Login&quot;);</code></p>\n<p>You are assigning the value of <code>loginframe</code> to a local variable within the main method, whereas the actionPerformed method is referring to the class variable <code>loginframe</code> at the top of your <code>Login</code> class.</p>\n<p>By simply changing this line:</p>\n<pre><code>JFrame loginframe = new JFrame (&quot;Login&quot;);\n</code></pre>\n<p>To be this, you will now be assigning the value to be a class variable and not run into null pointer issues:</p>\n<pre><code>loginframe = new JFrame (&quot;Login&quot;);\n</code></pre>\n<p>Caution: Using a static variable like that is not a good idea if you will have multiple instances of the Login object/class.</p>\n"},{"tags":[],"owner":{"account_id":23796592,"reputation":1,"user_id":17807351,"display_name":"Aashiq Umar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643341889,"creation_date":1643341889,"answer_id":70888621,"question_id":70888527,"body_markdown":"When I try to run the code, it gives me this error. So, If I&#39;m correct is adminmain() or usermain() are from different classes. If try importing the classes In to the main class. If you have found the solution please reply with the solution I can learn from it. Thanks.\r\n\r\n    Login.java:29: error: cannot find symbol\r\n        login();\r\n        ^\r\n  symbol:   method login()\r\n  location: class Login\r\nLogin.java:118: error: cannot find symbol\r\n                new adminmain();\r\n                    ^\r\n  symbol:   class adminmain\r\n  location: class Login\r\nLogin.java:134: error: cannot find symbol\r\n                new usermain();\r\n                    ^\r\n  symbol:   class usermain\r\n  location: class Login\r\nLogin.java:142: error: incompatible types: unexpected return value\r\n        return ex;\r\n               ^\r\n4 errors","title":"Dispose(); causing a null pointer exception error in java","body":"<p>When I try to run the code, it gives me this error. So, If I'm correct is adminmain() or usermain() are from different classes. If try importing the classes In to the main class. If you have found the solution please reply with the solution I can learn from it. Thanks.</p>\n<pre><code>Login.java:29: error: cannot find symbol\n    login();\n    ^\n</code></pre>\n<p>symbol:   method login()\nlocation: class Login\nLogin.java:118: error: cannot find symbol\nnew adminmain();\n^\nsymbol:   class adminmain\nlocation: class Login\nLogin.java:134: error: cannot find symbol\nnew usermain();\n^\nsymbol:   class usermain\nlocation: class Login\nLogin.java:142: error: incompatible types: unexpected return value\nreturn ex;\n^\n4 errors</p>\n"}],"owner":{"account_id":24079025,"reputation":49,"user_id":18053913,"display_name":"Luki"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":562,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70888586,"answer_count":2,"score":1,"last_activity_date":1643341889,"creation_date":1643340858,"question_id":70888527,"body_markdown":"I have created a project with multiple GUI classes. Everything seems to be running fine, however when I try to implement the dispose(); function it provides the following error: Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.NullPointerException: Cannot invoke &quot;javax.swing.JFrame.dispose()&quot; because &quot;Login.loginframe&quot; is null\r\n\tat Login.actionPerformed(Login.java:123)\r\n\r\nHere is the following code:\r\n\r\n    \r\n\r\npublic class Main {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\r\n\t\tLogin loginframe = new Login();\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\t\r\n\r\n\t}\r\n\r\n}\r\n\r\n    import java.awt.Frame;\r\n    import java.awt.GridLayout;\r\n    import java.awt.Window;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n\r\n    import javax.swing.ImageIcon;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JPasswordField;\r\n    import javax.swing.JTextField;\r\n\r\n\r\n    public class Login implements ActionListener {\r\n\tprivate static JLabel userlabel , success , logo;\r\n\tprivate static JTextField userText;\r\n\tprivate static JLabel passwordlabel;\r\n\tprivate static JPasswordField passwordtext;\r\n\tprivate static JButton loginbutton , continuebutton;//, continuebutton2;\r\n\tprivate static JFrame loginframe;\r\n\tprivate static JPanel panel;\r\n\t\r\n\t\r\n\t\r\n\r\n\tLogin(){\r\n\t\t\r\n\t\t\r\n\t\tJFrame loginframe = new JFrame (&quot;Login&quot;);\r\n\t\tJPanel panel = new JPanel();\r\n\t\tloginframe.setSize(300, 300);\r\n\t\tloginframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\tloginframe.add(panel);\r\n\t\tloginframe.setLocationRelativeTo(null);\r\n\r\n\t\t\r\n\t\tpanel.setLayout(null);\r\n\t\t\r\n\t\tuserlabel = new JLabel(&quot;User :&quot;);\r\n\t\tuserlabel.setBounds(10, 20, 80, 25);\r\n\t\tpanel.add(userlabel);\r\n\t\t\r\n\t\tuserText = new JTextField();\r\n\t\tuserText.setBounds(100, 20, 165, 25);\r\n\t\tpanel.add(userText);\r\n\t\t\r\n\t\tpasswordlabel = new JLabel (&quot;Password : &quot;);\r\n\t\tpasswordlabel.setBounds(10, 50, 80, 25);\r\n\t\tpanel.add(passwordlabel);\r\n\t\t\r\n\t\tpasswordtext = new JPasswordField ();\r\n\t\tpasswordtext.setBounds(100, 50, 165, 25);\r\n\t\tpanel.add(passwordtext);\r\n\t\t\r\n\t\tlogo = new JLabel();\r\n\t\tlogo.setIcon(new ImageIcon(&quot;emblem.jpg&quot;));\r\n\t\tlogo.setBounds(115, 90, 50, 50);\r\n\t\tpanel.add(logo);\r\n\t\t\r\n\t\t\r\n\t\tloginbutton = new JButton(&quot;Submit&quot;);\r\n\t\tloginbutton.setBounds(100, 200, 80, 25);\r\n\t\tloginbutton.setEnabled(true);\r\n\t\tloginbutton.addActionListener(this);\r\n\t\tpanel.add(loginbutton);\r\n\t\t\r\n\t\tsuccess = new JLabel(&quot;&quot;);\r\n\t\tsuccess.setBounds(85, 130, 150, 80);\r\n\t\tpanel.add(success);\r\n\t\t\r\n\t\t\r\n\t\tloginframe.setVisible(true);\r\n\t\t\r\n\t\tcontinuebutton = new JButton(&quot;Continue&quot;);\r\n\t\tcontinuebutton.setBounds(85, 200, 100, 25);\r\n\t\tcontinuebutton.addActionListener(this);\r\n\t\tcontinuebutton.setVisible(false);\r\n\t\tcontinuebutton.setEnabled(false);\r\n\t\tpanel.add(continuebutton);\r\n\t\t\r\n\r\n\t\t\r\n\t}\r\n\t\r\n\t@SuppressWarnings(&quot;deprecation&quot;)\r\n\tpublic void actionPerformed(ActionEvent e) {\r\n\t\t\r\n\t\t\r\n\t\tString user = userText.getText();\r\n\t\tString password = passwordtext.getText();\r\n\t\tSystem.out.println(user + &quot;, &quot; + password);\r\n\t\t\r\n\t\t\r\n\t\tif(user.equals(&quot;admin&quot;) &amp;&amp; password.equals(&quot;password1&quot;)) {\r\n\t\t\tsuccess.setText(&quot;Log in successful!&quot;);\r\n\t\t\tloginbutton.setVisible(false);\r\n\t\t\tloginbutton.setEnabled(false);\r\n\t\t\tcontinuebutton.setVisible(true);\r\n\t\t\tcontinuebutton.setEnabled(true);\r\n\r\n\t\t\tif(e.getSource()==continuebutton) {\r\n\t\t\t\tuserText.setText(&quot;&quot;);\r\n\t\t\t\tpasswordtext.setText(&quot;&quot;);\r\n\t\t\t\tnew adminmain();\r\n\t\t\t\tloginframe.dispose();\r\n\t\t\t\t\r\n\t\t}\r\n\t\t\t}\r\n\t\t\r\n\t\tif(user.equals(&quot;user&quot;) &amp;&amp; password.equals(&quot;password&quot;)) {\r\n\t\t\tsuccess.setText(&quot;Log in successful!&quot;);\r\n\t\t\tloginbutton.setVisible(false);\r\n\t\t\tloginbutton.setEnabled(false);\r\n\t\t\tcontinuebutton.setVisible(true);\r\n\t\t\tcontinuebutton.setEnabled(true);\r\n\r\n\t\t\tif(e.getSource()==continuebutton) {\r\n\t\t\t\tuserText.setText(&quot;&quot;);\r\n\t\t\t\tpasswordtext.setText(&quot;&quot;);\r\n\t\t\t\tnew usermain();\r\n\t\t\t\tloginframe.dispose();\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t\t}\r\n\t\r\n}\t\r\n\t\r\n\t\r\n\r\n\r\n\r\n\r\n\r\n","title":"Dispose(); causing a null pointer exception error in java","body":"<p>I have created a project with multiple GUI classes. Everything seems to be running fine, however when I try to implement the dispose(); function it provides the following error: Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.NullPointerException: Cannot invoke &quot;javax.swing.JFrame.dispose()&quot; because &quot;Login.loginframe&quot; is null\nat Login.actionPerformed(Login.java:123)</p>\n<p>Here is the following code:</p>\n<p>public class Main {</p>\n<pre><code>public static void main(String[] args) {\n\n    Login loginframe = new Login();\n    \n    \n    \n    \n\n}\n</code></pre>\n<p>}</p>\n<pre><code>import java.awt.Frame;\nimport java.awt.GridLayout;\nimport java.awt.Window;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\n\nimport javax.swing.ImageIcon;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\nimport javax.swing.JPasswordField;\nimport javax.swing.JTextField;\n\n\npublic class Login implements ActionListener {\nprivate static JLabel userlabel , success , logo;\nprivate static JTextField userText;\nprivate static JLabel passwordlabel;\nprivate static JPasswordField passwordtext;\nprivate static JButton loginbutton , continuebutton;//, continuebutton2;\nprivate static JFrame loginframe;\nprivate static JPanel panel;\n\n\n\n\nLogin(){\n    \n    \n    JFrame loginframe = new JFrame (&quot;Login&quot;);\n    JPanel panel = new JPanel();\n    loginframe.setSize(300, 300);\n    loginframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    loginframe.add(panel);\n    loginframe.setLocationRelativeTo(null);\n\n    \n    panel.setLayout(null);\n    \n    userlabel = new JLabel(&quot;User :&quot;);\n    userlabel.setBounds(10, 20, 80, 25);\n    panel.add(userlabel);\n    \n    userText = new JTextField();\n    userText.setBounds(100, 20, 165, 25);\n    panel.add(userText);\n    \n    passwordlabel = new JLabel (&quot;Password : &quot;);\n    passwordlabel.setBounds(10, 50, 80, 25);\n    panel.add(passwordlabel);\n    \n    passwordtext = new JPasswordField ();\n    passwordtext.setBounds(100, 50, 165, 25);\n    panel.add(passwordtext);\n    \n    logo = new JLabel();\n    logo.setIcon(new ImageIcon(&quot;emblem.jpg&quot;));\n    logo.setBounds(115, 90, 50, 50);\n    panel.add(logo);\n    \n    \n    loginbutton = new JButton(&quot;Submit&quot;);\n    loginbutton.setBounds(100, 200, 80, 25);\n    loginbutton.setEnabled(true);\n    loginbutton.addActionListener(this);\n    panel.add(loginbutton);\n    \n    success = new JLabel(&quot;&quot;);\n    success.setBounds(85, 130, 150, 80);\n    panel.add(success);\n    \n    \n    loginframe.setVisible(true);\n    \n    continuebutton = new JButton(&quot;Continue&quot;);\n    continuebutton.setBounds(85, 200, 100, 25);\n    continuebutton.addActionListener(this);\n    continuebutton.setVisible(false);\n    continuebutton.setEnabled(false);\n    panel.add(continuebutton);\n    \n\n    \n}\n\n@SuppressWarnings(&quot;deprecation&quot;)\npublic void actionPerformed(ActionEvent e) {\n    \n    \n    String user = userText.getText();\n    String password = passwordtext.getText();\n    System.out.println(user + &quot;, &quot; + password);\n    \n    \n    if(user.equals(&quot;admin&quot;) &amp;&amp; password.equals(&quot;password1&quot;)) {\n        success.setText(&quot;Log in successful!&quot;);\n        loginbutton.setVisible(false);\n        loginbutton.setEnabled(false);\n        continuebutton.setVisible(true);\n        continuebutton.setEnabled(true);\n\n        if(e.getSource()==continuebutton) {\n            userText.setText(&quot;&quot;);\n            passwordtext.setText(&quot;&quot;);\n            new adminmain();\n            loginframe.dispose();\n            \n    }\n        }\n    \n    if(user.equals(&quot;user&quot;) &amp;&amp; password.equals(&quot;password&quot;)) {\n        success.setText(&quot;Log in successful!&quot;);\n        loginbutton.setVisible(false);\n        loginbutton.setEnabled(false);\n        continuebutton.setVisible(true);\n        continuebutton.setEnabled(true);\n\n        if(e.getSource()==continuebutton) {\n            userText.setText(&quot;&quot;);\n            passwordtext.setText(&quot;&quot;);\n            new usermain();\n            loginframe.dispose();\n            \n        }\n        \n    }\n    \n    \n    }\n</code></pre>\n<p>}</p>\n"},{"tags":["java","arrays","list","game-engine"],"comments":[{"owner":{"account_id":3058076,"reputation":1177,"user_id":2591316,"accept_rate":100,"display_name":"mariuss"},"score":0,"creation_date":1643099451,"post_id":70845497,"comment_id":125243360,"body_markdown":"if you want to use a List in multiple methods you should declare it as static member of the Main class","body":"if you want to use a List in multiple methods you should declare it as static member of the Main class"},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1643102312,"post_id":70845497,"comment_id":125244471,"body_markdown":"**Warning:** you are using a *raw type*: `List` takes a *type argument*, but you have provided none within your `checkWinner()` method. You should replace all occurrences of `List` by `List&lt;Integer&gt;`.","body":"<b>Warning:</b> you are using a <i>raw type</i>: <code>List</code> takes a <i>type argument</i>, but you have provided none within your <code>checkWinner()</code> method. You should replace all occurrences of <code>List</code> by <code>List&lt;Integer&gt;</code>."}],"answers":[{"tags":[],"owner":{"account_id":11829005,"reputation":81,"user_id":8656239,"display_name":"dcnis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643100819,"creation_date":1643100819,"answer_id":70845803,"question_id":70845497,"body_markdown":"You create your ArrayList within the main method. Therefore you cannot access those variables outside of the main method.\r\nYou should declare them as private class variables like this:\r\n\r\n    public class Main {\r\n    \r\n        List&lt;Integer&gt; playerPositions = new ArrayList&lt;&gt;();\r\n        List&lt;Integer&gt; CPUpositions = new ArrayList&lt;&gt;();\r\n\r\n        public static void main(String[] args) {\r\n            // Do sth with playerPositions and CPUpositions\r\n        }\r\n\r\n","title":"Use List class in Java","body":"<p>You create your ArrayList within the main method. Therefore you cannot access those variables outside of the main method.\nYou should declare them as private class variables like this:</p>\n<pre><code>public class Main {\n\n    List&lt;Integer&gt; playerPositions = new ArrayList&lt;&gt;();\n    List&lt;Integer&gt; CPUpositions = new ArrayList&lt;&gt;();\n\n    public static void main(String[] args) {\n        // Do sth with playerPositions and CPUpositions\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23719721,"reputation":1,"user_id":17740429,"display_name":"Abhimanyu Kapoor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643341202,"creation_date":1643100983,"answer_id":70845839,"question_id":70845497,"body_markdown":"Create a static List of List, which has topRow, botRow etc. in it\r\n\r\n    List&lt;List&gt; winningList;\r\n\r\nand check if playerPositions contains any of the List in winningList or CPUpositions contains any of the list part of winningList.\r\n\r\nWhichever has the list has won.","title":"Use List class in Java","body":"<p>Create a static List of List, which has topRow, botRow etc. in it</p>\n<pre><code>List&lt;List&gt; winningList;\n</code></pre>\n<p>and check if playerPositions contains any of the List in winningList or CPUpositions contains any of the list part of winningList.</p>\n<p>Whichever has the list has won.</p>\n"},{"tags":[],"owner":{"account_id":19357099,"reputation":41,"user_id":16293155,"display_name":"twynb"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643101155,"creation_date":1643101155,"answer_id":70845876,"question_id":70845497,"body_markdown":"There&#39;s multiple ways to go about this:\r\n\r\na) create playerPositions and CPUpositions as static  class variables - basically what user dcnis said, except you&#39;ll need to add the &quot;static&quot; keyword to be able to use them without instanciating a &quot;Main&quot; object:\r\n\r\n    public class Main {\r\n\r\n    static List&lt;Integer&gt; playerPositions = new ArrayList&lt;&gt;();\r\n    static List&lt;Integer&gt; CPUpositions = new ArrayList&lt;&gt;();\r\n\r\n    public static void main(String[] args) {\r\n        // Do sth with playerPositions and CPUpositions\r\n    }\r\n\r\nAlternatively, you can pass the lists down to your functions as an argument:\r\n\r\n    public static void main(String[] args){\r\n        List&lt;Integer&gt; playerPositions = new ArrayList&lt;&gt;();\r\n        List&lt;Integer&gt; CPUPositions = new ArrayList&lt;&gt;();\r\n        checkWinner(playerPositions, CPUPositions);\r\n    }\r\n    public static void checkWinner(List&lt;Integer&gt; playerPositions, List&lt;Integer&gt; CPUPositions){\r\n        //do cool stuff with those lists\r\n    }\r\n","title":"Use List class in Java","body":"<p>There's multiple ways to go about this:</p>\n<p>a) create playerPositions and CPUpositions as static  class variables - basically what user dcnis said, except you'll need to add the &quot;static&quot; keyword to be able to use them without instanciating a &quot;Main&quot; object:</p>\n<pre><code>public class Main {\n\nstatic List&lt;Integer&gt; playerPositions = new ArrayList&lt;&gt;();\nstatic List&lt;Integer&gt; CPUpositions = new ArrayList&lt;&gt;();\n\npublic static void main(String[] args) {\n    // Do sth with playerPositions and CPUpositions\n}\n</code></pre>\n<p>Alternatively, you can pass the lists down to your functions as an argument:</p>\n<pre><code>public static void main(String[] args){\n    List&lt;Integer&gt; playerPositions = new ArrayList&lt;&gt;();\n    List&lt;Integer&gt; CPUPositions = new ArrayList&lt;&gt;();\n    checkWinner(playerPositions, CPUPositions);\n}\npublic static void checkWinner(List&lt;Integer&gt; playerPositions, List&lt;Integer&gt; CPUPositions){\n    //do cool stuff with those lists\n}\n</code></pre>\n"}],"owner":{"account_id":23014722,"reputation":51,"user_id":17136683,"display_name":"lily"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1643341202,"creation_date":1643099312,"question_id":70845497,"body_markdown":"I want to create game tic-tac-toe. I use the `List` class to determine a winner. I use `List` in several methods. How do I create this class in main method so that I can use `List` other method later?\r\n\r\nI have attached my code so that you understand my question.\r\n\r\n```java\r\npublic class Main {\r\n\r\n    public static void main(String[] args) {\r\n        List&lt;Integer&gt; playerPositions = new ArrayList&lt;&gt;(); //создадим список для определения победителя\r\n        List&lt;Integer&gt; CPUpositions = new ArrayList&lt;&gt;();\r\n\r\n        //создать двумерный массив для отрисовки игры\r\n        char[][] gameBoard = new char[][] {\r\n            { &#39; &#39;, &#39;|&#39;, &#39; &#39;, &#39;|&#39;, &#39; &#39;},\r\n            { &#39;-&#39;, &#39;+&#39;, &#39;-&#39;, &#39;+&#39;, &#39;-&#39;},\r\n            { &#39; &#39;, &#39;|&#39;, &#39; &#39;, &#39;|&#39;, &#39; &#39;},\r\n            { &#39;-&#39;, &#39;+&#39;, &#39;-&#39;, &#39;+&#39;, &#39;-&#39;},\r\n            { &#39; &#39;, &#39;|&#39;, &#39; &#39;, &#39;|&#39;, &#39; &#39;}\r\n        };\r\n        // printGameBoard(gameBoard);\r\n    }\r\n\r\n    public static String checkWinner() {\r\n        List toprow = Arrays.asList(1, 2, 3);\r\n        List midrow = Arrays.asList(4, 5, 6);\r\n        List botrow = Arrays.asList(7, 8, 9);\r\n        List col1 = Arrays.asList(1, 4, 7);\r\n        List col2 = Arrays.asList(2, 5, 8);\r\n        List col3 = Arrays.asList(3, 6, 9);\r\n        List cross1 = Arrays.asList(1, 5, 9);\r\n        List cross2 = Arrays.asList(3, 5, 7);\r\n        return &quot;&quot;;\r\n    }\r\n}\r\n```","title":"Use List class in Java","body":"<p>I want to create game tic-tac-toe. I use the <code>List</code> class to determine a winner. I use <code>List</code> in several methods. How do I create this class in main method so that I can use <code>List</code> other method later?</p>\n<p>I have attached my code so that you understand my question.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Main {\n\n    public static void main(String[] args) {\n        List&lt;Integer&gt; playerPositions = new ArrayList&lt;&gt;(); //создадим список для определения победителя\n        List&lt;Integer&gt; CPUpositions = new ArrayList&lt;&gt;();\n\n        //создать двумерный массив для отрисовки игры\n        char[][] gameBoard = new char[][] {\n            { ' ', '|', ' ', '|', ' '},\n            { '-', '+', '-', '+', '-'},\n            { ' ', '|', ' ', '|', ' '},\n            { '-', '+', '-', '+', '-'},\n            { ' ', '|', ' ', '|', ' '}\n        };\n        // printGameBoard(gameBoard);\n    }\n\n    public static String checkWinner() {\n        List toprow = Arrays.asList(1, 2, 3);\n        List midrow = Arrays.asList(4, 5, 6);\n        List botrow = Arrays.asList(7, 8, 9);\n        List col1 = Arrays.asList(1, 4, 7);\n        List col2 = Arrays.asList(2, 5, 8);\n        List col3 = Arrays.asList(3, 6, 9);\n        List cross1 = Arrays.asList(1, 5, 9);\n        List cross2 = Arrays.asList(3, 5, 7);\n        return &quot;&quot;;\n    }\n}\n</code></pre>\n"},{"tags":["java","loops","arraylist"],"comments":[{"owner":{"account_id":15777655,"reputation":1762,"user_id":11385052,"display_name":"Ryan"},"score":0,"creation_date":1643305839,"post_id":70883265,"comment_id":125310724,"body_markdown":"In one, you&#39;re getting the original value of the double, in the other you&#39;re converting it to a string and then converting it back to a double.  This should be fine for numbers with relatively low precision, but if there&#39;s high precision you&#39;re going to run the risk of getting some floating point errors.  For floating point numbers, you should avoid type conversion if at all possible.","body":"In one, you&#39;re getting the original value of the double, in the other you&#39;re converting it to a string and then converting it back to a double.  This should be fine for numbers with relatively low precision, but if there&#39;s high precision you&#39;re going to run the risk of getting some floating point errors.  For floating point numbers, you should avoid type conversion if at all possible."}],"answers":[{"tags":[],"owner":{"account_id":227992,"reputation":17441,"user_id":490018,"accept_rate":67,"display_name":"Sergey Vyacheslavovich Brunov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643340988,"creation_date":1643305953,"answer_id":70883418,"question_id":70883265,"body_markdown":"Please, see the two mentioned ways of getting the `Double` item:\r\n\r\n```java\r\nfinal ArrayList&lt;Double&gt; axis_x = new ArrayList&lt;Double&gt;();\r\n\r\n// Way #1. Getting the Double item from the `List&lt;Double&gt;`\r\n//   without performing any conversions.\r\nfinal int i = 0;\r\nfinal Double x = axis_x.get(i);\r\n\r\n// Way #2. Getting the Double item from the `List&lt;Double&gt;`\r\n//   with performing two redundant conversions.\r\nfinal Double x =\r\n    // `String =&gt; Double` conversion.\r\n    Double.parseDouble(\r\n        // `Double =&gt; String` conversion.\r\n        axis_x.get(i).toString()\r\n    );\r\n```\r\n\r\nThe way #1 **should be used** to get the item directly, i.e. without performing any conversions.\r\n\r\nThe way #2 uses two redundant conversions: `Double =&gt; String` and `String =&gt; Double`.  \r\nTherefore, this way should be avoided.","title":"Is there a difference between Double.parseDouble(list.get(i).toString()) and list.get(i) if list is an arraylist&lt;Double&gt;","body":"<p>Please, see the two mentioned ways of getting the <code>Double</code> item:</p>\n<pre class=\"lang-java prettyprint-override\"><code>final ArrayList&lt;Double&gt; axis_x = new ArrayList&lt;Double&gt;();\n\n// Way #1. Getting the Double item from the `List&lt;Double&gt;`\n//   without performing any conversions.\nfinal int i = 0;\nfinal Double x = axis_x.get(i);\n\n// Way #2. Getting the Double item from the `List&lt;Double&gt;`\n//   with performing two redundant conversions.\nfinal Double x =\n    // `String =&gt; Double` conversion.\n    Double.parseDouble(\n        // `Double =&gt; String` conversion.\n        axis_x.get(i).toString()\n    );\n</code></pre>\n<p>The way #1 <strong>should be used</strong> to get the item directly, i.e. without performing any conversions.</p>\n<p>The way #2 uses two redundant conversions: <code>Double =&gt; String</code> and <code>String =&gt; Double</code>.<br />\nTherefore, this way should be avoided.</p>\n"},{"tags":[],"owner":{"account_id":21792039,"reputation":81,"user_id":16092119,"display_name":"Ehsan Pagheh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643306954,"creation_date":1643306954,"answer_id":70883630,"question_id":70883265,"body_markdown":"#1: `final Double x = axis_x.get(i);` \r\n\r\nDouble &lt;= Double\r\n\r\n\r\n#2: `final Double x = parseDouble(axis_x.get(i).toString());`\r\n\r\nDouble &lt;= String &lt;= Double conversion.\r\n\r\n\r\nway 2 is not the smart and shorter way.\r\nalso the way 1 is the exact value.","title":"Is there a difference between Double.parseDouble(list.get(i).toString()) and list.get(i) if list is an arraylist&lt;Double&gt;","body":"<p>#1: <code>final Double x = axis_x.get(i);</code></p>\n<p>Double &lt;= Double</p>\n<p>#2: <code>final Double x = parseDouble(axis_x.get(i).toString());</code></p>\n<p>Double &lt;= String &lt;= Double conversion.</p>\n<p>way 2 is not the smart and shorter way.\nalso the way 1 is the exact value.</p>\n"}],"owner":{"account_id":2659802,"reputation":544,"user_id":2299775,"display_name":"Andy McRae"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70883418,"answer_count":2,"score":0,"last_activity_date":1643340988,"creation_date":1643305330,"question_id":70883265,"body_markdown":"I have two ArrayLists of doubles created like this:\r\n\r\n```java\r\nArrayList &lt;Double&gt; axis_x = new ArrayList&lt;Double&gt;();\r\nArrayList &lt;Double&gt; axis_y = new ArrayList&lt;Double&gt;();\r\n```\r\n\r\nNow, I have seen a difference in the calculations when I use (because I wanted to simplify the calculations)\r\n\r\n```java\r\nfor(int j=0; j&lt;axis_x.size();j++) {\r\n    double ax_x = Double.parseDouble(axis_x.get(j).toString()) + Math.abs(left_scale);\r\n    axis_x.set(j,ax_x);//axis_y.get(i);\r\n    double ax_y=0.0f;\r\n    if(Double.parseDouble(axis_y.get(j).toString()) &lt; 0.0f) {\r\n        ax_y = Math.abs(Double.parseDouble(axis_y.get(j).toString())) + Math.abs(up_scale);\r\n    }else if(Double.parseDouble(axis_y.get(j).toString()) &gt; 0.0f) {\r\n        ax_y = Math.abs(Double.parseDouble(axis_y.get(j).toString()) - Math.abs(up_scale));\r\n    }else if(Double.parseDouble(axis_y.get(j).toString()) == 0.0f) {\r\n        ax_y = Math.abs(up_scale);\r\n    }\r\n    axis_y.set(j,ax_y);\r\n}\r\n```\r\n\r\nVS\r\n\r\n```\r\nfor(int j=0; j&lt;axis_x.size();j++) {\r\n    double ax_x = axis_x.get(j) + Math.abs(left_scale);\r\n    axis_x.set(j,ax_x);\r\n    double ax_y=0.0f;\r\n    if(axis_y.get(j) &lt; 0.0f) {\r\n        ax_y = Math.abs(axis_y.get(j)) + Math.abs(up_scale);\r\n    }else if(axis_y.get(j) &gt; 0.0f) {\r\n        ax_y = Math.abs(axis_y.get(j)) - Math.abs(up_scale);\r\n    }else if(axis_y.get(j) == 0.0f) {\r\n        ax_y = Math.abs(up_scale);\r\n    }\r\n    axis_y.set(j,ax_y);\r\n}\r\n```\r\n\r\nKnowing that `axis_y.get(i)` should be a double, is `Double.parseDouble(axis_y.get(j).toString())` not the same as `axis_y.get(i)`? Am I missing something here?","title":"Is there a difference between Double.parseDouble(list.get(i).toString()) and list.get(i) if list is an arraylist&lt;Double&gt;","body":"<p>I have two ArrayLists of doubles created like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ArrayList &lt;Double&gt; axis_x = new ArrayList&lt;Double&gt;();\nArrayList &lt;Double&gt; axis_y = new ArrayList&lt;Double&gt;();\n</code></pre>\n<p>Now, I have seen a difference in the calculations when I use (because I wanted to simplify the calculations)</p>\n<pre class=\"lang-java prettyprint-override\"><code>for(int j=0; j&lt;axis_x.size();j++) {\n    double ax_x = Double.parseDouble(axis_x.get(j).toString()) + Math.abs(left_scale);\n    axis_x.set(j,ax_x);//axis_y.get(i);\n    double ax_y=0.0f;\n    if(Double.parseDouble(axis_y.get(j).toString()) &lt; 0.0f) {\n        ax_y = Math.abs(Double.parseDouble(axis_y.get(j).toString())) + Math.abs(up_scale);\n    }else if(Double.parseDouble(axis_y.get(j).toString()) &gt; 0.0f) {\n        ax_y = Math.abs(Double.parseDouble(axis_y.get(j).toString()) - Math.abs(up_scale));\n    }else if(Double.parseDouble(axis_y.get(j).toString()) == 0.0f) {\n        ax_y = Math.abs(up_scale);\n    }\n    axis_y.set(j,ax_y);\n}\n</code></pre>\n<p>VS</p>\n<pre><code>for(int j=0; j&lt;axis_x.size();j++) {\n    double ax_x = axis_x.get(j) + Math.abs(left_scale);\n    axis_x.set(j,ax_x);\n    double ax_y=0.0f;\n    if(axis_y.get(j) &lt; 0.0f) {\n        ax_y = Math.abs(axis_y.get(j)) + Math.abs(up_scale);\n    }else if(axis_y.get(j) &gt; 0.0f) {\n        ax_y = Math.abs(axis_y.get(j)) - Math.abs(up_scale);\n    }else if(axis_y.get(j) == 0.0f) {\n        ax_y = Math.abs(up_scale);\n    }\n    axis_y.set(j,ax_y);\n}\n</code></pre>\n<p>Knowing that <code>axis_y.get(i)</code> should be a double, is <code>Double.parseDouble(axis_y.get(j).toString())</code> not the same as <code>axis_y.get(i)</code>? Am I missing something here?</p>\n"},{"tags":["java","spring","spring-boot","apache-kafka"],"comments":[{"owner":{"account_id":16904098,"reputation":627,"user_id":12224743,"display_name":"Umeshwaran"},"score":0,"creation_date":1643352469,"post_id":70888513,"comment_id":125321522,"body_markdown":"Maybe this might help .https://stackoverflow.com/questions/51688924/spring-kafka-the-class-is-not-in-the-trusted-packages","body":"Maybe this might help .<a href=\"https://stackoverflow.com/questions/51688924/spring-kafka-the-class-is-not-in-the-trusted-packages\" title=\"spring kafka the class is not in the trusted packages\">stackoverflow.com/questions/51688924/&hellip;</a>"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1643383027,"post_id":70888513,"comment_id":125332506,"body_markdown":"Is there a specific reason you&#39;re using StringDeserializer rather than JsonDeserializer?","body":"Is there a specific reason you&#39;re using StringDeserializer rather than JsonDeserializer?"},{"owner":{"account_id":5460030,"reputation":79,"user_id":6250010,"accept_rate":0,"display_name":"Theara"},"score":0,"creation_date":1643435624,"post_id":70888513,"comment_id":125343841,"body_markdown":"Hi @OneCricketeer, no specific reason, and I had changed to JsonDeserializer, it also works.","body":"Hi @OneCricketeer, no specific reason, and I had changed to JsonDeserializer, it also works."},{"owner":{"account_id":5460030,"reputation":79,"user_id":6250010,"accept_rate":0,"display_name":"Theara"},"score":0,"creation_date":1643435840,"post_id":70888513,"comment_id":125343873,"body_markdown":"Hi @Umeshwaran, the link that you had mentioned above help me to solve my problem. Thank you!","body":"Hi @Umeshwaran, the link that you had mentioned above help me to solve my problem. Thank you!"},{"owner":{"account_id":16904098,"reputation":627,"user_id":12224743,"display_name":"Umeshwaran"},"score":0,"creation_date":1643481237,"post_id":70888513,"comment_id":125353460,"body_markdown":"@Theara Glad it helped","body":"@Theara Glad it helped"}],"owner":{"account_id":5460030,"reputation":79,"user_id":6250010,"accept_rate":0,"display_name":"Theara"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4564,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1643340695,"creation_date":1643340695,"question_id":70888513,"body_markdown":"I&#39;m a newbie with Kafka I have created 2 projects, the first project as a Producer, and the second as a Consumer.\r\n\r\n**Note**\r\nIn both projects, if I create a **Model** or **DTO** under the same package (**example: com.stackoverflow.model**), it works, but it doesn&#39;t work if I created a model under a different package name as below:\r\n- The producer defines the package **com.stackoverflow.model**\r\n- The consumer defines the package **com.stackoverflow.dto**\r\n\r\n**Error logs:**\r\n\r\n```\r\nCaused by: org.apache.kafka.common.errors.SerializationException: Error deserializing key/value for partition txn-hub-master-0 at offset 4. If needed, please seek past the record to continue consumption.\r\nCaused by: java.lang.IllegalArgumentException: The class &#39;com.stackoverflow.dto.Demo&#39; is not in the trusted packages: [java.util, java.lang, com.stackoverflow.mode, com.stackoverflow.mode.model.*]. If you believe this class is safe to deserialize, please provide its name. If the serialization is only done by a trusted source, you can also enable trust all (*).\r\n\tat org.springframework.kafka.support.converter.DefaultJackson2JavaTypeMapper.getClassIdType(DefaultJackson2JavaTypeMapper.java:126) ~[spring-kafka-2.7.3.jar:2.7.3]\r\n\tat org.springframework.kafka.support.converter.DefaultJackson2JavaTypeMapper.toJavaType(DefaultJackson2JavaTypeMapper.java:100) ~[spring-kafka-2.7.3.jar:2.7.3]\r\n\r\n```\r\n\r\nKafkaConsumerConfig Class\r\n```\r\npublic Map&lt;String, Object&gt; propsStringObjectMap() {\r\n        Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\r\n        props.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapAddress);\r\n        props.put(ConsumerConfig.GROUP_ID_CONFIG, groupId);\r\n        props.put(JsonDeserializer.TRUSTED_PACKAGES, &quot;*&quot;);\r\n        return props;\r\n    }\r\n```\r\n```\r\n@Bean\r\n    public ConsumerFactory&lt;String, String&gt; consumerFactory() {\r\n        Map&lt;String, Object&gt; props = this.propsStringObjectMap();\r\n        props.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG,  StringDeserializer.class);\r\n        props.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\r\n        return new DefaultKafkaConsumerFactory&lt;&gt;(props);\r\n    }\r\n``` \r\n```\r\n  @Bean\r\n    public ConcurrentKafkaListenerContainerFactory&lt;String, String&gt;\r\n    kafkaListenerContainerFactory() {\r\n        ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; factory = new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\r\n        factory.setConsumerFactory(consumerFactory());\r\n        return factory;\r\n    }\r\n```\r\nKafkaProducerConfig Class\r\n```\r\npublic Map&lt;String, Object&gt; propsStringObjectMap () {\r\n        Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\r\n        props.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapAddress);\r\n        props.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, StringSerializer.class);\r\n        props.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, StringSerializer.class);\r\n        return props;\r\n    }\r\n```\r\n```\r\n@Bean\r\n    public ProducerFactory&lt;String, String&gt; producerFactory() {\r\n        return new DefaultKafkaProducerFactory&lt;&gt;(this.propsStringObjectMap());\r\n    }\r\n```\r\n```\r\n@Bean\r\n    public KafkaTemplate&lt;String, String&gt; kafkaTemplate() {\r\n        return new KafkaTemplate&lt;&gt;(producerFactory());\r\n    }\r\n```","title":"Spring boot Kafka Consumer Error deserializing key/value","body":"<p>I'm a newbie with Kafka I have created 2 projects, the first project as a Producer, and the second as a Consumer.</p>\n<p><strong>Note</strong>\nIn both projects, if I create a <strong>Model</strong> or <strong>DTO</strong> under the same package (<strong>example: com.stackoverflow.model</strong>), it works, but it doesn't work if I created a model under a different package name as below:</p>\n<ul>\n<li>The producer defines the package <strong>com.stackoverflow.model</strong></li>\n<li>The consumer defines the package <strong>com.stackoverflow.dto</strong></li>\n</ul>\n<p><strong>Error logs:</strong></p>\n<pre><code>Caused by: org.apache.kafka.common.errors.SerializationException: Error deserializing key/value for partition txn-hub-master-0 at offset 4. If needed, please seek past the record to continue consumption.\nCaused by: java.lang.IllegalArgumentException: The class 'com.stackoverflow.dto.Demo' is not in the trusted packages: [java.util, java.lang, com.stackoverflow.mode, com.stackoverflow.mode.model.*]. If you believe this class is safe to deserialize, please provide its name. If the serialization is only done by a trusted source, you can also enable trust all (*).\n    at org.springframework.kafka.support.converter.DefaultJackson2JavaTypeMapper.getClassIdType(DefaultJackson2JavaTypeMapper.java:126) ~[spring-kafka-2.7.3.jar:2.7.3]\n    at org.springframework.kafka.support.converter.DefaultJackson2JavaTypeMapper.toJavaType(DefaultJackson2JavaTypeMapper.java:100) ~[spring-kafka-2.7.3.jar:2.7.3]\n\n</code></pre>\n<p>KafkaConsumerConfig Class</p>\n<pre><code>public Map&lt;String, Object&gt; propsStringObjectMap() {\n        Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\n        props.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapAddress);\n        props.put(ConsumerConfig.GROUP_ID_CONFIG, groupId);\n        props.put(JsonDeserializer.TRUSTED_PACKAGES, &quot;*&quot;);\n        return props;\n    }\n</code></pre>\n<pre><code>@Bean\n    public ConsumerFactory&lt;String, String&gt; consumerFactory() {\n        Map&lt;String, Object&gt; props = this.propsStringObjectMap();\n        props.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG,  StringDeserializer.class);\n        props.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\n        return new DefaultKafkaConsumerFactory&lt;&gt;(props);\n    }\n</code></pre>\n<pre><code>  @Bean\n    public ConcurrentKafkaListenerContainerFactory&lt;String, String&gt;\n    kafkaListenerContainerFactory() {\n        ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; factory = new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\n        factory.setConsumerFactory(consumerFactory());\n        return factory;\n    }\n</code></pre>\n<p>KafkaProducerConfig Class</p>\n<pre><code>public Map&lt;String, Object&gt; propsStringObjectMap () {\n        Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\n        props.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapAddress);\n        props.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, StringSerializer.class);\n        props.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, StringSerializer.class);\n        return props;\n    }\n</code></pre>\n<pre><code>@Bean\n    public ProducerFactory&lt;String, String&gt; producerFactory() {\n        return new DefaultKafkaProducerFactory&lt;&gt;(this.propsStringObjectMap());\n    }\n</code></pre>\n<pre><code>@Bean\n    public KafkaTemplate&lt;String, String&gt; kafkaTemplate() {\n        return new KafkaTemplate&lt;&gt;(producerFactory());\n    }\n</code></pre>\n"},{"tags":["java","apache-kafka","apache-kafka-streams","rocksdb","rocksdb-java"],"answers":[{"tags":[],"owner":{"account_id":6384814,"reputation":60263,"user_id":4953079,"display_name":"Matthias J. Sax"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1643340606,"creation_date":1552842408,"answer_id":55209665,"question_id":55119443,"body_markdown":"The window size does not determine your storage requirement, but the join&#39;s grace period. To handle out-of-order records, data is stored longer than the window size. In newer version, it&#39;s required to always specify the grace period via `JoinWindows. ofTimeDifferenceAndGrace(...)`. In older versions, you can set grace period via `JoinWindows.of(...).grace(...)` -- if not set, it defaults to 24 hours.\r\n\r\nThe config `WINDOW_STORE_CHANGE_LOG_ADDITIONAL_RETENTION_MS_CONFIG` configures how long data is store in the cluster. Thus, you might want to reduce it, too, but it does not help to reduce client side storage requirements.","title":"Kafka kstream-kstream joins with sliding window memory usage grows over the time till OOM","body":"<p>The window size does not determine your storage requirement, but the join's grace period. To handle out-of-order records, data is stored longer than the window size. In newer version, it's required to always specify the grace period via <code>JoinWindows. ofTimeDifferenceAndGrace(...)</code>. In older versions, you can set grace period via <code>JoinWindows.of(...).grace(...)</code> -- if not set, it defaults to 24 hours.</p>\n<p>The config <code>WINDOW_STORE_CHANGE_LOG_ADDITIONAL_RETENTION_MS_CONFIG</code> configures how long data is store in the cluster. Thus, you might want to reduce it, too, but it does not help to reduce client side storage requirements.</p>\n"}],"owner":{"account_id":13613075,"reputation":129,"user_id":9819900,"display_name":"kambo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1375,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":55209665,"answer_count":1,"score":2,"last_activity_date":1643340606,"creation_date":1552387088,"question_id":55119443,"body_markdown":"I&#39;m having a problem using kstream joins. What i do is from one topic i seperate 3 different types of messages to new streams. \r\nThen do one innerjoin with two of the streams which creates another stream, finally i do a last leftjoin with the new stream and the last remaining stream.\r\n\r\nThe joins have a window time of 30 seconds.\r\n\r\nThis is done to filter out some of the messages which are overridden by others.\r\n\r\nIm running this application on kubernetes and the disk space for the pods are growing indefinitely until the pod crashes. \r\n\r\nI&#39;ve realized that this is because of the joins store data locally in the tmp/kafka-streams directory.\r\n\r\nThe directories are called:\r\nKSTREAM-JOINTHIS...\r\nKSTREAM-OUTEROTHER..\r\n\r\nWhich stores sst files from rocksDb and these grow indefinitely. \r\n\r\nMy understanding is since im using a window time of 30 seconds these should be flushed out after the certain time but is not. \r\n\r\nI also changed the WINDOW_STORE_CHANGE_LOG_ADDITIONAL_RETENTION_MS_CONFIG to 10 mins to see if that makes a change which is not the case.\r\n\r\nI need to understand how this can be changed.\r\n\r\n\r\n","title":"Kafka kstream-kstream joins with sliding window memory usage grows over the time till OOM","body":"<p>I'm having a problem using kstream joins. What i do is from one topic i seperate 3 different types of messages to new streams. \nThen do one innerjoin with two of the streams which creates another stream, finally i do a last leftjoin with the new stream and the last remaining stream.</p>\n\n<p>The joins have a window time of 30 seconds.</p>\n\n<p>This is done to filter out some of the messages which are overridden by others.</p>\n\n<p>Im running this application on kubernetes and the disk space for the pods are growing indefinitely until the pod crashes. </p>\n\n<p>I've realized that this is because of the joins store data locally in the tmp/kafka-streams directory.</p>\n\n<p>The directories are called:\nKSTREAM-JOINTHIS...\nKSTREAM-OUTEROTHER..</p>\n\n<p>Which stores sst files from rocksDb and these grow indefinitely. </p>\n\n<p>My understanding is since im using a window time of 30 seconds these should be flushed out after the certain time but is not. </p>\n\n<p>I also changed the WINDOW_STORE_CHANGE_LOG_ADDITIONAL_RETENTION_MS_CONFIG to 10 mins to see if that makes a change which is not the case.</p>\n\n<p>I need to understand how this can be changed.</p>\n"},{"tags":["java","groovy","spock"],"comments":[{"owner":{"account_id":291102,"reputation":597,"user_id":593045,"display_name":"BitLauncher"},"score":2,"creation_date":1642629354,"post_id":70778117,"comment_id":125125365,"body_markdown":"What does not work? I guess, as [Java&#39;s doc of Math.random()](https://docs.oracle.com/javase/8/docs/api/java/lang/Math.html#random--) states, it is a static method. AFAIK static methods cannot be mocked at all - and are bad coding style anyway. Better use an instance of Math.Random() - or even decouple the software from Math.random() or Random() by using an own interface.","body":"What does not work? I guess, as <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Math.html#random--\" rel=\"nofollow noreferrer\">Java&#39;s doc of Math.random()</a> states, it is a static method. AFAIK static methods cannot be mocked at all - and are bad coding style anyway. Better use an instance of Math.Random() - or even decouple the software from Math.random() or Random() by using an own interface."},{"owner":{"account_id":19890695,"reputation":1,"user_id":14572831,"display_name":"Jo&#227;o Reis"},"score":1,"creation_date":1642636382,"post_id":70778117,"comment_id":125127175,"body_markdown":"@BitLauncher thank you I used Random() and now is working!","body":"@BitLauncher thank you I used Random() and now is working!"},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1642661088,"post_id":70778117,"comment_id":125131293,"body_markdown":"FYI, you can mock static methods if you use additional tools like Mockito, PowerMock, Sarek. The latter even supports mocking JRE bootstrap classes. But if you can avoid mocking static methods, I agree it is always better. BTW, a `GroovyMock` can mock static methods, but only when such a method is called by a Groovy class. If the code under test is Java or another non-Groovy language, the mock behaves just like a normal Spock mock, as is documented in the Spock manual. So inflationary use of Groovy mocks does not help you there.","body":"FYI, you can mock static methods if you use additional tools like Mockito, PowerMock, Sarek. The latter even supports mocking JRE bootstrap classes. But if you can avoid mocking static methods, I agree it is always better. BTW, a <code>GroovyMock</code> can mock static methods, but only when such a method is called by a Groovy class. If the code under test is Java or another non-Groovy language, the mock behaves just like a normal Spock mock, as is documented in the Spock manual. So inflationary use of Groovy mocks does not help you there."}],"owner":{"account_id":19890695,"reputation":1,"user_id":14572831,"display_name":"Jo&#227;o Reis"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":216,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643340538,"creation_date":1642628502,"question_id":70778117,"body_markdown":"I am trying to mock the random method of the class math. I already tried using\r\n\r\n```groovy\r\ndef m = GrovyMock(Math)\r\nm.random() &gt;&gt; 0.995\r\n```\r\nbut it doesn&#39;t work and nothing is mocked. Does anyone knows a good solution?","title":"Mocking Math.random() using Spock framework","body":"<p>I am trying to mock the random method of the class math. I already tried using</p>\n<pre><code>def m = GrovyMock(Math)\nm.random() &gt;&gt; 0.995\n</code></pre>\n<p>but it doesn't work and nothing is mocked. Does anyone knows a good solution?</p>\n"},{"tags":["java","intellij-idea"],"answers":[{"tags":[],"owner":{"account_id":3622515,"reputation":3911,"user_id":3020903,"accept_rate":50,"display_name":"Tarmo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643270073,"creation_date":1643270073,"answer_id":70875030,"question_id":70874990,"body_markdown":"&gt; &quot;Settings/Preferences | Editor | General | Smart Keys --&gt; Use &quot;CamelHumps&quot; words&quot;\r\n\r\nhttps://intellij-support.jetbrains.com/hc/en-us/community/posts/115000132804-Navigating-through-camelCasedWords-with-the-Ctrl-key","title":"How to jump to Pascal notation on alt arrow key press in IntelliJ IDEA?","body":"<blockquote>\n<p>&quot;Settings/Preferences | Editor | General | Smart Keys --&gt; Use &quot;CamelHumps&quot; words&quot;</p>\n</blockquote>\n<p><a href=\"https://intellij-support.jetbrains.com/hc/en-us/community/posts/115000132804-Navigating-through-camelCasedWords-with-the-Ctrl-key\" rel=\"nofollow noreferrer\">https://intellij-support.jetbrains.com/hc/en-us/community/posts/115000132804-Navigating-through-camelCasedWords-with-the-Ctrl-key</a></p>\n"}],"owner":{"account_id":24069093,"reputation":55,"user_id":18045244,"display_name":"user18045244"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1643339239,"creation_date":1643269853,"question_id":70874990,"body_markdown":"How to jump to Pascal notation on alt arrow key press in IntelliJ IDEA? When using IntelliJ and there is the word `oneTwoThree`, If you press the right arrow key when placing the cursor in front of `o`, I want to position the cursor at `T` rather than at `e`.\r\n\r\nI&#39;m wondering how can I move to Pascal notation.","title":"How to jump to Pascal notation on alt arrow key press in IntelliJ IDEA?","body":"<p>How to jump to Pascal notation on alt arrow key press in IntelliJ IDEA? When using IntelliJ and there is the word <code>oneTwoThree</code>, If you press the right arrow key when placing the cursor in front of <code>o</code>, I want to position the cursor at <code>T</code> rather than at <code>e</code>.</p>\n<p>I'm wondering how can I move to Pascal notation.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":7005189,"reputation":1519,"user_id":5369852,"display_name":"John Glenn"},"score":0,"creation_date":1643338716,"post_id":70888294,"comment_id":125319170,"body_markdown":"There is something in your input file that is not an int.","body":"There is something in your input file that is not an int."}],"answers":[{"tags":[],"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643338659,"creation_date":1643338659,"answer_id":70888323,"question_id":70888294,"body_markdown":"I would change your code to\r\n\r\n    while (reading.hasNextLine()){\r\n        String line = reading.nextLine ();\r\n        try{\r\n            Integer data= Integer.valueOf(line);\r\n            inputFileData.add(data);\r\n        }\r\n        catch (NumberFormatException ex){\r\n            ex.printStackTrace();\r\n        }\r\n    }\r\n\r\nThis will allow you to read your file even if it has blanks lines or other non-integer junk","title":"Exception in thread &quot;main&quot; java.util.InputMismatchException errors","body":"<p>I would change your code to</p>\n<pre><code>while (reading.hasNextLine()){\n    String line = reading.nextLine ();\n    try{\n        Integer data= Integer.valueOf(line);\n        inputFileData.add(data);\n    }\n    catch (NumberFormatException ex){\n        ex.printStackTrace();\n    }\n}\n</code></pre>\n<p>This will allow you to read your file even if it has blanks lines or other non-integer junk</p>\n"},{"tags":[],"owner":{"account_id":19452218,"reputation":204,"user_id":14228343,"display_name":"Aditya Arora"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643339199,"creation_date":1643338905,"answer_id":70888352,"question_id":70888294,"body_markdown":"**Problem:** \r\n\r\nHere : `int data = reading.nextInt();`\r\n\r\nYou are trying to get an Integer from the file but a file may contain characters and not just integers.\r\n\r\n**Solution:**\r\n\r\nTo make sure you read only integer from the file, you need to catch an expection if the file contains a non desirable input.\r\n\r\nChange this line :\r\n`int data = reading.nextInt();`\r\n\r\nTo:\r\n```\r\ntry {\r\n    int data = reading.nextInt();\r\ncatch(InputMismatchException e) {\r\n    //Your code for handing exception.\r\n}","title":"Exception in thread &quot;main&quot; java.util.InputMismatchException errors","body":"<p><strong>Problem:</strong></p>\n<p>Here : <code>int data = reading.nextInt();</code></p>\n<p>You are trying to get an Integer from the file but a file may contain characters and not just integers.</p>\n<p><strong>Solution:</strong></p>\n<p>To make sure you read only integer from the file, you need to catch an expection if the file contains a non desirable input.</p>\n<p>Change this line :\n<code>int data = reading.nextInt();</code></p>\n<p>To:</p>\n<pre><code>try {\n    int data = reading.nextInt();\ncatch(InputMismatchException e) {\n    //Your code for handing exception.\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1948424,"reputation":12649,"user_id":1753073,"display_name":"navylover"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643339022,"creation_date":1643339022,"answer_id":70888363,"question_id":70888294,"body_markdown":"Refer the [official docs][1]:\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/util/Scanner.html#nextInt()\r\n&gt;InputMismatchException - if the next token does not match the Integer regular expression, or is out of range\r\n\r\nSo either ensure your input is a legal int value or add the try/catch clause.","title":"Exception in thread &quot;main&quot; java.util.InputMismatchException errors","body":"<p>Refer the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Scanner.html#nextInt()\" rel=\"nofollow noreferrer\">official docs</a>:</p>\n<blockquote>\n<p>InputMismatchException - if the next token does not match the Integer regular expression, or is out of range</p>\n</blockquote>\n<p>So either ensure your input is a legal int value or add the try/catch clause.</p>\n"}],"owner":{"account_id":24077223,"reputation":1,"user_id":18052365,"display_name":"airstriker108"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":137,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1643339199,"creation_date":1643338384,"question_id":70888294,"body_markdown":"I can&#39;t exactly figure out what the issue is. I think it has to do with the array list but I&#39;m not quite sure how to fix this. I&#39;ve tried to instead of returning the array list, add to a new array list created in the main function but that didn&#39;t work. The error I keep getting is:\r\n\r\nException in thread &quot;main&quot; java.util.InputMismatchException\r\n\r\n        at java.base/java.util.Scanner.throwFor(Scanner.java:939)\r\n\r\n        at java.base/java.util.Scanner.next(Scanner.java:1594)\r\n\r\n        at java.base/java.util.Scanner.nextInt(Scanner.java:2258)\r\n\r\n        at java.base/java.util.Scanner.nextInt(Scanner.java:2212)\r\n\r\n        at fileAnalyze.inputFileList(fileAnalyze.java:18)\r\n\r\n        at fileAnalyze.main(fileAnalyze.java:6)\r\n\r\n```\r\nimport java.util.*;\r\nimport java.io.*;\r\n\r\npublic class fileAnalyze {\r\n    public static void main(String[] args){\r\n        ArrayList&lt;Integer&gt; inputFileInfo = inputFileList(&quot;inputFile.txt&quot;);\r\n        int count = numberAmount(inputFileInfo), small = inputFileInfo.get(argmin(inputFileInfo)),\r\n        big = inputFileInfo.get(argmax(inputFileInfo)), theAverage = average(inputFileInfo);\r\n        \r\n        fileCreate(count, small, big, theAverage);\r\n    }\r\n\r\n    private static ArrayList &lt;Integer&gt; inputFileList(String n){\r\n        Scanner reading = new Scanner(n);\r\n        ArrayList&lt;Integer&gt; inputFileData = new ArrayList&lt;Integer&gt;();\r\n            while (reading.hasNextLine()){\r\n            int data = reading.nextInt();\r\n            inputFileData.add(data);\r\n        }\r\n        reading.close();\r\n        return inputFileData;\r\n    }\r\n\r\n    private static int numberAmount(ArrayList&lt;Integer&gt; n1){\r\n        return n1.size();\r\n\r\n    }\r\n    private static int argmin(ArrayList&lt;Integer&gt; n2){\r\n        int arg= -1, x = 0;\r\n        for (int i = 0; i &lt; n2.size(); i++){\r\n            if (n2.get(i) &lt; x){\r\n                arg = i;\r\n                x = n2.get(i);\r\n            }\r\n        }\r\n        return arg;\r\n    }\r\n\r\n    private static int argmax(ArrayList&lt;Integer&gt; n3){\r\n        int arg= -1, x = 0;\r\n        for (int i = 0; i &lt; n3.size(); i++){\r\n            if (n3.get(i) &lt; x){\r\n                arg = i;\r\n                x = n3.get(i);\r\n            }\r\n        }\r\n        return arg;\r\n    }\r\n\r\n    private static int average(ArrayList&lt;Integer&gt; n4){\r\n        int total = 0;\r\n        for (int i = 0; i &lt; n4.size(); i++){\r\n            total = total + n4.get(i);\r\n        }\r\n        int average = total / n4.size();\r\n        return average;\r\n    }\r\n\r\n    private static void fileCreate(int numberCount, int minNum, int maxNum, int avg){\r\n        try {\r\n            File outputFile = new File(&quot;outputFile.txt&quot;);\r\n            if (outputFile.createNewFile()) {\r\n            }\r\n            else {\r\n                System.out.println(&quot;File already exists&quot;);\r\n            }\r\n            FileWriter writing = new FileWriter(&quot;outputFile.txt&quot;);\r\n            writing.write(&quot;**********&quot;);\r\n            writing.write(&quot;There are &quot; + Integer.toString(numberCount) + &quot; numbers in this file.&quot;);\r\n            writing.write(&quot;The minimum number is &quot; + Integer.toString(minNum));\r\n            writing.write(&quot;The maximum number is &quot; + Integer.toString(maxNum));\r\n            writing.write(&quot;The average is &quot; + Integer.toString(avg));\r\n            writing.close();\r\n        } catch (IOException e){\r\n            System.out.println(&quot;An error has occured.&quot;);\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n```","title":"Exception in thread &quot;main&quot; java.util.InputMismatchException errors","body":"<p>I can't exactly figure out what the issue is. I think it has to do with the array list but I'm not quite sure how to fix this. I've tried to instead of returning the array list, add to a new array list created in the main function but that didn't work. The error I keep getting is:</p>\n<p>Exception in thread &quot;main&quot; java.util.InputMismatchException</p>\n<pre><code>    at java.base/java.util.Scanner.throwFor(Scanner.java:939)\n\n    at java.base/java.util.Scanner.next(Scanner.java:1594)\n\n    at java.base/java.util.Scanner.nextInt(Scanner.java:2258)\n\n    at java.base/java.util.Scanner.nextInt(Scanner.java:2212)\n\n    at fileAnalyze.inputFileList(fileAnalyze.java:18)\n\n    at fileAnalyze.main(fileAnalyze.java:6)\n</code></pre>\n<pre><code>import java.util.*;\nimport java.io.*;\n\npublic class fileAnalyze {\n    public static void main(String[] args){\n        ArrayList&lt;Integer&gt; inputFileInfo = inputFileList(&quot;inputFile.txt&quot;);\n        int count = numberAmount(inputFileInfo), small = inputFileInfo.get(argmin(inputFileInfo)),\n        big = inputFileInfo.get(argmax(inputFileInfo)), theAverage = average(inputFileInfo);\n        \n        fileCreate(count, small, big, theAverage);\n    }\n\n    private static ArrayList &lt;Integer&gt; inputFileList(String n){\n        Scanner reading = new Scanner(n);\n        ArrayList&lt;Integer&gt; inputFileData = new ArrayList&lt;Integer&gt;();\n            while (reading.hasNextLine()){\n            int data = reading.nextInt();\n            inputFileData.add(data);\n        }\n        reading.close();\n        return inputFileData;\n    }\n\n    private static int numberAmount(ArrayList&lt;Integer&gt; n1){\n        return n1.size();\n\n    }\n    private static int argmin(ArrayList&lt;Integer&gt; n2){\n        int arg= -1, x = 0;\n        for (int i = 0; i &lt; n2.size(); i++){\n            if (n2.get(i) &lt; x){\n                arg = i;\n                x = n2.get(i);\n            }\n        }\n        return arg;\n    }\n\n    private static int argmax(ArrayList&lt;Integer&gt; n3){\n        int arg= -1, x = 0;\n        for (int i = 0; i &lt; n3.size(); i++){\n            if (n3.get(i) &lt; x){\n                arg = i;\n                x = n3.get(i);\n            }\n        }\n        return arg;\n    }\n\n    private static int average(ArrayList&lt;Integer&gt; n4){\n        int total = 0;\n        for (int i = 0; i &lt; n4.size(); i++){\n            total = total + n4.get(i);\n        }\n        int average = total / n4.size();\n        return average;\n    }\n\n    private static void fileCreate(int numberCount, int minNum, int maxNum, int avg){\n        try {\n            File outputFile = new File(&quot;outputFile.txt&quot;);\n            if (outputFile.createNewFile()) {\n            }\n            else {\n                System.out.println(&quot;File already exists&quot;);\n            }\n            FileWriter writing = new FileWriter(&quot;outputFile.txt&quot;);\n            writing.write(&quot;**********&quot;);\n            writing.write(&quot;There are &quot; + Integer.toString(numberCount) + &quot; numbers in this file.&quot;);\n            writing.write(&quot;The minimum number is &quot; + Integer.toString(minNum));\n            writing.write(&quot;The maximum number is &quot; + Integer.toString(maxNum));\n            writing.write(&quot;The average is &quot; + Integer.toString(avg));\n            writing.close();\n        } catch (IOException e){\n            System.out.println(&quot;An error has occured.&quot;);\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","multithreading","javafx","server","client"],"comments":[{"owner":{"account_id":7005189,"reputation":1519,"user_id":5369852,"display_name":"John Glenn"},"score":0,"creation_date":1643235889,"post_id":70870998,"comment_id":125289432,"body_markdown":"Why are you building this with single use sockets instead of HTTP?","body":"Why are you building this with single use sockets instead of HTTP?"},{"owner":{"account_id":16412930,"reputation":15,"user_id":11855737,"display_name":"Emil Botezatu"},"score":1,"creation_date":1643236132,"post_id":70870998,"comment_id":125289485,"body_markdown":"Uni professor told us","body":"Uni professor told us"},{"owner":{"account_id":7005189,"reputation":1519,"user_id":5369852,"display_name":"John Glenn"},"score":0,"creation_date":1643236606,"post_id":70870998,"comment_id":125289600,"body_markdown":"Check out concurrent linked queues: https://docs.oracle.com/javase/6/docs/api/java/util/concurrent/ConcurrentLinkedQueue.html\n\nIt is a thread safe way of passing data.","body":"Check out concurrent linked queues: <a href=\"https://docs.oracle.com/javase/6/docs/api/java/util/concurrent/ConcurrentLinkedQueue.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/6/docs/api/java/util/concurrent/&hellip;</a>  It is a thread safe way of passing data."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":3,"creation_date":1643236633,"post_id":70870998,"comment_id":125289605,"body_markdown":"Use a [Task](https://openjfx.io/javadoc/17/javafx.graphics/javafx/concurrent/package-summary.html), study the javadoc and it should help  you find a solution.","body":"Use a <a href=\"https://openjfx.io/javadoc/17/javafx.graphics/javafx/concurrent/package-summary.html\" rel=\"nofollow noreferrer\">Task</a>, study the javadoc and it should help  you find a solution."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1643237014,"post_id":70870998,"comment_id":125289701,"body_markdown":"Try to [avoid static scope](https://stackoverflow.com/questions/7026507/why-are-static-variables-considered-evil).","body":"Try to <a href=\"https://stackoverflow.com/questions/7026507/why-are-static-variables-considered-evil\">avoid static scope</a>."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1643237334,"post_id":70870998,"comment_id":125289786,"body_markdown":"Note the task advice is only for the client implementation, not the server implementation unless he server also has a JavaFX UI.","body":"Note the task advice is only for the client implementation, not the server implementation unless he server also has a JavaFX UI."},{"owner":{"account_id":16412930,"reputation":15,"user_id":11855737,"display_name":"Emil Botezatu"},"score":0,"creation_date":1643237513,"post_id":70870998,"comment_id":125289823,"body_markdown":"How Task helps me to retun an object from this method?","body":"How Task helps me to retun an object from this method?"},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1643239503,"post_id":70870998,"comment_id":125290234,"body_markdown":"You replace the sendMessageToServer method implementation with a Task the [Task javadoc](https://openjfx.io/javadoc/17/javafx.graphics/javafx/concurrent/Task.html) provides examples for returning values from a task including observable lists and partial results.  There are also numerous tutorials and stack overflow questions for JavaFX concurrency which demonstrate task usage.  Try it, if you get stuck post an update and likely somebody will supply code for a task based answer.","body":"You replace the sendMessageToServer method implementation with a Task the <a href=\"https://openjfx.io/javadoc/17/javafx.graphics/javafx/concurrent/Task.html\" rel=\"nofollow noreferrer\">Task javadoc</a> provides examples for returning values from a task including observable lists and partial results.  There are also numerous tutorials and stack overflow questions for JavaFX concurrency which demonstrate task usage.  Try it, if you get stuck post an update and likely somebody will supply code for a task based answer."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1643241345,"post_id":70870998,"comment_id":125290538,"body_markdown":"[mcve] please ..","body":"<a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> please .."}],"answers":[{"tags":[],"owner":{"account_id":7005189,"reputation":1519,"user_id":5369852,"display_name":"John Glenn"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1643291930,"creation_date":1643236991,"answer_id":70871172,"question_id":70870998,"body_markdown":"You can use a thread-safe ConcurrentLinkedQueue (static, of course). `Utils.setObjects` would add each element to the queue. On the UI thread, you would occasionally poll for new items on the queue to be displayed in the UI. \n\nReference documentation: https://docs.oracle.com/javase/6/docs/api/java/util/concurrent/ConcurrentLinkedQueue.html","title":"How to return objects from inputStream Client to a Javafx Controller?","body":"<p>You can use a thread-safe ConcurrentLinkedQueue (static, of course). <code>Utils.setObjects</code> would add each element to the queue. On the UI thread, you would occasionally poll for new items on the queue to be displayed in the UI.</p>\n<p>Reference documentation: <a href=\"https://docs.oracle.com/javase/6/docs/api/java/util/concurrent/ConcurrentLinkedQueue.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/6/docs/api/java/util/concurrent/ConcurrentLinkedQueue.html</a></p>\n"},{"tags":[],"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643339018,"creation_date":1643339018,"answer_id":70888362,"question_id":70870998,"body_markdown":"I don&#39;t know what your server is, nor the rest of your app.  I know you are using raw TCP sockets for communication using a custom protocol.  \r\n\r\nWhat I did was take code for a similar example from the Java tutorials.  The code is the KnockKnock client server code from: [Writing the Server Side of a Socket](https://docs.oracle.com/javase/tutorial/networking/sockets/clientServer.html).  The basic server code is unchanged, I just replaced the console-based client with a JavaFX UI.\r\n\r\nUnchanged server code:\r\n\r\n * https://docs.oracle.com/javase/tutorial/networking/sockets/examples/KnockKnockProtocol.java\r\n\r\n * https://docs.oracle.com/javase/tutorial/networking/sockets/examples/KKMultiServer.java\r\n\r\n * https://docs.oracle.com/javase/tutorial/networking/sockets/examples/KKMultiServerThread.java\r\n\r\nReplaced console client:\r\n\r\n * https://docs.oracle.com/javase/tutorial/networking/sockets/examples/KnockKnockClient.java\r\n\r\nI provide two different client implementations; one makes synchronous client calls on the JavaFX application thread, the other makes asynchronous client calls using a JavaFX task.\r\n\r\nThe current asynchronous task-based solution is not robust enough for a full-scale production system as it is technically possible for it to lose messages and it doesn&#39;t robustly match request and response messages.  But for a demo like this it is OK.\r\n\r\nFor simple execution, the UI apps both launch a local server on a pre-defined port when they are run, but you could remove the code to launch the server from the UI apps and run the server from the command line if you want.\r\n\r\n[![knock-knock][1]][1]\r\n\r\nKnockKnockSyncClient.java\r\n\r\n    import java.io.BufferedReader;\r\n    import java.io.IOException;\r\n    import java.io.InputStreamReader;\r\n    import java.io.PrintWriter;\r\n    import java.net.Socket;\r\n    \r\n    public class KnockKnockSyncClient {\r\n        private Socket socket;\r\n        private PrintWriter out;\r\n        private BufferedReader in;\r\n    \r\n        public String connect(String host, int port) {\r\n            try {\r\n                socket = new Socket(host, port);\r\n    \r\n                out = new PrintWriter(\r\n                        socket.getOutputStream(),\r\n                        true\r\n                );\r\n    \r\n                in = new BufferedReader(\r\n                        new InputStreamReader(\r\n                                socket.getInputStream()\r\n                        )\r\n                );\r\n    \r\n                return in.readLine();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n    \r\n            return null;\r\n        }\r\n    \r\n        public String sendMessage(String request) {\r\n            String response = null;\r\n    \r\n            try {\r\n                out.println(request);\r\n                response = in.readLine();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n    \r\n            return response;\r\n        }\r\n    \r\n        public void disconnect() {\r\n            try {\r\n                if (socket != null) {\r\n                    socket.close();\r\n                    socket = null;\r\n                }\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\nKnockKnockSyncApp\r\n\r\n    import javafx.animation.FadeTransition;\r\n    import javafx.application.*;\r\n    import javafx.geometry.Insets;\r\n    import javafx.scene.*;\r\n    import javafx.scene.control.*;\r\n    import javafx.scene.layout.VBox;\r\n    import javafx.stage.Stage;\r\n    import javafx.util.Duration;\r\n    \r\n    import java.util.concurrent.ExecutorService;\r\n    import java.util.concurrent.Executors;\r\n    \r\n    public class KnockKnockSyncApp extends Application {\r\n        private static final String HOST = &quot;localhost&quot;;\r\n        private static final int PORT = 8809;\r\n    \r\n        public static final String QUIT_RESPONSE = &quot;Bye.&quot;;\r\n    \r\n        private ExecutorService serverExecutor;\r\n        private KnockKnockSyncClient client;\r\n    \r\n        private static final String CSS = &quot;&quot;&quot;\r\n                data:text/css,\r\n                .root {\r\n                    -fx-font-size: 20;\r\n                }\r\n                .list-cell {\r\n                    -fx-alignment: baseline-right;\r\n                    -fx-text-fill: purple;\r\n                }\r\n                .list-cell:odd {\r\n                    -fx-alignment: baseline-left;\r\n                    -fx-text-fill: darkgreen;\r\n                }\r\n                &quot;&quot;&quot;;\r\n    \r\n        @Override\r\n        public void init() {\r\n            serverExecutor = Executors.newSingleThreadExecutor(r -&gt; new Thread(r, &quot;KKServer&quot;));\r\n            serverExecutor.submit(\r\n                    () -&gt; {\r\n                        try {\r\n                            KKMultiServer.main(new String[]{ PORT + &quot;&quot; });\r\n                        } catch (Exception e) {\r\n                            e.printStackTrace();\r\n                        }\r\n                    }\r\n            );\r\n    \r\n            client = new KnockKnockSyncClient();\r\n        }\r\n    \r\n        @Override\r\n        public void start(Stage stage) {\r\n            ListView&lt;String&gt; messageView = new ListView&lt;&gt;();\r\n    \r\n            TextField inputField = new TextField();\r\n            inputField.setPromptText(&quot;Enter a message for the server.&quot;);\r\n    \r\n            inputField.setOnAction(event -&gt; {\r\n                String request = inputField.getText();\r\n                messageView.getItems().add(request);\r\n    \r\n                String response = client.sendMessage(request);\r\n                messageView.getItems().add(response);\r\n    \r\n                messageView.scrollTo(Math.max(0, messageView.getItems().size() - 1));\r\n    \r\n                inputField.clear();\r\n    \r\n                if (QUIT_RESPONSE.equals(response)) {\r\n                    closeApp(inputField.getScene());\r\n                }\r\n            });\r\n    \r\n            VBox layout = new VBox(10,\r\n                    messageView,\r\n                    inputField\r\n            );\r\n            layout.setPadding(new Insets(10));\r\n            layout.setPrefWidth(600);\r\n    \r\n            Scene scene = new Scene(layout);\r\n            scene.getStylesheets().add(CSS);\r\n    \r\n            stage.setScene(scene);\r\n            stage.show();\r\n    \r\n            inputField.requestFocus();\r\n    \r\n            String connectResponse = client.connect(HOST, PORT);\r\n            if (connectResponse != null) {\r\n                messageView.getItems().add(connectResponse);\r\n            }\r\n        }\r\n    \r\n        private void closeApp(Scene scene) {\r\n            Parent root = scene.getRoot();\r\n            root.setDisable(true);\r\n            FadeTransition fade = new FadeTransition(Duration.seconds(1), root);\r\n            fade.setToValue(0);\r\n            fade.setOnFinished(e -&gt; Platform.exit());\r\n            fade.play();\r\n        }\r\n    \r\n        @Override\r\n        public void stop() {\r\n            client.disconnect();\r\n            serverExecutor.shutdown();\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            launch();\r\n        }\r\n    }\r\n\r\nKnockKnockAsyncClient.java\r\n\r\n    import javafx.concurrent.Task;\r\n    \r\n    import java.io.BufferedReader;\r\n    import java.io.IOException;\r\n    import java.io.InputStreamReader;\r\n    import java.io.PrintWriter;\r\n    import java.net.Socket;\r\n    import java.util.concurrent.BlockingQueue;\r\n    import java.util.concurrent.LinkedBlockingDeque;\r\n    \r\n    public class KnockKnockAsyncClient extends Task&lt;Void&gt; {\r\n        private final String host;\r\n        private final int port;\r\n    \r\n        private final BlockingQueue&lt;String&gt; messageQueue = new LinkedBlockingDeque&lt;&gt;();\r\n    \r\n        public KnockKnockAsyncClient(String host, int port) {\r\n            this.host = host;\r\n            this.port = port;\r\n        }\r\n    \r\n        @Override\r\n        protected Void call() {\r\n            try (\r\n                    Socket kkSocket = new Socket(host, port);\r\n                    PrintWriter out = new PrintWriter(kkSocket.getOutputStream(), true);\r\n                    BufferedReader in = new BufferedReader(\r\n                            new InputStreamReader(kkSocket.getInputStream()));\r\n            ) {\r\n                String fromServer;\r\n                String fromUser;\r\n    \r\n                while ((fromServer = in.readLine()) != null) {\r\n                    // this is not a completely robust implementation because updateMessage\r\n                    // can coalesce responses and there is no matching in send message calls\r\n                    // to responses.  A more robust implementation may allow matching of\r\n                    // requests and responses, perhaps via a message id.  It could also\r\n                    // replace the updateMessage call with storage of results in a collection\r\n                    // (e.g. an observable list) with thread safe notifications of response\r\n                    // arrivals, e.g. through CompleteableFutures and/or Platform.runLater calls.\r\n                    updateMessage(fromServer);\r\n                    System.out.println(&quot;Server: &quot; + fromServer);\r\n                    if (fromServer.equals(&quot;Bye.&quot;))\r\n                        break;\r\n    \r\n                    fromUser = messageQueue.take();\r\n                    System.out.println(&quot;Client: &quot; + fromUser);\r\n                    out.println(fromUser);\r\n                }\r\n            } catch (InterruptedException e) {\r\n                if (isCancelled()) {\r\n                    updateMessage(&quot;Cancelled&quot;);\r\n                }\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n    \r\n            return null;\r\n        }\r\n    \r\n        public void sendMessage(String request) {\r\n            messageQueue.add(request);\r\n        }\r\n    }\r\n\r\nKnockKnockAsyncApp.java\r\n\r\n    import javafx.animation.FadeTransition;\r\n    import javafx.application.Application;\r\n    import javafx.application.Platform;\r\n    import javafx.geometry.Insets;\r\n    import javafx.scene.Parent;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.control.ListView;\r\n    import javafx.scene.control.TextField;\r\n    import javafx.scene.layout.VBox;\r\n    import javafx.stage.Stage;\r\n    import javafx.util.Duration;\r\n    \r\n    import java.util.concurrent.ExecutorService;\r\n    import java.util.concurrent.Executors;\r\n    import java.util.concurrent.ThreadFactory;\r\n    import java.util.concurrent.atomic.AtomicInteger;\r\n    \r\n    public class KnockKnockAsyncApp extends Application {\r\n        private static final String HOST = &quot;localhost&quot;;\r\n        private static final int PORT = 8809;\r\n    \r\n        public static final String QUIT_RESPONSE = &quot;Bye.&quot;;\r\n    \r\n        private ExecutorService serverExecutor;\r\n        private ExecutorService clientExecutor;\r\n    \r\n        private static final String CSS = &quot;&quot;&quot;\r\n                data:text/css,\r\n                .root {\r\n                    -fx-font-size: 20;\r\n                }\r\n                .list-cell {\r\n                    -fx-alignment: baseline-right;\r\n                    -fx-text-fill: purple;\r\n                }\r\n                .list-cell:odd {\r\n                    -fx-alignment: baseline-left;\r\n                    -fx-text-fill: darkgreen;\r\n                }\r\n                &quot;&quot;&quot;;\r\n    \r\n        @Override\r\n        public void init() {\r\n            serverExecutor = Executors.newSingleThreadExecutor(r -&gt; new Thread(r, &quot;KKServer&quot;));\r\n            serverExecutor.submit(\r\n                    () -&gt; {\r\n                        try {\r\n                            KKMultiServer.main(new String[]{ PORT + &quot;&quot; });\r\n                        } catch (Exception e) {\r\n                            e.printStackTrace();\r\n                        }\r\n                    }\r\n            );\r\n    \r\n            clientExecutor = Executors.newSingleThreadExecutor(new ThreadFactory() {\r\n                final AtomicInteger threadNum = new AtomicInteger(0);\r\n    \r\n                @Override\r\n                public Thread newThread(Runnable r) {\r\n                    return new Thread(r,&quot;KKClient-&quot; + threadNum.getAndAdd(1));\r\n                }\r\n            });\r\n        }\r\n    \r\n        @Override\r\n        public void start(Stage stage) {\r\n            ListView&lt;String&gt; messageView = new ListView&lt;&gt;();\r\n    \r\n            KnockKnockAsyncClient client = new KnockKnockAsyncClient(HOST, PORT);\r\n            // monitor and action responses from the server.\r\n            client.messageProperty().addListener((observable, oldValue, response) -&gt; {\r\n                if (response != null) {\r\n                    logMessage(messageView, response);\r\n                }\r\n    \r\n                if (QUIT_RESPONSE.equals(response)) {\r\n                    closeApp(messageView.getScene());\r\n                }\r\n            });\r\n    \r\n            TextField inputField = new TextField();\r\n            inputField.setPromptText(&quot;Enter a message for the server.&quot;);\r\n    \r\n            inputField.setOnAction(event -&gt; {\r\n                String request = inputField.getText();\r\n                logMessage(messageView, request);\r\n    \r\n                client.sendMessage(request);\r\n    \r\n                inputField.clear();\r\n            });\r\n    \r\n            VBox layout = new VBox(10,\r\n                    messageView,\r\n                    inputField\r\n            );\r\n            layout.setPadding(new Insets(10));\r\n            layout.setPrefWidth(600);\r\n    \r\n            Scene scene = new Scene(layout);\r\n            scene.getStylesheets().add(CSS);\r\n    \r\n            stage.setScene(scene);\r\n            stage.show();\r\n    \r\n            inputField.requestFocus();\r\n    \r\n            clientExecutor.submit(client);\r\n        }\r\n    \r\n        private void logMessage(ListView&lt;String&gt; messageView, String request) {\r\n            messageView.getItems().add(request);\r\n            messageView.scrollTo(Math.max(0, messageView.getItems().size() - 1));\r\n        }\r\n    \r\n        private void closeApp(Scene scene) {\r\n            Parent root = scene.getRoot();\r\n            root.setDisable(true);\r\n            FadeTransition fade = new FadeTransition(Duration.seconds(1), root);\r\n            fade.setToValue(0);\r\n            fade.setOnFinished(e -&gt; Platform.exit());\r\n            fade.play();\r\n        }\r\n    \r\n        @Override\r\n        public void stop() {\r\n            clientExecutor.shutdown();\r\n            serverExecutor.shutdown();\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            launch();\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/vgUSg.png","title":"How to return objects from inputStream Client to a Javafx Controller?","body":"<p>I don't know what your server is, nor the rest of your app.  I know you are using raw TCP sockets for communication using a custom protocol.</p>\n<p>What I did was take code for a similar example from the Java tutorials.  The code is the KnockKnock client server code from: <a href=\"https://docs.oracle.com/javase/tutorial/networking/sockets/clientServer.html\" rel=\"nofollow noreferrer\">Writing the Server Side of a Socket</a>.  The basic server code is unchanged, I just replaced the console-based client with a JavaFX UI.</p>\n<p>Unchanged server code:</p>\n<ul>\n<li><p><a href=\"https://docs.oracle.com/javase/tutorial/networking/sockets/examples/KnockKnockProtocol.java\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/tutorial/networking/sockets/examples/KnockKnockProtocol.java</a></p>\n</li>\n<li><p><a href=\"https://docs.oracle.com/javase/tutorial/networking/sockets/examples/KKMultiServer.java\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/tutorial/networking/sockets/examples/KKMultiServer.java</a></p>\n</li>\n<li><p><a href=\"https://docs.oracle.com/javase/tutorial/networking/sockets/examples/KKMultiServerThread.java\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/tutorial/networking/sockets/examples/KKMultiServerThread.java</a></p>\n</li>\n</ul>\n<p>Replaced console client:</p>\n<ul>\n<li><a href=\"https://docs.oracle.com/javase/tutorial/networking/sockets/examples/KnockKnockClient.java\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/tutorial/networking/sockets/examples/KnockKnockClient.java</a></li>\n</ul>\n<p>I provide two different client implementations; one makes synchronous client calls on the JavaFX application thread, the other makes asynchronous client calls using a JavaFX task.</p>\n<p>The current asynchronous task-based solution is not robust enough for a full-scale production system as it is technically possible for it to lose messages and it doesn't robustly match request and response messages.  But for a demo like this it is OK.</p>\n<p>For simple execution, the UI apps both launch a local server on a pre-defined port when they are run, but you could remove the code to launch the server from the UI apps and run the server from the command line if you want.</p>\n<p><a href=\"https://i.stack.imgur.com/vgUSg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vgUSg.png\" alt=\"knock-knock\" /></a></p>\n<p>KnockKnockSyncClient.java</p>\n<pre><code>import java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.io.PrintWriter;\nimport java.net.Socket;\n\npublic class KnockKnockSyncClient {\n    private Socket socket;\n    private PrintWriter out;\n    private BufferedReader in;\n\n    public String connect(String host, int port) {\n        try {\n            socket = new Socket(host, port);\n\n            out = new PrintWriter(\n                    socket.getOutputStream(),\n                    true\n            );\n\n            in = new BufferedReader(\n                    new InputStreamReader(\n                            socket.getInputStream()\n                    )\n            );\n\n            return in.readLine();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n\n        return null;\n    }\n\n    public String sendMessage(String request) {\n        String response = null;\n\n        try {\n            out.println(request);\n            response = in.readLine();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n\n        return response;\n    }\n\n    public void disconnect() {\n        try {\n            if (socket != null) {\n                socket.close();\n                socket = null;\n            }\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>KnockKnockSyncApp</p>\n<pre><code>import javafx.animation.FadeTransition;\nimport javafx.application.*;\nimport javafx.geometry.Insets;\nimport javafx.scene.*;\nimport javafx.scene.control.*;\nimport javafx.scene.layout.VBox;\nimport javafx.stage.Stage;\nimport javafx.util.Duration;\n\nimport java.util.concurrent.ExecutorService;\nimport java.util.concurrent.Executors;\n\npublic class KnockKnockSyncApp extends Application {\n    private static final String HOST = &quot;localhost&quot;;\n    private static final int PORT = 8809;\n\n    public static final String QUIT_RESPONSE = &quot;Bye.&quot;;\n\n    private ExecutorService serverExecutor;\n    private KnockKnockSyncClient client;\n\n    private static final String CSS = &quot;&quot;&quot;\n            data:text/css,\n            .root {\n                -fx-font-size: 20;\n            }\n            .list-cell {\n                -fx-alignment: baseline-right;\n                -fx-text-fill: purple;\n            }\n            .list-cell:odd {\n                -fx-alignment: baseline-left;\n                -fx-text-fill: darkgreen;\n            }\n            &quot;&quot;&quot;;\n\n    @Override\n    public void init() {\n        serverExecutor = Executors.newSingleThreadExecutor(r -&gt; new Thread(r, &quot;KKServer&quot;));\n        serverExecutor.submit(\n                () -&gt; {\n                    try {\n                        KKMultiServer.main(new String[]{ PORT + &quot;&quot; });\n                    } catch (Exception e) {\n                        e.printStackTrace();\n                    }\n                }\n        );\n\n        client = new KnockKnockSyncClient();\n    }\n\n    @Override\n    public void start(Stage stage) {\n        ListView&lt;String&gt; messageView = new ListView&lt;&gt;();\n\n        TextField inputField = new TextField();\n        inputField.setPromptText(&quot;Enter a message for the server.&quot;);\n\n        inputField.setOnAction(event -&gt; {\n            String request = inputField.getText();\n            messageView.getItems().add(request);\n\n            String response = client.sendMessage(request);\n            messageView.getItems().add(response);\n\n            messageView.scrollTo(Math.max(0, messageView.getItems().size() - 1));\n\n            inputField.clear();\n\n            if (QUIT_RESPONSE.equals(response)) {\n                closeApp(inputField.getScene());\n            }\n        });\n\n        VBox layout = new VBox(10,\n                messageView,\n                inputField\n        );\n        layout.setPadding(new Insets(10));\n        layout.setPrefWidth(600);\n\n        Scene scene = new Scene(layout);\n        scene.getStylesheets().add(CSS);\n\n        stage.setScene(scene);\n        stage.show();\n\n        inputField.requestFocus();\n\n        String connectResponse = client.connect(HOST, PORT);\n        if (connectResponse != null) {\n            messageView.getItems().add(connectResponse);\n        }\n    }\n\n    private void closeApp(Scene scene) {\n        Parent root = scene.getRoot();\n        root.setDisable(true);\n        FadeTransition fade = new FadeTransition(Duration.seconds(1), root);\n        fade.setToValue(0);\n        fade.setOnFinished(e -&gt; Platform.exit());\n        fade.play();\n    }\n\n    @Override\n    public void stop() {\n        client.disconnect();\n        serverExecutor.shutdown();\n    }\n\n    public static void main(String[] args) {\n        launch();\n    }\n}\n</code></pre>\n<p>KnockKnockAsyncClient.java</p>\n<pre><code>import javafx.concurrent.Task;\n\nimport java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.io.PrintWriter;\nimport java.net.Socket;\nimport java.util.concurrent.BlockingQueue;\nimport java.util.concurrent.LinkedBlockingDeque;\n\npublic class KnockKnockAsyncClient extends Task&lt;Void&gt; {\n    private final String host;\n    private final int port;\n\n    private final BlockingQueue&lt;String&gt; messageQueue = new LinkedBlockingDeque&lt;&gt;();\n\n    public KnockKnockAsyncClient(String host, int port) {\n        this.host = host;\n        this.port = port;\n    }\n\n    @Override\n    protected Void call() {\n        try (\n                Socket kkSocket = new Socket(host, port);\n                PrintWriter out = new PrintWriter(kkSocket.getOutputStream(), true);\n                BufferedReader in = new BufferedReader(\n                        new InputStreamReader(kkSocket.getInputStream()));\n        ) {\n            String fromServer;\n            String fromUser;\n\n            while ((fromServer = in.readLine()) != null) {\n                // this is not a completely robust implementation because updateMessage\n                // can coalesce responses and there is no matching in send message calls\n                // to responses.  A more robust implementation may allow matching of\n                // requests and responses, perhaps via a message id.  It could also\n                // replace the updateMessage call with storage of results in a collection\n                // (e.g. an observable list) with thread safe notifications of response\n                // arrivals, e.g. through CompleteableFutures and/or Platform.runLater calls.\n                updateMessage(fromServer);\n                System.out.println(&quot;Server: &quot; + fromServer);\n                if (fromServer.equals(&quot;Bye.&quot;))\n                    break;\n\n                fromUser = messageQueue.take();\n                System.out.println(&quot;Client: &quot; + fromUser);\n                out.println(fromUser);\n            }\n        } catch (InterruptedException e) {\n            if (isCancelled()) {\n                updateMessage(&quot;Cancelled&quot;);\n            }\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n\n        return null;\n    }\n\n    public void sendMessage(String request) {\n        messageQueue.add(request);\n    }\n}\n</code></pre>\n<p>KnockKnockAsyncApp.java</p>\n<pre><code>import javafx.animation.FadeTransition;\nimport javafx.application.Application;\nimport javafx.application.Platform;\nimport javafx.geometry.Insets;\nimport javafx.scene.Parent;\nimport javafx.scene.Scene;\nimport javafx.scene.control.ListView;\nimport javafx.scene.control.TextField;\nimport javafx.scene.layout.VBox;\nimport javafx.stage.Stage;\nimport javafx.util.Duration;\n\nimport java.util.concurrent.ExecutorService;\nimport java.util.concurrent.Executors;\nimport java.util.concurrent.ThreadFactory;\nimport java.util.concurrent.atomic.AtomicInteger;\n\npublic class KnockKnockAsyncApp extends Application {\n    private static final String HOST = &quot;localhost&quot;;\n    private static final int PORT = 8809;\n\n    public static final String QUIT_RESPONSE = &quot;Bye.&quot;;\n\n    private ExecutorService serverExecutor;\n    private ExecutorService clientExecutor;\n\n    private static final String CSS = &quot;&quot;&quot;\n            data:text/css,\n            .root {\n                -fx-font-size: 20;\n            }\n            .list-cell {\n                -fx-alignment: baseline-right;\n                -fx-text-fill: purple;\n            }\n            .list-cell:odd {\n                -fx-alignment: baseline-left;\n                -fx-text-fill: darkgreen;\n            }\n            &quot;&quot;&quot;;\n\n    @Override\n    public void init() {\n        serverExecutor = Executors.newSingleThreadExecutor(r -&gt; new Thread(r, &quot;KKServer&quot;));\n        serverExecutor.submit(\n                () -&gt; {\n                    try {\n                        KKMultiServer.main(new String[]{ PORT + &quot;&quot; });\n                    } catch (Exception e) {\n                        e.printStackTrace();\n                    }\n                }\n        );\n\n        clientExecutor = Executors.newSingleThreadExecutor(new ThreadFactory() {\n            final AtomicInteger threadNum = new AtomicInteger(0);\n\n            @Override\n            public Thread newThread(Runnable r) {\n                return new Thread(r,&quot;KKClient-&quot; + threadNum.getAndAdd(1));\n            }\n        });\n    }\n\n    @Override\n    public void start(Stage stage) {\n        ListView&lt;String&gt; messageView = new ListView&lt;&gt;();\n\n        KnockKnockAsyncClient client = new KnockKnockAsyncClient(HOST, PORT);\n        // monitor and action responses from the server.\n        client.messageProperty().addListener((observable, oldValue, response) -&gt; {\n            if (response != null) {\n                logMessage(messageView, response);\n            }\n\n            if (QUIT_RESPONSE.equals(response)) {\n                closeApp(messageView.getScene());\n            }\n        });\n\n        TextField inputField = new TextField();\n        inputField.setPromptText(&quot;Enter a message for the server.&quot;);\n\n        inputField.setOnAction(event -&gt; {\n            String request = inputField.getText();\n            logMessage(messageView, request);\n\n            client.sendMessage(request);\n\n            inputField.clear();\n        });\n\n        VBox layout = new VBox(10,\n                messageView,\n                inputField\n        );\n        layout.setPadding(new Insets(10));\n        layout.setPrefWidth(600);\n\n        Scene scene = new Scene(layout);\n        scene.getStylesheets().add(CSS);\n\n        stage.setScene(scene);\n        stage.show();\n\n        inputField.requestFocus();\n\n        clientExecutor.submit(client);\n    }\n\n    private void logMessage(ListView&lt;String&gt; messageView, String request) {\n        messageView.getItems().add(request);\n        messageView.scrollTo(Math.max(0, messageView.getItems().size() - 1));\n    }\n\n    private void closeApp(Scene scene) {\n        Parent root = scene.getRoot();\n        root.setDisable(true);\n        FadeTransition fade = new FadeTransition(Duration.seconds(1), root);\n        fade.setToValue(0);\n        fade.setOnFinished(e -&gt; Platform.exit());\n        fade.play();\n    }\n\n    @Override\n    public void stop() {\n        clientExecutor.shutdown();\n        serverExecutor.shutdown();\n    }\n\n    public static void main(String[] args) {\n        launch();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":16412930,"reputation":15,"user_id":11855737,"display_name":"Emil Botezatu"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":555,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":70888362,"answer_count":2,"score":0,"last_activity_date":1643339018,"creation_date":1643235663,"question_id":70870998,"body_markdown":"So basically I have a MainConstroller class that has methods for every button. I have also a server multi-client application. In Client I have a method sendMessage that sends a String and an Object as a parameter to outputStreams to Server.\r\n\r\nIn the same method I have 2 inputStream for message from server and an object. The problem is that this method runs on a Thread which implements run method and I cannot return the object.\r\n\r\nI tried to create a static class that saves these, but the getters are null, when called in Controller class. \r\n\r\nWhat is the best method to achieve this?\r\n\r\n    public void onSaveButton(javafx.event.ActionEvent actionEvent) throws Exception {\r\n\r\n\r\n        Parent root = null;\r\n        Boolean type = false;\r\n        String message = null;\r\n\r\n\r\n        if (adminCheckbox.isSelected()) {\r\n            root = FXMLLoader.load(getClass().getResource(&quot;/fxml/admin.fxml&quot;));\r\n            type = true;\r\n            message = &quot;Admin&quot;;\r\n        }\r\n\r\n        if (competitorCheckbox.isSelected()) {\r\n            root = FXMLLoader.load(getClass().getResource(&quot;/fxml/competitor.fxml&quot;));\r\n            message = &quot;Competitor&quot;;\r\n        }\r\n\r\n        PersonEntity personEntity = new PersonEntity();\r\n        personEntity.setIdTeam(Integer.parseInt(teamField.getText()));\r\n        personEntity.setType(type);\r\n        personEntity.setUsername(usernameField.getText());\r\n\r\n        client.sendMessageToServer(message, personEntity);\r\n\r\n        System.out.println(Utils.getMessage());}\r\n\r\n\r\nAnd the Client method:\r\n\r\n     public void sendMessageToServer(String message, Object object) throws Exception {\r\n\r\n        new Thread(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                System.out.println(&quot;Say something and the message will be sent to the server: &quot;);\r\n\r\n                //For receiving and sending data\r\n                boolean isClose = false;\r\n\r\n                while (!isClose) {\r\n                    try {\r\n\r\n                        ObjectOutputStream outputStream = new ObjectOutputStream(socket.getOutputStream());\r\n                        ObjectInputStream inputStream = new ObjectInputStream(socket.getInputStream());\r\n\r\n                        if (message.equals(&quot;Bye&quot;)) {\r\n                            isClose = true;\r\n                        }\r\n\r\n                        outputStream.writeObject(message);\r\n                        outputStream.writeObject(object);\r\n\r\n                        String messageFromServer = (String) inputStream.readObject();\r\n                        //System.out.println(messageFromServer);\r\n\r\n                        int index = messageFromServer.indexOf(&#39; &#39;);\r\n                        String word = messageFromServer.substring(0, index);\r\n\r\n                        if (messageFromServer.equals(&quot;Bye&quot;)) {\r\n                            isClose = true;\r\n                        }\r\n\r\n                        if (!word.equals(&quot;LIST&quot;)) {\r\n                            Object obj = (Object) inputStream.readObject();\r\n                            Utils.setMessage(messageFromServer);\r\n                            return;\r\n                            //Utils.setObject(obj);\r\n                            //System.out.println(&quot;IN FOR &quot; + Utils.getMessage());\r\n\r\n                        } else {\r\n                            List&lt;Object&gt; list = (List&lt;Object&gt;) inputStream.readObject();\r\n                            Utils.setMessage(messageFromServer);\r\n                            Utils.setObjects(list);\r\n                            return;\r\n\r\n                        }\r\n\r\n                    } catch (IOException | ClassNotFoundException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                }\r\n                try {\r\n                    socket.close();\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        }).start();\r\n    }","title":"How to return objects from inputStream Client to a Javafx Controller?","body":"<p>So basically I have a MainConstroller class that has methods for every button. I have also a server multi-client application. In Client I have a method sendMessage that sends a String and an Object as a parameter to outputStreams to Server.</p>\n<p>In the same method I have 2 inputStream for message from server and an object. The problem is that this method runs on a Thread which implements run method and I cannot return the object.</p>\n<p>I tried to create a static class that saves these, but the getters are null, when called in Controller class.</p>\n<p>What is the best method to achieve this?</p>\n<pre><code>public void onSaveButton(javafx.event.ActionEvent actionEvent) throws Exception {\n\n\n    Parent root = null;\n    Boolean type = false;\n    String message = null;\n\n\n    if (adminCheckbox.isSelected()) {\n        root = FXMLLoader.load(getClass().getResource(&quot;/fxml/admin.fxml&quot;));\n        type = true;\n        message = &quot;Admin&quot;;\n    }\n\n    if (competitorCheckbox.isSelected()) {\n        root = FXMLLoader.load(getClass().getResource(&quot;/fxml/competitor.fxml&quot;));\n        message = &quot;Competitor&quot;;\n    }\n\n    PersonEntity personEntity = new PersonEntity();\n    personEntity.setIdTeam(Integer.parseInt(teamField.getText()));\n    personEntity.setType(type);\n    personEntity.setUsername(usernameField.getText());\n\n    client.sendMessageToServer(message, personEntity);\n\n    System.out.println(Utils.getMessage());}\n</code></pre>\n<p>And the Client method:</p>\n<pre><code> public void sendMessageToServer(String message, Object object) throws Exception {\n\n    new Thread(new Runnable() {\n        @Override\n        public void run() {\n            System.out.println(&quot;Say something and the message will be sent to the server: &quot;);\n\n            //For receiving and sending data\n            boolean isClose = false;\n\n            while (!isClose) {\n                try {\n\n                    ObjectOutputStream outputStream = new ObjectOutputStream(socket.getOutputStream());\n                    ObjectInputStream inputStream = new ObjectInputStream(socket.getInputStream());\n\n                    if (message.equals(&quot;Bye&quot;)) {\n                        isClose = true;\n                    }\n\n                    outputStream.writeObject(message);\n                    outputStream.writeObject(object);\n\n                    String messageFromServer = (String) inputStream.readObject();\n                    //System.out.println(messageFromServer);\n\n                    int index = messageFromServer.indexOf(' ');\n                    String word = messageFromServer.substring(0, index);\n\n                    if (messageFromServer.equals(&quot;Bye&quot;)) {\n                        isClose = true;\n                    }\n\n                    if (!word.equals(&quot;LIST&quot;)) {\n                        Object obj = (Object) inputStream.readObject();\n                        Utils.setMessage(messageFromServer);\n                        return;\n                        //Utils.setObject(obj);\n                        //System.out.println(&quot;IN FOR &quot; + Utils.getMessage());\n\n                    } else {\n                        List&lt;Object&gt; list = (List&lt;Object&gt;) inputStream.readObject();\n                        Utils.setMessage(messageFromServer);\n                        Utils.setObjects(list);\n                        return;\n\n                    }\n\n                } catch (IOException | ClassNotFoundException e) {\n                    e.printStackTrace();\n                }\n            }\n            try {\n                socket.close();\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n        }\n    }).start();\n}\n</code></pre>\n"},{"tags":["java","spring-boot","caching","redis","key-generator"],"comments":[{"owner":{"account_id":17463361,"reputation":21,"user_id":12660566,"display_name":"Krito"},"score":0,"creation_date":1643338731,"post_id":70888325,"comment_id":125319174,"body_markdown":"help me!!!come on!!!","body":"help me!!!come on!!!"},{"owner":{"account_id":17463361,"reputation":21,"user_id":12660566,"display_name":"Krito"},"score":0,"creation_date":1643341227,"post_id":70888325,"comment_id":125319589,"body_markdown":"help!help!help!","body":"help!help!help!"}],"owner":{"account_id":17463361,"reputation":21,"user_id":12660566,"display_name":"Krito"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":616,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643338659,"creation_date":1643338659,"question_id":70888325,"body_markdown":"**1.Redisconfig configuration classes are as follows:**\r\n```\r\n@Configuration\r\npublic class RedisConfig {\r\n    /**\r\n     * @param factory\r\n     * @return\r\n     */\r\n    @Bean\r\n    public CacheManager cacheManager(RedisConnectionFactory factory) {\r\n        GenericJackson2JsonRedisSerializer genericJackson2JsonRedisSerializer = new GenericJackson2JsonRedisSerializer();\r\n        StringRedisSerializer stringRedisSerializer = new StringRedisSerializer();\r\n        // 配置序列化\r\n        RedisCacheConfiguration config = RedisCacheConfiguration.defaultCacheConfig();\r\n        RedisCacheConfiguration redisCacheConfiguration = config\r\n                // 键序列化方式 redis字符串序列化\r\n                .serializeKeysWith(RedisSerializationContext.SerializationPair.fromSerializer(stringRedisSerializer))\r\n                // 值序列化方式 简单json序列化\r\n                .serializeValuesWith(RedisSerializationContext.SerializationPair.fromSerializer(genericJackson2JsonRedisSerializer))\r\n                //不缓存Null值\r\n                .disableCachingNullValues()\r\n                //缓存失效 3天\r\n                .entryTtl(Duration.ofDays(3));\r\n        return RedisCacheManager.builder(factory).cacheDefaults(redisCacheConfiguration).build();\r\n    }\r\n\r\n    @Bean\r\n    public RedisTemplate&lt;String,Object&gt; redisTemplate(RedisConnectionFactory redisConnectionFactory) {\r\n        RedisTemplate&lt;String, Object&gt; template = new RedisTemplate();\r\n        template.setConnectionFactory(redisConnectionFactory);\r\n        GenericJackson2JsonRedisSerializer jsonRedisSerializer = new GenericJackson2JsonRedisSerializer();\r\n        // value值的序列化采用fastJsonRedisSerializer\r\n        template.setValueSerializer(jsonRedisSerializer);\r\n        template.setHashValueSerializer(jsonRedisSerializer);\r\n        // key的序列化采用StringRedisSerializer\r\n        template.setKeySerializer(new StringRedisSerializer());\r\n        template.setHashKeySerializer(new StringRedisSerializer());\r\n        return template;\r\n    }\r\n\r\n    /**\r\n     * 重写缓存key的生成方式： 类名.方法名字&amp;[参数列表]\r\n     * @return\r\n     */\r\n    @Bean\r\n    public KeyGenerator keyGenerator(){\r\n        return new KeyGenerator() {\r\n            @Override\r\n            public Object generate(Object target, Method method, Object... params) {\r\n                StringBuilder sb = new StringBuilder();\r\n                sb.append(target.getClass().getName()).append(&quot;.&quot;);//执行类名\r\n                sb.append(method.getName()).append(&quot;&amp;&quot;);//方法名\r\n                sb.append(Arrays.toString(params));//参数\r\n                return sb.toString();\r\n            }\r\n        };\r\n    }\r\n}\r\n```\r\n**2. Redis cache is used for @ cacheable annotation:**\r\n```\r\n@Transactional(rollbackFor = Exception.class)\r\n    @Cacheable(cacheNames = &quot;blog&quot;,keyGenerator = &quot;keyGenerator&quot;)\r\n    @Override\r\n    public BlogVo getBlogById(int blogId) {\r\n        Blog blog = blogDao.selectBlogById(blogId);\r\n        if(blog == null || blog.getBlogStatus()==0){\r\n            return null;\r\n        }\r\n        BlogVo blogVo = new BlogVo();\r\n        BeanUtils.copyProperties(blog,blogVo);\r\n        User user = userDao.selectUserById(blog.getBlogUserid());\r\n        Type type = typeDao.selectTypeById(blog.getBlogTypeid());\r\n        blogVo.setBlogUser(user);\r\n        blogVo.setBlogType(type);\r\n        return blogVo;\r\n    }\r\n```\r\n**3. Generating duplicate key value pairs:**\r\nTwo key value pairs with the same value are cached in redis database. The difference between duplicate key contents is that they contain **enhancerbyspringcglib**, which has been tested for many times. Other methods are the same:\r\n\r\n(1) right key: blog::**com.zju.sdust.weblog.service.impl.BlogServiceImpl.getBlogById&amp;[1]**\r\n\r\n(2) Duplicate key: **blog::com.zju.sdust.weblog.service.impl.BlogServiceImpl$$EnhancerBySpringCGLIB$$e965464f.getBlogById&amp;[1]**\r\n\r\nI want to know why and how to solve it? help me!!!\r\n","title":"When springboot uses @ cacheable to integrate redis cache, the key generation policy KeyGenerator generates duplicate keys enhancerbyspringcglib","body":"<p><strong>1.Redisconfig configuration classes are as follows:</strong></p>\n<pre><code>@Configuration\npublic class RedisConfig {\n    /**\n     * @param factory\n     * @return\n     */\n    @Bean\n    public CacheManager cacheManager(RedisConnectionFactory factory) {\n        GenericJackson2JsonRedisSerializer genericJackson2JsonRedisSerializer = new GenericJackson2JsonRedisSerializer();\n        StringRedisSerializer stringRedisSerializer = new StringRedisSerializer();\n        // 配置序列化\n        RedisCacheConfiguration config = RedisCacheConfiguration.defaultCacheConfig();\n        RedisCacheConfiguration redisCacheConfiguration = config\n                // 键序列化方式 redis字符串序列化\n                .serializeKeysWith(RedisSerializationContext.SerializationPair.fromSerializer(stringRedisSerializer))\n                // 值序列化方式 简单json序列化\n                .serializeValuesWith(RedisSerializationContext.SerializationPair.fromSerializer(genericJackson2JsonRedisSerializer))\n                //不缓存Null值\n                .disableCachingNullValues()\n                //缓存失效 3天\n                .entryTtl(Duration.ofDays(3));\n        return RedisCacheManager.builder(factory).cacheDefaults(redisCacheConfiguration).build();\n    }\n\n    @Bean\n    public RedisTemplate&lt;String,Object&gt; redisTemplate(RedisConnectionFactory redisConnectionFactory) {\n        RedisTemplate&lt;String, Object&gt; template = new RedisTemplate();\n        template.setConnectionFactory(redisConnectionFactory);\n        GenericJackson2JsonRedisSerializer jsonRedisSerializer = new GenericJackson2JsonRedisSerializer();\n        // value值的序列化采用fastJsonRedisSerializer\n        template.setValueSerializer(jsonRedisSerializer);\n        template.setHashValueSerializer(jsonRedisSerializer);\n        // key的序列化采用StringRedisSerializer\n        template.setKeySerializer(new StringRedisSerializer());\n        template.setHashKeySerializer(new StringRedisSerializer());\n        return template;\n    }\n\n    /**\n     * 重写缓存key的生成方式： 类名.方法名字&amp;[参数列表]\n     * @return\n     */\n    @Bean\n    public KeyGenerator keyGenerator(){\n        return new KeyGenerator() {\n            @Override\n            public Object generate(Object target, Method method, Object... params) {\n                StringBuilder sb = new StringBuilder();\n                sb.append(target.getClass().getName()).append(&quot;.&quot;);//执行类名\n                sb.append(method.getName()).append(&quot;&amp;&quot;);//方法名\n                sb.append(Arrays.toString(params));//参数\n                return sb.toString();\n            }\n        };\n    }\n}\n</code></pre>\n<p><strong>2. Redis cache is used for @ cacheable annotation:</strong></p>\n<pre><code>@Transactional(rollbackFor = Exception.class)\n    @Cacheable(cacheNames = &quot;blog&quot;,keyGenerator = &quot;keyGenerator&quot;)\n    @Override\n    public BlogVo getBlogById(int blogId) {\n        Blog blog = blogDao.selectBlogById(blogId);\n        if(blog == null || blog.getBlogStatus()==0){\n            return null;\n        }\n        BlogVo blogVo = new BlogVo();\n        BeanUtils.copyProperties(blog,blogVo);\n        User user = userDao.selectUserById(blog.getBlogUserid());\n        Type type = typeDao.selectTypeById(blog.getBlogTypeid());\n        blogVo.setBlogUser(user);\n        blogVo.setBlogType(type);\n        return blogVo;\n    }\n</code></pre>\n<p><strong>3. Generating duplicate key value pairs:</strong>\nTwo key value pairs with the same value are cached in redis database. The difference between duplicate key contents is that they contain <strong>enhancerbyspringcglib</strong>, which has been tested for many times. Other methods are the same:</p>\n<p>(1) right key: blog::<strong>com.zju.sdust.weblog.service.impl.BlogServiceImpl.getBlogById&amp;[1]</strong></p>\n<p>(2) Duplicate key: <strong>blog::com.zju.sdust.weblog.service.impl.BlogServiceImpl$$EnhancerBySpringCGLIB$$e965464f.getBlogById&amp;[1]</strong></p>\n<p>I want to know why and how to solve it? help me!!!</p>\n"},{"tags":["java","eclipse","indentation","auto-indent"],"answers":[{"tags":[],"owner":{"account_id":128130,"reputation":18591,"user_id":325742,"accept_rate":90,"display_name":"Ashutosh Jindal"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1344185680,"creation_date":1344184568,"answer_id":11818134,"question_id":11818041,"body_markdown":"I was able to reproduce the issue.\r\n\r\nIt seems that the ending brace for the enum is confusing Eclipse. If you put that on a separate line the indentation starts working fine :\r\n\r\n    public static class Shape {\r\n    \r\n    \tenum Tetrominoes { NoShape, ZShape, SShape, LineShape, TShape, \r\n    \t\tSquareShape, LShape, MirroredLShape \r\n    \t};\r\n    \r\n    \tprivate Tetrominoes pieceShape;\r\n    \tprivate int coords[][];\r\n    \tprivate int[][][] coordsTable;\r\n    \r\n    \tpublic Shape() {\r\n    \r\n    \t\tcoords = new int[4][2];\r\n    \t\tsetShape(Tetrominoes.NoShape);\r\n    \t}\r\n    \r\n    \tpublic void setShape(Tetrominoes shape) {\r\n    \r\n    \t}\r\n    \r\n    }\r\n\r\nYou can also attempt to format the code (Ctrl + Shift + F) followed by correcting indentation (Ctrl + A and  Ctrl + I ). When you format the code, you&#39;ll notice that Eclipse also puts the ending brace on the next line instead of alongside the Enum constant body.","title":"Eclipse auto-indent incorrectly indents file","body":"<p>I was able to reproduce the issue.</p>\n\n<p>It seems that the ending brace for the enum is confusing Eclipse. If you put that on a separate line the indentation starts working fine :</p>\n\n<pre><code>public static class Shape {\n\n    enum Tetrominoes { NoShape, ZShape, SShape, LineShape, TShape, \n        SquareShape, LShape, MirroredLShape \n    };\n\n    private Tetrominoes pieceShape;\n    private int coords[][];\n    private int[][][] coordsTable;\n\n    public Shape() {\n\n        coords = new int[4][2];\n        setShape(Tetrominoes.NoShape);\n    }\n\n    public void setShape(Tetrominoes shape) {\n\n    }\n\n}\n</code></pre>\n\n<p>You can also attempt to format the code (Ctrl + Shift + F) followed by correcting indentation (Ctrl + A and  Ctrl + I ). When you format the code, you'll notice that Eclipse also puts the ending brace on the next line instead of alongside the Enum constant body.</p>\n"}],"owner":{"account_id":1171361,"reputation":547,"user_id":1148482,"display_name":"ProgrammingMakesMeQQ"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2156,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":11818134,"answer_count":1,"score":2,"last_activity_date":1643338127,"creation_date":1344183780,"question_id":11818041,"body_markdown":"Something weird is happening to my Eclipse that I never remember happening before. Basically if I&#39;ve got a long statement and split it onto two lines, then everything after that gets indented a tab further than it should be. Here&#39;s an example:\r\n\r\nCorrect indentation:\r\n\r\n\tpublic static class Shape {\r\n\r\n\t\tenum Tetrominoes { NoShape, ZShape, SShape, LineShape, TShape, \r\n\t\t\tSquareShape, LShape, MirroredLShape };\r\n\r\n\t\tprivate Tetrominoes pieceShape;\r\n\t\tprivate int coords[][];\r\n\t\tprivate int[][][] coordsTable;\r\n\r\n\t\tpublic Shape() {\r\n\r\n\t\t\tcoords = new int[4][2];\r\n\t\t\tsetShape(Tetrominoes.NoShape);\r\n\t\t}\r\n\r\n\t\tpublic void setShape(Tetrominoes shape) {\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\nWhat it looks like with Ctrl+A, Ctrl+I:\r\n\r\n\tpublic static class Shape {\r\n\r\n\t\tenum Tetrominoes { NoShape, ZShape, SShape, LineShape, TShape, \r\n\t\t\tSquareShape, LShape, MirroredLShape };\r\n\r\n\t\t\tprivate Tetrominoes pieceShape;\r\n\t\t\tprivate int coords[][];\r\n\t\t\tprivate int[][][] coordsTable;\r\n\r\n\t\t\tpublic Shape() {\r\n\r\n\t\t\t\tcoords = new int[4][2];\r\n\t\t\t\tsetShape(Tetrominoes.NoShape);\r\n\t\t\t}\r\n\r\n\t\t\tpublic void setShape(Tetrominoes shape) {\r\n\r\n\t\t\t}\r\n\r\n\t}\r\n\r\nNow if I keep that enum on one line and auto-indent it, then it works out just fine. I just got a new laptop and put a fresh copy of Eclipse on it and didn&#39;t change any settings, so this is how the default auto-indent works. But I remember on my old laptop if I would split a statement onto two lines then everything else after that would still be properly aligned?\r\n\r\n(Also at the start of this post I put &quot;Hey guys,&quot; but it looks like StackOverflow automatically removed it? I tried editing the question and reinserting it but it still got removed once posting. I tried putting &quot;Hey,&quot; but that got removed too. Does SO not believe in greetings??)","title":"Eclipse auto-indent incorrectly indents file","body":"<p>Something weird is happening to my Eclipse that I never remember happening before. Basically if I've got a long statement and split it onto two lines, then everything after that gets indented a tab further than it should be. Here's an example:</p>\n\n<p>Correct indentation:</p>\n\n<pre><code>public static class Shape {\n\n    enum Tetrominoes { NoShape, ZShape, SShape, LineShape, TShape, \n        SquareShape, LShape, MirroredLShape };\n\n    private Tetrominoes pieceShape;\n    private int coords[][];\n    private int[][][] coordsTable;\n\n    public Shape() {\n\n        coords = new int[4][2];\n        setShape(Tetrominoes.NoShape);\n    }\n\n    public void setShape(Tetrominoes shape) {\n\n    }\n\n}\n</code></pre>\n\n<p>What it looks like with Ctrl+A, Ctrl+I:</p>\n\n<pre><code>public static class Shape {\n\n    enum Tetrominoes { NoShape, ZShape, SShape, LineShape, TShape, \n        SquareShape, LShape, MirroredLShape };\n\n        private Tetrominoes pieceShape;\n        private int coords[][];\n        private int[][][] coordsTable;\n\n        public Shape() {\n\n            coords = new int[4][2];\n            setShape(Tetrominoes.NoShape);\n        }\n\n        public void setShape(Tetrominoes shape) {\n\n        }\n\n}\n</code></pre>\n\n<p>Now if I keep that enum on one line and auto-indent it, then it works out just fine. I just got a new laptop and put a fresh copy of Eclipse on it and didn't change any settings, so this is how the default auto-indent works. But I remember on my old laptop if I would split a statement onto two lines then everything else after that would still be properly aligned?</p>\n\n<p>(Also at the start of this post I put \"Hey guys,\" but it looks like StackOverflow automatically removed it? I tried editing the question and reinserting it but it still got removed once posting. I tried putting \"Hey,\" but that got removed too. Does SO not believe in greetings??)</p>\n"},{"tags":["java","javascript","android","binding"],"comments":[{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1500593395,"post_id":27034897,"comment_id":77419729,"body_markdown":"Can you create the array on a server and have the Java code in your android app request it via HTTP?","body":"Can you create the array on a server and have the Java code in your android app request it via HTTP?"}],"answers":[{"tags":[],"owner":{"account_id":1537802,"reputation":903,"user_id":1433299,"accept_rate":80,"display_name":"markt"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1416472241,"creation_date":1416472241,"answer_id":27034941,"question_id":27034897,"body_markdown":"Serialise your data into a string, then unserialize in your app.","title":"Is there a way to pass an arraybuffer from javascript to java on Android?","body":"<p>Serialise your data into a string, then unserialize in your app.</p>\n"},{"tags":[],"owner":{"account_id":1424245,"reputation":272173,"user_id":1348195,"accept_rate":88,"display_name":"Benjamin Gruenbaum"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1500603242,"creation_date":1500603242,"answer_id":45227926,"question_id":27034897,"body_markdown":"Cloning the ArrayBuffer makes it work - something about a TypedArray backed with an ArrayBuffer doesn&#39;t marshall well into Android.\r\n\r\nIf you copy your ArrayBuffer into a new TypedArray you can avoid the expensive serialization overhead.\r\n\r\nOn the reader:\r\n\r\n    @JavascriptInterface\r\n    void onBytes(byte[] bytes) {\r\n       // bytes available here\r\n    }\r\n\r\nAnd on the JS side: \r\n\r\n    var byteArray = new Uint8Array(buffer);\r\n    var arr = new Uint8Array(byteArray.length);\r\n    for(var i = 0; i &lt; byteArray.length; i++) {\r\n      arr[i] = byteArray[i];\r\n    }\r\n    javaObject.onBytes(arr);\r\n\r\nWorks perfectly fine :) ","title":"Is there a way to pass an arraybuffer from javascript to java on Android?","body":"<p>Cloning the ArrayBuffer makes it work - something about a TypedArray backed with an ArrayBuffer doesn't marshall well into Android.</p>\n\n<p>If you copy your ArrayBuffer into a new TypedArray you can avoid the expensive serialization overhead.</p>\n\n<p>On the reader:</p>\n\n<pre><code>@JavascriptInterface\nvoid onBytes(byte[] bytes) {\n   // bytes available here\n}\n</code></pre>\n\n<p>And on the JS side: </p>\n\n<pre><code>var byteArray = new Uint8Array(buffer);\nvar arr = new Uint8Array(byteArray.length);\nfor(var i = 0; i &lt; byteArray.length; i++) {\n  arr[i] = byteArray[i];\n}\njavaObject.onBytes(arr);\n</code></pre>\n\n<p>Works perfectly fine :) </p>\n"},{"tags":[],"owner":{"account_id":6658383,"reputation":8312,"user_id":5138198,"display_name":"Alex Nikulin"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1501850528,"creation_date":1500614473,"answer_id":45229538,"question_id":27034897,"body_markdown":"It is pretty simple\r\n\r\nInit section\r\n\r\n     JavaScriptInterface jsInterface = new JavaScriptInterface(this);\r\n     webView.getSettings().setJavaScriptEnabled(true);\r\n     webView.addJavascriptInterface(jsInterface, &quot;JSInterface&quot;);\r\n\r\nJavaScriptInterface\r\n\r\n    public class JavaScriptInterface {\r\n            private Activity activity;\r\n    \r\n            public JavaScriptInterface(Activity activiy) {\r\n                this.activity = activiy;\r\n            }\r\n            @JavascriptInterface\r\n            public void putData(byte[] bytes){\r\n                //do whatever\r\n            }\r\n        }\r\n\r\nJs section\r\n\r\n    &lt;script&gt;\r\n      function putAnyBinaryArray(arr) {\r\n            var uint8 = Uint8Array.from(arr);\r\n            window.JSInterface.putData(uint8);\r\n      };\r\n    &lt;/script&gt;\r\n\r\nTypedArray.from polyfill if need : [https://developer.mozilla.org/ru/docs/Web/JavaScript/Reference/Global_Objects/TypedArray/from][1]\r\n\r\n\r\n  [1]: https://developer.mozilla.org/ru/docs/Web/JavaScript/Reference/Global_Objects/TypedArray/from","title":"Is there a way to pass an arraybuffer from javascript to java on Android?","body":"<p>It is pretty simple</p>\n\n<p>Init section</p>\n\n<pre><code> JavaScriptInterface jsInterface = new JavaScriptInterface(this);\n webView.getSettings().setJavaScriptEnabled(true);\n webView.addJavascriptInterface(jsInterface, \"JSInterface\");\n</code></pre>\n\n<p>JavaScriptInterface</p>\n\n<pre><code>public class JavaScriptInterface {\n        private Activity activity;\n\n        public JavaScriptInterface(Activity activiy) {\n            this.activity = activiy;\n        }\n        @JavascriptInterface\n        public void putData(byte[] bytes){\n            //do whatever\n        }\n    }\n</code></pre>\n\n<p>Js section</p>\n\n<pre><code>&lt;script&gt;\n  function putAnyBinaryArray(arr) {\n        var uint8 = Uint8Array.from(arr);\n        window.JSInterface.putData(uint8);\n  };\n&lt;/script&gt;\n</code></pre>\n\n<p>TypedArray.from polyfill if need : <a href=\"https://developer.mozilla.org/ru/docs/Web/JavaScript/Reference/Global_Objects/TypedArray/from\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/ru/docs/Web/JavaScript/Reference/Global_Objects/TypedArray/from</a></p>\n"},{"tags":[],"owner":{"account_id":1424245,"reputation":272173,"user_id":1348195,"accept_rate":88,"display_name":"Benjamin Gruenbaum"},"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1501873983,"creation_date":1501849643,"answer_id":45506857,"question_id":27034897,"body_markdown":"Ok, so following a chat with Google engineering and after reading the code I&#39;ve reached the following conclusions.\r\n\r\n### Passing binary data efficiently is impossible\r\n\r\nIt is impossible to pass binary data efficiently between JavaScript and Java through a @JavascriptInterface:\r\n\r\nOn the Java side:\r\n\r\n    @JavascriptInterface\r\n    void onBytes(byte[] bytes) {\r\n       // bytes available here\r\n    }\r\n\r\nAnd on the JavaScript side: \r\n\r\n    var byteArray = new Uint8Array(buffer);\r\n    var arr = new Uint8Array(byteArray.length);\r\n    for(var i = 0; i &lt; byteArray.length; i++) {\r\n      arr[i] = byteArray[i];\r\n    }\r\n    javaObject.onBytes(arr);\r\n\r\nIn the code above (from my old answer) and in Alex&#39;s - [the conversion performed for the array](https://cs.chromium.org/chromium/src/content/browser/android/java/gin_java_script_to_java_types_coercion.cc?q=gin_java_scr&amp;sq=package:chromium&amp;l=573) is brutal:\r\n\r\n    case JavaType::TypeArray:\r\n      if (value-&gt;IsType(base::Value::Type::DICTIONARY)) {\r\n        result.l = CoerceJavaScriptDictionaryToArray(\r\n            env, value, target_type, object_refs, error);\r\n      } else if (value-&gt;IsType(base::Value::Type::LIST)) {\r\n        result.l = CoerceJavaScriptListToArray(\r\n            env, value, target_type, object_refs, error);\r\n      } else {\r\n        result.l = NULL;\r\n      }\r\n      break;\r\n\r\nWhich in turn [coerces every array element to a Java object](https://cs.chromium.org/chromium/src/content/browser/android/java/gin_java_script_to_java_types_coercion.cc?q=gin_java_scr&amp;sq=package:chromium&amp;l=470):\r\n\r\n    for (jsize i = 0; i &lt; length; ++i) {\r\n        const base::Value* value_element = null_value.get();\r\n        list_value-&gt;Get(i, &amp;value_element);\r\n        jvalue element = CoerceJavaScriptValueToJavaValue(\r\n            env, value_element, target_inner_type, false, object_refs, error);\r\n        SetArrayElement(env, result, target_inner_type, i, element);\r\n\r\nSo, for a `1024 * 1024 * 10` `Uint8Array` - ten million Java objects are created and destroyed on each pass resulting in 10 seconds of CPU time on my emulator.\r\n\r\n### Creating an HTTP server\r\n\r\nOne thing we tried was creating an HTTP server and `POST`ing the result to it via an `XMLHttpRequest`. This worked - but ended up costing about 200ms of latency and also introduced a [nasty memory leak](https://bugs.chromium.org/p/chromium/issues/detail?id=749482&amp;can=2&amp;start=0&amp;num=100&amp;q=&amp;colspec=ID%20Pri%20M%20Stars%20ReleaseBlock%20Component%20Status%20Owner%20Summary%20OS%20Modified&amp;groupby=&amp;sort=).\r\n\r\n### MessageChannels are slow\r\n\r\nAndroid API 23 added support for [`MessageChannel`](https://developer.mozilla.org/en-US/docs/Web/API/MessageChannel)s, which can be used via [`createWebMessageChannel()`](https://developer.android.com/reference/android/webkit/WebView.html#createWebMessageChannel()) as shown in [this answer](https://stackoverflow.com/questions/41753104/how-do-you-use-webmessageport-as-an-alternative-to-addjavascriptinterface). This is very slow, still serializes with GIN (like the `@JavascriptInterface` method) and incurs additional latency. I was not able to get this to work with reasonable performance.\r\n\r\nIt is worth mentioning that Google said they believe this is the way forward and hopes to promote message channels over `@JavascriptInterface` at some point.\r\n\r\n### Passing a string works\r\n\r\nAfter reading the conversion code - one can see (and this was confirmed by Google) that the only way to avoid many conversions is to pass a `String` value. This only goes through:\r\n\r\n    case JavaType::TypeString: {\r\n      std::string string_result;\r\n      value-&gt;GetAsString(&amp;string_result);\r\n      result.l = ConvertUTF8ToJavaString(env, string_result).Release();\r\n      break;\r\n    }\r\n\r\nWhich converts the result once to UTF8 and then again to a Java string. This still means the data (10MB in this case) is copied three times - but it is possible to pass 10MB of data in &quot;only&quot; 60ms - which is a lot more reasonable than the 10 seconds the above array method takes.\r\n\r\n[Petka](https://stackoverflow.com/users/995876/esailija) came up with the idea of using [8859](https://en.wikipedia.org/wiki/ISO/IEC_8859) encoding which can convert a single byte to a single letter. Unfortunately it is not supported in JavaScript&#39;s [TextDecoder](https://developer.mozilla.org/en-US/docs/Web/API/TextDecoder/TextDecoder) API - so [Windows-1252](https://en.wikipedia.org/wiki/Windows-1252) which is another 1 byte encoding can be used instead.\r\n\r\nOn the JavaScript side one can do:\r\n\r\n    var a = new Uint8Array(1024 * 1024 * 10); // your buffer\r\n    var b = a.buffer\r\n    // actually windows-1252 - but called iso-8859 in TextDecoder\r\n    var e = new TextDecoder(&quot;iso-8859-1&quot;); \r\n    var dec = e.decode(b);\r\n    proxy.onBytes(dec); // this is in the Java side.\r\n\r\nThen, in the Java side:\r\n\r\n    @JavascriptInterface\r\n    public void onBytes(String dec) throws UnsupportedEncodingException\r\n        byte[] bytes = dec.getBytes(&quot;windows-1252&quot;);\r\n        // work with bytes here\r\n    }\r\n\r\nWhich runs in about 1/8th the time of direct serialization. It&#39;s still not very fast (since the string is padded to 16 bits instead of 8, then through UTF8 and then to UTF16 again). However, it runs in reasonable speed compared to the alternative.\r\n\r\nAfter speaking with the relevant parties who are maintaining this code - they told me that it&#39;s as good as it can get with the current API. I was told I&#39;m the first person to ask for this (fast JavaScript to Java serialization).","title":"Is there a way to pass an arraybuffer from javascript to java on Android?","body":"<p>Ok, so following a chat with Google engineering and after reading the code I've reached the following conclusions.</p>\n\n<h3>Passing binary data efficiently is impossible</h3>\n\n<p>It is impossible to pass binary data efficiently between JavaScript and Java through a @JavascriptInterface:</p>\n\n<p>On the Java side:</p>\n\n<pre><code>@JavascriptInterface\nvoid onBytes(byte[] bytes) {\n   // bytes available here\n}\n</code></pre>\n\n<p>And on the JavaScript side: </p>\n\n<pre><code>var byteArray = new Uint8Array(buffer);\nvar arr = new Uint8Array(byteArray.length);\nfor(var i = 0; i &lt; byteArray.length; i++) {\n  arr[i] = byteArray[i];\n}\njavaObject.onBytes(arr);\n</code></pre>\n\n<p>In the code above (from my old answer) and in Alex's - <a href=\"https://cs.chromium.org/chromium/src/content/browser/android/java/gin_java_script_to_java_types_coercion.cc?q=gin_java_scr&amp;sq=package:chromium&amp;l=573\" rel=\"noreferrer\">the conversion performed for the array</a> is brutal:</p>\n\n<pre><code>case JavaType::TypeArray:\n  if (value-&gt;IsType(base::Value::Type::DICTIONARY)) {\n    result.l = CoerceJavaScriptDictionaryToArray(\n        env, value, target_type, object_refs, error);\n  } else if (value-&gt;IsType(base::Value::Type::LIST)) {\n    result.l = CoerceJavaScriptListToArray(\n        env, value, target_type, object_refs, error);\n  } else {\n    result.l = NULL;\n  }\n  break;\n</code></pre>\n\n<p>Which in turn <a href=\"https://cs.chromium.org/chromium/src/content/browser/android/java/gin_java_script_to_java_types_coercion.cc?q=gin_java_scr&amp;sq=package:chromium&amp;l=470\" rel=\"noreferrer\">coerces every array element to a Java object</a>:</p>\n\n<pre><code>for (jsize i = 0; i &lt; length; ++i) {\n    const base::Value* value_element = null_value.get();\n    list_value-&gt;Get(i, &amp;value_element);\n    jvalue element = CoerceJavaScriptValueToJavaValue(\n        env, value_element, target_inner_type, false, object_refs, error);\n    SetArrayElement(env, result, target_inner_type, i, element);\n</code></pre>\n\n<p>So, for a <code>1024 * 1024 * 10</code> <code>Uint8Array</code> - ten million Java objects are created and destroyed on each pass resulting in 10 seconds of CPU time on my emulator.</p>\n\n<h3>Creating an HTTP server</h3>\n\n<p>One thing we tried was creating an HTTP server and <code>POST</code>ing the result to it via an <code>XMLHttpRequest</code>. This worked - but ended up costing about 200ms of latency and also introduced a <a href=\"https://bugs.chromium.org/p/chromium/issues/detail?id=749482&amp;can=2&amp;start=0&amp;num=100&amp;q=&amp;colspec=ID%20Pri%20M%20Stars%20ReleaseBlock%20Component%20Status%20Owner%20Summary%20OS%20Modified&amp;groupby=&amp;sort=\" rel=\"noreferrer\">nasty memory leak</a>.</p>\n\n<h3>MessageChannels are slow</h3>\n\n<p>Android API 23 added support for <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/MessageChannel\" rel=\"noreferrer\"><code>MessageChannel</code></a>s, which can be used via <a href=\"https://developer.android.com/reference/android/webkit/WebView.html#createWebMessageChannel()\" rel=\"noreferrer\"><code>createWebMessageChannel()</code></a> as shown in <a href=\"https://stackoverflow.com/questions/41753104/how-do-you-use-webmessageport-as-an-alternative-to-addjavascriptinterface\">this answer</a>. This is very slow, still serializes with GIN (like the <code>@JavascriptInterface</code> method) and incurs additional latency. I was not able to get this to work with reasonable performance.</p>\n\n<p>It is worth mentioning that Google said they believe this is the way forward and hopes to promote message channels over <code>@JavascriptInterface</code> at some point.</p>\n\n<h3>Passing a string works</h3>\n\n<p>After reading the conversion code - one can see (and this was confirmed by Google) that the only way to avoid many conversions is to pass a <code>String</code> value. This only goes through:</p>\n\n<pre><code>case JavaType::TypeString: {\n  std::string string_result;\n  value-&gt;GetAsString(&amp;string_result);\n  result.l = ConvertUTF8ToJavaString(env, string_result).Release();\n  break;\n}\n</code></pre>\n\n<p>Which converts the result once to UTF8 and then again to a Java string. This still means the data (10MB in this case) is copied three times - but it is possible to pass 10MB of data in \"only\" 60ms - which is a lot more reasonable than the 10 seconds the above array method takes.</p>\n\n<p><a href=\"https://stackoverflow.com/users/995876/esailija\">Petka</a> came up with the idea of using <a href=\"https://en.wikipedia.org/wiki/ISO/IEC_8859\" rel=\"noreferrer\">8859</a> encoding which can convert a single byte to a single letter. Unfortunately it is not supported in JavaScript's <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/TextDecoder/TextDecoder\" rel=\"noreferrer\">TextDecoder</a> API - so <a href=\"https://en.wikipedia.org/wiki/Windows-1252\" rel=\"noreferrer\">Windows-1252</a> which is another 1 byte encoding can be used instead.</p>\n\n<p>On the JavaScript side one can do:</p>\n\n<pre><code>var a = new Uint8Array(1024 * 1024 * 10); // your buffer\nvar b = a.buffer\n// actually windows-1252 - but called iso-8859 in TextDecoder\nvar e = new TextDecoder(\"iso-8859-1\"); \nvar dec = e.decode(b);\nproxy.onBytes(dec); // this is in the Java side.\n</code></pre>\n\n<p>Then, in the Java side:</p>\n\n<pre><code>@JavascriptInterface\npublic void onBytes(String dec) throws UnsupportedEncodingException\n    byte[] bytes = dec.getBytes(\"windows-1252\");\n    // work with bytes here\n}\n</code></pre>\n\n<p>Which runs in about 1/8th the time of direct serialization. It's still not very fast (since the string is padded to 16 bits instead of 8, then through UTF8 and then to UTF16 again). However, it runs in reasonable speed compared to the alternative.</p>\n\n<p>After speaking with the relevant parties who are maintaining this code - they told me that it's as good as it can get with the current API. I was told I'm the first person to ask for this (fast JavaScript to Java serialization).</p>\n"},{"tags":[],"owner":{"account_id":11258378,"reputation":381,"user_id":8257388,"display_name":"张浩然"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1547104774,"creation_date":1547104315,"answer_id":54123534,"question_id":27034897,"body_markdown":"If you want **Sync** call, just use base64 encode &amp; decode: (https://stackoverflow.com/questions/21797299/convert-base64-string-to-arraybuffer/54123275#54123275)\r\n\r\n    @JavascriptInterface\r\n    void onBytes(String base64) {\r\n        // decode here\r\n    }\r\n\r\nIf you want **Async** call:\r\n\r\nYou can create http server in Android appliction, and then use &quot;xhr&quot; or &quot;fetch&quot; in javascript side to send binary or string async\r\n\r\n\r\n---\r\n**And don&#39;t use &quot;iso-8859-1&quot; or &quot;windows-1252&quot; mentioned above, it&#39;s dangerous !!!**  \r\n&quot;iso-8859-1&quot; has undefined code which can&#39;t be decode between javascript and java. (https://en.wikipedia.org/wiki/ISO/IEC_8859-1)","title":"Is there a way to pass an arraybuffer from javascript to java on Android?","body":"<p>If you want <strong>Sync</strong> call, just use base64 encode &amp; decode: (<a href=\"https://stackoverflow.com/questions/21797299/convert-base64-string-to-arraybuffer/54123275#54123275\">Convert base64 string to ArrayBuffer</a>)</p>\n\n<pre><code>@JavascriptInterface\nvoid onBytes(String base64) {\n    // decode here\n}\n</code></pre>\n\n<p>If you want <strong>Async</strong> call:</p>\n\n<p>You can create http server in Android appliction, and then use \"xhr\" or \"fetch\" in javascript side to send binary or string async</p>\n\n<hr>\n\n<p><strong>And don't use \"iso-8859-1\" or \"windows-1252\" mentioned above, it's dangerous !!!</strong><br>\n\"iso-8859-1\" has undefined code which can't be decode between javascript and java. (<a href=\"https://en.wikipedia.org/wiki/ISO/IEC_8859-1\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/ISO/IEC_8859-1</a>)</p>\n"},{"tags":[],"owner":{"account_id":42200,"reputation":571,"user_id":122875,"display_name":"dominic"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637873364,"creation_date":1637873364,"answer_id":70117090,"question_id":27034897,"body_markdown":"the code linked in the second answer https://source.chromium.org/chromium/chromium/src/+/master:content/browser/android/java/gin_java_script_to_java_types_coercion.cc;l=628?q=gin_java_scr&amp;ss=chromium\r\n\r\ndoesn&#39;t actually understand TypedArrays (it looks like it does because it says TypeArray but, everything in that file is TypeXZY)\r\n\r\nSo I can definitely imagine that it&#39;s faster to copy a string.\r\nHowever, there is no reason that it shouldn&#39;t be able to pass a typed array without copying, or at least with just a single raw copy.\r\n\r\nIt would require a patch to chromium though.","title":"Is there a way to pass an arraybuffer from javascript to java on Android?","body":"<p>the code linked in the second answer <a href=\"https://source.chromium.org/chromium/chromium/src/+/master:content/browser/android/java/gin_java_script_to_java_types_coercion.cc;l=628?q=gin_java_scr&amp;ss=chromium\" rel=\"nofollow noreferrer\">https://source.chromium.org/chromium/chromium/src/+/master:content/browser/android/java/gin_java_script_to_java_types_coercion.cc;l=628?q=gin_java_scr&amp;ss=chromium</a></p>\n<p>doesn't actually understand TypedArrays (it looks like it does because it says TypeArray but, everything in that file is TypeXZY)</p>\n<p>So I can definitely imagine that it's faster to copy a string.\nHowever, there is no reason that it shouldn't be able to pass a typed array without copying, or at least with just a single raw copy.</p>\n<p>It would require a patch to chromium though.</p>\n"},{"tags":[],"owner":{"account_id":11815404,"reputation":27,"user_id":8645742,"display_name":"Peter Yu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643337901,"creation_date":1643337901,"answer_id":70888257,"question_id":27034897,"body_markdown":"in my case, app tranfers blob data each other without a http server, so there&#39;s no choice but to send arrayBuffer to javainterface, as follows:\r\n\r\n    //javascript\r\n    if ((window as any)?.JsBridge?.downloadFile) {\r\n          file.arrayBuffer().then(arr =&gt; {\r\n            (window as any)?.JsBridge?.downloadFile(new Uint8Array(arr), filename)\r\n          })\r\n    }\r\n    //java\r\n    @JavascriptInterface\r\n    public void downloadFile(byte[] bytes, String filename) {\r\n        NativeApi.log(&quot;downloadFile&quot;, filename + &quot;,&quot; + bytes.length);\r\n    }\r\nby the way, the file limit to 10M, toast something after asyncTask processed!","title":"Is there a way to pass an arraybuffer from javascript to java on Android?","body":"<p>in my case, app tranfers blob data each other without a http server, so there's no choice but to send arrayBuffer to javainterface, as follows:</p>\n<pre><code>//javascript\nif ((window as any)?.JsBridge?.downloadFile) {\n      file.arrayBuffer().then(arr =&gt; {\n        (window as any)?.JsBridge?.downloadFile(new Uint8Array(arr), filename)\n      })\n}\n//java\n@JavascriptInterface\npublic void downloadFile(byte[] bytes, String filename) {\n    NativeApi.log(&quot;downloadFile&quot;, filename + &quot;,&quot; + bytes.length);\n}\n</code></pre>\n<p>by the way, the file limit to 10M, toast something after asyncTask processed!</p>\n"}],"owner":{"account_id":5362627,"reputation":205,"user_id":4273419,"display_name":"youpi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13382,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"answer_count":7,"score":17,"last_activity_date":1643337901,"creation_date":1416472014,"question_id":27034897,"body_markdown":"I&#39;m stuck for a moment on this case.\r\n\r\nI have a webview on `Android 4.4.3` where I have a webapp who has `float32array` containing binary data. I would like to pass that `array` to the Java Android via a function binded with `JavascriptInterface`. \r\nHowever, it seems like in Java, I can only pass primitive types like `String`, `int` etc... \r\n\r\nIs there a way to give to Java this arrayBuffer ? \r\n\r\nThank you ! \r\n","title":"Is there a way to pass an arraybuffer from javascript to java on Android?","body":"<p>I'm stuck for a moment on this case.</p>\n\n<p>I have a webview on <code>Android 4.4.3</code> where I have a webapp who has <code>float32array</code> containing binary data. I would like to pass that <code>array</code> to the Java Android via a function binded with <code>JavascriptInterface</code>. \nHowever, it seems like in Java, I can only pass primitive types like <code>String</code>, <code>int</code> etc... </p>\n\n<p>Is there a way to give to Java this arrayBuffer ? </p>\n\n<p>Thank you ! </p>\n"},{"tags":["java","unit-testing","mockito","vert.x","asynccallback"],"comments":[{"owner":{"account_id":2446461,"reputation":8725,"user_id":2133695,"display_name":"tsegismont"},"score":0,"creation_date":1513872154,"post_id":47924091,"comment_id":82825653,"body_markdown":"Take a look at https://fernandocejas.com/2014/04/08/unit-testing-asynchronous-methods-with-mockito/","body":"Take a look at <a href=\"https://fernandocejas.com/2014/04/08/unit-testing-asynchronous-methods-with-mockito/\" rel=\"nofollow noreferrer\">fernandocejas.com/2014/04/08/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":694347,"reputation":1752,"user_id":571879,"accept_rate":82,"display_name":"Francesco"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1519719624,"creation_date":1519680261,"answer_id":48997334,"question_id":47924091,"body_markdown":"Finally I got some times to investigate and I made it. Here is my solution.\r\n\r\n    @RunWith(PowerMockRunner.class)\r\n    @PowerMockRunnerDelegate(VertxUnitRunner.class)\r\n    @PrepareForTest({ MongoClient.class })\r\n    public class PersistenceTest {\r\n\r\n    private MongoClient mongo;\r\n    private Vertx vertx;\r\n\r\n    @Before\r\n    public void initSingleTest(TestContext ctx) throws Exception {\r\n\t  vertx = Vertx.vertx();\r\n\t  mongo = Mockito.mock(MongoClient.class);\r\n\t  PowerMockito.mockStatic(MongoClient.class);\r\n\t  PowerMockito.when(MongoClient.createShared(Mockito.any(), Mockito.any())).thenReturn(mongo);\r\n\t  vertx.deployVerticle(Persistence.class, new DeploymentOptions(), ctx.asyncAssertSuccess());\r\n    }\r\n\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    @Test\r\n    public void loadSomeDocs(TestContext ctx) {\r\n\t  Doc expected = new Doc();\r\n\t  expected.setName(&quot;report&quot;);\r\n\t  expected.setPreview(&quot;loremipsum&quot;);\r\n\t  Message&lt;JsonObject&gt; msg = Mockito.mock(Message.class);\r\n\t  Mockito.when(msg.body()).thenReturn(JsonObject.mapFrom(expected));\r\n\t  JsonObject result = new JsonObject().put(&quot;name&quot;, &quot;report&quot;).put(&quot;preview&quot;, &quot;loremipsum&quot;);\r\n\t  AsyncResult&lt;JsonObject&gt; asyncResult = Mockito.mock(AsyncResult.class);\r\n\t  Mockito.when(asyncResult.succeeded()).thenReturn(true);\r\n\t  Mockito.when(asyncResult.result()).thenReturn(result);\r\n\t  Mockito.doAnswer(new Answer&lt;AsyncResult&lt;JsonObject&gt;&gt;() {\r\n\t    @Override\r\n\t    public AsyncResult&lt;JsonObject&gt; answer(InvocationOnMock arg0) throws Throwable {\r\n\t\t((Handler&lt;AsyncResult&lt;JsonObject&gt;&gt;) arg0.getArgument(3)).handle(asyncResult);\r\n\t\treturn null;\r\n\t    }\r\n\t  }).when(mongo).findOne(Mockito.any(), Mockito.any(), Mockito.any(), Mockito.any());\r\n\t  Async async = ctx.async();\r\n\t  vertx.eventBus().send(&quot;persistence&quot;, new JsonObject(), msgh -&gt; {\r\n\t    if (msgh.failed()) {\r\n\t\tSystem.out.println(msgh.cause().getMessage());\r\n\t    }\r\n\t    ctx.assertTrue(msgh.succeeded());\r\n\t    ctx.assertEquals(expected, Json.decodeValue(msgh.result().body().toString(), Doc.class));\r\n\t    async.complete();\r\n\t  });\r\n\t  async.await();\r\n      }\r\n    }\r\n\r\nUse `Powemockito` to mock the `MongoClient.createShared` static method, so you&#39;ll have your mock when verticle starts. Mocking async handler is a bit of code to write. As you can see mocking start at `Message&lt;JsonObject&gt; msg = Mockito.mock(Message.class);` and ends at `Mockito.doAnswer(new Answer...`. In the `Answer`&#39;s method pick the handler param and force it to handle your async result then you&#39;re done.","title":"Mocking a Vertx.io async handler","body":"<p>Finally I got some times to investigate and I made it. Here is my solution.</p>\n\n<pre><code>@RunWith(PowerMockRunner.class)\n@PowerMockRunnerDelegate(VertxUnitRunner.class)\n@PrepareForTest({ MongoClient.class })\npublic class PersistenceTest {\n\nprivate MongoClient mongo;\nprivate Vertx vertx;\n\n@Before\npublic void initSingleTest(TestContext ctx) throws Exception {\n  vertx = Vertx.vertx();\n  mongo = Mockito.mock(MongoClient.class);\n  PowerMockito.mockStatic(MongoClient.class);\n  PowerMockito.when(MongoClient.createShared(Mockito.any(), Mockito.any())).thenReturn(mongo);\n  vertx.deployVerticle(Persistence.class, new DeploymentOptions(), ctx.asyncAssertSuccess());\n}\n\n@SuppressWarnings(\"unchecked\")\n@Test\npublic void loadSomeDocs(TestContext ctx) {\n  Doc expected = new Doc();\n  expected.setName(\"report\");\n  expected.setPreview(\"loremipsum\");\n  Message&lt;JsonObject&gt; msg = Mockito.mock(Message.class);\n  Mockito.when(msg.body()).thenReturn(JsonObject.mapFrom(expected));\n  JsonObject result = new JsonObject().put(\"name\", \"report\").put(\"preview\", \"loremipsum\");\n  AsyncResult&lt;JsonObject&gt; asyncResult = Mockito.mock(AsyncResult.class);\n  Mockito.when(asyncResult.succeeded()).thenReturn(true);\n  Mockito.when(asyncResult.result()).thenReturn(result);\n  Mockito.doAnswer(new Answer&lt;AsyncResult&lt;JsonObject&gt;&gt;() {\n    @Override\n    public AsyncResult&lt;JsonObject&gt; answer(InvocationOnMock arg0) throws Throwable {\n    ((Handler&lt;AsyncResult&lt;JsonObject&gt;&gt;) arg0.getArgument(3)).handle(asyncResult);\n    return null;\n    }\n  }).when(mongo).findOne(Mockito.any(), Mockito.any(), Mockito.any(), Mockito.any());\n  Async async = ctx.async();\n  vertx.eventBus().send(\"persistence\", new JsonObject(), msgh -&gt; {\n    if (msgh.failed()) {\n    System.out.println(msgh.cause().getMessage());\n    }\n    ctx.assertTrue(msgh.succeeded());\n    ctx.assertEquals(expected, Json.decodeValue(msgh.result().body().toString(), Doc.class));\n    async.complete();\n  });\n  async.await();\n  }\n}\n</code></pre>\n\n<p>Use <code>Powemockito</code> to mock the <code>MongoClient.createShared</code> static method, so you'll have your mock when verticle starts. Mocking async handler is a bit of code to write. As you can see mocking start at <code>Message&lt;JsonObject&gt; msg = Mockito.mock(Message.class);</code> and ends at <code>Mockito.doAnswer(new Answer...</code>. In the <code>Answer</code>'s method pick the handler param and force it to handle your async result then you're done.</p>\n"},{"tags":[],"owner":{"account_id":309797,"reputation":5286,"user_id":622440,"accept_rate":77,"display_name":"Domenic D."},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1643337557,"creation_date":1586220927,"answer_id":61071181,"question_id":47924091,"body_markdown":"Normally, I&#39;d use a comment to post this, but formatting gets lost. The accepted solution is works great, just note that it can be simplified a bit using Java 8+, and you can use your actual objects instead of JSON.\r\n\r\n\r\n    doAnswer((Answer&lt;AsyncResult&lt;List&lt;Sample&gt;&gt;&gt;) arguments -&gt; {\r\n                ((Handler&lt;AsyncResult&lt;List&lt;Sample&gt;&gt;&gt;) arguments.getArgument(1)).handle(asyncResult);\r\n                return null;\r\n            }).when(sampleService).findSamplesBySampleFilter(any(), any());\r\n\r\ngetArgument(1), refers to the index of the handler argument in a method such as: \r\n\r\n    @Fluent\r\n    @Nonnull\r\n    SampleService findSamplesBySampleFilter(@Nonnull final SampleFilter sampleFilter,\r\n                                      @Nonnull final Handler&lt;AsyncResult&lt;List&lt;Sample&gt;&gt;&gt; resultHandler);","title":"Mocking a Vertx.io async handler","body":"<p>Normally, I'd use a comment to post this, but formatting gets lost. The accepted solution is works great, just note that it can be simplified a bit using Java 8+, and you can use your actual objects instead of JSON.</p>\n<pre><code>doAnswer((Answer&lt;AsyncResult&lt;List&lt;Sample&gt;&gt;&gt;) arguments -&gt; {\n            ((Handler&lt;AsyncResult&lt;List&lt;Sample&gt;&gt;&gt;) arguments.getArgument(1)).handle(asyncResult);\n            return null;\n        }).when(sampleService).findSamplesBySampleFilter(any(), any());\n</code></pre>\n<p>getArgument(1), refers to the index of the handler argument in a method such as:</p>\n<pre><code>@Fluent\n@Nonnull\nSampleService findSamplesBySampleFilter(@Nonnull final SampleFilter sampleFilter,\n                                  @Nonnull final Handler&lt;AsyncResult&lt;List&lt;Sample&gt;&gt;&gt; resultHandler);\n</code></pre>\n"}],"owner":{"account_id":694347,"reputation":1752,"user_id":571879,"accept_rate":82,"display_name":"Francesco"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8906,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":48997334,"answer_count":2,"score":8,"last_activity_date":1643337557,"creation_date":1513856078,"question_id":47924091,"body_markdown":"when I was sync I wrote unit tests mocking the persistence part and check the caller&#39;s behavior. Here is an example about what I usually did:\r\n\r\n    @Mock\r\n    private OfferPersistenceServiceImpl persistenceService;\r\n    @Inject\r\n    @InjectMocks\r\n    private OfferServiceImpl offerService;\r\n    ...\r\n    @Test\r\n    public void createInvalidOffer() {\r\n\t  offer = new Offer(null, null, null, null, null, 4, 200D, 90D);\r\n\t  String expectedMessage = Offer.class.getName() + &quot; is not valid: &quot; + offer.toString();\r\n\t  Mockito.when(persistenceService.create(offer)).thenThrow(new IllegalArgumentException(expectedMessage));\r\n\t  Response response = offerService.create(offer);\r\n\t  Mockito.verify(persistenceService, Mockito.times(1)).create(offer);\r\n\t  Assert.assertEquals(INVALID_INPUT, response.getStatus());\r\n\t  String actualMessage = response.getEntity().toString();\r\n\t  Assert.assertEquals(expectedMessage, actualMessage);\r\n    }\r\nBut now I fell in love with Vertx.io (to which I am pretty new) and I want to be async. Nice. But Vertx has handlers, so the new persistence component to mock looks like this:\r\n\r\n    ...\r\n    mongoClient.insert(COLLECTION, offer, h-&gt; {\r\n      ...\r\n    });\r\n\r\nSo I am guessing how to mock handler `h` to tests class who&#39;s using that `mongoClient` or even if it is the right way to test with Vertx.io. I am using `vertx.io 3.5.0`, `junit 4.12` and `mockito 2.13.0`. Thanks.\r\n\r\n**Update**\r\nI tried to follow tsegimond suggestion but I can&#39;t get how Mockito&#39;s `Answer` and `ArgumentCaptor` can help me. Here is what I tried so far.\r\nUsing `ArgumentCaptor`:\r\n\r\n    JsonObject offer = Mockito.mock(JsonObject.class);\r\n    Mockito.when(msg.body()).thenReturn(offer);  \t\t\r\n    Mockito.doNothing().when(offerMongo).validate(offer);\r\n    RuntimeException rex = new RuntimeException(&quot;some message&quot;);\r\n    ...\r\n    ArgumentCaptor&lt;Handler&lt;AsyncResult&lt;String&gt;&gt;&gt; handlerCaptor =\r\n\tArgumentCaptor.forClass(Handler.class);\r\n\tArgumentCaptor&lt;AsyncResult&lt;String&gt;&gt; asyncResultCaptor =\r\n\tArgumentCaptor.forClass(AsyncResult.class);\r\n\tofferMongo.create(msg);\r\n    Mockito.verify(mongoClient,\r\n\tMockito.times(1)).insert(Mockito.anyString(), Mockito.any(), handlerCaptor.capture());\r\n\tMockito.verify(handlerCaptor.getValue(),\r\n\tMockito.times(1)).handle(asyncResultCaptor.capture());\r\n\tMockito.when(asyncResultCaptor.getValue().succeeded()).thenReturn(false);\r\n\tMockito.when(asyncResultCaptor.getValue().cause()).thenReturn(rex);\r\n\tAssert.assertEquals(Json.encode(rex), msg.body().encode());\r\n\r\nand using `Answer`:\r\n\r\n    ArgumentCaptor&lt;AsyncResult&lt;String&gt;&gt; handlerCaptor =\r\n\tArgumentCaptor.forClass(AsyncResult.class);\r\n\tAsyncResult&lt;String&gt; result = Mockito.mock(AsyncResult.class);\r\n\tMockito.when(result.succeeded()).thenReturn(true);\r\n\tMockito.when(result.cause()).thenReturn(rex);\r\n\tMockito.doAnswer(new Answer&lt;MongoClient&gt;() {\r\n\t  @Override\r\n\t  public MongoClient answer(InvocationOnMock invocation) throws Throwable {\r\n\t\t((Handler&lt;AsyncResult&lt;String&gt;&gt;)\r\n\t\tinvocation.getArguments()[2]).handle(handlerCaptor.capture());\r\n\t\t    return null;\r\n\t\t  }\r\n\t    }).when(mongoClient).insert(Mockito.anyString(), Mockito.any(),\r\n\tMockito.any());\r\n\tuserMongo.create(msg);\r\n\tAssert.assertEquals(Json.encode(rex), msg.body().encode());\r\n\r\nAnd now I got confused. Is there a way to mock an `AsyncResult` to let it return false on `succeed()`?","title":"Mocking a Vertx.io async handler","body":"<p>when I was sync I wrote unit tests mocking the persistence part and check the caller's behavior. Here is an example about what I usually did:</p>\n\n<pre><code>@Mock\nprivate OfferPersistenceServiceImpl persistenceService;\n@Inject\n@InjectMocks\nprivate OfferServiceImpl offerService;\n...\n@Test\npublic void createInvalidOffer() {\n  offer = new Offer(null, null, null, null, null, 4, 200D, 90D);\n  String expectedMessage = Offer.class.getName() + \" is not valid: \" + offer.toString();\n  Mockito.when(persistenceService.create(offer)).thenThrow(new IllegalArgumentException(expectedMessage));\n  Response response = offerService.create(offer);\n  Mockito.verify(persistenceService, Mockito.times(1)).create(offer);\n  Assert.assertEquals(INVALID_INPUT, response.getStatus());\n  String actualMessage = response.getEntity().toString();\n  Assert.assertEquals(expectedMessage, actualMessage);\n}\n</code></pre>\n\n<p>But now I fell in love with Vertx.io (to which I am pretty new) and I want to be async. Nice. But Vertx has handlers, so the new persistence component to mock looks like this:</p>\n\n<pre><code>...\nmongoClient.insert(COLLECTION, offer, h-&gt; {\n  ...\n});\n</code></pre>\n\n<p>So I am guessing how to mock handler <code>h</code> to tests class who's using that <code>mongoClient</code> or even if it is the right way to test with Vertx.io. I am using <code>vertx.io 3.5.0</code>, <code>junit 4.12</code> and <code>mockito 2.13.0</code>. Thanks.</p>\n\n<p><strong>Update</strong>\nI tried to follow tsegimond suggestion but I can't get how Mockito's <code>Answer</code> and <code>ArgumentCaptor</code> can help me. Here is what I tried so far.\nUsing <code>ArgumentCaptor</code>:</p>\n\n<pre><code>JsonObject offer = Mockito.mock(JsonObject.class);\nMockito.when(msg.body()).thenReturn(offer);         \nMockito.doNothing().when(offerMongo).validate(offer);\nRuntimeException rex = new RuntimeException(\"some message\");\n...\nArgumentCaptor&lt;Handler&lt;AsyncResult&lt;String&gt;&gt;&gt; handlerCaptor =\nArgumentCaptor.forClass(Handler.class);\nArgumentCaptor&lt;AsyncResult&lt;String&gt;&gt; asyncResultCaptor =\nArgumentCaptor.forClass(AsyncResult.class);\nofferMongo.create(msg);\nMockito.verify(mongoClient,\nMockito.times(1)).insert(Mockito.anyString(), Mockito.any(), handlerCaptor.capture());\nMockito.verify(handlerCaptor.getValue(),\nMockito.times(1)).handle(asyncResultCaptor.capture());\nMockito.when(asyncResultCaptor.getValue().succeeded()).thenReturn(false);\nMockito.when(asyncResultCaptor.getValue().cause()).thenReturn(rex);\nAssert.assertEquals(Json.encode(rex), msg.body().encode());\n</code></pre>\n\n<p>and using <code>Answer</code>:</p>\n\n<pre><code>ArgumentCaptor&lt;AsyncResult&lt;String&gt;&gt; handlerCaptor =\nArgumentCaptor.forClass(AsyncResult.class);\nAsyncResult&lt;String&gt; result = Mockito.mock(AsyncResult.class);\nMockito.when(result.succeeded()).thenReturn(true);\nMockito.when(result.cause()).thenReturn(rex);\nMockito.doAnswer(new Answer&lt;MongoClient&gt;() {\n  @Override\n  public MongoClient answer(InvocationOnMock invocation) throws Throwable {\n    ((Handler&lt;AsyncResult&lt;String&gt;&gt;)\n    invocation.getArguments()[2]).handle(handlerCaptor.capture());\n        return null;\n      }\n    }).when(mongoClient).insert(Mockito.anyString(), Mockito.any(),\nMockito.any());\nuserMongo.create(msg);\nAssert.assertEquals(Json.encode(rex), msg.body().encode());\n</code></pre>\n\n<p>And now I got confused. Is there a way to mock an <code>AsyncResult</code> to let it return false on <code>succeed()</code>?</p>\n"},{"tags":["java","mysql","spring-boot","heroku","cleardb"],"comments":[{"owner":{"account_id":145051,"reputation":130089,"user_id":354577,"accept_rate":100,"display_name":"Chris"},"score":1,"creation_date":1642526971,"post_id":70759516,"comment_id":125092267,"body_markdown":"Welcome to Stack Overflow. [HTTP 500](https://en.wikipedia.org/wiki/List_of_HTTP_status_codes#5xx_Server_Error) is a generic server-side error message. On its own it doesn&#39;t tell us anything useful. Any time you see this your first step should be to check your error logs for more detail. On Heroku, you can do this by running [`heroku logs`](https://devcenter.heroku.com/articles/heroku-cli-commands#heroku-logs).","body":"Welcome to Stack Overflow. <a href=\"https://en.wikipedia.org/wiki/List_of_HTTP_status_codes#5xx_Server_Error\" rel=\"nofollow noreferrer\">HTTP 500</a> is a generic server-side error message. On its own it doesn&#39;t tell us anything useful. Any time you see this your first step should be to check your error logs for more detail. On Heroku, you can do this by running <a href=\"https://devcenter.heroku.com/articles/heroku-cli-commands#heroku-logs\" rel=\"nofollow noreferrer\"><code>heroku logs</code></a>."},{"owner":{"account_id":19626347,"reputation":1,"user_id":14476702,"display_name":"Aleksandr Kasyuk"},"score":0,"creation_date":1642529990,"post_id":70759516,"comment_id":125093507,"body_markdown":"@Chris, Thank you, but ERROR 4[io-57013-exec-3] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.thymeleaf.exceptions.TemplateInputException: Error resolving template [home], template might not exist or might not be accessible by any of the configured Template Resolvers] with root cause. **My home.html is locate default src/main/resources/Templates/home.html and thymeleaf have connecting &lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt; . I don`t see promblem here.**","body":"@Chris, Thank you, but ERROR 4[io-57013-exec-3] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.thymeleaf.exceptions.TemplateInputException: Error resolving template [home], template might not exist or might not be accessible by any of the configured Template Resolvers] with root cause. <b>My home.html is locate default src/main/resources/Templates/home.html and thymeleaf have connecting &lt;html xmlns:th=&quot;<a href=\"http://www.thymeleaf.org\" rel=\"nofollow noreferrer\">thymeleaf.org</a>&quot;&gt; . I don`t see promblem here.</b>"},{"owner":{"account_id":145051,"reputation":130089,"user_id":354577,"accept_rate":100,"display_name":"Chris"},"score":1,"creation_date":1642531601,"post_id":70759516,"comment_id":125094099,"body_markdown":"You might not see a problem, but that&#39;s why you&#39;re here asking a question. Others might see something you missed. Please [edit] that into your question as a code block along with any other error messages that might precede it.","body":"You might not see a problem, but that&#39;s why you&#39;re here asking a question. Others might see something you missed. Please <a href=\"https://stackoverflow.com/posts/70759516/edit\">edit</a> that into your question as a code block along with any other error messages that might precede it."},{"owner":{"account_id":19626347,"reputation":1,"user_id":14476702,"display_name":"Aleksandr Kasyuk"},"score":0,"creation_date":1642532016,"post_id":70759516,"comment_id":125094238,"body_markdown":"@Chris, Thank you very much. Edited the question :)","body":"@Chris, Thank you very much. Edited the question :)"}],"answers":[{"tags":[],"owner":{"account_id":19626347,"reputation":1,"user_id":14476702,"display_name":"Aleksandr Kasyuk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1642582192,"creation_date":1642537523,"answer_id":70761966,"question_id":70759516,"body_markdown":"Problem solved by changing the folder structure:\r\n\r\nsrc/main/resources/**Templates** -&gt; src/main/resources/**templates**\r\n\r\nPS:\r\nFolder names must be strictly followed for Heroku in this case.","title":"Spring Boot + ClearDB mySQL App deploy Heroku problem","body":"<p>Problem solved by changing the folder structure:</p>\n<p>src/main/resources/<strong>Templates</strong> -&gt; src/main/resources/<strong>templates</strong></p>\n<p>PS:\nFolder names must be strictly followed for Heroku in this case.</p>\n"}],"owner":{"account_id":19626347,"reputation":1,"user_id":14476702,"display_name":"Aleksandr Kasyuk"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":142,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70761966,"answer_count":1,"score":0,"last_activity_date":1643337024,"creation_date":1642525334,"question_id":70759516,"body_markdown":"I tried to deploy the application on Heroku, but after **connecting ClearDB mySQL I get an error 500**.\r\n\r\n**heroku logs:** \r\n\r\n    2022-01-18 18:09:20.331 ERROR 4 --- [io-57013-exec-3] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.thymeleaf.exceptions.TemplateInputException: Error resolving template [home], template might not exist or might not be accessible by any of the configured Template Resolvers] with root cause\r\n    2022-01-18T18:09:20.332252+00:00 app[web.1]:\r\n    2022-01-18T18:09:20.332253+00:00 app[web.1]: org.thymeleaf.exceptions.TemplateInputException: Error resolving template [home], template might not exist or might not be accessible by any of the configured Template Resolvers\r\n\r\n","title":"Spring Boot + ClearDB mySQL App deploy Heroku problem","body":"<p>I tried to deploy the application on Heroku, but after <strong>connecting ClearDB mySQL I get an error 500</strong>.</p>\n<p><strong>heroku logs:</strong></p>\n<pre><code>2022-01-18 18:09:20.331 ERROR 4 --- [io-57013-exec-3] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.thymeleaf.exceptions.TemplateInputException: Error resolving template [home], template might not exist or might not be accessible by any of the configured Template Resolvers] with root cause\n2022-01-18T18:09:20.332252+00:00 app[web.1]:\n2022-01-18T18:09:20.332253+00:00 app[web.1]: org.thymeleaf.exceptions.TemplateInputException: Error resolving template [home], template might not exist or might not be accessible by any of the configured Template Resolvers\n</code></pre>\n"},{"tags":["java","spring","list","sorting"],"answers":[{"tags":[],"owner":{"account_id":19833403,"reputation":571,"user_id":14527497,"display_name":"dangerousmanleesanghyeon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643335721,"creation_date":1643335721,"answer_id":70888053,"question_id":70882298,"body_markdown":"is delas have shareId ? then try this \r\n\r\n\r\n```java\r\nmodel.addAttribute(&quot;deals&quot;, deals.stream().filter(t-&gt;t.getShareId() == shareId));\r\n\r\n```\r\n\r\nusing java lambda filter\r\n","title":"Needing help sorting through a list in JAVA using Spring","body":"<p>is delas have shareId ? then try this</p>\n<pre class=\"lang-java prettyprint-override\"><code>model.addAttribute(&quot;deals&quot;, deals.stream().filter(t-&gt;t.getShareId() == shareId));\n\n</code></pre>\n<p>using java lambda filter</p>\n"}],"owner":{"account_id":24074344,"reputation":1,"user_id":18049894,"display_name":"Sabroad1982"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643335721,"creation_date":1643301474,"question_id":70882298,"body_markdown":"New and learning Java, using Spring.  Having some issues and just looking for a little direction.  I am creating a social app.  how can i sort my &quot;deal&quot; comments so i can only see those &quot;deal&quot; comments made for that specific &quot;share&quot;?  Users can make a share and on that share page users can make deal(more comments for that share only)  I have a list but that will show ALL the deals made, and that isn&#39;t what i want...\r\n\r\nHOME CONTROLLER\r\n```java\r\n\t@GetMapping(&quot;/{collectorId}/share/{id}&quot;)\r\n\tpublic String LetMakeADeal(@PathVariable(&quot;id&quot;) Long shareId, @ModelAttribute(&quot;newDeal&quot;) Deal theDeal,  Collector collector, Model model, HttpSession session, BindingResult result) {\r\n\t\tShare share = shareService.getOneShare(shareId);\r\n\t\tCollector collector1=collectorService.findCollectorById((Long) session.getAttribute(&quot;collectorId&quot;));\r\n\t\tList&lt;Deal&gt; deals = this.dealService.allDeals();\r\n\t\tmodel.addAttribute(&quot;collector&quot;,collector1);\r\n\t\tmodel.addAttribute(&quot;share&quot;, share);\r\n\t\tmodel.addAttribute(&quot;collectorLoggedIn&quot;,(Long)session.getAttribute(&quot;collectorId&quot;));\r\n\t\tmodel.addAttribute(&quot;deals&quot;, deals);\r\n\t\tsession.setAttribute(&quot;collectorId&quot;, collector1.getId());\r\n\t\tsession.setAttribute(&quot;collector&quot;, collector1.getId());\t\t\r\n\t\treturn &quot;dealwall.jsp&quot;;\r\n\t}\r\n```\r\nMY DEALWALL.JSP PAGE\r\n\r\n\t\t\t&lt;c:forEach items=&quot;${deals}&quot; var=&quot;deal&quot;&gt;\r\n\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\t&lt;c:out value=&quot;${deal.collector.firstName }&quot;/&gt; Said:  &lt;c:out value=&quot;${deal.deal }&quot;/&gt;&lt;br&gt;\r\n\t\t\t\t\t&lt;c:if test=&quot;${deal.collector.id==collectorLoggedIn}&quot;&gt;\r\n\t\t\t\t\t&lt;br&gt;\r\n\t\t\t\t\t&lt;a class=&quot;button button1&quot; href=&quot;/deal/delete/${collector.id }/${deal.id }&quot;&gt;Delete&lt;/a&gt;\r\n\t\t\t\t\t&lt;/c:if&gt;\r\n\r\n\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t&lt;/c:forEach&gt;\t\r\n\t","title":"Needing help sorting through a list in JAVA using Spring","body":"<p>New and learning Java, using Spring.  Having some issues and just looking for a little direction.  I am creating a social app.  how can i sort my &quot;deal&quot; comments so i can only see those &quot;deal&quot; comments made for that specific &quot;share&quot;?  Users can make a share and on that share page users can make deal(more comments for that share only)  I have a list but that will show ALL the deals made, and that isn't what i want...</p>\n<p>HOME CONTROLLER</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @GetMapping(&quot;/{collectorId}/share/{id}&quot;)\n    public String LetMakeADeal(@PathVariable(&quot;id&quot;) Long shareId, @ModelAttribute(&quot;newDeal&quot;) Deal theDeal,  Collector collector, Model model, HttpSession session, BindingResult result) {\n        Share share = shareService.getOneShare(shareId);\n        Collector collector1=collectorService.findCollectorById((Long) session.getAttribute(&quot;collectorId&quot;));\n        List&lt;Deal&gt; deals = this.dealService.allDeals();\n        model.addAttribute(&quot;collector&quot;,collector1);\n        model.addAttribute(&quot;share&quot;, share);\n        model.addAttribute(&quot;collectorLoggedIn&quot;,(Long)session.getAttribute(&quot;collectorId&quot;));\n        model.addAttribute(&quot;deals&quot;, deals);\n        session.setAttribute(&quot;collectorId&quot;, collector1.getId());\n        session.setAttribute(&quot;collector&quot;, collector1.getId());      \n        return &quot;dealwall.jsp&quot;;\n    }\n</code></pre>\n<p>MY DEALWALL.JSP PAGE</p>\n<pre><code>        &lt;c:forEach items=&quot;${deals}&quot; var=&quot;deal&quot;&gt;\n                \n                \n                &lt;c:out value=&quot;${deal.collector.firstName }&quot;/&gt; Said:  &lt;c:out value=&quot;${deal.deal }&quot;/&gt;&lt;br&gt;\n                &lt;c:if test=&quot;${deal.collector.id==collectorLoggedIn}&quot;&gt;\n                &lt;br&gt;\n                &lt;a class=&quot;button button1&quot; href=&quot;/deal/delete/${collector.id }/${deal.id }&quot;&gt;Delete&lt;/a&gt;\n                &lt;/c:if&gt;\n\n                \n                \n        &lt;/c:forEach&gt;    \n</code></pre>\n"},{"tags":["java","swing","jframe"],"comments":[{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":0,"creation_date":1512319431,"post_id":47620626,"comment_id":82199251,"body_markdown":"https://docs.oracle.com/javase/tutorial/uiswing/concurrency/initial.html","body":"<a href=\"https://docs.oracle.com/javase/tutorial/uiswing/concurrency/initial.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/uiswing/concurrency/&hellip;</a>"},{"owner":{"account_id":10650680,"reputation":37,"user_id":7841753,"display_name":"G.B"},"score":0,"creation_date":1512320414,"post_id":47620626,"comment_id":82199550,"body_markdown":"But that is still not working@JB NIzet","body":"But that is still not working@JB NIzet"},{"owner":{"account_id":10650680,"reputation":37,"user_id":7841753,"display_name":"G.B"},"score":0,"creation_date":1512320431,"post_id":47620626,"comment_id":82199556,"body_markdown":"The same code tends to work on windows and not on mac","body":"The same code tends to work on windows and not on mac"},{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":1,"creation_date":1512322224,"post_id":47620626,"comment_id":82200199,"body_markdown":"It works fine here (before, and after fixing the code, but you should definitely respect the threading rules).","body":"It works fine here (before, and after fixing the code, but you should definitely respect the threading rules)."},{"owner":{"account_id":10650680,"reputation":37,"user_id":7841753,"display_name":"G.B"},"score":0,"creation_date":1512323469,"post_id":47620626,"comment_id":82200587,"body_markdown":"@JBNizet, are you using mac or windows?","body":"@JBNizet, are you using mac or windows?"},{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":0,"creation_date":1512323628,"post_id":47620626,"comment_id":82200645,"body_markdown":"I&#39;m on a Mac (macOS High Sierra).","body":"I&#39;m on a Mac (macOS High Sierra)."}],"answers":[{"tags":[],"owner":{"account_id":22322728,"reputation":111,"user_id":16545155,"display_name":"Darcy Sutton"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643335357,"creation_date":1643335357,"answer_id":70888016,"question_id":47620626,"body_markdown":"I believe your problem is that you ran your commands in the wrong order. Sometimes, when setting up a JFrame, it will not appear if you run it in the run order. Try redoering:\r\n\r\n    setTitle(&quot;Welcome&quot;);\r\n    setResizable(true);\r\n    setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    setSize(600,600);\r\n    setVisible(true);\r\n\r\nto:\r\n\r\n    setVisible(true);\r\n    setResizable(true);\r\n    setSize(600, 600);\r\n    setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    setTitle(&quot;Welcome&quot;);\r\n\r\nThis doesn&#39;t always work, but it&#39;s worth a try. :)\r\n","title":"JFrame Not Appearing (mac issue?)","body":"<p>I believe your problem is that you ran your commands in the wrong order. Sometimes, when setting up a JFrame, it will not appear if you run it in the run order. Try redoering:</p>\n<pre><code>setTitle(&quot;Welcome&quot;);\nsetResizable(true);\nsetDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\nsetSize(600,600);\nsetVisible(true);\n</code></pre>\n<p>to:</p>\n<pre><code>setVisible(true);\nsetResizable(true);\nsetSize(600, 600);\nsetDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\nsetTitle(&quot;Welcome&quot;);\n</code></pre>\n<p>This doesn't always work, but it's worth a try. :)</p>\n"}],"owner":{"account_id":10650680,"reputation":37,"user_id":7841753,"display_name":"G.B"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":330,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1643335357,"creation_date":1512319205,"question_id":47620626,"body_markdown":"I am aware that several people have posted about this but no solution has worked for me. Can anyone tell me why a JFrame is not appearing from my code.\r\n\r\nCode:\r\n\r\n\r\n\r\n    import java.awt.Font;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JPasswordField;\r\n    import javax.swing.JTextField;\r\n    \r\n    public class GUITestWindow extends JFrame{\r\n        public void GUI(){\r\n           setTitle(&quot;Welcome&quot;);\r\n           setResizable(true);\r\n           setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n           setSize(600,600);\r\n           setVisible(true);\r\n    \r\n       }\r\n    \r\n        public static void main(String[] args){\r\n            GUITestWindow a = new GUITestWindow();\r\n            a.GUI();\r\n        }\r\n    }\r\n\r\n\r\nThanks in advance!","title":"JFrame Not Appearing (mac issue?)","body":"<p>I am aware that several people have posted about this but no solution has worked for me. Can anyone tell me why a JFrame is not appearing from my code.</p>\n\n<p>Code:</p>\n\n<pre><code>import java.awt.Font;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPasswordField;\nimport javax.swing.JTextField;\n\npublic class GUITestWindow extends JFrame{\n    public void GUI(){\n       setTitle(\"Welcome\");\n       setResizable(true);\n       setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n       setSize(600,600);\n       setVisible(true);\n\n   }\n\n    public static void main(String[] args){\n        GUITestWindow a = new GUITestWindow();\n        a.GUI();\n    }\n}\n</code></pre>\n\n<p>Thanks in advance!</p>\n"},{"tags":["java","arrays","string","integer"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1643331161,"post_id":70887655,"comment_id":125318014,"body_markdown":"Read the [javadoc](https://docs.oracle.com/javase/7/docs/api/java/lang/String.html#toCharArray()) for `String.toCharArray`.  The solution you have found on the internet (?) is unnecessarily complicated.  (Remember: people who post things on the net don&#39;t necessarily know what they are talking about ...)","body":"Read the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/String.html#toCharArray()\" rel=\"nofollow noreferrer\">javadoc</a> for <code>String.toCharArray</code>.  The solution you have found on the internet (?) is unnecessarily complicated.  (Remember: people who post things on the net don&#39;t necessarily know what they are talking about ...)"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1643331974,"post_id":70887655,"comment_id":125318165,"body_markdown":"*&quot;What I don&#39;t understand is why do I need the &quot; temp.charAt(i) - &#39;0&#39;&quot; part in order to store characters of String as elements of the array.&quot;* - For your purposes, you don&#39;t need to do that. What that is actually doing is converting digit characters to the corresponding values as integers; e.g. `&#39;0&#39;` -&gt; `0`, and so on.","body":"<i>&quot;What I don&#39;t understand is why do I need the &quot; temp.charAt(i) - &#39;0&#39;&quot; part in order to store characters of String as elements of the array.&quot;</i> - For your purposes, you don&#39;t need to do that. What that is actually doing is converting digit characters to the corresponding values as integers; e.g. <code>&#39;0&#39;</code> -&gt; <code>0</code>, and so on."}],"answers":[{"tags":[],"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643332053,"creation_date":1643332053,"answer_id":70887747,"question_id":70887655,"body_markdown":"```&#39;0&#39;``` is the character ```&#39;0&#39;```, not the integer ```0```.  Characters are represented using int values (ascii code).  \r\nThe ascii code for ```&#39;0&#39;``` is the integer value ```48```.  \r\n\r\n```int n = (int) &#39;0&#39;;  //n would be 48.```\r\n\r\nSo, to convert ```&#39;0&#39;``` to the integer ```0```, you need to subtract ```&#39;0&#39;-&#39;0&#39; = 48-48 = 0```\r\n\r\nTo convert ```&#39;9&#39;``` to int ```9```:\r\n\r\n```&#39;9&#39; - &#39;0&#39; = 57-48 = 9```\r\n\r\nSee ASCII code https://en.wikipedia.org/wiki/ASCII","title":"Converting int to String and then String to int array","body":"<p><code>'0'</code> is the character <code>'0'</code>, not the integer <code>0</code>.  Characters are represented using int values (ascii code).<br />\nThe ascii code for <code>'0'</code> is the integer value <code>48</code>.</p>\n<p><code>int n = (int) '0';  //n would be 48.</code></p>\n<p>So, to convert <code>'0'</code> to the integer <code>0</code>, you need to subtract <code>'0'-'0' = 48-48 = 0</code></p>\n<p>To convert <code>'9'</code> to int <code>9</code>:</p>\n<p><code>'9' - '0' = 57-48 = 9</code></p>\n<p>See ASCII code <a href=\"https://en.wikipedia.org/wiki/ASCII\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/ASCII</a></p>\n"},{"tags":[],"owner":{"account_id":10630747,"reputation":41,"user_id":7828981,"display_name":"Dipto Paul Dip"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643334764,"creation_date":1643332939,"answer_id":70887823,"question_id":70887655,"body_markdown":"In many programming languages(Java, C etc.), a character variable does not contain a character value itself rather the [ascii value][1] of the character variable. The ascii value represents the character variable in numbers, and each character variable is assigned with some number range from 0 to 127(in decimal number system). For example, the ascii value of &#39;A&#39; is 65 and &#39;0&#39; is 48.\r\n\r\nYou can convert any digit character to integer by subtracting `&#39;0&#39;` from that character. This subtraction between characters is possible because of ascii values. \r\n\r\nImagine you want to convert digit character `&#39;9&#39;` to an integer `9`. ASCII value of character `&#39;9&#39;` is `57` and ASCII value of character `&#39;0&#39;` is `48`. Now, if you perform a subtraction operation of characters, `&#39;9&#39; - &#39;0&#39;`, it will be treated like `57 - 48` and thus will give you a result of `9`. This subtraction operation of characters converted a character `&#39;9&#39;` to an Integer `9`.\r\n\r\nTry this code example:\r\n```java\r\n    class Converter {\r\n        public static void main(String[] args) {\r\n            System.out.println(&#39;9&#39;-&#39;0&#39;); \r\n        }\r\n    }\r\n```\r\nYou can see all of the characters points to an ascii value,\r\n[![][2]][2]\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/ASCII\r\n  [2]: https://i.stack.imgur.com/gLPZ8.png","title":"Converting int to String and then String to int array","body":"<p>In many programming languages(Java, C etc.), a character variable does not contain a character value itself rather the <a href=\"https://en.wikipedia.org/wiki/ASCII\" rel=\"nofollow noreferrer\">ascii value</a> of the character variable. The ascii value represents the character variable in numbers, and each character variable is assigned with some number range from 0 to 127(in decimal number system). For example, the ascii value of 'A' is 65 and '0' is 48.</p>\n<p>You can convert any digit character to integer by subtracting <code>'0'</code> from that character. This subtraction between characters is possible because of ascii values.</p>\n<p>Imagine you want to convert digit character <code>'9'</code> to an integer <code>9</code>. ASCII value of character <code>'9'</code> is <code>57</code> and ASCII value of character <code>'0'</code> is <code>48</code>. Now, if you perform a subtraction operation of characters, <code>'9' - '0'</code>, it will be treated like <code>57 - 48</code> and thus will give you a result of <code>9</code>. This subtraction operation of characters converted a character <code>'9'</code> to an Integer <code>9</code>.</p>\n<p>Try this code example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    class Converter {\n        public static void main(String[] args) {\n            System.out.println('9'-'0'); \n        }\n    }\n</code></pre>\n<p>You can see all of the characters points to an ascii value,\n<a href=\"https://i.stack.imgur.com/gLPZ8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gLPZ8.png\" alt=\"\" /></a></p>\n"}],"owner":{"account_id":23869635,"reputation":1,"user_id":17871510,"display_name":"Kristina Đukić"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1643335049,"creation_date":1643330958,"question_id":70887655,"body_markdown":"I&#39;ve been trying to do this simple program where I need to check which digit of an integer number is the biggest one. So my initial thought was that I shall convert it all into an array and go with the for loop to check which element of an array is biggest. In order to do this I converted integer into String and then characters of the String into elements of an array. I ran into problem and I looked online for solution. What I don&#39;t understand is why do I need the &quot; temp.charAt(i) - &#39;0&#39;&quot; part in order to store characters of String as elements of the array. Why can&#39;t it be only arrTemp[i] = temp.charAt(i), without the &quot;- &#39;0&#39;&quot; part.\r\n\r\n    \r\n\t\tString temp = Integer.toString(n);\r\n\t\tint arrTemp[] = new int[temp.length()];\r\n\t\tint max = arrTemp[0];\r\n\t\tfor(int i = 0; i&lt;temp.length(); i++) {\r\n\t\t\tarrTemp[i] = temp.charAt(i) - &#39;0&#39;;\r\n\r\n","title":"Converting int to String and then String to int array","body":"<p>I've been trying to do this simple program where I need to check which digit of an integer number is the biggest one. So my initial thought was that I shall convert it all into an array and go with the for loop to check which element of an array is biggest. In order to do this I converted integer into String and then characters of the String into elements of an array. I ran into problem and I looked online for solution. What I don't understand is why do I need the &quot; temp.charAt(i) - '0'&quot; part in order to store characters of String as elements of the array. Why can't it be only arrTemp[i] = temp.charAt(i), without the &quot;- '0'&quot; part.</p>\n<pre><code>    String temp = Integer.toString(n);\n    int arrTemp[] = new int[temp.length()];\n    int max = arrTemp[0];\n    for(int i = 0; i&lt;temp.length(); i++) {\n        arrTemp[i] = temp.charAt(i) - '0';\n</code></pre>\n"},{"tags":["java","android","xml","scrollbar"],"answers":[{"tags":[],"owner":{"account_id":13694976,"reputation":1797,"user_id":9881903,"display_name":"GHH"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643333682,"creation_date":1643333682,"answer_id":70887876,"question_id":70887587,"body_markdown":"Try to use custom EditText and overriding:\r\n\r\n`onScrollChanged(int l, int t, int oldl, int oldt)`\r\n\r\nwhich is inherited from TextView.","title":"How to detect if edit text is scrollable","body":"<p>Try to use custom EditText and overriding:</p>\n<p><code>onScrollChanged(int l, int t, int oldl, int oldt)</code></p>\n<p>which is inherited from TextView.</p>\n"}],"owner":{"account_id":17592156,"reputation":696,"user_id":12763792,"display_name":"dazai"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":104,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1643333682,"creation_date":1643330229,"question_id":70887587,"body_markdown":"I have an edit text in which I need to check if it is scrollable (it has scrollbars=true) to change one of its features. I am not sure how to be able to tell when the scrollbar has been enabled. Since the scrollbar is horizontal, counting the lines is not an option. What options are there to check this?","title":"How to detect if edit text is scrollable","body":"<p>I have an edit text in which I need to check if it is scrollable (it has scrollbars=true) to change one of its features. I am not sure how to be able to tell when the scrollbar has been enabled. Since the scrollbar is horizontal, counting the lines is not an option. What options are there to check this?</p>\n"},{"tags":["java","android","sockets","stream","bitmapfactory"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":1,"creation_date":1643201678,"post_id":70861089,"comment_id":125275702,"body_markdown":"`inputStream.read(numOfBytes)` You cannot consume the whole stream and after that use BitmapFactory.decodeStream() as the stream is consumed then.","body":"<code>inputStream.read(numOfBytes)</code> You cannot consume the whole stream and after that use BitmapFactory.decodeStream() as the stream is consumed then."}],"answers":[{"tags":[],"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643191027,"creation_date":1643191027,"answer_id":70861564,"question_id":70861089,"body_markdown":"When BitmapFactory.decodeStream() is ready it will close the stream. And hence the socket will be closed too. You say it hangs? Wel... hmmmm. hmmm.\r\n\r\nThat is why i said you earlier that the server should close the socket after having send the file. https://stackoverflow.com/questions/70850912/what-is-causing-my-image-to-corrupt-during-transfer-via-bluetooth-rfcomm-using-f\r\n\r\nIf you want to keep the connection open after a picture sent/received then you cannot use BitmapFactory.decodeStream(). – \r\n \r\n&gt;&gt;hoping to find a way to preliminarily set the expected image size before decoding the image, \r\n\r\nWell that is pretty standard. You let the sever first send an integer (four bytes) indicating the lenght/amount of following bytes. \r\n\r\nClient first reads that integer and could make a byte array with the right size where it puts the received bytes of the file. You can then use BitmapFactory.decodeByteArray(). (or something like that). ","title":"How to determine if BitmapFactory.decodeStream has finished decoding the image from a socket InputStream?","body":"<p>When BitmapFactory.decodeStream() is ready it will close the stream. And hence the socket will be closed too. You say it hangs? Wel... hmmmm. hmmm.</p>\n<p>That is why i said you earlier that the server should close the socket after having send the file. <a href=\"https://stackoverflow.com/questions/70850912/what-is-causing-my-image-to-corrupt-during-transfer-via-bluetooth-rfcomm-using-f\">What is causing my image to corrupt during transfer via Bluetooth RFCOMM using FTP?</a></p>\n<p>If you want to keep the connection open after a picture sent/received then you cannot use BitmapFactory.decodeStream(). –</p>\n<blockquote>\n<blockquote>\n<p>hoping to find a way to preliminarily set the expected image size before decoding the image,</p>\n</blockquote>\n</blockquote>\n<p>Well that is pretty standard. You let the sever first send an integer (four bytes) indicating the lenght/amount of following bytes.</p>\n<p>Client first reads that integer and could make a byte array with the right size where it puts the received bytes of the file. You can then use BitmapFactory.decodeByteArray(). (or something like that).</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643333090,"creation_date":1643207194,"answer_id":70865021,"question_id":70861089,"body_markdown":"If the `decodeStream` doesn&#39;t complete, that most likely means that the `InputStream` it is trying to read from has blocked.  And that means that it hasn&#39;t received the data it expects.  \r\n\r\nThere is another *possible* explanation: the server could be sending a malformed image that is causing the decoder to get stuck on the client side.  One example in Java 5&#39;s image decoder ... long since fixed ... was [CVE-2006-6745](https://www.cve.org/CVERecord?id=CVE-2006-6745).  There may be more recent ones.\r\n\r\nApparently, unlike the Java SE image decoder classes, Android&#39;s `decodeStream` **does not call `close()`**.  That means that **there isn&#39;t any way to tell if the `decodeStream` call has completed apart from checking the value that it returns**.  The [javadoc][1] states:\r\n\r\n&gt; *&quot;If the input stream is null, or cannot be used to decode a bitmap, the function returns null. The stream&#39;s position will be where ever it was after the encoded data was read.&quot;*\r\n\r\nBut I think you are really missing the point.  Correct me if I am wrong, but what you are actually trying to do is to stop the client size from blocking the server and vice versa.  The solution to that is to use timers or timeouts.  \r\n\r\n  - On the server side, use a timer to detect that it has taken too long to send the (complete) image file.  \r\n\r\n  - On the client side, use a timer to detect that the `decoderStream` has taken too long.  \r\n\r\n  - In either case, the your code should then be able to call close the stream.  On the client side, the `decoderStream` call should then  return `null`.  (At least, that is what the documentation seems to imply.)\r\n\r\n-----------------------\r\n\r\nYour idea for fixing this was something like the following:\r\n\r\n    byte[] numOfBytes = new byte[inputStream.available()];\r\n    inputStream.read(numOfBytes);\r\n    BitmapFactory.Options options = new BitmapFactory.Options();\r\n    options.setExpectedImageSize(numOfBytes);\r\n    Bitmap bmp = BitmapFactory.decodeStream(inputStream, null, options);\r\n\r\nThis approach is fatally flawed.\r\n\r\n  1.  Calling `InputStream.available` on a socket input stream **ONLY** tells you how much data can be read **without blocking**.  Basically, that is the data that has already been received into the kernel TCP/IP buffers on the client side.  It probably won&#39;t be the entire image.\r\n\r\n      Basically, calling `InputStream.available` is rarely the right thing to do.  (IMO, it would be a good idea if they deprecated it ... though I doubt that they will.) \r\n\r\n  2.  Therefore `inputStream.read(numOfBytes)` won&#39;t read the entire image.  \r\n\r\n  3.  But then you don&#39;t do anything useful with `numOfBytes`.\r\n\r\n  4.  There isn&#39;t a way to set an &quot;expected image size&quot; in the `Options`.\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/graphics/BitmapFactory#decodeStream(java.io.InputStream)","title":"How to determine if BitmapFactory.decodeStream has finished decoding the image from a socket InputStream?","body":"<p>If the <code>decodeStream</code> doesn't complete, that most likely means that the <code>InputStream</code> it is trying to read from has blocked.  And that means that it hasn't received the data it expects.</p>\n<p>There is another <em>possible</em> explanation: the server could be sending a malformed image that is causing the decoder to get stuck on the client side.  One example in Java 5's image decoder ... long since fixed ... was <a href=\"https://www.cve.org/CVERecord?id=CVE-2006-6745\" rel=\"nofollow noreferrer\">CVE-2006-6745</a>.  There may be more recent ones.</p>\n<p>Apparently, unlike the Java SE image decoder classes, Android's <code>decodeStream</code> <strong>does not call <code>close()</code></strong>.  That means that <strong>there isn't any way to tell if the <code>decodeStream</code> call has completed apart from checking the value that it returns</strong>.  The <a href=\"https://developer.android.com/reference/android/graphics/BitmapFactory#decodeStream(java.io.InputStream)\" rel=\"nofollow noreferrer\">javadoc</a> states:</p>\n<blockquote>\n<p><em>&quot;If the input stream is null, or cannot be used to decode a bitmap, the function returns null. The stream's position will be where ever it was after the encoded data was read.&quot;</em></p>\n</blockquote>\n<p>But I think you are really missing the point.  Correct me if I am wrong, but what you are actually trying to do is to stop the client size from blocking the server and vice versa.  The solution to that is to use timers or timeouts.</p>\n<ul>\n<li><p>On the server side, use a timer to detect that it has taken too long to send the (complete) image file.</p>\n</li>\n<li><p>On the client side, use a timer to detect that the <code>decoderStream</code> has taken too long.</p>\n</li>\n<li><p>In either case, the your code should then be able to call close the stream.  On the client side, the <code>decoderStream</code> call should then  return <code>null</code>.  (At least, that is what the documentation seems to imply.)</p>\n</li>\n</ul>\n<hr />\n<p>Your idea for fixing this was something like the following:</p>\n<pre><code>byte[] numOfBytes = new byte[inputStream.available()];\ninputStream.read(numOfBytes);\nBitmapFactory.Options options = new BitmapFactory.Options();\noptions.setExpectedImageSize(numOfBytes);\nBitmap bmp = BitmapFactory.decodeStream(inputStream, null, options);\n</code></pre>\n<p>This approach is fatally flawed.</p>\n<ol>\n<li><p>Calling <code>InputStream.available</code> on a socket input stream <strong>ONLY</strong> tells you how much data can be read <strong>without blocking</strong>.  Basically, that is the data that has already been received into the kernel TCP/IP buffers on the client side.  It probably won't be the entire image.</p>\n<p>Basically, calling <code>InputStream.available</code> is rarely the right thing to do.  (IMO, it would be a good idea if they deprecated it ... though I doubt that they will.)</p>\n</li>\n<li><p>Therefore <code>inputStream.read(numOfBytes)</code> won't read the entire image.</p>\n</li>\n<li><p>But then you don't do anything useful with <code>numOfBytes</code>.</p>\n</li>\n<li><p>There isn't a way to set an &quot;expected image size&quot; in the <code>Options</code>.</p>\n</li>\n</ol>\n"}],"owner":{"account_id":22803923,"reputation":23,"user_id":16956202,"display_name":"galligio"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":592,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1643333090,"creation_date":1643188834,"question_id":70861089,"body_markdown":"I&#39;m developing an Android app that receives an image via `BluetoothSocket` and I&#39;m trying to retrieve its `Bitmap` by using the `BitmapFactory.decodeStream()` method, so something like:\r\n\r\n    // Create BluetoothSocket socket and connect\r\n    // ...\r\n\r\n    // Get input stream\r\n    InputStream inputStream = socket.getInputStream();\r\n\r\n    // Get image bitmap\r\n    Bitmap bmp = BitmapFactory.decodeStream(inputStream);\r\n\r\nWhat happens is that the application gets stuck on `BitmapFactory.decodeStream()`. To stop the application from hanging forever I have to manually close the socket from the remote device, and only after that the image gets decoded and returned successfully, but this is not a feasible solution for my application since I want the image to be transmitted programmatically. Another thing I tried was to create a separate `Thread` and call `decodeStream()` inside of it, then call `Thread.start()` and then `Thread.join(milliseconds)` with a hard-coded amount of time to wait before killing the thread. This works but I&#39;d like to avoid it for 2 reasons:\r\n\r\n - I want the transfer to be as fast as possible, but in this case if the image is smaller than expected the thread takes longer than needed\r\n - If the image is bigger than expected, the thread could finish while the data is still being processed, causing some data loss\r\n\r\nI looked at the documentation hoping to find a way to preliminarily set the expected image size before decoding the image, so that the app knows when the data has been received correctly, something like:\r\n\r\n    // Estimate length of expected data (size of image in bytes)\r\n    byte[] numOfBytes = new byte[inputStream.available()];\r\n    inputStream.read(numOfBytes)\r\n\r\n    // Set preliminary options\r\n    BitmapFactory.Options options = new BitmapFactory.Options();\r\n    options.setExpectedImageSize(numOfBytes)          // what I would ideally want: set fixed number of bytes \r\n                                                      // to let the BitmapFactory.decodeStream() method know when\r\n                                                      // the decoding is over\r\n\r\n    // Get image bitmap\r\n    Bitmap bmp = BitmapFactory.decodeStream(inputStream, null, options);\r\n\r\nbut such procedure doesn&#39;t seem to exist. \r\n\r\nIs there any way I can achieve this?\r\n\r\n**CODE**\r\n\r\n**Server side (C#)**\r\n\r\n    // Create bluetooth socket \r\n    // ...\r\n\r\n    DataWriter writer = new DataWriter(socket.OutputStream);\r\n\r\n    // Send image byte array\r\n    writer.WriteBytes(imageByteArray);\r\n    await writer.StoreAsync();\r\n    await writer.FlushAsync();\r\n\r\n    writer.Dispose();\r\n    socket.Dispose();\r\n\r\n**Client side (Java)**\r\n\r\n    // Create bluetooth socket and connect\r\n    // ...\r\n\r\n    InputStream inputStream = socket.getInputStream();\r\n\r\n    Bitmap bmp = BitmapFactory.decodeStream(inputStream);\r\n\r\n    return bmp;\r\n\r\nSent: \r\n[![Sent image][1]][1]\r\n\r\nReceived:\r\n[![Recevied image][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Iyt5Q.jpg\r\n  [2]: https://i.stack.imgur.com/Ksjiv.jpg","title":"How to determine if BitmapFactory.decodeStream has finished decoding the image from a socket InputStream?","body":"<p>I'm developing an Android app that receives an image via <code>BluetoothSocket</code> and I'm trying to retrieve its <code>Bitmap</code> by using the <code>BitmapFactory.decodeStream()</code> method, so something like:</p>\n<pre><code>// Create BluetoothSocket socket and connect\n// ...\n\n// Get input stream\nInputStream inputStream = socket.getInputStream();\n\n// Get image bitmap\nBitmap bmp = BitmapFactory.decodeStream(inputStream);\n</code></pre>\n<p>What happens is that the application gets stuck on <code>BitmapFactory.decodeStream()</code>. To stop the application from hanging forever I have to manually close the socket from the remote device, and only after that the image gets decoded and returned successfully, but this is not a feasible solution for my application since I want the image to be transmitted programmatically. Another thing I tried was to create a separate <code>Thread</code> and call <code>decodeStream()</code> inside of it, then call <code>Thread.start()</code> and then <code>Thread.join(milliseconds)</code> with a hard-coded amount of time to wait before killing the thread. This works but I'd like to avoid it for 2 reasons:</p>\n<ul>\n<li>I want the transfer to be as fast as possible, but in this case if the image is smaller than expected the thread takes longer than needed</li>\n<li>If the image is bigger than expected, the thread could finish while the data is still being processed, causing some data loss</li>\n</ul>\n<p>I looked at the documentation hoping to find a way to preliminarily set the expected image size before decoding the image, so that the app knows when the data has been received correctly, something like:</p>\n<pre><code>// Estimate length of expected data (size of image in bytes)\nbyte[] numOfBytes = new byte[inputStream.available()];\ninputStream.read(numOfBytes)\n\n// Set preliminary options\nBitmapFactory.Options options = new BitmapFactory.Options();\noptions.setExpectedImageSize(numOfBytes)          // what I would ideally want: set fixed number of bytes \n                                                  // to let the BitmapFactory.decodeStream() method know when\n                                                  // the decoding is over\n\n// Get image bitmap\nBitmap bmp = BitmapFactory.decodeStream(inputStream, null, options);\n</code></pre>\n<p>but such procedure doesn't seem to exist.</p>\n<p>Is there any way I can achieve this?</p>\n<p><strong>CODE</strong></p>\n<p><strong>Server side (C#)</strong></p>\n<pre><code>// Create bluetooth socket \n// ...\n\nDataWriter writer = new DataWriter(socket.OutputStream);\n\n// Send image byte array\nwriter.WriteBytes(imageByteArray);\nawait writer.StoreAsync();\nawait writer.FlushAsync();\n\nwriter.Dispose();\nsocket.Dispose();\n</code></pre>\n<p><strong>Client side (Java)</strong></p>\n<pre><code>// Create bluetooth socket and connect\n// ...\n\nInputStream inputStream = socket.getInputStream();\n\nBitmap bmp = BitmapFactory.decodeStream(inputStream);\n\nreturn bmp;\n</code></pre>\n<p>Sent:\n<a href=\"https://i.stack.imgur.com/Iyt5Q.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Iyt5Q.jpg\" alt=\"Sent image\" /></a></p>\n<p>Received:\n<a href=\"https://i.stack.imgur.com/Ksjiv.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ksjiv.jpg\" alt=\"Recevied image\" /></a></p>\n"},{"tags":["java","rest","jsoup"],"answers":[{"tags":[],"owner":{"account_id":10389625,"reputation":2881,"user_id":9889778,"display_name":"Krystian G"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643332016,"creation_date":1643332016,"answer_id":70887744,"question_id":70881351,"body_markdown":"To parse HTML into a Document just parse the body:\r\n```\r\n Document document = Jsoup.parse(response.body());\r\n```\r\nAnd that&#39;s it.  \r\nAlso do you really need a reponse as a Response object?\r\nYou can get the Document by simply calling:\r\n```\r\nDocument document = Jsoup.connect(&quot;http://example.com/&quot;).get();\r\n```\r\n\r\nTake a look at these very simple examples to see if there&#39;s a better way to do what you&#39;re trying to achieve:\r\nhttps://jsoup.org/cookbook/input/load-document-from-url\r\n","title":"Jsoup parse response without logging to console","body":"<p>To parse HTML into a Document just parse the body:</p>\n<pre><code> Document document = Jsoup.parse(response.body());\n</code></pre>\n<p>And that's it.<br />\nAlso do you really need a reponse as a Response object?\nYou can get the Document by simply calling:</p>\n<pre><code>Document document = Jsoup.connect(&quot;http://example.com/&quot;).get();\n</code></pre>\n<p>Take a look at these very simple examples to see if there's a better way to do what you're trying to achieve:\n<a href=\"https://jsoup.org/cookbook/input/load-document-from-url\" rel=\"nofollow noreferrer\">https://jsoup.org/cookbook/input/load-document-from-url</a></p>\n"}],"owner":{"account_id":22027761,"reputation":186,"user_id":16295487,"display_name":"RafalLovesWorking"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":326,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70887744,"answer_count":1,"score":0,"last_activity_date":1643332016,"creation_date":1643297783,"question_id":70881351,"body_markdown":"I have a tiny problem with Jsoup.  \r\nI am using this snippet of code\r\n\r\n```\r\n        Response response = getAccount(); // GET Response in HTML format\r\n        Document document = Jsoup.parse(response.body().prettyPrint());\r\n```\r\n\r\nAnd it prints to console all the response, which is very messy, as response is in HTML format. I read that `prettyPeek()` is not logging response, but return value of `prettyPeek()` is not String type but Response, and even if I use `prettyPeek().toString()` my code doesn&#39;t work. Please tell me what snippet will work the same way as mine, but without logging to console.\r\n","title":"Jsoup parse response without logging to console","body":"<p>I have a tiny problem with Jsoup.<br />\nI am using this snippet of code</p>\n<pre><code>        Response response = getAccount(); // GET Response in HTML format\n        Document document = Jsoup.parse(response.body().prettyPrint());\n</code></pre>\n<p>And it prints to console all the response, which is very messy, as response is in HTML format. I read that <code>prettyPeek()</code> is not logging response, but return value of <code>prettyPeek()</code> is not String type but Response, and even if I use <code>prettyPeek().toString()</code> my code doesn't work. Please tell me what snippet will work the same way as mine, but without logging to console.</p>\n"},{"tags":["java","neo4j","cypher","unwind"],"answers":[{"tags":[],"owner":{"account_id":273888,"reputation":163,"user_id":565785,"display_name":"fahran"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1643282824,"creation_date":1643282824,"answer_id":70877790,"question_id":70876421,"body_markdown":"Using `apoc.coll.pairsMin` you can extract pairs of adjacent node properties: https://neo4j.com/labs/apoc/4.0/data-structures/collection-list-functions/\r\n\r\nSo in their example, \r\n```\r\napoc.coll.pairsMin([1,2,3]) YIELD value\r\n```\r\nreturns:\r\n```\r\n[[1,2],[2,3]]\r\n```\r\n\r\n\r\nSo to put it into practice and link adjacent pairs of nodes created from a list of maps, I created a list similar to your $nodeProperties, and linked them:\r\n\r\n```\r\nWITH [{a: &quot;foo0&quot;, b: &quot;bar0&quot;}, {a: &quot;foo1&quot;, b: &quot;bar1&quot;}, {a: &quot;foo2&quot;, b: &quot;bar2&quot;}] as allNodes\r\nWITH apoc.coll.pairsMin(allNodes) as nodePairs\r\nUNWIND nodePairs as pair\r\nMERGE (n0:Foo {name: pair[0].a, prop: pair[0].b})\r\nMERGE (n1:Foo {name: pair[1].a, prop: pair[1].b})\r\nMERGE (n0)-[:RELATION]-(n1)\r\nRETURN *\r\n```\r\n[![Nodes linked together][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/PT7tn.png","title":"Create relationship between nodes created from UNWIND list","body":"<p>Using <code>apoc.coll.pairsMin</code> you can extract pairs of adjacent node properties: <a href=\"https://neo4j.com/labs/apoc/4.0/data-structures/collection-list-functions/\" rel=\"nofollow noreferrer\">https://neo4j.com/labs/apoc/4.0/data-structures/collection-list-functions/</a></p>\n<p>So in their example,</p>\n<pre><code>apoc.coll.pairsMin([1,2,3]) YIELD value\n</code></pre>\n<p>returns:</p>\n<pre><code>[[1,2],[2,3]]\n</code></pre>\n<p>So to put it into practice and link adjacent pairs of nodes created from a list of maps, I created a list similar to your $nodeProperties, and linked them:</p>\n<pre><code>WITH [{a: &quot;foo0&quot;, b: &quot;bar0&quot;}, {a: &quot;foo1&quot;, b: &quot;bar1&quot;}, {a: &quot;foo2&quot;, b: &quot;bar2&quot;}] as allNodes\nWITH apoc.coll.pairsMin(allNodes) as nodePairs\nUNWIND nodePairs as pair\nMERGE (n0:Foo {name: pair[0].a, prop: pair[0].b})\nMERGE (n1:Foo {name: pair[1].a, prop: pair[1].b})\nMERGE (n0)-[:RELATION]-(n1)\nRETURN *\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/PT7tn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PT7tn.png\" alt=\"Nodes linked together\" /></a></p>\n"},{"tags":[],"owner":{"account_id":9963444,"reputation":12317,"user_id":7371893,"display_name":"jose_bacoy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643329483,"creation_date":1643304072,"answer_id":70882951,"question_id":70876421,"body_markdown":"You can use UNWIND to create a linked nodes. First create the nodes for your nodeProperties list then create the NEXT_EVENT relationship.\r\n\r\nBelow query will create a node1 linked to node2 in your list $nodeProperties.  UNWIND will create another list of index numbers from 0 to end (except the last item). Then merge (or match if it exists) the node based on the name (assuming your node primary key is name). Then create the needed relationship :NEXT_EVENT. Unwind is like a FOR LOOP so it will link item1 to item2 then item2 to item3 ... until item99 to item100.\r\n\r\n\r\n     WITH $nodeProperties AS np \r\n     UNWIND range(0, size(np) - 2) as idx\r\n     MERGE (node1:Event {name:np[idx].name, location: np[idx].location, eventDate:np[idx].eventDate})\r\n     MERGE (node2:Event {name:np[idx+1].name, location: np[idx+1].location, eventDate:np[idx+1].eventDate})\r\n     CREATE (node1)-[:NEXT_EVENT]-&gt;(node2)\r\n\r\n","title":"Create relationship between nodes created from UNWIND list","body":"<p>You can use UNWIND to create a linked nodes. First create the nodes for your nodeProperties list then create the NEXT_EVENT relationship.</p>\n<p>Below query will create a node1 linked to node2 in your list $nodeProperties.  UNWIND will create another list of index numbers from 0 to end (except the last item). Then merge (or match if it exists) the node based on the name (assuming your node primary key is name). Then create the needed relationship :NEXT_EVENT. Unwind is like a FOR LOOP so it will link item1 to item2 then item2 to item3 ... until item99 to item100.</p>\n<pre><code> WITH $nodeProperties AS np \n UNWIND range(0, size(np) - 2) as idx\n MERGE (node1:Event {name:np[idx].name, location: np[idx].location, eventDate:np[idx].eventDate})\n MERGE (node2:Event {name:np[idx+1].name, location: np[idx+1].location, eventDate:np[idx+1].eventDate})\n CREATE (node1)-[:NEXT_EVENT]-&gt;(node2)\n</code></pre>\n"}],"owner":{"account_id":123756,"reputation":4386,"user_id":318414,"accept_rate":95,"display_name":"simonalexander2005"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":569,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70877790,"answer_count":2,"score":1,"last_activity_date":1643329483,"creation_date":1643276890,"question_id":70876421,"body_markdown":"I am passing into a Cypher query a `List&lt;Map&lt;String, Object&gt;&gt;`, which I am using to create a series of nodes based on the key-value pairs contained in the `Map&lt;String, Object&gt;`.\r\n\r\nI now want to be able to link those nodes together, in the order they were unwound.\r\n\r\nCurrent cypher/java code:\r\n\r\n```java\r\npublic static void doMergeAndLink(List&lt;Map&lt;String, Object&gt;&gt; nodeProperties)\r\n{\r\n    try (Session session = driver.session())\t\r\n    {\r\n        session.run(&quot;UNWIND $nodeProperties AS np &quot; +\r\n\t\t\t&quot;MERGE (n:Event {name:np.name, location: np.location, eventDate:np.eventDate}) &quot;\r\n    \t, parameters(&quot;nodeProperties&quot;,nodeProperties));\r\n    }\r\n    catch(Exception e){}\r\n}\r\n```\r\n\r\nWhat I want now is to be able to add `MERGE (n)-[:NEXT_EVENT]-&gt;(n+1)` but I don&#39;t know the Cypher to do that","title":"Create relationship between nodes created from UNWIND list","body":"<p>I am passing into a Cypher query a <code>List&lt;Map&lt;String, Object&gt;&gt;</code>, which I am using to create a series of nodes based on the key-value pairs contained in the <code>Map&lt;String, Object&gt;</code>.</p>\n<p>I now want to be able to link those nodes together, in the order they were unwound.</p>\n<p>Current cypher/java code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void doMergeAndLink(List&lt;Map&lt;String, Object&gt;&gt; nodeProperties)\n{\n    try (Session session = driver.session())    \n    {\n        session.run(&quot;UNWIND $nodeProperties AS np &quot; +\n            &quot;MERGE (n:Event {name:np.name, location: np.location, eventDate:np.eventDate}) &quot;\n        , parameters(&quot;nodeProperties&quot;,nodeProperties));\n    }\n    catch(Exception e){}\n}\n</code></pre>\n<p>What I want now is to be able to add <code>MERGE (n)-[:NEXT_EVENT]-&gt;(n+1)</code> but I don't know the Cypher to do that</p>\n"},{"tags":["java","spring","spring-boot","maven","configuration"],"comments":[{"owner":{"account_id":12917853,"reputation":997,"user_id":9341434,"display_name":"Brooklyn99"},"score":0,"creation_date":1643335438,"post_id":70886977,"comment_id":125318708,"body_markdown":"-externalized configuration is what you might be looking for: https://docs.spring.io/spring-boot/docs/2.1.13.RELEASE/reference/html/boot-features-external-config.html.","body":"-externalized configuration is what you might be looking for: <a href=\"https://docs.spring.io/spring-boot/docs/2.1.13.RELEASE/reference/html/boot-features-external-config.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/2.1.13.RELEASE/reference/htm&zwnj;&#8203;l/&hellip;</a>."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1643352904,"post_id":70886977,"comment_id":125321627,"body_markdown":"I would suggest to give links of up-to-date versions of Spring https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.external-config","body":"I would suggest to give links of up-to-date versions of Spring <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.external-config\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/current/reference/html/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":23980816,"reputation":33,"user_id":17968275,"display_name":"tinit"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1643329410,"creation_date":1643329410,"answer_id":70887500,"question_id":70886977,"body_markdown":"You can use spring cloud config","title":"Share properties file and extend it between multiples spring boot projects","body":"<p>You can use spring cloud config</p>\n"}],"owner":{"account_id":19907670,"reputation":163,"user_id":14586357,"display_name":"roberto"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":321,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643329410,"creation_date":1643325079,"question_id":70886977,"body_markdown":"I have this problem.\r\n\r\nIn my app, I have **2** projects, **Bank** and **User** that connect to the **same database**, then both projects are the **same database configuration** in their application.properties. I don&#39;t want duplicate the configuration, then I had thought I could put that database configuration on the other properties(**common properties**) and in both properties extend that configuration.`\r\n\r\nIn Both projects(Bank, User) I have the same database configuration, the unique difference is the server.port, my **idea** is to have other properties(**common.properties**) that contains the database configuration, Bank and user properties, extends the common properties and add only server.port\r\n\r\n````\r\n#database\r\nspring.jpa.hibernate.ddl-auto=create-drop\r\nspring.datasource.url=jdbc:mysql://${MYSQL_HOST:localhost}:42333/userDatabase\r\nspring.datasource.username=username\r\nspring.datasource.password=password\r\nspring.datasource.driver-class-name =com.mysql.jdbc.Driver\r\n#spring.jpa.show-sql: true\r\n\r\n#server\r\nserver.port= 8090\r\n````\r\n\r\nMy doubt It is possible to have inheritance between properties?\r\n\r\nThanks for your time and sorry for my englis, it is not my native languaje, Regards!\r\n","title":"Share properties file and extend it between multiples spring boot projects","body":"<p>I have this problem.</p>\n<p>In my app, I have <strong>2</strong> projects, <strong>Bank</strong> and <strong>User</strong> that connect to the <strong>same database</strong>, then both projects are the <strong>same database configuration</strong> in their application.properties. I don't want duplicate the configuration, then I had thought I could put that database configuration on the other properties(<strong>common properties</strong>) and in both properties extend that configuration.`</p>\n<p>In Both projects(Bank, User) I have the same database configuration, the unique difference is the server.port, my <strong>idea</strong> is to have other properties(<strong>common.properties</strong>) that contains the database configuration, Bank and user properties, extends the common properties and add only server.port</p>\n<pre><code>#database\nspring.jpa.hibernate.ddl-auto=create-drop\nspring.datasource.url=jdbc:mysql://${MYSQL_HOST:localhost}:42333/userDatabase\nspring.datasource.username=username\nspring.datasource.password=password\nspring.datasource.driver-class-name =com.mysql.jdbc.Driver\n#spring.jpa.show-sql: true\n\n#server\nserver.port= 8090\n</code></pre>\n<p>My doubt It is possible to have inheritance between properties?</p>\n<p>Thanks for your time and sorry for my englis, it is not my native languaje, Regards!</p>\n"},{"tags":["java","android","android-fragments"],"comments":[{"owner":{"account_id":7776542,"reputation":144,"user_id":5884473,"display_name":"Helix"},"score":0,"creation_date":1456547724,"post_id":35665674,"comment_id":59011438,"body_markdown":"where are you actually building the fragment transaction?","body":"where are you actually building the fragment transaction?"},{"owner":{"account_id":3044590,"reputation":4534,"user_id":2598292,"accept_rate":75,"display_name":"RedGiant"},"score":0,"creation_date":1456547971,"post_id":35665674,"comment_id":59011479,"body_markdown":"Helix, I want to build the transcation in the `getView` method. I want to add some buttons and containers fragments to the list.  I have updated the post.","body":"Helix, I want to build the transcation in the <code>getView</code> method. I want to add some buttons and containers fragments to the list.  I have updated the post."},{"owner":{"account_id":3985924,"reputation":55305,"user_id":3286489,"accept_rate":60,"display_name":"Elye"},"score":1,"creation_date":1456548221,"post_id":35665674,"comment_id":59011519,"body_markdown":"Consider using view instead of fragment. Having fragment within the adapter complicates it much if not something impractical.","body":"Consider using view instead of fragment. Having fragment within the adapter complicates it much if not something impractical."},{"owner":{"account_id":7776542,"reputation":144,"user_id":5884473,"display_name":"Helix"},"score":0,"creation_date":1456548266,"post_id":35665674,"comment_id":59011526,"body_markdown":"are you getting errors or is it giving you null pointer exception? - also... I agree with Elye","body":"are you getting errors or is it giving you null pointer exception? - also... I agree with Elye"}],"owner":{"account_id":3044590,"reputation":4534,"user_id":2598292,"accept_rate":75,"display_name":"RedGiant"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1643328355,"creation_date":1456547496,"question_id":35665674,"body_markdown":"I&#39;m at a loss of starting a fragment transcation in ArrayAdapter which is called from a list Fragment. I have tried a few things based on this [thread][1]:\r\n\r\n    FragmentManager fm = getContext().getChildFragmentManager();\r\n    //The method getChildFragmentManager() is undefined for the type Context\r\n                          \r\n    FragmentManager fm = getContext().getSupportFragmentManager();\r\n    //same error above\r\n\r\n    FragmentManager fm = ((Activity) getContext()).getSupportFragmentManager();\r\n    //The method getSupportFragmentManager() is undefined for the type Activity\r\n\r\nBut none of them works, despite that `getActivity()` is passed when the adapter is instantiated in `ListItemFragment` class. Would anoyone please help me on this?\r\n\r\nClass ListItemFragment:\r\n\r\n    import android.support.v4.app.Fragment;\r\n    import com.model.ListItem;\r\n    import com.Data;\r\n    public class ListItemFragment extends Fragment{\r\n    \r\n    \tpublic View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\t\t\r\n\r\n    \t\tsuper.onCreate(savedInstanceState); \r\n\r\n            View view = inflater.inflate(R.layout.list_container, container, false);\r\n\r\n    \t\tArrayList&lt;ListItem&gt; listItem = (ArrayList&lt;ListItem&gt;) Data.get();\r\n\r\n    \t\tListAdapter adapter = new ListAdapter(getActivity(), listItem);\r\n\r\n    \t\tListView listView = (ListView) view.findViewById(R.id.list_view);\r\n\r\n    \t\tlistView.setAdapter(adapter);\r\n    \t\treturn view;\r\n    \t}\r\n    }\r\n\r\nAdapter:\r\n\r\n    import com.model.ListItem;\r\n    \r\n    public class ListAdapter extends ArrayAdapter&lt;ListItem&gt; {\r\n    \r\n    \tpublic ListAdapter(Context context, ArrayList&lt;ListItem&gt; listItem) {\r\n    \r\n           super(context, R.layout.list_item, listItem);\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public View getView(int position, View view, ViewGroup parent) {\r\n    \r\n           ListItem row = getItem(position); \r\n       \r\n           final Context context = getContext();\r\n\r\n           LayoutInflater inflater = (LayoutInflater)getContext().getSystemService(Context.LAYOUT_INFLATER_SERVICE);\r\n        \r\n           view = inflater.inflate(R.layout.list_item, parent, false);\r\n\r\n           //FragmentManager fm = ((Activity) context).getChildFragmentManager();\r\n                      \r\n           //FragmentManager fm = ((Activity) context).getSupportFragmentManager();\r\n\r\n           //FragmentManager fm = ((Activity) context).getSupportFragmentManager();\r\n\r\n           FragmentTransaction transaction = fm.beginTransaction();\r\n\r\n           /*......buttonFragment = call a button Fragment.......*/\r\n\r\n           transaction.replace(R.id.placeholder, buttonFragment);\r\n\r\n           transaction.commit();\r\n\r\n           return view;\r\n       }\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/18689727/getfragmentmanager-from-arrayadapter","title":"How can I start a fragment transcation in ArrayAdapter","body":"<p>I'm at a loss of starting a fragment transcation in ArrayAdapter which is called from a list Fragment. I have tried a few things based on this <a href=\"https://stackoverflow.com/questions/18689727/getfragmentmanager-from-arrayadapter\">thread</a>:</p>\n\n<pre><code>FragmentManager fm = getContext().getChildFragmentManager();\n//The method getChildFragmentManager() is undefined for the type Context\n\nFragmentManager fm = getContext().getSupportFragmentManager();\n//same error above\n\nFragmentManager fm = ((Activity) getContext()).getSupportFragmentManager();\n//The method getSupportFragmentManager() is undefined for the type Activity\n</code></pre>\n\n<p>But none of them works, despite that <code>getActivity()</code> is passed when the adapter is instantiated in <code>ListItemFragment</code> class. Would anoyone please help me on this?</p>\n\n<p>Class ListItemFragment:</p>\n\n<pre><code>import android.support.v4.app.Fragment;\nimport com.model.ListItem;\nimport com.Data;\npublic class ListItemFragment extends Fragment{\n\n    public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {     \n\n        super.onCreate(savedInstanceState); \n\n        View view = inflater.inflate(R.layout.list_container, container, false);\n\n        ArrayList&lt;ListItem&gt; listItem = (ArrayList&lt;ListItem&gt;) Data.get();\n\n        ListAdapter adapter = new ListAdapter(getActivity(), listItem);\n\n        ListView listView = (ListView) view.findViewById(R.id.list_view);\n\n        listView.setAdapter(adapter);\n        return view;\n    }\n}\n</code></pre>\n\n<p>Adapter:</p>\n\n<pre><code>import com.model.ListItem;\n\npublic class ListAdapter extends ArrayAdapter&lt;ListItem&gt; {\n\n    public ListAdapter(Context context, ArrayList&lt;ListItem&gt; listItem) {\n\n       super(context, R.layout.list_item, listItem);\n\n    }\n\n    @Override\n    public View getView(int position, View view, ViewGroup parent) {\n\n       ListItem row = getItem(position); \n\n       final Context context = getContext();\n\n       LayoutInflater inflater = (LayoutInflater)getContext().getSystemService(Context.LAYOUT_INFLATER_SERVICE);\n\n       view = inflater.inflate(R.layout.list_item, parent, false);\n\n       //FragmentManager fm = ((Activity) context).getChildFragmentManager();\n\n       //FragmentManager fm = ((Activity) context).getSupportFragmentManager();\n\n       //FragmentManager fm = ((Activity) context).getSupportFragmentManager();\n\n       FragmentTransaction transaction = fm.beginTransaction();\n\n       /*......buttonFragment = call a button Fragment.......*/\n\n       transaction.replace(R.id.placeholder, buttonFragment);\n\n       transaction.commit();\n\n       return view;\n   }\n}\n</code></pre>\n"},{"tags":["java","swing","actionlistener"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1643322285,"post_id":70886518,"comment_id":125316244,"body_markdown":"You&#39;re shadowing your variables, that is, you&#39;ve declared `spara` as an instance field, but then re-declared as a local variable within the constructor","body":"You&#39;re shadowing your variables, that is, you&#39;ve declared <code>spara</code> as an instance field, but then re-declared as a local variable within the constructor"}],"answers":[{"tags":[],"owner":{"account_id":24074560,"reputation":84,"user_id":18050083,"display_name":"PJMan0300"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643322623,"creation_date":1643322267,"answer_id":70886563,"question_id":70886518,"body_markdown":"\r\nThe problem is that you are not checking if there is already a username with the same term. For example, if the first line in your array is &quot;nt01, Tobi, Gr&#246;ndahl, nt01, tobi@du.se&quot;, when you press &quot;Save&quot; the program will try to save another student with username &quot;nt01&quot;. \r\nBut as you may have realized, there is already a student with username &quot;nt01&quot; in the array. The reason for this is that you are using the same variable for storing username and termin. \r\nThe simplest solution I can think of would be to change one of the variable names. You could use &quot;user_name&quot; instead of &quot;username&quot;. \r\nOr, you could make another variable that stores all usernames and check if there is already an entry with this username. If there is, don&#39;t save the new entry. \r\nIn order to print all students, you have to create a separate function that loops through the whole array and prints each student. The problem is that you already use &quot;student_array&quot; as a variable for storing the student array, and you want to use it for printing out all students.\r\nSo you have to rename the variable.","title":"I tried making my 2 buttons first one to save and second one to show all , but I couldn&#39;t make it work","body":"<p>The problem is that you are not checking if there is already a username with the same term. For example, if the first line in your array is &quot;nt01, Tobi, Gröndahl, nt01, tobi@du.se&quot;, when you press &quot;Save&quot; the program will try to save another student with username &quot;nt01&quot;.\nBut as you may have realized, there is already a student with username &quot;nt01&quot; in the array. The reason for this is that you are using the same variable for storing username and termin.\nThe simplest solution I can think of would be to change one of the variable names. You could use &quot;user_name&quot; instead of &quot;username&quot;.\nOr, you could make another variable that stores all usernames and check if there is already an entry with this username. If there is, don't save the new entry.\nIn order to print all students, you have to create a separate function that loops through the whole array and prints each student. The problem is that you already use &quot;student_array&quot; as a variable for storing the student array, and you want to use it for printing out all students.\nSo you have to rename the variable.</p>\n"},{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643323111,"creation_date":1643323111,"answer_id":70886690,"question_id":70886518,"body_markdown":"The first problem is, you&#39;re shadowing your variables.\r\n\r\nThat is, you&#39;ve declared `spara` and `visaalia` as instance fields of your class, but then re-declared them as local variables in your constructor...\r\n\r\n    class mysubclass implements ActionListener {\r\n\r\n        //...\r\n        JButton spara;\r\n        JButton visaalia;\r\n        //...\r\n\r\n        mysubclass() {\r\n            //...\r\n            // Re-declared here as local variable\r\n            JButton spara = new JButton(&quot;Save&quot;);\r\n            //...\r\n            // Re-declared here as local variable\r\n            JButton visaalia = new JButton(&quot;show all&quot;);\r\n            //...\r\n\r\nThis means when `actionPerformed` is called, `spara` and `visaalia` are both `null`\r\n\r\nAnd now, the elephant(s) in the room\r\n\r\nYou don&#39;t need `static Scanner scr = new Scanner(System.in);`, get rid of it, when using a GUI, this kind of statement just scares people\r\n\r\nYou shouldn&#39;t be using `Calendar`.  It&#39;s effectively deprecated and has been replaced with the `java.time.*` APIs, time to move forward and learn how it should be done.\r\n\r\nYou really need to take the time to learn how to use layout managers.  `null` layouts are just going to explode in your face and when I run your code, the components don&#39;t fit within in the window, rendering your interface useless.\r\n\r\nYou really need to take the time to look at:\r\n\r\n* [Laying Out Components Within a Container](https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html)\r\n* [Date/Time trail](https://docs.oracle.com/javase/tutorial/datetime/TOC.html)","title":"I tried making my 2 buttons first one to save and second one to show all , but I couldn&#39;t make it work","body":"<p>The first problem is, you're shadowing your variables.</p>\n<p>That is, you've declared <code>spara</code> and <code>visaalia</code> as instance fields of your class, but then re-declared them as local variables in your constructor...</p>\n<pre><code>class mysubclass implements ActionListener {\n\n    //...\n    JButton spara;\n    JButton visaalia;\n    //...\n\n    mysubclass() {\n        //...\n        // Re-declared here as local variable\n        JButton spara = new JButton(&quot;Save&quot;);\n        //...\n        // Re-declared here as local variable\n        JButton visaalia = new JButton(&quot;show all&quot;);\n        //...\n</code></pre>\n<p>This means when <code>actionPerformed</code> is called, <code>spara</code> and <code>visaalia</code> are both <code>null</code></p>\n<p>And now, the elephant(s) in the room</p>\n<p>You don't need <code>static Scanner scr = new Scanner(System.in);</code>, get rid of it, when using a GUI, this kind of statement just scares people</p>\n<p>You shouldn't be using <code>Calendar</code>.  It's effectively deprecated and has been replaced with the <code>java.time.*</code> APIs, time to move forward and learn how it should be done.</p>\n<p>You really need to take the time to learn how to use layout managers.  <code>null</code> layouts are just going to explode in your face and when I run your code, the components don't fit within in the window, rendering your interface useless.</p>\n<p>You really need to take the time to look at:</p>\n<ul>\n<li><a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html\" rel=\"nofollow noreferrer\">Laying Out Components Within a Container</a></li>\n<li><a href=\"https://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"nofollow noreferrer\">Date/Time trail</a></li>\n</ul>\n"}],"owner":{"account_id":20468390,"reputation":1,"user_id":15019390,"display_name":"Marwan Elkordy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1643328004,"creation_date":1643322005,"question_id":70886518,"body_markdown":"I am trying to make a simple java program that saves data for 20 students which is the first name, last name, which term, and email\r\nand make 2 buttons to save data after filling it and then another button to print all data.\r\n\r\nMy main problem to how to figure out using my action listener.\r\n\r\nFirst I made student class:\r\n```\r\nimport java.util.Calendar;\r\nimport java.util.GregorianCalendar;\r\nimport java.util.Scanner;\r\npublic class student {\r\n\tstatic Scanner scr = new Scanner(System.in);\r\n\tString [] [] student = new String[20][5];\r\n\tprivate String fornamn;\r\n\tprivate String efternamn;\r\n\tprivate String termin;\r\n\tprivate String username;\r\n\tprivate String epost;\r\n\r\n\tCalendar calendarObj = GregorianCalendar.getInstance();\r\n\tint month = calendarObj.get(Calendar.MONTH);\r\n\tint year = calendarObj.get(Calendar.YEAR);\r\n\r\n\tpublic student(String fornamn, String efternamn){ //constructor takes f,e\r\n\t\tthis.fornamn = fornamn;\r\n\t\tthis.efternamn = efternamn;\r\n\r\n\t}\r\n\r\n\tpublic student(){ // default constructor\r\n\r\n\t}\r\n\r\n\r\n\tpublic void setFornamn(String fornamn ) {\r\n\t\tthis.fornamn = fornamn;\r\n\t}\r\n\tpublic void setEfternamn (String efternamn ) {\r\n\t\tthis.efternamn= efternamn;\r\n\t}\r\n\r\n\tpublic String getFornamn(){\r\n\t\treturn fornamn;\r\n\t}\r\n\tpublic String getEfternamn(){\r\n\t\treturn efternamn;\r\n\t}\r\n\r\n\tpublic String getTermin(){\r\n\t\treturn termin;\r\n\t}\r\n\r\n\tpublic void setTermin(String termin) {\r\n\t\tthis.termin = termin;\r\n\t}\r\n\r\n\tpublic String getUsername(){\r\n\t\treturn username;\r\n\t}\r\n\tpublic void setUsername(String username) {\r\n\t\tthis.username = username ;\r\n\t}\r\n\r\n\tpublic void setEpost(String epost) {\r\n\t\tthis.epost = epost;\r\n\t}\r\n\tpublic String getEpost() { return epost;}\r\n\r\n\tint i = 0;\r\n\tpublic String skapaTermin() {\r\n\t\tif (month &lt; 6){\r\n\t\t\ttermin = &quot;ht&quot;;\r\n\t\t} else {\r\n\t\t\ttermin = &quot;vt&quot;;\r\n\t\t}\r\n\t\treturn termin;\r\n\t}\r\n\r\n\tpublic String skapaUser() {\r\n\t\tusername = termin + fornamn.substring(0,3) + efternamn.substring(0,3);\r\n\t\treturn skapaUser();\r\n\t}\r\n\r\n\r\n\tpublic String skapaEpost(){\r\n\t\tepost = username + &quot;@du.se&quot;;\r\n\t\treturn skapaEpost();\r\n\t}\r\n\r\n}\r\n```\r\n\r\nsecond  I made this GUI:\r\n```\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;\r\nimport javax.swing.*;\r\nimport java.awt.*;\r\nimport java.awt.event.*;\r\n\r\nclass mysubclass implements ActionListener{\r\n\tstatic student obj = new student ();\t\r\n\tJTextField tfFornamn; \r\n\tJLabel lblFornamn;   \r\n\tJTextField tfEfternamn; \r\n\tJLabel lblEfternamn; \r\n\tJTextField tfTermin; \r\n\tJLabel lblTermin; \r\n\tJTextField tfUsername; \r\n\tJLabel lblUsername; \r\n\tJTextField tfEpost; \r\n\tJLabel lblEpost; \r\n\tJButton spara ;\r\n\tJTextField btnSpara ;\r\n\tJButton visaalia ;\r\n\tmysubclass() {\r\n\t\tJFrame frame = new JFrame(&quot;student form&quot;);\r\n\t\tJPanel panel = new JPanel();\r\n\t\tframe.setSize(400,350);\r\n\t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\tframe.add(panel);\r\n\t\tpanel.setLayout(null);\r\n\r\n\t\tJLabel lblFornamn = new JLabel(&quot;F&#246;rnamn :&quot;); //First name\r\n\t\tlblFornamn.setBounds(10,10,80,35);\r\n\t\tpanel.add(lblFornamn);\r\n\r\n\t\tJTextField tfFornamn = new JTextField(25);  //textfield for first name\r\n\t\ttfFornamn.setBounds(120,10,600,30);\r\n\t\tpanel.add(tfFornamn);\r\n\r\n\t\tJLabel efternamn = new JLabel(&quot;Efternamn :&quot;); //last name \r\n\t\tefternamn.setBounds(10,50,90,35);\r\n\t\tpanel.add(efternamn);\r\n\r\n\t\tJTextField tfEfternamn = new JTextField(25); // textfield for last name\r\n\t\ttfEfternamn.setBounds(120,50,600,30);\r\n\t\tpanel.add(tfEfternamn);\r\n\r\n\t\tJLabel lblTermin = new JLabel(&quot;Termin  :&quot;); //termin\r\n\t\tlblTermin.setBounds(10,90,90,35);\r\n\t\tpanel.add(lblTermin);\r\n\r\n\t\tJTextField tfTermin = new JTextField(25);   //textfield termin\r\n\t\ttfTermin.setBounds(120,90,600,30);\r\n\t\tpanel.add(tfTermin); \r\n\r\n\t\tJLabel lblUsername = new JLabel(&quot;Username :&quot;); // username\r\n\t\tlblUsername.setBounds(10,130,90,35);\r\n\t\tpanel.add(lblUsername);\r\n\r\n\t\tJTextField tfUsername = new JTextField(25);   //textfield username\r\n\t\ttfUsername.setBounds(120,130,600,30);\r\n\t\tpanel.add(tfUsername); \r\n\r\n\t\tJLabel lblEpost = new JLabel(&quot;Epost :&quot;); //email\r\n\t\tlblEpost.setBounds(10,170,90,35);\r\n\t\tpanel.add(lblEpost);\r\n\r\n\t\tJTextField tfEpost = new JTextField(25);   //textfield email\r\n\t\ttfEpost.setBounds(120,170,600,30);\r\n\t\tpanel.add(tfEpost); \r\n\r\n\t\tJButton spara = new JButton(&quot;Save&quot;);\r\n\t\tspara.setBounds(10,210,120,30);\r\n\t\tpanel.add(spara);\r\n\t\tspara.addActionListener(this);\r\n\r\n\t\tJTextField btnSpara = new JTextField(25);   //textfield save button\r\n\t\tbtnSpara.setBounds(150,210,600,130);\r\n\t\tpanel.add(btnSpara); \r\n\r\n\t\tJButton visaalia  = new JButton(&quot;show all&quot;);\r\n\t\tvisaalia.setBounds(10,280,120,30);\r\n\t\tpanel.add(visaalia);\r\n\t\tvisaalia.addActionListener(this);\r\n\r\n\t\tframe.setResizable(true); \r\n\t\tframe.setVisible(true);\r\n\r\n\r\n\r\n\t}\r\n\tpublic void actionPerformed(ActionEvent e) {\r\n\t\tif(e.getSource() == spara) {\r\n\t\t\tobj.setFornamn(tfFornamn.getText()); //encapsulation\r\n\t\t\tobj.setEfternamn(tfEfternamn.getText());\r\n\t\t\tobj.setTermin(tfTermin.getText());\r\n\t\t\tobj.setUsername(tfUsername.getText());\r\n\t\t\tobj.setEpost(tfEpost.getText());\r\n\t\t\tfor(int i = 0 ; i &lt;= obj.student.length;i++) {\r\n\t\t\t\tobj.student [i][0] = obj.getFornamn();\r\n\t\t\t\tobj.student [i][1] = obj.getEfternamn();\r\n\t\t\t\tobj.student [i][2] = obj.getTermin();\r\n\t\t\t\tobj.student [i][3] = obj.getUsername();\r\n\t\t\t\tobj.student [i][4] = obj.getEpost();\r\n\t\t\t}\r\n\t\t}\r\n\t\tif(e.getSource() == visaalia) {\r\n\t\t\tfor(int i = 0 ; i &lt;= obj.student.length;i++) {\r\n\t\t\t\tSystem.out.println(&quot;hi&quot;);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\r\n\t}\r\n}\r\n```\r\n\r\nThen I just called it: \r\n```\r\npublic class Main {\r\n\tpublic static void main(String[] args) {\r\n\t\tnew mysubclass ();\r\n\t}\r\n\r\n}\r\n```","title":"I tried making my 2 buttons first one to save and second one to show all , but I couldn&#39;t make it work","body":"<p>I am trying to make a simple java program that saves data for 20 students which is the first name, last name, which term, and email\nand make 2 buttons to save data after filling it and then another button to print all data.</p>\n<p>My main problem to how to figure out using my action listener.</p>\n<p>First I made student class:</p>\n<pre><code>import java.util.Calendar;\nimport java.util.GregorianCalendar;\nimport java.util.Scanner;\npublic class student {\n    static Scanner scr = new Scanner(System.in);\n    String [] [] student = new String[20][5];\n    private String fornamn;\n    private String efternamn;\n    private String termin;\n    private String username;\n    private String epost;\n\n    Calendar calendarObj = GregorianCalendar.getInstance();\n    int month = calendarObj.get(Calendar.MONTH);\n    int year = calendarObj.get(Calendar.YEAR);\n\n    public student(String fornamn, String efternamn){ //constructor takes f,e\n        this.fornamn = fornamn;\n        this.efternamn = efternamn;\n\n    }\n\n    public student(){ // default constructor\n\n    }\n\n\n    public void setFornamn(String fornamn ) {\n        this.fornamn = fornamn;\n    }\n    public void setEfternamn (String efternamn ) {\n        this.efternamn= efternamn;\n    }\n\n    public String getFornamn(){\n        return fornamn;\n    }\n    public String getEfternamn(){\n        return efternamn;\n    }\n\n    public String getTermin(){\n        return termin;\n    }\n\n    public void setTermin(String termin) {\n        this.termin = termin;\n    }\n\n    public String getUsername(){\n        return username;\n    }\n    public void setUsername(String username) {\n        this.username = username ;\n    }\n\n    public void setEpost(String epost) {\n        this.epost = epost;\n    }\n    public String getEpost() { return epost;}\n\n    int i = 0;\n    public String skapaTermin() {\n        if (month &lt; 6){\n            termin = &quot;ht&quot;;\n        } else {\n            termin = &quot;vt&quot;;\n        }\n        return termin;\n    }\n\n    public String skapaUser() {\n        username = termin + fornamn.substring(0,3) + efternamn.substring(0,3);\n        return skapaUser();\n    }\n\n\n    public String skapaEpost(){\n        epost = username + &quot;@du.se&quot;;\n        return skapaEpost();\n    }\n\n}\n</code></pre>\n<p>second  I made this GUI:</p>\n<pre><code>import java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport javax.swing.*;\nimport java.awt.*;\nimport java.awt.event.*;\n\nclass mysubclass implements ActionListener{\n    static student obj = new student ();    \n    JTextField tfFornamn; \n    JLabel lblFornamn;   \n    JTextField tfEfternamn; \n    JLabel lblEfternamn; \n    JTextField tfTermin; \n    JLabel lblTermin; \n    JTextField tfUsername; \n    JLabel lblUsername; \n    JTextField tfEpost; \n    JLabel lblEpost; \n    JButton spara ;\n    JTextField btnSpara ;\n    JButton visaalia ;\n    mysubclass() {\n        JFrame frame = new JFrame(&quot;student form&quot;);\n        JPanel panel = new JPanel();\n        frame.setSize(400,350);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.add(panel);\n        panel.setLayout(null);\n\n        JLabel lblFornamn = new JLabel(&quot;Förnamn :&quot;); //First name\n        lblFornamn.setBounds(10,10,80,35);\n        panel.add(lblFornamn);\n\n        JTextField tfFornamn = new JTextField(25);  //textfield for first name\n        tfFornamn.setBounds(120,10,600,30);\n        panel.add(tfFornamn);\n\n        JLabel efternamn = new JLabel(&quot;Efternamn :&quot;); //last name \n        efternamn.setBounds(10,50,90,35);\n        panel.add(efternamn);\n\n        JTextField tfEfternamn = new JTextField(25); // textfield for last name\n        tfEfternamn.setBounds(120,50,600,30);\n        panel.add(tfEfternamn);\n\n        JLabel lblTermin = new JLabel(&quot;Termin  :&quot;); //termin\n        lblTermin.setBounds(10,90,90,35);\n        panel.add(lblTermin);\n\n        JTextField tfTermin = new JTextField(25);   //textfield termin\n        tfTermin.setBounds(120,90,600,30);\n        panel.add(tfTermin); \n\n        JLabel lblUsername = new JLabel(&quot;Username :&quot;); // username\n        lblUsername.setBounds(10,130,90,35);\n        panel.add(lblUsername);\n\n        JTextField tfUsername = new JTextField(25);   //textfield username\n        tfUsername.setBounds(120,130,600,30);\n        panel.add(tfUsername); \n\n        JLabel lblEpost = new JLabel(&quot;Epost :&quot;); //email\n        lblEpost.setBounds(10,170,90,35);\n        panel.add(lblEpost);\n\n        JTextField tfEpost = new JTextField(25);   //textfield email\n        tfEpost.setBounds(120,170,600,30);\n        panel.add(tfEpost); \n\n        JButton spara = new JButton(&quot;Save&quot;);\n        spara.setBounds(10,210,120,30);\n        panel.add(spara);\n        spara.addActionListener(this);\n\n        JTextField btnSpara = new JTextField(25);   //textfield save button\n        btnSpara.setBounds(150,210,600,130);\n        panel.add(btnSpara); \n\n        JButton visaalia  = new JButton(&quot;show all&quot;);\n        visaalia.setBounds(10,280,120,30);\n        panel.add(visaalia);\n        visaalia.addActionListener(this);\n\n        frame.setResizable(true); \n        frame.setVisible(true);\n\n\n\n    }\n    public void actionPerformed(ActionEvent e) {\n        if(e.getSource() == spara) {\n            obj.setFornamn(tfFornamn.getText()); //encapsulation\n            obj.setEfternamn(tfEfternamn.getText());\n            obj.setTermin(tfTermin.getText());\n            obj.setUsername(tfUsername.getText());\n            obj.setEpost(tfEpost.getText());\n            for(int i = 0 ; i &lt;= obj.student.length;i++) {\n                obj.student [i][0] = obj.getFornamn();\n                obj.student [i][1] = obj.getEfternamn();\n                obj.student [i][2] = obj.getTermin();\n                obj.student [i][3] = obj.getUsername();\n                obj.student [i][4] = obj.getEpost();\n            }\n        }\n        if(e.getSource() == visaalia) {\n            for(int i = 0 ; i &lt;= obj.student.length;i++) {\n                System.out.println(&quot;hi&quot;);\n            }\n        }\n\n\n    }\n}\n</code></pre>\n<p>Then I just called it:</p>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        new mysubclass ();\n    }\n\n}\n</code></pre>\n"},{"tags":["java","postgresql","grails"],"comments":[{"owner":{"account_id":2866175,"reputation":1531,"user_id":2460460,"display_name":"Sergio Lema"},"score":0,"creation_date":1643292081,"post_id":70879784,"comment_id":125304416,"body_markdown":"Are you sure no other application is actually connected to the database? Check it with &quot;select * from pg_stat_activity&quot; looking at the column client_addr.","body":"Are you sure no other application is actually connected to the database? Check it with &quot;select * from pg_stat_activity&quot; looking at the column client_addr."},{"owner":{"account_id":294607,"reputation":1011,"user_id":598596,"accept_rate":80,"display_name":"Peter"},"score":0,"creation_date":1643292173,"post_id":70879784,"comment_id":125304449,"body_markdown":"Yes, I am sure. It is on my local developer computer, there is just my application connected to postgres.","body":"Yes, I am sure. It is on my local developer computer, there is just my application connected to postgres."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1643327602,"creation_date":1643293550,"answer_id":70880245,"question_id":70879784,"body_markdown":"So the most likely explanation is that you have a resource leak.  Your application ... or your testcases (!) ... are leaking database connections.\r\n\r\nIf that is the case, the root cause is in your code.\r\n\r\n----------------------\r\n\r\nA typical JDBC driver will attempt to defend itself against resource leaks by using `finalize` methods or a `Cleaner` or something like that to close `Connection` and related objects when they are found to be unreachable.  The problem is that these mechanisms only kick in *after* the GC has detected that the objects are no longer reachable.  \r\n\r\nAnd that is where the Java version change could come into play.  The behavior of GCs is Java version sensitive, either directly because the GCs implementations themselves change, or indirectly because things like default heap sizes, &quot;new space&quot; and &quot;old space&quot; sizing defaults, default tenuring parameters and so on can change.  As a result, it is possible that the GC will take longer to find and close `Connection` objects that have been dropped by the application.\r\n\r\nIf too many `Connection` objects are dropped, and / or the GC doesn&#39;t find them quickly enough, you end up with too many open connections, and the database backend won&#39;t let you open any more.\r\n\r\n&gt; Is there a difference in the behavior of the Postgres connection pool in this two JDK versions?\r\n\r\nThe connection pool relies on the GC to deal with pool connections that your application doesn&#39;t return to the pool ... in the approved fashion.  The consequences are as above.\r\n \r\n-----------------------\r\n\r\nThe solution is to clean up your resource leaks.\r\n\r\nThe best way to do this is overhaul your codebase, and make sure that you *always* use [*try with resources*](https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html) to manage the `Connection` objects.","title":"Application is running out postgres connections after JDK upgrade","body":"<p>So the most likely explanation is that you have a resource leak.  Your application ... or your testcases (!) ... are leaking database connections.</p>\n<p>If that is the case, the root cause is in your code.</p>\n<hr />\n<p>A typical JDBC driver will attempt to defend itself against resource leaks by using <code>finalize</code> methods or a <code>Cleaner</code> or something like that to close <code>Connection</code> and related objects when they are found to be unreachable.  The problem is that these mechanisms only kick in <em>after</em> the GC has detected that the objects are no longer reachable.</p>\n<p>And that is where the Java version change could come into play.  The behavior of GCs is Java version sensitive, either directly because the GCs implementations themselves change, or indirectly because things like default heap sizes, &quot;new space&quot; and &quot;old space&quot; sizing defaults, default tenuring parameters and so on can change.  As a result, it is possible that the GC will take longer to find and close <code>Connection</code> objects that have been dropped by the application.</p>\n<p>If too many <code>Connection</code> objects are dropped, and / or the GC doesn't find them quickly enough, you end up with too many open connections, and the database backend won't let you open any more.</p>\n<blockquote>\n<p>Is there a difference in the behavior of the Postgres connection pool in this two JDK versions?</p>\n</blockquote>\n<p>The connection pool relies on the GC to deal with pool connections that your application doesn't return to the pool ... in the approved fashion.  The consequences are as above.</p>\n<hr />\n<p>The solution is to clean up your resource leaks.</p>\n<p>The best way to do this is overhaul your codebase, and make sure that you <em>always</em> use <a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\" rel=\"nofollow noreferrer\"><em>try with resources</em></a> to manage the <code>Connection</code> objects.</p>\n"}],"owner":{"account_id":294607,"reputation":1011,"user_id":598596,"accept_rate":80,"display_name":"Peter"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":202,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643327602,"creation_date":1643291842,"question_id":70879784,"body_markdown":"I upgraded my grails application from JDK 8 to JDK 11. We have some automated tests, that ran okay in JDK8. \r\nBut now with JDK11, I get after a while this exceptions:\r\n\r\n     org.postgresql.util.PSQLException: FATAL: remaining connection slots are reserved for non-replication superuser connections\r\n\r\nIs there a difference in the behavior of the Postgres connection pool in this two JDK versions? I did not change anything in the configuration for the upgrade or changed anything in the Postgres.conf. \r\n\r\n","title":"Application is running out postgres connections after JDK upgrade","body":"<p>I upgraded my grails application from JDK 8 to JDK 11. We have some automated tests, that ran okay in JDK8.\nBut now with JDK11, I get after a while this exceptions:</p>\n<pre><code> org.postgresql.util.PSQLException: FATAL: remaining connection slots are reserved for non-replication superuser connections\n</code></pre>\n<p>Is there a difference in the behavior of the Postgres connection pool in this two JDK versions? I did not change anything in the configuration for the upgrade or changed anything in the Postgres.conf.</p>\n"},{"tags":["java","spring","spring-boot","mockito","spring-boot-actuator"],"comments":[{"owner":{"account_id":16118032,"reputation":93,"user_id":11634626,"display_name":"BSL"},"score":0,"creation_date":1643324597,"post_id":70879699,"comment_id":125316799,"body_markdown":"I have also tried to cast (PingHealthIndicator) (healthContributors) , without success since the healthConributors is a mock object and the PingHealthIndicator is a real object","body":"I have also tried to cast (PingHealthIndicator) (healthContributors) , without success since the healthConributors is a mock object and the PingHealthIndicator is a real object"},{"owner":{"account_id":16118032,"reputation":93,"user_id":11634626,"display_name":"BSL"},"score":0,"creation_date":1643327450,"post_id":70879699,"comment_id":125317386,"body_markdown":"what I have noticed is : \n1- if I do : `@MockBean PingHealthIndicator pingHealthIndicator; `\nthe `pingHealthIndicator.health()` method return null\n2- if I autowire `@Autowired PingHealthIndicator pingHealthIndicator; `\nthe `pingHealthIndicator.health()` method return the correct status and details .","body":"what I have noticed is :  1- if I do : <code>@MockBean PingHealthIndicator pingHealthIndicator; </code> the <code>pingHealthIndicator.health()</code> method return null 2- if I autowire <code>@Autowired PingHealthIndicator pingHealthIndicator; </code> the <code>pingHealthIndicator.health()</code> method return the correct status and details ."}],"owner":{"account_id":16118032,"reputation":93,"user_id":11634626,"display_name":"BSL"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":921,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643327523,"creation_date":1643291445,"question_id":70879699,"body_markdown":"I&#39;m intercepting the actuator/health endpoints in a custom Service by Auto-wiring the HealthContributor interface: \r\n``````\r\n@Service\r\npublic class HealthCheckServiceImpl implements HealthIndicator{\r\n\r\n  @Autowired HealthContributor[] healthContributors;\r\n\r\n  @Override\r\n  public Health health() {\r\n\r\n    Map&lt;String, String&gt; components = new HashMap&lt;String, String&gt;();\r\n    for (HealthContributor healthContributor : healthContributors) {\r\n      String componentName =\r\n          healthContributor\r\n              .getClass()\r\n              .getSimpleName()\r\n              .replace(&quot;HealthIndicator&quot;, &quot;&quot;)\r\n              .replace(&quot;HealthCheckIndicator&quot;, &quot;&quot;);\r\n      String status = ((HealthIndicator) (healthContributor)).health().getStatus().toString();\r\n      components.put(componentName, status);\r\n    }\r\n    String healthComponentAsString = components.keySet().stream()\r\n              .map(key -&gt; key + &quot;-&gt;&quot; + components.get(key))\r\n              .collect(Collectors.joining(&quot;, &quot;));\r\n    Boolean isComponentDown = components.containsValue(&quot;DOWN&quot;);\r\n    if (Boolean.TRUE.equals(isComponentDown)) {\r\n      return Health.down().withDetail(&quot;Status: One of the API component is down. &quot;,&quot;&quot;).build();\r\n    } else {\r\n      return Health.up().withDetail(&quot;Status: All API components are Up. &quot;, &quot;&quot;).build();\r\n    }\r\n  }\r\n``````\r\nMy question is, How can I mock the status of the components in order to test the health() method behavior.\r\nI have tried \r\n\r\n`````\r\n@MockBean\r\n@Qualifier(&quot;pingHealthContributor&quot;) // intercepting just one component instead of \r\n                                    // HealthContributor[]\r\nHealthContributor healthContributors;\r\n`````\r\n\r\nbut when I try to use Mockito. when() as follows:\r\n\r\n`````\r\nString status=&quot;UP&quot;;\r\n when(((HealthIndicator) (healthContributors)).health().getStatus().toString()).thenReturn(status);\r\n`````\r\nI get the following error :\r\n`````\r\njava.lang.ClassCastException: class org.springframework.boot.actuate.health.HealthContributor$MockitoMock$297980690 cannot be cast to class org.springframework.boot.actuate.health.HealthIndicator (org.springframework.boot.actuate.health.HealthContributor$MockitoMock$297980690 and org.springframework.boot.actuate.health.HealthIndicator are in unnamed module of loader &#39;app&#39;)\r\n`````\r\n**Dependencies**\r\n`````\r\n        &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.23.4&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n`````","title":"How to Mock /actuator/health in UnitTest","body":"<p>I'm intercepting the actuator/health endpoints in a custom Service by Auto-wiring the HealthContributor interface:</p>\n<pre><code>@Service\npublic class HealthCheckServiceImpl implements HealthIndicator{\n\n  @Autowired HealthContributor[] healthContributors;\n\n  @Override\n  public Health health() {\n\n    Map&lt;String, String&gt; components = new HashMap&lt;String, String&gt;();\n    for (HealthContributor healthContributor : healthContributors) {\n      String componentName =\n          healthContributor\n              .getClass()\n              .getSimpleName()\n              .replace(&quot;HealthIndicator&quot;, &quot;&quot;)\n              .replace(&quot;HealthCheckIndicator&quot;, &quot;&quot;);\n      String status = ((HealthIndicator) (healthContributor)).health().getStatus().toString();\n      components.put(componentName, status);\n    }\n    String healthComponentAsString = components.keySet().stream()\n              .map(key -&gt; key + &quot;-&gt;&quot; + components.get(key))\n              .collect(Collectors.joining(&quot;, &quot;));\n    Boolean isComponentDown = components.containsValue(&quot;DOWN&quot;);\n    if (Boolean.TRUE.equals(isComponentDown)) {\n      return Health.down().withDetail(&quot;Status: One of the API component is down. &quot;,&quot;&quot;).build();\n    } else {\n      return Health.up().withDetail(&quot;Status: All API components are Up. &quot;, &quot;&quot;).build();\n    }\n  }\n</code></pre>\n<p>My question is, How can I mock the status of the components in order to test the health() method behavior.\nI have tried</p>\n<pre><code>@MockBean\n@Qualifier(&quot;pingHealthContributor&quot;) // intercepting just one component instead of \n                                    // HealthContributor[]\nHealthContributor healthContributors;\n</code></pre>\n<p>but when I try to use Mockito. when() as follows:</p>\n<pre><code>String status=&quot;UP&quot;;\n when(((HealthIndicator) (healthContributors)).health().getStatus().toString()).thenReturn(status);\n</code></pre>\n<p>I get the following error :</p>\n<pre><code>java.lang.ClassCastException: class org.springframework.boot.actuate.health.HealthContributor$MockitoMock$297980690 cannot be cast to class org.springframework.boot.actuate.health.HealthIndicator (org.springframework.boot.actuate.health.HealthContributor$MockitoMock$297980690 and org.springframework.boot.actuate.health.HealthIndicator are in unnamed module of loader 'app')\n</code></pre>\n<p><strong>Dependencies</strong></p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n                    &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n            &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\n            &lt;version&gt;2.23.4&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","memory","heap-memory"],"comments":[{"owner":{"account_id":247613,"reputation":284090,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1305983782,"post_id":6081955,"comment_id":7045975,"body_markdown":"run the program with more heap memory.","body":"run the program with more heap memory."}],"answers":[{"tags":[],"owner":{"account_id":149087,"reputation":18896,"user_id":361319,"accept_rate":62,"display_name":"dty"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1305983835,"creation_date":1305983835,"answer_id":6081986,"question_id":6081955,"body_markdown":"`Integer` is an object which will take more than 4 bytes. How much more is implementation dependent. Do you really need `Integer`? The only benefit is that it can be `null`. Perhaps you could use a &quot;sentinal value&quot; instead; say, -1, or `Integer.MIN_VALUE`.","title":"Memory footprint of int[] and Integer[] arrays","body":"<p><code>Integer</code> is an object which will take more than 4 bytes. How much more is implementation dependent. Do you really need <code>Integer</code>? The only benefit is that it can be <code>null</code>. Perhaps you could use a \"sentinal value\" instead; say, -1, or <code>Integer.MIN_VALUE</code>.</p>\n"},{"tags":[],"owner":{"account_id":104251,"reputation":52940,"user_id":278836,"accept_rate":88,"display_name":"Andrew White"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1305983872,"creation_date":1305983872,"answer_id":6081990,"question_id":6081955,"body_markdown":"Java&#39;s int primitive will take up 4 bytes but if you use a ValueObject like Integer it&#39;s going to take up much more space. Depending on your machine a reference alone could take up 32 or 64 bits + the size of the primitive it is wrapping.\r\n\r\nYou should probably just use primitive ints if space is an issue. [Here is a very good SO answer that explains this topic in more detail][1]. \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/981073/how-big-is-an-object-reference-in-java-and-precisely-what-information-does-it-con/981130#981130","title":"Memory footprint of int[] and Integer[] arrays","body":"<p>Java's int primitive will take up 4 bytes but if you use a ValueObject like Integer it's going to take up much more space. Depending on your machine a reference alone could take up 32 or 64 bits + the size of the primitive it is wrapping.</p>\n\n<p>You should probably just use primitive ints if space is an issue. <a href=\"https://stackoverflow.com/questions/981073/how-big-is-an-object-reference-in-java-and-precisely-what-information-does-it-con/981130#981130\">Here is a very good SO answer that explains this topic in more detail</a>. </p>\n"},{"tags":[],"owner":{"account_id":247613,"reputation":284090,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1305984208,"creation_date":1305984208,"answer_id":6082013,"question_id":6081955,"body_markdown":"Perhaps you should be using a database rather than a huge array, but if you must use a huge array of objects, have you tried increasing the Java memory size by using a the -Xms command line argument when running the Java application launcher?","title":"Memory footprint of int[] and Integer[] arrays","body":"<p>Perhaps you should be using a database rather than a huge array, but if you must use a huge array of objects, have you tried increasing the Java memory size by using a the -Xms command line argument when running the Java application launcher?</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1643327399,"creation_date":1305986496,"answer_id":6082207,"question_id":6081955,"body_markdown":"Lets assume that we are talking about a 32bit OpenJDK-based JVM.\r\n\r\n  - Each Integer object has 1 `int` field - occupying 4 bytes.\r\n  - Each Integer object has 2 header words - occupying 8 bytes.\r\n  - The granularity of allocation is (I believe) 2 words - 4 bytes of padding.\r\n  - The Integer[] has 1 reference for each array element / position - 4 bytes.\r\n\r\nSo the total is 20 bytes per array element.  20 x 30 x 1,000,000 = 600,000,000 Mbytes.  Now add the fact that the generational collector will allocate at least 3 object spaces of various sizes, and that could easily add up to 900+ Mbytes.\r\n\r\n---------\r\n\r\n&gt; how could i fix it ? \r\n\r\n  - Use `int[]` instead of `Integer`.\r\n  - If the `Integer` values mostly represent numbers in the range -128 to + 127, allocate them with `Integer.valueOf(int)`.  The JLS guarantees that `Integer` objects created that way will be shared.  (Note that when an `Integer` is created by auto-boxing, then JLS stipulates that `valueOf` is used.  So, in fact, this &quot;fix&quot; has already been applied in your example.)\r\n  - If your `Integer` values mostly come from a larger but still small domain, consider implementing your own cache for sharing `Integer` objects.\r\n\r\n------\r\n\r\n&gt; My question was about Integer as an example, in my program i use my own object that only holds an array of bytes (max size of 4). when i create it, it takes a lot more then 4 bytes on the memory.\r\n\r\nYes, it will do.\r\n\r\nLet&#39;s assume your class is defined like this:\r\n\r\n    public class MyInt {\r\n        private byte[] bytes = new byte[4];\r\n    }\r\n\r\nEach `MyInt` will occupy:\r\n\r\n  - `MyInt` header words - 8 bytes\r\n  - `MyInt.bytes` field - 4 byte\r\n  - Padding - 4 bytes\r\n  - Header words for the byte array - 12 bytes\r\n  - Array content - 4 bytes\r\n\r\nNow add the space taken by the `MyInt` reference:\r\n\r\n  - Reference to each `MyInt` - 4 bytes\r\n\r\nGrand total - 36 bytes per `MyInt` element of a `MyInt[]`.\r\n\r\nCompare that with 20 bytes per `Integer` element of an `Integer[]` or 4 bytes per `int` element of an `int[]`.\r\n\r\n----------------------\r\n\r\nHow to fix that case?\r\n\r\nWell an array of 4 bytes contains 32 bits of data.  That can be encoded as `int`.  So the fix is the same as before.  Use an `int[]` instead of a `MyInt[]`, or (possibly) adapt one of the other ideas discussed above.\r\n\r\nAlternatively, make the heap larger, or use a database or something like that so that the data doesn&#39;t need to be held in RAM.\r\n\r\n\r\n","title":"Memory footprint of int[] and Integer[] arrays","body":"<p>Lets assume that we are talking about a 32bit OpenJDK-based JVM.</p>\n<ul>\n<li>Each Integer object has 1 <code>int</code> field - occupying 4 bytes.</li>\n<li>Each Integer object has 2 header words - occupying 8 bytes.</li>\n<li>The granularity of allocation is (I believe) 2 words - 4 bytes of padding.</li>\n<li>The Integer[] has 1 reference for each array element / position - 4 bytes.</li>\n</ul>\n<p>So the total is 20 bytes per array element.  20 x 30 x 1,000,000 = 600,000,000 Mbytes.  Now add the fact that the generational collector will allocate at least 3 object spaces of various sizes, and that could easily add up to 900+ Mbytes.</p>\n<hr />\n<blockquote>\n<p>how could i fix it ?</p>\n</blockquote>\n<ul>\n<li>Use <code>int[]</code> instead of <code>Integer</code>.</li>\n<li>If the <code>Integer</code> values mostly represent numbers in the range -128 to + 127, allocate them with <code>Integer.valueOf(int)</code>.  The JLS guarantees that <code>Integer</code> objects created that way will be shared.  (Note that when an <code>Integer</code> is created by auto-boxing, then JLS stipulates that <code>valueOf</code> is used.  So, in fact, this &quot;fix&quot; has already been applied in your example.)</li>\n<li>If your <code>Integer</code> values mostly come from a larger but still small domain, consider implementing your own cache for sharing <code>Integer</code> objects.</li>\n</ul>\n<hr />\n<blockquote>\n<p>My question was about Integer as an example, in my program i use my own object that only holds an array of bytes (max size of 4). when i create it, it takes a lot more then 4 bytes on the memory.</p>\n</blockquote>\n<p>Yes, it will do.</p>\n<p>Let's assume your class is defined like this:</p>\n<pre><code>public class MyInt {\n    private byte[] bytes = new byte[4];\n}\n</code></pre>\n<p>Each <code>MyInt</code> will occupy:</p>\n<ul>\n<li><code>MyInt</code> header words - 8 bytes</li>\n<li><code>MyInt.bytes</code> field - 4 byte</li>\n<li>Padding - 4 bytes</li>\n<li>Header words for the byte array - 12 bytes</li>\n<li>Array content - 4 bytes</li>\n</ul>\n<p>Now add the space taken by the <code>MyInt</code> reference:</p>\n<ul>\n<li>Reference to each <code>MyInt</code> - 4 bytes</li>\n</ul>\n<p>Grand total - 36 bytes per <code>MyInt</code> element of a <code>MyInt[]</code>.</p>\n<p>Compare that with 20 bytes per <code>Integer</code> element of an <code>Integer[]</code> or 4 bytes per <code>int</code> element of an <code>int[]</code>.</p>\n<hr />\n<p>How to fix that case?</p>\n<p>Well an array of 4 bytes contains 32 bits of data.  That can be encoded as <code>int</code>.  So the fix is the same as before.  Use an <code>int[]</code> instead of a <code>MyInt[]</code>, or (possibly) adapt one of the other ideas discussed above.</p>\n<p>Alternatively, make the heap larger, or use a database or something like that so that the data doesn't need to be held in RAM.</p>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1306013365,"creation_date":1306013365,"answer_id":6084566,"question_id":6081955,"body_markdown":"This is not what you are looking for but the optimal solution is to use a function instead of an array in this simple example.\r\n\r\n    static int index(int num) {\r\n        return num;\r\n    }\r\n\r\nIf you have a more realistic example, there may be other optimisations you can use.","title":"Memory footprint of int[] and Integer[] arrays","body":"<p>This is not what you are looking for but the optimal solution is to use a function instead of an array in this simple example.</p>\n\n<pre><code>static int index(int num) {\n    return num;\n}\n</code></pre>\n\n<p>If you have a more realistic example, there may be other optimisations you can use.</p>\n"}],"owner":{"account_id":153914,"reputation":1003,"user_id":369507,"accept_rate":75,"display_name":"Ben2307"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8833,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":6081990,"answer_count":5,"score":3,"last_activity_date":1643327399,"creation_date":1305983391,"question_id":6081955,"body_markdown":"I try to create an array of Integers (i tried with own object but the same happened with int) , with size of 30 million. i keep getting &quot;OutOfMemoryError: Java heap space&quot;\r\n\r\n\r\n    Integer [] index = new Integer[30000000];\r\n    for (int i = 0 ; i &lt; 30000000 ; i++){\r\n      \tindex[i] = i;\r\n    }\r\ni checked the total heap space, using &quot;Runtime.getRuntime().totalMemory()&quot; and &quot;maxMemory()&quot;\r\nand saw that i start with 64 MB and the max  is 900+ MB, and during the run i get to 900+ on the heap and crush.\t\r\n\r\nnow i know that Integer takes 4 bytes, so even if i multiply 30*4*1000000 i should still only get about 150-100 mega.\r\n\r\nif i try with a primitive type, like int, it works.\r\n\r\nhow could i fix it ? ","title":"Memory footprint of int[] and Integer[] arrays","body":"<p>I try to create an array of Integers (i tried with own object but the same happened with int) , with size of 30 million. i keep getting \"OutOfMemoryError: Java heap space\"</p>\n\n<pre><code>Integer [] index = new Integer[30000000];\nfor (int i = 0 ; i &lt; 30000000 ; i++){\n    index[i] = i;\n}\n</code></pre>\n\n<p>i checked the total heap space, using \"Runtime.getRuntime().totalMemory()\" and \"maxMemory()\"\nand saw that i start with 64 MB and the max  is 900+ MB, and during the run i get to 900+ on the heap and crush.    </p>\n\n<p>now i know that Integer takes 4 bytes, so even if i multiply 30*4*1000000 i should still only get about 150-100 mega.</p>\n\n<p>if i try with a primitive type, like int, it works.</p>\n\n<p>how could i fix it ? </p>\n"},{"tags":["java","docker","jvm","thread-dump","jstack"],"answers":[{"tags":[],"owner":{"account_id":4210603,"reputation":94356,"user_id":3448419,"display_name":"apangin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643326365,"creation_date":1643326365,"answer_id":70887157,"question_id":70887088,"body_markdown":"The issue has nothing to do with jstack.\r\nThe error says, `bash` can&#39;t create `thread.dump` file in the root directory. This is quite expected, since `/` is typically writable only by `root`. Try creating the output file in a different directory.","title":"Running jstack inside Docker container throws &quot;Permission Denied&quot;","body":"<p>The issue has nothing to do with jstack.\nThe error says, <code>bash</code> can't create <code>thread.dump</code> file in the root directory. This is quite expected, since <code>/</code> is typically writable only by <code>root</code>. Try creating the output file in a different directory.</p>\n"}],"owner":{"account_id":3101854,"reputation":4107,"user_id":2625772,"accept_rate":54,"display_name":"AnOldSoul"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":921,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1643326365,"creation_date":1643325853,"question_id":70887088,"body_markdown":"I am trying to get a thread dump of a Java service running inside Docker container. I got into the container terminal using the following command.\r\n\r\n    sudo docker exec -u 1000:0 -ti MyService /bin/bash\r\n\r\nWhen I now run the following jstack command,\r\n\r\n    [ecs-user@myComputer /]$ jstack -l 436 &gt; thread.dump\r\n\r\nI get the following error.\r\n\r\n    bash: thread.dump: Permission denied\r\n\r\nMy docker container runAsUser is specified as `ecs-user` and that&#39;s the user the bash shell is running as. What permissions do I grant this user on which files to be able to do this thread dump? Or are there any other alternatives with jstack? Would appreciate any suggestions/advice. Thanks in advance.\r\n\r\n","title":"Running jstack inside Docker container throws &quot;Permission Denied&quot;","body":"<p>I am trying to get a thread dump of a Java service running inside Docker container. I got into the container terminal using the following command.</p>\n<pre><code>sudo docker exec -u 1000:0 -ti MyService /bin/bash\n</code></pre>\n<p>When I now run the following jstack command,</p>\n<pre><code>[ecs-user@myComputer /]$ jstack -l 436 &gt; thread.dump\n</code></pre>\n<p>I get the following error.</p>\n<pre><code>bash: thread.dump: Permission denied\n</code></pre>\n<p>My docker container runAsUser is specified as <code>ecs-user</code> and that's the user the bash shell is running as. What permissions do I grant this user on which files to be able to do this thread dump? Or are there any other alternatives with jstack? Would appreciate any suggestions/advice. Thanks in advance.</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":2459420,"reputation":15594,"user_id":2704032,"accept_rate":48,"display_name":"Vishrant"},"score":0,"creation_date":1643325958,"post_id":70887062,"comment_id":125317106,"body_markdown":"not sure if I followed, but are you looking for `rollbackFor` https://stackoverflow.com/q/21188239/2704032?","body":"not sure if I followed, but are you looking for <code>rollbackFor</code> <a href=\"https://stackoverflow.com/q/21188239/2704032\">stackoverflow.com/q/21188239/2704032</a>?"}],"answers":[{"tags":[],"owner":{"account_id":16275872,"reputation":90,"user_id":11753047,"display_name":"Landry Toutou"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643326217,"creation_date":1643326217,"answer_id":70887134,"question_id":70887062,"body_markdown":"This is normal, by default spring canceled only when an unchecked exception is thrown.\r\n\r\nyou have to add at the top of your class @Transactional ( rollbackFor =  Exception . class ).\r\n\r\nLike that\r\n\r\n```\r\n\r\n@Transactional ( rollbackFor =  Exception.class )\r\n\r\npublic class MyClass{\r\n\r\n    public void step1() throws Exception {\r\n        throw new java.lang.Exception();\r\n    }\r\n    public void step2() throws Exception {\r\n        throw new java.lang.Exception();\r\n    }\r\n\r\n\r\n}\r\n\r\n```\r\n\r\nNow like that your exception can cancel your transaction.\r\n","title":"Transactional anotation with expection","body":"<p>This is normal, by default spring canceled only when an unchecked exception is thrown.</p>\n<p>you have to add at the top of your class @Transactional ( rollbackFor =  Exception . class ).</p>\n<p>Like that</p>\n<pre><code>\n@Transactional ( rollbackFor =  Exception.class )\n\npublic class MyClass{\n\n    public void step1() throws Exception {\n        throw new java.lang.Exception();\n    }\n    public void step2() throws Exception {\n        throw new java.lang.Exception();\n    }\n\n\n}\n\n</code></pre>\n<p>Now like that your exception can cancel your transaction.</p>\n"}],"owner":{"account_id":23980816,"reputation":33,"user_id":17968275,"display_name":"tinit"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70887134,"answer_count":1,"score":1,"last_activity_date":1643326217,"creation_date":1643325646,"question_id":70887062,"body_markdown":"I want my transaction to be canceled following a personalized exception\r\n\r\n``` \r\n@Transactional\r\npublic class MyClass{\r\n\r\n    public void step1() throws Exception {\r\n        throw new java.lang.Exception();\r\n    }\r\n    public void step2() throws Exception {\r\n        throw new java.lang.Exception();\r\n    }\r\n\r\n\r\n}\r\n```\r\n\r\nBut nothing happens when my exceptions occur.\r\n","title":"Transactional anotation with expection","body":"<p>I want my transaction to be canceled following a personalized exception</p>\n<pre><code>@Transactional\npublic class MyClass{\n\n    public void step1() throws Exception {\n        throw new java.lang.Exception();\n    }\n    public void step2() throws Exception {\n        throw new java.lang.Exception();\n    }\n\n\n}\n</code></pre>\n<p>But nothing happens when my exceptions occur.</p>\n"},{"tags":["java","android","contacts","android-contacts","android-cursor"],"answers":[{"tags":[],"owner":{"account_id":433802,"reputation":27761,"user_id":819355,"accept_rate":72,"display_name":"marmor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632034325,"creation_date":1632034325,"answer_id":69240994,"question_id":69233542,"body_markdown":"Your query is running on the `Phone.CONTENT_URI` table, which can only return basic Contacts table columns + Phone specific columns, it can&#39;t for example return `Event.START_DATE` data.\r\n\r\nThe `Phone.Number` constant and the `Event.START_DATE` constant both map to the underling field `ContactsContract.DataColumns.DATA1` (see [Phone columns here][1]) - that is why you&#39;re getting the phone number in your code.\r\n\r\nTo get information from multiple contact data tables you need to query on `Data.CONTENT_URI` table instead, which will return data from **all data types** and then use the mimetype value to figure out which type of row you are currently on.\r\n\r\nSo if you need only Phone and Event data types, here&#39;s the code:\r\n\r\n    String[] projection = {Data.CONTACT_ID, Data.DISPLAY_NAME, Data.MIMETYPE, Data.DATA1}; // if you need more fields add them here\r\n    \r\n    // query only phones / events\r\n    String selection = Data.MIMETYPE + &quot; IN (&#39;&quot; + Phone.CONTENT_ITEM_TYPE + &quot;&#39;, &#39;&quot; + Event.CONTENT_ITEM_TYPE + &quot;&#39;)&quot;;\r\n    ContentResolver cr = getContentResolver();\r\n    Cursor cur = cr.query(Data.CONTENT_URI, projection, selection, null, null);\r\n    \r\n    while (cur != null &amp;&amp; cur.moveToNext()) {\r\n        long id = cur.getLong(0);\r\n        String name = cur.getString(1); // full name\r\n        String mime = cur.getString(2); // type of data (phone / event)\r\n        String data = cur.getString(3); // the actual info\r\n    \r\n        Log.d(TAG, &quot;got &quot; + id + &quot;-&quot; + name + &quot;-&quot; + mime + &quot;: &quot; + data);\r\n\r\n        if (mime == Phone.CONTENT_ITEM_TYPE) {\r\n            // do something with the phone\r\n        } else {\r\n            // do something with the event start_date\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/provider/ContactsContract.CommonDataKinds.Phone","title":"event_start always returning contact number in android","body":"<p>Your query is running on the <code>Phone.CONTENT_URI</code> table, which can only return basic Contacts table columns + Phone specific columns, it can't for example return <code>Event.START_DATE</code> data.</p>\n<p>The <code>Phone.Number</code> constant and the <code>Event.START_DATE</code> constant both map to the underling field <code>ContactsContract.DataColumns.DATA1</code> (see <a href=\"https://developer.android.com/reference/android/provider/ContactsContract.CommonDataKinds.Phone\" rel=\"nofollow noreferrer\">Phone columns here</a>) - that is why you're getting the phone number in your code.</p>\n<p>To get information from multiple contact data tables you need to query on <code>Data.CONTENT_URI</code> table instead, which will return data from <strong>all data types</strong> and then use the mimetype value to figure out which type of row you are currently on.</p>\n<p>So if you need only Phone and Event data types, here's the code:</p>\n<pre><code>String[] projection = {Data.CONTACT_ID, Data.DISPLAY_NAME, Data.MIMETYPE, Data.DATA1}; // if you need more fields add them here\n\n// query only phones / events\nString selection = Data.MIMETYPE + &quot; IN ('&quot; + Phone.CONTENT_ITEM_TYPE + &quot;', '&quot; + Event.CONTENT_ITEM_TYPE + &quot;')&quot;;\nContentResolver cr = getContentResolver();\nCursor cur = cr.query(Data.CONTENT_URI, projection, selection, null, null);\n\nwhile (cur != null &amp;&amp; cur.moveToNext()) {\n    long id = cur.getLong(0);\n    String name = cur.getString(1); // full name\n    String mime = cur.getString(2); // type of data (phone / event)\n    String data = cur.getString(3); // the actual info\n\n    Log.d(TAG, &quot;got &quot; + id + &quot;-&quot; + name + &quot;-&quot; + mime + &quot;: &quot; + data);\n\n    if (mime == Phone.CONTENT_ITEM_TYPE) {\n        // do something with the phone\n    } else {\n        // do something with the event start_date\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":20312974,"reputation":23,"user_id":16897106,"display_name":"Unknown"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1643326077,"creation_date":1631958857,"question_id":69233542,"body_markdown":"Why `ContactsContract.CommonDataKinds.Event.START_DATE` always returning contact number. The number is available in Google Contacts.\r\n\r\n![](https://i.stack.imgur.com/8WCyH.png)\r\n\r\n![](https://i.stack.imgur.com/7hUGt.png)\r\n\r\nHere what I am doing...\r\n\r\n```java\r\nCursor c;\r\n        if (contactID==&quot;&quot;) {\r\n            c = activity.getContentResolver().query(Phone.CONTENT_URI, null, null, null, ContactsContract.Contacts.DISPLAY_NAME + &quot; ASC &quot;);\r\n        }else{\r\n            StringBuffer whereClause = new StringBuffer();\r\n            whereClause.append(Phone.CONTACT_ID);\r\n            whereClause.append(&quot;=&quot;);\r\n            whereClause.append(contactID);\r\n            c = activity.getContentResolver().query(Phone.CONTENT_URI, null, whereClause.toString(), null, ContactsContract.Contacts.DISPLAY_NAME + &quot; ASC &quot;);\r\n        }\r\nbirthday = c.getString(c.getColumnIndex(ContactsContract.CommonDataKinds.Event.START_DATE));\r\n```\r\n\r\nFor setting in layout.\r\n\r\n```java\r\nbirthday = fetchSpecificContact.get(Constants.BIRTHDAY);\r\netxtBirthday.setText(birthday);\r\n```\r\n\r\nI can&#39;t see any problem anywhere. API level 22 maybe. Android version : 5.1. ","title":"event_start always returning contact number in android","body":"<p>Why <code>ContactsContract.CommonDataKinds.Event.START_DATE</code> always returning contact number. The number is available in Google Contacts.</p>\n<p><img src=\"https://i.stack.imgur.com/8WCyH.png\" alt=\"\" /></p>\n<p><img src=\"https://i.stack.imgur.com/7hUGt.png\" alt=\"\" /></p>\n<p>Here what I am doing...</p>\n<pre class=\"lang-java prettyprint-override\"><code>Cursor c;\n        if (contactID==&quot;&quot;) {\n            c = activity.getContentResolver().query(Phone.CONTENT_URI, null, null, null, ContactsContract.Contacts.DISPLAY_NAME + &quot; ASC &quot;);\n        }else{\n            StringBuffer whereClause = new StringBuffer();\n            whereClause.append(Phone.CONTACT_ID);\n            whereClause.append(&quot;=&quot;);\n            whereClause.append(contactID);\n            c = activity.getContentResolver().query(Phone.CONTENT_URI, null, whereClause.toString(), null, ContactsContract.Contacts.DISPLAY_NAME + &quot; ASC &quot;);\n        }\nbirthday = c.getString(c.getColumnIndex(ContactsContract.CommonDataKinds.Event.START_DATE));\n</code></pre>\n<p>For setting in layout.</p>\n<pre class=\"lang-java prettyprint-override\"><code>birthday = fetchSpecificContact.get(Constants.BIRTHDAY);\netxtBirthday.setText(birthday);\n</code></pre>\n<p>I can't see any problem anywhere. API level 22 maybe. Android version : 5.1.</p>\n"},{"tags":["java","android","contacts","android-cursor"],"comments":[{"owner":{"account_id":17317295,"reputation":160,"user_id":12543430,"display_name":"D_K"},"score":0,"creation_date":1632110517,"post_id":69248531,"comment_id":122395506,"body_markdown":"did you check the column index is right ??","body":"did you check the column index is right ??"},{"owner":{"account_id":20312974,"reputation":23,"user_id":16897106,"display_name":"Unknown"},"score":0,"creation_date":1632111674,"post_id":69248531,"comment_id":122395660,"body_markdown":"@D_K As far as I know, Yes!","body":"@D_K As far as I know, Yes!"}],"owner":{"account_id":20312974,"reputation":23,"user_id":16897106,"display_name":"Unknown"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643326021,"creation_date":1632105047,"question_id":69248531,"body_markdown":"```java\r\n Cursor c = activity.getContentResolver().query(CallLog.Calls.CONTENT_URI, null, null, null, CallLog.Calls.DATE + &quot; DESC &quot;);\r\ntry{\r\n                photo = c.getString(c.getColumnIndex(CallLog.Calls.CACHED_PHOTO_URI));\r\n                Log.d(&quot;PHOTO_URI&quot;,photo);\r\n            }catch (Exception e){\r\n                Log.e(&quot;ERROR_LOG&quot;,e.toString());\r\n            }\r\n```\r\n\r\nERROR_LOG always returning `Couldn&#39;t read row 305, col -1 from CursorWindow. Make sure the Cursor is initialized correctly before accessing data from it.` I was reading [the answer](https://stackoverflow.com/a/52352288/16897106). According to that answer what I understood that is, that user was fetching only single column. But I am not doing that here. I am fetching all the columns from CallLog.Calls.CONTENT_URI. So my question is completely different from that. I had tried with `c.getInt` but it also doesn&#39;t work. ","title":"Couldn&#39;t read row 305, col -1 from CursorWindow. Make sure the Cursor is initialized correctly before accessing data from it","body":"<pre class=\"lang-java prettyprint-override\"><code> Cursor c = activity.getContentResolver().query(CallLog.Calls.CONTENT_URI, null, null, null, CallLog.Calls.DATE + &quot; DESC &quot;);\ntry{\n                photo = c.getString(c.getColumnIndex(CallLog.Calls.CACHED_PHOTO_URI));\n                Log.d(&quot;PHOTO_URI&quot;,photo);\n            }catch (Exception e){\n                Log.e(&quot;ERROR_LOG&quot;,e.toString());\n            }\n</code></pre>\n<p>ERROR_LOG always returning <code>Couldn't read row 305, col -1 from CursorWindow. Make sure the Cursor is initialized correctly before accessing data from it.</code> I was reading <a href=\"https://stackoverflow.com/a/52352288/16897106\">the answer</a>. According to that answer what I understood that is, that user was fetching only single column. But I am not doing that here. I am fetching all the columns from CallLog.Calls.CONTENT_URI. So my question is completely different from that. I had tried with <code>c.getInt</code> but it also doesn't work.</p>\n"},{"tags":["java","api"],"answers":[{"tags":[],"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1643326019,"creation_date":1643312541,"answer_id":70884761,"question_id":70883694,"body_markdown":"You can write your own code using class `HttpURLConnection`, but there already third party http client libraries that can make it much simpler for you to do so. Here are some options:&lt;br&gt;\r\n[Apache Http client][1]&lt;br&gt;\r\n[OK Http client][2]&lt;br&gt;\r\nAlso there is by far less known MgntUtils library that has Http client as well, and that one is very simple to use. Here is how your code would look like:\r\n\r\n    HttpClient client = new HttpClient();\r\n    client.setContentType(&quot;application/json; utf-8&quot;);\r\n    client.setRequestProperty(&quot;Authorization&quot;, &quot;Bearer &lt;your_access_token_here&gt;&quot;);\r\n    try {\r\n      client.sendHttpRequest(&quot;https://api.pushbullet.com/v2/users/me&quot;, HttpClient.HttpMethod.GET);\r\n      System.out.println(client.getLastResponseCode() + &quot; &quot; + client.getLastResponseMessage());\r\n    }catch(IOException ioe) {\r\n        System.out.println(client.getLastResponseCode() + &quot; &quot; + client.getLastResponseMessage());\r\n    }\r\n\r\nAnd you are all set. Here is the [JavaDoc for HttpClient class][3]. The library can be obtained as [Maven artifact from Maven Central][4] and from [Github][5] (including source code and Javadoc)\r\n\r\n \r\n\r\n\r\n  [1]: https://hc.apache.org/httpcomponents-client-5.1.x/\r\n  [2]: https://square.github.io/okhttp/4.x/okhttp/okhttp3/-ok-http-client/\r\n  [3]: http://michaelgantman.github.io/Mgnt/docs/com/mgnt/lifecycle/management/httpclient/HttpClient.html\r\n  [4]: https://search.maven.org/artifact/com.github.michaelgantman/MgntUtils\r\n  [5]: https://github.com/michaelgantman/Mgnt/releases","title":"how to make requests to an api","body":"<p>You can write your own code using class <code>HttpURLConnection</code>, but there already third party http client libraries that can make it much simpler for you to do so. Here are some options:<br>\n<a href=\"https://hc.apache.org/httpcomponents-client-5.1.x/\" rel=\"nofollow noreferrer\">Apache Http client</a><br>\n<a href=\"https://square.github.io/okhttp/4.x/okhttp/okhttp3/-ok-http-client/\" rel=\"nofollow noreferrer\">OK Http client</a><br>\nAlso there is by far less known MgntUtils library that has Http client as well, and that one is very simple to use. Here is how your code would look like:</p>\n<pre><code>HttpClient client = new HttpClient();\nclient.setContentType(&quot;application/json; utf-8&quot;);\nclient.setRequestProperty(&quot;Authorization&quot;, &quot;Bearer &lt;your_access_token_here&gt;&quot;);\ntry {\n  client.sendHttpRequest(&quot;https://api.pushbullet.com/v2/users/me&quot;, HttpClient.HttpMethod.GET);\n  System.out.println(client.getLastResponseCode() + &quot; &quot; + client.getLastResponseMessage());\n}catch(IOException ioe) {\n    System.out.println(client.getLastResponseCode() + &quot; &quot; + client.getLastResponseMessage());\n}\n</code></pre>\n<p>And you are all set. Here is the <a href=\"http://michaelgantman.github.io/Mgnt/docs/com/mgnt/lifecycle/management/httpclient/HttpClient.html\" rel=\"nofollow noreferrer\">JavaDoc for HttpClient class</a>. The library can be obtained as <a href=\"https://search.maven.org/artifact/com.github.michaelgantman/MgntUtils\" rel=\"nofollow noreferrer\">Maven artifact from Maven Central</a> and from <a href=\"https://github.com/michaelgantman/Mgnt/releases\" rel=\"nofollow noreferrer\">Github</a> (including source code and Javadoc)</p>\n"}],"owner":{"display_name":"user17370683"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70884761,"answer_count":1,"score":0,"last_activity_date":1643326019,"creation_date":1643307251,"question_id":70883694,"body_markdown":"I want to push and receive msgs using the Pushbullet api in java https://docs.pushbullet.com/v9/#http . The problem I am facing is that I really have no idea how to do anything related to apis, On the website it says you can do a request that goes like this:\r\n```dos\r\ncurl --header &#39;Authorization: Bearer &lt;your_access_token_here&gt;&#39; https://api.pushbullet.com/v2/users/me\r\n```\r\n\r\nusing curl. what if I want to do it in java? what would I do? is it just something like getting the URL and adding &#39;Authorization: Bearer &lt;your_access_token_here&gt;&#39; like this:\r\n\r\nhttps://api.pushbullet.com/v2/users/me Authorization: Bearer &lt;your_access_token_here&gt;\r\nbecause it doesn&#39;t seem so.\r\n\r\nthis is the code I am working on:\r\n```java\r\n        HttpURLConnection urlConnection = (HttpURLConnection) new URL(&quot;https://api.pushbullet.com&quot;).openConnection();\r\n\r\n        urlConnection.setRequestMethod(&quot;GET&quot;);\r\n        urlConnection.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json; utf-8&quot;);\r\n```\r\n\r\nthere is something very simple I really don&#39;t understand here. Please give every step in your code or explanation\r\n\r\n","title":"how to make requests to an api","body":"<p>I want to push and receive msgs using the Pushbullet api in java <a href=\"https://docs.pushbullet.com/v9/#http\" rel=\"nofollow noreferrer\">https://docs.pushbullet.com/v9/#http</a> . The problem I am facing is that I really have no idea how to do anything related to apis, On the website it says you can do a request that goes like this:</p>\n<pre><code>curl --header 'Authorization: Bearer &lt;your_access_token_here&gt;' https://api.pushbullet.com/v2/users/me\n</code></pre>\n<p>using curl. what if I want to do it in java? what would I do? is it just something like getting the URL and adding 'Authorization: Bearer &lt;your_access_token_here&gt;' like this:</p>\n<p><a href=\"https://api.pushbullet.com/v2/users/me\" rel=\"nofollow noreferrer\">https://api.pushbullet.com/v2/users/me</a> Authorization: Bearer &lt;your_access_token_here&gt;\nbecause it doesn't seem so.</p>\n<p>this is the code I am working on:</p>\n<pre class=\"lang-java prettyprint-override\"><code>        HttpURLConnection urlConnection = (HttpURLConnection) new URL(&quot;https://api.pushbullet.com&quot;).openConnection();\n\n        urlConnection.setRequestMethod(&quot;GET&quot;);\n        urlConnection.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json; utf-8&quot;);\n</code></pre>\n<p>there is something very simple I really don't understand here. Please give every step in your code or explanation</p>\n"},{"tags":["java","twitter4j","database-cursor"],"answers":[{"tags":[],"owner":{"account_id":26747,"reputation":20083,"user_id":69875,"accept_rate":100,"display_name":"Jonathan"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1371629678,"creation_date":1371629678,"answer_id":17186154,"question_id":17170093,"body_markdown":"The API resource [`GET followers/ids`](https://dev.twitter.com/docs/api/1.1/get/followers/ids) - which is what `getFollowersIDs()` is under the hood - is subject to rate-limiting. \r\n\r\nAccording to the [rate limiting documentation](https://dev.twitter.com/docs/rate-limiting/1.1/limits) for this resource, you can perform 15 requests in a &#39;rate limit window&#39; with windows being 15 minutes in duration. So in essence, every 15 minutes you can make another 15 requests. \r\n\r\nIt seems that in order for you to fetch the 3m followers&#39; IDs you will need to throttle your requests somehow, e.g. only make a request per minute etc...\r\n\r\nNote that rate-limiting is per-resource and some limits are more generous than others. You can find out more about how the rate-limiting works [here](https://dev.twitter.com/docs/rate-limiting/1.1).","title":"Twitter4j getFollowersIDs cursor issue","body":"<p>The API resource <a href=\"https://dev.twitter.com/docs/api/1.1/get/followers/ids\" rel=\"nofollow\"><code>GET followers/ids</code></a> - which is what <code>getFollowersIDs()</code> is under the hood - is subject to rate-limiting. </p>\n\n<p>According to the <a href=\"https://dev.twitter.com/docs/rate-limiting/1.1/limits\" rel=\"nofollow\">rate limiting documentation</a> for this resource, you can perform 15 requests in a 'rate limit window' with windows being 15 minutes in duration. So in essence, every 15 minutes you can make another 15 requests. </p>\n\n<p>It seems that in order for you to fetch the 3m followers' IDs you will need to throttle your requests somehow, e.g. only make a request per minute etc...</p>\n\n<p>Note that rate-limiting is per-resource and some limits are more generous than others. You can find out more about how the rate-limiting works <a href=\"https://dev.twitter.com/docs/rate-limiting/1.1\" rel=\"nofollow\">here</a>.</p>\n"}],"owner":{"account_id":262745,"reputation":19213,"user_id":547820,"accept_rate":76,"display_name":"Sait"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1258,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1643325783,"creation_date":1371561953,"question_id":17170093,"body_markdown":"I&#39;m new to this Twitter4j library. I am trying to store all the followers ID&#39;s of a user with given `userID`. I am using something like the following:\r\n\r\n    IDs ids;\r\n    long cursor = -1;\r\n    \r\n    do{ \r\n    \tids = twitter.getFollowersIDs(userName, cursor);\r\n    \tfor (long id : ids.getIDs()) {\r\n    \t\t// Store this id...\r\n    }\r\n    while ((cursor = ids.getNextCursor()) != 0);\r\n\r\nAfter a while, I get the error `Rate limit exceeded`, it&#39;s OK. However, I don&#39;t know how to continue to store follower&#39;s IDs of the given userID when my rate limit problem fixed in the future?\r\n\r\nPS: The `userID`s whom I&#39;m tryin to store follower&#39;s ID&#39;s have more than 3 million followers. It&#39;s why I need to continue from the place where I left.\r\n\r\n","title":"Twitter4j getFollowersIDs cursor issue","body":"<p>I'm new to this Twitter4j library. I am trying to store all the followers ID's of a user with given <code>userID</code>. I am using something like the following:</p>\n\n<pre><code>IDs ids;\nlong cursor = -1;\n\ndo{ \n    ids = twitter.getFollowersIDs(userName, cursor);\n    for (long id : ids.getIDs()) {\n        // Store this id...\n}\nwhile ((cursor = ids.getNextCursor()) != 0);\n</code></pre>\n\n<p>After a while, I get the error <code>Rate limit exceeded</code>, it's OK. However, I don't know how to continue to store follower's IDs of the given userID when my rate limit problem fixed in the future?</p>\n\n<p>PS: The <code>userID</code>s whom I'm tryin to store follower's ID's have more than 3 million followers. It's why I need to continue from the place where I left.</p>\n"},{"tags":["java","email","outlook"],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1247516592,"creation_date":1247516592,"answer_id":1121820,"question_id":1121715,"body_markdown":"There&#39;s no sign that you&#39;re ever setting the from address to an actual address, so there&#39;s nowhere for the reply to come.\r\n\r\nThat may not be the problem in your *production* code, but it looks like a problem here...","title":"How to send an iCal meeting request using Java Mail, and receive the response","body":"<p>There's no sign that you're ever setting the from address to an actual address, so there's nowhere for the reply to come.</p>\n\n<p>That may not be the problem in your <em>production</em> code, but it looks like a problem here...</p>\n"},{"tags":[],"owner":{"account_id":15465,"reputation":2015,"user_id":32704,"display_name":"Amr Gawish"},"down_vote_count":0,"up_vote_count":26,"is_accepted":true,"score":26,"last_activity_date":1435924595,"creation_date":1247647957,"answer_id":1130201,"question_id":1121715,"body_markdown":"So I solved the problem, and here is what I found:\r\n\r\n1 - You have to update to Java Mail API 1.4.2 to make everything works fine\r\n\r\n2 - Write the text/calendar part of your message like the following:\r\n\r\n\r\n    package com.xx.xx;\r\n    \r\n    import java.util.Properties;\r\n    \r\n    import javax.mail.*;\r\n    import javax.mail.internet.InternetAddress;\r\n    import javax.mail.internet.MimeBodyPart;\r\n    import javax.mail.internet.MimeMessage;\r\n    import javax.mail.internet.MimeMultipart;\r\n    import javax.mail.util.ByteArrayDataSource;\r\n    \r\n    public class Email {\r\n    \r\n    \tpublic Email() {\r\n    \t}\r\n    \r\n    \t/*\r\n    \t * @param args\r\n    \t */\r\n    \tpublic static void main(String[] args) {\r\n    \t\ttry {\r\n    \t\t\tEmail email = new Email();\r\n    \t\t\temail.send();\r\n    \t\t} catch (Exception e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic void send() throws Exception {\r\n    \r\n    \t\ttry {\r\n    \t\t\tString from = &quot;xx@xx.com&quot;;\r\n    \t\t\tString to = &quot;xx@xx.com&quot;;\r\n    \t\t\tProperties prop = new Properties();\r\n    \t\t\tprop.put(&quot;mail.smtp.host&quot;, &quot;mailhost&quot;);\r\n    \r\n    \t\t\tSession session = Session.getDefaultInstance(prop, null);\r\n    \t\t\t// Define message\r\n    \t\t\tMimeMessage message = new MimeMessage(session);\r\n    \t\t\tmessage.addHeaderLine(&quot;method=REQUEST&quot;);\r\n    \t\t\tmessage.addHeaderLine(&quot;charset=UTF-8&quot;);\r\n    \t\t\tmessage.addHeaderLine(&quot;component=VEVENT&quot;);\r\n    \r\n    \t\t\tmessage.setFrom(new InternetAddress(from));\r\n    \t\t\tmessage.addRecipient(Message.RecipientType.TO, new InternetAddress(to));\r\n    \t\t\tmessage.setSubject(&quot;Outlook Meeting Request Using JavaMail&quot;);\r\n    \r\n    \t\t\tStringBuffer sb = new StringBuffer();\r\n    \r\n    \t\t\tStringBuffer buffer = sb.append(&quot;BEGIN:VCALENDAR\\n&quot; +\r\n    \t\t\t\t\t&quot;PRODID:-//Microsoft Corporation//Outlook 9.0 MIMEDIR//EN\\n&quot; +\r\n    \t\t\t\t\t&quot;VERSION:2.0\\n&quot; +\r\n    \t\t\t\t\t&quot;METHOD:REQUEST\\n&quot; +\r\n    \t\t\t\t\t&quot;BEGIN:VEVENT\\n&quot; +\r\n    \t\t\t\t\t&quot;ATTENDEE;ROLE=REQ-PARTICIPANT;RSVP=TRUE:MAILTO:xx@xx.com\\n&quot; +\r\n    \t\t\t\t\t&quot;ORGANIZER:MAILTO:xx@xx.com\\n&quot; +\r\n    \t\t\t\t\t&quot;DTSTART:20051208T053000Z\\n&quot; +\r\n    \t\t\t\t\t&quot;DTEND:20051208T060000Z\\n&quot; +\r\n    \t\t\t\t\t&quot;LOCATION:Conference room\\n&quot; +\r\n    \t\t\t\t\t&quot;TRANSP:OPAQUE\\n&quot; +\r\n    \t\t\t\t\t&quot;SEQUENCE:0\\n&quot; +\r\n    \t\t\t\t\t&quot;UID:040000008200E00074C5B7101A82E00800000000002FF466CE3AC5010000000000000000100\\n&quot; +\r\n    \t\t\t\t\t&quot; 000004377FE5C37984842BF9440448399EB02\\n&quot; +\r\n    \t\t\t\t\t&quot;DTSTAMP:20051206T120102Z\\n&quot; +\r\n    \t\t\t\t\t&quot;CATEGORIES:Meeting\\n&quot; +\r\n    \t\t\t\t\t&quot;DESCRIPTION:This the description of the meeting.\\n\\n&quot; +\r\n    \t\t\t\t\t&quot;SUMMARY:Test meeting request\\n&quot; +\r\n    \t\t\t\t\t&quot;PRIORITY:5\\n&quot; +\r\n    \t\t\t\t\t&quot;CLASS:PUBLIC\\n&quot; +\r\n    \t\t\t\t\t&quot;BEGIN:VALARM\\n&quot; +\r\n    \t\t\t\t\t&quot;TRIGGER:PT1440M\\n&quot; +\r\n    \t\t\t\t\t&quot;ACTION:DISPLAY\\n&quot; +\r\n    \t\t\t\t\t&quot;DESCRIPTION:Reminder\\n&quot; +\r\n    \t\t\t\t\t&quot;END:VALARM\\n&quot; +\r\n    \t\t\t\t\t&quot;END:VEVENT\\n&quot; +\r\n    \t\t\t\t\t&quot;END:VCALENDAR&quot;);\r\n    \r\n    \t\t\t// Create the message part\r\n    \t\t\tBodyPart messageBodyPart = new MimeBodyPart();\r\n    \r\n    \t\t\t// Fill the message\r\n    \t\t\tmessageBodyPart.setHeader(&quot;Content-Class&quot;, &quot;urn:content-  classes:calendarmessage&quot;);\r\n    \t\t\tmessageBodyPart.setHeader(&quot;Content-ID&quot;, &quot;calendar_message&quot;);\r\n    \t\t\tmessageBodyPart.setDataHandler(new DataHandler(\r\n    \t\t\t\t\tnew ByteArrayDataSource(buffer.toString(), &quot;text/calendar&quot;)));// very important\r\n    \r\n    \t\t\t// Create a Multipart\r\n    \t\t\tMultipart multipart = new MimeMultipart();\r\n    \r\n    \t\t\t// Add part one\r\n    \t\t\tmultipart.addBodyPart(messageBodyPart);\r\n    \r\n    \t\t\t// Put parts in message\r\n    \t\t\tmessage.setContent(multipart);\r\n    \r\n    \t\t\t// send message\r\n    \t\t\tTransport.send(message);\r\n    \t\t} catch (MessagingException me) {\r\n    \t\t\tme.printStackTrace();\r\n    \t\t} catch (Exception ex) {\r\n    \t\t\tex.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n3 - Replace your variable, and you are good to go!","title":"How to send an iCal meeting request using Java Mail, and receive the response","body":"<p>So I solved the problem, and here is what I found:</p>\n\n<p>1 - You have to update to Java Mail API 1.4.2 to make everything works fine</p>\n\n<p>2 - Write the text/calendar part of your message like the following:</p>\n\n<pre><code>package com.xx.xx;\n\nimport java.util.Properties;\n\nimport javax.mail.*;\nimport javax.mail.internet.InternetAddress;\nimport javax.mail.internet.MimeBodyPart;\nimport javax.mail.internet.MimeMessage;\nimport javax.mail.internet.MimeMultipart;\nimport javax.mail.util.ByteArrayDataSource;\n\npublic class Email {\n\n    public Email() {\n    }\n\n    /*\n     * @param args\n     */\n    public static void main(String[] args) {\n        try {\n            Email email = new Email();\n            email.send();\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n\n    public void send() throws Exception {\n\n        try {\n            String from = \"xx@xx.com\";\n            String to = \"xx@xx.com\";\n            Properties prop = new Properties();\n            prop.put(\"mail.smtp.host\", \"mailhost\");\n\n            Session session = Session.getDefaultInstance(prop, null);\n            // Define message\n            MimeMessage message = new MimeMessage(session);\n            message.addHeaderLine(\"method=REQUEST\");\n            message.addHeaderLine(\"charset=UTF-8\");\n            message.addHeaderLine(\"component=VEVENT\");\n\n            message.setFrom(new InternetAddress(from));\n            message.addRecipient(Message.RecipientType.TO, new InternetAddress(to));\n            message.setSubject(\"Outlook Meeting Request Using JavaMail\");\n\n            StringBuffer sb = new StringBuffer();\n\n            StringBuffer buffer = sb.append(\"BEGIN:VCALENDAR\\n\" +\n                    \"PRODID:-//Microsoft Corporation//Outlook 9.0 MIMEDIR//EN\\n\" +\n                    \"VERSION:2.0\\n\" +\n                    \"METHOD:REQUEST\\n\" +\n                    \"BEGIN:VEVENT\\n\" +\n                    \"ATTENDEE;ROLE=REQ-PARTICIPANT;RSVP=TRUE:MAILTO:xx@xx.com\\n\" +\n                    \"ORGANIZER:MAILTO:xx@xx.com\\n\" +\n                    \"DTSTART:20051208T053000Z\\n\" +\n                    \"DTEND:20051208T060000Z\\n\" +\n                    \"LOCATION:Conference room\\n\" +\n                    \"TRANSP:OPAQUE\\n\" +\n                    \"SEQUENCE:0\\n\" +\n                    \"UID:040000008200E00074C5B7101A82E00800000000002FF466CE3AC5010000000000000000100\\n\" +\n                    \" 000004377FE5C37984842BF9440448399EB02\\n\" +\n                    \"DTSTAMP:20051206T120102Z\\n\" +\n                    \"CATEGORIES:Meeting\\n\" +\n                    \"DESCRIPTION:This the description of the meeting.\\n\\n\" +\n                    \"SUMMARY:Test meeting request\\n\" +\n                    \"PRIORITY:5\\n\" +\n                    \"CLASS:PUBLIC\\n\" +\n                    \"BEGIN:VALARM\\n\" +\n                    \"TRIGGER:PT1440M\\n\" +\n                    \"ACTION:DISPLAY\\n\" +\n                    \"DESCRIPTION:Reminder\\n\" +\n                    \"END:VALARM\\n\" +\n                    \"END:VEVENT\\n\" +\n                    \"END:VCALENDAR\");\n\n            // Create the message part\n            BodyPart messageBodyPart = new MimeBodyPart();\n\n            // Fill the message\n            messageBodyPart.setHeader(\"Content-Class\", \"urn:content-  classes:calendarmessage\");\n            messageBodyPart.setHeader(\"Content-ID\", \"calendar_message\");\n            messageBodyPart.setDataHandler(new DataHandler(\n                    new ByteArrayDataSource(buffer.toString(), \"text/calendar\")));// very important\n\n            // Create a Multipart\n            Multipart multipart = new MimeMultipart();\n\n            // Add part one\n            multipart.addBodyPart(messageBodyPart);\n\n            // Put parts in message\n            message.setContent(multipart);\n\n            // send message\n            Transport.send(message);\n        } catch (MessagingException me) {\n            me.printStackTrace();\n        } catch (Exception ex) {\n            ex.printStackTrace();\n        }\n    }\n}\n</code></pre>\n\n<p>3 - Replace your variable, and you are good to go!</p>\n"},{"tags":[],"owner":{"account_id":2098426,"reputation":1466,"user_id":1866693,"accept_rate":75,"display_name":"herau"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1456406958,"creation_date":1450874047,"answer_id":34435829,"question_id":1121715,"body_markdown":"You can use [ical4j library](https://github.com/ical4j/ical4j) in addition of javamail to build the message body (instead of using a `StringBuffer`). \r\n\r\nExample:\r\n\r\n    Calendar calendar = new Calendar();\r\n    PropertyList calendarProperties = calendar.getProperties();\r\n    calendarProperties.add(Version.VERSION_2_0);\r\n    calendarProperties.add(Method.REQUEST);\r\n    // other properties ...\r\n    \r\n    VEvent vEvent = new VEvent(/*startDate, endDate*/);\r\n    PropertyList vEventProperties = vEvent.getProperties();\r\n    vEventProperties.add(Priority.MEDIUM);\r\n    vEventProperties.add(Clazz.PUBLIC);\r\n    // other properties ...\r\n    \r\n    calendar.getComponents().add(vEvent);\r\n    \r\n    messageBodyPart.setDataHandler(new DataHandler(new ByteArrayDataSource(calendar.toString(), &quot;text/calendar&quot;)));\r\n\r\n\r\n","title":"How to send an iCal meeting request using Java Mail, and receive the response","body":"<p>You can use <a href=\"https://github.com/ical4j/ical4j\" rel=\"noreferrer\">ical4j library</a> in addition of javamail to build the message body (instead of using a <code>StringBuffer</code>). </p>\n\n<p>Example:</p>\n\n<pre><code>Calendar calendar = new Calendar();\nPropertyList calendarProperties = calendar.getProperties();\ncalendarProperties.add(Version.VERSION_2_0);\ncalendarProperties.add(Method.REQUEST);\n// other properties ...\n\nVEvent vEvent = new VEvent(/*startDate, endDate*/);\nPropertyList vEventProperties = vEvent.getProperties();\nvEventProperties.add(Priority.MEDIUM);\nvEventProperties.add(Clazz.PUBLIC);\n// other properties ...\n\ncalendar.getComponents().add(vEvent);\n\nmessageBodyPart.setDataHandler(new DataHandler(new ByteArrayDataSource(calendar.toString(), \"text/calendar\")));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13819459,"reputation":563,"user_id":9975292,"display_name":"Juan Sanchez"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1536967505,"creation_date":1536967505,"answer_id":52340297,"question_id":1121715,"body_markdown":"*I&#39;d tried with Amr answer but I got an error in \r\nSession session = Session.getDefaultInstance(prop, null)*, \r\n\r\n**Well I fixed and here is the code I used and it worked perfectly.** I hope it helps  \r\nRemember you need to add javax.mail library to your project\r\n\r\n    import java.util.Properties;\r\n    import javax.activation.DataHandler;\r\n    import javax.mail.*;\r\n    import javax.mail.internet.InternetAddress;\r\n    import javax.mail.internet.MimeBodyPart;\r\n    import javax.mail.internet.MimeMessage;\r\n    import javax.mail.internet.MimeMultipart;\r\n    import javax.mail.util.ByteArrayDataSource;\r\n\r\n    public class Email {\r\n\r\n     public Email() {\r\n     }\r\n\r\n     public static void main(String[] args) {\r\n         try {\r\n             Email email = new Email();\r\n             email.send();\r\n         } catch (Exception e) {\r\n             e.printStackTrace();\r\n         }\r\n     }\r\n\r\n     public void send() throws Exception {\r\n\r\n        try {\r\n            String from = &quot;FromExample@gmail.com&quot;;\r\n            String to = &quot;ToExample@gmail.do&quot;;\r\n            Properties prop = new Properties();\r\n            \r\n            prop.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\r\n            prop.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\r\n            prop.put(&quot;mail.smtp.host&quot;, &quot;smtp.gmail.com&quot;);\r\n            prop.put(&quot;mail.smtp.port&quot;, &quot;587&quot;);\r\n            \r\n    \t\tfinal String username = &quot;FromExample@gmail.com&quot;;\r\n    \t\tfinal String password = &quot;123456789&quot;;\r\n            \r\n    \t\tSession session = Session.getInstance(prop,\r\n    \t\t\t\t  new javax.mail.Authenticator() {\r\n    \t\t\t\t\tprotected PasswordAuthentication getPasswordAuthentication() {\r\n    \t\t\t\t\t\treturn new PasswordAuthentication(username, password);\r\n    \t\t\t\t\t}\r\n    \t\t\t\t  });\r\n            \r\n            // Define message\r\n            MimeMessage message = new MimeMessage(session);\r\n            message.addHeaderLine(&quot;method=REQUEST&quot;);\r\n            message.addHeaderLine(&quot;charset=UTF-8&quot;);\r\n            message.addHeaderLine(&quot;component=VEVENT&quot;);\r\n\r\n            message.setFrom(new InternetAddress(from));\r\n            message.addRecipient(Message.RecipientType.TO, new InternetAddress(to));\r\n            message.setSubject(&quot;Outlook Meeting Request Using JavaMail&quot;);\r\n\r\n            StringBuffer sb = new StringBuffer();\r\n\r\n            StringBuffer buffer = sb.append(&quot;BEGIN:VCALENDAR\\n&quot; +\r\n                    &quot;PRODID:-//Microsoft Corporation//Outlook 9.0 MIMEDIR//EN\\n&quot; +\r\n                    &quot;VERSION:2.0\\n&quot; +\r\n                    &quot;METHOD:REQUEST\\n&quot; +\r\n                    &quot;BEGIN:VEVENT\\n&quot; +\r\n                    &quot;ATTENDEE;ROLE=REQ-PARTICIPANT;RSVP=TRUE:MAILTO:xxx@xx.com\\n&quot; +\r\n                    &quot;ORGANIZER:MAILTO:xx@xx.com\\n&quot; +\r\n                    &quot;DTSTART:20180922T053000Z\\n&quot; +\r\n                    &quot;DTEND:20180927T060000Z\\n&quot; +\r\n                    &quot;LOCATION:Conference room\\n&quot; +\r\n                    &quot;TRANSP:OPAQUE\\n&quot; +\r\n                    &quot;SEQUENCE:0\\n&quot; +\r\n                    &quot;UID:040000008200E00074C5B7101A82E00800000000002FF466CE3AC5010000000000000000100\\n&quot; +\r\n                    &quot; 000004377FE5C37984842BF9440448399EB02\\n&quot; +\r\n                    &quot;DTSTAMP:20180922T120102Z\\n&quot; +\r\n                    &quot;CATEGORIES:Meeting\\n&quot; +\r\n                    &quot;DESCRIPTION:This the description of the meeting.\\n\\n&quot; +\r\n                    &quot;SUMMARY:Test meeting request\\n&quot; +\r\n                    &quot;PRIORITY:5\\n&quot; +\r\n                    &quot;CLASS:PUBLIC\\n&quot; +\r\n                    &quot;BEGIN:VALARM\\n&quot; +\r\n                    &quot;TRIGGER:PT1440M\\n&quot; +\r\n                    &quot;ACTION:DISPLAY\\n&quot; +\r\n                    &quot;DESCRIPTION:Reminder\\n&quot; +\r\n                    &quot;END:VALARM\\n&quot; +\r\n                    &quot;END:VEVENT\\n&quot; +\r\n                    &quot;END:VCALENDAR&quot;);\r\n\r\n            // Create the message part\r\n            BodyPart messageBodyPart = new MimeBodyPart();\r\n\r\n            // Fill the message\r\n            messageBodyPart.setHeader(&quot;Content-Class&quot;, &quot;urn:content-  classes:calendarmessage&quot;);\r\n            messageBodyPart.setHeader(&quot;Content-ID&quot;, &quot;calendar_message&quot;);\r\n            messageBodyPart.setDataHandler(new DataHandler(\r\n                    new ByteArrayDataSource(buffer.toString(), &quot;text/calendar&quot;)));// very important\r\n\r\n            // Create a Multipart\r\n            Multipart multipart = new MimeMultipart();\r\n\r\n            // Add part one\r\n            multipart.addBodyPart(messageBodyPart);\r\n\r\n            // Put parts in message\r\n            message.setContent(multipart);\r\n\r\n            // send message\r\n            \r\n \r\n            Transport.send(message);\r\n            \r\n            System.out.println(&quot;Success&quot;);\r\n            \r\n        } catch (MessagingException me) {\r\n            me.printStackTrace();\r\n        } catch (Exception ex) {\r\n            ex.printStackTrace();\r\n        }\r\n     }\r\n    }\r\n","title":"How to send an iCal meeting request using Java Mail, and receive the response","body":"<p><em>I'd tried with Amr answer but I got an error in \nSession session = Session.getDefaultInstance(prop, null)</em>, </p>\n\n<p><strong>Well I fixed and here is the code I used and it worked perfectly.</strong> I hope it helps<br>\nRemember you need to add javax.mail library to your project</p>\n\n<pre><code>import java.util.Properties;\nimport javax.activation.DataHandler;\nimport javax.mail.*;\nimport javax.mail.internet.InternetAddress;\nimport javax.mail.internet.MimeBodyPart;\nimport javax.mail.internet.MimeMessage;\nimport javax.mail.internet.MimeMultipart;\nimport javax.mail.util.ByteArrayDataSource;\n\npublic class Email {\n\n public Email() {\n }\n\n public static void main(String[] args) {\n     try {\n         Email email = new Email();\n         email.send();\n     } catch (Exception e) {\n         e.printStackTrace();\n     }\n }\n\n public void send() throws Exception {\n\n    try {\n        String from = \"FromExample@gmail.com\";\n        String to = \"ToExample@gmail.do\";\n        Properties prop = new Properties();\n\n        prop.put(\"mail.smtp.auth\", \"true\");\n        prop.put(\"mail.smtp.starttls.enable\", \"true\");\n        prop.put(\"mail.smtp.host\", \"smtp.gmail.com\");\n        prop.put(\"mail.smtp.port\", \"587\");\n\n        final String username = \"FromExample@gmail.com\";\n        final String password = \"123456789\";\n\n        Session session = Session.getInstance(prop,\n                  new javax.mail.Authenticator() {\n                    protected PasswordAuthentication getPasswordAuthentication() {\n                        return new PasswordAuthentication(username, password);\n                    }\n                  });\n\n        // Define message\n        MimeMessage message = new MimeMessage(session);\n        message.addHeaderLine(\"method=REQUEST\");\n        message.addHeaderLine(\"charset=UTF-8\");\n        message.addHeaderLine(\"component=VEVENT\");\n\n        message.setFrom(new InternetAddress(from));\n        message.addRecipient(Message.RecipientType.TO, new InternetAddress(to));\n        message.setSubject(\"Outlook Meeting Request Using JavaMail\");\n\n        StringBuffer sb = new StringBuffer();\n\n        StringBuffer buffer = sb.append(\"BEGIN:VCALENDAR\\n\" +\n                \"PRODID:-//Microsoft Corporation//Outlook 9.0 MIMEDIR//EN\\n\" +\n                \"VERSION:2.0\\n\" +\n                \"METHOD:REQUEST\\n\" +\n                \"BEGIN:VEVENT\\n\" +\n                \"ATTENDEE;ROLE=REQ-PARTICIPANT;RSVP=TRUE:MAILTO:xxx@xx.com\\n\" +\n                \"ORGANIZER:MAILTO:xx@xx.com\\n\" +\n                \"DTSTART:20180922T053000Z\\n\" +\n                \"DTEND:20180927T060000Z\\n\" +\n                \"LOCATION:Conference room\\n\" +\n                \"TRANSP:OPAQUE\\n\" +\n                \"SEQUENCE:0\\n\" +\n                \"UID:040000008200E00074C5B7101A82E00800000000002FF466CE3AC5010000000000000000100\\n\" +\n                \" 000004377FE5C37984842BF9440448399EB02\\n\" +\n                \"DTSTAMP:20180922T120102Z\\n\" +\n                \"CATEGORIES:Meeting\\n\" +\n                \"DESCRIPTION:This the description of the meeting.\\n\\n\" +\n                \"SUMMARY:Test meeting request\\n\" +\n                \"PRIORITY:5\\n\" +\n                \"CLASS:PUBLIC\\n\" +\n                \"BEGIN:VALARM\\n\" +\n                \"TRIGGER:PT1440M\\n\" +\n                \"ACTION:DISPLAY\\n\" +\n                \"DESCRIPTION:Reminder\\n\" +\n                \"END:VALARM\\n\" +\n                \"END:VEVENT\\n\" +\n                \"END:VCALENDAR\");\n\n        // Create the message part\n        BodyPart messageBodyPart = new MimeBodyPart();\n\n        // Fill the message\n        messageBodyPart.setHeader(\"Content-Class\", \"urn:content-  classes:calendarmessage\");\n        messageBodyPart.setHeader(\"Content-ID\", \"calendar_message\");\n        messageBodyPart.setDataHandler(new DataHandler(\n                new ByteArrayDataSource(buffer.toString(), \"text/calendar\")));// very important\n\n        // Create a Multipart\n        Multipart multipart = new MimeMultipart();\n\n        // Add part one\n        multipart.addBodyPart(messageBodyPart);\n\n        // Put parts in message\n        message.setContent(multipart);\n\n        // send message\n\n\n        Transport.send(message);\n\n        System.out.println(\"Success\");\n\n    } catch (MessagingException me) {\n        me.printStackTrace();\n    } catch (Exception ex) {\n        ex.printStackTrace();\n    }\n }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9964429,"reputation":308,"user_id":7372540,"display_name":"Jay"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643325421,"creation_date":1604628040,"answer_id":64707852,"question_id":1121715,"body_markdown":"Here, \r\n\r\n1 - Download jar from [here (JavaMail API &#187; 1.6.2)][1].\r\n\r\n\r\n  [1]: https://mvnrepository.com/artifact/com.sun.mail/javax.mail/1.6.2\r\n\r\n2 - Copy and Paste the following code (Change variable values)\r\n\r\n    import java.util.Properties;\r\n    import javax.activation.DataHandler;\r\n    import javax.mail.*;\r\n    import javax.mail.internet.*;\r\n    import javax.mail.util.ByteArrayDataSource;\r\n\r\n    public class Index {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\r\n\t\t try {\r\n\t\t\t \tfinal String username = &quot;sender@mail.com&quot;;\r\n\t\t\t    final String password = &quot;xxxxx&quot;;\r\n\t\t\t    \r\n\t            String from = &quot;sender@mail.com&quot;;\r\n\t            String to = &quot;attendee@mail.com&quot;;\r\n\t            String subject = &quot;Meeting Subject&quot;;\r\n\t            String startDate = &quot;20201208&quot;; // Date Formate: YYYYMMDD\r\n\t            String endDate = &quot;20201208&quot;; // Date Formate: YYYYMMDD\r\n\t            String startTime = &quot;0400&quot;; // Time Formate: HHMM\r\n\t            String endTime = &quot;0600&quot;; // Time Formate: HHMM\r\n\t            String emailBody = &quot;Hi Team, This is meeting description. Thanks&quot;; \r\n\t            \r\n\t            Properties prop = new Properties();\r\n\t            prop.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\r\n\t            prop.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\r\n\t            prop.put(&quot;mail.smtp.host&quot;, &quot;smtp.gmail.com&quot;);\r\n\t            prop.put(&quot;mail.smtp.port&quot;, &quot;25&quot;);\r\n\r\n\t            Session session = Session.getDefaultInstance(prop,  new javax.mail.Authenticator() {\r\n                    protected PasswordAuthentication getPasswordAuthentication() {\r\n                        return new PasswordAuthentication(username, password);\r\n                    }\r\n                  });\r\n\t            \r\n\t            MimeMessage message = new MimeMessage(session);\r\n\t            message.addHeaderLine(&quot;method=REQUEST&quot;);\r\n\t            message.addHeaderLine(&quot;charset=UTF-8&quot;);\r\n\t            message.addHeaderLine(&quot;component=VEVENT&quot;);\r\n\r\n\t            message.setFrom(new InternetAddress(from, &quot;New Outlook Event&quot;));\r\n\t            message.addRecipient(Message.RecipientType.TO, new InternetAddress(to));\r\n\t            message.setSubject(subject);\r\n\r\n\t            StringBuffer sb = new StringBuffer();\r\n\r\n\t            StringBuffer buffer = sb.append(&quot;BEGIN:VCALENDAR\\n&quot; +\r\n\t                    &quot;PRODID:-//Microsoft Corporation//Outlook 9.0 MIMEDIR//EN\\n&quot; +\r\n\t                    &quot;VERSION:2.0\\n&quot; +\r\n\t                    &quot;METHOD:REQUEST\\n&quot; +\r\n\t                    &quot;BEGIN:VEVENT\\n&quot; +\r\n\t                    &quot;ATTENDEE;ROLE=REQ-PARTICIPANT;RSVP=TRUE:MAILTO:&quot;+ to +&quot;\\n&quot; +\r\n\t                    &quot;DTSTART:&quot;+ startDate +&quot;T&quot;+ startTime +&quot;00Z\\n&quot; +\r\n\t                    &quot;DTEND:&quot;+ endDate +&quot;T&quot;+ endTime +&quot;00Z\\n&quot; +\r\n\t                    &quot;LOCATION:Conference room\\n&quot; +\r\n\t                    &quot;TRANSP:OPAQUE\\n&quot; +\r\n\t                    &quot;SEQUENCE:0\\n&quot; +\r\n\t                    &quot;UID:040000008200E00074C5B7101A82E00800000000002FF466CE3AC5010000000000000000100\\n&quot; +\r\n\t                    &quot; 000004377FE5C37984842BF9440448399EB02\\n&quot; +\r\n\t                    &quot;CATEGORIES:Meeting\\n&quot; +\r\n\t                    &quot;DESCRIPTION:&quot;+ emailBody +&quot;\\n\\n&quot; +\r\n\t                    &quot;SUMMARY:Test meeting request\\n&quot; +\r\n\t                    &quot;PRIORITY:5\\n&quot; +\r\n\t                    &quot;CLASS:PUBLIC\\n&quot; +\r\n\t                    &quot;BEGIN:VALARM\\n&quot; +\r\n\t                    &quot;TRIGGER:PT1440M\\n&quot; +\r\n\t                    &quot;ACTION:DISPLAY\\n&quot; +\r\n\t                    &quot;DESCRIPTION:Reminder\\n&quot; +\r\n\t                    &quot;END:VALARM\\n&quot; +\r\n\t                    &quot;END:VEVENT\\n&quot; +\r\n\t                    &quot;END:VCALENDAR&quot;);\r\n\r\n\t            // Create the message part\r\n\t            BodyPart messageBodyPart = new MimeBodyPart();\r\n\r\n\t            // Fill the message\r\n\t            messageBodyPart.setHeader(&quot;Content-Class&quot;, &quot;urn:content-classes:calendarmessage&quot;);\r\n\t            messageBodyPart.setHeader(&quot;Content-ID&quot;, &quot;calendar_message&quot;);\r\n\t            messageBodyPart.setDataHandler(new DataHandler(\r\n\t                    new ByteArrayDataSource(buffer.toString(), &quot;text/calendar&quot;)));// very important\r\n\r\n\t            // Create a Multipart\r\n\t            Multipart multipart = new MimeMultipart();\r\n\r\n\t            // Add part one\r\n\t            multipart.addBodyPart(messageBodyPart);\r\n\r\n\t            // Put parts in message\r\n\t            message.setContent(multipart);\r\n\r\n\t            // send message\r\n\t            Transport.send(message);\r\n\t            \r\n\t            System.out.println(&quot;Email sent!&quot;);\r\n\t        } catch (MessagingException me) {\r\n\t            me.printStackTrace();\r\n\t        } catch (Exception ex) {\r\n\t            ex.printStackTrace();\r\n\t        }\r\n\t}\r\n    }\r\n\r\n\r\n3 - That&#39;s all, hit RUN......","title":"How to send an iCal meeting request using Java Mail, and receive the response","body":"<p>Here,</p>\n<p>1 - Download jar from <a href=\"https://mvnrepository.com/artifact/com.sun.mail/javax.mail/1.6.2\" rel=\"nofollow noreferrer\">here (JavaMail API » 1.6.2)</a>.</p>\n<p>2 - Copy and Paste the following code (Change variable values)</p>\n<pre><code>import java.util.Properties;\nimport javax.activation.DataHandler;\nimport javax.mail.*;\nimport javax.mail.internet.*;\nimport javax.mail.util.ByteArrayDataSource;\n\npublic class Index {\n\npublic static void main(String[] args) {\n\n     try {\n            final String username = &quot;sender@mail.com&quot;;\n            final String password = &quot;xxxxx&quot;;\n            \n            String from = &quot;sender@mail.com&quot;;\n            String to = &quot;attendee@mail.com&quot;;\n            String subject = &quot;Meeting Subject&quot;;\n            String startDate = &quot;20201208&quot;; // Date Formate: YYYYMMDD\n            String endDate = &quot;20201208&quot;; // Date Formate: YYYYMMDD\n            String startTime = &quot;0400&quot;; // Time Formate: HHMM\n            String endTime = &quot;0600&quot;; // Time Formate: HHMM\n            String emailBody = &quot;Hi Team, This is meeting description. Thanks&quot;; \n            \n            Properties prop = new Properties();\n            prop.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\n            prop.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\n            prop.put(&quot;mail.smtp.host&quot;, &quot;smtp.gmail.com&quot;);\n            prop.put(&quot;mail.smtp.port&quot;, &quot;25&quot;);\n\n            Session session = Session.getDefaultInstance(prop,  new javax.mail.Authenticator() {\n                protected PasswordAuthentication getPasswordAuthentication() {\n                    return new PasswordAuthentication(username, password);\n                }\n              });\n            \n            MimeMessage message = new MimeMessage(session);\n            message.addHeaderLine(&quot;method=REQUEST&quot;);\n            message.addHeaderLine(&quot;charset=UTF-8&quot;);\n            message.addHeaderLine(&quot;component=VEVENT&quot;);\n\n            message.setFrom(new InternetAddress(from, &quot;New Outlook Event&quot;));\n            message.addRecipient(Message.RecipientType.TO, new InternetAddress(to));\n            message.setSubject(subject);\n\n            StringBuffer sb = new StringBuffer();\n\n            StringBuffer buffer = sb.append(&quot;BEGIN:VCALENDAR\\n&quot; +\n                    &quot;PRODID:-//Microsoft Corporation//Outlook 9.0 MIMEDIR//EN\\n&quot; +\n                    &quot;VERSION:2.0\\n&quot; +\n                    &quot;METHOD:REQUEST\\n&quot; +\n                    &quot;BEGIN:VEVENT\\n&quot; +\n                    &quot;ATTENDEE;ROLE=REQ-PARTICIPANT;RSVP=TRUE:MAILTO:&quot;+ to +&quot;\\n&quot; +\n                    &quot;DTSTART:&quot;+ startDate +&quot;T&quot;+ startTime +&quot;00Z\\n&quot; +\n                    &quot;DTEND:&quot;+ endDate +&quot;T&quot;+ endTime +&quot;00Z\\n&quot; +\n                    &quot;LOCATION:Conference room\\n&quot; +\n                    &quot;TRANSP:OPAQUE\\n&quot; +\n                    &quot;SEQUENCE:0\\n&quot; +\n                    &quot;UID:040000008200E00074C5B7101A82E00800000000002FF466CE3AC5010000000000000000100\\n&quot; +\n                    &quot; 000004377FE5C37984842BF9440448399EB02\\n&quot; +\n                    &quot;CATEGORIES:Meeting\\n&quot; +\n                    &quot;DESCRIPTION:&quot;+ emailBody +&quot;\\n\\n&quot; +\n                    &quot;SUMMARY:Test meeting request\\n&quot; +\n                    &quot;PRIORITY:5\\n&quot; +\n                    &quot;CLASS:PUBLIC\\n&quot; +\n                    &quot;BEGIN:VALARM\\n&quot; +\n                    &quot;TRIGGER:PT1440M\\n&quot; +\n                    &quot;ACTION:DISPLAY\\n&quot; +\n                    &quot;DESCRIPTION:Reminder\\n&quot; +\n                    &quot;END:VALARM\\n&quot; +\n                    &quot;END:VEVENT\\n&quot; +\n                    &quot;END:VCALENDAR&quot;);\n\n            // Create the message part\n            BodyPart messageBodyPart = new MimeBodyPart();\n\n            // Fill the message\n            messageBodyPart.setHeader(&quot;Content-Class&quot;, &quot;urn:content-classes:calendarmessage&quot;);\n            messageBodyPart.setHeader(&quot;Content-ID&quot;, &quot;calendar_message&quot;);\n            messageBodyPart.setDataHandler(new DataHandler(\n                    new ByteArrayDataSource(buffer.toString(), &quot;text/calendar&quot;)));// very important\n\n            // Create a Multipart\n            Multipart multipart = new MimeMultipart();\n\n            // Add part one\n            multipart.addBodyPart(messageBodyPart);\n\n            // Put parts in message\n            message.setContent(multipart);\n\n            // send message\n            Transport.send(message);\n            \n            System.out.println(&quot;Email sent!&quot;);\n        } catch (MessagingException me) {\n            me.printStackTrace();\n        } catch (Exception ex) {\n            ex.printStackTrace();\n        }\n}\n}\n</code></pre>\n<p>3 - That's all, hit RUN......</p>\n"}],"owner":{"account_id":15465,"reputation":2015,"user_id":32704,"display_name":"Amr Gawish"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40569,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":1130201,"answer_count":5,"score":11,"last_activity_date":1643325421,"creation_date":1247515091,"question_id":1121715,"body_markdown":"I&#39;m trying to send an iCal to an outlook, using Java Mail Library, I&#39;ve read already the [Question][1], and I already have some sample code \r\n\r\n    public class SendMeetingRequest {\r\n \r\n    String host = &quot;&quot; ;\r\n    String port = &quot;&quot; ;\r\n    String sender = &quot;&quot; ;\r\n    \r\n    public static SimpleDateFormat dateFormat = new SimpleDateFormat( &quot;yyyyMMdd&#39;T&#39;HHmm&#39;00&#39;&quot; ) ;\r\n    public static SimpleDateFormat dateParser = new SimpleDateFormat( &quot;dd-MM-yyyy HH:mm&quot; ) ;\r\n \r\n    public static void main(String[] args) throws Exception {\r\n        SendMeetingRequest sender = new SendMeetingRequest() ;\r\n \r\n        sender.sendInvitation( “LogicaCMG Inschrijf Site”\r\n                             , new String[] { “robert&lt;dot&gt;willems&lt;dot&gt;of&lt;dot&gt;brilman&lt;at&gt;logicacmg&lt;dot&gt;com”\r\n                                            }\r\n                             , “Outlook Meeting Request Using JavaMail”\r\n                             , dateParser.parse( “28-08-2006 18:00″ )\r\n                             , dateParser.parse( “28-08-2006 21:00″ )\r\n                             , “LIS-42″\r\n                             , “Bar op scheveningen”\r\n                             , “&lt;font color=\\”Red\\”&gt;Aanwezigheid verplicht!&lt;/font&gt;&lt;br&gt;We gaan lekker een biertje drinken met z’n allen.”\r\n                             ) ;\r\n    }\r\n    \r\n \r\n    void sendInvitation( String organizer\r\n                       , String[] to\r\n                       , String subject\r\n                       , Date start\r\n                       , Date end\r\n                       , String invitationId\r\n                       , String location\r\n                       , String description\r\n                       ) throws Exception {\r\n \r\n        try {\r\n            Properties prop = new Properties();\r\n            prop.put(”mail.smtp.port”, port );\r\n            prop.put(”mail.smtp.host”, host );\r\n \r\n            Session session = Session.getDefaultInstance(prop);\r\n            session.setDebug(true);\r\n \r\n            // Define message\r\n            MimeMessage message = new MimeMessage(session);\r\n            message.setFrom(new InternetAddress(sender));\r\n \r\n            // Set TO\r\n            if( to != null &amp;&amp; ( to.length &gt; 0 ) ) {\r\n                InternetAddress[] address = new InternetAddress[ to.length ] ;\r\n                \r\n                for( int i = 0; i &lt; to.length; i++ ) {\r\n                    address[ i ] = new InternetAddress( to[ i ] ) ;\r\n                }\r\n                \r\n                message.setRecipients( Message.RecipientType.TO, address ) ;\r\n            }\r\n            \r\n            // Set subject\r\n            message.setSubject(subject);\r\n \r\n            // Create iCalendar message\r\n            StringBuffer messageText = new StringBuffer();\r\n            messageText.append(&quot;BEGIN:VCALENDAR\\n&quot; +\r\n                               &quot;PRODID:-//Microsoft Corporation//Outlook 9.0 MIMEDIR//EN\\n&quot; +\r\n                               &quot;VERSION:2.0\\n&quot; +\r\n                               &quot;METHOD:REQUEST\\n&quot; +\r\n                                   &quot;BEGIN:VEVENT\\n&quot; +\r\n                                   &quot;ORGANIZER:MAILTO:&quot; ) ;\r\n            messageText.append( organizer ) ;\r\n            messageText.append( &quot;\\n&quot; +\r\n                                &quot;DTSTART:&quot;);\r\n            messageText.append( dateFormat.format( start ) ) ;\r\n            messageText.append( &quot;\\n&quot; +\r\n                                &quot;DTEND:&quot; ) ;\r\n            messageText.append( dateFormat.format( end ) ) ;\r\n            messageText.append( &quot;\\n&quot; +\r\n                                &quot;LOCATION:&quot; ) ;\r\n            messageText.append( location ) ;\r\n            messageText.append( &quot;\\n&quot; +\r\n                                 &quot;UID:&quot; ) ;\r\n            messageText.append( invitationId ) ;\r\n            messageText.append( &quot;\\n&quot; +\r\n                                &quot;DTSTAMP:&quot; ) ;\r\n            messageText.append( dateFormat.format( new java.util.Date() ) ) ;\r\n            messageText.append( &quot;\\n&quot; +\r\n                                &quot;DESCRIPTION;ALTREP=\\&quot;CID:&lt;eventDescriptionHTML&gt;\\”&quot; ) ;\r\n            messageText.append( “\\n” +\r\n                                        ”BEGIN:VALARM\\n” +\r\n                                        ”TRIGGER:-PT15M\\n” +\r\n                                        ”ACTION:DISPLAY\\n” +\r\n                                        ”DESCRIPTION:Reminder\\n” +\r\n                                        ”END:VALARM\\n” +\r\n                                   ”END:VEVENT\\n” +\r\n                               ”END:VCALENDAR”\r\n                               ) ;\r\n \r\n            Multipart mp = new MimeMultipart();\r\n \r\n            MimeBodyPart meetingPart = new MimeBodyPart() ;\r\n            meetingPart.setDataHandler( new DataHandler( new StringDataSource( messageText.toString(), “text/calendar”, “meetingRequest” ) ) ) ;\r\n            mp.addBodyPart( meetingPart ) ;\r\n            \r\n            MimeBodyPart descriptionPart = new MimeBodyPart() ;\r\n            descriptionPart.setDataHandler( new DataHandler( new StringDataSource( description, “text/html”, “eventDescription” ) ) ) ;\r\n            descriptionPart.setContentID( “&lt;eventDescriptionHTML&gt;” ) ;\r\n            mp.addBodyPart( descriptionPart ) ;\r\n           \r\n            message.setContent( mp ) ;\r\n \r\n            // send message\r\n            Transport.send(message);\r\n \r\n        } catch (MessagingException me) {\r\n            me.printStackTrace();\r\n \r\n        } catch (Exception ex) {\r\n            ex.printStackTrace();\r\n \r\n        }\r\n    }\r\n \r\n    private static class StringDataSource implements DataSource {\r\n        private String contents ;\r\n        private String mimetype ;\r\n        private String name ;\r\n    \r\n    \r\n        public StringDataSource( String contents\r\n                               , String mimetype\r\n                               , String name\r\n                               ) {\r\n            this.contents = contents ;\r\n            this.mimetype = mimetype ;\r\n            this.name = name ;\r\n        }\r\n        \r\n        public String getContentType() {\r\n            return( mimetype ) ;\r\n        }\r\n        \r\n        public String getName() {\r\n            return( name ) ;\r\n        }\r\n \r\n        public InputStream getInputStream() {\r\n            return( new StringBufferInputStream( contents ) ) ;\r\n        }\r\n        \r\n        public OutputStream getOutputStream() {\r\n            throw new IllegalAccessError( “This datasource cannot be written to” ) ;\r\n        }\r\n    } }\r\n\r\nBut its being sent as an attachment to the outlook 2007 and outlook 2003, and even If I click the attachment to view and accept, I don&#39;t receive the Answer, which is the purpose of the application to have a similar functionality like outlook.\r\n\r\nIs there any procedure I need to know of, or is it the Invitation ID that makes the thing rough?\r\n\r\n  [1]: https://stackoverflow.com/questions/461889/sending-outlook-meeting-requests-without-outlook\r\n","title":"How to send an iCal meeting request using Java Mail, and receive the response","body":"<p>I'm trying to send an iCal to an outlook, using Java Mail Library, I've read already the <a href=\"https://stackoverflow.com/questions/461889/sending-outlook-meeting-requests-without-outlook\">Question</a>, and I already have some sample code </p>\n\n<pre><code>public class SendMeetingRequest {\n\nString host = \"\" ;\nString port = \"\" ;\nString sender = \"\" ;\n\npublic static SimpleDateFormat dateFormat = new SimpleDateFormat( \"yyyyMMdd'T'HHmm'00'\" ) ;\npublic static SimpleDateFormat dateParser = new SimpleDateFormat( \"dd-MM-yyyy HH:mm\" ) ;\n\npublic static void main(String[] args) throws Exception {\n    SendMeetingRequest sender = new SendMeetingRequest() ;\n\n    sender.sendInvitation( “LogicaCMG Inschrijf Site”\n                         , new String[] { “robert&lt;dot&gt;willems&lt;dot&gt;of&lt;dot&gt;brilman&lt;at&gt;logicacmg&lt;dot&gt;com”\n                                        }\n                         , “Outlook Meeting Request Using JavaMail”\n                         , dateParser.parse( “28-08-2006 18:00″ )\n                         , dateParser.parse( “28-08-2006 21:00″ )\n                         , “LIS-42″\n                         , “Bar op scheveningen”\n                         , “&lt;font color=\\”Red\\”&gt;Aanwezigheid verplicht!&lt;/font&gt;&lt;br&gt;We gaan lekker een biertje drinken met z’n allen.”\n                         ) ;\n}\n\n\nvoid sendInvitation( String organizer\n                   , String[] to\n                   , String subject\n                   , Date start\n                   , Date end\n                   , String invitationId\n                   , String location\n                   , String description\n                   ) throws Exception {\n\n    try {\n        Properties prop = new Properties();\n        prop.put(”mail.smtp.port”, port );\n        prop.put(”mail.smtp.host”, host );\n\n        Session session = Session.getDefaultInstance(prop);\n        session.setDebug(true);\n\n        // Define message\n        MimeMessage message = new MimeMessage(session);\n        message.setFrom(new InternetAddress(sender));\n\n        // Set TO\n        if( to != null &amp;&amp; ( to.length &gt; 0 ) ) {\n            InternetAddress[] address = new InternetAddress[ to.length ] ;\n\n            for( int i = 0; i &lt; to.length; i++ ) {\n                address[ i ] = new InternetAddress( to[ i ] ) ;\n            }\n\n            message.setRecipients( Message.RecipientType.TO, address ) ;\n        }\n\n        // Set subject\n        message.setSubject(subject);\n\n        // Create iCalendar message\n        StringBuffer messageText = new StringBuffer();\n        messageText.append(\"BEGIN:VCALENDAR\\n\" +\n                           \"PRODID:-//Microsoft Corporation//Outlook 9.0 MIMEDIR//EN\\n\" +\n                           \"VERSION:2.0\\n\" +\n                           \"METHOD:REQUEST\\n\" +\n                               \"BEGIN:VEVENT\\n\" +\n                               \"ORGANIZER:MAILTO:\" ) ;\n        messageText.append( organizer ) ;\n        messageText.append( \"\\n\" +\n                            \"DTSTART:\");\n        messageText.append( dateFormat.format( start ) ) ;\n        messageText.append( \"\\n\" +\n                            \"DTEND:\" ) ;\n        messageText.append( dateFormat.format( end ) ) ;\n        messageText.append( \"\\n\" +\n                            \"LOCATION:\" ) ;\n        messageText.append( location ) ;\n        messageText.append( \"\\n\" +\n                             \"UID:\" ) ;\n        messageText.append( invitationId ) ;\n        messageText.append( \"\\n\" +\n                            \"DTSTAMP:\" ) ;\n        messageText.append( dateFormat.format( new java.util.Date() ) ) ;\n        messageText.append( \"\\n\" +\n                            \"DESCRIPTION;ALTREP=\\\"CID:&lt;eventDescriptionHTML&gt;\\”\" ) ;\n        messageText.append( “\\n” +\n                                    ”BEGIN:VALARM\\n” +\n                                    ”TRIGGER:-PT15M\\n” +\n                                    ”ACTION:DISPLAY\\n” +\n                                    ”DESCRIPTION:Reminder\\n” +\n                                    ”END:VALARM\\n” +\n                               ”END:VEVENT\\n” +\n                           ”END:VCALENDAR”\n                           ) ;\n\n        Multipart mp = new MimeMultipart();\n\n        MimeBodyPart meetingPart = new MimeBodyPart() ;\n        meetingPart.setDataHandler( new DataHandler( new StringDataSource( messageText.toString(), “text/calendar”, “meetingRequest” ) ) ) ;\n        mp.addBodyPart( meetingPart ) ;\n\n        MimeBodyPart descriptionPart = new MimeBodyPart() ;\n        descriptionPart.setDataHandler( new DataHandler( new StringDataSource( description, “text/html”, “eventDescription” ) ) ) ;\n        descriptionPart.setContentID( “&lt;eventDescriptionHTML&gt;” ) ;\n        mp.addBodyPart( descriptionPart ) ;\n\n        message.setContent( mp ) ;\n\n        // send message\n        Transport.send(message);\n\n    } catch (MessagingException me) {\n        me.printStackTrace();\n\n    } catch (Exception ex) {\n        ex.printStackTrace();\n\n    }\n}\n\nprivate static class StringDataSource implements DataSource {\n    private String contents ;\n    private String mimetype ;\n    private String name ;\n\n\n    public StringDataSource( String contents\n                           , String mimetype\n                           , String name\n                           ) {\n        this.contents = contents ;\n        this.mimetype = mimetype ;\n        this.name = name ;\n    }\n\n    public String getContentType() {\n        return( mimetype ) ;\n    }\n\n    public String getName() {\n        return( name ) ;\n    }\n\n    public InputStream getInputStream() {\n        return( new StringBufferInputStream( contents ) ) ;\n    }\n\n    public OutputStream getOutputStream() {\n        throw new IllegalAccessError( “This datasource cannot be written to” ) ;\n    }\n} }\n</code></pre>\n\n<p>But its being sent as an attachment to the outlook 2007 and outlook 2003, and even If I click the attachment to view and accept, I don't receive the Answer, which is the purpose of the application to have a similar functionality like outlook.</p>\n\n<p>Is there any procedure I need to know of, or is it the Invitation ID that makes the thing rough?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":0,"creation_date":1643322162,"post_id":70886527,"comment_id":125316218,"body_markdown":"A compilation error telling you what? Telling you there&#39;s no such method as `isNull`?","body":"A compilation error telling you what? Telling you there&#39;s no such method as <code>isNull</code>?"},{"owner":{"account_id":3580374,"reputation":108855,"user_id":2988730,"accept_rate":96,"display_name":"Mad Physicist"},"score":0,"creation_date":1643322168,"post_id":70886527,"comment_id":125316220,"body_markdown":"What error? Please post it here","body":"What error? Please post it here"},{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":1,"creation_date":1643322229,"post_id":70886527,"comment_id":125316235,"body_markdown":"Look up `try with resources`.","body":"Look up <code>try with resources</code>."}],"answers":[{"tags":[],"owner":{"account_id":75804,"reputation":94815,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643325313,"creation_date":1643322189,"answer_id":70886548,"question_id":70886527,"body_markdown":"IsNull is not a thing in Java. Maybe you&#39;re thinking of Ruby. In Java you can&#39;t call instance methods on a null reference, there is no isNull method. That explains the compile error. \r\n\r\nUse try-with-resources syntax to close the reader. That way you don&#39;t have to catch the exception thrown on close separately, but you don&#39;t have to worry about the exception thrown on close masking an exception thrown in the try block. For more on try with resources see \r\nhttps://stackoverflow.com/q/26516020/217324\r\n\r\nLet the IOException be thrown, handle it at a higher level where you can do something useful with it. That&#39;s why we have exceptions; the place where an error occurs is not usually the place that knows what to do about it. \r\n\r\n            ArrayList&lt;String&gt; out = new ArrayList&lt;String&gt;();\r\n            try ( BufferedReader br = new BufferedReader(new FileReader(&quot;dict5.txt&quot;))) {\r\n                    String line;\r\n                    while ((line = br.readLine()) != null) {\r\n                            out.add(line);\r\n                    }\r\n             }\r\n                ","title":"How do i read a file?","body":"<p>IsNull is not a thing in Java. Maybe you're thinking of Ruby. In Java you can't call instance methods on a null reference, there is no isNull method. That explains the compile error.</p>\n<p>Use try-with-resources syntax to close the reader. That way you don't have to catch the exception thrown on close separately, but you don't have to worry about the exception thrown on close masking an exception thrown in the try block. For more on try with resources see\n<a href=\"https://stackoverflow.com/q/26516020/217324\">Try With Resources vs Try-Catch</a></p>\n<p>Let the IOException be thrown, handle it at a higher level where you can do something useful with it. That's why we have exceptions; the place where an error occurs is not usually the place that knows what to do about it.</p>\n<pre><code>        ArrayList&lt;String&gt; out = new ArrayList&lt;String&gt;();\n        try ( BufferedReader br = new BufferedReader(new FileReader(&quot;dict5.txt&quot;))) {\n                String line;\n                while ((line = br.readLine()) != null) {\n                        out.add(line);\n                }\n         }\n            \n</code></pre>\n"}],"owner":{"account_id":10217615,"reputation":31,"user_id":7542788,"display_name":"Landor3000"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"closed_date":1643322260,"accepted_answer_id":70886548,"answer_count":1,"score":-2,"last_activity_date":1643325313,"creation_date":1643322069,"question_id":70886527,"body_markdown":"It&#39;s been a while since I code in java and I&#39;m having trouble trying to read a plain text file. Here&#39;s my code\r\n```\r\nprivate static ArrayList&lt;String&gt; readDict() {\r\n                BufferedReader br;\r\n                ArrayList&lt;String&gt; out = new ArrayList&lt;String&gt;();\r\n                try {\r\n                        br = new BufferedReader(new FileReader(&quot;dict5.txt&quot;));\r\n                        String line;\r\n                        while ((line = br.readLine()) != null) {\r\n                                out.add(line);\r\n                        }\r\n                } catch(Exception exc) {\r\n                        System.out.println(&quot;Exception catched while reading file: &quot; + exc);\r\n                } finally {\r\n                        try {if (!br.isNull()) br.close();} catch(IOException exc) { System.out.println(&quot;IOException catched while closing file&quot; + exc); }\r\n                }\r\n                return out;\r\n        }\r\n```\r\nbr.isNull() gives me a compilation error, do you know why this is?\r\nThank you in advance.\r\nThe error:\r\nMain.java:30: error: cannot find symbol\r\n\t\t\ttry {if (!br.isNull()) br.close();} catch(IOException exc) { System.out.println(&quot;IOException catched while closing file&quot; + exc); }\r\n\t\t\t            ^\r\n  symbol:   method isNull()\r\n  location: variable br of type BufferedReader\r\n1 error\r\nerror: compilation failed\r\n","title":"How do i read a file?","body":"<p>It's been a while since I code in java and I'm having trouble trying to read a plain text file. Here's my code</p>\n<pre><code>private static ArrayList&lt;String&gt; readDict() {\n                BufferedReader br;\n                ArrayList&lt;String&gt; out = new ArrayList&lt;String&gt;();\n                try {\n                        br = new BufferedReader(new FileReader(&quot;dict5.txt&quot;));\n                        String line;\n                        while ((line = br.readLine()) != null) {\n                                out.add(line);\n                        }\n                } catch(Exception exc) {\n                        System.out.println(&quot;Exception catched while reading file: &quot; + exc);\n                } finally {\n                        try {if (!br.isNull()) br.close();} catch(IOException exc) { System.out.println(&quot;IOException catched while closing file&quot; + exc); }\n                }\n                return out;\n        }\n</code></pre>\n<p>br.isNull() gives me a compilation error, do you know why this is?\nThank you in advance.\nThe error:\nMain.java:30: error: cannot find symbol\ntry {if (!br.isNull()) br.close();} catch(IOException exc) { System.out.println(&quot;IOException catched while closing file&quot; + exc); }\n^\nsymbol:   method isNull()\nlocation: variable br of type BufferedReader\n1 error\nerror: compilation failed</p>\n"},{"tags":["java","spring","spring-boot","optaplanner"],"answers":[{"tags":[],"owner":{"account_id":9133364,"reputation":4450,"user_id":6794063,"display_name":"Luk&#225;š Petrovick&#253;"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643324429,"creation_date":1643324429,"answer_id":70886888,"question_id":70883516,"body_markdown":"You have no constraints. You have not told OptaPlanner what to optimize for, and therefore all solutions are equally favorable to OptaPlanner. \r\n\r\n(In fact, I am quite surprised that this code does not fail. A situation with no constraints should have thrown an exception.)","title":"Opraplanner uniform employees shifts planning","body":"<p>You have no constraints. You have not told OptaPlanner what to optimize for, and therefore all solutions are equally favorable to OptaPlanner.</p>\n<p>(In fact, I am quite surprised that this code does not fail. A situation with no constraints should have thrown an exception.)</p>\n"},{"tags":[],"owner":{"account_id":1868145,"reputation":2268,"user_id":1691152,"display_name":"yurloc"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1643325095,"creation_date":1643325095,"answer_id":70886980,"question_id":70883516,"body_markdown":"You haven&#39;t defined any constraints, therefore OptaPlaner has no reason to come up with a better solution. You are not telling it what is better.\r\n\r\nOptaPlanner &quot;thinks&quot; this solution is the best possible because (I guess) it has a score of `0hard/0soft` (you can check it in the console), which is an ideal score.\r\n\r\nTo achieve the desired output you should define a [fair workload distribution][1] constraint that will penalize each employee with a square of its workload. Probably something like this should work in your case:\r\n\r\n```java\r\n        @Override\r\n        public Constraint[] defineConstraints(ConstraintFactory constraintFactory) {\r\n            return new Constraint[] {\r\n                    fairWorkloadDistribution(constraintFactory)\r\n            };\r\n        }\r\n\r\n...\r\n\r\nConstraint fairWorkloadDistribution(ConstraintFactory constraintFactory) {\r\n    return constraintFactory.forEach(Shift.class)\r\n            .groupBy(Shift::getEmployee, ConstraintCollectors.count())\r\n            .penalize(\r\n                    &quot;Employee workload squared&quot;,\r\n                    HardSoftScore.ONE_SOFT,\r\n                    (employee, shifts) -&gt; shifts * shifts);\r\n}\r\n```\r\n\r\n\r\n  [1]: https://www.optaplanner.org/docs/optaplanner/latest/score-calculation/score-calculation.html#fairnessScoreConstraints","title":"Opraplanner uniform employees shifts planning","body":"<p>You haven't defined any constraints, therefore OptaPlaner has no reason to come up with a better solution. You are not telling it what is better.</p>\n<p>OptaPlanner &quot;thinks&quot; this solution is the best possible because (I guess) it has a score of <code>0hard/0soft</code> (you can check it in the console), which is an ideal score.</p>\n<p>To achieve the desired output you should define a <a href=\"https://www.optaplanner.org/docs/optaplanner/latest/score-calculation/score-calculation.html#fairnessScoreConstraints\" rel=\"nofollow noreferrer\">fair workload distribution</a> constraint that will penalize each employee with a square of its workload. Probably something like this should work in your case:</p>\n<pre class=\"lang-java prettyprint-override\"><code>        @Override\n        public Constraint[] defineConstraints(ConstraintFactory constraintFactory) {\n            return new Constraint[] {\n                    fairWorkloadDistribution(constraintFactory)\n            };\n        }\n\n...\n\nConstraint fairWorkloadDistribution(ConstraintFactory constraintFactory) {\n    return constraintFactory.forEach(Shift.class)\n            .groupBy(Shift::getEmployee, ConstraintCollectors.count())\n            .penalize(\n                    &quot;Employee workload squared&quot;,\n                    HardSoftScore.ONE_SOFT,\n                    (employee, shifts) -&gt; shifts * shifts);\n}\n</code></pre>\n"}],"owner":{"account_id":2278326,"reputation":651,"user_id":2004072,"display_name":"Milan Majer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":206,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70886980,"answer_count":2,"score":0,"last_activity_date":1643325095,"creation_date":1643306385,"question_id":70883516,"body_markdown":"I have a problem with planning employees shifts where employees are distributed uniformly (randomly) across the shifts.\r\n\r\nIn my minimal example I use Spring boot, Lombock and Optaplanner spring boot starter (8.15.0.Final) package.\r\n\r\nMy minimal example in one file:\r\n```java\r\npackage com.example.planner;\r\n\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Data;\r\nimport lombok.NoArgsConstructor;\r\nimport org.optaplanner.core.api.domain.entity.PlanningEntity;\r\nimport org.optaplanner.core.api.domain.lookup.PlanningId;\r\nimport org.optaplanner.core.api.domain.solution.PlanningEntityCollectionProperty;\r\nimport org.optaplanner.core.api.domain.solution.PlanningScore;\r\nimport org.optaplanner.core.api.domain.solution.PlanningSolution;\r\nimport org.optaplanner.core.api.domain.solution.ProblemFactCollectionProperty;\r\nimport org.optaplanner.core.api.domain.valuerange.ValueRangeProvider;\r\nimport org.optaplanner.core.api.domain.variable.PlanningVariable;\r\nimport org.optaplanner.core.api.score.buildin.hardsoft.HardSoftScore;\r\nimport org.optaplanner.core.api.score.stream.Constraint;\r\nimport org.optaplanner.core.api.score.stream.ConstraintFactory;\r\nimport org.optaplanner.core.api.score.stream.ConstraintProvider;\r\nimport org.optaplanner.core.api.solver.SolverManager;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.boot.CommandLineRunner;\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\n@SpringBootApplication\r\npublic class PlannerApplication implements CommandLineRunner {\r\n\r\n\t@Autowired\r\n\tprivate SolverManager&lt;Problem, Long&gt; solverManager;\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(PlannerApplication.class, args);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void run(String... args) throws Exception {\r\n\t\tfinal var problem = new Problem(\r\n\t\t\t\tList.of(new Employee(1L), new Employee(2L), new Employee(3L)),\r\n\t\t\t\tList.of(new Shift(1L), new Shift(2L), new Shift(3L), new Shift(4L), new Shift(5L), new Shift(6L))\r\n\t\t);\r\n\t\tfinal var job = solverManager.solveAndListen(1L, id -&gt; problem, bestSolution -&gt; {\r\n\t\t\tfor (final var shift : bestSolution.shifts) {\r\n\t\t\t\tSystem.err.println(&quot;Shift &quot; + shift.id + &quot;: Employee &quot; + shift.employee.id);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\t@NoArgsConstructor\r\n\tpublic static class PlannerConstraintProvider implements ConstraintProvider {\r\n\r\n\t\t@Override\r\n\t\tpublic Constraint[] defineConstraints(ConstraintFactory constraintFactory) {\r\n\t\t\treturn new Constraint[]{};\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t@PlanningSolution\r\n\t@Data @NoArgsConstructor @AllArgsConstructor\r\n\tpublic static class Problem {\r\n\t\t@ValueRangeProvider(id = &quot;employeeRange&quot;)\r\n\t\t@ProblemFactCollectionProperty\r\n\t\tprivate List&lt;Employee&gt; employees;\r\n\t\t@PlanningEntityCollectionProperty\r\n\t\tprivate List&lt;Shift&gt; shifts = new ArrayList&lt;&gt;(0);\r\n\t\t@PlanningScore\r\n\t\tprivate HardSoftScore score;\r\n\r\n\t\tpublic Problem(List&lt;Employee&gt; employees, List&lt;Shift&gt; shifts) {\r\n\t\t\tthis.employees = employees;\r\n\t\t\tthis.shifts = shifts;\r\n\t\t}\r\n\t}\r\n\r\n\t@Data @NoArgsConstructor @AllArgsConstructor\r\n\tpublic static class Employee {\r\n\t\t@PlanningId\r\n\t\tprivate Long id;\r\n\t}\r\n\r\n\t@PlanningEntity\r\n\t@Data @NoArgsConstructor @AllArgsConstructor\r\n\tpublic static class Shift {\r\n\t\t@PlanningId\r\n\t\tprivate Long id;\r\n\t\t@PlanningVariable(valueRangeProviderRefs = &quot;employeeRange&quot;)\r\n\t\tprivate Employee employee;\r\n\r\n\t\tpublic Shift(Long id) {\r\n\t\t\tthis.id = id;\r\n\t\t}\r\n\t}\r\n\r\n}\r\n\r\n```\r\n\r\nOutput of this example is:\r\n```\r\nShift 1: Employee 1\r\nShift 2: Employee 1\r\nShift 3: Employee 1\r\nShift 4: Employee 1\r\nShift 5: Employee 1\r\nShift 6: Employee 1\r\n```\r\n\r\nDesired output is:\r\n```\r\nShift 1: Employee 1\r\nShift 2: Employee 2\r\nShift 3: Employee 3\r\nShift 4: Employee 1\r\nShift 5: Employee 2\r\nShift 6: Employee 3\r\n```\r\n(or another uniform combinations)","title":"Opraplanner uniform employees shifts planning","body":"<p>I have a problem with planning employees shifts where employees are distributed uniformly (randomly) across the shifts.</p>\n<p>In my minimal example I use Spring boot, Lombock and Optaplanner spring boot starter (8.15.0.Final) package.</p>\n<p>My minimal example in one file:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.planner;\n\nimport lombok.AllArgsConstructor;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\nimport org.optaplanner.core.api.domain.entity.PlanningEntity;\nimport org.optaplanner.core.api.domain.lookup.PlanningId;\nimport org.optaplanner.core.api.domain.solution.PlanningEntityCollectionProperty;\nimport org.optaplanner.core.api.domain.solution.PlanningScore;\nimport org.optaplanner.core.api.domain.solution.PlanningSolution;\nimport org.optaplanner.core.api.domain.solution.ProblemFactCollectionProperty;\nimport org.optaplanner.core.api.domain.valuerange.ValueRangeProvider;\nimport org.optaplanner.core.api.domain.variable.PlanningVariable;\nimport org.optaplanner.core.api.score.buildin.hardsoft.HardSoftScore;\nimport org.optaplanner.core.api.score.stream.Constraint;\nimport org.optaplanner.core.api.score.stream.ConstraintFactory;\nimport org.optaplanner.core.api.score.stream.ConstraintProvider;\nimport org.optaplanner.core.api.solver.SolverManager;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.CommandLineRunner;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\n@SpringBootApplication\npublic class PlannerApplication implements CommandLineRunner {\n\n    @Autowired\n    private SolverManager&lt;Problem, Long&gt; solverManager;\n\n    public static void main(String[] args) {\n        SpringApplication.run(PlannerApplication.class, args);\n    }\n\n    @Override\n    public void run(String... args) throws Exception {\n        final var problem = new Problem(\n                List.of(new Employee(1L), new Employee(2L), new Employee(3L)),\n                List.of(new Shift(1L), new Shift(2L), new Shift(3L), new Shift(4L), new Shift(5L), new Shift(6L))\n        );\n        final var job = solverManager.solveAndListen(1L, id -&gt; problem, bestSolution -&gt; {\n            for (final var shift : bestSolution.shifts) {\n                System.err.println(&quot;Shift &quot; + shift.id + &quot;: Employee &quot; + shift.employee.id);\n            }\n        });\n    }\n\n    @NoArgsConstructor\n    public static class PlannerConstraintProvider implements ConstraintProvider {\n\n        @Override\n        public Constraint[] defineConstraints(ConstraintFactory constraintFactory) {\n            return new Constraint[]{};\n        }\n\n    }\n\n    @PlanningSolution\n    @Data @NoArgsConstructor @AllArgsConstructor\n    public static class Problem {\n        @ValueRangeProvider(id = &quot;employeeRange&quot;)\n        @ProblemFactCollectionProperty\n        private List&lt;Employee&gt; employees;\n        @PlanningEntityCollectionProperty\n        private List&lt;Shift&gt; shifts = new ArrayList&lt;&gt;(0);\n        @PlanningScore\n        private HardSoftScore score;\n\n        public Problem(List&lt;Employee&gt; employees, List&lt;Shift&gt; shifts) {\n            this.employees = employees;\n            this.shifts = shifts;\n        }\n    }\n\n    @Data @NoArgsConstructor @AllArgsConstructor\n    public static class Employee {\n        @PlanningId\n        private Long id;\n    }\n\n    @PlanningEntity\n    @Data @NoArgsConstructor @AllArgsConstructor\n    public static class Shift {\n        @PlanningId\n        private Long id;\n        @PlanningVariable(valueRangeProviderRefs = &quot;employeeRange&quot;)\n        private Employee employee;\n\n        public Shift(Long id) {\n            this.id = id;\n        }\n    }\n\n}\n\n</code></pre>\n<p>Output of this example is:</p>\n<pre><code>Shift 1: Employee 1\nShift 2: Employee 1\nShift 3: Employee 1\nShift 4: Employee 1\nShift 5: Employee 1\nShift 6: Employee 1\n</code></pre>\n<p>Desired output is:</p>\n<pre><code>Shift 1: Employee 1\nShift 2: Employee 2\nShift 3: Employee 3\nShift 4: Employee 1\nShift 5: Employee 2\nShift 6: Employee 3\n</code></pre>\n<p>(or another uniform combinations)</p>\n"},{"tags":["java","html","htmlunit"],"answers":[{"tags":[],"owner":{"account_id":7610764,"reputation":968,"user_id":5771658,"accept_rate":100,"display_name":"PSo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1469168162,"creation_date":1469168162,"answer_id":38519407,"question_id":38417083,"body_markdown":"There is a time wait for checking browser version, i am sure that if you:\r\n\r\n    WebClient webClient = new WebClient(BrowserVersion.CHROME);\r\n\r\nFirst set your browser version. Then run the line to get page:\r\n\r\n    final HtmlPage page = webClient.getPage(&quot;https://rsbuddy.com/exchange?id12934&quot;);\r\n\r\n\r\nFollowed by few options:\r\n\r\n\r\ni. Set the time to wait:\r\n    \r\n    webClient.waitForBackgroundJavaScript(5000);\r\n\r\n\r\nor\r\n\r\n    while(page.asText().contains(&quot;Checking your browser before accessing&quot;)){\r\n\t\t\twebClient.waitForBackgroundJavaScript(100);\t\t\t\t\r\n\t}\r\n\r\n\r\nii. Use Thread.sleep() instead of wait for JS:\r\n\r\n    Thread.sleep(2000);// replace with this code.\r\n\r\n\r\nFinally print it out with:\r\n\r\n    System.out.println(page.asXml());","title":"Java: Getting a 503 Error when trying to read webpage using HTMLUnit","body":"<p>There is a time wait for checking browser version, i am sure that if you:</p>\n\n<pre><code>WebClient webClient = new WebClient(BrowserVersion.CHROME);\n</code></pre>\n\n<p>First set your browser version. Then run the line to get page:</p>\n\n<pre><code>final HtmlPage page = webClient.getPage(\"https://rsbuddy.com/exchange?id12934\");\n</code></pre>\n\n<p>Followed by few options:</p>\n\n<p>i. Set the time to wait:</p>\n\n<pre><code>webClient.waitForBackgroundJavaScript(5000);\n</code></pre>\n\n<p>or</p>\n\n<pre><code>while(page.asText().contains(\"Checking your browser before accessing\")){\n        webClient.waitForBackgroundJavaScript(100);             \n}\n</code></pre>\n\n<p>ii. Use Thread.sleep() instead of wait for JS:</p>\n\n<pre><code>Thread.sleep(2000);// replace with this code.\n</code></pre>\n\n<p>Finally print it out with:</p>\n\n<pre><code>System.out.println(page.asXml());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3267750,"reputation":49,"user_id":2751894,"accept_rate":0,"display_name":"Dante Carvalho Costa"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635454946,"creation_date":1635454946,"answer_id":69760898,"question_id":38417083,"body_markdown":"Old post but i just had this same problem but solved it. \r\n\r\nIt is a jdk issue, java 8 doesn&#39;t have TLS 1.3 enabled by default. And some sites require TLS 1.3 to work. TLS 1.3 was not even implemented until java 8u261. (i didn&#39;t know oracle had java 8 updates after java 8u202 until now). Now i am using java 8u311 released in October 19, 2021, all you need to do to make it work is set one of these jvm properties :\r\n\r\n-Djdk.tls.client.protocols=&quot;TLSv1.3,TLSv1.2&quot; or -Dhttps.protocols=&quot;TLSv1.3,TLSv1.2&quot;\r\n\r\nMore information here https://www.java.com/en/configure_crypto.html","title":"Java: Getting a 503 Error when trying to read webpage using HTMLUnit","body":"<p>Old post but i just had this same problem but solved it.</p>\n<p>It is a jdk issue, java 8 doesn't have TLS 1.3 enabled by default. And some sites require TLS 1.3 to work. TLS 1.3 was not even implemented until java 8u261. (i didn't know oracle had java 8 updates after java 8u202 until now). Now i am using java 8u311 released in October 19, 2021, all you need to do to make it work is set one of these jvm properties :</p>\n<p>-Djdk.tls.client.protocols=&quot;TLSv1.3,TLSv1.2&quot; or -Dhttps.protocols=&quot;TLSv1.3,TLSv1.2&quot;</p>\n<p>More information here <a href=\"https://www.java.com/en/configure_crypto.html\" rel=\"nofollow noreferrer\">https://www.java.com/en/configure_crypto.html</a></p>\n"}],"owner":{"account_id":4045333,"reputation":1183,"user_id":3326720,"accept_rate":47,"display_name":"Orange Receptacle"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2301,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1643324639,"creation_date":1468718434,"question_id":38417083,"body_markdown":"I&#39;ve been testing out HTMLUnit and I wanted to see if I could get a value off of some websites.\r\n\r\nAfter trying it on: https://rsbuddy.com/exchange?id12934, I seem to get some 503 error, however.\r\n\r\nIt seems to be some kind of confliction with CloudFlare&#39;s IUAM.\r\n\r\nI&#39;ve looked around and found [this site][1] in which someone had the same problem as I have. The community told the poster that HTMLUnit could resolve their problem and it seems like it did in the end, however, no solutions came of it.\r\n\r\n\r\nWhat my code looks like at the moment is simply:\r\n\r\n    final WebClient webClient = new WebClient();\r\n    final HtmlPage page = webClient.getPage(&quot;https://rsbuddy.com/exchange?id12934&quot;);\r\n    System.out.println(page.asXml());\r\n\r\nThis outputs:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    INFO:\r\n    &lt;!DOCTYPE HTML&gt;\r\n    &lt;html lang=&quot;en-US&quot;&gt;\r\n\r\n    &lt;head&gt;\r\n      &lt;meta charset=&quot;UTF-8&quot; /&gt;\r\n      &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot; /&gt;\r\n      &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=Edge,chrome=1&quot; /&gt;\r\n      &lt;meta name=&quot;robots&quot; content=&quot;noindex, nofollow&quot; /&gt;\r\n      &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1, maximum-scale=1&quot; /&gt;\r\n      &lt;title&gt;Just a moment...&lt;/title&gt;\r\n      &lt;style type=&quot;text/css&quot;&gt;\r\n        html,\r\n        body {\r\n          width: 100%;\r\n          height: 100%;\r\n          margin: 0;\r\n          padding: 0;\r\n        }\r\n        body {\r\n          background-color: #ffffff;\r\n          font-family: Helvetica, Arial, sans-serif;\r\n          font-size: 100%;\r\n        }\r\n        h1 {\r\n          font-size: 1.5em;\r\n          color: #404040;\r\n          text-align: center;\r\n        }\r\n        p {\r\n          font-size: 1em;\r\n          color: #404040;\r\n          text-align: center;\r\n          margin: 10px 0 0 0;\r\n        }\r\n        #spinner {\r\n          margin: 0 auto 30px auto;\r\n          display: block;\r\n        }\r\n        .attribution {\r\n          margin-top: 20px;\r\n        }\r\n        @-webkit-keyframes bubbles {\r\n          33%: {\r\n            -webkit-transform: translateY(10px);\r\n            transform: translateY(10px);\r\n          }\r\n          66% {\r\n            -webkit-transform: translateY(-10px);\r\n            transform: translateY(-10px);\r\n          }\r\n          100% {\r\n            -webkit-transform: translateY(0);\r\n            transform: translateY(0);\r\n          }\r\n        }\r\n        @keyframes bubbles {\r\n          33%: {\r\n            -webkit-transform: translateY(10px);\r\n            transform: translateY(10px);\r\n          }\r\n          66% {\r\n            -webkit-transform: translateY(-10px);\r\n            transform: translateY(-10px);\r\n          }\r\n          100% {\r\n            -webkit-transform: translateY(0);\r\n            transform: translateY(0);\r\n          }\r\n        }\r\n        .bubbles {\r\n          background-color: #404040;\r\n          width: 15px;\r\n          height: 15px;\r\n          margin: 2px;\r\n          border-radius: 100%;\r\n          -webkit-animation: bubbles 0.6s 0.07s infinite ease-in-out;\r\n          animation: bubbles 0.6s 0.07s infinite ease-in-out;\r\n          -webkit-animation-fill-mode: both;\r\n          animation-fill-mode: both;\r\n          display: inline-block;\r\n        }\r\n      &lt;/style&gt;\r\n\r\n      &lt;script type=&quot;text/javascript&quot;&gt;\r\n        //&lt;![CDATA[\r\n        (function() {\r\n          var a = function() {\r\n              try {\r\n                return !!window.addEventListener\r\n              } catch (e) {\r\n                return !1\r\n              }\r\n            },\r\n            b = function(b, c) {\r\n              a() ? document.addEventListener(&quot;DOMContentLoaded&quot;, b, c) : document.attachEvent(&quot;onreadystatechange&quot;, b)\r\n            };\r\n          b(function() {\r\n            var a = document.getElementById(&#39;cf-content&#39;);\r\n            a.style.display = &#39;block&#39;;\r\n            setTimeout(function() {\r\n              var s, t, o, p, b, r, e, a, k, i, n, g, f, MASOuLk = {\r\n                &quot;eMSgRDgS&quot;: +((!+[] + !![] + !![] + !![] + []) + (!+[] + !![] + !![] + !![] + !![] + !![] + !![] + !![] + !![]))\r\n              };\r\n              t = document.createElement(&#39;div&#39;);\r\n              t.innerHTML = &quot;&lt;a href=&#39;/&#39;&gt;x&lt;/a&gt;&quot;;\r\n              t = t.firstChild.href;\r\n              r = t.match(/https?:\\/\\//)[0];\r\n              t = t.substr(r.length);\r\n              t = t.substr(0, t.length - 1);\r\n              a = document.getElementById(&#39;jschl-answer&#39;);\r\n              f = document.getElementById(&#39;challenge-form&#39;);;\r\n              MASOuLk.eMSgRDgS -= +((!+[] + !![] + !![] + !![] + !![] + []) + (+[]));\r\n              MASOuLk.eMSgRDgS -= +((!+[] + !![] + !![] + !![] + !![] + []) + (+[]));\r\n              MASOuLk.eMSgRDgS += +((!+[] + !![] + []) + (!+[] + !![] + !![] + !![] + !![] + !![]));\r\n              MASOuLk.eMSgRDgS *= +((!+[] + !![] + !![] + []) + (!+[] + !![] + !![] + !![] + !![] + !![] + !![]));\r\n              MASOuLk.eMSgRDgS *= +((+!![] + []) + (!+[] + !![] + !![] + !![]));\r\n              MASOuLk.eMSgRDgS *= +((!+[] + !![] + !![] + !![] + []) + (!+[] + !![] + !![] + !![]));\r\n              MASOuLk.eMSgRDgS += +((!+[] + !![] + !![] + !![] + []) + (!+[] + !![] + !![] + !![]));\r\n              a.value = parseInt(MASOuLk.eMSgRDgS, 10) + t.length;\r\n              &#39;; 121&#39;\r\n              f.submit();\r\n            }, 4000);\r\n          }, false);\r\n        })();\r\n         //]]&gt;\r\n      &lt;/script&gt;\r\n\r\n\r\n    &lt;/head&gt;\r\n\r\n    &lt;body&gt;\r\n      &lt;table width=&quot;100%&quot; height=&quot;100%&quot; cellpadding=&quot;20&quot;&gt;\r\n        &lt;tr&gt;\r\n          &lt;td align=&quot;center&quot; valign=&quot;middle&quot;&gt;\r\n            &lt;div class=&quot;cf-browser-verification cf-im-under-attack&quot;&gt;\r\n              &lt;noscript&gt;\r\n                &lt;h1 data-translate=&quot;turn_on_js&quot; style=&quot;color:#bd2426;&quot;&gt;Please turn JavaScript on and reload the page.&lt;/h1&gt;\r\n              &lt;/noscript&gt;\r\n              &lt;div id=&quot;cf-content&quot; style=&quot;display:none&quot;&gt;\r\n                &lt;div&gt;\r\n                  &lt;div class=&quot;bubbles&quot;&gt;&lt;/div&gt;\r\n                  &lt;div class=&quot;bubbles&quot;&gt;&lt;/div&gt;\r\n                  &lt;div class=&quot;bubbles&quot;&gt;&lt;/div&gt;\r\n                &lt;/div&gt;\r\n                &lt;h1&gt;&lt;span data-translate=&quot;checking_browser&quot;&gt;Checking your browser before accessing&lt;/span&gt; rsbuddy.com.&lt;/h1&gt;\r\n                &lt;p data-translate=&quot;process_is_automatic&quot;&gt;This process is automatic. Your browser will redirect to your requested content shortly.&lt;/p&gt;\r\n                &lt;p data-translate=&quot;allow_5_secs&quot;&gt;Please allow up to 5 seconds&amp;hellip;&lt;/p&gt;\r\n              &lt;/div&gt;\r\n              &lt;form id=&quot;challenge-form&quot; action=&quot;/cdn-cgi/l/chk_jschl&quot; method=&quot;get&quot;&gt;\r\n                &lt;input type=&quot;hidden&quot; name=&quot;jschl_vc&quot; value=&quot;c4f4252fa3ee7b54a685f74ba192d186&quot; /&gt;\r\n                &lt;input type=&quot;hidden&quot; name=&quot;pass&quot; value=&quot;1468717381.249-GOgXzrnovV&quot; /&gt;\r\n                &lt;input type=&quot;hidden&quot; id=&quot;jschl-answer&quot; name=&quot;jschl_answer&quot; /&gt;\r\n              &lt;/form&gt;\r\n            &lt;/div&gt;\r\n\r\n\r\n            &lt;div class=&quot;attribution&quot;&gt;\r\n              &lt;a href=&quot;https://www.cloudflare.com/5xx-error-landing?utm_source=iuam&quot; target=&quot;_blank&quot; style=&quot;font-size: 12px;&quot;&gt;DDoS protection by CloudFlare&lt;/a&gt;\r\n              &lt;br&gt;Ray ID: 2c39c577c5bb41cf\r\n            &lt;/div&gt;\r\n          &lt;/td&gt;\r\n        &lt;/tr&gt;\r\n      &lt;/table&gt;\r\n    &lt;/body&gt;\r\n\r\n    &lt;/html&gt;\r\n\r\n    Exception in thread &quot;main&quot; com.gargoylesoftware.htmlunit.FailingHttpStatusCodeException: 503 Service Temporarily Unavailable for https://rsbuddy.com/exchange?id12934 at com.gargoylesoftware.htmlunit.WebClient.throwFailingHttpStatusCodeExceptionIfNecessary(WebClient.java:570)\r\n    at com.gargoylesoftware.htmlunit.WebClient.getPage(WebClient.java:395) at com.gargoylesoftware.htmlunit.WebClient.getPage(WebClient.java:303) at com.gargoylesoftware.htmlunit.WebClient.getPage(WebClient.java:450) at com.gargoylesoftware.htmlunit.WebClient.getPage(WebClient.java:435)\r\n    at TestMain.main(TestMain.java:20) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    at java.lang.reflect.Method.invoke(Method.java:498) at com.intellij.rt.execution.application.AppMain.main(AppMain.java:144)\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n\r\nIs there a way of using HTMLUnit that would allow this to connect to the site?\r\n\r\n  [1]: https://www.spigotmc.org/threads/help-web-crawler-java-503-response-code.109093/","title":"Java: Getting a 503 Error when trying to read webpage using HTMLUnit","body":"<p>I've been testing out HTMLUnit and I wanted to see if I could get a value off of some websites.</p>\n\n<p>After trying it on: <a href=\"https://rsbuddy.com/exchange?id12934\" rel=\"nofollow\">https://rsbuddy.com/exchange?id12934</a>, I seem to get some 503 error, however.</p>\n\n<p>It seems to be some kind of confliction with CloudFlare's IUAM.</p>\n\n<p>I've looked around and found <a href=\"https://www.spigotmc.org/threads/help-web-crawler-java-503-response-code.109093/\" rel=\"nofollow\">this site</a> in which someone had the same problem as I have. The community told the poster that HTMLUnit could resolve their problem and it seems like it did in the end, however, no solutions came of it.</p>\n\n<p>What my code looks like at the moment is simply:</p>\n\n<pre><code>final WebClient webClient = new WebClient();\nfinal HtmlPage page = webClient.getPage(\"https://rsbuddy.com/exchange?id12934\");\nSystem.out.println(page.asXml());\n</code></pre>\n\n<p>This outputs:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>INFO:\r\n&lt;!DOCTYPE HTML&gt;\r\n&lt;html lang=\"en-US\"&gt;\r\n\r\n&lt;head&gt;\r\n  &lt;meta charset=\"UTF-8\" /&gt;\r\n  &lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\" /&gt;\r\n  &lt;meta http-equiv=\"X-UA-Compatible\" content=\"IE=Edge,chrome=1\" /&gt;\r\n  &lt;meta name=\"robots\" content=\"noindex, nofollow\" /&gt;\r\n  &lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1, maximum-scale=1\" /&gt;\r\n  &lt;title&gt;Just a moment...&lt;/title&gt;\r\n  &lt;style type=\"text/css\"&gt;\r\n    html,\r\n    body {\r\n      width: 100%;\r\n      height: 100%;\r\n      margin: 0;\r\n      padding: 0;\r\n    }\r\n    body {\r\n      background-color: #ffffff;\r\n      font-family: Helvetica, Arial, sans-serif;\r\n      font-size: 100%;\r\n    }\r\n    h1 {\r\n      font-size: 1.5em;\r\n      color: #404040;\r\n      text-align: center;\r\n    }\r\n    p {\r\n      font-size: 1em;\r\n      color: #404040;\r\n      text-align: center;\r\n      margin: 10px 0 0 0;\r\n    }\r\n    #spinner {\r\n      margin: 0 auto 30px auto;\r\n      display: block;\r\n    }\r\n    .attribution {\r\n      margin-top: 20px;\r\n    }\r\n    @-webkit-keyframes bubbles {\r\n      33%: {\r\n        -webkit-transform: translateY(10px);\r\n        transform: translateY(10px);\r\n      }\r\n      66% {\r\n        -webkit-transform: translateY(-10px);\r\n        transform: translateY(-10px);\r\n      }\r\n      100% {\r\n        -webkit-transform: translateY(0);\r\n        transform: translateY(0);\r\n      }\r\n    }\r\n    @keyframes bubbles {\r\n      33%: {\r\n        -webkit-transform: translateY(10px);\r\n        transform: translateY(10px);\r\n      }\r\n      66% {\r\n        -webkit-transform: translateY(-10px);\r\n        transform: translateY(-10px);\r\n      }\r\n      100% {\r\n        -webkit-transform: translateY(0);\r\n        transform: translateY(0);\r\n      }\r\n    }\r\n    .bubbles {\r\n      background-color: #404040;\r\n      width: 15px;\r\n      height: 15px;\r\n      margin: 2px;\r\n      border-radius: 100%;\r\n      -webkit-animation: bubbles 0.6s 0.07s infinite ease-in-out;\r\n      animation: bubbles 0.6s 0.07s infinite ease-in-out;\r\n      -webkit-animation-fill-mode: both;\r\n      animation-fill-mode: both;\r\n      display: inline-block;\r\n    }\r\n  &lt;/style&gt;\r\n\r\n  &lt;script type=\"text/javascript\"&gt;\r\n    //&lt;![CDATA[\r\n    (function() {\r\n      var a = function() {\r\n          try {\r\n            return !!window.addEventListener\r\n          } catch (e) {\r\n            return !1\r\n          }\r\n        },\r\n        b = function(b, c) {\r\n          a() ? document.addEventListener(\"DOMContentLoaded\", b, c) : document.attachEvent(\"onreadystatechange\", b)\r\n        };\r\n      b(function() {\r\n        var a = document.getElementById('cf-content');\r\n        a.style.display = 'block';\r\n        setTimeout(function() {\r\n          var s, t, o, p, b, r, e, a, k, i, n, g, f, MASOuLk = {\r\n            \"eMSgRDgS\": +((!+[] + !![] + !![] + !![] + []) + (!+[] + !![] + !![] + !![] + !![] + !![] + !![] + !![] + !![]))\r\n          };\r\n          t = document.createElement('div');\r\n          t.innerHTML = \"&lt;a href='/'&gt;x&lt;/a&gt;\";\r\n          t = t.firstChild.href;\r\n          r = t.match(/https?:\\/\\//)[0];\r\n          t = t.substr(r.length);\r\n          t = t.substr(0, t.length - 1);\r\n          a = document.getElementById('jschl-answer');\r\n          f = document.getElementById('challenge-form');;\r\n          MASOuLk.eMSgRDgS -= +((!+[] + !![] + !![] + !![] + !![] + []) + (+[]));\r\n          MASOuLk.eMSgRDgS -= +((!+[] + !![] + !![] + !![] + !![] + []) + (+[]));\r\n          MASOuLk.eMSgRDgS += +((!+[] + !![] + []) + (!+[] + !![] + !![] + !![] + !![] + !![]));\r\n          MASOuLk.eMSgRDgS *= +((!+[] + !![] + !![] + []) + (!+[] + !![] + !![] + !![] + !![] + !![] + !![]));\r\n          MASOuLk.eMSgRDgS *= +((+!![] + []) + (!+[] + !![] + !![] + !![]));\r\n          MASOuLk.eMSgRDgS *= +((!+[] + !![] + !![] + !![] + []) + (!+[] + !![] + !![] + !![]));\r\n          MASOuLk.eMSgRDgS += +((!+[] + !![] + !![] + !![] + []) + (!+[] + !![] + !![] + !![]));\r\n          a.value = parseInt(MASOuLk.eMSgRDgS, 10) + t.length;\r\n          '; 121'\r\n          f.submit();\r\n        }, 4000);\r\n      }, false);\r\n    })();\r\n     //]]&gt;\r\n  &lt;/script&gt;\r\n\r\n\r\n&lt;/head&gt;\r\n\r\n&lt;body&gt;\r\n  &lt;table width=\"100%\" height=\"100%\" cellpadding=\"20\"&gt;\r\n    &lt;tr&gt;\r\n      &lt;td align=\"center\" valign=\"middle\"&gt;\r\n        &lt;div class=\"cf-browser-verification cf-im-under-attack\"&gt;\r\n          &lt;noscript&gt;\r\n            &lt;h1 data-translate=\"turn_on_js\" style=\"color:#bd2426;\"&gt;Please turn JavaScript on and reload the page.&lt;/h1&gt;\r\n          &lt;/noscript&gt;\r\n          &lt;div id=\"cf-content\" style=\"display:none\"&gt;\r\n            &lt;div&gt;\r\n              &lt;div class=\"bubbles\"&gt;&lt;/div&gt;\r\n              &lt;div class=\"bubbles\"&gt;&lt;/div&gt;\r\n              &lt;div class=\"bubbles\"&gt;&lt;/div&gt;\r\n            &lt;/div&gt;\r\n            &lt;h1&gt;&lt;span data-translate=\"checking_browser\"&gt;Checking your browser before accessing&lt;/span&gt; rsbuddy.com.&lt;/h1&gt;\r\n            &lt;p data-translate=\"process_is_automatic\"&gt;This process is automatic. Your browser will redirect to your requested content shortly.&lt;/p&gt;\r\n            &lt;p data-translate=\"allow_5_secs\"&gt;Please allow up to 5 seconds&amp;hellip;&lt;/p&gt;\r\n          &lt;/div&gt;\r\n          &lt;form id=\"challenge-form\" action=\"/cdn-cgi/l/chk_jschl\" method=\"get\"&gt;\r\n            &lt;input type=\"hidden\" name=\"jschl_vc\" value=\"c4f4252fa3ee7b54a685f74ba192d186\" /&gt;\r\n            &lt;input type=\"hidden\" name=\"pass\" value=\"1468717381.249-GOgXzrnovV\" /&gt;\r\n            &lt;input type=\"hidden\" id=\"jschl-answer\" name=\"jschl_answer\" /&gt;\r\n          &lt;/form&gt;\r\n        &lt;/div&gt;\r\n\r\n\r\n        &lt;div class=\"attribution\"&gt;\r\n          &lt;a href=\"https://www.cloudflare.com/5xx-error-landing?utm_source=iuam\" target=\"_blank\" style=\"font-size: 12px;\"&gt;DDoS protection by CloudFlare&lt;/a&gt;\r\n          &lt;br&gt;Ray ID: 2c39c577c5bb41cf\r\n        &lt;/div&gt;\r\n      &lt;/td&gt;\r\n    &lt;/tr&gt;\r\n  &lt;/table&gt;\r\n&lt;/body&gt;\r\n\r\n&lt;/html&gt;\r\n\r\nException in thread \"main\" com.gargoylesoftware.htmlunit.FailingHttpStatusCodeException: 503 Service Temporarily Unavailable for https://rsbuddy.com/exchange?id12934 at com.gargoylesoftware.htmlunit.WebClient.throwFailingHttpStatusCodeExceptionIfNecessary(WebClient.java:570)\r\nat com.gargoylesoftware.htmlunit.WebClient.getPage(WebClient.java:395) at com.gargoylesoftware.htmlunit.WebClient.getPage(WebClient.java:303) at com.gargoylesoftware.htmlunit.WebClient.getPage(WebClient.java:450) at com.gargoylesoftware.htmlunit.WebClient.getPage(WebClient.java:435)\r\nat TestMain.main(TestMain.java:20) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\nat java.lang.reflect.Method.invoke(Method.java:498) at com.intellij.rt.execution.application.AppMain.main(AppMain.java:144)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Is there a way of using HTMLUnit that would allow this to connect to the site?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1643319135,"post_id":70885595,"comment_id":125315315,"body_markdown":"Use a loop over the characters in the string, and a boolean variable to remember whether you are inside double quotes.","body":"Use a loop over the characters in the string, and a boolean variable to remember whether you are inside double quotes."}],"answers":[{"tags":[],"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643320467,"creation_date":1643320467,"answer_id":70886267,"question_id":70885595,"body_markdown":"Instead of matching what to split, match country names. You need to catch either letters, or letters and spaces between quotes. Match 1 or more letters - `[a-zA-Z]+`, or(`|`) match letters and spaces between quotes - `&quot;[a-zA-Z\\s]+&quot;`.\r\n\r\n        String input = &quot;Chad Benin Angola Algeria Finland Romania \\&quot;Democratic Republic of the Congo\\&quot; Bolivia Uzbekistan Lesotho \\&quot;United States of America\\&quot;&quot;;\r\n        Pattern pattern = Pattern.compile(&quot;[a-zA-Z]+|\\&quot;[a-zA-Z\\\\s]+\\&quot;&quot;);\r\n        Matcher matcher = pattern.matcher(input);\r\n        while (matcher.find()) {\r\n          String result = matcher.group();\r\n          if (result.startsWith(&quot;\\&quot;&quot;)) {\r\n            //quotes are matched, so remove them\r\n            result = result.substring(1, result.length() - 1);\r\n          }\r\n          System.out.println(result);\r\n        }","title":"Splitting input string when it contains countires with multiple words","body":"<p>Instead of matching what to split, match country names. You need to catch either letters, or letters and spaces between quotes. Match 1 or more letters - <code>[a-zA-Z]+</code>, or(<code>|</code>) match letters and spaces between quotes - <code>&quot;[a-zA-Z\\s]+&quot;</code>.</p>\n<pre><code>    String input = &quot;Chad Benin Angola Algeria Finland Romania \\&quot;Democratic Republic of the Congo\\&quot; Bolivia Uzbekistan Lesotho \\&quot;United States of America\\&quot;&quot;;\n    Pattern pattern = Pattern.compile(&quot;[a-zA-Z]+|\\&quot;[a-zA-Z\\\\s]+\\&quot;&quot;);\n    Matcher matcher = pattern.matcher(input);\n    while (matcher.find()) {\n      String result = matcher.group();\n      if (result.startsWith(&quot;\\&quot;&quot;)) {\n        //quotes are matched, so remove them\n        result = result.substring(1, result.length() - 1);\n      }\n      System.out.println(result);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22604872,"reputation":2005,"user_id":16785907,"display_name":"Mikhail2048"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643321306,"creation_date":1643321306,"answer_id":70886398,"question_id":70885595,"body_markdown":"Hm, may be I am not intelligent enough, but I do not see any one-line-of-code solution, but I can think of the following solution:\r\n\r\n    public static void main(String[] args) {\r\n            String inputString = &quot;Chad Benin Angola Algeria Finland Romania \\&quot;Democratic Republic of the Congo\\&quot; Bolivia Uzbekistan Lesotho \\&quot;United States of America\\&quot;\\n&quot;;\r\n    \r\n            List&lt;String&gt; resultCountriesList = new ArrayList&lt;&gt;();\r\n            int currentIndex = 0;\r\n            boolean processingMultiWordsCountry = false;\r\n            for (int i = 0; i &lt; inputString.length(); i++) {\r\n                Optional&lt;String&gt; substringAsOptional = extractNextSubstring(inputString, currentIndex);\r\n                if (substringAsOptional.isPresent()) {\r\n                    String substring = substringAsOptional.get();\r\n                    currentIndex += substring.length() + 1;\r\n                    if (processingMultiWordsCountry) {\r\n                        resultCountriesList.add(substring);\r\n                    } else {\r\n                        resultCountriesList.addAll(Arrays.stream(substring.split(&quot; &quot;)).peek(String::trim).filter(s -&gt; !s.isEmpty()).collect(Collectors.toList()));\r\n                    }\r\n                    processingMultiWordsCountry = !processingMultiWordsCountry;\r\n                }\r\n            }\r\n    \r\n            System.out.println(resultCountriesList);\r\n        }\r\n    \r\n        private static Optional&lt;String&gt; extractNextSubstring(String inputString, int currentIndex) {\r\n            if (inputString.length() &gt; currentIndex + 1) {\r\n                return Optional.of(inputString.substring(currentIndex, inputString.indexOf(&quot;\\&quot;&quot;, currentIndex + 1)));\r\n            }\r\n            return Optional.empty();\r\n        }\r\nThe result list of the countries, as strings, resides in `resultCountriesList`. That code just iterates over the string, taking substring of the original string - `inputString` from the previous substring index - `currentIndex` to the next occurrence of `\\&quot;` symbol. If the substring is present - we continue processing. Also we segregate countries enclosed by `\\&quot;` symbol from countries, that resides outside of `\\&quot;` by the boolean flag `processingMultiWordsCountry`. \r\n\r\nSo, at least for now, I cannot find anything better. Also I do not think that this code is ideal, I think there are a lot of possible improvements, so if you consider any - feel free to add a comment. Hope it helped, have a nice day!","title":"Splitting input string when it contains countires with multiple words","body":"<p>Hm, may be I am not intelligent enough, but I do not see any one-line-of-code solution, but I can think of the following solution:</p>\n<pre><code>public static void main(String[] args) {\n        String inputString = &quot;Chad Benin Angola Algeria Finland Romania \\&quot;Democratic Republic of the Congo\\&quot; Bolivia Uzbekistan Lesotho \\&quot;United States of America\\&quot;\\n&quot;;\n\n        List&lt;String&gt; resultCountriesList = new ArrayList&lt;&gt;();\n        int currentIndex = 0;\n        boolean processingMultiWordsCountry = false;\n        for (int i = 0; i &lt; inputString.length(); i++) {\n            Optional&lt;String&gt; substringAsOptional = extractNextSubstring(inputString, currentIndex);\n            if (substringAsOptional.isPresent()) {\n                String substring = substringAsOptional.get();\n                currentIndex += substring.length() + 1;\n                if (processingMultiWordsCountry) {\n                    resultCountriesList.add(substring);\n                } else {\n                    resultCountriesList.addAll(Arrays.stream(substring.split(&quot; &quot;)).peek(String::trim).filter(s -&gt; !s.isEmpty()).collect(Collectors.toList()));\n                }\n                processingMultiWordsCountry = !processingMultiWordsCountry;\n            }\n        }\n\n        System.out.println(resultCountriesList);\n    }\n\n    private static Optional&lt;String&gt; extractNextSubstring(String inputString, int currentIndex) {\n        if (inputString.length() &gt; currentIndex + 1) {\n            return Optional.of(inputString.substring(currentIndex, inputString.indexOf(&quot;\\&quot;&quot;, currentIndex + 1)));\n        }\n        return Optional.empty();\n    }\n</code></pre>\n<p>The result list of the countries, as strings, resides in <code>resultCountriesList</code>. That code just iterates over the string, taking substring of the original string - <code>inputString</code> from the previous substring index - <code>currentIndex</code> to the next occurrence of <code>\\&quot;</code> symbol. If the substring is present - we continue processing. Also we segregate countries enclosed by <code>\\&quot;</code> symbol from countries, that resides outside of <code>\\&quot;</code> by the boolean flag <code>processingMultiWordsCountry</code>.</p>\n<p>So, at least for now, I cannot find anything better. Also I do not think that this code is ideal, I think there are a lot of possible improvements, so if you consider any - feel free to add a comment. Hope it helped, have a nice day!</p>\n"},{"tags":[],"owner":{"account_id":16860831,"reputation":106,"user_id":12191680,"display_name":"Yuliya Sheludyakova"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643323437,"creation_date":1643323437,"answer_id":70886738,"question_id":70885595,"body_markdown":"Similar approach as in the accepted answer but with a shorter regex and without matching and replacing the double quotes (which is quite an expensive procedure, in my opinion):\r\n\r\n        String in = &quot;Chad Benin Angola Algeria Finland Romania \\&quot;Democratic Republic of the Congo\\&quot; Bolivia Uzbekistan Lesotho \\&quot;United States of America\\&quot;&quot;;\r\n        Pattern p = Pattern.compile(&quot;\\&quot;([^\\&quot;]*)\\&quot;|(\\\\w+)&quot;);\r\n        Matcher m = p.matcher(in);\r\n        ArrayList&lt;String&gt; sets = new ArrayList&lt;&gt;();\r\n        while(m.find()) {\r\n            String multiWordCountry = m.group(1);\r\n            if (multiWordCountry != null) {\r\n                sets.add(multiWordCountry);\r\n            } else {\r\n                sets.add(m.group(2));\r\n            }\r\n        }\r\n        System.out.print(sets);\r\n\r\nResult:\r\n\r\n    [Chad, Benin, Angola, Algeria, Finland, Romania, Democratic Republic of the Congo, Bolivia, Uzbekistan, Lesotho, United States of America]","title":"Splitting input string when it contains countires with multiple words","body":"<p>Similar approach as in the accepted answer but with a shorter regex and without matching and replacing the double quotes (which is quite an expensive procedure, in my opinion):</p>\n<pre><code>    String in = &quot;Chad Benin Angola Algeria Finland Romania \\&quot;Democratic Republic of the Congo\\&quot; Bolivia Uzbekistan Lesotho \\&quot;United States of America\\&quot;&quot;;\n    Pattern p = Pattern.compile(&quot;\\&quot;([^\\&quot;]*)\\&quot;|(\\\\w+)&quot;);\n    Matcher m = p.matcher(in);\n    ArrayList&lt;String&gt; sets = new ArrayList&lt;&gt;();\n    while(m.find()) {\n        String multiWordCountry = m.group(1);\n        if (multiWordCountry != null) {\n            sets.add(multiWordCountry);\n        } else {\n            sets.add(m.group(2));\n        }\n    }\n    System.out.print(sets);\n</code></pre>\n<p>Result:</p>\n<pre><code>[Chad, Benin, Angola, Algeria, Finland, Romania, Democratic Republic of the Congo, Bolivia, Uzbekistan, Lesotho, United States of America]\n</code></pre>\n"}],"owner":{"account_id":11681020,"reputation":49,"user_id":8552742,"display_name":"Teemu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70886267,"answer_count":3,"score":0,"last_activity_date":1643323437,"creation_date":1643316903,"question_id":70885595,"body_markdown":"I get multiple countries as an input that i have to split by space. If the country has multiple word it&#39;s declared between &quot;&quot;. For example\r\n\r\n    Chad Benin Angola Algeria Finland Romania &quot;Democratic Republic of the Congo&quot; Bolivia Uzbekistan Lesotho &quot;United States of America&quot;\r\n\r\nAt the moment im able to split the countries word by word. So United States of America doesnt stay together as one country.\r\n\r\n        BufferedReader reader = new BufferedReader(\r\n                new InputStreamReader(System.in));\r\n        // Reading data using readLine\r\n        String str = reader.readLine();\r\n        ArrayList&lt;String&gt; sets = new ArrayList&lt;String&gt;();\r\n\r\n        String[] newStr = str.split(&quot;[\\\\W]&quot;);\r\n        boolean check = false;\r\n        for (String s : newStr) {\r\n            sets.add(s);\r\n        }\r\n        System.out.print(sets);\r\n\r\nHow can i split these countries so that the multiword countires dont get split?","title":"Splitting input string when it contains countires with multiple words","body":"<p>I get multiple countries as an input that i have to split by space. If the country has multiple word it's declared between &quot;&quot;. For example</p>\n<pre><code>Chad Benin Angola Algeria Finland Romania &quot;Democratic Republic of the Congo&quot; Bolivia Uzbekistan Lesotho &quot;United States of America&quot;\n</code></pre>\n<p>At the moment im able to split the countries word by word. So United States of America doesnt stay together as one country.</p>\n<pre><code>    BufferedReader reader = new BufferedReader(\n            new InputStreamReader(System.in));\n    // Reading data using readLine\n    String str = reader.readLine();\n    ArrayList&lt;String&gt; sets = new ArrayList&lt;String&gt;();\n\n    String[] newStr = str.split(&quot;[\\\\W]&quot;);\n    boolean check = false;\n    for (String s : newStr) {\n        sets.add(s);\n    }\n    System.out.print(sets);\n</code></pre>\n<p>How can i split these countries so that the multiword countires dont get split?</p>\n"},{"tags":["java","android","mediainfo"],"comments":[{"owner":{"account_id":3598704,"reputation":9723,"user_id":3002584,"accept_rate":81,"display_name":"OfirD"},"score":0,"creation_date":1643319708,"post_id":70852939,"comment_id":125315481,"body_markdown":"What happens if you omit the last parameter, such that: `mediaInfo.get(&quot;/storage/emulated/0/sample.mp4&quot;, MediaInfo.StreamKind.VIDEO, 1, &quot;Format&quot;, MediaInfo.InfoKind.TEXT)`?","body":"What happens if you omit the last parameter, such that: <code>mediaInfo.get(&quot;&#47;storage&#47;emulated&#47;0&#47;sample.mp4&quot;, MediaInfo.StreamKind.VIDEO, 1, &quot;Format&quot;, MediaInfo.InfoKind.TEXT)</code>?"}],"answers":[{"tags":[],"owner":{"account_id":26485,"reputation":58926,"user_id":68939,"display_name":"ax."},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1643322987,"creation_date":1643320617,"answer_id":70886286,"question_id":70852939,"body_markdown":"Try `0` as first `streamNumber` of a `StreamKind` instead of `1`, eg.\r\n\r\n    mediaInfo.get(&quot;sample.mp4&quot;, MediaInfo.StreamKind.VIDEO, 0, &quot;Format&quot;, MediaInfo.InfoKind.TEXT, MediaInfo.InfoKind.NAME)\r\n\r\nThat&#39;s what all the examples of [MediaInfoLib][1] do, [eg. here][2].\r\n\r\nBy the way: I would suggest to use the up-to-date [MediaInfoLib][1] directly instead of the unmaintained, 4-years-old, undocumented, modified version in MediaInfoLib-android. I got the current [Java JNI example][3] running (on Windows) in just a few minutes. Should work for Android, too (see [MediaInfoJNI.cpp][4]).\r\n\r\n\r\n  [1]: https://github.com/MediaArea/MediaInfoLib/\r\n  [2]: https://github.com/MediaArea/MediaInfoLib/blob/c02057c81a0f36a4622569bea882f073e9717838/Source/Example/HowToUse_Dll.java#L144\r\n  [3]: https://github.com/MediaArea/MediaInfoLib/tree/master/Project/Java/Example.JNI\r\n  [4]: https://github.com/MediaArea/MediaInfoLib/blob/master/Source/MediaInfoDLL/MediaInfoJNI.cpp","title":"Unable to extract parameter from video using MediaInfo","body":"<p>Try <code>0</code> as first <code>streamNumber</code> of a <code>StreamKind</code> instead of <code>1</code>, eg.</p>\n<pre><code>mediaInfo.get(&quot;sample.mp4&quot;, MediaInfo.StreamKind.VIDEO, 0, &quot;Format&quot;, MediaInfo.InfoKind.TEXT, MediaInfo.InfoKind.NAME)\n</code></pre>\n<p>That's what all the examples of <a href=\"https://github.com/MediaArea/MediaInfoLib/\" rel=\"nofollow noreferrer\">MediaInfoLib</a> do, <a href=\"https://github.com/MediaArea/MediaInfoLib/blob/c02057c81a0f36a4622569bea882f073e9717838/Source/Example/HowToUse_Dll.java#L144\" rel=\"nofollow noreferrer\">eg. here</a>.</p>\n<p>By the way: I would suggest to use the up-to-date <a href=\"https://github.com/MediaArea/MediaInfoLib/\" rel=\"nofollow noreferrer\">MediaInfoLib</a> directly instead of the unmaintained, 4-years-old, undocumented, modified version in MediaInfoLib-android. I got the current <a href=\"https://github.com/MediaArea/MediaInfoLib/tree/master/Project/Java/Example.JNI\" rel=\"nofollow noreferrer\">Java JNI example</a> running (on Windows) in just a few minutes. Should work for Android, too (see <a href=\"https://github.com/MediaArea/MediaInfoLib/blob/master/Source/MediaInfoDLL/MediaInfoJNI.cpp\" rel=\"nofollow noreferrer\">MediaInfoJNI.cpp</a>).</p>\n"}],"owner":{"account_id":5670114,"reputation":23,"user_id":12563672,"display_name":"Stacker"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":981,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1643322987,"creation_date":1643131103,"question_id":70852939,"body_markdown":"I used MediaInfo pre-build binary files from https://github.com/OLEG4120/MediaInfoLib-android to extract video information. I was able to extract entire video information with below method\r\n````\r\nMediaInfo mediaInfo = new MediaInfo();\r\nString result = mediaInfo.getMI(&quot;/storage/emulated/0/sample.mp4&quot;);\r\n````\r\n\r\nAnd i extracted all information about video file. **Now how do i extract a single parameter like `Bit Rate` and other information ?**\r\n\r\ni tried this following method\r\n````\r\nString result1 = mediaInfo.get(&quot;/storage/emulated/0/sample.mp4&quot;, MediaInfo.StreamKind.VIDEO,\r\n                    1, &quot;Format&quot;, MediaInfo.InfoKind.TEXT, MediaInfo.InfoKind.NAME);\r\n````\r\nBut the string is empty. Is there any way i could extract single parameter.\r\n\r\n**MediaInfo.java**\r\n````\r\n/*  Copyright (c) MediaArea.net SARL. All Rights Reserved.\r\n *\r\n *  Use of this source code is governed by a BSD-style license that can\r\n *  be found in the License.html file in the root of the source tree.\r\n */\r\npackage org.mediainfo.android;\r\n\r\n/**\r\n * Give information about a lot of media format.\r\n */\r\npublic class MediaInfo {\r\n\r\n    public static int isCanceled = 0;\r\n\r\n    // @remark Don&#39;t change it carelessly.\r\n    // This order is from MediaInfo_Const.h\r\n    public enum StreamKind {\r\n        GENERAL,\r\n        VIDEO,\r\n        AUDIO,\r\n        TEXT,\r\n        OTHER,\r\n        IMAGE,\r\n        MENU,\r\n        MAX\r\n    }\r\n\r\n    // @remark Don&#39;t change it carelessly.\r\n    // This order is from MediaInfo_Const.h\r\n    public enum InfoKind {\r\n        NAME, // Unique name of parameter\r\n        TEXT, // Value of parameter\r\n        MEASURE, // Unique name of measure unit of parameter\r\n        OPTIONS, // See InfoOptionKind\r\n        NAME_TEXT, // Translated name of parameter\r\n        MEASURE_TEXT, // Translated name of measure unit\r\n        INFO, // More information about the parameter\r\n        HOWTO, // How this parameter is supported, could be N(No), B(Beta),\r\n               // R(Read only), W(Read/Write)\r\n        DOMAIN, // Domain of this piece of information\r\n        MAX\r\n    }\r\n\r\n    public MediaInfo() {\r\n        //handle = create();\r\n        System.out.println(&quot;MediaInfo created&quot;);\r\n    }\r\n\r\n    public int getIsCanceled() {\r\n        return isCanceled;\r\n    }\r\n\r\n    /**\r\n     * Get a piece of information about a file. (parameter is an integer)\r\n     *\r\n     * @param streamKind\r\n     *            Kind of Stream\r\n     * @param streamNum\r\n     *            Stream number in Kind of stream\r\n     * @param parameter\r\n     *            Parameter you are looking for in the stream (codec, width,\r\n     *            bitrate, ..), in integer format\r\n     * @return a string about information you search, an empty string if there\r\n     *         is a problem.\r\n     */\r\n    public String get(String filename, StreamKind streamKind, int streamNum, int parameter) {\r\n        String result = getById(filename, streamKind.ordinal(), streamNum,\r\n                parameter); /* InfoKind.TEXT */\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * Get a piece of information about a file. (parameter is an integer)\r\n     *\r\n     * @param streamKind\r\n     *            Kind of Stream\r\n     * @param streamNum\r\n     *            Stream number in Kind of stream\r\n     * @param parameter\r\n     *            Parameter you are looking for in the stream (codec, width,\r\n     *            bitrate, ..), in integer format\r\n     * @param infoKind\r\n     *            Kind of information you want about the parameter (the text,\r\n     *            the measure, the help, ..)\r\n     * @return a string about information you search, an empty string if there\r\n     *         is a problem.\r\n     */\r\n    public String get(String filename, StreamKind streamKind, int streamNum, int parameter,\r\n            InfoKind infoKind) {\r\n        String result = getByIdDetail(filename, streamKind.ordinal(), streamNum,\r\n                parameter, infoKind.ordinal());\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * Get a piece of information about a file. (parameter is an string)\r\n     *\r\n     * @param streamKind\r\n     *            Kind of Stream (general, video, audio, ..)\r\n     * @param streamNum\r\n     *            Stream number in Kind of stream\r\n     * @param parameter\r\n     *            Parameter you are looking for in the stream (codec, width,\r\n     *            bitrate, ..), in string format (&quot;Codec&quot;, &quot;Width&quot;, ..)\r\n     * @return a string about information you search, an empty string if there\r\n     *         is a problem\r\n     */\r\n    public String get(String filename, StreamKind streamKind, int streamNum, String parameter) {\r\n        String result = getByName(filename, streamKind.ordinal(), streamNum,\r\n                parameter); /* InfoKind.TEXT, InfoKind.NAME */\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * Get a piece of information about a file. (parameter is an string)\r\n     *\r\n     * @param streamKind\r\n     *            Kind of Stream (general, video, audio, ..)\r\n     * @param streamNum\r\n     *            Stream number in Kind of stream\r\n     * @param parameter\r\n     *            Parameter you are looking for in the stream (codec, width,\r\n     *            bitrate, ..), in string format (&quot;Codec&quot;, &quot;Width&quot;, ..)\r\n     * @param infoKind\r\n     *            Kind of information you want about the parameter (the text,\r\n     *            the measure, the help, ..)\r\n     * @return a string about information you search, an empty string if there\r\n     *         is a problem.\r\n     */\r\n    public String get(String filename, StreamKind streamKind, int streamNum, String parameter,\r\n            InfoKind infoKind) {\r\n        String result = getByNameDetail(filename, streamKind.ordinal(),\r\n                streamNum, parameter, infoKind.ordinal(),\r\n                InfoKind.NAME.ordinal());\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * Get a piece of information about a file. (parameter is an string)\r\n     *\r\n     * @param streamKind\r\n     *            Kind of Stream (general, video, audio, ..)\r\n     * @param streamNum\r\n     *            Stream number in Kind of stream\r\n     * @param parameter\r\n     *            Parameter you are looking for in the stream (codec, width,\r\n     *            bitrate, ..), in string format (&quot;Codec&quot;, &quot;Width&quot;, ..)\r\n     * @param infoKind\r\n     *            Kind of information you want about the parameter (the text,\r\n     *            the measure, the help, ..)\r\n     * @param searchKind\r\n     *            Where to look for the parameter\r\n     * @return a string about information you search, an empty string if there\r\n     *         is a problem.\r\n     */\r\n    public String get(String filename, StreamKind streamKind, int streamNum, String parameter,\r\n            InfoKind infoKind, InfoKind searchKind) {\r\n        String result = getByNameDetail(filename, streamKind.ordinal(),\r\n                streamNum, parameter, infoKind.ordinal(), searchKind.ordinal());\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * Count of streams of a stream kin (StreamNumber not filled), or count of\r\n     * piece of information in this stream.\r\n     *\r\n     * @param streamKind\r\n     *            Kind of Stream (general, video, audio, ..)\r\n     * @return number of streams of the given stream kind\r\n     */\r\n    public int countGet(String filename, StreamKind streamKind) {\r\n        int result = countGet(filename, streamKind.ordinal(), -1);\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * Count of streams of a stream kin (StreamNumber not filled), or count of\r\n     * piece of information in this stream.\r\n     *\r\n     * @param streamKind\r\n     *            Kind of Stream (general, video, audio, ..)\r\n     * @param streamNumber\r\n     *            Stream number in Kind of stream\r\n     * @return number of streams of the given stream kind\r\n     */\r\n    public int countGet(String filename, StreamKind streamKind, int streamNumber) {\r\n        int result = countGet(filename, streamKind.ordinal(), streamNumber);\r\n        return result;\r\n    }\r\n\r\n    public String getMI(String filename) {\r\n        String result = getMediaInfo(filename);\r\n        return result;\r\n    }\r\n\r\n    public String getMIOption(String param) {\r\n        String result = getMediaInfoOption(param);\r\n        return result;\r\n    }\r\n\r\n    private native String getById(String filename, int streamKind, int streamNum,\r\n            int parameter);\r\n\r\n    private native String getByIdDetail(String filename, int streamKind, int streamNum,\r\n            int parameter, int kindOfInfo);\r\n\r\n    private native String getByName(String filename, int streamKind, int streamNum,\r\n            String parameter);\r\n\r\n    private native String getByNameDetail(String filename, int streamKind,\r\n            int streamNum, String parameter, int kindOfInfo, int kindOfSearch);\r\n\r\n    private native int countGet(String filename, int streamKind, int streamNum);\r\n\r\n    private native String getMediaInfo(String filename);\r\n\r\n    private native String getMediaInfoOption(String param);\r\n\r\n    static {\r\n        System.loadLibrary(&quot;mediainfo&quot;);\r\n    }\r\n}\r\n````\r\n\r\n**Dump extract**\r\n````\r\nFile\r\n    Complete name                            : /storage/emulated/0/sample.mp4\r\n    \r\n    General\r\n    Format                                   : MPEG-4\r\n    Format profile                           : Base Media / Version 2\r\n    Codec ID                                 : mp42 (isom/mp42)\r\n    File size                                : 48.1 MiB\r\n    Duration                                 : 5mn 33s\r\n    Overall bit rate mode                    : Variable\r\n    Overall bit rate                         : 1 213 Kbps\r\n    Encoded date                             : UTC 2014-06-26 10:18:07\r\n    Tagged date                              : UTC 2014-06-26 10:18:07\r\n    gsst                                     : 0\r\n    gstd                                     : 333066\r\n    gssd                                     : BD155E602HH1408471349425322\r\n    gshh                                     : r2---sn-aiglln6e.googlevideo.com\r\n    \r\n    Video\r\n    ID                                       : 1\r\n    Format                                   : AVC\r\n    Format/Info                              : Advanced Video Codec\r\n    Format profile                           : High@L3.1\r\n    Format settings, CABAC                   : Yes\r\n    Format settings, ReFrames                : 1 frame\r\n    Codec ID                                 : avc1\r\n    Codec ID/Info                            : Advanced Video Coding\r\n    Duration                                 : 5mn 32s\r\n    Bit rate                                 : 1 018 Kbps\r\n    Maximum bit rate                         : 2 944 Kbps\r\n    Width                                    : 1 280 pixels\r\n    Height                                   : 720 pixels\r\n    Display aspect ratio                     : 16:9\r\n    Frame rate mode                          : Constant\r\n    Frame rate                               : 29.970 (30000/1001) fps\r\n    Color space                              : YUV\r\n    Chroma subsampling                       : 4:2:0\r\n    Bit depth                                : 8 bits\r\n    Scan type                                : Progressive\r\n    Bits/(Pixel*Frame)                       : 0.037\r\n    Stream size                              : 40.4 MiB (84%)\r\n    Encoded date                             : UTC 1904-01-01 00:00:00\r\n    Tagged date                              : UTC 2014-06-26 10:18:10\r\n    \r\n    Audio\r\n    ID                                       : 2\r\n    Format                                   : AAC\r\n    Format/Info                              : Advanced Audio Codec\r\n    Format profile                           : LC\r\n    Codec ID                                 : 40\r\n    Duration                                 : 5mn 33s\r\n    Bit rate mode                            : Variable\r\n    Bit rate                                 : 192 Kbps\r\n    Maximum bit rate                         : 201 Kbps\r\n    Channel(s)                               : 2 channels\r\n    Channel positions                        : Front: L R\r\n    Sampling rate                            : 44.1 KHz\r\n    Frame rate                               : 43.066 fps (1024 spf)\r\n    Compression mode                         : Lossy\r\n    Stream size                              : 7.62 MiB (16%)\r\n    Title                                    : IsoMedia File Produced by Google, 5-11-2011\r\n    Encoded date                             : UTC 2014-06-26 10:18:09\r\n    Tagged date                              : UTC 2014-06-26 10:18:10\r\n````","title":"Unable to extract parameter from video using MediaInfo","body":"<p>I used MediaInfo pre-build binary files from <a href=\"https://github.com/OLEG4120/MediaInfoLib-android\" rel=\"nofollow noreferrer\">https://github.com/OLEG4120/MediaInfoLib-android</a> to extract video information. I was able to extract entire video information with below method</p>\n<pre><code>MediaInfo mediaInfo = new MediaInfo();\nString result = mediaInfo.getMI(&quot;/storage/emulated/0/sample.mp4&quot;);\n</code></pre>\n<p>And i extracted all information about video file. <strong>Now how do i extract a single parameter like <code>Bit Rate</code> and other information ?</strong></p>\n<p>i tried this following method</p>\n<pre><code>String result1 = mediaInfo.get(&quot;/storage/emulated/0/sample.mp4&quot;, MediaInfo.StreamKind.VIDEO,\n                    1, &quot;Format&quot;, MediaInfo.InfoKind.TEXT, MediaInfo.InfoKind.NAME);\n</code></pre>\n<p>But the string is empty. Is there any way i could extract single parameter.</p>\n<p><strong>MediaInfo.java</strong></p>\n<pre><code>/*  Copyright (c) MediaArea.net SARL. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license that can\n *  be found in the License.html file in the root of the source tree.\n */\npackage org.mediainfo.android;\n\n/**\n * Give information about a lot of media format.\n */\npublic class MediaInfo {\n\n    public static int isCanceled = 0;\n\n    // @remark Don't change it carelessly.\n    // This order is from MediaInfo_Const.h\n    public enum StreamKind {\n        GENERAL,\n        VIDEO,\n        AUDIO,\n        TEXT,\n        OTHER,\n        IMAGE,\n        MENU,\n        MAX\n    }\n\n    // @remark Don't change it carelessly.\n    // This order is from MediaInfo_Const.h\n    public enum InfoKind {\n        NAME, // Unique name of parameter\n        TEXT, // Value of parameter\n        MEASURE, // Unique name of measure unit of parameter\n        OPTIONS, // See InfoOptionKind\n        NAME_TEXT, // Translated name of parameter\n        MEASURE_TEXT, // Translated name of measure unit\n        INFO, // More information about the parameter\n        HOWTO, // How this parameter is supported, could be N(No), B(Beta),\n               // R(Read only), W(Read/Write)\n        DOMAIN, // Domain of this piece of information\n        MAX\n    }\n\n    public MediaInfo() {\n        //handle = create();\n        System.out.println(&quot;MediaInfo created&quot;);\n    }\n\n    public int getIsCanceled() {\n        return isCanceled;\n    }\n\n    /**\n     * Get a piece of information about a file. (parameter is an integer)\n     *\n     * @param streamKind\n     *            Kind of Stream\n     * @param streamNum\n     *            Stream number in Kind of stream\n     * @param parameter\n     *            Parameter you are looking for in the stream (codec, width,\n     *            bitrate, ..), in integer format\n     * @return a string about information you search, an empty string if there\n     *         is a problem.\n     */\n    public String get(String filename, StreamKind streamKind, int streamNum, int parameter) {\n        String result = getById(filename, streamKind.ordinal(), streamNum,\n                parameter); /* InfoKind.TEXT */\n        return result;\n    }\n\n    /**\n     * Get a piece of information about a file. (parameter is an integer)\n     *\n     * @param streamKind\n     *            Kind of Stream\n     * @param streamNum\n     *            Stream number in Kind of stream\n     * @param parameter\n     *            Parameter you are looking for in the stream (codec, width,\n     *            bitrate, ..), in integer format\n     * @param infoKind\n     *            Kind of information you want about the parameter (the text,\n     *            the measure, the help, ..)\n     * @return a string about information you search, an empty string if there\n     *         is a problem.\n     */\n    public String get(String filename, StreamKind streamKind, int streamNum, int parameter,\n            InfoKind infoKind) {\n        String result = getByIdDetail(filename, streamKind.ordinal(), streamNum,\n                parameter, infoKind.ordinal());\n        return result;\n    }\n\n    /**\n     * Get a piece of information about a file. (parameter is an string)\n     *\n     * @param streamKind\n     *            Kind of Stream (general, video, audio, ..)\n     * @param streamNum\n     *            Stream number in Kind of stream\n     * @param parameter\n     *            Parameter you are looking for in the stream (codec, width,\n     *            bitrate, ..), in string format (&quot;Codec&quot;, &quot;Width&quot;, ..)\n     * @return a string about information you search, an empty string if there\n     *         is a problem\n     */\n    public String get(String filename, StreamKind streamKind, int streamNum, String parameter) {\n        String result = getByName(filename, streamKind.ordinal(), streamNum,\n                parameter); /* InfoKind.TEXT, InfoKind.NAME */\n        return result;\n    }\n\n    /**\n     * Get a piece of information about a file. (parameter is an string)\n     *\n     * @param streamKind\n     *            Kind of Stream (general, video, audio, ..)\n     * @param streamNum\n     *            Stream number in Kind of stream\n     * @param parameter\n     *            Parameter you are looking for in the stream (codec, width,\n     *            bitrate, ..), in string format (&quot;Codec&quot;, &quot;Width&quot;, ..)\n     * @param infoKind\n     *            Kind of information you want about the parameter (the text,\n     *            the measure, the help, ..)\n     * @return a string about information you search, an empty string if there\n     *         is a problem.\n     */\n    public String get(String filename, StreamKind streamKind, int streamNum, String parameter,\n            InfoKind infoKind) {\n        String result = getByNameDetail(filename, streamKind.ordinal(),\n                streamNum, parameter, infoKind.ordinal(),\n                InfoKind.NAME.ordinal());\n        return result;\n    }\n\n    /**\n     * Get a piece of information about a file. (parameter is an string)\n     *\n     * @param streamKind\n     *            Kind of Stream (general, video, audio, ..)\n     * @param streamNum\n     *            Stream number in Kind of stream\n     * @param parameter\n     *            Parameter you are looking for in the stream (codec, width,\n     *            bitrate, ..), in string format (&quot;Codec&quot;, &quot;Width&quot;, ..)\n     * @param infoKind\n     *            Kind of information you want about the parameter (the text,\n     *            the measure, the help, ..)\n     * @param searchKind\n     *            Where to look for the parameter\n     * @return a string about information you search, an empty string if there\n     *         is a problem.\n     */\n    public String get(String filename, StreamKind streamKind, int streamNum, String parameter,\n            InfoKind infoKind, InfoKind searchKind) {\n        String result = getByNameDetail(filename, streamKind.ordinal(),\n                streamNum, parameter, infoKind.ordinal(), searchKind.ordinal());\n        return result;\n    }\n\n    /**\n     * Count of streams of a stream kin (StreamNumber not filled), or count of\n     * piece of information in this stream.\n     *\n     * @param streamKind\n     *            Kind of Stream (general, video, audio, ..)\n     * @return number of streams of the given stream kind\n     */\n    public int countGet(String filename, StreamKind streamKind) {\n        int result = countGet(filename, streamKind.ordinal(), -1);\n        return result;\n    }\n\n    /**\n     * Count of streams of a stream kin (StreamNumber not filled), or count of\n     * piece of information in this stream.\n     *\n     * @param streamKind\n     *            Kind of Stream (general, video, audio, ..)\n     * @param streamNumber\n     *            Stream number in Kind of stream\n     * @return number of streams of the given stream kind\n     */\n    public int countGet(String filename, StreamKind streamKind, int streamNumber) {\n        int result = countGet(filename, streamKind.ordinal(), streamNumber);\n        return result;\n    }\n\n    public String getMI(String filename) {\n        String result = getMediaInfo(filename);\n        return result;\n    }\n\n    public String getMIOption(String param) {\n        String result = getMediaInfoOption(param);\n        return result;\n    }\n\n    private native String getById(String filename, int streamKind, int streamNum,\n            int parameter);\n\n    private native String getByIdDetail(String filename, int streamKind, int streamNum,\n            int parameter, int kindOfInfo);\n\n    private native String getByName(String filename, int streamKind, int streamNum,\n            String parameter);\n\n    private native String getByNameDetail(String filename, int streamKind,\n            int streamNum, String parameter, int kindOfInfo, int kindOfSearch);\n\n    private native int countGet(String filename, int streamKind, int streamNum);\n\n    private native String getMediaInfo(String filename);\n\n    private native String getMediaInfoOption(String param);\n\n    static {\n        System.loadLibrary(&quot;mediainfo&quot;);\n    }\n}\n</code></pre>\n<p><strong>Dump extract</strong></p>\n<pre><code>File\n    Complete name                            : /storage/emulated/0/sample.mp4\n    \n    General\n    Format                                   : MPEG-4\n    Format profile                           : Base Media / Version 2\n    Codec ID                                 : mp42 (isom/mp42)\n    File size                                : 48.1 MiB\n    Duration                                 : 5mn 33s\n    Overall bit rate mode                    : Variable\n    Overall bit rate                         : 1 213 Kbps\n    Encoded date                             : UTC 2014-06-26 10:18:07\n    Tagged date                              : UTC 2014-06-26 10:18:07\n    gsst                                     : 0\n    gstd                                     : 333066\n    gssd                                     : BD155E602HH1408471349425322\n    gshh                                     : r2---sn-aiglln6e.googlevideo.com\n    \n    Video\n    ID                                       : 1\n    Format                                   : AVC\n    Format/Info                              : Advanced Video Codec\n    Format profile                           : High@L3.1\n    Format settings, CABAC                   : Yes\n    Format settings, ReFrames                : 1 frame\n    Codec ID                                 : avc1\n    Codec ID/Info                            : Advanced Video Coding\n    Duration                                 : 5mn 32s\n    Bit rate                                 : 1 018 Kbps\n    Maximum bit rate                         : 2 944 Kbps\n    Width                                    : 1 280 pixels\n    Height                                   : 720 pixels\n    Display aspect ratio                     : 16:9\n    Frame rate mode                          : Constant\n    Frame rate                               : 29.970 (30000/1001) fps\n    Color space                              : YUV\n    Chroma subsampling                       : 4:2:0\n    Bit depth                                : 8 bits\n    Scan type                                : Progressive\n    Bits/(Pixel*Frame)                       : 0.037\n    Stream size                              : 40.4 MiB (84%)\n    Encoded date                             : UTC 1904-01-01 00:00:00\n    Tagged date                              : UTC 2014-06-26 10:18:10\n    \n    Audio\n    ID                                       : 2\n    Format                                   : AAC\n    Format/Info                              : Advanced Audio Codec\n    Format profile                           : LC\n    Codec ID                                 : 40\n    Duration                                 : 5mn 33s\n    Bit rate mode                            : Variable\n    Bit rate                                 : 192 Kbps\n    Maximum bit rate                         : 201 Kbps\n    Channel(s)                               : 2 channels\n    Channel positions                        : Front: L R\n    Sampling rate                            : 44.1 KHz\n    Frame rate                               : 43.066 fps (1024 spf)\n    Compression mode                         : Lossy\n    Stream size                              : 7.62 MiB (16%)\n    Title                                    : IsoMedia File Produced by Google, 5-11-2011\n    Encoded date                             : UTC 2014-06-26 10:18:09\n    Tagged date                              : UTC 2014-06-26 10:18:10\n</code></pre>\n"},{"tags":["java","spring","apache-kafka","kafka-consumer-api","spring-kafka"],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643205884,"creation_date":1643205884,"answer_id":70864694,"question_id":70863024,"body_markdown":"The breakpoint is causing the producer thread to flush its batch. \r\n\r\nCall `producer.send(topic, TEST_MESSAGE).get(Duration.ofMillis(100);` in order to properly await ","title":"Spring Kafka KafkaListener picks up message when there&#39;s a breakpoint, doesn&#39;t without one","body":"<p>The breakpoint is causing the producer thread to flush its batch.</p>\n<p>Call <code>producer.send(topic, TEST_MESSAGE).get(Duration.ofMillis(100);</code> in order to properly await</p>\n"},{"tags":[],"owner":{"account_id":1288095,"reputation":169326,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643209567,"creation_date":1643209567,"answer_id":70865621,"question_id":70863024,"body_markdown":"You can add a `ConsumerRebalanceListener` to the container configuration and wait for the partition(s) to be assigned before sending the test message.","title":"Spring Kafka KafkaListener picks up message when there&#39;s a breakpoint, doesn&#39;t without one","body":"<p>You can add a <code>ConsumerRebalanceListener</code> to the container configuration and wait for the partition(s) to be assigned before sending the test message.</p>\n"}],"owner":{"account_id":14354817,"reputation":626,"user_id":10369064,"display_name":"Sheen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":518,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70865621,"answer_count":2,"score":0,"last_activity_date":1643322701,"creation_date":1643198018,"question_id":70863024,"body_markdown":"I have a simple integration test that spins up embedded kafka, sends a message to the topic, assigns the payload to a variable and compares the value.\r\n\r\n\r\nListener:\r\n```\r\n@KafkaListener( topics = &quot;topic.name&quot;, groupId = &quot;group-id&quot;)\r\npublic void receive(@Payload ConsumerRecord&lt;?, ?&gt; consumerRecord) {\r\n    setPayload(consumerRecord.toString());\r\n}\r\n```\r\n\r\nTest (using awaitly for delay)\r\n\r\n```\r\n@Test\r\npublic void canReceiveAMessage() {\r\n    producer.send(topic, TEST_MESSAGE);\r\n    await().pollDelay(10, TimeUnit.SECONDS).atMost(30, TimeUnit.SECONDS).untilAsserted(() \r\n        -&gt; assertThat(consumer.getPayload()).contains(TEST_MESSAGE);\r\n}\r\n```\r\n\r\nI assume the breakpoint resolves some kind of race condition - however, with the breakpoint, it resolves faster than 30 seconds, so i&#39;m unsure what it seems to trigger that makes it work. I can verify that the rest of it is fine, given it works with the breakpoint.\r\n\r\nEdit: It reliably passes if I sent the Consumer config to AUTO_OFFSET_RESET_CONFIG=&quot;earliest&quot;. Now, I don&#39;t want this long term, it wants to be &quot;latest&quot; - is there a reliable solution for this?","title":"Spring Kafka KafkaListener picks up message when there&#39;s a breakpoint, doesn&#39;t without one","body":"<p>I have a simple integration test that spins up embedded kafka, sends a message to the topic, assigns the payload to a variable and compares the value.</p>\n<p>Listener:</p>\n<pre><code>@KafkaListener( topics = &quot;topic.name&quot;, groupId = &quot;group-id&quot;)\npublic void receive(@Payload ConsumerRecord&lt;?, ?&gt; consumerRecord) {\n    setPayload(consumerRecord.toString());\n}\n</code></pre>\n<p>Test (using awaitly for delay)</p>\n<pre><code>@Test\npublic void canReceiveAMessage() {\n    producer.send(topic, TEST_MESSAGE);\n    await().pollDelay(10, TimeUnit.SECONDS).atMost(30, TimeUnit.SECONDS).untilAsserted(() \n        -&gt; assertThat(consumer.getPayload()).contains(TEST_MESSAGE);\n}\n</code></pre>\n<p>I assume the breakpoint resolves some kind of race condition - however, with the breakpoint, it resolves faster than 30 seconds, so i'm unsure what it seems to trigger that makes it work. I can verify that the rest of it is fine, given it works with the breakpoint.</p>\n<p>Edit: It reliably passes if I sent the Consumer config to AUTO_OFFSET_RESET_CONFIG=&quot;earliest&quot;. Now, I don't want this long term, it wants to be &quot;latest&quot; - is there a reliable solution for this?</p>\n"},{"tags":["java","visual-studio-code","junit"],"comments":[{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":1,"creation_date":1643324050,"post_id":70886595,"comment_id":125316672,"body_markdown":"https://code.visualstudio.com/docs/java/java-testing I am sure you never enabled this extension.","body":"<a href=\"https://code.visualstudio.com/docs/java/java-testing\" rel=\"nofollow noreferrer\">code.visualstudio.com/docs/java/java-testing</a> I am sure you never enabled this extension."},{"owner":{"account_id":15328238,"reputation":27,"user_id":11058731,"display_name":"Knightly"},"score":0,"creation_date":1643325208,"post_id":70886595,"comment_id":125316940,"body_markdown":"@hfontanez Java Extension Pack from Microsoft, Java Dependency Viewer from Microsoft, Debugger for Java from Microsoft, Java Test Runner from Microsoft, Language Support for Java(TM) by Red Hat, are all installed and enabled..","body":"@hfontanez Java Extension Pack from Microsoft, Java Dependency Viewer from Microsoft, Debugger for Java from Microsoft, Java Test Runner from Microsoft, Language Support for Java(TM) by Red Hat, are all installed and enabled.."},{"owner":{"account_id":15328238,"reputation":27,"user_id":11058731,"display_name":"Knightly"},"score":0,"creation_date":1643326271,"post_id":70886595,"comment_id":125317163,"body_markdown":"there seems to be a problem with how I&#39;ve referenced the jar files in settings.json because I&#39;m receiving the error &quot;error: package org.junit does not exist&quot; for my import statements.","body":"there seems to be a problem with how I&#39;ve referenced the jar files in settings.json because I&#39;m receiving the error &quot;error: package org.junit does not exist&quot; for my import statements."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1643331215,"post_id":70886595,"comment_id":125318025,"body_markdown":"That should&#39;ve been in your problem description. You may have a corrupt VSC install.","body":"That should&#39;ve been in your problem description. You may have a corrupt VSC install."},{"owner":{"account_id":17942799,"reputation":7768,"user_id":13037676,"display_name":"Steven-MSFT"},"score":0,"creation_date":1645625435,"post_id":70886595,"comment_id":125921857,"body_markdown":"@Knightly Could you find the `Testing Explorer` on the left-side Activity bar of VSCode?","body":"@Knightly Could you find the <code>Testing Explorer</code> on the left-side Activity bar of VSCode?"}],"owner":{"account_id":15328238,"reputation":27,"user_id":11058731,"display_name":"Knightly"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":135,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643322496,"creation_date":1643322496,"question_id":70886595,"body_markdown":"I&#39;ve done quite a bit of research on this and i&#39;m pretty sure I have all the requirements and for certain all the extensions. However, I&#39;m still not seeing any option to click &quot;run test&quot; above my @Test method? \r\n\r\nI have not set up the conventional file structure yet, I&#39;m just experimenting with JUNIT with a single java file trying to test a method. \r\n\r\nHere is my VSC settings.json where I added references to jar files as per the VSC guide I read.\r\n[![enter image description here][1]][1]\r\n\r\n\r\nand this is the code I&#39;m trying to test\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/HjAcE.png\r\n  [2]: https://i.stack.imgur.com/uCAwE.png\r\n\r\nI don&#39;t see any option to run my @Test method, i would appreciate any pointers. Thanks","title":"No option to run JUNIT test in VSC?","body":"<p>I've done quite a bit of research on this and i'm pretty sure I have all the requirements and for certain all the extensions. However, I'm still not seeing any option to click &quot;run test&quot; above my @Test method?</p>\n<p>I have not set up the conventional file structure yet, I'm just experimenting with JUNIT with a single java file trying to test a method.</p>\n<p>Here is my VSC settings.json where I added references to jar files as per the VSC guide I read.\n<a href=\"https://i.stack.imgur.com/HjAcE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HjAcE.png\" alt=\"enter image description here\" /></a></p>\n<p>and this is the code I'm trying to test\n<a href=\"https://i.stack.imgur.com/uCAwE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uCAwE.png\" alt=\"enter image description here\" /></a></p>\n<p>I don't see any option to run my @Test method, i would appreciate any pointers. Thanks</p>\n"},{"tags":["java","synchronization","telegram","tdlib"],"owner":{"account_id":24072653,"reputation":21,"user_id":18048443,"display_name":"Daniil Popov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":445,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1643322044,"creation_date":1643322044,"question_id":70886523,"body_markdown":"I need to gather some statistics about Telegram channels administrated by user. To work with the Telegram API I use [tdlight-java][1]. Each request to Telegram in this library performes through the SimpleTelegramClient object. That object runs on its own thread and processes requests asynchronously. So, the following method will return 0 because the call to the client method is not fully completed, but the getUserID method is already returning a value:\r\n```\r\n      public long getUserId() {\r\n            AtomicLong userID = new AtomicLong();\r\n            client.send(new TdApi.GetMe(), (me) -&gt; {\r\n                userID.set(me.get().id);\r\n            });\r\n            return userID.get();\r\n        }\r\n```\r\nI need my methods to continue executing only after the client&#39;s methods complete. So, I decided to  use synchronized blocks and locks: \r\n```\r\n    public long getUserId() throws InterruptedException{\r\n        final Object lock = new Object();\r\n        AtomicLong userID = new AtomicLong();\r\n        synchronized (lock){\r\n            client.send(new TdApi.GetMe(), (me) -&gt; {\r\n                synchronized (lock) {\r\n                    userID.set(me.get().id);\r\n                    lock.notify();\r\n                }\r\n            });\r\n            lock.wait();\r\n        }\r\n        return userID.get();\r\n    }\r\n```\r\nBut it doesn&#39;s looks like a best solution. In addition, this approach produces some restrictions while using inner API calls:\r\n\r\n```\r\nsynchronized (lock){\r\n    client.send(new TdApi.GetMe(), (me) -&gt; {\r\n        synchronized (anotherLock) {\r\n            client.send(new TdApi.GetMe(), (me) -&gt; {\r\n                synchronized(anotherLock){\r\n                    anotherLock.notify();\r\n                }\r\n            });\r\n            anotherLock.wait();\r\n        }\r\n        synchronized(lock){\r\n            lock.notify();\r\n        }\r\n    });\r\n    lock.wait();\r\n}\r\n```\r\n\r\nIn this case, the TelegramClient thread will be blocked and the inner request will never be completed, resulting in a deadlock.\r\n\r\nCan you provide me with a better idea of synchronization, please\r\n\r\n  [1]: https://github.com/tdlight-team/tdlight-java","title":"How to synchronize API calls in TDLight-Java correctly","body":"<p>I need to gather some statistics about Telegram channels administrated by user. To work with the Telegram API I use <a href=\"https://github.com/tdlight-team/tdlight-java\" rel=\"nofollow noreferrer\">tdlight-java</a>. Each request to Telegram in this library performes through the SimpleTelegramClient object. That object runs on its own thread and processes requests asynchronously. So, the following method will return 0 because the call to the client method is not fully completed, but the getUserID method is already returning a value:</p>\n<pre><code>      public long getUserId() {\n            AtomicLong userID = new AtomicLong();\n            client.send(new TdApi.GetMe(), (me) -&gt; {\n                userID.set(me.get().id);\n            });\n            return userID.get();\n        }\n</code></pre>\n<p>I need my methods to continue executing only after the client's methods complete. So, I decided to  use synchronized blocks and locks:</p>\n<pre><code>    public long getUserId() throws InterruptedException{\n        final Object lock = new Object();\n        AtomicLong userID = new AtomicLong();\n        synchronized (lock){\n            client.send(new TdApi.GetMe(), (me) -&gt; {\n                synchronized (lock) {\n                    userID.set(me.get().id);\n                    lock.notify();\n                }\n            });\n            lock.wait();\n        }\n        return userID.get();\n    }\n</code></pre>\n<p>But it doesn's looks like a best solution. In addition, this approach produces some restrictions while using inner API calls:</p>\n<pre><code>synchronized (lock){\n    client.send(new TdApi.GetMe(), (me) -&gt; {\n        synchronized (anotherLock) {\n            client.send(new TdApi.GetMe(), (me) -&gt; {\n                synchronized(anotherLock){\n                    anotherLock.notify();\n                }\n            });\n            anotherLock.wait();\n        }\n        synchronized(lock){\n            lock.notify();\n        }\n    });\n    lock.wait();\n}\n</code></pre>\n<p>In this case, the TelegramClient thread will be blocked and the inner request will never be completed, resulting in a deadlock.</p>\n<p>Can you provide me with a better idea of synchronization, please</p>\n"},{"tags":["java","hadoop","hdfs"],"owner":{"account_id":3047163,"reputation":41,"user_id":2582468,"display_name":"Avik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":138,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1643321925,"creation_date":1643300996,"question_id":70882188,"body_markdown":"I have a third party Api whih has two overloaded methods. One accepts Java nio Path and another String value path.\r\n\r\nI have to read path of a file from Hdfs (hdfs://abc/xyz/123.jks). Problem is for #2 though it accepts String value as path but it&#39;s inline function only treat that String path as class path (getClassLoader().getResourceAsStream()) . Is there any way to set hadoop path as class path?\r\n\r\nFor #1 nio path does not support hdfs path reading . Is there any way for to achive this way?\r\n\r\nKindly help","title":"Read HDFS File path using Java nio","body":"<p>I have a third party Api whih has two overloaded methods. One accepts Java nio Path and another String value path.</p>\n<p>I have to read path of a file from Hdfs (hdfs://abc/xyz/123.jks). Problem is for #2 though it accepts String value as path but it's inline function only treat that String path as class path (getClassLoader().getResourceAsStream()) . Is there any way to set hadoop path as class path?</p>\n<p>For #1 nio path does not support hdfs path reading . Is there any way for to achive this way?</p>\n<p>Kindly help</p>\n"},{"tags":["java","bufferedimage","graphics2d"],"comments":[{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1643303869,"post_id":70882734,"comment_id":125309882,"body_markdown":"@user16320675 I tried that first and made no difference.","body":"@user16320675 I tried that first and made no difference."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":1,"creation_date":1643304110,"post_id":70882734,"comment_id":125309983,"body_markdown":"@user16320675 you are guessing. Read what the method `dispose()` does. It releases resources used by that graphics object. If I set a font in a graphics object, the expectation is that it should remain for the life of that (graphics) object. Later on, if I get a reference of that image, I should be able to &quot;ask&quot; the object things about itself (i.e. background color, foreground color, what font is used in its overlay, etc.). I can get the color used for the text, but not the font name or font face.","body":"@user16320675 you are guessing. Read what the method <code>dispose()</code> does. It releases resources used by that graphics object. If I set a font in a graphics object, the expectation is that it should remain for the life of that (graphics) object. Later on, if I get a reference of that image, I should be able to &quot;ask&quot; the object things about itself (i.e. background color, foreground color, what font is used in its overlay, etc.). I can get the color used for the text, but not the font name or font face."},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1643307643,"post_id":70882734,"comment_id":125311459,"body_markdown":"Do `g2,dispose()` after the last `System.out.println`. As `Serif` is not a logical font, font substitutions happens after cleaning up `g2`.","body":"Do <code>g2,dispose()</code> after the last <code>System.out.println</code>. As <code>Serif</code> is not a logical font, font substitutions happens after cleaning up <code>g2</code>."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1643308553,"post_id":70882734,"comment_id":125311775,"body_markdown":"@JoopEggen that is how I originally wrote it. I was still getting _Dialog_. That&#39;s when I decided to call `dispose()` before the last `System.out`.","body":"@JoopEggen that is how I originally wrote it. I was still getting <i>Dialog</i>. That&#39;s when I decided to call <code>dispose()</code> before the last <code>System.out</code>."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1643308775,"post_id":70882734,"comment_id":125311864,"body_markdown":"@JoopEggen you are also incorrect about _Serif_ not being a logical font. See https://docs.oracle.com/javase/tutorial/2d/text/fonts.html","body":"@JoopEggen you are also incorrect about <i>Serif</i> not being a logical font. See <a href=\"https://docs.oracle.com/javase/tutorial/2d/text/fonts.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/2d/text/fonts.html</a>"},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1643310134,"post_id":70882734,"comment_id":125312330,"body_markdown":"I think I found the answer!!!","body":"I think I found the answer!!!"}],"answers":[{"tags":[],"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643310880,"creation_date":1643310380,"answer_id":70884336,"question_id":70882734,"body_markdown":"`BufferedImage.getGraphics()` returns the result of `BufferedImage.createGraphics()`. And, following the trail, we end up at that method of `SunGraphicsEnvironment`:\r\n````java\r\n   /**\r\n     * Returns a Graphics2D object for rendering into the\r\n     * given BufferedImage.\r\n     * @throws NullPointerException if BufferedImage argument is null\r\n     */\r\n    public Graphics2D createGraphics(BufferedImage img) {\r\n        if (img == null) {\r\n            throw new NullPointerException(&quot;BufferedImage cannot be null&quot;);\r\n        }\r\n        SurfaceData sd = SurfaceData.getPrimarySurfaceData(img);\r\n        return new SunGraphics2D(sd, Color.white, Color.black, defaultFont);\r\n    }\r\n```` \r\n\r\nWe can clearly see that it uses the `defaultFont`, hardly *connected* to the image (unless `getPrimarySurface()` does change the `defaultFont` - I guess not [I could not find it being changed]).\r\n\r\nSource code can be found [here](https://github.com/openjdk/jdk)\r\n\r\nSetting the Font of a `Graphics` will not change anything in a `BufferedImage`. The `Font` is used by the `Graphics` to *draw* the text onto the image. If a new `Graphics` is obtained from the image (using `getGraphics()` or `createGraphics()`), it will have the `defaultFont` as defined in the `GraphicsEnvironment`.","title":"Font face value returns unexpected value (&quot;Dialog&quot;) from image","body":"<p><code>BufferedImage.getGraphics()</code> returns the result of <code>BufferedImage.createGraphics()</code>. And, following the trail, we end up at that method of <code>SunGraphicsEnvironment</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>   /**\n     * Returns a Graphics2D object for rendering into the\n     * given BufferedImage.\n     * @throws NullPointerException if BufferedImage argument is null\n     */\n    public Graphics2D createGraphics(BufferedImage img) {\n        if (img == null) {\n            throw new NullPointerException(&quot;BufferedImage cannot be null&quot;);\n        }\n        SurfaceData sd = SurfaceData.getPrimarySurfaceData(img);\n        return new SunGraphics2D(sd, Color.white, Color.black, defaultFont);\n    }\n</code></pre>\n<p>We can clearly see that it uses the <code>defaultFont</code>, hardly <em>connected</em> to the image (unless <code>getPrimarySurface()</code> does change the <code>defaultFont</code> - I guess not [I could not find it being changed]).</p>\n<p>Source code can be found <a href=\"https://github.com/openjdk/jdk\" rel=\"nofollow noreferrer\">here</a></p>\n<p>Setting the Font of a <code>Graphics</code> will not change anything in a <code>BufferedImage</code>. The <code>Font</code> is used by the <code>Graphics</code> to <em>draw</em> the text onto the image. If a new <code>Graphics</code> is obtained from the image (using <code>getGraphics()</code> or <code>createGraphics()</code>), it will have the <code>defaultFont</code> as defined in the <code>GraphicsEnvironment</code>.</p>\n"},{"tags":[],"owner":{"account_id":7405785,"reputation":2672,"user_id":5634769,"display_name":"gpasch"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643310910,"creation_date":1643310910,"answer_id":70884447,"question_id":70882734,"body_markdown":"Do this:\r\n\r\n    BufferedImage img = new BufferedImage(200, 100, BufferedImage.TYPE_INT_ARGB);\r\n    Graphics2D g2d = img.createGraphics();\r\n    g2d.drawImage(img, 0, 0, 200, 100, null); // &quot;this&quot; refers to my custom JPanel which I am setting in the JFrame. \r\n    g2d.setPaint(Color.red);\r\n    g2d.setFont(new Font(&quot;Serif&quot;, Font.BOLD, 20));\r\n    System.out.println(&quot;from g2d object: &quot; + g2d.getFont().getFamily()); // outputs &quot;Serif&quot;\r\n    String s = &quot;Hello, world!&quot;;\r\n    FontMetrics fm = g2d.getFontMetrics();\r\n    int x = img.getWidth() - fm.stringWidth(s) - 5;\r\n    int y = fm.getHeight();\r\n    g2d.drawString(s, x, y);\r\n    System.out.println(g2d.getFont().toString()+&quot;-&quot;+img.getGraphics().getFont().toString()+&quot; from image: &quot; + img.getGraphics().getFont().getFamily());\r\n    g2d.dispose();\r\n    System.out.println(&quot;from image: &quot; + img.getGraphics().getFont().getFamily());\r\n\r\nAs you can see g2d retains its beloved Serif notation. The image is a thing of itself. Each time you call createGraphics on the image you get a new thing.","title":"Font face value returns unexpected value (&quot;Dialog&quot;) from image","body":"<p>Do this:</p>\n<pre><code>BufferedImage img = new BufferedImage(200, 100, BufferedImage.TYPE_INT_ARGB);\nGraphics2D g2d = img.createGraphics();\ng2d.drawImage(img, 0, 0, 200, 100, null); // &quot;this&quot; refers to my custom JPanel which I am setting in the JFrame. \ng2d.setPaint(Color.red);\ng2d.setFont(new Font(&quot;Serif&quot;, Font.BOLD, 20));\nSystem.out.println(&quot;from g2d object: &quot; + g2d.getFont().getFamily()); // outputs &quot;Serif&quot;\nString s = &quot;Hello, world!&quot;;\nFontMetrics fm = g2d.getFontMetrics();\nint x = img.getWidth() - fm.stringWidth(s) - 5;\nint y = fm.getHeight();\ng2d.drawString(s, x, y);\nSystem.out.println(g2d.getFont().toString()+&quot;-&quot;+img.getGraphics().getFont().toString()+&quot; from image: &quot; + img.getGraphics().getFont().getFamily());\ng2d.dispose();\nSystem.out.println(&quot;from image: &quot; + img.getGraphics().getFont().getFamily());\n</code></pre>\n<p>As you can see g2d retains its beloved Serif notation. The image is a thing of itself. Each time you call createGraphics on the image you get a new thing.</p>\n"},{"tags":[],"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1643321891,"creation_date":1643315175,"answer_id":70885284,"question_id":70882734,"body_markdown":"**TL:DR** The font is not accessible in `Graphics` or `Graphics2D`.\r\n\r\nWhether you invoke `BufferedImage#createGraphics()` directly or `BufferedImage#getGraphics()` the end result is the same: they both create a new graphics object. More specifically, the former returns a new `Graphics` object and the latter returns a `Graphics2D` object. Both are abstractions of the concrete type returned which is an instance of `SunGraphics2D`. Unfortunately, this object does not store any information set, **related to the font**, in the graphics object. So basically, I cannot get the data I need from the image object.\r\n\r\nIn contrast, `ProxyGraphics2D` and `PeekGraphics` - both subtypes of the abstract class `Graphics2D` class do store such information in a `Graphics2D` global variable called `mGraphics`. This object is accessed via the `getDelegate()` method, which is obviously **not** part of the `Graphics` or `Graphics2D` API. Unfortunately, both of these subclasses are part of the `sun` package which is no longer accessible. Examining these classes clearly shows that methods like `setFont()` do save the font in this delegate (`Graphics2D`) object.","title":"Font face value returns unexpected value (&quot;Dialog&quot;) from image","body":"<p><strong>TL:DR</strong> The font is not accessible in <code>Graphics</code> or <code>Graphics2D</code>.</p>\n<p>Whether you invoke <code>BufferedImage#createGraphics()</code> directly or <code>BufferedImage#getGraphics()</code> the end result is the same: they both create a new graphics object. More specifically, the former returns a new <code>Graphics</code> object and the latter returns a <code>Graphics2D</code> object. Both are abstractions of the concrete type returned which is an instance of <code>SunGraphics2D</code>. Unfortunately, this object does not store any information set, <strong>related to the font</strong>, in the graphics object. So basically, I cannot get the data I need from the image object.</p>\n<p>In contrast, <code>ProxyGraphics2D</code> and <code>PeekGraphics</code> - both subtypes of the abstract class <code>Graphics2D</code> class do store such information in a <code>Graphics2D</code> global variable called <code>mGraphics</code>. This object is accessed via the <code>getDelegate()</code> method, which is obviously <strong>not</strong> part of the <code>Graphics</code> or <code>Graphics2D</code> API. Unfortunately, both of these subclasses are part of the <code>sun</code> package which is no longer accessible. Examining these classes clearly shows that methods like <code>setFont()</code> do save the font in this delegate (<code>Graphics2D</code>) object.</p>\n"},{"tags":[],"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643320320,"creation_date":1643320320,"answer_id":70886238,"question_id":70882734,"body_markdown":"Everyone is making this more complicated than it needs to be.  The answer is quite simple:  the `getGraphics()` method of Image always creates a brand new Graphics object.  From [the documentation](https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/java/awt/Image.html#getGraphics()):\r\n\r\n&gt;Creates a graphics context for drawing to an off-screen image.\r\n\r\nThat’s all there is to it.  You set the font in one Graphics object, then you created another Graphics object.  Of course the new Graphics object doesn’t know anything about the state of the first Graphics object.  That would be like expecting that turning on one car’s headlights could somehow cause all cars to turn on their headlights.\r\n\r\nYou can get the expected result by only calling getGraphics() **once.**\r\n\r\n    System.out.println(&quot;from image: &quot; + g2d.getFont().getFamily());\r\n","title":"Font face value returns unexpected value (&quot;Dialog&quot;) from image","body":"<p>Everyone is making this more complicated than it needs to be.  The answer is quite simple:  the <code>getGraphics()</code> method of Image always creates a brand new Graphics object.  From <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/java/awt/Image.html#getGraphics()\" rel=\"nofollow noreferrer\">the documentation</a>:</p>\n<blockquote>\n<p>Creates a graphics context for drawing to an off-screen image.</p>\n</blockquote>\n<p>That’s all there is to it.  You set the font in one Graphics object, then you created another Graphics object.  Of course the new Graphics object doesn’t know anything about the state of the first Graphics object.  That would be like expecting that turning on one car’s headlights could somehow cause all cars to turn on their headlights.</p>\n<p>You can get the expected result by only calling getGraphics() <strong>once.</strong></p>\n<pre><code>System.out.println(&quot;from image: &quot; + g2d.getFont().getFamily());\n</code></pre>\n"}],"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":154,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70885284,"answer_count":4,"score":1,"last_activity_date":1643321891,"creation_date":1643303158,"question_id":70882734,"body_markdown":"This code snippet creates an image which contains text. I set the font to *Serif*. However, when I query the resulting image later on for its font face, it returns *Dialog*. I don&#39;t understand why this is.\r\n\r\n```\r\nBufferedImage img = new BufferedImage(200, 100, BufferedImage.TYPE_INT_ARGB);\r\nGraphics2D g2d = img.createGraphics();\r\ng2d.drawImage(img, 0, 0, 200, 100, this); // &quot;this&quot; refers to my custom JPanel which I am setting in the JFrame. \r\ng2d.setPaint(Color.red);\r\ng2d.setFont(new Font(&quot;Serif&quot;, Font.BOLD, 20));\r\nSystem.out.println(&quot;from g2d object: &quot; + g2d.getFont().getFamily()); // outputs &quot;Serif&quot;\r\nString s = &quot;Hello, world!&quot;;\r\nFontMetrics fm = g2d.getFontMetrics();\r\nint x = img.getWidth() - fm.stringWidth(s) - 5;\r\nint y = fm.getHeight();\r\ng2d.drawString(s, x, y);\r\ng2d.dispose();\r\nSystem.out.println(&quot;from image: &quot; + img.getGraphics().getFont().getFamily()); // outputs &quot;Dialog&quot; (expected &quot;Serif&quot;)\r\n```\r\n\r\nI understand that *Dialog* is one of the logical fonts in Java, but if the font is set to be something else, and `Font.getFontName()` returns the *font face* for the given font, why isn&#39;t it returning *Serif* as set in the `Graphics2D` object?\r\n\r\n**UPDATE**: Calling `g2d.dispose()` before or after the last `System.out.println()` makes no difference. Both ways, it still prints out *Dialog*.","title":"Font face value returns unexpected value (&quot;Dialog&quot;) from image","body":"<p>This code snippet creates an image which contains text. I set the font to <em>Serif</em>. However, when I query the resulting image later on for its font face, it returns <em>Dialog</em>. I don't understand why this is.</p>\n<pre><code>BufferedImage img = new BufferedImage(200, 100, BufferedImage.TYPE_INT_ARGB);\nGraphics2D g2d = img.createGraphics();\ng2d.drawImage(img, 0, 0, 200, 100, this); // &quot;this&quot; refers to my custom JPanel which I am setting in the JFrame. \ng2d.setPaint(Color.red);\ng2d.setFont(new Font(&quot;Serif&quot;, Font.BOLD, 20));\nSystem.out.println(&quot;from g2d object: &quot; + g2d.getFont().getFamily()); // outputs &quot;Serif&quot;\nString s = &quot;Hello, world!&quot;;\nFontMetrics fm = g2d.getFontMetrics();\nint x = img.getWidth() - fm.stringWidth(s) - 5;\nint y = fm.getHeight();\ng2d.drawString(s, x, y);\ng2d.dispose();\nSystem.out.println(&quot;from image: &quot; + img.getGraphics().getFont().getFamily()); // outputs &quot;Dialog&quot; (expected &quot;Serif&quot;)\n</code></pre>\n<p>I understand that <em>Dialog</em> is one of the logical fonts in Java, but if the font is set to be something else, and <code>Font.getFontName()</code> returns the <em>font face</em> for the given font, why isn't it returning <em>Serif</em> as set in the <code>Graphics2D</code> object?</p>\n<p><strong>UPDATE</strong>: Calling <code>g2d.dispose()</code> before or after the last <code>System.out.println()</code> makes no difference. Both ways, it still prints out <em>Dialog</em>.</p>\n"},{"tags":["java","objectmapper","jackson-databind"],"answers":[{"tags":[],"owner":{"account_id":24074560,"reputation":84,"user_id":18050083,"display_name":"PJMan0300"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643321783,"creation_date":1643321783,"answer_id":70886483,"question_id":70886432,"body_markdown":"1. create new factory for ObjectMapper\r\n2. add CaseFormatRemappingJsonFactory to mapper\r\n3. fix objectMapper to mapper in vertx 4\r\n4. add adapter ObjectMapperJsonAdapter to vertx 4\r\n\r\n```\r\npublic class MainVerticle extends AbstractVerticle {\r\n\r\n  @Override\r\n  public void start(Future&lt;Void&gt; future) throws Exception {\r\n\r\n    Handler&lt;Message&lt;Employee&gt;&gt; handler = message -&gt; {\r\n\r\n      log.info(&quot;Received a message: &quot; + message);\r\n\r\n      Employee employee = message.body();\r\n\r\n      // do something with the employee json here...\r\n\r\n      log.info(&quot;employee after processing: &quot; + employee);\r\n    };\r\n\r\n    // get reference to event bus on this verticle&#39;s context (aka instance) - see below how it is set up in the VertxOptions class and extended by Vertx4OptionSupport class in the root pom file..\r\n    EventBus eb = vertx.eventBus();\r\n\r\n    // #1 create jettison json factory from Jackson 2 : OK works both with Vert x 4 and with Vert x 3 (with Jackson 2 wrapper) here... OK works both with Vert x 4 and with Vert x 3 (with Jackson 2 wrapper) here... OK works both with Vert x 4 and with Vert x 3 (with Jackson 2 wrapper) here... OK works both with Vert x 4 and with Vert x 3 (with Jackson 2 wrapper) here... OK works both with Vert x 4 and with Vert x 3 (with Jackson 2 wrapper) here... OK works both with Vert x 4 and with Vert x 3 (with Jackson 2 wrapper) here... OK works both with Vert x 4 and with Vert x 3 (with Jackson 2 wrapper) here... OK works both with Vert x 4 and with Vert x 3 (with Jackson 2 wrapper) here...\r\n\r\n    ObjectMapper mapper = new ObjectMapper(new JettisonMappedXmlFactory());\r\n\r\n    // #2 add CaseFormatRemappingJsonFactory to mapper\r\n    // mapper.setJsonFactory(new CaseFormatRemappingJsonFactory());\r\n    // #3 fix objectMapper to mapper in vertx 4\r\n    mapper.configure(Feature.WRAP_ROOT_VALUE, true);\r\n    // #4 add adapter ObjectMapperJsonAdapter to vertx 4\r\n    MessageCodec&lt;Employee&gt; employeeCodec = MessageCodec.jsonObjectMapper(mapper);\r\n\r\n    eb.consumer(&quot;employee&quot;, employeeCodec, handler);\r\n\r\n  }\r\n}\r\n```","title":"Object Mapper in Vertx 4","body":"<ol>\n<li>create new factory for ObjectMapper</li>\n<li>add CaseFormatRemappingJsonFactory to mapper</li>\n<li>fix objectMapper to mapper in vertx 4</li>\n<li>add adapter ObjectMapperJsonAdapter to vertx 4</li>\n</ol>\n<pre><code>public class MainVerticle extends AbstractVerticle {\n\n  @Override\n  public void start(Future&lt;Void&gt; future) throws Exception {\n\n    Handler&lt;Message&lt;Employee&gt;&gt; handler = message -&gt; {\n\n      log.info(&quot;Received a message: &quot; + message);\n\n      Employee employee = message.body();\n\n      // do something with the employee json here...\n\n      log.info(&quot;employee after processing: &quot; + employee);\n    };\n\n    // get reference to event bus on this verticle's context (aka instance) - see below how it is set up in the VertxOptions class and extended by Vertx4OptionSupport class in the root pom file..\n    EventBus eb = vertx.eventBus();\n\n    // #1 create jettison json factory from Jackson 2 : OK works both with Vert x 4 and with Vert x 3 (with Jackson 2 wrapper) here... OK works both with Vert x 4 and with Vert x 3 (with Jackson 2 wrapper) here... OK works both with Vert x 4 and with Vert x 3 (with Jackson 2 wrapper) here... OK works both with Vert x 4 and with Vert x 3 (with Jackson 2 wrapper) here... OK works both with Vert x 4 and with Vert x 3 (with Jackson 2 wrapper) here... OK works both with Vert x 4 and with Vert x 3 (with Jackson 2 wrapper) here... OK works both with Vert x 4 and with Vert x 3 (with Jackson 2 wrapper) here... OK works both with Vert x 4 and with Vert x 3 (with Jackson 2 wrapper) here...\n\n    ObjectMapper mapper = new ObjectMapper(new JettisonMappedXmlFactory());\n\n    // #2 add CaseFormatRemappingJsonFactory to mapper\n    // mapper.setJsonFactory(new CaseFormatRemappingJsonFactory());\n    // #3 fix objectMapper to mapper in vertx 4\n    mapper.configure(Feature.WRAP_ROOT_VALUE, true);\n    // #4 add adapter ObjectMapperJsonAdapter to vertx 4\n    MessageCodec&lt;Employee&gt; employeeCodec = MessageCodec.jsonObjectMapper(mapper);\n\n    eb.consumer(&quot;employee&quot;, employeeCodec, handler);\n\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":23126402,"reputation":25,"user_id":17232129,"display_name":"Piku"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":439,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643321783,"creation_date":1643321521,"question_id":70886432,"body_markdown":"How to convert Object Mapper to make it work properly in Vertx 4?\r\n\r\n```ObjectMapper mapper = new ObjectMapper(new CaseFormatRemappingJsonFactory());```","title":"Object Mapper in Vertx 4","body":"<p>How to convert Object Mapper to make it work properly in Vertx 4?</p>\n<p><code>ObjectMapper mapper = new ObjectMapper(new CaseFormatRemappingJsonFactory());</code></p>\n"},{"tags":["java","queue"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1643321839,"post_id":70886464,"comment_id":125316144,"body_markdown":"Make sure you&#39;re importing the correct `Queue`","body":"Make sure you&#39;re importing the correct <code>Queue</code>"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1643325271,"post_id":70886464,"comment_id":125316956,"body_markdown":"Incidentally, it&#39;s conventional to use a single upper case letter for formal type parameters.","body":"Incidentally, it&#39;s conventional to use a single upper case letter for formal type parameters."}],"owner":{"account_id":11754722,"reputation":1,"user_id":8602764,"display_name":"Nedim"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643321687,"creation_date":1643321687,"question_id":70886464,"body_markdown":"I have problem with BreadthFirstPath API. When I would like to declare a Queue object in that API, they send me the error &quot;The type Queue is not generic. It cannot be paramterizied.&quot;, despite the fact that I am declaring Queue class generic. Does anyone have solution for my problem?\r\n\r\n    public class BreadthFirstPaths {\r\n\tprivate boolean[] marked;\r\n\tprivate  int[]edgeTo;\r\n\tprivate void bfs(Graph G, int s) {\r\n\t\tQueue&lt;Integer&gt; q = new Queue&lt;Integer&gt;();\r\n\t\tq.enqueue(s);\r\n\t\tmarked[s] = true;\r\n\t\twhile(!q.isEmpty())\r\n\t\t{\r\n\t\t\tint v = q.dequeue();\r\n\t\t\tfor(int w: G.adj(v)) {\r\n\t\t\t\tif(!marked[w]) {\r\n\t\t\t\t\tq.enqueue(w);\r\n\t\t\t\t\tmarked[w] = true;\r\n\t\t\t\t\tedgeTo[w] = v;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t\t\t}\r\n}\r\n\r\n    public class Queue&lt;Item&gt; implements Iterable&lt;Item&gt;{\r\n\tprivate Node&lt;Item&gt; first;\r\n\tprivate Node&lt;Item&gt; last;\r\n\tprivate int n;\r\n\tprivate class Node&lt;Item&gt;{\r\n\t\tprivate Node&lt;Item&gt; next;\r\n\t\tprivate Item item;\r\n\t}\r\n\tpublic Queue() {\r\n\t\tfirst = null;\r\n\t\tlast = null;\r\n\t\tn = 0;\r\n\t}\r\n\tpublic boolean isEmpty() {\r\n\t\treturn first == null;\r\n\t}\r\n\t\r\n\tpublic void enqueue(Item item) {\r\n\t\tNode&lt;Item&gt; oldlast = last;\r\n\t\tlast = new Node&lt;Item&gt;();\r\n\t\tlast.item = item;\r\n\t\tlast.next = null;\r\n\t\tif(isEmpty()) first = last;\r\n\t\telse oldlast.next = last;\r\n\t\tn++;\r\n\t}\r\n\t\r\n\tpublic Item dequeue() {\r\n\t\tif(isEmpty()) throw new NoSuchElementException(&quot;Queue underflow&quot;);\r\n\t\tItem item = first.item;\r\n\t\tfirst = first.next;\r\n\t\tn--;\r\n\t\tif(isEmpty()) last = null;\r\n\t\treturn item;\r\n\t}\r\n\t@Override\r\n\tpublic Iterator&lt;Item&gt; iterator() {\r\n\t\t// TODO Auto-generated method stub\r\n\t\treturn null;\r\n\t}\r\n\r\n\t\r\n\t\r\n\r\n}\r\n    \r\n\r\n\r\n\r\n\r\n","title":"The type Queue is not generic","body":"<p>I have problem with BreadthFirstPath API. When I would like to declare a Queue object in that API, they send me the error &quot;The type Queue is not generic. It cannot be paramterizied.&quot;, despite the fact that I am declaring Queue class generic. Does anyone have solution for my problem?</p>\n<pre><code>public class BreadthFirstPaths {\nprivate boolean[] marked;\nprivate  int[]edgeTo;\nprivate void bfs(Graph G, int s) {\n    Queue&lt;Integer&gt; q = new Queue&lt;Integer&gt;();\n    q.enqueue(s);\n    marked[s] = true;\n    while(!q.isEmpty())\n    {\n        int v = q.dequeue();\n        for(int w: G.adj(v)) {\n            if(!marked[w]) {\n                q.enqueue(w);\n                marked[w] = true;\n                edgeTo[w] = v;\n            }\n        }\n    }\n            }\n</code></pre>\n<p>}</p>\n<pre><code>public class Queue&lt;Item&gt; implements Iterable&lt;Item&gt;{\nprivate Node&lt;Item&gt; first;\nprivate Node&lt;Item&gt; last;\nprivate int n;\nprivate class Node&lt;Item&gt;{\n    private Node&lt;Item&gt; next;\n    private Item item;\n}\npublic Queue() {\n    first = null;\n    last = null;\n    n = 0;\n}\npublic boolean isEmpty() {\n    return first == null;\n}\n\npublic void enqueue(Item item) {\n    Node&lt;Item&gt; oldlast = last;\n    last = new Node&lt;Item&gt;();\n    last.item = item;\n    last.next = null;\n    if(isEmpty()) first = last;\n    else oldlast.next = last;\n    n++;\n}\n\npublic Item dequeue() {\n    if(isEmpty()) throw new NoSuchElementException(&quot;Queue underflow&quot;);\n    Item item = first.item;\n    first = first.next;\n    n--;\n    if(isEmpty()) last = null;\n    return item;\n}\n@Override\npublic Iterator&lt;Item&gt; iterator() {\n    // TODO Auto-generated method stub\n    return null;\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","generics","types","effective-java"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1574319389,"post_id":58967845,"comment_id":104191959,"body_markdown":"You are going to have an unsafe cast _somewhere_.","body":"You are going to have an unsafe cast <i>somewhere</i>."}],"answers":[{"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1574321057,"creation_date":1574315507,"answer_id":58968108,"question_id":58967845,"body_markdown":"The problem is with the wildcard parameter on the `Set`. Instead of using a `Set&lt;?&gt;`, make it a `Set&lt;Object&gt;`, and everything works:\r\n\r\n    public static class Container {\r\n    \r\n        Map&lt;Class&lt;?&gt;, Set&lt;Object&gt;&gt; store = new HashMap&lt;&gt;();\r\n    \r\n        public &lt;T&gt; void put(T ele, Class&lt;T&gt; type) {\r\n            store.putIfAbsent(type, new HashSet&lt;&gt;());\r\n            store.get(type).add(ele);\r\n        }\r\n\r\n    }\r\n\r\nThe difference between `Set&lt;?&gt;` and `Set&lt;Object&gt;` is this:\r\n\r\nA `Set&lt;?&gt;` could be a `Set` of any type - it could be a `Set&lt;String&gt;` or a `Set&lt;Integer&gt;`. And the java compiler wants to make sure that you are not trying to add a `String` object to a `Set&lt;Integer&gt;`.\r\n\r\nOn the other hand, a `Set&lt;Object&gt;` is just a `Set` that can contain instances of the `Object` class. And since `String` and `Integer` are both subclasses of `Object`, you can easily store strings and Integers into such a set.\r\n\r\nAdding the method\r\n\r\n        public &lt;T&gt; Set&lt;T&gt; get(Class&lt;T&gt; type) {\r\n            return (Set&lt;T&gt;) store.get(type);\r\n        }\r\n\r\nto the class gives a compiler warning about an unchecked cast. This warning can be safely ignored here, because you know that you added only elements of type `T` to that `Set`.","title":"Typesafe heterogeneous containers involving generics","body":"<p>The problem is with the wildcard parameter on the <code>Set</code>. Instead of using a <code>Set&lt;?&gt;</code>, make it a <code>Set&lt;Object&gt;</code>, and everything works:</p>\n\n<pre><code>public static class Container {\n\n    Map&lt;Class&lt;?&gt;, Set&lt;Object&gt;&gt; store = new HashMap&lt;&gt;();\n\n    public &lt;T&gt; void put(T ele, Class&lt;T&gt; type) {\n        store.putIfAbsent(type, new HashSet&lt;&gt;());\n        store.get(type).add(ele);\n    }\n\n}\n</code></pre>\n\n<p>The difference between <code>Set&lt;?&gt;</code> and <code>Set&lt;Object&gt;</code> is this:</p>\n\n<p>A <code>Set&lt;?&gt;</code> could be a <code>Set</code> of any type - it could be a <code>Set&lt;String&gt;</code> or a <code>Set&lt;Integer&gt;</code>. And the java compiler wants to make sure that you are not trying to add a <code>String</code> object to a <code>Set&lt;Integer&gt;</code>.</p>\n\n<p>On the other hand, a <code>Set&lt;Object&gt;</code> is just a <code>Set</code> that can contain instances of the <code>Object</code> class. And since <code>String</code> and <code>Integer</code> are both subclasses of <code>Object</code>, you can easily store strings and Integers into such a set.</p>\n\n<p>Adding the method</p>\n\n<pre><code>    public &lt;T&gt; Set&lt;T&gt; get(Class&lt;T&gt; type) {\n        return (Set&lt;T&gt;) store.get(type);\n    }\n</code></pre>\n\n<p>to the class gives a compiler warning about an unchecked cast. This warning can be safely ignored here, because you know that you added only elements of type <code>T</code> to that <code>Set</code>.</p>\n"},{"tags":[],"owner":{"account_id":14292397,"reputation":1,"user_id":10323962,"display_name":"Oscar Kuźniar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1574403544,"creation_date":1574402905,"answer_id":58988420,"question_id":58967845,"body_markdown":"Thomas Kl&#228;gers solution is an answer that also came to my head. Creating an fully functioning heterogeneous container which works like this:\r\n\r\n    Set&lt;?&gt; raw = store.get(type);\r\n    Set&lt;T&gt; typed = // some magic;\r\n\r\n\r\nBut as far as I know, It is not possible to use container You mentioned with that &#39;smooth&#39; code I quoted above. However it is usable and You can get sets of Your stored by class sets. Here goes the code: \r\n\r\n\r\n    public class Container {\r\n\r\n        Map&lt;Class&lt;?&gt;, Set&lt;Object&gt;&gt; container = new HashMap&lt;&gt;();\r\n\r\n        public &lt;T&gt; void put(T e, Class&lt;?&gt; type) {\r\n            container.putIfAbsent(type, new HashSet&lt;&gt;());\r\n            container.get(type).add(e);\r\n        }\r\n    \r\n        public &lt;T&gt; Set&lt;T&gt; get(Class&lt;T&gt; type) {\r\n            @SuppressWarnings(&quot;unchecked&quot;) //It is fine to ignore warnings here\r\n            Set&lt;T&gt; res = (Set&lt;T&gt;) container.get(type);\r\n            return res;\r\n        }\r\n    }\r\n\r\nAnd working example of storing ang retreiving Containers elements:\r\npublic class Run {\r\n\r\n    public static void main(String[] args) {\r\n        Foo foo = new Foo();\r\n        Bar bar = new Bar();\r\n\r\n        Container con = new Container();\r\n        con.put(foo, foo.getClass());\r\n        con.put(bar, bar.getClass());\r\n\r\n        Set&lt;? extends Foo&gt; foos = con.get(foo.getClass());\r\n        Set&lt;? extends Bar&gt; bars = con.get(bar.getClass());\r\n\r\n        //here You can use Your sets as ususal\r\n    }\r\n\r\nIf approach `&lt;? extends Foo&gt;` and usage is fine for You, it&#39;s working solution. Above that if You work in Java 10+, there&#39;s possibility for that &#39;dirty&#39; declaration omission. Just declare it as `var` and poof, its hidden. ","title":"Typesafe heterogeneous containers involving generics","body":"<p>Thomas Klägers solution is an answer that also came to my head. Creating an fully functioning heterogeneous container which works like this:</p>\n\n<pre><code>Set&lt;?&gt; raw = store.get(type);\nSet&lt;T&gt; typed = // some magic;\n</code></pre>\n\n<p>But as far as I know, It is not possible to use container You mentioned with that 'smooth' code I quoted above. However it is usable and You can get sets of Your stored by class sets. Here goes the code: </p>\n\n<pre><code>public class Container {\n\n    Map&lt;Class&lt;?&gt;, Set&lt;Object&gt;&gt; container = new HashMap&lt;&gt;();\n\n    public &lt;T&gt; void put(T e, Class&lt;?&gt; type) {\n        container.putIfAbsent(type, new HashSet&lt;&gt;());\n        container.get(type).add(e);\n    }\n\n    public &lt;T&gt; Set&lt;T&gt; get(Class&lt;T&gt; type) {\n        @SuppressWarnings(\"unchecked\") //It is fine to ignore warnings here\n        Set&lt;T&gt; res = (Set&lt;T&gt;) container.get(type);\n        return res;\n    }\n}\n</code></pre>\n\n<p>And working example of storing ang retreiving Containers elements:\npublic class Run {</p>\n\n<pre><code>public static void main(String[] args) {\n    Foo foo = new Foo();\n    Bar bar = new Bar();\n\n    Container con = new Container();\n    con.put(foo, foo.getClass());\n    con.put(bar, bar.getClass());\n\n    Set&lt;? extends Foo&gt; foos = con.get(foo.getClass());\n    Set&lt;? extends Bar&gt; bars = con.get(bar.getClass());\n\n    //here You can use Your sets as ususal\n}\n</code></pre>\n\n<p>If approach <code>&lt;? extends Foo&gt;</code> and usage is fine for You, it's working solution. Above that if You work in Java 10+, there's possibility for that 'dirty' declaration omission. Just declare it as <code>var</code> and poof, its hidden. </p>\n"},{"tags":[],"owner":{"account_id":7829105,"reputation":327,"user_id":5919820,"accept_rate":100,"display_name":"motaa"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643321456,"creation_date":1642908853,"answer_id":70818931,"question_id":58967845,"body_markdown":"I stumbled upon this problem a few weeks ago as I needed a typesafe heterogenous container (THC) for literally any object (including generic interface implementations) AND any number of them (like two keys that provide a String for example).\r\n\r\nAlthough this question is rather old, I&#39;d like to provide another approach.\r\n\r\nTHCs are all about parameterizing the keys. So you can use a key object that wraps the class type instead of using the class type as key.\r\n\r\n\r\nFor example:\r\nKey-Class:\r\n\r\n    static class Type&lt;T&gt; {\r\n        private final Class&lt;T&gt; object_type;\r\n    \r\n        public Type(String name, Class&lt;T&gt; object_type){\r\n            this.object_type = object_type;\r\n        }\r\n        public Class&lt;T&gt; getObjectType() {\r\n            return object_type;\r\n        }\r\n    }\r\n\r\nContainer-Class:\r\n\r\n    static class Container{\r\n    \r\n        private final Map&lt;Type&lt;?&gt;, Object&gt; properties = new HashMap&lt;&gt;();\r\n    \r\n        public &lt;T&gt; T get(Type&lt;T&gt; type){\r\n            return type.getObjectType().cast(properties.get(type)); //no compiler complaints\r\n        }\r\n    \r\n        public &lt;T&gt; void put(Type&lt;T&gt; type, T value){\r\n            properties.put(type, type.getObjectType().cast(value)); //no compielr complaints\r\n        }\r\n    }\r\n\r\nSince we can&#39;t provide ``Set&lt;Foo&gt;.class`` as object type we have like two possibilites to deal with the generic type. Either we use inheritence or we use composition.\r\n\r\nInheritence:\r\n```\r\nstatic class IntHashSet extends HashSet&lt;Integer&gt;{}\r\n```\r\n\r\nComposition:\r\n```\r\nstatic class IntSetComposition{\r\n\r\n    private final Set&lt;Integer&gt; set;\r\n    public IntSetComposition(Set&lt;Integer&gt; set){\r\n        this.set=set;\r\n    }\r\n    public Set&lt;Integer&gt; getSet(){\r\n        return this.set;\r\n    }\r\n}\r\n```\r\n\r\nHow to use all this:\r\n\r\n    public static void main(String[] args) {\r\n        Type&lt;String&gt; string_type = new Type&lt;&gt;(&quot;string_type_1&quot;, String.class);\r\n\r\n        Type&lt;Integer&gt; int_type = new Type&lt;&gt;(&quot;int_type_1&quot;, Integer.class);\r\n\r\n        Type&lt;IntHashSet&gt; int_set = new Type&lt;&gt;(&quot;int_hashset&quot;, IntHashSet.class);        \r\n        Type&lt;IntSetComposition&gt; int_set_comp = new Type&lt;&gt;(&quot;int_set_comp&quot;, IntSetComposition.class);        \r\n    \r\n        Container container = new Container();\r\n\r\n        String s = container.get(string_type); //no compiler complaints\r\n        int i = container.get(int_type); //no compiler complaints\r\n\r\n        IntHashSet set = container.get(int_set); //no compiler complaints\r\n        Set&lt;Integer&gt; set2 = container.get(int_set_comp).getSet(); //no compiler complaints\r\n\r\n        String s2 = container.get(int_type); //the compiler does not like this!\r\n    }\r\n\r\nNote: NotNull checks should be implemented as well as hashcode() and equals() overrides\r\n\r\n\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/java/generics/erasure.html","title":"Typesafe heterogeneous containers involving generics","body":"<p>I stumbled upon this problem a few weeks ago as I needed a typesafe heterogenous container (THC) for literally any object (including generic interface implementations) AND any number of them (like two keys that provide a String for example).</p>\n<p>Although this question is rather old, I'd like to provide another approach.</p>\n<p>THCs are all about parameterizing the keys. So you can use a key object that wraps the class type instead of using the class type as key.</p>\n<p>For example:\nKey-Class:</p>\n<pre><code>static class Type&lt;T&gt; {\n    private final Class&lt;T&gt; object_type;\n\n    public Type(String name, Class&lt;T&gt; object_type){\n        this.object_type = object_type;\n    }\n    public Class&lt;T&gt; getObjectType() {\n        return object_type;\n    }\n}\n</code></pre>\n<p>Container-Class:</p>\n<pre><code>static class Container{\n\n    private final Map&lt;Type&lt;?&gt;, Object&gt; properties = new HashMap&lt;&gt;();\n\n    public &lt;T&gt; T get(Type&lt;T&gt; type){\n        return type.getObjectType().cast(properties.get(type)); //no compiler complaints\n    }\n\n    public &lt;T&gt; void put(Type&lt;T&gt; type, T value){\n        properties.put(type, type.getObjectType().cast(value)); //no compielr complaints\n    }\n}\n</code></pre>\n<p>Since we can't provide <code>Set&lt;Foo&gt;.class</code> as object type we have like two possibilites to deal with the generic type. Either we use inheritence or we use composition.</p>\n<p>Inheritence:</p>\n<pre><code>static class IntHashSet extends HashSet&lt;Integer&gt;{}\n</code></pre>\n<p>Composition:</p>\n<pre><code>static class IntSetComposition{\n\n    private final Set&lt;Integer&gt; set;\n    public IntSetComposition(Set&lt;Integer&gt; set){\n        this.set=set;\n    }\n    public Set&lt;Integer&gt; getSet(){\n        return this.set;\n    }\n}\n</code></pre>\n<p>How to use all this:</p>\n<pre><code>public static void main(String[] args) {\n    Type&lt;String&gt; string_type = new Type&lt;&gt;(&quot;string_type_1&quot;, String.class);\n\n    Type&lt;Integer&gt; int_type = new Type&lt;&gt;(&quot;int_type_1&quot;, Integer.class);\n\n    Type&lt;IntHashSet&gt; int_set = new Type&lt;&gt;(&quot;int_hashset&quot;, IntHashSet.class);        \n    Type&lt;IntSetComposition&gt; int_set_comp = new Type&lt;&gt;(&quot;int_set_comp&quot;, IntSetComposition.class);        \n\n    Container container = new Container();\n\n    String s = container.get(string_type); //no compiler complaints\n    int i = container.get(int_type); //no compiler complaints\n\n    IntHashSet set = container.get(int_set); //no compiler complaints\n    Set&lt;Integer&gt; set2 = container.get(int_set_comp).getSet(); //no compiler complaints\n\n    String s2 = container.get(int_type); //the compiler does not like this!\n}\n</code></pre>\n<p>Note: NotNull checks should be implemented as well as hashcode() and equals() overrides</p>\n"}],"owner":{"account_id":2280628,"reputation":993,"user_id":2005801,"accept_rate":71,"display_name":"aoak"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2413,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1643321456,"creation_date":1574314019,"question_id":58967845,"body_markdown":"I need to create a container that provides a way for me to store elements of generic type, kind of like [this effective java pattern](http://www.informit.com/articles/article.aspx?p=2861454&amp;seqNum=8) but storing generic things\r\n\r\nIs it possible to create a typesafe heterogeneous container where generic typed things are involved?\r\n\r\n```\r\n&lt;T&gt; void put(T ele, SomeTypedThing&lt;T&gt; genEle);\r\n&lt;T&gt; SomeTypedThing&lt;T&gt; get(T ele);\r\n```\r\n\r\nI am fine to add the `Class&lt;T&gt;` as method param. example: \r\n\r\n```\r\npublic static class Container {\r\n\r\n    Map&lt;Class&lt;?&gt;, Set&lt;?&gt;&gt; store = new HashMap&lt;&gt;();\r\n\r\n    public &lt;T&gt; void put(Set&lt;T&gt; ele, Class&lt;T&gt; type) {\r\n        store.put(type, ele);\r\n    }\r\n\r\n    public &lt;T&gt; Set&lt;T&gt; get(Class&lt;T&gt; type) {\r\n        return store.get(type);\r\n    }\r\n}\r\n\r\n```\r\n\r\nwould it be possible to achieve this? \r\n\r\n```\r\nSet&lt;?&gt; raw = store.get(type);\r\nSet&lt;T&gt; typed = // some magic;\r\n```\r\n\r\nhow, or why not? is it something that java doesn&#39;t do or is it something fundamental (so no language can do, or just doesn&#39;t make sense to do)","title":"Typesafe heterogeneous containers involving generics","body":"<p>I need to create a container that provides a way for me to store elements of generic type, kind of like <a href=\"http://www.informit.com/articles/article.aspx?p=2861454&amp;seqNum=8\" rel=\"nofollow noreferrer\">this effective java pattern</a> but storing generic things</p>\n\n<p>Is it possible to create a typesafe heterogeneous container where generic typed things are involved?</p>\n\n<pre><code>&lt;T&gt; void put(T ele, SomeTypedThing&lt;T&gt; genEle);\n&lt;T&gt; SomeTypedThing&lt;T&gt; get(T ele);\n</code></pre>\n\n<p>I am fine to add the <code>Class&lt;T&gt;</code> as method param. example: </p>\n\n<pre><code>public static class Container {\n\n    Map&lt;Class&lt;?&gt;, Set&lt;?&gt;&gt; store = new HashMap&lt;&gt;();\n\n    public &lt;T&gt; void put(Set&lt;T&gt; ele, Class&lt;T&gt; type) {\n        store.put(type, ele);\n    }\n\n    public &lt;T&gt; Set&lt;T&gt; get(Class&lt;T&gt; type) {\n        return store.get(type);\n    }\n}\n\n</code></pre>\n\n<p>would it be possible to achieve this? </p>\n\n<pre><code>Set&lt;?&gt; raw = store.get(type);\nSet&lt;T&gt; typed = // some magic;\n</code></pre>\n\n<p>how, or why not? is it something that java doesn't do or is it something fundamental (so no language can do, or just doesn't make sense to do)</p>\n"},{"tags":["java","java.util.scanner","java-io","eof"],"comments":[{"owner":{"account_id":7710805,"reputation":13604,"user_id":6365112,"accept_rate":100,"display_name":"Yahya"},"score":0,"creation_date":1493058317,"post_id":43595166,"comment_id":74240260,"body_markdown":"do you want to break the while loop once you press Ctrl + D?","body":"do you want to break the while loop once you press Ctrl + D?"},{"owner":{"account_id":7019924,"reputation":57,"user_id":5379757,"accept_rate":100,"display_name":"Tehryn"},"score":0,"creation_date":1493058828,"post_id":43595166,"comment_id":74240593,"body_markdown":"@John Only when end of file is reached. But when reading from stdin, ctrl+D simulates EOF, doesn&#39;t it?","body":"@John Only when end of file is reached. But when reading from stdin, ctrl+D simulates EOF, doesn&#39;t it?"}],"answers":[{"tags":[],"owner":{"account_id":3236292,"reputation":896,"user_id":2730420,"display_name":"beaudet"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643321241,"creation_date":1643240936,"answer_id":70871666,"question_id":43595166,"body_markdown":"I was just running into this problem using an input file configured in the Eclipse run configuration, common tab.  \r\n\r\nAs it turns out, if you&#39;re using Windows, you might need to type:\r\n\r\n    ctrl+z \r\n\r\nafter clicking in the Eclipse console in order to cause Eclipse to send an end of file signal for standard input.  \r\n\r\nEOF isn&#39;t conveyed by a character anymore like it used to be on VERY old systems but instead by a signal.\r\n\r\nSee\r\n\r\nhttps://stackoverflow.com/questions/12389518/representing-eof-in-c-code/12389581#:~:text=EOF%20is%20not%20a%20character,of%20the%20stream%20is%20reached \r\n\r\nand \r\n\r\nhttps://stackoverflow.com/questions/16136400/how-to-send-eof-via-windows-terminal\r\n","title":"How to detect end of file from stdin?","body":"<p>I was just running into this problem using an input file configured in the Eclipse run configuration, common tab.</p>\n<p>As it turns out, if you're using Windows, you might need to type:</p>\n<pre><code>ctrl+z \n</code></pre>\n<p>after clicking in the Eclipse console in order to cause Eclipse to send an end of file signal for standard input.</p>\n<p>EOF isn't conveyed by a character anymore like it used to be on VERY old systems but instead by a signal.</p>\n<p>See</p>\n<p><a href=\"https://stackoverflow.com/questions/12389518/representing-eof-in-c-code/12389581#:%7E:text=EOF%20is%20not%20a%20character,of%20the%20stream%20is%20reached\">https://stackoverflow.com/questions/12389518/representing-eof-in-c-code/12389581#:~:text=EOF%20is%20not%20a%20character,of%20the%20stream%20is%20reached</a></p>\n<p>and</p>\n<p><a href=\"https://stackoverflow.com/questions/16136400/how-to-send-eof-via-windows-terminal\">How to send EOF via Windows terminal</a></p>\n"}],"owner":{"account_id":7019924,"reputation":57,"user_id":5379757,"accept_rate":100,"display_name":"Tehryn"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":930,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1643321241,"creation_date":1493058073,"question_id":43595166,"body_markdown":"I have this java code:\r\n\r\n    import java.util.Scanner;\r\n    public class Main {\r\n        public static void main(String [] args) {\r\n            Scanner in = new Scanner(System.in);\r\n            String line;\r\n            while (in.hasNextLine()) {\r\n                line = in.nextLine();\r\n            }\r\n        }\r\n    }\r\n\r\n\r\nAnd I run it from jar file using ant:\r\n\r\n    &lt;target name=&quot;run&quot; depends=&quot;compile&quot;&gt;\r\n        &lt;java jar=&quot;./myfile.jar&quot; fork=&quot;true&quot;/&gt;\r\n    &lt;/target&gt;\r\n\r\n\r\nBut when I hit **Ctrl+D** on keyboard, the while loop does not break. How can I detect EOF from keyboard when I am using ant tool?","title":"How to detect end of file from stdin?","body":"<p>I have this java code:</p>\n\n<pre><code>import java.util.Scanner;\npublic class Main {\n    public static void main(String [] args) {\n        Scanner in = new Scanner(System.in);\n        String line;\n        while (in.hasNextLine()) {\n            line = in.nextLine();\n        }\n    }\n}\n</code></pre>\n\n<p>And I run it from jar file using ant:</p>\n\n<pre><code>&lt;target name=\"run\" depends=\"compile\"&gt;\n    &lt;java jar=\"./myfile.jar\" fork=\"true\"/&gt;\n&lt;/target&gt;\n</code></pre>\n\n<p>But when I hit <strong>Ctrl+D</strong> on keyboard, the while loop does not break. How can I detect EOF from keyboard when I am using ant tool?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1643319046,"post_id":70885420,"comment_id":125315279,"body_markdown":"Look at `Class.isAssignableFrom`, as `instanceof` needs a literal parameter.","body":"Look at <code>Class.isAssignableFrom</code>, as <code>instanceof</code> needs a literal parameter."}],"answers":[{"tags":[],"owner":{"account_id":9344539,"reputation":1083,"user_id":6936154,"display_name":"Danil Perestoronin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643320902,"creation_date":1643319565,"answer_id":70886102,"question_id":70885420,"body_markdown":"You can bit modify your code by using [Class](https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html) instead of [Type](https://docs.oracle.com/javase/8/docs/api/java/lang/reflect/Type.html) and comparing by `Objects.equals(t.getCanonicalName(), e.getClass().getCanonicalName())`(or `e.getClass().isAssignableFrom(t)` explanation below):\r\n\r\n```java\r\nException e = new CustomException2();\r\n\r\nSet&lt;Class&gt; expectedExceptionTypes = new HashSet&lt;&gt;(Arrays\r\n        .asList(CustomException1.class, CustomException2.class, , CustomException3.class));\r\n   \r\n// get type the exception matches to or else have a default UnknownException.class     \r\nClass type = expectedExceptionTypes\r\n        .stream()\r\n        .filter( t -&gt; Objects.equals(t.getCanonicalName(), e.getClass().getCanonicalName()))\r\n        .findFirst()\r\n        .orElse(UnknownException.class);\r\n\r\n//... perform some action based on the exception type\r\n```\r\n\r\nUse `e.getClass().isAssignableFrom(t)` instead of  `Objects.equals(t.getCanonicalName(), e.getClass().getCanonicalName())` if you don&#39;t want &quot;exact match&quot; (for more info https://stackoverflow.com/questions/8850951/checking-a-class-type-class-is-equal-to-some-other-class-type)","title":"Checking if an object matches a list of known types","body":"<p>You can bit modify your code by using <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html\" rel=\"nofollow noreferrer\">Class</a> instead of <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/reflect/Type.html\" rel=\"nofollow noreferrer\">Type</a> and comparing by <code>Objects.equals(t.getCanonicalName(), e.getClass().getCanonicalName())</code>(or <code>e.getClass().isAssignableFrom(t)</code> explanation below):</p>\n<pre class=\"lang-java prettyprint-override\"><code>Exception e = new CustomException2();\n\nSet&lt;Class&gt; expectedExceptionTypes = new HashSet&lt;&gt;(Arrays\n        .asList(CustomException1.class, CustomException2.class, , CustomException3.class));\n   \n// get type the exception matches to or else have a default UnknownException.class     \nClass type = expectedExceptionTypes\n        .stream()\n        .filter( t -&gt; Objects.equals(t.getCanonicalName(), e.getClass().getCanonicalName()))\n        .findFirst()\n        .orElse(UnknownException.class);\n\n//... perform some action based on the exception type\n</code></pre>\n<p>Use <code>e.getClass().isAssignableFrom(t)</code> instead of  <code>Objects.equals(t.getCanonicalName(), e.getClass().getCanonicalName())</code> if you don't want &quot;exact match&quot; (for more info <a href=\"https://stackoverflow.com/questions/8850951/checking-a-class-type-class-is-equal-to-some-other-class-type\">Checking a class type (.class) is equal to some other class type</a>)</p>\n"},{"tags":[],"owner":{"account_id":9403276,"reputation":1111,"user_id":8422138,"display_name":"Eddie Lopez"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643319640,"creation_date":1643319640,"answer_id":70886112,"question_id":70885420,"body_markdown":"\r\nThere is a pattern called `Chain of Responsibility` that can be used to achieve what you want. It can have different forms, you&#39;re on the right track. What you need is change `expectedExceptionTypes` to hold the condition you&#39;re checking against and also the code to handle it. For example, define a class that packs those two together: \r\n\r\n```\r\nclass ExceptionHandler {\r\n    Predicate&lt;Exception&gt; condition;\r\n    Consumer&lt;Exception&gt; handlingCode;\r\n\r\n    public ExceptionHandler(Predicate&lt;Exception&gt; condition, Consumer&lt;Exception&gt; handlingCode) {\r\n        this.condition = condition;\r\n        this.handlingCode = handlingCode;\r\n    }\r\n}\r\n```\r\n\r\nThen is just finding the first handler that satisfies the condition, and call it:\r\n\r\n```\r\nfinal Set&lt;ExceptionHandler&gt; handlers = new HashSet&lt;&gt;(\r\n        Arrays.asList(\r\n                new ExceptionHandler(\r\n                        v -&gt; v instanceof CustomException1,\r\n                        t -&gt; System.out.println(&quot;Handling exception of type: &quot; + t)\r\n                ),\r\n                new ExceptionHandler(\r\n                        v -&gt; v instanceof CustomException2,\r\n                        t -&gt; System.out.println(&quot;Handling exception of type: &quot; + t\r\n                        )))\r\n);\r\n\r\nhandlers.stream().filter((ExceptionHandler t) -&gt; t.condition.test(e))\r\n                .findFirst()\r\n                .ifPresent(exceptionHandler -&gt; exceptionHandler.handlingCode.accept(e));\r\n```\r\n\r\nNote I explicitly use `instanceof` inline, to avoid the type erasure problems, but any method that works can be used.","title":"Checking if an object matches a list of known types","body":"<p>There is a pattern called <code>Chain of Responsibility</code> that can be used to achieve what you want. It can have different forms, you're on the right track. What you need is change <code>expectedExceptionTypes</code> to hold the condition you're checking against and also the code to handle it. For example, define a class that packs those two together:</p>\n<pre><code>class ExceptionHandler {\n    Predicate&lt;Exception&gt; condition;\n    Consumer&lt;Exception&gt; handlingCode;\n\n    public ExceptionHandler(Predicate&lt;Exception&gt; condition, Consumer&lt;Exception&gt; handlingCode) {\n        this.condition = condition;\n        this.handlingCode = handlingCode;\n    }\n}\n</code></pre>\n<p>Then is just finding the first handler that satisfies the condition, and call it:</p>\n<pre><code>final Set&lt;ExceptionHandler&gt; handlers = new HashSet&lt;&gt;(\n        Arrays.asList(\n                new ExceptionHandler(\n                        v -&gt; v instanceof CustomException1,\n                        t -&gt; System.out.println(&quot;Handling exception of type: &quot; + t)\n                ),\n                new ExceptionHandler(\n                        v -&gt; v instanceof CustomException2,\n                        t -&gt; System.out.println(&quot;Handling exception of type: &quot; + t\n                        )))\n);\n\nhandlers.stream().filter((ExceptionHandler t) -&gt; t.condition.test(e))\n                .findFirst()\n                .ifPresent(exceptionHandler -&gt; exceptionHandler.handlingCode.accept(e));\n</code></pre>\n<p>Note I explicitly use <code>instanceof</code> inline, to avoid the type erasure problems, but any method that works can be used.</p>\n"},{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643320044,"creation_date":1643320044,"answer_id":70886191,"question_id":70885420,"body_markdown":"Store the *classes* in the Set and use `contains(e.getClass())`.\r\n\r\nDefine your target classes (probably as `static final` constant):\r\n\r\n    Set&lt;Class&lt;?&gt;&gt; exceptionClasses = Set.of(CustomException1.class, CustomException2.class, CustomException3class); // since Java 9\r\n\r\nThen given\r\n\r\n    Exception e = someException;\r\n\r\n    e = exceptionClasses.contains(e.getClass()) ? e : new UnknownException();\r\n","title":"Checking if an object matches a list of known types","body":"<p>Store the <em>classes</em> in the Set and use <code>contains(e.getClass())</code>.</p>\n<p>Define your target classes (probably as <code>static final</code> constant):</p>\n<pre><code>Set&lt;Class&lt;?&gt;&gt; exceptionClasses = Set.of(CustomException1.class, CustomException2.class, CustomException3class); // since Java 9\n</code></pre>\n<p>Then given</p>\n<pre><code>Exception e = someException;\n\ne = exceptionClasses.contains(e.getClass()) ? e : new UnknownException();\n</code></pre>\n"}],"owner":{"account_id":2804587,"reputation":1686,"user_id":2412077,"accept_rate":25,"display_name":"loganrussell48"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":344,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70886112,"answer_count":3,"score":0,"last_activity_date":1643320902,"creation_date":1643315906,"question_id":70885420,"body_markdown":"Below is a pseudo-code of what I want to achieve, in mostly complete/usable java. \r\n\r\nAn exception is thrown, and I want to check it against a list of known exception types without having to do a long series of if-checks to see if it is *instanceof* each type \r\n\r\n```java\r\n//pretend this is the exception that was thrown\r\nException e = new CustomException2();\r\n\r\n//I want to have a set of expected types\r\nSet&lt;Type&gt; expectedExceptionTypes = new HashSet&lt;&gt;(Arrays.asList(CustomException1, CustomException2, CustomException3));\r\n\r\n//I want to see which type the exception matches to or else give a default (UnknownException)\r\nOptional&lt;Type&gt; type = expectedExceptionTypes.stream().filter((t) -&gt; e instanceof t).findFirst().orElse(UnknownException);\r\n\r\n//... perform some action based on the exception type\r\n```\r\n\r\nHow can I actually implement something like this? Am I on the right track here?\r\n\r\n\r\nWhat I&#39;m trying to avoid:\r\n```java\r\nif(e instanceof CustomException1)\r\n    ...\r\nif(e instanceof CustomException2)\r\n    ...\r\nif(e instanceof CustomException3)\r\n    ...\r\n.\r\n.\r\n.\r\n```","title":"Checking if an object matches a list of known types","body":"<p>Below is a pseudo-code of what I want to achieve, in mostly complete/usable java.</p>\n<p>An exception is thrown, and I want to check it against a list of known exception types without having to do a long series of if-checks to see if it is <em>instanceof</em> each type</p>\n<pre class=\"lang-java prettyprint-override\"><code>//pretend this is the exception that was thrown\nException e = new CustomException2();\n\n//I want to have a set of expected types\nSet&lt;Type&gt; expectedExceptionTypes = new HashSet&lt;&gt;(Arrays.asList(CustomException1, CustomException2, CustomException3));\n\n//I want to see which type the exception matches to or else give a default (UnknownException)\nOptional&lt;Type&gt; type = expectedExceptionTypes.stream().filter((t) -&gt; e instanceof t).findFirst().orElse(UnknownException);\n\n//... perform some action based on the exception type\n</code></pre>\n<p>How can I actually implement something like this? Am I on the right track here?</p>\n<p>What I'm trying to avoid:</p>\n<pre class=\"lang-java prettyprint-override\"><code>if(e instanceof CustomException1)\n    ...\nif(e instanceof CustomException2)\n    ...\nif(e instanceof CustomException3)\n    ...\n.\n.\n.\n</code></pre>\n"},{"tags":["java","google-cloud-platform","google-cloud-build"],"comments":[{"owner":{"account_id":22772758,"reputation":2735,"user_id":16929894,"display_name":"ErnestoC"},"score":0,"creation_date":1643239464,"post_id":70867716,"comment_id":125290228,"body_markdown":"Where are your source files located? From the Java client reference, [`setSource()`](https://cloud.google.com/java/docs/reference/google-cloud-build/latest/com.google.cloudbuild.v1.Build.Builder#com_google_cloudbuild_v1_Build_Builder_setSource_com_google_cloudbuild_v1_Source_) should be the location of your source files to build (either Cloud Source Repository or GCS). This is also shown in the REST API [docs](https://cloud.google.com/build/docs/api/reference/rest/v1/projects.builds#source).","body":"Where are your source files located? From the Java client reference, <a href=\"https://cloud.google.com/java/docs/reference/google-cloud-build/latest/com.google.cloudbuild.v1.Build.Builder#com_google_cloudbuild_v1_Build_Builder_setSource_com_google_cloudbuild_v1_Source_\" rel=\"nofollow noreferrer\"><code>setSource()</code></a> should be the location of your source files to build (either Cloud Source Repository or GCS). This is also shown in the REST API <a href=\"https://cloud.google.com/build/docs/api/reference/rest/v1/projects.builds#source\" rel=\"nofollow noreferrer\">docs</a>."},{"owner":{"account_id":1414093,"reputation":3352,"user_id":1340097,"accept_rate":70,"display_name":"s_curry_s"},"score":0,"creation_date":1643245590,"post_id":70867716,"comment_id":125291395,"body_markdown":"at this point the source file is a Docker file and a couple of scripts which is on the same directory with the code I have above. Looks like I need to zip and upload this to GCS myself I want to build a `StorageSource`.","body":"at this point the source file is a Docker file and a couple of scripts which is on the same directory with the code I have above. Looks like I need to zip and upload this to GCS myself I want to build a <code>StorageSource</code>."}],"answers":[{"tags":[],"owner":{"account_id":22772758,"reputation":2735,"user_id":16929894,"display_name":"ErnestoC"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1643320401,"creation_date":1643320401,"answer_id":70886251,"question_id":70867716,"body_markdown":"Replying to your comment, you would [indeed need][1] to zip your source files and upload them to GCS if you’d like to build a `StorageSource`. While there isn’t any sample code or examples for the Java API client out there, I pieced together this code from the [API reference][2]. It builds a `StorageSource` using my bucket and the zipped source archives, and builds a new image to upload to my Artifact Registry. \r\n\r\n```lang-java\r\nStorageSource.Builder gcsSource = StorageSource.newBuilder()\r\n    .setBucket(bucketName)\r\n    .setObject(objectName); //Name of the zipped archive in GCS \r\n\r\nSource.Builder buildSource = Source.newBuilder().setStorageSource(gcsSource);\r\n\r\nBuilder buildStep = BuildStep.newBuilder()\r\n    .setName(&quot;gcr.io/cloud-builders/docker&quot;)\r\n    .addAllArgs(Arrays.asList(new String[] {&quot;build&quot;, &quot;-t&quot;, imageDir, &quot;.&quot;}));\r\n\r\nBuild testBuild = Build.newBuilder()\r\n    .setSource(buildSource)\r\n    .addSteps(buildStep)\r\n    .addImages(imageDir) //Adds the image to Artifact Registry\r\n    .build();\r\n\r\nCreateBuildRequest req = CreateBuildRequest.newBuilder()\r\n    .setBuild(testBuild)\r\n    .setProjectId(projectId)\r\n    .build();\r\n\r\nBuild res = CloudBuildClient.create().createBuildAsync(req).get();\r\n```\r\n\r\nLet me know if this worked for you, as I could not find any other samples out there of the Java client. I tested it and it worked fine on my end.\r\n\r\n[1]: https://cloud.google.com/sdk/gcloud/reference/builds/submit\r\n[2]: https://googleapis.dev/java/google-cloud-build/latest/\r\n","title":"How to setup source with cloud build java api?","body":"<p>Replying to your comment, you would <a href=\"https://cloud.google.com/sdk/gcloud/reference/builds/submit\" rel=\"nofollow noreferrer\">indeed need</a> to zip your source files and upload them to GCS if you’d like to build a <code>StorageSource</code>. While there isn’t any sample code or examples for the Java API client out there, I pieced together this code from the <a href=\"https://googleapis.dev/java/google-cloud-build/latest/\" rel=\"nofollow noreferrer\">API reference</a>. It builds a <code>StorageSource</code> using my bucket and the zipped source archives, and builds a new image to upload to my Artifact Registry.</p>\n<pre class=\"lang-java prettyprint-override\"><code>StorageSource.Builder gcsSource = StorageSource.newBuilder()\n    .setBucket(bucketName)\n    .setObject(objectName); //Name of the zipped archive in GCS \n\nSource.Builder buildSource = Source.newBuilder().setStorageSource(gcsSource);\n\nBuilder buildStep = BuildStep.newBuilder()\n    .setName(&quot;gcr.io/cloud-builders/docker&quot;)\n    .addAllArgs(Arrays.asList(new String[] {&quot;build&quot;, &quot;-t&quot;, imageDir, &quot;.&quot;}));\n\nBuild testBuild = Build.newBuilder()\n    .setSource(buildSource)\n    .addSteps(buildStep)\n    .addImages(imageDir) //Adds the image to Artifact Registry\n    .build();\n\nCreateBuildRequest req = CreateBuildRequest.newBuilder()\n    .setBuild(testBuild)\n    .setProjectId(projectId)\n    .build();\n\nBuild res = CloudBuildClient.create().createBuildAsync(req).get();\n</code></pre>\n<p>Let me know if this worked for you, as I could not find any other samples out there of the Java client. I tested it and it worked fine on my end.</p>\n"}],"owner":{"account_id":1414093,"reputation":3352,"user_id":1340097,"accept_rate":70,"display_name":"s_curry_s"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70886251,"answer_count":1,"score":1,"last_activity_date":1643320401,"creation_date":1643218038,"question_id":70867716,"body_markdown":"Looks like the `gcloud` command line does a lot of things by default when I run:\r\n\r\n```\r\ngcloud builds submit --tag gcr.io/$PROJECT_ID/$IMAGE_ID\r\n```\r\n\r\nfor example it uploads the repo to GCS and then when the build starts it downloads it to the working directory. \r\n\r\nI want to use the java api instead of invoking `gcloud` from another process. \r\n\r\n\r\nCan I do the same using the java api, without implementing it manually? I couldn&#39;t find any samples on how to use the cloud build java api. \r\n\r\nKotlin code of what I have so far: \r\n\r\n```\r\nval buildDockerStep = BuildStep.newBuilder()\r\n  .setName(&quot;gcr.io/cloud-builders/docker&quot;)\r\n  .addAllArgs(listOf(&quot;build&quot;, &quot;-t&quot;, imageRepository, &quot;.&quot;))\r\n\r\nval build: Build = Build.newBuilder()\r\n  // .setSource() ? does this need to happen manually?\r\n  .addSteps(buildDockerStep)\r\n  .build()\r\n\r\nval request = CreateBuildRequest.newBuilder()\r\n  .setBuild(build)\r\n  .setProjectId(PROJECT_ID)\r\n  .build()\r\n\r\nval result = cloudBuildClient.createBuildAsync(request)\r\n```","title":"How to setup source with cloud build java api?","body":"<p>Looks like the <code>gcloud</code> command line does a lot of things by default when I run:</p>\n<pre><code>gcloud builds submit --tag gcr.io/$PROJECT_ID/$IMAGE_ID\n</code></pre>\n<p>for example it uploads the repo to GCS and then when the build starts it downloads it to the working directory.</p>\n<p>I want to use the java api instead of invoking <code>gcloud</code> from another process.</p>\n<p>Can I do the same using the java api, without implementing it manually? I couldn't find any samples on how to use the cloud build java api.</p>\n<p>Kotlin code of what I have so far:</p>\n<pre><code>val buildDockerStep = BuildStep.newBuilder()\n  .setName(&quot;gcr.io/cloud-builders/docker&quot;)\n  .addAllArgs(listOf(&quot;build&quot;, &quot;-t&quot;, imageRepository, &quot;.&quot;))\n\nval build: Build = Build.newBuilder()\n  // .setSource() ? does this need to happen manually?\n  .addSteps(buildDockerStep)\n  .build()\n\nval request = CreateBuildRequest.newBuilder()\n  .setBuild(build)\n  .setProjectId(PROJECT_ID)\n  .build()\n\nval result = cloudBuildClient.createBuildAsync(request)\n</code></pre>\n"},{"tags":["java","string","loops","compression"],"comments":[{"owner":{"account_id":1464111,"reputation":6767,"user_id":1377507,"display_name":"tigrang"},"score":0,"creation_date":1337321226,"post_id":10647520,"comment_id":13805851,"body_markdown":"Does `ABC` get &quot;compressed&quot; to `1A1B1C` or stay as `ABC`? What about AABC -&gt; 2ABC?","body":"Does <code>ABC</code> get &quot;compressed&quot; to <code>1A1B1C</code> or stay as <code>ABC</code>? What about AABC -&gt; 2ABC?"},{"owner":{"account_id":982673,"reputation":359,"user_id":1001994,"accept_rate":67,"display_name":"Cristian"},"score":0,"creation_date":1337321283,"post_id":10647520,"comment_id":13805868,"body_markdown":"ABC should return ABC. And AABC should return 2ABC. Thanks!","body":"ABC should return ABC. And AABC should return 2ABC. Thanks!"},{"owner":{"account_id":1376202,"reputation":24775,"user_id":1341006,"accept_rate":99,"display_name":"Jainendra"},"score":0,"creation_date":1337321563,"post_id":10647520,"comment_id":13805948,"body_markdown":"In the input the same alphabet always come together or not. Means can input be of the format AAABBBCCCAACDD??","body":"In the input the same alphabet always come together or not. Means can input be of the format AAABBBCCCAACDD??"},{"owner":{"account_id":982673,"reputation":359,"user_id":1001994,"accept_rate":67,"display_name":"Cristian"},"score":0,"creation_date":1337321817,"post_id":10647520,"comment_id":13806001,"body_markdown":"The exam didn&#39;t specify. I&#39;d like to do it the hard(best) way :).","body":"The exam didn&#39;t specify. I&#39;d like to do it the hard(best) way :)."},{"owner":{"account_id":56819,"reputation":4437,"user_id":170196,"accept_rate":77,"display_name":"Esben Skov Pedersen"},"score":0,"creation_date":1337328507,"post_id":10647520,"comment_id":13807834,"body_markdown":"Can the input string contain numbers?","body":"Can the input string contain numbers?"}],"answers":[{"tags":[],"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1337321374,"creation_date":1337321374,"answer_id":10647569,"question_id":10647520,"body_markdown":"- use `StringBuilder` (you did that)\r\n- define two variables - `previousChar` and `counter`\r\n- loop from 0 to `str.length()` - 1\r\n- each time get `str.charat(i)` and compare it to what&#39;s stored in the `previousChar` variable\r\n- if the previous char is the same, increment a counter\r\n- if the previous char is not the same, and counter is 1, increment counter\r\n- if the previous char is not the same, and counter is &gt;1, append `counter + currentChar`, reset counter\r\n- after the comparison, assign the current char `previousChar`\r\n- cover corner cases like &quot;first char&quot;\r\n\r\nSomething like that.","title":"Java compressing Strings","body":"<ul>\n<li>use <code>StringBuilder</code> (you did that)</li>\n<li>define two variables - <code>previousChar</code> and <code>counter</code></li>\n<li>loop from 0 to <code>str.length()</code> - 1</li>\n<li>each time get <code>str.charat(i)</code> and compare it to what's stored in the <code>previousChar</code> variable</li>\n<li>if the previous char is the same, increment a counter</li>\n<li>if the previous char is not the same, and counter is 1, increment counter</li>\n<li>if the previous char is not the same, and counter is >1, append <code>counter + currentChar</code>, reset counter</li>\n<li>after the comparison, assign the current char <code>previousChar</code></li>\n<li>cover corner cases like \"first char\"</li>\n</ul>\n\n<p>Something like that.</p>\n"},{"tags":[],"owner":{"account_id":543758,"reputation":3503,"user_id":1399920,"display_name":"n00begon"},"down_vote_count":1,"up_vote_count":16,"is_accepted":false,"score":15,"last_activity_date":1337322325,"creation_date":1337321472,"answer_id":10647590,"question_id":10647520,"body_markdown":"Loop through the string remembering what you last saw. Every time you see the same letter count. When you see a new letter put what you have counted onto the output and set the new letter as what you have last seen.\r\n\r\n    String input = &quot;AAABBBBCC&quot;;\r\n    \t\t\r\n    int count = 1;\r\n    \t\t\t\t\r\n    char last = input.charAt(0);\r\n    \t\t\r\n    StringBuilder output = new StringBuilder();\r\n    \t\t\r\n    for(int i = 1; i &lt; input.length(); i++){\r\n        if(input.charAt(i) == last){\r\n    \tcount++;\r\n        }else{\r\n    \t    if(count &gt; 1){\r\n                output.append(&quot;&quot;+count+last);\r\n            }else{\r\n                output.append(last);\r\n            }\r\n    \tcount = 1;\r\n    \tlast = input.charAt(i);\r\n        }\r\n    }\r\n    if(count &gt; 1){\r\n        output.append(&quot;&quot;+count+last);\r\n    }else{\r\n        output.append(last);\r\n    }\r\n    System.out.println(output.toString());","title":"Java compressing Strings","body":"<p>Loop through the string remembering what you last saw. Every time you see the same letter count. When you see a new letter put what you have counted onto the output and set the new letter as what you have last seen.</p>\n\n<pre><code>String input = \"AAABBBBCC\";\n\nint count = 1;\n\nchar last = input.charAt(0);\n\nStringBuilder output = new StringBuilder();\n\nfor(int i = 1; i &lt; input.length(); i++){\n    if(input.charAt(i) == last){\n    count++;\n    }else{\n        if(count &gt; 1){\n            output.append(\"\"+count+last);\n        }else{\n            output.append(last);\n        }\n    count = 1;\n    last = input.charAt(i);\n    }\n}\nif(count &gt; 1){\n    output.append(\"\"+count+last);\n}else{\n    output.append(last);\n}\nSystem.out.println(output.toString());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":156914,"reputation":9897,"user_id":374499,"accept_rate":80,"display_name":"Chander Shivdasani"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1509362270,"creation_date":1337321585,"answer_id":10647610,"question_id":10647520,"body_markdown":"You can do that using the following steps:\r\n\r\n- Create a HashMap\r\n- For every character, Get the value from the hashmap\r\n  -If the value is null, enter 1\r\n  -else, replace the value with (value+1)\r\n- Iterate over the HashMap and keep concatenating (Value+Key) \r\n\r\n  ","title":"Java compressing Strings","body":"<p>You can do that using the following steps:</p>\n\n<ul>\n<li>Create a HashMap</li>\n<li>For every character, Get the value from the hashmap\n-If the value is null, enter 1\n-else, replace the value with (value+1)</li>\n<li>Iterate over the HashMap and keep concatenating (Value+Key) </li>\n</ul>\n"},{"tags":[],"owner":{"account_id":270093,"reputation":1792,"user_id":559833,"accept_rate":71,"display_name":"Gyscos"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1337321799,"creation_date":1337321799,"answer_id":10647639,"question_id":10647520,"body_markdown":"In the count=... line, lastIndexOf will not care about consecutive values, and will just give the last occurence.\r\n\r\nFor instance, in the string &quot;ABBA&quot;, the substring would be the whole string.\r\n\r\nAlso, taking the length of the substring is equivalent to subtracting the two indexes.\r\n\r\nI really think that you need a loop.\r\nHere is an example :\r\n\r\n\r\n    public static String compress(String text) {\r\n        String result = &quot;&quot;;\r\n    \r\n        int index = 0;\r\n    \r\n        while (index &lt; text.length()) {\r\n            char c = text.charAt(index);\r\n            int count = count(text, index);\r\n            if (count == 1)\r\n                result += &quot;&quot; + c;\r\n            else\r\n                result += &quot;&quot; + count + c;\r\n            index += count;\r\n        }\r\n    \r\n        return result;\r\n    }\r\n    \r\n    public static int count(String text, int index) {\r\n        char c = text.charAt(index);\r\n        int i = 1;\r\n        while (index + i &lt; text.length() &amp;&amp; text.charAt(index + i) == c)\r\n            i++;\r\n        return i;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        String test = &quot;AAABBCCC&quot;;\r\n        System.out.println(compress(test));\r\n    }","title":"Java compressing Strings","body":"<p>In the count=... line, lastIndexOf will not care about consecutive values, and will just give the last occurence.</p>\n\n<p>For instance, in the string \"ABBA\", the substring would be the whole string.</p>\n\n<p>Also, taking the length of the substring is equivalent to subtracting the two indexes.</p>\n\n<p>I really think that you need a loop.\nHere is an example :</p>\n\n<pre><code>public static String compress(String text) {\n    String result = \"\";\n\n    int index = 0;\n\n    while (index &lt; text.length()) {\n        char c = text.charAt(index);\n        int count = count(text, index);\n        if (count == 1)\n            result += \"\" + c;\n        else\n            result += \"\" + count + c;\n        index += count;\n    }\n\n    return result;\n}\n\npublic static int count(String text, int index) {\n    char c = text.charAt(index);\n    int i = 1;\n    while (index + i &lt; text.length() &amp;&amp; text.charAt(index + i) == c)\n        i++;\n    return i;\n}\n\npublic static void main(String[] args) {\n    String test = \"AAABBCCC\";\n    System.out.println(compress(test));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":72575,"reputation":40794,"user_id":209513,"accept_rate":100,"display_name":"Subhrajyoti Majumder"},"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1337335401,"creation_date":1337322095,"answer_id":10647693,"question_id":10647520,"body_markdown":"    private String Comprimir(String input){\r\n        \tString output=&quot;&quot;;\r\n        \tMap&lt;Character,Integer&gt; map=new HashMap&lt;Character,Integer&gt;();\r\n        \tfor(int i=0;i&lt;input.length();i++){\r\n        \t\tCharacter character=input.charAt(i);\r\n        \t\tif(map.containsKey(character)){\r\n        \t\t\tmap.put(character, map.get(character)+1);\r\n        \t\t}else\r\n        \t\t\tmap.put(character, 1);\r\n        \t}\r\n        \tfor (Entry&lt;Character, Integer&gt; entry : map.entrySet()) {\r\n        \t\toutput+=entry.getValue()+&quot;&quot;+entry.getKey().charValue();\r\n    \t\t}\r\n        \treturn output;\r\n        }\r\n\r\nOne other simple way using Multiset of guava- \r\n\r\n    import java.util.Arrays;\r\n    \r\n    import com.google.common.collect.HashMultiset;\r\n    import com.google.common.collect.Multiset;\r\n    import com.google.common.collect.Multiset.Entry;\r\n    \r\n    public class WordSpit {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tString output=&quot;&quot;;\r\n    \t\tMultiset&lt;String&gt; wordsMultiset = HashMultiset.create();\r\n    \t\tString[] words=&quot;AAABBBBCC&quot;.split(&quot;&quot;);\r\n    \t\twordsMultiset.addAll(Arrays.asList(words));\r\n    \t\tfor (Entry&lt;String&gt; string : wordsMultiset.entrySet()) {\r\n    \t\t\tif(!string.getElement().isEmpty())\r\n    \t\t\t\toutput+=string.getCount()+&quot;&quot;+string.getElement();\r\n    \t\t}\r\n    \t\tSystem.out.println(output);\r\n    \t}\r\n    }","title":"Java compressing Strings","body":"<pre><code>private String Comprimir(String input){\n        String output=\"\";\n        Map&lt;Character,Integer&gt; map=new HashMap&lt;Character,Integer&gt;();\n        for(int i=0;i&lt;input.length();i++){\n            Character character=input.charAt(i);\n            if(map.containsKey(character)){\n                map.put(character, map.get(character)+1);\n            }else\n                map.put(character, 1);\n        }\n        for (Entry&lt;Character, Integer&gt; entry : map.entrySet()) {\n            output+=entry.getValue()+\"\"+entry.getKey().charValue();\n        }\n        return output;\n    }\n</code></pre>\n\n<p>One other simple way using Multiset of guava- </p>\n\n<pre><code>import java.util.Arrays;\n\nimport com.google.common.collect.HashMultiset;\nimport com.google.common.collect.Multiset;\nimport com.google.common.collect.Multiset.Entry;\n\npublic class WordSpit {\n    public static void main(String[] args) {\n        String output=\"\";\n        Multiset&lt;String&gt; wordsMultiset = HashMultiset.create();\n        String[] words=\"AAABBBBCC\".split(\"\");\n        wordsMultiset.addAll(Arrays.asList(words));\n        for (Entry&lt;String&gt; string : wordsMultiset.entrySet()) {\n            if(!string.getElement().isEmpty())\n                output+=string.getCount()+\"\"+string.getElement();\n        }\n        System.out.println(output);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1198039,"reputation":10944,"user_id":1169349,"display_name":"Reg"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1451566799,"creation_date":1337322144,"answer_id":10647700,"question_id":10647520,"body_markdown":"This is just one more way of doing it. \r\n\r\n    public static String compressor(String raw) {\r\n    \t\tStringBuilder builder = new StringBuilder();\r\n    \t\tint counter = 0;\r\n    \t\tint length = raw.length();\r\n    \t\tint j = 0;\r\n    \t\twhile (counter &lt; length) {\r\n    \t\t\tj = 0;\r\n    \t\t\twhile (counter + j &lt; length &amp;&amp; raw.charAt(counter + j) == raw.charAt(counter)) {\r\n    \t\t\t\tj++;\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t\tif (j &gt; 1) {\r\n    \t\t\t\tbuilder.append(j);\r\n    \t\t\t}\r\n    \t\t\tbuilder.append(raw.charAt(counter));\r\n    \t\t\tcounter += j;\r\n    \t\t}\r\n    \t\t\r\n    \t\treturn builder.toString();\r\n    \t}","title":"Java compressing Strings","body":"<p>This is just one more way of doing it. </p>\n\n<pre><code>public static String compressor(String raw) {\n        StringBuilder builder = new StringBuilder();\n        int counter = 0;\n        int length = raw.length();\n        int j = 0;\n        while (counter &lt; length) {\n            j = 0;\n            while (counter + j &lt; length &amp;&amp; raw.charAt(counter + j) == raw.charAt(counter)) {\n                j++;\n            }\n\n            if (j &gt; 1) {\n                builder.append(j);\n            }\n            builder.append(raw.charAt(counter));\n            counter += j;\n        }\n\n        return builder.toString();\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1464111,"reputation":6767,"user_id":1377507,"display_name":"tigrang"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1337326443,"creation_date":1337326443,"answer_id":10648536,"question_id":10647520,"body_markdown":"Java&#39;s not my main language, hardly ever use it, but I wanted to give it a shot :]\r\nNot even sure if your assignment *requires* a loop, but here&#39;s a regexp approach:\r\n\r\n     public static String compress_string(String inp) {\r\n          String compressed = &quot;&quot;;\r\n          Pattern pattern = Pattern.compile(&quot;([\\\\w])\\\\1*&quot;);\r\n          Matcher matcher = pattern.matcher(inp);\r\n          while(matcher.find()) {\r\n             String group = matcher.group();\r\n             if (group.length() &gt; 1) compressed += group.length() + &quot;&quot;;\r\n             compressed += group.charAt(0);\r\n          }\r\n          return compressed;\r\n       }","title":"Java compressing Strings","body":"<p>Java's not my main language, hardly ever use it, but I wanted to give it a shot :]\nNot even sure if your assignment <em>requires</em> a loop, but here's a regexp approach:</p>\n\n<pre><code> public static String compress_string(String inp) {\n      String compressed = \"\";\n      Pattern pattern = Pattern.compile(\"([\\\\w])\\\\1*\");\n      Matcher matcher = pattern.matcher(inp);\n      while(matcher.find()) {\n         String group = matcher.group();\n         if (group.length() &gt; 1) compressed += group.length() + \"\";\n         compressed += group.charAt(0);\n      }\n      return compressed;\n   }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5202422,"reputation":2396,"user_id":4161385,"accept_rate":88,"display_name":"PSN"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1439537371,"creation_date":1439537371,"answer_id":32004590,"question_id":10647520,"body_markdown":"The code below will ask the user for user to input a specific character to count the occurrence .\r\n\r\n    import java.util.Scanner;\r\n    \r\n    class CountingOccurences {\r\n    \r\n    public static void main(String[] args) {\r\n    \r\n        Scanner inp = new Scanner(System.in);\r\n        \r\n        String str;\r\n        char ch;\r\n        int count=0;\r\n    \r\n        System.out.println(&quot;Enter the string:&quot;);\r\n        str=inp.nextLine();\r\n        System.out.println(&quot;Enter th Char to see the occurence\\n&quot;);\r\n        ch=inp.next().charAt(0);\r\n    \r\n        for(int i=0;i&lt;str.length();i++)\r\n        {\r\n                    if(str.charAt(i)==ch)\r\n    \t\t{\r\n    \t\t\tcount++;\r\n                    }\r\n        }\r\n    \r\n            System.out.println(&quot;The Character is Occuring&quot;);\r\n            System.out.println(count+&quot;Times&quot;);\r\n        \r\n    \r\n    }\r\n    \r\n    }","title":"Java compressing Strings","body":"<p>The code below will ask the user for user to input a specific character to count the occurrence .</p>\n\n<pre><code>import java.util.Scanner;\n\nclass CountingOccurences {\n\npublic static void main(String[] args) {\n\n    Scanner inp = new Scanner(System.in);\n\n    String str;\n    char ch;\n    int count=0;\n\n    System.out.println(\"Enter the string:\");\n    str=inp.nextLine();\n    System.out.println(\"Enter th Char to see the occurence\\n\");\n    ch=inp.next().charAt(0);\n\n    for(int i=0;i&lt;str.length();i++)\n    {\n                if(str.charAt(i)==ch)\n        {\n            count++;\n                }\n    }\n\n        System.out.println(\"The Character is Occuring\");\n        System.out.println(count+\"Times\");\n\n\n}\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7021543,"reputation":533,"user_id":5380672,"accept_rate":31,"display_name":"G&#246;khan Akduğan"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1443335085,"creation_date":1443334631,"answer_id":32805157,"question_id":10647520,"body_markdown":"\tpublic static char[] compressionTester( char[] s){\r\n\r\n\t\tif(s == null){\r\n\t\t\tthrow new IllegalArgumentException();\r\n\t\t}\r\n\t\t\r\n\t\tHashMap&lt;Character, Integer&gt; map = new HashMap&lt;&gt;();\r\n\t\tfor (int i = 0 ; i &lt; s.length ; i++) {\r\n\t\t\t\r\n\t\t\tif(!map.containsKey(s[i])){\r\n\t\t\t\tmap.put(s[i], 1);\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\tint value = map.get(s[i]);\r\n\t\t\t\tvalue++;\r\n\t\t\t\tmap.put(s[i],value);\r\n\t\t\t}\t\t\t\r\n\t\t}\t\t\t\t\r\n\t\tString newer=&quot;&quot;;\r\n\r\n\t\tfor( Character n : map.keySet()){\r\n\t\t\t\t\t\t\t\r\n\t\t\tnewer = newer + n + map.get(n);\t\r\n\t\t}\r\n\t\tchar[] n = newer.toCharArray();\r\n\t\t\t\t\r\n\t\tif(s.length &gt; n.length){\r\n\t\t\treturn n;\r\n\t\t}\r\n\t\telse{\r\n\t\t\r\n\t\t\treturn s;\t\t\t\t\r\n\t\t}\t\t\t\t\t\t\r\n\t}\r\n\r\n","title":"Java compressing Strings","body":"<pre><code>public static char[] compressionTester( char[] s){\n\n    if(s == null){\n        throw new IllegalArgumentException();\n    }\n\n    HashMap&lt;Character, Integer&gt; map = new HashMap&lt;&gt;();\n    for (int i = 0 ; i &lt; s.length ; i++) {\n\n        if(!map.containsKey(s[i])){\n            map.put(s[i], 1);\n        }\n        else{\n            int value = map.get(s[i]);\n            value++;\n            map.put(s[i],value);\n        }           \n    }               \n    String newer=\"\";\n\n    for( Character n : map.keySet()){\n\n        newer = newer + n + map.get(n); \n    }\n    char[] n = newer.toCharArray();\n\n    if(s.length &gt; n.length){\n        return n;\n    }\n    else{\n\n        return s;               \n    }                       \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7983918,"reputation":11,"user_id":6024148,"display_name":"Kallu mall"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1457235317,"creation_date":1457233833,"answer_id":35822659,"question_id":10647520,"body_markdown":"    package com.tell.datetime;\r\n    \r\n    import java.util.Stack;\r\n    public class StringCompression {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tString input = &quot;abbcccdddd&quot;;\r\n    \t\tSystem.out.println(compressString(input));\r\n    \t}\r\n    \r\n    \tpublic static String compressString(String input) {\r\n    \r\n    \t\tif (input == null || input.length() == 0)\r\n    \t\t\treturn input;\r\n    \t\tString finalCompressedString = &quot;&quot;;\r\n    \t\tString lastElement=&quot;&quot;;\r\n    \t\tchar[] charArray = input.toCharArray();\r\n    \t\tStack stack = new Stack();\r\n    \t\tint elementCount = 0;\r\n    \t\tfor (int i = 0; i &lt; charArray.length; i++) {\r\n    \t\t\tchar currentElement = charArray[i];\r\n    \t\t\tif (i == 0) {\r\n    \t\t\t\tstack.push((currentElement+&quot;&quot;));\r\n    \t\t\t\tcontinue;\r\n    \t\t\t} else {\r\n    \t\t\t\tif ((currentElement+&quot;&quot;).equalsIgnoreCase((String)stack.peek())) {\r\n    \t\t\t\t\tstack.push(currentElement + &quot;&quot;);\r\n    \t\t\t\t\tif(i==charArray.length-1)\r\n    \t\t\t\t\t{\r\n    \t\t\t\t\t\twhile (!stack.isEmpty()) {\r\n    \r\n    \t\t\t\t\t\t\tlastElement = (String)stack.pop();\r\n    \t\t\t\t\t\t\telementCount++;\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t\t\r\n    \t\t\t\t\t\tfinalCompressedString += lastElement + &quot;&quot; + elementCount;\r\n    \t\t\t\t\t}else\r\n    \t\t\t\t\tcontinue;\r\n    \t\t\t\t}\r\n    \r\n    \t\t\t\telse {\r\n    \t\t\t\t\twhile (!stack.isEmpty()) {\r\n    \r\n    \t\t\t\t\t\tlastElement = (String)stack.pop();\r\n    \t\t\t\t\t\telementCount++;\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\t\r\n    \t\t\t\t\tfinalCompressedString += lastElement + &quot;&quot; + elementCount;\r\n    \t\t\t\t\telementCount=0;\r\n    \t\t\t\t\tstack.push(currentElement+&quot;&quot;);\r\n    \t\t\t\t}\r\n    \r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t\tif (finalCompressedString.length() &gt;= input.length())\r\n    \t\t\treturn input;\r\n    \t\telse\r\n    \t\t\treturn finalCompressedString;\r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"Java compressing Strings","body":"<pre><code>package com.tell.datetime;\n\nimport java.util.Stack;\npublic class StringCompression {\n    public static void main(String[] args) {\n        String input = \"abbcccdddd\";\n        System.out.println(compressString(input));\n    }\n\n    public static String compressString(String input) {\n\n        if (input == null || input.length() == 0)\n            return input;\n        String finalCompressedString = \"\";\n        String lastElement=\"\";\n        char[] charArray = input.toCharArray();\n        Stack stack = new Stack();\n        int elementCount = 0;\n        for (int i = 0; i &lt; charArray.length; i++) {\n            char currentElement = charArray[i];\n            if (i == 0) {\n                stack.push((currentElement+\"\"));\n                continue;\n            } else {\n                if ((currentElement+\"\").equalsIgnoreCase((String)stack.peek())) {\n                    stack.push(currentElement + \"\");\n                    if(i==charArray.length-1)\n                    {\n                        while (!stack.isEmpty()) {\n\n                            lastElement = (String)stack.pop();\n                            elementCount++;\n                        }\n\n                        finalCompressedString += lastElement + \"\" + elementCount;\n                    }else\n                    continue;\n                }\n\n                else {\n                    while (!stack.isEmpty()) {\n\n                        lastElement = (String)stack.pop();\n                        elementCount++;\n                    }\n\n                    finalCompressedString += lastElement + \"\" + elementCount;\n                    elementCount=0;\n                    stack.push(currentElement+\"\");\n                }\n\n            }\n        }\n\n        if (finalCompressedString.length() &gt;= input.length())\n            return input;\n        else\n            return finalCompressedString;\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3344553,"reputation":93,"user_id":2809957,"display_name":"Bala"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1457422459,"creation_date":1457422459,"answer_id":35861549,"question_id":10647520,"body_markdown":"Please try this one. This may help to print the count of characters which we pass on string format through console.\r\n\r\n    import java.util.*;\r\n    \r\n    public class CountCharacterArray {\r\n       private static Scanner inp;\r\n    \r\n    public static void main(String args[]) {\r\n       inp = new Scanner(System.in);\r\n      String  str=inp.nextLine();\r\n       List&lt;Character&gt; arrlist = new ArrayList&lt;Character&gt;();\r\n       for(int i=0; i&lt;str.length();i++){\r\n    \t   arrlist.add(str.charAt(i));\r\n       }\r\n       for(int i=0; i&lt;str.length();i++){\r\n    \t   int freq = Collections.frequency(arrlist, str.charAt(i));\r\n    \t   System.out.println(&quot;Frequency of &quot;+ str.charAt(i)+ &quot;  is:   &quot;+freq); \r\n       }\r\n         }    \r\n    }\r\n\r\n","title":"Java compressing Strings","body":"<p>Please try this one. This may help to print the count of characters which we pass on string format through console.</p>\n\n<pre><code>import java.util.*;\n\npublic class CountCharacterArray {\n   private static Scanner inp;\n\npublic static void main(String args[]) {\n   inp = new Scanner(System.in);\n  String  str=inp.nextLine();\n   List&lt;Character&gt; arrlist = new ArrayList&lt;Character&gt;();\n   for(int i=0; i&lt;str.length();i++){\n       arrlist.add(str.charAt(i));\n   }\n   for(int i=0; i&lt;str.length();i++){\n       int freq = Collections.frequency(arrlist, str.charAt(i));\n       System.out.println(\"Frequency of \"+ str.charAt(i)+ \"  is:   \"+freq); \n   }\n     }    \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3346805,"reputation":43,"user_id":2811819,"display_name":"Chaitanya Vardhan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1475303338,"creation_date":1472419231,"answer_id":39195881,"question_id":10647520,"body_markdown":"consider the below Solution in which the String s1 identifies the unique characters that are available in a given String s (for loop 1), in the second for loop build a string s2 that contains unique character and no of times it is repeated by comparing string s1 with s.\r\n\r\n    public static void main(String[] args) \r\n    {\r\n\t\t// TODO Auto-generated method stub\r\n\t\t\r\n\t\tString s = &quot;aaaabbccccdddeee&quot;;//given string\r\n\t\tString s1 = &quot;&quot;; // string to identify how many unique letters are available in a string\r\n\t\tString s2=&quot;&quot;; //decompressed string will be appended to this string\r\n\t\tint count=0;\r\n\t\tfor(int i=0;i&lt;s.length();i++) {\r\n\t\t\tif(s1.indexOf(s.charAt(i))&lt;0) {\r\n\t\t\t\ts1 = s1+s.charAt(i);\r\n\t\t\t}\r\n\t\t}\r\n\t\tfor(int i=0;i&lt;s1.length();i++) {\r\n\t\t\tfor(int j=0;j&lt;s.length();j++) {\r\n\t\t\t\tif(s1.charAt(i)==s.charAt(j)) {\r\n\t\t\t\t\tcount++;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\ts2=s2+s1.charAt(i)+count;\r\n\t\t\tcount=0;\r\n\t\t}\r\n\t\t\r\n        System.out.println(s2);\r\n    }\r\n","title":"Java compressing Strings","body":"<p>consider the below Solution in which the String s1 identifies the unique characters that are available in a given String s (for loop 1), in the second for loop build a string s2 that contains unique character and no of times it is repeated by comparing string s1 with s.</p>\n\n<pre><code>public static void main(String[] args) \n{\n    // TODO Auto-generated method stub\n\n    String s = \"aaaabbccccdddeee\";//given string\n    String s1 = \"\"; // string to identify how many unique letters are available in a string\n    String s2=\"\"; //decompressed string will be appended to this string\n    int count=0;\n    for(int i=0;i&lt;s.length();i++) {\n        if(s1.indexOf(s.charAt(i))&lt;0) {\n            s1 = s1+s.charAt(i);\n        }\n    }\n    for(int i=0;i&lt;s1.length();i++) {\n        for(int j=0;j&lt;s.length();j++) {\n            if(s1.charAt(i)==s.charAt(j)) {\n                count++;\n            }\n        }\n        s2=s2+s1.charAt(i)+count;\n        count=0;\n    }\n\n    System.out.println(s2);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3195480,"reputation":49,"user_id":2698737,"display_name":"Gopinath"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1476496858,"creation_date":1476496858,"answer_id":40054204,"question_id":10647520,"body_markdown":"It may help you.\r\n\r\n\r\n\r\n\r\n    public class StringCompresser\r\n    {\r\n\tpublic static void main(String[] args)\r\n\t{\r\n\t\tSystem.out.println(compress(&quot;AAABBBBCC&quot;));\r\n\t\tSystem.out.println(compress(&quot;AAABC&quot;));\r\n\t\tSystem.out.println(compress(&quot;A&quot;));\r\n\t\tSystem.out.println(compress(&quot;ABBDCC&quot;));\r\n\t\tSystem.out.println(compress(&quot;AZXYC&quot;));\r\n\t}\r\n\r\n\tstatic String compress(String str)\r\n\t{\r\n\t\tStringBuilder stringBuilder = new StringBuilder();\r\n\t\tchar[] charArray = str.toCharArray();\r\n\t\tint count = 1;\r\n\t\tchar lastChar = 0;\r\n\t\tchar nextChar = 0;\r\n\t\tlastChar = charArray[0];\r\n\t\tfor (int i = 1; i &lt; charArray.length; i++)\r\n\t\t{\r\n\t\t\tnextChar = charArray[i];\r\n\t\t\tif (lastChar == nextChar)\r\n\t\t\t{\r\n\t\t\t\tcount++;\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tstringBuilder.append(count).append(lastChar);\r\n\t\t\t\tcount = 1;\r\n\t\t\t\tlastChar = nextChar;\r\n\r\n\t\t\t}\r\n\t\t}\r\n\t\tstringBuilder.append(count).append(lastChar);\r\n\t\tString compressed = stringBuilder.toString();\r\n\r\n\t\treturn compressed;\r\n\t} \r\n    }\r\n\r\nOutput:\r\n\r\n\r\n    3A4B2C\r\n    3A1B1C\r\n    1A\r\n    1A2B1D2C\r\n    1A1Z1X1Y1C\r\n\r\n\r\n   \r\n\r\n\r\n","title":"Java compressing Strings","body":"<p>It may help you.</p>\n\n<pre><code>public class StringCompresser\n{\npublic static void main(String[] args)\n{\n    System.out.println(compress(\"AAABBBBCC\"));\n    System.out.println(compress(\"AAABC\"));\n    System.out.println(compress(\"A\"));\n    System.out.println(compress(\"ABBDCC\"));\n    System.out.println(compress(\"AZXYC\"));\n}\n\nstatic String compress(String str)\n{\n    StringBuilder stringBuilder = new StringBuilder();\n    char[] charArray = str.toCharArray();\n    int count = 1;\n    char lastChar = 0;\n    char nextChar = 0;\n    lastChar = charArray[0];\n    for (int i = 1; i &lt; charArray.length; i++)\n    {\n        nextChar = charArray[i];\n        if (lastChar == nextChar)\n        {\n            count++;\n        }\n        else\n        {\n            stringBuilder.append(count).append(lastChar);\n            count = 1;\n            lastChar = nextChar;\n\n        }\n    }\n    stringBuilder.append(count).append(lastChar);\n    String compressed = stringBuilder.toString();\n\n    return compressed;\n} \n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>3A4B2C\n3A1B1C\n1A\n1A2B1D2C\n1A1Z1X1Y1C\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7025294,"reputation":715,"user_id":5382921,"display_name":"Kushal Shinde"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1516855659,"creation_date":1497571637,"answer_id":44578831,"question_id":10647520,"body_markdown":"The easiest approach:- Time Complexity - O(n)\r\n\r\n    public static void main(String[] args) {\r\n        String str = &quot;AAABBBBCC&quot;;       //input String\r\n        int length = str.length();      //length of a String\r\n\r\n        //Created an object of a StringBuilder class        \r\n        StringBuilder sb = new StringBuilder(); \r\n        \r\n        int count=1;   //counter for counting number of occurances\r\n         \r\n        for(int i=0; i&lt;length; i++){\r\n            //if i reaches at the end then append all and break the loop\r\n        \tif(i==length-1){         \r\n        \t\tsb.append(str.charAt(i)+&quot;&quot;+count);\r\n         \t\tbreak;\r\n        \t}\r\n\r\n        \t//if two successive chars are equal then increase the counter\r\n        \tif(str.charAt(i)==str.charAt(i+1)){   \r\n         \t\tcount++;\r\n        \t}\r\n        \telse{\r\n            //else append character with its count                            \r\n        \t\tsb.append(str.charAt(i)+&quot;&quot;+count);\r\n        \t\tcount=1;     //reseting the counter to 1\r\n        \t}\r\n       }\r\n\r\n        //String representation of a StringBuilder object\r\n        System.out.println(sb.toString());   \r\n        \r\n\t}","title":"Java compressing Strings","body":"<p>The easiest approach:- Time Complexity - O(n)</p>\n\n<pre><code>public static void main(String[] args) {\n    String str = \"AAABBBBCC\";       //input String\n    int length = str.length();      //length of a String\n\n    //Created an object of a StringBuilder class        \n    StringBuilder sb = new StringBuilder(); \n\n    int count=1;   //counter for counting number of occurances\n\n    for(int i=0; i&lt;length; i++){\n        //if i reaches at the end then append all and break the loop\n        if(i==length-1){         \n            sb.append(str.charAt(i)+\"\"+count);\n            break;\n        }\n\n        //if two successive chars are equal then increase the counter\n        if(str.charAt(i)==str.charAt(i+1)){   \n            count++;\n        }\n        else{\n        //else append character with its count                            \n            sb.append(str.charAt(i)+\"\"+count);\n            count=1;     //reseting the counter to 1\n        }\n   }\n\n    //String representation of a StringBuilder object\n    System.out.println(sb.toString());   \n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4247264,"reputation":141,"user_id":3475558,"display_name":"SurajSr"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1500518851,"creation_date":1500504423,"answer_id":45202269,"question_id":10647520,"body_markdown":"The following can be used if you are looking for a basic solution. Iterate through the string with one element and after finding all the element occurrences, remove that character. So that it will not interfere in the next search. \r\n\r\n    public static void main(String[] args) {\r\n        String string = &quot;aaabbbbbaccc&quot;;\r\n        int counter;\r\n        String result=&quot;&quot;;\r\n        int i=0;\r\n        while (i&lt;string.length()){\r\n            counter=1;\r\n            for (int j=i+1;j&lt;string.length();j++){ \r\n                System.out.println(&quot;string length =&quot;+string.length());  \r\n                if (string.charAt(i) == string.charAt(j)){\r\n                      counter++;\r\n                }\r\n          }\r\n          result = result+string.charAt(i)+counter; \r\n          string = string.replaceAll(String.valueOf(string.charAt(i)), &quot;&quot;); \r\n        }\r\n        System.out.println(&quot;result is = &quot;+result);\r\n    }\r\n\r\n And the output will be := \r\nresult is = a4b5c3","title":"Java compressing Strings","body":"<p>The following can be used if you are looking for a basic solution. Iterate through the string with one element and after finding all the element occurrences, remove that character. So that it will not interfere in the next search. </p>\n\n<pre><code>public static void main(String[] args) {\n    String string = \"aaabbbbbaccc\";\n    int counter;\n    String result=\"\";\n    int i=0;\n    while (i&lt;string.length()){\n        counter=1;\n        for (int j=i+1;j&lt;string.length();j++){ \n            System.out.println(\"string length =\"+string.length());  \n            if (string.charAt(i) == string.charAt(j)){\n                  counter++;\n            }\n      }\n      result = result+string.charAt(i)+counter; \n      string = string.replaceAll(String.valueOf(string.charAt(i)), \"\"); \n    }\n    System.out.println(\"result is = \"+result);\n}\n</code></pre>\n\n<p>And the output will be := \nresult is = a4b5c3</p>\n"},{"tags":[],"owner":{"account_id":6523686,"reputation":11,"user_id":5047045,"display_name":"Parth Parikh"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1509264029,"creation_date":1509264029,"answer_id":46998034,"question_id":10647520,"body_markdown":"    public class StringCompression {\r\n\t    public static void main(String[] args){\r\n\t\t    String s = &quot;aabcccccaaazdaaa&quot;;\r\n\t\t\r\n\t\t    char check = s.charAt(0);\r\n\t\t    int count = 0;\r\n\t\t\r\n\t\t    for(int i=0; i&lt;s.length(); i++){\r\n\t\t\t    if(s.charAt(i) == check) {\r\n\t\t\t\t    count++;\r\n\t\t\t        if(i==s.length()-1){\r\n\t\t\t\t    System.out.print(s.charAt(i));\r\n\t\t\t\t    System.out.print(count);\r\n\t\t\t     }\r\n\t\t\t    } else {\r\n\t\t\t\t    System.out.print(s.charAt(i-1));\r\n\t\t\t\t    System.out.print(count);\r\n\t\t\t\t    check = s.charAt(i);\r\n\t\t\t\t    count = 1;\r\n\t\t\t\t    if(i==s.length()-1){\r\n\t\t\t\t\t    System.out.print(s.charAt(i));\r\n\t\t\t\t\t    System.out.print(count);\r\n\t\t\t\t     }\r\n\t\t\t    }\r\n\t\t    }\r\n\t    }\r\n","title":"Java compressing Strings","body":"<pre><code>public class StringCompression {\n    public static void main(String[] args){\n        String s = \"aabcccccaaazdaaa\";\n\n        char check = s.charAt(0);\n        int count = 0;\n\n        for(int i=0; i&lt;s.length(); i++){\n            if(s.charAt(i) == check) {\n                count++;\n                if(i==s.length()-1){\n                System.out.print(s.charAt(i));\n                System.out.print(count);\n             }\n            } else {\n                System.out.print(s.charAt(i-1));\n                System.out.print(count);\n                check = s.charAt(i);\n                count = 1;\n                if(i==s.length()-1){\n                    System.out.print(s.charAt(i));\n                    System.out.print(count);\n                 }\n            }\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":931382,"reputation":4561,"user_id":961215,"accept_rate":71,"display_name":"Abhishek_Mishra"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1535699856,"creation_date":1535699856,"answer_id":52110364,"question_id":10647520,"body_markdown":"The answers which used Map will not work for cases like `aabbbccddabc` as in that case the output should be `a2b3c2d2a1b1c1`.\r\n\r\nIn that case this implementation can be used :\r\n\r\n    private String compressString(String input) {\r\n            String output = &quot;&quot;;\r\n            char[] arr = input.toCharArray();\r\n            Map&lt;Character, Integer&gt; myMap = new LinkedHashMap&lt;&gt;();\r\n            for (int i = 0; i &lt; arr.length; i++) {\r\n                if (i &gt; 0 &amp;&amp; arr[i] != arr[i - 1]) {\r\n                    output = output + arr[i - 1] + myMap.get(arr[i - 1]);\r\n                    myMap.put(arr[i - 1], 0);\r\n                }\r\n                if (myMap.containsKey(arr[i])) {\r\n                    myMap.put(arr[i], myMap.get(arr[i]) + 1);\r\n                } else {\r\n                    myMap.put(arr[i], 1);\r\n                }\r\n            }\r\n    \r\n            for (Character c : myMap.keySet()) {\r\n                if (myMap.get(c) != 0) {\r\n                    output = output + c + myMap.get(c);\r\n                }\r\n            }\r\n    \r\n            return output;\r\n        }","title":"Java compressing Strings","body":"<p>The answers which used Map will not work for cases like <code>aabbbccddabc</code> as in that case the output should be <code>a2b3c2d2a1b1c1</code>.</p>\n\n<p>In that case this implementation can be used :</p>\n\n<pre><code>private String compressString(String input) {\n        String output = \"\";\n        char[] arr = input.toCharArray();\n        Map&lt;Character, Integer&gt; myMap = new LinkedHashMap&lt;&gt;();\n        for (int i = 0; i &lt; arr.length; i++) {\n            if (i &gt; 0 &amp;&amp; arr[i] != arr[i - 1]) {\n                output = output + arr[i - 1] + myMap.get(arr[i - 1]);\n                myMap.put(arr[i - 1], 0);\n            }\n            if (myMap.containsKey(arr[i])) {\n                myMap.put(arr[i], myMap.get(arr[i]) + 1);\n            } else {\n                myMap.put(arr[i], 1);\n            }\n        }\n\n        for (Character c : myMap.keySet()) {\n            if (myMap.get(c) != 0) {\n                output = output + c + myMap.get(c);\n            }\n        }\n\n        return output;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7768515,"reputation":1636,"user_id":7972621,"display_name":"Ankit Sharma"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1556523633,"creation_date":1556521394,"answer_id":55898442,"question_id":10647520,"body_markdown":" **O(n) approach**\r\n \r\n No need for hashing. The idea is to find the first **Non-matching** character.\r\n The count of each character would be the difference in the indices of both characters.\r\n\r\n for a detailed answer: https://stackoverflow.com/a/55898810/7972621\r\n \r\n *The only catch is that we need to add a dummy letter so that the comparison for \r\n the last character is possible.*\r\n\r\n    private static String compress(String s){\r\n        StringBuilder result = new StringBuilder();\r\n        int j = 0;\r\n        s = s + &#39;#&#39;;\r\n        for(int i=1; i &lt; s.length(); i++){\r\n            if(s.charAt(i) != s.charAt(j)){\r\n                result.append(i-j);\r\n                result.append(s.charAt(j));\r\n                j = i;\r\n            }\r\n        }\r\n       return result.toString();\r\n    }\r\n","title":"Java compressing Strings","body":"<p><strong>O(n) approach</strong></p>\n\n<p>No need for hashing. The idea is to find the first <strong>Non-matching</strong> character.\n The count of each character would be the difference in the indices of both characters.</p>\n\n<p>for a detailed answer: <a href=\"https://stackoverflow.com/a/55898810/7972621\">https://stackoverflow.com/a/55898810/7972621</a></p>\n\n<p><em>The only catch is that we need to add a dummy letter so that the comparison for \n the last character is possible.</em></p>\n\n<pre><code>private static String compress(String s){\n    StringBuilder result = new StringBuilder();\n    int j = 0;\n    s = s + '#';\n    for(int i=1; i &lt; s.length(); i++){\n        if(s.charAt(i) != s.charAt(j)){\n            result.append(i-j);\n            result.append(s.charAt(j));\n            j = i;\n        }\n    }\n   return result.toString();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6517933,"reputation":3311,"user_id":5250973,"display_name":"Jay Dangar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1566913078,"creation_date":1566913078,"answer_id":57675930,"question_id":10647520,"body_markdown":"     // O(N) loop through entire character array\r\n     // match current char with next one, if they matches count++\r\n     // if don&#39;t then just append current char and counter value and then reset counter.\r\n    // special case is the last characters, for that just check if count value is &gt; 0, if it&#39;s then append the counter value and the last char\r\n        \r\n     private String compress(String str) {\r\n            char[] c = str.toCharArray();\r\n            String newStr = &quot;&quot;;\r\n            int count = 1;\r\n            for (int i = 0; i &lt; c.length - 1; i++) {\r\n                int j = i + 1;\r\n                if (c[i] == c[j]) {\r\n                    count++;\r\n                } else {\r\n                    newStr = newStr + c[i] + count;\r\n                    count = 1;\r\n                }\r\n            }\r\n    \r\n            // this is for the last strings...\r\n            if (count &gt; 0) {\r\n                newStr = newStr + c[c.length - 1] + count;\r\n            }\r\n    \r\n            return newStr;\r\n        }","title":"Java compressing Strings","body":"<pre><code> // O(N) loop through entire character array\n // match current char with next one, if they matches count++\n // if don't then just append current char and counter value and then reset counter.\n// special case is the last characters, for that just check if count value is &gt; 0, if it's then append the counter value and the last char\n\n private String compress(String str) {\n        char[] c = str.toCharArray();\n        String newStr = \"\";\n        int count = 1;\n        for (int i = 0; i &lt; c.length - 1; i++) {\n            int j = i + 1;\n            if (c[i] == c[j]) {\n                count++;\n            } else {\n                newStr = newStr + c[i] + count;\n                count = 1;\n            }\n        }\n\n        // this is for the last strings...\n        if (count &gt; 0) {\n            newStr = newStr + c[c.length - 1] + count;\n        }\n\n        return newStr;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2463611,"reputation":91,"user_id":2147187,"display_name":"anky"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1598798104,"creation_date":1598798104,"answer_id":63658523,"question_id":10647520,"body_markdown":"    public class StringCompression {\r\n        public static void main(String... args){\r\n            String s=&quot;aabbcccaa&quot;;\r\n            //a2b2c3a2\r\n    \r\n            for(int i=0;i&lt;s.length()-1;i++){\r\n                int count=1;\r\n                while(i&lt;s.length()-1 &amp;&amp; s.charAt(i)==s.charAt(i+1)){\r\n                    count++;\r\n                    i++;\r\n                }\r\n                System.out.print(s.charAt(i));\r\n                System.out.print(count);\r\n            }\r\n            System.out.println(&quot; &quot;);\r\n        }\r\n    }\r\n\r\n","title":"Java compressing Strings","body":"<pre><code>public class StringCompression {\n    public static void main(String... args){\n        String s=&quot;aabbcccaa&quot;;\n        //a2b2c3a2\n\n        for(int i=0;i&lt;s.length()-1;i++){\n            int count=1;\n            while(i&lt;s.length()-1 &amp;&amp; s.charAt(i)==s.charAt(i+1)){\n                count++;\n                i++;\n            }\n            System.out.print(s.charAt(i));\n            System.out.print(count);\n        }\n        System.out.println(&quot; &quot;);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2180686,"reputation":31,"user_id":1930259,"display_name":"Mahendran Ponnusamy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643320140,"creation_date":1643320140,"answer_id":70886209,"question_id":10647520,"body_markdown":"This is a leet code problem 443. Most of the answers here uses StringBuilder or a HashMap, the actual problem statement is to solve using the input char array and in place array modification.\r\n\r\n```\r\npublic int compress(char[] chars) {\r\n    int startIndex = 0;\r\n    int lastArrayIndex = 0;\r\n    if (chars.length == 1) {\r\n      return 1;\r\n    }\r\n    if (chars.length == 0) {\r\n      return 0;\r\n    }\r\n    for (int j = startIndex + 1; j &lt; chars.length; j++) {\r\n      if (chars[startIndex] != chars[j]) {\r\n\r\n        chars[lastArrayIndex] = chars[startIndex];\r\n        lastArrayIndex++;\r\n        if ((j - startIndex) &gt; 1) {\r\n          for (char c : String.valueOf(j - startIndex).toCharArray()) {\r\n            chars[lastArrayIndex] = c;\r\n            lastArrayIndex++;\r\n          }\r\n        }\r\n        startIndex = j;\r\n      }\r\n      if (j == chars.length - 1) {\r\n        if (j - startIndex &gt;= 1) {\r\n          j = chars.length;\r\n          chars[lastArrayIndex] = chars[startIndex];\r\n          lastArrayIndex++;\r\n          for (char c : String.valueOf(j - startIndex).toCharArray()) {\r\n            chars[lastArrayIndex] = c;\r\n            lastArrayIndex++;\r\n          }\r\n        } else {\r\n          chars[lastArrayIndex] = chars[startIndex];\r\n          lastArrayIndex++;\r\n        }\r\n      }\r\n    }\r\n    return lastArrayIndex;\r\n  }\r\n}\r\n```","title":"Java compressing Strings","body":"<p>This is a leet code problem 443. Most of the answers here uses StringBuilder or a HashMap, the actual problem statement is to solve using the input char array and in place array modification.</p>\n<pre><code>public int compress(char[] chars) {\n    int startIndex = 0;\n    int lastArrayIndex = 0;\n    if (chars.length == 1) {\n      return 1;\n    }\n    if (chars.length == 0) {\n      return 0;\n    }\n    for (int j = startIndex + 1; j &lt; chars.length; j++) {\n      if (chars[startIndex] != chars[j]) {\n\n        chars[lastArrayIndex] = chars[startIndex];\n        lastArrayIndex++;\n        if ((j - startIndex) &gt; 1) {\n          for (char c : String.valueOf(j - startIndex).toCharArray()) {\n            chars[lastArrayIndex] = c;\n            lastArrayIndex++;\n          }\n        }\n        startIndex = j;\n      }\n      if (j == chars.length - 1) {\n        if (j - startIndex &gt;= 1) {\n          j = chars.length;\n          chars[lastArrayIndex] = chars[startIndex];\n          lastArrayIndex++;\n          for (char c : String.valueOf(j - startIndex).toCharArray()) {\n            chars[lastArrayIndex] = c;\n            lastArrayIndex++;\n          }\n        } else {\n          chars[lastArrayIndex] = chars[startIndex];\n          lastArrayIndex++;\n        }\n      }\n    }\n    return lastArrayIndex;\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":982673,"reputation":359,"user_id":1001994,"accept_rate":67,"display_name":"Cristian"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57018,"favorite_count":0,"down_vote_count":1,"up_vote_count":15,"answer_count":21,"score":14,"last_activity_date":1643320140,"creation_date":1337321073,"question_id":10647520,"body_markdown":"I need to create a method that receives a String and also returns a String. \r\n\r\nEx input: AAABBBBCC\r\n\r\nEx output: 3A4B2C\r\n\r\nWell, this is quite embarrassing and I couldn&#39;t manage to do it on the interview that I had today ( I was applying for a Junior position ), now, trying at home I made something that works statically, I mean, not using a loop which is kind of useless but I don&#39;t know if I&#39;m not getting enough hours of sleep or something but I can&#39;t figure it out how my for loop should look like. This is the code:\r\n\r\n\tpublic static String Comprimir(String texto){\r\n\t\t\r\n\t\tStringBuilder objString = new StringBuilder();\r\n\t\t\r\n\t\tint count;\r\n\t\tchar match;\r\n\t\t\r\n\t\t\tcount = texto.substring(texto.indexOf(texto.charAt(1)), texto.lastIndexOf(texto.charAt(1))).length()+1;\r\n\t\t\tmatch = texto.charAt(1);\r\n\t\t\tobjString.append(count);\r\n\t\t\tobjString.append(match);\r\n\t\t\t\r\n\t\treturn objString.toString();\r\n\t}\r\n\r\nThanks for your help, I&#39;m trying to improve my logic skills.","title":"Java compressing Strings","body":"<p>I need to create a method that receives a String and also returns a String. </p>\n\n<p>Ex input: AAABBBBCC</p>\n\n<p>Ex output: 3A4B2C</p>\n\n<p>Well, this is quite embarrassing and I couldn't manage to do it on the interview that I had today ( I was applying for a Junior position ), now, trying at home I made something that works statically, I mean, not using a loop which is kind of useless but I don't know if I'm not getting enough hours of sleep or something but I can't figure it out how my for loop should look like. This is the code:</p>\n\n<pre><code>public static String Comprimir(String texto){\n\n    StringBuilder objString = new StringBuilder();\n\n    int count;\n    char match;\n\n        count = texto.substring(texto.indexOf(texto.charAt(1)), texto.lastIndexOf(texto.charAt(1))).length()+1;\n        match = texto.charAt(1);\n        objString.append(count);\n        objString.append(match);\n\n    return objString.toString();\n}\n</code></pre>\n\n<p>Thanks for your help, I'm trying to improve my logic skills.</p>\n"},{"tags":["java","c++","tcpclient","tcpserver","sos"],"comments":[{"owner":{"account_id":5809836,"reputation":33185,"user_id":4581301,"display_name":"user4581301"},"score":1,"creation_date":1643317442,"post_id":70885405,"comment_id":125314722,"body_markdown":"Unrelated: Make code easy t read and sometimes bugs pop right out at you. There is absolutely no reason for `while (l &lt; 0) { Beep(433, 1000); j++; std::cout &lt;&lt; &quot;shiban l&quot; &lt;&lt; l &lt;&lt; std::endl; l = send(s, &amp;buffer[i], __min(chunkSize, bufferSize - i), 0); }` to be all one line and many reasons for it not to be.","body":"Unrelated: Make code easy t read and sometimes bugs pop right out at you. There is absolutely no reason for <code>while (l &lt; 0) { Beep(433, 1000); j++; std::cout &lt;&lt; &quot;shiban l&quot; &lt;&lt; l &lt;&lt; std::endl; l = send(s, &amp;buffer[i], __min(chunkSize, bufferSize - i), 0); }</code> to be all one line and many reasons for it not to be."},{"owner":{"account_id":7195349,"reputation":33494,"user_id":5494370,"display_name":"Alan Birtles"},"score":0,"creation_date":1643319075,"post_id":70885405,"comment_id":125315288,"body_markdown":"I&#39;d recommend using wireshark to see whether the data being sent is correct, that will allow you to narrow down your problem. Then post a [mre] for whichever side of the connection is not working","body":"I&#39;d recommend using wireshark to see whether the data being sent is correct, that will allow you to narrow down your problem. Then post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> for whichever side of the connection is not working"},{"owner":{"account_id":12255869,"reputation":15,"user_id":8944928,"display_name":"RadoRadTs"},"score":0,"creation_date":1643322133,"post_id":70885405,"comment_id":125316214,"body_markdown":"user4581301, Remy Lebeau and  Alan Birthles. Thank you very much both of you! I could give a flag to all if i could. To be honest i don&#39;t understand what is going on when sending message to acknowledge for filesize and i skip it unintentionaly. Must follow all advices given and all critics. Signle problem solved file is tranfered safe and in good condition. Thank you very much once again!","body":"user4581301, Remy Lebeau and  Alan Birthles. Thank you very much both of you! I could give a flag to all if i could. To be honest i don&#39;t understand what is going on when sending message to acknowledge for filesize and i skip it unintentionaly. Must follow all advices given and all critics. Signle problem solved file is tranfered safe and in good condition. Thank you very much once again!"}],"answers":[{"tags":[],"owner":{"account_id":25589,"reputation":562121,"user_id":65863,"accept_rate":75,"display_name":"Remy Lebeau"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1643320075,"creation_date":1643319469,"answer_id":70886084,"question_id":70885405,"body_markdown":"The C++ code is sending the file size before sending the file data (good), but is not doing adequate error handling (bad), and it is NOT sending the file size in an platform-agnostic format (bad).\r\n\r\nNot that it matters, because the Java code shown is NOT even attempting to read the file size before reading the file data (very bad), nor is it paying attention to the return value of `in.read()` to know how many bytes are *actually* received.  But even if it were, the C++ code is sending the size as an 8-byte integer (needed for large files &gt; 2GB), but the Java code is using a 4-byte integer instead (bad). The C++ is also using a 4-byte integer for `bytes_sent` in `SendFile()`.\r\n\r\nTry something more like this:\r\n\r\n```java\r\nBufferedInputStream bis = new BufferedInputStream(in);\r\nDataInputStream dis = new DataInputStream(bis);\r\nlong filesize = dis.readLong();\r\nif (filesize &gt; 0)\r\n{\r\n    byte[] bytes = new byte[4*1024];\r\n    do\r\n    {\r\n        int chunkSize = (int) Math.min(filesize, (long) bytes.length);\r\n        dis.readFully(bytes, 0, chunkSize);\r\n        out.write(bytes, 0, chunkSize);\r\n        out.flush();\r\n        filesize -= chunkSize;\r\n    }\r\n    while (filesize &gt; 0);\r\n}\r\nout.close();\r\n```\r\n\r\n```c++\r\nbool SendBuffer(SOCKET s, const char* buffer, int bufferSize) {\r\n    while (bufferSize &gt; 0)\r\n    {\r\n        int numSent = send(s, buffer, bufferSize, 0/*MSG_DONTROUTE*/);\r\n        if (numSent &lt; 0) {\r\n            Beep(433, 1000);\r\n            return false;\r\n        }\r\n    }\r\n    return true;\r\n}\r\n\r\nint64_t SendFile(SOCKET s, const std::string fileName, int chunkSize) {\r\n\r\n    const int64_t fileSize = GetFileSize(fileName);\r\n    if (fileSize &lt; 0) { return -1; }\r\n\r\n    std::ifstream file(fileName, std::ifstream::binary);\r\n    if (file.fail()) { return -1; }\r\n\r\n    const int64_t tmp = htonll(fileSize); // see https://stackoverflow.com/questions/3022552/\r\n    if (!SendBuffer(s, reinterpret_cast&lt;const char*&gt;(&amp;tmp), sizeof(tmp))) {\r\n        return -2;\r\n    }\r\n\r\n    std::vector&lt;char&gt; buffer(chunkSize);\r\n    bool errored = false;\r\n    int64_t bytes_sent = 0;\r\n\r\n    while (fileSize &gt; 0) {\r\n        int ssize = static_cast&lt;int&gt;(std::min&lt;int64_t&gt;(fileSize, chunkSize));\r\n        if (!file.read(buffer.data(), ssize)) { errored = true; break; }\r\n        if (!SendBuffer(s, buffer.data(), ssize)) { errored = true; break; }\r\n        fileSize -= ssize;\r\n    }\r\n\r\n    file.close();\r\n\r\n    if (errored) {\r\n        std::cout &lt;&lt; &quot;err&quot; &lt;&lt; std::endl;\r\n        return -3;\r\n    }\r\n\r\n    std::cout &lt;&lt; &quot;bytes_sent:&quot; &lt;&lt; bytes_sent &lt;&lt; std::endl;\r\n    return bytes_sent;\r\n}\r\n```","title":"C++ client socket sends original file and file size, Java client always get 8 bytes more. Even after force limiting to -8 bytes file is unreadable","body":"<p>The C++ code is sending the file size before sending the file data (good), but is not doing adequate error handling (bad), and it is NOT sending the file size in an platform-agnostic format (bad).</p>\n<p>Not that it matters, because the Java code shown is NOT even attempting to read the file size before reading the file data (very bad), nor is it paying attention to the return value of <code>in.read()</code> to know how many bytes are <em>actually</em> received.  But even if it were, the C++ code is sending the size as an 8-byte integer (needed for large files &gt; 2GB), but the Java code is using a 4-byte integer instead (bad). The C++ is also using a 4-byte integer for <code>bytes_sent</code> in <code>SendFile()</code>.</p>\n<p>Try something more like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>BufferedInputStream bis = new BufferedInputStream(in);\nDataInputStream dis = new DataInputStream(bis);\nlong filesize = dis.readLong();\nif (filesize &gt; 0)\n{\n    byte[] bytes = new byte[4*1024];\n    do\n    {\n        int chunkSize = (int) Math.min(filesize, (long) bytes.length);\n        dis.readFully(bytes, 0, chunkSize);\n        out.write(bytes, 0, chunkSize);\n        out.flush();\n        filesize -= chunkSize;\n    }\n    while (filesize &gt; 0);\n}\nout.close();\n</code></pre>\n<pre class=\"lang-cpp prettyprint-override\"><code>bool SendBuffer(SOCKET s, const char* buffer, int bufferSize) {\n    while (bufferSize &gt; 0)\n    {\n        int numSent = send(s, buffer, bufferSize, 0/*MSG_DONTROUTE*/);\n        if (numSent &lt; 0) {\n            Beep(433, 1000);\n            return false;\n        }\n    }\n    return true;\n}\n\nint64_t SendFile(SOCKET s, const std::string fileName, int chunkSize) {\n\n    const int64_t fileSize = GetFileSize(fileName);\n    if (fileSize &lt; 0) { return -1; }\n\n    std::ifstream file(fileName, std::ifstream::binary);\n    if (file.fail()) { return -1; }\n\n    const int64_t tmp = htonll(fileSize); // see https://stackoverflow.com/questions/3022552/\n    if (!SendBuffer(s, reinterpret_cast&lt;const char*&gt;(&amp;tmp), sizeof(tmp))) {\n        return -2;\n    }\n\n    std::vector&lt;char&gt; buffer(chunkSize);\n    bool errored = false;\n    int64_t bytes_sent = 0;\n\n    while (fileSize &gt; 0) {\n        int ssize = static_cast&lt;int&gt;(std::min&lt;int64_t&gt;(fileSize, chunkSize));\n        if (!file.read(buffer.data(), ssize)) { errored = true; break; }\n        if (!SendBuffer(s, buffer.data(), ssize)) { errored = true; break; }\n        fileSize -= ssize;\n    }\n\n    file.close();\n\n    if (errored) {\n        std::cout &lt;&lt; &quot;err&quot; &lt;&lt; std::endl;\n        return -3;\n    }\n\n    std::cout &lt;&lt; &quot;bytes_sent:&quot; &lt;&lt; bytes_sent &lt;&lt; std::endl;\n    return bytes_sent;\n}\n</code></pre>\n"}],"owner":{"account_id":12255869,"reputation":15,"user_id":8944928,"display_name":"RadoRadTs"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70886084,"answer_count":1,"score":1,"last_activity_date":1643320075,"creation_date":1643315854,"question_id":70885405,"body_markdown":"For a while, I am troubled with this issue.\r\n\r\nUsing a snippet of C++ code, which I found here, and in my opinion should do a good job actually sending exact amount of data, I guess the problem is in the Java code or something unknown.\r\n\r\nAlso, when sending simple `&quot;Hello World&quot;` data, transfer is done correctly.\r\n\r\nI would be grateful is somebody could solve it, or give a valuable advice.\r\nI am running Windows 10 with jdk1.8.0_221 and Visual Studio 2022. \r\n\r\nI understand there could be a need to send `filesize` as a string and aknowledge flag in return in future, but for simplicity the C++ client is sending only one file with known amount of data.\r\n\r\nHere is the Java side:\r\n\r\n```java\r\nwhile(!Terminate)\r\n{    \r\n    byte[] bytes = new byte[1];//code was different for a real buffer \r\n    //...still +8 bytes\r\n    while (in.available() &gt; 0) \r\n    {\r\n        in.read(bytes);\r\n        out.write(bytes);\r\n        out.flush();\r\n    }\r\n}\r\nout.close();\r\n```\r\n+ 8 bytes again after I tried this:\r\n\r\n```java\r\nint filesize = 15670;\r\nint cnt = 0;\r\nwhile (cnt&lt;filesize)\r\n{\r\n    out.write(in.read());\r\n    out.flush();\r\n    cnt++;\r\n}\r\n```\r\n\r\nIt makes me think 8 bytes are added while saving.\r\n\r\nThe C++ code:\r\n\r\n```c++\r\nint SendBuffer(SOCKET s, const char* buffer, int bufferSize, int chunkSize = 4 * 1024) {\r\n    int l = -1;\r\n    int i = 0;\r\n    while (i &lt; bufferSize) \r\n    {\r\n        int l = send(s, &amp;buffer[i], __min(chunkSize, bufferSize - i), 0);\r\n        //int l = send(s, &amp;buffer[i], bufferSize , MSG_DONTROUTE);\r\n        int j = 0;\r\n        std::cout &lt;&lt; i &lt;&lt; std::endl;\r\n        while (l &lt; 0) { Beep(433, 1000); j++; std::cout &lt;&lt; &quot;shiban l&quot; &lt;&lt; l &lt;&lt; std::endl; l = send(s, &amp;buffer[i], __min(chunkSize, bufferSize - i), 0); } // this is an error\r\n        i += l;\r\n    }\r\n    return i;\r\n}\r\n\r\nint64_t SendFile(SOCKET s, const std::string fileName, int chunkSize) {\r\n\r\n    const int64_t fileSize = GetFileSize(fileName);\r\n    if (fileSize &lt; 0) { return -1; }\r\n\r\n    std::ifstream file(fileName, std::ifstream::binary);\r\n    if (file.fail()) { return -1; }\r\n\r\n    if (SendBuffer(s, reinterpret_cast&lt;const char*&gt;(&amp;fileSize),\r\n        sizeof(fileSize)) != sizeof(fileSize)) {\r\n        return -2;\r\n    }\r\n\r\n    char* buffer = new char[chunkSize];\r\n    bool errored = false;\r\n    int64_t i = fileSize;\r\n    auto bytes_sent = 0;\r\n    while (i &gt; 0) {\r\n        const int64_t ssize = __min(i, (int64_t)chunkSize);\r\n        if (!file.read(buffer, ssize)) { errored = true; break; }\r\n        const int l = SendBuffer(s, buffer, (int)ssize);\r\n        bytes_sent += l;\r\n        int bi = 0;\r\n        if (l &lt; 0) { std::cout &lt;&lt;&quot; err :&quot;&lt;&lt; l&lt;&lt;std::endl; errored = true; break; }\r\n        i -= l;\r\n    }\r\n    delete[] buffer;\r\n\r\n    file.close();\r\n    std::cout &lt;&lt; &quot;bytes_sent:&quot; &lt;&lt; bytes_sent &lt;&lt; std::endl;\r\n    return errored ? -3 : fileSize;\r\n}\r\n```","title":"C++ client socket sends original file and file size, Java client always get 8 bytes more. Even after force limiting to -8 bytes file is unreadable","body":"<p>For a while, I am troubled with this issue.</p>\n<p>Using a snippet of C++ code, which I found here, and in my opinion should do a good job actually sending exact amount of data, I guess the problem is in the Java code or something unknown.</p>\n<p>Also, when sending simple <code>&quot;Hello World&quot;</code> data, transfer is done correctly.</p>\n<p>I would be grateful is somebody could solve it, or give a valuable advice.\nI am running Windows 10 with jdk1.8.0_221 and Visual Studio 2022.</p>\n<p>I understand there could be a need to send <code>filesize</code> as a string and aknowledge flag in return in future, but for simplicity the C++ client is sending only one file with known amount of data.</p>\n<p>Here is the Java side:</p>\n<pre class=\"lang-java prettyprint-override\"><code>while(!Terminate)\n{    \n    byte[] bytes = new byte[1];//code was different for a real buffer \n    //...still +8 bytes\n    while (in.available() &gt; 0) \n    {\n        in.read(bytes);\n        out.write(bytes);\n        out.flush();\n    }\n}\nout.close();\n</code></pre>\n<ul>\n<li>8 bytes again after I tried this:</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>int filesize = 15670;\nint cnt = 0;\nwhile (cnt&lt;filesize)\n{\n    out.write(in.read());\n    out.flush();\n    cnt++;\n}\n</code></pre>\n<p>It makes me think 8 bytes are added while saving.</p>\n<p>The C++ code:</p>\n<pre class=\"lang-cpp prettyprint-override\"><code>int SendBuffer(SOCKET s, const char* buffer, int bufferSize, int chunkSize = 4 * 1024) {\n    int l = -1;\n    int i = 0;\n    while (i &lt; bufferSize) \n    {\n        int l = send(s, &amp;buffer[i], __min(chunkSize, bufferSize - i), 0);\n        //int l = send(s, &amp;buffer[i], bufferSize , MSG_DONTROUTE);\n        int j = 0;\n        std::cout &lt;&lt; i &lt;&lt; std::endl;\n        while (l &lt; 0) { Beep(433, 1000); j++; std::cout &lt;&lt; &quot;shiban l&quot; &lt;&lt; l &lt;&lt; std::endl; l = send(s, &amp;buffer[i], __min(chunkSize, bufferSize - i), 0); } // this is an error\n        i += l;\n    }\n    return i;\n}\n\nint64_t SendFile(SOCKET s, const std::string fileName, int chunkSize) {\n\n    const int64_t fileSize = GetFileSize(fileName);\n    if (fileSize &lt; 0) { return -1; }\n\n    std::ifstream file(fileName, std::ifstream::binary);\n    if (file.fail()) { return -1; }\n\n    if (SendBuffer(s, reinterpret_cast&lt;const char*&gt;(&amp;fileSize),\n        sizeof(fileSize)) != sizeof(fileSize)) {\n        return -2;\n    }\n\n    char* buffer = new char[chunkSize];\n    bool errored = false;\n    int64_t i = fileSize;\n    auto bytes_sent = 0;\n    while (i &gt; 0) {\n        const int64_t ssize = __min(i, (int64_t)chunkSize);\n        if (!file.read(buffer, ssize)) { errored = true; break; }\n        const int l = SendBuffer(s, buffer, (int)ssize);\n        bytes_sent += l;\n        int bi = 0;\n        if (l &lt; 0) { std::cout &lt;&lt;&quot; err :&quot;&lt;&lt; l&lt;&lt;std::endl; errored = true; break; }\n        i -= l;\n    }\n    delete[] buffer;\n\n    file.close();\n    std::cout &lt;&lt; &quot;bytes_sent:&quot; &lt;&lt; bytes_sent &lt;&lt; std::endl;\n    return errored ? -3 : fileSize;\n}\n</code></pre>\n"},{"tags":["java","arrays","methods"],"comments":[{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":0,"creation_date":1643319505,"post_id":70886038,"comment_id":125315414,"body_markdown":"When you use the `addJob()` method you have `currentJobIndex = 0;` so items will only ever be inserted al position 0 (and will overwrite anything else that was there). You need to increment this number and ensure that your array has space. You should probably be using an ArrayList that already has an add method.","body":"When you use the <code>addJob()</code> method you have <code>currentJobIndex = 0;</code> so items will only ever be inserted al position 0 (and will overwrite anything else that was there). You need to increment this number and ensure that your array has space. You should probably be using an ArrayList that already has an add method."},{"owner":{"account_id":24076949,"reputation":19,"user_id":18052143,"display_name":"cattedad"},"score":0,"creation_date":1643319749,"post_id":70886038,"comment_id":125315498,"body_markdown":"Thank you, removing the currentJobIndex = 0; resolved the issue!","body":"Thank you, removing the currentJobIndex = 0; resolved the issue!"}],"answers":[{"tags":[],"owner":{"account_id":17672917,"reputation":186,"user_id":12828626,"display_name":"Timo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643319621,"creation_date":1643319621,"answer_id":70886108,"question_id":70886038,"body_markdown":"This is because every time you call the method, `currentJobIndex = 0;` is executed again, so you do not go to the next position in the array, but always write to `jobs[0]`. `currentJobIndex` needs to be a global variable, like this: \r\n```java\r\npublic class Job(){\r\n   private int[] jobs = new int[5]; // Specify length of array here.\r\n   private currentJobIndex = 0;\r\n\r\n   public void addJob(){\r\n    jobs[currentJobIndex] = new Job();\r\n    jobs[currentJobIndex].getInformation();\r\n    jobs[currentJobIndex].calculateCost();\r\n    jobs[currentJobIndex].display();\r\n    jobs[currentJobIndex].getCostTotal();\r\n    currentJobIndex++;\r\n   }\r\n}\r\n```\r\n\r\n(Sidenote: Since you probably don&#39;t know how many jobs will be stored in advance, a list would be the better choice here.)","title":"Saving objects to an array and printing stored object data","body":"<p>This is because every time you call the method, <code>currentJobIndex = 0;</code> is executed again, so you do not go to the next position in the array, but always write to <code>jobs[0]</code>. <code>currentJobIndex</code> needs to be a global variable, like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Job(){\n   private int[] jobs = new int[5]; // Specify length of array here.\n   private currentJobIndex = 0;\n\n   public void addJob(){\n    jobs[currentJobIndex] = new Job();\n    jobs[currentJobIndex].getInformation();\n    jobs[currentJobIndex].calculateCost();\n    jobs[currentJobIndex].display();\n    jobs[currentJobIndex].getCostTotal();\n    currentJobIndex++;\n   }\n}\n</code></pre>\n<p>(Sidenote: Since you probably don't know how many jobs will be stored in advance, a list would be the better choice here.)</p>\n"},{"tags":[],"owner":{"account_id":24074560,"reputation":84,"user_id":18050083,"display_name":"PJMan0300"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1643319918,"creation_date":1643319918,"answer_id":70886165,"question_id":70886038,"body_markdown":"This is because currentJobIndex doesn&#39;t increment when you add a new job.\r\n\r\nYou can fix this by adding:\r\n\r\n```\r\npublic static void addJob() { currentJobIndex = 0;\r\n\r\n    jobs[currentJobIndex] = new Job();\r\n    jobs[currentJobIndex].getInformation();\r\n    jobs[currentJobIndex].calculateCost();\r\n    jobs[currentJobIndex].display();\r\n    jobs[currentJobIndex].getCostTotal();\r\n\r\n    currentJobIndex++;\r\n\r\n     }\r\n```","title":"Saving objects to an array and printing stored object data","body":"<p>This is because currentJobIndex doesn't increment when you add a new job.</p>\n<p>You can fix this by adding:</p>\n<pre><code>public static void addJob() { currentJobIndex = 0;\n\n    jobs[currentJobIndex] = new Job();\n    jobs[currentJobIndex].getInformation();\n    jobs[currentJobIndex].calculateCost();\n    jobs[currentJobIndex].display();\n    jobs[currentJobIndex].getCostTotal();\n\n    currentJobIndex++;\n\n     }\n</code></pre>\n"}],"owner":{"account_id":24076949,"reputation":19,"user_id":18052143,"display_name":"cattedad"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1643319918,"creation_date":1643319276,"question_id":70886038,"body_markdown":"I have this method created to ask a user to input job details, and save to an array:\r\n\r\n\r\npublic static void addJob() {\r\n        currentJobIndex = 0;\r\n\r\n        jobs[currentJobIndex] = new Job();\r\n        jobs[currentJobIndex].getInformation();\r\n        jobs[currentJobIndex].calculateCost();\r\n        jobs[currentJobIndex].display();\r\n        jobs[currentJobIndex].getCostTotal();\r\n        currentJobIndex++;\r\n\r\nI have this method to display all jobs saved in the array:\r\n\r\n public static void showAllJobs() {\r\n\r\n        for (Job job : jobs) {\r\n            if (job != null) {\r\n                job.display();\r\n            }\r\n        }\r\n\r\n    }\r\n\r\nIt is only showing the last entered job and I cant figure out why, any assistance would be appreciated!","title":"Saving objects to an array and printing stored object data","body":"<p>I have this method created to ask a user to input job details, and save to an array:</p>\n<p>public static void addJob() {\ncurrentJobIndex = 0;</p>\n<pre><code>    jobs[currentJobIndex] = new Job();\n    jobs[currentJobIndex].getInformation();\n    jobs[currentJobIndex].calculateCost();\n    jobs[currentJobIndex].display();\n    jobs[currentJobIndex].getCostTotal();\n    currentJobIndex++;\n</code></pre>\n<p>I have this method to display all jobs saved in the array:</p>\n<p>public static void showAllJobs() {</p>\n<pre><code>    for (Job job : jobs) {\n        if (job != null) {\n            job.display();\n        }\n    }\n\n}\n</code></pre>\n<p>It is only showing the last entered job and I cant figure out why, any assistance would be appreciated!</p>\n"},{"tags":["java","time","big-o"],"comments":[{"owner":{"account_id":8666367,"reputation":9194,"user_id":6486738,"accept_rate":100,"display_name":"Ted Klein Bergman"},"score":4,"creation_date":1643316274,"post_id":70885457,"comment_id":125314361,"body_markdown":"Yes, you must take the method&#39;s time-complexity into consideration. Otherwise you would be able to make any algorithm to O(1) by using a helper function.","body":"Yes, you must take the method&#39;s time-complexity into consideration. Otherwise you would be able to make any algorithm to O(1) by using a helper function."},{"owner":{"account_id":15613464,"reputation":23,"user_id":11264209,"display_name":"Ivan Syrups"},"score":0,"creation_date":1643316599,"post_id":70885457,"comment_id":125314469,"body_markdown":"@TedKleinBergman Simple answer, but thank you! I&#39;ve always gotten that hunch, but thanks for confirming","body":"@TedKleinBergman Simple answer, but thank you! I&#39;ve always gotten that hunch, but thanks for confirming"}],"answers":[{"tags":[],"owner":{"account_id":19880578,"reputation":119,"user_id":14564685,"display_name":"marcellorinaldo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1643319731,"creation_date":1643319731,"answer_id":70886132,"question_id":70885457,"body_markdown":"It would be O(n) in the worst case. If you think about it, it boils down to estimating the time complexity of testing for equality, the encodings do not add additional complexity to the problem.\r\n\r\nThe complexity of verifying that two strings are equal is most of the times &lt; O(n). For example, the `equals` method could simply compare the length of the strings before actually comparing the contents of the strings, which has constant complexity. If the strings are of equal length, then the `equals` method could traverse the whole strings, thus O(n).\r\n\r\nIn CS stackexchange, the subject is discussed in more detail. Check it out here: https://cs.stackexchange.com/questions/127899/what-is-the-expected-time-complexity-of-checking-equality-of-two-arbitrary-strin","title":"Big-O notation of a method that calls a method of O(n)","body":"<p>It would be O(n) in the worst case. If you think about it, it boils down to estimating the time complexity of testing for equality, the encodings do not add additional complexity to the problem.</p>\n<p>The complexity of verifying that two strings are equal is most of the times &lt; O(n). For example, the <code>equals</code> method could simply compare the length of the strings before actually comparing the contents of the strings, which has constant complexity. If the strings are of equal length, then the <code>equals</code> method could traverse the whole strings, thus O(n).</p>\n<p>In CS stackexchange, the subject is discussed in more detail. Check it out here: <a href=\"https://cs.stackexchange.com/questions/127899/what-is-the-expected-time-complexity-of-checking-equality-of-two-arbitrary-strin\">https://cs.stackexchange.com/questions/127899/what-is-the-expected-time-complexity-of-checking-equality-of-two-arbitrary-strin</a></p>\n"}],"owner":{"account_id":15613464,"reputation":23,"user_id":11264209,"display_name":"Ivan Syrups"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":391,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643319731,"creation_date":1643316114,"question_id":70885457,"body_markdown":"        \r\n    public boolean equal(MyLinkedList a, MyLinkedList b) {\r\n        String instanceA = encode(a);\r\n        String instanceB = encode(b);\r\n        return instanceA.equals(instanceB);\r\n    }\r\n\r\nI was working on a project and looked at my code and realized I didn&#39;t know the time complexity rules of calling methods. \r\n\r\nWhat would be the big-O notation of my equal method if the encode(String value) is of O(n)? Would it take into consideration the big-o notation of O(n) or would it be a simple O(1)?\r\n","title":"Big-O notation of a method that calls a method of O(n)","body":"<pre><code>public boolean equal(MyLinkedList a, MyLinkedList b) {\n    String instanceA = encode(a);\n    String instanceB = encode(b);\n    return instanceA.equals(instanceB);\n}\n</code></pre>\n<p>I was working on a project and looked at my code and realized I didn't know the time complexity rules of calling methods.</p>\n<p>What would be the big-O notation of my equal method if the encode(String value) is of O(n)? Would it take into consideration the big-o notation of O(n) or would it be a simple O(1)?</p>\n"},{"tags":["java","java-11","color-space"],"owner":{"account_id":1138987,"reputation":615,"user_id":1123409,"accept_rate":12,"display_name":"CasaDelGato"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1643319428,"creation_date":1643319428,"question_id":70886075,"body_markdown":"I need to create a Custom colorspace that will have 5 components.  Then I will be drawing on that colorspace using a 5 component paint.  Sample code:\r\n\r\n    \t\tColorSpace cs5 = new ColorSpace5();\r\n\r\n\t\t\t// Create colored model and BufferedImage that uses the CMY color space\r\n\t\t\tColorModel outputCM = new ComponentColorModel(cs5, false, false, Transparency.OPAQUE, DataBuffer.TYPE_BYTE);\r\n\t\t\tWritableRaster imageRaster = outputCM.createCompatibleWritableRaster(50, 50);\r\n\t\t\tBufferedImage bi5 = new BufferedImage(outputCM, imageRaster, false, null);\r\n\r\n\t\t\t// Graphics2D to draw onto the image\r\n\t\t\tGraphics2D g2 = bi5.createGraphics();\r\n\r\n\t\t\t// Create Paint object that uses 5 components\r\n\t\t\tColorPaintCS blackPaint = new ColorPaintCS(new int[] { 0, 0, 0, 255, 125 }, outputCM);\r\n\t\t\tg2.setPaint(blackPaint);\r\n\t\t\tg2.fillRect(0, 0, 50, 50);\r\n\r\nThe problem is that Java ALWAYS converts to ARGB to do the blit operations.  Even when you are copying between things with the same Colorspace.\r\nI did some digging around in the AWT code and found that\r\n\r\n    AlphaPaintPipe.renderPathTile, line 152\r\n                            context.lastBlit = Blit.getFromCache(srcData.getSurfaceType(),\r\n                                                  comptype,\r\n                                                  dstData.getSurfaceType());\r\n\r\nboth srcData, dstData have the correct colorModel\r\n\r\nI think that Blit.getFromCache() needs to be able to return a simple data copy Blit when both src and dst have the same Color Model.\r\nThe Blit returned only depends on the SurfaceType - and is always OpaqueCopyAnyToArgb - so always does a colorspace conversion to/from ARGB.\r\n\r\nThen in MaskBlit.setupGeneralBinaryOp it sets up converters for To/From ARGB.\r\n\r\nI tried forcing the convertsrc and convertdst fields in MaskBlit to be null, which avoids the color conversion, but then MakeBlit.MaskBlit (around line 219) calls performop.MaskBlit, and that throws a NPE.\r\n\r\nI found what appears to be relevant JDK bugs:\r\nhttps://bugs.openjdk.java.net/browse/JDK-8226923\r\nhttps://bugs.openjdk.java.net/browse/JDK-6349627\r\n\r\nI thought I might be able to make a Blit that would work, but it fails as the base class sun.java2d.loops.MaskBlit has a lot of native methods and subclassing doesn&#39;t seem to work.\r\n\r\n\tsun.java2d.loops.GraphicsPrimitive add[] = { new MaskBlitCS() };\r\n\tsun.java2d.loops.GraphicsPrimitiveMgr.register(add);\r\n\r\nfails with a \r\n\r\n    java.lang.UnsatisfiedLinkError: &#39;void sun.java2d.loops.GraphicsPrimitiveMgr.initIDs(java.lang.Class, java.lang.Class, java.lang.Class, java.lang.Class, java.lang.Class, java.lang.Class, java.lang.Class, java.lang.Class, java.lang.Class, java.lang.Class, java.lang.Class)&#39;\r\n    \tat java.desktop/sun.java2d.loops.GraphicsPrimitiveMgr.initIDs(Native Method)\r\n    \tat java.desktop/sun.java2d.loops.GraphicsPrimitiveMgr.&lt;clinit&gt;(GraphicsPrimitiveMgr.java:56)\r\n    \tat java.desktop/sun.java2d.loops.MaskBlit.&lt;clinit&gt;(MaskBlit.java:112)\r\n\r\n\r\n\r\n    public class MaskBlitCS extends sun.java2d.loops.MaskBlit {\r\n    \tprivate static final Logger log = LogManager.getLogger();\r\n    \r\n    \tpublic MaskBlitCS(\tfinal SurfaceType srctype,\r\n    \t\t\t\t\tfinal CompositeType comptype,\r\n    \t\t\t\t\tfinal SurfaceType dsttype) {\r\n    \t\tsuper(SurfaceType.Any, CompositeType.OpaqueSrcOverNoEa, SurfaceType.Any);\r\n    \t}\r\n    \r\n    \tpublic MaskBlitCS() {\r\n    \t\tsuper(SurfaceType.Any, CompositeType.OpaqueSrcOverNoEa, SurfaceType.Any);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic synchronized void MaskBlit(\tfinal SurfaceData srcData,\r\n    \t\t\t\t\t\t\tfinal SurfaceData dstData,\r\n    \t\t\t\t\t\t\tfinal Composite comp,\r\n    \t\t\t\t\t\t\tfinal Region clip,\r\n    \t\t\t\t\t\t\tfinal int srcx,\r\n    \t\t\t\t\t\t\tfinal int srcy,\r\n    \t\t\t\t\t\t\tfinal int dstx,\r\n    \t\t\t\t\t\t\tfinal int dsty,\r\n    \t\t\t\t\t\t\tfinal int width,\r\n    \t\t\t\t\t\t\tfinal int height,\r\n    \t\t\t\t\t\t\tfinal byte mask[],\r\n    \t\t\t\t\t\t\tfinal int offset,\r\n    \t\t\t\t\t\t\tfinal int scan) {\r\n    \t\tlog.debug(&quot;MaskBlit: {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}&quot;, srcData, dstData, comp, clip, srcx, srcy, dstx, dsty, width, height, offset, scan);\r\n    \t\tSurfaceData src, dst;\r\n    \t\tRegion opclip;\r\n    \t\tint sx, sy, dx, dy;\r\n    \r\n    \t\tif (!srcData.getColorModel().equals(dstData.getColorModel())) {\r\n    \t\t\tthrow new IllegalArgumentException(&quot;Color Models Must Match&quot;);\r\n    \t\t}\r\n    \r\n    \t\tsrc = srcData;\r\n    \t\tsx = srcx;\r\n    \t\tsy = srcy;\r\n    \r\n    \t\tdst = dstData;\r\n    \t\tdx = dstx;\r\n    \t\tdy = dsty;\r\n    \t\topclip = clip;\r\n    \r\n    \t\tRaster srcR = srcData.getRaster(sx, sy, width, height);\r\n    \t\tDataBuffer srcDB = srcR.getDataBuffer();\r\n    \t\tRaster dstR = dstData.getRaster(dx, dy, width, height);\r\n    \t\tDataBuffer dstDB = dstR.getDataBuffer();\r\n    \r\n    \t\tlog.debug(&quot;MaskBlit: SRC {}, {}, {}&quot;, srcDB.getDataType(), srcDB.getNumBanks(), srcDB.getSize());\r\n    \t\tlog.debug(&quot;MaskBlit: DST {}, {}, {}&quot;, dstDB.getDataType(), dstDB.getNumBanks(), dstDB.getSize());\r\n    \r\n    \t}\r\n    }\r\n\r\n\r\nDoes anyone know of a way to use custom colorspaces without getting the ARGB conversions?\r\n\r\n\r\n\r\n","title":"Custom Java Colorspace requires impossible conversions","body":"<p>I need to create a Custom colorspace that will have 5 components.  Then I will be drawing on that colorspace using a 5 component paint.  Sample code:</p>\n<pre><code>        ColorSpace cs5 = new ColorSpace5();\n\n        // Create colored model and BufferedImage that uses the CMY color space\n        ColorModel outputCM = new ComponentColorModel(cs5, false, false, Transparency.OPAQUE, DataBuffer.TYPE_BYTE);\n        WritableRaster imageRaster = outputCM.createCompatibleWritableRaster(50, 50);\n        BufferedImage bi5 = new BufferedImage(outputCM, imageRaster, false, null);\n\n        // Graphics2D to draw onto the image\n        Graphics2D g2 = bi5.createGraphics();\n\n        // Create Paint object that uses 5 components\n        ColorPaintCS blackPaint = new ColorPaintCS(new int[] { 0, 0, 0, 255, 125 }, outputCM);\n        g2.setPaint(blackPaint);\n        g2.fillRect(0, 0, 50, 50);\n</code></pre>\n<p>The problem is that Java ALWAYS converts to ARGB to do the blit operations.  Even when you are copying between things with the same Colorspace.\nI did some digging around in the AWT code and found that</p>\n<pre><code>AlphaPaintPipe.renderPathTile, line 152\n                        context.lastBlit = Blit.getFromCache(srcData.getSurfaceType(),\n                                              comptype,\n                                              dstData.getSurfaceType());\n</code></pre>\n<p>both srcData, dstData have the correct colorModel</p>\n<p>I think that Blit.getFromCache() needs to be able to return a simple data copy Blit when both src and dst have the same Color Model.\nThe Blit returned only depends on the SurfaceType - and is always OpaqueCopyAnyToArgb - so always does a colorspace conversion to/from ARGB.</p>\n<p>Then in MaskBlit.setupGeneralBinaryOp it sets up converters for To/From ARGB.</p>\n<p>I tried forcing the convertsrc and convertdst fields in MaskBlit to be null, which avoids the color conversion, but then MakeBlit.MaskBlit (around line 219) calls performop.MaskBlit, and that throws a NPE.</p>\n<p>I found what appears to be relevant JDK bugs:\n<a href=\"https://bugs.openjdk.java.net/browse/JDK-8226923\" rel=\"nofollow noreferrer\">https://bugs.openjdk.java.net/browse/JDK-8226923</a>\n<a href=\"https://bugs.openjdk.java.net/browse/JDK-6349627\" rel=\"nofollow noreferrer\">https://bugs.openjdk.java.net/browse/JDK-6349627</a></p>\n<p>I thought I might be able to make a Blit that would work, but it fails as the base class sun.java2d.loops.MaskBlit has a lot of native methods and subclassing doesn't seem to work.</p>\n<pre><code>sun.java2d.loops.GraphicsPrimitive add[] = { new MaskBlitCS() };\nsun.java2d.loops.GraphicsPrimitiveMgr.register(add);\n</code></pre>\n<p>fails with a</p>\n<pre><code>java.lang.UnsatisfiedLinkError: 'void sun.java2d.loops.GraphicsPrimitiveMgr.initIDs(java.lang.Class, java.lang.Class, java.lang.Class, java.lang.Class, java.lang.Class, java.lang.Class, java.lang.Class, java.lang.Class, java.lang.Class, java.lang.Class, java.lang.Class)'\n    at java.desktop/sun.java2d.loops.GraphicsPrimitiveMgr.initIDs(Native Method)\n    at java.desktop/sun.java2d.loops.GraphicsPrimitiveMgr.&lt;clinit&gt;(GraphicsPrimitiveMgr.java:56)\n    at java.desktop/sun.java2d.loops.MaskBlit.&lt;clinit&gt;(MaskBlit.java:112)\n\n\n\npublic class MaskBlitCS extends sun.java2d.loops.MaskBlit {\n    private static final Logger log = LogManager.getLogger();\n\n    public MaskBlitCS(  final SurfaceType srctype,\n                    final CompositeType comptype,\n                    final SurfaceType dsttype) {\n        super(SurfaceType.Any, CompositeType.OpaqueSrcOverNoEa, SurfaceType.Any);\n    }\n\n    public MaskBlitCS() {\n        super(SurfaceType.Any, CompositeType.OpaqueSrcOverNoEa, SurfaceType.Any);\n    }\n\n    @Override\n    public synchronized void MaskBlit(  final SurfaceData srcData,\n                            final SurfaceData dstData,\n                            final Composite comp,\n                            final Region clip,\n                            final int srcx,\n                            final int srcy,\n                            final int dstx,\n                            final int dsty,\n                            final int width,\n                            final int height,\n                            final byte mask[],\n                            final int offset,\n                            final int scan) {\n        log.debug(&quot;MaskBlit: {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}&quot;, srcData, dstData, comp, clip, srcx, srcy, dstx, dsty, width, height, offset, scan);\n        SurfaceData src, dst;\n        Region opclip;\n        int sx, sy, dx, dy;\n\n        if (!srcData.getColorModel().equals(dstData.getColorModel())) {\n            throw new IllegalArgumentException(&quot;Color Models Must Match&quot;);\n        }\n\n        src = srcData;\n        sx = srcx;\n        sy = srcy;\n\n        dst = dstData;\n        dx = dstx;\n        dy = dsty;\n        opclip = clip;\n\n        Raster srcR = srcData.getRaster(sx, sy, width, height);\n        DataBuffer srcDB = srcR.getDataBuffer();\n        Raster dstR = dstData.getRaster(dx, dy, width, height);\n        DataBuffer dstDB = dstR.getDataBuffer();\n\n        log.debug(&quot;MaskBlit: SRC {}, {}, {}&quot;, srcDB.getDataType(), srcDB.getNumBanks(), srcDB.getSize());\n        log.debug(&quot;MaskBlit: DST {}, {}, {}&quot;, dstDB.getDataType(), dstDB.getNumBanks(), dstDB.getSize());\n\n    }\n}\n</code></pre>\n<p>Does anyone know of a way to use custom colorspaces without getting the ARGB conversions?</p>\n"},{"tags":["java","spring-boot","jackson"],"answers":[{"tags":[],"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643319412,"creation_date":1643319412,"answer_id":70886070,"question_id":70886028,"body_markdown":"Use the following instead:\r\n```java\r\npublic class CompSetResponse {\r\n  @JsonProperty(&quot;compset&quot;)\r\n  private List&lt;Competitor&gt; compset;\r\n}\r\n```\r\n\r\nYour current code is expecting a JSON as follows:\r\n```json\r\n{\r\n  &quot;ref&quot;: {\r\n    &quot;id&quot;: &quot;1011&quot;\r\n  },\r\n  &quot;compset&quot;: {\r\n    &quot;competitors&quot;: [\r\n        {\r\n          &quot;id&quot;: &quot;23412&quot;\r\n        },\r\n        {\r\n          &quot;id&quot;: &quot;27964&quot;\r\n        },\r\n        {\r\n          &quot;id&quot;: &quot;51193&quot;\r\n        },\r\n        {\r\n          &quot;id&quot;: &quot;74343&quot;\r\n        },\r\n        {\r\n          &quot;id&quot;: &quot;537157&quot;\r\n        },\r\n        {\r\n          &quot;id&quot;: &quot;542023&quot;\r\n        },\r\n        {\r\n          &quot;id&quot;: &quot;601732&quot;\r\n        },\r\n        {\r\n          &quot;id&quot;: &quot;793808&quot;\r\n        },\r\n        {\r\n          &quot;id&quot;: &quot;891169&quot;\r\n        },\r\n        {\r\n          &quot;id&quot;: &quot;1246443&quot;\r\n        }\r\n    ],\r\n  },\r\n   &quot;isCompliant&quot;: false,\r\n    &quot;updateTimestamp&quot;: null,\r\n    &quot;remainingMilliseconds&quot;: 0,\r\n    &quot;totalLockoutDays&quot;: 15\r\n}\r\n```","title":"how to serialize this json with jackson?","body":"<p>Use the following instead:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class CompSetResponse {\n  @JsonProperty(&quot;compset&quot;)\n  private List&lt;Competitor&gt; compset;\n}\n</code></pre>\n<p>Your current code is expecting a JSON as follows:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;ref&quot;: {\n    &quot;id&quot;: &quot;1011&quot;\n  },\n  &quot;compset&quot;: {\n    &quot;competitors&quot;: [\n        {\n          &quot;id&quot;: &quot;23412&quot;\n        },\n        {\n          &quot;id&quot;: &quot;27964&quot;\n        },\n        {\n          &quot;id&quot;: &quot;51193&quot;\n        },\n        {\n          &quot;id&quot;: &quot;74343&quot;\n        },\n        {\n          &quot;id&quot;: &quot;537157&quot;\n        },\n        {\n          &quot;id&quot;: &quot;542023&quot;\n        },\n        {\n          &quot;id&quot;: &quot;601732&quot;\n        },\n        {\n          &quot;id&quot;: &quot;793808&quot;\n        },\n        {\n          &quot;id&quot;: &quot;891169&quot;\n        },\n        {\n          &quot;id&quot;: &quot;1246443&quot;\n        }\n    ],\n  },\n   &quot;isCompliant&quot;: false,\n    &quot;updateTimestamp&quot;: null,\n    &quot;remainingMilliseconds&quot;: 0,\n    &quot;totalLockoutDays&quot;: 15\n}\n</code></pre>\n"}],"owner":{"display_name":"user17485523"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70886070,"answer_count":1,"score":0,"last_activity_date":1643319412,"creation_date":1643319222,"question_id":70886028,"body_markdown":"I have incoming json which looks like this:\r\n\r\n    {\r\n      &quot;ref&quot;: {\r\n        &quot;id&quot;: &quot;1011&quot;\r\n      },\r\n      &quot;compset&quot;: [\r\n          {\r\n            &quot;id&quot;: &quot;23412&quot;\r\n          },\r\n          {\r\n            &quot;id&quot;: &quot;27964&quot;\r\n          },\r\n          {\r\n            &quot;id&quot;: &quot;51193&quot;\r\n          },\r\n          {\r\n            &quot;id&quot;: &quot;74343&quot;\r\n          },\r\n          {\r\n            &quot;id&quot;: &quot;537157&quot;\r\n          },\r\n          {\r\n            &quot;id&quot;: &quot;542023&quot;\r\n          },\r\n          {\r\n            &quot;id&quot;: &quot;601732&quot;\r\n          },\r\n          {\r\n            &quot;id&quot;: &quot;793808&quot;\r\n          },\r\n          {\r\n            &quot;id&quot;: &quot;891169&quot;\r\n          },\r\n          {\r\n            &quot;id&quot;: &quot;1246443&quot;\r\n          }\r\n     ],\r\n       &quot;isCompliant&quot;: false,\r\n        &quot;updateTimestamp&quot;: null,\r\n        &quot;remainingMilliseconds&quot;: 0,\r\n        &quot;totalLockoutDays&quot;: 15\r\n    }\r\n\r\nI have three classes that handle this response:\r\n\r\nfor &quot;id&quot; field:\r\n\r\n    public class Competitor {\r\n      @JsonProperty(&quot;id&quot;)\r\n      @JsonFormat(shape = JsonFormat.Shape.NUMBER_INT)\r\n      private Integer id; // this should be integer, can&#39;t change the type\r\n    }\r\n\r\nfor &quot;compset&quot; field:\r\n\r\n    public class PropertyCompetitorsModel {\r\n      private List&lt;Competitor&gt; competitors;\r\n    }\r\n\r\nfor response itself:\r\n\r\n    public class CompSetResponse {\r\n      @JsonProperty(&quot;compset&quot;)\r\n      private PropertyCompetitorsModel compset;\r\n    }\r\n\r\nAs you can see I need only compset field.\r\n\r\nWith code above I am having this error:\r\n\r\n    Cannot deserialize instance of PropertyCompetitorsModel out of START_ARRAY token\r\n\r\nJackson library is used","title":"how to serialize this json with jackson?","body":"<p>I have incoming json which looks like this:</p>\n<pre><code>{\n  &quot;ref&quot;: {\n    &quot;id&quot;: &quot;1011&quot;\n  },\n  &quot;compset&quot;: [\n      {\n        &quot;id&quot;: &quot;23412&quot;\n      },\n      {\n        &quot;id&quot;: &quot;27964&quot;\n      },\n      {\n        &quot;id&quot;: &quot;51193&quot;\n      },\n      {\n        &quot;id&quot;: &quot;74343&quot;\n      },\n      {\n        &quot;id&quot;: &quot;537157&quot;\n      },\n      {\n        &quot;id&quot;: &quot;542023&quot;\n      },\n      {\n        &quot;id&quot;: &quot;601732&quot;\n      },\n      {\n        &quot;id&quot;: &quot;793808&quot;\n      },\n      {\n        &quot;id&quot;: &quot;891169&quot;\n      },\n      {\n        &quot;id&quot;: &quot;1246443&quot;\n      }\n ],\n   &quot;isCompliant&quot;: false,\n    &quot;updateTimestamp&quot;: null,\n    &quot;remainingMilliseconds&quot;: 0,\n    &quot;totalLockoutDays&quot;: 15\n}\n</code></pre>\n<p>I have three classes that handle this response:</p>\n<p>for &quot;id&quot; field:</p>\n<pre><code>public class Competitor {\n  @JsonProperty(&quot;id&quot;)\n  @JsonFormat(shape = JsonFormat.Shape.NUMBER_INT)\n  private Integer id; // this should be integer, can't change the type\n}\n</code></pre>\n<p>for &quot;compset&quot; field:</p>\n<pre><code>public class PropertyCompetitorsModel {\n  private List&lt;Competitor&gt; competitors;\n}\n</code></pre>\n<p>for response itself:</p>\n<pre><code>public class CompSetResponse {\n  @JsonProperty(&quot;compset&quot;)\n  private PropertyCompetitorsModel compset;\n}\n</code></pre>\n<p>As you can see I need only compset field.</p>\n<p>With code above I am having this error:</p>\n<pre><code>Cannot deserialize instance of PropertyCompetitorsModel out of START_ARRAY token\n</code></pre>\n<p>Jackson library is used</p>\n"},{"tags":["java","visitor-pattern"],"comments":[{"owner":{"account_id":22194,"reputation":18092,"user_id":54506,"accept_rate":78,"display_name":"Jayan"},"score":1,"creation_date":1431693561,"post_id":30259243,"comment_id":48619106,"body_markdown":"_actually it gives a nice boost in my scenario_ . really ? How?","body":"<i>actually it gives a nice boost in my scenario</i> . really ? How?"},{"owner":{"account_id":6093107,"reputation":23152,"user_id":4754790,"accept_rate":94,"display_name":"Dragan Bozanovic"},"score":0,"creation_date":1431693686,"post_id":30259243,"comment_id":48619190,"body_markdown":"Yes, I would also like to see the measured numbers.","body":"Yes, I would also like to see the measured numbers."},{"owner":{"account_id":2050891,"reputation":8031,"user_id":1829943,"accept_rate":84,"display_name":"CoffeDeveloper"},"score":0,"creation_date":1431693996,"post_id":30259243,"comment_id":48619394,"body_markdown":"15% faster. exploited that in 20 places over 25 methods (the real visitor has 25 methods for now). Also easier to debug because stack trace becomes smaller, why timing matters for you?","body":"15% faster. exploited that in 20 places over 25 methods (the real visitor has 25 methods for now). Also easier to debug because stack trace becomes smaller, why timing matters for you?"},{"owner":{"account_id":2478127,"reputation":19514,"user_id":2158288,"display_name":"ZhongYu"},"score":0,"creation_date":1431694304,"post_id":30259243,"comment_id":48619607,"body_markdown":"relevant - double-dispatch without visitor pattern - http://stackoverflow.com/questions/21032017/java-class-cast-and-overload/21032598#21032598","body":"relevant - double-dispatch without visitor pattern - <a href=\"http://stackoverflow.com/questions/21032017/java-class-cast-and-overload/21032598#21032598\" title=\"java class cast and overload\">stackoverflow.com/questions/21032017/&hellip;</a>"},{"owner":{"account_id":2478127,"reputation":19514,"user_id":2158288,"display_name":"ZhongYu"},"score":0,"creation_date":1431694414,"post_id":30259243,"comment_id":48619702,"body_markdown":"@Jayan - it&#39;s plausible. the new code is much easier to optimize for JVM; it&#39;s probably inlined.","body":"@Jayan - it&#39;s plausible. the new code is much easier to optimize for JVM; it&#39;s probably inlined."},{"owner":{"account_id":22194,"reputation":18092,"user_id":54506,"accept_rate":78,"display_name":"Jayan"},"score":0,"creation_date":1431694557,"post_id":30259243,"comment_id":48619809,"body_markdown":"I would like to see a number after running tests with JMH(http://openjdk.java.net/projects/code-tools/jmh/).  My feeling once the method runs of some time, JVM optimization as good as you can get.","body":"I would like to see a number after running tests with JMH(<a href=\"http://openjdk.java.net/projects/code-tools/jmh/\" rel=\"nofollow noreferrer\">openjdk.java.net/projects/code-tools/jmh</a>).  My feeling once the method runs of some time, JVM optimization as good as you can get."},{"owner":{"account_id":2478127,"reputation":19514,"user_id":2158288,"display_name":"ZhongYu"},"score":0,"creation_date":1431695003,"post_id":30259243,"comment_id":48620134,"body_markdown":"@Jayan if he has 20 leaf node types among 25 node types, it is very believable.","body":"@Jayan if he has 20 leaf node types among 25 node types, it is very believable."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1431693856,"creation_date":1431693856,"answer_id":30259872,"question_id":30259243,"body_markdown":"Could it cause problems?  Hard to say.  (I guess it could cause surprises if the grammar changed ...)\r\n\r\nBut I think the real issue is whether this is a **worthwhile** optimization.  Specifically, is saving two method calls going to make a significant difference in the big picture?  My intuition is that it wouldn&#39;t.\r\n\r\nAnd does the performance of this interpreter really matter?\r\n\r\nAnd if it does, why are you using the visitor pattern in the interpreter?  Shouldn&#39;t you be compiling to an intermediate virtual machine code?  Or to bytecodes?\r\n\r\n","title":"Is skipping &quot;accept&quot; where type is known, a valid optimization for the Visitor pattern?","body":"<p>Could it cause problems?  Hard to say.  (I guess it could cause surprises if the grammar changed ...)</p>\n\n<p>But I think the real issue is whether this is a <strong>worthwhile</strong> optimization.  Specifically, is saving two method calls going to make a significant difference in the big picture?  My intuition is that it wouldn't.</p>\n\n<p>And does the performance of this interpreter really matter?</p>\n\n<p>And if it does, why are you using the visitor pattern in the interpreter?  Shouldn't you be compiling to an intermediate virtual machine code?  Or to bytecodes?</p>\n"},{"tags":[],"owner":{"account_id":6093107,"reputation":23152,"user_id":4754790,"accept_rate":94,"display_name":"Dragan Bozanovic"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1431694157,"creation_date":1431694157,"answer_id":30259974,"question_id":30259243,"body_markdown":"In this case it would not be a Visitor pattern. And it does not have to be if it suits your requirements, visitors are often misused and lead to over-architecturing.\r\n\r\nHowever, you will loose potential benefits. For example, you will not be able to create a decorator or proxy for Ident and do something additional in the accept method before forwarding the call to the decorated/proxied object.","title":"Is skipping &quot;accept&quot; where type is known, a valid optimization for the Visitor pattern?","body":"<p>In this case it would not be a Visitor pattern. And it does not have to be if it suits your requirements, visitors are often misused and lead to over-architecturing.</p>\n\n<p>However, you will loose potential benefits. For example, you will not be able to create a decorator or proxy for Ident and do something additional in the accept method before forwarding the call to the decorated/proxied object.</p>\n"},{"tags":[],"owner":{"account_id":2478127,"reputation":19514,"user_id":2158288,"display_name":"ZhongYu"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1431696134,"creation_date":1431694941,"answer_id":30260245,"question_id":30259243,"body_markdown":"Visitor is just a complicated scaffold to implement double-dispatch on languages like Java. \r\n\r\nWhen you deal with leaf types, you don&#39;t need double-dispatch; the runtime type is known at the compile time. Dispatch a leaf type directly is not only an optimization, it&#39;s more out of principle.\r\n\r\n\r\nOf course, the problem is, in future, a leaf type may become a super type. With today&#39;s refactor tool in IDEs, this is not a huge problem. \r\n\r\nIt is better to make a simple design for present&#39;s requirement, than to make a complex design for unknown future requirements.\r\n\r\n---\r\n\r\nIn java 8, we can implement double-dispatch with a syntax that&#39;s very close to the real double-dispatch\r\n\r\n    final DoubleDispatch&lt;Root,Void&gt; dd = new DoubleDispatch&lt;&gt;();\r\n\r\n    dd.register(X.class, x-&gt;\r\n    {\r\n        do something with x; its compile time type is X\r\n        return null;\r\n    });\r\n    dd.register(Y.class, y-&gt;\r\n    {\r\n        do something with y; its compile time type is Y\r\n        return null;\r\n    });\r\n    // etc\r\n\r\n    ...\r\n    dd.invoke( something );\r\n\r\n\r\n\r\n    // ----\r\n\r\n    public class DoubleDispatch&lt;T, R&gt;\r\n    {\r\n        public R invoke(T obj){...}\r\n\r\n        public &lt;C extends T&gt; void register(Class&lt;C&gt; type, Function&lt;C,R&gt; func){...}\r\n    }\r\n\r\nsee also - https://stackoverflow.com/questions/21032017/java-class-cast-and-overload/21032598#21032598","title":"Is skipping &quot;accept&quot; where type is known, a valid optimization for the Visitor pattern?","body":"<p>Visitor is just a complicated scaffold to implement double-dispatch on languages like Java. </p>\n\n<p>When you deal with leaf types, you don't need double-dispatch; the runtime type is known at the compile time. Dispatch a leaf type directly is not only an optimization, it's more out of principle.</p>\n\n<p>Of course, the problem is, in future, a leaf type may become a super type. With today's refactor tool in IDEs, this is not a huge problem. </p>\n\n<p>It is better to make a simple design for present's requirement, than to make a complex design for unknown future requirements.</p>\n\n<hr>\n\n<p>In java 8, we can implement double-dispatch with a syntax that's very close to the real double-dispatch</p>\n\n<pre><code>final DoubleDispatch&lt;Root,Void&gt; dd = new DoubleDispatch&lt;&gt;();\n\ndd.register(X.class, x-&gt;\n{\n    do something with x; its compile time type is X\n    return null;\n});\ndd.register(Y.class, y-&gt;\n{\n    do something with y; its compile time type is Y\n    return null;\n});\n// etc\n\n...\ndd.invoke( something );\n\n\n\n// ----\n\npublic class DoubleDispatch&lt;T, R&gt;\n{\n    public R invoke(T obj){...}\n\n    public &lt;C extends T&gt; void register(Class&lt;C&gt; type, Function&lt;C,R&gt; func){...}\n}\n</code></pre>\n\n<p>see also - <a href=\"https://stackoverflow.com/questions/21032017/java-class-cast-and-overload/21032598#21032598\">Java Class.cast() and Overload</a></p>\n"}],"owner":{"account_id":2050891,"reputation":8031,"user_id":1829943,"accept_rate":84,"display_name":"CoffeDeveloper"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":143,"favorite_count":0,"down_vote_count":1,"up_vote_count":8,"accepted_answer_id":30260245,"answer_count":3,"score":7,"last_activity_date":1643319138,"creation_date":1431691887,"question_id":30259243,"body_markdown":"Consider the following visitor for a simple language interpreter.\r\n\r\n    public interface Visitor{\r\n        void visit( VarStat vs);\r\n        void visit( Ident i);\r\n        void visit( IntLiteral a);\r\n        void visit( Sum s);\r\n    }\r\n\r\nFor completeness I add some code that gives necessary implementation details (you can skip and read directly the question).\r\n\r\n    public interface Visitable{\r\n        void accept( Visitor v);\r\n    }\r\n\r\n    public class VarStat implements Visitable{\r\n        Ident i;\r\n        Exp   e;\r\n\r\n        public VarStat(Ident id, Exp ex){\r\n            i = id;\r\n            e = ex;\r\n        }\r\n        \r\n        public Ident getIdent() { return i; }\r\n        public Exp getExp() { return e; }\r\n\r\n        @Override\r\n        public void accept( Visitor v){\r\n            v.visit( this);\r\n        }\r\n    }\r\n\r\n    public interface Exp extends Visitable{\r\n\r\n    }\r\n\r\n    public class Ident implements Exp{\r\n        @Override\r\n        public void accept( Visitor v){\r\n            v.visit( this);\r\n        }\r\n    }\r\na var statement is defined like that:\r\n\r\n    VarStat ::== var Ident = Exp;\r\n    Exp ::== Exp + Exp | IntLiteral | Ident\r\n    IntLiteral ::== [0-9]{0,8}\r\n    Ident ::== [a-zA-Z]+\r\n\r\na valid language instance\r\n\r\n    var x = x+y+4;\r\n\r\nAn abstract way to represent the `VarStat` node is the following:\r\n\r\n    .               _____VarStat _____\r\n    .              /       /  | \\     \\ \r\n    .             /       /   |  \\     \\  \r\n    .            /       /    |   \\     \\\r\n    .         &quot;var&quot;   Ident  &quot;=&quot;  Exp   &quot;;&quot;\r\n\r\n______\r\n**The Question**\r\n\r\nThe usual VisitorPattern application would be\r\n\r\n    void visit( VarStat vs){\r\n         vs.getIdent().accept( this);\r\n         vs.getExp().accept( this);\r\n         //...\r\n    }\r\n\r\nhowever, since I know &quot;Ident&quot; is of type `Ident` a possible optimization is\r\n \r\n    void visit( VarStat vs){\r\n\r\n         visit( vs.getIdent());\r\n         vs.getExp().accept( this);\r\n         //...\r\n    }\r\n\r\nThat would skip 2 method calls improving the performance (actually it gives a nice boost in my scenario).\r\n\r\nIs that considered a design error that could lead to future problems?","title":"Is skipping &quot;accept&quot; where type is known, a valid optimization for the Visitor pattern?","body":"<p>Consider the following visitor for a simple language interpreter.</p>\n\n<pre><code>public interface Visitor{\n    void visit( VarStat vs);\n    void visit( Ident i);\n    void visit( IntLiteral a);\n    void visit( Sum s);\n}\n</code></pre>\n\n<p>For completeness I add some code that gives necessary implementation details (you can skip and read directly the question).</p>\n\n<pre><code>public interface Visitable{\n    void accept( Visitor v);\n}\n\npublic class VarStat implements Visitable{\n    Ident i;\n    Exp   e;\n\n    public VarStat(Ident id, Exp ex){\n        i = id;\n        e = ex;\n    }\n\n    public Ident getIdent() { return i; }\n    public Exp getExp() { return e; }\n\n    @Override\n    public void accept( Visitor v){\n        v.visit( this);\n    }\n}\n\npublic interface Exp extends Visitable{\n\n}\n\npublic class Ident implements Exp{\n    @Override\n    public void accept( Visitor v){\n        v.visit( this);\n    }\n}\n</code></pre>\n\n<p>a var statement is defined like that:</p>\n\n<pre><code>VarStat ::== var Ident = Exp;\nExp ::== Exp + Exp | IntLiteral | Ident\nIntLiteral ::== [0-9]{0,8}\nIdent ::== [a-zA-Z]+\n</code></pre>\n\n<p>a valid language instance</p>\n\n<pre><code>var x = x+y+4;\n</code></pre>\n\n<p>An abstract way to represent the <code>VarStat</code> node is the following:</p>\n\n<pre><code>.               _____VarStat _____\n.              /       /  | \\     \\ \n.             /       /   |  \\     \\  \n.            /       /    |   \\     \\\n.         \"var\"   Ident  \"=\"  Exp   \";\"\n</code></pre>\n\n<hr>\n\n<p><strong>The Question</strong></p>\n\n<p>The usual VisitorPattern application would be</p>\n\n<pre><code>void visit( VarStat vs){\n     vs.getIdent().accept( this);\n     vs.getExp().accept( this);\n     //...\n}\n</code></pre>\n\n<p>however, since I know \"Ident\" is of type <code>Ident</code> a possible optimization is</p>\n\n<pre><code>void visit( VarStat vs){\n\n     visit( vs.getIdent());\n     vs.getExp().accept( this);\n     //...\n}\n</code></pre>\n\n<p>That would skip 2 method calls improving the performance (actually it gives a nice boost in my scenario).</p>\n\n<p>Is that considered a design error that could lead to future problems?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8350,"page":1642,"page_size":100}
