{"items":[{"tags":["java","android","xml"],"owner":{"account_id":17924519,"reputation":1,"user_id":13023485,"display_name":"Soumik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683478382,"creation_date":1683478382,"question_id":76195190,"body_markdown":"I&#39;m trying to show an imageView inside a scroll wheel, but I want the imageView to be visible only when a button is clicked. If the button is not clicked the image shouldn&#39;t be displayed. I tried a lot of possible ways to work out the problem but can&#39;t figure out why the app keeps crashing when I click on the button that is responsible for setting the image to visible. A little help would be appreciated. Thank you\r\n\r\nBelow is my Chapter1.XML file\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.Chapter1&quot;\r\n    android:layout_gravity=&quot;bottom&quot;\r\n    android:orientation=&quot;horizontal&quot;&gt;\r\n\r\n   &lt;Button\r\n       android:id=&quot;@+id/Chp1_button1&quot;\r\n       android:layout_width=&quot;match_parent&quot;\r\n       android:layout_height=&quot;wrap_content&quot;\r\n       android:text=&quot;Go to Main Menu&quot;\r\n       android:padding=&quot;20dp&quot;\r\n       android:textSize=&quot;20dp&quot;\r\n       app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n       app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\r\n       app:layout_constraintRight_toRightOf=&quot;parent&quot; /&gt;\r\n    &lt;TableLayout\r\n        android:id=&quot;@+id/tableLayout1&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:stretchColumns=&quot;2&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@id/Chp1_button1&quot;\r\n        app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\r\n        app:layout_constraintRight_toRightOf=&quot;parent&quot;&gt;\r\n\r\n        &lt;TableRow&gt;\r\n            &lt;Button\r\n                android:id=&quot;@+id/chap11_btn&quot;\r\n                android:layout_width=&quot;150dp&quot;\r\n                android:layout_margin=&quot;10dp&quot;\r\n                android:layout_weight=&quot;3&quot;\r\n                android:text=&quot;Chap 1.1 Definition&quot; /&gt;\r\n            &lt;Button\r\n                android:id=&quot;@+id/chap12_btn&quot;\r\n                android:layout_width=&quot;150dp&quot;\r\n                android:layout_margin=&quot;10dp&quot;\r\n                android:layout_weight=&quot;1&quot;\r\n                android:text=&quot;Chap 1.2 Explanation&quot; /&gt;\r\n        &lt;/TableRow&gt;\r\n        &lt;TableRow&gt;\r\n            &lt;Button\r\n                android:id=&quot;@+id/chap13_btn&quot;\r\n                android:layout_width=&quot;150dp&quot;\r\n                android:layout_margin=&quot;10dp&quot;\r\n                android:layout_weight=&quot;3&quot;\r\n                android:text=&quot;Chap 1.3 Hello World&quot; /&gt;\r\n            &lt;Button\r\n                android:id=&quot;@+id/chap14_btn&quot;\r\n                android:layout_width=&quot;150dp&quot;\r\n                android:layout_margin=&quot;10dp&quot;\r\n                android:layout_weight=&quot;1&quot;\r\n                android:text=&quot;Chap 1.4 Hello World&quot; /&gt;\r\n        &lt;/TableRow&gt;\r\n    &lt;/TableLayout&gt;\r\n    &lt;ScrollView\r\n        android:id=&quot;@+id/scrollView1&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@id/tableLayout1&quot;\r\n        app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\r\n        app:layout_constraintRight_toRightOf=&quot;parent&quot;&gt;\r\n        &lt;LinearLayout\r\n            android:id = &quot;@+id/image_Layout&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:orientation=&quot;vertical&quot;&gt;\r\n\r\n            &lt;ImageView\r\n                android:id=&quot;@+id/imageView&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                android:src=&quot;@drawable/a951ad1201c7bd1a758b5acfeea33fce_0&quot;\r\n                android:adjustViewBounds=&quot;true&quot;\r\n                android:visibility=&quot;gone&quot;/&gt;\r\n        &lt;/LinearLayout&gt;\r\n    &lt;/ScrollView&gt;\r\n    &lt;Button\r\n        android:id=&quot;@+id/Chp2_button2&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;Go to End&quot;\r\n        android:padding=&quot;20dp&quot;\r\n        android:textSize=&quot;20dp&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\r\n        app:layout_constraintRight_toRightOf=&quot;parent&quot; /&gt;\r\n\r\n\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```\r\n\r\nChapter1.java file\r\n\r\n```\r\npackage com.example.mathprojectraoli;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.content.Intent;\r\nimport android.media.Image;\r\nimport android.os.Bundle;\r\nimport android.util.Log;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.ImageView;\r\nimport android.widget.LinearLayout;\r\n\r\npublic class Chapter1 extends AppCompatActivity {\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_chapter1);\r\n        Button[] menuBtns = {findViewById(R.id.Chp1_button1), findViewById(R.id.Chp2_button2)};\r\n        Button[] btns = {findViewById(R.id.chap11_btn), findViewById(R.id.chap12_btn), findViewById(R.id.chap13_btn), findViewById(R.id.chap14_btn)};\r\n        String[] activityNames = {&quot;com.example.mathprojectraoli.MainActivity&quot;,&quot;com.example.mathprojectraoli.Chapter16&quot;};\r\n        int[] imageIds = {\r\n                R.drawable.a951ad1201c7bd1a758b5acfeea33fce_0,\r\n                R.drawable.a951ad1201c7bd1a758b5acfeea33fce_1,\r\n                R.drawable.a951ad1201c7bd1a758b5acfeea33fce_2,\r\n                R.drawable.a951ad1201c7bd1a758b5acfeea33fce_3};\r\n        LinearLayout linearLayout = findViewById(R.id.image_Layout);\r\n        ImageView imageView = findViewById(R.id.imageView);\r\n        for(int i = 0; i &lt; menuBtns.length; i++)\r\n        {\r\n            final String activityName = activityNames[i];\r\n            menuBtns[i].setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    try{\r\n                        Intent intent = new Intent(getApplicationContext(), Class.forName(activityName));\r\n                        startActivity(intent);\r\n                    }\r\n                    catch (ClassNotFoundException e){\r\n                        e.printStackTrace();\r\n                    }\r\n                }\r\n            });\r\n        }\r\n        btns[0].setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                imageView.setVisibility(View.VISIBLE);\r\n            }\r\n        });\r\n    }\r\n}\r\n```\r\nI tried running this code but when I try to click the button chapter1.1 Definition the app stops working without giving out any errors. I&#39;m confused where is the code going wrong. Some help would be appreciated.\r\n","title":"How to set an ImageView to Visible based on a button click in android Studio","body":"<p>I'm trying to show an imageView inside a scroll wheel, but I want the imageView to be visible only when a button is clicked. If the button is not clicked the image shouldn't be displayed. I tried a lot of possible ways to work out the problem but can't figure out why the app keeps crashing when I click on the button that is responsible for setting the image to visible. A little help would be appreciated. Thank you</p>\n<p>Below is my Chapter1.XML file</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.Chapter1&quot;\n    android:layout_gravity=&quot;bottom&quot;\n    android:orientation=&quot;horizontal&quot;&gt;\n\n   &lt;Button\n       android:id=&quot;@+id/Chp1_button1&quot;\n       android:layout_width=&quot;match_parent&quot;\n       android:layout_height=&quot;wrap_content&quot;\n       android:text=&quot;Go to Main Menu&quot;\n       android:padding=&quot;20dp&quot;\n       android:textSize=&quot;20dp&quot;\n       app:layout_constraintTop_toTopOf=&quot;parent&quot;\n       app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\n       app:layout_constraintRight_toRightOf=&quot;parent&quot; /&gt;\n    &lt;TableLayout\n        android:id=&quot;@+id/tableLayout1&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:stretchColumns=&quot;2&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@id/Chp1_button1&quot;\n        app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\n        app:layout_constraintRight_toRightOf=&quot;parent&quot;&gt;\n\n        &lt;TableRow&gt;\n            &lt;Button\n                android:id=&quot;@+id/chap11_btn&quot;\n                android:layout_width=&quot;150dp&quot;\n                android:layout_margin=&quot;10dp&quot;\n                android:layout_weight=&quot;3&quot;\n                android:text=&quot;Chap 1.1 Definition&quot; /&gt;\n            &lt;Button\n                android:id=&quot;@+id/chap12_btn&quot;\n                android:layout_width=&quot;150dp&quot;\n                android:layout_margin=&quot;10dp&quot;\n                android:layout_weight=&quot;1&quot;\n                android:text=&quot;Chap 1.2 Explanation&quot; /&gt;\n        &lt;/TableRow&gt;\n        &lt;TableRow&gt;\n            &lt;Button\n                android:id=&quot;@+id/chap13_btn&quot;\n                android:layout_width=&quot;150dp&quot;\n                android:layout_margin=&quot;10dp&quot;\n                android:layout_weight=&quot;3&quot;\n                android:text=&quot;Chap 1.3 Hello World&quot; /&gt;\n            &lt;Button\n                android:id=&quot;@+id/chap14_btn&quot;\n                android:layout_width=&quot;150dp&quot;\n                android:layout_margin=&quot;10dp&quot;\n                android:layout_weight=&quot;1&quot;\n                android:text=&quot;Chap 1.4 Hello World&quot; /&gt;\n        &lt;/TableRow&gt;\n    &lt;/TableLayout&gt;\n    &lt;ScrollView\n        android:id=&quot;@+id/scrollView1&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@id/tableLayout1&quot;\n        app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\n        app:layout_constraintRight_toRightOf=&quot;parent&quot;&gt;\n        &lt;LinearLayout\n            android:id = &quot;@+id/image_Layout&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:orientation=&quot;vertical&quot;&gt;\n\n            &lt;ImageView\n                android:id=&quot;@+id/imageView&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;match_parent&quot;\n                android:src=&quot;@drawable/a951ad1201c7bd1a758b5acfeea33fce_0&quot;\n                android:adjustViewBounds=&quot;true&quot;\n                android:visibility=&quot;gone&quot;/&gt;\n        &lt;/LinearLayout&gt;\n    &lt;/ScrollView&gt;\n    &lt;Button\n        android:id=&quot;@+id/Chp2_button2&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;Go to End&quot;\n        android:padding=&quot;20dp&quot;\n        android:textSize=&quot;20dp&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\n        app:layout_constraintRight_toRightOf=&quot;parent&quot; /&gt;\n\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>Chapter1.java file</p>\n<pre><code>package com.example.mathprojectraoli;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.content.Intent;\nimport android.media.Image;\nimport android.os.Bundle;\nimport android.util.Log;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.ImageView;\nimport android.widget.LinearLayout;\n\npublic class Chapter1 extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_chapter1);\n        Button[] menuBtns = {findViewById(R.id.Chp1_button1), findViewById(R.id.Chp2_button2)};\n        Button[] btns = {findViewById(R.id.chap11_btn), findViewById(R.id.chap12_btn), findViewById(R.id.chap13_btn), findViewById(R.id.chap14_btn)};\n        String[] activityNames = {&quot;com.example.mathprojectraoli.MainActivity&quot;,&quot;com.example.mathprojectraoli.Chapter16&quot;};\n        int[] imageIds = {\n                R.drawable.a951ad1201c7bd1a758b5acfeea33fce_0,\n                R.drawable.a951ad1201c7bd1a758b5acfeea33fce_1,\n                R.drawable.a951ad1201c7bd1a758b5acfeea33fce_2,\n                R.drawable.a951ad1201c7bd1a758b5acfeea33fce_3};\n        LinearLayout linearLayout = findViewById(R.id.image_Layout);\n        ImageView imageView = findViewById(R.id.imageView);\n        for(int i = 0; i &lt; menuBtns.length; i++)\n        {\n            final String activityName = activityNames[i];\n            menuBtns[i].setOnClickListener(new View.OnClickListener() {\n                @Override\n                public void onClick(View view) {\n                    try{\n                        Intent intent = new Intent(getApplicationContext(), Class.forName(activityName));\n                        startActivity(intent);\n                    }\n                    catch (ClassNotFoundException e){\n                        e.printStackTrace();\n                    }\n                }\n            });\n        }\n        btns[0].setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                imageView.setVisibility(View.VISIBLE);\n            }\n        });\n    }\n}\n</code></pre>\n<p>I tried running this code but when I try to click the button chapter1.1 Definition the app stops working without giving out any errors. I'm confused where is the code going wrong. Some help would be appreciated.</p>\n"},{"tags":["java","interceptor","byte-buddy","javaagents"],"comments":[{"owner":{"account_id":7121054,"reputation":5814,"user_id":5445670,"display_name":"Solomon Ucko"},"score":1,"creation_date":1683415617,"post_id":76191595,"comment_id":134363805,"body_markdown":"What error do you get from each of the things you&#39;ve tried?","body":"What error do you get from each of the things you&#39;ve tried?"},{"owner":{"account_id":387473,"reputation":18600,"user_id":745835,"accept_rate":80,"display_name":"stackoverflow"},"score":0,"creation_date":1683416137,"post_id":76191595,"comment_id":134363840,"body_markdown":"Question has been updated","body":"Question has been updated"},{"owner":{"account_id":7121054,"reputation":5814,"user_id":5445670,"display_name":"Solomon Ucko"},"score":0,"creation_date":1683421401,"post_id":76191595,"comment_id":134364180,"body_markdown":"Got it, thanks. I assume that&#39;s the error for the first attempt; how about the second one, beginning with `new ByteBuddy()`?","body":"Got it, thanks. I assume that&#39;s the error for the first attempt; how about the second one, beginning with <code>new ByteBuddy()</code>?"},{"owner":{"account_id":387473,"reputation":18600,"user_id":745835,"accept_rate":80,"display_name":"stackoverflow"},"score":0,"creation_date":1683421903,"post_id":76191595,"comment_id":134364210,"body_markdown":"`java.lang.IllegalArgumentException: None of [] allows for delegation from int io.xxx.model.Dog.getAge()`","body":"<code>java.lang.IllegalArgumentException: None of [] allows for delegation from int io.xxx.model.Dog.getAge()</code>"},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":1,"creation_date":1683423574,"post_id":76191595,"comment_id":134364313,"body_markdown":"As soon as you do `.redefine(PitBull.class)` it will load `PitBull`. You want to avoid that - but I have no idea how to do that with bytebuddy. (With a normal agent, I&#39;d just install a transformer that does the changes when the class is eventually loaded. Or does nothing if the class is never loaded...)","body":"As soon as you do <code>.redefine(PitBull.class)</code> it will load <code>PitBull</code>. You want to avoid that - but I have no idea how to do that with bytebuddy. (With a normal agent, I&#39;d just install a transformer that does the changes when the class is eventually loaded. Or does nothing if the class is never loaded...)"}],"answers":[{"tags":[],"owner":{"account_id":18256279,"reputation":659,"user_id":13290159,"display_name":"0x150"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683422506,"creation_date":1683422506,"answer_id":76191843,"question_id":76191595,"body_markdown":"Due to limitations of the JVM, you can&#39;t add, remove or modify members of existing classes. You have to either\r\n\r\n1. Add the method before the class is loaded, or\r\n2. Modify the class on disk before the JVM even starts\r\n\r\nAlternatively, you *could* use third party JVMs that do support that kind of modification (see: JetBrains runtime with the Enhanced class redefinition flag), but assuming this needs to run universally, it&#39;d be a bit of a burden.","title":"How to redefine a class with Byte-buddy to add an additional method","body":"<p>Due to limitations of the JVM, you can't add, remove or modify members of existing classes. You have to either</p>\n<ol>\n<li>Add the method before the class is loaded, or</li>\n<li>Modify the class on disk before the JVM even starts</li>\n</ol>\n<p>Alternatively, you <em>could</em> use third party JVMs that do support that kind of modification (see: JetBrains runtime with the Enhanced class redefinition flag), but assuming this needs to run universally, it'd be a bit of a burden.</p>\n"}],"owner":{"account_id":387473,"reputation":18600,"user_id":745835,"accept_rate":80,"display_name":"stackoverflow"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":251,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"answer_count":1,"score":-2,"last_activity_date":1683478312,"creation_date":1683415178,"question_id":76191595,"body_markdown":"If I have the following `Class` named `Dog`\r\n\r\n    public class Dog {\r\n      \r\n      private String name = &quot;Spike&quot;;\r\n      private int age = 3;\r\n      \r\n      public Dog() {}\r\n      \r\n      public String getName() {\r\n        return name;\r\n      }\r\n    }\r\n\r\nHow would I declare ByteBuddy for use in a `javaagent` to redefine the `Dog` class to provide the method `getAge` which returns an `int`?\r\n\r\nThe desired (effective) class should look like this below and be able to be invoked by doing `dog.getAge()`\r\n\r\n    public class Dog {\r\n      \r\n      private String name = &quot;Spike&quot;;\r\n      private int age = 3;\r\n      \r\n      public Dog() {}\r\n      \r\n      public String getName() {\r\n        return name;\r\n      }\r\n\r\n      public int getAge() {\r\n        return age;      \r\n      }\r\n    }\r\n\r\nAttempt 1: I&#39;ve tried changing the syntax to what I understand to be correct (PitBullInterceptor.class found below)\r\n\r\n    new AgentBuilder.Default()\r\n    .redefine(Dog.class)\r\n    .defineMethod(&quot;getAge&quot;, int.class, Method.PUBLIC)\r\n    .intercept(MethodDelegation.to(PitBullInterceptor.class))\r\n    .installOn(instrumentation);\r\n\r\nI have the following issue in my attempts\r\n\r\n&gt; The method redefine(Class&lt;Dog&gt;) is undefined for the type\r\n&gt; AgentBuilder.Default\r\n\r\nWhich is basically a syntax error. I&#39;m not sure which `DynamicTypes` or `MethodDelegations`/`ElementMaters` to use to configure the `Agentbuilder` to perform to this type of redefine/rebase as Rafael Winterhalter describes it    \r\n\r\nAttempt 2: I&#39;ve tried using it with ByteBuddyAgent.install\r\n\r\n      public static void main(String[] args) throws Exception {\r\n        \r\n        ByteBuddyAgent.install();\r\n        \r\n        new ByteBuddy()\r\n        .redefine(Dog.class)               \r\n        .defineMethod(&quot;getAge&quot;, int.class, Method.PUBLIC)\r\n        .intercept(MethodDelegation.to(PitBullInterceptor.class))\r\n        .make()\r\n        .load(Dog.class.getClassLoader(), ClassReloadingStrategy.fromInstalledAgent())\r\n        .getLoaded()\r\n        .newInstance();\r\n      }\r\n      \r\n      public static class PitBullInterceptor {\r\n        \r\n        private static int age = 1;\r\n        \r\n        public static int getAge() {\r\n          return age;\r\n        }\r\n      }\r\n\r\nProduces the error: \r\n\r\n&gt; java.lang.UnsupportedOperationException: class redefinition failed: attempted to add a method\r\n\r\nAttempt 3: Lastly, I&#39;ve tried doing so with the agent built\r\n\r\n      public static void premain(String arguments, Instrumentation instrumentation) {\r\n      \r\n        new AgentBuilder.Default()\r\n        .disableClassFormatChanges().with(RetransformationStrategy.RETRANSFORM)\r\n        .with(new ByteBuddy()\r\n        .redefine(PitBull.class)\r\n        .method(ElementMatchers.named(&quot;getAge&quot;))\r\n        .intercept(MethodDelegation.to(PitBullInterceptor.class))\r\n        .make()\r\n        .load(Dog.class.getClassLoader()))\r\n        .installOn(instrumentation);\r\n      }\r\n      \r\n      public static class PitBull {\r\n        \r\n        private String name = &quot;Kujo&quot;;\r\n        \r\n        public String getName() {\r\n          return name;\r\n        }\r\n      }\r\n      \r\n      public static class PitBullInterceptor {\r\n        \r\n        private static int age = 3;\r\n        \r\n        public static int getAge() {\r\n          return age;\r\n        }\r\n      }\r\n\r\nProduces: \r\n\r\n```none\r\njava -javaagent:agent.jar -jar app.jar\r\nException in thread &quot;main&quot; java.lang.reflect.InvocationTargetException\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n        at java.instrument/sun.instrument.InstrumentationImpl.loadClassAndStartAgent(InstrumentationImpl.java:491)\r\n        at java.instrument/sun.instrument.InstrumentationImpl.loadClassAndCallPremain(InstrumentationImpl.java:503)\r\nCaused by: java.lang.IllegalStateException: Class already loaded: class io.xxx.agent.boss.Agent$PitBull\r\n        at net.bytebuddy.dynamic.loading.ByteArrayClassLoader.load(ByteArrayClassLoader.java:363)\r\n        at net.bytebuddy.dynamic.loading.ClassLoadingStrategy$Default$WrappingDispatcher.load(ClassLoadingStrategy.java:367)\r\n        at net.bytebuddy.dynamic.loading.ClassLoadingStrategy$Default.load(ClassLoadingStrategy.java:148)\r\n        at net.bytebuddy.dynamic.TypeResolutionStrategy$Passive.initialize(TypeResolutionStrategy.java:101)\r\n        at net.bytebuddy.dynamic.DynamicType$Default$Unloaded.load(DynamicType.java:6317)\r\n        at net.bytebuddy.dynamic.DynamicType$Default$Unloaded.load(DynamicType.java:6305)\r\n        at io.xxx.agent.boss.Agent.premain(Agent.java:21)\r\n        ... 6 more\r\n*** java.lang.instrument ASSERTION FAILED ***: &quot;result&quot; with message agent load/premain call failed at t:\\workspace\\open\\src\\java.instrument\\share\\native\\libinstrument\\JPLISAgent.c line: 422\r\nFATAL ERROR in native method: processing of -javaagent failed, processJavaStart failed\r\n```\r\n","title":"How to redefine a class with Byte-buddy to add an additional method","body":"<p>If I have the following <code>Class</code> named <code>Dog</code></p>\n<pre><code>public class Dog {\n  \n  private String name = &quot;Spike&quot;;\n  private int age = 3;\n  \n  public Dog() {}\n  \n  public String getName() {\n    return name;\n  }\n}\n</code></pre>\n<p>How would I declare ByteBuddy for use in a <code>javaagent</code> to redefine the <code>Dog</code> class to provide the method <code>getAge</code> which returns an <code>int</code>?</p>\n<p>The desired (effective) class should look like this below and be able to be invoked by doing <code>dog.getAge()</code></p>\n<pre><code>public class Dog {\n  \n  private String name = &quot;Spike&quot;;\n  private int age = 3;\n  \n  public Dog() {}\n  \n  public String getName() {\n    return name;\n  }\n\n  public int getAge() {\n    return age;      \n  }\n}\n</code></pre>\n<p>Attempt 1: I've tried changing the syntax to what I understand to be correct (PitBullInterceptor.class found below)</p>\n<pre><code>new AgentBuilder.Default()\n.redefine(Dog.class)\n.defineMethod(&quot;getAge&quot;, int.class, Method.PUBLIC)\n.intercept(MethodDelegation.to(PitBullInterceptor.class))\n.installOn(instrumentation);\n</code></pre>\n<p>I have the following issue in my attempts</p>\n<blockquote>\n<p>The method redefine(Class) is undefined for the type\nAgentBuilder.Default</p>\n</blockquote>\n<p>Which is basically a syntax error. I'm not sure which <code>DynamicTypes</code> or <code>MethodDelegations</code>/<code>ElementMaters</code> to use to configure the <code>Agentbuilder</code> to perform to this type of redefine/rebase as Rafael Winterhalter describes it</p>\n<p>Attempt 2: I've tried using it with ByteBuddyAgent.install</p>\n<pre><code>  public static void main(String[] args) throws Exception {\n    \n    ByteBuddyAgent.install();\n    \n    new ByteBuddy()\n    .redefine(Dog.class)               \n    .defineMethod(&quot;getAge&quot;, int.class, Method.PUBLIC)\n    .intercept(MethodDelegation.to(PitBullInterceptor.class))\n    .make()\n    .load(Dog.class.getClassLoader(), ClassReloadingStrategy.fromInstalledAgent())\n    .getLoaded()\n    .newInstance();\n  }\n  \n  public static class PitBullInterceptor {\n    \n    private static int age = 1;\n    \n    public static int getAge() {\n      return age;\n    }\n  }\n</code></pre>\n<p>Produces the error:</p>\n<blockquote>\n<p>java.lang.UnsupportedOperationException: class redefinition failed: attempted to add a method</p>\n</blockquote>\n<p>Attempt 3: Lastly, I've tried doing so with the agent built</p>\n<pre><code>  public static void premain(String arguments, Instrumentation instrumentation) {\n  \n    new AgentBuilder.Default()\n    .disableClassFormatChanges().with(RetransformationStrategy.RETRANSFORM)\n    .with(new ByteBuddy()\n    .redefine(PitBull.class)\n    .method(ElementMatchers.named(&quot;getAge&quot;))\n    .intercept(MethodDelegation.to(PitBullInterceptor.class))\n    .make()\n    .load(Dog.class.getClassLoader()))\n    .installOn(instrumentation);\n  }\n  \n  public static class PitBull {\n    \n    private String name = &quot;Kujo&quot;;\n    \n    public String getName() {\n      return name;\n    }\n  }\n  \n  public static class PitBullInterceptor {\n    \n    private static int age = 3;\n    \n    public static int getAge() {\n      return age;\n    }\n  }\n</code></pre>\n<p>Produces:</p>\n<pre class=\"lang-none prettyprint-override\"><code>java -javaagent:agent.jar -jar app.jar\nException in thread &quot;main&quot; java.lang.reflect.InvocationTargetException\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n        at java.instrument/sun.instrument.InstrumentationImpl.loadClassAndStartAgent(InstrumentationImpl.java:491)\n        at java.instrument/sun.instrument.InstrumentationImpl.loadClassAndCallPremain(InstrumentationImpl.java:503)\nCaused by: java.lang.IllegalStateException: Class already loaded: class io.xxx.agent.boss.Agent$PitBull\n        at net.bytebuddy.dynamic.loading.ByteArrayClassLoader.load(ByteArrayClassLoader.java:363)\n        at net.bytebuddy.dynamic.loading.ClassLoadingStrategy$Default$WrappingDispatcher.load(ClassLoadingStrategy.java:367)\n        at net.bytebuddy.dynamic.loading.ClassLoadingStrategy$Default.load(ClassLoadingStrategy.java:148)\n        at net.bytebuddy.dynamic.TypeResolutionStrategy$Passive.initialize(TypeResolutionStrategy.java:101)\n        at net.bytebuddy.dynamic.DynamicType$Default$Unloaded.load(DynamicType.java:6317)\n        at net.bytebuddy.dynamic.DynamicType$Default$Unloaded.load(DynamicType.java:6305)\n        at io.xxx.agent.boss.Agent.premain(Agent.java:21)\n        ... 6 more\n*** java.lang.instrument ASSERTION FAILED ***: &quot;result&quot; with message agent load/premain call failed at t:\\workspace\\open\\src\\java.instrument\\share\\native\\libinstrument\\JPLISAgent.c line: 422\nFATAL ERROR in native method: processing of -javaagent failed, processJavaStart failed\n</code></pre>\n"},{"tags":["java","minecraft"],"comments":[{"owner":{"account_id":20595037,"reputation":210,"user_id":15117694,"display_name":"Alphaharrius"},"score":0,"creation_date":1623946226,"post_id":68022012,"comment_id":120228309,"body_markdown":"Umm, it would be great if you could let me know the content in line 33 in sethome.java, I guess the issue is ```NullPointerException```, which is a ```RuntimeException``` (Which does not throw an error during compilation if you didn&#39;t handle it). Some method in the Spigot API might return a ```null```, you might have to check carefully before using them.","body":"Umm, it would be great if you could let me know the content in line 33 in sethome.java, I guess the issue is <code>NullPointerException</code>, which is a <code>RuntimeException</code> (Which does not throw an error during compilation if you didn&#39;t handle it). Some method in the Spigot API might return a <code>null</code>, you might have to check carefully before using them."},{"owner":{"account_id":21018684,"reputation":11,"user_id":15445553,"display_name":"GJ Guo"},"score":0,"creation_date":1623946636,"post_id":68022012,"comment_id":120228484,"body_markdown":"line 33 is ``if(home_amount &lt; max_home_amount)``","body":"line 33 is <code>if(home_amount &lt; max_home_amount)</code>"}],"answers":[{"tags":[],"owner":{"account_id":25879451,"reputation":9,"user_id":19608810,"display_name":"justADeni"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683477290,"creation_date":1683477263,"answer_id":76195093,"question_id":68022012,"body_markdown":"First of all, you are casting sender to Player before knowing if they actually are. Swap order of these:\r\nput `Player player = (Player) sender;` after your `instanceof` check (and check if sender instanceof Player).\r\nOtherwise this will cause `ClassCastException` if console uses this command.\r\n\r\nSecond, `if(cmd.getName().equalsIgnoreCase(&quot;sethome&quot;)){` isn&#39;t neccesary if you&#39;ve registered your command in `onEnable` and in plugin.yml\r\n\r\nThird of all, [check out naming conventions in Java][1]. Your class `sethome` should be capitalized, and your variables should be &quot;mixed case with a lowercase first letter&quot;\r\n\r\nAnother one is you don&#39;t need to write your own serialization of `Location`, Bukkit can do that for you, [check out this resource][2].\r\n\r\nAs for your `NullPointerException`, are you sure this version of the code and the error correspond? Maybe in between you changed something, added or removed a few lines, all I know is it cannot be cause at line 33 as in the error, because both `max_home_amount` and `home_amount` are always non-null (unless you somehow reassigned max_home_amount which i doubt)\r\n\r\nTwo lines above that `config.get().getConfigurationSection(path).getKeys(false)` could be causing the problem if the config is missing or the section isn&#39;t there\r\n\r\n  [1]: https://www.oracle.com/java/technologies/javase/codeconventions-namingconventions.html\r\n  [2]: https://www.spigotmc.org/wiki/serializing-location-objects/","title":"Unhandled exception executing command in SPIGOT plugin","body":"<p>First of all, you are casting sender to Player before knowing if they actually are. Swap order of these:\nput <code>Player player = (Player) sender;</code> after your <code>instanceof</code> check (and check if sender instanceof Player).\nOtherwise this will cause <code>ClassCastException</code> if console uses this command.</p>\n<p>Second, <code>if(cmd.getName().equalsIgnoreCase(&quot;sethome&quot;)){</code> isn't neccesary if you've registered your command in <code>onEnable</code> and in plugin.yml</p>\n<p>Third of all, <a href=\"https://www.oracle.com/java/technologies/javase/codeconventions-namingconventions.html\" rel=\"nofollow noreferrer\">check out naming conventions in Java</a>. Your class <code>sethome</code> should be capitalized, and your variables should be &quot;mixed case with a lowercase first letter&quot;</p>\n<p>Another one is you don't need to write your own serialization of <code>Location</code>, Bukkit can do that for you, <a href=\"https://www.spigotmc.org/wiki/serializing-location-objects/\" rel=\"nofollow noreferrer\">check out this resource</a>.</p>\n<p>As for your <code>NullPointerException</code>, are you sure this version of the code and the error correspond? Maybe in between you changed something, added or removed a few lines, all I know is it cannot be cause at line 33 as in the error, because both <code>max_home_amount</code> and <code>home_amount</code> are always non-null (unless you somehow reassigned max_home_amount which i doubt)</p>\n<p>Two lines above that <code>config.get().getConfigurationSection(path).getKeys(false)</code> could be causing the problem if the config is missing or the section isn't there</p>\n"}],"owner":{"account_id":21018684,"reputation":11,"user_id":15445553,"display_name":"GJ Guo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":527,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683477290,"creation_date":1623942575,"question_id":68022012,"body_markdown":"I&#39;m trying to write a plugin to sethome myself but when I issue the `/sethome` command it always errors.\r\n\r\n```\r\norg.bukkit.command.CommandException: Unhandled exception executing command &#39;sethome&#39; in plugin setHome v1.0\r\n        at org.bukkit.command.PluginCommand.execute(PluginCommand.java:47) ~[spigot-1.16.5.jar:2991-Spigot-018b9a0-f3f3094]\r\n        at org.bukkit.command.SimpleCommandMap.dispatch(SimpleCommandMap.java:149) ~[spigot-1.16.5.jar:2991-Spigot-018b9a0-f3f3094]\r\n        at org.bukkit.craftbukkit.v1_16_R3.CraftServer.dispatchCommand(CraftServer.java:763) ~[spigot-1.16.5.jar:2991-Spigot-018b9a0-f3f3094]\r\n        at net.minecraft.server.v1_16_R3.PlayerConnection.handleCommand(PlayerConnection.java:1788) ~[spigot-1.16.5.jar:2991-Spigot-018b9a0-f3f3094]\r\n        at net.minecraft.server.v1_16_R3.PlayerConnection.c(PlayerConnection.java:1631) ~[spigot-1.16.5.jar:2991-Spigot-018b9a0-f3f3094]\r\n        at net.minecraft.server.v1_16_R3.PlayerConnection.a(PlayerConnection.java:1584) ~[spigot-1.16.5.jar:2991-Spigot-018b9a0-f3f3094]\r\n        at net.minecraft.server.v1_16_R3.PacketPlayInChat.a(PacketPlayInChat.java:47) ~[spigot-1.16.5.jar:2991-Spigot-018b9a0-f3f3094]\r\n        at net.minecraft.server.v1_16_R3.PacketPlayInChat.a(PacketPlayInChat.java:1) ~[spigot-1.16.5.jar:2991-Spigot-018b9a0-f3f3094]\r\n        at net.minecraft.server.v1_16_R3.PlayerConnectionUtils.lambda$0(PlayerConnectionUtils.java:19) ~[spigot-1.16.5.jar:2991-Spigot-018b9a0-f3f3094]\r\n        at net.minecraft.server.v1_16_R3.TickTask.run(SourceFile:18) ~[spigot-1.16.5.jar:2991-Spigot-018b9a0-f3f3094]\r\n        at net.minecraft.server.v1_16_R3.IAsyncTaskHandler.executeTask(SourceFile:144) ~[spigot-1.16.5.jar:2991-Spigot-018b9a0-f3f3094]\r\n        at net.minecraft.server.v1_16_R3.IAsyncTaskHandlerReentrant.executeTask(SourceFile:23) ~[spigot-1.16.5.jar:2991-Spigot-018b9a0-f3f3094]\r\n        at net.minecraft.server.v1_16_R3.IAsyncTaskHandler.executeNext(SourceFile:118) ~[spigot-1.16.5.jar:2991-Spigot-018b9a0-f3f3094]\r\n        at net.minecraft.server.v1_16_R3.MinecraftServer.bb(MinecraftServer.java:942) ~[spigot-1.16.5.jar:2991-Spigot-018b9a0-f3f3094]\r\n        at net.minecraft.server.v1_16_R3.MinecraftServer.executeNext(MinecraftServer.java:935) ~[spigot-1.16.5.jar:2991-Spigot-018b9a0-f3f3094]\r\n        at net.minecraft.server.v1_16_R3.IAsyncTaskHandler.awaitTasks(SourceFile:127) ~[spigot-1.16.5.jar:2991-Spigot-018b9a0-f3f3094]\r\n        at net.minecraft.server.v1_16_R3.MinecraftServer.sleepForTick(MinecraftServer.java:919) ~[spigot-1.16.5.jar:2991-Spigot-018b9a0-f3f3094]\r\n        at net.minecraft.server.v1_16_R3.MinecraftServer.w(MinecraftServer.java:851) ~[spigot-1.16.5.jar:2991-Spigot-018b9a0-f3f3094]\r\n        at net.minecraft.server.v1_16_R3.MinecraftServer.lambda$0(MinecraftServer.java:164) ~[spigot-1.16.5.jar:2991-Spigot-018b9a0-f3f3094]\r\n        at java.lang.Thread.run(Unknown Source) [?:1.8.0_241]\r\nCaused by: java.lang.NullPointerException\r\n        at com.t2o0n321.setHome.command.sethome.onCommand(sethome.java:33) ~[?:?]\r\n        at org.bukkit.command.PluginCommand.execute(PluginCommand.java:45) ~[spigot-1.16.5.jar:2991-Spigot-018b9a0-f3f3094]\r\n        ... 19 more\r\n```\r\n\r\nHere is my code(sethome.java):\r\n\r\n```java\r\npackage com.t2o0n321.setHome.command;\r\n\r\nimport org.bukkit.Bukkit;\r\nimport org.bukkit.Location;\r\nimport org.bukkit.command.Command;\r\nimport org.bukkit.command.CommandExecutor;\r\nimport org.bukkit.command.CommandSender;\r\nimport org.bukkit.entity.Player;\r\nimport com.t2o0n321.setHome.config.config;\r\nimport com.t2o0n321.setHome.utils.utils;\r\n\r\npublic class sethome implements CommandExecutor {\r\n\r\n    private static int max_home_amount = 2;\r\n\r\n    @Override\r\n    public boolean onCommand(CommandSender sender, Command cmd,String label,String args[]){\r\n        Player player = (Player) sender;\r\n        if(!(player instanceof Player)){\r\n            Bukkit.getConsoleSender().sendMessage(utils.chat(&quot;&amp;c[setHome] Only player can issue commands !&quot;));\r\n            return true;\r\n        }\r\n        if(cmd.getName().equalsIgnoreCase(&quot;sethome&quot;)){\r\n            if(args.length == 1){\r\n                // init player data\r\n                config.reload();\r\n                // get player info\r\n                String path = player.getName();\r\n                int home_amount = 0;\r\n                for(String home : config.get().getConfigurationSection(path).getKeys(false)){\r\n                    home_amount ++;\r\n                }\r\n                if(home_amount &lt; max_home_amount){\r\n                    // record new home data\r\n                    Location loc = player.getLocation();\r\n                    double x = loc.getX();\r\n                    double y = loc.getY();\r\n                    double z = loc.getZ();\r\n                    String w = loc.getWorld().toString();\r\n\r\n                    String x_path = player.getName() + &quot;.&quot; + args[0] + &quot;.x&quot;;\r\n                    String y_path = player.getName() + &quot;.&quot; + args[0] + &quot;.y&quot;;\r\n                    String z_path = player.getName() + &quot;.&quot; + args[0] + &quot;.z&quot;;\r\n                    String w_path = player.getName() + &quot;.&quot; + args[0] + &quot;.w&quot;;\r\n\r\n                    config.get().set(x_path,x);\r\n                    config.get().set(y_path,y);\r\n                    config.get().set(z_path,z);\r\n                    config.get().set(w_path,w);\r\n\r\n                    config.save();\r\n                }\r\n                else{\r\n                    player.sendMessage(utils.chat(&quot;You can only set &quot;+ max_home_amount + &quot; homes !&quot;));\r\n                }\r\n            }\r\n            else{\r\n                player.sendMessage(utils.chat(&quot;Usage: /sethome &lt;home&gt;&quot;));\r\n            }\r\n            return true;\r\n        }\r\n        return true;\r\n    }\r\n}\r\n\r\n```","title":"Unhandled exception executing command in SPIGOT plugin","body":"<p>I'm trying to write a plugin to sethome myself but when I issue the <code>/sethome</code> command it always errors.</p>\n<pre><code>org.bukkit.command.CommandException: Unhandled exception executing command 'sethome' in plugin setHome v1.0\n        at org.bukkit.command.PluginCommand.execute(PluginCommand.java:47) ~[spigot-1.16.5.jar:2991-Spigot-018b9a0-f3f3094]\n        at org.bukkit.command.SimpleCommandMap.dispatch(SimpleCommandMap.java:149) ~[spigot-1.16.5.jar:2991-Spigot-018b9a0-f3f3094]\n        at org.bukkit.craftbukkit.v1_16_R3.CraftServer.dispatchCommand(CraftServer.java:763) ~[spigot-1.16.5.jar:2991-Spigot-018b9a0-f3f3094]\n        at net.minecraft.server.v1_16_R3.PlayerConnection.handleCommand(PlayerConnection.java:1788) ~[spigot-1.16.5.jar:2991-Spigot-018b9a0-f3f3094]\n        at net.minecraft.server.v1_16_R3.PlayerConnection.c(PlayerConnection.java:1631) ~[spigot-1.16.5.jar:2991-Spigot-018b9a0-f3f3094]\n        at net.minecraft.server.v1_16_R3.PlayerConnection.a(PlayerConnection.java:1584) ~[spigot-1.16.5.jar:2991-Spigot-018b9a0-f3f3094]\n        at net.minecraft.server.v1_16_R3.PacketPlayInChat.a(PacketPlayInChat.java:47) ~[spigot-1.16.5.jar:2991-Spigot-018b9a0-f3f3094]\n        at net.minecraft.server.v1_16_R3.PacketPlayInChat.a(PacketPlayInChat.java:1) ~[spigot-1.16.5.jar:2991-Spigot-018b9a0-f3f3094]\n        at net.minecraft.server.v1_16_R3.PlayerConnectionUtils.lambda$0(PlayerConnectionUtils.java:19) ~[spigot-1.16.5.jar:2991-Spigot-018b9a0-f3f3094]\n        at net.minecraft.server.v1_16_R3.TickTask.run(SourceFile:18) ~[spigot-1.16.5.jar:2991-Spigot-018b9a0-f3f3094]\n        at net.minecraft.server.v1_16_R3.IAsyncTaskHandler.executeTask(SourceFile:144) ~[spigot-1.16.5.jar:2991-Spigot-018b9a0-f3f3094]\n        at net.minecraft.server.v1_16_R3.IAsyncTaskHandlerReentrant.executeTask(SourceFile:23) ~[spigot-1.16.5.jar:2991-Spigot-018b9a0-f3f3094]\n        at net.minecraft.server.v1_16_R3.IAsyncTaskHandler.executeNext(SourceFile:118) ~[spigot-1.16.5.jar:2991-Spigot-018b9a0-f3f3094]\n        at net.minecraft.server.v1_16_R3.MinecraftServer.bb(MinecraftServer.java:942) ~[spigot-1.16.5.jar:2991-Spigot-018b9a0-f3f3094]\n        at net.minecraft.server.v1_16_R3.MinecraftServer.executeNext(MinecraftServer.java:935) ~[spigot-1.16.5.jar:2991-Spigot-018b9a0-f3f3094]\n        at net.minecraft.server.v1_16_R3.IAsyncTaskHandler.awaitTasks(SourceFile:127) ~[spigot-1.16.5.jar:2991-Spigot-018b9a0-f3f3094]\n        at net.minecraft.server.v1_16_R3.MinecraftServer.sleepForTick(MinecraftServer.java:919) ~[spigot-1.16.5.jar:2991-Spigot-018b9a0-f3f3094]\n        at net.minecraft.server.v1_16_R3.MinecraftServer.w(MinecraftServer.java:851) ~[spigot-1.16.5.jar:2991-Spigot-018b9a0-f3f3094]\n        at net.minecraft.server.v1_16_R3.MinecraftServer.lambda$0(MinecraftServer.java:164) ~[spigot-1.16.5.jar:2991-Spigot-018b9a0-f3f3094]\n        at java.lang.Thread.run(Unknown Source) [?:1.8.0_241]\nCaused by: java.lang.NullPointerException\n        at com.t2o0n321.setHome.command.sethome.onCommand(sethome.java:33) ~[?:?]\n        at org.bukkit.command.PluginCommand.execute(PluginCommand.java:45) ~[spigot-1.16.5.jar:2991-Spigot-018b9a0-f3f3094]\n        ... 19 more\n</code></pre>\n<p>Here is my code(sethome.java):</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.t2o0n321.setHome.command;\n\nimport org.bukkit.Bukkit;\nimport org.bukkit.Location;\nimport org.bukkit.command.Command;\nimport org.bukkit.command.CommandExecutor;\nimport org.bukkit.command.CommandSender;\nimport org.bukkit.entity.Player;\nimport com.t2o0n321.setHome.config.config;\nimport com.t2o0n321.setHome.utils.utils;\n\npublic class sethome implements CommandExecutor {\n\n    private static int max_home_amount = 2;\n\n    @Override\n    public boolean onCommand(CommandSender sender, Command cmd,String label,String args[]){\n        Player player = (Player) sender;\n        if(!(player instanceof Player)){\n            Bukkit.getConsoleSender().sendMessage(utils.chat(&quot;&amp;c[setHome] Only player can issue commands !&quot;));\n            return true;\n        }\n        if(cmd.getName().equalsIgnoreCase(&quot;sethome&quot;)){\n            if(args.length == 1){\n                // init player data\n                config.reload();\n                // get player info\n                String path = player.getName();\n                int home_amount = 0;\n                for(String home : config.get().getConfigurationSection(path).getKeys(false)){\n                    home_amount ++;\n                }\n                if(home_amount &lt; max_home_amount){\n                    // record new home data\n                    Location loc = player.getLocation();\n                    double x = loc.getX();\n                    double y = loc.getY();\n                    double z = loc.getZ();\n                    String w = loc.getWorld().toString();\n\n                    String x_path = player.getName() + &quot;.&quot; + args[0] + &quot;.x&quot;;\n                    String y_path = player.getName() + &quot;.&quot; + args[0] + &quot;.y&quot;;\n                    String z_path = player.getName() + &quot;.&quot; + args[0] + &quot;.z&quot;;\n                    String w_path = player.getName() + &quot;.&quot; + args[0] + &quot;.w&quot;;\n\n                    config.get().set(x_path,x);\n                    config.get().set(y_path,y);\n                    config.get().set(z_path,z);\n                    config.get().set(w_path,w);\n\n                    config.save();\n                }\n                else{\n                    player.sendMessage(utils.chat(&quot;You can only set &quot;+ max_home_amount + &quot; homes !&quot;));\n                }\n            }\n            else{\n                player.sendMessage(utils.chat(&quot;Usage: /sethome &lt;home&gt;&quot;));\n            }\n            return true;\n        }\n        return true;\n    }\n}\n\n</code></pre>\n"},{"tags":["java","testing","junit5","quarkus"],"comments":[{"owner":{"account_id":385127,"reputation":6284,"user_id":742081,"display_name":"Ladicek"},"score":0,"creation_date":1625065310,"post_id":68196574,"comment_id":120529456,"body_markdown":"`quarkus-junit5` or `quarkus-junit5-mockito` are not &quot;Quarkus implementations&quot; of JUnit 5 or Mockito. They give you the same JUnit 5 and Mockito libraries you&#39;re used to. On top of that, there&#39;s tight integration with Quarkus that allows easy testing of Quarkus applications. It is not either-or. You can use plain JUnit for unit testing components (unless those components are CDI beans, or some other reason why they need some sort of a container), and the Quarkus integration for integration testing the application.","body":"<code>quarkus-junit5</code> or <code>quarkus-junit5-mockito</code> are not &quot;Quarkus implementations&quot; of JUnit 5 or Mockito. They give you the same JUnit 5 and Mockito libraries you&#39;re used to. On top of that, there&#39;s tight integration with Quarkus that allows easy testing of Quarkus applications. It is not either-or. You can use plain JUnit for unit testing components (unless those components are CDI beans, or some other reason why they need some sort of a container), and the Quarkus integration for integration testing the application."},{"owner":{"account_id":3671809,"reputation":1284,"user_id":3058832,"display_name":"dgebert"},"score":0,"creation_date":1625124495,"post_id":68196574,"comment_id":120544918,"body_markdown":"I know that I can use plain JUnit for testing some components but the question is if I should do it? What&#39;s the difference here between `quarkus-junit5` and `junit5`?","body":"I know that I can use plain JUnit for testing some components but the question is if I should do it? What&#39;s the difference here between <code>quarkus-junit5</code> and <code>junit5</code>?"},{"owner":{"account_id":7215228,"reputation":1692,"user_id":5507961,"accept_rate":75,"display_name":"Javier Toja"},"score":0,"creation_date":1625208424,"post_id":68196574,"comment_id":120571123,"body_markdown":"Well It is supposed but not confirmed that using framework version should ensure classpath compatibility between your libraries, if you handle each library independently you will have to do this yourself, also the quarkus annotations do some sugar for you in terms of configurations and integration with other parts of the framework as it is testing with container builds with the QuarkusTestIntegration annotation and help you manage your test dependencies lifecycle out of the box with the QuarkusTestResourceLifecylce. @dgebert.","body":"Well It is supposed but not confirmed that using framework version should ensure classpath compatibility between your libraries, if you handle each library independently you will have to do this yourself, also the quarkus annotations do some sugar for you in terms of configurations and integration with other parts of the framework as it is testing with container builds with the QuarkusTestIntegration annotation and help you manage your test dependencies lifecycle out of the box with the QuarkusTestResourceLifecylce. @dgebert."},{"owner":{"account_id":3671809,"reputation":1284,"user_id":3058832,"display_name":"dgebert"},"score":0,"creation_date":1625479433,"post_id":68196574,"comment_id":120629672,"body_markdown":"Thanks @karelss, I guess that&#39;s true, just not sure if that&#39;s enough to make educated decision to choose the correct approach","body":"Thanks @karelss, I guess that&#39;s true, just not sure if that&#39;s enough to make educated decision to choose the correct approach"},{"owner":{"account_id":10984350,"reputation":380,"user_id":8070550,"display_name":"Rok T."},"score":0,"creation_date":1683914980,"post_id":68196574,"comment_id":134445139,"body_markdown":"As said, when you are doing bare bone unit tests its best to use Junit5 + Mockito directly, while when you are doing component tests or whatever bigger tests you are doing with @QuarkusTest then you should use the Quarkus versions.","body":"As said, when you are doing bare bone unit tests its best to use Junit5 + Mockito directly, while when you are doing component tests or whatever bigger tests you are doing with @QuarkusTest then you should use the Quarkus versions."}],"answers":[{"tags":[],"owner":{"account_id":22353552,"reputation":449,"user_id":16571215,"display_name":"Marek ylicz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1628211079,"creation_date":1628211079,"answer_id":68674920,"question_id":68196574,"body_markdown":"As people mentioned in comments to your posts, quarkus implementation of junit5 and mockito is the same junit5 and mockito used in vanilla libraries, but with better integration with the quarkus framework. You should have move features making developer&#39;s life easier, especially when writing integration tests.\r\n\r\n&gt; What I am looking for is to find out if there are any reasons(except readability and less coding) to go with Quarkus libraries? If not, I guess the preference for most java teams should be standard testing libraries usage.\r\n\r\nIt depends on the team. If you plan to use your code only with quarkus, why not use the solution that makes writing tests easier? Do we have any high risk of using the quarkus testing framework? Also, if you encounter problems, switching back to the native junit-5 and mockito shouldn&#39;t be a high cost for the team.  ","title":"Quarkus testing libraries","body":"<p>As people mentioned in comments to your posts, quarkus implementation of junit5 and mockito is the same junit5 and mockito used in vanilla libraries, but with better integration with the quarkus framework. You should have move features making developer's life easier, especially when writing integration tests.</p>\n<blockquote>\n<p>What I am looking for is to find out if there are any reasons(except readability and less coding) to go with Quarkus libraries? If not, I guess the preference for most java teams should be standard testing libraries usage.</p>\n</blockquote>\n<p>It depends on the team. If you plan to use your code only with quarkus, why not use the solution that makes writing tests easier? Do we have any high risk of using the quarkus testing framework? Also, if you encounter problems, switching back to the native junit-5 and mockito shouldn't be a high cost for the team.</p>\n"},{"tags":[],"owner":{"account_id":1335627,"reputation":1470,"user_id":1278463,"display_name":"Borislav Gizdov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683476410,"creation_date":1683476410,"answer_id":76195027,"question_id":68196574,"body_markdown":"The quarkus-junit5 library is necessary for testing, as it includes the @QuarkusTest annotation to manage the testing framework. This annotation initiates the testing process in a Quarkus environment, where configurations are read, all beans are visible, and everything is initialized for testing.\r\nFor example for testing resources you will need full Quarkus environmnet initialized during tessting.\r\n\r\nhttps://quarkus.io/guides/getting-started-testing\r\n\r\n@InjectMock method can be used for any normal scoped CDI bean (e.g. @ApplicationScoped, @RequestScoped etc, basically every scope except @Singleton and @Dependent).\r\n\r\n\r\nInstead of using &quot;@InjectMock&quot;, you can still achieve the same functionality but with slightly more code by using &quot;QuarkusMock.installMockForType()&quot; or &quot;QuarkusMock.installMockForInstance()&quot;.\r\n\r\n```\r\n@QuarkusTest\r\nclass Calculator2Test {\r\n\r\n  Calculator calculatorMock;\r\n\r\n  @BeforeEach\r\n  void setUp() {\r\n    calculatorMock = Mockito.mock(Calculator.class);\r\n    Mockito.when(calculatorMock.sum(1, 1)).thenReturn(2);\r\n    Mockito.when(calculatorMock.sum(2, 2)).thenReturn(4);\r\n    QuarkusMock.installMockForType(calculatorMock, Calculator.class);\r\n  }\r\n\r\n  @Test\r\n  void sum() {\r\n    assertEquals(2, calculatorMock.sum(1, 1));\r\n    assertEquals(4, calculatorMock.sum(2, 2));\r\n  }\r\n}\r\n```\r\n\r\nhttps://quarkus.io/guides/getting-started-testing#quarkus_mock\r\n\r\nInstead, you can simply use &quot;@InjectMock&quot;.\r\n\r\n```\r\n\r\n@QuarkusTest\r\nclass CalculatorTest {\r\n\r\n  @InjectMock Calculator calculatorMock;\r\n\r\n  @BeforeEach\r\n  void setUp() {\r\n    Mockito.when(calculatorMock.sum(1, 1)).thenReturn(2);\r\n    Mockito.when(calculatorMock.sum(2, 2)).thenReturn(4);\r\n  }\r\n\r\n  @Test\r\n  void sum() {\r\n    assertEquals(2, calculatorMock.sum(1, 1));\r\n    assertEquals(4, calculatorMock.sum(2, 2));\r\n  }\r\n}\r\n```\r\n\r\nhttps://quarkus.io/guides/getting-started-testing#further-simplification-with-injectmock\r\n\r\n\r\nYou can also check @InjectWireMock @InjectSpy.","title":"Quarkus testing libraries","body":"<p>The quarkus-junit5 library is necessary for testing, as it includes the @QuarkusTest annotation to manage the testing framework. This annotation initiates the testing process in a Quarkus environment, where configurations are read, all beans are visible, and everything is initialized for testing.\nFor example for testing resources you will need full Quarkus environmnet initialized during tessting.</p>\n<p><a href=\"https://quarkus.io/guides/getting-started-testing\" rel=\"nofollow noreferrer\">https://quarkus.io/guides/getting-started-testing</a></p>\n<p>@InjectMock method can be used for any normal scoped CDI bean (e.g. @ApplicationScoped, @RequestScoped etc, basically every scope except @Singleton and @Dependent).</p>\n<p>Instead of using &quot;@InjectMock&quot;, you can still achieve the same functionality but with slightly more code by using &quot;QuarkusMock.installMockForType()&quot; or &quot;QuarkusMock.installMockForInstance()&quot;.</p>\n<pre><code>@QuarkusTest\nclass Calculator2Test {\n\n  Calculator calculatorMock;\n\n  @BeforeEach\n  void setUp() {\n    calculatorMock = Mockito.mock(Calculator.class);\n    Mockito.when(calculatorMock.sum(1, 1)).thenReturn(2);\n    Mockito.when(calculatorMock.sum(2, 2)).thenReturn(4);\n    QuarkusMock.installMockForType(calculatorMock, Calculator.class);\n  }\n\n  @Test\n  void sum() {\n    assertEquals(2, calculatorMock.sum(1, 1));\n    assertEquals(4, calculatorMock.sum(2, 2));\n  }\n}\n</code></pre>\n<p><a href=\"https://quarkus.io/guides/getting-started-testing#quarkus_mock\" rel=\"nofollow noreferrer\">https://quarkus.io/guides/getting-started-testing#quarkus_mock</a></p>\n<p>Instead, you can simply use &quot;@InjectMock&quot;.</p>\n<pre><code>\n@QuarkusTest\nclass CalculatorTest {\n\n  @InjectMock Calculator calculatorMock;\n\n  @BeforeEach\n  void setUp() {\n    Mockito.when(calculatorMock.sum(1, 1)).thenReturn(2);\n    Mockito.when(calculatorMock.sum(2, 2)).thenReturn(4);\n  }\n\n  @Test\n  void sum() {\n    assertEquals(2, calculatorMock.sum(1, 1));\n    assertEquals(4, calculatorMock.sum(2, 2));\n  }\n}\n</code></pre>\n<p><a href=\"https://quarkus.io/guides/getting-started-testing#further-simplification-with-injectmock\" rel=\"nofollow noreferrer\">https://quarkus.io/guides/getting-started-testing#further-simplification-with-injectmock</a></p>\n<p>You can also check @InjectWireMock @InjectSpy.</p>\n"}],"owner":{"account_id":3671809,"reputation":1284,"user_id":3058832,"display_name":"dgebert"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":382,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1683476410,"creation_date":1625062802,"question_id":68196574,"body_markdown":"We recently decided to create our new project using Quarkus. Now we struggling to make a decision which testing libraries we want to use:\r\n\r\n - quarkus implementations ( for example `io.quarkus.quarkus-junit5`, `io.quarkus.quarkus-junit5-mockito`)\r\n - standard testing libraries: `Junit5` + `Mockito`\r\n\r\nWe are already familiar with `Junit5` + `Mockito` non-quarkus implementations, so we don&#39;t need to learn anything new if we decide to proceed with those libraries\r\n\r\nUsing Quarkus libraries we have some new features available like `@InjectMock` or `@QuarkusTest`, which seems to keep Test classes more tidy.\r\n\r\nWhat I am looking for is to find out if there are any reasons(except readability and less coding) to go with Quarkus libraries? If not I guess the preference for most java teams should be standard testing libraries usage.\r\n\r\n","title":"Quarkus testing libraries","body":"<p>We recently decided to create our new project using Quarkus. Now we struggling to make a decision which testing libraries we want to use:</p>\n<ul>\n<li>quarkus implementations ( for example <code>io.quarkus.quarkus-junit5</code>, <code>io.quarkus.quarkus-junit5-mockito</code>)</li>\n<li>standard testing libraries: <code>Junit5</code> + <code>Mockito</code></li>\n</ul>\n<p>We are already familiar with <code>Junit5</code> + <code>Mockito</code> non-quarkus implementations, so we don't need to learn anything new if we decide to proceed with those libraries</p>\n<p>Using Quarkus libraries we have some new features available like <code>@InjectMock</code> or <code>@QuarkusTest</code>, which seems to keep Test classes more tidy.</p>\n<p>What I am looking for is to find out if there are any reasons(except readability and less coding) to go with Quarkus libraries? If not I guess the preference for most java teams should be standard testing libraries usage.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1683459288,"post_id":76193599,"comment_id":134367127,"body_markdown":"Why do you need a constructor of abstract class?","body":"Why do you need a constructor of abstract class?"},{"owner":{"account_id":11563256,"reputation":401,"user_id":8472357,"display_name":"Hasan Kaan TURAN"},"score":0,"creation_date":1683460108,"post_id":76193599,"comment_id":134367231,"body_markdown":"I dont need. I just try","body":"I dont need. I just try"}],"answers":[{"tags":[],"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1683460074,"creation_date":1683460074,"answer_id":76193735,"question_id":76193599,"body_markdown":"You may infer generic type parameter via something like:\r\n\r\n```java\r\nResolvableType type = \r\n ResolvableType.forClass(getClass()).as(MyAbstractService.class);\r\nClass&lt;?&gt;[] typeArguments = type.resolveGenerics(Object.class);\r\nreturn (Class&lt;E&gt;) typeArguments[0];\r\n```\r\n\r\nHowever nothing prevents you from writing that in more clear way:\r\n\r\n\r\n```java\r\npublic abstract class MyAbstractService&lt;E extends AbstracyEntity&gt; {\r\n\r\n   private Class&lt;E&gt; type;\r\n\r\n   pubic MyAbstractService(Class&lt;E&gt; type) {\r\n       this.type = type;\r\n   }\r\n\r\n}\r\n\r\npublic class MyService extends MyAbstractService&lt;MyClass&gt; {\r\n\r\n    pubic MyService() {\r\n        super(MyClass.class);\r\n    }\r\n}\r\n\r\n```","title":"Get generic class type and name in abstract class without constructor","body":"<p>You may infer generic type parameter via something like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ResolvableType type = \n ResolvableType.forClass(getClass()).as(MyAbstractService.class);\nClass&lt;?&gt;[] typeArguments = type.resolveGenerics(Object.class);\nreturn (Class&lt;E&gt;) typeArguments[0];\n</code></pre>\n<p>However nothing prevents you from writing that in more clear way:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public abstract class MyAbstractService&lt;E extends AbstracyEntity&gt; {\n\n   private Class&lt;E&gt; type;\n\n   pubic MyAbstractService(Class&lt;E&gt; type) {\n       this.type = type;\n   }\n\n}\n\npublic class MyService extends MyAbstractService&lt;MyClass&gt; {\n\n    pubic MyService() {\n        super(MyClass.class);\n    }\n}\n\n</code></pre>\n"}],"owner":{"account_id":11563256,"reputation":401,"user_id":8472357,"display_name":"Hasan Kaan TURAN"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1683494255,"accepted_answer_id":76193735,"answer_count":1,"score":-1,"last_activity_date":1683475417,"creation_date":1683458346,"question_id":76193599,"body_markdown":"My class:\r\n```\r\npublic class MyClass extends AbstracyEntity {\r\n   \r\n   ...\r\n\r\n}\r\n```\r\nMy service:\r\n```\r\n@Service\r\n@RequiredArgsConstructor\r\npublic class MyService extends MyAbstractService&lt;MyClass&gt; {\r\n   \r\n   ...\r\n\r\n}\r\n```\r\nMy abstract class:\r\n```\r\npublic abstract class MyAbstractService&lt;E extends AbstracyEntity&gt; {\r\n   \r\n   public void myAbstractMethod() {\r\n      Class&lt;?&gt; c = E.getClass();\r\n      System.out.println(c.getSimpleName());\r\n   }\r\n\r\n}\r\n```\r\nFinally expected output from Abstract Service -&gt; myAbstractMethod() :\r\n```\r\nMyClass\r\n```\r\nFrom whatever entity my abstracted service is abstracted from, I need the related entity&#39;s type and class name. Because I aim to create dynamic queries with common conditions with entity name. Example:\r\n```\r\nString sql = &quot;Select t From &quot; + E.getClass.getSimpleName() + &quot; t where ...&quot;;\r\n```\r\nI solved the problem by defining a constructor in an abstract class, but I don&#39;t think it&#39;s the best solution. What is the best solution? ","title":"Get generic class type and name in abstract class without constructor","body":"<p>My class:</p>\n<pre><code>public class MyClass extends AbstracyEntity {\n   \n   ...\n\n}\n</code></pre>\n<p>My service:</p>\n<pre><code>@Service\n@RequiredArgsConstructor\npublic class MyService extends MyAbstractService&lt;MyClass&gt; {\n   \n   ...\n\n}\n</code></pre>\n<p>My abstract class:</p>\n<pre><code>public abstract class MyAbstractService&lt;E extends AbstracyEntity&gt; {\n   \n   public void myAbstractMethod() {\n      Class&lt;?&gt; c = E.getClass();\n      System.out.println(c.getSimpleName());\n   }\n\n}\n</code></pre>\n<p>Finally expected output from Abstract Service -&gt; myAbstractMethod() :</p>\n<pre><code>MyClass\n</code></pre>\n<p>From whatever entity my abstracted service is abstracted from, I need the related entity's type and class name. Because I aim to create dynamic queries with common conditions with entity name. Example:</p>\n<pre><code>String sql = &quot;Select t From &quot; + E.getClass.getSimpleName() + &quot; t where ...&quot;;\n</code></pre>\n<p>I solved the problem by defining a constructor in an abstract class, but I don't think it's the best solution. What is the best solution?</p>\n"},{"tags":["java","sqlite"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1683462603,"post_id":76193890,"comment_id":134367522,"body_markdown":"What is `amount` and where and how is it set?","body":"What is <code>amount</code> and where and how is it set?"},{"owner":{"account_id":23693855,"reputation":1,"user_id":17720472,"display_name":"Liron"},"score":0,"creation_date":1683462988,"post_id":76193890,"comment_id":134367576,"body_markdown":"amout is amount of &quot;money&quot; wich goes from one acount&#39;s balance to another","body":"amout is amount of &quot;money&quot; wich goes from one acount&#39;s balance to another"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1683463038,"post_id":76193890,"comment_id":134367586,"body_markdown":"a. what is its value? (Make sure it isn&#39;t zero) b. are you even sure that the `if` block is executing?","body":"a. what is its value? (Make sure it isn&#39;t zero) b. are you even sure that the <code>if</code> block is executing?"},{"owner":{"account_id":23693855,"reputation":1,"user_id":17720472,"display_name":"Liron"},"score":0,"creation_date":1683463150,"post_id":76193890,"comment_id":134367608,"body_markdown":"amount is defenetly not zero and if block defently executing","body":"amount is defenetly not zero and if block defently executing"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1683463974,"post_id":76193890,"comment_id":134367700,"body_markdown":"Can&#39;t see it at the mo but `String balanceUpdate = &quot;UPDATE Account SET balance = balance - ? WHERE Account.id = ?&quot;;` (using `amount` as the first parameter) would eliminate the first query","body":"Can&#39;t see it at the mo but <code>String balanceUpdate = &quot;UPDATE Account SET balance = balance - ? WHERE Account.id = ?&quot;;</code> (using <code>amount</code> as the first parameter) would eliminate the first query"},{"owner":{"account_id":23693855,"reputation":1,"user_id":17720472,"display_name":"Liron"},"score":0,"creation_date":1683464314,"post_id":76193890,"comment_id":134367736,"body_markdown":"sadly but it&#39;s didn&#39;t help either","body":"sadly but it&#39;s didn&#39;t help either"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1683466219,"post_id":76193890,"comment_id":134368016,"body_markdown":"Two other things to check: a. you&#39;re connected to the db you think you are b. you have update privileges","body":"Two other things to check: a. you&#39;re connected to the db you think you are b. you have update privileges"},{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1683475003,"post_id":76193890,"comment_id":134369153,"body_markdown":"@Liron, Your code is broken, it causes either bank or client to loose money. You need to first read something about isolation levels, pessimistic/optimistic locks, etc.","body":"@Liron, Your code is broken, it causes either bank or client to loose money. You need to first read something about isolation levels, pessimistic/optimistic locks, etc."}],"owner":{"account_id":23693855,"reputation":1,"user_id":17720472,"display_name":"Liron"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683474522,"creation_date":1683462037,"question_id":76193890,"body_markdown":"I&#39;m trying to make a method which will make &quot;transactions&quot; in data base. It should take balance of account from db and withdraw an amount, then change balance state in db, but it&#39;s not doing anything.\r\n\r\n```\r\npublic void balanceTransactionChange(Integer accountIdFrom, Integer accountIdTo, double amount){\r\n        double balanceFrom = 0;\r\n        double balanceTo = 0;\r\n\r\n\r\n        if (Objects.equals(accountIdTo, accountIdFrom)){\r\n            dbConnection coon = new dbConnection();\r\n            String query = &quot;select * from Account WHERE Account.id = &quot;+accountIdFrom.toString();\r\n            try {\r\n                double balance = 0;\r\n                Statement statement = coon.getConnection().createStatement();\r\n                ResultSet resultSet = statement.executeQuery(query);\r\n                while (resultSet.next()){\r\n                    balance = resultSet.getDouble(&quot;balance&quot;);\r\n                }\r\n\r\n                resultSet.close();\r\n                statement.close();\r\n\r\n                String second = &quot;UPDATE Account SET balance = ? WHERE Account.id = ?&quot;;\r\n\r\n                PreparedStatement preparedStatement = coon.getConnection().prepareStatement(second);\r\n                preparedStatement.setDouble(1, balance - amount);\r\n                preparedStatement.setInt(2,accountIdFrom);\r\n\r\n                preparedStatement.executeUpdate();\r\n                System.err.println(&quot;aaaaa&quot;);\r\n                preparedStatement.close();\r\n\r\n            } catch (SQLException e) {\r\n                throw new RuntimeException(e);\r\n            } finally {\r\n                coon.closeConnection();\r\n            }\r\n}\r\n```\r\n\r\nI tried to use Replace instead of update, but its just adding in table completely new state","title":"SQLite Update doesn&#39;t change statement in database","body":"<p>I'm trying to make a method which will make &quot;transactions&quot; in data base. It should take balance of account from db and withdraw an amount, then change balance state in db, but it's not doing anything.</p>\n<pre><code>public void balanceTransactionChange(Integer accountIdFrom, Integer accountIdTo, double amount){\n        double balanceFrom = 0;\n        double balanceTo = 0;\n\n\n        if (Objects.equals(accountIdTo, accountIdFrom)){\n            dbConnection coon = new dbConnection();\n            String query = &quot;select * from Account WHERE Account.id = &quot;+accountIdFrom.toString();\n            try {\n                double balance = 0;\n                Statement statement = coon.getConnection().createStatement();\n                ResultSet resultSet = statement.executeQuery(query);\n                while (resultSet.next()){\n                    balance = resultSet.getDouble(&quot;balance&quot;);\n                }\n\n                resultSet.close();\n                statement.close();\n\n                String second = &quot;UPDATE Account SET balance = ? WHERE Account.id = ?&quot;;\n\n                PreparedStatement preparedStatement = coon.getConnection().prepareStatement(second);\n                preparedStatement.setDouble(1, balance - amount);\n                preparedStatement.setInt(2,accountIdFrom);\n\n                preparedStatement.executeUpdate();\n                System.err.println(&quot;aaaaa&quot;);\n                preparedStatement.close();\n\n            } catch (SQLException e) {\n                throw new RuntimeException(e);\n            } finally {\n                coon.closeConnection();\n            }\n}\n</code></pre>\n<p>I tried to use Replace instead of update, but its just adding in table completely new state</p>\n"},{"tags":["java","button","jbutton","jlabel"],"answers":[{"tags":[],"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683474005,"creation_date":1683474005,"answer_id":76194864,"question_id":76194432,"body_markdown":"It would be preferable to implement `ItemListener` (you can implement `ActionListener` too) and then in the handler:\r\n\r\n    @Override\r\n    public void itemStateChanged(ItemEvent event) {\r\n       if (event.getStateChange() == ItemEvent.SELECTED) {\r\n          reply.setText(event.getItem().toString());\r\n       }\r\n    }       \r\n\r\n","title":"After an option from the JComboBox is selected, the text of a JLabel should be changed","body":"<p>It would be preferable to implement <code>ItemListener</code> (you can implement <code>ActionListener</code> too) and then in the handler:</p>\n<pre><code>@Override\npublic void itemStateChanged(ItemEvent event) {\n   if (event.getStateChange() == ItemEvent.SELECTED) {\n      reply.setText(event.getItem().toString());\n   }\n}       \n</code></pre>\n"}],"owner":{"account_id":28510477,"reputation":1,"user_id":21820540,"display_name":"Caitlyn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683474005,"creation_date":1683468476,"question_id":76194432,"body_markdown":"```\r\nimport java.awt.*;\r\nimport java.awt.event.*;\r\nimport javax.swing.*;\r\n\r\nclass Main extends JPanel implements ActionListener\r\n  {\r\n    JLabel question, res, reply;\r\nJCheckBox three, fortyThree, one, eightySeven, nine, ten;\r\n    JButton submit;\r\n    JComboBox&lt;String&gt; box;\r\nString option[];\r\n    \r\n    public void main()\r\n    {\r\n      JFrame frm = new JFrame(&quot;GUI INTRO&quot;);\r\n      JPanel content = new JPanel();\r\n      frm.add(content);\r\n\r\n      String option[] = {&quot;inches to centimeters&quot;, &quot;miles to feet&quot;, &quot;kilograms to pounds&quot;, &quot;cups to fluid ounces&quot;};\r\n      box = new JComboBox&lt;&gt;(option);\r\n      box.setBounds(50,80,90,30);\r\n       reply = new JLabel(&quot; &quot;);\r\n      content.add(box);\r\n      content.add(reply);\r\n  \r\n         frm.setLayout(new FlowLayout()); \r\n      frm.setSize(700,700);\r\n      frm.setLocationRelativeTo(null);  \r\n      \r\n      frm.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n      frm.setVisible(true);\r\n    }\r\npublic void actionPerformed(ActionEvent e){\r\n  if(option[0].isSelected()) // Error occurs here\r\n    reply.setText(&quot;1 inch = 2.54 centimeters&quot;);\r\n} \r\n      public static void main(String[] args){\r\n        Main frame = new Main();\r\n        frame.main();\r\n      }\r\n    }\r\n```\r\n\r\nWhen the option &quot;inches to centimeters&quot; is chosen the JLabel &#39;reply&#39; should be changed to &quot;1 inch = 2.54 centimeters&quot;. The issue is that I don&#39;t know haw to call it properly. I called it by stating if(option[0].isSelected()) and since &quot;inches to centimeters&quot; is option[0] I would expect it to work. I&#39;m unsure if you can even use .isSelected() for locating the JComboBox option selected.","title":"After an option from the JComboBox is selected, the text of a JLabel should be changed","body":"<pre><code>import java.awt.*;\nimport java.awt.event.*;\nimport javax.swing.*;\n\nclass Main extends JPanel implements ActionListener\n  {\n    JLabel question, res, reply;\nJCheckBox three, fortyThree, one, eightySeven, nine, ten;\n    JButton submit;\n    JComboBox&lt;String&gt; box;\nString option[];\n    \n    public void main()\n    {\n      JFrame frm = new JFrame(&quot;GUI INTRO&quot;);\n      JPanel content = new JPanel();\n      frm.add(content);\n\n      String option[] = {&quot;inches to centimeters&quot;, &quot;miles to feet&quot;, &quot;kilograms to pounds&quot;, &quot;cups to fluid ounces&quot;};\n      box = new JComboBox&lt;&gt;(option);\n      box.setBounds(50,80,90,30);\n       reply = new JLabel(&quot; &quot;);\n      content.add(box);\n      content.add(reply);\n  \n         frm.setLayout(new FlowLayout()); \n      frm.setSize(700,700);\n      frm.setLocationRelativeTo(null);  \n      \n      frm.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n      frm.setVisible(true);\n    }\npublic void actionPerformed(ActionEvent e){\n  if(option[0].isSelected()) // Error occurs here\n    reply.setText(&quot;1 inch = 2.54 centimeters&quot;);\n} \n      public static void main(String[] args){\n        Main frame = new Main();\n        frame.main();\n      }\n    }\n</code></pre>\n<p>When the option &quot;inches to centimeters&quot; is chosen the JLabel 'reply' should be changed to &quot;1 inch = 2.54 centimeters&quot;. The issue is that I don't know haw to call it properly. I called it by stating if(option[0].isSelected()) and since &quot;inches to centimeters&quot; is option[0] I would expect it to work. I'm unsure if you can even use .isSelected() for locating the JComboBox option selected.</p>\n"},{"tags":["java","api","rest","automation","rest-assured"],"comments":[{"owner":{"account_id":28104689,"reputation":512,"user_id":21473475,"display_name":"Arfur Narf"},"score":1,"creation_date":1683376011,"post_id":76188858,"comment_id":134359182,"body_markdown":"Which is line 96 of your code?","body":"Which is line 96 of your code?"}],"owner":{"account_id":28527155,"reputation":9,"user_id":21835071,"display_name":"Girish Manvatkar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":224,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1683473676,"creation_date":1683375636,"question_id":76188858,"body_markdown":"Exception in thread &quot;main&quot; java.lang.NullPointerException: Cannot get property &#39;assertionClosure&#39; on null object\r\n\r\n```java\r\nRequestSpecification createOrderBaseReq = new RequestSpecBuilder().setBaseUri(&quot;https://rahulshettyacademy.com&quot;)\r\n\t\t.addHeader(&quot;Authorization&quot;, Token ).setContentType(ContentType.JSON)\r\n\t\t\t.build();\r\n\t\r\n\t\r\n\t\r\n\tCreateOrderRequestPojo  CreateOrderRequest = new CreateOrderRequestPojo();\r\n\r\n\tCreateOrderRequest.setCountry(&quot;India&quot;);\r\n\tCreateOrderRequest.setProductOrderedId(productid);\r\n\t\r\n\tList&lt;CreateOrderRequestPojo&gt;  CreateOrderRequestlist = new ArrayList&lt;CreateOrderRequestPojo&gt;();\r\n\tCreateOrderRequestlist.add(CreateOrderRequest);\r\n\t\r\n\tOrdersPojo orders = new  OrdersPojo();\r\n\torders.setOrders(CreateOrderRequestlist);\r\n\t\r\n\tRequestSpecification createOrderReq = createOrderBaseReq.given().log().all().spec(createOrderBaseReq).body(orders);\r\n\t\r\n\tString CreateOrderResponce = createOrderReq.when().post(&quot;/api/ecom/order/create-order&quot;).then().log().all().extract().response().asString();\r\n\t\r\n\t\r\n\t\tSystem.out.println(CreateOrderResponce);\t\r\n```\r\n\t\t\r\n\t\t\r\ngetting this error \r\n```none\r\nException in thread &quot;main&quot; java.lang.NullPointerException: Cannot get property &#39;assertionClosure&#39; on null object\r\n\tat org.codehaus.groovy.runtime.NullObject.getProperty(NullObject.java:62)\r\n\tat org.codehaus.groovy.runtime.InvokerHelper.getProperty(InvokerHelper.java:167)\r\n\tat org.codehaus.groovy.runtime.callsite.NullCallSite.getProperty(NullCallSite.java:48)\r\n\tat org.codehaus.groovy.runtime.callsite.GetEffectivePogoFieldSite.callGetProperty(GetEffectivePogoFieldSite.java:48)\r\n\tat io.restassured.internal.RequestSpecificationImpl.applyPathParamsAndSendRequest(RequestSpecificationImpl.groovy:1702)\r\n\tat io.restassured.internal.RequestSpecificationImpl.this$2$applyPathParamsAndSendRequest(RequestSpecificationImpl.groovy)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.codehaus.groovy.reflection.CachedMethod.invoke(CachedMethod.java:343)\r\n\tat groovy.lang.MetaMethod.doMethodInvoke(MetaMethod.java:328)\r\n\tat groovy.lang.MetaClassImpl.doInvokeMethod(MetaClassImpl.java:1348)\r\n\tat groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1103)\r\n\tat groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1009)\r\n\tat groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:792)\r\n\tat io.restassured.internal.RequestSpecificationImpl.invokeMethod(RequestSpecificationImpl.groovy)\r\n\tat org.codehaus.groovy.runtime.callsite.PogoInterceptableSite.call(PogoInterceptableSite.java:46)\r\n\tat org.codehaus.groovy.runtime.callsite.PogoInterceptableSite.callCurrent(PogoInterceptableSite.java:57)\r\n\tat org.codehaus.groovy.runtime.callsite.AbstractCallSite.callCurrent(AbstractCallSite.java:203)\r\n\tat io.restassured.internal.RequestSpecificationImpl.applyPathParamsAndSendRequest(RequestSpecificationImpl.groovy:1710)\r\n\tat io.restassured.internal.RequestSpecificationImpl.this$2$applyPathParamsAndSendRequest(RequestSpecificationImpl.groovy)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.codehaus.groovy.reflection.CachedMethod.invoke(CachedMethod.java:343)\r\n\tat groovy.lang.MetaMethod.doMethodInvoke(MetaMethod.java:328)\r\n\tat groovy.lang.MetaClassImpl.doInvokeMethod(MetaClassImpl.java:1348)\r\n\tat groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1103)\r\n\tat groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1009)\r\n\tat groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:792)\r\n\tat io.restassured.internal.RequestSpecificationImpl.invokeMethod(RequestSpecificationImpl.groovy)\r\n\tat org.codehaus.groovy.runtime.callsite.PogoInterceptableSite.call(PogoInterceptableSite.java:46)\r\n\tat org.codehaus.groovy.runtime.callsite.PogoInterceptableSite.callCurrent(PogoInterceptableSite.java:57)\r\n\tat org.codehaus.groovy.runtime.callsite.AbstractCallSite.callCurrent(AbstractCallSite.java:203)\r\n\tat io.restassured.internal.RequestSpecificationImpl.post(RequestSpecificationImpl.groovy:176)\r\n\tat io.restassured.internal.RequestSpecificationImpl.post(RequestSpecificationImpl.groovy)\r\n\tat Endtoendautomationproduct.EcommersceApiTest.main(EcommersceApiTest.java:96)\r\n```\r\n\r\nI was expecting an responce that it will add some product","title":"Exception in thread &quot;main&quot; java.lang.NullPointerException: Cannot get property &#39;assertionClosure&#39; on null object","body":"<p>Exception in thread &quot;main&quot; java.lang.NullPointerException: Cannot get property 'assertionClosure' on null object</p>\n<pre class=\"lang-java prettyprint-override\"><code>RequestSpecification createOrderBaseReq = new RequestSpecBuilder().setBaseUri(&quot;https://rahulshettyacademy.com&quot;)\n        .addHeader(&quot;Authorization&quot;, Token ).setContentType(ContentType.JSON)\n            .build();\n    \n    \n    \n    CreateOrderRequestPojo  CreateOrderRequest = new CreateOrderRequestPojo();\n\n    CreateOrderRequest.setCountry(&quot;India&quot;);\n    CreateOrderRequest.setProductOrderedId(productid);\n    \n    List&lt;CreateOrderRequestPojo&gt;  CreateOrderRequestlist = new ArrayList&lt;CreateOrderRequestPojo&gt;();\n    CreateOrderRequestlist.add(CreateOrderRequest);\n    \n    OrdersPojo orders = new  OrdersPojo();\n    orders.setOrders(CreateOrderRequestlist);\n    \n    RequestSpecification createOrderReq = createOrderBaseReq.given().log().all().spec(createOrderBaseReq).body(orders);\n    \n    String CreateOrderResponce = createOrderReq.when().post(&quot;/api/ecom/order/create-order&quot;).then().log().all().extract().response().asString();\n    \n    \n        System.out.println(CreateOrderResponce);    \n</code></pre>\n<p>getting this error</p>\n<pre class=\"lang-none prettyprint-override\"><code>Exception in thread &quot;main&quot; java.lang.NullPointerException: Cannot get property 'assertionClosure' on null object\n    at org.codehaus.groovy.runtime.NullObject.getProperty(NullObject.java:62)\n    at org.codehaus.groovy.runtime.InvokerHelper.getProperty(InvokerHelper.java:167)\n    at org.codehaus.groovy.runtime.callsite.NullCallSite.getProperty(NullCallSite.java:48)\n    at org.codehaus.groovy.runtime.callsite.GetEffectivePogoFieldSite.callGetProperty(GetEffectivePogoFieldSite.java:48)\n    at io.restassured.internal.RequestSpecificationImpl.applyPathParamsAndSendRequest(RequestSpecificationImpl.groovy:1702)\n    at io.restassured.internal.RequestSpecificationImpl.this$2$applyPathParamsAndSendRequest(RequestSpecificationImpl.groovy)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.codehaus.groovy.reflection.CachedMethod.invoke(CachedMethod.java:343)\n    at groovy.lang.MetaMethod.doMethodInvoke(MetaMethod.java:328)\n    at groovy.lang.MetaClassImpl.doInvokeMethod(MetaClassImpl.java:1348)\n    at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1103)\n    at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1009)\n    at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:792)\n    at io.restassured.internal.RequestSpecificationImpl.invokeMethod(RequestSpecificationImpl.groovy)\n    at org.codehaus.groovy.runtime.callsite.PogoInterceptableSite.call(PogoInterceptableSite.java:46)\n    at org.codehaus.groovy.runtime.callsite.PogoInterceptableSite.callCurrent(PogoInterceptableSite.java:57)\n    at org.codehaus.groovy.runtime.callsite.AbstractCallSite.callCurrent(AbstractCallSite.java:203)\n    at io.restassured.internal.RequestSpecificationImpl.applyPathParamsAndSendRequest(RequestSpecificationImpl.groovy:1710)\n    at io.restassured.internal.RequestSpecificationImpl.this$2$applyPathParamsAndSendRequest(RequestSpecificationImpl.groovy)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.codehaus.groovy.reflection.CachedMethod.invoke(CachedMethod.java:343)\n    at groovy.lang.MetaMethod.doMethodInvoke(MetaMethod.java:328)\n    at groovy.lang.MetaClassImpl.doInvokeMethod(MetaClassImpl.java:1348)\n    at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1103)\n    at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1009)\n    at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:792)\n    at io.restassured.internal.RequestSpecificationImpl.invokeMethod(RequestSpecificationImpl.groovy)\n    at org.codehaus.groovy.runtime.callsite.PogoInterceptableSite.call(PogoInterceptableSite.java:46)\n    at org.codehaus.groovy.runtime.callsite.PogoInterceptableSite.callCurrent(PogoInterceptableSite.java:57)\n    at org.codehaus.groovy.runtime.callsite.AbstractCallSite.callCurrent(AbstractCallSite.java:203)\n    at io.restassured.internal.RequestSpecificationImpl.post(RequestSpecificationImpl.groovy:176)\n    at io.restassured.internal.RequestSpecificationImpl.post(RequestSpecificationImpl.groovy)\n    at Endtoendautomationproduct.EcommersceApiTest.main(EcommersceApiTest.java:96)\n</code></pre>\n<p>I was expecting an responce that it will add some product</p>\n"},{"tags":["java","android","asynchronous","retrofit2"],"answers":[{"tags":[],"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683473452,"creation_date":1683473452,"answer_id":76194814,"question_id":76194693,"body_markdown":"You don&#39;t ever wait for an async function to finish on the main thread.  Doing so will at best make your app freeze and be unresponsive, at worst cause an ANR and crash.  Instead, anything you want to do after the async code should be put in the async callback- in the onResponse or onFailure block.","title":"Wait until Retrofit enque will be executed","body":"<p>You don't ever wait for an async function to finish on the main thread.  Doing so will at best make your app freeze and be unresponsive, at worst cause an ANR and crash.  Instead, anything you want to do after the async code should be put in the async callback- in the onResponse or onFailure block.</p>\n"},{"tags":[],"owner":{"account_id":9906633,"reputation":1075,"user_id":7334951,"display_name":"Younes Charfaoui"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1683473623,"creation_date":1683473623,"answer_id":76194833,"question_id":76194693,"body_markdown":"Yes, you should show some Progressbar before starting, then hide it in the `onResponse`, and after that, you can show your fragment, here is some code:\r\n\r\n```java\r\nprogressBar.setVisibility(View.VISIBLE);\r\nauthAPI.registerUser(requestBody).enqueue(new Callback&lt;ResponseBody&gt;() {\r\n    @Override\r\n    public void onResponse(@NonNull Call&lt;ResponseBody&gt; call,\r\n                           @NonNull Response&lt;ResponseBody&gt; response) {\r\n        // Response processing.\r\n        runOnUiThread(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                progressBar.setVisibility(View.GONE); // hide progress bar when response is received\r\n                \r\n                // Replace the current fragment with the new fragment here\r\n                FragmentManager fragmentManager = getSupportFragmentManager();\r\n                FragmentTransaction fragmentTransaction = fragmentManager.beginTransaction();\r\n                NewFragment newFragment = new NewFragment();\r\n                fragmentTransaction.replace(R.id.fragment_container, newFragment);\r\n                fragmentTransaction.commit();\r\n            }\r\n        });\r\n    }\r\n\r\n    @Override\r\n    public void onFailure(@NonNull Call&lt;ResponseBody&gt; call,\r\n                          @NonNull Throwable t) {\r\n        // Failure processing.\r\n        runOnUiThread(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                progressBar.setVisibility(View.GONE); // hide progress bar when response fails\r\n            }\r\n        });\r\n    }\r\n});\r\n```\r\n\r\nThe reason for using `runOnUiThread` is to ensure the View Updates and fragment transaction will happen on the main UI thread and not on the background thread that the `enqueue` operation works on, so it doesn&#39;t raise an exception!","title":"Wait until Retrofit enque will be executed","body":"<p>Yes, you should show some Progressbar before starting, then hide it in the <code>onResponse</code>, and after that, you can show your fragment, here is some code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>progressBar.setVisibility(View.VISIBLE);\nauthAPI.registerUser(requestBody).enqueue(new Callback&lt;ResponseBody&gt;() {\n    @Override\n    public void onResponse(@NonNull Call&lt;ResponseBody&gt; call,\n                           @NonNull Response&lt;ResponseBody&gt; response) {\n        // Response processing.\n        runOnUiThread(new Runnable() {\n            @Override\n            public void run() {\n                progressBar.setVisibility(View.GONE); // hide progress bar when response is received\n                \n                // Replace the current fragment with the new fragment here\n                FragmentManager fragmentManager = getSupportFragmentManager();\n                FragmentTransaction fragmentTransaction = fragmentManager.beginTransaction();\n                NewFragment newFragment = new NewFragment();\n                fragmentTransaction.replace(R.id.fragment_container, newFragment);\n                fragmentTransaction.commit();\n            }\n        });\n    }\n\n    @Override\n    public void onFailure(@NonNull Call&lt;ResponseBody&gt; call,\n                          @NonNull Throwable t) {\n        // Failure processing.\n        runOnUiThread(new Runnable() {\n            @Override\n            public void run() {\n                progressBar.setVisibility(View.GONE); // hide progress bar when response fails\n            }\n        });\n    }\n});\n</code></pre>\n<p>The reason for using <code>runOnUiThread</code> is to ensure the View Updates and fragment transaction will happen on the main UI thread and not on the background thread that the <code>enqueue</code> operation works on, so it doesn't raise an exception!</p>\n"}],"owner":{"account_id":21886869,"reputation":13,"user_id":16440173,"display_name":"Atemyn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76194833,"answer_count":2,"score":1,"last_activity_date":1683473623,"creation_date":1683471825,"question_id":76194693,"body_markdown":"I have async call to server with this structure:\r\n\r\n```\r\nAuthAPI authAPI = retrofitService.getRetrofit().create(AuthAPI.class);\r\n\r\nauthAPI.registerUser(requestBody)\r\n    .enqueue(new Callback&lt;ResponseBody&gt;() {\r\n        @Override\r\n        public void onResponse(@NonNull Call&lt;ResponseBody&gt; call,\r\n            @NonNull Response&lt;ResponseBody&gt; response) {\r\n            // Response processing.\r\n        }\r\n\r\n        @Override\r\n        public void onFailure(@NonNull Call&lt;ResponseBody&gt; call,\r\n            @NonNull Throwable t) {\r\n            // Failure processing.\r\n        }\r\n    });\r\n```\r\nThis code is executed inside `onClick()` method of a button. After this code a new Fragment is replacing the current, but when this code executes due to `.enqueue()` is async the async part is not finished yet, so application is crashing. So, I need to wait until async code is executed and then show new fragment.\r\n\r\nI could use `execute()` method instead of `enqueue()` method, but if I understand it right, until `execute()` method is finished the whole UI thread will be frozen and ProgressBar animation will not run. That is also bad for me.\r\n\r\nSo, what I am asking is, how could I wait for server response to be processed and dont lock my UI-thread so ProgressBar was spinning?\r\n  ","title":"Wait until Retrofit enque will be executed","body":"<p>I have async call to server with this structure:</p>\n<pre><code>AuthAPI authAPI = retrofitService.getRetrofit().create(AuthAPI.class);\n\nauthAPI.registerUser(requestBody)\n    .enqueue(new Callback&lt;ResponseBody&gt;() {\n        @Override\n        public void onResponse(@NonNull Call&lt;ResponseBody&gt; call,\n            @NonNull Response&lt;ResponseBody&gt; response) {\n            // Response processing.\n        }\n\n        @Override\n        public void onFailure(@NonNull Call&lt;ResponseBody&gt; call,\n            @NonNull Throwable t) {\n            // Failure processing.\n        }\n    });\n</code></pre>\n<p>This code is executed inside <code>onClick()</code> method of a button. After this code a new Fragment is replacing the current, but when this code executes due to <code>.enqueue()</code> is async the async part is not finished yet, so application is crashing. So, I need to wait until async code is executed and then show new fragment.</p>\n<p>I could use <code>execute()</code> method instead of <code>enqueue()</code> method, but if I understand it right, until <code>execute()</code> method is finished the whole UI thread will be frozen and ProgressBar animation will not run. That is also bad for me.</p>\n<p>So, what I am asking is, how could I wait for server response to be processed and dont lock my UI-thread so ProgressBar was spinning?</p>\n"},{"tags":["java","pdf","netbeans"],"comments":[{"owner":{"account_id":4041470,"reputation":2165,"user_id":3324188,"display_name":"raviolicode"},"score":0,"creation_date":1453847817,"post_id":35025355,"comment_id":57777400,"body_markdown":"Can you ask the exact question in the body of the question? The more you explain your question, the better chances to get great help :) Good luck!","body":"Can you ask the exact question in the body of the question? The more you explain your question, the better chances to get great help :) Good luck!"},{"owner":{"account_id":7709558,"reputation":17,"user_id":5839390,"display_name":"Adrino"},"score":0,"creation_date":1453847983,"post_id":35025355,"comment_id":57777469,"body_markdown":"I want to text RTL when save in the pdf","body":"I want to text RTL when save in the pdf"},{"owner":{"account_id":7709558,"reputation":17,"user_id":5839390,"display_name":"Adrino"},"score":0,"creation_date":1453848231,"post_id":35025355,"comment_id":57777562,"body_markdown":"My problem now RTL Text","body":"My problem now RTL Text"}],"answers":[{"tags":[],"owner":{"account_id":5528694,"reputation":1896,"user_id":4389432,"display_name":"Paulo Soares"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1453887487,"creation_date":1453887487,"answer_id":35033609,"question_id":35025355,"body_markdown":"`Document.add()` doesn&#39;t support RTL text. You&#39;ll have to use `ColumnText.setRunDirection` or `PdfPTable.setRunDirection`.","title":"how to create Persian PDF with iText","body":"<p><code>Document.add()</code> doesn't support RTL text. You'll have to use <code>ColumnText.setRunDirection</code> or <code>PdfPTable.setRunDirection</code>.</p>\n"},{"tags":[],"owner":{"account_id":3292761,"reputation":91,"user_id":2770691,"display_name":"Indunil Illangasinghe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1453907920,"creation_date":1453907920,"answer_id":35041187,"question_id":35025355,"body_markdown":"I haven&#39;t worked with Persian language. But, I think your problem will be with the font (**B Lotus.ttf**) you used. In most of times using a registered Unicode font may solve the problem. Try again using a different font.\r\n\r\nAlso you can RTL a text phrase using following code.\r\n&gt; PdfPCell pdfCell = new PdfPCell(new Phrase(contenido, myUnicodePersianFont));  \r\n&gt; pdfCell.setRunDirection(PdfWriter.RUN_DIRECTION_RTL);\r\n\r\nYou will find out a [similar question here][1].\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/10122610/itextpdf-printing-arabic-strings-from-right-to-left-rtl","title":"how to create Persian PDF with iText","body":"<p>I haven't worked with Persian language. But, I think your problem will be with the font (<strong>B Lotus.ttf</strong>) you used. In most of times using a registered Unicode font may solve the problem. Try again using a different font.</p>\n\n<p>Also you can RTL a text phrase using following code.</p>\n\n<blockquote>\n  <p>PdfPCell pdfCell = new PdfPCell(new Phrase(contenido, myUnicodePersianFont));<br>\n  pdfCell.setRunDirection(PdfWriter.RUN_DIRECTION_RTL);</p>\n</blockquote>\n\n<p>You will find out a <a href=\"https://stackoverflow.com/questions/10122610/itextpdf-printing-arabic-strings-from-right-to-left-rtl\">similar question here</a>.</p>\n"},{"tags":[],"owner":{"account_id":7709558,"reputation":17,"user_id":5839390,"display_name":"Adrino"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683472416,"creation_date":1453912955,"answer_id":35043131,"question_id":35025355,"body_markdown":"**I succeeded**\r\n\r\n     private void jButton1ActionPerformed(java.awt.event.ActionEvent evt) {                                         \r\n   \r\n          JFileChooser dlg = new JFileChooser();\r\n                   int option = dlg.showSaveDialog(this);\r\n                   if(option==JFileChooser.APPROVE_OPTION){\r\n                      File f = dlg.getSelectedFile();\r\n                      txtaddress.setText(f.toString());\r\n                   }\r\n        \r\n    }                                        \r\n\r\n    private void jButton2ActionPerformed(java.awt.event.ActionEvent evt) {                                         \r\n        \r\n        String ruta = txtaddress.getText();\r\n        String con= content.getText();\r\n        try {\r\n              FileOutputStream archivo = new FileOutputStream(ruta+&quot;.pdf&quot;);\r\n              Document doc = new Document(PageSize.A4,50,50,50,50);\r\n              PdfWriter Writer = PdfWriter.getInstance(doc, archivo);\r\n              doc.open();\r\n              LanguageProcessor al = new ArabicLigaturizer();\r\n              Writer.setRunDirection(PdfWriter.RUN_DIRECTION_RTL);\r\n              BaseFont bfComic = BaseFont.createFont(&quot;D:\\\\Font\\\\titr.ttf&quot;, BaseFont.IDENTITY_H,BaseFont.EMBEDDED);\r\n              Font font = new Font(bfComic, 12,Font.NORMAL);\r\n              Paragraph p = new Paragraph(al.process(con),font);\r\n              p.setAlignment(Element.ALIGN_RIGHT);\r\n              doc.add(p);\r\n              doc.close();\r\n              JOptionPane.showMessageDialog(null,&quot;Yes&quot;);\r\n           \r\n        } catch (Exception e) {\r\n               System.out.println(&quot;Eroor&quot;+e);    \r\n        }\r\n         \r\n    }     \r\n\r\n\r\n\r\n\r\n\r\n   ","title":"how to create Persian PDF with iText","body":"<p><strong>I succeeded</strong></p>\n<pre><code> private void jButton1ActionPerformed(java.awt.event.ActionEvent evt) {                                         \n\n      JFileChooser dlg = new JFileChooser();\n               int option = dlg.showSaveDialog(this);\n               if(option==JFileChooser.APPROVE_OPTION){\n                  File f = dlg.getSelectedFile();\n                  txtaddress.setText(f.toString());\n               }\n    \n}                                        \n\nprivate void jButton2ActionPerformed(java.awt.event.ActionEvent evt) {                                         \n    \n    String ruta = txtaddress.getText();\n    String con= content.getText();\n    try {\n          FileOutputStream archivo = new FileOutputStream(ruta+&quot;.pdf&quot;);\n          Document doc = new Document(PageSize.A4,50,50,50,50);\n          PdfWriter Writer = PdfWriter.getInstance(doc, archivo);\n          doc.open();\n          LanguageProcessor al = new ArabicLigaturizer();\n          Writer.setRunDirection(PdfWriter.RUN_DIRECTION_RTL);\n          BaseFont bfComic = BaseFont.createFont(&quot;D:\\\\Font\\\\titr.ttf&quot;, BaseFont.IDENTITY_H,BaseFont.EMBEDDED);\n          Font font = new Font(bfComic, 12,Font.NORMAL);\n          Paragraph p = new Paragraph(al.process(con),font);\n          p.setAlignment(Element.ALIGN_RIGHT);\n          doc.add(p);\n          doc.close();\n          JOptionPane.showMessageDialog(null,&quot;Yes&quot;);\n       \n    } catch (Exception e) {\n           System.out.println(&quot;Eroor&quot;+e);    \n    }\n     \n}     \n</code></pre>\n"}],"owner":{"account_id":7709558,"reputation":17,"user_id":5839390,"display_name":"Adrino"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":820,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1683472416,"creation_date":1453847644,"question_id":35025355,"body_markdown":"I know that many people may have asked this question before. I&#39;ve read almost all of them`but it couldn&#39;t help me solve my problem. \r\nI&#39;m using iText java library to generate a Persian PDF. I&#39;m using the following\r\n\r\nhow to use `PdfWriter.RUN_DIRECTION_RTL`\r\n\r\n code: \r\n\r\n\r\n    \r\n\r\n\r\n    String ruta = txtruta.getText();\r\n        String contenido= txtcontenido.getText();\r\n        try {\r\n            FileOutputStream archivo = new FileOutputStream(ruta+&quot;.pdf&quot;);\r\n            Document doc = new Document(PageSize.A4,50,50,50,50);\r\n              PdfWriter.getInstance(doc, archivo);\r\n              doc.open();\r\n              BaseFont bfComic = BaseFont.createFont(&quot;D:\\\\Font\\\\B Lotus.ttf&quot;, BaseFont.IDENTITY_H,BaseFont.EMBEDDED);\r\n              Font font = new Font(bfComic, 12,Font.NORMAL);\r\n               doc.add(new Paragraph(contenido,font));\r\n           doc.close();\r\n           JOptionPane.showMessageDialog(null,&quot;ok&quot;);\r\n           \r\n        } catch (Exception e) {\r\n            System.out.println(&quot;Eroor&quot;+e);    \r\n        }\r\n\r\n**Output:**\r\n[Problem][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/mcR9E.png","title":"how to create Persian PDF with iText","body":"<p>I know that many people may have asked this question before. I've read almost all of them`but it couldn't help me solve my problem. \nI'm using iText java library to generate a Persian PDF. I'm using the following</p>\n\n<p>how to use <code>PdfWriter.RUN_DIRECTION_RTL</code></p>\n\n<p>code: </p>\n\n<pre><code>String ruta = txtruta.getText();\n    String contenido= txtcontenido.getText();\n    try {\n        FileOutputStream archivo = new FileOutputStream(ruta+\".pdf\");\n        Document doc = new Document(PageSize.A4,50,50,50,50);\n          PdfWriter.getInstance(doc, archivo);\n          doc.open();\n          BaseFont bfComic = BaseFont.createFont(\"D:\\\\Font\\\\B Lotus.ttf\", BaseFont.IDENTITY_H,BaseFont.EMBEDDED);\n          Font font = new Font(bfComic, 12,Font.NORMAL);\n           doc.add(new Paragraph(contenido,font));\n       doc.close();\n       JOptionPane.showMessageDialog(null,\"ok\");\n\n    } catch (Exception e) {\n        System.out.println(\"Eroor\"+e);    \n    }\n</code></pre>\n\n<p><strong>Output:</strong>\n<a href=\"https://i.stack.imgur.com/mcR9E.png\" rel=\"nofollow\">Problem</a></p>\n"},{"tags":["java","scroll"],"answers":[{"tags":[],"owner":{"account_id":15267095,"reputation":599,"user_id":11015369,"display_name":"Ricardinho"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1683472224,"creation_date":1683472224,"answer_id":76194717,"question_id":76106961,"body_markdown":"I am not sure if it is the best solution, but this is how I did it. I created an array of two spaceships with a distance difference between these two. So, when one of them disappeared to the right, the another one appears from the left.\r\n\r\n    class SpaceshipLayer extends Group {\r\n        Spaceship[] spaceships = new Spaceship[2];\r\n        \r\n        public SpaceshipLayer() {\r\n            ...\r\n            // set X at center of screen\r\n            spaceships[0].setX(getWidth / 2);\r\n\r\n            // spacesship location - screen width \r\n            spaceships[1].setX(spaceships[0].getX() - getWidth());\r\n        }\r\n        \r\n        ...\r\n        \r\n        public void draw(Batch batch, float parentAlpha) {\r\n            if (isRightKeyPressed) {\r\n                for (Spaceship spaceship : spaceships) {\r\n                    spaceship.moveBy(5, 0);\r\n                }\r\n            }\r\n\r\n            ...\r\n\r\n            for (Spaceship spaceship : spaceships) {\r\n                ...\r\n                if (spaceship.getX() &gt; getWidth()) {\r\n                    spaceship.setX(0 - spaceship.getWidth);\r\n                }\r\n                ...\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"Libgdx infinite horizontal scroll with actor class","body":"<p>I am not sure if it is the best solution, but this is how I did it. I created an array of two spaceships with a distance difference between these two. So, when one of them disappeared to the right, the another one appears from the left.</p>\n<pre><code>class SpaceshipLayer extends Group {\n    Spaceship[] spaceships = new Spaceship[2];\n    \n    public SpaceshipLayer() {\n        ...\n        // set X at center of screen\n        spaceships[0].setX(getWidth / 2);\n\n        // spacesship location - screen width \n        spaceships[1].setX(spaceships[0].getX() - getWidth());\n    }\n    \n    ...\n    \n    public void draw(Batch batch, float parentAlpha) {\n        if (isRightKeyPressed) {\n            for (Spaceship spaceship : spaceships) {\n                spaceship.moveBy(5, 0);\n            }\n        }\n\n        ...\n\n        for (Spaceship spaceship : spaceships) {\n            ...\n            if (spaceship.getX() &gt; getWidth()) {\n                spaceship.setX(0 - spaceship.getWidth);\n            }\n            ...\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":15267095,"reputation":599,"user_id":11015369,"display_name":"Ricardinho"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76194717,"answer_count":1,"score":2,"last_activity_date":1683472224,"creation_date":1682479571,"question_id":76106961,"body_markdown":"I have a class called &quot;Spaceship&quot; that extends Actor class. It is added to a group class. The group class is added to stage.\r\n\r\nI want my spaceship to reappear at the left side of the screen when it disappears on the right side, including when only a portion of the spaceship has disappeared.\r\n\r\n[![enter image description here][1]][1] \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/8IUyd.png\r\n\r\nHere is the spaceship class:\r\n\r\n    class Spaceship extends Actor() {\r\n        Sprite sprite;\r\n        \r\n        public Spaceship(Texture texture) {\r\n            sprite = new Sprite(texture);\r\n            sprite.setPosition(getX(), getY());\r\n        }\r\n\r\n        @Override\r\n        public void draw(Batch batch, float parentAlpha) {\r\n            sprite.setPosition(getX(), getY());\r\n        }\r\n    }\r\n\r\n\r\nHere is the Group class:\r\n\r\n    class SpaceshipLayer extends Group {\r\n        Spaceship spaceship;\r\n        ...\r\n        public void draw(Batch batch, float parentAlpha) {\r\n            if (isRightKeyPressed) {\r\n                spaceship.moveBy(5, 0);\r\n                if (spaceship.getX() &gt; screenWidth) {\r\n                    // No working properly\r\n                    spaceship.setX(0);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nHere is my main screen class:\r\n\r\n    class Main implements Screen {\r\n        SpaceshipLayer spaceshipLayer;\r\n        Stage stage;\r\n        \r\n        public Main() {\r\n            stage = new Stage();\r\n            spaceshipLayer = new SpaceshipLayer();\r\n            stage.addActor(spaceshipLayer );\r\n        }\r\n       \r\n        ...\r\n    }\r\n\r\nI am using actor coordinates for collision, etc. It is possible to do the horizontal scroll keeping sprite and actor values?","title":"Libgdx infinite horizontal scroll with actor class","body":"<p>I have a class called &quot;Spaceship&quot; that extends Actor class. It is added to a group class. The group class is added to stage.</p>\n<p>I want my spaceship to reappear at the left side of the screen when it disappears on the right side, including when only a portion of the spaceship has disappeared.</p>\n<p><a href=\"https://i.stack.imgur.com/8IUyd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8IUyd.png\" alt=\"enter image description here\" /></a></p>\n<p>Here is the spaceship class:</p>\n<pre><code>class Spaceship extends Actor() {\n    Sprite sprite;\n    \n    public Spaceship(Texture texture) {\n        sprite = new Sprite(texture);\n        sprite.setPosition(getX(), getY());\n    }\n\n    @Override\n    public void draw(Batch batch, float parentAlpha) {\n        sprite.setPosition(getX(), getY());\n    }\n}\n</code></pre>\n<p>Here is the Group class:</p>\n<pre><code>class SpaceshipLayer extends Group {\n    Spaceship spaceship;\n    ...\n    public void draw(Batch batch, float parentAlpha) {\n        if (isRightKeyPressed) {\n            spaceship.moveBy(5, 0);\n            if (spaceship.getX() &gt; screenWidth) {\n                // No working properly\n                spaceship.setX(0);\n            }\n        }\n    }\n}\n</code></pre>\n<p>Here is my main screen class:</p>\n<pre><code>class Main implements Screen {\n    SpaceshipLayer spaceshipLayer;\n    Stage stage;\n    \n    public Main() {\n        stage = new Stage();\n        spaceshipLayer = new SpaceshipLayer();\n        stage.addActor(spaceshipLayer );\n    }\n   \n    ...\n}\n</code></pre>\n<p>I am using actor coordinates for collision, etc. It is possible to do the horizontal scroll keeping sprite and actor values?</p>\n"},{"tags":["java","android","kotlin","viewmodel"],"comments":[{"owner":{"account_id":10045574,"reputation":771,"user_id":10388072,"display_name":"Manuel Mato"},"score":0,"creation_date":1683404261,"post_id":76189503,"comment_id":134362607,"body_markdown":"Check this answer https://stackoverflow.com/questions/55307761/create-viewmodel-with-application but TBH i don&#180;t understand why the repository needs the Application... maybe you need to access to sharepreferences or database? in this case pass by constructor the instance that you need, not the application.  And you can use another approach, for example, a dependency injector as Hilt because &quot;it is easier than Dagger&quot;","body":"Check this answer <a href=\"https://stackoverflow.com/questions/55307761/create-viewmodel-with-application\" title=\"create viewmodel with application\">stackoverflow.com/questions/55307761/&hellip;</a> but TBH i don&#180;t understand why the repository needs the Application... maybe you need to access to sharepreferences or database? in this case pass by constructor the instance that you need, not the application.  And you can use another approach, for example, a dependency injector as Hilt because &quot;it is easier than Dagger&quot;"},{"owner":{"account_id":25211725,"reputation":11,"user_id":19049322,"display_name":"arizonapradana"},"score":0,"creation_date":1683432034,"post_id":76189503,"comment_id":134364738,"body_markdown":"@ManuelMato\nYes, I need to access sharedpreferences and database soon, I still dont know the answer","body":"@ManuelMato Yes, I need to access sharedpreferences and database soon, I still dont know the answer"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1683470102,"post_id":76189503,"comment_id":134368551,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"answers":[{"tags":[],"owner":{"account_id":18463410,"reputation":18363,"user_id":13598222,"display_name":"cactustictacs"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683471270,"creation_date":1683407318,"answer_id":76191152,"question_id":76189503,"body_markdown":"If you want an `Application` parameter passed into your VM&#39;s constructor, you need to subclass `AndroidViewModel` instead.\r\n\r\n````\r\nclass DetailUserViewModel(application: Application): AndroidViewModel(application)\r\n````\r\n\r\nThere are a few other default parameters you can include (`SavedStateHandle` and a `CoroutineScope`), for anything else you need to [create a factory for your `ViewModel`][1], either by hand or using a *dependency injection* library like *Hilt* (which can create the factory for you)\r\n\r\n\r\n  [1]: https://developer.android.com/topic/libraries/architecture/viewmodel/viewmodel-factories","title":"Cannot create an instance of class | ViewModel with (application: Application) argument","body":"<p>If you want an <code>Application</code> parameter passed into your VM's constructor, you need to subclass <code>AndroidViewModel</code> instead.</p>\n<pre><code>class DetailUserViewModel(application: Application): AndroidViewModel(application)\n</code></pre>\n<p>There are a few other default parameters you can include (<code>SavedStateHandle</code> and a <code>CoroutineScope</code>), for anything else you need to <a href=\"https://developer.android.com/topic/libraries/architecture/viewmodel/viewmodel-factories\" rel=\"nofollow noreferrer\">create a factory for your <code>ViewModel</code></a>, either by hand or using a <em>dependency injection</em> library like <em>Hilt</em> (which can create the factory for you)</p>\n"}],"owner":{"account_id":25211725,"reputation":11,"user_id":19049322,"display_name":"arizonapradana"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1683471270,"creation_date":1683384338,"question_id":76189503,"body_markdown":"I&#39;ve tried to pass the arguments from DetailUserViewModel and ended up getting an error &quot;Cannot create an instance of class&quot;, if I remove the arguments (application: Application), the app is working.\r\n\r\nAny answer is appreciated because it helped me with the final test.\r\nThank you so much.\r\n\r\n\r\nHere is my codeblock:\r\n\r\n**DetailUserViewModel**\r\n```\r\nclass DetailUserViewModel(application: Application): ViewModel() {\r\n\r\n    private val userRepository: UserRepository = UserRepository(application)\r\n\r\n    private val _userDetail = MutableLiveData&lt;DetailUserResponse&gt;()\r\n    val userDetail: LiveData&lt;DetailUserResponse&gt; = _userDetail\r\n\r\n    private val _listFollows = MutableLiveData&lt;List&lt;Item&gt;&gt;()\r\n    val listFollows: LiveData&lt;List&lt;Item&gt;&gt; = _listFollows\r\n\r\n    private val _isLoading = MutableLiveData&lt;Boolean&gt;()\r\n    val isLoading: LiveData&lt;Boolean&gt; = _isLoading\r\n\r\n    fun insert(user: User){\r\n        userRepository.insertUser(user)\r\n    }\r\n\r\n    fun delete (user: User){\r\n        userRepository.delete(user)\r\n    }\r\n\r\n    fun getUserFavoritesById(id: Int): LiveData&lt;List&lt;User&gt;&gt;{\r\n        return userRepository.getUserFavoritesById(id)\r\n    }\r\n\r\n\r\n\r\n    fun setUserDetail(username: String) {\r\n        showLoading(true)\r\n        val client = ApiConfig.getApiService().getDetailUser(username)\r\n        client.enqueue(object : Callback&lt;DetailUserResponse&gt; {\r\n            override fun onResponse(\r\n                call: Call&lt;DetailUserResponse&gt;,\r\n                response: Response&lt;DetailUserResponse&gt;\r\n            ) {\r\n                if (response.isSuccessful) {\r\n                    showLoading(false)\r\n                    val responseBody = response.body()\r\n                    if (responseBody != null) {\r\n                        _userDetail.value = responseBody\r\n                    }\r\n                }\r\n            }\r\n\r\n            override fun onFailure(call: Call&lt;DetailUserResponse&gt;, t: Throwable) {\r\n                Log.e(&quot;Failure&quot;, &quot;${t.message}&quot;)\r\n            }\r\n        })\r\n    }\r\n\r\n    fun getFollowers(username: String) {\r\n        showLoading(true)\r\n        val client = ApiConfig.getApiService().getFollowers(username)\r\n        client.enqueue(object : Callback&lt;List&lt;Item&gt;&gt; {\r\n            override fun onResponse(call: Call&lt;List&lt;Item&gt;&gt;, response: Response&lt;List&lt;Item&gt;&gt;) {\r\n                if (response.isSuccessful) {\r\n                    showLoading(false)\r\n                    val responseBody = response.body()\r\n                    if (responseBody != null) {\r\n                        _listFollows.value = responseBody\r\n                    }\r\n                }\r\n            }\r\n\r\n            override fun onFailure(call: Call&lt;List&lt;Item&gt;&gt;, t: Throwable) {\r\n                Log.e(&quot;Failure&quot;, &quot;${t.message}&quot;)\r\n            }\r\n\r\n        })\r\n    }\r\n\r\n    fun getFollowing(username: String) {\r\n        showLoading(true)\r\n        val client = ApiConfig.getApiService().getFollowing(username)\r\n        client.enqueue(object : Callback&lt;List&lt;Item&gt;&gt; {\r\n            override fun onResponse(call: Call&lt;List&lt;Item&gt;&gt;, response: Response&lt;List&lt;Item&gt;&gt;) {\r\n                if (response.isSuccessful) {\r\n                    showLoading(false)\r\n                    val responseBody = response.body()\r\n                    if (responseBody != null) {\r\n                        _listFollows.value = responseBody\r\n                    }\r\n                }\r\n            }\r\n\r\n            override fun onFailure(call: Call&lt;List&lt;Item&gt;&gt;, t: Throwable) {\r\n                Log.e(&quot;Failure&quot;, &quot;${t.message}&quot;)\r\n            }\r\n\r\n        })\r\n    }\r\n\r\n    private fun showLoading(b: Boolean) {\r\n        if (b) {\r\n            _isLoading.value = true\r\n        } else {\r\n            _isLoading.value = false\r\n        }\r\n    }\r\n\r\n}\r\n```\r\n\r\n**DetailUserViewModelFactory**\r\n\r\n```\r\nclass DetailUserViewModelFactory(private val application: Application): ViewModelProvider.Factory {\r\n\r\n    @Suppress(&quot;UNCHECKED_CAST&quot;)\r\n    override fun &lt;T : ViewModel&gt; create(modelClass: Class&lt;T&gt;): T {\r\n        if (modelClass.isAssignableFrom(DetailUserViewModel::class.java)) {\r\n            return DetailUserViewModel(application) as T\r\n        }\r\n        throw IllegalArgumentException(&quot;Unknown ViewModel class: ${modelClass.name}&quot;)\r\n    }\r\n}\r\n```\r\n\r\n**DetailUserActivity**\r\n\r\n```\r\nclass DetailUserActivity : AppCompatActivity() {\r\n\r\n    private lateinit var binding: ActivityDetailUserBinding\r\n\r\n    private val viewModel by viewModels&lt;DetailUserViewModel&gt; {\r\n        DetailUserViewModelFactory(application)\r\n    }\r\n\r\n    companion object {\r\n        var EXTRA_DATA = &quot;extra_data&quot;\r\n\r\n        @StringRes\r\n        private val TAB_TITLES = intArrayOf(\r\n            R.string.tab_text_1,\r\n            R.string.tab_text_2\r\n        )\r\n    }\r\n\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n        binding = ActivityDetailUserBinding.inflate(layoutInflater)\r\n        setContentView(binding.root)\r\n\r\n        supportActionBar?.elevation = 0f\r\n\r\n        val username = intent.getStringExtra(EXTRA_DATA).toString()\r\n\r\n        lifecycleScope.launch {\r\n            viewModel.setUserDetail(username.toString())\r\n            viewModel.userDetail.observe(this@DetailUserActivity) { userDetail -&gt;\r\n                dataList(userDetail)\r\n            }\r\n            viewModel.isLoading.observe(this@DetailUserActivity) { isLoading -&gt;\r\n                if (isLoading) {\r\n                    binding.profileDetail.progressBarDetail.visibility = View.VISIBLE\r\n                } else {\r\n                    binding.profileDetail.progressBarDetail.visibility = View.GONE\r\n                }\r\n            }\r\n        }\r\n\r\n        val viewPager: ViewPager2 = binding.viewPager\r\n        val tabs: TabLayout = binding.tabs\r\n\r\n        val adapter = SectionsPagerAdapter(this)\r\n        adapter.username = username\r\n\r\n        viewPager.adapter = adapter\r\n\r\n        TabLayoutMediator(tabs, viewPager) { tabs, position -&gt;\r\n            tabs.text = resources.getString(TAB_TITLES[position])\r\n        }.attach()\r\n\r\n        binding.btnFavorite.setOnClickListener {\r\n            Toast.makeText(\r\n                this@DetailUserActivity,\r\n                &quot;Ditambahkan ke favorit!&quot;,\r\n                Toast.LENGTH_SHORT\r\n            ).show()\r\n            binding.btnFavorite.setImageResource(R.drawable.ic_favorite_clicked)\r\n        }\r\n    }\r\n\r\n\r\n    private fun dataList(userDetail: DetailUserResponse) {\r\n        binding.apply {\r\n            val tvName = binding.profileDetail.profileName\r\n            if (userDetail.name == null) {\r\n                tvName.text = userDetail.login\r\n            } else {\r\n                tvName.text = userDetail.name\r\n            }\r\n            profileDetail.tvProfileUsername.text = &quot;@${userDetail.login}&quot;\r\n            profileDetail.tvProfileFollower.text = &quot;${userDetail.followers} Followers&quot;\r\n            profileDetail.tvProfileFollowing.text = &quot;${userDetail.following} Following&quot;\r\n            Glide.with(this@DetailUserActivity)\r\n                .load(userDetail.avatarUrl)\r\n                .into(binding.profileDetail.ivProfileDetail)\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\n**Error Console**\r\n```\r\nFATAL EXCEPTION: main\r\nProcess: com.uberalles.githubuser, PID: 31216\r\njava.lang.RuntimeException: Cannot create an instance of class com.uberalles.githubuser.activity.DetailUserViewModel\r\n\tat androidx.lifecycle.ViewModelProvider$NewInstanceFactory.create(ViewModelProvider.kt:204)\r\n\tat androidx.lifecycle.ViewModelProvider$Factory.create(ViewModelProvider.kt:83)\r\n\tat androidx.lifecycle.ViewModelProvider.get(ViewModelProvider.kt:187)\r\n\tat androidx.lifecycle.ViewModelProvider.get(ViewModelProvider.kt:153)\r\n\tat com.uberalles.githubuser.activity.FollowFragment$viewModel$2.invoke(FollowFragment.kt:24)\r\n\tat com.uberalles.githubuser.activity.FollowFragment$viewModel$2.invoke(FollowFragment.kt:20)\r\n\tat kotlin.SynchronizedLazyImpl.getValue(LazyJVM.kt:74)\r\n\tat com.uberalles.githubuser.activity.FollowFragment.getViewModel(FollowFragment.kt:20)\r\n\tat com.uberalles.githubuser.activity.FollowFragment.onViewCreated(FollowFragment.kt:52)\r\n\tat androidx.fragment.app.Fragment.performViewCreated(Fragment.java:3128)\r\n\tat androidx.fragment.app.FragmentStateManager.createView(FragmentStateManager.java:552)\r\n\tat androidx.fragment.app.FragmentStateManager.moveToExpectedState(FragmentStateManager.java:261)\r\n\tat androidx.fragment.app.FragmentManager.executeOpsTogether(FragmentManager.java:1899)\r\n\tat androidx.fragment.app.FragmentManager.removeRedundantOperationsAndExecute(FragmentManager.java:1817)\r\n\tat androidx.fragment.app.FragmentManager.execSingleAction(FragmentManager.java:1729)\r\n\tat androidx.fragment.app.BackStackRecord.commitNow(BackStackRecord.java:317)\r\n\tat androidx.viewpager2.adapter.FragmentStateAdapter.placeFragmentInViewHolder(FragmentStateAdapter.java:341)\r\n\tat androidx.viewpager2.adapter.FragmentStateAdapter.onViewAttachedToWindow(FragmentStateAdapter.java:276)\r\n\tat androidx.viewpager2.adapter.FragmentStateAdapter.onViewAttachedToWindow(FragmentStateAdapter.java:67)\r\n\tat androidx.recyclerview.widget.RecyclerView.dispatchChildAttached(RecyclerView.java:8291)\r\n\tat androidx.recyclerview.widget.RecyclerView$5.addView(RecyclerView.java:924)\r\n\tat androidx.recyclerview.widget.ChildHelper.addView(ChildHelper.java:107)\r\n\tat androidx.recyclerview.widget.RecyclerView$LayoutManager.addViewInt(RecyclerView.java:9344)\r\n\tat androidx.recyclerview.widget.RecyclerView$LayoutManager.addView(RecyclerView.java:9302)\r\n\tat androidx.recyclerview.widget.RecyclerView$LayoutManager.addView(RecyclerView.java:9289)\r\n\tat androidx.recyclerview.widget.LinearLayoutManager.layoutChunk(LinearLayoutManager.java:1676)\r\n\tat androidx.recyclerview.widget.LinearLayoutManager.fill(LinearLayoutManager.java:1622)\r\n\tat androidx.recyclerview.widget.LinearLayoutManager.onLayoutChildren(LinearLayoutManager.java:687)\r\n\tat androidx.recyclerview.widget.RecyclerView.dispatchLayoutStep2(RecyclerView.java:4604)\r\n\tat androidx.recyclerview.widget.RecyclerView.onMeasure(RecyclerView.java:3981)\r\n\tat android.view.View.measure(View.java:26357)\r\n\tat android.view.ViewGroup.measureChild(ViewGroup.java:6952)\r\n\tat androidx.viewpager2.widget.ViewPager2.onMeasure(ViewPager2.java:498)\r\n\tat android.view.View.measure(View.java:26357)\r\n\tat androidx.constraintlayout.widget.ConstraintLayout$Measurer.measure(ConstraintLayout.java:811)\r\n\tat androidx.constraintlayout.core.widgets.ConstraintWidgetContainer.measure(ConstraintWidgetContainer.java:632)\r\n\tat androidx.constraintlayout.core.widgets.ConstraintWidgetContainer.layout(ConstraintWidgetContainer.java:733)\r\n\tat androidx.constraintlayout.core.widgets.analyzer.BasicMeasure.solveLinearSystem(BasicMeasure.java:160)\r\n\tat androidx.constraintlayout.core.widgets.analyzer.BasicMeasure.solverMeasure(BasicMeasure.java:291)\r\n\tat androidx.constraintlayout.core.widgets.ConstraintWidgetContainer.measure(ConstraintWidgetContainer.java:120)\r\n\tat androidx.constraintlayout.widget.ConstraintLayout.resolveSystem(ConstraintLayout.java:1594)\r\n\tat androidx.constraintlayout.widget.ConstraintLayout.onMeasure(ConstraintLayout.java:1708)\r\n\tat android.view.View.measure(View.java:26357)\r\n\r\n```\r\n\r\n\r\n\r\n\r\nFix the error of Cannot create an instance of class and make it to DetailActivity","title":"Cannot create an instance of class | ViewModel with (application: Application) argument","body":"<p>I've tried to pass the arguments from DetailUserViewModel and ended up getting an error &quot;Cannot create an instance of class&quot;, if I remove the arguments (application: Application), the app is working.</p>\n<p>Any answer is appreciated because it helped me with the final test.\nThank you so much.</p>\n<p>Here is my codeblock:</p>\n<p><strong>DetailUserViewModel</strong></p>\n<pre><code>class DetailUserViewModel(application: Application): ViewModel() {\n\n    private val userRepository: UserRepository = UserRepository(application)\n\n    private val _userDetail = MutableLiveData&lt;DetailUserResponse&gt;()\n    val userDetail: LiveData&lt;DetailUserResponse&gt; = _userDetail\n\n    private val _listFollows = MutableLiveData&lt;List&lt;Item&gt;&gt;()\n    val listFollows: LiveData&lt;List&lt;Item&gt;&gt; = _listFollows\n\n    private val _isLoading = MutableLiveData&lt;Boolean&gt;()\n    val isLoading: LiveData&lt;Boolean&gt; = _isLoading\n\n    fun insert(user: User){\n        userRepository.insertUser(user)\n    }\n\n    fun delete (user: User){\n        userRepository.delete(user)\n    }\n\n    fun getUserFavoritesById(id: Int): LiveData&lt;List&lt;User&gt;&gt;{\n        return userRepository.getUserFavoritesById(id)\n    }\n\n\n\n    fun setUserDetail(username: String) {\n        showLoading(true)\n        val client = ApiConfig.getApiService().getDetailUser(username)\n        client.enqueue(object : Callback&lt;DetailUserResponse&gt; {\n            override fun onResponse(\n                call: Call&lt;DetailUserResponse&gt;,\n                response: Response&lt;DetailUserResponse&gt;\n            ) {\n                if (response.isSuccessful) {\n                    showLoading(false)\n                    val responseBody = response.body()\n                    if (responseBody != null) {\n                        _userDetail.value = responseBody\n                    }\n                }\n            }\n\n            override fun onFailure(call: Call&lt;DetailUserResponse&gt;, t: Throwable) {\n                Log.e(&quot;Failure&quot;, &quot;${t.message}&quot;)\n            }\n        })\n    }\n\n    fun getFollowers(username: String) {\n        showLoading(true)\n        val client = ApiConfig.getApiService().getFollowers(username)\n        client.enqueue(object : Callback&lt;List&lt;Item&gt;&gt; {\n            override fun onResponse(call: Call&lt;List&lt;Item&gt;&gt;, response: Response&lt;List&lt;Item&gt;&gt;) {\n                if (response.isSuccessful) {\n                    showLoading(false)\n                    val responseBody = response.body()\n                    if (responseBody != null) {\n                        _listFollows.value = responseBody\n                    }\n                }\n            }\n\n            override fun onFailure(call: Call&lt;List&lt;Item&gt;&gt;, t: Throwable) {\n                Log.e(&quot;Failure&quot;, &quot;${t.message}&quot;)\n            }\n\n        })\n    }\n\n    fun getFollowing(username: String) {\n        showLoading(true)\n        val client = ApiConfig.getApiService().getFollowing(username)\n        client.enqueue(object : Callback&lt;List&lt;Item&gt;&gt; {\n            override fun onResponse(call: Call&lt;List&lt;Item&gt;&gt;, response: Response&lt;List&lt;Item&gt;&gt;) {\n                if (response.isSuccessful) {\n                    showLoading(false)\n                    val responseBody = response.body()\n                    if (responseBody != null) {\n                        _listFollows.value = responseBody\n                    }\n                }\n            }\n\n            override fun onFailure(call: Call&lt;List&lt;Item&gt;&gt;, t: Throwable) {\n                Log.e(&quot;Failure&quot;, &quot;${t.message}&quot;)\n            }\n\n        })\n    }\n\n    private fun showLoading(b: Boolean) {\n        if (b) {\n            _isLoading.value = true\n        } else {\n            _isLoading.value = false\n        }\n    }\n\n}\n</code></pre>\n<p><strong>DetailUserViewModelFactory</strong></p>\n<pre><code>class DetailUserViewModelFactory(private val application: Application): ViewModelProvider.Factory {\n\n    @Suppress(&quot;UNCHECKED_CAST&quot;)\n    override fun &lt;T : ViewModel&gt; create(modelClass: Class&lt;T&gt;): T {\n        if (modelClass.isAssignableFrom(DetailUserViewModel::class.java)) {\n            return DetailUserViewModel(application) as T\n        }\n        throw IllegalArgumentException(&quot;Unknown ViewModel class: ${modelClass.name}&quot;)\n    }\n}\n</code></pre>\n<p><strong>DetailUserActivity</strong></p>\n<pre><code>class DetailUserActivity : AppCompatActivity() {\n\n    private lateinit var binding: ActivityDetailUserBinding\n\n    private val viewModel by viewModels&lt;DetailUserViewModel&gt; {\n        DetailUserViewModelFactory(application)\n    }\n\n    companion object {\n        var EXTRA_DATA = &quot;extra_data&quot;\n\n        @StringRes\n        private val TAB_TITLES = intArrayOf(\n            R.string.tab_text_1,\n            R.string.tab_text_2\n        )\n    }\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        binding = ActivityDetailUserBinding.inflate(layoutInflater)\n        setContentView(binding.root)\n\n        supportActionBar?.elevation = 0f\n\n        val username = intent.getStringExtra(EXTRA_DATA).toString()\n\n        lifecycleScope.launch {\n            viewModel.setUserDetail(username.toString())\n            viewModel.userDetail.observe(this@DetailUserActivity) { userDetail -&gt;\n                dataList(userDetail)\n            }\n            viewModel.isLoading.observe(this@DetailUserActivity) { isLoading -&gt;\n                if (isLoading) {\n                    binding.profileDetail.progressBarDetail.visibility = View.VISIBLE\n                } else {\n                    binding.profileDetail.progressBarDetail.visibility = View.GONE\n                }\n            }\n        }\n\n        val viewPager: ViewPager2 = binding.viewPager\n        val tabs: TabLayout = binding.tabs\n\n        val adapter = SectionsPagerAdapter(this)\n        adapter.username = username\n\n        viewPager.adapter = adapter\n\n        TabLayoutMediator(tabs, viewPager) { tabs, position -&gt;\n            tabs.text = resources.getString(TAB_TITLES[position])\n        }.attach()\n\n        binding.btnFavorite.setOnClickListener {\n            Toast.makeText(\n                this@DetailUserActivity,\n                &quot;Ditambahkan ke favorit!&quot;,\n                Toast.LENGTH_SHORT\n            ).show()\n            binding.btnFavorite.setImageResource(R.drawable.ic_favorite_clicked)\n        }\n    }\n\n\n    private fun dataList(userDetail: DetailUserResponse) {\n        binding.apply {\n            val tvName = binding.profileDetail.profileName\n            if (userDetail.name == null) {\n                tvName.text = userDetail.login\n            } else {\n                tvName.text = userDetail.name\n            }\n            profileDetail.tvProfileUsername.text = &quot;@${userDetail.login}&quot;\n            profileDetail.tvProfileFollower.text = &quot;${userDetail.followers} Followers&quot;\n            profileDetail.tvProfileFollowing.text = &quot;${userDetail.following} Following&quot;\n            Glide.with(this@DetailUserActivity)\n                .load(userDetail.avatarUrl)\n                .into(binding.profileDetail.ivProfileDetail)\n        }\n    }\n}\n\n</code></pre>\n<p><strong>Error Console</strong></p>\n<pre><code>FATAL EXCEPTION: main\nProcess: com.uberalles.githubuser, PID: 31216\njava.lang.RuntimeException: Cannot create an instance of class com.uberalles.githubuser.activity.DetailUserViewModel\n    at androidx.lifecycle.ViewModelProvider$NewInstanceFactory.create(ViewModelProvider.kt:204)\n    at androidx.lifecycle.ViewModelProvider$Factory.create(ViewModelProvider.kt:83)\n    at androidx.lifecycle.ViewModelProvider.get(ViewModelProvider.kt:187)\n    at androidx.lifecycle.ViewModelProvider.get(ViewModelProvider.kt:153)\n    at com.uberalles.githubuser.activity.FollowFragment$viewModel$2.invoke(FollowFragment.kt:24)\n    at com.uberalles.githubuser.activity.FollowFragment$viewModel$2.invoke(FollowFragment.kt:20)\n    at kotlin.SynchronizedLazyImpl.getValue(LazyJVM.kt:74)\n    at com.uberalles.githubuser.activity.FollowFragment.getViewModel(FollowFragment.kt:20)\n    at com.uberalles.githubuser.activity.FollowFragment.onViewCreated(FollowFragment.kt:52)\n    at androidx.fragment.app.Fragment.performViewCreated(Fragment.java:3128)\n    at androidx.fragment.app.FragmentStateManager.createView(FragmentStateManager.java:552)\n    at androidx.fragment.app.FragmentStateManager.moveToExpectedState(FragmentStateManager.java:261)\n    at androidx.fragment.app.FragmentManager.executeOpsTogether(FragmentManager.java:1899)\n    at androidx.fragment.app.FragmentManager.removeRedundantOperationsAndExecute(FragmentManager.java:1817)\n    at androidx.fragment.app.FragmentManager.execSingleAction(FragmentManager.java:1729)\n    at androidx.fragment.app.BackStackRecord.commitNow(BackStackRecord.java:317)\n    at androidx.viewpager2.adapter.FragmentStateAdapter.placeFragmentInViewHolder(FragmentStateAdapter.java:341)\n    at androidx.viewpager2.adapter.FragmentStateAdapter.onViewAttachedToWindow(FragmentStateAdapter.java:276)\n    at androidx.viewpager2.adapter.FragmentStateAdapter.onViewAttachedToWindow(FragmentStateAdapter.java:67)\n    at androidx.recyclerview.widget.RecyclerView.dispatchChildAttached(RecyclerView.java:8291)\n    at androidx.recyclerview.widget.RecyclerView$5.addView(RecyclerView.java:924)\n    at androidx.recyclerview.widget.ChildHelper.addView(ChildHelper.java:107)\n    at androidx.recyclerview.widget.RecyclerView$LayoutManager.addViewInt(RecyclerView.java:9344)\n    at androidx.recyclerview.widget.RecyclerView$LayoutManager.addView(RecyclerView.java:9302)\n    at androidx.recyclerview.widget.RecyclerView$LayoutManager.addView(RecyclerView.java:9289)\n    at androidx.recyclerview.widget.LinearLayoutManager.layoutChunk(LinearLayoutManager.java:1676)\n    at androidx.recyclerview.widget.LinearLayoutManager.fill(LinearLayoutManager.java:1622)\n    at androidx.recyclerview.widget.LinearLayoutManager.onLayoutChildren(LinearLayoutManager.java:687)\n    at androidx.recyclerview.widget.RecyclerView.dispatchLayoutStep2(RecyclerView.java:4604)\n    at androidx.recyclerview.widget.RecyclerView.onMeasure(RecyclerView.java:3981)\n    at android.view.View.measure(View.java:26357)\n    at android.view.ViewGroup.measureChild(ViewGroup.java:6952)\n    at androidx.viewpager2.widget.ViewPager2.onMeasure(ViewPager2.java:498)\n    at android.view.View.measure(View.java:26357)\n    at androidx.constraintlayout.widget.ConstraintLayout$Measurer.measure(ConstraintLayout.java:811)\n    at androidx.constraintlayout.core.widgets.ConstraintWidgetContainer.measure(ConstraintWidgetContainer.java:632)\n    at androidx.constraintlayout.core.widgets.ConstraintWidgetContainer.layout(ConstraintWidgetContainer.java:733)\n    at androidx.constraintlayout.core.widgets.analyzer.BasicMeasure.solveLinearSystem(BasicMeasure.java:160)\n    at androidx.constraintlayout.core.widgets.analyzer.BasicMeasure.solverMeasure(BasicMeasure.java:291)\n    at androidx.constraintlayout.core.widgets.ConstraintWidgetContainer.measure(ConstraintWidgetContainer.java:120)\n    at androidx.constraintlayout.widget.ConstraintLayout.resolveSystem(ConstraintLayout.java:1594)\n    at androidx.constraintlayout.widget.ConstraintLayout.onMeasure(ConstraintLayout.java:1708)\n    at android.view.View.measure(View.java:26357)\n\n</code></pre>\n<p>Fix the error of Cannot create an instance of class and make it to DetailActivity</p>\n"},{"tags":["java","sorting","collections"],"comments":[{"owner":{"account_id":86297,"reputation":23984,"user_id":240078,"accept_rate":58,"display_name":"Vikdor"},"score":1,"creation_date":1348307916,"post_id":12542185,"comment_id":16889853,"body_markdown":"If you had used those tags to search in javadoc, you could have hit this: http://docs.oracle.com/javase/6/docs/api/java/util/Collections.html#sort(java.util.List, java.util.Comparator)","body":"If you had used those tags to search in javadoc, you could have hit this: <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/Collections.html#sort(java.util.List\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/6/docs/api/java/util/&hellip;</a>, java.util.Comparator)"}],"answers":[{"tags":[],"owner":{"account_id":132011,"reputation":2350,"user_id":332451,"accept_rate":62,"display_name":"exic"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1348303787,"creation_date":1348303162,"answer_id":12542219,"question_id":12542185,"body_markdown":"Have a look at the [Comparator](http://docs.oracle.com/javase/6/docs/api/java/util/Comparator.html) and [Collections][1] classes.\r\n\r\nA simple way would be to implement the [Comparable](http://docs.oracle.com/javase/6/docs/api/java/lang/Comparable.html) interface in `AgentSummaryDTO` and then pass the list to `Collections.sort()`.\r\n\r\nIf you can&#39;t edit `AgentSummaryDTO`, you need a Comparator as shown here: https://stackoverflow.com/questions/8432581/how-to-sort-a-listobject-alphabetically-using-object-name-field\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/util/Collections.html#sort%28java.util.List,%20java.util.Comparator%29","title":"Sort a Java collection object based on one field in it","body":"<p>Have a look at the <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/Comparator.html\" rel=\"nofollow noreferrer\">Comparator</a> and <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/Collections.html#sort%28java.util.List,%20java.util.Comparator%29\" rel=\"nofollow noreferrer\">Collections</a> classes.</p>\n\n<p>A simple way would be to implement the <a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/Comparable.html\" rel=\"nofollow noreferrer\">Comparable</a> interface in <code>AgentSummaryDTO</code> and then pass the list to <code>Collections.sort()</code>.</p>\n\n<p>If you can't edit <code>AgentSummaryDTO</code>, you need a Comparator as shown here: <a href=\"https://stackoverflow.com/questions/8432581/how-to-sort-a-listobject-alphabetically-using-object-name-field\">How to sort a List&lt;Object&gt; alphabetically using Object name field</a></p>\n"},{"tags":[],"owner":{"account_id":1858855,"reputation":241,"user_id":1683873,"accept_rate":60,"display_name":"dareurdream"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1529651292,"creation_date":1348306432,"answer_id":12542613,"question_id":12542185,"body_markdown":"Have a look at the code below.\r\n\r\n    package test;\r\n\r\n\timport java.io.Serializable;\r\n\timport java.util.ArrayList;\r\n\timport java.util.Collections;\r\n\timport java.util.Date;\r\n\timport java.util.List;\r\n\r\n\tpublic class AgentSummary {\r\n\t\tprivate Long id;\r\n\t\tprivate String agentName;\r\n\t\tprivate String agentCode;\r\n\t\tprivate String status;\r\n\t\tprivate Date createdDate;\r\n\t\tprivate Integer customerCount;\r\n\r\n\t\t/**\r\n\t\t * @param args\r\n\t\t */\r\n\t\tpublic static void main(String[] args) {\r\n            new AgentSummary().addObjects();   \r\n        }\r\n    \r\n        public void addObjects(){\r\n\t\t\tList&lt;AgentSummaryDTO&gt; agentSummary = new ArrayList&lt;AgentSummaryDTO&gt;();\r\n\t\t\tfor (int j = 0; j &lt; 10; j++) {\r\n\t\t\t\tagentSummary.add(new AgentSummaryDTO(j));\r\n\t\t\t}\r\n\t\t\tCollections.sort(agentSummary);\r\n\r\n\t\t\tfor (AgentSummaryDTO obj : agentSummary) {\r\n\t\t\t\tSystem.out.println(&quot;File &quot; + obj.getCustomerCount());\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tclass AgentSummaryDTO implements Serializable, Comparable&lt;AgentSummaryDTO&gt; {\r\n\r\n\t\tprivate Long id;\r\n\t\tprivate String agentName;\r\n\t\tprivate String agentCode;\r\n\t\tprivate String status;\r\n\t\tprivate Date createdDate;\r\n\t\tprivate Integer customerCount;\r\n\r\n\t\tAgentSummaryDTO() {\r\n\t\t\tcustomerCount = null;\r\n\t\t}\r\n\r\n\t\tAgentSummaryDTO(int customerCount) {\r\n\t\t\tthis.customerCount = customerCount;\r\n\t\t}\r\n\t\t\r\n\t\t/**\r\n\t\t * @return the id\r\n\t\t */\r\n\t\tpublic Long getId() {\r\n\t\t\treturn id;\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * @param id\r\n\t\t *            the id to set\r\n\t\t */\r\n\t\tpublic void setId(Long id) {\r\n\t\t\tthis.id = id;\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * @return the agentName\r\n\t\t */\r\n\t\tpublic String getAgentName() {\r\n\t\t\treturn agentName;\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * @param agentName\r\n\t\t *            the agentName to set\r\n\t\t */\r\n\t\tpublic void setAgentName(String agentName) {\r\n\t\t\tthis.agentName = agentName;\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * @return the agentCode\r\n\t\t */\r\n\t\tpublic String getAgentCode() {\r\n\t\t\treturn agentCode;\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * @param agentCode\r\n\t\t *            the agentCode to set\r\n\t\t */\r\n\t\tpublic void setAgentCode(String agentCode) {\r\n\t\t\tthis.agentCode = agentCode;\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * @return the status\r\n\t\t */\r\n\t\tpublic String getStatus() {\r\n\t\t\treturn status;\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * @param status\r\n\t\t *            the status to set\r\n\t\t */\r\n\t\tpublic void setStatus(String status) {\r\n\t\t\tthis.status = status;\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * @return the createdDate\r\n\t\t */\r\n\t\tpublic Date getCreatedDate() {\r\n\t\t\treturn createdDate;\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * @param createdDate\r\n\t\t *            the createdDate to set\r\n\t\t */\r\n\t\tpublic void setCreatedDate(Date createdDate) {\r\n\t\t\tthis.createdDate = createdDate;\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * @return the customerCount\r\n\t\t */\r\n\t\tpublic Integer getCustomerCount() {\r\n\t\t\treturn customerCount;\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * @param customerCount\r\n\t\t *            the customerCount to set\r\n\t\t */\r\n\t\tpublic void setCustomerCount(Integer customerCount) {\r\n\t\t\tthis.customerCount = customerCount;\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic int compareTo(AgentSummaryDTO arg0) {\r\n\r\n\t\t\tif (this.customerCount &gt; arg0.customerCount)\r\n\t\t\t\treturn 0;\r\n\t\t\telse\r\n\t\t\t\treturn 1;\r\n\t\t}\r\n\t}\r\n\r\n","title":"Sort a Java collection object based on one field in it","body":"<p>Have a look at the code below.</p>\n\n<pre><code>package test;\n\nimport java.io.Serializable;\nimport java.util.ArrayList;\nimport java.util.Collections;\nimport java.util.Date;\nimport java.util.List;\n\npublic class AgentSummary {\n    private Long id;\n    private String agentName;\n    private String agentCode;\n    private String status;\n    private Date createdDate;\n    private Integer customerCount;\n\n    /**\n     * @param args\n     */\n    public static void main(String[] args) {\n        new AgentSummary().addObjects();   \n    }\n\n    public void addObjects(){\n        List&lt;AgentSummaryDTO&gt; agentSummary = new ArrayList&lt;AgentSummaryDTO&gt;();\n        for (int j = 0; j &lt; 10; j++) {\n            agentSummary.add(new AgentSummaryDTO(j));\n        }\n        Collections.sort(agentSummary);\n\n        for (AgentSummaryDTO obj : agentSummary) {\n            System.out.println(\"File \" + obj.getCustomerCount());\n        }\n    }\n}\n\nclass AgentSummaryDTO implements Serializable, Comparable&lt;AgentSummaryDTO&gt; {\n\n    private Long id;\n    private String agentName;\n    private String agentCode;\n    private String status;\n    private Date createdDate;\n    private Integer customerCount;\n\n    AgentSummaryDTO() {\n        customerCount = null;\n    }\n\n    AgentSummaryDTO(int customerCount) {\n        this.customerCount = customerCount;\n    }\n\n    /**\n     * @return the id\n     */\n    public Long getId() {\n        return id;\n    }\n\n    /**\n     * @param id\n     *            the id to set\n     */\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    /**\n     * @return the agentName\n     */\n    public String getAgentName() {\n        return agentName;\n    }\n\n    /**\n     * @param agentName\n     *            the agentName to set\n     */\n    public void setAgentName(String agentName) {\n        this.agentName = agentName;\n    }\n\n    /**\n     * @return the agentCode\n     */\n    public String getAgentCode() {\n        return agentCode;\n    }\n\n    /**\n     * @param agentCode\n     *            the agentCode to set\n     */\n    public void setAgentCode(String agentCode) {\n        this.agentCode = agentCode;\n    }\n\n    /**\n     * @return the status\n     */\n    public String getStatus() {\n        return status;\n    }\n\n    /**\n     * @param status\n     *            the status to set\n     */\n    public void setStatus(String status) {\n        this.status = status;\n    }\n\n    /**\n     * @return the createdDate\n     */\n    public Date getCreatedDate() {\n        return createdDate;\n    }\n\n    /**\n     * @param createdDate\n     *            the createdDate to set\n     */\n    public void setCreatedDate(Date createdDate) {\n        this.createdDate = createdDate;\n    }\n\n    /**\n     * @return the customerCount\n     */\n    public Integer getCustomerCount() {\n        return customerCount;\n    }\n\n    /**\n     * @param customerCount\n     *            the customerCount to set\n     */\n    public void setCustomerCount(Integer customerCount) {\n        this.customerCount = customerCount;\n    }\n\n    @Override\n    public int compareTo(AgentSummaryDTO arg0) {\n\n        if (this.customerCount &gt; arg0.customerCount)\n            return 0;\n        else\n            return 1;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1744463,"reputation":12621,"user_id":1594980,"accept_rate":85,"display_name":"Jiri Kremser"},"down_vote_count":0,"up_vote_count":116,"is_accepted":true,"score":116,"last_activity_date":1547208480,"creation_date":1348307709,"answer_id":12542755,"question_id":12542185,"body_markdown":"here is my &quot;1liner&quot;:\r\n\r\n    Collections.sort(agentDtoList, new Comparator&lt;AgentSummaryDTO&gt;(){\r\n       public int compare(AgentSummaryDTO o1, AgentSummaryDTO o2){\r\n          return o1.getCustomerCount() - o2.getCustomerCount();\r\n       }\r\n    });\r\n\r\nUPDATE for Java 8:\r\nFor int  datatype \r\n\r\n   \r\n\r\n     Collections.sort(agentDtoList, (o1, o2) -&gt; o1.getCustomerCount() - o2.getCustomerCount());\r\n\r\nor even:\r\n\r\n     Collections.sort(agentDtoList, Comparator.comparing(AgentSummaryDTO::getCustomerCount));\r\n\r\n\r\nFor String datatype (as in comment)\r\n\r\n\r\n   \r\n\r\n    Collections.sort(list, (o1, o2) -&gt; (o1.getAgentName().compareTo(o2.getAgentName())));\r\n\r\n\r\n..it expects getter `AgentSummaryDTO.getCustomerCount()`","title":"Sort a Java collection object based on one field in it","body":"<p>here is my \"1liner\":</p>\n\n<pre><code>Collections.sort(agentDtoList, new Comparator&lt;AgentSummaryDTO&gt;(){\n   public int compare(AgentSummaryDTO o1, AgentSummaryDTO o2){\n      return o1.getCustomerCount() - o2.getCustomerCount();\n   }\n});\n</code></pre>\n\n<p>UPDATE for Java 8:\nFor int  datatype </p>\n\n<pre><code> Collections.sort(agentDtoList, (o1, o2) -&gt; o1.getCustomerCount() - o2.getCustomerCount());\n</code></pre>\n\n<p>or even:</p>\n\n<pre><code> Collections.sort(agentDtoList, Comparator.comparing(AgentSummaryDTO::getCustomerCount));\n</code></pre>\n\n<p>For String datatype (as in comment)</p>\n\n<pre><code>Collections.sort(list, (o1, o2) -&gt; (o1.getAgentName().compareTo(o2.getAgentName())));\n</code></pre>\n\n<p>..it expects getter <code>AgentSummaryDTO.getCustomerCount()</code></p>\n"},{"tags":[],"owner":{"account_id":1522669,"reputation":11674,"user_id":1421925,"accept_rate":90,"display_name":"Magnilex"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1480930729,"creation_date":1480930729,"answer_id":40971170,"question_id":12542185,"body_markdown":"The [answer by Jiri Kremser][1] can be simplified even further, which really is the full Java 8 way to do it:\r\n\r\n    Collections.sort(agentDtoList, Comparator.comparing(AgentSummaryDTO::getCustomerCount));\r\n\r\nThis simply compares by the integer field, and works well since `Integer` implements `Comparable`.\r\n\r\nAn even cleaner solution might be to use the built-in [`comparingInt()`][2] method:\r\n\r\n    Collections.sort(agentDtoList, Comparator.comparingInt(AgentSummaryDTO::getCustomerCount));\r\n\r\nOf course, this could be expressed even shorter by statically importing `sort` and `comparingInt`:\r\n\r\n    sort(agentDtoList, comparingInt(AgentSummaryDTO::getCustomerCount));\r\n\r\n  [1]: https://stackoverflow.com/a/12542755/1421925\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html#comparingInt-java.util.function.ToIntFunction-","title":"Sort a Java collection object based on one field in it","body":"<p>The <a href=\"https://stackoverflow.com/a/12542755/1421925\">answer by Jiri Kremser</a> can be simplified even further, which really is the full Java 8 way to do it:</p>\n\n<pre><code>Collections.sort(agentDtoList, Comparator.comparing(AgentSummaryDTO::getCustomerCount));\n</code></pre>\n\n<p>This simply compares by the integer field, and works well since <code>Integer</code> implements <code>Comparable</code>.</p>\n\n<p>An even cleaner solution might be to use the built-in <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html#comparingInt-java.util.function.ToIntFunction-\" rel=\"noreferrer\"><code>comparingInt()</code></a> method:</p>\n\n<pre><code>Collections.sort(agentDtoList, Comparator.comparingInt(AgentSummaryDTO::getCustomerCount));\n</code></pre>\n\n<p>Of course, this could be expressed even shorter by statically importing <code>sort</code> and <code>comparingInt</code>:</p>\n\n<pre><code>sort(agentDtoList, comparingInt(AgentSummaryDTO::getCustomerCount));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9484511,"reputation":31,"user_id":7051268,"display_name":"Whoami"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1592605577,"creation_date":1487224948,"answer_id":42266115,"question_id":12542185,"body_markdown":"UPDATE for Java 8. It works:\r\n\r\n    \r\n    Collections.sort(agentDtoList, (o1, o2) -&gt; o1.getCustomerCount() - o2.getCustomerCount());\r\n\r\n\r\n","title":"Sort a Java collection object based on one field in it","body":"<p>UPDATE for Java 8. It works:</p>\n\n<pre><code>Collections.sort(agentDtoList, (o1, o2) -&gt; o1.getCustomerCount() - o2.getCustomerCount());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9691730,"reputation":1318,"user_id":7189597,"display_name":"Sobhan"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1623494230,"creation_date":1623494230,"answer_id":67947983,"question_id":12542185,"body_markdown":"for anyone who looks for answer yet:\r\n\r\nyou can also sort your list with JAVA-8 Stream-API.\r\n\r\n    List&lt;AgentSummaryDTO&gt; sortedList = agentDtoList.stream()\r\n      .sorted(Comparator.comparing(AgentSummaryDTO::getCustomerCount).reversed())\r\n      .collect(Collectors.toList());","title":"Sort a Java collection object based on one field in it","body":"<p>for anyone who looks for answer yet:</p>\n<p>you can also sort your list with JAVA-8 Stream-API.</p>\n<pre><code>List&lt;AgentSummaryDTO&gt; sortedList = agentDtoList.stream()\n  .sorted(Comparator.comparing(AgentSummaryDTO::getCustomerCount).reversed())\n  .collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10153493,"reputation":7,"user_id":7499278,"display_name":"Ali Karimi"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1637044639,"creation_date":1636999371,"answer_id":69978848,"question_id":12542185,"body_markdown":"you can use this code\r\n\r\n \r\n\r\n    agentDtoList.sort((t1, t2) -&gt; t1.getCustomerCount());","title":"Sort a Java collection object based on one field in it","body":"<p>you can use this code</p>\n<pre><code>agentDtoList.sort((t1, t2) -&gt; t1.getCustomerCount());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24906609,"reputation":11,"user_id":18776605,"display_name":"Vishal Sharma"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649760995,"creation_date":1649718198,"answer_id":71835246,"question_id":12542185,"body_markdown":"Suppose class **Book** having two attributes i.e. **int pageNo** and **String bookName** with getters and setters methods. And need to sort by page numbers, below is the code,\r\n\r\n```java\r\npublic class SortingBooks {\r\n\tpublic static void main(String[] args) {\r\n\r\n\t\tArrayList&lt;Book&gt; books = new ArrayList&lt;&gt;();\r\n\t\tbooks.add(new Book(40, &quot;My Dreams&quot;));\r\n\t\tbooks.add(new Book(10, &quot;Karma&quot;));\r\n\r\n\t\t//sorting by page numbers\r\n\t\tbooks.sort((obj1, obj2) -&gt; obj1.getPageNo()-obj2.getPageNo());\r\n\r\n\t\t//iterate list\r\n\t\tSystem.out.println(books.get(0).getPageNo() + &quot;,&quot; + books.get(0).getBookName());\r\n\r\n\t\t//don&#39;t want to change original list then\r\n\t\tList&lt;Books&gt; sbook = books.stream()\r\n\t\t\t\t.sorted(Comparator.comparing(Book::getPageNo)).collect(Collectors.toList());\r\n\t\tSystem.out.println(sbook);\r\n\t}\r\n}\r\n```","title":"Sort a Java collection object based on one field in it","body":"<p>Suppose class <strong>Book</strong> having two attributes i.e. <strong>int pageNo</strong> and <strong>String bookName</strong> with getters and setters methods. And need to sort by page numbers, below is the code,</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class SortingBooks {\n    public static void main(String[] args) {\n\n        ArrayList&lt;Book&gt; books = new ArrayList&lt;&gt;();\n        books.add(new Book(40, &quot;My Dreams&quot;));\n        books.add(new Book(10, &quot;Karma&quot;));\n\n        //sorting by page numbers\n        books.sort((obj1, obj2) -&gt; obj1.getPageNo()-obj2.getPageNo());\n\n        //iterate list\n        System.out.println(books.get(0).getPageNo() + &quot;,&quot; + books.get(0).getBookName());\n\n        //don't want to change original list then\n        List&lt;Books&gt; sbook = books.stream()\n                .sorted(Comparator.comparing(Book::getPageNo)).collect(Collectors.toList());\n        System.out.println(sbook);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":181043,"reputation":8252,"user_id":414773,"accept_rate":46,"display_name":"skmaran.nr.iras"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":143520,"favorite_count":0,"down_vote_count":1,"up_vote_count":58,"accepted_answer_id":12542755,"answer_count":8,"score":57,"last_activity_date":1683469374,"creation_date":1348302842,"question_id":12542185,"body_markdown":"I have the following collection:\r\n\r\n    Collection&lt;AgentSummaryDTO&gt; agentDtoList = new ArrayList&lt;AgentSummaryDTO&gt;();\r\n\r\nWhere `AgentSummaryDTO` looks like this:\r\n\r\n    public class AgentSummaryDTO implements Serializable {\r\n        private Long id;\r\n        private String agentName;\r\n        private String agentCode;\r\n        private String status;\r\n        private Date createdDate;\r\n        private Integer customerCount;\r\n    }\r\n\r\nNow I have to sort the collection `agentDtoList` based on the `customerCount` field, how to achieve this?","title":"Sort a Java collection object based on one field in it","body":"<p>I have the following collection:</p>\n\n<pre><code>Collection&lt;AgentSummaryDTO&gt; agentDtoList = new ArrayList&lt;AgentSummaryDTO&gt;();\n</code></pre>\n\n<p>Where <code>AgentSummaryDTO</code> looks like this:</p>\n\n<pre><code>public class AgentSummaryDTO implements Serializable {\n    private Long id;\n    private String agentName;\n    private String agentCode;\n    private String status;\n    private Date createdDate;\n    private Integer customerCount;\n}\n</code></pre>\n\n<p>Now I have to sort the collection <code>agentDtoList</code> based on the <code>customerCount</code> field, how to achieve this?</p>\n"},{"tags":["java","html","spring","web"],"comments":[{"owner":{"account_id":957259,"reputation":29625,"user_id":982341,"display_name":"GreyBeardedGeek"},"score":0,"creation_date":1683470488,"post_id":76194502,"comment_id":134368594,"body_markdown":"take a look at websockets","body":"take a look at websockets"}],"owner":{"account_id":22630372,"reputation":35,"user_id":16807844,"display_name":"Paincake-"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683469306,"creation_date":1683469306,"question_id":76194502,"body_markdown":"So i&#39;m trying to develop a simple web-messenger on Spring and here&#39;s the problem that i cannot even find an approach to. When user A sends a message, his view is updated, showing new message (for now it&#39;s pretty simple logic: when the message is sent using POST request, it is saved to database, and then corresponding controller redirects user to GET controller, showing contents of the message table from the database. At this moment, database already contains new message). What i want to achieve is when user A sends his message, view of the user B on the other end needs to be updated as well, without refreshing the page in browser. Is there a way to do that in Spring?\r\n\r\nHere&#39;s my Entity classes, controllers and simple html form, if needed:\r\n\r\n```\r\n@Entity\r\n@Table(name=&quot;t_chat&quot;)\r\n@AllArgsConstructor\r\n@NoArgsConstructor(access= AccessLevel.PUBLIC, force=true)\r\n@Getter\r\n@Setter\r\npublic class Chat {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n    @ManyToMany(fetch = FetchType.EAGER)\r\n    private List&lt;AuthUser&gt; users;\r\n    @OneToMany(mappedBy = &quot;chat&quot;)\r\n    @Nullable\r\n    private List&lt;Message&gt; messageList;\r\n    private boolean isPrivate;\r\n    private LocalDateTime lastMessageDateTime;\r\n\r\n}\r\n```\r\n\r\n```\r\n@Entity\r\n@Table(name=&quot;t_message&quot;)\r\n@AllArgsConstructor\r\n@NoArgsConstructor(access= AccessLevel.PUBLIC, force=true)\r\n@Getter\r\n@Setter\r\npublic class Message {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n    private String text;\r\n    @Nullable\r\n    @ElementCollection\r\n    private List&lt;String&gt; pictures;\r\n    private LocalDateTime sendingTime;\r\n    @ManyToOne\r\n    private AuthUser sender;\r\n    @ManyToOne\r\n    private AuthUser receiver;\r\n    boolean isForwarded;\r\n    @ManyToOne\r\n    private Chat chat;\r\n\r\n}\r\n```\r\n\r\n```\r\n @GetMapping(&quot;/{chatId}&quot;)\r\n    public String getChat(@PathVariable String chatId, Model model){\r\n        Chat chat = chatService.findChatById(Long.parseLong(chatId));\r\n        model.addAttribute(&quot;chat&quot;, chat);\r\n        return &quot;chat&quot;;\r\n    }\r\n\r\n    @PostMapping(&quot;/{chatId}/send&quot;)\r\n    public String sendMessage(@PathVariable String chatId,\r\n                              @ModelAttribute(name = &quot;message&quot;) Message message,\r\n                              Model model){\r\n        Chat chat = chatService.findChatById(Long.parseLong(chatId));\r\n        message.setSender((AuthUser) SecurityContextHolder.getContext().getAuthentication().getPrincipal());\r\n        if(Objects.equals(chat.getUsers().get(0).getId(), message.getSender().getId())){\r\n            message.setReceiver(chat.getUsers().get(1));\r\n        }\r\n        else{\r\n            message.setReceiver(chat.getUsers().get(0));\r\n        }\r\n        message.setSendingTime(LocalDateTime.now());\r\n        message.setForwarded(false);\r\n        message.setChat(chat);\r\n        messageService.sendMessage(message);\r\n        return String.format(&quot;redirect:/chat/%s&quot;, chatId);\r\n    }\r\n```\r\n\r\n\r\n```\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html lang=&quot;en&quot;&gt;\r\n&lt;head&gt;\r\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\r\n    &lt;title&gt;Title&lt;/title&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n    &lt;div th:each=&quot;message : ${chat.messageList}&quot;&gt;\r\n        &lt;p th:text=&quot;${message.sender.username}&quot;&gt;&lt;/p&gt;\r\n        &lt;p th:text=&quot;${message.sendingTime}&quot;&gt;&lt;/p&gt;\r\n        &lt;p th:text=&quot;${message.text}&quot;&gt;&lt;/p&gt;\r\n    &lt;/div&gt;\r\n    &lt;form method=&quot;post&quot; th:action=&quot;@{/chat/{chatId}/send(chatId=${chat.id})}&quot; id=&quot;message&quot;&gt;\r\n        &lt;label for=&quot;messageText&quot;&gt; Enter your message\r\n        &lt;/label&gt;\r\n        &lt;textarea id=&quot;messageText&quot; name=&quot;text&quot;&gt;\r\n        &lt;/textarea&gt;\r\n        &lt;input type=&quot;submit&quot; value=&quot;Send&quot;/&gt;\r\n    &lt;/form&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\n\r\n\r\n","title":"Updating client&#39;s view based on actions of another client","body":"<p>So i'm trying to develop a simple web-messenger on Spring and here's the problem that i cannot even find an approach to. When user A sends a message, his view is updated, showing new message (for now it's pretty simple logic: when the message is sent using POST request, it is saved to database, and then corresponding controller redirects user to GET controller, showing contents of the message table from the database. At this moment, database already contains new message). What i want to achieve is when user A sends his message, view of the user B on the other end needs to be updated as well, without refreshing the page in browser. Is there a way to do that in Spring?</p>\n<p>Here's my Entity classes, controllers and simple html form, if needed:</p>\n<pre><code>@Entity\n@Table(name=&quot;t_chat&quot;)\n@AllArgsConstructor\n@NoArgsConstructor(access= AccessLevel.PUBLIC, force=true)\n@Getter\n@Setter\npublic class Chat {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    @ManyToMany(fetch = FetchType.EAGER)\n    private List&lt;AuthUser&gt; users;\n    @OneToMany(mappedBy = &quot;chat&quot;)\n    @Nullable\n    private List&lt;Message&gt; messageList;\n    private boolean isPrivate;\n    private LocalDateTime lastMessageDateTime;\n\n}\n</code></pre>\n<pre><code>@Entity\n@Table(name=&quot;t_message&quot;)\n@AllArgsConstructor\n@NoArgsConstructor(access= AccessLevel.PUBLIC, force=true)\n@Getter\n@Setter\npublic class Message {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    private String text;\n    @Nullable\n    @ElementCollection\n    private List&lt;String&gt; pictures;\n    private LocalDateTime sendingTime;\n    @ManyToOne\n    private AuthUser sender;\n    @ManyToOne\n    private AuthUser receiver;\n    boolean isForwarded;\n    @ManyToOne\n    private Chat chat;\n\n}\n</code></pre>\n<pre><code> @GetMapping(&quot;/{chatId}&quot;)\n    public String getChat(@PathVariable String chatId, Model model){\n        Chat chat = chatService.findChatById(Long.parseLong(chatId));\n        model.addAttribute(&quot;chat&quot;, chat);\n        return &quot;chat&quot;;\n    }\n\n    @PostMapping(&quot;/{chatId}/send&quot;)\n    public String sendMessage(@PathVariable String chatId,\n                              @ModelAttribute(name = &quot;message&quot;) Message message,\n                              Model model){\n        Chat chat = chatService.findChatById(Long.parseLong(chatId));\n        message.setSender((AuthUser) SecurityContextHolder.getContext().getAuthentication().getPrincipal());\n        if(Objects.equals(chat.getUsers().get(0).getId(), message.getSender().getId())){\n            message.setReceiver(chat.getUsers().get(1));\n        }\n        else{\n            message.setReceiver(chat.getUsers().get(0));\n        }\n        message.setSendingTime(LocalDateTime.now());\n        message.setForwarded(false);\n        message.setChat(chat);\n        messageService.sendMessage(message);\n        return String.format(&quot;redirect:/chat/%s&quot;, chatId);\n    }\n</code></pre>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=&quot;en&quot;&gt;\n&lt;head&gt;\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\n    &lt;title&gt;Title&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;div th:each=&quot;message : ${chat.messageList}&quot;&gt;\n        &lt;p th:text=&quot;${message.sender.username}&quot;&gt;&lt;/p&gt;\n        &lt;p th:text=&quot;${message.sendingTime}&quot;&gt;&lt;/p&gt;\n        &lt;p th:text=&quot;${message.text}&quot;&gt;&lt;/p&gt;\n    &lt;/div&gt;\n    &lt;form method=&quot;post&quot; th:action=&quot;@{/chat/{chatId}/send(chatId=${chat.id})}&quot; id=&quot;message&quot;&gt;\n        &lt;label for=&quot;messageText&quot;&gt; Enter your message\n        &lt;/label&gt;\n        &lt;textarea id=&quot;messageText&quot; name=&quot;text&quot;&gt;\n        &lt;/textarea&gt;\n        &lt;input type=&quot;submit&quot; value=&quot;Send&quot;/&gt;\n    &lt;/form&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"},{"tags":["java","android","filechooser"],"answers":[{"tags":[],"owner":{"account_id":27028764,"reputation":561,"user_id":20585541,"display_name":"Ben the Coder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1683469290,"creation_date":1683469290,"answer_id":76194500,"question_id":76048673,"body_markdown":"Material File Picker seems outdated and not very well documented.\r\n\r\nI would recommend [storage chooser](https://github.com/codekidX/storage-chooser) which seems much more documented and professional.\r\n\r\nFor example, to implement it, put this in your dependencies:\r\n\r\n    com.github.codekidX:storage-chooser:2.0.4.4\r\nAnd then you can use it to pick files like this:\r\n```\r\n// Initialize Builder\r\nStorageChooser chooser = new StorageChooser.Builder()\r\n.withActivity(MainActivity.this)\r\n.withFragmentManager(getFragmentManager())\r\n.withMemoryBar(true)\r\n.allowCustomPath(true)\r\n.setType(StorageChooser.FILE_PICKER)\r\n.build();\r\n\r\n// Show dialog whenever you want by\r\nchooser.show();\r\n\r\n// get path that the user has chosen\r\nchooser.setOnSelectListener(new StorageChooser.OnSelectListener() {\r\n    @Override\r\n    public void onSelect(String path) {\r\n        Log.e(&quot;SELECTED_PATH&quot;, path);\r\n    }\r\n});\r\n```","title":"How do I use MaterialFilePicker?","body":"<p>Material File Picker seems outdated and not very well documented.</p>\n<p>I would recommend <a href=\"https://github.com/codekidX/storage-chooser\" rel=\"nofollow noreferrer\">storage chooser</a> which seems much more documented and professional.</p>\n<p>For example, to implement it, put this in your dependencies:</p>\n<pre><code>com.github.codekidX:storage-chooser:2.0.4.4\n</code></pre>\n<p>And then you can use it to pick files like this:</p>\n<pre><code>// Initialize Builder\nStorageChooser chooser = new StorageChooser.Builder()\n.withActivity(MainActivity.this)\n.withFragmentManager(getFragmentManager())\n.withMemoryBar(true)\n.allowCustomPath(true)\n.setType(StorageChooser.FILE_PICKER)\n.build();\n\n// Show dialog whenever you want by\nchooser.show();\n\n// get path that the user has chosen\nchooser.setOnSelectListener(new StorageChooser.OnSelectListener() {\n    @Override\n    public void onSelect(String path) {\n        Log.e(&quot;SELECTED_PATH&quot;, path);\n    }\n});\n</code></pre>\n"}],"owner":{"display_name":"user21603351"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":176,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76194500,"answer_count":1,"score":0,"last_activity_date":1683469290,"creation_date":1681848572,"question_id":76048673,"body_markdown":"I am trying to use [MaterialFilePicker](https://github.com/nbsp-team/MaterialFilePicker) for my Android Java music player.  I have included it in my two `build.gradle` files, and have adjusted my `colors.xml` and `styles.xml` files accordingly, but can&#39;t figure out where to go next.  The `readme.md` file in the GitHub repository told me this:\r\n\r\n&gt; Open your class and add the following code\r\n\r\nAnd provided me with this code:\r\n\r\n```\r\n...\r\npublic static final int FILE_PICKER_REQUEST_CODE = 989\r\n...\r\n\r\nMaterialFilePicker()\r\n    // Pass a source of context. Can be:\r\n    //    .withActivity(Activity activity)\r\n    //    .withFragment(Fragment fragment)\r\n    //    .withSupportFragment(androidx.fragment.app.Fragment fragment)\r\n    .withActivity(this)\r\n    // With cross icon on the right side of toolbar for closing picker straight away\r\n    .withCloseMenu(true)\r\n    // Entry point path (user will start from it)\r\n    .withPath(alarmsFolder.absolutePath)\r\n    // Root path (user won&#39;t be able to come higher than it)\r\n    .withRootPath(externalStorage.absolutePath)\r\n    // Showing hidden files\r\n    .withHiddenFiles(true)\r\n    // Want to choose only jpg images\r\n    .withFilter(Pattern.compile(&quot;.*\\\\.(jpg|jpeg)$&quot;))\r\n    // Don&#39;t apply filter to directories names\r\n    .withFilterDirectories(false)\r\n    .withTitle(&quot;Sample title&quot;)\r\n    .withRequestCode(FILE_PICKER_REQUEST_CODE)\r\n    .start()\r\n...\r\n```\r\nBut I can&#39;t figure out how do implement this code.\r\nI have created a file called `MaterialFilePicker.java` and have modified the code provided to look like this:\r\n```\r\npackage com.infinityfreeapp.formalsoftware.audioplayer;\r\n\r\nimport java.util.regex.Pattern;\r\nimport MaterialFilePicker;\r\n\r\npublic class MaterialFilePicker {\r\n    public static final int FILE_PICKER_REQUEST_CODE = 989;\r\n\r\n\r\n    MaterialFilePicker() {\r\n        // Pass a source of context. Can be:\r\n        //    .withActivity(Activity activity)\r\n        //    .withFragment(Fragment fragment)\r\n        //    .withSupportFragment(androidx.fragment.app.Fragment fragment)\r\n        .withActivity(this)\r\n        // With cross icon on the right side of toolbar for closing picker straight away\r\n        .withCloseMenu(true)\r\n        // Entry point path (user will start from it)\r\n        .withPath(alarmsFolder.absolutePath)\r\n        // Root path (user won&#39;t be able to come higher than it)\r\n        .withRootPath(externalStorage.absolutePath)\r\n        // Showing hidden files\r\n        .withHiddenFiles(true)\r\n        // Want to choose only jpg images\r\n        .withFilter(Pattern.compile(&quot;.*\\\\.(jpg|jpeg)$&quot;))\r\n        // Don&#39;t apply filter to directories names\r\n        .withFilterDirectories(false)\r\n        .withTitle(&quot;Sample title&quot;)\r\n        .withRequestCode(FILE_PICKER_REQUEST_CODE)\r\n        .start();\r\n    }\r\n}\r\n```\r\nBut it is still riddled with errors.\r\n","title":"How do I use MaterialFilePicker?","body":"<p>I am trying to use <a href=\"https://github.com/nbsp-team/MaterialFilePicker\" rel=\"nofollow noreferrer\">MaterialFilePicker</a> for my Android Java music player.  I have included it in my two <code>build.gradle</code> files, and have adjusted my <code>colors.xml</code> and <code>styles.xml</code> files accordingly, but can't figure out where to go next.  The <code>readme.md</code> file in the GitHub repository told me this:</p>\n<blockquote>\n<p>Open your class and add the following code</p>\n</blockquote>\n<p>And provided me with this code:</p>\n<pre><code>...\npublic static final int FILE_PICKER_REQUEST_CODE = 989\n...\n\nMaterialFilePicker()\n    // Pass a source of context. Can be:\n    //    .withActivity(Activity activity)\n    //    .withFragment(Fragment fragment)\n    //    .withSupportFragment(androidx.fragment.app.Fragment fragment)\n    .withActivity(this)\n    // With cross icon on the right side of toolbar for closing picker straight away\n    .withCloseMenu(true)\n    // Entry point path (user will start from it)\n    .withPath(alarmsFolder.absolutePath)\n    // Root path (user won't be able to come higher than it)\n    .withRootPath(externalStorage.absolutePath)\n    // Showing hidden files\n    .withHiddenFiles(true)\n    // Want to choose only jpg images\n    .withFilter(Pattern.compile(&quot;.*\\\\.(jpg|jpeg)$&quot;))\n    // Don't apply filter to directories names\n    .withFilterDirectories(false)\n    .withTitle(&quot;Sample title&quot;)\n    .withRequestCode(FILE_PICKER_REQUEST_CODE)\n    .start()\n...\n</code></pre>\n<p>But I can't figure out how do implement this code.\nI have created a file called <code>MaterialFilePicker.java</code> and have modified the code provided to look like this:</p>\n<pre><code>package com.infinityfreeapp.formalsoftware.audioplayer;\n\nimport java.util.regex.Pattern;\nimport MaterialFilePicker;\n\npublic class MaterialFilePicker {\n    public static final int FILE_PICKER_REQUEST_CODE = 989;\n\n\n    MaterialFilePicker() {\n        // Pass a source of context. Can be:\n        //    .withActivity(Activity activity)\n        //    .withFragment(Fragment fragment)\n        //    .withSupportFragment(androidx.fragment.app.Fragment fragment)\n        .withActivity(this)\n        // With cross icon on the right side of toolbar for closing picker straight away\n        .withCloseMenu(true)\n        // Entry point path (user will start from it)\n        .withPath(alarmsFolder.absolutePath)\n        // Root path (user won't be able to come higher than it)\n        .withRootPath(externalStorage.absolutePath)\n        // Showing hidden files\n        .withHiddenFiles(true)\n        // Want to choose only jpg images\n        .withFilter(Pattern.compile(&quot;.*\\\\.(jpg|jpeg)$&quot;))\n        // Don't apply filter to directories names\n        .withFilterDirectories(false)\n        .withTitle(&quot;Sample title&quot;)\n        .withRequestCode(FILE_PICKER_REQUEST_CODE)\n        .start();\n    }\n}\n</code></pre>\n<p>But it is still riddled with errors.</p>\n"},{"tags":["java","maven","visual-studio-code","annotation-processing"],"comments":[{"owner":{"account_id":15396644,"reputation":25745,"user_id":11107541,"display_name":"starball"},"score":0,"creation_date":1683505521,"post_id":76193276,"comment_id":134372705,"body_markdown":"what do you mean by &quot;showing in source code&quot;? Can you more clearly explain/describe what you expect to see?","body":"what do you mean by &quot;showing in source code&quot;? Can you more clearly explain/describe what you expect to see?"},{"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"score":0,"creation_date":1683523357,"post_id":76193276,"comment_id":134374028,"body_markdown":"What error are you getting? What is your desired effect?   Please see [how to ask](https://stackoverflow.com/help/how-to-ask).","body":"What error are you getting? What is your desired effect?   Please see <a href=\"https://stackoverflow.com/help/how-to-ask\">how to ask</a>."},{"owner":{"account_id":12227444,"reputation":318,"user_id":8924587,"display_name":"Hein Gertenbach"},"score":0,"creation_date":1683527129,"post_id":76193276,"comment_id":134374556,"body_markdown":"I want to see a squiggly line under my annotation or annotated element in my code editor window indicating a warning or an error similar to an unused variable or a syntax error respectively.","body":"I want to see a squiggly line under my annotation or annotated element in my code editor window indicating a warning or an error similar to an unused variable or a syntax error respectively."},{"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"score":0,"creation_date":1685608957,"post_id":76193276,"comment_id":134684851,"body_markdown":"What does `it&#39;s working for other annotations` mean? Have you already configured Pomxml correctly? Whether the local Maven repository is correct and whether the dependencies have been added, etc.","body":"What does <code>it&#39;s working for other annotations</code> mean? Have you already configured Pomxml correctly? Whether the local Maven repository is correct and whether the dependencies have been added, etc."}],"owner":{"account_id":12227444,"reputation":318,"user_id":8924587,"display_name":"Hein Gertenbach"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":198,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1683469244,"creation_date":1683454326,"question_id":76193276,"body_markdown":"I am developing a java project requiring the use of annotation processors using maven in VS Code. I set up two maven projects, one containing the main project and one containing the annotations. When trying to debug my processor I realised that no warning or error printed to  the messager was showing up in my source code.\r\n### Here is my example processor:\r\n```java\r\n@SupportedAnnotationTypes(&quot;com.hein.annotation.ResourceID&quot;)\r\n@SupportedSourceVersion(SourceVersion.RELEASE_19)\r\n@AutoService(Processor.class)\r\npublic class ResourceProcessor extends AbstractProcessor {\r\n    \r\n    @Override\r\n    public boolean process(Set&lt;? extends TypeElement&gt; annotations, RoundEnvironment roundEnv) {\r\n        for (TypeElement annotation : annotations) {\r\n            Set&lt;? extends Element&gt; elements = roundEnv.getElementsAnnotatedWith(annotation);\r\n            \r\n            elements.stream().forEach(e -&gt; processingEnv.getMessager().printError(&quot;oops!!&quot;, e));\r\n        }\r\n        return true;\r\n    }\r\n\r\n}\r\n```\r\n\r\nI made sure to compile and install my annotation project and even got the errors and warnings in the console when compiling my main project manually with ```mvn clean compile```. I&#39;m using the standard [Language Support for Java(TM) by Red Hat][1] and it&#39;s working for other annotations.\r\n\r\n  [1]: https://marketplace.visualstudio.com/items?itemName=redhat.java","title":"Vscode not showing java annotation processor warnings in source code","body":"<p>I am developing a java project requiring the use of annotation processors using maven in VS Code. I set up two maven projects, one containing the main project and one containing the annotations. When trying to debug my processor I realised that no warning or error printed to  the messager was showing up in my source code.</p>\n<h3>Here is my example processor:</h3>\n<pre class=\"lang-java prettyprint-override\"><code>@SupportedAnnotationTypes(&quot;com.hein.annotation.ResourceID&quot;)\n@SupportedSourceVersion(SourceVersion.RELEASE_19)\n@AutoService(Processor.class)\npublic class ResourceProcessor extends AbstractProcessor {\n    \n    @Override\n    public boolean process(Set&lt;? extends TypeElement&gt; annotations, RoundEnvironment roundEnv) {\n        for (TypeElement annotation : annotations) {\n            Set&lt;? extends Element&gt; elements = roundEnv.getElementsAnnotatedWith(annotation);\n            \n            elements.stream().forEach(e -&gt; processingEnv.getMessager().printError(&quot;oops!!&quot;, e));\n        }\n        return true;\n    }\n\n}\n</code></pre>\n<p>I made sure to compile and install my annotation project and even got the errors and warnings in the console when compiling my main project manually with <code>mvn clean compile</code>. I'm using the standard <a href=\"https://marketplace.visualstudio.com/items?itemName=redhat.java\" rel=\"nofollow noreferrer\">Language Support for Java(TM) by Red Hat</a> and it's working for other annotations.</p>\n"},{"tags":["java","exception"],"comments":[{"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":3,"creation_date":1343548826,"post_id":11707656,"comment_id":15529297,"body_markdown":"Instead of `(AssertionError)new AssertionError().initCause(mhx)` you can write `new AssertionError(mhx)`","body":"Instead of <code>(AssertionError)new AssertionError().initCause(mhx)</code> you can write <code>new AssertionError(mhx)</code>"}],"answers":[{"tags":[],"owner":{"account_id":255665,"reputation":232816,"user_id":535871,"accept_rate":84,"display_name":"Ted Hopp"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1343548789,"creation_date":1343548789,"answer_id":11707677,"question_id":11707656,"body_markdown":"`invokeExact` is declared `throws Throwable`. Thus, you need to catch `Throwable` instead of `Exception`. (An `Exception` is only one kind of `Throwable`.)\r\n\r\n    try {\r\n        s = (String) mh.invokeExact(&quot;daddy&quot;,&#39;d&#39;,&#39;n&#39;);\r\n    }\r\n    catch(Throwable t) {\r\n        throw new AssertionError(t);\r\n    }","title":"MethodHandle - must be caught or declared to be thrown. Why this error?","body":"<p><code>invokeExact</code> is declared <code>throws Throwable</code>. Thus, you need to catch <code>Throwable</code> instead of <code>Exception</code>. (An <code>Exception</code> is only one kind of <code>Throwable</code>.)</p>\n\n<pre><code>try {\n    s = (String) mh.invokeExact(\"daddy\",'d','n');\n}\ncatch(Throwable t) {\n    throw new AssertionError(t);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1683469192,"creation_date":1343548931,"answer_id":11707695,"question_id":11707656,"body_markdown":"As the Javadoc for [MethodHandle.invokeExact][1] states\r\n\r\n    public final Object invoke(Object... args) throws Throwable\r\n\r\nThis means you must catch `Throwable` or declare your method `throws Throwable`.\r\n\r\nBTW As this throws a generic exception an alternative to\r\n\r\n        try {\r\n            s = (String) mh.invokeExact(&quot;daddy&quot;,&#39;d&#39;,&#39;n&#39;);\r\n        } catch(Throwable t) {\r\n            throw new AssertionError(t);\r\n        }\r\n\r\nis to rethrow the Throwable with\r\n\r\n        try {\r\n            s = (String) mh.invokeExact(&quot;daddy&quot;,&#39;d&#39;,&#39;n&#39;);\r\n        } catch(Throwable t) {\r\n            Thread.currentThread().stop(t); // avoids wrapping the true exception\r\n        }\r\n\r\nWhile using Thread.stop(t) can be unpredictable if you stop another thread, it is predictable if you throw it for the current thread.\r\n\r\nNote: You need to ensure your method &quot;throws&quot; the appropriate checked exception for the method you are calling as the compiler cannot ensure this is the case.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/lang/invoke/MethodHandle.html#invokeExact%28java.lang.Object...%29","title":"MethodHandle - must be caught or declared to be thrown. Why this error?","body":"<p>As the Javadoc for <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/invoke/MethodHandle.html#invokeExact%28java.lang.Object...%29\" rel=\"nofollow noreferrer\">MethodHandle.invokeExact</a> states</p>\n<pre><code>public final Object invoke(Object... args) throws Throwable\n</code></pre>\n<p>This means you must catch <code>Throwable</code> or declare your method <code>throws Throwable</code>.</p>\n<p>BTW As this throws a generic exception an alternative to</p>\n<pre><code>    try {\n        s = (String) mh.invokeExact(&quot;daddy&quot;,'d','n');\n    } catch(Throwable t) {\n        throw new AssertionError(t);\n    }\n</code></pre>\n<p>is to rethrow the Throwable with</p>\n<pre><code>    try {\n        s = (String) mh.invokeExact(&quot;daddy&quot;,'d','n');\n    } catch(Throwable t) {\n        Thread.currentThread().stop(t); // avoids wrapping the true exception\n    }\n</code></pre>\n<p>While using Thread.stop(t) can be unpredictable if you stop another thread, it is predictable if you throw it for the current thread.</p>\n<p>Note: You need to ensure your method &quot;throws&quot; the appropriate checked exception for the method you are calling as the compiler cannot ensure this is the case.</p>\n"}],"owner":{"account_id":280784,"reputation":13627,"user_id":576682,"accept_rate":92,"display_name":"Ant&#39;s"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13956,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":11707695,"answer_count":2,"score":3,"last_activity_date":1683469192,"creation_date":1343548671,"question_id":11707656,"body_markdown":"I have a Java 7 code, where I&#39;m playing with [MethodHanlde][1]. The code is :\r\n\r\n    import java.lang.invoke.MethodHandle;\r\n    import java.lang.invoke.MethodHandles;\r\n    import java.lang.invoke.MethodType;\r\n    class HelloWorldApp {\r\n        public static  void main(String[] args) {\r\n    \tMyMethodHandle obj = new MyMethodHandle();\r\n    \tobj.getToStringMH();\r\n        }\r\n    }\r\n    \r\n    class MyMethodHandle {\r\n    \tpublic String getToStringMH() {\r\n    \t\tMethodHandle mh;\r\n    \t\tString s ;\r\n            \tMethodType mt = MethodType.methodType(String.class, char.class, char.class);\r\n    \t        MethodHandles.Lookup lk = MethodHandles.lookup();\r\n    \t\ttry {\r\n    \t\t\tmh = lk.findVirtual(String.class, &quot;replace&quot;, mt);\r\n    \t\t} catch (NoSuchMethodException | IllegalAccessException mhx) {\r\n    \t\t\tthrow (AssertionError)new AssertionError().initCause(mhx);\r\n    \t\t}\r\n    \t\ttry {\r\n    \t\t\ts = (String) mh.invokeExact(&quot;daddy&quot;,&#39;d&#39;,&#39;n&#39;);\r\n    \t\t}\r\n    \t\tcatch(Exception e) {\r\n    \t\t\tthrow (AssertionError)new AssertionError().initCause(e);\r\n    \t\t}\r\n    \t\tSystem.out.println(s);\r\n    \t\treturn &quot;works&quot;;\r\n    \t}\r\n    }\r\n\r\nwhen I compile this : \r\n\r\n    javac HelloWorldApp.java\r\n\r\nI get a error like this :\r\n\r\n    HelloWorldApp.java:23: error: unreported exception Throwable; must be caught or declared to be thrown\r\n    \t\t\ts = (String) mh.invokeExact(&quot;daddy&quot;,&#39;d&#39;,&#39;n&#39;);\r\n    \t\t\t                           ^\r\n    1 error\r\n\r\n\r\n\r\nWhere I&#39;m making mistake?\r\n\r\n\r\n \r\n\r\n [1]: http://docs.oracle.com/javase/7/docs/api/java/lang/invoke/MethodHandle.html","title":"MethodHandle - must be caught or declared to be thrown. Why this error?","body":"<p>I have a Java 7 code, where I'm playing with <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/invoke/MethodHandle.html\" rel=\"nofollow\">MethodHanlde</a>. The code is :</p>\n\n<pre><code>import java.lang.invoke.MethodHandle;\nimport java.lang.invoke.MethodHandles;\nimport java.lang.invoke.MethodType;\nclass HelloWorldApp {\n    public static  void main(String[] args) {\n    MyMethodHandle obj = new MyMethodHandle();\n    obj.getToStringMH();\n    }\n}\n\nclass MyMethodHandle {\n    public String getToStringMH() {\n        MethodHandle mh;\n        String s ;\n            MethodType mt = MethodType.methodType(String.class, char.class, char.class);\n            MethodHandles.Lookup lk = MethodHandles.lookup();\n        try {\n            mh = lk.findVirtual(String.class, \"replace\", mt);\n        } catch (NoSuchMethodException | IllegalAccessException mhx) {\n            throw (AssertionError)new AssertionError().initCause(mhx);\n        }\n        try {\n            s = (String) mh.invokeExact(\"daddy\",'d','n');\n        }\n        catch(Exception e) {\n            throw (AssertionError)new AssertionError().initCause(e);\n        }\n        System.out.println(s);\n        return \"works\";\n    }\n}\n</code></pre>\n\n<p>when I compile this : </p>\n\n<pre><code>javac HelloWorldApp.java\n</code></pre>\n\n<p>I get a error like this :</p>\n\n<pre><code>HelloWorldApp.java:23: error: unreported exception Throwable; must be caught or declared to be thrown\n            s = (String) mh.invokeExact(\"daddy\",'d','n');\n                                       ^\n1 error\n</code></pre>\n\n<p>Where I'm making mistake?</p>\n"},{"tags":["java","eclipse","error-handling"],"comments":[{"owner":{"account_id":1938802,"reputation":12091,"user_id":1745544,"accept_rate":23,"display_name":"OldProgrammer"},"score":0,"creation_date":1413219731,"post_id":26345131,"comment_id":41351806,"body_markdown":"possible duplicate of [No JREs installed in the work space that are strictly compatible with this environment](http://stackoverflow.com/questions/23135863/no-jres-installed-in-the-work-space-that-are-strictly-compatible-with-this-envir)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/23135863/no-jres-installed-in-the-work-space-that-are-strictly-compatible-with-this-envir\">No JREs installed in the work space that are strictly compatible with this environment</a>"},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1413219746,"post_id":26345131,"comment_id":41351816,"body_markdown":"Window &gt; Preferences &gt; Java &gt; Installed JREs &gt; Add...","body":"Window &gt; Preferences &gt; Java &gt; Installed JREs &gt; Add..."}],"answers":[{"tags":[],"owner":{"account_id":4767739,"reputation":4519,"user_id":3853425,"accept_rate":29,"display_name":"kirti"},"down_vote_count":0,"up_vote_count":66,"is_accepted":false,"score":66,"last_activity_date":1413220527,"creation_date":1413220527,"answer_id":26345372,"question_id":26345131,"body_markdown":"\r\nTry this \r\n\r\n     In Eclipse,\r\n    your project\r\n    -&gt; properties\r\n    -&gt; java build path : Libraries\r\n    Remove the &quot;JRE System Library[J2SE 1.4]&quot;\r\n    -&gt; click &quot;Add Library&quot; button -&gt; JRE System Library\r\n    -&gt; select the new &quot;Executin Environment&quot; or Workspace default JRE\r\n\r\n","title":"Eclipse IDE - Error: Build path specifies execution environment Java SE 1.7","body":"<p>Try this </p>\n\n<pre><code> In Eclipse,\nyour project\n-&gt; properties\n-&gt; java build path : Libraries\nRemove the \"JRE System Library[J2SE 1.4]\"\n-&gt; click \"Add Library\" button -&gt; JRE System Library\n-&gt; select the new \"Executin Environment\" or Workspace default JRE\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1047596,"reputation":9325,"user_id":1052284,"accept_rate":44,"display_name":"Mark Jeronimus"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1413223420,"creation_date":1413223420,"answer_id":26346130,"question_id":26345131,"body_markdown":"Sounds like what I had after installing a newer Eclipse.\r\n\r\nMy solution:\r\n\r\nWindow-&gt;Preferences,\r\nJava-&gt;Installed JREs-&gt;Execution Environment.\r\n\r\nClick the correct environment in the left panel, probably JavaSE-jre7\r\n\r\nIf the checkbox in the right panel is empty, check it.\r\n\r\nIf it&#39;s checked, but it isn&#39;t named **jre7 [perfect match]** then find the one in the left panel that does have &#39;perfect match&#39; on the right and check that instead.\r\n","title":"Eclipse IDE - Error: Build path specifies execution environment Java SE 1.7","body":"<p>Sounds like what I had after installing a newer Eclipse.</p>\n\n<p>My solution:</p>\n\n<p>Window->Preferences,\nJava->Installed JREs->Execution Environment.</p>\n\n<p>Click the correct environment in the left panel, probably JavaSE-jre7</p>\n\n<p>If the checkbox in the right panel is empty, check it.</p>\n\n<p>If it's checked, but it isn't named <strong>jre7 [perfect match]</strong> then find the one in the left panel that does have 'perfect match' on the right and check that instead.</p>\n"},{"tags":[],"owner":{"account_id":5753353,"reputation":89,"user_id":4542209,"display_name":"lazyverve"},"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1423368782,"creation_date":1423368782,"answer_id":28390489,"question_id":26345131,"body_markdown":"Go to Project|Properties\r\nChoose the Java Build Path section\r\nSelect the current JRE System Library, and choose Remove\r\nSelect Add Library, and under the JRE System Library category pick your system library; you probably just need to choose the Workspace default JRE\r\n\r\nMore generally, under Window|Preferences, you can check Java|Installed JREs|Execution Environments to know which of the installed JREs match a specific execution environment.","title":"Eclipse IDE - Error: Build path specifies execution environment Java SE 1.7","body":"<p>Go to Project|Properties\nChoose the Java Build Path section\nSelect the current JRE System Library, and choose Remove\nSelect Add Library, and under the JRE System Library category pick your system library; you probably just need to choose the Workspace default JRE</p>\n\n<p>More generally, under Window|Preferences, you can check Java|Installed JREs|Execution Environments to know which of the installed JREs match a specific execution environment.</p>\n"},{"tags":[],"owner":{"account_id":7227072,"reputation":1,"user_id":5515269,"display_name":"vignesh R"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1446458940,"creation_date":1446457962,"answer_id":33474849,"question_id":26345131,"body_markdown":"Go To Control Panel \r\n- check whether any new java version Updated \r\n-Uninstall it and Configure the Build Path JRE Library &quot;Execution environment&quot; to the Previous Version. \r\n\r\nProbably if Java 7 is updated to Java 8 the above problem will occur. To avoid that warning, just you can uninstall the new update and restore the old version in execution environment.","title":"Eclipse IDE - Error: Build path specifies execution environment Java SE 1.7","body":"<p>Go To Control Panel \n- check whether any new java version Updated \n-Uninstall it and Configure the Build Path JRE Library \"Execution environment\" to the Previous Version. </p>\n\n<p>Probably if Java 7 is updated to Java 8 the above problem will occur. To avoid that warning, just you can uninstall the new update and restore the old version in execution environment.</p>\n"},{"tags":[],"owner":{"account_id":11490058,"reputation":91,"user_id":8421339,"display_name":"Nestor Eyros"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1501936813,"creation_date":1501936265,"answer_id":45521924,"question_id":26345131,"body_markdown":"This should work:\r\n\r\n- Your project &gt; Build Path &gt; Configure Build Path.\r\n- Go to Libraries tab.\r\n- Select JRE System Library [JavaSE-1.7].\r\n- Press Edit.\r\n- Notice that &quot;Execution environment&quot; is JavaSE-1.7 (jdk1.8.{y}).\r\n- Click on Installed JREs.\r\n- You should see jdk1.8.{y} but not jdk1.7.{x}.\r\n- Press Add.\r\n- Select Standard VM.\r\n- Press Next.\r\n- Locate your java folder, e.g.:\r\n`C:\\Program Files\\Java\\jdk1.7.{x}`.\r\nIf you don&#39;t have it, you need to install it.\r\n- Populate JRE home with it. e.g. `C:\\Program Files\\Java\\jdk1.7.0_80`.\r\n\r\n&quot;Execution environment&quot; will be JavaSE-1.7 (jdk1.7.0_80) now.","title":"Eclipse IDE - Error: Build path specifies execution environment Java SE 1.7","body":"<p>This should work:</p>\n\n<ul>\n<li>Your project > Build Path > Configure Build Path.</li>\n<li>Go to Libraries tab.</li>\n<li>Select JRE System Library [JavaSE-1.7].</li>\n<li>Press Edit.</li>\n<li>Notice that \"Execution environment\" is JavaSE-1.7 (jdk1.8.{y}).</li>\n<li>Click on Installed JREs.</li>\n<li>You should see jdk1.8.{y} but not jdk1.7.{x}.</li>\n<li>Press Add.</li>\n<li>Select Standard VM.</li>\n<li>Press Next.</li>\n<li>Locate your java folder, e.g.:\n<code>C:\\Program Files\\Java\\jdk1.7.{x}</code>.\nIf you don't have it, you need to install it.</li>\n<li>Populate JRE home with it. e.g. <code>C:\\Program Files\\Java\\jdk1.7.0_80</code>.</li>\n</ul>\n\n<p>\"Execution environment\" will be JavaSE-1.7 (jdk1.7.0_80) now.</p>\n"},{"tags":[],"owner":{"account_id":14670754,"reputation":54,"user_id":10595290,"display_name":"Janko Livi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1541148548,"creation_date":1541148548,"answer_id":53115294,"question_id":26345131,"body_markdown":"1. Open eclipse\r\n2. Right click on your project -&gt; click &quot;properties&quot;\r\n3. Select &quot;Java Build Path&quot; and then choose Librarires\r\n4. Delete JRE System Library [jre1.*.*_***]\r\n5. Click &quot;Add Library&quot; and then choose &quot;JRE System Library&quot;\r\n6. The best solution is to mark &quot;Workspace default JRE (jre1.*,*_***)\r\n7. Refresh project and wait for Tomcat or any other additional server to restart and then should be no error for &quot;Execution environment..&quot;[Where to do it!][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/t6k9T.png","title":"Eclipse IDE - Error: Build path specifies execution environment Java SE 1.7","body":"<ol>\n<li>Open eclipse</li>\n<li>Right click on your project -> click \"properties\"</li>\n<li>Select \"Java Build Path\" and then choose Librarires</li>\n<li>Delete JRE System Library [jre1.<em>.</em>_***]</li>\n<li>Click \"Add Library\" and then choose \"JRE System Library\"</li>\n<li>The best solution is to mark \"Workspace default JRE (jre1.<em>,</em>_***)</li>\n<li>Refresh project and wait for Tomcat or any other additional server to restart and then should be no error for \"Execution environment..\"<a href=\"https://i.stack.imgur.com/t6k9T.png\" rel=\"nofollow noreferrer\">Where to do it!</a></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":64734,"reputation":1482,"user_id":190955,"accept_rate":78,"display_name":"TonyG"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1545592991,"creation_date":1545592991,"answer_id":53906545,"question_id":26345131,"body_markdown":"I have this situation because I have multiple JDKs, and the JREs are nested below them. I&#39;m building a JRE8 project but my current default is the latest v11. So the challenge is to get Eclipse to recognize the JDK&gt;JREv8.\r\n\r\n 1. Go to Preferences &gt; Java &gt; Installed JREs.\r\n 1. Click Add.\r\n 1. Navigate to the JRE under the JDK, which in my case is C:\\Program Files\\Java\\jdk1.8.0_152\\jre.\r\n 1. Change the JRE name to JDK8 JRE8 just for clarity.\r\n 1. Click Finish.\r\n\r\nOn build the error goes away. :)","title":"Eclipse IDE - Error: Build path specifies execution environment Java SE 1.7","body":"<p>I have this situation because I have multiple JDKs, and the JREs are nested below them. I'm building a JRE8 project but my current default is the latest v11. So the challenge is to get Eclipse to recognize the JDK>JREv8.</p>\n\n<ol>\n<li>Go to Preferences > Java > Installed JREs.</li>\n<li>Click Add.</li>\n<li>Navigate to the JRE under the JDK, which in my case is C:\\Program Files\\Java\\jdk1.8.0_152\\jre.</li>\n<li>Change the JRE name to JDK8 JRE8 just for clarity.</li>\n<li>Click Finish.</li>\n</ol>\n\n<p>On build the error goes away. :)</p>\n"},{"tags":[],"owner":{"account_id":11568073,"reputation":2261,"user_id":8475638,"display_name":"Ankur Lahiry"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1590244014,"creation_date":1590244014,"answer_id":61973506,"question_id":26345131,"body_markdown":"Solved by\r\n```\r\nRight click on JRE System Library\r\nSelect Properties\r\nChoose Workplace Default JRE\r\nApply and Close\r\n```","title":"Eclipse IDE - Error: Build path specifies execution environment Java SE 1.7","body":"<p>Solved by</p>\n\n<pre><code>Right click on JRE System Library\nSelect Properties\nChoose Workplace Default JRE\nApply and Close\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22365357,"reputation":1,"user_id":16581246,"display_name":"asteria8"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1627945031,"creation_date":1627945031,"answer_id":68628726,"question_id":26345131,"body_markdown":"**Exact Solution**\r\nRight click on your project\r\n\r\n 1. Properties\r\n 2. Java Build Path --&gt; Libraries and\r\n[enter image description here][1]\r\n\r\n\r\n 3. Modulepath --&gt; Add Library\r\n[enter image description here][2]\r\n 4. JRE System Library, next&gt; choose &quot;Workspace default JRE&quot;\r\nAND finish. Solved!\r\n\r\n  [1]: https://i.stack.imgur.com/8OsSr.png\r\n  [2]: https://i.stack.imgur.com/FvGjF.png\r\n","title":"Eclipse IDE - Error: Build path specifies execution environment Java SE 1.7","body":"<p><strong>Exact Solution</strong>\nRight click on your project</p>\n<ol>\n<li><p>Properties</p>\n</li>\n<li><p>Java Build Path --&gt; Libraries and\n<a href=\"https://i.stack.imgur.com/8OsSr.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n</li>\n<li><p>Modulepath --&gt; Add Library\n<a href=\"https://i.stack.imgur.com/FvGjF.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n</li>\n<li><p>JRE System Library, next&gt; choose &quot;Workspace default JRE&quot;\nAND finish. Solved!</p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":8436933,"reputation":67,"user_id":6330806,"display_name":"Andres Camilo Sierra Hormiga"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646408184,"creation_date":1646408184,"answer_id":71353710,"question_id":26345131,"body_markdown":"&lt;&lt; If you&#39;re using Gradle &gt;&gt;\r\n\r\nset gradle java-home in windows&gt;preferences.\r\nAnd see project&#39;s config.\r\nso Gradle won&#39;t use eclipse default jvm and let you work with another jre.","title":"Eclipse IDE - Error: Build path specifies execution environment Java SE 1.7","body":"<p>&lt;&lt; If you're using Gradle &gt;&gt;</p>\n<p>set gradle java-home in windows&gt;preferences.\nAnd see project's config.\nso Gradle won't use eclipse default jvm and let you work with another jre.</p>\n"},{"tags":[],"owner":{"account_id":4300209,"reputation":1,"user_id":3514076,"display_name":"Md Ajmat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683469097,"creation_date":1683358158,"answer_id":76187653,"question_id":26345131,"body_markdown":"If the above solutions don&#39;t solve your problem try using the latest Eclipse version. \r\n\r\nSurely this will solve your problem. \r\n\r\nI was using the older version i.e., Eclipse version 2020-03 which is not at all compatible with Java-17.","title":"Eclipse IDE - Error: Build path specifies execution environment Java SE 1.7","body":"<p>If the above solutions don't solve your problem try using the latest Eclipse version.</p>\n<p>Surely this will solve your problem.</p>\n<p>I was using the older version i.e., Eclipse version 2020-03 which is not at all compatible with Java-17.</p>\n"}],"owner":{"account_id":5138336,"reputation":381,"user_id":4116422,"display_name":"Srinivas Nani"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":140351,"favorite_count":0,"down_vote_count":0,"up_vote_count":25,"answer_count":11,"score":25,"last_activity_date":1683469097,"creation_date":1413219585,"question_id":26345131,"body_markdown":"In Eclipse, I am getting an error:\r\n\r\n&gt;Build path specifies execution environment Java SE 1.7. &lt;br&gt;\r\nThere are no JREs installed in the workspace that are strictly compatible with this environment.","title":"Eclipse IDE - Error: Build path specifies execution environment Java SE 1.7","body":"<p>In Eclipse, I am getting an error:</p>\n\n<blockquote>\n  <p>Build path specifies execution environment Java SE 1.7. <br>\n  There are no JREs installed in the workspace that are strictly compatible with this environment.</p>\n</blockquote>\n"},{"tags":["java","android","android-edittext","android-softkeyboard","keyevent"],"owner":{"account_id":18739284,"reputation":33,"user_id":13662867,"display_name":"Pranav anand"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683468964,"creation_date":1683392447,"question_id":76190107,"body_markdown":"I wanted to capture the **ENTER** and **Backspace** key press event for `EditText` view from the softKeyboard (Not hardware keyboard) in android, like on any `xyz_editText` view someone press the Backspace key from softKeyboard then I want to capture that the `BackSpace` key is pressed.\r\n\r\nI tried using `onkeypress()` event but it did not work, I guess it works only for the hardware keyboard events. I need help.","title":"Is there any way to capture key (key code) event from SoftKeyboard in android","body":"<p>I wanted to capture the <strong>ENTER</strong> and <strong>Backspace</strong> key press event for <code>EditText</code> view from the softKeyboard (Not hardware keyboard) in android, like on any <code>xyz_editText</code> view someone press the Backspace key from softKeyboard then I want to capture that the <code>BackSpace</code> key is pressed.</p>\n<p>I tried using <code>onkeypress()</code> event but it did not work, I guess it works only for the hardware keyboard events. I need help.</p>\n"},{"tags":["java","android","firebase"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1683526183,"post_id":76192971,"comment_id":134374389,"body_markdown":"&quot;the codes doesn&#39;t work&quot; doesn&#39;t provide enough information so we can help. What exactly doesn&#39;t work? Do you have any errors?","body":"&quot;the codes doesn&#39;t work&quot; doesn&#39;t provide enough information so we can help. What exactly doesn&#39;t work? Do you have any errors?"}],"owner":{"account_id":28534673,"reputation":1,"user_id":21841562,"display_name":"Ramlakhan Mandal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683468776,"creation_date":1683449783,"question_id":76192971,"body_markdown":"when i run the app its load just title of video but not able to load video i dont know why?? i am tring to make an video streaming appliaction for my friends but the codes doesn&#39;t work. i have to load and play video from firebase where i have uploaded some videos\r\nhere is my code \r\n\r\n\r\n```\r\nimport android.app.Application;\r\nimport android.view.View;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.media3.common.MediaItem;\r\nimport androidx.media3.common.Player;\r\nimport androidx.media3.ui.PlayerView;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\npublic class ViewHolder extends RecyclerView.ViewHolder {\r\n  com.google.android.exoplayer2.SimpleExoPlayer exoPlayer;\r\n    PlayerView playerView;\r\n    public ViewHolder(@NonNull View itemView) {\r\n        super(itemView);\r\n    }\r\n\r\n    public void setExoplayer(Application application, String name, String videoUrl)\r\n    {\r\n        TextView textView = itemView.findViewById(R.id.tv_item_name);\r\n       playerView = itemView.findViewById(R.id.exoplayer_item);\r\n\r\n       textView.setText(name);\r\n       try{\r\n\r\n           com.google.android.exoplayer2.SimpleExoPlayer simpleExoPlayer = new com.google.android.exoplayer2.SimpleExoPlayer.Builder(application).build();\r\n           playerView.setPlayer((Player) simpleExoPlayer);\r\n           MediaItem mediaItem = MediaItem.fromUri(videoUrl);\r\n           ((Player) simpleExoPlayer).setMediaItem(mediaItem);\r\n           simpleExoPlayer.prepare();\r\n           simpleExoPlayer.setPlayWhenReady(true);\r\n\r\n\r\n       }catch (Exception e)\r\n       {\r\n\r\n           Toast.makeText(application, &quot;Failed to load try Again&quot;, Toast.LENGTH_SHORT).show();\r\n       }\r\n\r\n\r\n    }\r\n}\r\n```\r\n\r\n\r\ni am trying to load video from firebase to android studio app for streaming app, but its not working?","title":"getting Error to to video from firebase to recycler view","body":"<p>when i run the app its load just title of video but not able to load video i dont know why?? i am tring to make an video streaming appliaction for my friends but the codes doesn't work. i have to load and play video from firebase where i have uploaded some videos\nhere is my code </p>\n<pre><code>import android.app.Application;\nimport android.view.View;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\nimport androidx.annotation.NonNull;\nimport androidx.media3.common.MediaItem;\nimport androidx.media3.common.Player;\nimport androidx.media3.ui.PlayerView;\nimport androidx.recyclerview.widget.RecyclerView;\n\npublic class ViewHolder extends RecyclerView.ViewHolder {\n  com.google.android.exoplayer2.SimpleExoPlayer exoPlayer;\n    PlayerView playerView;\n    public ViewHolder(@NonNull View itemView) {\n        super(itemView);\n    }\n\n    public void setExoplayer(Application application, String name, String videoUrl)\n    {\n        TextView textView = itemView.findViewById(R.id.tv_item_name);\n       playerView = itemView.findViewById(R.id.exoplayer_item);\n\n       textView.setText(name);\n       try{\n\n           com.google.android.exoplayer2.SimpleExoPlayer simpleExoPlayer = new com.google.android.exoplayer2.SimpleExoPlayer.Builder(application).build();\n           playerView.setPlayer((Player) simpleExoPlayer);\n           MediaItem mediaItem = MediaItem.fromUri(videoUrl);\n           ((Player) simpleExoPlayer).setMediaItem(mediaItem);\n           simpleExoPlayer.prepare();\n           simpleExoPlayer.setPlayWhenReady(true);\n\n\n       }catch (Exception e)\n       {\n\n           Toast.makeText(application, &quot;Failed to load try Again&quot;, Toast.LENGTH_SHORT).show();\n       }\n\n\n    }\n}\n</code></pre>\n<p>i am trying to load video from firebase to android studio app for streaming app, but its not working?</p>\n"},{"tags":["java","modelmapper"],"answers":[{"tags":[],"owner":{"account_id":11373318,"reputation":377,"user_id":8609502,"display_name":"Adauto Nobrega"},"down_vote_count":2,"up_vote_count":28,"is_accepted":false,"score":26,"last_activity_date":1541003026,"creation_date":1541003026,"answer_id":53087975,"question_id":49831753,"body_markdown":"This resolved my problem:\r\n `modelMapper.getConfiguration().setAmbiguityIgnored(true);`","title":"ModelMapper: matches multiple source property hierarchies","body":"<p>This resolved my problem:\n <code>modelMapper.getConfiguration().setAmbiguityIgnored(true);</code></p>\n"},{"tags":[],"owner":{"account_id":8767179,"reputation":432,"user_id":6555159,"accept_rate":86,"display_name":"socona"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1543922803,"creation_date":1543922803,"answer_id":53611952,"question_id":49831753,"body_markdown":"You need to customize ModelMapper configuration during Bean initialization with the help of a PropertyMap: \r\nhttp://modelmapper.org/user-manual/property-mapping/\r\n\r\n    @Bean\r\n    public ModelMapper modelMapper(){\r\n        ModelMapper mm = new ModelMapper();\r\n\r\n        PropertyMap&lt;CarWashDTO, CarWash&gt; propertyMap = new PropertyMap&lt;CarWashDTO, CarWash&gt; (){\r\n\t        protected void configure() {\r\n    \t    \tmap(source.getId()).setId(null);\r\n\t        }\r\n        }\r\n\r\n        mm.addMappings(propertyMap);\r\n        return mm;\r\n    }","title":"ModelMapper: matches multiple source property hierarchies","body":"<p>You need to customize ModelMapper configuration during Bean initialization with the help of a PropertyMap: \n<a href=\"http://modelmapper.org/user-manual/property-mapping/\" rel=\"noreferrer\">http://modelmapper.org/user-manual/property-mapping/</a></p>\n\n<pre><code>@Bean\npublic ModelMapper modelMapper(){\n    ModelMapper mm = new ModelMapper();\n\n    PropertyMap&lt;CarWashDTO, CarWash&gt; propertyMap = new PropertyMap&lt;CarWashDTO, CarWash&gt; (){\n        protected void configure() {\n            map(source.getId()).setId(null);\n        }\n    }\n\n    mm.addMappings(propertyMap);\n    return mm;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7855527,"reputation":620,"user_id":5937516,"accept_rate":71,"display_name":"antongarakh"},"down_vote_count":1,"up_vote_count":50,"is_accepted":false,"score":49,"last_activity_date":1575642935,"creation_date":1575642935,"answer_id":59215139,"question_id":49831753,"body_markdown":"try `modelMapper.getConfiguration().setMatchingStrategy(MatchingStrategies.STRICT)`","title":"ModelMapper: matches multiple source property hierarchies","body":"<p>try <code>modelMapper.getConfiguration().setMatchingStrategy(MatchingStrategies.STRICT)</code></p>\n"},{"tags":[],"owner":{"account_id":8324875,"reputation":11755,"user_id":6413377,"accept_rate":25,"display_name":"pirho"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1604427083,"creation_date":1604427083,"answer_id":64668249,"question_id":49831753,"body_markdown":"I am not sure how it was with `ModelMapper` when question was asked but using converter should be straightforward. Instead of implementing a converter for the whole class implement it to the types that actually need conversion. So like:\r\n\r\n\tpublic static Converter&lt;LocalTime, Time&gt; timeConverter = new AbstractConverter&lt;&gt;() {\r\n\t\t@Override\r\n\t\tprotected Time convert(LocalTime source) {\r\n\t\t\treturn null == source ? null : Time.valueOf(source);\r\n\t\t}\r\n\t}; \r\n\r\nThen it is just to:\r\n\r\n    mm.addConverter(timeConverter);\r\n\r\nGuess if using Spring or EJB you know howto add this into your configuration.","title":"ModelMapper: matches multiple source property hierarchies","body":"<p>I am not sure how it was with <code>ModelMapper</code> when question was asked but using converter should be straightforward. Instead of implementing a converter for the whole class implement it to the types that actually need conversion. So like:</p>\n<pre><code>public static Converter&lt;LocalTime, Time&gt; timeConverter = new AbstractConverter&lt;&gt;() {\n    @Override\n    protected Time convert(LocalTime source) {\n        return null == source ? null : Time.valueOf(source);\n    }\n}; \n</code></pre>\n<p>Then it is just to:</p>\n<pre><code>mm.addConverter(timeConverter);\n</code></pre>\n<p>Guess if using Spring or EJB you know howto add this into your configuration.</p>\n"},{"tags":[],"owner":{"account_id":17607506,"reputation":1,"user_id":12776274,"display_name":"ZEROUAL TIBARI"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683468720,"creation_date":1683458295,"answer_id":76193592,"question_id":49831753,"body_markdown":"This resolved my problem: \r\n\r\n    modelMapper.getConfiguration().setAmbiguityIgnored(true);\r\n\r\n","title":"ModelMapper: matches multiple source property hierarchies","body":"<p>This resolved my problem:</p>\n<pre><code>modelMapper.getConfiguration().setAmbiguityIgnored(true);\n</code></pre>\n"}],"owner":{"account_id":3940837,"reputation":2674,"user_id":4443351,"accept_rate":71,"display_name":"Bizon4ik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40303,"favorite_count":0,"down_vote_count":0,"up_vote_count":31,"answer_count":5,"score":31,"last_activity_date":1683468720,"creation_date":1523711070,"question_id":49831753,"body_markdown":"I cannot resolve modelMapper error. Do you have any ideas where is the issue?\r\n\r\nNB: In view java.sql.Time doesn&#39;t have non-argument constructor I didn&#39;t find the better way than to write converter\r\n\r\n    org.modelmapper.ConfigurationException: ModelMapper configuration errors:\r\n\r\n    1) The destination property \r\n    biz.models.CarWash.setSecondShift()/java.util.Date.setTime() matches \r\n    multiple source property hierarchies:\r\n\r\n\tbiz.dto.CarWashDTO.getFirstShift()/java.time.LocalTime.getSecond()\r\n\tbiz.dto.CarWashDTO.getSecondShift()/java.time.LocalTime.getSecond()\r\n\r\nThe error was made by this code\r\n    \r\n    @SpringBootTest\r\n    @RunWith(SpringRunner.class)\r\n    public class CarWashDTO2CarWash {\r\n\r\n    @Autowired\r\n    protected ModelMapper modelMapper;\r\n\r\n    @Test\r\n    public void testCarWashDTO2CarWash_allFiledShouldBeConverted(){\r\n        CarWashDTO dto = CarWashDTO.builder()\r\n                .name(&quot;SomeName&quot;)\r\n                .address(&quot;SomeAddress&quot;)\r\n                .boxCount(2)\r\n                .firstShift(LocalTime.of(9, 0))\r\n                .secondShift(LocalTime.of(20, 0))\r\n                .phoneNumber(&quot;5700876&quot;)\r\n                .build();\r\n\r\n        modelMapper.addConverter((Converter&lt;CarWashDTO, CarWash&gt;) mappingContext -&gt; {\r\n            CarWashDTO source = mappingContext.getSource();\r\n            CarWash destination = mappingContext.getDestination();\r\n            destination.setId(source.getId());\r\n            destination.setFirstShift(source.getFirstShift() == null ? null : Time.valueOf(source.getFirstShift()));\r\n            destination.setSecondShift(source.getSecondShift() == null ? null : Time.valueOf(source.getSecondShift()));\r\n            destination.setEnable(true);\r\n            destination.setAddress(source.getAddress());\r\n            destination.setBoxCount(source.getBoxCount());\r\n            destination.setName(source.getName());\r\n            destination.setDateOfCreation(source.getDateOfCreation());\r\n            return destination;\r\n        });\r\n\r\n        final CarWash entity = modelMapper.map(dto, CarWash.class);\r\n        assertNotNull(entity);\r\n        assertEquals(2, entity.getBoxCount().intValue());\r\n        assertEquals(&quot;SomeAddress&quot;, entity.getAddress());\r\n        assertEquals(&quot;SomeName&quot;, entity.getName());\r\n    }\r\n}\r\n\r\nThe modelmapper bean is built by the next configuration\r\n\r\n    @Bean\r\n    public ModelMapper modelMapper(){\r\n        return new ModelMapper();\r\n    }\r\n\r\nDto:\r\n\r\n    public class CarWashDTO {\r\n    private Long id;\r\n    private String name;\r\n    private String address;\r\n    private String phoneNumber;\r\n    private Integer boxCount;\r\n    private LocalTime firstShift;\r\n    private LocalTime secondShift;\r\n    private LocalDateTime dateOfCreation;\r\n    }\r\n\r\nEntity (firstShift and secondShift have java.sql.Time type):\r\n\r\n    public class CarWash {\r\n    private Long id;\r\n    private String name;\r\n    private String address;\r\n    private String phoneNumber;\r\n    private Integer boxCount;\r\n    private Time firstShift;\r\n    private Time secondShift;\r\n    private LocalDateTime dateOfCreation;\r\n    private Boolean enable;\r\n    private Owner owner;\r\n    }","title":"ModelMapper: matches multiple source property hierarchies","body":"<p>I cannot resolve modelMapper error. Do you have any ideas where is the issue?</p>\n\n<p>NB: In view java.sql.Time doesn't have non-argument constructor I didn't find the better way than to write converter</p>\n\n<pre><code>org.modelmapper.ConfigurationException: ModelMapper configuration errors:\n\n1) The destination property \nbiz.models.CarWash.setSecondShift()/java.util.Date.setTime() matches \nmultiple source property hierarchies:\n\nbiz.dto.CarWashDTO.getFirstShift()/java.time.LocalTime.getSecond()\nbiz.dto.CarWashDTO.getSecondShift()/java.time.LocalTime.getSecond()\n</code></pre>\n\n<p>The error was made by this code</p>\n\n<pre><code>@SpringBootTest\n@RunWith(SpringRunner.class)\npublic class CarWashDTO2CarWash {\n\n@Autowired\nprotected ModelMapper modelMapper;\n\n@Test\npublic void testCarWashDTO2CarWash_allFiledShouldBeConverted(){\n    CarWashDTO dto = CarWashDTO.builder()\n            .name(\"SomeName\")\n            .address(\"SomeAddress\")\n            .boxCount(2)\n            .firstShift(LocalTime.of(9, 0))\n            .secondShift(LocalTime.of(20, 0))\n            .phoneNumber(\"5700876\")\n            .build();\n\n    modelMapper.addConverter((Converter&lt;CarWashDTO, CarWash&gt;) mappingContext -&gt; {\n        CarWashDTO source = mappingContext.getSource();\n        CarWash destination = mappingContext.getDestination();\n        destination.setId(source.getId());\n        destination.setFirstShift(source.getFirstShift() == null ? null : Time.valueOf(source.getFirstShift()));\n        destination.setSecondShift(source.getSecondShift() == null ? null : Time.valueOf(source.getSecondShift()));\n        destination.setEnable(true);\n        destination.setAddress(source.getAddress());\n        destination.setBoxCount(source.getBoxCount());\n        destination.setName(source.getName());\n        destination.setDateOfCreation(source.getDateOfCreation());\n        return destination;\n    });\n\n    final CarWash entity = modelMapper.map(dto, CarWash.class);\n    assertNotNull(entity);\n    assertEquals(2, entity.getBoxCount().intValue());\n    assertEquals(\"SomeAddress\", entity.getAddress());\n    assertEquals(\"SomeName\", entity.getName());\n}\n</code></pre>\n\n<p>}</p>\n\n<p>The modelmapper bean is built by the next configuration</p>\n\n<pre><code>@Bean\npublic ModelMapper modelMapper(){\n    return new ModelMapper();\n}\n</code></pre>\n\n<p>Dto:</p>\n\n<pre><code>public class CarWashDTO {\nprivate Long id;\nprivate String name;\nprivate String address;\nprivate String phoneNumber;\nprivate Integer boxCount;\nprivate LocalTime firstShift;\nprivate LocalTime secondShift;\nprivate LocalDateTime dateOfCreation;\n}\n</code></pre>\n\n<p>Entity (firstShift and secondShift have java.sql.Time type):</p>\n\n<pre><code>public class CarWash {\nprivate Long id;\nprivate String name;\nprivate String address;\nprivate String phoneNumber;\nprivate Integer boxCount;\nprivate Time firstShift;\nprivate Time secondShift;\nprivate LocalDateTime dateOfCreation;\nprivate Boolean enable;\nprivate Owner owner;\n}\n</code></pre>\n"},{"tags":["java","runtime.exec"],"comments":[{"owner":{"account_id":20937,"reputation":167577,"user_id":50476,"accept_rate":100,"display_name":"Bart Kiers"},"score":0,"creation_date":1280906887,"post_id":3403226,"comment_id":3540637,"body_markdown":"Be sure to read: http://www.javaworld.com/javaworld/jw-12-2000/jw-1229-traps.html","body":"Be sure to read: <a href=\"http://www.javaworld.com/javaworld/jw-12-2000/jw-1229-traps.html\" rel=\"nofollow noreferrer\">javaworld.com/javaworld/jw-12-2000/jw-1229-traps.html</a>"},{"owner":{"account_id":467725,"reputation":19389,"user_id":873282,"accept_rate":55,"display_name":"koppor"},"score":0,"creation_date":1683468476,"post_id":3403226,"comment_id":134368318,"body_markdown":"See also https://stackoverflow.com/q/3048212/873282","body":"See also <a href=\"https://stackoverflow.com/q/3048212/873282\">stackoverflow.com/q/3048212/873282</a>"}],"answers":[{"tags":[],"owner":{"account_id":80529,"reputation":448248,"user_id":227665,"accept_rate":33,"display_name":"codaddict"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1613580221,"creation_date":1280904993,"answer_id":3403256,"question_id":3403226,"body_markdown":"You need not store the diff in a 3rd file and then read from in. Instead you make use of the `Runtime.exec`\r\n\r\n    Process p = Runtime.getRuntime().exec(&quot;diff fileA fileB&quot;);\r\n    BufferedReader stdInput = new BufferedReader(new InputStreamReader(p.getInputStream()));\r\n    while ((s = stdInput.readLine()) != null) {\r\n            System.out.println(s);\r\n    }\r\n\r\n","title":"How to run Linux commands in Java?","body":"<p>You need not store the diff in a 3rd file and then read from in. Instead you make use of the <code>Runtime.exec</code></p>\n<pre><code>Process p = Runtime.getRuntime().exec(&quot;diff fileA fileB&quot;);\nBufferedReader stdInput = new BufferedReader(new InputStreamReader(p.getInputStream()));\nwhile ((s = stdInput.readLine()) != null) {\n        System.out.println(s);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8291,"reputation":860437,"user_id":14860,"accept_rate":100,"display_name":"paxdiablo"},"down_vote_count":0,"up_vote_count":61,"is_accepted":false,"score":61,"last_activity_date":1598477757,"creation_date":1280905010,"answer_id":3403259,"question_id":3403226,"body_markdown":"You can use [`java.lang.Runtime.exec`][1] to run simple code. This gives you back a `Process` and you can read its standard output directly without having to temporarily store the output on disk.\r\n\r\nFor example, here&#39;s a complete program that will showcase how to do it:\r\n\r\n    import java.io.BufferedReader;\r\n    import java.io.InputStreamReader;\r\n    \r\n    public class testprog {\r\n        public static void main(String args[]) {\r\n            String s;\r\n            Process p;\r\n            try {\r\n                p = Runtime.getRuntime().exec(&quot;ls -aF&quot;);\r\n                BufferedReader br = new BufferedReader(\r\n                    new InputStreamReader(p.getInputStream()));\r\n                while ((s = br.readLine()) != null)\r\n                    System.out.println(&quot;line: &quot; + s);\r\n                p.waitFor();\r\n                System.out.println (&quot;exit: &quot; + p.exitValue());\r\n                p.destroy();\r\n            } catch (Exception e) {}\r\n        }\r\n    }\r\n\r\nWhen compiled and run, it outputs:\r\n\r\n    line: ./\r\n    line: ../\r\n    line: .classpath*\r\n    line: .project*\r\n    line: bin/\r\n    line: src/\r\n    exit: 0\r\n\r\nas expected.\r\n\r\nYou can also get the [error stream][2] for the process standard error, and [output stream][3] for the process standard input, confusingly enough. In this context, the input and output are reversed since it&#39;s input _from_ the process to this one (i.e., the standard _output_ of the process).\r\n\r\nIf you want to merge the process standard output and error from Java (as opposed to using `2&gt;&amp;1` in the actual command), you should look into [`ProcessBuilder`][4].\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/lang/Runtime.html\r\n  [2]: http://download-llnw.oracle.com/javase/6/docs/api/java/lang/Process.html#getErrorStream%28%29\r\n  [3]: http://download-llnw.oracle.com/javase/6/docs/api/java/lang/Process.html#getOutputStream%28%29\r\n  [4]: http://download-llnw.oracle.com/javase/6/docs/api/java/lang/ProcessBuilder.html","title":"How to run Linux commands in Java?","body":"<p>You can use <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/Runtime.html\" rel=\"noreferrer\"><code>java.lang.Runtime.exec</code></a> to run simple code. This gives you back a <code>Process</code> and you can read its standard output directly without having to temporarily store the output on disk.</p>\n<p>For example, here's a complete program that will showcase how to do it:</p>\n<pre><code>import java.io.BufferedReader;\nimport java.io.InputStreamReader;\n\npublic class testprog {\n    public static void main(String args[]) {\n        String s;\n        Process p;\n        try {\n            p = Runtime.getRuntime().exec(&quot;ls -aF&quot;);\n            BufferedReader br = new BufferedReader(\n                new InputStreamReader(p.getInputStream()));\n            while ((s = br.readLine()) != null)\n                System.out.println(&quot;line: &quot; + s);\n            p.waitFor();\n            System.out.println (&quot;exit: &quot; + p.exitValue());\n            p.destroy();\n        } catch (Exception e) {}\n    }\n}\n</code></pre>\n<p>When compiled and run, it outputs:</p>\n<pre><code>line: ./\nline: ../\nline: .classpath*\nline: .project*\nline: bin/\nline: src/\nexit: 0\n</code></pre>\n<p>as expected.</p>\n<p>You can also get the <a href=\"http://download-llnw.oracle.com/javase/6/docs/api/java/lang/Process.html#getErrorStream%28%29\" rel=\"noreferrer\">error stream</a> for the process standard error, and <a href=\"http://download-llnw.oracle.com/javase/6/docs/api/java/lang/Process.html#getOutputStream%28%29\" rel=\"noreferrer\">output stream</a> for the process standard input, confusingly enough. In this context, the input and output are reversed since it's input <em>from</em> the process to this one (i.e., the standard <em>output</em> of the process).</p>\n<p>If you want to merge the process standard output and error from Java (as opposed to using <code>2&gt;&amp;1</code> in the actual command), you should look into <a href=\"http://download-llnw.oracle.com/javase/6/docs/api/java/lang/ProcessBuilder.html\" rel=\"noreferrer\"><code>ProcessBuilder</code></a>.</p>\n"},{"tags":[],"owner":{"account_id":165118,"reputation":14339,"user_id":388299,"accept_rate":77,"display_name":"YoK"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1280905058,"creation_date":1280905058,"answer_id":3403262,"question_id":3403226,"body_markdown":"    Runtime run = Runtime.getRuntime();  \r\n    //The best possible I found is to construct a command which you want to execute  \r\n    //as a string and use that in exec. If the batch file takes command line arguments  \r\n    //the command can be constructed a array of strings and pass the array as input to  \r\n    //the exec method. The command can also be passed externally as input to the method.  \r\n    \r\n    Process p = null;  \r\n    String cmd = &quot;ls&quot;;  \r\n    try {  \r\n        p = run.exec(cmd);  \r\n        \r\n        p.getErrorStream();  \r\n        p.waitFor();\r\n        \r\n    }  \r\n    catch (IOException e) {  \r\n        e.printStackTrace();  \r\n        System.out.println(&quot;ERROR.RUNNING.CMD&quot;);  \r\n        \r\n    }finally{\r\n        p.destroy();\r\n    }  ","title":"How to run Linux commands in Java?","body":"<pre><code>Runtime run = Runtime.getRuntime();  \n//The best possible I found is to construct a command which you want to execute  \n//as a string and use that in exec. If the batch file takes command line arguments  \n//the command can be constructed a array of strings and pass the array as input to  \n//the exec method. The command can also be passed externally as input to the method.  \n\nProcess p = null;  \nString cmd = \"ls\";  \ntry {  \n    p = run.exec(cmd);  \n\n    p.getErrorStream();  \n    p.waitFor();\n\n}  \ncatch (IOException e) {  \n    e.printStackTrace();  \n    System.out.println(\"ERROR.RUNNING.CMD\");  \n\n}finally{\n    p.destroy();\n}  \n</code></pre>\n"},{"tags":[],"owner":{"account_id":178471,"reputation":331,"user_id":410469,"display_name":"Naveen"},"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1280907769,"creation_date":1280907769,"answer_id":3403518,"question_id":3403226,"body_markdown":"You can also write a shell script file and invoke that file from the java code. as shown below\r\n\r\n    {\r\n       Process proc = Runtime.getRuntime().exec(&quot;./your_script.sh&quot;);    \t\t\t\t\t\r\n       proc.waitFor();\r\n    }\r\n\r\nWrite the linux commands in the script file, once the execution is over you can read the diff file in Java.\r\n\r\nThe advantage with this approach is you can change the commands with out changing java code.","title":"How to run Linux commands in Java?","body":"<p>You can also write a shell script file and invoke that file from the java code. as shown below</p>\n\n<pre><code>{\n   Process proc = Runtime.getRuntime().exec(\"./your_script.sh\");                        \n   proc.waitFor();\n}\n</code></pre>\n\n<p>Write the linux commands in the script file, once the execution is over you can read the diff file in Java.</p>\n\n<p>The advantage with this approach is you can change the commands with out changing java code.</p>\n"},{"tags":[],"owner":{"account_id":1575525,"reputation":587,"user_id":1462096,"accept_rate":16,"display_name":"b10n1k"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1375053407,"creation_date":1375053407,"answer_id":17913959,"question_id":3403226,"body_markdown":"try to use [unix4j][1]. it s about a library in java to run linux command. for instance if you got a command like:\r\ncat test.txt | grep &quot;Tuesday&quot; | sed &quot;s/kilogram/kg/g&quot; | sort \r\nin this program will become:\r\nUnix4j.cat(&quot;test.txt&quot;).grep(&quot;Tuesday&quot;).sed(&quot;s/kilogram/kg/g&quot;).sort();\r\n\r\n\r\n  [1]: https://code.google.com/p/unix4j/","title":"How to run Linux commands in Java?","body":"<p>try to use <a href=\"https://code.google.com/p/unix4j/\" rel=\"noreferrer\">unix4j</a>. it s about a library in java to run linux command. for instance if you got a command like:\ncat test.txt | grep \"Tuesday\" | sed \"s/kilogram/kg/g\" | sort \nin this program will become:\nUnix4j.cat(\"test.txt\").grep(\"Tuesday\").sed(\"s/kilogram/kg/g\").sort();</p>\n"},{"tags":[],"owner":{"account_id":3803653,"reputation":39,"user_id":3156614,"accept_rate":0,"display_name":"nugrahaTeten"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1388980176,"creation_date":1388980176,"answer_id":20942680,"question_id":3403226,"body_markdown":"if the opening in windows\r\n\r\n    try {\r\n            //chm file address\r\n            String chmFile = System.getProperty(&quot;user.dir&quot;) + &quot;/chm/sample.chm&quot;;\r\n            Desktop.getDesktop().open(new File(chmFile));\r\n        } catch (IOException ex) {\r\n            Logger.getLogger(Frame.class.getName()).log(Level.SEVERE, null, ex);\r\n            {\r\n                JOptionPane.showMessageDialog(null, &quot;Terjadi Kesalahan&quot;, &quot;Error&quot;, JOptionPane.WARNING_MESSAGE);\r\n            }\r\n        }","title":"How to run Linux commands in Java?","body":"<p>if the opening in windows</p>\n\n<pre><code>try {\n        //chm file address\n        String chmFile = System.getProperty(\"user.dir\") + \"/chm/sample.chm\";\n        Desktop.getDesktop().open(new File(chmFile));\n    } catch (IOException ex) {\n        Logger.getLogger(Frame.class.getName()).log(Level.SEVERE, null, ex);\n        {\n            JOptionPane.showMessageDialog(null, \"Terjadi Kesalahan\", \"Error\", JOptionPane.WARNING_MESSAGE);\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9590996,"reputation":5786,"user_id":7121889,"display_name":"Sarat Chandra"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1490109319,"creation_date":1490109319,"answer_id":42931100,"question_id":3403226,"body_markdown":"You can call run-time commands from java for both **Windows** and **Linux**.\r\n\r\n    import java.io.*;\r\n    \r\n    public class Test{\r\n       public static void main(String[] args) \r\n       {\r\n    \t\t\ttry\r\n    \t\t\t{ \r\n    \t\t\tProcess process = Runtime.getRuntime().exec(&quot;pwd&quot;); // for Linux\r\n    \t\t\t//Process process = Runtime.getRuntime().exec(&quot;cmd /c dir&quot;); //for Windows\r\n\r\n    \t\t\tprocess.waitFor();\r\n    \t\t\tBufferedReader reader = new BufferedReader(new InputStreamReader(process.getInputStream()));\r\n    \t\t\tString line;\r\n    \t\t\t   while ((line=reader.readLine())!=null)\r\n    \t\t\t   {\r\n    \t\t\t\tSystem.out.println(line);\t\r\n    \t\t\t    }\r\n    \t\t\t }\t\t \r\n    \t\t \t\tcatch(Exception e)\r\n                 { \r\n    \t\t\t\t System.out.println(e); \r\n    \t\t\t }\r\n                 finally\r\n                 {\r\n                   process.destroy();\r\n                 }  \r\n        }\r\n    }\r\n\r\nHope it Helps.. :)","title":"How to run Linux commands in Java?","body":"<p>You can call run-time commands from java for both <strong>Windows</strong> and <strong>Linux</strong>.</p>\n\n<pre><code>import java.io.*;\n\npublic class Test{\n   public static void main(String[] args) \n   {\n            try\n            { \n            Process process = Runtime.getRuntime().exec(\"pwd\"); // for Linux\n            //Process process = Runtime.getRuntime().exec(\"cmd /c dir\"); //for Windows\n\n            process.waitFor();\n            BufferedReader reader = new BufferedReader(new InputStreamReader(process.getInputStream()));\n            String line;\n               while ((line=reader.readLine())!=null)\n               {\n                System.out.println(line);   \n                }\n             }       \n                catch(Exception e)\n             { \n                 System.out.println(e); \n             }\n             finally\n             {\n               process.destroy();\n             }  \n    }\n}\n</code></pre>\n\n<p>Hope it Helps.. :)</p>\n"},{"tags":[],"owner":{"account_id":12273021,"reputation":127,"user_id":8957688,"accept_rate":80,"display_name":"Martin"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1518538514,"creation_date":1518538514,"answer_id":48771105,"question_id":3403226,"body_markdown":"The suggested solutions could be optimized using commons.io, handling the error stream, and using Exceptions. I would suggest to wrap like this for use in Java 8 or later:\r\n\r\n    public static List&lt;String&gt; execute(final String command) throws ExecutionFailedException, InterruptedException, IOException {\r\n\t\ttry {\r\n\t\t\treturn execute(command, 0, null, false);\r\n\t\t} catch (ExecutionTimeoutException e) { return null; } /* Impossible case! */\r\n\t}\r\n\t\r\n\tpublic static List&lt;String&gt; execute(final String command, final long timeout, final TimeUnit timeUnit) throws ExecutionFailedException, ExecutionTimeoutException, InterruptedException, IOException {\r\n\t\treturn execute(command, 0, null, true);\r\n\t}\r\n\t\r\n\tpublic static List&lt;String&gt; execute(final String command, final long timeout, final TimeUnit timeUnit, boolean destroyOnTimeout) throws ExecutionFailedException, ExecutionTimeoutException, InterruptedException, IOException {\r\n\t\tProcess process = new ProcessBuilder().command(&quot;bash&quot;, &quot;-c&quot;, command).start();\r\n\t\tif(timeUnit != null) {\r\n\t\t\tif(process.waitFor(timeout, timeUnit)) {\r\n\t\t\t\tif(process.exitValue() == 0) {\r\n\t\t\t\t\treturn IOUtils.readLines(process.getInputStream(), StandardCharsets.UTF_8);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthrow new ExecutionFailedException(&quot;Execution failed: &quot; + command, process.exitValue(), IOUtils.readLines(process.getInputStream(), StandardCharsets.UTF_8));\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tif(destroyOnTimeout) process.destroy();\r\n\t\t\t\tthrow new ExecutionTimeoutException(&quot;Execution timed out: &quot; + command);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tif(process.waitFor() == 0) {\r\n\t\t\t\treturn IOUtils.readLines(process.getInputStream(), StandardCharsets.UTF_8);\r\n\t\t\t} else {\r\n\t\t\t\tthrow new ExecutionFailedException(&quot;Execution failed: &quot; + command, process.exitValue(), IOUtils.readLines(process.getInputStream(), StandardCharsets.UTF_8));\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic static class ExecutionFailedException extends Exception {\r\n\t\t\r\n\t\tprivate static final long serialVersionUID = 1951044996696304510L;\r\n\r\n\t\tprivate final int exitCode;\r\n\t\tprivate final List&lt;String&gt; errorOutput;\r\n\t\t\r\n\t\tpublic ExecutionFailedException(final String message, final int exitCode, final List&lt;String&gt; errorOutput) {\r\n\t\t\tsuper(message);\r\n\t\t\tthis.exitCode = exitCode;\r\n\t\t\tthis.errorOutput = errorOutput;\r\n\t\t}\r\n\r\n\t\tpublic int getExitCode() {\r\n\t\t\treturn this.exitCode;\r\n\t\t}\r\n\r\n\t\tpublic List&lt;String&gt; getErrorOutput() {\r\n\t\t\treturn this.errorOutput;\r\n\t\t}\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic static class ExecutionTimeoutException extends Exception {\r\n\t\t\r\n\t\tprivate static final long serialVersionUID = 4428595769718054862L;\r\n\r\n\t\tpublic ExecutionTimeoutException(final String message) {\r\n\t\t\tsuper(message);\r\n\t\t}\r\n\t\t\r\n\t}","title":"How to run Linux commands in Java?","body":"<p>The suggested solutions could be optimized using commons.io, handling the error stream, and using Exceptions. I would suggest to wrap like this for use in Java 8 or later:</p>\n\n<pre><code>public static List&lt;String&gt; execute(final String command) throws ExecutionFailedException, InterruptedException, IOException {\n    try {\n        return execute(command, 0, null, false);\n    } catch (ExecutionTimeoutException e) { return null; } /* Impossible case! */\n}\n\npublic static List&lt;String&gt; execute(final String command, final long timeout, final TimeUnit timeUnit) throws ExecutionFailedException, ExecutionTimeoutException, InterruptedException, IOException {\n    return execute(command, 0, null, true);\n}\n\npublic static List&lt;String&gt; execute(final String command, final long timeout, final TimeUnit timeUnit, boolean destroyOnTimeout) throws ExecutionFailedException, ExecutionTimeoutException, InterruptedException, IOException {\n    Process process = new ProcessBuilder().command(\"bash\", \"-c\", command).start();\n    if(timeUnit != null) {\n        if(process.waitFor(timeout, timeUnit)) {\n            if(process.exitValue() == 0) {\n                return IOUtils.readLines(process.getInputStream(), StandardCharsets.UTF_8);\n            } else {\n                throw new ExecutionFailedException(\"Execution failed: \" + command, process.exitValue(), IOUtils.readLines(process.getInputStream(), StandardCharsets.UTF_8));\n            }\n        } else {\n            if(destroyOnTimeout) process.destroy();\n            throw new ExecutionTimeoutException(\"Execution timed out: \" + command);\n        }\n    } else {\n        if(process.waitFor() == 0) {\n            return IOUtils.readLines(process.getInputStream(), StandardCharsets.UTF_8);\n        } else {\n            throw new ExecutionFailedException(\"Execution failed: \" + command, process.exitValue(), IOUtils.readLines(process.getInputStream(), StandardCharsets.UTF_8));\n        }\n    }\n}\n\npublic static class ExecutionFailedException extends Exception {\n\n    private static final long serialVersionUID = 1951044996696304510L;\n\n    private final int exitCode;\n    private final List&lt;String&gt; errorOutput;\n\n    public ExecutionFailedException(final String message, final int exitCode, final List&lt;String&gt; errorOutput) {\n        super(message);\n        this.exitCode = exitCode;\n        this.errorOutput = errorOutput;\n    }\n\n    public int getExitCode() {\n        return this.exitCode;\n    }\n\n    public List&lt;String&gt; getErrorOutput() {\n        return this.errorOutput;\n    }\n\n}\n\npublic static class ExecutionTimeoutException extends Exception {\n\n    private static final long serialVersionUID = 4428595769718054862L;\n\n    public ExecutionTimeoutException(final String message) {\n        super(message);\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9144949,"reputation":53,"user_id":6801527,"display_name":"Kailas Kakade"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1638274048,"creation_date":1524231478,"answer_id":49942951,"question_id":3403226,"body_markdown":"\tProcessBuilder processBuilder = new ProcessBuilder();\r\n\r\n\t// -- Linux --\r\n\r\n\t// Run a shell command\r\n\tprocessBuilder.command(&quot;bash&quot;, &quot;-c&quot;, &quot;ls /home/kk/&quot;);\r\n\r\n\t// Run a shell script\r\n\t//processBuilder.command(&quot;path/to/hello.sh&quot;);\r\n\r\n\t// -- Windows --\r\n\r\n\t// Run a command\r\n\t//processBuilder.command(&quot;cmd.exe&quot;, &quot;/c&quot;, &quot;dir C:\\\\Users\\\\kk&quot;);\r\n\r\n\t// Run a bat file\r\n\t//processBuilder.command(&quot;C:\\\\Users\\\\kk\\\\hello.bat&quot;);\r\n\r\n\ttry {\r\n\r\n\t\tProcess process = processBuilder.start();\r\n\r\n\t\tStringBuilder output = new StringBuilder();\r\n\r\n\t\tBufferedReader reader = new BufferedReader(\r\n\t\t\t\tnew InputStreamReader(process.getInputStream()));\r\n\r\n\t\tString line;\r\n\t\twhile ((line = reader.readLine()) != null) {\r\n\t\t\toutput.append(line + &quot;\\n&quot;);\r\n\t\t}\r\n\r\n\t\tint exitVal = process.waitFor();\r\n\t\tif (exitVal == 0) {\r\n\t\t\tSystem.out.println(&quot;Success!&quot;);\r\n\t\t\tSystem.out.println(output);\r\n\t\t\tSystem.exit(0);\r\n\t\t} else {\r\n\t\t\t//abnormal...\r\n\t\t}\r\n\r\n\t} catch (IOException e) {\r\n\t\te.printStackTrace();\r\n\t} catch (InterruptedException e) {\r\n\t\te.printStackTrace();\r\n\t}","title":"How to run Linux commands in Java?","body":"<pre><code>ProcessBuilder processBuilder = new ProcessBuilder();\n\n// -- Linux --\n\n// Run a shell command\nprocessBuilder.command(&quot;bash&quot;, &quot;-c&quot;, &quot;ls /home/kk/&quot;);\n\n// Run a shell script\n//processBuilder.command(&quot;path/to/hello.sh&quot;);\n\n// -- Windows --\n\n// Run a command\n//processBuilder.command(&quot;cmd.exe&quot;, &quot;/c&quot;, &quot;dir C:\\\\Users\\\\kk&quot;);\n\n// Run a bat file\n//processBuilder.command(&quot;C:\\\\Users\\\\kk\\\\hello.bat&quot;);\n\ntry {\n\n    Process process = processBuilder.start();\n\n    StringBuilder output = new StringBuilder();\n\n    BufferedReader reader = new BufferedReader(\n            new InputStreamReader(process.getInputStream()));\n\n    String line;\n    while ((line = reader.readLine()) != null) {\n        output.append(line + &quot;\\n&quot;);\n    }\n\n    int exitVal = process.waitFor();\n    if (exitVal == 0) {\n        System.out.println(&quot;Success!&quot;);\n        System.out.println(output);\n        System.exit(0);\n    } else {\n        //abnormal...\n    }\n\n} catch (IOException e) {\n    e.printStackTrace();\n} catch (InterruptedException e) {\n    e.printStackTrace();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":467725,"reputation":19389,"user_id":873282,"accept_rate":55,"display_name":"koppor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683468552,"creation_date":1683468552,"answer_id":76194440,"question_id":3403226,"body_markdown":"I found the execellent library [ch.vorburger.exec](https://github.com/vorburger/ch.vorburger.exec):\r\n\r\n```java\r\nManagedProcessBuilder pb = new ManagedProcessBuilder(&quot;someExec&quot;)\r\n    .addArgument(&quot;arg1&quot;)\r\n    .setWorkingDirectory(new File(&quot;/tmp&quot;))\r\n    .getEnvironment().put(&quot;ENV_VAR&quot;, &quot;...&quot;)\r\n    .setDestroyOnShutdown(true)\r\n    .addStdOut(new BufferedOutputStream(new FileOutputStream(outputFile)))\r\n    .setConsoleBufferMaxLines(7000);  // used by startAndWaitForConsoleMessageMaxMs\r\n\r\nManagedProcess p = pb.build();\r\np.start();\r\np.isAlive();\r\np.waitForExit();\r\n// OR: p.waitForExitMaxMsOrDestroy(5000);\r\n// OR: p.startAndWaitForConsoleMessageMaxMs(&quot;Successfully started&quot;, 3000);\r\np.exitValue();\r\n// OR: p.destroy();\r\n\r\n// This works even while it&#39;s running, not just when it exited\r\nString output = p.getConsole();\r\n```","title":"How to run Linux commands in Java?","body":"<p>I found the execellent library <a href=\"https://github.com/vorburger/ch.vorburger.exec\" rel=\"nofollow noreferrer\">ch.vorburger.exec</a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ManagedProcessBuilder pb = new ManagedProcessBuilder(&quot;someExec&quot;)\n    .addArgument(&quot;arg1&quot;)\n    .setWorkingDirectory(new File(&quot;/tmp&quot;))\n    .getEnvironment().put(&quot;ENV_VAR&quot;, &quot;...&quot;)\n    .setDestroyOnShutdown(true)\n    .addStdOut(new BufferedOutputStream(new FileOutputStream(outputFile)))\n    .setConsoleBufferMaxLines(7000);  // used by startAndWaitForConsoleMessageMaxMs\n\nManagedProcess p = pb.build();\np.start();\np.isAlive();\np.waitForExit();\n// OR: p.waitForExitMaxMsOrDestroy(5000);\n// OR: p.startAndWaitForConsoleMessageMaxMs(&quot;Successfully started&quot;, 3000);\np.exitValue();\n// OR: p.destroy();\n\n// This works even while it's running, not just when it exited\nString output = p.getConsole();\n</code></pre>\n"}],"owner":{"account_id":150054,"reputation":867,"user_id":362977,"accept_rate":58,"display_name":"chitresh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":210228,"favorite_count":0,"down_vote_count":0,"up_vote_count":56,"answer_count":10,"score":56,"last_activity_date":1683468552,"creation_date":1280904601,"question_id":3403226,"body_markdown":"I want to create diff of two files. I tried searching for code in Java that does it, but didnt find any simple code/ utility code for this. Hence, I thought if I can somehow run linux diff/sdiff command from my java code and make it return a file that stores the diff then it would be great.\r\n\r\nSuppose there are two files fileA and fileB. I should be able to store their diff in a file called fileDiff through my java code. Then fetching data from fileDiff would be no big deal.\r\n\r\n","title":"How to run Linux commands in Java?","body":"<p>I want to create diff of two files. I tried searching for code in Java that does it, but didnt find any simple code/ utility code for this. Hence, I thought if I can somehow run linux diff/sdiff command from my java code and make it return a file that stores the diff then it would be great.</p>\n\n<p>Suppose there are two files fileA and fileB. I should be able to store their diff in a file called fileDiff through my java code. Then fetching data from fileDiff would be no big deal.</p>\n"},{"tags":["java","arrays","multidimensional-array","printing"],"comments":[{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":1,"creation_date":1505068992,"post_id":46144194,"comment_id":79250331,"body_markdown":"Each row of `new char[5][5]` array is filled with `nul` characters `&#39;\\0&#39;` which can be printed differently by different tools. Consider filling your array with other characters like `*` and then print it. Compare results.","body":"Each row of <code>new char[5][5]</code> array is filled with <code>nul</code> characters <code>&#39;\\0&#39;</code> which can be printed differently by different tools. Consider filling your array with other characters like <code>*</code> and then print it. Compare results."}],"answers":[{"tags":[],"owner":{"account_id":3277108,"reputation":186,"user_id":4904553,"display_name":"tezkerek"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1683468032,"creation_date":1505069744,"answer_id":46144405,"question_id":46144194,"body_markdown":"Like @Pshemo said in the comments, you need to initialize your grid.\r\n\r\n    // creates array\r\n\tchar[][] grid = new char [5][5];\r\n\r\n    // initialize array\r\n   \tfor(int row = 0; row &lt; grid.length; ++row) {\r\n\t    for(int col = 0; col &lt; grid[row].length; ++col)\r\n\t\t    grid[row][col] = &#39;O&#39;;\r\n\t}\r\n","title":"How to print a 2d char array into a 5x5 game board and initialize it to store &quot;O&#39;s&quot; in JAVA","body":"<p>Like @Pshemo said in the comments, you need to initialize your grid.</p>\n<pre><code>// creates array\nchar[][] grid = new char [5][5];\n\n// initialize array\nfor(int row = 0; row &lt; grid.length; ++row) {\n    for(int col = 0; col &lt; grid[row].length; ++col)\n        grid[row][col] = 'O';\n}\n</code></pre>\n"}],"owner":{"account_id":9180881,"reputation":13,"user_id":6824749,"display_name":"Jayla Allen"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1472,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":46144405,"answer_count":1,"score":1,"last_activity_date":1683468032,"creation_date":1505068442,"question_id":46144194,"body_markdown":"I am creating a 5x5 battleship game board. I used a nested for loop to print the board but it&#39;s not printing correctly into a 5x5 board. Can you see where I went wrong in my &quot;for loop&quot;?\r\n The instructions are to \r\n\r\n - build a 5x5 char array(game board)\r\n - Initialize the board to store &quot;O&#39;s&quot;\r\n - Print the board \r\n \r\nThis is the output:\r\n\r\n    0000  0000  0000  0000  0000\r\n    0000  0000  0000  0000  0000\r\n    0000  0000  0000  0000  0000\r\n    0000  0000  0000  0000  0000\r\n    0000  0000  0000  0000  0000\r\n\r\nThis is the code I have so far.\r\n\r\n    public class Location {\r\n   \r\n        int row;\r\n        int col;\r\n   \r\n        // constructor, gettes &amp; setters\r\n\r\n        public static void main(String[] args) {\r\n\r\n           //creates array\r\n           char[][] grid = new char [5][5];\r\n           //prints array\r\n           for (int row=0; row&lt;grid.length; row++) {\r\n               for (int col=0; col&lt;grid[row].length; col++)\r\n                   System.out.print(grid[row][col]);\r\n                   System.out.println();\r\n               }\r\n           }\r\n       }\r\n    }\r\n ","title":"How to print a 2d char array into a 5x5 game board and initialize it to store &quot;O&#39;s&quot; in JAVA","body":"<p>I am creating a 5x5 battleship game board. I used a nested for loop to print the board but it's not printing correctly into a 5x5 board. Can you see where I went wrong in my \"for loop\"?\n The instructions are to </p>\n\n<ul>\n<li>build a 5x5 char array(game board)</li>\n<li>Initialize the board to store \"O's\"</li>\n<li>Print the board </li>\n</ul>\n\n<p>This is the output:</p>\n\n<pre><code>0000  0000  0000  0000  0000\n0000  0000  0000  0000  0000\n0000  0000  0000  0000  0000\n0000  0000  0000  0000  0000\n0000  0000  0000  0000  0000\n</code></pre>\n\n<p>This is the code I have so far.</p>\n\n<pre><code>public class Location {\n\n    int row;\n    int col;\n\n    // constructor, gettes &amp; setters\n\n    public static void main(String[] args) {\n\n       //creates array\n       char[][] grid = new char [5][5];\n       //prints array\n       for (int row=0; row&lt;grid.length; row++) {\n           for (int col=0; col&lt;grid[row].length; col++)\n               System.out.print(grid[row][col]);\n               System.out.println();\n           }\n       }\n   }\n}\n</code></pre>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":6430643,"reputation":1854,"user_id":4983983,"accept_rate":60,"display_name":"tryingHard"},"score":0,"creation_date":1541692596,"post_id":53211436,"comment_id":93310785,"body_markdown":"Consider posting`mvce` https://stackoverflow.com/help/mcve","body":"Consider posting<code>mvce</code> <a href=\"https://stackoverflow.com/help/mcve\">stackoverflow.com/help/mcve</a>"},{"owner":{"account_id":1082858,"reputation":104688,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"score":1,"creation_date":1541692639,"post_id":53211436,"comment_id":93310814,"body_markdown":"Do your Java classes *have* a main method?  You can&#39;t run Java programs without one...","body":"Do your Java classes <i>have</i> a main method?  You can&#39;t run Java programs without one..."},{"owner":{"account_id":2094057,"reputation":506074,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":0,"creation_date":1541692669,"post_id":53211436,"comment_id":93310827,"body_markdown":"A class file is just a compiled Java source file, so if the latter has a `main` method, then the former should have one too.  Did you configure an SDK in IntelliJ?","body":"A class file is just a compiled Java source file, so if the latter has a <code>main</code> method, then the former should have one too.  Did you configure an SDK in IntelliJ?"},{"owner":{"account_id":13328043,"reputation":534,"user_id":9620383,"display_name":"My Code Made Me Suicidal"},"score":0,"creation_date":1541692685,"post_id":53211436,"comment_id":93310840,"body_markdown":"Yes my java classes do have a main method. I&#39;ve also tried running previous projects that would run in the past.","body":"Yes my java classes do have a main method. I&#39;ve also tried running previous projects that would run in the past."},{"owner":{"account_id":13328043,"reputation":534,"user_id":9620383,"display_name":"My Code Made Me Suicidal"},"score":0,"creation_date":1541692729,"post_id":53211436,"comment_id":93310864,"body_markdown":"Yes I have an SDK configured in IntelliJ. I was able to run projects in it just yesterday. I&#39;m trying to figure out why it suddenly stopped allowing me to.","body":"Yes I have an SDK configured in IntelliJ. I was able to run projects in it just yesterday. I&#39;m trying to figure out why it suddenly stopped allowing me to."},{"owner":{"account_id":1082858,"reputation":104688,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"score":0,"creation_date":1541692766,"post_id":53211436,"comment_id":93310881,"body_markdown":"As loath as I am to ask this, maybe you could show us a picture of what you&#39;re seeing in your IDE when you try to run the application.","body":"As loath as I am to ask this, maybe you could show us a picture of what you&#39;re seeing in your IDE when you try to run the application."},{"owner":{"account_id":13328043,"reputation":534,"user_id":9620383,"display_name":"My Code Made Me Suicidal"},"score":0,"creation_date":1541693458,"post_id":53211436,"comment_id":93311315,"body_markdown":"I edited the question to show the icon change compared to normal.","body":"I edited the question to show the icon change compared to normal."},{"owner":{"account_id":17750,"reputation":25470,"user_id":40064,"accept_rate":69,"display_name":"Wim Deblauwe"},"score":0,"creation_date":1541693601,"post_id":53211436,"comment_id":93311398,"body_markdown":"I would strongly suggest to use Maven or Gradle for your project. IntelliJ understands those and will setup your project correctly. It will also make it easier for others to get started with your project.","body":"I would strongly suggest to use Maven or Gradle for your project. IntelliJ understands those and will setup your project correctly. It will also make it easier for others to get started with your project."}],"answers":[{"tags":[],"owner":{"account_id":4160486,"reputation":161,"user_id":3410707,"display_name":"Mats Faugli"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1541692783,"creation_date":1541692783,"answer_id":53211521,"question_id":53211436,"body_markdown":"If you are using Maven or Gradle, try to re-import the project and see if that helps. Could be that your IDEA project has some incorrect settings in it set by mistake, so this way those would be removed.","title":"IntelliJ IDEA is not recognizing my java files as runnable and instead wants to run the class files. Any ideas of how to fix?","body":"<p>If you are using Maven or Gradle, try to re-import the project and see if that helps. Could be that your IDEA project has some incorrect settings in it set by mistake, so this way those would be removed.</p>\n"},{"tags":[],"owner":{"account_id":13328043,"reputation":534,"user_id":9620383,"display_name":"My Code Made Me Suicidal"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1541693829,"creation_date":1541693829,"answer_id":53211830,"question_id":53211436,"body_markdown":"I restarted my computer and that somehow fixed it. ","title":"IntelliJ IDEA is not recognizing my java files as runnable and instead wants to run the class files. Any ideas of how to fix?","body":"<p>I restarted my computer and that somehow fixed it. </p>\n"},{"tags":[],"owner":{"account_id":14365136,"reputation":890,"user_id":10376405,"display_name":"Paul"},"down_vote_count":0,"up_vote_count":47,"is_accepted":true,"score":47,"last_activity_date":1559214559,"creation_date":1559214559,"answer_id":56377111,"question_id":53211436,"body_markdown":"I had the same problem and found out that my src wasn&#39;t marked as Sources Root. To change this:\r\n\r\n- right-mouse click on your src \r\n- navigate to &quot;Mark Directory As&quot;\r\n- choose &quot;Sources Root&quot; \r\nIt will now recognize your files correctly and your main classes will be able to run again \r\n\r\n[IntelliJ not recognizing my .java-files][1]\r\n\r\n[Problem solved][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/8APms.png\r\n  [2]: https://i.stack.imgur.com/vEx86.png","title":"IntelliJ IDEA is not recognizing my java files as runnable and instead wants to run the class files. Any ideas of how to fix?","body":"<p>I had the same problem and found out that my src wasn't marked as Sources Root. To change this:</p>\n\n<ul>\n<li>right-mouse click on your src </li>\n<li>navigate to \"Mark Directory As\"</li>\n<li>choose \"Sources Root\" \nIt will now recognize your files correctly and your main classes will be able to run again </li>\n</ul>\n\n<p><a href=\"https://i.stack.imgur.com/8APms.png\" rel=\"noreferrer\">IntelliJ not recognizing my .java-files</a></p>\n\n<p><a href=\"https://i.stack.imgur.com/vEx86.png\" rel=\"noreferrer\">Problem solved</a></p>\n"},{"tags":[],"owner":{"account_id":12241406,"reputation":309,"user_id":8934374,"display_name":"Braden Borman"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1599237809,"creation_date":1599237809,"answer_id":63745079,"question_id":53211436,"body_markdown":"I had a similar problem.It wouldn&#39;t pick up ModlServer in any project. &lt;br/&gt;(Not just limited to the one I had open). \r\n\r\nI had to file -&gt; Manage IDE Settings -&gt; Restore Default Settings &lt;hr /&gt;\r\n\r\n [![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ZkoAj.png\r\n\r\n**Note:** I lost all my live templates, fonts, etc so just a heads up.","title":"IntelliJ IDEA is not recognizing my java files as runnable and instead wants to run the class files. Any ideas of how to fix?","body":"<p>I had a similar problem.It wouldn't pick up ModlServer in any project. <br/>(Not just limited to the one I had open).</p>\n<p>I had to file -&gt; Manage IDE Settings -&gt; Restore Default Settings <hr /></p>\n<p><a href=\"https://i.stack.imgur.com/ZkoAj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZkoAj.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Note:</strong> I lost all my live templates, fonts, etc so just a heads up.</p>\n"},{"tags":[],"owner":{"account_id":22024943,"reputation":21,"user_id":16293094,"display_name":"Nims"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1624395580,"creation_date":1624395580,"answer_id":68090656,"question_id":53211436,"body_markdown":"My issue was that I have multiple modules for my project and the module I was working on (where java files were not recognized) was not included in the main pom. I just added that module in the main (project) pom and it worked. ","title":"IntelliJ IDEA is not recognizing my java files as runnable and instead wants to run the class files. Any ideas of how to fix?","body":"<p>My issue was that I have multiple modules for my project and the module I was working on (where java files were not recognized) was not included in the main pom. I just added that module in the main (project) pom and it worked.</p>\n"},{"tags":[],"owner":{"account_id":1015592,"reputation":892,"user_id":1027209,"accept_rate":38,"display_name":"Chris Milburn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1626860907,"creation_date":1626860907,"answer_id":68467387,"question_id":53211436,"body_markdown":"Right click on the project and click &#39;Add framework support&#39; all directories and classes should now be the right type.","title":"IntelliJ IDEA is not recognizing my java files as runnable and instead wants to run the class files. Any ideas of how to fix?","body":"<p>Right click on the project and click 'Add framework support' all directories and classes should now be the right type.</p>\n"},{"tags":[],"owner":{"account_id":1911618,"reputation":449,"user_id":1725290,"accept_rate":71,"display_name":"Diogo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675796265,"creation_date":1675796265,"answer_id":75377805,"question_id":53211436,"body_markdown":"I&#39;ve fixed this at `Intelij2023` by using `JDK17` as the JDK the IDE uses to **import** java source files. \r\n\r\nMind this JDK version does not need to be the same you use to build your project.\r\n\r\n1. Go to: `Settings &gt; Build, Executio, Deployment&gt; Build Tools &gt; Maven &gt; Importer`\r\n\r\n2. Set the `JDK For Importer` to zulu-17 \r\n\r\nI&#39;m using zulu-17 as JDK for imports and coretto-8 to build the project (having JDK version 8 seems to be preventing intelij to properly recognize the project structure)","title":"IntelliJ IDEA is not recognizing my java files as runnable and instead wants to run the class files. Any ideas of how to fix?","body":"<p>I've fixed this at <code>Intelij2023</code> by using <code>JDK17</code> as the JDK the IDE uses to <strong>import</strong> java source files.</p>\n<p>Mind this JDK version does not need to be the same you use to build your project.</p>\n<ol>\n<li><p>Go to: <code>Settings &gt; Build, Executio, Deployment&gt; Build Tools &gt; Maven &gt; Importer</code></p>\n</li>\n<li><p>Set the <code>JDK For Importer</code> to zulu-17</p>\n</li>\n</ol>\n<p>I'm using zulu-17 as JDK for imports and coretto-8 to build the project (having JDK version 8 seems to be preventing intelij to properly recognize the project structure)</p>\n"},{"tags":[],"owner":{"account_id":17142825,"reputation":249,"user_id":12406426,"display_name":"HermanTheGerman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680734616,"creation_date":1680734616,"answer_id":75944521,"question_id":53211436,"body_markdown":"I fixed it by adding `String[] args` to the parameter list of my main method.\r\n\r\nIt now looks like this: \r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            ...\r\n        }\r\n    }","title":"IntelliJ IDEA is not recognizing my java files as runnable and instead wants to run the class files. Any ideas of how to fix?","body":"<p>I fixed it by adding <code>String[] args</code> to the parameter list of my main method.</p>\n<p>It now looks like this:</p>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        ...\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26883899,"reputation":3,"user_id":20463827,"display_name":"Coding Noob Unfiltered"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683467981,"creation_date":1683408346,"answer_id":76191223,"question_id":53211436,"body_markdown":"As @HermanTheGerman said: The easiest solution is to double-check your main method to make sure that it includes correct spelling of keywords and types and that it includes your square brackets after `&quot;String&quot;`, and afterwards to  RECOMPILE THE CLASS if the Run button does not &quot;green&quot; up. \r\n```\r\npublic class W3Question8 {\r\n    public static void main(String[] args){\r\n    }\r\n}\r\n```\r\nAfter this, you might still need to edit the configuration under the `&quot;Run&quot;` tab and point your IDE to the location of the class. The class should pop up alone in the search menu that pops up, if not then click `&quot;project&quot;` on the same window and pick your class. Done.  \r\n ","title":"IntelliJ IDEA is not recognizing my java files as runnable and instead wants to run the class files. Any ideas of how to fix?","body":"<p>As @HermanTheGerman said: The easiest solution is to double-check your main method to make sure that it includes correct spelling of keywords and types and that it includes your square brackets after <code>&quot;String&quot;</code>, and afterwards to  RECOMPILE THE CLASS if the Run button does not &quot;green&quot; up.</p>\n<pre><code>public class W3Question8 {\n    public static void main(String[] args){\n    }\n}\n</code></pre>\n<p>After this, you might still need to edit the configuration under the <code>&quot;Run&quot;</code> tab and point your IDE to the location of the class. The class should pop up alone in the search menu that pops up, if not then click <code>&quot;project&quot;</code> on the same window and pick your class. Done.</p>\n"}],"owner":{"account_id":13328043,"reputation":534,"user_id":9620383,"display_name":"My Code Made Me Suicidal"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40870,"favorite_count":0,"down_vote_count":0,"up_vote_count":23,"accepted_answer_id":56377111,"answer_count":9,"score":23,"last_activity_date":1683467981,"creation_date":1541692512,"question_id":53211436,"body_markdown":"Anytime I try to run a java file by clicking run, it instead tries to run the class file and thus gives a no main method error. \r\n\r\nWhen I try to right click on a java file and run that, it doesn&#39;t recogize it as a file that is runable. \r\n\r\nI am still able to run programs from the command prompt but I would prefer to be able to run them in IntelliJ. \r\n\r\nThis occurred after trying to create a Class path when using JSon Libraries.\r\n\r\n\r\nEdit: \r\n\r\nNormally it shows java files with this icon: \r\n[![enter image description here][1]][1]\r\n\r\nBut instead it&#39;s showing this icon for java files: [![enter image description here][2]][2]\r\n\r\nI think the change in icon might have something to do with it. \r\n\r\nEdit 2: \r\nthe exact error I get is &quot;C:\\Program Files (x86)\\Java\\jdk1.8.0_181\\bin\\java.exe&quot;...bunch of other program file locations\r\n\r\nError: Could not find or load main class sample.Main\r\n\r\nProcess finished with exit code 1\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ZM6xu.png\r\n  [2]: https://i.stack.imgur.com/Afs1s.png","title":"IntelliJ IDEA is not recognizing my java files as runnable and instead wants to run the class files. Any ideas of how to fix?","body":"<p>Anytime I try to run a java file by clicking run, it instead tries to run the class file and thus gives a no main method error. </p>\n\n<p>When I try to right click on a java file and run that, it doesn't recogize it as a file that is runable. </p>\n\n<p>I am still able to run programs from the command prompt but I would prefer to be able to run them in IntelliJ. </p>\n\n<p>This occurred after trying to create a Class path when using JSon Libraries.</p>\n\n<p>Edit: </p>\n\n<p>Normally it shows java files with this icon: \n<a href=\"https://i.stack.imgur.com/ZM6xu.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/ZM6xu.png\" alt=\"enter image description here\"></a></p>\n\n<p>But instead it's showing this icon for java files: <a href=\"https://i.stack.imgur.com/Afs1s.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/Afs1s.png\" alt=\"enter image description here\"></a></p>\n\n<p>I think the change in icon might have something to do with it. </p>\n\n<p>Edit 2: \nthe exact error I get is \"C:\\Program Files (x86)\\Java\\jdk1.8.0_181\\bin\\java.exe\"...bunch of other program file locations</p>\n\n<p>Error: Could not find or load main class sample.Main</p>\n\n<p>Process finished with exit code 1</p>\n"},{"tags":["java","spring-boot","multithreading","refactoring","race-condition"],"comments":[{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1683468405,"post_id":76194335,"comment_id":134368304,"body_markdown":"What performance improvements did you were expecting? What did you use synchronized for exactly?","body":"What performance improvements did you were expecting? What did you use synchronized for exactly?"}],"owner":{"account_id":20304018,"reputation":101,"user_id":14892753,"display_name":"Yeon"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683467517,"creation_date":1683467517,"question_id":76194335,"body_markdown":"I made some modifications to the getCadInfo method in the following class to improve its performance by replacing Files.walkFileTree with Files.walk and adding multi-threading. However, I encountered a race condition, so I used the synchronized keyword to prevent it. However, the performance improvement I expected did not occur. If you were to modify this code, how would you do it?\r\n\r\nThis is my code\r\n\r\n```\r\n@RequiredArgsConstructor\r\n@Component\r\npublic class AsposeUtil {\r\n    private final Logger log = LoggerFactory.getLogger(CadController.class);\r\n    private static final String cadDir = System.getProperty(&quot;user.dir&quot;) + File.separator;\r\n\r\n    @MeasureExecutionTime\r\n    public Map&lt;String, String[]&gt; getCadInfo(String project) {\r\n        try {\r\n            ConcurrentHashMap&lt;String, String[]&gt; cadInfo = new ConcurrentHashMap&lt;&gt;();\r\n            Files.walk(Paths.get(cadDir + project))\r\n                    .filter(file -&gt; !Files.isDirectory(file) &amp;&amp; file.getFileName().toString().contains(&quot;.dwg&quot;))\r\n                    .parallel()\r\n                    .forEach(file -&gt; {\r\n                        String title = file.getFileName().toString();\r\n                        String path = file.toAbsolutePath().toString();\r\n                        String index = extractCadIndex(path); // Extract the text from the cad file.\r\n                        convertCadToJpeg(path); // Capture the cad file and create an image file.\r\n                        path = path.substring(path.indexOf(project) + project.length(), path.indexOf(title) -1);\r\n                        cadInfo.put(index, new String[] {path, title});\r\n                    });\r\n            return cadInfo;\r\n        } catch (IOException e) {\r\n            log.error(&quot;getCadInfo IOException: &quot;, e);\r\n            return null;\r\n        }\r\n    }\r\n\r\n    private ByteArrayOutputStream convertCadToJpeg(String cad) {\r\n            CadRasterizationOptions options = new CadRasterizationOptions();\r\n            options.setPageHeight(200);\r\n            options.setPageWidth(200);\r\n\r\n            JpegOptions jpegOptions = new JpegOptions();\r\n            ByteArrayOutputStream stream = new ByteArrayOutputStream();\r\n            jpegOptions.setVectorRasterizationOptions(options);\r\n            synchronized(this){\r\n                try (Image image = Image.load(cad)) {\r\n                    image.save(stream, jpegOptions);\r\n                } catch (ImageLoadException e) {\r\n                    log.error(&quot;Image Load Failed: &quot;, e);\r\n                }\r\n            }\r\n            return stream;\r\n    }\r\n\r\n    private synchronized String extractCadIndex(String cad) {\r\n        try {\r\n            Set&lt;String&gt; index = new HashSet&lt;&gt;();\r\n            try (CadImage cadImage = (CadImage) CadImage.load(cad)) {\r\n                for (CadBlockEntity blockEntity : cadImage.getBlockEntities().getValues()) {\r\n                    for (CadBaseEntity entity : blockEntity.getEntities()) {\r\n                        if (entity.getTypeName() == CadEntityTypeName.TEXT) {\r\n                            CadText cadText = (CadText) entity;\r\n                            index.add(filterCadIndex(cadText.getDefaultValue()));\r\n                        } else if (entity.getTypeName() == CadEntityTypeName.MTEXT) {\r\n                            CadMText cadMText = (CadMText) entity;\r\n                            index.add(filterCadIndex(cadMText.getText()));\r\n                        }\r\n                    }\r\n                }\r\n            } catch (ImageLoadException e) {\r\n                log.error(&quot;Image Load Failed: &quot;, e);\r\n            }\r\n            return String.join(&quot;, &quot;, index);\r\n        } catch (ImageException e) {\r\n            log.error(&quot;CAD File Disabled: &quot;, e);\r\n        }\r\n        return null;\r\n    }\r\n\r\n    private String filterCadIndex(String index) {\r\n        String filtered = index.replaceAll(&quot; &quot;, &quot;&quot;);\r\n        int numCnt = (int) filtered.chars().filter(c -&gt; c &gt;= &#39;0&#39; &amp;&amp; c &lt;= &#39;9&#39;).count();\r\n        if (numCnt &gt;= filtered.length() / 2)\r\n            return &quot;&quot;;\r\n        return filtered;\r\n    }\r\n}\r\n```","title":"Improving Performance and Resolving Race Condition in spring boot with Multi-Threading","body":"<p>I made some modifications to the getCadInfo method in the following class to improve its performance by replacing Files.walkFileTree with Files.walk and adding multi-threading. However, I encountered a race condition, so I used the synchronized keyword to prevent it. However, the performance improvement I expected did not occur. If you were to modify this code, how would you do it?</p>\n<p>This is my code</p>\n<pre><code>@RequiredArgsConstructor\n@Component\npublic class AsposeUtil {\n    private final Logger log = LoggerFactory.getLogger(CadController.class);\n    private static final String cadDir = System.getProperty(&quot;user.dir&quot;) + File.separator;\n\n    @MeasureExecutionTime\n    public Map&lt;String, String[]&gt; getCadInfo(String project) {\n        try {\n            ConcurrentHashMap&lt;String, String[]&gt; cadInfo = new ConcurrentHashMap&lt;&gt;();\n            Files.walk(Paths.get(cadDir + project))\n                    .filter(file -&gt; !Files.isDirectory(file) &amp;&amp; file.getFileName().toString().contains(&quot;.dwg&quot;))\n                    .parallel()\n                    .forEach(file -&gt; {\n                        String title = file.getFileName().toString();\n                        String path = file.toAbsolutePath().toString();\n                        String index = extractCadIndex(path); // Extract the text from the cad file.\n                        convertCadToJpeg(path); // Capture the cad file and create an image file.\n                        path = path.substring(path.indexOf(project) + project.length(), path.indexOf(title) -1);\n                        cadInfo.put(index, new String[] {path, title});\n                    });\n            return cadInfo;\n        } catch (IOException e) {\n            log.error(&quot;getCadInfo IOException: &quot;, e);\n            return null;\n        }\n    }\n\n    private ByteArrayOutputStream convertCadToJpeg(String cad) {\n            CadRasterizationOptions options = new CadRasterizationOptions();\n            options.setPageHeight(200);\n            options.setPageWidth(200);\n\n            JpegOptions jpegOptions = new JpegOptions();\n            ByteArrayOutputStream stream = new ByteArrayOutputStream();\n            jpegOptions.setVectorRasterizationOptions(options);\n            synchronized(this){\n                try (Image image = Image.load(cad)) {\n                    image.save(stream, jpegOptions);\n                } catch (ImageLoadException e) {\n                    log.error(&quot;Image Load Failed: &quot;, e);\n                }\n            }\n            return stream;\n    }\n\n    private synchronized String extractCadIndex(String cad) {\n        try {\n            Set&lt;String&gt; index = new HashSet&lt;&gt;();\n            try (CadImage cadImage = (CadImage) CadImage.load(cad)) {\n                for (CadBlockEntity blockEntity : cadImage.getBlockEntities().getValues()) {\n                    for (CadBaseEntity entity : blockEntity.getEntities()) {\n                        if (entity.getTypeName() == CadEntityTypeName.TEXT) {\n                            CadText cadText = (CadText) entity;\n                            index.add(filterCadIndex(cadText.getDefaultValue()));\n                        } else if (entity.getTypeName() == CadEntityTypeName.MTEXT) {\n                            CadMText cadMText = (CadMText) entity;\n                            index.add(filterCadIndex(cadMText.getText()));\n                        }\n                    }\n                }\n            } catch (ImageLoadException e) {\n                log.error(&quot;Image Load Failed: &quot;, e);\n            }\n            return String.join(&quot;, &quot;, index);\n        } catch (ImageException e) {\n            log.error(&quot;CAD File Disabled: &quot;, e);\n        }\n        return null;\n    }\n\n    private String filterCadIndex(String index) {\n        String filtered = index.replaceAll(&quot; &quot;, &quot;&quot;);\n        int numCnt = (int) filtered.chars().filter(c -&gt; c &gt;= '0' &amp;&amp; c &lt;= '9').count();\n        if (numCnt &gt;= filtered.length() / 2)\n            return &quot;&quot;;\n        return filtered;\n    }\n}\n</code></pre>\n"},{"tags":["java","class","object","oop","aggregation"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":1,"creation_date":1683464606,"post_id":76194087,"comment_id":134367777,"body_markdown":"I think the first version is idiomatic Java and should be preferred, although I&#39;d use a `ArrayList` rather than an array.  The second version looks like a direct copy of a database implementation, and usually we don&#39;t like to see implementation details leaking through into other layers like you have here.","body":"I think the first version is idiomatic Java and should be preferred, although I&#39;d use a <code>ArrayList</code> rather than an array.  The second version looks like a direct copy of a database implementation, and usually we don&#39;t like to see implementation details leaking through into other layers like you have here."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1683464728,"post_id":76194087,"comment_id":134367808,"body_markdown":"(I think the second implementation contains a typo.  In the constructor of `Album`, where is the variable `songs` declared?  I think you intended to remove that line.)","body":"(I think the second implementation contains a typo.  In the constructor of <code>Album</code>, where is the variable <code>songs</code> declared?  I think you intended to remove that line.)"},{"owner":{"account_id":1051753,"reputation":8141,"user_id":1845408,"accept_rate":86,"display_name":"renakre"},"score":0,"creation_date":1683464897,"post_id":76194087,"comment_id":134367837,"body_markdown":"@markspace it was an error. in the second case no need for the array. yes, I will use ArrayList in actual implementation. Thanks for the recommendation. So, I will go with the first approach. I believe these relationships will be mapped properly and automatically with Hibernate.","body":"@markspace it was an error. in the second case no need for the array. yes, I will use ArrayList in actual implementation. Thanks for the recommendation. So, I will go with the first approach. I believe these relationships will be mapped properly and automatically with Hibernate."},{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":3,"creation_date":1683465265,"post_id":76194087,"comment_id":134367894,"body_markdown":"entities should somehow represent actual domain model, the assumption the song relates to the single album only seems to be wrong: https://en.wikipedia.org/wiki/Single_(music), so in that particular case I would prefer the first option.","body":"entities should somehow represent actual domain model, the assumption the song relates to the single album only seems to be wrong: <a href=\"https://en.wikipedia.org/wiki/Single_(music)\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Single_(music)</a>, so in that particular case I would prefer the first option."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":1,"creation_date":1683466415,"post_id":76194087,"comment_id":134368037,"body_markdown":"I&#39;d upvote Andrey&#39;s comment a couple more times if I could.  Very good point about songs belonging to more than one album.","body":"I&#39;d upvote Andrey&#39;s comment a couple more times if I could.  Very good point about songs belonging to more than one album."},{"owner":{"account_id":1051753,"reputation":8141,"user_id":1845408,"accept_rate":86,"display_name":"renakre"},"score":0,"creation_date":1683469354,"post_id":76194087,"comment_id":134368445,"body_markdown":"@AndreyB.Panfilov you mean there might be cases where you prefer the second option?","body":"@AndreyB.Panfilov you mean there might be cases where you prefer the second option?"},{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":1,"creation_date":1683470787,"post_id":76194087,"comment_id":134368639,"body_markdown":"If we are talking about Hibernate (not `DDD`), in the most cases people tend to add `@XXXtoMany` associations just to get a convenient getter method in parent entity and some advantages of using cascade options, however, from performance and reliability perspectives, `@XXXtoMany` associations are always pain in behind, and my preference is to avoid using `@XXXtoMany` associations if it is possible, regardless whether such associations look natural for particular domain or not.","body":"If we are talking about Hibernate (not <code>DDD</code>), in the most cases people tend to add <code>@XXXtoMany</code> associations just to get a convenient getter method in parent entity and some advantages of using cascade options, however, from performance and reliability perspectives, <code>@XXXtoMany</code> associations are always pain in behind, and my preference is to avoid using <code>@XXXtoMany</code> associations if it is possible, regardless whether such associations look natural for particular domain or not."}],"answers":[{"tags":[],"owner":{"account_id":17741504,"reputation":1083,"user_id":12881733,"display_name":"Bill Mair"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1683466724,"creation_date":1683466724,"answer_id":76194272,"question_id":76194087,"body_markdown":"The best practice is to use a bidirectional relationship. The Album knows the songs and the song know what album it is from. Also, it is better and easier, especially if you want to use JPA, to use a List.\r\n\r\nYou manage the objects and their relationships, let JPA manage the ids.\r\n\r\n    public class Album {\r\n        private final int id;\r\n        private final String name;\r\n        private final List&lt;Song&gt; songs = new ArrayList&lt;&gt;();\r\n\r\n        public Album(int id, String name) {\r\n            this.id = id;\r\n            this.name = name;\r\n        }\r\n\r\n        public List&lt;Song&gt; getSongs() {\r\n            return Collections.immutableList(songs);\r\n        }\r\n\r\n        public Album addSong(Song song) {\r\n            if(song.getAlbum()!=null &amp;&amp; !this.equals(song.getAlbum())) {\r\n                throw new IllegalStateException(&quot;Song already belongs to &quot;+songs.getAlbum() );\r\n            }\r\n            if(song.getAlbum()==null) {\r\n                song.setAlbum(this);\r\n                songs.add(song);\r\n            }\r\n            return this;\r\n        }\r\n    }\r\n\r\n    public class Song {\r\n        private final int id;\r\n        private final String name;\r\n        private Album album;\r\n\r\n        public Song(int id, String name) {\r\n            this.id = id;\r\n            this.name = name;\r\n        }\r\n        public Album getAlbum() {\r\n            return album;\r\n        }\r\n        public void setAlbum(Album album) {\r\n            this.album = album;\r\n        }\r\n    }\r\n","title":"Associating objects through primitive fields instead of aggregation","body":"<p>The best practice is to use a bidirectional relationship. The Album knows the songs and the song know what album it is from. Also, it is better and easier, especially if you want to use JPA, to use a List.</p>\n<p>You manage the objects and their relationships, let JPA manage the ids.</p>\n<pre><code>public class Album {\n    private final int id;\n    private final String name;\n    private final List&lt;Song&gt; songs = new ArrayList&lt;&gt;();\n\n    public Album(int id, String name) {\n        this.id = id;\n        this.name = name;\n    }\n\n    public List&lt;Song&gt; getSongs() {\n        return Collections.immutableList(songs);\n    }\n\n    public Album addSong(Song song) {\n        if(song.getAlbum()!=null &amp;&amp; !this.equals(song.getAlbum())) {\n            throw new IllegalStateException(&quot;Song already belongs to &quot;+songs.getAlbum() );\n        }\n        if(song.getAlbum()==null) {\n            song.setAlbum(this);\n            songs.add(song);\n        }\n        return this;\n    }\n}\n\npublic class Song {\n    private final int id;\n    private final String name;\n    private Album album;\n\n    public Song(int id, String name) {\n        this.id = id;\n        this.name = name;\n    }\n    public Album getAlbum() {\n        return album;\n    }\n    public void setAlbum(Album album) {\n        this.album = album;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1051753,"reputation":8141,"user_id":1845408,"accept_rate":86,"display_name":"renakre"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683466724,"creation_date":1683464370,"question_id":76194087,"body_markdown":"I know much about C#. This semester I am teaching Java, and I am not sure about what to show students about associating classes (or objects). I have read about association aggregation and composition in Java but they did not answer my specific question. In the last week, I may teach about Hibernate (as an ORM) and I feel like how we associate objects may play some role when transitioning to Hibernate. This was the case for me when I used EntityFramework as an ORM tool in C# case.\r\n\r\nLet me explain my question through an example. I have Album and Song classes. An Album can have multiple Song objects. I can achieve this by containing the Song objects in an array. Below is how I do it:\r\n\r\n```\r\npublic class Album{\r\n    private int id;\r\n    private Song[] songs;\r\n    public Album(size, id){\r\n        this.id = id;\r\n        songs = new Song[size];\r\n    }\r\n}\r\n\r\npublic class Song{\r\n    private int id;\r\n    private String name;\r\n    public Song(int id, String name){\r\n        this.id = id;\r\n        this.name = name;\r\n    }\r\n}\r\n```\r\n\r\nAnother alternative is possible through a field (`albumId`) inside Song that indicates the associated album. Below are the Class designs:\r\n\r\n```\r\npublic class Album{\r\n    private int id;\r\n    public Album(){\r\n        this.id = id;\r\n    }\r\n}\r\n\r\npublic class Song{\r\n    private int id;\r\n    private String name;\r\n    private int albumId;\r\n\r\n    public Song(int id, String name){\r\n        this.id = id;\r\n        this.name = name;\r\n    }\r\n\r\n    public void setAlbum(int albumId){\r\n        this.albumId = albumId;\r\n    }\r\n}\r\n```\r\n\r\nI consider the second alternative simpler and easier to grasp. At least it does not require to contain objects inside another. However, I do not know if it is a bad practice. I appreciate any recommendations.","title":"Associating objects through primitive fields instead of aggregation","body":"<p>I know much about C#. This semester I am teaching Java, and I am not sure about what to show students about associating classes (or objects). I have read about association aggregation and composition in Java but they did not answer my specific question. In the last week, I may teach about Hibernate (as an ORM) and I feel like how we associate objects may play some role when transitioning to Hibernate. This was the case for me when I used EntityFramework as an ORM tool in C# case.</p>\n<p>Let me explain my question through an example. I have Album and Song classes. An Album can have multiple Song objects. I can achieve this by containing the Song objects in an array. Below is how I do it:</p>\n<pre><code>public class Album{\n    private int id;\n    private Song[] songs;\n    public Album(size, id){\n        this.id = id;\n        songs = new Song[size];\n    }\n}\n\npublic class Song{\n    private int id;\n    private String name;\n    public Song(int id, String name){\n        this.id = id;\n        this.name = name;\n    }\n}\n</code></pre>\n<p>Another alternative is possible through a field (<code>albumId</code>) inside Song that indicates the associated album. Below are the Class designs:</p>\n<pre><code>public class Album{\n    private int id;\n    public Album(){\n        this.id = id;\n    }\n}\n\npublic class Song{\n    private int id;\n    private String name;\n    private int albumId;\n\n    public Song(int id, String name){\n        this.id = id;\n        this.name = name;\n    }\n\n    public void setAlbum(int albumId){\n        this.albumId = albumId;\n    }\n}\n</code></pre>\n<p>I consider the second alternative simpler and easier to grasp. At least it does not require to contain objects inside another. However, I do not know if it is a bad practice. I appreciate any recommendations.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":4243,"reputation":1301840,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"score":0,"creation_date":1683325841,"post_id":76164938,"comment_id":134355298,"body_markdown":"Try and add `android:fitsSystemWindows=&quot;true&quot;` to your `bottomappbar.BottomAppBar` attributes, to see if that improves the layout.","body":"Try and add <code>android:fitsSystemWindows=&quot;true&quot;</code> to your <code>bottomappbar.BottomAppBar</code> attributes, to see if that improves the layout."},{"owner":{"account_id":25956799,"reputation":138,"user_id":19674027,"display_name":"user2357113"},"score":0,"creation_date":1683810892,"post_id":76164938,"comment_id":134425779,"body_markdown":"`BottomAppBar(modifier = Modifier.height(56.dp).fillMaxWidth())` \n*Set the height to a fixed value*","body":"<code>BottomAppBar(modifier = Modifier.height(56.dp).fillMaxWidth())</code>  <i>Set the height to a fixed value</i>"}],"answers":[{"tags":[],"owner":{"account_id":13654747,"reputation":38532,"user_id":9851608,"display_name":"Zain"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1683464646,"creation_date":1683329182,"answer_id":76186441,"question_id":76164938,"body_markdown":"**Edit:**\r\n\r\n\r\nAdding this padding to the `BottomAppBar` is a kind of weird whenever the `setDecorFitsSystemWindows` API is used to have an edge-to-edge app.\r\n\r\nThe system could automatically add this padding as a way to avoid the overlap between the  `BottomAppBar` buttons and the system bottom navigation bar. Normally this overlapping should happen when using `setDecorFitsSystemWindows` API, because the developer intentionally needs that edge-to-edge; and [that overlap case already handled by the documentation using the insets API][1]. \r\n\r\n----------------------------\r\n\r\n**Solution** \r\n\r\nWhen using `setDecorFitsSystemWindows` API, the system still continues to automatically add the padding to the `BottomAppBar` thinking that the `BottomAppBar`is still on top of the assigned room of the system navigation bar (before having edge-to-edge screen). This padding equals to the height of the system bottom navigation bar to ensure that `BottomAppBar` is drawn on top of the system bar without overlap. \r\n\r\nTo get the exact height of the bottom navigation bar, we can use the window  insets API by registering `View.OnApplyWindowInsetsListener`, and get the bottom insets:\r\n\r\nThe system navigation bar height which equals to the bottom insets needs to be subtracted from the bottom padding of the window `DecorView` view:\r\n```\r\nViewCompat.setOnApplyWindowInsetsListener(getWindow().getDecorView(), (v, insets) -&gt; {\r\n\r\n\tInsets systemInsets = insets.getInsets(WindowInsetsCompat.Type.systemBars());\r\n\r\n\tv.setPadding(v.getPaddingLeft(),\r\n\t\t\tv.getPaddingTop(),\r\n\t\t\tv.getPaddingRight(),\r\n\t\t\tv.getPaddingBottom() - systemInsets.bottom); // subtract the insets from the bottom padding\r\n\treturn insets;\r\n});\r\n```\r\n\r\nNow the `BottomAppBar` looks like:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n----------------------------\r\n\r\n**Original Assumption** \r\n\r\nDisclaimer\r\n&gt; This is just left so it probably can help future visitors in another context; but the above solution should be considers instead for the question asked here.\r\n\r\nBy the following documentation quotes about consuming the insets listener:\r\n\r\n[First for the `WindowInsetsCompat.CONSUMED`][3]:\r\n&gt; This can be used during insets dispatch in the view hierarchy by\r\n&gt; returning this value from View.onApplyWindowInsets(WindowInsets) or\r\n&gt; onApplyWindowInsets to stop dispatch the insets to its children to\r\n&gt; avoid traversing the entire view hierarchy.\r\n\r\n[Second in the code snippet comment][4]:\r\n\r\n&gt; ```\r\n&gt; // Return CONSUMED if you don&#39;t want want the window insets to keep being \r\n&gt; // passed down to descendant views.\r\n&gt; return WindowInsetsCompat.CONSUMED;\r\n&gt; ```\r\n\r\n\r\n\r\nSo, probably when using `setDecorFitsSystemWindows` API, the window insets keep passing down to descendant views. Hence, trying to consume that on the Window `DecorView` has been actually solved the problem:\r\n\r\n```\r\n// This snippet is used in `onCreate()` method.\r\nViewCompat.setOnApplyWindowInsetsListener(getWindow().getDecorView(), (v, insets) -&gt; {\r\n    return ViewCompat.onApplyWindowInsets(v, WindowInsetsCompat.CONSUMED);\r\n    //  return WindowInsetsCompat.CONSUMED; // Also can be used\r\n});\r\n```\r\n\r\n[![enter image description here][5]][5]\r\n\r\n\r\n\r\n\r\n**Side note:** This could have some overlapping issues for the users that prefer to use the three-button navigation that probably need to be handled:\r\n\r\n[![enter image description here][6]][6]\r\n\r\n\r\n  [1]: https://developer.android.com/develop/ui/views/layout/edge-to-edge#handle-overlaps\r\n  [2]: https://i.stack.imgur.com/7rhAE.png\r\n  [3]: https://developer.android.com/reference/androidx/core/view/WindowInsetsCompat#CONSUMED()\r\n  [4]: https://developer.android.com/develop/ui/views/layout/edge-to-edge#system-bars-insets\r\n  [5]: https://i.stack.imgur.com/lF0jF.png\r\n  [6]: https://i.stack.imgur.com/mnHOl.png","title":"Why the height of bottom app bar grow significantly when displaying content edge-to-edge?","body":"<p><strong>Edit:</strong></p>\n<p>Adding this padding to the <code>BottomAppBar</code> is a kind of weird whenever the <code>setDecorFitsSystemWindows</code> API is used to have an edge-to-edge app.</p>\n<p>The system could automatically add this padding as a way to avoid the overlap between the  <code>BottomAppBar</code> buttons and the system bottom navigation bar. Normally this overlapping should happen when using <code>setDecorFitsSystemWindows</code> API, because the developer intentionally needs that edge-to-edge; and <a href=\"https://developer.android.com/develop/ui/views/layout/edge-to-edge#handle-overlaps\" rel=\"noreferrer\">that overlap case already handled by the documentation using the insets API</a>.</p>\n<hr />\n<p><strong>Solution</strong></p>\n<p>When using <code>setDecorFitsSystemWindows</code> API, the system still continues to automatically add the padding to the <code>BottomAppBar</code> thinking that the <code>BottomAppBar</code>is still on top of the assigned room of the system navigation bar (before having edge-to-edge screen). This padding equals to the height of the system bottom navigation bar to ensure that <code>BottomAppBar</code> is drawn on top of the system bar without overlap.</p>\n<p>To get the exact height of the bottom navigation bar, we can use the window  insets API by registering <code>View.OnApplyWindowInsetsListener</code>, and get the bottom insets:</p>\n<p>The system navigation bar height which equals to the bottom insets needs to be subtracted from the bottom padding of the window <code>DecorView</code> view:</p>\n<pre><code>ViewCompat.setOnApplyWindowInsetsListener(getWindow().getDecorView(), (v, insets) -&gt; {\n\n    Insets systemInsets = insets.getInsets(WindowInsetsCompat.Type.systemBars());\n\n    v.setPadding(v.getPaddingLeft(),\n            v.getPaddingTop(),\n            v.getPaddingRight(),\n            v.getPaddingBottom() - systemInsets.bottom); // subtract the insets from the bottom padding\n    return insets;\n});\n</code></pre>\n<p>Now the <code>BottomAppBar</code> looks like:</p>\n<p><a href=\"https://i.stack.imgur.com/7rhAE.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/7rhAE.png\" alt=\"enter image description here\" /></a></p>\n<hr />\n<p><strong>Original Assumption</strong></p>\n<p>Disclaimer</p>\n<blockquote>\n<p>This is just left so it probably can help future visitors in another context; but the above solution should be considers instead for the question asked here.</p>\n</blockquote>\n<p>By the following documentation quotes about consuming the insets listener:</p>\n<p><a href=\"https://developer.android.com/reference/androidx/core/view/WindowInsetsCompat#CONSUMED()\" rel=\"noreferrer\">First for the <code>WindowInsetsCompat.CONSUMED</code></a>:</p>\n<blockquote>\n<p>This can be used during insets dispatch in the view hierarchy by\nreturning this value from View.onApplyWindowInsets(WindowInsets) or\nonApplyWindowInsets to stop dispatch the insets to its children to\navoid traversing the entire view hierarchy.</p>\n</blockquote>\n<p><a href=\"https://developer.android.com/develop/ui/views/layout/edge-to-edge#system-bars-insets\" rel=\"noreferrer\">Second in the code snippet comment</a>:</p>\n<blockquote>\n<pre><code>// Return CONSUMED if you don't want want the window insets to keep being \n// passed down to descendant views.\nreturn WindowInsetsCompat.CONSUMED;\n</code></pre>\n</blockquote>\n<p>So, probably when using <code>setDecorFitsSystemWindows</code> API, the window insets keep passing down to descendant views. Hence, trying to consume that on the Window <code>DecorView</code> has been actually solved the problem:</p>\n<pre><code>// This snippet is used in `onCreate()` method.\nViewCompat.setOnApplyWindowInsetsListener(getWindow().getDecorView(), (v, insets) -&gt; {\n    return ViewCompat.onApplyWindowInsets(v, WindowInsetsCompat.CONSUMED);\n    //  return WindowInsetsCompat.CONSUMED; // Also can be used\n});\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/lF0jF.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/lF0jF.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Side note:</strong> This could have some overlapping issues for the users that prefer to use the three-button navigation that probably need to be handled:</p>\n<p><a href=\"https://i.stack.imgur.com/mnHOl.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/mnHOl.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":27431,"reputation":46856,"user_id":72437,"accept_rate":86,"display_name":"Cheok Yan Cheng"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":456,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":76186441,"answer_count":1,"score":7,"last_activity_date":1683464646,"creation_date":1683123586,"question_id":76164938,"body_markdown":"I want to let user enjoy full screen experience.\r\n\r\nI am following guideline from https://developer.android.com/develop/ui/views/layout/edge-to-edge\r\n\r\nHowever, when I apply `WindowCompat.setDecorFitsSystemWindows(getWindow(), false);`, the height of bottom app bar grows significantly.\r\n\r\nThe picture on the left is before applying `WindowCompat.setDecorFitsSystemWindows(getWindow(), false);`, and the picture on the right is after applying `WindowCompat.setDecorFitsSystemWindows(getWindow(), false);`.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nI am using the following components to implement bottom app bar.\r\n\r\n 1. `BottomAppBar` (So that `FloatingActionButton` can position in center)\r\n 2. `FloatingActionButton`\r\n 3. `BottomNavigationView` (So that I can integrate with `NavController` and `NavigationUI`).\r\n\r\nThis is my layout XML\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;androidx.coordinatorlayout.widget.CoordinatorLayout\r\n        xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        android:id=&quot;@+id/linear_layout&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;&gt;\r\n    \r\n        &lt;FrameLayout\r\n            android:id=&quot;@+id/toolbar_content_and_background_image_frame_layout&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;&gt;\r\n    \r\n            &lt;ImageView\r\n                android:id=&quot;@+id/background_image_view&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                android:src=&quot;@drawable/background2&quot;\r\n                android:scaleType=&quot;centerCrop&quot; /&gt;\r\n    \r\n            &lt;LinearLayout\r\n                android:id=&quot;@+id/toolbar_content_linear_layout&quot;\r\n                android:orientation=&quot;vertical&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;match_parent&quot;&gt;\r\n    \r\n                &lt;com.google.android.material.appbar.AppBarLayout\r\n                    app:elevation=&quot;0dp&quot;\r\n                    android:background=&quot;@android:color/transparent&quot;\r\n    \r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:fitsSystemWindows=&quot;true&quot;&gt;\r\n    \r\n                    &lt;com.google.android.material.appbar.MaterialToolbar\r\n                        android:background=&quot;@android:color/transparent&quot;\r\n    \r\n                        android:id=&quot;@+id/toolbar&quot;\r\n                        android:layout_width=&quot;match_parent&quot;\r\n                        android:layout_height=&quot;?attr/actionBarSize&quot; /&gt;\r\n    \r\n                &lt;/com.google.android.material.appbar.AppBarLayout&gt;\r\n    \r\n                &lt;fragment\r\n    \r\n                    android:id=&quot;@+id/nav_host_fragment_activity_main&quot;\r\n                    android:name=&quot;androidx.navigation.fragment.NavHostFragment&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;0dp&quot;\r\n                    android:layout_weight=&quot;1&quot;\r\n                    app:defaultNavHost=&quot;true&quot;\r\n                    app:navGraph=&quot;@navigation/mobile_navigation&quot; /&gt;\r\n            &lt;/LinearLayout&gt;\r\n        &lt;/FrameLayout&gt;\r\n    \r\n        &lt;com.google.android.material.bottomappbar.BottomAppBar\r\n            android:backgroundTint=&quot;#ff0000&quot;\r\n            app:fabCradleRoundedCornerRadius=&quot;0dp&quot;\r\n    \r\n            android:layout_gravity=&quot;bottom&quot;\r\n    \r\n            android:id=&quot;@+id/bottom_app_bar&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;&gt;\r\n    \r\n            &lt;com.google.android.material.bottomnavigation.BottomNavigationView\r\n                android:layout_marginEnd=&quot;16dp&quot;\r\n                app:elevation=&quot;0dp&quot;\r\n                app:backgroundTint=&quot;@android:color/transparent&quot;\r\n    \r\n                android:id=&quot;@+id/nav_view&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n    \r\n                app:labelVisibilityMode=&quot;unlabeled&quot;\r\n                app:itemBackground=&quot;?attr/actionBarItemBackground&quot;\r\n                app:menu=&quot;@menu/bottom_nav_menu&quot; /&gt;\r\n        &lt;/com.google.android.material.bottomappbar.BottomAppBar&gt;\r\n    \r\n        &lt;com.google.android.material.floatingactionbutton.FloatingActionButton\r\n            android:id=&quot;@+id/fab&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:src=&quot;@drawable/ic_android_black_24dp&quot;\r\n            android:contentDescription=&quot;@string/app_name&quot;\r\n            app:layout_anchor=&quot;@id/bottom_app_bar&quot; /&gt;\r\n    \r\n    &lt;/androidx.coordinatorlayout.widget.CoordinatorLayout&gt;\r\n\r\nI was wondering, why the height of bottom app bar grow significantly when displaying content edge-to-edge, and how we can avoid such?\r\n\r\nHere&#39;s the minimal workable example to try out such an issue - https://github.com/yccheok/bottom-navigation-example/tree/4494860eba7959ab59bb5ac2497302473ca0ad85\r\n\r\n  [1]: https://i.stack.imgur.com/LI0zR.png","title":"Why the height of bottom app bar grow significantly when displaying content edge-to-edge?","body":"<p>I want to let user enjoy full screen experience.</p>\n<p>I am following guideline from <a href=\"https://developer.android.com/develop/ui/views/layout/edge-to-edge\" rel=\"noreferrer\">https://developer.android.com/develop/ui/views/layout/edge-to-edge</a></p>\n<p>However, when I apply <code>WindowCompat.setDecorFitsSystemWindows(getWindow(), false);</code>, the height of bottom app bar grows significantly.</p>\n<p>The picture on the left is before applying <code>WindowCompat.setDecorFitsSystemWindows(getWindow(), false);</code>, and the picture on the right is after applying <code>WindowCompat.setDecorFitsSystemWindows(getWindow(), false);</code>.</p>\n<p><a href=\"https://i.stack.imgur.com/LI0zR.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/LI0zR.png\" alt=\"enter image description here\" /></a></p>\n<p>I am using the following components to implement bottom app bar.</p>\n<ol>\n<li><code>BottomAppBar</code> (So that <code>FloatingActionButton</code> can position in center)</li>\n<li><code>FloatingActionButton</code></li>\n<li><code>BottomNavigationView</code> (So that I can integrate with <code>NavController</code> and <code>NavigationUI</code>).</li>\n</ol>\n<p>This is my layout XML</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.coordinatorlayout.widget.CoordinatorLayout\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    android:id=&quot;@+id/linear_layout&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;&gt;\n\n    &lt;FrameLayout\n        android:id=&quot;@+id/toolbar_content_and_background_image_frame_layout&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;&gt;\n\n        &lt;ImageView\n            android:id=&quot;@+id/background_image_view&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:src=&quot;@drawable/background2&quot;\n            android:scaleType=&quot;centerCrop&quot; /&gt;\n\n        &lt;LinearLayout\n            android:id=&quot;@+id/toolbar_content_linear_layout&quot;\n            android:orientation=&quot;vertical&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;&gt;\n\n            &lt;com.google.android.material.appbar.AppBarLayout\n                app:elevation=&quot;0dp&quot;\n                android:background=&quot;@android:color/transparent&quot;\n\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:fitsSystemWindows=&quot;true&quot;&gt;\n\n                &lt;com.google.android.material.appbar.MaterialToolbar\n                    android:background=&quot;@android:color/transparent&quot;\n\n                    android:id=&quot;@+id/toolbar&quot;\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;?attr/actionBarSize&quot; /&gt;\n\n            &lt;/com.google.android.material.appbar.AppBarLayout&gt;\n\n            &lt;fragment\n\n                android:id=&quot;@+id/nav_host_fragment_activity_main&quot;\n                android:name=&quot;androidx.navigation.fragment.NavHostFragment&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;0dp&quot;\n                android:layout_weight=&quot;1&quot;\n                app:defaultNavHost=&quot;true&quot;\n                app:navGraph=&quot;@navigation/mobile_navigation&quot; /&gt;\n        &lt;/LinearLayout&gt;\n    &lt;/FrameLayout&gt;\n\n    &lt;com.google.android.material.bottomappbar.BottomAppBar\n        android:backgroundTint=&quot;#ff0000&quot;\n        app:fabCradleRoundedCornerRadius=&quot;0dp&quot;\n\n        android:layout_gravity=&quot;bottom&quot;\n\n        android:id=&quot;@+id/bottom_app_bar&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;&gt;\n\n        &lt;com.google.android.material.bottomnavigation.BottomNavigationView\n            android:layout_marginEnd=&quot;16dp&quot;\n            app:elevation=&quot;0dp&quot;\n            app:backgroundTint=&quot;@android:color/transparent&quot;\n\n            android:id=&quot;@+id/nav_view&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n\n            app:labelVisibilityMode=&quot;unlabeled&quot;\n            app:itemBackground=&quot;?attr/actionBarItemBackground&quot;\n            app:menu=&quot;@menu/bottom_nav_menu&quot; /&gt;\n    &lt;/com.google.android.material.bottomappbar.BottomAppBar&gt;\n\n    &lt;com.google.android.material.floatingactionbutton.FloatingActionButton\n        android:id=&quot;@+id/fab&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:src=&quot;@drawable/ic_android_black_24dp&quot;\n        android:contentDescription=&quot;@string/app_name&quot;\n        app:layout_anchor=&quot;@id/bottom_app_bar&quot; /&gt;\n\n&lt;/androidx.coordinatorlayout.widget.CoordinatorLayout&gt;\n</code></pre>\n<p>I was wondering, why the height of bottom app bar grow significantly when displaying content edge-to-edge, and how we can avoid such?</p>\n<p>Here's the minimal workable example to try out such an issue - <a href=\"https://github.com/yccheok/bottom-navigation-example/tree/4494860eba7959ab59bb5ac2497302473ca0ad85\" rel=\"noreferrer\">https://github.com/yccheok/bottom-navigation-example/tree/4494860eba7959ab59bb5ac2497302473ca0ad85</a></p>\n"},{"tags":["java","proxy","web3-java"],"answers":[{"tags":[],"owner":{"account_id":18335355,"reputation":101,"user_id":13352862,"display_name":"Senuda Jayalath"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1683464330,"creation_date":1683464330,"answer_id":76194082,"question_id":76179973,"body_markdown":"Instead of directly passing the bytes to the `encodeConstructor` function use the following method\r\n\r\n``` byte[] myBytes = parseHexBinary(&quot;0x000000000000000000000000a7cf300e&quot;);```\r\n\r\n`parseHexBinary` is taken from the ` DatatypeConverter` class.\r\n\r\nThen pass this byte array to the `encodeConstructor` as below\r\n\r\n```  \r\nString encodedConstructor =\r\n                    FunctionEncoder.encodeConstructor(\r\n                            Arrays.asList(\r\n                                    new Address(beaconAddress),\r\n                                    new DynamicBytes(myBytes),\r\n                                    new Utf8String(&quot;1&quot;)));   \r\n```\r\n","title":"How to pass bytes type parameters to a function in java web3","body":"<p>Instead of directly passing the bytes to the <code>encodeConstructor</code> function use the following method</p>\n<p><code> byte[] myBytes = parseHexBinary(&quot;0x000000000000000000000000a7cf300e&quot;);</code></p>\n<p><code>parseHexBinary</code> is taken from the <code> DatatypeConverter</code> class.</p>\n<p>Then pass this byte array to the <code>encodeConstructor</code> as below</p>\n<pre><code>String encodedConstructor =\n                    FunctionEncoder.encodeConstructor(\n                            Arrays.asList(\n                                    new Address(beaconAddress),\n                                    new DynamicBytes(myBytes),\n                                    new Utf8String(&quot;1&quot;)));   \n</code></pre>\n"}],"owner":{"account_id":18335355,"reputation":101,"user_id":13352862,"display_name":"Senuda Jayalath"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76194082,"answer_count":1,"score":0,"last_activity_date":1683464330,"creation_date":1683273338,"question_id":76179973,"body_markdown":"I am trying to deploy a proxy contract and it has the following constructor\r\n\r\n```constructor(address beacon, bytes memory data,string memory assetId)```\r\nThese are the inputs I am trying to pass to this constructor\r\n\r\n 1. beacon - 0xa7cF300E62EA5c7eA611e71Fb30A41182AC3ACDD\r\n 2. data - 0x000000000000000000000000a7cf300e\r\n 3. assetId -&quot;1&quot;\r\n\r\nThe following is the code I have written\r\n\r\n```String encodedConstructor =\r\n                    FunctionEncoder.encodeConstructor(\r\n                            Arrays.asList(\r\n                                    new Address(beaconAddress),\r\n                                    new DynamicBytes(&quot;0x000000000000000000000000a7cf300e&quot;.getBytes()),\r\n                                    new Utf8String(&quot;1&quot;)));\r\n```\r\nThe ideal output should be something like this\r\n```\r\n000000000000000000000000a7cf300e62ea5c7ea611e71fb30a41182ac3acdd000000000000000000000000000000000000000000000000000000000000006000000000000000000000000000000000000000000000000000000000000000a00000000000000000000000000000000000000000000000000000000000000010000000000000000000000000a7cf300e0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000013100000000000000000000000000000000000000000000000000000000000000\r\n```\r\nBut what I recieve is something like this\r\n\r\n```\r\n000000000000000000000000a7cf300e62ea5c7ea611e71fb30a41182ac3acdd000000000000000000000000000000000000000000000000000000\r\n000000006000000000000000000000000000000000000000000000000000000000000000c000000000000000000000000000000000000000000000000000000000000000223078303030303030303030303030303030303030303030303030613763663330306500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000013100000000000000000000000000000000000000000000000000000000000000\r\n```\r\nWhat I think has happened is that the `data` field in the constructor  has been converted to a string of bytes. So what I am looking for is a solution/method to pass `bytes` type parameters to a function. There is a way to do this win web3.js. I a wondering anyone knows a way to do this in web3-java.\r\n\r\nThanks in advance\r\n\r\n\r\n","title":"How to pass bytes type parameters to a function in java web3","body":"<p>I am trying to deploy a proxy contract and it has the following constructor</p>\n<p><code>constructor(address beacon, bytes memory data,string memory assetId)</code>\nThese are the inputs I am trying to pass to this constructor</p>\n<ol>\n<li>beacon - 0xa7cF300E62EA5c7eA611e71Fb30A41182AC3ACDD</li>\n<li>data - 0x000000000000000000000000a7cf300e</li>\n<li>assetId -&quot;1&quot;</li>\n</ol>\n<p>The following is the code I have written</p>\n<pre><code>                    FunctionEncoder.encodeConstructor(\n                            Arrays.asList(\n                                    new Address(beaconAddress),\n                                    new DynamicBytes(&quot;0x000000000000000000000000a7cf300e&quot;.getBytes()),\n                                    new Utf8String(&quot;1&quot;)));\n</code></pre>\n<p>The ideal output should be something like this</p>\n<pre><code>000000000000000000000000a7cf300e62ea5c7ea611e71fb30a41182ac3acdd000000000000000000000000000000000000000000000000000000000000006000000000000000000000000000000000000000000000000000000000000000a00000000000000000000000000000000000000000000000000000000000000010000000000000000000000000a7cf300e0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000013100000000000000000000000000000000000000000000000000000000000000\n</code></pre>\n<p>But what I recieve is something like this</p>\n<pre><code>000000000000000000000000a7cf300e62ea5c7ea611e71fb30a41182ac3acdd000000000000000000000000000000000000000000000000000000\n000000006000000000000000000000000000000000000000000000000000000000000000c000000000000000000000000000000000000000000000000000000000000000223078303030303030303030303030303030303030303030303030613763663330306500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000013100000000000000000000000000000000000000000000000000000000000000\n</code></pre>\n<p>What I think has happened is that the <code>data</code> field in the constructor  has been converted to a string of bytes. So what I am looking for is a solution/method to pass <code>bytes</code> type parameters to a function. There is a way to do this win web3.js. I a wondering anyone knows a way to do this in web3-java.</p>\n<p>Thanks in advance</p>\n"},{"tags":["java","encryption","cryptography","bouncycastle","hardware-security-module"],"owner":{"account_id":20153373,"reputation":41,"user_id":14780186,"display_name":"3ric-T"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683464239,"creation_date":1683307410,"question_id":76184619,"body_markdown":"In [this post][1], I answered my own problem about unwrapping a private key which has been wrapped out of a HSM using an EC master key. It implies using a derivation mechanism and a derivation function to issue a AES session key.&lt;br&gt;\r\nThe code to implement the unwrapping with Bouncy Castle is:\r\n```\r\nKeyAgreement recipientAgreement =\r\n  KeyAgreement.getInstance(&quot;ECDHWithSHA256KDF&quot;, BouncyCastleProvider.PROVIDER_NAME);\r\nrecipientAgreement.init(recipientPrivateKey,\r\n                        new UserKeyingMaterialSpec(sharedData));\r\nrecipientAgreement.doPhase(transportPublicKey), true);            \r\nfinal byte[] secret = recipientAgreement.generateSecret();\r\nSecretKeySpec sharedSecret = new SecretKeySpec(secret , &quot;AES&quot;);\r\n\r\nCipher cipher = Cipher.getInstance(&quot;AES/CBC/PKCS7PADDING&quot;);\r\nfinal InitializationVectorParameters initializationVectorParameters = new InitializationVectorParameters(new byte[16]);\r\nbyte[] ivb = initializationVectorParameters.getInitializationVector();\r\ncipher.init(Cipher.DECRYPT_MODE, sharedSecret, new IvParameterSpec(ivb));\r\nbyte[] decryptedPrivateKey = cipher.doFinal(privateKeyWrappedBySessionKey);         \r\n\r\nPKCS8EncodedKeySpec privateKeySpec = new PKCS8EncodedKeySpec(decryptedPrivateKey);            \r\nKeyFactory keyFactory = KeyHelper.keyFactory(wrappedPrivateKeyType);\r\nPrivateKey privateKey = keyFactory.generatePrivate(privateKeySpec);\r\n```\r\n\r\nUnfortunately, if this works for almost all derivation functions (you just have to replace `ECDHWithSHA256KDF` with the appropriate name like `ECDHWithSHA1KDF` or whatever else), this does not work for `CKD_NULL` **and** AES key size shorter than 256 bits.&lt;br&gt;\r\nI used `ECDH` for the init of the `KeyAgreement`, generate a secret and got the first 128 or 192 bits of this secret, for example:\r\n```\r\nKeyAgreement recipientAgreement =\r\n  KeyAgreement.getInstance(&quot;ECDH&quot;, BouncyCastleProvider.PROVIDER_NAME);\r\nrecipientAgreement.init(recipientPrivateKey);\r\n(...)\r\nfinal byte[] secret = recipientAgreement.generateSecret();\r\nSystem.arraycopy(secret, 0, shortSecret, 0, 16);\r\nSecretKeySpec sharedSecret = new SecretKeySpec(shortSecret , &quot;AES&quot;);\r\n(...)\r\n```\r\nbut it fails at `cipher.doFinal(privateKeyWrappedBySessionKey)`with:\r\n```\r\nCipher initialization exception: Given final block not properly padded. Such issues can arise if a bad key is used during decryption.\r\n```\r\nIt seems obviously that the issued secret is not the expected one\r\n\r\nCan anyone help me?\r\n\r\nPlease note that, with function such as `CKD_SHA256_KDF` and session key size of 128 or 192 bits, I can succesfully unwrap my key.\r\n\r\n  [1]: https://stackoverflow.com/questions/76102988/wrap-unwrap-of-private-key-using-ec-master-key-and-bouncy-castle","title":"Derive a secret using CKD_NULL derivation function and Bouncy Castle JAVA library","body":"<p>In <a href=\"https://stackoverflow.com/questions/76102988/wrap-unwrap-of-private-key-using-ec-master-key-and-bouncy-castle\">this post</a>, I answered my own problem about unwrapping a private key which has been wrapped out of a HSM using an EC master key. It implies using a derivation mechanism and a derivation function to issue a AES session key.<br>\nThe code to implement the unwrapping with Bouncy Castle is:</p>\n<pre><code>KeyAgreement recipientAgreement =\n  KeyAgreement.getInstance(&quot;ECDHWithSHA256KDF&quot;, BouncyCastleProvider.PROVIDER_NAME);\nrecipientAgreement.init(recipientPrivateKey,\n                        new UserKeyingMaterialSpec(sharedData));\nrecipientAgreement.doPhase(transportPublicKey), true);            \nfinal byte[] secret = recipientAgreement.generateSecret();\nSecretKeySpec sharedSecret = new SecretKeySpec(secret , &quot;AES&quot;);\n\nCipher cipher = Cipher.getInstance(&quot;AES/CBC/PKCS7PADDING&quot;);\nfinal InitializationVectorParameters initializationVectorParameters = new InitializationVectorParameters(new byte[16]);\nbyte[] ivb = initializationVectorParameters.getInitializationVector();\ncipher.init(Cipher.DECRYPT_MODE, sharedSecret, new IvParameterSpec(ivb));\nbyte[] decryptedPrivateKey = cipher.doFinal(privateKeyWrappedBySessionKey);         \n\nPKCS8EncodedKeySpec privateKeySpec = new PKCS8EncodedKeySpec(decryptedPrivateKey);            \nKeyFactory keyFactory = KeyHelper.keyFactory(wrappedPrivateKeyType);\nPrivateKey privateKey = keyFactory.generatePrivate(privateKeySpec);\n</code></pre>\n<p>Unfortunately, if this works for almost all derivation functions (you just have to replace <code>ECDHWithSHA256KDF</code> with the appropriate name like <code>ECDHWithSHA1KDF</code> or whatever else), this does not work for <code>CKD_NULL</code> <strong>and</strong> AES key size shorter than 256 bits.<br>\nI used <code>ECDH</code> for the init of the <code>KeyAgreement</code>, generate a secret and got the first 128 or 192 bits of this secret, for example:</p>\n<pre><code>KeyAgreement recipientAgreement =\n  KeyAgreement.getInstance(&quot;ECDH&quot;, BouncyCastleProvider.PROVIDER_NAME);\nrecipientAgreement.init(recipientPrivateKey);\n(...)\nfinal byte[] secret = recipientAgreement.generateSecret();\nSystem.arraycopy(secret, 0, shortSecret, 0, 16);\nSecretKeySpec sharedSecret = new SecretKeySpec(shortSecret , &quot;AES&quot;);\n(...)\n</code></pre>\n<p>but it fails at <code>cipher.doFinal(privateKeyWrappedBySessionKey)</code>with:</p>\n<pre><code>Cipher initialization exception: Given final block not properly padded. Such issues can arise if a bad key is used during decryption.\n</code></pre>\n<p>It seems obviously that the issued secret is not the expected one</p>\n<p>Can anyone help me?</p>\n<p>Please note that, with function such as <code>CKD_SHA256_KDF</code> and session key size of 128 or 192 bits, I can succesfully unwrap my key.</p>\n"},{"tags":["java","spring-boot","spring-boot-starter"],"answers":[{"tags":[],"owner":{"account_id":22341068,"reputation":692,"user_id":16560836,"display_name":"yezper"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1683463119,"creation_date":1683463119,"answer_id":76193985,"question_id":76193841,"body_markdown":"Why do you think you should get `MethodArgumentNotValidException`? `ConstraintViolationException` seems to be totally reasonable exception to expect, when some constraints were violated by your request body. I don&#39;t see a problem here. Just change your `ExceptionHandler` to catch `ConstraintViolationException` and do whatever you want with it.","title":"getting ConstraintViolationException instead of MethodArgumentNotValidException when using @valid with @RequestBody in the controller","body":"<p>Why do you think you should get <code>MethodArgumentNotValidException</code>? <code>ConstraintViolationException</code> seems to be totally reasonable exception to expect, when some constraints were violated by your request body. I don't see a problem here. Just change your <code>ExceptionHandler</code> to catch <code>ConstraintViolationException</code> and do whatever you want with it.</p>\n"}],"owner":{"account_id":27981118,"reputation":15,"user_id":21368845,"display_name":"Prafull Jain"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":693,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76193985,"answer_count":1,"score":0,"last_activity_date":1683463119,"creation_date":1683461451,"question_id":76193841,"body_markdown":"i am continuing my journey to learn Spring boot, right now i am stuck between two similar kind of exceptions, wherever i found i have got the answer that if @valid or @validate used at controller/service level along with @RequestBody we should get **MethodArgumentNotValidException**\r\nwhereas, i am getting **ConstraintViolationException** during post and update API calls. again and again the call is going in globalExceptionHandler method of ExceptionHAndler class, where it is showing constraintviolationexception.\r\n\r\nPostController.java\r\n\r\n\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/api/posts&quot;)\r\npublic class PostController {\r\n\t\r\n\t@Autowired\r\n\tprivate PostService postService;\r\n\r\n\t//rest API endpoint to post http:localhost:8080/api/posts\r\n\t@PostMapping\r\n\tpublic ResponseEntity&lt;PostDTO&gt; createPost(@Valid @RequestBody PostDTO postDTO){\r\n\t\treturn new ResponseEntity&lt;&gt;(postService.createPost(postDTO),HttpStatus.CREATED);\r\n\t}\r\n\t\r\n\t@PostMapping(path = &quot;/multiple&quot;)\r\n\tpublic ResponseEntity&lt;List&lt;PostDTO&gt;&gt; createMultiplePosts(@Valid @RequestBody List&lt;PostDTO&gt; postDTO){\r\n\t\t\r\n\t\treturn new ResponseEntity&lt;&gt;(postService.createMultiplePosts(postDTO),HttpStatus.CREATED);\r\n\t}\r\n```\r\n\r\nEntity Class:\r\n\r\nPosts.java\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;posts&quot;, uniqueConstraints = {@UniqueConstraint(columnNames = {&quot;titles&quot;})})\r\npublic class Posts {\r\n\t@Id\r\n\t@GeneratedValue(strategy=GenerationType.IDENTITY)\r\n\tprivate Long id;\r\n\t@Column(name = &quot;titles&quot;)\r\n\t@NotEmpty\r\n\t@Size(min = 2,message = &quot;post title should contain atleast 2 character&quot;)\r\n\tprivate String title;\r\n\t@Column(name = &quot;description&quot;)\r\n\t@NotEmpty\r\n\t@Size(min = 10,message = &quot;post description should contain atleast 2 character&quot;)\r\n\tprivate String description;\r\n\t@Column(name = &quot;content&quot;)\r\n\t@NotEmpty\r\n\tprivate String content;\r\n```\r\n\r\nGlobalException.java\r\n\r\n```\r\n@ControllerAdvice\r\npublic class GlobalException extends ResponseEntityExceptionHandler {\r\n\t\r\n\tprivate static final Logger logger = LoggerFactory.getLogger(GlobalException.class);\r\n\t\r\n\t@ExceptionHandler(ResouceNotFoundException.class)\r\n\tResponseEntity&lt;ErrorDetails&gt; PostNotFoundExceptionHandler(ResouceNotFoundException exception, WebRequest webRequest){\r\n\t\t\r\n\t\tErrorDetails errorDetails =new ErrorDetails(new Date(),exception.getMessage(),webRequest.getDescription(false));\r\n\t\treturn new ResponseEntity&lt;&gt;(errorDetails,HttpStatus.NOT_FOUND);\r\n\t}\r\n\t\r\n\t@ExceptionHandler(BlogApiException.class)\r\n\tResponseEntity&lt;ErrorDetails&gt; CommentNotFoundExceptionHandler(BlogApiException exception, WebRequest webRequest){\r\n\t\t\r\n\t\tErrorDetails errorDetails =new ErrorDetails(new Date(),exception.getMessage(),webRequest.getDescription(false));\r\n\t\treturn new ResponseEntity&lt;&gt;(errorDetails,HttpStatus.NOT_FOUND);\r\n\t}\r\n\t\r\n\t\r\n\t@Override\r\n//\t@ExceptionHandler(MethodArgumentNotValidException.class)\r\n\tprotected ResponseEntity&lt;Object&gt; handleMethodArgumentNotValid(\r\n\t\t\tMethodArgumentNotValidException ex, HttpHeaders headers, HttpStatusCode status, WebRequest request){\r\n\t\t\r\n\t\tlogger.info(&quot;inside handleMethodArgumentNotValid class&quot;);\r\n\t\tMap&lt;String, String&gt; errorsMap =new HashMap&lt;&gt;();\r\n\t\tex.getBindingResult().getAllErrors().forEach((error)-&gt;{\r\n\t\t\r\n\t\t\tString fieldNameString = ((FieldError)error).getField();\r\n\t\t\tString messageString = error.getDefaultMessage();\r\n\t\t\terrorsMap.put(fieldNameString, messageString);\r\n\t\t});\r\n\t\treturn new ResponseEntity&lt;&gt;(errorsMap,HttpStatus.BAD_REQUEST);\r\n\t}\r\n\t\r\n\t@ExceptionHandler(Exception.class)\r\n\tResponseEntity&lt;ErrorDetails&gt; GlobalExceptionHandler(Exception exception, WebRequest webRequest){\r\n\t\tlogger.info(&quot;inside GlobalExceptionHandler class&quot;);\r\n\t\tErrorDetails errorDetails =new ErrorDetails(new Date(),exception.getMessage(),webRequest.getDescription(false));\r\n\t\treturn new ResponseEntity&lt;&gt;(errorDetails,HttpStatus.BAD_REQUEST);\r\n\t}\r\n\r\n}\r\n\r\n```\r\n\r\n\r\n\r\ni tried modifying RequestBody JSON, tried @validated annotation at class level, and at method level after @RequestBody annotation as well, still getting same exception.\r\nplease help me to understand why am I getting this exception, tried playing with versions of spring boot starter validation dependency.\r\ncurrently using 3.0.4 version of starter-validation dependency\r\nJava version is 17.0.7","title":"getting ConstraintViolationException instead of MethodArgumentNotValidException when using @valid with @RequestBody in the controller","body":"<p>i am continuing my journey to learn Spring boot, right now i am stuck between two similar kind of exceptions, wherever i found i have got the answer that if @valid or @validate used at controller/service level along with @RequestBody we should get <strong>MethodArgumentNotValidException</strong>\nwhereas, i am getting <strong>ConstraintViolationException</strong> during post and update API calls. again and again the call is going in globalExceptionHandler method of ExceptionHAndler class, where it is showing constraintviolationexception.</p>\n<p>PostController.java</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/api/posts&quot;)\npublic class PostController {\n    \n    @Autowired\n    private PostService postService;\n\n    //rest API endpoint to post http:localhost:8080/api/posts\n    @PostMapping\n    public ResponseEntity&lt;PostDTO&gt; createPost(@Valid @RequestBody PostDTO postDTO){\n        return new ResponseEntity&lt;&gt;(postService.createPost(postDTO),HttpStatus.CREATED);\n    }\n    \n    @PostMapping(path = &quot;/multiple&quot;)\n    public ResponseEntity&lt;List&lt;PostDTO&gt;&gt; createMultiplePosts(@Valid @RequestBody List&lt;PostDTO&gt; postDTO){\n        \n        return new ResponseEntity&lt;&gt;(postService.createMultiplePosts(postDTO),HttpStatus.CREATED);\n    }\n</code></pre>\n<p>Entity Class:</p>\n<p>Posts.java</p>\n<pre><code>@Entity\n@Table(name = &quot;posts&quot;, uniqueConstraints = {@UniqueConstraint(columnNames = {&quot;titles&quot;})})\npublic class Posts {\n    @Id\n    @GeneratedValue(strategy=GenerationType.IDENTITY)\n    private Long id;\n    @Column(name = &quot;titles&quot;)\n    @NotEmpty\n    @Size(min = 2,message = &quot;post title should contain atleast 2 character&quot;)\n    private String title;\n    @Column(name = &quot;description&quot;)\n    @NotEmpty\n    @Size(min = 10,message = &quot;post description should contain atleast 2 character&quot;)\n    private String description;\n    @Column(name = &quot;content&quot;)\n    @NotEmpty\n    private String content;\n</code></pre>\n<p>GlobalException.java</p>\n<pre><code>@ControllerAdvice\npublic class GlobalException extends ResponseEntityExceptionHandler {\n    \n    private static final Logger logger = LoggerFactory.getLogger(GlobalException.class);\n    \n    @ExceptionHandler(ResouceNotFoundException.class)\n    ResponseEntity&lt;ErrorDetails&gt; PostNotFoundExceptionHandler(ResouceNotFoundException exception, WebRequest webRequest){\n        \n        ErrorDetails errorDetails =new ErrorDetails(new Date(),exception.getMessage(),webRequest.getDescription(false));\n        return new ResponseEntity&lt;&gt;(errorDetails,HttpStatus.NOT_FOUND);\n    }\n    \n    @ExceptionHandler(BlogApiException.class)\n    ResponseEntity&lt;ErrorDetails&gt; CommentNotFoundExceptionHandler(BlogApiException exception, WebRequest webRequest){\n        \n        ErrorDetails errorDetails =new ErrorDetails(new Date(),exception.getMessage(),webRequest.getDescription(false));\n        return new ResponseEntity&lt;&gt;(errorDetails,HttpStatus.NOT_FOUND);\n    }\n    \n    \n    @Override\n//  @ExceptionHandler(MethodArgumentNotValidException.class)\n    protected ResponseEntity&lt;Object&gt; handleMethodArgumentNotValid(\n            MethodArgumentNotValidException ex, HttpHeaders headers, HttpStatusCode status, WebRequest request){\n        \n        logger.info(&quot;inside handleMethodArgumentNotValid class&quot;);\n        Map&lt;String, String&gt; errorsMap =new HashMap&lt;&gt;();\n        ex.getBindingResult().getAllErrors().forEach((error)-&gt;{\n        \n            String fieldNameString = ((FieldError)error).getField();\n            String messageString = error.getDefaultMessage();\n            errorsMap.put(fieldNameString, messageString);\n        });\n        return new ResponseEntity&lt;&gt;(errorsMap,HttpStatus.BAD_REQUEST);\n    }\n    \n    @ExceptionHandler(Exception.class)\n    ResponseEntity&lt;ErrorDetails&gt; GlobalExceptionHandler(Exception exception, WebRequest webRequest){\n        logger.info(&quot;inside GlobalExceptionHandler class&quot;);\n        ErrorDetails errorDetails =new ErrorDetails(new Date(),exception.getMessage(),webRequest.getDescription(false));\n        return new ResponseEntity&lt;&gt;(errorDetails,HttpStatus.BAD_REQUEST);\n    }\n\n}\n\n</code></pre>\n<p>i tried modifying RequestBody JSON, tried @validated annotation at class level, and at method level after @RequestBody annotation as well, still getting same exception.\nplease help me to understand why am I getting this exception, tried playing with versions of spring boot starter validation dependency.\ncurrently using 3.0.4 version of starter-validation dependency\nJava version is 17.0.7</p>\n"},{"tags":["java","jquery","servlets","zipoutputstream"],"comments":[{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1683375095,"post_id":76188539,"comment_id":134359098,"body_markdown":"you are sending body to client, then closing response stream and then trying to send some headers. HTTP does not work that way. Since you are using spring framework stop using servlet api and writing servlets, start using spring.","body":"you are sending body to client, then closing response stream and then trying to send some headers. HTTP does not work that way. Since you are using spring framework stop using servlet api and writing servlets, start using spring."},{"owner":{"account_id":23705746,"reputation":11,"user_id":17728240,"display_name":"A.T."},"score":0,"creation_date":1683461895,"post_id":76188539,"comment_id":134367429,"body_markdown":"@AndreyB.Panfilov so as I&#39;m writing files into ZipOutputStream, httpServelet response starts sending  body to client? it doesnt wait till the flushBuffer method?","body":"@AndreyB.Panfilov so as I&#39;m writing files into ZipOutputStream, httpServelet response starts sending  body to client? it doesnt wait till the flushBuffer method?"},{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1683462664,"post_id":76188539,"comment_id":134367537,"body_markdown":"no, plz check my example","body":"no, plz check my example"},{"owner":{"account_id":23705746,"reputation":11,"user_id":17728240,"display_name":"A.T."},"score":0,"creation_date":1683466393,"post_id":76188539,"comment_id":134368033,"body_markdown":"thank you for the example, would you mind explaining a bit more about &quot;you are sending body to client, then closing response stream and then trying to send some headers. HTTP does not work that way. &quot; ?  I&#39;m trying to understand which line of code close the response stream before sending the header","body":"thank you for the example, would you mind explaining a bit more about &quot;you are sending body to client, then closing response stream and then trying to send some headers. HTTP does not work that way. &quot; ?  I&#39;m trying to understand which line of code close the response stream before sending the header"},{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1683467530,"post_id":76188539,"comment_id":134368173,"body_markdown":"in your code `zos.close()` call closes underlying output stream (`response.getOutputStream()`) at that moment server definitely  needs to send status and headers (i.e. commit response) to client, moreover, server actually commits response much earlier - when underlying buffer gets filled, i.e. `zos.write` causes server to commit response.","body":"in your code <code>zos.close()</code> call closes underlying output stream (<code>response.getOutputStream()</code>) at that moment server definitely  needs to send status and headers (i.e. commit response) to client, moreover, server actually commits response much earlier - when underlying buffer gets filled, i.e. <code>zos.write</code> causes server to commit response."}],"answers":[{"tags":[],"owner":{"account_id":1490931,"reputation":410,"user_id":1398030,"display_name":"Madhawa Gunasekara"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683373622,"creation_date":1683373622,"answer_id":76188692,"question_id":76188539,"body_markdown":"What I am suggesting is to trace back whether your download request to the server has the problem or the download javascript code has the problem.\r\n\r\n&gt; backend code (java) when I check the log, i realise the controller has\r\n&gt; not been called at all.\r\n\r\n\r\nFirst, check the network tab in your browser dev tools to visualize the outgoing download request towards the server. \r\n\r\nDouble check the URL path is matching with the server path for the real server scenario. Also, see if is it due to some problem with your request params.\r\n\r\nAlso check what response you are receiving for that call, and whether any error response codes like 400 BadRequest from the server side.\r\n\r\nYou could further debug separately using `Postman` or `Curl` and send the same download request generated from the actual javascript code (by seeing the browser request) to the server. Then check whether it&#39;s coming to your server or not.\r\n\r\nAlso, one other corner case might be your server-side log level is not set to print debug level which might be the reason you are not seeing the incoming request logs if the request really coming to the server, where you could increase the verbose logs to print debug level logs.\r\n\r\nOr else also check if the firewall of the server is not allowing for your request.\r\n\r\nYou could also check whether your download client javascript code is causing the problem by checking the browser console logs for any errors.","title":"Java download zip file with HTTPResponse works at localhost but failed at server","body":"<p>What I am suggesting is to trace back whether your download request to the server has the problem or the download javascript code has the problem.</p>\n<blockquote>\n<p>backend code (java) when I check the log, i realise the controller has\nnot been called at all.</p>\n</blockquote>\n<p>First, check the network tab in your browser dev tools to visualize the outgoing download request towards the server.</p>\n<p>Double check the URL path is matching with the server path for the real server scenario. Also, see if is it due to some problem with your request params.</p>\n<p>Also check what response you are receiving for that call, and whether any error response codes like 400 BadRequest from the server side.</p>\n<p>You could further debug separately using <code>Postman</code> or <code>Curl</code> and send the same download request generated from the actual javascript code (by seeing the browser request) to the server. Then check whether it's coming to your server or not.</p>\n<p>Also, one other corner case might be your server-side log level is not set to print debug level which might be the reason you are not seeing the incoming request logs if the request really coming to the server, where you could increase the verbose logs to print debug level logs.</p>\n<p>Or else also check if the firewall of the server is not allowing for your request.</p>\n<p>You could also check whether your download client javascript code is causing the problem by checking the browser console logs for any errors.</p>\n"},{"tags":[],"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683462647,"creation_date":1683462647,"answer_id":76193941,"question_id":76188539,"body_markdown":"The spring way of writing that is something like:\r\n\r\n```java\r\n@RequestMapping(value = &quot;/downloadAttachments&quot;, method = RequestMethod.GET)\r\npublic ResponseEntity&lt;?&gt; downloadAttachments(@RequestParam(value = &quot;productId&quot;, required = true) Long productId) throws IOException {\r\n    log.debug(&quot;/downloadItemAttachments -- productId:&quot; + productId);\r\n    List&lt;ProductInfo&gt; attachmentList = productInfoService.findByProductId(productId);\r\n    String zipFileName = &quot;product_image_&quot; + productId + &quot;.zip&quot;;\r\n    \r\n    Consumer&lt;OutputStream&gt; zipproducer = os -&gt; {\r\n        try (ZipOutputStream zos = new ZipOutputStream(os)) {\r\n            for (ProductInfo att : attachmentList) {\r\n                String fileName = &quot;item_&quot; + productId + &quot;_&quot; + seq + &quot;.png&quot;;\r\n\r\n                ZipEntry zipEntry = new ZipEntry(fileName);\r\n                zos.putNextEntry(zipEntry);\r\n\r\n                //convert base 64 str to image\r\n                byte[] bytes = DatatypeConverter.parseBase64Binary(att.getBase64Str());\r\n                ByteArrayInputStream bis = new ByteArrayInputStream(bytes);\r\n\r\n                int length;\r\n                while ((length = bis.read(bytes)) &gt;= 0) {\r\n                    log.debug(&quot;file size : &quot; + length);\r\n                    contentLength += length;\r\n                    zos.write(bytes, 0, length);\r\n                }\r\n\r\n\r\n                IOUtils.copy(bis, zos);\r\n                zos.closeEntry();\r\n                bis.close();\r\n            }\r\n        } catch (IOException ex) {\r\n            throw new RuntimeException(ex);\r\n        }\r\n    };\r\n\r\n\r\n    HttpHeaders headers = new HttpHeaders();\r\n    headers.setContentDisposition(ContentDisposition.builder(&quot;attachment&quot;)\r\n            .filename(zipFileName, StandardCharsets.UTF_8)\r\n            .build());\r\n    headers.setContentType(MediaType.valueOf(&quot;application/zip&quot;));\r\n    return new ResponseEntity&lt;&gt;(zipproducer, headers, HttpStatus.OK);\r\n}\r\n```","title":"Java download zip file with HTTPResponse works at localhost but failed at server","body":"<p>The spring way of writing that is something like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RequestMapping(value = &quot;/downloadAttachments&quot;, method = RequestMethod.GET)\npublic ResponseEntity&lt;?&gt; downloadAttachments(@RequestParam(value = &quot;productId&quot;, required = true) Long productId) throws IOException {\n    log.debug(&quot;/downloadItemAttachments -- productId:&quot; + productId);\n    List&lt;ProductInfo&gt; attachmentList = productInfoService.findByProductId(productId);\n    String zipFileName = &quot;product_image_&quot; + productId + &quot;.zip&quot;;\n    \n    Consumer&lt;OutputStream&gt; zipproducer = os -&gt; {\n        try (ZipOutputStream zos = new ZipOutputStream(os)) {\n            for (ProductInfo att : attachmentList) {\n                String fileName = &quot;item_&quot; + productId + &quot;_&quot; + seq + &quot;.png&quot;;\n\n                ZipEntry zipEntry = new ZipEntry(fileName);\n                zos.putNextEntry(zipEntry);\n\n                //convert base 64 str to image\n                byte[] bytes = DatatypeConverter.parseBase64Binary(att.getBase64Str());\n                ByteArrayInputStream bis = new ByteArrayInputStream(bytes);\n\n                int length;\n                while ((length = bis.read(bytes)) &gt;= 0) {\n                    log.debug(&quot;file size : &quot; + length);\n                    contentLength += length;\n                    zos.write(bytes, 0, length);\n                }\n\n\n                IOUtils.copy(bis, zos);\n                zos.closeEntry();\n                bis.close();\n            }\n        } catch (IOException ex) {\n            throw new RuntimeException(ex);\n        }\n    };\n\n\n    HttpHeaders headers = new HttpHeaders();\n    headers.setContentDisposition(ContentDisposition.builder(&quot;attachment&quot;)\n            .filename(zipFileName, StandardCharsets.UTF_8)\n            .build());\n    headers.setContentType(MediaType.valueOf(&quot;application/zip&quot;));\n    return new ResponseEntity&lt;&gt;(zipproducer, headers, HttpStatus.OK);\n}\n</code></pre>\n"}],"owner":{"account_id":23705746,"reputation":11,"user_id":17728240,"display_name":"A.T."},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":264,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1683462647,"creation_date":1683371390,"question_id":76188539,"body_markdown":"I&#39;ve created a download button to get a zip file of product photos. It works fine when testing in localhost but doesnt work after deployed to server.\r\n\r\nNo zip file was created and there&#39;re no error message in both web console and catalina log, nothing happened...\r\n\r\nI once suspected it was due to file size issue. But spring boot seems to only have max upload size, not download. \r\nAnd the photos sizes are around 50KB to 150KB each, max 5 photos per zip file, so size shouldnt be the issue\r\n\r\nHas anyone encountered similar issue before? Any suggestion would be appreciated!\r\n\r\n\r\nfrontend code (jquery)\r\nThe reason that i didn&#39;t simply use window.open(link) is because the zip file name token my backend path (i.e. downloadAttachment.zip), so I did below as a work around\r\n```\r\n$(&quot;#download&quot;).click(function(){\r\n\t\tvar downloadLink = &#39;&lt;c:url value=&quot;/receiving/downloadAttachments.do&quot;/&gt;&#39;\r\n\t\t\t+&quot;?productId=${productId}&quot;;\r\n\t\t\r\n\t\tvar linkElement = document.createElement(&quot;a&quot;);\r\n\t\tlinkElement.href = downloadLink;\r\n\t\tlinkElement.download = &quot;product_image_${productId}.zip&quot;;\r\n\t\t\r\n\t\tdocument.body.appendChild(linkElement);\r\n\t\tlinkElement.click();\r\n\t\tdocument.body.removeChild(linkElement);\r\n})\r\n```\r\n\r\nbackend code (java)\r\nwhen I check the log, i realise the controller has not been called at all. \r\n```\r\n@RequestMapping(value=&quot;/downloadAttachments&quot;, method = RequestMethod.GET)\r\npublic void downloadAttachments( HttpServletRequest request, HttpServletResponse response,\r\n\t@RequestParam(value=&quot;productId&quot;, required=true)Long productId) throws IOException{\r\n\tlog.debug(&quot;/downloadItemAttachments -- productId:&quot;+productId);\r\n\t\t\r\n\t\r\n\t    ZipOutputStream zos = new ZipOutputStream(response.getOutputStream());\r\n\t\t\t\r\n\t    List&lt;ProductInfo&gt; attachmentList = productInfoService.findByProductId(productId);\r\n\t    int contentLength = 0;\r\n            int seq = 1;\r\n\t    if(attachmentList!=null &amp;&amp; !attachmentList.isEmpty()){\t\r\n\t\tfor(ProductInfo att : attachmentList){\t\r\n\t\t\tString fileName = &quot;item_&quot;+productId+&quot;_&quot;+seq+&quot;.png&quot;;\r\n\t\t\t\t\r\n\t\t\tZipEntry zipEntry = new ZipEntry(fileName);\r\n\t\t\tzos.putNextEntry(zipEntry);\r\n\r\n\t\t        //convert base 64 str to image\r\n\t\t\tbyte[] bytes = DatatypeConverter.parseBase64Binary(att.getBase64Str());\r\n\t\t\tByteArrayInputStream bis = new ByteArrayInputStream(bytes);\r\n\t\t\t\t\r\n\t\t\tint length;\r\n\t\t\twhile ((length = bis.read(bytes)) &gt;= 0) {\r\n\t\t\t\tlog.debug(&quot;file size : &quot;+length);\r\n\t\t\t\tcontentLength += length;\r\n\t\t\t\tzos.write(bytes, 0, length);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t\t\r\n\t\t\tIOUtils.copy(bis, zos);\r\n\t\t\tzos.closeEntry();\r\n\t\t\tbis.close();\r\n\t\t}\r\n\t\tlog.debug(&quot;contentLength -- &quot;+contentLength);\r\n\t\tzos.close();\r\n\t\tString zipFileName = &quot;product_image_&quot;+productId+&quot;.zip&quot;;\r\n\t\tresponse.setContentType(&quot;application/zip&quot;);\r\n\t\tresponse.setStatus(HttpServletResponse.SC_OK);\r\n\t\tresponse.setContentLength(contentLength);\r\n\t\tresponse.setHeader(&quot;Content-Disposition&quot;,&quot;attachment;filename=\\&quot;&quot;+URLEncoder.encode(zipFileName,&quot;UTF-8&quot;)+&quot;\\&quot;&quot;);\t\r\n\t\t\r\n         response.flushBuffer();\t\r\n\r\n``` ","title":"Java download zip file with HTTPResponse works at localhost but failed at server","body":"<p>I've created a download button to get a zip file of product photos. It works fine when testing in localhost but doesnt work after deployed to server.</p>\n<p>No zip file was created and there're no error message in both web console and catalina log, nothing happened...</p>\n<p>I once suspected it was due to file size issue. But spring boot seems to only have max upload size, not download.\nAnd the photos sizes are around 50KB to 150KB each, max 5 photos per zip file, so size shouldnt be the issue</p>\n<p>Has anyone encountered similar issue before? Any suggestion would be appreciated!</p>\n<p>frontend code (jquery)\nThe reason that i didn't simply use window.open(link) is because the zip file name token my backend path (i.e. downloadAttachment.zip), so I did below as a work around</p>\n<pre><code>$(&quot;#download&quot;).click(function(){\n        var downloadLink = '&lt;c:url value=&quot;/receiving/downloadAttachments.do&quot;/&gt;'\n            +&quot;?productId=${productId}&quot;;\n        \n        var linkElement = document.createElement(&quot;a&quot;);\n        linkElement.href = downloadLink;\n        linkElement.download = &quot;product_image_${productId}.zip&quot;;\n        \n        document.body.appendChild(linkElement);\n        linkElement.click();\n        document.body.removeChild(linkElement);\n})\n</code></pre>\n<p>backend code (java)\nwhen I check the log, i realise the controller has not been called at all.</p>\n<pre><code>@RequestMapping(value=&quot;/downloadAttachments&quot;, method = RequestMethod.GET)\npublic void downloadAttachments( HttpServletRequest request, HttpServletResponse response,\n    @RequestParam(value=&quot;productId&quot;, required=true)Long productId) throws IOException{\n    log.debug(&quot;/downloadItemAttachments -- productId:&quot;+productId);\n        \n    \n        ZipOutputStream zos = new ZipOutputStream(response.getOutputStream());\n            \n        List&lt;ProductInfo&gt; attachmentList = productInfoService.findByProductId(productId);\n        int contentLength = 0;\n            int seq = 1;\n        if(attachmentList!=null &amp;&amp; !attachmentList.isEmpty()){  \n        for(ProductInfo att : attachmentList){  \n            String fileName = &quot;item_&quot;+productId+&quot;_&quot;+seq+&quot;.png&quot;;\n                \n            ZipEntry zipEntry = new ZipEntry(fileName);\n            zos.putNextEntry(zipEntry);\n\n                //convert base 64 str to image\n            byte[] bytes = DatatypeConverter.parseBase64Binary(att.getBase64Str());\n            ByteArrayInputStream bis = new ByteArrayInputStream(bytes);\n                \n            int length;\n            while ((length = bis.read(bytes)) &gt;= 0) {\n                log.debug(&quot;file size : &quot;+length);\n                contentLength += length;\n                zos.write(bytes, 0, length);\n            }\n            \n                \n            IOUtils.copy(bis, zos);\n            zos.closeEntry();\n            bis.close();\n        }\n        log.debug(&quot;contentLength -- &quot;+contentLength);\n        zos.close();\n        String zipFileName = &quot;product_image_&quot;+productId+&quot;.zip&quot;;\n        response.setContentType(&quot;application/zip&quot;);\n        response.setStatus(HttpServletResponse.SC_OK);\n        response.setContentLength(contentLength);\n        response.setHeader(&quot;Content-Disposition&quot;,&quot;attachment;filename=\\&quot;&quot;+URLEncoder.encode(zipFileName,&quot;UTF-8&quot;)+&quot;\\&quot;&quot;); \n        \n         response.flushBuffer();    \n\n</code></pre>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1683460557,"post_id":76193427,"comment_id":134367279,"body_markdown":"Is see a lot of `&lt;activity&gt;` elements in your AndroidManifest .xml that misses the `android:exported` attribute. Have you tried to update them? Please read https://stackoverflow.com/q/68554294/150978 and it&#39;s answers.","body":"Is see a lot of <code>&lt;activity&gt;</code> elements in your AndroidManifest .xml that misses the <code>android:exported</code> attribute. Have you tried to update them? Please read <a href=\"https://stackoverflow.com/q/68554294/150978\">stackoverflow.com/q/68554294/150978</a> and it&#39;s answers."}],"answers":[{"tags":[],"owner":{"account_id":7495697,"reputation":1501,"user_id":5696047,"display_name":"jayesh gurudayalani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1683457404,"creation_date":1683457404,"answer_id":76193525,"question_id":76193427,"body_markdown":"As for new android version , you need to set ```android:exported``` for each activity , service and receiver in manifest file . In you file , I am able to see ```android:exported``` for a few activities only not all .. So kindly consider 2 points here which can fix your issue\r\n\r\n1. Set ```android:exported``` to each activity , service and receiver in your manifest\r\n2. Errors you are getting for other activity , service and receiver which is  part of some library and not your code so either upgrade your library to latest version if they have added support for new android version or re-register those activity , service or receiver in your manifest with ```android:exported``` tag ","title":"You uploaded an APK or Android App Bundle without the &#39;android:exported&#39; property set","body":"<p>As for new android version , you need to set <code>android:exported</code> for each activity , service and receiver in manifest file . In you file , I am able to see <code>android:exported</code> for a few activities only not all .. So kindly consider 2 points here which can fix your issue</p>\n<ol>\n<li>Set <code>android:exported</code> to each activity , service and receiver in your manifest</li>\n<li>Errors you are getting for other activity , service and receiver which is  part of some library and not your code so either upgrade your library to latest version if they have added support for new android version or re-register those activity , service or receiver in your manifest with <code>android:exported</code> tag</li>\n</ol>\n"}],"owner":{"account_id":28533406,"reputation":3,"user_id":21840441,"display_name":"Rayyan Studios"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76193525,"answer_count":1,"score":0,"last_activity_date":1683461767,"creation_date":1683456294,"question_id":76193427,"body_markdown":"just having a freakout moment while upgrading my app from android api 30 to 33, when i upload it on play console i am getting the error which says\r\n\r\n&gt; You uploaded an APK or Android App Bundle without the &#39;android:exported&#39; property set.\r\n\r\neven when i have set the &#39;android:exported&#39; property. but it still shows the same error.\r\n\r\nMerge Errors\r\n&gt; Error: android:exported needs to be explicitly specified for element &lt;activity#com.onesignal.NotificationOpenedActivityHMS&gt;. Apps targeting Android 12 and higher are required to specify an explicit value for `android:exported` when the corresponding component has an intent filter defined. See https://developer.android.com/guide/topics/manifest/activity-element#exported for details. CamScanner.app main manifest (this file), line 68 Error: android:exported needs to be explicitly specified for element &lt;receiver#com.onesignal.FCMBroadcastReceiver&gt;. Apps targeting Android 12 and higher are required to specify an explicit value for `android:exported` when the corresponding component has an intent filter defined. See https://developer.android.com/guide/topics/manifest/activity-element#exported for details. CamScanner.app main manifest (this file), line 48 Error: android:exported needs to be explicitly specified for element &lt;receiver#com.onesignal.BootUpReceiver&gt;. Apps targeting Android 12 and higher are required to specify an explicit value for `android:exported` when the corresponding component has an intent filter defined. See https://developer.android.com/guide/topics/manifest/activity-element#exported for details. CamScanner.app main manifest (this file), line 99 Error: android:exported needs to be explicitly specified for element &lt;receiver#com.onesignal.UpgradeReceiver&gt;. Apps targeting Android 12 and higher are required to specify an explicit value for `android:exported` when the corresponding component has an intent filter defined. See https://developer.android.com/guide/topics/manifest/activity-element#exported for details. CamScanner.app main manifest (this file), line 105\r\n\r\n\r\n\r\nhere is my androidmanifest code:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    package=&quot;com.scanit.camscanner&quot;&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_WIFI_STATE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.CAMERA&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\r\n    &lt;uses-feature\r\n        android:name=&quot;android.hardware.camera&quot;\r\n        android:required=&quot;true&quot; /&gt;\r\n    &lt;uses-feature\r\n        android:name=&quot;android.hardware.camera.autofocus&quot;\r\n        android:required=&quot;false&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.WAKE_LOCK&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.RECEIVE_BOOT_COMPLETED&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;com.android.vending.BILLING&quot; /&gt;\r\n    &lt;application\r\n        android:name=&quot;com.scanit.camscanner.MyApp&quot;\r\n        android:allowBackup=&quot;true&quot;\r\n        android:debuggable=&quot;true&quot;\r\n        android:hardwareAccelerated=&quot;true&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:largeHeap=&quot;true&quot;\r\n        android:networkSecurityConfig=&quot;@xml/network_security_config&quot;\r\n        android:requestLegacyExternalStorage=&quot;true&quot;\r\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/Theme.CamScanner&quot;\r\n        android:usesCleartextTraffic=&quot;true&quot;\r\n        tools:ignore=&quot;HardcodedDebugMode&quot;&gt;\r\n        &lt;provider\r\n            android:name=&quot;androidx.core.content.FileProvider&quot;\r\n            android:authorities=&quot;${applicationId}.provider&quot;\r\n            android:exported=&quot;false&quot;\r\n            android:grantUriPermissions=&quot;true&quot;\r\n            tools:replace=&quot;android:authorities&quot;&gt;\r\n            &lt;meta-data\r\n                android:name=&quot;android.support.FILE_PROVIDER_PATHS&quot;\r\n                android:resource=&quot;@xml/provider_paths&quot;\r\n                tools:replace=&quot;android:resource&quot;/&gt;\r\n        &lt;/provider&gt;\r\n\r\n        &lt;activity android:name=&quot;com.scanit.camscanner.activity.BaseActivity&quot;/&gt;\r\n        &lt;activity\r\n            android:name=&quot;com.scanit.camscanner.activity.SplashActivity&quot;\r\n            android:screenOrientation=&quot;portrait&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot;/&gt;\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot;/&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n        &lt;activity\r\n            android:name=&quot;com.scanit.camscanner.activity.MainActivity&quot;\r\n            android:screenOrientation=&quot;portrait&quot;\r\n            android:windowSoftInputMode=&quot;adjustPan&quot; /&gt;\r\n        &lt;activity\r\n            android:name=&quot;com.scanit.camscanner.activity.ScannerActivity&quot;\r\n            android:screenOrientation=&quot;portrait&quot;/&gt;\r\n        &lt;activity\r\n            android:name=&quot;com.yalantis.ucrop.UCropActivity&quot;\r\n            android:theme=&quot;@style/uCropStyle&quot;\r\n            android:screenOrientation=&quot;portrait&quot;/&gt;\r\n        &lt;activity\r\n            android:name=&quot;com.scanit.camscanner.activity.IDCardPreviewActivity&quot;\r\n            android:screenOrientation=&quot;portrait&quot;/&gt;\r\n        &lt;activity\r\n            android:name=&quot;com.scanit.camscanner.activity.CropDocumentActivity&quot;\r\n            android:screenOrientation=&quot;portrait&quot;/&gt;\r\n        &lt;activity\r\n            android:name=&quot;com.scanit.camscanner.activity.CurrentFilterActivity&quot;\r\n            android:screenOrientation=&quot;portrait&quot;/&gt;\r\n        &lt;activity\r\n            android:name=&quot;com.scanit.camscanner.activity.SavedDocumentActivity&quot;\r\n            android:screenOrientation=&quot;portrait&quot;/&gt;\r\n        &lt;activity\r\n            android:name=&quot;com.scanit.camscanner.activity.DocumentEditorActivity&quot;\r\n            android:screenOrientation=&quot;portrait&quot;\r\n            android:windowSoftInputMode=&quot;adjustNothing&quot;/&gt;\r\n        &lt;activity\r\n            android:name=&quot;com.scanit.camscanner.activity.SavedEditDocumentActivity&quot;\r\n            android:screenOrientation=&quot;portrait&quot;/&gt;\r\n        &lt;activity\r\n            android:name=&quot;com.scanit.camscanner.activity.SavedDocumentPreviewActivity&quot;\r\n            android:screenOrientation=&quot;portrait&quot;/&gt;\r\n        &lt;activity\r\n            android:name=&quot;com.scanit.camscanner.activity.NoteActivity&quot;\r\n            android:screenOrientation=&quot;portrait&quot;/&gt;\r\n        &lt;activity\r\n            android:name=&quot;com.scanit.camscanner.activity.ImageToTextActivity&quot;\r\n            android:screenOrientation=&quot;portrait&quot;/&gt;\r\n        &lt;activity\r\n            android:name=&quot;com.scanit.camscanner.activity.GroupDocumentActivity&quot;\r\n            android:screenOrientation=&quot;portrait&quot;/&gt;\r\n        &lt;activity\r\n            android:name=&quot;com.scanit.camscanner.activity.PDFViewerActivity&quot;\r\n            android:screenOrientation=&quot;portrait&quot;/&gt;\r\n        &lt;activity\r\n            android:name=&quot;com.scanit.camscanner.activity.QRGenerateActivity&quot;\r\n            android:screenOrientation=&quot;portrait&quot;/&gt;\r\n        &lt;activity\r\n            android:name=&quot;com.scanit.camscanner.activity.QRReaderActivity&quot;\r\n            android:screenOrientation=&quot;portrait&quot;/&gt;\r\n        &lt;activity\r\n            android:name=&quot;com.scanit.camscanner.activity.PrivacyPolicyActivity&quot;\r\n            android:screenOrientation=&quot;portrait&quot;/&gt;\r\n        &lt;meta-data\r\n            android:name=&quot;com.google.android.gms.vision.DEPENDENCIES&quot;\r\n            android:value=&quot;ocr&quot;/&gt;\r\n        &lt;meta-data\r\n            android:name=&quot;com.google.android.gms.ads.APPLICATION_ID&quot;\r\n            android:value=&quot;@string/admob_app_id&quot;/&gt;\r\n    &lt;/application&gt;\r\n&lt;/manifest&gt;\r\n```\r\n","title":"You uploaded an APK or Android App Bundle without the &#39;android:exported&#39; property set","body":"<p>just having a freakout moment while upgrading my app from android api 30 to 33, when i upload it on play console i am getting the error which says</p>\n<blockquote>\n<p>You uploaded an APK or Android App Bundle without the 'android:exported' property set.</p>\n</blockquote>\n<p>even when i have set the 'android:exported' property. but it still shows the same error.</p>\n<p>Merge Errors</p>\n<blockquote>\n<p>Error: android:exported needs to be explicitly specified for element &lt;activity#com.onesignal.NotificationOpenedActivityHMS&gt;. Apps targeting Android 12 and higher are required to specify an explicit value for <code>android:exported</code> when the corresponding component has an intent filter defined. See <a href=\"https://developer.android.com/guide/topics/manifest/activity-element#exported\" rel=\"nofollow noreferrer\">https://developer.android.com/guide/topics/manifest/activity-element#exported</a> for details. CamScanner.app main manifest (this file), line 68 Error: android:exported needs to be explicitly specified for element &lt;receiver#com.onesignal.FCMBroadcastReceiver&gt;. Apps targeting Android 12 and higher are required to specify an explicit value for <code>android:exported</code> when the corresponding component has an intent filter defined. See <a href=\"https://developer.android.com/guide/topics/manifest/activity-element#exported\" rel=\"nofollow noreferrer\">https://developer.android.com/guide/topics/manifest/activity-element#exported</a> for details. CamScanner.app main manifest (this file), line 48 Error: android:exported needs to be explicitly specified for element &lt;receiver#com.onesignal.BootUpReceiver&gt;. Apps targeting Android 12 and higher are required to specify an explicit value for <code>android:exported</code> when the corresponding component has an intent filter defined. See <a href=\"https://developer.android.com/guide/topics/manifest/activity-element#exported\" rel=\"nofollow noreferrer\">https://developer.android.com/guide/topics/manifest/activity-element#exported</a> for details. CamScanner.app main manifest (this file), line 99 Error: android:exported needs to be explicitly specified for element &lt;receiver#com.onesignal.UpgradeReceiver&gt;. Apps targeting Android 12 and higher are required to specify an explicit value for <code>android:exported</code> when the corresponding component has an intent filter defined. See <a href=\"https://developer.android.com/guide/topics/manifest/activity-element#exported\" rel=\"nofollow noreferrer\">https://developer.android.com/guide/topics/manifest/activity-element#exported</a> for details. CamScanner.app main manifest (this file), line 105</p>\n</blockquote>\n<p>here is my androidmanifest code:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    package=&quot;com.scanit.camscanner&quot;&gt;\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_WIFI_STATE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.CAMERA&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\n    &lt;uses-feature\n        android:name=&quot;android.hardware.camera&quot;\n        android:required=&quot;true&quot; /&gt;\n    &lt;uses-feature\n        android:name=&quot;android.hardware.camera.autofocus&quot;\n        android:required=&quot;false&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.WAKE_LOCK&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.RECEIVE_BOOT_COMPLETED&quot; /&gt;\n    &lt;uses-permission android:name=&quot;com.android.vending.BILLING&quot; /&gt;\n    &lt;application\n        android:name=&quot;com.scanit.camscanner.MyApp&quot;\n        android:allowBackup=&quot;true&quot;\n        android:debuggable=&quot;true&quot;\n        android:hardwareAccelerated=&quot;true&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:largeHeap=&quot;true&quot;\n        android:networkSecurityConfig=&quot;@xml/network_security_config&quot;\n        android:requestLegacyExternalStorage=&quot;true&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/Theme.CamScanner&quot;\n        android:usesCleartextTraffic=&quot;true&quot;\n        tools:ignore=&quot;HardcodedDebugMode&quot;&gt;\n        &lt;provider\n            android:name=&quot;androidx.core.content.FileProvider&quot;\n            android:authorities=&quot;${applicationId}.provider&quot;\n            android:exported=&quot;false&quot;\n            android:grantUriPermissions=&quot;true&quot;\n            tools:replace=&quot;android:authorities&quot;&gt;\n            &lt;meta-data\n                android:name=&quot;android.support.FILE_PROVIDER_PATHS&quot;\n                android:resource=&quot;@xml/provider_paths&quot;\n                tools:replace=&quot;android:resource&quot;/&gt;\n        &lt;/provider&gt;\n\n        &lt;activity android:name=&quot;com.scanit.camscanner.activity.BaseActivity&quot;/&gt;\n        &lt;activity\n            android:name=&quot;com.scanit.camscanner.activity.SplashActivity&quot;\n            android:screenOrientation=&quot;portrait&quot;\n            android:exported=&quot;true&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot;/&gt;\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot;/&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n        &lt;activity\n            android:name=&quot;com.scanit.camscanner.activity.MainActivity&quot;\n            android:screenOrientation=&quot;portrait&quot;\n            android:windowSoftInputMode=&quot;adjustPan&quot; /&gt;\n        &lt;activity\n            android:name=&quot;com.scanit.camscanner.activity.ScannerActivity&quot;\n            android:screenOrientation=&quot;portrait&quot;/&gt;\n        &lt;activity\n            android:name=&quot;com.yalantis.ucrop.UCropActivity&quot;\n            android:theme=&quot;@style/uCropStyle&quot;\n            android:screenOrientation=&quot;portrait&quot;/&gt;\n        &lt;activity\n            android:name=&quot;com.scanit.camscanner.activity.IDCardPreviewActivity&quot;\n            android:screenOrientation=&quot;portrait&quot;/&gt;\n        &lt;activity\n            android:name=&quot;com.scanit.camscanner.activity.CropDocumentActivity&quot;\n            android:screenOrientation=&quot;portrait&quot;/&gt;\n        &lt;activity\n            android:name=&quot;com.scanit.camscanner.activity.CurrentFilterActivity&quot;\n            android:screenOrientation=&quot;portrait&quot;/&gt;\n        &lt;activity\n            android:name=&quot;com.scanit.camscanner.activity.SavedDocumentActivity&quot;\n            android:screenOrientation=&quot;portrait&quot;/&gt;\n        &lt;activity\n            android:name=&quot;com.scanit.camscanner.activity.DocumentEditorActivity&quot;\n            android:screenOrientation=&quot;portrait&quot;\n            android:windowSoftInputMode=&quot;adjustNothing&quot;/&gt;\n        &lt;activity\n            android:name=&quot;com.scanit.camscanner.activity.SavedEditDocumentActivity&quot;\n            android:screenOrientation=&quot;portrait&quot;/&gt;\n        &lt;activity\n            android:name=&quot;com.scanit.camscanner.activity.SavedDocumentPreviewActivity&quot;\n            android:screenOrientation=&quot;portrait&quot;/&gt;\n        &lt;activity\n            android:name=&quot;com.scanit.camscanner.activity.NoteActivity&quot;\n            android:screenOrientation=&quot;portrait&quot;/&gt;\n        &lt;activity\n            android:name=&quot;com.scanit.camscanner.activity.ImageToTextActivity&quot;\n            android:screenOrientation=&quot;portrait&quot;/&gt;\n        &lt;activity\n            android:name=&quot;com.scanit.camscanner.activity.GroupDocumentActivity&quot;\n            android:screenOrientation=&quot;portrait&quot;/&gt;\n        &lt;activity\n            android:name=&quot;com.scanit.camscanner.activity.PDFViewerActivity&quot;\n            android:screenOrientation=&quot;portrait&quot;/&gt;\n        &lt;activity\n            android:name=&quot;com.scanit.camscanner.activity.QRGenerateActivity&quot;\n            android:screenOrientation=&quot;portrait&quot;/&gt;\n        &lt;activity\n            android:name=&quot;com.scanit.camscanner.activity.QRReaderActivity&quot;\n            android:screenOrientation=&quot;portrait&quot;/&gt;\n        &lt;activity\n            android:name=&quot;com.scanit.camscanner.activity.PrivacyPolicyActivity&quot;\n            android:screenOrientation=&quot;portrait&quot;/&gt;\n        &lt;meta-data\n            android:name=&quot;com.google.android.gms.vision.DEPENDENCIES&quot;\n            android:value=&quot;ocr&quot;/&gt;\n        &lt;meta-data\n            android:name=&quot;com.google.android.gms.ads.APPLICATION_ID&quot;\n            android:value=&quot;@string/admob_app_id&quot;/&gt;\n    &lt;/application&gt;\n&lt;/manifest&gt;\n</code></pre>\n"},{"tags":["java","kafka-consumer-api","spring-kafka"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1683508411,"post_id":76193692,"comment_id":134372917,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":1288095,"reputation":169316,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1683553534,"post_id":76193692,"comment_id":134380049,"body_markdown":"What kind of a delay did you expect? 200ms is not surprising - the message has to go over the network, get replicated to other broker nodes and then go over the network again.","body":"What kind of a delay did you expect? 200ms is not surprising - the message has to go over the network, get replicated to other broker nodes and then go over the network again."},{"owner":{"account_id":28195229,"reputation":29,"user_id":21549985,"display_name":"Barun"},"score":0,"creation_date":1683558887,"post_id":76193692,"comment_id":134381234,"body_markdown":"@GaryRussell  Actually our requirement is to process each message within 100 ms.Our processing is done within 50 ms but the time taken to reach the message once it gets posted by kafka producer to the topic to reach our consumer is 200ms.So total time of execution is 250ms.","body":"@GaryRussell  Actually our requirement is to process each message within 100 ms.Our processing is done within 50 ms but the time taken to reach the message once it gets posted by kafka producer to the topic to reach our consumer is 200ms.So total time of execution is 250ms."},{"owner":{"account_id":1288095,"reputation":169316,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1683559559,"post_id":76193692,"comment_id":134381404,"body_markdown":"As I said, 200ms is not surprising; your requirements seem to be too intense for this technology.","body":"As I said, 200ms is not surprising; your requirements seem to be too intense for this technology."},{"owner":{"account_id":28195229,"reputation":29,"user_id":21549985,"display_name":"Barun"},"score":0,"creation_date":1683565892,"post_id":76193692,"comment_id":134382801,"body_markdown":"Thanks @GaryRussell understood.this was the answer I was expecting if it is possible using kafka or not","body":"Thanks @GaryRussell understood.this was the answer I was expecting if it is possible using kafka or not"}],"owner":{"account_id":28195229,"reputation":29,"user_id":21549985,"display_name":"Barun"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1683460112,"creation_date":1683459568,"question_id":76193692,"body_markdown":"I am using Spring Kafka.When I post a single message to kafka topic I can see that it is consumed by the consumer with atleast 200ms delay.\r\n\r\nI am using default producer properties .Below is my consumer properties.\r\nConsumer properties:\r\n\r\nrequest timeout ms 30 seconds\r\n\r\nheartbeat interval ms 3 seconds\r\n\r\nmax poll interval ms 5 minutes\r\n\r\nmax poll records 200\r\n\r\nsession timeout ms 45 seconds\r\n\r\n\r\nI tried changing the properties of consumer like max.poll.interval.ms and max.poll.recors but nothing helped.Below is consumer code.\r\n\r\n\r\n\r\n    @KafkaListener(groupid = AlertsKafkaConfig.GROUP_ID_JSON, topics = TopicNameConstants.Webhook_doc_process_topic_name, containerFacotry = KafkaTopicConstans.WEBHOOK_PROCESS_TOPIC_CONF)\r\n    Public void receiveProcessPricessingMessage(@Payload String kafkajsonstring, @Header(KafkaHeaders RECEIVED_TIMESTAMP) String timestamp, @Header(KafkaHeaders.OFFSET) String offset) throws JsonProcessingException {\r\n\r\n        try {\r\n\r\n            WebhookProcessingCommand eventprocessingcommand = gson.fromJson(kafkajsonstring, WebhookProcessingCommand.class);\r\n\r\n            eventprocessinghandler.processEvent(eventprocessingcommand);\r\n\r\n        } catch (Exception e) {\r\n\r\n            LOGGER.error(ExceptionUtils.fullStackTrace(e));\r\n\r\n        }\r\n\r\n    }\r\n","title":"Kafka Message reach consumer with atleast 200ms delay","body":"<p>I am using Spring Kafka.When I post a single message to kafka topic I can see that it is consumed by the consumer with atleast 200ms delay.</p>\n<p>I am using default producer properties .Below is my consumer properties.\nConsumer properties:</p>\n<p>request timeout ms 30 seconds</p>\n<p>heartbeat interval ms 3 seconds</p>\n<p>max poll interval ms 5 minutes</p>\n<p>max poll records 200</p>\n<p>session timeout ms 45 seconds</p>\n<p>I tried changing the properties of consumer like max.poll.interval.ms and max.poll.recors but nothing helped.Below is consumer code.</p>\n<pre><code>@KafkaListener(groupid = AlertsKafkaConfig.GROUP_ID_JSON, topics = TopicNameConstants.Webhook_doc_process_topic_name, containerFacotry = KafkaTopicConstans.WEBHOOK_PROCESS_TOPIC_CONF)\nPublic void receiveProcessPricessingMessage(@Payload String kafkajsonstring, @Header(KafkaHeaders RECEIVED_TIMESTAMP) String timestamp, @Header(KafkaHeaders.OFFSET) String offset) throws JsonProcessingException {\n\n    try {\n\n        WebhookProcessingCommand eventprocessingcommand = gson.fromJson(kafkajsonstring, WebhookProcessingCommand.class);\n\n        eventprocessinghandler.processEvent(eventprocessingcommand);\n\n    } catch (Exception e) {\n\n        LOGGER.error(ExceptionUtils.fullStackTrace(e));\n\n    }\n\n}\n</code></pre>\n"},{"tags":["java","postgresql"],"comments":[{"owner":{"display_name":"user330315"},"score":1,"creation_date":1557148477,"post_id":56005996,"comment_id":98657486,"body_markdown":"A `jsonb` column?","body":"A <code>jsonb</code> column?"},{"owner":{"account_id":5139018,"reputation":2668,"user_id":4116960,"accept_rate":62,"display_name":"Usr"},"score":1,"creation_date":1557148712,"post_id":56005996,"comment_id":98657635,"body_markdown":"@a_horse_with_no_name and to save data to db I simply convert HashMap to Json format and then save the json to the jsonb column? Like `myEntity.setHashMap(json)` and then `service.save(myEntity)` ?","body":"@a_horse_with_no_name and to save data to db I simply convert HashMap to Json format and then save the json to the jsonb column? Like <code>myEntity.setHashMap(json)</code> and then <code>service.save(myEntity)</code> ?"},{"owner":{"account_id":1726806,"reputation":13951,"user_id":4790924,"accept_rate":67,"display_name":"Sharon Ben Asher"},"score":1,"creation_date":1557148953,"post_id":56005996,"comment_id":98657774,"body_markdown":"you can use hstore https://vladmihalcea.com/map-postgresql-hstore-jpa-entity-property-hibernate/","body":"you can use hstore <a href=\"https://vladmihalcea.com/map-postgresql-hstore-jpa-entity-property-hibernate/\" rel=\"nofollow noreferrer\">vladmihalcea.com/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":27123034,"reputation":1993,"user_id":20666497,"display_name":"Albina"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683459664,"creation_date":1683459664,"answer_id":76193703,"question_id":56005996,"body_markdown":"I know this is an old question, but maybe it can help someone.\r\n\r\nAs mentioned in the comments, one way is to use `jsonb` PostgreSQL type, as its structure reminds of key-value pairs.\r\n\r\nSuppose, there is a `Map&lt;String, String&gt; map = new HashMap&lt;&gt;();`&lt;br&gt;\r\n\r\n1. _Save jsonb value to PostgreSQL table_&lt;br&gt;\r\nIt is possible to use an `ObjectMapper` instance to convert Java objects into JSON strings:\r\n```\r\nObjectMapper mapper = new ObjectMapper();\r\ntry {\r\n   String mapAsJson = mapper.writeValueAsString(map);\r\n   // then insert &#39;mapAsJson&#39; to a jsonb-column\r\n} catch (Exception ex) {\r\n   ...\r\n}\r\n```\r\n\r\n2. _Read jsonb value from PostgreSQL table_&lt;br&gt;\r\nAgain, we can use an instance of `ObjectMapper` to convert jsonb column to a Java object while we are reading from the table. This code can be used directly in a repository class:\r\n```\r\nString someJsonb = &quot;{\\&quot;A\\&quot;:\\&quot;Tom\\&quot;, \\&quot;B\\&quot;:\\&quot;Bella\\&quot;, \\&quot;C\\&quot;:\\&quot;Maria\\&quot;}&quot;;\r\ntry {\r\n   Map&lt;String, String&gt; parsedMapData = mapper.readValue(someJsonb, Map.class);\r\n} catch (Exception ex) {\r\n   ...\r\n}\r\n```","title":"PostgreSQL save Java Map as whole","body":"<p>I know this is an old question, but maybe it can help someone.</p>\n<p>As mentioned in the comments, one way is to use <code>jsonb</code> PostgreSQL type, as its structure reminds of key-value pairs.</p>\n<p>Suppose, there is a <code>Map&lt;String, String&gt; map = new HashMap&lt;&gt;();</code><br></p>\n<ol>\n<li><em>Save jsonb value to PostgreSQL table</em><br>\nIt is possible to use an <code>ObjectMapper</code> instance to convert Java objects into JSON strings:</li>\n</ol>\n<pre><code>ObjectMapper mapper = new ObjectMapper();\ntry {\n   String mapAsJson = mapper.writeValueAsString(map);\n   // then insert 'mapAsJson' to a jsonb-column\n} catch (Exception ex) {\n   ...\n}\n</code></pre>\n<ol start=\"2\">\n<li><em>Read jsonb value from PostgreSQL table</em><br>\nAgain, we can use an instance of <code>ObjectMapper</code> to convert jsonb column to a Java object while we are reading from the table. This code can be used directly in a repository class:</li>\n</ol>\n<pre><code>String someJsonb = &quot;{\\&quot;A\\&quot;:\\&quot;Tom\\&quot;, \\&quot;B\\&quot;:\\&quot;Bella\\&quot;, \\&quot;C\\&quot;:\\&quot;Maria\\&quot;}&quot;;\ntry {\n   Map&lt;String, String&gt; parsedMapData = mapper.readValue(someJsonb, Map.class);\n} catch (Exception ex) {\n   ...\n}\n</code></pre>\n"}],"owner":{"account_id":5139018,"reputation":2668,"user_id":4116960,"accept_rate":62,"display_name":"Usr"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2221,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1683459664,"creation_date":1557148373,"question_id":56005996,"body_markdown":"I have an Entity in Spring Boot where one of its fields is an `HashMap`. I saw [this question][1] but I can&#39;t use this solution, I can&#39;t have an entry for each key-value couple.       \r\nI need to have a table with a column named `id`, another one named `name`, etc... and at the same way a column with my `Map` object. Is there a way do to this?    \r\nThe only solution I came up with is to convert the map in a key-value string, and then read it back to Map, but I was wondering if there&#39;s a better and more compact way to save the map as a particular type of column data in the DB.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/5776331/storing-a-hashmap-in-an-sql-database","title":"PostgreSQL save Java Map as whole","body":"<p>I have an Entity in Spring Boot where one of its fields is an <code>HashMap</code>. I saw <a href=\"https://stackoverflow.com/questions/5776331/storing-a-hashmap-in-an-sql-database\">this question</a> but I can't use this solution, I can't have an entry for each key-value couple.<br>\nI need to have a table with a column named <code>id</code>, another one named <code>name</code>, etc... and at the same way a column with my <code>Map</code> object. Is there a way do to this?<br>\nThe only solution I came up with is to convert the map in a key-value string, and then read it back to Map, but I was wondering if there's a better and more compact way to save the map as a particular type of column data in the DB.</p>\n"},{"tags":["java","api","parameters","jmeter","jmeter-5.0"],"answers":[{"tags":[],"owner":{"account_id":3460456,"reputation":162728,"user_id":2897748,"display_name":"Dmitri T"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1683459484,"creation_date":1683459484,"answer_id":76193686,"question_id":76184448,"body_markdown":"If you want each occurrence of the Sampler to use one of the animals as a parameter without using external files you can do it as:\r\n\r\n 1. Define these animals as JMeter Variables via [User Defined Variables][1] configuration element\r\n\r\n    [![enter image description here][2]][2]\r\n 2. Wherever you want to refer the value use [__RandomFromMultipleVars() function][3] like:\r\n\r\n        ${__RandomFromMultipleVars(value)}\r\n\r\nDemo:\r\n\r\n[![enter image description here][4]][4]\r\n\r\n\r\n  [1]: https://guide.blazemeter.com/hc/en-us/articles/207421395-Using-User-Defined-Variables\r\n  [2]: https://i.stack.imgur.com/qaId3.png\r\n  [3]: https://jmeter.apache.org/usermanual/functions.html#__RandomFromMultipleVars\r\n  [4]: https://i.stack.imgur.com/PCxrs.png","title":"Jmeter store multiple value on single parameter without using Excel file","body":"<p>If you want each occurrence of the Sampler to use one of the animals as a parameter without using external files you can do it as:</p>\n<ol>\n<li><p>Define these animals as JMeter Variables via <a href=\"https://guide.blazemeter.com/hc/en-us/articles/207421395-Using-User-Defined-Variables\" rel=\"nofollow noreferrer\">User Defined Variables</a> configuration element</p>\n<p><a href=\"https://i.stack.imgur.com/qaId3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qaId3.png\" alt=\"enter image description here\" /></a></p>\n</li>\n<li><p>Wherever you want to refer the value use <a href=\"https://jmeter.apache.org/usermanual/functions.html#__RandomFromMultipleVars\" rel=\"nofollow noreferrer\">__RandomFromMultipleVars() function</a> like:</p>\n<pre><code>${__RandomFromMultipleVars(value)}\n</code></pre>\n</li>\n</ol>\n<p>Demo:</p>\n<p><a href=\"https://i.stack.imgur.com/PCxrs.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PCxrs.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":26449163,"reputation":125,"user_id":20092606,"display_name":"Harris"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1683570622,"accepted_answer_id":76193686,"answer_count":1,"score":0,"last_activity_date":1683459484,"creation_date":1683305848,"question_id":76184448,"body_markdown":"Hello everyone is this possible that I will store multiple values on a single parameter. Each call  will alter to Dog, Cat and Rabbit without using excel file. Your response is appreciated. Thank you so much \r\n\r\nExample:\r\n\r\n\r\n\r\nTEST-Dog\r\n\r\nTEST-Cat\r\n\r\nTEST-Rabbit\r\n\r\nExpected Result: test parameter will generate account defined values","title":"Jmeter store multiple value on single parameter without using Excel file","body":"<p>Hello everyone is this possible that I will store multiple values on a single parameter. Each call  will alter to Dog, Cat and Rabbit without using excel file. Your response is appreciated. Thank you so much</p>\n<p>Example:</p>\n<p>TEST-Dog</p>\n<p>TEST-Cat</p>\n<p>TEST-Rabbit</p>\n<p>Expected Result: test parameter will generate account defined values</p>\n"},{"tags":["java","android","fonts","toolbar","title"],"answers":[{"tags":[],"owner":{"account_id":2791034,"reputation":3873,"user_id":2401265,"accept_rate":56,"display_name":"gmetax"},"down_vote_count":2,"up_vote_count":67,"is_accepted":true,"score":65,"last_activity_date":1532948262,"creation_date":1441369825,"answer_id":32398137,"question_id":32398104,"body_markdown":"**Update 2018 (kotlin version)**\r\n\r\n    fun Toolbar.changeToolbarFont(){\r\n        for (i in 0 until childCount) {\r\n            val view = getChildAt(i)\r\n            if (view is TextView &amp;&amp; view.text == title) {\r\n                view.typeface = Typeface.createFromAsset(view.context.assets, &quot;fonts/customFont&quot;)\r\n                break\r\n            }\r\n        }\r\n    }\r\n\r\nand use it like that `toolBar.changeToolbarFont()`\r\n\r\n\r\n**old-post**\r\n\r\nTo use a custom title in your Toolbar all you need to do is remember is that Toolbar is just a fancy ViewGroup so you can add a custom title like so:\r\n\r\n    &lt;android.support.v7.widget.Toolbar\r\n        android:id=&quot;@+id/toolbar_top&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:minHeight=&quot;?attr/actionBarSize&quot;\r\n        android:background=&quot;@color/action_bar_bkgnd&quot;\r\n        app:theme=&quot;@style/ToolBarTheme&quot; &gt;\r\n    \r\n    \r\n         &lt;TextView\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;Toolbar Title&quot;\r\n            android:layout_gravity=&quot;center&quot;\r\n            android:id=&quot;@+id/toolbar_title&quot; /&gt;\r\n    \r\n    \r\n        &lt;/android.support.v7.widget.Toolbar&gt;\r\n\r\nThis means that you can style the TextView however you would like because it&#39;s just a regular TextView. So in your activity you can access the title like so:\r\n\r\n    Toolbar toolbarTop = (Toolbar) findViewById(R.id.toolbar_top);\r\n    TextView mTitle = (TextView) toolbarTop.findViewById(R.id.toolbar_title);\r\n\r\nAnd then: \r\n\r\n    Typeface khandBold = Typeface.createFromAsset(BalrogApplication.getApplication().getAssets(), &quot;fonts/Khand-bold.ttf&quot;);\r\n\r\n    mTitle.setTypeface(khandBold);\r\n\r\n\r\n**UPDATE** \r\ndynamically version\r\n\r\n    public static void changeToolbarFont(Toolbar toolbar, Activity context) {\r\n        for (int i = 0; i &lt; toolbar.getChildCount(); i++) {\r\n            View view = toolbar.getChildAt(i);\r\n            if (view instanceof TextView) {\r\n                TextView tv = (TextView) view;\r\n                if (tv.getText().equals(toolbar.getTitle())) {\r\n                    applyFont(tv, context);\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    public static void applyFont(TextView tv, Activity context) {\r\n        tv.setTypeface(Typeface.createFromAsset(context.getAssets(), &quot;fonts/customFont&quot;));\r\n    }\r\n\r\nand use it like that\r\n\r\n    changeToolbarFont(findViewById(R.id.app_bar), this);\r\n","title":"How to set a custom font to the title in toolbar android","body":"<p><strong>Update 2018 (kotlin version)</strong></p>\n\n<pre><code>fun Toolbar.changeToolbarFont(){\n    for (i in 0 until childCount) {\n        val view = getChildAt(i)\n        if (view is TextView &amp;&amp; view.text == title) {\n            view.typeface = Typeface.createFromAsset(view.context.assets, \"fonts/customFont\")\n            break\n        }\n    }\n}\n</code></pre>\n\n<p>and use it like that <code>toolBar.changeToolbarFont()</code></p>\n\n<p><strong>old-post</strong></p>\n\n<p>To use a custom title in your Toolbar all you need to do is remember is that Toolbar is just a fancy ViewGroup so you can add a custom title like so:</p>\n\n<pre><code>&lt;android.support.v7.widget.Toolbar\n    android:id=\"@+id/toolbar_top\"\n    android:layout_height=\"wrap_content\"\n    android:layout_width=\"match_parent\"\n    android:minHeight=\"?attr/actionBarSize\"\n    android:background=\"@color/action_bar_bkgnd\"\n    app:theme=\"@style/ToolBarTheme\" &gt;\n\n\n     &lt;TextView\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:text=\"Toolbar Title\"\n        android:layout_gravity=\"center\"\n        android:id=\"@+id/toolbar_title\" /&gt;\n\n\n    &lt;/android.support.v7.widget.Toolbar&gt;\n</code></pre>\n\n<p>This means that you can style the TextView however you would like because it's just a regular TextView. So in your activity you can access the title like so:</p>\n\n<pre><code>Toolbar toolbarTop = (Toolbar) findViewById(R.id.toolbar_top);\nTextView mTitle = (TextView) toolbarTop.findViewById(R.id.toolbar_title);\n</code></pre>\n\n<p>And then: </p>\n\n<pre><code>Typeface khandBold = Typeface.createFromAsset(BalrogApplication.getApplication().getAssets(), \"fonts/Khand-bold.ttf\");\n\nmTitle.setTypeface(khandBold);\n</code></pre>\n\n<p><strong>UPDATE</strong> \ndynamically version</p>\n\n<pre><code>public static void changeToolbarFont(Toolbar toolbar, Activity context) {\n    for (int i = 0; i &lt; toolbar.getChildCount(); i++) {\n        View view = toolbar.getChildAt(i);\n        if (view instanceof TextView) {\n            TextView tv = (TextView) view;\n            if (tv.getText().equals(toolbar.getTitle())) {\n                applyFont(tv, context);\n                break;\n            }\n        }\n    }\n}\n\npublic static void applyFont(TextView tv, Activity context) {\n    tv.setTypeface(Typeface.createFromAsset(context.getAssets(), \"fonts/customFont\"));\n}\n</code></pre>\n\n<p>and use it like that</p>\n\n<pre><code>changeToolbarFont(findViewById(R.id.app_bar), this);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1107006,"reputation":4327,"user_id":1098218,"accept_rate":53,"display_name":"Amarjit"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1441546011,"creation_date":1441370583,"answer_id":32398397,"question_id":32398104,"body_markdown":"  You can use this simple method to set custom font to toolbar title.\r\n\r\n          \r\n     Toolbar   toolbar = (Toolbar) findViewById(com.sports.unity.R.id.tool_bar);\r\n            TextView tv = getToolBarTextView();\r\n            tv.settext(&quot;Hello&quot;);\r\n\r\n    private TextView getToolBarTextView() {\r\n            TextView titleTextView = null;\r\n        \r\n            try {\r\n                Field f = mToolBar.getClass().getDeclaredField(&quot;mTitleTextView&quot;);\r\n                f.setAccessible(true);\r\n                titleTextView = (TextView) f.get(mToolBar);\r\n        \r\n         Typeface font = Typeface.createFromAsset(getApplicationContext().getAssets(),&quot;fonts/mfont.ttf&quot;);\r\n        titleTextView.setTypeface(font);\r\n        \r\n            } catch (NoSuchFieldException e) {\r\n            } catch (IllegalAccessException e) {\r\n            }\r\n            return titleTextView;\r\n        }\r\n","title":"How to set a custom font to the title in toolbar android","body":"<p>You can use this simple method to set custom font to toolbar title.</p>\n\n<pre><code> Toolbar   toolbar = (Toolbar) findViewById(com.sports.unity.R.id.tool_bar);\n        TextView tv = getToolBarTextView();\n        tv.settext(\"Hello\");\n\nprivate TextView getToolBarTextView() {\n        TextView titleTextView = null;\n\n        try {\n            Field f = mToolBar.getClass().getDeclaredField(\"mTitleTextView\");\n            f.setAccessible(true);\n            titleTextView = (TextView) f.get(mToolBar);\n\n     Typeface font = Typeface.createFromAsset(getApplicationContext().getAssets(),\"fonts/mfont.ttf\");\n    titleTextView.setTypeface(font);\n\n        } catch (NoSuchFieldException e) {\n        } catch (IllegalAccessException e) {\n        }\n        return titleTextView;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4920519,"reputation":563,"user_id":3963197,"display_name":"farukcankaya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1452678543,"creation_date":1452678543,"answer_id":34763303,"question_id":32398104,"body_markdown":"Thank you @gmetax, it&#39;s a good point. It&#39;s bad to access textview for each activity. We have to write code below for each activity:\r\n\r\n    TextView mTitle = (TextView) toolbarTop.findViewById(R.id.toolbar_title);\r\n\r\nWe&#39;ve already bind toolbar and we&#39;ve use toolbar.setTitle(). So, I extend Toolbar and override setTitle method like this:\r\n\r\n    @Override\r\n    public void setTitle(CharSequence title) {\r\n        super.setTitle(&quot;&quot;);\r\n        mTitle = (TextView) findViewById(R.id.toolbar_title);\r\n        if (mTitle != null) {\r\n            if (!TextUtils.isEmpty(title)) {\r\n                mTitle.setText(title);\r\n            }\r\n        }\r\n    }\r\n(Of course, custom font should be setted in CustomTextView class.setTypeface)\r\nNow, we can use just like this:\r\n\r\n    toolbar.setTitle(&quot;bla bla&quot;);","title":"How to set a custom font to the title in toolbar android","body":"<p>Thank you @gmetax, it's a good point. It's bad to access textview for each activity. We have to write code below for each activity:</p>\n\n<pre><code>TextView mTitle = (TextView) toolbarTop.findViewById(R.id.toolbar_title);\n</code></pre>\n\n<p>We've already bind toolbar and we've use toolbar.setTitle(). So, I extend Toolbar and override setTitle method like this:</p>\n\n<pre><code>@Override\npublic void setTitle(CharSequence title) {\n    super.setTitle(\"\");\n    mTitle = (TextView) findViewById(R.id.toolbar_title);\n    if (mTitle != null) {\n        if (!TextUtils.isEmpty(title)) {\n            mTitle.setText(title);\n        }\n    }\n}\n</code></pre>\n\n<p>(Of course, custom font should be setted in CustomTextView class.setTypeface)\nNow, we can use just like this:</p>\n\n<pre><code>toolbar.setTitle(\"bla bla\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3856008,"reputation":6013,"user_id":3194929,"accept_rate":80,"display_name":"afathman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1455223406,"creation_date":1455223406,"answer_id":35349655,"question_id":32398104,"body_markdown":"I still wanted to use the Toolbars title methods, so adding in the custom TextView inside of the Toolbar xml element didn&#39;t work for me. Instead, I used the following method to find the TextView:\r\n\r\n    public static void applyFontForToolbarTitle(Activity context){\r\n        Toolbar toolbar = (Toolbar) context.findViewById(R.id.app_bar);\r\n        for(int i = 0; i &lt; toolbar.getChildCount(); i++){\r\n            View view = toolbar.getChildAt(i);\r\n            if(view instanceof TextView){\r\n                TextView tv = (TextView) view;\r\n                Typeface titleFont = Typeface.\r\n                   createFromAsset(context.getAssets(), &quot;fonts/customFont&quot;);\r\n                if(tv.getText().equals(context.getTitle())){\r\n                    tv.setTypeface(titleFont);\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n    }","title":"How to set a custom font to the title in toolbar android","body":"<p>I still wanted to use the Toolbars title methods, so adding in the custom TextView inside of the Toolbar xml element didn't work for me. Instead, I used the following method to find the TextView:</p>\n\n<pre><code>public static void applyFontForToolbarTitle(Activity context){\n    Toolbar toolbar = (Toolbar) context.findViewById(R.id.app_bar);\n    for(int i = 0; i &lt; toolbar.getChildCount(); i++){\n        View view = toolbar.getChildAt(i);\n        if(view instanceof TextView){\n            TextView tv = (TextView) view;\n            Typeface titleFont = Typeface.\n               createFromAsset(context.getAssets(), \"fonts/customFont\");\n            if(tv.getText().equals(context.getTitle())){\n                tv.setTypeface(titleFont);\n                break;\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3856008,"reputation":6013,"user_id":3194929,"accept_rate":80,"display_name":"afathman"},"down_vote_count":1,"up_vote_count":38,"is_accepted":false,"score":37,"last_activity_date":1484859092,"creation_date":1455223603,"answer_id":35349713,"question_id":32398104,"body_markdown":"I still wanted to use the Toolbars title methods (nor did I want to have a custom Toolbar class), so adding in the custom TextView inside of the Toolbar xml element didn&#39;t work for me. Instead, I used the following method to find the TextView:\r\n\r\n    public static void applyFontForToolbarTitle(Activity context){\r\n        Toolbar toolbar = (Toolbar) context.findViewById(R.id.app_bar);\r\n        for(int i = 0; i &lt; toolbar.getChildCount(); i++){\r\n            View view = toolbar.getChildAt(i);\r\n            if(view instanceof TextView){\r\n                TextView tv = (TextView) view;\r\n                Typeface titleFont = Typeface.\r\n                   createFromAsset(context.getAssets(), &quot;fonts/customFont&quot;);\r\n                if(tv.getText().equals(toolbar.getTitle())){\r\n                    tv.setTypeface(titleFont);\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n    }","title":"How to set a custom font to the title in toolbar android","body":"<p>I still wanted to use the Toolbars title methods (nor did I want to have a custom Toolbar class), so adding in the custom TextView inside of the Toolbar xml element didn't work for me. Instead, I used the following method to find the TextView:</p>\n\n<pre><code>public static void applyFontForToolbarTitle(Activity context){\n    Toolbar toolbar = (Toolbar) context.findViewById(R.id.app_bar);\n    for(int i = 0; i &lt; toolbar.getChildCount(); i++){\n        View view = toolbar.getChildAt(i);\n        if(view instanceof TextView){\n            TextView tv = (TextView) view;\n            Typeface titleFont = Typeface.\n               createFromAsset(context.getAssets(), \"fonts/customFont\");\n            if(tv.getText().equals(toolbar.getTitle())){\n                tv.setTypeface(titleFont);\n                break;\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8501144,"reputation":61,"user_id":6374057,"display_name":"arushe"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1467288539,"creation_date":1467288539,"answer_id":38122684,"question_id":32398104,"body_markdown":"1. Placement of Fonts:\r\n- Firstly, download a .ttf file. My file is Balker.ttf\r\n- make sure that you have got an &quot;assets&quot; folder. If there is none, right click over app go to New&gt;Folder&gt;assets Folder\r\n- In assets folder, create a new folder and name it &#39;font&#39;\r\n- Put your file, as I did with Balker.ttf, into the &#39;font&#39; folder.\r\n\r\n2. Go to the java file of the activity whose font you have to customize. I customized mainActivity here.\r\n\r\n         for(int i = 0; i &lt; toolbar.getChildCount(); i++)     \r\n         { View view = toolbar.getChildAt(i);\r\n\r\n            if(view instanceof TextView) {\r\n                TextView textView = (TextView) view;\r\n   \r\n                Typeface myCustomFont=Typeface.createFromAsset(getAssets(),&quot;font/Balker.ttf&quot;);\r\n                textView.setTypeface(myCustomFont); }\r\n\r\n            \r\n         }\r\n\r\n\r\n\r\n","title":"How to set a custom font to the title in toolbar android","body":"<ol>\n<li><p>Placement of Fonts:</p>\n\n<ul>\n<li>Firstly, download a .ttf file. My file is Balker.ttf</li>\n<li>make sure that you have got an \"assets\" folder. If there is none, right click over app go to New>Folder>assets Folder</li>\n<li>In assets folder, create a new folder and name it 'font'</li>\n<li>Put your file, as I did with Balker.ttf, into the 'font' folder.</li>\n</ul></li>\n<li><p>Go to the java file of the activity whose font you have to customize. I customized mainActivity here.</p>\n\n<pre><code> for(int i = 0; i &lt; toolbar.getChildCount(); i++)     \n { View view = toolbar.getChildAt(i);\n\n    if(view instanceof TextView) {\n        TextView textView = (TextView) view;\n\n        Typeface myCustomFont=Typeface.createFromAsset(getAssets(),\"font/Balker.ttf\");\n        textView.setTypeface(myCustomFont); }\n\n\n }\n</code></pre></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":10743614,"reputation":21,"user_id":7905779,"display_name":"mohammad golche"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1492866878,"creation_date":1492865769,"answer_id":43559489,"question_id":32398104,"body_markdown":"This works for me\r\n\r\n    typeFace= Typeface.createFromAsset(this.getAssets(), &quot;fonts/myfont.ttf&quot;);\r\n    ((TextView)toolbar.getChildAt(1)).setTypeface(typeFace);\r\n\r\n","title":"How to set a custom font to the title in toolbar android","body":"<p>This works for me</p>\n\n<pre><code>typeFace= Typeface.createFromAsset(this.getAssets(), \"fonts/myfont.ttf\");\n((TextView)toolbar.getChildAt(1)).setTypeface(typeFace);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2710929,"reputation":10584,"user_id":2339405,"accept_rate":98,"display_name":"Rainmaker"},"down_vote_count":0,"up_vote_count":72,"is_accepted":false,"score":72,"last_activity_date":1503752701,"creation_date":1503752701,"answer_id":45895693,"question_id":32398104,"body_markdown":"Since `android.support.v7.appcompat 24.2` `Toolbar` has method `setTitleTextAppearance` and you can set its font without external `textview`.\r\n\r\ncreate new style in styles.xml\r\n\r\n    &lt;style name=&quot;RobotoBoldTextAppearance&quot;&gt;\r\n            &lt;item name=&quot;android:fontFamily&quot;&gt;@font/roboto_condensed_bold&lt;/item&gt;\r\n    &lt;/style&gt;\r\n\r\nand use it\r\n\r\n    mToolbar.setTitleTextAppearance(this, R.style.RobotoBoldTextAppearance);\r\n\r\n","title":"How to set a custom font to the title in toolbar android","body":"<p>Since <code>android.support.v7.appcompat 24.2</code> <code>Toolbar</code> has method <code>setTitleTextAppearance</code> and you can set its font without external <code>textview</code>.</p>\n\n<p>create new style in styles.xml</p>\n\n<pre><code>&lt;style name=\"RobotoBoldTextAppearance\"&gt;\n        &lt;item name=\"android:fontFamily\"&gt;@font/roboto_condensed_bold&lt;/item&gt;\n&lt;/style&gt;\n</code></pre>\n\n<p>and use it</p>\n\n<pre><code>mToolbar.setTitleTextAppearance(this, R.style.RobotoBoldTextAppearance);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11444755,"reputation":537,"user_id":8389034,"accept_rate":0,"display_name":"realpac"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1508475143,"creation_date":1508475143,"answer_id":46842576,"question_id":32398104,"body_markdown":"If anyone has an issue of getting multiple toolbar title (one default and one that you set ) for xml:\r\n\r\n      &lt;android.support.v7.widget.Toolbar\r\n                android:id=&quot;@+id/toolbar&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;?attr/actionBarSize&quot;\r\n                android:background=&quot;?attr/colorPrimary&quot;\r\n                app:popupTheme=&quot;@style/AppTheme.PopupOverlay&quot;&gt;\r\n    \r\n                &lt;TextView\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:text=&quot;@string/app_name&quot;\r\n                    android:layout_gravity=&quot;left&quot;\r\n                    android:id=&quot;@+id/toolbar_title&quot;\r\n                    android:textSize=&quot;20sp&quot;/&gt;\r\n    \r\n            &lt;/android.support.v7.widget.Toolbar&gt;\r\n\r\n then do this:\r\n \r\n            getSupportActionBar().setTitle(null);//Set the default to null\r\n            typeFace= Typeface.createFromAsset(getAssets(), &quot;fonts/Raleway-Light.ttf&quot;);\r\n            toolbarTitle = (TextView) toolbar.findViewById(R.id.toolbar_title);\r\n            toolbarTitle.setTypeface(typeFace);\r\n\r\n\r\n","title":"How to set a custom font to the title in toolbar android","body":"<p>If anyone has an issue of getting multiple toolbar title (one default and one that you set ) for xml:</p>\n\n<pre><code>  &lt;android.support.v7.widget.Toolbar\n            android:id=\"@+id/toolbar\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"?attr/actionBarSize\"\n            android:background=\"?attr/colorPrimary\"\n            app:popupTheme=\"@style/AppTheme.PopupOverlay\"&gt;\n\n            &lt;TextView\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:text=\"@string/app_name\"\n                android:layout_gravity=\"left\"\n                android:id=\"@+id/toolbar_title\"\n                android:textSize=\"20sp\"/&gt;\n\n        &lt;/android.support.v7.widget.Toolbar&gt;\n</code></pre>\n\n<p>then do this:</p>\n\n<pre><code>        getSupportActionBar().setTitle(null);//Set the default to null\n        typeFace= Typeface.createFromAsset(getAssets(), \"fonts/Raleway-Light.ttf\");\n        toolbarTitle = (TextView) toolbar.findViewById(R.id.toolbar_title);\n        toolbarTitle.setTypeface(typeFace);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6705531,"reputation":411,"user_id":8224142,"display_name":"sirvan alie"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1555571390,"creation_date":1509908136,"answer_id":47125348,"question_id":32398104,"body_markdown":"You can create **fonts** folder under res directory in last version Android studio 3 .After this you must be define custom style in **styles**, and after this , you must be use **titleTextAppearance** in toolbar to style you are defined.\r\n\r\n**Steps** like below.\r\n\r\n**1.** Create fonts directory : **res** &gt; **Android Resource Directory** &gt; Resource type : **fonts**, and click on **Ok** to create fonts directory(Android studio 3).\r\n\r\n\r\n2. Open **styles.xml** and make custom style like below \r\n\r\n        &lt;style name=&quot;**TextAppearance.TabsFont**&quot; parent=&quot;**android:TextAppearance**&quot;&gt;\r\n            &lt;item name=&quot;android:fontFamily&quot;&gt;font/rmedium&lt;/item&gt;\r\n            &lt;item name=&quot;android:textSize&quot;&gt;18sp&lt;/item&gt;\r\n        &lt;/style&gt;\r\n\r\n3.Now open layout and add **app:titleTextAppearance=&quot;@style/TextAppearance.TabsFont&quot;** to Toolbar tag, like below.\r\n\r\n    &lt;android.support.v7.widget.Toolbar\r\n\r\n        android:id=&quot;@+id/toolbarMain&quot;\r\n        app:title=&quot;@string/time_amp_date&quot;\r\n        app:titleTextAppearance=&quot;@style/TextAppearance.TabsFont&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;?attr/actionBarSize&quot;\r\n        android:background=&quot;@color/colorPrimary&quot;\r\n        android:theme=&quot;@style/AppTheme&quot;\r\n        app:elevation=&quot;2dp&quot; /&gt;\r\n\r\nThat&#39;s **DONE**. Now if you running app, you can see font set to your toolbar.\r\n\r\n","title":"How to set a custom font to the title in toolbar android","body":"<p>You can create <strong>fonts</strong> folder under res directory in last version Android studio 3 .After this you must be define custom style in <strong>styles</strong>, and after this , you must be use <strong>titleTextAppearance</strong> in toolbar to style you are defined.</p>\n\n<p><strong>Steps</strong> like below.</p>\n\n<p><strong>1.</strong> Create fonts directory : <strong>res</strong> > <strong>Android Resource Directory</strong> > Resource type : <strong>fonts</strong>, and click on <strong>Ok</strong> to create fonts directory(Android studio 3).</p>\n\n<ol start=\"2\">\n<li><p>Open <strong>styles.xml</strong> and make custom style like below </p>\n\n<pre><code>&lt;style name=\"**TextAppearance.TabsFont**\" parent=\"**android:TextAppearance**\"&gt;\n    &lt;item name=\"android:fontFamily\"&gt;font/rmedium&lt;/item&gt;\n    &lt;item name=\"android:textSize\"&gt;18sp&lt;/item&gt;\n&lt;/style&gt;\n</code></pre></li>\n</ol>\n\n<p>3.Now open layout and add <strong>app:titleTextAppearance=\"@style/TextAppearance.TabsFont\"</strong> to Toolbar tag, like below.</p>\n\n<pre><code>&lt;android.support.v7.widget.Toolbar\n\n    android:id=\"@+id/toolbarMain\"\n    app:title=\"@string/time_amp_date\"\n    app:titleTextAppearance=\"@style/TextAppearance.TabsFont\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"?attr/actionBarSize\"\n    android:background=\"@color/colorPrimary\"\n    android:theme=\"@style/AppTheme\"\n    app:elevation=\"2dp\" /&gt;\n</code></pre>\n\n<p>That's <strong>DONE</strong>. Now if you running app, you can see font set to your toolbar.</p>\n"},{"tags":[],"owner":{"account_id":358299,"reputation":2383,"user_id":698984,"accept_rate":86,"display_name":"kashlo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1512747089,"creation_date":1512747089,"answer_id":47717406,"question_id":32398104,"body_markdown":"If you are using google fonts (ie. Open Sans) you can add TextView as a child of your Toolbar like this\r\n\r\n    &lt;android.support.v7.widget.Toolbar\r\n                android:id=&quot;@+id/toolbar&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;?attr/actionBarSize&quot;\r\n                android:background=&quot;?attr/colorPrimary&quot;\r\n                app:popupTheme=&quot;@style/AppTheme.PopupOverlay&quot;&gt;\r\n    \r\n                &lt;TextView\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:text=&quot;@string/app_name&quot;\r\n                    android:fontFamily=&quot;@font/open_sans&quot;/&gt;\r\n    \r\n    &lt;/android.support.v7.widget.Toolbar&gt;\r\n\r\nand then just set fontFamily property for your TextView in Attributes menu (More Fonts option at the end of the dropdown list)\r\n\r\n    android:fontFamily=&quot;@font/open_sans","title":"How to set a custom font to the title in toolbar android","body":"<p>If you are using google fonts (ie. Open Sans) you can add TextView as a child of your Toolbar like this</p>\n\n<pre><code>&lt;android.support.v7.widget.Toolbar\n            android:id=\"@+id/toolbar\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"?attr/actionBarSize\"\n            android:background=\"?attr/colorPrimary\"\n            app:popupTheme=\"@style/AppTheme.PopupOverlay\"&gt;\n\n            &lt;TextView\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:text=\"@string/app_name\"\n                android:fontFamily=\"@font/open_sans\"/&gt;\n\n&lt;/android.support.v7.widget.Toolbar&gt;\n</code></pre>\n\n<p>and then just set fontFamily property for your TextView in Attributes menu (More Fonts option at the end of the dropdown list)</p>\n\n<pre><code>android:fontFamily=\"@font/open_sans\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6349272,"reputation":1621,"user_id":4928861,"display_name":"Nikhil Jadhav"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1514959051,"creation_date":1514959051,"answer_id":48071943,"question_id":32398104,"body_markdown":"Just add textapperance in your toolbar xml no need to custumization:-\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;android.support.v7.widget.Toolbar xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    android:background=&quot;@color/colorPrimary&quot;\r\n    android:gravity=&quot;center&quot;\r\n    android:minHeight=&quot;?attr/actionBarSize&quot;\r\n    **app:titleTextAppearance=&quot;@font/montserrat_regular&quot;**// apply your font\r\n    app:titleTextColor=&quot;@android:color/white&quot; /&gt;","title":"How to set a custom font to the title in toolbar android","body":"<p>Just add textapperance in your toolbar xml no need to custumization:-</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;android.support.v7.widget.Toolbar xmlns:android=\"http://schemas.android.com/apk/res/android\"\nxmlns:app=\"http://schemas.android.com/apk/res-auto\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"wrap_content\"\nandroid:background=\"@color/colorPrimary\"\nandroid:gravity=\"center\"\nandroid:minHeight=\"?attr/actionBarSize\"\n**app:titleTextAppearance=\"@font/montserrat_regular\"**// apply your font\napp:titleTextColor=\"@android:color/white\" /&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7467954,"reputation":371,"user_id":5676788,"display_name":"Pritam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1515144972,"creation_date":1515144972,"answer_id":48110785,"question_id":32398104,"body_markdown":" You can Use   Custom font  of toolbar  programmatically  Like this \r\n\r\n  1) first Create sub dir fonts  in asset folder \r\n\r\n  2)   Add your font files in the fonts folder.\r\n \r\n      toolbar.setTitle(&quot;Welcome&quot;);\r\n            Typeface fromAsset  = Typeface.createFromAsset(getAssets(),&quot;fonts/OpenSans-Light.ttf&quot;);\r\n            ((TextView)toolbar.getChildAt(1)).setTypeface(fromAsset); ","title":"How to set a custom font to the title in toolbar android","body":"<p>You can Use   Custom font  of toolbar  programmatically  Like this </p>\n\n<p>1) first Create sub dir fonts  in asset folder </p>\n\n<p>2)   Add your font files in the fonts folder.</p>\n\n<pre><code>  toolbar.setTitle(\"Welcome\");\n        Typeface fromAsset  = Typeface.createFromAsset(getAssets(),\"fonts/OpenSans-Light.ttf\");\n        ((TextView)toolbar.getChildAt(1)).setTypeface(fromAsset); \n</code></pre>\n"},{"tags":[],"owner":{"account_id":7821806,"reputation":827,"user_id":5914754,"display_name":"Sudhir Singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1515750135,"creation_date":1515750135,"answer_id":48223422,"question_id":32398104,"body_markdown":"1st create \r\n\r\n      &lt;android.support.v7.widget.Toolbar\r\n                android:id=&quot;@+id/toolbar&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;?attr/actionBarSize&quot;\r\n                android:background=&quot;?attr/colorPrimary&quot;\r\n                app:titleTextAppearance=&quot;@style/DancingWhite&quot;\r\n                app:popupTheme=&quot;@style/AppTheme.PopupOverlay&quot;\r\n                &gt;\r\n                \r\n        \r\n     &lt;TextView\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;Toolbar Title&quot;\r\n        android:layout_gravity=&quot;center&quot;\r\n        android:id=&quot;@+id/toolbar_title&quot; /&gt;\r\n\r\n    &lt;/android.support.v7.widget.Toolbar&gt;\r\n\r\n\r\n2nd \r\n\r\nyour activity you can access the title like so:\r\n\r\n     Toolbar toolbar = (Toolbar) findViewById(R.id.toolbar);\r\n     TextView mTitle = (TextView) \r\n     toolbar.findViewById(R.id.toolbar_title);\r\n\r\n     Typeface font = Typeface.createFromAsset(getAssets(), &quot;Mukta- Regular.ttf&quot;);\r\n\r\n      mTitle.setTypeface(font);\r\n\r\n\r\n","title":"How to set a custom font to the title in toolbar android","body":"<p>1st create </p>\n\n<pre><code>  &lt;android.support.v7.widget.Toolbar\n            android:id=\"@+id/toolbar\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"?attr/actionBarSize\"\n            android:background=\"?attr/colorPrimary\"\n            app:titleTextAppearance=\"@style/DancingWhite\"\n            app:popupTheme=\"@style/AppTheme.PopupOverlay\"\n            &gt;\n\n\n &lt;TextView\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:text=\"Toolbar Title\"\n    android:layout_gravity=\"center\"\n    android:id=\"@+id/toolbar_title\" /&gt;\n\n&lt;/android.support.v7.widget.Toolbar&gt;\n</code></pre>\n\n<p>2nd </p>\n\n<p>your activity you can access the title like so:</p>\n\n<pre><code> Toolbar toolbar = (Toolbar) findViewById(R.id.toolbar);\n TextView mTitle = (TextView) \n toolbar.findViewById(R.id.toolbar_title);\n\n Typeface font = Typeface.createFromAsset(getAssets(), \"Mukta- Regular.ttf\");\n\n  mTitle.setTypeface(font);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2761989,"reputation":523,"user_id":2378694,"display_name":"ahaisting"},"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1525963612,"creation_date":1525963283,"answer_id":50275543,"question_id":32398104,"body_markdown":"## You can do this using just themes:\r\n[I wrote an article outlining the full solution.][2] Here are the basics:\r\n### 1) Define a theme in `styles.xml`:\r\n\r\n    &lt;style name=&quot;ToolbarTheme&quot; parent=&quot;ThemeOverlay.AppCompat.Light&quot;&gt;\r\n        &lt;item name=&quot;android:fontFamily&quot;&gt;@font/fancy-font&lt;/item&gt;\r\n    &lt;/style&gt;\r\n\r\n### 2) Set that theme in your `Toolbar`s layout:\r\n\r\n    &lt;android.support.v7.widget.Toolbar\r\n        xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        android:id=&quot;@+id/toolbar&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;?attr/actionBarSize&quot;\r\n        android:background=&quot;@color/colorPrimary&quot;\r\n        android:theme=&quot;@style/ToolbarTheme&quot;/&gt;\r\n\r\n### This assumes that you have a `.ttf` file stored in `res/font`:\r\n\r\n[![Resourced directory with font][1]][1]\r\n\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/1zBV8.png\r\n  [2]: https://medium.com/@ahaisting/how-to-change-the-toolbar-font-on-android-b1ba87e7e29d","title":"How to set a custom font to the title in toolbar android","body":"<h2>You can do this using just themes:</h2>\n\n<p><a href=\"https://medium.com/@ahaisting/how-to-change-the-toolbar-font-on-android-b1ba87e7e29d\" rel=\"noreferrer\">I wrote an article outlining the full solution.</a> Here are the basics:</p>\n\n<h3>1) Define a theme in <code>styles.xml</code>:</h3>\n\n<pre><code>&lt;style name=\"ToolbarTheme\" parent=\"ThemeOverlay.AppCompat.Light\"&gt;\n    &lt;item name=\"android:fontFamily\"&gt;@font/fancy-font&lt;/item&gt;\n&lt;/style&gt;\n</code></pre>\n\n<h3>2) Set that theme in your <code>Toolbar</code>s layout:</h3>\n\n<pre><code>&lt;android.support.v7.widget.Toolbar\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:id=\"@+id/toolbar\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"?attr/actionBarSize\"\n    android:background=\"@color/colorPrimary\"\n    android:theme=\"@style/ToolbarTheme\"/&gt;\n</code></pre>\n\n<h3>This assumes that you have a <code>.ttf</code> file stored in <code>res/font</code>:</h3>\n\n<p><a href=\"https://i.stack.imgur.com/1zBV8.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/1zBV8.png\" alt=\"Resourced directory with font\"></a></p>\n"},{"tags":[],"owner":{"account_id":10120648,"reputation":317,"user_id":7477675,"display_name":"anshajkhare"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1527435828,"creation_date":1527435828,"answer_id":50553823,"question_id":32398104,"body_markdown":"I searched for this question as well, and this was one of the first answers that came up. I&#39;ll add my solution since the one given here can be counted as a bit outdated (keep in mind it would work nonetheless).\r\n\r\nSince Android now supports custom fonts, there&#39;s no reason to assign fonts in Java, it can be done while making the XML file itself.\r\n\r\nFirst, in your layout file, add a custom Toolbar (you can set the text size here itself)\r\n\r\n    &lt;android.support.v7.widget.Toolbar\r\n            android:id=&quot;@+id/toolbar_top&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:minHeight=&quot;?attr/actionBarSize&quot;\r\n            android:background=&quot;@color/primary&quot;&gt;\r\n            &lt;TextView\r\n                android:id=&quot;@+id/toolbar_title&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:text=&quot;@string/signup&quot;\r\n                android:textSize=&quot;22sp&quot; /&gt;\r\n        &lt;/android.support.v7.widget.Toolbar&gt;\r\n\r\nThen, go to the design tab of your XML file, and select the text on the toolbar.\r\n\r\n\r\n[![Step 1][1]][1]\r\n\r\nSelect the option of fontFamily and select the font you want under the given options. If it is not given, you can search for more fonts.\r\n\r\n\r\n[![Step 2][2]][2]\r\n\r\nSearch for the font you want and select it. Your font gets changed.\r\n\r\n\r\n[![Step 3][3]][3]\r\n\r\nYour XML file now will reflect the font you added, there will be an attribute named `android:fontFamily`\r\n\r\n    &lt;android.support.v7.widget.Toolbar\r\n            android:id=&quot;@+id/toolbar_top&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:minHeight=&quot;?attr/actionBarSize&quot;\r\n            android:background=&quot;@color/primary&quot;&gt;\r\n            &lt;TextView\r\n                android:id=&quot;@+id/toolbar_title&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:fontFamily=&quot;@font/roboto_slab&quot;\r\n                android:text=&quot;@string/signup&quot;\r\n                android:textColor=&quot;@color/secondaryBackground&quot;\r\n                android:textSize=&quot;22sp&quot; /&gt;\r\n        &lt;/android.support.v7.widget.Toolbar&gt;\r\n\r\nHope this helped.\r\n\r\n  [1]: https://i.stack.imgur.com/6rnbl.jpg\r\n  [2]: https://i.stack.imgur.com/ytU4m.jpg\r\n  [3]: https://i.stack.imgur.com/1BrbW.jpg","title":"How to set a custom font to the title in toolbar android","body":"<p>I searched for this question as well, and this was one of the first answers that came up. I'll add my solution since the one given here can be counted as a bit outdated (keep in mind it would work nonetheless).</p>\n\n<p>Since Android now supports custom fonts, there's no reason to assign fonts in Java, it can be done while making the XML file itself.</p>\n\n<p>First, in your layout file, add a custom Toolbar (you can set the text size here itself)</p>\n\n<pre><code>&lt;android.support.v7.widget.Toolbar\n        android:id=\"@+id/toolbar_top\"\n        android:layout_height=\"wrap_content\"\n        android:layout_width=\"match_parent\"\n        android:minHeight=\"?attr/actionBarSize\"\n        android:background=\"@color/primary\"&gt;\n        &lt;TextView\n            android:id=\"@+id/toolbar_title\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:text=\"@string/signup\"\n            android:textSize=\"22sp\" /&gt;\n    &lt;/android.support.v7.widget.Toolbar&gt;\n</code></pre>\n\n<p>Then, go to the design tab of your XML file, and select the text on the toolbar.</p>\n\n<p><a href=\"https://i.stack.imgur.com/6rnbl.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6rnbl.jpg\" alt=\"Step 1\"></a></p>\n\n<p>Select the option of fontFamily and select the font you want under the given options. If it is not given, you can search for more fonts.</p>\n\n<p><a href=\"https://i.stack.imgur.com/ytU4m.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ytU4m.jpg\" alt=\"Step 2\"></a></p>\n\n<p>Search for the font you want and select it. Your font gets changed.</p>\n\n<p><a href=\"https://i.stack.imgur.com/1BrbW.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1BrbW.jpg\" alt=\"Step 3\"></a></p>\n\n<p>Your XML file now will reflect the font you added, there will be an attribute named <code>android:fontFamily</code></p>\n\n<pre><code>&lt;android.support.v7.widget.Toolbar\n        android:id=\"@+id/toolbar_top\"\n        android:layout_height=\"wrap_content\"\n        android:layout_width=\"match_parent\"\n        android:minHeight=\"?attr/actionBarSize\"\n        android:background=\"@color/primary\"&gt;\n        &lt;TextView\n            android:id=\"@+id/toolbar_title\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:fontFamily=\"@font/roboto_slab\"\n            android:text=\"@string/signup\"\n            android:textColor=\"@color/secondaryBackground\"\n            android:textSize=\"22sp\" /&gt;\n    &lt;/android.support.v7.widget.Toolbar&gt;\n</code></pre>\n\n<p>Hope this helped.</p>\n"},{"tags":[],"owner":{"account_id":8152269,"reputation":3283,"user_id":6138892,"accept_rate":40,"display_name":"Rahul"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1544708922,"creation_date":1544708922,"answer_id":53763332,"question_id":32398104,"body_markdown":"**No need to use external textview if you only want to change the font of toolbar title** because `android.support.v7.appcompat 24.2` `Toolbar` has method `setTitleTextAppearance` and you can set its font like below.\r\n\r\ncreate a new style in styles.xml\r\n\r\n    &lt;style name=&quot;CamptonBookTextAppearance&quot;&gt;\r\n         &lt;item name=&quot;android:fontFamily&quot;&gt;@font/campton_book&lt;/item&gt;\r\n    &lt;/style&gt;\r\n\r\nand use it\r\n\r\n    mToolbar.setTitleTextAppearance(this, R.style.CamptonBookTextAppearance);","title":"How to set a custom font to the title in toolbar android","body":"<p><strong>No need to use external textview if you only want to change the font of toolbar title</strong> because <code>android.support.v7.appcompat 24.2</code> <code>Toolbar</code> has method <code>setTitleTextAppearance</code> and you can set its font like below.</p>\n\n<p>create a new style in styles.xml</p>\n\n<pre><code>&lt;style name=\"CamptonBookTextAppearance\"&gt;\n     &lt;item name=\"android:fontFamily\"&gt;@font/campton_book&lt;/item&gt;\n&lt;/style&gt;\n</code></pre>\n\n<p>and use it</p>\n\n<pre><code>mToolbar.setTitleTextAppearance(this, R.style.CamptonBookTextAppearance);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14747355,"reputation":69,"user_id":10650329,"display_name":"Mukesh Rawat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1545740722,"creation_date":1545740722,"answer_id":53922377,"question_id":32398104,"body_markdown":"just download what font you want to show in title and move it under res-&gt;font folder and create a file over there fontfamily\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;font-family xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n    &lt;font\r\n        android:fontStyle=&quot;normal&quot;\r\n        android:fontWeight=&quot;400&quot;\r\n        android:font=&quot;@font/futura_book&quot; /&gt;\r\n\r\n\r\n    &lt;font\r\n        android:fontStyle=&quot;normal&quot;\r\n        android:fontWeight=&quot;400&quot;\r\n        android:font=&quot;@font/your font file name&quot; /&gt;\r\n\r\n\r\n \r\n\r\n    &lt;/font-family&gt;\r\n\r\n\r\n now add    fontfamily=&quot;your downloaded font family name like a.ttf&quot;  in your xml file thats it\r\n\r\n","title":"How to set a custom font to the title in toolbar android","body":"<p>just download what font you want to show in title and move it under res->font folder and create a file over there fontfamily</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;font-family xmlns:android=\"http://schemas.android.com/apk/res/android\"&gt;\n&lt;font\n    android:fontStyle=\"normal\"\n    android:fontWeight=\"400\"\n    android:font=\"@font/futura_book\" /&gt;\n\n\n&lt;font\n    android:fontStyle=\"normal\"\n    android:fontWeight=\"400\"\n    android:font=\"@font/your font file name\" /&gt;\n\n\n\n\n&lt;/font-family&gt;\n</code></pre>\n\n<p>now add    fontfamily=\"your downloaded font family name like a.ttf\"  in your xml file thats it</p>\n"},{"tags":[],"owner":{"account_id":424440,"reputation":10491,"user_id":804440,"accept_rate":76,"display_name":"nilsi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1557911737,"creation_date":1557911737,"answer_id":56145670,"question_id":32398104,"body_markdown":"I made a binding adapter for this purpose.\r\n\r\n```\r\npublic class FontBindingAdapter\r\n{\r\n\t@BindingAdapter({&quot;font&quot;})\r\n\tpublic static void setFont(Toolbar toolbar, String font)\r\n\t{\r\n\t\tfor (int i = 0; i &lt; toolbar.getChildCount(); i++) {\r\n\t\t\tif (toolbar.getChildAt(i) instanceof AppCompatTextView) {\r\n\t\t\t\tUIUtil.setFont(font, (AppCompatTextView) toolbar.getChildAt(i));\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\nThen use it like:\r\n```\r\n            &lt;android.support.v7.widget.Toolbar\r\n                android:id=&quot;@+id/toolbar&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;?attr/actionBarSize&quot;\r\n                android:background=&quot;@color/green&quot;\r\n                app:font=&quot;@{`LatoRegular`}&quot;\r\n                app:title=&quot;@string/setup_favorites&quot;\r\n                app:titleTextColor=&quot;@color/white&quot;/&gt;\r\n\r\n```","title":"How to set a custom font to the title in toolbar android","body":"<p>I made a binding adapter for this purpose.</p>\n\n<pre><code>public class FontBindingAdapter\n{\n    @BindingAdapter({\"font\"})\n    public static void setFont(Toolbar toolbar, String font)\n    {\n        for (int i = 0; i &lt; toolbar.getChildCount(); i++) {\n            if (toolbar.getChildAt(i) instanceof AppCompatTextView) {\n                UIUtil.setFont(font, (AppCompatTextView) toolbar.getChildAt(i));\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>Then use it like:</p>\n\n<pre><code>            &lt;android.support.v7.widget.Toolbar\n                android:id=\"@+id/toolbar\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"?attr/actionBarSize\"\n                android:background=\"@color/green\"\n                app:font=\"@{`LatoRegular`}\"\n                app:title=\"@string/setup_favorites\"\n                app:titleTextColor=\"@color/white\"/&gt;\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6675144,"reputation":994,"user_id":5163725,"accept_rate":33,"display_name":"Minion"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1560799527,"creation_date":1560799527,"answer_id":56637698,"question_id":32398104,"body_markdown":"Download the custom font and keep it in font folder inside the res folder.\r\nAs Toolbar is a viewGroup we can place the textView inside the Toolbar and use as follow\r\n\r\n    &lt;android.support.design.widget.AppBarLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        app:elevation=&quot;0dp&quot;&gt;\r\n\r\n        &lt;android.support.v7.widget.Toolbar\r\n            android:id=&quot;@+id/toolbar&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;?attr/actionBarSize&quot;\r\n            &gt;\r\n            &lt;TextView\r\n                android:id=&quot;@+id/toolbar_title&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:text=&quot;Toolbar&quot;\r\n                android:gravity=&quot;center&quot;\r\n                android:fontFamily=&quot;@font/roboto_regular&quot; &lt;--- custom font\r\n                android:textColor=&quot;@color/white&quot;\r\n                android:textStyle=&quot;bold&quot;\r\n                android:textAppearance=&quot;@style/Base.TextAppearance.Widget.AppCompat.Toolbar.Title&quot;\r\n                /&gt;\r\n\r\n        &lt;/android.support.v7.widget.Toolbar&gt;\r\n\r\n\r\n    &lt;/android.support.design.widget.AppBarLayout&gt;\r\n\r\nThis method is also used to make font **BOLD**.","title":"How to set a custom font to the title in toolbar android","body":"<p>Download the custom font and keep it in font folder inside the res folder.\nAs Toolbar is a viewGroup we can place the textView inside the Toolbar and use as follow</p>\n\n<pre><code>&lt;android.support.design.widget.AppBarLayout\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"\n    app:elevation=\"0dp\"&gt;\n\n    &lt;android.support.v7.widget.Toolbar\n        android:id=\"@+id/toolbar\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"?attr/actionBarSize\"\n        &gt;\n        &lt;TextView\n            android:id=\"@+id/toolbar_title\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:text=\"Toolbar\"\n            android:gravity=\"center\"\n            android:fontFamily=\"@font/roboto_regular\" &lt;--- custom font\n            android:textColor=\"@color/white\"\n            android:textStyle=\"bold\"\n            android:textAppearance=\"@style/Base.TextAppearance.Widget.AppCompat.Toolbar.Title\"\n            /&gt;\n\n    &lt;/android.support.v7.widget.Toolbar&gt;\n\n\n&lt;/android.support.design.widget.AppBarLayout&gt;\n</code></pre>\n\n<p>This method is also used to make font <strong>BOLD</strong>.</p>\n"},{"tags":[],"owner":{"account_id":14172306,"reputation":1738,"user_id":10238560,"display_name":"Tarif Chakder"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1664799807,"creation_date":1596690598,"answer_id":63277206,"question_id":32398104,"body_markdown":"**Two way you can do custom font on toolbar title**\r\n\r\n**Solution : 1 [ Static Method ]**\r\n\r\n\r\n*1) Define a theme in **styles.xml**:*\r\n\r\n      &lt;style name=&quot;ToolbarTheme&quot; parent=&quot;ThemeOverlay.AppCompat.Light&quot;&gt;\r\n          &lt;item name=&quot;android:fontFamily&quot;&gt;@font/ubuntu&lt;/item&gt;\r\n      &lt;/style&gt;\r\n\r\n*2) Set that theme in your **Toolbar&#39;s** layout:*\r\n\r\n       &lt;android.support.v7.widget.Toolbar\r\n         xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n         android:id=&quot;@+id/toolbar&quot;\r\n         android:layout_width=&quot;match_parent&quot;\r\n         android:layout_height=&quot;?attr/actionBarSize&quot;\r\n         android:background=&quot;@color/colorPrimary&quot;\r\n         android:theme=&quot;@style/ToolbarTheme&quot;/&gt;\r\n\r\n\r\n*Solution 2 : [ Dynamic ]*\r\n\r\n**Kotlin** \r\n       \r\n        fun Toolbar.titleFont(){\r\n        for (i in 0 until childCount) {\r\n            val view = getChildAt(i)\r\n            if (view is TextView &amp;&amp; view.text == title) {\r\n                view.typeface = Typeface.createFromAsset(context.assets,&quot;fonts/customfont.ttf&quot;)\r\n                break\r\n            }\r\n        }\r\n    } \r\n\r\nthen use it like\r\n\r\n       toolBar.titleFont()","title":"How to set a custom font to the title in toolbar android","body":"<p><strong>Two way you can do custom font on toolbar title</strong></p>\n<p><strong>Solution : 1 [ Static Method ]</strong></p>\n<p><em>1) Define a theme in <strong>styles.xml</strong>:</em></p>\n<pre><code>  &lt;style name=&quot;ToolbarTheme&quot; parent=&quot;ThemeOverlay.AppCompat.Light&quot;&gt;\n      &lt;item name=&quot;android:fontFamily&quot;&gt;@font/ubuntu&lt;/item&gt;\n  &lt;/style&gt;\n</code></pre>\n<p><em>2) Set that theme in your <strong>Toolbar's</strong> layout:</em></p>\n<pre><code>   &lt;android.support.v7.widget.Toolbar\n     xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n     android:id=&quot;@+id/toolbar&quot;\n     android:layout_width=&quot;match_parent&quot;\n     android:layout_height=&quot;?attr/actionBarSize&quot;\n     android:background=&quot;@color/colorPrimary&quot;\n     android:theme=&quot;@style/ToolbarTheme&quot;/&gt;\n</code></pre>\n<p><em>Solution 2 : [ Dynamic ]</em></p>\n<p><strong>Kotlin</strong></p>\n<pre><code>    fun Toolbar.titleFont(){\n    for (i in 0 until childCount) {\n        val view = getChildAt(i)\n        if (view is TextView &amp;&amp; view.text == title) {\n            view.typeface = Typeface.createFromAsset(context.assets,&quot;fonts/customfont.ttf&quot;)\n            break\n        }\n    }\n} \n</code></pre>\n<p>then use it like</p>\n<pre><code>   toolBar.titleFont()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17282105,"reputation":19,"user_id":12515415,"display_name":"Firaz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1605961366,"creation_date":1605961366,"answer_id":64942986,"question_id":32398104,"body_markdown":"I just add my fonts to the font folder I made in ```res``` along with the other fonts, then I made a custom XML file for the bar.\r\n\r\n    &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    android:orientation=&quot;horizontal&quot;\r\n    android:gravity=&quot;center&quot;&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/action_bar_image&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;@string/app_name&quot;\r\n        android:textSize=&quot;30sp&quot;\r\n        android:fontFamily=&quot;@font/yourfont&quot;\r\n        android:layout_alignParentTop=&quot;true&quot;\r\n        android:layout_centerHorizontal=&quot;true&quot;/&gt;&lt;/LinearLayout&gt;\r\n\r\nThen, I added this to my ```MainActivity```\r\n\r\n    getSupportActionBar().setDisplayOptions(ActionBar.DISPLAY_SHOW_CUSTOM);\r\n        getSupportActionBar().setDisplayShowCustomEnabled(true);\r\n        getSupportActionBar().setCustomView(R.layout.your_xml_file);\r\n\r\nBoth OTF and TTF works","title":"How to set a custom font to the title in toolbar android","body":"<p>I just add my fonts to the font folder I made in <code>res</code> along with the other fonts, then I made a custom XML file for the bar.</p>\n<pre><code>&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nandroid:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;wrap_content&quot;\nandroid:orientation=&quot;horizontal&quot;\nandroid:gravity=&quot;center&quot;&gt;\n\n&lt;TextView\n    android:id=&quot;@+id/action_bar_image&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:text=&quot;@string/app_name&quot;\n    android:textSize=&quot;30sp&quot;\n    android:fontFamily=&quot;@font/yourfont&quot;\n    android:layout_alignParentTop=&quot;true&quot;\n    android:layout_centerHorizontal=&quot;true&quot;/&gt;&lt;/LinearLayout&gt;\n</code></pre>\n<p>Then, I added this to my <code>MainActivity</code></p>\n<pre><code>getSupportActionBar().setDisplayOptions(ActionBar.DISPLAY_SHOW_CUSTOM);\n    getSupportActionBar().setDisplayShowCustomEnabled(true);\n    getSupportActionBar().setCustomView(R.layout.your_xml_file);\n</code></pre>\n<p>Both OTF and TTF works</p>\n"},{"tags":[],"owner":{"account_id":13786691,"reputation":825,"user_id":9950391,"display_name":"BVB09"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1610148067,"creation_date":1610148067,"answer_id":65637692,"question_id":32398104,"body_markdown":"The best answer really is the best. If you want to increase (adjust the font size) and change the colour then update your style like this:\r\n\r\n    &lt;style name=&quot;NexaBoldToolbar&quot;&gt;\r\n        &lt;item name=&quot;android:fontFamily&quot;&gt;@font/nexabold&lt;/item&gt;\r\n        &lt;item name=&quot;android:textSize&quot;&gt;18sp&lt;/item&gt;\r\n        &lt;item name=&quot;android:textColor&quot;&gt;@color/fullWhite&lt;/item&gt;\r\n    &lt;/style&gt;","title":"How to set a custom font to the title in toolbar android","body":"<p>The best answer really is the best. If you want to increase (adjust the font size) and change the colour then update your style like this:</p>\n<pre><code>&lt;style name=&quot;NexaBoldToolbar&quot;&gt;\n    &lt;item name=&quot;android:fontFamily&quot;&gt;@font/nexabold&lt;/item&gt;\n    &lt;item name=&quot;android:textSize&quot;&gt;18sp&lt;/item&gt;\n    &lt;item name=&quot;android:textColor&quot;&gt;@color/fullWhite&lt;/item&gt;\n&lt;/style&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28362157,"reputation":11,"user_id":21692001,"display_name":"Veer J Kamdar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683459304,"creation_date":1683459304,"answer_id":76193667,"question_id":32398104,"body_markdown":"I suggest using textview inside the toolbar as it would give better customization options as compared to using the title property.\r\n\r\n**Like shown over here:**\r\n\r\n     &lt;com.google.android.material.appbar.MaterialToolbar\r\n        android:id=&quot;@+id/materialToolbar&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_gravity=&quot;top&quot;\r\n        android:minHeight=&quot;?attr/actionBarSize&quot;\r\n        android:theme=&quot;?attr/actionBarTheme&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        app:layout_wrapBehaviorInParent=&quot;included&quot;\r\n        app:menu=&quot;@menu/top_app_bar&quot;&gt;\r\n\r\n        &lt;TextView\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:fontFamily=&quot;@font/inter_bold&quot;\r\n            android:text=&quot;Good day, Megha J Kamdar&quot;/&gt;\r\n    &lt;/com.google.android.material.appbar.MaterialToolbar&gt;\r\n","title":"How to set a custom font to the title in toolbar android","body":"<p>I suggest using textview inside the toolbar as it would give better customization options as compared to using the title property.</p>\n<p><strong>Like shown over here:</strong></p>\n<pre><code> &lt;com.google.android.material.appbar.MaterialToolbar\n    android:id=&quot;@+id/materialToolbar&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_gravity=&quot;top&quot;\n    android:minHeight=&quot;?attr/actionBarSize&quot;\n    android:theme=&quot;?attr/actionBarTheme&quot;\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n    app:layout_constraintTop_toTopOf=&quot;parent&quot;\n    app:layout_wrapBehaviorInParent=&quot;included&quot;\n    app:menu=&quot;@menu/top_app_bar&quot;&gt;\n\n    &lt;TextView\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:fontFamily=&quot;@font/inter_bold&quot;\n        android:text=&quot;Good day, Megha J Kamdar&quot;/&gt;\n&lt;/com.google.android.material.appbar.MaterialToolbar&gt;\n</code></pre>\n"}],"owner":{"account_id":6875229,"reputation":779,"user_id":5283893,"accept_rate":50,"display_name":"anupam x"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67738,"favorite_count":0,"down_vote_count":0,"up_vote_count":54,"accepted_answer_id":32398137,"answer_count":24,"score":54,"last_activity_date":1683459304,"creation_date":1441369748,"question_id":32398104,"body_markdown":"I am doing this:\r\n\r\n    toolbar = (Toolbar) findViewById(com.sports.unity.R.id.tool_bar);\r\n    setSupportActionBar(toolbar);\r\n    setTitle(&quot;hello&quot;);\r\n\r\nI want to set a custom font for the text here in the title &quot;hello&quot;. How to do that?","title":"How to set a custom font to the title in toolbar android","body":"<p>I am doing this:</p>\n\n<pre><code>toolbar = (Toolbar) findViewById(com.sports.unity.R.id.tool_bar);\nsetSupportActionBar(toolbar);\nsetTitle(\"hello\");\n</code></pre>\n\n<p>I want to set a custom font for the text here in the title \"hello\". How to do that?</p>\n"},{"tags":["java","android","android-studio","kotlin","android-deep-link"],"answers":[{"tags":[],"owner":{"account_id":23767229,"reputation":631,"user_id":17781834,"display_name":"Yohannes Masterous"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1640930966,"creation_date":1640743427,"answer_id":70514427,"question_id":70494348,"body_markdown":"I think need to add scheme separately\r\n```\r\n&lt;intent-filter\r\n\tandroid:autoVerify=&quot;true&quot;&gt;\r\n\t&lt;action android:name=&quot;android.intent.action.VIEW&quot; /&gt;\r\n\r\n\t&lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\r\n\t&lt;category android:name=&quot;android.intent.category.BROWSABLE&quot; /&gt;\r\n\t\r\n\t&lt;data android:scheme=&quot;http&quot; /&gt;\r\n\t&lt;data android:scheme=&quot;https&quot; /&gt;\r\n\r\n\t&lt;data\r\n\t\tandroid:host=&quot;yourdomain.com&quot;\r\n\t\tandroid:pathPrefix=&quot;/prefixpath/&quot; /&gt;\r\n\r\n&lt;/intent-filter&gt;\r\n```\r\n\r\nIf the above steps don&#39;t work, please try changing the name of the website in the URL given below, which will show you the SHA256 key google has been cached.\r\n\r\nhttps://digitalassetlinks.googleapis.com/v1/statements:list?source.web.site=https://www.your-website-name.com&amp;relation=delegate_permission/common.handle_all_urls\r\n\r\nSee this https://stackoverflow.com/questions/55510142/how-to-force-google-to-refetch-well-known-assetlinks-json-in-order-to-fix-my-an","title":"Android Deep Linking - Verify App links with website","body":"<p>I think need to add scheme separately</p>\n<pre><code>&lt;intent-filter\n    android:autoVerify=&quot;true&quot;&gt;\n    &lt;action android:name=&quot;android.intent.action.VIEW&quot; /&gt;\n\n    &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\n    &lt;category android:name=&quot;android.intent.category.BROWSABLE&quot; /&gt;\n    \n    &lt;data android:scheme=&quot;http&quot; /&gt;\n    &lt;data android:scheme=&quot;https&quot; /&gt;\n\n    &lt;data\n        android:host=&quot;yourdomain.com&quot;\n        android:pathPrefix=&quot;/prefixpath/&quot; /&gt;\n\n&lt;/intent-filter&gt;\n</code></pre>\n<p>If the above steps don't work, please try changing the name of the website in the URL given below, which will show you the SHA256 key google has been cached.</p>\n<p><a href=\"https://digitalassetlinks.googleapis.com/v1/statements:list?source.web.site=https://www.your-website-name.com&amp;relation=delegate_permission/common.handle_all_urls\" rel=\"nofollow noreferrer\">https://digitalassetlinks.googleapis.com/v1/statements:list?source.web.site=https://www.your-website-name.com&amp;relation=delegate_permission/common.handle_all_urls</a></p>\n<p>See this <a href=\"https://stackoverflow.com/questions/55510142/how-to-force-google-to-refetch-well-known-assetlinks-json-in-order-to-fix-my-an\">How to force Google to refetch .well-known/assetlinks.json in order to fix my Android App Link implementation</a></p>\n"}],"owner":{"account_id":14226746,"reputation":87,"user_id":10277217,"display_name":"George Samuel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1151,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70514427,"answer_count":1,"score":0,"last_activity_date":1683458250,"creation_date":1640601235,"question_id":70494348,"body_markdown":"I am trying to enable deep linking with my app &lt;br/&gt;\r\nI need when I scan the QR from outside my app like using **QR Scanner** app or using QR scanner in the system, and when I choose the web browser and search with the link, it directs to my app &lt;br/&gt;\r\nI added the code to manifest like this image: &lt;br/&gt;\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nand when I searched with https://domain.ex/.well-known/assetlinks.json &lt;br/&gt;\r\n\r\n[![enter image description here][2]][2]\r\n\r\nand searched with https://digitalassetlinks.googleapis.com/v1/statements:list?source.web.site=https://domain.example&amp;relation=delegate_permission/common.handle_all_urls &lt;br/&gt;\r\n\r\n[![enter image description here][3]][3]\r\n\r\nwhat is the error I had made? \r\n\r\nI am running one release mode and SHA256 is from google play console.\r\n\r\n**expected behaviour is:** when I search with https://domain.example/pathPrefix it direct to my app\r\n\r\n  [1]: https://i.stack.imgur.com/niseE.png\r\n  [2]: https://i.stack.imgur.com/Fn9MO.png\r\n  [3]: https://i.stack.imgur.com/MtrKL.png","title":"Android Deep Linking - Verify App links with website","body":"<p>I am trying to enable deep linking with my app <br/>\nI need when I scan the QR from outside my app like using <strong>QR Scanner</strong> app or using QR scanner in the system, and when I choose the web browser and search with the link, it directs to my app <br/>\nI added the code to manifest like this image: <br/></p>\n<p><a href=\"https://i.stack.imgur.com/niseE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/niseE.png\" alt=\"enter image description here\" /></a></p>\n<p>and when I searched with <a href=\"https://domain.ex/.well-known/assetlinks.json\" rel=\"nofollow noreferrer\">https://domain.ex/.well-known/assetlinks.json</a> <br/></p>\n<p><a href=\"https://i.stack.imgur.com/Fn9MO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Fn9MO.png\" alt=\"enter image description here\" /></a></p>\n<p>and searched with <a href=\"https://digitalassetlinks.googleapis.com/v1/statements:list?source.web.site=https://domain.example&amp;relation=delegate_permission/common.handle_all_urls\" rel=\"nofollow noreferrer\">https://digitalassetlinks.googleapis.com/v1/statements:list?source.web.site=https://domain.example&amp;relation=delegate_permission/common.handle_all_urls</a> <br/></p>\n<p><a href=\"https://i.stack.imgur.com/MtrKL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MtrKL.png\" alt=\"enter image description here\" /></a></p>\n<p>what is the error I had made?</p>\n<p>I am running one release mode and SHA256 is from google play console.</p>\n<p><strong>expected behaviour is:</strong> when I search with <a href=\"https://domain.example/pathPrefix\" rel=\"nofollow noreferrer\">https://domain.example/pathPrefix</a> it direct to my app</p>\n"},{"tags":["java","logging","configuration","open-liberty"],"owner":{"account_id":28531547,"reputation":1,"user_id":21838882,"display_name":"Elie"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1683456522,"answer_count":0,"score":0,"last_activity_date":1683456937,"creation_date":1683413041,"question_id":76191504,"body_markdown":"I use SLF4J with Logback to log events in my application which is deployed on OpenLiberty. The current log output:\r\n\r\n```\r\n[INFO] [07/05/2023 00:07:53:743 CEST] 0000005a SystemOut     O   [ERROR] o.p.c.p.c.TextArrayConverter - ...\r\n```\r\n\r\nBecause of that, all logs appears at the INFO level :\r\n\r\n```\r\n[INFO] [07/05/2023 00:36:53:483 CEST] 000000ab SystemOut     O   [ERROR] ...\r\n[INFO] [07/05/2023 00:36:53:483 CEST] 000000ab SystemOut     O   [INFO] ...\r\n[INFO] [07/05/2023 00:37:53:487 CEST] 000000ab SystemOut     O   [INFO] ...\r\n```\r\n\r\nHowever, I want the output to look like this :\r\n\r\n```\r\n[ERROR] o.p.c.p.c.TextArrayConverter - ...\r\n```\r\n\r\n**Which configuration should I use to have the desired output ? or at least show the correct severity in server logs ?**\r\n\r\nI have no logging configuration in server.xml.\r\n\r\n*bootstrap.properties*:\r\n\r\n```\r\ncom.ibm.ws.logging.stackTraceSingleEntry=true\r\ncom.ibm.ws.logging.message.log.level=OFF\r\ncom.ibm.ws.logging.message.format=json\r\ncom.ibm.ws.logging.message.source=\r\ncom.ibm.ws.logging.trace.log.level=OFF\r\ncom.ibm.ws.logging.console.format=TBASIC\r\ncom.ibm.ws.logging.console.log.level=INFO\r\n```\r\n\r\n*logback.xml*:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;configuration&gt;\r\n\r\n  &lt;appender name=&quot;CONSOLE&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n    &lt;encoder&gt;\r\n      &lt;Pattern&gt;\r\n        [%level] %C{1} - %msg%n\r\n      &lt;/Pattern&gt;\r\n    &lt;/encoder&gt;\r\n  &lt;/appender&gt;\r\n\r\n  &lt;root level=&quot;info&quot;&gt;\r\n    &lt;appender-ref ref=&quot;CONSOLE&quot;/&gt;\r\n  &lt;/root&gt;\r\n&lt;/configuration&gt;\r\n```\r\n\r\nI tried different bootstrap configurations but nothing worked. For exemple, I tried to output logs in JSON format by adding to the *bootstrap.properties* file :\r\n```\r\ncom.ibm.ws.logging.apps.write.json=true\r\ncom.ibm.ws.logging.console.format=JSON\r\n```\r\n\r\nThe output was :\r\n```\r\n{&quot;message&quot;:&quot;[ERROR] o.p.c.p.c.TextArrayConverter - ...&quot;,&quot;level&quot;:&quot;SystemOut&quot;,...}\r\n```\r\n\r\nThe level is not set correctly.\r\n\r\n**EDIT:**\r\n\r\nAn answer was provided in this post: [Logback JUL appender][1].\r\n\r\nI did a similar thing by changing the SLF4J binding from Logback to JUL since OpenLiberty uses JUL.\r\nUsing JUL with SLF4J is described [here][2]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/72472129/logback-jul-appender\r\n  [2]: https://howtodoinjava.com/logback/setting-up-slf4j/","title":"OpenLiberty - How to separate application logs from server logs and set the correct Log level","body":"<p>I use SLF4J with Logback to log events in my application which is deployed on OpenLiberty. The current log output:</p>\n<pre><code>[INFO] [07/05/2023 00:07:53:743 CEST] 0000005a SystemOut     O   [ERROR] o.p.c.p.c.TextArrayConverter - ...\n</code></pre>\n<p>Because of that, all logs appears at the INFO level :</p>\n<pre><code>[INFO] [07/05/2023 00:36:53:483 CEST] 000000ab SystemOut     O   [ERROR] ...\n[INFO] [07/05/2023 00:36:53:483 CEST] 000000ab SystemOut     O   [INFO] ...\n[INFO] [07/05/2023 00:37:53:487 CEST] 000000ab SystemOut     O   [INFO] ...\n</code></pre>\n<p>However, I want the output to look like this :</p>\n<pre><code>[ERROR] o.p.c.p.c.TextArrayConverter - ...\n</code></pre>\n<p><strong>Which configuration should I use to have the desired output ? or at least show the correct severity in server logs ?</strong></p>\n<p>I have no logging configuration in server.xml.</p>\n<p><em>bootstrap.properties</em>:</p>\n<pre><code>com.ibm.ws.logging.stackTraceSingleEntry=true\ncom.ibm.ws.logging.message.log.level=OFF\ncom.ibm.ws.logging.message.format=json\ncom.ibm.ws.logging.message.source=\ncom.ibm.ws.logging.trace.log.level=OFF\ncom.ibm.ws.logging.console.format=TBASIC\ncom.ibm.ws.logging.console.log.level=INFO\n</code></pre>\n<p><em>logback.xml</em>:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;configuration&gt;\n\n  &lt;appender name=&quot;CONSOLE&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n    &lt;encoder&gt;\n      &lt;Pattern&gt;\n        [%level] %C{1} - %msg%n\n      &lt;/Pattern&gt;\n    &lt;/encoder&gt;\n  &lt;/appender&gt;\n\n  &lt;root level=&quot;info&quot;&gt;\n    &lt;appender-ref ref=&quot;CONSOLE&quot;/&gt;\n  &lt;/root&gt;\n&lt;/configuration&gt;\n</code></pre>\n<p>I tried different bootstrap configurations but nothing worked. For exemple, I tried to output logs in JSON format by adding to the <em>bootstrap.properties</em> file :</p>\n<pre><code>com.ibm.ws.logging.apps.write.json=true\ncom.ibm.ws.logging.console.format=JSON\n</code></pre>\n<p>The output was :</p>\n<pre><code>{&quot;message&quot;:&quot;[ERROR] o.p.c.p.c.TextArrayConverter - ...&quot;,&quot;level&quot;:&quot;SystemOut&quot;,...}\n</code></pre>\n<p>The level is not set correctly.</p>\n<p><strong>EDIT:</strong></p>\n<p>An answer was provided in this post: <a href=\"https://stackoverflow.com/questions/72472129/logback-jul-appender\">Logback JUL appender</a>.</p>\n<p>I did a similar thing by changing the SLF4J binding from Logback to JUL since OpenLiberty uses JUL.\nUsing JUL with SLF4J is described <a href=\"https://howtodoinjava.com/logback/setting-up-slf4j/\" rel=\"nofollow noreferrer\">here</a></p>\n"},{"tags":["java","sap-erp","jco"],"answers":[{"tags":[],"owner":{"account_id":8767058,"reputation":41,"user_id":6555074,"display_name":"Klaus Hopp"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1467793882,"creation_date":1467793882,"answer_id":38219499,"question_id":25661491,"body_markdown":"To access SAP Tables just by specifying just the table name and columns, use the RFC [RFC_READ_TABLE][1] (External access to R/3 tables via RFC)\r\n\r\n- parameter **QUERY_TABLE** - specify the table name here\r\n- (optional) parameter **ROWSKIPS** - skip the first records\r\n- (optional) parameter **ROWCOUNT** - max row count to be loaded, for performance considerations\r\n\r\n\r\n  [1]: https://www.sapdatasheet.org/abap/func/rfc_read_table.html","title":"Accessing SAP tables via JCo","body":"<p>To access SAP Tables just by specifying just the table name and columns, use the RFC <a href=\"https://www.sapdatasheet.org/abap/func/rfc_read_table.html\" rel=\"nofollow\">RFC_READ_TABLE</a> (External access to R/3 tables via RFC)</p>\n\n<ul>\n<li>parameter <strong>QUERY_TABLE</strong> - specify the table name here</li>\n<li>(optional) parameter <strong>ROWSKIPS</strong> - skip the first records</li>\n<li>(optional) parameter <strong>ROWCOUNT</strong> - max row count to be loaded, for performance considerations</li>\n</ul>\n"}],"owner":{"account_id":1475375,"reputation":1118,"user_id":1385883,"accept_rate":43,"display_name":"vr3w3c9"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2858,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1683455378,"creation_date":1409821860,"question_id":25661491,"body_markdown":"I&#39;m currently using SAP JCo to connect to SAP system and fetch the data from the SAP tables. I&#39;m using the internal BAPI functions to fetch the data from SAP tables. I would like to know the approach of how to fetch the data from SAP tables, by just specifying the table name and the columns from which the data should be retrieved. \r\n\r\nBelow is the code that I&#39;m using to fetch data via the BAPI functions.\r\n\r\nAny help on how to access the SAP tables by specifying just the table name and columns is much appreciated. Thanks in Advance.\r\n\r\n    JCoFunction function = destination.getRepository().getFunction(&quot;BAPI_COMPANYCODE_GETLIST&quot;);\r\n        if(function == null)\r\n            throw new RuntimeException(&quot;BAPI_COMPANYCODE_GETLIST not found in SAP.&quot;);\r\n\r\n        try\r\n        {\r\n            function.execute(destination);\r\n        }\r\n        catch(AbapException e)\r\n        {\r\n            System.out.println(e.toString());\r\n            return;\r\n        }\r\n        \r\n        JCoStructure returnStructure = function.getExportParameterList().getStructure(&quot;RETURN&quot;);\r\n        if (! (returnStructure.getString(&quot;TYPE&quot;).equals(&quot;&quot;)||returnStructure.getString(&quot;TYPE&quot;).equals(&quot;S&quot;))  )   \r\n        {\r\n           throw new RuntimeException(returnStructure.getString(&quot;MESSAGE&quot;));\r\n        }\r\n        \r\n        JCoTable codes = function.getTableParameterList().getTable(&quot;COMPANYCODE_LIST&quot;);\r\n        final FileWriter outFile = new FileWriter(&quot;D:\\\\out.csv&quot;);\r\n        \r\n        for (int i = 0; i &lt; codes.getNumRows(); i++) \r\n        {\r\n            codes.setRow(i);\r\n          \r\n        }\r\n        \r\n        \r\n        codes.firstRow();\r\n        for (int i = 0; i &lt; codes.getNumRows(); i++, codes.nextRow()) \r\n        {\r\n            function = destination.getRepository().getFunction(&quot;BAPI_COMPANYCODE_GETDETAIL&quot;);\r\n            if (function == null) \r\n                throw new RuntimeException(&quot;BAPI_COMPANYCODE_GETDETAIL not found in SAP.&quot;);\r\n            \r\n            function.getImportParameterList().setValue(&quot;COMPANYCODEID&quot;, codes.getString(&quot;COMP_CODE&quot;));\r\n            function.getExportParameterList().setActive(&quot;COMPANYCODE_ADDRESS&quot;,false);\r\n            \r\n            try\r\n            {\r\n                function.execute(destination);\r\n            }\r\n            catch (AbapException e)\r\n            {\r\n                System.out.println(e.toString());\r\n                return;\r\n            }\r\n\r\n            returnStructure = function.getExportParameterList().getStructure(&quot;RETURN&quot;);\r\n            if (! (returnStructure.getString(&quot;TYPE&quot;).equals(&quot;&quot;) ||\r\n                   returnStructure.getString(&quot;TYPE&quot;).equals(&quot;S&quot;) ||\r\n                   returnStructure.getString(&quot;TYPE&quot;).equals(&quot;W&quot;)) ) \r\n            {\r\n                throw new RuntimeException(returnStructure.getString(&quot;MESSAGE&quot;));\r\n            }\r\n            \r\n            JCoStructure detail = function.getExportParameterList().getStructure(&quot;COMPANYCODE_DETAIL&quot;);\r\n","title":"Accessing SAP tables via JCo","body":"<p>I'm currently using SAP JCo to connect to SAP system and fetch the data from the SAP tables. I'm using the internal BAPI functions to fetch the data from SAP tables. I would like to know the approach of how to fetch the data from SAP tables, by just specifying the table name and the columns from which the data should be retrieved.</p>\n<p>Below is the code that I'm using to fetch data via the BAPI functions.</p>\n<p>Any help on how to access the SAP tables by specifying just the table name and columns is much appreciated. Thanks in Advance.</p>\n<pre><code>JCoFunction function = destination.getRepository().getFunction(&quot;BAPI_COMPANYCODE_GETLIST&quot;);\n    if(function == null)\n        throw new RuntimeException(&quot;BAPI_COMPANYCODE_GETLIST not found in SAP.&quot;);\n\n    try\n    {\n        function.execute(destination);\n    }\n    catch(AbapException e)\n    {\n        System.out.println(e.toString());\n        return;\n    }\n    \n    JCoStructure returnStructure = function.getExportParameterList().getStructure(&quot;RETURN&quot;);\n    if (! (returnStructure.getString(&quot;TYPE&quot;).equals(&quot;&quot;)||returnStructure.getString(&quot;TYPE&quot;).equals(&quot;S&quot;))  )   \n    {\n       throw new RuntimeException(returnStructure.getString(&quot;MESSAGE&quot;));\n    }\n    \n    JCoTable codes = function.getTableParameterList().getTable(&quot;COMPANYCODE_LIST&quot;);\n    final FileWriter outFile = new FileWriter(&quot;D:\\\\out.csv&quot;);\n    \n    for (int i = 0; i &lt; codes.getNumRows(); i++) \n    {\n        codes.setRow(i);\n      \n    }\n    \n    \n    codes.firstRow();\n    for (int i = 0; i &lt; codes.getNumRows(); i++, codes.nextRow()) \n    {\n        function = destination.getRepository().getFunction(&quot;BAPI_COMPANYCODE_GETDETAIL&quot;);\n        if (function == null) \n            throw new RuntimeException(&quot;BAPI_COMPANYCODE_GETDETAIL not found in SAP.&quot;);\n        \n        function.getImportParameterList().setValue(&quot;COMPANYCODEID&quot;, codes.getString(&quot;COMP_CODE&quot;));\n        function.getExportParameterList().setActive(&quot;COMPANYCODE_ADDRESS&quot;,false);\n        \n        try\n        {\n            function.execute(destination);\n        }\n        catch (AbapException e)\n        {\n            System.out.println(e.toString());\n            return;\n        }\n\n        returnStructure = function.getExportParameterList().getStructure(&quot;RETURN&quot;);\n        if (! (returnStructure.getString(&quot;TYPE&quot;).equals(&quot;&quot;) ||\n               returnStructure.getString(&quot;TYPE&quot;).equals(&quot;S&quot;) ||\n               returnStructure.getString(&quot;TYPE&quot;).equals(&quot;W&quot;)) ) \n        {\n            throw new RuntimeException(returnStructure.getString(&quot;MESSAGE&quot;));\n        }\n        \n        JCoStructure detail = function.getExportParameterList().getStructure(&quot;COMPANYCODE_DETAIL&quot;);\n</code></pre>\n"},{"tags":["java","selenium-webdriver"],"comments":[{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1683385283,"post_id":76189478,"comment_id":134360333,"body_markdown":"Please give as an actual example of an input and the expected output.","body":"Please give as an actual example of an input and the expected output."},{"owner":{"account_id":23988379,"reputation":15,"user_id":17974910,"display_name":"likenzy"},"score":0,"creation_date":1683385950,"post_id":76189478,"comment_id":134360425,"body_markdown":"input is 4.000.000$ and expected output is 4000000","body":"input is 4.000.000$ and expected output is 4000000"},{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":0,"creation_date":1683391560,"post_id":76189478,"comment_id":134361119,"body_markdown":"@likenzy put examples in your post, and make sure they make sense: dollar amounts are generally for countries that use a &quot;decimal **point**&quot;, with thousands separated by commas, and the currency symbol would be in front, not behind, so is this for a specific locale that uses a different convention? Which one? Also, show examples of what should happen with prices that _do_ have decimal fractions? How many digits? Should it round if it&#39;s more than 2? Leave them? [Put all your details in your post](/help/how-to-ask) because parsing prices can be trivial, but almost never is.","body":"@likenzy put examples in your post, and make sure they make sense: dollar amounts are generally for countries that use a &quot;decimal <b>point</b>&quot;, with thousands separated by commas, and the currency symbol would be in front, not behind, so is this for a specific locale that uses a different convention? Which one? Also, show examples of what should happen with prices that <i>do</i> have decimal fractions? How many digits? Should it round if it&#39;s more than 2? Leave them? <a href=\"/help/how-to-ask\">Put all your details in your post</a> because parsing prices can be trivial, but almost never is."}],"answers":[{"tags":[],"owner":{"account_id":11709353,"reputation":491,"user_id":8571768,"display_name":"Sid"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683391361,"creation_date":1683391191,"answer_id":76190025,"question_id":76189478,"body_markdown":"From selenium `WebElement.getText` method you will get the element text as it is in the DOM. Then you can perform operations on the string as per requirement. In this case, you can replace all non-numeric characters after getting the text from the element.\r\n\r\nHere is one example how you can parse the numeric value from the price string.\r\n\r\n    public static String parseNumericPrice(String price) {\r\n        return price.replaceAll(&quot;[^0-9\\\\.]&quot;, &quot;&quot;); // remove everything other than number and dot (.), modify based on your need\r\n\t}\r\n\r\n\r\nFurther if you need to get the value as double / integer you can pass the output of `parseNumericPrice` into `Double.parseDouble` or `Integer.parseInt`.\r\n\r\nExample as per your use-case:\r\n\r\n    System.out.println(parseNumber(price.getText())); // string\r\n    System.out.println(Double.parseDouble(parseNumber(price.getText()))); // as double\r\n\r\n\r\n\r\n\r\n","title":"How to filter pure number out of text string","body":"<p>From selenium <code>WebElement.getText</code> method you will get the element text as it is in the DOM. Then you can perform operations on the string as per requirement. In this case, you can replace all non-numeric characters after getting the text from the element.</p>\n<p>Here is one example how you can parse the numeric value from the price string.</p>\n<pre><code>public static String parseNumericPrice(String price) {\n    return price.replaceAll(&quot;[^0-9\\\\.]&quot;, &quot;&quot;); // remove everything other than number and dot (.), modify based on your need\n}\n</code></pre>\n<p>Further if you need to get the value as double / integer you can pass the output of <code>parseNumericPrice</code> into <code>Double.parseDouble</code> or <code>Integer.parseInt</code>.</p>\n<p>Example as per your use-case:</p>\n<pre><code>System.out.println(parseNumber(price.getText())); // string\nSystem.out.println(Double.parseDouble(parseNumber(price.getText()))); // as double\n</code></pre>\n"}],"owner":{"account_id":23988379,"reputation":15,"user_id":17974910,"display_name":"likenzy"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1683395612,"answer_count":1,"score":-1,"last_activity_date":1683455005,"creation_date":1683384042,"question_id":76189478,"body_markdown":"I want to scrape the price out of a website to compare the price between my website\r\nThe data exported out was in form $XXX.XXX and I want it in a pure number like XXXXXX.\r\nHere is my code:\r\n\r\n```\r\nimport org.openqa.selenium.By;\r\nimport org.openqa.selenium.WebElement;\r\nimport org.openqa.selenium.chrome.ChromeDriver;\r\n\r\npublic class scrape {\r\n    public static void main(String[] args) {\r\n        System.setProperty(&quot;webdriver.chrome.driver&quot;,&quot;...driver\\\\chromedriver.exe&quot;);\r\n        ChromeDriver driver = new ChromeDriver();\r\n        driver.manage().window().maximize();\r\n        driver.get(&quot;...&quot;);\r\n        WebElement price = driver.findElement(By.xpath(&quot;//p[contains(@class, &#39;box-price-present&#39;)]&quot;));\r\n        System.out.println(&quot;price: &quot;+price.getText());\r\n        driver.quit();\r\n}}\r\n```\r\n\r\n\r\nThe exported data was in text form and I want it in pure number form.","title":"How to filter pure number out of text string","body":"<p>I want to scrape the price out of a website to compare the price between my website\nThe data exported out was in form $XXX.XXX and I want it in a pure number like XXXXXX.\nHere is my code:</p>\n<pre><code>import org.openqa.selenium.By;\nimport org.openqa.selenium.WebElement;\nimport org.openqa.selenium.chrome.ChromeDriver;\n\npublic class scrape {\n    public static void main(String[] args) {\n        System.setProperty(&quot;webdriver.chrome.driver&quot;,&quot;...driver\\\\chromedriver.exe&quot;);\n        ChromeDriver driver = new ChromeDriver();\n        driver.manage().window().maximize();\n        driver.get(&quot;...&quot;);\n        WebElement price = driver.findElement(By.xpath(&quot;//p[contains(@class, 'box-price-present')]&quot;));\n        System.out.println(&quot;price: &quot;+price.getText());\n        driver.quit();\n}}\n</code></pre>\n<p>The exported data was in text form and I want it in pure number form.</p>\n"},{"tags":["java","cmd","cd"],"comments":[{"owner":{"account_id":3124049,"reputation":9478,"user_id":2643274,"accept_rate":91,"display_name":"Steam"},"score":0,"creation_date":1414997565,"post_id":15464111,"comment_id":42010248,"body_markdown":"There is some code here - http://viralpatel.net/blogs/how-to-execute-command-prompt-command-view-output-java/","body":"There is some code here - <a href=\"http://viralpatel.net/blogs/how-to-execute-command-prompt-command-view-output-java/\" rel=\"nofollow noreferrer\">viralpatel.net/blogs/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":2189891,"reputation":8117,"user_id":1937270,"accept_rate":91,"display_name":"syb0rg"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1363544067,"creation_date":1363542783,"answer_id":15464122,"question_id":15464111,"body_markdown":"The easiest way would be to use [`Runtime.getRuntime.exec()`][1].\r\n\r\nFor example, to get a registry value for the default browser on Windows:\r\n\r\n    String command = &quot;REG QUERY HKEY_CLASSES_ROOT\\\\http\\\\shell\\\\open\\\\command&quot;;\r\n    try\r\n    {\r\n        Process process = Runtime.getRuntime().exec(command);\r\n    } catch (IOException e)\r\n    {\r\n        e.printStackTrace();\r\n    }\r\n\r\nThen use a `Scanner` to get the output of the command, if necessary.\r\n\r\n    Scanner kb = new Scanner(process.getInputStream());\r\n\r\n**Note**: the `\\` is an escape character in a `String`, and must be escaped to work properly (hence the `\\\\`).\r\n\r\n---\r\n\r\nHowever, there is no executable called `cd`, because it can&#39;t be implemented in a separate process.\r\n\r\nThe one case where the current working directory matters is executing an external process (using [`ProcessBuilder`][2] or [`Runtime.exec()`][3]). In those cases you can specify the working directory to use for the newly started process explicitly.\r\n\r\nEasiest way for your command: \r\n\r\n    System.setProperty(&quot;user.dir&quot;, &quot;C:\\\\Program Files\\\\Flowella&quot;);\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/lang/Runtime.html#exec%28java.lang.String%29\r\n  [2]: http://download.oracle.com/javase/6/docs/api/java/lang/ProcessBuilder.html#directory%28java.io.File%29\r\n  [3]: http://download.oracle.com/javase/6/docs/api/java/lang/Runtime.html#exec(java.lang.String,%20java.lang.String%5B%5D,%20java.io.File)","title":"Run cmd commands through Java","body":"<p>The easiest way would be to use <a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/Runtime.html#exec%28java.lang.String%29\" rel=\"nofollow\"><code>Runtime.getRuntime.exec()</code></a>.</p>\n\n<p>For example, to get a registry value for the default browser on Windows:</p>\n\n<pre><code>String command = \"REG QUERY HKEY_CLASSES_ROOT\\\\http\\\\shell\\\\open\\\\command\";\ntry\n{\n    Process process = Runtime.getRuntime().exec(command);\n} catch (IOException e)\n{\n    e.printStackTrace();\n}\n</code></pre>\n\n<p>Then use a <code>Scanner</code> to get the output of the command, if necessary.</p>\n\n<pre><code>Scanner kb = new Scanner(process.getInputStream());\n</code></pre>\n\n<p><strong>Note</strong>: the <code>\\</code> is an escape character in a <code>String</code>, and must be escaped to work properly (hence the <code>\\\\</code>).</p>\n\n<hr>\n\n<p>However, there is no executable called <code>cd</code>, because it can't be implemented in a separate process.</p>\n\n<p>The one case where the current working directory matters is executing an external process (using <a href=\"http://download.oracle.com/javase/6/docs/api/java/lang/ProcessBuilder.html#directory%28java.io.File%29\" rel=\"nofollow\"><code>ProcessBuilder</code></a> or <a href=\"http://download.oracle.com/javase/6/docs/api/java/lang/Runtime.html#exec%28java.lang.String,%20java.lang.String%5B%5D,%20java.io.File%29\" rel=\"nofollow\"><code>Runtime.exec()</code></a>). In those cases you can specify the working directory to use for the newly started process explicitly.</p>\n\n<p>Easiest way for your command: </p>\n\n<pre><code>System.setProperty(\"user.dir\", \"C:\\\\Program Files\\\\Flowella\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1626304,"reputation":169369,"user_id":1501794,"accept_rate":72,"display_name":"Rahul Tripathi"},"down_vote_count":3,"up_vote_count":21,"is_accepted":false,"score":18,"last_activity_date":1363543981,"creation_date":1363542819,"answer_id":15464129,"question_id":15464111,"body_markdown":"You can try this:-\r\n\r\n    Process p = Runtime.getRuntime().exec(command);","title":"Run cmd commands through Java","body":"<p>You can try this:-</p>\n\n<pre><code>Process p = Runtime.getRuntime().exec(command);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2363243,"reputation":2546,"user_id":2069493,"display_name":"Akhilesh Singh"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1363543356,"creation_date":1363543356,"answer_id":15464222,"question_id":15464111,"body_markdown":"Once you get the reference to Process, you can call getOutpuStream on it to get the standard input of the cmd prompt. Then you can send any command over the stream using write method as with any other stream.\r\n\r\nNote that it is process.getOutputStream() which is connected to the stdin on the spawned process. Similarly, to get the output of any command, you will need to call getInputStream and then read over this as any other input stream.","title":"Run cmd commands through Java","body":"<p>Once you get the reference to Process, you can call getOutpuStream on it to get the standard input of the cmd prompt. Then you can send any command over the stream using write method as with any other stream.</p>\n\n<p>Note that it is process.getOutputStream() which is connected to the stdin on the spawned process. Similarly, to get the output of any command, you will need to call getInputStream and then read over this as any other input stream.</p>\n"},{"tags":[],"owner":{"account_id":430718,"reputation":2188,"user_id":814304,"accept_rate":33,"display_name":"iMysak"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1363543712,"creation_date":1363543712,"answer_id":15464292,"question_id":15464111,"body_markdown":"My example (from real project)\r\n\r\nfolder  File.\r\n\r\nzipFile, filesString  String;\r\n\r\n\r\n\r\n            final String command = &quot;/bin/tar -xvf &quot; + zipFile + &quot; &quot; + filesString;\r\n            logger.info(&quot;Start unzipping: {}    into the folder {}&quot;, command, folder.getPath());\r\n            final Runtime r = Runtime.getRuntime();\r\n            final Process p = r.exec(command, null, folder);\r\n            final int returnCode = p.waitFor();\r\n\r\n            if (logger.isWarnEnabled()) {\r\n                final BufferedReader is = new BufferedReader(new InputStreamReader(p.getInputStream()));\r\n                String line;\r\n                while ((line = is.readLine()) != null) {\r\n                    logger.warn(line);\r\n                }\r\n                final BufferedReader is2 = new BufferedReader(new InputStreamReader(p.getErrorStream()));\r\n                while ((line = is2.readLine()) != null) {\r\n                    logger.warn(line);\r\n                }\r\n            }","title":"Run cmd commands through Java","body":"<p>My example (from real project)</p>\n\n<p>folder  File.</p>\n\n<p>zipFile, filesString  String;</p>\n\n<pre><code>        final String command = \"/bin/tar -xvf \" + zipFile + \" \" + filesString;\n        logger.info(\"Start unzipping: {}    into the folder {}\", command, folder.getPath());\n        final Runtime r = Runtime.getRuntime();\n        final Process p = r.exec(command, null, folder);\n        final int returnCode = p.waitFor();\n\n        if (logger.isWarnEnabled()) {\n            final BufferedReader is = new BufferedReader(new InputStreamReader(p.getInputStream()));\n            String line;\n            while ((line = is.readLine()) != null) {\n                logger.warn(line);\n            }\n            final BufferedReader is2 = new BufferedReader(new InputStreamReader(p.getErrorStream()));\n            while ((line = is2.readLine()) != null) {\n                logger.warn(line);\n            }\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":953149,"reputation":177293,"user_id":978917,"accept_rate":86,"display_name":"ruakh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1363543955,"creation_date":1363543955,"answer_id":15464323,"question_id":15464111,"body_markdown":"You can&#39;t run `cd` this way, because `cd` isn&#39;t a real program; it&#39;s a built-in part of the command-line, and all it does is change the command-line&#39;s environment. It doesn&#39;t make sense to run it in a subprocess, because then you&#39;re changing that subprocess&#39;s environment &amp;mdash; but that subprocess closes immediately, discarding its environment.\r\n\r\nTo set the current working directory in your actual Java program, you should write:\r\n\r\n    System.setProperty(&quot;user.dir&quot;, &quot;C:\\\\Program Files\\\\Flowella&quot;);","title":"Run cmd commands through Java","body":"<p>You can't run <code>cd</code> this way, because <code>cd</code> isn't a real program; it's a built-in part of the command-line, and all it does is change the command-line's environment. It doesn't make sense to run it in a subprocess, because then you're changing that subprocess's environment &mdash; but that subprocess closes immediately, discarding its environment.</p>\n\n<p>To set the current working directory in your actual Java program, you should write:</p>\n\n<pre><code>System.setProperty(\"user.dir\", \"C:\\\\Program Files\\\\Flowella\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20338,"reputation":63801,"user_id":48503,"accept_rate":100,"display_name":"Luke Woodward"},"down_vote_count":0,"up_vote_count":161,"is_accepted":true,"score":161,"last_activity_date":1363544605,"creation_date":1363544605,"answer_id":15464449,"question_id":15464111,"body_markdown":"One way to run a process from a different directory to the working directory of your Java program is to change directory and then run the process in the same command line.  You can do this by getting `cmd.exe` to run a command line such as  `cd some_directory &amp;&amp; some_program`.\r\n\r\nThe following example changes to a different directory and runs `dir` from there.  Admittedly, I could just `dir` that directory without needing to `cd` to it, but this is only an example:\r\n\r\n    import java.io.*;\r\n    \r\n    public class CmdTest {\r\n        public static void main(String[] args) throws Exception {\r\n            ProcessBuilder builder = new ProcessBuilder(\r\n                &quot;cmd.exe&quot;, &quot;/c&quot;, &quot;cd \\&quot;C:\\\\Program Files\\\\Microsoft SQL Server\\&quot; &amp;&amp; dir&quot;);\r\n            builder.redirectErrorStream(true);\r\n            Process p = builder.start();\r\n            BufferedReader r = new BufferedReader(new InputStreamReader(p.getInputStream()));\r\n            String line;\r\n            while (true) {\r\n                line = r.readLine();\r\n                if (line == null) { break; }\r\n                System.out.println(line);\r\n            }\r\n        }\r\n    }\r\n\r\nNote also that I&#39;m using a `ProcessBuilder` to run the command.  Amongst other things, this allows me to redirect the process&#39;s standard error into its standard output, by calling `redirectErrorStream(true)`.  Doing so gives me only one stream to read from.\r\n\r\nThis gives me the following output on my machine:\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    C:\\Users\\Luke\\StackOverflow&gt;java CmdTest\r\n     Volume in drive C is Windows7\r\n     Volume Serial Number is D8F0-C934\r\n    \r\n     Directory of C:\\Program Files\\Microsoft SQL Server\r\n    \r\n    29/07/2011  11:03    &lt;DIR&gt;          .\r\n    29/07/2011  11:03    &lt;DIR&gt;          ..\r\n    21/01/2011  20:37    &lt;DIR&gt;          100\r\n    21/01/2011  20:35    &lt;DIR&gt;          80\r\n    21/01/2011  20:35    &lt;DIR&gt;          90\r\n    21/01/2011  20:39    &lt;DIR&gt;          MSSQL10_50.SQLEXPRESS\r\n                   0 File(s)              0 bytes\r\n                   6 Dir(s)  209,496,424,448 bytes free","title":"Run cmd commands through Java","body":"<p>One way to run a process from a different directory to the working directory of your Java program is to change directory and then run the process in the same command line.  You can do this by getting <code>cmd.exe</code> to run a command line such as  <code>cd some_directory &amp;&amp; some_program</code>.</p>\n\n<p>The following example changes to a different directory and runs <code>dir</code> from there.  Admittedly, I could just <code>dir</code> that directory without needing to <code>cd</code> to it, but this is only an example:</p>\n\n<pre><code>import java.io.*;\n\npublic class CmdTest {\n    public static void main(String[] args) throws Exception {\n        ProcessBuilder builder = new ProcessBuilder(\n            \"cmd.exe\", \"/c\", \"cd \\\"C:\\\\Program Files\\\\Microsoft SQL Server\\\" &amp;&amp; dir\");\n        builder.redirectErrorStream(true);\n        Process p = builder.start();\n        BufferedReader r = new BufferedReader(new InputStreamReader(p.getInputStream()));\n        String line;\n        while (true) {\n            line = r.readLine();\n            if (line == null) { break; }\n            System.out.println(line);\n        }\n    }\n}\n</code></pre>\n\n<p>Note also that I'm using a <code>ProcessBuilder</code> to run the command.  Amongst other things, this allows me to redirect the process's standard error into its standard output, by calling <code>redirectErrorStream(true)</code>.  Doing so gives me only one stream to read from.</p>\n\n<p>This gives me the following output on my machine:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>C:\\Users\\Luke\\StackOverflow&gt;java CmdTest\n Volume in drive C is Windows7\n Volume Serial Number is D8F0-C934\n\n Directory of C:\\Program Files\\Microsoft SQL Server\n\n29/07/2011  11:03    &lt;DIR&gt;          .\n29/07/2011  11:03    &lt;DIR&gt;          ..\n21/01/2011  20:37    &lt;DIR&gt;          100\n21/01/2011  20:35    &lt;DIR&gt;          80\n21/01/2011  20:35    &lt;DIR&gt;          90\n21/01/2011  20:39    &lt;DIR&gt;          MSSQL10_50.SQLEXPRESS\n               0 File(s)              0 bytes\n               6 Dir(s)  209,496,424,448 bytes free\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5482203,"reputation":101,"user_id":4358267,"display_name":"Ashwini Sinha"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1521478446,"creation_date":1418511542,"answer_id":27464536,"question_id":15464111,"body_markdown":"If you want to perform actions like `cd`, then use:\r\n\r\n    String[] command = {command_to_be_executed, arg1, arg2};\r\n    ProcessBuilder builder = new ProcessBuilder(command);\r\n    builder = builder.directory(new File(&quot;directory_location&quot;));\r\n    \r\nExample:\r\n\r\n    String[] command = {&quot;ls&quot;, &quot;-al&quot;};\r\n    ProcessBuilder builder = new ProcessBuilder(command);\r\n    builder = builder.directory(new File(&quot;/ngs/app/abc&quot;));\r\n    Process p = builder.start();\r\n\r\nIt is important that you split the command and all arguments in separate strings of the string array (otherwise they will not be provided correctly by the `ProcessBuilder` API).","title":"Run cmd commands through Java","body":"<p>If you want to perform actions like <code>cd</code>, then use:</p>\n\n<pre><code>String[] command = {command_to_be_executed, arg1, arg2};\nProcessBuilder builder = new ProcessBuilder(command);\nbuilder = builder.directory(new File(\"directory_location\"));\n</code></pre>\n\n<p>Example:</p>\n\n<pre><code>String[] command = {\"ls\", \"-al\"};\nProcessBuilder builder = new ProcessBuilder(command);\nbuilder = builder.directory(new File(\"/ngs/app/abc\"));\nProcess p = builder.start();\n</code></pre>\n\n<p>It is important that you split the command and all arguments in separate strings of the string array (otherwise they will not be provided correctly by the <code>ProcessBuilder</code> API).</p>\n"},{"tags":[],"owner":{"account_id":8752405,"reputation":47,"user_id":6545113,"display_name":"Miguel Vieira"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1467588649,"creation_date":1467585128,"answer_id":38174894,"question_id":15464111,"body_markdown":"Try this: \r\n\r\n    Process runtime = Runtime.getRuntime().exec(&quot;cmd /c start notepad++.exe&quot;);\r\n\r\n\t","title":"Run cmd commands through Java","body":"<p>Try this: </p>\n\n<pre><code>Process runtime = Runtime.getRuntime().exec(\"cmd /c start notepad++.exe\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1146772,"reputation":31458,"user_id":1129332,"accept_rate":61,"display_name":"Ilya Gazman"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1514391549,"creation_date":1514391549,"answer_id":47995369,"question_id":15464111,"body_markdown":"Here is a more complete implementation of command line execution.\r\n\r\nUsage\r\n-----\r\n\r\n    executeCommand(&quot;ls&quot;);\r\n\r\n**Output:**\r\n\r\n    12/27/2017 11:18:11:732: ls\r\n    12/27/2017 11:18:11:820: build.gradle\r\n    12/27/2017 11:18:11:820: gradle\r\n    12/27/2017 11:18:11:820: gradlew\r\n    12/27/2017 11:18:11:820: gradlew.bat\r\n    12/27/2017 11:18:11:820: out\r\n    12/27/2017 11:18:11:820: settings.gradle\r\n    12/27/2017 11:18:11:820: src\r\n\r\nCode\r\n----\r\n\r\n    private void executeCommand(String command) {\r\n        try {\r\n            log(command);\r\n            Process process = Runtime.getRuntime().exec(command);\r\n            logOutput(process.getInputStream(), &quot;&quot;);\r\n            logOutput(process.getErrorStream(), &quot;Error: &quot;);\r\n            process.waitFor();\r\n        } catch (IOException | InterruptedException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    private void logOutput(InputStream inputStream, String prefix) {\r\n        new Thread(() -&gt; {\r\n            Scanner scanner = new Scanner(inputStream, &quot;UTF-8&quot;);\r\n            while (scanner.hasNextLine()) {\r\n                synchronized (this) {\r\n                    log(prefix + scanner.nextLine());\r\n                }\r\n            }\r\n            scanner.close();\r\n        }).start();\r\n    }\r\n\r\n    private static SimpleDateFormat format = new SimpleDateFormat(&quot;MM/dd/yyyy hh:mm:ss:SSS&quot;);\r\n\r\n    private synchronized void log(String message) {\r\n        System.out.println(format.format(new Date()) + &quot;: &quot; + message);\r\n    }","title":"Run cmd commands through Java","body":"<p>Here is a more complete implementation of command line execution.</p>\n\n<h2>Usage</h2>\n\n<pre><code>executeCommand(\"ls\");\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<pre><code>12/27/2017 11:18:11:732: ls\n12/27/2017 11:18:11:820: build.gradle\n12/27/2017 11:18:11:820: gradle\n12/27/2017 11:18:11:820: gradlew\n12/27/2017 11:18:11:820: gradlew.bat\n12/27/2017 11:18:11:820: out\n12/27/2017 11:18:11:820: settings.gradle\n12/27/2017 11:18:11:820: src\n</code></pre>\n\n<h2>Code</h2>\n\n<pre><code>private void executeCommand(String command) {\n    try {\n        log(command);\n        Process process = Runtime.getRuntime().exec(command);\n        logOutput(process.getInputStream(), \"\");\n        logOutput(process.getErrorStream(), \"Error: \");\n        process.waitFor();\n    } catch (IOException | InterruptedException e) {\n        e.printStackTrace();\n    }\n}\n\nprivate void logOutput(InputStream inputStream, String prefix) {\n    new Thread(() -&gt; {\n        Scanner scanner = new Scanner(inputStream, \"UTF-8\");\n        while (scanner.hasNextLine()) {\n            synchronized (this) {\n                log(prefix + scanner.nextLine());\n            }\n        }\n        scanner.close();\n    }).start();\n}\n\nprivate static SimpleDateFormat format = new SimpleDateFormat(\"MM/dd/yyyy hh:mm:ss:SSS\");\n\nprivate synchronized void log(String message) {\n    System.out.println(format.format(new Date()) + \": \" + message);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9404127,"reputation":643,"user_id":7691630,"display_name":"Aleksei Sotnikov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1524566975,"creation_date":1524566975,"answer_id":49999809,"question_id":15464111,"body_markdown":"The simplest and shortest way is to use [CmdTool][1] library.\r\n\r\n    new Cmd()\r\n             .configuring(new WorkDir(&quot;C:/Program Files/Flowella&quot;))\r\n             .command(&quot;cmd.exe&quot;, &quot;/c&quot;, &quot;start&quot;)\r\n             .execute();\r\n\r\n\r\n\r\nYou can find more examples [here][1].\r\n  [1]: https://github.com/alekseysotnikov/CmdTool","title":"Run cmd commands through Java","body":"<p>The simplest and shortest way is to use <a href=\"https://github.com/alekseysotnikov/CmdTool\" rel=\"nofollow noreferrer\">CmdTool</a> library.</p>\n\n<pre><code>new Cmd()\n         .configuring(new WorkDir(\"C:/Program Files/Flowella\"))\n         .command(\"cmd.exe\", \"/c\", \"start\")\n         .execute();\n</code></pre>\n\n<p>You can find more examples <a href=\"https://github.com/alekseysotnikov/CmdTool\" rel=\"nofollow noreferrer\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":13996556,"reputation":938,"user_id":10109195,"display_name":"Energy"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1552877397,"creation_date":1552876952,"answer_id":55214085,"question_id":15464111,"body_markdown":"one of the way to execute cmd from java !\r\n\r\n    public void executeCmd() {\r\n    \tString anyCommand=&quot;your command&quot;;\r\n    \ttry {\r\n    \t\tProcess process = Runtime.getRuntime().exec(&quot;cmd /c start cmd.exe /K &quot; + anyCommand);\r\n\r\n    \t} catch (IOException e) {\r\n    \t\te.printStackTrace();\r\n    \t}\r\n    }","title":"Run cmd commands through Java","body":"<p>one of the way to execute cmd from java !</p>\n\n<pre><code>public void executeCmd() {\n    String anyCommand=\"your command\";\n    try {\n        Process process = Runtime.getRuntime().exec(\"cmd /c start cmd.exe /K \" + anyCommand);\n\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9761453,"reputation":127,"user_id":7236415,"display_name":"Tonecops"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1578172901,"creation_date":1578172901,"answer_id":59594957,"question_id":15464111,"body_markdown":"Here the value adder is use of ampersands to batch commands and correct format for change drive with cd.\r\n\r\n    public class CmdCommander {\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        //easyway to start native windows command prompt from Intellij\r\n\r\n        /*\r\n        Rules are:\r\n        1.baseStart must be dual start\r\n        2.first command must not have &amp;.\r\n        3.subsequent commands must be prepended with &amp;\r\n        4.drive change needs extra &amp;\r\n        5.use quotes at start and end of command batch\r\n        */\r\n        String startQuote = &quot;\\&quot;&quot;;\r\n        String endQuote = &quot;\\&quot;&quot;;\r\n        //String baseStart_not_taking_commands = &quot; cmd  /K start &quot;;\r\n        String baseStart = &quot; cmd  /K start cmd /K &quot;;//dual start is must\r\n\r\n        String first_command_chcp = &quot; chcp 1251 &quot;;\r\n        String dirList = &quot; &amp;dir &quot;;//&amp; in front of commands after first command means enter\r\n        //change drive....to yours\r\n        String changeDir = &quot; &amp;cd &amp;I: &quot;;//extra &amp; makes changing drive happen\r\n\r\n        String javaLaunch = &quot; &amp;java &quot;;//just another command\r\n        String javaClass = &quot; Encodes &quot;;//parameter for java needs no &amp;\r\n\r\n        String javaCommand = javaLaunch + javaClass;\r\n        //build batch command\r\n        String totalCommand =\r\n                baseStart +\r\n                        startQuote +\r\n                        first_command_chcp +\r\n                        //javaCommand +\r\n                        changeDir +\r\n                        dirList +\r\n                        endQuote;\r\n\r\n        System.out.println(totalCommand);//prints into Intellij terminal\r\n        runCmd(totalCommand);\r\n        //Thread t = Thread.currentThread();\r\n        //t.sleep(3000);\r\n        System.out.println(&quot;loppu hep&quot;);//prints into Intellij terminal\r\n\r\n    }\r\n\r\n\r\n    public static void runCmd(String command) throws Exception {\r\n\r\n        Runtime rt = Runtime.getRuntime();\r\n        Process proc = rt.exec(command);\r\n\r\n\r\n    }\r\n\r\n}\r\n\r\n\r\n","title":"Run cmd commands through Java","body":"<p>Here the value adder is use of ampersands to batch commands and correct format for change drive with cd.</p>\n\n<pre><code>public class CmdCommander {\n\npublic static void main(String[] args) throws Exception {\n    //easyway to start native windows command prompt from Intellij\n\n    /*\n    Rules are:\n    1.baseStart must be dual start\n    2.first command must not have &amp;.\n    3.subsequent commands must be prepended with &amp;\n    4.drive change needs extra &amp;\n    5.use quotes at start and end of command batch\n    */\n    String startQuote = \"\\\"\";\n    String endQuote = \"\\\"\";\n    //String baseStart_not_taking_commands = \" cmd  /K start \";\n    String baseStart = \" cmd  /K start cmd /K \";//dual start is must\n\n    String first_command_chcp = \" chcp 1251 \";\n    String dirList = \" &amp;dir \";//&amp; in front of commands after first command means enter\n    //change drive....to yours\n    String changeDir = \" &amp;cd &amp;I: \";//extra &amp; makes changing drive happen\n\n    String javaLaunch = \" &amp;java \";//just another command\n    String javaClass = \" Encodes \";//parameter for java needs no &amp;\n\n    String javaCommand = javaLaunch + javaClass;\n    //build batch command\n    String totalCommand =\n            baseStart +\n                    startQuote +\n                    first_command_chcp +\n                    //javaCommand +\n                    changeDir +\n                    dirList +\n                    endQuote;\n\n    System.out.println(totalCommand);//prints into Intellij terminal\n    runCmd(totalCommand);\n    //Thread t = Thread.currentThread();\n    //t.sleep(3000);\n    System.out.println(\"loppu hep\");//prints into Intellij terminal\n\n}\n\n\npublic static void runCmd(String command) throws Exception {\n\n    Runtime rt = Runtime.getRuntime();\n    Process proc = rt.exec(command);\n\n\n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":14415840,"reputation":69,"user_id":10413314,"display_name":"Jaimin Mehta"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1654768671,"creation_date":1578761414,"answer_id":59696516,"question_id":15464111,"body_markdown":"    public class Demo {\r\n        public static void main(String args[]) throws IOException {\r\n\r\n            Process process = Runtime.getRuntime().exec(&quot;/Users/******/Library/Android/sdk/platform-tools/adb&quot; + &quot; shell dumpsys battery &quot;);\r\n            BufferedReader in = new BufferedReader(new InputStreamReader(process.getInputStream()));\r\n            String line = null;\r\n            while (true) {\r\n                line = in.readLine();\r\n                if (line == null) { break; }\r\n                System.out.println(line);\r\n            }\r\n        }\r\n    }\r\n","title":"Run cmd commands through Java","body":"<pre><code>public class Demo {\n    public static void main(String args[]) throws IOException {\n\n        Process process = Runtime.getRuntime().exec(&quot;/Users/******/Library/Android/sdk/platform-tools/adb&quot; + &quot; shell dumpsys battery &quot;);\n        BufferedReader in = new BufferedReader(new InputStreamReader(process.getInputStream()));\n        String line = null;\n        while (true) {\n            line = in.readLine();\n            if (line == null) { break; }\n            System.out.println(line);\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20323892,"reputation":31,"user_id":14907841,"display_name":"himanshu singh"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1609268232,"creation_date":1609252985,"answer_id":65493955,"question_id":15464111,"body_markdown":"Stopping and Disabling a service can be done via below code:\r\n\r\n```    \r\nstatic void sdService() {\r\n    String[] cmd = {&quot;cmd.exe&quot;, &quot;/c&quot;, &quot;net&quot;, &quot;stop&quot;, &quot;MSSQLSERVER&quot;};\r\n    try {\t\t\t\r\n        Process process = new ProcessBuilder(cmd).start();\r\n        process.waitFor();\t\t\r\n        String line = null;\r\n        BufferedReader bufferedReader = new BufferedReader(new InputStreamReader(process.getInputStream()));\r\n        while((line = bufferedReader.readLine()) != null) {\r\n            System.out.println(line);\r\n        }\r\n    \t    \t            \r\n        line = null;\r\n        bufferedReader = null;\r\n        Process p = Runtime.getRuntime().exec(&quot;sc config MSSQLSERVER start= disabled&quot;);\r\n        p.waitFor();\r\n        bufferedReader = new BufferedReader(new InputStreamReader(p.getInputStream()));\r\n        while((line = bufferedReader.readLine()) != null) {\r\n            System.out.println(line);\r\n        }\t                \r\n    } catch (Exception e) {\r\n        e.printStackTrace();\r\n    }    \t    \t\t\r\n}\r\n```    \r\n\r\nEnabling and Starting a service can be done via below code\r\n\r\n```\r\nstatic void esService() {\r\n    String[] cmd = {&quot;cmd.exe&quot;, &quot;/c&quot;, &quot;net&quot;, &quot;start&quot;, &quot;MSSQLSERVER&quot;};\r\n    \t    \t\t\r\n    try {\r\n        Process p = Runtime.getRuntime().exec(&quot;sc config MSSQLSERVER start= auto&quot;);\r\n    \t//Process p = Runtime.getRuntime().exec(&quot;sc config MSSQLSERVER start= demand&quot;);\r\n    \tp.waitFor();\t\t\r\n    \tString line = null;\r\n    \tBufferedReader bufferedReader = new BufferedReader(new InputStreamReader(p.getInputStream()));\r\n    \twhile((line = bufferedReader.readLine()) != null) {\r\n    \t    System.out.println(line);\r\n    \t}\r\n    \t    \t            \r\n    \tline = null;\r\n    \tbufferedReader = null;\r\n    \tProcess process = new ProcessBuilder(cmd).start();\t        \r\n    \tprocess.waitFor();\r\n    \tbufferedReader = new BufferedReader(new InputStreamReader(process.getInputStream()));\r\n    \twhile((line = bufferedReader.readLine()) != null) {\r\n    \t    System.out.println(line);\r\n    \t}\r\n    \t                \r\n    } catch (Exception e) {\r\n        e.printStackTrace();\r\n    }\t    \t\t\r\n}\r\n```    \r\n\r\nExecuting command from any folder can be done via below code.\r\n```    \r\nstatic void runFromSpecificFolder() {\t\t\r\n    try {\r\n        ProcessBuilder processBuilder = new ProcessBuilder(&quot;cmd.exe&quot;, &quot;/c&quot;, &quot;cd \\&quot;C:\\\\Users\\\\himan\\\\Desktop\\\\Java_Test_Deployment\\\\jarfiles\\&quot; &amp;&amp; dir&quot;);\r\n    \t//processBuilder.directory(new File(&quot;C://Users//himan//Desktop//Java_Test_Deployment//jarfiles&quot;));\r\n    \tprocessBuilder.redirectErrorStream(true);\r\n    \tProcess p = processBuilder.start();\r\n    \tp.waitFor();\t\t\r\n    \tString line = null;\r\n    \tBufferedReader bufferedReader = new BufferedReader(new InputStreamReader(p.getInputStream()));\r\n    \twhile((line = bufferedReader.readLine()) != null) {\r\n    \t    System.out.println(line);\r\n    \t}                \r\n    } catch (Exception e) {\r\n        e.printStackTrace();\r\n    }\t    \t\t\r\n}\r\n    \r\npublic static void main(String args[]) {\r\n    sdService();\r\n    runFromSpecificFolder();\r\n    esService();\r\n}\r\n```\r\n","title":"Run cmd commands through Java","body":"<p>Stopping and Disabling a service can be done via below code:</p>\n<pre><code>static void sdService() {\n    String[] cmd = {&quot;cmd.exe&quot;, &quot;/c&quot;, &quot;net&quot;, &quot;stop&quot;, &quot;MSSQLSERVER&quot;};\n    try {           \n        Process process = new ProcessBuilder(cmd).start();\n        process.waitFor();      \n        String line = null;\n        BufferedReader bufferedReader = new BufferedReader(new InputStreamReader(process.getInputStream()));\n        while((line = bufferedReader.readLine()) != null) {\n            System.out.println(line);\n        }\n                            \n        line = null;\n        bufferedReader = null;\n        Process p = Runtime.getRuntime().exec(&quot;sc config MSSQLSERVER start= disabled&quot;);\n        p.waitFor();\n        bufferedReader = new BufferedReader(new InputStreamReader(p.getInputStream()));\n        while((line = bufferedReader.readLine()) != null) {\n            System.out.println(line);\n        }                   \n    } catch (Exception e) {\n        e.printStackTrace();\n    }                   \n}\n</code></pre>\n<p>Enabling and Starting a service can be done via below code</p>\n<pre><code>static void esService() {\n    String[] cmd = {&quot;cmd.exe&quot;, &quot;/c&quot;, &quot;net&quot;, &quot;start&quot;, &quot;MSSQLSERVER&quot;};\n                    \n    try {\n        Process p = Runtime.getRuntime().exec(&quot;sc config MSSQLSERVER start= auto&quot;);\n        //Process p = Runtime.getRuntime().exec(&quot;sc config MSSQLSERVER start= demand&quot;);\n        p.waitFor();        \n        String line = null;\n        BufferedReader bufferedReader = new BufferedReader(new InputStreamReader(p.getInputStream()));\n        while((line = bufferedReader.readLine()) != null) {\n            System.out.println(line);\n        }\n                            \n        line = null;\n        bufferedReader = null;\n        Process process = new ProcessBuilder(cmd).start();          \n        process.waitFor();\n        bufferedReader = new BufferedReader(new InputStreamReader(process.getInputStream()));\n        while((line = bufferedReader.readLine()) != null) {\n            System.out.println(line);\n        }\n                        \n    } catch (Exception e) {\n        e.printStackTrace();\n    }               \n}\n</code></pre>\n<p>Executing command from any folder can be done via below code.</p>\n<pre><code>static void runFromSpecificFolder() {       \n    try {\n        ProcessBuilder processBuilder = new ProcessBuilder(&quot;cmd.exe&quot;, &quot;/c&quot;, &quot;cd \\&quot;C:\\\\Users\\\\himan\\\\Desktop\\\\Java_Test_Deployment\\\\jarfiles\\&quot; &amp;&amp; dir&quot;);\n        //processBuilder.directory(new File(&quot;C://Users//himan//Desktop//Java_Test_Deployment//jarfiles&quot;));\n        processBuilder.redirectErrorStream(true);\n        Process p = processBuilder.start();\n        p.waitFor();        \n        String line = null;\n        BufferedReader bufferedReader = new BufferedReader(new InputStreamReader(p.getInputStream()));\n        while((line = bufferedReader.readLine()) != null) {\n            System.out.println(line);\n        }                \n    } catch (Exception e) {\n        e.printStackTrace();\n    }               \n}\n    \npublic static void main(String args[]) {\n    sdService();\n    runFromSpecificFolder();\n    esService();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13222953,"reputation":731,"user_id":9549068,"display_name":"Nor.Z"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683454696,"creation_date":1683052146,"answer_id":76157848,"question_id":15464111,"body_markdown":"*(as others said)* For simple commands, you can just do, eg: \\\r\n`Runtime.getRuntime().exec(&quot;cmd /c mkdir H:\\\\test\\\\BBB&quot;);` \\\r\n(`cmd /c` is likely needed)\r\n\r\n\r\nHowever, for some **complex** commands, you may need to do a **double** `cmd.exe /c cmd.exe /c`, \\\r\notherwise (if you use only 1) the cmd gets silently **dropped**, \\\r\n((or if you dont use `/c` or use some weird `/c` `cmd` combination pattern, cmd may freeze)), \\\r\n**idk** why. \r\n\r\n*((How I discorve it? -- I couldnt get it work &amp; tried mutiple time; one time *accidentally* duplicated the cmd &amp; ran it &amp; found it.))*\r\n\r\n@eg::\r\n\r\n```java\r\nimport java.io.IOException;\r\nimport java.nio.charset.StandardCharsets;\r\n\r\npublic class T1 {\r\n\r\n  static String convertStreamToString(java.io.InputStream is) {\r\n    java.util.Scanner s = new java.util.Scanner(is).useDelimiter(&quot;\\\\A&quot;);\r\n    return s.hasNext() ? s.next() : &quot;&quot;;\r\n  }\r\n\r\n  public static void main(String[] args) throws InterruptedException, IOException {\r\n\r\n    Process process;\r\n\r\n    System.out.println(&quot;---&quot;); // creates a folder `BBB`\r\n    Runtime.getRuntime().exec(&quot;cmd /c mkdir H:\\\\test\\\\BBB&quot;);\r\n\r\n    // System.out.println(&quot;---&quot;);\r\n    // idk how to do `cd`\r\n\r\n    System.out.println(&quot;---&quot;); // list file &amp; folder in C:\\\r\n    process = Runtime.getRuntime().exec(&quot;cmd.exe /c dir C:\\\\&quot;);\r\n    System.out.println(convertStreamToString(process.getInputStream()));\r\n\r\n    System.out.println(&quot;---&quot;); // echo\r\n    process = Runtime.getRuntime().exec(&quot;cmd.exe /c echo \\&quot;Some Line\\&quot;&quot;);\r\n    System.out.println(convertStreamToString(process.getInputStream()));\r\n\r\n    // @atten: notice the double `cmd.exe /c cmd.exe /c ` \r\n    // -- idk why must double - otherwise this wont execute\r\n    System.out.println(&quot;---&quot;); // uses mysqldump to do something \r\n    process = Runtime.getRuntime().exec(&quot;cmd.exe /c cmd.exe /c \\&quot;C:\\\\Program Files\\\\MySQL\\\\MySQL Server 8.0\\\\bin\\\\mysqldump.exe\\&quot; -u root -pmysql db_drawandchat_01 &gt; \\&quot;H:\\\\DrawAndChatApp_db\\\\DrawAndChat_20230503_0134_03326.sql\\&quot;&quot;);\r\n\r\n  }\r\n\r\n  // Output::\r\n  //\r\n  // ---\r\n  // ---\r\n  //  Volume in drive C has no label.\r\n  //  Volume Serial Number is 2C83-063F\r\n  // \r\n  //  Directory of C:\\\r\n  // \r\n  // 2019/06/29  11:56    &lt;DIR&gt;          Intel\r\n  // 2022/04/18  06:07    &lt;DIR&gt;          log\r\n  // 2019/12/07  17:14    &lt;DIR&gt;          PerfLogs\r\n  // 2023/04/22  01:13    &lt;DIR&gt;          Program Files\r\n  // 2023/04/08  21:27    &lt;DIR&gt;          Program Files (x86)\r\n  // 2020/12/08  00:15    &lt;DIR&gt;          Untitled\r\n  // 2021/04/23  04:57    &lt;DIR&gt;          Users\r\n  // 2023/04/25  09:33    &lt;DIR&gt;          Windows\r\n  //                0 File(s)              0 bytes\r\n  //                8 Dir(s)   3,268,296,704 bytes free\r\n  // \r\n  // ---\r\n  // &quot;Some Line&quot;\r\n  // \r\n  // ---\r\n\r\n}\r\n\r\n```\r\n\r\n---\r\n\r\n***update***\r\n\r\n*base on my experience*\r\n\r\n**`ProcessBuilder` with `array of String as args`** is a much better choice. \r\n\r\n@note::\r\n\r\n- use **`array of String as args`**, dont use a whole String \\\r\n  otherwise the **parsing** is likely to be wrong. \\\r\n  https://stackoverflow.com/questions/19621838/createprocess-error-2-the-system-cannot-find-the-file-specified\r\n\r\n- remove unnecessary **double quotes** (eg: the ones around a path of a exec) \\\r\n  (&lt;strike&gt;since you are using array, the space_in_path cmd problem is kinda eliminated&lt;/strike&gt; // actually, not really, see update below -&gt; still use [a **double** `cmd.exe /c cmd.exe /c`]). \\\r\n  https://stackoverflow.com/questions/32314645/java-processbuilder-command-arguments-with-spaces-and-double-quotes-fails\r\n\r\n- the array is **separated** base on the &quot;exec &amp; flag &amp; arg &amp; path&quot; \\\r\n  -- normally, wherever you have a **space**, you separate there (though, not on the paths)\r\n\r\n  - sometimes you dont separate the flag and arg (if there is no space between them), eg: `-pPASSWORD`\r\n\r\n\r\n@eg:: [String Cmd to Array Cmd in ProcessBuilder]\r\n\r\n(following code worked before, but *didnt test* after some minor modifications)\r\n\r\n```\r\n  public class T1 {\r\n\r\n    public static void main(String[] args) throws InterruptedException, IOException {\r\n\r\n      String cmdStr_loadFile = &quot;cmd.exe /c cmd.exe /c &quot;\r\n                               + &quot;\\&quot;C:\\\\Program Files\\\\MySQL\\\\MySQL Server 8.0\\\\bin\\\\mysql.exe\\&quot; &quot;\r\n                               + &quot;-u root &quot;\r\n                               + &quot;-pmysql &quot;\r\n                               + &quot;--database db_drawandchat_02 &quot;\r\n                               + &quot;&lt; &quot;\r\n                               + &quot;\\&quot;H:\\\\DrawAndChatApp_db\\\\DrawAndChat_test.sql\\&quot;&quot;;\r\n\r\n      ArrayList&lt;String&gt; cmdArr_loadFile = new ArrayList&lt;&gt;(Arrays.asList(&quot;cmd&quot;, &quot;/c&quot;,\r\n          &quot;C:\\\\Program Files\\\\MySQL\\\\MySQL Server 8.0\\\\bin\\\\mysql.exe&quot;,\r\n          &quot;-u&quot;, &quot;root&quot;,\r\n          &quot;-pmysql&quot;,\r\n          &quot;--database&quot;, &quot;db_drawandchat_02&quot;,\r\n          &quot;&lt;&quot;,\r\n          &quot;H:\\\\DrawAndChatApp_db\\\\DrawAndChat_test.sql&quot;));\r\n\r\n      try {\r\n        //      Process process = Runtime.getRuntime().exec(cmdStr_loadFile);\r\n\r\n        ProcessBuilder processBuilder = new ProcessBuilder(cmdArr_loadFile);\r\n        //      processBuilder.directory(new File(&quot;H:/&quot;));\r\n        processBuilder.redirectOutput(Redirect.INHERIT);\r\n        processBuilder.redirectError(Redirect.INHERIT);\r\n        //      processBuilder.redirectInput(Redirect.INHERIT);\r\n\r\n        Process process = processBuilder.start();\r\n\r\n        try {\r\n          process.waitFor(20, TimeUnit.SECONDS);\r\n          //        System.out.println(StringUtil.convertStreamToString(process.getInputStream()));\r\n        } catch (InterruptedException e) {\r\n          throw new Error(e);\r\n        }\r\n      } catch (IOException e) {\r\n        throw new Error(e);\r\n      }\r\n    }\r\n\r\n  }\r\n```\r\n\r\n---\r\n\r\n***update***\r\n\r\nThe use of &gt;&quot;a **double** `cmd.exe /c cmd.exe /c`&quot; \\\r\nis also working in the case of &gt;&quot;`ProcessBuilder` with `array of String as args`&quot;\r\n\r\nEspecially when you **have space** in your path -- both executable path **&amp;&amp; file path arg**\r\n\r\n@eg::\r\n\r\n```java\r\n    ArrayList&lt;String&gt; cmdArr_saveFile = new ArrayList&lt;&gt;(\r\n        Arrays.asList(&quot;cmd&quot;, &quot;/c&quot;, &quot;cmd&quot;, &quot;/c&quot;,\r\n                      &quot;C:\\\\Program Files\\\\MySQL\\\\MySQL Server 8.0\\\\bin\\\\mysqldump.exe&quot;,\r\n                      &quot;-u&quot;, &quot;root&quot;,\r\n                      &quot;-pmysql&quot;,\r\n                      &quot;db_drawandchat_01&quot;,\r\n                      &quot;&gt;&quot;,\r\n                      &quot;H:\\\\DrawAndChatApp_db\\\\DrawAndChat test2.sql&quot;));\r\n```\r\n\r\n- However, if you have a space in your **argument** (not file path arg), \\\r\n  it still wont work... \\\r\n  related: https://stackoverflow.com/questions/66045955/java-processbuilder-in-windows-spaces-in-exe-path-and-in-argument\r\n\r\n\r\n\r\n- [[I do wonder why &quot;double `cmd.exe /c cmd.exe /c`&quot; works / how the Java Process cmd parsing really works.]]\r\n","title":"Run cmd commands through Java","body":"<p><em>(as others said)</em> For simple commands, you can just do, eg: <br />\n<code>Runtime.getRuntime().exec(&quot;cmd /c mkdir H:\\\\test\\\\BBB&quot;);</code> <br />\n(<code>cmd /c</code> is likely needed)</p>\n<p>However, for some <strong>complex</strong> commands, you may need to do a <strong>double</strong> <code>cmd.exe /c cmd.exe /c</code>, <br />\notherwise (if you use only 1) the cmd gets silently <strong>dropped</strong>, <br />\n((or if you dont use <code>/c</code> or use some weird <code>/c</code> <code>cmd</code> combination pattern, cmd may freeze)), <br />\n<strong>idk</strong> why.</p>\n<p><em>((How I discorve it? -- I couldnt get it work &amp; tried mutiple time; one time <em>accidentally</em> duplicated the cmd &amp; ran it &amp; found it.))</em></p>\n<p>@eg::</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.IOException;\nimport java.nio.charset.StandardCharsets;\n\npublic class T1 {\n\n  static String convertStreamToString(java.io.InputStream is) {\n    java.util.Scanner s = new java.util.Scanner(is).useDelimiter(&quot;\\\\A&quot;);\n    return s.hasNext() ? s.next() : &quot;&quot;;\n  }\n\n  public static void main(String[] args) throws InterruptedException, IOException {\n\n    Process process;\n\n    System.out.println(&quot;---&quot;); // creates a folder `BBB`\n    Runtime.getRuntime().exec(&quot;cmd /c mkdir H:\\\\test\\\\BBB&quot;);\n\n    // System.out.println(&quot;---&quot;);\n    // idk how to do `cd`\n\n    System.out.println(&quot;---&quot;); // list file &amp; folder in C:\\\n    process = Runtime.getRuntime().exec(&quot;cmd.exe /c dir C:\\\\&quot;);\n    System.out.println(convertStreamToString(process.getInputStream()));\n\n    System.out.println(&quot;---&quot;); // echo\n    process = Runtime.getRuntime().exec(&quot;cmd.exe /c echo \\&quot;Some Line\\&quot;&quot;);\n    System.out.println(convertStreamToString(process.getInputStream()));\n\n    // @atten: notice the double `cmd.exe /c cmd.exe /c ` \n    // -- idk why must double - otherwise this wont execute\n    System.out.println(&quot;---&quot;); // uses mysqldump to do something \n    process = Runtime.getRuntime().exec(&quot;cmd.exe /c cmd.exe /c \\&quot;C:\\\\Program Files\\\\MySQL\\\\MySQL Server 8.0\\\\bin\\\\mysqldump.exe\\&quot; -u root -pmysql db_drawandchat_01 &gt; \\&quot;H:\\\\DrawAndChatApp_db\\\\DrawAndChat_20230503_0134_03326.sql\\&quot;&quot;);\n\n  }\n\n  // Output::\n  //\n  // ---\n  // ---\n  //  Volume in drive C has no label.\n  //  Volume Serial Number is 2C83-063F\n  // \n  //  Directory of C:\\\n  // \n  // 2019/06/29  11:56    &lt;DIR&gt;          Intel\n  // 2022/04/18  06:07    &lt;DIR&gt;          log\n  // 2019/12/07  17:14    &lt;DIR&gt;          PerfLogs\n  // 2023/04/22  01:13    &lt;DIR&gt;          Program Files\n  // 2023/04/08  21:27    &lt;DIR&gt;          Program Files (x86)\n  // 2020/12/08  00:15    &lt;DIR&gt;          Untitled\n  // 2021/04/23  04:57    &lt;DIR&gt;          Users\n  // 2023/04/25  09:33    &lt;DIR&gt;          Windows\n  //                0 File(s)              0 bytes\n  //                8 Dir(s)   3,268,296,704 bytes free\n  // \n  // ---\n  // &quot;Some Line&quot;\n  // \n  // ---\n\n}\n\n</code></pre>\n<hr />\n<p><em><strong>update</strong></em></p>\n<p><em>base on my experience</em></p>\n<p><strong><code>ProcessBuilder</code> with <code>array of String as args</code></strong> is a much better choice.</p>\n<p>@note::</p>\n<ul>\n<li><p>use <strong><code>array of String as args</code></strong>, dont use a whole String <br />\notherwise the <strong>parsing</strong> is likely to be wrong. <br />\n<a href=\"https://stackoverflow.com/questions/19621838/createprocess-error-2-the-system-cannot-find-the-file-specified\">CreateProcess error=2, The system cannot find the file specified</a></p>\n</li>\n<li><p>remove unnecessary <strong>double quotes</strong> (eg: the ones around a path of a exec) <br />\n(<strike>since you are using array, the space_in_path cmd problem is kinda eliminated</strike> // actually, not really, see update below -&gt; still use [a <strong>double</strong> <code>cmd.exe /c cmd.exe /c</code>]). <br />\n<a href=\"https://stackoverflow.com/questions/32314645/java-processbuilder-command-arguments-with-spaces-and-double-quotes-fails\">Java - ProcessBuilder command arguments with spaces and double-quotes fails</a></p>\n</li>\n<li><p>the array is <strong>separated</strong> base on the &quot;exec &amp; flag &amp; arg &amp; path&quot; <br />\n-- normally, wherever you have a <strong>space</strong>, you separate there (though, not on the paths)</p>\n<ul>\n<li>sometimes you dont separate the flag and arg (if there is no space between them), eg: <code>-pPASSWORD</code></li>\n</ul>\n</li>\n</ul>\n<p>@eg:: [String Cmd to Array Cmd in ProcessBuilder]</p>\n<p>(following code worked before, but <em>didnt test</em> after some minor modifications)</p>\n<pre><code>  public class T1 {\n\n    public static void main(String[] args) throws InterruptedException, IOException {\n\n      String cmdStr_loadFile = &quot;cmd.exe /c cmd.exe /c &quot;\n                               + &quot;\\&quot;C:\\\\Program Files\\\\MySQL\\\\MySQL Server 8.0\\\\bin\\\\mysql.exe\\&quot; &quot;\n                               + &quot;-u root &quot;\n                               + &quot;-pmysql &quot;\n                               + &quot;--database db_drawandchat_02 &quot;\n                               + &quot;&lt; &quot;\n                               + &quot;\\&quot;H:\\\\DrawAndChatApp_db\\\\DrawAndChat_test.sql\\&quot;&quot;;\n\n      ArrayList&lt;String&gt; cmdArr_loadFile = new ArrayList&lt;&gt;(Arrays.asList(&quot;cmd&quot;, &quot;/c&quot;,\n          &quot;C:\\\\Program Files\\\\MySQL\\\\MySQL Server 8.0\\\\bin\\\\mysql.exe&quot;,\n          &quot;-u&quot;, &quot;root&quot;,\n          &quot;-pmysql&quot;,\n          &quot;--database&quot;, &quot;db_drawandchat_02&quot;,\n          &quot;&lt;&quot;,\n          &quot;H:\\\\DrawAndChatApp_db\\\\DrawAndChat_test.sql&quot;));\n\n      try {\n        //      Process process = Runtime.getRuntime().exec(cmdStr_loadFile);\n\n        ProcessBuilder processBuilder = new ProcessBuilder(cmdArr_loadFile);\n        //      processBuilder.directory(new File(&quot;H:/&quot;));\n        processBuilder.redirectOutput(Redirect.INHERIT);\n        processBuilder.redirectError(Redirect.INHERIT);\n        //      processBuilder.redirectInput(Redirect.INHERIT);\n\n        Process process = processBuilder.start();\n\n        try {\n          process.waitFor(20, TimeUnit.SECONDS);\n          //        System.out.println(StringUtil.convertStreamToString(process.getInputStream()));\n        } catch (InterruptedException e) {\n          throw new Error(e);\n        }\n      } catch (IOException e) {\n        throw new Error(e);\n      }\n    }\n\n  }\n</code></pre>\n<hr />\n<p><em><strong>update</strong></em></p>\n<p>The use of &gt;&quot;a <strong>double</strong> <code>cmd.exe /c cmd.exe /c</code>&quot; <br />\nis also working in the case of &gt;&quot;<code>ProcessBuilder</code> with <code>array of String as args</code>&quot;</p>\n<p>Especially when you <strong>have space</strong> in your path -- both executable path <strong>&amp;&amp; file path arg</strong></p>\n<p>@eg::</p>\n<pre class=\"lang-java prettyprint-override\"><code>    ArrayList&lt;String&gt; cmdArr_saveFile = new ArrayList&lt;&gt;(\n        Arrays.asList(&quot;cmd&quot;, &quot;/c&quot;, &quot;cmd&quot;, &quot;/c&quot;,\n                      &quot;C:\\\\Program Files\\\\MySQL\\\\MySQL Server 8.0\\\\bin\\\\mysqldump.exe&quot;,\n                      &quot;-u&quot;, &quot;root&quot;,\n                      &quot;-pmysql&quot;,\n                      &quot;db_drawandchat_01&quot;,\n                      &quot;&gt;&quot;,\n                      &quot;H:\\\\DrawAndChatApp_db\\\\DrawAndChat test2.sql&quot;));\n</code></pre>\n<ul>\n<li><p>However, if you have a space in your <strong>argument</strong> (not file path arg), <br />\nit still wont work... <br />\nrelated: <a href=\"https://stackoverflow.com/questions/66045955/java-processbuilder-in-windows-spaces-in-exe-path-and-in-argument\">java ProcessBuilder in Windows spaces in *.exe path and in argument</a></p>\n</li>\n<li><p>[[I do wonder why &quot;double <code>cmd.exe /c cmd.exe /c</code>&quot; works / how the Java Process cmd parsing really works.]]</p>\n</li>\n</ul>\n"}],"owner":{"account_id":1091752,"reputation":1946,"user_id":1086247,"accept_rate":40,"display_name":"Reham"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":394361,"favorite_count":0,"down_vote_count":0,"up_vote_count":82,"accepted_answer_id":15464449,"answer_count":15,"score":82,"last_activity_date":1683454696,"creation_date":1363542716,"question_id":15464111,"body_markdown":"I found several code snippets for running cmd commands through a Java class, but I wasn&#39;t able to understand it.\r\n\r\nThis is code for opening the cmd \r\n\r\n\tpublic void excCommand(String new_dir){\r\n\t\tRuntime rt = Runtime.getRuntime();\r\n\t\ttry {\r\n\t\t\trt.exec(new String[]{&quot;cmd.exe&quot;,&quot;/c&quot;,&quot;start&quot;});\r\n\t\t\t\r\n\t\t} catch (IOException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n    }\r\n\r\nAnd I found some other links for adding other commands such as cd\r\nhttp://www.coderanch.com/t/109753/Linux-UNIX/exec-command-cd-command-java\r\n\r\nhttps://stackoverflow.com/questions/4688123/how-to-open-the-command-prompt-and-insert-commands-using-java\r\n\r\nCan anyone help me to understand how to cd a directory such as:\r\n\r\n     cd C:\\Program Files\\Flowella\r\n\r\nthen run other commands on that directory?","title":"Run cmd commands through Java","body":"<p>I found several code snippets for running cmd commands through a Java class, but I wasn't able to understand it.</p>\n\n<p>This is code for opening the cmd </p>\n\n<pre><code>public void excCommand(String new_dir){\n    Runtime rt = Runtime.getRuntime();\n    try {\n        rt.exec(new String[]{\"cmd.exe\",\"/c\",\"start\"});\n\n    } catch (IOException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }\n}\n</code></pre>\n\n<p>And I found some other links for adding other commands such as cd\n<a href=\"http://www.coderanch.com/t/109753/Linux-UNIX/exec-command-cd-command-java\" rel=\"noreferrer\">http://www.coderanch.com/t/109753/Linux-UNIX/exec-command-cd-command-java</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/4688123/how-to-open-the-command-prompt-and-insert-commands-using-java\">How to open the command prompt and insert commands using Java?</a></p>\n\n<p>Can anyone help me to understand how to cd a directory such as:</p>\n\n<pre><code> cd C:\\Program Files\\Flowella\n</code></pre>\n\n<p>then run other commands on that directory?</p>\n"},{"tags":["java","android","android-layout","numbers","decimal"],"comments":[{"owner":{"account_id":14531,"reputation":118870,"user_id":29995,"accept_rate":77,"display_name":"Rob Hruska"},"score":0,"creation_date":1318250109,"post_id":7712735,"comment_id":9380894,"body_markdown":"What are you trying to accomplish here? Are you actually trying to round the number and return a double? Or are you simply wanting to format the number for display? You&#39;re *always* going to get a non-formatted number returned from this method because `double`s won&#39;t preserve the leading/trailing zeroes you format the number to.","body":"What are you trying to accomplish here? Are you actually trying to round the number and return a double? Or are you simply wanting to format the number for display? You&#39;re <i>always</i> going to get a non-formatted number returned from this method because <code>double</code>s won&#39;t preserve the leading/trailing zeroes you format the number to."},{"owner":{"account_id":324076,"reputation":23456,"user_id":881635,"accept_rate":93,"display_name":"Shreyash Mahajan"},"score":0,"creation_date":1318250321,"post_id":7712735,"comment_id":9380946,"body_markdown":"I am just want to get the fraction value of the double value but it should be of two decimal point. I am not going to round the value. ok.","body":"I am just want to get the fraction value of the double value but it should be of two decimal point. I am not going to round the value. ok."},{"owner":{"account_id":154393,"reputation":108787,"user_id":370305,"accept_rate":71,"display_name":"user370305"},"score":0,"creation_date":1318252040,"post_id":7712735,"comment_id":9381394,"body_markdown":"@iDroid Explorer - here all users told the same things.","body":"@iDroid Explorer - here all users told the same things."},{"owner":{"account_id":324076,"reputation":23456,"user_id":881635,"accept_rate":93,"display_name":"Shreyash Mahajan"},"score":0,"creation_date":1318252764,"post_id":7712735,"comment_id":9381592,"body_markdown":"I simply want to improve my function to give me the desired result and that i want from the suknic result.","body":"I simply want to improve my function to give me the desired result and that i want from the suknic result."}],"answers":[{"tags":[],"owner":{"account_id":14531,"reputation":118870,"user_id":29995,"accept_rate":77,"display_name":"Rob Hruska"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1318249724,"creation_date":1318249724,"answer_id":7712750,"question_id":7712735,"body_markdown":"[Use the format][1]:\r\n\r\n    new DecimalFormat(&quot;#0.00&quot;)\r\n\r\nWhen you use `#`, zero values display as absent. Using a `0` will ensure that either a digit or a 0 is displayed.\r\n\r\n  [1]: http://download.oracle.com/javase/7/docs/api/java/text/DecimalFormat.html","title":"What should I have to change in that function to get the 0.00 like effect?","body":"<p><a href=\"http://download.oracle.com/javase/7/docs/api/java/text/DecimalFormat.html\" rel=\"nofollow\">Use the format</a>:</p>\n\n<pre><code>new DecimalFormat(\"#0.00\")\n</code></pre>\n\n<p>When you use <code>#</code>, zero values display as absent. Using a <code>0</code> will ensure that either a digit or a 0 is displayed.</p>\n"},{"tags":[],"owner":{"account_id":559307,"reputation":2022,"user_id":921633,"display_name":"mikey"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1318250588,"creation_date":1318249893,"answer_id":7712787,"question_id":7712735,"body_markdown":"DecimalFormat.format returns a String (not a StringBuffer), which you are then getting the Double.valueOf(...).  You then return the double value, which I assume when you print it uses it&#39;s own toString() to be displayed.  You need to run the DecimalFormat.format on the double value returned.","title":"What should I have to change in that function to get the 0.00 like effect?","body":"<p>DecimalFormat.format returns a String (not a StringBuffer), which you are then getting the Double.valueOf(...).  You then return the double value, which I assume when you print it uses it's own toString() to be displayed.  You need to run the DecimalFormat.format on the double value returned.</p>\n"},{"tags":[],"owner":{"account_id":898328,"reputation":637,"user_id":935127,"display_name":"suknic"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1318251070,"creation_date":1318251070,"answer_id":7713024,"question_id":7712735,"body_markdown":"Your example works fine for rounding numbers to 2 digits. But you will lose trailing zeros, because numeric variables (double, float, ...) do not store any formating information.\r\n\r\nIf you want to see trailing zeros (like 5.50) you have to format the numbers on output:\r\n\r\n&lt;!--  language: lang-java --&gt;\r\n\r\n    DecimalFormat twoDForm = new DecimalFormat(&quot;#0.00&quot;);         \r\n    System.out.println(twoDForm.format(d));","title":"What should I have to change in that function to get the 0.00 like effect?","body":"<p>Your example works fine for rounding numbers to 2 digits. But you will lose trailing zeros, because numeric variables (double, float, ...) do not store any formating information.</p>\n\n<p>If you want to see trailing zeros (like 5.50) you have to format the numbers on output:</p>\n\n\n\n<pre><code>DecimalFormat twoDForm = new DecimalFormat(\"#0.00\");         \nSystem.out.println(twoDForm.format(d));\n</code></pre>\n"}],"owner":{"account_id":324076,"reputation":23456,"user_id":881635,"accept_rate":93,"display_name":"Shreyash Mahajan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":212,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":7713024,"answer_count":3,"score":1,"last_activity_date":1683454687,"creation_date":1318249658,"question_id":7712735,"body_markdown":"To get the fraction point value up to two decimal points, I use this function:\r\n\r\n    double roundTwoDecimals(double d) {             \r\n\t\tDecimalFormat twoDForm = new DecimalFormat(&quot;##.##&quot;);         \r\n\t\treturn Double.valueOf(twoDForm.format(d)); \r\n\r\nBut while there is a value like &quot;5.50&quot;, then with this function I got only &quot;5.5&quot;.\r\nInstead of that, I want to get the 5.50 with the above function.  So what should I have to change?\r\n\r\nPlease give me the updated function or any suggestions to change the output like &quot;0.00&quot;.","title":"What should I have to change in that function to get the 0.00 like effect?","body":"<p>To get the fraction point value up to two decimal points, I use this function:</p>\n<pre><code>double roundTwoDecimals(double d) {             \n    DecimalFormat twoDForm = new DecimalFormat(&quot;##.##&quot;);         \n    return Double.valueOf(twoDForm.format(d)); \n</code></pre>\n<p>But while there is a value like &quot;5.50&quot;, then with this function I got only &quot;5.5&quot;.\nInstead of that, I want to get the 5.50 with the above function.  So what should I have to change?</p>\n<p>Please give me the updated function or any suggestions to change the output like &quot;0.00&quot;.</p>\n"},{"tags":["java","gradle","webassembly","jwebassembly"],"comments":[{"owner":{"account_id":7295,"reputation":23914,"user_id":12631,"accept_rate":57,"display_name":"Horcrux7"},"score":0,"creation_date":1683454300,"post_id":75008709,"comment_id":134366540,"body_markdown":"Which error do you get?","body":"Which error do you get?"}],"answers":[{"tags":[],"owner":{"account_id":7295,"reputation":23914,"user_id":12631,"accept_rate":57,"display_name":"Horcrux7"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683454531,"creation_date":1683454531,"answer_id":76193297,"question_id":75008709,"body_markdown":"I think you can&#39;t use the plugins ID syntax with local plugins. This syntax works only with the Gradle plugin database.\r\n\r\nUse instead the apply syntax:\r\n\r\n````\r\napply plugin: &#39;de.inetsoftware.jwebassembly&#39;\r\n````","title":"Use jwebassemble-gradle plugin from local jar","body":"<p>I think you can't use the plugins ID syntax with local plugins. This syntax works only with the Gradle plugin database.</p>\n<p>Use instead the apply syntax:</p>\n<pre><code>apply plugin: 'de.inetsoftware.jwebassembly'\n</code></pre>\n"}],"owner":{"account_id":3336055,"reputation":13,"user_id":2819962,"display_name":"Joe McCay"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1683454531,"creation_date":1672851254,"question_id":75008709,"body_markdown":"I created a build of jwebassembly-gradle, and I have copied the jar, source jar, and javadoc jar files to a subdirectory called libs in my project directory structure. I am using Gradle 6.8.2. I am getting the error:\r\n\r\n*Plugin [id: jwebassembly-gradle] was not found in any of the following sources:*\r\n\r\nHow can I fix this? All the searches I have done say this should work.  The directory structure is similar to:\r\n\r\n```\r\nProject\r\n- .gradle\r\n- src\r\n- build\r\n- libs\r\n```\r\n\r\nThe build.gradle file:\r\n\r\n```\r\n// this handles the actual build script (build.gradle) dependencies!\r\nbuildscript {\r\n    repositories {\r\n        flatDir {\r\n            // to use local builds\r\n            dirs &#39;libs&#39;\r\n        }\r\n    }\r\n    dependencies {\r\n        classpath fileTree(include: [&#39;*.jar&#39;], dir: &#39;libs&#39;)\r\n        classpath files(&#39;libs/jwebassembly-gradle-0.4.jar&#39;)\r\n        classpath files(&#39;libs/jwebassembly-gradle-0.4-sources.jar&#39;)\r\n        classpath files(&#39;libs/jwebassembly-gradle-0.4-javadoc.jar&#39;)\r\n    }\r\n}\r\n\r\nplugins {\r\n    id &#39;java&#39;\r\n    id &#39;application&#39;\r\n    id &#39;jwebassembly-gradle&#39;\r\n}\r\n\r\nrepositories {\r\n    flatDir {\r\n        // to use local builds\r\n        dirs &#39;libs&#39;\r\n    }\r\n    mavenCentral()\r\n}\r\n\r\n\r\njar {\r\n    manifest {\r\n        attributes(\r\n            &quot;Specification-Title&quot; : &quot;&quot;,\r\n            &quot;Specification-Version&quot; : project.version,\r\n            &quot;Specification-Vendor&quot; : &quot;&quot;,\r\n            &quot;Implementation-Title&quot; : project.group,\r\n            &quot;Implementation-Version&quot; : project.version,\r\n            &quot;Implementation-Vendor&quot; : &quot;&quot;,\r\n            &quot;Main-Class&quot; : &quot;com.myproject.UrlImageGrabber&quot;\r\n        )\r\n    }\r\n}\r\n\r\ndependencies {\r\n    classpath fileTree(include: [&#39;*.jar&#39;], dir: &#39;libs&#39;)\r\n    classpath files(&#39;libs/jwebassembly-gradle-0.4.jar&#39;)\r\n    classpath files(&#39;libs/jwebassembly-gradle-0.4-sources.jar&#39;)\r\n    classpath files(&#39;libs/jwebassembly-gradle-0.4-javadoc.jar&#39;)\r\n\r\n\t// other dependencies ..\r\n\r\n}\r\n\r\ntask sourcesJar(type: Jar) {\r\n   archiveBaseName=artifactBaseName\r\n   classifier &#39;sources&#39;\r\n   from sourceSets.main.allSource\r\n}\r\n\r\ntask javadocJar(type: Jar, dependsOn: javadoc) {\r\n   archiveBaseName=artifactBaseName\r\n   classifier &#39;javadoc&#39;\r\n   from javadoc.destinationDir\r\n}\r\n\r\ntask(debug, dependsOn: &#39;classes&#39;, type: JavaExec) {\r\n    main = mainClassName\r\n    classpath = sourceSets.main.runtimeClasspath\r\n    args &#39;&#39;\r\n    debug true\r\n}\r\n\r\n//task webAssembly() {\r\n//\r\n//}\r\n\r\nbuild {\r\n    doLast {\r\n//        webAssembly()\r\n    }\r\n}\r\n\r\nartifacts {\r\n   archives sourcesJar\r\n   archives javadocJar\r\n}\r\n```\r\n\r\nI have tried various forms of trying to include the jar files in the buildscript section of the build.gradle file.  I still get the error.","title":"Use jwebassemble-gradle plugin from local jar","body":"<p>I created a build of jwebassembly-gradle, and I have copied the jar, source jar, and javadoc jar files to a subdirectory called libs in my project directory structure. I am using Gradle 6.8.2. I am getting the error:</p>\n<p><em>Plugin [id: jwebassembly-gradle] was not found in any of the following sources:</em></p>\n<p>How can I fix this? All the searches I have done say this should work.  The directory structure is similar to:</p>\n<pre><code>Project\n- .gradle\n- src\n- build\n- libs\n</code></pre>\n<p>The build.gradle file:</p>\n<pre><code>// this handles the actual build script (build.gradle) dependencies!\nbuildscript {\n    repositories {\n        flatDir {\n            // to use local builds\n            dirs 'libs'\n        }\n    }\n    dependencies {\n        classpath fileTree(include: ['*.jar'], dir: 'libs')\n        classpath files('libs/jwebassembly-gradle-0.4.jar')\n        classpath files('libs/jwebassembly-gradle-0.4-sources.jar')\n        classpath files('libs/jwebassembly-gradle-0.4-javadoc.jar')\n    }\n}\n\nplugins {\n    id 'java'\n    id 'application'\n    id 'jwebassembly-gradle'\n}\n\nrepositories {\n    flatDir {\n        // to use local builds\n        dirs 'libs'\n    }\n    mavenCentral()\n}\n\n\njar {\n    manifest {\n        attributes(\n            &quot;Specification-Title&quot; : &quot;&quot;,\n            &quot;Specification-Version&quot; : project.version,\n            &quot;Specification-Vendor&quot; : &quot;&quot;,\n            &quot;Implementation-Title&quot; : project.group,\n            &quot;Implementation-Version&quot; : project.version,\n            &quot;Implementation-Vendor&quot; : &quot;&quot;,\n            &quot;Main-Class&quot; : &quot;com.myproject.UrlImageGrabber&quot;\n        )\n    }\n}\n\ndependencies {\n    classpath fileTree(include: ['*.jar'], dir: 'libs')\n    classpath files('libs/jwebassembly-gradle-0.4.jar')\n    classpath files('libs/jwebassembly-gradle-0.4-sources.jar')\n    classpath files('libs/jwebassembly-gradle-0.4-javadoc.jar')\n\n    // other dependencies ..\n\n}\n\ntask sourcesJar(type: Jar) {\n   archiveBaseName=artifactBaseName\n   classifier 'sources'\n   from sourceSets.main.allSource\n}\n\ntask javadocJar(type: Jar, dependsOn: javadoc) {\n   archiveBaseName=artifactBaseName\n   classifier 'javadoc'\n   from javadoc.destinationDir\n}\n\ntask(debug, dependsOn: 'classes', type: JavaExec) {\n    main = mainClassName\n    classpath = sourceSets.main.runtimeClasspath\n    args ''\n    debug true\n}\n\n//task webAssembly() {\n//\n//}\n\nbuild {\n    doLast {\n//        webAssembly()\n    }\n}\n\nartifacts {\n   archives sourcesJar\n   archives javadocJar\n}\n</code></pre>\n<p>I have tried various forms of trying to include the jar files in the buildscript section of the build.gradle file.  I still get the error.</p>\n"},{"tags":["java","android","react-native"],"owner":{"account_id":1462827,"reputation":10048,"user_id":1376627,"accept_rate":63,"display_name":"david_adler"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1683454514,"creation_date":1683454514,"question_id":76193294,"body_markdown":"I&#39;m building an [Android Input Method](https://developer.android.com/develop/ui/views/touch-and-input/creating-input-method) in React Native. I&#39;m trying to do so like so:\r\n\r\n```java\r\n    @Override\r\n    public View onCreateInputView() {\r\n        // Create a custom react native root view\r\n        ReactRootView reactRootView = new ReactRootView(this);\r\n\r\n        // Create the react instance manager\r\n        ReactInstanceManager reactInstanceManager = ReactInstanceManager.builder()\r\n                .setApplication(getApplication())\r\n                // .setCurrentActivity(currentActivity)\r\n                .setBundleAssetName(&quot;entry.main.bundle&quot;)\r\n                .setJSMainModulePath(&quot;entry.main&quot;)\r\n                .addPackage(new MainReactPackage())\r\n                .setUseDeveloperSupport(BuildConfig.DEBUG)\r\n                .setInitialLifecycleState(LifecycleState.BEFORE_CREATE)\r\n                .build();\r\n        reactRootView.startReactApplication(reactInstanceManager, &quot;AndroidKeyboardTest&quot;, null);\r\n        return reactRootView;\r\n    }\r\n```\r\n\r\nThe issue is the line `.setCurrentActivity(currentActivity)`, there is no Activity as far as I understand since this a `Service`. How can I get around this?","title":"Run React Native in an Android Input Method","body":"<p>I'm building an <a href=\"https://developer.android.com/develop/ui/views/touch-and-input/creating-input-method\" rel=\"nofollow noreferrer\">Android Input Method</a> in React Native. I'm trying to do so like so:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Override\n    public View onCreateInputView() {\n        // Create a custom react native root view\n        ReactRootView reactRootView = new ReactRootView(this);\n\n        // Create the react instance manager\n        ReactInstanceManager reactInstanceManager = ReactInstanceManager.builder()\n                .setApplication(getApplication())\n                // .setCurrentActivity(currentActivity)\n                .setBundleAssetName(&quot;entry.main.bundle&quot;)\n                .setJSMainModulePath(&quot;entry.main&quot;)\n                .addPackage(new MainReactPackage())\n                .setUseDeveloperSupport(BuildConfig.DEBUG)\n                .setInitialLifecycleState(LifecycleState.BEFORE_CREATE)\n                .build();\n        reactRootView.startReactApplication(reactInstanceManager, &quot;AndroidKeyboardTest&quot;, null);\n        return reactRootView;\n    }\n</code></pre>\n<p>The issue is the line <code>.setCurrentActivity(currentActivity)</code>, there is no Activity as far as I understand since this a <code>Service</code>. How can I get around this?</p>\n"},{"tags":["java","maven","gradle","webassembly","jwebassembly"],"answers":[{"tags":[],"owner":{"account_id":19120541,"reputation":56,"user_id":13964595,"display_name":"Ali "},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1608513283,"creation_date":1608513283,"answer_id":65386424,"question_id":64791966,"body_markdown":"This is from the same github wiki([https://github.com/i-net-software/JWebAssembly/wiki/Getting-Started#add-dependency-to-api][1]):\r\n\r\n    &lt;repositories&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;jitpack.io&lt;/id&gt;\r\n            &lt;url&gt;https://jitpack.io&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n    &lt;/repositories&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.github.i-net-software&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jwebassembly-api&lt;/artifactId&gt;\r\n        &lt;version&gt;master-SNAPSHOT&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\n  [1]: https://github.com/i-net-software/JWebAssembly/wiki/Getting-Started#add-dependency-to-api","title":"Maven plugin for running JWebAssembly","body":"<p>This is from the same github wiki(<a href=\"https://github.com/i-net-software/JWebAssembly/wiki/Getting-Started#add-dependency-to-api\" rel=\"nofollow noreferrer\">https://github.com/i-net-software/JWebAssembly/wiki/Getting-Started#add-dependency-to-api</a>):</p>\n<pre><code>&lt;repositories&gt;\n    &lt;repository&gt;\n        &lt;id&gt;jitpack.io&lt;/id&gt;\n        &lt;url&gt;https://jitpack.io&lt;/url&gt;\n    &lt;/repository&gt;\n&lt;/repositories&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.github.i-net-software&lt;/groupId&gt;\n    &lt;artifactId&gt;jwebassembly-api&lt;/artifactId&gt;\n    &lt;version&gt;master-SNAPSHOT&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7295,"reputation":23914,"user_id":12631,"accept_rate":57,"display_name":"Horcrux7"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683453765,"creation_date":1683453765,"answer_id":76193226,"question_id":64791966,"body_markdown":"In the meantime there is a maven plugin `jwebassembly-maven` to compile your Java project with Maven to Webassmenbly.\r\n\r\nDetails can you find at [Wiki build with Maven][1] and [plugin home page][2]\r\n\r\n\r\n  [1]: https://github.com/i-net-software/JWebAssembly/wiki/Build-with-Maven\r\n  [2]: https://github.com/jeff-schram/JWebAssembly-maven","title":"Maven plugin for running JWebAssembly","body":"<p>In the meantime there is a maven plugin <code>jwebassembly-maven</code> to compile your Java project with Maven to Webassmenbly.</p>\n<p>Details can you find at <a href=\"https://github.com/i-net-software/JWebAssembly/wiki/Build-with-Maven\" rel=\"nofollow noreferrer\">Wiki build with Maven</a> and <a href=\"https://github.com/jeff-schram/JWebAssembly-maven\" rel=\"nofollow noreferrer\">plugin home page</a></p>\n"}],"owner":{"account_id":4832585,"reputation":1914,"user_id":3900373,"display_name":"alagris"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":242,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":65386424,"answer_count":2,"score":2,"last_activity_date":1683453765,"creation_date":1605118728,"question_id":64791966,"body_markdown":"I can see that JWebAssembly can be built with gradle\r\nhttps://github.com/i-net-software/JWebAssembly/wiki/Build-with-Gradle\r\nbut they also provide examples for adding maven dependencies, so I would expect that there is a maven plugin as well. I can&#39;t find it anywhere. How to run JWebAssembly with maven?","title":"Maven plugin for running JWebAssembly","body":"<p>I can see that JWebAssembly can be built with gradle\n<a href=\"https://github.com/i-net-software/JWebAssembly/wiki/Build-with-Gradle\" rel=\"nofollow noreferrer\">https://github.com/i-net-software/JWebAssembly/wiki/Build-with-Gradle</a>\nbut they also provide examples for adding maven dependencies, so I would expect that there is a maven plugin as well. I can't find it anywhere. How to run JWebAssembly with maven?</p>\n"},{"tags":["java","windows","command-line","processbuilder"],"comments":[{"owner":{"account_id":10075353,"reputation":1753,"user_id":7447660,"display_name":"Koenigsberg"},"score":0,"creation_date":1612443136,"post_id":66045955,"comment_id":116771731,"body_markdown":"https://stackoverflow.com/questions/16639285/spaces-in-java-file-path-to-an-executable It works for you with `cmd` because you pass the job of formatting the string correctly to `cmd` itself.","body":"<a href=\"https://stackoverflow.com/questions/16639285/spaces-in-java-file-path-to-an-executable\" title=\"spaces in java file path to an executable\">stackoverflow.com/questions/16639285/&hellip;</a> It works for you with <code>cmd</code> because you pass the job of formatting the string correctly to <code>cmd</code> itself."},{"owner":{"account_id":20629848,"reputation":31,"user_id":15144921,"display_name":"BiggusBuggus"},"score":0,"creation_date":1612444232,"post_id":66045955,"comment_id":116772257,"body_markdown":"it works wihout spaces in the arg only - but how to get it working WITH spaces?","body":"it works wihout spaces in the arg only - but how to get it working WITH spaces?"}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1613155748,"creation_date":1612795595,"answer_id":66103806,"question_id":66045955,"body_markdown":"To make it work WITH cmd and WITH spaces you need to add yet another layer of quoting.\r\n\r\nAfter all you write a java program. The java compiler will expect strings to be quoted, but at runtime these quotes are no longer there. Some of the strings will be used to start cmd, others will be passed on to cmd.\r\n\r\nCmd itself checks the arguments it received and will parse them. To markup which whitespace is a delimiter and which is not you need to have quotes. Cmd will understand these quotes and remove them - the called program does not notice them any more.\r\n\r\nSo either add more quotes (with correct escaping) or try to run the executable directly.\r\n\r\n    [&quot;cmd.exe&quot;, &quot;/c&quot;, &quot;\\&quot;c:\\\\Program Files\\\\myapp.exe\\&quot;&quot;, &quot;\\&quot;-my_arg=sth_with space\\&quot;&quot;]","title":"java ProcessBuilder in Windows spaces in *.exe path and in argument","body":"<p>To make it work WITH cmd and WITH spaces you need to add yet another layer of quoting.</p>\n<p>After all you write a java program. The java compiler will expect strings to be quoted, but at runtime these quotes are no longer there. Some of the strings will be used to start cmd, others will be passed on to cmd.</p>\n<p>Cmd itself checks the arguments it received and will parse them. To markup which whitespace is a delimiter and which is not you need to have quotes. Cmd will understand these quotes and remove them - the called program does not notice them any more.</p>\n<p>So either add more quotes (with correct escaping) or try to run the executable directly.</p>\n<pre><code>[&quot;cmd.exe&quot;, &quot;/c&quot;, &quot;\\&quot;c:\\\\Program Files\\\\myapp.exe\\&quot;&quot;, &quot;\\&quot;-my_arg=sth_with space\\&quot;&quot;]\n</code></pre>\n"}],"owner":{"account_id":20629848,"reputation":31,"user_id":15144921,"display_name":"BiggusBuggus"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":524,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1683453756,"creation_date":1612442858,"question_id":66045955,"body_markdown":"often discussed, but this seems a weired edge case.\r\n\r\nIn win cmd.exe I successfully run:\r\n```\r\n&quot;c:\\Program Files\\myapp.exe&quot; -my_arg=&quot;sth. with space&quot;\r\n```\r\nand\r\n```\r\n&quot;c:\\Program Files\\myapp.exe&quot; -my_arg=&quot;sth_without_space&quot;\r\n```\r\n\r\nin java ProcessBuilder.command(xxx) following fails with &quot;c:\\Program&quot; was not a valid command (xxx contains following array):\r\n```\r\n// using cmd.exe:\r\n[&quot;cmd.exe&quot;, &quot;/c&quot;, &quot;c:\\Program Files\\myapp.exe&quot;, &quot;-my_arg=sth. with space&quot;]         // no extra quoting\r\n[&quot;cmd.exe&quot;, &quot;/c&quot;, &quot;\\&quot;c:\\Program Files\\myapp.exe\\&quot;&quot;, &quot;-my_arg=sth. with space&quot;]     // exe       quoted\r\n[&quot;cmd.exe&quot;, &quot;/c&quot;, &quot;\\&quot;c:\\Program Files\\myapp.exe\\&quot;&quot;, &quot;-my_arg=\\&quot;sth. with space\\&quot;&quot;] // exe &amp; arg quoted\r\n[&quot;cmd.exe&quot;, &quot;/c&quot;, &quot;c:\\Program Files\\myapp.exe&quot;, &quot;-my_arg=\\&quot;sth. with space\\&quot;&quot;]     //       arg quoted\r\n\r\n// putting all as cmd.exe arg:\r\n[&quot;cmd.exe&quot;, &quot;/c&quot;, &quot;c:\\Program Files\\myapp.exe -my_arg=sth. with space&quot;]            // no extra quoting\r\n[&quot;cmd.exe&quot;, &quot;/c&quot;, &quot;\\&quot;c:\\Program Files\\myapp.exe\\&quot; -my_arg=sth. with space&quot;]        // exe       quoted\r\n[&quot;cmd.exe&quot;, &quot;/c&quot;, &quot;\\&quot;c:\\Program Files\\myapp.exe\\&quot; -my_arg=\\&quot;sth. with space\\&quot;&quot;]    // exe &amp; arg quoted\r\n[&quot;cmd.exe&quot;, &quot;/c&quot;, &quot;c:\\Program Files\\myapp.exe -my_arg=\\&quot;sth. with space\\&quot;&quot;]        //       arg quoted\r\n\r\n// calling *.exe directly\r\n[&quot;c:\\Program Files\\myapp.exe&quot;, &quot;-my_arg=sth. with space&quot;]                          // no extra quoting\r\n[&quot;\\&quot;c:\\Program Files\\myapp.exe\\&quot;&quot;, &quot;-my_arg=sth. with space&quot;]                      // exe       quoted\r\n[&quot;\\&quot;c:\\Program Files\\myapp.exe\\&quot;&quot;, &quot;-my_arg=\\&quot;sth. with space\\&quot;&quot;]                  // exe &amp; arg quoted\r\n[&quot;c:\\Program Files\\myapp.exe&quot;, &quot;-my_arg=\\&quot;sth. with space\\&quot;&quot;]                      //       arg quoted\r\n```\r\nrunning this works fine:\r\n```\r\n[&quot;cmd.exe&quot;, &quot;/c&quot;, &quot;c:\\Program Files\\myapp.exe&quot;, &quot;-my_arg=sth_without_space&quot;]\r\n```\r\n\r\nThe issues seem to start when the *.exe path and the arg contain whitespaces.\r\n\r\n[edit]:\r\nMy question is: How can you run it with whitespaces in the exe&#39;s path AND in the arg&#39;s content?","title":"java ProcessBuilder in Windows spaces in *.exe path and in argument","body":"<p>often discussed, but this seems a weired edge case.</p>\n<p>In win cmd.exe I successfully run:</p>\n<pre><code>&quot;c:\\Program Files\\myapp.exe&quot; -my_arg=&quot;sth. with space&quot;\n</code></pre>\n<p>and</p>\n<pre><code>&quot;c:\\Program Files\\myapp.exe&quot; -my_arg=&quot;sth_without_space&quot;\n</code></pre>\n<p>in java ProcessBuilder.command(xxx) following fails with &quot;c:\\Program&quot; was not a valid command (xxx contains following array):</p>\n<pre><code>// using cmd.exe:\n[&quot;cmd.exe&quot;, &quot;/c&quot;, &quot;c:\\Program Files\\myapp.exe&quot;, &quot;-my_arg=sth. with space&quot;]         // no extra quoting\n[&quot;cmd.exe&quot;, &quot;/c&quot;, &quot;\\&quot;c:\\Program Files\\myapp.exe\\&quot;&quot;, &quot;-my_arg=sth. with space&quot;]     // exe       quoted\n[&quot;cmd.exe&quot;, &quot;/c&quot;, &quot;\\&quot;c:\\Program Files\\myapp.exe\\&quot;&quot;, &quot;-my_arg=\\&quot;sth. with space\\&quot;&quot;] // exe &amp; arg quoted\n[&quot;cmd.exe&quot;, &quot;/c&quot;, &quot;c:\\Program Files\\myapp.exe&quot;, &quot;-my_arg=\\&quot;sth. with space\\&quot;&quot;]     //       arg quoted\n\n// putting all as cmd.exe arg:\n[&quot;cmd.exe&quot;, &quot;/c&quot;, &quot;c:\\Program Files\\myapp.exe -my_arg=sth. with space&quot;]            // no extra quoting\n[&quot;cmd.exe&quot;, &quot;/c&quot;, &quot;\\&quot;c:\\Program Files\\myapp.exe\\&quot; -my_arg=sth. with space&quot;]        // exe       quoted\n[&quot;cmd.exe&quot;, &quot;/c&quot;, &quot;\\&quot;c:\\Program Files\\myapp.exe\\&quot; -my_arg=\\&quot;sth. with space\\&quot;&quot;]    // exe &amp; arg quoted\n[&quot;cmd.exe&quot;, &quot;/c&quot;, &quot;c:\\Program Files\\myapp.exe -my_arg=\\&quot;sth. with space\\&quot;&quot;]        //       arg quoted\n\n// calling *.exe directly\n[&quot;c:\\Program Files\\myapp.exe&quot;, &quot;-my_arg=sth. with space&quot;]                          // no extra quoting\n[&quot;\\&quot;c:\\Program Files\\myapp.exe\\&quot;&quot;, &quot;-my_arg=sth. with space&quot;]                      // exe       quoted\n[&quot;\\&quot;c:\\Program Files\\myapp.exe\\&quot;&quot;, &quot;-my_arg=\\&quot;sth. with space\\&quot;&quot;]                  // exe &amp; arg quoted\n[&quot;c:\\Program Files\\myapp.exe&quot;, &quot;-my_arg=\\&quot;sth. with space\\&quot;&quot;]                      //       arg quoted\n</code></pre>\n<p>running this works fine:</p>\n<pre><code>[&quot;cmd.exe&quot;, &quot;/c&quot;, &quot;c:\\Program Files\\myapp.exe&quot;, &quot;-my_arg=sth_without_space&quot;]\n</code></pre>\n<p>The issues seem to start when the *.exe path and the arg contain whitespaces.</p>\n<p>[edit]:\nMy question is: How can you run it with whitespaces in the exe's path AND in the arg's content?</p>\n"},{"tags":["java","android-notifications","android-13"],"answers":[{"tags":[],"owner":{"account_id":13370655,"reputation":137,"user_id":9649214,"display_name":"geo667"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1683453372,"creation_date":1683453372,"answer_id":76193198,"question_id":76149005,"body_markdown":"Finally find the problem : I forget to create notification channel... This code added solve my problem :\r\n\r\n&gt;     NotificationChannel channel = new NotificationChannel(CHANNEL_ID, &quot;PennSkanvTicChannel&quot;, NotificationManager.IMPORTANCE_MAX);\r\n&gt;     channel.setDescription(&quot;PennSkanvTic channel for foreground service notification&quot;);\r\n&gt; \r\n&gt;     notificationManager = getSystemService(NotificationManager.class);\r\n&gt;     notificationManager.createNotificationChannel(channel);\r\n\r\nThen, the same CHANNEL_ID need to be use when creating notification (NotificationCompat.Builder).\r\n\r\nHope this help somebody.","title":"android 13 Bad notification for startForeground","body":"<p>Finally find the problem : I forget to create notification channel... This code added solve my problem :</p>\n<blockquote>\n<pre><code>NotificationChannel channel = new NotificationChannel(CHANNEL_ID, &quot;PennSkanvTicChannel&quot;, NotificationManager.IMPORTANCE_MAX);\nchannel.setDescription(&quot;PennSkanvTic channel for foreground service notification&quot;);\n\nnotificationManager = getSystemService(NotificationManager.class);\nnotificationManager.createNotificationChannel(channel);\n</code></pre>\n</blockquote>\n<p>Then, the same CHANNEL_ID need to be use when creating notification (NotificationCompat.Builder).</p>\n<p>Hope this help somebody.</p>\n"}],"owner":{"account_id":13370655,"reputation":137,"user_id":9649214,"display_name":"geo667"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3153,"favorite_count":0,"down_vote_count":2,"up_vote_count":5,"accepted_answer_id":76193198,"answer_count":1,"score":3,"last_activity_date":1683453372,"creation_date":1682963259,"question_id":76149005,"body_markdown":"Each time I execute my app I obtain a &quot;Bad notification for startForeground&quot; error\r\n\r\n    E/AndroidRuntime: FATAL EXCEPTION: main\r\n        Process: com.example.pennskanvtic, PID: 17447\r\n        android.app.RemoteServiceException$CannotPostForegroundServiceNotificationException:\r\n    Bad notification for startForeground\r\n            at android.app.ActivityThread.throwRemoteServiceException(ActivityThread.java:1978)\r\n            at android.app.ActivityThread.-$$Nest$mthrowRemoteServiceException(Unknown Source:0)\r\n            at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2237)\r\n            at android.os.Handler.dispatchMessage(Handler.java:106)\r\n            at android.os.Looper.loopOnce(Looper.java:201)\r\n            at android.os.Looper.loop(Looper.java:288)\r\n            at android.app.ActivityThread.main(ActivityThread.java:7884)\r\n            at java.lang.reflect.Method.invoke(Native Method)\r\n            at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:548)\r\n            at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:936)`\r\n\r\n\r\n\r\n\r\nMy service only start a timer and display notification (I try with setChannelId inside NotificationCompat.Builder without any change) :\r\n\r\n```java\r\npublic class MyService extends Service {\r\n\r\n    private int i_NotifID = 1336;\r\n    private String CHANNEL_ID = &quot;MyServiceChannel&quot;;\r\n\r\n\r\n    private CountDownTimer mCptRebours;\r\n    private Notification notification;\r\n    private NotificationCompat.Builder builder;\r\n    private NotificationManagerCompat notificationManager;\r\n\r\n    private long l_TimerTime_ms;\r\n\r\n    private MainActivity mainActivity;\r\n\r\n    @Override\r\n    public void onCreate() {\r\n\r\n        super.onCreate();\r\n\r\n        //Resources res = this.getResources();\r\n\r\n        builder = new NotificationCompat.Builder(this, CHANNEL_ID);\r\n        builder.setSmallIcon(R.drawable.ic_launcher);\r\n        builder.setContentTitle(&quot;PennSkanvTic...Tac...&quot;);\r\n        builder.setContentText(&quot;waiting for start...&quot;);\r\n        //builder.setChannelId(CHANNEL_ID);\r\n        //builder.setOngoing(true);\r\n        //builder.setPriority(Notification.PRIORITY_HIGH);\r\n\r\n        notificationManager = NotificationManagerCompat.from(this);\r\n        //notificationManager.notify(i_NotifID, builder.build());\r\n\r\n        try {\r\n            Thread.sleep(1000);\r\n        } catch (InterruptedException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public int onStartCommand(Intent intent, int flags, int startId) {\r\n\r\n        l_TimerTime_ms = intent.getLongExtra(&quot;l_TimerTime_ms&quot;, 55000);\r\n        builder.setContentText(Long.toString(l_TimerTime_ms / 1000));\r\n\r\n        mainActivity = MainActivity.getMainActivity();\r\n\r\n        startForeground(i_NotifID, builder.build());\r\n        startTimer();\r\n\r\n        return START_NOT_STICKY;\r\n    }\r\n\r\n    @Override\r\n    public void onDestroy() {\r\n\r\n        super.onDestroy();\r\n    }\r\n\r\n    @Nullable\r\n    @Override\r\n    public IBinder onBind(Intent intent) {\r\n\r\n        return null;\r\n    }\r\n\r\n    private void startTimer() {\r\n\r\n        mCptRebours = new CountDownTimer(l_TimerTime_ms, 1000) {\r\n            @Override\r\n            public void onTick(long l_RemainingTime_ms) {\r\n\r\n                // Update notification content\r\n                builder.setContentText(Long.toString(l_RemainingTime_ms / 1000));\r\n                notificationManager.notify(i_NotifID, builder.build());\r\n\r\n                // Update frontend (MainActivity value)\r\n                mainActivity.UpdateFrontend(l_RemainingTime_ms);\r\n            }\r\n\r\n            @Override\r\n            public void onFinish() {\r\n\r\n                //Log.d(&quot;MonApplication&quot;, &quot;MyForegroundService onFinish&quot;);\r\n            }\r\n        }.start();\r\n    }\r\n}\r\n```\r\n\r\nMy MainActivity ask for permission inside onStart() :\r\n\r\n```java\r\n        String[] permissionArray = {Manifest.permission.FOREGROUND_SERVICE, Manifest.permission.VIBRATE, Manifest.permission.POST_NOTIFICATIONS};\r\n        ActivityCompat.requestPermissions(this, permissionArray, 0);\r\n```\r\n\r\nand start the service :\r\n\r\n```java\r\n        Intent serviceIntent = new Intent(MainActivity.this, MyService.class);\r\n        serviceIntent.putExtra(&quot;l_TimerTime_ms&quot;, mValCompteReboursConfig);\r\n        ContextCompat.startForegroundService(MainActivity.this, serviceIntent);`\r\n```\r\nMy AndroidManifest.xml declare the service and permission :\r\n\r\n```xml\r\n    &lt;uses-permission android:name=&quot;android.permission.FOREGROUND_SERVICE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.VIBRATE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;Manifest.permission.POST_NOTIFICATIONS&quot;/&gt;\r\n\r\n        &lt;service\r\n            android:name=&quot;.MyService&quot;\r\n            android:enabled=&quot;true&quot;\r\n            android:exported=&quot;true&quot;/&gt;`\r\n```\r\n\r\nAnd I ask for a SDK version 33 on my build.gradle file :\r\n\r\n```gradle \r\n   defaultConfig {\r\n        applicationId &quot;com.example.pennskanvtic&quot;\r\n        minSdk 21\r\n        targetSdk 33\r\n        compileSdk 33\r\n        targetSdkVersion 33\r\n        compileSdkVersion 33\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n\r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n    }\r\n```\r\n\r\nIt is all what I find to try. I have now no idea why I still have an error when launching my foreground service.","title":"android 13 Bad notification for startForeground","body":"<p>Each time I execute my app I obtain a &quot;Bad notification for startForeground&quot; error</p>\n<pre><code>E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.example.pennskanvtic, PID: 17447\n    android.app.RemoteServiceException$CannotPostForegroundServiceNotificationException:\nBad notification for startForeground\n        at android.app.ActivityThread.throwRemoteServiceException(ActivityThread.java:1978)\n        at android.app.ActivityThread.-$$Nest$mthrowRemoteServiceException(Unknown Source:0)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2237)\n        at android.os.Handler.dispatchMessage(Handler.java:106)\n        at android.os.Looper.loopOnce(Looper.java:201)\n        at android.os.Looper.loop(Looper.java:288)\n        at android.app.ActivityThread.main(ActivityThread.java:7884)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:548)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:936)`\n</code></pre>\n<p>My service only start a timer and display notification (I try with setChannelId inside NotificationCompat.Builder without any change) :</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyService extends Service {\n\n    private int i_NotifID = 1336;\n    private String CHANNEL_ID = &quot;MyServiceChannel&quot;;\n\n\n    private CountDownTimer mCptRebours;\n    private Notification notification;\n    private NotificationCompat.Builder builder;\n    private NotificationManagerCompat notificationManager;\n\n    private long l_TimerTime_ms;\n\n    private MainActivity mainActivity;\n\n    @Override\n    public void onCreate() {\n\n        super.onCreate();\n\n        //Resources res = this.getResources();\n\n        builder = new NotificationCompat.Builder(this, CHANNEL_ID);\n        builder.setSmallIcon(R.drawable.ic_launcher);\n        builder.setContentTitle(&quot;PennSkanvTic...Tac...&quot;);\n        builder.setContentText(&quot;waiting for start...&quot;);\n        //builder.setChannelId(CHANNEL_ID);\n        //builder.setOngoing(true);\n        //builder.setPriority(Notification.PRIORITY_HIGH);\n\n        notificationManager = NotificationManagerCompat.from(this);\n        //notificationManager.notify(i_NotifID, builder.build());\n\n        try {\n            Thread.sleep(1000);\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n    }\n\n    @Override\n    public int onStartCommand(Intent intent, int flags, int startId) {\n\n        l_TimerTime_ms = intent.getLongExtra(&quot;l_TimerTime_ms&quot;, 55000);\n        builder.setContentText(Long.toString(l_TimerTime_ms / 1000));\n\n        mainActivity = MainActivity.getMainActivity();\n\n        startForeground(i_NotifID, builder.build());\n        startTimer();\n\n        return START_NOT_STICKY;\n    }\n\n    @Override\n    public void onDestroy() {\n\n        super.onDestroy();\n    }\n\n    @Nullable\n    @Override\n    public IBinder onBind(Intent intent) {\n\n        return null;\n    }\n\n    private void startTimer() {\n\n        mCptRebours = new CountDownTimer(l_TimerTime_ms, 1000) {\n            @Override\n            public void onTick(long l_RemainingTime_ms) {\n\n                // Update notification content\n                builder.setContentText(Long.toString(l_RemainingTime_ms / 1000));\n                notificationManager.notify(i_NotifID, builder.build());\n\n                // Update frontend (MainActivity value)\n                mainActivity.UpdateFrontend(l_RemainingTime_ms);\n            }\n\n            @Override\n            public void onFinish() {\n\n                //Log.d(&quot;MonApplication&quot;, &quot;MyForegroundService onFinish&quot;);\n            }\n        }.start();\n    }\n}\n</code></pre>\n<p>My MainActivity ask for permission inside onStart() :</p>\n<pre class=\"lang-java prettyprint-override\"><code>        String[] permissionArray = {Manifest.permission.FOREGROUND_SERVICE, Manifest.permission.VIBRATE, Manifest.permission.POST_NOTIFICATIONS};\n        ActivityCompat.requestPermissions(this, permissionArray, 0);\n</code></pre>\n<p>and start the service :</p>\n<pre class=\"lang-java prettyprint-override\"><code>        Intent serviceIntent = new Intent(MainActivity.this, MyService.class);\n        serviceIntent.putExtra(&quot;l_TimerTime_ms&quot;, mValCompteReboursConfig);\n        ContextCompat.startForegroundService(MainActivity.this, serviceIntent);`\n</code></pre>\n<p>My AndroidManifest.xml declare the service and permission :</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;uses-permission android:name=&quot;android.permission.FOREGROUND_SERVICE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.VIBRATE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;Manifest.permission.POST_NOTIFICATIONS&quot;/&gt;\n\n        &lt;service\n            android:name=&quot;.MyService&quot;\n            android:enabled=&quot;true&quot;\n            android:exported=&quot;true&quot;/&gt;`\n</code></pre>\n<p>And I ask for a SDK version 33 on my build.gradle file :</p>\n<pre><code>   defaultConfig {\n        applicationId &quot;com.example.pennskanvtic&quot;\n        minSdk 21\n        targetSdk 33\n        compileSdk 33\n        targetSdkVersion 33\n        compileSdkVersion 33\n        versionCode 1\n        versionName &quot;1.0&quot;\n\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    }\n</code></pre>\n<p>It is all what I find to try. I have now no idea why I still have an error when launching my foreground service.</p>\n"},{"tags":["java","webassembly","teavm","jwebassembly","cheerpj"],"answers":[{"tags":[],"owner":{"account_id":7295,"reputation":23914,"user_id":12631,"accept_rate":57,"display_name":"Horcrux7"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683453366,"creation_date":1683453366,"answer_id":76193196,"question_id":65727085,"body_markdown":"Lucene build the search index on the file system. How should this work in the browser?\r\n\r\nIf you want compile it for a standalone runtime CheerpJ can be the better solution.\r\n\r\n","title":"Feasibility of porting Lucene to WebAssembly","body":"<p>Lucene build the search index on the file system. How should this work in the browser?</p>\n<p>If you want compile it for a standalone runtime CheerpJ can be the better solution.</p>\n"}],"owner":{"account_id":103156,"reputation":7686,"user_id":276439,"accept_rate":81,"display_name":"Nate"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":219,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1683453366,"creation_date":1610659236,"question_id":65727085,"body_markdown":"I&#39;m exploring the feasibility of porting Lucene to wasm. I have absolutely no experience in WebAssembly but from what I read, Java apps (or any VM language) seem to be more challenging than non-VM languages. Even though Lucene has been ported to other languages, I would ideally like to port it from Java.\r\n\r\nIs it possible to port Lucene (Java edition) to wasm without too much work? If yes, which &quot;interpreter&quot; would be the most appropriate? I&#39;ve heard of TeaVM, CheerpJ and JWebAssembly.\r\n\r\nWhere should I start?","title":"Feasibility of porting Lucene to WebAssembly","body":"<p>I'm exploring the feasibility of porting Lucene to wasm. I have absolutely no experience in WebAssembly but from what I read, Java apps (or any VM language) seem to be more challenging than non-VM languages. Even though Lucene has been ported to other languages, I would ideally like to port it from Java.</p>\n<p>Is it possible to port Lucene (Java edition) to wasm without too much work? If yes, which &quot;interpreter&quot; would be the most appropriate? I've heard of TeaVM, CheerpJ and JWebAssembly.</p>\n<p>Where should I start?</p>\n"},{"tags":["java","printqueue"],"comments":[{"owner":{"account_id":1868353,"reputation":9514,"user_id":1691311,"accept_rate":100,"display_name":"Randy"},"score":1,"creation_date":1683281368,"post_id":76181028,"comment_id":134346166,"body_markdown":"We are going to need some code to help you out with. This site is not meant to make us build complete solution for a question you ask, but to help improve code and helping out fixing bugs.","body":"We are going to need some code to help you out with. This site is not meant to make us build complete solution for a question you ask, but to help improve code and helping out fixing bugs."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1683284179,"post_id":76181028,"comment_id":134346691,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":25828160,"reputation":1,"user_id":19565856,"display_name":"Hannes Ledl"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683453220,"creation_date":1683281066,"question_id":76181028,"body_markdown":"i want to write an app to listen to the jobs in the printer queue. \r\n\r\ndepending on the doc name (or some content in the doc) i want to\r\nreroute this job to the correct printer. all printers are identical,\r\nso formating will not be an problem.\r\n\r\nmy &quot;printspoller&quot; might be an additional installed printer, same type.\r\n\r\ni apreciate any help on this\r\nhannes\r\n\r\n\r\n\r\nim able to count the jobs in queue via &quot;queued-job-count&quot;\r\nbut could not find to get the props of the docs.\r\n  \r\n```\r\nimport java.io.*;  \r\nimport java.util.Properties;  \r\nimport javax.print.attribute.Attribute;  \r\nimport javax.print.attribute.AttributeSet;  \r\n  \r\nimport java.io.BufferedReader;  \r\nimport java.io.InputStream;  \r\nimport java.io.InputStreamReader;  \r\nimport java.lang.reflect.Array;  \r\n\r\nimport javax.print.DocFlavor;  \r\nimport javax.print.DocPrintJob;  \r\nimport javax.print.PrintException;  \r\nimport javax.print.PrintService;  \r\nimport javax.print.PrintServiceLookup;  \r\nimport javax.print.SimpleDoc;  \r\n  \r\nimport java.text.DateFormat;  \r\nimport java.text.SimpleDateFormat;  \r\nimport java.util.Date;  \r\nimport java.util.List;  \r\nimport java.util.ArrayList;  \r\nimport java.util.Calendar;  \r\nimport java.io.ByteArrayOutputStream;  \r\n\r\npublic class App {  \r\n    public static void main(String[] args) throws Exception {  \r\n        //GET ALL PRINTER NAMES\r\n        System.out.println(&quot;Printers------------------&quot;);\r\n    \r\n        PrintService[] printServices = PrintServiceLookup.lookupPrintServices(null, null);  \r\n        for (PrintService avPrt : printServices) {  \r\n            \r\n            System.out.println(&quot;\\n\\nPrinter installed: &quot; + avPrt.getName());   \r\n            AttributeSet attributesPr = avPrt.getAttributes();  \r\n            for (Attribute a : attributesPr.toArray()) {  \r\n                String name = a.getName();  \r\n                String value = attributesPr.get(a.getClass()).toString();  \r\n                System.out.println(&quot;     &quot; + name + &quot;: &quot; + value);  \r\n                //is it the queue?  \r\n                if (name.equals(&quot;queued-job-count&quot;)) {  \r\n                    Object queue = Integer.parseInt(value);  \r\n                    System.out.println(&quot;          jobs in queue   : &quot; + queue);\r\n                }   \r\n            }  \r\n        }    \r\n    }   \r\n}  \r\n\r\n//my spooler printer\r\n//-----------------------------\r\nPrinter installed:SpoolerPrinter\r\n     printer-info: SpoolerPrinter\r\n     pdl-override-supported: not-attempted\r\n     color-supported: not-supported\r\n     queued-job-count: 5\r\n          jobs in queue   : 5\t\t\t\t\t// i want to know the jobs with the doc name\r\n     printer-name: Sewoo_POS_PRINTER\r\n     printer-is-accepting-jobs: accepting-jobs\r\n\r\n\r\n//my destination printers\r\n//i want\r\nPrinter installed: InvoicePrinter\r\n     printer-info: InvoicePrinter\r\n     pdl-override-supported: not-attempted\r\n     color-supported: not-supported\r\n     queued-job-count: 0\r\n          jobs in queue   : 0\t\t\t\t\t\r\n     printer-name: Sewoo_POS_PRINTER\r\n     printer-is-accepting-jobs: accepting-jobs\r\n\r\n\r\nPrinter installed: DeliveryNotePrinter\r\n     printer-info: DeliveryNotePrinter\r\n     pdl-override-supported: not-attempted\r\n     color-supported: not-supported\r\n     queued-job-count: 0\t\t\t\t\r\n          jobs in queue   : 5\r\n     printer-name: InvoicePrinter\r\n     printer-is-accepting-jobs: accepting-jobs","title":"Java App to listen the printer queue and reroute jobs","body":"<p>i want to write an app to listen to the jobs in the printer queue.</p>\n<p>depending on the doc name (or some content in the doc) i want to\nreroute this job to the correct printer. all printers are identical,\nso formating will not be an problem.</p>\n<p>my &quot;printspoller&quot; might be an additional installed printer, same type.</p>\n<p>i apreciate any help on this\nhannes</p>\n<p>im able to count the jobs in queue via &quot;queued-job-count&quot;\nbut could not find to get the props of the docs.</p>\n<pre><code>import java.io.*;  \nimport java.util.Properties;  \nimport javax.print.attribute.Attribute;  \nimport javax.print.attribute.AttributeSet;  \n  \nimport java.io.BufferedReader;  \nimport java.io.InputStream;  \nimport java.io.InputStreamReader;  \nimport java.lang.reflect.Array;  \n\nimport javax.print.DocFlavor;  \nimport javax.print.DocPrintJob;  \nimport javax.print.PrintException;  \nimport javax.print.PrintService;  \nimport javax.print.PrintServiceLookup;  \nimport javax.print.SimpleDoc;  \n  \nimport java.text.DateFormat;  \nimport java.text.SimpleDateFormat;  \nimport java.util.Date;  \nimport java.util.List;  \nimport java.util.ArrayList;  \nimport java.util.Calendar;  \nimport java.io.ByteArrayOutputStream;  \n\npublic class App {  \n    public static void main(String[] args) throws Exception {  \n        //GET ALL PRINTER NAMES\n        System.out.println(&quot;Printers------------------&quot;);\n    \n        PrintService[] printServices = PrintServiceLookup.lookupPrintServices(null, null);  \n        for (PrintService avPrt : printServices) {  \n            \n            System.out.println(&quot;\\n\\nPrinter installed: &quot; + avPrt.getName());   \n            AttributeSet attributesPr = avPrt.getAttributes();  \n            for (Attribute a : attributesPr.toArray()) {  \n                String name = a.getName();  \n                String value = attributesPr.get(a.getClass()).toString();  \n                System.out.println(&quot;     &quot; + name + &quot;: &quot; + value);  \n                //is it the queue?  \n                if (name.equals(&quot;queued-job-count&quot;)) {  \n                    Object queue = Integer.parseInt(value);  \n                    System.out.println(&quot;          jobs in queue   : &quot; + queue);\n                }   \n            }  \n        }    \n    }   \n}  \n\n//my spooler printer\n//-----------------------------\nPrinter installed:SpoolerPrinter\n     printer-info: SpoolerPrinter\n     pdl-override-supported: not-attempted\n     color-supported: not-supported\n     queued-job-count: 5\n          jobs in queue   : 5                   // i want to know the jobs with the doc name\n     printer-name: Sewoo_POS_PRINTER\n     printer-is-accepting-jobs: accepting-jobs\n\n\n//my destination printers\n//i want\nPrinter installed: InvoicePrinter\n     printer-info: InvoicePrinter\n     pdl-override-supported: not-attempted\n     color-supported: not-supported\n     queued-job-count: 0\n          jobs in queue   : 0                   \n     printer-name: Sewoo_POS_PRINTER\n     printer-is-accepting-jobs: accepting-jobs\n\n\nPrinter installed: DeliveryNotePrinter\n     printer-info: DeliveryNotePrinter\n     pdl-override-supported: not-attempted\n     color-supported: not-supported\n     queued-job-count: 0                \n          jobs in queue   : 5\n     printer-name: InvoicePrinter\n     printer-is-accepting-jobs: accepting-jobs\n</code></pre>\n"},{"tags":["java","youtube","youtube-api","android-youtube-api"],"owner":{"account_id":19494831,"reputation":113,"user_id":14276580,"display_name":"44yu5h"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":279,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683453108,"creation_date":1683440181,"question_id":76192455,"body_markdown":"**Quick Background:** I&#39;m building an English learning app for adults and aged people to learn accents and improve vocab. I  want to embed a reels like immersive video player which shows only yt shorts from an account which is only used by this app (for better suggestions of shorts)\r\n\r\nSo is it possible to embed video and link *upvote downvote* buttons to *like dislike* buttons and sync comments. I couldn&#39;t find anything relevant except for a [deprecated SDK](https://developers.google.com/youtube/android/player). And the [new SDK](https://developers.google.com/youtube/iframe_api_reference) it refers to uses html (I think). Should I use WebView something like Amazon does?\r\n","title":"Embed Youtube player in Android App (android studio in java)","body":"<p><strong>Quick Background:</strong> I'm building an English learning app for adults and aged people to learn accents and improve vocab. I  want to embed a reels like immersive video player which shows only yt shorts from an account which is only used by this app (for better suggestions of shorts)</p>\n<p>So is it possible to embed video and link <em>upvote downvote</em> buttons to <em>like dislike</em> buttons and sync comments. I couldn't find anything relevant except for a <a href=\"https://developers.google.com/youtube/android/player\" rel=\"nofollow noreferrer\">deprecated SDK</a>. And the <a href=\"https://developers.google.com/youtube/iframe_api_reference\" rel=\"nofollow noreferrer\">new SDK</a> it refers to uses html (I think). Should I use WebView something like Amazon does?</p>\n"},{"tags":["java","apache-spark","pyspark"],"answers":[{"tags":[],"owner":{"account_id":6926363,"reputation":2155,"user_id":5317332,"display_name":"Alez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1683453093,"creation_date":1683451896,"answer_id":76193103,"question_id":76193048,"body_markdown":"Try to output the env variable\r\n\r\n    echo %JAVA_HOME%\r\n\r\nand check if it&#39;s correct. \r\n\r\nIf not correct check again your JAVA_HOME assignment. \r\n\r\nThen, close and reopen the command prompt again that runs the java process (or the OS user session) and type `java -version` to check if it installed successfully.\r\n\r\nIf the java command fails follow this [link][1]. \r\n\r\nFollow this [link][2] to have more info about JAVA_HOME. \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/6362037/java-error-opening-registry-key\r\n  [2]: https://docs.oracle.com/cd/E19182-01/820-7851/inst_cli_jdk_javahome_t/index.html","title":"RuntimeError: Java gateway process exited before sending its port number after setting JAVA_HOME","body":"<p>Try to output the env variable</p>\n<pre><code>echo %JAVA_HOME%\n</code></pre>\n<p>and check if it's correct.</p>\n<p>If not correct check again your JAVA_HOME assignment.</p>\n<p>Then, close and reopen the command prompt again that runs the java process (or the OS user session) and type <code>java -version</code> to check if it installed successfully.</p>\n<p>If the java command fails follow this <a href=\"https://stackoverflow.com/questions/6362037/java-error-opening-registry-key\">link</a>.</p>\n<p>Follow this <a href=\"https://docs.oracle.com/cd/E19182-01/820-7851/inst_cli_jdk_javahome_t/index.html\" rel=\"nofollow noreferrer\">link</a> to have more info about JAVA_HOME.</p>\n"}],"owner":{"account_id":20130133,"reputation":13,"user_id":21841691,"display_name":"Erevos"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":114,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76193103,"answer_count":1,"score":0,"last_activity_date":1683453093,"creation_date":1683450942,"question_id":76193048,"body_markdown":"I&#39;m trying to start pyspark using VSCode but i am getting the follow errors:\r\n\r\n```\r\nJava not found and JAVA_HOME environment variable is not set.\r\nInstall Java and set JAVA_HOME to point to the Java installation directory.\r\nTraceback (most recent call last):\r\n  File &quot;c:\\Users\\Erevos\\Desktop\\Pyspark\\LearnSpark.py&quot;, line 5, in &lt;module&gt;\r\n    spark = SparkSession.builder.appName(&quot;MyApp&quot;).getOrCreate()\r\n  File &quot;C:\\Users\\Erevos\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\pyspark\\sql\\session.py&quot;, line 477, in getOrCreate\r\n    sc = SparkContext.getOrCreate(sparkConf)\r\n  File &quot;C:\\Users\\Erevos\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\pyspark\\context.py&quot;, line 512, in getOrCreate\r\n    SparkContext(conf=conf or SparkConf())\r\n  File &quot;C:\\Users\\Erevos\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\pyspark\\context.py&quot;, line 198, in __init__\r\n    SparkContext._ensure_initialized(self, gateway=gateway, conf=conf)\r\n  File &quot;C:\\Users\\Erevos\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\pyspark\\context.py&quot;, line 432, in _ensure_initialized\r\n    SparkContext._gateway = gateway or launch_gateway(conf)\r\n  File &quot;C:\\Users\\Erevos\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\pyspark\\java_gateway.py&quot;, line 106, in launch_gateway\r\n    raise RuntimeError(&quot;Java gateway process exited before sending its port number&quot;)\r\nRuntimeError: Java gateway process exited before sending its port number\r\n```\r\n\r\ni have already set the JAVA_HOME = path, [here](https://i.stack.imgur.com/k1RW6.png)\r\n\r\nMoreover, i have downloaded the folders required: [here](https://i.stack.imgur.com/rtVPc.png)","title":"RuntimeError: Java gateway process exited before sending its port number after setting JAVA_HOME","body":"<p>I'm trying to start pyspark using VSCode but i am getting the follow errors:</p>\n<pre><code>Java not found and JAVA_HOME environment variable is not set.\nInstall Java and set JAVA_HOME to point to the Java installation directory.\nTraceback (most recent call last):\n  File &quot;c:\\Users\\Erevos\\Desktop\\Pyspark\\LearnSpark.py&quot;, line 5, in &lt;module&gt;\n    spark = SparkSession.builder.appName(&quot;MyApp&quot;).getOrCreate()\n  File &quot;C:\\Users\\Erevos\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\pyspark\\sql\\session.py&quot;, line 477, in getOrCreate\n    sc = SparkContext.getOrCreate(sparkConf)\n  File &quot;C:\\Users\\Erevos\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\pyspark\\context.py&quot;, line 512, in getOrCreate\n    SparkContext(conf=conf or SparkConf())\n  File &quot;C:\\Users\\Erevos\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\pyspark\\context.py&quot;, line 198, in __init__\n    SparkContext._ensure_initialized(self, gateway=gateway, conf=conf)\n  File &quot;C:\\Users\\Erevos\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\pyspark\\context.py&quot;, line 432, in _ensure_initialized\n    SparkContext._gateway = gateway or launch_gateway(conf)\n  File &quot;C:\\Users\\Erevos\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\pyspark\\java_gateway.py&quot;, line 106, in launch_gateway\n    raise RuntimeError(&quot;Java gateway process exited before sending its port number&quot;)\nRuntimeError: Java gateway process exited before sending its port number\n</code></pre>\n<p>i have already set the JAVA_HOME = path, <a href=\"https://i.stack.imgur.com/k1RW6.png\" rel=\"nofollow noreferrer\">here</a></p>\n<p>Moreover, i have downloaded the folders required: <a href=\"https://i.stack.imgur.com/rtVPc.png\" rel=\"nofollow noreferrer\">here</a></p>\n"},{"tags":["java","c++","webassembly","emscripten","jwebassembly"],"answers":[{"tags":[],"owner":{"account_id":7295,"reputation":23914,"user_id":12631,"accept_rate":57,"display_name":"Horcrux7"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683452897,"creation_date":1683452897,"answer_id":76193168,"question_id":72295196,"body_markdown":"&gt; de.inetsoftware.jwebassembly.WasmException: Unimplemented Java byte code operation: 42\r\n\r\nIt appears that you are using an outdated version of the compiler. The operation 42 (hexadecimal value 2a) has been implemented since 2018.","title":"Build webassembly sorting functions from C++ and Java source code","body":"<blockquote>\n<p>de.inetsoftware.jwebassembly.WasmException: Unimplemented Java byte code operation: 42</p>\n</blockquote>\n<p>It appears that you are using an outdated version of the compiler. The operation 42 (hexadecimal value 2a) has been implemented since 2018.</p>\n"}],"owner":{"account_id":25326980,"reputation":41,"user_id":19147473,"display_name":"mark88"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":234,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1683452897,"creation_date":1652903473,"question_id":72295196,"body_markdown":"I have a problem that I was going to work on arrays in WebAssembly and I wanted to use Java and C ++, and trying to do this, I ran into the following problems and I would like to ask for help:\r\n\r\n**Java: I&#39;m using JWebAssembly**\r\n\r\nAnd we have a class that works on tables\r\n\r\n```\r\nimport de.inetsoftware.jwebassembly.api.annotation.Export;\r\n\r\npublic class Add {\r\n    @Export\r\n    public static int[] add( int a[], int b ) {\r\n\r\n        for(int i = 0;i&lt;b-1;i++){\r\n            a[i] += b ;\r\n        }\r\n        return a;\r\n    }\r\n}\r\n```\r\n\r\nwe convert it to wasm\r\n\r\n```\r\nimport de.inetsoftware.jwebassembly.JWebAssembly;\r\n\r\nimport java.io.File;\r\nimport java.net.URL;\r\n\r\npublic class Wasm {\r\n    public static void main(String[] args) {\r\n        File wasmFile = new File(&quot;testTable.wasm&quot;);\r\n        JWebAssembly wasm = new JWebAssembly();\r\n\r\n        Class clazz = Add.class;\r\n\r\n        URL url = clazz.getResource(\r\n                &#39;/&#39; +\r\n                        clazz.getName().replace(&#39;.&#39;, &#39;/&#39;) +\r\n                        &quot;.class&quot;);\r\n        wasm.addFile(url);\r\n        String txt = wasm.compileToText();\r\n        System.out.println(txt);\r\n        wasm.compileToBinary(wasmFile);\r\n    }\r\n}\r\n```\r\n\r\nand such an error comes out \r\nException in thread &quot;main&quot; de.inetsoftware.jwebassembly.WasmException: Unimplemented Java byte code operation: 42 at Add.java:11\r\n\r\nhttps://en.wikipedia.org/wiki/List_of_Java_bytecode_instructions\r\n\r\nAnd I don&#39;t understand why because in this guy&#39;s presentation https://www.youtube.com/watch?v=93z9SaLQVVw (40 min+) you can see that it works and compiles\r\n\r\n**Now C++**\r\n \r\nI use emscripten, I wanted to do a bubble sort but for the sake of simplicity an example showing the problem\r\n\r\n```#include &lt;iostream&gt;\r\n #include &lt;emscripten.h&gt;\r\n using namespace std;\r\n \r\nEMSCRIPTEN_KEEPALIVE\r\nint* mainFunction(int table[], int length)\r\n{\r\n    \r\n    int* outTable = new int[length];\r\n\r\n    for(int i = 0;i&lt;length; i++){\r\n        outTable[i] = table[i];\r\n    }\r\n\r\n    return table;\r\n}\r\n```\r\nBy running it with this command test.cpp -s WASM=1 -o test.html\r\n \r\nafter compiling it, files appear to me from which I extract the appropriate data and in javascript I set and import everything\r\n\r\n```\r\nlet wasmExports = null;\r\n\r\nlet asmLibraryArg = {\r\n    abort: () =&gt; {},\r\n    emscripten_resize_heap: () =&gt; {},\r\n};\r\n\r\nlet info = {\r\n    env: asmLibraryArg,\r\n    wasi_snapshot_preview1: asmLibraryArg,\r\n};\r\n\r\nasync function loadWasm() {\r\n    let response = await fetch(&quot;test.wasm&quot;);\r\n    let bytes = await response.arrayBuffer();\r\n    let wasmObj = await WebAssembly.instantiate(bytes, info);\r\n    wasmExports = wasmObj.instance.exports;\r\n}\r\n\r\nloadWasm();\r\n```\r\nand later in the code I use \r\n\r\n```\r\nconsole.log(wasmExports);\r\nconsole.log(wasmExports._Z12mainFunctionPii(table, table.length));\r\n```\r\n\r\n[results][1]\r\n\r\nand when I throw in some array of integers it only throws me the number 0 and I have no idea how to get out of it. Or maybe someone knows another language in which it is possible to compile for wasm and then run it on the website?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/pSkPq.png","title":"Build webassembly sorting functions from C++ and Java source code","body":"<p>I have a problem that I was going to work on arrays in WebAssembly and I wanted to use Java and C ++, and trying to do this, I ran into the following problems and I would like to ask for help:</p>\n<p><strong>Java: I'm using JWebAssembly</strong></p>\n<p>And we have a class that works on tables</p>\n<pre><code>import de.inetsoftware.jwebassembly.api.annotation.Export;\n\npublic class Add {\n    @Export\n    public static int[] add( int a[], int b ) {\n\n        for(int i = 0;i&lt;b-1;i++){\n            a[i] += b ;\n        }\n        return a;\n    }\n}\n</code></pre>\n<p>we convert it to wasm</p>\n<pre><code>import de.inetsoftware.jwebassembly.JWebAssembly;\n\nimport java.io.File;\nimport java.net.URL;\n\npublic class Wasm {\n    public static void main(String[] args) {\n        File wasmFile = new File(&quot;testTable.wasm&quot;);\n        JWebAssembly wasm = new JWebAssembly();\n\n        Class clazz = Add.class;\n\n        URL url = clazz.getResource(\n                '/' +\n                        clazz.getName().replace('.', '/') +\n                        &quot;.class&quot;);\n        wasm.addFile(url);\n        String txt = wasm.compileToText();\n        System.out.println(txt);\n        wasm.compileToBinary(wasmFile);\n    }\n}\n</code></pre>\n<p>and such an error comes out\nException in thread &quot;main&quot; de.inetsoftware.jwebassembly.WasmException: Unimplemented Java byte code operation: 42 at Add.java:11</p>\n<p><a href=\"https://en.wikipedia.org/wiki/List_of_Java_bytecode_instructions\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/List_of_Java_bytecode_instructions</a></p>\n<p>And I don't understand why because in this guy's presentation <a href=\"https://www.youtube.com/watch?v=93z9SaLQVVw\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=93z9SaLQVVw</a> (40 min+) you can see that it works and compiles</p>\n<p><strong>Now C++</strong></p>\n<p>I use emscripten, I wanted to do a bubble sort but for the sake of simplicity an example showing the problem</p>\n<pre><code> #include &lt;emscripten.h&gt;\n using namespace std;\n \nEMSCRIPTEN_KEEPALIVE\nint* mainFunction(int table[], int length)\n{\n    \n    int* outTable = new int[length];\n\n    for(int i = 0;i&lt;length; i++){\n        outTable[i] = table[i];\n    }\n\n    return table;\n}\n</code></pre>\n<p>By running it with this command test.cpp -s WASM=1 -o test.html</p>\n<p>after compiling it, files appear to me from which I extract the appropriate data and in javascript I set and import everything</p>\n<pre><code>let wasmExports = null;\n\nlet asmLibraryArg = {\n    abort: () =&gt; {},\n    emscripten_resize_heap: () =&gt; {},\n};\n\nlet info = {\n    env: asmLibraryArg,\n    wasi_snapshot_preview1: asmLibraryArg,\n};\n\nasync function loadWasm() {\n    let response = await fetch(&quot;test.wasm&quot;);\n    let bytes = await response.arrayBuffer();\n    let wasmObj = await WebAssembly.instantiate(bytes, info);\n    wasmExports = wasmObj.instance.exports;\n}\n\nloadWasm();\n</code></pre>\n<p>and later in the code I use</p>\n<pre><code>console.log(wasmExports);\nconsole.log(wasmExports._Z12mainFunctionPii(table, table.length));\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/pSkPq.png\" rel=\"nofollow noreferrer\">results</a></p>\n<p>and when I throw in some array of integers it only throws me the number 0 and I have no idea how to get out of it. Or maybe someone knows another language in which it is possible to compile for wasm and then run it on the website?</p>\n"},{"tags":["java","selenium-webdriver","webdriver","cucumber"],"owner":{"account_id":17770522,"reputation":89,"user_id":12904248,"display_name":"NoNoNo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":129,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683452368,"creation_date":1683445474,"question_id":76192727,"body_markdown":"I have been getting WebDriverException intermittently when control touches deleteAllCookies(). Using selenium manager 4.9.0 version with chrome browser. Please find below exception stacktrace.\r\n\r\n\r\n    May 07, 2023 7:19:50 AM org.openqa.selenium.devtools.CdpVersionFinder findNearestMatch\r\n    WARNING: Unable to find an exact match for CDP version 112, so returning the closest version found: 111\r\n          org.openqa.selenium.WebDriverException: unknown error: cannot determine loading status\r\n    from no such window\r\n      (Session info: chrome=112.0.5615.86)\r\n    Build info: version: &#39;4.8.3&#39;, revision: &#39;e5e76298c3&#39;\r\n    System info: os.name: &#39;Windows Server 2019&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;10.0&#39;, java.version: &#39;17.0.3&#39;\r\n    Driver info: org.openqa.selenium.chrome.ChromeDriver\r\n    Command: [5992e73ccdeb9a7ba10446065e65b0dc, deleteAllCookies {}]\r\n    Capabilities {acceptInsecureCerts: false, browserName: chrome, browserVersion: 112.0.5615.86, chrome: {chromedriverVersion: 112.0.5615.49 (bd2a7bcb881c..., userDataDir: D:\\Users\\nshaik\\AppData\\Loc...}, goog:chromeOptions: {debuggerAddress: localhost:52051}, networkConnectionEnabled: false, pageLoadStrategy: normal, platformName: WINDOWS, proxy: Proxy(), se:cdp: ws://localhost:52051/devtoo..., se:cdpVersion: 112.0.5615.86, setWindowRect: true, strictFileInteractability: false, timeouts: {implicit: 0, pageLoad: 300000, script: 30000}, unhandledPromptBehavior: dismiss and notify, webauthn:extension:credBlob: true, webauthn:extension:largeBlob: true, webauthn:extension:minPinLength: true, webauthn:extension:prf: true, webauthn:virtualAuthenticators: true}\r\n    Session ID: 5992e73ccdeb9a7ba10446065e65b0dc\r\n    \tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)\r\n    \tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n    \tat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\r\n    \tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\r\n    \tat org.openqa.selenium.remote.codec.w3c.W3CHttpResponseCodec.createException(W3CHttpResponseCodec.java:200)\r\n    \tat org.openqa.selenium.remote.codec.w3c.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:133)\r\n    \tat org.openqa.selenium.remote.codec.w3c.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:53)\r\n    \tat org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:193)\r\n    \tat org.openqa.selenium.remote.service.DriverCommandExecutor.invokeExecute(DriverCommandExecutor.java:183)\r\n    \tat org.openqa.selenium.remote.service.DriverCommandExecutor.execute(DriverCommandExecutor.java:158)\r\n    \tat org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:543)\r\n    \tat org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:598)\r\n    \tat org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:602)\r\n    \tat org.openqa.selenium.remote.RemoteWebDriver$RemoteWebDriverOptions.deleteAllCookies(RemoteWebDriver.java:784)\r\n\r\n","title":"I am getting WebDriverException intermittently while invoking deleteAllCookies method in selenium","body":"<p>I have been getting WebDriverException intermittently when control touches deleteAllCookies(). Using selenium manager 4.9.0 version with chrome browser. Please find below exception stacktrace.</p>\n<pre><code>May 07, 2023 7:19:50 AM org.openqa.selenium.devtools.CdpVersionFinder findNearestMatch\nWARNING: Unable to find an exact match for CDP version 112, so returning the closest version found: 111\n      org.openqa.selenium.WebDriverException: unknown error: cannot determine loading status\nfrom no such window\n  (Session info: chrome=112.0.5615.86)\nBuild info: version: '4.8.3', revision: 'e5e76298c3'\nSystem info: os.name: 'Windows Server 2019', os.arch: 'amd64', os.version: '10.0', java.version: '17.0.3'\nDriver info: org.openqa.selenium.chrome.ChromeDriver\nCommand: [5992e73ccdeb9a7ba10446065e65b0dc, deleteAllCookies {}]\nCapabilities {acceptInsecureCerts: false, browserName: chrome, browserVersion: 112.0.5615.86, chrome: {chromedriverVersion: 112.0.5615.49 (bd2a7bcb881c..., userDataDir: D:\\Users\\nshaik\\AppData\\Loc...}, goog:chromeOptions: {debuggerAddress: localhost:52051}, networkConnectionEnabled: false, pageLoadStrategy: normal, platformName: WINDOWS, proxy: Proxy(), se:cdp: ws://localhost:52051/devtoo..., se:cdpVersion: 112.0.5615.86, setWindowRect: true, strictFileInteractability: false, timeouts: {implicit: 0, pageLoad: 300000, script: 30000}, unhandledPromptBehavior: dismiss and notify, webauthn:extension:credBlob: true, webauthn:extension:largeBlob: true, webauthn:extension:minPinLength: true, webauthn:extension:prf: true, webauthn:virtualAuthenticators: true}\nSession ID: 5992e73ccdeb9a7ba10446065e65b0dc\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\n    at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\n    at org.openqa.selenium.remote.codec.w3c.W3CHttpResponseCodec.createException(W3CHttpResponseCodec.java:200)\n    at org.openqa.selenium.remote.codec.w3c.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:133)\n    at org.openqa.selenium.remote.codec.w3c.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:53)\n    at org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:193)\n    at org.openqa.selenium.remote.service.DriverCommandExecutor.invokeExecute(DriverCommandExecutor.java:183)\n    at org.openqa.selenium.remote.service.DriverCommandExecutor.execute(DriverCommandExecutor.java:158)\n    at org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:543)\n    at org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:598)\n    at org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:602)\n    at org.openqa.selenium.remote.RemoteWebDriver$RemoteWebDriverOptions.deleteAllCookies(RemoteWebDriver.java:784)\n</code></pre>\n"},{"tags":["java","xml","ibm-mobilefirst","saprfc","jco"],"comments":[{"owner":{"account_id":1662875,"reputation":44246,"user_id":1530814,"accept_rate":94,"display_name":"Idan Adar"},"score":0,"creation_date":1431495504,"post_id":30065955,"comment_id":48517794,"body_markdown":"provide your project","body":"provide your project"},{"owner":{"account_id":4367849,"reputation":547,"user_id":3562989,"accept_rate":56,"display_name":"Vinod Kumar Marupu"},"score":0,"creation_date":1431510913,"post_id":30065955,"comment_id":48527122,"body_markdown":"@IdanAdar I provided my adapter code.","body":"@IdanAdar I provided my adapter code."},{"owner":{"account_id":1662875,"reputation":44246,"user_id":1530814,"accept_rate":94,"display_name":"Idan Adar"},"score":0,"creation_date":1431511034,"post_id":30065955,"comment_id":48527228,"body_markdown":"I don&#39;t think that&#39;s enough. Is there something testable you can provide?","body":"I don&#39;t think that&#39;s enough. Is there something testable you can provide?"},{"owner":{"account_id":4367849,"reputation":547,"user_id":3562989,"accept_rate":56,"display_name":"Vinod Kumar Marupu"},"score":0,"creation_date":1431512023,"post_id":30065955,"comment_id":48527896,"body_markdown":"@IdanAdar I provided my complete adapter code.","body":"@IdanAdar I provided my complete adapter code."},{"owner":{"account_id":1662875,"reputation":44246,"user_id":1530814,"accept_rate":94,"display_name":"Idan Adar"},"score":0,"creation_date":1434138202,"post_id":30065955,"comment_id":49670195,"body_markdown":"Did you resolve this?","body":"Did you resolve this?"},{"owner":{"account_id":4367849,"reputation":547,"user_id":3562989,"accept_rate":56,"display_name":"Vinod Kumar Marupu"},"score":0,"creation_date":1434367591,"post_id":30065955,"comment_id":49731262,"body_markdown":"@IdanAdar No, Currently I&#39;m working on SAP Netweaver Gateway Adapter to communicate with SAP Backend System.","body":"@IdanAdar No, Currently I&#39;m working on SAP Netweaver Gateway Adapter to communicate with SAP Backend System."},{"owner":{"account_id":327532,"reputation":1636,"user_id":919049,"accept_rate":71,"display_name":"Mohammad"},"score":0,"creation_date":1454899602,"post_id":30065955,"comment_id":58235473,"body_markdown":"@IdanAdar I am facing same problem. Is there any particular way to resolve this?","body":"@IdanAdar I am facing same problem. Is there any particular way to resolve this?"}],"answers":[{"tags":[],"owner":{"account_id":4309126,"reputation":81,"user_id":3520731,"display_name":"chrisjaun"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1434141177,"creation_date":1434141177,"answer_id":30811747,"question_id":30065955,"body_markdown":"That error indicates that you have not installed the SAP JCO libraries correctly on your MFP server.","title":"Error when invoking IBM Mobilefirst 7.0-SAP JCo Adapter","body":"<p>That error indicates that you have not installed the SAP JCO libraries correctly on your MFP server.</p>\n"},{"tags":[],"owner":{"account_id":6447862,"reputation":46,"user_id":4995825,"display_name":"Kyle Woodward"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1531191611,"creation_date":1454952362,"answer_id":35275639,"question_id":30065955,"body_markdown":"Like Chris Jaun mentioned, this is an error that you&#39;ll receive if you haven&#39;t setup your machine correctly to work with JCo Adapters. Make sure the following criteria is met with your current setup:\r\n\r\n\r\n1. The jre directory should be your java runtime environment\r\n\r\n2. your jre must be 32-bit to work with the jco jar and dlls (in my experience, I&#39;ve only gotten the adapters to work with the 32-bit version)\r\n\r\n3. `librfc32.dll` is in `C:/Windows/System32`\r\n\r\n4. `sapjco-*.*.*.jar` is in `\\jre\\lib\\ext`\r\n\r\n5. `sapjcorfc.dll` is in `\\jre\\bin`\r\n","title":"Error when invoking IBM Mobilefirst 7.0-SAP JCo Adapter","body":"<p>Like Chris Jaun mentioned, this is an error that you'll receive if you haven't setup your machine correctly to work with JCo Adapters. Make sure the following criteria is met with your current setup:</p>\n\n<ol>\n<li><p>The jre directory should be your java runtime environment</p></li>\n<li><p>your jre must be 32-bit to work with the jco jar and dlls (in my experience, I've only gotten the adapters to work with the 32-bit version)</p></li>\n<li><p><code>librfc32.dll</code> is in <code>C:/Windows/System32</code></p></li>\n<li><p><code>sapjco-*.*.*.jar</code> is in <code>\\jre\\lib\\ext</code></p></li>\n<li><p><code>sapjcorfc.dll</code> is in <code>\\jre\\bin</code></p></li>\n</ol>\n"}],"owner":{"account_id":4367849,"reputation":547,"user_id":3562989,"accept_rate":56,"display_name":"Vinod Kumar Marupu"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":140,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":2,"score":2,"last_activity_date":1683451999,"creation_date":1430875728,"question_id":30065955,"body_markdown":"When I invoke the SAP JCo Adapter, I&#39;m getting an error message like this:\r\n\r\n&gt;Invocation of procedure &#39;invokeSAPFunction&#39; caused \r\n&gt; java.lang.NoClassDefFoundError: com/sap/mw/jco/JCO$Exception [project\r\n&gt; DemoProject].\r\n\r\nWhat can cause it?\r\n\r\n    function invokeSAPFunction(params) {\r\n\tvar input = {};\r\n\tinput.FunctionName = params.FunctionName || &quot;&quot;;\r\n\tinput.Imports = params.Imports || {};\r\n\treturn WL.Server.invokeSAPFunction(input);\r\n    }\r\n\r\nI&#39;m passing parameter as a JSON object i.e.\r\n\r\n     {&quot;FunctionName&quot; : &quot;Example BAPI function &quot;, &quot;Imports&quot; : {&quot;COMPANYID&quot;:&quot;ID&quot;}}\r\n\r\nHere function name is my BAPI which is created in SAP system \r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;wl:adapter name=&quot;SAPJCoExample&quot;\r\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; \r\n\txmlns:wl=&quot;http://www.ibm.com/mfp/integration&quot;\t\r\n\txmlns:sapjco=&quot;http://www.ibm.com/mfp/integration/sap&quot;&gt;\r\n\r\n\t&lt;displayName&gt;SAPJCoExample&lt;/displayName&gt;\r\n\t&lt;description&gt;SAPJCoExample&lt;/description&gt;\r\n\t&lt;connectivity&gt;\r\n\t\t&lt;connectionPolicy xsi:type=&quot;sapjco:JCOConnectionPolicy&quot; \r\n\t\t\tjcoClientClient=&quot;800&quot; \r\n\t\t\tjcoClientUser=&quot;USERNAME&quot;\r\n\t\t\tjcoClientPasswd=&quot;PASSWORD&quot; \r\n\t\t\tjcoClientLang=&quot;EN&quot; \r\n\t\t\tjcoClientAsHost=&quot;hostname&quot; \r\n\t\t\tjcoClientSysnr=&quot;00&quot;\r\n\t\t\tmaxConnections=&quot;10&quot; /&gt;\t\t\t\t\r\n\t&lt;/connectivity&gt;\r\n\t&lt;procedure name=&quot;invokeSAPFunction&quot;/&gt;\r\n&lt;/wl:adapter&gt;\r\n```","title":"Error when invoking IBM Mobilefirst 7.0-SAP JCo Adapter","body":"<p>When I invoke the SAP JCo Adapter, I'm getting an error message like this:</p>\n<blockquote>\n<p>Invocation of procedure 'invokeSAPFunction' caused\njava.lang.NoClassDefFoundError: com/sap/mw/jco/JCO$Exception [project\nDemoProject].</p>\n</blockquote>\n<p>What can cause it?</p>\n<pre><code>function invokeSAPFunction(params) {\nvar input = {};\ninput.FunctionName = params.FunctionName || &quot;&quot;;\ninput.Imports = params.Imports || {};\nreturn WL.Server.invokeSAPFunction(input);\n}\n</code></pre>\n<p>I'm passing parameter as a JSON object i.e.</p>\n<pre><code> {&quot;FunctionName&quot; : &quot;Example BAPI function &quot;, &quot;Imports&quot; : {&quot;COMPANYID&quot;:&quot;ID&quot;}}\n</code></pre>\n<p>Here function name is my BAPI which is created in SAP system</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;wl:adapter name=&quot;SAPJCoExample&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; \n    xmlns:wl=&quot;http://www.ibm.com/mfp/integration&quot;   \n    xmlns:sapjco=&quot;http://www.ibm.com/mfp/integration/sap&quot;&gt;\n\n    &lt;displayName&gt;SAPJCoExample&lt;/displayName&gt;\n    &lt;description&gt;SAPJCoExample&lt;/description&gt;\n    &lt;connectivity&gt;\n        &lt;connectionPolicy xsi:type=&quot;sapjco:JCOConnectionPolicy&quot; \n            jcoClientClient=&quot;800&quot; \n            jcoClientUser=&quot;USERNAME&quot;\n            jcoClientPasswd=&quot;PASSWORD&quot; \n            jcoClientLang=&quot;EN&quot; \n            jcoClientAsHost=&quot;hostname&quot; \n            jcoClientSysnr=&quot;00&quot;\n            maxConnections=&quot;10&quot; /&gt;              \n    &lt;/connectivity&gt;\n    &lt;procedure name=&quot;invokeSAPFunction&quot;/&gt;\n&lt;/wl:adapter&gt;\n</code></pre>\n"},{"tags":["java","spring","spring-integration","dsl"],"answers":[{"tags":[],"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1683218465,"creation_date":1683218465,"answer_id":76175497,"question_id":76174808,"body_markdown":"Well, if you question is to just reply the same input payload, then your `noop` would look like this:\r\n\r\n    private static IntegrationFlow noop() {\r\n        return f -&gt; f.bridge();\r\n    }\r\n\r\n\r\nThe bridge is a simple pass-through request-reply handler, and if there is no output channel, it consults a `replyChannel` header.","title":"Spring-Integration Filter when predicate is false within request-reply flow","body":"<p>Well, if you question is to just reply the same input payload, then your <code>noop</code> would look like this:</p>\n<pre><code>private static IntegrationFlow noop() {\n    return f -&gt; f.bridge();\n}\n</code></pre>\n<p>The bridge is a simple pass-through request-reply handler, and if there is no output channel, it consults a <code>replyChannel</code> header.</p>\n"},{"tags":[],"owner":{"account_id":22562945,"reputation":462,"user_id":16750357,"display_name":"al.truisme"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683451923,"creation_date":1683451923,"answer_id":76193106,"question_id":76174808,"body_markdown":"I&#39;ve accepted @artem-bilan&#39;s answer.  (Thanks very much.)\r\n\r\nI wanted to build onto that answer with perhaps a shorter implementation:\r\n\r\n```\r\n    @Bean(name = &quot;sendsEvenValuesWorksFlow&quot;)\r\n    IntegrationFlow sendEvenValuesWorksFlow() {\r\n        return IntegrationFlows.from(&quot;sendsEvenValuesWorksChannel&quot;)\r\n                               .filter(&quot;(payload % 2) == 1&quot;, discardReturnsCurrentMessage())\r\n                               .transform(&quot;payload * 2&quot;)\r\n                               .get();\r\n    }\r\n\r\n    public static Consumer&lt;FilterEndpointSpec&gt; discardReturnsCurrentMessage() {\r\n        return filterSpec -&gt; filterSpec.discardFlow(IntegrationFlowDefinition::bridge);\r\n    }\r\n```\r\n\r\nThe ```discardReturnsCurrentMessage()``` static method can be declared once and reused.  It also gives a precise definition of what is expected.\r\n","title":"Spring-Integration Filter when predicate is false within request-reply flow","body":"<p>I've accepted @artem-bilan's answer.  (Thanks very much.)</p>\n<p>I wanted to build onto that answer with perhaps a shorter implementation:</p>\n<pre><code>    @Bean(name = &quot;sendsEvenValuesWorksFlow&quot;)\n    IntegrationFlow sendEvenValuesWorksFlow() {\n        return IntegrationFlows.from(&quot;sendsEvenValuesWorksChannel&quot;)\n                               .filter(&quot;(payload % 2) == 1&quot;, discardReturnsCurrentMessage())\n                               .transform(&quot;payload * 2&quot;)\n                               .get();\n    }\n\n    public static Consumer&lt;FilterEndpointSpec&gt; discardReturnsCurrentMessage() {\n        return filterSpec -&gt; filterSpec.discardFlow(IntegrationFlowDefinition::bridge);\n    }\n</code></pre>\n<p>The <code>discardReturnsCurrentMessage()</code> static method can be declared once and reused.  It also gives a precise definition of what is expected.</p>\n"}],"owner":{"account_id":22562945,"reputation":462,"user_id":16750357,"display_name":"al.truisme"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76175497,"answer_count":2,"score":0,"last_activity_date":1683451923,"creation_date":1683213634,"question_id":76174808,"body_markdown":"I&#39;m trying to use filter() in order to execute certain code conditionally and yet always return a reply in a request-reply flow.\r\n\r\nFor instance, in ```Spring-Integration 5.5.17```, in the IntegrationFlow, I can conditionally multiply odd integer payloads by two.\r\n\r\n```\r\n    @Bean(name = &quot;sendsEvenValuesWorksFlow&quot;)\r\n    IntegrationFlow sendEvenValuesWorksFlow() {\r\n        return IntegrationFlows.from(&quot;sendsEvenValuesWorksChannel&quot;)\r\n                               .filter(&quot;(payload % 2) == 1&quot;, filterSpec -&gt; filterSpec.discardFlow(noop()))\r\n                               .transform(&quot;payload * 2&quot;)\r\n                               .get();\r\n    }\r\n\r\n    private static IntegrationFlow noop() {\r\n        return f -&gt; f.filter(&quot;true&quot;);\r\n    }\r\n```\r\n\r\nwhere the filter has a ```discardFlow``` which does nothing.\r\n\r\nBut I would think that there would be a simpler way of continuing the flow with the current payload.  The following doesn&#39;t work, for instance, because it produces no output message:\r\n\r\n```\r\n    @Bean(name = &quot;sendsEvenValuesFailsFlow&quot;)\r\n    IntegrationFlow sendEvenValuesFailsFlow() {\r\n        return IntegrationFlows.from(&quot;sendsEvenValuesFailsChannel&quot;)\r\n                               .filter(&quot;(payload % 2) == 1&quot;)\r\n                               .transform(&quot;payload * 2&quot;)\r\n                               .get();\r\n    }\r\n```\r\n\r\nIs a ```discard``` mechanism (```flow``` or ```channel```) obligatory in order to guarantee a reply message is produced with a ```filter()``` method?  If so, is there a simpler way of creating a ```noop()``` flow?\r\n\r\nThanks for any pointers.","title":"Spring-Integration Filter when predicate is false within request-reply flow","body":"<p>I'm trying to use filter() in order to execute certain code conditionally and yet always return a reply in a request-reply flow.</p>\n<p>For instance, in <code>Spring-Integration 5.5.17</code>, in the IntegrationFlow, I can conditionally multiply odd integer payloads by two.</p>\n<pre><code>    @Bean(name = &quot;sendsEvenValuesWorksFlow&quot;)\n    IntegrationFlow sendEvenValuesWorksFlow() {\n        return IntegrationFlows.from(&quot;sendsEvenValuesWorksChannel&quot;)\n                               .filter(&quot;(payload % 2) == 1&quot;, filterSpec -&gt; filterSpec.discardFlow(noop()))\n                               .transform(&quot;payload * 2&quot;)\n                               .get();\n    }\n\n    private static IntegrationFlow noop() {\n        return f -&gt; f.filter(&quot;true&quot;);\n    }\n</code></pre>\n<p>where the filter has a <code>discardFlow</code> which does nothing.</p>\n<p>But I would think that there would be a simpler way of continuing the flow with the current payload.  The following doesn't work, for instance, because it produces no output message:</p>\n<pre><code>    @Bean(name = &quot;sendsEvenValuesFailsFlow&quot;)\n    IntegrationFlow sendEvenValuesFailsFlow() {\n        return IntegrationFlows.from(&quot;sendsEvenValuesFailsChannel&quot;)\n                               .filter(&quot;(payload % 2) == 1&quot;)\n                               .transform(&quot;payload * 2&quot;)\n                               .get();\n    }\n</code></pre>\n<p>Is a <code>discard</code> mechanism (<code>flow</code> or <code>channel</code>) obligatory in order to guarantee a reply message is produced with a <code>filter()</code> method?  If so, is there a simpler way of creating a <code>noop()</code> flow?</p>\n<p>Thanks for any pointers.</p>\n"},{"tags":["java","authentication","single-sign-on","jco"],"comments":[{"owner":{"account_id":6389360,"reputation":865,"user_id":4956096,"display_name":"barthel"},"score":0,"creation_date":1435923318,"post_id":31202255,"comment_id":50413604,"body_markdown":"Tell use the JCO version.","body":"Tell use the JCO version."}],"answers":[{"tags":[],"owner":{"account_id":6389360,"reputation":865,"user_id":4956096,"display_name":"barthel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1435923678,"creation_date":1435923678,"answer_id":31205994,"question_id":31202255,"body_markdown":"It sounds that your portal is using a SSO solution?\r\n\r\nIn general it is possible by using `JAAS`.\r\n\r\nConfigure a JAAS `LoginModule`, get the username and - maybe - the password and providing that information to the `JCO` client.\r\n","title":"Authenticate without entering userid and password","body":"<p>It sounds that your portal is using a SSO solution?</p>\n\n<p>In general it is possible by using <code>JAAS</code>.</p>\n\n<p>Configure a JAAS <code>LoginModule</code>, get the username and - maybe - the password and providing that information to the <code>JCO</code> client.</p>\n"}],"owner":{"account_id":1642326,"reputation":562,"user_id":1514543,"accept_rate":53,"display_name":"Rakesh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683451823,"creation_date":1435912645,"question_id":31202255,"body_markdown":"In our organization we have an internal portal like `www.xyz.com` and we use SAP Web interface. \r\n\r\nBasically I&#39;m writing a Java code using JCo to fetch the data from SAP table. but I need to authenticate to get into the application. In this Web interface we don&#39;t enter the user name and password.\r\n\r\nWhen I open the Web page it directly takes the USERID and PASSWORD from `xyz.com` portal and logs in.\r\n\r\nIs there a way that in my Java code, I can retrieve that data (I don&#39;t want to view it, just authenticate directly using that portal) and get the data. Currently my code to retrieve data is like below.\r\n\r\n    JCO.createClient(&quot;SAP client&quot;, &quot;username&quot;,&quot;password&quot;,&quot;language&quot;,\r\n    &quot;server name&quot;,&quot;system number&quot;);\r\n\r\nHere I want to get the user name and password directly.\r\n\r\nIs there a way to get this?\r\n\r\nThanks","title":"Authenticate without entering userid and password","body":"<p>In our organization we have an internal portal like <code>www.xyz.com</code> and we use SAP Web interface.</p>\n<p>Basically I'm writing a Java code using JCo to fetch the data from SAP table. but I need to authenticate to get into the application. In this Web interface we don't enter the user name and password.</p>\n<p>When I open the Web page it directly takes the USERID and PASSWORD from <code>xyz.com</code> portal and logs in.</p>\n<p>Is there a way that in my Java code, I can retrieve that data (I don't want to view it, just authenticate directly using that portal) and get the data. Currently my code to retrieve data is like below.</p>\n<pre><code>JCO.createClient(&quot;SAP client&quot;, &quot;username&quot;,&quot;password&quot;,&quot;language&quot;,\n&quot;server name&quot;,&quot;system number&quot;);\n</code></pre>\n<p>Here I want to get the user name and password directly.</p>\n<p>Is there a way to get this?</p>\n<p>Thanks</p>\n"},{"tags":["java","mapstruct","micronaut"],"comments":[{"owner":{"account_id":1128956,"reputation":19765,"user_id":1115491,"display_name":"Filip"},"score":0,"creation_date":1547154324,"post_id":54136772,"comment_id":95105305,"body_markdown":"Are the mappers generated?","body":"Are the mappers generated?"},{"owner":{"account_id":15100198,"reputation":33,"user_id":10897439,"display_name":"age"},"score":0,"creation_date":1547187916,"post_id":54136772,"comment_id":95113841,"body_markdown":"Yes, mappers have been generated and I can also instantiate one manually in the controller. Just the wiring using @Inject doesn&#39;t work.","body":"Yes, mappers have been generated and I can also instantiate one manually in the controller. Just the wiring using @Inject doesn&#39;t work."},{"owner":{"account_id":1128956,"reputation":19765,"user_id":1115491,"display_name":"Filip"},"score":0,"creation_date":1547202398,"post_id":54136772,"comment_id":95120422,"body_markdown":"When is this message coming from Micronaut? During compilation or runtime? Maybe micronaut is not waiting for the other annotation processors","body":"When is this message coming from Micronaut? During compilation or runtime? Maybe micronaut is not waiting for the other annotation processors"},{"owner":{"account_id":15100198,"reputation":33,"user_id":10897439,"display_name":"age"},"score":0,"creation_date":1547220226,"post_id":54136772,"comment_id":95129791,"body_markdown":"During runtime, if I change the order of annotation processors in the pom, so that mapstruct is after micronaut, no mapstruct code is generated.","body":"During runtime, if I change the order of annotation processors in the pom, so that mapstruct is after micronaut, no mapstruct code is generated."},{"owner":{"account_id":1128956,"reputation":19765,"user_id":1115491,"display_name":"Filip"},"score":0,"creation_date":1547225189,"post_id":54136772,"comment_id":95132537,"body_markdown":"This is a known issue see https://github.com/micronaut-projects/micronaut-core/issues/991","body":"This is a known issue see <a href=\"https://github.com/micronaut-projects/micronaut-core/issues/991\" rel=\"nofollow noreferrer\">github.com/micronaut-projects/micronaut-core/issues/991</a>"},{"owner":{"account_id":15100198,"reputation":33,"user_id":10897439,"display_name":"age"},"score":0,"creation_date":1547230886,"post_id":54136772,"comment_id":95135131,"body_markdown":"Ah ok - was suspecting something like that, still - unfortunately - does not explain my other problem, but thanks for your time so far.","body":"Ah ok - was suspecting something like that, still - unfortunately - does not explain my other problem, but thanks for your time so far."},{"owner":{"account_id":1128956,"reputation":19765,"user_id":1115491,"display_name":"Filip"},"score":0,"creation_date":1547232157,"post_id":54136772,"comment_id":95135584,"body_markdown":"Yes it doesn&#39;t explain the problem. Unfortunately I don&#39;t know much about Micronaut to help with that","body":"Yes it doesn&#39;t explain the problem. Unfortunately I don&#39;t know much about Micronaut to help with that"},{"owner":{"account_id":95078,"reputation":7995,"user_id":259167,"display_name":"Graeme Rocher"},"score":0,"creation_date":1548318099,"post_id":54136772,"comment_id":95500183,"body_markdown":"The issue has been resolved in core and will be included in the next release, although the example will still not work as is as `Mapper` instances are not automatically Micronaut beans. You would have to define a `@Factory` with an `@Bean` that returns the mapper to make it a bean.","body":"The issue has been resolved in core and will be included in the next release, although the example will still not work as is as <code>Mapper</code> instances are not automatically Micronaut beans. You would have to define a <code>@Factory</code> with an <code>@Bean</code> that returns the mapper to make it a bean."}],"answers":[{"tags":[],"owner":{"account_id":11590315,"reputation":338,"user_id":8490932,"display_name":"SirWojtek"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1553243926,"creation_date":1552464891,"answer_id":55137128,"question_id":54136772,"body_markdown":"I found [Micronaut PR][1] which should resolve the problem with mapstruct using `jsr330` component model. They are planning to include the fix in `1.1.0`.\r\n\r\n\r\n[1]: https://github.com/micronaut-projects/micronaut-core/pull/1339\r\n\r\nUPDATE: The issue if fixed in `1.1.0.RC1`","title":"NoSuchBeanException for MapStruct generated classes in Micronaut","body":"<p>I found <a href=\"https://github.com/micronaut-projects/micronaut-core/pull/1339\" rel=\"nofollow noreferrer\">Micronaut PR</a> which should resolve the problem with mapstruct using <code>jsr330</code> component model. They are planning to include the fix in <code>1.1.0</code>.</p>\n\n<p>UPDATE: The issue if fixed in <code>1.1.0.RC1</code></p>\n"},{"tags":[],"owner":{"account_id":4686208,"reputation":860,"user_id":3793554,"display_name":"c.sankhala"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683451781,"creation_date":1683451781,"answer_id":76193094,"question_id":54136772,"body_markdown":"\r\n\r\nIf you are facing issue even after using @SirWojtek answer. Below changes worked for me: Add generated directory as source code.\r\n\r\n    sourceSets {\r\n        main.java.srcDirs += &quot;build/generated/sources/annotationProcessor/java/main&quot;\r\n    }","title":"NoSuchBeanException for MapStruct generated classes in Micronaut","body":"<p>If you are facing issue even after using @SirWojtek answer. Below changes worked for me: Add generated directory as source code.</p>\n<pre><code>sourceSets {\n    main.java.srcDirs += &quot;build/generated/sources/annotationProcessor/java/main&quot;\n}\n</code></pre>\n"}],"owner":{"account_id":15100198,"reputation":33,"user_id":10897439,"display_name":"age"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2333,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":55137128,"answer_count":2,"score":3,"last_activity_date":1683451781,"creation_date":1547153865,"question_id":54136772,"body_markdown":"When generating mapper-implementations with MapStruct, using &quot;jsr330&quot; componentModel, micronaut will throw a NoSuchBeanException during runtime when trying to inject those.\r\n\r\nA workaround would be to use a provider that will supply the mapper-objects, but the generated code should work.\r\n\r\nMapper definition:\r\n\r\n    @Mapper(componentModel = &quot;jsr330&quot;)\r\n    public interface FooBarMapper {\r\n        Foo toFoo(Bar bar);\r\n    }\r\n\r\nController:\r\n\r\n    @Controller\r\n    public class SomeController {\r\n        @Inject\r\n        public SomeController(FooBarMapper mapper) {\r\n        }\r\n\r\n        @Get\r\n        public String foo() {\r\n            return &quot;foo&quot;;\r\n        }\r\n    }\r\n\r\npom.xml excerpt:\r\n\r\n    &lt;annotationProcessorPaths&gt;\r\n        &lt;path&gt;\r\n            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\r\n            &lt;version&gt;${mapstruct.version}&lt;/version&gt;\r\n        &lt;/path&gt;\r\n        &lt;path&gt;\r\n            &lt;groupId&gt;io.micronaut&lt;/groupId&gt;\r\n            &lt;artifactId&gt;micronaut-inject-java&lt;/artifactId&gt;\r\n            &lt;version&gt;${micronaut.version}&lt;/version&gt;\r\n        &lt;/path&gt;\r\n        &lt;path&gt;\r\n            &lt;groupId&gt;io.micronaut.configuration&lt;/groupId&gt;\r\n            &lt;artifactId&gt;micronaut-openapi&lt;/artifactId&gt;\r\n            &lt;version&gt;${micronaut.version}&lt;/version&gt;\r\n        &lt;/path&gt;\r\n    &lt;/annotationProcessorPaths&gt;\r\n\r\nWhen calling the method on the controller, I would expect Micronaut to find the Mapstruct generated class (it is annotated with @Singleton), but instead, the result is\r\n\r\nMessage: No bean of type [com.example.FooBarMapper] exists. Ensure the class is declared a bean and if you are using Java or Kotlin make sure you have enabled annotation processing.\r\nPath Taken: new SomeController([FooBarMapper mapper])\r\nio.micronaut.context.exceptions.DependencyInjectionException: Failed to inject value for parameter [mapper] of class: com.example.SomeController\r\n\r\n","title":"NoSuchBeanException for MapStruct generated classes in Micronaut","body":"<p>When generating mapper-implementations with MapStruct, using \"jsr330\" componentModel, micronaut will throw a NoSuchBeanException during runtime when trying to inject those.</p>\n\n<p>A workaround would be to use a provider that will supply the mapper-objects, but the generated code should work.</p>\n\n<p>Mapper definition:</p>\n\n<pre><code>@Mapper(componentModel = \"jsr330\")\npublic interface FooBarMapper {\n    Foo toFoo(Bar bar);\n}\n</code></pre>\n\n<p>Controller:</p>\n\n<pre><code>@Controller\npublic class SomeController {\n    @Inject\n    public SomeController(FooBarMapper mapper) {\n    }\n\n    @Get\n    public String foo() {\n        return \"foo\";\n    }\n}\n</code></pre>\n\n<p>pom.xml excerpt:</p>\n\n<pre><code>&lt;annotationProcessorPaths&gt;\n    &lt;path&gt;\n        &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n        &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\n        &lt;version&gt;${mapstruct.version}&lt;/version&gt;\n    &lt;/path&gt;\n    &lt;path&gt;\n        &lt;groupId&gt;io.micronaut&lt;/groupId&gt;\n        &lt;artifactId&gt;micronaut-inject-java&lt;/artifactId&gt;\n        &lt;version&gt;${micronaut.version}&lt;/version&gt;\n    &lt;/path&gt;\n    &lt;path&gt;\n        &lt;groupId&gt;io.micronaut.configuration&lt;/groupId&gt;\n        &lt;artifactId&gt;micronaut-openapi&lt;/artifactId&gt;\n        &lt;version&gt;${micronaut.version}&lt;/version&gt;\n    &lt;/path&gt;\n&lt;/annotationProcessorPaths&gt;\n</code></pre>\n\n<p>When calling the method on the controller, I would expect Micronaut to find the Mapstruct generated class (it is annotated with @Singleton), but instead, the result is</p>\n\n<p>Message: No bean of type [com.example.FooBarMapper] exists. Ensure the class is declared a bean and if you are using Java or Kotlin make sure you have enabled annotation processing.\nPath Taken: new SomeController([FooBarMapper mapper])\nio.micronaut.context.exceptions.DependencyInjectionException: Failed to inject value for parameter [mapper] of class: com.example.SomeController</p>\n"},{"tags":["java","intellij-idea","annotation-processing","mapstruct"],"comments":[{"owner":{"account_id":3538058,"reputation":5428,"user_id":2960034,"display_name":"y.bedrov"},"score":1,"creation_date":1569849319,"post_id":58166624,"comment_id":102718651,"body_markdown":"Do you have &quot;Build and Run using Gradle&quot; set in &quot;Settings/Preferences | Build, Execution, Deployment | Build Tools | Gradle&quot;","body":"Do you have &quot;Build and Run using Gradle&quot; set in &quot;Settings/Preferences | Build, Execution, Deployment | Build Tools | Gradle&quot;"}],"answers":[{"tags":[],"owner":{"account_id":3538058,"reputation":5428,"user_id":2960034,"display_name":"y.bedrov"},"down_vote_count":1,"up_vote_count":4,"is_accepted":true,"score":3,"last_activity_date":1569851090,"creation_date":1569849305,"answer_id":58168691,"question_id":58166624,"body_markdown":"Please set &quot;Build and Run using Gradle&quot; in &quot;Settings/Preferences | Build, Execution, Deployment | Build Tools | Gradle&quot;  ","title":"Mapstruct generated classes are not found if the application is run from IntelliJ IDEA","body":"<p>Please set \"Build and Run using Gradle\" in \"Settings/Preferences | Build, Execution, Deployment | Build Tools | Gradle\"  </p>\n"},{"tags":[],"owner":{"account_id":4686208,"reputation":860,"user_id":3793554,"display_name":"c.sankhala"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683451707,"creation_date":1683451707,"answer_id":76193091,"question_id":58166624,"body_markdown":"If you are facing issue even after using @y.bedrov answer.\r\nBelow changes worked for me:\r\nAdd generated directory as source code.\r\n\r\n    sourceSets {\r\n        main.java.srcDirs += &quot;build/generated/sources/annotationProcessor/java/main&quot;\r\n    }\r\n\r\nAdd componentModel for Mapper class- (This tells Micronaut to create a bean for the mapper.)\r\n\r\n    @Mapper(componentModel = &quot;jsr330&quot;)\r\n\r\n","title":"Mapstruct generated classes are not found if the application is run from IntelliJ IDEA","body":"<p>If you are facing issue even after using @y.bedrov answer.\nBelow changes worked for me:\nAdd generated directory as source code.</p>\n<pre><code>sourceSets {\n    main.java.srcDirs += &quot;build/generated/sources/annotationProcessor/java/main&quot;\n}\n</code></pre>\n<p>Add componentModel for Mapper class- (This tells Micronaut to create a bean for the mapper.)</p>\n<pre><code>@Mapper(componentModel = &quot;jsr330&quot;)\n</code></pre>\n"}],"owner":{"account_id":2358514,"reputation":9644,"user_id":2065796,"accept_rate":62,"display_name":"Sasha Shpota"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1899,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":58168691,"answer_count":2,"score":3,"last_activity_date":1683451707,"creation_date":1569841502,"question_id":58166624,"body_markdown":"I have a Java 11 based application built with Gradle 4.8.1 which uses Mapstruct 1.3.0.Final. I use IntelliJ IDEA Ultimate 2019.2.3 for development. \r\n\r\n**Problem:** \r\n\r\nThe application does&#39;t work if I start it from IntelliJ IDEA, however it works when it is built with Gradle.\r\n\r\nI get the following error in run time when I start the app from IntelliJ:\r\n\r\n    ClassNotFoundException: Cannot find implementation for com.mycompany.MyMapper\r\n    \tat org.mapstruct.factory.Mappers.getMapper(Mappers.java:75)\r\n    \tat org.mapstruct.factory.Mappers.getMapper(Mappers.java:58)\r\n\r\n**My project setup:** \r\n\r\nI use one more annotation processing tool - Lombok which works fine. All together I have them in my dependencies like this:\r\n\r\n    compileOnly(&#39;org.projectlombok:lombok:1.18.10&#39;)\r\n    annotationProcessor(&#39;org.projectlombok:lombok:1.18.10&#39;)\r\n    compile(&#39;org.mapstruct:mapstruct:1.3.0.Final&#39;)\r\n    annotationProcessor(&#39;org.mapstruct:mapstruct-processor:1.3.0.Final&#39;)\r\n\r\n**How to reproduce:** It is enough to start a unit test from IntelliJ UI that requires a class generated with Mapstruct.\r\n\r\n**Question:** How to make IntelliJ IDEA correctly apply Mapstruct annotation processors?\r\n\r\n**What I have tried:** I went through similar issues on StackOveflow and [on GitHub][1]. Unfortunately, they didn&#39;t help. They are either using old versions of the lib, an old JVM or simply the solutions don&#39;t work.\r\n\r\n\r\n  [1]: https://github.com/mapstruct/mapstruct-examples/issues/45","title":"Mapstruct generated classes are not found if the application is run from IntelliJ IDEA","body":"<p>I have a Java 11 based application built with Gradle 4.8.1 which uses Mapstruct 1.3.0.Final. I use IntelliJ IDEA Ultimate 2019.2.3 for development. </p>\n\n<p><strong>Problem:</strong> </p>\n\n<p>The application does't work if I start it from IntelliJ IDEA, however it works when it is built with Gradle.</p>\n\n<p>I get the following error in run time when I start the app from IntelliJ:</p>\n\n<pre><code>ClassNotFoundException: Cannot find implementation for com.mycompany.MyMapper\n    at org.mapstruct.factory.Mappers.getMapper(Mappers.java:75)\n    at org.mapstruct.factory.Mappers.getMapper(Mappers.java:58)\n</code></pre>\n\n<p><strong>My project setup:</strong> </p>\n\n<p>I use one more annotation processing tool - Lombok which works fine. All together I have them in my dependencies like this:</p>\n\n<pre><code>compileOnly('org.projectlombok:lombok:1.18.10')\nannotationProcessor('org.projectlombok:lombok:1.18.10')\ncompile('org.mapstruct:mapstruct:1.3.0.Final')\nannotationProcessor('org.mapstruct:mapstruct-processor:1.3.0.Final')\n</code></pre>\n\n<p><strong>How to reproduce:</strong> It is enough to start a unit test from IntelliJ UI that requires a class generated with Mapstruct.</p>\n\n<p><strong>Question:</strong> How to make IntelliJ IDEA correctly apply Mapstruct annotation processors?</p>\n\n<p><strong>What I have tried:</strong> I went through similar issues on StackOveflow and <a href=\"https://github.com/mapstruct/mapstruct-examples/issues/45\" rel=\"nofollow noreferrer\">on GitHub</a>. Unfortunately, they didn't help. They are either using old versions of the lib, an old JVM or simply the solutions don't work.</p>\n"},{"tags":["java","date","datetime","deprecated","java.util.date"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":3,"creation_date":1683377017,"post_id":76188805,"comment_id":134359308,"body_markdown":"You should be using Local or Zoned Date classes, not `java.util.Date` / Calendar","body":"You should be using Local or Zoned Date classes, not <code>java.util.Date</code> / Calendar"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1683377858,"post_id":76188805,"comment_id":134359402,"body_markdown":"BTW `java.util.Date` was almost  completely replaced by `Calendar` as of Java 1.1 (one-point-one, not to be confused with Java 11); and these were all outdated by classes in the `java.time` package with Java 8 (year 2014)","body":"BTW <code>java.util.Date</code> was almost  completely replaced by <code>Calendar</code> as of Java 1.1 (one-point-one, not to be confused with Java 11); and these were all outdated by classes in the <code>java.time</code> package with Java 8 (year 2014)"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":4,"creation_date":1683386576,"post_id":76188805,"comment_id":134360486,"body_markdown":"As @OneCricketeer said, dont use `Date`. Use [java.time, the modern Java date and time API](https://docs.oracle.com/javase/tutorial/datetime/index.html). So you need not know the answer to your question. In any case they referred both to lacking support for locales (for example languages, date formats and definitions of week numbers), time zones and probably more.","body":"As @OneCricketeer said, dont use <code>Date</code>. Use <a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">java.time, the modern Java date and time API</a>. So you need not know the answer to your question. In any case they referred both to lacking support for locales (for example languages, date formats and definitions of week numbers), time zones and probably more."}],"answers":[{"tags":[],"owner":{"account_id":28104689,"reputation":512,"user_id":21473475,"display_name":"Arfur Narf"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683376776,"creation_date":1683376776,"answer_id":76188941,"question_id":76188805,"body_markdown":"If you look at the suggested replacements, you&#39;ll see there are two - Calendar and GregorianCalendar.\r\n\r\nThe programmer needs to make a choice, depending on the intention of the code. The old API would have been one or the other.  That is, it &quot;did not support internationalization&quot;.","title":"Why Date class does not support Internationalization?","body":"<p>If you look at the suggested replacements, you'll see there are two - Calendar and GregorianCalendar.</p>\n<p>The programmer needs to make a choice, depending on the intention of the code. The old API would have been one or the other.  That is, it &quot;did not support internationalization&quot;.</p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1683418233,"creation_date":1683402402,"answer_id":76190806,"question_id":76188805,"body_markdown":"# tl;dr\r\n\r\nUse only *java.time* classes. Never use `Date`/`Calendar` etc.\r\n\r\n\r\n```java\r\nZonedDateTime.now(\r\n                ZoneId.of( &quot;Asia/Tokyo&quot; )\r\n        )\r\n        .format(\r\n                DateTimeFormatter\r\n                        .ofLocalizedDateTime( FormatStyle.FULL )\r\n                        .withLocale( Locale.GERMANY )\r\n        )\r\n```\r\n\r\n&gt;Sonntag, 7. Mai 2023, 04:53:02 Japanische Normalzeit\r\n\r\n# Avoid legacy date-time classes\r\n\r\nYou asked:\r\n\r\n&gt; Is this the reason why the methods of the Date class were deprecated?\r\n\r\nThe legacy date-time classes are rife with poor design decisions, written by people who did not understand date-time handling. The lack of internationalization is but one of *many* problems. \r\n\r\nTrying to understand these legacy classes is a waste of time, unless you want lessons on how to *not* do proper object-oriented programming. These classes were years ago supplanted by the modern *java.time* classes defined in [JSR 310][1]. \r\n\r\nUse neither of the two `Date` classes, nor `Calendar`, `SimpleDateFormat`, `GregorianCalendar`, etc. &#128073; Use only the date-time classes from the *java.time* package. Focus your precious learning time on *java.time*. \r\n\r\n# *java.time*\r\n\r\nThe *java.time* classes provide [internationalization][2] through the &#128073; [`DateTimeFormatter`][3] class. \r\n\r\nIn modern Java, the localization information comes from the [*Common Locale Data Repository Project (CLDR)*][4] published by the [Unicode Consortium][5]. \r\n\r\nHere is some example code.\r\n\r\nCapture the current moment as seen in the [wall-clock time/calendar used by the people of Japan][6]. For this purpose, use [`ZonedDateTime`][7] class. Specify the time zone of interest by using the [`ZoneId`][8] class.\r\n\r\n```java\r\nZoneId zoneIdTokyo = ZoneId.of( &quot;Asia/Tokyo&quot; );\r\nZonedDateTime zdtTokyo = ZonedDateTime.now( zoneIdTokyo );\r\n```\r\n\r\nGenerate text representing that moment using [French Canadian][9] localization (human language &amp; cultural norms).\r\n\r\n```java\r\nLocale locale = Locale.CANADA_FRENCH;\r\nDateTimeFormatter formatter =\r\n        DateTimeFormatter\r\n                .ofLocalizedDateTime( FormatStyle.FULL )\r\n                .withLocale( locale );\r\nString output = zdtTokyo.format( formatter );\r\n```\r\n\r\nDump to console.\r\n\r\n```java\r\nSystem.out.println( &quot;zdtTokyo.toString() = &quot; + zdtTokyo );\r\nSystem.out.println( &quot;output = &quot; + output );\r\n```\r\n\r\nWhen run:\r\n\r\n```none\r\nzdtTokyo.toString() = 2023-05-07T04:47:54.551174+09:00[Asia/Tokyo]\r\noutput = dimanche 7 mai 2023, 04 h 47 min 54 s heure normale du Japon\r\n```\r\n\r\n\r\n    \r\n\r\n\r\n  [1]: https://jcp.org/en/jsr/detail?id=310\r\n  [2]: https://en.wikipedia.org/wiki/Internationalization_and_localization\r\n  [3]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/format/DateTimeFormatter.html\r\n  [4]: https://en.wikipedia.org/wiki/Common_Locale_Data_Repository\r\n  [5]: https://en.wikipedia.org/wiki/Unicode_Consortium\r\n  [6]: https://en.wikipedia.org/wiki/Japan_Standard_Time\r\n  [7]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/ZonedDateTime.html\r\n  [8]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/ZoneId.html\r\n  [9]: https://en.wikipedia.org/wiki/French_Canadians","title":"Why Date class does not support Internationalization?","body":"<h1>tl;dr</h1>\n<p>Use only <em>java.time</em> classes. Never use <code>Date</code>/<code>Calendar</code> etc.</p>\n<pre class=\"lang-java prettyprint-override\"><code>ZonedDateTime.now(\n                ZoneId.of( &quot;Asia/Tokyo&quot; )\n        )\n        .format(\n                DateTimeFormatter\n                        .ofLocalizedDateTime( FormatStyle.FULL )\n                        .withLocale( Locale.GERMANY )\n        )\n</code></pre>\n<blockquote>\n<p>Sonntag, 7. Mai 2023, 04:53:02 Japanische Normalzeit</p>\n</blockquote>\n<h1>Avoid legacy date-time classes</h1>\n<p>You asked:</p>\n<blockquote>\n<p>Is this the reason why the methods of the Date class were deprecated?</p>\n</blockquote>\n<p>The legacy date-time classes are rife with poor design decisions, written by people who did not understand date-time handling. The lack of internationalization is but one of <em>many</em> problems.</p>\n<p>Trying to understand these legacy classes is a waste of time, unless you want lessons on how to <em>not</em> do proper object-oriented programming. These classes were years ago supplanted by the modern <em>java.time</em> classes defined in <a href=\"https://jcp.org/en/jsr/detail?id=310\" rel=\"nofollow noreferrer\">JSR 310</a>.</p>\n<p>Use neither of the two <code>Date</code> classes, nor <code>Calendar</code>, <code>SimpleDateFormat</code>, <code>GregorianCalendar</code>, etc.  Use only the date-time classes from the <em>java.time</em> package. Focus your precious learning time on <em>java.time</em>.</p>\n<h1><em>java.time</em></h1>\n<p>The <em>java.time</em> classes provide <a href=\"https://en.wikipedia.org/wiki/Internationalization_and_localization\" rel=\"nofollow noreferrer\">internationalization</a> through the  <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/format/DateTimeFormatter.html\" rel=\"nofollow noreferrer\"><code>DateTimeFormatter</code></a> class.</p>\n<p>In modern Java, the localization information comes from the <a href=\"https://en.wikipedia.org/wiki/Common_Locale_Data_Repository\" rel=\"nofollow noreferrer\"><em>Common Locale Data Repository Project (CLDR)</em></a> published by the <a href=\"https://en.wikipedia.org/wiki/Unicode_Consortium\" rel=\"nofollow noreferrer\">Unicode Consortium</a>.</p>\n<p>Here is some example code.</p>\n<p>Capture the current moment as seen in the <a href=\"https://en.wikipedia.org/wiki/Japan_Standard_Time\" rel=\"nofollow noreferrer\">wall-clock time/calendar used by the people of Japan</a>. For this purpose, use <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/ZonedDateTime.html\" rel=\"nofollow noreferrer\"><code>ZonedDateTime</code></a> class. Specify the time zone of interest by using the <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/ZoneId.html\" rel=\"nofollow noreferrer\"><code>ZoneId</code></a> class.</p>\n<pre class=\"lang-java prettyprint-override\"><code>ZoneId zoneIdTokyo = ZoneId.of( &quot;Asia/Tokyo&quot; );\nZonedDateTime zdtTokyo = ZonedDateTime.now( zoneIdTokyo );\n</code></pre>\n<p>Generate text representing that moment using <a href=\"https://en.wikipedia.org/wiki/French_Canadians\" rel=\"nofollow noreferrer\">French Canadian</a> localization (human language &amp; cultural norms).</p>\n<pre class=\"lang-java prettyprint-override\"><code>Locale locale = Locale.CANADA_FRENCH;\nDateTimeFormatter formatter =\n        DateTimeFormatter\n                .ofLocalizedDateTime( FormatStyle.FULL )\n                .withLocale( locale );\nString output = zdtTokyo.format( formatter );\n</code></pre>\n<p>Dump to console.</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println( &quot;zdtTokyo.toString() = &quot; + zdtTokyo );\nSystem.out.println( &quot;output = &quot; + output );\n</code></pre>\n<p>When run:</p>\n<pre class=\"lang-none prettyprint-override\"><code>zdtTokyo.toString() = 2023-05-07T04:47:54.551174+09:00[Asia/Tokyo]\noutput = dimanche 7 mai 2023, 04 h 47 min 54 s heure normale du Japon\n</code></pre>\n"}],"owner":{"account_id":17599814,"reputation":33,"user_id":12770029,"display_name":"Leveling_up"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":119,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76190806,"answer_count":2,"score":2,"last_activity_date":1683451008,"creation_date":1683375054,"question_id":76188805,"body_markdown":"I was going through the different ways that we can get **Date and Time** in java, while reading the documentation could not understand what the below quote mean.\r\n\r\n&gt;Unfortunately, the API for these functions was not amenable to internationalization.\r\n\r\nThe above quote is from documentation of Date class of java.\r\nWhat does that mean ??\r\nIs this the reason why the methods of the Date class were deprecated?","title":"Why Date class does not support Internationalization?","body":"<p>I was going through the different ways that we can get <strong>Date and Time</strong> in java, while reading the documentation could not understand what the below quote mean.</p>\n<blockquote>\n<p>Unfortunately, the API for these functions was not amenable to internationalization.</p>\n</blockquote>\n<p>The above quote is from documentation of Date class of java.\nWhat does that mean ??\nIs this the reason why the methods of the Date class were deprecated?</p>\n"},{"tags":["java","mysql"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1683458860,"post_id":76192711,"comment_id":134367071,"body_markdown":"[Please never post images of text](https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors/285557#285557). They are not searchable, we cannot copy-paste... Always copy-paste the text and format it properly. Other matters: you should be using `PreparedStatement` and closing database objects in try-with-resources","body":"<a href=\"https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors/285557#285557\">Please never post images of text</a>. They are not searchable, we cannot copy-paste... Always copy-paste the text and format it properly. Other matters: you should be using <code>PreparedStatement</code> and closing database objects in try-with-resources"}],"answers":[{"tags":[],"owner":{"account_id":25828455,"reputation":16,"user_id":19566106,"display_name":"emreozll"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683450762,"creation_date":1683450762,"answer_id":76193030,"question_id":76192711,"body_markdown":"I have read your question. As far as I understand, &quot;Student Id already exists&quot; error occurs when new data is added. If I understood correctly, the error is that you entered the student Id data. Since the MySQL database is a relational database, a data is added to the database with a unique ID number. I think automatic setting of this Student ID data in database table settings will give the most accurate result. In this way, the ID number of the data will not conflict.\r\n\r\n*Here you are trying to enroll a different student with the same value and this is wrong*\r\n\r\n[Your code photo ][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/WQ8Qj.png\r\n\r\nYou are getting this error because you saved different data with the same ID in this photo. If you deleted the previous ID #1, the deleted data in relational databases actually remains inside. This is a legacy data protection method. The data continues from the next ID number. In other words, you must increase the ID values or the database should automatically increase it.","title":"Error in coding in Java with Mysql &quot;Library Management System&quot;","body":"<p>I have read your question. As far as I understand, &quot;Student Id already exists&quot; error occurs when new data is added. If I understood correctly, the error is that you entered the student Id data. Since the MySQL database is a relational database, a data is added to the database with a unique ID number. I think automatic setting of this Student ID data in database table settings will give the most accurate result. In this way, the ID number of the data will not conflict.</p>\n<p><em>Here you are trying to enroll a different student with the same value and this is wrong</em></p>\n<p><a href=\"https://i.stack.imgur.com/WQ8Qj.png\" rel=\"nofollow noreferrer\">Your code photo </a></p>\n<p>You are getting this error because you saved different data with the same ID in this photo. If you deleted the previous ID #1, the deleted data in relational databases actually remains inside. This is a legacy data protection method. The data continues from the next ID number. In other words, you must increase the ID values or the database should automatically increase it.</p>\n"}],"owner":{"account_id":28534203,"reputation":1,"user_id":21841149,"display_name":"Jaybs"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1683450762,"creation_date":1683445192,"question_id":76192711,"body_markdown":"I&#39;ve been working on this system and this error stops me to continue to code, there is no error in my code the output is the error. When i run the newStudent.java and type the data it show&#39;s that it&#39;s already existing, &quot;Student ID Already Exist&quot; you can see it in 46:20 in the Youtube video below. I hope someone help me, this will be a big help so ia can continue this system\r\n[this is my output in my code](https://i.stack.imgur.com/KmFmx.png) \r\n[This is my source code in the button]`(https://i.stack.imgur.com/WQ8Qj.png)`\r\nhttps://www.youtube.com/watch?v=sLs-2N5mAow\r\nI try to check if my connection is the problem but with the help of some AI Technologies, I see that the connection is active and try multiple times to recheck if i missed some of the code but I see its complete. I expect to resolve this issue so i can study more of it.","title":"Error in coding in Java with Mysql &quot;Library Management System&quot;","body":"<p>I've been working on this system and this error stops me to continue to code, there is no error in my code the output is the error. When i run the newStudent.java and type the data it show's that it's already existing, &quot;Student ID Already Exist&quot; you can see it in 46:20 in the Youtube video below. I hope someone help me, this will be a big help so ia can continue this system\n<a href=\"https://i.stack.imgur.com/KmFmx.png\" rel=\"nofollow noreferrer\">this is my output in my code</a>\n[This is my source code in the button]<code>(https://i.stack.imgur.com/WQ8Qj.png)</code>\n<a href=\"https://www.youtube.com/watch?v=sLs-2N5mAow\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=sLs-2N5mAow</a>\nI try to check if my connection is the problem but with the help of some AI Technologies, I see that the connection is active and try multiple times to recheck if i missed some of the code but I see its complete. I expect to resolve this issue so i can study more of it.</p>\n"},{"tags":["java","memory","deployment","server","out-of-memory"],"comments":[{"owner":{"account_id":4470148,"reputation":2879,"user_id":3636680,"accept_rate":100,"display_name":"Dawnkeeper"},"score":0,"creation_date":1454415624,"post_id":35153293,"comment_id":58024763,"body_markdown":"Could you post the full error message? Its quite hard to guess what you mean from the little info you provide.","body":"Could you post the full error message? Its quite hard to guess what you mean from the little info you provide."},{"owner":{"account_id":6887735,"reputation":21370,"user_id":5292302,"accept_rate":100,"display_name":"Petter Friberg"},"score":1,"creation_date":1454415835,"post_id":35153293,"comment_id":58024930,"body_markdown":"check this and you will see what it extends https://docs.oracle.com/javase/7/docs/api/java/lang/OutOfMemoryError.html","body":"check this and you will see what it extends <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/OutOfMemoryError.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/lang/&hellip;</a>"},{"owner":{"account_id":6887735,"reputation":21370,"user_id":5292302,"accept_rate":100,"display_name":"Petter Friberg"},"score":0,"creation_date":1454415872,"post_id":35153293,"comment_id":58024957,"body_markdown":"Basically catching Exception you will miss!","body":"Basically catching Exception you will miss!"},{"owner":{"account_id":4470148,"reputation":2879,"user_id":3636680,"accept_rate":100,"display_name":"Dawnkeeper"},"score":0,"creation_date":1454416061,"post_id":35153293,"comment_id":58025119,"body_markdown":"@PetterFriberg Now I get what he wants.","body":"@PetterFriberg Now I get what he wants."},{"owner":{"account_id":923153,"reputation":5107,"user_id":954442,"accept_rate":83,"display_name":"Andrew Regan"},"score":0,"creation_date":1454416093,"post_id":35153293,"comment_id":58025141,"body_markdown":"Please be a lot more specific than you have so far, OP. Everyone seems to be trying to guess what you mean.","body":"Please be a lot more specific than you have so far, OP. Everyone seems to be trying to guess what you mean."},{"owner":{"account_id":6887735,"reputation":21370,"user_id":5292302,"accept_rate":100,"display_name":"Petter Friberg"},"score":0,"creation_date":1454416579,"post_id":35153293,"comment_id":58025551,"body_markdown":"@AndrewRegan, was trying to find a duplicate before answering.","body":"@AndrewRegan, was trying to find a duplicate before answering."},{"owner":{"account_id":923153,"reputation":5107,"user_id":954442,"accept_rate":83,"display_name":"Andrew Regan"},"score":0,"creation_date":1454416672,"post_id":35153293,"comment_id":58025618,"body_markdown":"You&#39;re probably right, Petter, but question definitely needs an edit.","body":"You&#39;re probably right, Petter, but question definitely needs an edit."},{"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1454417593,"post_id":35153293,"comment_id":58026299,"body_markdown":"IndexOfOutBoundException is a RuntimeException and OutOfMemoryError is an Error.  You need to know what the actual name of the error is.","body":"IndexOfOutBoundException is a RuntimeException and OutOfMemoryError is an Error.  You need to know what the actual name of the error is."},{"owner":{"account_id":2502766,"reputation":327,"user_id":5070865,"accept_rate":57,"display_name":"manohar e"},"score":0,"creation_date":1454484286,"post_id":35153293,"comment_id":58059272,"body_markdown":"Thanks All. Here it is the error:  Invocation of init method failed; nested exception is java.lang.OutOfMemoryError: allocLargeObjectOrArray - Object size: 8216, Num elements: 2049","body":"Thanks All. Here it is the error:  Invocation of init method failed; nested exception is java.lang.OutOfMemoryError: allocLargeObjectOrArray - Object size: 8216, Num elements: 2049"}],"answers":[{"tags":[],"owner":{"account_id":6887735,"reputation":21370,"user_id":5292302,"accept_rate":100,"display_name":"Petter Friberg"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1454419766,"creation_date":1454416120,"answer_id":35153571,"question_id":35153293,"body_markdown":"[java.lang.OutOfMemoryError][1] extends `java.lang.Error` and **not**  `java.lang.Exception`\r\n\r\ncatching `Exception` you will miss it\r\n\r\n    try{\r\n    ....\r\n    }catch(Exception ex){\r\n     //will not catch OutOfMemoryError, since it does not extend Exception\r\n    }\r\n\r\ncatching `Throwable`, you will hit&#39;em both..\r\n\r\n    try{\r\n    ....\r\n    }catch(Throwable ex){\r\n     //will catch both Exception and OutOfMemoryError, they both extend this\r\n    }\r\n\r\nWhether it is good or not to catch `Throwable` is another question see this https://stackoverflow.com/questions/6083248/is-it-a-bad-practice-to-catch-throwable (Thanks to @Dawnkeeper for link)\r\n\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/lang/OutOfMemoryError.html\r\n","title":"Is memory out of bound exception or error?","body":"<p><a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/OutOfMemoryError.html\" rel=\"nofollow noreferrer\">java.lang.OutOfMemoryError</a> extends <code>java.lang.Error</code> and <strong>not</strong>  <code>java.lang.Exception</code></p>\n\n<p>catching <code>Exception</code> you will miss it</p>\n\n<pre><code>try{\n....\n}catch(Exception ex){\n //will not catch OutOfMemoryError, since it does not extend Exception\n}\n</code></pre>\n\n<p>catching <code>Throwable</code>, you will hit'em both..</p>\n\n<pre><code>try{\n....\n}catch(Throwable ex){\n //will catch both Exception and OutOfMemoryError, they both extend this\n}\n</code></pre>\n\n<p>Whether it is good or not to catch <code>Throwable</code> is another question see this <a href=\"https://stackoverflow.com/questions/6083248/is-it-a-bad-practice-to-catch-throwable\">Is it a bad practice to catch Throwable?</a> (Thanks to @Dawnkeeper for link)</p>\n"}],"owner":{"account_id":2502766,"reputation":327,"user_id":5070865,"accept_rate":57,"display_name":"manohar e"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4567,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":35153571,"answer_count":1,"score":0,"last_activity_date":1683449114,"creation_date":1454415423,"question_id":35153293,"body_markdown":"Is memory out of bound exception or error? We usually get this during project deployment on the server. It might be a basic question. I googled it but I could not find relevant answer so posting here.\r\n\r\n*Error I got:*\r\n\r\n&gt; Invocation of init method failed; nested exception is `java.lang.OutOfMemoryError: allocLargeObjectOrArray` - Object size: 8216, Num elements: 2049\r\n\r\nAnd how can we handle this?","title":"Is memory out of bound exception or error?","body":"<p>Is memory out of bound exception or error? We usually get this during project deployment on the server. It might be a basic question. I googled it but I could not find relevant answer so posting here.</p>\n\n<p><em>Error I got:</em></p>\n\n<blockquote>\n  <p>Invocation of init method failed; nested exception is <code>java.lang.OutOfMemoryError: allocLargeObjectOrArray</code> - Object size: 8216, Num elements: 2049</p>\n</blockquote>\n\n<p>And how can we handle this?</p>\n"},{"tags":["java","spring-boot","maven"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1683442393,"post_id":76192552,"comment_id":134365373,"body_markdown":"Please read: [Can I ask only one question per post?](https://meta.stackexchange.com/questions/222735/can-i-ask-only-one-question-per-post) --- &quot;*... say I compile under the `local` profile, can I still run the jar under the `server` profile properly later?*&quot; - Yes. Only case that I know of where profiles matter at compile-time (from quarkus) is native compilation.","body":"Please read: <a href=\"https://meta.stackexchange.com/questions/222735/can-i-ask-only-one-question-per-post\">Can I ask only one question per post?</a> --- &quot;<i>... say I compile under the <code>local</code> profile, can I still run the jar under the <code>server</code> profile properly later?</i>&quot; - Yes. Only case that I know of where profiles matter at compile-time (from quarkus) is native compilation."},{"owner":{"account_id":16221044,"reputation":331,"user_id":11712575,"display_name":"Jason Chan"},"score":0,"creation_date":1683442480,"post_id":76192552,"comment_id":134365383,"body_markdown":"@Turing85 Thanks for the feedback! I will keep this in my in future posts! Still looking for an answer for my 1st question though! Love your response to my 2nd part! :)","body":"@Turing85 Thanks for the feedback! I will keep this in my in future posts! Still looking for an answer for my 1st question though! Love your response to my 2nd part! :)"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":2,"creation_date":1683443094,"post_id":76192552,"comment_id":134365439,"body_markdown":"You are confusing spring profiles, which have effects when you run your spring application, and maven profiles, which have an effect when you run maven. They are unrelated.","body":"You are confusing spring profiles, which have effects when you run your spring application, and maven profiles, which have an effect when you run maven. They are unrelated."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1683443189,"post_id":76192552,"comment_id":134365444,"body_markdown":"You haven&#39;t shown enough of your maven output for us to answer your question.","body":"You haven&#39;t shown enough of your maven output for us to answer your question."},{"owner":{"account_id":16221044,"reputation":331,"user_id":11712575,"display_name":"Jason Chan"},"score":0,"creation_date":1683443234,"post_id":76192552,"comment_id":134365451,"body_markdown":"@tgdavies understood. but in this particular case, how do I compile with maven? maven will not let me compile, because it cannot find the correct spring profile to satisfy value annotation","body":"@tgdavies understood. but in this particular case, how do I compile with maven? maven will not let me compile, because it cannot find the correct spring profile to satisfy value annotation"},{"owner":{"account_id":16221044,"reputation":331,"user_id":11712575,"display_name":"Jason Chan"},"score":0,"creation_date":1683443493,"post_id":76192552,"comment_id":134365486,"body_markdown":"Also, the error is : [ERROR] Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:2.22.2:test (default-test) on project backendDB: There are test failures","body":"Also, the error is : [ERROR] Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:2.22.2:test (default-test) on project backendDB: There are test failures"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1683445883,"post_id":76192552,"comment_id":134365693,"body_markdown":"You have tests which want to run your application. You&#39;ll need to run them with a Spring profile which works (your default profile doesn&#39;t)","body":"You have tests which want to run your application. You&#39;ll need to run them with a Spring profile which works (your default profile doesn&#39;t)"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1683449984,"post_id":76192552,"comment_id":134366120,"body_markdown":"There are annotation for spring boot tests @Profile(&quot;production&quot;) etc. (Take a look into spring boot doc https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#features.profiles) ...","body":"There are annotation for spring boot tests @Profile(&quot;production&quot;) etc. (Take a look into spring boot doc <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#features.profiles\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/current/reference/htmlsingle&zwnj;&#8203;/&hellip;</a>) ..."}],"answers":[{"tags":[],"owner":{"account_id":4668137,"reputation":6228,"user_id":9681755,"display_name":"Dirk Deyne"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683446712,"creation_date":1683446712,"answer_id":76192813,"question_id":76192552,"body_markdown":"Multiple options to solve this:\r\n\r\n- Provide a default value for your variable\r\n```java\r\n@Value(&quot;${test.variable:my-default-value}&quot;)\r\nString variable;\r\n```\r\n\r\n- Set profile via maven for tests\r\n```xml\r\n&lt;build&gt;\r\n  &lt;plugins&gt;\r\n     ...\r\n\t&lt;plugin&gt;\r\n     &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n\t\t&lt;configuration&gt;\r\n\t   \t  &lt;argLine&gt;-Dspring.profiles.active=local&lt;/argLine&gt;\r\n\t\t&lt;/configuration&gt;\r\n\t&lt;/plugin&gt;\r\n\r\n```\r\n\r\n- Provide test variable via src/**test**/resources/application.properties\r\n\r\n```properties\r\n# application.properties in test/resources folder\r\ntest.variable = test\r\n```\r\n...\r\n","title":"Package Maven With Profile","body":"<p>Multiple options to solve this:</p>\n<ul>\n<li>Provide a default value for your variable</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>@Value(&quot;${test.variable:my-default-value}&quot;)\nString variable;\n</code></pre>\n<ul>\n<li>Set profile via maven for tests</li>\n</ul>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;build&gt;\n  &lt;plugins&gt;\n     ...\n    &lt;plugin&gt;\n     &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n     &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n        &lt;configuration&gt;\n          &lt;argLine&gt;-Dspring.profiles.active=local&lt;/argLine&gt;\n        &lt;/configuration&gt;\n    &lt;/plugin&gt;\n\n</code></pre>\n<ul>\n<li>Provide test variable via src/<strong>test</strong>/resources/application.properties</li>\n</ul>\n<pre><code># application.properties in test/resources folder\ntest.variable = test\n</code></pre>\n<p>...</p>\n"},{"tags":[],"owner":{"account_id":9518780,"reputation":26,"user_id":7123428,"display_name":"Roman A Musiy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683447239,"creation_date":1683447239,"answer_id":76192833,"question_id":76192552,"body_markdown":"Spring profile is just a parameter for your application that is used by spring framework to set up different beans/properties and hence define different application behaviour. Also spring profile is runtime parameter and used only during the running the application. There is no relation between maven profile and spring profile.\r\n\r\nSo when you wrote \r\n\r\n&gt; when I run mvn package, it freaks out, since it does not pick a profile to package, and when compiling and trying to compile the @value line it cannot find test.variable, since it does not exist on applicaton.properties. How do I mvn package to compile this to a jar?\r\n\r\nit does not make much sence - because \r\n1. `maven` does not know aboout spring profiles.\r\n2. `maven` does not use (and should not use) `spring profile` for compiling/packaging your application since `spring profile` is it runtime parameter.\r\n\r\n&gt; How do I mvn package to compile this to a jar?\r\n\r\nTo package your spring boot application to jar one can use spring-boot-maven-plugin. The easiest way to start is to use https://start.spring.io/, which prepate initial maven project sceleton for you.\r\n","title":"Package Maven With Profile","body":"<p>Spring profile is just a parameter for your application that is used by spring framework to set up different beans/properties and hence define different application behaviour. Also spring profile is runtime parameter and used only during the running the application. There is no relation between maven profile and spring profile.</p>\n<p>So when you wrote</p>\n<blockquote>\n<p>when I run mvn package, it freaks out, since it does not pick a profile to package, and when compiling and trying to compile the @value line it cannot find test.variable, since it does not exist on applicaton.properties. How do I mvn package to compile this to a jar?</p>\n</blockquote>\n<p>it does not make much sence - because</p>\n<ol>\n<li><code>maven</code> does not know aboout spring profiles.</li>\n<li><code>maven</code> does not use (and should not use) <code>spring profile</code> for compiling/packaging your application since <code>spring profile</code> is it runtime parameter.</li>\n</ol>\n<blockquote>\n<p>How do I mvn package to compile this to a jar?</p>\n</blockquote>\n<p>To package your spring boot application to jar one can use spring-boot-maven-plugin. The easiest way to start is to use <a href=\"https://start.spring.io/\" rel=\"nofollow noreferrer\">https://start.spring.io/</a>, which prepate initial maven project sceleton for you.</p>\n"}],"owner":{"account_id":16221044,"reputation":331,"user_id":11712575,"display_name":"Jason Chan"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"closed_date":1683492399,"answer_count":2,"score":1,"last_activity_date":1683447239,"creation_date":1683442100,"question_id":76192552,"body_markdown":"I am running spring boot, and I have a spring boot with 3 profiles. They are as follows.\r\n\r\n    applicaton.properties\r\n    {Empty file}\r\n\r\n    application-local.properties\r\n    test.variable = &#39;1&#39;\r\n\r\n    application-server.properties\r\n    test.variable = &#39;2&#39;\r\n\r\nNow, when I run my springboot, I have one or the other profiles always running, depending on if its my server or local env. I have an `@value` to parse these values. However, when I run `mvn package`, it freaks out, since it does not pick a profile to package, and when compiling and trying to compile the `@value` line it cannot find `test.variable`, since it does not exist on `applicaton.properties`. How do I `mvn package` to compile this to a jar?\r\n\r\nAlso, I understand that when running this application, all I need to do is add `-Dspring.profiles.active={profile}`, but say I compile under the `local` profile, can I still run the jar under the `server` profile properly later?\r\n\r\nThanks!\r\n\r\n\r\nA bit more of an update... I am attempting to run this command: `mvn package -P local`\r\n\r\nMaven throws this exception:\r\n\r\n        {bunch of other stacktrace stuff}\r\n    Injection of autowired dependencies failed; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder &#39;test.variable&#39; in value &quot;${test.variable}&quot;\r\n\r\nPlease note that when I run this application in intellij, and in my run configurations, when I select to run &#39;local&#39; as my profile, it works perfectly, so its just a matter of getting maven to use the local profile properly.","title":"Package Maven With Profile","body":"<p>I am running spring boot, and I have a spring boot with 3 profiles. They are as follows.</p>\n<pre><code>applicaton.properties\n{Empty file}\n\napplication-local.properties\ntest.variable = '1'\n\napplication-server.properties\ntest.variable = '2'\n</code></pre>\n<p>Now, when I run my springboot, I have one or the other profiles always running, depending on if its my server or local env. I have an <code>@value</code> to parse these values. However, when I run <code>mvn package</code>, it freaks out, since it does not pick a profile to package, and when compiling and trying to compile the <code>@value</code> line it cannot find <code>test.variable</code>, since it does not exist on <code>applicaton.properties</code>. How do I <code>mvn package</code> to compile this to a jar?</p>\n<p>Also, I understand that when running this application, all I need to do is add <code>-Dspring.profiles.active={profile}</code>, but say I compile under the <code>local</code> profile, can I still run the jar under the <code>server</code> profile properly later?</p>\n<p>Thanks!</p>\n<p>A bit more of an update... I am attempting to run this command: <code>mvn package -P local</code></p>\n<p>Maven throws this exception:</p>\n<pre><code>    {bunch of other stacktrace stuff}\nInjection of autowired dependencies failed; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder 'test.variable' in value &quot;${test.variable}&quot;\n</code></pre>\n<p>Please note that when I run this application in intellij, and in my run configurations, when I select to run 'local' as my profile, it works perfectly, so its just a matter of getting maven to use the local profile properly.</p>\n"},{"tags":["java","mysql","spring","hibernate","jpa"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1683442206,"post_id":76192532,"comment_id":134365362,"body_markdown":"Looks like you did not call `emp.setAddress(address)`.","body":"Looks like you did not call <code>emp.setAddress(address)</code>."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1683442839,"post_id":76192532,"comment_id":134365414,"body_markdown":"Uhm.... I just did...","body":"Uhm.... I just did..."},{"owner":{"account_id":28533558,"reputation":3,"user_id":21840573,"display_name":"Juber Ahemad"},"score":0,"creation_date":1683444334,"post_id":76192532,"comment_id":134365560,"body_markdown":"Thank you .very muchh....Its working. I have done silly mistake","body":"Thank you .very muchh....Its working. I have done silly mistake"}],"answers":[{"tags":[],"owner":{"account_id":25828455,"reputation":16,"user_id":19566106,"display_name":"emreozll"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1683446140,"creation_date":1683446140,"answer_id":76192777,"question_id":76192532,"body_markdown":"he is telling the truth. You have set the address object in the customer class with a One-to-One relationship dependency, but you have not set its information. You should add this after the line `employee.setAddress()`, `employee.setInfo()`.","title":"I am trying to mapping three entity with another entity by using onetoone annotation","body":"<p>he is telling the truth. You have set the address object in the customer class with a One-to-One relationship dependency, but you have not set its information. You should add this after the line <code>employee.setAddress()</code>, <code>employee.setInfo()</code>.</p>\n"}],"owner":{"account_id":28533558,"reputation":3,"user_id":21840573,"display_name":"Juber Ahemad"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76192777,"answer_count":1,"score":0,"last_activity_date":1683446140,"creation_date":1683441662,"question_id":76192532,"body_markdown":"\r\n\r\n\r\nI have three entity employee , info, and address , i want mapped employee entity with info and address entity by using onetoone mapping by using hibernate and jpa annotation. \r\n\r\n\r\n```\r\n@Entity\r\npublic class Employee {\r\n\t\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\tprivate  int empId;\r\n\tprivate String name;\r\n\tprivate String email;\r\n\t\r\n\t@OneToOne(mappedBy = &quot;emp&quot;, cascade = CascadeType.ALL)\r\n\tprivate Info info;\r\n\t\r\n\t@OneToOne(mappedBy = &quot;emp&quot;, cascade = CascadeType.ALL)\r\n\tprivate Address address;\r\n//getter and setter\r\n\r\n\r\n@Entity\r\npublic class Info {\r\n\t\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\tprivate  int infoId;\r\n\tprivate String gender;\r\n\tprivate String phone;\r\n\t\r\n\t@OneToOne\r\n\t@JoinColumn(name = &quot;emp_id&quot;)\r\n\tprivate Employee emp;\r\n\r\n//getter and setter\r\n\r\n@Entity\r\npublic class Address {\r\n\t\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\tprivate  int addrId;\r\n\tprivate String street;\r\n\tprivate String city;\r\n\tprivate String country;\r\n\t\r\n\t@OneToOne\r\n\t@JoinColumn(name = &quot;emp_id&quot;)\r\n\tprivate Employee emp;\r\n//getter and setter\r\n\r\npublic class OneToOneApp {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\tConfiguration configuration = new Configuration();\r\n\t\tconfiguration.configure(&quot;o2omapping.cfg.xml&quot;);\r\n\t\tSessionFactory sessionFactory=configuration.buildSessionFactory();\r\n\t\tSession session = sessionFactory.openSession();\r\n\t\tTransaction transaction = session.beginTransaction();\r\n\t\t \r\n\t\tEmployee employee =new Employee();\r\n\t\temployee.setName(&quot;Iqra&quot;);\r\n\t\temployee.setEmail(&quot;iqra@gmail.com&quot;);\r\n\t\t\t\r\n\t\tAddress address = new Address();\r\n\t\taddress.setStreet(&quot;Manda Road&quot;);\r\n\t\taddress.setCity(&quot;Allahabad&quot;);\r\n\t\taddress.setCountry(&quot;India&quot;);\r\n\t\t\r\n\t\tInfo info = new Info();\r\n\t\tinfo.setGender(&quot;FeMale&quot;);\r\n\t\tinfo.setPhone(&quot;12334567&quot;);\r\n\t\t\r\n\t\temployee.setInfo(info);\r\n\t\tinfo.setEmp(employee);\r\n\t\taddress.setEmp(employee);\r\n\t\t\r\n\t\tsession.save(employee);\r\n\t\ttransaction.commit();\r\n\t\tsession.close();\r\n\t}\r\n}\r\n```\r\n\r\n\r\n alter table Info \r\n       add constraint FKdjqy16j48ffa2x19eqgx3o8f0 \r\n       foreign key (emp_id) \r\n       references Employee (empId)\r\nHibernate: \r\n    insert \r\n    into\r\n        Employee\r\n        (email, name) \r\n    values\r\n        (?, ?)\r\nHibernate: \r\n    insert \r\n    into\r\n        Info\r\n        (emp_id, gender, phone) \r\n    values\r\n        (?, ?, ?)\r\n\r\ndata not Inserted into  address table \r\nwhy?? ","title":"I am trying to mapping three entity with another entity by using onetoone annotation","body":"<p>I have three entity employee , info, and address , i want mapped employee entity with info and address entity by using onetoone mapping by using hibernate and jpa annotation.</p>\n<pre><code>@Entity\npublic class Employee {\n    \n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private  int empId;\n    private String name;\n    private String email;\n    \n    @OneToOne(mappedBy = &quot;emp&quot;, cascade = CascadeType.ALL)\n    private Info info;\n    \n    @OneToOne(mappedBy = &quot;emp&quot;, cascade = CascadeType.ALL)\n    private Address address;\n//getter and setter\n\n\n@Entity\npublic class Info {\n    \n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private  int infoId;\n    private String gender;\n    private String phone;\n    \n    @OneToOne\n    @JoinColumn(name = &quot;emp_id&quot;)\n    private Employee emp;\n\n//getter and setter\n\n@Entity\npublic class Address {\n    \n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private  int addrId;\n    private String street;\n    private String city;\n    private String country;\n    \n    @OneToOne\n    @JoinColumn(name = &quot;emp_id&quot;)\n    private Employee emp;\n//getter and setter\n\npublic class OneToOneApp {\n\n    public static void main(String[] args) {\n        \n        Configuration configuration = new Configuration();\n        configuration.configure(&quot;o2omapping.cfg.xml&quot;);\n        SessionFactory sessionFactory=configuration.buildSessionFactory();\n        Session session = sessionFactory.openSession();\n        Transaction transaction = session.beginTransaction();\n         \n        Employee employee =new Employee();\n        employee.setName(&quot;Iqra&quot;);\n        employee.setEmail(&quot;iqra@gmail.com&quot;);\n            \n        Address address = new Address();\n        address.setStreet(&quot;Manda Road&quot;);\n        address.setCity(&quot;Allahabad&quot;);\n        address.setCountry(&quot;India&quot;);\n        \n        Info info = new Info();\n        info.setGender(&quot;FeMale&quot;);\n        info.setPhone(&quot;12334567&quot;);\n        \n        employee.setInfo(info);\n        info.setEmp(employee);\n        address.setEmp(employee);\n        \n        session.save(employee);\n        transaction.commit();\n        session.close();\n    }\n}\n</code></pre>\n<p>alter table Info\nadd constraint FKdjqy16j48ffa2x19eqgx3o8f0\nforeign key (emp_id)\nreferences Employee (empId)\nHibernate:\ninsert\ninto\nEmployee\n(email, name)\nvalues\n(?, ?)\nHibernate:\ninsert\ninto\nInfo\n(emp_id, gender, phone)\nvalues\n(?, ?, ?)</p>\n<p>data not Inserted into  address table\nwhy??</p>\n"},{"tags":["java","android","okhttp","openai-api","openai-whisper"],"answers":[{"tags":[],"owner":{"account_id":19198116,"reputation":62,"user_id":15169843,"display_name":"Prince Andrew Anire"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1683446071,"creation_date":1683446071,"answer_id":76192771,"question_id":76192623,"body_markdown":"Welcome to Stack Overflow!\r\n\r\nTry getting the absolute path of the audio file and send the audio file&#39;s content when sending POST request to the Whisper API\r\n \r\nAccording to the example requests for python and node [API Reference for Creating transcriptions](https://platform.openai.com/docs/api-reference/audio/create) you need to get the absolute path of your audio file, read the audio file&#39;s content, and assign it to a variable and use the variable as the `file` parameter of your POST request to the OpenAI Whisper API\r\n\r\n","title":"OpenAI Whisper API, response status code 400 error","body":"<p>Welcome to Stack Overflow!</p>\n<p>Try getting the absolute path of the audio file and send the audio file's content when sending POST request to the Whisper API</p>\n<p>According to the example requests for python and node <a href=\"https://platform.openai.com/docs/api-reference/audio/create\" rel=\"nofollow noreferrer\">API Reference for Creating transcriptions</a> you need to get the absolute path of your audio file, read the audio file's content, and assign it to a variable and use the variable as the <code>file</code> parameter of your POST request to the OpenAI Whisper API</p>\n"}],"owner":{"account_id":17410562,"reputation":13,"user_id":12617815,"display_name":""},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1002,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76192771,"answer_count":1,"score":1,"last_activity_date":1683446071,"creation_date":1683443548,"question_id":76192623,"body_markdown":"I am trying to use the Whisper API in Android, but I am encountering an issue where the request code is consistently returning a 400 error.\r\nFirst of all, since it works correctly when using Postman, I believe that the issue is not related to the secret key or content header values.\r\nSo, based on my current assumption, I believe there might be an error in using okhttp3.\r\n\r\nBelow is my Android code.\r\n\r\n```\r\npublic void requestWhisper(String file, Callback callback) {\r\n\r\n        OkHttpClient client = new OkHttpClient();\r\n        MediaType mediaType = MediaType.parse(&quot;audio/mpeg&quot;); \r\n        File audioFile = new File(file);\r\n\r\n        RequestBody requestBody = new MultipartBody.Builder()\r\n                .setType(MultipartBody.FORM)\r\n                .addFormDataPart(&quot;model&quot;, &quot;whisper-1&quot;)\r\n                .addFormDataPart(&quot;file&quot;, audioFile.getName(), \r\n                                  RequestBody.create(audioFile, mediaType))\r\n                .build();\r\n\r\n        Request request = new Request.Builder()\r\n                .url(whisper_api)\r\n                .post(requestBody)\r\n                .addHeader(&quot;Authorization&quot;, &quot;Bearer &quot; + key)\r\n                .addHeader(&quot;Content-Type&quot;, &quot;multipart/form-data&quot;)\r\n                .build();\r\n\r\n\r\n        client.newCall(request).enqueue(new okhttp3.Callback() {\r\n            @Override\r\n            public void onResponse(@NonNull Call call, @NonNull okhttp3.Response response) throws IOException {\r\n                if (response.isSuccessful()) {\r\n                    String result = response.body().string();\r\n                    callback.onCallback(result);\r\n                } else {\r\n                    callback.onCallback(&quot;Error: &quot; + response.message());\r\n                }\r\n            }\r\n            @Override\r\n            public void onFailure(Call call, IOException e) {\r\n                e.printStackTrace();\r\n                callback.onCallback(&quot;Error: &quot; + e.getMessage());\r\n            }\r\n        });\r\n}\r\n```\r\n\r\nAnd Below is response.\r\n\r\n```\r\nResponse{protocol=h2, code=400, message=, url=https://api.openai.com/v1/audio/transcriptions}\r\n```\r\n\r\n\r\nI am currently facing a roadblock. I would appreciate any suggestions or opinions you can provide.\r\n\r\n\r\nHere is another piece of code I tried besides the one mentioned above.\r\n\r\n```\r\nOkHttpClient client = new OkHttpClient().newBuilder().build();\r\nRequestBody body = new MultipartBody.Builder().setType(MultipartBody.FORM)\r\n  .addFormDataPart(&quot;model&quot;,&quot;whisper-1&quot;)\r\n  .addFormDataPart(&quot;file&quot;,&quot;VOICE_FILE.mp3&quot;,\r\n    RequestBody.create(MediaType.parse(&quot;application/octet-stream&quot;),\r\n    new File(&quot;FILE_PATH&quot;)))\r\n  .build();\r\nRequest request = new Request.Builder()\r\n  .url(&quot;https://api.openai.com/v1/audio/transcriptions&quot;)\r\n  .method(&quot;POST&quot;, body)\r\n  .addHeader(&quot;Authorization&quot;, &quot;Bearer &quot; + key)\r\n  .addHeader(&quot;Content-Type&quot;, &quot;multipart/form-data&quot;)\r\n  .build();\r\nResponse response = client.newCall(request).execute();\r\n```\r\n\r\nHowever, the outcome was the same.\r\n","title":"OpenAI Whisper API, response status code 400 error","body":"<p>I am trying to use the Whisper API in Android, but I am encountering an issue where the request code is consistently returning a 400 error.\nFirst of all, since it works correctly when using Postman, I believe that the issue is not related to the secret key or content header values.\nSo, based on my current assumption, I believe there might be an error in using okhttp3.</p>\n<p>Below is my Android code.</p>\n<pre><code>public void requestWhisper(String file, Callback callback) {\n\n        OkHttpClient client = new OkHttpClient();\n        MediaType mediaType = MediaType.parse(&quot;audio/mpeg&quot;); \n        File audioFile = new File(file);\n\n        RequestBody requestBody = new MultipartBody.Builder()\n                .setType(MultipartBody.FORM)\n                .addFormDataPart(&quot;model&quot;, &quot;whisper-1&quot;)\n                .addFormDataPart(&quot;file&quot;, audioFile.getName(), \n                                  RequestBody.create(audioFile, mediaType))\n                .build();\n\n        Request request = new Request.Builder()\n                .url(whisper_api)\n                .post(requestBody)\n                .addHeader(&quot;Authorization&quot;, &quot;Bearer &quot; + key)\n                .addHeader(&quot;Content-Type&quot;, &quot;multipart/form-data&quot;)\n                .build();\n\n\n        client.newCall(request).enqueue(new okhttp3.Callback() {\n            @Override\n            public void onResponse(@NonNull Call call, @NonNull okhttp3.Response response) throws IOException {\n                if (response.isSuccessful()) {\n                    String result = response.body().string();\n                    callback.onCallback(result);\n                } else {\n                    callback.onCallback(&quot;Error: &quot; + response.message());\n                }\n            }\n            @Override\n            public void onFailure(Call call, IOException e) {\n                e.printStackTrace();\n                callback.onCallback(&quot;Error: &quot; + e.getMessage());\n            }\n        });\n}\n</code></pre>\n<p>And Below is response.</p>\n<pre><code>Response{protocol=h2, code=400, message=, url=https://api.openai.com/v1/audio/transcriptions}\n</code></pre>\n<p>I am currently facing a roadblock. I would appreciate any suggestions or opinions you can provide.</p>\n<p>Here is another piece of code I tried besides the one mentioned above.</p>\n<pre><code>OkHttpClient client = new OkHttpClient().newBuilder().build();\nRequestBody body = new MultipartBody.Builder().setType(MultipartBody.FORM)\n  .addFormDataPart(&quot;model&quot;,&quot;whisper-1&quot;)\n  .addFormDataPart(&quot;file&quot;,&quot;VOICE_FILE.mp3&quot;,\n    RequestBody.create(MediaType.parse(&quot;application/octet-stream&quot;),\n    new File(&quot;FILE_PATH&quot;)))\n  .build();\nRequest request = new Request.Builder()\n  .url(&quot;https://api.openai.com/v1/audio/transcriptions&quot;)\n  .method(&quot;POST&quot;, body)\n  .addHeader(&quot;Authorization&quot;, &quot;Bearer &quot; + key)\n  .addHeader(&quot;Content-Type&quot;, &quot;multipart/form-data&quot;)\n  .build();\nResponse response = client.newCall(request).execute();\n</code></pre>\n<p>However, the outcome was the same.</p>\n"},{"tags":["java","android","sms","default","native-android"],"answers":[{"tags":[],"owner":{"account_id":18203305,"reputation":45,"user_id":13247077,"display_name":"Qasim Malik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1683443253,"creation_date":1683443253,"answer_id":76192603,"question_id":76192417,"body_markdown":"After doing some more research I was able to show the dialog here is the updated code for my Main Activity:\r\n\r\n    \r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_default_sms);\r\n\r\n        if (!isDefaultSmsApp(this))\r\n            setDefaultSmsApp();\r\n    }\r\n\r\n\r\n    private void setDefaultSmsApp() {\r\n        if(Build.VERSION.SDK_INT &lt; Build.VERSION_CODES.Q){\r\n            //String mypackagename = getPackageName();\r\n            if(Telephony.Sms.getDefaultSmsPackage(this)!=null){\r\n                if (Telephony.Sms.getDefaultSmsPackage(this).equals(getPackageName())){\r\n                    openMainActivity();\r\n                }else{\r\n                    Intent setSmsAppIntent = new Intent(Telephony.Sms.Intents.ACTION_CHANGE_DEFAULT);\r\n                    setSmsAppIntent.putExtra(Telephony.Sms.Intents.EXTRA_PACKAGE_NAME,getPackageName());\r\n                    startActivityForResult(setSmsAppIntent, 1);\r\n                }\r\n            }else{\r\n                Toast.makeText(this, &quot;No default Sms App found&quot;, Toast.LENGTH_SHORT).show();}\r\n        }\r\n        else{\r\n            RoleManager rolemanager = getApplicationContext().getSystemService(RoleManager.class);\r\n            if (rolemanager.isRoleAvailable(RoleManager.ROLE_SMS)){\r\n                if (rolemanager.isRoleHeld(RoleManager.ROLE_SMS)){\r\n                    openMainActivity();\r\n                }\r\n                else{\r\n                    Intent roleRequestIntent = rolemanager.createRequestRoleIntent(RoleManager.ROLE_SMS);\r\n                    startActivityForResult(roleRequestIntent,REQUEST_SET_DEFAULT_SMS_APP);\r\n                }\r\n            }\r\n        }\r\n\r\n    }\r\n\r\nHope this helps someone!\r\n\r\n","title":"Default sms app chooser is not displaying","body":"<p>After doing some more research I was able to show the dialog here is the updated code for my Main Activity:</p>\n<pre><code>@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_default_sms);\n\n    if (!isDefaultSmsApp(this))\n        setDefaultSmsApp();\n}\n\n\nprivate void setDefaultSmsApp() {\n    if(Build.VERSION.SDK_INT &lt; Build.VERSION_CODES.Q){\n        //String mypackagename = getPackageName();\n        if(Telephony.Sms.getDefaultSmsPackage(this)!=null){\n            if (Telephony.Sms.getDefaultSmsPackage(this).equals(getPackageName())){\n                openMainActivity();\n            }else{\n                Intent setSmsAppIntent = new Intent(Telephony.Sms.Intents.ACTION_CHANGE_DEFAULT);\n                setSmsAppIntent.putExtra(Telephony.Sms.Intents.EXTRA_PACKAGE_NAME,getPackageName());\n                startActivityForResult(setSmsAppIntent, 1);\n            }\n        }else{\n            Toast.makeText(this, &quot;No default Sms App found&quot;, Toast.LENGTH_SHORT).show();}\n    }\n    else{\n        RoleManager rolemanager = getApplicationContext().getSystemService(RoleManager.class);\n        if (rolemanager.isRoleAvailable(RoleManager.ROLE_SMS)){\n            if (rolemanager.isRoleHeld(RoleManager.ROLE_SMS)){\n                openMainActivity();\n            }\n            else{\n                Intent roleRequestIntent = rolemanager.createRequestRoleIntent(RoleManager.ROLE_SMS);\n                startActivityForResult(roleRequestIntent,REQUEST_SET_DEFAULT_SMS_APP);\n            }\n        }\n    }\n\n}\n</code></pre>\n<p>Hope this helps someone!</p>\n"}],"owner":{"account_id":18203305,"reputation":45,"user_id":13247077,"display_name":"Qasim Malik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":119,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76192603,"answer_count":1,"score":0,"last_activity_date":1683443253,"creation_date":1683439422,"question_id":76192417,"body_markdown":"I am working on an Sms app, I want my app to display the below chooser, so that the user can select my app as default \r\n[![enter image description here](https://i.stack.imgur.com/nzsyf.jpg)](https://i.stack.imgur.com/nzsyf.jpg)\r\n\r\nhere is my manifest code:\r\n\r\n```\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_WIFI_STATE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.CHANGE_WIFI_STATE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.CHANGE_NETWORK_STATE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.FOREGROUND_SERVICE&quot; /&gt;\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.SEND_SMS&quot; /&gt;\r\n\r\n\r\n    &lt;application\r\n        android:name=&quot;.App&quot;\r\n        android:allowBackup=&quot;true&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/AppTheme&quot;\r\n        android:usesCleartextTraffic=&quot;true&quot;\r\n        tools:ignore=&quot;GoogleAppIndexingWarning&quot;&gt;\r\n\r\n        &lt;provider\r\n            android:name=&quot;androidx.core.content.FileProvider&quot;\r\n            android:authorities=&quot;${applicationId}.provider&quot;\r\n            android:exported=&quot;false&quot;\r\n            android:grantUriPermissions=&quot;true&quot;&gt;\r\n            &lt;meta-data\r\n                android:name=&quot;android.support.FILE_PROVIDER_PATHS&quot;\r\n                android:resource=&quot;@xml/provider_paths&quot; /&gt;\r\n        &lt;/provider&gt;\r\n\r\n        &lt;!-- &lt;service android:name=&quot;.BackgroundService&quot; /&gt;--&gt;\r\n\r\n        &lt;!-- Service that delivers messages from the phone &quot;quick response&quot; --&gt;\r\n        &lt;service\r\n            android:name=&quot;.BackgroundService&quot;\r\n            android:exported=&quot;false&quot;\r\n            android:permission=&quot;android.permission.SEND_RESPOND_VIA_MESSAGE&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.RESPOND_VIA_MESSAGE&quot; /&gt;\r\n                &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\r\n\r\n                &lt;data android:scheme=&quot;sms&quot; /&gt;\r\n                &lt;data android:scheme=&quot;smsto&quot; /&gt;\r\n                &lt;data android:scheme=&quot;mms&quot; /&gt;\r\n                &lt;data android:scheme=&quot;mmsto&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/service&gt;\r\n\r\n        &lt;activity\r\n            android:name=&quot;.MainActivity&quot;\r\n            android:label=&quot;@string/app_name&quot;\r\n            android:theme=&quot;@style/AppTheme.NoActionBar&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.SEND&quot; /&gt;\r\n                &lt;action android:name=&quot;android.intent.action.SENDTO&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\r\n                &lt;category android:name=&quot;android.intent.category.BROWSABLE&quot; /&gt;\r\n\r\n                &lt;data android:scheme=&quot;sms&quot; /&gt;\r\n                &lt;data android:scheme=&quot;smsto&quot; /&gt;\r\n                &lt;data android:scheme=&quot;mms&quot; /&gt;\r\n                &lt;data android:scheme=&quot;mmsto&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n\r\n        &lt;receiver\r\n            android:name=&quot;.SmsReceiver&quot;\r\n            android:permission=&quot;android.permission.BROADCAST_SMS&quot;\r\n            android:exported=&quot;false&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.provider.Telephony.SMS_DELIVER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/receiver&gt;\r\n\r\n        &lt;receiver\r\n            android:name=&quot;.MmsReceiver&quot;\r\n            android:permission=&quot;android.permission.BROADCAST_WAP_PUSH&quot;\r\n            android:exported=&quot;false&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.provider.Telephony.WAP_PUSH_DELIVER&quot; /&gt;\r\n                &lt;data android:mimeType=&quot;application/vnd.wap.mms-message&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/receiver&gt;\r\n\r\n    &lt;/application&gt;\r\n\r\n```\r\n\r\n\r\nand here is my mainActivity:\r\n\r\n\r\n```\r\n protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        if (!isDefaultSmsApp(this))\r\n            setDefaultSmsApp();\r\n    }\r\n\r\n    private void setDefaultSmsApp() {\r\n        Toast.makeText(this, &quot;Setting default....&quot;, Toast.LENGTH_SHORT).show();\r\n        Intent intent =\r\n                new Intent(Telephony.Sms.Intents.ACTION_CHANGE_DEFAULT);\r\n        intent.putExtra(Telephony.Sms.Intents.EXTRA_PACKAGE_NAME,\r\n                getPackageName());\r\n        startActivity(intent);\r\n    }\r\n\r\n    public boolean isDefaultSmsApp(Context context) {\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.KITKAT) {\r\n            return context.getPackageName().equals(Telephony.Sms.getDefaultSmsPackage(context));\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n    public void requestSmsPermission() {\r\n        if (ActivityCompat.shouldShowRequestPermissionRationale(this, Manifest.permission.SEND_SMS)) {\r\n            new AlertDialog.Builder(this)\r\n                    .setTitle(&quot;Permission Needed&quot;)\r\n                    .setMessage(&quot;This permission is needed to send messages&quot;)\r\n                    .setPositiveButton(&quot;Ok&quot;, (dialogInterface, i) -&gt; ActivityCompat.requestPermissions(MainActivity.this, new String[]{Manifest.permission.SEND_SMS}, ACCESS_SMS_CODE))\r\n                    .setNegativeButton(&quot;Cancel&quot;, (dialogInterface, i) -&gt; {\r\n                        dialogInterface.dismiss();\r\n                        finish();\r\n                    })\r\n                    .create()\r\n                    .show();\r\n        } else {\r\n            ActivityCompat.requestPermissions(this, new String[]{Manifest.permission.SEND_SMS}, ACCESS_SMS_CODE);\r\n        }\r\n\r\n    }\r\n\r\n```\r\n\r\nWhat am i missing ?\r\n\r\n\r\nI have also tried using intent.createChooser but it was not working, as you can see i have registered all the necessary registers in my manifest,","title":"Default sms app chooser is not displaying","body":"<p>I am working on an Sms app, I want my app to display the below chooser, so that the user can select my app as default\n<a href=\"https://i.stack.imgur.com/nzsyf.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nzsyf.jpg\" alt=\"enter image description here\" /></a></p>\n<p>here is my manifest code:</p>\n<pre><code>\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_WIFI_STATE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.CHANGE_WIFI_STATE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.CHANGE_NETWORK_STATE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.FOREGROUND_SERVICE&quot; /&gt;\n\n    &lt;uses-permission android:name=&quot;android.permission.SEND_SMS&quot; /&gt;\n\n\n    &lt;application\n        android:name=&quot;.App&quot;\n        android:allowBackup=&quot;true&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/AppTheme&quot;\n        android:usesCleartextTraffic=&quot;true&quot;\n        tools:ignore=&quot;GoogleAppIndexingWarning&quot;&gt;\n\n        &lt;provider\n            android:name=&quot;androidx.core.content.FileProvider&quot;\n            android:authorities=&quot;${applicationId}.provider&quot;\n            android:exported=&quot;false&quot;\n            android:grantUriPermissions=&quot;true&quot;&gt;\n            &lt;meta-data\n                android:name=&quot;android.support.FILE_PROVIDER_PATHS&quot;\n                android:resource=&quot;@xml/provider_paths&quot; /&gt;\n        &lt;/provider&gt;\n\n        &lt;!-- &lt;service android:name=&quot;.BackgroundService&quot; /&gt;--&gt;\n\n        &lt;!-- Service that delivers messages from the phone &quot;quick response&quot; --&gt;\n        &lt;service\n            android:name=&quot;.BackgroundService&quot;\n            android:exported=&quot;false&quot;\n            android:permission=&quot;android.permission.SEND_RESPOND_VIA_MESSAGE&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.RESPOND_VIA_MESSAGE&quot; /&gt;\n                &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\n\n                &lt;data android:scheme=&quot;sms&quot; /&gt;\n                &lt;data android:scheme=&quot;smsto&quot; /&gt;\n                &lt;data android:scheme=&quot;mms&quot; /&gt;\n                &lt;data android:scheme=&quot;mmsto&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/service&gt;\n\n        &lt;activity\n            android:name=&quot;.MainActivity&quot;\n            android:label=&quot;@string/app_name&quot;\n            android:theme=&quot;@style/AppTheme.NoActionBar&quot;\n            android:exported=&quot;true&quot;&gt;\n\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.SEND&quot; /&gt;\n                &lt;action android:name=&quot;android.intent.action.SENDTO&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\n                &lt;category android:name=&quot;android.intent.category.BROWSABLE&quot; /&gt;\n\n                &lt;data android:scheme=&quot;sms&quot; /&gt;\n                &lt;data android:scheme=&quot;smsto&quot; /&gt;\n                &lt;data android:scheme=&quot;mms&quot; /&gt;\n                &lt;data android:scheme=&quot;mmsto&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n\n        &lt;receiver\n            android:name=&quot;.SmsReceiver&quot;\n            android:permission=&quot;android.permission.BROADCAST_SMS&quot;\n            android:exported=&quot;false&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.provider.Telephony.SMS_DELIVER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/receiver&gt;\n\n        &lt;receiver\n            android:name=&quot;.MmsReceiver&quot;\n            android:permission=&quot;android.permission.BROADCAST_WAP_PUSH&quot;\n            android:exported=&quot;false&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.provider.Telephony.WAP_PUSH_DELIVER&quot; /&gt;\n                &lt;data android:mimeType=&quot;application/vnd.wap.mms-message&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/receiver&gt;\n\n    &lt;/application&gt;\n\n</code></pre>\n<p>and here is my mainActivity:</p>\n<pre><code> protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        if (!isDefaultSmsApp(this))\n            setDefaultSmsApp();\n    }\n\n    private void setDefaultSmsApp() {\n        Toast.makeText(this, &quot;Setting default....&quot;, Toast.LENGTH_SHORT).show();\n        Intent intent =\n                new Intent(Telephony.Sms.Intents.ACTION_CHANGE_DEFAULT);\n        intent.putExtra(Telephony.Sms.Intents.EXTRA_PACKAGE_NAME,\n                getPackageName());\n        startActivity(intent);\n    }\n\n    public boolean isDefaultSmsApp(Context context) {\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.KITKAT) {\n            return context.getPackageName().equals(Telephony.Sms.getDefaultSmsPackage(context));\n        }\n\n        return true;\n    }\n\n    public void requestSmsPermission() {\n        if (ActivityCompat.shouldShowRequestPermissionRationale(this, Manifest.permission.SEND_SMS)) {\n            new AlertDialog.Builder(this)\n                    .setTitle(&quot;Permission Needed&quot;)\n                    .setMessage(&quot;This permission is needed to send messages&quot;)\n                    .setPositiveButton(&quot;Ok&quot;, (dialogInterface, i) -&gt; ActivityCompat.requestPermissions(MainActivity.this, new String[]{Manifest.permission.SEND_SMS}, ACCESS_SMS_CODE))\n                    .setNegativeButton(&quot;Cancel&quot;, (dialogInterface, i) -&gt; {\n                        dialogInterface.dismiss();\n                        finish();\n                    })\n                    .create()\n                    .show();\n        } else {\n            ActivityCompat.requestPermissions(this, new String[]{Manifest.permission.SEND_SMS}, ACCESS_SMS_CODE);\n        }\n\n    }\n\n</code></pre>\n<p>What am i missing ?</p>\n<p>I have also tried using intent.createChooser but it was not working, as you can see i have registered all the necessary registers in my manifest,</p>\n"},{"tags":["java","android","argument-passing","wifi-direct","wifip2p"],"answers":[{"tags":[],"owner":{"account_id":1831280,"reputation":689,"user_id":1662629,"display_name":"Tareq"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1683442729,"creation_date":1398329301,"answer_id":23264090,"question_id":23261948,"body_markdown":"Make the device that starts the game run as a TCP server and make it broadcast on the network and listen on a predetermined port. When another player wants to join, he just selects the server from a menu and join the game. The coordinates can be sent as packets on touch events.\r\n\r\nThis is for the server:\r\n\r\n    Thread serverThread = new Thread(new Runnable() {\r\n    \r\n        @Override\r\n        public void run() { \t\t\t\t\t\t\t\t\r\n        \r\n        try { \r\n             serverSocketTCP = new ServerSocket(); \r\n             serverSocketTCP.setReuseAddress(true); \r\n             serverSocketTCP.bind(new InetSocketAddress(YourPort));\r\n    \r\n       while (status) {\r\n            clientSocketTCP = serverSocketTCP.accept();\r\n\r\n            BufferedReader bufferedReader = new BufferedReader(new \r\n            InputStreamReader(client.getInputStream()));\r\n\r\n            OutputStream outputStream = client.getOutputStream();\r\n\r\n \r\n\r\n         }\r\n      } catch (Exception e) {\r\n         e.printStackTrace();\r\n    \t\t\t\t\t\t\t\t\t\r\n       }\r\n        });\r\n    serverThread.start();\r\n\r\n\r\nThis is for the client:\r\n\r\n    Socket  clientSocket = new Socket(ServerIP,ServerPort);\r\n    outputStream = clientSocket.getOutputStream();\r\n    bufferedReader=newBufferedReader(new \r\n    InputStreamReader(clientSocket.getInputStream()));\r\n\r\n\r\n","title":"Usage of WiFi-Direct in Game Development (Android)","body":"<p>Make the device that starts the game run as a TCP server and make it broadcast on the network and listen on a predetermined port. When another player wants to join, he just selects the server from a menu and join the game. The coordinates can be sent as packets on touch events.</p>\n<p>This is for the server:</p>\n<pre><code>Thread serverThread = new Thread(new Runnable() {\n\n    @Override\n    public void run() {                                 \n    \n    try { \n         serverSocketTCP = new ServerSocket(); \n         serverSocketTCP.setReuseAddress(true); \n         serverSocketTCP.bind(new InetSocketAddress(YourPort));\n\n   while (status) {\n        clientSocketTCP = serverSocketTCP.accept();\n\n        BufferedReader bufferedReader = new BufferedReader(new \n        InputStreamReader(client.getInputStream()));\n\n        OutputStream outputStream = client.getOutputStream();\n\n\n\n     }\n  } catch (Exception e) {\n     e.printStackTrace();\n                                    \n   }\n    });\nserverThread.start();\n</code></pre>\n<p>This is for the client:</p>\n<pre><code>Socket  clientSocket = new Socket(ServerIP,ServerPort);\noutputStream = clientSocket.getOutputStream();\nbufferedReader=newBufferedReader(new \nInputStreamReader(clientSocket.getInputStream()));\n</code></pre>\n"}],"owner":{"account_id":2208271,"reputation":127,"user_id":1950906,"accept_rate":67,"display_name":"Umar Farooq"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1272,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":23264090,"answer_count":1,"score":4,"last_activity_date":1683442729,"creation_date":1398322765,"question_id":23261948,"body_markdown":"I am developing board game in android. I want to make this game playable on two separate devices, for that I need to use WiFi-Direct. I want to know is there any library available which will help me to\r\n\r\n - Find and connect with device\r\n - Send and receive board coordinates between two devices after touch-listener event \r\n\r\nI am interested in built-in library.\r\nOR \r\nIf possible please share implemented example of client/server architecture.","title":"Usage of WiFi-Direct in Game Development (Android)","body":"<p>I am developing board game in android. I want to make this game playable on two separate devices, for that I need to use WiFi-Direct. I want to know is there any library available which will help me to</p>\n\n<ul>\n<li>Find and connect with device</li>\n<li>Send and receive board coordinates between two devices after touch-listener event </li>\n</ul>\n\n<p>I am interested in built-in library.\nOR \nIf possible please share implemented example of client/server architecture.</p>\n"},{"tags":["java","linux","apache-axis"],"comments":[{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1676386264,"post_id":75445112,"comment_id":133123856,"body_markdown":"JAVA_HOME should point to the root of the Java installation directory (`/usr/lib/jvm/java-1.8.0-openjdk-amd64`), not to bin.","body":"JAVA_HOME should point to the root of the Java installation directory (<code>&#47;usr&#47;lib&#47;jvm&#47;java-1.8.0-openjdk-amd64</code>), not to bin."},{"owner":{"account_id":3533906,"reputation":522,"user_id":2952709,"accept_rate":71,"display_name":"Alex Lemesios"},"score":0,"creation_date":1676441166,"post_id":75445112,"comment_id":133135170,"body_markdown":"@k314159 no , still the same","body":"@k314159 no , still the same"},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1676460883,"post_id":75445112,"comment_id":133139880,"body_markdown":"Your command `export CLASSPATH=/opt/axis2-1.8.2/lib/*.jar` doesn&#39;t seem right. If there are multiple jar files in that directory, say a.jar and b.jar, then the Linux shell will expand that into the following command `export CLASSPATH=/opt/axis2-1.8.2/lib/a.jar /opt/axis2-1.8.2/lib/b.jar` but the space is not a valid separator. Try the wildcard syntax `export CLASSPATH=&#39;/opt/axis2-1.8.2/lib/*&#39;` as specified at https://docs.oracle.com/javase/8/docs/technotes/tools/windows/classpath.html#A1100762 and taking care to put the asterisk in quotes so that the shell doesn&#39;t expand it.","body":"Your command <code>export CLASSPATH=&#47;opt&#47;axis2-1.8.2&#47;lib&#47;*.jar</code> doesn&#39;t seem right. If there are multiple jar files in that directory, say a.jar and b.jar, then the Linux shell will expand that into the following command <code>export CLASSPATH=&#47;opt&#47;axis2-1.8.2&#47;lib&#47;a.jar &#47;opt&#47;axis2-1.8.2&#47;lib&#47;b.jar</code> but the space is not a valid separator. Try the wildcard syntax <code>export CLASSPATH=&#39;&#47;opt&#47;axis2-1.8.2&#47;lib&#47;*&#39;</code> as specified at <a href=\"https://docs.oracle.com/javase/8/docs/technotes/tools/windows/classpath.html#A1100762\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/technotes/tools/windows/&hellip;</a> and taking care to put the asterisk in quotes so that the shell doesn&#39;t expand it."},{"owner":{"account_id":3533906,"reputation":522,"user_id":2952709,"accept_rate":71,"display_name":"Alex Lemesios"},"score":0,"creation_date":1676461457,"post_id":75445112,"comment_id":133140030,"body_markdown":"@k314159 when echo $CLASSPATH , i get a full list of all .jar files inside lib directory , so i think setting the classpath worked just fine . Although i will try your idea and let you know. It&#39;s the first time i can&#39;t find anything similar to my problem . I have also checked system requirements section in official APACHE Axis website and states that JAVA 8 or above will be compatible with the latest AXIS2 distribution . I am using java 8  .","body":"@k314159 when echo $CLASSPATH , i get a full list of all .jar files inside lib directory , so i think setting the classpath worked just fine . Although i will try your idea and let you know. It&#39;s the first time i can&#39;t find anything similar to my problem . I have also checked system requirements section in official APACHE Axis website and states that JAVA 8 or above will be compatible with the latest AXIS2 distribution . I am using java 8  ."},{"owner":{"account_id":3533906,"reputation":522,"user_id":2952709,"accept_rate":71,"display_name":"Alex Lemesios"},"score":0,"creation_date":1676461623,"post_id":75445112,"comment_id":133140088,"body_markdown":"@k314159 . Still getting the same error , i am so frustrated i  am stuck here for so long. Not even stack overflow can help :)    . I have also tried setting the AXIS2_HOME variable to /opt and /opt/axis2-1.8.2/bin AND also did a fresh installation but without any luck","body":"@k314159 . Still getting the same error , i am so frustrated i  am stuck here for so long. Not even stack overflow can help :)    . I have also tried setting the AXIS2_HOME variable to /opt and /opt/axis2-1.8.2/bin AND also did a fresh installation but without any luck"},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1676474799,"post_id":75445112,"comment_id":133144581,"body_markdown":"I downloaded the same distribution, and looked inside all the jars, and I can confirm there is no such class. It looks as if the distribution is broken, but Axis is such an old system that I doubt there would be many people still working on it and interested in fixing it.","body":"I downloaded the same distribution, and looked inside all the jars, and I can confirm there is no such class. It looks as if the distribution is broken, but Axis is such an old system that I doubt there would be many people still working on it and interested in fixing it."},{"owner":{"account_id":3533906,"reputation":522,"user_id":2952709,"accept_rate":71,"display_name":"Alex Lemesios"},"score":0,"creation_date":1676526429,"post_id":75445112,"comment_id":133155337,"body_markdown":"@k314159  , maybe if i download an older (archived) version of AXIS would do the trick. Thanks for the help","body":"@k314159  , maybe if i download an older (archived) version of AXIS would do the trick. Thanks for the help"}],"answers":[{"tags":[],"owner":{"account_id":13771599,"reputation":41,"user_id":10214295,"display_name":"Oskar Vital"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1676945708,"creation_date":1676945708,"answer_id":75515735,"question_id":75445112,"body_markdown":"Inside the start file $AXIS2_HOME/bin/axis2server.sh exists an issue at last of the file. This occurs because in the last versions of Axis2 package the class &quot;SimpleAxis2Server&quot; was move from transport to kernel.\r\n\r\nJust replace:\r\n\r\norg.apache.axis2.transport.SimpleAxis2Server\r\nfor\r\norg.apache.axis2.kernel.SimpleAxis2Server\r\n\r\nEnjoy!!","title":"Getting Error: Could not find or load main class org.apache.axis2.transport.SimpleAxis2Server","body":"<p>Inside the start file $AXIS2_HOME/bin/axis2server.sh exists an issue at last of the file. This occurs because in the last versions of Axis2 package the class &quot;SimpleAxis2Server&quot; was move from transport to kernel.</p>\n<p>Just replace:</p>\n<p>org.apache.axis2.transport.SimpleAxis2Server\nfor\norg.apache.axis2.kernel.SimpleAxis2Server</p>\n<p>Enjoy!!</p>\n"}],"owner":{"account_id":3533906,"reputation":522,"user_id":2952709,"accept_rate":71,"display_name":"Alex Lemesios"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":496,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683441317,"creation_date":1676363394,"question_id":75445112,"body_markdown":"I am new to Axis , I am trying to start Axis2 as a Standalone Server using the Standard Binary Distribution package in Linux. I went through this guide: https://axis.apache.org/axis2/java/core/docs/installationguide.html\r\n\r\nI have downloaded and unpacked the distribution in it&#39;s own directory and i have also set environment variables AXIS2_HOME and JAVA_HOME as follows :\r\n\r\n```export AXIS2_HOME=/opt/axis2-1.8.2```\r\n\r\n```echo $AXIS2_HOME   ``` returns\r\n\r\n```/opt/axis2-1.8.2 ```\r\n\r\n```export JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64/bin```\r\n\r\n```echo $JAVA_HOME``` returns\r\n\r\n```/usr/lib/jvm/java-1.8.0-openjdk-amd64/bin```\r\n\r\nWhen trying to run **axis2server.sh** which is essentially the script to start the server I get the following prompts :\r\n\r\n```\r\nuser@serverFoo/opt/axis2-1.8.2/bin$ ./axis2server.sh\r\n Using AXIS2_HOME: /opt/axis2-1.8.2\r\n Using JAVA_HOME:  /usr/lib/jvm/java-1.8.0-openjdk-amd64/bin\r\nError: Could not find or load main class org.apache.axis2.transport.SimpleAxis2Server\r\n\r\n```\r\nComing from a JAVA background I understand that it can&#39;t find or load the server class, although I can&#39;t find any resources in the web pointing to the specific error . \r\n\r\nEDIT : I have also added CLASSPATH variable pointing to the AXIS2_HOME/lib directory i.e\r\n\r\n```export CLASSPATH=/opt/axis2-1.8.2/lib/*.jar``` but still the same .\r\n\r\nAny ideas would be welcome. \r\n\r\nThanks\r\n\r\n\r\n\r\n\r\n","title":"Getting Error: Could not find or load main class org.apache.axis2.transport.SimpleAxis2Server","body":"<p>I am new to Axis , I am trying to start Axis2 as a Standalone Server using the Standard Binary Distribution package in Linux. I went through this guide: <a href=\"https://axis.apache.org/axis2/java/core/docs/installationguide.html\" rel=\"nofollow noreferrer\">https://axis.apache.org/axis2/java/core/docs/installationguide.html</a></p>\n<p>I have downloaded and unpacked the distribution in it's own directory and i have also set environment variables AXIS2_HOME and JAVA_HOME as follows :</p>\n<p><code>export AXIS2_HOME=/opt/axis2-1.8.2</code></p>\n<p><code>echo $AXIS2_HOME   </code> returns</p>\n<p><code>/opt/axis2-1.8.2 </code></p>\n<p><code>export JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64/bin</code></p>\n<p><code>echo $JAVA_HOME</code> returns</p>\n<p><code>/usr/lib/jvm/java-1.8.0-openjdk-amd64/bin</code></p>\n<p>When trying to run <strong>axis2server.sh</strong> which is essentially the script to start the server I get the following prompts :</p>\n<pre><code>user@serverFoo/opt/axis2-1.8.2/bin$ ./axis2server.sh\n Using AXIS2_HOME: /opt/axis2-1.8.2\n Using JAVA_HOME:  /usr/lib/jvm/java-1.8.0-openjdk-amd64/bin\nError: Could not find or load main class org.apache.axis2.transport.SimpleAxis2Server\n\n</code></pre>\n<p>Coming from a JAVA background I understand that it can't find or load the server class, although I can't find any resources in the web pointing to the specific error .</p>\n<p>EDIT : I have also added CLASSPATH variable pointing to the AXIS2_HOME/lib directory i.e</p>\n<p><code>export CLASSPATH=/opt/axis2-1.8.2/lib/*.jar</code> but still the same .</p>\n<p>Any ideas would be welcome.</p>\n<p>Thanks</p>\n"},{"tags":["java","groovy","jvm","spock"],"comments":[{"owner":{"account_id":938881,"reputation":14223,"user_id":967330,"accept_rate":90,"display_name":"Thom"},"score":0,"creation_date":1683394988,"post_id":76190239,"comment_id":134361541,"body_markdown":"@JimGarrison Not sure what file you mean. I searched for javaagent and spock-mockable","body":"@JimGarrison Not sure what file you mean. I searched for javaagent and spock-mockable"},{"owner":{"account_id":938881,"reputation":14223,"user_id":967330,"accept_rate":90,"display_name":"Thom"},"score":0,"creation_date":1683396119,"post_id":76190239,"comment_id":134361668,"body_markdown":"@JimGarrison I used qwant before. Tried google at your request and still am not finding anything relevant to me. The most likely one is a space between the key and value, but I&#39;m not coding that. The PreMain class is defined by the package I&#39;m bringing in. Not sure how this helps.","body":"@JimGarrison I used qwant before. Tried google at your request and still am not finding anything relevant to me. The most likely one is a space between the key and value, but I&#39;m not coding that. The PreMain class is defined by the package I&#39;m bringing in. Not sure how this helps."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1685776737,"post_id":76190239,"comment_id":134711364,"body_markdown":"Hello. I would appreciate some feedback. I spent some time and effort on writing a comprehensive answer, which I think is correct and should solve your problem. Please be so kind as to accept &amp; upvote, unless you have any follow-up questions.","body":"Hello. I would appreciate some feedback. I spent some time and effort on writing a comprehensive answer, which I think is correct and should solve your problem. Please be so kind as to accept &amp; upvote, unless you have any follow-up questions."}],"answers":[{"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683440846,"creation_date":1683440192,"answer_id":76192456,"question_id":76190239,"body_markdown":"Spock Mockable version 3d2e39a is old (May 2022), not a recent version as the leading &quot;3&quot; implies. According to both the GitHub site and [MvnRepository.com](mvnrepository.com/artifact/io.github.joke/spock-mockable), the latest release is 2.3.1. \r\n\r\n[![mvnrepository.com screenshot for Spock Mockable][1]][1]\r\n\r\nIf you inspect the JAR of version 3d2e39a, you will find an empty _META-INF/MANIFEST.MF_ file, which is the root cause for your error message. There really is no [`Premain-Class` entry](https://www.baeldung.com/java-instrumentation#create-agent-manifest-file) there, which would be necessary to run the JAR as a Java agent. But 2.3.1 has the correct manifest entries.\r\n\r\n  [1]: https://i.stack.imgur.com/xZ9Kq.png","title":"Failed to find Premain-Class manifest attribute ... spock-mockable","body":"<p>Spock Mockable version 3d2e39a is old (May 2022), not a recent version as the leading &quot;3&quot; implies. According to both the GitHub site and MvnRepository.com, the latest release is 2.3.1.</p>\n<p><a href=\"https://i.stack.imgur.com/xZ9Kq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xZ9Kq.png\" alt=\"mvnrepository.com screenshot for Spock Mockable\" /></a></p>\n<p>If you inspect the JAR of version 3d2e39a, you will find an empty <em>META-INF/MANIFEST.MF</em> file, which is the root cause for your error message. There really is no <a href=\"https://www.baeldung.com/java-instrumentation#create-agent-manifest-file\" rel=\"nofollow noreferrer\"><code>Premain-Class</code> entry</a> there, which would be necessary to run the JAR as a Java agent. But 2.3.1 has the correct manifest entries.</p>\n"}],"owner":{"account_id":938881,"reputation":14223,"user_id":967330,"accept_rate":90,"display_name":"Thom"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":139,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1683440846,"creation_date":1683394364,"question_id":76190239,"body_markdown":"I am trying to stub the final class java.net.UR in my spock testL. Based on the answer here: https://stackoverflow.com/questions/75691233/how-to-stub-a-java-final-static-method-or-class-in-spock I&#39;m attempting to use [spock-mockable][1].\r\n\r\nI have modified my build.gradle as follows:\r\n\r\n    testImplementation (\r\n            &#39;org.junit.jupiter:junit-jupiter-api:5.8.1&#39;,\r\n            &#39;org.spockframework:spock-core:2.4-M1-groovy-4.0&#39;,\r\n            &#39;io.github.joke:spock-mockable:3d2e39a&#39;,\r\n            &#39;cglib:cglib-nodep:3.3.0&#39;\r\n    )\r\n\r\n    ...\r\n\r\n    // to load the agent even earlier add it as a JVM argument\r\n    tasks.withType(Test) {\r\n        jvmArgs += [&quot;-javaagent:${classpath.find { it.name.contains(&#39;spock-mockable&#39;) }.absolutePath}&quot;]\r\n    }\r\n\r\nFrom reading the readme file, it looks like I can now just run my test, but when I try it, I get the following error:\r\n\r\n    Error occurred during initialization of VM\r\n    Failed to find Premain-Class manifest attribute in /home/thomas/.gradle/caches/modules-2/files-2.1/io.github.joke/spock-mockable/3d2e39a/d3a086b4c82c8290a2013ebd5a6b697f959918bf/spock-mockable-3d2e39a.jar\r\n    agent library failed to init: instrument\r\n\r\nI&#39;m not exactly sure what a javaagent is and tried to find some reading on it, but found several examples with no explanation. I can kind of guess.\r\n\r\nAt any rate, the spock-mockable shows up in my external libraries. (From IntelliJ where I&#39;m running this test.)\r\n\r\n[![enter image description here][2]][2]\r\n\r\nLooking for what to do next.\r\n\r\n  [1]: https://github.com/joke/spock-mockable\r\n  [2]: https://i.stack.imgur.com/NkZHy.png","title":"Failed to find Premain-Class manifest attribute ... spock-mockable","body":"<p>I am trying to stub the final class java.net.UR in my spock testL. Based on the answer here: <a href=\"https://stackoverflow.com/questions/75691233/how-to-stub-a-java-final-static-method-or-class-in-spock\">How to stub a java final static method or class in Spock?</a> I'm attempting to use <a href=\"https://github.com/joke/spock-mockable\" rel=\"nofollow noreferrer\">spock-mockable</a>.</p>\n<p>I have modified my build.gradle as follows:</p>\n<pre><code>testImplementation (\n        'org.junit.jupiter:junit-jupiter-api:5.8.1',\n        'org.spockframework:spock-core:2.4-M1-groovy-4.0',\n        'io.github.joke:spock-mockable:3d2e39a',\n        'cglib:cglib-nodep:3.3.0'\n)\n\n...\n\n// to load the agent even earlier add it as a JVM argument\ntasks.withType(Test) {\n    jvmArgs += [&quot;-javaagent:${classpath.find { it.name.contains('spock-mockable') }.absolutePath}&quot;]\n}\n</code></pre>\n<p>From reading the readme file, it looks like I can now just run my test, but when I try it, I get the following error:</p>\n<pre><code>Error occurred during initialization of VM\nFailed to find Premain-Class manifest attribute in /home/thomas/.gradle/caches/modules-2/files-2.1/io.github.joke/spock-mockable/3d2e39a/d3a086b4c82c8290a2013ebd5a6b697f959918bf/spock-mockable-3d2e39a.jar\nagent library failed to init: instrument\n</code></pre>\n<p>I'm not exactly sure what a javaagent is and tried to find some reading on it, but found several examples with no explanation. I can kind of guess.</p>\n<p>At any rate, the spock-mockable shows up in my external libraries. (From IntelliJ where I'm running this test.)</p>\n<p><a href=\"https://i.stack.imgur.com/NkZHy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NkZHy.png\" alt=\"enter image description here\" /></a></p>\n<p>Looking for what to do next.</p>\n"},{"tags":["java","android","flutter","flutter-dependencies"],"owner":{"account_id":28315557,"reputation":11,"user_id":21652184,"display_name":"The Mahi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1683440685,"creation_date":1681586119,"question_id":76024285,"body_markdown":"I hope you you guys are happy and healthy\r\n...well about me i\r\n\r\nI am facing an issue with flutter app that it crashes very unexpectedly,\r\nthis happens when I move from one screen to another. It is not crashing everytime when I am navigating to some other screen\r\nBut sometimes it crashes with the following error\r\n\r\n\r\n```\r\nE/AndroidRuntime(30864): FATAL EXCEPTION: GLThread 53842\r\nE/AndroidRuntime(30864): Process: com.example.customer, PID: 30864\r\nE/AndroidRuntime(30864): java.lang.NullPointerException: Attempt to get length of null array\r\nE/AndroidRuntime(30864):   at java.nio.ByteBufferAsIntBuffer.put(ByteBufferAsIntBuffer.java:122)\r\nE/AndroidRuntime(30864):   at com.google.maps.api.android.lib6.gmm6.vector.gl.buffer.j.l(:com.google.android.gms.dynamite_mapsdynamite@231312028@23.13.12 (100400-0):2)\r\nE/AndroidRuntime(30864):   at com.google.maps.api.android.lib6.gmm6.vector.gl.buffer.j.o(:com.google.android.gms.dynamite_mapsdynamite@231312028@23.13.12 (100400-0):1)\r\nE/AndroidRuntime(30864):   at com.google.maps.api.android.lib6.gmm6.vector.gl.buffer.j.g(:com.google.android.gms.dynamite_mapsdynamite@231312028@23.13.12 (100400-0):3)\r\nE/AndroidRuntime(30864):   at com.google.maps.api.android.lib6.gmm6.vector.gl.drawable.ai.s(:com.google.android.gms.dynamite_mapsdynamite@231312028@23.13.12 (100400-0):27)\r\nE/AndroidRuntime(30864):   at com.google.maps.api.android.lib6.gmm6.vector.gl.drawable.ao.s(:com.google.android.gms.dynamite_mapsdynamite@231312028@23.13.12 (100400-0):10)\r\nE/AndroidRuntime(30864):   at com.google.maps.api.android.lib6.gmm6.vector.bx.s(:com.google.android.gms.dynamite_mapsdynamite@231312028@23.13.12 (100400-0):29)\r\nE/AndroidRuntime(30864):   at com.google.maps.api.android.lib6.gmm6.vector.bq.b(:com.google.android.gms.dynamite_mapsdynamite@231312028@23.13.12 (100400-0):151)\r\nE/AndroidRuntime(30864):   at com.google.maps.api.android.lib6.gmm6.vector.at.run(:com.google.android.gms.dynamite_mapsdynamite@231312028@23.13.12 (100400-0):48)\r\nD/OOMEventManagerFK(30864): checkEventAndDumpForJE: 0\r\nI/Process (30864): Sending signal. PID: 30864 SIG: 9\r\n```\r\n\r\nI really do not have any other hints that why it is happening\r\nBut yes 1 thing I could say that 99.99% of time it is crashing while navigating to HomeScreen only...sometimes it build homescreen\r\nThen it crashes\r\nSometimes it just crashes on the way to home screen\r\nSometimes it crashes while poping to home screen `Navigator.pop(context);`\r\nAdditionally I am using sockets in this projects..even thought any have doesn&#39;t have nothing to do with homescreen\r\n\r\n\r\n```\r\n  @override\r\n  void initState() {\r\n    checkIfPermissionAllowed();\r\n    futurePrevSearches = getprevSearches();\r\n    super.initState();\r\n  }\r\n\r\n```\r\nThis is initstate of HomeScreen that I am talking about\r\n\r\n```\r\n checkIfPermissionAllowed() async {\r\n    _locationPermission = await Geolocator.requestPermission();\r\n    if (_locationPermission == LocationPermission.denied) {\r\n      _locationPermission = await Geolocator.requestPermission();\r\n      if (_locationPermission == LocationPermission.denied) {\r\n        checkIfPermissionAllowed();\r\n      } else if (_locationPermission == LocationPermission.deniedForever) {\r\n        return;\r\n      } else if (_locationPermission == LocationPermission.unableToDetermine) {}\r\n        }\r\n      }\r\n```\r\n\r\n `\r\n```\r\n Future&lt;PrevSearches&gt; getprevSearches() async {\r\n    String url = &#39;$baseUrl/api/user/previousSearches&#39;;\r\n    Map&lt;String, String&gt; headers = {&#39;Authorization&#39;: &#39;Bearer ${widget.token}&#39;};\r\n\r\n    try {\r\n      http.Response response = await http.get(Uri.parse(url), headers: headers);\r\n      if (response.statusCode == 200) {\r\n        log(response.body);\r\n        final prevSearches = prevSearchesFromMap(response.body);\r\n        return prevSearches;\r\n      } else {\r\n        // return Container();\r\n        throw &#39;Error calling API&#39;;\r\n      }\r\n    } catch (err) {\r\n      log(err.toString());\r\n      rethrow;\r\n    }\r\n    // return PrevSearches(previous: []);\r\n    // return null;\r\n  }\r\n```\r\n\r\nwell i can see something related to google maps in that error log that you can see...i am using google maps in this project\r\n\r\nAny hints or something that would help me resolving this issue will be appreciated, let me know if i need to share anything else.\r\nThank Coders\r\n`","title":"why my Flutter app is crashing unexpectedly?","body":"<p>I hope you you guys are happy and healthy\n...well about me i</p>\n<p>I am facing an issue with flutter app that it crashes very unexpectedly,\nthis happens when I move from one screen to another. It is not crashing everytime when I am navigating to some other screen\nBut sometimes it crashes with the following error</p>\n<pre><code>E/AndroidRuntime(30864): FATAL EXCEPTION: GLThread 53842\nE/AndroidRuntime(30864): Process: com.example.customer, PID: 30864\nE/AndroidRuntime(30864): java.lang.NullPointerException: Attempt to get length of null array\nE/AndroidRuntime(30864):   at java.nio.ByteBufferAsIntBuffer.put(ByteBufferAsIntBuffer.java:122)\nE/AndroidRuntime(30864):   at com.google.maps.api.android.lib6.gmm6.vector.gl.buffer.j.l(:com.google.android.gms.dynamite_mapsdynamite@231312028@23.13.12 (100400-0):2)\nE/AndroidRuntime(30864):   at com.google.maps.api.android.lib6.gmm6.vector.gl.buffer.j.o(:com.google.android.gms.dynamite_mapsdynamite@231312028@23.13.12 (100400-0):1)\nE/AndroidRuntime(30864):   at com.google.maps.api.android.lib6.gmm6.vector.gl.buffer.j.g(:com.google.android.gms.dynamite_mapsdynamite@231312028@23.13.12 (100400-0):3)\nE/AndroidRuntime(30864):   at com.google.maps.api.android.lib6.gmm6.vector.gl.drawable.ai.s(:com.google.android.gms.dynamite_mapsdynamite@231312028@23.13.12 (100400-0):27)\nE/AndroidRuntime(30864):   at com.google.maps.api.android.lib6.gmm6.vector.gl.drawable.ao.s(:com.google.android.gms.dynamite_mapsdynamite@231312028@23.13.12 (100400-0):10)\nE/AndroidRuntime(30864):   at com.google.maps.api.android.lib6.gmm6.vector.bx.s(:com.google.android.gms.dynamite_mapsdynamite@231312028@23.13.12 (100400-0):29)\nE/AndroidRuntime(30864):   at com.google.maps.api.android.lib6.gmm6.vector.bq.b(:com.google.android.gms.dynamite_mapsdynamite@231312028@23.13.12 (100400-0):151)\nE/AndroidRuntime(30864):   at com.google.maps.api.android.lib6.gmm6.vector.at.run(:com.google.android.gms.dynamite_mapsdynamite@231312028@23.13.12 (100400-0):48)\nD/OOMEventManagerFK(30864): checkEventAndDumpForJE: 0\nI/Process (30864): Sending signal. PID: 30864 SIG: 9\n</code></pre>\n<p>I really do not have any other hints that why it is happening\nBut yes 1 thing I could say that 99.99% of time it is crashing while navigating to HomeScreen only...sometimes it build homescreen\nThen it crashes\nSometimes it just crashes on the way to home screen\nSometimes it crashes while poping to home screen <code>Navigator.pop(context);</code>\nAdditionally I am using sockets in this projects..even thought any have doesn't have nothing to do with homescreen</p>\n<pre><code>  @override\n  void initState() {\n    checkIfPermissionAllowed();\n    futurePrevSearches = getprevSearches();\n    super.initState();\n  }\n\n</code></pre>\n<p>This is initstate of HomeScreen that I am talking about</p>\n<pre><code> checkIfPermissionAllowed() async {\n    _locationPermission = await Geolocator.requestPermission();\n    if (_locationPermission == LocationPermission.denied) {\n      _locationPermission = await Geolocator.requestPermission();\n      if (_locationPermission == LocationPermission.denied) {\n        checkIfPermissionAllowed();\n      } else if (_locationPermission == LocationPermission.deniedForever) {\n        return;\n      } else if (_locationPermission == LocationPermission.unableToDetermine) {}\n        }\n      }\n</code></pre>\n<p>`</p>\n<pre><code> Future&lt;PrevSearches&gt; getprevSearches() async {\n    String url = '$baseUrl/api/user/previousSearches';\n    Map&lt;String, String&gt; headers = {'Authorization': 'Bearer ${widget.token}'};\n\n    try {\n      http.Response response = await http.get(Uri.parse(url), headers: headers);\n      if (response.statusCode == 200) {\n        log(response.body);\n        final prevSearches = prevSearchesFromMap(response.body);\n        return prevSearches;\n      } else {\n        // return Container();\n        throw 'Error calling API';\n      }\n    } catch (err) {\n      log(err.toString());\n      rethrow;\n    }\n    // return PrevSearches(previous: []);\n    // return null;\n  }\n</code></pre>\n<p>well i can see something related to google maps in that error log that you can see...i am using google maps in this project</p>\n<p>Any hints or something that would help me resolving this issue will be appreciated, let me know if i need to share anything else.\nThank Coders\n`</p>\n"},{"tags":["java","inputmismatchexception"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1683439041,"post_id":76192362,"comment_id":134365110,"body_markdown":"Instead of using `stdio.nextDouble();`, use `next` or `nextLine` then manually parse the value. As a general rule, you should avoid using `try-catch` as a conditional branching workflow, but every rule has an exception (&#128540;) and you might find in this case, catching the error is the best solution","body":"Instead of using <code>stdio.nextDouble();</code>, use <code>next</code> or <code>nextLine</code> then manually parse the value. As a general rule, you should avoid using <code>try-catch</code> as a conditional branching workflow, but every rule has an exception () and you might find in this case, catching the error is the best solution"},{"owner":{"account_id":28532917,"reputation":3,"user_id":21839994,"display_name":"whiteTreaty"},"score":0,"creation_date":1683444678,"post_id":76192362,"comment_id":134365583,"body_markdown":"@MadProgrammer I tried parsing type from string to double or double to string and it will not let me do it..no matter how much I tell the compiler that madProgrammer said it was ok to do so :P","body":"@MadProgrammer I tried parsing type from string to double or double to string and it will not let me do it..no matter how much I tell the compiler that madProgrammer said it was ok to do so :P"}],"answers":[{"tags":[],"owner":{"account_id":3473020,"reputation":135,"user_id":2906912,"display_name":"Codified"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1683439989,"creation_date":1683439989,"answer_id":76192445,"question_id":76192362,"body_markdown":"There are two ways at high level to fix this \r\n\r\n\r\nWay 1: You need to wrap your logic inside a try-catch. Here it needs the InputMismatchException handling as you are expecting double but it is coming as something else you may have other scenarios as well where you can make it multi-catch.\r\n\r\n\r\nimport java.util.InputMismatchException;\r\nimport java.util.Scanner;\r\n\r\npublic class UnitConversionTextBook {\r\n\tpublic static void main(String[] args) {\r\n\r\n\t\tString units;\r\n\t\tdouble measurement;\r\n\t\tdouble inches, feet, yards, miles;\r\n\r\n\t\tSystem.out.println(\r\n\t\t\t\t&quot;Enter measurements in inches, feet, yards, or miles.Some examples: 1 inch or 17 feet or 2.73 miles You can use the abbreviations: in ft yd mi Please press enter after typing your measurement.  I will also convert your input into the other units of measurements.&quot;);\r\n\r\n\t\twhile (true) {\r\n\r\n\t\t\ttry {\r\n\t\t\t\tSystem.out.print(&quot;Enter your measurement, or 0 to end: &quot;);\r\n\t\t\t\tScanner stdio = new Scanner(System.in);\r\n\t\t\t\tmeasurement = stdio.nextDouble();\r\n\t\t\t\tunits = stdio.next();\r\n\t\t\t\tunits = units.toLowerCase();\r\n\r\n\t\t\t\tif (measurement == 0) {\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\tif (units.equals(&quot;inch&quot;) || units.equals(&quot;inches&quot;) || units.equals(&quot;in&quot;)) {\r\n\t\t\t\t\tinches = measurement;\r\n\t\t\t\t} else if (units.equals(&quot;foot&quot;) || units.equals(&quot;feet&quot;) || units.equals(&quot;ft&quot;)) {\r\n\t\t\t\t\tinches = measurement * 12;\r\n\t\t\t\t} else if (units.equals(&quot;yard&quot;) || units.equals(&quot;yards&quot;) || units.equals(&quot;yd&quot;)) {\r\n\t\t\t\t\tinches = measurement * 36;\r\n\t\t\t\t} else if (units.equals(&quot;mile&quot;) || units.equals(&quot;miles&quot;) || units.equals(&quot;mi&quot;)) {\r\n\t\t\t\t\tinches = measurement * 12 * 5280;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tSystem.out.println(&quot;Sorry, but I dont understand \\&quot;&quot; + units + &quot;\\&quot;.&quot;);\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tfeet = inches / 12;\r\n\t\t\t\tyards = inches / 36;\r\n\t\t\t\tmiles = inches / (12 * 5280);\r\n\r\n\t\t\t\tSystem.out.println();\r\n\t\t\t\tSystem.out.printf(&quot;Thats equivalent to: %14.5g inches %14.5g feet %14.5g yards %14.5g miles&quot;, inches,\r\n\t\t\t\t\t\tfeet, yards, miles);\r\n\r\n\t\t\t\tSystem.out.println();\r\n\t\t\t} catch (InputMismatchException e) {\r\n\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\tSystem.out.println(&quot;Please read instructions again and retry&quot;);\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n        \r\n}\r\n\r\n\r\nWay 2: \r\nWrap only double reading code in try - catch \r\nBut remember to initilize a value to local variable \r\n\r\n    public class UnitConversionTextBook {\r\n\tpublic static void main(String[] args) {\r\n\r\n\t\tString units;\r\n\t\tdouble measurement=0;\r\n\t\tdouble inches, feet, yards, miles;\r\n\r\n\t\tSystem.out.println(\r\n\t\t\t\t&quot;Enter measurements in inches, feet, yards, or miles.Some examples: 1 inch or 17 feet or 2.73 miles You can use the abbreviations: in ft yd mi Please press enter after typing your measurement.  I will also convert your input into the other units of measurements.&quot;);\r\n\r\n\t\twhile (true) {\r\n\r\n\t\t\t \r\n\t\t\t\tSystem.out.print(&quot;Enter your measurement, or 0 to end: &quot;);\r\n\t\t\t\tScanner stdio = new Scanner(System.in);\r\n\t\t\t\ttry {\r\n\t\t\t\r\n\t\t\t\t\tmeasurement = stdio.nextDouble();\r\n\t\t\t\t} catch (InputMismatchException e) {\r\n\t\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\t\tSystem.out.println(&quot;Please read instructions again and retry&quot;);\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\t\t\t\tunits = stdio.next();\r\n\t\t\t\tunits = units.toLowerCase();\r\n\r\n\t\t\t\tif (measurement == 0) {\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\tif (units.equals(&quot;inch&quot;) || units.equals(&quot;inches&quot;) || units.equals(&quot;in&quot;)) {\r\n\t\t\t\t\tinches = measurement;\r\n\t\t\t\t} else if (units.equals(&quot;foot&quot;) || units.equals(&quot;feet&quot;) || units.equals(&quot;ft&quot;)) {\r\n\t\t\t\t\tinches = measurement * 12;\r\n\t\t\t\t} else if (units.equals(&quot;yard&quot;) || units.equals(&quot;yards&quot;) || units.equals(&quot;yd&quot;)) {\r\n\t\t\t\t\tinches = measurement * 36;\r\n\t\t\t\t} else if (units.equals(&quot;mile&quot;) || units.equals(&quot;miles&quot;) || units.equals(&quot;mi&quot;)) {\r\n\t\t\t\t\tinches = measurement * 12 * 5280;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tSystem.out.println(&quot;Sorry, but I dont understand \\&quot;&quot; + units + &quot;\\&quot;.&quot;);\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tfeet = inches / 12;\r\n\t\t\t\tyards = inches / 36;\r\n\t\t\t\tmiles = inches / (12 * 5280);\r\n\r\n\t\t\t\tSystem.out.println();\r\n\t\t\t\tSystem.out.printf(&quot;Thats equivalent to: %14.5g inches %14.5g feet %14.5g yards %14.5g miles&quot;, inches,\r\n\t\t\t\t\t\tfeet, yards, miles);\r\n\r\n\t\t\t\tSystem.out.println();\r\n\t\t\t\r\n\r\n\t\t}\r\n\r\n\t}\r\n        \r\n}","title":"How do I message an end user that they are entering the wrong input and/or format without getting an Exception/Crash?","body":"<p>There are two ways at high level to fix this</p>\n<p>Way 1: You need to wrap your logic inside a try-catch. Here it needs the InputMismatchException handling as you are expecting double but it is coming as something else you may have other scenarios as well where you can make it multi-catch.</p>\n<p>import java.util.InputMismatchException;\nimport java.util.Scanner;</p>\n<p>public class UnitConversionTextBook {\npublic static void main(String[] args) {</p>\n<pre><code>    String units;\n    double measurement;\n    double inches, feet, yards, miles;\n\n    System.out.println(\n            &quot;Enter measurements in inches, feet, yards, or miles.Some examples: 1 inch or 17 feet or 2.73 miles You can use the abbreviations: in ft yd mi Please press enter after typing your measurement.  I will also convert your input into the other units of measurements.&quot;);\n\n    while (true) {\n\n        try {\n            System.out.print(&quot;Enter your measurement, or 0 to end: &quot;);\n            Scanner stdio = new Scanner(System.in);\n            measurement = stdio.nextDouble();\n            units = stdio.next();\n            units = units.toLowerCase();\n\n            if (measurement == 0) {\n                break;\n            }\n            if (units.equals(&quot;inch&quot;) || units.equals(&quot;inches&quot;) || units.equals(&quot;in&quot;)) {\n                inches = measurement;\n            } else if (units.equals(&quot;foot&quot;) || units.equals(&quot;feet&quot;) || units.equals(&quot;ft&quot;)) {\n                inches = measurement * 12;\n            } else if (units.equals(&quot;yard&quot;) || units.equals(&quot;yards&quot;) || units.equals(&quot;yd&quot;)) {\n                inches = measurement * 36;\n            } else if (units.equals(&quot;mile&quot;) || units.equals(&quot;miles&quot;) || units.equals(&quot;mi&quot;)) {\n                inches = measurement * 12 * 5280;\n            } else {\n                System.out.println(&quot;Sorry, but I dont understand \\&quot;&quot; + units + &quot;\\&quot;.&quot;);\n                continue;\n            }\n\n            feet = inches / 12;\n            yards = inches / 36;\n            miles = inches / (12 * 5280);\n\n            System.out.println();\n            System.out.printf(&quot;Thats equivalent to: %14.5g inches %14.5g feet %14.5g yards %14.5g miles&quot;, inches,\n                    feet, yards, miles);\n\n            System.out.println();\n        } catch (InputMismatchException e) {\n            // TODO Auto-generated catch block\n            System.out.println(&quot;Please read instructions again and retry&quot;);\n            continue;\n        }\n\n    }\n\n}\n    \n</code></pre>\n<p>}</p>\n<p>Way 2:\nWrap only double reading code in try - catch\nBut remember to initilize a value to local variable</p>\n<pre><code>public class UnitConversionTextBook {\npublic static void main(String[] args) {\n\n    String units;\n    double measurement=0;\n    double inches, feet, yards, miles;\n\n    System.out.println(\n            &quot;Enter measurements in inches, feet, yards, or miles.Some examples: 1 inch or 17 feet or 2.73 miles You can use the abbreviations: in ft yd mi Please press enter after typing your measurement.  I will also convert your input into the other units of measurements.&quot;);\n\n    while (true) {\n\n         \n            System.out.print(&quot;Enter your measurement, or 0 to end: &quot;);\n            Scanner stdio = new Scanner(System.in);\n            try {\n        \n                measurement = stdio.nextDouble();\n            } catch (InputMismatchException e) {\n                // TODO Auto-generated catch block\n                System.out.println(&quot;Please read instructions again and retry&quot;);\n                continue;\n            }\n            units = stdio.next();\n            units = units.toLowerCase();\n\n            if (measurement == 0) {\n                break;\n            }\n            if (units.equals(&quot;inch&quot;) || units.equals(&quot;inches&quot;) || units.equals(&quot;in&quot;)) {\n                inches = measurement;\n            } else if (units.equals(&quot;foot&quot;) || units.equals(&quot;feet&quot;) || units.equals(&quot;ft&quot;)) {\n                inches = measurement * 12;\n            } else if (units.equals(&quot;yard&quot;) || units.equals(&quot;yards&quot;) || units.equals(&quot;yd&quot;)) {\n                inches = measurement * 36;\n            } else if (units.equals(&quot;mile&quot;) || units.equals(&quot;miles&quot;) || units.equals(&quot;mi&quot;)) {\n                inches = measurement * 12 * 5280;\n            } else {\n                System.out.println(&quot;Sorry, but I dont understand \\&quot;&quot; + units + &quot;\\&quot;.&quot;);\n                continue;\n            }\n\n            feet = inches / 12;\n            yards = inches / 36;\n            miles = inches / (12 * 5280);\n\n            System.out.println();\n            System.out.printf(&quot;Thats equivalent to: %14.5g inches %14.5g feet %14.5g yards %14.5g miles&quot;, inches,\n                    feet, yards, miles);\n\n            System.out.println();\n        \n\n    }\n\n}\n    \n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":28532917,"reputation":3,"user_id":21839994,"display_name":"whiteTreaty"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76192445,"answer_count":1,"score":0,"last_activity_date":1683439989,"creation_date":1683438209,"question_id":76192362,"body_markdown":"&quot;Eclipse IDE for Java Developers (includes Incubating components) Version: 2023-03 (4.27.0)&quot;\r\n[Intro to Programming using Java](https://math.hws.edu/javanotes/c3/s5.html) Section 3.5.3\r\n\r\nSorry for the very long post. This is my first post anywhere about programming. Thanks for any help! I would appreciate any other recommendations if this book is not a good one to learn java from.\r\n\r\nThe below is from the above online textbook that I am using to try an learn Java. I have issues with Exceptions in the program. For Example: Once running the program, everything seems to be working fine until I enter a format that the program does not expect. I want it to skip to &quot;else&quot; and print the message if an incorrect format is entered, but for some reason it just Excepts out. The end user is suppose to enter something like &quot;56 inches&quot; or &quot;156 feet&quot; so that it can be converted and display in multiple different units, but if I just enter &quot;inches&quot; it gives me the blow exception because I skipped the measurement variable. \r\n\r\nHow do I make this program output a reasonable message to the end user, if they are entering the incorrect format that afterwards places them back at the input directions?\r\n\r\n```lang-java\r\n----*Error*---\r\n**&quot;Enter your measurement, or 0 to end: inches\r\nException in thread &quot;main&quot; java.util.InputMismatchException\r\n\tat java.base/java.util.Scanner.throwFor(Scanner.java:939)\r\n\tat java.base/java.util.Scanner.next(Scanner.java:1594)\r\n\tat java.base/java.util.Scanner.nextDouble(Scanner.java:2564)\r\n\tat UnitConversionTextBook.main(UnitConversionTextBook.java:22)&quot;**\r\n```\r\n---Program---\r\n```lang-java\r\nimport java.util.Scanner;\r\n\r\npublic class UnitConversionTextBook {\r\npublic static void main(String[] args) {\r\n\t\r\n\tString units; \r\n\tdouble measurement; \r\n\tdouble inches, feet, yards, miles; \r\n\t\r\n\t\tSystem.out.println(&quot;&quot;&quot;\r\n\t\t\t\tEnter measurements in inches, feet, yards, or miles.\r\n\t\t\t\tSome examples: 1 inch or 17 feet or 2.73 miles\r\n\t\t\t\tYou can use the abbreviations: in ft yd mi\r\n                Please press enter after typing your measurement.\r\n\t\t\t\tI will also convert your input into the other units\r\n\t\t\t\tof measurements.\r\n\t\t\t\t&quot;&quot;&quot;);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\twhile (true) {\r\n\t\r\n\t\tSystem.out.print(&quot;Enter your measurement, or 0 to end: &quot;);\r\n\t\tScanner stdio = new Scanner(System.in);\r\n\t\tmeasurement = stdio.nextDouble();\r\n\t\tunits = stdio.next();\r\n\t\tunits = units.toLowerCase();\r\n\t\t\r\n\t\tif (measurement == 0) {\r\n\t\tbreak; \r\n\t\t}\r\n\t\tif (units.equals(&quot;inch&quot;) || units.equals(&quot;inches&quot;)|| units.equals(&quot;in&quot;)) {\r\n\t\tinches = measurement;\r\n\t\t}\r\n\t\telse if (units.equals(&quot;foot&quot;) || units.equals(&quot;feet&quot;)|| units.equals(&quot;ft&quot;)) {\r\n\t\tinches = measurement * 12;\r\n\t\t}\r\n\t\telse if (units.equals(&quot;yard&quot;) || units.equals(&quot;yards&quot;)|| units.equals(&quot;yd&quot;)) {\r\n\t\tinches = measurement * 36;\r\n\t\t}\r\n\t\telse if (units.equals(&quot;mile&quot;) || units.equals(&quot;miles&quot;)|| units.equals(&quot;mi&quot;)) {\r\n\t\tinches = measurement * 12 * 5280;\r\n\t\t}\r\n\t\telse {\r\n                System.out.println(&quot;Sorry, but I dont understand \\&quot;&quot;\r\n\t\t+ units + &quot;\\&quot;.&quot;);\r\n\t\tcontinue; \r\n\t\t}\r\n\t\t\r\n\t\tfeet = inches / 12;\r\n\t\tyards = inches / 36;\r\n\t\tmiles = inches / (12*5280);\r\n\t\t\r\n\t\tSystem.out.println();\r\n\t\tSystem.out.printf(&quot;&quot;&quot;\r\n\t\t\tThats equivalent to:\r\n\t\t\t%14.5g inches\r\n\t\t\t%14.5g feet\r\n\t\t\t%14.5g yards\r\n\t\t\t%14.5g miles\r\n\t\t\t&quot;&quot;&quot;, inches, feet, yards, miles);\r\n\t\tSystem.out.println();\r\n\t\t\t\t\r\n\t\t}\r\n\t\r\n\t}\r\n\t\t\r\n}\r\n```\r\n\r\nI have tried entering parameters into the while statement, other silly attempts, but I am just starting out so it is pretty pointless to share. I would like for something to work like\r\n\r\nif end user does not enter numerical measurement first followed by unit measurement type then \r\nmessage user they are not following directions and to please enter the input with the correct format that has been reasonably dictated.\r\n\r\nfirst input should be a double(measurement) \r\nsecond input should be string(unit)\r\nthe way this book codes it is they are both to be inputted on the same line followed by pressing the enter key.\r\n","title":"How do I message an end user that they are entering the wrong input and/or format without getting an Exception/Crash?","body":"<p>&quot;Eclipse IDE for Java Developers (includes Incubating components) Version: 2023-03 (4.27.0)&quot;\n<a href=\"https://math.hws.edu/javanotes/c3/s5.html\" rel=\"nofollow noreferrer\">Intro to Programming using Java</a> Section 3.5.3</p>\n<p>Sorry for the very long post. This is my first post anywhere about programming. Thanks for any help! I would appreciate any other recommendations if this book is not a good one to learn java from.</p>\n<p>The below is from the above online textbook that I am using to try an learn Java. I have issues with Exceptions in the program. For Example: Once running the program, everything seems to be working fine until I enter a format that the program does not expect. I want it to skip to &quot;else&quot; and print the message if an incorrect format is entered, but for some reason it just Excepts out. The end user is suppose to enter something like &quot;56 inches&quot; or &quot;156 feet&quot; so that it can be converted and display in multiple different units, but if I just enter &quot;inches&quot; it gives me the blow exception because I skipped the measurement variable.</p>\n<p>How do I make this program output a reasonable message to the end user, if they are entering the incorrect format that afterwards places them back at the input directions?</p>\n<pre class=\"lang-java prettyprint-override\"><code>----*Error*---\n**&quot;Enter your measurement, or 0 to end: inches\nException in thread &quot;main&quot; java.util.InputMismatchException\n    at java.base/java.util.Scanner.throwFor(Scanner.java:939)\n    at java.base/java.util.Scanner.next(Scanner.java:1594)\n    at java.base/java.util.Scanner.nextDouble(Scanner.java:2564)\n    at UnitConversionTextBook.main(UnitConversionTextBook.java:22)&quot;**\n</code></pre>\n<p>---Program---</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\n\npublic class UnitConversionTextBook {\npublic static void main(String[] args) {\n    \n    String units; \n    double measurement; \n    double inches, feet, yards, miles; \n    \n        System.out.println(&quot;&quot;&quot;\n                Enter measurements in inches, feet, yards, or miles.\n                Some examples: 1 inch or 17 feet or 2.73 miles\n                You can use the abbreviations: in ft yd mi\n                Please press enter after typing your measurement.\n                I will also convert your input into the other units\n                of measurements.\n                &quot;&quot;&quot;);\n                                                                                                                                                                            \n        while (true) {\n    \n        System.out.print(&quot;Enter your measurement, or 0 to end: &quot;);\n        Scanner stdio = new Scanner(System.in);\n        measurement = stdio.nextDouble();\n        units = stdio.next();\n        units = units.toLowerCase();\n        \n        if (measurement == 0) {\n        break; \n        }\n        if (units.equals(&quot;inch&quot;) || units.equals(&quot;inches&quot;)|| units.equals(&quot;in&quot;)) {\n        inches = measurement;\n        }\n        else if (units.equals(&quot;foot&quot;) || units.equals(&quot;feet&quot;)|| units.equals(&quot;ft&quot;)) {\n        inches = measurement * 12;\n        }\n        else if (units.equals(&quot;yard&quot;) || units.equals(&quot;yards&quot;)|| units.equals(&quot;yd&quot;)) {\n        inches = measurement * 36;\n        }\n        else if (units.equals(&quot;mile&quot;) || units.equals(&quot;miles&quot;)|| units.equals(&quot;mi&quot;)) {\n        inches = measurement * 12 * 5280;\n        }\n        else {\n                System.out.println(&quot;Sorry, but I dont understand \\&quot;&quot;\n        + units + &quot;\\&quot;.&quot;);\n        continue; \n        }\n        \n        feet = inches / 12;\n        yards = inches / 36;\n        miles = inches / (12*5280);\n        \n        System.out.println();\n        System.out.printf(&quot;&quot;&quot;\n            Thats equivalent to:\n            %14.5g inches\n            %14.5g feet\n            %14.5g yards\n            %14.5g miles\n            &quot;&quot;&quot;, inches, feet, yards, miles);\n        System.out.println();\n                \n        }\n    \n    }\n        \n}\n</code></pre>\n<p>I have tried entering parameters into the while statement, other silly attempts, but I am just starting out so it is pretty pointless to share. I would like for something to work like</p>\n<p>if end user does not enter numerical measurement first followed by unit measurement type then\nmessage user they are not following directions and to please enter the input with the correct format that has been reasonably dictated.</p>\n<p>first input should be a double(measurement)\nsecond input should be string(unit)\nthe way this book codes it is they are both to be inputted on the same line followed by pressing the enter key.</p>\n"},{"tags":["java","compiler-errors","mapping","mapper"],"comments":[{"owner":{"account_id":16871523,"reputation":706,"user_id":12199915,"display_name":"Alex"},"score":1,"creation_date":1683440907,"post_id":76192443,"comment_id":134365259,"body_markdown":"You should put `lombok` annotation processor in your `pom`(if its maven project) before `mapstruct` processor","body":"You should put <code>lombok</code> annotation processor in your <code>pom</code>(if its maven project) before <code>mapstruct</code> processor"}],"owner":{"account_id":23027214,"reputation":11,"user_id":17147249,"display_name":"eduardowmu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1683439970,"creation_date":1683439970,"question_id":76192443,"body_markdown":"please I&#39;m not being able to make a simple Mapping struct between some classes in personal simple project. I have a simple Model class named Anime:\r\n\r\n    import lombok.Getter;\r\n    import lombok.NoArgsConstructor;\r\n    import lombok.Setter;\r\n\r\n    import javax.persistence.*;\r\n\r\n    @Getter\r\n    @Setter\r\n    @NoArgsConstructor\r\n    @Entity\r\n    public class Anime {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id;\r\n        @Column(nullable = false)\r\n        private String name;\r\n    }\r\n\r\nAnd I want, for example, to convert this class in a Dto response and convert a Dto request to Model as well. My Dto type classes are these below\r\n\r\n    import lombok.Getter;\r\n    import lombok.NoArgsConstructor;\r\n    import lombok.Setter;\r\n\r\n    @Getter\r\n    @Setter\r\n    @NoArgsConstructor\r\n    public class AnimePostReqDto {\r\n        private Long id;\r\n        private String name;\r\n    }\r\n\r\n    @Getter\r\n    @Setter\r\n    @NoArgsConstructor\r\n    public class AnimeRespDto {\r\n        private Long id;\r\n        private String name;\r\n    }\r\n\r\nAnd finally this interface below is the Mapper:\r\n\r\n    import br.edu.devdojo2.app.dto.AnimePostReqDto;\r\n    import br.edu.devdojo2.app.dto.AnimeRespDto;\r\n    import br.edu.devdojo2.app.model.Anime;\r\n    import org.mapstruct.Mapper;\r\n    import org.mapstruct.Mapping;\r\n\r\n    @Mapper(componentModel = &quot;spring&quot;)\r\n    public interface AnimeMapper {\r\n        @Mapping(source = &quot;reqDto.id&quot;, target = &quot;id&quot;)\r\n        @Mapping(source = &quot;reqDto.name&quot;, target = &quot;name&quot;)\r\n        Anime toModel(AnimePostReqDto reqDto);\r\n\r\n        @Mapping(source = &quot;anime.id&quot;, target = &quot;id&quot;)\r\n        @Mapping(source = &quot;anime.name&quot;, target = &quot;name&quot;)\r\n        AnimeRespDto toRespDto(Anime anime);\r\n    }\r\n\r\nAnd the results when I build my project are:\r\n\r\n    Error:(15,11) java: The type of parameter &quot;reqDto&quot; has no property named &quot;id&quot;.\r\n    Error:(15,11) java: The type of parameter &quot;reqDto&quot; has no property named &quot;name&quot;.\r\n    Error:(19,18) java: The type of parameter &quot;anime&quot; has no property named &quot;id&quot;.\r\n    Error:(19,18) java: The type of parameter &quot;anime&quot; has no property named &quot;name&quot;.\r\n\r\nPlease, could somebody explain me why those errors above happen? Thanks.","title":"How can I do this Mapping works","body":"<p>please I'm not being able to make a simple Mapping struct between some classes in personal simple project. I have a simple Model class named Anime:</p>\n<pre><code>import lombok.Getter;\nimport lombok.NoArgsConstructor;\nimport lombok.Setter;\n\nimport javax.persistence.*;\n\n@Getter\n@Setter\n@NoArgsConstructor\n@Entity\npublic class Anime {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    @Column(nullable = false)\n    private String name;\n}\n</code></pre>\n<p>And I want, for example, to convert this class in a Dto response and convert a Dto request to Model as well. My Dto type classes are these below</p>\n<pre><code>import lombok.Getter;\nimport lombok.NoArgsConstructor;\nimport lombok.Setter;\n\n@Getter\n@Setter\n@NoArgsConstructor\npublic class AnimePostReqDto {\n    private Long id;\n    private String name;\n}\n\n@Getter\n@Setter\n@NoArgsConstructor\npublic class AnimeRespDto {\n    private Long id;\n    private String name;\n}\n</code></pre>\n<p>And finally this interface below is the Mapper:</p>\n<pre><code>import br.edu.devdojo2.app.dto.AnimePostReqDto;\nimport br.edu.devdojo2.app.dto.AnimeRespDto;\nimport br.edu.devdojo2.app.model.Anime;\nimport org.mapstruct.Mapper;\nimport org.mapstruct.Mapping;\n\n@Mapper(componentModel = &quot;spring&quot;)\npublic interface AnimeMapper {\n    @Mapping(source = &quot;reqDto.id&quot;, target = &quot;id&quot;)\n    @Mapping(source = &quot;reqDto.name&quot;, target = &quot;name&quot;)\n    Anime toModel(AnimePostReqDto reqDto);\n\n    @Mapping(source = &quot;anime.id&quot;, target = &quot;id&quot;)\n    @Mapping(source = &quot;anime.name&quot;, target = &quot;name&quot;)\n    AnimeRespDto toRespDto(Anime anime);\n}\n</code></pre>\n<p>And the results when I build my project are:</p>\n<pre><code>Error:(15,11) java: The type of parameter &quot;reqDto&quot; has no property named &quot;id&quot;.\nError:(15,11) java: The type of parameter &quot;reqDto&quot; has no property named &quot;name&quot;.\nError:(19,18) java: The type of parameter &quot;anime&quot; has no property named &quot;id&quot;.\nError:(19,18) java: The type of parameter &quot;anime&quot; has no property named &quot;name&quot;.\n</code></pre>\n<p>Please, could somebody explain me why those errors above happen? Thanks.</p>\n"},{"tags":["java","intellij-idea","intellij-14","intellij-15"],"comments":[{"owner":{"account_id":148440,"reputation":54364,"user_id":360211,"accept_rate":76,"display_name":"weston"},"score":0,"creation_date":1491233582,"post_id":43188513,"comment_id":73450482,"body_markdown":"It&#39;s not running it, it&#39;s compiling it and the whole application must compile before you can run tests.","body":"It&#39;s not running it, it&#39;s compiling it and the whole application must compile before you can run tests."},{"owner":{"account_id":9366057,"reputation":17,"user_id":7729250,"display_name":"Help"},"score":0,"creation_date":1491233683,"post_id":43188513,"comment_id":73450543,"body_markdown":"Must I remove the other folders / work files ? &amp; Upon doing so I got this error : objc[3605]: Class JavaLaunchHelper is implemented in both /Library/Java/JavaVirtualMachines/jdk1.8.0_111.jdk/Contents/Home/bin/java (0x1051c24c0) and /Library/Java/JavaVirtualMachines/jdk1.8.0_111.jdk/Contents/Home/jre/lib/libinstrument.dylib (0x10528c4e0). One of the two will be used. Which one is undefined.","body":"Must I remove the other folders / work files ? &amp; Upon doing so I got this error : objc[3605]: Class JavaLaunchHelper is implemented in both /Library/Java/JavaVirtualMachines/jdk1.8.0_111.jdk/Contents/&zwnj;&#8203;Home/bin/java (0x1051c24c0) and /Library/Java/JavaVirtualMachines/jdk1.8.0_111.jdk/Contents/&zwnj;&#8203;Home/jre/lib/libinst&zwnj;&#8203;rument.dylib (0x10528c4e0). One of the two will be used. Which one is undefined."},{"owner":{"account_id":148440,"reputation":54364,"user_id":360211,"accept_rate":76,"display_name":"weston"},"score":0,"creation_date":1491233802,"post_id":43188513,"comment_id":73450622,"body_markdown":"It sounds like a bit of a mess. I don&#39;t have enough info to help, my best advice would be to go back to the last working version and go forward from there.","body":"It sounds like a bit of a mess. I don&#39;t have enough info to help, my best advice would be to go back to the last working version and go forward from there."},{"owner":{"account_id":148440,"reputation":54364,"user_id":360211,"accept_rate":76,"display_name":"weston"},"score":0,"creation_date":1491233953,"post_id":43188513,"comment_id":73450717,"body_markdown":"What did you use to make the gif by the way?","body":"What did you use to make the gif by the way?"},{"owner":{"account_id":9366057,"reputation":17,"user_id":7729250,"display_name":"Help"},"score":0,"creation_date":1491234118,"post_id":43188513,"comment_id":73450827,"body_markdown":"ScreenFlow , and so its a jdk problem ? apart from the broken class file ?","body":"ScreenFlow , and so its a jdk problem ? apart from the broken class file ?"},{"owner":{"account_id":148440,"reputation":54364,"user_id":360211,"accept_rate":76,"display_name":"weston"},"score":0,"creation_date":1491234499,"post_id":43188513,"comment_id":73451093,"body_markdown":"I never said that it&#39;s a JDK problem. It&#39;s definitely your problem. Don&#39;t ignore the errors. They tell you the exact problem. Method `CostPanel` has no return type. But I think you copied and renamed a class without renaming its constructor.","body":"I never said that it&#39;s a JDK problem. It&#39;s definitely your problem. Don&#39;t ignore the errors. They tell you the exact problem. Method <code>CostPanel</code> has no return type. But I think you copied and renamed a class without renaming its constructor."},{"owner":{"account_id":9366057,"reputation":17,"user_id":7729250,"display_name":"Help"},"score":0,"creation_date":1491234614,"post_id":43188513,"comment_id":73451178,"body_markdown":"I deleated those files to get rid of the problem but i was talking about this:                                                                                                   \nobjc[3605]: Class JavaLaunchHelper is implemented in both /Library/Java/JavaVirtualMachines/jdk1.8.0_111.jdk/Contents/Home/bin/java (0x1051c24c0) and /Library/Java/JavaVirtualMachines/jdk1.8.0_111.jdk/Contents/Home/jre/lib/libinstrument.dylib (0x10528c4e0)","body":"I deleated those files to get rid of the problem but i was talking about this:                                                                                                    objc[3605]: Class JavaLaunchHelper is implemented in both /Library/Java/JavaVirtualMachines/jdk1.8.0_111.jdk/Contents/&zwnj;&#8203;Home/bin/java (0x1051c24c0) and /Library/Java/JavaVirtualMachines/jdk1.8.0_111.jdk/Contents/&zwnj;&#8203;Home/jre/lib/libin&zwnj;&#8203;strument.dylib (0x10528c4e0)"},{"owner":{"account_id":148440,"reputation":54364,"user_id":360211,"accept_rate":76,"display_name":"weston"},"score":2,"creation_date":1491234926,"post_id":43188513,"comment_id":73451369,"body_markdown":"This has gone beyond your original question. Each time you fix one problem and get another, always go back to google,  you&#39;re very unlikely to be the first one to have a problem.","body":"This has gone beyond your original question. Each time you fix one problem and get another, always go back to google,  you&#39;re very unlikely to be the first one to have a problem."}],"answers":[{"tags":[],"owner":{"account_id":5395171,"reputation":3745,"user_id":4296607,"display_name":"JUAN CALVOPINA M"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1491233656,"creation_date":1491233656,"answer_id":43188700,"question_id":43188513,"body_markdown":"This usually happens because before running the test class, the IDE needs to build the project, it found a class that has error and can not complete the test. You can try to fix the `ButtonPanel.java` class and try to run the test again","title":"IntelliJ Running other class files, how do I stop this?","body":"<p>This usually happens because before running the test class, the IDE needs to build the project, it found a class that has error and can not complete the test. You can try to fix the <code>ButtonPanel.java</code> class and try to run the test again</p>\n"},{"tags":[],"owner":{"account_id":148440,"reputation":54364,"user_id":360211,"accept_rate":76,"display_name":"weston"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1491234545,"creation_date":1491233696,"answer_id":43188710,"question_id":43188513,"body_markdown":"It&#39;s not running it, it&#39;s compiling it and the whole application must compile before you can run tests. You must fix the errors to continue.\r\n\r\nDon&#39;t ignore the errors. They tell you the exact problem. Method `CostPanel` has no return type. But I think you copied and renamed a class without renaming its constructor.","title":"IntelliJ Running other class files, how do I stop this?","body":"<p>It's not running it, it's compiling it and the whole application must compile before you can run tests. You must fix the errors to continue.</p>\n\n<p>Don't ignore the errors. They tell you the exact problem. Method <code>CostPanel</code> has no return type. But I think you copied and renamed a class without renaming its constructor.</p>\n"},{"tags":[],"owner":{"account_id":25827503,"reputation":11,"user_id":19565307,"display_name":"Patrick Lau"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658046791,"creation_date":1658046791,"answer_id":73010318,"question_id":43188513,"body_markdown":"I had a similar problem. Don&#39;t click on the run button. Right click on the class you want to run and click run.","title":"IntelliJ Running other class files, how do I stop this?","body":"<p>I had a similar problem. Don't click on the run button. Right click on the class you want to run and click run.</p>\n"}],"owner":{"account_id":9366057,"reputation":17,"user_id":7729250,"display_name":"Help"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5641,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":43188700,"answer_count":3,"score":0,"last_activity_date":1683439631,"creation_date":1491233093,"question_id":43188513,"body_markdown":"![](http://i.imgur.com/eCqMgr9.gif)\r\n\r\nWhy this other class file is running instead of the one I clicked on please help. My Process is included in the gif, I can&#39;t tell why this is occurring.","title":"IntelliJ Running other class files, how do I stop this?","body":"<p><img src=\"https://i.imgur.com/eCqMgr9.gif\" alt=\"\"></p>\n\n<p>Why this other class file is running instead of the one I clicked on please help. My Process is included in the gif, I can't tell why this is occurring.</p>\n"},{"tags":["java","computation","off-by-one"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1559644685,"post_id":56442198,"comment_id":99477722,"body_markdown":"debug your code and find out","body":"debug your code and find out"},{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":2,"creation_date":1559644893,"post_id":56442198,"comment_id":99477836,"body_markdown":"Hard to say without seeing all the values of each variable in each step. Just start your code with the IDEs debugger and you see whats up. Or add a lot of print statements to it. Note that you do integer division, not sure if that is what you want (rounds towards zero).","body":"Hard to say without seeing all the values of each variable in each step. Just start your code with the IDEs debugger and you see whats up. Or add a lot of print statements to it. Note that you do integer division, not sure if that is what you want (rounds towards zero)."},{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":4,"creation_date":1559644985,"post_id":56442198,"comment_id":99477883,"body_markdown":"This is an odd way to try and calculate something that should not require a loop.","body":"This is an odd way to try and calculate something that should not require a loop."},{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":3,"creation_date":1559645097,"post_id":56442198,"comment_id":99477928,"body_markdown":"Note that you could just do `return dadYears - 2 * sonYears;`.","body":"Note that you could just do <code>return dadYears - 2 * sonYears;</code>."},{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1559645192,"post_id":56442198,"comment_id":99477986,"body_markdown":"Do it the other way round: Double up the age of the son, check if the father is older or younger than the result and then loop the years (either increment or decrement).","body":"Do it the other way round: Double up the age of the son, check if the father is older or younger than the result and then loop the years (either increment or decrement)."},{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":1,"creation_date":1559645238,"post_id":56442198,"comment_id":99478010,"body_markdown":"Also note that your i starts at 0, not 1. Not sure if thats what you want, likewise does your loop go to &lt;= and not &lt;. Again, unsure what you want, but all of that can lead to your off-by-one error.","body":"Also note that your i starts at 0, not 1. Not sure if thats what you want, likewise does your loop go to &lt;= and not &lt;. Again, unsure what you want, but all of that can lead to your off-by-one error."},{"owner":{"account_id":2513781,"reputation":1109,"user_id":2185630,"display_name":"dbl"},"score":4,"creation_date":1559645322,"post_id":56442198,"comment_id":99478055,"body_markdown":"Just sayin&#39; -&gt; OP has no idea how to calculate the task and i doubt this piece of code is of his own. For input `30, 7`, the answer is `+16` because by the time the father is 46 years old, the child will be at the age of 23 or twice less than his parent...","body":"Just sayin&#39; -&gt; OP has no idea how to calculate the task and i doubt this piece of code is of his own. For input <code>30, 7</code>, the answer is <code>+16</code> because by the time the father is 46 years old, the child will be at the age of 23 or twice less than his parent..."}],"answers":[{"tags":[],"owner":{"account_id":7741087,"reputation":1004,"user_id":5860808,"display_name":"pankaj"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1559645539,"creation_date":1559645539,"answer_id":56442420,"question_id":56442198,"body_markdown":"Let father&#39;s current age = f\r\n\r\nson&#39;s current age = s\r\n\r\nlet x years back, father was twice as old as son.\r\n\r\nthen 2(s-x) = (f-x)\r\n=&gt; x = 2*s - f\r\n\r\nNote: if x comes negative, then after x years , father will be twice as old as son(test for input[25,5])\r\n\r\n    public static void main(String[] args) {\r\n        int x = twiceAsOld(25, 5);\r\n        System.out.println(x);\r\n      }\r\n    \r\n      public static int twiceAsOld(int dadYears, int sonYears) {\r\n        return 2*sonYears - dadYears;\r\n        \r\n      }","title":"Age computation always off by one","body":"<p>Let father's current age = f</p>\n\n<p>son's current age = s</p>\n\n<p>let x years back, father was twice as old as son.</p>\n\n<p>then 2(s-x) = (f-x)\n=> x = 2*s - f</p>\n\n<p>Note: if x comes negative, then after x years , father will be twice as old as son(test for input[25,5])</p>\n\n<pre><code>public static void main(String[] args) {\n    int x = twiceAsOld(25, 5);\n    System.out.println(x);\n  }\n\n  public static int twiceAsOld(int dadYears, int sonYears) {\n    return 2*sonYears - dadYears;\n\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16040625,"reputation":39,"user_id":11577119,"display_name":"Surabhi Bhawsar"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1559647039,"creation_date":1559647039,"answer_id":56442799,"question_id":56442198,"body_markdown":" Below is the sample code to calculate how many years ago father&#39;s age was twice as son with sample data. \r\n\r\n     public static void main (String args[]) {\r\n        int sonAge = 10;\r\n        int fatherAge = 24;\r\n        int yearsAgo = 0;\r\n        while(sonAge*2 != fatherAge &amp;&amp; fatherAge&gt;0 ) {\r\n            yearsAgo++;\r\n            fatherAge = fatherAge-1;\r\n        }\r\n        System.out.println(yearsAgo);\r\n    }","title":"Age computation always off by one","body":"<p>Below is the sample code to calculate how many years ago father's age was twice as son with sample data. </p>\n\n<pre><code> public static void main (String args[]) {\n    int sonAge = 10;\n    int fatherAge = 24;\n    int yearsAgo = 0;\n    while(sonAge*2 != fatherAge &amp;&amp; fatherAge&gt;0 ) {\n        yearsAgo++;\n        fatherAge = fatherAge-1;\n    }\n    System.out.println(yearsAgo);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28520793,"reputation":1,"user_id":21829533,"display_name":" "},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683438369,"creation_date":1683438369,"answer_id":76192368,"question_id":56442198,"body_markdown":"Your function takes two arguments:\r\n\r\ncurrent father&#39;s age (years)\r\ncurrent age of his son (years)\r\nalculate how many years ago the father was twice as old as his son (or in how many years he will be twice as old). The answer is always greater or equal to 0, no matter if it was in the past or it is in the future.\r\n","title":"Age computation always off by one","body":"<p>Your function takes two arguments:</p>\n<p>current father's age (years)\ncurrent age of his son (years)\nalculate how many years ago the father was twice as old as his son (or in how many years he will be twice as old). The answer is always greater or equal to 0, no matter if it was in the past or it is in the future.</p>\n"}],"owner":{"account_id":15716748,"reputation":3,"user_id":11340767,"display_name":"Nikolai"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3539,"favorite_count":0,"down_vote_count":5,"up_vote_count":0,"accepted_answer_id":56442420,"answer_count":3,"score":-5,"last_activity_date":1683438369,"creation_date":1559644611,"question_id":56442198,"body_markdown":"The task is to create a function.\r\n\r\nThe function takes two arguments:\r\n\r\n* current father&#39;s age (years)\r\n* current age of his son (years)\r\n\r\nalculate how many years ago the father was twice as old as his son (or in how many years he will be twice as old).\r\n\r\n```java\r\npublic static int TwiceAsOld(int dadYears, int sonYears){\r\n\r\n    int dadYearsTemp = dadYears;\r\n    int years = 0;\r\n    int yearsAgo = 0;\r\n\r\n    for (int i = 0; i &lt;= dadYears; i++ ){\r\n        if (dadYearsTemp / 2 == sonYears) {\r\n            years = dadYearsTemp;\r\n            yearsAgo = dadYears - years;\r\n            System.out.println(yearsAgo);\r\n            return yearsAgo;\r\n        }\r\n        else if (sonYears * 2 &gt; dadYears) {\r\n            years = (sonYears * 2) - dadYears;\r\n            System.out.println(years);\r\n            return years;\r\n        }\r\n        dadYearsTemp = dadYearsTemp -1;\r\n    }\r\n\r\n    return 42; // The meaning of life\r\n\r\n}\r\n```\r\n\r\nFor example, with an input of (30, 7) I would expect my function to return 16, because 16 years ago the father was 14, which means he was twice as old as his son now (7). But my function returns 15. \r\n\r\nI guess it&#39;s not a big mistake but I honestly can&#39;t find out why it doesnt work, so I would apreciate some help.","title":"Age computation always off by one","body":"<p>The task is to create a function.</p>\n\n<p>The function takes two arguments:</p>\n\n<ul>\n<li>current father's age (years)</li>\n<li>current age of his son (years)</li>\n</ul>\n\n<p>alculate how many years ago the father was twice as old as his son (or in how many years he will be twice as old).</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public static int TwiceAsOld(int dadYears, int sonYears){\n\n    int dadYearsTemp = dadYears;\n    int years = 0;\n    int yearsAgo = 0;\n\n    for (int i = 0; i &lt;= dadYears; i++ ){\n        if (dadYearsTemp / 2 == sonYears) {\n            years = dadYearsTemp;\n            yearsAgo = dadYears - years;\n            System.out.println(yearsAgo);\n            return yearsAgo;\n        }\n        else if (sonYears * 2 &gt; dadYears) {\n            years = (sonYears * 2) - dadYears;\n            System.out.println(years);\n            return years;\n        }\n        dadYearsTemp = dadYearsTemp -1;\n    }\n\n    return 42; // The meaning of life\n\n}\n</code></pre>\n\n<p>For example, with an input of (30, 7) I would expect my function to return 16, because 16 years ago the father was 14, which means he was twice as old as his son now (7). But my function returns 15. </p>\n\n<p>I guess it's not a big mistake but I honestly can't find out why it doesnt work, so I would apreciate some help.</p>\n"},{"tags":["java","selenium","tosca"],"owner":{"account_id":15995811,"reputation":21,"user_id":11543759,"display_name":"whoisdani"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":899,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1683437724,"creation_date":1559051221,"question_id":56343691,"body_markdown":"I am trying to run an existing Selenium Script within Tosca. But there seems to be an issue and none of the existing articles really help me. \r\n\r\n\r\nI used the standard tbox modules &quot;Start Selenium Server&quot; and &quot;Run Selenium Scripts&quot;. In those modules I changed the path to the .jar file which I created with maven. I have written the testcases with junit 4 and used chrome webdriver to execute them. When I execute them in IntelliJ they work perfectly fine but as soon as I try to import them Tosca fails to execute. \r\nThe code looks like this:\r\n\r\n\r\n\r\n\r\n    public class F {\r\n\r\n    private WebDriver driver;\r\n    private JavascriptExecutor js;\r\n    private WebDriverWait wait;\r\n\r\n\r\n    @Before\r\n    public void init(){\r\n        System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;P:/Documents/seflx/chromedriver.exe&quot;);\r\n        driver = new ChromeDriver();\r\n        driver.manage().timeouts().implicitlyWait(30, TimeUnit.SECONDS);\r\n        js = (JavascriptExecutor) driver;\r\n        wait = new WebDriverWait(driver, 30);\r\n        driver.manage().window().maximize();\r\n        driver.get(&quot;url&quot;);\r\n    }\r\n\r\n    @Test\r\n    public void searchSubmission() {\r\n        driver.switchTo().defaultContent();\r\n        driver.switchTo().frame(&quot;workflow_frame_1&quot;);\r\n        WebElement initScreen = driver.findElement(By.className(&quot;loading-screen&quot;));\r\n        WebElement loadingScreen = driver.findElement(By.xpath(&quot;/html&quot;));\r\n    }\r\n\r\nAs you can see in the code, I have no main class, is this the problem? Because I read in the Tosca documentary that junit is supported. \r\n\r\nWhat I expect is that within tosca the selenium jar file is executed. The current outcome I get is this: \r\n   \r\n     Selenium Server started successfully\r\n     Run Selenium Scripts: startIndex cannot be larger than length of string.\r\n     Parameter name: startIndex\r\n\r\n```\r\nSystem.ArgumentOutOfRangeException: startIndex cannot be larger than length of string.\r\nParameter name: startIndex\r\n   at System.String.Substring(Int32 startIndex, Int32 length)\r\n   at Tricentis.Automation.SpecialExecutionTasks.SeleniumExecution.ExecuteSeleniumTestsSpecialExecutionTask.AnalyzeJunitTestResult(String resultMessage, String outputHtml, String projectPathToLog)\r\n   at Tricentis.Automation.SpecialExecutionTasks.SeleniumExecution.ExecuteSeleniumTestsSpecialExecutionTask.Execute(ISpecialExecutionTaskTestAction testAction)\r\n   at Tricentis.Automation.SpecialExecutionTasks.SeleniumExecution.ExecuteSeleniumTestsSpecialExecutionTask.ExecuteTask(ISpecialExecutionTaskTestAction testAction)\r\n   at .()\r\n   at .()\r\n   at Tricentis.Automation.Execution.ItemExecutor`1.Execute()\r\n```\r\n[screenshot of tosca output][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/eprX9.png\r\n","title":"Execute Selenium Script with Tosca","body":"<p>I am trying to run an existing Selenium Script within Tosca. But there seems to be an issue and none of the existing articles really help me. </p>\n\n<p>I used the standard tbox modules \"Start Selenium Server\" and \"Run Selenium Scripts\". In those modules I changed the path to the .jar file which I created with maven. I have written the testcases with junit 4 and used chrome webdriver to execute them. When I execute them in IntelliJ they work perfectly fine but as soon as I try to import them Tosca fails to execute. \nThe code looks like this:</p>\n\n<pre><code>public class F {\n\nprivate WebDriver driver;\nprivate JavascriptExecutor js;\nprivate WebDriverWait wait;\n\n\n@Before\npublic void init(){\n    System.setProperty(\"webdriver.chrome.driver\", \"P:/Documents/seflx/chromedriver.exe\");\n    driver = new ChromeDriver();\n    driver.manage().timeouts().implicitlyWait(30, TimeUnit.SECONDS);\n    js = (JavascriptExecutor) driver;\n    wait = new WebDriverWait(driver, 30);\n    driver.manage().window().maximize();\n    driver.get(\"url\");\n}\n\n@Test\npublic void searchSubmission() {\n    driver.switchTo().defaultContent();\n    driver.switchTo().frame(\"workflow_frame_1\");\n    WebElement initScreen = driver.findElement(By.className(\"loading-screen\"));\n    WebElement loadingScreen = driver.findElement(By.xpath(\"/html\"));\n}\n</code></pre>\n\n<p>As you can see in the code, I have no main class, is this the problem? Because I read in the Tosca documentary that junit is supported. </p>\n\n<p>What I expect is that within tosca the selenium jar file is executed. The current outcome I get is this: </p>\n\n<pre><code> Selenium Server started successfully\n Run Selenium Scripts: startIndex cannot be larger than length of string.\n Parameter name: startIndex\n</code></pre>\n\n<pre><code>System.ArgumentOutOfRangeException: startIndex cannot be larger than length of string.\nParameter name: startIndex\n   at System.String.Substring(Int32 startIndex, Int32 length)\n   at Tricentis.Automation.SpecialExecutionTasks.SeleniumExecution.ExecuteSeleniumTestsSpecialExecutionTask.AnalyzeJunitTestResult(String resultMessage, String outputHtml, String projectPathToLog)\n   at Tricentis.Automation.SpecialExecutionTasks.SeleniumExecution.ExecuteSeleniumTestsSpecialExecutionTask.Execute(ISpecialExecutionTaskTestAction testAction)\n   at Tricentis.Automation.SpecialExecutionTasks.SeleniumExecution.ExecuteSeleniumTestsSpecialExecutionTask.ExecuteTask(ISpecialExecutionTaskTestAction testAction)\n   at .()\n   at .()\n   at Tricentis.Automation.Execution.ItemExecutor`1.Execute()\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/eprX9.png\" rel=\"nofollow noreferrer\">screenshot of tosca output</a></p>\n"},{"tags":["java","oop","collections"],"comments":[{"owner":{"account_id":27505,"reputation":32693,"user_id":72673,"accept_rate":72,"display_name":"Maurice Perry"},"score":1,"creation_date":1271409634,"post_id":2651819,"comment_id":2667918,"body_markdown":"event Set&lt;Map.Entry&lt;K,V&gt;&gt; actually","body":"event Set&lt;Map.Entry&lt;K,V&gt;&gt; actually"},{"owner":{"account_id":109541,"reputation":4321,"user_id":290182,"accept_rate":92,"display_name":"beldaz"},"score":4,"creation_date":1368217261,"post_id":2651819,"comment_id":23666736,"body_markdown":"It just doesn&#39;t. It&#39;s based on an opinion (as described in the Design FAQ), rather than being a logical conclusion. For an alternative approach look at the design of containers in the C++ STL (http://www.sgi.com/tech/stl/table_of_contents.html) which is based upon Stepanov&#39;s thorough and brilliant analysis.","body":"It just doesn&#39;t. It&#39;s based on an opinion (as described in the Design FAQ), rather than being a logical conclusion. For an alternative approach look at the design of containers in the C++ STL (<a href=\"http://www.sgi.com/tech/stl/table_of_contents.html\" rel=\"nofollow noreferrer\">sgi.com/tech/stl/table_of_contents.html</a>) which is based upon Stepanov&#39;s thorough and brilliant analysis."},{"owner":{"account_id":13677323,"reputation":3369,"user_id":9868445,"display_name":"aderchox"},"score":0,"creation_date":1618323526,"post_id":2651819,"comment_id":118563601,"body_markdown":"The OP has changed their question, I&#39;m not sure if it&#39;s permitted in the SO rules. For the impatient, there&#39;s a succinct answer to the latter question (why it can&#39;t inherit from `Set&lt;Map.Entry&lt;K,V&gt;&gt;`) in the @einpoklum&#39;s answer. But for the initial question (as in the title), I&#39;ve not found any good answers here yet, except the `by design` quoted from the FAQ.","body":"The OP has changed their question, I&#39;m not sure if it&#39;s permitted in the SO rules. For the impatient, there&#39;s a succinct answer to the latter question (why it can&#39;t inherit from <code>Set&lt;Map.Entry&lt;K,V&gt;&gt;</code>) in the @einpoklum&#39;s answer. But for the initial question (as in the title), I&#39;ve not found any good answers here yet, except the <code>by design</code> quoted from the FAQ."}],"answers":[{"tags":[],"owner":{"account_id":9867,"reputation":618181,"user_id":18393,"accept_rate":82,"display_name":"cletus"},"down_vote_count":1,"up_vote_count":142,"is_accepted":true,"score":141,"last_activity_date":1625882266,"creation_date":1271409618,"answer_id":2651833,"question_id":2651819,"body_markdown":"From the [Java Collections API Design FAQ][1]:\r\n\r\n&gt; ### Why doesn&#39;t Map extend Collection?\r\n&gt; \r\n&gt; This was by design. We feel that\r\n&gt; mappings are not collections and\r\n&gt; collections are not mappings. Thus, it\r\n&gt; makes little sense for Map to extend\r\n&gt; the Collection interface (or vice\r\n&gt; versa).\r\n&gt; \r\n&gt; If a Map is a Collection, what are the\r\n&gt; elements? The only reasonable answer\r\n&gt; is &quot;Key-value pairs&quot;, but this\r\n&gt; provides a very limited (and not\r\n&gt; particularly useful) Map abstraction.\r\n&gt; You can&#39;t ask what value a given key\r\n&gt; maps to, nor can you delete the entry\r\n&gt; for a given key without knowing what\r\n&gt; value it maps to.\r\n&gt; \r\n&gt; Collection could be made to extend\r\n&gt; Map, but this raises the question:\r\n&gt; what are the keys? There&#39;s no really\r\n&gt; satisfactory answer, and forcing one\r\n&gt; leads to an unnatural interface.\r\n&gt; \r\n&gt; Maps can be viewed as Collections (of\r\n&gt; keys, values, or pairs), and this fact\r\n&gt; is reflected in the three &quot;Collection\r\n&gt; view operations&quot; on Maps (keySet,\r\n&gt; entrySet, and values). While it is, in\r\n&gt; principle, possible to view a List as\r\n&gt; a Map mapping indices to elements,\r\n&gt; this has the nasty property that\r\n&gt; deleting an element from the List\r\n&gt; changes the Key associated with every\r\n&gt; element before the deleted element.\r\n&gt; That&#39;s why we don&#39;t have a map view\r\n&gt; operation on Lists.\r\n\r\n**Update:** I think the quote answers most of the questions. It&#39;s worth stressing the part about a collection of entries not being a particularly useful abstraction. For example:\r\n\r\n    Set&lt;Map.Entry&lt;String,String&gt;&gt;\r\n\r\nwould allow:\r\n\r\n    set.add(entry(&quot;hello&quot;, &quot;world&quot;));\r\n    set.add(entry(&quot;hello&quot;, &quot;world 2&quot;));\r\n\r\n(assuming an `entry()` method that creates a `Map.Entry` instance)\r\n\r\n`Map`s require unique keys so this would violate this. Or if you impose unique keys on a `Set` of entries, it&#39;s not really a `Set` in the general sense. It&#39;s a `Set` with further restrictions.\r\n\r\nArguably you could say the `equals()`/`hashCode()` relationship for `Map.Entry` was purely on the key but even that has issues. More importantly, does it really add any value? You may find this abstraction breaks down once you start looking at the corner cases.\r\n\r\nIt&#39;s worth noting that the `HashSet` is actually implemented as a `HashMap`, not the other way around. This is purely an implementation detail but is interesting nonetheless.\r\n\r\nThe main reason for `entrySet()` to exist is to simplify traversal so you don&#39;t have to traverse the keys and then do a lookup of the key. Don&#39;t take it as prima facie evidence that a `Map` should be a `Set` of entries (imho).\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/technotes/guides/collections/designfaq.html#a14\r\n\r\n","title":"Why doesn&#39;t Java Map extend Collection?","body":"<p>From the <a href=\"http://docs.oracle.com/javase/8/docs/technotes/guides/collections/designfaq.html#a14\" rel=\"noreferrer\">Java Collections API Design FAQ</a>:</p>\n<blockquote>\n<h3>Why doesn't Map extend Collection?</h3>\n<p>This was by design. We feel that\nmappings are not collections and\ncollections are not mappings. Thus, it\nmakes little sense for Map to extend\nthe Collection interface (or vice\nversa).</p>\n<p>If a Map is a Collection, what are the\nelements? The only reasonable answer\nis &quot;Key-value pairs&quot;, but this\nprovides a very limited (and not\nparticularly useful) Map abstraction.\nYou can't ask what value a given key\nmaps to, nor can you delete the entry\nfor a given key without knowing what\nvalue it maps to.</p>\n<p>Collection could be made to extend\nMap, but this raises the question:\nwhat are the keys? There's no really\nsatisfactory answer, and forcing one\nleads to an unnatural interface.</p>\n<p>Maps can be viewed as Collections (of\nkeys, values, or pairs), and this fact\nis reflected in the three &quot;Collection\nview operations&quot; on Maps (keySet,\nentrySet, and values). While it is, in\nprinciple, possible to view a List as\na Map mapping indices to elements,\nthis has the nasty property that\ndeleting an element from the List\nchanges the Key associated with every\nelement before the deleted element.\nThat's why we don't have a map view\noperation on Lists.</p>\n</blockquote>\n<p><strong>Update:</strong> I think the quote answers most of the questions. It's worth stressing the part about a collection of entries not being a particularly useful abstraction. For example:</p>\n<pre><code>Set&lt;Map.Entry&lt;String,String&gt;&gt;\n</code></pre>\n<p>would allow:</p>\n<pre><code>set.add(entry(&quot;hello&quot;, &quot;world&quot;));\nset.add(entry(&quot;hello&quot;, &quot;world 2&quot;));\n</code></pre>\n<p>(assuming an <code>entry()</code> method that creates a <code>Map.Entry</code> instance)</p>\n<p><code>Map</code>s require unique keys so this would violate this. Or if you impose unique keys on a <code>Set</code> of entries, it's not really a <code>Set</code> in the general sense. It's a <code>Set</code> with further restrictions.</p>\n<p>Arguably you could say the <code>equals()</code>/<code>hashCode()</code> relationship for <code>Map.Entry</code> was purely on the key but even that has issues. More importantly, does it really add any value? You may find this abstraction breaks down once you start looking at the corner cases.</p>\n<p>It's worth noting that the <code>HashSet</code> is actually implemented as a <code>HashMap</code>, not the other way around. This is purely an implementation detail but is interesting nonetheless.</p>\n<p>The main reason for <code>entrySet()</code> to exist is to simplify traversal so you don't have to traverse the keys and then do a lookup of the key. Don't take it as prima facie evidence that a <code>Map</code> should be a <code>Set</code> of entries (imho).</p>\n"},{"tags":[],"owner":{"account_id":10987,"reputation":50685,"user_id":21005,"accept_rate":78,"display_name":"Mnementh"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1271412166,"creation_date":1271412166,"answer_id":2652043,"question_id":2651819,"body_markdown":"The answer of cletus is good, but I want to add a semantic approach. To combine both makes no sense, think of the case you add a key-value-pair via the collection interface and the key already exists. The Map-interface allows only one value associated with the key. But if you automatically remove the existing entry with the same key, the collection has after the add the same size as before - very unexpected for a collection.","title":"Why doesn&#39;t Java Map extend Collection?","body":"<p>The answer of cletus is good, but I want to add a semantic approach. To combine both makes no sense, think of the case you add a key-value-pair via the collection interface and the key already exists. The Map-interface allows only one value associated with the key. But if you automatically remove the existing entry with the same key, the collection has after the add the same size as before - very unexpected for a collection.</p>\n"},{"tags":[],"owner":{"account_id":83889,"reputation":26612,"user_id":234901,"accept_rate":97,"display_name":"Enno Shioji"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1271413424,"creation_date":1271412673,"answer_id":2652078,"question_id":2651819,"body_markdown":"&gt; Exactly, `interface Map&lt;K,V&gt; extends\r\n&gt; Set&lt;Map.Entry&lt;K,V&gt;&gt;` would be great!\r\n\r\nActually, if it were `implements Map&lt;K,V&gt;, Set&lt;Map.Entry&lt;K,V&gt;&gt;`, then I tend to agree.. It seems even natural. But that doesn&#39;t work very well, right? Let&#39;s say we have `HashMap implements Map&lt;K,V&gt;, Set&lt;Map.Entry&lt;K,V&gt;`, `LinkedHashMap implements Map&lt;K,V&gt;, Set&lt;Map.Entry&lt;K,V&gt;` etc... that is all good, but if you had `entrySet()`, nobody will forget to implement that method, and you can be sure that you can get entrySet for any Map, whereas you aren&#39;t if you are hoping that the implementor has implemented both interfaces...\r\n\r\nThe reason I don&#39;t want to have `interface Map&lt;K,V&gt; extends Set&lt;Map.Entry&lt;K,V&gt;&gt;` is simply, because there will be more methods. And after all, they are different things, right? Also very practically, if I hit `map.` in IDE, I don&#39;t want to see `.remove(Object obj)`, and `.remove(Map.Entry&lt;K,V&gt; entry)` because I can&#39;t do `hit ctrl+space, r, return` and be done with it.   \r\n\r\n","title":"Why doesn&#39;t Java Map extend Collection?","body":"<blockquote>\n  <p>Exactly, <code>interface Map&lt;K,V&gt; extends\n  Set&lt;Map.Entry&lt;K,V&gt;&gt;</code> would be great!</p>\n</blockquote>\n\n<p>Actually, if it were <code>implements Map&lt;K,V&gt;, Set&lt;Map.Entry&lt;K,V&gt;&gt;</code>, then I tend to agree.. It seems even natural. But that doesn't work very well, right? Let's say we have <code>HashMap implements Map&lt;K,V&gt;, Set&lt;Map.Entry&lt;K,V&gt;</code>, <code>LinkedHashMap implements Map&lt;K,V&gt;, Set&lt;Map.Entry&lt;K,V&gt;</code> etc... that is all good, but if you had <code>entrySet()</code>, nobody will forget to implement that method, and you can be sure that you can get entrySet for any Map, whereas you aren't if you are hoping that the implementor has implemented both interfaces...</p>\n\n<p>The reason I don't want to have <code>interface Map&lt;K,V&gt; extends Set&lt;Map.Entry&lt;K,V&gt;&gt;</code> is simply, because there will be more methods. And after all, they are different things, right? Also very practically, if I hit <code>map.</code> in IDE, I don't want to see <code>.remove(Object obj)</code>, and <code>.remove(Map.Entry&lt;K,V&gt; entry)</code> because I can't do <code>hit ctrl+space, r, return</code> and be done with it.   </p>\n"},{"tags":[],"owner":{"account_id":76005,"reputation":38195,"user_id":217862,"accept_rate":64,"display_name":"ewernli"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1354747824,"creation_date":1271412683,"answer_id":2652083,"question_id":2651819,"body_markdown":"I guess the *why* is subjective.\r\n\r\nIn C#, I think `Dictionary` extends or at least implements a collection:\r\n\r\n    public class Dictionary&lt;TKey, TValue&gt; : IDictionary&lt;TKey, TValue&gt;, \r\n    \tICollection&lt;KeyValuePair&lt;TKey, TValue&gt;&gt;, IEnumerable&lt;KeyValuePair&lt;TKey, TValue&gt;&gt;, \r\n    \tIDictionary, ICollection, IEnumerable, ISerializable, IDeserializationCallback\r\n\r\nIn Pharo Smalltak as well: \r\n\r\n    Collection subclass: #Set\r\n    Set subclass: #Dictionary\r\n\r\nBut there is an asymmetry with some methods. For instance, `collect:` will takes association (the equivalent of an entry), while `do:` take the values. They provide another method `keysAndValuesDo:` to iterate the dictionary by entry. `Add:` takes an association, but `remove:` has been &quot;suppressed&quot;:\r\n\r\n    remove: anObject\r\n    self shouldNotImplement \r\n\r\nSo it&#39;s definitively doable, but leads to some other issues regarding the class hierarchy. \r\n\r\nWhat is better is subjective.\r\n","title":"Why doesn&#39;t Java Map extend Collection?","body":"<p>I guess the <em>why</em> is subjective.</p>\n\n<p>In C#, I think <code>Dictionary</code> extends or at least implements a collection:</p>\n\n<pre><code>public class Dictionary&lt;TKey, TValue&gt; : IDictionary&lt;TKey, TValue&gt;, \n    ICollection&lt;KeyValuePair&lt;TKey, TValue&gt;&gt;, IEnumerable&lt;KeyValuePair&lt;TKey, TValue&gt;&gt;, \n    IDictionary, ICollection, IEnumerable, ISerializable, IDeserializationCallback\n</code></pre>\n\n<p>In Pharo Smalltak as well: </p>\n\n<pre><code>Collection subclass: #Set\nSet subclass: #Dictionary\n</code></pre>\n\n<p>But there is an asymmetry with some methods. For instance, <code>collect:</code> will takes association (the equivalent of an entry), while <code>do:</code> take the values. They provide another method <code>keysAndValuesDo:</code> to iterate the dictionary by entry. <code>Add:</code> takes an association, but <code>remove:</code> has been \"suppressed\":</p>\n\n<pre><code>remove: anObject\nself shouldNotImplement \n</code></pre>\n\n<p>So it's definitively doable, but leads to some other issues regarding the class hierarchy. </p>\n\n<p>What is better is subjective.</p>\n"},{"tags":[],"owner":{"account_id":60200,"reputation":479675,"user_id":179910,"display_name":"Jerry Coffin"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1271447466,"creation_date":1271447466,"answer_id":2655737,"question_id":2651819,"body_markdown":"While you&#39;ve gotten a number of answers that cover your question fairly directly, I think it might be useful to step back a bit, and look at the question a bit more generally. That is, not to look specifically at how the Java library happens to be written, and look at why it&#39;s written that way.\r\n\r\nThe problem here is that inheritance only models *one* type of commonality. If you pick out two things that both seem &quot;collection-like&quot;, you can probably pick out a 8 or 10 things they have in common. If you pick out a different pair of &quot;collection-like&quot; things, they&#39;ll also 8 or 10 things in common -- but they won&#39;t be the *same* 8 or 10 things as the first pair.\r\n\r\nIf you look at a dozen or so different &quot;collection-like&quot; things, virtually every one of them will probably have something like 8 or 10 characteristics in common with at least one other one -- but if you look at what&#39;s shared across *every* one of them, you&#39;re left with practically nothing. \r\n\r\nThis is a situation that inheritance (especially single inheritance) just doesn&#39;t model well. There&#39;s no clean dividing line between which of those are really collections and which aren&#39;t -- but if you want to define a meaningful Collection class, you&#39;re stuck with leaving some of them out. If you leave only a few of them out, your Collection class will only be able to provide quite a sparse interface. If you leave more out, you&#39;ll be able to give it a richer interface.\r\n\r\nSome also take the option of basically saying: &quot;this type of collection supports operation X, but you&#39;re not allowed to use it, by deriving from a base class that defines X, but attempting to use the derived class&#39; X fails (e.g., by throwing an exception).\r\n\r\nThat still leaves one problem: almost regardless of which you leave out and which you put in, you&#39;re going to have to draw a hard line between what classes are in and what are out. No matter where you draw that line, you&#39;re going to be left with a clear, rather artificial, division between some things that are *quite* similar.","title":"Why doesn&#39;t Java Map extend Collection?","body":"<p>While you've gotten a number of answers that cover your question fairly directly, I think it might be useful to step back a bit, and look at the question a bit more generally. That is, not to look specifically at how the Java library happens to be written, and look at why it's written that way.</p>\n\n<p>The problem here is that inheritance only models <em>one</em> type of commonality. If you pick out two things that both seem \"collection-like\", you can probably pick out a 8 or 10 things they have in common. If you pick out a different pair of \"collection-like\" things, they'll also 8 or 10 things in common -- but they won't be the <em>same</em> 8 or 10 things as the first pair.</p>\n\n<p>If you look at a dozen or so different \"collection-like\" things, virtually every one of them will probably have something like 8 or 10 characteristics in common with at least one other one -- but if you look at what's shared across <em>every</em> one of them, you're left with practically nothing. </p>\n\n<p>This is a situation that inheritance (especially single inheritance) just doesn't model well. There's no clean dividing line between which of those are really collections and which aren't -- but if you want to define a meaningful Collection class, you're stuck with leaving some of them out. If you leave only a few of them out, your Collection class will only be able to provide quite a sparse interface. If you leave more out, you'll be able to give it a richer interface.</p>\n\n<p>Some also take the option of basically saying: \"this type of collection supports operation X, but you're not allowed to use it, by deriving from a base class that defines X, but attempting to use the derived class' X fails (e.g., by throwing an exception).</p>\n\n<p>That still leaves one problem: almost regardless of which you leave out and which you put in, you're going to have to draw a hard line between what classes are in and what are out. No matter where you draw that line, you're going to be left with a clear, rather artificial, division between some things that are <em>quite</em> similar.</p>\n"},{"tags":[],"owner":{"account_id":162781,"reputation":9602,"user_id":384464,"display_name":"xagyg"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1278509758,"creation_date":1278509758,"answer_id":3195202,"question_id":2651819,"body_markdown":"Java collections are broken. There is a missing interface, that of Relation. Hence, Map extends Relation extends Set. Relations (also called multi-maps) have unique name-value pairs. Maps (aka &quot;Functions&quot;), have unique names (or keys) which of course map to values. Sequences extend Maps (where each key is an integer &gt; 0). Bags (or multi-sets) extend Maps (where each key is an element and each value is the number of times the element appears in the bag).\r\n\r\n \r\n\r\nThis structure would allow intersection, union etc. of a range of &quot;collections&quot;. Hence, the hierarchy should be:\r\n\r\n \r\n\r\n                                    Set\r\n\r\n                                     |\r\n\r\n                                  Relation\r\n\r\n                                     |\r\n\r\n                                    Map\r\n\r\n                                    / \\\r\n\r\n                                 Bag Sequence\r\n\r\n \r\n\r\nSun/Oracle/Java ppl - please get it right next time. Thanks.\r\n","title":"Why doesn&#39;t Java Map extend Collection?","body":"<p>Java collections are broken. There is a missing interface, that of Relation. Hence, Map extends Relation extends Set. Relations (also called multi-maps) have unique name-value pairs. Maps (aka \"Functions\"), have unique names (or keys) which of course map to values. Sequences extend Maps (where each key is an integer > 0). Bags (or multi-sets) extend Maps (where each key is an element and each value is the number of times the element appears in the bag).</p>\n\n<p>This structure would allow intersection, union etc. of a range of \"collections\". Hence, the hierarchy should be:</p>\n\n<pre><code>                                Set\n\n                                 |\n\n                              Relation\n\n                                 |\n\n                                Map\n\n                                / \\\n\n                             Bag Sequence\n</code></pre>\n\n<p>Sun/Oracle/Java ppl - please get it right next time. Thanks.</p>\n"},{"tags":[],"owner":{"account_id":514136,"reputation":120958,"user_id":1593077,"accept_rate":49,"display_name":"einpoklum"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1424544738,"creation_date":1424544388,"answer_id":28649822,"question_id":2651819,"body_markdown":"`Map&lt;K,V&gt;` should not extend `Set&lt;Map.Entry&lt;K,V&gt;&gt;` since:\r\n\r\n- You **can&#39;t** add different `Map.Entry`s with the same key to the same `Map`, but\r\n- You **can** add different `Map.Entry`s with the same key to the same `Set&lt;Map.Entry&gt;`.","title":"Why doesn&#39;t Java Map extend Collection?","body":"<p><code>Map&lt;K,V&gt;</code> should not extend <code>Set&lt;Map.Entry&lt;K,V&gt;&gt;</code> since:</p>\n\n<ul>\n<li>You <strong>can't</strong> add different <code>Map.Entry</code>s with the same key to the same <code>Map</code>, but</li>\n<li>You <strong>can</strong> add different <code>Map.Entry</code>s with the same key to the same <code>Set&lt;Map.Entry&gt;</code>.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":4897356,"reputation":85,"user_id":3946503,"display_name":"Mayur Ingle"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1475615196,"creation_date":1475596649,"answer_id":39856863,"question_id":2651819,"body_markdown":"If you look at the respective data structure you can easily guess why `Map` is not a part of `Collection`. Each `Collection` stores a single value where as a `Map` stores key-value pair. So methods in `Collection` interface are incompatible for `Map` interface. For example in `Collection` we have `add(Object o)`. What would be such implementation in `Map`. It doesn&#39;t make sense to have such a method in `Map`. Instead we have a `put(key,value)` method in `Map`.\r\n\r\nSame argument goes for `addAll()`, `remove()`, and `removeAll()` methods. So the main reason is the difference in the way data is stored in `Map` and `Collection`.\r\nAlso if you recall `Collection` interface implemented `Iterable` interface i.e. any interface with `.iterator()` method should return an iterator which must allow us to iterate over the values stored in the `Collection`. Now what would such method return for a `Map`? Key iterator or a Value iterator? This does not make sense either.\r\n\r\nThere are ways in which we can iterate over keys and values stores in a `Map` and that is how it is a part of `Collection` framework.","title":"Why doesn&#39;t Java Map extend Collection?","body":"<p>If you look at the respective data structure you can easily guess why <code>Map</code> is not a part of <code>Collection</code>. Each <code>Collection</code> stores a single value where as a <code>Map</code> stores key-value pair. So methods in <code>Collection</code> interface are incompatible for <code>Map</code> interface. For example in <code>Collection</code> we have <code>add(Object o)</code>. What would be such implementation in <code>Map</code>. It doesn't make sense to have such a method in <code>Map</code>. Instead we have a <code>put(key,value)</code> method in <code>Map</code>.</p>\n\n<p>Same argument goes for <code>addAll()</code>, <code>remove()</code>, and <code>removeAll()</code> methods. So the main reason is the difference in the way data is stored in <code>Map</code> and <code>Collection</code>.\nAlso if you recall <code>Collection</code> interface implemented <code>Iterable</code> interface i.e. any interface with <code>.iterator()</code> method should return an iterator which must allow us to iterate over the values stored in the <code>Collection</code>. Now what would such method return for a <code>Map</code>? Key iterator or a Value iterator? This does not make sense either.</p>\n\n<p>There are ways in which we can iterate over keys and values stores in a <code>Map</code> and that is how it is a part of <code>Collection</code> framework.</p>\n"},{"tags":[],"owner":{"account_id":4527930,"reputation":1089,"user_id":3679238,"accept_rate":0,"display_name":"Trinadh Koya"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1545107154,"creation_date":1490354299,"answer_id":42998166,"question_id":2651819,"body_markdown":"Straight and simple.\r\nCollection is an interface which is expecting only one Object, whereas Map requires Two.\r\n\r\n    Collection(Object o);\r\n    Map&lt;Object,Object&gt;","title":"Why doesn&#39;t Java Map extend Collection?","body":"<p>Straight and simple.\nCollection is an interface which is expecting only one Object, whereas Map requires Two.</p>\n\n<pre><code>Collection(Object o);\nMap&lt;Object,Object&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26151279,"reputation":1,"user_id":19839199,"display_name":"Amit Jha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683437336,"creation_date":1683437336,"answer_id":76192324,"question_id":2651819,"body_markdown":" 1. The Map interface in Java follows key/value pair structure whereas the Collection interface is collection of objects which are stored in structure with a specified mechanism.\r\n 2. The main reason map doesn&#39;t extend Collection interface is that ```add(E e)``` method of collection interface doesn&#39;t support key-value pair like map interface&#39;s ```put(k,v)``` method.\r\n 3. It might not extend Collection interface but still an integral part of Java Collection framework","title":"Why doesn&#39;t Java Map extend Collection?","body":"<ol>\n<li>The Map interface in Java follows key/value pair structure whereas the Collection interface is collection of objects which are stored in structure with a specified mechanism.</li>\n<li>The main reason map doesn't extend Collection interface is that <code>add(E e)</code> method of collection interface doesn't support key-value pair like map interface's <code>put(k,v)</code> method.</li>\n<li>It might not extend Collection interface but still an integral part of Java Collection framework</li>\n</ol>\n"}],"owner":{"account_id":102991,"reputation":378282,"user_id":276101,"accept_rate":67,"display_name":"polygenelubricants"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49194,"favorite_count":0,"down_vote_count":0,"up_vote_count":163,"accepted_answer_id":2651833,"answer_count":10,"score":163,"last_activity_date":1683437336,"creation_date":1271409441,"question_id":2651819,"body_markdown":"I was surprised by the fact that `Map&lt;?,?&gt;` is not a `Collection&lt;?&gt;`.\r\n\r\nI thought it&#39;d make a LOT of sense if it was declared as such:\r\n\r\n    public interface Map&lt;K,V&gt; extends Collection&lt;Map.Entry&lt;K,V&gt;&gt;\r\n\r\nAfter all, a `Map&lt;K,V&gt;` is a collection of [`Map.Entry&lt;K,V&gt;`](http://java.sun.com/javase/6/docs/api/java/util/Map.Entry.html), isn&#39;t it?\r\n\r\nSo is there a good reason why it&#39;s not implemented as such?\r\n\r\n---\r\n\r\nThanks to Cletus for a most authoritative answer, but I&#39;m still wondering why, if you can already view a `Map&lt;K,V&gt;` as `Set&lt;Map.Entries&lt;K,V&gt;&gt;` (via `entrySet()`), it doesn&#39;t just extend that interface instead.\r\n\r\n&gt; If a `Map` is a `Collection`, what are the elements? The only reasonable answer is &quot;Key-value pairs&quot;\r\n\r\nExactly, `interface Map&lt;K,V&gt; extends Set&lt;Map.Entry&lt;K,V&gt;&gt;` would be great!\r\n\r\n&gt; but this provides a very limited (and not particularly useful) `Map` abstraction.\r\n\r\nBut if that&#39;s the case then why is `entrySet` specified by the interface? It must be useful somehow (and I think it&#39;s easy to argue for that position!).\r\n\r\n&gt; You can&#39;t ask what value a given key maps to, nor can you delete the entry for a given key without knowing what value it maps to.\r\n\r\nI&#39;m not saying that that&#39;s all there is to it to `Map`! It can and _should_ keep all the other methods (except `entrySet`, which is redundant now)!","title":"Why doesn&#39;t Java Map extend Collection?","body":"<p>I was surprised by the fact that <code>Map&lt;?,?&gt;</code> is not a <code>Collection&lt;?&gt;</code>.</p>\n\n<p>I thought it'd make a LOT of sense if it was declared as such:</p>\n\n<pre><code>public interface Map&lt;K,V&gt; extends Collection&lt;Map.Entry&lt;K,V&gt;&gt;\n</code></pre>\n\n<p>After all, a <code>Map&lt;K,V&gt;</code> is a collection of <a href=\"http://java.sun.com/javase/6/docs/api/java/util/Map.Entry.html\" rel=\"noreferrer\"><code>Map.Entry&lt;K,V&gt;</code></a>, isn't it?</p>\n\n<p>So is there a good reason why it's not implemented as such?</p>\n\n<hr>\n\n<p>Thanks to Cletus for a most authoritative answer, but I'm still wondering why, if you can already view a <code>Map&lt;K,V&gt;</code> as <code>Set&lt;Map.Entries&lt;K,V&gt;&gt;</code> (via <code>entrySet()</code>), it doesn't just extend that interface instead.</p>\n\n<blockquote>\n  <p>If a <code>Map</code> is a <code>Collection</code>, what are the elements? The only reasonable answer is \"Key-value pairs\"</p>\n</blockquote>\n\n<p>Exactly, <code>interface Map&lt;K,V&gt; extends Set&lt;Map.Entry&lt;K,V&gt;&gt;</code> would be great!</p>\n\n<blockquote>\n  <p>but this provides a very limited (and not particularly useful) <code>Map</code> abstraction.</p>\n</blockquote>\n\n<p>But if that's the case then why is <code>entrySet</code> specified by the interface? It must be useful somehow (and I think it's easy to argue for that position!).</p>\n\n<blockquote>\n  <p>You can't ask what value a given key maps to, nor can you delete the entry for a given key without knowing what value it maps to.</p>\n</blockquote>\n\n<p>I'm not saying that that's all there is to it to <code>Map</code>! It can and <em>should</em> keep all the other methods (except <code>entrySet</code>, which is redundant now)!</p>\n"},{"tags":["java","scala","generics","types"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1683179365,"post_id":76169924,"comment_id":134327266,"body_markdown":"Don&#39;t know about scala, but Java does not have this. Perhaps this is an [XY problem](https://xyproblem.info/). What problem are you trying to solve exactly?","body":"Don&#39;t know about scala, but Java does not have this. Perhaps this is an <a href=\"https://xyproblem.info/\" rel=\"nofollow noreferrer\">XY problem</a>. What problem are you trying to solve exactly?"},{"owner":{"account_id":334110,"reputation":592,"user_id":660339,"accept_rate":40,"display_name":"Ivan Perez"},"score":0,"creation_date":1683179666,"post_id":76169924,"comment_id":134327303,"body_markdown":"I&#39;m literally just trying to build what I have there. I want to be able to &quot;wrap&quot; all members of a class in an argument generic (or type constructor) so that I can decide the behavior when I instantiate it. For example, an `A&lt;Vector&gt;` would contain a vector of strings, an `A&lt;HashMap&gt;` would contain a hash map of strings, and so on.\n\nIf I have two private members (e.g., a `String` and an `Integer`), and I wrap both with `T&lt;&gt;`, then `A&lt;HashMap&gt;` would have both a `HashMap&lt;String&gt;` and a `HashMap&lt;Integer&gt;`, and so on.","body":"I&#39;m literally just trying to build what I have there. I want to be able to &quot;wrap&quot; all members of a class in an argument generic (or type constructor) so that I can decide the behavior when I instantiate it. For example, an <code>A&lt;Vector&gt;</code> would contain a vector of strings, an <code>A&lt;HashMap&gt;</code> would contain a hash map of strings, and so on.  If I have two private members (e.g., a <code>String</code> and an <code>Integer</code>), and I wrap both with <code>T&lt;&gt;</code>, then <code>A&lt;HashMap&gt;</code> would have both a <code>HashMap&lt;String&gt;</code> and a <code>HashMap&lt;Integer&gt;</code>, and so on."},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":2,"creation_date":1683181732,"post_id":76169924,"comment_id":134327650,"body_markdown":"Have a look at this for Scala https://www.baeldung.com/scala/higher-kinded-types","body":"Have a look at this for Scala <a href=\"https://www.baeldung.com/scala/higher-kinded-types\" rel=\"nofollow noreferrer\">baeldung.com/scala/higher-kinded-types</a>"}],"answers":[{"tags":[],"owner":{"account_id":3908845,"reputation":11548,"user_id":3314107,"accept_rate":80,"display_name":"stefanobaghino"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1683184122,"creation_date":1683184122,"answer_id":76170441,"question_id":76169924,"body_markdown":"I don&#39;t know about Java (but [this question][1] is probably relevant for you), but you can do this in Scala\r\n\r\n```\r\nfinal case class A[T[_], B](a: T[B])\r\n```\r\n\r\nAnd then you can instantiate classes like so, relying on type inference:\r\n\r\n```\r\nval a1 = A(List(&quot;hello&quot;, &quot;world&quot;))\r\nval a2 = A(Some(42))\r\n```\r\n\r\nYou can play around with this code [here on Scastie][2].\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/7451658/can-i-use-nested-generics-aka-higher-kinded-types-in-java\r\n  [2]: https://scastie.scala-lang.org/756EE9fNTnKIw67qxQmRYw","title":"Passing arguments to generic parameter in class in Java","body":"<p>I don't know about Java (but <a href=\"https://stackoverflow.com/questions/7451658/can-i-use-nested-generics-aka-higher-kinded-types-in-java\">this question</a> is probably relevant for you), but you can do this in Scala</p>\n<pre><code>final case class A[T[_], B](a: T[B])\n</code></pre>\n<p>And then you can instantiate classes like so, relying on type inference:</p>\n<pre><code>val a1 = A(List(&quot;hello&quot;, &quot;world&quot;))\nval a2 = A(Some(42))\n</code></pre>\n<p>You can play around with this code <a href=\"https://scastie.scala-lang.org/756EE9fNTnKIw67qxQmRYw\" rel=\"nofollow noreferrer\">here on Scastie</a>.</p>\n"},{"tags":[],"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683257229,"creation_date":1683257229,"answer_id":76178653,"question_id":76169924,"body_markdown":"This is called a [higher-kinded type](https://www.baeldung.com/scala/higher-kinded-types). Here&#39;s an example in Scala of exactly what you want ([Scastie](https://scastie.scala-lang.org/TimMoore/YdiBBTCMQo2tS6Ii5ovOcQ/6)):\r\n\r\n```scala\r\nimport scala.collection.mutable.HashMap\r\ntrait A[T[_]] {\r\n  def aString: T[String]\r\n}\r\n\r\nclass AVector extends A[Vector] {\r\n  def aString: Vector[String] = Vector(&quot;Hello, world!&quot;)\r\n}\r\n\r\ntype StringKeyedHashMap[T] = HashMap[String, T]\r\nclass AHashMap[T] extends A[StringKeyedHashMap] {\r\n  def aString: HashMap[String, String] = HashMap(\r\n    &quot;Hello, world!&quot; -&gt; &quot;Goodbye, world!&quot;\r\n  )\r\n}\r\n\r\n\r\nprintln((new AVector).aString)  // Vector(Hello, world!)\r\nprintln((new AHashMap).aString) // HashMap(Hello, world! -&gt; Goodbye, world!)\r\n```\r\n\r\nNote that in the `HashMap` example, it isn&#39;t possible to use `extends A[HashMap]`, because `HashMap` requires two type parameters, and `A[T[_]]` only accepts types that take a single parameter. To work around this, a [type alias](https://www.baeldung.com/scala/type-declaration) is declared that takes one type parameter for the map values, and hardcodes the key type as `String`.","title":"Passing arguments to generic parameter in class in Java","body":"<p>This is called a <a href=\"https://www.baeldung.com/scala/higher-kinded-types\" rel=\"nofollow noreferrer\">higher-kinded type</a>. Here's an example in Scala of exactly what you want (<a href=\"https://scastie.scala-lang.org/TimMoore/YdiBBTCMQo2tS6Ii5ovOcQ/6\" rel=\"nofollow noreferrer\">Scastie</a>):</p>\n<pre class=\"lang-scala prettyprint-override\"><code>import scala.collection.mutable.HashMap\ntrait A[T[_]] {\n  def aString: T[String]\n}\n\nclass AVector extends A[Vector] {\n  def aString: Vector[String] = Vector(&quot;Hello, world!&quot;)\n}\n\ntype StringKeyedHashMap[T] = HashMap[String, T]\nclass AHashMap[T] extends A[StringKeyedHashMap] {\n  def aString: HashMap[String, String] = HashMap(\n    &quot;Hello, world!&quot; -&gt; &quot;Goodbye, world!&quot;\n  )\n}\n\n\nprintln((new AVector).aString)  // Vector(Hello, world!)\nprintln((new AHashMap).aString) // HashMap(Hello, world! -&gt; Goodbye, world!)\n</code></pre>\n<p>Note that in the <code>HashMap</code> example, it isn't possible to use <code>extends A[HashMap]</code>, because <code>HashMap</code> requires two type parameters, and <code>A[T[_]]</code> only accepts types that take a single parameter. To work around this, a <a href=\"https://www.baeldung.com/scala/type-declaration\" rel=\"nofollow noreferrer\">type alias</a> is declared that takes one type parameter for the map values, and hardcodes the key type as <code>String</code>.</p>\n"}],"owner":{"account_id":334110,"reputation":592,"user_id":660339,"accept_rate":40,"display_name":"Ivan Perez"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1683435613,"creation_date":1683179134,"question_id":76169924,"body_markdown":"I&#39;m trying to figure out a mechanism to implement something like the following in Java. Essentially, I&#39;d like to use the argument to a generic class as a generic class:\r\n\r\n```java\r\nclass A&lt;T&gt; {\r\n  T&lt;String&gt; aString;\r\n}\r\n```\r\n\r\nIs this, or something equivalent, where I can pass arguments to the type constructor received as arguments, possible at all in Java? Is it possible to indicate that `T` has type `* -&gt; *` or that it is some sort of type constructor? If not, how about a different language?","title":"Passing arguments to generic parameter in class in Java","body":"<p>I'm trying to figure out a mechanism to implement something like the following in Java. Essentially, I'd like to use the argument to a generic class as a generic class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class A&lt;T&gt; {\n  T&lt;String&gt; aString;\n}\n</code></pre>\n<p>Is this, or something equivalent, where I can pass arguments to the type constructor received as arguments, possible at all in Java? Is it possible to indicate that <code>T</code> has type <code>* -&gt; *</code> or that it is some sort of type constructor? If not, how about a different language?</p>\n"},{"tags":["java","functional-programming"],"comments":[{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":1,"creation_date":1585086746,"post_id":60839769,"comment_id":107641597,"body_markdown":"*&quot;Why does it print only one from enum types&quot;* Because the return value is a ***single*** enum value, i.e. the value of the first non-SUCCESS value detected. Your `and(...)` implementation specifically doesn&#39;t call the next validator when a non-SUCCESS value is detected. Given both of the above, why would you expect *multiple* validation codes?","body":"<i>&quot;Why does it print only one from enum types&quot;</i> Because the return value is a <b><i>single</i></b> enum value, i.e. the value of the first non-SUCCESS value detected. Your <code>and(...)</code> implementation specifically doesn&#39;t call the next validator when a non-SUCCESS value is detected. Given both of the above, why would you expect <i>multiple</i> validation codes?"},{"owner":{"account_id":14080654,"reputation":63,"user_id":10171787,"display_name":"Arthuoff"},"score":0,"creation_date":1585087719,"post_id":60839769,"comment_id":107641932,"body_markdown":"Okay, I get your point, but I need to know exactly how many and what type of errors I&#39;m getting.It&#39;s a bigger project and I&#39;m doing this part and only out of curiosity I&#39;m asking for this specific.I&#39;m implementing something that resembles this, so it would be nice to know where I&#39;m wrong.","body":"Okay, I get your point, but I need to know exactly how many and what type of errors I&#39;m getting.It&#39;s a bigger project and I&#39;m doing this part and only out of curiosity I&#39;m asking for this specific.I&#39;m implementing something that resembles this, so it would be nice to know where I&#39;m wrong."}],"answers":[{"tags":[],"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1585089017,"creation_date":1585089017,"answer_id":60840332,"question_id":60839769,"body_markdown":"If you want a validator to be able to return multiple *distinct* result codes (enums), then you need to change the return type to `Set&lt;ValidationResult&gt;`, or more specifically an [`EnumSet`][1].\r\n\r\nE.g. something like this:\r\n\r\n```\r\ninterface CustomerRegistrationValidator\r\n\textends Function&lt;Customer, EnumSet&lt;ValidationResult&gt;&gt; {\r\n\r\n\tstatic final EnumSet&lt;ValidationResult&gt; SUCCESS_ONLY = EnumSet.of(ValidationResult.SUCCESS);\r\n\r\n\tstatic CustomerRegistrationValidator isEmailValid() {\r\n\t\treturn customer -&gt; customer.getEmail().contains(&quot;@&quot;) ? \r\n\t\t\t\t\tSUCCESS_ONLY : EnumSet.of(ValidationResult.EMAIL_NOT_VALID);\r\n\t}\r\n\r\n\tstatic CustomerRegistrationValidator isPhoneNumberValid() {\r\n\t\treturn customer -&gt; customer.getPhoneNumber().startsWith(&quot;+0&quot;) ?  \r\n\t\t\t\t\tSUCCESS_ONLY : EnumSet.of(ValidationResult.PHONE_NUMBER_NOT_VALID);\r\n\t}\r\n\r\n\tstatic CustomerRegistrationValidator isAnAdult() {\r\n\t\treturn customer -&gt; Period.between(customer.getDob(), LocalDate.now()).getYears() &gt; 16 ?  \r\n\t\t\t\t\tSUCCESS_ONLY : EnumSet.of(ValidationResult.IS_NOT_AN_ADULT);\r\n\t}\r\n\r\n\tdefault CustomerRegistrationValidator and(CustomerRegistrationValidator other) {\r\n\t\treturn customer -&gt; {\r\n\t\t\tEnumSet&lt;ValidationResult&gt; thisResult = this.apply(customer);\r\n\t\t\tEnumSet&lt;ValidationResult&gt; otherResult = other.apply(customer);\r\n\t\t\tif (thisResult.equals(SUCCESS_ONLY))\r\n\t\t\t\treturn otherResult;\r\n\t\t\tif (otherResult.equals(SUCCESS_ONLY))\r\n\t\t\t\treturn thisResult;\r\n\t\t\tEnumSet&lt;ValidationResult&gt; combinedResult = EnumSet.copyOf(thisResult);\r\n\t\t\tcombinedResult.addAll(otherResult);\r\n\t\t\treturn combinedResult;\r\n\t\t};\r\n\t}\r\n\r\n}\r\n```\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/EnumSet.html","title":"Combinator pattern","body":"<p>If you want a validator to be able to return multiple <em>distinct</em> result codes (enums), then you need to change the return type to <code>Set&lt;ValidationResult&gt;</code>, or more specifically an <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/EnumSet.html\" rel=\"nofollow noreferrer\"><code>EnumSet</code></a>.</p>\n\n<p>E.g. something like this:</p>\n\n<pre><code>interface CustomerRegistrationValidator\n    extends Function&lt;Customer, EnumSet&lt;ValidationResult&gt;&gt; {\n\n    static final EnumSet&lt;ValidationResult&gt; SUCCESS_ONLY = EnumSet.of(ValidationResult.SUCCESS);\n\n    static CustomerRegistrationValidator isEmailValid() {\n        return customer -&gt; customer.getEmail().contains(\"@\") ? \n                    SUCCESS_ONLY : EnumSet.of(ValidationResult.EMAIL_NOT_VALID);\n    }\n\n    static CustomerRegistrationValidator isPhoneNumberValid() {\n        return customer -&gt; customer.getPhoneNumber().startsWith(\"+0\") ?  \n                    SUCCESS_ONLY : EnumSet.of(ValidationResult.PHONE_NUMBER_NOT_VALID);\n    }\n\n    static CustomerRegistrationValidator isAnAdult() {\n        return customer -&gt; Period.between(customer.getDob(), LocalDate.now()).getYears() &gt; 16 ?  \n                    SUCCESS_ONLY : EnumSet.of(ValidationResult.IS_NOT_AN_ADULT);\n    }\n\n    default CustomerRegistrationValidator and(CustomerRegistrationValidator other) {\n        return customer -&gt; {\n            EnumSet&lt;ValidationResult&gt; thisResult = this.apply(customer);\n            EnumSet&lt;ValidationResult&gt; otherResult = other.apply(customer);\n            if (thisResult.equals(SUCCESS_ONLY))\n                return otherResult;\n            if (otherResult.equals(SUCCESS_ONLY))\n                return thisResult;\n            EnumSet&lt;ValidationResult&gt; combinedResult = EnumSet.copyOf(thisResult);\n            combinedResult.addAll(otherResult);\n            return combinedResult;\n        };\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22430023,"reputation":1,"user_id":16636010,"display_name":"Maulik Davra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683433800,"creation_date":1683349128,"answer_id":76187214,"question_id":60839769,"body_markdown":"\r\n\r\nIn this modified code, the `CustomerRegistrationValidator` interface now returns a `List&lt;CustomerRegistrationValidator.ValidationResult&gt;` instead of a single `ValidationResult`. Each validator method creates an empty list of errors and adds the relevant error to the list if the validation fails.\r\n        \r\nThe and method has been updated to accumulate errors from both the current validator and the other validator. It creates a new list of errors, applies the current validator (this), and adds any errors to the list. Then it applies the other validator and adds any errors from that validator as well.\r\n        \r\nNow, when you apply the validators to a customer, you will get a list of errors instead of a single error. You can then handle the errors accordingly, such as printing them or performing any other necessary actions.\r\n          \r\n    \r\n    import java.time.LocalDate;\r\n    import java.time.Period;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import java.util.function.Function;\r\n    \r\n    public interface CustomerRegistrationValidator extends Function&lt;Customer, List&lt;CustomerRegistrationValidator.ValidationResult&gt;&gt; {\r\n    \r\n        static CustomerRegistrationValidator isEmailValid() {\r\n            return customer -&gt; {\r\n                List&lt;CustomerRegistrationValidator.ValidationResult&gt; errors = new ArrayList&lt;&gt;();\r\n                if (!customer.getEmail().contains(&quot;@&quot;)) {\r\n                    errors.add(CustomerRegistrationValidator.ValidationResult.EMAIL_NOT_VALID);\r\n                }\r\n                return errors;\r\n            };\r\n        }\r\n    \r\n        static CustomerRegistrationValidator isPhoneNumberValid() {\r\n            return customer -&gt; {\r\n                List&lt;CustomerRegistrationValidator.ValidationResult&gt; errors = new ArrayList&lt;&gt;();\r\n                if (!customer.getPhoneNumber().startsWith(&quot;+0&quot;)) {\r\n                    errors.add(CustomerRegistrationValidator.ValidationResult.PHONE_NUMBER_NOT_VALID);\r\n                }\r\n                return errors;\r\n            };\r\n        }\r\n    \r\n        static CustomerRegistrationValidator isAnAdult() {\r\n            return customer -&gt; {\r\n                List&lt;CustomerRegistrationValidator.ValidationResult&gt; errors = new ArrayList&lt;&gt;();\r\n                if (Period.between(customer.getDob(), LocalDate.now()).getYears() &lt;= 16) {\r\n                    errors.add(CustomerRegistrationValidator.ValidationResult.IS_NOT_AN_ADULT);\r\n                }\r\n                return errors;\r\n            };\r\n        }\r\n    \r\n        default CustomerRegistrationValidator and(CustomerRegistrationValidator other) {\r\n            return customer -&gt; {\r\n                List&lt;CustomerRegistrationValidator.ValidationResult&gt; errors = new ArrayList&lt;&gt;();\r\n                errors.addAll(this.apply(customer));\r\n                errors.addAll(other.apply(customer));\r\n                return errors;\r\n            };\r\n        }\r\n    \r\n        enum ValidationResult {\r\n            SUCCESS,\r\n            PHONE_NUMBER_NOT_VALID,\r\n            EMAIL_NOT_VALID,\r\n            IS_NOT_AN_ADULT\r\n        }\r\n    }\r\n\r\n\r\n\r\n    Customer customer = new Customer(&quot;Alice&quot;, &quot;alicegmail.com&quot;, &quot;089877878&quot;, LocalDate.of(2000, 1, 1));\r\n\r\n    List&lt;CustomerRegistrationValidator.ValidationResult&gt; errors = CustomerRegistrationValidator.isEmailValid()\r\n            .and(CustomerRegistrationValidator.isPhoneNumberValid())\r\n            .and(CustomerRegistrationValidator.isAnAdult())\r\n            .apply(customer);\r\n    \r\n    if (!errors.isEmpty()) {\r\n        for (CustomerRegistrationValidator.ValidationResult error : errors) {\r\n            System.out.println(error);\r\n        }\r\n        // Handle the errors accordingly\r\n    } else {\r\n        // Registration is successful\r\n    }\r\n\r\n\r\n","title":"Combinator pattern","body":"<p>In this modified code, the <code>CustomerRegistrationValidator</code> interface now returns a <code>List&lt;CustomerRegistrationValidator.ValidationResult&gt;</code> instead of a single <code>ValidationResult</code>. Each validator method creates an empty list of errors and adds the relevant error to the list if the validation fails.</p>\n<p>The and method has been updated to accumulate errors from both the current validator and the other validator. It creates a new list of errors, applies the current validator (this), and adds any errors to the list. Then it applies the other validator and adds any errors from that validator as well.</p>\n<p>Now, when you apply the validators to a customer, you will get a list of errors instead of a single error. You can then handle the errors accordingly, such as printing them or performing any other necessary actions.</p>\n<pre><code>import java.time.LocalDate;\nimport java.time.Period;\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.function.Function;\n\npublic interface CustomerRegistrationValidator extends Function&lt;Customer, List&lt;CustomerRegistrationValidator.ValidationResult&gt;&gt; {\n\n    static CustomerRegistrationValidator isEmailValid() {\n        return customer -&gt; {\n            List&lt;CustomerRegistrationValidator.ValidationResult&gt; errors = new ArrayList&lt;&gt;();\n            if (!customer.getEmail().contains(&quot;@&quot;)) {\n                errors.add(CustomerRegistrationValidator.ValidationResult.EMAIL_NOT_VALID);\n            }\n            return errors;\n        };\n    }\n\n    static CustomerRegistrationValidator isPhoneNumberValid() {\n        return customer -&gt; {\n            List&lt;CustomerRegistrationValidator.ValidationResult&gt; errors = new ArrayList&lt;&gt;();\n            if (!customer.getPhoneNumber().startsWith(&quot;+0&quot;)) {\n                errors.add(CustomerRegistrationValidator.ValidationResult.PHONE_NUMBER_NOT_VALID);\n            }\n            return errors;\n        };\n    }\n\n    static CustomerRegistrationValidator isAnAdult() {\n        return customer -&gt; {\n            List&lt;CustomerRegistrationValidator.ValidationResult&gt; errors = new ArrayList&lt;&gt;();\n            if (Period.between(customer.getDob(), LocalDate.now()).getYears() &lt;= 16) {\n                errors.add(CustomerRegistrationValidator.ValidationResult.IS_NOT_AN_ADULT);\n            }\n            return errors;\n        };\n    }\n\n    default CustomerRegistrationValidator and(CustomerRegistrationValidator other) {\n        return customer -&gt; {\n            List&lt;CustomerRegistrationValidator.ValidationResult&gt; errors = new ArrayList&lt;&gt;();\n            errors.addAll(this.apply(customer));\n            errors.addAll(other.apply(customer));\n            return errors;\n        };\n    }\n\n    enum ValidationResult {\n        SUCCESS,\n        PHONE_NUMBER_NOT_VALID,\n        EMAIL_NOT_VALID,\n        IS_NOT_AN_ADULT\n    }\n}\n\n\n\nCustomer customer = new Customer(&quot;Alice&quot;, &quot;alicegmail.com&quot;, &quot;089877878&quot;, LocalDate.of(2000, 1, 1));\n\nList&lt;CustomerRegistrationValidator.ValidationResult&gt; errors = CustomerRegistrationValidator.isEmailValid()\n        .and(CustomerRegistrationValidator.isPhoneNumberValid())\n        .and(CustomerRegistrationValidator.isAnAdult())\n        .apply(customer);\n\nif (!errors.isEmpty()) {\n    for (CustomerRegistrationValidator.ValidationResult error : errors) {\n        System.out.println(error);\n    }\n    // Handle the errors accordingly\n} else {\n    // Registration is successful\n}\n</code></pre>\n"}],"owner":{"account_id":14080654,"reputation":63,"user_id":10171787,"display_name":"Arthuoff"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2410,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":60840332,"answer_count":2,"score":0,"last_activity_date":1683433800,"creation_date":1585086006,"question_id":60839769,"body_markdown":"I&#39;m having a little issue with the result I&#39;m getting with &#39;Combinator&#39; pattern.\r\n\r\n    public interface CustomerRegistrationValidator \r\n    \textends Function&lt;Customer, ValidationResult&gt; {\r\n    \r\n    \tstatic CustomerRegistrationValidator isEmailValid() {\r\n    \t\treturn customer -&gt; customer.getEmail().contains(&quot;@&quot;) ? \r\n    \t\t\t\t\tValidationResult.SUCCESS : ValidationResult.EMAIL_NOT_VALID;\r\n    \t}\r\n    \t\r\n    \tstatic CustomerRegistrationValidator isPhoneNumberValid() {\r\n    \t\treturn customer -&gt; customer.getPhoneNumber().startsWith(&quot;+0&quot;) ?  \r\n    \t\t\t\t\tValidationResult.SUCCESS : ValidationResult.PHONE_NUMBER_NOT_VALID;\r\n    \t}\r\n    \t\r\n    \tstatic CustomerRegistrationValidator isAnAdult() {\r\n    \t\treturn customer -&gt; Period.between(customer.getDob(), LocalDate.now()).getYears() &gt; 16 ?  \r\n    \t\t\t\t\tValidationResult.SUCCESS : ValidationResult.IS_NOT_AN_ADULT;\r\n    \t}\r\n    \t\r\n    \tdefault CustomerRegistrationValidator and (CustomerRegistrationValidator other) {\r\n    \t\treturn customer -&gt; {\r\n    \t\t\tValidationResult result = this.apply(customer);\r\n    \t\t\t\r\n    \t\t\treturn result.equals(ValidationResult.SUCCESS) ? other.apply(customer) : result;\r\n    \t\t};\r\n    \t}\r\n    \t\r\n    \tenum ValidationResult {\r\n    \t\tSUCCESS,\r\n    \t\tPHONE_NUMBER_NOT_VALID,\r\n    \t\tEMAIL_NOT_VALID,\r\n    \t\tIS_NOT_AN_ADULT\r\n    \t}\r\n    \t\r\n    }\r\n\r\n\r\n----------\r\n\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n        \r\n        \t\tCustomer customer = new Customer(\r\n        \t\t\t\t&quot;Alice&quot;, \r\n        \t\t\t\t&quot;alicegmail.com&quot;, \r\n        \t\t\t\t&quot;089877878&quot;, \r\n        \t\t\t\tLocalDate.of(2000, 1, 1)\r\n        \t\t);\r\n\r\n                ValidationResult result = CustomerRegistrationValidator.isEmailValid()\r\n        \t\t\t.and(CustomerRegistrationValidator.isPhoneNumberValid())\r\n        \t\t\t.and(CustomerRegistrationValidator.isAnAdult())\r\n        \t\t\t.apply(customer);\r\n        \t\t\r\n        \t\tSystem.out.println(result);\r\n        \t\t\r\n        \t\tif (result != ValidationResult.SUCCESS) {\r\n        \t\t\tthrow new IllegalStateException(result.name());\r\n        \t\t}   \t\t\r\n        }\r\n    }\r\n\r\n Let&#39;s say if there are two errors from those methods(isAnAdult, isEmailValid).Why does it print only one from enum types, in my case &#39;EMAIL_NOT_VALID&#39; with exception instead of two and by the second one I mean &#39;IS_NOT_AN_ADULT&#39; ?\r\n","title":"Combinator pattern","body":"<p>I'm having a little issue with the result I'm getting with 'Combinator' pattern.</p>\n\n<pre><code>public interface CustomerRegistrationValidator \n    extends Function&lt;Customer, ValidationResult&gt; {\n\n    static CustomerRegistrationValidator isEmailValid() {\n        return customer -&gt; customer.getEmail().contains(\"@\") ? \n                    ValidationResult.SUCCESS : ValidationResult.EMAIL_NOT_VALID;\n    }\n\n    static CustomerRegistrationValidator isPhoneNumberValid() {\n        return customer -&gt; customer.getPhoneNumber().startsWith(\"+0\") ?  \n                    ValidationResult.SUCCESS : ValidationResult.PHONE_NUMBER_NOT_VALID;\n    }\n\n    static CustomerRegistrationValidator isAnAdult() {\n        return customer -&gt; Period.between(customer.getDob(), LocalDate.now()).getYears() &gt; 16 ?  \n                    ValidationResult.SUCCESS : ValidationResult.IS_NOT_AN_ADULT;\n    }\n\n    default CustomerRegistrationValidator and (CustomerRegistrationValidator other) {\n        return customer -&gt; {\n            ValidationResult result = this.apply(customer);\n\n            return result.equals(ValidationResult.SUCCESS) ? other.apply(customer) : result;\n        };\n    }\n\n    enum ValidationResult {\n        SUCCESS,\n        PHONE_NUMBER_NOT_VALID,\n        EMAIL_NOT_VALID,\n        IS_NOT_AN_ADULT\n    }\n\n}\n</code></pre>\n\n<hr>\n\n<pre><code>public class Main {\n    public static void main(String[] args) {\n\n            Customer customer = new Customer(\n                    \"Alice\", \n                    \"alicegmail.com\", \n                    \"089877878\", \n                    LocalDate.of(2000, 1, 1)\n            );\n\n            ValidationResult result = CustomerRegistrationValidator.isEmailValid()\n                .and(CustomerRegistrationValidator.isPhoneNumberValid())\n                .and(CustomerRegistrationValidator.isAnAdult())\n                .apply(customer);\n\n            System.out.println(result);\n\n            if (result != ValidationResult.SUCCESS) {\n                throw new IllegalStateException(result.name());\n            }           \n    }\n}\n</code></pre>\n\n<p>Let's say if there are two errors from those methods(isAnAdult, isEmailValid).Why does it print only one from enum types, in my case 'EMAIL_NOT_VALID' with exception instead of two and by the second one I mean 'IS_NOT_AN_ADULT' ?</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":1,"creation_date":1683432063,"post_id":76191749,"comment_id":134364740,"body_markdown":"your setup looks wrong: the instantiated controller != the loaded ui - remove the contoller attribute in the fxml and set the loader&#39;s controller property manually (before loading)","body":"your setup looks wrong: the instantiated controller != the loaded ui - remove the contoller attribute in the fxml and set the loader&#39;s controller property manually (before loading)"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":2,"creation_date":1683432210,"post_id":76191749,"comment_id":134364750,"body_markdown":"note: debugging questions require a [mcve] - mind the __M__!","body":"note: debugging questions require a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> - mind the <b>M</b>!"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1683432768,"post_id":76191749,"comment_id":134364783,"body_markdown":"the commented line is the right track - just give _this_ as parameter","body":"the commented line is the right track - just give <i>this</i> as parameter"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1683546410,"post_id":76191749,"comment_id":134378352,"body_markdown":"This setup just looks completely wrong. Your `OptionsMenu` looks like a controller class for an FXML file (because it has `@FXML` annotations), but it&#39;s a subclass of `Pane`, and implements `EventHandler`, and is implemented as a singleton. None of those make any sense for a controller. You&#39;re also trying to access `@FXML`-annotated fields in the constructor, which won&#39;t work as they cannot possibly be initialized at that point. Your FXML file, on the other hand, declares the `Application` subclass as its controller class, which also makes no sense.","body":"This setup just looks completely wrong. Your <code>OptionsMenu</code> looks like a controller class for an FXML file (because it has <code>@FXML</code> annotations), but it&#39;s a subclass of <code>Pane</code>, and implements <code>EventHandler</code>, and is implemented as a singleton. None of those make any sense for a controller. You&#39;re also trying to access <code>@FXML</code>-annotated fields in the constructor, which won&#39;t work as they cannot possibly be initialized at that point. Your FXML file, on the other hand, declares the <code>Application</code> subclass as its controller class, which also makes no sense."}],"owner":{"account_id":19069058,"reputation":41,"user_id":13923628,"display_name":"Lenard Decarpicorn"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683431212,"creation_date":1683419191,"question_id":76191749,"body_markdown":"I&#39;ve been trying to create an instance of my OptionsMenu() scene when clicking on a button in my MainMenu() scene, but all my FXML components in the scene are showing up as null and I&#39;m unsure why. I&#39;ve checked the FXML controller, the fx::id of my components, the @FXML headers, and so far, nothing has worked. If anyone could give me some guidance, it would be greatly appreciated.\r\n\r\nHere is my OptionsMenu() class I&#39;m trying to load:\r\n\r\n```   \r\npackage ui_gui;\r\n\r\nimport controllers.Chess;\r\nimport controllers.Main;\r\nimport enums.GameColor;\r\nimport javafx.beans.value.ObservableValue;\r\nimport javafx.fxml.FXML;\r\nimport javafx.fxml.FXMLLoader;\r\nimport javafx.geometry.Insets;\r\nimport javafx.scene.Node;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.CheckBox;\r\nimport javafx.scene.control.TextField;\r\nimport javafx.scene.layout.*;\r\nimport javafx.event.ActionEvent;\r\nimport javafx.event.EventHandler;\r\nimport javafx.scene.control.Button;\r\nimport javafx.scene.paint.Color;\r\nimport javafx.stage.Stage;\r\n\r\nimport javafx.beans.value.ChangeListener;\r\nimport model.GameStateEditor;\r\nimport model.Options;\r\n\r\nimport java.io.IOException;\r\n\r\npublic class OptionsMenu extends Pane implements EventHandler&lt;ActionEvent&gt; {\r\n\r\n    /**The root of the layout**/\r\n    private Pane root;\r\n\r\n    /**the Scene on to which the root is situated**/\r\n    private Scene scene;\r\n\r\n    public enum  Screen {SCREEN3, SCREEN4};\r\n\r\n    /**A button on the layout**/\r\n    @FXML\r\n    Button blackSquareButton;\r\n\r\n    @FXML\r\n    Button whiteSquareButton;\r\n\r\n    @FXML\r\n    CheckBox undosEnabledCheckbox;\r\n\r\n    @FXML\r\n    CheckBox unlimitedUndosCheckbox;\r\n\r\n    @FXML\r\n    CheckBox showMovesCheckbox;\r\n\r\n    @FXML\r\n    Button saveButton;\r\n\r\n    @FXML\r\n    TextField undoTextField;\r\n\r\n    @FXML\r\n    Button exitButton;\r\n\r\n    ScreenChangeHandler screenChanger;\r\n\r\n    public static Chess game;\r\n\r\n    public static OptionsMenu instance;\r\n\r\n    /**Set the handler for sreen changes**/\r\n    public void setScreenChangeHandler(ScreenChangeHandler sch){\r\n        this.screenChanger = sch;\r\n    }//end\r\n\r\n    /**\r\n     * Create a singleton instance of a ColorChooser\r\n     * @return The instance of this ColorChooser\r\n     */\r\n    public static OptionsMenu getInstance(Chess game){\r\n        if (instance == null){\r\n            instance = new OptionsMenu(game);\r\n        }\r\n        return instance;\r\n    }//end getInstance\r\n\r\n    @FXML\r\n    public void initialize() {\r\n        blackSquareButton.setOnAction(this::handle);\r\n        System.out.println(blackSquareButton.getId());\r\n        whiteSquareButton.setOnAction(this::handle);\r\n        saveButton.setOnAction(this::handle);\r\n        exitButton.setOnAction(this::handle);\r\n    }\r\n\r\n    public OptionsMenu(Chess chessGame) {\r\n        super();\r\n        FXMLLoader loader = new FXMLLoader(getClass().getResource(&quot;options-view.fxml&quot;));\r\n        //loader.setController(new Main());\r\n        try {\r\n            root = loader.load();\r\n\r\n        } catch (IOException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n        this.game = chessGame;\r\n\r\n        Options options = game.getOptions();\r\n\r\n        int[] blkColors = options.getBlackSquareColor();\r\n\r\n        // Setting the initial color of the blackSquareButton (to black)\r\n        Color black = Color.rgb(blkColors[0], blkColors[1], blkColors[2]);\r\n        // Recolor OptionMenu&#39;s button with the value chosen in our color picker\r\n        BackgroundFill blackFill = new BackgroundFill(black, CornerRadii.EMPTY, Insets.EMPTY);\r\n        Background backGround = new Background(blackFill);\r\n        blackSquareButton.setBackground(backGround);\r\n\r\n        int[] whtColors = options.getWhiteSquareColor();\r\n\r\n        // Setting the initial color of the whiteSquareButton (to white)\r\n        Color white = Color.rgb(whtColors[0], whtColors[1], whtColors[2]);\r\n        // Recolor OptionMenu&#39;s button with the value chosen in our color picker\r\n        BackgroundFill whiteFill = new BackgroundFill(white, CornerRadii.EMPTY, Insets.EMPTY);\r\n        Background whiteGround = new Background(whiteFill);\r\n        whiteSquareButton.setBackground(whiteGround);\r\n\r\n        undosEnabledCheckbox.setSelected(options.getUndosEnabled());\r\n        showMovesCheckbox.setSelected(options.getShowMoves());\r\n\r\n        if(undosEnabledCheckbox.isSelected()){\r\n\r\n            if(options.getUnlimitedUndos() == true){\r\n                unlimitedUndosCheckbox.setSelected(true);\r\n                undoTextField.setDisable(true);\r\n            }else{// If we don&#39;t have unlimited undos in our settings\r\n                if(options.getUndoMax() != 999){ // 999 represents having unlimited undos\r\n                    // Set the &quot;undos&quot; text field to the maximum amount of undos in Options()\r\n                    undoTextField.setText(String.valueOf(options.getUndoMax()));\r\n                }\r\n            }\r\n        }\r\n\r\n\r\n        // Create a ChangeListener that listens for changes in the selected property of the checkbox\r\n        ChangeListener&lt;Boolean&gt; listener1 = new ChangeListener&lt;Boolean&gt;() {\r\n            public void changed(ObservableValue&lt;? extends Boolean&gt; observable, Boolean oldValue, Boolean newValue) {\r\n                if (newValue) {\r\n                    undoTextField.setDisable(false); // Enable if the checkbox is selected\r\n                    unlimitedUndosCheckbox.setDisable(false);\r\n\r\n                } else {\r\n                    unlimitedUndosCheckbox.setDisable(true);\r\n                    unlimitedUndosCheckbox.setSelected(false);\r\n                    undoTextField.clear();\r\n                    if(undoTextField.isDisabled() == false){\r\n                        undoTextField.setDisable(true);\r\n                    }\r\n                }\r\n            }\r\n        };\r\n\r\n        // Add the ChangeListener to the checkbox&#39;s selected property\r\n        undosEnabledCheckbox.selectedProperty().addListener(listener1);\r\n\r\n        ChangeListener&lt;Boolean&gt; listener2 = new ChangeListener&lt;Boolean&gt;() {\r\n            public void changed(ObservableValue&lt;? extends Boolean&gt; observable, Boolean oldValue, Boolean newValue) {\r\n                if (newValue) {\r\n                    undoTextField.setDisable(true); // If checked, disable text field\r\n                    undoTextField.clear();\r\n                } else {\r\n                    undoTextField.setDisable(false);\r\n                }\r\n            }\r\n        };\r\n\r\n        unlimitedUndosCheckbox.selectedProperty().addListener(listener2);\r\n\r\n\r\n    }\r\n\r\n\r\n\r\n    /**Get the root of the layout in order for another class to display it**/\r\n    public Pane getRoot() {\r\n        return root;\r\n    }\r\n\r\n    /**\r\n     * Handles an action event generated by a component in our scene\r\n     * @param actionEvent the event which occurred\r\n     */\r\n    @Override\r\n    public void handle(ActionEvent actionEvent) {\r\n\r\n        if (actionEvent.getSource() == blackSquareButton) {\r\n            openColorChooser(blackSquareButton);\r\n        }else if(actionEvent.getSource() == whiteSquareButton) {\r\n            openColorChooser(whiteSquareButton);\r\n        }else if(actionEvent.getSource() == saveButton){\r\n            saveSettings();\r\n        }else if(actionEvent.getSource() == exitButton){\r\n            //exitSettings();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Saves the Options Menu Screen&#39;s settings to the Chess games Options()\r\n     */\r\n    public void saveSettings(){\r\n        // Getting the game&#39;s options\r\n        Options options = game.getOptions();\r\n        GameStateEditor stateEditor = game.getStateEditor();\r\n\r\n        // That means we can undo in this game. If the player doesn&#39;t select\r\n        // anything else, we&#39;ll assume they&#39;ll undo once at a time\r\n        if(undosEnabledCheckbox.isSelected()){\r\n            options.setUndosEnabled(true);\r\n\r\n            // If the player wants unlimited undos\r\n            if(unlimitedUndosCheckbox.isSelected()){\r\n                options.setUnlimitedUndos(true);\r\n\r\n            // If the &quot;Max Undos&quot; text field has numbers in it\r\n            }else if(0 &lt; undoTextField.getText().length() &amp;&amp; undoTextField.getText().length() &lt; 3){\r\n                int allowed_undos = Integer.parseInt(undoTextField.getText().trim());\r\n                options.setUndoMax(allowed_undos);\r\n                stateEditor.setMaxUndos(options.getUndoMax());\r\n            }\r\n        }else{// If the &quot;Undos Enabled&quot; is not selected\r\n            options.setUndosEnabled(false);\r\n        }\r\n\r\n        if(showMovesCheckbox.isSelected()){\r\n            options.setShowMoves(true);\r\n        }else{ // If the show moves checkbox isn&#39;t checked\r\n            options.setShowMoves(true);\r\n        }\r\n\r\n        int[] blkColors = getButtonColorInt(blackSquareButton);\r\n        int[] whtColors = getButtonColorInt(whiteSquareButton);\r\n\r\n        // Setting the options black and white square colors\r\n        options.setBlackSquareColor(blkColors[0], blkColors[1], blkColors[2]);\r\n        options.setWhiteSquareColor(whtColors[0], whtColors[1], whtColors[2]);\r\n    }\r\n\r\n    /**\r\n     * Opens a ColorChooser triggered by a button click\r\n     * @param button - The button that opened ColorChooser\r\n     */\r\n    public void openColorChooser(Button button){\r\n        screenChanger.switchScreen(ScreenFactory.Screen.SCREEN4);\r\n\r\n        /**\r\n        ColorChooser ch = null;\r\n        ch = ColorChooser.getInstance();\r\n        ch.setColor(getButtonColor(button));\r\n\r\n        //TODO: For task 3 a another method here would be good.\r\n\r\n        root = ch;\r\n\r\n        //Change the screen\r\n        if(screenChanger == null)\r\n            scene = new Scene(root,400,600);\r\n        else\r\n            scene.setRoot(root);\r\n\r\n        ch.setPreviousScene(((Node)button).getScene());\r\n        ch.setPreviousButton(button);\r\n\r\n        Stage stage = (Stage) ((Node)button).getScene().getWindow();\r\n        stage.setScene(scene);\r\n        stage.show();\r\n        //runOnce = false;\r\n         */\r\n\r\n    }\r\n\r\n    /**\r\n     * Returns the Color of a button in the form of a list of integers representing\r\n     * RBG values.\r\n     * @param button - The button whose color we&#39;re getting\r\n     * @return A button&#39;s color as a list of integers\r\n     */\r\n    public int[] getButtonColorInt(Button button){\r\n        Color color = (Color) button.getBackground().getFills().get(0).getFill();\r\n        int[] buttonColors =  {(int)(color.getRed()), (int)(color.getGreen()), (int)(color.getBlue())};\r\n        return buttonColors;\r\n    }\r\n\r\n    /**\r\n     * Returns the Color of a button in the form of a Hexadecimal string.\r\n     * @param button - The button whose color we&#39;re getting\r\n     * @return A button&#39;s color as a Hexadecimal string\r\n     */\r\n    public String getButtonColor(Button button){\r\n        Color color = (Color) button.getBackground().getFills().get(0).getFill();\r\n        String hex = String.format(&quot;%02X%02X%02X&quot;, (int)(color.getRed()*255),\r\n                (int)(color.getGreen()*255), (int)(color.getBlue()*255));\r\n        return hex;\r\n    }\r\n\r\n}\r\n```  \r\n\r\nHere&#39;s my FXML file:\r\n\r\n``` \r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;?import javafx.geometry.Insets?&gt;\r\n&lt;?import javafx.scene.control.Button?&gt;\r\n&lt;?import javafx.scene.control.CheckBox?&gt;\r\n&lt;?import javafx.scene.control.Label?&gt;\r\n&lt;?import javafx.scene.control.TextField?&gt;\r\n&lt;?import javafx.scene.layout.AnchorPane?&gt;\r\n&lt;?import javafx.scene.layout.HBox?&gt;\r\n&lt;?import javafx.scene.layout.VBox?&gt;\r\n&lt;?import javafx.scene.text.Font?&gt;\r\n\r\n&lt;AnchorPane minWidth=&quot;400.0&quot; prefHeight=&quot;400.0&quot; prefWidth=&quot;400.0&quot; xmlns=&quot;http://javafx.com/javafx/19&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;controllers.Main&quot;&gt;\r\n   &lt;children&gt;\r\n      &lt;Label alignment=&quot;TOP_LEFT&quot; layoutX=&quot;150.0&quot; layoutY=&quot;20.0&quot; prefHeight=&quot;40.0&quot; prefWidth=&quot;95.0&quot; text=&quot;Settings&quot;&gt;\r\n         &lt;font&gt;\r\n            &lt;Font size=&quot;27.0&quot; /&gt;\r\n         &lt;/font&gt;\r\n      &lt;/Label&gt;\r\n      &lt;Label layoutX=&quot;39.0&quot; layoutY=&quot;76.0&quot; maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;40.0&quot; prefWidth=&quot;80.0&quot; text=&quot;Colors:&quot;&gt;\r\n         &lt;font&gt;\r\n            &lt;Font size=&quot;20.0&quot; /&gt;\r\n         &lt;/font&gt;\r\n      &lt;/Label&gt;\r\n      &lt;HBox alignment=&quot;CENTER_LEFT&quot; layoutX=&quot;40.0&quot; layoutY=&quot;159.0&quot; maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;29.0&quot; prefWidth=&quot;157.0&quot;&gt;\r\n         &lt;children&gt;\r\n            &lt;Label contentDisplay=&quot;BOTTOM&quot; prefHeight=&quot;22.0&quot; prefWidth=&quot;110.0&quot; text=&quot;Black Squares&quot;&gt;\r\n               &lt;font&gt;\r\n                  &lt;Font size=&quot;17.0&quot; /&gt;\r\n               &lt;/font&gt;\r\n            &lt;/Label&gt;\r\n            &lt;Button fx:id=&quot;blackSquareButton&quot; mnemonicParsing=&quot;false&quot; prefHeight=&quot;28.0&quot; prefWidth=&quot;29.0&quot; text=&quot;  &quot; textAlignment=&quot;CENTER&quot;&gt;\r\n               &lt;font&gt;\r\n                  &lt;Font size=&quot;2.0&quot; /&gt;\r\n               &lt;/font&gt;\r\n               &lt;HBox.margin&gt;\r\n                  &lt;Insets left=&quot;7.0&quot; /&gt;\r\n               &lt;/HBox.margin&gt;\r\n            &lt;/Button&gt;\r\n         &lt;/children&gt;\r\n      &lt;/HBox&gt;\r\n      &lt;VBox layoutX=&quot;40.0&quot; layoutY=&quot;207.0&quot;&gt;\r\n         &lt;children&gt;\r\n            &lt;Label prefHeight=&quot;26.0&quot; prefWidth=&quot;89.0&quot; text=&quot;Undo:&quot;&gt;\r\n               &lt;font&gt;\r\n                  &lt;Font size=&quot;20.0&quot; /&gt;\r\n               &lt;/font&gt;\r\n            &lt;/Label&gt;\r\n         &lt;/children&gt;\r\n      &lt;/VBox&gt;\r\n      &lt;VBox layoutX=&quot;226.0&quot; layoutY=&quot;131.0&quot;&gt;\r\n         &lt;children&gt;\r\n            &lt;CheckBox fx:id=&quot;showMovesCheckbox&quot; mnemonicParsing=&quot;false&quot; prefHeight=&quot;33.0&quot; prefWidth=&quot;134.0&quot; text=&quot;Show moves&quot;&gt;\r\n               &lt;font&gt;\r\n                  &lt;Font size=&quot;17.0&quot; /&gt;\r\n               &lt;/font&gt;\r\n            &lt;/CheckBox&gt;\r\n         &lt;/children&gt;\r\n      &lt;/VBox&gt;\r\n      &lt;VBox alignment=&quot;CENTER&quot; layoutX=&quot;237.0&quot; layoutY=&quot;298.0&quot; prefHeight=&quot;48.0&quot; prefWidth=&quot;123.0&quot; spacing=&quot;8.0&quot;&gt;\r\n         &lt;children&gt;\r\n            &lt;Button fx:id=&quot;saveButton&quot; mnemonicParsing=&quot;false&quot; text=&quot;Save&quot;&gt;\r\n               &lt;font&gt;\r\n                  &lt;Font size=&quot;17.0&quot; /&gt;\r\n               &lt;/font&gt;\r\n            &lt;/Button&gt;\r\n            &lt;Button fx:id=&quot;exitButton&quot; mnemonicParsing=&quot;false&quot; text=&quot;Exit&quot;&gt;\r\n               &lt;font&gt;\r\n                  &lt;Font size=&quot;17.0&quot; /&gt;\r\n               &lt;/font&gt;\r\n            &lt;/Button&gt;\r\n         &lt;/children&gt;\r\n      &lt;/VBox&gt;\r\n      &lt;VBox alignment=&quot;CENTER_LEFT&quot; layoutX=&quot;40.0&quot; layoutY=&quot;245.0&quot; prefHeight=&quot;56.0&quot; prefWidth=&quot;157.0&quot; spacing=&quot;5.0&quot;&gt;\r\n         &lt;children&gt;\r\n            &lt;CheckBox fx:id=&quot;undosEnabledCheckbox&quot; mnemonicParsing=&quot;false&quot; text=&quot;Enabled&quot;&gt;\r\n               &lt;font&gt;\r\n                  &lt;Font size=&quot;17.0&quot; /&gt;\r\n               &lt;/font&gt;\r\n               &lt;VBox.margin&gt;\r\n                  &lt;Insets bottom=&quot;4.0&quot; /&gt;\r\n               &lt;/VBox.margin&gt;\r\n            &lt;/CheckBox&gt;\r\n            &lt;CheckBox fx:id=&quot;unlimitedUndosCheckbox&quot; mnemonicParsing=&quot;false&quot; prefHeight=&quot;24.0&quot; prefWidth=&quot;165.0&quot; text=&quot;Unlimited Undos&quot;&gt;\r\n               &lt;font&gt;\r\n                  &lt;Font size=&quot;17.0&quot; /&gt;\r\n               &lt;/font&gt;\r\n            &lt;/CheckBox&gt;\r\n         &lt;/children&gt;\r\n         &lt;opaqueInsets&gt;\r\n            &lt;Insets /&gt;\r\n         &lt;/opaqueInsets&gt;\r\n      &lt;/VBox&gt;\r\n      &lt;HBox layoutX=&quot;42.0&quot; layoutY=&quot;335.0&quot; prefHeight=&quot;22.0&quot; prefWidth=&quot;134.0&quot;&gt;\r\n         &lt;children&gt;\r\n            &lt;Label prefHeight=&quot;22.0&quot; prefWidth=&quot;110.0&quot; text=&quot;Max Undos&quot;&gt;\r\n               &lt;font&gt;\r\n                  &lt;Font size=&quot;17.0&quot; /&gt;\r\n               &lt;/font&gt;\r\n            &lt;/Label&gt;\r\n            &lt;TextField fx:id=&quot;undoTextField&quot; prefHeight=&quot;22.0&quot; prefWidth=&quot;66.0&quot;&gt;\r\n               &lt;font&gt;\r\n                  &lt;Font size=&quot;17.0&quot; /&gt;\r\n               &lt;/font&gt;\r\n               &lt;padding&gt;\r\n                  &lt;Insets left=&quot;8.0&quot; /&gt;\r\n               &lt;/padding&gt;\r\n               &lt;HBox.margin&gt;\r\n                  &lt;Insets left=&quot;5.0&quot; /&gt;\r\n               &lt;/HBox.margin&gt;\r\n            &lt;/TextField&gt;\r\n         &lt;/children&gt;\r\n      &lt;/HBox&gt;\r\n      &lt;HBox alignment=&quot;CENTER_LEFT&quot; layoutX=&quot;39.0&quot; layoutY=&quot;116.0&quot; prefHeight=&quot;29.0&quot; prefWidth=&quot;151.0&quot;&gt;\r\n         &lt;children&gt;\r\n            &lt;Label prefHeight=&quot;23.0&quot; prefWidth=&quot;108.0&quot; text=&quot;White Squares&quot;&gt;\r\n               &lt;font&gt;\r\n                  &lt;Font size=&quot;17.0&quot; /&gt;\r\n               &lt;/font&gt;\r\n            &lt;/Label&gt;\r\n            &lt;Button fx:id=&quot;whiteSquareButton&quot; mnemonicParsing=&quot;false&quot; prefHeight=&quot;26.0&quot; prefWidth=&quot;29.0&quot; text=&quot;  &quot;&gt;\r\n               &lt;font&gt;\r\n                  &lt;Font size=&quot;12.0&quot; /&gt;\r\n               &lt;/font&gt;\r\n               &lt;HBox.margin&gt;\r\n                  &lt;Insets left=&quot;9.0&quot; /&gt;\r\n               &lt;/HBox.margin&gt;\r\n            &lt;/Button&gt;\r\n         &lt;/children&gt;\r\n      &lt;/HBox&gt;\r\n   &lt;/children&gt;\r\n&lt;/AnchorPane&gt;\r\n \r\n```  \r\n\r\nHere&#39;s my controller class:\r\n\r\n``` \r\npackage controllers;\r\n\r\nimport interfaces.guiIF;\r\nimport javafx.application.Application;\r\nimport javafx.scene.Scene;\r\nimport javafx.stage.Stage;\r\nimport ui_gui.MainMenu;\r\nimport ui_gui.ScreenFactory;\r\n\r\n/**\r\n * A class to start the chess application\r\n */\r\npublic class Main extends Application {\r\n\r\n\r\n\r\n    /**\r\n     * Creates a driver and calls runGame.\r\n     */\r\n\r\n    private static Chess game;\r\n    public static void main(String[] args) {\r\n        // guiIF GUI = MainMenu.getMenu();\r\n        game = Chess.getInstanceOfGame();\r\n        Driver driver = new Driver(game);\r\n        driver.runGame();\r\n        launch(args);\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param primaryStage the primary stage for this application, onto which\r\n     * the application scene can be set.\r\n     * Applications may create other stages, if needed, but they will not be\r\n     * primary stages.\r\n     */\r\n\r\n    @Override\r\n    public void start(Stage primaryStage){\r\n        try{\r\n            MainMenu mainScreen = new MainMenu(game);\r\n            Scene scene = new Scene(mainScreen.getRoot(), 1000, 600);\r\n            ScreenFactory.getInstance(scene);\r\n\r\n            scene.getStylesheets().add(getClass().getResource(&quot;application.css&quot;).toExternalForm());\r\n            primaryStage.setScene(scene);\r\n            primaryStage.setResizable(false);\r\n            primaryStage.show();\r\n\r\n\r\n        }\r\n        catch(Exception e){\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n\r\n}\r\n``` \r\n\r\nAnd here&#39;s the error I&#39;m getting when trying to load the scene: \r\n\r\n``` \r\nException in thread &quot;JavaFX Application Thread&quot; java.lang.NullPointerException: Cannot invoke &quot;javafx.scene.control.Button.setBackground(javafx.scene.layout.Background)&quot; because &quot;this.blackSquareButton&quot; is null\r\n\tat ui_gui.OptionsMenu.&lt;init&gt;(OptionsMenu.java:114)\r\n\tat ui_gui.OptionsMenu.getInstance(OptionsMenu.java:79)\r\n\tat ui_gui.ScreenFactory.setScreen(ScreenFactory.java:106)\r\n\tat ui_gui.ScreenFactory.switchScreen(ScreenFactory.java:165)\r\n\tat ui_gui.MainMenu$1.handle(MainMenu.java:245)\r\n\tat ui_gui.MainMenu$1.handle(MainMenu.java:213)\r\n\tat javafx.base/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)\r\n\tat javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:232)\r\n\tat javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:189)\r\n\tat javafx.base/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\r\n\tat javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\r\n\tat javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n\tat javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n\tat javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\r\n\tat javafx.base/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:49)\r\n\tat javafx.base/javafx.event.Event.fireEvent(Event.java:198)\r\n\tat javafx.graphics/javafx.scene.Node.fireEvent(Node.java:8944)\r\n\tat javafx.controls/javafx.scene.control.Button.fire(Button.java:203)\r\n\tat javafx.controls/com.sun.javafx.scene.control.behavior.ButtonBehavior.mouseReleased(ButtonBehavior.java:207)\r\n\tat javafx.controls/com.sun.javafx.scene.control.inputmap.InputMap.handle(InputMap.java:274)\r\n\tat javafx.base/com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(CompositeEventHandler.java:247)\r\n\tat javafx.base/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:80)\r\n\tat javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:232)\r\n\tat javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:189)\r\n\tat javafx.base/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\r\n\tat javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\r\n\tat javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n\tat javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n\tat javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\r\n\tat javafx.base/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)\r\n\tat javafx.base/javafx.event.Event.fireEvent(Event.java:198)\r\n\tat javafx.graphics/javafx.scene.Scene$MouseHandler.process(Scene.java:3980)\r\n\tat javafx.graphics/javafx.scene.Scene.processMouseEvent(Scene.java:1890)\r\n\tat javafx.graphics/javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2704)\r\n\tat javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:411)\r\n\tat javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:301)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n\tat javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:450)\r\n\tat javafx.graphics/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:424)\r\n\tat javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:449)\r\n\tat javafx.graphics/com.sun.glass.ui.View.handleMouseEvent(View.java:551)\r\n\tat javafx.graphics/com.sun.glass.ui.View.notifyMouse(View.java:937)\r\n\tat javafx.graphics/com.sun.glass.ui.mac.MacView.notifyMouse(MacView.java:127)\r\n``` ","title":"Why are my all FXML components null when trying to load JavaFX class?","body":"<p>I've been trying to create an instance of my OptionsMenu() scene when clicking on a button in my MainMenu() scene, but all my FXML components in the scene are showing up as null and I'm unsure why. I've checked the FXML controller, the fx::id of my components, the @FXML headers, and so far, nothing has worked. If anyone could give me some guidance, it would be greatly appreciated.</p>\n<p>Here is my OptionsMenu() class I'm trying to load:</p>\n<pre><code>package ui_gui;\n\nimport controllers.Chess;\nimport controllers.Main;\nimport enums.GameColor;\nimport javafx.beans.value.ObservableValue;\nimport javafx.fxml.FXML;\nimport javafx.fxml.FXMLLoader;\nimport javafx.geometry.Insets;\nimport javafx.scene.Node;\nimport javafx.scene.Scene;\nimport javafx.scene.control.CheckBox;\nimport javafx.scene.control.TextField;\nimport javafx.scene.layout.*;\nimport javafx.event.ActionEvent;\nimport javafx.event.EventHandler;\nimport javafx.scene.control.Button;\nimport javafx.scene.paint.Color;\nimport javafx.stage.Stage;\n\nimport javafx.beans.value.ChangeListener;\nimport model.GameStateEditor;\nimport model.Options;\n\nimport java.io.IOException;\n\npublic class OptionsMenu extends Pane implements EventHandler&lt;ActionEvent&gt; {\n\n    /**The root of the layout**/\n    private Pane root;\n\n    /**the Scene on to which the root is situated**/\n    private Scene scene;\n\n    public enum  Screen {SCREEN3, SCREEN4};\n\n    /**A button on the layout**/\n    @FXML\n    Button blackSquareButton;\n\n    @FXML\n    Button whiteSquareButton;\n\n    @FXML\n    CheckBox undosEnabledCheckbox;\n\n    @FXML\n    CheckBox unlimitedUndosCheckbox;\n\n    @FXML\n    CheckBox showMovesCheckbox;\n\n    @FXML\n    Button saveButton;\n\n    @FXML\n    TextField undoTextField;\n\n    @FXML\n    Button exitButton;\n\n    ScreenChangeHandler screenChanger;\n\n    public static Chess game;\n\n    public static OptionsMenu instance;\n\n    /**Set the handler for sreen changes**/\n    public void setScreenChangeHandler(ScreenChangeHandler sch){\n        this.screenChanger = sch;\n    }//end\n\n    /**\n     * Create a singleton instance of a ColorChooser\n     * @return The instance of this ColorChooser\n     */\n    public static OptionsMenu getInstance(Chess game){\n        if (instance == null){\n            instance = new OptionsMenu(game);\n        }\n        return instance;\n    }//end getInstance\n\n    @FXML\n    public void initialize() {\n        blackSquareButton.setOnAction(this::handle);\n        System.out.println(blackSquareButton.getId());\n        whiteSquareButton.setOnAction(this::handle);\n        saveButton.setOnAction(this::handle);\n        exitButton.setOnAction(this::handle);\n    }\n\n    public OptionsMenu(Chess chessGame) {\n        super();\n        FXMLLoader loader = new FXMLLoader(getClass().getResource(&quot;options-view.fxml&quot;));\n        //loader.setController(new Main());\n        try {\n            root = loader.load();\n\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        }\n        this.game = chessGame;\n\n        Options options = game.getOptions();\n\n        int[] blkColors = options.getBlackSquareColor();\n\n        // Setting the initial color of the blackSquareButton (to black)\n        Color black = Color.rgb(blkColors[0], blkColors[1], blkColors[2]);\n        // Recolor OptionMenu's button with the value chosen in our color picker\n        BackgroundFill blackFill = new BackgroundFill(black, CornerRadii.EMPTY, Insets.EMPTY);\n        Background backGround = new Background(blackFill);\n        blackSquareButton.setBackground(backGround);\n\n        int[] whtColors = options.getWhiteSquareColor();\n\n        // Setting the initial color of the whiteSquareButton (to white)\n        Color white = Color.rgb(whtColors[0], whtColors[1], whtColors[2]);\n        // Recolor OptionMenu's button with the value chosen in our color picker\n        BackgroundFill whiteFill = new BackgroundFill(white, CornerRadii.EMPTY, Insets.EMPTY);\n        Background whiteGround = new Background(whiteFill);\n        whiteSquareButton.setBackground(whiteGround);\n\n        undosEnabledCheckbox.setSelected(options.getUndosEnabled());\n        showMovesCheckbox.setSelected(options.getShowMoves());\n\n        if(undosEnabledCheckbox.isSelected()){\n\n            if(options.getUnlimitedUndos() == true){\n                unlimitedUndosCheckbox.setSelected(true);\n                undoTextField.setDisable(true);\n            }else{// If we don't have unlimited undos in our settings\n                if(options.getUndoMax() != 999){ // 999 represents having unlimited undos\n                    // Set the &quot;undos&quot; text field to the maximum amount of undos in Options()\n                    undoTextField.setText(String.valueOf(options.getUndoMax()));\n                }\n            }\n        }\n\n\n        // Create a ChangeListener that listens for changes in the selected property of the checkbox\n        ChangeListener&lt;Boolean&gt; listener1 = new ChangeListener&lt;Boolean&gt;() {\n            public void changed(ObservableValue&lt;? extends Boolean&gt; observable, Boolean oldValue, Boolean newValue) {\n                if (newValue) {\n                    undoTextField.setDisable(false); // Enable if the checkbox is selected\n                    unlimitedUndosCheckbox.setDisable(false);\n\n                } else {\n                    unlimitedUndosCheckbox.setDisable(true);\n                    unlimitedUndosCheckbox.setSelected(false);\n                    undoTextField.clear();\n                    if(undoTextField.isDisabled() == false){\n                        undoTextField.setDisable(true);\n                    }\n                }\n            }\n        };\n\n        // Add the ChangeListener to the checkbox's selected property\n        undosEnabledCheckbox.selectedProperty().addListener(listener1);\n\n        ChangeListener&lt;Boolean&gt; listener2 = new ChangeListener&lt;Boolean&gt;() {\n            public void changed(ObservableValue&lt;? extends Boolean&gt; observable, Boolean oldValue, Boolean newValue) {\n                if (newValue) {\n                    undoTextField.setDisable(true); // If checked, disable text field\n                    undoTextField.clear();\n                } else {\n                    undoTextField.setDisable(false);\n                }\n            }\n        };\n\n        unlimitedUndosCheckbox.selectedProperty().addListener(listener2);\n\n\n    }\n\n\n\n    /**Get the root of the layout in order for another class to display it**/\n    public Pane getRoot() {\n        return root;\n    }\n\n    /**\n     * Handles an action event generated by a component in our scene\n     * @param actionEvent the event which occurred\n     */\n    @Override\n    public void handle(ActionEvent actionEvent) {\n\n        if (actionEvent.getSource() == blackSquareButton) {\n            openColorChooser(blackSquareButton);\n        }else if(actionEvent.getSource() == whiteSquareButton) {\n            openColorChooser(whiteSquareButton);\n        }else if(actionEvent.getSource() == saveButton){\n            saveSettings();\n        }else if(actionEvent.getSource() == exitButton){\n            //exitSettings();\n        }\n    }\n\n    /**\n     * Saves the Options Menu Screen's settings to the Chess games Options()\n     */\n    public void saveSettings(){\n        // Getting the game's options\n        Options options = game.getOptions();\n        GameStateEditor stateEditor = game.getStateEditor();\n\n        // That means we can undo in this game. If the player doesn't select\n        // anything else, we'll assume they'll undo once at a time\n        if(undosEnabledCheckbox.isSelected()){\n            options.setUndosEnabled(true);\n\n            // If the player wants unlimited undos\n            if(unlimitedUndosCheckbox.isSelected()){\n                options.setUnlimitedUndos(true);\n\n            // If the &quot;Max Undos&quot; text field has numbers in it\n            }else if(0 &lt; undoTextField.getText().length() &amp;&amp; undoTextField.getText().length() &lt; 3){\n                int allowed_undos = Integer.parseInt(undoTextField.getText().trim());\n                options.setUndoMax(allowed_undos);\n                stateEditor.setMaxUndos(options.getUndoMax());\n            }\n        }else{// If the &quot;Undos Enabled&quot; is not selected\n            options.setUndosEnabled(false);\n        }\n\n        if(showMovesCheckbox.isSelected()){\n            options.setShowMoves(true);\n        }else{ // If the show moves checkbox isn't checked\n            options.setShowMoves(true);\n        }\n\n        int[] blkColors = getButtonColorInt(blackSquareButton);\n        int[] whtColors = getButtonColorInt(whiteSquareButton);\n\n        // Setting the options black and white square colors\n        options.setBlackSquareColor(blkColors[0], blkColors[1], blkColors[2]);\n        options.setWhiteSquareColor(whtColors[0], whtColors[1], whtColors[2]);\n    }\n\n    /**\n     * Opens a ColorChooser triggered by a button click\n     * @param button - The button that opened ColorChooser\n     */\n    public void openColorChooser(Button button){\n        screenChanger.switchScreen(ScreenFactory.Screen.SCREEN4);\n\n        /**\n        ColorChooser ch = null;\n        ch = ColorChooser.getInstance();\n        ch.setColor(getButtonColor(button));\n\n        //TODO: For task 3 a another method here would be good.\n\n        root = ch;\n\n        //Change the screen\n        if(screenChanger == null)\n            scene = new Scene(root,400,600);\n        else\n            scene.setRoot(root);\n\n        ch.setPreviousScene(((Node)button).getScene());\n        ch.setPreviousButton(button);\n\n        Stage stage = (Stage) ((Node)button).getScene().getWindow();\n        stage.setScene(scene);\n        stage.show();\n        //runOnce = false;\n         */\n\n    }\n\n    /**\n     * Returns the Color of a button in the form of a list of integers representing\n     * RBG values.\n     * @param button - The button whose color we're getting\n     * @return A button's color as a list of integers\n     */\n    public int[] getButtonColorInt(Button button){\n        Color color = (Color) button.getBackground().getFills().get(0).getFill();\n        int[] buttonColors =  {(int)(color.getRed()), (int)(color.getGreen()), (int)(color.getBlue())};\n        return buttonColors;\n    }\n\n    /**\n     * Returns the Color of a button in the form of a Hexadecimal string.\n     * @param button - The button whose color we're getting\n     * @return A button's color as a Hexadecimal string\n     */\n    public String getButtonColor(Button button){\n        Color color = (Color) button.getBackground().getFills().get(0).getFill();\n        String hex = String.format(&quot;%02X%02X%02X&quot;, (int)(color.getRed()*255),\n                (int)(color.getGreen()*255), (int)(color.getBlue()*255));\n        return hex;\n    }\n\n}\n</code></pre>\n<p>Here's my FXML file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import javafx.geometry.Insets?&gt;\n&lt;?import javafx.scene.control.Button?&gt;\n&lt;?import javafx.scene.control.CheckBox?&gt;\n&lt;?import javafx.scene.control.Label?&gt;\n&lt;?import javafx.scene.control.TextField?&gt;\n&lt;?import javafx.scene.layout.AnchorPane?&gt;\n&lt;?import javafx.scene.layout.HBox?&gt;\n&lt;?import javafx.scene.layout.VBox?&gt;\n&lt;?import javafx.scene.text.Font?&gt;\n\n&lt;AnchorPane minWidth=&quot;400.0&quot; prefHeight=&quot;400.0&quot; prefWidth=&quot;400.0&quot; xmlns=&quot;http://javafx.com/javafx/19&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;controllers.Main&quot;&gt;\n   &lt;children&gt;\n      &lt;Label alignment=&quot;TOP_LEFT&quot; layoutX=&quot;150.0&quot; layoutY=&quot;20.0&quot; prefHeight=&quot;40.0&quot; prefWidth=&quot;95.0&quot; text=&quot;Settings&quot;&gt;\n         &lt;font&gt;\n            &lt;Font size=&quot;27.0&quot; /&gt;\n         &lt;/font&gt;\n      &lt;/Label&gt;\n      &lt;Label layoutX=&quot;39.0&quot; layoutY=&quot;76.0&quot; maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;40.0&quot; prefWidth=&quot;80.0&quot; text=&quot;Colors:&quot;&gt;\n         &lt;font&gt;\n            &lt;Font size=&quot;20.0&quot; /&gt;\n         &lt;/font&gt;\n      &lt;/Label&gt;\n      &lt;HBox alignment=&quot;CENTER_LEFT&quot; layoutX=&quot;40.0&quot; layoutY=&quot;159.0&quot; maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;29.0&quot; prefWidth=&quot;157.0&quot;&gt;\n         &lt;children&gt;\n            &lt;Label contentDisplay=&quot;BOTTOM&quot; prefHeight=&quot;22.0&quot; prefWidth=&quot;110.0&quot; text=&quot;Black Squares&quot;&gt;\n               &lt;font&gt;\n                  &lt;Font size=&quot;17.0&quot; /&gt;\n               &lt;/font&gt;\n            &lt;/Label&gt;\n            &lt;Button fx:id=&quot;blackSquareButton&quot; mnemonicParsing=&quot;false&quot; prefHeight=&quot;28.0&quot; prefWidth=&quot;29.0&quot; text=&quot;  &quot; textAlignment=&quot;CENTER&quot;&gt;\n               &lt;font&gt;\n                  &lt;Font size=&quot;2.0&quot; /&gt;\n               &lt;/font&gt;\n               &lt;HBox.margin&gt;\n                  &lt;Insets left=&quot;7.0&quot; /&gt;\n               &lt;/HBox.margin&gt;\n            &lt;/Button&gt;\n         &lt;/children&gt;\n      &lt;/HBox&gt;\n      &lt;VBox layoutX=&quot;40.0&quot; layoutY=&quot;207.0&quot;&gt;\n         &lt;children&gt;\n            &lt;Label prefHeight=&quot;26.0&quot; prefWidth=&quot;89.0&quot; text=&quot;Undo:&quot;&gt;\n               &lt;font&gt;\n                  &lt;Font size=&quot;20.0&quot; /&gt;\n               &lt;/font&gt;\n            &lt;/Label&gt;\n         &lt;/children&gt;\n      &lt;/VBox&gt;\n      &lt;VBox layoutX=&quot;226.0&quot; layoutY=&quot;131.0&quot;&gt;\n         &lt;children&gt;\n            &lt;CheckBox fx:id=&quot;showMovesCheckbox&quot; mnemonicParsing=&quot;false&quot; prefHeight=&quot;33.0&quot; prefWidth=&quot;134.0&quot; text=&quot;Show moves&quot;&gt;\n               &lt;font&gt;\n                  &lt;Font size=&quot;17.0&quot; /&gt;\n               &lt;/font&gt;\n            &lt;/CheckBox&gt;\n         &lt;/children&gt;\n      &lt;/VBox&gt;\n      &lt;VBox alignment=&quot;CENTER&quot; layoutX=&quot;237.0&quot; layoutY=&quot;298.0&quot; prefHeight=&quot;48.0&quot; prefWidth=&quot;123.0&quot; spacing=&quot;8.0&quot;&gt;\n         &lt;children&gt;\n            &lt;Button fx:id=&quot;saveButton&quot; mnemonicParsing=&quot;false&quot; text=&quot;Save&quot;&gt;\n               &lt;font&gt;\n                  &lt;Font size=&quot;17.0&quot; /&gt;\n               &lt;/font&gt;\n            &lt;/Button&gt;\n            &lt;Button fx:id=&quot;exitButton&quot; mnemonicParsing=&quot;false&quot; text=&quot;Exit&quot;&gt;\n               &lt;font&gt;\n                  &lt;Font size=&quot;17.0&quot; /&gt;\n               &lt;/font&gt;\n            &lt;/Button&gt;\n         &lt;/children&gt;\n      &lt;/VBox&gt;\n      &lt;VBox alignment=&quot;CENTER_LEFT&quot; layoutX=&quot;40.0&quot; layoutY=&quot;245.0&quot; prefHeight=&quot;56.0&quot; prefWidth=&quot;157.0&quot; spacing=&quot;5.0&quot;&gt;\n         &lt;children&gt;\n            &lt;CheckBox fx:id=&quot;undosEnabledCheckbox&quot; mnemonicParsing=&quot;false&quot; text=&quot;Enabled&quot;&gt;\n               &lt;font&gt;\n                  &lt;Font size=&quot;17.0&quot; /&gt;\n               &lt;/font&gt;\n               &lt;VBox.margin&gt;\n                  &lt;Insets bottom=&quot;4.0&quot; /&gt;\n               &lt;/VBox.margin&gt;\n            &lt;/CheckBox&gt;\n            &lt;CheckBox fx:id=&quot;unlimitedUndosCheckbox&quot; mnemonicParsing=&quot;false&quot; prefHeight=&quot;24.0&quot; prefWidth=&quot;165.0&quot; text=&quot;Unlimited Undos&quot;&gt;\n               &lt;font&gt;\n                  &lt;Font size=&quot;17.0&quot; /&gt;\n               &lt;/font&gt;\n            &lt;/CheckBox&gt;\n         &lt;/children&gt;\n         &lt;opaqueInsets&gt;\n            &lt;Insets /&gt;\n         &lt;/opaqueInsets&gt;\n      &lt;/VBox&gt;\n      &lt;HBox layoutX=&quot;42.0&quot; layoutY=&quot;335.0&quot; prefHeight=&quot;22.0&quot; prefWidth=&quot;134.0&quot;&gt;\n         &lt;children&gt;\n            &lt;Label prefHeight=&quot;22.0&quot; prefWidth=&quot;110.0&quot; text=&quot;Max Undos&quot;&gt;\n               &lt;font&gt;\n                  &lt;Font size=&quot;17.0&quot; /&gt;\n               &lt;/font&gt;\n            &lt;/Label&gt;\n            &lt;TextField fx:id=&quot;undoTextField&quot; prefHeight=&quot;22.0&quot; prefWidth=&quot;66.0&quot;&gt;\n               &lt;font&gt;\n                  &lt;Font size=&quot;17.0&quot; /&gt;\n               &lt;/font&gt;\n               &lt;padding&gt;\n                  &lt;Insets left=&quot;8.0&quot; /&gt;\n               &lt;/padding&gt;\n               &lt;HBox.margin&gt;\n                  &lt;Insets left=&quot;5.0&quot; /&gt;\n               &lt;/HBox.margin&gt;\n            &lt;/TextField&gt;\n         &lt;/children&gt;\n      &lt;/HBox&gt;\n      &lt;HBox alignment=&quot;CENTER_LEFT&quot; layoutX=&quot;39.0&quot; layoutY=&quot;116.0&quot; prefHeight=&quot;29.0&quot; prefWidth=&quot;151.0&quot;&gt;\n         &lt;children&gt;\n            &lt;Label prefHeight=&quot;23.0&quot; prefWidth=&quot;108.0&quot; text=&quot;White Squares&quot;&gt;\n               &lt;font&gt;\n                  &lt;Font size=&quot;17.0&quot; /&gt;\n               &lt;/font&gt;\n            &lt;/Label&gt;\n            &lt;Button fx:id=&quot;whiteSquareButton&quot; mnemonicParsing=&quot;false&quot; prefHeight=&quot;26.0&quot; prefWidth=&quot;29.0&quot; text=&quot;  &quot;&gt;\n               &lt;font&gt;\n                  &lt;Font size=&quot;12.0&quot; /&gt;\n               &lt;/font&gt;\n               &lt;HBox.margin&gt;\n                  &lt;Insets left=&quot;9.0&quot; /&gt;\n               &lt;/HBox.margin&gt;\n            &lt;/Button&gt;\n         &lt;/children&gt;\n      &lt;/HBox&gt;\n   &lt;/children&gt;\n&lt;/AnchorPane&gt;\n \n</code></pre>\n<p>Here's my controller class:</p>\n<pre><code>package controllers;\n\nimport interfaces.guiIF;\nimport javafx.application.Application;\nimport javafx.scene.Scene;\nimport javafx.stage.Stage;\nimport ui_gui.MainMenu;\nimport ui_gui.ScreenFactory;\n\n/**\n * A class to start the chess application\n */\npublic class Main extends Application {\n\n\n\n    /**\n     * Creates a driver and calls runGame.\n     */\n\n    private static Chess game;\n    public static void main(String[] args) {\n        // guiIF GUI = MainMenu.getMenu();\n        game = Chess.getInstanceOfGame();\n        Driver driver = new Driver(game);\n        driver.runGame();\n        launch(args);\n    }\n\n    /**\n     *\n     * @param primaryStage the primary stage for this application, onto which\n     * the application scene can be set.\n     * Applications may create other stages, if needed, but they will not be\n     * primary stages.\n     */\n\n    @Override\n    public void start(Stage primaryStage){\n        try{\n            MainMenu mainScreen = new MainMenu(game);\n            Scene scene = new Scene(mainScreen.getRoot(), 1000, 600);\n            ScreenFactory.getInstance(scene);\n\n            scene.getStylesheets().add(getClass().getResource(&quot;application.css&quot;).toExternalForm());\n            primaryStage.setScene(scene);\n            primaryStage.setResizable(false);\n            primaryStage.show();\n\n\n        }\n        catch(Exception e){\n            e.printStackTrace();\n        }\n    }\n\n\n}\n</code></pre>\n<p>And here's the error I'm getting when trying to load the scene:</p>\n<pre><code>Exception in thread &quot;JavaFX Application Thread&quot; java.lang.NullPointerException: Cannot invoke &quot;javafx.scene.control.Button.setBackground(javafx.scene.layout.Background)&quot; because &quot;this.blackSquareButton&quot; is null\n    at ui_gui.OptionsMenu.&lt;init&gt;(OptionsMenu.java:114)\n    at ui_gui.OptionsMenu.getInstance(OptionsMenu.java:79)\n    at ui_gui.ScreenFactory.setScreen(ScreenFactory.java:106)\n    at ui_gui.ScreenFactory.switchScreen(ScreenFactory.java:165)\n    at ui_gui.MainMenu$1.handle(MainMenu.java:245)\n    at ui_gui.MainMenu$1.handle(MainMenu.java:213)\n    at javafx.base/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)\n    at javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:232)\n    at javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:189)\n    at javafx.base/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\n    at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\n    at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\n    at javafx.base/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:49)\n    at javafx.base/javafx.event.Event.fireEvent(Event.java:198)\n    at javafx.graphics/javafx.scene.Node.fireEvent(Node.java:8944)\n    at javafx.controls/javafx.scene.control.Button.fire(Button.java:203)\n    at javafx.controls/com.sun.javafx.scene.control.behavior.ButtonBehavior.mouseReleased(ButtonBehavior.java:207)\n    at javafx.controls/com.sun.javafx.scene.control.inputmap.InputMap.handle(InputMap.java:274)\n    at javafx.base/com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(CompositeEventHandler.java:247)\n    at javafx.base/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:80)\n    at javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:232)\n    at javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:189)\n    at javafx.base/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\n    at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\n    at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\n    at javafx.base/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)\n    at javafx.base/javafx.event.Event.fireEvent(Event.java:198)\n    at javafx.graphics/javafx.scene.Scene$MouseHandler.process(Scene.java:3980)\n    at javafx.graphics/javafx.scene.Scene.processMouseEvent(Scene.java:1890)\n    at javafx.graphics/javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2704)\n    at javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:411)\n    at javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:301)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\n    at javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:450)\n    at javafx.graphics/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:424)\n    at javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:449)\n    at javafx.graphics/com.sun.glass.ui.View.handleMouseEvent(View.java:551)\n    at javafx.graphics/com.sun.glass.ui.View.notifyMouse(View.java:937)\n    at javafx.graphics/com.sun.glass.ui.mac.MacView.notifyMouse(MacView.java:127)\n</code></pre>\n"},{"tags":["java","itext","itext7","html-to-pdf"],"answers":[{"tags":[],"owner":{"account_id":6482662,"reputation":677,"user_id":5019199,"display_name":"e.g78"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1563883631,"creation_date":1563883025,"answer_id":57163731,"question_id":57163609,"body_markdown":"`com/itextpdf/kernel/counter/event/IMetaInfo` is not present in version `7.0.4`\r\nTry upgrading to itext `7.1.7`","title":"java.lang.NoClassDefFoundError: com/itextpdf/kernel/counter/event/IMetaInfo","body":"<p><code>com/itextpdf/kernel/counter/event/IMetaInfo</code> is not present in version <code>7.0.4</code>\nTry upgrading to itext <code>7.1.7</code></p>\n"},{"tags":[],"owner":{"account_id":16593981,"reputation":15,"user_id":11991372,"display_name":"lukdymek"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1672319168,"creation_date":1672311899,"answer_id":74950303,"question_id":57163609,"body_markdown":"Yesterday I had simillar problem. It appears that some dependencies  did not load properly even that no errors were thrown. I had to restart IDE (Eclipse in my case) and that sorted out the problem. ","title":"java.lang.NoClassDefFoundError: com/itextpdf/kernel/counter/event/IMetaInfo","body":"<p>Yesterday I had simillar problem. It appears that some dependencies  did not load properly even that no errors were thrown. I had to restart IDE (Eclipse in my case) and that sorted out the problem.</p>\n"},{"tags":[],"owner":{"account_id":3205334,"reputation":51,"user_id":2706465,"display_name":"Nandom Gusen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683430825,"creation_date":1683430825,"answer_id":76192092,"question_id":57163609,"body_markdown":"With html2pdf, this error `java.lang.NoClassDefFoundError: com/itextpdf/kernel/counter/event/IMetaInfo` is resolved by upgrading your IText 7 Kernel to 7.2.5 as shown below\r\n\r\n     &lt;dependency&gt;\r\n         &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\r\n         &lt;artifactId&gt;kernel&lt;/artifactId&gt;\r\n         &lt;version&gt;7.2.5&lt;/version&gt;\r\n     &lt;/dependency&gt;","title":"java.lang.NoClassDefFoundError: com/itextpdf/kernel/counter/event/IMetaInfo","body":"<p>With html2pdf, this error <code>java.lang.NoClassDefFoundError: com/itextpdf/kernel/counter/event/IMetaInfo</code> is resolved by upgrading your IText 7 Kernel to 7.2.5 as shown below</p>\n<pre><code> &lt;dependency&gt;\n     &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\n     &lt;artifactId&gt;kernel&lt;/artifactId&gt;\n     &lt;version&gt;7.2.5&lt;/version&gt;\n &lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":13399610,"reputation":430,"user_id":10229308,"display_name":"Nick"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6457,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":57163731,"answer_count":3,"score":3,"last_activity_date":1683430825,"creation_date":1563882636,"question_id":57163609,"body_markdown":"I&#39;m new to Java, I&#39;m working on generating pdf from html. Therefore, I&#39;m using the iText7, I can generate a normal pdf file through PdfWriter and Document but I can&#39;t do it using html2pdf.\r\n\r\nHere is my Pom.xml\r\n\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n      xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n      &lt;groupId&gt;springexample&lt;/groupId&gt;\r\n      &lt;artifactId&gt;PDFGenerator&lt;/artifactId&gt;\r\n      &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n      &lt;packaging&gt;jar&lt;/packaging&gt;\r\n    \r\n      &lt;name&gt;bean&lt;/name&gt;\r\n      &lt;url&gt;http://maven.apache.org&lt;/url&gt;\r\n    \r\n      &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n      &lt;/properties&gt;\r\n    \r\n      &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;junit&lt;/groupId&gt;\r\n          &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n          &lt;version&gt;3.8.1&lt;/version&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        \r\n        &lt;!-- https://mvnrepository.com/artifact/com.itextpdf/itext7-core --&gt;\r\n    \t&lt;dependency&gt;\r\n    \t    &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\r\n    \t    &lt;artifactId&gt;itext7-core&lt;/artifactId&gt;\r\n    \t    &lt;version&gt;7.0.4&lt;/version&gt;\r\n    \t    &lt;type&gt;pom&lt;/type&gt;\r\n    \t&lt;/dependency&gt;\r\n    \r\n        &lt;!-- https://mvnrepository.com/artifact/com.itextpdf/itext7-core --&gt;\r\n    \t&lt;dependency&gt;\r\n            &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\r\n            &lt;artifactId&gt;kernel&lt;/artifactId&gt;\r\n            &lt;version&gt;7.0.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\r\n            &lt;artifactId&gt;io&lt;/artifactId&gt;\r\n            &lt;version&gt;7.0.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\r\n            &lt;artifactId&gt;layout&lt;/artifactId&gt;\r\n            &lt;version&gt;7.0.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\r\n            &lt;artifactId&gt;forms&lt;/artifactId&gt;\r\n            &lt;version&gt;7.0.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\r\n            &lt;artifactId&gt;pdfa&lt;/artifactId&gt;\r\n            &lt;version&gt;7.0.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\r\n            &lt;artifactId&gt;pdftest&lt;/artifactId&gt;\r\n            &lt;version&gt;7.0.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/com.itextpdf/html2pdf --&gt;\r\n    \t&lt;dependency&gt;\r\n    \t    &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\r\n    \t    &lt;artifactId&gt;html2pdf&lt;/artifactId&gt;\r\n    \t    &lt;version&gt;2.1.4&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t\r\n    \t&lt;!-- https://mvnrepository.com/artifact/org.slf4j/slf4j-log4j12 --&gt;\r\n    \t&lt;dependency&gt;\r\n    \t    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n    \t    &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\r\n    \t    &lt;version&gt;1.7.26&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    &lt;/project&gt;\r\n\r\nand here is my code java:\r\n\r\n    import java.io.FileOutputStream;\r\n    import java.io.IOException;\r\n    import java.nio.file.Paths;\r\n    \r\n    import com.itextpdf.html2pdf.HtmlConverter;\r\n        \r\n    public class HtmlToPdf {\r\n        \t\r\n    /** The HTML-string that we are going to convert to PDF. */\r\n    public static final String HTML = &quot;&lt;h1&gt;Test&lt;/h1&gt;&lt;p&gt;Hello World&lt;/p&gt;&quot;;\r\n    /** The target folder for the result. */\r\n    public static final String TARGET = &quot;target/&quot;;\r\n    /** The path to the resulting PDF file. */\r\n    public static final String DEST = String.format(&quot;%stest-01.pdf&quot;, TARGET);\r\n        \t\r\n        \tpublic static void main(String[] args) throws IOException { \r\n        \r\n        \t\tHtmlConverter.convertToPdf(HTML, new FileOutputStream(DEST));\r\n        \r\n        \t\tSystem.out.println(&quot;Done&quot;);\r\n            }\r\n        }\r\n\r\nThe error is on the line: \r\n\r\n    HtmlConverter.convertToPdf(HTML, new FileOutputStream(DEST));\r\n\r\n-------\r\n\r\n    Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: com/itextpdf/kernel/counter/event/IMetaInfo\r\n    \tat springexample.bean.HtmlToPdf.main(HtmlToPdf.java:18)\r\n    Caused by: java.lang.ClassNotFoundException: com.itextpdf.kernel.counter.event.IMetaInfo\r\n    \tat java.net.URLClassLoader.findClass(Unknown Source)\r\n    \tat java.lang.ClassLoader.loadClass(Unknown Source)\r\n    \tat sun.misc.Launcher$AppClassLoader.loadClass(Unknown Source)\r\n    \tat java.lang.ClassLoader.loadClass(Unknown Source)\r\n\r\nI read other issues related to \r\n\r\n&gt; java.lang.NoClassDefFoundError\r\n\r\nthey said that I need to add the io and slf4j dependencies, however the error remains.\r\nThanks in advance.","title":"java.lang.NoClassDefFoundError: com/itextpdf/kernel/counter/event/IMetaInfo","body":"<p>I'm new to Java, I'm working on generating pdf from html. Therefore, I'm using the iText7, I can generate a normal pdf file through PdfWriter and Document but I can't do it using html2pdf.</p>\n\n<p>Here is my Pom.xml</p>\n\n<pre><code>&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n  xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n  &lt;groupId&gt;springexample&lt;/groupId&gt;\n  &lt;artifactId&gt;PDFGenerator&lt;/artifactId&gt;\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n  &lt;packaging&gt;jar&lt;/packaging&gt;\n\n  &lt;name&gt;bean&lt;/name&gt;\n  &lt;url&gt;http://maven.apache.org&lt;/url&gt;\n\n  &lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n  &lt;/properties&gt;\n\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;junit&lt;/groupId&gt;\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\n      &lt;version&gt;3.8.1&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- https://mvnrepository.com/artifact/com.itextpdf/itext7-core --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\n        &lt;artifactId&gt;itext7-core&lt;/artifactId&gt;\n        &lt;version&gt;7.0.4&lt;/version&gt;\n        &lt;type&gt;pom&lt;/type&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- https://mvnrepository.com/artifact/com.itextpdf/itext7-core --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\n        &lt;artifactId&gt;kernel&lt;/artifactId&gt;\n        &lt;version&gt;7.0.4&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\n        &lt;artifactId&gt;io&lt;/artifactId&gt;\n        &lt;version&gt;7.0.4&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\n        &lt;artifactId&gt;layout&lt;/artifactId&gt;\n        &lt;version&gt;7.0.4&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\n        &lt;artifactId&gt;forms&lt;/artifactId&gt;\n        &lt;version&gt;7.0.4&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\n        &lt;artifactId&gt;pdfa&lt;/artifactId&gt;\n        &lt;version&gt;7.0.4&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\n        &lt;artifactId&gt;pdftest&lt;/artifactId&gt;\n        &lt;version&gt;7.0.4&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/com.itextpdf/html2pdf --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\n        &lt;artifactId&gt;html2pdf&lt;/artifactId&gt;\n        &lt;version&gt;2.1.4&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- https://mvnrepository.com/artifact/org.slf4j/slf4j-log4j12 --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n        &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\n        &lt;version&gt;1.7.26&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/project&gt;\n</code></pre>\n\n<p>and here is my code java:</p>\n\n<pre><code>import java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.nio.file.Paths;\n\nimport com.itextpdf.html2pdf.HtmlConverter;\n\npublic class HtmlToPdf {\n\n/** The HTML-string that we are going to convert to PDF. */\npublic static final String HTML = \"&lt;h1&gt;Test&lt;/h1&gt;&lt;p&gt;Hello World&lt;/p&gt;\";\n/** The target folder for the result. */\npublic static final String TARGET = \"target/\";\n/** The path to the resulting PDF file. */\npublic static final String DEST = String.format(\"%stest-01.pdf\", TARGET);\n\n        public static void main(String[] args) throws IOException { \n\n            HtmlConverter.convertToPdf(HTML, new FileOutputStream(DEST));\n\n            System.out.println(\"Done\");\n        }\n    }\n</code></pre>\n\n<p>The error is on the line: </p>\n\n<pre><code>HtmlConverter.convertToPdf(HTML, new FileOutputStream(DEST));\n</code></pre>\n\n<hr>\n\n<pre><code>Exception in thread \"main\" java.lang.NoClassDefFoundError: com/itextpdf/kernel/counter/event/IMetaInfo\n    at springexample.bean.HtmlToPdf.main(HtmlToPdf.java:18)\nCaused by: java.lang.ClassNotFoundException: com.itextpdf.kernel.counter.event.IMetaInfo\n    at java.net.URLClassLoader.findClass(Unknown Source)\n    at java.lang.ClassLoader.loadClass(Unknown Source)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Unknown Source)\n    at java.lang.ClassLoader.loadClass(Unknown Source)\n</code></pre>\n\n<p>I read other issues related to </p>\n\n<blockquote>\n  <p>java.lang.NoClassDefFoundError</p>\n</blockquote>\n\n<p>they said that I need to add the io and slf4j dependencies, however the error remains.\nThanks in advance.</p>\n"},{"tags":["java","mongodb","spring-boot"],"comments":[{"owner":{"account_id":1490931,"reputation":410,"user_id":1398030,"display_name":"Madhawa Gunasekara"},"score":0,"creation_date":1683424531,"post_id":76191897,"comment_id":134364362,"body_markdown":"If we can&#39;t include the review as a field for the Book collection, then what is the relationship or link of the review with the book to identify the review is linked with book ?","body":"If we can&#39;t include the review as a field for the Book collection, then what is the relationship or link of the review with the book to identify the review is linked with book ?"},{"owner":{"account_id":27002111,"reputation":23,"user_id":20563243,"display_name":"alwaysneedhelp1901"},"score":1,"creation_date":1683424650,"post_id":76191897,"comment_id":134364370,"body_markdown":"@MadhawaGunasekara the review has a reference to the book&#39;s id","body":"@MadhawaGunasekara the review has a reference to the book&#39;s id"}],"answers":[{"tags":[],"owner":{"account_id":1490931,"reputation":410,"user_id":1398030,"display_name":"Madhawa Gunasekara"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683428910,"creation_date":1683428910,"answer_id":76192030,"question_id":76191897,"body_markdown":"I think you could try the below-suggested approach.\r\n\r\nSince you can&#39;t modify the db schema you need to first get the bookId related to bookName from Books.\r\n\r\nThen we could fetch Reviews based on this bookId from db separately.\r\n\r\n **Review Repository**\r\n\r\n    @Query(&quot;custom query here&quot;)     \r\n    public List&lt;Reviews&gt; findAllByBookId(String bookId); \r\n\r\n **Book Repository**\r\n\r\n    @Query(&quot;custom query here&quot;)     \r\n    public Book findByBookName(String name); \r\n\r\n**Controller**\r\n\r\n    @PostMapping(&quot;/reviews/searchbybook&quot;)\r\n    public List&lt;Reviews&gt; locationReviews(@RequestBody Books book){\r\n\r\n            Book fetchedBook = bookRepository.findByBookName(book.getName()).get(); // Fetch Book related to input bookName\r\n            List&lt;Reviews&gt; results= reviewRepository.findAllByBookId(fetchedBook.getId()); //Now fetch list of reviews by using available bookId reference\r\n            return results;\r\n        }\r\n\r\n","title":"How can I query a referenced object for a Spring Boot Application?","body":"<p>I think you could try the below-suggested approach.</p>\n<p>Since you can't modify the db schema you need to first get the bookId related to bookName from Books.</p>\n<p>Then we could fetch Reviews based on this bookId from db separately.</p>\n<p><strong>Review Repository</strong></p>\n<pre><code>@Query(&quot;custom query here&quot;)     \npublic List&lt;Reviews&gt; findAllByBookId(String bookId); \n</code></pre>\n<p><strong>Book Repository</strong></p>\n<pre><code>@Query(&quot;custom query here&quot;)     \npublic Book findByBookName(String name); \n</code></pre>\n<p><strong>Controller</strong></p>\n<pre><code>@PostMapping(&quot;/reviews/searchbybook&quot;)\npublic List&lt;Reviews&gt; locationReviews(@RequestBody Books book){\n\n        Book fetchedBook = bookRepository.findByBookName(book.getName()).get(); // Fetch Book related to input bookName\n        List&lt;Reviews&gt; results= reviewRepository.findAllByBookId(fetchedBook.getId()); //Now fetch list of reviews by using available bookId reference\n        return results;\n    }\n</code></pre>\n"}],"owner":{"account_id":27002111,"reputation":23,"user_id":20563243,"display_name":"alwaysneedhelp1901"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1683428910,"creation_date":1683424111,"question_id":76191897,"body_markdown":"I am creating a Spring Boot Application and I am using MongoDB with it. I have 2 collections. One called review, the other called book. In a review, there is a reference to the book. What I am trying to do is to write a method that would allow me to search a book name, and get all the reviews on it.\r\n\r\nThe challenge is to not change the database structure. So, I cannot just make review a field for the book collection.\r\n\r\nI tried the following: \r\n\r\nRepository:\r\n``` \r\npublic List&lt;Reviews&gt; findByBooksNameContainsIgnoreCase (String name); \r\n```\r\nController:\r\n```\r\n@PostMapping(&quot;/reviews/searchbybook&quot;)\r\npublic List&lt;Reviews&gt; locationReviews(@RequestBody Books book){\r\n\t\tList&lt;Reviews&gt; results= commentRepository.findByBooksNameContainsIgnoreCase(book.getName());\r\n\t\treturn results;\r\n\t}\r\n```\r\n\r\ngetName() [function in the class declaration of Books as part of Model]:\r\n```\r\nprivate String name;\r\n\r\npublic String getName() {\r\n\t\treturn name;\r\n\t}\r\n```\r\n\r\nExample of a Reviews Document:\r\n```\r\n{\r\n      _id: ObjectId(&#39;645762e828u3927h393u9293&#39;),\r\n      reviewer: &quot;someone&quot;,\r\n      review: &quot;Awesome Book!&quot;,\r\n      book: DBRef(&#39;books&#39;, &#39;645762e828u3927h393u9292)\r\n}\r\n\r\n```\r\n\r\n\r\nThank you in advance!!","title":"How can I query a referenced object for a Spring Boot Application?","body":"<p>I am creating a Spring Boot Application and I am using MongoDB with it. I have 2 collections. One called review, the other called book. In a review, there is a reference to the book. What I am trying to do is to write a method that would allow me to search a book name, and get all the reviews on it.</p>\n<p>The challenge is to not change the database structure. So, I cannot just make review a field for the book collection.</p>\n<p>I tried the following:</p>\n<p>Repository:</p>\n<pre><code>public List&lt;Reviews&gt; findByBooksNameContainsIgnoreCase (String name); \n</code></pre>\n<p>Controller:</p>\n<pre><code>@PostMapping(&quot;/reviews/searchbybook&quot;)\npublic List&lt;Reviews&gt; locationReviews(@RequestBody Books book){\n        List&lt;Reviews&gt; results= commentRepository.findByBooksNameContainsIgnoreCase(book.getName());\n        return results;\n    }\n</code></pre>\n<p>getName() [function in the class declaration of Books as part of Model]:</p>\n<pre><code>private String name;\n\npublic String getName() {\n        return name;\n    }\n</code></pre>\n<p>Example of a Reviews Document:</p>\n<pre><code>{\n      _id: ObjectId('645762e828u3927h393u9293'),\n      reviewer: &quot;someone&quot;,\n      review: &quot;Awesome Book!&quot;,\n      book: DBRef('books', '645762e828u3927h393u9292)\n}\n\n</code></pre>\n<p>Thank you in advance!!</p>\n"},{"tags":["java","xml","jaxb"],"answers":[{"tags":[],"owner":{"account_id":900534,"reputation":890,"user_id":936793,"accept_rate":78,"display_name":"Clark"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1399655880,"creation_date":1399655880,"answer_id":23570497,"question_id":23550197,"body_markdown":"Turns out my question was answered by the first comment on the [blog](http://blog.bdoughan.com/2011/04/xmlanyelement-and-non-dom-properties.html) post this example is taken from.  The code of BioHandler.createUnmarshaller() should be:\r\n\r\n    public StreamResult createUnmarshaller(ValidationEventHandler errorHandler) {\r\n    \txmlWriter.getBuffer().setLength(0);\r\n        return new StreamResult(xmlWriter);\r\n    }\r\n\r\n","title":"DomHandler to capture text for multiple records","body":"<p>Turns out my question was answered by the first comment on the <a href=\"http://blog.bdoughan.com/2011/04/xmlanyelement-and-non-dom-properties.html\" rel=\"nofollow\">blog</a> post this example is taken from.  The code of BioHandler.createUnmarshaller() should be:</p>\n\n<pre><code>public StreamResult createUnmarshaller(ValidationEventHandler errorHandler) {\n    xmlWriter.getBuffer().setLength(0);\n    return new StreamResult(xmlWriter);\n}\n</code></pre>\n"}],"owner":{"account_id":900534,"reputation":890,"user_id":936793,"accept_rate":78,"display_name":"Clark"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1037,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":23570497,"answer_count":1,"score":2,"last_activity_date":1683428664,"creation_date":1399575087,"question_id":23550197,"body_markdown":"I am attempting to use @XmlAnyElement with DomHandler to capture the unparsed text within a particular field like &lt;bio&gt; in [this](http://blog.bdoughan.com/2011/04/xmlanyelement-and-non-dom-properties.html) example from Blaise Doughan.  But when I attempt to parse multiple customers the contents of bio fields from all previous &lt;customer&gt; records continue to be sent to my DomHandler!  \r\n\r\nHere is the example document I am trying to parse:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;customers&gt;\r\n       &lt;customer&gt;\r\n         &lt;name&gt;Jane Doe&lt;/name&gt;\r\n         &lt;bio&gt;\r\n           &lt;html&gt;Jane&#39;s bio&lt;/html&gt;\r\n         &lt;/bio&gt;\r\n       &lt;/customer&gt;\r\n       &lt;customer&gt;\r\n         &lt;name&gt;John Doe&lt;/name&gt;\r\n         &lt;bio&gt;\r\n           &lt;html&gt;John&#39;s bio&lt;/html&gt;\r\n         &lt;/bio&gt;\r\n       &lt;/customer&gt;\r\n    &lt;/customers&gt;\r\n\r\nBut the output is:\r\n\r\n     Name:  Jane Doe \r\n     Bio:   &lt;html&gt;Jane&#39;s bio&lt;/html&gt;\r\n     Name:  John Doe \r\n     Bio:   &lt;html&gt;Jane&#39;s bio&lt;/html&gt;\r\n\r\n\r\n**BioHandler** (unchanged from [previous example](http://blog.bdoughan.com/2011/04/xmlanyelement-and-non-dom-properties.html))\r\n\r\n    package blog.domhandler;\r\n     \r\n    import java.io.StringReader;\r\n    import java.io.StringWriter;\r\n     \r\n    import javax.xml.bind.ValidationEventHandler;\r\n    import javax.xml.bind.annotation.DomHandler;\r\n    import javax.xml.transform.Source;\r\n    import javax.xml.transform.stream.StreamResult;\r\n    import javax.xml.transform.stream.StreamSource;\r\n     \r\n    public class BioHandler implements DomHandler&lt;String, StreamResult&gt; {\r\n     \r\n        private static final String BIO_START_TAG = &quot;&lt;bio&gt;&quot;;\r\n        private static final String BIO_END_TAG = &quot;&lt;/bio&gt;&quot;;\r\n     \r\n        private StringWriter xmlWriter = new StringWriter();\r\n     \r\n        public StreamResult createUnmarshaller(ValidationEventHandler errorHandler) {\r\n            return new StreamResult(xmlWriter);\r\n        }\r\n     \r\n        public String getElement(StreamResult rt) {\r\n            String xml = rt.getWriter().toString();\r\n            int beginIndex = xml.indexOf(BIO_START_TAG) + BIO_START_TAG.length();\r\n            int endIndex = xml.indexOf(BIO_END_TAG);\r\n            return xml.substring(beginIndex, endIndex);\r\n        }\r\n     \r\n        public Source marshal(String n, ValidationEventHandler errorHandler) {\r\n            try {\r\n                String xml = BIO_START_TAG + n.trim() + BIO_END_TAG;\r\n                StringReader xmlReader = new StringReader(xml);\r\n                return new StreamSource(xmlReader);\r\n            } catch(Exception e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n        }\r\n     \r\n    }\r\n\r\n\r\n**Customer** (unchanged from [previous example](http://blog.bdoughan.com/2011/04/xmlanyelement-and-non-dom-properties.html))\r\n\r\n    package blog.domhandler;\r\n     \r\n    import javax.xml.bind.annotation.XmlAnyElement;\r\n    import javax.xml.bind.annotation.XmlRootElement;\r\n    import javax.xml.bind.annotation.XmlType;\r\n     \r\n    @XmlRootElement\r\n    @XmlType(propOrder={&quot;name&quot;, &quot;bio&quot;})\r\n    public class Customer {\r\n     \r\n        private String name;\r\n        private String bio;\r\n     \r\n        public String getName() {\r\n            return name;\r\n        }\r\n     \r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n     \r\n        @XmlAnyElement(BioHandler.class)\r\n        public String getBio() {\r\n            return bio;\r\n        }\r\n     \r\n        public void setBio(String bio) {\r\n            this.bio = bio;\r\n        }\r\n     \r\n    }\r\n\r\n\r\n**Customers**\r\n\r\n    package blog.domhandler;\r\n     \r\n    import java.util.List;\r\n    \r\n    import javax.xml.bind.annotation.XmlAnyElement;\r\n    import javax.xml.bind.annotation.XmlRootElement;\r\n    import javax.xml.bind.annotation.XmlType;\r\n     \r\n    @XmlRootElement\r\n    public class Customers {\r\n     \r\n        private List&lt;Customer&gt; customers;\r\n     \r\n        public List&lt;Customer&gt; getCustomer() {\r\n            return customers;\r\n        }\r\n     \r\n        public void setCustomer(List&lt;Customer&gt; c) {\r\n            this.customers = c;\r\n        }\r\n      \r\n    }\r\n\r\n\r\n**Demo** (driver)\r\n\r\n    package blog.domhandler;\r\n     \r\n    import java.io.File;\r\n     \r\n    import javax.xml.bind.JAXBContext;\r\n    import javax.xml.bind.Marshaller;\r\n    import javax.xml.bind.Unmarshaller;\r\n     \r\n    public class Demo {\r\n     \r\n        public static void main(String[] args) throws Exception {\r\n            JAXBContext jc = JAXBContext.newInstance(Customers.class);\r\n     \r\n            Unmarshaller unmarshaller = jc.createUnmarshaller();\r\n            Customers customers = (Customers) unmarshaller.unmarshal(new File(&quot;src/blog/domhandler/input.xml&quot;));\r\n     \r\n            for( Customer customer: customers.getCustomer() ) {\r\n            \r\n            System.out.println(&quot;Name:  &quot; + customer.getName());\r\n            System.out.println(&quot;Bio:   &quot; + customer.getBio());\r\n            \r\n            }\r\n    \r\n        }\r\n    }\r\n\r\n\r\nWhen I place a breakpoint in BioHandler.getElement(), I see that the first time its called String xml takes the value\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;bio&gt;&lt;html&gt;Jane&#39;s bio&lt;/html&gt;\r\n        &lt;/bio&gt;\r\n\r\nwhile the second time it is called String xml takes the value\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;bio&gt;&lt;html&gt;Jane&#39;s bio&lt;/html&gt;\r\n        &lt;/bio&gt;&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;bio&gt;&lt;html&gt;John&#39;s bio&lt;/html&gt;\r\n        &lt;/bio&gt;\r\n\r\nIs there some way to indicate to the parser that this content should be discarded after each call to BioHandler.getElement()?","title":"DomHandler to capture text for multiple records","body":"<p>I am attempting to use @XmlAnyElement with DomHandler to capture the unparsed text within a particular field like  in <a href=\"http://blog.bdoughan.com/2011/04/xmlanyelement-and-non-dom-properties.html\" rel=\"nofollow\">this</a> example from Blaise Doughan.  But when I attempt to parse multiple customers the contents of bio fields from all previous  records continue to be sent to my DomHandler!  </p>\n\n<p>Here is the example document I am trying to parse:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;customers&gt;\n   &lt;customer&gt;\n     &lt;name&gt;Jane Doe&lt;/name&gt;\n     &lt;bio&gt;\n       &lt;html&gt;Jane's bio&lt;/html&gt;\n     &lt;/bio&gt;\n   &lt;/customer&gt;\n   &lt;customer&gt;\n     &lt;name&gt;John Doe&lt;/name&gt;\n     &lt;bio&gt;\n       &lt;html&gt;John's bio&lt;/html&gt;\n     &lt;/bio&gt;\n   &lt;/customer&gt;\n&lt;/customers&gt;\n</code></pre>\n\n<p>But the output is:</p>\n\n<pre><code> Name:  Jane Doe \n Bio:   &lt;html&gt;Jane's bio&lt;/html&gt;\n Name:  John Doe \n Bio:   &lt;html&gt;Jane's bio&lt;/html&gt;\n</code></pre>\n\n<p><strong>BioHandler</strong> (unchanged from <a href=\"http://blog.bdoughan.com/2011/04/xmlanyelement-and-non-dom-properties.html\" rel=\"nofollow\">previous example</a>)</p>\n\n<pre><code>package blog.domhandler;\n\nimport java.io.StringReader;\nimport java.io.StringWriter;\n\nimport javax.xml.bind.ValidationEventHandler;\nimport javax.xml.bind.annotation.DomHandler;\nimport javax.xml.transform.Source;\nimport javax.xml.transform.stream.StreamResult;\nimport javax.xml.transform.stream.StreamSource;\n\npublic class BioHandler implements DomHandler&lt;String, StreamResult&gt; {\n\n    private static final String BIO_START_TAG = \"&lt;bio&gt;\";\n    private static final String BIO_END_TAG = \"&lt;/bio&gt;\";\n\n    private StringWriter xmlWriter = new StringWriter();\n\n    public StreamResult createUnmarshaller(ValidationEventHandler errorHandler) {\n        return new StreamResult(xmlWriter);\n    }\n\n    public String getElement(StreamResult rt) {\n        String xml = rt.getWriter().toString();\n        int beginIndex = xml.indexOf(BIO_START_TAG) + BIO_START_TAG.length();\n        int endIndex = xml.indexOf(BIO_END_TAG);\n        return xml.substring(beginIndex, endIndex);\n    }\n\n    public Source marshal(String n, ValidationEventHandler errorHandler) {\n        try {\n            String xml = BIO_START_TAG + n.trim() + BIO_END_TAG;\n            StringReader xmlReader = new StringReader(xml);\n            return new StreamSource(xmlReader);\n        } catch(Exception e) {\n            throw new RuntimeException(e);\n        }\n    }\n\n}\n</code></pre>\n\n<p><strong>Customer</strong> (unchanged from <a href=\"http://blog.bdoughan.com/2011/04/xmlanyelement-and-non-dom-properties.html\" rel=\"nofollow\">previous example</a>)</p>\n\n<pre><code>package blog.domhandler;\n\nimport javax.xml.bind.annotation.XmlAnyElement;\nimport javax.xml.bind.annotation.XmlRootElement;\nimport javax.xml.bind.annotation.XmlType;\n\n@XmlRootElement\n@XmlType(propOrder={\"name\", \"bio\"})\npublic class Customer {\n\n    private String name;\n    private String bio;\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    @XmlAnyElement(BioHandler.class)\n    public String getBio() {\n        return bio;\n    }\n\n    public void setBio(String bio) {\n        this.bio = bio;\n    }\n\n}\n</code></pre>\n\n<p><strong>Customers</strong></p>\n\n<pre><code>package blog.domhandler;\n\nimport java.util.List;\n\nimport javax.xml.bind.annotation.XmlAnyElement;\nimport javax.xml.bind.annotation.XmlRootElement;\nimport javax.xml.bind.annotation.XmlType;\n\n@XmlRootElement\npublic class Customers {\n\n    private List&lt;Customer&gt; customers;\n\n    public List&lt;Customer&gt; getCustomer() {\n        return customers;\n    }\n\n    public void setCustomer(List&lt;Customer&gt; c) {\n        this.customers = c;\n    }\n\n}\n</code></pre>\n\n<p><strong>Demo</strong> (driver)</p>\n\n<pre><code>package blog.domhandler;\n\nimport java.io.File;\n\nimport javax.xml.bind.JAXBContext;\nimport javax.xml.bind.Marshaller;\nimport javax.xml.bind.Unmarshaller;\n\npublic class Demo {\n\n    public static void main(String[] args) throws Exception {\n        JAXBContext jc = JAXBContext.newInstance(Customers.class);\n\n        Unmarshaller unmarshaller = jc.createUnmarshaller();\n        Customers customers = (Customers) unmarshaller.unmarshal(new File(\"src/blog/domhandler/input.xml\"));\n\n        for( Customer customer: customers.getCustomer() ) {\n\n        System.out.println(\"Name:  \" + customer.getName());\n        System.out.println(\"Bio:   \" + customer.getBio());\n\n        }\n\n    }\n}\n</code></pre>\n\n<p>When I place a breakpoint in BioHandler.getElement(), I see that the first time its called String xml takes the value</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;&lt;bio&gt;&lt;html&gt;Jane's bio&lt;/html&gt;\n    &lt;/bio&gt;\n</code></pre>\n\n<p>while the second time it is called String xml takes the value</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;&lt;bio&gt;&lt;html&gt;Jane's bio&lt;/html&gt;\n    &lt;/bio&gt;&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;&lt;bio&gt;&lt;html&gt;John's bio&lt;/html&gt;\n    &lt;/bio&gt;\n</code></pre>\n\n<p>Is there some way to indicate to the parser that this content should be discarded after each call to BioHandler.getElement()?</p>\n"},{"tags":["java","spring","hibernate","ehcache","jcache"],"comments":[{"owner":{"account_id":28530552,"reputation":23,"user_id":21838029,"display_name":"RemasteredDruid"},"score":0,"creation_date":1683424399,"post_id":76190958,"comment_id":134364358,"body_markdown":"In depth investigation reveals that when Hibernate does not find a cache for a certain name, the default caches it builds are specified at `org.hibernate.cache.jcache.internal.JCacheRegionFactory#getOrCreateCache -&gt; createCache` which in turn makes use of an empty `javax.cache.configuration.MutableConfiguration`. The default constructor of this class specifies `Object.class` as the value type for the cache. This is not ideal, but in absence of better answers to my question, I will resort to sticking with my approach and using Object as a value class for the cache map. It looks wrong, however.","body":"In depth investigation reveals that when Hibernate does not find a cache for a certain name, the default caches it builds are specified at <code>org.hibernate.cache.jcache.internal.JCacheRegionFactory#getO&zwnj;&#8203;rCreateCache -&gt; createCache</code> which in turn makes use of an empty <code>javax.cache.configuration.MutableConfiguration</code>. The default constructor of this class specifies <code>Object.class</code> as the value type for the cache. This is not ideal, but in absence of better answers to my question, I will resort to sticking with my approach and using Object as a value class for the cache map. It looks wrong, however."},{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1683424602,"post_id":76190958,"comment_id":134364369,"body_markdown":"replace `.newCacheConfigurationBuilder(CacheKeyImplementation.class, AbstractReadWriteAccess.Item.class)` with `.newCacheConfigurationBuilder(Object.class, Object.class)`","body":"replace <code>.newCacheConfigurationBuilder(CacheKeyImplementation.class, AbstractReadWriteAccess.Item.class)</code> with <code>.newCacheConfigurationBuilder(Object.class, Object.class)</code>"},{"owner":{"account_id":28530552,"reputation":23,"user_id":21838029,"display_name":"RemasteredDruid"},"score":0,"creation_date":1683425729,"post_id":76190958,"comment_id":134364423,"body_markdown":"@AndreyB.Panfilov yes, I was getting to that same conclusion, see my comment above. But is this really the way? More than for it to &quot;just work&quot;, I would like to use the proper way. This feels like a hack.","body":"@AndreyB.Panfilov yes, I was getting to that same conclusion, see my comment above. But is this really the way? More than for it to &quot;just work&quot;, I would like to use the proper way. This feels like a hack."},{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1683428124,"post_id":76190958,"comment_id":134364533,"body_markdown":"no, that is not a hack, that is how L2-cache is implemented in NBH, it does not assume the cache must be type-safe.","body":"no, that is not a hack, that is how L2-cache is implemented in NBH, it does not assume the cache must be type-safe."}],"answers":[{"tags":[],"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1683428040,"creation_date":1683428040,"answer_id":76192005,"question_id":76190958,"body_markdown":"For cache keys `Hibernate` may potentially use three different implementations (please check `org.hibernate.cache.spi.CacheKeysFactory` interface and it&#39;s `createCollectionKey`, `createEntityKey` and `createNaturalIdKey` methods), moreover, `Hibernate`, allows to override default `CacheKeysFactory`  via `hibernate.cache.keys_factory` setting, so, technically you have no chance to guess what cache key implementation will be used for particular cache region, moreover cache regions may contain different data, so, `Object.class` is a valid definition of cache key implementation.\r\n\r\nIn case of cache values implementations may also differ:\r\n- for natural id cache `Hibernate` stores entity identifiers there\r\n- for other caches that can be either `Map` or `StandardCacheEntryImpl` or implementation of `org.hibernate.cache.spi.support.AbstractReadWriteAccess.Lockable`\r\n\r\nso, for cache values `Object.class` is the only valid definition as well.","title":"How to programmatically configure L2 Hibernate caches with ECache?","body":"<p>For cache keys <code>Hibernate</code> may potentially use three different implementations (please check <code>org.hibernate.cache.spi.CacheKeysFactory</code> interface and it's <code>createCollectionKey</code>, <code>createEntityKey</code> and <code>createNaturalIdKey</code> methods), moreover, <code>Hibernate</code>, allows to override default <code>CacheKeysFactory</code>  via <code>hibernate.cache.keys_factory</code> setting, so, technically you have no chance to guess what cache key implementation will be used for particular cache region, moreover cache regions may contain different data, so, <code>Object.class</code> is a valid definition of cache key implementation.</p>\n<p>In case of cache values implementations may also differ:</p>\n<ul>\n<li>for natural id cache <code>Hibernate</code> stores entity identifiers there</li>\n<li>for other caches that can be either <code>Map</code> or <code>StandardCacheEntryImpl</code> or implementation of <code>org.hibernate.cache.spi.support.AbstractReadWriteAccess.Lockable</code></li>\n</ul>\n<p>so, for cache values <code>Object.class</code> is the only valid definition as well.</p>\n"}],"owner":{"account_id":28530552,"reputation":23,"user_id":21838029,"display_name":"RemasteredDruid"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":450,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76192005,"answer_count":1,"score":2,"last_activity_date":1683428040,"creation_date":1683404487,"question_id":76190958,"body_markdown":"I&#39;m trying to configure L2+QueryCache for Hibernate 6.1.7 in my Spring 6 app running Ehcache 3.10.x\r\n\r\nIn my app, Spring-level caches with method-level `@Cacheable`, `@CachePut`, `@CacheEvict`, etc. work fine. I create the caches and they work as expected.\r\n\r\nL2 cache also works correctly, but only if **I don&#39;t create any L2 caches** and let Spring create the **default ones** (`missing_cache_strategy: create`). This is presentig heap-related problems in production because the default cache settings in Ehcache are allowing infinite heap usage.\r\n\r\nHow do I create L2 caches with my own configs, **from code**? I want to avoid the `xml` Ehcache config at this time, and Ehcache seems to be moving away from it anyway.\r\n\r\nThis is how I configure Spring-level caches, and it works:\r\n\r\n```java\r\n    @Configuration\r\n    @EnableCaching\r\n    public class MyCacheConfig {\r\n      @Bean\r\n      public CacheManager ehCacheManager() {\r\n          CacheManager cacheManager = Caching.getCachingProvider().getCacheManager();\r\n\r\n         //Create a Spring-level cache\r\n         var config = CacheConfigurationBuilder\r\n                .newCacheConfigurationBuilder(SomeMethodArg.class, SomeMethodReturnType.class)\r\n                .withExpiry(ExpiryPolicyBuilder.timeToIdleExpiration(Duration.ofMinutes(30))\r\n                .build();\r\n          cacheManager.createCache(&quot;my_spr_cache&quot;, Eh107Configuration.fromEhcacheCacheConfiguration(config));\r\n\r\n          return cacheManager;\r\n      }\r\n    }\r\n```\r\nFollowing the Ehcache docs and other sources, I was able to create L2 caches in a similar manner by adding another cache to the bean above:\r\n\r\n```java\r\n//Create a L2 cache\r\nvar config = CacheConfigurationBuilder\r\n                .newCacheConfigurationBuilder(CacheKeyImplementation.class, AbstractReadWriteAccess.Item.class)\r\n                .withExpiry(ExpiryPolicyBuilder.timeToIdleExpiration(Duration.ofMinutes(30))\r\n                .build();\r\n        \r\n//L2 cache name should be the fully qualified name of the Entity\r\ncacheManager.createCache(&quot;com.mydomain.model.MyClass&quot;, Eh107Configuration.fromEhcacheCacheConfiguration(config));\r\n```\r\nAnd of course, the MyClass Entity is annotated with:\r\n```java\r\n@jakarta.persistence.Cacheable\r\n@org.hibernate.annotations.Cache(usage = CacheConcurrencyStrategy.READ_WRITE) //Note that some other classes instead use NONSTRICT_READ_WRITE \r\n```\r\nNow the cache I made is correctly created at runtime and Ehcache doesn&#39;t build a default one. I can confirm this from the startup logs - manually created caches are logged significantly earlier on.\r\n\r\nNow the issue: this method **is unreliable**. Firstly, it seems that changing the `ConcurrencyStrategy` breaks the cache creation code, for example, switching to `NONSTRICT_READ_WRITE` on the entity will cause Exceptions: \r\n```java\r\nException in thread &quot;(3/16)&quot; java.lang.ClassCastException: Invalid value type, \r\nexpected:  org.hibernate.cache.spi.support.AbstractReadWriteAccess$Item \r\nbut was :  org.hibernate.cache.spi.entry.StandardCacheEntryImpl\r\n```\r\nThe first attempt I made was obviously following the exception literally and changing the value class to `StandardCacheEntryImpl`. This just causes even more erratic behavior, with the cache behaving fine at low usage but failing when consistent load is applied:\r\n```java\r\nCaused by: java.lang.ClassCastException: Invalid value type, \r\nexpected : org.hibernate.cache.spi.support.AbstractReadWriteAccess$Item \r\nbut was : org.hibernate.cache.spi.support.AbstractReadWriteAccess$SoftLockImpl\r\n```\r\nIf I switch those two classes back and forth, I get the same exception but reversed.\r\n\r\nThis leads me to believe that I&#39;m using the **wrong approach** entirely. I can&#39;t find any **modern** and **updated** question on this, could someone kindly **point me in the right direction**?\r\n\r\n----\r\n\r\nIf it can be useful, this is the relevant config in my `application.yml`:\r\n\r\n\r\n```yml\r\n# [More settings here...]\r\n  jpa:\r\n    # [More settings here...]\r\n    properties:\r\n      jakarta:\r\n        persistence:\r\n          sharedCache:\r\n            #required - enable selective caching mode - only entities with @Cacheable annotation will use L2 cache.\r\n            mode: ENABLE_SELECTIVE\r\n      hibernate:\r\n        cache:\r\n          use_second_level_cache: true\r\n          use_query_cache: true\r\n          region:\r\n            factory_class: org.hibernate.cache.jcache.JCacheRegionFactory\r\n        jakarta:\r\n          cache:\r\n            missing_cache_strategy: create\r\n```\r\n\r\n\r\n","title":"How to programmatically configure L2 Hibernate caches with ECache?","body":"<p>I'm trying to configure L2+QueryCache for Hibernate 6.1.7 in my Spring 6 app running Ehcache 3.10.x</p>\n<p>In my app, Spring-level caches with method-level <code>@Cacheable</code>, <code>@CachePut</code>, <code>@CacheEvict</code>, etc. work fine. I create the caches and they work as expected.</p>\n<p>L2 cache also works correctly, but only if <strong>I don't create any L2 caches</strong> and let Spring create the <strong>default ones</strong> (<code>missing_cache_strategy: create</code>). This is presentig heap-related problems in production because the default cache settings in Ehcache are allowing infinite heap usage.</p>\n<p>How do I create L2 caches with my own configs, <strong>from code</strong>? I want to avoid the <code>xml</code> Ehcache config at this time, and Ehcache seems to be moving away from it anyway.</p>\n<p>This is how I configure Spring-level caches, and it works:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Configuration\n    @EnableCaching\n    public class MyCacheConfig {\n      @Bean\n      public CacheManager ehCacheManager() {\n          CacheManager cacheManager = Caching.getCachingProvider().getCacheManager();\n\n         //Create a Spring-level cache\n         var config = CacheConfigurationBuilder\n                .newCacheConfigurationBuilder(SomeMethodArg.class, SomeMethodReturnType.class)\n                .withExpiry(ExpiryPolicyBuilder.timeToIdleExpiration(Duration.ofMinutes(30))\n                .build();\n          cacheManager.createCache(&quot;my_spr_cache&quot;, Eh107Configuration.fromEhcacheCacheConfiguration(config));\n\n          return cacheManager;\n      }\n    }\n</code></pre>\n<p>Following the Ehcache docs and other sources, I was able to create L2 caches in a similar manner by adding another cache to the bean above:</p>\n<pre class=\"lang-java prettyprint-override\"><code>//Create a L2 cache\nvar config = CacheConfigurationBuilder\n                .newCacheConfigurationBuilder(CacheKeyImplementation.class, AbstractReadWriteAccess.Item.class)\n                .withExpiry(ExpiryPolicyBuilder.timeToIdleExpiration(Duration.ofMinutes(30))\n                .build();\n        \n//L2 cache name should be the fully qualified name of the Entity\ncacheManager.createCache(&quot;com.mydomain.model.MyClass&quot;, Eh107Configuration.fromEhcacheCacheConfiguration(config));\n</code></pre>\n<p>And of course, the MyClass Entity is annotated with:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@jakarta.persistence.Cacheable\n@org.hibernate.annotations.Cache(usage = CacheConcurrencyStrategy.READ_WRITE) //Note that some other classes instead use NONSTRICT_READ_WRITE \n</code></pre>\n<p>Now the cache I made is correctly created at runtime and Ehcache doesn't build a default one. I can confirm this from the startup logs - manually created caches are logged significantly earlier on.</p>\n<p>Now the issue: this method <strong>is unreliable</strong>. Firstly, it seems that changing the <code>ConcurrencyStrategy</code> breaks the cache creation code, for example, switching to <code>NONSTRICT_READ_WRITE</code> on the entity will cause Exceptions:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Exception in thread &quot;(3/16)&quot; java.lang.ClassCastException: Invalid value type, \nexpected:  org.hibernate.cache.spi.support.AbstractReadWriteAccess$Item \nbut was :  org.hibernate.cache.spi.entry.StandardCacheEntryImpl\n</code></pre>\n<p>The first attempt I made was obviously following the exception literally and changing the value class to <code>StandardCacheEntryImpl</code>. This just causes even more erratic behavior, with the cache behaving fine at low usage but failing when consistent load is applied:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Caused by: java.lang.ClassCastException: Invalid value type, \nexpected : org.hibernate.cache.spi.support.AbstractReadWriteAccess$Item \nbut was : org.hibernate.cache.spi.support.AbstractReadWriteAccess$SoftLockImpl\n</code></pre>\n<p>If I switch those two classes back and forth, I get the same exception but reversed.</p>\n<p>This leads me to believe that I'm using the <strong>wrong approach</strong> entirely. I can't find any <strong>modern</strong> and <strong>updated</strong> question on this, could someone kindly <strong>point me in the right direction</strong>?</p>\n<hr />\n<p>If it can be useful, this is the relevant config in my <code>application.yml</code>:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code># [More settings here...]\n  jpa:\n    # [More settings here...]\n    properties:\n      jakarta:\n        persistence:\n          sharedCache:\n            #required - enable selective caching mode - only entities with @Cacheable annotation will use L2 cache.\n            mode: ENABLE_SELECTIVE\n      hibernate:\n        cache:\n          use_second_level_cache: true\n          use_query_cache: true\n          region:\n            factory_class: org.hibernate.cache.jcache.JCacheRegionFactory\n        jakarta:\n          cache:\n            missing_cache_strategy: create\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-mvc","spring-retry"],"answers":[{"tags":[],"owner":{"account_id":3473020,"reputation":135,"user_id":2906912,"display_name":"Codified"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683423495,"creation_date":1683423495,"answer_id":76191877,"question_id":76191245,"body_markdown":"Please check this \r\nhttps://shankulk.com/auto-retries-in-rest-api-clients-using-spring-retry-c78cacb0cc29\r\n\r\nHere you can specify your customized statuses \r\n\r\nYour main focus should be on below function and implement it accordingly (Here it is based on http status - But you can make it based on you rown status which is part of response JSON)\r\n\r\n    private RetryPolicy getRetryPolicyForStatus(HttpStatus httpStatus) {\r\n        switch (httpStatus) {\r\n            case BAD_GATEWAY:\r\n            case SERVICE_UNAVAILABLE:\r\n            case INTERNAL_SERVER_ERROR:\r\n            case GATEWAY_TIMEOUT:\r\n                return simpleRetryPolicy;\r\n            default:\r\n                return neverRetryPolicy;\r\n        }\r\n\r\nHope you find this helpful .\r\n\r\n","title":"How to retry rest-endpoint with spring-retry based on response object rather than the status code?","body":"<p>Please check this\n<a href=\"https://shankulk.com/auto-retries-in-rest-api-clients-using-spring-retry-c78cacb0cc29\" rel=\"nofollow noreferrer\">https://shankulk.com/auto-retries-in-rest-api-clients-using-spring-retry-c78cacb0cc29</a></p>\n<p>Here you can specify your customized statuses</p>\n<p>Your main focus should be on below function and implement it accordingly (Here it is based on http status - But you can make it based on you rown status which is part of response JSON)</p>\n<pre><code>private RetryPolicy getRetryPolicyForStatus(HttpStatus httpStatus) {\n    switch (httpStatus) {\n        case BAD_GATEWAY:\n        case SERVICE_UNAVAILABLE:\n        case INTERNAL_SERVER_ERROR:\n        case GATEWAY_TIMEOUT:\n            return simpleRetryPolicy;\n        default:\n            return neverRetryPolicy;\n    }\n</code></pre>\n<p>Hope you find this helpful .</p>\n"}],"owner":{"account_id":1573876,"reputation":545,"user_id":1460910,"accept_rate":64,"display_name":"Pranaya Behera"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":747,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683423495,"creation_date":1683408754,"question_id":76191245,"body_markdown":"In the spring-boot application, I am calling a rest endpoint which results in 200 success status code and the response object is something like this:\r\n\r\n```\r\n{\r\n   &quot;id&quot; : &quot;some-uuid&quot;,\r\n   &quot;status&quot; : &quot;success&quot;\r\n}\r\n```\r\nPossbile values for the ```status``` object are ```creating, queued, running, failed, skipped, killed, success```\r\n\r\nI want to retry the rest-endpoint request when the ```status``` object is either ```queued``` or ```creating``` or ```running```.\r\nFor all other e.g. ```success```, ```failed```, ```skipped``` I want the retry to stop and get the result.\r\n\r\nI am implementing it with spring-retry.\r\n\r\nThe api call:\r\n\r\n```\r\nprivate String makeApiCall(String jobId) {\r\n    RestTemplate restTemplate = new RestTemplate();\r\n    HttpHeaders httpHeaders = new HttpHeaders();\r\n    List&lt;MediaType&gt; acceptType = new ArrayList&lt;&gt;();\r\n    acceptType.add(MediaType.APPLICATION_JSON);\r\n    httpHeaders.setAccept(acceptType);\r\n    httpHeaders.setContentType(MediaType.APPLICATION_JSON);\r\n    ResponseEntity&lt;String&gt; response = restTemplate.exchange(apiEndpoint, HttpMethod.GET, requestEntity, String.class, params);\r\n    ObjectMapper objectMapper = new ObjectMapper();\r\n    JobStatus jobStatus = null;\r\n    try {\r\n      jobStatus = objectMapper.readValue(response.getBody(), JobStatus.class);\r\n    } catch (JsonProcessingException e) {\r\n      throw new RuntimeException(e);\r\n    }\r\n    return jobStatus.getStatus();\r\n}\r\n```\r\nThe RetryTemp\r\n```\r\n public ResponseEntity&lt;String&gt; jobStatusCheck(String jobId) throws JsonProcessingException {\r\n    RetryTemplate retry = new RetryTemplate();\r\n    FixedBackOffPolicy backOffPolicy = new FixedBackOffPolicy();\r\n    backOffPolicy.setBackOffPeriod(10000);\r\n    retry.setRetryPolicy(new JobStatusRetryPolicy());\r\n    retry.setBackOffPolicy(backOffPolicy);\r\n    try {\r\n      String result = (String) retry.execute(context -&gt; {\r\n        // No Idea on how to handle such conditions.\r\n        String s = makeApiCall(jobId);\r\n        if (s.equalsIgnoreCase(&quot;success&quot;)) {\r\n          return s;\r\n        }\r\n        return null;\r\n      });\r\n      return ResponseEntity.ok().body(result);\r\n    } catch (Exception e) {\r\n      throw new RuntimeException(&quot;Error occurred during retry&quot;, e);\r\n    }\r\n}\r\n```\r\nThe retry policy :\r\n\r\n```\r\npublic class JobStatusRetryPolicy extends ExceptionClassifierRetryPolicy {\r\n  public JobStatusRetryPolicy() {\r\n    final SimpleRetryPolicy simpleRetryPolicy = new SimpleRetryPolicy();\r\n    simpleRetryPolicy.setMaxAttempts(3);\r\n\r\n    this.setExceptionClassifier( new Classifier&lt;Throwable, RetryPolicy&gt;()\r\n    {\r\n      @Override\r\n      public RetryPolicy classify( Throwable classifiable )\r\n      {\r\n        // Retry only when FailureJobStatusException was thrown\r\n        if ( classifiable instanceof FailureJobStatusException)\r\n        {\r\n          return simpleRetryPolicy;\r\n        }\r\n\r\n        // Do not retry for other exceptions\r\n        return new NeverRetryPolicy();\r\n      }\r\n    } );\r\n  }\r\n}\r\n```\r\nThe exception:\r\n```\r\npublic class FailureJobStatusException extends Throwable {\r\n}\r\n```","title":"How to retry rest-endpoint with spring-retry based on response object rather than the status code?","body":"<p>In the spring-boot application, I am calling a rest endpoint which results in 200 success status code and the response object is something like this:</p>\n<pre><code>{\n   &quot;id&quot; : &quot;some-uuid&quot;,\n   &quot;status&quot; : &quot;success&quot;\n}\n</code></pre>\n<p>Possbile values for the <code>status</code> object are <code>creating, queued, running, failed, skipped, killed, success</code></p>\n<p>I want to retry the rest-endpoint request when the <code>status</code> object is either <code>queued</code> or <code>creating</code> or <code>running</code>.\nFor all other e.g. <code>success</code>, <code>failed</code>, <code>skipped</code> I want the retry to stop and get the result.</p>\n<p>I am implementing it with spring-retry.</p>\n<p>The api call:</p>\n<pre><code>private String makeApiCall(String jobId) {\n    RestTemplate restTemplate = new RestTemplate();\n    HttpHeaders httpHeaders = new HttpHeaders();\n    List&lt;MediaType&gt; acceptType = new ArrayList&lt;&gt;();\n    acceptType.add(MediaType.APPLICATION_JSON);\n    httpHeaders.setAccept(acceptType);\n    httpHeaders.setContentType(MediaType.APPLICATION_JSON);\n    ResponseEntity&lt;String&gt; response = restTemplate.exchange(apiEndpoint, HttpMethod.GET, requestEntity, String.class, params);\n    ObjectMapper objectMapper = new ObjectMapper();\n    JobStatus jobStatus = null;\n    try {\n      jobStatus = objectMapper.readValue(response.getBody(), JobStatus.class);\n    } catch (JsonProcessingException e) {\n      throw new RuntimeException(e);\n    }\n    return jobStatus.getStatus();\n}\n</code></pre>\n<p>The RetryTemp</p>\n<pre><code> public ResponseEntity&lt;String&gt; jobStatusCheck(String jobId) throws JsonProcessingException {\n    RetryTemplate retry = new RetryTemplate();\n    FixedBackOffPolicy backOffPolicy = new FixedBackOffPolicy();\n    backOffPolicy.setBackOffPeriod(10000);\n    retry.setRetryPolicy(new JobStatusRetryPolicy());\n    retry.setBackOffPolicy(backOffPolicy);\n    try {\n      String result = (String) retry.execute(context -&gt; {\n        // No Idea on how to handle such conditions.\n        String s = makeApiCall(jobId);\n        if (s.equalsIgnoreCase(&quot;success&quot;)) {\n          return s;\n        }\n        return null;\n      });\n      return ResponseEntity.ok().body(result);\n    } catch (Exception e) {\n      throw new RuntimeException(&quot;Error occurred during retry&quot;, e);\n    }\n}\n</code></pre>\n<p>The retry policy :</p>\n<pre><code>public class JobStatusRetryPolicy extends ExceptionClassifierRetryPolicy {\n  public JobStatusRetryPolicy() {\n    final SimpleRetryPolicy simpleRetryPolicy = new SimpleRetryPolicy();\n    simpleRetryPolicy.setMaxAttempts(3);\n\n    this.setExceptionClassifier( new Classifier&lt;Throwable, RetryPolicy&gt;()\n    {\n      @Override\n      public RetryPolicy classify( Throwable classifiable )\n      {\n        // Retry only when FailureJobStatusException was thrown\n        if ( classifiable instanceof FailureJobStatusException)\n        {\n          return simpleRetryPolicy;\n        }\n\n        // Do not retry for other exceptions\n        return new NeverRetryPolicy();\n      }\n    } );\n  }\n}\n</code></pre>\n<p>The exception:</p>\n<pre><code>public class FailureJobStatusException extends Throwable {\n}\n</code></pre>\n"},{"tags":["java","spring-boot","spring-mvc","spring-data-jpa"],"comments":[{"owner":{"account_id":21866301,"reputation":3729,"user_id":16217248,"display_name":"user16217248"},"score":0,"creation_date":1683422690,"post_id":76191845,"comment_id":134364261,"body_markdown":"Welcome to Stack Overflow! Please paste the code itself in the question as text instead of using an image. Cheers!","body":"Welcome to Stack Overflow! Please paste the code itself in the question as text instead of using an image. Cheers!"},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1683424039,"post_id":76191845,"comment_id":134364339,"body_markdown":"Please read how to ask in Stackoverflow: https://stackoverflow.com/help/how-to-ask. Your question lacks a minimal reproducible example and you should explain better the problem, what you are trying to do and how your code work, including any libraries used.","body":"Please read how to ask in Stackoverflow: <a href=\"https://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a>. Your question lacks a minimal reproducible example and you should explain better the problem, what you are trying to do and how your code work, including any libraries used."}],"owner":{"account_id":28420774,"reputation":11,"user_id":21742872,"display_name":"yuchen"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1683423374,"creation_date":1683422548,"question_id":76191845,"body_markdown":"        ValidationUtils.validate(input,\r\n                ValidatorField.of(&quot;data&quot;, Rule.required()))\r\n        ;\r\n        ValidationUtils.validateArray(input.get(&quot;data&quot;),\r\n                ValidatorField.of(&quot;projectId&quot;, Rule.required(), Rule.number(Rule.NumberType.Long)),\r\n                ValidatorField.of(&quot;parentId&quot;, Rule.number(Rule.NumberType.Long)),\r\n                ValidatorField.of(&quot;milestoneId&quot;),\r\n                ValidatorField.of(&quot;title&quot;, Rule.required()),\r\n                ValidatorField.of(&quot;content&quot;),\r\n                ValidatorField.of(&quot;timeStart&quot;, Rule.required(), Rule.number(Rule.NumberType.Long)),\r\n                ValidatorField.of(&quot;timeEnd&quot;, Rule.required(), Rule.number(Rule.NumberType.Long)),\r\n                ValidatorField.of(&quot;duration&quot;, Rule.required()),\r\n                ValidatorField.of(&quot;progress&quot;, Rule.number(Rule.NumberType.Long)),\r\n                ValidatorField.of(&quot;organizationIds&quot;),\r\n                ValidatorField.of(&quot;projectRelation&quot;)\r\n        );\r\n        var allData = new HashMap&lt;&gt;();\r\n        input.get(&quot;data&quot;).forEach(param -&gt;{\r\n            allData.put(param.get(&quot;key&quot;).asText(),param);\r\n        });\r\n        allData.forEach((key, value) -&gt; {\r\n            System.out.println(key);\r\n            System.out.println(value);\r\n        });\r\n\r\nI tried using the HashMap in the image above to form a key-value pair. The result was a key for a value, but my database field only had a parentId","title":"When importing an xml file, how to use parentId to map the hierarchy of key values in the xml file","body":"<pre><code>    ValidationUtils.validate(input,\n            ValidatorField.of(&quot;data&quot;, Rule.required()))\n    ;\n    ValidationUtils.validateArray(input.get(&quot;data&quot;),\n            ValidatorField.of(&quot;projectId&quot;, Rule.required(), Rule.number(Rule.NumberType.Long)),\n            ValidatorField.of(&quot;parentId&quot;, Rule.number(Rule.NumberType.Long)),\n            ValidatorField.of(&quot;milestoneId&quot;),\n            ValidatorField.of(&quot;title&quot;, Rule.required()),\n            ValidatorField.of(&quot;content&quot;),\n            ValidatorField.of(&quot;timeStart&quot;, Rule.required(), Rule.number(Rule.NumberType.Long)),\n            ValidatorField.of(&quot;timeEnd&quot;, Rule.required(), Rule.number(Rule.NumberType.Long)),\n            ValidatorField.of(&quot;duration&quot;, Rule.required()),\n            ValidatorField.of(&quot;progress&quot;, Rule.number(Rule.NumberType.Long)),\n            ValidatorField.of(&quot;organizationIds&quot;),\n            ValidatorField.of(&quot;projectRelation&quot;)\n    );\n    var allData = new HashMap&lt;&gt;();\n    input.get(&quot;data&quot;).forEach(param -&gt;{\n        allData.put(param.get(&quot;key&quot;).asText(),param);\n    });\n    allData.forEach((key, value) -&gt; {\n        System.out.println(key);\n        System.out.println(value);\n    });\n</code></pre>\n<p>I tried using the HashMap in the image above to form a key-value pair. The result was a key for a value, but my database field only had a parentId</p>\n"},{"tags":["java","assertj"],"owner":{"account_id":21429973,"reputation":21,"user_id":15786601,"display_name":"Daniel McEnnis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683423343,"creation_date":1683423343,"question_id":76191872,"body_markdown":"AssertJ has options for finding JPanel, JFrame, and suite of other standard Swing components, but I am wanting to test a custom Prefuse Display window derived directly from the JComponent class. What method on the main FrameFixture object should I use and what parameters should I use? \r\n\r\nMy best guess was:\r\n\r\n\r\n```\r\nwindow.panel(new GenericTypeMatcher&lt;JComponent&gt;(RadialDisplayWork.class) {\r\n            @Override\r\n            protected boolean isMatching(JComponent panel) {\r\n                return &quot;RadialDisplayWork&quot;.equals(panel.getClass().getSimpleName());\r\n            }\r\n        });\r\n````\r\n\r\nit isn&#39;t found and throws an exception as it should as WorkWindow is not a panel. ","title":"Looking for a custom swing JComponent object inside a standard Swing app using AssertJ FrameFixture","body":"<p>AssertJ has options for finding JPanel, JFrame, and suite of other standard Swing components, but I am wanting to test a custom Prefuse Display window derived directly from the JComponent class. What method on the main FrameFixture object should I use and what parameters should I use?</p>\n<p>My best guess was:</p>\n<pre><code>window.panel(new GenericTypeMatcher&lt;JComponent&gt;(RadialDisplayWork.class) {\n            @Override\n            protected boolean isMatching(JComponent panel) {\n                return &quot;RadialDisplayWork&quot;.equals(panel.getClass().getSimpleName());\n            }\n        });\n</code></pre>\n<p>it isn't found and throws an exception as it should as WorkWindow is not a panel.</p>\n"},{"tags":["java","apache-kafka","kafka-consumer-api"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1693143688,"post_id":76191692,"comment_id":135718372,"body_markdown":"You should use @KafkaListener annotation for this, not manually define a consumer instance","body":"You should use @KafkaListener annotation for this, not manually define a consumer instance"}],"answers":[{"tags":[],"owner":{"account_id":28499565,"reputation":41,"user_id":21810958,"display_name":"qalokoz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683422671,"creation_date":1683422671,"answer_id":76191850,"question_id":76191692,"body_markdown":"I think you are trying to create new instance of KC in your function but that bean is already registered in Spring configuration class KafkaConsumerClientConfig. Solution: try to re use the existing KC instance as a bean in config class instead of new one. Inject it in a class where you want to use it. Here is a hint **KafkaConsumer&lt;String, String&gt; consumer = kafkaConsumer** instead of initiating a new one. \r\n\r\n","title":"Kafka Consumer InstanceAlreadyExistsException","body":"<p>I think you are trying to create new instance of KC in your function but that bean is already registered in Spring configuration class KafkaConsumerClientConfig. Solution: try to re use the existing KC instance as a bean in config class instead of new one. Inject it in a class where you want to use it. Here is a hint <strong>KafkaConsumer&lt;String, String&gt; consumer = kafkaConsumer</strong> instead of initiating a new one.</p>\n"}],"owner":{"account_id":541301,"reputation":849,"user_id":909792,"accept_rate":69,"display_name":"Kiran"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":164,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683422671,"creation_date":1683417808,"question_id":76191692,"body_markdown":"I am trying to create a kafka consumer which subscribe to a topic and poll regular interval.  Below @Bean creates kafkaconsumer which is used in @postconstruct by executor service.    In other use case I need to read the latest offset or replay from specific offset, while i try to create a new kafka cosumer it is throwing ```javax.management.InstanceAlreadyExistsException: kafka.consumer``` \r\n\r\nIs there any to use the existing kafkaConsumer bean to get the latest offset or replay some of the offset.\r\n\r\n```\r\n@Configuration\r\n@Slf4j\r\n@EnableConfigurationProperties(KafkaProperties.class)\r\npublic class KafkaConsumerClientConfig {\r\n    @Bean\r\n    public KafkaConsumer&lt;String, String&gt; kafkaClientConfig() {\r\n    KafkaConsumer&lt;String, String&gt; kafkaConsumer = new KafkaConsumer&lt;&gt;(MetadataServiceUtil.getConsumerProperties(kafkaProperties));\r\n    log.info(&quot;Kafka Consumer created successfully with SecurityProtocol={}&quot;, kafkaProperties.getSecurityProtocol());\r\n    kafkaConsumer.subscribe(List.of(kafkaProperties.getTopicName()));\r\n    return kafkaConsumer;\r\n    }\r\n}\r\n```\r\nKafka client code to create kafka consumer\r\n```\r\n@Component\r\n@Slf4j\r\n@Data\r\npublic class PipelineKafkaClient {\r\n\r\n    @Autowired\r\n    private KafkaConsumer kafkaConsumer;\r\n  \r\n    @Autowired\r\n    private KafkaProperties kafkaProperties;\r\n\r\n    @PostConstruct\r\n    void startup() {\r\n        log.info(&quot;*******Starting event listener********&quot;);\r\n        executorService = Executors.newSingleThreadExecutor();\r\n        executorService.submit(new EventConsumer(kafkaConsumer));\r\n        // In the EventConsumer i have the code as below\r\n        /*  while(true) {\r\n         *   ConsumerRecords&lt;String, String&gt; records = kafkaConsumer.poll(Duration.ofMillis(500));\r\n         *   processBatch(records);\r\n         *   kafkaConsumer.commitSync();\r\n         * }\r\n         */\r\n\r\n    }\r\n\r\n    public void replayFromSpecificOffset(long offsetToReadFrom, long offsetReadTo) {\r\n        log.info(&quot;Replaying messages&quot;);\r\n        Properties properties = MetadataServiceUtil.getConsumerProperties(kafkaProperties);\r\n        KafkaConsumer&lt;String, String&gt; consumer = new KafkaConsumer&lt;&gt;(properties);\r\n        // CODE to read from specific offset    \r\n    }\r\n\r\n}@Component\r\n@Slf4j\r\n@Data\r\npublic class PipelineKafkaClient {\r\n\r\n    @Autowired\r\n    private KafkaConsumer kafkaConsumer;\r\n  \r\n    @Autowired\r\n    private KafkaProperties kafkaProperties;\r\n\r\n    @PostConstruct\r\n    void startup() {\r\n        log.info(&quot;*******Starting event listener********&quot;);\r\n        executorService = Executors.newSingleThreadExecutor();\r\n        executorService.submit(new EventConsumer(kafkaConsumer));\r\n        // In the EventConsumer i have the code as below\r\n        /*  while(true) {\r\n         *   ConsumerRecords&lt;String, String&gt; records = kafkaConsumer.poll(Duration.ofMillis(500));\r\n         *   processBatch(records);\r\n         *   kafkaConsumer.commitSync();\r\n         * }\r\n         */\r\n\r\n    }\r\n\r\n    public void replayFromSpecificOffset(long offsetToReadFrom, long offsetReadTo) {\r\n        log.info(&quot;Replaying messages&quot;);\r\n        Properties properties = MetadataServiceUtil.getConsumerProperties(kafkaProperties);\r\n        KafkaConsumer&lt;String, String&gt; consumer = new KafkaConsumer&lt;&gt;(properties);\r\n        // CODE to read from specific offset    \r\n    }\r\n\r\n}\r\n```","title":"Kafka Consumer InstanceAlreadyExistsException","body":"<p>I am trying to create a kafka consumer which subscribe to a topic and poll regular interval.  Below @Bean creates kafkaconsumer which is used in @postconstruct by executor service.    In other use case I need to read the latest offset or replay from specific offset, while i try to create a new kafka cosumer it is throwing <code>javax.management.InstanceAlreadyExistsException: kafka.consumer</code></p>\n<p>Is there any to use the existing kafkaConsumer bean to get the latest offset or replay some of the offset.</p>\n<pre><code>@Configuration\n@Slf4j\n@EnableConfigurationProperties(KafkaProperties.class)\npublic class KafkaConsumerClientConfig {\n    @Bean\n    public KafkaConsumer&lt;String, String&gt; kafkaClientConfig() {\n    KafkaConsumer&lt;String, String&gt; kafkaConsumer = new KafkaConsumer&lt;&gt;(MetadataServiceUtil.getConsumerProperties(kafkaProperties));\n    log.info(&quot;Kafka Consumer created successfully with SecurityProtocol={}&quot;, kafkaProperties.getSecurityProtocol());\n    kafkaConsumer.subscribe(List.of(kafkaProperties.getTopicName()));\n    return kafkaConsumer;\n    }\n}\n</code></pre>\n<p>Kafka client code to create kafka consumer</p>\n<pre><code>@Component\n@Slf4j\n@Data\npublic class PipelineKafkaClient {\n\n    @Autowired\n    private KafkaConsumer kafkaConsumer;\n  \n    @Autowired\n    private KafkaProperties kafkaProperties;\n\n    @PostConstruct\n    void startup() {\n        log.info(&quot;*******Starting event listener********&quot;);\n        executorService = Executors.newSingleThreadExecutor();\n        executorService.submit(new EventConsumer(kafkaConsumer));\n        // In the EventConsumer i have the code as below\n        /*  while(true) {\n         *   ConsumerRecords&lt;String, String&gt; records = kafkaConsumer.poll(Duration.ofMillis(500));\n         *   processBatch(records);\n         *   kafkaConsumer.commitSync();\n         * }\n         */\n\n    }\n\n    public void replayFromSpecificOffset(long offsetToReadFrom, long offsetReadTo) {\n        log.info(&quot;Replaying messages&quot;);\n        Properties properties = MetadataServiceUtil.getConsumerProperties(kafkaProperties);\n        KafkaConsumer&lt;String, String&gt; consumer = new KafkaConsumer&lt;&gt;(properties);\n        // CODE to read from specific offset    \n    }\n\n}@Component\n@Slf4j\n@Data\npublic class PipelineKafkaClient {\n\n    @Autowired\n    private KafkaConsumer kafkaConsumer;\n  \n    @Autowired\n    private KafkaProperties kafkaProperties;\n\n    @PostConstruct\n    void startup() {\n        log.info(&quot;*******Starting event listener********&quot;);\n        executorService = Executors.newSingleThreadExecutor();\n        executorService.submit(new EventConsumer(kafkaConsumer));\n        // In the EventConsumer i have the code as below\n        /*  while(true) {\n         *   ConsumerRecords&lt;String, String&gt; records = kafkaConsumer.poll(Duration.ofMillis(500));\n         *   processBatch(records);\n         *   kafkaConsumer.commitSync();\n         * }\n         */\n\n    }\n\n    public void replayFromSpecificOffset(long offsetToReadFrom, long offsetReadTo) {\n        log.info(&quot;Replaying messages&quot;);\n        Properties properties = MetadataServiceUtil.getConsumerProperties(kafkaProperties);\n        KafkaConsumer&lt;String, String&gt; consumer = new KafkaConsumer&lt;&gt;(properties);\n        // CODE to read from specific offset    \n    }\n\n}\n</code></pre>\n"},{"tags":["java","jmx","activemq-artemis"],"comments":[{"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1689179192,"post_id":76188315,"comment_id":135177882,"body_markdown":"Any feedback here?","body":"Any feedback here?"}],"answers":[{"tags":[],"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683394029,"creation_date":1683394029,"answer_id":76190221,"question_id":76188315,"body_markdown":"You don&#39;t actually connect &quot;by role.&quot; You connect with a username and a password. \r\n\r\nRoles are how users are organized *on the broker*. You can have one or more users in a given role and then permissions are granted to that role as a whole. This makes it easier to organize users and configure security.\r\n\r\nKeep in mind that the security configuration for messaging users (e.g. those using JMS) is separate from management users (e.g. those using JMX). The former is done via `security-settings` in `broker.xml` and the latter is done via `authorisation` in `management.xml`.\r\n\r\nIn your case, you can supply credentials for the JMX connection like so:\r\n```java\r\n         HashMap env = new HashMap();\r\n         String[] creds = {&quot;myUser&quot;, &quot;myPassword&quot;};\r\n         env.put(JMXConnector.CREDENTIALS, creds);\r\n\r\n         JMXConnector connector = JMXConnectorFactory.connect(new JMXServiceURL(BuildGet.JMX_URL), env);\r\n```\r\nIt&#39;s important to note that your `connectBroker` method is **leaking** a JMS connection every time it is invoked. This is because you create a JMS connection, but you don&#39;t close it or return it from the method. I recommend removing the JMS connection from that method entirely as it servers no real purpose.","title":"How to connect by role in ActiveMQ Artemis via JMX?","body":"<p>You don't actually connect &quot;by role.&quot; You connect with a username and a password.</p>\n<p>Roles are how users are organized <em>on the broker</em>. You can have one or more users in a given role and then permissions are granted to that role as a whole. This makes it easier to organize users and configure security.</p>\n<p>Keep in mind that the security configuration for messaging users (e.g. those using JMS) is separate from management users (e.g. those using JMX). The former is done via <code>security-settings</code> in <code>broker.xml</code> and the latter is done via <code>authorisation</code> in <code>management.xml</code>.</p>\n<p>In your case, you can supply credentials for the JMX connection like so:</p>\n<pre class=\"lang-java prettyprint-override\"><code>         HashMap env = new HashMap();\n         String[] creds = {&quot;myUser&quot;, &quot;myPassword&quot;};\n         env.put(JMXConnector.CREDENTIALS, creds);\n\n         JMXConnector connector = JMXConnectorFactory.connect(new JMXServiceURL(BuildGet.JMX_URL), env);\n</code></pre>\n<p>It's important to note that your <code>connectBroker</code> method is <strong>leaking</strong> a JMS connection every time it is invoked. This is because you create a JMS connection, but you don't close it or return it from the method. I recommend removing the JMS connection from that method entirely as it servers no real purpose.</p>\n"}],"owner":{"account_id":25716131,"reputation":3,"user_id":19473884,"display_name":" "},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683422456,"creation_date":1683367764,"question_id":76188315,"body_markdown":"I have a Java application using JavaFX. I don&#39;t understand how to connect by role. So that each role has its own rights to proofread, etc. I know how to add a role to ActiveMQ, but my application seems to connect to the main role without choosing.\r\n\r\nHere is what the connection frame looks like:\r\n[![enter image description here][1]][1]\r\n\r\n\r\n```java\r\npublic static MBeanServerConnection connectBroker(String brokerUrl) {\r\n\r\n    QueueConnection connection = null;\r\n    try {\r\n        QueueConnectionFactory cf = new ActiveMQQueueConnectionFactory(brokerUrl);\r\n        connection = cf.createQueueConnection();\r\n        connection.start();\r\n        JMXConnector connector = JMXConnectorFactory.connect(new JMXServiceURL(BuildGet.JMX_URL));\r\n\r\n        return connector.getMBeanServerConnection();\r\n    } catch (JMSException | IOException e) {\r\n        throw new RuntimeException(e);\r\n    }\r\n}\r\n```\r\nHow to connect by roles?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/9lOSu.png","title":"How to connect by role in ActiveMQ Artemis via JMX?","body":"<p>I have a Java application using JavaFX. I don't understand how to connect by role. So that each role has its own rights to proofread, etc. I know how to add a role to ActiveMQ, but my application seems to connect to the main role without choosing.</p>\n<p>Here is what the connection frame looks like:\n<a href=\"https://i.stack.imgur.com/9lOSu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9lOSu.png\" alt=\"enter image description here\" /></a></p>\n<pre class=\"lang-java prettyprint-override\"><code>public static MBeanServerConnection connectBroker(String brokerUrl) {\n\n    QueueConnection connection = null;\n    try {\n        QueueConnectionFactory cf = new ActiveMQQueueConnectionFactory(brokerUrl);\n        connection = cf.createQueueConnection();\n        connection.start();\n        JMXConnector connector = JMXConnectorFactory.connect(new JMXServiceURL(BuildGet.JMX_URL));\n\n        return connector.getMBeanServerConnection();\n    } catch (JMSException | IOException e) {\n        throw new RuntimeException(e);\n    }\n}\n</code></pre>\n<p>How to connect by roles?</p>\n"},{"tags":["java","html","web-scraping","jsoup"],"answers":[{"tags":[],"owner":{"account_id":1327194,"reputation":1809,"user_id":1271785,"accept_rate":67,"display_name":"pfurbacher"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683420895,"creation_date":1683420509,"answer_id":76191797,"question_id":76188233,"body_markdown":"Here&#39;s a solution which presents two ways to filter `li` nodes such that you capture only those which have a `span` as one of its children nodes. (Change the line `.filter(TopicAndDescriptionParser::isValidNode1)` to `.filter(TopicAndDescriptionParser::isValidNode2)` to demonstrate that they yield the same result.) \r\n\r\nYou didn&#39;t clarify how you wanted to collect the related data from each `li`, so I made up the record `TopicAndDescription` to encapsulate it. \r\n\r\n```\r\nimport java.util.List;\r\nimport java.util.Optional;\r\nimport java.util.stream.Collectors;\r\n\r\nimport org.jsoup.Jsoup;\r\nimport org.jsoup.nodes.Element;\r\nimport org.jsoup.nodes.Node;\r\nimport org.jsoup.select.Elements;\r\n\r\npublic class TopicAndDescriptionParser {\r\n\r\n    record TopicAndDescription(String topic, String description) {\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        String snippet = &quot;&quot;&quot;\r\n            &lt;ul&gt;\r\n                 &lt;li&gt;&lt;/li&gt;\r\n                 &lt;li&gt;&lt;/li&gt;\r\n                 &lt;li&gt;&lt;/li&gt;\r\n                 &lt;li&gt;&lt;/li&gt;\r\n                 &lt;li&gt;\r\n                      &lt;a&gt;&lt;span&gt;VALUE0&lt;/span&gt;&lt;/a&gt;\r\n                       -\r\n                 &lt;/li&gt;\r\n                 &lt;li&gt;\r\n                      &lt;a&gt;&lt;span&gt;VALUE1&lt;/span&gt;&lt;/a&gt;\r\n                       -\r\n                      &lt;span&gt;&lt;/span&gt;\r\n                  &lt;/li&gt;\r\n                  &lt;li&gt;\r\n                      &lt;a&gt;&lt;span&gt;VALUE2&lt;/span&gt;&lt;/a&gt;\r\n                       -\r\n                      &lt;span&gt;VALUE3&lt;/span&gt;\r\n                  &lt;/li&gt;\r\n                  &lt;li&gt;\r\n                      &lt;a&gt;&lt;span&gt;VALUE4&lt;/span&gt;&lt;/a&gt;\r\n                       /\r\n                      &lt;a&gt;&lt;span&gt;VALUE5&lt;/span&gt;&lt;/a&gt;\r\n                       -\r\n                      &lt;span&gt;VALUE6&lt;/span&gt;\r\n                    &lt;/li&gt;\r\n             &lt;/ul&gt;&quot;&quot;&quot;;\r\n\r\n        final Elements elements = Jsoup.parse(snippet).select(&quot;ul&gt;li&quot;);\r\n        final List&lt;TopicAndDescription&gt; list = elements.stream()\r\n            .filter(TopicAndDescriptionParser::isValidNode2)\r\n            .map(TopicAndDescriptionParser::getTopicAndDescription)\r\n            .collect(Collectors.toList());\r\n        System.out.println(list);\r\n    }\r\n\r\n    private static boolean isValidNode1(Element elem) {\r\n        /*\r\n         * Node names from your snippet will be: \r\n         *      #text, a, #text, span, #text\r\n         * or\r\n         *      #text, a, #text, a, #text, span, #text\r\n         *\r\n         * So, check that the *next to last* node name is &quot;span&quot;\r\n         * \r\n         * Potential drawback: it assumes the index of the &quot;span&quot; node. Any\r\n         * unexpected variation in the HTML may cause it to yield wrong results.\r\n         */\r\n        List&lt;Node&gt; childNodes = elem.childNodes();\r\n        int size = childNodes.size();\r\n        return size &gt; 2 \r\n            &amp;&amp; &quot;span&quot;.equals(((Element) childNodes.get(size - 2)).tagName())\r\n            &amp;&amp; !((Element) childNodes.get(size - 2)).text().isEmpty();\r\n    }\r\n\r\n    private static boolean isValidNode2(Element element) {\r\n        /*\r\n         * Is there a span node in the child nodes?\r\n         * \r\n         * Pro: no indexing; con: using a stream might be consider heavy weight.\r\n         */\r\n        Optional&lt;Node&gt; spanNode = element.childNodes().stream()\r\n            .filter(node -&gt; &quot;span&quot;.equals(node.nodeName()))\r\n            .findFirst();\r\n        \r\n        return spanNode.isPresent() &amp;&amp; !((Element)spanNode.get()).text().isEmpty();\r\n    }\r\n\r\n    private static TopicAndDescription getTopicAndDescription(Element element) {\r\n        String topic = element.select(&quot;a:first-child&quot;).text();\r\n        Elements spans = element.select(&quot;span&quot;);\r\n        String description = spans.get(spans.size() - 1).text();\r\n        return new TopicAndDescription(topic, description);\r\n    }\r\n\r\n}\r\n```\r\n\r\nOutput is \r\n```\r\n[TopicAndDescription[topic=VALUE2, description=VALUE3], TopicAndDescription[topic=VALUE4, description=VALUE6]]\r\n```\r\n\r\n","title":"How to handle a missing value while parsing an html via jsoup?","body":"<p>Here's a solution which presents two ways to filter <code>li</code> nodes such that you capture only those which have a <code>span</code> as one of its children nodes. (Change the line <code>.filter(TopicAndDescriptionParser::isValidNode1)</code> to <code>.filter(TopicAndDescriptionParser::isValidNode2)</code> to demonstrate that they yield the same result.)</p>\n<p>You didn't clarify how you wanted to collect the related data from each <code>li</code>, so I made up the record <code>TopicAndDescription</code> to encapsulate it.</p>\n<pre><code>import java.util.List;\nimport java.util.Optional;\nimport java.util.stream.Collectors;\n\nimport org.jsoup.Jsoup;\nimport org.jsoup.nodes.Element;\nimport org.jsoup.nodes.Node;\nimport org.jsoup.select.Elements;\n\npublic class TopicAndDescriptionParser {\n\n    record TopicAndDescription(String topic, String description) {\n    }\n\n    public static void main(String[] args) {\n        String snippet = &quot;&quot;&quot;\n            &lt;ul&gt;\n                 &lt;li&gt;&lt;/li&gt;\n                 &lt;li&gt;&lt;/li&gt;\n                 &lt;li&gt;&lt;/li&gt;\n                 &lt;li&gt;&lt;/li&gt;\n                 &lt;li&gt;\n                      &lt;a&gt;&lt;span&gt;VALUE0&lt;/span&gt;&lt;/a&gt;\n                       -\n                 &lt;/li&gt;\n                 &lt;li&gt;\n                      &lt;a&gt;&lt;span&gt;VALUE1&lt;/span&gt;&lt;/a&gt;\n                       -\n                      &lt;span&gt;&lt;/span&gt;\n                  &lt;/li&gt;\n                  &lt;li&gt;\n                      &lt;a&gt;&lt;span&gt;VALUE2&lt;/span&gt;&lt;/a&gt;\n                       -\n                      &lt;span&gt;VALUE3&lt;/span&gt;\n                  &lt;/li&gt;\n                  &lt;li&gt;\n                      &lt;a&gt;&lt;span&gt;VALUE4&lt;/span&gt;&lt;/a&gt;\n                       /\n                      &lt;a&gt;&lt;span&gt;VALUE5&lt;/span&gt;&lt;/a&gt;\n                       -\n                      &lt;span&gt;VALUE6&lt;/span&gt;\n                    &lt;/li&gt;\n             &lt;/ul&gt;&quot;&quot;&quot;;\n\n        final Elements elements = Jsoup.parse(snippet).select(&quot;ul&gt;li&quot;);\n        final List&lt;TopicAndDescription&gt; list = elements.stream()\n            .filter(TopicAndDescriptionParser::isValidNode2)\n            .map(TopicAndDescriptionParser::getTopicAndDescription)\n            .collect(Collectors.toList());\n        System.out.println(list);\n    }\n\n    private static boolean isValidNode1(Element elem) {\n        /*\n         * Node names from your snippet will be: \n         *      #text, a, #text, span, #text\n         * or\n         *      #text, a, #text, a, #text, span, #text\n         *\n         * So, check that the *next to last* node name is &quot;span&quot;\n         * \n         * Potential drawback: it assumes the index of the &quot;span&quot; node. Any\n         * unexpected variation in the HTML may cause it to yield wrong results.\n         */\n        List&lt;Node&gt; childNodes = elem.childNodes();\n        int size = childNodes.size();\n        return size &gt; 2 \n            &amp;&amp; &quot;span&quot;.equals(((Element) childNodes.get(size - 2)).tagName())\n            &amp;&amp; !((Element) childNodes.get(size - 2)).text().isEmpty();\n    }\n\n    private static boolean isValidNode2(Element element) {\n        /*\n         * Is there a span node in the child nodes?\n         * \n         * Pro: no indexing; con: using a stream might be consider heavy weight.\n         */\n        Optional&lt;Node&gt; spanNode = element.childNodes().stream()\n            .filter(node -&gt; &quot;span&quot;.equals(node.nodeName()))\n            .findFirst();\n        \n        return spanNode.isPresent() &amp;&amp; !((Element)spanNode.get()).text().isEmpty();\n    }\n\n    private static TopicAndDescription getTopicAndDescription(Element element) {\n        String topic = element.select(&quot;a:first-child&quot;).text();\n        Elements spans = element.select(&quot;span&quot;);\n        String description = spans.get(spans.size() - 1).text();\n        return new TopicAndDescription(topic, description);\n    }\n\n}\n</code></pre>\n<p>Output is</p>\n<pre><code>[TopicAndDescription[topic=VALUE2, description=VALUE3], TopicAndDescription[topic=VALUE4, description=VALUE6]]\n</code></pre>\n"}],"owner":{"account_id":28525895,"reputation":1,"user_id":21833976,"display_name":"uterkaxx"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683420895,"creation_date":1683366715,"question_id":76188233,"body_markdown":"I have a programm that should scrape urls and get all the values of elements. Elements look like this:\r\n\r\n`VALUE1 - VALUE3`\r\n\r\nor it can look like this:\r\n\r\n`VALUE1/VALUE2 - VALUE3`\r\n\r\nThe HTML file looks this way:\r\n\r\n     `&lt;ul&gt;\r\n     &lt;li&gt;&lt;/li&gt;\r\n     &lt;li&gt;&lt;/li&gt;\r\n     &lt;li&gt;&lt;/li&gt;\r\n     &lt;li&gt;&lt;/li&gt;\r\n     &lt;li&gt;&lt;/li&gt;\r\n     &lt;li&gt;\r\n          &lt;a&gt;&lt;span&gt;VALUE1&lt;/span&gt;&lt;/a&gt;\r\n           -\r\n          &lt;span&gt;VALUE3&lt;/span&gt;\r\n                &lt;/li&gt;\r\n\r\n\r\n     &lt;/ul&gt;`\r\n\r\nOr it can look this way: \r\n\r\n     `&lt;ul&gt;\r\n          &lt;li&gt;&lt;/li&gt;\r\n          &lt;li&gt;&lt;/li&gt;\r\n          &lt;li&gt;&lt;/li&gt;\r\n          &lt;li&gt;&lt;/li&gt;\r\n          &lt;li&gt;&lt;/li&gt;\r\n          &lt;li&gt;\r\n          &lt;a&gt;&lt;span&gt;VALUE1&lt;/span&gt;&lt;/a&gt;\r\n           /\r\n          &lt;a&gt;&lt;span&gt;VALUE2&lt;/span&gt;&lt;/a&gt;\r\n           -\r\n          &lt;span&gt;VALUE3&lt;/span&gt;\r\n                &lt;/li&gt;\r\n\r\n\r\n     &lt;/ul&gt;`\r\n\r\nI need to get the first and third value, so I firstly scrape all of the VALUE1 and put it into an ArrayList, then I do the same with VALUE3. But here&#39;s the problem: VALUE3 is not always there! Sometimes the VALUE3 span tag can just not be present on the website. \r\n\r\nSo when I put my VALUE1 and VALUE3 from 2 lists to one, the first can be larger, which may cause an IndexOutOfBoundsException. I thought maybe I could just put something in my second list if VALUE3 is missing? Which way can I do that? I use the following code to scrape:\r\n\r\n                        for (Element row : parse.select(&quot;ul&gt;li&gt;a&gt;span&quot;)){ //to scrape the first one\r\n                            String ing = row.getAllElements().text();\r\n                            ingDebug1.add(ing);\r\n                            debug = i;\r\n                        }\r\n\r\n                        for (Element row :parse.select(&quot;ul&gt;li&gt;span&quot;)){ //to scrape the third one\r\n                            String ing = row.getAllElements().text();\r\n                            debug = i;\r\n                        }\r\n\r\n                        for (int k = 0; k&lt;ingDebug1.size(); k++){ // to put them together\r\n                            ingShowUp.add(ingDebug1.get(k));\r\n                            ingShowUp.add(ingDebug2.get(k));\r\n                        }","title":"How to handle a missing value while parsing an html via jsoup?","body":"<p>I have a programm that should scrape urls and get all the values of elements. Elements look like this:</p>\n<p><code>VALUE1 - VALUE3</code></p>\n<p>or it can look like this:</p>\n<p><code>VALUE1/VALUE2 - VALUE3</code></p>\n<p>The HTML file looks this way:</p>\n<pre><code> `&lt;ul&gt;\n &lt;li&gt;&lt;/li&gt;\n &lt;li&gt;&lt;/li&gt;\n &lt;li&gt;&lt;/li&gt;\n &lt;li&gt;&lt;/li&gt;\n &lt;li&gt;&lt;/li&gt;\n &lt;li&gt;\n      &lt;a&gt;&lt;span&gt;VALUE1&lt;/span&gt;&lt;/a&gt;\n       -\n      &lt;span&gt;VALUE3&lt;/span&gt;\n            &lt;/li&gt;\n\n\n &lt;/ul&gt;`\n</code></pre>\n<p>Or it can look this way:</p>\n<pre><code> `&lt;ul&gt;\n      &lt;li&gt;&lt;/li&gt;\n      &lt;li&gt;&lt;/li&gt;\n      &lt;li&gt;&lt;/li&gt;\n      &lt;li&gt;&lt;/li&gt;\n      &lt;li&gt;&lt;/li&gt;\n      &lt;li&gt;\n      &lt;a&gt;&lt;span&gt;VALUE1&lt;/span&gt;&lt;/a&gt;\n       /\n      &lt;a&gt;&lt;span&gt;VALUE2&lt;/span&gt;&lt;/a&gt;\n       -\n      &lt;span&gt;VALUE3&lt;/span&gt;\n            &lt;/li&gt;\n\n\n &lt;/ul&gt;`\n</code></pre>\n<p>I need to get the first and third value, so I firstly scrape all of the VALUE1 and put it into an ArrayList, then I do the same with VALUE3. But here's the problem: VALUE3 is not always there! Sometimes the VALUE3 span tag can just not be present on the website.</p>\n<p>So when I put my VALUE1 and VALUE3 from 2 lists to one, the first can be larger, which may cause an IndexOutOfBoundsException. I thought maybe I could just put something in my second list if VALUE3 is missing? Which way can I do that? I use the following code to scrape:</p>\n<pre><code>                    for (Element row : parse.select(&quot;ul&gt;li&gt;a&gt;span&quot;)){ //to scrape the first one\n                        String ing = row.getAllElements().text();\n                        ingDebug1.add(ing);\n                        debug = i;\n                    }\n\n                    for (Element row :parse.select(&quot;ul&gt;li&gt;span&quot;)){ //to scrape the third one\n                        String ing = row.getAllElements().text();\n                        debug = i;\n                    }\n\n                    for (int k = 0; k&lt;ingDebug1.size(); k++){ // to put them together\n                        ingShowUp.add(ingDebug1.get(k));\n                        ingShowUp.add(ingDebug2.get(k));\n                    }\n</code></pre>\n"},{"tags":["java","gradle"],"answers":[{"tags":[],"owner":{"account_id":18507938,"reputation":57,"user_id":13483843,"display_name":"Hunter"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646861352,"creation_date":1618452050,"answer_id":67101233,"question_id":66543244,"body_markdown":"I met the same problem and I had to change the Gradle version for this:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/s4xre.png\r\n\r\n\r\nyou can find available versions here: &lt;https://services.gradle.org/distributions/&gt;","title":"Cause: zip END header not found","body":"<p>I met the same problem and I had to change the Gradle version for this:</p>\n<p><a href=\"https://i.stack.imgur.com/s4xre.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/s4xre.png\" alt=\"enter image description here\" /></a></p>\n<p>you can find available versions here: <a href=\"https://services.gradle.org/distributions/\" rel=\"nofollow noreferrer\">https://services.gradle.org/distributions/</a></p>\n"},{"tags":[],"owner":{"account_id":19368054,"reputation":61,"user_id":14161879,"display_name":"Lenny"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681591432,"creation_date":1681591432,"answer_id":76024667,"question_id":66543244,"body_markdown":"That means thats something is wrong with your gradle version. You can simply go to: https://services.gradle.org/distributions/ and choose the actual version. Make sure it is the bin version for example:\r\n\r\n\r\n&gt; https://services.gradle.org/distributions/gradle-8.1-bin.zip\r\n\r\nThen make sure to change the gradle-wrapper.properties\r\n\r\nIn my case this worked out.","title":"Cause: zip END header not found","body":"<p>That means thats something is wrong with your gradle version. You can simply go to: <a href=\"https://services.gradle.org/distributions/\" rel=\"nofollow noreferrer\">https://services.gradle.org/distributions/</a> and choose the actual version. Make sure it is the bin version for example:</p>\n<blockquote>\n<p><a href=\"https://services.gradle.org/distributions/gradle-8.1-bin.zip\" rel=\"nofollow noreferrer\">https://services.gradle.org/distributions/gradle-8.1-bin.zip</a></p>\n</blockquote>\n<p>Then make sure to change the gradle-wrapper.properties</p>\n<p>In my case this worked out.</p>\n"}],"owner":{"account_id":12004122,"reputation":11,"user_id":8782958,"display_name":"G&#246;khan Duran"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18170,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1683420424,"creation_date":1615278340,"question_id":66543244,"body_markdown":"I get an error while reimport gradle project. *Cause: zip END header not found*. How can i fix it?\r\nI tried to delete all files under .gradle folders but it doesn&#39;t work.\r\n\r\n    Exception in thread &quot;main&quot; java.util.zip.ZipException: error in opening zip file\r\n            at java.util.zip.ZipFile.open(Native Method)\r\n            at java.util.zip.ZipFile.&lt;init&gt;(ZipFile.java:225)\r\n            at java.util.zip.ZipFile.&lt;init&gt;(ZipFile.java:155)\r\n            at java.util.zip.ZipFile.&lt;init&gt;(ZipFile.java:169)\r\n            at org.gradle.wrapper.Install.unzip(Install.java:219)\r\n            at org.gradle.wrapper.Install.access$600(Install.java:27)\r\n            at org.gradle.wrapper.Install$1.call(Install.java:75)\r\n            at org.gradle.wrapper.Install$1.call(Install.java:48)\r\n            at org.gradle.wrapper.ExclusiveFileAccessManager.access(ExclusiveFileAccessManager.java:69)\r\n            at org.gradle.wrapper.Install.createDist(Install.java:48)\r\n            at org.gradle.wrapper.WrapperExecutor.execute(WrapperExecutor.java:107)\r\n            at org.gradle.wrapper.GradleWrapperMain.main(GradleWrapperMain.java:63)\r\n\r\n","title":"Cause: zip END header not found","body":"<p>I get an error while reimport gradle project. <em>Cause: zip END header not found</em>. How can i fix it?\nI tried to delete all files under .gradle folders but it doesn't work.</p>\n<pre><code>Exception in thread &quot;main&quot; java.util.zip.ZipException: error in opening zip file\n        at java.util.zip.ZipFile.open(Native Method)\n        at java.util.zip.ZipFile.&lt;init&gt;(ZipFile.java:225)\n        at java.util.zip.ZipFile.&lt;init&gt;(ZipFile.java:155)\n        at java.util.zip.ZipFile.&lt;init&gt;(ZipFile.java:169)\n        at org.gradle.wrapper.Install.unzip(Install.java:219)\n        at org.gradle.wrapper.Install.access$600(Install.java:27)\n        at org.gradle.wrapper.Install$1.call(Install.java:75)\n        at org.gradle.wrapper.Install$1.call(Install.java:48)\n        at org.gradle.wrapper.ExclusiveFileAccessManager.access(ExclusiveFileAccessManager.java:69)\n        at org.gradle.wrapper.Install.createDist(Install.java:48)\n        at org.gradle.wrapper.WrapperExecutor.execute(WrapperExecutor.java:107)\n        at org.gradle.wrapper.GradleWrapperMain.main(GradleWrapperMain.java:63)\n</code></pre>\n"},{"tags":["java","arrays","string"],"comments":[{"owner":{"account_id":3207438,"reputation":19204,"user_id":2708210,"accept_rate":62,"display_name":"Rahul Singh"},"score":0,"creation_date":1496734260,"post_id":44383773,"comment_id":75767773,"body_markdown":"The way you have tried works fine i suppose sorry i didnt see that @ first","body":"The way you have tried works fine i suppose sorry i didnt see that @ first"},{"owner":{"account_id":7206572,"reputation":1345,"user_id":5501996,"accept_rate":88,"display_name":"yoges nsamy"},"score":1,"creation_date":1496734468,"post_id":44383773,"comment_id":75767894,"body_markdown":"May I know why my question is downvoted please?","body":"May I know why my question is downvoted please?"},{"owner":{"account_id":10432364,"reputation":1044,"user_id":7691803,"accept_rate":79,"display_name":"Bharat"},"score":0,"creation_date":1496734745,"post_id":44383773,"comment_id":75768059,"body_markdown":"lol I became your senior with 2 downvotes. I should&#39;t have answered","body":"lol I became your senior with 2 downvotes. I should&#39;t have answered"},{"owner":{"account_id":7206572,"reputation":1345,"user_id":5501996,"accept_rate":88,"display_name":"yoges nsamy"},"score":0,"creation_date":1496734818,"post_id":44383773,"comment_id":75768114,"body_markdown":"I get nervous every time I post something here. The fear of losing points is so real! LOL","body":"I get nervous every time I post something here. The fear of losing points is so real! LOL"}],"answers":[{"tags":[],"owner":{"account_id":10369579,"reputation":313,"user_id":7647640,"display_name":"Andriy Rymar"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1496734658,"creation_date":1496734658,"answer_id":44384032,"question_id":44383773,"body_markdown":"It is all about output formatting. You may use [this examples][1] and become familiar with all possible approaches.\r\n\r\nYour code can be improved in next two ways :\r\n\r\n1) Use `\\t` instead of Empty Space (`\\t` is a tabulation)\r\n\r\n2) Create a constant with output format like this `private static final String output = &quot;%d &quot;` and use it in output line like this : `String.format(output, number)` where `number` is your number that should be printed. \r\n\r\n\r\n  [1]: https://dzone.com/articles/java-string-format-examples","title":"Java: Printing trailing spaces","body":"<p>It is all about output formatting. You may use <a href=\"https://dzone.com/articles/java-string-format-examples\" rel=\"nofollow noreferrer\">this examples</a> and become familiar with all possible approaches.</p>\n\n<p>Your code can be improved in next two ways :</p>\n\n<p>1) Use <code>\\t</code> instead of Empty Space (<code>\\t</code> is a tabulation)</p>\n\n<p>2) Create a constant with output format like this <code>private static final String output = \"%d \"</code> and use it in output line like this : <code>String.format(output, number)</code> where <code>number</code> is your number that should be printed. </p>\n"},{"tags":[],"owner":{"account_id":37812,"reputation":25853,"user_id":108207,"accept_rate":96,"display_name":"Niklas Rosencrantz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1496734976,"creation_date":1496734976,"answer_id":44384119,"question_id":44383773,"body_markdown":"First reverse the array and then print it with a for loop. \r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class Main {\r\n    \r\n        public static void main(String[] args) {\r\n            Scanner in = new Scanner(System.in);\r\n            int n = in.nextInt();\r\n            int arr[] = new int[n];\r\n            for(int arr_i=0; arr_i &lt; n; arr_i++)\r\n            {\r\n                arr[arr_i] = in.nextInt();\r\n            }\r\n            for(int i = 0; i &lt; arr.length / 2; i++)\r\n            {\r\n                int temp = arr[i];\r\n                arr[i] = arr[arr.length - i - 1];\r\n                arr[arr.length - i - 1] = temp;\r\n            }    \r\n            for(int i = 0; i &lt; arr.length; i++)\r\n            {\r\n                System.out.print(arr[i]+&quot; &quot;);\r\n            }\r\n        }\r\n    }","title":"Java: Printing trailing spaces","body":"<p>First reverse the array and then print it with a for loop. </p>\n\n<pre><code>import java.util.Scanner;\n\npublic class Main {\n\n    public static void main(String[] args) {\n        Scanner in = new Scanner(System.in);\n        int n = in.nextInt();\n        int arr[] = new int[n];\n        for(int arr_i=0; arr_i &lt; n; arr_i++)\n        {\n            arr[arr_i] = in.nextInt();\n        }\n        for(int i = 0; i &lt; arr.length / 2; i++)\n        {\n            int temp = arr[i];\n            arr[i] = arr[arr.length - i - 1];\n            arr[arr.length - i - 1] = temp;\n        }    \n        for(int i = 0; i &lt; arr.length; i++)\n        {\n            System.out.print(arr[i]+\" \");\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6433222,"reputation":1497,"user_id":4985572,"accept_rate":75,"display_name":"Igoranze"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1496741508,"creation_date":1496741508,"answer_id":44386320,"question_id":44383773,"body_markdown":"The easy way to reverse a string is using the `StringBuilder` class:\r\n\r\nOne option is to remove the spaces at the end of the string eg. remove last char\r\n\r\n    package stackoverflow.main;\r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class Main {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tScanner in = new Scanner(System.in);\r\n    \t\tint n = in.nextInt();\r\n    \t\t\r\n    \t\tStringBuilder sb = new StringBuilder();\r\n    \t\t\r\n    \t\tfor(int arr_i = 0; arr_i &lt; n; arr_i++){\r\n    \t\t\tsb.append(in.nextInt());\r\n    \t\t\tsb.append(&quot; &quot;);\r\n    \t\t}\r\n    \t\t\r\n    \t\tsb.deleteCharAt(sb.length() - 1);\r\n    \t\t\r\n    \t\tString normal = sb.toString();\r\n    \t\tString reversed = sb.reverse().toString();\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;normal: &quot; + normal);\r\n    \t\tSystem.out.println(&quot;reversed: &quot; + reversed);\r\n    \t}\r\n    }\r\n\r\nAnother option is to check whether you are at the last `arr_i` of your loop.\r\nIf so, then don&#39;t add a space\r\n\r\n    package stackoverflow.main;\r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class Main {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tScanner in = new Scanner(System.in);\r\n    \t\tint n = in.nextInt();\r\n    \t\t\r\n    \t\tStringBuilder sb = new StringBuilder();\r\n    \t\t\r\n    \t\tfor(int arr_i = 0; arr_i &lt; n; arr_i++){\r\n    \t\t\tsb.append(in.nextInt());\r\n                if (arr_i != 3\r\n    \t\t\t    sb.append(&quot; &quot;);\r\n    \t\t}\r\n    \t\t    \t\t\r\n    \t\tString normal = sb.toString();\r\n    \t\tString reversed = sb.reverse().toString();\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;normal: &quot; + normal);\r\n    \t\tSystem.out.println(&quot;reversed: &quot; + reversed);\r\n    \t}\r\n    }\r\n\r\n","title":"Java: Printing trailing spaces","body":"<p>The easy way to reverse a string is using the <code>StringBuilder</code> class:</p>\n\n<p>One option is to remove the spaces at the end of the string eg. remove last char</p>\n\n<pre><code>package stackoverflow.main;\n\nimport java.util.Scanner;\n\npublic class Main {\n\n    public static void main(String[] args) {\n        Scanner in = new Scanner(System.in);\n        int n = in.nextInt();\n\n        StringBuilder sb = new StringBuilder();\n\n        for(int arr_i = 0; arr_i &lt; n; arr_i++){\n            sb.append(in.nextInt());\n            sb.append(\" \");\n        }\n\n        sb.deleteCharAt(sb.length() - 1);\n\n        String normal = sb.toString();\n        String reversed = sb.reverse().toString();\n\n        System.out.println(\"normal: \" + normal);\n        System.out.println(\"reversed: \" + reversed);\n    }\n}\n</code></pre>\n\n<p>Another option is to check whether you are at the last <code>arr_i</code> of your loop.\nIf so, then don't add a space</p>\n\n<pre><code>package stackoverflow.main;\n\nimport java.util.Scanner;\n\npublic class Main {\n\n    public static void main(String[] args) {\n        Scanner in = new Scanner(System.in);\n        int n = in.nextInt();\n\n        StringBuilder sb = new StringBuilder();\n\n        for(int arr_i = 0; arr_i &lt; n; arr_i++){\n            sb.append(in.nextInt());\n            if (arr_i != 3\n                sb.append(\" \");\n        }\n\n        String normal = sb.toString();\n        String reversed = sb.reverse().toString();\n\n        System.out.println(\"normal: \" + normal);\n        System.out.println(\"reversed: \" + reversed);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1092764,"reputation":143,"user_id":1087029,"display_name":"AlejandroHernandez.Inc"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683420365,"creation_date":1683419880,"answer_id":76191772,"question_id":44383773,"body_markdown":"The same as what you did, only to consider the last element shall be printed out of the &#39;for&#39; loop.\r\n(*a quick and easy solution*)\r\n\r\nBy this way, you reduce the time with the validation of each iteration and you do know that the last element is the one without the &#39;space&#39;.\r\n\r\nI wish to be useful for the software development community.\r\n\r\n    public static void main(String[] args) {\r\n        Scanner in = new Scanner(System.in);\r\n        int n = in.nextInt();\r\n        int arr[] = new int[n];\r\n        for(int arr_i=0; arr_i &lt; n; arr_i++){\r\n            arr[arr_i] = in.nextInt();\r\n        }\r\n        for(int reverse_i=n-1; reverse_i&gt;0; reverse_i--){\r\n            System.out.print(arr[reverse_i]+&quot; &quot;);\r\n        }\r\n        System.out.print(arr[0]);\r\n     }\r\n\r\n","title":"Java: Printing trailing spaces","body":"<p>The same as what you did, only to consider the last element shall be printed out of the 'for' loop.\n(<em>a quick and easy solution</em>)</p>\n<p>By this way, you reduce the time with the validation of each iteration and you do know that the last element is the one without the 'space'.</p>\n<p>I wish to be useful for the software development community.</p>\n<pre><code>public static void main(String[] args) {\n    Scanner in = new Scanner(System.in);\n    int n = in.nextInt();\n    int arr[] = new int[n];\n    for(int arr_i=0; arr_i &lt; n; arr_i++){\n        arr[arr_i] = in.nextInt();\n    }\n    for(int reverse_i=n-1; reverse_i&gt;0; reverse_i--){\n        System.out.print(arr[reverse_i]+&quot; &quot;);\n    }\n    System.out.print(arr[0]);\n }\n</code></pre>\n"}],"owner":{"account_id":7206572,"reputation":1345,"user_id":5501996,"accept_rate":88,"display_name":"yoges nsamy"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":968,"favorite_count":0,"down_vote_count":2,"up_vote_count":3,"accepted_answer_id":44386320,"answer_count":4,"score":1,"last_activity_date":1683420365,"creation_date":1496733918,"question_id":44383773,"body_markdown":"I&#39;m a beginner in Java and working on a code that first requires user to enter total number of integers and next the integers themselves. Example input is:\r\n    \r\n    4\r\n    1 4 3 2\r\n\r\nThe code will need to reverse the second input to the following: \r\n\r\n    2 3 4 1\r\n\r\nMy solution is as follow:\r\n\r\n    public static void main(String[] args) {\r\n        Scanner in = new Scanner(System.in);\r\n        int n = in.nextInt();\r\n        int arr[] = new int[n];\r\n        for(int arr_i=0; arr_i &lt; n; arr_i++){\r\n            arr[arr_i] = in.nextInt();\r\n        }\r\n        for(int reverse_i=n-1; reverse_i&gt;=0; reverse_i--){\r\n            System.out.print(arr[reverse_i]);\r\n                if(reverse_i != 0){System.out.print(&quot; &quot;);}\r\n        }\r\n    }\r\n\r\nMy question is related to the code to add a blank space &quot; &quot; in between the printed numbers. I wonder what other way I can use to get this done? Any suggestion is appreciated, thank you.","title":"Java: Printing trailing spaces","body":"<p>I'm a beginner in Java and working on a code that first requires user to enter total number of integers and next the integers themselves. Example input is:</p>\n\n<pre><code>4\n1 4 3 2\n</code></pre>\n\n<p>The code will need to reverse the second input to the following: </p>\n\n<pre><code>2 3 4 1\n</code></pre>\n\n<p>My solution is as follow:</p>\n\n<pre><code>public static void main(String[] args) {\n    Scanner in = new Scanner(System.in);\n    int n = in.nextInt();\n    int arr[] = new int[n];\n    for(int arr_i=0; arr_i &lt; n; arr_i++){\n        arr[arr_i] = in.nextInt();\n    }\n    for(int reverse_i=n-1; reverse_i&gt;=0; reverse_i--){\n        System.out.print(arr[reverse_i]);\n            if(reverse_i != 0){System.out.print(\" \");}\n    }\n}\n</code></pre>\n\n<p>My question is related to the code to add a blank space \" \" in between the printed numbers. I wonder what other way I can use to get this done? Any suggestion is appreciated, thank you.</p>\n"},{"tags":["java","reactive-programming","reactor","reactive-streams"],"comments":[{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":0,"creation_date":1626276622,"post_id":68379116,"comment_id":120851095,"body_markdown":"RX calls it &quot;cold&quot; observables","body":"RX calls it &quot;cold&quot; observables"},{"owner":{"account_id":8023174,"reputation":9194,"user_id":6051176,"display_name":"Martin Tarj&#225;nyi"},"score":0,"creation_date":1626295603,"post_id":68379116,"comment_id":120858113,"body_markdown":"Does this answer your question? [Difference between Mono/Flux.fromCallable and Mono.defer](https://stackoverflow.com/questions/60077499/difference-between-mono-flux-fromcallable-and-mono-defer)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/60077499/difference-between-mono-flux-fromcallable-and-mono-defer\">Difference between Mono/Flux.fromCallable and Mono.defer</a>"}],"answers":[{"tags":[],"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1626276487,"creation_date":1626276487,"answer_id":68380951,"question_id":68379116,"body_markdown":"`Mono.fromCallable()` is for regular deferred service call. The `Mono.defer()` produces a `Mono` and it does that only when you *subscribe*. So, you may decide to create this or that `Mono` not during composition phase, but exactly on the target subscribe.","title":"What is the real world case for Mono.defer()?","body":"<p><code>Mono.fromCallable()</code> is for regular deferred service call. The <code>Mono.defer()</code> produces a <code>Mono</code> and it does that only when you <em>subscribe</em>. So, you may decide to create this or that <code>Mono</code> not during composition phase, but exactly on the target subscribe.</p>\n"},{"tags":[],"owner":{"account_id":9808985,"reputation":93,"user_id":7267818,"accept_rate":57,"display_name":"0x52"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683418726,"creation_date":1636931766,"answer_id":69967964,"question_id":68379116,"body_markdown":"**`@a.khakh`**\r\n\r\nA very simple use case that helped me was to execute blocking code in another thread, that is, to process that blocking call so that the main-thread would not block me.\r\n\r\nI saw the need to use defer to subscribe in another thread, in this case in a Scheduler provided by project reactor and programmed by Simon Basle.\r\n\r\n * [source using Mono.defer](https://github.com/rucko24/poc-sync-asyn/blob/main/src/main/java/com/simulation/syncvsasync/views/helloworld/SyncVsAsync.java#L97)\r\n\r\nIf you do a combination of `defer` plus `subscribeOn` and a `Schedulers.boundedElastic` you will make your code non-blocking or rather it will not **block** your application, removing contention in Reactor&#39;s default Scheduler at that time, perhaps Schedulers.parallel\r\n\r\n----\r\n\r\nThe following image shows that the third component of a Combo, internally uses a defer plus a Scheduler, so as not to block the application.\r\n\r\n![](https://rubn0x52.com/assets/img/reactiveFrecuencyMono.gif)\r\n\r\n\r\n- ignore the method called `ui.access()` it is part of the vaadin framework.\r\n\r\n```java\r\nMono.defer(() -&gt; this.reactiveRandomNumbers.monoFrecuency(event.getValue().getSize()))\r\n                        .doOnEach(signal -&gt; log.info(&quot;Thread name doOnNext(): {}&quot;, Thread.currentThread().getName()))\r\n                        .subscribeOn(Schedulers.boundedElastic())\r\n                        .subscribe(subscribeMap -&gt; {\r\n                            ui.access(() -&gt; {\r\n                                log.info(&quot;Thread name subscribe(): {}&quot;, Thread.currentThread().getName());\r\n                                this.execute(event.getValue().getSize(), e -&gt; subscribeMap);\r\n                            });\r\n                        });\r\n```\r\n\r\n","title":"What is the real world case for Mono.defer()?","body":"<p><strong><code>@a.khakh</code></strong></p>\n<p>A very simple use case that helped me was to execute blocking code in another thread, that is, to process that blocking call so that the main-thread would not block me.</p>\n<p>I saw the need to use defer to subscribe in another thread, in this case in a Scheduler provided by project reactor and programmed by Simon Basle.</p>\n<ul>\n<li><a href=\"https://github.com/rucko24/poc-sync-asyn/blob/main/src/main/java/com/simulation/syncvsasync/views/helloworld/SyncVsAsync.java#L97\" rel=\"nofollow noreferrer\">source using Mono.defer</a></li>\n</ul>\n<p>If you do a combination of <code>defer</code> plus <code>subscribeOn</code> and a <code>Schedulers.boundedElastic</code> you will make your code non-blocking or rather it will not <strong>block</strong> your application, removing contention in Reactor's default Scheduler at that time, perhaps Schedulers.parallel</p>\n<hr />\n<p>The following image shows that the third component of a Combo, internally uses a defer plus a Scheduler, so as not to block the application.</p>\n<p><img src=\"https://rubn0x52.com/assets/img/reactiveFrecuencyMono.gif\" alt=\"\" /></p>\n<ul>\n<li>ignore the method called <code>ui.access()</code> it is part of the vaadin framework.</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>Mono.defer(() -&gt; this.reactiveRandomNumbers.monoFrecuency(event.getValue().getSize()))\n                        .doOnEach(signal -&gt; log.info(&quot;Thread name doOnNext(): {}&quot;, Thread.currentThread().getName()))\n                        .subscribeOn(Schedulers.boundedElastic())\n                        .subscribe(subscribeMap -&gt; {\n                            ui.access(() -&gt; {\n                                log.info(&quot;Thread name subscribe(): {}&quot;, Thread.currentThread().getName());\n                                this.execute(event.getValue().getSize(), e -&gt; subscribeMap);\n                            });\n                        });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7023642,"reputation":131,"user_id":5381942,"display_name":"Andrey Novikov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637699125,"creation_date":1637699125,"answer_id":70087362,"question_id":68379116,"body_markdown":"Sometimes you need to calculate something synchronous lazily.\r\n\r\nFor instance, we have an asynchronous service\r\n\r\n```\r\npublic interface SomeService {\r\n\r\n    Mono&lt;User&gt; getUserByName(String name);\r\n\r\n    Mono&lt;CreateUserResult&gt; createUser(User user);\r\n\r\n}\r\n```\r\n\r\nand an endpoint, which looks up for the user in this service and creates if the one was not found. BUT before the creation some heavy calculations must be performed in sync in special thread pool. So\r\n\r\n```\r\nsomeService.getUserByName(name)\r\n                .switchIfEmpty(Mono.defer(() -&gt; {\r\n                    var someHeavyCalculatedData = localHeavyService.doSomethingNecessary(name);\r\n                    return someService.createUser(new User(name, someHeavyCalculatedData));\r\n                }).subscribeOn(specialScheduler));\r\n```\r\n\r\nSure, you can say that we can use `Mono.fromCallable` instead and do it like\r\n\r\n```\r\nsomeService.getUserByName(name)\r\n                .switchIfEmpty(Mono.fromCallable(() -&gt; localHeavyService.doSomethingNecessary(name))\r\n                        .subscribeOn(specialScheduler)\r\n                        .flatMap(someHeavyCalculatedData -&gt; someService.createUser(new User(name, someHeavyCalculatedData)))\r\n                );\r\n```\r\n\r\nBut each method call in reactive chain causes creation of a huge amount of objects in memory. Well for one single call you, probably won&#39;t notice anything, but with higher load frequent allocating memory, then releasing it by GC would cause your app being slow.","title":"What is the real world case for Mono.defer()?","body":"<p>Sometimes you need to calculate something synchronous lazily.</p>\n<p>For instance, we have an asynchronous service</p>\n<pre><code>public interface SomeService {\n\n    Mono&lt;User&gt; getUserByName(String name);\n\n    Mono&lt;CreateUserResult&gt; createUser(User user);\n\n}\n</code></pre>\n<p>and an endpoint, which looks up for the user in this service and creates if the one was not found. BUT before the creation some heavy calculations must be performed in sync in special thread pool. So</p>\n<pre><code>someService.getUserByName(name)\n                .switchIfEmpty(Mono.defer(() -&gt; {\n                    var someHeavyCalculatedData = localHeavyService.doSomethingNecessary(name);\n                    return someService.createUser(new User(name, someHeavyCalculatedData));\n                }).subscribeOn(specialScheduler));\n</code></pre>\n<p>Sure, you can say that we can use <code>Mono.fromCallable</code> instead and do it like</p>\n<pre><code>someService.getUserByName(name)\n                .switchIfEmpty(Mono.fromCallable(() -&gt; localHeavyService.doSomethingNecessary(name))\n                        .subscribeOn(specialScheduler)\n                        .flatMap(someHeavyCalculatedData -&gt; someService.createUser(new User(name, someHeavyCalculatedData)))\n                );\n</code></pre>\n<p>But each method call in reactive chain causes creation of a huge amount of objects in memory. Well for one single call you, probably won't notice anything, but with higher load frequent allocating memory, then releasing it by GC would cause your app being slow.</p>\n"}],"owner":{"account_id":3048687,"reputation":125,"user_id":2583744,"display_name":"a.khakh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1633,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1683418726,"creation_date":1626269634,"question_id":68379116,"body_markdown":"I know what `Mono.defer()` does do, but when should I use it? I know that one of the use cases is to defer some blocking side effects in functions that return `Mono`, but that&#39;s generally a bad practice (putting side effects in functions that return `Mono` or `Flux`). And when I want to wrap some blocking code within the `Mono` there&#39;s `Mono.fromCallable()`. So what is the best case to use `Mono.defer()`? ","title":"What is the real world case for Mono.defer()?","body":"<p>I know what <code>Mono.defer()</code> does do, but when should I use it? I know that one of the use cases is to defer some blocking side effects in functions that return <code>Mono</code>, but that's generally a bad practice (putting side effects in functions that return <code>Mono</code> or <code>Flux</code>). And when I want to wrap some blocking code within the <code>Mono</code> there's <code>Mono.fromCallable()</code>. So what is the best case to use <code>Mono.defer()</code>?</p>\n"},{"tags":["java","spring-boot","spring-security","cors","tomcat10"],"comments":[{"owner":{"account_id":2021661,"reputation":61998,"user_id":2541573,"accept_rate":100,"display_name":"jub0bs"},"score":0,"creation_date":1683115121,"post_id":76162420,"comment_id":134316249,"body_markdown":"Nothing in the code that you&#39;ve posted explain an error with such a message. Either you&#39;re not telling us everything, or the message is inaccurate.","body":"Nothing in the code that you&#39;ve posted explain an error with such a message. Either you&#39;re not telling us everything, or the message is inaccurate."},{"owner":{"account_id":15197950,"reputation":19,"user_id":10966761,"display_name":"z3fq0n"},"score":0,"creation_date":1683123672,"post_id":76162420,"comment_id":134318623,"body_markdown":"These are the only things I would think are related to the error I&#39;m getting. Could you give me some guidance on extra information that&#39;s needed for my message to be more complete? Quite new to all this, sorry!","body":"These are the only things I would think are related to the error I&#39;m getting. Could you give me some guidance on extra information that&#39;s needed for my message to be more complete? Quite new to all this, sorry!"},{"owner":{"account_id":2021661,"reputation":61998,"user_id":2541573,"accept_rate":100,"display_name":"jub0bs"},"score":2,"creation_date":1683129092,"post_id":76162420,"comment_id":134320037,"body_markdown":"There must be a call to `allowedOrigins(&quot;*&quot;)` somewhere. Find it and you&#39;ll be one step closer to fixing your CORS issue.","body":"There must be a call to <code>allowedOrigins(&quot;*&quot;)</code> somewhere. Find it and you&#39;ll be one step closer to fixing your CORS issue."}],"answers":[{"tags":[],"owner":{"account_id":1119443,"reputation":6044,"user_id":1108098,"accept_rate":73,"display_name":"jordiburgos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683417671,"creation_date":1683417671,"answer_id":76191683,"question_id":76162420,"body_markdown":"I had the same issue as I didn&#39;t configure the CORS properly. This is my configuration:\r\n\r\n    @Bean\r\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n\r\n        http\r\n            .csrf().disable()\r\n            .cors(c -&gt; c.configurationSource(request -&gt; {\r\n                CorsConfiguration cors = new CorsConfiguration();\r\n                cors.setAllowedOrigins(List.of(&quot;*&quot;));\r\n                cors.setAllowedMethods(List.of(&quot;GET&quot;,&quot;POST&quot;, &quot;PUT&quot;, &quot;DELETE&quot;, &quot;OPTIONS&quot;));\r\n                cors.setAllowedHeaders(List.of(&quot;*&quot;));\r\n                cors.setExposedHeaders(List.of(HttpHeaders.AUTHORIZATION, HttpHeaders.CONTENT_TYPE));\r\n                return cors;\r\n            }))\r\n            .authorizeHttpRequests()\r\n            ...\r\n\r\nThis will allow any origin to be served. Also for any method.\r\n","title":"Why do I get a Spring Boot (Java) error Access-Control-Allow-Origin can&#39;t be *, while it&#39;s sending the right header?","body":"<p>I had the same issue as I didn't configure the CORS properly. This is my configuration:</p>\n<pre><code>@Bean\npublic SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n\n    http\n        .csrf().disable()\n        .cors(c -&gt; c.configurationSource(request -&gt; {\n            CorsConfiguration cors = new CorsConfiguration();\n            cors.setAllowedOrigins(List.of(&quot;*&quot;));\n            cors.setAllowedMethods(List.of(&quot;GET&quot;,&quot;POST&quot;, &quot;PUT&quot;, &quot;DELETE&quot;, &quot;OPTIONS&quot;));\n            cors.setAllowedHeaders(List.of(&quot;*&quot;));\n            cors.setExposedHeaders(List.of(HttpHeaders.AUTHORIZATION, HttpHeaders.CONTENT_TYPE));\n            return cors;\n        }))\n        .authorizeHttpRequests()\n        ...\n</code></pre>\n<p>This will allow any origin to be served. Also for any method.</p>\n"}],"owner":{"account_id":15197950,"reputation":19,"user_id":10966761,"display_name":"z3fq0n"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":397,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1683417671,"creation_date":1683106826,"question_id":76162420,"body_markdown":"I have a simple web app containing a Angular front-end and a Spring Boot API using Spring security JWT authentication (version 3.0.5) deployed in Tomcat 10. The Web server and APP/DB server are separate. I will censor out the domain for privacy reasons, and will replace it with example.com.\r\n\r\nI have Cors configured like this:\r\n\r\n```\r\nCorsConfigurationSource corsConfigurationSource() {\r\n        CorsConfiguration configuration = new CorsConfiguration();\r\n        configuration.setAllowedOrigins(Collections.singletonList(&quot;http://goods.example.com&quot;));\r\n        configuration.setAllowedMethods(Arrays.asList(&quot;GET&quot;,&quot;POST&quot;, &quot;PUT&quot;, &quot;OPTIONS&quot;));\r\n        configuration.setAllowCredentials(true);\r\n        configuration.setAllowedHeaders(Arrays.asList(&quot;Origin&quot;, &quot;Access-Control-Allow-Origin&quot;, &quot;Content-Type&quot;,\r\n                &quot;Accept&quot;, &quot;Jwt-Token&quot;, &quot;Authorization&quot;, &quot;X-Requested-With&quot;,\r\n                &quot;Access-Control-Request-Method&quot;, &quot;Access-Control-Request-Headers&quot;));\r\n        configuration.setExposedHeaders(Arrays.asList(&quot;Origin&quot;, &quot;Content-Type&quot;, &quot;Accept&quot;, &quot;Jwt-Token&quot;, &quot;Authorization&quot;,\r\n                &quot;Access-Control-Allow-Origin&quot;, &quot;Access-Control-Allow-Origin&quot;, &quot;Access-Control-Allow-Credentials&quot;, &quot;Filename&quot;));\r\n        configuration.setMaxAge(3600L);\r\n        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\r\n        source.registerCorsConfiguration(&quot;/**&quot;, configuration);\r\n        return source;\r\n    }\r\n```\r\n\r\nMy Spring Security config is the following:\r\n\r\n\r\n```\r\n@Bean\r\n    public SecurityFilterChain securityFilterChain(HttpSecurity httpSecurity) throws Exception {\r\n        httpSecurity\r\n                .cors()\r\n                .configurationSource(corsConfigurationSource())\r\n                .and()\r\n                .csrf()\r\n                .disable()\r\n//                .requiresChannel()\r\n//                .anyRequest()\r\n//                .requiresSecure()\r\n//                .and()\r\n                .authorizeHttpRequests( authCustomizer -&gt; authCustomizer\r\n                        .requestMatchers(HttpMethod.POST, &quot;/api/v1/auth/authenticate&quot;).permitAll()\r\n                        .requestMatchers(HttpMethod.GET, &quot;/api/v1/test&quot;).permitAll()\r\n                )\r\n                .authorizeHttpRequests()\r\n                .anyRequest()\r\n                .authenticated()\r\n                .and()\r\n                .sessionManagement()\r\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n                .and()\r\n                .authenticationProvider(authenticationProvider)\r\n                .addFilterBefore(jwtAuthFilter, UsernamePasswordAuthenticationFilter.class)\r\n                .headers()\r\n                .xssProtection()\r\n                .and()\r\n                .contentSecurityPolicy(&quot;default-src &#39;self&#39; data: blob:;&quot;);\r\n\r\n        return httpSecurity.build();\r\n    }\r\n```\r\n\r\nAs you can see I&#39;m running the app on http for now.\r\n\r\nWhen I call my authentication endpoint with valid credentials it shows the the following headers:\r\n\r\n\r\n```http\r\nHTTP/1.1 403 \r\nVary: Origin\r\nVary: Access-Control-Request-Method\r\nVary: Access-Control-Request-Headers\r\nAccess-Control-Allow-Origin: http://goods.example.com\r\nAccess-Control-Expose-Headers: Origin, Content-Type, Accept, Jwt-Token, Authorization, Access-Control-Allow-Origin, Access-Control-Allow-Origin, Access-Control-Allow-Credentials, Filename\r\nAccess-Control-Allow-Credentials: true\r\nX-Content-Type-Options: nosniff\r\nX-XSS-Protection: 0\r\nCache-Control: no-cache, no-store, max-age=0, must-revalidate\r\nPragma: no-cache\r\nExpires: 0\r\nX-Frame-Options: DENY\r\nContent-Type: application/json\r\nTransfer-Encoding: chunked\r\nDate: Wed, 03 May 2023 09:11:19 GMT\r\nKeep-Alive: timeout=20\r\nConnection: keep-alive\r\n```\r\n\r\nNow here is the problem. In my logs I get the following error: `c.o.g.exception.DefaultExceptionHandler  : java.lang.IllegalArgumentException: When allowCredentials is true, allowedOrigins cannot contain the special value &quot;*&quot; since that cannot be set on the &quot;Access-Control-Allow-Origin&quot; response header. To allow credentials to a set of origins, list them explicitly or consider using &quot;allowedOriginPatterns&quot; instead.`\r\n\r\nIn my view I am listing the allowed origins explicitly in my cors configuration, but for some reason it is not working...\r\n\r\n\r\nWhat I tried:\r\n - I tried changing the Collections.singletonList() to Arrays.asList()\r\n - Removing XSS and CSP\r\n - Changing the Class annotation Order to: `@Order(Ordered.HIGHEST_PRECEDENCE)`\r\n - Check whether there&#39;s any cors rules active in Tomcat (I can&#39;t find any)\r\n - Use setAllowedOriginPatterns OR addAllowedOriginPattern instead of setAllowOrigins \r\n - Add the @Bean annotation to my CorsConfigurationSource\r\n\r\nThese were the fixes I found in other threads/could think of on my own.\r\n\r\nJust to specify, I do not get an error in the browser, just in Java/Tomcat. Probably because spring boot does give the correct header back...\r\n\r\nThank you for your help!","title":"Why do I get a Spring Boot (Java) error Access-Control-Allow-Origin can&#39;t be *, while it&#39;s sending the right header?","body":"<p>I have a simple web app containing a Angular front-end and a Spring Boot API using Spring security JWT authentication (version 3.0.5) deployed in Tomcat 10. The Web server and APP/DB server are separate. I will censor out the domain for privacy reasons, and will replace it with example.com.</p>\n<p>I have Cors configured like this:</p>\n<pre><code>CorsConfigurationSource corsConfigurationSource() {\n        CorsConfiguration configuration = new CorsConfiguration();\n        configuration.setAllowedOrigins(Collections.singletonList(&quot;http://goods.example.com&quot;));\n        configuration.setAllowedMethods(Arrays.asList(&quot;GET&quot;,&quot;POST&quot;, &quot;PUT&quot;, &quot;OPTIONS&quot;));\n        configuration.setAllowCredentials(true);\n        configuration.setAllowedHeaders(Arrays.asList(&quot;Origin&quot;, &quot;Access-Control-Allow-Origin&quot;, &quot;Content-Type&quot;,\n                &quot;Accept&quot;, &quot;Jwt-Token&quot;, &quot;Authorization&quot;, &quot;X-Requested-With&quot;,\n                &quot;Access-Control-Request-Method&quot;, &quot;Access-Control-Request-Headers&quot;));\n        configuration.setExposedHeaders(Arrays.asList(&quot;Origin&quot;, &quot;Content-Type&quot;, &quot;Accept&quot;, &quot;Jwt-Token&quot;, &quot;Authorization&quot;,\n                &quot;Access-Control-Allow-Origin&quot;, &quot;Access-Control-Allow-Origin&quot;, &quot;Access-Control-Allow-Credentials&quot;, &quot;Filename&quot;));\n        configuration.setMaxAge(3600L);\n        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\n        source.registerCorsConfiguration(&quot;/**&quot;, configuration);\n        return source;\n    }\n</code></pre>\n<p>My Spring Security config is the following:</p>\n<pre><code>@Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity httpSecurity) throws Exception {\n        httpSecurity\n                .cors()\n                .configurationSource(corsConfigurationSource())\n                .and()\n                .csrf()\n                .disable()\n//                .requiresChannel()\n//                .anyRequest()\n//                .requiresSecure()\n//                .and()\n                .authorizeHttpRequests( authCustomizer -&gt; authCustomizer\n                        .requestMatchers(HttpMethod.POST, &quot;/api/v1/auth/authenticate&quot;).permitAll()\n                        .requestMatchers(HttpMethod.GET, &quot;/api/v1/test&quot;).permitAll()\n                )\n                .authorizeHttpRequests()\n                .anyRequest()\n                .authenticated()\n                .and()\n                .sessionManagement()\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n                .and()\n                .authenticationProvider(authenticationProvider)\n                .addFilterBefore(jwtAuthFilter, UsernamePasswordAuthenticationFilter.class)\n                .headers()\n                .xssProtection()\n                .and()\n                .contentSecurityPolicy(&quot;default-src 'self' data: blob:;&quot;);\n\n        return httpSecurity.build();\n    }\n</code></pre>\n<p>As you can see I'm running the app on http for now.</p>\n<p>When I call my authentication endpoint with valid credentials it shows the the following headers:</p>\n<pre class=\"lang-http prettyprint-override\"><code>HTTP/1.1 403 \nVary: Origin\nVary: Access-Control-Request-Method\nVary: Access-Control-Request-Headers\nAccess-Control-Allow-Origin: http://goods.example.com\nAccess-Control-Expose-Headers: Origin, Content-Type, Accept, Jwt-Token, Authorization, Access-Control-Allow-Origin, Access-Control-Allow-Origin, Access-Control-Allow-Credentials, Filename\nAccess-Control-Allow-Credentials: true\nX-Content-Type-Options: nosniff\nX-XSS-Protection: 0\nCache-Control: no-cache, no-store, max-age=0, must-revalidate\nPragma: no-cache\nExpires: 0\nX-Frame-Options: DENY\nContent-Type: application/json\nTransfer-Encoding: chunked\nDate: Wed, 03 May 2023 09:11:19 GMT\nKeep-Alive: timeout=20\nConnection: keep-alive\n</code></pre>\n<p>Now here is the problem. In my logs I get the following error: <code>c.o.g.exception.DefaultExceptionHandler  : java.lang.IllegalArgumentException: When allowCredentials is true, allowedOrigins cannot contain the special value &quot;*&quot; since that cannot be set on the &quot;Access-Control-Allow-Origin&quot; response header. To allow credentials to a set of origins, list them explicitly or consider using &quot;allowedOriginPatterns&quot; instead.</code></p>\n<p>In my view I am listing the allowed origins explicitly in my cors configuration, but for some reason it is not working...</p>\n<p>What I tried:</p>\n<ul>\n<li>I tried changing the Collections.singletonList() to Arrays.asList()</li>\n<li>Removing XSS and CSP</li>\n<li>Changing the Class annotation Order to: <code>@Order(Ordered.HIGHEST_PRECEDENCE)</code></li>\n<li>Check whether there's any cors rules active in Tomcat (I can't find any)</li>\n<li>Use setAllowedOriginPatterns OR addAllowedOriginPattern instead of setAllowOrigins</li>\n<li>Add the @Bean annotation to my CorsConfigurationSource</li>\n</ul>\n<p>These were the fixes I found in other threads/could think of on my own.</p>\n<p>Just to specify, I do not get an error in the browser, just in Java/Tomcat. Probably because spring boot does give the correct header back...</p>\n<p>Thank you for your help!</p>\n"},{"tags":["java","android","kotlin","mpandroidchart"],"comments":[{"owner":{"account_id":13113788,"reputation":10080,"user_id":9473786,"display_name":"Tyler V"},"score":0,"creation_date":1683327096,"post_id":76183110,"comment_id":134355440,"body_markdown":"What is it that you feel is missing from your current chart? The thickness of the horizontal lines? The lack of gridlines? The gradient coloring of the lines? Please update the question to be more specific about what you want.","body":"What is it that you feel is missing from your current chart? The thickness of the horizontal lines? The lack of gridlines? The gradient coloring of the lines? Please update the question to be more specific about what you want."},{"owner":{"account_id":17640707,"reputation":21,"user_id":12803038,"display_name":"Mike"},"score":0,"creation_date":1683417374,"post_id":76183110,"comment_id":134363923,"body_markdown":"@TylerV, thanks for the comment. I&#39;ve updated the question. I hope it&#39;s clear enough","body":"@TylerV, thanks for the comment. I&#39;ve updated the question. I hope it&#39;s clear enough"}],"owner":{"account_id":17640707,"reputation":21,"user_id":12803038,"display_name":"Mike"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683417282,"creation_date":1683295877,"question_id":76183110,"body_markdown":"I want to achieve this kind of chart using MPAndroidChart. In particular. \r\n\r\n[![enter image description here](https://i.stack.imgur.com/ooYsV.jpg)](https://i.stack.imgur.com/ooYsV.jpg)\r\n\r\nI have done all the necessary setup and particularly customized the chart to use the stepped mode below\r\n\r\n```\r\nVal set1 = LineDataSet(values, &quot;DataSet 1&quot;);\r\nset1.setMode(LineDataSet.Mode.STEPPED);\r\n```\r\n\r\nThis is what I&#39;ve been able to achieve so far. In particular, I want to implement the thickness of the horizontal lines and also the gradient coloring of the lines.\r\n\r\nI&#39;ll appreciate any recommendation to achieve the desired template I attached.\r\n\r\n[![enter image description here](https://i.stack.imgur.com/6xsHI.png)](https://i.stack.imgur.com/6xsHI.png)","title":"Making a custom step graph with mpandroidchart","body":"<p>I want to achieve this kind of chart using MPAndroidChart. In particular.</p>\n<p><a href=\"https://i.stack.imgur.com/ooYsV.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ooYsV.jpg\" alt=\"enter image description here\" /></a></p>\n<p>I have done all the necessary setup and particularly customized the chart to use the stepped mode below</p>\n<pre><code>Val set1 = LineDataSet(values, &quot;DataSet 1&quot;);\nset1.setMode(LineDataSet.Mode.STEPPED);\n</code></pre>\n<p>This is what I've been able to achieve so far. In particular, I want to implement the thickness of the horizontal lines and also the gradient coloring of the lines.</p>\n<p>I'll appreciate any recommendation to achieve the desired template I attached.</p>\n<p><a href=\"https://i.stack.imgur.com/6xsHI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6xsHI.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","android","android-studio","admob","interstitial"],"owner":{"account_id":28531839,"reputation":1,"user_id":21839115,"display_name":"You Loulou"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683415611,"creation_date":1683415611,"question_id":76191608,"body_markdown":"I call the finish() function in Activity which uses the InterstitialAd announcements but the garbage collector does not recover the activity because call back from InterstitialAd is currently using the activity.\r\nI have a memory leak on all the Activities that call loading InterstitialAd.load with InterstitialAdLoadCallback\r\n\r\n\r\nhow can I use InterstitialAd with InterstitialAdLoadCallback and avoid memory leaks?","title":"after loading InterstitialAd.load with InterstitialAdLoadCallback I have a memory leak","body":"<p>I call the finish() function in Activity which uses the InterstitialAd announcements but the garbage collector does not recover the activity because call back from InterstitialAd is currently using the activity.\nI have a memory leak on all the Activities that call loading InterstitialAd.load with InterstitialAdLoadCallback</p>\n<p>how can I use InterstitialAd with InterstitialAdLoadCallback and avoid memory leaks?</p>\n"},{"tags":["java","spring-boot","asynchronous","completable-future"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":1,"creation_date":1683407409,"post_id":76191049,"comment_id":134362986,"body_markdown":"hi &amp; welcome! i tried (not) to reproduce...(works like charm!) now see: (your exception message+) `Thread.sleep(1000000000);` that&#39;s *a lot of* (1 bill.) milliseconds! ... =&gt; 1 mill. seconds =&gt; ...it&#39;s about `11,5740741` days! (that&#39;s no good &quot;testing time frame&quot;!:)","body":"hi &amp; welcome! i tried (not) to reproduce...(works like charm!) now see: (your exception message+) <code>Thread.sleep(1000000000);</code> that&#39;s <i>a lot of</i> (1 bill.) milliseconds! ... =&gt; 1 mill. seconds =&gt; ...it&#39;s about <code>11,5740741</code> days! (that&#39;s no good &quot;testing time frame&quot;!:)"}],"answers":[{"tags":[],"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683415256,"creation_date":1683411959,"answer_id":76191442,"question_id":76191049,"body_markdown":"`Thread.sleep(1000000000);` seems too much for a (build) test ... That refers to ~ 12 (solar) days!\r\n\r\n### This works\r\n\r\n- [starter](https://start.spring.io/#!type=maven-project&amp;language=java&amp;platformVersion=3.0.6&amp;packaging=jar&amp;jvmVersion=17&amp;groupId=com.example&amp;artifactId=demo&amp;name=demo&amp;description=Demo%20project%20for%20Spring%20Boot&amp;packageName=com.example.demo&amp;dependencies=web,lombok,devtools)\r\n\r\n- &quot;App&quot;:\r\n  ```lang-java\r\n  package com.example.demo;\r\n\r\n  import java.util.UUID;\r\n  import java.util.concurrent.CompletableFuture;\r\n  import java.util.concurrent.TimeUnit;\r\n\r\n  import org.springframework.beans.factory.annotation.Autowired;\r\n  import org.springframework.beans.factory.annotation.Value;\r\n  import org.springframework.boot.SpringApplication;\r\n  import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n  import org.springframework.scheduling.annotation.Async;\r\n  import org.springframework.scheduling.annotation.EnableAsync;\r\n  import org.springframework.stereotype.Controller;\r\n  import org.springframework.stereotype.Service;\r\n  import org.springframework.web.bind.annotation.GetMapping;\r\n  import org.springframework.web.bind.annotation.RequestParam;\r\n  import org.springframework.web.bind.annotation.ResponseBody;\r\n\r\n  import lombok.extern.slf4j.Slf4j;\r\n\r\n  @EnableAsync\r\n  @SpringBootApplication\r\n  public class DemoApplication {\r\n\r\n    public static void main(String[] args) {\r\n      SpringApplication.run(DemoApplication.class, args);\r\n    }\r\n\r\n    @Slf4j\r\n    @Service\r\n    static class MyAsyService {\r\n      @Value(&quot;${simulation.sleep.seconds:10}&quot;)\r\n      private Long simSeconds;\r\n\r\n      @Async\r\n      CompletableFuture&lt;String&gt; doSomething(String req) throws InterruptedException {\r\n        log.info(&quot;in service...&quot;);\r\n        TimeUnit.SECONDS.sleep(simSeconds);\r\n        log.info(&quot;...leaving service&quot;);\r\n        return CompletableFuture.completedFuture(req + &quot;_&quot; + UUID.randomUUID());\r\n      }\r\n    }\r\n\r\n    @Slf4j\r\n    @Controller\r\n    static class MyController {\r\n      @Autowired\r\n      MyAsyService service;\r\n\r\n      @GetMapping(&quot;/hello&quot;)\r\n      @ResponseBody\r\n      CompletableFuture&lt;String&gt; hello(@RequestParam(required = false, defaultValue = &quot;anonymous&quot;) String req)\r\n          throws InterruptedException {\r\n        log.info(&quot;in controller...&quot;);\r\n        CompletableFuture&lt;String&gt; result = service.doSomething(req);\r\n        log.info(&quot;...controller done!&quot;);\r\n        return result;\r\n      }\r\n    }\r\n  }\r\n  ```\r\n- in browser:\r\n  [![browser screenshot][1]][1]\r\n- in server logs:\r\n  ```lang-text\r\n  ... o.s.web.servlet.DispatcherServlet    : Completed initialization in 1 ms\r\n  ... DemoApplication$MyController : in controller.... &lt;= req#1\r\n  ... DemoApplication$MyController : ....controller done!\r\n  ... DemoApplication$MyAsyService : in service....\r\n  ... DemoApplication$MyAsyService : ....leaving service\r\n  ... DemoApplication$MyController : in controller.... &lt;= req#2\r\n  ... DemoApplication$MyController : ....controller done!\r\n  ... DemoApplication$MyAsyService : in service....\r\n  ... DemoApplication$MyAsyService : ....leaving service\r\n  ... DemoApplication$MyController : in controller.... &lt;= req#3\r\n  ... DemoApplication$MyController : ....controller done!\r\n  ... DemoApplication$MyAsyService : in service....\r\n  ... DemoApplication$MyAsyService : ....leaving service\r\n  ```\r\n- (automatic, mock mvc) test (hardest part;):\r\n  ```\r\n  package com.example.demo;\r\n\r\n  import static org.hamcrest.core.StringStartsWith.startsWith;\r\n  import static org.springframework.test.web.servlet.request.MockMvcRequestBuilders.*;\r\n  import static org.springframework.test.web.servlet.result.MockMvcResultMatchers.content;\r\n  import static org.springframework.test.web.servlet.result.MockMvcResultMatchers.request;\r\n  import static org.springframework.test.web.servlet.result.MockMvcResultMatchers.status;\r\n\r\n  import java.util.UUID;\r\n\r\n  import org.junit.jupiter.api.Test;\r\n  import org.springframework.beans.factory.annotation.Autowired;\r\n  import org.springframework.beans.factory.annotation.Value;\r\n  import org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTest;\r\n  import org.springframework.mock.web.MockHttpServletRequest;\r\n  import org.springframework.test.web.servlet.MockMvc;\r\n  import org.springframework.test.web.servlet.MvcResult;\r\n  import org.springframework.test.web.servlet.RequestBuilder;\r\n\r\n  @WebMvcTest\r\n  class DemoApplicationTests {\r\n\r\n    @Autowired\r\n    MockMvc mockMvc;\r\n\t@Value(&quot;${simulation.sleep.seconds}&quot;) // -&gt; src/test/resources/application.properties\r\n\tLong simSeconds;\r\n\r\n    @Test\r\n    void testController() throws Exception {\r\n      String uid = UUID.randomUUID().toString();\r\n      MvcResult mvcResult = mockMvc.perform(get(&quot;/hello?req={v}&quot;, uid)) //1.\r\n          .andExpect(request().asyncStarted()) // 2.\r\n          .andReturn(); // 3.\r\n\r\n      mockMvc.perform(asyncDispatch(mvcResult/*, (simSeconds + 1) * 1000*/)) // 4!*\r\n          .andExpectAll( // ...\r\n              status().isOk(),\r\n              content().string(startsWith(uid)));\r\n    }\r\n    // 4*: when we take/simulate more than ~10 seconds, we have to &amp; can re-implement/enrich:\r\n    static RequestBuilder asyncDispatch(MvcResult mvcResult, long timeToWait) {\r\n\r\n\t\t// copied/adopted from MockMvcRequestBuilders#asyncDispatch\r\n\t\tmvcResult.getAsyncResult(timeToWait);\r\n\r\n\t\treturn servletContext -&gt; {\r\n\t\t\tMockHttpServletRequest request = mvcResult.getRequest();\r\n\t\t\trequest.setDispatcherType(DispatcherType.ASYNC);\r\n\t\t\trequest.setAsyncStarted(false);\r\n\t\t\treturn request;\r\n\t\t};\r\n\t}\r\n  }\r\n  ```   \r\n### Thx To\r\n- https://sadique.io/blog/2015/11/24/testing-async-responses-using-mockmvc/\r\n- https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/test/web/servlet/request/MockMvcRequestBuilders.html#asyncDispatch(org.springframework.test.web.servlet.MvcResult)\r\n\r\n\r\n----------\r\nChanging service to:\r\n```\r\nCompletableFuture.supplyAsync(() -&gt;{\r\n  try { //...\r\n```\r\n..has no significant effect.\r\n\r\n  [1]: https://i.stack.imgur.com/2wGFE.png","title":"Controller waiting even after using async and completable future","body":"<p><code>Thread.sleep(1000000000);</code> seems too much for a (build) test ... That refers to ~ 12 (solar) days!</p>\n<h3>This works</h3>\n<ul>\n<li><p><a href=\"https://start.spring.io/#!type=maven-project&amp;language=java&amp;platformVersion=3.0.6&amp;packaging=jar&amp;jvmVersion=17&amp;groupId=com.example&amp;artifactId=demo&amp;name=demo&amp;description=Demo%20project%20for%20Spring%20Boot&amp;packageName=com.example.demo&amp;dependencies=web,lombok,devtools\" rel=\"nofollow noreferrer\">starter</a></p>\n</li>\n<li><p>&quot;App&quot;:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.demo;\n\nimport java.util.UUID;\nimport java.util.concurrent.CompletableFuture;\nimport java.util.concurrent.TimeUnit;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.scheduling.annotation.Async;\nimport org.springframework.scheduling.annotation.EnableAsync;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.stereotype.Service;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RequestParam;\nimport org.springframework.web.bind.annotation.ResponseBody;\n\nimport lombok.extern.slf4j.Slf4j;\n\n@EnableAsync\n@SpringBootApplication\npublic class DemoApplication {\n\n  public static void main(String[] args) {\n    SpringApplication.run(DemoApplication.class, args);\n  }\n\n  @Slf4j\n  @Service\n  static class MyAsyService {\n    @Value(&quot;${simulation.sleep.seconds:10}&quot;)\n    private Long simSeconds;\n\n    @Async\n    CompletableFuture&lt;String&gt; doSomething(String req) throws InterruptedException {\n      log.info(&quot;in service...&quot;);\n      TimeUnit.SECONDS.sleep(simSeconds);\n      log.info(&quot;...leaving service&quot;);\n      return CompletableFuture.completedFuture(req + &quot;_&quot; + UUID.randomUUID());\n    }\n  }\n\n  @Slf4j\n  @Controller\n  static class MyController {\n    @Autowired\n    MyAsyService service;\n\n    @GetMapping(&quot;/hello&quot;)\n    @ResponseBody\n    CompletableFuture&lt;String&gt; hello(@RequestParam(required = false, defaultValue = &quot;anonymous&quot;) String req)\n        throws InterruptedException {\n      log.info(&quot;in controller...&quot;);\n      CompletableFuture&lt;String&gt; result = service.doSomething(req);\n      log.info(&quot;...controller done!&quot;);\n      return result;\n    }\n  }\n}\n</code></pre>\n</li>\n<li><p>in browser:\n<a href=\"https://i.stack.imgur.com/2wGFE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2wGFE.png\" alt=\"browser screenshot\" /></a></p>\n</li>\n<li><p>in server logs:</p>\n<pre class=\"lang-text prettyprint-override\"><code>... o.s.web.servlet.DispatcherServlet    : Completed initialization in 1 ms\n... DemoApplication$MyController : in controller.... &lt;= req#1\n... DemoApplication$MyController : ....controller done!\n... DemoApplication$MyAsyService : in service....\n... DemoApplication$MyAsyService : ....leaving service\n... DemoApplication$MyController : in controller.... &lt;= req#2\n... DemoApplication$MyController : ....controller done!\n... DemoApplication$MyAsyService : in service....\n... DemoApplication$MyAsyService : ....leaving service\n... DemoApplication$MyController : in controller.... &lt;= req#3\n... DemoApplication$MyController : ....controller done!\n... DemoApplication$MyAsyService : in service....\n... DemoApplication$MyAsyService : ....leaving service\n</code></pre>\n</li>\n<li><p>(automatic, mock mvc) test (hardest part;):</p>\n<pre><code>package com.example.demo;\n\nimport static org.hamcrest.core.StringStartsWith.startsWith;\nimport static org.springframework.test.web.servlet.request.MockMvcRequestBuilders.*;\nimport static org.springframework.test.web.servlet.result.MockMvcResultMatchers.content;\nimport static org.springframework.test.web.servlet.result.MockMvcResultMatchers.request;\nimport static org.springframework.test.web.servlet.result.MockMvcResultMatchers.status;\n\nimport java.util.UUID;\n\nimport org.junit.jupiter.api.Test;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTest;\nimport org.springframework.mock.web.MockHttpServletRequest;\nimport org.springframework.test.web.servlet.MockMvc;\nimport org.springframework.test.web.servlet.MvcResult;\nimport org.springframework.test.web.servlet.RequestBuilder;\n\n@WebMvcTest\nclass DemoApplicationTests {\n\n  @Autowired\n  MockMvc mockMvc;\n  @Value(&quot;${simulation.sleep.seconds}&quot;) // -&gt; src/test/resources/application.properties\n  Long simSeconds;\n\n  @Test\n  void testController() throws Exception {\n    String uid = UUID.randomUUID().toString();\n    MvcResult mvcResult = mockMvc.perform(get(&quot;/hello?req={v}&quot;, uid)) //1.\n        .andExpect(request().asyncStarted()) // 2.\n        .andReturn(); // 3.\n\n    mockMvc.perform(asyncDispatch(mvcResult/*, (simSeconds + 1) * 1000*/)) // 4!*\n        .andExpectAll( // ...\n            status().isOk(),\n            content().string(startsWith(uid)));\n  }\n  // 4*: when we take/simulate more than ~10 seconds, we have to &amp; can re-implement/enrich:\n  static RequestBuilder asyncDispatch(MvcResult mvcResult, long timeToWait) {\n\n      // copied/adopted from MockMvcRequestBuilders#asyncDispatch\n      mvcResult.getAsyncResult(timeToWait);\n\n      return servletContext -&gt; {\n          MockHttpServletRequest request = mvcResult.getRequest();\n          request.setDispatcherType(DispatcherType.ASYNC);\n          request.setAsyncStarted(false);\n          return request;\n      };\n  }\n}\n</code></pre>\n</li>\n</ul>\n<h3>Thx To</h3>\n<ul>\n<li><a href=\"https://sadique.io/blog/2015/11/24/testing-async-responses-using-mockmvc/\" rel=\"nofollow noreferrer\">https://sadique.io/blog/2015/11/24/testing-async-responses-using-mockmvc/</a></li>\n<li><a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/test/web/servlet/request/MockMvcRequestBuilders.html#asyncDispatch(org.springframework.test.web.servlet.MvcResult)\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/test/web/servlet/request/MockMvcRequestBuilders.html#asyncDispatch(org.springframework.test.web.servlet.MvcResult)</a></li>\n</ul>\n<hr />\n<p>Changing service to:</p>\n<pre><code>CompletableFuture.supplyAsync(() -&gt;{\n  try { //...\n</code></pre>\n<p>..has no significant effect.</p>\n"}],"owner":{"account_id":28512191,"reputation":21,"user_id":21822041,"display_name":"Deepak Mathur"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":399,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1683415256,"creation_date":1683405821,"question_id":76191049,"body_markdown":"I am developing a Spring Boot application where I want to make my controller asynchronous using CompletableFuture and the @Async annotation. To test the implementation, I intentionally added a Thread.sleep() call in the service method. However, even with these asynchronous approaches, the controller is still waiting for some time before executing. I have verified that my controller and service are running on different threads, as evidenced by their distinct thread IDs. I am unsure why this is happening, and I would appreciate any insights or suggestions on how to resolve this issue.\r\n\r\ncode is given below:\r\n```\r\n//controller\r\n  @PostMapping\r\n    public CompletableFuture&lt;User&gt; createUser(@RequestBody User user) {\r\n        System.out.println(Thread.currentThread().getId()+&quot;-----------------------------------&quot;+System.currentTimeMillis()+&quot;----------&quot;+&quot;inside controller&quot;);\r\n        return userService.createUser(user);\r\n    }\r\n```\r\n\r\n// service\r\n\r\n```\r\n   @Override\r\n    @Async(&quot;asyncExecutor&quot;)\r\n    public CompletableFuture&lt;User&gt; createUser(User user) {\r\n        System.out.println(Thread.currentThread().getId()+&quot;-----------------------------------&quot;+System.currentTimeMillis()+&quot;-------------inside services&quot;);\r\n        return CompletableFuture.supplyAsync(() -&gt;{\r\n            try {\r\n                Thread.sleep(1000000000);\r\n            } catch (InterruptedException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n            System.out.println(Thread.currentThread().getId());\r\n           return userRepository.save(user);\r\n        });\r\n    }\r\n\r\n```\r\n\r\nIt would be helpful to provide some code examples or specific details about your implementation in order to give a clearer understanding of the problem.\r\n\r\n//output\r\n```\r\n21-----------------------------------1683404458540----------inside controller\r\n34-----------------------------------1683404458543-------------inside services\r\n2023-05-07 01:51:28.812  WARN 36119 --- [nio-8080-exec-2] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.context.request.async.AsyncRequestTimeoutException]\r\n\r\n```","title":"Controller waiting even after using async and completable future","body":"<p>I am developing a Spring Boot application where I want to make my controller asynchronous using CompletableFuture and the @Async annotation. To test the implementation, I intentionally added a Thread.sleep() call in the service method. However, even with these asynchronous approaches, the controller is still waiting for some time before executing. I have verified that my controller and service are running on different threads, as evidenced by their distinct thread IDs. I am unsure why this is happening, and I would appreciate any insights or suggestions on how to resolve this issue.</p>\n<p>code is given below:</p>\n<pre><code>//controller\n  @PostMapping\n    public CompletableFuture&lt;User&gt; createUser(@RequestBody User user) {\n        System.out.println(Thread.currentThread().getId()+&quot;-----------------------------------&quot;+System.currentTimeMillis()+&quot;----------&quot;+&quot;inside controller&quot;);\n        return userService.createUser(user);\n    }\n</code></pre>\n<p>// service</p>\n<pre><code>   @Override\n    @Async(&quot;asyncExecutor&quot;)\n    public CompletableFuture&lt;User&gt; createUser(User user) {\n        System.out.println(Thread.currentThread().getId()+&quot;-----------------------------------&quot;+System.currentTimeMillis()+&quot;-------------inside services&quot;);\n        return CompletableFuture.supplyAsync(() -&gt;{\n            try {\n                Thread.sleep(1000000000);\n            } catch (InterruptedException e) {\n                throw new RuntimeException(e);\n            }\n            System.out.println(Thread.currentThread().getId());\n           return userRepository.save(user);\n        });\n    }\n\n</code></pre>\n<p>It would be helpful to provide some code examples or specific details about your implementation in order to give a clearer understanding of the problem.</p>\n<p>//output</p>\n<pre><code>21-----------------------------------1683404458540----------inside controller\n34-----------------------------------1683404458543-------------inside services\n2023-05-07 01:51:28.812  WARN 36119 --- [nio-8080-exec-2] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.context.request.async.AsyncRequestTimeoutException]\n\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1675610727,"post_id":75351717,"comment_id":132962150,"body_markdown":"`In my app I need access to permission READ_EXTERNAL_STORAGE` Not if your app runs on a device with Android 13+.","body":"<code>In my app I need access to permission READ_EXTERNAL_STORAGE</code> Not if your app runs on a device with Android 13+."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1675610789,"post_id":75351717,"comment_id":132962168,"body_markdown":"And READ_MEDIA_IMAGES you will need only for Android 13+ devices.","body":"And READ_MEDIA_IMAGES you will need only for Android 13+ devices."},{"owner":{"account_id":10528158,"reputation":334,"user_id":7758485,"display_name":"DiLDoST"},"score":0,"creation_date":1675724029,"post_id":75351717,"comment_id":132987079,"body_markdown":"Android 11+ needs MANAGE_STORAGE permission instead. And try to use WRITE_EXTERNAL_STORAGE. Coz&#39; it has both read and write. No one would just READ something without need of WRITING","body":"Android 11+ needs MANAGE_STORAGE permission instead. And try to use WRITE_EXTERNAL_STORAGE. Coz&#39; it has both read and write. No one would just READ something without need of WRITING"}],"answers":[{"tags":[],"owner":{"account_id":25877819,"reputation":1,"user_id":19607465,"display_name":"Executrix Apps"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683413818,"creation_date":1683413818,"answer_id":76191530,"question_id":75351717,"body_markdown":"    private ActivityResultLauncher&lt;String&gt; requestPermissionLauncher =\r\n            registerForActivityResult(new ActivityResultContracts.RequestPermission(),\r\n                    isGranted-&gt;{\r\n                if (isGranted){\r\n                    is_audio_Storage_permitted = true;\r\n                }else{\r\n                    is_media_Storage_permitted = false;\r\n                    sendToDialog();\r\n                }\r\n\r\n    });\r\n     public void sendToDialog(){\r\n        AlertDialog builder = new AlertDialog.Builder(MainActivity.this)\r\n                .setTitle(&quot;Alert for Permission&quot;)\r\n                .setMessage(&quot;Go to setting&quot;)\r\n                .setPositiveButton(&quot;Settings&quot;, new DialogInterface.OnClickListener() {\r\n                    @Override\r\n                    public void onClick(DialogInterface dialog, int which) {\r\n                        Intent mIntent = new Intent();\r\n                        mIntent.setAction(Settings.ACTION_APPLICATION_DETAILS_SETTINGS);\r\n                        Uri uri = Uri.fromParts(&quot;package&quot;, getPackageName(), null);\r\n                        rIntent.setData(uri);\r\n                        startActivity(rIntent);\r\n                        dialog.dismiss();\r\n                    }\r\n                }).setNegativeButton(&quot;Exit&quot;, new DialogInterface.OnClickListener() {\r\n                    @Override\r\n                    public void onClick(DialogInterface dialog, int which) {\r\n                        dialog.dismiss();\r\n                        finish();\r\n                    }\r\n                }).show();\r\n    }","title":"Android permission dialog not showing","body":"<pre><code>private ActivityResultLauncher&lt;String&gt; requestPermissionLauncher =\n        registerForActivityResult(new ActivityResultContracts.RequestPermission(),\n                isGranted-&gt;{\n            if (isGranted){\n                is_audio_Storage_permitted = true;\n            }else{\n                is_media_Storage_permitted = false;\n                sendToDialog();\n            }\n\n});\n public void sendToDialog(){\n    AlertDialog builder = new AlertDialog.Builder(MainActivity.this)\n            .setTitle(&quot;Alert for Permission&quot;)\n            .setMessage(&quot;Go to setting&quot;)\n            .setPositiveButton(&quot;Settings&quot;, new DialogInterface.OnClickListener() {\n                @Override\n                public void onClick(DialogInterface dialog, int which) {\n                    Intent mIntent = new Intent();\n                    mIntent.setAction(Settings.ACTION_APPLICATION_DETAILS_SETTINGS);\n                    Uri uri = Uri.fromParts(&quot;package&quot;, getPackageName(), null);\n                    rIntent.setData(uri);\n                    startActivity(rIntent);\n                    dialog.dismiss();\n                }\n            }).setNegativeButton(&quot;Exit&quot;, new DialogInterface.OnClickListener() {\n                @Override\n                public void onClick(DialogInterface dialog, int which) {\n                    dialog.dismiss();\n                    finish();\n                }\n            }).show();\n}\n</code></pre>\n"}],"owner":{"account_id":20248890,"reputation":21,"user_id":14850587,"display_name":"f_for_myself"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":311,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1683413818,"creation_date":1675594555,"question_id":75351717,"body_markdown":"In my app I need access to permission READ_EXTERNAL_STORAGE\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot;/&gt;\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\r\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:preserveLegacyExternalStorage=&quot;true&quot;\r\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/Theme.NoteApp&quot;\r\n        tools:targetApi=&quot;31&quot;&gt;\r\n        &lt;activity\r\n            android:name=&quot;.activities.CreateNoteActivity&quot;\r\n            android:screenOrientation=&quot;portrait&quot;\r\n            android:windowSoftInputMode=&quot;stateHidden&quot;\r\n            android:exported=&quot;false&quot;&gt;\r\n            &lt;meta-data\r\n                android:name=&quot;android.app.lib_name&quot;\r\n                android:value=&quot;&quot; /&gt;\r\n        &lt;/activity&gt;\r\n        &lt;activity\r\n            android:name=&quot;.activities.MainActivity&quot;\r\n            android:screenOrientation=&quot;portrait&quot;\r\n            android:windowSoftInputMode=&quot;stateHidden&quot;\r\n            android:exported=&quot;true&quot;\r\n            android:label=&quot;@string/app_name&quot;\r\n            android:theme=&quot;@style/Theme.NoteApp.NoActionBar&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n\r\n            &lt;meta-data\r\n                android:name=&quot;android.app.lib_name&quot;\r\n                android:value=&quot;&quot; /&gt;\r\n        &lt;/activity&gt;\r\n    &lt;/application&gt;\r\n\r\n&lt;/manifest&gt;\r\n```\r\n\r\nIn my code I check If I already have permissions, and if NOT:\r\n\r\n```\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_create_note);\r\n\r\n        ImageView imageBack = findViewById(R.id.imageBack);\r\n        imageBack.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                onBackPressed();\r\n            }\r\n        });\r\n\r\n        inputNoteTitle = findViewById(R.id.inputNoteTitle);\r\n        inputNoteText = findViewById(R.id.inputNote);\r\n        textDateTime = findViewById(R.id.textDateTime);\r\n        imageNote = findViewById(R.id.imageNote);\r\n\r\n        textDateTime.setText(\r\n                new SimpleDateFormat(&quot;EEEE, dd MMMM yyyy HH:mm a&quot;, Locale.getDefault())\r\n                        .format(new Date())\r\n        );\r\n\r\n        ImageView imageSave = findViewById(R.id.imageSave);\r\n        imageSave.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                saveNote();\r\n            }\r\n        });\r\n\r\n        ImageView imageAddImage = findViewById(R.id.imageAddImage);\r\n        imageAddImage.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                int requestPermission = ContextCompat.checkSelfPermission(\r\n                        getApplicationContext(), Manifest.permission.READ_EXTERNAL_STORAGE\r\n                );\r\n                if (requestPermission != PackageManager.PERMISSION_GRANTED){\r\n                    ActivityCompat.requestPermissions(\r\n                            CreateNoteActivity.this,\r\n                            new String[] {Manifest.permission.READ_EXTERNAL_STORAGE},\r\n                            REQUEST_CODE_STORAGE_PERMISSION\r\n                    );\r\n                }\r\n                else {\r\n                    selectImage();\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n @Override\r\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\r\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n        if (requestCode == REQUEST_CODE_STORAGE_PERMISSION &amp;&amp; grantResults.length &gt; 0){\r\n            Log.d(&quot;DEBUG&quot;, &quot;&quot; + grantResults[0]);\r\n            if (grantResults[0] == PackageManager.PERMISSION_GRANTED){\r\n                selectImage();\r\n            }\r\n            else {\r\n                Toast.makeText(this, &quot;Permission Denied!&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n        }\r\n    }\r\n```\r\n\r\nBut the permissions dialog never shows, let alone is onRequestPermissionsResult() called.\r\n\r\nI don&#39;t know why the dialog doesn&#39;t show when i use READ_EXTERNAL_STORAGE but it work with READ_MEDIA_IMAGES.","title":"Android permission dialog not showing","body":"<p>In my app I need access to permission READ_EXTERNAL_STORAGE</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot;/&gt;\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:preserveLegacyExternalStorage=&quot;true&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/Theme.NoteApp&quot;\n        tools:targetApi=&quot;31&quot;&gt;\n        &lt;activity\n            android:name=&quot;.activities.CreateNoteActivity&quot;\n            android:screenOrientation=&quot;portrait&quot;\n            android:windowSoftInputMode=&quot;stateHidden&quot;\n            android:exported=&quot;false&quot;&gt;\n            &lt;meta-data\n                android:name=&quot;android.app.lib_name&quot;\n                android:value=&quot;&quot; /&gt;\n        &lt;/activity&gt;\n        &lt;activity\n            android:name=&quot;.activities.MainActivity&quot;\n            android:screenOrientation=&quot;portrait&quot;\n            android:windowSoftInputMode=&quot;stateHidden&quot;\n            android:exported=&quot;true&quot;\n            android:label=&quot;@string/app_name&quot;\n            android:theme=&quot;@style/Theme.NoteApp.NoActionBar&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n\n            &lt;meta-data\n                android:name=&quot;android.app.lib_name&quot;\n                android:value=&quot;&quot; /&gt;\n        &lt;/activity&gt;\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n<p>In my code I check If I already have permissions, and if NOT:</p>\n<pre><code>    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_create_note);\n\n        ImageView imageBack = findViewById(R.id.imageBack);\n        imageBack.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                onBackPressed();\n            }\n        });\n\n        inputNoteTitle = findViewById(R.id.inputNoteTitle);\n        inputNoteText = findViewById(R.id.inputNote);\n        textDateTime = findViewById(R.id.textDateTime);\n        imageNote = findViewById(R.id.imageNote);\n\n        textDateTime.setText(\n                new SimpleDateFormat(&quot;EEEE, dd MMMM yyyy HH:mm a&quot;, Locale.getDefault())\n                        .format(new Date())\n        );\n\n        ImageView imageSave = findViewById(R.id.imageSave);\n        imageSave.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                saveNote();\n            }\n        });\n\n        ImageView imageAddImage = findViewById(R.id.imageAddImage);\n        imageAddImage.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                int requestPermission = ContextCompat.checkSelfPermission(\n                        getApplicationContext(), Manifest.permission.READ_EXTERNAL_STORAGE\n                );\n                if (requestPermission != PackageManager.PERMISSION_GRANTED){\n                    ActivityCompat.requestPermissions(\n                            CreateNoteActivity.this,\n                            new String[] {Manifest.permission.READ_EXTERNAL_STORAGE},\n                            REQUEST_CODE_STORAGE_PERMISSION\n                    );\n                }\n                else {\n                    selectImage();\n                }\n            }\n        });\n    }\n\n @Override\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n        if (requestCode == REQUEST_CODE_STORAGE_PERMISSION &amp;&amp; grantResults.length &gt; 0){\n            Log.d(&quot;DEBUG&quot;, &quot;&quot; + grantResults[0]);\n            if (grantResults[0] == PackageManager.PERMISSION_GRANTED){\n                selectImage();\n            }\n            else {\n                Toast.makeText(this, &quot;Permission Denied!&quot;, Toast.LENGTH_SHORT).show();\n            }\n        }\n    }\n</code></pre>\n<p>But the permissions dialog never shows, let alone is onRequestPermissionsResult() called.</p>\n<p>I don't know why the dialog doesn't show when i use READ_EXTERNAL_STORAGE but it work with READ_MEDIA_IMAGES.</p>\n"},{"tags":["java","pem","apache-httpclient-4.x"],"comments":[{"owner":{"account_id":26023,"reputation":1592,"user_id":67417,"accept_rate":88,"display_name":"Dave C"},"score":0,"creation_date":1289413570,"post_id":4146624,"comment_id":4474789,"body_markdown":"Or, is there another format file (besides PEM) that would make this easier to implement?","body":"Or, is there another format file (besides PEM) that would make this easier to implement?"}],"answers":[{"tags":[],"owner":{"account_id":238657,"reputation":7626,"user_id":507697,"accept_rate":75,"display_name":"Dirk-Willem van Gulik"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1447338467,"creation_date":1291216024,"answer_id":4325718,"question_id":4146624,"body_markdown":"Easiest may well be to use the .p12 format (though the others work fine too - just be careful with extra lines outside the base64 blocks) and add something like:\r\n\r\n    // systems I trust\r\n    System.setProperty(&quot;javax.net.ssl.trustStore&quot;, &quot;foo&quot;);\r\n    System.setProperty(&quot;javax.net.ssl.trustStorePassword&quot;, &quot;changeit&quot;);\r\n\r\n    // my credentials\r\n    System.setProperty(&quot;javax.net.ssl.keyStoreType&quot;, &quot;PKCS12&quot;);\r\n    System.setProperty(&quot;javax.net.ssl.keyStore&quot;, &quot;cert.p12&quot;);\r\n    System.setProperty(&quot;javax.net.ssl.keyStorePassword&quot;, &quot;changeit&quot;);\r\n\r\nOr alternatively - use things like\r\n\r\n        KeyStore ks = KeyStore.getInstance( &quot;pkcs12&quot; );\r\n        ks.load( new FileInputStream( ....), &quot;mypassword&quot;.toCharArray() );\r\n\r\n        KeyStore jks = KeyStore.getInstance( &quot;JKS&quot; );\r\n        ks.load(...\r\n\r\nto create above on the fly instead. And rather than rely on the system property - use somethng like:\r\n\r\n        KeyManagerFactory kmf = KeyManagerFactory.getInstance(&quot;SunX509&quot;);\r\n        kmf.init(aboveKeyStore, &quot;changeme&quot;.toCharArray());\r\n        sslContext = SSLContext.getInstance(&quot;SSLv3&quot;);\r\n        sslContext.init(kmf.getKeyManagers(), null, null);\r\n\r\nwhich keeps it separate from keystore.\r\n\r\nDW.","title":"Apache HttpClient and PEM certificate files","body":"<p>Easiest may well be to use the .p12 format (though the others work fine too - just be careful with extra lines outside the base64 blocks) and add something like:</p>\n\n<pre><code>// systems I trust\nSystem.setProperty(\"javax.net.ssl.trustStore\", \"foo\");\nSystem.setProperty(\"javax.net.ssl.trustStorePassword\", \"changeit\");\n\n// my credentials\nSystem.setProperty(\"javax.net.ssl.keyStoreType\", \"PKCS12\");\nSystem.setProperty(\"javax.net.ssl.keyStore\", \"cert.p12\");\nSystem.setProperty(\"javax.net.ssl.keyStorePassword\", \"changeit\");\n</code></pre>\n\n<p>Or alternatively - use things like</p>\n\n<pre><code>    KeyStore ks = KeyStore.getInstance( \"pkcs12\" );\n    ks.load( new FileInputStream( ....), \"mypassword\".toCharArray() );\n\n    KeyStore jks = KeyStore.getInstance( \"JKS\" );\n    ks.load(...\n</code></pre>\n\n<p>to create above on the fly instead. And rather than rely on the system property - use somethng like:</p>\n\n<pre><code>    KeyManagerFactory kmf = KeyManagerFactory.getInstance(\"SunX509\");\n    kmf.init(aboveKeyStore, \"changeme\".toCharArray());\n    sslContext = SSLContext.getInstance(\"SSLv3\");\n    sslContext.init(kmf.getKeyManagers(), null, null);\n</code></pre>\n\n<p>which keeps it separate from keystore.</p>\n\n<p>DW.</p>\n"},{"tags":[],"owner":{"account_id":279546,"reputation":700,"user_id":574776,"display_name":"shreyas"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1408046456,"creation_date":1408046456,"answer_id":25316628,"question_id":4146624,"body_markdown":"You can create a `KeyStore` from `.pem` files like so: \r\n\r\n    private KeyStore getTrustStore(final InputStream pathToPemFile) throws IOException, KeyStoreException,\r\n            NoSuchAlgorithmException, CertificateException {\r\n        final KeyStore ks = KeyStore.getInstance(KeyStore.getDefaultType());\r\n        ks.load(null);\r\n\r\n        // load all certs\r\n        for (Certificate cert : CertificateFactory.getInstance(&quot;X509&quot;)\r\n                .generateCertificates(pathToPemFile)) {\r\n            final X509Certificate crt = (X509Certificate) cert;\r\n\r\n            try {\r\n                final String alias = crt.getSubjectX500Principal().getName();\r\n                ks.setCertificateEntry(alias, crt);\r\n                LOG.info(&quot;Added alias &quot; + alias + &quot; to TrustStore&quot;);\r\n            } catch (KeyStoreException exp) {\r\n                LOG.error(exp.getMessage());\r\n            }\r\n        }\r\n\r\n        return ks;\r\n    }","title":"Apache HttpClient and PEM certificate files","body":"<p>You can create a <code>KeyStore</code> from <code>.pem</code> files like so: </p>\n\n<pre><code>private KeyStore getTrustStore(final InputStream pathToPemFile) throws IOException, KeyStoreException,\n        NoSuchAlgorithmException, CertificateException {\n    final KeyStore ks = KeyStore.getInstance(KeyStore.getDefaultType());\n    ks.load(null);\n\n    // load all certs\n    for (Certificate cert : CertificateFactory.getInstance(\"X509\")\n            .generateCertificates(pathToPemFile)) {\n        final X509Certificate crt = (X509Certificate) cert;\n\n        try {\n            final String alias = crt.getSubjectX500Principal().getName();\n            ks.setCertificateEntry(alias, crt);\n            LOG.info(\"Added alias \" + alias + \" to TrustStore\");\n        } catch (KeyStoreException exp) {\n            LOG.error(exp.getMessage());\n        }\n    }\n\n    return ks;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9107988,"reputation":3190,"user_id":6777695,"display_name":"Hakan54"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683413618,"creation_date":1683413618,"answer_id":76191525,"question_id":4146624,"body_markdown":"Although there is an accepted answer already, I would like to provide an alternative as it does not provide an actual solution for using pem files directly. It just mentions that the easiest way is to just convert it to a p12 file and use that instead. It is possible to use pem files directly.\r\n\r\nI have provided a similar same answer here: https://stackoverflow.com/questions/42675033/how-to-build-a-sslsocketfactory-from-pem-certificate-and-key-without-converting/66297869#66297869\r\n\r\nA code example would be:\r\n```java\r\nimport nl.altindag.ssl.SSLFactory;\r\nimport nl.altindag.ssl.util.PemUtils;\r\nimport org.apache.http.HttpEntity;\r\nimport org.apache.http.HttpResponse;\r\nimport org.apache.http.client.HttpClient;\r\nimport org.apache.http.client.methods.HttpGet;\r\nimport org.apache.http.impl.client.HttpClients;\r\n\r\nimport javax.net.ssl.X509ExtendedKeyManager;\r\nimport javax.net.ssl.X509ExtendedTrustManager;\r\nimport java.io.IOException;\r\nimport java.nio.file.Paths;\r\n\r\npublic class App {\r\n\r\n    public static void main(String[] args) throws IOException {\r\n        X509ExtendedKeyManager keyManager = PemUtils.loadIdentityMaterial(Paths.get(&quot;/path/to/your/certificate.pem&quot;), Paths.get(&quot;/path/to/your/private-key.pem&quot;));\r\n        X509ExtendedTrustManager trustManager = PemUtils.loadTrustMaterial(Paths.get(&quot;/path/to/your/some-trusted-certificate.pem&quot;));\r\n\r\n        SSLFactory sslFactory = SSLFactory.builder()\r\n                .withIdentityMaterial(keyManager)\r\n                .withTrustMaterial(trustManager)\r\n                .build();\r\n\r\n        HttpClient httpclient = HttpClients.custom()\r\n                .setSSLContext(sslFactory.getSslContext())\r\n                .build();\r\n\r\n        HttpGet httpget = new HttpGet(&quot;https://my.secure.site.com/url&quot;);\r\n\r\n        HttpResponse response = httpclient.execute(httpget);\r\n        System.out.println(response.getStatusLine().getStatusCode());\r\n        HttpEntity entity = response.getEntity();\r\n    }\r\n}\r\n```\r\n\r\nI need to admit that the solution is based on a library which I have build myself, [GitHub - SSLContext Kickstart][1].\r\n\r\n\r\n  [1]: https://github.com/Hakky54/sslcontext-kickstart","title":"Apache HttpClient and PEM certificate files","body":"<p>Although there is an accepted answer already, I would like to provide an alternative as it does not provide an actual solution for using pem files directly. It just mentions that the easiest way is to just convert it to a p12 file and use that instead. It is possible to use pem files directly.</p>\n<p>I have provided a similar same answer here: <a href=\"https://stackoverflow.com/questions/42675033/how-to-build-a-sslsocketfactory-from-pem-certificate-and-key-without-converting/66297869#66297869\">How to build a SSLSocketFactory from PEM certificate and key without converting to keystore?</a></p>\n<p>A code example would be:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import nl.altindag.ssl.SSLFactory;\nimport nl.altindag.ssl.util.PemUtils;\nimport org.apache.http.HttpEntity;\nimport org.apache.http.HttpResponse;\nimport org.apache.http.client.HttpClient;\nimport org.apache.http.client.methods.HttpGet;\nimport org.apache.http.impl.client.HttpClients;\n\nimport javax.net.ssl.X509ExtendedKeyManager;\nimport javax.net.ssl.X509ExtendedTrustManager;\nimport java.io.IOException;\nimport java.nio.file.Paths;\n\npublic class App {\n\n    public static void main(String[] args) throws IOException {\n        X509ExtendedKeyManager keyManager = PemUtils.loadIdentityMaterial(Paths.get(&quot;/path/to/your/certificate.pem&quot;), Paths.get(&quot;/path/to/your/private-key.pem&quot;));\n        X509ExtendedTrustManager trustManager = PemUtils.loadTrustMaterial(Paths.get(&quot;/path/to/your/some-trusted-certificate.pem&quot;));\n\n        SSLFactory sslFactory = SSLFactory.builder()\n                .withIdentityMaterial(keyManager)\n                .withTrustMaterial(trustManager)\n                .build();\n\n        HttpClient httpclient = HttpClients.custom()\n                .setSSLContext(sslFactory.getSslContext())\n                .build();\n\n        HttpGet httpget = new HttpGet(&quot;https://my.secure.site.com/url&quot;);\n\n        HttpResponse response = httpclient.execute(httpget);\n        System.out.println(response.getStatusLine().getStatusCode());\n        HttpEntity entity = response.getEntity();\n    }\n}\n</code></pre>\n<p>I need to admit that the solution is based on a library which I have build myself, <a href=\"https://github.com/Hakky54/sslcontext-kickstart\" rel=\"nofollow noreferrer\">GitHub - SSLContext Kickstart</a>.</p>\n"}],"owner":{"account_id":26023,"reputation":1592,"user_id":67417,"accept_rate":88,"display_name":"Dave C"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10235,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":4325718,"answer_count":3,"score":7,"last_activity_date":1683413618,"creation_date":1289406417,"question_id":4146624,"body_markdown":"I&#39;d like to programmatically access a site that requires Client certificates, which I have in PEM files.  In this application I don&#39;t want to add them to my keystore, use keytool, or openssl if I can avoid doing so. I need to deal with them directly in code.\r\n\r\n        HttpClient httpclient = new DefaultHttpClient();\r\n        HttpGet httpget = new HttpGet(&quot;https://my.secure.site.com/url&quot;);\r\n        \r\n        // TODO: Specify ca.pem and client.pem here?\r\n\r\n        HttpResponse response = httpclient.execute(httpget);\r\n        HttpEntity entity = response.getEntity();\r\n\r\n        if (entity != null) {\r\n            entity.consumeContent();\r\n        }\r\n\r\n        httpclient.getConnectionManager().shutdown();\r\n\r\nHow would I &#39;send&#39; the certificate with the request?","title":"Apache HttpClient and PEM certificate files","body":"<p>I'd like to programmatically access a site that requires Client certificates, which I have in PEM files.  In this application I don't want to add them to my keystore, use keytool, or openssl if I can avoid doing so. I need to deal with them directly in code.</p>\n\n<pre><code>    HttpClient httpclient = new DefaultHttpClient();\n    HttpGet httpget = new HttpGet(\"https://my.secure.site.com/url\");\n\n    // TODO: Specify ca.pem and client.pem here?\n\n    HttpResponse response = httpclient.execute(httpget);\n    HttpEntity entity = response.getEntity();\n\n    if (entity != null) {\n        entity.consumeContent();\n    }\n\n    httpclient.getConnectionManager().shutdown();\n</code></pre>\n\n<p>How would I 'send' the certificate with the request?</p>\n"},{"tags":["java","macos","maven","terminal","jdwp"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1683225288,"post_id":76175818,"comment_id":134338118,"body_markdown":"Where is this: `Cannot load this JVM TI agent twice` comming from? Manually configuration?","body":"Where is this: <code>Cannot load this JVM TI agent twice</code> comming from? Manually configuration?"},{"owner":{"account_id":5330022,"reputation":173,"user_id":4250855,"display_name":"Gengis Khan"},"score":0,"creation_date":1683225796,"post_id":76175818,"comment_id":134338226,"body_markdown":"Probably when I run maven commands, it&#39;s trying to load it in the background. This is what my $MAVEN_OPTS looks like ```% echo $MAVEN_OPTS\n-Xmx4g -Xms2g -server -d64 -XX:MaxPermSize=384m -XX:ReservedCodeCacheSize=64m -XX:-UseConcMarkSweepGC -Dfile.encoding=UTF-8 -agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=5005 -Djava.net.preferIPv4Stack=true -Dfile.encoding=UTF-8 -Djava.awt.headless=true```","body":"Probably when I run maven commands, it&#39;s trying to load it in the background. This is what my $MAVEN_OPTS looks like <code>% echo $MAVEN_OPTS -Xmx4g -Xms2g -server -d64 -XX:MaxPermSize=384m -XX:ReservedCodeCacheSize=64m -XX:-UseConcMarkSweepGC -Dfile.encoding=UTF-8 -agentlib:jdwp=transport=dt_socket,server=y,suspend=n,addres&zwnj;&#8203;s=5005 -Djava.net.preferIPv4Stack=true -Dfile.encoding=UTF-8 -Djava.awt.headless=true</code>"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1683366660,"post_id":76175818,"comment_id":134358363,"body_markdown":"Why is jdwp configuration set etc... remove all that stuff just try first without any configuration... and the agent? Why is it needed? really need 4 GiB for build? Which version of JDK do you use? -server option would only be neccesary if you are on a 32 bit OS? Remove that as well MaxPermSize etc. is not needed...","body":"Why is jdwp configuration set etc... remove all that stuff just try first without any configuration... and the agent? Why is it needed? really need 4 GiB for build? Which version of JDK do you use? -server option would only be neccesary if you are on a 32 bit OS? Remove that as well MaxPermSize etc. is not needed..."}],"answers":[{"tags":[],"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683412033,"creation_date":1683412033,"answer_id":76191445,"question_id":76175818,"body_markdown":"The Maven you installed using Homebrew is using a newer version of Java than you expect.  This newer version does not support the JVM flags you pass in through the MAVEN_OPTS variable, and therefore refuses to start.\r\n\r\nTo fix it, unset MAVEN_OPTS (or set it to the empty value) and then run Maven.\r\n\r\nThat said, it looks like you have been provided with a set of options for setting up the JVM to have specific characteristics AND running Maven in debug mode so you can attach a debugger.   I would suggest forgetting the first kind until you  prove you have a need for them, and either use Maven in a debug configuration in your IDE or run the `mvnDebug` script (next to the `mvn` script) from the command line for launching Maven so you can attach a debugger.  Note that in my experience you only need this to troubleshoot an Maven error.","title":"Multiple maven version from different sources","body":"<p>The Maven you installed using Homebrew is using a newer version of Java than you expect.  This newer version does not support the JVM flags you pass in through the MAVEN_OPTS variable, and therefore refuses to start.</p>\n<p>To fix it, unset MAVEN_OPTS (or set it to the empty value) and then run Maven.</p>\n<p>That said, it looks like you have been provided with a set of options for setting up the JVM to have specific characteristics AND running Maven in debug mode so you can attach a debugger.   I would suggest forgetting the first kind until you  prove you have a need for them, and either use Maven in a debug configuration in your IDE or run the <code>mvnDebug</code> script (next to the <code>mvn</code> script) from the command line for launching Maven so you can attach a debugger.  Note that in my experience you only need this to troubleshoot an Maven error.</p>\n"}],"owner":{"account_id":5330022,"reputation":173,"user_id":4250855,"display_name":"Gengis Khan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":161,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1683412033,"creation_date":1683220840,"question_id":76175818,"body_markdown":"I have 2 different versions of maven installed on my MacBook. One is through a company tooling.\r\n```\r\n% mvn -v\r\nJava HotSpot(TM) 64-Bit Server VM warning: ignoring option MaxPermSize=384m; support was removed in 8.0\r\nColorizing...\r\nListening for transport dt_socket at address: 5005\r\nApache Maven 3.1.1 (0728685237757ffbf44136acec0402957f723d9a; 2013-09-17 08:22:22-0700)\r\nMaven home: /Users/abc/.bootstrap/packages/maven3.1.1/apache-maven-3.1.1\r\nJava version: 1.8.0_181, vendor: Oracle Corporation\r\nJava home: /Library/Java/JavaVirtualMachines/jdk1.8.0_181.jdk/Contents/Home/jre\r\nDefault locale: en_US, platform encoding: UTF-8\r\nOS name: &quot;mac os x&quot;, version: &quot;10.16&quot;, arch: &quot;x86_64&quot;, family: &quot;mac&quot;\r\n```\r\n\r\nOne of my projects needs maven version &gt;3.2.5 and I have a newer version through brew\r\n```\r\n% brew list maven\r\n/opt/homebrew/Cellar/maven/3.9.1/bin/mvn\r\n/opt/homebrew/Cellar/maven/3.9.1/bin/mvnDebug\r\n/opt/homebrew/Cellar/maven/3.9.1/bin/mvnyjp\r\n/opt/homebrew/Cellar/maven/3.9.1/libexec/bin/ (4 files)\r\n/opt/homebrew/Cellar/maven/3.9.1/libexec/boot/ (2 files)\r\n/opt/homebrew/Cellar/maven/3.9.1/libexec/conf/ (3 files)\r\n/opt/homebrew/Cellar/maven/3.9.1/libexec/lib/ (75 files)\r\n```\r\n\r\nIf I try to use this directly, I get the following error:\r\n```\r\n% /opt/homebrew/Cellar/maven/3.9.1/bin/mvn -v\r\nJava HotSpot(TM) 64-Bit Server VM warning: ignoring option MaxPermSize=384m; support was removed in 8.0\r\nJava HotSpot(TM) 64-Bit Server VM warning: ignoring option MaxPermSize=384m; support was removed in 8.0\r\nERROR: Cannot load this JVM TI agent twice, check your java command line for duplicate jdwp options.\r\nError occurred during initialization of VM\r\nagent library failed to init: jdwp\r\n```\r\n\r\nHow do I fix it? How do I switch to the new version when building my old project? Maybe I can delete the 3.1.1 version? How would I do that? Please help. Thanks!","title":"Multiple maven version from different sources","body":"<p>I have 2 different versions of maven installed on my MacBook. One is through a company tooling.</p>\n<pre><code>% mvn -v\nJava HotSpot(TM) 64-Bit Server VM warning: ignoring option MaxPermSize=384m; support was removed in 8.0\nColorizing...\nListening for transport dt_socket at address: 5005\nApache Maven 3.1.1 (0728685237757ffbf44136acec0402957f723d9a; 2013-09-17 08:22:22-0700)\nMaven home: /Users/abc/.bootstrap/packages/maven3.1.1/apache-maven-3.1.1\nJava version: 1.8.0_181, vendor: Oracle Corporation\nJava home: /Library/Java/JavaVirtualMachines/jdk1.8.0_181.jdk/Contents/Home/jre\nDefault locale: en_US, platform encoding: UTF-8\nOS name: &quot;mac os x&quot;, version: &quot;10.16&quot;, arch: &quot;x86_64&quot;, family: &quot;mac&quot;\n</code></pre>\n<p>One of my projects needs maven version &gt;3.2.5 and I have a newer version through brew</p>\n<pre><code>% brew list maven\n/opt/homebrew/Cellar/maven/3.9.1/bin/mvn\n/opt/homebrew/Cellar/maven/3.9.1/bin/mvnDebug\n/opt/homebrew/Cellar/maven/3.9.1/bin/mvnyjp\n/opt/homebrew/Cellar/maven/3.9.1/libexec/bin/ (4 files)\n/opt/homebrew/Cellar/maven/3.9.1/libexec/boot/ (2 files)\n/opt/homebrew/Cellar/maven/3.9.1/libexec/conf/ (3 files)\n/opt/homebrew/Cellar/maven/3.9.1/libexec/lib/ (75 files)\n</code></pre>\n<p>If I try to use this directly, I get the following error:</p>\n<pre><code>% /opt/homebrew/Cellar/maven/3.9.1/bin/mvn -v\nJava HotSpot(TM) 64-Bit Server VM warning: ignoring option MaxPermSize=384m; support was removed in 8.0\nJava HotSpot(TM) 64-Bit Server VM warning: ignoring option MaxPermSize=384m; support was removed in 8.0\nERROR: Cannot load this JVM TI agent twice, check your java command line for duplicate jdwp options.\nError occurred during initialization of VM\nagent library failed to init: jdwp\n</code></pre>\n<p>How do I fix it? How do I switch to the new version when building my old project? Maybe I can delete the 3.1.1 version? How would I do that? Please help. Thanks!</p>\n"},{"tags":["java","audio","mp3","inputstream","jaudiotagger"],"answers":[{"tags":[],"owner":{"account_id":14975766,"reputation":21,"user_id":21489436,"display_name":"Finn Andre Worm"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1683410155,"creation_date":1683410155,"answer_id":76191338,"question_id":76191069,"body_markdown":"The problem was fixed by increasing the maven depdendency from 2.2.5 to version 3.0.1:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;net.jthink&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jaudiotagger&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.1&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"AudioFileIO leaves inputstream opened after giving log warn &quot;No space to find another frame&quot;","body":"<p>The problem was fixed by increasing the maven depdendency from 2.2.5 to version 3.0.1:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;net.jthink&lt;/groupId&gt;\n    &lt;artifactId&gt;jaudiotagger&lt;/artifactId&gt;\n    &lt;version&gt;3.0.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":14975766,"reputation":21,"user_id":21489436,"display_name":"Finn Andre Worm"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76191338,"answer_count":1,"score":0,"last_activity_date":1683410155,"creation_date":1683406167,"question_id":76191069,"body_markdown":"I am attempting to read a files audio length in Java using the following code:\r\n\r\n`return AudioFileIO.read(new File(audio)).getAudioHeader().getTrackLength() * 1000;`\r\n\r\nThis works and gives me (roughly) the length of the audio file, but leaves an inputstream open, meaning that later on I cant delete the files, atleast not during runtime.\r\nThis is problematic because Im using temporary files here and the directory needs to be cleared.\r\n\r\nThis is the output I get in my console:\r\n    \r\n    Mai 06, 2023 10:30:13 PM org.jaudiotagger.tag.id3.AbstractID3v2Frame readIdentifier\r\n    WARNING: tmp0.mp3:No space to find another frame:\r\n    Mai 06, 2023 10:30:13 PM org.jaudiotagger.tag.id3.ID3v24Tag readFrames\r\n    WARNING: tmp0.mp3:Invalid Frame:tmp0.mp3:No space to find another frame\r\n    Mai 06, 2023 10:30:13 PM org.jaudiotagger.audio.mp3.MP3File readV2Tag\r\n    SEVERE: Could not invoke DirectBuffer method - illegal access`\r\n\r\n\r\nThis is the files metadata, according to (https://www.checkfiletype.com):\r\n\r\n\r\n    File Size\t36 kB\r\n    File Type\tMP3\r\n    File Type Extension\tmp3\r\n    MIME Type\taudio/mpeg\r\n    ID3 Size\t45\r\n    MPEG Audio Version\t2\r\n    Audio Layer\t3\r\n    Audio Bitrate\t128 kbps\r\n    Sample Rate\t24000\r\n    Channel Mode\tSingle Channel\r\n    MS Stereo\tOff\r\n    Intensity Stereo\tOff\r\n    Copyright Flag\tFalse\r\n    Original Media\tTrue\r\n    Emphasis\tNone\r\n    Encoder Settings\tLavf58.76.100\r\n    Duration\t2.30 s (approx)\r\n\r\nI cant entirely seem to understand what the problem is thats making it throw that warning. Is the metadata faulty? If so, what can I do to fix it? Im getting the .mp3 through an API.\r\nIs there a different class I could use? The AudioSystem/AudioInputStream classes didnt work either and threw an error, saying the file type is unsupported.\r\n\r\nThanks in advance!","title":"AudioFileIO leaves inputstream opened after giving log warn &quot;No space to find another frame&quot;","body":"<p>I am attempting to read a files audio length in Java using the following code:</p>\n<p><code>return AudioFileIO.read(new File(audio)).getAudioHeader().getTrackLength() * 1000;</code></p>\n<p>This works and gives me (roughly) the length of the audio file, but leaves an inputstream open, meaning that later on I cant delete the files, atleast not during runtime.\nThis is problematic because Im using temporary files here and the directory needs to be cleared.</p>\n<p>This is the output I get in my console:</p>\n<pre><code>Mai 06, 2023 10:30:13 PM org.jaudiotagger.tag.id3.AbstractID3v2Frame readIdentifier\nWARNING: tmp0.mp3:No space to find another frame:\nMai 06, 2023 10:30:13 PM org.jaudiotagger.tag.id3.ID3v24Tag readFrames\nWARNING: tmp0.mp3:Invalid Frame:tmp0.mp3:No space to find another frame\nMai 06, 2023 10:30:13 PM org.jaudiotagger.audio.mp3.MP3File readV2Tag\nSEVERE: Could not invoke DirectBuffer method - illegal access`\n</code></pre>\n<p>This is the files metadata, according to (<a href=\"https://www.checkfiletype.com\" rel=\"nofollow noreferrer\">https://www.checkfiletype.com</a>):</p>\n<pre><code>File Size   36 kB\nFile Type   MP3\nFile Type Extension mp3\nMIME Type   audio/mpeg\nID3 Size    45\nMPEG Audio Version  2\nAudio Layer 3\nAudio Bitrate   128 kbps\nSample Rate 24000\nChannel Mode    Single Channel\nMS Stereo   Off\nIntensity Stereo    Off\nCopyright Flag  False\nOriginal Media  True\nEmphasis    None\nEncoder Settings    Lavf58.76.100\nDuration    2.30 s (approx)\n</code></pre>\n<p>I cant entirely seem to understand what the problem is thats making it throw that warning. Is the metadata faulty? If so, what can I do to fix it? Im getting the .mp3 through an API.\nIs there a different class I could use? The AudioSystem/AudioInputStream classes didnt work either and threw an error, saying the file type is unsupported.</p>\n<p>Thanks in advance!</p>\n"},{"tags":["java","spring","postgresql","thymeleaf","ioutils"],"comments":[{"owner":{"account_id":86753,"reputation":9285,"user_id":241022,"accept_rate":100,"display_name":"Simon"},"score":1,"creation_date":1683403548,"post_id":76190618,"comment_id":134362511,"body_markdown":"I&#39;m not quite sure what the surronding context of your snippet looks like, so the following is just a wild guess and might not solve your problem: at first glance, to me using `*{}` does not seem necessary. `*{}` is used to access fields of the object set in `th:object` in the parent element. Maybe try `${&#39;data:image/jpeg;base64,&#39;+encodedImage}`","body":"I&#39;m not quite sure what the surronding context of your snippet looks like, so the following is just a wild guess and might not solve your problem: at first glance, to me using <code>*{}</code> does not seem necessary. <code>*{}</code> is used to access fields of the object set in <code>th:object</code> in the parent element. Maybe try <code>${&#39;data:image&#47;jpeg;base64,&#39;+encodedImage}</code>"}],"answers":[{"tags":[],"owner":{"account_id":5152799,"reputation":19367,"user_id":4126893,"display_name":"Metroids"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1683408916,"creation_date":1683408916,"answer_id":76191259,"question_id":76190618,"body_markdown":"You can&#39;t nest expressions like you are doing -- `*{ ... ${ ... } ... }` is not valid Thymeleaf syntax.  See the Thymeleaf documentation on [appending texts][1].  In most cases, literal substitutions I think are most expressive.\r\n\r\n    &lt;img th:src=&quot;|data:image/jpeg;base64,${encodedImage}|&quot; alt=&quot;Profile Picture&quot;&gt;\r\n\r\nOr if you prefer regular String concatenation.\r\n\r\n    &lt;img th:src=&quot;&#39;data:image/jpeg;base64,&#39;+ ${encodedImage}&quot; alt=&quot;Profile Picture&quot;&gt;\r\n    \r\n    or\r\n    \r\n    &lt;img th:src=&quot;${&#39;data:image/jpeg;base64,&#39;+ encodedImage}&quot; alt=&quot;Profile Picture&quot;&gt;\r\n\r\n\r\n  [1]: https://www.thymeleaf.org/doc/tutorials/3.1/usingthymeleaf.html#appending-texts","title":"Getting exceptions while trying to display encoded images with Thymeleaf (Java, Spring Boot)","body":"<p>You can't nest expressions like you are doing -- <code>*{ ... ${ ... } ... }</code> is not valid Thymeleaf syntax.  See the Thymeleaf documentation on <a href=\"https://www.thymeleaf.org/doc/tutorials/3.1/usingthymeleaf.html#appending-texts\" rel=\"nofollow noreferrer\">appending texts</a>.  In most cases, literal substitutions I think are most expressive.</p>\n<pre><code>&lt;img th:src=&quot;|data:image/jpeg;base64,${encodedImage}|&quot; alt=&quot;Profile Picture&quot;&gt;\n</code></pre>\n<p>Or if you prefer regular String concatenation.</p>\n<pre><code>&lt;img th:src=&quot;'data:image/jpeg;base64,'+ ${encodedImage}&quot; alt=&quot;Profile Picture&quot;&gt;\n\nor\n\n&lt;img th:src=&quot;${'data:image/jpeg;base64,'+ encodedImage}&quot; alt=&quot;Profile Picture&quot;&gt;\n</code></pre>\n"}],"owner":{"account_id":25196975,"reputation":29,"user_id":19036367,"display_name":"no way"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76191259,"answer_count":1,"score":1,"last_activity_date":1683408916,"creation_date":1683399701,"question_id":76190618,"body_markdown":"So, i have a form that allows user to upload an image, which will be encoded with IOUtils.toByteArray and persisted to a database as a bytea. In a controller method i get this byte array and encode it to string:\r\n\r\n    @GetMapping(&quot;/{user_id}&quot;)\r\n    public String view(@PathVariable(&quot;user_id&quot;) Long user_id, Model model) {\r\n        User user = userService.getById(user_id);\r\n        model.addAttribute(&quot;user&quot;, user);\r\n        byte[] profilePictureBytes = user.getProfilePicture();\r\n\r\n        if (profilePictureBytes != null) {\r\n            String encodedImage = Base64.getEncoder().encodeToString(profilePictureBytes);\r\n            model.addAttribute(&quot;encodedImage&quot;, encodedImage);\r\n        }\r\n        return &quot;user-page&quot;;\r\n    }\r\n\r\nOn a user-page html file i try to decode it like this:\r\n\r\n    &lt;img th:src=&quot;*{&#39;data:image/jpeg;base64,&#39;+ ${encodedImage}}&quot; alt=&quot;Profile Picture&quot;&gt;\r\n\r\nbut it keeps throwing the same 2 exceptions:\r\n\r\n    org.thymeleaf.exceptions.TemplateProcessingException: Exception evaluating SpringEL expression: &quot;&#39;data:image/jpeg;base64,&#39;+ ${encodedImage}&quot; (template: &quot;user-page&quot; - line 27, col 6\r\n\r\n    org.springframework.expression.spel.SpelParseException: EL1041E: After parsing a valid expression, there is still more data in the expression: &#39;lcurly({)&#39;\r\n\r\nWhile debugging, the &quot;encodedImage&quot; variable prints out a correct string, so the problem must be within my Thymeleaf syntax.\r\n\r\nWould be really grateful if someone could give me a hand with this one.","title":"Getting exceptions while trying to display encoded images with Thymeleaf (Java, Spring Boot)","body":"<p>So, i have a form that allows user to upload an image, which will be encoded with IOUtils.toByteArray and persisted to a database as a bytea. In a controller method i get this byte array and encode it to string:</p>\n<pre><code>@GetMapping(&quot;/{user_id}&quot;)\npublic String view(@PathVariable(&quot;user_id&quot;) Long user_id, Model model) {\n    User user = userService.getById(user_id);\n    model.addAttribute(&quot;user&quot;, user);\n    byte[] profilePictureBytes = user.getProfilePicture();\n\n    if (profilePictureBytes != null) {\n        String encodedImage = Base64.getEncoder().encodeToString(profilePictureBytes);\n        model.addAttribute(&quot;encodedImage&quot;, encodedImage);\n    }\n    return &quot;user-page&quot;;\n}\n</code></pre>\n<p>On a user-page html file i try to decode it like this:</p>\n<pre><code>&lt;img th:src=&quot;*{'data:image/jpeg;base64,'+ ${encodedImage}}&quot; alt=&quot;Profile Picture&quot;&gt;\n</code></pre>\n<p>but it keeps throwing the same 2 exceptions:</p>\n<pre><code>org.thymeleaf.exceptions.TemplateProcessingException: Exception evaluating SpringEL expression: &quot;'data:image/jpeg;base64,'+ ${encodedImage}&quot; (template: &quot;user-page&quot; - line 27, col 6\n\norg.springframework.expression.spel.SpelParseException: EL1041E: After parsing a valid expression, there is still more data in the expression: 'lcurly({)'\n</code></pre>\n<p>While debugging, the &quot;encodedImage&quot; variable prints out a correct string, so the problem must be within my Thymeleaf syntax.</p>\n<p>Would be really grateful if someone could give me a hand with this one.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9541,"page":451,"page_size":100}
