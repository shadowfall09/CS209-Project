{"items":[{"tags":["java","r","xgboost","pmml"],"answers":[{"tags":[],"owner":{"account_id":2023228,"reputation":4693,"user_id":1808924,"display_name":"user1808924"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696399844,"creation_date":1696394654,"answer_id":77226814,"question_id":77225550,"body_markdown":"Your Java setup is definitely messy. Here&#39;s how to clean it up:\r\n\r\n 1. Install a LTS-version of JDK - one of 8, 11 or 17. The Java &quot;configuration&quot; should be JDK (complete toolset) not JRE (incomplete toolset).\r\n 2. There is no need for installing the `rJava` package.\r\n 3. Export the location of the installed JDK as `JAVA_HOME` environment variable (GNU/Linux style; see Windows documentation for Windows style): `export JAVA_HOME=/opt/jdk-11/`.\r\n 4. Append the `bin` directory of the newly exported `JAVA_HOME` env-var to the `PATH` environment variable (again, the following uses GNU/Linux style): `export PATH=$PATH:$JAVA_HOME/bin/`.\r\n 5. Push/Re-apply env-var changes on the system level. When you open a new terminal window and type `java --version` into it, it should print out the exact version string of your JDK 11.\r\n 6. Congrats, the `r2pmml` package works fine now, no need for additional R level changes!\r\n\r\nYou may also invoke the `r2pmml::r2pmml()` utility function with the `verbose = TRUE` flag on. This will print out the exact command-line sequence, which you can re-try one by one on a new terminal window and see where the original misconfiguration error resided.","title":"Java executable error with r2pmml when converting XGBoost model","body":"<p>Your Java setup is definitely messy. Here's how to clean it up:</p>\n<ol>\n<li>Install a LTS-version of JDK - one of 8, 11 or 17. The Java &quot;configuration&quot; should be JDK (complete toolset) not JRE (incomplete toolset).</li>\n<li>There is no need for installing the <code>rJava</code> package.</li>\n<li>Export the location of the installed JDK as <code>JAVA_HOME</code> environment variable (GNU/Linux style; see Windows documentation for Windows style): <code>export JAVA_HOME=/opt/jdk-11/</code>.</li>\n<li>Append the <code>bin</code> directory of the newly exported <code>JAVA_HOME</code> env-var to the <code>PATH</code> environment variable (again, the following uses GNU/Linux style): <code>export PATH=$PATH:$JAVA_HOME/bin/</code>.</li>\n<li>Push/Re-apply env-var changes on the system level. When you open a new terminal window and type <code>java --version</code> into it, it should print out the exact version string of your JDK 11.</li>\n<li>Congrats, the <code>r2pmml</code> package works fine now, no need for additional R level changes!</li>\n</ol>\n<p>You may also invoke the <code>r2pmml::r2pmml()</code> utility function with the <code>verbose = TRUE</code> flag on. This will print out the exact command-line sequence, which you can re-try one by one on a new terminal window and see where the original misconfiguration error resided.</p>\n"}],"owner":{"account_id":8327372,"reputation":120,"user_id":6272728,"display_name":"anubhuti mishra"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696399844,"creation_date":1696367660,"question_id":77225550,"body_markdown":"I am trying to export an xgboost model from R to PMML. This PMML model will be integrated into a Java-based electronic medical record (EMR) system. I have tried everything and keep getting the following error:\r\n\r\n    Error in .convert(tempfile, file, converter, converter_classpath, verbose): Java is not installed, or the Java executable is not on system path (error code 127)\r\n\r\nI am working with Windows 10, 64-bit machine, and have tried the following:\r\n\r\n 1. Installing jdk-21 and jre-1.8 and adding them to environment variables path\r\n 2. Install rJava after installing the above Java programs\r\n 3. Installing `r2pmml` from source to get the latest version; updated R to the latest version\r\n 4. Updated JAVA_HOME in R to point to jre-1.8\r\n\r\nI am not even able to replicate this example from the `r2pmml` documentation. I get the same Java error as above:\r\n\r\n    library(&quot;xgboost&quot;)\r\n    library(&quot;r2pmml&quot;)\r\n    data(iris)\r\n    iris_X = iris[, -ncol(iris)]\r\n    iris_y = iris[, ncol(iris)]\r\n    # Convert from factor to integer[0, num_class]\r\n    iris_y = (as.integer(iris_y) - 1)\r\n    iris.matrix = model.matrix(~ . - 1, data = iris_X)\r\n    iris.DMatrix = xgb.DMatrix(iris.matrix, label = iris_y)\r\n    iris.fmap = as.fmap(iris.matrix)\r\n    iris.xgboost = xgboost(data = iris.DMatrix,\r\n    objective = &quot;multi:softprob&quot;, num_class = 3, nrounds = 11)\r\n    iris.xgboost = decorate(iris.xgboost, iris.fmap,\r\n    response_name = &quot;Species&quot;, response_levels = c(&quot;setosa&quot;, &quot;versicolor&quot;, &quot;virginica&quot;))\r\n    pmmlFile = file.path(tempdir(), &quot;Iris-XGBoost.pmml&quot;)\r\n    r2pmml(iris.xgboost, pmmlFile, compact = FALSE)\r\n    compactPmmlFile = file.path(tempdir(), &quot;Iris-XGBoost-compact.pmml&quot;)\r\n    r2pmml(iris.xgboost, compactPmmlFile, compact = TRUE)","title":"Java executable error with r2pmml when converting XGBoost model","body":"<p>I am trying to export an xgboost model from R to PMML. This PMML model will be integrated into a Java-based electronic medical record (EMR) system. I have tried everything and keep getting the following error:</p>\n<pre><code>Error in .convert(tempfile, file, converter, converter_classpath, verbose): Java is not installed, or the Java executable is not on system path (error code 127)\n</code></pre>\n<p>I am working with Windows 10, 64-bit machine, and have tried the following:</p>\n<ol>\n<li>Installing jdk-21 and jre-1.8 and adding them to environment variables path</li>\n<li>Install rJava after installing the above Java programs</li>\n<li>Installing <code>r2pmml</code> from source to get the latest version; updated R to the latest version</li>\n<li>Updated JAVA_HOME in R to point to jre-1.8</li>\n</ol>\n<p>I am not even able to replicate this example from the <code>r2pmml</code> documentation. I get the same Java error as above:</p>\n<pre><code>library(&quot;xgboost&quot;)\nlibrary(&quot;r2pmml&quot;)\ndata(iris)\niris_X = iris[, -ncol(iris)]\niris_y = iris[, ncol(iris)]\n# Convert from factor to integer[0, num_class]\niris_y = (as.integer(iris_y) - 1)\niris.matrix = model.matrix(~ . - 1, data = iris_X)\niris.DMatrix = xgb.DMatrix(iris.matrix, label = iris_y)\niris.fmap = as.fmap(iris.matrix)\niris.xgboost = xgboost(data = iris.DMatrix,\nobjective = &quot;multi:softprob&quot;, num_class = 3, nrounds = 11)\niris.xgboost = decorate(iris.xgboost, iris.fmap,\nresponse_name = &quot;Species&quot;, response_levels = c(&quot;setosa&quot;, &quot;versicolor&quot;, &quot;virginica&quot;))\npmmlFile = file.path(tempdir(), &quot;Iris-XGBoost.pmml&quot;)\nr2pmml(iris.xgboost, pmmlFile, compact = FALSE)\ncompactPmmlFile = file.path(tempdir(), &quot;Iris-XGBoost-compact.pmml&quot;)\nr2pmml(iris.xgboost, compactPmmlFile, compact = TRUE)\n</code></pre>\n"},{"tags":["java","if-statement","conditional-statements"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1653661240,"post_id":72406856,"comment_id":127911905,"body_markdown":"After you fix the syntax error, please notice that `state != &quot;California&quot;` [is not how you compare strings](https://stackoverflow.com/questions/513832/how-do-i-compare-strings-in-java).","body":"After you fix the syntax error, please notice that <code>state != &quot;California&quot;</code> <a href=\"https://stackoverflow.com/questions/513832/how-do-i-compare-strings-in-java\">is not how you compare strings</a>."},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1653661311,"post_id":72406856,"comment_id":127911923,"body_markdown":"To fix the syntax error simply do `double shippingCost = 0;` instead of `double shippingCost;` (i.e., give it an initial value. Local variables don&#39;t have a default one unlike class/instance members)","body":"To fix the syntax error simply do <code>double shippingCost = 0;</code> instead of <code>double shippingCost;</code> (i.e., give it an initial value. Local variables don&#39;t have a default one unlike class/instance members)"},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":1,"creation_date":1653661725,"post_id":72406856,"comment_id":127912086,"body_markdown":"The only time you wouldn&#39;t have to supply a default value is in situations like `#calculateShipping`, where all code paths provide a value to the variable. The one in `#address` needs a default value, as @FedericoklezCulloca pointed out. Also keep in mind that while the variables are named the same, they are distinct between the two methods.","body":"The only time you wouldn&#39;t have to supply a default value is in situations like <code>#calculateShipping</code>, where all code paths provide a value to the variable. The one in <code>#address</code> needs a default value, as @FedericoklezCulloca pointed out. Also keep in mind that while the variables are named the same, they are distinct between the two methods."}],"answers":[{"tags":[],"owner":{"account_id":1111280,"reputation":6531,"user_id":1101692,"accept_rate":89,"display_name":"Shark"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653662168,"creation_date":1653661709,"answer_id":72406966,"question_id":72406856,"body_markdown":"Try this:\r\n```\r\n// customer address\r\n   public void address(int streetNumber, String streetName, String town, String city, String state, int zipCode){\r\n     double shippingCost = 0.0f;\r\n     \r\n     \r\n\r\n     // if shipping isn&#39;t california, add 10 to it\r\n     if (!state.equalsIgnoreCase(&quot;California&quot;)){\r\n       shippingCost += 10;\r\n     }     \r\n\r\n   }\r\n```\r\n\r\nNow, further things...\r\n\r\nThe compiler was warning you right, the shipping cost was not initialized. It could have been 0, but that&#39;s not guaranteed (hence the warning), so we initialized it to 0.\r\n\r\nFurthermore, comparing strings with `==` will only compare the addresses, address of your string with the address of the &quot;California&quot; literal from the string pool. These will most likely not match, even if both were `&quot;California&quot;`. When using objects (instances of anything that isn&#39;t a primitive), you should stick to using `.equals()` instead, and re-implement (override) that method in any class where equality needs to be different than just comparing addresses of references.\r\n\r\nadditionally, do try to steer away from shadowing things.\r\nthe `shippingCost` in method `address()` is not the same as `shippingCost` in method `ship()`. Yes, they&#39;re named the same, but they&#39;re both local. However, since your class `Order` doesn&#39;t have a `shippingCost` member, just because they&#39;re named the same doesn&#39;t mean that they represent the same value.\r\n\r\nIn case you added a `shippingCost` to `Order` class, your code would break, just because all these methods have a local `double shippingCost` which shadows the `this.shippingCost` member of the Order class. So do have that in mind as well.","title":"Conditionals and Control flow on Java (codecademy)","body":"<p>Try this:</p>\n<pre><code>// customer address\n   public void address(int streetNumber, String streetName, String town, String city, String state, int zipCode){\n     double shippingCost = 0.0f;\n     \n     \n\n     // if shipping isn't california, add 10 to it\n     if (!state.equalsIgnoreCase(&quot;California&quot;)){\n       shippingCost += 10;\n     }     \n\n   }\n</code></pre>\n<p>Now, further things...</p>\n<p>The compiler was warning you right, the shipping cost was not initialized. It could have been 0, but that's not guaranteed (hence the warning), so we initialized it to 0.</p>\n<p>Furthermore, comparing strings with <code>==</code> will only compare the addresses, address of your string with the address of the &quot;California&quot; literal from the string pool. These will most likely not match, even if both were <code>&quot;California&quot;</code>. When using objects (instances of anything that isn't a primitive), you should stick to using <code>.equals()</code> instead, and re-implement (override) that method in any class where equality needs to be different than just comparing addresses of references.</p>\n<p>additionally, do try to steer away from shadowing things.\nthe <code>shippingCost</code> in method <code>address()</code> is not the same as <code>shippingCost</code> in method <code>ship()</code>. Yes, they're named the same, but they're both local. However, since your class <code>Order</code> doesn't have a <code>shippingCost</code> member, just because they're named the same doesn't mean that they represent the same value.</p>\n<p>In case you added a <code>shippingCost</code> to <code>Order</code> class, your code would break, just because all these methods have a local <code>double shippingCost</code> which shadows the <code>this.shippingCost</code> member of the Order class. So do have that in mind as well.</p>\n"}],"owner":{"account_id":25398506,"reputation":1,"user_id":19208410,"display_name":"tsriram"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":118,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1696399346,"creation_date":1653661175,"question_id":72406856,"body_markdown":"I&#39;m just starting to learn Java, and I&#39;m stuck on a section in the conditionals and control flow part of Codecademy. \r\n\r\nI&#39;m trying to add a method that manipulates the `shippingCost` variable if shipped outside of &quot;California&quot;. I&#39;m really not sure how to expand on top of that (let me know if there are any questions), but I&#39;m confused as to how to do this, or is it just too advanced for the section I&#39;m on?\r\n\r\nThis is one of my first posts, so if I&#39;m using any features wrong let me know.\r\n\r\n\r\n\r\n```\r\npublic class Order {\r\n  boolean isFilled;\r\n  double billAmount;\r\n  String shipping;\r\n  \r\n  public Order(boolean filled, double cost, String shippingMethod, int zip) {\r\n\t\tif (cost &gt; 24.00) {\r\n      System.out.println(&quot;High value item!&quot;);\r\n    } else {\r\n      System.out.println(&quot;Low value item!&quot;);\r\n    }\r\n    isFilled = filled;\r\n    billAmount = cost;\r\n    shipping = shippingMethod;\r\n  \r\n  }\r\n  \r\n  public void ship() {\r\n    if (isFilled) {\r\n      System.out.println(&quot;Shipping&quot;);\r\n    } else {\r\n      System.out.println(&quot;Order not ready&quot;);\r\n    }\r\n    \r\n    double shippingCost = calculateShipping();\r\n    \r\n    System.out.println(&quot;Shipping cost: &quot;);\r\n    System.out.println(shippingCost);\r\n  }\r\n  \r\n  public double calculateShipping() {\r\n    double shippingCost;\r\n    switch (shipping) {\r\n      case &quot;Regular&quot;:\r\n        shippingCost = 0;\r\n        break;\r\n      case &quot;Express&quot;:    \r\n        shippingCost = 1.75;\r\n        break;\r\n      default:\r\n        shippingCost = .50; \r\n    }\r\n    return shippingCost;\r\n \t}\r\n\r\n// customer address\r\n   public void address(int streetNumber, String streetName, String town, String city, String state, int zipCode){\r\n     double shippingCost;\r\n     \r\n     \r\n\r\n\r\n     if (state != &quot;California&quot;){\r\n       shippingCost += 10;\r\n     }     \r\n\r\n   }\r\n  \r\n  public static void main(String[] args) {\r\n    // create instances and call methods here!\r\n\r\n  }\r\n}\r\n```\r\n\r\n\r\nFor this, I&#39;m getting this message:\r\n```\r\nOrder.java:54: error: variable shippingCost might not have been initialized\r\n       shippingCost += 10;\r\n       ^\r\n1 error\r\n","title":"Conditionals and Control flow on Java (codecademy)","body":"<p>I'm just starting to learn Java, and I'm stuck on a section in the conditionals and control flow part of Codecademy.</p>\n<p>I'm trying to add a method that manipulates the <code>shippingCost</code> variable if shipped outside of &quot;California&quot;. I'm really not sure how to expand on top of that (let me know if there are any questions), but I'm confused as to how to do this, or is it just too advanced for the section I'm on?</p>\n<p>This is one of my first posts, so if I'm using any features wrong let me know.</p>\n<pre><code>public class Order {\n  boolean isFilled;\n  double billAmount;\n  String shipping;\n  \n  public Order(boolean filled, double cost, String shippingMethod, int zip) {\n        if (cost &gt; 24.00) {\n      System.out.println(&quot;High value item!&quot;);\n    } else {\n      System.out.println(&quot;Low value item!&quot;);\n    }\n    isFilled = filled;\n    billAmount = cost;\n    shipping = shippingMethod;\n  \n  }\n  \n  public void ship() {\n    if (isFilled) {\n      System.out.println(&quot;Shipping&quot;);\n    } else {\n      System.out.println(&quot;Order not ready&quot;);\n    }\n    \n    double shippingCost = calculateShipping();\n    \n    System.out.println(&quot;Shipping cost: &quot;);\n    System.out.println(shippingCost);\n  }\n  \n  public double calculateShipping() {\n    double shippingCost;\n    switch (shipping) {\n      case &quot;Regular&quot;:\n        shippingCost = 0;\n        break;\n      case &quot;Express&quot;:    \n        shippingCost = 1.75;\n        break;\n      default:\n        shippingCost = .50; \n    }\n    return shippingCost;\n    }\n\n// customer address\n   public void address(int streetNumber, String streetName, String town, String city, String state, int zipCode){\n     double shippingCost;\n     \n     \n\n\n     if (state != &quot;California&quot;){\n       shippingCost += 10;\n     }     \n\n   }\n  \n  public static void main(String[] args) {\n    // create instances and call methods here!\n\n  }\n}\n</code></pre>\n<p>For this, I'm getting this message:</p>\n<pre><code>Order.java:54: error: variable shippingCost might not have been initialized\n       shippingCost += 10;\n       ^\n1 error\n</code></pre>\n"},{"tags":["java","spring","hibernate","spring-data-jpa","jpql"],"answers":[{"tags":[],"owner":{"account_id":17875756,"reputation":106,"user_id":12985876,"display_name":"Taras"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1673170402,"creation_date":1673170402,"answer_id":75046719,"question_id":75046668,"body_markdown":"You probably want something like this \r\n\r\n    @Modifying\r\n    @Query(value = &quot;UPDATE Parameter p SET p.name = (CASE &quot; +\r\n                   &quot;WHEN p.id IN (:ids) THEN (CASE &quot; +\r\n                   &quot;WHEN p.id = :ids[0] THEN :names[0] &quot; +\r\n                   &quot;WHEN p.id = :ids[1] THEN :names[1] &quot; +\r\n                   &quot;WHEN p.id = :ids[2] THEN :names[2] &quot; +\r\n                   // ...\r\n                   &quot;ELSE p.name &quot; +\r\n                   &quot;END) &quot; +\r\n                   &quot;ELSE p.name &quot; +\r\n                   &quot;END) &quot; +\r\n                   &quot;WHERE p.id IN (:ids)&quot;, nativeQuery = true)\r\n    void setNameById(@Param(&quot;ids&quot;) List&lt;Long&gt; ids, @Param(&quot;names&quot;) List&lt;String&gt; names);\r\n\r\nThis is a bad approach. Don&#39;t try to do that.\r\n\r\nIt&#39;s very bad for large lists, since the query will become very long and very difficult to maintain.\r\nIt does not work if the ids and names lists are not in the same order.\r\nIf you need to update a big number of rows, or if the order of the ids and names lists is not fixed, you might want to consider using a different approach, such as executing a separate update statement for each row or using a temporary table .","title":"Spring JPA repository update multiple entities with a single query","body":"<p>You probably want something like this</p>\n<pre><code>@Modifying\n@Query(value = &quot;UPDATE Parameter p SET p.name = (CASE &quot; +\n               &quot;WHEN p.id IN (:ids) THEN (CASE &quot; +\n               &quot;WHEN p.id = :ids[0] THEN :names[0] &quot; +\n               &quot;WHEN p.id = :ids[1] THEN :names[1] &quot; +\n               &quot;WHEN p.id = :ids[2] THEN :names[2] &quot; +\n               // ...\n               &quot;ELSE p.name &quot; +\n               &quot;END) &quot; +\n               &quot;ELSE p.name &quot; +\n               &quot;END) &quot; +\n               &quot;WHERE p.id IN (:ids)&quot;, nativeQuery = true)\nvoid setNameById(@Param(&quot;ids&quot;) List&lt;Long&gt; ids, @Param(&quot;names&quot;) List&lt;String&gt; names);\n</code></pre>\n<p>This is a bad approach. Don't try to do that.</p>\n<p>It's very bad for large lists, since the query will become very long and very difficult to maintain.\nIt does not work if the ids and names lists are not in the same order.\nIf you need to update a big number of rows, or if the order of the ids and names lists is not fixed, you might want to consider using a different approach, such as executing a separate update statement for each row or using a temporary table .</p>\n"},{"tags":[],"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1673175622,"creation_date":1673175622,"answer_id":75047231,"question_id":75046668,"body_markdown":"(Un)fortunately, `spring-data-jpa` functionality is not so flexible as you would like to see, however it does allow to create [Custom Implementations for Spring Data Repositories](https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.custom-implementations) and thus you may write any update query you want, some examples:\r\n- https://thorben-janssen.com/composite-repositories-spring-data-jpa/\r\n- https://vladmihalcea.com/custom-spring-data-repository/\r\n- https://www.baeldung.com/spring-data-composable-repositories\r\n\r\nby the way, you need to keep in mind that in general that is not a good idea to update hibernate entities via direct update, the reasoning is following:\r\n- it is not cache friendly - if you are using second level cache, hibernate needs to completely cleanup those cache, cause it has no chance to get know what entities have been updated\r\n- if you are using auditing solution like [envers](https://hibernate.org/orm/envers/), direct update bypasses that solution\r\n\r\nso, sometimes it is much better to enable batch updates and write something like:\r\n\r\n```java\r\n@Transactional\r\ndefault void setNameById(List&lt;Long&gt; ids, List&lt;String&gt; names) {\r\n    Map&lt;Long, Parameter&gt; data = StreamSupport.stream(findAllById(ids).spliterator(), false)\r\n            .collect(Collectors.toMap(\r\n                    Customer::getId,\r\n                    Function.identity()\r\n            ));\r\n    \r\n    for (int i = 0, n = ids.size(); i &lt; n; i++) {\r\n        Parameter parameter = data.get(ids.get(i));\r\n        if (parameter != null) {\r\n            parameter.setName(names.get(i));\r\n        }\r\n    }\r\n\r\n    saveAll(data.values());\r\n}\r\n```","title":"Spring JPA repository update multiple entities with a single query","body":"<p>(Un)fortunately, <code>spring-data-jpa</code> functionality is not so flexible as you would like to see, however it does allow to create <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.custom-implementations\" rel=\"nofollow noreferrer\">Custom Implementations for Spring Data Repositories</a> and thus you may write any update query you want, some examples:</p>\n<ul>\n<li><a href=\"https://thorben-janssen.com/composite-repositories-spring-data-jpa/\" rel=\"nofollow noreferrer\">https://thorben-janssen.com/composite-repositories-spring-data-jpa/</a></li>\n<li><a href=\"https://vladmihalcea.com/custom-spring-data-repository/\" rel=\"nofollow noreferrer\">https://vladmihalcea.com/custom-spring-data-repository/</a></li>\n<li><a href=\"https://www.baeldung.com/spring-data-composable-repositories\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-data-composable-repositories</a></li>\n</ul>\n<p>by the way, you need to keep in mind that in general that is not a good idea to update hibernate entities via direct update, the reasoning is following:</p>\n<ul>\n<li>it is not cache friendly - if you are using second level cache, hibernate needs to completely cleanup those cache, cause it has no chance to get know what entities have been updated</li>\n<li>if you are using auditing solution like <a href=\"https://hibernate.org/orm/envers/\" rel=\"nofollow noreferrer\">envers</a>, direct update bypasses that solution</li>\n</ul>\n<p>so, sometimes it is much better to enable batch updates and write something like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Transactional\ndefault void setNameById(List&lt;Long&gt; ids, List&lt;String&gt; names) {\n    Map&lt;Long, Parameter&gt; data = StreamSupport.stream(findAllById(ids).spliterator(), false)\n            .collect(Collectors.toMap(\n                    Customer::getId,\n                    Function.identity()\n            ));\n    \n    for (int i = 0, n = ids.size(); i &lt; n; i++) {\n        Parameter parameter = data.get(ids.get(i));\n        if (parameter != null) {\n            parameter.setName(names.get(i));\n        }\n    }\n\n    saveAll(data.values());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2802232,"reputation":1590,"user_id":2410260,"accept_rate":50,"display_name":"Raziza O"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696399051,"creation_date":1696399051,"answer_id":77227074,"question_id":75046668,"body_markdown":"I know it is old but I will share it anyway.\r\n\r\nPlease check [my post](https://stackoverflow.com/questions/77038282/calling-stored-procedure-with-typed-parameter-from-java-spring-boot-using-proce?noredirect=1#comment135979174_77038282) and my answer after I fought with this issue for long time.\r\n\r\nIt is using hibernate 6.\r\n\r\nThe idea behind it is to create a custom type in the DB having (in your case) long and string - Id, name.\r\n\r\nCreate a UserType to allow hibernate convert your type into db type.\r\n\r\nCreate a stored procedure to update your data in a single statement.\r\n\r\n```\r\n-- db script\r\n\r\nCREATE TYPE YourCustomType AS (\r\n  \tid long,\r\n  \tname varchar(100)\r\n );\r\n\r\nCREATE OR REPLACE PROCEDURE updateBulk(yourData YourCustomType[])  AS $$\r\nBEGIN\r\n   UPDATE Parameter as db\r\n   SET db.name = val.name \r\n   FROM (SELECT * from UNNEST(yourArrayOfData)) as val\r\n   WHERE db.id = val.id\r\nEND;\r\n$$ LANGUAGE &#39;plpgsql&#39;;\r\n```\r\n\r\nafter adding the object in java as in my post + creating a `UserType` + contributing the type + then add this to the repo\r\n\r\n```\r\n@Procedure(value= &quot;update_bulk&quot;)\r\nvoid updateBulk(Yourtype[] data);\r\n```\r\n\r\nHave fun..","title":"Spring JPA repository update multiple entities with a single query","body":"<p>I know it is old but I will share it anyway.</p>\n<p>Please check <a href=\"https://stackoverflow.com/questions/77038282/calling-stored-procedure-with-typed-parameter-from-java-spring-boot-using-proce?noredirect=1#comment135979174_77038282\">my post</a> and my answer after I fought with this issue for long time.</p>\n<p>It is using hibernate 6.</p>\n<p>The idea behind it is to create a custom type in the DB having (in your case) long and string - Id, name.</p>\n<p>Create a UserType to allow hibernate convert your type into db type.</p>\n<p>Create a stored procedure to update your data in a single statement.</p>\n<pre><code>-- db script\n\nCREATE TYPE YourCustomType AS (\n    id long,\n    name varchar(100)\n );\n\nCREATE OR REPLACE PROCEDURE updateBulk(yourData YourCustomType[])  AS $$\nBEGIN\n   UPDATE Parameter as db\n   SET db.name = val.name \n   FROM (SELECT * from UNNEST(yourArrayOfData)) as val\n   WHERE db.id = val.id\nEND;\n$$ LANGUAGE 'plpgsql';\n</code></pre>\n<p>after adding the object in java as in my post + creating a <code>UserType</code> + contributing the type + then add this to the repo</p>\n<pre><code>@Procedure(value= &quot;update_bulk&quot;)\nvoid updateBulk(Yourtype[] data);\n</code></pre>\n<p>Have fun..</p>\n"}],"owner":{"account_id":8608092,"reputation":1207,"user_id":6447529,"display_name":"Uri Loya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2085,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75046719,"answer_count":3,"score":0,"last_activity_date":1696399051,"creation_date":1673169830,"question_id":75046668,"body_markdown":"At the moment I have the following code which iterates a list of parameter entities and updates each of their names in the database:\r\n\r\n``` java\r\npublic class test {\r\n\r\n    @Autowired\r\n    private ParameterJpaRepository parameterJpaRepository;\r\n\r\n    public updateParameters(List&lt;Parameter&gt; parameters) {\r\n       for (Parameter parameter : parameters) {\r\n           parameterJpaRepository.setNameById(parameter.getId(), parameter.getName());\r\n       }\r\n    }\r\n}\r\n```\r\n\r\n``` java\r\npublic interface ParameterJpaRepository extends JpaRepository&lt;Parameter, Long&gt; {\r\n\r\n    @Modifying\r\n    @Query(&quot;UPDATE Parameter p SET p.name = :name WHERE p.id = :id&quot;)\r\n    void setNameById(@Param(&quot;id&quot;) long id, @Param(&quot;name&quot;) String name);\r\n}\r\n```\r\n\r\nObviously, this results in **N** queries:\r\n``` sql\r\nHibernate: update parameter set name=? where id=?\r\nHibernate: update parameter set name=? where id=?\r\nHibernate: update parameter set name=? where id=?\r\nHibernate: update parameter set name=? where id=?\r\n```\r\n\r\nI would like to combine then into a single query equivalent to this attempt:\r\n``` java\r\npublic interface ParameterJpaRepository extends JpaRepository&lt;Parameter, Long&gt; {\r\n\r\n    @Modifying\r\n    @Query(&quot;UPDATE Parameter p SET p.name = (:names) WHERE p.id = (:ids)&quot;)\r\n    void setNameById(@Param(&quot;ids&quot;) List&lt;Long&gt; ids, @Param(&quot;names&quot;) List&lt;String&gt; names);\r\n}\r\n```\r\nWhich should yield something like:\r\n``` sql\r\nHibernate: UPDATE parameter\r\n           SET name = (case when id = ? then ?\r\n                            when id = ? then ?\r\n                            when id = ? then ?\r\n                            when id = ? then ?\r\n                       end)\r\n           WHERE id in (?, ?, ?, ?);\r\n```\r\n\r\nIs this possible?","title":"Spring JPA repository update multiple entities with a single query","body":"<p>At the moment I have the following code which iterates a list of parameter entities and updates each of their names in the database:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class test {\n\n    @Autowired\n    private ParameterJpaRepository parameterJpaRepository;\n\n    public updateParameters(List&lt;Parameter&gt; parameters) {\n       for (Parameter parameter : parameters) {\n           parameterJpaRepository.setNameById(parameter.getId(), parameter.getName());\n       }\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public interface ParameterJpaRepository extends JpaRepository&lt;Parameter, Long&gt; {\n\n    @Modifying\n    @Query(&quot;UPDATE Parameter p SET p.name = :name WHERE p.id = :id&quot;)\n    void setNameById(@Param(&quot;id&quot;) long id, @Param(&quot;name&quot;) String name);\n}\n</code></pre>\n<p>Obviously, this results in <strong>N</strong> queries:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>Hibernate: update parameter set name=? where id=?\nHibernate: update parameter set name=? where id=?\nHibernate: update parameter set name=? where id=?\nHibernate: update parameter set name=? where id=?\n</code></pre>\n<p>I would like to combine then into a single query equivalent to this attempt:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface ParameterJpaRepository extends JpaRepository&lt;Parameter, Long&gt; {\n\n    @Modifying\n    @Query(&quot;UPDATE Parameter p SET p.name = (:names) WHERE p.id = (:ids)&quot;)\n    void setNameById(@Param(&quot;ids&quot;) List&lt;Long&gt; ids, @Param(&quot;names&quot;) List&lt;String&gt; names);\n}\n</code></pre>\n<p>Which should yield something like:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>Hibernate: UPDATE parameter\n           SET name = (case when id = ? then ?\n                            when id = ? then ?\n                            when id = ? then ?\n                            when id = ? then ?\n                       end)\n           WHERE id in (?, ?, ?, ?);\n</code></pre>\n<p>Is this possible?</p>\n"},{"tags":["java","if-statement","equality"],"answers":[{"tags":[],"owner":{"account_id":16370655,"reputation":1878,"user_id":11983046,"display_name":"Ryan Zhang"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1655052099,"creation_date":1655052099,"answer_id":72594103,"question_id":72594063,"body_markdown":"Well, if-else statements work like this: when any one of the statements are satisfied, the rest of them are ignored. Take yours as an example.\r\n\r\n```\r\nif (guess &lt; numberToGuess) {\r\n    System.out.println(&quot;Higher&quot;);\r\n} else if (guess &gt; numberToGuess) {\r\n    System.out.println(&quot;Lower&quot;);\r\n} else if (i == 5) {\r\n    System.out.println(&quot;You failed! The correct answer is &quot; + numberToGuess);\r\n} else {\r\n    System.out.println(&quot;You won! Your answer is &quot; + numberToGuess + &quot; which is correct!&quot;);\r\n    break;\r\n}\r\n```\r\nEven when `i == 5`, if either of `guess &lt; numberToGuess` or `guess &gt; numberToGuess` are satisfied, the rest of the statements including `(i == 5)` are ignored. \r\n\r\nTo fix this, simply add `i == 5` as the first condition to check, because if `i == 5` is satisfied we shouldn&#39;t be considering the guess anyway. \r\n\r\nI&#39;m also guessing you want to break out of the loop if the game ends, so I added a `break` statement as well.\r\n\r\n```\r\nif (i == 5) {\r\n    System.out.println(&quot;You failed! The correct answer is &quot; + numberToGuess);\r\n    break;\r\n} else if (guess &lt; numberToGuess) {\r\n    System.out.println(&quot;Higher&quot;);\r\n} else if (guess &gt; numberToGuess) {\r\n    System.out.println(&quot;Lower&quot;);\r\n}  else {\r\n    System.out.println(&quot;You won! Your answer is &quot; + numberToGuess + &quot; which is correct!&quot;);\r\n    break;\r\n}\r\n```","title":"all of the condition are working except on the second else-if statement, how to correct this?","body":"<p>Well, if-else statements work like this: when any one of the statements are satisfied, the rest of them are ignored. Take yours as an example.</p>\n<pre><code>if (guess &lt; numberToGuess) {\n    System.out.println(&quot;Higher&quot;);\n} else if (guess &gt; numberToGuess) {\n    System.out.println(&quot;Lower&quot;);\n} else if (i == 5) {\n    System.out.println(&quot;You failed! The correct answer is &quot; + numberToGuess);\n} else {\n    System.out.println(&quot;You won! Your answer is &quot; + numberToGuess + &quot; which is correct!&quot;);\n    break;\n}\n</code></pre>\n<p>Even when <code>i == 5</code>, if either of <code>guess &lt; numberToGuess</code> or <code>guess &gt; numberToGuess</code> are satisfied, the rest of the statements including <code>(i == 5)</code> are ignored.</p>\n<p>To fix this, simply add <code>i == 5</code> as the first condition to check, because if <code>i == 5</code> is satisfied we shouldn't be considering the guess anyway.</p>\n<p>I'm also guessing you want to break out of the loop if the game ends, so I added a <code>break</code> statement as well.</p>\n<pre><code>if (i == 5) {\n    System.out.println(&quot;You failed! The correct answer is &quot; + numberToGuess);\n    break;\n} else if (guess &lt; numberToGuess) {\n    System.out.println(&quot;Higher&quot;);\n} else if (guess &gt; numberToGuess) {\n    System.out.println(&quot;Lower&quot;);\n}  else {\n    System.out.println(&quot;You won! Your answer is &quot; + numberToGuess + &quot; which is correct!&quot;);\n    break;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10484151,"reputation":422,"user_id":7728273,"accept_rate":80,"display_name":"kboskin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655052213,"creation_date":1655052213,"answer_id":72594116,"question_id":72594063,"body_markdown":"So, that appears to be so, because before checking if you are under the right loop condition, there are checks of variables\r\n\r\n    ... \r\n    if (guess &lt; numberToGuess) {\r\n                System.out.println(&quot;Higher&quot;);\r\n            } else if (guess &gt; numberToGuess) {\r\n                    System.out.println(&quot;Lower&quot;);\r\n            } \r\n    ....\r\nWhich are executed. So, to fix the bug, just move your check i == 5 to be the first branching clause. The code should look like next\r\n\r\n    if (i == 5) {\r\n        System.out.println(&quot;You failed! The correct answer is &quot; + numberToGuess);\r\n    } else if (guess &gt; numberToGuess) {\r\n        System.out.println(&quot;Lower&quot;);\r\n    } else if (guess &lt; numberToGuess) {\r\n         System.out.println(&quot;Higher&quot;);\r\n    } else {\r\n        System.out.println(&quot;You won! Your answer is &quot; + numberToGuess + &quot; which is correct!&quot;);\r\n        break;\r\n    }\r\n\r\nThis way you check the loop condition first and input condition after","title":"all of the condition are working except on the second else-if statement, how to correct this?","body":"<p>So, that appears to be so, because before checking if you are under the right loop condition, there are checks of variables</p>\n<pre><code>... \nif (guess &lt; numberToGuess) {\n            System.out.println(&quot;Higher&quot;);\n        } else if (guess &gt; numberToGuess) {\n                System.out.println(&quot;Lower&quot;);\n        } \n....\n</code></pre>\n<p>Which are executed. So, to fix the bug, just move your check i == 5 to be the first branching clause. The code should look like next</p>\n<pre><code>if (i == 5) {\n    System.out.println(&quot;You failed! The correct answer is &quot; + numberToGuess);\n} else if (guess &gt; numberToGuess) {\n    System.out.println(&quot;Lower&quot;);\n} else if (guess &lt; numberToGuess) {\n     System.out.println(&quot;Higher&quot;);\n} else {\n    System.out.println(&quot;You won! Your answer is &quot; + numberToGuess + &quot; which is correct!&quot;);\n    break;\n}\n</code></pre>\n<p>This way you check the loop condition first and input condition after</p>\n"},{"tags":[],"owner":{"account_id":9725613,"reputation":53334,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655052445,"creation_date":1655052445,"answer_id":72594146,"question_id":72594063,"body_markdown":"That is how `if/else if/else` works, your value will be either lower or higher than the guess, so one for the 2 first condition will be true, then no other will be checked\r\n\r\nSet the stop condition at first\r\n\r\n    int nb_tries = 5;\r\n    for (i = 1; i &lt;= nb_tries; i++) {\r\n        System.out.print(&quot;Attempt: &quot; + i + &quot;/&quot; + nb_tries + &quot; =&gt; &quot;);\r\n        int guess = scanner.nextInt();\r\n\r\n        if (i == nb_tries) {\r\n            System.out.println(&quot;You failed! The correct answer is &quot; + numberToGuess);\r\n        } else if (guess &lt; numberToGuess) {\r\n            System.out.println(&quot;Higher&quot;);\r\n        } else if (guess &gt; numberToGuess) {\r\n            System.out.println(&quot;Lower&quot;);\r\n        } else {\r\n            System.out.println(&quot;You won! Your answer is &quot; + numberToGuess + &quot; which is correct!&quot;);\r\n            break;\r\n        }\r\n    }\r\n\r\n","title":"all of the condition are working except on the second else-if statement, how to correct this?","body":"<p>That is how <code>if/else if/else</code> works, your value will be either lower or higher than the guess, so one for the 2 first condition will be true, then no other will be checked</p>\n<p>Set the stop condition at first</p>\n<pre><code>int nb_tries = 5;\nfor (i = 1; i &lt;= nb_tries; i++) {\n    System.out.print(&quot;Attempt: &quot; + i + &quot;/&quot; + nb_tries + &quot; =&gt; &quot;);\n    int guess = scanner.nextInt();\n\n    if (i == nb_tries) {\n        System.out.println(&quot;You failed! The correct answer is &quot; + numberToGuess);\n    } else if (guess &lt; numberToGuess) {\n        System.out.println(&quot;Higher&quot;);\n    } else if (guess &gt; numberToGuess) {\n        System.out.println(&quot;Lower&quot;);\n    } else {\n        System.out.println(&quot;You won! Your answer is &quot; + numberToGuess + &quot; which is correct!&quot;);\n        break;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2295385,"reputation":1,"user_id":2016942,"display_name":"user2016942"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696399013,"creation_date":1655053555,"answer_id":72594290,"question_id":72594063,"body_markdown":"The Thumb rule while using if-else statement is **which ever condition\r\nwill satisfied to the earliest**, it will go into that statement and\r\nafter that it will execute the code outside of if-else condition.\r\n\r\nSo in your case Well, if-else statements work like this: when any one\r\nof the statements are satisfied, the rest of them are ignored. Take\r\nyours as an example.\r\n\r\n```lang-java\r\nif (guess &lt; numberToGuess) {\r\n     System.out.println(&quot;Higher&quot;); } else if (guess &gt; numberToGuess) {\r\n     System.out.println(&quot;Lower&quot;); } else if (i == 5) {\r\n     System.out.println(&quot;You failed! The correct answer is &quot; + numberToGuess); } else {\r\n     System.out.println(&quot;You won! Your answer is &quot; + numberToGuess + &quot; which is correct!&quot;);\r\n    break; }\r\n```\r\n\r\nEven when i == 5, if either of guess &lt; numberToGuess or guess &gt;\r\nnumberToGuess is satisfied, it will execute either of these instead of\r\ni==5.\r\n**So just think of the logic that you want to give more priority.**","title":"all of the condition are working except on the second else-if statement, how to correct this?","body":"<p>The Thumb rule while using if-else statement is <strong>which ever condition\nwill satisfied to the earliest</strong>, it will go into that statement and\nafter that it will execute the code outside of if-else condition.</p>\n<p>So in your case Well, if-else statements work like this: when any one\nof the statements are satisfied, the rest of them are ignored. Take\nyours as an example.</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (guess &lt; numberToGuess) {\n     System.out.println(&quot;Higher&quot;); } else if (guess &gt; numberToGuess) {\n     System.out.println(&quot;Lower&quot;); } else if (i == 5) {\n     System.out.println(&quot;You failed! The correct answer is &quot; + numberToGuess); } else {\n     System.out.println(&quot;You won! Your answer is &quot; + numberToGuess + &quot; which is correct!&quot;);\n    break; }\n</code></pre>\n<p>Even when i == 5, if either of guess &lt; numberToGuess or guess &gt;\nnumberToGuess is satisfied, it will execute either of these instead of\ni==5.\n<strong>So just think of the logic that you want to give more priority.</strong></p>\n"}],"owner":{"account_id":21060237,"reputation":3,"user_id":15478774,"display_name":"filocoderist"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72594103,"answer_count":4,"score":0,"last_activity_date":1696399013,"creation_date":1655051791,"question_id":72594063,"body_markdown":"I am learning Java and I do not know what makes my code not reading my else-if condition (i == 5)\r\n\r\n    int i;    \r\n    for (i = 1; i &lt;= 5; i++) {\r\n        int guess = scanner.nextInt();\r\n        System.out.println(&quot;Attempt: &quot; + i +&quot;/5&quot;);\r\n        if (guess &lt; numberToGuess) {\r\n            System.out.println(&quot;Higher&quot;);\r\n        } else if (guess &gt; numberToGuess) {\r\n                System.out.println(&quot;Lower&quot;);\r\n        } else if (i == 5) {\r\n            System.out.println(&quot;You failed! The correct answer is &quot; + numberToGuess);\r\n        } else {\r\n            System.out.println(&quot;You won! Your answer is &quot; + numberToGuess + &quot; which is correct!&quot;);\r\n            break;\r\n        }\r\n\r\nwhen i&#39;m running the code and try to fail the game by reaching the maximum number of int i which is 5, the second else if statement should appear but it is not working.\r\n\r\nI just don&#39;t get the reason why it is not reading the (i==5) condition, all of the other conditions are working except that.\r\n\r\n\r\n","title":"all of the condition are working except on the second else-if statement, how to correct this?","body":"<p>I am learning Java and I do not know what makes my code not reading my else-if condition (i == 5)</p>\n<pre><code>int i;    \nfor (i = 1; i &lt;= 5; i++) {\n    int guess = scanner.nextInt();\n    System.out.println(&quot;Attempt: &quot; + i +&quot;/5&quot;);\n    if (guess &lt; numberToGuess) {\n        System.out.println(&quot;Higher&quot;);\n    } else if (guess &gt; numberToGuess) {\n            System.out.println(&quot;Lower&quot;);\n    } else if (i == 5) {\n        System.out.println(&quot;You failed! The correct answer is &quot; + numberToGuess);\n    } else {\n        System.out.println(&quot;You won! Your answer is &quot; + numberToGuess + &quot; which is correct!&quot;);\n        break;\n    }\n</code></pre>\n<p>when i'm running the code and try to fail the game by reaching the maximum number of int i which is 5, the second else if statement should appear but it is not working.</p>\n<p>I just don't get the reason why it is not reading the (i==5) condition, all of the other conditions are working except that.</p>\n"},{"tags":["java","android","google-maps","country-codes"],"comments":[{"owner":{"account_id":24508188,"reputation":1914,"user_id":18422887,"display_name":"Yrll"},"score":0,"creation_date":1696809064,"post_id":77226988,"comment_id":136196684,"body_markdown":"Please provide a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example) of what you have tried so far. So that the community could check and help you better.","body":"Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> of what you have tried so far. So that the community could check and help you better."}],"answers":[{"tags":[],"owner":{"account_id":23941111,"reputation":1,"user_id":17934212,"display_name":"Lakshitha Wijewardhana"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696398446,"creation_date":1696398446,"answer_id":77227025,"question_id":77226988,"body_markdown":"The Maps JavaScript API provides a [Geocoder class][1] for geocoding and reverse geocoding dynamically from user input. If instead you wish to geocode static, known addresses, see the [Geocoding web service.][2]\r\n\r\n\r\n  [1]: https://developers.google.com/maps/documentation/javascript/reference/geocoder\r\n  [2]: https://developers.google.com/maps/documentation/geocoding","title":"How to get country codes of the selected map area (visible map region)?","body":"<p>The Maps JavaScript API provides a <a href=\"https://developers.google.com/maps/documentation/javascript/reference/geocoder\" rel=\"nofollow noreferrer\">Geocoder class</a> for geocoding and reverse geocoding dynamically from user input. If instead you wish to geocode static, known addresses, see the <a href=\"https://developers.google.com/maps/documentation/geocoding\" rel=\"nofollow noreferrer\">Geocoding web service.</a></p>\n"}],"owner":{"account_id":13575915,"reputation":69,"user_id":9793289,"display_name":"TNT"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696398446,"creation_date":1696397816,"question_id":77226988,"body_markdown":"I want to get the country codes from the visible map region. Visible map region may contain multiple countries so I want all those country codes.\r\n\r\nI&#39;ve tried with Geocoder and with grid points in the map and it returned me all the country codes but the problem with that it&#39;s too slow. Geocoder takes time to return result so I&#39;m looking for the alternate way. \r\nPlease help.  ","title":"How to get country codes of the selected map area (visible map region)?","body":"<p>I want to get the country codes from the visible map region. Visible map region may contain multiple countries so I want all those country codes.</p>\n<p>I've tried with Geocoder and with grid points in the map and it returned me all the country codes but the problem with that it's too slow. Geocoder takes time to return result so I'm looking for the alternate way.\nPlease help.</p>\n"},{"tags":["java","logging","gzip","logback"],"answers":[{"tags":[],"owner":{"account_id":4335872,"reputation":77,"user_id":3540367,"display_name":"Vinit More"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696342179,"creation_date":1696342179,"answer_id":77223039,"question_id":77222137,"body_markdown":"Logback do not have any out of the box functionality to create zip from achieved log folder. However you shell script (Unix) or batch script (Windows) and schedule it to run as per needed timeline. You will easily find sample shell/batch scripts which you can modify.","title":"Is there a way to save old logs as archived and then delete the archived file?","body":"<p>Logback do not have any out of the box functionality to create zip from achieved log folder. However you shell script (Unix) or batch script (Windows) and schedule it to run as per needed timeline. You will easily find sample shell/batch scripts which you can modify.</p>\n"},{"tags":[],"owner":{"account_id":1075172,"reputation":5519,"user_id":1073487,"display_name":"Red Boy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696397714,"creation_date":1696397714,"answer_id":77226976,"question_id":77222137,"body_markdown":"As far as I know there is no policy in log rotation in Java to zip the old files, but you can do it using chron-tab schedule if in Unix based OS.\r\n\r\nJust skip writing specifying the &lt;rollingPolicy&gt; (TimeBasedRollingPolicy) to delete the files after 7 days, then you should just not specify &lt;maxHistory&gt;7&lt;/maxHistory&gt; in your configuration.\r\n\r\nYou should just leave the &lt;maxHistory&gt; out; it&#39;s optional and if it&#39;s not there, then archived log files are not deleted.\r\n\r\nThen write a crontab that will gunzip or zip the files periodically(once in a day in your case).\r\n\r\nI hope it helps.","title":"Is there a way to save old logs as archived and then delete the archived file?","body":"<p>As far as I know there is no policy in log rotation in Java to zip the old files, but you can do it using chron-tab schedule if in Unix based OS.</p>\n<p>Just skip writing specifying the  (TimeBasedRollingPolicy) to delete the files after 7 days, then you should just not specify 7 in your configuration.</p>\n<p>You should just leave the  out; it's optional and if it's not there, then archived log files are not deleted.</p>\n<p>Then write a crontab that will gunzip or zip the files periodically(once in a day in your case).</p>\n<p>I hope it helps.</p>\n"}],"owner":{"account_id":19179654,"reputation":3,"user_id":20823586,"display_name":"Alim Uddin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1696397714,"creation_date":1696335005,"question_id":77222137,"body_markdown":"I have a project which saves logs of all the other services. It is configured in such a way that it keeps only 7 days logs and deletes older logs every day.\r\n\r\nBut I want to know if there is a configuration through which I can save the logs older then 7 days into .gz format into new folder and then then delete those 7 days older logs. If I want to need to look into any older issue then I can just unzip the old logs.\r\n\r\nCurrently my configuration is like this -&gt;\r\n\r\n```xml\r\n&lt;appender name=&quot;FILE-ERROR&quot; class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\r\n    &lt;encoder class=&quot;ch.qos.logback.classic.encoder.PatternLayoutEncoder&quot;&gt;\r\n        &lt;pattern&gt;%highlight([%level]) - [%date] - [%logger] %msg%n&lt;/pattern&gt;\r\n    &lt;/encoder&gt;\r\n    &lt;rollingPolicy class=&quot;ch.qos.logback.core.rolling.TimeBasedRollingPolicy&quot;&gt;\r\n        &lt;!--  rollover daily  --&gt;\r\n        &lt;fileNamePattern&gt;${DEV_HOME}/archived/app-error.%d{yyyy-MM-dd}.%i.log &lt;/fileNamePattern&gt;\r\n        &lt;timeBasedFileNamingAndTriggeringPolicy class=&quot;ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP&quot;&gt;\r\n            &lt;maxFileSize&gt;100MB&lt;/maxFileSize&gt;\r\n        &lt;/timeBasedFileNamingAndTriggeringPolicy&gt;\r\n        &lt;maxHistory&gt;7&lt;/maxHistory&gt;\r\n    &lt;/rollingPolicy&gt;\r\n    &lt;filter class=&quot;ch.qos.logback.classic.filter.LevelFilter&quot;&gt;\r\n        &lt;level&gt;ERROR&lt;/level&gt;\r\n        &lt;!-- output messages of exact level only  --&gt;\r\n        &lt;onMatch&gt;ACCEPT&lt;/onMatch&gt;\r\n        &lt;onMismatch&gt;DENY&lt;/onMismatch&gt;\r\n    &lt;/filter&gt;\r\n&lt;/appender&gt;\r\n```","title":"Is there a way to save old logs as archived and then delete the archived file?","body":"<p>I have a project which saves logs of all the other services. It is configured in such a way that it keeps only 7 days logs and deletes older logs every day.</p>\n<p>But I want to know if there is a configuration through which I can save the logs older then 7 days into .gz format into new folder and then then delete those 7 days older logs. If I want to need to look into any older issue then I can just unzip the old logs.</p>\n<p>Currently my configuration is like this -&gt;</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;appender name=&quot;FILE-ERROR&quot; class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\n    &lt;encoder class=&quot;ch.qos.logback.classic.encoder.PatternLayoutEncoder&quot;&gt;\n        &lt;pattern&gt;%highlight([%level]) - [%date] - [%logger] %msg%n&lt;/pattern&gt;\n    &lt;/encoder&gt;\n    &lt;rollingPolicy class=&quot;ch.qos.logback.core.rolling.TimeBasedRollingPolicy&quot;&gt;\n        &lt;!--  rollover daily  --&gt;\n        &lt;fileNamePattern&gt;${DEV_HOME}/archived/app-error.%d{yyyy-MM-dd}.%i.log &lt;/fileNamePattern&gt;\n        &lt;timeBasedFileNamingAndTriggeringPolicy class=&quot;ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP&quot;&gt;\n            &lt;maxFileSize&gt;100MB&lt;/maxFileSize&gt;\n        &lt;/timeBasedFileNamingAndTriggeringPolicy&gt;\n        &lt;maxHistory&gt;7&lt;/maxHistory&gt;\n    &lt;/rollingPolicy&gt;\n    &lt;filter class=&quot;ch.qos.logback.classic.filter.LevelFilter&quot;&gt;\n        &lt;level&gt;ERROR&lt;/level&gt;\n        &lt;!-- output messages of exact level only  --&gt;\n        &lt;onMatch&gt;ACCEPT&lt;/onMatch&gt;\n        &lt;onMismatch&gt;DENY&lt;/onMismatch&gt;\n    &lt;/filter&gt;\n&lt;/appender&gt;\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":1374485,"reputation":15558,"user_id":1308767,"display_name":"Bojan Kseneman"},"score":0,"creation_date":1430937996,"post_id":30085063,"comment_id":48283240,"body_markdown":"If you have many items, no matter if solution is possible, I guarantee you an out of memory error.","body":"If you have many items, no matter if solution is possible, I guarantee you an out of memory error."}],"answers":[{"tags":[],"owner":{"account_id":6270402,"reputation":6551,"user_id":4874829,"display_name":"Yoav Sternberg"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1488920673,"creation_date":1431088951,"answer_id":30124162,"question_id":30085063,"body_markdown":"Here is my solution for `LinearLayoutManager` when **all the items are on same size** and there is **only one type of item**. This solution is based on [This answer][1].  \r\n\r\n**Note**: It can possibly lead to out of memory error.\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    public static Bitmap getRecyclerViewScreenshot(RecyclerView view) {\r\n            int size = view.getAdapter().getItemCount();\r\n            RecyclerView.ViewHolder holder = view.getAdapter().createViewHolder(view, 0);\r\n            view.getAdapter().onBindViewHolder(holder, 0);\r\n            holder.itemView.measure(View.MeasureSpec.makeMeasureSpec(view.getWidth(), View.MeasureSpec.EXACTLY),\r\n                    View.MeasureSpec.makeMeasureSpec(0, View.MeasureSpec.UNSPECIFIED));\r\n            holder.itemView.layout(0, 0, holder.itemView.getMeasuredWidth(), holder.itemView.getMeasuredHeight());\r\n            Bitmap bigBitmap = Bitmap.createBitmap(view.getMeasuredWidth(), holder.itemView.getMeasuredHeight() * size,\r\n                    Bitmap.Config.ARGB_8888);\r\n            Canvas bigCanvas = new Canvas(bigBitmap);\r\n            bigCanvas.drawColor(Color.WHITE);\r\n            Paint paint = new Paint();\r\n            int iHeight = 0;\r\n            holder.itemView.setDrawingCacheEnabled(true);\r\n            holder.itemView.buildDrawingCache();\r\n            bigCanvas.drawBitmap(holder.itemView.getDrawingCache(), 0f, iHeight, paint);\r\n            holder.itemView.setDrawingCacheEnabled(false);\r\n            holder.itemView.destroyDrawingCache();\r\n            iHeight += holder.itemView.getMeasuredHeight();\r\n            for (int i = 1; i &lt; size; i++) {\r\n                view.getAdapter().onBindViewHolder(holder, i);\r\n                holder.itemView.setDrawingCacheEnabled(true);\r\n                holder.itemView.buildDrawingCache();\r\n                bigCanvas.drawBitmap(holder.itemView.getDrawingCache(), 0f, iHeight, paint);\r\n                iHeight += holder.itemView.getMeasuredHeight();\r\n                holder.itemView.setDrawingCacheEnabled(false);\r\n                holder.itemView.destroyDrawingCache();\r\n            }\r\n            return bigBitmap;\r\n        }\r\n\r\n**Note 2:** It has originally been written in Kotlin. [Here][2] is the original code used by me.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/12956881/4874829\r\n  [2]: http://paste.ubuntu.com/24132917/","title":"Take a screenshot of RecyclerView in FULL length","body":"<p>Here is my solution for <code>LinearLayoutManager</code> when <strong>all the items are on same size</strong> and there is <strong>only one type of item</strong>. This solution is based on <a href=\"https://stackoverflow.com/a/12956881/4874829\">This answer</a>.  </p>\n\n<p><strong>Note</strong>: It can possibly lead to out of memory error.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public static Bitmap getRecyclerViewScreenshot(RecyclerView view) {\n        int size = view.getAdapter().getItemCount();\n        RecyclerView.ViewHolder holder = view.getAdapter().createViewHolder(view, 0);\n        view.getAdapter().onBindViewHolder(holder, 0);\n        holder.itemView.measure(View.MeasureSpec.makeMeasureSpec(view.getWidth(), View.MeasureSpec.EXACTLY),\n                View.MeasureSpec.makeMeasureSpec(0, View.MeasureSpec.UNSPECIFIED));\n        holder.itemView.layout(0, 0, holder.itemView.getMeasuredWidth(), holder.itemView.getMeasuredHeight());\n        Bitmap bigBitmap = Bitmap.createBitmap(view.getMeasuredWidth(), holder.itemView.getMeasuredHeight() * size,\n                Bitmap.Config.ARGB_8888);\n        Canvas bigCanvas = new Canvas(bigBitmap);\n        bigCanvas.drawColor(Color.WHITE);\n        Paint paint = new Paint();\n        int iHeight = 0;\n        holder.itemView.setDrawingCacheEnabled(true);\n        holder.itemView.buildDrawingCache();\n        bigCanvas.drawBitmap(holder.itemView.getDrawingCache(), 0f, iHeight, paint);\n        holder.itemView.setDrawingCacheEnabled(false);\n        holder.itemView.destroyDrawingCache();\n        iHeight += holder.itemView.getMeasuredHeight();\n        for (int i = 1; i &lt; size; i++) {\n            view.getAdapter().onBindViewHolder(holder, i);\n            holder.itemView.setDrawingCacheEnabled(true);\n            holder.itemView.buildDrawingCache();\n            bigCanvas.drawBitmap(holder.itemView.getDrawingCache(), 0f, iHeight, paint);\n            iHeight += holder.itemView.getMeasuredHeight();\n            holder.itemView.setDrawingCacheEnabled(false);\n            holder.itemView.destroyDrawingCache();\n        }\n        return bigBitmap;\n    }\n</code></pre>\n\n<p><strong>Note 2:</strong> It has originally been written in Kotlin. <a href=\"http://paste.ubuntu.com/24132917/\" rel=\"noreferrer\">Here</a> is the original code used by me.</p>\n"},{"tags":[],"owner":{"account_id":89527,"reputation":6656,"user_id":246942,"accept_rate":68,"display_name":"Prasham"},"down_vote_count":0,"up_vote_count":24,"is_accepted":true,"score":24,"last_activity_date":1488935714,"creation_date":1435120359,"answer_id":31017673,"question_id":30085063,"body_markdown":"Inspired from Yoav&#39;s answer. This code works for recyclerview item types and probably regardless of it&#39;s size. \r\n\r\nIt was tested with a recyclerview having linearlayout manager and three item types. Yet to check it with other layout managers.\r\n\r\n    public Bitmap getScreenshotFromRecyclerView(RecyclerView view) {\r\n            RecyclerView.Adapter adapter = view.getAdapter();\r\n            Bitmap bigBitmap = null;\r\n            if (adapter != null) {\r\n                int size = adapter.getItemCount();\r\n                int height = 0;\r\n                Paint paint = new Paint();\r\n                int iHeight = 0;\r\n                final int maxMemory = (int) (Runtime.getRuntime().maxMemory() / 1024);\r\n    \r\n                // Use 1/8th of the available memory for this memory cache.\r\n                final int cacheSize = maxMemory / 8;\r\n                LruCache&lt;String, Bitmap&gt; bitmaCache = new LruCache&lt;&gt;(cacheSize);\r\n                for (int i = 0; i &lt; size; i++) {\r\n                    RecyclerView.ViewHolder holder = adapter.createViewHolder(view, adapter.getItemViewType(i));\r\n                    adapter.onBindViewHolder(holder, i);\r\n                    holder.itemView.measure(View.MeasureSpec.makeMeasureSpec(view.getWidth(), View.MeasureSpec.EXACTLY),\r\n                            View.MeasureSpec.makeMeasureSpec(0, View.MeasureSpec.UNSPECIFIED));\r\n                    holder.itemView.layout(0, 0, holder.itemView.getMeasuredWidth(), holder.itemView.getMeasuredHeight());\r\n                    holder.itemView.setDrawingCacheEnabled(true);\r\n                    holder.itemView.buildDrawingCache();\r\n                    Bitmap drawingCache = holder.itemView.getDrawingCache();\r\n                    if (drawingCache != null) {\r\n    \r\n                        bitmaCache.put(String.valueOf(i), drawingCache);\r\n                    }\r\n    //                holder.itemView.setDrawingCacheEnabled(false);\r\n    //                holder.itemView.destroyDrawingCache();\r\n                    height += holder.itemView.getMeasuredHeight();\r\n                }\r\n    \r\n                bigBitmap = Bitmap.createBitmap(view.getMeasuredWidth(), height, Bitmap.Config.ARGB_8888);\r\n                Canvas bigCanvas = new Canvas(bigBitmap);\r\n                bigCanvas.drawColor(Color.WHITE);\r\n    \r\n                for (int i = 0; i &lt; size; i++) {\r\n                    Bitmap bitmap = bitmaCache.get(String.valueOf(i));\r\n                    bigCanvas.drawBitmap(bitmap, 0f, iHeight, paint);\r\n                    iHeight += bitmap.getHeight();\r\n                    bitmap.recycle();\r\n                }\r\n    \r\n            }\r\n            return bigBitmap;\r\n        }","title":"Take a screenshot of RecyclerView in FULL length","body":"<p>Inspired from Yoav's answer. This code works for recyclerview item types and probably regardless of it's size. </p>\n\n<p>It was tested with a recyclerview having linearlayout manager and three item types. Yet to check it with other layout managers.</p>\n\n<pre><code>public Bitmap getScreenshotFromRecyclerView(RecyclerView view) {\n        RecyclerView.Adapter adapter = view.getAdapter();\n        Bitmap bigBitmap = null;\n        if (adapter != null) {\n            int size = adapter.getItemCount();\n            int height = 0;\n            Paint paint = new Paint();\n            int iHeight = 0;\n            final int maxMemory = (int) (Runtime.getRuntime().maxMemory() / 1024);\n\n            // Use 1/8th of the available memory for this memory cache.\n            final int cacheSize = maxMemory / 8;\n            LruCache&lt;String, Bitmap&gt; bitmaCache = new LruCache&lt;&gt;(cacheSize);\n            for (int i = 0; i &lt; size; i++) {\n                RecyclerView.ViewHolder holder = adapter.createViewHolder(view, adapter.getItemViewType(i));\n                adapter.onBindViewHolder(holder, i);\n                holder.itemView.measure(View.MeasureSpec.makeMeasureSpec(view.getWidth(), View.MeasureSpec.EXACTLY),\n                        View.MeasureSpec.makeMeasureSpec(0, View.MeasureSpec.UNSPECIFIED));\n                holder.itemView.layout(0, 0, holder.itemView.getMeasuredWidth(), holder.itemView.getMeasuredHeight());\n                holder.itemView.setDrawingCacheEnabled(true);\n                holder.itemView.buildDrawingCache();\n                Bitmap drawingCache = holder.itemView.getDrawingCache();\n                if (drawingCache != null) {\n\n                    bitmaCache.put(String.valueOf(i), drawingCache);\n                }\n//                holder.itemView.setDrawingCacheEnabled(false);\n//                holder.itemView.destroyDrawingCache();\n                height += holder.itemView.getMeasuredHeight();\n            }\n\n            bigBitmap = Bitmap.createBitmap(view.getMeasuredWidth(), height, Bitmap.Config.ARGB_8888);\n            Canvas bigCanvas = new Canvas(bigBitmap);\n            bigCanvas.drawColor(Color.WHITE);\n\n            for (int i = 0; i &lt; size; i++) {\n                Bitmap bitmap = bitmaCache.get(String.valueOf(i));\n                bigCanvas.drawBitmap(bitmap, 0f, iHeight, paint);\n                iHeight += bitmap.getHeight();\n                bitmap.recycle();\n            }\n\n        }\n        return bigBitmap;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8296744,"reputation":4073,"user_id":6236752,"accept_rate":100,"display_name":"Nouman Ch"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1535372320,"creation_date":1535372320,"answer_id":52039218,"question_id":30085063,"body_markdown":"Take the Screenshot of complete Recyclerview regardless of its items and item types:\r\n\r\nThis piece of code works like a charm.\r\n\r\nHere is a clean way to do this short and precise:\r\n\r\n    recyclerView.measure(\r\n            View.MeasureSpec.makeMeasureSpec(recyclerView.getWidth(), View.MeasureSpec.EXACTLY),\r\n            View.MeasureSpec.makeMeasureSpec(0, View.MeasureSpec.UNSPECIFIED));\r\n    \r\n    Bitmap bm = Bitmap.createBitmap(recyclerView.getWidth(), recyclerView.getMeasuredHeight(), Bitmap.Config.ARGB_8888);\r\n    recyclerView.draw(new Canvas(bm));\r\n    \r\n    saveImage(bm);\r\n    ImageView im\r\n              = new ImageView(getActivity());\r\n    im.setImageBitmap(bm);\r\n     new AlertDialog.Builder(getActivity()).setView(im).show();\r\n\r\n","title":"Take a screenshot of RecyclerView in FULL length","body":"<p>Take the Screenshot of complete Recyclerview regardless of its items and item types:</p>\n\n<p>This piece of code works like a charm.</p>\n\n<p>Here is a clean way to do this short and precise:</p>\n\n<pre><code>recyclerView.measure(\n        View.MeasureSpec.makeMeasureSpec(recyclerView.getWidth(), View.MeasureSpec.EXACTLY),\n        View.MeasureSpec.makeMeasureSpec(0, View.MeasureSpec.UNSPECIFIED));\n\nBitmap bm = Bitmap.createBitmap(recyclerView.getWidth(), recyclerView.getMeasuredHeight(), Bitmap.Config.ARGB_8888);\nrecyclerView.draw(new Canvas(bm));\n\nsaveImage(bm);\nImageView im\n          = new ImageView(getActivity());\nim.setImageBitmap(bm);\n new AlertDialog.Builder(getActivity()).setView(im).show();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":329085,"reputation":2202,"user_id":652410,"accept_rate":97,"display_name":"eoinzy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1565300180,"creation_date":1565300180,"answer_id":57420926,"question_id":30085063,"body_markdown":"I wrote a method to get a screenshot of a few different views:\r\n\r\n\r\n    private static Bitmap getBitmapFromView(View view) {\r\n        if (view.getVisibility() != View.VISIBLE) {\r\n            view = getNextView(view);\r\n            Log.d(TAG, &quot;New view id: &quot; + view.getId());\r\n        }\r\n        //Define a bitmap with the same size as the view\r\n        Bitmap returnedBitmap;\r\n        if (view instanceof ScrollView) {\r\n            returnedBitmap = Bitmap.createBitmap(((ViewGroup) view).getChildAt(0).getWidth(), ((ViewGroup) view).getChildAt(0).getHeight(), Bitmap.Config.ARGB_8888);\r\n        } else if (view instanceof RecyclerView) {\r\n            view.measure(\r\n                    View.MeasureSpec.makeMeasureSpec(view.getWidth(), View.MeasureSpec.EXACTLY),\r\n                    View.MeasureSpec.makeMeasureSpec(0, View.MeasureSpec.UNSPECIFIED));\r\n\r\n            returnedBitmap = Bitmap.createBitmap(view.getWidth(), view.getMeasuredHeight(), Bitmap.Config.ARGB_8888);\r\n        } else {\r\n            returnedBitmap = Bitmap.createBitmap(view.getWidth(), view.getHeight(), Bitmap.Config.ARGB_8888);\r\n        }\r\n\r\n        //Bind a canvas to it\r\n        Canvas canvas = new Canvas(returnedBitmap);\r\n        //Get the view&#39;s background\r\n        Drawable bgDrawable = view.getBackground();\r\n        if (bgDrawable != null) {\r\n            //has background drawable, then draw it on the canvas\r\n            bgDrawable.draw(canvas);\r\n        } else {\r\n            //does not have background drawable, then draw white background on the canvas\r\n            canvas.drawColor(Color.WHITE);\r\n        }\r\n        // draw the view on the canvas\r\n        view.draw(canvas);\r\n        //return the bitmap\r\n        return returnedBitmap;\r\n    }\r\n\r\n    /**\r\n     * If the base view is not visible, then it has no width or height.\r\n     * This causes a problem when we are creating a PDF based on its size.\r\n     * This method gets the next visible View.\r\n     *\r\n     * @param view The invisible view\r\n     * @return The next visible view after the given View, or the original view if there&#39;s no more\r\n     * visible views.\r\n     */\r\n    private static View getNextView(View view) {\r\n        if (view.getParent() != null &amp;&amp; (view.getParent() instanceof ViewGroup)) {\r\n            ViewGroup group = (ViewGroup) view.getParent();\r\n            View child;\r\n            boolean getNext = false;\r\n            //Iterate through all views from parent\r\n            for (int i = 0; i &lt; group.getChildCount(); i++) {\r\n                child = group.getChildAt(i);\r\n                if (getNext) {\r\n                    //Make sure the view is visible, else iterate again until we find a visible view\r\n                    if (child.getVisibility() == View.VISIBLE) {\r\n                        Log.d(TAG, String.format(Locale.ENGLISH, &quot;CHILD: %s : %s&quot;, child.getClass().getSimpleName(), child.getId()));\r\n                        view = child;\r\n                    }\r\n                }\r\n                //Iterate until we find out current view,\r\n                // then we want to get the NEXT view\r\n                if (child.getId() == view.getId()) {\r\n                    getNext = true;\r\n                }\r\n            }\r\n        }\r\n        return view;\r\n    }\r\n\r\n","title":"Take a screenshot of RecyclerView in FULL length","body":"<p>I wrote a method to get a screenshot of a few different views:</p>\n\n<pre><code>private static Bitmap getBitmapFromView(View view) {\n    if (view.getVisibility() != View.VISIBLE) {\n        view = getNextView(view);\n        Log.d(TAG, \"New view id: \" + view.getId());\n    }\n    //Define a bitmap with the same size as the view\n    Bitmap returnedBitmap;\n    if (view instanceof ScrollView) {\n        returnedBitmap = Bitmap.createBitmap(((ViewGroup) view).getChildAt(0).getWidth(), ((ViewGroup) view).getChildAt(0).getHeight(), Bitmap.Config.ARGB_8888);\n    } else if (view instanceof RecyclerView) {\n        view.measure(\n                View.MeasureSpec.makeMeasureSpec(view.getWidth(), View.MeasureSpec.EXACTLY),\n                View.MeasureSpec.makeMeasureSpec(0, View.MeasureSpec.UNSPECIFIED));\n\n        returnedBitmap = Bitmap.createBitmap(view.getWidth(), view.getMeasuredHeight(), Bitmap.Config.ARGB_8888);\n    } else {\n        returnedBitmap = Bitmap.createBitmap(view.getWidth(), view.getHeight(), Bitmap.Config.ARGB_8888);\n    }\n\n    //Bind a canvas to it\n    Canvas canvas = new Canvas(returnedBitmap);\n    //Get the view's background\n    Drawable bgDrawable = view.getBackground();\n    if (bgDrawable != null) {\n        //has background drawable, then draw it on the canvas\n        bgDrawable.draw(canvas);\n    } else {\n        //does not have background drawable, then draw white background on the canvas\n        canvas.drawColor(Color.WHITE);\n    }\n    // draw the view on the canvas\n    view.draw(canvas);\n    //return the bitmap\n    return returnedBitmap;\n}\n\n/**\n * If the base view is not visible, then it has no width or height.\n * This causes a problem when we are creating a PDF based on its size.\n * This method gets the next visible View.\n *\n * @param view The invisible view\n * @return The next visible view after the given View, or the original view if there's no more\n * visible views.\n */\nprivate static View getNextView(View view) {\n    if (view.getParent() != null &amp;&amp; (view.getParent() instanceof ViewGroup)) {\n        ViewGroup group = (ViewGroup) view.getParent();\n        View child;\n        boolean getNext = false;\n        //Iterate through all views from parent\n        for (int i = 0; i &lt; group.getChildCount(); i++) {\n            child = group.getChildAt(i);\n            if (getNext) {\n                //Make sure the view is visible, else iterate again until we find a visible view\n                if (child.getVisibility() == View.VISIBLE) {\n                    Log.d(TAG, String.format(Locale.ENGLISH, \"CHILD: %s : %s\", child.getClass().getSimpleName(), child.getId()));\n                    view = child;\n                }\n            }\n            //Iterate until we find out current view,\n            // then we want to get the NEXT view\n            if (child.getId() == view.getId()) {\n                getNext = true;\n            }\n        }\n    }\n    return view;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9269706,"reputation":1518,"user_id":6884103,"display_name":"Momen Zaqout"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1600797731,"creation_date":1600703755,"answer_id":63995858,"question_id":30085063,"body_markdown":"**The best solution I found is**\r\n\r\n 1. create a new NestedScrollView\r\n 2. add it to recyclerview&#39;s parent\r\n 3. remove recyclerview from its parent &quot;it&#39;s important to add it to a new parent&quot;\r\n 4. add recyclerview to nestedscrollview\r\n 5. take screenshot of nestedscrollview\r\n 6. add recyclerview to its main parent.\r\n\r\n\r\n\r\n\r\n\r\n         nestedScreenShot = new NestedScrollView(getContext());\r\n       \r\n         constraintLayout.removeView(recyclerView);\r\n         \r\n         ConstraintLayout.LayoutParams params =new \r\n    \r\n         Constraints.LayoutParams(viewGroup.LayoutParams.MATCH_PARENT,\r\n    \r\n         ViewGroup.LayoutParams.MATCH_PARENT);\r\n          \r\n         nestedScreenShot.setLayoutParams(params);\r\n         \r\n        Drawable scrollBackground = scrollView.getBackground();\r\n        if (scrollBackground != null) {\r\n            tempNestedScreenShot.setBackground(scrollBackground);\r\n        }\r\n        tempNestedScreenShot.setPadding(scrollView.getLeft(), \r\n        scrollView.getTop(), scrollView.getRight(), scrollView.getBottom());\r\n\r\n         constraintLayout.addView(nestedScreenShot);\r\n          \r\n         nestedScreenShot.addView(recyclerView, params);\r\n        \r\n         new Handler().postDelayed(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n    \r\n                    nestedScreenShot.removeView(recyclerView);\r\n                    constraintLayout.removeView(nestedScreenShot);\r\n                    nestedScreenShot = null;\r\n                    constraintLayout.addView(recyclerView, params);\r\n    \r\n    \r\n                }\r\n                }, 8000);\r\n          takescreenshotOfNested(nestedScreenShot);\r\n    \r\n\r\n   \r\nThis method will return screenshot of nestedscrollview\r\n         \r\n                \r\n                \r\n           private Bitmap takescreenshotOfNested(View u) {\r\n            \r\n            NestedScrollView viewNested = null;\r\n                \r\n            ScrollView viewScroll = null;\r\n                  \r\n            if (u instanceof NestedScrollView) {\r\n                     \r\n           \r\n            viewNested = (NestedScrollView) u;\r\n                 \r\n         \r\n           } else if (u instanceof ScrollView) {\r\n                  \r\n          \r\n             viewScroll = (ScrollView) u;\r\n                \r\n           }\r\n                \r\n                    Bitmap bitmap;\r\n                    if (viewNested != null) {\r\n                        viewNested.setDrawingCacheEnabled(false);\r\n                        viewNested.invalidate();\r\n                        viewNested.getChildAt(0).setDrawingCacheEnabled(false);\r\n                        viewNested.getChildAt(0).invalidate();\r\n                \r\n                        bitmap = Bitmap.createBitmap(viewNested.getChildAt(0).getWidth(),\r\n                                viewNested.getChildAt(0).getHeight() + 8, Bitmap.Config.ARGB_8888);\r\n                        Canvas canvas = new Canvas(bitmap);\r\n                        canvas.drawColor(activity.getResources().getColor(R.color.layout_background));\r\n                        viewNested.draw(canvas);\r\n                    } else {\r\n                \r\n                        try {\r\n                \r\n                            viewScroll.setDrawingCacheEnabled(false);\r\n                            viewScroll.invalidate();\r\n                        } catch (Exception ignored) {\r\n                        }\r\n                        viewScroll.getChildAt(0).setDrawingCacheEnabled(false);\r\n                        viewScroll.getChildAt(0).invalidate();\r\n                \r\n                        bitmap = Bitmap.createBitmap(viewScroll.getChildAt(0).getWidth(),\r\n                                viewScroll.getChildAt(0).getHeight() + 8, Bitmap.Config.ARGB_8888);\r\n                        Canvas canvas = new Canvas(bitmap);\r\n                        canvas.drawColor(activity.getResources().getColor(R.color.layout_background));\r\n                        viewScroll.draw(canvas);\r\n                \r\n                    }\r\n                    return bitmap;\r\n                \r\n                }\r\n\r\n\r\n&gt; don&#39;t forget to recycle the bitmap after using it","title":"Take a screenshot of RecyclerView in FULL length","body":"<p><strong>The best solution I found is</strong></p>\n<ol>\n<li><p>create a new NestedScrollView</p>\n</li>\n<li><p>add it to recyclerview's parent</p>\n</li>\n<li><p>remove recyclerview from its parent &quot;it's important to add it to a new parent&quot;</p>\n</li>\n<li><p>add recyclerview to nestedscrollview</p>\n</li>\n<li><p>take screenshot of nestedscrollview</p>\n</li>\n<li><p>add recyclerview to its main parent.</p>\n<pre><code> nestedScreenShot = new NestedScrollView(getContext());\n\n constraintLayout.removeView(recyclerView);\n\n ConstraintLayout.LayoutParams params =new \n\n Constraints.LayoutParams(viewGroup.LayoutParams.MATCH_PARENT,\n\n ViewGroup.LayoutParams.MATCH_PARENT);\n\n nestedScreenShot.setLayoutParams(params);\n\nDrawable scrollBackground = scrollView.getBackground();\nif (scrollBackground != null) {\n    tempNestedScreenShot.setBackground(scrollBackground);\n}\ntempNestedScreenShot.setPadding(scrollView.getLeft(), \nscrollView.getTop(), scrollView.getRight(), scrollView.getBottom());\n\n constraintLayout.addView(nestedScreenShot);\n\n nestedScreenShot.addView(recyclerView, params);\n\n new Handler().postDelayed(new Runnable() {\n        @Override\n        public void run() {\n\n            nestedScreenShot.removeView(recyclerView);\n            constraintLayout.removeView(nestedScreenShot);\n            nestedScreenShot = null;\n            constraintLayout.addView(recyclerView, params);\n\n\n        }\n        }, 8000);\n  takescreenshotOfNested(nestedScreenShot);\n</code></pre>\n</li>\n</ol>\n<p>This method will return screenshot of nestedscrollview</p>\n<pre><code>       private Bitmap takescreenshotOfNested(View u) {\n        \n        NestedScrollView viewNested = null;\n            \n        ScrollView viewScroll = null;\n              \n        if (u instanceof NestedScrollView) {\n                 \n       \n        viewNested = (NestedScrollView) u;\n             \n     \n       } else if (u instanceof ScrollView) {\n              \n      \n         viewScroll = (ScrollView) u;\n            \n       }\n            \n                Bitmap bitmap;\n                if (viewNested != null) {\n                    viewNested.setDrawingCacheEnabled(false);\n                    viewNested.invalidate();\n                    viewNested.getChildAt(0).setDrawingCacheEnabled(false);\n                    viewNested.getChildAt(0).invalidate();\n            \n                    bitmap = Bitmap.createBitmap(viewNested.getChildAt(0).getWidth(),\n                            viewNested.getChildAt(0).getHeight() + 8, Bitmap.Config.ARGB_8888);\n                    Canvas canvas = new Canvas(bitmap);\n                    canvas.drawColor(activity.getResources().getColor(R.color.layout_background));\n                    viewNested.draw(canvas);\n                } else {\n            \n                    try {\n            \n                        viewScroll.setDrawingCacheEnabled(false);\n                        viewScroll.invalidate();\n                    } catch (Exception ignored) {\n                    }\n                    viewScroll.getChildAt(0).setDrawingCacheEnabled(false);\n                    viewScroll.getChildAt(0).invalidate();\n            \n                    bitmap = Bitmap.createBitmap(viewScroll.getChildAt(0).getWidth(),\n                            viewScroll.getChildAt(0).getHeight() + 8, Bitmap.Config.ARGB_8888);\n                    Canvas canvas = new Canvas(bitmap);\n                    canvas.drawColor(activity.getResources().getColor(R.color.layout_background));\n                    viewScroll.draw(canvas);\n            \n                }\n                return bitmap;\n            \n            }\n</code></pre>\n<blockquote>\n<p>don't forget to recycle the bitmap after using it</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":9614608,"reputation":11,"user_id":7137846,"display_name":"inabdev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682321588,"creation_date":1682321588,"answer_id":76089557,"question_id":30085063,"body_markdown":"Inspired from Nouman Ch answer, that solution works great, but I am facing background color issue in final image and recyclerView scrolling also not working fine after that. Here is quick fix!\r\n\r\nAfter creating the bitmap from recyclerView\r\n\r\n    presenter?.dataRecyclerView?.let {\r\n                it.measure(\r\n                    View.MeasureSpec.makeMeasureSpec(it.width, View.MeasureSpec.EXACTLY),\r\n                    View.MeasureSpec.makeMeasureSpec(0, View.MeasureSpec.UNSPECIFIED)\r\n                );\r\n    \r\n                var bm = Bitmap.createBitmap(\r\n                    it.width,\r\n                    it.measuredHeight,\r\n                    Bitmap.Config.ARGB_8888\r\n                )\r\n                it.draw(Canvas(bm))\r\n    \r\n    //to fix background color of final image\r\n                val newBitmap = Bitmap.createBitmap(bm.width, bm.height, bm.config)\r\n                val canvas = Canvas(newBitmap)\r\n                canvas.drawColor(Color.WHITE)\r\n                canvas.drawBitmap(bm, 0f, 0f, null)\r\n                bm = newBitmap\r\n    \r\n                saveBitmapeToGallery(bm)\r\n    //notify adapter, to fix scrolling\r\n                it.adapter?.notifyDataSetChanged()\r\n            }\r\n\r\n","title":"Take a screenshot of RecyclerView in FULL length","body":"<p>Inspired from Nouman Ch answer, that solution works great, but I am facing background color issue in final image and recyclerView scrolling also not working fine after that. Here is quick fix!</p>\n<p>After creating the bitmap from recyclerView</p>\n<pre><code>presenter?.dataRecyclerView?.let {\n            it.measure(\n                View.MeasureSpec.makeMeasureSpec(it.width, View.MeasureSpec.EXACTLY),\n                View.MeasureSpec.makeMeasureSpec(0, View.MeasureSpec.UNSPECIFIED)\n            );\n\n            var bm = Bitmap.createBitmap(\n                it.width,\n                it.measuredHeight,\n                Bitmap.Config.ARGB_8888\n            )\n            it.draw(Canvas(bm))\n\n//to fix background color of final image\n            val newBitmap = Bitmap.createBitmap(bm.width, bm.height, bm.config)\n            val canvas = Canvas(newBitmap)\n            canvas.drawColor(Color.WHITE)\n            canvas.drawBitmap(bm, 0f, 0f, null)\n            bm = newBitmap\n\n            saveBitmapeToGallery(bm)\n//notify adapter, to fix scrolling\n            it.adapter?.notifyDataSetChanged()\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4546280,"reputation":1606,"user_id":3692788,"accept_rate":67,"display_name":"JCarlosR"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696397657,"creation_date":1696397657,"answer_id":77226973,"question_id":30085063,"body_markdown":"This class generates a `Bitmap` for a `LinearLayout` containing views and a `RecyclerView`.\r\n\r\nThis is based on Prasham&#39;s answer, but refactored to **Kotlin** and descriptive methods to make it *easier to understand*.\r\n\r\n```\r\nimport android.graphics.Bitmap\r\nimport android.graphics.Canvas\r\nimport android.graphics.Color\r\nimport android.graphics.Paint\r\nimport android.util.LruCache\r\nimport android.view.View\r\nimport androidx.appcompat.widget.LinearLayoutCompat\r\nimport androidx.core.view.children\r\nimport androidx.recyclerview.widget.RecyclerView\r\n\r\nclass BitmapComposer {\r\n\r\n    private val maxMemory by lazy {\r\n        (Runtime.getRuntime().maxMemory() / 1024).toInt()\r\n    }\r\n\r\n    // Use 1/7 of the available memory for this memory cache\r\n    private val cacheSize by lazy {\r\n        maxMemory / 7\r\n    }\r\n\r\n    private val bitmapCache: LruCache&lt;Int, Bitmap&gt; by lazy {\r\n        LruCache(cacheSize)\r\n    }\r\n\r\n    // Increments each time something gets added to the LruCache\r\n    private var cacheIndex = 0\r\n\r\n    // Accumulated height to be used as the total\r\n    private var bigHeight = 0\r\n\r\n    fun getViewAsBitmap(view: View): Bitmap {\r\n        if (view is LinearLayoutCompat) {\r\n            view.children.forEach {\r\n                addViewToBitmapCache(it)\r\n            }\r\n        } else if (view is RecyclerView) {\r\n            addRecyclerViewToBitmapCache(view)\r\n        }\r\n\r\n        return drawBigBitmap(view)\r\n    }\r\n\r\n    private fun drawBigBitmap(view: View): Bitmap {\r\n        val bigBitmap = Bitmap.createBitmap(\r\n            view.measuredWidth,\r\n            bigHeight,\r\n            Bitmap.Config.ARGB_8888\r\n        )\r\n\r\n        val bigCanvas = Canvas(bigBitmap)\r\n        bigCanvas.drawColor(Color.WHITE)\r\n\r\n        val paint = Paint()\r\n        var top = 0\r\n\r\n        for (i in 0 until bitmapCache.size()) {\r\n            val bitmap: Bitmap = bitmapCache.get(i)\r\n            bigCanvas.drawBitmap(\r\n                bitmap,\r\n                0f, // left\r\n                top.toFloat(), // top\r\n                paint\r\n            )\r\n\r\n            top += bitmap.height\r\n            bitmap.recycle()\r\n        }\r\n\r\n        return bigBitmap\r\n    }\r\n\r\n    private fun addRecyclerViewToBitmapCache(view: RecyclerView) {\r\n        val adapter = view.adapter ?: throw Exception(&quot;No adapter found&quot;)\r\n        val size = adapter.itemCount\r\n\r\n        for (i in 0 until size) {\r\n            val itemView = getItemView(view, adapter, i)\r\n            addViewToBitmapCache(itemView)\r\n        }\r\n    }\r\n\r\n    private fun addViewToBitmapCache(view: View) {\r\n        if (view is RecyclerView) {\r\n            addRecyclerViewToBitmapCache(view)\r\n            return\r\n        }\r\n\r\n        val drawingCache = Bitmap.createBitmap(\r\n            view.width,\r\n            view.height,\r\n            Bitmap.Config.RGB_565\r\n        )\r\n\r\n        val canvas = Canvas(drawingCache)\r\n        canvas.drawColor(Color.WHITE)\r\n\r\n        view.draw(canvas)\r\n        bitmapCache.put(cacheIndex++, drawingCache)\r\n        bigHeight += view.measuredHeight\r\n    }\r\n\r\n    private fun getItemView(\r\n        view: RecyclerView,\r\n        adapter: RecyclerView.Adapter&lt;RecyclerView.ViewHolder&gt;,\r\n        i: Int\r\n    ): View {\r\n        val holder = adapter.createViewHolder(view, adapter.getItemViewType(i))\r\n        adapter.onBindViewHolder(holder, i)\r\n\r\n        holder.itemView.measure(\r\n            View.MeasureSpec.makeMeasureSpec(view.width, View.MeasureSpec.EXACTLY),\r\n            View.MeasureSpec.makeMeasureSpec(0, View.MeasureSpec.UNSPECIFIED)\r\n        )\r\n\r\n        holder.itemView.layout(\r\n            0,\r\n            0,\r\n            holder.itemView.measuredWidth,\r\n            holder.itemView.measuredHeight\r\n        )\r\n\r\n        return holder.itemView\r\n    }\r\n}\r\n```\r\n\r\n**How to use it?** \r\n\r\nSimply pass a view (it can be a `LinearLayoutCompat` or a `RecyclerView`).\r\n\r\n```\r\nval composer = BitmapComposer()\r\nval bitmap = composer.getViewAsBitmap(view)\r\n```\r\n\r\nNotes:\r\n- In order to **center elements** (e.g. `TextView`s), I used `android:layout_width=&quot;match_parent&quot;` and `android:gravity=&quot;center&quot;` as a workaround.\r\n- I haven&#39;t tested with other `ViewGroup`s, but works fine for a `LinearLayout` containing a `RecyclerView` and other simple views.","title":"Take a screenshot of RecyclerView in FULL length","body":"<p>This class generates a <code>Bitmap</code> for a <code>LinearLayout</code> containing views and a <code>RecyclerView</code>.</p>\n<p>This is based on Prasham's answer, but refactored to <strong>Kotlin</strong> and descriptive methods to make it <em>easier to understand</em>.</p>\n<pre><code>import android.graphics.Bitmap\nimport android.graphics.Canvas\nimport android.graphics.Color\nimport android.graphics.Paint\nimport android.util.LruCache\nimport android.view.View\nimport androidx.appcompat.widget.LinearLayoutCompat\nimport androidx.core.view.children\nimport androidx.recyclerview.widget.RecyclerView\n\nclass BitmapComposer {\n\n    private val maxMemory by lazy {\n        (Runtime.getRuntime().maxMemory() / 1024).toInt()\n    }\n\n    // Use 1/7 of the available memory for this memory cache\n    private val cacheSize by lazy {\n        maxMemory / 7\n    }\n\n    private val bitmapCache: LruCache&lt;Int, Bitmap&gt; by lazy {\n        LruCache(cacheSize)\n    }\n\n    // Increments each time something gets added to the LruCache\n    private var cacheIndex = 0\n\n    // Accumulated height to be used as the total\n    private var bigHeight = 0\n\n    fun getViewAsBitmap(view: View): Bitmap {\n        if (view is LinearLayoutCompat) {\n            view.children.forEach {\n                addViewToBitmapCache(it)\n            }\n        } else if (view is RecyclerView) {\n            addRecyclerViewToBitmapCache(view)\n        }\n\n        return drawBigBitmap(view)\n    }\n\n    private fun drawBigBitmap(view: View): Bitmap {\n        val bigBitmap = Bitmap.createBitmap(\n            view.measuredWidth,\n            bigHeight,\n            Bitmap.Config.ARGB_8888\n        )\n\n        val bigCanvas = Canvas(bigBitmap)\n        bigCanvas.drawColor(Color.WHITE)\n\n        val paint = Paint()\n        var top = 0\n\n        for (i in 0 until bitmapCache.size()) {\n            val bitmap: Bitmap = bitmapCache.get(i)\n            bigCanvas.drawBitmap(\n                bitmap,\n                0f, // left\n                top.toFloat(), // top\n                paint\n            )\n\n            top += bitmap.height\n            bitmap.recycle()\n        }\n\n        return bigBitmap\n    }\n\n    private fun addRecyclerViewToBitmapCache(view: RecyclerView) {\n        val adapter = view.adapter ?: throw Exception(&quot;No adapter found&quot;)\n        val size = adapter.itemCount\n\n        for (i in 0 until size) {\n            val itemView = getItemView(view, adapter, i)\n            addViewToBitmapCache(itemView)\n        }\n    }\n\n    private fun addViewToBitmapCache(view: View) {\n        if (view is RecyclerView) {\n            addRecyclerViewToBitmapCache(view)\n            return\n        }\n\n        val drawingCache = Bitmap.createBitmap(\n            view.width,\n            view.height,\n            Bitmap.Config.RGB_565\n        )\n\n        val canvas = Canvas(drawingCache)\n        canvas.drawColor(Color.WHITE)\n\n        view.draw(canvas)\n        bitmapCache.put(cacheIndex++, drawingCache)\n        bigHeight += view.measuredHeight\n    }\n\n    private fun getItemView(\n        view: RecyclerView,\n        adapter: RecyclerView.Adapter&lt;RecyclerView.ViewHolder&gt;,\n        i: Int\n    ): View {\n        val holder = adapter.createViewHolder(view, adapter.getItemViewType(i))\n        adapter.onBindViewHolder(holder, i)\n\n        holder.itemView.measure(\n            View.MeasureSpec.makeMeasureSpec(view.width, View.MeasureSpec.EXACTLY),\n            View.MeasureSpec.makeMeasureSpec(0, View.MeasureSpec.UNSPECIFIED)\n        )\n\n        holder.itemView.layout(\n            0,\n            0,\n            holder.itemView.measuredWidth,\n            holder.itemView.measuredHeight\n        )\n\n        return holder.itemView\n    }\n}\n</code></pre>\n<p><strong>How to use it?</strong></p>\n<p>Simply pass a view (it can be a <code>LinearLayoutCompat</code> or a <code>RecyclerView</code>).</p>\n<pre><code>val composer = BitmapComposer()\nval bitmap = composer.getViewAsBitmap(view)\n</code></pre>\n<p>Notes:</p>\n<ul>\n<li>In order to <strong>center elements</strong> (e.g. <code>TextView</code>s), I used <code>android:layout_width=&quot;match_parent&quot;</code> and <code>android:gravity=&quot;center&quot;</code> as a workaround.</li>\n<li>I haven't tested with other <code>ViewGroup</code>s, but works fine for a <code>LinearLayout</code> containing a <code>RecyclerView</code> and other simple views.</li>\n</ul>\n"}],"owner":{"account_id":181954,"reputation":1137,"user_id":416319,"accept_rate":100,"display_name":"davis"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11624,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":31017673,"answer_count":7,"score":12,"last_activity_date":1696397657,"creation_date":1430937825,"question_id":30085063,"body_markdown":"I want to get a &quot;full page&quot; screenshot of the activity. The view contains a RecyclerView with many items.\r\n\r\nI can take a screenshot of the current view with this function:\r\n\r\n    public Bitmap getScreenBitmap() {\r\n        View v= findViewById(R.id.container).getRootView();\r\n        v.setDrawingCacheEnabled(true);\r\n        v.buildDrawingCache(true);\r\n        Bitmap b = Bitmap.createBitmap(v.getDrawingCache());\r\n        v.setDrawingCacheEnabled(false); // clear drawing cache\r\n        return b;\r\n    }\r\n\r\nBut it contains only the items I can view normally (as expected).\r\n\r\n**Is there some way to make the RecyclerView magically show in full length (display all items at once) when I take the screenshot?**\r\n\r\nIf not, how should I approach this problem?","title":"Take a screenshot of RecyclerView in FULL length","body":"<p>I want to get a \"full page\" screenshot of the activity. The view contains a RecyclerView with many items.</p>\n\n<p>I can take a screenshot of the current view with this function:</p>\n\n<pre><code>public Bitmap getScreenBitmap() {\n    View v= findViewById(R.id.container).getRootView();\n    v.setDrawingCacheEnabled(true);\n    v.buildDrawingCache(true);\n    Bitmap b = Bitmap.createBitmap(v.getDrawingCache());\n    v.setDrawingCacheEnabled(false); // clear drawing cache\n    return b;\n}\n</code></pre>\n\n<p>But it contains only the items I can view normally (as expected).</p>\n\n<p><strong>Is there some way to make the RecyclerView magically show in full length (display all items at once) when I take the screenshot?</strong></p>\n\n<p>If not, how should I approach this problem?</p>\n"},{"tags":["java","android","flutter","react-native"],"answers":[{"tags":[],"owner":{"account_id":13388424,"reputation":277,"user_id":9661508,"display_name":"Oluwatosin Solarin"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1667117728,"creation_date":1667117728,"answer_id":74251460,"question_id":74251459,"body_markdown":"For me what worked was to uninstall all manually installed java versions I mean java installations via installer, or let&#39;s say uninstall all java installations at `/Library/Java/JavaVirtualMachines/`.\r\n\r\n 1. run `/usr/libexec/java_home -v 1.8.0_06 --exec javac -version` to see all currently installed java versions.\r\n 2. run `sudo rm -rf /Library/Java/JavaVirtualMachines/jdk&lt;version&gt;.jdk` on each of the jdk versions.\r\n 3. Check the JDK location in Android Studio, you can find that under `Android Studio &gt; Preferences &gt; Build, Execution, Deployment &gt; Build Tools &gt; Gradle` make sure whatever JDK is selected is at the location `/Applications/Android Studio.app/Contents/jre/Contents/Home`, this is Android Studio&#39;s downloaded JDK location, if you can&#39;t find the JDK you want to use in the dropdown of downloaded JDKs, use the download JDK button in the dropdown. \r\n 4. try running the application again it should now use the JDK set by android studio. ","title":"Unable to make field private final java.lang.String ljava.io.File.path","body":"<p>For me what worked was to uninstall all manually installed java versions I mean java installations via installer, or let's say uninstall all java installations at <code>/Library/Java/JavaVirtualMachines/</code>.</p>\n<ol>\n<li>run <code>/usr/libexec/java_home -v 1.8.0_06 --exec javac -version</code> to see all currently installed java versions.</li>\n<li>run <code>sudo rm -rf /Library/Java/JavaVirtualMachines/jdk&lt;version&gt;.jdk</code> on each of the jdk versions.</li>\n<li>Check the JDK location in Android Studio, you can find that under <code>Android Studio &gt; Preferences &gt; Build, Execution, Deployment &gt; Build Tools &gt; Gradle</code> make sure whatever JDK is selected is at the location <code>/Applications/Android Studio.app/Contents/jre/Contents/Home</code>, this is Android Studio's downloaded JDK location, if you can't find the JDK you want to use in the dropdown of downloaded JDKs, use the download JDK button in the dropdown.</li>\n<li>try running the application again it should now use the JDK set by android studio.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":21352289,"reputation":458,"user_id":15721679,"display_name":"Abdeldjalil Chougui"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695487749,"creation_date":1695487749,"answer_id":77164037,"question_id":74251459,"body_markdown":"If you are working with flutter, I just figured out the solution \r\nAll I did is to add\r\n\r\n    org.gradle.jvmargs=--add-opens java.base/java.io=ALL-UNNAMED\r\n\r\nto the `gradle.properties` file\r\n\r\nSee this link : [How to solve InaccessibleObjectException (&quot;Unable to make {member} accessible: module {A} does not &#39;opens {package}&#39; to {B}&quot;) on Java 9?][1] \r\n\r\n\r\n  [1]: https://stackoverflow.com/a/76207178/15721679","title":"Unable to make field private final java.lang.String ljava.io.File.path","body":"<p>If you are working with flutter, I just figured out the solution\nAll I did is to add</p>\n<pre><code>org.gradle.jvmargs=--add-opens java.base/java.io=ALL-UNNAMED\n</code></pre>\n<p>to the <code>gradle.properties</code> file</p>\n<p>See this link : <a href=\"https://stackoverflow.com/a/76207178/15721679\">How to solve InaccessibleObjectException (&quot;Unable to make {member} accessible: module {A} does not 'opens {package}' to {B}&quot;) on Java 9?</a></p>\n"},{"tags":[],"owner":{"account_id":29593538,"reputation":11,"user_id":22680527,"display_name":"Vedant Dhumane"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696397305,"creation_date":1696397305,"answer_id":77226946,"question_id":74251459,"body_markdown":"If you are working with Android(Java),try lowering the JDK version to 11 or 8(JDK 1.8)","title":"Unable to make field private final java.lang.String ljava.io.File.path","body":"<p>If you are working with Android(Java),try lowering the JDK version to 11 or 8(JDK 1.8)</p>\n"}],"owner":{"account_id":13388424,"reputation":277,"user_id":9661508,"display_name":"Oluwatosin Solarin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11411,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":3,"score":0,"last_activity_date":1696397305,"creation_date":1667117728,"question_id":74251459,"body_markdown":"[Unable to make field private final java.lang.String java.io.File.path accessible: module java.base does not &quot;opens java.io&quot; to unnamed module @fb04536]","title":"Unable to make field private final java.lang.String ljava.io.File.path","body":"<p>[Unable to make field private final java.lang.String java.io.File.path accessible: module java.base does not &quot;opens java.io&quot; to unnamed module @fb04536]</p>\n"},{"tags":["java","android","android-studio","android-layout"],"comments":[{"owner":{"account_id":24885,"reputation":30822,"user_id":63550,"accept_rate":78,"display_name":"Peter Mortensen"},"score":0,"creation_date":1676468852,"post_id":75373490,"comment_id":133142357,"body_markdown":"That is a long stack dump: 89 calls deep. Is that normal?","body":"That is a long stack dump: 89 calls deep. Is that normal?"},{"owner":{"account_id":24885,"reputation":30822,"user_id":63550,"accept_rate":78,"display_name":"Peter Mortensen"},"score":0,"creation_date":1676469094,"post_id":75373490,"comment_id":133142440,"body_markdown":"What version of Android Studio?","body":"What version of Android Studio?"},{"owner":{"account_id":24885,"reputation":30822,"user_id":63550,"accept_rate":78,"display_name":"Peter Mortensen"},"score":0,"creation_date":1676469363,"post_id":75373490,"comment_id":133142544,"body_markdown":"Is there some implicit infinite recursion in your data?","body":"Is there some implicit infinite recursion in your data?"},{"owner":{"account_id":6255346,"reputation":44,"user_id":5437295,"display_name":"Dimitris Katikaridis"},"score":0,"creation_date":1676631770,"post_id":75373490,"comment_id":133180696,"body_markdown":"i honestly do not know why this stack dump is long...\nI tested it on both latest stable and canary builds\n\nrecursion in my XML? do u see something like this? i dont think so i do :/","body":"i honestly do not know why this stack dump is long... I tested it on both latest stable and canary builds  recursion in my XML? do u see something like this? i dont think so i do :/"}],"answers":[{"tags":[],"owner":{"account_id":10780313,"reputation":192,"user_id":7931023,"display_name":"Ashfaque"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676008144,"creation_date":1676008144,"answer_id":75407391,"question_id":75373490,"body_markdown":"    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;LinearLayout\r\n\t\txmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        style=&quot;@style/AppTheme.FragmentBackground.XXXX.Parent&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n\t\tandroid:orientation=&quot;vertical&quot;&gt;\r\n    \r\n        &lt;include\r\n            android:id=&quot;@+id/appbar&quot;\r\n            layout=&quot;@layout/layout_appbar&quot; /&gt;\r\n    \r\n  \r\n        &lt;LinearLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n\t\t\tandroid:layout_marginBottom=&quot;10dp&quot;&gt;\r\n       &lt;/LinearLayout&gt;\r\n&lt;/LinearLayout&gt;","title":"NestedScrollView breaks suggestions in Android Studio","body":"<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    style=&quot;@style/AppTheme.FragmentBackground.XXXX.Parent&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:orientation=&quot;vertical&quot;&gt;\n\n    &lt;include\n        android:id=&quot;@+id/appbar&quot;\n        layout=&quot;@layout/layout_appbar&quot; /&gt;\n\n\n    &lt;LinearLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginBottom=&quot;10dp&quot;&gt;\n   &lt;/LinearLayout&gt;\n</code></pre>\n\n"},{"tags":[],"owner":{"account_id":26373002,"reputation":26,"user_id":20027397,"display_name":"Ankit Kumar Sen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696397210,"creation_date":1676167162,"answer_id":75424481,"question_id":75373490,"body_markdown":"You can try using Ctrl + Space to trigger suggestions within a NestedScrollView, as this shortcut should work both inside and outside of it. Also, make sure you&#39;re using the latest Android Studio version and attempt to resolve the issue by cleaning, rebuilding, and syncing your project, as these steps often help address problems within Android Studio.","title":"NestedScrollView breaks suggestions in Android Studio","body":"<p>You can try using Ctrl + Space to trigger suggestions within a NestedScrollView, as this shortcut should work both inside and outside of it. Also, make sure you're using the latest Android Studio version and attempt to resolve the issue by cleaning, rebuilding, and syncing your project, as these steps often help address problems within Android Studio.</p>\n"}],"owner":{"account_id":6255346,"reputation":44,"user_id":5437295,"display_name":"Dimitris Katikaridis"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1696397210,"creation_date":1675773490,"question_id":75373490,"body_markdown":"Here is the strange behavior. I have this layout:\r\n\r\n```lang-xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    style=&quot;@style/AppTheme.FragmentBackground.XXXX.Parent&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;&gt;\r\n\r\n    &lt;include\r\n        android:id=&quot;@+id/appbar&quot;\r\n        layout=&quot;@layout/layout_appbar&quot; /&gt;\r\n\r\n    &lt;LinearLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;&gt;\r\n   &lt;/LinearLayout&gt;\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```\r\n\r\nSo far, everything seems perfect. Although, if I replace the LinearLayout with a NestedScrollView, all of a sudden, the suggestions just do not work! If I remove the nested scrollview, everything seems to work again. Here are my gradle dependencies:\r\n\r\n&gt;     implementation &#39;androidx.appcompat:appcompat:1.6.0&#39;\r\n&gt;     implementation &#39;androidx.appcompat:appcompat-resources:1.6.0&#39;\r\n&gt;     implementation &#39;androidx.core:core:1.9.0&#39;\r\n&gt;     implementation &#39;androidx.constraintlayout:constraintlayout:2.1.4&#39;\r\n&gt;\r\n&gt;     implementation &#39;androidx.navigation:navigation-fragment:2.5.3&#39;\r\n&gt;     implementation &#39;androidx.navigation:navigation-ui:2.5.3&#39;\r\n&gt;     implementation &#39;com.android.support:support-annotations:28.0.0&#39;\r\n&gt;     implementation &#39;com.squareup.okhttp3:okhttp:5.0.0-alpha.5&#39;\r\n&gt;     implementation &#39;com.google.android.gms:play-services-location:21.0.1&#39;\r\n&gt;     implementation &#39;com.squareup.picasso:picasso:2.71828&#39;\r\n&gt;     implementation &#39;androidx.preference:preference:1.2.0&#39;\r\n&gt;     implementation &#39;org.apache.commons:commons-io:1.3.2&#39;\r\n&gt;     implementation &#39;androidx.fragment:fragment:1.5.5&#39; //  Forecast Charts\r\n&gt;     implementation &#39;com.github.PhilJay:MPAndroidChart:v3.1.0&#39; //  maps v2\r\n&gt;     implementation &#39;androidx.asynclayoutinflater:asynclayoutinflater:1.0.0&#39;\r\n&gt;     implementation &#39;com.google.android.gms:play-services-maps:18.1.0&#39;\r\n&gt;     implementation &#39;com.google.maps.android:android-maps-utils:2.4.0&#39;\r\n&gt;     // needed for timestamps manip\r\n&gt;     implementation &#39;net.danlew:android.joda:2.11.2&#39;\r\n&gt;\r\n&gt;     implementation &quot;androidx.camera:camera-camera2:1.2.1&quot;\r\n&gt;     implementation &quot;androidx.camera:camera-lifecycle:1.2.1&quot;\r\n&gt;     implementation &quot;androidx.camera:camera-view:1.2.1&quot;\r\n&gt;\r\n&gt;     implementation &#39;com.google.android.gms:play-services-mlkit-barcode-scanning:18.1.0&#39;\r\n&gt;     //implementation &#39;com.google.mlkit:barcode-scanning:17.0.2&#39;\r\n&gt;\r\n&gt;     implementation &#39;androidx.window:window:1.0.0&#39;\r\n\r\nwhile my gradle is gradle-7.5-bin.zip and my plugins are\r\n\r\n```lang-none\r\nplugins {\r\n     id &#39;com.android.application&#39; version &#39;7.4.1&#39; apply false\r\n     id &#39;com.android.library&#39; version &#39;7.4.1&#39; apply false\r\n     id &#39;com.google.android.libraries.mapsplatform.secrets-gradle-plugin&#39;\r\nversion &#39;2.0.1&#39; apply false }\r\n```\r\n\r\n[![Enter image description here][1]][1]\r\n\r\n[![Enter image description here][2]][2]\r\n\r\nAlso a popup of broken IDE is appeared and here is the log:\r\n\r\n```lang-none\r\njava.lang.NullPointerException\r\nat org.jetbrains.android.dom.AttributeProcessingUtil.registerAttributesForClassAndSuperclasses(AttributeProcessingUtil.java:315)\r\nat org.jetbrains.android.dom.AttributeProcessingUtil.processLayoutAttributes(AttributeProcessingUtil.java:604)\r\nat org.jetbrains.android.dom.AttributeProcessingUtil.processAttributes(AttributeProcessingUtil.java:681)\r\nat org.jetbrains.android.dom.AndroidDomExtender.registerExtensions(AndroidDomExtender.java:56)\r\nat org.jetbrains.android.dom.AndroidDomExtender.registerExtensions(AndroidDomExtender.java:28)\r\nat com.intellij.util.xml.reflect.DomExtenderEP.extend(DomExtenderEP.java:91)\r\nat com.intellij.util.xml.impl.DynamicGenericInfo.runDomExtenders(DynamicGenericInfo.java:124)\r\nat com.intellij.util.xml.impl.DynamicGenericInfo.lambda$checkInitialized$0(DynamicGenericInfo.java:55)\r\nat com.intellij.openapi.util.RecursionManager$1.computePreventingRecursion(RecursionManager.java:114)\r\nat com.intellij.openapi.util.RecursionGuard.doPreventingRecursion(RecursionGuard.java:44)\r\nat com.intellij.openapi.util.RecursionManager.doPreventingRecursion(RecursionManager.java:68)\r\nat com.intellij.util.xml.impl.DynamicGenericInfo.checkInitialized(DynamicGenericInfo.java:54)\r\nat com.intellij.util.xml.impl.DynamicGenericInfo.getAttributeChildrenDescriptions(DynamicGenericInfo.java:231)\r\nat com.intellij.xml.impl.dom.AbstractDomChildrenDescriptor.getAttributeDescriptor(AbstractDomChildrenDescriptor.java:184)\r\nat com.intellij.xml.impl.dom.AbstractDomChildrenDescriptor.getAttributeDescriptor(AbstractDomChildrenDescriptor.java:195)\r\nat org.jetbrains.android.dom.layout.LayoutElementDescriptor.getAttributeDescriptor(LayoutElementDescriptors.kt:124)\r\nat com.intellij.psi.impl.source.xml.XmlAttributeDelegate.getDescriptionImpl(XmlAttributeDelegate.java:68)\r\nat com.intellij.psi.impl.source.xml.XmlAttributeDelegate.lambda$getDescriptor$0(XmlAttributeDelegate.java:55)\r\nat com.intellij.psi.util.CachedValuesManager$1.compute(CachedValuesManager.java:158)\r\nat com.intellij.psi.impl.PsiCachedValueImpl.doCompute(PsiCachedValueImpl.java:39)\r\nat com.intellij.util.CachedValueBase.lambda$getValueWithLock$3(CachedValueBase.java:227)\r\nat com.intellij.util.CachedValueBase.computeData(CachedValueBase.java:42)\r\nat com.intellij.util.CachedValueBase.lambda$getValueWithLock$4(CachedValueBase.java:227)\r\nat com.intellij.openapi.util.RecursionManager$1.computePreventingRecursion(RecursionManager.java:114)\r\nat com.intellij.openapi.util.RecursionGuard.doPreventingRecursion(RecursionGuard.java:44)\r\nat com.intellij.openapi.util.RecursionManager.doPreventingRecursion(RecursionManager.java:68)\r\nat com.intellij.util.CachedValueBase.getValueWithLock(CachedValueBase.java:228)\r\nat com.intellij.psi.impl.PsiCachedValueImpl.getValue(PsiCachedValueImpl.java:28)\r\nat com.intellij.util.CachedValuesManagerImpl.getCachedValue(CachedValuesManagerImpl.java:72)\r\nat com.intellij.psi.util.CachedValuesManager.getCachedValue(CachedValuesManager.java:155)\r\nat com.intellij.psi.util.CachedValuesManager.getCachedValue(CachedValuesManager.java:121)\r\nat com.intellij.psi.impl.source.xml.XmlAttributeDelegate.getDescriptor(XmlAttributeDelegate.java:53)\r\nat com.intellij.psi.impl.source.xml.XmlAttributeImpl.getDescriptor(XmlAttributeImpl.java:191)\r\nat com.intellij.psi.impl.source.xml.XmlAttributeReference$1.compute(XmlAttributeReference.java:23)\r\nat com.intellij.psi.impl.source.xml.XmlAttributeReference$1.compute(XmlAttributeReference.java:20)\r\nat com.intellij.openapi.util.NullableLazyValue.getValue(NullableLazyValue.java:20)\r\nat com.intellij.psi.impl.source.xml.XmlAttributeReference.getDescriptor(XmlAttributeReference.java:110)\r\nat com.intellij.psi.impl.source.xml.XmlAttributeReference.resolve(XmlAttributeReference.java:50)\r\nat com.intellij.codeInsight.TargetElementUtilBase.getReferencedElement(TargetElementUtilBase.java:177)\r\nat com.intellij.codeInsight.TargetElementUtilBase.doGetReferenceOrReferencedElement(TargetElementUtilBase.java:165)\r\nat com.intellij.codeInsight.TargetElementUtilBase.getReferenceOrReferencedElement(TargetElementUtilBase.java:210)\r\nat com.intellij.codeInsight.TargetElementUtilBase.getReferencedElement(TargetElementUtilBase.java:254)\r\nat com.intellij.codeInsight.TargetElementUtilBase.doFindTargetElement(TargetElementUtilBase.java:233)\r\nat com.intellij.codeInsight.TargetElementUtilBase.findTargetElement(TargetElementUtilBase.java:298)\r\nat com.intellij.codeInsight.TargetElementUtil.findTargetElement(TargetElementUtil.java:147)\r\nat com.jetbrains.cidr.lang.psi.impl.OCTargetElementUtil.findTargetElement(OCTargetElementUtil.java:47)\r\nat com.intellij.openapi.fileEditor.impl.text.TextEditorPsiDataProvider.getPsiElementIn(TextEditorPsiDataProvider.java:226)\r\nat com.intellij.openapi.fileEditor.impl.text.TextEditorPsiDataProvider.getSlowData(TextEditorPsiDataProvider.java:139)\r\nat com.intellij.openapi.fileEditor.impl.text.TextEditorPsiDataProvider.lambda$getData$0(TextEditorPsiDataProvider.java:93)\r\nat com.intellij.ide.impl.DataManagerImpl.getSlowData(DataManagerImpl.java:153)\r\nat com.intellij.ide.impl.DataManagerImpl.lambda$getDataRule$2(DataManagerImpl.java:121)\r\nat com.intellij.ide.impl.DataManagerImpl.lambda$getDataRule$4(DataManagerImpl.java:126)\r\nat com.intellij.ide.impl.DataManagerImpl.getDataFromProvider(DataManagerImpl.java:77)\r\nat com.intellij.openapi.actionSystem.impl.PreCachedDataContext.getData(PreCachedDataContext.java:182)\r\nat com.intellij.openapi.actionSystem.impl.PreCachedDataContext$InjectedDataContext.getData(PreCachedDataContext.java:327)\r\nat com.intellij.openapi.actionSystem.DataKey.getData(DataKey.java:63)\r\nat org.jetbrains.android.quickDefinitions.AndroidImplementationViewSessionFactory.createSession(AndroidImplementationViewSession.kt:55)\r\nat com.intellij.codeInsight.hint.actions.ShowRelatedElementsActionBase.performForContext(ShowRelatedElementsActionBase.java:86)\r\nat com.intellij.codeInsight.hint.actions.ShowRelatedElementsActionBase.actionPerformed(ShowRelatedElementsActionBase.java:63)\r\nat com.intellij.openapi.keymap.impl.ActionProcessor.performAction(ActionProcessor.java:65)\r\nat com.intellij.openapi.keymap.impl.IdeKeyEventDispatcher$1.performAction(IdeKeyEventDispatcher.java:579)\r\nat com.intellij.openapi.keymap.impl.IdeKeyEventDispatcher.lambda$doPerformActionInner$10(IdeKeyEventDispatcher.java:704)\r\nat com.intellij.openapi.application.TransactionGuardImpl.performActivity(TransactionGuardImpl.java:106)\r\nat com.intellij.openapi.application.TransactionGuardImpl.performUserActivity(TransactionGuardImpl.java:95)\r\nat com.intellij.openapi.keymap.impl.IdeKeyEventDispatcher.lambda$doPerformActionInner$11(IdeKeyEventDispatcher.java:704)\r\nat com.intellij.openapi.actionSystem.ex.ActionUtil.performDumbAwareWithCallbacks(ActionUtil.java:256)\r\nat com.intellij.openapi.keymap.impl.IdeKeyEventDispatcher.doPerformActionInner(IdeKeyEventDispatcher.java:701)\r\nat com.intellij.openapi.keymap.impl.IdeKeyEventDispatcher.processAction(IdeKeyEventDispatcher.java:645)\r\nat com.intellij.openapi.keymap.impl.IdeKeyEventDispatcher.processAction(IdeKeyEventDispatcher.java:590)\r\nat com.intellij.openapi.keymap.impl.IdeKeyEventDispatcher.processActionOrWaitSecondStroke(IdeKeyEventDispatcher.java:473)\r\nat com.intellij.openapi.keymap.impl.IdeKeyEventDispatcher.inInitState(IdeKeyEventDispatcher.java:462)\r\nat com.intellij.openapi.keymap.impl.IdeKeyEventDispatcher.dispatchKeyEvent(IdeKeyEventDispatcher.java:227)\r\nat com.intellij.ide.IdeEventQueue.dispatchKeyEvent(IdeEventQueue.java:804)\r\nat com.intellij.ide.IdeEventQueue._dispatchEvent(IdeEventQueue.java:740)\r\nat com.intellij.ide.IdeEventQueue.lambda$dispatchEvent$6(IdeEventQueue.java:439)\r\nat com.intellij.openapi.progress.impl.CoreProgressManager.computePrioritized(CoreProgressManager.java:803)\r\nat com.intellij.ide.IdeEventQueue.lambda$dispatchEvent$7(IdeEventQueue.java:438)\r\nat com.intellij.openapi.application.TransactionGuardImpl.performActivity(TransactionGuardImpl.java:119)\r\nat com.intellij.ide.IdeEventQueue.performActivity(IdeEventQueue.java:604)\r\nat com.intellij.ide.IdeEventQueue.lambda$dispatchEvent$8(IdeEventQueue.java:436)\r\nat com.intellij.openapi.application.impl.ApplicationImpl.runIntendedWriteActionOnCurrentThread(ApplicationImpl.java:873)\r\nat com.intellij.ide.IdeEventQueue.dispatchEvent(IdeEventQueue.java:484)\r\nat java.desktop/java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:207)\r\nat java.desktop/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:128)\r\nat java.desktop/java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:117)\r\nat java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:113)\r\nat java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:105)\r\nat java.desktop/java.awt.EventDispatchThread.run(EventDispatchThread.java:92)\r\n```\r\n\r\n  [1]: https://i.stack.imgur.com/c7isQ.png\r\n  [2]: https://i.stack.imgur.com/w252x.png\r\n","title":"NestedScrollView breaks suggestions in Android Studio","body":"<p>Here is the strange behavior. I have this layout:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    style=&quot;@style/AppTheme.FragmentBackground.XXXX.Parent&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;&gt;\n\n    &lt;include\n        android:id=&quot;@+id/appbar&quot;\n        layout=&quot;@layout/layout_appbar&quot; /&gt;\n\n    &lt;LinearLayout\n        android:layout_width=&quot;match_parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        android:layout_height=&quot;wrap_content&quot;&gt;\n   &lt;/LinearLayout&gt;\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>So far, everything seems perfect. Although, if I replace the LinearLayout with a NestedScrollView, all of a sudden, the suggestions just do not work! If I remove the nested scrollview, everything seems to work again. Here are my gradle dependencies:</p>\n<blockquote>\n<pre><code>implementation 'androidx.appcompat:appcompat:1.6.0'\nimplementation 'androidx.appcompat:appcompat-resources:1.6.0'\nimplementation 'androidx.core:core:1.9.0'\nimplementation 'androidx.constraintlayout:constraintlayout:2.1.4'\n\nimplementation 'androidx.navigation:navigation-fragment:2.5.3'\nimplementation 'androidx.navigation:navigation-ui:2.5.3'\nimplementation 'com.android.support:support-annotations:28.0.0'\nimplementation 'com.squareup.okhttp3:okhttp:5.0.0-alpha.5'\nimplementation 'com.google.android.gms:play-services-location:21.0.1'\nimplementation 'com.squareup.picasso:picasso:2.71828'\nimplementation 'androidx.preference:preference:1.2.0'\nimplementation 'org.apache.commons:commons-io:1.3.2'\nimplementation 'androidx.fragment:fragment:1.5.5' //  Forecast Charts\nimplementation 'com.github.PhilJay:MPAndroidChart:v3.1.0' //  maps v2\nimplementation 'androidx.asynclayoutinflater:asynclayoutinflater:1.0.0'\nimplementation 'com.google.android.gms:play-services-maps:18.1.0'\nimplementation 'com.google.maps.android:android-maps-utils:2.4.0'\n// needed for timestamps manip\nimplementation 'net.danlew:android.joda:2.11.2'\n\nimplementation &quot;androidx.camera:camera-camera2:1.2.1&quot;\nimplementation &quot;androidx.camera:camera-lifecycle:1.2.1&quot;\nimplementation &quot;androidx.camera:camera-view:1.2.1&quot;\n\nimplementation 'com.google.android.gms:play-services-mlkit-barcode-scanning:18.1.0'\n//implementation 'com.google.mlkit:barcode-scanning:17.0.2'\n\nimplementation 'androidx.window:window:1.0.0'\n</code></pre>\n</blockquote>\n<p>while my gradle is gradle-7.5-bin.zip and my plugins are</p>\n<pre class=\"lang-none prettyprint-override\"><code>plugins {\n     id 'com.android.application' version '7.4.1' apply false\n     id 'com.android.library' version '7.4.1' apply false\n     id 'com.google.android.libraries.mapsplatform.secrets-gradle-plugin'\nversion '2.0.1' apply false }\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/c7isQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/c7isQ.png\" alt=\"Enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/w252x.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/w252x.png\" alt=\"Enter image description here\" /></a></p>\n<p>Also a popup of broken IDE is appeared and here is the log:</p>\n<pre class=\"lang-none prettyprint-override\"><code>java.lang.NullPointerException\nat org.jetbrains.android.dom.AttributeProcessingUtil.registerAttributesForClassAndSuperclasses(AttributeProcessingUtil.java:315)\nat org.jetbrains.android.dom.AttributeProcessingUtil.processLayoutAttributes(AttributeProcessingUtil.java:604)\nat org.jetbrains.android.dom.AttributeProcessingUtil.processAttributes(AttributeProcessingUtil.java:681)\nat org.jetbrains.android.dom.AndroidDomExtender.registerExtensions(AndroidDomExtender.java:56)\nat org.jetbrains.android.dom.AndroidDomExtender.registerExtensions(AndroidDomExtender.java:28)\nat com.intellij.util.xml.reflect.DomExtenderEP.extend(DomExtenderEP.java:91)\nat com.intellij.util.xml.impl.DynamicGenericInfo.runDomExtenders(DynamicGenericInfo.java:124)\nat com.intellij.util.xml.impl.DynamicGenericInfo.lambda$checkInitialized$0(DynamicGenericInfo.java:55)\nat com.intellij.openapi.util.RecursionManager$1.computePreventingRecursion(RecursionManager.java:114)\nat com.intellij.openapi.util.RecursionGuard.doPreventingRecursion(RecursionGuard.java:44)\nat com.intellij.openapi.util.RecursionManager.doPreventingRecursion(RecursionManager.java:68)\nat com.intellij.util.xml.impl.DynamicGenericInfo.checkInitialized(DynamicGenericInfo.java:54)\nat com.intellij.util.xml.impl.DynamicGenericInfo.getAttributeChildrenDescriptions(DynamicGenericInfo.java:231)\nat com.intellij.xml.impl.dom.AbstractDomChildrenDescriptor.getAttributeDescriptor(AbstractDomChildrenDescriptor.java:184)\nat com.intellij.xml.impl.dom.AbstractDomChildrenDescriptor.getAttributeDescriptor(AbstractDomChildrenDescriptor.java:195)\nat org.jetbrains.android.dom.layout.LayoutElementDescriptor.getAttributeDescriptor(LayoutElementDescriptors.kt:124)\nat com.intellij.psi.impl.source.xml.XmlAttributeDelegate.getDescriptionImpl(XmlAttributeDelegate.java:68)\nat com.intellij.psi.impl.source.xml.XmlAttributeDelegate.lambda$getDescriptor$0(XmlAttributeDelegate.java:55)\nat com.intellij.psi.util.CachedValuesManager$1.compute(CachedValuesManager.java:158)\nat com.intellij.psi.impl.PsiCachedValueImpl.doCompute(PsiCachedValueImpl.java:39)\nat com.intellij.util.CachedValueBase.lambda$getValueWithLock$3(CachedValueBase.java:227)\nat com.intellij.util.CachedValueBase.computeData(CachedValueBase.java:42)\nat com.intellij.util.CachedValueBase.lambda$getValueWithLock$4(CachedValueBase.java:227)\nat com.intellij.openapi.util.RecursionManager$1.computePreventingRecursion(RecursionManager.java:114)\nat com.intellij.openapi.util.RecursionGuard.doPreventingRecursion(RecursionGuard.java:44)\nat com.intellij.openapi.util.RecursionManager.doPreventingRecursion(RecursionManager.java:68)\nat com.intellij.util.CachedValueBase.getValueWithLock(CachedValueBase.java:228)\nat com.intellij.psi.impl.PsiCachedValueImpl.getValue(PsiCachedValueImpl.java:28)\nat com.intellij.util.CachedValuesManagerImpl.getCachedValue(CachedValuesManagerImpl.java:72)\nat com.intellij.psi.util.CachedValuesManager.getCachedValue(CachedValuesManager.java:155)\nat com.intellij.psi.util.CachedValuesManager.getCachedValue(CachedValuesManager.java:121)\nat com.intellij.psi.impl.source.xml.XmlAttributeDelegate.getDescriptor(XmlAttributeDelegate.java:53)\nat com.intellij.psi.impl.source.xml.XmlAttributeImpl.getDescriptor(XmlAttributeImpl.java:191)\nat com.intellij.psi.impl.source.xml.XmlAttributeReference$1.compute(XmlAttributeReference.java:23)\nat com.intellij.psi.impl.source.xml.XmlAttributeReference$1.compute(XmlAttributeReference.java:20)\nat com.intellij.openapi.util.NullableLazyValue.getValue(NullableLazyValue.java:20)\nat com.intellij.psi.impl.source.xml.XmlAttributeReference.getDescriptor(XmlAttributeReference.java:110)\nat com.intellij.psi.impl.source.xml.XmlAttributeReference.resolve(XmlAttributeReference.java:50)\nat com.intellij.codeInsight.TargetElementUtilBase.getReferencedElement(TargetElementUtilBase.java:177)\nat com.intellij.codeInsight.TargetElementUtilBase.doGetReferenceOrReferencedElement(TargetElementUtilBase.java:165)\nat com.intellij.codeInsight.TargetElementUtilBase.getReferenceOrReferencedElement(TargetElementUtilBase.java:210)\nat com.intellij.codeInsight.TargetElementUtilBase.getReferencedElement(TargetElementUtilBase.java:254)\nat com.intellij.codeInsight.TargetElementUtilBase.doFindTargetElement(TargetElementUtilBase.java:233)\nat com.intellij.codeInsight.TargetElementUtilBase.findTargetElement(TargetElementUtilBase.java:298)\nat com.intellij.codeInsight.TargetElementUtil.findTargetElement(TargetElementUtil.java:147)\nat com.jetbrains.cidr.lang.psi.impl.OCTargetElementUtil.findTargetElement(OCTargetElementUtil.java:47)\nat com.intellij.openapi.fileEditor.impl.text.TextEditorPsiDataProvider.getPsiElementIn(TextEditorPsiDataProvider.java:226)\nat com.intellij.openapi.fileEditor.impl.text.TextEditorPsiDataProvider.getSlowData(TextEditorPsiDataProvider.java:139)\nat com.intellij.openapi.fileEditor.impl.text.TextEditorPsiDataProvider.lambda$getData$0(TextEditorPsiDataProvider.java:93)\nat com.intellij.ide.impl.DataManagerImpl.getSlowData(DataManagerImpl.java:153)\nat com.intellij.ide.impl.DataManagerImpl.lambda$getDataRule$2(DataManagerImpl.java:121)\nat com.intellij.ide.impl.DataManagerImpl.lambda$getDataRule$4(DataManagerImpl.java:126)\nat com.intellij.ide.impl.DataManagerImpl.getDataFromProvider(DataManagerImpl.java:77)\nat com.intellij.openapi.actionSystem.impl.PreCachedDataContext.getData(PreCachedDataContext.java:182)\nat com.intellij.openapi.actionSystem.impl.PreCachedDataContext$InjectedDataContext.getData(PreCachedDataContext.java:327)\nat com.intellij.openapi.actionSystem.DataKey.getData(DataKey.java:63)\nat org.jetbrains.android.quickDefinitions.AndroidImplementationViewSessionFactory.createSession(AndroidImplementationViewSession.kt:55)\nat com.intellij.codeInsight.hint.actions.ShowRelatedElementsActionBase.performForContext(ShowRelatedElementsActionBase.java:86)\nat com.intellij.codeInsight.hint.actions.ShowRelatedElementsActionBase.actionPerformed(ShowRelatedElementsActionBase.java:63)\nat com.intellij.openapi.keymap.impl.ActionProcessor.performAction(ActionProcessor.java:65)\nat com.intellij.openapi.keymap.impl.IdeKeyEventDispatcher$1.performAction(IdeKeyEventDispatcher.java:579)\nat com.intellij.openapi.keymap.impl.IdeKeyEventDispatcher.lambda$doPerformActionInner$10(IdeKeyEventDispatcher.java:704)\nat com.intellij.openapi.application.TransactionGuardImpl.performActivity(TransactionGuardImpl.java:106)\nat com.intellij.openapi.application.TransactionGuardImpl.performUserActivity(TransactionGuardImpl.java:95)\nat com.intellij.openapi.keymap.impl.IdeKeyEventDispatcher.lambda$doPerformActionInner$11(IdeKeyEventDispatcher.java:704)\nat com.intellij.openapi.actionSystem.ex.ActionUtil.performDumbAwareWithCallbacks(ActionUtil.java:256)\nat com.intellij.openapi.keymap.impl.IdeKeyEventDispatcher.doPerformActionInner(IdeKeyEventDispatcher.java:701)\nat com.intellij.openapi.keymap.impl.IdeKeyEventDispatcher.processAction(IdeKeyEventDispatcher.java:645)\nat com.intellij.openapi.keymap.impl.IdeKeyEventDispatcher.processAction(IdeKeyEventDispatcher.java:590)\nat com.intellij.openapi.keymap.impl.IdeKeyEventDispatcher.processActionOrWaitSecondStroke(IdeKeyEventDispatcher.java:473)\nat com.intellij.openapi.keymap.impl.IdeKeyEventDispatcher.inInitState(IdeKeyEventDispatcher.java:462)\nat com.intellij.openapi.keymap.impl.IdeKeyEventDispatcher.dispatchKeyEvent(IdeKeyEventDispatcher.java:227)\nat com.intellij.ide.IdeEventQueue.dispatchKeyEvent(IdeEventQueue.java:804)\nat com.intellij.ide.IdeEventQueue._dispatchEvent(IdeEventQueue.java:740)\nat com.intellij.ide.IdeEventQueue.lambda$dispatchEvent$6(IdeEventQueue.java:439)\nat com.intellij.openapi.progress.impl.CoreProgressManager.computePrioritized(CoreProgressManager.java:803)\nat com.intellij.ide.IdeEventQueue.lambda$dispatchEvent$7(IdeEventQueue.java:438)\nat com.intellij.openapi.application.TransactionGuardImpl.performActivity(TransactionGuardImpl.java:119)\nat com.intellij.ide.IdeEventQueue.performActivity(IdeEventQueue.java:604)\nat com.intellij.ide.IdeEventQueue.lambda$dispatchEvent$8(IdeEventQueue.java:436)\nat com.intellij.openapi.application.impl.ApplicationImpl.runIntendedWriteActionOnCurrentThread(ApplicationImpl.java:873)\nat com.intellij.ide.IdeEventQueue.dispatchEvent(IdeEventQueue.java:484)\nat java.desktop/java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:207)\nat java.desktop/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:128)\nat java.desktop/java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:117)\nat java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:113)\nat java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:105)\nat java.desktop/java.awt.EventDispatchThread.run(EventDispatchThread.java:92)\n</code></pre>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1695905242,"post_id":77194037,"comment_id":136087981,"body_markdown":"Why would you need to do that programmatically. add `${YOUR_PROPERTY_NAME}` as the value, add `&lt;context:property-placeholder /&gt;` to your XML and restart. No need to make it more complex then that.","body":"Why would you need to do that programmatically. add <code>${YOUR_PROPERTY_NAME}</code> as the value, add <code>&lt;context:property-placeholder &#47;&gt;</code> to your XML and restart. No need to make it more complex then that."},{"owner":{"account_id":14437674,"reputation":711,"user_id":10429263,"display_name":"d00d"},"score":0,"creation_date":1695907018,"post_id":77194037,"comment_id":136088419,"body_markdown":"I need to read the repeatInterval from the database after application start. That&#39;s why I need to set it programmatically i think.","body":"I need to read the repeatInterval from the database after application start. That&#39;s why I need to set it programmatically i think."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1695909447,"post_id":77194037,"comment_id":136089008,"body_markdown":"That is not what you stated in your question, there it is a system property. If you want relevant answers then ask the actual question.","body":"That is not what you stated in your question, there it is a system property. If you want relevant answers then ask the actual question."}],"answers":[{"tags":[],"owner":{"account_id":169237,"reputation":39170,"user_id":395202,"accept_rate":59,"display_name":"Adrian Shum"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696397032,"creation_date":1696397032,"answer_id":77226938,"question_id":77194037,"body_markdown":"So what you want to achieve is, you have interval stored in DB, and you want your jobs to be scheduled based on that value in DB.\r\n\r\nFirst possibility is, keep defining the schedule job in your app context (e.g. XML), and make your DB one of your property source which you could get the value from DB and put in the placeholder.  However this is probably too complex and causing big effect to your overall application.\r\n\r\nAnother approach is, given `SchedulerFactoryBean` is basically creating a Quartz Scheduler for you, you could have your application access the DB to get whatever detail you want, and programmatically creating Quartz `JobDetail` and `Trigger` and add it to the `Scheduler` bean. ","title":"Programmatically access repeatInterval of XML-based Spring task scheduler","body":"<p>So what you want to achieve is, you have interval stored in DB, and you want your jobs to be scheduled based on that value in DB.</p>\n<p>First possibility is, keep defining the schedule job in your app context (e.g. XML), and make your DB one of your property source which you could get the value from DB and put in the placeholder.  However this is probably too complex and causing big effect to your overall application.</p>\n<p>Another approach is, given <code>SchedulerFactoryBean</code> is basically creating a Quartz Scheduler for you, you could have your application access the DB to get whatever detail you want, and programmatically creating Quartz <code>JobDetail</code> and <code>Trigger</code> and add it to the <code>Scheduler</code> bean.</p>\n"}],"owner":{"account_id":14437674,"reputation":711,"user_id":10429263,"display_name":"d00d"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696397032,"creation_date":1695895754,"question_id":77194037,"body_markdown":"I have this task scheduler. My problem is, that I have to read the repeatInterval from a database and have to set it accordingly, which I cannot do with this XML-configuration. How do I access this value in my groupChatNotificationService?\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;\r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:jaxws=&quot;http://cxf.apache.org/jaxws&quot; xmlns:cxf=&quot;http://cxf.apache.org/core&quot;\r\n    \t xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-2.5.xsd&quot; &gt;\r\n    \t\r\n    \t&lt;!-- Handle scheduled event consumers --&gt;\r\n    \r\n    \t&lt;bean id=&quot;msgScheduledEventConsumersJob&quot; class=&quot;org.springframework.scheduling.quartz.MethodInvokingJobDetailFactoryBean&quot;&gt;\r\n    \t\t&lt;property name=&quot;targetObject&quot; ref=&quot;groupChatNotificationService&quot; /&gt;\r\n    \t\t&lt;property name=&quot;targetMethod&quot; value=&quot;doNotify&quot; /&gt;\r\n    \t\t&lt;property name=&quot;concurrent&quot; value=&quot;false&quot; /&gt;\r\n    \t&lt;/bean&gt;\r\n    \r\n    \t&lt;bean id=&quot;msgScheduledEventConsumersTrigger&quot; class=&quot;org.springframework.scheduling.quartz.SimpleTriggerFactoryBean&quot;&gt;\r\n    \t\t&lt;property name=&quot;jobDetail&quot; ref=&quot;msgScheduledEventConsumersJob&quot; /&gt;\r\n    \r\n    \t\t&lt;!-- 60 seconds --&gt;\r\n    \t\t&lt;property name=&quot;startDelay&quot; value=&quot;60000&quot; /&gt;\r\n    \r\n    \t\t&lt;!-- repeat every 60 seconds --&gt;\r\n    \t\t&lt;property name=&quot;repeatInterval&quot; value=&quot;60000&quot; /&gt;\r\n    \t&lt;/bean&gt;\r\n    \r\n    \t&lt;!-- Scheduler --&gt;\r\n    \r\n    \t&lt;bean id=&quot;mlsScheduler&quot; class=&quot;org.springframework.scheduling.quartz.SchedulerFactoryBean&quot;&gt;\r\n    \t\t&lt;property name=&quot;triggers&quot;&gt;\r\n    \t\t\t&lt;list&gt;\r\n    \t\t\t\t&lt;ref bean=&quot;msgScheduledEventConsumersTrigger&quot; /&gt;\r\n    \t\t\t&lt;/list&gt;\r\n    \t\t&lt;/property&gt;\r\n    \t&lt;/bean&gt;\r\n    &lt;/beans&gt;\r\n\r\nIt would be very easy if i would be using annotation-based schedulers, but I cannot do that because then the doNotify() method will be executed multiple consecutive times (probably problem with loading some app context multiple times). With this xml-based approach, the doNotify() is only executed once, but now i have to inject the repeatInterval from my system property to the job. ","title":"Programmatically access repeatInterval of XML-based Spring task scheduler","body":"<p>I have this task scheduler. My problem is, that I have to read the repeatInterval from a database and have to set it accordingly, which I cannot do with this XML-configuration. How do I access this value in my groupChatNotificationService?</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:jaxws=&quot;http://cxf.apache.org/jaxws&quot; xmlns:cxf=&quot;http://cxf.apache.org/core&quot;\n     xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-2.5.xsd&quot; &gt;\n    \n    &lt;!-- Handle scheduled event consumers --&gt;\n\n    &lt;bean id=&quot;msgScheduledEventConsumersJob&quot; class=&quot;org.springframework.scheduling.quartz.MethodInvokingJobDetailFactoryBean&quot;&gt;\n        &lt;property name=&quot;targetObject&quot; ref=&quot;groupChatNotificationService&quot; /&gt;\n        &lt;property name=&quot;targetMethod&quot; value=&quot;doNotify&quot; /&gt;\n        &lt;property name=&quot;concurrent&quot; value=&quot;false&quot; /&gt;\n    &lt;/bean&gt;\n\n    &lt;bean id=&quot;msgScheduledEventConsumersTrigger&quot; class=&quot;org.springframework.scheduling.quartz.SimpleTriggerFactoryBean&quot;&gt;\n        &lt;property name=&quot;jobDetail&quot; ref=&quot;msgScheduledEventConsumersJob&quot; /&gt;\n\n        &lt;!-- 60 seconds --&gt;\n        &lt;property name=&quot;startDelay&quot; value=&quot;60000&quot; /&gt;\n\n        &lt;!-- repeat every 60 seconds --&gt;\n        &lt;property name=&quot;repeatInterval&quot; value=&quot;60000&quot; /&gt;\n    &lt;/bean&gt;\n\n    &lt;!-- Scheduler --&gt;\n\n    &lt;bean id=&quot;mlsScheduler&quot; class=&quot;org.springframework.scheduling.quartz.SchedulerFactoryBean&quot;&gt;\n        &lt;property name=&quot;triggers&quot;&gt;\n            &lt;list&gt;\n                &lt;ref bean=&quot;msgScheduledEventConsumersTrigger&quot; /&gt;\n            &lt;/list&gt;\n        &lt;/property&gt;\n    &lt;/bean&gt;\n&lt;/beans&gt;\n</code></pre>\n<p>It would be very easy if i would be using annotation-based schedulers, but I cannot do that because then the doNotify() method will be executed multiple consecutive times (probably problem with loading some app context multiple times). With this xml-based approach, the doNotify() is only executed once, but now i have to inject the repeatInterval from my system property to the job.</p>\n"},{"tags":["java","selenium-webdriver","apache-poi","fileinputstream","xssfworkbook"],"comments":[{"owner":{"account_id":213468,"reputation":103493,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1696400302,"post_id":77226931,"comment_id":136146036,"body_markdown":"This makes zero sense: `new FileOutputStream(String.valueOf(new FileInputStream(path)));` and is what&#39;s causing the problem. You&#39;re currently creating a file output stream, and as filename, you&#39;re using the `toString()` of a file input stream, which is **always** `&quot;java.io.FileInputStream@&lt;hashcode&gt;&quot;`.  You probably meant `new FileOutputStream(path)`, which will probably not work if the file is still open through `fis`.","body":"This makes zero sense: <code>new FileOutputStream(String.valueOf(new FileInputStream(path)));</code> and is what&#39;s causing the problem. You&#39;re currently creating a file output stream, and as filename, you&#39;re using the <code>toString()</code> of a file input stream, which is <b>always</b> <code>&quot;java.io.FileInputStream@&lt;hashcode&gt;&quot;</code>.  You probably meant <code>new FileOutputStream(path)</code>, which will probably not work if the file is still open through <code>fis</code>."},{"owner":{"account_id":6730033,"reputation":71,"user_id":5186734,"accept_rate":33,"display_name":"Sheena Tyagi"},"score":0,"creation_date":1696401228,"post_id":77226931,"comment_id":136146209,"body_markdown":"@MarkRotteveel Thanks for your input. I did the below changes \n\n            fis.close();\n            fileOut = new FileOutputStream(path);\n\n            workbook.write(fileOut);\n            fileOut.flush();\n            workbook.close();\n\nbut now I am getting .apache.poi.POIXMLException: java.lang.NullPointerException in \n  workbook.write(fileOut); line.","body":"@MarkRotteveel Thanks for your input. I did the below changes               fis.close();             fileOut = new FileOutputStream(path);              workbook.write(fileOut);             fileOut.flush();             workbook.close();  but now I am getting .apache.poi.POIXMLException: java.lang.NullPointerException in    workbook.write(fileOut); line."},{"owner":{"account_id":213468,"reputation":103493,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1696401462,"post_id":77226931,"comment_id":136146241,"body_markdown":"I&#39;d suggest to first try writing with a **different** file name without closing `fis`. It is entirely possible that POI can&#39;t write back to the same file (it has been a while since I used it), because it needs `fis` to remain open, or maybe check the POI documentation for this.","body":"I&#39;d suggest to first try writing with a <b>different</b> file name without closing <code>fis</code>. It is entirely possible that POI can&#39;t write back to the same file (it has been a while since I used it), because it needs <code>fis</code> to remain open, or maybe check the POI documentation for this."}],"owner":{"account_id":6730033,"reputation":71,"user_id":5186734,"accept_rate":33,"display_name":"Sheena Tyagi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696396952,"creation_date":1696396952,"question_id":77226931,"body_markdown":"I am facing an issue where everytime path is initialized to XSSFWorkbook, a file java.io.FileInputStream@51bde877 (51bde877 being a random number each time) is created in the root folder of my project.\r\nBelow is the sample code:\r\n```\r\n       try {\r\n            fis = new FileInputStream(path);\r\n            if (path.endsWith(&quot;.xls&quot;)) {\r\n                workbook = new HSSFWorkbook(fis);\r\n            }\r\n            if (path.endsWith(&quot;.xlsx&quot;)) {\r\n                workbook = new XSSFWorkbook(path);\r\n            }\r\n\r\n            if (rowNum &lt;= 0)\r\n                return false;\r\n\r\n            int index = workbook.getSheetIndex(sheetName);\r\n            if (index == -1)\r\n                return false;\r\n\r\n            sheet = workbook.getSheetAt(index);\r\n\r\n            int colNum = -1;\r\n            row = sheet.getRow(0);\r\n            for (int i = 0; i &lt; row.getLastCellNum(); i++) {\r\n                //   System.out.println(row.getCell(i).getStringCellValue().trim());\r\n                if (row.getCell(i).getStringCellValue().trim().equals(colName))\r\n                    colNum = i;\r\n            }\r\n\r\n            if (colNum == -1)\r\n                return false;\r\n\r\n            sheet.autoSizeColumn(colNum);\r\n            row = sheet.getRow(rowNum - 1);\r\n            if (row == null)\r\n                row = sheet.createRow(rowNum - 1);\r\n\r\n            cell = row.getCell(colNum);\r\n            if (cell == null)\r\n                cell = row.createCell(colNum);\r\n\r\n            cell.setCellValue(data);\r\n\r\n            //fis.close();\r\n\r\n            fileOut = new FileOutputStream(String.valueOf(new FileInputStream(path)));\r\n\r\n            workbook.write(fileOut);\r\n            fileOut.flush();\r\n            workbook.close();\r\n\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n            return false;\r\n        }\r\n\r\n```\r\n\r\nHow should I prevent the creation of these junk files in my project?","title":"java.io.FileInputStream file is getting generated on calling excel reader using XSSFWorkbook","body":"<p>I am facing an issue where everytime path is initialized to XSSFWorkbook, a file java.io.FileInputStream@51bde877 (51bde877 being a random number each time) is created in the root folder of my project.\nBelow is the sample code:</p>\n<pre><code>       try {\n            fis = new FileInputStream(path);\n            if (path.endsWith(&quot;.xls&quot;)) {\n                workbook = new HSSFWorkbook(fis);\n            }\n            if (path.endsWith(&quot;.xlsx&quot;)) {\n                workbook = new XSSFWorkbook(path);\n            }\n\n            if (rowNum &lt;= 0)\n                return false;\n\n            int index = workbook.getSheetIndex(sheetName);\n            if (index == -1)\n                return false;\n\n            sheet = workbook.getSheetAt(index);\n\n            int colNum = -1;\n            row = sheet.getRow(0);\n            for (int i = 0; i &lt; row.getLastCellNum(); i++) {\n                //   System.out.println(row.getCell(i).getStringCellValue().trim());\n                if (row.getCell(i).getStringCellValue().trim().equals(colName))\n                    colNum = i;\n            }\n\n            if (colNum == -1)\n                return false;\n\n            sheet.autoSizeColumn(colNum);\n            row = sheet.getRow(rowNum - 1);\n            if (row == null)\n                row = sheet.createRow(rowNum - 1);\n\n            cell = row.getCell(colNum);\n            if (cell == null)\n                cell = row.createCell(colNum);\n\n            cell.setCellValue(data);\n\n            //fis.close();\n\n            fileOut = new FileOutputStream(String.valueOf(new FileInputStream(path)));\n\n            workbook.write(fileOut);\n            fileOut.flush();\n            workbook.close();\n\n        } catch (Exception e) {\n            e.printStackTrace();\n            return false;\n        }\n\n</code></pre>\n<p>How should I prevent the creation of these junk files in my project?</p>\n"},{"tags":["java","dockable"],"owner":{"account_id":2281720,"reputation":735,"user_id":2006640,"accept_rate":40,"display_name":"Cherple"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696396835,"creation_date":1696396835,"question_id":77226925,"body_markdown":"I would like to change the font color for DockableFrame&#39;s title and i&#39;ve tried using UIManager etc but it still doesn&#39;t work. My code below tried using custom label component and UIManager:\r\n\r\n    public static void main(String[] args){\r\n    \r\n    \tUIManager.put(&quot;DockableFrameTitlePane.showIcon&quot;, true);\r\n    \tUIManager.put(&quot;DockableFrame.titleForeground&quot;, Color.red);\r\n    \r\n    \tDockableFrame dock = bnew DockableFrame(&quot;Title&quot;, myIcon);\r\n    \r\n    \tJLabel label = new JLabel(&quot;Jlabel Title&quot;);\r\n    \tlabel.setForeground(Color.green);\r\n    \tdock.setTitleLabelComponent(label);\r\n    \r\n    \tJFrame frame = new JFrame(&quot;Frame&quot;);\r\n    \tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \tframe.add(dock);\r\n    \tframe.pack();\r\n    \tframe.setVisible(true);\r\n    \r\n    }\r\n\r\nWhat was displayed was a dockable frame titled &quot;JLabel Frame&quot; in black text with my custom icon. How do i actually change the font color?","title":"DockableFrame title font color","body":"<p>I would like to change the font color for DockableFrame's title and i've tried using UIManager etc but it still doesn't work. My code below tried using custom label component and UIManager:</p>\n<pre><code>public static void main(String[] args){\n\n    UIManager.put(&quot;DockableFrameTitlePane.showIcon&quot;, true);\n    UIManager.put(&quot;DockableFrame.titleForeground&quot;, Color.red);\n\n    DockableFrame dock = bnew DockableFrame(&quot;Title&quot;, myIcon);\n\n    JLabel label = new JLabel(&quot;Jlabel Title&quot;);\n    label.setForeground(Color.green);\n    dock.setTitleLabelComponent(label);\n\n    JFrame frame = new JFrame(&quot;Frame&quot;);\n    frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    frame.add(dock);\n    frame.pack();\n    frame.setVisible(true);\n\n}\n</code></pre>\n<p>What was displayed was a dockable frame titled &quot;JLabel Frame&quot; in black text with my custom icon. How do i actually change the font color?</p>\n"},{"tags":["java","spring","spring-boot","jackson","jackson-databind"],"answers":[{"tags":[],"owner":{"account_id":22436273,"reputation":88,"user_id":16641483,"display_name":"Lofri97"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696395952,"creation_date":1696395533,"answer_id":77226854,"question_id":77224709,"body_markdown":"If the client can be distinguished through the header, JsonView can be used like below.\r\n\r\nController\r\n```java\r\npackage com.example.so77224709;\r\n\r\nimport com.fasterxml.jackson.annotation.JsonView;\r\nimport org.springframework.http.converter.json.MappingJacksonValue;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.RequestHeader;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\n@RestController\r\npublic class TestController {\r\n\r\n    @GetMapping(&quot;/user&quot;)\r\n    public MappingJacksonValue getUser(@RequestHeader(&quot;Client-Meta-Data&quot;) String data) {\r\n        User user = new User();\r\n\r\n        MappingJacksonValue result = new MappingJacksonValue(user);\r\n        Class&lt;?&gt; viewClazz;\r\n        switch (data) {\r\n            case &quot;A&quot; :\r\n                viewClazz = User.ClientAView.class;\r\n                break;\r\n            case &quot;B&quot; :\r\n                viewClazz = User.ClientBView.class;\r\n                break;\r\n            case &quot;C&quot; :\r\n                viewClazz = User.ClientCView.class;\r\n                break;\r\n            default:\r\n                throw new IllegalArgumentException(&quot;Meta data not defined.&quot;);\r\n        }\r\n        result.setSerializationView(viewClazz);\r\n        return result;\r\n    }\r\n\r\n\r\n    public static class User {\r\n        public interface ClientAView {};\r\n        public interface ClientBView {};\r\n        public interface ClientCView {};\r\n\r\n        @JsonView(ClientAView.class)\r\n        public String a = &quot;a&quot;;\r\n\r\n        @JsonView(ClientBView.class)\r\n        public String b = &quot;b&quot;;\r\n\r\n        @JsonView(ClientCView.class)\r\n        public String c = &quot;c&quot;;\r\n    }\r\n}\r\n```\r\nRequest\r\n```curl\r\ncurl --location --request GET &#39;localhost:8080/user&#39; \\\r\n--header &#39;Client-Meta-Data: B&#39;\r\n```\r\nResponse\r\n```json\r\n{\r\n    &quot;b&quot;: &quot;b&quot;\r\n}\r\n```\r\n\r\nThis code is example code.\r\nI would implement a resolver that resolve client specific view through the header and replace the switch statement.","title":"Spring boot endpoints with JsonView for multiple clients","body":"<p>If the client can be distinguished through the header, JsonView can be used like below.</p>\n<p>Controller</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.so77224709;\n\nimport com.fasterxml.jackson.annotation.JsonView;\nimport org.springframework.http.converter.json.MappingJacksonValue;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RequestHeader;\nimport org.springframework.web.bind.annotation.RestController;\n\n@RestController\npublic class TestController {\n\n    @GetMapping(&quot;/user&quot;)\n    public MappingJacksonValue getUser(@RequestHeader(&quot;Client-Meta-Data&quot;) String data) {\n        User user = new User();\n\n        MappingJacksonValue result = new MappingJacksonValue(user);\n        Class&lt;?&gt; viewClazz;\n        switch (data) {\n            case &quot;A&quot; :\n                viewClazz = User.ClientAView.class;\n                break;\n            case &quot;B&quot; :\n                viewClazz = User.ClientBView.class;\n                break;\n            case &quot;C&quot; :\n                viewClazz = User.ClientCView.class;\n                break;\n            default:\n                throw new IllegalArgumentException(&quot;Meta data not defined.&quot;);\n        }\n        result.setSerializationView(viewClazz);\n        return result;\n    }\n\n\n    public static class User {\n        public interface ClientAView {};\n        public interface ClientBView {};\n        public interface ClientCView {};\n\n        @JsonView(ClientAView.class)\n        public String a = &quot;a&quot;;\n\n        @JsonView(ClientBView.class)\n        public String b = &quot;b&quot;;\n\n        @JsonView(ClientCView.class)\n        public String c = &quot;c&quot;;\n    }\n}\n</code></pre>\n<p>Request</p>\n<pre><code>curl --location --request GET 'localhost:8080/user' \\\n--header 'Client-Meta-Data: B'\n</code></pre>\n<p>Response</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;b&quot;: &quot;b&quot;\n}\n</code></pre>\n<p>This code is example code.\nI would implement a resolver that resolve client specific view through the header and replace the switch statement.</p>\n"}],"owner":{"account_id":10770525,"reputation":526,"user_id":7924110,"display_name":"Kenany"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696395952,"creation_date":1696357655,"question_id":77224709,"body_markdown":"I&#39;m creating endpoints with Spring Boot and I have many clients that will consume them. I would like to some fields of response when some client make a request and show them for others. I&#39;m a using JsonView from Jackson package, I readed that documentation: https://docs.spring.io/spring-framework/reference/web/webmvc/mvc-controller/ann-methods/jackson.html It works fine. But my use case is a bit different. An endpoint can be called by many clients. I know the requester by meta data in request header. Each client has its class view.\r\n\r\nI would like each time a client make a request, JsonView consider its view class and ignore others and so on. But I don&#39;t know how to do it. Can someone help me?","title":"Spring boot endpoints with JsonView for multiple clients","body":"<p>I'm creating endpoints with Spring Boot and I have many clients that will consume them. I would like to some fields of response when some client make a request and show them for others. I'm a using JsonView from Jackson package, I readed that documentation: <a href=\"https://docs.spring.io/spring-framework/reference/web/webmvc/mvc-controller/ann-methods/jackson.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/reference/web/webmvc/mvc-controller/ann-methods/jackson.html</a> It works fine. But my use case is a bit different. An endpoint can be called by many clients. I know the requester by meta data in request header. Each client has its class view.</p>\n<p>I would like each time a client make a request, JsonView consider its view class and ignore others and so on. But I don't know how to do it. Can someone help me?</p>\n"},{"tags":["java","android","angular","cordova","ionic5"],"owner":{"account_id":18243423,"reputation":403,"user_id":13280037,"display_name":"Zaman Rajpoot"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696395893,"creation_date":1696367644,"question_id":77225548,"body_markdown":"Full log when generating the apk, \r\nJava version is jdk8\r\nandroid platform version is 8.1.0 using android@8.1.0\r\n\r\n```\r\n\r\nThe following dependencies are project dependencies that are direct or have transitive dependencies that lead to the art\r\nifact with the issue.\r\n-- Project &#39;app&#39; depends onto com.google.android.gms:play-services-auth-api-phone@17.0.0\r\n-- Project &#39;app&#39; depends onto com.google.android.gms:play-services-base@17.1.0\r\n-- Project &#39;app&#39; depends onto com.google.firebase:firebase-crashlytics-ndk@17.0.1\r\n-- Project &#39;app&#39; depends onto com.google.firebase:firebase-messaging@20.2.1\r\n-- Project &#39;app&#39; depends onto com.google.android.gms:play-services-measurement-api@17.4.3\r\n-- Project &#39;app&#39; depends onto com.google.android.gms:play-services-clearcut@17.0.0\r\n-- Project &#39;app&#39; depends onto com.google.firebase:firebase-perf@19.0.7\r\n-- Project &#39;app&#39; depends onto com.google.android.gms:play-services-location@16.0.0\r\n-- Project &#39;app&#39; depends onto com.google.firebase:firebase-firestore@21.4.3\r\n-- Project &#39;app&#39; depends onto com.google.firebase:firebase-database-collection@17.0.1\r\n-- Project &#39;app&#39; depends onto com.google.android.gms:play-services-auth@18.0.0\r\n-- Project &#39;app&#39; depends onto com.google.android.gms:play-services-auth-base@17.0.0\r\n-- Project &#39;app&#39; depends onto com.google.android.gms:play-services-tagmanager-api@17.0.0\r\n-- Project &#39;app&#39; depends onto com.google.firebase:firebase-iid-interop@17.0.0\r\n-- Project &#39;app&#39; depends onto com.google.firebase:firebase-iid@20.2.1\r\n-- Project &#39;app&#39; depends onto com.google.firebase:firebase-auth@19.3.1\r\n-- Project &#39;app&#39; depends onto com.google.android.gms:play-services-location@16.+\r\n-- Project &#39;app&#39; depends onto com.google.firebase:firebase-analytics@17.4.3\r\n-- Project &#39;app&#39; depends onto com.google.android.gms:play-services-analytics-impl@17.0.0\r\n-- Project &#39;app&#39; depends onto com.onesignal:OneSignal@4.8.5\r\n-- Project &#39;app&#39; depends onto com.google.firebase:firebase-crashlytics@17.0.1\r\n-- Project &#39;app&#39; depends onto com.google.firebase:firebase-config@19.1.4\r\n-- Project &#39;app&#39; depends onto com.google.android.gms:play-services-tagmanager@17.0.0\r\n-- Project &#39;app&#39; depends onto com.google.firebase:firebase-auth-interop@19.0.0\r\n-- Project &#39;app&#39; depends onto com.google.android.gms:play-services-phenotype@17.0.0\r\n\r\nFor extended debugging info execute Gradle from the command line with ./gradlew --info :app:assembleDebug to see the dep\r\nendency paths to the artifact. This error message came from the google-services Gradle plugin, report issues at https://\r\ngithub.com/google/play-services-plugins and disable by adding &quot;googleServices { disableVersionCheck = false }&quot; to your b\r\nuild.gradle file.\r\n\r\n\r\n```\r\n\r\nI want to make a successfull debugable apk.","title":"Cordova 10.0.0 and Ionic 5.6 version is running on web, but not generate apk","body":"<p>Full log when generating the apk,\nJava version is jdk8\nandroid platform version is 8.1.0 using android@8.1.0</p>\n<pre><code>\nThe following dependencies are project dependencies that are direct or have transitive dependencies that lead to the art\nifact with the issue.\n-- Project 'app' depends onto com.google.android.gms:play-services-auth-api-phone@17.0.0\n-- Project 'app' depends onto com.google.android.gms:play-services-base@17.1.0\n-- Project 'app' depends onto com.google.firebase:firebase-crashlytics-ndk@17.0.1\n-- Project 'app' depends onto com.google.firebase:firebase-messaging@20.2.1\n-- Project 'app' depends onto com.google.android.gms:play-services-measurement-api@17.4.3\n-- Project 'app' depends onto com.google.android.gms:play-services-clearcut@17.0.0\n-- Project 'app' depends onto com.google.firebase:firebase-perf@19.0.7\n-- Project 'app' depends onto com.google.android.gms:play-services-location@16.0.0\n-- Project 'app' depends onto com.google.firebase:firebase-firestore@21.4.3\n-- Project 'app' depends onto com.google.firebase:firebase-database-collection@17.0.1\n-- Project 'app' depends onto com.google.android.gms:play-services-auth@18.0.0\n-- Project 'app' depends onto com.google.android.gms:play-services-auth-base@17.0.0\n-- Project 'app' depends onto com.google.android.gms:play-services-tagmanager-api@17.0.0\n-- Project 'app' depends onto com.google.firebase:firebase-iid-interop@17.0.0\n-- Project 'app' depends onto com.google.firebase:firebase-iid@20.2.1\n-- Project 'app' depends onto com.google.firebase:firebase-auth@19.3.1\n-- Project 'app' depends onto com.google.android.gms:play-services-location@16.+\n-- Project 'app' depends onto com.google.firebase:firebase-analytics@17.4.3\n-- Project 'app' depends onto com.google.android.gms:play-services-analytics-impl@17.0.0\n-- Project 'app' depends onto com.onesignal:OneSignal@4.8.5\n-- Project 'app' depends onto com.google.firebase:firebase-crashlytics@17.0.1\n-- Project 'app' depends onto com.google.firebase:firebase-config@19.1.4\n-- Project 'app' depends onto com.google.android.gms:play-services-tagmanager@17.0.0\n-- Project 'app' depends onto com.google.firebase:firebase-auth-interop@19.0.0\n-- Project 'app' depends onto com.google.android.gms:play-services-phenotype@17.0.0\n\nFor extended debugging info execute Gradle from the command line with ./gradlew --info :app:assembleDebug to see the dep\nendency paths to the artifact. This error message came from the google-services Gradle plugin, report issues at https://\ngithub.com/google/play-services-plugins and disable by adding &quot;googleServices { disableVersionCheck = false }&quot; to your b\nuild.gradle file.\n\n\n</code></pre>\n<p>I want to make a successfull debugable apk.</p>\n"},{"tags":["java","installation"],"comments":[{"owner":{"account_id":322981,"reputation":310744,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1637265209,"post_id":70025668,"comment_id":123786984,"body_markdown":"You’ll need to explain each of your first two sentences in detail. Also, how have none of the many existing Questions and Answers on this topic not addressed your issue?","body":"You’ll need to explain each of your first two sentences in detail. Also, how have none of the many existing Questions and Answers on this topic not addressed your issue?"}],"answers":[{"tags":[],"owner":{"account_id":1092288,"reputation":402,"user_id":1086664,"display_name":"Mike Fabrikant"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1641068475,"creation_date":1641068475,"answer_id":70551634,"question_id":70025668,"body_markdown":"`brew install java`\r\n\r\nIn case of a build error, check the output and you may see a suggestion to create a symbolic link and run the command again.\r\n\r\nhttps://mkyong.com/java/how-to-install-java-on-mac-osx/\r\n","title":"Java on MacOS Monterey","body":"<p><code>brew install java</code></p>\n<p>In case of a build error, check the output and you may see a suggestion to create a symbolic link and run the command again.</p>\n<p><a href=\"https://mkyong.com/java/how-to-install-java-on-mac-osx/\" rel=\"nofollow noreferrer\">https://mkyong.com/java/how-to-install-java-on-mac-osx/</a></p>\n"}],"owner":{"account_id":8402672,"reputation":95,"user_id":6307253,"display_name":"John Barrett"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8725,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1696395800,"creation_date":1637263909,"question_id":70025668,"body_markdown":"I&#39;ve installed java 8 jdk, but javac is not working. Also, the operating system has java blocked. Is there any way to fix this? I am using macOS Monterey.","title":"Java on MacOS Monterey","body":"<p>I've installed java 8 jdk, but javac is not working. Also, the operating system has java blocked. Is there any way to fix this? I am using macOS Monterey.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":7773500,"reputation":5844,"user_id":5882307,"display_name":"OMi Shah"},"score":0,"creation_date":1696396235,"post_id":77226668,"comment_id":136145558,"body_markdown":"duplicate question for sure !!","body":"duplicate question for sure !!"},{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":0,"creation_date":1696433073,"post_id":77226668,"comment_id":136152909,"body_markdown":"Just an aside-  that pattern isn&#39;t even close to right, email addresses are very complicated.  You&#39;ll work for the majority of them, but not all of them with this.","body":"Just an aside-  that pattern isn&#39;t even close to right, email addresses are very complicated.  You&#39;ll work for the majority of them, but not all of them with this."}],"answers":[{"tags":[],"owner":{"account_id":1841805,"reputation":3174,"user_id":1671058,"accept_rate":71,"display_name":"gaurav jain"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696395123,"creation_date":1696395123,"answer_id":77226832,"question_id":77226668,"body_markdown":"You can use the inbuilt email regex pattern (provided by *android.util*) to match your email.\r\n\r\n    Patterns.EMAIL_ADDRESS.matcher(email).matches()\r\n\r\nAlso, you can check for an empty email before trying to validate it against a regex.","title":"how allow email using email validation regex in android","body":"<p>You can use the inbuilt email regex pattern (provided by <em>android.util</em>) to match your email.</p>\n<pre><code>Patterns.EMAIL_ADDRESS.matcher(email).matches()\n</code></pre>\n<p>Also, you can check for an empty email before trying to validate it against a regex.</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1696395575,"creation_date":1696395575,"answer_id":77226859,"question_id":77226668,"body_markdown":"Add a _hypen_ to the second _character-class_, and remove the `+` _quantifier_ from the `\\.`.\r\n\r\n```none\r\n^[a-zA-Z0-9+_.-]+@[a-z-]+\\.[a-z]+\r\n```\r\n\r\nAdditionally, just use _[String#matches](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#matches(java.lang.String))_.\r\n\r\n```java\r\nreturn email.matches(&quot;[a-zA-Z0-9+_.-]+@[a-z-]+\\\\.[a-z]+&quot;);\r\n```","title":"how allow email using email validation regex in android","body":"<p>Add a <em>hypen</em> to the second <em>character-class</em>, and remove the <code>+</code> <em>quantifier</em> from the <code>\\.</code>.</p>\n<pre class=\"lang-none prettyprint-override\"><code>^[a-zA-Z0-9+_.-]+@[a-z-]+\\.[a-z]+\n</code></pre>\n<p>Additionally, just use <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#matches(java.lang.String)\" rel=\"nofollow noreferrer\">String#matches</a></em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>return email.matches(&quot;[a-zA-Z0-9+_.-]+@[a-z-]+\\\\.[a-z]+&quot;);\n</code></pre>\n"}],"owner":{"account_id":1995082,"reputation":143,"user_id":1788205,"display_name":"MARSH"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1696407936,"accepted_answer_id":77226859,"answer_count":2,"score":0,"last_activity_date":1696395575,"creation_date":1696392173,"question_id":77226668,"body_markdown":"     public static boolean isEmailValid(String email) {\r\n            boolean isValid = false;\r\n            String expression = &quot;^[a-zA-Z0-9+_.-]+@[a-z]+\\\\.+[a-z]+&quot;;\r\n            Pattern pattern = Pattern.compile(expression, Pattern.CASE_INSENSITIVE);\r\n            Matcher matcher = pattern.matcher(email);\r\n            if (matcher.matches()) {\r\n                isValid = true;\r\n            }\r\n            return isValid;\r\n        }\r\n\r\nthis is my code for email validation its working fine but when i try to enter sanjeev@san-szabo.com  then its not allowing  using regex can any one please help me how to allow this email using above regex what i need to change . \r\n\r\nThanks ","title":"how allow email using email validation regex in android","body":"<pre><code> public static boolean isEmailValid(String email) {\n        boolean isValid = false;\n        String expression = &quot;^[a-zA-Z0-9+_.-]+@[a-z]+\\\\.+[a-z]+&quot;;\n        Pattern pattern = Pattern.compile(expression, Pattern.CASE_INSENSITIVE);\n        Matcher matcher = pattern.matcher(email);\n        if (matcher.matches()) {\n            isValid = true;\n        }\n        return isValid;\n    }\n</code></pre>\n<p>this is my code for email validation its working fine but when i try to enter sanjeev@san-szabo.com  then its not allowing  using regex can any one please help me how to allow this email using above regex what i need to change .</p>\n<p>Thanks</p>\n"},{"tags":["java","spring","hibernate","spring-boot","jpa"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1522329524,"post_id":49557014,"comment_id":86121759,"body_markdown":"Did hibernate generate that table? You don&#39;t even need to specify a FK in your code. It is purely optional","body":"Did hibernate generate that table? You don&#39;t even need to specify a FK in your code. It is purely optional"},{"owner":{"account_id":2934077,"reputation":664,"user_id":2513492,"display_name":"parthivrshah"},"score":0,"creation_date":1522329813,"post_id":49557014,"comment_id":86121975,"body_markdown":"Yes, Hibernate is generating the table but I want the name of FK is as mentioned in annotation.","body":"Yes, Hibernate is generating the table but I want the name of FK is as mentioned in annotation."},{"owner":{"account_id":7422059,"reputation":8094,"user_id":5645988,"display_name":"Madhusudana Reddy Sunnapu"},"score":0,"creation_date":1522330066,"post_id":49557014,"comment_id":86122139,"body_markdown":"Check this link. Could be duplicate of https://stackoverflow.com/questions/16564789/changing-the-generated-name-of-a-foreign-key-in-hibernate","body":"Check this link. Could be duplicate of <a href=\"https://stackoverflow.com/questions/16564789/changing-the-generated-name-of-a-foreign-key-in-hibernate\" title=\"changing the generated name of a foreign key in hibernate\">stackoverflow.com/questions/16564789/&hellip;</a>"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1522330499,"post_id":49557014,"comment_id":86122480,"body_markdown":"Have you tried to specify the `@ForeignKey` explicitly instead of have it nested in other annotations?","body":"Have you tried to specify the <code>@ForeignKey</code> explicitly instead of have it nested in other annotations?"},{"owner":{"account_id":2934077,"reputation":664,"user_id":2513492,"display_name":"parthivrshah"},"score":0,"creation_date":1522330729,"post_id":49557014,"comment_id":86122673,"body_markdown":"Yes, I have tried that solution but it is not working.","body":"Yes, I have tried that solution but it is not working."},{"owner":{"account_id":96769,"reputation":8248,"user_id":262852,"accept_rate":65,"display_name":"Thufir"},"score":0,"creation_date":1522334252,"post_id":49557014,"comment_id":86125504,"body_markdown":"@parthivrshah what is the error when you try to specify the FK explicitly","body":"@parthivrshah what is the error when you try to specify the FK explicitly"},{"owner":{"account_id":2934077,"reputation":664,"user_id":2513492,"display_name":"parthivrshah"},"score":0,"creation_date":1522381507,"post_id":49557014,"comment_id":86144475,"body_markdown":"It is not giving any error but in the db it creates randomly.","body":"It is not giving any error but in the db it creates randomly."}],"answers":[{"tags":[],"owner":{"display_name":"user8558216"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1522395044,"creation_date":1522334898,"answer_id":49559091,"question_id":49557014,"body_markdown":"With a join table this is how you should specify it\r\n\r\n    @ManyToMany\r\n    @JoinTable(name = &quot;course_program_table&quot;, \r\n        joinColumns = @JoinColumn(name = &quot;course_id&quot;, ...)\r\n        foreignKey = @ForeignKey(name = &quot;fk_program_id&quot;), \r\n        inverseJoinColumns = @JoinColumn(name = &quot;program_id&quot;, ...)\r\n        inverseForeignKey = @ForeignKey(name = &quot;fk_course_id&quot;))\r\n    private List programs;\r\n\r\nThis is how I do it with the JPA provider I use (not Hibernate), and that is why the `@JoinTable` has the &quot;foreignKey&quot;/&quot;inverseForeignKey&quot; attributes (the FKs are on/owned by the join table). \r\n\r\nIf that doesn&#39;t work then you need to be looking at raising a bug on your chosen JPA provider.","title":"How to specify foreign key with the join column?","body":"<p>With a join table this is how you should specify it</p>\n\n<pre><code>@ManyToMany\n@JoinTable(name = \"course_program_table\", \n    joinColumns = @JoinColumn(name = \"course_id\", ...)\n    foreignKey = @ForeignKey(name = \"fk_program_id\"), \n    inverseJoinColumns = @JoinColumn(name = \"program_id\", ...)\n    inverseForeignKey = @ForeignKey(name = \"fk_course_id\"))\nprivate List programs;\n</code></pre>\n\n<p>This is how I do it with the JPA provider I use (not Hibernate), and that is why the <code>@JoinTable</code> has the \"foreignKey\"/\"inverseForeignKey\" attributes (the FKs are on/owned by the join table). </p>\n\n<p>If that doesn't work then you need to be looking at raising a bug on your chosen JPA provider.</p>\n"},{"tags":[],"owner":{"account_id":2934077,"reputation":664,"user_id":2513492,"display_name":"parthivrshah"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1524649096,"creation_date":1524649096,"answer_id":50018868,"question_id":49557014,"body_markdown":"    @ManyToMany(cascade = CascadeType.REMOVE, fetch = FetchType.EAGER)\r\n\t@JoinTable(name = &quot;tten_courseservice_course_program_table&quot;, joinColumns = @JoinColumn(name = &quot;course_id&quot;, referencedColumnName = &quot;course_id&quot;), inverseJoinColumns = @JoinColumn(name = &quot;program_id&quot;, referencedColumnName = &quot;program_id&quot;))\r\n\t@ForeignKey(name=&quot;fk_tten_courseservice_course_table_course_id&quot;,inverseName=&quot;fk_tten_courseservice_program_table_program_id&quot;)\r\n\tprivate List&lt;ProgramEntity&gt; programs;``\r\n\r\nI have tried this and now I am able to generate foreign key name properly.\r\n\r\nHope it will help other.","title":"How to specify foreign key with the join column?","body":"<pre><code>@ManyToMany(cascade = CascadeType.REMOVE, fetch = FetchType.EAGER)\n@JoinTable(name = \"tten_courseservice_course_program_table\", joinColumns = @JoinColumn(name = \"course_id\", referencedColumnName = \"course_id\"), inverseJoinColumns = @JoinColumn(name = \"program_id\", referencedColumnName = \"program_id\"))\n@ForeignKey(name=\"fk_tten_courseservice_course_table_course_id\",inverseName=\"fk_tten_courseservice_program_table_program_id\")\nprivate List&lt;ProgramEntity&gt; programs;``\n</code></pre>\n\n<p>I have tried this and now I am able to generate foreign key name properly.</p>\n\n<p>Hope it will help other.</p>\n"},{"tags":[],"owner":{"account_id":6088315,"reputation":321,"user_id":4751508,"display_name":"an0nym0use"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696395492,"creation_date":1696395492,"answer_id":77226853,"question_id":49557014,"body_markdown":"All of the other answers worked for me, but I had to add additional unique contraints, else I could see additional unique keys generated in liquibase changesets.\r\n\r\nThe following covered all of the keys.\r\n\r\n        @ManyToMany\r\n        @JoinTable(name = &quot;STUDENT_COURSE_MAPPING&quot;,\r\n                joinColumns = @JoinColumn(name = &quot;STUDENT_ID&quot;, referencedColumnName = &quot;ID&quot;),\r\n                inverseJoinColumns = @JoinColumn(name = &quot;COURSE_ID&quot;, referencedColumnName = &quot;ID&quot;),\r\n                foreignKey = @ForeignKey(name=&quot;FK__STUDENT_COURSE_MAPPING__STUDENT&quot;),\r\n                inverseForeignKey = @ForeignKey(name=&quot;FK__STUDENT_COURSE_MAPPING__COURSE&quot;),\r\n                uniqueConstraints = @UniqueConstraint(name=&quot;UK__STUDENT_COURSE_MAPPING&quot;,columnNames = {&quot;STUDENT_ID&quot;,&quot;COURSE_ID&quot;})\r\n        )\r\n        private Set&lt;Course&gt; courses;\r\n\r\n","title":"How to specify foreign key with the join column?","body":"<p>All of the other answers worked for me, but I had to add additional unique contraints, else I could see additional unique keys generated in liquibase changesets.</p>\n<p>The following covered all of the keys.</p>\n<pre><code>    @ManyToMany\n    @JoinTable(name = &quot;STUDENT_COURSE_MAPPING&quot;,\n            joinColumns = @JoinColumn(name = &quot;STUDENT_ID&quot;, referencedColumnName = &quot;ID&quot;),\n            inverseJoinColumns = @JoinColumn(name = &quot;COURSE_ID&quot;, referencedColumnName = &quot;ID&quot;),\n            foreignKey = @ForeignKey(name=&quot;FK__STUDENT_COURSE_MAPPING__STUDENT&quot;),\n            inverseForeignKey = @ForeignKey(name=&quot;FK__STUDENT_COURSE_MAPPING__COURSE&quot;),\n            uniqueConstraints = @UniqueConstraint(name=&quot;UK__STUDENT_COURSE_MAPPING&quot;,columnNames = {&quot;STUDENT_ID&quot;,&quot;COURSE_ID&quot;})\n    )\n    private Set&lt;Course&gt; courses;\n</code></pre>\n"}],"owner":{"account_id":2934077,"reputation":664,"user_id":2513492,"display_name":"parthivrshah"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16693,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":50018868,"answer_count":3,"score":9,"last_activity_date":1696395492,"creation_date":1522329173,"question_id":49557014,"body_markdown":"My code is as below. I am using the spring boot with jpa and postgresql database\r\nI need user friendly name as foreign key.\r\n&lt;pre&gt;\r\n\r\n    @Entity\r\n    @Table(name=&quot;course_table&quot;)\r\n    public class Course extends BaseAuditingEntity {\r\n\r\n    @ManyToMany(cascade = CascadeType.REMOVE, fetch = FetchType.EAGER)\r\n\t@JoinTable(name = &quot;course_program_table&quot;, joinColumns = @JoinColumn(name = &quot;course_id&quot;, referencedColumnName = &quot;course_id&quot;, foreignKey = @ForeignKey(name = &quot;fk_program_id&quot;)), inverseJoinColumns = @JoinColumn(name = &quot;program_id&quot;, referencedColumnName = &quot;program_id&quot;, foreignKey = @ForeignKey(name = &quot;fk_course_id&quot;)))\r\n\tprivate List&lt;Program&gt; programs;\r\n    }\r\n\r\n&lt;/pre&gt;\r\nI have given the name of foreign key using the @ForeignKey annotation but when I see db it is showing the randomly created foreignkey name.\r\n\r\n&lt;pre&gt;\r\nCREATE TABLE course_program_table\r\n(\r\n    course_id integer NOT NULL,\r\n    program_id integer NOT NULL,\r\n    CONSTRAINT &lt;b&gt;fk_28c95hl4nqclyvyxuduei5nbf&lt;/b&gt; FOREIGN KEY (program_id)\r\n        REFERENCES public.program_table (program_id) MATCH SIMPLE\r\n        ON UPDATE NO ACTION\r\n        ON DELETE NO ACTION,\r\n    CONSTRAINT &lt;b&gt;fk_5sainywquv8yyu24pjk3jptn7&lt;/b&gt; FOREIGN KEY (course_id)\r\n        REFERENCES public.course_table (course_id) MATCH SIMPLE\r\n        ON UPDATE NO ACTION\r\n        ON DELETE NO ACTION\r\n)\r\n&lt;/pre&gt;\r\n\r\nI need foreign key as mentioned in the annotation like fk_program_id and fk_course_id.\r\n\r\nThanks in advance.","title":"How to specify foreign key with the join column?","body":"<p>My code is as below. I am using the spring boot with jpa and postgresql database\nI need user friendly name as foreign key.</p>\n\n<pre>\n\n    @Entity\n    @Table(name=\"course_table\")\n    public class Course extends BaseAuditingEntity {\n\n    @ManyToMany(cascade = CascadeType.REMOVE, fetch = FetchType.EAGER)\n    @JoinTable(name = \"course_program_table\", joinColumns = @JoinColumn(name = \"course_id\", referencedColumnName = \"course_id\", foreignKey = @ForeignKey(name = \"fk_program_id\")), inverseJoinColumns = @JoinColumn(name = \"program_id\", referencedColumnName = \"program_id\", foreignKey = @ForeignKey(name = \"fk_course_id\")))\n    private List programs;\n    }\n\n</pre>\n\n<p>I have given the name of foreign key using the @ForeignKey annotation but when I see db it is showing the randomly created foreignkey name.</p>\n\n<pre>\nCREATE TABLE course_program_table\n(\n    course_id integer NOT NULL,\n    program_id integer NOT NULL,\n    CONSTRAINT <b>fk_28c95hl4nqclyvyxuduei5nbf</b> FOREIGN KEY (program_id)\n        REFERENCES public.program_table (program_id) MATCH SIMPLE\n        ON UPDATE NO ACTION\n        ON DELETE NO ACTION,\n    CONSTRAINT <b>fk_5sainywquv8yyu24pjk3jptn7</b> FOREIGN KEY (course_id)\n        REFERENCES public.course_table (course_id) MATCH SIMPLE\n        ON UPDATE NO ACTION\n        ON DELETE NO ACTION\n)\n</pre>\n\n<p>I need foreign key as mentioned in the annotation like fk_program_id and fk_course_id.</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["javascript","java","get","teavm"],"answers":[{"tags":[],"owner":{"account_id":1120999,"reputation":2035,"user_id":1109309,"accept_rate":62,"display_name":"Alexey Andreev"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1696395045,"creation_date":1696395045,"answer_id":77226830,"question_id":77225279,"body_markdown":"According to [documentation](https://teavm.org/docs/runtime/jso.html) `FetchCallback` must extend `JSObject` interface. BTW, TeaVM already comes with wrappers for [XMLHttpRequest](https://github.com/konsoletyper/teavm/blob/7ff56d7a94fe723f1b9936764c0e2fd5dab54d7f/jso/apis/src/main/java/org/teavm/jso/ajax/XMLHttpRequest.java).","title":"GET request in TeaVM","body":"<p>According to <a href=\"https://teavm.org/docs/runtime/jso.html\" rel=\"nofollow noreferrer\">documentation</a> <code>FetchCallback</code> must extend <code>JSObject</code> interface. BTW, TeaVM already comes with wrappers for <a href=\"https://github.com/konsoletyper/teavm/blob/7ff56d7a94fe723f1b9936764c0e2fd5dab54d7f/jso/apis/src/main/java/org/teavm/jso/ajax/XMLHttpRequest.java\" rel=\"nofollow noreferrer\">XMLHttpRequest</a>.</p>\n"}],"owner":{"account_id":8979189,"reputation":55,"user_id":6694947,"display_name":"mazi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77226830,"answer_count":1,"score":0,"last_activity_date":1696395045,"creation_date":1696364084,"question_id":77225279,"body_markdown":"I want to make a GET request to an URL in Java so that it can be transpiled to Javascript via TeaVM. I understand that I can&#39;t use the java.net API, because it is not supported by TeaVM. So I tried to make a Javascript-function which can be used by TeaVM.\r\n````\r\n@JSBody(params = { &quot;url&quot;, &quot;callback&quot; }, script = &quot;fetch(url)\\n&quot;\r\n                                                     + &quot;.then(response =&gt; response.text())\\n&quot;\r\n                                                     + &quot;.then(text =&gt; callback.complete(text))\\n&quot;\r\n                                                     + &quot;.catch(error =&gt; callback.error(error.message));&quot;)\r\n    static native void fetch(String url, FetchCallback callback);\r\n````\r\nMy Java Interface is simple:\r\n````\r\npublic interface FetchCallback {\r\n        void complete(String result);\r\n        void error(String message);\r\n    }\r\n````\r\nWhen i run the install Maven target, I get this error:\r\n\r\n*[ERROR] Method org.example.Client.fetch(Ljava/lang/String;Lorg/example/Client$FetchCallback;)V is not a proper native JavaScript method declaration: its 2th parameter has wrong type*\r\n\r\nUnfortunately my JS knowledge is very limited (hence TeaVM) so I can&#39;t make sense of this error message. Could someone please help me with how to make a GET request in TeaVM?\r\n","title":"GET request in TeaVM","body":"<p>I want to make a GET request to an URL in Java so that it can be transpiled to Javascript via TeaVM. I understand that I can't use the java.net API, because it is not supported by TeaVM. So I tried to make a Javascript-function which can be used by TeaVM.</p>\n<pre><code>@JSBody(params = { &quot;url&quot;, &quot;callback&quot; }, script = &quot;fetch(url)\\n&quot;\n                                                     + &quot;.then(response =&gt; response.text())\\n&quot;\n                                                     + &quot;.then(text =&gt; callback.complete(text))\\n&quot;\n                                                     + &quot;.catch(error =&gt; callback.error(error.message));&quot;)\n    static native void fetch(String url, FetchCallback callback);\n</code></pre>\n<p>My Java Interface is simple:</p>\n<pre><code>public interface FetchCallback {\n        void complete(String result);\n        void error(String message);\n    }\n</code></pre>\n<p>When i run the install Maven target, I get this error:</p>\n<p><em>[ERROR] Method org.example.Client.fetch(Ljava/lang/String;Lorg/example/Client$FetchCallback;)V is not a proper native JavaScript method declaration: its 2th parameter has wrong type</em></p>\n<p>Unfortunately my JS knowledge is very limited (hence TeaVM) so I can't make sense of this error message. Could someone please help me with how to make a GET request in TeaVM?</p>\n"},{"tags":["java","rest","upload","quarkus","multipart"],"comments":[{"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"score":0,"creation_date":1695706177,"post_id":77176602,"comment_id":136056303,"body_markdown":"I actually don&#39;t think we support `FileUpload` in the client yet... Mind opening an issue?","body":"I actually don&#39;t think we support <code>FileUpload</code> in the client yet... Mind opening an issue?"},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1695717690,"post_id":77176602,"comment_id":136058348,"body_markdown":"It shouldn&#39;t be too hard to create a `MessageBodyWriter&lt;FileUpload&gt;`. I&#39;ve done the opposite for clients consuming `StreamingOutput` - I created a relatively simple `MessageBodyReader&lt;StreamingOutput&gt;`.","body":"It shouldn&#39;t be too hard to create a <code>MessageBodyWriter&lt;FileUpload&gt;</code>. I&#39;ve done the opposite for clients consuming <code>StreamingOutput</code> - I created a relatively simple <code>MessageBodyReader&lt;StreamingOutput&gt;</code>."}],"owner":{"account_id":29513648,"reputation":1,"user_id":22618100,"display_name":"Andre"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696394618,"creation_date":1695693104,"question_id":77176602,"body_markdown":"I want to create an endpoint to upload files and inside this endpoint send these files to another endpoint. Like this:\r\n\r\n```\r\n[front-end] ----(files)----&gt; [UploadResource] ----(samefiles)----&gt; [ApiServiceResource]\r\n```\r\n\r\nThe first endpoint get all files uploaded but sending these files from this endpoint to the second endpoint it receives an empty list.\r\n\r\n**imports:**\r\n\r\n```\r\nimport java.util.List;\r\nimport org.eclipse.microprofile.rest.client.inject.RestClient;\r\nimport org.jboss.resteasy.reactive.PartType;\r\nimport org.jboss.resteasy.reactive.RestForm;\r\nimport org.jboss.resteasy.reactive.multipart.FileUpload;\r\nimport jakarta.inject.Inject;\r\nimport jakarta.ws.rs.Consumes;\r\nimport jakarta.ws.rs.POST;\r\nimport jakarta.ws.rs.Path;\r\nimport jakarta.ws.rs.Produces;\r\nimport jakarta.ws.rs.core.MediaType;\r\nimport jakarta.ws.rs.core.Response;\r\n```\r\n\r\n**Upload class:**\r\n\r\n```\r\n@Path(&quot;/v1/upload&quot;)\r\npublic class UploadResource {\r\n  @Inject\r\n  @RestClient\r\n  ApiService apiService;\r\n\r\n  @POST\r\n  @Consumes(MediaType.MULTIPART_FORM_DATA)\r\n  @Produces(MediaType.TEXT_PLAIN)\r\n  public Response uploadFiles(@RestForm(FileUpload.ALL) PartType(MediaType.APPLICATION_OCTET_STREAM) List&lt;FileUpload&gt; files) {\r\n    System.out.println(&quot;endpoint &#39;v1/upload&#39; received &quot; + files.size() + &quot; files&quot;);\r\n    apiService.receiveFiles(files);\r\n    return Response.ok().build();\r\n  }\r\n```\r\n\r\n**ApiService interface:**\r\n\r\n```\r\n@RegisterRestClient(configKey = &quot;api-service&quot;)\r\npublic interface ApiService {\r\n  @POST\r\n  @Path(&quot;v1/receivefiles&quot;)\r\n  @Consumes(MediaType.MULTIPART_FORM_DATA)\r\n  @Produces(MediaType.TEXT_PLAIN)\r\n  Response receiveFiles(@RestForm(FileUpload.ALL) @PartType(MediaType.APPLICATION_OCTET_STREAM) List&lt;FileUpload&gt; files);\r\n}\r\n```\r\n\r\n**ApiServiceResource class:**\r\n\r\n```\r\n@Path(&quot;/api-service&quot;)\r\npublic class ApiServiceResource {\r\n  @POST\r\n  @Path(&quot;v1/receivefiles&quot;)\r\n  @Consumes(MediaType.MULTIPART_FORM_DATA)\r\n  @Produces(MediaType.TEXT_PLAIN)\r\n  public Response receiveFiles(@RestForm(FileUpload.ALL) @PartType(MediaType.APPLICATION_OCTET_STREAM) List&lt;FileUpload&gt; files) {\r\n    System.out.println(&quot;endpoint &#39;api-service/v1/receivefiles&#39; received &quot; + files.size() + &quot; files&quot;);\r\n    return Response.ok().build();\r\n  }\r\n}\r\n```\r\n\r\nAfter sending a POST request with 3 files to ```&#39;.../v1/upload&#39;``` the console shows this:\r\n\r\n**Console:**\r\n\r\n```\r\nendpoint &#39;v1/upload&#39; received 3 files\r\nendpoint &#39;api-service/v1/receivefiles&#39; received 0 files\r\n```\r\n\r\n*Note*: *If the POST request points directly to ```&#39;api-service/v1/receivefiles&#39;``` it works fine*","title":"Java Rest Upload - how to upload files to an endpoint and bypass these files to a second endpoint?","body":"<p>I want to create an endpoint to upload files and inside this endpoint send these files to another endpoint. Like this:</p>\n<pre><code>[front-end] ----(files)----&gt; [UploadResource] ----(samefiles)----&gt; [ApiServiceResource]\n</code></pre>\n<p>The first endpoint get all files uploaded but sending these files from this endpoint to the second endpoint it receives an empty list.</p>\n<p><strong>imports:</strong></p>\n<pre><code>import java.util.List;\nimport org.eclipse.microprofile.rest.client.inject.RestClient;\nimport org.jboss.resteasy.reactive.PartType;\nimport org.jboss.resteasy.reactive.RestForm;\nimport org.jboss.resteasy.reactive.multipart.FileUpload;\nimport jakarta.inject.Inject;\nimport jakarta.ws.rs.Consumes;\nimport jakarta.ws.rs.POST;\nimport jakarta.ws.rs.Path;\nimport jakarta.ws.rs.Produces;\nimport jakarta.ws.rs.core.MediaType;\nimport jakarta.ws.rs.core.Response;\n</code></pre>\n<p><strong>Upload class:</strong></p>\n<pre><code>@Path(&quot;/v1/upload&quot;)\npublic class UploadResource {\n  @Inject\n  @RestClient\n  ApiService apiService;\n\n  @POST\n  @Consumes(MediaType.MULTIPART_FORM_DATA)\n  @Produces(MediaType.TEXT_PLAIN)\n  public Response uploadFiles(@RestForm(FileUpload.ALL) PartType(MediaType.APPLICATION_OCTET_STREAM) List&lt;FileUpload&gt; files) {\n    System.out.println(&quot;endpoint 'v1/upload' received &quot; + files.size() + &quot; files&quot;);\n    apiService.receiveFiles(files);\n    return Response.ok().build();\n  }\n</code></pre>\n<p><strong>ApiService interface:</strong></p>\n<pre><code>@RegisterRestClient(configKey = &quot;api-service&quot;)\npublic interface ApiService {\n  @POST\n  @Path(&quot;v1/receivefiles&quot;)\n  @Consumes(MediaType.MULTIPART_FORM_DATA)\n  @Produces(MediaType.TEXT_PLAIN)\n  Response receiveFiles(@RestForm(FileUpload.ALL) @PartType(MediaType.APPLICATION_OCTET_STREAM) List&lt;FileUpload&gt; files);\n}\n</code></pre>\n<p><strong>ApiServiceResource class:</strong></p>\n<pre><code>@Path(&quot;/api-service&quot;)\npublic class ApiServiceResource {\n  @POST\n  @Path(&quot;v1/receivefiles&quot;)\n  @Consumes(MediaType.MULTIPART_FORM_DATA)\n  @Produces(MediaType.TEXT_PLAIN)\n  public Response receiveFiles(@RestForm(FileUpload.ALL) @PartType(MediaType.APPLICATION_OCTET_STREAM) List&lt;FileUpload&gt; files) {\n    System.out.println(&quot;endpoint 'api-service/v1/receivefiles' received &quot; + files.size() + &quot; files&quot;);\n    return Response.ok().build();\n  }\n}\n</code></pre>\n<p>After sending a POST request with 3 files to <code>'.../v1/upload'</code> the console shows this:</p>\n<p><strong>Console:</strong></p>\n<pre><code>endpoint 'v1/upload' received 3 files\nendpoint 'api-service/v1/receivefiles' received 0 files\n</code></pre>\n<p><em>Note</em>: <em>If the POST request points directly to <code>'api-service/v1/receivefiles'</code> it works fine</em></p>\n"},{"tags":["java","swing","window","awt","screen"],"comments":[{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":0,"creation_date":1696391467,"post_id":77226605,"comment_id":136145214,"body_markdown":"I refactored my code example to use `SwingUtilities.invokeLater` because Swing should always run on the Event Thread. Didn&#39;t solve the problem though.","body":"I refactored my code example to use <code>SwingUtilities.invokeLater</code> because Swing should always run on the Event Thread. Didn&#39;t solve the problem though."},{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":2,"creation_date":1696391529,"post_id":77226605,"comment_id":136145219,"body_markdown":"Yes, calling `setLocationByPlatform` on a large `JFrame` will display part of the `JFrame` off screen.  Reduce the size or number of Swing components in your `JFrame`.  Put long text in a `JScrollPane`.  Use `JDialogs` to display some information.","body":"Yes, calling <code>setLocationByPlatform</code> on a large <code>JFrame</code> will display part of the <code>JFrame</code> off screen.  Reduce the size or number of Swing components in your <code>JFrame</code>.  Put long text in a <code>JScrollPane</code>.  Use <code>JDialogs</code> to display some information."},{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":0,"creation_date":1696391734,"post_id":77226605,"comment_id":136145234,"body_markdown":"@GilbertLeBlanc Thanks for the response. Agreed, this is definitely common knowledge ways to get around this. I guess I am just more surprised that a method as encouraged as `pack()` would default to shoving things off-screen. I felt like that is something where they would either have coded it not to do that, or provided another method that would undo that from happening. Maybe a *`resizeToAvoidClippingScreen`* method or something.","body":"@GilbertLeBlanc Thanks for the response. Agreed, this is definitely common knowledge ways to get around this. I guess I am just more surprised that a method as encouraged as <code>pack()</code> would default to shoving things off-screen. I felt like that is something where they would either have coded it not to do that, or provided another method that would undo that from happening. Maybe a <i><code>resizeToAvoidClippingScreen</code></i> method or something."},{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":2,"creation_date":1696391924,"post_id":77226605,"comment_id":136145251,"body_markdown":"`pack` just calculates the preferred size of your Swing components.  If the result is a 50000 x 30000 `JFrame`, that&#39;s on the developer to correct.","body":"<code>pack</code> just calculates the preferred size of your Swing components.  If the result is a 50000 x 30000 <code>JFrame</code>, that&#39;s on the developer to correct."},{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":0,"creation_date":1696392318,"post_id":77226605,"comment_id":136145280,"body_markdown":"@GilbertLeBlanc You know, I think you helped point me to the right answer. If I think about it some more, what would it be like to have a `resizeToProper` method? Yes, it would do the job, but what if through some unfortunate coincidence, the resizing makes the window look like there are no more components, but there actually are more, just cut off by the window? That would make my method a ***REALLY DANGEROUS*** method because then I run the risk of having components hidden for users when they are actually there. I&#39;ll put that as an answer. Thank you for the help!","body":"@GilbertLeBlanc You know, I think you helped point me to the right answer. If I think about it some more, what would it be like to have a <code>resizeToProper</code> method? Yes, it would do the job, but what if through some unfortunate coincidence, the resizing makes the window look like there are no more components, but there actually are more, just cut off by the window? That would make my method a <b><i>REALLY DANGEROUS</i></b> method because then I run the risk of having components hidden for users when they are actually there. I&#39;ll put that as an answer. Thank you for the help!"},{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":0,"creation_date":1696394393,"post_id":77226605,"comment_id":136145420,"body_markdown":"@GilbertLeBlanc Posted the answer. Ty again!","body":"@GilbertLeBlanc Posted the answer. Ty again!"}],"answers":[{"tags":[],"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696394360,"creation_date":1696394360,"answer_id":77226791,"question_id":77226605,"body_markdown":"After thinking about it, I am pretty sure I have a very good reason why the answer is no. Not a definitive, backed by documentation answer, but one that is logical.\r\n\r\nImagine we did have that method -- `resizeToAvoidClippingScreen()`. While it would certainly be convenient, in rare occasions, it would actually be ***DANGEROUS***.\r\n\r\nImagine I have a grid of squares where each square has a large gap between all of its neighbors. On small screens, you run the risk of having the squares on the right and the bottom cut off, but in a convincing way that is not obvious to the user that there is a component hidden. Here is a visual example.\r\n\r\nHere is our grid.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nNow, on a large window, they may look like this.\r\n\r\n[![enter image description here][2]][2]\r\n\r\nBut on a small window, if we used our magic method and let the content get cutoff by the window instead of letting the window get cut off by the screen, we might end up with this instead.\r\n\r\n[![enter image description here][3]][3]\r\n\r\nAs you can see, it might be completely non-obvious to the user that content is cut off of the screen.\r\n\r\nThat is the danger of this method. Introducing this method would end up causing a whole bunch of issues that are hard to find and easy to make.\r\n\r\nNow, obviously, if you have content that is so wildly out of bounds that it careens off the screen, then that&#39;s on the developer. But, for methods like `pack()`, they will try their best to fit it in, but will extend the window slightly off screen if needed. If anything, it&#39;s a good signifier that your content is a little too big and needs to be broken up.\r\n\r\nGilbert Le Blanc gave some good examples on how to do that above. You can use [`JScrollPane`][4] to add scroll bars when your content gets too big. You can move some of the content into a popup window called a [`JDialog`][5] or [`JOptionPane`][6]. You could use [`CardLayout`][7], a layout that allows you to cycle through your components one by one (paginate through them) on the same frame.\r\n\r\nAs is, if your frame has so many components that `pack()` ends up putting your frame slightly off-screen, consider that to be Swing&#39;s gentle hint that there is too much content in your frame at one time, and you need to rework your solution. Understanding that, I&#39;m glad they did it this way. It would be much harder to discover if `pack()` tried to keep everything on screen so diligently, even in examples where there is just enough space to do so. As is, even when there is just enough space to fit everything, `pack()` will still shift you slightly off-screen, almost like an intentional hint by Swing that you still need to rework the frame.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/EVVAB.png\r\n  [2]: https://i.stack.imgur.com/Y9AKR.png\r\n  [3]: https://i.stack.imgur.com/bhwmh.png\r\n  [4]: https://docs.oracle.com/en/java/javase/21/docs/api/java.desktop/javax/swing/JScrollPane.html\r\n  [5]: https://docs.oracle.com/en/java/javase/21/docs/api/java.desktop/javax/swing/JDialog.html\r\n  [6]: https://docs.oracle.com/en/java/javase/21/docs/api/java.desktop/javax/swing/JOptionPane.html\r\n  [7]: https://docs.oracle.com/en/java/javase/21/docs/api/java.desktop/java/awt/CardLayout.html","title":"How to prevent JFrame from being oversized for window when calling pack()?","body":"<p>After thinking about it, I am pretty sure I have a very good reason why the answer is no. Not a definitive, backed by documentation answer, but one that is logical.</p>\n<p>Imagine we did have that method -- <code>resizeToAvoidClippingScreen()</code>. While it would certainly be convenient, in rare occasions, it would actually be <em><strong>DANGEROUS</strong></em>.</p>\n<p>Imagine I have a grid of squares where each square has a large gap between all of its neighbors. On small screens, you run the risk of having the squares on the right and the bottom cut off, but in a convincing way that is not obvious to the user that there is a component hidden. Here is a visual example.</p>\n<p>Here is our grid.</p>\n<p><a href=\"https://i.stack.imgur.com/EVVAB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EVVAB.png\" alt=\"enter image description here\" /></a></p>\n<p>Now, on a large window, they may look like this.</p>\n<p><a href=\"https://i.stack.imgur.com/Y9AKR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Y9AKR.png\" alt=\"enter image description here\" /></a></p>\n<p>But on a small window, if we used our magic method and let the content get cutoff by the window instead of letting the window get cut off by the screen, we might end up with this instead.</p>\n<p><a href=\"https://i.stack.imgur.com/bhwmh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bhwmh.png\" alt=\"enter image description here\" /></a></p>\n<p>As you can see, it might be completely non-obvious to the user that content is cut off of the screen.</p>\n<p>That is the danger of this method. Introducing this method would end up causing a whole bunch of issues that are hard to find and easy to make.</p>\n<p>Now, obviously, if you have content that is so wildly out of bounds that it careens off the screen, then that's on the developer. But, for methods like <code>pack()</code>, they will try their best to fit it in, but will extend the window slightly off screen if needed. If anything, it's a good signifier that your content is a little too big and needs to be broken up.</p>\n<p>Gilbert Le Blanc gave some good examples on how to do that above. You can use <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.desktop/javax/swing/JScrollPane.html\" rel=\"nofollow noreferrer\"><code>JScrollPane</code></a> to add scroll bars when your content gets too big. You can move some of the content into a popup window called a <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.desktop/javax/swing/JDialog.html\" rel=\"nofollow noreferrer\"><code>JDialog</code></a> or <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.desktop/javax/swing/JOptionPane.html\" rel=\"nofollow noreferrer\"><code>JOptionPane</code></a>. You could use <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.desktop/java/awt/CardLayout.html\" rel=\"nofollow noreferrer\"><code>CardLayout</code></a>, a layout that allows you to cycle through your components one by one (paginate through them) on the same frame.</p>\n<p>As is, if your frame has so many components that <code>pack()</code> ends up putting your frame slightly off-screen, consider that to be Swing's gentle hint that there is too much content in your frame at one time, and you need to rework your solution. Understanding that, I'm glad they did it this way. It would be much harder to discover if <code>pack()</code> tried to keep everything on screen so diligently, even in examples where there is just enough space to do so. As is, even when there is just enough space to fit everything, <code>pack()</code> will still shift you slightly off-screen, almost like an intentional hint by Swing that you still need to rework the frame.</p>\n"}],"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696394360,"creation_date":1696390970,"question_id":77226605,"body_markdown":"I have a [`JFrame`][1] that uses the method [`pack()`][2] to minimize the size of the components within the frame. This works well enough, but occasionally, due to something upon startup, I&#39;ll have a lot of components and the frame will be gigantic. Technically, the frame won&#39;t be bigger than my screen, but essentially it will be the same size.\r\n\r\nI also call a method on my `JFrame` called [`setLocationByPlatform(true)`][3], which places my frame in the platform-relative default location.\r\n\r\nHowever, when calling these 2 together, they end up with part of my frame being off-screen.\r\n\r\nNow, there are a million-and-1 ways to work around this. I could full screen my application, which is most likely the real solution here. I could deactivate either or both options. I could set my size and location explicitly. And there&#39;s more solutions.\r\n\r\nBut is there any way to call both `pack()` and `setLocationByPlatform(true)` without ending up with my frame partially off-screen? Excluding above solutions of course. I&#39;ll accept no as an answer if it can be backed up (maybe docs say these 2 can contradict each other, or something like that). I just want my window to be fully on-screen after calling both of the mentioned methods.\r\n\r\nAnd to be clear, I am A-OK with the actual content on my frame being cut off because the frame is too small. By all means, if the frame is too small to hold all of the content, that is a different problem that I already have solutions that I ***will later*** apply. But for now, to demonstrate the point, I am A-OK with an answer that allows content to be cutoff the window, but the full window is fully on-screen.\r\n\r\nAnd not that this needs a code example, but here is one.\r\n\r\n```java\r\nimport javax.swing.*;\r\n\r\npublic class SOQ_20231003\r\n{\r\n\r\n   public static void main(final String[] args)\r\n   {\r\n\r\n      SwingUtilities.invokeLater(SOQ_20231003::new);\r\n\r\n   }\r\n\r\n   public SOQ_20231003()\r\n   {\r\n   \r\n      final JFrame frame = new JFrame();\r\n      \r\n      frame.setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);\r\n   \r\n      final JPanel panel = new JPanel();\r\n   \r\n      for (int i = 0; i &lt; 100; i++)\r\n      {\r\n      \r\n         final JButton button = new JButton();\r\n      \r\n         final String text = \r\n            &quot;&quot;&quot;\r\n            &lt;html&gt;\r\n            &lt;p&gt;\r\n            Totam qui nihil qui possimus architecto. Quo quia voluptatem possimus. Aliquid praesentium ab assumenda nisi eligendi eum dolore sed. Sint dolorem eaque est vitae ipsam architecto. Consectetur consequatur ipsum assumenda nostrum debitis ab a nobis. Dignissimos nobis rem aut nihil mollitia rerum. Porro quis neque eos. Dolorum eum sit aperiam cumque velit nulla quidem qui. Velit facilis maiores rerum mollitia. Tempore dolor consequatur quis. Similique minima animi et et repellat quam. Hic dolore voluptatem tempora est et dolor atque dolores. Odio est repellendus fugiat neque ut quas sunt quia. Sunt ea ab qui. Placeat pariatur dolores quis earum exercitationem. Nulla aut id nulla pariatur. Officia architecto sunt ipsum. Quo voluptatibus aut qui voluptates velit accusamus fuga. Beatae et ullam adipisci. Quo ducimus et in quam soluta officia ducimus. Placeat molestiae qui quia ut. Sint dolorem porro amet minus. Labore expedita dolorem omnis eveniet et quis.\r\n            &lt;/p&gt;\r\n            &lt;/html&gt;\r\n            &quot;&quot;&quot;\r\n            ;\r\n      \r\n         button.setText(text);\r\n         \r\n         panel.add(button);\r\n      \r\n      }\r\n      \r\n      frame.add(panel);\r\n      \r\n      frame.pack();\r\n      frame.setLocationByPlatform(true);\r\n      \r\n      frame.setVisible(true); //image is cut-off on the right hand side of the screen!\r\n   \r\n   }\r\n\r\n}\r\n```\r\n\r\nI guess I am just more surprised that a method as encouraged as `pack()` or `setLocationByPlatform(true)` would default to shoving things off-screen. I felt like that is something where they would either have coded it not to do that, or provided another method that would undo that from happening. Maybe a *`resizeToAvoidClippingScreen`* method or something.\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/21/docs/api/java.desktop/javax/swing/JFrame.html\r\n  [2]: https://docs.oracle.com/en/java/javase/21/docs/api/java.desktop/java/awt/Window.html#pack()\r\n  [3]: https://docs.oracle.com/en/java/javase/21/docs/api/java.desktop/java/awt/Window.html#setLocationByPlatform(boolean)","title":"How to prevent JFrame from being oversized for window when calling pack()?","body":"<p>I have a <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.desktop/javax/swing/JFrame.html\" rel=\"nofollow noreferrer\"><code>JFrame</code></a> that uses the method <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.desktop/java/awt/Window.html#pack()\" rel=\"nofollow noreferrer\"><code>pack()</code></a> to minimize the size of the components within the frame. This works well enough, but occasionally, due to something upon startup, I'll have a lot of components and the frame will be gigantic. Technically, the frame won't be bigger than my screen, but essentially it will be the same size.</p>\n<p>I also call a method on my <code>JFrame</code> called <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.desktop/java/awt/Window.html#setLocationByPlatform(boolean)\" rel=\"nofollow noreferrer\"><code>setLocationByPlatform(true)</code></a>, which places my frame in the platform-relative default location.</p>\n<p>However, when calling these 2 together, they end up with part of my frame being off-screen.</p>\n<p>Now, there are a million-and-1 ways to work around this. I could full screen my application, which is most likely the real solution here. I could deactivate either or both options. I could set my size and location explicitly. And there's more solutions.</p>\n<p>But is there any way to call both <code>pack()</code> and <code>setLocationByPlatform(true)</code> without ending up with my frame partially off-screen? Excluding above solutions of course. I'll accept no as an answer if it can be backed up (maybe docs say these 2 can contradict each other, or something like that). I just want my window to be fully on-screen after calling both of the mentioned methods.</p>\n<p>And to be clear, I am A-OK with the actual content on my frame being cut off because the frame is too small. By all means, if the frame is too small to hold all of the content, that is a different problem that I already have solutions that I <em><strong>will later</strong></em> apply. But for now, to demonstrate the point, I am A-OK with an answer that allows content to be cutoff the window, but the full window is fully on-screen.</p>\n<p>And not that this needs a code example, but here is one.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import javax.swing.*;\n\npublic class SOQ_20231003\n{\n\n   public static void main(final String[] args)\n   {\n\n      SwingUtilities.invokeLater(SOQ_20231003::new);\n\n   }\n\n   public SOQ_20231003()\n   {\n   \n      final JFrame frame = new JFrame();\n      \n      frame.setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);\n   \n      final JPanel panel = new JPanel();\n   \n      for (int i = 0; i &lt; 100; i++)\n      {\n      \n         final JButton button = new JButton();\n      \n         final String text = \n            &quot;&quot;&quot;\n            &lt;html&gt;\n            &lt;p&gt;\n            Totam qui nihil qui possimus architecto. Quo quia voluptatem possimus. Aliquid praesentium ab assumenda nisi eligendi eum dolore sed. Sint dolorem eaque est vitae ipsam architecto. Consectetur consequatur ipsum assumenda nostrum debitis ab a nobis. Dignissimos nobis rem aut nihil mollitia rerum. Porro quis neque eos. Dolorum eum sit aperiam cumque velit nulla quidem qui. Velit facilis maiores rerum mollitia. Tempore dolor consequatur quis. Similique minima animi et et repellat quam. Hic dolore voluptatem tempora est et dolor atque dolores. Odio est repellendus fugiat neque ut quas sunt quia. Sunt ea ab qui. Placeat pariatur dolores quis earum exercitationem. Nulla aut id nulla pariatur. Officia architecto sunt ipsum. Quo voluptatibus aut qui voluptates velit accusamus fuga. Beatae et ullam adipisci. Quo ducimus et in quam soluta officia ducimus. Placeat molestiae qui quia ut. Sint dolorem porro amet minus. Labore expedita dolorem omnis eveniet et quis.\n            &lt;/p&gt;\n            &lt;/html&gt;\n            &quot;&quot;&quot;\n            ;\n      \n         button.setText(text);\n         \n         panel.add(button);\n      \n      }\n      \n      frame.add(panel);\n      \n      frame.pack();\n      frame.setLocationByPlatform(true);\n      \n      frame.setVisible(true); //image is cut-off on the right hand side of the screen!\n   \n   }\n\n}\n</code></pre>\n<p>I guess I am just more surprised that a method as encouraged as <code>pack()</code> or <code>setLocationByPlatform(true)</code> would default to shoving things off-screen. I felt like that is something where they would either have coded it not to do that, or provided another method that would undo that from happening. Maybe a <em><code>resizeToAvoidClippingScreen</code></em> method or something.</p>\n"},{"tags":["java","design-patterns","jackson","abstraction"],"comments":[{"owner":{"account_id":1455702,"reputation":15662,"user_id":1371329,"accept_rate":64,"display_name":"jaco0646"},"score":0,"creation_date":1696515359,"post_id":77226731,"comment_id":136165456,"body_markdown":"related: [The Rule of Three](https://andrewbrookins.com/technology/the-rule-of-three/) and [The Wrong Abstraction](https://sandimetz.com/blog/2016/1/20/the-wrong-abstraction)","body":"related: <a href=\"https://andrewbrookins.com/technology/the-rule-of-three/\" rel=\"nofollow noreferrer\">The Rule of Three</a> and <a href=\"https://sandimetz.com/blog/2016/1/20/the-wrong-abstraction\" rel=\"nofollow noreferrer\">The Wrong Abstraction</a>"},{"owner":{"account_id":28965224,"reputation":321,"user_id":22186847,"display_name":"JoreJoh"},"score":0,"creation_date":1696782260,"post_id":77226731,"comment_id":136194398,"body_markdown":"@jaco0646 I understand what you mean. However, I&#39;m still curious what the solution is","body":"@jaco0646 I understand what you mean. However, I&#39;m still curious what the solution is"}],"owner":{"account_id":28965224,"reputation":321,"user_id":22186847,"display_name":"JoreJoh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696393266,"creation_date":1696393266,"question_id":77226731,"body_markdown":"I decorated an `ObjectMapper` and provided an additional abstraction layer to avoid coupling with `ObjectMapper` directly. Take a look:\r\n```java\r\nclass ClientServerCommunicator {\r\n    private static final Serializer serializer = new JacksonSerializer();\r\n    // more code\r\n```\r\n```java\r\npublic interface Serializer {\r\n    String serialize(Object object);\r\n    &lt;T&gt; T deserialize(String serializedObject, Class&lt;T&gt; clazz);\r\n}\r\n```\r\n```java\r\npublic class JacksonSerializer implements Serializer {\r\n    private final ObjectMapper objectMapper = new ObjectMapper();\r\n    @Override\r\n    @SneakyThrows\r\n    public String serialize(Object object) {\r\n        return objectMapper.writeValueAsString(object);\r\n    }\r\n\r\n    @Override\r\n    @SneakyThrows\r\n    public &lt;T&gt; T deserialize(String serializedObject, Class&lt;T&gt; clazz) {\r\n        return objectMapper.readValue(serializedObject, clazz);\r\n    }\r\n    @SneakyThrows\r\n    // not present in the interface!\r\n    public &lt;T&gt; T deserialize(String serializedObject, TypeReference&lt;T&gt; typeReference) {\r\n        return objectMapper.readValue(serializedObject, typeReference);\r\n    }\r\n}\r\n```\r\nHowever, when it comes to deserialization of generic types, I&#39;m not sure how I should describe it in my interface. So far, I simply cast to `JacksonSerializer` which will fail if I decide to use another implementation\r\n```java\r\n        ServerSocketMessage&lt;ChatAuthentication&gt; serverResponse = ((JacksonSerializer) serializer).deserialize(line, new TypeReference&lt;&gt;() {\r\n        });\r\n```\r\nShould I add an additional abstraction layer for `TypedReference`? What if other libraries handle it differently (they don&#39;t pass some generic dummy)?\r\n\r\nWhat would you recommend?","title":"Abstraction layer over an ObjectMapper decorator: how do I approach deserialization of generic types?","body":"<p>I decorated an <code>ObjectMapper</code> and provided an additional abstraction layer to avoid coupling with <code>ObjectMapper</code> directly. Take a look:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class ClientServerCommunicator {\n    private static final Serializer serializer = new JacksonSerializer();\n    // more code\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public interface Serializer {\n    String serialize(Object object);\n    &lt;T&gt; T deserialize(String serializedObject, Class&lt;T&gt; clazz);\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class JacksonSerializer implements Serializer {\n    private final ObjectMapper objectMapper = new ObjectMapper();\n    @Override\n    @SneakyThrows\n    public String serialize(Object object) {\n        return objectMapper.writeValueAsString(object);\n    }\n\n    @Override\n    @SneakyThrows\n    public &lt;T&gt; T deserialize(String serializedObject, Class&lt;T&gt; clazz) {\n        return objectMapper.readValue(serializedObject, clazz);\n    }\n    @SneakyThrows\n    // not present in the interface!\n    public &lt;T&gt; T deserialize(String serializedObject, TypeReference&lt;T&gt; typeReference) {\n        return objectMapper.readValue(serializedObject, typeReference);\n    }\n}\n</code></pre>\n<p>However, when it comes to deserialization of generic types, I'm not sure how I should describe it in my interface. So far, I simply cast to <code>JacksonSerializer</code> which will fail if I decide to use another implementation</p>\n<pre class=\"lang-java prettyprint-override\"><code>        ServerSocketMessage&lt;ChatAuthentication&gt; serverResponse = ((JacksonSerializer) serializer).deserialize(line, new TypeReference&lt;&gt;() {\n        });\n</code></pre>\n<p>Should I add an additional abstraction layer for <code>TypedReference</code>? What if other libraries handle it differently (they don't pass some generic dummy)?</p>\n<p>What would you recommend?</p>\n"},{"tags":["java","pdf","pdfbox"],"comments":[{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1696334997,"post_id":77221711,"comment_id":136136997,"body_markdown":"https://pdfbox.apache.org/2.0/migration.html#why-was-the-replacetext-example-removed%3F","body":"<a href=\"https://pdfbox.apache.org/2.0/migration.html#why-was-the-replacetext-example-removed%3F\" rel=\"nofollow noreferrer\">pdfbox.apache.org/2.0/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":13645494,"reputation":49,"user_id":9844579,"display_name":"Lakshyya Kothari"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1696392747,"creation_date":1696392747,"answer_id":77226705,"question_id":77221711,"body_markdown":"I found the issue,  ```previous.setValue(string.getBytes());``` was the culprit. Keeping the code as \r\n```\r\nif(string.contains(searchString)){\r\nstring = string.replaceFirst(searchString, replacement);\r\nprevious.setValue(string.getBytes());\r\n}\r\n```\r\nresolved it. Looks like it was something related to how the pdf was encoded or something.\r\n\r\nAnyway, thanks for the help! :) ","title":"Replace text in PDF using Apache PDFBox messing up certain content","body":"<p>I found the issue,  <code>previous.setValue(string.getBytes());</code> was the culprit. Keeping the code as</p>\n<pre><code>if(string.contains(searchString)){\nstring = string.replaceFirst(searchString, replacement);\nprevious.setValue(string.getBytes());\n}\n</code></pre>\n<p>resolved it. Looks like it was something related to how the pdf was encoded or something.</p>\n<p>Anyway, thanks for the help! :)</p>\n"}],"owner":{"account_id":13645494,"reputation":49,"user_id":9844579,"display_name":"Lakshyya Kothari"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77226705,"answer_count":1,"score":0,"last_activity_date":1696392747,"creation_date":1696331200,"question_id":77221711,"body_markdown":"I am trying to perform a text replace on a PDF using Apache PDFBox using the below code. The text replace is working perfectly but at the same time certain sections of the pdf have gone missing. Could you please help me in finding out what could have caused this. After calling the replaceTextInSecond function, I am just performing the below\r\n```\r\ndocument.save(&quot;filename.pdf&quot;);\r\ndocument.close();\r\n```\r\n\r\nCould you help me identify the cause? Thanks in advance!!\r\n\r\n```\r\nprivate static PDDocument replaceTextInSecond(PDDocument document, String searchString, String replacement) {\r\n\t\tPDPage page = document.getPage(1);\r\n        PDFStreamParser parser;\r\n\t\ttry {\r\n\t\t\tparser = new PDFStreamParser(page);\r\n\t\t\tparser.parse();\r\n\t        List&lt;?&gt; tokens = parser.getTokens();\r\n\t        \r\n\t        for (int j = 0; j &lt; tokens.size(); j++) {\r\n                Object next = tokens.get(j);\r\n                if (next instanceof Operator) {\r\n                    Operator op = (Operator) next;\r\n\r\n                    String pstring = &quot;&quot;;\r\n                    int prej = 0;\r\n\r\n                    if (op.getName().equals(&quot;Tj&quot;)) {\r\n                        COSString previous = (COSString) tokens.get(j - 1);\r\n                        String string = previous.getString();\r\n                        //System.out.println(&quot;string :::: &quot; +string);\r\n                        string = string.replaceFirst(searchString, replacement);\r\n                        previous.setValue(string.getBytes());\r\n                    } else if (op.getName().equals(&quot;TJ&quot;)) {\r\n                        COSArray previous = (COSArray) tokens.get(j - 1);\r\n                        for (int k = 0; k &lt; previous.size(); k++) {\r\n                            Object arrElement = previous.getObject(k);\r\n                            if (arrElement instanceof COSString) {\r\n                                COSString cosString = (COSString) arrElement;\r\n                                String string = cosString.getString();\r\n                                //System.out.println(&quot;string :::: &quot; +string);\r\n                                if (j == prej) {\r\n                                    pstring += string;\r\n                                } else {\r\n                                    prej = j;\r\n                                    pstring = string;\r\n                                }\r\n                            }\r\n                        }\r\n\r\n                        if (searchString.equals(pstring.trim())) {\r\n                            COSString cosString2 = (COSString) previous.getObject(0);\r\n                            cosString2.setValue(replacement.getBytes());\r\n                            int total = previous.size() - 1;\r\n                            for (int k = total; k &gt; 0; k--) {\r\n                                previous.remove(k);\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            PDStream updatedStream = new PDStream(document);\r\n            OutputStream out = updatedStream.createOutputStream(COSName.FLATE_DECODE);\r\n            ContentStreamWriter tokenWriter = new ContentStreamWriter(out);\r\n            tokenWriter.writeTokens(tokens);\r\n            out.close();\r\n            page.setContents(updatedStream);\r\n            //System.out.println(&quot;replaced &quot; +searchString + &quot; with &quot; + replacement);\r\n        }\r\n\t            \r\n\t\tcatch (IOException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\treturn document;\r\n\t}\r\n```","title":"Replace text in PDF using Apache PDFBox messing up certain content","body":"<p>I am trying to perform a text replace on a PDF using Apache PDFBox using the below code. The text replace is working perfectly but at the same time certain sections of the pdf have gone missing. Could you please help me in finding out what could have caused this. After calling the replaceTextInSecond function, I am just performing the below</p>\n<pre><code>document.save(&quot;filename.pdf&quot;);\ndocument.close();\n</code></pre>\n<p>Could you help me identify the cause? Thanks in advance!!</p>\n<pre><code>private static PDDocument replaceTextInSecond(PDDocument document, String searchString, String replacement) {\n        PDPage page = document.getPage(1);\n        PDFStreamParser parser;\n        try {\n            parser = new PDFStreamParser(page);\n            parser.parse();\n            List&lt;?&gt; tokens = parser.getTokens();\n            \n            for (int j = 0; j &lt; tokens.size(); j++) {\n                Object next = tokens.get(j);\n                if (next instanceof Operator) {\n                    Operator op = (Operator) next;\n\n                    String pstring = &quot;&quot;;\n                    int prej = 0;\n\n                    if (op.getName().equals(&quot;Tj&quot;)) {\n                        COSString previous = (COSString) tokens.get(j - 1);\n                        String string = previous.getString();\n                        //System.out.println(&quot;string :::: &quot; +string);\n                        string = string.replaceFirst(searchString, replacement);\n                        previous.setValue(string.getBytes());\n                    } else if (op.getName().equals(&quot;TJ&quot;)) {\n                        COSArray previous = (COSArray) tokens.get(j - 1);\n                        for (int k = 0; k &lt; previous.size(); k++) {\n                            Object arrElement = previous.getObject(k);\n                            if (arrElement instanceof COSString) {\n                                COSString cosString = (COSString) arrElement;\n                                String string = cosString.getString();\n                                //System.out.println(&quot;string :::: &quot; +string);\n                                if (j == prej) {\n                                    pstring += string;\n                                } else {\n                                    prej = j;\n                                    pstring = string;\n                                }\n                            }\n                        }\n\n                        if (searchString.equals(pstring.trim())) {\n                            COSString cosString2 = (COSString) previous.getObject(0);\n                            cosString2.setValue(replacement.getBytes());\n                            int total = previous.size() - 1;\n                            for (int k = total; k &gt; 0; k--) {\n                                previous.remove(k);\n                            }\n                        }\n                    }\n                }\n            }\n            PDStream updatedStream = new PDStream(document);\n            OutputStream out = updatedStream.createOutputStream(COSName.FLATE_DECODE);\n            ContentStreamWriter tokenWriter = new ContentStreamWriter(out);\n            tokenWriter.writeTokens(tokens);\n            out.close();\n            page.setContents(updatedStream);\n            //System.out.println(&quot;replaced &quot; +searchString + &quot; with &quot; + replacement);\n        }\n                \n        catch (IOException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n    return document;\n    }\n</code></pre>\n"},{"tags":["java","proxy","mockito","bucket","bucket4j"],"comments":[{"owner":{"account_id":1713236,"reputation":22836,"user_id":1570854,"accept_rate":71,"display_name":"Lesiak"},"score":0,"creation_date":1667343046,"post_id":74280328,"comment_id":131144233,"body_markdown":"Does this answer your question? [What is a NullPointerException, and how do I fix it?](https://stackoverflow.com/questions/218384/what-is-a-nullpointerexception-and-how-do-i-fix-it)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/218384/what-is-a-nullpointerexception-and-how-do-i-fix-it\">What is a NullPointerException, and how do I fix it?</a>"},{"owner":{"account_id":8718526,"reputation":49,"user_id":6522341,"display_name":"Aishwarya Patil"},"score":0,"creation_date":1667400455,"post_id":74280328,"comment_id":131158613,"body_markdown":"@lesiak the question here is builder method is of the type abstract , that method is throwing NPE. do i have to mock it ?","body":"@lesiak the question here is builder method is of the type abstract , that method is throwing NPE. do i have to mock it ?"},{"owner":{"account_id":1713236,"reputation":22836,"user_id":1570854,"accept_rate":71,"display_name":"Lesiak"},"score":0,"creation_date":1667405721,"post_id":74280328,"comment_id":131160710,"body_markdown":"Please post full stack trace","body":"Please post full stack trace"},{"owner":{"account_id":39208,"reputation":251220,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1667583869,"post_id":74280328,"comment_id":131209097,"body_markdown":"What value does `builder` have? It is a mock? What value does `builder()` return? (but very likely everything is already answered in the link posted by Lesiak &quot;what is a NPE and how to fix&quot;)","body":"What value does <code>builder</code> have? It is a mock? What value does <code>builder()</code> return? (but very likely everything is already answered in the link posted by Lesiak &quot;what is a NPE and how to fix&quot;)"}],"answers":[{"tags":[],"owner":{"account_id":7743618,"reputation":24,"user_id":5862337,"display_name":"Vladimir Bukhtoyarov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668411253,"creation_date":1668411253,"answer_id":74428256,"question_id":74280328,"body_markdown":"**buckets** is null, because you did not set any value to this field. You need to initialize this field before calling any method.\r\n    \r\n    ","title":"Unit test proxyManager","body":"<p><strong>buckets</strong> is null, because you did not set any value to this field. You need to initialize this field before calling any method.</p>\n"},{"tags":[],"owner":{"account_id":8718526,"reputation":49,"user_id":6522341,"display_name":"Aishwarya Patil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668722305,"creation_date":1668722305,"answer_id":74482574,"question_id":74280328,"body_markdown":"I tried mocking buckets.builder first and then buckets.builder.build () that helped me to get the unit test to work. I have a proxy manager bean initialized by JcacheProxyManager.\r\n\r\n     @InjectMocks private RateLimitingService rateLimitingService;\r\n    \r\n      @Mock RemoteBucketBuilder&lt;String&gt; remoteBucketBuilder;\r\n    \r\n      @Mock ProxyManager&lt;String&gt; buckets;\r\n    \r\n      @Test\r\n      void shouldGetBucketsForThePassedKey() throws NoSuchAlgorithmException {\r\n\r\n    when(buckets.builder()).thenReturn(remoteBucketBuilder);\r\n    when(remoteBucketBuilder.build(\r\n            anyString(), ArgumentMatchers.&lt;Supplier&lt;BucketConfiguration&gt;&gt;any()))\r\n        .thenReturn(mock(BucketProxy.class));\r\n    Bucket bucket = rateLimitingService.resolveBucket(&quot;1&quot;, &quot;1&quot;, &quot;1&quot;);\r\n    assertNotNull(bucket);\r\n  }","title":"Unit test proxyManager","body":"<p>I tried mocking buckets.builder first and then buckets.builder.build () that helped me to get the unit test to work. I have a proxy manager bean initialized by JcacheProxyManager.</p>\n<pre><code> @InjectMocks private RateLimitingService rateLimitingService;\n\n  @Mock RemoteBucketBuilder&lt;String&gt; remoteBucketBuilder;\n\n  @Mock ProxyManager&lt;String&gt; buckets;\n\n  @Test\n  void shouldGetBucketsForThePassedKey() throws NoSuchAlgorithmException {\n\nwhen(buckets.builder()).thenReturn(remoteBucketBuilder);\nwhen(remoteBucketBuilder.build(\n        anyString(), ArgumentMatchers.&lt;Supplier&lt;BucketConfiguration&gt;&gt;any()))\n    .thenReturn(mock(BucketProxy.class));\nBucket bucket = rateLimitingService.resolveBucket(&quot;1&quot;, &quot;1&quot;, &quot;1&quot;);\nassertNotNull(bucket);\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":8718526,"reputation":49,"user_id":6522341,"display_name":"Aishwarya Patil"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":238,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1696392588,"creation_date":1667327543,"question_id":74280328,"body_markdown":"I need to unit test this code, but i have been seeing null pointer exceptions at buckets.builder().\r\n\r\n    import io.github.bucket4j.distributed.proxy.ProxyManager;\r\n   \r\n\r\n    private ProxyManager buckets;\r\n    \r\n     public Bucket resolveBucket(String key) {\r\n        Supplier&lt;BucketConfiguration&gt; configSupplier = getConfigSupplierForUser();\r\n        return buckets.builder().build(key, configSupplier);\r\n      }\r\n\r\n","title":"Unit test proxyManager","body":"<p>I need to unit test this code, but i have been seeing null pointer exceptions at buckets.builder().</p>\n<pre><code>import io.github.bucket4j.distributed.proxy.ProxyManager;\n\n\nprivate ProxyManager buckets;\n\n public Bucket resolveBucket(String key) {\n    Supplier&lt;BucketConfiguration&gt; configSupplier = getConfigSupplierForUser();\n    return buckets.builder().build(key, configSupplier);\n  }\n</code></pre>\n"},{"tags":["java","windows","selenium-webdriver","webdriver","maven-3"],"comments":[{"owner":{"account_id":6990353,"reputation":1340,"user_id":5359846,"accept_rate":23,"display_name":"Tal Angel"},"score":0,"creation_date":1696320359,"post_id":77219578,"comment_id":136134421,"body_markdown":"Please paste the code here. People do not like to read text from link or image here.","body":"Please paste the code here. People do not like to read text from link or image here."},{"owner":{"account_id":1472673,"reputation":33,"user_id":1383816,"accept_rate":20,"display_name":"sampath"},"score":0,"creation_date":1696390334,"post_id":77219578,"comment_id":136145125,"body_markdown":"@Tal Angel, I have uploaded code and console logs here.","body":"@Tal Angel, I have uploaded code and console logs here."}],"owner":{"account_id":1472673,"reputation":33,"user_id":1383816,"accept_rate":20,"display_name":"sampath"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696392481,"creation_date":1696305576,"question_id":77219578,"body_markdown":"Whenever am trying to close the webdriver its throwing the error as: &quot;java.net.SocketException: Connection reset&quot;. \r\nThe code snippet, console logs and pom.xml is available on the following link: https://gist.github.com/SambathKumar/7a7c6c9659ae0fa4b3cadc0c7f61d76f \r\n\r\nWhat is the issue and how to fix this issue?\r\n\r\n**Orangehrm.java**\r\n```\r\npackage sam.test;\r\n\r\nimport java.time.Duration;\r\nimport java.util.List;\r\n\r\nimport org.openqa.selenium.By;\r\nimport org.openqa.selenium.WebDriver;\r\nimport org.openqa.selenium.WebElement;\r\nimport org.openqa.selenium.chrome.ChromeDriver;\r\nimport org.openqa.selenium.chrome.ChromeOptions;\r\nimport org.openqa.selenium.support.ui.ExpectedConditions;\r\nimport org.openqa.selenium.support.ui.WebDriverWait;\r\n\r\npublic class Orangehrm {\r\n\r\n\tpublic static void main(String[] args) throws InterruptedException {\r\n\r\n\t\tChromeOptions co=new ChromeOptions();\r\n\t\tWebDriver wd=new ChromeDriver(co);\r\n\t\tfinal int SLEEPSEC=3000;\r\n\t\ttry {\r\n\t\t\tSystem.out.println(&quot;Before launch orange hrm&quot;);\r\n\t\t\twd.get(&quot;https://opensource-demo.orangehrmlive.com/web/index.php/auth/login&quot;);\r\n\t\t\tSystem.out.println(&quot;After launch orange hrm&quot;);\r\n\t\t\twd.manage().window().maximize();\r\n\t\t\twd.manage().timeouts().implicitlyWait(Duration.ofSeconds(SLEEPSEC));\r\n\t\t\twd.findElement(By.cssSelector(&quot;input[name=&#39;username&#39;]&quot;)).clear();\r\n\t\t\tSystem.out.println(&quot;After clearing the username field&quot;);\r\n\t\t\twd.findElement(By.cssSelector(&quot;input[name=&#39;username&#39;]&quot;)).sendKeys(&quot;Admin&quot;);\r\n\t\t\tSystem.out.println(&quot;After entering the username as Admin&quot;);\r\n\t\t\twd.findElement(By.cssSelector(&quot;input[name=&#39;password&#39;]&quot;)).clear();\r\n\t\t\tSystem.out.println(&quot;After clearing the password field&quot;);\r\n\t\t\twd.findElement(By.cssSelector(&quot;input[name=&#39;password&#39;]&quot;)).sendKeys(&quot;admin123&quot;);\r\n\t\t\tSystem.out.println(&quot;After entering the password as admin123&quot;);\r\n\t\t\twd.findElement(By.cssSelector(&quot;button[type=&#39;submit&#39;]&quot;)).submit();\r\n\t\t} catch (Exception e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}finally {\r\n\t\t\tSystem.out.println(&quot;before close&quot;);\r\n\t\t\t//Thread.sleep(SLEEPSEC);\r\n\t\t\twd.close();\r\n\t\t\tSystem.out.println(&quot;before quit&quot;);\r\n\t\t\twd.quit();\r\n\t\t\tSystem.out.println(&quot;after quit&quot;);\r\n\t\t}\r\n\r\n\t}\r\n}\r\n\t\r\n\r\n```\r\n\r\n**pom.xml**\r\n\r\n```\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n  &lt;groupId&gt;org.sam&lt;/groupId&gt;\r\n  &lt;artifactId&gt;sam.test&lt;/artifactId&gt;\r\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n  &lt;name&gt;test&lt;/name&gt;\r\n  \r\n  &lt;dependencies&gt;\r\n\t    &lt;!-- https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-java --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;4.12.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-java --&gt;\r\n&lt;!--\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;4.11.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;--&gt;\r\n\r\n  &lt;/dependencies&gt;\r\n\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\n**console.logs**\r\n```\r\nSLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\r\nSLF4J: Defaulting to no-operation (NOP) logger implementation\r\nSLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\r\nOct 02, 2023 10:51:13 PM org.openqa.selenium.devtools.CdpVersionFinder findNearestMatch\r\nWARNING: Unable to find an exact match for CDP version 117, so returning the closest version found: 116\r\nBefore launch orange hrm\r\nAfter launch orange hrm\r\nAfter clearing the username field\r\nAfter entering the username as Admin\r\nAfter clearing the password field\r\nAfter entering the password as admin123\r\nbefore close\r\nOct 02, 2023 10:51:16 PM org.openqa.selenium.remote.http.WebSocket$Listener onError\r\nWARNING: Connection reset\r\njava.net.SocketException: Connection reset\r\n\tat java.base/sun.nio.ch.SocketChannelImpl.throwConnectionReset(SocketChannelImpl.java:394)\r\n\tat java.base/sun.nio.ch.SocketChannelImpl.read(SocketChannelImpl.java:426)\r\n\tat io.netty.buffer.PooledByteBuf.setBytes(PooledByteBuf.java:254)\r\n\tat io.netty.buffer.AbstractByteBuf.writeBytes(AbstractByteBuf.java:1132)\r\n\tat io.netty.channel.socket.nio.NioSocketChannel.doReadBytes(NioSocketChannel.java:357)\r\n\tat io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:151)\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)\r\n\tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)\r\n\tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\r\n\tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n\tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\n\r\nbefore quit\r\nafter quit\r\n```\r\n","title":"Not able to close selenium webdriver object 4.11.0 and 4.12.1","body":"<p>Whenever am trying to close the webdriver its throwing the error as: &quot;java.net.SocketException: Connection reset&quot;.\nThe code snippet, console logs and pom.xml is available on the following link: <a href=\"https://gist.github.com/SambathKumar/7a7c6c9659ae0fa4b3cadc0c7f61d76f\" rel=\"nofollow noreferrer\">https://gist.github.com/SambathKumar/7a7c6c9659ae0fa4b3cadc0c7f61d76f</a></p>\n<p>What is the issue and how to fix this issue?</p>\n<p><strong>Orangehrm.java</strong></p>\n<pre><code>package sam.test;\n\nimport java.time.Duration;\nimport java.util.List;\n\nimport org.openqa.selenium.By;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.WebElement;\nimport org.openqa.selenium.chrome.ChromeDriver;\nimport org.openqa.selenium.chrome.ChromeOptions;\nimport org.openqa.selenium.support.ui.ExpectedConditions;\nimport org.openqa.selenium.support.ui.WebDriverWait;\n\npublic class Orangehrm {\n\n    public static void main(String[] args) throws InterruptedException {\n\n        ChromeOptions co=new ChromeOptions();\n        WebDriver wd=new ChromeDriver(co);\n        final int SLEEPSEC=3000;\n        try {\n            System.out.println(&quot;Before launch orange hrm&quot;);\n            wd.get(&quot;https://opensource-demo.orangehrmlive.com/web/index.php/auth/login&quot;);\n            System.out.println(&quot;After launch orange hrm&quot;);\n            wd.manage().window().maximize();\n            wd.manage().timeouts().implicitlyWait(Duration.ofSeconds(SLEEPSEC));\n            wd.findElement(By.cssSelector(&quot;input[name='username']&quot;)).clear();\n            System.out.println(&quot;After clearing the username field&quot;);\n            wd.findElement(By.cssSelector(&quot;input[name='username']&quot;)).sendKeys(&quot;Admin&quot;);\n            System.out.println(&quot;After entering the username as Admin&quot;);\n            wd.findElement(By.cssSelector(&quot;input[name='password']&quot;)).clear();\n            System.out.println(&quot;After clearing the password field&quot;);\n            wd.findElement(By.cssSelector(&quot;input[name='password']&quot;)).sendKeys(&quot;admin123&quot;);\n            System.out.println(&quot;After entering the password as admin123&quot;);\n            wd.findElement(By.cssSelector(&quot;button[type='submit']&quot;)).submit();\n        } catch (Exception e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }finally {\n            System.out.println(&quot;before close&quot;);\n            //Thread.sleep(SLEEPSEC);\n            wd.close();\n            System.out.println(&quot;before quit&quot;);\n            wd.quit();\n            System.out.println(&quot;after quit&quot;);\n        }\n\n    }\n}\n    \n\n</code></pre>\n<p><strong>pom.xml</strong></p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;org.sam&lt;/groupId&gt;\n  &lt;artifactId&gt;sam.test&lt;/artifactId&gt;\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n  &lt;name&gt;test&lt;/name&gt;\n  \n  &lt;dependencies&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-java --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n            &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n            &lt;version&gt;4.12.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n        &lt;!-- https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-java --&gt;\n&lt;!--        &lt;dependency&gt;\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n            &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n            &lt;version&gt;4.11.0&lt;/version&gt;\n        &lt;/dependency&gt;--&gt;\n\n  &lt;/dependencies&gt;\n\n\n&lt;/project&gt;\n</code></pre>\n<p><strong>console.logs</strong></p>\n<pre><code>SLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\nSLF4J: Defaulting to no-operation (NOP) logger implementation\nSLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\nOct 02, 2023 10:51:13 PM org.openqa.selenium.devtools.CdpVersionFinder findNearestMatch\nWARNING: Unable to find an exact match for CDP version 117, so returning the closest version found: 116\nBefore launch orange hrm\nAfter launch orange hrm\nAfter clearing the username field\nAfter entering the username as Admin\nAfter clearing the password field\nAfter entering the password as admin123\nbefore close\nOct 02, 2023 10:51:16 PM org.openqa.selenium.remote.http.WebSocket$Listener onError\nWARNING: Connection reset\njava.net.SocketException: Connection reset\n    at java.base/sun.nio.ch.SocketChannelImpl.throwConnectionReset(SocketChannelImpl.java:394)\n    at java.base/sun.nio.ch.SocketChannelImpl.read(SocketChannelImpl.java:426)\n    at io.netty.buffer.PooledByteBuf.setBytes(PooledByteBuf.java:254)\n    at io.netty.buffer.AbstractByteBuf.writeBytes(AbstractByteBuf.java:1132)\n    at io.netty.channel.socket.nio.NioSocketChannel.doReadBytes(NioSocketChannel.java:357)\n    at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:151)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)\n    at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)\n    at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\n    at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n    at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n    at java.base/java.lang.Thread.run(Thread.java:833)\n\nbefore quit\nafter quit\n</code></pre>\n"},{"tags":["java","android","android-studio","kotlin","android-permissions"],"comments":[{"owner":{"account_id":5282904,"reputation":18287,"user_id":4217682,"accept_rate":50,"display_name":"snachmsm"},"score":1,"creation_date":1653553236,"post_id":72388741,"comment_id":127881327,"body_markdown":"weird, [it is there](https://developer.android.com/reference/android/Manifest.permission#POST_NOTIFICATIONS). try to restart your Android Studio with cache cleaning (File -&gt;Invalidate caches -&gt; Invalidate and Restart button)","body":"weird, <a href=\"https://developer.android.com/reference/android/Manifest.permission#POST_NOTIFICATIONS\" rel=\"nofollow noreferrer\">it is there</a>. try to restart your Android Studio with cache cleaning (File -&gt;Invalidate caches -&gt; Invalidate and Restart button)"},{"owner":{"account_id":19405192,"reputation":855,"user_id":14190819,"display_name":"Ammar"},"score":0,"creation_date":1653553489,"post_id":72388741,"comment_id":127881420,"body_markdown":"Does there any role for the Gradle version here?","body":"Does there any role for the Gradle version here?"}],"answers":[{"tags":[],"owner":{"account_id":19405192,"reputation":855,"user_id":14190819,"display_name":"Ammar"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1668427349,"creation_date":1653561621,"answer_id":72390497,"question_id":72388741,"body_markdown":"         android {\r\n         namespace &#39;com.example.myapplication&#39;\r\n        compileSdkVersion 33//update this\r\n    \r\n         defaultConfig {\r\n            applicationId &quot;com.example.myapplication&quot;\r\n            minSdk 23\r\n            targetSdkVersion 33//update this\r\n            versionCode 1\r\n            versionName &quot;1.0&quot;\r\n            \r\n            testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n        }\r\n\r\n","title":"Android manifest POST_NOTIFICATIONS missing import","body":"<pre><code>     android {\n     namespace 'com.example.myapplication'\n    compileSdkVersion 33//update this\n\n     defaultConfig {\n        applicationId &quot;com.example.myapplication&quot;\n        minSdk 23\n        targetSdkVersion 33//update this\n        versionCode 1\n        versionName &quot;1.0&quot;\n        \n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14345234,"reputation":509,"user_id":10362244,"display_name":"Dev Soni"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1660017741,"creation_date":1658759001,"answer_id":73110837,"question_id":72388741,"body_markdown":"&lt;p&gt;I faced the same problem, &lt;/p&gt;\r\n&lt;p&gt;&lt;b&gt;Steps to fix :&lt;/b&gt;&lt;/p&gt;\r\n\r\n&lt;b&gt;Install SDK Platforms&lt;/b&gt;\r\n`SDK Platform 33`\r\n`Android TiramisuPrivacy Sandbox Preview`\r\n\r\n[![enter image description here][1]][1]\r\n\r\n**Install SDK Tools :**\r\nAndroid SDK build Tools 33\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Slaqn.png\r\n  [2]: https://i.stack.imgur.com/f6tbH.png","title":"Android manifest POST_NOTIFICATIONS missing import","body":"<p>I faced the same problem, </p>\n<p><b>Steps to fix :</b></p>\n<p><b>Install SDK Platforms</b>\n<code>SDK Platform 33</code>\n<code>Android TiramisuPrivacy Sandbox Preview</code></p>\n<p><a href=\"https://i.stack.imgur.com/Slaqn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Slaqn.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Install SDK Tools :</strong>\nAndroid SDK build Tools 33\n<a href=\"https://i.stack.imgur.com/f6tbH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/f6tbH.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":17880418,"reputation":454,"user_id":12989363,"display_name":"MatBuompy"},"down_vote_count":1,"up_vote_count":28,"is_accepted":false,"score":27,"last_activity_date":1659943914,"creation_date":1659943914,"answer_id":73274269,"question_id":72388741,"body_markdown":"I solved it by using *compileSdkVersion 33* in the gradle file at the Module level. Then it allowed me to use the POST_NOTIFICATIONS permission without any issue.\r\n[![Gradle Settings][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/goHdh.png","title":"Android manifest POST_NOTIFICATIONS missing import","body":"<p>I solved it by using <em>compileSdkVersion 33</em> in the gradle file at the Module level. Then it allowed me to use the POST_NOTIFICATIONS permission without any issue.\n<a href=\"https://i.stack.imgur.com/goHdh.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/goHdh.png\" alt=\"Gradle Settings\" /></a></p>\n"},{"tags":[],"owner":{"account_id":7908176,"reputation":2940,"user_id":5972985,"display_name":"Joseph Wambura"},"down_vote_count":1,"up_vote_count":40,"is_accepted":false,"score":39,"last_activity_date":1663793185,"creation_date":1663793185,"answer_id":73806774,"question_id":72388741,"body_markdown":"Just add this import:\r\n\r\n    import android.Manifest","title":"Android manifest POST_NOTIFICATIONS missing import","body":"<p>Just add this import:</p>\n<pre><code>import android.Manifest\n</code></pre>\n"},{"tags":[],"owner":{"account_id":988766,"reputation":1937,"user_id":1006580,"accept_rate":82,"display_name":"Nestor Ledon"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674152369,"creation_date":1674152369,"answer_id":75176662,"question_id":72388741,"body_markdown":"Set **targetSDKVersion** to ***33***.\r\n\r\nIf for some reason it complains about your minimum supported and you&#39;re in no position to update, use the following instead:\r\n\r\n```\r\nNotificationManagerCompat.from(this).areNotificationsEnabled()\r\n```","title":"Android manifest POST_NOTIFICATIONS missing import","body":"<p>Set <strong>targetSDKVersion</strong> to <em><strong>33</strong></em>.</p>\n<p>If for some reason it complains about your minimum supported and you're in no position to update, use the following instead:</p>\n<pre><code>NotificationManagerCompat.from(this).areNotificationsEnabled()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1374590,"reputation":3325,"user_id":1308850,"accept_rate":37,"display_name":"FractalBob"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1680535267,"creation_date":1680535267,"answer_id":75921110,"question_id":72388741,"body_markdown":"You need to prefix the Manifest statement with android., e.g., \r\n\r\n                if (ContextCompat.checkSelfPermission(this, android.Manifest.permission.POST_NOTIFICATIONS) ==\r\n                    PackageManager.PERMISSION_GRANTED)","title":"Android manifest POST_NOTIFICATIONS missing import","body":"<p>You need to prefix the Manifest statement with android., e.g.,</p>\n<pre><code>            if (ContextCompat.checkSelfPermission(this, android.Manifest.permission.POST_NOTIFICATIONS) ==\n                PackageManager.PERMISSION_GRANTED)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24404734,"reputation":1,"user_id":18333050,"display_name":"Yogesh Swami"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683903166,"creation_date":1683903166,"answer_id":76237494,"question_id":72388741,"body_markdown":"just import\r\n`import android.Manifest.permission.POST_NOTIFICATIONS as POST_NOTIFICATIONS`\r\nand use as\r\n`ContextCompat.checkSelfPermission(context, POST_NOTIFICATIONS)`\r\nit&#39;s work perfectly","title":"Android manifest POST_NOTIFICATIONS missing import","body":"<p>just import\n<code>import android.Manifest.permission.POST_NOTIFICATIONS as POST_NOTIFICATIONS</code>\nand use as\n<code>ContextCompat.checkSelfPermission(context, POST_NOTIFICATIONS)</code>\nit's work perfectly</p>\n"},{"tags":[],"owner":{"account_id":8741496,"reputation":1621,"user_id":6538435,"display_name":"Davide Carpini"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684312476,"creation_date":1684312476,"answer_id":76270073,"question_id":72388741,"body_markdown":"if you are coming here for a react-native that uses &#39;react-native-gesture-handler&#39; this is because react-native-gesture-handler has a new 2.10.0 version, if you downgrade it to 2.9.0 it should work","title":"Android manifest POST_NOTIFICATIONS missing import","body":"<p>if you are coming here for a react-native that uses 'react-native-gesture-handler' this is because react-native-gesture-handler has a new 2.10.0 version, if you downgrade it to 2.9.0 it should work</p>\n"},{"tags":[],"owner":{"account_id":12790330,"reputation":2710,"user_id":9255057,"display_name":"Hardik Hirpara"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1696392222,"creation_date":1694752013,"answer_id":77109602,"question_id":72388741,"body_markdown":"Import below line\r\n\r\n    import android.Manifest\r\n\r\nthen use, \r\n\r\n&gt; android.Manifest.permission.POST_NOTIFICATIONS\r\n\r\ninstead of \r\n\r\n&gt; Manifest.permission.POST_NOTIFICATIONS\r\n","title":"Android manifest POST_NOTIFICATIONS missing import","body":"<p>Import below line</p>\n<pre><code>import android.Manifest\n</code></pre>\n<p>then use,</p>\n<blockquote>\n<p>android.Manifest.permission.POST_NOTIFICATIONS</p>\n</blockquote>\n<p>instead of</p>\n<blockquote>\n<p>Manifest.permission.POST_NOTIFICATIONS</p>\n</blockquote>\n"}],"owner":{"account_id":19405192,"reputation":855,"user_id":14190819,"display_name":"Ammar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26401,"favorite_count":0,"down_vote_count":0,"up_vote_count":40,"accepted_answer_id":72390497,"answer_count":9,"score":40,"last_activity_date":1696392222,"creation_date":1653552697,"question_id":72388741,"body_markdown":"Trying to implement the notification permission for android 13 or &quot;Tiramisu&quot; but failed to get the import for that permission. \r\n\r\nCurrently:\r\ntargeted SDK version is 32\r\ncompile SDK version is 32\r\n\r\nI&#39;ve declared it also in manifiest as below:\r\n\r\n     &lt;uses-permission android:name=&quot;android.permission.POST_NOTIFICATIONS&quot;\r\n\r\nimport i&#39;m using: \r\n\r\n    import android.Manifest\r\n\r\n- But even not getting import in my fragment.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ozyhp.png\r\n","title":"Android manifest POST_NOTIFICATIONS missing import","body":"<p>Trying to implement the notification permission for android 13 or &quot;Tiramisu&quot; but failed to get the import for that permission.</p>\n<p>Currently:\ntargeted SDK version is 32\ncompile SDK version is 32</p>\n<p>I've declared it also in manifiest as below:</p>\n<pre><code> &lt;uses-permission android:name=&quot;android.permission.POST_NOTIFICATIONS&quot;\n</code></pre>\n<p>import i'm using:</p>\n<pre><code>import android.Manifest\n</code></pre>\n<ul>\n<li>But even not getting import in my fragment.</li>\n</ul>\n<p><a href=\"https://i.stack.imgur.com/ozyhp.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/ozyhp.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","load-testing","gatling"],"answers":[{"tags":[],"owner":{"account_id":6852429,"reputation":6319,"user_id":5269205,"display_name":"St&#233;phane LANDELLE"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696326029,"creation_date":1696326029,"answer_id":77221150,"question_id":77219560,"body_markdown":"The domain of your request (`staging.com`) and the one of your cookie (`.staging.com`) don&#39;t match so the cookie is not sent. Check [RFC6265][1] for more details.\r\n\r\nThings would work as expected if you&#39;d fix your cookie&#39;s domain and use `staging.com` instead.\r\n\r\n\r\n  [1]: https://www.rfc-editor.org/rfc/rfc6265.html#section-5.1.3","title":"Getting a 403 Forbidden Error in Gatling despite Adding Correct Cookie - Troubleshooting Help Needed","body":"<p>The domain of your request (<code>staging.com</code>) and the one of your cookie (<code>.staging.com</code>) don't match so the cookie is not sent. Check <a href=\"https://www.rfc-editor.org/rfc/rfc6265.html#section-5.1.3\" rel=\"nofollow noreferrer\">RFC6265</a> for more details.</p>\n<p>Things would work as expected if you'd fix your cookie's domain and use <code>staging.com</code> instead.</p>\n"},{"tags":[],"owner":{"account_id":29188724,"reputation":3,"user_id":22361265,"display_name":"Darla David"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1696391031,"creation_date":1696391031,"answer_id":77226607,"question_id":77219560,"body_markdown":"I changed the order of the scenario. Setting cookies first before accessing the website.\r\n\r\n```\r\n    private ScenarioBuilder scn = scenario(&quot;Load Testing&quot;)\r\n\r\n        .exec(addCookie(Cookie(&quot;stgoauth&quot;, &quot;ZW1haWw6ZGFybGFAa2FsaWJyci5jb20gdXNlcjo=&quot;)\r\n            .withDomain(&quot;.staging.com&quot;)\r\n            .withPath(&quot;/&quot;)\r\n            .withSecure(true)))\r\n\r\n        .exec(http(&quot;Accessing Website&quot;)\r\n            .get(&quot;/&quot;)\r\n            .check(status().saveAs(&quot;status&quot;)))\r\n        \r\n        .exec(session -&gt; {\r\n            int responseStatus = session.getInt(&quot;status&quot;); // Retrieve the saved response status\r\n            System.out.println(&quot;Response Code: &quot; + responseStatus);\r\n            return session;\r\n        });\r\n```","title":"Getting a 403 Forbidden Error in Gatling despite Adding Correct Cookie - Troubleshooting Help Needed","body":"<p>I changed the order of the scenario. Setting cookies first before accessing the website.</p>\n<pre><code>    private ScenarioBuilder scn = scenario(&quot;Load Testing&quot;)\n\n        .exec(addCookie(Cookie(&quot;stgoauth&quot;, &quot;ZW1haWw6ZGFybGFAa2FsaWJyci5jb20gdXNlcjo=&quot;)\n            .withDomain(&quot;.staging.com&quot;)\n            .withPath(&quot;/&quot;)\n            .withSecure(true)))\n\n        .exec(http(&quot;Accessing Website&quot;)\n            .get(&quot;/&quot;)\n            .check(status().saveAs(&quot;status&quot;)))\n        \n        .exec(session -&gt; {\n            int responseStatus = session.getInt(&quot;status&quot;); // Retrieve the saved response status\n            System.out.println(&quot;Response Code: &quot; + responseStatus);\n            return session;\n        });\n</code></pre>\n"}],"owner":{"account_id":29188724,"reputation":3,"user_id":22361265,"display_name":"Darla David"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77226607,"answer_count":2,"score":0,"last_activity_date":1696391031,"creation_date":1696305152,"question_id":77219560,"body_markdown":"I am working on a load testing script using Gatling for a website, and I&#39;ve encountered a **403 Forbidden error** in the response, even after adding the necessary cookie for authentication. I&#39;ve double-checked the cookie, headers, and the URL, but I&#39;m still unable to resolve this issue.\r\n\r\n\r\n```\r\npackage assignment7;\r\n\r\nimport static io.gatling.javaapi.core.CoreDsl.*;\r\nimport static io.gatling.javaapi.http.HttpDsl.*;\r\n\r\nimport io.gatling.javaapi.core.*;\r\nimport io.gatling.javaapi.http.*;\r\n\r\npublic class AssignmentSimulation extends Simulation {\r\n    \r\n    // http config\r\n    private HttpProtocolBuilder httpProtocol = http\r\n        .baseUrl(&quot;https://staging.com&quot;)\r\n        .acceptHeader(&quot;application/json, text/plain, */*&quot;)\r\n        .acceptEncodingHeader(&quot;gzip, deflate, br&quot;)\r\n        .acceptLanguageHeader(&quot;en-US,en;q=0.9&quot;)\r\n        .contentTypeHeader(&quot;application/json&quot;)\r\n        .userAgentHeader(&quot;Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/117.0.0.0 Safari/537.36 Edg/117.0.2045.47&quot;);\r\n        \r\n    // Scenario definition\r\n    private ScenarioBuilder scn = scenario(&quot;Load Testing&quot;)\r\n        .exec(http(&quot;Accessing Website&quot;)\r\n            .get(&quot;/&quot;)\r\n            .check(status().saveAs(&quot;status&quot;)))\r\n\r\n        .exec(addCookie(Cookie(&quot;stgoauth&quot;, &quot;ZW1haWw6ZGFybGFAa2FsaWJyci5jb20gdXNlcjo=&quot;)\r\n            .withDomain(&quot;.staging.com&quot;)\r\n            .withPath(&quot;/&quot;)\r\n            .withSecure(true)))\r\n        \r\n        .exec(session -&gt; {\r\n            int responseStatus = session.getInt(&quot;status&quot;); // Retrieve the saved response status\r\n            System.out.println(&quot;Response Code: &quot; + responseStatus);\r\n            return session;\r\n        });\r\n\r\n    //load simulation\r\n    {\r\n        setUp(\r\n            scn.injectOpen(atOnceUsers(1))\r\n        ).protocols(httpProtocol);\r\n    }\r\n}\r\n\r\n```\r\n\r\nI would greatly appreciate any guidance or insights on why I&#39;m still receiving a 403 error despite adding the cookie correctly. Is there anything else I might be missing or any common pitfalls in Gatling that I should be aware of? Thank you in advance for your help!\r\n\r\n","title":"Getting a 403 Forbidden Error in Gatling despite Adding Correct Cookie - Troubleshooting Help Needed","body":"<p>I am working on a load testing script using Gatling for a website, and I've encountered a <strong>403 Forbidden error</strong> in the response, even after adding the necessary cookie for authentication. I've double-checked the cookie, headers, and the URL, but I'm still unable to resolve this issue.</p>\n<pre><code>package assignment7;\n\nimport static io.gatling.javaapi.core.CoreDsl.*;\nimport static io.gatling.javaapi.http.HttpDsl.*;\n\nimport io.gatling.javaapi.core.*;\nimport io.gatling.javaapi.http.*;\n\npublic class AssignmentSimulation extends Simulation {\n    \n    // http config\n    private HttpProtocolBuilder httpProtocol = http\n        .baseUrl(&quot;https://staging.com&quot;)\n        .acceptHeader(&quot;application/json, text/plain, */*&quot;)\n        .acceptEncodingHeader(&quot;gzip, deflate, br&quot;)\n        .acceptLanguageHeader(&quot;en-US,en;q=0.9&quot;)\n        .contentTypeHeader(&quot;application/json&quot;)\n        .userAgentHeader(&quot;Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/117.0.0.0 Safari/537.36 Edg/117.0.2045.47&quot;);\n        \n    // Scenario definition\n    private ScenarioBuilder scn = scenario(&quot;Load Testing&quot;)\n        .exec(http(&quot;Accessing Website&quot;)\n            .get(&quot;/&quot;)\n            .check(status().saveAs(&quot;status&quot;)))\n\n        .exec(addCookie(Cookie(&quot;stgoauth&quot;, &quot;ZW1haWw6ZGFybGFAa2FsaWJyci5jb20gdXNlcjo=&quot;)\n            .withDomain(&quot;.staging.com&quot;)\n            .withPath(&quot;/&quot;)\n            .withSecure(true)))\n        \n        .exec(session -&gt; {\n            int responseStatus = session.getInt(&quot;status&quot;); // Retrieve the saved response status\n            System.out.println(&quot;Response Code: &quot; + responseStatus);\n            return session;\n        });\n\n    //load simulation\n    {\n        setUp(\n            scn.injectOpen(atOnceUsers(1))\n        ).protocols(httpProtocol);\n    }\n}\n\n</code></pre>\n<p>I would greatly appreciate any guidance or insights on why I'm still receiving a 403 error despite adding the cookie correctly. Is there anything else I might be missing or any common pitfalls in Gatling that I should be aware of? Thank you in advance for your help!</p>\n"},{"tags":["java","pdfbox"],"answers":[{"tags":[],"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1696390896,"creation_date":1696390896,"answer_id":77226597,"question_id":77226377,"body_markdown":"This one has been replaced by `PDAnnotationFreeText`.","title":"Annotations in PDFBox 3","body":"<p>This one has been replaced by <code>PDAnnotationFreeText</code>.</p>\n"}],"owner":{"account_id":5944573,"reputation":55,"user_id":4674527,"display_name":"Benjamin James"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77226597,"answer_count":1,"score":1,"last_activity_date":1696390896,"creation_date":1696386196,"question_id":77226377,"body_markdown":"Updating to PDFBox 3 from 2, I get an error for the line below, and the javadoc on javadoc.io is down.  Anyone know the new way to add comments to a pdf in pdfbox 3?\r\n\r\n            PDAnnotationTextMarkup txtMark = new PDAnnotationTextMarkup(PDAnnotationTextMarkup.SUB_TYPE_FREETEXT);\r\n\r\nThere is no property PDAnnotationTextMarkup.SUB_TYPE_FREETEXT","title":"Annotations in PDFBox 3","body":"<p>Updating to PDFBox 3 from 2, I get an error for the line below, and the javadoc on javadoc.io is down.  Anyone know the new way to add comments to a pdf in pdfbox 3?</p>\n<pre><code>        PDAnnotationTextMarkup txtMark = new PDAnnotationTextMarkup(PDAnnotationTextMarkup.SUB_TYPE_FREETEXT);\n</code></pre>\n<p>There is no property PDAnnotationTextMarkup.SUB_TYPE_FREETEXT</p>\n"},{"tags":["java","android","kotlin","android-layout","textview"],"answers":[{"tags":[],"owner":{"account_id":4665224,"reputation":3183,"user_id":3778451,"accept_rate":54,"display_name":"Deutro"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1424870700,"creation_date":1424870700,"answer_id":28720188,"question_id":28720117,"body_markdown":"An easy fix for this would be to use multiple labels. One for each link and one for the text.\r\n\r\n    [TermsOfServiceLabel][andLabel][PrivacyPolicy]\r\n\r\nOr is it necessary that you only use one label?","title":"Multiple Clickable links in TextView on Android","body":"<p>An easy fix for this would be to use multiple labels. One for each link and one for the text.</p>\n\n<pre><code>[TermsOfServiceLabel][andLabel][PrivacyPolicy]\n</code></pre>\n\n<p>Or is it necessary that you only use one label?</p>\n"},{"tags":[],"owner":{"account_id":2631573,"reputation":959,"user_id":2277398,"display_name":"harrane"},"down_vote_count":0,"up_vote_count":19,"is_accepted":true,"score":19,"last_activity_date":1439647975,"creation_date":1424871212,"answer_id":28720364,"question_id":28720117,"body_markdown":"You can use [Linkify](http://developer.android.com/reference/android/text/util/Linkify.html#addLinks) (*android.text.Spannable*,*java.util.regex.Pattern*,*java.lang.String*)\r\n\r\n    String termsAndConditions = getResources().getString(R.string.terms_and_conditions);\r\n    String privacyPolicy = getResources().getString(R.string.privacy_policy);\r\n\r\n    legalDescription.setText(\r\n        String.format(\r\n            getResources().getString(R.string.message),\r\n            termsAndConditions,\r\n            privacyPolicy)\r\n    );\r\n    legalDescription.setMovementMethod(LinkMovementMethod.getInstance());\r\n\r\n    Pattern termsAndConditionsMatcher = Pattern.compile(termsAndConditions);\r\n    Linkify.addLinks(legalDescription, termsAndConditionsMatcher, &quot;terms:&quot;);\r\n\r\n    Pattern privacyPolicyMatcher = Pattern.compile(privacyPolicy);\r\n    Linkify.addLinks(legalDescription, privacyPolicyMatcher, &quot;privacy:&quot;);\r\nand then you can use the scheme to start an activity for example by adding the scheme in the *AndroidManifest*:\r\n\r\n    &lt;intent-filter&gt;\r\n        &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\r\n        &lt;action android:name=&quot;android.intent.action.VIEW&quot; /&gt;\r\n        &lt;data android:scheme=&quot;terms&quot; /&gt;\r\n        &lt;data android:scheme=&quot;privacy&quot; /&gt;\r\n    &lt;/intent-filter&gt;\r\n\r\nIf you want to do a custom action, you can set the intent-filter to your current activity, which will have a singleTop launchmode.\r\n\r\nThis will cause [onNewIntent]( http://developer.android.com/reference/android/app/Activity.html#onNewIntent(android.content.Intent)) to be fired where can make your custom actions:\r\n\r\n    @Override\r\n    protected void onNewIntent(final Intent intent) {\r\n     ...\r\n      if (intent.getScheme().equals(..)) {\r\n        ..\r\n      }\r\n    }","title":"Multiple Clickable links in TextView on Android","body":"<p>You can use <a href=\"http://developer.android.com/reference/android/text/util/Linkify.html#addLinks\">Linkify</a> (<em>android.text.Spannable</em>,<em>java.util.regex.Pattern</em>,<em>java.lang.String</em>)</p>\n\n<pre><code>String termsAndConditions = getResources().getString(R.string.terms_and_conditions);\nString privacyPolicy = getResources().getString(R.string.privacy_policy);\n\nlegalDescription.setText(\n    String.format(\n        getResources().getString(R.string.message),\n        termsAndConditions,\n        privacyPolicy)\n);\nlegalDescription.setMovementMethod(LinkMovementMethod.getInstance());\n\nPattern termsAndConditionsMatcher = Pattern.compile(termsAndConditions);\nLinkify.addLinks(legalDescription, termsAndConditionsMatcher, \"terms:\");\n\nPattern privacyPolicyMatcher = Pattern.compile(privacyPolicy);\nLinkify.addLinks(legalDescription, privacyPolicyMatcher, \"privacy:\");\n</code></pre>\n\n<p>and then you can use the scheme to start an activity for example by adding the scheme in the <em>AndroidManifest</em>:</p>\n\n<pre><code>&lt;intent-filter&gt;\n    &lt;category android:name=\"android.intent.category.DEFAULT\" /&gt;\n    &lt;action android:name=\"android.intent.action.VIEW\" /&gt;\n    &lt;data android:scheme=\"terms\" /&gt;\n    &lt;data android:scheme=\"privacy\" /&gt;\n&lt;/intent-filter&gt;\n</code></pre>\n\n<p>If you want to do a custom action, you can set the intent-filter to your current activity, which will have a singleTop launchmode.</p>\n\n<p>This will cause <a href=\"http://developer.android.com/reference/android/app/Activity.html#onNewIntent(android.content.Intent)\">onNewIntent</a> to be fired where can make your custom actions:</p>\n\n<pre><code>@Override\nprotected void onNewIntent(final Intent intent) {\n ...\n  if (intent.getScheme().equals(..)) {\n    ..\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4324594,"reputation":4993,"user_id":3531756,"accept_rate":91,"display_name":"Tushar Gogna"},"down_vote_count":0,"up_vote_count":109,"is_accepted":false,"score":109,"last_activity_date":1696009032,"creation_date":1432187809,"answer_id":30365618,"question_id":28720117,"body_markdown":"**UPDATE Sept, 2023**\r\n---------\r\n---------\r\nI have created a small library around this for Composable. You can simply use the same and save time. Here is the library:\r\n[TermsText_Composable][2] \r\n\r\nIn your **Settings.gradle.kts**, add:\r\n\r\n            maven { url = uri(&quot;https://jitpack.io&quot;) }\r\n\r\nand in your app level **build.gradle.kts**, add:\r\n\r\n        implementation(&quot;com.github.TusharGogna:TermsText_Composable:v1.0.4&quot;)\r\n\r\n\r\n--------------------\r\n\r\nI think that I&#39;m a little late to share this, but I have achieved the same using [SpannableStringBuilder](http://developer.android.com/reference/android/text/SpannableStringBuilder.html).\r\n\r\nSimply initialize the `TextView` that you want to add 2 or more listeners and then pass that to the following method that I have created:\r\n\r\n\r\n    private void customTextView(TextView view) {\r\n            SpannableStringBuilder spanTxt = new SpannableStringBuilder(\r\n                    &quot;I agree to the &quot;);\r\n            spanTxt.append(&quot;Term of services&quot;);\r\n            spanTxt.setSpan(new ClickableSpan() {\r\n                @Override\r\n                public void onClick(View widget) {\r\n                    Toast.makeText(getApplicationContext(), &quot;Terms of services Clicked&quot;,\r\n                            Toast.LENGTH_SHORT).show();\r\n                }\r\n            }, spanTxt.length() - &quot;Term of services&quot;.length(), spanTxt.length(), 0);\r\n            spanTxt.append(&quot; and&quot;);\r\n            spanTxt.setSpan(new ForegroundColorSpan(Color.BLACK), 32, spanTxt.length(), 0);\r\n            spanTxt.append(&quot; Privacy Policy&quot;);\r\n            spanTxt.setSpan(new ClickableSpan() {\r\n                @Override\r\n                public void onClick(View widget) {\r\n                    Toast.makeText(getApplicationContext(), &quot;Privacy Policy Clicked&quot;,\r\n                            Toast.LENGTH_SHORT).show();\r\n                }\r\n            }, spanTxt.length() - &quot; Privacy Policy&quot;.length(), spanTxt.length(), 0);\r\n            view.setMovementMethod(LinkMovementMethod.getInstance());\r\n            view.setText(spanTxt, BufferType.SPANNABLE);\r\n        } \r\n\r\n\r\nAnd in your XML, use `android:textColorLink` to add custom link color of your choice. Like this:\r\n\r\n \r\n\r\n       &lt;TextView\r\n         android:id=&quot;@+id/textView1&quot;\r\n         android:layout_width=&quot;wrap_content&quot;\r\n         android:layout_height=&quot;wrap_content&quot;\r\n         android:text=&quot;TextView&quot;\r\n         android:textColorLink=&quot;#C36241&quot; /&gt;  //#C36241 - Rust\r\n\r\n\r\nAnd this looks like this:\r\n\r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/TrDA3.png\r\n  [2]: https://github.com/TusharGogna/TermsText_Composable","title":"Multiple Clickable links in TextView on Android","body":"<h2><strong>UPDATE Sept, 2023</strong></h2>\n<hr />\n<p>I have created a small library around this for Composable. You can simply use the same and save time. Here is the library:\n<a href=\"https://github.com/TusharGogna/TermsText_Composable\" rel=\"nofollow noreferrer\">TermsText_Composable</a></p>\n<p>In your <strong>Settings.gradle.kts</strong>, add:</p>\n<pre><code>        maven { url = uri(&quot;https://jitpack.io&quot;) }\n</code></pre>\n<p>and in your app level <strong>build.gradle.kts</strong>, add:</p>\n<pre><code>    implementation(&quot;com.github.TusharGogna:TermsText_Composable:v1.0.4&quot;)\n</code></pre>\n<hr />\n<p>I think that I'm a little late to share this, but I have achieved the same using <a href=\"http://developer.android.com/reference/android/text/SpannableStringBuilder.html\" rel=\"nofollow noreferrer\">SpannableStringBuilder</a>.</p>\n<p>Simply initialize the <code>TextView</code> that you want to add 2 or more listeners and then pass that to the following method that I have created:</p>\n<pre><code>private void customTextView(TextView view) {\n        SpannableStringBuilder spanTxt = new SpannableStringBuilder(\n                &quot;I agree to the &quot;);\n        spanTxt.append(&quot;Term of services&quot;);\n        spanTxt.setSpan(new ClickableSpan() {\n            @Override\n            public void onClick(View widget) {\n                Toast.makeText(getApplicationContext(), &quot;Terms of services Clicked&quot;,\n                        Toast.LENGTH_SHORT).show();\n            }\n        }, spanTxt.length() - &quot;Term of services&quot;.length(), spanTxt.length(), 0);\n        spanTxt.append(&quot; and&quot;);\n        spanTxt.setSpan(new ForegroundColorSpan(Color.BLACK), 32, spanTxt.length(), 0);\n        spanTxt.append(&quot; Privacy Policy&quot;);\n        spanTxt.setSpan(new ClickableSpan() {\n            @Override\n            public void onClick(View widget) {\n                Toast.makeText(getApplicationContext(), &quot;Privacy Policy Clicked&quot;,\n                        Toast.LENGTH_SHORT).show();\n            }\n        }, spanTxt.length() - &quot; Privacy Policy&quot;.length(), spanTxt.length(), 0);\n        view.setMovementMethod(LinkMovementMethod.getInstance());\n        view.setText(spanTxt, BufferType.SPANNABLE);\n    } \n</code></pre>\n<p>And in your XML, use <code>android:textColorLink</code> to add custom link color of your choice. Like this:</p>\n<pre><code>   &lt;TextView\n     android:id=&quot;@+id/textView1&quot;\n     android:layout_width=&quot;wrap_content&quot;\n     android:layout_height=&quot;wrap_content&quot;\n     android:text=&quot;TextView&quot;\n     android:textColorLink=&quot;#C36241&quot; /&gt;  //#C36241 - Rust\n</code></pre>\n<p>And this looks like this:</p>\n<p><img src=\"https://i.stack.imgur.com/TrDA3.png\" alt=\"enter image description here\" /></p>\n"},{"tags":[],"owner":{"account_id":1917726,"reputation":1093,"user_id":1729952,"display_name":"Ahmad Baraka"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1435298791,"creation_date":1435298791,"answer_id":31066049,"question_id":28720117,"body_markdown":"Here&#39;s my solution:\r\n\r\n**First we need to have clickable links in our TextView:**\r\n\r\n 1. Here&#39;s my TextView in the xml layout, do not add any links handling\r\n    parameters.\r\n    \r\n        &lt;TextView\r\n                android:id=&quot;@+id/sign_up_privacy&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:text=&quot;@string/terms_and_privacy&quot;/&gt;\r\n 2. In strings file, I added the resource text with &lt;a&gt; html tags\r\n    \r\n        &lt;string name=&quot;terms_and_privacy&quot;&gt;By signing up you agree to our &lt;a href=&quot;terms:&quot;&gt;Terms of Service&lt;/a&gt; and &lt;a href=&quot;privacy:&quot;&gt;Privacy Policy.&lt;/a&gt;&lt;/string&gt;\r\n 3. In onCreateView set LinkMovementMethod to the TextView\r\n    \r\n        TextView privacyTextView = (TextView) root.findViewById(R.id.sign_up_privacy);\r\n        privacyTextView.setMovementMethod(LinkMovementMethod.getInstance());\r\n\r\nNow the TextView links are clickable.\r\n\r\n**Second, We need to Handle these clicks:**\r\n\r\n 1. In my Manifest file, I added intent-filter for &quot;terms&quot; and &quot;privacy&quot;\r\n    and Single Instance Launch Mode\r\n    \r\n        &lt;activity\r\n                    android:name=&quot;.MyActivity&quot;\r\n                    android:launchMode=&quot;singleInstance&quot;&gt;\r\n                    &lt;intent-filter&gt;\r\n                        &lt;category android:name=&quot;android.intent.category.DEFAULT&quot;/&gt;\r\n                        &lt;action android:name=&quot;android.intent.action.VIEW&quot;/&gt;\r\n        \r\n                        &lt;data android:scheme=&quot;terms&quot;/&gt;\r\n                        &lt;data android:scheme=&quot;privacy&quot;/&gt;\r\n                    &lt;/intent-filter&gt;\r\n                &lt;/activity&gt;\r\n 2. In MyActivity, override onNewIntent to catch privacy and terms\r\n    intents\r\n    \r\n        @Override\r\n            protected void onNewIntent(Intent intent)\r\n            {\r\n                if (intent.getScheme().equalsIgnoreCase(getString(&quot;terms&quot;)))\r\n                {\r\n                    //handle terms clicked\r\n                }\r\n                else if (intent.getScheme().equalsIgnoreCase(getString(&quot;privacy&quot;)))\r\n                {\r\n                    //handle privacy clicked\r\n                }\r\n                else\r\n                {\r\n                    super.onNewIntent(intent);\r\n                }\r\n            }","title":"Multiple Clickable links in TextView on Android","body":"<p>Here's my solution:</p>\n\n<p><strong>First we need to have clickable links in our TextView:</strong></p>\n\n<ol>\n<li><p>Here's my TextView in the xml layout, do not add any links handling\nparameters.</p>\n\n<pre><code>&lt;TextView\n        android:id=\"@+id/sign_up_privacy\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:text=\"@string/terms_and_privacy\"/&gt;\n</code></pre></li>\n<li><p>In strings file, I added the resource text with  html tags</p>\n\n<pre><code>&lt;string name=\"terms_and_privacy\"&gt;By signing up you agree to our &lt;a href=\"terms:\"&gt;Terms of Service&lt;/a&gt; and &lt;a href=\"privacy:\"&gt;Privacy Policy.&lt;/a&gt;&lt;/string&gt;\n</code></pre></li>\n<li><p>In onCreateView set LinkMovementMethod to the TextView</p>\n\n<pre><code>TextView privacyTextView = (TextView) root.findViewById(R.id.sign_up_privacy);\nprivacyTextView.setMovementMethod(LinkMovementMethod.getInstance());\n</code></pre></li>\n</ol>\n\n<p>Now the TextView links are clickable.</p>\n\n<p><strong>Second, We need to Handle these clicks:</strong></p>\n\n<ol>\n<li><p>In my Manifest file, I added intent-filter for \"terms\" and \"privacy\"\nand Single Instance Launch Mode</p>\n\n<pre><code>&lt;activity\n            android:name=\".MyActivity\"\n            android:launchMode=\"singleInstance\"&gt;\n            &lt;intent-filter&gt;\n                &lt;category android:name=\"android.intent.category.DEFAULT\"/&gt;\n                &lt;action android:name=\"android.intent.action.VIEW\"/&gt;\n\n                &lt;data android:scheme=\"terms\"/&gt;\n                &lt;data android:scheme=\"privacy\"/&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n</code></pre></li>\n<li><p>In MyActivity, override onNewIntent to catch privacy and terms\nintents</p>\n\n<pre><code>@Override\n    protected void onNewIntent(Intent intent)\n    {\n        if (intent.getScheme().equalsIgnoreCase(getString(\"terms\")))\n        {\n            //handle terms clicked\n        }\n        else if (intent.getScheme().equalsIgnoreCase(getString(\"privacy\")))\n        {\n            //handle privacy clicked\n        }\n        else\n        {\n            super.onNewIntent(intent);\n        }\n    }\n</code></pre></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":5669878,"reputation":1796,"user_id":4484857,"display_name":"PH88"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1452763942,"creation_date":1452763942,"answer_id":34785945,"question_id":28720117,"body_markdown":"With [Textoo][1], this can be achieved like:\r\n\r\nres/values/strings.xml:\r\n\r\n    &lt;resources&gt;\r\n         &lt;string name=&quot;str_terms_and_privacy&quot;&gt;By signing up you agree to our &lt;a href=&quot;terms:&quot;&gt;Terms of Service&lt;/a&gt; and &lt;a href=&quot;privacy:&quot;&gt;Privacy Policy.&lt;/a&gt;&lt;/string&gt;\r\n    &lt;/resources&gt;\r\n\r\nres/layout/myActivity.xml:\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/view_terms_and_privacy&quot;\r\n        android:text=&quot;@string/str_terms_and_privacy&quot;\r\n        /&gt;\r\n\r\njava/myPackage/MyActivity.java:\r\n\r\n    public class MyActivity extends Activity {\r\n        ...\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            ...\r\n            TextView termsAndPrivacy = Textoo\r\n                .config((TextView) findViewById(R.id.view_terms_and_privacy))\r\n                .addLinksHandler(new LinksHandler() {\r\n                    @Override\r\n                    public boolean onClick(View view, String url) {\r\n                        if (&quot;terms:&quot;.equals(url)) {\r\n                            // Handle terms click\r\n                            return true;  // event handled\r\n                        } else if (&quot;privacy:&quot;.equals(url)) {\r\n                            // Handle privacy click\r\n                            return true;  // event handled\r\n                        } else {\r\n                            return false;  // event not handled.  continue default processing i.e. launch web browser and display the link\r\n                        }\r\n                    }\r\n                })\r\n                .apply();\r\n            ...\r\n        }\r\n        ...\r\n    }\r\n\r\n\r\nThis approach have the advantages that:\r\n\r\n- Keep text externalized as string resource.  Make it easier to localize your app.\r\n- Can handle the click event directly using `LinksHandler` and no need to define additional intent filter\r\n- Simpler and more readable code\r\n\r\n\r\n[1]: https://github.com/bluecabin/Textoo\r\n\r\n\r\n\r\n","title":"Multiple Clickable links in TextView on Android","body":"<p>With <a href=\"https://github.com/bluecabin/Textoo\" rel=\"nofollow\">Textoo</a>, this can be achieved like:</p>\n\n<p>res/values/strings.xml:</p>\n\n<pre><code>&lt;resources&gt;\n     &lt;string name=\"str_terms_and_privacy\"&gt;By signing up you agree to our &lt;a href=\"terms:\"&gt;Terms of Service&lt;/a&gt; and &lt;a href=\"privacy:\"&gt;Privacy Policy.&lt;/a&gt;&lt;/string&gt;\n&lt;/resources&gt;\n</code></pre>\n\n<p>res/layout/myActivity.xml:</p>\n\n<pre><code>&lt;TextView\n    android:id=\"@+id/view_terms_and_privacy\"\n    android:text=\"@string/str_terms_and_privacy\"\n    /&gt;\n</code></pre>\n\n<p>java/myPackage/MyActivity.java:</p>\n\n<pre><code>public class MyActivity extends Activity {\n    ...\n    protected void onCreate(Bundle savedInstanceState) {\n        ...\n        TextView termsAndPrivacy = Textoo\n            .config((TextView) findViewById(R.id.view_terms_and_privacy))\n            .addLinksHandler(new LinksHandler() {\n                @Override\n                public boolean onClick(View view, String url) {\n                    if (\"terms:\".equals(url)) {\n                        // Handle terms click\n                        return true;  // event handled\n                    } else if (\"privacy:\".equals(url)) {\n                        // Handle privacy click\n                        return true;  // event handled\n                    } else {\n                        return false;  // event not handled.  continue default processing i.e. launch web browser and display the link\n                    }\n                }\n            })\n            .apply();\n        ...\n    }\n    ...\n}\n</code></pre>\n\n<p>This approach have the advantages that:</p>\n\n<ul>\n<li>Keep text externalized as string resource.  Make it easier to localize your app.</li>\n<li>Can handle the click event directly using <code>LinksHandler</code> and no need to define additional intent filter</li>\n<li>Simpler and more readable code</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":2419496,"reputation":1280,"user_id":2112837,"accept_rate":31,"display_name":"techtinkerer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1480722943,"creation_date":1480722943,"answer_id":40942672,"question_id":28720117,"body_markdown":"This is working for me :\r\n\r\nin xml :\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/tv_by_continuing_str&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginTop=&quot;8dp&quot;\r\n        android:layout_marginLeft=&quot;8dp&quot;\r\n        android:layout_marginRight=&quot;8dp&quot;\r\n        android:textSize=&quot;15sp&quot;\r\n        tools:text=&quot;Test msg 1 2, 3&quot;\r\n        android:textColor=&quot;@color/translucent_less_white3&quot;\r\n        android:textColorLink=&quot;@color/white&quot;\r\n        android:gravity=&quot;center|bottom&quot;\r\n        android:layout_above=&quot;@+id/btn_privacy_continue&quot; /&gt;\r\nIn strings.xml\r\n\r\n    &lt; string name=&quot;by_continuing_str2&quot;&gt;&lt; ! [ CDATA[By continuing to use this app, you agree to our &lt;a href=&quot;https://go.test.com&quot; style=&quot;color:gray&quot;/&gt; Privacy Statement &lt;/a&gt; and &lt;a href=&quot;https://go.test.com&quot; style=&quot;color:gray&quot;/&gt;Services Agreement.]]&gt;&lt; / string&gt;\r\nin the activity :\r\n\r\n    TextView tv_by_continuing = (TextView) findViewById(R.id.tv_by_continuing);\r\n    tv_by_continuing.setText(Html.fromHtml(getString(R.string.by_continuing_str2)));\r\n    tv_by_continuing.setMovementMethod(LinkMovementMethod.getInstance());","title":"Multiple Clickable links in TextView on Android","body":"<p>This is working for me :</p>\n\n<p>in xml :</p>\n\n<pre><code>&lt;TextView\n    android:id=\"@+id/tv_by_continuing_str\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"\n    android:layout_marginTop=\"8dp\"\n    android:layout_marginLeft=\"8dp\"\n    android:layout_marginRight=\"8dp\"\n    android:textSize=\"15sp\"\n    tools:text=\"Test msg 1 2, 3\"\n    android:textColor=\"@color/translucent_less_white3\"\n    android:textColorLink=\"@color/white\"\n    android:gravity=\"center|bottom\"\n    android:layout_above=\"@+id/btn_privacy_continue\" /&gt;\n</code></pre>\n\n<p>In strings.xml</p>\n\n<pre><code>&lt; string name=\"by_continuing_str2\"&gt;&lt; ! [ CDATA[By continuing to use this app, you agree to our &lt;a href=\"https://go.test.com\" style=\"color:gray\"/&gt; Privacy Statement &lt;/a&gt; and &lt;a href=\"https://go.test.com\" style=\"color:gray\"/&gt;Services Agreement.]]&gt;&lt; / string&gt;\n</code></pre>\n\n<p>in the activity :</p>\n\n<pre><code>TextView tv_by_continuing = (TextView) findViewById(R.id.tv_by_continuing);\ntv_by_continuing.setText(Html.fromHtml(getString(R.string.by_continuing_str2)));\ntv_by_continuing.setMovementMethod(LinkMovementMethod.getInstance());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2658411,"reputation":1205,"user_id":2298631,"accept_rate":0,"display_name":"Salman khan"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1589453996,"creation_date":1589453996,"answer_id":61795702,"question_id":28720117,"body_markdown":"The best way to do this is with string file\r\n\r\nIn string.xml \r\n\r\n    &lt;string name=&quot;agree_to_terms&quot;&gt;I agree to the %1$s and %2$s&lt;/string&gt;\r\n    &lt;string name=&quot;terms_of_service&quot;&gt;Terms of Service&lt;/string&gt;\r\n    &lt;string name=&quot;privacy_policy&quot;&gt;Privacy Policy&lt;/string&gt;\r\n\r\nIn onCreateView call below method\r\n\r\n    private void setTermsAndCondition() {\r\n        String termsOfServicee = getString(R.string.terms_of_service);\r\n        String privacyPolicy = getString(R.string.privacy_policy);\r\n        String completeString = getString(R.string.agree_to_terms, termsOfServicee,privacyPolicy);\r\n        int startIndex = completeString.indexOf(termsOfServicee);\r\n        int endIndex = startIndex + termsOfServicee.length();\r\n        int startIndex2 = completeString.indexOf(privacyPolicy);\r\n        int endIndex2 = startIndex2 + privacyPolicy.length();\r\n        SpannableStringBuilder spannableStringBuilder = new SpannableStringBuilder(completeString);\r\n        ClickableSpan clickOnTerms = new ClickableSpan() {\r\n            @Override\r\n            public void onClick(View widget) {\r\n                Toast.makeText(this, &quot;click on terms of service&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n\r\n            @Override\r\n            public void updateDrawState(TextPaint ds) {\r\n                ds.setColor(ContextCompat.getColor(this, R.color.blue));\r\n\r\n            }\r\n        };\r\n        ClickableSpan clickOnPrivacy = new ClickableSpan() {\r\n            @Override\r\n            public void onClick(View widget) {\r\n                Toast.makeText(this, &quot;click on privacy policy&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n\r\n            @Override\r\n            public void updateDrawState(TextPaint ds) {\r\n                ds.setColor(ContextCompat.getColor(this, R.color.blue));\r\n\r\n            }\r\n        };\r\n        spannableStringBuilder.setSpan(clickOnTerms, startIndex, endIndex, Spanned.SPAN_EXCLUSIVE_EXCLUSIVE);\r\n        spannableStringBuilder.setSpan(clickOnPrivacy, startIndex2, endIndex2, Spanned.SPAN_EXCLUSIVE_EXCLUSIVE);\r\n        yourTextView.setText(spannableStringBuilder);\r\n        yourTextView.setMovementMethod(LinkMovementMethod.getInstance());\r\n    }\r\n\r\n ","title":"Multiple Clickable links in TextView on Android","body":"<p>The best way to do this is with string file</p>\n\n<p>In string.xml </p>\n\n<pre><code>&lt;string name=\"agree_to_terms\"&gt;I agree to the %1$s and %2$s&lt;/string&gt;\n&lt;string name=\"terms_of_service\"&gt;Terms of Service&lt;/string&gt;\n&lt;string name=\"privacy_policy\"&gt;Privacy Policy&lt;/string&gt;\n</code></pre>\n\n<p>In onCreateView call below method</p>\n\n<pre><code>private void setTermsAndCondition() {\n    String termsOfServicee = getString(R.string.terms_of_service);\n    String privacyPolicy = getString(R.string.privacy_policy);\n    String completeString = getString(R.string.agree_to_terms, termsOfServicee,privacyPolicy);\n    int startIndex = completeString.indexOf(termsOfServicee);\n    int endIndex = startIndex + termsOfServicee.length();\n    int startIndex2 = completeString.indexOf(privacyPolicy);\n    int endIndex2 = startIndex2 + privacyPolicy.length();\n    SpannableStringBuilder spannableStringBuilder = new SpannableStringBuilder(completeString);\n    ClickableSpan clickOnTerms = new ClickableSpan() {\n        @Override\n        public void onClick(View widget) {\n            Toast.makeText(this, \"click on terms of service\", Toast.LENGTH_SHORT).show();\n        }\n\n        @Override\n        public void updateDrawState(TextPaint ds) {\n            ds.setColor(ContextCompat.getColor(this, R.color.blue));\n\n        }\n    };\n    ClickableSpan clickOnPrivacy = new ClickableSpan() {\n        @Override\n        public void onClick(View widget) {\n            Toast.makeText(this, \"click on privacy policy\", Toast.LENGTH_SHORT).show();\n        }\n\n        @Override\n        public void updateDrawState(TextPaint ds) {\n            ds.setColor(ContextCompat.getColor(this, R.color.blue));\n\n        }\n    };\n    spannableStringBuilder.setSpan(clickOnTerms, startIndex, endIndex, Spanned.SPAN_EXCLUSIVE_EXCLUSIVE);\n    spannableStringBuilder.setSpan(clickOnPrivacy, startIndex2, endIndex2, Spanned.SPAN_EXCLUSIVE_EXCLUSIVE);\n    yourTextView.setText(spannableStringBuilder);\n    yourTextView.setMovementMethod(LinkMovementMethod.getInstance());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7541339,"reputation":181,"user_id":5725819,"display_name":"Ranajit Sawant"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1594910576,"creation_date":1594910576,"answer_id":62937260,"question_id":28720117,"body_markdown":"```\r\n\r\nprivate fun customTextView(view: TextView) {\r\n\r\n        //I agree to the Terms of service &amp; Privacy Policy,\r\n        val spanTxt = SpannableStringBuilder(\r\n            &quot;I agree to the &quot;)\r\n        spanTxt.append(&quot;Terms of service&quot;)\r\n        spanTxt.setSpan(object : ClickableSpan() {\r\n            override fun onClick(widget: View) {\r\n             \r\n                toast(&quot;Terms of service link clicked&quot;)\r\n\r\n            }\r\n        }, spanTxt.length - &quot;Term of services&quot;.length, spanTxt.length, 0)\r\n        spanTxt.append(&quot; and&quot;)\r\n        spanTxt.append(&quot; Privacy Policy&quot;)\r\n        spanTxt.setSpan(object : ClickableSpan() {\r\n            override fun onClick(widget: View) {\r\n\r\n                toast(&quot;Privacy Policy link clicked&quot;)\r\n\r\n            }\r\n        }, spanTxt.length - &quot; Privacy Policy&quot;.length, spanTxt.length, 0)\r\n        view.movementMethod = LinkMovementMethod.getInstance()\r\n        view.setText(spanTxt, TextView.BufferType.SPANNABLE)\r\n    }\r\n```","title":"Multiple Clickable links in TextView on Android","body":"<pre><code>\nprivate fun customTextView(view: TextView) {\n\n        //I agree to the Terms of service &amp; Privacy Policy,\n        val spanTxt = SpannableStringBuilder(\n            &quot;I agree to the &quot;)\n        spanTxt.append(&quot;Terms of service&quot;)\n        spanTxt.setSpan(object : ClickableSpan() {\n            override fun onClick(widget: View) {\n             \n                toast(&quot;Terms of service link clicked&quot;)\n\n            }\n        }, spanTxt.length - &quot;Term of services&quot;.length, spanTxt.length, 0)\n        spanTxt.append(&quot; and&quot;)\n        spanTxt.append(&quot; Privacy Policy&quot;)\n        spanTxt.setSpan(object : ClickableSpan() {\n            override fun onClick(widget: View) {\n\n                toast(&quot;Privacy Policy link clicked&quot;)\n\n            }\n        }, spanTxt.length - &quot; Privacy Policy&quot;.length, spanTxt.length, 0)\n        view.movementMethod = LinkMovementMethod.getInstance()\n        view.setText(spanTxt, TextView.BufferType.SPANNABLE)\n    }\n</code></pre>\n"}],"owner":{"account_id":2010499,"reputation":6627,"user_id":1799043,"accept_rate":54,"display_name":"AndroidEnthusiast"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27386,"favorite_count":0,"down_vote_count":0,"up_vote_count":36,"accepted_answer_id":28720364,"answer_count":8,"score":36,"last_activity_date":1696390315,"creation_date":1424870532,"question_id":28720117,"body_markdown":"I&#39;m trying to add multiple links in a textview similar to what Google &amp; Flipboard has done below with their **Terms and conditions** AND **Privacy Policy** shown in the screen shot below:\r\n\r\nSo far I&#39;ve stumbled on using this approach\r\n\r\n textView.setText(Html.fromHtml(myHtml);\r\n textView.setMovementMethod(LinkMovementMethod.getInstance());\r\n\r\n where myHtml is a href.\r\n\r\nBut it doesn&#39;t give me control I need e.g to launch a fragment etc.\r\n\r\nAny idea how they achieve this in the two examples below?\r\n\r\n\r\n![Flipboard terms and conditions view][1]\r\n\r\n\r\n![Google terms and conditions view][2]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/T5Sap.png\r\n  [2]: http://i.stack.imgur.com/IjRna.png","title":"Multiple Clickable links in TextView on Android","body":"<p>I'm trying to add multiple links in a textview similar to what Google &amp; Flipboard has done below with their <strong>Terms and conditions</strong> AND <strong>Privacy Policy</strong> shown in the screen shot below:</p>\n\n<p>So far I've stumbled on using this approach</p>\n\n<p>textView.setText(Html.fromHtml(myHtml);\n textView.setMovementMethod(LinkMovementMethod.getInstance());</p>\n\n<p>where myHtml is a href.</p>\n\n<p>But it doesn't give me control I need e.g to launch a fragment etc.</p>\n\n<p>Any idea how they achieve this in the two examples below?</p>\n\n<p><img src=\"https://i.stack.imgur.com/T5Sap.png\" alt=\"Flipboard terms and conditions view\"></p>\n\n<p><img src=\"https://i.stack.imgur.com/IjRna.png\" alt=\"Google terms and conditions view\"></p>\n"},{"tags":["java","maven","github-actions"],"comments":[{"owner":{"account_id":10402418,"reputation":12349,"user_id":7670262,"display_name":"Azeem"},"score":0,"creation_date":1696390330,"post_id":77225453,"comment_id":136145124,"body_markdown":"Is that your complete workflow? There must be more logs before this error specifying the actual problem. Please add those in your question as well.","body":"Is that your complete workflow? There must be more logs before this error specifying the actual problem. Please add those in your question as well."},{"owner":{"account_id":18999437,"reputation":2463,"user_id":13867124,"display_name":"AztecCodes"},"score":0,"creation_date":1696414270,"post_id":77225453,"comment_id":136148833,"body_markdown":"Welcome to Stack Overflow! Thank you for your question. However it seems like you are not familiar with the guide of Stack Overflow to [How To: Ask a good question](https://stackoverflow.com/help/how-to-ask). Please read it and adjust your question accordingly by using the [Edit](https://stackoverflow.com/posts/77068047/edit) option. Happy coding!","body":"Welcome to Stack Overflow! Thank you for your question. However it seems like you are not familiar with the guide of Stack Overflow to <a href=\"https://stackoverflow.com/help/how-to-ask\">How To: Ask a good question</a>. Please read it and adjust your question accordingly by using the <a href=\"https://stackoverflow.com/posts/77068047/edit\">Edit</a> option. Happy coding!"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1696414276,"post_id":77225453,"comment_id":136148836,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"owner":{"account_id":15208059,"reputation":21,"user_id":10973791,"display_name":"Manasi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696390222,"creation_date":1696366365,"question_id":77225453,"body_markdown":"I wrote the GitHub action workflow and it failed with error code 2. \r\nI want to run a java program when the GitHub action is executed.\r\n\r\nGitHub actions workflow:\r\n\r\n```yml\r\nname: CI\r\n\r\njobs:\r\n  build:\r\n    runs-on: ubuntu-latest\r\n\r\n    steps:\r\n    - run: javac /Users/user-name/git/repository/my-first-framework/src/main/java/InterviewPrep/StringReverse.java\r\n```\r\n","title":"Build fails every time with &quot;Error: Process completed with exit code 2.&quot;","body":"<p>I wrote the GitHub action workflow and it failed with error code 2.\nI want to run a java program when the GitHub action is executed.</p>\n<p>GitHub actions workflow:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>name: CI\n\njobs:\n  build:\n    runs-on: ubuntu-latest\n\n    steps:\n    - run: javac /Users/user-name/git/repository/my-first-framework/src/main/java/InterviewPrep/StringReverse.java\n</code></pre>\n"},{"tags":["java","square","square-wire"],"comments":[{"owner":{"account_id":985725,"reputation":14853,"user_id":1004274,"accept_rate":93,"display_name":"oldergod"},"score":0,"creation_date":1696266034,"post_id":77203339,"comment_id":136128086,"body_markdown":"Why do you still wanna use the Order class though? That&#39;s irrelevant to your serialization, no?","body":"Why do you still wanna use the Order class though? That&#39;s irrelevant to your serialization, no?"},{"owner":{"account_id":22567722,"reputation":1,"user_id":16754445,"display_name":"Chris B"},"score":0,"creation_date":1696388442,"post_id":77203339,"comment_id":136145038,"body_markdown":"A remote service is sending me a serialized Order object over a message queue. I am deserializing it from JSON and using the Order object in my code.","body":"A remote service is sending me a serialized Order object over a message queue. I am deserializing it from JSON and using the Order object in my code."}],"answers":[{"tags":[],"owner":{"account_id":22567722,"reputation":1,"user_id":16754445,"display_name":"Chris B"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696388775,"creation_date":1696010215,"answer_id":77203948,"question_id":77203339,"body_markdown":"I figured it out.  The `Order` class that I am deserializing extends the `Message` class from version 1.x of the `com.squareup.wire` library, and this uses the `ProtoEnum` class, which no longer exists in later versions.  \r\n\r\nNo solution yet, but that is the cause of the problem.\r\n\r\n**UPDATE**\r\n\r\nAssuming the producer of the serialized Order doesn&#39;t upgrade to a compatible version of Square Wire, I may need to generate the Order class myself from the protobuf schema using my version of Square Wire.","title":"NoClassDefFoundError for ProtoEnum after upgrading Square Wire libraries","body":"<p>I figured it out.  The <code>Order</code> class that I am deserializing extends the <code>Message</code> class from version 1.x of the <code>com.squareup.wire</code> library, and this uses the <code>ProtoEnum</code> class, which no longer exists in later versions.</p>\n<p>No solution yet, but that is the cause of the problem.</p>\n<p><strong>UPDATE</strong></p>\n<p>Assuming the producer of the serialized Order doesn't upgrade to a compatible version of Square Wire, I may need to generate the Order class myself from the protobuf schema using my version of Square Wire.</p>\n"}],"owner":{"account_id":22567722,"reputation":1,"user_id":16754445,"display_name":"Chris B"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696389014,"creation_date":1696003387,"question_id":77203339,"body_markdown":"After upgrading my **com.squareup.wire** libraries from 1.8 to 3.4+ (to address security vulnerabilities), I get the NoClassDefFoundError below when trying to deserialize an object from JSON:\r\n\r\n```\r\njava.lang.NoClassDefFoundError: com/squareup/wire/ProtoEnum\r\n    at java.base/java.lang.ClassLoader.defineClass1(Native Method)\r\n    at java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1017)\r\n    at java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:174)\r\n    at java.base/jdk.internal.loader.BuiltinClassLoader.defineClass(BuiltinClassLoader.java:800)\r\n    at java.base/jdk.internal.loader.BuiltinClassLoader.findClassOnClassPathOrNull(BuiltinClassLoader.java:698)\r\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClassOrNull(BuiltinClassLoader.java:621)\r\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:579)\r\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\r\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\r\n    at java.base/java.lang.Class.getDeclaredFields0(Native Method)\r\n    at java.base/java.lang.Class.privateGetDeclaredFields(Class.java:3061)\r\n    at java.base/java.lang.Class.getField0(Class.java:3246)\r\n    at java.base/java.lang.Class.getField(Class.java:1997)\r\n    at com.squareup.wire.ProtoAdapter$Companion.get(ProtoAdapter.kt:257)\r\n    at com.squareup.wire.internal.ReflectionKt.createRuntimeMessageAdapter(reflection.kt:95)\r\n    at com.squareup.wire.WireTypeAdapterFactory.create(WireTypeAdapterFactory.kt:82)\r\n    at com.google.gson.Gson.getAdapter(Gson.java:489)\r\n    at com.google.gson.Gson.fromJson(Gson.java:962)\r\n    at com.google.gson.Gson.fromJson(Gson.java:928)\r\n    at com.google.gson.Gson.fromJson(Gson.java:877)\r\n    at com.google.gson.Gson.fromJson(Gson.java:848)\r\n    at &lt;...&gt;.OrderMessageProcessor.deserializeOrder(OrderMessageProcessor.java:164)\r\n    ...\r\nCaused by: java.lang.ClassNotFoundException: com.squareup.wire.ProtoEnum\r\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\r\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\r\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\r\n    ... 78 more\r\n```\r\n\r\nWhere do I get this `ProtoEnum` class from?\r\n\r\n## build.gradle\r\n\r\n``` lang-groovy\r\n// without this I get NoClassDefFoundError: kotlin/enums/EnumEntriesKt\r\nimplementation &#39;org.jetbrains.kotlin:kotlin-stdlib:1.9.10&#39;\r\n\r\nimplementation &#39;com.squareup.wire:wire-runtime:4.9.1&#39;\r\nimplementation &#39;com.squareup.wire:wire-gson-support:4.9.1&#39;\r\n```\r\n\r\n## OrderMessageProcessor.java\r\n\r\n``` lang-java\r\nimport com.amazonaws.services.sqs.model.Message;\r\nimport com.google.gson.Gson;\r\nimport com.google.gson.GsonBuilder;\r\nimport com.squareup.wire.WireTypeAdapterFactory;\r\n// ...\r\n\r\npublic class OrderMessageProcessor {\r\n\r\n    private static final Gson WIRE_GSON = new GsonBuilder()\r\n        .registerTypeAdapterFactory(new WireTypeAdapterFactory())\r\n        .create();\r\n\r\n    // ...\r\n\r\n    protected Order deserializeOrder(Message message) {\r\n        return WIRE_GSON.fromJson(message.getBody(), Order.class);\r\n    }\r\n```\r\n\r\n## Order.java\r\n\r\n``` lang-java\r\npublic final class Order extends com.squareup.wire.Message {\r\n\r\n    public final String order_date;\r\n\r\n    // more fields and a Message.Builder&lt;Order&gt; inner class...\r\n\r\n```\r\n\r\nNote that using other deserialization libraries like Jackson&#39;s `ObjectMapper` are problematic because the `Order` class has no zero-arg constructor and no setter methods. I do not own the Order class and cannot modify it.\r\n\r\nI tried using various versions of the com.squareup.wire libraries between 3.4 and the latest, 4.9.1. They all result in the same NoClassDefFoundError.  Reverting to version 1.8 works.","title":"NoClassDefFoundError for ProtoEnum after upgrading Square Wire libraries","body":"<p>After upgrading my <strong>com.squareup.wire</strong> libraries from 1.8 to 3.4+ (to address security vulnerabilities), I get the NoClassDefFoundError below when trying to deserialize an object from JSON:</p>\n<pre><code>java.lang.NoClassDefFoundError: com/squareup/wire/ProtoEnum\n    at java.base/java.lang.ClassLoader.defineClass1(Native Method)\n    at java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1017)\n    at java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:174)\n    at java.base/jdk.internal.loader.BuiltinClassLoader.defineClass(BuiltinClassLoader.java:800)\n    at java.base/jdk.internal.loader.BuiltinClassLoader.findClassOnClassPathOrNull(BuiltinClassLoader.java:698)\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClassOrNull(BuiltinClassLoader.java:621)\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:579)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\n    at java.base/java.lang.Class.getDeclaredFields0(Native Method)\n    at java.base/java.lang.Class.privateGetDeclaredFields(Class.java:3061)\n    at java.base/java.lang.Class.getField0(Class.java:3246)\n    at java.base/java.lang.Class.getField(Class.java:1997)\n    at com.squareup.wire.ProtoAdapter$Companion.get(ProtoAdapter.kt:257)\n    at com.squareup.wire.internal.ReflectionKt.createRuntimeMessageAdapter(reflection.kt:95)\n    at com.squareup.wire.WireTypeAdapterFactory.create(WireTypeAdapterFactory.kt:82)\n    at com.google.gson.Gson.getAdapter(Gson.java:489)\n    at com.google.gson.Gson.fromJson(Gson.java:962)\n    at com.google.gson.Gson.fromJson(Gson.java:928)\n    at com.google.gson.Gson.fromJson(Gson.java:877)\n    at com.google.gson.Gson.fromJson(Gson.java:848)\n    at &lt;...&gt;.OrderMessageProcessor.deserializeOrder(OrderMessageProcessor.java:164)\n    ...\nCaused by: java.lang.ClassNotFoundException: com.squareup.wire.ProtoEnum\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\n    ... 78 more\n</code></pre>\n<p>Where do I get this <code>ProtoEnum</code> class from?</p>\n<h2>build.gradle</h2>\n<pre class=\"lang-groovy prettyprint-override\"><code>// without this I get NoClassDefFoundError: kotlin/enums/EnumEntriesKt\nimplementation 'org.jetbrains.kotlin:kotlin-stdlib:1.9.10'\n\nimplementation 'com.squareup.wire:wire-runtime:4.9.1'\nimplementation 'com.squareup.wire:wire-gson-support:4.9.1'\n</code></pre>\n<h2>OrderMessageProcessor.java</h2>\n<pre class=\"lang-java prettyprint-override\"><code>import com.amazonaws.services.sqs.model.Message;\nimport com.google.gson.Gson;\nimport com.google.gson.GsonBuilder;\nimport com.squareup.wire.WireTypeAdapterFactory;\n// ...\n\npublic class OrderMessageProcessor {\n\n    private static final Gson WIRE_GSON = new GsonBuilder()\n        .registerTypeAdapterFactory(new WireTypeAdapterFactory())\n        .create();\n\n    // ...\n\n    protected Order deserializeOrder(Message message) {\n        return WIRE_GSON.fromJson(message.getBody(), Order.class);\n    }\n</code></pre>\n<h2>Order.java</h2>\n<pre class=\"lang-java prettyprint-override\"><code>public final class Order extends com.squareup.wire.Message {\n\n    public final String order_date;\n\n    // more fields and a Message.Builder&lt;Order&gt; inner class...\n\n</code></pre>\n<p>Note that using other deserialization libraries like Jackson's <code>ObjectMapper</code> are problematic because the <code>Order</code> class has no zero-arg constructor and no setter methods. I do not own the Order class and cannot modify it.</p>\n<p>I tried using various versions of the com.squareup.wire libraries between 3.4 and the latest, 4.9.1. They all result in the same NoClassDefFoundError.  Reverting to version 1.8 works.</p>\n"},{"tags":["java","sdk","libreoffice","openoffice.org","libreoffice-writer"],"answers":[{"tags":[],"owner":{"account_id":20578182,"reputation":111,"user_id":15104908,"display_name":"Madhu Patel"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1696388337,"creation_date":1696388337,"answer_id":77226477,"question_id":77163622,"body_markdown":"someone from LibreOffice has confirmed that this feature is not supported currently. \r\n\r\nRef: https://bugs.documentfoundation.org/show_bug.cgi?id=157425","title":"Convert a Multi-Page Text/word file to PNG using LibreOffice API in JAVA","body":"<p>someone from LibreOffice has confirmed that this feature is not supported currently.</p>\n<p>Ref: <a href=\"https://bugs.documentfoundation.org/show_bug.cgi?id=157425\" rel=\"nofollow noreferrer\">https://bugs.documentfoundation.org/show_bug.cgi?id=157425</a></p>\n"}],"owner":{"account_id":20578182,"reputation":111,"user_id":15104908,"display_name":"Madhu Patel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":130,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":77226477,"answer_count":1,"score":4,"last_activity_date":1696388337,"creation_date":1695481838,"question_id":77163622,"body_markdown":"How to convert a Multi-Page Text file to PNG, for example:- I have a Text document of 5 pages and I want to convert that into PNG. By default, it&#39;s giving a PNG of only 1st page. How to get the PNG file for ith page using LibreOffice.\r\n\r\nI used the PageRange filter like this, but it does not work, it&#39;s also giving the PNG only for 1st page. \r\n\r\nAlso, I&#39;m not able to generate multiple PNGs for multi-page word files using the LibreOffice Application\r\n\r\nCLI:-\r\n\r\n```\r\nsoffice --convert-to &#39;png:writer_png_Export:{&quot;PageRange&quot;:{&quot;type&quot;:&quot;string&quot;,&quot;value&quot;:&quot;2-&quot;}}&#39; test.odt\r\n```\r\n\r\nJAVA:-\r\n\r\n```\r\nconversionProperties[0] = new com.sun.star.beans.PropertyValue();\r\nconversionProperties[0].Name = &quot;FilterName&quot;;\r\nconversionProperties[0].Value =&quot;writer_png_Export&quot;;\r\n\r\nconversionProperties[1] = new com.sun.star.beans.PropertyValue();\r\nconversionProperties[1].Name = &quot;PageRange&quot;;\r\nconversionProperties[1].Value =&quot;2-&quot;;\r\n```\r\n\r\nI found a similar link on [StackOverflow](https://stackoverflow.com/questions/76738992/libreoffice-mutli-page-pdf-gets-converted-to-single-page-docx-file), but it also gives PNG for 1st page.","title":"Convert a Multi-Page Text/word file to PNG using LibreOffice API in JAVA","body":"<p>How to convert a Multi-Page Text file to PNG, for example:- I have a Text document of 5 pages and I want to convert that into PNG. By default, it's giving a PNG of only 1st page. How to get the PNG file for ith page using LibreOffice.</p>\n<p>I used the PageRange filter like this, but it does not work, it's also giving the PNG only for 1st page.</p>\n<p>Also, I'm not able to generate multiple PNGs for multi-page word files using the LibreOffice Application</p>\n<p>CLI:-</p>\n<pre><code>soffice --convert-to 'png:writer_png_Export:{&quot;PageRange&quot;:{&quot;type&quot;:&quot;string&quot;,&quot;value&quot;:&quot;2-&quot;}}' test.odt\n</code></pre>\n<p>JAVA:-</p>\n<pre><code>conversionProperties[0] = new com.sun.star.beans.PropertyValue();\nconversionProperties[0].Name = &quot;FilterName&quot;;\nconversionProperties[0].Value =&quot;writer_png_Export&quot;;\n\nconversionProperties[1] = new com.sun.star.beans.PropertyValue();\nconversionProperties[1].Name = &quot;PageRange&quot;;\nconversionProperties[1].Value =&quot;2-&quot;;\n</code></pre>\n<p>I found a similar link on <a href=\"https://stackoverflow.com/questions/76738992/libreoffice-mutli-page-pdf-gets-converted-to-single-page-docx-file\">StackOverflow</a>, but it also gives PNG for 1st page.</p>\n"},{"tags":["java","java-8","stream","java-stream"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":2,"creation_date":1696383101,"post_id":77226250,"comment_id":136144677,"body_markdown":"Note that `inputString.chars()` will give you an `IntStream` of the `char` values (upcast to int).","body":"Note that <code>inputString.chars()</code> will give you an <code>IntStream</code> of the <code>char</code> values (upcast to int)."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1696383444,"post_id":77226250,"comment_id":136144699,"body_markdown":"Try, _Character[] inputChar = (Character[]) inputString.chars().mapToObj(x -&gt; (char) (x - 48)).toArray()_","body":"Try, <i>Character[] inputChar = (Character[]) inputString.chars().mapToObj(x -&gt; (char) (x - 48)).toArray()</i>"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1696399076,"post_id":77226250,"comment_id":136145842,"body_markdown":"First step to a solution is to avoid the raw type `List` and consider which element type you expected. Once you write for example `List&lt;char&gt;`, `List&lt;Character&gt;` or `List&lt;char[]&gt;` and see whether you get any new error message, the situation will already be clearer to you. Or just let your IntelliJ suggest the type of `data` for you.","body":"First step to a solution is to avoid the raw type <code>List</code> and consider which element type you expected. Once you write for example <code>List&lt;char&gt;</code>, <code>List&lt;Character&gt;</code> or <code>List&lt;char[]&gt;</code> and see whether you get any new error message, the situation will already be clearer to you. Or just let your IntelliJ suggest the type of <code>data</code> for you."}],"owner":{"account_id":4695455,"reputation":71,"user_id":3800427,"display_name":"Juicy Jay"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1696383050,"answer_count":0,"score":0,"last_activity_date":1696385406,"creation_date":1696382859,"question_id":77226250,"body_markdown":"my code is throwing an error below, not sure why that&#39;s happening\r\n\r\n[![enter image description here][1]][1]\r\n\r\n    int input = 351;\r\n    String inputString = Integer.toString(input);\r\n    System.out.println(&quot;input:- &quot; + inputString);\r\n    char[] inputChar = inputString.toCharArray();\r\n    List data = Arrays.asList(inputChar);\r\n\r\n    data.stream().map((entry)-&gt; ((int)entry-48)).forEach((entry)-&gt;{\r\n      System.out.println(entry);\r\n    });\r\n\r\nchanged the above code to \r\n\r\n    String val = inputString.chars().map((entry)-&gt; ((int)entry-48)).sorted().reduce(&quot;&quot;,(initial,entry)-&gt;entry+initial);\r\n\r\nI am seeing an error at the reduce method level\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/CpOqL.png\r\n  [2]: https://i.stack.imgur.com/FTJF4.png","title":"stream can&#39;t cast char to int","body":"<p>my code is throwing an error below, not sure why that's happening</p>\n<p><a href=\"https://i.stack.imgur.com/CpOqL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CpOqL.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>int input = 351;\nString inputString = Integer.toString(input);\nSystem.out.println(&quot;input:- &quot; + inputString);\nchar[] inputChar = inputString.toCharArray();\nList data = Arrays.asList(inputChar);\n\ndata.stream().map((entry)-&gt; ((int)entry-48)).forEach((entry)-&gt;{\n  System.out.println(entry);\n});\n</code></pre>\n<p>changed the above code to</p>\n<pre><code>String val = inputString.chars().map((entry)-&gt; ((int)entry-48)).sorted().reduce(&quot;&quot;,(initial,entry)-&gt;entry+initial);\n</code></pre>\n<p>I am seeing an error at the reduce method level</p>\n<p><a href=\"https://i.stack.imgur.com/FTJF4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FTJF4.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","android","qr-code"],"answers":[{"tags":[],"owner":{"account_id":3548116,"reputation":142,"user_id":2963554,"display_name":"Kowshick"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1465096243,"creation_date":1465096243,"answer_id":37638074,"question_id":37637952,"body_markdown":"From what you have described I am assuming you have to scan a bunch of barcodes together/continuously and pass them on to the next activity which is a list view.\r\n\r\nIn your sender activity you need to store all the scanned results in a HashMap/Arraylist depending on you choice of Collection. I am explaining for a HashMap and how to send it across activities.\r\n\r\n\r\nSender Activity:\r\n\r\n    Intent intent = new Intent(FromActivity.this, ToActivity.class);\r\n    intent.putExtra(&quot;SCAN_RESULTS&quot;, hashMap);\r\n    startActivity(intent);\r\n\r\n\r\nReceiver Activity:\r\n\r\n    Intent intent = getIntent();    \r\n    HashMap&lt;String, String&gt; hashMap = (HashMap&lt;String, String&gt;)      intent.getSerializableExtra(&quot;SCAN_RESULTS&quot;);\r\n\r\n\r\nHope this helps.\r\n","title":"How to store results from QR Code after scanning?","body":"<p>From what you have described I am assuming you have to scan a bunch of barcodes together/continuously and pass them on to the next activity which is a list view.</p>\n\n<p>In your sender activity you need to store all the scanned results in a HashMap/Arraylist depending on you choice of Collection. I am explaining for a HashMap and how to send it across activities.</p>\n\n<p>Sender Activity:</p>\n\n<pre><code>Intent intent = new Intent(FromActivity.this, ToActivity.class);\nintent.putExtra(\"SCAN_RESULTS\", hashMap);\nstartActivity(intent);\n</code></pre>\n\n<p>Receiver Activity:</p>\n\n<pre><code>Intent intent = getIntent();    \nHashMap&lt;String, String&gt; hashMap = (HashMap&lt;String, String&gt;)      intent.getSerializableExtra(\"SCAN_RESULTS\");\n</code></pre>\n\n<p>Hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":8576319,"reputation":1,"user_id":6425614,"display_name":"Robert Ellman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1465097366,"creation_date":1465097366,"answer_id":37638185,"question_id":37637952,"body_markdown":"I was doing something similar but using the google vision APIs, I&#39;d recommend looking at these packages:\r\n\r\n - com.google.android.gms.vision.barcode.Barcode\r\n - com.google.android.gms.vision.barcode.BarcodeDetector\r\n\r\nAs well as [this stack overflow post][1].\r\n\r\nI believe the general answer to your question though of how to send the data between activities is to use an Intent object and specify the item you want to send as &quot;extra&quot; within that intent.\r\n\r\n    Intent data = new Intent( getApplicationContext(), MyListViewActivity.class );\r\n    data.putExtra( &quot;Barcode&quot;, barcodeObject );\r\n    startActivity( data );\r\n\r\nAnother option would be to start your scan activity from your ListView activity and use the &quot;startActivityForResult&quot; method.\r\n\r\n    Intent scanIntent = new Intent( getApplicationContext(), MyScanActivity.class );\r\n    startActivityForResult( scanIntent, &quot;BARCODE_CAPTURE&quot; );\r\n\r\nThen you would implement onActivityResult\r\n\r\n    protected void onActivityResult(int requestCode, int resultCode, Intent data) {\r\n        if (requestCode == &quot;BARCODE_CAPTURE&quot;) {\r\n            if( resultCode == CommonStatusCodes.SUCCESS ) {\r\n                if (data != null) {\r\n                    Barcode barcode = data.getParcelableExtra(&quot;Barcode&quot;);\r\n                 ...\r\n                }}}}\r\n\r\nIn your Barcode capture activity you would then return the results in an Intent.\r\n\r\n     Intent data = new Intent();\r\n     data.putExtra(&quot;Barcode&quot;, barcode);\r\n     setResult(CommonStatusCodes.SUCCESS, data);\r\n     finish();\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/35835399/use-google-mobile-vision-api-to-detect-the-first-barcode-and-send-the-data-to-an","title":"How to store results from QR Code after scanning?","body":"<p>I was doing something similar but using the google vision APIs, I'd recommend looking at these packages:</p>\n\n<ul>\n<li>com.google.android.gms.vision.barcode.Barcode</li>\n<li>com.google.android.gms.vision.barcode.BarcodeDetector</li>\n</ul>\n\n<p>As well as <a href=\"https://stackoverflow.com/questions/35835399/use-google-mobile-vision-api-to-detect-the-first-barcode-and-send-the-data-to-an\">this stack overflow post</a>.</p>\n\n<p>I believe the general answer to your question though of how to send the data between activities is to use an Intent object and specify the item you want to send as \"extra\" within that intent.</p>\n\n<pre><code>Intent data = new Intent( getApplicationContext(), MyListViewActivity.class );\ndata.putExtra( \"Barcode\", barcodeObject );\nstartActivity( data );\n</code></pre>\n\n<p>Another option would be to start your scan activity from your ListView activity and use the \"startActivityForResult\" method.</p>\n\n<pre><code>Intent scanIntent = new Intent( getApplicationContext(), MyScanActivity.class );\nstartActivityForResult( scanIntent, \"BARCODE_CAPTURE\" );\n</code></pre>\n\n<p>Then you would implement onActivityResult</p>\n\n<pre><code>protected void onActivityResult(int requestCode, int resultCode, Intent data) {\n    if (requestCode == \"BARCODE_CAPTURE\") {\n        if( resultCode == CommonStatusCodes.SUCCESS ) {\n            if (data != null) {\n                Barcode barcode = data.getParcelableExtra(\"Barcode\");\n             ...\n            }}}}\n</code></pre>\n\n<p>In your Barcode capture activity you would then return the results in an Intent.</p>\n\n<pre><code> Intent data = new Intent();\n data.putExtra(\"Barcode\", barcode);\n setResult(CommonStatusCodes.SUCCESS, data);\n finish();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7712573,"reputation":518,"user_id":5841416,"display_name":"Muddassir Ahmed"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1465098664,"creation_date":1465098664,"answer_id":37638287,"question_id":37637952,"body_markdown":"You can use \r\n\r\n       ArrayList&lt;String&gt; listOfBarcodes = new ArrayList&lt;String&gt;();\r\n       //whenever you capture a new barcode add it to this list\r\n       listOfBarcodes.add(currentBarcode);\r\n       \r\n       //when you are done adding barcodes call the ListView activity and pass\r\n       //it the listOfBarcodes as a Serializable.\r\n       Intent intent = new Intent(getApplicationContext(), ActivityToStart.class);\r\n       intent.putExtra(&quot;Barcodes&quot;, listOfBarcodes);\r\n       startActivity(Intent);\r\n\r\n\r\nThen in that `Activity` you will have a **big list** of barcodes. Add the new barcodes to it and refresh the `ListView`\r\n      \r\n      Intent callingIntent= getIntent();\r\n      ArrayList&lt;String&gt; listOfBarcode = callingIntent.getSerializableExtra(&quot;Barcodes&quot;);\r\n     \r\n      completeList.add(listOfBarcodes);\r\n      ArrayAdapter&lt;String&gt; aA = new ArrayAdapter&lt;String&gt;(this, android.R.layout.simple_list_item_1, completeList);\r\n      ListView lV = (ListView) findViewById(R.id.my_list_id);\r\n      lV.setAdapter(aA);\r\n       ","title":"How to store results from QR Code after scanning?","body":"<p>You can use </p>\n\n<pre><code>   ArrayList&lt;String&gt; listOfBarcodes = new ArrayList&lt;String&gt;();\n   //whenever you capture a new barcode add it to this list\n   listOfBarcodes.add(currentBarcode);\n\n   //when you are done adding barcodes call the ListView activity and pass\n   //it the listOfBarcodes as a Serializable.\n   Intent intent = new Intent(getApplicationContext(), ActivityToStart.class);\n   intent.putExtra(\"Barcodes\", listOfBarcodes);\n   startActivity(Intent);\n</code></pre>\n\n<p>Then in that <code>Activity</code> you will have a <strong>big list</strong> of barcodes. Add the new barcodes to it and refresh the <code>ListView</code></p>\n\n<pre><code>  Intent callingIntent= getIntent();\n  ArrayList&lt;String&gt; listOfBarcode = callingIntent.getSerializableExtra(\"Barcodes\");\n\n  completeList.add(listOfBarcodes);\n  ArrayAdapter&lt;String&gt; aA = new ArrayAdapter&lt;String&gt;(this, android.R.layout.simple_list_item_1, completeList);\n  ListView lV = (ListView) findViewById(R.id.my_list_id);\n  lV.setAdapter(aA);\n</code></pre>\n"}],"owner":{"account_id":5754242,"reputation":169,"user_id":4542762,"accept_rate":33,"display_name":"G_Man"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13160,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1696384900,"creation_date":1465094765,"question_id":37637952,"body_markdown":"I&#39;m relatively new to Android Studio. I&#39;m working on a QR code scanner. I found this online and I&#39;m just working with it:\r\n\r\n    import android.app.AlertDialog;\r\n    import android.support.v7.app.AppCompatActivity;\r\n    import android.os.Bundle;\r\n    import android.util.Log;\r\n\r\n    import com.google.zxing.Result;\r\n    import me.dm7.barcodescanner.zxing.ZXingScannerView;\r\n\r\n    public class MainActivity extends AppCompatActivity implements ZXingScannerView.ResultHandler {\r\n        private ZXingScannerView mScannerView;\r\n\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            mScannerView = new ZXingScannerView(this);   // Programmatically initialize the scanner view\r\n            setContentView(mScannerView);\r\n\r\n            mScannerView.setResultHandler(this); // Register ourselves as a handler for scan results.\r\n            mScannerView.startCamera();         // Start camera\r\n        }\r\n\r\n        @Override\r\n        public void onPause() {\r\n            super.onPause();\r\n            mScannerView.stopCamera();           // Stop camera on pause\r\n        }\r\n\r\n        @Override\r\n        public void handleResult(Result rawResult) {\r\n            // Do something with the result here\r\n\r\n            Log.e(&quot;handler&quot;, rawResult.getText()); // Prints scan results\r\n            Log.e(&quot;handler&quot;, rawResult.getBarcodeFormat().toString()); // Prints the scan format (qrcode)\r\n\r\n            // show the scanner result into dialog box.\r\n            AlertDialog.Builder builder = new AlertDialog.Builder(this);\r\n            builder.setTitle(&quot;Scan Result&quot;);\r\n            builder.setMessage(rawResult.getText());\r\n            AlertDialog alert1 = builder.create();\r\n            alert1.show();\r\n\r\n\r\n            // If you would like to resume scanning, call this method below:\r\n            mScannerView.resumeCameraPreview(this);\r\n        }\r\n    }\r\n\r\nI want to store the scan results in a ListView in another activity but I&#39;m not sure how to get that to work. I already know how to create a ListView, I just want to be able to pass the results to that next activity. I already looked around here but didn&#39;t find anything that helped. Any bit of help would be greatly appreciated. Thank you very much.","title":"How to store results from QR Code after scanning?","body":"<p>I'm relatively new to Android Studio. I'm working on a QR code scanner. I found this online and I'm just working with it:</p>\n\n<pre><code>import android.app.AlertDialog;\nimport android.support.v7.app.AppCompatActivity;\nimport android.os.Bundle;\nimport android.util.Log;\n\nimport com.google.zxing.Result;\nimport me.dm7.barcodescanner.zxing.ZXingScannerView;\n\npublic class MainActivity extends AppCompatActivity implements ZXingScannerView.ResultHandler {\n    private ZXingScannerView mScannerView;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        mScannerView = new ZXingScannerView(this);   // Programmatically initialize the scanner view\n        setContentView(mScannerView);\n\n        mScannerView.setResultHandler(this); // Register ourselves as a handler for scan results.\n        mScannerView.startCamera();         // Start camera\n    }\n\n    @Override\n    public void onPause() {\n        super.onPause();\n        mScannerView.stopCamera();           // Stop camera on pause\n    }\n\n    @Override\n    public void handleResult(Result rawResult) {\n        // Do something with the result here\n\n        Log.e(\"handler\", rawResult.getText()); // Prints scan results\n        Log.e(\"handler\", rawResult.getBarcodeFormat().toString()); // Prints the scan format (qrcode)\n\n        // show the scanner result into dialog box.\n        AlertDialog.Builder builder = new AlertDialog.Builder(this);\n        builder.setTitle(\"Scan Result\");\n        builder.setMessage(rawResult.getText());\n        AlertDialog alert1 = builder.create();\n        alert1.show();\n\n\n        // If you would like to resume scanning, call this method below:\n        mScannerView.resumeCameraPreview(this);\n    }\n}\n</code></pre>\n\n<p>I want to store the scan results in a ListView in another activity but I'm not sure how to get that to work. I already know how to create a ListView, I just want to be able to pass the results to that next activity. I already looked around here but didn't find anything that helped. Any bit of help would be greatly appreciated. Thank you very much.</p>\n"},{"tags":["java","excel","apache-poi"],"comments":[{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":0,"creation_date":1454083316,"post_id":35088375,"comment_id":57899514,"body_markdown":"Cell Styles are workbook-scoped not cell-scoped, what happens if you only create that style once and re-use it on all the cells?","body":"Cell Styles are workbook-scoped not cell-scoped, what happens if you only create that style once and re-use it on all the cells?"},{"owner":{"account_id":6189371,"reputation":4655,"user_id":4822479,"accept_rate":60,"display_name":"Madhusudan"},"score":0,"creation_date":1454303150,"post_id":35088375,"comment_id":57967057,"body_markdown":"@Gagravarr Creating cell style is different. Lets us ignore it. My question is I want to override cell style from existing into new one. How can I do it? If i try to read rows and update cell style for some specific row then it&#39;s not updating. If I create cell and apply cell style and add cell to the sheet then it works. But giving style to existing cell is not working. Because it has some data already present in it.","body":"@Gagravarr Creating cell style is different. Lets us ignore it. My question is I want to override cell style from existing into new one. How can I do it? If i try to read rows and update cell style for some specific row then it&#39;s not updating. If I create cell and apply cell style and add cell to the sheet then it works. But giving style to existing cell is not working. Because it has some data already present in it."},{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":0,"creation_date":1454319581,"post_id":35088375,"comment_id":57974253,"body_markdown":"There are only so many cell styles allowed by Excel in a workbook. If you create one for every cell, you&#39;ll quickly run out, and styling won&#39;t work! That&#39;s why you need to create the cell styles once and re-use","body":"There are only so many cell styles allowed by Excel in a workbook. If you create one for every cell, you&#39;ll quickly run out, and styling won&#39;t work! That&#39;s why you need to create the cell styles once and re-use"},{"owner":{"account_id":13768746,"reputation":91,"user_id":9936749,"display_name":"akash kumar"},"score":0,"creation_date":1633598696,"post_id":35088375,"comment_id":122804532,"body_markdown":"@Madhusudan Let me know if you got the solution of this. I am also facing this issue.","body":"@Madhusudan Let me know if you got the solution of this. I am also facing this issue."}],"answers":[{"tags":[],"owner":{"account_id":7618979,"reputation":170,"user_id":5777509,"accept_rate":44,"display_name":"johankr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1454083322,"creation_date":1454083322,"answer_id":35088811,"question_id":35088375,"body_markdown":"Pasting example of setting color from the [Apache POI Developer Guide](https://poi.apache.org/spreadsheet/quick-guide.html#FillsAndFrills)\r\n\r\n**Fills and colors**\r\n\r\n    Workbook wb = new XSSFWorkbook();\r\n    Sheet sheet = wb.createSheet(&quot;new sheet&quot;);\r\n\r\n    // Create a row and put some cells in it. Rows are 0 based.\r\n    Row row = sheet.createRow((short) 1);\r\n\r\n    // Aqua background\r\n    CellStyle style = wb.createCellStyle();\r\n    style.setFillBackgroundColor(IndexedColors.AQUA.getIndex());\r\n    style.setFillPattern(CellStyle.BIG_SPOTS);\r\n    Cell cell = row.createCell((short) 1);\r\n    cell.setCellValue(&quot;X&quot;);\r\n    cell.setCellStyle(style);\r\n\r\n    // Orange &quot;foreground&quot;, foreground being the fill foreground not the font color.\r\n    style = wb.createCellStyle();\r\n    style.setFillForegroundColor(IndexedColors.ORANGE.getIndex());\r\n    style.setFillPattern(CellStyle.SOLID_FOREGROUND);\r\n    cell = row.createCell((short) 2);\r\n    cell.setCellValue(&quot;X&quot;);\r\n    cell.setCellStyle(style);\r\n\r\n    // Write the output to a file\r\n    FileOutputStream fileOut = new FileOutputStream(&quot;workbook.xls&quot;);\r\n    wb.write(fileOut);\r\n    fileOut.close();","title":"How to override cell style in excel file using java and Apache POI library?","body":"<p>Pasting example of setting color from the <a href=\"https://poi.apache.org/spreadsheet/quick-guide.html#FillsAndFrills\" rel=\"nofollow\">Apache POI Developer Guide</a></p>\n\n<p><strong>Fills and colors</strong></p>\n\n<pre><code>Workbook wb = new XSSFWorkbook();\nSheet sheet = wb.createSheet(\"new sheet\");\n\n// Create a row and put some cells in it. Rows are 0 based.\nRow row = sheet.createRow((short) 1);\n\n// Aqua background\nCellStyle style = wb.createCellStyle();\nstyle.setFillBackgroundColor(IndexedColors.AQUA.getIndex());\nstyle.setFillPattern(CellStyle.BIG_SPOTS);\nCell cell = row.createCell((short) 1);\ncell.setCellValue(\"X\");\ncell.setCellStyle(style);\n\n// Orange \"foreground\", foreground being the fill foreground not the font color.\nstyle = wb.createCellStyle();\nstyle.setFillForegroundColor(IndexedColors.ORANGE.getIndex());\nstyle.setFillPattern(CellStyle.SOLID_FOREGROUND);\ncell = row.createCell((short) 2);\ncell.setCellValue(\"X\");\ncell.setCellStyle(style);\n\n// Write the output to a file\nFileOutputStream fileOut = new FileOutputStream(\"workbook.xls\");\nwb.write(fileOut);\nfileOut.close();\n</code></pre>\n"}],"owner":{"account_id":6189371,"reputation":4655,"user_id":4822479,"accept_rate":60,"display_name":"Madhusudan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9785,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1696384900,"creation_date":1454082104,"question_id":35088375,"body_markdown":"I am doing excel validations for input .xlsx file using java and Apache POI library. \r\n\r\nHere below I am posting two functions from my java class. When I try to set the cell style it&#39;s not getting reflected in the excel file. I searched over internet about it, but everywhere they have given code to give style while creating cell/row itself.\r\n\r\n    public static CellStyle getNewCellStyle(){\r\n\t\tCellStyle style = myWorkBook.createCellStyle();\r\n\t\tstyle.setFillBackgroundColor(IndexedColors.GREEN.getIndex());\r\n\t\tstyle.setFillPattern(CellStyle.ALIGN_FILL); \r\n\t\treturn style;\r\n\t}\r\n\r\n\r\n    public static void chCaseNumberColumnValidation(Cell cell){\r\n\t\tString cellData = getCellDataValue(cell);\r\n\t\tif(cellData.length() == 10){\r\n\t\t\tif(cellData.equals(&quot;BLANK&quot;) || cellData.trim().length() == 0){\r\n\t\t\t\tSystem.out.println(&quot;BLANK CELL:   &quot; + cell.getRowIndex() + &quot;,&quot; + cell.getColumnIndex());\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif(cellData.charAt(0) != &#39;5&#39;){\r\n\t\t\t\tSystem.out.println(&quot;DON&#39;t START WITH 5:    &quot; + cell.getRowIndex() + &quot;,&quot; + cell.getColumnIndex());\r\n\t\t\t\tcell.setCellStyle(getNewCellStyle());\r\n\t\t\t}\r\n\t\t}\r\n\t\telse{\r\n\t\t\tSystem.out.println(&quot;****INVALID SIZE   &quot; + cell.getRowIndex() + &quot;,&quot; + cell.getColumnIndex());\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t}\r\n\r\nIs there any way by which I can give background color to the already existing cells. (altering cell style)","title":"How to override cell style in excel file using java and Apache POI library?","body":"<p>I am doing excel validations for input .xlsx file using java and Apache POI library. </p>\n\n<p>Here below I am posting two functions from my java class. When I try to set the cell style it's not getting reflected in the excel file. I searched over internet about it, but everywhere they have given code to give style while creating cell/row itself.</p>\n\n<pre><code>public static CellStyle getNewCellStyle(){\n    CellStyle style = myWorkBook.createCellStyle();\n    style.setFillBackgroundColor(IndexedColors.GREEN.getIndex());\n    style.setFillPattern(CellStyle.ALIGN_FILL); \n    return style;\n}\n\n\npublic static void chCaseNumberColumnValidation(Cell cell){\n    String cellData = getCellDataValue(cell);\n    if(cellData.length() == 10){\n        if(cellData.equals(\"BLANK\") || cellData.trim().length() == 0){\n            System.out.println(\"BLANK CELL:   \" + cell.getRowIndex() + \",\" + cell.getColumnIndex());\n        }\n\n        if(cellData.charAt(0) != '5'){\n            System.out.println(\"DON't START WITH 5:    \" + cell.getRowIndex() + \",\" + cell.getColumnIndex());\n            cell.setCellStyle(getNewCellStyle());\n        }\n    }\n    else{\n        System.out.println(\"****INVALID SIZE   \" + cell.getRowIndex() + \",\" + cell.getColumnIndex());\n\n    }\n\n}\n</code></pre>\n\n<p>Is there any way by which I can give background color to the already existing cells. (altering cell style)</p>\n"},{"tags":["java","spring-boot","hibernate","lucene","hibernate-search"],"comments":[{"owner":{"account_id":1134415,"reputation":157,"user_id":1119788,"accept_rate":75,"display_name":"Jubz"},"score":0,"creation_date":1608676079,"post_id":65349863,"comment_id":115654295,"body_markdown":"Same exact problem I am seeing, with very similar configuration.\nThough I have this in application.property:\n{code}spring.jpa.properties.hibernate.search.backend.analysis.configurer={code}\nBased on what is mentioned here: https://docs.jboss.org/hibernate/stable/search/reference/en-US/html_single/#getting-started-analysis","body":"Same exact problem I am seeing, with very similar configuration. Though I have this in application.property: {code}spring.jpa.properties.hibernate.search.backend.analysi&zwnj;&#8203;s.configurer={code} Based on what is mentioned here: <a href=\"https://docs.jboss.org/hibernate/stable/search/reference/en-US/html_single/#getting-started-analysis\" rel=\"nofollow noreferrer\">docs.jboss.org/hibernate/stable/search/reference/en-US/&hellip;</a>"},{"owner":{"account_id":7608350,"reputation":556,"user_id":5770200,"accept_rate":88,"display_name":"manu"},"score":0,"creation_date":1614008078,"post_id":65349863,"comment_id":117245800,"body_markdown":"@Jubz The file is named `application.properties`","body":"@Jubz The file is named <code>application.properties</code>"}],"answers":[{"tags":[],"owner":{"account_id":7608350,"reputation":556,"user_id":5770200,"accept_rate":88,"display_name":"manu"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1614008623,"creation_date":1614007839,"answer_id":66318644,"question_id":65349863,"body_markdown":"The following should work:\r\n\r\nIn your `application.properties`, change this\r\n\r\n    hibernate.search.backend.indexes.&lt;Product&gt;.analysis.configurer\r\n\r\nto:\r\n\r\n    hibernate.search.backend.analysis.configurer\r\n\r\nIn summary:\r\n\r\n    spring.jpa.properties.hibernate.search.backend.analysis.configurer=com.example.springmvcrest.services.MyLuceneAnalysisConfigurer\r\n\r\nSource: [Hibernate Search 6.0.1.Final: Reference Documentation][1]\r\n\r\n\r\n  [1]: https://docs.jboss.org/hibernate/stable/search/reference/en-US/html_single/#backend-lucene-analysis","title":"Cannot define analyzer in hibernate search 6","body":"<p>The following should work:</p>\n<p>In your <code>application.properties</code>, change this</p>\n<pre><code>hibernate.search.backend.indexes.&lt;Product&gt;.analysis.configurer\n</code></pre>\n<p>to:</p>\n<pre><code>hibernate.search.backend.analysis.configurer\n</code></pre>\n<p>In summary:</p>\n<pre><code>spring.jpa.properties.hibernate.search.backend.analysis.configurer=com.example.springmvcrest.services.MyLuceneAnalysisConfigurer\n</code></pre>\n<p>Source: <a href=\"https://docs.jboss.org/hibernate/stable/search/reference/en-US/html_single/#backend-lucene-analysis\" rel=\"nofollow noreferrer\">Hibernate Search 6.0.1.Final: Reference Documentation</a></p>\n"}],"owner":{"account_id":20244177,"reputation":23,"user_id":14847182,"display_name":"Ibrahim"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1065,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":66318644,"answer_count":1,"score":2,"last_activity_date":1696384271,"creation_date":1608248264,"question_id":65349863,"body_markdown":"I define an analyzer on hibernate search 6\r\n\r\n``` java\r\npublic class MyLuceneAnalysisConfigurer implements LuceneAnalysisConfigurer {\r\n    @Override\r\n    public void configure(LuceneAnalysisConfigurationContext context) {\r\n        context.analyzer( &quot;english&quot; ).custom()\r\n                .tokenizer( StandardTokenizerFactory.class )\r\n                .charFilter( HTMLStripCharFilterFactory.class )\r\n                .tokenFilter( LowerCaseFilterFactory.class )\r\n                .tokenFilter( SnowballPorterFilterFactory.class )\r\n                .param( &quot;language&quot;, &quot;English&quot; )\r\n                .tokenFilter( ASCIIFoldingFilterFactory.class );\r\n        ;\r\n\r\n\r\n        context.analyzer( &quot;french&quot; ).custom()\r\n                .tokenizer( StandardTokenizerFactory.class )\r\n                .charFilter( HTMLStripCharFilterFactory.class )\r\n                .tokenFilter( LowerCaseFilterFactory.class )\r\n                .tokenFilter( SnowballPorterFilterFactory.class )\r\n                .param( &quot;language&quot;, &quot;French&quot; )\r\n                .tokenFilter( ASCIIFoldingFilterFactory.class );\r\n    }\r\n}\r\n```\r\n\r\nAfter I add this to `application.properties`:\r\n\r\n```\r\nhibernate.search.backend.indexes.&lt;Product&gt;.analysis.configurer = com.example.springmvcrest.services.MyLuceneAnalysisConfigurer \r\n```\r\n\r\nbut its not resolved by IntelliJ, \r\n\r\nand after running:\r\n```\r\n Analyzer not found org.hibernate.search.util.common.SearchException: HSEARCH000353: Unknown analyzer: &#39;english&#39;. Make sure you defined this analyzer.\r\n```\r\n\r\nAny solution? I use spring boot 2.4.0","title":"Cannot define analyzer in hibernate search 6","body":"<p>I define an analyzer on hibernate search 6</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyLuceneAnalysisConfigurer implements LuceneAnalysisConfigurer {\n    @Override\n    public void configure(LuceneAnalysisConfigurationContext context) {\n        context.analyzer( &quot;english&quot; ).custom()\n                .tokenizer( StandardTokenizerFactory.class )\n                .charFilter( HTMLStripCharFilterFactory.class )\n                .tokenFilter( LowerCaseFilterFactory.class )\n                .tokenFilter( SnowballPorterFilterFactory.class )\n                .param( &quot;language&quot;, &quot;English&quot; )\n                .tokenFilter( ASCIIFoldingFilterFactory.class );\n        ;\n\n\n        context.analyzer( &quot;french&quot; ).custom()\n                .tokenizer( StandardTokenizerFactory.class )\n                .charFilter( HTMLStripCharFilterFactory.class )\n                .tokenFilter( LowerCaseFilterFactory.class )\n                .tokenFilter( SnowballPorterFilterFactory.class )\n                .param( &quot;language&quot;, &quot;French&quot; )\n                .tokenFilter( ASCIIFoldingFilterFactory.class );\n    }\n}\n</code></pre>\n<p>After I add this to <code>application.properties</code>:</p>\n<pre><code>hibernate.search.backend.indexes.&lt;Product&gt;.analysis.configurer = com.example.springmvcrest.services.MyLuceneAnalysisConfigurer \n</code></pre>\n<p>but its not resolved by IntelliJ,</p>\n<p>and after running:</p>\n<pre><code> Analyzer not found org.hibernate.search.util.common.SearchException: HSEARCH000353: Unknown analyzer: 'english'. Make sure you defined this analyzer.\n</code></pre>\n<p>Any solution? I use spring boot 2.4.0</p>\n"},{"tags":["java","android","pytorch","onnx","snpe"],"answers":[{"tags":[],"owner":{"account_id":4445413,"reputation":2752,"user_id":3618854,"display_name":"Yakov Dan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696344039,"creation_date":1696344039,"answer_id":77223293,"question_id":77222527,"body_markdown":"I think you may have gotten the layout of the output tensor wrong.\r\nWhen you iterate over the output tensor like this:\r\n```\r\nfloat r = pixelsBatched[y * w * 3 + x * 3 + 0] * 255;\r\nfloat g = pixelsBatched[y * w * 3 + x * 3 + 1] * 255;\r\nfloat b = pixelsBatched[y * w * 3 + x * 3 + 2] * 255;\r\n```\r\nYou read the `R`, `G`, and `B` values sequentially. However, the output tensor layout is `1x3x1080x720`, meaning all `R` values are stored sequentially, then all `B` values, then all `G` values. \r\n\r\nSo, you need to define \r\n```\r\nint channelSize = w * h;\r\n```\r\n\r\nthen, you read them like this:\r\n```\r\nfloat r = pixelsBatched[y * w + x] * 255;\r\nfloat g = pixelsBatched[y * w + x + channelSize] * 255;\r\nfloat b = pixelsBatched[y * w + x + 2 * channelSize] * 255;\r\n```\r\n","title":"SNPE inference outputs misaligned images","body":"<p>I think you may have gotten the layout of the output tensor wrong.\nWhen you iterate over the output tensor like this:</p>\n<pre><code>float r = pixelsBatched[y * w * 3 + x * 3 + 0] * 255;\nfloat g = pixelsBatched[y * w * 3 + x * 3 + 1] * 255;\nfloat b = pixelsBatched[y * w * 3 + x * 3 + 2] * 255;\n</code></pre>\n<p>You read the <code>R</code>, <code>G</code>, and <code>B</code> values sequentially. However, the output tensor layout is <code>1x3x1080x720</code>, meaning all <code>R</code> values are stored sequentially, then all <code>B</code> values, then all <code>G</code> values.</p>\n<p>So, you need to define</p>\n<pre><code>int channelSize = w * h;\n</code></pre>\n<p>then, you read them like this:</p>\n<pre><code>float r = pixelsBatched[y * w + x] * 255;\nfloat g = pixelsBatched[y * w + x + channelSize] * 255;\nfloat b = pixelsBatched[y * w + x + 2 * channelSize] * 255;\n</code></pre>\n"}],"owner":{"account_id":11285940,"reputation":109,"user_id":8276928,"accept_rate":25,"display_name":"梁生珺"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1696382473,"creation_date":1696338264,"question_id":77222527,"body_markdown":"I am working on a de-weatherization android app adopting a pix2pix model (similar to UNET). the app mainly uses the phone camera (one plus 7) to capture images, de-weatherize and display the result in the main interface. The deep learning inference interface adopts Qualcomm&#39;s SNPE framework.\r\nCurrently, we encountered a problem that the **output of the model to Bitmap is misaligned**, as shown in the figure.\r\n[![misaligned pic][1]][1]\r\nHere&#39;s the inference code：\r\n\r\n        final List&lt;String&gt; result = new LinkedList&lt;&gt;();\r\n\r\n        final FloatTensor tensor = mNeuralNetwork.createFloatTensor(\r\n                mNeuralNetwork.getInputTensorsShapes().get(mInputLayer));\r\n\r\n        Log.e(&quot;[MODEL]&quot;, &quot;create tensor&quot;);\r\n        Bitmap smImage = Bitmap.createScaledBitmap(mImage, 1080, 720, true);\r\n\r\n        final int[] dimensions = tensor.getShape();\r\n        final boolean isGrayScale = (dimensions[dimensions.length -1] == 1);\r\n        float[] rgbBitmapAsFloat;\r\n        if (!isGrayScale) {\r\n            rgbBitmapAsFloat = loadRgbBitmapAsFloat(smImage);\r\n        } else {\r\n            rgbBitmapAsFloat = loadGrayScaleBitmapAsFloat(smImage);\r\n        }\r\n        tensor.write(rgbBitmapAsFloat, 0, rgbBitmapAsFloat.length);\r\n\r\n        Log.e(&quot;[MODEL]&quot;, &quot;create tensor done!&quot;);\r\n        final Map&lt;String, FloatTensor&gt; inputs = new HashMap&lt;&gt;();\r\n        inputs.put(mInputLayer, tensor);\r\n        Log.e(&quot;[MODEL]&quot;, &quot;create input tensor done!&quot;);\r\n\r\n        final long javaExecuteStart = SystemClock.elapsedRealtime();\r\n        final Map&lt;String, FloatTensor&gt; outputs = mNeuralNetwork.execute(inputs);\r\n        Log.e(&quot;[MODEL]&quot;, &quot;model execute!&quot;);\r\n        final long javaExecuteEnd = SystemClock.elapsedRealtime();\r\n        mJavaExecuteTime = javaExecuteEnd - javaExecuteStart;\r\n        FloatTensor outputTensor = new FloatTensor() {\r\n            @Override\r\n            public void write(float[] floats, int i, int i1, int... ints) {\r\n\r\n            }\r\n\r\n            @Override\r\n            public void write(float v, int... ints) {\r\n\r\n            }\r\n\r\n            @Override\r\n            public int read(float[] floats, int i, int i1, int... ints) {\r\n                return 0;\r\n            }\r\n\r\n            @Override\r\n            public float read(int... ints) {\r\n                return 0;\r\n            }\r\n\r\n            @Override\r\n            public void release() {\r\n\r\n            }\r\n        };\r\n        for (Map.Entry&lt;String, FloatTensor&gt; output : outputs.entrySet()) {\r\n            Log.e(&quot;[MODEL]&quot;, &quot;output_layer: &quot; + output.getKey());\r\n            if (output.getKey().equals(mOutputLayer)) {\r\n                outputTensor = output.getValue();\r\n                Log.e(&quot;[MODEL]&quot;, &quot;output_layer: &quot; + output.getKey() + &quot;, shape: &quot; +\r\n                        String.valueOf(outputTensor.getShape()[0]) + &quot; &quot; +\r\n                        String.valueOf(outputTensor.getShape()[1]) + &quot; &quot; +\r\n                        String.valueOf(outputTensor.getShape()[2]) + &quot; &quot; +\r\n                        String.valueOf(outputTensor.getShape()[3]) + &quot; &quot; );\r\n                }\r\n            }\r\n        return outputTensor;`\r\nAnd, here&#39;s the code that convert SNPE Floattensor to JAVA Bitmap:\r\n\r\n    final float[] pixelsBatched = new float[tensor.getSize()];\r\n        tensor.read(pixelsBatched, 0, tensor.getSize());\r\n        Log.i(&quot;[IMAGE]&quot;, &quot;size: &quot; + String.valueOf(tensor.getSize()));\r\n        int w = 1080;\r\n        int h = 720;\r\n        Bitmap img = Bitmap.createBitmap(w, h, Bitmap.Config.ARGB_8888);\r\n        for (int y = 0; y &lt; h; y++) {\r\n            for (int x = 0; x &lt; w; x++) {\r\n                float r = pixelsBatched[y * w * 3 + x * 3 + 0] * 255;\r\n                float g = pixelsBatched[y * w * 3 + x * 3 + 1] * 255;\r\n                float b = pixelsBatched[y * w * 3 + x * 3 + 2] * 255;\r\n                int color = ((int)r &lt;&lt; 16) | ((int)g &lt;&lt; 8) | (int)b | 0xFF000000;\r\n                img.setPixel(x, y, color);\r\n            }\r\n        }\r\n\r\n        return img;\r\nTo further analyze this issue, I took the input tensor and **output it directly** instead of inferring it.\r\n\r\n`return tensor;` \r\n\r\nAfter converting the input tensor to Bitmap, **I found that the image is correct**. Therefore, **I&#39;m guessing if the inference step is wrong**. \r\nI used the Pytorch framework for training and the trained model was exported to the ONNX. I tested the model in pytorch framework and the model outputs the correct image. Then, model was then simplified by onnx-sim and converted to a dlc model by SNPE&#39;s conversion tool. The struct of onnx network is shown below.\r\n[![enter image description here][2]][2]\r\nI would like to ask what are the possible reasons for the occurrence of this misalignment. Thank you very much!\r\n\r\n\r\n####################\r\nUpdate!##################\r\n\r\n    \r\n                \r\n        int channelSize = w * h;\r\n        float r = pixelsBatched[y * w + x] * 255;\r\n        float g = pixelsBatched[y * w + x + channelSize] * 255;\r\n        float b = pixelsBatched[y * w + x + 2 * channelSize] * 255;\r\n\r\nHere&#39;s the result:\r\n[![enter image description here][3]][3]\r\n\r\n############################ Update! ##############################\r\n\r\n\r\nThe result of snpe-dlv-viewer:\r\n[![enter image description here][4]][4]\r\n\r\n\r\nThe information of input layer:\r\n[![enter image description here][5]][5]\r\n\r\n\r\nThe information of output layer:\r\n[![enter image description here][6]][6]\r\n\r\n\r\n############################ Update! ##########################\r\n\r\n\r\n    float[] loadRgbBitmapAsFloat(Bitmap image) {\r\n        final int[] pixels = new int[image.getWidth() * image.getHeight()];\r\n        image.getPixels(pixels, 0, image.getWidth(), 0, 0,\r\n                image.getWidth(), image.getHeight());\r\n\r\n        final float[] pixelsBatched = new float[pixels.length * 3];\r\n        for (int y = 0; y &lt; image.getHeight(); y++) {\r\n            for (int x = 0; x &lt; image.getWidth(); x++) {\r\n                final int idx = y * image.getWidth() + x;\r\n                final int batchIdx = idx * 3;\r\n\r\n                final float[] rgb = extractColorChannels(pixels[idx]);\r\n                pixelsBatched[batchIdx]     = rgb[0];\r\n                pixelsBatched[batchIdx + 1] = rgb[1];\r\n                pixelsBatched[batchIdx + 2] = rgb[2];\r\n            }\r\n        }\r\n        return pixelsBatched;\r\n    }\r\n\r\n  [1]: https://i.stack.imgur.com/zGhXu.jpg\r\n  [2]: https://i.stack.imgur.com/PtWGl.jpg\r\n  [3]: https://i.stack.imgur.com/8PK68.jpg\r\n  [4]: https://i.stack.imgur.com/4wZi3.png\r\n  [5]: https://i.stack.imgur.com/VtccP.jpg\r\n  [6]: https://i.stack.imgur.com/anu76.jpg","title":"SNPE inference outputs misaligned images","body":"<p>I am working on a de-weatherization android app adopting a pix2pix model (similar to UNET). the app mainly uses the phone camera (one plus 7) to capture images, de-weatherize and display the result in the main interface. The deep learning inference interface adopts Qualcomm's SNPE framework.\nCurrently, we encountered a problem that the <strong>output of the model to Bitmap is misaligned</strong>, as shown in the figure.\n<a href=\"https://i.stack.imgur.com/zGhXu.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zGhXu.jpg\" alt=\"misaligned pic\" /></a>\nHere's the inference code：</p>\n<pre><code>    final List&lt;String&gt; result = new LinkedList&lt;&gt;();\n\n    final FloatTensor tensor = mNeuralNetwork.createFloatTensor(\n            mNeuralNetwork.getInputTensorsShapes().get(mInputLayer));\n\n    Log.e(&quot;[MODEL]&quot;, &quot;create tensor&quot;);\n    Bitmap smImage = Bitmap.createScaledBitmap(mImage, 1080, 720, true);\n\n    final int[] dimensions = tensor.getShape();\n    final boolean isGrayScale = (dimensions[dimensions.length -1] == 1);\n    float[] rgbBitmapAsFloat;\n    if (!isGrayScale) {\n        rgbBitmapAsFloat = loadRgbBitmapAsFloat(smImage);\n    } else {\n        rgbBitmapAsFloat = loadGrayScaleBitmapAsFloat(smImage);\n    }\n    tensor.write(rgbBitmapAsFloat, 0, rgbBitmapAsFloat.length);\n\n    Log.e(&quot;[MODEL]&quot;, &quot;create tensor done!&quot;);\n    final Map&lt;String, FloatTensor&gt; inputs = new HashMap&lt;&gt;();\n    inputs.put(mInputLayer, tensor);\n    Log.e(&quot;[MODEL]&quot;, &quot;create input tensor done!&quot;);\n\n    final long javaExecuteStart = SystemClock.elapsedRealtime();\n    final Map&lt;String, FloatTensor&gt; outputs = mNeuralNetwork.execute(inputs);\n    Log.e(&quot;[MODEL]&quot;, &quot;model execute!&quot;);\n    final long javaExecuteEnd = SystemClock.elapsedRealtime();\n    mJavaExecuteTime = javaExecuteEnd - javaExecuteStart;\n    FloatTensor outputTensor = new FloatTensor() {\n        @Override\n        public void write(float[] floats, int i, int i1, int... ints) {\n\n        }\n\n        @Override\n        public void write(float v, int... ints) {\n\n        }\n\n        @Override\n        public int read(float[] floats, int i, int i1, int... ints) {\n            return 0;\n        }\n\n        @Override\n        public float read(int... ints) {\n            return 0;\n        }\n\n        @Override\n        public void release() {\n\n        }\n    };\n    for (Map.Entry&lt;String, FloatTensor&gt; output : outputs.entrySet()) {\n        Log.e(&quot;[MODEL]&quot;, &quot;output_layer: &quot; + output.getKey());\n        if (output.getKey().equals(mOutputLayer)) {\n            outputTensor = output.getValue();\n            Log.e(&quot;[MODEL]&quot;, &quot;output_layer: &quot; + output.getKey() + &quot;, shape: &quot; +\n                    String.valueOf(outputTensor.getShape()[0]) + &quot; &quot; +\n                    String.valueOf(outputTensor.getShape()[1]) + &quot; &quot; +\n                    String.valueOf(outputTensor.getShape()[2]) + &quot; &quot; +\n                    String.valueOf(outputTensor.getShape()[3]) + &quot; &quot; );\n            }\n        }\n    return outputTensor;`\n</code></pre>\n<p>And, here's the code that convert SNPE Floattensor to JAVA Bitmap:</p>\n<pre><code>final float[] pixelsBatched = new float[tensor.getSize()];\n    tensor.read(pixelsBatched, 0, tensor.getSize());\n    Log.i(&quot;[IMAGE]&quot;, &quot;size: &quot; + String.valueOf(tensor.getSize()));\n    int w = 1080;\n    int h = 720;\n    Bitmap img = Bitmap.createBitmap(w, h, Bitmap.Config.ARGB_8888);\n    for (int y = 0; y &lt; h; y++) {\n        for (int x = 0; x &lt; w; x++) {\n            float r = pixelsBatched[y * w * 3 + x * 3 + 0] * 255;\n            float g = pixelsBatched[y * w * 3 + x * 3 + 1] * 255;\n            float b = pixelsBatched[y * w * 3 + x * 3 + 2] * 255;\n            int color = ((int)r &lt;&lt; 16) | ((int)g &lt;&lt; 8) | (int)b | 0xFF000000;\n            img.setPixel(x, y, color);\n        }\n    }\n\n    return img;\n</code></pre>\n<p>To further analyze this issue, I took the input tensor and <strong>output it directly</strong> instead of inferring it.</p>\n<p><code>return tensor;</code></p>\n<p>After converting the input tensor to Bitmap, <strong>I found that the image is correct</strong>. Therefore, <strong>I'm guessing if the inference step is wrong</strong>.\nI used the Pytorch framework for training and the trained model was exported to the ONNX. I tested the model in pytorch framework and the model outputs the correct image. Then, model was then simplified by onnx-sim and converted to a dlc model by SNPE's conversion tool. The struct of onnx network is shown below.\n<a href=\"https://i.stack.imgur.com/PtWGl.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PtWGl.jpg\" alt=\"enter image description here\" /></a>\nI would like to ask what are the possible reasons for the occurrence of this misalignment. Thank you very much!</p>\n<p>####################\nUpdate!##################</p>\n<pre><code>    int channelSize = w * h;\n    float r = pixelsBatched[y * w + x] * 255;\n    float g = pixelsBatched[y * w + x + channelSize] * 255;\n    float b = pixelsBatched[y * w + x + 2 * channelSize] * 255;\n</code></pre>\n<p>Here's the result:\n<a href=\"https://i.stack.imgur.com/8PK68.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8PK68.jpg\" alt=\"enter image description here\" /></a></p>\n<p>############################ Update! ##############################</p>\n<p>The result of snpe-dlv-viewer:\n<a href=\"https://i.stack.imgur.com/4wZi3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4wZi3.png\" alt=\"enter image description here\" /></a></p>\n<p>The information of input layer:\n<a href=\"https://i.stack.imgur.com/VtccP.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VtccP.jpg\" alt=\"enter image description here\" /></a></p>\n<p>The information of output layer:\n<a href=\"https://i.stack.imgur.com/anu76.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/anu76.jpg\" alt=\"enter image description here\" /></a></p>\n<p>############################ Update! ##########################</p>\n<pre><code>float[] loadRgbBitmapAsFloat(Bitmap image) {\n    final int[] pixels = new int[image.getWidth() * image.getHeight()];\n    image.getPixels(pixels, 0, image.getWidth(), 0, 0,\n            image.getWidth(), image.getHeight());\n\n    final float[] pixelsBatched = new float[pixels.length * 3];\n    for (int y = 0; y &lt; image.getHeight(); y++) {\n        for (int x = 0; x &lt; image.getWidth(); x++) {\n            final int idx = y * image.getWidth() + x;\n            final int batchIdx = idx * 3;\n\n            final float[] rgb = extractColorChannels(pixels[idx]);\n            pixelsBatched[batchIdx]     = rgb[0];\n            pixelsBatched[batchIdx + 1] = rgb[1];\n            pixelsBatched[batchIdx + 2] = rgb[2];\n        }\n    }\n    return pixelsBatched;\n}\n</code></pre>\n"},{"tags":["java","open-telemetry"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1696383761,"post_id":77226224,"comment_id":136144720,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":5584931,"reputation":2048,"user_id":4425643,"accept_rate":64,"display_name":"CausingUnderflowsEverywhere"},"score":0,"creation_date":1696384873,"post_id":77226224,"comment_id":136144790,"body_markdown":"Have you tried combing through the opentelemetry Java API documentation? https://javadoc.io/doc/io.opentelemetry","body":"Have you tried combing through the opentelemetry Java API documentation? <a href=\"https://javadoc.io/doc/io.opentelemetry\" rel=\"nofollow noreferrer\">javadoc.io/doc/io.opentelemetry</a>"}],"owner":{"account_id":18894157,"reputation":3,"user_id":13783720,"display_name":"David Andalcio"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696382190,"creation_date":1696382190,"question_id":77226224,"body_markdown":"I&#39;m looking at adding another resource to the opentelemetry agent and want to get all the attributes that are used. Is there a way to get all attributes that are used in the OpenTelemetry agent rather than using HostResource, OsResource, etc. in code?\r\n\r\nTried GlobalOpenTelemetry.get() and can see the attributes but having trouble getting the list with my code.","title":"Retrieve all Attributes from OpenTelemetry Agent","body":"<p>I'm looking at adding another resource to the opentelemetry agent and want to get all the attributes that are used. Is there a way to get all attributes that are used in the OpenTelemetry agent rather than using HostResource, OsResource, etc. in code?</p>\n<p>Tried GlobalOpenTelemetry.get() and can see the attributes but having trouble getting the list with my code.</p>\n"},{"tags":["java","garbage-collection"],"comments":[{"owner":{"account_id":141652,"reputation":1916,"user_id":348852,"accept_rate":82,"display_name":"Sagar V"},"score":0,"creation_date":1285471124,"post_id":3796427,"comment_id":4024025,"body_markdown":"Possible duplicate of http://stackoverflow.com/questions/88235/how-to-deal-with-java-lang-outofmemoryerror-permgen-space-error ? Anyway check that thread it will help for sure.","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/88235/how-to-deal-with-java-lang-outofmemoryerror-permgen-space-error\" title=\"how to deal with java lang outofmemoryerror permgen space error\">stackoverflow.com/questions/88235/&hellip;</a> ? Anyway check that thread it will help for sure."},{"owner":{"account_id":257677,"reputation":1694,"user_id":539286,"display_name":"YudhiWidyatama"},"score":1,"creation_date":1337839381,"post_id":3796427,"comment_id":13941307,"body_markdown":"no its not duplicate at all. This is a concept question asks for Yes/No answer, not a question seeking solution for an error.","body":"no its not duplicate at all. This is a concept question asks for Yes/No answer, not a question seeking solution for an error."}],"answers":[{"tags":[],"owner":{"account_id":141652,"reputation":1916,"user_id":348852,"accept_rate":82,"display_name":"Sagar V"},"down_vote_count":0,"up_vote_count":36,"is_accepted":true,"score":36,"last_activity_date":1365120948,"creation_date":1285471635,"answer_id":3796492,"question_id":3796427,"body_markdown":"The PermGen is garbage collected like the other parts of the heap. \r\n\r\nThe thing to note here is that the PermGen contains meta-data of the classes and the objects i.e. pointers into the rest of the heap where the objects are allocated. The PermGen also contains Class-loaders which have to be manually destroyed at the end of their use else they stay in memory and also keep holding references to their objects on the heap. The [&quot;Presenting the Permanent Generation&quot;](https://blogs.oracle.com/jonthecollector/entry/presenting_the_permanent_generation) article by Jon Masamitsu on the Sun / Oracle blog site might help you.","title":"In Java is Permanent Generation space garbage collected?","body":"<p>The PermGen is garbage collected like the other parts of the heap. </p>\n\n<p>The thing to note here is that the PermGen contains meta-data of the classes and the objects i.e. pointers into the rest of the heap where the objects are allocated. The PermGen also contains Class-loaders which have to be manually destroyed at the end of their use else they stay in memory and also keep holding references to their objects on the heap. The <a href=\"https://blogs.oracle.com/jonthecollector/entry/presenting_the_permanent_generation\" rel=\"noreferrer\">\"Presenting the Permanent Generation\"</a> article by Jon Masamitsu on the Sun / Oracle blog site might help you.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":31,"is_accepted":false,"score":31,"last_activity_date":1696380499,"creation_date":1300773466,"answer_id":5387423,"question_id":3796427,"body_markdown":"In recent JVMs prior to Java 8, permgen is indeed collected like other parts of the heap.  The [visualgc][1] page states that it is collected together with the old generation.\r\n\r\nIn older JVMs this was apparently not always so.  For instance, in Java 5 the CMS collector *apparently* did not collect permGen by default: you could enable it with `-XX:+CMSPermGenSweepingEnabled`.  I also recall hearing that some really old JVMs did not implement permgen collection at all, though I cannot find a reliable source for this ... ermm ... &quot;factoid&quot;.\r\n\r\nThe other point, is that a lot of people used to *incorrectly* attribute &quot;OutOfMemoryError : permgen&quot; exceptions to permgen not being collected at all.  The reality is different.  The most common cause of permgen OOME&#39;s is an insidious kind of storage leak that manifests when you hot-load code into an executing JVM.  The leak occurs because when an instance of some old class that has been replaced remains reachable.  This causes the object&#39;s class to be reachable, which causes the classes classloader to be reachable, which causes *all* of the old classes to be reachable, together with their code objects, their string literals, and their static frames and static.  A lot of these leaked objects live in permgen space.\r\n\r\n-------------------\r\n\r\nAs of Java 8, permgen no longer exists: https://stackoverflow.com/questions/18339707/permgen-elimination-in-jdk-8\r\n\r\n  [1]: http://www.oracle.com/technetwork/java/visualgc-136680.html","title":"In Java is Permanent Generation space garbage collected?","body":"<p>In recent JVMs prior to Java 8, permgen is indeed collected like other parts of the heap.  The <a href=\"http://www.oracle.com/technetwork/java/visualgc-136680.html\" rel=\"nofollow noreferrer\">visualgc</a> page states that it is collected together with the old generation.</p>\n<p>In older JVMs this was apparently not always so.  For instance, in Java 5 the CMS collector <em>apparently</em> did not collect permGen by default: you could enable it with <code>-XX:+CMSPermGenSweepingEnabled</code>.  I also recall hearing that some really old JVMs did not implement permgen collection at all, though I cannot find a reliable source for this ... ermm ... &quot;factoid&quot;.</p>\n<p>The other point, is that a lot of people used to <em>incorrectly</em> attribute &quot;OutOfMemoryError : permgen&quot; exceptions to permgen not being collected at all.  The reality is different.  The most common cause of permgen OOME's is an insidious kind of storage leak that manifests when you hot-load code into an executing JVM.  The leak occurs because when an instance of some old class that has been replaced remains reachable.  This causes the object's class to be reachable, which causes the classes classloader to be reachable, which causes <em>all</em> of the old classes to be reachable, together with their code objects, their string literals, and their static frames and static.  A lot of these leaked objects live in permgen space.</p>\n<hr />\n<p>As of Java 8, permgen no longer exists: <a href=\"https://stackoverflow.com/questions/18339707/permgen-elimination-in-jdk-8\">PermGen elimination in JDK 8</a></p>\n"}],"owner":{"account_id":102508,"reputation":2531,"user_id":275131,"accept_rate":62,"display_name":"Ashish"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37815,"favorite_count":0,"down_vote_count":0,"up_vote_count":39,"accepted_answer_id":3796492,"answer_count":2,"score":39,"last_activity_date":1696380499,"creation_date":1285469785,"question_id":3796427,"body_markdown":"I have read that Perm gen (or Permanent Generation) space is not garbage collected. However, in CMS collection I can see some classes unloading in my GC log. So is perm gen garbage collected during full collection or CMS collection?\r\n\r\n","title":"In Java is Permanent Generation space garbage collected?","body":"<p>I have read that Perm gen (or Permanent Generation) space is not garbage collected. However, in CMS collection I can see some classes unloading in my GC log. So is perm gen garbage collected during full collection or CMS collection?</p>\n"},{"tags":["java","docker","webdav","nextcloud","sardine"],"owner":{"account_id":24167829,"reputation":1,"user_id":18130363,"display_name":"Ron"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696379030,"creation_date":1696379030,"question_id":77226096,"body_markdown":"i have a 3rd party application that uses sardine library to upload files.\r\n\r\ni upgraded my nextcloud docker version to the latest one , and added SSL security (HTTPS)\r\nalso tested the webdav URL with Rclone , and i was able to upload and download files using rclone.\r\n\r\nthe issue now is only with sardine , at first i was able to download (import) files and that feature is still works as expected. but for upload (export) to nextcloud , i still have an issue. \r\n\r\nin my sardine code , i am using sardine PUT (URL , inputsream ). \r\nafter attempting to upload , i am getting the error : “Cannot retry request with a non-repeatable request entity”\r\n\r\nthanks for the support, unfurentrly i cannot share the application logs because it uses some work related stuff which are private. \r\n\r\n\r\n\r\n","title":"Sardine library not working with nextcloud docker compose behind nginx (SSL)","body":"<p>i have a 3rd party application that uses sardine library to upload files.</p>\n<p>i upgraded my nextcloud docker version to the latest one , and added SSL security (HTTPS)\nalso tested the webdav URL with Rclone , and i was able to upload and download files using rclone.</p>\n<p>the issue now is only with sardine , at first i was able to download (import) files and that feature is still works as expected. but for upload (export) to nextcloud , i still have an issue.</p>\n<p>in my sardine code , i am using sardine PUT (URL , inputsream ).\nafter attempting to upload , i am getting the error : “Cannot retry request with a non-repeatable request entity”</p>\n<p>thanks for the support, unfurentrly i cannot share the application logs because it uses some work related stuff which are private.</p>\n"},{"tags":["java","playframework"],"comments":[{"owner":{"account_id":3359942,"reputation":4710,"user_id":2821954,"display_name":"Andrew T."},"score":0,"creation_date":1416284901,"post_id":26986545,"comment_id":42506203,"body_markdown":"Internal Server Error (500) usually has something to do with your server. Perhaps unhandled exception, or wrong logic in the code.","body":"Internal Server Error (500) usually has something to do with your server. Perhaps unhandled exception, or wrong logic in the code."},{"owner":{"account_id":2651179,"reputation":55299,"user_id":2292812,"accept_rate":100,"display_name":"Michael Zajac"},"score":0,"creation_date":1416285208,"post_id":26986545,"comment_id":42506271,"body_markdown":"Please provide more information about your deployment.","body":"Please provide more information about your deployment."},{"owner":{"account_id":5124438,"reputation":2515,"user_id":4107038,"accept_rate":44,"display_name":"Rajat"},"score":0,"creation_date":1548399921,"post_id":26986545,"comment_id":95535142,"body_markdown":"in my case it was some DB issue where some filed was null for some record.","body":"in my case it was some DB issue where some filed was null for some record."}],"answers":[{"tags":[],"owner":{"account_id":6015821,"reputation":635,"user_id":4724733,"display_name":"Eva M"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1430756536,"creation_date":1430755143,"answer_id":30034509,"question_id":26986545,"body_markdown":"Try running the same production app on your dev machine : if you get no error, then maybe production database can be the problem. \r\nIn my case I had this error but my production database did not have the right permissions to access one table; also some tables did not exist on prod machine while they did on dev machine. Fixing the database issues solved the problem.\r\n\r\nAlso : to handle exceptions you can use play&#39;s action composition to call any action method wrapped in a try/catch and log the error (in file, database and send an email...)\r\n\r\n","title":"Play Framework Error: This exception has been logged with id 6k8i0i7j7","body":"<p>Try running the same production app on your dev machine : if you get no error, then maybe production database can be the problem. \nIn my case I had this error but my production database did not have the right permissions to access one table; also some tables did not exist on prod machine while they did on dev machine. Fixing the database issues solved the problem.</p>\n\n<p>Also : to handle exceptions you can use play's action composition to call any action method wrapped in a try/catch and log the error (in file, database and send an email...)</p>\n"}],"owner":{"account_id":4363631,"reputation":21,"user_id":3709696,"display_name":"Phu Sang"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10687,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1696377775,"creation_date":1416284699,"question_id":26986545,"body_markdown":"I am completed building a website in Play framework. The website is deployed at server. But, I am facing some random occurring issue like this one..\r\n\r\n&gt; Oops, an error occured\r\n&gt; \r\n&gt; This exception has been logged with id 6k8hohpbh.\r\n\r\nWhy is this error occurring?\r\n\r\nI got the stack trace that looks like this\r\n\r\n\r\n&gt; 2014-11-18 11:00:54,810 [http-listener-1(5)] ERROR play - \r\n&gt; \r\n&gt; @6k8hohpb6 Internal Server Error (500)\r\n&gt; \r\n&gt; Execution exception RuntimeException occured : play.mvc.Http$Request\r\n&gt; not found by javassist [134]\r\n&gt; \r\n&gt; play.exceptions.JavaExecutionException: play.mvc.Http$Request not\r\n&gt; found by javassist [134] \tat\r\n&gt; play.mvc.ActionInvoker.invoke(ActionInvoker.java:236) \tat\r\n&gt; play.server.ServletWrapper$ServletInvocation.execute(ServletWrapper.java:578)\r\n&gt; \tat play.Invoker$Invocation.run(Invoker.java:282) \tat\r\n&gt; play.server.ServletWrapper$ServletInvocation.run(ServletWrapper.java:569)\r\n&gt; \tat play.Invoker.invokeInThread(Invoker.java:72) \tat\r\n&gt; play.server.ServletWrapper.service(ServletWrapper.java:144) \tat\r\n&gt; javax.servlet.http.HttpServlet.service(HttpServlet.java:790) \tat\r\n&gt; org.apache.catalina.core.StandardWrapper.service(StandardWrapper.java:1682)\r\n&gt; \tat\r\n&gt; org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:318)\r\n&gt; \tat\r\n&gt; org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:160)\r\n&gt; \tat\r\n&gt; org.apache.catalina.core.StandardPipeline.doInvoke(StandardPipeline.java:734)\r\n&gt; \tat\r\n&gt; org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:673)\r\n&gt; \tat com.sun.enterprise.web.WebPipeline.invoke(WebPipeline.java:99) \tat\r\n&gt; org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:174)\r\n&gt; \tat\r\n&gt; org.apache.catalina.connector.CoyoteAdapter.doService(CoyoteAdapter.java:415)\r\n&gt; \tat\r\n&gt; org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:282)\r\n&gt; \tat\r\n&gt; com.sun.enterprise.v3.services.impl.ContainerMapper$HttpHandlerCallable.call(ContainerMapper.java:459)\r\n&gt; \tat\r\n&gt; com.sun.enterprise.v3.services.impl.ContainerMapper.service(ContainerMapper.java:167)\r\n&gt; \tat\r\n&gt; org.glassfish.grizzly.http.server.HttpHandler.runService(HttpHandler.java:201)\r\n&gt; \tat\r\n&gt; org.glassfish.grizzly.http.server.HttpHandler.doHandle(HttpHandler.java:175)\r\n&gt; \tat\r\n&gt; org.glassfish.grizzly.http.server.HttpServerFilter.handleRead(HttpServerFilter.java:235)\r\n&gt; \tat\r\n&gt; org.glassfish.grizzly.filterchain.ExecutorResolver$9.execute(ExecutorResolver.java:119)\r\n&gt; \tat\r\n&gt; org.glassfish.grizzly.filterchain.DefaultFilterChain.executeFilter(DefaultFilterChain.java:284)\r\n&gt; \tat\r\n&gt; org.glassfish.grizzly.filterchain.DefaultFilterChain.executeChainPart(DefaultFilterChain.java:201)\r\n&gt; \tat\r\n&gt; org.glassfish.grizzly.filterchain.DefaultFilterChain.execute(DefaultFilterChain.java:133)\r\n&gt; \tat\r\n&gt; org.glassfish.grizzly.filterchain.DefaultFilterChain.process(DefaultFilterChain.java:112)\r\n&gt; \tat\r\n&gt; org.glassfish.grizzly.ProcessorExecutor.execute(ProcessorExecutor.java:77)\r\n&gt; \tat\r\n&gt; org.glassfish.grizzly.nio.transport.TCPNIOTransport.fireIOEvent(TCPNIOTransport.java:561)\r\n&gt; \tat\r\n&gt; org.glassfish.grizzly.strategies.AbstractIOStrategy.fireIOEvent(AbstractIOStrategy.java:112)\r\n&gt; \tat\r\n&gt; org.glassfish.grizzly.strategies.WorkerThreadIOStrategy.run0(WorkerThreadIOStrategy.java:117)\r\n&gt; \tat\r\n&gt; org.glassfish.grizzly.strategies.WorkerThreadIOStrategy.access$100(WorkerThreadIOStrategy.java:56)\r\n&gt; \tat\r\n&gt; org.glassfish.grizzly.strategies.WorkerThreadIOStrategy$WorkerThreadRunnable.run(WorkerThreadIOStrategy.java:137)\r\n&gt; \tat\r\n&gt; org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.doWork(AbstractThreadPool.java:565)\r\n&gt; \tat\r\n&gt; org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.run(AbstractThreadPool.java:545)\r\n&gt; \tat java.lang.Thread.run(Thread.java:745) Caused by:\r\n&gt; java.lang.RuntimeException: play.mvc.Http$Request not found by\r\n&gt; javassist [134] \tat javassist.runtime.Desc.getClassType(Desc.java:156)\r\n&gt; \tat javassist.runtime.Desc.getType(Desc.java:122) \tat\r\n&gt; javassist.runtime.Desc.getType(Desc.java:78) \tat\r\n&gt; controllers.AppController._checkAuthenticityToken(AppController.java:407)\r\n&gt; \tat play.mvc.ActionInvoker.invoke(ActionInvoker.java:509) \tat\r\n&gt; play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:483)\r\n&gt; \tat\r\n&gt; play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:478)\r\n&gt; \tat play.mvc.ActionInvoker.handleBefores(ActionInvoker.java:327) \tat\r\n&gt; play.mvc.ActionInvoker.invoke(ActionInvoker.java:141) \t... 34 more","title":"Play Framework Error: This exception has been logged with id 6k8i0i7j7","body":"<p>I am completed building a website in Play framework. The website is deployed at server. But, I am facing some random occurring issue like this one..</p>\n\n<blockquote>\n  <p>Oops, an error occured</p>\n  \n  <p>This exception has been logged with id 6k8hohpbh.</p>\n</blockquote>\n\n<p>Why is this error occurring?</p>\n\n<p>I got the stack trace that looks like this</p>\n\n<blockquote>\n  <p>2014-11-18 11:00:54,810 [http-listener-1(5)] ERROR play - </p>\n  \n  <p>@6k8hohpb6 Internal Server Error (500)</p>\n  \n  <p>Execution exception RuntimeException occured : play.mvc.Http$Request\n  not found by javassist [134]</p>\n  \n  <p>play.exceptions.JavaExecutionException: play.mvc.Http$Request not\n  found by javassist [134]  at\n  play.mvc.ActionInvoker.invoke(ActionInvoker.java:236)     at\n  play.server.ServletWrapper$ServletInvocation.execute(ServletWrapper.java:578)\n    at play.Invoker$Invocation.run(Invoker.java:282)    at\n  play.server.ServletWrapper$ServletInvocation.run(ServletWrapper.java:569)\n    at play.Invoker.invokeInThread(Invoker.java:72)     at\n  play.server.ServletWrapper.service(ServletWrapper.java:144)   at\n  javax.servlet.http.HttpServlet.service(HttpServlet.java:790)  at\n  org.apache.catalina.core.StandardWrapper.service(StandardWrapper.java:1682)\n    at\n  org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:318)\n    at\n  org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:160)\n    at\n  org.apache.catalina.core.StandardPipeline.doInvoke(StandardPipeline.java:734)\n    at\n  org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:673)\n    at com.sun.enterprise.web.WebPipeline.invoke(WebPipeline.java:99)   at\n  org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:174)\n    at\n  org.apache.catalina.connector.CoyoteAdapter.doService(CoyoteAdapter.java:415)\n    at\n  org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:282)\n    at\n  com.sun.enterprise.v3.services.impl.ContainerMapper$HttpHandlerCallable.call(ContainerMapper.java:459)\n    at\n  com.sun.enterprise.v3.services.impl.ContainerMapper.service(ContainerMapper.java:167)\n    at\n  org.glassfish.grizzly.http.server.HttpHandler.runService(HttpHandler.java:201)\n    at\n  org.glassfish.grizzly.http.server.HttpHandler.doHandle(HttpHandler.java:175)\n    at\n  org.glassfish.grizzly.http.server.HttpServerFilter.handleRead(HttpServerFilter.java:235)\n    at\n  org.glassfish.grizzly.filterchain.ExecutorResolver$9.execute(ExecutorResolver.java:119)\n    at\n  org.glassfish.grizzly.filterchain.DefaultFilterChain.executeFilter(DefaultFilterChain.java:284)\n    at\n  org.glassfish.grizzly.filterchain.DefaultFilterChain.executeChainPart(DefaultFilterChain.java:201)\n    at\n  org.glassfish.grizzly.filterchain.DefaultFilterChain.execute(DefaultFilterChain.java:133)\n    at\n  org.glassfish.grizzly.filterchain.DefaultFilterChain.process(DefaultFilterChain.java:112)\n    at\n  org.glassfish.grizzly.ProcessorExecutor.execute(ProcessorExecutor.java:77)\n    at\n  org.glassfish.grizzly.nio.transport.TCPNIOTransport.fireIOEvent(TCPNIOTransport.java:561)\n    at\n  org.glassfish.grizzly.strategies.AbstractIOStrategy.fireIOEvent(AbstractIOStrategy.java:112)\n    at\n  org.glassfish.grizzly.strategies.WorkerThreadIOStrategy.run0(WorkerThreadIOStrategy.java:117)\n    at\n  org.glassfish.grizzly.strategies.WorkerThreadIOStrategy.access$100(WorkerThreadIOStrategy.java:56)\n    at\n  org.glassfish.grizzly.strategies.WorkerThreadIOStrategy$WorkerThreadRunnable.run(WorkerThreadIOStrategy.java:137)\n    at\n  org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.doWork(AbstractThreadPool.java:565)\n    at\n  org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.run(AbstractThreadPool.java:545)\n    at java.lang.Thread.run(Thread.java:745) Caused by:\n  java.lang.RuntimeException: play.mvc.Http$Request not found by\n  javassist [134]   at javassist.runtime.Desc.getClassType(Desc.java:156)\n    at javassist.runtime.Desc.getType(Desc.java:122)    at\n  javassist.runtime.Desc.getType(Desc.java:78)  at\n  controllers.AppController._checkAuthenticityToken(AppController.java:407)\n    at play.mvc.ActionInvoker.invoke(ActionInvoker.java:509)    at\n  play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:483)\n    at\n  play.mvc.ActionInvoker.invokeControllerMethod(ActionInvoker.java:478)\n    at play.mvc.ActionInvoker.handleBefores(ActionInvoker.java:327)     at\n  play.mvc.ActionInvoker.invoke(ActionInvoker.java:141)     ... 34 more</p>\n</blockquote>\n"},{"tags":["java","spring","rest","mule","mybatis"],"answers":[{"tags":[],"owner":{"account_id":164880,"reputation":33403,"user_id":387927,"display_name":"David Dossot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1400537095,"creation_date":1400537095,"answer_id":23747959,"question_id":23732671,"body_markdown":"&gt; No suitable driver found for jdbc:oracle:thin:@//192.168.200.10:1522/ORCL\r\n\r\nIs the Oracle JDBC driver packaged with your application? This seems to mean it&#39;s not. Did you add it to the pom.xml?","title":"Mule, Spring, MyBatis - Could not get a databaseId from dataSource","body":"<blockquote>\n  <p>No suitable driver found for jdbc:oracle:thin:@//192.168.200.10:1522/ORCL</p>\n</blockquote>\n\n<p>Is the Oracle JDBC driver packaged with your application? This seems to mean it's not. Did you add it to the pom.xml?</p>\n"},{"tags":[],"owner":{"account_id":4911921,"reputation":1,"user_id":3956999,"display_name":"ritam das"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1408477608,"creation_date":1408462277,"answer_id":25387402,"question_id":23732671,"body_markdown":"Are you using AnyPointStudio/MuleStudio to run in mule server 3.5 ? Chances are that the driver jar is not present in the app server library as it fails to pick up the driver jar from application classpath. If it is local then you can try to add the jar to the following location: (Ur IDE Installation Folder)\\\\plugins\\\\org.mule.tooling.server.3.5.0.ee_3.5.0.201405141846\\\\mule\\\\lib\\\\boot. It worked for me.","title":"Mule, Spring, MyBatis - Could not get a databaseId from dataSource","body":"<p>Are you using AnyPointStudio/MuleStudio to run in mule server 3.5 ? Chances are that the driver jar is not present in the app server library as it fails to pick up the driver jar from application classpath. If it is local then you can try to add the jar to the following location: (Ur IDE Installation Folder)\\plugins\\org.mule.tooling.server.3.5.0.ee_3.5.0.201405141846\\mule\\lib\\boot. It worked for me.</p>\n"},{"tags":[],"owner":{"account_id":11334442,"reputation":1,"user_id":8310834,"display_name":"yw w"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1620438490,"creation_date":1620438490,"answer_id":67443374,"question_id":23732671,"body_markdown":"You should check the configuration like url username or password , Usually caused by this","title":"Mule, Spring, MyBatis - Could not get a databaseId from dataSource","body":"<p>You should check the configuration like url username or password , Usually caused by this</p>\n"}],"owner":{"account_id":4490558,"reputation":1,"user_id":3651748,"display_name":"user3651748"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10368,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1696377775,"creation_date":1400486853,"question_id":23732671,"body_markdown":"I&#39;m trying to build a simple mule REST service based on an Spring+MyBatis application which I&#39;ve created earlier. The spring app worked just as it was supposed to (transactions were working properly) but after integrating the code into Mule REST component and running the app I get the following log with an error: \r\n\r\n    ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++\r\n    + Initializing app &#39;test_rest&#39;                             +\r\n    ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++\r\n    INFO  2014-05-19 09:51:58,651 [main] org.mule.lifecycle.AbstractLifecycleManager: Initialising RegistryBroker\r\n    INFO  2014-05-19 09:51:58,813 [main] org.mule.config.spring.MuleApplicationContext: Refreshing org.mule.config.spring.MuleApplicationContext@6b1de1c2: startup date [Mon May 19 09:51:58 CEST 2014]; root of context hierarchy\r\n    INFO  2014-05-19 09:52:00,762 [main] org.mule.config.spring.MuleApplicationContext: Bean &#39;org.springframework.transaction.annotation.AnnotationTransactionAttributeSource#0&#39; of type [class org.springframework.transaction.annotation.AnnotationTransactionAttributeSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\r\n    INFO  2014-05-19 09:52:00,766 [main] org.mule.config.spring.MuleApplicationContext: Bean &#39;org.springframework.transaction.config.internalTransactionAdvisor&#39; of type [class org.springframework.transaction.interceptor.BeanFactoryTransactionAttributeSourceAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\r\n    INFO  2014-05-19 09:52:01,291 [main] org.springframework.jdbc.datasource.DriverManagerDataSource: Loaded JDBC driver: oracle.jdbc.OracleDriver\r\n    ERROR 2014-05-19 09:52:01,408 [main] org.apache.ibatis.executor.BaseExecutor: Could not get a databaseId from dataSource\r\n    java.sql.SQLException: No suitable driver found for jdbc:oracle:thin:@//192.168.200.10:1522/ORCL\r\n    \tat java.sql.DriverManager.getConnection(Unknown Source)\r\n    \tat java.sql.DriverManager.getConnection(Unknown Source)\r\n    \tat org.springframework.jdbc.datasource.DriverManagerDataSource.getConnectionFromDriverManager(DriverManagerDataSource.java:173)\r\n    \tat org.springframework.jdbc.datasource.DriverManagerDataSource.getConnectionFromDriver(DriverManagerDataSource.java:164)\r\n    \tat org.springframework.jdbc.datasource.AbstractDriverBasedDataSource.getConnectionFromDriver(AbstractDriverBasedDataSource.java:153)\r\n    \tat org.springframework.jdbc.datasource.AbstractDriverBasedDataSource.getConnection(AbstractDriverBasedDataSource.java:119)\r\n    \tat org.apache.ibatis.mapping.VendorDatabaseIdProvider.getDatabaseProductName(VendorDatabaseIdProvider.java:76)\r\n    \tat org.apache.ibatis.mapping.VendorDatabaseIdProvider.getDatabaseName(VendorDatabaseIdProvider.java:61)\r\n    \tat org.apache.ibatis.mapping.VendorDatabaseIdProvider.getDatabaseId(VendorDatabaseIdProvider.java:49)\r\n    \tat org.mybatis.spring.SqlSessionFactoryBean.buildSqlSessionFactory(SqlSessionFactoryBean.java:395)\r\n    \tat org.mybatis.spring.SqlSessionFactoryBean.afterPropertiesSet(SqlSessionFactoryBean.java:295)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1545)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1483)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:524)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:461)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:295)\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:223)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:292)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:194)\r\n    \tat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:323)\r\n    \tat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:107)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1391)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1132)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:522)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:461)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:295)\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:223)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:292)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getTypeForFactoryBean(AbstractBeanFactory.java:1360)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getTypeForFactoryBean(AbstractAutowireCapableBeanFactory.java:724)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.isTypeMatch(AbstractBeanFactory.java:520)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doGetBeanNamesForType(DefaultListableBeanFactory.java:357)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanNamesForType(DefaultListableBeanFactory.java:335)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:435)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.getBeansOfType(AbstractApplicationContext.java:1188)\r\n    \tat org.mule.config.spring.SpringRegistry.internalLookupByType(SpringRegistry.java:178)\r\n    \tat org.mule.config.spring.SpringRegistry.lookupByType(SpringRegistry.java:171)\r\n    \tat org.mule.registry.AbstractRegistryBroker.lookupByType(AbstractRegistryBroker.java:160)\r\n    \tat org.mule.registry.MuleRegistryHelper.lookupByType(MuleRegistryHelper.java:709)\r\n    \tat org.mule.config.bootstrap.SimpleRegistryBootstrap.registerTransformers(SimpleRegistryBootstrap.java:322)\r\n    \tat org.mule.config.bootstrap.SimpleRegistryBootstrap.initialise(SimpleRegistryBootstrap.java:185)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n    \tat java.lang.reflect.Method.invoke(Unknown Source)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeCustomInitMethod(AbstractAutowireCapableBeanFactory.java:1612)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1553)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1483)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:524)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:461)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:295)\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:223)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:292)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:194)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:626)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:932)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:479)\r\n    \tat org.mule.config.spring.SpringRegistry.doInitialise(SpringRegistry.java:89)\r\n    \tat org.mule.registry.AbstractRegistry.initialise(AbstractRegistry.java:109)\r\n    \tat org.mule.config.spring.SpringXmlConfigurationBuilder.createSpringRegistry(SpringXmlConfigurationBuilder.java:119)\r\n    \tat org.mule.config.spring.SpringXmlConfigurationBuilder.doConfigure(SpringXmlConfigurationBuilder.java:73)\r\n    \tat org.mule.config.builders.AbstractConfigurationBuilder.configure(AbstractConfigurationBuilder.java:46)\r\n    \tat org.mule.config.builders.AbstractResourceConfigurationBuilder.configure(AbstractResourceConfigurationBuilder.java:78)\r\n    \tat org.mule.config.builders.AutoConfigurationBuilder.autoConfigure(AutoConfigurationBuilder.java:101)\r\n    \tat org.mule.config.builders.AutoConfigurationBuilder.doConfigure(AutoConfigurationBuilder.java:57)\r\n    \tat org.mule.config.builders.AbstractConfigurationBuilder.configure(AbstractConfigurationBuilder.java:46)\r\n    \tat org.mule.config.builders.AbstractResourceConfigurationBuilder.configure(AbstractResourceConfigurationBuilder.java:78)\r\n    \tat org.mule.context.DefaultMuleContextFactory.createMuleContext(DefaultMuleContextFactory.java:84)\r\n    \tat org.mule.module.launcher.application.DefaultMuleApplication.init(DefaultMuleApplication.java:207)\r\n    \tat org.mule.module.launcher.application.ApplicationWrapper.init(ApplicationWrapper.java:64)\r\n    \tat org.mule.module.launcher.DefaultMuleDeployer.deploy(DefaultMuleDeployer.java:47)\r\n    \tat org.mule.tooling.server.application.ApplicationDeployer.main(ApplicationDeployer.java:127)\r\n\r\nMy spring config looks like this:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;beans ...&gt;\r\n    \r\n    \t&lt;context:annotation-config /&gt;\r\n    \t&lt;tx:annotation-driven /&gt;\r\n    \r\n    \r\n    \t&lt;bean id=&quot;dataSource&quot;\r\n    \t\tclass=&quot;org.springframework.jdbc.datasource.DriverManagerDataSource&quot;&gt;\r\n    \t\t&lt;property name=&quot;driverClassName&quot; value=&quot;oracle.jdbc.OracleDriver&quot; /&gt;\r\n    \t\t&lt;property name=&quot;url&quot; value=&quot;jdbc:oracle:thin:@//database_ip:port/service&quot; /&gt;\r\n    \t\t&lt;property name=&quot;username&quot; value=&quot;&quot; /&gt;\r\n    \t\t&lt;property name=&quot;password&quot; value=&quot;&quot; /&gt;\r\n    \t&lt;/bean&gt;\r\n    \r\n    \r\n    \t&lt;bean id=&quot;sqlSessionFactory&quot; class=&quot;org.mybatis.spring.SqlSessionFactoryBean&quot;&gt;\r\n    \t\t&lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot; /&gt;\r\n    \t&lt;/bean&gt;\r\n    \r\n    \t&lt;bean id=&quot;mapper&quot; class=&quot;org.mybatis.spring.mapper.MapperFactoryBean&quot;&gt;\r\n    \t\t&lt;property name=&quot;mapperInterface&quot; value=&quot;com.example.mapper.Mapper&quot; /&gt;\r\n    \t\t&lt;property name=&quot;sqlSessionFactory&quot; ref=&quot;sqlSessionFactory&quot; /&gt;\r\n    \t&lt;/bean&gt;\r\n    \r\n    \t&lt;bean id=&quot;service&quot; class=&quot;com.example.service.Service&quot; /&gt;\r\n    \r\n    &lt;/beans&gt;\r\n\r\nMy mule config xml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    \r\n    &lt;mule xmlns:jersey=&quot;http://www.mulesoft.org/schema/mule/jersey&quot; xmlns:http=&quot;http://www.mulesoft.org/schema/mule/http&quot; xmlns=&quot;http://www.mulesoft.org/schema/mule/core&quot; xmlns:doc=&quot;http://www.mulesoft.org/schema/mule/documentation&quot;\r\n    \txmlns:spring=&quot;http://www.springframework.org/schema/beans&quot; version=&quot;CE-3.4.0&quot;\r\n    \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-current.xsd\r\n    http://www.mulesoft.org/schema/mule/core http://www.mulesoft.org/schema/mule/core/current/mule.xsd\r\n    http://www.mulesoft.org/schema/mule/http http://www.mulesoft.org/schema/mule/http/current/mule-http.xsd\r\n    http://www.mulesoft.org/schema/mule/jersey http://www.mulesoft.org/schema/mule/jersey/current/mule-jersey.xsd&quot;&gt;\r\n        \r\n        &lt;spring:beans&gt;\r\n    \t\t&lt;spring:import resource=&quot;classes/spring-config.xml&quot; /&gt;\r\n    \t&lt;/spring:beans&gt;\r\n        &lt;flow name=&quot;test_restFlow1&quot; doc:name=&quot;test_restFlow1&quot;&gt;\r\n            &lt;http:inbound-endpoint exchange-pattern=&quot;request-response&quot; host=&quot;localhost&quot; port=&quot;8081&quot; doc:name=&quot;HTTP&quot; path=&quot;rest&quot;/&gt;\r\n            &lt;logger level=&quot;INFO&quot; doc:name=&quot;Logger&quot;/&gt;\r\n            &lt;jersey:resources doc:name=&quot;REST&quot;&gt;\r\n                &lt;component class=&quot;com.example.service.Service&quot;/&gt;\r\n            &lt;/jersey:resources&gt;\r\n        &lt;/flow&gt;\r\n        \r\n    &lt;/mule&gt;\r\n\r\nThe classes referenced in the xml files, Mapper:\r\n\r\n    package com.example.mapper;\r\n    \r\n    import java.util.List;\r\n    \r\n    import com.example.vo.Person;\r\n    \r\n    public interface Mapper {\r\n    \tpublic List&lt;Person&gt; selectAllPerson();\r\n    \tpublic int insertPerson(Person person);\r\n    }\r\n\r\nService:\r\n\r\n    package com.example.service;\r\n    \r\n    import java.util.List;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import com.example.mapper.Mapper;\r\n    import com.example.vo.Person;\r\n    import javax.ws.rs.*;\r\n    \r\n    @Path(&quot;/person&quot;)\r\n    public class Service {\r\n    \t\r\n    \t@Autowired\r\n    \tprivate Mapper mapper;\r\n    \t\r\n    \t@GET\r\n    \t@Path(&quot;/select&quot;)\r\n    \t@Produces(&quot;text/plain&quot;)\r\n    \tpublic String selectAllPerson() {\r\n    \t\treturn mapper.selectAllPerson().toString();\r\n    \t}\r\n    \t\r\n    \tpublic void insertPerson(Person person) {\r\n    \t\tmapper.insertPerson(person);\r\n    \t}\r\n    }\r\n\r\nPerson:\r\n\r\n    package com.example.vo;\r\n    \r\n    public class Person {\r\n    \tprivate int id;\r\n    \tprivate String name;\r\n    \t\r\n    \tpublic int getId() {return id;};\r\n    \tpublic void setId(int id) {this.id = id;}\r\n    \tpublic String getName() {return name;};\r\n    \tpublic void setName(String name) {this.name = name;}\r\n    \t\r\n    \tpublic String toString() {return &quot;id: &quot; + id + &quot; name: &quot; + name;}\r\n    }\r\n\r\n\r\n","title":"Mule, Spring, MyBatis - Could not get a databaseId from dataSource","body":"<p>I'm trying to build a simple mule REST service based on an Spring+MyBatis application which I've created earlier. The spring app worked just as it was supposed to (transactions were working properly) but after integrating the code into Mule REST component and running the app I get the following log with an error: </p>\n\n<pre><code>++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++\n+ Initializing app 'test_rest'                             +\n++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++\nINFO  2014-05-19 09:51:58,651 [main] org.mule.lifecycle.AbstractLifecycleManager: Initialising RegistryBroker\nINFO  2014-05-19 09:51:58,813 [main] org.mule.config.spring.MuleApplicationContext: Refreshing org.mule.config.spring.MuleApplicationContext@6b1de1c2: startup date [Mon May 19 09:51:58 CEST 2014]; root of context hierarchy\nINFO  2014-05-19 09:52:00,762 [main] org.mule.config.spring.MuleApplicationContext: Bean 'org.springframework.transaction.annotation.AnnotationTransactionAttributeSource#0' of type [class org.springframework.transaction.annotation.AnnotationTransactionAttributeSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\nINFO  2014-05-19 09:52:00,766 [main] org.mule.config.spring.MuleApplicationContext: Bean 'org.springframework.transaction.config.internalTransactionAdvisor' of type [class org.springframework.transaction.interceptor.BeanFactoryTransactionAttributeSourceAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\nINFO  2014-05-19 09:52:01,291 [main] org.springframework.jdbc.datasource.DriverManagerDataSource: Loaded JDBC driver: oracle.jdbc.OracleDriver\nERROR 2014-05-19 09:52:01,408 [main] org.apache.ibatis.executor.BaseExecutor: Could not get a databaseId from dataSource\njava.sql.SQLException: No suitable driver found for jdbc:oracle:thin:@//192.168.200.10:1522/ORCL\n    at java.sql.DriverManager.getConnection(Unknown Source)\n    at java.sql.DriverManager.getConnection(Unknown Source)\n    at org.springframework.jdbc.datasource.DriverManagerDataSource.getConnectionFromDriverManager(DriverManagerDataSource.java:173)\n    at org.springframework.jdbc.datasource.DriverManagerDataSource.getConnectionFromDriver(DriverManagerDataSource.java:164)\n    at org.springframework.jdbc.datasource.AbstractDriverBasedDataSource.getConnectionFromDriver(AbstractDriverBasedDataSource.java:153)\n    at org.springframework.jdbc.datasource.AbstractDriverBasedDataSource.getConnection(AbstractDriverBasedDataSource.java:119)\n    at org.apache.ibatis.mapping.VendorDatabaseIdProvider.getDatabaseProductName(VendorDatabaseIdProvider.java:76)\n    at org.apache.ibatis.mapping.VendorDatabaseIdProvider.getDatabaseName(VendorDatabaseIdProvider.java:61)\n    at org.apache.ibatis.mapping.VendorDatabaseIdProvider.getDatabaseId(VendorDatabaseIdProvider.java:49)\n    at org.mybatis.spring.SqlSessionFactoryBean.buildSqlSessionFactory(SqlSessionFactoryBean.java:395)\n    at org.mybatis.spring.SqlSessionFactoryBean.afterPropertiesSet(SqlSessionFactoryBean.java:295)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1545)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1483)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:524)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:461)\n    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:295)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:223)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:292)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:194)\n    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:323)\n    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:107)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1391)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1132)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:522)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:461)\n    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:295)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:223)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:292)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getTypeForFactoryBean(AbstractBeanFactory.java:1360)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getTypeForFactoryBean(AbstractAutowireCapableBeanFactory.java:724)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.isTypeMatch(AbstractBeanFactory.java:520)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doGetBeanNamesForType(DefaultListableBeanFactory.java:357)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanNamesForType(DefaultListableBeanFactory.java:335)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:435)\n    at org.springframework.context.support.AbstractApplicationContext.getBeansOfType(AbstractApplicationContext.java:1188)\n    at org.mule.config.spring.SpringRegistry.internalLookupByType(SpringRegistry.java:178)\n    at org.mule.config.spring.SpringRegistry.lookupByType(SpringRegistry.java:171)\n    at org.mule.registry.AbstractRegistryBroker.lookupByType(AbstractRegistryBroker.java:160)\n    at org.mule.registry.MuleRegistryHelper.lookupByType(MuleRegistryHelper.java:709)\n    at org.mule.config.bootstrap.SimpleRegistryBootstrap.registerTransformers(SimpleRegistryBootstrap.java:322)\n    at org.mule.config.bootstrap.SimpleRegistryBootstrap.initialise(SimpleRegistryBootstrap.java:185)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n    at java.lang.reflect.Method.invoke(Unknown Source)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeCustomInitMethod(AbstractAutowireCapableBeanFactory.java:1612)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1553)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1483)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:524)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:461)\n    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:295)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:223)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:292)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:194)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:626)\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:932)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:479)\n    at org.mule.config.spring.SpringRegistry.doInitialise(SpringRegistry.java:89)\n    at org.mule.registry.AbstractRegistry.initialise(AbstractRegistry.java:109)\n    at org.mule.config.spring.SpringXmlConfigurationBuilder.createSpringRegistry(SpringXmlConfigurationBuilder.java:119)\n    at org.mule.config.spring.SpringXmlConfigurationBuilder.doConfigure(SpringXmlConfigurationBuilder.java:73)\n    at org.mule.config.builders.AbstractConfigurationBuilder.configure(AbstractConfigurationBuilder.java:46)\n    at org.mule.config.builders.AbstractResourceConfigurationBuilder.configure(AbstractResourceConfigurationBuilder.java:78)\n    at org.mule.config.builders.AutoConfigurationBuilder.autoConfigure(AutoConfigurationBuilder.java:101)\n    at org.mule.config.builders.AutoConfigurationBuilder.doConfigure(AutoConfigurationBuilder.java:57)\n    at org.mule.config.builders.AbstractConfigurationBuilder.configure(AbstractConfigurationBuilder.java:46)\n    at org.mule.config.builders.AbstractResourceConfigurationBuilder.configure(AbstractResourceConfigurationBuilder.java:78)\n    at org.mule.context.DefaultMuleContextFactory.createMuleContext(DefaultMuleContextFactory.java:84)\n    at org.mule.module.launcher.application.DefaultMuleApplication.init(DefaultMuleApplication.java:207)\n    at org.mule.module.launcher.application.ApplicationWrapper.init(ApplicationWrapper.java:64)\n    at org.mule.module.launcher.DefaultMuleDeployer.deploy(DefaultMuleDeployer.java:47)\n    at org.mule.tooling.server.application.ApplicationDeployer.main(ApplicationDeployer.java:127)\n</code></pre>\n\n<p>My spring config looks like this:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;beans ...&gt;\n\n    &lt;context:annotation-config /&gt;\n    &lt;tx:annotation-driven /&gt;\n\n\n    &lt;bean id=\"dataSource\"\n        class=\"org.springframework.jdbc.datasource.DriverManagerDataSource\"&gt;\n        &lt;property name=\"driverClassName\" value=\"oracle.jdbc.OracleDriver\" /&gt;\n        &lt;property name=\"url\" value=\"jdbc:oracle:thin:@//database_ip:port/service\" /&gt;\n        &lt;property name=\"username\" value=\"\" /&gt;\n        &lt;property name=\"password\" value=\"\" /&gt;\n    &lt;/bean&gt;\n\n\n    &lt;bean id=\"sqlSessionFactory\" class=\"org.mybatis.spring.SqlSessionFactoryBean\"&gt;\n        &lt;property name=\"dataSource\" ref=\"dataSource\" /&gt;\n    &lt;/bean&gt;\n\n    &lt;bean id=\"mapper\" class=\"org.mybatis.spring.mapper.MapperFactoryBean\"&gt;\n        &lt;property name=\"mapperInterface\" value=\"com.example.mapper.Mapper\" /&gt;\n        &lt;property name=\"sqlSessionFactory\" ref=\"sqlSessionFactory\" /&gt;\n    &lt;/bean&gt;\n\n    &lt;bean id=\"service\" class=\"com.example.service.Service\" /&gt;\n\n&lt;/beans&gt;\n</code></pre>\n\n<p>My mule config xml:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n\n&lt;mule xmlns:jersey=\"http://www.mulesoft.org/schema/mule/jersey\" xmlns:http=\"http://www.mulesoft.org/schema/mule/http\" xmlns=\"http://www.mulesoft.org/schema/mule/core\" xmlns:doc=\"http://www.mulesoft.org/schema/mule/documentation\"\n    xmlns:spring=\"http://www.springframework.org/schema/beans\" version=\"CE-3.4.0\"\n    xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-current.xsd\nhttp://www.mulesoft.org/schema/mule/core http://www.mulesoft.org/schema/mule/core/current/mule.xsd\nhttp://www.mulesoft.org/schema/mule/http http://www.mulesoft.org/schema/mule/http/current/mule-http.xsd\nhttp://www.mulesoft.org/schema/mule/jersey http://www.mulesoft.org/schema/mule/jersey/current/mule-jersey.xsd\"&gt;\n\n    &lt;spring:beans&gt;\n        &lt;spring:import resource=\"classes/spring-config.xml\" /&gt;\n    &lt;/spring:beans&gt;\n    &lt;flow name=\"test_restFlow1\" doc:name=\"test_restFlow1\"&gt;\n        &lt;http:inbound-endpoint exchange-pattern=\"request-response\" host=\"localhost\" port=\"8081\" doc:name=\"HTTP\" path=\"rest\"/&gt;\n        &lt;logger level=\"INFO\" doc:name=\"Logger\"/&gt;\n        &lt;jersey:resources doc:name=\"REST\"&gt;\n            &lt;component class=\"com.example.service.Service\"/&gt;\n        &lt;/jersey:resources&gt;\n    &lt;/flow&gt;\n\n&lt;/mule&gt;\n</code></pre>\n\n<p>The classes referenced in the xml files, Mapper:</p>\n\n<pre><code>package com.example.mapper;\n\nimport java.util.List;\n\nimport com.example.vo.Person;\n\npublic interface Mapper {\n    public List&lt;Person&gt; selectAllPerson();\n    public int insertPerson(Person person);\n}\n</code></pre>\n\n<p>Service:</p>\n\n<pre><code>package com.example.service;\n\nimport java.util.List;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport com.example.mapper.Mapper;\nimport com.example.vo.Person;\nimport javax.ws.rs.*;\n\n@Path(\"/person\")\npublic class Service {\n\n    @Autowired\n    private Mapper mapper;\n\n    @GET\n    @Path(\"/select\")\n    @Produces(\"text/plain\")\n    public String selectAllPerson() {\n        return mapper.selectAllPerson().toString();\n    }\n\n    public void insertPerson(Person person) {\n        mapper.insertPerson(person);\n    }\n}\n</code></pre>\n\n<p>Person:</p>\n\n<pre><code>package com.example.vo;\n\npublic class Person {\n    private int id;\n    private String name;\n\n    public int getId() {return id;};\n    public void setId(int id) {this.id = id;}\n    public String getName() {return name;};\n    public void setName(String name) {this.name = name;}\n\n    public String toString() {return \"id: \" + id + \" name: \" + name;}\n}\n</code></pre>\n"},{"tags":["java","android","unity-game-engine","build.gradle","java-11"],"comments":[{"owner":{"account_id":18999437,"reputation":2463,"user_id":13867124,"display_name":"AztecCodes"},"score":0,"creation_date":1696413811,"post_id":77225904,"comment_id":136148710,"body_markdown":"Welcome to Stack Overflow! Thank you for your question. However it seems like you are not familiar with the guide of Stack Overflow to [How To: Ask a good question](https://stackoverflow.com/help/how-to-ask). Please read it and adjust your question accordingly by using the [Edit](https://stackoverflow.com/posts/77068047/edit) option. Happy coding!","body":"Welcome to Stack Overflow! Thank you for your question. However it seems like you are not familiar with the guide of Stack Overflow to <a href=\"https://stackoverflow.com/help/how-to-ask\">How To: Ask a good question</a>. Please read it and adjust your question accordingly by using the <a href=\"https://stackoverflow.com/posts/77068047/edit\">Edit</a> option. Happy coding!"}],"answers":[{"tags":[],"owner":{"account_id":14943891,"reputation":1727,"user_id":10789722,"display_name":"MEGHA RAMOLIYA"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696377229,"creation_date":1696377229,"answer_id":77226024,"question_id":77225904,"body_markdown":"   I think you have to download Android SDK 33. At least that fixed it.This is how did it.\r\n    \r\n    1- Edit &gt; Project Settings &gt; Player &gt; Minimum API Level &gt; Android 13 (API version 33).\r\n    2- File &gt; Build And Run\r\n    \r\n    The build and run will ask you to download SDK 33 (if not already), you just have to confirm.\r\n    \r\n  \r\n   Or \r\n    \r\n    you getting solution from https://youtu.be/BpoB9WYrluk?si=Uc2G2k_LqI9oiRTa\r\n\r\n","title":"Android build in unity 2022.3","body":"<p>I think you have to download Android SDK 33. At least that fixed it.This is how did it.</p>\n<pre><code>1- Edit &gt; Project Settings &gt; Player &gt; Minimum API Level &gt; Android 13 (API version 33).\n2- File &gt; Build And Run\n\nThe build and run will ask you to download SDK 33 (if not already), you just have to confirm.\n</code></pre>\n<p>Or</p>\n<pre><code>you getting solution from https://youtu.be/BpoB9WYrluk?si=Uc2G2k_LqI9oiRTa\n</code></pre>\n"}],"owner":{"account_id":25557359,"reputation":1,"user_id":19340626,"display_name":"mostafa mohamed"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":135,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696377229,"creation_date":1696373963,"question_id":77225904,"body_markdown":"I&#39;m trying to build an android app in unity 2022.3.1f\r\n\r\nUnity have make a lot of improvements in android build with upgrade gradle and ndk and jdk\r\n\r\nAnd when I&#39;m trying to build in unity 2022\r\n\r\nIt give me an error in sdkmanger.bat\r\n\r\nThat &quot;java tools option&quot; isn&#39;t in jdk11\r\n\r\nAnd it have been removed\r\n\r\nAnd unity 2022 is using Jdk 11 and sdkmanger.bat need jdk8 to run and build my app in unity because jdk8 has the &quot;java tool option&quot;\r\n\r\nAnd the only solution to build in unity 2022 if I want is to export project to android studie and build it from there and it is not an good idea to do\r\n\r\nSo can any one help me with that problem\r\n\r\nI tried to replace android commend tools and change sdk and jdk And nothing works","title":"Android build in unity 2022.3","body":"<p>I'm trying to build an android app in unity 2022.3.1f</p>\n<p>Unity have make a lot of improvements in android build with upgrade gradle and ndk and jdk</p>\n<p>And when I'm trying to build in unity 2022</p>\n<p>It give me an error in sdkmanger.bat</p>\n<p>That &quot;java tools option&quot; isn't in jdk11</p>\n<p>And it have been removed</p>\n<p>And unity 2022 is using Jdk 11 and sdkmanger.bat need jdk8 to run and build my app in unity because jdk8 has the &quot;java tool option&quot;</p>\n<p>And the only solution to build in unity 2022 if I want is to export project to android studie and build it from there and it is not an good idea to do</p>\n<p>So can any one help me with that problem</p>\n<p>I tried to replace android commend tools and change sdk and jdk And nothing works</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":14544626,"reputation":129,"user_id":10505187,"display_name":"fixcer"},"score":0,"creation_date":1687742506,"post_id":76552997,"comment_id":134974431,"body_markdown":"Have you tried adding this dependency in pom\n&lt;dependency&gt;\n    &lt;groupId&gt;jakarta.validation&lt;/groupId&gt;\n    &lt;artifactId&gt;jakarta.validation-api&lt;/artifactId&gt;\n    &lt;version&gt;3.0.2&lt;/version&gt;\n&lt;/dependency&gt;","body":"Have you tried adding this dependency in pom &lt;dependency&gt;     &lt;groupId&gt;jakarta.validation&lt;/groupId&gt;     &lt;artifactId&gt;jakarta.validation-api&lt;/artifactId&gt;     &lt;version&gt;3.0.2&lt;/version&gt; &lt;/dependency&gt;"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1687762316,"post_id":76552997,"comment_id":134976330,"body_markdown":"For starters I would suggest using 3.1.1 as the version instead of some old milestone release and as you are using Eclipse make sure it is properly refreshed and you have imported your project as a Maven one.","body":"For starters I would suggest using 3.1.1 as the version instead of some old milestone release and as you are using Eclipse make sure it is properly refreshed and you have imported your project as a Maven one."}],"answers":[{"tags":[],"owner":{"account_id":28695489,"reputation":611,"user_id":21973805,"display_name":"Ahmed Nabil"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1687745774,"creation_date":1687745774,"answer_id":76553179,"question_id":76552997,"body_markdown":"you have this dependency `spring-boot-starter-validation` so it should work, try good old restart of eclipse and make sure maven did pull the dependency","title":"Import of jakarta.validation missing","body":"<p>you have this dependency <code>spring-boot-starter-validation</code> so it should work, try good old restart of eclipse and make sure maven did pull the dependency</p>\n"},{"tags":[],"owner":{"account_id":6747492,"reputation":128,"user_id":5198649,"display_name":"Jorge Pirela"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696377217,"creation_date":1696377217,"answer_id":77226022,"question_id":76552997,"body_markdown":"Add this dependency in pom.xml\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;jakarta.validation&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jakarta.validation-api&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.2&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"Import of jakarta.validation missing","body":"<p>Add this dependency in pom.xml</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;jakarta.validation&lt;/groupId&gt;\n    &lt;artifactId&gt;jakarta.validation-api&lt;/artifactId&gt;\n    &lt;version&gt;3.0.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":13828568,"reputation":113,"user_id":9982139,"display_name":"keiichi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1553,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76553179,"answer_count":2,"score":0,"last_activity_date":1696377217,"creation_date":1687741802,"question_id":76552997,"body_markdown":"I&#39;m following and online course on Springboot MVC. I&#39;m working with Springboot 3.1.0-M1 version, java 17 and Eclipse 2022-09.\r\nNow the course tells me to use the annotation @Valid in the file UserResource.java for the validation of the input.\r\nThis annotation should import the library\r\n```import jakarta.validation.Valid``` but Eclipse does not give me this possibility: the library of jakarta.validation is not in list that Eclipse propones me. Morover, if i try to add manually that libray (```jakarta.validation.*```), Eclipse underlines that code line in red and tells me that ```The import jakarta.validation cannot be resolved```. \r\nthe @Valid annotation return me the following message: ```Valid cannot be resolved to a type```.\r\nI tried to import the library ```javax.validation.Valid``` without results.\r\nIf i write ```jakarta.``` in Eclipse for import a libray, the system return me a lot of libraries (ie: jakarta.ammotation, jakarta.servlet) but not the validation library. \r\n\r\npom.xml\r\n   ```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.1.0-M1&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.in28minutes.rest.webservices&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;restful-web-services&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;restful-web-services&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\t&lt;repositories&gt;\r\n\t\t&lt;repository&gt;\r\n\t\t\t&lt;id&gt;spring-milestones&lt;/id&gt;\r\n\t\t\t&lt;name&gt;Spring Milestones&lt;/name&gt;\r\n\t\t\t&lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\r\n\t\t\t&lt;snapshots&gt;\r\n\t\t\t\t&lt;enabled&gt;false&lt;/enabled&gt;\r\n\t\t\t&lt;/snapshots&gt;\r\n\t\t&lt;/repository&gt;\r\n\t&lt;/repositories&gt;\r\n\t&lt;pluginRepositories&gt;\r\n\t\t&lt;pluginRepository&gt;\r\n\t\t\t&lt;id&gt;spring-milestones&lt;/id&gt;\r\n\t\t\t&lt;name&gt;Spring Milestones&lt;/name&gt;\r\n\t\t\t&lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\r\n\t\t\t&lt;snapshots&gt;\r\n\t\t\t\t&lt;enabled&gt;false&lt;/enabled&gt;\r\n\t\t\t&lt;/snapshots&gt;\r\n\t\t&lt;/pluginRepository&gt;\r\n\t&lt;/pluginRepositories&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\nUserResouce.java\r\n\r\n    package com.in28minutes.rest.webservices.restfulwebservices.user;\r\n    \r\n    import java.net.URI;\r\n    import java.util.List;\r\n    import org.springframework.http.ResponseEntity;\r\n    import org.springframework.web.bind.annotation.DeleteMapping;\r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    import org.springframework.web.bind.annotation.PathVariable;\r\n    import org.springframework.web.bind.annotation.PostMapping;\r\n    import org.springframework.web.bind.annotation.RequestBody;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    import org.springframework.web.servlet.support.ServletUriComponentsBuilder;\r\n    \r\n    import javax.validation.*;\r\n    \r\n    @RestController\r\n    public class UserResource {\r\n    \t\r\n    \tprivate UserDaoService service;\r\n    \t\r\n    \tpublic UserResource(UserDaoService service) {\r\n    \t\tthis.service = service;\r\n    \t}\r\n    \r\n    \t@GetMapping(&quot;/users&quot;)\r\n    \tpublic List&lt;User&gt; retriveAllUsers() {\r\n    \t\treturn service.findAll();\r\n    \t}\r\n    \t \r\n    \t@GetMapping(&quot;/users/{id}&quot;)\r\n    \tpublic User retriveUser(@PathVariable int id) {\r\n    \t\tUser user = service.findOne(id);\r\n    \t\t\r\n    \t\tif (user==null)\r\n    \t\t\tthrow new UserNotFoundException(&quot;id:&quot;+id);\r\n    \t\t\r\n    \t\treturn user;\r\n    \t}\r\n    \t\r\n    \t@DeleteMapping(&quot;/users/{id}&quot;)\r\n    \tpublic void deleteUser(@PathVariable int id) {\r\n    \t\tservice.deleteById(id);\r\n    \t}\r\n    \t\r\n    \t@PostMapping(&quot;/users&quot;)\r\n    \tpublic ResponseEntity&lt;User&gt; createUser(@Valid @RequestBody User user) {\r\n    \t\tUser savedUser = service.save(user);\r\n    \t\tURI location = ServletUriComponentsBuilder.fromCurrentRequest().path(&quot;/{id}&quot;).buildAndExpand(savedUser.getId()).toUri();\r\n    \t\treturn ResponseEntity.created(location).build();\r\n    \t}\r\n    }\r\n\r\n\r\nWhat am I wronging?\r\nThanks\r\n","title":"Import of jakarta.validation missing","body":"<p>I'm following and online course on Springboot MVC. I'm working with Springboot 3.1.0-M1 version, java 17 and Eclipse 2022-09.\nNow the course tells me to use the annotation @Valid in the file UserResource.java for the validation of the input.\nThis annotation should import the library\n<code>import jakarta.validation.Valid</code> but Eclipse does not give me this possibility: the library of jakarta.validation is not in list that Eclipse propones me. Morover, if i try to add manually that libray (<code>jakarta.validation.*</code>), Eclipse underlines that code line in red and tells me that <code>The import jakarta.validation cannot be resolved</code>.\nthe @Valid annotation return me the following message: <code>Valid cannot be resolved to a type</code>.\nI tried to import the library <code>javax.validation.Valid</code> without results.\nIf i write <code>jakarta.</code> in Eclipse for import a libray, the system return me a lot of libraries (ie: jakarta.ammotation, jakarta.servlet) but not the validation library.</p>\n<p>pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n &lt;parent&gt;\n     &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n     &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n     &lt;version&gt;3.1.0-M1&lt;/version&gt;\n     &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n &lt;/parent&gt;\n &lt;groupId&gt;com.in28minutes.rest.webservices&lt;/groupId&gt;\n &lt;artifactId&gt;restful-web-services&lt;/artifactId&gt;\n &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n &lt;name&gt;restful-web-services&lt;/name&gt;\n &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n &lt;properties&gt;\n     &lt;java.version&gt;17&lt;/java.version&gt;\n &lt;/properties&gt;\n &lt;dependencies&gt;\n     &lt;dependency&gt;\n         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n         &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n     &lt;/dependency&gt;\n     &lt;dependency&gt;\n         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n         &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n     &lt;/dependency&gt;\n\n     &lt;dependency&gt;\n         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n         &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n     &lt;/dependency&gt;\n     \n     &lt;dependency&gt;\n         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n         &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n         &lt;scope&gt;runtime&lt;/scope&gt;\n         &lt;optional&gt;true&lt;/optional&gt;\n     &lt;/dependency&gt;\n     &lt;dependency&gt;\n         &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n         &lt;artifactId&gt;h2&lt;/artifactId&gt;\n         &lt;scope&gt;runtime&lt;/scope&gt;\n     &lt;/dependency&gt;\n     &lt;dependency&gt;\n         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n         &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n         &lt;scope&gt;test&lt;/scope&gt;\n     &lt;/dependency&gt;\n &lt;/dependencies&gt;\n\n &lt;build&gt;\n     &lt;plugins&gt;\n         &lt;plugin&gt;\n             &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n             &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n         &lt;/plugin&gt;\n     &lt;/plugins&gt;\n &lt;/build&gt;\n &lt;repositories&gt;\n     &lt;repository&gt;\n         &lt;id&gt;spring-milestones&lt;/id&gt;\n         &lt;name&gt;Spring Milestones&lt;/name&gt;\n         &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\n         &lt;snapshots&gt;\n             &lt;enabled&gt;false&lt;/enabled&gt;\n         &lt;/snapshots&gt;\n     &lt;/repository&gt;\n &lt;/repositories&gt;\n &lt;pluginRepositories&gt;\n     &lt;pluginRepository&gt;\n         &lt;id&gt;spring-milestones&lt;/id&gt;\n         &lt;name&gt;Spring Milestones&lt;/name&gt;\n         &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\n         &lt;snapshots&gt;\n             &lt;enabled&gt;false&lt;/enabled&gt;\n         &lt;/snapshots&gt;\n     &lt;/pluginRepository&gt;\n &lt;/pluginRepositories&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>UserResouce.java</p>\n<pre><code>package com.in28minutes.rest.webservices.restfulwebservices.user;\n\nimport java.net.URI;\nimport java.util.List;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.DeleteMapping;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PathVariable;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RestController;\nimport org.springframework.web.servlet.support.ServletUriComponentsBuilder;\n\nimport javax.validation.*;\n\n@RestController\npublic class UserResource {\n    \n    private UserDaoService service;\n    \n    public UserResource(UserDaoService service) {\n        this.service = service;\n    }\n\n    @GetMapping(&quot;/users&quot;)\n    public List&lt;User&gt; retriveAllUsers() {\n        return service.findAll();\n    }\n     \n    @GetMapping(&quot;/users/{id}&quot;)\n    public User retriveUser(@PathVariable int id) {\n        User user = service.findOne(id);\n        \n        if (user==null)\n            throw new UserNotFoundException(&quot;id:&quot;+id);\n        \n        return user;\n    }\n    \n    @DeleteMapping(&quot;/users/{id}&quot;)\n    public void deleteUser(@PathVariable int id) {\n        service.deleteById(id);\n    }\n    \n    @PostMapping(&quot;/users&quot;)\n    public ResponseEntity&lt;User&gt; createUser(@Valid @RequestBody User user) {\n        User savedUser = service.save(user);\n        URI location = ServletUriComponentsBuilder.fromCurrentRequest().path(&quot;/{id}&quot;).buildAndExpand(savedUser.getId()).toUri();\n        return ResponseEntity.created(location).build();\n    }\n}\n</code></pre>\n<p>What am I wronging?\nThanks</p>\n"},{"tags":["java","android","android-asynctask","textview","grid-layout"],"comments":[{"owner":{"account_id":3992817,"reputation":5448,"user_id":3291164,"accept_rate":67,"display_name":"reinaldomoreira"},"score":0,"creation_date":1496165107,"post_id":44268155,"comment_id":75544739,"body_markdown":"maybe you can return just the texts from the async task and create the textviews ... or you can use runOnuiThread() method explained here: https://stackoverflow.com/questions/12850143/android-basics-running-code-in-the-ui-thread","body":"maybe you can return just the texts from the async task and create the textviews ... or you can use runOnuiThread() method explained here: <a href=\"https://stackoverflow.com/questions/12850143/android-basics-running-code-in-the-ui-thread\" title=\"android basics running code in the ui thread\">stackoverflow.com/questions/12850143/&hellip;</a>"},{"owner":{"account_id":9309058,"reputation":538,"user_id":6911606,"display_name":"sivaprakash"},"score":0,"creation_date":1496165849,"post_id":44268155,"comment_id":75545118,"body_markdown":"Just include the list-view -&gt; text-view. Based on the size of the array-list text-view is created dynamically.","body":"Just include the list-view -&gt; text-view. Based on the size of the array-list text-view is created dynamically."},{"owner":{"account_id":994468,"reputation":508,"user_id":1584926,"accept_rate":33,"display_name":"Susheel Tickoo"},"score":0,"creation_date":1496165925,"post_id":44268155,"comment_id":75545160,"body_markdown":"In place of grid view try to use either a recycler view or an expandable list view with adapters.","body":"In place of grid view try to use either a recycler view or an expandable list view with adapters."},{"owner":{"account_id":5156722,"reputation":457,"user_id":4129771,"accept_rate":25,"display_name":"Bruno Fernandez Ellerbach"},"score":0,"creation_date":1496167029,"post_id":44268155,"comment_id":75545734,"body_markdown":"@ViperAlpha how can I send anything from an AsyncTask to the main thread? because the main thread won&#39;t wait for the other thread to finish.","body":"@ViperAlpha how can I send anything from an AsyncTask to the main thread? because the main thread won&#39;t wait for the other thread to finish."},{"owner":{"account_id":3992817,"reputation":5448,"user_id":3291164,"accept_rate":67,"display_name":"reinaldomoreira"},"score":0,"creation_date":1496167122,"post_id":44268155,"comment_id":75545789,"body_markdown":"@BrunoFernandez you can call RunOnUiThread method from Activity Class, this way, the Android will run it in the Main Thread, see the link I posted. You just need a Context object.","body":"@BrunoFernandez you can call RunOnUiThread method from Activity Class, this way, the Android will run it in the Main Thread, see the link I posted. You just need a Context object."}],"answers":[{"tags":[],"owner":{"account_id":8632662,"reputation":1133,"user_id":6463821,"accept_rate":75,"display_name":"Oleg Sokolov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1496203908,"creation_date":1496170903,"answer_id":44269987,"question_id":44268155,"body_markdown":"You have to split your logic, search data in the DB in AsyncTask or simple new Thread() and then create UI elements and attach them in UI thread. \r\n\r\n    mActivity\r\n           .runOnUiThread(\r\n                   new Runnable() {\r\n     \r\n                        @Override\r\n                        public void run() {\r\n                            //create a TextView, and add it to the gridLayout\r\n                        }\r\n                    });\r\n\r\n","title":"How to generate a TextView on AsyncTask and place it on a GridLayout?","body":"<p>You have to split your logic, search data in the DB in AsyncTask or simple new Thread() and then create UI elements and attach them in UI thread. </p>\n\n<pre><code>mActivity\n       .runOnUiThread(\n               new Runnable() {\n\n                    @Override\n                    public void run() {\n                        //create a TextView, and add it to the gridLayout\n                    }\n                });\n</code></pre>\n"}],"owner":{"account_id":5156722,"reputation":457,"user_id":4129771,"accept_rate":25,"display_name":"Bruno Fernandez Ellerbach"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696376438,"creation_date":1496164302,"question_id":44268155,"body_markdown":"This is my situation:\r\nI have a GridLayout (which has some textviews in some cells of it right at the beginning of the activity, but I will change it to generate those textviews dynamically later) and I want to place some textViews in a few cells of it.\r\n\r\nThe problem: I don&#39;t know how many textViews I will need. It depends of the information of the database. Besides, I don&#39;t know how to add the textViews generated to the gridLayout from an AsyncTask.\r\n\r\nSo, I&#39;ve been looking for some answers but I couldn&#39;t make it work. I tried something like [this](https://stackoverflow.com/a/33626172/4129771), but is not exactly what I&#39;m looking for (I create a new TextView, but can&#39;t add it to the gridLayout from that thread).\r\nThis is the workflow of my app:\r\n\r\n1&#186; I start the activity with the gridLayout. It has some textViews:\r\n![image](https://image.ibb.co/gD2NSa/screen_gridlayout.png)\r\n\r\nThis is the main Activity:\r\n\r\n    public class MostrarProyectos extends AppCompatActivity {\r\n\r\n    private final String TAG = &quot;MostrarProyectos&quot;;\r\n\r\n    //Para obtener de un hilo no principal los proyectos:\r\n    public static ArrayList&lt;Proyecto&gt; listaDeProyectos = new ArrayList&lt;&gt;();\r\n\r\n    public GridLayout grid;\r\n\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_mostrar_proyectos);\r\n\r\n            grid = (GridLayout) findViewById(R.id.grid);\r\n\r\n            EstrategiaObtenerObjetoDB e = FabricaEstrategiaObtenerDB.getInstance().construirEstrategia(&quot;proyecto&quot;, this); //This is a Fabric, which obtains a Strategy\r\n            e.execute(this.getApplicationContext(), &quot;proyecto&quot;, this, this.grid);//I sent a lot of things to test if something gives result\r\n        }\r\n    }\r\n    \r\n2&#186; In that main class, I started a new Thread with AsyncTask, to get data from a SQLite DB.\r\nThis is the Fabric:\r\n\r\n    public class FabricaEstrategiaObtenerDB {\r\n        private static final FabricaEstrategiaObtenerDB ourInstance = new FabricaEstrategiaObtenerDB();\r\n\r\n        public static FabricaEstrategiaObtenerDB getInstance() {\r\n            return ourInstance;\r\n        }\r\n\r\n        private FabricaEstrategiaObtenerDB() {}\r\n\r\n        public EstrategiaObtenerObjetoDB construirEstrategia(String tabla, Activity acti){\r\n            switch(tabla){\r\n    //Some other cases\r\n            case &quot;proyecto&quot;:\r\n                EstrategiaObtenerObjetoDBProyecto p = new EstrategiaObtenerObjetoDBProyecto(acti, new onTextViewCreatedListener() {\r\n                    @Override\r\n                    public void onTextViewCreated(TextView tv) {\r\n                    //I don&#39;t know what to do here\r\n                    }\r\n                }); //This code I tried from the other stackOverflow answer\r\n                return p;\r\n            default:\r\n                return null;\r\n        }\r\n    }\r\n    }\r\n\r\nThis an abstract class to obtain objects from the DB:\r\n\r\n    public abstract class EstrategiaObtenerObjetoDB extends AsyncTask&lt;Object, Void, ArrayList&lt;Object&gt;&gt; {\r\n\r\n    protected onTextViewCreatedListener onTextViewCreatedListener; //part of the code from the other StackOverflow user.\r\n    Activity miActividad;\r\n\r\n    public EstrategiaObtenerObjetoDB(Activity act, onTextViewCreatedListener onTextViewCreatedListener){\r\n        this.onTextViewCreatedListener = onTextViewCreatedListener; //This is too code from the other user.\r\n        this.miActividad = act;\r\n    }\r\n\r\n    @Override\r\n    protected ArrayList&lt;Object&gt; doInBackground(Object... params) {\r\n        AppDbHelper mDbHelper = new AppDbHelper(miActividad.getApplicationContext()); \r\n        SQLiteDatabase db = mDbHelper.getReadableDatabase();\r\n\r\n        String[] projection = obtenerSelect();\r\n\r\n        Cursor c = armarQuery(db, (String)params[1], projection); //params[1] is the name of the table in the DB\r\n        ArrayList&lt;Object&gt; arrayDeObjetos = new ArrayList&lt;&gt;();\r\n\r\n        try{\r\n            arrayDeObjetos.add(miActividad.getApplicationContext());//add the context\r\n            arrayDeObjetos.add(miActividad.findViewById(R.id.grid));//add the grid\r\n            armarObjetos(c);\r\n            return arrayDeObjetos;\r\n        }catch (Exception e){\r\n            String b = e.getMessage();\r\n            return null;\r\n        }\r\n    }\r\n\r\n\r\n    @Override\r\n    protected abstract void onPostExecute(ArrayList&lt;Object&gt; objects);\r\n\r\n    protected abstract String[] obtenerSelect();\r\n\r\n    protected abstract Cursor armarQuery(SQLiteDatabase db, String tabla, String[] projection);\r\n\r\n    protected abstract void armarObjetos(Cursor c);\r\n    \r\n    }\r\n\r\nAnd this is the specific Strategy:\r\n\r\n    public class EstrategiaObtenerObjetoDBProyecto extends EstrategiaObtenerObjetoDB {\r\n\r\n    public EstrategiaObtenerObjetoDBProyecto(Activity act,onTextViewCreatedListener onTextViewCreatedListener) {\r\n        super(act,onTextViewCreatedListener);\r\n    }\r\n\r\n    @Override\r\n    protected String[] obtenerSelect() {\r\n        String[] projection = {\r\n                AppContract.Proyecto._ID,\r\n                AppContract.Proyecto.COLUMN_NOMBRE,\r\n                AppContract.Proyecto.COLUMN_DESCRIPCION,\r\n                AppContract.Proyecto.COLUMN_PRIORIDAD,\r\n                AppContract.Proyecto.COLUMN_ANIO,\r\n                AppContract.Proyecto.COLUMN_MES,\r\n                AppContract.Proyecto.COLUMN_SEMANA,\r\n                AppContract.Proyecto.COLUMN_DURACION,\r\n        };\r\n        return projection;\r\n    }\r\n\r\n    @Override\r\n    protected Cursor armarQuery(SQLiteDatabase db, String tabla, String[] projection) {\r\n        Cursor cursor = db.query(\r\n                tabla,\r\n                projection,\r\n                null,\r\n                null,\r\n                null,\r\n                null,\r\n                null\r\n        );\r\n        return cursor;\r\n    }\r\n\r\n    @Override\r\n    protected void armarObjetos(Cursor c) {\r\n        c.moveToFirst();\r\n\r\n        ArrayList&lt;Object&gt; proyectos = new ArrayList&lt;&gt;();\r\n        do {\r\n            try{\r\n                String nombre = c.getString(c.getColumnIndex(AppContract.Proyecto.COLUMN_NOMBRE));\r\n                String descripcion = c.getString(c.getColumnIndex(AppContract.Proyecto.COLUMN_DESCRIPCION));\r\n                String prioridad = c.getString(c.getColumnIndex(AppContract.Proyecto.COLUMN_PRIORIDAD));\r\n                String anio = c.getString(c.getColumnIndex(AppContract.Proyecto.COLUMN_ANIO));\r\n                String mes = c.getString(c.getColumnIndex(AppContract.Proyecto.COLUMN_MES));\r\n                String semana = c.getString(c.getColumnIndex(AppContract.Proyecto.COLUMN_SEMANA));\r\n                String duracion = c.getString(c.getColumnIndex(AppContract.Proyecto.COLUMN_DURACION));\r\n                Proyecto p = new Proyecto(nombre,descripcion, prioridad, anio, mes, semana, duracion);\r\n                MostrarProyectos.listaDeProyectos.add(p);\r\n                proyectos.add(p);\r\n            }catch(Exception e){\r\n                Log.d(&quot;EstrategiaObtenerPr&quot;,e.getMessage());\r\n            }\r\n        } while (c.moveToNext());\r\n\r\n    }\r\n\r\n    @Override\r\n    protected void onPostExecute(ArrayList&lt;Object&gt; objects) {\r\n        MostrarProyectos.listaDeProyectos.add((Proyecto)objects.get(i));\r\n\r\n        GridLayout grid = (GridLayout) miActividad.findViewById(R.id.grid);\r\n        if(!MostrarProyectos.listaDeProyectos.isEmpty()){\r\n            for(int numeroTemporal = 0; numeroTemporal&lt;MostrarProyectos.listaDeProyectos.size();numeroTemporal++){\r\n                Proyecto j = MostrarProyectos.listaDeProyectos.get(numeroTemporal);\r\n                TextView text = new TextView(miActividad.getApplicationContext());\r\n                text.setText(j.getNombre());\r\n                int numFila = MostrarProyectos.contarFilas(j.getMes(), j.getSemana());\r\n                GridLayout.LayoutParams params3 = new GridLayout.LayoutParams();\r\n                params3.rowSpec = GridLayout.spec(numFila);//,Integer.parseInt(j.getDuracion())\r\n                Log.d(&quot;MostrarProyecto&quot;, numFila+&quot;,&quot;+Integer.parseInt(j.getDuracion()));\r\n                params3.columnSpec = GridLayout.spec(3);\r\n                text.setLayoutParams(params3);\r\n\r\n                try{\r\n                    if(onTextViewCreatedListener!=null){\r\n                       onTextViewCreatedListener.onTextViewCreated(text);//from the other user\r\n\r\n                    }\r\n                }catch (Exception excepcion){\r\n                    Log.d(&quot;MostrarProyecto&quot;, excepcion.getMessage());\r\n                }\r\n            }\r\n        }\r\n        else{\r\n            Toast.makeText(miActividad.getApplicationContext(),&quot;No hay proyectos&quot;,Toast.LENGTH_LONG);\r\n        }\r\n        MostrarProyectos.terminoCargaDatos = true;\r\n    }\r\n    }\r\n\r\n3&#186; After I get the data, I want to generate as many TextViews as objects I&#39;ve got from the DB, so I use a &#39;for&#39; to see how many objects I have inside a temporal list I created. For each object, I want to create a TextView, and add it to the gridLayout (that is on the main thread).\r\n\r\nAnd finally, an interface from the other answer:\r\n\r\n    public interface onTextViewCreatedListener {\r\n        public void onTextViewCreated(TextView tv);\r\n    }\r\n\r\nI hope you can help me. Thank you.\r\n\r\n**EDIT_1:** I need to use other thread different from the UI thread because I need to search in the DB the data.","title":"How to generate a TextView on AsyncTask and place it on a GridLayout?","body":"<p>This is my situation:\nI have a GridLayout (which has some textviews in some cells of it right at the beginning of the activity, but I will change it to generate those textviews dynamically later) and I want to place some textViews in a few cells of it.</p>\n<p>The problem: I don't know how many textViews I will need. It depends of the information of the database. Besides, I don't know how to add the textViews generated to the gridLayout from an AsyncTask.</p>\n<p>So, I've been looking for some answers but I couldn't make it work. I tried something like <a href=\"https://stackoverflow.com/a/33626172/4129771\">this</a>, but is not exactly what I'm looking for (I create a new TextView, but can't add it to the gridLayout from that thread).\nThis is the workflow of my app:</p>\n<p>1º I start the activity with the gridLayout. It has some textViews:\n<img src=\"https://image.ibb.co/gD2NSa/screen_gridlayout.png\" alt=\"image\" /></p>\n<p>This is the main Activity:</p>\n<pre><code>public class MostrarProyectos extends AppCompatActivity {\n\nprivate final String TAG = &quot;MostrarProyectos&quot;;\n\n//Para obtener de un hilo no principal los proyectos:\npublic static ArrayList&lt;Proyecto&gt; listaDeProyectos = new ArrayList&lt;&gt;();\n\npublic GridLayout grid;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_mostrar_proyectos);\n\n        grid = (GridLayout) findViewById(R.id.grid);\n\n        EstrategiaObtenerObjetoDB e = FabricaEstrategiaObtenerDB.getInstance().construirEstrategia(&quot;proyecto&quot;, this); //This is a Fabric, which obtains a Strategy\n        e.execute(this.getApplicationContext(), &quot;proyecto&quot;, this, this.grid);//I sent a lot of things to test if something gives result\n    }\n}\n</code></pre>\n<p>2º In that main class, I started a new Thread with AsyncTask, to get data from a SQLite DB.\nThis is the Fabric:</p>\n<pre><code>public class FabricaEstrategiaObtenerDB {\n    private static final FabricaEstrategiaObtenerDB ourInstance = new FabricaEstrategiaObtenerDB();\n\n    public static FabricaEstrategiaObtenerDB getInstance() {\n        return ourInstance;\n    }\n\n    private FabricaEstrategiaObtenerDB() {}\n\n    public EstrategiaObtenerObjetoDB construirEstrategia(String tabla, Activity acti){\n        switch(tabla){\n//Some other cases\n        case &quot;proyecto&quot;:\n            EstrategiaObtenerObjetoDBProyecto p = new EstrategiaObtenerObjetoDBProyecto(acti, new onTextViewCreatedListener() {\n                @Override\n                public void onTextViewCreated(TextView tv) {\n                //I don't know what to do here\n                }\n            }); //This code I tried from the other stackOverflow answer\n            return p;\n        default:\n            return null;\n    }\n}\n}\n</code></pre>\n<p>This an abstract class to obtain objects from the DB:</p>\n<pre><code>public abstract class EstrategiaObtenerObjetoDB extends AsyncTask&lt;Object, Void, ArrayList&lt;Object&gt;&gt; {\n\nprotected onTextViewCreatedListener onTextViewCreatedListener; //part of the code from the other StackOverflow user.\nActivity miActividad;\n\npublic EstrategiaObtenerObjetoDB(Activity act, onTextViewCreatedListener onTextViewCreatedListener){\n    this.onTextViewCreatedListener = onTextViewCreatedListener; //This is too code from the other user.\n    this.miActividad = act;\n}\n\n@Override\nprotected ArrayList&lt;Object&gt; doInBackground(Object... params) {\n    AppDbHelper mDbHelper = new AppDbHelper(miActividad.getApplicationContext()); \n    SQLiteDatabase db = mDbHelper.getReadableDatabase();\n\n    String[] projection = obtenerSelect();\n\n    Cursor c = armarQuery(db, (String)params[1], projection); //params[1] is the name of the table in the DB\n    ArrayList&lt;Object&gt; arrayDeObjetos = new ArrayList&lt;&gt;();\n\n    try{\n        arrayDeObjetos.add(miActividad.getApplicationContext());//add the context\n        arrayDeObjetos.add(miActividad.findViewById(R.id.grid));//add the grid\n        armarObjetos(c);\n        return arrayDeObjetos;\n    }catch (Exception e){\n        String b = e.getMessage();\n        return null;\n    }\n}\n\n\n@Override\nprotected abstract void onPostExecute(ArrayList&lt;Object&gt; objects);\n\nprotected abstract String[] obtenerSelect();\n\nprotected abstract Cursor armarQuery(SQLiteDatabase db, String tabla, String[] projection);\n\nprotected abstract void armarObjetos(Cursor c);\n\n}\n</code></pre>\n<p>And this is the specific Strategy:</p>\n<pre><code>public class EstrategiaObtenerObjetoDBProyecto extends EstrategiaObtenerObjetoDB {\n\npublic EstrategiaObtenerObjetoDBProyecto(Activity act,onTextViewCreatedListener onTextViewCreatedListener) {\n    super(act,onTextViewCreatedListener);\n}\n\n@Override\nprotected String[] obtenerSelect() {\n    String[] projection = {\n            AppContract.Proyecto._ID,\n            AppContract.Proyecto.COLUMN_NOMBRE,\n            AppContract.Proyecto.COLUMN_DESCRIPCION,\n            AppContract.Proyecto.COLUMN_PRIORIDAD,\n            AppContract.Proyecto.COLUMN_ANIO,\n            AppContract.Proyecto.COLUMN_MES,\n            AppContract.Proyecto.COLUMN_SEMANA,\n            AppContract.Proyecto.COLUMN_DURACION,\n    };\n    return projection;\n}\n\n@Override\nprotected Cursor armarQuery(SQLiteDatabase db, String tabla, String[] projection) {\n    Cursor cursor = db.query(\n            tabla,\n            projection,\n            null,\n            null,\n            null,\n            null,\n            null\n    );\n    return cursor;\n}\n\n@Override\nprotected void armarObjetos(Cursor c) {\n    c.moveToFirst();\n\n    ArrayList&lt;Object&gt; proyectos = new ArrayList&lt;&gt;();\n    do {\n        try{\n            String nombre = c.getString(c.getColumnIndex(AppContract.Proyecto.COLUMN_NOMBRE));\n            String descripcion = c.getString(c.getColumnIndex(AppContract.Proyecto.COLUMN_DESCRIPCION));\n            String prioridad = c.getString(c.getColumnIndex(AppContract.Proyecto.COLUMN_PRIORIDAD));\n            String anio = c.getString(c.getColumnIndex(AppContract.Proyecto.COLUMN_ANIO));\n            String mes = c.getString(c.getColumnIndex(AppContract.Proyecto.COLUMN_MES));\n            String semana = c.getString(c.getColumnIndex(AppContract.Proyecto.COLUMN_SEMANA));\n            String duracion = c.getString(c.getColumnIndex(AppContract.Proyecto.COLUMN_DURACION));\n            Proyecto p = new Proyecto(nombre,descripcion, prioridad, anio, mes, semana, duracion);\n            MostrarProyectos.listaDeProyectos.add(p);\n            proyectos.add(p);\n        }catch(Exception e){\n            Log.d(&quot;EstrategiaObtenerPr&quot;,e.getMessage());\n        }\n    } while (c.moveToNext());\n\n}\n\n@Override\nprotected void onPostExecute(ArrayList&lt;Object&gt; objects) {\n    MostrarProyectos.listaDeProyectos.add((Proyecto)objects.get(i));\n\n    GridLayout grid = (GridLayout) miActividad.findViewById(R.id.grid);\n    if(!MostrarProyectos.listaDeProyectos.isEmpty()){\n        for(int numeroTemporal = 0; numeroTemporal&lt;MostrarProyectos.listaDeProyectos.size();numeroTemporal++){\n            Proyecto j = MostrarProyectos.listaDeProyectos.get(numeroTemporal);\n            TextView text = new TextView(miActividad.getApplicationContext());\n            text.setText(j.getNombre());\n            int numFila = MostrarProyectos.contarFilas(j.getMes(), j.getSemana());\n            GridLayout.LayoutParams params3 = new GridLayout.LayoutParams();\n            params3.rowSpec = GridLayout.spec(numFila);//,Integer.parseInt(j.getDuracion())\n            Log.d(&quot;MostrarProyecto&quot;, numFila+&quot;,&quot;+Integer.parseInt(j.getDuracion()));\n            params3.columnSpec = GridLayout.spec(3);\n            text.setLayoutParams(params3);\n\n            try{\n                if(onTextViewCreatedListener!=null){\n                   onTextViewCreatedListener.onTextViewCreated(text);//from the other user\n\n                }\n            }catch (Exception excepcion){\n                Log.d(&quot;MostrarProyecto&quot;, excepcion.getMessage());\n            }\n        }\n    }\n    else{\n        Toast.makeText(miActividad.getApplicationContext(),&quot;No hay proyectos&quot;,Toast.LENGTH_LONG);\n    }\n    MostrarProyectos.terminoCargaDatos = true;\n}\n}\n</code></pre>\n<p>3º After I get the data, I want to generate as many TextViews as objects I've got from the DB, so I use a 'for' to see how many objects I have inside a temporal list I created. For each object, I want to create a TextView, and add it to the gridLayout (that is on the main thread).</p>\n<p>And finally, an interface from the other answer:</p>\n<pre><code>public interface onTextViewCreatedListener {\n    public void onTextViewCreated(TextView tv);\n}\n</code></pre>\n<p>I hope you can help me. Thank you.</p>\n<p><strong>EDIT_1:</strong> I need to use other thread different from the UI thread because I need to search in the DB the data.</p>\n"},{"tags":["java","spring","redis","spring-data-redis"],"answers":[{"tags":[],"owner":{"account_id":529477,"reputation":1533,"user_id":1234412,"display_name":"BSB"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696374515,"creation_date":1696374515,"answer_id":77225922,"question_id":77225818,"body_markdown":"To retrieve a Hash by key use \r\n`HGETALL &lt;mykey&gt;`, retrieves the whole hash, if you just want a certain name-value pair from the hash, then do `HGET &lt;mykey&gt; &lt;myname&gt;` and you get a single value back.","title":"How do I &#39;lookup&#39; a Redis value shoved into Redis by Spring&#39;s RedisTemplate with the redis-clI?","body":"<p>To retrieve a Hash by key use\n<code>HGETALL &lt;mykey&gt;</code>, retrieves the whole hash, if you just want a certain name-value pair from the hash, then do <code>HGET &lt;mykey&gt; &lt;myname&gt;</code> and you get a single value back.</p>\n"},{"tags":[],"owner":{"account_id":14402680,"reputation":312,"user_id":10403784,"display_name":"Vadim Yemelyanov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1696374738,"creation_date":1696374738,"answer_id":77225930,"question_id":77225818,"body_markdown":"You are using HASHSET in Redis, so you have to use \r\n\r\n`HGETALL key `\r\n\r\n`HGET key field` \r\n\r\nAs i can see from code -  your key is `someDamn` and field is `urn:com.example.object-ref:version:2f7dcb42-a27d-4c9f-88d4-8721b3642792`\r\n\r\nOfficial documentation also contains some examples if you will need them\r\nhttps://redis.io/commands/hget/ ","title":"How do I &#39;lookup&#39; a Redis value shoved into Redis by Spring&#39;s RedisTemplate with the redis-clI?","body":"<p>You are using HASHSET in Redis, so you have to use</p>\n<p><code>HGETALL key </code></p>\n<p><code>HGET key field</code></p>\n<p>As i can see from code -  your key is <code>someDamn</code> and field is <code>urn:com.example.object-ref:version:2f7dcb42-a27d-4c9f-88d4-8721b3642792</code></p>\n<p>Official documentation also contains some examples if you will need them\n<a href=\"https://redis.io/commands/hget/\" rel=\"nofollow noreferrer\">https://redis.io/commands/hget/</a></p>\n"}],"owner":{"account_id":351709,"reputation":10880,"user_id":688355,"accept_rate":87,"display_name":"Bob Kuhar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77225930,"answer_count":2,"score":0,"last_activity_date":1696374738,"creation_date":1696372081,"question_id":77225818,"body_markdown":"I have some Java code implemented in Spring that persists a Java Bean like...\r\n\r\n```\r\n@Repository\r\npublic class SomeDamnRedisRepository {\r\n  private static final String KEY = &quot;someDamn&quot;;\r\n  private static final Logger LOG = LoggerFactory.getLogger(SomeDamnRedisRepository.class);\r\n  ...\r\n  private RedisTemplate&lt;String, Object&gt; redisTemplate;\r\n  private HashOperations hashOps;\r\n\r\n  @Autowired\r\n  public SomeDamnRedisRepository(RedisTemplate redisTemplate) {\r\n    this.redisTemplate = redisTemplate;\r\n  }\r\n\r\n  @PostConstruct\r\n  public void init() {\r\n    hashOps = redisTemplate.opsForHash();\r\n  }\r\n\r\n  public void save(SomeDamn someDamn) {\r\n    try {\r\n      hashOps.put(KEY, someDamn.getVersion(), someDamn);\r\n    } catch (Exception e) {\r\n      LOG.warn(String.format(&quot;ignoring exception on save(%s)&quot;, someDamn != null ? someDamn.getVersion() : &quot;null&quot;), e);\r\n    }\r\n  }\r\n\r\n  public SomeDamn get(String version) {\r\n    try {\r\n      return (SomeDamn) hashOps.get(KEY, version);\r\n    } catch (Exception e) {\r\n      LOG.warn(String.format(&quot;ignoring exception on get(%s)&quot;, version), e);\r\n    }\r\n    return null;\r\n\r\n  }\r\n}\r\n```\r\n\r\nThe SomeDamn Java Bean is simple enough (Lombok is maintain Java bean).\r\n```\r\n@Data\r\n@AllArgsConstructor\r\npublic class SomeDamn implements Serializable {\r\n  private String id;           // This guy like &quot;1&quot;\r\n  private String displayValue; // This guy like &quot;One&quot;\r\n  private String version;      // This guy like &quot;urn:com.example.object-ref:version:2f7dcb42-a27d-4c9f-88d4-8721b3642792&quot;\r\n}\r\n```\r\n\r\nIn the redis-cli I get to see that _something_ mutilated my &quot;key desire&quot; (I expected just &quot;someDamn).\r\n\r\n```\r\n$ redis-cli\r\n127.0.0.1:6379&gt; keys *\r\n1) &quot;\\xac\\xed\\x00\\x05t\\x00\\x0bsomeDamn&quot;\r\n```\r\n\r\nWhat is the redis-cli invocation to get it to return the value stored on &quot;someDamn&quot; key for the URN &quot;urn:com.example.object-ref:version:2f7dcb42-a27d-4c9f-88d4-8721b3642792&quot;. Like if I stored `new SomeDamn(&quot;1&quot;, &quot;one&quot;, &quot;urn:com.example.object-ref:version:2f7dcb42-a27d-4c9f-88d4-8721b3642792&quot;);`?\r\n\r\nUp-the-middle GET on what the cli reports on the key doesn&#39;t do anything\r\n```\r\n127.0.0.1:6379&gt; GET \\xac\\xed\\x00\\x05t\\x00\\x0bsomeDamn\r\n(nil)\r\n127.0.0.1:6379&gt; GET someDamn\r\n(nil)\r\n```\r\n\r\nIs there a &quot;dump all the values at KEY &#39;someDamn&#39; or something I can use to reason this out?\r\n\r\nRedis is like a roach motel for me right now; bugs go in. Nothing comes out.\r\n\r\nHow do I find the value &quot;urn:com.example.object-ref:version:2f7dcb42-a27d-4c9f-88d4-8721b3642792&quot; on the redis key &quot;someDamn&quot; through the redis-cli for something put there by up-the-middle Spring Redis?","title":"How do I &#39;lookup&#39; a Redis value shoved into Redis by Spring&#39;s RedisTemplate with the redis-clI?","body":"<p>I have some Java code implemented in Spring that persists a Java Bean like...</p>\n<pre><code>@Repository\npublic class SomeDamnRedisRepository {\n  private static final String KEY = &quot;someDamn&quot;;\n  private static final Logger LOG = LoggerFactory.getLogger(SomeDamnRedisRepository.class);\n  ...\n  private RedisTemplate&lt;String, Object&gt; redisTemplate;\n  private HashOperations hashOps;\n\n  @Autowired\n  public SomeDamnRedisRepository(RedisTemplate redisTemplate) {\n    this.redisTemplate = redisTemplate;\n  }\n\n  @PostConstruct\n  public void init() {\n    hashOps = redisTemplate.opsForHash();\n  }\n\n  public void save(SomeDamn someDamn) {\n    try {\n      hashOps.put(KEY, someDamn.getVersion(), someDamn);\n    } catch (Exception e) {\n      LOG.warn(String.format(&quot;ignoring exception on save(%s)&quot;, someDamn != null ? someDamn.getVersion() : &quot;null&quot;), e);\n    }\n  }\n\n  public SomeDamn get(String version) {\n    try {\n      return (SomeDamn) hashOps.get(KEY, version);\n    } catch (Exception e) {\n      LOG.warn(String.format(&quot;ignoring exception on get(%s)&quot;, version), e);\n    }\n    return null;\n\n  }\n}\n</code></pre>\n<p>The SomeDamn Java Bean is simple enough (Lombok is maintain Java bean).</p>\n<pre><code>@Data\n@AllArgsConstructor\npublic class SomeDamn implements Serializable {\n  private String id;           // This guy like &quot;1&quot;\n  private String displayValue; // This guy like &quot;One&quot;\n  private String version;      // This guy like &quot;urn:com.example.object-ref:version:2f7dcb42-a27d-4c9f-88d4-8721b3642792&quot;\n}\n</code></pre>\n<p>In the redis-cli I get to see that <em>something</em> mutilated my &quot;key desire&quot; (I expected just &quot;someDamn).</p>\n<pre><code>$ redis-cli\n127.0.0.1:6379&gt; keys *\n1) &quot;\\xac\\xed\\x00\\x05t\\x00\\x0bsomeDamn&quot;\n</code></pre>\n<p>What is the redis-cli invocation to get it to return the value stored on &quot;someDamn&quot; key for the URN &quot;urn:com.example.object-ref:version:2f7dcb42-a27d-4c9f-88d4-8721b3642792&quot;. Like if I stored <code>new SomeDamn(&quot;1&quot;, &quot;one&quot;, &quot;urn:com.example.object-ref:version:2f7dcb42-a27d-4c9f-88d4-8721b3642792&quot;);</code>?</p>\n<p>Up-the-middle GET on what the cli reports on the key doesn't do anything</p>\n<pre><code>127.0.0.1:6379&gt; GET \\xac\\xed\\x00\\x05t\\x00\\x0bsomeDamn\n(nil)\n127.0.0.1:6379&gt; GET someDamn\n(nil)\n</code></pre>\n<p>Is there a &quot;dump all the values at KEY 'someDamn' or something I can use to reason this out?</p>\n<p>Redis is like a roach motel for me right now; bugs go in. Nothing comes out.</p>\n<p>How do I find the value &quot;urn:com.example.object-ref:version:2f7dcb42-a27d-4c9f-88d4-8721b3642792&quot; on the redis key &quot;someDamn&quot; through the redis-cli for something put there by up-the-middle Spring Redis?</p>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":1,"creation_date":1696360228,"post_id":77224735,"comment_id":136142136,"body_markdown":"Please update the question to include the code that is setting up and executing the `Threads`.  But as a guess, in the constructor, `Floor_Layout f` is probably the same instance.  See [this](https://stackoverflow.com/questions/40480/is-java-pass-by-reference-or-pass-by-value) and [this](https://stackoverflow.com/questions/15020850/copy-constructors-and-defensive-copying).","body":"Please update the question to include the code that is setting up and executing the <code>Threads</code>.  But as a guess, in the constructor, <code>Floor_Layout f</code> is probably the same instance.  See <a href=\"https://stackoverflow.com/questions/40480/is-java-pass-by-reference-or-pass-by-value\">this</a> and <a href=\"https://stackoverflow.com/questions/15020850/copy-constructors-and-defensive-copying\">this</a>."},{"owner":{"account_id":322981,"reputation":310744,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1696360870,"post_id":77224735,"comment_id":136142244,"body_markdown":"By the way, `Threads` is a poor choice of class name. The name should describe the task being performed by your `Runnable`.","body":"By the way, <code>Threads</code> is a poor choice of class name. The name should describe the task being performed by your <code>Runnable</code>."},{"owner":{"account_id":322981,"reputation":310744,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1696391223,"post_id":77224735,"comment_id":136145191,"body_markdown":"Are &quot;cords&quot; coordinates? Does &quot;Rand&quot; mean &quot;Random&quot;? Using slang or unidentified abbreviations is not helpful, particularly on this site with its broad audience.","body":"Are &quot;cords&quot; coordinates? Does &quot;Rand&quot; mean &quot;Random&quot;? Using slang or unidentified abbreviations is not helpful, particularly on this site with its broad audience."},{"owner":{"account_id":322981,"reputation":310744,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1696391379,"post_id":77224735,"comment_id":136145204,"body_markdown":"[MCVE](https://stackoverflow.com/help/minimal-reproducible-example)","body":"<a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">MCVE</a>"}],"answers":[{"tags":[],"owner":{"account_id":6955106,"reputation":31,"user_id":5424036,"display_name":"Karolis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696360221,"creation_date":1696360221,"answer_id":77224927,"question_id":77224735,"body_markdown":"Make sure that your class Floor_Layout is thread safe or is not used as a singleton. You should not have any fields in the class which can be modified by any of the methods. Or if your class is intended not to be thread safe then you need to have a new instance of this class for each thread.","title":"Why are some of my threads changing the values in a seperate thread?","body":"<p>Make sure that your class Floor_Layout is thread safe or is not used as a singleton. You should not have any fields in the class which can be modified by any of the methods. Or if your class is intended not to be thread safe then you need to have a new instance of this class for each thread.</p>\n"}],"owner":{"account_id":29590596,"reputation":1,"user_id":22678307,"display_name":"Kieran Rudolph"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1696373504,"creation_date":1696358007,"question_id":77224735,"body_markdown":"I&#39;m doing an assignment on multithreading and am running into the issue of values from my first thread being set as values in a separate thread. Basically the assignment is a genetic algorithm to optimize a factory floor layout.\r\n\r\n`this.floor` is a `Floor_layout` class I have that consists of a 2d array and different stations (I call them machines in my code) are put into the array as coordinates. I initialize a floor layout in my main class and create multiple threads (only 2 right now) and send the floor layout to each of the threads. I then want to move around the stations randomly in each separate thread so they are different.\r\n\r\nWhat the following code should do is print the cords of the first station then randomly change the cords of it then print the new cords and this happens for both threads. But what ends up happening is it changes the cord of my first threads machine then sets the cords of my second threads machine to the new cords of the first thread&#39;s one.\r\n\r\nI&#39;m sorry if this is confusing to understand and I don&#39;t know if I need to show my other classes but here&#39;s my thread class and the output from running it.\r\n\r\n    class Threads implements Runnable {\r\n        boolean flag = false;\r\n        private Floor_Layout thisFloor;\r\n        Machine test1;\r\n\r\n        public Threads(Floor_Layout f) {\r\n            thisFloor = f;\r\n        }\r\n\r\n        public void run() {\r\n            try {\r\n                thisFloor.machineCord(thisFloor.machineArr[0]);\r\n                thisFloor.moveMachineRand(thisFloor.machineArr[0]);\r\n                thisFloor.machineCord(thisFloor.machineArr[0]);\r\n            }\r\n            catch (Exception e) {\r\n                System.out.println(&quot;Exception is caught&quot;);\r\n            }\r\n        }\r\n    }\r\n       \r\n\r\nOutput:\r\n\r\n    Thread 0 Machine[0] oX,oy = 4,3 aX, aY = 5,3 lX,lY = 3,3  (this line)\r\n    Thread 0 Machine[0] oX,oy = 3,1 aX, aY = 4,1 lX,lY = 2,1\r\n    Thread 1 Machine[0] oX,oy = 3,1 aX, aY = 4,1 lX,lY = 2,1  (and this line)\r\n    Thread 1 Machine[0] oX,oy = 5,3 aX, aY = 6,3 lX,lY = 4,3`\r\n\r\nBoth the lines indicated above should have the same cords because that&#39;s before I call the randomize cord command.\r\n\r\n","title":"Why are some of my threads changing the values in a seperate thread?","body":"<p>I'm doing an assignment on multithreading and am running into the issue of values from my first thread being set as values in a separate thread. Basically the assignment is a genetic algorithm to optimize a factory floor layout.</p>\n<p><code>this.floor</code> is a <code>Floor_layout</code> class I have that consists of a 2d array and different stations (I call them machines in my code) are put into the array as coordinates. I initialize a floor layout in my main class and create multiple threads (only 2 right now) and send the floor layout to each of the threads. I then want to move around the stations randomly in each separate thread so they are different.</p>\n<p>What the following code should do is print the cords of the first station then randomly change the cords of it then print the new cords and this happens for both threads. But what ends up happening is it changes the cord of my first threads machine then sets the cords of my second threads machine to the new cords of the first thread's one.</p>\n<p>I'm sorry if this is confusing to understand and I don't know if I need to show my other classes but here's my thread class and the output from running it.</p>\n<pre><code>class Threads implements Runnable {\n    boolean flag = false;\n    private Floor_Layout thisFloor;\n    Machine test1;\n\n    public Threads(Floor_Layout f) {\n        thisFloor = f;\n    }\n\n    public void run() {\n        try {\n            thisFloor.machineCord(thisFloor.machineArr[0]);\n            thisFloor.moveMachineRand(thisFloor.machineArr[0]);\n            thisFloor.machineCord(thisFloor.machineArr[0]);\n        }\n        catch (Exception e) {\n            System.out.println(&quot;Exception is caught&quot;);\n        }\n    }\n}\n   \n</code></pre>\n<p>Output:</p>\n<pre><code>Thread 0 Machine[0] oX,oy = 4,3 aX, aY = 5,3 lX,lY = 3,3  (this line)\nThread 0 Machine[0] oX,oy = 3,1 aX, aY = 4,1 lX,lY = 2,1\nThread 1 Machine[0] oX,oy = 3,1 aX, aY = 4,1 lX,lY = 2,1  (and this line)\nThread 1 Machine[0] oX,oy = 5,3 aX, aY = 6,3 lX,lY = 4,3`\n</code></pre>\n<p>Both the lines indicated above should have the same cords because that's before I call the randomize cord command.</p>\n"},{"tags":["java","json","postgresql","hibernate","generics"],"owner":{"account_id":22953279,"reputation":41,"user_id":17084244,"display_name":"Alexey"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":149,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":0,"score":4,"last_activity_date":1696371880,"creation_date":1696371880,"question_id":77225801,"body_markdown":"I am using PostgreSQL and Hibernate 6, and I have a JSONB type column - `values`.\r\n\r\nThe question is, how can I define an entity with generic type for this field?\r\nAlso, is there any way to map the correct class during deserialization based on the second ENUM field - `type`?\r\n\r\nSomething like:\r\n\r\n```\r\n@Getter\r\n@Setter\r\n@Entity\r\n@Table(name = &quot;setting&quot;)\r\npublic class SettingEntity&lt;T&gt; {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n    @Enumerated(EnumType.STRING)\r\n    private SettingType type;\r\n    @JdbcTypeCode(SqlTypes.JSON)\r\n    private T values;\r\n\r\n}\r\n```\r\n\r\nI can&#39;t find a clear explanation of how to do that. Thanks for any assistance.","title":"Hibernate 6 and generic JSON field","body":"<p>I am using PostgreSQL and Hibernate 6, and I have a JSONB type column - <code>values</code>.</p>\n<p>The question is, how can I define an entity with generic type for this field?\nAlso, is there any way to map the correct class during deserialization based on the second ENUM field - <code>type</code>?</p>\n<p>Something like:</p>\n<pre><code>@Getter\n@Setter\n@Entity\n@Table(name = &quot;setting&quot;)\npublic class SettingEntity&lt;T&gt; {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    @Enumerated(EnumType.STRING)\n    private SettingType type;\n    @JdbcTypeCode(SqlTypes.JSON)\n    private T values;\n\n}\n</code></pre>\n<p>I can't find a clear explanation of how to do that. Thanks for any assistance.</p>\n"},{"tags":["java","swing","jtable"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":2,"creation_date":1696350503,"post_id":77223957,"comment_id":136140343,"body_markdown":"*table = new JTable(model);* Why? And anyway that&#39;s not going to work as Java is pass-by-value. The incoming parameter will therefore by unaltered","body":"<i>table = new JTable(model);</i> Why? And anyway that&#39;s not going to work as Java is pass-by-value. The incoming parameter will therefore by unaltered"},{"owner":{"account_id":29589890,"reputation":1,"user_id":22677778,"display_name":"cyber900se"},"score":0,"creation_date":1696351015,"post_id":77223957,"comment_id":136140435,"body_markdown":"@g00se , thought that I had to change the viewport each time I made a change to the table in MainWindow. Removing this line and the setViewportView() worked. Thank you very much!","body":"@g00se , thought that I had to change the viewport each time I made a change to the table in MainWindow. Removing this line and the setViewportView() worked. Thank you very much!"},{"owner":{"account_id":7882042,"reputation":986,"user_id":5955651,"display_name":"stelios.anastasakis"},"score":0,"creation_date":1696405590,"post_id":77223957,"comment_id":136146957,"body_markdown":"so you delete the first line (x), it works, then try the new first line (y), it fails, then again the same first line (y), it works etc?","body":"so you delete the first line (x), it works, then try the new first line (y), it fails, then again the same first line (y), it works etc?"}],"owner":{"account_id":29589890,"reputation":1,"user_id":22677778,"display_name":"cyber900se"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696370991,"creation_date":1696350004,"question_id":77223957,"body_markdown":"I am writing a program in which there is a JTable that I need to remove some selected rows from. Here is the method that removes a selected row (or shows a pop-up saying that the a row wasn&#39;t selected if it was not) and displays the modified JTable in the viewPort:\r\n\r\n```\r\npublic static void removeRow(JTable table, MainWindow frm){\r\n        if(table.getSelectedRow() != -1) {\r\n            DefaultTableModel model = (DefaultTableModel) table.getModel();\r\n            model.removeRow(table.getSelectedRow());\r\n            table = new JTable(model);\r\n            table.clearSelection();\r\n        }else {\r\n            JOptionPane.showMessageDialog(null,\r\n                    &quot;No row selected. Try again!&quot;,\r\n                    &quot;Selection Error&quot;, JOptionPane.ERROR_MESSAGE);\r\n        }\r\n        frm.mainScrollPane.setViewportView(table);\r\n    }\r\n```\r\n\r\nThe method works the first time a row is selected, however, when doing the same thing again the pop-up appears (though a selection was made). The third time the code works as was intended. So, every odd attempt the code works, and every even attempt it does not. \r\nWhat could be the problem here?","title":"Problem with getSelectedRow and removeRow not working correctly","body":"<p>I am writing a program in which there is a JTable that I need to remove some selected rows from. Here is the method that removes a selected row (or shows a pop-up saying that the a row wasn't selected if it was not) and displays the modified JTable in the viewPort:</p>\n<pre><code>public static void removeRow(JTable table, MainWindow frm){\n        if(table.getSelectedRow() != -1) {\n            DefaultTableModel model = (DefaultTableModel) table.getModel();\n            model.removeRow(table.getSelectedRow());\n            table = new JTable(model);\n            table.clearSelection();\n        }else {\n            JOptionPane.showMessageDialog(null,\n                    &quot;No row selected. Try again!&quot;,\n                    &quot;Selection Error&quot;, JOptionPane.ERROR_MESSAGE);\n        }\n        frm.mainScrollPane.setViewportView(table);\n    }\n</code></pre>\n<p>The method works the first time a row is selected, however, when doing the same thing again the pop-up appears (though a selection was made). The third time the code works as was intended. So, every odd attempt the code works, and every even attempt it does not.\nWhat could be the problem here?</p>\n"},{"tags":["java","android","itext"],"comments":[{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1550211747,"post_id":29951821,"comment_id":96193300,"body_markdown":"Are you still interested in an answer to this question?","body":"Are you still interested in an answer to this question?"}],"answers":[{"tags":[],"owner":{"account_id":227393,"reputation":28024,"user_id":489041,"accept_rate":53,"display_name":"user489041"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1430337463,"creation_date":1430337010,"answer_id":29953210,"question_id":29951821,"body_markdown":"If you porblem is you cant figure out the conversion of pt to an x,y location, maybe this will help:\r\n\r\n&gt; To go from Pixels to Em’s, simply divide by 16\r\n&gt; \r\n&gt; Use Reed Design’s table which lists conversions from Points to Pixels\r\n&gt; to Em to %. It’s an approximation, which will depend on font, browser\r\n&gt; and OS, but it’s a good starting point.\r\n\r\nhttps://answers.yahoo.com/question/index?qid=20070723201114AAzsYjC\r\n\r\nOtherwise, I do something similar to yo for images:\r\n\r\n        /**\r\n         * Adds an image to the PDF\r\n         * @param imageData The data for the image to add\r\n         * @param page The page number of where to add the photo\r\n         * @param xPos The x coordinate of where to put the image. Note that 0 is the left of the page\r\n         * @param yPos The y coordinate of where to put the image. Note that 0 is the top of the page. This is\r\n         * different than the addText function for some reason.\r\n         * @param layer\r\n         * @throws Exception If there was an error adding the image to the PDF\r\n         */\r\n        public void addImageToPDF(float xPos, float yPos, byte[] imageData, int page,  Layer layer) throws Exception\r\n        {\r\n            PdfContentByte content = getPdfContentByte(page, layer);\r\n            Image img = Image.getInstance(imageData);\r\n            img.setAbsolutePosition(xPos, yPos);\r\n            content.addImage(img);\r\n        }\r\n\r\n\r\n        /**\r\n         * Gets a PdfContentByte. This is used to make changes to the PDF\r\n         * @param page The page number that is to be modified\r\n         * @param layer The layer that is to be modified\r\n         * @return A PdfContentByte that can be used to modify the PDF\r\n         */\r\n        private PdfContentByte getPdfContentByte(int page, Layer layer)\r\n        {\r\n            return layer == Layer.OVER ? stamper.getOverContent(page) : stamper.getUnderContent(page);\r\n        }\r\n\r\n\r\nWhere Layer is a simple enum for determining what layer of the PDF something should go:\r\n\r\n        /**\r\n         * Represents a layer of the PDF relative to the original file. For example,\r\n         * if an operation requires a Layer argument, OVER will make the changes ontop\r\n         * of the original PDF. UNDER will make the changes under the original PDF. So\r\n         * if there is text in the original PDF and you choose UNDER, the changes you make\r\n         * may be covered up by the original text. If you choose OVER, you changes will be\r\n         * ontop of whatever was in the original PDF\r\n         */\r\n        public enum Layer{\r\n            /**\r\n             * Represents ontop of the original PDF\r\n             */\r\n            OVER,\r\n            \r\n            /**\r\n             * Represents under the original PDF\r\n             */\r\n            UNDER\r\n        }","title":"IText Image Set Absolute Position","body":"<p>If you porblem is you cant figure out the conversion of pt to an x,y location, maybe this will help:</p>\n\n<blockquote>\n  <p>To go from Pixels to Em’s, simply divide by 16</p>\n  \n  <p>Use Reed Design’s table which lists conversions from Points to Pixels\n  to Em to %. It’s an approximation, which will depend on font, browser\n  and OS, but it’s a good starting point.</p>\n</blockquote>\n\n<p><a href=\"https://answers.yahoo.com/question/index?qid=20070723201114AAzsYjC\" rel=\"nofollow\">https://answers.yahoo.com/question/index?qid=20070723201114AAzsYjC</a></p>\n\n<p>Otherwise, I do something similar to yo for images:</p>\n\n<pre><code>    /**\n     * Adds an image to the PDF\n     * @param imageData The data for the image to add\n     * @param page The page number of where to add the photo\n     * @param xPos The x coordinate of where to put the image. Note that 0 is the left of the page\n     * @param yPos The y coordinate of where to put the image. Note that 0 is the top of the page. This is\n     * different than the addText function for some reason.\n     * @param layer\n     * @throws Exception If there was an error adding the image to the PDF\n     */\n    public void addImageToPDF(float xPos, float yPos, byte[] imageData, int page,  Layer layer) throws Exception\n    {\n        PdfContentByte content = getPdfContentByte(page, layer);\n        Image img = Image.getInstance(imageData);\n        img.setAbsolutePosition(xPos, yPos);\n        content.addImage(img);\n    }\n\n\n    /**\n     * Gets a PdfContentByte. This is used to make changes to the PDF\n     * @param page The page number that is to be modified\n     * @param layer The layer that is to be modified\n     * @return A PdfContentByte that can be used to modify the PDF\n     */\n    private PdfContentByte getPdfContentByte(int page, Layer layer)\n    {\n        return layer == Layer.OVER ? stamper.getOverContent(page) : stamper.getUnderContent(page);\n    }\n</code></pre>\n\n<p>Where Layer is a simple enum for determining what layer of the PDF something should go:</p>\n\n<pre><code>    /**\n     * Represents a layer of the PDF relative to the original file. For example,\n     * if an operation requires a Layer argument, OVER will make the changes ontop\n     * of the original PDF. UNDER will make the changes under the original PDF. So\n     * if there is text in the original PDF and you choose UNDER, the changes you make\n     * may be covered up by the original text. If you choose OVER, you changes will be\n     * ontop of whatever was in the original PDF\n     */\n    public enum Layer{\n        /**\n         * Represents ontop of the original PDF\n         */\n        OVER,\n\n        /**\n         * Represents under the original PDF\n         */\n        UNDER\n    }\n</code></pre>\n"}],"owner":{"account_id":2564699,"reputation":3401,"user_id":2225087,"accept_rate":62,"display_name":"Val Okafor"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13400,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":1,"score":2,"last_activity_date":1696370725,"creation_date":1430332504,"question_id":29951821,"body_markdown":"I need to position an image in a PDF using the iText library at the exact same position as shown in the screenshot below from Adobe Acrobat. What values do I need to pass to the image setabsolute position like so:\r\n\r\n            Image image = Image.getInstance(stream.toByteArray());\r\n            image.scaleAbsolute(150f, 150f);\r\n            image.setAbsolutePosition(???f, ???f);\r\n\r\n            PdfContentByte overContent = stamper.getOverContent(1);\r\n            overContent.addImage(image);\r\n            stamper.setFormFlattening(true);\r\n            stamper.close();\r\nI am trying all the values and the image is jumping arround in the outputed file. What values should I use? I have also included the screenshot from the getFieldPosition() output.\r\n\r\n![enter image description here][1]\r\n\r\n\r\n![enter image description here][2]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/oAdOP.jpg\r\n  [2]: http://i.stack.imgur.com/CWcoF.jpg","title":"IText Image Set Absolute Position","body":"<p>I need to position an image in a PDF using the iText library at the exact same position as shown in the screenshot below from Adobe Acrobat. What values do I need to pass to the image setabsolute position like so:</p>\n\n<pre><code>        Image image = Image.getInstance(stream.toByteArray());\n        image.scaleAbsolute(150f, 150f);\n        image.setAbsolutePosition(???f, ???f);\n\n        PdfContentByte overContent = stamper.getOverContent(1);\n        overContent.addImage(image);\n        stamper.setFormFlattening(true);\n        stamper.close();\n</code></pre>\n\n<p>I am trying all the values and the image is jumping arround in the outputed file. What values should I use? I have also included the screenshot from the getFieldPosition() output.</p>\n\n<p><img src=\"https://i.stack.imgur.com/oAdOP.jpg\" alt=\"enter image description here\"></p>\n\n<p><img src=\"https://i.stack.imgur.com/CWcoF.jpg\" alt=\"enter image description here\"></p>\n"},{"tags":["java","jms","activemq","quarkus"],"comments":[{"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"score":0,"creation_date":1640861978,"post_id":70529496,"comment_id":124676910,"body_markdown":"Perhaps you are not using the proper encoding?","body":"Perhaps you are not using the proper encoding?"},{"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1640876665,"post_id":70529496,"comment_id":124681363,"body_markdown":"What version of ActiveMQ are you using?","body":"What version of ActiveMQ are you using?"},{"owner":{"account_id":22204873,"reputation":25,"user_id":16444934,"display_name":"Giulia Fois"},"score":0,"creation_date":1640955771,"post_id":70529496,"comment_id":124698250,"body_markdown":"I figured out the problem was related to the broker: I was using rmohr/activemq, switching to artemis-activemq solved the issue","body":"I figured out the problem was related to the broker: I was using rmohr/activemq, switching to artemis-activemq solved the issue"},{"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"score":1,"creation_date":1640966479,"post_id":70529496,"comment_id":124700926,"body_markdown":"Please put your solution into an actual answer and mark it as correct to help others who run into this problem in the future. Thanks!","body":"Please put your solution into an actual answer and mark it as correct to help others who run into this problem in the future. Thanks!"}],"answers":[{"tags":[],"owner":{"account_id":22204873,"reputation":25,"user_id":16444934,"display_name":"Giulia Fois"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1696370505,"creation_date":1641197172,"answer_id":70563046,"question_id":70529496,"body_markdown":"For those of you who might run into the same issue: I figured out the problem was the broker. I was using a `rmohr/activemq` container and I solved it by switching to `vromero/activemq-artemis`.","title":"JMS, ActiveMQ - weird string prepended to my text message body","body":"<p>For those of you who might run into the same issue: I figured out the problem was the broker. I was using a <code>rmohr/activemq</code> container and I solved it by switching to <code>vromero/activemq-artemis</code>.</p>\n"}],"owner":{"account_id":22204873,"reputation":25,"user_id":16444934,"display_name":"Giulia Fois"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":370,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70563046,"answer_count":1,"score":0,"last_activity_date":1696370505,"creation_date":1640855161,"question_id":70529496,"body_markdown":"I&#39;m developing a producer-consumer application. The two are connected through an ActiveMQ queue.\r\nWhen I try to send a message, the following string is prepended before the content:\r\n\r\n    Sr�)�x-opt-jms-destQ�x-opt-jms-msg-typeQSs�d\r\n    �/ID:72a1faef-ff5a-40dd-aecc-61e94c0a432a:1:1:1-1@�queue://name_of_my_queue@@@@@@�~\r\n    �Sw�\r\n    actual message\r\n\r\nThe message is detected by the consumer as an ActiveMQBytesMessage and there&#39;s no way for it to get its content correctly. \r\nHere are the code snippets for the producer and consumer:\r\n\r\n**Consumer**\r\n \r\n     String receiveMessage() {\r\n      MessageConsumer consumer = session.createConsumer(session.createQueue(receiverQueue));\r\n      String content = &quot;&quot;;\r\n\r\n  \r\n      try {\r\n        Message message = consumer.receive();\r\n        if(message instanceof TextMessage) {\r\n          content = ((TextMessage) message).getText(); \r\n        }\r\n        else {\r\n          BytesMessage byteMessage = (BytesMessage) message;\r\n          byte[] byteData = null;\r\n          byteData = new byte[(int) byteMessage.getBodyLength()];\r\n          byteMessage.readBytes(byteData);\r\n          byteMessage.reset();\r\n          content =  new String(byteData);\r\n        }\r\n      }\r\n      catch (JMSException | JsonProcessingException e) {\r\n        log.error(e.getMessage());\r\n      }\r\n      return content;\r\n    }\r\n\r\n**Producer**\r\n\r\n    void sendMessage() {\r\n       JMSContext context;\r\n\r\n        try {\r\n           context = connectionFactory.createContext(Session.AUTO_ACKNOWLEDGE);\r\n            JMSProducer producer = context.createProducer();\r\n            TextMessage tm = context.createTextMessage(&quot;TestMessage&quot;);\r\n            producer.send(context.createQueue(myQueue), tm);\r\n          }\r\n        }\r\n        catch (JMSException | JsonProcessingException e) {\r\n           System.out.println(e.getMessage());\r\n        }\r\n    }\r\n\r\nThe producer is in a quarkus application. \r\nHow can I solve this problem? Thank you!","title":"JMS, ActiveMQ - weird string prepended to my text message body","body":"<p>I'm developing a producer-consumer application. The two are connected through an ActiveMQ queue.\nWhen I try to send a message, the following string is prepended before the content:</p>\n<pre><code>Sr�)�x-opt-jms-destQ�x-opt-jms-msg-typeQSs�d\n�/ID:72a1faef-ff5a-40dd-aecc-61e94c0a432a:1:1:1-1@�queue://name_of_my_queue@@@@@@�~\n�Sw�\nactual message\n</code></pre>\n<p>The message is detected by the consumer as an ActiveMQBytesMessage and there's no way for it to get its content correctly.\nHere are the code snippets for the producer and consumer:</p>\n<p><strong>Consumer</strong></p>\n<pre><code> String receiveMessage() {\n  MessageConsumer consumer = session.createConsumer(session.createQueue(receiverQueue));\n  String content = &quot;&quot;;\n\n\n  try {\n    Message message = consumer.receive();\n    if(message instanceof TextMessage) {\n      content = ((TextMessage) message).getText(); \n    }\n    else {\n      BytesMessage byteMessage = (BytesMessage) message;\n      byte[] byteData = null;\n      byteData = new byte[(int) byteMessage.getBodyLength()];\n      byteMessage.readBytes(byteData);\n      byteMessage.reset();\n      content =  new String(byteData);\n    }\n  }\n  catch (JMSException | JsonProcessingException e) {\n    log.error(e.getMessage());\n  }\n  return content;\n}\n</code></pre>\n<p><strong>Producer</strong></p>\n<pre><code>void sendMessage() {\n   JMSContext context;\n\n    try {\n       context = connectionFactory.createContext(Session.AUTO_ACKNOWLEDGE);\n        JMSProducer producer = context.createProducer();\n        TextMessage tm = context.createTextMessage(&quot;TestMessage&quot;);\n        producer.send(context.createQueue(myQueue), tm);\n      }\n    }\n    catch (JMSException | JsonProcessingException e) {\n       System.out.println(e.getMessage());\n    }\n}\n</code></pre>\n<p>The producer is in a quarkus application.\nHow can I solve this problem? Thank you!</p>\n"},{"tags":["java","maven","configuration","javadoc"],"owner":{"account_id":3768354,"reputation":7981,"user_id":3131203,"accept_rate":50,"display_name":"keshlam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696370503,"creation_date":1696279878,"question_id":77218417,"body_markdown":"In a multi-module maven project, I have the javadoc configuration set up in the parent pom.xml, including pointing to the jarfile for my taglet.\r\n\r\nThis is working fine in one of the sub-modules, but not in the other. \r\n\r\nThe best guess I have is that the taglet code has a dependency which is met in the first but not the second. Unfortunately, Maven doesn&#39;t explicitly tell me which class it couldn&#39;t resolve. And I don&#39;t want the second to depend upon the first; architecturally it&#39;s the other way around.\r\n\r\nAny suggestions on how to get more debugging information rather than the bare error line would be welcome.\r\n\r\nError messages I want to get more detail from:\r\n```\r\n[ERROR] javadoc: error - Error - Exception java.lang.ClassNotFoundException thrown while trying to register Taglet xalan2jtaglet.XSLUsageTag...\r\n[ERROR] /home/keshlam/git/xalan-java-mvn/serializer/src/main/java/org/apache/xml/serializer/AttributesImplSerializer.java:37: error: unknown tag: xsl.usage\r\n[ERROR]  * @xsl.usage internal\r\n[ERROR]    ^\r\n```\r\nPlugin configuration:\r\n\r\n```\r\n  &lt;reporting&gt;\r\n    &lt;plugins&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.6.0&lt;/version&gt;\r\n\t&lt;configuration&gt;\r\n\t  &lt;groups&gt;\r\n        &lt;group&gt;\r\n\t      &lt;title&gt;XPath&lt;/title&gt;\r\n\t      &lt;packages&gt;org.apache.xpath*&lt;/packages&gt;\r\n\t    &lt;/group&gt;\r\n        &lt;group&gt;\r\n\t      &lt;title&gt;Document Table Model (DTM)&lt;/title&gt;\r\n\t      &lt;packages&gt;org.apache.xml.dtm*&lt;/packages&gt;\r\n\t    &lt;/group&gt;          \r\n        &lt;group&gt;\r\n\t      &lt;title&gt;Utilities&lt;/title&gt;\r\n\t      &lt;packages&gt;org.apache.xml.utils*&lt;/packages&gt;\r\n\t    &lt;/group&gt;\r\n        &lt;group&gt;\r\n\t      &lt;title&gt;Xalan Other&lt;/title&gt;\r\n\t      &lt;packages&gt;org.apache.xalan.client:org:org.apache.xalan.extensions:org.apache.xalan.res:org.apache.xalan.stree:org.apache.xalan.trace:org.apache.xalan.xslt&lt;/packages&gt;\r\n\t    &lt;/group&gt;\r\n        &lt;group&gt;\r\n\t      &lt;title&gt;Xalan Extensions&lt;/title&gt;\r\n\t      &lt;packages&gt;org.apache.xalan.lib*&lt;/packages&gt;\r\n\t    &lt;/group&gt;\r\n        &lt;group&gt;\r\n\t      &lt;title&gt;Serializers&lt;/title&gt;\r\n\t      &lt;packages&gt;org.apache.xml.serialize*:org.apache.xalan.serialize&lt;/packages&gt;\r\n\t    &lt;/group&gt;\r\n        &lt;group&gt;\r\n\t      &lt;title&gt;SAX 2&lt;/title&gt;\r\n\t      &lt;packages&gt;org.xml.sax*&lt;/packages&gt;\r\n\t    &lt;/group&gt;\r\n        &lt;group&gt;\r\n\t      &lt;title&gt;DOM 2&lt;/title&gt;\r\n\t      &lt;packages&gt;org.w3c.dom*&lt;/packages&gt;\r\n\t    &lt;/group&gt;\r\n        &lt;group&gt;\r\n\t      &lt;title&gt;XSLTC Core&lt;/title&gt;\r\n\t      &lt;packages&gt;org.apache.xalan.xsltc*&lt;/packages&gt;\r\n\t    &lt;/group&gt;\r\n\t  &lt;/groups&gt;\r\n\r\n\t  &lt;!-- GONK: classloader problem for @xsl.usage, only in serializer module.\r\n\t       Unclear if it&#39;s disliking the jar, or if there&#39;s a dependency\r\n\t       present in the xalan module but not here.\r\n\t  --&gt;\r\n\t  &lt;taglets&gt;\r\n            &lt;taglet&gt;\r\n              &lt;tagletClass&gt;xalan2jtaglet.XSLUsageTag&lt;/tagletClass&gt;\r\n              &lt;tagletpath&gt;${basedir}/tools/xalan2jtaglet.jar&lt;/tagletpath&gt;\r\n            &lt;/taglet&gt;\t    \r\n\t  &lt;/taglets&gt;\r\n\r\n\t&lt;/configuration&gt;\r\n\r\n        &lt;reportSets&gt;\r\n          &lt;reportSet&gt;\r\n            &lt;id&gt;aggregate&lt;/id&gt;\r\n            &lt;inherited&gt;false&lt;/inherited&gt;        \r\n            &lt;reports&gt;\r\n              &lt;report&gt;aggregate&lt;/report&gt;\r\n            &lt;/reports&gt;\r\n          &lt;/reportSet&gt;\r\n          &lt;reportSet&gt;\r\n            &lt;id&gt;default&lt;/id&gt;\r\n            &lt;reports&gt;\r\n              &lt;report&gt;javadoc&lt;/report&gt;\r\n            &lt;/reports&gt;\r\n          &lt;/reportSet&gt;\r\n        &lt;/reportSets&gt;\r\n      &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n  &lt;/reporting&gt;\r\n```\r\n\r\n\r\nYes, I tried the black-magic solution of deleting/refreshing the Maven repository. No help, alas.\r\n\r\nTrying to run javadoc directly, I _think_ the problem is that the plugin relies on tools.jar or equivalent. I&#39;ve been playing with the various solutions in other questions more specifically about tools.jar in Maven, but they haven&#39;t been resolving the problem. However, this *might* explain why one module is OK and the other isn&#39;t -- they have different dependencies, and one of the dependencies in the xalan module that serializer doesn&#39;t have is probably carrying an appropriate reference to tools.jar.\r\n\r\nAs an ugly kluge-around I could try adding dependencies until I figure out which one is making the difference....","title":"Maven-javadoc-plugin ClassNotFound while trying to register Taglet","body":"<p>In a multi-module maven project, I have the javadoc configuration set up in the parent pom.xml, including pointing to the jarfile for my taglet.</p>\n<p>This is working fine in one of the sub-modules, but not in the other.</p>\n<p>The best guess I have is that the taglet code has a dependency which is met in the first but not the second. Unfortunately, Maven doesn't explicitly tell me which class it couldn't resolve. And I don't want the second to depend upon the first; architecturally it's the other way around.</p>\n<p>Any suggestions on how to get more debugging information rather than the bare error line would be welcome.</p>\n<p>Error messages I want to get more detail from:</p>\n<pre><code>[ERROR] javadoc: error - Error - Exception java.lang.ClassNotFoundException thrown while trying to register Taglet xalan2jtaglet.XSLUsageTag...\n[ERROR] /home/keshlam/git/xalan-java-mvn/serializer/src/main/java/org/apache/xml/serializer/AttributesImplSerializer.java:37: error: unknown tag: xsl.usage\n[ERROR]  * @xsl.usage internal\n[ERROR]    ^\n</code></pre>\n<p>Plugin configuration:</p>\n<pre><code>  &lt;reporting&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.6.0&lt;/version&gt;\n    &lt;configuration&gt;\n      &lt;groups&gt;\n        &lt;group&gt;\n          &lt;title&gt;XPath&lt;/title&gt;\n          &lt;packages&gt;org.apache.xpath*&lt;/packages&gt;\n        &lt;/group&gt;\n        &lt;group&gt;\n          &lt;title&gt;Document Table Model (DTM)&lt;/title&gt;\n          &lt;packages&gt;org.apache.xml.dtm*&lt;/packages&gt;\n        &lt;/group&gt;          \n        &lt;group&gt;\n          &lt;title&gt;Utilities&lt;/title&gt;\n          &lt;packages&gt;org.apache.xml.utils*&lt;/packages&gt;\n        &lt;/group&gt;\n        &lt;group&gt;\n          &lt;title&gt;Xalan Other&lt;/title&gt;\n          &lt;packages&gt;org.apache.xalan.client:org:org.apache.xalan.extensions:org.apache.xalan.res:org.apache.xalan.stree:org.apache.xalan.trace:org.apache.xalan.xslt&lt;/packages&gt;\n        &lt;/group&gt;\n        &lt;group&gt;\n          &lt;title&gt;Xalan Extensions&lt;/title&gt;\n          &lt;packages&gt;org.apache.xalan.lib*&lt;/packages&gt;\n        &lt;/group&gt;\n        &lt;group&gt;\n          &lt;title&gt;Serializers&lt;/title&gt;\n          &lt;packages&gt;org.apache.xml.serialize*:org.apache.xalan.serialize&lt;/packages&gt;\n        &lt;/group&gt;\n        &lt;group&gt;\n          &lt;title&gt;SAX 2&lt;/title&gt;\n          &lt;packages&gt;org.xml.sax*&lt;/packages&gt;\n        &lt;/group&gt;\n        &lt;group&gt;\n          &lt;title&gt;DOM 2&lt;/title&gt;\n          &lt;packages&gt;org.w3c.dom*&lt;/packages&gt;\n        &lt;/group&gt;\n        &lt;group&gt;\n          &lt;title&gt;XSLTC Core&lt;/title&gt;\n          &lt;packages&gt;org.apache.xalan.xsltc*&lt;/packages&gt;\n        &lt;/group&gt;\n      &lt;/groups&gt;\n\n      &lt;!-- GONK: classloader problem for @xsl.usage, only in serializer module.\n           Unclear if it's disliking the jar, or if there's a dependency\n           present in the xalan module but not here.\n      --&gt;\n      &lt;taglets&gt;\n            &lt;taglet&gt;\n              &lt;tagletClass&gt;xalan2jtaglet.XSLUsageTag&lt;/tagletClass&gt;\n              &lt;tagletpath&gt;${basedir}/tools/xalan2jtaglet.jar&lt;/tagletpath&gt;\n            &lt;/taglet&gt;       \n      &lt;/taglets&gt;\n\n    &lt;/configuration&gt;\n\n        &lt;reportSets&gt;\n          &lt;reportSet&gt;\n            &lt;id&gt;aggregate&lt;/id&gt;\n            &lt;inherited&gt;false&lt;/inherited&gt;        \n            &lt;reports&gt;\n              &lt;report&gt;aggregate&lt;/report&gt;\n            &lt;/reports&gt;\n          &lt;/reportSet&gt;\n          &lt;reportSet&gt;\n            &lt;id&gt;default&lt;/id&gt;\n            &lt;reports&gt;\n              &lt;report&gt;javadoc&lt;/report&gt;\n            &lt;/reports&gt;\n          &lt;/reportSet&gt;\n        &lt;/reportSets&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/reporting&gt;\n</code></pre>\n<p>Yes, I tried the black-magic solution of deleting/refreshing the Maven repository. No help, alas.</p>\n<p>Trying to run javadoc directly, I <em>think</em> the problem is that the plugin relies on tools.jar or equivalent. I've been playing with the various solutions in other questions more specifically about tools.jar in Maven, but they haven't been resolving the problem. However, this <em>might</em> explain why one module is OK and the other isn't -- they have different dependencies, and one of the dependencies in the xalan module that serializer doesn't have is probably carrying an appropriate reference to tools.jar.</p>\n<p>As an ugly kluge-around I could try adding dependencies until I figure out which one is making the difference....</p>\n"},{"tags":["java","file","upload","feign","openfeign"],"comments":[{"owner":{"account_id":10497672,"reputation":142,"user_id":7737304,"display_name":"Najiva"},"score":0,"creation_date":1648461675,"post_id":67927242,"comment_id":126621176,"body_markdown":"Did you figure this out? I have the same error.","body":"Did you figure this out? I have the same error."}],"answers":[{"tags":[],"owner":{"account_id":11996983,"reputation":1,"user_id":8778180,"display_name":"suzheng"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1625819202,"creation_date":1625819202,"answer_id":68313575,"question_id":67927242,"body_markdown":"Upgrade spring version at least 5.2.5","title":"Open Feign java.lang.NoSuchFieldError: MULTIPART_RELATED Error","body":"<p>Upgrade spring version at least 5.2.5</p>\n"},{"tags":[],"owner":{"account_id":13007999,"reputation":33,"user_id":9401964,"display_name":"Алексей Рогожников"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667226920,"creation_date":1667226920,"answer_id":74264907,"question_id":67927242,"body_markdown":"OpenFeign dependency class `org.springframework.cloud.openfeign.support.SpringEncoder` contain constant `MULTIPART_RELATED` from `org.springframework.http.MediaType`. `org.springframework.cloud:spring-cloud-starter-openfeign:2.2.8.RELEASE` and version above contain this `MULTIPART_RELATED` in SpringEncoder-class. I&#39;m using  2.2.7.RELEASE","title":"Open Feign java.lang.NoSuchFieldError: MULTIPART_RELATED Error","body":"<p>OpenFeign dependency class <code>org.springframework.cloud.openfeign.support.SpringEncoder</code> contain constant <code>MULTIPART_RELATED</code> from <code>org.springframework.http.MediaType</code>. <code>org.springframework.cloud:spring-cloud-starter-openfeign:2.2.8.RELEASE</code> and version above contain this <code>MULTIPART_RELATED</code> in SpringEncoder-class. I'm using  2.2.7.RELEASE</p>\n"},{"tags":[],"owner":{"account_id":10576889,"reputation":151,"user_id":7791948,"display_name":"Pipilu&#231;o"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696369665,"creation_date":1696369665,"answer_id":77225690,"question_id":67927242,"body_markdown":"The problem is that the openfeign lib version is incompatible with the spring-web lib version and therefore cannot find the MediaType.MULTIPART_RELATED constant that should be in the MediaType class of the org.springframework.http package.\r\n\r\nTo solve the problem, use a version of the openfeign lib compatible with your spring-web lib.","title":"Open Feign java.lang.NoSuchFieldError: MULTIPART_RELATED Error","body":"<p>The problem is that the openfeign lib version is incompatible with the spring-web lib version and therefore cannot find the MediaType.MULTIPART_RELATED constant that should be in the MediaType class of the org.springframework.http package.</p>\n<p>To solve the problem, use a version of the openfeign lib compatible with your spring-web lib.</p>\n"}],"owner":{"account_id":21905610,"reputation":31,"user_id":16190719,"display_name":"Anto"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1409,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1696369665,"creation_date":1623352520,"question_id":67927242,"body_markdown":"I want to upload a file with **Feign** like this : \r\n\r\n```\r\n    @FeignClient(name = &quot;GDC&quot;, url = &quot;${gdc.url}&quot;, configuration = ApiConfig.class)\r\n    public interface GDCClient {\r\n        @RequestMapping(method = RequestMethod.POST, value = &quot;/v1/document&quot;, consumes \r\n        =&quot;multipart/form-data&quot;)\r\n        Response saveDocument(@RequestPart(value = &quot;file&quot;) MultipartFile fileSaveDocumentDTO, \r\n        @RequestPart(value = &quot;document&quot;) SaveDocumentDTO saveDocumentDTO);\r\n    }\r\n```\r\n\r\n\r\nBut I have this error when I call saveDocument :\r\n\r\n```\r\n*java.lang.NoSuchFieldError: MULTIPART_RELATED\r\n\tat org.springframework.cloud.openfeign.support.SpringEncoder.isMultipartType(SpringEncoder.java:227) ~[spring-cloud-openfeign-core-2.2.8.RELEASE.jar:2.2.8.RELEASE]\r\n\tat org.springframework.cloud.openfeign.support.SpringEncoder.encode(SpringEncoder.java:102) ~[spring-cloud-openfeign-core-2.2.8.RELEASE.jar:2.2.8.RELEASE]\r\n\tat org.springframework.cloud.openfeign.support.PageableSpringEncoder.encode(PageableSpringEncoder.java:101) ~[spring-cloud-openfeign-core-2.2.8.RELEASE.jar:2.2.8.RELEASE]*\r\n```\r\n\r\nSomeone can help me please ? :)","title":"Open Feign java.lang.NoSuchFieldError: MULTIPART_RELATED Error","body":"<p>I want to upload a file with <strong>Feign</strong> like this :</p>\n<pre><code>    @FeignClient(name = &quot;GDC&quot;, url = &quot;${gdc.url}&quot;, configuration = ApiConfig.class)\n    public interface GDCClient {\n        @RequestMapping(method = RequestMethod.POST, value = &quot;/v1/document&quot;, consumes \n        =&quot;multipart/form-data&quot;)\n        Response saveDocument(@RequestPart(value = &quot;file&quot;) MultipartFile fileSaveDocumentDTO, \n        @RequestPart(value = &quot;document&quot;) SaveDocumentDTO saveDocumentDTO);\n    }\n</code></pre>\n<p>But I have this error when I call saveDocument :</p>\n<pre><code>*java.lang.NoSuchFieldError: MULTIPART_RELATED\n    at org.springframework.cloud.openfeign.support.SpringEncoder.isMultipartType(SpringEncoder.java:227) ~[spring-cloud-openfeign-core-2.2.8.RELEASE.jar:2.2.8.RELEASE]\n    at org.springframework.cloud.openfeign.support.SpringEncoder.encode(SpringEncoder.java:102) ~[spring-cloud-openfeign-core-2.2.8.RELEASE.jar:2.2.8.RELEASE]\n    at org.springframework.cloud.openfeign.support.PageableSpringEncoder.encode(PageableSpringEncoder.java:101) ~[spring-cloud-openfeign-core-2.2.8.RELEASE.jar:2.2.8.RELEASE]*\n</code></pre>\n<p>Someone can help me please ? :)</p>\n"},{"tags":["java","spring","rabbitmq","spring-rabbit"],"answers":[{"tags":[],"owner":{"account_id":10924095,"reputation":163,"user_id":8029297,"display_name":"bhuvan salanke"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1495193592,"creation_date":1495186939,"answer_id":44066612,"question_id":44065758,"body_markdown":"Okay, after going through your question again, it seems like you are publishing different messages when you create a network, subnet and ports. All create separate message and are published. Now it seems like you have multiple consumer, and hence one consumer might consume message that created network and other consumer might consume message that created subnet or port. \r\n\r\nTo handle this scenario, you basically publish the message to the exchange, and the exchange routes the message to particular queue.\r\n\r\nNow if you have unique independant queue that are subscribed at the consumer end, you can tackle the above problem.\r\n\r\n    Producer -&gt; Exchange -&gt; Queue1 -&gt; Consumer1\r\n    Producer -&gt; Exchange -&gt; Queue2 -&gt; Consumer2\r\n\r\n","title":"RabbitMQ workaround for JMSXGroupId","body":"<p>Okay, after going through your question again, it seems like you are publishing different messages when you create a network, subnet and ports. All create separate message and are published. Now it seems like you have multiple consumer, and hence one consumer might consume message that created network and other consumer might consume message that created subnet or port. </p>\n\n<p>To handle this scenario, you basically publish the message to the exchange, and the exchange routes the message to particular queue.</p>\n\n<p>Now if you have unique independant queue that are subscribed at the consumer end, you can tackle the above problem.</p>\n\n<pre><code>Producer -&gt; Exchange -&gt; Queue1 -&gt; Consumer1\nProducer -&gt; Exchange -&gt; Queue2 -&gt; Consumer2\n</code></pre>\n"}],"owner":{"account_id":1336531,"reputation":9732,"user_id":1279145,"accept_rate":83,"display_name":"Karthik Prasad"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":682,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1696369107,"creation_date":1495184587,"question_id":44065758,"body_markdown":"I know RabbitMQ does not support JMSXGroupId, and from the [link][1], it seems no sooner this feature going to be incorporated to RabbitMQ. Is there any work around for that say using combination of exchanges/queues/topics? Here is my use case.\r\n\r\nSay I&#39;ve 1 Producer Server and 2 consumer servers with multiple consumer threads consuming from the queue. The Producer Server creates a network and a subnet and multiple ports. All these request is converted json/stomp and put into a Queue. Now How can I guarantee that same thread processes all these request that belongs to same network. In ActiveMQ &quot;Classic&quot; or ActiveMQ Artemis we can set JMSXGroupId as network name and ensure that messages are picked up by same thread/ensure there is ordering of the message belonging to same group that is network. How can I achieve this in RabbitMQ?\r\n\r\nSecond part if the above is possible (I&#39;m bit greedy), is it also possible say, I&#39;ve enabled route_key and create different queue for network/port/subnet or fanout and ensure messages belonging to different are released for consumption in the order based on message group.\r\n\r\nI see there is workaround in the client side using spring-integration [here][2], but Its at client side not in rabbitmq-server itself. Hence, I am not sure how it will ensure transaction and atomicity in HA (active-active mode) are handled in the same thread.\r\n\r\n  [1]: https://github.com/rabbitmq/rabbitmq-server/issues/262\r\n  [2]: https://stackoverflow.com/questions/42969130/group-received-messages-in-rabbitmq-preferably-using-spring-amqp","title":"RabbitMQ workaround for JMSXGroupId","body":"<p>I know RabbitMQ does not support JMSXGroupId, and from the <a href=\"https://github.com/rabbitmq/rabbitmq-server/issues/262\" rel=\"nofollow noreferrer\">link</a>, it seems no sooner this feature going to be incorporated to RabbitMQ. Is there any work around for that say using combination of exchanges/queues/topics? Here is my use case.</p>\n<p>Say I've 1 Producer Server and 2 consumer servers with multiple consumer threads consuming from the queue. The Producer Server creates a network and a subnet and multiple ports. All these request is converted json/stomp and put into a Queue. Now How can I guarantee that same thread processes all these request that belongs to same network. In ActiveMQ &quot;Classic&quot; or ActiveMQ Artemis we can set JMSXGroupId as network name and ensure that messages are picked up by same thread/ensure there is ordering of the message belonging to same group that is network. How can I achieve this in RabbitMQ?</p>\n<p>Second part if the above is possible (I'm bit greedy), is it also possible say, I've enabled route_key and create different queue for network/port/subnet or fanout and ensure messages belonging to different are released for consumption in the order based on message group.</p>\n<p>I see there is workaround in the client side using spring-integration <a href=\"https://stackoverflow.com/questions/42969130/group-received-messages-in-rabbitmq-preferably-using-spring-amqp\">here</a>, but Its at client side not in rabbitmq-server itself. Hence, I am not sure how it will ensure transaction and atomicity in HA (active-active mode) are handled in the same thread.</p>\n"},{"tags":["java","json","object","parsing"],"comments":[{"owner":{"account_id":6734594,"reputation":36672,"user_id":5189811,"display_name":"Oluwafemi Sule"},"score":1,"creation_date":1622773818,"post_id":67830513,"comment_id":119893809,"body_markdown":"Kindly edit your question to include minimum code to get by. Also include the necessary package imports.","body":"Kindly edit your question to include minimum code to get by. Also include the necessary package imports."}],"answers":[{"tags":[],"owner":{"account_id":8174719,"reputation":55,"user_id":6153881,"display_name":"Tiburon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649436311,"creation_date":1649189178,"answer_id":71757793,"question_id":67830513,"body_markdown":"I have the same problem using postman where I configured the REST API setting for the GET method.  Postman will display the JSON object with the backslashes.  I suspect the backslashes are escape characters due to the double quotes.  The JSON.parse() and JSON.stringify() within postman will not remove these backslashes. (e.g. used within Postman &#39;Tests&#39;)\r\n\r\n1) I&#39;m guessing you might be using a REST API and the JSON response comes back including the backslashes, as such the json response will need to be formatted into a valid json format.\r\n\r\n2) Cisco Call Studio introduced a new utility to allow the use of JSONPath expressions. JSONPath is a query language for JSON. You can use JSONPath expressions when building your Cisco Call Studio. In the &#39;Settings&#39; and for the &#39;value&#39; for the &#39;name&#39; you will use a java expression with the JSONPath expression.\r\n\r\n3) Use the online tools for JSON and JSONPath expressions, which will help with building expressions for REST API calls when the response is using JSON.\r\n\r\nhttps://jsonpathfinder.com/\r\n\r\n\r\nSo looking at the json sample, you will need to remove the backslashes.  Once you have a valid json format, then use jsonpathfind.com to construct your desired path (JSONPath) expression.\r\n\r\nThen you can validate your expression using https://jsonpath.com.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/NwVvg.jpg\r\n  [2]: https://i.stack.imgur.com/bG1eV.jpg","title":"Use JSONPathUtil.eval to extract object information","body":"<p>I have the same problem using postman where I configured the REST API setting for the GET method.  Postman will display the JSON object with the backslashes.  I suspect the backslashes are escape characters due to the double quotes.  The JSON.parse() and JSON.stringify() within postman will not remove these backslashes. (e.g. used within Postman 'Tests')</p>\n<ol>\n<li><p>I'm guessing you might be using a REST API and the JSON response comes back including the backslashes, as such the json response will need to be formatted into a valid json format.</p>\n</li>\n<li><p>Cisco Call Studio introduced a new utility to allow the use of JSONPath expressions. JSONPath is a query language for JSON. You can use JSONPath expressions when building your Cisco Call Studio. In the 'Settings' and for the 'value' for the 'name' you will use a java expression with the JSONPath expression.</p>\n</li>\n<li><p>Use the online tools for JSON and JSONPath expressions, which will help with building expressions for REST API calls when the response is using JSON.</p>\n</li>\n</ol>\n<p><a href=\"https://jsonpathfinder.com/\" rel=\"nofollow noreferrer\">https://jsonpathfinder.com/</a></p>\n<p>So looking at the json sample, you will need to remove the backslashes.  Once you have a valid json format, then use jsonpathfind.com to construct your desired path (JSONPath) expression.</p>\n<p>Then you can validate your expression using <a href=\"https://jsonpath.com\" rel=\"nofollow noreferrer\">https://jsonpath.com</a>.</p>\n<p><a href=\"https://i.stack.imgur.com/NwVvg.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NwVvg.jpg\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/bG1eV.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bG1eV.jpg\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":6564134,"reputation":35,"user_id":5074323,"display_name":"Foolishstar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696368513,"creation_date":1696368513,"answer_id":77225609,"question_id":67830513,"body_markdown":"I think the issue is just your array index within the path var, change it to the below and see how you get on.\r\n\r\n    importPackage(com.audium.server.cvpUtil);\r\n    var val= {Data.Element.GetUserCoverage.response_body}\r\n    var path = &quot;$ResponseSample[0].StartDate&quot;;\r\n    JSONPathUtil.eval(val , path);\r\n\r\nGonna need some testing and perhaps some .replace to get rid of those slashes.","title":"Use JSONPathUtil.eval to extract object information","body":"<p>I think the issue is just your array index within the path var, change it to the below and see how you get on.</p>\n<pre><code>importPackage(com.audium.server.cvpUtil);\nvar val= {Data.Element.GetUserCoverage.response_body}\nvar path = &quot;$ResponseSample[0].StartDate&quot;;\nJSONPathUtil.eval(val , path);\n</code></pre>\n<p>Gonna need some testing and perhaps some .replace to get rid of those slashes.</p>\n"}],"owner":{"account_id":13764120,"reputation":83,"user_id":9933094,"display_name":"Chad"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":301,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1696368513,"creation_date":1622771384,"question_id":67830513,"body_markdown":"I am working with data retrieved from API that is in JSON format.  I am limited to using JSONPathUtil.eval as well.  Given sample GET data I have the following output:\r\n\r\n    {\r\n    &quot;ResponseSample&quot;:&quot;{\\&quot;StartDate\\&quot;:\\&quot;2005-08-01\\&quot;,\\&quot;EndDate\\&quot;:\\&quot;2008-09-31\\&quot;,\\&quot;Status\\&quot;:\r\n    \\&quot;Pending\\&quot;}&quot;\r\n    }\r\n\r\nThe application I am using is Cisco Call Studio which uses preloaded Java elements.  In the node to define variables I have the following:\r\n\r\n    importPackage(com.audium.server.cvpUtil);\r\n    var val= {Data.Element.GetUserCoverage.response_body}\r\n    var path = &quot;$.StartDate&quot;;\r\n    JSONPathUtil.eval(val , path);\r\n\r\n&quot;var val&quot; is the result of the API call above.\r\n\r\nI am confused as the use of the backslash before and after the value:key pair as I understand those to be escape characters.  Not sure if that is the cause of my issue or not.  I have tried defining the following expressions to no avail:\r\n\r\n    $.StartDate\r\n    ResponseSample.*\r\n    ResponseSample.StartDate\r\n\r\nIn this instance does json.parse need to be used?  Any feedback greatly appreciated.  I am no pro to JSON so excuse the ignorance.","title":"Use JSONPathUtil.eval to extract object information","body":"<p>I am working with data retrieved from API that is in JSON format.  I am limited to using JSONPathUtil.eval as well.  Given sample GET data I have the following output:</p>\n<pre><code>{\n&quot;ResponseSample&quot;:&quot;{\\&quot;StartDate\\&quot;:\\&quot;2005-08-01\\&quot;,\\&quot;EndDate\\&quot;:\\&quot;2008-09-31\\&quot;,\\&quot;Status\\&quot;:\n\\&quot;Pending\\&quot;}&quot;\n}\n</code></pre>\n<p>The application I am using is Cisco Call Studio which uses preloaded Java elements.  In the node to define variables I have the following:</p>\n<pre><code>importPackage(com.audium.server.cvpUtil);\nvar val= {Data.Element.GetUserCoverage.response_body}\nvar path = &quot;$.StartDate&quot;;\nJSONPathUtil.eval(val , path);\n</code></pre>\n<p>&quot;var val&quot; is the result of the API call above.</p>\n<p>I am confused as the use of the backslash before and after the value:key pair as I understand those to be escape characters.  Not sure if that is the cause of my issue or not.  I have tried defining the following expressions to no avail:</p>\n<pre><code>$.StartDate\nResponseSample.*\nResponseSample.StartDate\n</code></pre>\n<p>In this instance does json.parse need to be used?  Any feedback greatly appreciated.  I am no pro to JSON so excuse the ignorance.</p>\n"},{"tags":["java","openshift","heap-memory","activemq-artemis","wildfly-10"],"comments":[{"owner":{"account_id":187094,"reputation":5113,"user_id":424903,"display_name":"Gimby"},"score":0,"creation_date":1455695815,"post_id":35450472,"comment_id":58598587,"body_markdown":"The place where the JVM runs out of memory is by no means necessary the place that is leaking memory. Its just where the gas tank ran dry. Or did you see this happening repeatedly on several restarts?","body":"The place where the JVM runs out of memory is by no means necessary the place that is leaking memory. Its just where the gas tank ran dry. Or did you see this happening repeatedly on several restarts?"},{"owner":{"account_id":5122787,"reputation":257,"user_id":4105853,"accept_rate":23,"display_name":"arun kumar"},"score":0,"creation_date":1455699886,"post_id":35450472,"comment_id":58600925,"body_markdown":"as per last one week logs daily i am finding once in each day log","body":"as per last one week logs daily i am finding once in each day log"},{"owner":{"account_id":187094,"reputation":5113,"user_id":424903,"display_name":"Gimby"},"score":0,"creation_date":1455703848,"post_id":35450472,"comment_id":58603885,"body_markdown":"I would rather report this somehow, as this is might still only be a symtom of a bigger problem, turning it off and ignoring it is not going to give you a guarantee of stability. I already find it amazing that Wildfly 10 is in there, that was only released like a week ago. I wouldn&#39;t call that production ready.","body":"I would rather report this somehow, as this is might still only be a symtom of a bigger problem, turning it off and ignoring it is not going to give you a guarantee of stability. I already find it amazing that Wildfly 10 is in there, that was only released like a week ago. I wouldn&#39;t call that production ready."}],"answers":[{"tags":[],"owner":{"display_name":"user2879327"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1455724023,"creation_date":1455724023,"answer_id":35461375,"question_id":35450472,"body_markdown":"If you are running this on a small gear, that is your issue.  WildFly 10 uses quite a bit of memory just by itself.  You should run it on a medium or large gear.  You can also try changing the amount of memory on the gear that is available to the JVM: https://developers.openshift.com/en/wildfly-jvm-memory.html","title":"Openshift Wildfly 10 restarts automatically due to Out Of Memory error","body":"<p>If you are running this on a small gear, that is your issue.  WildFly 10 uses quite a bit of memory just by itself.  You should run it on a medium or large gear.  You can also try changing the amount of memory on the gear that is available to the JVM: <a href=\"https://developers.openshift.com/en/wildfly-jvm-memory.html\" rel=\"nofollow\">https://developers.openshift.com/en/wildfly-jvm-memory.html</a></p>\n"},{"tags":[],"owner":{"account_id":8109437,"reputation":1,"user_id":6110041,"display_name":"Andrzej Szywała"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1458843453,"creation_date":1458831302,"answer_id":36203186,"question_id":35450472,"body_markdown":"Try to add `-Dactivemq.artemis.client.global.thread.pool.max.size=20`.\r\n\r\nThe default global thread pool used by Artemis client is 500 but the small gears have a thread limit of 250 threads. I had similar problem when I started 8 Wildfly instances on my Linux machine where was 4096 threads per user. Next day there was always java.lang.OutOfMemoryError: unable to create new native thread. I observed that artemis creates constantly new threads until it reaches 500.","title":"Openshift Wildfly 10 restarts automatically due to Out Of Memory error","body":"<p>Try to add <code>-Dactivemq.artemis.client.global.thread.pool.max.size=20</code>.</p>\n\n<p>The default global thread pool used by Artemis client is 500 but the small gears have a thread limit of 250 threads. I had similar problem when I started 8 Wildfly instances on my Linux machine where was 4096 threads per user. Next day there was always java.lang.OutOfMemoryError: unable to create new native thread. I observed that artemis creates constantly new threads until it reaches 500.</p>\n"},{"tags":[],"owner":{"account_id":2909206,"reputation":5133,"user_id":2493852,"display_name":"Ariel Carrera"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1467729997,"creation_date":1467729997,"answer_id":38206438,"question_id":35450472,"body_markdown":"When you run Wildfly with standalone-full.xml configuration, you have the JMS subsystem enabled. Wildfly 10.0.0.Final has a default Artemis&#39;s thread pool initialized with 500 threads. In future versions, it will be changed with a custom thread pool.\r\nWith Wildfly 10.0.0.Final, the simple way to say to Artemis initializes a minor number of threads (as Andrsej Szywala says) is with a command line parameter at startup like this:\r\n\r\n    sh standalone.sh -c standalone-full-ha.xml -Dactivemq.artemis.client.global.thread.pool.max.size=30  \r\n\r\n \r\nYou can read more in my post at jboss forum:\r\n\r\n[https://developer.jboss.org/thread/268397][1]\r\n\r\n\r\n  [1]: https://developer.jboss.org/thread/268397","title":"Openshift Wildfly 10 restarts automatically due to Out Of Memory error","body":"<p>When you run Wildfly with standalone-full.xml configuration, you have the JMS subsystem enabled. Wildfly 10.0.0.Final has a default Artemis's thread pool initialized with 500 threads. In future versions, it will be changed with a custom thread pool.\nWith Wildfly 10.0.0.Final, the simple way to say to Artemis initializes a minor number of threads (as Andrsej Szywala says) is with a command line parameter at startup like this:</p>\n\n<pre><code>sh standalone.sh -c standalone-full-ha.xml -Dactivemq.artemis.client.global.thread.pool.max.size=30  \n</code></pre>\n\n<p>You can read more in my post at jboss forum:</p>\n\n<p><a href=\"https://developer.jboss.org/thread/268397\" rel=\"nofollow\">https://developer.jboss.org/thread/268397</a></p>\n"},{"tags":[],"owner":{"account_id":7395051,"reputation":1919,"user_id":5627271,"display_name":"R&#233;mi Bantos"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1467736081,"creation_date":1467735140,"answer_id":38208081,"question_id":35450472,"body_markdown":"You could take a look at this [comment][1] on Wildfly openshift cartridge project open issues.\r\n\r\nTo summarize, some users have experienced memory, performance issues with this cartridge default settings.\r\nThis is particularly due to the fact that Openshift Wildfly cartridge enables Java EE 7 Full Profile by default (with a custom standalone.xml configuration file, not the standalone-full.xml as in default wildfly standalone configuration), which does not work well on small gears due to their limitations.\r\n\r\nBut a lot of Java EE 7 users only use Web Profile and do not need to enable all Java EE 7 Full Profile specs in their application actually.\r\n\r\nSo by enabling only Java EE 7 Web profile features and disabling Full Profile specific ones, such as messaging subsystem, you can make this cartridge work fine on a small gear.\r\n\r\nSee also this [other comment][2] for solution details and this [table][3] which lists differences between Java EE 7 profiles.\r\n\r\n\r\n  [1]: https://github.com/openshift-cartridges/openshift-wildfly-cartridge/issues/32#issuecomment-67836450\r\n  [2]: https://github.com/openshift-cartridges/openshift-wildfly-cartridge/issues/32#issuecomment-149360096\r\n  [3]: https://docs.jboss.org/author/display/WFLY10/Getting+Started+Guide?_sscc=t","title":"Openshift Wildfly 10 restarts automatically due to Out Of Memory error","body":"<p>You could take a look at this <a href=\"https://github.com/openshift-cartridges/openshift-wildfly-cartridge/issues/32#issuecomment-67836450\" rel=\"nofollow\">comment</a> on Wildfly openshift cartridge project open issues.</p>\n\n<p>To summarize, some users have experienced memory, performance issues with this cartridge default settings.\nThis is particularly due to the fact that Openshift Wildfly cartridge enables Java EE 7 Full Profile by default (with a custom standalone.xml configuration file, not the standalone-full.xml as in default wildfly standalone configuration), which does not work well on small gears due to their limitations.</p>\n\n<p>But a lot of Java EE 7 users only use Web Profile and do not need to enable all Java EE 7 Full Profile specs in their application actually.</p>\n\n<p>So by enabling only Java EE 7 Web profile features and disabling Full Profile specific ones, such as messaging subsystem, you can make this cartridge work fine on a small gear.</p>\n\n<p>See also this <a href=\"https://github.com/openshift-cartridges/openshift-wildfly-cartridge/issues/32#issuecomment-149360096\" rel=\"nofollow\">other comment</a> for solution details and this <a href=\"https://docs.jboss.org/author/display/WFLY10/Getting+Started+Guide?_sscc=t\" rel=\"nofollow\">table</a> which lists differences between Java EE 7 profiles.</p>\n"}],"owner":{"account_id":5122787,"reputation":257,"user_id":4105853,"accept_rate":23,"display_name":"arun kumar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1392,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":4,"score":1,"last_activity_date":1696367435,"creation_date":1455694483,"question_id":35450472,"body_markdown":"OpenShit Prouction App is restarting automatically daily once due to heap space error even though i haven&#39;t configured a message broker in my application, i found activemq is trying create new thread getting heap space error though my logs.\r\n\r\nShould we explicitly disable activemq?\r\n\r\n    [31m01:34:12,417 ERROR [org.apache.activemq.artemis.core.client] (Thread-114 (ActiveMQ-remoting-threads-ActiveMQServerImpl::serverUUID=54cb8ef9-d17a-11e5-b538-af749189a999-28800659-992791)) AMQ214017: Caught unexpected Throwable: java.lang.OutOfMemoryError: unable to create new native thread\r\n    \tat java.lang.Thread.start0(Native Method)\r\n    \tat java.lang.Thread.start(Thread.java:714)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.addWorker(ThreadPoolExecutor.java:950)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.execute(ThreadPoolExecutor.java:1357)\r\n    \tat org.apache.activemq.artemis.utils.OrderedExecutorFactory$OrderedExecutor.execute(OrderedExecutorFactory.java:85)\r\n    \tat org.apache.activemq.artemis.core.remoting.impl.invm.InVMConnection.write(InVMConnection.java:163)\r\n    \tat org.apache.activemq.artemis.core.remoting.impl.invm.InVMConnection.write(InVMConnection.java:151)\r\n    \tat org.apache.activemq.artemis.core.protocol.core.impl.ChannelImpl.send(ChannelImpl.java:259)\r\n    \tat org.apache.activemq.artemis.core.protocol.core.impl.ChannelImpl.send(ChannelImpl.java:201)\r\n    \tat org.apache.activemq.artemis.core.protocol.core.ServerSessionPacketHandler.doConfirmAndResponse(ServerSessionPacketHandler.java:579)\r\n    \tat org.apache.activemq.artemis.core.protocol.core.ServerSessionPacketHandler.access$000(ServerSessionPacketHandler.java:116)\r\n    \tat org.apache.activemq.artemis.core.protocol.core.ServerSessionPacketHandler$1.done(ServerSessionPacketHandler.java:561)\r\n    \tat org.apache.activemq.artemis.core.persistence.impl.journal.OperationContextImpl.executeOnCompletion(OperationContextImpl.java:161)\r\n    \tat org.apache.activemq.artemis.core.persistence.impl.journal.JournalStorageManager.afterCompleteOperations(JournalStorageManager.java:666)\r\n    \tat org.apache.activemq.artemis.core.protocol.core.ServerSessionPacketHandler.sendResponse(ServerSessionPacketHandler.java:546)\r\n    \tat org.apache.activemq.artemis.core.protocol.core.ServerSessionPacketHandler.handlePacket(ServerSessionPacketHandler.java:531)\r\n    \tat org.apache.activemq.artemis.core.protocol.core.impl.ChannelImpl.handlePacket(ChannelImpl.java:567)\r\n    \tat org.apache.activemq.artemis.core.protocol.core.impl.RemotingConnectionImpl.doBufferReceived(RemotingConnectionImpl.java:349)\r\n    \tat org.apache.activemq.artemis.core.protocol.core.impl.RemotingConnectionImpl.bufferReceived(RemotingConnectionImpl.java:331)\r\n    \tat org.apache.activemq.artemis.core.remoting.server.impl.RemotingServiceImpl$DelegatingBufferHandler.bufferReceived(RemotingServiceImpl.java:605)\r\n    \tat org.apache.activemq.artemis.core.remoting.impl.invm.InVMConnection$1.run(InVMConnection.java:171)\r\n    \tat org.apache.activemq.artemis.utils.OrderedExecutorFactory$OrderedExecutor$ExecutorTask.run(OrderedExecutorFactory.java:100)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n    \tat java.lang.Thread.run(Thread.java:745)","title":"Openshift Wildfly 10 restarts automatically due to Out Of Memory error","body":"<p>OpenShit Prouction App is restarting automatically daily once due to heap space error even though i haven't configured a message broker in my application, i found activemq is trying create new thread getting heap space error though my logs.</p>\n\n<p>Should we explicitly disable activemq?</p>\n\n<pre><code>[31m01:34:12,417 ERROR [org.apache.activemq.artemis.core.client] (Thread-114 (ActiveMQ-remoting-threads-ActiveMQServerImpl::serverUUID=54cb8ef9-d17a-11e5-b538-af749189a999-28800659-992791)) AMQ214017: Caught unexpected Throwable: java.lang.OutOfMemoryError: unable to create new native thread\n    at java.lang.Thread.start0(Native Method)\n    at java.lang.Thread.start(Thread.java:714)\n    at java.util.concurrent.ThreadPoolExecutor.addWorker(ThreadPoolExecutor.java:950)\n    at java.util.concurrent.ThreadPoolExecutor.execute(ThreadPoolExecutor.java:1357)\n    at org.apache.activemq.artemis.utils.OrderedExecutorFactory$OrderedExecutor.execute(OrderedExecutorFactory.java:85)\n    at org.apache.activemq.artemis.core.remoting.impl.invm.InVMConnection.write(InVMConnection.java:163)\n    at org.apache.activemq.artemis.core.remoting.impl.invm.InVMConnection.write(InVMConnection.java:151)\n    at org.apache.activemq.artemis.core.protocol.core.impl.ChannelImpl.send(ChannelImpl.java:259)\n    at org.apache.activemq.artemis.core.protocol.core.impl.ChannelImpl.send(ChannelImpl.java:201)\n    at org.apache.activemq.artemis.core.protocol.core.ServerSessionPacketHandler.doConfirmAndResponse(ServerSessionPacketHandler.java:579)\n    at org.apache.activemq.artemis.core.protocol.core.ServerSessionPacketHandler.access$000(ServerSessionPacketHandler.java:116)\n    at org.apache.activemq.artemis.core.protocol.core.ServerSessionPacketHandler$1.done(ServerSessionPacketHandler.java:561)\n    at org.apache.activemq.artemis.core.persistence.impl.journal.OperationContextImpl.executeOnCompletion(OperationContextImpl.java:161)\n    at org.apache.activemq.artemis.core.persistence.impl.journal.JournalStorageManager.afterCompleteOperations(JournalStorageManager.java:666)\n    at org.apache.activemq.artemis.core.protocol.core.ServerSessionPacketHandler.sendResponse(ServerSessionPacketHandler.java:546)\n    at org.apache.activemq.artemis.core.protocol.core.ServerSessionPacketHandler.handlePacket(ServerSessionPacketHandler.java:531)\n    at org.apache.activemq.artemis.core.protocol.core.impl.ChannelImpl.handlePacket(ChannelImpl.java:567)\n    at org.apache.activemq.artemis.core.protocol.core.impl.RemotingConnectionImpl.doBufferReceived(RemotingConnectionImpl.java:349)\n    at org.apache.activemq.artemis.core.protocol.core.impl.RemotingConnectionImpl.bufferReceived(RemotingConnectionImpl.java:331)\n    at org.apache.activemq.artemis.core.remoting.server.impl.RemotingServiceImpl$DelegatingBufferHandler.bufferReceived(RemotingServiceImpl.java:605)\n    at org.apache.activemq.artemis.core.remoting.impl.invm.InVMConnection$1.run(InVMConnection.java:171)\n    at org.apache.activemq.artemis.utils.OrderedExecutorFactory$OrderedExecutor$ExecutorTask.run(OrderedExecutorFactory.java:100)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at java.lang.Thread.run(Thread.java:745)\n</code></pre>\n"},{"tags":["java","jms","activemq-artemis","wildfly-10"],"comments":[{"owner":{"account_id":222568,"reputation":11754,"user_id":481248,"display_name":"Jason"},"score":0,"creation_date":1503439940,"post_id":45827222,"comment_id":78613580,"body_markdown":"It looks like ActiveMQ&#39;s implementation of a JMS `Session` (or more accurately an `ActiveMQDestination`) throws the null pointer exception.","body":"It looks like ActiveMQ&#39;s implementation of a JMS <code>Session</code> (or more accurately an <code>ActiveMQDestination</code>) throws the null pointer exception."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1503449225,"post_id":45827222,"comment_id":78615705,"body_markdown":"What is the object stored into `jmsSendToClientQueue` and how did it get into JNDI? It appears to be misconfigured.","body":"What is the object stored into <code>jmsSendToClientQueue</code> and how did it get into JNDI? It appears to be misconfigured."},{"owner":{"account_id":2758654,"reputation":509,"user_id":2376012,"accept_rate":36,"display_name":"George"},"score":0,"creation_date":1503538630,"post_id":45827222,"comment_id":78661415,"body_markdown":"jmsSendToClientQueue is a JMS Queue configured in WildFly&#39;s standalone-full.xml file using WF&#39;s CLI.:\nI amended the prior post to include the CLI command.  And relevant excerpts from the standalone-full.xml messaging subsystem.","body":"jmsSendToClientQueue is a JMS Queue configured in WildFly&#39;s standalone-full.xml file using WF&#39;s CLI.: I amended the prior post to include the CLI command.  And relevant excerpts from the standalone-full.xml messaging subsystem."}],"answers":[{"tags":[],"owner":{"account_id":59102,"reputation":627,"user_id":176859,"display_name":"idarwin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1516916477,"creation_date":1516916477,"answer_id":48452351,"question_id":45827222,"body_markdown":"I had a similar problem (but in isDestination(), server was Wildfly 11 Final) and worked around it by replacing all the JMS and EE related dependencies in my POM file with org.wildfly:wildfly-jms-client-bom:11.0.0.Final","title":"Why Does Simple JMS Client Throw impossible NullPonterExcepton -- From Session createConsumer()","body":"<p>I had a similar problem (but in isDestination(), server was Wildfly 11 Final) and worked around it by replacing all the JMS and EE related dependencies in my POM file with org.wildfly:wildfly-jms-client-bom:11.0.0.Final</p>\n"},{"tags":[],"owner":{"display_name":"user3510955"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1534938106,"creation_date":1534938106,"answer_id":51966087,"question_id":45827222,"body_markdown":"Upgrading Artemis versions to 2.6.2. worked for me. It looks like the old(er) versions had that bug: https://issues.jboss.org/browse/JBEAP-14006","title":"Why Does Simple JMS Client Throw impossible NullPonterExcepton -- From Session createConsumer()","body":"<p>Upgrading Artemis versions to 2.6.2. worked for me. It looks like the old(er) versions had that bug: <a href=\"https://issues.jboss.org/browse/JBEAP-14006\" rel=\"nofollow noreferrer\">https://issues.jboss.org/browse/JBEAP-14006</a></p>\n"}],"owner":{"account_id":2758654,"reputation":509,"user_id":2376012,"accept_rate":36,"display_name":"George"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":692,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1696367286,"creation_date":1503437164,"question_id":45827222,"body_markdown":"Can anyone tell me why my JMS Sessoin&#39;s createConsumer () throws a NullPointerException documentation says it doesn&#39; throw?\r\n\r\nI&#39;ve been struggling for weeks to get a simple Java Class that can establish a JMS connection and exchange messages with WildFly ... and failing miserably.\r\n\r\nIts Eclipse Neon and Wildfly 10.  (The working class I once had with WF-8 defaulted to Hornert.  Now I guess WF-10 defaluts to ArtemisMQ.)\r\n\r\nPlease find below:\r\n\r\n**ECLIPSE CONSOLE OUTPUT WITH STACK TRACE**\r\n\r\n**STANDALONE JAVE CLIENT CODE**\r\n\r\n**JARS ACCUMULATED SO FAR IN THE BUILD PATH**\r\n(I doubt all are needed, but have been picked up as a wandered through posts about this and earlier problems with WF-10)\r\n\r\nThanks for any help.\r\n\r\n**NOTE:** The code has an insane about of printing lines to format the Console output in a way that leaves no no doubt where the error is thrown. And the many irrelevant methods pasted at the bottom are just helpers I normally just import from my utility classes.  But I pasted them in, because the goal is to leave behind a straight forward WORKING example of a remote Java client messaging WF-10, so I had to paste the helpers in so this code will be free standing.  I.e. something a future newbie can just cut and paste and have a working starting point.\r\n\r\nBut stipping out all the printing code from main () leaves these 7 &quot;simple&quot; lines.)\r\n\r\n    Context ctx = new InitialContext(ENV); // Set Wildfly Initial Context\r\n    ConnectionFactory factory = (ConnectionFactory)ctx.lookup(&quot;jms/RemoteConnectionFactory&quot;);\r\n    Connection jmsConnection = factory.createConnection(\r\n        ENV.getProperty(Context.SECURITY_PRINCIPAL),\r\n        ENV.getProperty(Context.SECURITY_CREDENTIALS));\r\n    jmsConnection.start();\r\n    Session jmsSession = jmsConnection.createSession(false, Session.AUTO_ACKNOWLEDGE);\r\n    Queue jmsSendToClientQueue = (Queue) ctx.lookup(&quot;jms/queue/sendToClientQueue&quot;);\r\n    MessageConsumer jmsMsgConsumer = jmsSession.createConsumer(jmsSendToClientQueue, JMS_SELECTOR);\r\n      \r\nHelp!\r\n\r\n**ECLIPSE CONSOLE OUTPUT WITH STACK TRACE**\r\n\r\n    TestArtemisJmsWF10.main ()                   beg\r\n    \r\n      TestArtemisJmsWF10.main ()                   Requesting InitialContext with:\r\n            CONNECTION VARIABLES\r\n            key: java.naming.provider.url         value: http-remoting://localhost:8080\r\n            key: java.naming.factory.initial      value: org.jboss.naming.remote.client.InitialContextFactory\r\n            key: java.naming.security.principal   value: jmsUser\r\n            key: java.naming.security.credentials value: jmsUser123!\r\n    \r\n      TestArtemisJmsWF10.main ()                   InitialContext ok: javax.naming.InitialContext@4bbfb90a\r\n    \r\n      TestArtemisJmsWF10.main ()                   Lookup ConnectionFactory\r\n      TestArtemisJmsWF10.main ()                   JNDI lookUp name: &quot;jms/RemoteConnectionFactory&quot;\r\n      TestArtemisJmsWF10.main ()                   ConnectionFactory: Ok: \r\n                                                   [org.apache.activemq.artemis.jms.client.ActiveMQJMSConnectionFactory]\r\n    \r\n      TestArtemisJmsWF10.main ()                   JMS Connection: Ok:\r\n                                                   [org.apache.activemq.artemis.jms.client.ActiveMQConnection@6f03482]\r\n    \r\n      TestArtemisJmsWF10.main ()                   Starting jmsConnection &amp; initiating Session\r\n      TestArtemisJmsWF10.main ()                   Session ok - ActiveMQSession-&gt;ClientSessionImpl [name=b7cc0e2b-877b-11e7-a483-3ca9f4beb648, username=jmsUser, closed=false, factory = org.apache.activemq.artemis.core.client.impl.ClientSessionFactoryImpl@35fc6dc4, metaData=(jms-session=,)]@9d5509a\r\n    \r\n      TestArtemisJmsWF10.main ()                   Lookup Queue\r\n      TestArtemisJmsWF10.main ()                   JNDI lookUp name: &quot;jms/queue/sendToClientQueue&quot;\r\n      TestArtemisJmsWF10.main ()                   Queue secured: org.apache.activemq.artemis.jms.client.ActiveMQQueue\r\n    \r\n      TestArtemisJmsWF10.main ()                   Calling createConsumer() with selector: selector=&#39;AAAAA&#39;\r\n    \r\n      TestArtemisJmsWF10.main ()                   Caught: java.lang.NullPointerException\r\n                                                   when Creating JMS Message Consumer\r\n                                                   Msg   : null\r\n    TestArtemisJmsWF10.main ()                   end - error\r\n    java.lang.NullPointerException\r\n    \tat org.apache.activemq.artemis.jms.client.ActiveMQDestination$TYPE.isTemporary(ActiveMQDestination.java:397)\r\n    \tat org.apache.activemq.artemis.jms.client.ActiveMQDestination.isTemporary(ActiveMQDestination.java:308)\r\n    \tat org.apache.activemq.artemis.jms.client.ActiveMQSession.createConsumer(ActiveMQSession.java:367)\r\n    \tat org.apache.activemq.artemis.jms.client.ActiveMQSession.createConsumer(ActiveMQSession.java:350)\r\n    \tat org.america3.gotest.xtra.TestArtemisJmsWF10.main(TestArtemisJmsWF10.java:65)\r\n\r\n**STANDALONE JAVA CLIENT CODE**\r\n\r\n    import java.util.Properties;\r\n    import javax.naming.Context;\r\n    import javax.naming.InitialContext;\r\n    import javax.jms.Connection;\r\n    import javax.jms.ConnectionFactory;\r\n    import javax.jms.MessageConsumer;\r\n    import javax.jms.Queue;\r\n    import javax.jms.Session;\r\n    \r\n    public class TestArtemisJmsWF10 {\r\n    \r\n      static final Properties ENV = new Properties() {\r\n        private static final long serialVersionUID = 1L;\r\n        {\r\n          put(Context.INITIAL_CONTEXT_FACTORY, &quot;org.jboss.naming.remote.client.InitialContextFactory&quot;); \r\n          put(Context.PROVIDER_URL, &quot;http-remoting://localhost:8080&quot;);\r\n          put(Context.SECURITY_PRINCIPAL, &quot;jmsUser&quot;); \r\n          put(Context.SECURITY_CREDENTIALS, &quot;jmsUser123!&quot;); \r\n        }\r\n      };\r\n      static final String JMS_SELECTOR = &quot;selector=\\&#39;AAAAA\\&#39;&quot;;\r\n      \r\n      public static void main (String args[]) {\r\n        boolean p = true; String iAmM = null; String s = &quot;  &quot;; String errAt = &quot;&quot;;\r\n        if (p) iAmM = TestArtemisJmsWF10.getIAm(Thread.currentThread().getStackTrace());\r\n        if (p) P(iAmM + &quot;beg\\n&quot;);\r\n        if (p) P(s + iAmM + &quot;Requesting InitialContext with:&quot;);\r\n        if (p) P(printInitialContextProperties(8, ENV));\r\n        try {\r\n          errAt = &quot;Requesting InitialContext&quot;;\r\n          Context ctx = new InitialContext(ENV); // Set Wildfly Initial Context\r\n          if (p) P(&quot;\\n&quot; + s + iAmM + &quot;InitialContext ok: &quot; + ctx);\r\n          \r\n          errAt = &quot;LookingUp  ConnectionFactory&quot;;\r\n          if (p) P(&quot;\\n&quot; + s + iAmM + &quot;Lookup ConnectionFactory&quot;);\r\n          if (p) P(s + iAmM + &quot;JNDI lookUp name: \\&quot;jms/RemoteConnectionFactory\\&quot;&quot;);\r\n          ConnectionFactory factory = (ConnectionFactory) ctx.lookup(&quot;jms/RemoteConnectionFactory&quot;);\r\n          if (p) P(s + iAmM + &quot;ConnectionFactory: Ok: &quot; );\r\n          if (p) P(s + makeMargin(iAmM.length()) + &quot;[&quot; + factory.getClass().getName() +&quot;]&quot;);\r\n    \r\n          errAt = &quot;Requesting Connection&quot;;\r\n          Connection jmsConnection = factory.createConnection(\r\n              ENV.getProperty(Context.SECURITY_PRINCIPAL),\r\n              ENV.getProperty(Context.SECURITY_CREDENTIALS));\r\n          if (p) P(&quot;\\n&quot; + s + iAmM + &quot;JMS Connection: Ok:&quot;);\r\n          if (p) P(s + makeMargin(iAmM.length()) + &quot;[&quot; + jmsConnection + &quot;]&quot;);\r\n          \r\n          if (p) P(&quot;\\n&quot; + s + iAmM + &quot;Starting jmsConnection &amp; initiating Session&quot;);\r\n          errAt = &quot;Starting Connection&quot;;\r\n          jmsConnection.start();\r\n          errAt = &quot;Creating Session&quot;;\r\n          Session jmsSession = jmsConnection.createSession(false, Session.AUTO_ACKNOWLEDGE);\r\n          if (p) P(s + iAmM + &quot;Session ok - &quot; + jmsSession);\r\n          \r\n          errAt = &quot;Looking Up Queue&quot;;\r\n          if (p) P(&quot;\\n&quot; + s + iAmM + &quot;Lookup Queue&quot;);\r\n          if (p) P(s + iAmM + &quot;JNDI lookUp name: \\&quot;jms/queue/sendToClientQueue\\&quot;&quot;);\r\n          Queue jmsSendToClientQueue = (Queue) ctx.lookup(&quot;jms/queue/sendToClientQueue&quot;);\r\n          if(p) P(s + iAmM + &quot;Queue secured: &quot; + jmsSendToClientQueue.getClass().getName());\r\n    \r\n          errAt = &quot;Creating JMS Message Consumer&quot;;\r\n          if(p) P(&quot;\\n&quot; + s + iAmM + &quot;Calling createConsumer() with selector: &quot; + JMS_SELECTOR);\r\n          MessageConsumer jmsMsgConsumer = jmsSession.createConsumer(jmsSendToClientQueue, JMS_SELECTOR);\r\n          if(p) P(s + iAmM + &quot;Consumer secured: &quot; + jmsMsgConsumer);\r\n          if (p) P(iAmM + &quot;end&quot;);\r\n      } catch (Exception e) {\r\n          if(p) P(&quot;\\n&quot; + s + iAmM + &quot;Caught: &quot;+ e.getClass().getName()\r\n              + &quot;\\n&quot; + s + makeMargin(iAmM.length()) + &quot;when &quot; + errAt);\r\n          if(p) P(s + makeMargin(iAmM.length()) + &quot;Msg   : &quot; + e.getMessage());\r\n          if(p) P(iAmM + &quot;end - error&quot;);\r\n          if (p) e.printStackTrace();\r\n        }\r\n      }\r\n    \r\n      static public String printInitialContextProperties (int leader, Properties env) {\r\n        int maxLength = 0;\r\n        String s = padRight(&quot;&quot;, leader, &#39; &#39;);\r\n        for (Object keyO: env.keySet()) {\r\n          String key = (String) keyO;\r\n          maxLength = 1+Math.max(maxLength, key.length());\r\n        }\r\n        StringBuffer sb = new StringBuffer ();\r\n        sb.append(s + &quot;CONNECTION VARIABLES&quot;);\r\n        for (Object keyO: env.keySet()) {\r\n          String key = padRight((String)keyO, maxLength, &#39; &#39;);\r\n          sb.append(&quot;\\n&quot; + s + &quot;key: &quot; + key + &quot;value: &quot; + env.get(keyO));\r\n        }\r\n          return sb.toString();\r\n        }\r\n      \r\n      static public void P (String s) {\r\n        System.out.println(s);  \r\n      }\r\n      \r\n      static private String getIAm (StackTraceElement[] elements) {\r\n        StringBuffer sb = new StringBuffer ();\r\n        sb.append(getClassMethodName(elements));\r\n        sb.append(&quot; ()&quot;);\r\n        return padRight (sb.toString(), 45, &#39; &#39;) ;\r\n      }\r\n      \r\n      static public String getClassMethodName (StackTraceElement[] elements) {\r\n        /*\r\n         * This method finds the 1st org.america3 element from the top\r\n         * of the stack\r\n         */\r\n        String className = null;\r\n        for (int i = 0; i &lt; elements.length; i++) {\r\n          className = elements[i].getClassName ();\r\n          if (className.startsWith (&quot;org.america3&quot;)) {\r\n            int end = className.lastIndexOf (&#39;.&#39;);\r\n            return className.substring (end + 1) + &quot;.&quot; + elements[i].getMethodName ();\r\n          } else {\r\n           continue;\r\n          }\r\n        }\r\n      return &quot;no project method found in elements beginning with org.america3&quot; ;\r\n      }\r\n      \r\n      static public String padRight(String s, int width, char c){\r\n        if (s == null) return &quot;Null String&quot;;\r\n        if(s.length() &gt;= width){\r\n          return s;\r\n        } else {\r\n          StringBuffer sb = new StringBuffer();\r\n          sb.append (s);\r\n          for(int i = 0; i &lt; (width - s.length()); i++){\r\n            sb.append(c);\r\n          }\r\n          return sb.toString();\r\n        }\r\n      }\r\n    \r\n      static public String makeMargin (int padWidth) {\r\n        StringBuffer sb = new StringBuffer ();\r\n        for (int i = 0; i &lt; padWidth; i ++) {\r\n          sb.append(&#39; &#39;);\r\n        }\r\n        return sb.toString();\r\n      }\r\n      \r\n    }\r\n\r\n**JARS ACCUMULATED SO FAR IN THE BUILD PATH**\r\n\r\n    xnio-api-3.4.6.Final.jar    \r\n    xnio-nio-3.4.3.Final.jar\r\n    \r\n    slf4j-log4j12-1.8.0-alpha2.jar    \r\n    apache-logging-log4j.jar\r\n    \r\n    artemis-commons-2.2.0.jar    \r\n    artemis-core-client-2.2.0.jar    \r\n    artemis-jms-client-2.2.0.jar    \r\n    artemis-selector-2.2.0.jar\r\n    \r\n    commons-beanutils-1.9.2.jar    \r\n    commons-logging-1.1.1.jar    \r\n    commons-collections-3.2.1.jar\r\n    \r\n    netty-all-4.1.9.Final.jar\r\n    \r\n    javax.json-1.0.2.jar    \r\n    javax.jms-3.1.2.2.jar    \r\n    javax.mail-1.5.0.jar    \r\n    javax.jms-api-2.0.jar\r\n    \r\n    jboss-client.jar    \r\n    jboss-logging-3.1.4.GA.jar    \r\n    jboss-ejb-client-1.0.19.final.jar    \r\n    jboss-marshalling-1.3.15.GA.jar    \r\n    jboss-remoting-4.0.7.Final.jar    \r\n    jboss-remote-naming-2.0.1.Final.jar    \r\n    jboss-remoting-3.2.7.ga.jar    \r\n    jboss-marshalling-river-1.3.14.GA.jar\r\n    \r\n    hornetq-jms-client.jar\r\n\r\n**ADDED 2017-08-23**\r\n\r\n**WF CLI COMMAND USED TO CONFIGURE SERVER SIDE QUEUE**\r\n\r\n    [standalone@localhost:9990 /] /subsystem=messaging-activemq/server=default/jms-queue=SendToClientQue\r\n    ue:add(entries=[java:jboss/exported/jms/queue/sendToClientQueue]}\r\n    {&quot;outcome&quot; =&gt; &quot;success&quot;}\r\n    [standalone@localhost:9990 /]\r\n\r\n**STANDALONE-FULL.XML JMS MESSAGING SUBSYSTEM**\r\n\r\n    &lt;subsystem xmlns=&quot;urn:jboss:domain:messaging-activemq:1.0&quot;&gt;\r\n        &lt;server name=&quot;default&quot;&gt;\r\n            &lt;security enabled=&quot;false&quot;/&gt;\r\n            &lt;security-setting name=&quot;#&quot;&gt;\r\n                &lt;role name=&quot;guest&quot; send=&quot;true&quot; consume=&quot;true&quot; create-non-durable-queue=&quot;true&quot; delete-non-durable-queue=&quot;true&quot;/&gt;\r\n            &lt;/security-setting&gt;\r\n            ... \r\n            &lt;jms-queue name=&quot;ExpiryQueue&quot; entries=&quot;java:/jms/queue/ExpiryQueue&quot;/&gt;\r\n            &lt;jms-queue name=&quot;DLQ&quot; entries=&quot;java:/jms/queue/DLQ&quot;/&gt;\r\n            &lt;jms-queue name=&quot;SendToServerQueue&quot; entries=&quot;java:jboss/exported/jms/queue/sendToServerQueue&quot;/&gt;\r\n            &lt;jms-queue name=&quot;SendToClientQueue&quot; entries=&quot;java:jboss/exported/jms/queue/sendToClientQueue }&quot;/&gt;\r\n            &lt;connection-factory name=&quot;InVmConnectionFactory&quot; entries=&quot;java:/ConnectionFactory&quot; connectors=&quot;in-vm&quot;/&gt;\r\n            &lt;connection-factory name=&quot;RemoteConnectionFactory&quot; entries=&quot;java:jboss/exported/jms/RemoteConnectionFactory&quot; connectors=&quot;http-connector&quot;/&gt;\r\n            &lt;pooled-connection-factory name=&quot;activemq-ra&quot; entries=&quot;java:/JmsXA java:jboss/DefaultJMSConnectionFactory&quot; connectors=&quot;in-vm&quot; transaction=&quot;xa&quot;/&gt;\r\n        &lt;/server&gt;\r\n    &lt;/subsystem&gt;\r\n","title":"Why Does Simple JMS Client Throw impossible NullPonterExcepton -- From Session createConsumer()","body":"<p>Can anyone tell me why my JMS Sessoin's createConsumer () throws a NullPointerException documentation says it doesn' throw?</p>\n\n<p>I've been struggling for weeks to get a simple Java Class that can establish a JMS connection and exchange messages with WildFly ... and failing miserably.</p>\n\n<p>Its Eclipse Neon and Wildfly 10.  (The working class I once had with WF-8 defaulted to Hornert.  Now I guess WF-10 defaluts to ArtemisMQ.)</p>\n\n<p>Please find below:</p>\n\n<p><strong>ECLIPSE CONSOLE OUTPUT WITH STACK TRACE</strong></p>\n\n<p><strong>STANDALONE JAVE CLIENT CODE</strong></p>\n\n<p><strong>JARS ACCUMULATED SO FAR IN THE BUILD PATH</strong>\n(I doubt all are needed, but have been picked up as a wandered through posts about this and earlier problems with WF-10)</p>\n\n<p>Thanks for any help.</p>\n\n<p><strong>NOTE:</strong> The code has an insane about of printing lines to format the Console output in a way that leaves no no doubt where the error is thrown. And the many irrelevant methods pasted at the bottom are just helpers I normally just import from my utility classes.  But I pasted them in, because the goal is to leave behind a straight forward WORKING example of a remote Java client messaging WF-10, so I had to paste the helpers in so this code will be free standing.  I.e. something a future newbie can just cut and paste and have a working starting point.</p>\n\n<p>But stipping out all the printing code from main () leaves these 7 \"simple\" lines.)</p>\n\n<pre><code>Context ctx = new InitialContext(ENV); // Set Wildfly Initial Context\nConnectionFactory factory = (ConnectionFactory)ctx.lookup(\"jms/RemoteConnectionFactory\");\nConnection jmsConnection = factory.createConnection(\n    ENV.getProperty(Context.SECURITY_PRINCIPAL),\n    ENV.getProperty(Context.SECURITY_CREDENTIALS));\njmsConnection.start();\nSession jmsSession = jmsConnection.createSession(false, Session.AUTO_ACKNOWLEDGE);\nQueue jmsSendToClientQueue = (Queue) ctx.lookup(\"jms/queue/sendToClientQueue\");\nMessageConsumer jmsMsgConsumer = jmsSession.createConsumer(jmsSendToClientQueue, JMS_SELECTOR);\n</code></pre>\n\n<p>Help!</p>\n\n<p><strong>ECLIPSE CONSOLE OUTPUT WITH STACK TRACE</strong></p>\n\n<pre><code>TestArtemisJmsWF10.main ()                   beg\n\n  TestArtemisJmsWF10.main ()                   Requesting InitialContext with:\n        CONNECTION VARIABLES\n        key: java.naming.provider.url         value: http-remoting://localhost:8080\n        key: java.naming.factory.initial      value: org.jboss.naming.remote.client.InitialContextFactory\n        key: java.naming.security.principal   value: jmsUser\n        key: java.naming.security.credentials value: jmsUser123!\n\n  TestArtemisJmsWF10.main ()                   InitialContext ok: javax.naming.InitialContext@4bbfb90a\n\n  TestArtemisJmsWF10.main ()                   Lookup ConnectionFactory\n  TestArtemisJmsWF10.main ()                   JNDI lookUp name: \"jms/RemoteConnectionFactory\"\n  TestArtemisJmsWF10.main ()                   ConnectionFactory: Ok: \n                                               [org.apache.activemq.artemis.jms.client.ActiveMQJMSConnectionFactory]\n\n  TestArtemisJmsWF10.main ()                   JMS Connection: Ok:\n                                               [org.apache.activemq.artemis.jms.client.ActiveMQConnection@6f03482]\n\n  TestArtemisJmsWF10.main ()                   Starting jmsConnection &amp; initiating Session\n  TestArtemisJmsWF10.main ()                   Session ok - ActiveMQSession-&gt;ClientSessionImpl [name=b7cc0e2b-877b-11e7-a483-3ca9f4beb648, username=jmsUser, closed=false, factory = org.apache.activemq.artemis.core.client.impl.ClientSessionFactoryImpl@35fc6dc4, metaData=(jms-session=,)]@9d5509a\n\n  TestArtemisJmsWF10.main ()                   Lookup Queue\n  TestArtemisJmsWF10.main ()                   JNDI lookUp name: \"jms/queue/sendToClientQueue\"\n  TestArtemisJmsWF10.main ()                   Queue secured: org.apache.activemq.artemis.jms.client.ActiveMQQueue\n\n  TestArtemisJmsWF10.main ()                   Calling createConsumer() with selector: selector='AAAAA'\n\n  TestArtemisJmsWF10.main ()                   Caught: java.lang.NullPointerException\n                                               when Creating JMS Message Consumer\n                                               Msg   : null\nTestArtemisJmsWF10.main ()                   end - error\njava.lang.NullPointerException\n    at org.apache.activemq.artemis.jms.client.ActiveMQDestination$TYPE.isTemporary(ActiveMQDestination.java:397)\n    at org.apache.activemq.artemis.jms.client.ActiveMQDestination.isTemporary(ActiveMQDestination.java:308)\n    at org.apache.activemq.artemis.jms.client.ActiveMQSession.createConsumer(ActiveMQSession.java:367)\n    at org.apache.activemq.artemis.jms.client.ActiveMQSession.createConsumer(ActiveMQSession.java:350)\n    at org.america3.gotest.xtra.TestArtemisJmsWF10.main(TestArtemisJmsWF10.java:65)\n</code></pre>\n\n<p><strong>STANDALONE JAVA CLIENT CODE</strong></p>\n\n<pre><code>import java.util.Properties;\nimport javax.naming.Context;\nimport javax.naming.InitialContext;\nimport javax.jms.Connection;\nimport javax.jms.ConnectionFactory;\nimport javax.jms.MessageConsumer;\nimport javax.jms.Queue;\nimport javax.jms.Session;\n\npublic class TestArtemisJmsWF10 {\n\n  static final Properties ENV = new Properties() {\n    private static final long serialVersionUID = 1L;\n    {\n      put(Context.INITIAL_CONTEXT_FACTORY, \"org.jboss.naming.remote.client.InitialContextFactory\"); \n      put(Context.PROVIDER_URL, \"http-remoting://localhost:8080\");\n      put(Context.SECURITY_PRINCIPAL, \"jmsUser\"); \n      put(Context.SECURITY_CREDENTIALS, \"jmsUser123!\"); \n    }\n  };\n  static final String JMS_SELECTOR = \"selector=\\'AAAAA\\'\";\n\n  public static void main (String args[]) {\n    boolean p = true; String iAmM = null; String s = \"  \"; String errAt = \"\";\n    if (p) iAmM = TestArtemisJmsWF10.getIAm(Thread.currentThread().getStackTrace());\n    if (p) P(iAmM + \"beg\\n\");\n    if (p) P(s + iAmM + \"Requesting InitialContext with:\");\n    if (p) P(printInitialContextProperties(8, ENV));\n    try {\n      errAt = \"Requesting InitialContext\";\n      Context ctx = new InitialContext(ENV); // Set Wildfly Initial Context\n      if (p) P(\"\\n\" + s + iAmM + \"InitialContext ok: \" + ctx);\n\n      errAt = \"LookingUp  ConnectionFactory\";\n      if (p) P(\"\\n\" + s + iAmM + \"Lookup ConnectionFactory\");\n      if (p) P(s + iAmM + \"JNDI lookUp name: \\\"jms/RemoteConnectionFactory\\\"\");\n      ConnectionFactory factory = (ConnectionFactory) ctx.lookup(\"jms/RemoteConnectionFactory\");\n      if (p) P(s + iAmM + \"ConnectionFactory: Ok: \" );\n      if (p) P(s + makeMargin(iAmM.length()) + \"[\" + factory.getClass().getName() +\"]\");\n\n      errAt = \"Requesting Connection\";\n      Connection jmsConnection = factory.createConnection(\n          ENV.getProperty(Context.SECURITY_PRINCIPAL),\n          ENV.getProperty(Context.SECURITY_CREDENTIALS));\n      if (p) P(\"\\n\" + s + iAmM + \"JMS Connection: Ok:\");\n      if (p) P(s + makeMargin(iAmM.length()) + \"[\" + jmsConnection + \"]\");\n\n      if (p) P(\"\\n\" + s + iAmM + \"Starting jmsConnection &amp; initiating Session\");\n      errAt = \"Starting Connection\";\n      jmsConnection.start();\n      errAt = \"Creating Session\";\n      Session jmsSession = jmsConnection.createSession(false, Session.AUTO_ACKNOWLEDGE);\n      if (p) P(s + iAmM + \"Session ok - \" + jmsSession);\n\n      errAt = \"Looking Up Queue\";\n      if (p) P(\"\\n\" + s + iAmM + \"Lookup Queue\");\n      if (p) P(s + iAmM + \"JNDI lookUp name: \\\"jms/queue/sendToClientQueue\\\"\");\n      Queue jmsSendToClientQueue = (Queue) ctx.lookup(\"jms/queue/sendToClientQueue\");\n      if(p) P(s + iAmM + \"Queue secured: \" + jmsSendToClientQueue.getClass().getName());\n\n      errAt = \"Creating JMS Message Consumer\";\n      if(p) P(\"\\n\" + s + iAmM + \"Calling createConsumer() with selector: \" + JMS_SELECTOR);\n      MessageConsumer jmsMsgConsumer = jmsSession.createConsumer(jmsSendToClientQueue, JMS_SELECTOR);\n      if(p) P(s + iAmM + \"Consumer secured: \" + jmsMsgConsumer);\n      if (p) P(iAmM + \"end\");\n  } catch (Exception e) {\n      if(p) P(\"\\n\" + s + iAmM + \"Caught: \"+ e.getClass().getName()\n          + \"\\n\" + s + makeMargin(iAmM.length()) + \"when \" + errAt);\n      if(p) P(s + makeMargin(iAmM.length()) + \"Msg   : \" + e.getMessage());\n      if(p) P(iAmM + \"end - error\");\n      if (p) e.printStackTrace();\n    }\n  }\n\n  static public String printInitialContextProperties (int leader, Properties env) {\n    int maxLength = 0;\n    String s = padRight(\"\", leader, ' ');\n    for (Object keyO: env.keySet()) {\n      String key = (String) keyO;\n      maxLength = 1+Math.max(maxLength, key.length());\n    }\n    StringBuffer sb = new StringBuffer ();\n    sb.append(s + \"CONNECTION VARIABLES\");\n    for (Object keyO: env.keySet()) {\n      String key = padRight((String)keyO, maxLength, ' ');\n      sb.append(\"\\n\" + s + \"key: \" + key + \"value: \" + env.get(keyO));\n    }\n      return sb.toString();\n    }\n\n  static public void P (String s) {\n    System.out.println(s);  \n  }\n\n  static private String getIAm (StackTraceElement[] elements) {\n    StringBuffer sb = new StringBuffer ();\n    sb.append(getClassMethodName(elements));\n    sb.append(\" ()\");\n    return padRight (sb.toString(), 45, ' ') ;\n  }\n\n  static public String getClassMethodName (StackTraceElement[] elements) {\n    /*\n     * This method finds the 1st org.america3 element from the top\n     * of the stack\n     */\n    String className = null;\n    for (int i = 0; i &lt; elements.length; i++) {\n      className = elements[i].getClassName ();\n      if (className.startsWith (\"org.america3\")) {\n        int end = className.lastIndexOf ('.');\n        return className.substring (end + 1) + \".\" + elements[i].getMethodName ();\n      } else {\n       continue;\n      }\n    }\n  return \"no project method found in elements beginning with org.america3\" ;\n  }\n\n  static public String padRight(String s, int width, char c){\n    if (s == null) return \"Null String\";\n    if(s.length() &gt;= width){\n      return s;\n    } else {\n      StringBuffer sb = new StringBuffer();\n      sb.append (s);\n      for(int i = 0; i &lt; (width - s.length()); i++){\n        sb.append(c);\n      }\n      return sb.toString();\n    }\n  }\n\n  static public String makeMargin (int padWidth) {\n    StringBuffer sb = new StringBuffer ();\n    for (int i = 0; i &lt; padWidth; i ++) {\n      sb.append(' ');\n    }\n    return sb.toString();\n  }\n\n}\n</code></pre>\n\n<p><strong>JARS ACCUMULATED SO FAR IN THE BUILD PATH</strong></p>\n\n<pre><code>xnio-api-3.4.6.Final.jar    \nxnio-nio-3.4.3.Final.jar\n\nslf4j-log4j12-1.8.0-alpha2.jar    \napache-logging-log4j.jar\n\nartemis-commons-2.2.0.jar    \nartemis-core-client-2.2.0.jar    \nartemis-jms-client-2.2.0.jar    \nartemis-selector-2.2.0.jar\n\ncommons-beanutils-1.9.2.jar    \ncommons-logging-1.1.1.jar    \ncommons-collections-3.2.1.jar\n\nnetty-all-4.1.9.Final.jar\n\njavax.json-1.0.2.jar    \njavax.jms-3.1.2.2.jar    \njavax.mail-1.5.0.jar    \njavax.jms-api-2.0.jar\n\njboss-client.jar    \njboss-logging-3.1.4.GA.jar    \njboss-ejb-client-1.0.19.final.jar    \njboss-marshalling-1.3.15.GA.jar    \njboss-remoting-4.0.7.Final.jar    \njboss-remote-naming-2.0.1.Final.jar    \njboss-remoting-3.2.7.ga.jar    \njboss-marshalling-river-1.3.14.GA.jar\n\nhornetq-jms-client.jar\n</code></pre>\n\n<p><strong>ADDED 2017-08-23</strong></p>\n\n<p><strong>WF CLI COMMAND USED TO CONFIGURE SERVER SIDE QUEUE</strong></p>\n\n<pre><code>[standalone@localhost:9990 /] /subsystem=messaging-activemq/server=default/jms-queue=SendToClientQue\nue:add(entries=[java:jboss/exported/jms/queue/sendToClientQueue]}\n{\"outcome\" =&gt; \"success\"}\n[standalone@localhost:9990 /]\n</code></pre>\n\n<p><strong>STANDALONE-FULL.XML JMS MESSAGING SUBSYSTEM</strong></p>\n\n<pre><code>&lt;subsystem xmlns=\"urn:jboss:domain:messaging-activemq:1.0\"&gt;\n    &lt;server name=\"default\"&gt;\n        &lt;security enabled=\"false\"/&gt;\n        &lt;security-setting name=\"#\"&gt;\n            &lt;role name=\"guest\" send=\"true\" consume=\"true\" create-non-durable-queue=\"true\" delete-non-durable-queue=\"true\"/&gt;\n        &lt;/security-setting&gt;\n        ... \n        &lt;jms-queue name=\"ExpiryQueue\" entries=\"java:/jms/queue/ExpiryQueue\"/&gt;\n        &lt;jms-queue name=\"DLQ\" entries=\"java:/jms/queue/DLQ\"/&gt;\n        &lt;jms-queue name=\"SendToServerQueue\" entries=\"java:jboss/exported/jms/queue/sendToServerQueue\"/&gt;\n        &lt;jms-queue name=\"SendToClientQueue\" entries=\"java:jboss/exported/jms/queue/sendToClientQueue }\"/&gt;\n        &lt;connection-factory name=\"InVmConnectionFactory\" entries=\"java:/ConnectionFactory\" connectors=\"in-vm\"/&gt;\n        &lt;connection-factory name=\"RemoteConnectionFactory\" entries=\"java:jboss/exported/jms/RemoteConnectionFactory\" connectors=\"http-connector\"/&gt;\n        &lt;pooled-connection-factory name=\"activemq-ra\" entries=\"java:/JmsXA java:jboss/DefaultJMSConnectionFactory\" connectors=\"in-vm\" transaction=\"xa\"/&gt;\n    &lt;/server&gt;\n&lt;/subsystem&gt;\n</code></pre>\n"},{"tags":["java","encoding","utf-16"],"comments":[{"owner":{"account_id":16788104,"reputation":151,"user_id":12136508,"display_name":"newman"},"score":0,"creation_date":1695997858,"post_id":77202744,"comment_id":136101597,"body_markdown":"standard window&#39;s notepad does support utf-16 LE and BE","body":"standard window&#39;s notepad does support utf-16 LE and BE"},{"owner":{"account_id":401843,"reputation":89758,"user_id":768644,"display_name":"rzwitserloot"},"score":3,"creation_date":1695998341,"post_id":77202744,"comment_id":136101712,"body_markdown":"there is nothing wrong with the java code. What&#39;s wrong is the tool you use to read debugging.txt. text files do not  contain the encoding used to write them, hence, to open a text file, you need to supply __2__ things: A file, AND an encoding. Do it right (pass &#39;UTF-16BE&#39;) and it would look normal. Your editor is guessing at the encoding, and guesses ISO-8559-1, which would result in something that _looks_ like &#39; t e s t&#39;.","body":"there is nothing wrong with the java code. What&#39;s wrong is the tool you use to read debugging.txt. text files do not  contain the encoding used to write them, hence, to open a text file, you need to supply <b>2</b> things: A file, AND an encoding. Do it right (pass &#39;UTF-16BE&#39;) and it would look normal. Your editor is guessing at the encoding, and guesses ISO-8559-1, which would result in something that <i>looks</i> like &#39; t e s t&#39;."},{"owner":{"account_id":16788104,"reputation":151,"user_id":12136508,"display_name":"newman"},"score":0,"creation_date":1695998819,"post_id":77202744,"comment_id":136101815,"body_markdown":"yes, thank you for the reply! the BOM is missing, so this seems to be the cause","body":"yes, thank you for the reply! the BOM is missing, so this seems to be the cause"},{"owner":{"account_id":401843,"reputation":89758,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1696008189,"post_id":77202744,"comment_id":136103694,"body_markdown":"@newman The BOM is intentionally not added; use `UTF-16` (no LE or BE) and it -is- added if I recall correctly. The spec is explicit about this. If you want the BOM anyway, add it by hand - send `&#39;\\uFEFF&#39;` before sending the string. Editors are not guaranteed to guess correctly when the BOM is there, but it improves the odds.","body":"@newman The BOM is intentionally not added; use <code>UTF-16</code> (no LE or BE) and it -is- added if I recall correctly. The spec is explicit about this. If you want the BOM anyway, add it by hand - send <code>&#39;\\uFEFF&#39;</code> before sending the string. Editors are not guaranteed to guess correctly when the BOM is there, but it improves the odds."}],"answers":[{"tags":[],"owner":{"account_id":350117,"reputation":8653,"user_id":685806,"accept_rate":44,"display_name":"Pino"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1695998231,"creation_date":1695998231,"answer_id":77202826,"question_id":77202744,"body_markdown":"[Javadoc][1] says:\r\n\r\n&gt; When decoding, the UTF-16BE and UTF-16LE charsets interpret the\r\n&gt; initial byte-order marks as a ZERO-WIDTH NON-BREAKING SPACE; when\r\n&gt; encoding, they do not write byte-order marks.\r\n\r\nWithout a [BOM][2], editors have to guess the correct encoding and they could be not so clever.  Some editor could simply not support some encoding.  So it depends on the editor that you use to read the file.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/charset/Charset.html#standard\r\n  [2]: https://it.wikipedia.org/wiki/Byte_Order_Mark","title":"java, StandardCharsets utf-16 issue","body":"<p><a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/charset/Charset.html#standard\" rel=\"nofollow noreferrer\">Javadoc</a> says:</p>\n<blockquote>\n<p>When decoding, the UTF-16BE and UTF-16LE charsets interpret the\ninitial byte-order marks as a ZERO-WIDTH NON-BREAKING SPACE; when\nencoding, they do not write byte-order marks.</p>\n</blockquote>\n<p>Without a <a href=\"https://it.wikipedia.org/wiki/Byte_Order_Mark\" rel=\"nofollow noreferrer\">BOM</a>, editors have to guess the correct encoding and they could be not so clever.  Some editor could simply not support some encoding.  So it depends on the editor that you use to read the file.</p>\n"}],"owner":{"account_id":16788104,"reputation":151,"user_id":12136508,"display_name":"newman"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77202826,"answer_count":1,"score":0,"last_activity_date":1696367064,"creation_date":1695997616,"question_id":77202744,"body_markdown":"I&#39;m trying to understand why the results are different when I try to write a test string using different encodings.\r\n\r\nFor `StandardCharsets.UTF_16LE`, the result is `&quot;test&quot;` (seems correct), while for `StandardCharsets.UTF_16BE` the result is `&quot; t e s t&quot;` (seems wrong).\r\n\r\nCan someone please explain why in the case of `UTF_16BE` the result is having unnecessary spaces between letters?\r\n\r\n```java\r\nString filename=&quot;C:\\\\Users\\\\name\\\\Downloads\\\\debugging.txt&quot;;\r\nString str=&quot;test&quot;;\r\n\r\nFile fl = new File(filename);\r\n\r\ntry {\r\n    FileOutputStream fos = new FileOutputStream(fl);\r\n\r\n    //BufferedWriter bw = new BufferedWriter(new OutputStreamWriter(fos, StandardCharsets.UTF_16LE)); //seems does work\r\n    BufferedWriter bw = new BufferedWriter(new OutputStreamWriter(fos, StandardCharsets.UTF_16BE)); //seems does not work\r\n\r\n    bw.write(str);\r\n} catch (IOException ignored) {\r\n    //some actions\r\n}\r\n```","title":"java, StandardCharsets utf-16 issue","body":"<p>I'm trying to understand why the results are different when I try to write a test string using different encodings.</p>\n<p>For <code>StandardCharsets.UTF_16LE</code>, the result is <code>&quot;test&quot;</code> (seems correct), while for <code>StandardCharsets.UTF_16BE</code> the result is <code>&quot; t e s t&quot;</code> (seems wrong).</p>\n<p>Can someone please explain why in the case of <code>UTF_16BE</code> the result is having unnecessary spaces between letters?</p>\n<pre class=\"lang-java prettyprint-override\"><code>String filename=&quot;C:\\\\Users\\\\name\\\\Downloads\\\\debugging.txt&quot;;\nString str=&quot;test&quot;;\n\nFile fl = new File(filename);\n\ntry {\n    FileOutputStream fos = new FileOutputStream(fl);\n\n    //BufferedWriter bw = new BufferedWriter(new OutputStreamWriter(fos, StandardCharsets.UTF_16LE)); //seems does work\n    BufferedWriter bw = new BufferedWriter(new OutputStreamWriter(fos, StandardCharsets.UTF_16BE)); //seems does not work\n\n    bw.write(str);\n} catch (IOException ignored) {\n    //some actions\n}\n</code></pre>\n"},{"tags":["java","out-of-memory","32-bit","visualvm","adoptopenjdk"],"comments":[{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":0,"creation_date":1696266062,"post_id":77217226,"comment_id":136128096,"body_markdown":"Since it&#39;s pretty important in this case: 32 or 64 bit? Also, how are you invoking java? And of course: how much free memory is there when you try run java?","body":"Since it&#39;s pretty important in this case: 32 or 64 bit? Also, how are you invoking java? And of course: how much free memory is there when you try run java?"},{"owner":{"account_id":4206618,"reputation":808,"user_id":4180447,"accept_rate":47,"display_name":"tarekahf"},"score":0,"creation_date":1696269849,"post_id":77217226,"comment_id":136128734,"body_markdown":"This is where I need help for troubleshooting or debugging. Since it&#39;s 32-bit JRE on Windows, this means, only 1.5 GB will be available in the first 4GB block or at least this is my understanding. The server has a more than 10GB free RAM, yet it&#39;s throwing the errors as mentioned in the question. I can&#39;t use 64-bit as of now. Java is started using the command line as usual.","body":"This is where I need help for troubleshooting or debugging. Since it&#39;s 32-bit JRE on Windows, this means, only 1.5 GB will be available in the first 4GB block or at least this is my understanding. The server has a more than 10GB free RAM, yet it&#39;s throwing the errors as mentioned in the question. I can&#39;t use 64-bit as of now. Java is started using the command line as usual."},{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":0,"creation_date":1696272884,"post_id":77217226,"comment_id":136129308,"body_markdown":"Remember to put that information in the post, not just a comment. Also please explain what the server is (at the very least enough specs to cover the aspects that are relevant to the JVM), because that&#39;s still unclear.","body":"Remember to put that information in the post, not just a comment. Also please explain what the server is (at the very least enough specs to cover the aspects that are relevant to the JVM), because that&#39;s still unclear."}],"answers":[{"tags":[],"owner":{"account_id":6212471,"reputation":37,"user_id":4838367,"display_name":"Jagan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696332746,"creation_date":1696332746,"answer_id":77221880,"question_id":77217226,"body_markdown":"There is space limitation for 32-bit process. Each process can use up to 2GB. (Refer [another SO Answer][1])\r\n\r\nYou can use OpenJ9 JVM from IBM (still IBM support 32bit version for Java 8) which can significantly reduce overall memory footprint and you can start your application. [JDK Link][2]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/21264320/4838367\r\n  [2]: https://github.com/ibmruntimes/semeru8-binaries/releases/download/jdk8u382-b05_openj9-0.40.0/ibm-semeru-open-jdk_x86-32_windows_8u382b05_openj9-0.40.0.zip","title":"OpenJDK errors java.lang.OutOfMemoryError: Java heap space and Could not reserve enough space for 1048576KB object heap","body":"<p>There is space limitation for 32-bit process. Each process can use up to 2GB. (Refer <a href=\"https://stackoverflow.com/a/21264320/4838367\">another SO Answer</a>)</p>\n<p>You can use OpenJ9 JVM from IBM (still IBM support 32bit version for Java 8) which can significantly reduce overall memory footprint and you can start your application. <a href=\"https://github.com/ibmruntimes/semeru8-binaries/releases/download/jdk8u382-b05_openj9-0.40.0/ibm-semeru-open-jdk_x86-32_windows_8u382b05_openj9-0.40.0.zip\" rel=\"nofollow noreferrer\">JDK Link</a></p>\n"}],"owner":{"account_id":4206618,"reputation":808,"user_id":4180447,"accept_rate":47,"display_name":"tarekahf"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":238,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696366965,"creation_date":1696265858,"question_id":77217226,"body_markdown":"The team switched from Oracle JRE 1.8 to OpenJDK. Started the test with this version:\r\n\r\n```\r\njava-1.8.0-openjdk-1.8-&#216;.372\r\n```\r\n\r\nThings were OK until load testing started and moved to a higher staging environment. The team started getting the following errors:\r\n\r\nCannot start the application with -Xmx1024m:\r\n```\r\nError occurred during initialization of VM\r\nCould not reserve enough space for 1048576KB object heap\r\n```\r\n\r\nThen, change the JVM memory parameter to -Xmx512m (or kill some unwanted background services/tasks on Windows Server), the application will start successfully and then start throwing the following errors halfway through load testing:\r\n\r\n```\r\njava.lang.OutOfMemoryError: Java heap space\r\n```\r\n\r\nThere is the following restriction: must use JRE 32-bit version 1.8.0_341 or lower since the JDK used was based on 1.7. The 32-bit is due to using other components that don&#39;t work with 64-bit.\r\n\r\nI have done extensive research, and came across various articles including this one:\r\n\r\nhttps://stackoverflow.com/questions/16568253/difference-between-jvm-and-hotspot\r\n\r\nNote that the application has been working for years, without any error, with Oracle&#39;s JRE 1.8 update 341.\r\n\r\nI have the following troubleshooting plan:\r\n\r\n1. Switch between OpenJ9 and HotSpot OpenJDK\r\n\r\nOpenJ9: https://developer.ibm.com/languages/java/semeru-runtimes/downloads/  \r\nHotSpot: https://adoptium.net/temurin/releases/?version=8\r\n\r\n2. Try a lower or higher version of OpenJDK since there is no one-to-one mapping between the Oracle JRE version and that of OpenJDK.\r\n\r\n3. Try other GC Algorithms based on this article:\r\n\r\nhttps://developers.redhat.com/articles/2021/11/02/how-choose-best-java-garbage-collector\r\n\r\n5. Submit a ticket to Redhat support.\r\n\r\n\r\nI need your help to find other troubleshooting options, and in particular, how to use Java tools to start profiling and memory debugging to see what is going wrong.  \r\n\r\n---  \r\nUpdate 1:  \r\n===  \r\n\r\nIn the following, I will provide info about the OpenJDK and other details.\r\n\r\n- When running `java -version -XshowSettings:properties` I get the following:\r\n```\r\nopenjdk version &quot;1.8.0_372&quot;\r\nOpenJDK Runtime Environment (build 1.8.0_372-b07)\r\nOpenJDK Server VM (build 25.372-b07, mixed mode)\r\n\r\nProperty settings:\r\n    awt.toolkit = sun.awt.windows.WToolkit\r\n    file.encoding = Cp1252\r\n    file.encoding.pkg = sun.io\r\n    file.separator = \\\r\n    java.awt.graphicsenv = sun.awt.Win32GraphicsEnvironment\r\n    java.awt.printerjob = sun.awt.windows.WPrinterJob\r\n    java.class.path = .\r\n    java.class.version = 52.0\r\n    java.endorsed.dirs = C:\\Program Files (x86)\\RedHat\\java-1.8.0-openjdk-1.8.0.372-1\\jre\\lib\\endorsed\r\n    java.ext.dirs = C:\\Program Files (x86)\\RedHat\\java-1.8.0-openjdk-1.8.0.372-1\\jre\\lib\\ext\r\n        C:\\Windows\\Sun\\Java\\lib\\ext\r\n    java.home = C:\\Program Files (x86)\\RedHat\\java-1.8.0-openjdk-1.8.0.372-1\\jre\r\n    java.runtime.name = OpenJDK Runtime Environment\r\n    java.runtime.version = 1.8.0_372-b07\r\n    java.specification.maintenance.version = 4\r\n    java.specification.name = Java Platform API Specification\r\n    java.specification.vendor = Oracle Corporation\r\n    java.specification.version = 1.8\r\n    java.vendor = Red Hat, Inc.\r\n    java.vendor.url = https://developers.redhat.com/\r\n    java.vendor.url.bug = https://bugzilla.redhat.com/enter_bug.cgi\r\n    java.version = 1.8.0_372\r\n    java.vm.info = mixed mode\r\n    java.vm.name = OpenJDK Server VM\r\n    java.vm.specification.name = Java Virtual Machine Specification\r\n    java.vm.specification.vendor = Oracle Corporation\r\n    java.vm.specification.version = 1.8\r\n    java.vm.vendor = Red Hat, Inc.\r\n    java.vm.version = 25.372-b07\r\n    line.separator = \\r \\n\r\n    os.arch = x86\r\n    os.name = Windows Server 2019\r\n    os.version = 10.0\r\n    path.separator = ;\r\n    sun.arch.data.model = 32\r\n    sun.boot.class.path = C:\\Program Files (x86)\\RedHat\\java-1.8.0-openjdk-1.8.0.372-1\\jre\\lib\\resources.jar\r\n        C:\\Program Files (x86)\\RedHat\\java-1.8.0-openjdk-1.8.0.372-1\\jre\\lib\\rt.jar\r\n        C:\\Program Files (x86)\\RedHat\\java-1.8.0-openjdk-1.8.0.372-1\\jre\\lib\\sunrsasign.jar\r\n        C:\\Program Files (x86)\\RedHat\\java-1.8.0-openjdk-1.8.0.372-1\\jre\\lib\\jsse.jar\r\n        C:\\Program Files (x86)\\RedHat\\java-1.8.0-openjdk-1.8.0.372-1\\jre\\lib\\jce.jar\r\n        C:\\Program Files (x86)\\RedHat\\java-1.8.0-openjdk-1.8.0.372-1\\jre\\lib\\charsets.jar\r\n        C:\\Program Files (x86)\\RedHat\\java-1.8.0-openjdk-1.8.0.372-1\\jre\\lib\\jfr.jar\r\n        C:\\Program Files (x86)\\RedHat\\java-1.8.0-openjdk-1.8.0.372-1\\jre\\classes\r\n    sun.boot.library.path = C:\\Program Files (x86)\\RedHat\\java-1.8.0-openjdk-1.8.0.372-1\\jre\\bin\r\n    sun.cpu.endian = little\r\n    sun.cpu.isalist = pentium_pro+mmx pentium_pro pentium+mmx pentium i486 i386 i86\r\n    sun.desktop = windows\r\n    sun.io.unicode.encoding = UnicodeLittle\r\n    sun.java.launcher = SUN_STANDARD\r\n    sun.jnu.encoding = Cp1252\r\n    sun.management.compiler = HotSpot Tiered Compilers\r\n    sun.os.patch.level =\r\n    sun.stderr.encoding = cp437\r\n    sun.stdout.encoding = cp437\r\n    user.country = US\r\n    user.dir = C:\\Program Files (x86)\\RedHat\\java-1.8.0-openjdk-1.8.0.372-1\\bin\r\n    user.language = en\r\n    user.script =\r\n    user.timezone =\r\n    user.variant =\r\n```\r\n\r\nDoes this mean that I am using HotSpot OpenJDK?\r\n\r\n- Following are the OS details:\r\n\r\n```\r\nProcessor: Intel(R) Xeon(R) Platinum CPU @ 2.20GHz 2.19 GHz (16 processors)\r\nInstalled memory (RAM): 64.0 GB\r\nSystem type: 64-bit Operating System, x64-based processor\r\nPen and Touch: Pen and Touch Support with 10 Touch Points\r\n```\r\n\r\n- I installed VisualVM and watched a couple of tutorials. I think I have a plan. I will get a dump of the JVM parameters, use profiling/sampling/snapshots/heap dump, and then compare the differences between OpenJDK and Oracle JDK. I will also use to option to create a heap dump when the OutOfMemeory exception is thrown.  \r\n\r\n  Any Idea how to use VisualVM effectively to find a resolution for this issue?\r\n","title":"OpenJDK errors java.lang.OutOfMemoryError: Java heap space and Could not reserve enough space for 1048576KB object heap","body":"<p>The team switched from Oracle JRE 1.8 to OpenJDK. Started the test with this version:</p>\n<pre><code>java-1.8.0-openjdk-1.8-Ø.372\n</code></pre>\n<p>Things were OK until load testing started and moved to a higher staging environment. The team started getting the following errors:</p>\n<p>Cannot start the application with -Xmx1024m:</p>\n<pre><code>Error occurred during initialization of VM\nCould not reserve enough space for 1048576KB object heap\n</code></pre>\n<p>Then, change the JVM memory parameter to -Xmx512m (or kill some unwanted background services/tasks on Windows Server), the application will start successfully and then start throwing the following errors halfway through load testing:</p>\n<pre><code>java.lang.OutOfMemoryError: Java heap space\n</code></pre>\n<p>There is the following restriction: must use JRE 32-bit version 1.8.0_341 or lower since the JDK used was based on 1.7. The 32-bit is due to using other components that don't work with 64-bit.</p>\n<p>I have done extensive research, and came across various articles including this one:</p>\n<p><a href=\"https://stackoverflow.com/questions/16568253/difference-between-jvm-and-hotspot\">Difference between JVM and HotSpot?</a></p>\n<p>Note that the application has been working for years, without any error, with Oracle's JRE 1.8 update 341.</p>\n<p>I have the following troubleshooting plan:</p>\n<ol>\n<li>Switch between OpenJ9 and HotSpot OpenJDK</li>\n</ol>\n<p>OpenJ9: <a href=\"https://developer.ibm.com/languages/java/semeru-runtimes/downloads/\" rel=\"nofollow noreferrer\">https://developer.ibm.com/languages/java/semeru-runtimes/downloads/</a><br />\nHotSpot: <a href=\"https://adoptium.net/temurin/releases/?version=8\" rel=\"nofollow noreferrer\">https://adoptium.net/temurin/releases/?version=8</a></p>\n<ol start=\"2\">\n<li><p>Try a lower or higher version of OpenJDK since there is no one-to-one mapping between the Oracle JRE version and that of OpenJDK.</p>\n</li>\n<li><p>Try other GC Algorithms based on this article:</p>\n</li>\n</ol>\n<p><a href=\"https://developers.redhat.com/articles/2021/11/02/how-choose-best-java-garbage-collector\" rel=\"nofollow noreferrer\">https://developers.redhat.com/articles/2021/11/02/how-choose-best-java-garbage-collector</a></p>\n<ol start=\"5\">\n<li>Submit a ticket to Redhat support.</li>\n</ol>\n<p>I need your help to find other troubleshooting options, and in particular, how to use Java tools to start profiling and memory debugging to see what is going wrong.</p>\n<hr />\n<h1>Update 1:</h1>\n<p>In the following, I will provide info about the OpenJDK and other details.</p>\n<ul>\n<li>When running <code>java -version -XshowSettings:properties</code> I get the following:</li>\n</ul>\n<pre><code>openjdk version &quot;1.8.0_372&quot;\nOpenJDK Runtime Environment (build 1.8.0_372-b07)\nOpenJDK Server VM (build 25.372-b07, mixed mode)\n\nProperty settings:\n    awt.toolkit = sun.awt.windows.WToolkit\n    file.encoding = Cp1252\n    file.encoding.pkg = sun.io\n    file.separator = \\\n    java.awt.graphicsenv = sun.awt.Win32GraphicsEnvironment\n    java.awt.printerjob = sun.awt.windows.WPrinterJob\n    java.class.path = .\n    java.class.version = 52.0\n    java.endorsed.dirs = C:\\Program Files (x86)\\RedHat\\java-1.8.0-openjdk-1.8.0.372-1\\jre\\lib\\endorsed\n    java.ext.dirs = C:\\Program Files (x86)\\RedHat\\java-1.8.0-openjdk-1.8.0.372-1\\jre\\lib\\ext\n        C:\\Windows\\Sun\\Java\\lib\\ext\n    java.home = C:\\Program Files (x86)\\RedHat\\java-1.8.0-openjdk-1.8.0.372-1\\jre\n    java.runtime.name = OpenJDK Runtime Environment\n    java.runtime.version = 1.8.0_372-b07\n    java.specification.maintenance.version = 4\n    java.specification.name = Java Platform API Specification\n    java.specification.vendor = Oracle Corporation\n    java.specification.version = 1.8\n    java.vendor = Red Hat, Inc.\n    java.vendor.url = https://developers.redhat.com/\n    java.vendor.url.bug = https://bugzilla.redhat.com/enter_bug.cgi\n    java.version = 1.8.0_372\n    java.vm.info = mixed mode\n    java.vm.name = OpenJDK Server VM\n    java.vm.specification.name = Java Virtual Machine Specification\n    java.vm.specification.vendor = Oracle Corporation\n    java.vm.specification.version = 1.8\n    java.vm.vendor = Red Hat, Inc.\n    java.vm.version = 25.372-b07\n    line.separator = \\r \\n\n    os.arch = x86\n    os.name = Windows Server 2019\n    os.version = 10.0\n    path.separator = ;\n    sun.arch.data.model = 32\n    sun.boot.class.path = C:\\Program Files (x86)\\RedHat\\java-1.8.0-openjdk-1.8.0.372-1\\jre\\lib\\resources.jar\n        C:\\Program Files (x86)\\RedHat\\java-1.8.0-openjdk-1.8.0.372-1\\jre\\lib\\rt.jar\n        C:\\Program Files (x86)\\RedHat\\java-1.8.0-openjdk-1.8.0.372-1\\jre\\lib\\sunrsasign.jar\n        C:\\Program Files (x86)\\RedHat\\java-1.8.0-openjdk-1.8.0.372-1\\jre\\lib\\jsse.jar\n        C:\\Program Files (x86)\\RedHat\\java-1.8.0-openjdk-1.8.0.372-1\\jre\\lib\\jce.jar\n        C:\\Program Files (x86)\\RedHat\\java-1.8.0-openjdk-1.8.0.372-1\\jre\\lib\\charsets.jar\n        C:\\Program Files (x86)\\RedHat\\java-1.8.0-openjdk-1.8.0.372-1\\jre\\lib\\jfr.jar\n        C:\\Program Files (x86)\\RedHat\\java-1.8.0-openjdk-1.8.0.372-1\\jre\\classes\n    sun.boot.library.path = C:\\Program Files (x86)\\RedHat\\java-1.8.0-openjdk-1.8.0.372-1\\jre\\bin\n    sun.cpu.endian = little\n    sun.cpu.isalist = pentium_pro+mmx pentium_pro pentium+mmx pentium i486 i386 i86\n    sun.desktop = windows\n    sun.io.unicode.encoding = UnicodeLittle\n    sun.java.launcher = SUN_STANDARD\n    sun.jnu.encoding = Cp1252\n    sun.management.compiler = HotSpot Tiered Compilers\n    sun.os.patch.level =\n    sun.stderr.encoding = cp437\n    sun.stdout.encoding = cp437\n    user.country = US\n    user.dir = C:\\Program Files (x86)\\RedHat\\java-1.8.0-openjdk-1.8.0.372-1\\bin\n    user.language = en\n    user.script =\n    user.timezone =\n    user.variant =\n</code></pre>\n<p>Does this mean that I am using HotSpot OpenJDK?</p>\n<ul>\n<li>Following are the OS details:</li>\n</ul>\n<pre><code>Processor: Intel(R) Xeon(R) Platinum CPU @ 2.20GHz 2.19 GHz (16 processors)\nInstalled memory (RAM): 64.0 GB\nSystem type: 64-bit Operating System, x64-based processor\nPen and Touch: Pen and Touch Support with 10 Touch Points\n</code></pre>\n<ul>\n<li><p>I installed VisualVM and watched a couple of tutorials. I think I have a plan. I will get a dump of the JVM parameters, use profiling/sampling/snapshots/heap dump, and then compare the differences between OpenJDK and Oracle JDK. I will also use to option to create a heap dump when the OutOfMemeory exception is thrown.</p>\n<p>Any Idea how to use VisualVM effectively to find a resolution for this issue?</p>\n</li>\n</ul>\n"},{"tags":["java","xml","gzip","unmarshalling","castor"],"comments":[{"owner":{"account_id":6156307,"reputation":33584,"user_id":5015238,"display_name":"jdweng"},"score":0,"creation_date":1696399987,"post_id":77225483,"comment_id":136145976,"body_markdown":"para 1.2.3.3 (https://castor-data-binding.github.io/castor/reference-guides/1.4.1/html/XML%20data%20binding.html) says ID is required.  It is probably a change in the library.","body":"para 1.2.3.3 (<a href=\"https://castor-data-binding.github.io/castor/reference-guides/1.4.1/html/XML%20data%20binding.html\" rel=\"nofollow noreferrer\">castor-data-binding.github.io/castor/reference-guides/1.4.1&zwnj;&#8203;/&hellip;</a>) says ID is required.  It is probably a change in the library."},{"owner":{"account_id":25684608,"reputation":1,"user_id":19446892,"display_name":"Berry"},"score":0,"creation_date":1697053305,"post_id":77225483,"comment_id":136232553,"body_markdown":"I don&#39;t have id, still how can I resolve error ?","body":"I don&#39;t have id, still how can I resolve error ?"},{"owner":{"account_id":6156307,"reputation":33584,"user_id":5015238,"display_name":"jdweng"},"score":0,"creation_date":1697056624,"post_id":77225483,"comment_id":136233051,"body_markdown":"See https://helpdesk.castoredc.com/manage-your-study/customize-record-ids","body":"See <a href=\"https://helpdesk.castoredc.com/manage-your-study/customize-record-ids\" rel=\"nofollow noreferrer\">helpdesk.castoredc.com/manage-your-study/customize-record-id&zwnj;&#8203;s</a>"}],"owner":{"account_id":25684608,"reputation":1,"user_id":19446892,"display_name":"Berry"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696366873,"creation_date":1696366763,"question_id":77225483,"body_markdown":"I recently upgraded from Castor version 0.9.53 to Castor-XML version 1.4.1 in my Java project. After making this update, I removed the old Castor version (0.9.53) from my classpath and added the new Castor-XML 1.4.1 library.\r\n\r\nHowever, I&#39;m now encountering an issue when trying to unmarshal XML data using the new Castor-XML library. Specifically, I&#39;m getting the following error:\r\norg.exolab.castor.xml.MarshalException: ValidationException: Empty ID value encountered{File: [not available]; line: 1; column:12 }\r\nThis error is thrown at the line \r\n````\r\nreader.parse(source);\r\n````\r\nAdditional Code:\r\n\r\nI am using the following code to unmarshal XML data from a gzip-compressed file:\r\n````\r\nFileInputStream gzipReader = new FileInputStream(&quot;abc.xml.gz&quot;);\r\nReader reader = ZipInputStream(gzipReader);\r\nabc = (Abc) Abc.unmarshal(reader);\r\n````\r\n\r\nInterestingly, I did not encounter this issue when using Castor version 0.9.53.\r\n\r\nQuestion:\r\n\r\n1.Can anyone help me understand what might be causing this error?\r\n\r\n2.Is there something specific I need to do differently when using Castor-XML 1.4.1 compared to Castor 0.9.53?\r\n\r\n3.Could the issue be related to unmarshaling from a gzip-compressed file using the provided code?\r\n\r\nAny insights or guidance would be greatly appreciated. Thank you!\r\n","title":"Issue with Castor XML Upgrade: MarshalException - ValidationException","body":"<p>I recently upgraded from Castor version 0.9.53 to Castor-XML version 1.4.1 in my Java project. After making this update, I removed the old Castor version (0.9.53) from my classpath and added the new Castor-XML 1.4.1 library.</p>\n<p>However, I'm now encountering an issue when trying to unmarshal XML data using the new Castor-XML library. Specifically, I'm getting the following error:\norg.exolab.castor.xml.MarshalException: ValidationException: Empty ID value encountered{File: [not available]; line: 1; column:12 }\nThis error is thrown at the line</p>\n<pre><code>reader.parse(source);\n</code></pre>\n<p>Additional Code:</p>\n<p>I am using the following code to unmarshal XML data from a gzip-compressed file:</p>\n<pre><code>FileInputStream gzipReader = new FileInputStream(&quot;abc.xml.gz&quot;);\nReader reader = ZipInputStream(gzipReader);\nabc = (Abc) Abc.unmarshal(reader);\n</code></pre>\n<p>Interestingly, I did not encounter this issue when using Castor version 0.9.53.</p>\n<p>Question:</p>\n<p>1.Can anyone help me understand what might be causing this error?</p>\n<p>2.Is there something specific I need to do differently when using Castor-XML 1.4.1 compared to Castor 0.9.53?</p>\n<p>3.Could the issue be related to unmarshaling from a gzip-compressed file using the provided code?</p>\n<p>Any insights or guidance would be greatly appreciated. Thank you!</p>\n"},{"tags":["java","elasticsearch","spring-data","alias","spring-data-elasticsearch"],"comments":[{"owner":{"account_id":18387315,"reputation":91,"user_id":15282767,"display_name":"Anis Rafid"},"score":1,"creation_date":1696365474,"post_id":77225358,"comment_id":136143059,"body_markdown":"In your case, you have created an alias called &quot;combined-alias&quot; that includes both &quot;books&quot; and &quot;movies&quot; indices. However, when you map fields from both indices to a single Java entity called Product, Elasticsearch may not know how to handle fields with the same name but different types or mappings from different indices.\nTo address this issue, you might consider creating separate Java entities for &quot;books&quot; and &quot;movies&quot; and using different repository interfaces for each.","body":"In your case, you have created an alias called &quot;combined-alias&quot; that includes both &quot;books&quot; and &quot;movies&quot; indices. However, when you map fields from both indices to a single Java entity called Product, Elasticsearch may not know how to handle fields with the same name but different types or mappings from different indices. To address this issue, you might consider creating separate Java entities for &quot;books&quot; and &quot;movies&quot; and using different repository interfaces for each."},{"owner":{"account_id":19426853,"reputation":1,"user_id":14208187,"display_name":"Murtazali"},"score":0,"creation_date":1696400836,"post_id":77225358,"comment_id":136146146,"body_markdown":"@AnisRafid I need to combine both indexes and return them to the ui. I can&#39;t separate them. I&#39;m returning an HTTP response which should be a list of products. \nI want to do this in a request to elastic, because there are a lot of movies and books. Yes, and filters need to be implemented in the future, for example, to sort by date","body":"@AnisRafid I need to combine both indexes and return them to the ui. I can&#39;t separate them. I&#39;m returning an HTTP response which should be a list of products.  I want to do this in a request to elastic, because there are a lot of movies and books. Yes, and filters need to be implemented in the future, for example, to sort by date"}],"owner":{"account_id":19426853,"reputation":1,"user_id":14208187,"display_name":"Murtazali"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696365098,"creation_date":1696365098,"question_id":77225358,"body_markdown":"I created an alias using the command:\r\n\r\n```\r\nPOST /_aliases\r\n{\r\n  &quot;actions&quot;: [\r\n    {\r\n      &quot;add&quot;: {\r\n        &quot;index&quot;: &quot;books&quot;,\r\n        &quot;alias&quot;: &quot;combined-alias&quot;\r\n      }\r\n    },\r\n    {\r\n      &quot;add&quot;: {\r\n        &quot;index&quot;: &quot;movies&quot;,\r\n        &quot;alias&quot;: &quot;combined-alias&quot;\r\n      }\r\n    }\r\n  ]\r\n}\r\n```\r\nBooks index mappings look like this:\r\n```\r\n{\r\n  &quot;mappings&quot;: {\r\n    &quot;_doc&quot;: {\r\n      &quot;properties&quot;: {\r\n        &quot;bookId&quot;: {\r\n          &quot;type&quot;: &quot;long&quot;\r\n        },\r\n        &quot;entityId&quot;: {\r\n          &quot;type&quot;: &quot;alias&quot;,\r\n          &quot;path&quot;: &quot;bookId&quot;\r\n        },\r\n        &quot;creationDate&quot;: {\r\n          &quot;type&quot;: &quot;text&quot;\r\n        },\r\n        &quot;createAt&quot;: {\r\n          &quot;type&quot;: &quot;alias&quot;,\r\n          &quot;path&quot;: &quot;creationDate&quot;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n```\r\nMovies index mappings look like this: \r\n```\r\n{\r\n  &quot;mappings&quot;: {\r\n    &quot;_doc&quot;: {\r\n      &quot;properties&quot;: {\r\n        &quot;movieId&quot;: {\r\n          &quot;type&quot;: &quot;long&quot;\r\n        },\r\n        &quot;entityId&quot;: {\r\n          &quot;type&quot;: &quot;alias&quot;,\r\n          &quot;path&quot;: &quot;movieId&quot;\r\n        },\r\n        &quot;createDate&quot;: {\r\n          &quot;type&quot;: &quot;text&quot;\r\n        },\r\n        &quot;createAt&quot;: {\r\n          &quot;type&quot;: &quot;alias&quot;,\r\n          &quot;path&quot;: &quot;createDate&quot;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n```\r\nHow could I create Java entity to get list of movies and books in one list? \r\n\r\n\r\n\r\n\r\nI was trying to create a Java entity like this:\r\n```\r\n@Data\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Document(indexName = &quot;combined-alias&quot;, createIndex=false)\r\npublic class Product {\r\n\r\n    @Id\r\n    private String uuid;\r\n\r\n    private String entityId;\r\n\r\n    private ZonedDateTime createAt;\r\n\r\n}\r\n```\r\nAnd repository:\r\n```\r\npublic interface ProductRepository extends ReactiveElasticsearchRepository&lt;Product, Long&gt; {\r\n\r\n    Flux&lt;Product&gt; findAll();\r\n}\r\n```\r\n\r\nI expected to get the entityId and createAt when I made the HTTP request, but these fields are always null. If I add the movieId field to the entity, then I successfully receive it in the response. The problem is that I can&#39;t get the alias field like entityId.","title":"How to create a java entity for Elasticsearch aliases?","body":"<p>I created an alias using the command:</p>\n<pre><code>POST /_aliases\n{\n  &quot;actions&quot;: [\n    {\n      &quot;add&quot;: {\n        &quot;index&quot;: &quot;books&quot;,\n        &quot;alias&quot;: &quot;combined-alias&quot;\n      }\n    },\n    {\n      &quot;add&quot;: {\n        &quot;index&quot;: &quot;movies&quot;,\n        &quot;alias&quot;: &quot;combined-alias&quot;\n      }\n    }\n  ]\n}\n</code></pre>\n<p>Books index mappings look like this:</p>\n<pre><code>{\n  &quot;mappings&quot;: {\n    &quot;_doc&quot;: {\n      &quot;properties&quot;: {\n        &quot;bookId&quot;: {\n          &quot;type&quot;: &quot;long&quot;\n        },\n        &quot;entityId&quot;: {\n          &quot;type&quot;: &quot;alias&quot;,\n          &quot;path&quot;: &quot;bookId&quot;\n        },\n        &quot;creationDate&quot;: {\n          &quot;type&quot;: &quot;text&quot;\n        },\n        &quot;createAt&quot;: {\n          &quot;type&quot;: &quot;alias&quot;,\n          &quot;path&quot;: &quot;creationDate&quot;\n        }\n      }\n    }\n  }\n}\n</code></pre>\n<p>Movies index mappings look like this:</p>\n<pre><code>{\n  &quot;mappings&quot;: {\n    &quot;_doc&quot;: {\n      &quot;properties&quot;: {\n        &quot;movieId&quot;: {\n          &quot;type&quot;: &quot;long&quot;\n        },\n        &quot;entityId&quot;: {\n          &quot;type&quot;: &quot;alias&quot;,\n          &quot;path&quot;: &quot;movieId&quot;\n        },\n        &quot;createDate&quot;: {\n          &quot;type&quot;: &quot;text&quot;\n        },\n        &quot;createAt&quot;: {\n          &quot;type&quot;: &quot;alias&quot;,\n          &quot;path&quot;: &quot;createDate&quot;\n        }\n      }\n    }\n  }\n}\n</code></pre>\n<p>How could I create Java entity to get list of movies and books in one list?</p>\n<p>I was trying to create a Java entity like this:</p>\n<pre><code>@Data\n@NoArgsConstructor\n@AllArgsConstructor\n@Document(indexName = &quot;combined-alias&quot;, createIndex=false)\npublic class Product {\n\n    @Id\n    private String uuid;\n\n    private String entityId;\n\n    private ZonedDateTime createAt;\n\n}\n</code></pre>\n<p>And repository:</p>\n<pre><code>public interface ProductRepository extends ReactiveElasticsearchRepository&lt;Product, Long&gt; {\n\n    Flux&lt;Product&gt; findAll();\n}\n</code></pre>\n<p>I expected to get the entityId and createAt when I made the HTTP request, but these fields are always null. If I add the movieId field to the entity, then I successfully receive it in the response. The problem is that I can't get the alias field like entityId.</p>\n"},{"tags":["java","android","tensorflow","deep-learning","tensorflow-lite"],"owner":{"account_id":1232692,"reputation":161,"user_id":22674351,"display_name":"Mary"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1696365091,"creation_date":1696309997,"question_id":77219803,"body_markdown":"I developed this simple camera app in Android to simply show the camera preview. I am new to Tensorflow Lite and would like to use a `.tflite` model in my app. Specifically, I need to embed this [segmentation](https://storage.googleapis.com/mediapipe-models/image_segmenter/selfie_segmenter/float16/latest/selfie_segmenter.tflite) model in the app and apply it on the frame so to get the resulting output mask and show it on the preview. How can I add this to my code below?\r\n\r\n```\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.core.app.ActivityCompat;\r\nimport androidx.core.content.ContextCompat;\r\n\r\nimport android.Manifest;\r\nimport android.content.pm.PackageManager;\r\nimport android.hardware.Camera;\r\nimport android.os.Bundle;\r\nimport android.util.Log;\r\nimport android.view.SurfaceHolder;\r\nimport android.view.SurfaceView;\r\nimport android.view.View;\r\nimport android.widget.Toast;\r\n\r\nimport java.io.IOException;\r\n\r\npublic class MainActivity extends AppCompatActivity implements SurfaceHolder.Callback {\r\n\r\n    private static final int CAMERA_PERMISSION_REQUEST_CODE = 1001;\r\n    private static final String TAG = &quot;MainActivity&quot;;\r\n\r\n    private SurfaceView mSurfaceView;\r\n    private Camera mCamera;\r\n    private SurfaceHolder mSurfaceHolder;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        mSurfaceView = findViewById(R.id.surfaceView);\r\n        mSurfaceHolder = mSurfaceView.getHolder();\r\n        mSurfaceHolder.addCallback(this);\r\n    }\r\n\r\n    @Override\r\n    protected void onResume() {\r\n        super.onResume();\r\n        if (ContextCompat.checkSelfPermission(this, Manifest.permission.CAMERA) != PackageManager.PERMISSION_GRANTED) {\r\n            ActivityCompat.requestPermissions(this, new String[]{Manifest.permission.CAMERA}, CAMERA_PERMISSION_REQUEST_CODE);\r\n        } else {\r\n            startCameraPreview();\r\n        }\r\n    }\r\n\r\n    @Override\r\n    protected void onPause() {\r\n        super.onPause();\r\n        releaseCamera();\r\n    }\r\n\r\n    private void startCameraPreview() {\r\n        try {\r\n            int frontCameraId = -1;\r\n            int numberOfCameras = Camera.getNumberOfCameras();\r\n            for (int i = 0; i &lt; numberOfCameras; i++) {\r\n                Camera.CameraInfo cameraInfo = new Camera.CameraInfo();\r\n                Camera.getCameraInfo(i, cameraInfo);\r\n                if (cameraInfo.facing == Camera.CameraInfo.CAMERA_FACING_FRONT) {\r\n                    frontCameraId = i;\r\n                    break;\r\n                }\r\n            }\r\n\r\n            if (frontCameraId == -1) {\r\n                Log.e(TAG, &quot;Front camera not found&quot;);\r\n                return;\r\n            }\r\n\r\n            mCamera = Camera.open(frontCameraId);\r\n            mCamera.setPreviewDisplay(mSurfaceHolder);\r\n            mCamera.setDisplayOrientation(90); // Set orientation for vertical view\r\n            mCamera.startPreview();\r\n        } catch (IOException e) {\r\n            Log.e(TAG, &quot;Error setting camera preview: &quot; + e.getMessage());\r\n        }\r\n    }\r\n\r\n    private void releaseCamera() {\r\n        if (mCamera != null) {\r\n            mCamera.stopPreview();\r\n            mCamera.release();\r\n            mCamera = null;\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void surfaceCreated(@NonNull SurfaceHolder holder) {\r\n        // No implementation needed\r\n    }\r\n\r\n    @Override\r\n    public void surfaceChanged(@NonNull SurfaceHolder holder, int format, int width, int height) {\r\n        if (mSurfaceHolder.getSurface() == null) {\r\n            return;\r\n        }\r\n\r\n        try {\r\n            mCamera.stopPreview();\r\n        } catch (Exception e) {\r\n            Log.e(TAG, &quot;Error stopping camera preview: &quot; + e.getMessage());\r\n        }\r\n\r\n        try {\r\n            mCamera.setPreviewDisplay(mSurfaceHolder);\r\n            mCamera.startPreview();\r\n        } catch (Exception e) {\r\n            Log.e(TAG, &quot;Error starting camera preview: &quot; + e.getMessage());\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void surfaceDestroyed(@NonNull SurfaceHolder holder) {\r\n        // No implementation needed\r\n    }\r\n\r\n    @Override\r\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\r\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n        if (requestCode == CAMERA_PERMISSION_REQUEST_CODE) {\r\n            if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\r\n                startCameraPreview();\r\n            } else {\r\n                Toast.makeText(this, &quot;Camera permission denied&quot;, Toast.LENGTH_SHORT).show();\r\n                finish();\r\n            }\r\n        }\r\n    }\r\n}\r\n```","title":"Embedding Tensorflow Lite model in my simple Android app","body":"<p>I developed this simple camera app in Android to simply show the camera preview. I am new to Tensorflow Lite and would like to use a <code>.tflite</code> model in my app. Specifically, I need to embed this <a href=\"https://storage.googleapis.com/mediapipe-models/image_segmenter/selfie_segmenter/float16/latest/selfie_segmenter.tflite\" rel=\"nofollow noreferrer\">segmentation</a> model in the app and apply it on the frame so to get the resulting output mask and show it on the preview. How can I add this to my code below?</p>\n<pre><code>import androidx.annotation.NonNull;\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.core.app.ActivityCompat;\nimport androidx.core.content.ContextCompat;\n\nimport android.Manifest;\nimport android.content.pm.PackageManager;\nimport android.hardware.Camera;\nimport android.os.Bundle;\nimport android.util.Log;\nimport android.view.SurfaceHolder;\nimport android.view.SurfaceView;\nimport android.view.View;\nimport android.widget.Toast;\n\nimport java.io.IOException;\n\npublic class MainActivity extends AppCompatActivity implements SurfaceHolder.Callback {\n\n    private static final int CAMERA_PERMISSION_REQUEST_CODE = 1001;\n    private static final String TAG = &quot;MainActivity&quot;;\n\n    private SurfaceView mSurfaceView;\n    private Camera mCamera;\n    private SurfaceHolder mSurfaceHolder;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        mSurfaceView = findViewById(R.id.surfaceView);\n        mSurfaceHolder = mSurfaceView.getHolder();\n        mSurfaceHolder.addCallback(this);\n    }\n\n    @Override\n    protected void onResume() {\n        super.onResume();\n        if (ContextCompat.checkSelfPermission(this, Manifest.permission.CAMERA) != PackageManager.PERMISSION_GRANTED) {\n            ActivityCompat.requestPermissions(this, new String[]{Manifest.permission.CAMERA}, CAMERA_PERMISSION_REQUEST_CODE);\n        } else {\n            startCameraPreview();\n        }\n    }\n\n    @Override\n    protected void onPause() {\n        super.onPause();\n        releaseCamera();\n    }\n\n    private void startCameraPreview() {\n        try {\n            int frontCameraId = -1;\n            int numberOfCameras = Camera.getNumberOfCameras();\n            for (int i = 0; i &lt; numberOfCameras; i++) {\n                Camera.CameraInfo cameraInfo = new Camera.CameraInfo();\n                Camera.getCameraInfo(i, cameraInfo);\n                if (cameraInfo.facing == Camera.CameraInfo.CAMERA_FACING_FRONT) {\n                    frontCameraId = i;\n                    break;\n                }\n            }\n\n            if (frontCameraId == -1) {\n                Log.e(TAG, &quot;Front camera not found&quot;);\n                return;\n            }\n\n            mCamera = Camera.open(frontCameraId);\n            mCamera.setPreviewDisplay(mSurfaceHolder);\n            mCamera.setDisplayOrientation(90); // Set orientation for vertical view\n            mCamera.startPreview();\n        } catch (IOException e) {\n            Log.e(TAG, &quot;Error setting camera preview: &quot; + e.getMessage());\n        }\n    }\n\n    private void releaseCamera() {\n        if (mCamera != null) {\n            mCamera.stopPreview();\n            mCamera.release();\n            mCamera = null;\n        }\n    }\n\n    @Override\n    public void surfaceCreated(@NonNull SurfaceHolder holder) {\n        // No implementation needed\n    }\n\n    @Override\n    public void surfaceChanged(@NonNull SurfaceHolder holder, int format, int width, int height) {\n        if (mSurfaceHolder.getSurface() == null) {\n            return;\n        }\n\n        try {\n            mCamera.stopPreview();\n        } catch (Exception e) {\n            Log.e(TAG, &quot;Error stopping camera preview: &quot; + e.getMessage());\n        }\n\n        try {\n            mCamera.setPreviewDisplay(mSurfaceHolder);\n            mCamera.startPreview();\n        } catch (Exception e) {\n            Log.e(TAG, &quot;Error starting camera preview: &quot; + e.getMessage());\n        }\n    }\n\n    @Override\n    public void surfaceDestroyed(@NonNull SurfaceHolder holder) {\n        // No implementation needed\n    }\n\n    @Override\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n        if (requestCode == CAMERA_PERMISSION_REQUEST_CODE) {\n            if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\n                startCameraPreview();\n            } else {\n                Toast.makeText(this, &quot;Camera permission denied&quot;, Toast.LENGTH_SHORT).show();\n                finish();\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","hibernate","jpa","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":24440940,"reputation":3122,"user_id":18364656,"display_name":"Andrei Lisa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696364972,"creation_date":1696362853,"answer_id":77225157,"question_id":77222258,"body_markdown":"It depends what project structure/architecture are you going to use. Usually it is package by layer\r\n\r\n&gt; In the Package by Layer, Controllers , Services , and Repositories are\r\n&gt; placed in different single packages, so the whole application consists\r\n&gt; of three packages — except util — and packages have a large number of\r\n&gt; members.\r\n\r\nIt mean that protected setters methods will be visible just into that own package and subclasses. And if you will need it in another place you will can’t use it. \r\n\r\nIn case if you are going to use structure/architecture  Package-by-feature\r\n\r\n&gt; Package-by-feature uses packages to reflect the feature set. It tries\r\n&gt; to place all items related to a single feature (and only that feature)\r\n&gt; into a single directory/package. This results in packages with high\r\n&gt; cohesion and high modularity, and with minimal coupling between\r\n&gt; packages.\r\n\r\nYou are free to make setters methods as protected one or package default. \r\n\r\nBut in real world we know that always exist somethings that make us to do some changes. \r\n\r\nAccording to encapsulation:\r\n\r\nTo allow outside access to the instance variables, public methods called getters and setters are defined, which are used to retrieve and modify the values of the instance variables, respectively. By using getters and setters, the class can enforce its own data validation rules and ensure that its internal state remains consistent.\r\n\r\nYou have to make setters and getters methods `public` by default.\r\n\r\n\r\nAbout your case, in my opinion the access modifiers to setters method of id fields also should be public based on above details that I wrote\r\n\r\n\r\n","title":"Protected setters for jpa entity fields","body":"<p>It depends what project structure/architecture are you going to use. Usually it is package by layer</p>\n<blockquote>\n<p>In the Package by Layer, Controllers , Services , and Repositories are\nplaced in different single packages, so the whole application consists\nof three packages — except util — and packages have a large number of\nmembers.</p>\n</blockquote>\n<p>It mean that protected setters methods will be visible just into that own package and subclasses. And if you will need it in another place you will can’t use it.</p>\n<p>In case if you are going to use structure/architecture  Package-by-feature</p>\n<blockquote>\n<p>Package-by-feature uses packages to reflect the feature set. It tries\nto place all items related to a single feature (and only that feature)\ninto a single directory/package. This results in packages with high\ncohesion and high modularity, and with minimal coupling between\npackages.</p>\n</blockquote>\n<p>You are free to make setters methods as protected one or package default.</p>\n<p>But in real world we know that always exist somethings that make us to do some changes.</p>\n<p>According to encapsulation:</p>\n<p>To allow outside access to the instance variables, public methods called getters and setters are defined, which are used to retrieve and modify the values of the instance variables, respectively. By using getters and setters, the class can enforce its own data validation rules and ensure that its internal state remains consistent.</p>\n<p>You have to make setters and getters methods <code>public</code> by default.</p>\n<p>About your case, in my opinion the access modifiers to setters method of id fields also should be public based on above details that I wrote</p>\n"}],"owner":{"account_id":24290263,"reputation":11,"user_id":18235420,"display_name":"momopoi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696364972,"creation_date":1696336018,"question_id":77222258,"body_markdown":"Is it good idea to make, for example, setter for id field of jpa entity protected? So other developers can&#39;t access it, therefore eliminating possible errors. Is there any pitfalls of such decision? \r\nHere is example of what I am talking about, here Lombok is used to generate setters/getters:\r\n\r\n        @Entity\r\n        @Getter\r\n        @Setter\r\n        @NoArgsConstructor(access = AccessLevel.PROTECTED)\r\n        public class User {\r\n        \r\n            @Id\r\n            @GeneratedValue(strategy = GenerationType.SEQUENCE)\r\n            @Column(name = &quot;id&quot;, unique = true, nullable = false)\r\n            @Setter(AccessLevel.PROTECTED)\r\n            private Long id;\r\n        \r\n            @NaturalId\r\n            @Column(name = &quot;uuid&quot;, unique = true, nullable = false, updatable = false)\r\n            @Setter(AccessLevel.PROTECTED)\r\n            private UUID uuid;\r\n            \r\n            public User(UUID uuid) {\r\n                this.uuid = uuid;\r\n            }\r\n        \r\n            //other fields \r\n        }\r\n\r\nAlso, I would be grateful for other recommendation regarding my code.\r\n ","title":"Protected setters for jpa entity fields","body":"<p>Is it good idea to make, for example, setter for id field of jpa entity protected? So other developers can't access it, therefore eliminating possible errors. Is there any pitfalls of such decision?\nHere is example of what I am talking about, here Lombok is used to generate setters/getters:</p>\n<pre><code>    @Entity\n    @Getter\n    @Setter\n    @NoArgsConstructor(access = AccessLevel.PROTECTED)\n    public class User {\n    \n        @Id\n        @GeneratedValue(strategy = GenerationType.SEQUENCE)\n        @Column(name = &quot;id&quot;, unique = true, nullable = false)\n        @Setter(AccessLevel.PROTECTED)\n        private Long id;\n    \n        @NaturalId\n        @Column(name = &quot;uuid&quot;, unique = true, nullable = false, updatable = false)\n        @Setter(AccessLevel.PROTECTED)\n        private UUID uuid;\n        \n        public User(UUID uuid) {\n            this.uuid = uuid;\n        }\n    \n        //other fields \n    }\n</code></pre>\n<p>Also, I would be grateful for other recommendation regarding my code.</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":196869,"reputation":402535,"user_id":440558,"accept_rate":75,"display_name":"Some programmer dude"},"score":0,"creation_date":1696317695,"post_id":77220292,"comment_id":136133963,"body_markdown":"The problem with the input `4 5 6a` is that you have already read the `4` and `5` input and added them to your array, before you detect the error. Instead of reading number by number, I suggest you read the whole line into a string, and then attempt to tokenize the string itself. Only add to the array if all elements could be properly parsed.","body":"The problem with the input <code>4 5 6a</code> is that you have already read the <code>4</code> and <code>5</code> input and added them to your array, before you detect the error. Instead of reading number by number, I suggest you read the whole line into a string, and then attempt to tokenize the string itself. Only add to the array if all elements could be properly parsed."},{"owner":{"account_id":196869,"reputation":402535,"user_id":440558,"accept_rate":75,"display_name":"Some programmer dude"},"score":0,"creation_date":1696317789,"post_id":77220292,"comment_id":136133977,"body_markdown":"As a quick fix, reset the index `j` when there&#39;s an error.","body":"As a quick fix, reset the index <code>j</code> when there&#39;s an error."},{"owner":{"account_id":29586013,"reputation":11,"user_id":22674637,"display_name":"Cuny"},"score":0,"creation_date":1696318586,"post_id":77220292,"comment_id":136134109,"body_markdown":"in catch,\ns.nextLine();\nj--;\ncontinue;\nis this reset the index?? but some error in this line","body":"in catch, s.nextLine(); j--; continue; is this reset the index?? but some error in this line"},{"owner":{"account_id":196869,"reputation":402535,"user_id":440558,"accept_rate":75,"display_name":"Some programmer dude"},"score":0,"creation_date":1696319090,"post_id":77220292,"comment_id":136134184,"body_markdown":"In the catch, `j = 0;`. You want to read a whole new line and start over from the first index.","body":"In the catch, <code>j = 0;</code>. You want to read a whole new line and start over from the first index."},{"owner":{"account_id":29586013,"reputation":11,"user_id":22674637,"display_name":"Cuny"},"score":0,"creation_date":1696319692,"post_id":77220292,"comment_id":136134305,"body_markdown":"thank you for your answer!! I&#39;ve solved this problem\nHave a nice day !","body":"thank you for your answer!! I&#39;ve solved this problem Have a nice day !"}],"answers":[{"tags":[],"owner":{"account_id":20654016,"reputation":46,"user_id":15163604,"display_name":"Arijit Sarkar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696320387,"creation_date":1696320387,"answer_id":77220599,"question_id":77220292,"body_markdown":"    public static double[][] run(Scanner s) {\r\n            System.out.print(&quot;The number of rows non square array: &quot;);\r\n            int length = s.nextInt();\r\n            double Arr[][] = new double[length][];\r\n            for (int i = 0; i &lt; length; i++) {\r\n                System.out.print(&quot;Input: &quot;);\r\n                int length2 = i + 1;\r\n                Arr[i] = new double[length2];\r\n                for (int j = 0; j &lt; length2; j++) {\r\n    \r\n                    try {\r\n                        Arr[i][j] = s.nextDouble();\r\n    \r\n                    } catch (InputMismatchException e) {\r\n                        System.out.println(&quot;That&#39;s not correct!&quot;);\r\n                        s.nextLine();\r\n                        i--;\r\n                    }\r\n    \r\n                }\r\n    \r\n    \r\n            }\r\n            return Arr;\r\n        }\r\nWhenever an exception occurs on the ith index, reduce the i index by 1 and start collecting the values of the ith index from the beginning unless and until the user enters valid values -  repeat the process.","title":"what is problem in my scanner.nextLine()?","body":"<pre><code>public static double[][] run(Scanner s) {\n        System.out.print(&quot;The number of rows non square array: &quot;);\n        int length = s.nextInt();\n        double Arr[][] = new double[length][];\n        for (int i = 0; i &lt; length; i++) {\n            System.out.print(&quot;Input: &quot;);\n            int length2 = i + 1;\n            Arr[i] = new double[length2];\n            for (int j = 0; j &lt; length2; j++) {\n\n                try {\n                    Arr[i][j] = s.nextDouble();\n\n                } catch (InputMismatchException e) {\n                    System.out.println(&quot;That's not correct!&quot;);\n                    s.nextLine();\n                    i--;\n                }\n\n            }\n\n\n        }\n        return Arr;\n    }\n</code></pre>\n<p>Whenever an exception occurs on the ith index, reduce the i index by 1 and start collecting the values of the ith index from the beginning unless and until the user enters valid values -  repeat the process.</p>\n"},{"tags":[],"owner":{"account_id":24998171,"reputation":16,"user_id":18858798,"display_name":"Noob"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696359309,"creation_date":1696359309,"answer_id":77224850,"question_id":77220292,"body_markdown":"Try this code below. It is giving the output as per your requirement.\r\n\r\n    public static void main(String[] args) {\r\n    \t\tScanner s = new Scanner(System.in);\r\n    \t\tSystem.out.print(&quot;The number of rows non square array: &quot;);\r\n    \t\tint length = s.nextInt();\r\n    \t\tdouble Arr[][] = new double[length][];\r\n    \t\tfor (int i = 0; i &lt; length; i++) {\r\n    \t\t\tSystem.out.print(&quot;Input: &quot;);\r\n    \t\t\tint length2 = i + 1;\r\n    \t\t\tArr[i] = new double[length2];\r\n    \t\t\tfor (int j = 0; j &lt; length2; j++) {\r\n    \t\t\t\twhile (true) {\r\n    \r\n    \t\t\t\t\ttry {\r\n    \t\t\t\t\t\tArr[i][j] = s.nextDouble();\r\n    \t\t\t\t\t\tbreak;\r\n    \t\t\t\t\t} catch (InputMismatchException e) {\r\n    \t\t\t\t\t\tSystem.out.println(&quot;That&#39;s not correct!&quot;);\r\n    \t\t\t\t\t\tSystem.out.print(&quot;Please input from the begining &quot;);\r\n    \t\t\t\t\t\tj = -1;\r\n    \t\t\t\t\t\ts.nextLine();\r\n    \t\t\t\t\t\tbreak;\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t\t\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\t\r\n    \t\ts.close();\r\n    \t\t\r\n    \t}\r\n\r\nWhere I am resetting the whole inner loop iteration from j = 0.","title":"what is problem in my scanner.nextLine()?","body":"<p>Try this code below. It is giving the output as per your requirement.</p>\n<pre><code>public static void main(String[] args) {\n        Scanner s = new Scanner(System.in);\n        System.out.print(&quot;The number of rows non square array: &quot;);\n        int length = s.nextInt();\n        double Arr[][] = new double[length][];\n        for (int i = 0; i &lt; length; i++) {\n            System.out.print(&quot;Input: &quot;);\n            int length2 = i + 1;\n            Arr[i] = new double[length2];\n            for (int j = 0; j &lt; length2; j++) {\n                while (true) {\n\n                    try {\n                        Arr[i][j] = s.nextDouble();\n                        break;\n                    } catch (InputMismatchException e) {\n                        System.out.println(&quot;That's not correct!&quot;);\n                        System.out.print(&quot;Please input from the begining &quot;);\n                        j = -1;\n                        s.nextLine();\n                        break;\n                    }\n                }\n                \n            }\n        }\n        \n        s.close();\n        \n    }\n</code></pre>\n<p>Where I am resetting the whole inner loop iteration from j = 0.</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696364799,"creation_date":1696364799,"answer_id":77225333,"question_id":77220292,"body_markdown":"&gt; _&quot;... i want to print arr[2] 7 8 9 in that case what is problem??_\r\n&gt;\r\n&gt; _i have to use try-catch in this code it doesn&#39;t deleted infront of catch ...&quot;_\r\n\r\nUse the _[Scanner#nextLine](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Scanner.html#nextLine())_, _[String#split](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#split(java.lang.String))_, and _[Double#parseDouble](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Double.html#parseDouble(java.lang.String))_ methods.\r\n\r\nSince I&#39;m using _nextLine_, I&#39;ve added an extra call after the _length_ assignment, to move the _Scanner_ cursor down a line.\r\n\r\nAnd, when an exception is thrown, decrement _i_.\r\n\r\n```java\r\nstatic double[][] run(Scanner s){\r\n    System.out.print(&quot;The number of rows non square array: &quot;);\r\n    int length = s.nextInt();\r\n    s.nextLine();\r\n    double Arr[][] = new double[length][];\r\n    String[] ss;\r\n    for (int i = 0, j, n; i &lt; length; i++) {\r\n        System.out.print(&quot;Input: &quot;);\r\n        ss = s.nextLine().split(&quot; +&quot;);\r\n        Arr[i] = new double[ss.length];\r\n        for (j = 0, n = ss.length; j &lt; n; j++)\r\n            try {\r\n                Arr[i][j] = Double.parseDouble(ss[j]);\r\n            } catch (NumberFormatException e) {\r\n                System.out.println(&quot;That&#39;s not correct!&quot;);\r\n                i--;\r\n                break;\r\n            }\r\n    }\r\n    return Arr;\r\n}\r\n```\r\n\r\nOutput\r\n\r\n```none\r\nThe number of rows non square array: 3\r\nInput: 1\r\nInput: abc\r\nThat&#39;s not correct!\r\nInput: abc 123\r\nThat&#39;s not correct!\r\nInput: 2 3 \r\nInput: 4 5 6\r\n[1.0]\r\n[2.0, 3.0]\r\n[4.0, 5.0, 6.0]\r\n```","title":"what is problem in my scanner.nextLine()?","body":"<blockquote>\n<p><em>&quot;... i want to print arr[2] 7 8 9 in that case what is problem??</em></p>\n<p><em>i have to use try-catch in this code it doesn't deleted infront of catch ...&quot;</em></p>\n</blockquote>\n<p>Use the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Scanner.html#nextLine()\" rel=\"nofollow noreferrer\">Scanner#nextLine</a></em>, <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#split(java.lang.String)\" rel=\"nofollow noreferrer\">String#split</a></em>, and <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Double.html#parseDouble(java.lang.String)\" rel=\"nofollow noreferrer\">Double#parseDouble</a></em> methods.</p>\n<p>Since I'm using <em>nextLine</em>, I've added an extra call after the <em>length</em> assignment, to move the <em>Scanner</em> cursor down a line.</p>\n<p>And, when an exception is thrown, decrement <em>i</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>static double[][] run(Scanner s){\n    System.out.print(&quot;The number of rows non square array: &quot;);\n    int length = s.nextInt();\n    s.nextLine();\n    double Arr[][] = new double[length][];\n    String[] ss;\n    for (int i = 0, j, n; i &lt; length; i++) {\n        System.out.print(&quot;Input: &quot;);\n        ss = s.nextLine().split(&quot; +&quot;);\n        Arr[i] = new double[ss.length];\n        for (j = 0, n = ss.length; j &lt; n; j++)\n            try {\n                Arr[i][j] = Double.parseDouble(ss[j]);\n            } catch (NumberFormatException e) {\n                System.out.println(&quot;That's not correct!&quot;);\n                i--;\n                break;\n            }\n    }\n    return Arr;\n}\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>The number of rows non square array: 3\nInput: 1\nInput: abc\nThat's not correct!\nInput: abc 123\nThat's not correct!\nInput: 2 3 \nInput: 4 5 6\n[1.0]\n[2.0, 3.0]\n[4.0, 5.0, 6.0]\n</code></pre>\n"}],"owner":{"account_id":29586013,"reputation":11,"user_id":22674637,"display_name":"Cuny"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1696364799,"creation_date":1696317049,"question_id":77220292,"body_markdown":"this is my code in java (not main function).\r\n\r\n        public static double[][] run(Scanner s){\r\n          System.out.print(&quot;The number of rows non square array: &quot;); \r\n    \t  int length = s.nextInt();\r\n    \t  double Arr[][] = new double[length][];\r\n    \t  for(int i=0; i&lt;length; i++) {\r\n    \t\t  System.out.print(&quot;Input: &quot;);      \r\n    \t \t  int length2 = i+1;\r\n    \t \t  Arr[i] = new double[length2];\r\n    \t \t  for(int j=0; j&lt; length2; j++) {\r\n    \t \t\t  while(true) {\r\n    \t \t\t      try {  \r\n    \t \t\t          Arr[i][j] = s.nextDouble();\r\n    \t \t\t          break;\r\n    \t \t\t      }\r\n    \t \t\t      catch(InputMismatchException e) {\r\n    \t \t\t\t      System.out.println(&quot;That&#39;s not correct!&quot;);\r\n    \t \t\t\t      System.out.print(&quot;Input: &quot;);\r\n    \t \t\t\t      s.nextLine();\r\n    \t \t\t\t      continue;\r\n    \t \t\t\t  }\r\n    \t \t\t  }\r\n    \t \t  }\r\n    \t    }\r\n    \t \t\r\n    \t    return Arr;\r\n        }\r\n\r\ni have some errors in my code\r\nfor example)\r\n\r\n```\r\nThe number of rows non square array: 3\r\nInput: 1\r\nInput: 2 3\r\nInput: 4a 5 6\r\nThat&#39;s not correct!\r\nInput: 7 8 9\r\nThe number of rows in the array: 3\r\narr[0] 1.0\r\narr[1] 2.0 3.0\r\narr[2] 7.0 8.0 9.0\r\n```\r\n\r\nIt works correctly. but in this case\r\n\r\n```\r\nThe number of rows non square array: 3\r\nInput: 1\r\nInput: 2 3\r\nInput: 4 5 6a\r\nThat&#39;s not correct!\r\nInput: 7 8 9\r\nThe number of rows in the array: 3\r\narr[0] 1.0\r\narr[1] 2.0 3.0\r\narr[2] 4.0 5.0 7.0\r\n```\r\n\r\n4\\.0 and 5.0 not deleted. i want to print arr\\[2\\] 7 8 9 in that case\r\nwhat is problem??\r\n\r\ni have to use try-catch in this code\r\nit doesn&#39;t deleted infront of catch","title":"what is problem in my scanner.nextLine()?","body":"<p>this is my code in java (not main function).</p>\n<pre><code>    public static double[][] run(Scanner s){\n      System.out.print(&quot;The number of rows non square array: &quot;); \n      int length = s.nextInt();\n      double Arr[][] = new double[length][];\n      for(int i=0; i&lt;length; i++) {\n          System.out.print(&quot;Input: &quot;);      \n          int length2 = i+1;\n          Arr[i] = new double[length2];\n          for(int j=0; j&lt; length2; j++) {\n              while(true) {\n                  try {  \n                      Arr[i][j] = s.nextDouble();\n                      break;\n                  }\n                  catch(InputMismatchException e) {\n                      System.out.println(&quot;That's not correct!&quot;);\n                      System.out.print(&quot;Input: &quot;);\n                      s.nextLine();\n                      continue;\n                  }\n              }\n          }\n        }\n        \n        return Arr;\n    }\n</code></pre>\n<p>i have some errors in my code\nfor example)</p>\n<pre><code>The number of rows non square array: 3\nInput: 1\nInput: 2 3\nInput: 4a 5 6\nThat's not correct!\nInput: 7 8 9\nThe number of rows in the array: 3\narr[0] 1.0\narr[1] 2.0 3.0\narr[2] 7.0 8.0 9.0\n</code></pre>\n<p>It works correctly. but in this case</p>\n<pre><code>The number of rows non square array: 3\nInput: 1\nInput: 2 3\nInput: 4 5 6a\nThat's not correct!\nInput: 7 8 9\nThe number of rows in the array: 3\narr[0] 1.0\narr[1] 2.0 3.0\narr[2] 4.0 5.0 7.0\n</code></pre>\n<p>4.0 and 5.0 not deleted. i want to print arr[2] 7 8 9 in that case\nwhat is problem??</p>\n<p>i have to use try-catch in this code\nit doesn't deleted infront of catch</p>\n"},{"tags":["java","jms","wildfly","activemq-artemis"],"answers":[{"tags":[],"owner":{"account_id":16918437,"reputation":16,"user_id":12235820,"display_name":"Kabeer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1571360891,"creation_date":1571360891,"answer_id":58442616,"question_id":50280156,"body_markdown":"Try updating confirmation-window-size in connection factory settings","title":"JMS. Send a simple Topic Message to a topic in ActiveMQ in WildFly 12 fails","body":"<p>Try updating confirmation-window-size in connection factory settings</p>\n"},{"tags":[],"owner":{"account_id":3965245,"reputation":4105,"user_id":3271406,"accept_rate":25,"display_name":"lu_ko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687354942,"creation_date":1687354942,"answer_id":76523960,"question_id":50280156,"body_markdown":"The `confirmationWindowSize` parameter is an Artemis CORE protocol specific setting and it must be configured properly to enable asynchronous send of acknowledgements. The window is specified in bytes, e.g.:\r\n\r\n    &lt;your-protocol&gt;://&lt;your-host&gt;:&lt;your-port&gt;?confirmationWindowSize=2048\r\n\r\nThen, you just send messages as normal, and as messages reach the server, the server will send back an acknowledgement of the send asynchronously, and some time later you are informed at the client side by Apache ActiveMQ Artemis calling your handler&#39;s `sendAcknowledged(ClientMessage message)` method, passing in a reference to the message that was sent.\r\n\r\nAlso, Apache ActiveMQ Artemis clients can be configured to automatically reconnect or re-attach to the server in the event that a failure is detected in the connection between the client and the server. Keep in mind that, as clients send commands to their servers they store each sent command in an in-memory buffer. In the case that connection failure occurs and the client subsequently reattaches to the same server, as part of the reattachment protocol the server informs the client during reattachment with the id of the last command it successfully received from that client.\r\n\r\nIf the client has sent more commands than were received before failover it can replay any sent commands from its buffer so that the client and server can reconcile their states. The size of this buffer is configured by the `confirmationWindowSize` parameter, when the server has received `confirmationWindowSize` bytes of commands and processed them it will send back a command confirmation to the client, and the client can then free up space in the buffer.\r\n\r\nSetting this parameter to `-1` disables any buffering and prevents any re-attachment from occurring, forcing reconnect instead. The default value for this parameter is `-1`. (Which means by default no auto re-attachment will occur)\r\n\r\nPlease see Apache ActiveMQ Artemis documentation for more details:\r\n1. The &quot;Asynchronous Send Acknowledgements&quot; section of https://activemq.apache.org/components/artemis/documentation/latest/send-guarantees.html\r\n2. https://activemq.apache.org/components/artemis/documentation/latest/client-reconnection.html\r\n3. https://activemq.apache.org/components/artemis/documentation/latest/perf-tools.html","title":"JMS. Send a simple Topic Message to a topic in ActiveMQ in WildFly 12 fails","body":"<p>The <code>confirmationWindowSize</code> parameter is an Artemis CORE protocol specific setting and it must be configured properly to enable asynchronous send of acknowledgements. The window is specified in bytes, e.g.:</p>\n<pre><code>&lt;your-protocol&gt;://&lt;your-host&gt;:&lt;your-port&gt;?confirmationWindowSize=2048\n</code></pre>\n<p>Then, you just send messages as normal, and as messages reach the server, the server will send back an acknowledgement of the send asynchronously, and some time later you are informed at the client side by Apache ActiveMQ Artemis calling your handler's <code>sendAcknowledged(ClientMessage message)</code> method, passing in a reference to the message that was sent.</p>\n<p>Also, Apache ActiveMQ Artemis clients can be configured to automatically reconnect or re-attach to the server in the event that a failure is detected in the connection between the client and the server. Keep in mind that, as clients send commands to their servers they store each sent command in an in-memory buffer. In the case that connection failure occurs and the client subsequently reattaches to the same server, as part of the reattachment protocol the server informs the client during reattachment with the id of the last command it successfully received from that client.</p>\n<p>If the client has sent more commands than were received before failover it can replay any sent commands from its buffer so that the client and server can reconcile their states. The size of this buffer is configured by the <code>confirmationWindowSize</code> parameter, when the server has received <code>confirmationWindowSize</code> bytes of commands and processed them it will send back a command confirmation to the client, and the client can then free up space in the buffer.</p>\n<p>Setting this parameter to <code>-1</code> disables any buffering and prevents any re-attachment from occurring, forcing reconnect instead. The default value for this parameter is <code>-1</code>. (Which means by default no auto re-attachment will occur)</p>\n<p>Please see Apache ActiveMQ Artemis documentation for more details:</p>\n<ol>\n<li>The &quot;Asynchronous Send Acknowledgements&quot; section of <a href=\"https://activemq.apache.org/components/artemis/documentation/latest/send-guarantees.html\" rel=\"nofollow noreferrer\">https://activemq.apache.org/components/artemis/documentation/latest/send-guarantees.html</a></li>\n<li><a href=\"https://activemq.apache.org/components/artemis/documentation/latest/client-reconnection.html\" rel=\"nofollow noreferrer\">https://activemq.apache.org/components/artemis/documentation/latest/client-reconnection.html</a></li>\n<li><a href=\"https://activemq.apache.org/components/artemis/documentation/latest/perf-tools.html\" rel=\"nofollow noreferrer\">https://activemq.apache.org/components/artemis/documentation/latest/perf-tools.html</a></li>\n</ol>\n"}],"owner":{"account_id":3771485,"reputation":1705,"user_id":3133542,"accept_rate":95,"display_name":"user3133542"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":406,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":58442616,"answer_count":2,"score":2,"last_activity_date":1696364058,"creation_date":1525980340,"question_id":50280156,"body_markdown":"I want to publish a simple topic to a topic queue. Therefore im using ActivMQ-Extension in WildFly 12 (under subsystems). But I get following error:\r\n\r\n    CompletionListener/SendAcknowledgementHandler used with confirmationWindowSize=-1. Enable confirmationWindowSize to receive acks from server!\r\n\r\nWhat is the meaning of this? \r\nIm using following Code:\r\n\r\n    @RequestScoped\r\n    public class Sender {\r\n    \r\n        @Resource(lookup = &quot;java:jboss/exported/jms/RemoteConnectionFactory&quot;)\r\n        private ConnectionFactory connectionFactory;\r\n    \r\n        @Resource(lookup = &quot;java:jboss/jms/queue/bookstoreqeue&quot;)\r\n        private Queue queue;\r\n    \r\n        @Resource(lookup = &quot;java:jboss/jms/messagetopic&quot;)\r\n        private Topic topic;\r\n    \r\n    \r\n        public void send() throws JMSException {\r\n            Connection connection = connectionFactory.createConnection(&quot;admin&quot;, &quot;admin&quot;);\r\n    \r\n            Session session = connection.createSession(false, Session.AUTO_ACKNOWLEDGE);\r\n    \r\n            MessageProducer messageProducer = session.createProducer(topic);\r\n    \r\n            TextMessage message = session.createTextMessage(&quot;message&quot;);\r\n    \r\n    \r\n            MessageConsumer consumer = session.createConsumer(topic);\r\n            consumer.setMessageListener(msg -&gt; System.out.println(&quot;Received!&quot;));\r\n    \r\n    \r\n            while (true) {\r\n    \r\n                try {\r\n                    TimeUnit.SECONDS.sleep(5);\r\n                    messageProducer.send(message, new CompletionListener() {\r\n                        @Override\r\n                        public void onCompletion(Message message) {\r\n                            System.out.println(&quot;complete!&quot;);\r\n                        }\r\n    \r\n                        @Override\r\n                        public void onException(Message message, Exception exception) {\r\n                            System.out.println(exception);\r\n                        }\r\n                    });\r\n                } catch (InterruptedException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nI know that my MessageProducer is sending topics to the TopicQueue and that there is one Subscriber:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/kfruD.png\r\n\r\n\r\nWhat could be here the problem?\r\nBy the way the same error appears on both : queue and topics...\r\n","title":"JMS. Send a simple Topic Message to a topic in ActiveMQ in WildFly 12 fails","body":"<p>I want to publish a simple topic to a topic queue. Therefore im using ActivMQ-Extension in WildFly 12 (under subsystems). But I get following error:</p>\n\n<pre><code>CompletionListener/SendAcknowledgementHandler used with confirmationWindowSize=-1. Enable confirmationWindowSize to receive acks from server!\n</code></pre>\n\n<p>What is the meaning of this? \nIm using following Code:</p>\n\n<pre><code>@RequestScoped\npublic class Sender {\n\n    @Resource(lookup = \"java:jboss/exported/jms/RemoteConnectionFactory\")\n    private ConnectionFactory connectionFactory;\n\n    @Resource(lookup = \"java:jboss/jms/queue/bookstoreqeue\")\n    private Queue queue;\n\n    @Resource(lookup = \"java:jboss/jms/messagetopic\")\n    private Topic topic;\n\n\n    public void send() throws JMSException {\n        Connection connection = connectionFactory.createConnection(\"admin\", \"admin\");\n\n        Session session = connection.createSession(false, Session.AUTO_ACKNOWLEDGE);\n\n        MessageProducer messageProducer = session.createProducer(topic);\n\n        TextMessage message = session.createTextMessage(\"message\");\n\n\n        MessageConsumer consumer = session.createConsumer(topic);\n        consumer.setMessageListener(msg -&gt; System.out.println(\"Received!\"));\n\n\n        while (true) {\n\n            try {\n                TimeUnit.SECONDS.sleep(5);\n                messageProducer.send(message, new CompletionListener() {\n                    @Override\n                    public void onCompletion(Message message) {\n                        System.out.println(\"complete!\");\n                    }\n\n                    @Override\n                    public void onException(Message message, Exception exception) {\n                        System.out.println(exception);\n                    }\n                });\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>I know that my MessageProducer is sending topics to the TopicQueue and that there is one Subscriber:</p>\n\n<p><a href=\"https://i.stack.imgur.com/kfruD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kfruD.png\" alt=\"enter image description here\"></a></p>\n\n<p>What could be here the problem?\nBy the way the same error appears on both : queue and topics...</p>\n"},{"tags":["java","spring","redirect","token","jwt"],"comments":[{"owner":{"account_id":1968635,"reputation":21509,"user_id":1768226,"accept_rate":80,"display_name":"shazin"},"score":2,"creation_date":1486460124,"post_id":42085510,"comment_id":71342768,"body_markdown":"I don&#39;t think passing headers to a Redirect is possible a Redirect will take place in client. What you can do are either do a forward or use RestTemplate to make your token method act as a proxy to webpageC.","body":"I don&#39;t think passing headers to a Redirect is possible a Redirect will take place in client. What you can do are either do a forward or use RestTemplate to make your token method act as a proxy to webpageC."},{"owner":{"account_id":410826,"reputation":1073,"user_id":782890,"accept_rate":75,"display_name":"webmonkey"},"score":0,"creation_date":1486460253,"post_id":42085510,"comment_id":71342844,"body_markdown":"Can you explain that a bit? Or maybe give a hint how to achieve?","body":"Can you explain that a bit? Or maybe give a hint how to achieve?"},{"owner":{"account_id":2864238,"reputation":10897,"user_id":2458858,"accept_rate":85,"display_name":"tryingToLearn"},"score":0,"creation_date":1516765191,"post_id":42085510,"comment_id":83818734,"body_markdown":"almost a year old post but did you find a solution to this?","body":"almost a year old post but did you find a solution to this?"},{"owner":{"account_id":410826,"reputation":1073,"user_id":782890,"accept_rate":75,"display_name":"webmonkey"},"score":0,"creation_date":1516798650,"post_id":42085510,"comment_id":83835469,"body_markdown":"Sadly not, we had so solve it another way..","body":"Sadly not, we had so solve it another way.."},{"owner":{"account_id":5802435,"reputation":1586,"user_id":6385845,"display_name":"Aditya T"},"score":1,"creation_date":1614693506,"post_id":42085510,"comment_id":117458608,"body_markdown":"@webmonkey It would be great if you can share your approach with community.","body":"@webmonkey It would be great if you can share your approach with community."},{"owner":{"account_id":7908966,"reputation":181,"user_id":5973573,"display_name":"Sriram G"},"score":0,"creation_date":1643796614,"post_id":42085510,"comment_id":125432112,"body_markdown":"any solution please?","body":"any solution please?"}],"answers":[{"tags":[],"owner":{"account_id":20782891,"reputation":439,"user_id":15262845,"display_name":"justthink"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1615330633,"creation_date":1615330633,"answer_id":66555969,"question_id":42085510,"body_markdown":"Typically, we let the frontend developers handle the redirections. If you work on the backend, you could offer a restful API to issue JwtTokens. The frontend will worry about how to carry the Authorization header in the following redirected Http requests. Here is a simple login controller using `mobile` and `password` in exchange for the JwtToken.\r\n\r\n    @RequestMapping(value = &quot;/login&quot;, method = RequestMethod.POST)\r\n    public Result login(@RequestBody Map&lt;String, String&gt; loginMap) {\r\n        User user = userService.findByMobile(mobile);\r\n\r\n        if(user == null || !user.getPassword().equals(password)) {\r\n            return new Result(ResultCode.MOBILEORPASSWORDERROR);\r\n        }else {\r\n            String token = jwtUtils.createJwt(user.getId(), user.getUsername(), map);\r\n            return new Result(ResultCode.SUCCESS,token);\r\n        }\r\n    }\r\n\r\nIf you, as the backend, wish to handle the redirection anyway, redirect the request to a webpage with the token as a parameter, in this case:\r\n\r\n    GET http://www.example.com/login/success?token=xxx&amp;redirectUrl=%2Fxxx\r\n\r\nThe related backend code would be:\r\n\r\n        protected String determineTargetUrl(HttpServletRequest request, HttpServletResponse response, Authentication authentication) {\r\n        Optional&lt;String&gt; redirectUri = CookieUtils.getCookie(request, REDIRECT_URI_PARAM_COOKIE_NAME)\r\n                .map(Cookie::getValue);\r\n\r\n        if(redirectUri.isPresent() &amp;&amp; !isAuthorizedRedirectUri(redirectUri.get())) {\r\n            throw new BadRequestException();\r\n        }\r\n\r\n        String targetUrl = redirectUri.orElse(getDefaultTargetUrl());\r\n\r\n        String token = tokenProvider.createToken(authentication);\r\n\r\n        return UriComponentsBuilder.fromUriString(targetUrl)\r\n                .queryParam(&quot;token&quot;, token)\r\n                .build().toUriString();\r\n    }\r\n\r\nAgain, let the frontend put the token into the further request as the authorization header.\r\n\r\nKeep in mind, you are returning a response so you can set the response header. You don&#39;t get to set the request header of the next request for the frontend.\r\n\r\nReference:\r\nhttps://www.callicoder.com/spring-boot-security-oauth2-social-login-part-2/","title":"Spring: Redirect with Authorization Header","body":"<p>Typically, we let the frontend developers handle the redirections. If you work on the backend, you could offer a restful API to issue JwtTokens. The frontend will worry about how to carry the Authorization header in the following redirected Http requests. Here is a simple login controller using <code>mobile</code> and <code>password</code> in exchange for the JwtToken.</p>\n<pre><code>@RequestMapping(value = &quot;/login&quot;, method = RequestMethod.POST)\npublic Result login(@RequestBody Map&lt;String, String&gt; loginMap) {\n    User user = userService.findByMobile(mobile);\n\n    if(user == null || !user.getPassword().equals(password)) {\n        return new Result(ResultCode.MOBILEORPASSWORDERROR);\n    }else {\n        String token = jwtUtils.createJwt(user.getId(), user.getUsername(), map);\n        return new Result(ResultCode.SUCCESS,token);\n    }\n}\n</code></pre>\n<p>If you, as the backend, wish to handle the redirection anyway, redirect the request to a webpage with the token as a parameter, in this case:</p>\n<pre><code>GET http://www.example.com/login/success?token=xxx&amp;redirectUrl=%2Fxxx\n</code></pre>\n<p>The related backend code would be:</p>\n<pre><code>    protected String determineTargetUrl(HttpServletRequest request, HttpServletResponse response, Authentication authentication) {\n    Optional&lt;String&gt; redirectUri = CookieUtils.getCookie(request, REDIRECT_URI_PARAM_COOKIE_NAME)\n            .map(Cookie::getValue);\n\n    if(redirectUri.isPresent() &amp;&amp; !isAuthorizedRedirectUri(redirectUri.get())) {\n        throw new BadRequestException();\n    }\n\n    String targetUrl = redirectUri.orElse(getDefaultTargetUrl());\n\n    String token = tokenProvider.createToken(authentication);\n\n    return UriComponentsBuilder.fromUriString(targetUrl)\n            .queryParam(&quot;token&quot;, token)\n            .build().toUriString();\n}\n</code></pre>\n<p>Again, let the frontend put the token into the further request as the authorization header.</p>\n<p>Keep in mind, you are returning a response so you can set the response header. You don't get to set the request header of the next request for the frontend.</p>\n<p>Reference:\n<a href=\"https://www.callicoder.com/spring-boot-security-oauth2-social-login-part-2/\" rel=\"nofollow noreferrer\">https://www.callicoder.com/spring-boot-security-oauth2-social-login-part-2/</a></p>\n"}],"owner":{"account_id":410826,"reputation":1073,"user_id":782890,"accept_rate":75,"display_name":"webmonkey"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11307,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"answer_count":1,"score":10,"last_activity_date":1696363345,"creation_date":1486457894,"question_id":42085510,"body_markdown":"I&#39;m currently writing an application that issues a JWT token on demand.\r\nWhen the token is issued, the user should be redirected to a webpage. This works like a charm - but I need to set an authorization header for that redirect. \r\n\r\nThe user enters his credentials on Webpage A. Webpage A sends a POST Request to Server B. Server B checks the credentials and offers a token. Now the user should be redirected to Webpage C. \r\n\r\nI tried the following:\r\n\r\n\r\n\t@RequestMapping(value = &quot;/token&quot;, method = RequestMethod.POST, produces = &quot;application/json&quot;, consumes = MediaType.APPLICATION_FORM_URLENCODED_VALUE)\r\n    public ResponseEntity&lt;Object&gt; token(\r\n    \t\t@RequestParam(&quot;user&quot;) String _username, \r\n    \t\t@RequestParam(&quot;secret&quot;) String _secret\r\n    \t\t) throws Exception\r\n    {\t\t\r\n\t\theaders.setContentType(MediaType.APPLICATION_FORM_URLENCODED);\r\n\t\t\r\n\t\tMultiValueMap&lt;String, String&gt; map = new LinkedMultiValueMap&lt;String, String&gt;();\r\n\t\tmap.add(&quot;user&quot;, _username);\r\n\t\tmap.add(&quot;secret&quot;, _secret);\r\n\t\t\r\n\t\tHttpEntity&lt;MultiValueMap&lt;String, String&gt;&gt; entity = new HttpEntity&lt;MultiValueMap&lt;String, String&gt;&gt;(map, headers);\r\n\r\n\t\tHttpStatus statusCode = HttpStatus.FOUND;\r\n        HttpHeaders httpHeaders = new HttpHeaders();\r\n        \r\n\t\ttry {\r\n\t\t\tResponseEntity&lt;String&gt; request = restTemplate.exchange(_url, HttpMethod.POST, entity, String.class);\r\n\t\t} catch (Exception ex) {\r\n\t\t\tex.printStackTrance();\r\n\t\t}\r\n\t\t\r\n\t\tString response = request.getBody();\r\n\t\t\r\n\t\tJSONObject _tokenObject\t= new JSONObject(response);\r\n\t\tString _token = _tokenObject.getString(&quot;access_token&quot;);\r\n\t\t\r\n\t\thttpHeaders.add(&quot;Authorization&quot;, &quot;Bearer: &quot; + _token);\r\n\t\t\t\t\r\n\t\tURI _redirectUri = new URI(&quot;http://foo.example.com/webpageC&quot;);\r\n\t\thttpHeaders.setLocation(_redirectUri);\r\n\t\t        \r\n\t\treturn new ResponseEntity&lt;&gt;(httpHeaders, HttpStatus.FOUND);\r\n        \r\n    }\r\n\r\nThe redirect works, but only `/token` gets the Authorization Header as Response Header, right before the redirect happens.\r\n\r\nHow can I achieve that the header is sent to Webpage C?\r\n\r\nThanks.\r\n\r\n**Update**\r\n\r\nA `forward:` is not possible, as Webpage C is on another URL and not in the same Controller.\r\n\r\nAnyone has an Idea how to solve? ","title":"Spring: Redirect with Authorization Header","body":"<p>I'm currently writing an application that issues a JWT token on demand.\nWhen the token is issued, the user should be redirected to a webpage. This works like a charm - but I need to set an authorization header for that redirect. </p>\n\n<p>The user enters his credentials on Webpage A. Webpage A sends a POST Request to Server B. Server B checks the credentials and offers a token. Now the user should be redirected to Webpage C. </p>\n\n<p>I tried the following:</p>\n\n<pre><code>@RequestMapping(value = \"/token\", method = RequestMethod.POST, produces = \"application/json\", consumes = MediaType.APPLICATION_FORM_URLENCODED_VALUE)\npublic ResponseEntity&lt;Object&gt; token(\n        @RequestParam(\"user\") String _username, \n        @RequestParam(\"secret\") String _secret\n        ) throws Exception\n{       \n    headers.setContentType(MediaType.APPLICATION_FORM_URLENCODED);\n\n    MultiValueMap&lt;String, String&gt; map = new LinkedMultiValueMap&lt;String, String&gt;();\n    map.add(\"user\", _username);\n    map.add(\"secret\", _secret);\n\n    HttpEntity&lt;MultiValueMap&lt;String, String&gt;&gt; entity = new HttpEntity&lt;MultiValueMap&lt;String, String&gt;&gt;(map, headers);\n\n    HttpStatus statusCode = HttpStatus.FOUND;\n    HttpHeaders httpHeaders = new HttpHeaders();\n\n    try {\n        ResponseEntity&lt;String&gt; request = restTemplate.exchange(_url, HttpMethod.POST, entity, String.class);\n    } catch (Exception ex) {\n        ex.printStackTrance();\n    }\n\n    String response = request.getBody();\n\n    JSONObject _tokenObject = new JSONObject(response);\n    String _token = _tokenObject.getString(\"access_token\");\n\n    httpHeaders.add(\"Authorization\", \"Bearer: \" + _token);\n\n    URI _redirectUri = new URI(\"http://foo.example.com/webpageC\");\n    httpHeaders.setLocation(_redirectUri);\n\n    return new ResponseEntity&lt;&gt;(httpHeaders, HttpStatus.FOUND);\n\n}\n</code></pre>\n\n<p>The redirect works, but only <code>/token</code> gets the Authorization Header as Response Header, right before the redirect happens.</p>\n\n<p>How can I achieve that the header is sent to Webpage C?</p>\n\n<p>Thanks.</p>\n\n<p><strong>Update</strong></p>\n\n<p>A <code>forward:</code> is not possible, as Webpage C is on another URL and not in the same Controller.</p>\n\n<p>Anyone has an Idea how to solve? </p>\n"},{"tags":["java","spring","hibernate","maven"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1696408779,"post_id":77225174,"comment_id":136147618,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":25344147,"reputation":1,"user_id":19162120,"display_name":"Seloo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696363127,"creation_date":1696363127,"question_id":77225174,"body_markdown":"I asked many things like **ChatGPT**. However, none of them could solve this problem. I have a *Java* *Maven* project and it&#39;s on netbeans. I guess that&#39;s the problem. There is a problem with NetBeans. By the way, this project is a **Java swing** project (I&#39;m making a desktop application). I would be very happy if you could help me. I spent all day doing this.\r\n\r\nEven though I changed the location of the **hibernate.cfg.xml** file many times, the error was not corrected. I think there is no problem with **hibernate.cfg.xml** file. In order for it to exist, the application would have to find this file first.[enter image description here](https://i.stack.imgur.com/KgZXf.png)[enter image description here](https://i.stack.imgur.com/R6USt.png)","title":"Could not locate cfg.xml resource [hibernate.cfg.xml] Error","body":"<p>I asked many things like <strong>ChatGPT</strong>. However, none of them could solve this problem. I have a <em>Java</em> <em>Maven</em> project and it's on netbeans. I guess that's the problem. There is a problem with NetBeans. By the way, this project is a <strong>Java swing</strong> project (I'm making a desktop application). I would be very happy if you could help me. I spent all day doing this.</p>\n<p>Even though I changed the location of the <strong>hibernate.cfg.xml</strong> file many times, the error was not corrected. I think there is no problem with <strong>hibernate.cfg.xml</strong> file. In order for it to exist, the application would have to find this file first.<a href=\"https://i.stack.imgur.com/KgZXf.png\" rel=\"nofollow noreferrer\">enter image description here</a><a href=\"https://i.stack.imgur.com/R6USt.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","oracle","hibernate","jpa"],"comments":[{"owner":{"account_id":8357383,"reputation":11939,"user_id":6277104,"display_name":"SternK"},"score":0,"creation_date":1696408956,"post_id":77225168,"comment_id":136147660,"body_markdown":"What hibernate dialect did you use before update? And what hibernate dialect do you use now?","body":"What hibernate dialect did you use before update? And what hibernate dialect do you use now?"},{"owner":{"account_id":10118761,"reputation":11,"user_id":7476497,"display_name":"Emerson Diego"},"score":0,"creation_date":1696418110,"post_id":77225168,"comment_id":136149589,"body_markdown":"I has used &lt;property name=&quot;hibernate.dialect&quot; value=&quot;org.hibernate.dialect.Oracle10gDialect&quot; /&gt;. But, it look likes don&#39;t work anymore on wildfly 29","body":"I has used &lt;property name=&quot;hibernate.dialect&quot; value=&quot;org.hibernate.dialect.Oracle10gDialect&quot; /&gt;. But, it look likes don&#39;t work anymore on wildfly 29"}],"owner":{"account_id":10118761,"reputation":11,"user_id":7476497,"display_name":"Emerson Diego"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696363047,"creation_date":1696363047,"question_id":77225168,"body_markdown":"I recently migrated my application (don&#39;t use spring boot) from WildFly 21 to WildFly 29. In the older version, I was using the following Hibernate dialect, which is no longer working:\r\n\r\n&lt;property name=&quot;hibernate.dialect&quot; value=&quot;org.hibernate.dialect.Oracle10gDialect&quot; /&gt;\r\n\r\nI&#39;m using JPA&#39;s Criteria API to build a dynamic query. I need to extract the day and month from a Date field to filter results. I&#39;m using the CriteriaBuilder&#39;s function method to call Oracle database functions day and month on a date field. However, Oracle doesn&#39;t seem to recognize either of these functions.\r\n\r\nHere&#39;s a snippet of my code:\r\n\r\n```\r\nCriteriaBuilder cb = this.manager.getCriteriaBuilder();\r\nCriteriaQuery&lt;Servidor&gt; cq = cb.createQuery(Servidor.class);\r\nRoot&lt;Servidor&gt; root = cq.from(Servidor.class);\r\n\r\njakarta.persistence.criteria.Path&lt;Date&gt; dataAnivPath = root.&lt;Date&gt;get(&quot;dataNascimento&quot;);\r\nExpression&lt;Integer&gt; mesAnivPath = cb.function(&quot;month&quot;, Integer.class, dataAnivPath);\r\nExpression&lt;Integer&gt; diaAnivPath = cb.function(&quot;day&quot;, Integer.class, dataAnivPath);\r\n```\r\n\r\nAnybody can help me?","title":"Oracle not recognizing day and month functions in JPA Criteria API after migrating from WildFly 21 to 29","body":"<p>I recently migrated my application (don't use spring boot) from WildFly 21 to WildFly 29. In the older version, I was using the following Hibernate dialect, which is no longer working:</p>\n\n<p>I'm using JPA's Criteria API to build a dynamic query. I need to extract the day and month from a Date field to filter results. I'm using the CriteriaBuilder's function method to call Oracle database functions day and month on a date field. However, Oracle doesn't seem to recognize either of these functions.</p>\n<p>Here's a snippet of my code:</p>\n<pre><code>CriteriaBuilder cb = this.manager.getCriteriaBuilder();\nCriteriaQuery&lt;Servidor&gt; cq = cb.createQuery(Servidor.class);\nRoot&lt;Servidor&gt; root = cq.from(Servidor.class);\n\njakarta.persistence.criteria.Path&lt;Date&gt; dataAnivPath = root.&lt;Date&gt;get(&quot;dataNascimento&quot;);\nExpression&lt;Integer&gt; mesAnivPath = cb.function(&quot;month&quot;, Integer.class, dataAnivPath);\nExpression&lt;Integer&gt; diaAnivPath = cb.function(&quot;day&quot;, Integer.class, dataAnivPath);\n</code></pre>\n<p>Anybody can help me?</p>\n"},{"tags":["java","collections","guava"],"comments":[{"owner":{"account_id":56717,"reputation":3907,"user_id":169895,"accept_rate":96,"display_name":"berkay"},"score":0,"creation_date":1363284077,"post_id":15416722,"comment_id":21799719,"body_markdown":"if you want one with while i can do that for you.","body":"if you want one with while i can do that for you."},{"owner":{"account_id":1018999,"reputation":8457,"user_id":1029916,"accept_rate":94,"display_name":"NominSim"},"score":0,"creation_date":1363284087,"post_id":15416722,"comment_id":21799724,"body_markdown":"You could create a custom class for your collection and define an enumeration for the class that enumerates over the ids [tutorial here](http://www.java2s.com/Tutorial/Java/0140__Collections/CreatingCustomEnumerations.htm) but that is going to be many more lines of code to set up. (The call itself will be less though).","body":"You could create a custom class for your collection and define an enumeration for the class that enumerates over the ids <a href=\"http://www.java2s.com/Tutorial/Java/0140__Collections/CreatingCustomEnumerations.htm\" rel=\"nofollow noreferrer\">tutorial here</a> but that is going to be many more lines of code to set up. (The call itself will be less though)."},{"owner":{"account_id":317594,"reputation":2093,"user_id":634368,"accept_rate":100,"display_name":"Sednus"},"score":0,"creation_date":1363284119,"post_id":15416722,"comment_id":21799745,"body_markdown":"Maybe using dependency injection?","body":"Maybe using dependency injection?"},{"owner":{"account_id":17619,"reputation":15368,"user_id":39622,"accept_rate":78,"display_name":"Cyrille Ka"},"score":2,"creation_date":1363284264,"post_id":15416722,"comment_id":21799811,"body_markdown":"You can use Iterables.transform with a custom Function but it will produce more than four lines (or one very long unreadable line). If you want something shorter, wait for Java 8. I believe you&#39;ll be able to express that in one or two lines with closures.","body":"You can use Iterables.transform with a custom Function but it will produce more than four lines (or one very long unreadable line). If you want something shorter, wait for Java 8. I believe you&#39;ll be able to express that in one or two lines with closures."},{"owner":{"account_id":25591,"reputation":61024,"user_id":65868,"accept_rate":68,"display_name":"TofuBeer"},"score":0,"creation_date":1363284279,"post_id":15416722,"comment_id":21799825,"body_markdown":"Underneath the hood it would be a for loop still so there is no real savings.  I would do what I suggested below, make a method, you can always replace the body of the method with something &quot;smaller&quot; at a later date.","body":"Underneath the hood it would be a for loop still so there is no real savings.  I would do what I suggested below, make a method, you can always replace the body of the method with something &quot;smaller&quot; at a later date."},{"owner":{"account_id":170267,"reputation":1429,"user_id":396850,"accept_rate":100,"display_name":"Venki"},"score":0,"creation_date":1363284314,"post_id":15416722,"comment_id":21799842,"body_markdown":"I edited my question. i am looking for alternative options i might have miscommunicated by mentioning shorter in my question, i apologize for that.","body":"I edited my question. i am looking for alternative options i might have miscommunicated by mentioning shorter in my question, i apologize for that."},{"owner":{"account_id":1018999,"reputation":8457,"user_id":1029916,"accept_rate":94,"display_name":"NominSim"},"score":0,"creation_date":1363284498,"post_id":15416722,"comment_id":21799945,"body_markdown":"@TofuBeer If you defined a custom iteration that yields the ids rather than the object itself then you could do lazy loading of the ids, which could potentially have a lot of savings performance-wise.","body":"@TofuBeer If you defined a custom iteration that yields the ids rather than the object itself then you could do lazy loading of the ids, which could potentially have a lot of savings performance-wise."}],"answers":[{"tags":[],"owner":{"account_id":25591,"reputation":61024,"user_id":65868,"accept_rate":68,"display_name":"TofuBeer"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1363368271,"creation_date":1363284183,"answer_id":15416867,"question_id":15416722,"body_markdown":"There is no way to make it shorter, that is the smallest amount of work you can have to get the job done.\r\n\r\nWhat you could do, if you find that you are doing that in a number of places then make a method out of it:\r\n\r\n\r\n    public static List&lt;Long&gt; getIds(final List&lt;Dummy&gt; dummyList)\r\n    {\r\n        List&lt;Long&gt; ids = Lists.newArrayList();\r\n        for(Dummy dummy: dummyList){\r\n            ids.add(dummy.getId());   \r\n        } \r\n    }\r\n\r\nAnd then:\r\n\r\n    List&lt;Long&gt; ids = getIds(dummyList);\r\n\r\nEdit: If you do find a different way later you would just replace the method body and &quot;magically&quot; all of the places you are doing that will all be using the new method.","title":"Better way of getting a list of ids","body":"<p>There is no way to make it shorter, that is the smallest amount of work you can have to get the job done.</p>\n\n<p>What you could do, if you find that you are doing that in a number of places then make a method out of it:</p>\n\n<pre><code>public static List&lt;Long&gt; getIds(final List&lt;Dummy&gt; dummyList)\n{\n    List&lt;Long&gt; ids = Lists.newArrayList();\n    for(Dummy dummy: dummyList){\n        ids.add(dummy.getId());   \n    } \n}\n</code></pre>\n\n<p>And then:</p>\n\n<pre><code>List&lt;Long&gt; ids = getIds(dummyList);\n</code></pre>\n\n<p>Edit: If you do find a different way later you would just replace the method body and \"magically\" all of the places you are doing that will all be using the new method.</p>\n"},{"tags":[],"owner":{"account_id":17619,"reputation":15368,"user_id":39622,"accept_rate":78,"display_name":"Cyrille Ka"},"down_vote_count":0,"up_vote_count":18,"is_accepted":true,"score":18,"last_activity_date":1519410538,"creation_date":1363284639,"answer_id":15417007,"question_id":15416722,"body_markdown":"## Using Guava ##\r\n\r\nYou can use `Iterables.transform` to obtain an Iterable of your indices:\r\n\r\n    List&lt;Dummy&gt; dummyList = Lists.newArrayList();\r\n    Iterable&lt;Long&gt; idList = Iterables.transform(dummyList, new Function&lt;Dummy, Long&gt;() {\r\n        public Long apply(Dummy dummy) { return dummy.getId(); };\r\n    });\r\n\r\nBut it seems really overkill for that. You gain one line and you lose in readability.\r\n\r\n## Using Java 8 ##\r\n\r\nSince Java 8 you have closure and you are able to write this in a terser way.\r\n\r\n    List&lt;Long&gt; idList = dummyList\r\n                .stream()\r\n                .map(Dummy::getId)\r\n                .collect(Collectors.toList());\r\n\r\n","title":"Better way of getting a list of ids","body":"<h2>Using Guava</h2>\n\n<p>You can use <code>Iterables.transform</code> to obtain an Iterable of your indices:</p>\n\n<pre><code>List&lt;Dummy&gt; dummyList = Lists.newArrayList();\nIterable&lt;Long&gt; idList = Iterables.transform(dummyList, new Function&lt;Dummy, Long&gt;() {\n    public Long apply(Dummy dummy) { return dummy.getId(); };\n});\n</code></pre>\n\n<p>But it seems really overkill for that. You gain one line and you lose in readability.</p>\n\n<h2>Using Java 8</h2>\n\n<p>Since Java 8 you have closure and you are able to write this in a terser way.</p>\n\n<pre><code>List&lt;Long&gt; idList = dummyList\n            .stream()\n            .map(Dummy::getId)\n            .collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1333489,"reputation":17338,"user_id":1276804,"display_name":"zagyi"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1363286313,"creation_date":1363285846,"answer_id":15417401,"question_id":15416722,"body_markdown":"For the sake of completeness: you could also use [`LambdaJ`][3] to make it a one-liner:\r\n\r\n    List&lt;Long&gt; ids = extract(dummyList, on(Dummy.class).getId());\r\n\r\nSee more details on [LambdaJ&#39;s wiki] [1].\r\n\r\nPlease note that this solution might look nicer than a for loop, but performs much worse because it employs proxies behind the scenes, so I wouldn&#39;t use it if the code is performance critical. See some analysis on the performance penalty incurred by LambdaJ [here][2].\r\n\r\n\r\n[1]: https://code.google.com/p/lambdaj/wiki/LambdajFeatures#Converting,_indexing_and_sorting_items\r\n[2]: https://code.google.com/p/lambdaj/wiki/PerformanceAnalysis\r\n[3]: https://code.google.com/p/lambdaj/","title":"Better way of getting a list of ids","body":"<p>For the sake of completeness: you could also use <a href=\"https://code.google.com/p/lambdaj/\" rel=\"nofollow\"><code>LambdaJ</code></a> to make it a one-liner:</p>\n\n<pre><code>List&lt;Long&gt; ids = extract(dummyList, on(Dummy.class).getId());\n</code></pre>\n\n<p>See more details on <a href=\"https://code.google.com/p/lambdaj/wiki/LambdajFeatures#Converting,_indexing_and_sorting_items\" rel=\"nofollow\">LambdaJ's wiki</a>.</p>\n\n<p>Please note that this solution might look nicer than a for loop, but performs much worse because it employs proxies behind the scenes, so I wouldn't use it if the code is performance critical. See some analysis on the performance penalty incurred by LambdaJ <a href=\"https://code.google.com/p/lambdaj/wiki/PerformanceAnalysis\" rel=\"nofollow\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":13588821,"reputation":1,"user_id":9802763,"display_name":"Craig Smith"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696362701,"creation_date":1696362701,"answer_id":77225142,"question_id":15416722,"body_markdown":"    List&lt;Long&gt; idList = dummyList\r\n       .stream()\r\n       .map(d -&gt; d.getId())\r\n       .collect(Collectors.toList());\r\n","title":"Better way of getting a list of ids","body":"<pre><code>List&lt;Long&gt; idList = dummyList\n   .stream()\n   .map(d -&gt; d.getId())\n   .collect(Collectors.toList());\n</code></pre>\n"}],"owner":{"account_id":170267,"reputation":1429,"user_id":396850,"accept_rate":100,"display_name":"Venki"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21558,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":15417007,"answer_count":4,"score":4,"last_activity_date":1696362701,"creation_date":1363283772,"question_id":15416722,"body_markdown":"This is the sample object i have\r\n\r\n    public class Dummy {\r\n        private long id;\r\n        private String name;\r\n        /**\r\n         * @return the id.\r\n         */\r\n        public long getId() {\r\n            return id;\r\n        }\r\n        /**\r\n         * @param id the id to set.\r\n         */\r\n        public void setId(long id) {\r\n            this.id = id;\r\n        }\r\n        /**\r\n         * @return the name.\r\n         */\r\n        public String getName() {\r\n            return name;\r\n        }\r\n        /**\r\n         * @param name the name to set.\r\n         */\r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n    \r\n    }\r\n\r\nMy problem is this I have a list of these objects and I need to fetch the list of ids present in that object inside the list. I could easily do this by\r\n\r\n    List&lt;Long&gt; ids = Lists.newArrayList();\r\n    for(Dummy dummy: dummyList){\r\n     ids.add(dummy.getId()); \r\n    }\r\n\r\nI am wondering if it can be done by using alternative approach(instead of using a for loop may be?) than what i have come up with may be using `Iterables` or `Collections` filtering?\r\n\r\nEDIT: I am interested in knowing how it can be done differently than i have come up with.\r\n\r\n","title":"Better way of getting a list of ids","body":"<p>This is the sample object i have</p>\n\n<pre><code>public class Dummy {\n    private long id;\n    private String name;\n    /**\n     * @return the id.\n     */\n    public long getId() {\n        return id;\n    }\n    /**\n     * @param id the id to set.\n     */\n    public void setId(long id) {\n        this.id = id;\n    }\n    /**\n     * @return the name.\n     */\n    public String getName() {\n        return name;\n    }\n    /**\n     * @param name the name to set.\n     */\n    public void setName(String name) {\n        this.name = name;\n    }\n\n}\n</code></pre>\n\n<p>My problem is this I have a list of these objects and I need to fetch the list of ids present in that object inside the list. I could easily do this by</p>\n\n<pre><code>List&lt;Long&gt; ids = Lists.newArrayList();\nfor(Dummy dummy: dummyList){\n ids.add(dummy.getId()); \n}\n</code></pre>\n\n<p>I am wondering if it can be done by using alternative approach(instead of using a for loop may be?) than what i have come up with may be using <code>Iterables</code> or <code>Collections</code> filtering?</p>\n\n<p>EDIT: I am interested in knowing how it can be done differently than i have come up with.</p>\n"},{"tags":["java","spring","spring-mvc","spring-security","spring-boot"],"comments":[{"owner":{"account_id":4104035,"reputation":119,"user_id":3368679,"display_name":"vmakarenko"},"score":0,"creation_date":1446830079,"post_id":33568237,"comment_id":54922156,"body_markdown":"I just made the app stateless like here: http://stackoverflow.com/questions/2504590/how-can-i-use-spring-security-without-sessions\n\nAnd now everything is okay.","body":"I just made the app stateless like here: <a href=\"http://stackoverflow.com/questions/2504590/how-can-i-use-spring-security-without-sessions\" title=\"how can i use spring security without sessions\">stackoverflow.com/questions/2504590/&hellip;</a>  And now everything is okay."}],"answers":[{"tags":[],"owner":{"account_id":4104035,"reputation":119,"user_id":3368679,"display_name":"vmakarenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1446830144,"creation_date":1446830144,"answer_id":33572124,"question_id":33568237,"body_markdown":"I just made the app stateless like here: https://stackoverflow.com/questions/2504590/how-can-i-use-spring-security-without-sessions\r\n\r\nAnd now everything is okay.","title":"How to disable or override RequestCacheAwareFilter in Spring Boot","body":"<p>I just made the app stateless like here: <a href=\"https://stackoverflow.com/questions/2504590/how-can-i-use-spring-security-without-sessions\">How can I use Spring Security without sessions?</a></p>\n\n<p>And now everything is okay.</p>\n"},{"tags":[],"owner":{"account_id":3805270,"reputation":91,"user_id":3157878,"display_name":"maciej.jezierski"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1454581231,"creation_date":1454581231,"answer_id":35198328,"question_id":33568237,"body_markdown":"Use custom WebSecurityConfigurerAdapter to set request cache to NullRequestCache:\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    public class SecurityConfig extends WebSecurityConfigurerAdapter {\r\n        @Override\r\n        protected void configure(HttpSecurity http) throws Exception {\r\n            http.requestCache()\r\n                .requestCache(new NullRequestCache());\r\n        }\r\n    }","title":"How to disable or override RequestCacheAwareFilter in Spring Boot","body":"<p>Use custom WebSecurityConfigurerAdapter to set request cache to NullRequestCache:</p>\n\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http.requestCache()\n            .requestCache(new NullRequestCache());\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18467,"reputation":6637,"user_id":42344,"accept_rate":60,"display_name":"jonathan.cone"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696360373,"creation_date":1696360373,"answer_id":77224948,"question_id":33568237,"body_markdown":"In Spring Security 6:\r\n\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        return http\r\n            .requestCache(RequestCacheConfigurer::disable)\r\n            .build();\r\n    }","title":"How to disable or override RequestCacheAwareFilter in Spring Boot","body":"<p>In Spring Security 6:</p>\n<pre><code>@Bean\npublic SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n    return http\n        .requestCache(RequestCacheConfigurer::disable)\n        .build();\n}\n</code></pre>\n"}],"owner":{"account_id":4104035,"reputation":119,"user_id":3368679,"display_name":"vmakarenko"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3589,"favorite_count":0,"down_vote_count":1,"up_vote_count":7,"answer_count":3,"score":6,"last_activity_date":1696360373,"creation_date":1446817467,"question_id":33568237,"body_markdown":"0. I have very basic simple Spring Boot Rest application.\r\n1. I needed to implement custom authentication in Spring Security: for every REST request I need to check username and password, that are in specific headers of every request (&quot;username&quot; and &quot;password&quot;).\r\n\r\n2. So I implemented custom AuthEntryPoint:\r\n\r\n    \r\n    &lt;pre&gt; &lt;code&gt;@Service\r\n    public class CustomAuthEntryPoint implements AuthenticationEntryPoint {\r\n        @Override\r\n        public void commence(HttpServletRequest httpServletRequest, HttpServletResponse httpServletResponse, AuthenticationException e) throws IOException, ServletException {\r\n            String username = httpServletRequest.getHeader(&quot;username&quot;);\r\n            String password = httpServletRequest.getHeader(&quot;password&quot;);\r\n            if (!username.equals(&quot;admin&quot;) || !password.equals(&quot;admin&quot;)) {\r\n                throw new RuntimeException(&quot;&quot;, new BadCredentialsException(&quot;Wrong password&quot;));\r\n            }\r\n        }\r\n    }&lt;/code&gt;&lt;/pre&gt;\r\n    \r\n3. So, I realized, that RequestCacheAwareFilter is caching first request and headers are also stored in cache. So if I make a request with wrong pass and then with right one, I will still get an exception.\r\n\r\nSo, how could I override the CacheAwareFilter or disable it? Or am I doing something totally wrong? ","title":"How to disable or override RequestCacheAwareFilter in Spring Boot","body":"<ol>\n<li>I have very basic simple Spring Boot Rest application.</li>\n<li><p>I needed to implement custom authentication in Spring Security: for every REST request I need to check username and password, that are in specific headers of every request (\"username\" and \"password\").</p></li>\n<li><p>So I implemented custom AuthEntryPoint:</p>\n\n<pre> <code>@Service\npublic class CustomAuthEntryPoint implements AuthenticationEntryPoint {\n    @Override\n    public void commence(HttpServletRequest httpServletRequest, HttpServletResponse httpServletResponse, AuthenticationException e) throws IOException, ServletException {\n        String username = httpServletRequest.getHeader(\"username\");\n        String password = httpServletRequest.getHeader(\"password\");\n        if (!username.equals(\"admin\") || !password.equals(\"admin\")) {\n            throw new RuntimeException(\"\", new BadCredentialsException(\"Wrong password\"));\n        }\n    }\n}</code></pre></li>\n<li><p>So, I realized, that RequestCacheAwareFilter is caching first request and headers are also stored in cache. So if I make a request with wrong pass and then with right one, I will still get an exception.</p></li>\n</ol>\n\n<p>So, how could I override the CacheAwareFilter or disable it? Or am I doing something totally wrong? </p>\n"},{"tags":["java","sql","reactjs","sql-server","spring-boot"],"comments":[{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":5,"creation_date":1695858357,"post_id":77191275,"comment_id":136081616,"body_markdown":"A [mre], please? Can you demonstrate your problem in 10 lines of code or less?","body":"A <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, please? Can you demonstrate your problem in 10 lines of code or less?"}],"answers":[{"tags":[],"owner":{"account_id":8323670,"reputation":709,"user_id":6254385,"accept_rate":90,"display_name":"epicUsername"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1696360295,"creation_date":1696360295,"answer_id":77224934,"question_id":77191275,"body_markdown":"Well, the problem is solved. The code itself is fine - what was wrong is that the request path was using a deployed version of the project, not the development one. As a result, changes in the code required the project to be recompiled and redeployed for them to reflect. It is working fine now.\r\n\r\nTherefore - if you&#39;re testing, have a sandbox in your local environment that emulates the production environment, and define your URLs accordingly, or compile and redeploy with your changes.","title":"Why does a SQL table record a null value for datetime, if one is passed in from a frontend?","body":"<p>Well, the problem is solved. The code itself is fine - what was wrong is that the request path was using a deployed version of the project, not the development one. As a result, changes in the code required the project to be recompiled and redeployed for them to reflect. It is working fine now.</p>\n<p>Therefore - if you're testing, have a sandbox in your local environment that emulates the production environment, and define your URLs accordingly, or compile and redeploy with your changes.</p>\n"}],"owner":{"account_id":8323670,"reputation":709,"user_id":6254385,"accept_rate":90,"display_name":"epicUsername"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":98,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":77224934,"answer_count":1,"score":-1,"last_activity_date":1696360295,"creation_date":1695854566,"question_id":77191275,"body_markdown":"I have a React frontend, from which an `activity` object is passed in to be recorded into a SQL table. This is the code for it:\r\n\r\n\r\n```\r\n         let lid = dataPoints[0]\r\n\t\t let pid = dataPoints[1]\r\n\t\t let spid = dataPoints[2]\r\n\t\t let qasid = dataPoints[3]\r\n\t\t let sid = dataPoints[4]\r\n\t\t cid = dataPoints[5] //already declared in line 443\r\n\t\t let atid = 0\r\n\t\t let datetime2 = new Date(timestamp.slice(0, 24))\r\n\t\t \r\n\t\t //let datetime = datetime2.toString(); // tried with ISOString\r\n\t\t let datetime = datetime2\r\n\t\t \r\n\t\t console.log(&quot;Sliced date and time is &quot;, datetime)\r\n\t\t\t\r\n\t\t \r\n\t\t let activity = JSON.stringify({lid, pid, spid, qasid, sid, cid, atid, datetime})\r\n\t\t \r\n\t\t // submit the activities object to the database\r\n\t\t  const resActivity = userService.createActivitiesRecord(activity)\r\n```\r\n\r\n\r\n\r\nThis is the contents of the `activity` object before it gets sent off, with a bunch of confirmations before:\r\n\r\n[![enter image description here](https://i.stack.imgur.com/bGKEq.png)](https://i.stack.imgur.com/bGKEq.png)\r\n\r\n\r\nAfter this, Axios handles the request and send it off to the database where it records everything, but the `datetime` - this being the last column in the screenshot:\r\n\r\n[![enter image description here](https://i.stack.imgur.com/PxPEQ.png)](https://i.stack.imgur.com/PxPEQ.png)\r\n\r\nAxios is the connecting tissue in the **UserServices.js** file:\r\n\r\n    createActivitiesRecord(activity) {\r\n\r\n        return axios.post(&quot;http://projecturl/newactivity&quot;, JSON.parse(activity)\r\n\r\n     }\r\n\r\nWithout parsing is a JSON, the server returns a 415 error.\r\n\r\nThis is what Apache Tomcat 9 is doing when recording the entry - it takes the datetime value, casts it as date and gives it a null value, even if I did try to cast it as such from the frontend in the first place.\r\n\r\n[![](https://i.stack.imgur.com/T5idD.png)](https://i.stack.imgur.com/T5idD.png)\r\n\r\n**UPDATE**\r\n\r\nOne other thing I&#39;ve noticed is that I can delete the datetime column entirely from the table, and remove it as a field from the model, and the frontend - de facto eveywhere - and SQL will still throw an error about an invalid column name when I go to make a record, with the fact that the column is already gone, it will still look for it. \r\n\r\nThe backend is in Spring Boot and I am using JPA as the mechanism to pass data to the database.\r\n\r\n\r\nI&#39;ve tried a number of approaches:\r\n\r\n1) Deconstruct the activity object into its constituent variables, pass them into the backend one by one and use the @Query annotation to the effect of:\r\n\r\n`@Query(value = &quot;Insert into activities (lid, pid, spid, qasid, sid, cid, atid, datetime) values (:lid, :pid, :spid, :qasid, :sid, :cid, atid, :datetime)&quot;`\r\n\r\nOR\r\n\r\n`@Query(value = &quot;Insert into activities (lid, pid, spid, qasid, sid, cid, atid, datetime) values (:lid, :pid, :spid, :qasid, :sid, :cid, atid, CURRENT_TIMESTAMP)&quot;`\r\n\r\nLikewise, I tried with to do an UPDATE as well, but in all these cases, the Spring Boot API failed to even launch due to a NullPointerException, which I understood to mean the lack of passed in values for these variables.\r\n\r\nRunning these queries within SQL SMSS, however, and everything records correctly.\r\n\r\nI&#39;ve tried cleaning the cache in Firefox, the STS4 IDE and the SQL Server database (for the record, I am using SQL 19) to no effect.\r\n\r\nAnother thing that I noticed is that I can change the data type of the column to any one of `varchar, datetime, timestamp`, but it does not change anything.\r\n\r\nI&#39;ve also tried playing with the format in the frontend, backend and in SQL - of course, ensuring consistency - but that didn&#39;t help. Using a String format for everything also failed. In the model, I also attempted to use `Date`, Java&#39;s own `Timestamp` class, and `String`, but nothing. \r\n\r\nI did come across SO and elsewhere, researching the issue, that it was not possible to pass a timestamp through Java to SQL, because the DB engine has its own mechanism for generating one in a dedicated column when a record is made, so that inspired the @Query attempts. \r\n\r\nI also did try to use the **gettime()** function as a default value for the column, but that also led to nothing.\r\n\r\nCurrently, it passes data in using a Repository - Service - Controller - Model package structure. Codes are below and I&#39;ve omitted imports for brevity.\r\n\r\nActivityRepository.java:\r\n\r\n```\r\nimport com.example.demo.model.Activities;\r\n\r\n\r\npublic interface ActivitiesRepository extends JpaRepository&lt;Activities, Integer&gt;{\r\n\r\n\t\r\n}\r\n```\r\n\r\nActivitiesService.java:\r\n\r\n\r\n```\r\n@Service\r\npublic class ActivitiesService {\r\n\t\r\n\t@Autowired\r\n\tActivitiesRepository activitiesRepo;\r\n\t\r\n\tpublic List&lt;Activities&gt; getAllActivities() {\r\n\t\t\r\n\t\tList&lt;Activities&gt; activities = new ArrayList&lt;&gt;();\r\n\t\t\r\n\t\tactivitiesRepo.findAll().forEach(activityItem -&gt; activities.add(activityItem));\r\n\t\t\r\n\t\treturn activities;\r\n\t}\r\n\t\r\n\tpublic void saveOrUpdate(Activities _activity) {\r\n\t\tactivitiesRepo.save(_activity);\r\n\t\t//activitiesRepo.insertTimestamp();\r\n\t}\r\n\t\r\n\tpublic Activities findById(int id) {\r\n\t\treturn activitiesRepo.findById(id).get();\r\n\t}\r\n\r\n\tpublic void deleteAll() {\r\n\t\tactivitiesRepo.deleteAll();\r\n\t}\r\n\t\r\n\tpublic void deleteById(int id) {\r\n\t\tactivitiesRepo.deleteById(id);\r\n\t}\r\n\t\r\n}\r\n```\r\n\r\nActivitiesController.java:\r\n\r\n\r\n```\r\n@RestController\r\n@CrossOrigin\r\npublic class ActivitiesController {\r\n\t\r\n\t@Autowired\r\n\tActivitiesService activitiesService;\r\n\t\r\n\t@GetMapping(&quot;/activities&quot;) \r\n\tpublic List&lt;Activities&gt; getActivities() {\r\n\t\treturn activitiesService.getAllActivities();\r\n\t}\r\n\t\r\n\t@PostMapping(&quot;/activities-item&quot;)\r\n\tpublic void addActivity(@RequestBody Activities activity) {\r\n\t\tSystem.out.println(&quot;Activity is &quot; + activity);\r\n\t\tactivitiesService.saveOrUpdate(activity);\r\n\t}\r\n\t\r\n\t@GetMapping(&quot;/activities/{id}&quot;)\r\n\tpublic Activities getActivitiesItem(@PathVariable(&quot;id&quot;) int id) {\r\n\t\treturn activitiesService.findById(id);\r\n\t}\r\n\t\r\n\t@PutMapping(&quot;/activities&quot;)\r\n\tpublic void updateActivity(@RequestBody Activities activity) {\r\n\t\tactivitiesService.saveOrUpdate(activity);\r\n\t}\r\n\t\r\n\t@DeleteMapping(&quot;/activities/{id}&quot;)\r\n\tpublic void deleteById(@PathVariable(&quot;id&quot;) int id) {\r\n\t\tactivitiesService.deleteById(id);\r\n\t}\r\n\r\n}\r\n```\r\n\r\nActivities.java:\r\n\r\n\r\n```\r\n@Entity\r\n@Table(name=&quot;activities&quot;)\r\npublic class Activities {\r\n\t\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\tprivate int AID;\r\n\t\r\n\t@Column(name=&quot;LID&quot;)\r\n\tprivate int LID;\r\n\t\r\n\t@Column(name=&quot;PID&quot;)\r\n\tprivate int PID;\r\n\t\r\n\t@Column(name=&quot;SPID&quot;)\r\n\tprivate int SPID;\r\n\t\r\n\t@Column(name=&quot;QASID&quot;)\r\n\tprivate int QASID;\r\n\t\r\n\t@Column(name=&quot;SID&quot;)\r\n\tprivate int SID;\r\n\t\r\n\t@Column(name=&quot;CID&quot;)\r\n\tprivate int CID;\r\n\t\r\n\t@Column(name=&quot;ATID&quot;)\r\n\tprivate int ATID;\r\n\t\r\n\t@Column(name=&quot;datetime&quot;)\r\n\tprivate String datetime;\r\n\t\r\n// getters/setters and constructors follow this\r\n```\r\n\r\nThank you in advance!\r\n","title":"Why does a SQL table record a null value for datetime, if one is passed in from a frontend?","body":"<p>I have a React frontend, from which an <code>activity</code> object is passed in to be recorded into a SQL table. This is the code for it:</p>\n<pre><code>         let lid = dataPoints[0]\n         let pid = dataPoints[1]\n         let spid = dataPoints[2]\n         let qasid = dataPoints[3]\n         let sid = dataPoints[4]\n         cid = dataPoints[5] //already declared in line 443\n         let atid = 0\n         let datetime2 = new Date(timestamp.slice(0, 24))\n         \n         //let datetime = datetime2.toString(); // tried with ISOString\n         let datetime = datetime2\n         \n         console.log(&quot;Sliced date and time is &quot;, datetime)\n            \n         \n         let activity = JSON.stringify({lid, pid, spid, qasid, sid, cid, atid, datetime})\n         \n         // submit the activities object to the database\n          const resActivity = userService.createActivitiesRecord(activity)\n</code></pre>\n<p>This is the contents of the <code>activity</code> object before it gets sent off, with a bunch of confirmations before:</p>\n<p><a href=\"https://i.stack.imgur.com/bGKEq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bGKEq.png\" alt=\"enter image description here\" /></a></p>\n<p>After this, Axios handles the request and send it off to the database where it records everything, but the <code>datetime</code> - this being the last column in the screenshot:</p>\n<p><a href=\"https://i.stack.imgur.com/PxPEQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PxPEQ.png\" alt=\"enter image description here\" /></a></p>\n<p>Axios is the connecting tissue in the <strong>UserServices.js</strong> file:</p>\n<pre><code>createActivitiesRecord(activity) {\n\n    return axios.post(&quot;http://projecturl/newactivity&quot;, JSON.parse(activity)\n\n }\n</code></pre>\n<p>Without parsing is a JSON, the server returns a 415 error.</p>\n<p>This is what Apache Tomcat 9 is doing when recording the entry - it takes the datetime value, casts it as date and gives it a null value, even if I did try to cast it as such from the frontend in the first place.</p>\n<p><a href=\"https://i.stack.imgur.com/T5idD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/T5idD.png\" alt=\"\" /></a></p>\n<p><strong>UPDATE</strong></p>\n<p>One other thing I've noticed is that I can delete the datetime column entirely from the table, and remove it as a field from the model, and the frontend - de facto eveywhere - and SQL will still throw an error about an invalid column name when I go to make a record, with the fact that the column is already gone, it will still look for it.</p>\n<p>The backend is in Spring Boot and I am using JPA as the mechanism to pass data to the database.</p>\n<p>I've tried a number of approaches:</p>\n<ol>\n<li>Deconstruct the activity object into its constituent variables, pass them into the backend one by one and use the @Query annotation to the effect of:</li>\n</ol>\n<p><code>@Query(value = &quot;Insert into activities (lid, pid, spid, qasid, sid, cid, atid, datetime) values (:lid, :pid, :spid, :qasid, :sid, :cid, atid, :datetime)&quot;</code></p>\n<p>OR</p>\n<p><code>@Query(value = &quot;Insert into activities (lid, pid, spid, qasid, sid, cid, atid, datetime) values (:lid, :pid, :spid, :qasid, :sid, :cid, atid, CURRENT_TIMESTAMP)&quot;</code></p>\n<p>Likewise, I tried with to do an UPDATE as well, but in all these cases, the Spring Boot API failed to even launch due to a NullPointerException, which I understood to mean the lack of passed in values for these variables.</p>\n<p>Running these queries within SQL SMSS, however, and everything records correctly.</p>\n<p>I've tried cleaning the cache in Firefox, the STS4 IDE and the SQL Server database (for the record, I am using SQL 19) to no effect.</p>\n<p>Another thing that I noticed is that I can change the data type of the column to any one of <code>varchar, datetime, timestamp</code>, but it does not change anything.</p>\n<p>I've also tried playing with the format in the frontend, backend and in SQL - of course, ensuring consistency - but that didn't help. Using a String format for everything also failed. In the model, I also attempted to use <code>Date</code>, Java's own <code>Timestamp</code> class, and <code>String</code>, but nothing.</p>\n<p>I did come across SO and elsewhere, researching the issue, that it was not possible to pass a timestamp through Java to SQL, because the DB engine has its own mechanism for generating one in a dedicated column when a record is made, so that inspired the @Query attempts.</p>\n<p>I also did try to use the <strong>gettime()</strong> function as a default value for the column, but that also led to nothing.</p>\n<p>Currently, it passes data in using a Repository - Service - Controller - Model package structure. Codes are below and I've omitted imports for brevity.</p>\n<p>ActivityRepository.java:</p>\n<pre><code>import com.example.demo.model.Activities;\n\n\npublic interface ActivitiesRepository extends JpaRepository&lt;Activities, Integer&gt;{\n\n    \n}\n</code></pre>\n<p>ActivitiesService.java:</p>\n<pre><code>@Service\npublic class ActivitiesService {\n    \n    @Autowired\n    ActivitiesRepository activitiesRepo;\n    \n    public List&lt;Activities&gt; getAllActivities() {\n        \n        List&lt;Activities&gt; activities = new ArrayList&lt;&gt;();\n        \n        activitiesRepo.findAll().forEach(activityItem -&gt; activities.add(activityItem));\n        \n        return activities;\n    }\n    \n    public void saveOrUpdate(Activities _activity) {\n        activitiesRepo.save(_activity);\n        //activitiesRepo.insertTimestamp();\n    }\n    \n    public Activities findById(int id) {\n        return activitiesRepo.findById(id).get();\n    }\n\n    public void deleteAll() {\n        activitiesRepo.deleteAll();\n    }\n    \n    public void deleteById(int id) {\n        activitiesRepo.deleteById(id);\n    }\n    \n}\n</code></pre>\n<p>ActivitiesController.java:</p>\n<pre><code>@RestController\n@CrossOrigin\npublic class ActivitiesController {\n    \n    @Autowired\n    ActivitiesService activitiesService;\n    \n    @GetMapping(&quot;/activities&quot;) \n    public List&lt;Activities&gt; getActivities() {\n        return activitiesService.getAllActivities();\n    }\n    \n    @PostMapping(&quot;/activities-item&quot;)\n    public void addActivity(@RequestBody Activities activity) {\n        System.out.println(&quot;Activity is &quot; + activity);\n        activitiesService.saveOrUpdate(activity);\n    }\n    \n    @GetMapping(&quot;/activities/{id}&quot;)\n    public Activities getActivitiesItem(@PathVariable(&quot;id&quot;) int id) {\n        return activitiesService.findById(id);\n    }\n    \n    @PutMapping(&quot;/activities&quot;)\n    public void updateActivity(@RequestBody Activities activity) {\n        activitiesService.saveOrUpdate(activity);\n    }\n    \n    @DeleteMapping(&quot;/activities/{id}&quot;)\n    public void deleteById(@PathVariable(&quot;id&quot;) int id) {\n        activitiesService.deleteById(id);\n    }\n\n}\n</code></pre>\n<p>Activities.java:</p>\n<pre><code>@Entity\n@Table(name=&quot;activities&quot;)\npublic class Activities {\n    \n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private int AID;\n    \n    @Column(name=&quot;LID&quot;)\n    private int LID;\n    \n    @Column(name=&quot;PID&quot;)\n    private int PID;\n    \n    @Column(name=&quot;SPID&quot;)\n    private int SPID;\n    \n    @Column(name=&quot;QASID&quot;)\n    private int QASID;\n    \n    @Column(name=&quot;SID&quot;)\n    private int SID;\n    \n    @Column(name=&quot;CID&quot;)\n    private int CID;\n    \n    @Column(name=&quot;ATID&quot;)\n    private int ATID;\n    \n    @Column(name=&quot;datetime&quot;)\n    private String datetime;\n    \n// getters/setters and constructors follow this\n</code></pre>\n<p>Thank you in advance!</p>\n"},{"tags":["java","spring-boot","spring-mvc","cassandra","spring-data"],"answers":[{"tags":[],"owner":{"account_id":60456,"reputation":55961,"user_id":1054558,"accept_rate":100,"display_name":"Aaron"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1696360125,"creation_date":1696360125,"answer_id":77224919,"question_id":77224551,"body_markdown":"So, I don&#39;t actually see a question here. But I can tell you _why_ this is happening:\r\n\r\n    List&lt;MachineReportData&gt; reports = reportRepository.findAll();\r\n\r\nBehind the scenes, the `findAll()` method is likely doing something like this:\r\n\r\n    SELECT * FROM report;\r\n\r\nIn Cassandra, we call that an unbound query. There isn&#39;t a `WHERE` clause, so the driver cannot figure out which node has the data. So, it picks a &quot;coordinator node,&quot; which then polls all of the other nodes in the cluster for data, assembles and returns the result set.\r\n\r\nThat&#39;s a lot for one node to do. Often, the node gets to a point where it can&#39;t allocate any more resources for the query and times-out. Obviously, this problem gets worse as the overall dataset and number of nodes increase. This is why this behavior is discouraged with Cassandra.\r\n\r\nRemember that Spring Data was first written for relational databases. Now while it does a pretty good job with Cassandra, it still has methods that shouldn&#39;t _ever_ be used such as:\r\n\r\n - `count()`\r\n - `saveAll()`\r\n - `findAll()`\r\n\r\nBasically, if you find a delivered Spring Data method that ends in `All()`, it should be avoided.","title":"com.datastax.oss.driver.api.core.DriverTimeoutException: Query timed out after PT2S","body":"<p>So, I don't actually see a question here. But I can tell you <em>why</em> this is happening:</p>\n<pre><code>List&lt;MachineReportData&gt; reports = reportRepository.findAll();\n</code></pre>\n<p>Behind the scenes, the <code>findAll()</code> method is likely doing something like this:</p>\n<pre><code>SELECT * FROM report;\n</code></pre>\n<p>In Cassandra, we call that an unbound query. There isn't a <code>WHERE</code> clause, so the driver cannot figure out which node has the data. So, it picks a &quot;coordinator node,&quot; which then polls all of the other nodes in the cluster for data, assembles and returns the result set.</p>\n<p>That's a lot for one node to do. Often, the node gets to a point where it can't allocate any more resources for the query and times-out. Obviously, this problem gets worse as the overall dataset and number of nodes increase. This is why this behavior is discouraged with Cassandra.</p>\n<p>Remember that Spring Data was first written for relational databases. Now while it does a pretty good job with Cassandra, it still has methods that shouldn't <em>ever</em> be used such as:</p>\n<ul>\n<li><code>count()</code></li>\n<li><code>saveAll()</code></li>\n<li><code>findAll()</code></li>\n</ul>\n<p>Basically, if you find a delivered Spring Data method that ends in <code>All()</code>, it should be avoided.</p>\n"}],"owner":{"account_id":29441691,"reputation":13,"user_id":22559707,"display_name":"Kaush"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77224919,"answer_count":1,"score":1,"last_activity_date":1696360146,"creation_date":1696356024,"question_id":77224551,"body_markdown":"Using spring boot v2.7.3 and Spring Data Cassandra dependency to connect to the Cassandra database. Application is running successfully. When I click on graph, its showing .... Whitelabel Error Page This application has no explicit mapping for /error, so you are seeing this as a fallback.\r\n\r\n```\r\n@Controller\r\npublic class MachineController {\r\n\r\n    @Autowired\r\n    MachineReportRepository reportRepository;\r\n\r\n    @Autowired\r\n    MachineService MachineService;\r\n\r\n    @GetMapping(&quot;/data/Machine/all&quot;)\r\n    public String getMachineGraph(Model model) {\r\n\r\n        List&lt;Integer&gt; consumed = new ArrayList&lt;&gt;();\r\n        List&lt;Integer&gt; voltage = new ArrayList&lt;&gt;();\r\n        List&lt;MachineReportData&gt; reports = reportRepository.findAll();\r\n       \r\n        if (reports.size() &gt; 0) {\r\n            reports.forEach(report -&gt; {\r\n                if(report.getConsumed() &lt; 8000) {\r\n                    consumed.add(report.getConsumed());\r\n                    voltage.add(report.getVoltage());\r\n            });\r\n\r\n            model.addAttribute(&quot;consumed&quot;, consumed);\r\n            model.addAttribute(&quot;voltage&quot;, voltage);\r\n\r\n        }\r\n        return &quot;Machineplot&quot;;\r\n```\r\n\r\n```\r\n@Component\r\npublic class MachineService {\r\n\r\n    @Autowired\r\n    MachineReportRepository machineReports;\r\n\r\n    List&lt;MachineReportData&gt; allStates = new ArrayList&lt;&gt;();\r\n    Long allStatesTimer = 0L;\r\n\r\n    // Cache for 15 min\r\n    final Integer CACHE_TIMER = 1000 * 60 * 15;\r\n\r\n    private void reloadAllStates() {\r\n        if (allStates == null || System.currentTimeMillis() &gt; allStatesTimer) {\r\n            allStatesTimer = System.currentTimeMillis() + CACHE_TIMER;\r\n            allStates = MachineReports.findAll();\r\n            System.out.println(&quot;Caching States count: &quot; + allStates.size());\r\n        }\r\n    }\r\n\r\n    public List&lt;MachineReportData&gt; getMachineReportData() {\r\n        reloadAllStates();\r\n        return allStates;\r\n    }\r\n```\r\n\r\n\r\n\r\n```\r\n@Repository\r\npublic class MachineReportRepository {\r\n\r\n    protected final CqlSession session;\r\n\r\n    private final PreparedStatement psFindAll;\r\n    private final PreparedStatement psfindByDeviceLabel;\r\n\r\n    private static final String KEYSPACE = &quot;nodemetrics&quot;;\r\n    private static final String TABLE_NAME = &quot;node_Machine_data&quot;;\r\n    private static final String COLUMN_GIID = &quot;giid&quot;;\r\n    private static final String COLUMN_INSTALLATION_ID = &quot;installationId&quot;;\r\n    private static final String COLUMN_DEVICE_LABEL = &quot;nodeLabel&quot;;\r\n    private static final String COLUMN_CONSUMED = &quot;consumed&quot;;\r\n    private static final String COLUMN_VOLTAGE = &quot;voltage&quot;;\r\n\r\n\r\n\r\n    public MachineReportRepository(CqlSession session) {\r\n        this.session = session;\r\n\r\n        psFindAll = session.prepare(selectFrom(KEYSPACE, TABLE_NAME)\r\n                .all()\r\n                .build()\r\n                .setConsistencyLevel(LOCAL_QUORUM)\r\n                .setIdempotent(true));\r\n\r\n        psfindByDeviceLabel = session.prepare(selectFrom(KEYSPACE, TABLE_NAME)\r\n                .all()\r\n                .whereColumn(COLUMN_DEVICE_LABEL).isEqualTo(bindMarker())\r\n                .build()\r\n                .setConsistencyLevel(LOCAL_QUORUM)\r\n                .setIdempotent(true));\r\n    }\r\n\r\n    public List&lt;MachineReportData&gt; findAll() {\r\n        BoundStatement boundStatement = psFindAll.bind()\r\n                .setConsistencyLevel(ONE);\r\n\r\n        return getListOfMachineReport(boundStatement);\r\n    }\r\n\r\n```\r\n\r\nstack trace\r\n```\r\n2023-10-03 15:12:52,392 [http-nio-8080-exec-3] ERROR org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/].[dispatcherServlet] (:) - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is com.datastax.oss.driver.api.core.DriverTimeoutException: Query timed out after PT2S] with root cause\r\ncom.datastax.oss.driver.api.core.DriverTimeoutException: Query timed out after PT2S\r\n\tat com.datastax.oss.driver.api.core.DriverTimeoutException.copy(DriverTimeoutException.java:34) ~[java-driver-core-4.14.1.jar:?]\r\n\tat com.datastax.oss.driver.internal.core.util.concurrent.CompletableFutures.getUninterruptibly(CompletableFutures.java:149) ~[java-driver-core-4.14.1.jar:?]\r\n\tat com.datastax.oss.driver.internal.core.cql.MultiPageResultSet$RowIterator.maybeMoveToNextPage(MultiPageResultSet.java:99) ~[java-driver-core-4.14.1.jar:?]\r\n\tat com.datastax.oss.driver.internal.core.cql.MultiPageResultSet$RowIterator.computeNext(MultiPageResultSet.java:91) ~[java-driver-core-4.14.1.jar:?]\r\n\tat com.datastax.oss.driver.internal.core.cql.MultiPageResultSet$RowIterator.computeNext(MultiPageResultSet.java:79) ~[java-driver-core-4.14.1.jar:?]\r\n\tat com.datastax.oss.driver.internal.core.util.CountingIterator.tryToComputeNext(CountingIterator.java:91) ~[java-driver-core-4.14.1.jar:?]\r\n\tat com.datastax.oss.driver.internal.core.util.CountingIterator.hasNext(CountingIterator.java:86) ~[java-driver-core-4.14.1.jar:?]\r\n\tat com.datastax.oss.driver.shaded.guava.common.collect.Iterators.addAll(Iterators.java:357) ~[java-driver-shaded-guava-25.1-jre-graal-sub-1.jar:?]\r\n\tat com.datastax.oss.driver.shaded.guava.common.collect.Iterables.addAll(Iterables.java:320) ~[java-driver-shaded-guava-25.1-jre-graal-sub-1.jar:?]\r\n\tat com.datastax.oss.driver.api.core.PagingIterable.all(PagingIterable.java:113) ~[java-driver-core-4.14.1.jar:?]\r\n\tat com.xxxxxxxxxx.nodemetricextractor.cassandra.keyspace.nodemetrics.MachineReportRepository.getListOfMachineReport(MachineReportRepository.java:79) ~[classes/:?]\r\n\tat com.xxxxxxxxxx.nodemetricextractor.cassandra.keyspace.nodemetrics.MachineReportRepository.findAll(MachineReportRepository.java:65) ~[classes/:?]\r\n\tat com.xxxxxxxxxx.nodemetricextractor.cassandra.keyspace.nodemetrics.MachineReportRepository$$FastClassBySpringCGLIB$$2714661f.invoke(&lt;generated&gt;) ~[classes/:?]\r\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.22.jar:5.3.22]\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.22.jar:5.3.22]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.22.jar:5.3.22]\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.22.jar:5.3.22]\r\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-5.3.22.jar:5.3.22]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.22.jar:5.3.22]\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.22.jar:5.3.22]\r\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.22.jar:5.3.22]\r\n\tat com.xxxxxxxxxx.nodemetricextractor.cassandra.keyspace.nodemetrics.MachineReportRepository$$EnhancerBySpringCGLIB$$9805d40.findAll(&lt;generated&gt;) ~[classes/:?]\r\n\tat com.xxxxxxxxxx.nodemetricextractor.web.MachineController.getMachineGraphAll(MachineController.java:118) ~[classes/:?]\r\n\tat jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]\r\n\tat jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:?]\r\n\tat jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]\r\n\tat java.lang.reflect.Method.invoke(Method.java:566) ~[?:?]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.22.jar:5.3.22]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.22.jar:5.3.22]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.22.jar:5.3.22]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.22.jar:5.3.22]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.22.jar:5.3.22]\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.22.jar:5.3.22]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1070) ~[spring-webmvc-5.3.22.jar:5.3.22]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.22.jar:5.3.22]\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.22.jar:5.3.22]\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.3.22.jar:5.3.22]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:655) ~[tomcat-embed-core-9.0.65.jar:4.0.FR]\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.22.jar:5.3.22]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.65.jar:4.0.FR]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.65.jar:9.0.65]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.22.jar:5.3.22]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.22.jar:5.3.22]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.22.jar:5.3.22]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.22.jar:5.3.22]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96) ~[spring-boot-actuator-2.7.3.jar:2.7.3]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.22.jar:5.3.22]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.22.jar:5.3.22]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.22.jar:5.3.22]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat java.lang.Thread.run(Thread.java:834) ~[?:?]\r\n2023-10-03 15:12:52,400 [http-nio-8080-exec-3] INFO  com.xxxxxxxxxx.nodemetricextractor.web.CommonAttributeInterceptor (:) - [preHandle][org.apache.catalina.core.ApplicationHttpRequest@21c85603][GET]/error\r\n\r\n\r\n```\r\n","title":"com.datastax.oss.driver.api.core.DriverTimeoutException: Query timed out after PT2S","body":"<p>Using spring boot v2.7.3 and Spring Data Cassandra dependency to connect to the Cassandra database. Application is running successfully. When I click on graph, its showing .... Whitelabel Error Page This application has no explicit mapping for /error, so you are seeing this as a fallback.</p>\n<pre><code>@Controller\npublic class MachineController {\n\n    @Autowired\n    MachineReportRepository reportRepository;\n\n    @Autowired\n    MachineService MachineService;\n\n    @GetMapping(&quot;/data/Machine/all&quot;)\n    public String getMachineGraph(Model model) {\n\n        List&lt;Integer&gt; consumed = new ArrayList&lt;&gt;();\n        List&lt;Integer&gt; voltage = new ArrayList&lt;&gt;();\n        List&lt;MachineReportData&gt; reports = reportRepository.findAll();\n       \n        if (reports.size() &gt; 0) {\n            reports.forEach(report -&gt; {\n                if(report.getConsumed() &lt; 8000) {\n                    consumed.add(report.getConsumed());\n                    voltage.add(report.getVoltage());\n            });\n\n            model.addAttribute(&quot;consumed&quot;, consumed);\n            model.addAttribute(&quot;voltage&quot;, voltage);\n\n        }\n        return &quot;Machineplot&quot;;\n</code></pre>\n<pre><code>@Component\npublic class MachineService {\n\n    @Autowired\n    MachineReportRepository machineReports;\n\n    List&lt;MachineReportData&gt; allStates = new ArrayList&lt;&gt;();\n    Long allStatesTimer = 0L;\n\n    // Cache for 15 min\n    final Integer CACHE_TIMER = 1000 * 60 * 15;\n\n    private void reloadAllStates() {\n        if (allStates == null || System.currentTimeMillis() &gt; allStatesTimer) {\n            allStatesTimer = System.currentTimeMillis() + CACHE_TIMER;\n            allStates = MachineReports.findAll();\n            System.out.println(&quot;Caching States count: &quot; + allStates.size());\n        }\n    }\n\n    public List&lt;MachineReportData&gt; getMachineReportData() {\n        reloadAllStates();\n        return allStates;\n    }\n</code></pre>\n<pre><code>@Repository\npublic class MachineReportRepository {\n\n    protected final CqlSession session;\n\n    private final PreparedStatement psFindAll;\n    private final PreparedStatement psfindByDeviceLabel;\n\n    private static final String KEYSPACE = &quot;nodemetrics&quot;;\n    private static final String TABLE_NAME = &quot;node_Machine_data&quot;;\n    private static final String COLUMN_GIID = &quot;giid&quot;;\n    private static final String COLUMN_INSTALLATION_ID = &quot;installationId&quot;;\n    private static final String COLUMN_DEVICE_LABEL = &quot;nodeLabel&quot;;\n    private static final String COLUMN_CONSUMED = &quot;consumed&quot;;\n    private static final String COLUMN_VOLTAGE = &quot;voltage&quot;;\n\n\n\n    public MachineReportRepository(CqlSession session) {\n        this.session = session;\n\n        psFindAll = session.prepare(selectFrom(KEYSPACE, TABLE_NAME)\n                .all()\n                .build()\n                .setConsistencyLevel(LOCAL_QUORUM)\n                .setIdempotent(true));\n\n        psfindByDeviceLabel = session.prepare(selectFrom(KEYSPACE, TABLE_NAME)\n                .all()\n                .whereColumn(COLUMN_DEVICE_LABEL).isEqualTo(bindMarker())\n                .build()\n                .setConsistencyLevel(LOCAL_QUORUM)\n                .setIdempotent(true));\n    }\n\n    public List&lt;MachineReportData&gt; findAll() {\n        BoundStatement boundStatement = psFindAll.bind()\n                .setConsistencyLevel(ONE);\n\n        return getListOfMachineReport(boundStatement);\n    }\n\n</code></pre>\n<p>stack trace</p>\n<pre><code>2023-10-03 15:12:52,392 [http-nio-8080-exec-3] ERROR org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/].[dispatcherServlet] (:) - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is com.datastax.oss.driver.api.core.DriverTimeoutException: Query timed out after PT2S] with root cause\ncom.datastax.oss.driver.api.core.DriverTimeoutException: Query timed out after PT2S\n    at com.datastax.oss.driver.api.core.DriverTimeoutException.copy(DriverTimeoutException.java:34) ~[java-driver-core-4.14.1.jar:?]\n    at com.datastax.oss.driver.internal.core.util.concurrent.CompletableFutures.getUninterruptibly(CompletableFutures.java:149) ~[java-driver-core-4.14.1.jar:?]\n    at com.datastax.oss.driver.internal.core.cql.MultiPageResultSet$RowIterator.maybeMoveToNextPage(MultiPageResultSet.java:99) ~[java-driver-core-4.14.1.jar:?]\n    at com.datastax.oss.driver.internal.core.cql.MultiPageResultSet$RowIterator.computeNext(MultiPageResultSet.java:91) ~[java-driver-core-4.14.1.jar:?]\n    at com.datastax.oss.driver.internal.core.cql.MultiPageResultSet$RowIterator.computeNext(MultiPageResultSet.java:79) ~[java-driver-core-4.14.1.jar:?]\n    at com.datastax.oss.driver.internal.core.util.CountingIterator.tryToComputeNext(CountingIterator.java:91) ~[java-driver-core-4.14.1.jar:?]\n    at com.datastax.oss.driver.internal.core.util.CountingIterator.hasNext(CountingIterator.java:86) ~[java-driver-core-4.14.1.jar:?]\n    at com.datastax.oss.driver.shaded.guava.common.collect.Iterators.addAll(Iterators.java:357) ~[java-driver-shaded-guava-25.1-jre-graal-sub-1.jar:?]\n    at com.datastax.oss.driver.shaded.guava.common.collect.Iterables.addAll(Iterables.java:320) ~[java-driver-shaded-guava-25.1-jre-graal-sub-1.jar:?]\n    at com.datastax.oss.driver.api.core.PagingIterable.all(PagingIterable.java:113) ~[java-driver-core-4.14.1.jar:?]\n    at com.xxxxxxxxxx.nodemetricextractor.cassandra.keyspace.nodemetrics.MachineReportRepository.getListOfMachineReport(MachineReportRepository.java:79) ~[classes/:?]\n    at com.xxxxxxxxxx.nodemetricextractor.cassandra.keyspace.nodemetrics.MachineReportRepository.findAll(MachineReportRepository.java:65) ~[classes/:?]\n    at com.xxxxxxxxxx.nodemetricextractor.cassandra.keyspace.nodemetrics.MachineReportRepository$$FastClassBySpringCGLIB$$2714661f.invoke(&lt;generated&gt;) ~[classes/:?]\n    at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.22.jar:5.3.22]\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.22.jar:5.3.22]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.22.jar:5.3.22]\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.22.jar:5.3.22]\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-5.3.22.jar:5.3.22]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.22.jar:5.3.22]\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.22.jar:5.3.22]\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.22.jar:5.3.22]\n    at com.xxxxxxxxxx.nodemetricextractor.cassandra.keyspace.nodemetrics.MachineReportRepository$$EnhancerBySpringCGLIB$$9805d40.findAll(&lt;generated&gt;) ~[classes/:?]\n    at com.xxxxxxxxxx.nodemetricextractor.web.MachineController.getMachineGraphAll(MachineController.java:118) ~[classes/:?]\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:?]\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]\n    at java.lang.reflect.Method.invoke(Method.java:566) ~[?:?]\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.22.jar:5.3.22]\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.22.jar:5.3.22]\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.22.jar:5.3.22]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.22.jar:5.3.22]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.22.jar:5.3.22]\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.22.jar:5.3.22]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1070) ~[spring-webmvc-5.3.22.jar:5.3.22]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.22.jar:5.3.22]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.22.jar:5.3.22]\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.3.22.jar:5.3.22]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:655) ~[tomcat-embed-core-9.0.65.jar:4.0.FR]\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.22.jar:5.3.22]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.65.jar:4.0.FR]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.65.jar:9.0.65]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.22.jar:5.3.22]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.22.jar:5.3.22]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.22.jar:5.3.22]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.22.jar:5.3.22]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96) ~[spring-boot-actuator-2.7.3.jar:2.7.3]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.22.jar:5.3.22]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.22.jar:5.3.22]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.22.jar:5.3.22]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at java.lang.Thread.run(Thread.java:834) ~[?:?]\n2023-10-03 15:12:52,400 [http-nio-8080-exec-3] INFO  com.xxxxxxxxxx.nodemetricextractor.web.CommonAttributeInterceptor (:) - [preHandle][org.apache.catalina.core.ApplicationHttpRequest@21c85603][GET]/error\n\n\n</code></pre>\n"},{"tags":["java","android","flutter","gradle","android-gradle-plugin"],"answers":[{"tags":[],"owner":{"account_id":21018574,"reputation":21,"user_id":15445465,"display_name":"Lakshydeep Vikram Sah"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649234429,"creation_date":1649234429,"answer_id":71763581,"question_id":71762929,"body_markdown":"check gradle version in build.gradle file. Downgrade the version or upgrade once.","title":"Flutter Error: Could not resolve all files for configuration &#39;:classpath&#39;. &gt; Could not find com.android.tools.build:gradle:7.4.2","body":"<p>check gradle version in build.gradle file. Downgrade the version or upgrade once.</p>\n"}],"owner":{"account_id":24844608,"reputation":87,"user_id":18722255,"display_name":"Kiarie Mathaga"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8310,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1696359680,"creation_date":1649231319,"question_id":71762929,"body_markdown":"What went wrong:\r\nA problem occurred configuring root project &#39;android&#39;.\r\n\r\n&gt; Could not resolve all files for configuration &#39;:classpath&#39;.\r\n&gt; Could not find com.android.tools.build:gradle:7.4.2.\r\n&gt; Searched in the following locations:\r\n&gt; \\- https://dl.google.com/dl/android/maven2/com/android/tools/build/gradle/7.4.2/gradle-7.4.2.pom\r\n&gt; \\- https://repo.maven.apache.org/maven2/com/android/tools/build/gradle/7.4.2/gradle-7.4.2.pom\r\n&gt; Required by:\r\n&gt; project :\r\n\r\n* Try:\r\n\r\n&gt; Run with --stacktrace option to get the stack trace.\r\n&gt; Run with --info or --debug option to get more log output.\r\n&gt; Run with --scan to get full insights.\r\n\r\n* Get more help at https://help.gradle.org\r\n\r\nI am getting this error when trying to run my project","title":"Flutter Error: Could not resolve all files for configuration &#39;:classpath&#39;. &gt; Could not find com.android.tools.build:gradle:7.4.2","body":"<p>What went wrong:\nA problem occurred configuring root project 'android'.</p>\n<blockquote>\n<p>Could not resolve all files for configuration ':classpath'.\nCould not find com.android.tools.build:gradle:7.4.2.\nSearched in the following locations:\n- <a href=\"https://dl.google.com/dl/android/maven2/com/android/tools/build/gradle/7.4.2/gradle-7.4.2.pom\" rel=\"noreferrer\">https://dl.google.com/dl/android/maven2/com/android/tools/build/gradle/7.4.2/gradle-7.4.2.pom</a>\n- <a href=\"https://repo.maven.apache.org/maven2/com/android/tools/build/gradle/7.4.2/gradle-7.4.2.pom\" rel=\"noreferrer\">https://repo.maven.apache.org/maven2/com/android/tools/build/gradle/7.4.2/gradle-7.4.2.pom</a>\nRequired by:\nproject :</p>\n</blockquote>\n<ul>\n<li>Try:</li>\n</ul>\n<blockquote>\n<p>Run with --stacktrace option to get the stack trace.\nRun with --info or --debug option to get more log output.\nRun with --scan to get full insights.</p>\n</blockquote>\n<ul>\n<li>Get more help at <a href=\"https://help.gradle.org\" rel=\"noreferrer\">https://help.gradle.org</a></li>\n</ul>\n<p>I am getting this error when trying to run my project</p>\n"},{"tags":["java","file-io","inputstream","outputstream","serializable"],"comments":[{"owner":{"account_id":27899,"reputation":4492,"user_id":74057,"accept_rate":82,"display_name":"aldrin"},"score":0,"creation_date":1309447187,"post_id":6529872,"comment_id":7698727,"body_markdown":"hmm, code looks fine. hard to say what the problem could be. are you swallowing any exceptions in a catch block?","body":"hmm, code looks fine. hard to say what the problem could be. are you swallowing any exceptions in a catch block?"}],"answers":[{"tags":[],"owner":{"account_id":19918,"reputation":53180,"user_id":47110,"accept_rate":98,"display_name":"Abdullah Jibaly"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1309407868,"creation_date":1309407868,"answer_id":6529911,"question_id":6529872,"body_markdown":"From the [java docs][1]:\r\n\r\n        FileOutputStream fos = new FileOutputStream(&quot;t.tmp&quot;);\r\n        ObjectOutputStream oos = new ObjectOutputStream(fos);\r\n        oos.writeObject(yourObject);\r\n        oos.close();\r\n\r\nJust make sure all objects in the graph implement serializable.\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/1.5.0/docs/api/java/io/ObjectOutputStream.html","title":"How to write class object to bin file","body":"<p>From the <a href=\"http://download.oracle.com/javase/1.5.0/docs/api/java/io/ObjectOutputStream.html\" rel=\"nofollow\">java docs</a>:</p>\n\n<pre><code>    FileOutputStream fos = new FileOutputStream(\"t.tmp\");\n    ObjectOutputStream oos = new ObjectOutputStream(fos);\n    oos.writeObject(yourObject);\n    oos.close();\n</code></pre>\n\n<p>Just make sure all objects in the graph implement serializable.</p>\n"},{"tags":[],"owner":{"account_id":71046,"reputation":11239,"user_id":205528,"display_name":"Kien Truong"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1309407956,"creation_date":1309407956,"answer_id":6529921,"question_id":6529872,"body_markdown":"[Serialize][1] is probably what you want. Implement the serialiable interface in your class then use ObjectOutputStream to write the object to file.\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/java/io/Serializable.html","title":"How to write class object to bin file","body":"<p><a href=\"http://download.oracle.com/javase/6/docs/api/java/io/Serializable.html\" rel=\"nofollow\">Serialize</a> is probably what you want. Implement the serialiable interface in your class then use ObjectOutputStream to write the object to file.</p>\n"},{"tags":[],"owner":{"account_id":27899,"reputation":4492,"user_id":74057,"accept_rate":82,"display_name":"aldrin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1309409657,"creation_date":1309409657,"answer_id":6530076,"question_id":6529872,"body_markdown":"Yes, you can serialize and save the objects using the OutputStream/InputStream classes. However do watch out when you modify the class (add/delete/modify an instance variable for example) and then try to read a previously saved file.","title":"How to write class object to bin file","body":"<p>Yes, you can serialize and save the objects using the OutputStream/InputStream classes. However do watch out when you modify the class (add/delete/modify an instance variable for example) and then try to read a previously saved file.</p>\n"}],"owner":{"account_id":146441,"reputation":302,"user_id":356904,"accept_rate":67,"display_name":"keponk"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14747,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1696359680,"creation_date":1309407367,"question_id":6529872,"body_markdown":"I am using Java to map some huge graph. I have a personalized class object that has this map, it is formed of several hashmaps and calls other personalized classes which are also made out of various objects.\r\n\r\nMy problem is that every time I run this to make tests, it takes around 5 minutes to map everything and then for each node it can take from 1 to 10 minutes to do some calculations. And every time I have to fix something on the code, I have to go through that waiting time.\r\n\r\nSo my question(s)\r\n\r\nIs there is any way to store the main object class (which is composed of several primitive and non-primitive objects) as a binary file that I can save once and the read from then on? \r\n\r\nHow would the parsing happen?\r\n\r\nI&#39;ve started looking into the FileOutputStream/ObjectOutputStream and FileInputStream/ObjectInputStream, but I am not sure I understood correctly if they are good options for this situation.\r\n\r\nAny comments and advice will be most appreciated.\r\n\r\nI attach the code that I tried to use to save the class object.\r\n\r\n    FileOutputStream fos = new FileOutputStream(&quot;tbox.dat&quot;);\r\n    ObjectOutputStream oos = new ObjectOutputStream(fos);\r\n    oos.writeObject(tboxObject);\r\n    oos.flush();\r\n    oos.close();\r\n\r\nThat&#39;s for the first run, after that I swapped the code for:\r\n\r\n    FileInputStream fis = new FileInputStream(&quot;tbox.dat&quot;);\r\n    ObjectInputStream ois = new ObjectInputStream(fis);\r\n    tboxObject savedTboxObject = (tboxObject) ois.readObject();\r\n    \r\nI will add that these are objects made out not only of ints and string, but of hashmaps, lists, and arrays of other also complex objects.\r\n\r\n","title":"How to write class object to bin file","body":"<p>I am using Java to map some huge graph. I have a personalized class object that has this map, it is formed of several hashmaps and calls other personalized classes which are also made out of various objects.</p>\n<p>My problem is that every time I run this to make tests, it takes around 5 minutes to map everything and then for each node it can take from 1 to 10 minutes to do some calculations. And every time I have to fix something on the code, I have to go through that waiting time.</p>\n<p>So my question(s)</p>\n<p>Is there is any way to store the main object class (which is composed of several primitive and non-primitive objects) as a binary file that I can save once and the read from then on?</p>\n<p>How would the parsing happen?</p>\n<p>I've started looking into the FileOutputStream/ObjectOutputStream and FileInputStream/ObjectInputStream, but I am not sure I understood correctly if they are good options for this situation.</p>\n<p>Any comments and advice will be most appreciated.</p>\n<p>I attach the code that I tried to use to save the class object.</p>\n<pre><code>FileOutputStream fos = new FileOutputStream(&quot;tbox.dat&quot;);\nObjectOutputStream oos = new ObjectOutputStream(fos);\noos.writeObject(tboxObject);\noos.flush();\noos.close();\n</code></pre>\n<p>That's for the first run, after that I swapped the code for:</p>\n<pre><code>FileInputStream fis = new FileInputStream(&quot;tbox.dat&quot;);\nObjectInputStream ois = new ObjectInputStream(fis);\ntboxObject savedTboxObject = (tboxObject) ois.readObject();\n</code></pre>\n<p>I will add that these are objects made out not only of ints and string, but of hashmaps, lists, and arrays of other also complex objects.</p>\n"},{"tags":["java","spring","spring-mvc","freemarker"],"answers":[{"tags":[],"owner":{"account_id":299854,"reputation":29886,"user_id":606679,"accept_rate":25,"display_name":"ddekany"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1696359326,"creation_date":1695923187,"answer_id":77197187,"question_id":77193946,"body_markdown":"TLDR; just leave the `defaultHtmlEscape` context parameter unset, and don&#39;t use some ancient Spring/JSTL version, then both JSP and FreeMarker will escape HTML form values exactly once. Especially if you don&#39;t use JSP, you have no much to fear, as `spring.formInput` is hard-wired to do HTML escaping in `spring.ftl`.\r\n\r\nLonger version...\r\n\r\nMy experience is that, at least with Spring 5.2.3 (comes with JSTL 1.2.7), the JSP `form:input` tag escapes by default, if you don&#39;t set the `defaultHtmlEscape` context parameter at all. Also, the FreeMarker `spring.formInput` only escapes via `${...}` FreeMarker auto-escaping then, not with the JSTL binding escaping mechanism. So by default both JSP and FreeMarker escapes exactly once.\r\n\r\nOTOH if you set `defaultHtmlEscape` to anything (`true` or `false`), one of the two (JSP or FreeMarker form support) will be broken.\r\n\r\nBut, if there&#39;s some company policy that requires you to have `defaultHtmlEscape=true`, then you can do this workaround:\r\n\r\n    &lt;#import &quot;/spring.ftl&quot; as spring/&gt;\r\n    &lt;#assign htmlEscape = false in spring&gt;\r\n    ...\r\n    &lt;@spring.formInput &quot;user.name&quot; /&gt;\r\n\r\nThere, `&lt;#assign htmlEscape = false in spring&gt;` disables the JSTL binding escaping for this response generation only, but `spring.formInput` will still do its own escaping.\r\n\r\n**Update:** There&#39;s a caveat with `&lt;#assign htmlEscape = false in spring&gt;`. `&lt;@spring.message ... /&gt;` is not affected by it, but it&#39;s affected by `defaultHtmlEscape`. If `defaultHtmlEscape` is not set, or it&#39;s set to `false` the message is not escaped. If `defaultHtmlEscape` is set to `true`, the message is escaped, and you can&#39;t avoid that (as far as you are using that macro). But there&#39;s no double escaping.","title":"Spring MVC - spring.ftl is causing double escaping of special characters","body":"<p>TLDR; just leave the <code>defaultHtmlEscape</code> context parameter unset, and don't use some ancient Spring/JSTL version, then both JSP and FreeMarker will escape HTML form values exactly once. Especially if you don't use JSP, you have no much to fear, as <code>spring.formInput</code> is hard-wired to do HTML escaping in <code>spring.ftl</code>.</p>\n<p>Longer version...</p>\n<p>My experience is that, at least with Spring 5.2.3 (comes with JSTL 1.2.7), the JSP <code>form:input</code> tag escapes by default, if you don't set the <code>defaultHtmlEscape</code> context parameter at all. Also, the FreeMarker <code>spring.formInput</code> only escapes via <code>${...}</code> FreeMarker auto-escaping then, not with the JSTL binding escaping mechanism. So by default both JSP and FreeMarker escapes exactly once.</p>\n<p>OTOH if you set <code>defaultHtmlEscape</code> to anything (<code>true</code> or <code>false</code>), one of the two (JSP or FreeMarker form support) will be broken.</p>\n<p>But, if there's some company policy that requires you to have <code>defaultHtmlEscape=true</code>, then you can do this workaround:</p>\n<pre><code>&lt;#import &quot;/spring.ftl&quot; as spring/&gt;\n&lt;#assign htmlEscape = false in spring&gt;\n...\n&lt;@spring.formInput &quot;user.name&quot; /&gt;\n</code></pre>\n<p>There, <code>&lt;#assign htmlEscape = false in spring&gt;</code> disables the JSTL binding escaping for this response generation only, but <code>spring.formInput</code> will still do its own escaping.</p>\n<p><strong>Update:</strong> There's a caveat with <code>&lt;#assign htmlEscape = false in spring&gt;</code>. <code>&lt;@spring.message ... /&gt;</code> is not affected by it, but it's affected by <code>defaultHtmlEscape</code>. If <code>defaultHtmlEscape</code> is not set, or it's set to <code>false</code> the message is not escaped. If <code>defaultHtmlEscape</code> is set to <code>true</code>, the message is escaped, and you can't avoid that (as far as you are using that macro). But there's no double escaping.</p>\n"}],"owner":{"account_id":7213669,"reputation":15,"user_id":5506906,"display_name":"Arham Ranjha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77197187,"answer_count":1,"score":0,"last_activity_date":1696359326,"creation_date":1695894907,"question_id":77193946,"body_markdown":"So I am using Spring 5.3.xx right now with a simple ftl file (i have simplified it for now)\r\n\r\n```ftl\r\n&lt;#import &quot;/spring.ftl&quot; as spring/&gt;\r\n&lt;@spring.formInput path=&quot;${textInputName}&quot; attributes=&#39;maxlength=&quot;1024&quot;  &#39;/&gt;\r\n```\r\n\r\nwith some simple free-marker settings from `context.xml`\r\n```xml\r\n       &lt;property name=&quot;freemarkerSettings&quot;&gt;\r\n            &lt;props&gt;\r\n                &lt;prop key=&quot;datetime_format&quot;&gt;yyyy-MM-dd&lt;/prop&gt;\r\n                &lt;prop key=&quot;url_escaping_charset&quot;&gt;UTF-8&lt;/prop&gt;\r\n            &lt;/props&gt;\r\n        &lt;/property&gt;\r\n```\r\n\r\nAnd i have enable escaping in `web.xml`\r\n```xml\r\n    &lt;context-param&gt;\r\n\t\t&lt;param-name&gt;defaultHtmlEscape&lt;/param-name&gt;\r\n\t\t&lt;param-value&gt;true&lt;/param-value&gt;\r\n\t&lt;/context-param&gt;\r\n```\r\n\r\nI am facing an issue with **double escaping**. A simple value like `&quot;abc&quot;` in `input` will be render as `&amp;quot;abc&amp;quot;` in `input` value on a page reload.\r\n\r\n - One is from spring when it tries to bind status\r\n\r\n\r\nhttps://github.com/spring-projects/spring-framework/blob/08bc1a050ec87cdaad6b05170c27e34d3f90cafa/spring-webmvc/src/main/java/org/springframework/web/servlet/support/BindStatus.java#L166-L168\r\n\r\n - Other one is from `ftl` since the `spring.ftl` uses `#ftl output_format=&quot;HTML&quot;` and that causes `autoEscape` below to be set to `true`\r\n\r\n\r\nhttps://github.com/apache/freemarker/blob/df938ce6120ca155b87d48df97b3a6d62123b17f/src/main/java/freemarker/core/DollarVariable.java#L67-L71\r\n\r\nAre we suppose to turn off escaping from spring from `web.xml` (which don&#39;t seem safe to me) or is it something else that I missed ?\r\n\r\nref: https://github.com/spring-projects/spring-framework/issues/19306\r\n","title":"Spring MVC - spring.ftl is causing double escaping of special characters","body":"<p>So I am using Spring 5.3.xx right now with a simple ftl file (i have simplified it for now)</p>\n<pre><code>&lt;#import &quot;/spring.ftl&quot; as spring/&gt;\n&lt;@spring.formInput path=&quot;${textInputName}&quot; attributes='maxlength=&quot;1024&quot;  '/&gt;\n</code></pre>\n<p>with some simple free-marker settings from <code>context.xml</code></p>\n<pre class=\"lang-xml prettyprint-override\"><code>       &lt;property name=&quot;freemarkerSettings&quot;&gt;\n            &lt;props&gt;\n                &lt;prop key=&quot;datetime_format&quot;&gt;yyyy-MM-dd&lt;/prop&gt;\n                &lt;prop key=&quot;url_escaping_charset&quot;&gt;UTF-8&lt;/prop&gt;\n            &lt;/props&gt;\n        &lt;/property&gt;\n</code></pre>\n<p>And i have enable escaping in <code>web.xml</code></p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;context-param&gt;\n        &lt;param-name&gt;defaultHtmlEscape&lt;/param-name&gt;\n        &lt;param-value&gt;true&lt;/param-value&gt;\n    &lt;/context-param&gt;\n</code></pre>\n<p>I am facing an issue with <strong>double escaping</strong>. A simple value like <code>&quot;abc&quot;</code> in <code>input</code> will be render as <code>&amp;quot;abc&amp;quot;</code> in <code>input</code> value on a page reload.</p>\n<ul>\n<li>One is from spring when it tries to bind status</li>\n</ul>\n<p><a href=\"https://github.com/spring-projects/spring-framework/blob/08bc1a050ec87cdaad6b05170c27e34d3f90cafa/spring-webmvc/src/main/java/org/springframework/web/servlet/support/BindStatus.java#L166-L168\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-framework/blob/08bc1a050ec87cdaad6b05170c27e34d3f90cafa/spring-webmvc/src/main/java/org/springframework/web/servlet/support/BindStatus.java#L166-L168</a></p>\n<ul>\n<li>Other one is from <code>ftl</code> since the <code>spring.ftl</code> uses <code>#ftl output_format=&quot;HTML&quot;</code> and that causes <code>autoEscape</code> below to be set to <code>true</code></li>\n</ul>\n<p><a href=\"https://github.com/apache/freemarker/blob/df938ce6120ca155b87d48df97b3a6d62123b17f/src/main/java/freemarker/core/DollarVariable.java#L67-L71\" rel=\"nofollow noreferrer\">https://github.com/apache/freemarker/blob/df938ce6120ca155b87d48df97b3a6d62123b17f/src/main/java/freemarker/core/DollarVariable.java#L67-L71</a></p>\n<p>Are we suppose to turn off escaping from spring from <code>web.xml</code> (which don't seem safe to me) or is it something else that I missed ?</p>\n<p>ref: <a href=\"https://github.com/spring-projects/spring-framework/issues/19306\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-framework/issues/19306</a></p>\n"},{"tags":["java","spring-boot","hibernate","spring-data-jpa"],"comments":[{"owner":{"account_id":29590936,"reputation":1,"user_id":22678567,"display_name":"codebusters"},"score":0,"creation_date":1696359308,"post_id":77224831,"comment_id":136141975,"body_markdown":"dependencies {\n    implementation &#39;org.hibernate.orm:hibernate-core:6.3.1.Final&#39;\n    implementation(&quot;org.postgresql:postgresql:42.6.0&quot;)\n    implementation &#39;org.springframework.boot:spring-boot-starter-data-jpa:2.5.6&#39;\n    annotationProcessor &#39;org.springframework.boot:spring-boot-starter-data-jpa:2.5.6&#39;\n\n    implementation &#39;com.vladmihalcea:hibernate-types-parent:2.10.3&#39;\n    implementation &#39;com.vladmihalcea:hibernate-types-52:2.21.1&#39;\n    implementation &#39;org.slf4j:slf4j-api:2.0.7&#39;\n\n   }","body":"dependencies {     implementation &#39;org.hibernate.orm:hibernate-core:6.3.1.Final&#39;     implementation(&quot;org.postgresql:postgresql:42.6.0&quot;)     implementation &#39;org.springframework.boot:spring-boot-starter-data-jpa:2.5.6&zwnj;&#8203;&#39;     annotationProcessor &#39;org.springframework.boot:spring-boot-starter-data-jpa:2.5.6&zwnj;&#8203;&#39;      implementation &#39;com.vladmihalcea:hibernate-types-parent:2.10.3&#39;     implementation &#39;com.vladmihalcea:hibernate-types-52:2.21.1&#39;     implementation &#39;org.slf4j:slf4j-api:2.0.7&#39;     }"},{"owner":{"account_id":12810928,"reputation":2458,"user_id":9269177,"display_name":"Debargha Roy"},"score":0,"creation_date":1696359410,"post_id":77224831,"comment_id":136142002,"body_markdown":"Welcome to Stack Overflow. Please take the [tour](https://stackoverflow.com/tour) to learn how Stack Overflow works and read [How to Ask](https://stackoverflow.com/help/how-to-ask) on how to improve the quality of your question. Then check the [help center](https://stackoverflow.com/help/on-topic) to see what questions you can ask.","body":"Welcome to Stack Overflow. Please take the <a href=\"https://stackoverflow.com/tour\">tour</a> to learn how Stack Overflow works and read <a href=\"https://stackoverflow.com/help/how-to-ask\">How to Ask</a> on how to improve the quality of your question. Then check the <a href=\"https://stackoverflow.com/help/on-topic\">help center</a> to see what questions you can ask."},{"owner":{"account_id":12810928,"reputation":2458,"user_id":9269177,"display_name":"Debargha Roy"},"score":0,"creation_date":1696359543,"post_id":77224831,"comment_id":136142021,"body_markdown":"Please try adding `implementation group: &#39;com.fasterxml.jackson.core&#39;, name: &#39;jackson-databind&#39;, version: &#39;2.0.1&#39;` to your gradle file. or in your syntax `implementation &quot;com.fasterxml.jackson.core:jackson-databind:2.0.1&quot;`","body":"Please try adding <code>implementation group: &#39;com.fasterxml.jackson.core&#39;, name: &#39;jackson-databind&#39;, version: &#39;2.0.1&#39;</code> to your gradle file. or in your syntax <code>implementation &quot;com.fasterxml.jackson.core:jackson-databind:2.0.1&quot;</code>"},{"owner":{"account_id":29590936,"reputation":1,"user_id":22678567,"display_name":"codebusters"},"score":0,"creation_date":1696364460,"post_id":77224831,"comment_id":136142920,"body_markdown":"Added. Now getting: Exception in thread &quot;main&quot; java.lang.NoSuchMethodError: &#39;void org.hibernate.type.AbstractSingleColumnStandardBasicType.&lt;init&gt;(org.hibernate.type.descriptor.sql.SqlTypeDescriptor, org.hibernate.type.descriptor.java.JavaTypeDescriptor)&#39;\n\tat com.vladmihalcea.hibernate.type.AbstractHibernateType.&lt;init&gt;(AbstractHibernateType.java:27)\n\tat com.vladmihalcea.hibernate.type.json.JsonBinaryType.&lt;init&gt;(JsonBinaryType.java:36)\n\tat com.vladmihalcea.hibernate.type.json.JsonBinaryType.&lt;clinit&gt;(JsonBinaryType.java:33)","body":"Added. Now getting: Exception in thread &quot;main&quot; java.lang.NoSuchMethodError: &#39;void org.hibernate.type.AbstractSingleColumnStandardBasicType.&lt;in&zwnj;&#8203;it&gt;(org.hibernate.ty&zwnj;&#8203;pe.descriptor.sql.Sq&zwnj;&#8203;lTypeDescriptor, org.hibernate.type.descriptor.java.JavaTypeDescriptor)&#39; \tat com.vladmihalcea.hibernate.type.AbstractHibernateType.&lt;init&gt;&zwnj;&#8203;(AbstractHibernateTy&zwnj;&#8203;pe.java:27) \tat com.vladmihalcea.hibernate.type.json.JsonBinaryType.&lt;init&gt;(J&zwnj;&#8203;sonBinaryType.java:3&zwnj;&#8203;6) \tat com.vladmihalcea.hibernate.type.json.JsonBinaryType.&lt;clinit&gt;&zwnj;&#8203;(JsonBinaryType.java&zwnj;&#8203;:33)"},{"owner":{"account_id":12810928,"reputation":2458,"user_id":9269177,"display_name":"Debargha Roy"},"score":0,"creation_date":1696375745,"post_id":77224831,"comment_id":136144136,"body_markdown":"try reading up here - https://stackoverflow.com/questions/38407235/hibernate-error-java-lang-nosuchmethoderror","body":"try reading up here - <a href=\"https://stackoverflow.com/questions/38407235/hibernate-error-java-lang-nosuchmethoderror\" title=\"hibernate error java lang nosuchmethoderror\">stackoverflow.com/questions/38407235/&hellip;</a>"}],"owner":{"account_id":29590936,"reputation":1,"user_id":22678567,"display_name":"codebusters"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696359084,"creation_date":1696359084,"question_id":77224831,"body_markdown":"Configuration configuration = new Configuration();\r\n        configuration.addAttributeConverter(new BirthdayConverter());\r\n\r\n        **configuration.registerTypeOverride(new JsonBinaryType());\r\n** // It doesnt work \r\n\r\n        configuration.configure();\r\n\r\n        try (SessionFactory sessionFactory = configuration.buildSessionFactory();\r\n             Session session = sessionFactory.openSession()) {\r\n\r\n            session.beginTransaction();\r\n            User user = User.builder()\r\n                    .username(&quot;john@gmail.com&quot;)\r\n                    .firstname(&quot;John&quot;)\r\n                    .lastname(&quot;Jones&quot;)\r\n                    .info(&quot;&quot;&quot;\r\n                            {\r\n                            &quot;name&quot;: &quot;John&quot;,  \r\n                            &quot;id&quot;: 25   \r\n                            }\r\n                            &quot;&quot;&quot;)\r\n                    .birthdate(new Birthday(LocalDate.of(1998, 6, 21)))\r\n                    .role(Role.ADMIN)\r\n                    .build();\r\n            session.persist(user);\r\n\r\n            session.getTransaction().commit();\r\n\r\n\r\nentity/User.class\r\n\r\n\r\n    //@Type(type = &quot;com.vladmihalcea.hibernate.type.json.JsonBinaryType&quot;)\r\n    @Convert(converter = JsonBinaryType.class) \r\n    private String info;\r\n\r\n}\r\n\r\n\r\nAlways getting Caused by: java.lang.ClassNotFoundException: com.fasterxml.jackson.databind.JsonSerializer\r\n\r\n\r\n\r\n\r\n\r\nChanged @Type(type = &quot;com.vladmihalcea.hibernate.type.json.JsonBinaryType&quot;) to @Convert(converter = JsonBinaryType.class) ","title":"Caused by: java.lang.ClassNotFoundException: com.fasterxml.jackson.databind.JsonSerializer","body":"<p>Configuration configuration = new Configuration();\nconfiguration.addAttributeConverter(new BirthdayConverter());</p>\n<pre><code>    **configuration.registerTypeOverride(new JsonBinaryType());\n</code></pre>\n<p>** // It doesnt work</p>\n<pre><code>    configuration.configure();\n\n    try (SessionFactory sessionFactory = configuration.buildSessionFactory();\n         Session session = sessionFactory.openSession()) {\n\n        session.beginTransaction();\n        User user = User.builder()\n                .username(&quot;john@gmail.com&quot;)\n                .firstname(&quot;John&quot;)\n                .lastname(&quot;Jones&quot;)\n                .info(&quot;&quot;&quot;\n                        {\n                        &quot;name&quot;: &quot;John&quot;,  \n                        &quot;id&quot;: 25   \n                        }\n                        &quot;&quot;&quot;)\n                .birthdate(new Birthday(LocalDate.of(1998, 6, 21)))\n                .role(Role.ADMIN)\n                .build();\n        session.persist(user);\n\n        session.getTransaction().commit();\n</code></pre>\n<p>entity/User.class</p>\n<pre><code>//@Type(type = &quot;com.vladmihalcea.hibernate.type.json.JsonBinaryType&quot;)\n@Convert(converter = JsonBinaryType.class) \nprivate String info;\n</code></pre>\n<p>}</p>\n<p>Always getting Caused by: java.lang.ClassNotFoundException: com.fasterxml.jackson.databind.JsonSerializer</p>\n<p>Changed @Type(type = &quot;com.vladmihalcea.hibernate.type.json.JsonBinaryType&quot;) to @Convert(converter = JsonBinaryType.class)</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":2,"creation_date":1696303222,"post_id":77219470,"comment_id":136132580,"body_markdown":"if you are going to use a primitive value of double, why use new Double().doubleValue()? Use Double.parseDouble() to directly get a primitive","body":"if you are going to use a primitive value of double, why use new Double().doubleValue()? Use Double.parseDouble() to directly get a primitive"},{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":1,"creation_date":1696303789,"post_id":77219470,"comment_id":136132625,"body_markdown":"can you step through with a debugger/print out the values of n1 and n2 in order to see if they are both what you expect inside the doAdd() method?","body":"can you step through with a debugger/print out the values of n1 and n2 in order to see if they are both what you expect inside the doAdd() method?"},{"owner":{"account_id":322981,"reputation":310744,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1696311944,"post_id":77219470,"comment_id":136133183,"body_markdown":"Way too much code for a simple question. Contrive example code when posting here.","body":"Way too much code for a simple question. Contrive example code when posting here."}],"answers":[{"tags":[],"owner":{"account_id":2817598,"reputation":6001,"user_id":2422224,"display_name":"Ma3x"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696358911,"creation_date":1696310194,"answer_id":77219818,"question_id":77219470,"body_markdown":"You have a bug in how you decide whether the radio buttons for add/sub/mul/div are checked or not. Because this check is placed in `onCreate`, it will only be executed once. This means that the same set of click listeners will be executed every time, resulting in the numeric value always being concatenated to the `num1` string.\r\n\r\nSo when you press the button &quot;7&quot; you will have `num1 = &quot;07&quot;`, then when you press the button &quot;+&quot;, it will append &quot; + &quot; to your `text` (`TextView`) and then when you press the button &quot;7&quot; again, you will have `num1 = &quot;077&quot;`. Converting a `String` with value `&quot;077&quot;` to a `double`/`Double` will result in the value `77.0`.\r\n\r\nMy suggestion would be to keep just one set of click listeners and do the radio button check inside them. If you do that you can even move all the logic to a separate function (method in your class).\r\n\r\nCreate a method before or after your `onCreate` method:\r\n\r\n```java\r\n// I specifically opted for int instead of String as the input parameter,\r\n// use types that best restrict valid input values to reduce the chance for bugs (here an enum for 0-9 would be even safer)\r\nprivate void appendDigit(int digit) {\r\n    String digitText = digit.toString();\r\n    text.append(digitText);\r\n    if (rbAdd.isChecked() || rbSub.isChecked() || rbDiv.isChecked() || rbMult.isChecked()) {\r\n        num2 += digitText;\r\n    } else {\r\n        num1 += digitText;\r\n    }\r\n}\r\n```\r\n\r\nThen in your `onCreate` method replace the whole `if/else if` part with just a single set of click handlers and call this new method in each one of them.\r\n```java\r\n    btn0.setOnClickListener(view -&gt; { appendDigit(0); });\r\n    btn1.setOnClickListener(view -&gt; { appendDigit(1); });\r\n    btn2.setOnClickListener(view -&gt; { appendDigit(2); });\r\n    btn3.setOnClickListener(view -&gt; { appendDigit(3); });\r\n    btn4.setOnClickListener(view -&gt; { appendDigit(4); });\r\n    btn5.setOnClickListener(view -&gt; { appendDigit(5); });\r\n    btn6.setOnClickListener(view -&gt; { appendDigit(6); });\r\n    btn7.setOnClickListener(view -&gt; { appendDigit(7); });\r\n    btn8.setOnClickListener(view -&gt; { appendDigit(8); });\r\n    btn9.setOnClickListener(view -&gt; { appendDigit(9); });  \r\n```\r\n","title":"Why are two Doubles being concatenated instead of added","body":"<p>You have a bug in how you decide whether the radio buttons for add/sub/mul/div are checked or not. Because this check is placed in <code>onCreate</code>, it will only be executed once. This means that the same set of click listeners will be executed every time, resulting in the numeric value always being concatenated to the <code>num1</code> string.</p>\n<p>So when you press the button &quot;7&quot; you will have <code>num1 = &quot;07&quot;</code>, then when you press the button &quot;+&quot;, it will append &quot; + &quot; to your <code>text</code> (<code>TextView</code>) and then when you press the button &quot;7&quot; again, you will have <code>num1 = &quot;077&quot;</code>. Converting a <code>String</code> with value <code>&quot;077&quot;</code> to a <code>double</code>/<code>Double</code> will result in the value <code>77.0</code>.</p>\n<p>My suggestion would be to keep just one set of click listeners and do the radio button check inside them. If you do that you can even move all the logic to a separate function (method in your class).</p>\n<p>Create a method before or after your <code>onCreate</code> method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// I specifically opted for int instead of String as the input parameter,\n// use types that best restrict valid input values to reduce the chance for bugs (here an enum for 0-9 would be even safer)\nprivate void appendDigit(int digit) {\n    String digitText = digit.toString();\n    text.append(digitText);\n    if (rbAdd.isChecked() || rbSub.isChecked() || rbDiv.isChecked() || rbMult.isChecked()) {\n        num2 += digitText;\n    } else {\n        num1 += digitText;\n    }\n}\n</code></pre>\n<p>Then in your <code>onCreate</code> method replace the whole <code>if/else if</code> part with just a single set of click handlers and call this new method in each one of them.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    btn0.setOnClickListener(view -&gt; { appendDigit(0); });\n    btn1.setOnClickListener(view -&gt; { appendDigit(1); });\n    btn2.setOnClickListener(view -&gt; { appendDigit(2); });\n    btn3.setOnClickListener(view -&gt; { appendDigit(3); });\n    btn4.setOnClickListener(view -&gt; { appendDigit(4); });\n    btn5.setOnClickListener(view -&gt; { appendDigit(5); });\n    btn6.setOnClickListener(view -&gt; { appendDigit(6); });\n    btn7.setOnClickListener(view -&gt; { appendDigit(7); });\n    btn8.setOnClickListener(view -&gt; { appendDigit(8); });\n    btn9.setOnClickListener(view -&gt; { appendDigit(9); });  \n</code></pre>\n"},{"tags":[],"owner":{"account_id":28038486,"reputation":31,"user_id":21416424,"display_name":"shubhs_alpha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696310205,"creation_date":1696310205,"answer_id":77219819,"question_id":77219470,"body_markdown":"in your code only num1 variable is updating always and num2 is never getting updated and always been as empty string as you have set it on top. \r\nI have updated your activity file where your calculator program is working fine. You can refer the same. \r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n\r\n    //numbers\r\n    String num1 = &quot;0&quot;;\r\n    String num2 = &quot;0&quot;;\r\n    double answer;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main_java);\r\n\r\n        TextView text = findViewById(R.id.answer);\r\n\r\n        text.setText(&quot;&quot;);\r\n\r\n        //controls\r\n        RadioButton rbAdd = findViewById(R.id.radioButtonAdd);\r\n        RadioButton rbSub = findViewById(R.id.radioButtonSubtract);\r\n        RadioButton rbMult = findViewById(R.id.radioButtonMultiply);\r\n        RadioButton rbDiv = findViewById(R.id.radioButtonDivide);\r\n        Button btnCalcualate = findViewById(R.id.btnCalculate);\r\n\r\n        //number buttons\r\n        Button btn1 = findViewById(R.id.button1);\r\n        Button btn2 = findViewById(R.id.button2);\r\n        Button btn3 = findViewById(R.id.button3);\r\n        Button btn4 = findViewById(R.id.button4);\r\n        Button btn5 = findViewById(R.id.button5);\r\n        Button btn6 = findViewById(R.id.button6);\r\n        Button btn7 = findViewById(R.id.button7);\r\n        Button btn8 = findViewById(R.id.button8);\r\n        Button btn9 = findViewById(R.id.button9);\r\n        Button btn0 = findViewById(R.id.button0);\r\n\r\n\r\n        //function buttons\r\n        rbAdd.setOnClickListener(view -&gt; {\r\n            rbAdd.setChecked(true);\r\n            text.append(&quot; + &quot;);\r\n        });\r\n        rbSub.setOnClickListener(view -&gt; {\r\n            rbSub.setChecked(true);\r\n            text.append(&quot; - &quot;);\r\n        });\r\n        rbMult.setOnClickListener(view -&gt; {\r\n            rbMult.setChecked(true);\r\n            text.append(&quot; x &quot;);\r\n        });\r\n        rbDiv.setOnClickListener(view -&gt; {\r\n            rbDiv.setChecked(true);\r\n            text.append(&quot; / &quot;);\r\n        });\r\n\r\n\r\n        //number buttons\r\n        btn0.setOnClickListener(view -&gt; {\r\n            text.append(&quot;0&quot;);\r\n            if (text.getText().toString().contains(&quot;+&quot;) || text.getText().toString().contains(&quot;-&quot;) || text.getText().toString().contains(&quot;x&quot;) || text.getText().toString().contains(&quot;/&quot;))\r\n                num2 += &quot;0&quot;;\r\n            else\r\n                num1 += &quot;0&quot;;\r\n        });\r\n        btn1.setOnClickListener(view -&gt; {\r\n            text.append(&quot;1&quot;);\r\n            if (text.getText().toString().contains(&quot;+&quot;) || text.getText().toString().contains(&quot;-&quot;) || text.getText().toString().contains(&quot;x&quot;) || text.getText().toString().contains(&quot;/&quot;))\r\n                num2 += &quot;1&quot;;\r\n            else\r\n                num1 += &quot;1&quot;;\r\n        });\r\n        btn2.setOnClickListener(view -&gt; {\r\n            text.append(&quot;2&quot;);\r\n            if (text.getText().toString().contains(&quot;+&quot;) || text.getText().toString().contains(&quot;-&quot;) || text.getText().toString().contains(&quot;x&quot;) || text.getText().toString().contains(&quot;/&quot;))\r\n                num2 += &quot;2&quot;;\r\n            else\r\n                num1 += &quot;2&quot;;\r\n        });\r\n        btn3.setOnClickListener(view -&gt; {\r\n            text.append(&quot;3&quot;);\r\n            if (text.getText().toString().contains(&quot;+&quot;) || text.getText().toString().contains(&quot;-&quot;) || text.getText().toString().contains(&quot;x&quot;) || text.getText().toString().contains(&quot;/&quot;))\r\n                num2 += &quot;3&quot;;\r\n            else\r\n                num1 += &quot;3&quot;;\r\n        });\r\n        btn4.setOnClickListener(view -&gt; {\r\n            text.append(&quot;4&quot;);\r\n            if (text.getText().toString().contains(&quot;+&quot;) || text.getText().toString().contains(&quot;-&quot;) || text.getText().toString().contains(&quot;x&quot;) || text.getText().toString().contains(&quot;/&quot;))\r\n                num2 += &quot;4&quot;;\r\n            else\r\n                num1 += &quot;4&quot;;\r\n        });\r\n        btn5.setOnClickListener(view -&gt; {\r\n            text.append(&quot;5&quot;);\r\n            if (text.getText().toString().contains(&quot;+&quot;) || text.getText().toString().contains(&quot;-&quot;) || text.getText().toString().contains(&quot;x&quot;) || text.getText().toString().contains(&quot;/&quot;))\r\n                num2 += &quot;5&quot;;\r\n            else\r\n                num1 += &quot;5&quot;;\r\n        });\r\n        btn6.setOnClickListener(view -&gt; {\r\n            text.append(&quot;6&quot;);\r\n            if (text.getText().toString().contains(&quot;+&quot;) || text.getText().toString().contains(&quot;-&quot;) || text.getText().toString().contains(&quot;x&quot;) || text.getText().toString().contains(&quot;/&quot;))\r\n                num2 += &quot;6&quot;;\r\n            else\r\n                num1 += &quot;6&quot;;\r\n        });\r\n        btn7.setOnClickListener(view -&gt; {\r\n            text.append(&quot;7&quot;);\r\n            if (text.getText().toString().contains(&quot;+&quot;) || text.getText().toString().contains(&quot;-&quot;) || text.getText().toString().contains(&quot;x&quot;) || text.getText().toString().contains(&quot;/&quot;))\r\n                num2 += &quot;7&quot;;\r\n            else\r\n                num1 += &quot;7&quot;;\r\n        });\r\n        btn8.setOnClickListener(view -&gt; {\r\n            text.append(&quot;8&quot;);\r\n            if (text.getText().toString().contains(&quot;+&quot;) || text.getText().toString().contains(&quot;-&quot;) || text.getText().toString().contains(&quot;x&quot;) || text.getText().toString().contains(&quot;/&quot;))\r\n                num2 += &quot;8&quot;;\r\n            else\r\n                num1 += &quot;8&quot;;\r\n        });\r\n        btn9.setOnClickListener(view -&gt; {\r\n            text.append(&quot;9&quot;);\r\n            if (text.getText().toString().contains(&quot;+&quot;) || text.getText().toString().contains(&quot;-&quot;) || text.getText().toString().contains(&quot;x&quot;) || text.getText().toString().contains(&quot;/&quot;))\r\n                num2 += &quot;9&quot;;\r\n            else\r\n                num1 += &quot;9&quot;;\r\n        });\r\n\r\n        btnCalcualate.setOnClickListener(v -&gt; {\r\n\r\n            // which button is checked?\r\n            if (rbAdd.isChecked()) {\r\n                doAdd();\r\n            } else if (rbSub.isChecked()) {\r\n                doSubtract();\r\n            } else if (rbMult.isChecked()) {\r\n                doMultiply();\r\n            } else if (rbDiv.isChecked()) {\r\n                doDivide();\r\n            } else {\r\n                Toast.makeText(MainActivityJava.this, &quot;Please check one option.&quot;, Toast.LENGTH_LONG).show();\r\n            }\r\n\r\n            num2 = &quot;&quot;;\r\n            num1 = answer + &quot;&quot;;\r\n            text.setText(Double.toString(answer));\r\n        });\r\n    }\r\n\r\n    public void doAdd() {\r\n        try {\r\n            double n1 = Double.parseDouble(num1);\r\n            double n2 = Double.parseDouble(num2);\r\n            answer = (n1 + n2);\r\n        } catch (NumberFormatException e) {\r\n            System.out.println(e.getMessage());\r\n        }\r\n    }\r\n\r\n    public void doSubtract() {\r\n        try {\r\n            answer = Double.parseDouble(num1) - Double.parseDouble(num2);\r\n        } catch (NumberFormatException e) {\r\n            System.out.println(e.getMessage());\r\n        }\r\n    }\r\n\r\n    public void doMultiply() {\r\n        try {\r\n            answer = Double.parseDouble(num1) * Double.parseDouble(num2);\r\n        } catch (NumberFormatException e) {\r\n            System.out.println(e.getMessage());\r\n        }\r\n    }\r\n\r\n    public void doDivide() {\r\n        try {\r\n            answer = Double.parseDouble(num1) / Double.parseDouble(num2);\r\n        } catch (NumberFormatException e) {\r\n            System.out.println(e.getMessage());\r\n\r\n        }\r\n    }}\r\n\r\n  \r\n\r\n\r\nThis works for me, let me know if this works for you or not. \r\n","title":"Why are two Doubles being concatenated instead of added","body":"<p>in your code only num1 variable is updating always and num2 is never getting updated and always been as empty string as you have set it on top.\nI have updated your activity file where your calculator program is working fine. You can refer the same.</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n//numbers\nString num1 = &quot;0&quot;;\nString num2 = &quot;0&quot;;\ndouble answer;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main_java);\n\n    TextView text = findViewById(R.id.answer);\n\n    text.setText(&quot;&quot;);\n\n    //controls\n    RadioButton rbAdd = findViewById(R.id.radioButtonAdd);\n    RadioButton rbSub = findViewById(R.id.radioButtonSubtract);\n    RadioButton rbMult = findViewById(R.id.radioButtonMultiply);\n    RadioButton rbDiv = findViewById(R.id.radioButtonDivide);\n    Button btnCalcualate = findViewById(R.id.btnCalculate);\n\n    //number buttons\n    Button btn1 = findViewById(R.id.button1);\n    Button btn2 = findViewById(R.id.button2);\n    Button btn3 = findViewById(R.id.button3);\n    Button btn4 = findViewById(R.id.button4);\n    Button btn5 = findViewById(R.id.button5);\n    Button btn6 = findViewById(R.id.button6);\n    Button btn7 = findViewById(R.id.button7);\n    Button btn8 = findViewById(R.id.button8);\n    Button btn9 = findViewById(R.id.button9);\n    Button btn0 = findViewById(R.id.button0);\n\n\n    //function buttons\n    rbAdd.setOnClickListener(view -&gt; {\n        rbAdd.setChecked(true);\n        text.append(&quot; + &quot;);\n    });\n    rbSub.setOnClickListener(view -&gt; {\n        rbSub.setChecked(true);\n        text.append(&quot; - &quot;);\n    });\n    rbMult.setOnClickListener(view -&gt; {\n        rbMult.setChecked(true);\n        text.append(&quot; x &quot;);\n    });\n    rbDiv.setOnClickListener(view -&gt; {\n        rbDiv.setChecked(true);\n        text.append(&quot; / &quot;);\n    });\n\n\n    //number buttons\n    btn0.setOnClickListener(view -&gt; {\n        text.append(&quot;0&quot;);\n        if (text.getText().toString().contains(&quot;+&quot;) || text.getText().toString().contains(&quot;-&quot;) || text.getText().toString().contains(&quot;x&quot;) || text.getText().toString().contains(&quot;/&quot;))\n            num2 += &quot;0&quot;;\n        else\n            num1 += &quot;0&quot;;\n    });\n    btn1.setOnClickListener(view -&gt; {\n        text.append(&quot;1&quot;);\n        if (text.getText().toString().contains(&quot;+&quot;) || text.getText().toString().contains(&quot;-&quot;) || text.getText().toString().contains(&quot;x&quot;) || text.getText().toString().contains(&quot;/&quot;))\n            num2 += &quot;1&quot;;\n        else\n            num1 += &quot;1&quot;;\n    });\n    btn2.setOnClickListener(view -&gt; {\n        text.append(&quot;2&quot;);\n        if (text.getText().toString().contains(&quot;+&quot;) || text.getText().toString().contains(&quot;-&quot;) || text.getText().toString().contains(&quot;x&quot;) || text.getText().toString().contains(&quot;/&quot;))\n            num2 += &quot;2&quot;;\n        else\n            num1 += &quot;2&quot;;\n    });\n    btn3.setOnClickListener(view -&gt; {\n        text.append(&quot;3&quot;);\n        if (text.getText().toString().contains(&quot;+&quot;) || text.getText().toString().contains(&quot;-&quot;) || text.getText().toString().contains(&quot;x&quot;) || text.getText().toString().contains(&quot;/&quot;))\n            num2 += &quot;3&quot;;\n        else\n            num1 += &quot;3&quot;;\n    });\n    btn4.setOnClickListener(view -&gt; {\n        text.append(&quot;4&quot;);\n        if (text.getText().toString().contains(&quot;+&quot;) || text.getText().toString().contains(&quot;-&quot;) || text.getText().toString().contains(&quot;x&quot;) || text.getText().toString().contains(&quot;/&quot;))\n            num2 += &quot;4&quot;;\n        else\n            num1 += &quot;4&quot;;\n    });\n    btn5.setOnClickListener(view -&gt; {\n        text.append(&quot;5&quot;);\n        if (text.getText().toString().contains(&quot;+&quot;) || text.getText().toString().contains(&quot;-&quot;) || text.getText().toString().contains(&quot;x&quot;) || text.getText().toString().contains(&quot;/&quot;))\n            num2 += &quot;5&quot;;\n        else\n            num1 += &quot;5&quot;;\n    });\n    btn6.setOnClickListener(view -&gt; {\n        text.append(&quot;6&quot;);\n        if (text.getText().toString().contains(&quot;+&quot;) || text.getText().toString().contains(&quot;-&quot;) || text.getText().toString().contains(&quot;x&quot;) || text.getText().toString().contains(&quot;/&quot;))\n            num2 += &quot;6&quot;;\n        else\n            num1 += &quot;6&quot;;\n    });\n    btn7.setOnClickListener(view -&gt; {\n        text.append(&quot;7&quot;);\n        if (text.getText().toString().contains(&quot;+&quot;) || text.getText().toString().contains(&quot;-&quot;) || text.getText().toString().contains(&quot;x&quot;) || text.getText().toString().contains(&quot;/&quot;))\n            num2 += &quot;7&quot;;\n        else\n            num1 += &quot;7&quot;;\n    });\n    btn8.setOnClickListener(view -&gt; {\n        text.append(&quot;8&quot;);\n        if (text.getText().toString().contains(&quot;+&quot;) || text.getText().toString().contains(&quot;-&quot;) || text.getText().toString().contains(&quot;x&quot;) || text.getText().toString().contains(&quot;/&quot;))\n            num2 += &quot;8&quot;;\n        else\n            num1 += &quot;8&quot;;\n    });\n    btn9.setOnClickListener(view -&gt; {\n        text.append(&quot;9&quot;);\n        if (text.getText().toString().contains(&quot;+&quot;) || text.getText().toString().contains(&quot;-&quot;) || text.getText().toString().contains(&quot;x&quot;) || text.getText().toString().contains(&quot;/&quot;))\n            num2 += &quot;9&quot;;\n        else\n            num1 += &quot;9&quot;;\n    });\n\n    btnCalcualate.setOnClickListener(v -&gt; {\n\n        // which button is checked?\n        if (rbAdd.isChecked()) {\n            doAdd();\n        } else if (rbSub.isChecked()) {\n            doSubtract();\n        } else if (rbMult.isChecked()) {\n            doMultiply();\n        } else if (rbDiv.isChecked()) {\n            doDivide();\n        } else {\n            Toast.makeText(MainActivityJava.this, &quot;Please check one option.&quot;, Toast.LENGTH_LONG).show();\n        }\n\n        num2 = &quot;&quot;;\n        num1 = answer + &quot;&quot;;\n        text.setText(Double.toString(answer));\n    });\n}\n\npublic void doAdd() {\n    try {\n        double n1 = Double.parseDouble(num1);\n        double n2 = Double.parseDouble(num2);\n        answer = (n1 + n2);\n    } catch (NumberFormatException e) {\n        System.out.println(e.getMessage());\n    }\n}\n\npublic void doSubtract() {\n    try {\n        answer = Double.parseDouble(num1) - Double.parseDouble(num2);\n    } catch (NumberFormatException e) {\n        System.out.println(e.getMessage());\n    }\n}\n\npublic void doMultiply() {\n    try {\n        answer = Double.parseDouble(num1) * Double.parseDouble(num2);\n    } catch (NumberFormatException e) {\n        System.out.println(e.getMessage());\n    }\n}\n\npublic void doDivide() {\n    try {\n        answer = Double.parseDouble(num1) / Double.parseDouble(num2);\n    } catch (NumberFormatException e) {\n        System.out.println(e.getMessage());\n\n    }\n}}\n</code></pre>\n<p>This works for me, let me know if this works for you or not.</p>\n"}],"owner":{"account_id":29585165,"reputation":11,"user_id":22673982,"display_name":"Victor"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1696358911,"creation_date":1696302905,"question_id":77219470,"body_markdown":"when I try to add two variables of double type, they are concatenated instead of being added together. what could I be missing here, both the Strings and the answer variables are class level variables so that they can be changed by the on create method and various mathmatical operation methods. should I move somethings out of the onCreate method?\r\n\r\nMainActivity.java\r\n```\r\npackage com.hernandez.simplecalculator;\r\n\r\nimport android.os.Bundle;\r\nimport android.widget.Button;\r\nimport android.widget.RadioButton;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    //numbers\r\n     String num1 = &quot;0&quot;;\r\n     String num2 = &quot;0&quot;;\r\n\r\n\r\n    double answer;\r\n\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        TextView text = findViewById(R.id.answer);\r\n\r\n        text.setText(&quot;&quot;);\r\n\r\n        //controls\r\n        RadioButton rbAdd = findViewById(R.id.radioButtonAdd);\r\n        RadioButton rbSub = findViewById(R.id.radioButtonSubtract);\r\n        RadioButton rbMult = findViewById(R.id.radioButtonMultiply);\r\n        RadioButton rbDiv= findViewById(R.id.radioButtonDivide);\r\n        Button btnCalcualate = findViewById(R.id.btnCalculate);\r\n\r\n        //number buttons\r\n        Button btn1 = findViewById(R.id.button1);\r\n        Button btn2 = findViewById(R.id.button2);\r\n        Button btn3 = findViewById(R.id.button3);\r\n        Button btn4 = findViewById(R.id.button4);\r\n        Button btn5 = findViewById(R.id.button5);\r\n        Button btn6 = findViewById(R.id.button6);\r\n        Button btn7 = findViewById(R.id.button7);\r\n        Button btn8 = findViewById(R.id.button8);\r\n        Button btn9 = findViewById(R.id.button9);\r\n        Button btn0 = findViewById(R.id.button0);\r\n\r\n\r\n\r\n            //function buttons\r\n            rbAdd.setOnClickListener(view -&gt; text.append(&quot; + &quot;));\r\n            rbSub.setOnClickListener(view -&gt; text.append(&quot; - &quot;));\r\n            rbMult.setOnClickListener(view -&gt; text.append(&quot; x &quot;));\r\n            rbDiv.setOnClickListener(view -&gt; text.append(&quot; / &quot;));\r\n\r\n        if(!rbAdd.isChecked() || !rbSub.isChecked() || !rbDiv.isChecked() || !rbMult.isChecked()) {\r\n            //number buttons\r\n            btn0.setOnClickListener(view -&gt; {\r\n                text.append(&quot;0&quot;);\r\n                num1 += &quot;0&quot;;\r\n            });\r\n            btn1.setOnClickListener(view -&gt; {\r\n                text.append(&quot;1&quot;);\r\n                num1 += &quot;1&quot;;\r\n            });\r\n            btn2.setOnClickListener(view -&gt; {\r\n                text.append(&quot;2&quot;);\r\n                num1 += &quot;2&quot;;\r\n            });\r\n            btn3.setOnClickListener(view -&gt; {\r\n                text.append(&quot;3&quot;);\r\n                num1 += &quot;3&quot;;\r\n            });\r\n            btn4.setOnClickListener(view -&gt; {\r\n                text.append(&quot;4&quot;);\r\n                num1 += &quot;4&quot;;\r\n            });\r\n            btn5.setOnClickListener(view -&gt; {\r\n                text.append(&quot;5&quot;);\r\n                num1 += &quot;5&quot;;\r\n            });\r\n            btn6.setOnClickListener(view -&gt; {\r\n                text.append(&quot;6&quot;);\r\n                num1 += &quot;6&quot;;\r\n            });\r\n            btn7.setOnClickListener(view -&gt; {\r\n                text.append(&quot;7&quot;);\r\n                num1 += &quot;7&quot;;\r\n            });\r\n            btn8.setOnClickListener(view -&gt; {\r\n                text.append(&quot;8&quot;);\r\n                num1 += &quot;8&quot;;\r\n            });\r\n            btn9.setOnClickListener(view -&gt; {\r\n                text.append(&quot;9&quot;);\r\n                num1 += &quot;9&quot;;\r\n            });\r\n        }\r\n        else if (rbAdd.isChecked() || rbSub.isChecked() || rbDiv.isChecked() || rbMult.isChecked()){\r\n            btn0.setOnClickListener(view -&gt; {\r\n                text.append(&quot;0&quot;);\r\n                num2 += &quot;0&quot;;\r\n            });\r\n            btn1.setOnClickListener(view -&gt; {\r\n                text.append(&quot;1&quot;);\r\n                num2 += &quot;1&quot;;\r\n            });\r\n            btn2.setOnClickListener(view -&gt; {\r\n                text.append(&quot;2&quot;);\r\n                num2 += &quot;2&quot;;\r\n            });\r\n            btn3.setOnClickListener(view -&gt; {\r\n                text.append(&quot;3&quot;);\r\n                num2 += &quot;3&quot;;\r\n            });\r\n            btn4.setOnClickListener(view -&gt; {\r\n                text.append(&quot;4&quot;);\r\n                num2 += &quot;4&quot;;\r\n            });\r\n            btn5.setOnClickListener(view -&gt; {\r\n                text.append(&quot;5&quot;);\r\n                num2 += &quot;5&quot;;\r\n            });\r\n            btn6.setOnClickListener(view -&gt; {\r\n                text.append(&quot;6&quot;);\r\n                num2 += &quot;6&quot;;\r\n            });\r\n            btn7.setOnClickListener(view -&gt; {\r\n                text.append(&quot;7&quot;);\r\n                num2 += &quot;7&quot;;\r\n            });\r\n            btn8.setOnClickListener(view -&gt; {\r\n                text.append(&quot;8&quot;);\r\n                num2 += &quot;8&quot;;\r\n            });\r\n            btn9.setOnClickListener(view -&gt; {\r\n                text.append(&quot;9&quot;);\r\n                num2 += &quot;9&quot;;\r\n            });\r\n        }\r\n\r\n        btnCalcualate.setOnClickListener(v -&gt; {\r\n\r\n            // which button is checked?\r\n            if (rbAdd.isChecked()) {\r\n                doAdd();\r\n            } else if (rbSub.isChecked()) {\r\n                doSubtract();\r\n            } else if (rbMult.isChecked()){\r\n                doMultiply();\r\n            }else if(rbDiv.isChecked()){\r\n                doDivide();\r\n            }\r\n            else {\r\n                Toast.makeText(MainActivity.this, &quot;Please check one option.&quot;, Toast.LENGTH_LONG).show();\r\n            }\r\n            text.setText(Double.toString(answer));\r\n        });\r\n\r\n    }\r\n\r\n    public void doAdd(){\r\n        try{\r\n            double n1 = new Double(num1).doubleValue();\r\n            double n2 = new Double(num2).doubleValue();\r\n            answer = (n1 + n2);\r\n        }\r\n        catch (NumberFormatException e){\r\n            System.out.println(e.getMessage());\r\n        }\r\n\r\n\r\n    }\r\n    public void doSubtract(){\r\n        try{\r\n            answer = Double.parseDouble(num1) - Double.parseDouble(num2);\r\n        }\r\n        catch (NumberFormatException e){\r\n            System.out.println(e.getMessage());\r\n        }\r\n\r\n    }\r\n    public void doMultiply(){\r\n        try{\r\n            answer = Double.parseDouble(num1) * Double.parseDouble(num2);\r\n        }\r\n        catch (NumberFormatException e){\r\n            System.out.println(e.getMessage());\r\n        }\r\n\r\n    }\r\n    public void doDivide() {\r\n        try {\r\n            answer = Double.parseDouble(num1) / Double.parseDouble(num2);\r\n        } catch (NumberFormatException e) {\r\n            System.out.println(e.getMessage());\r\n\r\n        }\r\n\r\n    }\r\n}\r\n```\r\n\r\nactivity_main\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:background=&quot;@color/darkgrey&quot;\r\n    tools:context=&quot;.MainActivity&quot;&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/button5&quot;\r\n        android:layout_width=&quot;127dp&quot;\r\n        android:layout_height=&quot;64dp&quot;\r\n        android:text=&quot;5&quot;\r\n        android:textSize=&quot;40sp&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        app:layout_constraintVertical_bias=&quot;0.286&quot; /&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/button0&quot;\r\n        android:layout_width=&quot;127dp&quot;\r\n        android:layout_height=&quot;64dp&quot;\r\n        android:text=&quot;0&quot;\r\n        android:textSize=&quot;40sp&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        app:layout_constraintVertical_bias=&quot;0.478&quot; /&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/button3&quot;\r\n        android:layout_width=&quot;127dp&quot;\r\n        android:layout_height=&quot;64dp&quot;\r\n        android:text=&quot;3&quot;\r\n        android:textSize=&quot;40sp&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.947&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        app:layout_constraintVertical_bias=&quot;0.382&quot; /&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/button2&quot;\r\n        android:layout_width=&quot;127dp&quot;\r\n        android:layout_height=&quot;64dp&quot;\r\n        android:text=&quot;2&quot;\r\n        android:textSize=&quot;40sp&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        app:layout_constraintVertical_bias=&quot;0.382&quot; /&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/button7&quot;\r\n        android:layout_width=&quot;127dp&quot;\r\n        android:layout_height=&quot;64dp&quot;\r\n        android:text=&quot;7&quot;\r\n        android:textSize=&quot;40sp&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.052&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        app:layout_constraintVertical_bias=&quot;0.19&quot; /&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/button1&quot;\r\n        android:layout_width=&quot;127dp&quot;\r\n        android:layout_height=&quot;64dp&quot;\r\n        android:text=&quot;1&quot;\r\n        android:textSize=&quot;40sp&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.052&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        app:layout_constraintVertical_bias=&quot;0.382&quot; /&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/button9&quot;\r\n        android:layout_width=&quot;127dp&quot;\r\n        android:layout_height=&quot;64dp&quot;\r\n        android:text=&quot;9&quot;\r\n        android:textSize=&quot;40sp&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.94&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        app:layout_constraintVertical_bias=&quot;0.19&quot; /&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/button6&quot;\r\n        android:layout_width=&quot;127dp&quot;\r\n        android:layout_height=&quot;64dp&quot;\r\n        android:text=&quot;6&quot;\r\n        android:textSize=&quot;40sp&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.94&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        app:layout_constraintVertical_bias=&quot;0.286&quot; /&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/button8&quot;\r\n        android:layout_width=&quot;127dp&quot;\r\n        android:layout_height=&quot;64dp&quot;\r\n        android:text=&quot;8&quot;\r\n        android:textSize=&quot;40sp&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        app:layout_constraintVertical_bias=&quot;0.19&quot; /&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/button4&quot;\r\n        android:layout_width=&quot;127dp&quot;\r\n        android:layout_height=&quot;64dp&quot;\r\n        android:text=&quot;4&quot;\r\n        android:textSize=&quot;40sp&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.052&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        app:layout_constraintVertical_bias=&quot;0.286&quot; /&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/answer&quot;\r\n        android:layout_width=&quot;413dp&quot;\r\n        android:layout_height=&quot;116dp&quot;\r\n        android:background=&quot;@color/white&quot;\r\n        android:backgroundTint=&quot;@color/white&quot;\r\n        android:text=&quot;&quot;\r\n        android:textSize=&quot;56sp&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.0&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        app:layout_constraintVertical_bias=&quot;0.0&quot; /&gt;\r\n\r\n    &lt;RadioGroup\r\n        android:layout_width=&quot;359dp&quot;\r\n        android:layout_height=&quot;156dp&quot;\r\n        android:orientation=&quot;horizontal&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        app:layout_constraintVertical_bias=&quot;0.728&quot;&gt;\r\n\r\n\r\n        &lt;RadioButton\r\n            android:id=&quot;@+id/radioButtonAdd&quot;\r\n            android:layout_width=&quot;98dp&quot;\r\n            android:layout_height=&quot;129dp&quot;\r\n            android:text=&quot;+&quot;\r\n            android:textColor=&quot;@color/white&quot;\r\n            android:textSize=&quot;100dp&quot; /&gt;\r\n\r\n        &lt;RadioButton\r\n            android:id=&quot;@+id/radioButtonDivide&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;/&quot;\r\n            android:textColor=&quot;@color/white&quot;\r\n            android:textSize=&quot;100dp&quot; /&gt;\r\n\r\n        &lt;RadioButton\r\n            android:id=&quot;@+id/radioButtonSubtract&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;-&quot;\r\n            android:textColor=&quot;@color/white&quot;\r\n            android:textSize=&quot;100dp&quot; /&gt;\r\n\r\n        &lt;RadioButton\r\n            android:id=&quot;@+id/radioButtonMultiply&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;X&quot;\r\n            android:textColor=&quot;@color/white&quot;\r\n            android:textSize=&quot;100dp&quot; /&gt;\r\n    &lt;/RadioGroup&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/btnCalculate&quot;\r\n        android:layout_width=&quot;352dp&quot;\r\n        android:layout_height=&quot;112dp&quot;\r\n        android:backgroundTint=&quot;@color/blue&quot;\r\n        android:text=&quot;Calculate&quot;\r\n        android:textSize=&quot;28dp&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.559&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        app:layout_constraintVertical_bias=&quot;0.974&quot; /&gt;\r\n\r\n\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```\r\n\r\n\r\n\r\nI tried to convert from String to double in different ways but it still concatenated the values instead of adding them.\r\n\r\nhere is the output\r\n[equation][1]\r\n[sum][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/3g5t1.jpg\r\n  [2]: https://i.stack.imgur.com/SHaM5.jpg","title":"Why are two Doubles being concatenated instead of added","body":"<p>when I try to add two variables of double type, they are concatenated instead of being added together. what could I be missing here, both the Strings and the answer variables are class level variables so that they can be changed by the on create method and various mathmatical operation methods. should I move somethings out of the onCreate method?</p>\n<p>MainActivity.java</p>\n<pre><code>package com.hernandez.simplecalculator;\n\nimport android.os.Bundle;\nimport android.widget.Button;\nimport android.widget.RadioButton;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\npublic class MainActivity extends AppCompatActivity {\n\n    //numbers\n     String num1 = &quot;0&quot;;\n     String num2 = &quot;0&quot;;\n\n\n    double answer;\n\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        TextView text = findViewById(R.id.answer);\n\n        text.setText(&quot;&quot;);\n\n        //controls\n        RadioButton rbAdd = findViewById(R.id.radioButtonAdd);\n        RadioButton rbSub = findViewById(R.id.radioButtonSubtract);\n        RadioButton rbMult = findViewById(R.id.radioButtonMultiply);\n        RadioButton rbDiv= findViewById(R.id.radioButtonDivide);\n        Button btnCalcualate = findViewById(R.id.btnCalculate);\n\n        //number buttons\n        Button btn1 = findViewById(R.id.button1);\n        Button btn2 = findViewById(R.id.button2);\n        Button btn3 = findViewById(R.id.button3);\n        Button btn4 = findViewById(R.id.button4);\n        Button btn5 = findViewById(R.id.button5);\n        Button btn6 = findViewById(R.id.button6);\n        Button btn7 = findViewById(R.id.button7);\n        Button btn8 = findViewById(R.id.button8);\n        Button btn9 = findViewById(R.id.button9);\n        Button btn0 = findViewById(R.id.button0);\n\n\n\n            //function buttons\n            rbAdd.setOnClickListener(view -&gt; text.append(&quot; + &quot;));\n            rbSub.setOnClickListener(view -&gt; text.append(&quot; - &quot;));\n            rbMult.setOnClickListener(view -&gt; text.append(&quot; x &quot;));\n            rbDiv.setOnClickListener(view -&gt; text.append(&quot; / &quot;));\n\n        if(!rbAdd.isChecked() || !rbSub.isChecked() || !rbDiv.isChecked() || !rbMult.isChecked()) {\n            //number buttons\n            btn0.setOnClickListener(view -&gt; {\n                text.append(&quot;0&quot;);\n                num1 += &quot;0&quot;;\n            });\n            btn1.setOnClickListener(view -&gt; {\n                text.append(&quot;1&quot;);\n                num1 += &quot;1&quot;;\n            });\n            btn2.setOnClickListener(view -&gt; {\n                text.append(&quot;2&quot;);\n                num1 += &quot;2&quot;;\n            });\n            btn3.setOnClickListener(view -&gt; {\n                text.append(&quot;3&quot;);\n                num1 += &quot;3&quot;;\n            });\n            btn4.setOnClickListener(view -&gt; {\n                text.append(&quot;4&quot;);\n                num1 += &quot;4&quot;;\n            });\n            btn5.setOnClickListener(view -&gt; {\n                text.append(&quot;5&quot;);\n                num1 += &quot;5&quot;;\n            });\n            btn6.setOnClickListener(view -&gt; {\n                text.append(&quot;6&quot;);\n                num1 += &quot;6&quot;;\n            });\n            btn7.setOnClickListener(view -&gt; {\n                text.append(&quot;7&quot;);\n                num1 += &quot;7&quot;;\n            });\n            btn8.setOnClickListener(view -&gt; {\n                text.append(&quot;8&quot;);\n                num1 += &quot;8&quot;;\n            });\n            btn9.setOnClickListener(view -&gt; {\n                text.append(&quot;9&quot;);\n                num1 += &quot;9&quot;;\n            });\n        }\n        else if (rbAdd.isChecked() || rbSub.isChecked() || rbDiv.isChecked() || rbMult.isChecked()){\n            btn0.setOnClickListener(view -&gt; {\n                text.append(&quot;0&quot;);\n                num2 += &quot;0&quot;;\n            });\n            btn1.setOnClickListener(view -&gt; {\n                text.append(&quot;1&quot;);\n                num2 += &quot;1&quot;;\n            });\n            btn2.setOnClickListener(view -&gt; {\n                text.append(&quot;2&quot;);\n                num2 += &quot;2&quot;;\n            });\n            btn3.setOnClickListener(view -&gt; {\n                text.append(&quot;3&quot;);\n                num2 += &quot;3&quot;;\n            });\n            btn4.setOnClickListener(view -&gt; {\n                text.append(&quot;4&quot;);\n                num2 += &quot;4&quot;;\n            });\n            btn5.setOnClickListener(view -&gt; {\n                text.append(&quot;5&quot;);\n                num2 += &quot;5&quot;;\n            });\n            btn6.setOnClickListener(view -&gt; {\n                text.append(&quot;6&quot;);\n                num2 += &quot;6&quot;;\n            });\n            btn7.setOnClickListener(view -&gt; {\n                text.append(&quot;7&quot;);\n                num2 += &quot;7&quot;;\n            });\n            btn8.setOnClickListener(view -&gt; {\n                text.append(&quot;8&quot;);\n                num2 += &quot;8&quot;;\n            });\n            btn9.setOnClickListener(view -&gt; {\n                text.append(&quot;9&quot;);\n                num2 += &quot;9&quot;;\n            });\n        }\n\n        btnCalcualate.setOnClickListener(v -&gt; {\n\n            // which button is checked?\n            if (rbAdd.isChecked()) {\n                doAdd();\n            } else if (rbSub.isChecked()) {\n                doSubtract();\n            } else if (rbMult.isChecked()){\n                doMultiply();\n            }else if(rbDiv.isChecked()){\n                doDivide();\n            }\n            else {\n                Toast.makeText(MainActivity.this, &quot;Please check one option.&quot;, Toast.LENGTH_LONG).show();\n            }\n            text.setText(Double.toString(answer));\n        });\n\n    }\n\n    public void doAdd(){\n        try{\n            double n1 = new Double(num1).doubleValue();\n            double n2 = new Double(num2).doubleValue();\n            answer = (n1 + n2);\n        }\n        catch (NumberFormatException e){\n            System.out.println(e.getMessage());\n        }\n\n\n    }\n    public void doSubtract(){\n        try{\n            answer = Double.parseDouble(num1) - Double.parseDouble(num2);\n        }\n        catch (NumberFormatException e){\n            System.out.println(e.getMessage());\n        }\n\n    }\n    public void doMultiply(){\n        try{\n            answer = Double.parseDouble(num1) * Double.parseDouble(num2);\n        }\n        catch (NumberFormatException e){\n            System.out.println(e.getMessage());\n        }\n\n    }\n    public void doDivide() {\n        try {\n            answer = Double.parseDouble(num1) / Double.parseDouble(num2);\n        } catch (NumberFormatException e) {\n            System.out.println(e.getMessage());\n\n        }\n\n    }\n}\n</code></pre>\n<p>activity_main</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:background=&quot;@color/darkgrey&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/button5&quot;\n        android:layout_width=&quot;127dp&quot;\n        android:layout_height=&quot;64dp&quot;\n        android:text=&quot;5&quot;\n        android:textSize=&quot;40sp&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:layout_constraintVertical_bias=&quot;0.286&quot; /&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/button0&quot;\n        android:layout_width=&quot;127dp&quot;\n        android:layout_height=&quot;64dp&quot;\n        android:text=&quot;0&quot;\n        android:textSize=&quot;40sp&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:layout_constraintVertical_bias=&quot;0.478&quot; /&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/button3&quot;\n        android:layout_width=&quot;127dp&quot;\n        android:layout_height=&quot;64dp&quot;\n        android:text=&quot;3&quot;\n        android:textSize=&quot;40sp&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.947&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:layout_constraintVertical_bias=&quot;0.382&quot; /&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/button2&quot;\n        android:layout_width=&quot;127dp&quot;\n        android:layout_height=&quot;64dp&quot;\n        android:text=&quot;2&quot;\n        android:textSize=&quot;40sp&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:layout_constraintVertical_bias=&quot;0.382&quot; /&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/button7&quot;\n        android:layout_width=&quot;127dp&quot;\n        android:layout_height=&quot;64dp&quot;\n        android:text=&quot;7&quot;\n        android:textSize=&quot;40sp&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.052&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:layout_constraintVertical_bias=&quot;0.19&quot; /&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/button1&quot;\n        android:layout_width=&quot;127dp&quot;\n        android:layout_height=&quot;64dp&quot;\n        android:text=&quot;1&quot;\n        android:textSize=&quot;40sp&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.052&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:layout_constraintVertical_bias=&quot;0.382&quot; /&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/button9&quot;\n        android:layout_width=&quot;127dp&quot;\n        android:layout_height=&quot;64dp&quot;\n        android:text=&quot;9&quot;\n        android:textSize=&quot;40sp&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.94&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:layout_constraintVertical_bias=&quot;0.19&quot; /&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/button6&quot;\n        android:layout_width=&quot;127dp&quot;\n        android:layout_height=&quot;64dp&quot;\n        android:text=&quot;6&quot;\n        android:textSize=&quot;40sp&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.94&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:layout_constraintVertical_bias=&quot;0.286&quot; /&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/button8&quot;\n        android:layout_width=&quot;127dp&quot;\n        android:layout_height=&quot;64dp&quot;\n        android:text=&quot;8&quot;\n        android:textSize=&quot;40sp&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:layout_constraintVertical_bias=&quot;0.19&quot; /&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/button4&quot;\n        android:layout_width=&quot;127dp&quot;\n        android:layout_height=&quot;64dp&quot;\n        android:text=&quot;4&quot;\n        android:textSize=&quot;40sp&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.052&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:layout_constraintVertical_bias=&quot;0.286&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/answer&quot;\n        android:layout_width=&quot;413dp&quot;\n        android:layout_height=&quot;116dp&quot;\n        android:background=&quot;@color/white&quot;\n        android:backgroundTint=&quot;@color/white&quot;\n        android:text=&quot;&quot;\n        android:textSize=&quot;56sp&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.0&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:layout_constraintVertical_bias=&quot;0.0&quot; /&gt;\n\n    &lt;RadioGroup\n        android:layout_width=&quot;359dp&quot;\n        android:layout_height=&quot;156dp&quot;\n        android:orientation=&quot;horizontal&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:layout_constraintVertical_bias=&quot;0.728&quot;&gt;\n\n\n        &lt;RadioButton\n            android:id=&quot;@+id/radioButtonAdd&quot;\n            android:layout_width=&quot;98dp&quot;\n            android:layout_height=&quot;129dp&quot;\n            android:text=&quot;+&quot;\n            android:textColor=&quot;@color/white&quot;\n            android:textSize=&quot;100dp&quot; /&gt;\n\n        &lt;RadioButton\n            android:id=&quot;@+id/radioButtonDivide&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:text=&quot;/&quot;\n            android:textColor=&quot;@color/white&quot;\n            android:textSize=&quot;100dp&quot; /&gt;\n\n        &lt;RadioButton\n            android:id=&quot;@+id/radioButtonSubtract&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:text=&quot;-&quot;\n            android:textColor=&quot;@color/white&quot;\n            android:textSize=&quot;100dp&quot; /&gt;\n\n        &lt;RadioButton\n            android:id=&quot;@+id/radioButtonMultiply&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:text=&quot;X&quot;\n            android:textColor=&quot;@color/white&quot;\n            android:textSize=&quot;100dp&quot; /&gt;\n    &lt;/RadioGroup&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/btnCalculate&quot;\n        android:layout_width=&quot;352dp&quot;\n        android:layout_height=&quot;112dp&quot;\n        android:backgroundTint=&quot;@color/blue&quot;\n        android:text=&quot;Calculate&quot;\n        android:textSize=&quot;28dp&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.559&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:layout_constraintVertical_bias=&quot;0.974&quot; /&gt;\n\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>I tried to convert from String to double in different ways but it still concatenated the values instead of adding them.</p>\n<p>here is the output\n<a href=\"https://i.stack.imgur.com/3g5t1.jpg\" rel=\"nofollow noreferrer\">equation</a>\n<a href=\"https://i.stack.imgur.com/SHaM5.jpg\" rel=\"nofollow noreferrer\">sum</a></p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1695211288,"post_id":77138681,"comment_id":135993328,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":15112623,"reputation":1,"user_id":11013771,"display_name":"Franky"},"score":0,"creation_date":1695216801,"post_id":77138681,"comment_id":135994751,"body_markdown":"My apologies, I have been having browser problems, ..., here is a code snippet.  Note that I am struggling with just how to get a good context even though I know how it&#39;s defined in the class library.  Sorry I&#39;m drawing a blank on why I can&#39;t just feed a packageName into the method and get the context for that particular app.  Here&#39;s the code that prints the list to the screen already working fine.  Context testC = this\n                //Context c = getContext().createPackageContext(packageName, Context.CONTEXT_IGNORE_SECURITY)  How can I get my code in here?","body":"My apologies, I have been having browser problems, ..., here is a code snippet.  Note that I am struggling with just how to get a good context even though I know how it&#39;s defined in the class library.  Sorry I&#39;m drawing a blank on why I can&#39;t just feed a packageName into the method and get the context for that particular app.  Here&#39;s the code that prints the list to the screen already working fine.  Context testC = this                 //Context c = getContext().createPackageContext(packageName, Context.CONTEXT_IGNORE_SECURITY)  How can I get my code in here?"}],"owner":{"account_id":15112623,"reputation":1,"user_id":11013771,"display_name":"Franky"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696358718,"creation_date":1695171153,"question_id":77138681,"body_markdown":" I have a list of installed apps and I want to delete the caches of those that have checkboxes and I’ve seen code to do it but I don’t know how to get a context or to use this to call createPackageContext(packageName, etc.).  The method only compiles in a certain way but I wish I didn’t have this Catch 22.  \r\n\r\nMy code doesn’t compile now\r\n\r\nI realize I will need rooted permission as the manifest flag approach is deprecated.  So that is another problem.  Any help appreciated, maybe even reward you somehow.\r\n\r\nWhen I tried to copy my (properly formatted) code to the edit box it doesn&#39;t satisfy the requirements.  I can&#39;t put my code into my post.  Can you please just accept one line?\r\nContext c = createPackageContext(packageName, flags)\r\n\r\nThe idea is that I have a list of applications and their package names, and I want to get a Context object for each application.  The documentation for the method specifically says that you can get a Context every bit as good as if the application were running.  So I want to iterate through the contexts, and getCacheDir() for each application, understand?  Hopefully, I&#39;m making it clearer.  Please, I have an enviromental problem using StackOverflow, my code doesn&#39;t post according to the rules, I&#39;ve tried many times.\r\n\r\n    package com.example.delcacheapp\r\n\r\n    import java.io.File\r\n    import android.app.ActivityManager\r\n    import android.content.Context\r\n    import androidx.appcompat.app.AppCompatActivity\r\n    import android.os.Bundle\r\n    import android.util.Log\r\n    import android.widget.ArrayAdapter\r\n    import android.widget.ListView\r\n    import android.widget.TextView\r\n\r\n    class MainActivity : AppCompatActivity() {\r\n    lateinit var listView: ListView\r\n    lateinit var tv: TextView\r\n    var arrayAdapter: ArrayAdapter&lt;*&gt;? = null\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n        setContentView(R.layout.activity_main)\r\n        title = &quot;DelCacheApp&quot;\r\n        listView = findViewById(R.id.listView)\r\n        var numapps = installedApps()\r\n        tv = findViewById(R.id.readonlytext1)\r\n        tv.setText(Integer.toString(numapps))\r\n        }\r\n        private fun installedApps(): Int {\r\n        val list = packageManager.getInstalledPackages(0)\r\n        for (i in list.indices) {\r\n        val packageInfo = list[i]\r\n        if (packageInfo != null) {\r\n             val appName = packageInfo.applicationInfo.loadLabel(packageManager).toString()\r\n             val appDir = packageInfo.applicationInfo.dataDir.toString()\r\n             val packageName = packageInfo.packageName.toString()\r\n             val launchintent = packageManager.getLaunchIntentForPackage(packageName)\r\n             val appLabel = packageManager.getApplicationLabel(\r\n             packageManager.getApplicationInfo(packageName, 0)).toString()\r\n             Log.e(&quot;App List$i&quot;, appName)\r\n             Log.e(&quot;TAG&quot;, appDir)\r\n             Log.e(&quot;TAG&quot;, packageName)\r\n             Log.e(&quot;TAG&quot;, launchintent.toString())\r\n             Log.e(&quot;TAG&quot;, appLabel)\r\n             Context testC = this\r\n             //Context c = getContext().createPackageContext(packageName, Context.CONTEXT_IGNORE_SECURITY)\r\n        }\r\n        Log.e(&quot;TAG&quot;, &quot;Here are running apps ...&quot;)\r\n        val am = getSystemService(android.content.Context.ACTIVITY_SERVICE) as ActivityManager\r\n        val runningAppProcessInfo = am.runningAppProcesses\r\n        var highesti: Int = 0\r\n        for(i in runningAppProcessInfo.indices) {\r\n            val processName = runningAppProcessInfo[i].processName\r\n            if(!(processName == null))\r\n            {\r\n                Log.e(&quot;TAG&quot;, processName)\r\n            }\r\n            highesti++\r\n        }\r\n        Log.e(&quot;TAG&quot;, highesti.toString())\r\n\r\n        arrayAdapter = ArrayAdapter(this,\r\n            R.layout.support_simple_spinner_dropdown_item, list as List&lt;*&gt;)\r\n        listView.adapter = arrayAdapter\r\n        return list.size\r\n    }\r\n    }\r\n\r\n   The problem I&#39;m trying to solve is how to get around the error &quot;Classifier Context does not have a companion object, and thus must be initialized here&quot; at the line where I make the createPackageContext call. I&#39;ve tried substituting the this pointer, getContext(), getApplication(), but should I derive a class and put in a companion object block or something?  I just cannot get the code to compile unless I use a val or var keyword which isn&#39;t the right type.  And over the equals sign it says &quot;Expecting an element&quot;.  Somehow I have to get an instance of a class or something to be able to use the method createPackageContext since I cannot just call it statically since kotlin doesn&#39;t have static methods.  Perhaps I need to use the Activity class which I have an instance of.  I need an object somehow I guess.  I&#39;m just a little confused at how to get the code to compile - how can I initialize Context c if I don&#39;t have a companion object?\r\n\r\n   Hopefully, this helps everyone see that I&#39;m getting a list of installed apps, then I&#39;m trying to get the context for each app using the line that is commented out because it doesn&#39;t compile.  Enjoy!\r\n\r\nI believe that I just have to change Context C to val c.  Maybe I am really asking why do I have to use val rather than Context?\r\n\r\nSo the solution I am ALREADY proposing is to just use val C = createPackageContext(packageName, Context.CONTEXT_IGNORE_SECURITY).  I tried this on a Chatbot and I&#39;ve now compiled and run the code.","title":"How to get context for createPackageContext call","body":"<p>I have a list of installed apps and I want to delete the caches of those that have checkboxes and I’ve seen code to do it but I don’t know how to get a context or to use this to call createPackageContext(packageName, etc.).  The method only compiles in a certain way but I wish I didn’t have this Catch 22.</p>\n<p>My code doesn’t compile now</p>\n<p>I realize I will need rooted permission as the manifest flag approach is deprecated.  So that is another problem.  Any help appreciated, maybe even reward you somehow.</p>\n<p>When I tried to copy my (properly formatted) code to the edit box it doesn't satisfy the requirements.  I can't put my code into my post.  Can you please just accept one line?\nContext c = createPackageContext(packageName, flags)</p>\n<p>The idea is that I have a list of applications and their package names, and I want to get a Context object for each application.  The documentation for the method specifically says that you can get a Context every bit as good as if the application were running.  So I want to iterate through the contexts, and getCacheDir() for each application, understand?  Hopefully, I'm making it clearer.  Please, I have an enviromental problem using StackOverflow, my code doesn't post according to the rules, I've tried many times.</p>\n<pre><code>package com.example.delcacheapp\n\nimport java.io.File\nimport android.app.ActivityManager\nimport android.content.Context\nimport androidx.appcompat.app.AppCompatActivity\nimport android.os.Bundle\nimport android.util.Log\nimport android.widget.ArrayAdapter\nimport android.widget.ListView\nimport android.widget.TextView\n\nclass MainActivity : AppCompatActivity() {\nlateinit var listView: ListView\nlateinit var tv: TextView\nvar arrayAdapter: ArrayAdapter&lt;*&gt;? = null\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_main)\n    title = &quot;DelCacheApp&quot;\n    listView = findViewById(R.id.listView)\n    var numapps = installedApps()\n    tv = findViewById(R.id.readonlytext1)\n    tv.setText(Integer.toString(numapps))\n    }\n    private fun installedApps(): Int {\n    val list = packageManager.getInstalledPackages(0)\n    for (i in list.indices) {\n    val packageInfo = list[i]\n    if (packageInfo != null) {\n         val appName = packageInfo.applicationInfo.loadLabel(packageManager).toString()\n         val appDir = packageInfo.applicationInfo.dataDir.toString()\n         val packageName = packageInfo.packageName.toString()\n         val launchintent = packageManager.getLaunchIntentForPackage(packageName)\n         val appLabel = packageManager.getApplicationLabel(\n         packageManager.getApplicationInfo(packageName, 0)).toString()\n         Log.e(&quot;App List$i&quot;, appName)\n         Log.e(&quot;TAG&quot;, appDir)\n         Log.e(&quot;TAG&quot;, packageName)\n         Log.e(&quot;TAG&quot;, launchintent.toString())\n         Log.e(&quot;TAG&quot;, appLabel)\n         Context testC = this\n         //Context c = getContext().createPackageContext(packageName, Context.CONTEXT_IGNORE_SECURITY)\n    }\n    Log.e(&quot;TAG&quot;, &quot;Here are running apps ...&quot;)\n    val am = getSystemService(android.content.Context.ACTIVITY_SERVICE) as ActivityManager\n    val runningAppProcessInfo = am.runningAppProcesses\n    var highesti: Int = 0\n    for(i in runningAppProcessInfo.indices) {\n        val processName = runningAppProcessInfo[i].processName\n        if(!(processName == null))\n        {\n            Log.e(&quot;TAG&quot;, processName)\n        }\n        highesti++\n    }\n    Log.e(&quot;TAG&quot;, highesti.toString())\n\n    arrayAdapter = ArrayAdapter(this,\n        R.layout.support_simple_spinner_dropdown_item, list as List&lt;*&gt;)\n    listView.adapter = arrayAdapter\n    return list.size\n}\n}\n</code></pre>\n<p>The problem I'm trying to solve is how to get around the error &quot;Classifier Context does not have a companion object, and thus must be initialized here&quot; at the line where I make the createPackageContext call. I've tried substituting the this pointer, getContext(), getApplication(), but should I derive a class and put in a companion object block or something?  I just cannot get the code to compile unless I use a val or var keyword which isn't the right type.  And over the equals sign it says &quot;Expecting an element&quot;.  Somehow I have to get an instance of a class or something to be able to use the method createPackageContext since I cannot just call it statically since kotlin doesn't have static methods.  Perhaps I need to use the Activity class which I have an instance of.  I need an object somehow I guess.  I'm just a little confused at how to get the code to compile - how can I initialize Context c if I don't have a companion object?</p>\n<p>Hopefully, this helps everyone see that I'm getting a list of installed apps, then I'm trying to get the context for each app using the line that is commented out because it doesn't compile.  Enjoy!</p>\n<p>I believe that I just have to change Context C to val c.  Maybe I am really asking why do I have to use val rather than Context?</p>\n<p>So the solution I am ALREADY proposing is to just use val C = createPackageContext(packageName, Context.CONTEXT_IGNORE_SECURITY).  I tried this on a Chatbot and I've now compiled and run the code.</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1625747040,"post_id":68301474,"comment_id":120712623,"body_markdown":"[mcve] please ..","body":"<a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> please .."}],"answers":[{"tags":[],"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1625747513,"creation_date":1625747513,"answer_id":68301701,"question_id":68301474,"body_markdown":"A `Line` does not have an interior to fill. You need to set the color of the stroke instead. Replace:\r\n\r\n```java\r\nregression.setFill(Color.CRIMSON);\r\n```\r\n\r\nWith:\r\n\r\n```java\r\nregression.setStroke(Color.CRIMSON);\r\n```","title":"Changing colour of a Line in Javafx","body":"<p>A <code>Line</code> does not have an interior to fill. You need to set the color of the stroke instead. Replace:</p>\n<pre class=\"lang-java prettyprint-override\"><code>regression.setFill(Color.CRIMSON);\n</code></pre>\n<p>With:</p>\n<pre class=\"lang-java prettyprint-override\"><code>regression.setStroke(Color.CRIMSON);\n</code></pre>\n"}],"owner":{"account_id":22159578,"reputation":13,"user_id":16406780,"display_name":"tim singer"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":536,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":68301701,"answer_count":1,"score":1,"last_activity_date":1696358226,"creation_date":1625746648,"question_id":68301474,"body_markdown":"I have a rather trivial question regarding colouring of a line in javafx. I programmed a scene, in which a circle is created for every mouse click. Additionally after every mouse click a regression line is calculated and added. All I want to do now is change the colour of the regression line to red. I have tried the setFill(Color.[anycolour]) method, but to no avail. This is the code for the mouse click event.\r\n\r\n```\r\n    import javafx.collections.ObservableList;\r\n    import javafx.event.EventHandler;\r\n    import javafx.scene.Node;\r\n    import javafx.scene.input.MouseEvent;\r\n    import javafx.scene.paint.Color;\r\n    import javafx.scene.shape.Circle;\r\n    import javafx.scene.shape.Line;\r\n\r\n\r\n    public class MouseClick implements EventHandler&lt;MouseEvent&gt;\r\n    {\r\n\tprivate static int counter = 0;\r\n\tprivate static Line regression;\r\n\t\r\n\tpublic void handle(MouseEvent event) \r\n    {\r\n\t\tObservableList&lt;Node&gt; children = Graphics.getRoot().getChildren();\r\n\t\t\r\n\t\tSystem.out.println(&quot;X: &quot; + event.getX() + &quot; Y: &quot; + event.getY());\r\n\r\n\t\tCircle circle = new Circle(event.getX(), event.getY(), 5);\r\n\t\tchildren.add(circle);\r\n\t\tMouseClick.counter++;\r\n\r\n\t\tif(counter &gt; 1)\r\n\t\t{\r\n\t\t\tchildren.remove(regression);\r\n\t\t\tdouble[] regr = calculateRegression(children);\r\n\t\t\tSystem.out.println(&quot;slope: &quot; + regr[0]+ &quot; Yint: &quot; + regr[1]);\r\n\r\n\t\t\tregression = new Line();\r\n\t\t\tregression.setStartX(0.0);\r\n\t\t\tregression.setStartY(regr[1]);\r\n\t\t\tregression.setEndX(Graphics.getWidth());\r\n\t\t\tregression.setEndY(regr[0] * Graphics.getWidth() + regr[1]);\r\n\t\t\tregression.setFill(Color.CRIMSON);\r\n\t\t\tchildren.add(regression);\r\n\t\t}\r\n\t}\r\n```\r\nI have even tried to make a new class MyLine, where every Line is instantiated with a colour, but that also didn&#39;t work and the line remains black. Funnily enough it works for the circles, when I add that line of code after creating the circles.\r\n\r\n```\r\n    Circle circle = new Circle(event.getX(), event.getY(), 5);\r\n    circle.setFill(Color.CRIMSON);\r\n```\r\n\r\nDoes anyone know where the problem lies or if there is another way to change the line colour?","title":"Changing colour of a Line in Javafx","body":"<p>I have a rather trivial question regarding colouring of a line in javafx. I programmed a scene, in which a circle is created for every mouse click. Additionally after every mouse click a regression line is calculated and added. All I want to do now is change the colour of the regression line to red. I have tried the setFill(Color.[anycolour]) method, but to no avail. This is the code for the mouse click event.</p>\n<pre><code>    import javafx.collections.ObservableList;\n    import javafx.event.EventHandler;\n    import javafx.scene.Node;\n    import javafx.scene.input.MouseEvent;\n    import javafx.scene.paint.Color;\n    import javafx.scene.shape.Circle;\n    import javafx.scene.shape.Line;\n\n\n    public class MouseClick implements EventHandler&lt;MouseEvent&gt;\n    {\n    private static int counter = 0;\n    private static Line regression;\n    \n    public void handle(MouseEvent event) \n    {\n        ObservableList&lt;Node&gt; children = Graphics.getRoot().getChildren();\n        \n        System.out.println(&quot;X: &quot; + event.getX() + &quot; Y: &quot; + event.getY());\n\n        Circle circle = new Circle(event.getX(), event.getY(), 5);\n        children.add(circle);\n        MouseClick.counter++;\n\n        if(counter &gt; 1)\n        {\n            children.remove(regression);\n            double[] regr = calculateRegression(children);\n            System.out.println(&quot;slope: &quot; + regr[0]+ &quot; Yint: &quot; + regr[1]);\n\n            regression = new Line();\n            regression.setStartX(0.0);\n            regression.setStartY(regr[1]);\n            regression.setEndX(Graphics.getWidth());\n            regression.setEndY(regr[0] * Graphics.getWidth() + regr[1]);\n            regression.setFill(Color.CRIMSON);\n            children.add(regression);\n        }\n    }\n</code></pre>\n<p>I have even tried to make a new class MyLine, where every Line is instantiated with a colour, but that also didn't work and the line remains black. Funnily enough it works for the circles, when I add that line of code after creating the circles.</p>\n<pre><code>    Circle circle = new Circle(event.getX(), event.getY(), 5);\n    circle.setFill(Color.CRIMSON);\n</code></pre>\n<p>Does anyone know where the problem lies or if there is another way to change the line colour?</p>\n"},{"tags":["java","mysql","timeout"],"comments":[{"owner":{"account_id":6740011,"reputation":46650,"user_id":5193536,"display_name":"nbk"},"score":0,"creation_date":1696341271,"post_id":77222898,"comment_id":136138339,"body_markdown":"usually this is a sign of slow queries, you can enable the slow query log and see if something needs longer than 30 seconds","body":"usually this is a sign of slow queries, you can enable the slow query log and see if something needs longer than 30 seconds"},{"owner":{"account_id":1880361,"reputation":144,"user_id":1700716,"display_name":"Nikolaj Hansen"},"score":0,"creation_date":1696342959,"post_id":77222898,"comment_id":136138725,"body_markdown":"Also consider the my.cnf configuration for your mysql server. Does it for instance have a timeout value on inactivity.","body":"Also consider the my.cnf configuration for your mysql server. Does it for instance have a timeout value on inactivity."},{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":0,"creation_date":1696343490,"post_id":77222898,"comment_id":136138840,"body_markdown":"Seems like `getConnection()` should be a private method.  Maybe some code is using that method instead of the `connect()` method?  What does `isConnected()` do?  Please update with some code that shows how this class is used.","body":"Seems like <code>getConnection()</code> should be a private method.  Maybe some code is using that method instead of the <code>connect()</code> method?  What does <code>isConnected()</code> do?  Please update with some code that shows how this class is used."},{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":0,"creation_date":1696343562,"post_id":77222898,"comment_id":136138857,"body_markdown":"Also, the code is not thread safe.  is the app single threaded?","body":"Also, the code is not thread safe.  is the app single threaded?"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1696398020,"post_id":77222898,"comment_id":136145729,"body_markdown":"The whole pattern is wrong. `Connections` should not be static objects. You should get a `Connection` when you need one, inside the method that&#39;s going to execute the query or update, and close it automatically via a ty-with-resources statement; and you should use a connection pool like Apache DBCP to conserve connect events. The connection pool will take care of whether the pooled connection is still alive.","body":"The whole pattern is wrong. <code>Connections</code> should not be static objects. You should get a <code>Connection</code> when you need one, inside the method that&#39;s going to execute the query or update, and close it automatically via a ty-with-resources statement; and you should use a connection pool like Apache DBCP to conserve connect events. The connection pool will take care of whether the pooled connection is still alive."}],"answers":[{"tags":[],"owner":{"account_id":5273740,"reputation":698,"user_id":4211252,"display_name":"Thilo Schwarz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696357661,"creation_date":1696357308,"answer_id":77224679,"question_id":77222898,"body_markdown":"You could use the additional parameter **autoReconnect=true** in your jdbc url.\r\n\r\nAnother option is a thread which just run &#39;select 1&#39; every few seconds. It&#39;s like a ping on to the database.","title":"Java MySQL connection regularly times out","body":"<p>You could use the additional parameter <strong>autoReconnect=true</strong> in your jdbc url.</p>\n<p>Another option is a thread which just run 'select 1' every few seconds. It's like a ping on to the database.</p>\n"}],"owner":{"account_id":29588887,"reputation":1,"user_id":22676978,"display_name":"officialMilchi"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696357661,"creation_date":1696341123,"question_id":77222898,"body_markdown":"I connect to my database and I have timeouts on a regular basis. I have no idea how to proceed. Can anyone help me?\r\n\r\nAttached is my code how I make the connection:\r\n\r\n\r\n```\r\n    private static Connection connection;\r\n\r\n    public static boolean isConnected() {\r\n        return (connection == null ? false : true);\r\n    }\r\n\r\n    public static void connect() throws ClassNotFoundException {\r\n\r\n        if (!isConnected()) {\r\n\r\n            try {\r\n                Class.forName(&quot;com.mysql.jdbc.Driver&quot;);\r\n\r\n                connection = getConnection();\r\n                System.out.println(&quot;Datenbank verbunden!&quot;);\r\n            } catch (SQLException exception) {\r\n                exception.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\n    public static void disconnect() {\r\n        if (isConnected()) {\r\n            try {\r\n                connection.close();\r\n                System.out.println(&quot;Datenbank entbunden!&quot;);\r\n            } catch (SQLException exception) {\r\n                exception.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\n    public static Connection getConnection() throws SQLException {\r\n        Connection connection = DriverManager.getConnection(&quot;jdbc:mysql://&quot; + host + &quot;:&quot; + port + &quot;/&quot; + database + &quot;?connectTimeout=5000&amp;socketTimeout=30000&quot;, user, password);\r\n\r\n        // Here you can add a validation step to check if the connection is still valid.\r\n        if (!connection.isValid(5)) { // 5 seconds timeout\r\n            System.out.println(&quot;Datenbank Verbindung verloren!&quot;);\r\n            connection.close();\r\n            connection = DriverManager.getConnection(&quot;jdbc:mysql://&quot; + host + &quot;:&quot; + port + &quot;/&quot; + database + &quot;?connectTimeout=5000&amp;socketTimeout=30000&quot;, user, password);\r\n            System.out.println(&quot;Datenbank Verbindung wiederhergestellt!&quot;);\r\n        }\r\n\r\n        return connection;\r\n    }\r\n```\r\n\r\n\r\nI have already tried with timers that periodically re-establish the connection but nothing works.","title":"Java MySQL connection regularly times out","body":"<p>I connect to my database and I have timeouts on a regular basis. I have no idea how to proceed. Can anyone help me?</p>\n<p>Attached is my code how I make the connection:</p>\n<pre><code>    private static Connection connection;\n\n    public static boolean isConnected() {\n        return (connection == null ? false : true);\n    }\n\n    public static void connect() throws ClassNotFoundException {\n\n        if (!isConnected()) {\n\n            try {\n                Class.forName(&quot;com.mysql.jdbc.Driver&quot;);\n\n                connection = getConnection();\n                System.out.println(&quot;Datenbank verbunden!&quot;);\n            } catch (SQLException exception) {\n                exception.printStackTrace();\n            }\n        }\n    }\n\n    public static void disconnect() {\n        if (isConnected()) {\n            try {\n                connection.close();\n                System.out.println(&quot;Datenbank entbunden!&quot;);\n            } catch (SQLException exception) {\n                exception.printStackTrace();\n            }\n        }\n    }\n\n    public static Connection getConnection() throws SQLException {\n        Connection connection = DriverManager.getConnection(&quot;jdbc:mysql://&quot; + host + &quot;:&quot; + port + &quot;/&quot; + database + &quot;?connectTimeout=5000&amp;socketTimeout=30000&quot;, user, password);\n\n        // Here you can add a validation step to check if the connection is still valid.\n        if (!connection.isValid(5)) { // 5 seconds timeout\n            System.out.println(&quot;Datenbank Verbindung verloren!&quot;);\n            connection.close();\n            connection = DriverManager.getConnection(&quot;jdbc:mysql://&quot; + host + &quot;:&quot; + port + &quot;/&quot; + database + &quot;?connectTimeout=5000&amp;socketTimeout=30000&quot;, user, password);\n            System.out.println(&quot;Datenbank Verbindung wiederhergestellt!&quot;);\n        }\n\n        return connection;\n    }\n</code></pre>\n<p>I have already tried with timers that periodically re-establish the connection but nothing works.</p>\n"},{"tags":["java","list","object"],"comments":[{"owner":{"account_id":322981,"reputation":310744,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1696357396,"post_id":77224193,"comment_id":136141615,"body_markdown":"Time for you to learn how to use a debugger to catch the mistakes in your code. https://en.wikipedia.org/wiki/Debugger","body":"Time for you to learn how to use a debugger to catch the mistakes in your code. <a href=\"https://en.wikipedia.org/wiki/Debugger\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Debugger</a>"}],"answers":[{"tags":[],"owner":{"account_id":350117,"reputation":8653,"user_id":685806,"accept_rate":44,"display_name":"Pino"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1696357122,"creation_date":1696353052,"answer_id":77224286,"question_id":77224193,"body_markdown":"The two nested loops are executed zero times. \r\n\r\nChange the `==` to `&lt;=`. We want to ask on each loop “is `i` less than or equal to the limit of three” and “is `j` less than or equal to the limit of twelve”.\r\n\r\n```java\r\nfor(i = 0; i &lt;= 3; i++) {\r\n    for(j = 1; j &lt;= 12; j++) {\r\n       ...\r\n    }\r\n}\r\n```        ","title":"Not adding to list while looping in Java","body":"<p>The two nested loops are executed zero times.</p>\n<p>Change the <code>==</code> to <code>&lt;=</code>. We want to ask on each loop “is <code>i</code> less than or equal to the limit of three” and “is <code>j</code> less than or equal to the limit of twelve”.</p>\n<pre class=\"lang-java prettyprint-override\"><code>for(i = 0; i &lt;= 3; i++) {\n    for(j = 1; j &lt;= 12; j++) {\n       ...\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":18896974,"reputation":13,"user_id":20123929,"display_name":"Ignacio Ovidio Mu&#241;oz Nicol&#225;s"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77224286,"answer_count":1,"score":0,"last_activity_date":1696357122,"creation_date":1696352182,"question_id":77224193,"body_markdown":"I&#39;m learning Java and I&#39;m making an easy cards game. The first thing I want to do y to create the deck. I&#39;m having a problem with creating and adding objects to a List of the objects while looping.\r\n\r\n\r\nFirst of all, I made a class &quot;Card&quot;. The constructor is:\r\n\r\n```\r\npublic CartaEspana(int num, int palo) {\r\n\t\tthis.numero = num;\r\n\t\tthis.palo = palo;\r\n\t}\r\n```\r\n\r\nThen I made a deck class with this constructor\r\n\r\n```\r\n        //atributos\r\n\tprivate int id;\r\n\tprivate List&lt;CartaEspana&gt; baraja= new ArrayList();\r\n\t//Propiedades\r\n\tpublic int getId() {\r\n\t\treturn id;\r\n\t}\r\n\tpublic List&lt;CartaEspana&gt; getJuegoCartas() {\r\n\t\treturn baraja;\r\n\t}\r\n\tpublic void setId(int id) {\r\n\t\tthis.id = id;\r\n\t}\r\n\tpublic void setJuegoCartas(List&lt;CartaEspana&gt; juegoCartas) {\r\n\t\tthis.baraja = juegoCartas;\r\n\t}\r\n\tpublic void addCarta(CartaEspana carta) {\r\n\t\tthis.baraja.add(carta);\r\n\t}\r\n\tpublic BarajaEspanola(int id) {\r\n\t\tthis.id = id;\r\n\t\tint i = 0, j = 0;\r\n\t\tfor(i = 0; i == 3; i++) {\r\n\t\t\tfor(j = 1; j == 12; j++) {\r\n\t\t\t\t\r\n\t\t\t\tthis.addCarta(new CartaEspana(j,i));\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n```\r\nWhen I create the deck and ask for the list lenght it says that lenght is 0;\r\nI&#39;ve tried \r\n\r\n```\r\n\tpublic BarajaEspanola(int id) {\r\n\t\tthis.id = id;\r\n\t\tthis.addCarta(new CartaEspana(1,0));\r\n\t\tthis.addCarta(new CartaEspana(2,0));\r\n\r\n\t\t}\r\n\t}\r\n```\r\nand lenght now is two. Which is the difference and why the loop does not create the objects inside de Deck?\r\nThanks","title":"Not adding to list while looping in Java","body":"<p>I'm learning Java and I'm making an easy cards game. The first thing I want to do y to create the deck. I'm having a problem with creating and adding objects to a List of the objects while looping.</p>\n<p>First of all, I made a class &quot;Card&quot;. The constructor is:</p>\n<pre><code>public CartaEspana(int num, int palo) {\n        this.numero = num;\n        this.palo = palo;\n    }\n</code></pre>\n<p>Then I made a deck class with this constructor</p>\n<pre><code>        //atributos\n    private int id;\n    private List&lt;CartaEspana&gt; baraja= new ArrayList();\n    //Propiedades\n    public int getId() {\n        return id;\n    }\n    public List&lt;CartaEspana&gt; getJuegoCartas() {\n        return baraja;\n    }\n    public void setId(int id) {\n        this.id = id;\n    }\n    public void setJuegoCartas(List&lt;CartaEspana&gt; juegoCartas) {\n        this.baraja = juegoCartas;\n    }\n    public void addCarta(CartaEspana carta) {\n        this.baraja.add(carta);\n    }\n    public BarajaEspanola(int id) {\n        this.id = id;\n        int i = 0, j = 0;\n        for(i = 0; i == 3; i++) {\n            for(j = 1; j == 12; j++) {\n                \n                this.addCarta(new CartaEspana(j,i));\n            }\n        }\n    }\n</code></pre>\n<p>When I create the deck and ask for the list lenght it says that lenght is 0;\nI've tried</p>\n<pre><code>    public BarajaEspanola(int id) {\n        this.id = id;\n        this.addCarta(new CartaEspana(1,0));\n        this.addCarta(new CartaEspana(2,0));\n\n        }\n    }\n</code></pre>\n<p>and lenght now is two. Which is the difference and why the loop does not create the objects inside de Deck?\nThanks</p>\n"},{"tags":["java","gradle","quarkus"],"owner":{"account_id":516862,"reputation":199,"user_id":1712259,"accept_rate":67,"display_name":"Marcelo Ruiz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696356228,"creation_date":1696356228,"question_id":77224575,"body_markdown":"I am very new to Quarkus and I would like to know if it is possible to have a separate module registering (and reacting) to application (custom) event listeners.\r\n\r\nI am trying Quarkus by writing a simple JavaSE application. My building tool is Gradle.\r\n\r\nI was able to register the listener on a separte package in the main module (where the QuarkusMain application resides), but as soon as I move the listener to a separate module, it won&#39;t even be instantiated.\r\n\r\nI could not find many examples online for multi-module builds with Quarkus and Gradle. I tried the following, after reading the guide and forums online with no success:\r\n\r\n - I first moved the working listener (annotated with @ApplicationScope) to a new module and applied the kordamp Jandex plugin,\r\n - I then added an empty ```bean.xml``` file under the ```META-INF``` folder under ```resouces```,\r\n - I even marked the bean with ```@Startup```, but it was never instantiated\r\n - I then created a non-annotated Configuration class with the method that instantiates the bean marked with ```@Produces``` and ```@ApplicationScope```, but it was never instantiated. I even tried adding ```@Startup``` with no luck\r\n - Following an online suggestion (and even though this is not what I want to achieve), I injecting the listener in a field in the main application, but Quarkus cannot find the bean. I even tried injecting the it with ```@Inject Instance&lt;MyListener&gt; listener``` following another suggestion, but I had no luck.\r\n\r\nI wish there was a simple working example in the guides for this simple setup with Gradle but, in the meantime, could anyone please tell me how I can achieve this? Once I have the initial guide, I will give it a try and post a code example if necessary. \r\n\r\nIf I get it to work, I will share how I made it work.\r\n\r\nThank you!\r\n","title":"Is it possible for a module to have event listeners that will react to application events?","body":"<p>I am very new to Quarkus and I would like to know if it is possible to have a separate module registering (and reacting) to application (custom) event listeners.</p>\n<p>I am trying Quarkus by writing a simple JavaSE application. My building tool is Gradle.</p>\n<p>I was able to register the listener on a separte package in the main module (where the QuarkusMain application resides), but as soon as I move the listener to a separate module, it won't even be instantiated.</p>\n<p>I could not find many examples online for multi-module builds with Quarkus and Gradle. I tried the following, after reading the guide and forums online with no success:</p>\n<ul>\n<li>I first moved the working listener (annotated with @ApplicationScope) to a new module and applied the kordamp Jandex plugin,</li>\n<li>I then added an empty <code>bean.xml</code> file under the <code>META-INF</code> folder under <code>resouces</code>,</li>\n<li>I even marked the bean with <code>@Startup</code>, but it was never instantiated</li>\n<li>I then created a non-annotated Configuration class with the method that instantiates the bean marked with <code>@Produces</code> and <code>@ApplicationScope</code>, but it was never instantiated. I even tried adding <code>@Startup</code> with no luck</li>\n<li>Following an online suggestion (and even though this is not what I want to achieve), I injecting the listener in a field in the main application, but Quarkus cannot find the bean. I even tried injecting the it with <code>@Inject Instance&lt;MyListener&gt; listener</code> following another suggestion, but I had no luck.</li>\n</ul>\n<p>I wish there was a simple working example in the guides for this simple setup with Gradle but, in the meantime, could anyone please tell me how I can achieve this? Once I have the initial guide, I will give it a try and post a code example if necessary.</p>\n<p>If I get it to work, I will share how I made it work.</p>\n<p>Thank you!</p>\n"},{"tags":["java","logging","encoding","log4j2"],"owner":{"account_id":17542859,"reputation":33,"user_id":12724727,"display_name":"njust"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1696327118,"answer_count":0,"score":0,"last_activity_date":1696355914,"creation_date":1696323948,"question_id":77220950,"body_markdown":"When I printing a cyrillic string in the Windows console, System.out.println prints it normally, but log4j logger.info do not\r\n\r\nMy code:\r\n\r\n```java\r\npackage org.example;\r\n\r\nimport org.apache.logging.log4j.LogManager;\r\nimport org.apache.logging.log4j.Logger;\r\n\r\npublic class Main {\r\n    public static final Logger logger = LogManager.getLogger();\r\n\r\n    public static void main(String[] args) {\r\n        String cyrillic = &quot;привет&quot;; // some cyrillic string\r\n\r\n        System.out.println(Charset.defaultCharset().name()); // windows-1251\r\n        System.out.println(cyrillic); // prints string normally\r\n        logger.info(cyrillic); // prints &quot;яЁштхЄ&quot;\r\n    }\r\n}\r\n```\r\n\r\nOutput in console:\r\n\r\n[![enter image description here](https://i.stack.imgur.com/nUgrA.png)](https://i.stack.imgur.com/nUgrA.png)\r\n\r\nMy log4j2.properties file:\r\n\r\n```\r\n# Extra logging related to initialization of Log4j\r\n# Set to debug or trace if log4j initialization is failing\r\nstatus=off\r\n# Name of the configuration\r\nname=MainConfiguration\r\n\r\n# Console appender configuration\r\nappender.console.type=Console\r\nappender.console.name=consoleLogger\r\nappender.console.layout.type=PatternLayout\r\nappender.console.layout.pattern=[%d{HH:mm:ss}/%p]: [%c{1}] %m%n\r\n\r\n# Root logger level\r\nrootLogger.level=INFO\r\n# Root logger referring to console appender\r\nrootLogger.appenderRef.stdout.ref=consoleLogger\r\n```\r\n\r\nIt looks like println uses Charset.defaultCharset(), but logger.info() doesn&#39;t use it and uses UTF-8, so how do I tell log4j to use the default terminal encoding, the same as println? \r\n\r\nlike appender.console.layout.charset=DEFAULT \r\n\r\nAlso if it uses default encoding already, why output is different?","title":"log4j how to use default encoding","body":"<p>When I printing a cyrillic string in the Windows console, System.out.println prints it normally, but log4j logger.info do not</p>\n<p>My code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package org.example;\n\nimport org.apache.logging.log4j.LogManager;\nimport org.apache.logging.log4j.Logger;\n\npublic class Main {\n    public static final Logger logger = LogManager.getLogger();\n\n    public static void main(String[] args) {\n        String cyrillic = &quot;привет&quot;; // some cyrillic string\n\n        System.out.println(Charset.defaultCharset().name()); // windows-1251\n        System.out.println(cyrillic); // prints string normally\n        logger.info(cyrillic); // prints &quot;яЁштхЄ&quot;\n    }\n}\n</code></pre>\n<p>Output in console:</p>\n<p><a href=\"https://i.stack.imgur.com/nUgrA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nUgrA.png\" alt=\"enter image description here\" /></a></p>\n<p>My log4j2.properties file:</p>\n<pre><code># Extra logging related to initialization of Log4j\n# Set to debug or trace if log4j initialization is failing\nstatus=off\n# Name of the configuration\nname=MainConfiguration\n\n# Console appender configuration\nappender.console.type=Console\nappender.console.name=consoleLogger\nappender.console.layout.type=PatternLayout\nappender.console.layout.pattern=[%d{HH:mm:ss}/%p]: [%c{1}] %m%n\n\n# Root logger level\nrootLogger.level=INFO\n# Root logger referring to console appender\nrootLogger.appenderRef.stdout.ref=consoleLogger\n</code></pre>\n<p>It looks like println uses Charset.defaultCharset(), but logger.info() doesn't use it and uses UTF-8, so how do I tell log4j to use the default terminal encoding, the same as println?</p>\n<p>like appender.console.layout.charset=DEFAULT</p>\n<p>Also if it uses default encoding already, why output is different?</p>\n"},{"tags":["java","spring-boot","rabbitmq","spring-rabbit"],"answers":[{"tags":[],"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696355898,"creation_date":1696355898,"answer_id":77224540,"question_id":77224292,"body_markdown":"I cannot reproduce it. This is a simple Spring Boot application according to your description:\r\n\r\n    @SpringBootApplication\r\n    public class So77224292Application {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(So77224292Application.class, args);\r\n    \t}\r\n    \r\n    \r\n    \t@Bean\r\n    \tQueue queue() {\r\n    \t\treturn new Queue(&quot;myQueue&quot;, true, false, false, Map.of(&quot;x-queue-type&quot;, &quot;quorum&quot;));\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tApplicationRunner applicationRunner(RabbitTemplate rabbitTemplate) {\r\n    \t\treturn args -&gt; rabbitTemplate.convertAndSend(&quot;myQueue&quot;,  new Random().nextDouble());\r\n    \t}\r\n    \r\n    \r\n    \t@RabbitListener(queues = &quot;myQueue&quot;)\r\n    \tpublic void consume(String payload) {\r\n    \t\tSystem.out.println(&quot;Received: &quot; + payload);\r\n    \t}\r\n    \r\n    }\r\n\r\nWhen no queue on the broker, it is created. The data published and consumed.\r\nAfter restart, with the queue in place, everything still works as expected: random data published and consumed.\r\n\r\n\r\nPerhaps you have something else you need to share with us, so we can reproduce it on our side and figure out what and where is wrong.","title":"RabbitMQ/Spring AQMP x-queue-type ignored for quorum queue definition","body":"<p>I cannot reproduce it. This is a simple Spring Boot application according to your description:</p>\n<pre><code>@SpringBootApplication\npublic class So77224292Application {\n\n    public static void main(String[] args) {\n        SpringApplication.run(So77224292Application.class, args);\n    }\n\n\n    @Bean\n    Queue queue() {\n        return new Queue(&quot;myQueue&quot;, true, false, false, Map.of(&quot;x-queue-type&quot;, &quot;quorum&quot;));\n    }\n\n    @Bean\n    ApplicationRunner applicationRunner(RabbitTemplate rabbitTemplate) {\n        return args -&gt; rabbitTemplate.convertAndSend(&quot;myQueue&quot;,  new Random().nextDouble());\n    }\n\n\n    @RabbitListener(queues = &quot;myQueue&quot;)\n    public void consume(String payload) {\n        System.out.println(&quot;Received: &quot; + payload);\n    }\n\n}\n</code></pre>\n<p>When no queue on the broker, it is created. The data published and consumed.\nAfter restart, with the queue in place, everything still works as expected: random data published and consumed.</p>\n<p>Perhaps you have something else you need to share with us, so we can reproduce it on our side and figure out what and where is wrong.</p>\n"}],"owner":{"account_id":75782,"reputation":1215,"user_id":217269,"display_name":"spork"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":117,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696355898,"creation_date":1696353152,"question_id":77224292,"body_markdown":"With a Spring AQMP Java client, I am trying to publish to an existing RabbitMQ quorum queue.\r\n\r\nAs shown in [this SO answer][1], my code defines the target queue using the `x-queue-type` argument of &#39;quorum&#39;:\r\n\r\n    @Bean\r\n    Queue queue(@Value(&quot;${spring.rabbitmq.listener.queue.name}&quot;) String queueName) {\r\n        Queue queue = new Queue(queueName, true, false, false, Map.of(&quot;x-queue-type&quot;, &quot;quorum&quot;));\r\n        queue.setShouldDeclare(true);\r\n        return queue;\r\n    }\r\nThis works fine if the queue doesn&#39;t already exist and the RabbitMQ admin console shows the new queue is created with the type &#39;quorum&#39;. But if I restart my application and the queue _already_ exists, the publish attempt fails with the message:\r\n\r\n```Failed to declare queue: Queue [name=myqueuename, durable=true, autoDelete=false, exclusive=false, arguments={}, actualName=myqueuename], continuing... com.rabbitmq.client.ShutdownSignalException: channel error; protocol method: #method&lt;channel.close&gt;(reply-code=406, reply-text=PRECONDITION_FAILED - inequivalent arg &#39;x-queue-type&#39; for queue &#39;myqueuename&#39; in vhost &#39;myvhost&#39;: received none but current is the value &#39;quorum&#39; of type &#39;longstr&#39;```\r\n\r\nThis message occurs when the definition of the remote queue doesn&#39;t match the local queue definition. But why is it happening here? I have declared the queue with `x-queue-type` set to &quot;quorum&quot;, and that matches the remote queue definition. You can see the first line of the log message shows `exclusive=false, *arguments={}*` which implies the map of arguments passed to the queue constructor are being ignored.\r\n\r\nHow should I define this queue so that it not only creates a quorum queue, but can also publish to it?\r\n\r\n  [1]: https://stackoverflow.com/a/69642540","title":"RabbitMQ/Spring AQMP x-queue-type ignored for quorum queue definition","body":"<p>With a Spring AQMP Java client, I am trying to publish to an existing RabbitMQ quorum queue.</p>\n<p>As shown in <a href=\"https://stackoverflow.com/a/69642540\">this SO answer</a>, my code defines the target queue using the <code>x-queue-type</code> argument of 'quorum':</p>\n<pre><code>@Bean\nQueue queue(@Value(&quot;${spring.rabbitmq.listener.queue.name}&quot;) String queueName) {\n    Queue queue = new Queue(queueName, true, false, false, Map.of(&quot;x-queue-type&quot;, &quot;quorum&quot;));\n    queue.setShouldDeclare(true);\n    return queue;\n}\n</code></pre>\n<p>This works fine if the queue doesn't already exist and the RabbitMQ admin console shows the new queue is created with the type 'quorum'. But if I restart my application and the queue <em>already</em> exists, the publish attempt fails with the message:</p>\n<p><code>Failed to declare queue: Queue [name=myqueuename, durable=true, autoDelete=false, exclusive=false, arguments={}, actualName=myqueuename], continuing... com.rabbitmq.client.ShutdownSignalException: channel error; protocol method: #method&lt;channel.close&gt;(reply-code=406, reply-text=PRECONDITION_FAILED - inequivalent arg 'x-queue-type' for queue 'myqueuename' in vhost 'myvhost': received none but current is the value 'quorum' of type 'longstr'</code></p>\n<p>This message occurs when the definition of the remote queue doesn't match the local queue definition. But why is it happening here? I have declared the queue with <code>x-queue-type</code> set to &quot;quorum&quot;, and that matches the remote queue definition. You can see the first line of the log message shows <code>exclusive=false, *arguments={}*</code> which implies the map of arguments passed to the queue constructor are being ignored.</p>\n<p>How should I define this queue so that it not only creates a quorum queue, but can also publish to it?</p>\n"},{"tags":["java","jboss","jms","wildfly","activemq-artemis"],"answers":[{"tags":[],"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1642013989,"creation_date":1641929002,"answer_id":70672332,"question_id":70668997,"body_markdown":"WildFly embeds [ActiveMQ Artemis][1] as its JMS implementation, and ActiveMQ Artemis doesn&#39;t support overriding a message&#39;s time-to-deliver or delivery-mode. However, if it did they would be configured via an `address-setting` as described in [the documentation][2].\r\n\r\nYou could potentially work-around this by implementing a [broker plugin][3] which performed the overrides you wanted. Although I&#39;m not 100% certain that the WildFly configuration exposes the plugin configuration.\r\n\r\nThese seem like worthwhile features to implement. Feel free to open issues in the [ActiveMQ Artemis Jira][4].\r\n\r\n\r\n  [1]: https://activemq.apache.org/\r\n  [2]: https://activemq.apache.org/components/artemis/documentation/latest/address-model.html#configuring-addresses-and-queues-via-address-settings\r\n  [3]: https://activemq.apache.org/components/artemis/documentation/latest/broker-plugins.html\r\n  [4]: https://issues.apache.org/jira/projects/ARTEMIS","title":"JMS Topic - Weblogic to Wildfly / JBoss migration","body":"<p>WildFly embeds <a href=\"https://activemq.apache.org/\" rel=\"nofollow noreferrer\">ActiveMQ Artemis</a> as its JMS implementation, and ActiveMQ Artemis doesn't support overriding a message's time-to-deliver or delivery-mode. However, if it did they would be configured via an <code>address-setting</code> as described in <a href=\"https://activemq.apache.org/components/artemis/documentation/latest/address-model.html#configuring-addresses-and-queues-via-address-settings\" rel=\"nofollow noreferrer\">the documentation</a>.</p>\n<p>You could potentially work-around this by implementing a <a href=\"https://activemq.apache.org/components/artemis/documentation/latest/broker-plugins.html\" rel=\"nofollow noreferrer\">broker plugin</a> which performed the overrides you wanted. Although I'm not 100% certain that the WildFly configuration exposes the plugin configuration.</p>\n<p>These seem like worthwhile features to implement. Feel free to open issues in the <a href=\"https://issues.apache.org/jira/projects/ARTEMIS\" rel=\"nofollow noreferrer\">ActiveMQ Artemis Jira</a>.</p>\n"}],"owner":{"account_id":2259737,"reputation":121,"user_id":1990117,"accept_rate":75,"display_name":"Samy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":231,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70672332,"answer_count":1,"score":0,"last_activity_date":1696354334,"creation_date":1641913444,"question_id":70668997,"body_markdown":"I have one of my Topics in WebLogic with overrides properties &quot;Time-To Deliver Override&quot; and &quot;Delivery Mode Override&quot;\r\n\r\n[![Topic Overrides Properties][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/UdIBM.png\r\n\r\nI&#39;m working on a migration to WildFly server. I&#39;ve declared the Topics in the standalone.xml under the ActiveMQ subsystem tag as following\r\n```\r\n&lt;subsystem xmlns=&quot;urn:jboss:domain:messaging-activemq:8.0&quot;&gt;\r\n ...\r\n   &lt;jms-topic name=&quot;MyTopic&quot; entries=&quot;jms/MyTopic java:jboss/jms/MyTopic&quot;/&gt;\r\n   &lt;jms-topic name=&quot;MyTopicToOverride&quot; entries=&quot;jms/OverTipic java:jboss/jms/OverTopic&quot;/&gt;\r\n ...\r\n&lt;/subsystem&gt;\r\n```\r\nBut, I have no idea on how can I configure the equivalent of &quot;Time-To Deliver Override&quot; and &quot;Delivery Mode Override&quot; in standalone.xml for &quot;MyTopicToOverride&quot;. \r\n\r\nDo you have any idea on how can I do it, and how can I do it for one topic only ?","title":"JMS Topic - Weblogic to Wildfly / JBoss migration","body":"<p>I have one of my Topics in WebLogic with overrides properties &quot;Time-To Deliver Override&quot; and &quot;Delivery Mode Override&quot;</p>\n<p><a href=\"https://i.stack.imgur.com/UdIBM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UdIBM.png\" alt=\"Topic Overrides Properties\" /></a></p>\n<p>I'm working on a migration to WildFly server. I've declared the Topics in the standalone.xml under the ActiveMQ subsystem tag as following</p>\n<pre><code>&lt;subsystem xmlns=&quot;urn:jboss:domain:messaging-activemq:8.0&quot;&gt;\n ...\n   &lt;jms-topic name=&quot;MyTopic&quot; entries=&quot;jms/MyTopic java:jboss/jms/MyTopic&quot;/&gt;\n   &lt;jms-topic name=&quot;MyTopicToOverride&quot; entries=&quot;jms/OverTipic java:jboss/jms/OverTopic&quot;/&gt;\n ...\n&lt;/subsystem&gt;\n</code></pre>\n<p>But, I have no idea on how can I configure the equivalent of &quot;Time-To Deliver Override&quot; and &quot;Delivery Mode Override&quot; in standalone.xml for &quot;MyTopicToOverride&quot;.</p>\n<p>Do you have any idea on how can I do it, and how can I do it for one topic only ?</p>\n"},{"tags":["java","itext7"],"owner":{"account_id":20591962,"reputation":185,"user_id":17852207,"display_name":"Neil"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696353317,"creation_date":1696352537,"question_id":77224227,"body_markdown":"I am using `iText 8.0.1` and following this knowledgebase item to get the current cursor position [How to find out the current cursor position on a page?][1]\r\n\r\nBut, it is not working as I expect. I am getting the same values even after adding additional content.\r\n\r\nHere is a sample class:\r\n```\r\npackage com.propfinancing.iTextTest;\r\n\r\nimport com.itextpdf.kernel.geom.PageSize;\r\nimport com.itextpdf.kernel.geom.Rectangle;\r\nimport com.itextpdf.kernel.pdf.PdfDocument;\r\nimport com.itextpdf.kernel.pdf.PdfWriter;\r\nimport com.itextpdf.layout.Document;\r\nimport com.itextpdf.layout.element.AbstractElement;\r\nimport com.itextpdf.layout.element.Paragraph;\r\nimport com.itextpdf.layout.layout.LayoutArea;\r\nimport com.itextpdf.layout.layout.LayoutContext;\r\nimport com.itextpdf.layout.layout.LayoutResult;\r\nimport com.itextpdf.layout.renderer.IRenderer;\r\nimport java.io.File;\r\n\r\npublic class ITextTest {\r\n\r\n  public void run() \r\n  throws Exception {\r\n    File file = new File(&quot;C:\\\\Tmp\\\\test.pdf&quot;);\r\n    PdfWriter writer = new PdfWriter(file);    \r\n    PdfDocument pdfDoc = new PdfDocument(writer);    \r\n    Document doc = new Document(pdfDoc, PageSize.LETTER);\r\n    doc.setMargins(50, 50, 50, 50);\r\n\r\n    Paragraph paragraph = new Paragraph(&quot;Paragraph 1&quot;);\r\n    doc.add(paragraph);\r\n    showCurrentPosition(paragraph,doc);\r\n\r\n    paragraph = new Paragraph(&quot;Paragraph 2&quot;);\r\n    doc.add(paragraph);\r\n    showCurrentPosition(paragraph,doc);\r\n\r\n    doc.close();\r\n  }\r\n  \r\n  private void showCurrentPosition(AbstractElement&lt;?&gt; element, Document doc) {\r\n    IRenderer renderer = element.createRendererSubTree().setParent(doc.getRenderer());\r\n    LayoutResult layoutResult = renderer.layout(new LayoutContext(new LayoutArea(0, new Rectangle(595-72, 842-72))));\r\n    Rectangle bbox = layoutResult.getOccupiedArea().getBBox();\r\n    float x = bbox.getX();\r\n    float y = bbox.getY();\r\n    float width = bbox.getWidth();\r\n    float height = bbox.getWidth();\r\n    System.out.println(&quot;Current position is (&quot;+x+&quot;,&quot;+y+&quot;), width=&quot;+width+&quot;, height=&quot;+height);    \r\n  }\r\n  \r\n  public static void main(String[] args)\r\n  throws Exception {\r\n    new ITextTest().run();\r\n  }\r\n}\r\n```\r\n\r\nI am getting this output:\r\n```\r\nCurrent position is (0.0,744.018), width=523.0, height=523.0\r\nCurrent position is (0.0,744.018), width=523.0, height=523.0\r\n```\r\n\r\nThe position should have changed after adding the second paragraph.\r\n\r\nAm I misunderstanding how this works?\r\n\r\n  [1]: https://kb.itextpdf.com/home/it7kb/faq/how-to-find-out-the-current-cursor-position-on-a-page","title":"iText 8.0.1 not giving correct current cursor position","body":"<p>I am using <code>iText 8.0.1</code> and following this knowledgebase item to get the current cursor position <a href=\"https://kb.itextpdf.com/home/it7kb/faq/how-to-find-out-the-current-cursor-position-on-a-page\" rel=\"nofollow noreferrer\">How to find out the current cursor position on a page?</a></p>\n<p>But, it is not working as I expect. I am getting the same values even after adding additional content.</p>\n<p>Here is a sample class:</p>\n<pre><code>package com.propfinancing.iTextTest;\n\nimport com.itextpdf.kernel.geom.PageSize;\nimport com.itextpdf.kernel.geom.Rectangle;\nimport com.itextpdf.kernel.pdf.PdfDocument;\nimport com.itextpdf.kernel.pdf.PdfWriter;\nimport com.itextpdf.layout.Document;\nimport com.itextpdf.layout.element.AbstractElement;\nimport com.itextpdf.layout.element.Paragraph;\nimport com.itextpdf.layout.layout.LayoutArea;\nimport com.itextpdf.layout.layout.LayoutContext;\nimport com.itextpdf.layout.layout.LayoutResult;\nimport com.itextpdf.layout.renderer.IRenderer;\nimport java.io.File;\n\npublic class ITextTest {\n\n  public void run() \n  throws Exception {\n    File file = new File(&quot;C:\\\\Tmp\\\\test.pdf&quot;);\n    PdfWriter writer = new PdfWriter(file);    \n    PdfDocument pdfDoc = new PdfDocument(writer);    \n    Document doc = new Document(pdfDoc, PageSize.LETTER);\n    doc.setMargins(50, 50, 50, 50);\n\n    Paragraph paragraph = new Paragraph(&quot;Paragraph 1&quot;);\n    doc.add(paragraph);\n    showCurrentPosition(paragraph,doc);\n\n    paragraph = new Paragraph(&quot;Paragraph 2&quot;);\n    doc.add(paragraph);\n    showCurrentPosition(paragraph,doc);\n\n    doc.close();\n  }\n  \n  private void showCurrentPosition(AbstractElement&lt;?&gt; element, Document doc) {\n    IRenderer renderer = element.createRendererSubTree().setParent(doc.getRenderer());\n    LayoutResult layoutResult = renderer.layout(new LayoutContext(new LayoutArea(0, new Rectangle(595-72, 842-72))));\n    Rectangle bbox = layoutResult.getOccupiedArea().getBBox();\n    float x = bbox.getX();\n    float y = bbox.getY();\n    float width = bbox.getWidth();\n    float height = bbox.getWidth();\n    System.out.println(&quot;Current position is (&quot;+x+&quot;,&quot;+y+&quot;), width=&quot;+width+&quot;, height=&quot;+height);    \n  }\n  \n  public static void main(String[] args)\n  throws Exception {\n    new ITextTest().run();\n  }\n}\n</code></pre>\n<p>I am getting this output:</p>\n<pre><code>Current position is (0.0,744.018), width=523.0, height=523.0\nCurrent position is (0.0,744.018), width=523.0, height=523.0\n</code></pre>\n<p>The position should have changed after adding the second paragraph.</p>\n<p>Am I misunderstanding how this works?</p>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":1820003,"reputation":49625,"user_id":1654265,"accept_rate":93,"display_name":"Andrea Ligios"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1696351407,"creation_date":1696351407,"answer_id":77224127,"question_id":77224029,"body_markdown":"Support to HttpClient 4 has been [removed][1] in SpringBoot 3.1.\r\n\r\nYou need to migrate to HttpClient 5.\r\n\r\n&gt; Dependency Management for Apache HttpClient 4\r\n&gt; \r\n&gt; Support for Apache HttpClient 4 with RestTemplate was removed in Spring Framework 6, in favor of Apache HttpClient 5. Spring Boot 3.0 includes dependency management for both HttpClient 4 and 5. Applications that continue to use HttpClient 4 can experience errors when using RestTemplate that are difficult to diagnose.\r\n&gt; \r\n&gt; **Spring Boot 3.1 removes dependency management for HttpClient 4 to encourage users to move to HttpClient 5 instead**.\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-3.1-Release-Notes#dependency-management-for-apache-httpclient-4","title":"Springboot 3.x migration - cannot access HttpClient Error","body":"<p>Support to HttpClient 4 has been <a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-3.1-Release-Notes#dependency-management-for-apache-httpclient-4\" rel=\"nofollow noreferrer\">removed</a> in SpringBoot 3.1.</p>\n<p>You need to migrate to HttpClient 5.</p>\n<blockquote>\n<p>Dependency Management for Apache HttpClient 4</p>\n<p>Support for Apache HttpClient 4 with RestTemplate was removed in Spring Framework 6, in favor of Apache HttpClient 5. Spring Boot 3.0 includes dependency management for both HttpClient 4 and 5. Applications that continue to use HttpClient 4 can experience errors when using RestTemplate that are difficult to diagnose.</p>\n<p><strong>Spring Boot 3.1 removes dependency management for HttpClient 4 to encourage users to move to HttpClient 5 instead</strong>.</p>\n</blockquote>\n"}],"owner":{"account_id":7588318,"reputation":179,"user_id":5756695,"display_name":"CodeLearner"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":647,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":77224127,"answer_count":1,"score":-1,"last_activity_date":1696353197,"creation_date":1696350654,"question_id":77224029,"body_markdown":"I am migrating one of our application from ```springboot``` ```2.7.x``` to ```3.1.x``` and getting the below error while compiling the app\r\n\r\n```\r\nerror: cannot access HttpClient\r\nreturn new HttpComponentsClientHttpRequestFactory(httpclient);\r\n       ^\r\nclass file for org.apache.hc.client5.http.classic.HttpClient not found\r\n```\r\n\r\nThe class is ```A.java```\r\n\r\n```\r\n\r\nimport org.apache.http.impl.client.ClosableHttpClient;\r\n\r\n\r\n@Configuration\r\npublic class A {\r\n\r\n// other code blocks\r\n\r\n@Bean\r\n@DependsOn({&quot;httpclient&quot;})\r\npublic ClientHttpRequestFactory reqFactory(ClosableHttpClient httpClient){ \r\n    return new HttpComponentsClientHttpRequestFactory(httpClient);  ===&gt; The error line\r\n}\r\n```\r\nIntelliJ shown the error as RequiredType HttpClient, Provided ClosableHttpClient\r\n\r\n```build.gradle``` has only one library related to httpclient as below\r\n\r\n```\r\nimplementation &#39;org.apache.httpcomponents:httpclient:4.5.14\r\n```\r\n\r\nPlease let me know what is the equivalent library that supports for spring boot 3 and the corresponding package details to import\r\n\r\nAlso, I would like to know does it require rewriting the code? \r\n","title":"Springboot 3.x migration - cannot access HttpClient Error","body":"<p>I am migrating one of our application from <code>springboot</code> <code>2.7.x</code> to <code>3.1.x</code> and getting the below error while compiling the app</p>\n<pre><code>error: cannot access HttpClient\nreturn new HttpComponentsClientHttpRequestFactory(httpclient);\n       ^\nclass file for org.apache.hc.client5.http.classic.HttpClient not found\n</code></pre>\n<p>The class is <code>A.java</code></p>\n<pre><code>\nimport org.apache.http.impl.client.ClosableHttpClient;\n\n\n@Configuration\npublic class A {\n\n// other code blocks\n\n@Bean\n@DependsOn({&quot;httpclient&quot;})\npublic ClientHttpRequestFactory reqFactory(ClosableHttpClient httpClient){ \n    return new HttpComponentsClientHttpRequestFactory(httpClient);  ===&gt; The error line\n}\n</code></pre>\n<p>IntelliJ shown the error as RequiredType HttpClient, Provided ClosableHttpClient</p>\n<p><code>build.gradle</code> has only one library related to httpclient as below</p>\n<pre><code>implementation 'org.apache.httpcomponents:httpclient:4.5.14\n</code></pre>\n<p>Please let me know what is the equivalent library that supports for spring boot 3 and the corresponding package details to import</p>\n<p>Also, I would like to know does it require rewriting the code?</p>\n"},{"tags":["java","casting","arguments","type-declaration"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":4,"creation_date":1696347036,"post_id":77223608,"comment_id":136139590,"body_markdown":"That&#39;s a cast. https://www.w3schools.com/java/java_type_casting.asp","body":"That&#39;s a cast. <a href=\"https://www.w3schools.com/java/java_type_casting.asp\" rel=\"nofollow noreferrer\">w3schools.com/java/java_type_casting.asp</a>"},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1696347251,"post_id":77223608,"comment_id":136139635,"body_markdown":"And you tagged this question with &quot;casting&quot; so you already know that. What are you asking about exactly?","body":"And you tagged this question with &quot;casting&quot; so you already know that. What are you asking about exactly?"},{"owner":{"account_id":12024322,"reputation":49,"user_id":8796778,"display_name":"jmc"},"score":0,"creation_date":1696347273,"post_id":77223608,"comment_id":136139642,"body_markdown":"Syntactically, why does this compile when I use `.equals_helper((LinkedListDeque) o)` and not `.equals_helper(LinkedListDeque o)`? Throws a `java: &#39;)&#39; or &#39;,&#39; expected` error.","body":"Syntactically, why does this compile when I use <code>.equals_helper((LinkedListDeque) o)</code> and not <code>.equals_helper(LinkedListDeque o)</code>? Throws a <code>java: &#39;)&#39; or &#39;,&#39; expected</code> error."},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":2,"creation_date":1696347301,"post_id":77223608,"comment_id":136139650,"body_markdown":"Because `.equals_helper(LinkedListDeque o)` is not valid java syntax. Simple as that.","body":"Because <code>.equals_helper(LinkedListDeque o)</code> is not valid java syntax. Simple as that."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":1,"creation_date":1696347376,"post_id":77223608,"comment_id":136139671,"body_markdown":"Because `o` is type `Object`, so you can&#39;t pass it to `equals_helper`.  `LinkedListDeque` is a type of `Object`, but `Object` is not (always) a type of `LinkedListDeque`.","body":"Because <code>o</code> is type <code>Object</code>, so you can&#39;t pass it to <code>equals_helper</code>.  <code>LinkedListDeque</code> is a type of <code>Object</code>, but <code>Object</code> is not (always) a type of <code>LinkedListDeque</code>."},{"owner":{"account_id":12024322,"reputation":49,"user_id":8796778,"display_name":"jmc"},"score":0,"creation_date":1696347458,"post_id":77223608,"comment_id":136139695,"body_markdown":"Ok, this is narrowing casting from that w3schools link, and the parentheses do it automatically, and it&#39;s not specifically syntax for method arguments.","body":"Ok, this is narrowing casting from that w3schools link, and the parentheses do it automatically, and it&#39;s not specifically syntax for method arguments."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":1,"creation_date":1696347543,"post_id":77223608,"comment_id":136139712,"body_markdown":"No, not a specific syntax for method calls.  You could add a line `LinkedListDeque list = (LinkedListDeque) o;` and then pass that to the `equals_helper` method, that would also do the same thing.","body":"No, not a specific syntax for method calls.  You could add a line <code>LinkedListDeque list = (LinkedListDeque) o;</code> and then pass that to the <code>equals_helper</code> method, that would also do the same thing."},{"owner":{"account_id":12024322,"reputation":49,"user_id":8796778,"display_name":"jmc"},"score":0,"creation_date":1696347615,"post_id":77223608,"comment_id":136139726,"body_markdown":"Great, thanks!  .","body":"Great, thanks!  ."}],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1696349477,"creation_date":1696349477,"answer_id":77223896,"question_id":77223608,"body_markdown":"Since the argument to `equals` is of type `Object` you need to cast it to the type that you want to use. Otherwise, it could be a different type. In this case `LinkedListDeque`.  But as of Java 14, you can do it as follows:\r\n```\r\npublic boolean equals(Object o) {\r\n    if (o instanceof LinkedListDeque lld)) {\r\n       return this.equals_helper(lld);\r\n    }\r\n    return false;\r\n}\r\n```\r\nIf the `instanceof` returns true, it is automatically cast to the correct type and placed in `lld` which may then be used.  No explicit casting is required.\r\n\r\nNote: You should first check to see if the objects are the same. `if(this == obj) return true;`\r\n\r\nAnd it&#39;s a good habit to also override `hashCode` when you override equals.\r\n","title":"Java method arguments: type declaration in parentheses?","body":"<p>Since the argument to <code>equals</code> is of type <code>Object</code> you need to cast it to the type that you want to use. Otherwise, it could be a different type. In this case <code>LinkedListDeque</code>.  But as of Java 14, you can do it as follows:</p>\n<pre><code>public boolean equals(Object o) {\n    if (o instanceof LinkedListDeque lld)) {\n       return this.equals_helper(lld);\n    }\n    return false;\n}\n</code></pre>\n<p>If the <code>instanceof</code> returns true, it is automatically cast to the correct type and placed in <code>lld</code> which may then be used.  No explicit casting is required.</p>\n<p>Note: You should first check to see if the objects are the same. <code>if(this == obj) return true;</code></p>\n<p>And it's a good habit to also override <code>hashCode</code> when you override equals.</p>\n"},{"tags":[],"owner":{"account_id":29456424,"reputation":11,"user_id":22572198,"display_name":"Himanshu Gupta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696352854,"creation_date":1696352854,"answer_id":77224262,"question_id":77223608,"body_markdown":"I think you might have mistyped one thing in your question. \r\nWhen you say: \r\n**When I first wrote the equals_helper method, I left out the parentheses in the type declaration**\r\n\r\nand then you mention \r\n**The IDE suggested that I put a parentheses around the type declaration (i.e. equals_helper(LinkedListDeque o) to equals_helper((LinkedListDeque) o))**\r\n\r\nSo, what I see **equals_helper((LinkedListDeque) o))** is not part of equals_helper method but when you are invoking equals_helper method inside **equals** method. (**equals_helper(LinkedListDeque L)** is the declaration of helper method with parameter name L and not O).\r\n\r\nSo, maybe you generally mean your overall equals/equals_helper logic.\r\n\r\nAssuming you are talking about invoking equals_helper method inside equals:\r\nthis.equals_helper((LinkedListDeque) o)\r\nand your question is about the parentheses up there. . . As WJS already answered... \r\n\r\nAs you see your equals method declaration: \r\n\r\n**public boolean equals(Object o)**\r\n\r\no is an object of Class Object. equal_helper method expects an argument of type  LinkedListDeque or its sub class. Since you already validated &quot;o instanceof LinkedListDeque&quot; you are good to cast it to LinkedListDeque and that is how you cast an object to a type(putting the type in parentheses in front/left of object variable). \r\n\r\n\r\nTo answer your &quot;**What is this concept called, am I applying it correctly in the context of Java OOP principles, and is there a better way to do this?**&quot; part. I would recommend going through the book **CoreJava Volume 1** topic **5.2.2 The equals Method** There are whole set of guidelines for righting equals method more efficiently and the casting is also discussed there in more detail. I am mentioning some of it here.\r\n\r\nyou can include a null pointer check\r\nif (o == null) return false;\r\n\r\na quick reference check\r\nif (this == o) return true;\r\n\r\nif you want comparision between objects of LinkedListDeque and not of sub type you can use getClass() method\r\nif (getClass()!=o.getClass()) return false\r\n\r\nnote that you&#39;re using instance of operator which works one way or downstream and it will not hold the symmetry:\r\n\r\nLet&#39;s assume A is a class where equals is defined. B extends A.\r\nIn equals method defined inside a the check is - **o instance of A** \r\nlet&#39;s say a is an object of A, b is an object of B. The result of instanceof operator will hold true for a.equals(b) but will be false for b.equals(a) hence  no symmetry in outcome. To avoid that you can use getClass() that will make a.equals(b) false as well and will only hold true when both objects are either of type A or B. \r\n\r\nQuoting from the book: **5.2.3 Equality Testing and inheritance**\r\nThe java language specification requires that the Equals method has following properties:\r\nIt is reflexive. . .\r\nsymmetric, transtive, consistent.\r\n\r\n\r\nBut that is up to your requirements :)","title":"Java method arguments: type declaration in parentheses?","body":"<p>I think you might have mistyped one thing in your question.\nWhen you say:\n<strong>When I first wrote the equals_helper method, I left out the parentheses in the type declaration</strong></p>\n<p>and then you mention\n<strong>The IDE suggested that I put a parentheses around the type declaration (i.e. equals_helper(LinkedListDeque o) to equals_helper((LinkedListDeque) o))</strong></p>\n<p>So, what I see <strong>equals_helper((LinkedListDeque) o))</strong> is not part of equals_helper method but when you are invoking equals_helper method inside <strong>equals</strong> method. (<strong>equals_helper(LinkedListDeque L)</strong> is the declaration of helper method with parameter name L and not O).</p>\n<p>So, maybe you generally mean your overall equals/equals_helper logic.</p>\n<p>Assuming you are talking about invoking equals_helper method inside equals:\nthis.equals_helper((LinkedListDeque) o)\nand your question is about the parentheses up there. . . As WJS already answered...</p>\n<p>As you see your equals method declaration:</p>\n<p><strong>public boolean equals(Object o)</strong></p>\n<p>o is an object of Class Object. equal_helper method expects an argument of type  LinkedListDeque or its sub class. Since you already validated &quot;o instanceof LinkedListDeque&quot; you are good to cast it to LinkedListDeque and that is how you cast an object to a type(putting the type in parentheses in front/left of object variable).</p>\n<p>To answer your &quot;<strong>What is this concept called, am I applying it correctly in the context of Java OOP principles, and is there a better way to do this?</strong>&quot; part. I would recommend going through the book <strong>CoreJava Volume 1</strong> topic <strong>5.2.2 The equals Method</strong> There are whole set of guidelines for righting equals method more efficiently and the casting is also discussed there in more detail. I am mentioning some of it here.</p>\n<p>you can include a null pointer check\nif (o == null) return false;</p>\n<p>a quick reference check\nif (this == o) return true;</p>\n<p>if you want comparision between objects of LinkedListDeque and not of sub type you can use getClass() method\nif (getClass()!=o.getClass()) return false</p>\n<p>note that you're using instance of operator which works one way or downstream and it will not hold the symmetry:</p>\n<p>Let's assume A is a class where equals is defined. B extends A.\nIn equals method defined inside a the check is - <strong>o instance of A</strong>\nlet's say a is an object of A, b is an object of B. The result of instanceof operator will hold true for a.equals(b) but will be false for b.equals(a) hence  no symmetry in outcome. To avoid that you can use getClass() that will make a.equals(b) false as well and will only hold true when both objects are either of type A or B.</p>\n<p>Quoting from the book: <strong>5.2.3 Equality Testing and inheritance</strong>\nThe java language specification requires that the Equals method has following properties:\nIt is reflexive. . .\nsymmetric, transtive, consistent.</p>\n<p>But that is up to your requirements :)</p>\n"}],"owner":{"account_id":12024322,"reputation":49,"user_id":8796778,"display_name":"jmc"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77223896,"answer_count":2,"score":1,"last_activity_date":1696352854,"creation_date":1696346813,"question_id":77223608,"body_markdown":"I&#39;m implementing a `LinkedListDeque` data structure. I&#39;ve written an `equals` method and a helper that:\r\n\r\n1. Checks if object `o` is an instance of class `LinkedListDeque`. If true,\r\n2. Checks if each node in `o` is equal to the nodes in `this` deque.\r\n\r\nI wrote a helper because I needed a way to do the comparison operation in `2` between two `LinkedListDeque` objects and not between the `this` deque and the `o` `object`. When I first wrote the equals_helper method, I left out the parentheses in the type declaration. Tested, didn&#39;t work. The IDE suggested that I put a parentheses around the type declaration (i.e. `equals_helper(LinkedListDeque o)` to `equals_helper((LinkedListDeque) o)`), and *that* worked.\r\n\r\nI&#39;ve tried to find some documentation on what I&#39;m doing here, but I don&#39;t have the background knowledge to know what I&#39;m searching for. **What is this concept called, am I applying it correctly in the context of Java OOP principles, and is there a better way to do this?**\r\n\r\n```\r\npublic boolean equals(Object o) {\r\n    if (!(o instanceof LinkedListDeque)) {\r\n        return false;\r\n    } else {\r\n        return this.equals_helper((LinkedListDeque) o);\r\n    }\r\n}\r\n\r\npublic boolean equals_helper(LinkedListDeque L) {\r\n    if (L.size() != this.size()) {\r\n        return false;\r\n    } else {\r\n        Node orig_curr = sentinel.next;\r\n        Node curr = L.sentinel.next;\r\n        while (orig_curr.item != null || curr.item != null) {\r\n            if (orig_curr.item == curr.item) {\r\n                curr = curr.next;\r\n                orig_curr = orig_curr.next;\r\n            } else return curr.next.item == null &amp;&amp; orig_curr.next.item == null;\r\n        }\r\n    }\r\n    return true;\r\n}\r\n```","title":"Java method arguments: type declaration in parentheses?","body":"<p>I'm implementing a <code>LinkedListDeque</code> data structure. I've written an <code>equals</code> method and a helper that:</p>\n<ol>\n<li>Checks if object <code>o</code> is an instance of class <code>LinkedListDeque</code>. If true,</li>\n<li>Checks if each node in <code>o</code> is equal to the nodes in <code>this</code> deque.</li>\n</ol>\n<p>I wrote a helper because I needed a way to do the comparison operation in <code>2</code> between two <code>LinkedListDeque</code> objects and not between the <code>this</code> deque and the <code>o</code> <code>object</code>. When I first wrote the equals_helper method, I left out the parentheses in the type declaration. Tested, didn't work. The IDE suggested that I put a parentheses around the type declaration (i.e. <code>equals_helper(LinkedListDeque o)</code> to <code>equals_helper((LinkedListDeque) o)</code>), and <em>that</em> worked.</p>\n<p>I've tried to find some documentation on what I'm doing here, but I don't have the background knowledge to know what I'm searching for. <strong>What is this concept called, am I applying it correctly in the context of Java OOP principles, and is there a better way to do this?</strong></p>\n<pre><code>public boolean equals(Object o) {\n    if (!(o instanceof LinkedListDeque)) {\n        return false;\n    } else {\n        return this.equals_helper((LinkedListDeque) o);\n    }\n}\n\npublic boolean equals_helper(LinkedListDeque L) {\n    if (L.size() != this.size()) {\n        return false;\n    } else {\n        Node orig_curr = sentinel.next;\n        Node curr = L.sentinel.next;\n        while (orig_curr.item != null || curr.item != null) {\n            if (orig_curr.item == curr.item) {\n                curr = curr.next;\n                orig_curr = orig_curr.next;\n            } else return curr.next.item == null &amp;&amp; orig_curr.next.item == null;\n        }\n    }\n    return true;\n}\n</code></pre>\n"},{"tags":["java","spring-boot","spring-oauth2"],"answers":[{"tags":[],"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696352780,"creation_date":1696352191,"answer_id":77224195,"question_id":77222406,"body_markdown":"You can define a registration for each &quot;login profile&quot; you need:\r\n```yaml\r\nspring:\r\n  security:\r\n    oauth2:\r\n      client:\r\n        provider:\r\n          my-provider:\r\n            authorizationUri: https://somehost.com/oauth\r\n            userInfoUri: https://somehost.com/data\r\n            tokenUri: https://somehost.com/oauth/token\r\n            redirectUri: https://somehost.com/oauth\r\n            authorizationGrantType: authorization_code\r\n            clientAuthenticationMethod: client_secret_post\r\n        registration:\r\n          reagistration-a:\r\n            provider: my-provider\r\n            clientId: client1\r\n            clientSecret: some-password\r\n            scope:\r\n            - openid\r\n            - profile\r\n            - email\r\n            - offline_access\r\n            - roles\r\n          reagistration-b:\r\n            provider: my-provider\r\n            clientId: client1\r\n            clientSecret: some-password\r\n            scope:\r\n            - openid\r\n            - offline_access\r\n            - whatever-scope\r\n```\r\n\r\nThen the frontend initiates the `authorization_code` flow by redirecting at the right URI: `/oauth2/authorization/{registration-id}` (sets a path value instead of the value of the request param you call scope)","title":"How do I create a custom redirect controller for Spring Boot 2 using OAuth2 client with different scopes?","body":"<p>You can define a registration for each &quot;login profile&quot; you need:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring:\n  security:\n    oauth2:\n      client:\n        provider:\n          my-provider:\n            authorizationUri: https://somehost.com/oauth\n            userInfoUri: https://somehost.com/data\n            tokenUri: https://somehost.com/oauth/token\n            redirectUri: https://somehost.com/oauth\n            authorizationGrantType: authorization_code\n            clientAuthenticationMethod: client_secret_post\n        registration:\n          reagistration-a:\n            provider: my-provider\n            clientId: client1\n            clientSecret: some-password\n            scope:\n            - openid\n            - profile\n            - email\n            - offline_access\n            - roles\n          reagistration-b:\n            provider: my-provider\n            clientId: client1\n            clientSecret: some-password\n            scope:\n            - openid\n            - offline_access\n            - whatever-scope\n</code></pre>\n<p>Then the frontend initiates the <code>authorization_code</code> flow by redirecting at the right URI: <code>/oauth2/authorization/{registration-id}</code> (sets a path value instead of the value of the request param you call scope)</p>\n"}],"owner":{"account_id":9741284,"reputation":1,"user_id":7933652,"display_name":"3rr0r 404"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696352780,"creation_date":1696337297,"question_id":77222406,"body_markdown":"My question is kinda unusual, I am struggling with creating a custom `@RestController` that initiates an OAuth2 login process for my application with different scope each time?\r\n\r\nMore specifically I have an example configuration like this:\r\n\r\n```yaml\r\nspring:\r\n  security:\r\n    oauth2:\r\n      client:\r\n        registration:\r\n          my-client:\r\n            clientId: client1\r\n            clientSecret: some-password\r\n            // Basic the property `scope` is not provided here, but in the controller\r\n        provider:\r\n          my-client:\r\n            authorizationUri: https://somehost.com/oauth\r\n            userInfoUri: https://somehost.com/data\r\n            tokenUri: https://somehost.com/oauth/token\r\n            redirectUri: https://somehost.com/oauth\r\n            authorizationGrantType: authorization_code\r\n            clientAuthenticationMethod: client_secret_post\r\n```\r\n\r\nWhat I want to create is an API Endpoint that acts as a proxy endpoint to move the user to the login page based on the `scope` provided.\r\n\r\n```java\r\n@GetMapping(path=&quot;/redirect-to-login&quot;)\r\npublic ResponseEntity&lt;?&gt; proxyLogin(@RequestParam(&quot;scope&quot;) final String scope) {\r\n log.info(&quot;Received scope: {}&quot;, scope);\r\n // TODO: What needs to happen here, is that I need to generate a new login here\r\n // TODO: for the requested OAuth2 Client scope and redirect the user to the login page of\r\n // TODO: the provider with the scope.\r\n}\r\n```\r\n\r\nI tried to receive all the client registrations for the `OAuth2ClientRegistrationRepository` and try to extend it to provide the scope there, but I was unable to figure it out.","title":"How do I create a custom redirect controller for Spring Boot 2 using OAuth2 client with different scopes?","body":"<p>My question is kinda unusual, I am struggling with creating a custom <code>@RestController</code> that initiates an OAuth2 login process for my application with different scope each time?</p>\n<p>More specifically I have an example configuration like this:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring:\n  security:\n    oauth2:\n      client:\n        registration:\n          my-client:\n            clientId: client1\n            clientSecret: some-password\n            // Basic the property `scope` is not provided here, but in the controller\n        provider:\n          my-client:\n            authorizationUri: https://somehost.com/oauth\n            userInfoUri: https://somehost.com/data\n            tokenUri: https://somehost.com/oauth/token\n            redirectUri: https://somehost.com/oauth\n            authorizationGrantType: authorization_code\n            clientAuthenticationMethod: client_secret_post\n</code></pre>\n<p>What I want to create is an API Endpoint that acts as a proxy endpoint to move the user to the login page based on the <code>scope</code> provided.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@GetMapping(path=&quot;/redirect-to-login&quot;)\npublic ResponseEntity&lt;?&gt; proxyLogin(@RequestParam(&quot;scope&quot;) final String scope) {\n log.info(&quot;Received scope: {}&quot;, scope);\n // TODO: What needs to happen here, is that I need to generate a new login here\n // TODO: for the requested OAuth2 Client scope and redirect the user to the login page of\n // TODO: the provider with the scope.\n}\n</code></pre>\n<p>I tried to receive all the client registrations for the <code>OAuth2ClientRegistrationRepository</code> and try to extend it to provide the scope there, but I was unable to figure it out.</p>\n"},{"tags":["java","apache-camel","jms","activemq"],"answers":[{"tags":[],"owner":{"account_id":1901420,"reputation":3763,"user_id":1717210,"display_name":"TacheDeChoco"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1531379974,"creation_date":1531379974,"answer_id":51299490,"question_id":51293361,"body_markdown":"In the latest versions of ActiveMQ (eg Artemis), there is a way to define different expiry address (depending on regex on queue name):\r\n\r\n    &lt;address-setting match=&quot;com.company.demo.MyQueue&quot;&gt;\r\n       &lt;expiry-address&gt;com.company.demo.EXP.MyQueue&lt;/expiry-address&gt;\r\n    &lt;/address-setting&gt;\r\n\r\nMore info at:\r\nhttps://activemq.apache.org/artemis/docs/latest/message-expiry.html","title":"How can I configure an activemq queue to not use the default dead letter queue for expired messages","body":"<p>In the latest versions of ActiveMQ (eg Artemis), there is a way to define different expiry address (depending on regex on queue name):</p>\n\n<pre><code>&lt;address-setting match=\"com.company.demo.MyQueue\"&gt;\n   &lt;expiry-address&gt;com.company.demo.EXP.MyQueue&lt;/expiry-address&gt;\n&lt;/address-setting&gt;\n</code></pre>\n\n<p>More info at:\n<a href=\"https://activemq.apache.org/artemis/docs/latest/message-expiry.html\" rel=\"nofollow noreferrer\">https://activemq.apache.org/artemis/docs/latest/message-expiry.html</a></p>\n"},{"tags":[],"owner":{"account_id":10933061,"reputation":6811,"user_id":8035582,"accept_rate":100,"display_name":"burki"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1531465769,"creation_date":1531465769,"answer_id":51319532,"question_id":51293361,"body_markdown":"The [page you mention](http://activemq.apache.org/message-redelivery-and-dlq-handling.html) explains how to configure the DLQs in the broker configuration.\r\n\r\nFor example this configuration taken from the mentioned page configures the broker so that a non-deliverable message of a queue named `MyMessageQueue` goes to  **`DLQ.MyMessageQueue` instead of the standard `ActiveMQ.DLQ`**\r\n\r\n    &lt;destinationPolicy&gt;\r\n    &lt;policyMap&gt;\r\n      &lt;policyEntries&gt;\r\n        &lt;policyEntry queue=&quot;&gt;&quot;&gt;\r\n          &lt;deadLetterStrategy&gt;\r\n            &lt;individualDeadLetterStrategy queuePrefix=&quot;DLQ.&quot; useQueueForQueueMessages=&quot;true&quot;/&gt;\r\n          &lt;/deadLetterStrategy&gt;\r\n        &lt;/policyEntry&gt;\r\n      &lt;/policyEntries&gt;\r\n    &lt;/policyMap&gt;\r\n    &lt;/destinationPolicy&gt;\r\n\r\nProbably not very clear is the **destination wildcard** `queue=&quot;&gt;&quot;` that means &quot;all queues&quot;. See [this page](http://activemq.apache.org/wildcards.html) for an explanation of these wildcards.\r\n\r\n&gt; Due to the fact that destination configuration is done with help of these wildcards, it is advisable to **name your queues and topics in a way that allows you &quot;group&quot; destinations** with special configuration needs with such wildcards. ","title":"How can I configure an activemq queue to not use the default dead letter queue for expired messages","body":"<p>The <a href=\"http://activemq.apache.org/message-redelivery-and-dlq-handling.html\" rel=\"nofollow noreferrer\">page you mention</a> explains how to configure the DLQs in the broker configuration.</p>\n\n<p>For example this configuration taken from the mentioned page configures the broker so that a non-deliverable message of a queue named <code>MyMessageQueue</code> goes to  <strong><code>DLQ.MyMessageQueue</code> instead of the standard <code>ActiveMQ.DLQ</code></strong></p>\n\n<pre><code>&lt;destinationPolicy&gt;\n&lt;policyMap&gt;\n  &lt;policyEntries&gt;\n    &lt;policyEntry queue=\"&gt;\"&gt;\n      &lt;deadLetterStrategy&gt;\n        &lt;individualDeadLetterStrategy queuePrefix=\"DLQ.\" useQueueForQueueMessages=\"true\"/&gt;\n      &lt;/deadLetterStrategy&gt;\n    &lt;/policyEntry&gt;\n  &lt;/policyEntries&gt;\n&lt;/policyMap&gt;\n&lt;/destinationPolicy&gt;\n</code></pre>\n\n<p>Probably not very clear is the <strong>destination wildcard</strong> <code>queue=\"&gt;\"</code> that means \"all queues\". See <a href=\"http://activemq.apache.org/wildcards.html\" rel=\"nofollow noreferrer\">this page</a> for an explanation of these wildcards.</p>\n\n<blockquote>\n  <p>Due to the fact that destination configuration is done with help of these wildcards, it is advisable to <strong>name your queues and topics in a way that allows you \"group\" destinations</strong> with special configuration needs with such wildcards. </p>\n</blockquote>\n"}],"owner":{"account_id":7154797,"reputation":89,"user_id":5467640,"accept_rate":83,"display_name":"Mimi.O"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4698,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1696352423,"creation_date":1531339123,"question_id":51293361,"body_markdown":"I am trying to implement a strategy where when messages in an activemq queue expire, instead of being moved to the default dead letter queue ActiveMQ.DLQ, they will go another dead letter queue. \r\n\r\nMy application uses camel-context for routing and bean definition. I have looked at http://activemq.apache.org/message-redelivery-and-dlq-handling.html and I am not sure how to implement the individualDeadLetterStrategy. \r\n\r\nI thought to try creating a Redelivery Policy bean and add that to my connection factory but I don&#39;t see a property for dead letter strategy here http://activemq.apache.org/redelivery-policy.html\r\n\r\nI also considered using an error handler but my use case is not an error scenario.\r\n\r\nMy question is how do I configure/specify a dead-letter-queue for an individual queue. \r\n\r\nI have configured my application to produce to the queue like this\r\n\r\n            &lt;route id=&quot;myRoute&quot;&gt;\r\n    \t\t\t&lt;from uri=&quot;direct:insertToQueue&quot; /&gt;\r\n    \t\t\t&lt;doTry&gt;\r\n    \t\t\t\t&lt;bean ref=&quot;processorBean&quot; method=&quot;getQueueRequest&quot;/&gt;\r\n    \t\t\t\t&lt;to uri=&quot;activemqProducer:queue:myQueue&quot; /&gt;\r\n    \t\t\t\t&lt;doCatch&gt;\r\n    \t\t\t\t\t&lt;exception&gt;java.lang.Exception&lt;/exception&gt;\r\n    \t\t\t\t\t&lt;handled&gt;\r\n    \t\t\t\t\t\t&lt;constant&gt;true&lt;/constant&gt;\r\n    \t\t\t\t\t&lt;/handled&gt;\r\n    \t\t\t\t\t&lt;bean method=&quot;getExceptionResponse&quot; ref=&quot;processorBean&quot; /&gt;\r\n    \t\t\t\t&lt;/doCatch&gt;\r\n    \t\t\t&lt;/doTry&gt;\r\n    \t\t&lt;/route&gt;\r\n\r\nthe activemq component, &quot;activemqProducer&quot; is defined like this:\r\n\r\n        &lt;bean id=&quot;activemqProducer&quot; class=&quot;org.apache.activemq.camel.component.ActiveMQComponent&quot;&gt;\r\n    \t\t&lt;property name=&quot;configuration&quot; ref=&quot;jmsConfigProducer&quot;/&gt;\r\n    \t&lt;/bean&gt;\r\n\t\t\r\n\t\t&lt;bean id=&quot;jmsConfigProducer&quot; class=&quot;org.apache.camel.component.jms.JmsConfiguration&quot; scope=&quot;prototype&quot;&gt;\r\n    \t\t&lt;property name=&quot;connectionFactory&quot; ref=&quot;jmsFactoryProducer&quot;/&gt;\r\n    \t\t&lt;property name=&quot;transacted&quot; value=&quot;false&quot;/&gt;\r\n    \t\t&lt;property name=&quot;deliveryPersistent&quot; value=&quot;true&quot;/&gt;\r\n    \t\t&lt;property name=&quot;timeToLive&quot; value=&quot;5000&quot;/&gt;\r\n    \t&lt;/bean&gt;\r\n\t\t\r\n\t\t&lt;bean id=&quot;jmsFactoryProducer&quot; class=&quot;org.apache.activemq.pool.PooledConnectionFactory&quot;\r\n    \t\t  init-method=&quot;start&quot; destroy-method=&quot;stop&quot; scope=&quot;prototype&quot;&gt;\r\n    \t\t&lt;property name=&quot;connectionFactory&quot; ref=&quot;jmsConnectionFactory&quot; /&gt;\r\n    \t\t&lt;property name=&quot;maxConnections&quot; value=&quot;${jms.maximum.connection}&quot; /&gt;\r\n    \t\t&lt;property name=&quot;maximumActiveSessionPerConnection&quot; value=&quot;${jms.maximum.active}&quot; /&gt;\r\n    \t&lt;/bean&gt;\r\n\t\t\r\n\t\t&lt;bean id =&quot;jmsConnectionFactory&quot; class=&quot;org.apache.activemq.ActiveMQConnectionFactory&quot;&gt;\r\n    \t\t&lt;property name=&quot;brokerURL&quot;&gt;&lt;value&gt;${message.broker}&lt;/value&gt;&lt;/property&gt;\r\n    \t\t&lt;property name=&quot;userName&quot;&gt;&lt;value&gt;${message.broker.username}&lt;/value&gt;&lt;/property&gt;\r\n    \t\t&lt;property name=&quot;password&quot;&gt;&lt;value&gt;${message.broker.password}&lt;/value&gt;&lt;/property&gt;\r\n    \t\t&lt;property name=&quot;optimizeAcknowledge&quot; value=&quot;true&quot;/&gt;\r\n    \t  \r\n    \t\t&lt;property name=&quot;useAsyncSend&quot; value=&quot;true&quot; /&gt;\r\n    \t&lt;/bean&gt;\r\n\r\nHow can I include configurations for an individual dead letter queue for myQueue. If thats not possible, then how can I tell activemq to keep expired messages in myQueue\r\n\r\n\r\n","title":"How can I configure an activemq queue to not use the default dead letter queue for expired messages","body":"<p>I am trying to implement a strategy where when messages in an activemq queue expire, instead of being moved to the default dead letter queue ActiveMQ.DLQ, they will go another dead letter queue. </p>\n\n<p>My application uses camel-context for routing and bean definition. I have looked at <a href=\"http://activemq.apache.org/message-redelivery-and-dlq-handling.html\" rel=\"nofollow noreferrer\">http://activemq.apache.org/message-redelivery-and-dlq-handling.html</a> and I am not sure how to implement the individualDeadLetterStrategy. </p>\n\n<p>I thought to try creating a Redelivery Policy bean and add that to my connection factory but I don't see a property for dead letter strategy here <a href=\"http://activemq.apache.org/redelivery-policy.html\" rel=\"nofollow noreferrer\">http://activemq.apache.org/redelivery-policy.html</a></p>\n\n<p>I also considered using an error handler but my use case is not an error scenario.</p>\n\n<p>My question is how do I configure/specify a dead-letter-queue for an individual queue. </p>\n\n<p>I have configured my application to produce to the queue like this</p>\n\n<pre><code>        &lt;route id=\"myRoute\"&gt;\n            &lt;from uri=\"direct:insertToQueue\" /&gt;\n            &lt;doTry&gt;\n                &lt;bean ref=\"processorBean\" method=\"getQueueRequest\"/&gt;\n                &lt;to uri=\"activemqProducer:queue:myQueue\" /&gt;\n                &lt;doCatch&gt;\n                    &lt;exception&gt;java.lang.Exception&lt;/exception&gt;\n                    &lt;handled&gt;\n                        &lt;constant&gt;true&lt;/constant&gt;\n                    &lt;/handled&gt;\n                    &lt;bean method=\"getExceptionResponse\" ref=\"processorBean\" /&gt;\n                &lt;/doCatch&gt;\n            &lt;/doTry&gt;\n        &lt;/route&gt;\n</code></pre>\n\n<p>the activemq component, \"activemqProducer\" is defined like this:</p>\n\n<pre><code>    &lt;bean id=\"activemqProducer\" class=\"org.apache.activemq.camel.component.ActiveMQComponent\"&gt;\n        &lt;property name=\"configuration\" ref=\"jmsConfigProducer\"/&gt;\n    &lt;/bean&gt;\n\n    &lt;bean id=\"jmsConfigProducer\" class=\"org.apache.camel.component.jms.JmsConfiguration\" scope=\"prototype\"&gt;\n        &lt;property name=\"connectionFactory\" ref=\"jmsFactoryProducer\"/&gt;\n        &lt;property name=\"transacted\" value=\"false\"/&gt;\n        &lt;property name=\"deliveryPersistent\" value=\"true\"/&gt;\n        &lt;property name=\"timeToLive\" value=\"5000\"/&gt;\n    &lt;/bean&gt;\n\n    &lt;bean id=\"jmsFactoryProducer\" class=\"org.apache.activemq.pool.PooledConnectionFactory\"\n          init-method=\"start\" destroy-method=\"stop\" scope=\"prototype\"&gt;\n        &lt;property name=\"connectionFactory\" ref=\"jmsConnectionFactory\" /&gt;\n        &lt;property name=\"maxConnections\" value=\"${jms.maximum.connection}\" /&gt;\n        &lt;property name=\"maximumActiveSessionPerConnection\" value=\"${jms.maximum.active}\" /&gt;\n    &lt;/bean&gt;\n\n    &lt;bean id =\"jmsConnectionFactory\" class=\"org.apache.activemq.ActiveMQConnectionFactory\"&gt;\n        &lt;property name=\"brokerURL\"&gt;&lt;value&gt;${message.broker}&lt;/value&gt;&lt;/property&gt;\n        &lt;property name=\"userName\"&gt;&lt;value&gt;${message.broker.username}&lt;/value&gt;&lt;/property&gt;\n        &lt;property name=\"password\"&gt;&lt;value&gt;${message.broker.password}&lt;/value&gt;&lt;/property&gt;\n        &lt;property name=\"optimizeAcknowledge\" value=\"true\"/&gt;\n\n        &lt;property name=\"useAsyncSend\" value=\"true\" /&gt;\n    &lt;/bean&gt;\n</code></pre>\n\n<p>How can I include configurations for an individual dead letter queue for myQueue. If thats not possible, then how can I tell activemq to keep expired messages in myQueue</p>\n"},{"tags":["java","spring-boot","configurationproperties"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1696318829,"post_id":77220346,"comment_id":136134146,"body_markdown":"Youa ren&#39;t using spring boot to launch the application. You need to use `SpringApplication.run(MainEntry.class, args);` to start the application. The configuration binding is a Spring Boot feature, without using the proper mechanisms this won&#39;t work.","body":"Youa ren&#39;t using spring boot to launch the application. You need to use <code>SpringApplication.run(MainEntry.class, args);</code> to start the application. The configuration binding is a Spring Boot feature, without using the proper mechanisms this won&#39;t work."}],"answers":[{"tags":[],"owner":{"account_id":6712897,"reputation":359,"user_id":5175699,"accept_rate":7,"display_name":"leo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696352240,"creation_date":1696352240,"answer_id":77224201,"question_id":77220346,"body_markdown":"Thank you @M.Deinum. changing main class as below solved the problem\r\n\r\n    public class MainEntry  {\r\n        public static void main(String[] args)\r\n        {\r\n    AnnotationConfigApplicationContext(MainEntry.class);\r\n          ConfigurableApplicationContext context = SpringApplication.run(MainEntry.class, args);\r\n          MyClass myClass = context.getBean(MyClass.class);\r\n          myClass.printInfo();\r\n          context.close();\r\n        }","title":"@ConfigurationProperties(prefix=&quot;app-props&quot;) is not working in spring-boot","body":"<p>Thank you @M.Deinum. changing main class as below solved the problem</p>\n<pre><code>public class MainEntry  {\n    public static void main(String[] args)\n    {\nAnnotationConfigApplicationContext(MainEntry.class);\n      ConfigurableApplicationContext context = SpringApplication.run(MainEntry.class, args);\n      MyClass myClass = context.getBean(MyClass.class);\n      myClass.printInfo();\n      context.close();\n    }\n</code></pre>\n"}],"owner":{"account_id":6712897,"reputation":359,"user_id":5175699,"accept_rate":7,"display_name":"leo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696352240,"creation_date":1696317557,"question_id":77220346,"body_markdown":"application.yaml\r\n\r\n    app-props:\r\n      uuidMap:\r\n        customerId: &quot;af241470-7a1a-41b9-8861-33c37069b8f2&quot;\r\n        resourceId: &quot;213e8652-bb34-4709-bc4b-a3ad1587f619&quot;\r\n\r\nAppProps class:\r\n\r\n    @Component\r\n    @ConfigurationProperties(prefix=&quot;app-props&quot;)\r\n    public class AppProps\r\n    {\r\n      private Map&lt;String, String&gt; uuidMap;\r\n    \r\n      public Map&lt;String, String&gt; getUuidMap() {\r\n        return uuidMap;\r\n      }\r\n    \r\n      public void setUuidMap(Map&lt;String, String&gt; uuidMap) {\r\n        this.uuidMap = uuidMap;\r\n      }\r\n    }\r\n\r\nMyClass:\r\n\r\n    @Component\r\n    public class MyClass\r\n    {\r\n      @Autowired\r\n      private AppProps appProps;\r\n    \r\n      public void printInfo()\r\n      {\r\n        Map&lt;String, String&gt; uuidMap = appProps.getUuidMap();\r\n        String customerId = uuidMap.get(&quot;customerId&quot;);\r\n        System.out.println(customerId);\r\n      }\r\n    }\r\n\r\nMain class\r\n\r\n    @SpringBootApplication\r\n    @EnableConfigurationProperties\r\n    public class MainEntry  {\r\n        public static void main(String[] args)\r\n        {\r\n          AnnotationConfigApplicationContext context = new AnnotationConfigApplicationContext(MainEntry.class);\r\n    \r\n          MyClass myClass = context.getBean(MyClass.class);\r\n          myClass.printInfo();\r\n          context.close();\r\n        }\r\n    }\r\n\r\nWhen running the main class, the myClass.uuidMap is null and I got:\r\n\r\n&gt; Exception in thread &quot;main&quot; java.lang.NullPointerException: Cannot\r\n&gt; invoke &quot;java.util.Map.get(Object)&quot; because &quot;uuidMap&quot; is null \tat\r\n&gt; project1.MyClass.printInfo(MyClass.java:18) \tat\r\n&gt; project1.MainEntry.main(MainEntry.java:27)\r\n\r\nHow to fix this and get the member variable `uuidMap` populated with the data in `application.yaml`?\r\n\r\nI noticed that there is a similar question https://stackoverflow.com/questions/27416327/configurationproperties-prefix-not-working. But the difference is that I have the setter in `AppProps`, and The uuidMap is a map not just a String. Also, I got a warning `Spring Boot Configuration Annotation Processor not configured` in a red bar on my IntelliJ and I am not sure if that is related.","title":"@ConfigurationProperties(prefix=&quot;app-props&quot;) is not working in spring-boot","body":"<p>application.yaml</p>\n<pre><code>app-props:\n  uuidMap:\n    customerId: &quot;af241470-7a1a-41b9-8861-33c37069b8f2&quot;\n    resourceId: &quot;213e8652-bb34-4709-bc4b-a3ad1587f619&quot;\n</code></pre>\n<p>AppProps class:</p>\n<pre><code>@Component\n@ConfigurationProperties(prefix=&quot;app-props&quot;)\npublic class AppProps\n{\n  private Map&lt;String, String&gt; uuidMap;\n\n  public Map&lt;String, String&gt; getUuidMap() {\n    return uuidMap;\n  }\n\n  public void setUuidMap(Map&lt;String, String&gt; uuidMap) {\n    this.uuidMap = uuidMap;\n  }\n}\n</code></pre>\n<p>MyClass:</p>\n<pre><code>@Component\npublic class MyClass\n{\n  @Autowired\n  private AppProps appProps;\n\n  public void printInfo()\n  {\n    Map&lt;String, String&gt; uuidMap = appProps.getUuidMap();\n    String customerId = uuidMap.get(&quot;customerId&quot;);\n    System.out.println(customerId);\n  }\n}\n</code></pre>\n<p>Main class</p>\n<pre><code>@SpringBootApplication\n@EnableConfigurationProperties\npublic class MainEntry  {\n    public static void main(String[] args)\n    {\n      AnnotationConfigApplicationContext context = new AnnotationConfigApplicationContext(MainEntry.class);\n\n      MyClass myClass = context.getBean(MyClass.class);\n      myClass.printInfo();\n      context.close();\n    }\n}\n</code></pre>\n<p>When running the main class, the myClass.uuidMap is null and I got:</p>\n<blockquote>\n<p>Exception in thread &quot;main&quot; java.lang.NullPointerException: Cannot\ninvoke &quot;java.util.Map.get(Object)&quot; because &quot;uuidMap&quot; is null  at\nproject1.MyClass.printInfo(MyClass.java:18)   at\nproject1.MainEntry.main(MainEntry.java:27)</p>\n</blockquote>\n<p>How to fix this and get the member variable <code>uuidMap</code> populated with the data in <code>application.yaml</code>?</p>\n<p>I noticed that there is a similar question <a href=\"https://stackoverflow.com/questions/27416327/configurationproperties-prefix-not-working\">@ConfigurationProperties prefix not working</a>. But the difference is that I have the setter in <code>AppProps</code>, and The uuidMap is a map not just a String. Also, I got a warning <code>Spring Boot Configuration Annotation Processor not configured</code> in a red bar on my IntelliJ and I am not sure if that is related.</p>\n"},{"tags":["java","scala","intellij-idea"],"comments":[{"owner":{"account_id":4425480,"reputation":576,"user_id":3604067,"display_name":"niktrop"},"score":1,"creation_date":1491311830,"post_id":43194204,"comment_id":73488161,"body_markdown":"This exception is from the compiler process, not the process of IDEA itself. Try to increase -Xss in \n\nSettings -&gt; Languages &amp; Frameworks -&gt; Scala Compile Server -&gt; JVM Parameters.\n\nAlso check that Scala compile server is enabled.","body":"This exception is from the compiler process, not the process of IDEA itself. Try to increase -Xss in   Settings -&gt; Languages &amp; Frameworks -&gt; Scala Compile Server -&gt; JVM Parameters.  Also check that Scala compile server is enabled."}],"answers":[{"tags":[],"owner":{"account_id":4861064,"reputation":1078,"user_id":3920656,"accept_rate":50,"display_name":"Aaditya Raj"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1596299485,"creation_date":1503383156,"answer_id":45810291,"question_id":43194204,"body_markdown":"The exception is from the compiler that IntelliJ employs, hence you need to change the *compiler build process&#39;* heap size. Go to \r\n\r\n    File -&gt; Settings -&gt; Build, Execution, Deployment -&gt; Compiler -&gt; Build process \r\n    heap size (Mbytes)\r\n\r\nIncrease this property to a higher value.\r\n\r\n[![Screenshot showing the settings pane increasing the value to 1024 MBytes][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/mQ8Ep.jpg","title":"StackOverflowError with Scala on IntelliJ","body":"<p>The exception is from the compiler that IntelliJ employs, hence you need to change the <em>compiler build process'</em> heap size. Go to</p>\n<pre><code>File -&gt; Settings -&gt; Build, Execution, Deployment -&gt; Compiler -&gt; Build process \nheap size (Mbytes)\n</code></pre>\n<p>Increase this property to a higher value.</p>\n<p><a href=\"https://i.stack.imgur.com/mQ8Ep.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mQ8Ep.jpg\" alt=\"Screenshot showing the settings pane increasing the value to 1024 MBytes\" /></a></p>\n"},{"tags":[],"owner":{"account_id":11100563,"reputation":263,"user_id":8149366,"display_name":"ankitbaldua"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1505279667,"creation_date":1505279667,"answer_id":46189334,"question_id":43194204,"body_markdown":"Adding -Xss100m in eclipse.ini worked in my case, probably adding similar property in intellijJ may help.","title":"StackOverflowError with Scala on IntelliJ","body":"<p>Adding -Xss100m in eclipse.ini worked in my case, probably adding similar property in intellijJ may help.</p>\n"},{"tags":[],"owner":{"account_id":50132,"reputation":8477,"user_id":149412,"accept_rate":67,"display_name":"tekumara"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1551148232,"creation_date":1551148232,"answer_id":54877582,"question_id":43194204,"body_markdown":"I&#39;ve solved this via:\r\n\r\nPreferences -&gt; Build, Execution, Deployment -&gt; Compiler -&gt; Scala Compiler -&gt; Scala Compile Server\r\n\r\nAnd updated JVM options to use a bigger stack size, eg: `-Xss8m`\r\n\r\nRestart for the changes to take effect.\r\n\r\n","title":"StackOverflowError with Scala on IntelliJ","body":"<p>I've solved this via:</p>\n\n<p>Preferences -> Build, Execution, Deployment -> Compiler -> Scala Compiler -> Scala Compile Server</p>\n\n<p>And updated JVM options to use a bigger stack size, eg: <code>-Xss8m</code></p>\n\n<p>Restart for the changes to take effect.</p>\n"},{"tags":[],"owner":{"account_id":5265765,"reputation":596,"user_id":4247626,"accept_rate":40,"display_name":"Ravi H"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1614060838,"creation_date":1614060838,"answer_id":66327990,"question_id":43194204,"body_markdown":"I had same issues and done lots changes in intellij but non of them work.\r\n\r\nI removed `unused case classes` from my code and its working","title":"StackOverflowError with Scala on IntelliJ","body":"<p>I had same issues and done lots changes in intellij but non of them work.</p>\n<p>I removed <code>unused case classes</code> from my code and its working</p>\n"},{"tags":[],"owner":{"account_id":20879625,"reputation":21,"user_id":15337689,"display_name":"user15337689"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1614959165,"creation_date":1614959165,"answer_id":66495522,"question_id":43194204,"body_markdown":"Here is what worked for me:\r\n\r\n- From Windows Powershell, $env:SBT_OPTS=&quot;-Xss1024m&quot;\r\nand then ran sbt compile\r\n\r\n\r\n- Also in IntelliJ v2020.2, following also worked:\r\n  Settings -&gt; Build, Execution, Deployment -&gt; Build Tools -&gt; SBT\r\n                                -&gt; JVM : VM Parameters : -Xss1024m\r\n\r\n","title":"StackOverflowError with Scala on IntelliJ","body":"<p>Here is what worked for me:</p>\n<ul>\n<li><p>From Windows Powershell, $env:SBT_OPTS=&quot;-Xss1024m&quot;\nand then ran sbt compile</p>\n</li>\n<li><p>Also in IntelliJ v2020.2, following also worked:\nSettings -&gt; Build, Execution, Deployment -&gt; Build Tools -&gt; SBT\n-&gt; JVM : VM Parameters : -Xss1024m</p>\n</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":2770040,"reputation":2824,"user_id":2384815,"accept_rate":72,"display_name":"MaxNevermind"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696352079,"creation_date":1696306092,"answer_id":77219609,"question_id":43194204,"body_markdown":"For those poor souls who as me searched all over the internet and could not find a working solution. In my case: updating libraries and Scala to the latest version didn&#39;t help; changing changing a stack size using -Xss didn&#39;t help; reducing the nesting level of case classes didn&#39;t help; restarting Gradle daemon didn&#39;t help. I had few case classes with few dozens of fields, some had nested case classes. I found out that it might be related to case classes and removed unnecessary fields in a test case class in a file that couldn&#39;t compile and that finally resolved the issue.","title":"StackOverflowError with Scala on IntelliJ","body":"<p>For those poor souls who as me searched all over the internet and could not find a working solution. In my case: updating libraries and Scala to the latest version didn't help; changing changing a stack size using -Xss didn't help; reducing the nesting level of case classes didn't help; restarting Gradle daemon didn't help. I had few case classes with few dozens of fields, some had nested case classes. I found out that it might be related to case classes and removed unnecessary fields in a test case class in a file that couldn't compile and that finally resolved the issue.</p>\n"}],"owner":{"account_id":1518291,"reputation":363,"user_id":1418728,"display_name":"zzz"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12924,"favorite_count":0,"down_vote_count":0,"up_vote_count":22,"answer_count":6,"score":22,"last_activity_date":1696352079,"creation_date":1491253359,"question_id":43194204,"body_markdown":"I am trying to build a Scala project on IntelliJ using Gradle. I am able to make but compile keeps failing with a stack overflow error. \r\n\r\nI looked through other posts with similar issues which suggested increasing heap/stack size ([this][1] and [this][2]). So far I have tried setting these in JAVA_OPTS and idea64.exe.vmoptions.\r\n&gt; -Xss512m -Xms512m -Xmx2048m -XX:ReservedCodeCacheSize=64m -ea\r\n\r\nI also tried including -XX:MaxPermSize=2048m which didn&#39;t work either (believe it is not supported in Java 8 anyway). \r\n\r\nThe same code builds for another person with the same configuration. Can anyone please shed some light on what I am missing?\r\n\r\nDetails:\r\n\r\n    IntelliJ Ultimate 2016.1\r\n    Scala 2.10.3\r\n    Java 1.8.0_92\r\n\r\nStack Trace:\r\n\r\n    java.lang.StackOverflowError\r\n        at scala.tools.nsc.transform.Erasure$Eraser.typed1(Erasure.scala:696)\r\n        at scala.tools.nsc.typechecker.Typers$Typer.runTyper$1(Typers.scala:5396)\r\n        at scala.tools.nsc.typechecker.Typers$Typer.scala$tools$nsc$typechecker$Typers$Typer$$typedInternal(Typers.scala:5423)\r\n        at scala.tools.nsc.typechecker.Typers$Typer.body$2(Typers.scala:5370)\r\n        at scala.tools.nsc.typechecker.Typers$Typer.typed(Typers.scala:5374)\r\n        at scala.tools.nsc.typechecker.Typers$Typer$$anonfun$96.apply(Typers.scala:4523)\r\n        at scala.tools.nsc.typechecker.Typers$Typer$$anonfun$96.apply(Typers.scala:4523)\r\n        at scala.tools.nsc.typechecker.Typers$Typer.silent(Typers.scala:680)\r\n        at scala.tools.nsc.typechecker.Typers$Typer.normalTypedApply$1(Typers.scala:4522)\r\n        at scala.tools.nsc.typechecker.Typers$Typer.typedApply$1(Typers.scala:4578)\r\n        at scala.tools.nsc.typechecker.Typers$Typer.typedInAnyMode$1(Typers.scala:5343)\r\n        at scala.tools.nsc.typechecker.Typers$Typer.typed1(Typers.scala:5360)\r\n        at scala.tools.nsc.transform.Erasure$Eraser.typed1(Erasure.scala:696)\r\n        at scala.tools.nsc.typechecker.Typers$Typer.runTyper$1(Typers.scala:5396)\r\n        at scala.tools.nsc.typechecker.Typers$Typer.scala$tools$nsc$typechecker$Typers$Typer$$typedInternal(Typers.scala:5423)\r\n        at scala.tools.nsc.typechecker.Typers$Typer.body$2(Typers.scala:5370)\r\n        at scala.tools.nsc.typechecker.Typers$Typer.typed(Typers.scala:5374)\r\n        at scala.tools.nsc.typechecker.Typers$Typer.typedQualifier(Typers.scala:5472)\r\n        at scala.tools.nsc.typechecker.Typers$Typer.typedQualifier(Typers.scala:5480)\r\n        at scala.tools.nsc.transform.Erasure$Eraser.adaptMember(Erasure.scala:642)\r\n        at scala.tools.nsc.transform.Erasure$Eraser.typed1(Erasure.scala:696)\r\n        at scala.tools.nsc.typechecker.Typers$Typer.runTyper$1(Typers.scala:5396)\r\n        at scala.tools.nsc.typechecker.Typers$Typer.scala$tools$nsc$typechecker$Typers$Typer$$typedInternal(Typers.scala:5423)\r\n        at scala.tools.nsc.typechecker.Typers$Typer.body$2(Typers.scala:5370)\r\n        at scala.tools.nsc.typechecker.Typers$Typer.typed(Typers.scala:5374)\r\n        at scala.tools.nsc.typechecker.Typers$Typer$$anonfun$96.apply(Typers.scala:4523)\r\n        at scala.tools.nsc.typechecker.Typers$Typer$$anonfun$96.apply(Typers.scala:4523)\r\n        at scala.tools.nsc.typechecker.Typers$Typer.silent(Typers.scala:680)\r\n        at scala.tools.nsc.typechecker.Typers$Typer.normalTypedApply$1(Typers.scala:4522)\r\n        at scala.tools.nsc.typechecker.Typers$Typer.typedApply$1(Typers.scala:4578)\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/34318705/stackoverflowerror-in-sbt-during-compile\r\n  [2]: https://github.com/ucb-bar/firrtl/issues/66","title":"StackOverflowError with Scala on IntelliJ","body":"<p>I am trying to build a Scala project on IntelliJ using Gradle. I am able to make but compile keeps failing with a stack overflow error. </p>\n\n<p>I looked through other posts with similar issues which suggested increasing heap/stack size (<a href=\"https://stackoverflow.com/questions/34318705/stackoverflowerror-in-sbt-during-compile\">this</a> and <a href=\"https://github.com/ucb-bar/firrtl/issues/66\" rel=\"noreferrer\">this</a>). So far I have tried setting these in JAVA_OPTS and idea64.exe.vmoptions.</p>\n\n<blockquote>\n  <p>-Xss512m -Xms512m -Xmx2048m -XX:ReservedCodeCacheSize=64m -ea</p>\n</blockquote>\n\n<p>I also tried including -XX:MaxPermSize=2048m which didn't work either (believe it is not supported in Java 8 anyway). </p>\n\n<p>The same code builds for another person with the same configuration. Can anyone please shed some light on what I am missing?</p>\n\n<p>Details:</p>\n\n<pre><code>IntelliJ Ultimate 2016.1\nScala 2.10.3\nJava 1.8.0_92\n</code></pre>\n\n<p>Stack Trace:</p>\n\n<pre><code>java.lang.StackOverflowError\n    at scala.tools.nsc.transform.Erasure$Eraser.typed1(Erasure.scala:696)\n    at scala.tools.nsc.typechecker.Typers$Typer.runTyper$1(Typers.scala:5396)\n    at scala.tools.nsc.typechecker.Typers$Typer.scala$tools$nsc$typechecker$Typers$Typer$$typedInternal(Typers.scala:5423)\n    at scala.tools.nsc.typechecker.Typers$Typer.body$2(Typers.scala:5370)\n    at scala.tools.nsc.typechecker.Typers$Typer.typed(Typers.scala:5374)\n    at scala.tools.nsc.typechecker.Typers$Typer$$anonfun$96.apply(Typers.scala:4523)\n    at scala.tools.nsc.typechecker.Typers$Typer$$anonfun$96.apply(Typers.scala:4523)\n    at scala.tools.nsc.typechecker.Typers$Typer.silent(Typers.scala:680)\n    at scala.tools.nsc.typechecker.Typers$Typer.normalTypedApply$1(Typers.scala:4522)\n    at scala.tools.nsc.typechecker.Typers$Typer.typedApply$1(Typers.scala:4578)\n    at scala.tools.nsc.typechecker.Typers$Typer.typedInAnyMode$1(Typers.scala:5343)\n    at scala.tools.nsc.typechecker.Typers$Typer.typed1(Typers.scala:5360)\n    at scala.tools.nsc.transform.Erasure$Eraser.typed1(Erasure.scala:696)\n    at scala.tools.nsc.typechecker.Typers$Typer.runTyper$1(Typers.scala:5396)\n    at scala.tools.nsc.typechecker.Typers$Typer.scala$tools$nsc$typechecker$Typers$Typer$$typedInternal(Typers.scala:5423)\n    at scala.tools.nsc.typechecker.Typers$Typer.body$2(Typers.scala:5370)\n    at scala.tools.nsc.typechecker.Typers$Typer.typed(Typers.scala:5374)\n    at scala.tools.nsc.typechecker.Typers$Typer.typedQualifier(Typers.scala:5472)\n    at scala.tools.nsc.typechecker.Typers$Typer.typedQualifier(Typers.scala:5480)\n    at scala.tools.nsc.transform.Erasure$Eraser.adaptMember(Erasure.scala:642)\n    at scala.tools.nsc.transform.Erasure$Eraser.typed1(Erasure.scala:696)\n    at scala.tools.nsc.typechecker.Typers$Typer.runTyper$1(Typers.scala:5396)\n    at scala.tools.nsc.typechecker.Typers$Typer.scala$tools$nsc$typechecker$Typers$Typer$$typedInternal(Typers.scala:5423)\n    at scala.tools.nsc.typechecker.Typers$Typer.body$2(Typers.scala:5370)\n    at scala.tools.nsc.typechecker.Typers$Typer.typed(Typers.scala:5374)\n    at scala.tools.nsc.typechecker.Typers$Typer$$anonfun$96.apply(Typers.scala:4523)\n    at scala.tools.nsc.typechecker.Typers$Typer$$anonfun$96.apply(Typers.scala:4523)\n    at scala.tools.nsc.typechecker.Typers$Typer.silent(Typers.scala:680)\n    at scala.tools.nsc.typechecker.Typers$Typer.normalTypedApply$1(Typers.scala:4522)\n    at scala.tools.nsc.typechecker.Typers$Typer.typedApply$1(Typers.scala:4578)\n</code></pre>\n"},{"tags":["java","spring","spring-mvc"],"comments":[{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":1,"creation_date":1536489657,"post_id":52243656,"comment_id":91435668,"body_markdown":"Why *exactly* is it not an option to decompose into two methods?","body":"Why <i>exactly</i> is it not an option to decompose into two methods?"},{"owner":{"account_id":14311217,"reputation":13,"user_id":10337463,"display_name":"Mast Vinner"},"score":0,"creation_date":1536489752,"post_id":52243656,"comment_id":91435691,"body_markdown":"@chrylis Because I&#39;m trying to create v2 of my REST API, and replicating the whole controller for one small change would clutter the codebase. I thought it would be vastly better to just handle the small logic change of v2 inside the same controller.","body":"@chrylis Because I&#39;m trying to create v2 of my REST API, and replicating the whole controller for one small change would clutter the codebase. I thought it would be vastly better to just handle the small logic change of v2 inside the same controller."},{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1536489811,"post_id":52243656,"comment_id":91435704,"body_markdown":"Spring MVC *is* just Java. All the normal tools of inheritance or two wrapper methods calling a shared service method are available.","body":"Spring MVC <i>is</i> just Java. All the normal tools of inheritance or two wrapper methods calling a shared service method are available."},{"owner":{"account_id":14311217,"reputation":13,"user_id":10337463,"display_name":"Mast Vinner"},"score":0,"creation_date":1536490263,"post_id":52243656,"comment_id":91435846,"body_markdown":"@chrylis You are correct and that would be a normal way of going about it, but in my case it&#39;s someone else&#39;s codebase and I just wanna to make as little change as possible so I thought detecting the path and switching control flow on that would be much better than architectural change.","body":"@chrylis You are correct and that would be a normal way of going about it, but in my case it&#39;s someone else&#39;s codebase and I just wanna to make as little change as possible so I thought detecting the path and switching control flow on that would be much better than architectural change."},{"owner":{"account_id":257549,"reputation":4988,"user_id":539048,"accept_rate":66,"display_name":"GreenGiant"},"score":0,"creation_date":1696351009,"post_id":52243656,"comment_id":136140432,"body_markdown":"That might seem like a quicker solution for now, but over time avoiding the minor refactoring will make the code base more brittle. Refactoring in this case is a better change to make.","body":"That might seem like a quicker solution for now, but over time avoiding the minor refactoring will make the code base more brittle. Refactoring in this case is a better change to make."}],"answers":[{"tags":[],"owner":{"account_id":2905399,"reputation":157,"user_id":2490930,"display_name":"Imran S"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1536490331,"creation_date":1536490331,"answer_id":52243753,"question_id":52243656,"body_markdown":"You can get the url using the below code and can get the path from it\r\n\r\n    URL url = new URL(request.getRequestURL().toString());\r\n    String path = url.getPath();\r\n\r\nYou can check this path and use it in your logic\r\n\r\nHope it will help your senario.\r\n","title":"Spring RequestMapping multiple paths, identify which one is being called?","body":"<p>You can get the url using the below code and can get the path from it</p>\n\n<pre><code>URL url = new URL(request.getRequestURL().toString());\nString path = url.getPath();\n</code></pre>\n\n<p>You can check this path and use it in your logic</p>\n\n<p>Hope it will help your senario.</p>\n"},{"tags":[],"owner":{"account_id":2771244,"reputation":11224,"user_id":2385808,"accept_rate":62,"display_name":"Fritz Duchardt"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1536491012,"creation_date":1536491012,"answer_id":52243845,"question_id":52243656,"body_markdown":"    @RequestMapping(value = { &quot;/something&quot;, &quot;/otherThing&quot; })\r\n    public void polymorpHandlerMethod(HttpServletRequest request) {\r\n        if (request.getContextPath().startsWith(&quot;/something&quot;)) {\r\n            // do stuff\r\n        } else if (request.getContextPath().startsWith(&quot;/otherThing&quot;)) {\r\n            // do more stuff\r\n        }\r\n    }","title":"Spring RequestMapping multiple paths, identify which one is being called?","body":"<pre><code>@RequestMapping(value = { \"/something\", \"/otherThing\" })\npublic void polymorpHandlerMethod(HttpServletRequest request) {\n    if (request.getContextPath().startsWith(\"/something\")) {\n        // do stuff\n    } else if (request.getContextPath().startsWith(\"/otherThing\")) {\n        // do more stuff\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":257549,"reputation":4988,"user_id":539048,"accept_rate":66,"display_name":"GreenGiant"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696350886,"creation_date":1696350886,"answer_id":77224061,"question_id":52243656,"body_markdown":"You could make two separate methods within the same controller, both delegating to the same method.\r\n\r\n    @RequestMapping(&quot;/something&quot;)\r\n    public void something() { \r\n        implementation(&quot;something&quot;);\r\n    }\r\n\r\n    @RequestMapping(&quot;/otherThing&quot;)\r\n    public void otherThing() { \r\n        implementation(&quot;otherThing&quot;);\r\n    }\r\n\r\n    private void implementation() {\r\n        // ...\r\n    }","title":"Spring RequestMapping multiple paths, identify which one is being called?","body":"<p>You could make two separate methods within the same controller, both delegating to the same method.</p>\n<pre><code>@RequestMapping(&quot;/something&quot;)\npublic void something() { \n    implementation(&quot;something&quot;);\n}\n\n@RequestMapping(&quot;/otherThing&quot;)\npublic void otherThing() { \n    implementation(&quot;otherThing&quot;);\n}\n\nprivate void implementation() {\n    // ...\n}\n</code></pre>\n"}],"owner":{"account_id":14311217,"reputation":13,"user_id":10337463,"display_name":"Mast Vinner"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6094,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":52243845,"answer_count":3,"score":1,"last_activity_date":1696350886,"creation_date":1536489591,"question_id":52243656,"body_markdown":"So I have a controller with `@RequestMapping(value = { &quot;/something&quot;, &quot;/otherThing&quot; })`\r\n\r\nI just can&#39;t seem to figure out how I can determine inside my controller as to which one of the paths are being served right now, &quot;something&quot; or the &quot;otherThing&quot;.\r\n\r\nBreaking down the controller and making 2 separate ones is not an option in my case.\r\n\r\nAny ideas how I could go about determining the path being served inside a controller&#39;s method?","title":"Spring RequestMapping multiple paths, identify which one is being called?","body":"<p>So I have a controller with <code>@RequestMapping(value = { \"/something\", \"/otherThing\" })</code></p>\n\n<p>I just can't seem to figure out how I can determine inside my controller as to which one of the paths are being served right now, \"something\" or the \"otherThing\".</p>\n\n<p>Breaking down the controller and making 2 separate ones is not an option in my case.</p>\n\n<p>Any ideas how I could go about determining the path being served inside a controller's method?</p>\n"},{"tags":["java","android","overlay"],"owner":{"account_id":7401136,"reputation":59,"user_id":5631545,"accept_rate":50,"display_name":"yoyo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696350632,"creation_date":1696350632,"question_id":77224025,"body_markdown":"I have a floating widget which is displayed as an overlay (think FB messenger chat bubble).\r\nIf I don&#39;t have required permission, my code request user for permission to display over other apps but in between switching from app to settings screen, it shows &quot;App keeps stopping&quot; in UI and when I grant permission, instead of going back to app. The app closes. But after giving the permission when I start app and click on Show widget it shows properly. The problem seems to be for first time when requesting permissions. What am I missing here? Any help is appreciated. Thanks :)\r\n\r\n 1. Code for FloatingViewService.java : https://pastebin.com/Yn24kJ4r \r\n 2. Code for PermissionRequestActivity.java : https://pastebin.com/KWwLb1Hx\r\n 3. Code for MainActivity.java : https://pastebin.com/Fp3QL6kN\r\n\r\nError : https://imgur.com/a/q2J5ZAx\r\n\r\nBelow is the logcat \r\n\r\n    FATAL EXCEPTION: main\r\n                                                                                                        Process: com.example.datebud, PID: 14310\r\n                                                                                                        java.lang.RuntimeException: Unable to start service com.example.datebud.FloatingViewService@355a10d with Intent { cmp=com.example.datebud/.FloatingViewService }: java.lang.IllegalArgumentException: Params must be WindowManager.LayoutParams\r\n                                                                                                        \tat android.app.ActivityThread.handleServiceArgs(ActivityThread.java:4839)\r\n                                                                                                        \tat android.app.ActivityThread.-$$Nest$mhandleServiceArgs(Unknown Source:0)\r\n                                                                                                        \tat android.app.ActivityThread$H.handleMessage(ActivityThread.java:2289)\r\n                                                                                                        \tat android.os.Handler.dispatchMessage(Handler.java:106)\r\n                                                                                                        \tat android.os.Looper.loopOnce(Looper.java:205)\r\n                                                                                                        \tat android.os.Looper.loop(Looper.java:294)\r\n                                                                                                        \tat android.app.ActivityThread.main(ActivityThread.java:8177)\r\n                                                                                                        \tat java.lang.reflect.Method.invoke(Native Method)\r\n                                                                                                        \tat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:552)\r\n                                                                                                        \tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:971)\r\n                                                                                                        Caused by: java.lang.IllegalArgumentException: Params must be WindowManager.LayoutParams\r\n                                                                                                        \tat android.view.WindowManagerImpl.applyTokens(WindowManagerImpl.java:162)\r\n                                                                                                        \tat android.view.WindowManagerImpl.addView(WindowManagerImpl.java:149)\r\n                                                                                                        \tat com.example.datebud.FloatingViewService.onStartCommand(FloatingViewService.java:32)\r\n                                                                                                        \tat android.app.ActivityThread.handleServiceArgs(ActivityThread.java:4821)\r\n                                                                                                        \tat android.app.ActivityThread.-$$Nest$mhandleServiceArgs(Unknown Source:0)&#160;\r\n                                                                                                        \tat android.app.ActivityThread$H.handleMessage(ActivityThread.java:2289)&#160;\r\n                                                                                                        \tat android.os.Handler.dispatchMessage(Handler.java:106)&#160;\r\n                                                                                                        \tat android.os.Looper.loopOnce(Looper.java:205)&#160;\r\n                                                                                                        \tat android.os.Looper.loop(Looper.java:294)&#160;\r\n                                                                                                        \tat android.app.ActivityThread.main(ActivityThread.java:8177)&#160;\r\n                                                                                                        \tat java.lang.reflect.Method.invoke(Native Method)&#160;\r\n                                                                                                        \tat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:552)&#160;\r\n                                                                                                        \tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:971)&#160;\r\n\r\n\r\n\r\n","title":"First time Permission Error when Creating overlay widget for my Android App","body":"<p>I have a floating widget which is displayed as an overlay (think FB messenger chat bubble).\nIf I don't have required permission, my code request user for permission to display over other apps but in between switching from app to settings screen, it shows &quot;App keeps stopping&quot; in UI and when I grant permission, instead of going back to app. The app closes. But after giving the permission when I start app and click on Show widget it shows properly. The problem seems to be for first time when requesting permissions. What am I missing here? Any help is appreciated. Thanks :)</p>\n<ol>\n<li>Code for FloatingViewService.java : <a href=\"https://pastebin.com/Yn24kJ4r\" rel=\"nofollow noreferrer\">https://pastebin.com/Yn24kJ4r</a></li>\n<li>Code for PermissionRequestActivity.java : <a href=\"https://pastebin.com/KWwLb1Hx\" rel=\"nofollow noreferrer\">https://pastebin.com/KWwLb1Hx</a></li>\n<li>Code for MainActivity.java : <a href=\"https://pastebin.com/Fp3QL6kN\" rel=\"nofollow noreferrer\">https://pastebin.com/Fp3QL6kN</a></li>\n</ol>\n<p>Error : <a href=\"https://imgur.com/a/q2J5ZAx\" rel=\"nofollow noreferrer\">https://imgur.com/a/q2J5ZAx</a></p>\n<p>Below is the logcat</p>\n<pre><code>FATAL EXCEPTION: main\n                                                                                                    Process: com.example.datebud, PID: 14310\n                                                                                                    java.lang.RuntimeException: Unable to start service com.example.datebud.FloatingViewService@355a10d with Intent { cmp=com.example.datebud/.FloatingViewService }: java.lang.IllegalArgumentException: Params must be WindowManager.LayoutParams\n                                                                                                        at android.app.ActivityThread.handleServiceArgs(ActivityThread.java:4839)\n                                                                                                        at android.app.ActivityThread.-$$Nest$mhandleServiceArgs(Unknown Source:0)\n                                                                                                        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2289)\n                                                                                                        at android.os.Handler.dispatchMessage(Handler.java:106)\n                                                                                                        at android.os.Looper.loopOnce(Looper.java:205)\n                                                                                                        at android.os.Looper.loop(Looper.java:294)\n                                                                                                        at android.app.ActivityThread.main(ActivityThread.java:8177)\n                                                                                                        at java.lang.reflect.Method.invoke(Native Method)\n                                                                                                        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:552)\n                                                                                                        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:971)\n                                                                                                    Caused by: java.lang.IllegalArgumentException: Params must be WindowManager.LayoutParams\n                                                                                                        at android.view.WindowManagerImpl.applyTokens(WindowManagerImpl.java:162)\n                                                                                                        at android.view.WindowManagerImpl.addView(WindowManagerImpl.java:149)\n                                                                                                        at com.example.datebud.FloatingViewService.onStartCommand(FloatingViewService.java:32)\n                                                                                                        at android.app.ActivityThread.handleServiceArgs(ActivityThread.java:4821)\n                                                                                                        at android.app.ActivityThread.-$$Nest$mhandleServiceArgs(Unknown Source:0) \n                                                                                                        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2289) \n                                                                                                        at android.os.Handler.dispatchMessage(Handler.java:106) \n                                                                                                        at android.os.Looper.loopOnce(Looper.java:205) \n                                                                                                        at android.os.Looper.loop(Looper.java:294) \n                                                                                                        at android.app.ActivityThread.main(ActivityThread.java:8177) \n                                                                                                        at java.lang.reflect.Method.invoke(Native Method) \n                                                                                                        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:552) \n                                                                                                        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:971) \n</code></pre>\n"},{"tags":["java","android","push-notification","onesignal"],"comments":[{"owner":{"account_id":1710481,"reputation":22873,"user_id":1568658,"accept_rate":82,"display_name":"Eric"},"score":1,"creation_date":1660464327,"post_id":73350021,"comment_id":129535594,"body_markdown":"Time complexity = `O(n)`, or simply `X &lt;&lt;= n`, then `O(1)`","body":"Time complexity = <code>O(n)</code>, or simply <code>X &lt;&lt;= n</code>, then <code>O(1)</code>"},{"owner":{"account_id":7142980,"reputation":323243,"user_id":5459839,"display_name":"trincot"},"score":0,"creation_date":1660464440,"post_id":73350021,"comment_id":129535613,"body_markdown":"*&quot;on top or bottom&quot;*: no idea what that means in this context. The loop just visits all integers between n and 0.","body":"<i>&quot;on top or bottom&quot;</i>: no idea what that means in this context. The loop just visits all integers between n and 0."},{"owner":{"account_id":21933220,"reputation":53,"user_id":16214868,"display_name":"Fariba Laiq"},"score":0,"creation_date":1660464557,"post_id":73350021,"comment_id":129535630,"body_markdown":"@Eric so can we write like this?  i=0 on bottom of summation symbol and n on top of it and 1 after summation?","body":"@Eric so can we write like this?  i=0 on bottom of summation symbol and n on top of it and 1 after summation?"},{"owner":{"account_id":21933220,"reputation":53,"user_id":16214868,"display_name":"Fariba Laiq"},"score":0,"creation_date":1660466521,"post_id":73350021,"comment_id":129535955,"body_markdown":"@trincot i mean can we write like this? i=0 on bottom of summation symbol and n on top of it and 1 after summation?","body":"@trincot i mean can we write like this? i=0 on bottom of summation symbol and n on top of it and 1 after summation?"}],"answers":[{"tags":[],"owner":{"account_id":7142980,"reputation":323243,"user_id":5459839,"display_name":"trincot"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1660467910,"creation_date":1660467910,"answer_id":73350359,"question_id":73350021,"body_markdown":"You have &#119899; + 1 iterations: one for &#119894;=&#119899;, then &#119899;−1, &#119899;−2, ..., 2, 1, 0.\r\n\r\n&gt; Please let me know the answer in the summation notation. \r\n\r\nThe mathematical notation for sums, usually sets the lower value at the bottom and the maximum value at the top. The order for summation is irrelevant here. Assuming that multiplication is regarded as a O(1) operation, you have this sum:\r\n \r\n\r\n∑&lt;sub&gt;&lt;sub&gt; &#119894;&lt;/sub&gt;&lt;/sub&gt;&lt;sup&gt;&lt;sup&gt;&#119899;&lt;/sup&gt;&lt;/sup&gt;&lt;sub&gt;&lt;sub&gt;= 0&lt;/sub&gt;&lt;/sub&gt; O(1) = O(&#119899;+1) = O(&#119899;)\r\n\r\nJust to be clear, nor the result of the code (the value of `X`) nor the time complexity depend on whether `i` goes from `n` to 0 or vice versa. So this code achieves the same with the same time complexity:\r\n\r\n```vba\r\nfor i=0 to n do\r\n    X=X*2\r\nend for\r\n```","title":"How to handle click events on One Signal action buttons when the app is not running (Android Java)","body":"<p>You have 𝑛 + 1 iterations: one for 𝑖=𝑛, then 𝑛−1, 𝑛−2, ..., 2, 1, 0.</p>\n<blockquote>\n<p>Please let me know the answer in the summation notation.</p>\n</blockquote>\n<p>The mathematical notation for sums, usually sets the lower value at the bottom and the maximum value at the top. The order for summation is irrelevant here. Assuming that multiplication is regarded as a O(1) operation, you have this sum:</p>\n<p>∑<sub><sub> 𝑖</sub></sub><sup><sup>𝑛</sup></sup><sub><sub>= 0</sub></sub> O(1) = O(𝑛+1) = O(𝑛)</p>\n<p>Just to be clear, nor the result of the code (the value of <code>X</code>) nor the time complexity depend on whether <code>i</code> goes from <code>n</code> to 0 or vice versa. So this code achieves the same with the same time complexity:</p>\n<pre class=\"lang-vb prettyprint-override\"><code>for i=0 to n do\n    X=X*2\nend for\n</code></pre>\n"}],"owner":{"account_id":21933220,"reputation":53,"user_id":16214868,"display_name":"Fariba Laiq"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":117,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":73350359,"answer_count":1,"score":-1,"last_activity_date":1696350307,"creation_date":1660464154,"question_id":73350021,"body_markdown":"I am trying to add click listener on the one signal action button, but when the app is not running, how can I listen the click event on that button and against that I just want to log a simple message on console. How can I do that? \r\nI am using One Signal 5.0.2 version.\r\nHere&#39;s my manifest file:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    \r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        package=&quot;com.example.notificationdemo&quot;&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.WAKE_LOCK&quot; /&gt;\r\n        &lt;!-- Add this for Android 11+ --&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.FOREGROUND_SERVICE&quot; /&gt;\r\n        &lt;permission\r\n            android:name=&quot;com.onesignal.sdktest.permission.RECEIVE_ADM_MESSAGE&quot;\r\n            android:protectionLevel=&quot;signature&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;com.onesignal.sdktest.permission.RECEIVE_ADM_MESSAGE&quot; /&gt;\r\n        &lt;!-- This permission allows your app access to receive push notifications from ADM. --&gt;\r\n        &lt;uses-permission android:name=&quot;com.amazon.device.messaging.permission.RECEIVE&quot; /&gt;\r\n    \r\n        &lt;application\r\n            android:allowBackup=&quot;true&quot;\r\n            android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\r\n            android:fullBackupContent=&quot;@xml/backup_rules&quot;\r\n            android:icon=&quot;@drawable/notification_icon&quot;\r\n            android:label=&quot;@string/app_name&quot;\r\n            android:supportsRtl=&quot;true&quot;\r\n            android:theme=&quot;@style/Theme.NotificationDemo&quot;\r\n            tools:targetApi=&quot;31&quot;&gt;\r\n            &lt;meta-data android:name=&quot;com.onesignal.NotificationServiceExtension&quot;\r\n                android:value=&quot;com.example.notificationdemo.MainActivity&quot; /&gt;\r\n    \r\n            &lt;activity\r\n                android:name=&quot;.MainActivity&quot;\r\n                android:exported=&quot;true&quot;&gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n    \r\n                    &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/activity&gt;\r\n        &lt;/application&gt;\r\n    \r\n    &lt;/manifest&gt;\r\n\r\nHere is my code snippet:\r\n\r\n    \r\n    public class MainActivity extends AppCompatActivity implements INotificationServiceExtension {\r\n    \r\n        Button login, logout;\r\n        @SuppressLint(&quot;MissingInflatedId&quot;)\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n            OneSignal.initWithContext(this, &quot;beaced0c-d1e4-4995-b811-392a02c05cd5&quot;);\r\n            OneSignal.getNotifications().requestPermission(true, Continue.none());\r\n    \r\n            OneSignal.getDebug().setLogLevel(LogLevel.DEBUG);\r\n            String playerId =         @Override\r\n        public void onNotificationReceived(@NonNull INotificationReceivedEvent event) {\r\n            Log.v(&quot;logtag:&quot;, &quot;IRemoteNotificationReceivedHandler fired&quot; + &quot; with INotificationReceivedEvent: &quot; + event.toString());\r\n    \r\n            IDisplayableMutableNotification notification = event.getNotification();\r\n    \r\n            if (notification.getActionButtons() != null) {\r\n                for (IActionButton button : notification.getActionButtons()) {\r\n                    Log.v(&quot;actionbuttontag: &quot;, &quot;ActionButton: &quot; + button.toString());\r\n    \r\n                }\r\n            }\r\n    \r\n        }\r\n    }\r\n","title":"How to handle click events on One Signal action buttons when the app is not running (Android Java)","body":"<p>I am trying to add click listener on the one signal action button, but when the app is not running, how can I listen the click event on that button and against that I just want to log a simple message on console. How can I do that?\nI am using One Signal 5.0.2 version.\nHere's my manifest file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    package=&quot;com.example.notificationdemo&quot;&gt;\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.WAKE_LOCK&quot; /&gt;\n    &lt;!-- Add this for Android 11+ --&gt;\n    &lt;uses-permission android:name=&quot;android.permission.FOREGROUND_SERVICE&quot; /&gt;\n    &lt;permission\n        android:name=&quot;com.onesignal.sdktest.permission.RECEIVE_ADM_MESSAGE&quot;\n        android:protectionLevel=&quot;signature&quot; /&gt;\n    &lt;uses-permission android:name=&quot;com.onesignal.sdktest.permission.RECEIVE_ADM_MESSAGE&quot; /&gt;\n    &lt;!-- This permission allows your app access to receive push notifications from ADM. --&gt;\n    &lt;uses-permission android:name=&quot;com.amazon.device.messaging.permission.RECEIVE&quot; /&gt;\n\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\n        android:icon=&quot;@drawable/notification_icon&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/Theme.NotificationDemo&quot;\n        tools:targetApi=&quot;31&quot;&gt;\n        &lt;meta-data android:name=&quot;com.onesignal.NotificationServiceExtension&quot;\n            android:value=&quot;com.example.notificationdemo.MainActivity&quot; /&gt;\n\n        &lt;activity\n            android:name=&quot;.MainActivity&quot;\n            android:exported=&quot;true&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n<p>Here is my code snippet:</p>\n<pre><code>public class MainActivity extends AppCompatActivity implements INotificationServiceExtension {\n\n    Button login, logout;\n    @SuppressLint(&quot;MissingInflatedId&quot;)\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        OneSignal.initWithContext(this, &quot;beaced0c-d1e4-4995-b811-392a02c05cd5&quot;);\n        OneSignal.getNotifications().requestPermission(true, Continue.none());\n\n        OneSignal.getDebug().setLogLevel(LogLevel.DEBUG);\n        String playerId =         @Override\n    public void onNotificationReceived(@NonNull INotificationReceivedEvent event) {\n        Log.v(&quot;logtag:&quot;, &quot;IRemoteNotificationReceivedHandler fired&quot; + &quot; with INotificationReceivedEvent: &quot; + event.toString());\n\n        IDisplayableMutableNotification notification = event.getNotification();\n\n        if (notification.getActionButtons() != null) {\n            for (IActionButton button : notification.getActionButtons()) {\n                Log.v(&quot;actionbuttontag: &quot;, &quot;ActionButton: &quot; + button.toString());\n\n            }\n        }\n\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","maven"],"comments":[{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1696361880,"post_id":77223919,"comment_id":136142440,"body_markdown":"Can you try using a different name instead of `default-jar` and adding `&lt;phase&gt;validate&lt;/phase&gt;` or `&lt;phase&gt;compile&lt;/phase&gt;` to the execution?","body":"Can you try using a different name instead of <code>default-jar</code> and adding <code>&lt;phase&gt;validate&lt;&#47;phase&gt;</code> or <code>&lt;phase&gt;compile&lt;&#47;phase&gt;</code> to the execution?"}],"owner":{"account_id":21411233,"reputation":1,"user_id":15771395,"display_name":"Joshua Steele"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":249,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696349696,"creation_date":1696349696,"question_id":77223919,"body_markdown":"I&#39;m working on a Java Spring Boot project that uses `io.katharsis.katharsis-spring` as a dependency. When I attempt to compile/build my project with `mvn clean install -fae`, I get the following errors. These show up for a specific sub-module of my project, which has its own pom.xml.\r\n\r\n```\r\n[ERROR] /…/katharis/CustomKatharsisConfigV3.java:[74,34] cannot access javax.servlet.Filter\r\n  class file for javax.servlet.Filter not found\r\n[ERROR]  /…/katharis/CustomKatharsisConfigV3.java:[75,32] type argument io.katharsis.spring.KatharsisFilterV2 is not within bounds of type-variable T\r\n[ERROR]  /…/katharis/CustomKatharsisConfigV3.java:[75,84] incompatible types: cannot infer type arguments for org.springframework.boot.web.servlet.FilterRegistrationBean&lt;&gt;\r\n    reason: inference variable T has incompatible bounds\r\n      equality constraints: io.katharsis.spring.KatharsisFilterV2\r\n      lower bounds: jakarta.servlet.Filter\r\n```\r\n\r\nUnfortunately, I don&#39;t have access to the `io.katharsis.spring.KatharsisFilterV2` class in question. And that project hasn&#39;t been updated since 2017!\r\n\r\nAt first, I tried to switch from `katharsis` to `crnk`, its successor. However, I ran into the same `javax` vs `jakarta` issue: https://github.com/crnk-project/crnk-framework/issues/869 (issue opened in December 2022).\r\n\r\nUltimately, I&#39;d like to contribute to the `crnk` project and see it updated. However, for now, I&#39;m stuck with figuring out how to use my `katharsis` dependency (with its `javax` imports) in my Spring Boot 3.1.4 project (which is requiring `jakarta` imports).\r\n\r\nI&#39;ve been trying to use Eclipse Transformer (https://github.com/eclipse/transformer) for this. And, when using the Transformer CLI to manually adjust the `katharsis` .jar in my local .m2 directory, it works!\r\n\r\nHowever, I&#39;m at a loss for whether/how to use Eclipse Transformer in my CI/CD pipeline. I&#39;m trying to use the transformer-maven-plugin (https://github.com/eclipse/transformer/tree/main/maven-plugins/transformer-maven-plugin), but haven&#39;t had any luck yet. \r\n\r\nHere&#39;s my current transformer-maven-plugin configuration in the pom.xml for the sub-module in question (an &quot;api-starter&quot;).\r\n\r\n```\r\n&lt;build&gt;  \r\n    &lt;plugins&gt;  \r\n       &lt;plugin&gt;  \r\n          &lt;groupId&gt;org.eclipse.transformer&lt;/groupId&gt;  \r\n          &lt;artifactId&gt;transformer-maven-plugin&lt;/artifactId&gt;  \r\n          &lt;extensions&gt;true&lt;/extensions&gt;  \r\n          &lt;configuration&gt;  \r\n             &lt;rules&gt;  \r\n                &lt;jakartaDefaults&gt;true&lt;/jakartaDefaults&gt;  \r\n             &lt;/rules&gt;  \r\n          &lt;/configuration&gt;  \r\n          &lt;executions&gt;  \r\n             &lt;execution&gt;  \r\n                &lt;id&gt;default-jar&lt;/id&gt;  \r\n                &lt;goals&gt;  \r\n                   &lt;goal&gt;jar&lt;/goal&gt;  \r\n                &lt;/goals&gt;  \r\n                &lt;configuration&gt;  \r\n                   &lt;artifact&gt;  \r\n                      &lt;groupId&gt;io.katharsis&lt;/groupId&gt;  \r\n                      &lt;artifactId&gt;katharsis-spring&lt;/artifactId&gt;  \r\n                      &lt;version&gt;2.8.2&lt;/version&gt;  \r\n                   &lt;/artifact&gt;  \r\n                &lt;/configuration&gt;  \r\n             &lt;/execution&gt;  \r\n             &lt;execution&gt;  \r\n                &lt;id&gt;javadoc-jar&lt;/id&gt;  \r\n                &lt;goals&gt;  \r\n                   &lt;goal&gt;jar&lt;/goal&gt;  \r\n                &lt;/goals&gt;  \r\n                &lt;configuration&gt;  \r\n                   &lt;artifact&gt;  \r\n                      &lt;groupId&gt;io.katharsis&lt;/groupId&gt;  \r\n                      &lt;artifactId&gt;katharsis-spring&lt;/artifactId&gt;  \r\n                      &lt;version&gt;2.8.2&lt;/version&gt;  \r\n                      &lt;classifier&gt;javadoc&lt;/classifier&gt;  \r\n                   &lt;/artifact&gt;  \r\n                &lt;/configuration&gt;  \r\n             &lt;/execution&gt;  \r\n             &lt;execution&gt;  \r\n                &lt;id&gt;source-jar&lt;/id&gt;  \r\n                &lt;goals&gt;  \r\n                   &lt;goal&gt;jar&lt;/goal&gt;  \r\n                &lt;/goals&gt;  \r\n                &lt;configuration&gt;  \r\n                   &lt;artifact&gt;  \r\n                      &lt;groupId&gt;io.katharsis&lt;/groupId&gt;  \r\n                      &lt;artifactId&gt;katharsis-spring&lt;/artifactId&gt;  \r\n                      &lt;version&gt;2.8.2&lt;/version&gt;  \r\n                      &lt;classifier&gt;sources&lt;/classifier&gt;  \r\n                   &lt;/artifact&gt;  \r\n                &lt;/configuration&gt;  \r\n             &lt;/execution&gt;  \r\n          &lt;/executions&gt;  \r\n       &lt;/plugin&gt;  \r\n    &lt;/plugins&gt;  \r\n&lt;/build&gt;\r\n```\r\n\r\nPerhaps its because I haven&#39;t situated the plugin&#39;s work correctly in the context of maven&#39;s lifecycle? I&#39;ve tried putting the plugin configuration code at various pom.xml levels in my three-tiered project (parent pom, module pom, sub-module pom), but still get the same compilation errors noted above.\r\n\r\nIs there a small change I need to make to my use of the transformer-maven-plugin? Is the maven plugin the right way to use Eclipse Transformer for something like this? Is there another tool/method/solution entirely that I should consider?\r\n\r\nThanks for your help.","title":"How to use Eclipse Transformer to update a Spring Boot 3 project&#39;s &quot;javax&quot; dependency to use &quot;jakarta&quot; imports?","body":"<p>I'm working on a Java Spring Boot project that uses <code>io.katharsis.katharsis-spring</code> as a dependency. When I attempt to compile/build my project with <code>mvn clean install -fae</code>, I get the following errors. These show up for a specific sub-module of my project, which has its own pom.xml.</p>\n<pre><code>[ERROR] /…/katharis/CustomKatharsisConfigV3.java:[74,34] cannot access javax.servlet.Filter\n  class file for javax.servlet.Filter not found\n[ERROR]  /…/katharis/CustomKatharsisConfigV3.java:[75,32] type argument io.katharsis.spring.KatharsisFilterV2 is not within bounds of type-variable T\n[ERROR]  /…/katharis/CustomKatharsisConfigV3.java:[75,84] incompatible types: cannot infer type arguments for org.springframework.boot.web.servlet.FilterRegistrationBean&lt;&gt;\n    reason: inference variable T has incompatible bounds\n      equality constraints: io.katharsis.spring.KatharsisFilterV2\n      lower bounds: jakarta.servlet.Filter\n</code></pre>\n<p>Unfortunately, I don't have access to the <code>io.katharsis.spring.KatharsisFilterV2</code> class in question. And that project hasn't been updated since 2017!</p>\n<p>At first, I tried to switch from <code>katharsis</code> to <code>crnk</code>, its successor. However, I ran into the same <code>javax</code> vs <code>jakarta</code> issue: <a href=\"https://github.com/crnk-project/crnk-framework/issues/869\" rel=\"nofollow noreferrer\">https://github.com/crnk-project/crnk-framework/issues/869</a> (issue opened in December 2022).</p>\n<p>Ultimately, I'd like to contribute to the <code>crnk</code> project and see it updated. However, for now, I'm stuck with figuring out how to use my <code>katharsis</code> dependency (with its <code>javax</code> imports) in my Spring Boot 3.1.4 project (which is requiring <code>jakarta</code> imports).</p>\n<p>I've been trying to use Eclipse Transformer (<a href=\"https://github.com/eclipse/transformer\" rel=\"nofollow noreferrer\">https://github.com/eclipse/transformer</a>) for this. And, when using the Transformer CLI to manually adjust the <code>katharsis</code> .jar in my local .m2 directory, it works!</p>\n<p>However, I'm at a loss for whether/how to use Eclipse Transformer in my CI/CD pipeline. I'm trying to use the transformer-maven-plugin (<a href=\"https://github.com/eclipse/transformer/tree/main/maven-plugins/transformer-maven-plugin\" rel=\"nofollow noreferrer\">https://github.com/eclipse/transformer/tree/main/maven-plugins/transformer-maven-plugin</a>), but haven't had any luck yet.</p>\n<p>Here's my current transformer-maven-plugin configuration in the pom.xml for the sub-module in question (an &quot;api-starter&quot;).</p>\n<pre><code>&lt;build&gt;  \n    &lt;plugins&gt;  \n       &lt;plugin&gt;  \n          &lt;groupId&gt;org.eclipse.transformer&lt;/groupId&gt;  \n          &lt;artifactId&gt;transformer-maven-plugin&lt;/artifactId&gt;  \n          &lt;extensions&gt;true&lt;/extensions&gt;  \n          &lt;configuration&gt;  \n             &lt;rules&gt;  \n                &lt;jakartaDefaults&gt;true&lt;/jakartaDefaults&gt;  \n             &lt;/rules&gt;  \n          &lt;/configuration&gt;  \n          &lt;executions&gt;  \n             &lt;execution&gt;  \n                &lt;id&gt;default-jar&lt;/id&gt;  \n                &lt;goals&gt;  \n                   &lt;goal&gt;jar&lt;/goal&gt;  \n                &lt;/goals&gt;  \n                &lt;configuration&gt;  \n                   &lt;artifact&gt;  \n                      &lt;groupId&gt;io.katharsis&lt;/groupId&gt;  \n                      &lt;artifactId&gt;katharsis-spring&lt;/artifactId&gt;  \n                      &lt;version&gt;2.8.2&lt;/version&gt;  \n                   &lt;/artifact&gt;  \n                &lt;/configuration&gt;  \n             &lt;/execution&gt;  \n             &lt;execution&gt;  \n                &lt;id&gt;javadoc-jar&lt;/id&gt;  \n                &lt;goals&gt;  \n                   &lt;goal&gt;jar&lt;/goal&gt;  \n                &lt;/goals&gt;  \n                &lt;configuration&gt;  \n                   &lt;artifact&gt;  \n                      &lt;groupId&gt;io.katharsis&lt;/groupId&gt;  \n                      &lt;artifactId&gt;katharsis-spring&lt;/artifactId&gt;  \n                      &lt;version&gt;2.8.2&lt;/version&gt;  \n                      &lt;classifier&gt;javadoc&lt;/classifier&gt;  \n                   &lt;/artifact&gt;  \n                &lt;/configuration&gt;  \n             &lt;/execution&gt;  \n             &lt;execution&gt;  \n                &lt;id&gt;source-jar&lt;/id&gt;  \n                &lt;goals&gt;  \n                   &lt;goal&gt;jar&lt;/goal&gt;  \n                &lt;/goals&gt;  \n                &lt;configuration&gt;  \n                   &lt;artifact&gt;  \n                      &lt;groupId&gt;io.katharsis&lt;/groupId&gt;  \n                      &lt;artifactId&gt;katharsis-spring&lt;/artifactId&gt;  \n                      &lt;version&gt;2.8.2&lt;/version&gt;  \n                      &lt;classifier&gt;sources&lt;/classifier&gt;  \n                   &lt;/artifact&gt;  \n                &lt;/configuration&gt;  \n             &lt;/execution&gt;  \n          &lt;/executions&gt;  \n       &lt;/plugin&gt;  \n    &lt;/plugins&gt;  \n&lt;/build&gt;\n</code></pre>\n<p>Perhaps its because I haven't situated the plugin's work correctly in the context of maven's lifecycle? I've tried putting the plugin configuration code at various pom.xml levels in my three-tiered project (parent pom, module pom, sub-module pom), but still get the same compilation errors noted above.</p>\n<p>Is there a small change I need to make to my use of the transformer-maven-plugin? Is the maven plugin the right way to use Eclipse Transformer for something like this? Is there another tool/method/solution entirely that I should consider?</p>\n<p>Thanks for your help.</p>\n"},{"tags":["java","wiremock"],"answers":[{"tags":[],"owner":{"account_id":2734023,"reputation":2572,"user_id":2357083,"display_name":"Abbin Varghese"},"down_vote_count":0,"up_vote_count":30,"is_accepted":true,"score":30,"last_activity_date":1641883612,"creation_date":1581071502,"answer_id":60111626,"question_id":60097697,"body_markdown":"Found the reason.. `WireMock.urlPathEqualTo(&quot;/test/url?bookingCode=XYZ123&amp;lastName=TEST&quot;)` should not have query params.\r\n\r\nChanging it to `WireMock.urlPathEqualTo(&quot;/test/url&quot;)` resolved the issue.\r\n\r\n[Documentation][1] says it is allowed. Also, the log `URL does not match` was causing the confusion. Considering the match check is separate, wiremock could have added a separate log for query param. \r\n\r\nCreated issue : https://github.com/tomakehurst/wiremock/issues/1262\r\n\r\n\r\n  [1]: http://wiremock.org/docs/stubbing/","title":"Wiremock - &quot;URL does not match&quot; even though it is same","body":"<p>Found the reason.. <code>WireMock.urlPathEqualTo(&quot;/test/url?bookingCode=XYZ123&amp;lastName=TEST&quot;)</code> should not have query params.</p>\n<p>Changing it to <code>WireMock.urlPathEqualTo(&quot;/test/url&quot;)</code> resolved the issue.</p>\n<p><a href=\"http://wiremock.org/docs/stubbing/\" rel=\"noreferrer\">Documentation</a> says it is allowed. Also, the log <code>URL does not match</code> was causing the confusion. Considering the match check is separate, wiremock could have added a separate log for query param.</p>\n<p>Created issue : <a href=\"https://github.com/tomakehurst/wiremock/issues/1262\" rel=\"noreferrer\">https://github.com/tomakehurst/wiremock/issues/1262</a></p>\n"},{"tags":[],"owner":{"account_id":5701160,"reputation":489,"user_id":4506067,"display_name":"dhana1310"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1582623419,"creation_date":1582623419,"answer_id":60391463,"question_id":60097697,"body_markdown":"You can go with `withQueryParam` method for the parameters while keeping `urlPathEqualTo` method dedicated to URL path.\r\n\r\n    WireMock.stubFor(WireMock.get(WireMock.urlPathEqualTo(&quot;/test/url&quot;))\r\n             .withQueryParam(&quot;bookingCode&quot;, WireMock.equalTo(&quot;XYZ123&quot;))\r\n             .withQueryParam(&quot;lastName&quot;, WireMock.equalTo(&quot;TEST&quot;))\r\n             .willReturn(WireMock.aResponse()\r\n             .withStatus(200))\r\n\r\nFor more information, please refer http://wiremock.org/docs/request-matching/","title":"Wiremock - &quot;URL does not match&quot; even though it is same","body":"<p>You can go with <code>withQueryParam</code> method for the parameters while keeping <code>urlPathEqualTo</code> method dedicated to URL path.</p>\n\n<pre><code>WireMock.stubFor(WireMock.get(WireMock.urlPathEqualTo(\"/test/url\"))\n         .withQueryParam(\"bookingCode\", WireMock.equalTo(\"XYZ123\"))\n         .withQueryParam(\"lastName\", WireMock.equalTo(\"TEST\"))\n         .willReturn(WireMock.aResponse()\n         .withStatus(200))\n</code></pre>\n\n<p>For more information, please refer <a href=\"http://wiremock.org/docs/request-matching/\" rel=\"noreferrer\">http://wiremock.org/docs/request-matching/</a></p>\n"},{"tags":[],"owner":{"account_id":1254379,"reputation":711,"user_id":1214174,"display_name":"Bertrand88"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696349475,"creation_date":1696349475,"answer_id":77223895,"question_id":60097697,"body_markdown":"You should escape the regex special character &quot;?&quot;\r\n\r\n    WireMock.stubFor(WireMock.get(WireMock.urlPathEqualTo(&quot;/test/url\\\\?bookingCode=XYZ123&amp;lastName=TEST&quot;))\r\n        .willReturn(WireMock.aResponse()\r\n        .withStatus(200))\r\n    )\r\n\r\n","title":"Wiremock - &quot;URL does not match&quot; even though it is same","body":"<p>You should escape the regex special character &quot;?&quot;</p>\n<pre><code>WireMock.stubFor(WireMock.get(WireMock.urlPathEqualTo(&quot;/test/url\\\\?bookingCode=XYZ123&amp;lastName=TEST&quot;))\n    .willReturn(WireMock.aResponse()\n    .withStatus(200))\n)\n</code></pre>\n"}],"owner":{"account_id":2734023,"reputation":2572,"user_id":2357083,"display_name":"Abbin Varghese"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18143,"favorite_count":0,"down_vote_count":0,"up_vote_count":27,"accepted_answer_id":60111626,"answer_count":3,"score":27,"last_activity_date":1696349475,"creation_date":1581000658,"question_id":60097697,"body_markdown":"I am facing an issue that Wiremock says my URLs don&#39;t match even though they are the same. Obviously I am missing something. What am I doing wrong?\r\n\r\n    WireMock.stubFor(WireMock.get(WireMock.urlPathEqualTo(&quot;/test/url?bookingCode=XYZ123&amp;lastName=TEST&quot;))\r\n        .willReturn(WireMock.aResponse()\r\n        .withStatus(200))\r\n    )\r\n\r\nBelow is the console log.\r\n\r\n\r\n\r\n    -----------------------------------------------------------------------------------------------------------------------\r\n    | Closest stub                                             | Request                                                  |\r\n    -----------------------------------------------------------------------------------------------------------------------\r\n                                                               |\r\n    GET                                                        | GET\r\n    /test/url?bookingCode=XYZ123&amp;lastName=TEST                 | /test/url?bookingCode=XYZ123&amp;lastName=TEST            &lt;&lt;&lt;&lt;&lt; URL does not match\r\n                                                               |\r\n                                                               |\r\n    -----------------------------------------------------------------------------------------------------------------------\r\n\r\n\r\nIs it because I am not including Headers in the matchers?\r\n\r\nIf yes, how can I avoid matching the headers? I would like to get a response irrespective of what header I am sending.","title":"Wiremock - &quot;URL does not match&quot; even though it is same","body":"<p>I am facing an issue that Wiremock says my URLs don't match even though they are the same. Obviously I am missing something. What am I doing wrong?</p>\n\n<pre><code>WireMock.stubFor(WireMock.get(WireMock.urlPathEqualTo(\"/test/url?bookingCode=XYZ123&amp;lastName=TEST\"))\n    .willReturn(WireMock.aResponse()\n    .withStatus(200))\n)\n</code></pre>\n\n<p>Below is the console log.</p>\n\n<pre><code>-----------------------------------------------------------------------------------------------------------------------\n| Closest stub                                             | Request                                                  |\n-----------------------------------------------------------------------------------------------------------------------\n                                                           |\nGET                                                        | GET\n/test/url?bookingCode=XYZ123&amp;lastName=TEST                 | /test/url?bookingCode=XYZ123&amp;lastName=TEST            &lt;&lt;&lt;&lt;&lt; URL does not match\n                                                           |\n                                                           |\n-----------------------------------------------------------------------------------------------------------------------\n</code></pre>\n\n<p>Is it because I am not including Headers in the matchers?</p>\n\n<p>If yes, how can I avoid matching the headers? I would like to get a response irrespective of what header I am sending.</p>\n"},{"tags":["java","json","string"],"answers":[{"tags":[],"owner":{"account_id":13817170,"reputation":1662,"user_id":9973516,"display_name":"Ada"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696346552,"creation_date":1696346552,"answer_id":77223580,"question_id":77223492,"body_markdown":"You can use `replaceAll()` like this:\r\n\r\n```java\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        String jsonString = &quot;{\\\\\\&quot;test\\\\\\&quot;:\\\\\\&quot;value \\\\\\\\\\\\\\&quot;ciao\\\\\\\\\\\\\\&quot;  \\\\\\&quot;}&quot;;\r\n\r\n        String unescapedString = jsonString.replaceAll(&quot;\\\\\\\\\\\\\\\\&quot;, &quot;\\\\\\\\&quot;).replaceAll(&quot;\\\\\\\\\\\\\\&quot;&quot;, &quot;\\&quot;&quot;);\r\n\r\n        System.out.println(unescapedString);\r\n    }\r\n}\r\n```\r\n\r\n","title":"Remove first level of escape in json String (Java)","body":"<p>You can use <code>replaceAll()</code> like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Main {\n    public static void main(String[] args) {\n        String jsonString = &quot;{\\\\\\&quot;test\\\\\\&quot;:\\\\\\&quot;value \\\\\\\\\\\\\\&quot;ciao\\\\\\\\\\\\\\&quot;  \\\\\\&quot;}&quot;;\n\n        String unescapedString = jsonString.replaceAll(&quot;\\\\\\\\\\\\\\\\&quot;, &quot;\\\\\\\\&quot;).replaceAll(&quot;\\\\\\\\\\\\\\&quot;&quot;, &quot;\\&quot;&quot;);\n\n        System.out.println(unescapedString);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1696348209,"creation_date":1696348209,"answer_id":77223760,"question_id":77223492,"body_markdown":"You can use the _[String#translateEscapes](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#translateEscapes())_ method.\r\n\r\n```java\r\nString s = &quot;{\\\\\\&quot;test\\\\\\&quot;:\\\\\\&quot;value \\\\\\\\\\\\\\&quot;ciao\\\\\\\\\\\\\\&quot;  \\\\\\&quot;}&quot;;\r\ns = s.translateEscapes();\r\n```\r\n\r\nOutput\r\n\r\n```none\r\n{&quot;test&quot;:&quot;value \\&quot;ciao\\&quot;  &quot;}\r\n```","title":"Remove first level of escape in json String (Java)","body":"<p>You can use the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#translateEscapes()\" rel=\"nofollow noreferrer\">String#translateEscapes</a></em> method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String s = &quot;{\\\\\\&quot;test\\\\\\&quot;:\\\\\\&quot;value \\\\\\\\\\\\\\&quot;ciao\\\\\\\\\\\\\\&quot;  \\\\\\&quot;}&quot;;\ns = s.translateEscapes();\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>{&quot;test&quot;:&quot;value \\&quot;ciao\\&quot;  &quot;}\n</code></pre>\n"}],"owner":{"account_id":16026181,"reputation":1072,"user_id":11566361,"display_name":"Paolo Mossini"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":77223760,"answer_count":2,"score":-2,"last_activity_date":1696349357,"creation_date":1696345778,"question_id":77223492,"body_markdown":"I have a String like this:\r\n```java\r\nprivate String jsonString = &quot;{\\\\\\&quot;test\\\\\\&quot;:\\\\\\&quot;value \\\\\\\\\\\\\\&quot;ciao\\\\\\\\\\\\\\&quot;  \\\\\\&quot;}&quot;\r\n```\r\nAt runtime this should be: `{\\&quot;test\\&quot;:\\&quot;value \\\\\\&quot;ciao\\\\\\&quot;  \\&quot;}`\r\n\r\nNow I want to remove the only the first level of escape and leaving the nested escape.\r\n\r\nThe result should be:\r\n`{&quot;test&quot;:&quot;value \\&quot;ciao\\&quot;  &quot;}`\r\n\r\nHow can I do this? Is it possible with methods like `replace()` or `replaceAll()`?\r\n","title":"Remove first level of escape in json String (Java)","body":"<p>I have a String like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private String jsonString = &quot;{\\\\\\&quot;test\\\\\\&quot;:\\\\\\&quot;value \\\\\\\\\\\\\\&quot;ciao\\\\\\\\\\\\\\&quot;  \\\\\\&quot;}&quot;\n</code></pre>\n<p>At runtime this should be: <code>{\\&quot;test\\&quot;:\\&quot;value \\\\\\&quot;ciao\\\\\\&quot;  \\&quot;}</code></p>\n<p>Now I want to remove the only the first level of escape and leaving the nested escape.</p>\n<p>The result should be:\n<code>{&quot;test&quot;:&quot;value \\&quot;ciao\\&quot;  &quot;}</code></p>\n<p>How can I do this? Is it possible with methods like <code>replace()</code> or <code>replaceAll()</code>?</p>\n"},{"tags":["java","numbers","cpu-word","thai"],"answers":[{"tags":[],"owner":{"account_id":2102330,"reputation":522,"user_id":1869616,"accept_rate":100,"display_name":"Edward Jezisek"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1420439320,"creation_date":1420439320,"answer_id":27774437,"question_id":27774166,"body_markdown":"I think you want the \r\n    `System.out.println(&quot;word : &quot;+outputString); ` outside of the for loop and to make it identical to: http://docs.oracle.com/javase/tutorial/i18n/locale/create.html remove the &quot;word : &quot;.  IE:\r\n\r\n    import java.text.NumberFormat;\r\n    import java.util.Locale;\r\n\r\n    public class NumToword {\r\n       public static void main(String str[]){\r\n            String outputString = new String();\r\n           Locale[] thaiLocale = {\r\n                        new Locale(&quot;th&quot;),\r\n                        new Locale(&quot;th&quot;, &quot;TH&quot;),\r\n                        new Locale(&quot;th&quot;, &quot;TH&quot;, &quot;TH&quot;)\r\n                    };\r\n           for (Locale locale : thaiLocale) {\r\n               NumberFormat nf = NumberFormat.getNumberInstance(locale);\r\n               outputString = outputString + locale.toString() + &quot;: &quot;;\r\n                outputString = outputString + nf.format(573.34) + &quot;\\n&quot;;\r\n           }\r\n           System.out.println(outputString);\r\n       }\r\n      }","title":"How to convert numeric to Thai language word in Java?","body":"<p>I think you want the \n    <code>System.out.println(\"word : \"+outputString);</code> outside of the for loop and to make it identical to: <a href=\"http://docs.oracle.com/javase/tutorial/i18n/locale/create.html\" rel=\"nofollow\">http://docs.oracle.com/javase/tutorial/i18n/locale/create.html</a> remove the \"word : \".  IE:</p>\n\n<pre><code>import java.text.NumberFormat;\nimport java.util.Locale;\n\npublic class NumToword {\n   public static void main(String str[]){\n        String outputString = new String();\n       Locale[] thaiLocale = {\n                    new Locale(\"th\"),\n                    new Locale(\"th\", \"TH\"),\n                    new Locale(\"th\", \"TH\", \"TH\")\n                };\n       for (Locale locale : thaiLocale) {\n           NumberFormat nf = NumberFormat.getNumberInstance(locale);\n           outputString = outputString + locale.toString() + \": \";\n            outputString = outputString + nf.format(573.34) + \"\\n\";\n       }\n       System.out.println(outputString);\n   }\n  }\n</code></pre>\n"}],"owner":{"account_id":4033450,"reputation":148,"user_id":3318758,"accept_rate":100,"display_name":"Brijesh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1871,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":27774437,"answer_count":1,"score":1,"last_activity_date":1696348703,"creation_date":1420437464,"question_id":27774166,"body_markdown":"I used the following code but it does not work:\r\n \r\n```java\r\n    import java.text.NumberFormat;\r\n    import java.util.Locale;\r\n    \r\n        public class NumToword {\r\n    \t   public static void main(String str[]){\r\n    \t\t    String outputString = new String();\r\n    \t\t   Locale[] thaiLocale = {\r\n    \t\t                new Locale(&quot;th&quot;),\r\n    \t\t                new Locale(&quot;th&quot;, &quot;TH&quot;),\r\n    \t\t                new Locale(&quot;th&quot;, &quot;TH&quot;, &quot;TH&quot;)\r\n    \t\t            };\r\n    \t\t   for (Locale locale : thaiLocale) {\r\n    \t\t       NumberFormat nf = NumberFormat.getNumberInstance(locale);\r\n    \t\t       outputString = outputString + locale.toString() + &quot;: &quot;;\r\n    \t\t        outputString = outputString + nf.format(573.34) + &quot;\\n&quot;;\r\n    \t\t        System.out.println(&quot;word : &quot;+outputString);\r\n    \t\t   }\r\n    \t   }\r\n       }\r\n```\r\n","title":"How to convert numeric to Thai language word in Java?","body":"<p>I used the following code but it does not work:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    import java.text.NumberFormat;\n    import java.util.Locale;\n    \n        public class NumToword {\n           public static void main(String str[]){\n                String outputString = new String();\n               Locale[] thaiLocale = {\n                            new Locale(&quot;th&quot;),\n                            new Locale(&quot;th&quot;, &quot;TH&quot;),\n                            new Locale(&quot;th&quot;, &quot;TH&quot;, &quot;TH&quot;)\n                        };\n               for (Locale locale : thaiLocale) {\n                   NumberFormat nf = NumberFormat.getNumberInstance(locale);\n                   outputString = outputString + locale.toString() + &quot;: &quot;;\n                    outputString = outputString + nf.format(573.34) + &quot;\\n&quot;;\n                    System.out.println(&quot;word : &quot;+outputString);\n               }\n           }\n       }\n</code></pre>\n"},{"tags":["java","android","http","sockets"],"comments":[{"owner":{"account_id":1529248,"reputation":92157,"user_id":1426891,"display_name":"Jeff Bowman"},"score":0,"creation_date":1696348796,"post_id":77223783,"comment_id":136140001,"body_markdown":"The 128 seconds sounds a lot like a timeout or exponential backoff. Could your issue be an ipv4 vs ipv6 issue like this one? https://stackoverflow.com/a/77188400/1426891","body":"The 128 seconds sounds a lot like a timeout or exponential backoff. Could your issue be an ipv4 vs ipv6 issue like this one? <a href=\"https://stackoverflow.com/a/77188400/1426891\">stackoverflow.com/a/77188400/1426891</a>"},{"owner":{"account_id":111736,"reputation":11811,"user_id":295004,"display_name":"Morrison Chang"},"score":0,"creation_date":1696349288,"post_id":77223783,"comment_id":136140099,"body_markdown":"The difference is around the time of the HTTPS requirement so just making sure that has been accounted for. Also check server logs for direction in investigation.","body":"The difference is around the time of the HTTPS requirement so just making sure that has been accounted for. Also check server logs for direction in investigation."},{"owner":{"account_id":13908,"reputation":7947,"user_id":28190,"accept_rate":67,"display_name":"Dan Gravell"},"score":0,"creation_date":1696354285,"post_id":77223783,"comment_id":136141047,"body_markdown":"@MorrisonChang What do you mean by &quot;HTTPS requirement [...] has been accounted for&quot;?","body":"@MorrisonChang What do you mean by &quot;HTTPS requirement [...] has been accounted for&quot;?"},{"owner":{"account_id":13908,"reputation":7947,"user_id":28190,"accept_rate":67,"display_name":"Dan Gravell"},"score":0,"creation_date":1696354369,"post_id":77223783,"comment_id":136141067,"body_markdown":"@JeffBowman &quot;The 128 seconds sounds a lot like a timeout or exponential backoff&quot; - yes, I agree. It&#39;s not the socket timeout that&#39;s set (300s). Using wifi, not mobile data, but I&#39;ll check that.","body":"@JeffBowman &quot;The 128 seconds sounds a lot like a timeout or exponential backoff&quot; - yes, I agree. It&#39;s not the socket timeout that&#39;s set (300s). Using wifi, not mobile data, but I&#39;ll check that."},{"owner":{"account_id":111736,"reputation":11811,"user_id":295004,"display_name":"Morrison Chang"},"score":0,"creation_date":1696354543,"post_id":77223783,"comment_id":136141093,"body_markdown":"@DanGravell Was thinking about: https://developer.android.com/training/articles/security-config but realize that error isn&#39;t the same.","body":"@DanGravell Was thinking about: <a href=\"https://developer.android.com/training/articles/security-config\" rel=\"nofollow noreferrer\">developer.android.com/training/articles/security-config</a> but realize that error isn&#39;t the same."},{"owner":{"account_id":3843773,"reputation":2526,"user_id":3186018,"display_name":"Fco P."},"score":0,"creation_date":1696356090,"post_id":77223783,"comment_id":136141379,"body_markdown":"You can export CPU traces as files. Try that so we can have a better look. Also, have you tried using okhttp 4 directly instead of going through URLConnection to discard object generation as the source of the time loss?","body":"You can export CPU traces as files. Try that so we can have a better look. Also, have you tried using okhttp 4 directly instead of going through URLConnection to discard object generation as the source of the time loss?"},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":1,"creation_date":1696358170,"post_id":77223783,"comment_id":136141763,"body_markdown":"I would strongly recommend to check the network traffic using Wireshark. Even if you don&#39;t see the TLS encrypted traffic you will see if the connection establishing itself or the TLS handshake cause the problems.","body":"I would strongly recommend to check the network traffic using Wireshark. Even if you don&#39;t see the TLS encrypted traffic you will see if the connection establishing itself or the TLS handshake cause the problems."},{"owner":{"account_id":13908,"reputation":7947,"user_id":28190,"accept_rate":67,"display_name":"Dan Gravell"},"score":0,"creation_date":1696359329,"post_id":77223783,"comment_id":136141979,"body_markdown":"Nice ideas, will try tomorrow.","body":"Nice ideas, will try tomorrow."},{"owner":{"account_id":85671,"reputation":40847,"user_id":238704,"display_name":"President James K. Polk"},"score":0,"creation_date":1696431421,"post_id":77223783,"comment_id":136152572,"body_markdown":"Look at the call stack, it doesn&#39;t seem that this is a TLS issue, it looks like it&#39;s waiting on the TCP connection (3-way handshake) to finish. The Wireshark capture should illustrate this.","body":"Look at the call stack, it doesn&#39;t seem that this is a TLS issue, it looks like it&#39;s waiting on the TCP connection (3-way handshake) to finish. The Wireshark capture should illustrate this."},{"owner":{"account_id":13908,"reputation":7947,"user_id":28190,"accept_rate":67,"display_name":"Dan Gravell"},"score":0,"creation_date":1696587134,"post_id":77223783,"comment_id":136175308,"body_markdown":"@PresidentJamesK.Polk Any references for installing wireshark, or what the best approach is?","body":"@PresidentJamesK.Polk Any references for installing wireshark, or what the best approach is?"},{"owner":{"account_id":85671,"reputation":40847,"user_id":238704,"display_name":"President James K. Polk"},"score":1,"creation_date":1696595004,"post_id":77223783,"comment_id":136176735,"body_markdown":"I don&#39;t know how to install it on Android but you can install it on any computer on the local network with the Android device you are trying to test, e.g. on a Linux or Windows computer. As long as it can put the network adapter into promiscuous mode it will be able to collect packets.","body":"I don&#39;t know how to install it on Android but you can install it on any computer on the local network with the Android device you are trying to test, e.g. on a Linux or Windows computer. As long as it can put the network adapter into promiscuous mode it will be able to collect packets."}],"owner":{"account_id":13908,"reputation":7947,"user_id":28190,"accept_rate":67,"display_name":"Dan Gravell"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696348479,"creation_date":1696348479,"question_id":77223783,"body_markdown":"My Android app makes a HTTP request using the `URLConnection` API. When the first call to `connection.getResponseCode()` is made, it takes 128s, reliably. It returns the successful result from the server and all subsequent requests are fast.\r\n\r\nIf I breakpoint just before `connection.getResponseCode()` and make the same request to the server it returns in under 1s. **So I don&#39;t think it&#39;s the server.**\r\n\r\nI tried profiling in Android Studio. Here&#39;s the stack trace that blocks for 120s:\r\n\r\n[![Java stack for slow initial HTTP request][1]][1]\r\n\r\n(Apologies but there seems to be no way to export this as text).\r\n\r\nThis doesn&#39;t particularly look suspicious - just that okhttp is calling the underlying java.net.Socket to connect which then delegates to native code which polls... I think this is the standard way legacy java.io works.\r\n\r\n**Is there some other way I can work out what is happening here?**\r\n\r\nThis occurs on an Android 10 device, but _not_ my Android 7 device - this seems to return immediately. It also doesn&#39;t occur in an Android 12 emulator.\r\n\r\n  [1]: https://i.stack.imgur.com/f9q1X.png","title":"Very first HTTP request takes two minutes, then subsequent requests are fast","body":"<p>My Android app makes a HTTP request using the <code>URLConnection</code> API. When the first call to <code>connection.getResponseCode()</code> is made, it takes 128s, reliably. It returns the successful result from the server and all subsequent requests are fast.</p>\n<p>If I breakpoint just before <code>connection.getResponseCode()</code> and make the same request to the server it returns in under 1s. <strong>So I don't think it's the server.</strong></p>\n<p>I tried profiling in Android Studio. Here's the stack trace that blocks for 120s:</p>\n<p><a href=\"https://i.stack.imgur.com/f9q1X.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/f9q1X.png\" alt=\"Java stack for slow initial HTTP request\" /></a></p>\n<p>(Apologies but there seems to be no way to export this as text).</p>\n<p>This doesn't particularly look suspicious - just that okhttp is calling the underlying java.net.Socket to connect which then delegates to native code which polls... I think this is the standard way legacy java.io works.</p>\n<p><strong>Is there some other way I can work out what is happening here?</strong></p>\n<p>This occurs on an Android 10 device, but <em>not</em> my Android 7 device - this seems to return immediately. It also doesn't occur in an Android 12 emulator.</p>\n"},{"tags":["java","oracle","spring-boot","mybatis-plus"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1696316186,"post_id":77220113,"comment_id":136133739,"body_markdown":"Show the table data. Show us that there are some rows where both those columns are NULL. BTW Surely it should be `&amp;lt;`?","body":"Show the table data. Show us that there are some rows where both those columns are NULL. BTW Surely it should be <code>&amp;lt;</code>?"},{"owner":{"account_id":4830465,"reputation":207,"user_id":3898783,"accept_rate":50,"display_name":"user3898783"},"score":0,"creation_date":1696317490,"post_id":77220113,"comment_id":136133947,"body_markdown":"Added the table data","body":"Added the table data"},{"owner":{"account_id":2497295,"reputation":3931,"user_id":2173392,"display_name":"pdem"},"score":0,"creation_date":1696320806,"post_id":77220113,"comment_id":136134478,"body_markdown":"Why you need the rownum? giving your data it seem it is normal to return no values because of this.","body":"Why you need the rownum? giving your data it seem it is normal to return no values because of this."},{"owner":{"account_id":4830465,"reputation":207,"user_id":3898783,"accept_rate":50,"display_name":"user3898783"},"score":0,"creation_date":1696321815,"post_id":77220113,"comment_id":136134652,"body_markdown":"I have bulk data in table need to fetch based on limit in table","body":"I have bulk data in table need to fetch based on limit in table"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1696324600,"post_id":77220113,"comment_id":136135169,"body_markdown":"Surely you should be using the `LIMIT` clause? and an `ORDER BY`? Otherwise if the first three rows in the table don&#39;t match, you get nothing. Is that what you want? Really?","body":"Surely you should be using the <code>LIMIT</code> clause? and an <code>ORDER BY</code>? Otherwise if the first three rows in the table don&#39;t match, you get nothing. Is that what you want? Really?"},{"owner":{"account_id":213468,"reputation":103493,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1696325806,"post_id":77220113,"comment_id":136135383,"body_markdown":"@user207421 This is in XML, so `&lt;=` needs to be encoded as `&amp;lt;=`.","body":"@user207421 This is in XML, so <code>&lt;=</code> needs to be encoded as <code>&amp;lt;=</code>."},{"owner":{"account_id":4830465,"reputation":207,"user_id":3898783,"accept_rate":50,"display_name":"user3898783"},"score":0,"creation_date":1696327822,"post_id":77220113,"comment_id":136135718,"body_markdown":"No data retrieved from mybatis as a result able to see the data in table","body":"No data retrieved from mybatis as a result able to see the data in table"},{"owner":{"account_id":26978029,"reputation":6997,"user_id":20542862,"display_name":"Paul W"},"score":0,"creation_date":1696346162,"post_id":77220113,"comment_id":136139405,"body_markdown":"You should look at `v$sql`, find your query, and see whether it is correct. When getting Oracle errors or incorrect data, it&#39;s important to see the actual SQL that was submitted to the database layer rather than how it&#39;s coded in the front-end. What if it&#39;s stripping the `&amp;lt;` out? You don&#39;t know until you verify.","body":"You should look at <code>v$sql</code>, find your query, and see whether it is correct. When getting Oracle errors or incorrect data, it&#39;s important to see the actual SQL that was submitted to the database layer rather than how it&#39;s coded in the front-end. What if it&#39;s stripping the <code>&amp;lt;</code> out? You don&#39;t know until you verify."},{"owner":{"account_id":4830465,"reputation":207,"user_id":3898783,"accept_rate":50,"display_name":"user3898783"},"score":0,"creation_date":1696348336,"post_id":77220113,"comment_id":136139902,"body_markdown":"Able to get the result by executing generated sql query of MyBatis in oracle where as mybatis returns result as no data","body":"Able to get the result by executing generated sql query of MyBatis in oracle where as mybatis returns result as no data"}],"owner":{"account_id":4830465,"reputation":207,"user_id":3898783,"accept_rate":50,"display_name":"user3898783"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696348209,"creation_date":1696314792,"question_id":77220113,"body_markdown":"No rowing returning while checking reqstatus is null in where clause using mybatis plus\r\n\r\n```xml\r\n&lt;select id=&quot;fetchrow&quot; resultMap=&quot;BaseResultMap&quot;&gt;\r\n    SELECT * FROM USERS \r\n    &lt;where&gt;\r\n    reqstatus IS NULL\r\n    AND reqFlag IS NULL\r\n    AND rownum &amp;lt;= 3\r\n    FOR UPDATE SKIP LOCKED\r\n    &lt;/where&gt;\r\n&lt;select&gt; \r\n```\r\n\r\nMyBatis generated query is working in SQL Developer and returning data where as MyBatis Plus returns no rows.\r\n\r\n```none\r\nID  NAME     ReqStatus Reqflag\r\n12  sandhya   (null)    (null)\r\n13  custre    (null)    (null)\r\n14  ewrd      s          t\r\n```\r\n\r\nThe above is the table data","title":"Mybatis plus returning no rows when IS NULL check included in where clause","body":"<p>No rowing returning while checking reqstatus is null in where clause using mybatis plus</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;select id=&quot;fetchrow&quot; resultMap=&quot;BaseResultMap&quot;&gt;\n    SELECT * FROM USERS \n    &lt;where&gt;\n    reqstatus IS NULL\n    AND reqFlag IS NULL\n    AND rownum &amp;lt;= 3\n    FOR UPDATE SKIP LOCKED\n    &lt;/where&gt;\n&lt;select&gt; \n</code></pre>\n<p>MyBatis generated query is working in SQL Developer and returning data where as MyBatis Plus returns no rows.</p>\n<pre class=\"lang-none prettyprint-override\"><code>ID  NAME     ReqStatus Reqflag\n12  sandhya   (null)    (null)\n13  custre    (null)    (null)\n14  ewrd      s          t\n</code></pre>\n<p>The above is the table data</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9860,"page":145,"page_size":100}
